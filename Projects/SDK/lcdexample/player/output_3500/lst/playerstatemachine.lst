TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page   1
C:\STMP3XXX_SDK_FIRMWARE_320_finalfix\Projects\SDK\lcdexample\player\make\ccfc463b.src
M:ADDR CODE           CYCLES LINE SOURCELINE
                                1 ; TASKING DSP2410 C compiler v1.5r1 Build 208 SN 00100122
                                2 ; options: -OG -si -DPLAYER -DALL -DD3500 -DMMC -DLIION -DPL3_FB
                                3 ;          -DSTMP_BUILD_PLAYER -DPLAYER_BUILD -DPLAYER -DSTFM1000_LCD
                                4 ;          -DFULL_PLAYER_KERNEL -DDCDC_POWER_TRANSFER -DBACKLIGHT
                                5 ;          -DWMAAPI_NO_DRM -DREVB_ENGR_BD -DSED15XX_LCD -DSYNC_LYRICS
                                6 ;          -DTUNER_STFM1000 -DFM_EUROPE_REGION -DSD_USE_100KHZ_TUNING_GRID
                                7 ;          -DNEWSHINGYIH -DREAL_I2S_DATA -DFUNCLET
                                8 ;          -DMEDIA_DDI_COUNT_HIDDEN_SYSTEM_BLOCKS -DFMTUNER -DMP3_ENCODE
                                9 ;          -DCHKDSK -DFAT16 -DDEBUG -DDEVICE_3500 -DSDK2400 -DENGR_BD
                               10 ;          -DUSE_PLAYLIST3 -DBATTERY_TYPE_LI_ION -DBATTERY_CHARGE -w68 -w66
                               11 ;          -I..\output_3500\include
                               12 ;          -I..\..\..\..\..\Projects\sdk\lcdexample\Player
                               13 ;          -I..\..\..\..\..\Projects\sdk\lcdexample\Player\Menus -I..\..
                               14 ;          -I..\..\..\..\..\inc -I..\..\..\..\..\System\Common
                               15 ;          -I..\..\..\..\..\System\Common\symbols
                               16 ;          -I..\..\..\..\..\Projects\sdk\lcdexample\Player\Display
                               17 ;          -I..\..\..\..\..\Algorithms\DRM\janus\src\h
                               18 ;          -I..\..\..\..\..\FileSystem\Fat32\h
                               19 ;          -I..\..\..\..\..\FileSystem\Fat32\cmp\cmp_stdtype
                               20 ;          -I..\..\..\..\..\FileSystem\Fat32\cmp\cmp_debug
                               21 ;          -I..\..\..\..\..\FileSystem\Fat32\cmp\cmp_file_system
                               22 ;          -I..\..\..\..\..\DeviceDriver\Media\cmp\cmp_media_nand -I -I
                               23 ;          -I..\..\..\..\..\system\common\resourcemanager -I..\..\..\..\..\inc
                               24 ;          -I..\..\..\..\..\devicedriver\media\MediaTypeNAND\include
                               25 ;          -I..\..\..\..\..\devicedriver\media\MediaTypeNAND\DDI\DataDrive\include
                               26 ;          -I..\..\..\..\..\devicedriver\media\MediaTypeNAND\DDI\include
                               27 ;          -I..\..\..\..\..\devicedriver\media\MediaTypeNAND\HAL\include
                               28 ;          -I..\..\..\..\..\devicedriver\media\MediaTypeNAND\DDI\DataDrive
                               29 ;          -I..\..\..\..\..\devicedriver\media\ddildl\include
                               30 ;          -I..\..\..\..\..\FileSystem\Fat32\h
                               31 ;          -I..\..\..\..\..\FileSystem\Fat32\cmp\cmp_stdtype
                               32 ;          -I..\..\..\..\..\FileSystem\Fat32\cmp\cmp_debug
                               33 ;          -I..\..\..\..\..\FileSystem\Fat32\cmp\cmp_file_system
                               34 ;          -I..\..\..\..\..\DeviceDriver\Media\cmp\cmp_media_nand
                               35 ;          -I..\..\..\..\..\devicedriver\media\MediaTypeNAND\include
                               36 ;          -I..\..\..\..\..\devicedriver\media\MediaTypeNAND\DDI\Common\include
                               37 ;          -I..\..\..\..\..\devicedriver\media\MediaTypeNAND\DDI\include
                               38 ;          -I..\..\..\..\..\devicedriver\media\MediaTypeNAND\HAL\include
                               39 ;          -I..\..\..\..\..\devicedriver\media\MediaTypeNAND\DDI\Common
                               40 ;          -I..\..\..\..\..\devicedriver\media\MediaTypeNAND\include
                               41 ;          -I..\..\..\..\..\devicedriver\media\MediaTypeNAND\DDI\SystemDrive\include
                               42 ;          -I..\..\..\..\..\devicedriver\media\MediaTypeNAND\DDI\include
                               43 ;          -I..\..\..\..\..\devicedriver\media\MediaTypeNAND\HAL\include
                               44 ;          -I..\..\..\..\..\devicedriver\media\MediaTypeNAND\DDI\SystemDrive
                               45 ;          -I..\..\..\..\..\devicedriver\media\MediaTypeNAND\include
                               46 ;          -I..\..\..\..\..\devicedriver\media\MediaTypeNAND\DDI\Media\include
                               47 ;          -I..\..\..\..\..\devicedriver\media\MediaTypeNAND\DDI\include
                               48 ;          -I..\..\..\..\..\devicedriver\media\MediaTypeNAND\HAL\include
                               49 ;          -I..\..\..\..\..\devicedriver\media\MediaTypeNAND\DDI\Media
                               50 ;          -I..\..\..\..\..\devicedriver\media\include
                               51 ;          -I..\..\..\..\..\devicedriver\media\ddildl
                               52 ;          -I..\..\..\..\..\devicedriver\media\ddildl\include
                               53 ;          -I..\..\..\..\..\devicedriver\media\MediaTypeNAND\DDI\Common\include
                               54 ;          -I..\..\..\..\..\devicedriver\media\MediaTypeNAND\DDI\include
                               55 ;          -I..\..\..\..\..\DeviceDriver\Media\MediaTypeNAND\HAL
                               56 ;          -I..\..\..\..\..\DeviceDriver\Media\MediaTypeNAND\HAL\include
                               57 ;          -I..\..\..\..\..\DeviceDriver\Media\include
                               58 ;          -I..\..\..\..\..\DeviceDriver\Media\PortHIL\GPFlash\include
                               59 ;          -I..\..\..\..\..\DeviceDriver\Media\PortHIL\GPFlash
                               60 ;          -I..\..\..\..\..\devicedriver\media\ddildl
                               61 ;          -I..\..\..\..\..\devicedriver\media\ddildl\include
                               62 ;          -I..\..\..\..\..\libsource\sysserialnumber
                               63 ;          -I..\..\..\..\..\devicedriver\media\MediaTypeMMC\DDI\include
                               64 ;          -I..\..\..\..\..\devicedriver\media\ddildl\include
                               65 ;          -I..\..\..\..\..\devicedriver\media\MediaTypeMMC\DDI\include
                               66 ;          -I..\..\..\..\..\devicedriver\media\MediaTypeMMC\DDI\Media
                               67 ;          -I..\..\..\..\..\devicedriver\media\MediaTypeMMC\HAL\include
                               68 ;          -I..\..\..\..\..\FileSystem\Fat32\h
                               69 ;          -I..\..\..\..\..\FileSystem\Fat32\cmp\cmp_stdtype
                               70 ;          -I..\..\..\..\..\FileSystem\Fat32\cmp\cmp_debug
                               71 ;          -I..\..\..\..\..\FileSystem\Fat32\cmp\cmp_file_system
                               72 ;          -I..\..\..\..\..\DeviceDriver\Media\cmp\cmp_media_nand
                               73 ;          -I..\..\..\..\..\DeviceDriver\Media\MediaTypeNAND\HAL\include
                               74 ;          -I..\..\..\..\..\System\MsgModules\Software\Effects\srswow
                               75 ;          -I..\..\..\..\..\System\Common\rtcaccess
                               76 ;          -I..\..\..\..\..\System\Common\playlist3
                               77 ;          -I..\..\..\..\..\System\Common\record
                               78 ;          -I..\..\..\..\..\System\Common\mp3filename
                               79 ;          -I..\..\..\..\..\FileSystem\chkdsk\include
                               80 ;          -I..\..\..\..\..\FileSystem\Fat32\h -DFULL_PLAYER_KERNEL
                               81 ;          -DSYNC_LYRICS -DMP3_ENCODE -DBATTERY_TYPE_LI_ION -Dk_opt_single_fat
                               82 ;          -DPL3_FB -g -O2 -R -Cs -DMS_ADPCM -DIMA_ADPCM -DWINDOWS_PCM
                               83 ;          -I..\..\..\..\..\System\MsgModules\Software\musiclib\ghdr
                               84 ;          -I..\..\..\..\..\devicedriver\display
                               85 ;          -I..\..\..\..\..\System\MsgModules\Hardware\Display -MmyL
                               86 
                               94 
                               95 ;playerstatemach:
                               96 ; 1    |////////////////////////////////////////////////////////////////////////////////
                               97 ; 2    |// Copyright(C) SigmaTel, Inc. 2000-2004
                               98 ; 3    |// Reviews      : DanhNguyen (06-2008)
                               99 ; 4    |// File         : playerstatemachine.c (LCD)
                              100 ; 5    |// Description : Code bank that handles common system functions based on button
                              101 ; 6    |//               presses or messages. Display functions are not handled here.
                              102 ; 7    |////////////////////////////////////////////////////////////////////////////////
                              103 ; 8    |#include "types.h"
                              104 
                              106 
                              107 ; 1    |////////////////////////////////////////////////////////////////////////////////
                              108 ; 2    |// Copyright(C) SigmaTel, Inc. 2000-2004
                              109 ; 3    |//
                              110 ; 4    |// Filename: types.h
                              111 ; 5    |// Description: Standard data types
                              112 ; 6    |////////////////////////////////////////////////////////////////////////////////
                              113 ; 7    |
                              114 ; 8    |#ifndef _TYPES_H
                              115 ; 9    |#define _TYPES_H
                              116 ; 10   |
                              117 ; 11   |// TODO:  move this outta here!
                              118 ; 12   |#if !defined(NOERROR)
                              119 ; 13   |#define NOERROR 0
                              120 ; 14   |#define SUCCESS 0
                              121 ; 15   |#endif 
                              122 ; 16   |#if !defined(SUCCESS)
                              123 ; 17   |#define SUCCESS  0
                              124 ; 18   |#endif
                              125 ; 19   |#if !defined(ERROR)
                              126 ; 20   |#define ERROR   -1
                              127 ; 21   |#endif
                              128 ; 22   |#if !defined(FALSE)
                              129 ; 23   |#define FALSE 0
                              130 ; 24   |#endif
                              131 ; 25   |#if !defined(TRUE)
                              132 ; 26   |#define TRUE  1
                              133 ; 27   |#endif
                              134 ; 28   |
                              135 ; 29   |#if !defined(NULL)
                              136 ; 30   |#define NULL 0
                              137 ; 31   |#endif
                              138 ; 32   |
                              139 ; 33   |#define MAX_INT     0x7FFFFF
                              140 ; 34   |#define MAX_LONG    0x7FFFFFffffff
                              141 ; 35   |        // max positive unsigned long value: -1 == 0xFFFFFFffffff
                              142 ; 36   |#define MAX_ULONG   (-1) 
                              143 ; 37   |
                              144 ; 38   |#define WORD_SIZE   24              // word size in bits
                              145 ; 39   |#define BYTES_PER_WORD 3            // 8 bit bytes
                              146 ; 40   |
                              147 ; 41   |
                              148 ; 42   |#define BYTE    unsigned char       // btVarName
                              149 ; 43   |#define CHAR    signed char         // cVarName
                              150 ; 44   |#define USHORT  unsigned short      // usVarName
                              151 ; 45   |#define SHORT   unsigned short      // sVarName
                              152 ; 46   |#define WORD    unsigned int        // wVarName
                              153 ; 47   |#define INT     signed int          // iVarName
                              154 ; 48   |#define DWORD   unsigned long       // dwVarName
                              155 ; 49   |#define LONG    signed long         // lVarName
                              156 ; 50   |#define BOOL    unsigned int        // bVarName
                              157 ; 51   |#define FRACT   _fract              // frVarName
                              158 ; 52   |#define LFRACT  long _fract         // lfrVarName
                              159 ; 53   |#define CIRC    _circ               // cp<type prefix>VarName (see below)
                              160 ; 54   |#define FLOAT   float               // fVarName
                              161 ; 55   |#define DBL     double              // dVarName
                              162 ; 56   |#define ENUM    enum                // eVarName
                              163 ; 57   |#define CMX     _complex            // cmxVarName
                              164 ; 58   |typedef WORD UCS3;                   // 
                              165 ; 59   |
                              166 ; 60   |#define UINT16  unsigned short
                              167 ; 61   |#define UINT8   unsigned char   
                              168 ; 62   |#define UINT32  unsigned long
                              169 ; 63   |#define UINT64  unsigned long   // need to figure out how to do 64 bit values.  Or port exisiting code to only use 48 bit
                              170 ; 64   |#define INT64   unsigned long   // need to figure out how to do 64 bit values.  Or port exisiting code to only use 48 bit
                              171 ; 65   |#define WCHAR   UINT16
                              172 ; 66   |
                              173 ; 67   |//UINT128 is 16 bytes or 6 words
                              174 ; 68   |typedef struct UINT128_3500 {   
                              175 ; 69   |    int val[6];     
                              176 ; 70   |} UINT128_3500;
                              177 ; 71   |
                              178 ; 72   |#define UINT128   UINT128_3500
                              179 ; 73   |
                              180 ; 74   |// Little endian word packed byte strings:   
                              181 ; 75   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                              182 ; 76   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                              183 ; 77   |// Little endian word packed byte strings:   
                              184 ; 78   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                              185 ; 79   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                              186 ; 80   |
                              187 ; 81   |// Declare Memory Spaces To Use When Coding
                              188 ; 82   |// A. Sector Buffers
                              189 ; 83   |#define SECTOR_BUFFER_MEM_X _X
                              190 ; 84   |#define SECTOR_BUFFER_MEM_Y _Y
                              191 ; 85   |#define SECTOR_BUFFER_MEM SECTOR_BUFFER_MEM_X
                              192 ; 86   |typedef WORD SECTOR_BUFFER_MEM SECTOR_BUFFER;
                              193 
                              195 
                              196 ; 87   |typedef SECTOR_BUFFER * P_SECTOR_BUFFER;
                              197 ; 88   |// B. Media DDI Memory
                              198 ; 89   |#define MEDIA_DDI_MEM _Y
                              199 ; 90   |
                              200 ; 91   |
                              201 ; 92   |
                              202 ; 93   |// Pointers to linear structures are labeled as: p<type prefix>VarName
                              203 ; 94   |// Examples of circular pointers:
                              204 ; 95   |//    INT CIRC cpiVarName
                              205 ; 96   |//    DWORD CIRC cpdwVarName
                              206 ; 97   |
                              207 ; 98   |#define RETCODE INT                 // rcVarName
                              208 ; 99   |
                              209 ; 100  |// generic bitfield structure
                              210 ; 101  |struct Bitfield {
                              211 ; 102  |    unsigned int B0  :1;
                              212 ; 103  |    unsigned int B1  :1;
                              213 ; 104  |    unsigned int B2  :1;
                              214 ; 105  |    unsigned int B3  :1;
                              215 ; 106  |    unsigned int B4  :1;
                              216 ; 107  |    unsigned int B5  :1;
                              217 ; 108  |    unsigned int B6  :1;
                              218 ; 109  |    unsigned int B7  :1;
                              219 ; 110  |    unsigned int B8  :1;
                              220 ; 111  |    unsigned int B9  :1;
                              221 ; 112  |    unsigned int B10 :1;
                              222 ; 113  |    unsigned int B11 :1;
                              223 ; 114  |    unsigned int B12 :1;
                              224 ; 115  |    unsigned int B13 :1;
                              225 ; 116  |    unsigned int B14 :1;
                              226 ; 117  |    unsigned int B15 :1;
                              227 ; 118  |    unsigned int B16 :1;
                              228 ; 119  |    unsigned int B17 :1;
                              229 ; 120  |    unsigned int B18 :1;
                              230 ; 121  |    unsigned int B19 :1;
                              231 ; 122  |    unsigned int B20 :1;
                              232 ; 123  |    unsigned int B21 :1;
                              233 ; 124  |    unsigned int B22 :1;
                              234 ; 125  |    unsigned int B23 :1;
                              235 ; 126  |};
                              236 ; 127  |
                              237 ; 128  |union BitInt {
                              238 ; 129  |        struct Bitfield B;
                              239 ; 130  |        int        I;
                              240 ; 131  |};
                              241 ; 132  |
                              242 ; 133  |#define MAX_MSG_LENGTH 10
                              243 ; 134  |struct CMessage
                              244 ; 135  |{
                              245 ; 136  |        unsigned int m_uLength;
                              246 ; 137  |        unsigned int m_uMsg[MAX_MSG_LENGTH];
                              247 ; 138  |};
                              248 ; 139  |
                              249 ; 140  |typedef struct {
                              250 ; 141  |    WORD m_wLength;
                              251 ; 142  |    WORD m_wMessage;
                              252 ; 143  |    WORD m_wParams[MAX_MSG_LENGTH];
                              253 ; 144  |} Message;
                              254 ; 145  |
                              255 ; 146  |struct MessageQueueDescriptor
                              256 ; 147  |{
                              257 ; 148  |        int *m_pBase;
                              258 ; 149  |        int m_iModulo;
                              259 ; 150  |        int m_iSize;
                              260 ; 151  |        int *m_pHead;
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page   2

M:ADDR CODE           CYCLES LINE SOURCELINE
                              261 ; 152  |        int *m_pTail;
                              262 ; 153  |};
                              263 ; 154  |
                              264 ; 155  |struct ModuleEntry
                              265 ; 156  |{
                              266 ; 157  |    int m_iSignaledEventMask;
                              267 ; 158  |    int m_iWaitEventMask;
                              268 ; 159  |    int m_iResourceOfCode;
                              269 ; 160  |    struct MessageQueueDescriptor *m_pMessageQueue;
                              270 ; 161  |    int _asmfunc (*m_pProcessEntryPoint)(union WaitMask Signals,struct MessageQueueDescriptor *);
                              271 ; 162  |    int _asmfunc (*m_pInitFunction)(struct MessageQueueDescriptor *);
                              272 ; 163  |    int m_uTimeOutHigh;
                              273 ; 164  |    int m_uTimeOutLow;
                              274 ; 165  |    int _asmfunc (*m_pBackgroundFunction)(struct MessageQueueDescriptor *);
                              275 ; 166  |};
                              276 ; 167  |
                              277 ; 168  |union WaitMask{
                              278 ; 169  |    struct B{
                              279 ; 170  |        unsigned int m_bNone     :1;
                              280 ; 171  |        unsigned int m_bMessage  :1;
                              281 ; 172  |        unsigned int m_bTimer    :1;
                              282 ; 173  |        unsigned int m_bButton   :1;
                              283 ; 174  |    } B;
                              284 ; 175  |    int I;
                              285 ; 176  |} ;
                              286 ; 177  |
                              287 ; 178  |
                              288 ; 179  |struct Button {
                              289 ; 180  |        WORD wButtonEvent;
                              290 ; 181  |        WORD wUnused[MAX_MSG_LENGTH];   
                              291 ; 182  |};
                              292 ; 183  |
                              293 ; 184  |struct Message {
                              294 ; 185  |        WORD wMsgLength;
                              295 ; 186  |        WORD wMsgCommand;
                              296 ; 187  |        WORD wMsgParms[MAX_MSG_LENGTH-1];
                              297 ; 188  |};
                              298 ; 189  |
                              299 ; 190  |union EventTypes {
                              300 ; 191  |        struct CMessage msg;
                              301 ; 192  |        struct Button Button ;
                              302 ; 193  |        struct Message Message;
                              303 ; 194  |};
                              304 ; 195  |
                              305 ; 196  |// next 2 used to get updater build to return correct protocol ver in scsi response.
                              306 ; 197  |#define BUILD_TYPE_UPDATER  0x100
                              307 ; 198  |#define BUILD_TYPE_HOSTLINK 0x101
                              308 ; 199  |#define BUILD_TYPE_PLAYER   0x102
                              309 ; 200  |
                              310 ; 201  |// Resets part if RETAIL build. DEBUG build executes debug instruction to halt.
                              311 ; 202  |#define SystemHalt() __asm(" include 'sysmacro.asm' \n error") 
                              312 ; 203  |#define assert(x)    if(!(x)) __asm(" include 'sysmacro.asm' \n error")
                              313 ; 204  |
                              314 ; 205  |#if DEBUG
                              315 ; 206  |// For DEBUG builds, DebugBuildAssert(condition) halts if condition evaluates to FALSE. 
                              316 ; 207  |#define DebugBuildAssert(x)    if(!(x)) __asm(" debug ")
                              317 ; 208  |#else 
                              318 ; 209  |// For RETAIL builds, DebugBuildAssert(condition) does nothing & execution continues rather than halt or reset. 
                              319 ; 210  |#define DebugBuildAssert(x)    
                              320 ; 211  |#endif
                              321 ; 212  |
                              322 ; 213  |// Do this in your C files to make a reminder that's displayed during the build.
                              323 ; 214  |//  #pragma asm
                              324 ; 215  |//  WARN 'Note to builder: reminder to do this after verifying that'
                              325 ; 216  |//  #pragma endasm
                              326 ; 217  |
                              327 ; 218  |
                              328 ; 219  |#ifdef COLOR_262K
                              329 ; 220  |#define RGB(r,g,b)    ((0x0000FC & (r)) << 10) | ((0x0000FC & (g)) << 4) | ((0x0000FC & (b)) >> 2)    //262k
                              330 ; 221  |#elif defined(COLOR_65K)
                              331 ; 222  |#define RGB(r,g,b)    ((0x0000F8 & (r)) << 8) | ((0x0000FC & (g)) << 3) | ((0x0000F8 & (b)) >> 3)  //65k
                              332 ; 223  |#else
                              333 ; 224  |#define RGB(r,g,b)       ((0x0000F0 & (r)) << 4) | (0x0000F0 & (g)) | ((0x0000F0 & (b)) >> 4)
                              334 ; 225  |#endif
                              335 ; 226  |    
                              336 ; 227  |#endif // #ifndef _TYPES_H
                              337 
                              339 
                              340 ; 9    |#include "project.h"
                              341 
                              343 
                              344 ; 1    |/////////////////////////////////////////////////////////////////////////////////
                              345 ; 2    |//  Copyright(C) SigmaTel, Inc. 2000-2004
                              346 ; 3    |//  Filename: project.inc
                              347 ; 4    |//  Description: 
                              348 ; 5    |/////////////////////////////////////////////////////////////////////////////////
                              349 ; 6    |
                              350 ; 7    |#if (!defined(_PROJECT_INC))
                              351 ; 8    |#define _PROJECT_INC 1
                              352 ; 9    |
                              353 ; 10   |#if defined(STMP_BUILD_PLAYER)
                              354 ; 11   |#include "hwequ.h"
                              355 
                              357 
                              358 ; 1    |/////////////////////////////////////////////////////////////////////////////////
                              359 ; 2    |//  Copyright(C) SigmaTel, Inc. 2000-2001
                              360 ; 3    |//  File        : hwequ.inc
                              361 ; 4    |//  Description : STMP Hardware Constants
                              362 ; 5    |/////////////////////////////////////////////////////////////////////////////////
                              363 ; 6    |
                              364 ; 7    |// ////////////////////////////////////////////////////////////////////////////////
                              365 ; 8    |// hwequ is being eliminated for SDK3XXX.  For SDK2.5XX it will now reside in the   
                              366 ; 9    |// local folder instead of ..\inc.  All register includes are converted to .h by 
                              367 ; 10   |// registers.mk placed in the ..\lcdexample\player\output_XXXX folder.
                              368 ; 11   |// ////////////////////////////////////////////////////////////////////////////////
                              369 ; 12   |
                              370 ; 13   |#if (!defined(HWEQU_INC))
                              371 ; 14   |#define HWEQU_INC 1
                              372 ; 15   |
                              373 ; 16   |#include "types.h"
                              374 
                              376 
                              377 ; 1    |////////////////////////////////////////////////////////////////////////////////
                              378 ; 2    |// Copyright(C) SigmaTel, Inc. 2000-2004
                              379 ; 3    |//
                              380 ; 4    |// Filename: types.h
                              381 ; 5    |// Description: Standard data types
                              382 ; 6    |////////////////////////////////////////////////////////////////////////////////
                              383 ; 7    |
                              384 ; 8    |#ifndef _TYPES_H
                              385 ; 9    |#define _TYPES_H
                              386 ; 10   |
                              387 ; 11   |// TODO:  move this outta here!
                              388 ; 12   |#if !defined(NOERROR)
                              389 ; 13   |#define NOERROR 0
                              390 ; 14   |#define SUCCESS 0
                              391 ; 15   |#endif 
                              392 ; 16   |#if !defined(SUCCESS)
                              393 ; 17   |#define SUCCESS  0
                              394 ; 18   |#endif
                              395 ; 19   |#if !defined(ERROR)
                              396 ; 20   |#define ERROR   -1
                              397 ; 21   |#endif
                              398 ; 22   |#if !defined(FALSE)
                              399 ; 23   |#define FALSE 0
                              400 ; 24   |#endif
                              401 ; 25   |#if !defined(TRUE)
                              402 ; 26   |#define TRUE  1
                              403 ; 27   |#endif
                              404 ; 28   |
                              405 ; 29   |#if !defined(NULL)
                              406 ; 30   |#define NULL 0
                              407 ; 31   |#endif
                              408 ; 32   |
                              409 ; 33   |#define MAX_INT     0x7FFFFF
                              410 ; 34   |#define MAX_LONG    0x7FFFFFffffff
                              411 ; 35   |        // max positive unsigned long value: -1 == 0xFFFFFFffffff
                              412 ; 36   |#define MAX_ULONG   (-1) 
                              413 ; 37   |
                              414 ; 38   |#define WORD_SIZE   24              // word size in bits
                              415 ; 39   |#define BYTES_PER_WORD 3            // 8 bit bytes
                              416 ; 40   |
                              417 ; 41   |
                              418 ; 42   |#define BYTE    unsigned char       // btVarName
                              419 ; 43   |#define CHAR    signed char         // cVarName
                              420 ; 44   |#define USHORT  unsigned short      // usVarName
                              421 ; 45   |#define SHORT   unsigned short      // sVarName
                              422 ; 46   |#define WORD    unsigned int        // wVarName
                              423 ; 47   |#define INT     signed int          // iVarName
                              424 ; 48   |#define DWORD   unsigned long       // dwVarName
                              425 ; 49   |#define LONG    signed long         // lVarName
                              426 ; 50   |#define BOOL    unsigned int        // bVarName
                              427 ; 51   |#define FRACT   _fract              // frVarName
                              428 ; 52   |#define LFRACT  long _fract         // lfrVarName
                              429 ; 53   |#define CIRC    _circ               // cp<type prefix>VarName (see below)
                              430 ; 54   |#define FLOAT   float               // fVarName
                              431 ; 55   |#define DBL     double              // dVarName
                              432 ; 56   |#define ENUM    enum                // eVarName
                              433 ; 57   |#define CMX     _complex            // cmxVarName
                              434 ; 58   |typedef WORD UCS3;                   // 
                              435 ; 59   |
                              436 ; 60   |#define UINT16  unsigned short
                              437 ; 61   |#define UINT8   unsigned char   
                              438 ; 62   |#define UINT32  unsigned long
                              439 ; 63   |#define UINT64  unsigned long   // need to figure out how to do 64 bit values.  Or port exisiting code to only use 48 bit
                              440 ; 64   |#define INT64   unsigned long   // need to figure out how to do 64 bit values.  Or port exisiting code to only use 48 bit
                              441 ; 65   |#define WCHAR   UINT16
                              442 ; 66   |
                              443 ; 67   |//UINT128 is 16 bytes or 6 words
                              444 ; 68   |typedef struct UINT128_3500 {   
                              445 ; 69   |    int val[6];     
                              446 ; 70   |} UINT128_3500;
                              447 ; 71   |
                              448 ; 72   |#define UINT128   UINT128_3500
                              449 ; 73   |
                              450 ; 74   |// Little endian word packed byte strings:   
                              451 ; 75   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                              452 ; 76   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                              453 ; 77   |// Little endian word packed byte strings:   
                              454 ; 78   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                              455 ; 79   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                              456 ; 80   |
                              457 ; 81   |// Declare Memory Spaces To Use When Coding
                              458 ; 82   |// A. Sector Buffers
                              459 ; 83   |#define SECTOR_BUFFER_MEM_X _X
                              460 ; 84   |#define SECTOR_BUFFER_MEM_Y _Y
                              461 ; 85   |#define SECTOR_BUFFER_MEM SECTOR_BUFFER_MEM_X
                              462 ; 86   |typedef WORD SECTOR_BUFFER_MEM SECTOR_BUFFER;
                              463 ; 87   |typedef SECTOR_BUFFER * P_SECTOR_BUFFER;
                              464 ; 88   |// B. Media DDI Memory
                              465 ; 89   |#define MEDIA_DDI_MEM _Y
                              466 ; 90   |
                              467 ; 91   |
                              468 ; 92   |
                              469 ; 93   |// Pointers to linear structures are labeled as: p<type prefix>VarName
                              470 ; 94   |// Examples of circular pointers:
                              471 ; 95   |//    INT CIRC cpiVarName
                              472 ; 96   |//    DWORD CIRC cpdwVarName
                              473 ; 97   |
                              474 ; 98   |#define RETCODE INT                 // rcVarName
                              475 ; 99   |
                              476 ; 100  |// generic bitfield structure
                              477 ; 101  |struct Bitfield {
                              478 ; 102  |    unsigned int B0  :1;
                              479 ; 103  |    unsigned int B1  :1;
                              480 ; 104  |    unsigned int B2  :1;
                              481 ; 105  |    unsigned int B3  :1;
                              482 ; 106  |    unsigned int B4  :1;
                              483 ; 107  |    unsigned int B5  :1;
                              484 ; 108  |    unsigned int B6  :1;
                              485 ; 109  |    unsigned int B7  :1;
                              486 ; 110  |    unsigned int B8  :1;
                              487 ; 111  |    unsigned int B9  :1;
                              488 ; 112  |    unsigned int B10 :1;
                              489 ; 113  |    unsigned int B11 :1;
                              490 ; 114  |    unsigned int B12 :1;
                              491 ; 115  |    unsigned int B13 :1;
                              492 ; 116  |    unsigned int B14 :1;
                              493 ; 117  |    unsigned int B15 :1;
                              494 ; 118  |    unsigned int B16 :1;
                              495 ; 119  |    unsigned int B17 :1;
                              496 ; 120  |    unsigned int B18 :1;
                              497 ; 121  |    unsigned int B19 :1;
                              498 ; 122  |    unsigned int B20 :1;
                              499 ; 123  |    unsigned int B21 :1;
                              500 ; 124  |    unsigned int B22 :1;
                              501 ; 125  |    unsigned int B23 :1;
                              502 ; 126  |};
                              503 ; 127  |
                              504 ; 128  |union BitInt {
                              505 ; 129  |        struct Bitfield B;
                              506 ; 130  |        int        I;
                              507 ; 131  |};
                              508 ; 132  |
                              509 ; 133  |#define MAX_MSG_LENGTH 10
                              510 ; 134  |struct CMessage
                              511 ; 135  |{
                              512 ; 136  |        unsigned int m_uLength;
                              513 ; 137  |        unsigned int m_uMsg[MAX_MSG_LENGTH];
                              514 ; 138  |};
                              515 ; 139  |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page   3

M:ADDR CODE           CYCLES LINE SOURCELINE
                              516 ; 140  |typedef struct {
                              517 ; 141  |    WORD m_wLength;
                              518 ; 142  |    WORD m_wMessage;
                              519 ; 143  |    WORD m_wParams[MAX_MSG_LENGTH];
                              520 ; 144  |} Message;
                              521 ; 145  |
                              522 ; 146  |struct MessageQueueDescriptor
                              523 ; 147  |{
                              524 ; 148  |        int *m_pBase;
                              525 ; 149  |        int m_iModulo;
                              526 ; 150  |        int m_iSize;
                              527 ; 151  |        int *m_pHead;
                              528 ; 152  |        int *m_pTail;
                              529 ; 153  |};
                              530 ; 154  |
                              531 ; 155  |struct ModuleEntry
                              532 ; 156  |{
                              533 ; 157  |    int m_iSignaledEventMask;
                              534 ; 158  |    int m_iWaitEventMask;
                              535 ; 159  |    int m_iResourceOfCode;
                              536 ; 160  |    struct MessageQueueDescriptor *m_pMessageQueue;
                              537 ; 161  |    int _asmfunc (*m_pProcessEntryPoint)(union WaitMask Signals,struct MessageQueueDescriptor *);
                              538 ; 162  |    int _asmfunc (*m_pInitFunction)(struct MessageQueueDescriptor *);
                              539 ; 163  |    int m_uTimeOutHigh;
                              540 ; 164  |    int m_uTimeOutLow;
                              541 ; 165  |    int _asmfunc (*m_pBackgroundFunction)(struct MessageQueueDescriptor *);
                              542 ; 166  |};
                              543 ; 167  |
                              544 ; 168  |union WaitMask{
                              545 ; 169  |    struct B{
                              546 ; 170  |        unsigned int m_bNone     :1;
                              547 ; 171  |        unsigned int m_bMessage  :1;
                              548 ; 172  |        unsigned int m_bTimer    :1;
                              549 ; 173  |        unsigned int m_bButton   :1;
                              550 ; 174  |    } B;
                              551 ; 175  |    int I;
                              552 ; 176  |} ;
                              553 ; 177  |
                              554 ; 178  |
                              555 ; 179  |struct Button {
                              556 ; 180  |        WORD wButtonEvent;
                              557 ; 181  |        WORD wUnused[MAX_MSG_LENGTH];   
                              558 ; 182  |};
                              559 ; 183  |
                              560 ; 184  |struct Message {
                              561 ; 185  |        WORD wMsgLength;
                              562 ; 186  |        WORD wMsgCommand;
                              563 ; 187  |        WORD wMsgParms[MAX_MSG_LENGTH-1];
                              564 ; 188  |};
                              565 ; 189  |
                              566 ; 190  |union EventTypes {
                              567 ; 191  |        struct CMessage msg;
                              568 ; 192  |        struct Button Button ;
                              569 ; 193  |        struct Message Message;
                              570 ; 194  |};
                              571 ; 195  |
                              572 ; 196  |// next 2 used to get updater build to return correct protocol ver in scsi response.
                              573 ; 197  |#define BUILD_TYPE_UPDATER  0x100
                              574 ; 198  |#define BUILD_TYPE_HOSTLINK 0x101
                              575 ; 199  |#define BUILD_TYPE_PLAYER   0x102
                              576 ; 200  |
                              577 ; 201  |// Resets part if RETAIL build. DEBUG build executes debug instruction to halt.
                              578 ; 202  |#define SystemHalt() __asm(" include 'sysmacro.asm' \n error") 
                              579 ; 203  |#define assert(x)    if(!(x)) __asm(" include 'sysmacro.asm' \n error")
                              580 ; 204  |
                              581 ; 205  |#if DEBUG
                              582 ; 206  |// For DEBUG builds, DebugBuildAssert(condition) halts if condition evaluates to FALSE. 
                              583 ; 207  |#define DebugBuildAssert(x)    if(!(x)) __asm(" debug ")
                              584 ; 208  |#else 
                              585 ; 209  |// For RETAIL builds, DebugBuildAssert(condition) does nothing & execution continues rather than halt or reset. 
                              586 ; 210  |#define DebugBuildAssert(x)    
                              587 ; 211  |#endif
                              588 ; 212  |
                              589 ; 213  |// Do this in your C files to make a reminder that's displayed during the build.
                              590 ; 214  |//  #pragma asm
                              591 ; 215  |//  WARN 'Note to builder: reminder to do this after verifying that'
                              592 ; 216  |//  #pragma endasm
                              593 ; 217  |
                              594 ; 218  |
                              595 ; 219  |#ifdef COLOR_262K
                              596 ; 220  |#define RGB(r,g,b)    ((0x0000FC & (r)) << 10) | ((0x0000FC & (g)) << 4) | ((0x0000FC & (b)) >> 2)    //262k
                              597 ; 221  |#elif defined(COLOR_65K)
                              598 ; 222  |#define RGB(r,g,b)    ((0x0000F8 & (r)) << 8) | ((0x0000FC & (g)) << 3) | ((0x0000F8 & (b)) >> 3)  //65k
                              599 ; 223  |#else
                              600 ; 224  |#define RGB(r,g,b)       ((0x0000F0 & (r)) << 4) | (0x0000F0 & (g)) | ((0x0000F0 & (b)) >> 4)
                              601 ; 225  |#endif
                              602 ; 226  |    
                              603 ; 227  |#endif // #ifndef _TYPES_H
                              604 
                              606 
                              607 ; 17   |#include "regsclkctrl.h"
                              608 
                              610 
                              611 ; 1    |#if !(defined(__REGS_CLK_CONTROL_INC))
                              612 ; 2    |#define __REGS_CLK_CONTROL_INC 1
                              613 ; 3    |
                              614 ; 4    |
                              615 ; 5    |/////////////////////////////////////////////////////////////////////////////////
                              616 ; 6    |//  Clock Control Register (HW_CCR) Bit Positions
                              617 ; 7    |#define HW_CCR_CKRST_BITPOS 0
                              618 ; 8    |#define HW_CCR_LTC_BITPOS 1
                              619 ; 9    |#define HW_CCR_PLLEN_BITPOS 2
                              620 ; 10   |#define HW_CCR_XTLEN_BITPOS 3
                              621 ; 11   |#define HW_CCR_PLL_SOURCE_SEL_BITPOS 4
                              622 ; 12   |#define HW_CCR_ADIV_B0_BITPOS 5
                              623 ; 13   |#define HW_CCR_ADIV_B1_BITPOS 6
                              624 ; 14   |#define HW_CCR_ADIV_B2_BITPOS 7
                              625 ; 15   |#define HW_CCR_CKSRC_BITPOS 8
                              626 ; 16   |#define HW_CCR_DDIV_BITPOS 9
                              627 ; 17   |#define HW_CCR_DDIV_B0_BITPOS 9
                              628 ; 18   |#define HW_CCR_DDIV_B1_BITPOS 10
                              629 ; 19   |#define HW_CCR_DDIV_B2_BITPOS 11
                              630 ; 20   |#define HW_CCR_PDIV_BITPOS 12
                              631 ; 21   |#define HW_CCR_PDIV_B0_BITPOS 12
                              632 ; 22   |#define HW_CCR_PDIV_B1_BITPOS 13
                              633 ; 23   |#define HW_CCR_PDIV_B2_BITPOS 14
                              634 ; 24   |#define HW_CCR_PDIV_B3_BITPOS 15
                              635 ; 25   |#define HW_CCR_PDIV_B4_BITPOS 16
                              636 ; 26   |#define HW_CCR_PWDN_BITPOS 17
                              637 ; 27   |#define HW_CCR_ACKEN_BITPOS 18
                              638 ; 28   |#define HW_CCR_LOCK_BITPOS 19
                              639 ; 29   |#define HW_CCR_DACDIV_BITPOS 20
                              640 ; 30   |#define HW_CCR_ADIV1_B0_BITPOS 20
                              641 ; 31   |#define HW_CCR_ADIV1_B1_BITPOS 21
                              642 ; 32   |#define HW_CCR_ADIV1_B2_BITPOS 22
                              643 ; 33   |#define HW_CCR_DDIV_MSB_BITPOS 23
                              644 ; 34   |
                              645 ; 35   |#define HW_CCR_CKRST_SETMASK 1<<HW_CCR_CKRST_BITPOS
                              646 ; 36   |#define HW_CCR_LTC_SETMASK 1<<HW_CCR_LTC_BITPOS
                              647 ; 37   |#define HW_CCR_PLLEN_SETMASK 1<<HW_CCR_PLLEN_BITPOS
                              648 ; 38   |#define HW_CCR_XTLEN_SETMASK 1<<HW_CCR_XTLEN_BITPOS
                              649 ; 39   |#define HW_CCR_ADCDIV_SETMASK 0x7<<HW_CCR_ADIV_B0_BITPOS
                              650 ; 40   |#define HW_CCR_CKSRC_SETMASK 1<<HW_CCR_CKSRC_BITPOS
                              651 ; 41   |#define HW_CCR_DDIV_SETMASK 0x7<<HW_CCR_DDIV_BITPOS
                              652 ; 42   |#define HW_CCR_PDIV_SETMASK 0x1F<<HW_CCR_PDIV_BITPOS
                              653 ; 43   |#define HW_CCR_PWDN_SETMASK 1<<HW_CCR_PWDN_BITPOS
                              654 ; 44   |#define HW_CCR_ACKEN_SETMASK 1<<HW_CCR_ACKEN_BITPOS
                              655 ; 45   |#define HW_CCR_LOCK_SETMASK 1<<HW_CCR_LOCK_BITPOS
                              656 ; 46   |#define HW_CCR_DACDIV_SETMASK 0x7<<HW_CCR_DACDIV_BITPOS
                              657 ; 47   |
                              658 ; 48   |#define HW_CCR_CKRST_CLRMASK ~(WORD)HW_CCR_CKRST_SETMASK
                              659 ; 49   |#define HW_CCR_LTC_CLRMASK ~(WORD)HW_CCR_LTC_SETMASK
                              660 ; 50   |#define HW_CCR_PLLEN_CLRMASK ~(WORD)HW_CCR_PLLEN_SETMASK
                              661 ; 51   |#define HW_CCR_XTLEN_CLRMASK ~(WORD)HW_CCR_XTLEN_SETMASK
                              662 ; 52   |#define HW_CCR_ADCDIV_CLRMASK ~(WORD)HW_CCR_ADCDIV_SETMASK
                              663 ; 53   |#define HW_CCR_CKSRC_CLRMASK ~(WORD)HW_CCR_CKSRC_SETMASK
                              664 ; 54   |#define HW_CCR_DDIV_CLRMASK ~(WORD)HW_CCR_DDIV_SETMASK
                              665 ; 55   |#define HW_CCR_PDIV_CLRMASK ~(WORD)HW_CCR_PDIV_SETMASK
                              666 ; 56   |#define HW_CCR_PWDN_CLRMASK ~(WORD)HW_CCR_PWDN_SETMASK
                              667 ; 57   |#define HW_CCR_ACKEN_CLRMASK ~(WORD)HW_CCR_ACKEN_SETMASK
                              668 ; 58   |#define HW_CCR_LOCK_CLRMASK ~(WORD)HW_CCR_LOCK_SETMASK
                              669 ; 59   |#define HW_CCR_DACDIV_CLRMASK ~(WORD)HW_CCR_DACDIV_SETMASK
                              670 ; 60   |
                              671 ; 61   |typedef union               
                              672 ; 62   |{
                              673 ; 63   |    struct
                              674 ; 64   |    {
                              675 ; 65   |        int CKRST       :1; // Clock Reset
                              676 ; 66   |        int LTC         :1;
                              677 ; 67   |        int PLLEN       :1;
                              678 ; 68   |        int XTLEN       :1;
                              679 ; 69   |        int FLB         :1;
                              680 ; 70   |        unsigned ADIV   :3;
                              681 ; 71   |        int CKSRC       :1;
                              682 ; 72   |        unsigned DDIV   :3;
                              683 ; 73   |        unsigned PDIV   :5;
                              684 ; 74   |        int PWDN        :1;
                              685 ; 75   |        int ACKEN       :1;
                              686 ; 76   |        int LOCK        :1;
                              687 ; 77   |        unsigned ADIV1  :3;
                              688 ; 78   |        unsigned DDIV_MSB:1;
                              689 ; 79   |    } B;
                              690 ; 80   |
                              691 ; 81   |    int I;
                              692 ; 82   |    unsigned int U;
                              693 ; 83   |
                              694 ; 84   |} ccr_type;
                              695 ; 85   |#define HW_CCR     (*(volatile ccr_type _X*) (0xFA00))
                              696 ; 86   |
                              697 ; 87   |/////////////////////////////////////////////////////////////////////////////////
                              698 ; 88   |//  Reset Control Register (HW_RCR) Bit Positions
                              699 ; 89   |#define HW_RCR_STKLVL_BITPOS 0
                              700 ; 90   |#define HW_RCR_SRST_BITPOS 4
                              701 ; 91   |#define HW_RCR_IRQA_BITPOS 8
                              702 ; 92   |#define HW_RCR_IRQB_BITPOS 9
                              703 ; 93   |#define HW_RCR_NMI_BITPOS 10
                              704 ; 94   |#define HW_RCR_SUNFLLVL_BITPOS 11
                              705 ; 95   |#define HW_RCR_SUNFLEN_BITPOS 15
                              706 ; 96   |#define HW_RCR_SOVFLLVL_BITPOS 16
                              707 ; 97   |#define HW_RCR_SOVFLEN_BITPOS 20
                              708 ; 98   |#define HW_RCR_IRQB2NMI_BITPOS 21
                              709 ; 99   |#define HW_RCR_SUNFL_BITPOS 22
                              710 ; 100  |#define HW_RCR_SOVFL_BITPOS 23
                              711 ; 101  |
                              712 ; 102  |#define HW_RCR_STKLVL_WIDTH (4)
                              713 ; 103  |#define HW_RCR_SRST_WIDTH (4)
                              714 ; 104  |#define HW_RCR_IRQA_WIDTH (1)
                              715 ; 105  |#define HW_RCR_IRQB_WIDTH (1)
                              716 ; 106  |#define HW_RCR_NMI_WIDTH (1)
                              717 ; 107  |#define HW_RCR_SUNFLLVL_WIDTH (4)
                              718 ; 108  |#define HW_RCR_SUNFLEN_WIDTH (1)
                              719 ; 109  |#define HW_RCR_SOVFLLVL_WIDTH (4)
                              720 ; 110  |#define HW_RCR_SOVFLEN_WIDTH (1)
                              721 ; 111  |#define HW_RCR_IRQB2NMI_WIDTH (1)
                              722 ; 112  |#define HW_RCR_SUNFL_WIDTH (1)
                              723 ; 113  |#define HW_RCR_SOVFL_WIDTH (1)
                              724 ; 114  |
                              725 ; 115  |#define HW_RCR_STKLVL_SETMASK (((1<<HW_RCR_STKLVL_WIDTH)-1)<<HW_RCR_STKLVL_BITPOS)
                              726 ; 116  |#define HW_RCR_SRST_SETMASK (((1<<HW_RCR_SRST_WIDTH)-1)<<HW_RCR_SRST_BITPOS)
                              727 ; 117  |#define HW_RCR_IRQA_SETMASK (((1<<HW_RCR_IRQA_WIDTH)-1)<<HW_RCR_IRQA_BITPOS)
                              728 ; 118  |#define HW_RCR_IRQB_SETMASK (((1<<HW_RCR_IRQB_WIDTH)-1)<<HW_RCR_IRQB_BITPOS)
                              729 ; 119  |#define HW_RCR_NMI_SETMASK (((1<<HW_RCR_NMI_WIDTH)-1)<<HW_RCR_NMI_BITPOS)
                              730 ; 120  |#define HW_RCR_SUNFLLVL_SETMASK (((1<<HW_RCR_SUNFLLVL_WIDTH)-1)<<HW_RCR_SUNFLLVL_BITPOS)
                              731 ; 121  |#define HW_RCR_SUNFLEN_SETMASK (((1<<HW_RCR_SUNFLEN_WIDTH)-1)<<HW_RCR_SUNFLEN_BITPOS)
                              732 ; 122  |#define HW_RCR_SOVFLLVL_SETMASK (((1<<HW_RCR_SOVFLLVL_WIDTH)-1)<<HW_RCR_SOVFLLVL_BITPOS)
                              733 ; 123  |#define HW_RCR_SOVFLEN_SETMASK (((1<<HW_RCR_SOVFLEN_WIDTH)-1)<<HW_RCR_SOVFLEN_BITPOS)
                              734 ; 124  |#define HW_RCR_IRQB2NMI_SETMASK (((1<<HW_RCR_IRQB2NMI_WIDTH)-1)<<HW_RCR_IRQB2NMI_BITPOS)
                              735 ; 125  |#define HW_RCR_SUNFL_SETMASK (((1<<HW_RCR_SUNFL_WIDTH)-1)<<HW_RCR_SUNFL_BITPOS)
                              736 ; 126  |#define HW_RCR_SOVFL_SETMASK (((1<<HW_RCR_SOVFL_WIDTH)-1)<<HW_RCR_SOVFL_BITPOS)
                              737 ; 127  |
                              738 ; 128  |#define HW_RCR_STKLVL_CLRMASK ~(WORD)HW_RCR_STKLVL_SETMASK
                              739 ; 129  |#define HW_RCR_SRST_CLRMASK ~(WORD)HW_RCR_SRST_SETMASK
                              740 ; 130  |#define HW_RCR_IRQA_CLRMASK ~(WORD)HW_RCR_IRQA_SETMASK
                              741 ; 131  |#define HW_RCR_IRQB_CLRMASK ~(WORD)HW_RCR_IRQB_SETMASK
                              742 ; 132  |#define HW_RCR_NMI_CLRMASK ~(WORD)HW_RCR_NMI_SETMASK
                              743 ; 133  |#define HW_RCR_SUNFLLVL_CLRMASK ~(WORD)HW_RCR_SUNFLLVL_SETMASK
                              744 ; 134  |#define HW_RCR_SUNFLEN_CLRMASK ~(WORD)HW_RCR_SUNFLEN_SETMASK
                              745 ; 135  |#define HW_RCR_SOVFLLVL_CLRMASK ~(WORD)HW_RCR_SOVFLLVL_SETMASK
                              746 ; 136  |#define HW_RCR_SOVFLEN_CLRMASK ~(WORD)HW_RCR_SOVFLEN_SETMASK
                              747 ; 137  |#define HW_RCR_IRQB2NMI_CLRMASK ~(WORD)HW_RCR_IRQB2NMI_SETMASK
                              748 ; 138  |#define HW_RCR_SUNFL_CLRMASK ~(WORD)HW_RCR_SUNFL_SETMASK
                              749 ; 139  |#define HW_RCR_SOVFL_CLRMASK ~(WORD)HW_RCR_SOVFL_SETMASK
                              750 ; 140  |
                              751 ; 141  |typedef union               
                              752 ; 142  |{
                              753 ; 143  |    struct
                              754 ; 144  |   {
                              755 ; 145  |        int STKLVL   : HW_RCR_STKLVL_WIDTH;
                              756 ; 146  |        int SRST     : HW_RCR_SRST_WIDTH;
                              757 ; 147  |        int IRQA     : HW_RCR_IRQA_WIDTH;
                              758 ; 148  |        int IRQB     : HW_RCR_IRQB_WIDTH;
                              759 ; 149  |        int NMI      : HW_RCR_NMI_WIDTH;
                              760 ; 150  |        int SUNFLLVL : HW_RCR_SUNFLLVL_WIDTH;
                              761 ; 151  |        int SUNFLEN  : HW_RCR_SUNFLEN_WIDTH;
                              762 ; 152  |        int SOVFLLVL : HW_RCR_SOVFLLVL_WIDTH;
                              763 ; 153  |        int SOVFLEN  : HW_RCR_SOVFLEN_WIDTH;
                              764 ; 154  |        int IRQB2NMI : HW_RCR_IRQB2NMI_WIDTH;
                              765 ; 155  |        int SUNFL    : HW_RCR_SUNFL_WIDTH;
                              766 ; 156  |        int SOVFL    : HW_RCR_SOVFL_WIDTH;
                              767 ; 157  |    } B;
                              768 ; 158  |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page   4

M:ADDR CODE           CYCLES LINE SOURCELINE
                              769 ; 159  |    int I;
                              770 ; 160  |    unsigned int U;
                              771 ; 161  |
                              772 ; 162  |} rcr_type;
                              773 ; 163  |#define HW_RCR     (*(volatile rcr_type _X*) (0xFA01))
                              774 ; 164  |
                              775 ; 165  |
                              776 ; 166  |/////////////////////////////////////////////////////////////////////////////////
                              777 ; 167  |//  DCLK Count Lower register (HW_DCLKCNTL) Bit Positions
                              778 ; 168  |#define HW_DCLKCNTL_LOW_BITPOS 0
                              779 ; 169  |
                              780 ; 170  |#define HW_DCLKCNTL_LOW_WIDTH (24)        
                              781 ; 171  |
                              782 ; 172  |#define HW_DCLKCNTL_LOW_SETMASK (((1<<HW_DCLKCNTL_LOW_WIDTH)-1)<<HW_DCLKCNTL_LOW_BITPOS) 
                              783 ; 173  |#define HW_DCLKCNTL_LOW_CLRMASK ~(WORD)HW_DCLKCNTL_LOW_SETMASK
                              784 ; 174  |typedef union               
                              785 ; 175  |{
                              786 ; 176  |    struct
                              787 ; 177  |   {
                              788 ; 178  |        int LOW;
                              789 ; 179  |    } B;
                              790 ; 180  |
                              791 ; 181  |    int I;
                              792 ; 182  |    unsigned int U;
                              793 ; 183  |
                              794 ; 184  |} dclkcntl_type;
                              795 ; 185  |#define HW_DCLKCNTL (*(volatile dclkcntl_type _X*) (0xFFEA))
                              796 ; 186  |
                              797 ; 187  |/////////////////////////////////////////////////////////////////////////////////
                              798 ; 188  |//  DCLK Count UPPER register (HW_DCLKCNTU) Bit Positions
                              799 ; 189  |#define HW_DCLKCNTU_HIGH_BITPOS 0
                              800 ; 190  |
                              801 ; 191  |#define HW_DCLKCNTU_HIGH_WIDTH (24)        
                              802 ; 192  |
                              803 ; 193  |#define HW_DCLKCNTU_HIGH_SETMASK (((1<<HW_DCLKCNTU_HIGH_WIDTH)-1)<<HW_DCLKCNTU_HIGH_BITPOS) 
                              804 ; 194  |#define HW_DCLKCNTU_HIGH_CLRMASK ~(WORD)HW_DCLKCNTU_HIGH_SETMASK
                              805 ; 195  |typedef union               
                              806 ; 196  |{
                              807 ; 197  |    struct
                              808 ; 198  |   {
                              809 ; 199  |        int HIGH;
                              810 ; 200  |    } B;
                              811 ; 201  |
                              812 ; 202  |    int I;
                              813 ; 203  |    unsigned int U;
                              814 ; 204  |
                              815 ; 205  |} dclkcntu_type;
                              816 ; 206  |#define HW_DCLKCNTU (*(volatile dclkcntu_type _X*) (0xFFEB))
                              817 ; 207  |
                              818 ; 208  |//*********************  REGISTER ALIAS DEFINES TO MATCH LEGACY CODE *******************************
                              819 ; 209  |// The following defines were added to match regs3410.inc definition to build SDK2XXX code without needing 
                              820 ; 210  |// to update the actual files. Only the defines needed to build SDK2.400 were added. 
                              821 ; 211  |
                              822 ; 212  |// Clock count register (lower)
                              823 ; 213  |#define HW_CLK_CNT_L 0x00FFEA         
                              824 ; 214  |// Clock count register (upper)
                              825 ; 215  |#define HW_CLK_CNT_U 0x00FFEB         
                              826 ; 216  |// Cycle steal count register
                              827 ; 217  |#define HW_CYC_STEAL 0x00FFEC         
                              828 ; 218  |
                              829 ; 219  |#endif
                              830 ; 220  |
                              831 ; 221  |
                              832 
                              834 
                              835 ; 18   |#include "regscore.h"
                              836 
                              838 
                              839 ; 1    |#if !(defined(__REGS_STATUS_INC))
                              840 ; 2    |#define __REGS_STATUS_INC 1
                              841 ; 3    |
                              842 ; 4    |
                              843 ; 5    |/////////////////////////////////////////////////////////////////////////////////
                              844 ; 6    |//  OMR Register (HW_OMR) Bit Positions
                              845 ; 7    |#define HW_OMR_MA_BITPOS 0
                              846 ; 8    |#define HW_OMR_MB_BITPOS 1
                              847 ; 9    |#define HW_OMR_DE_BITPOS 2
                              848 ; 10   |#define HW_OMR_YE_BITPOS 3
                              849 ; 11   |#define HW_OMR_MC_BITPOS 4
                              850 ; 12   |#define HW_OMR_SD_BITPOS 6
                              851 ; 13   |
                              852 ; 14   |#define HW_OMR_MA_SETMASK 1<<HW_OMR_MA_BITPOS
                              853 ; 15   |#define HW_OMR_MB_SETMASK 1<<HW_OMR_MB_BITPOS
                              854 ; 16   |#define HW_OMR_DE_SETMASK 1<<HW_OMR_DE_BITPOS
                              855 ; 17   |#define HW_OMR_YE_SETMASK 1<<HW_OMR_YE_BITPOS
                              856 ; 18   |#define HW_OMR_MC_SETMASK 1<<HW_OMR_MC_BITPOS
                              857 ; 19   |#define HW_OMR_SD_SETMASK 1<<HW_OMR_SD_BITPOS
                              858 ; 20   |
                              859 ; 21   |#define HW_OMR_MA_CLRMASK ~(WORD)HW_OMR_MA_SETMASK
                              860 ; 22   |#define HW_OMR_MB_CLRMASK ~(WORD)HW_OMR_MB_SETMASK
                              861 ; 23   |#define HW_OMR_DE_CLRMASK ~(WORD)HW_OMR_DE_SETMASK
                              862 ; 24   |#define HW_OMR_YE_CLRMASK ~(WORD)HW_OMR_YE_SETMASK
                              863 ; 25   |#define HW_OMR_MC_CLRMASK ~(WORD)HW_OMR_MC_SETMASK
                              864 ; 26   |#define HW_OMR_SD_CLRMASK ~(WORD)HW_OMR_SD_SETMASK
                              865 ; 27   |
                              866 ; 28   |
                              867 ; 29   |/////////////////////////////////////////////////////////////////////////////////
                              868 ; 30   |//  Status Register (HW_SR) Bit Positions
                              869 ; 31   |#define HW_SR_C_BITPOS 0
                              870 ; 32   |#define HW_SR_O_BITPOS 1
                              871 ; 33   |#define HW_SR_Z_BITPOS 2
                              872 ; 34   |#define HW_SR_N_BITPOS 3
                              873 ; 35   |#define HW_SR_U_BITPOS 4
                              874 ; 36   |#define HW_SR_E_BITPOS 5
                              875 ; 37   |#define HW_SR_L_BITPOS 6
                              876 ; 38   |#define HW_SR_IM_BITPOS 8
                              877 ; 39   |#define HW_SR_IM0_BITPOS 8
                              878 ; 40   |#define HW_SR_IM1_BITPOS 9
                              879 ; 41   |#define HW_SR_SM_BITPOS 10
                              880 ; 42   |#define HW_SR_SM0_BITPOS 10
                              881 ; 43   |#define HW_SR_SM1_BITPOS 11
                              882 ; 44   |#define HW_SR_TM_BITPOS 13
                              883 ; 45   |#define HW_SR_DP_BITPOS 14
                              884 ; 46   |#define HW_SR_LOOP_BITPOS 15
                              885 ; 47   |
                              886 ; 48   |#define HW_SR_C_SETMASK 1<<HW_SR_C_BITPOS
                              887 ; 49   |#define HW_SR_O_SETMASK 1<<HW_SR_O_BITPOS
                              888 ; 50   |#define HW_SR_Z_SETMASK 1<<HW_SR_Z_BITPOS
                              889 ; 51   |#define HW_SR_N_SETMASK 1<<HW_SR_N_BITPOS
                              890 ; 52   |#define HW_SR_U_SETMASK 1<<HW_SR_U_BITPOS
                              891 ; 53   |#define HW_SR_E_SETMASK 1<<HW_SR_E_BITPOS
                              892 ; 54   |#define HW_SR_L_SETMASK 1<<HW_SR_L_BITPOS
                              893 ; 55   |#define HW_SR_IM_SETMASK 3<<HW_SR_IM_BITPOS
                              894 ; 56   |#define HW_SR_IM0_SETMASK 1<<HW_SR_IM0_BITPOS
                              895 ; 57   |#define HW_SR_IM1_SETMASK 1<<HW_SR_IM1_BITPOS
                              896 ; 58   |#define HW_SR_IM_L0_SETMASK 0<<HW_SR_IM_BITPOS
                              897 ; 59   |#define HW_SR_IM_L1_SETMASK 1<<HW_SR_IM_BITPOS
                              898 ; 60   |#define HW_SR_IM_L2_SETMASK 2<<HW_SR_IM_BITPOS
                              899 ; 61   |#define HW_SR_IM_L3_SETMASK 3<<HW_SR_IM_BITPOS
                              900 ; 62   |#define HW_SR_SM_SETMASK 3<<HW_SR_SM_BITPOS
                              901 ; 63   |#define HW_SR_SM0_SETMASK 1<<HW_SR_SM0_BITPOS
                              902 ; 64   |#define HW_SR_SM1_SETMASK 1<<HW_SR_SM1_BITPOS
                              903 ; 65   |#define HW_SR_TM_SETMASK 1<<HW_SR_TM_BITPOS
                              904 ; 66   |#define HW_SR_DP_SETMASK 1<<HW_SR_DP_BITPOS
                              905 ; 67   |#define HW_SR_LOOP_SETMASK 1<<HW_SR_LOOP_BITPOS
                              906 ; 68   |
                              907 ; 69   |#define HW_SR_C_CLRMASK ~(WORD)HW_SR_C_SETMASK
                              908 ; 70   |#define HW_SR_O_CLRMASK ~(WORD)HW_SR_O_SETMASK
                              909 ; 71   |#define HW_SR_Z_CLRMASK ~(WORD)HW_SR_Z_SETMASK
                              910 ; 72   |#define HW_SR_N_CLRMASK ~(WORD)HW_SR_N_SETMASK
                              911 ; 73   |#define HW_SR_U_CLRMASK ~(WORD)HW_SR_U_SETMASK
                              912 ; 74   |#define HW_SR_E_CLRMASK ~(WORD)HW_SR_E_SETMASK
                              913 ; 75   |#define HW_SR_L_CLRMASK ~(WORD)HW_SR_L_SETMASK
                              914 ; 76   |#define HW_SR_IM_CLRMASK (0x00FFFF)&(~(WORD)HW_SR_IM_SETMASK)
                              915 ; 77   |#define HW_SR_IM0_CLRMASK ~(WORD)HW_SR_IM0_SETMASK
                              916 ; 78   |#define HW_SR_IM1_CLRMASK ~(WORD)HW_SR_IM1_SETMASK
                              917 ; 79   |#define HW_SR_SM_CLRMASK ~(WORD)HW_SR_SM_SETMASK
                              918 ; 80   |#define HW_SR_SM0_CLRMASK ~(WORD)HW_SR_SM0_SETMASK
                              919 ; 81   |#define HW_SR_SM1_CLRMASK ~(WORD)HW_SR_SM1_SETMASK
                              920 ; 82   |#define HW_SR_TM_CLRMASK ~(WORD)HW_SR_TM_SETMASK
                              921 ; 83   |#define HW_SR_DP_CLRMASK ~(WORD)HW_SR_DP_SETMASK
                              922 ; 84   |#define HW_SR_LOOP_CLRMASK ~(WORD)HW_SR_LOOP_SETMASK
                              923 ; 85   |
                              924 ; 86   |/////////////////////////////////////////////////////////////////////////////////
                              925 ; 87   |//  RAM/ROM Config Register Bit Positions
                              926 ; 88   |#define HW_RAM_ROM_CFG_ROM_IMAGE_EN_BITPOS 18
                              927 ; 89   |#define HW_RAM_ROM_CFG_ROM_CLK_EN_BITPOS 19
                              928 ; 90   |#define HW_RAM_ROM_CFG_PXRAM_CLK_EN_BITPOS 20
                              929 ; 91   |#define HW_RAM_ROM_CFG_PYRAM_CLK_EN_BITPOS 21
                              930 ; 92   |#endif
                              931 ; 93   |
                              932 ; 94   |
                              933 
                              935 
                              936 ; 19   |#include "regscodec.h"
                              937 
                              939 
                              940 ; 1    |#if !(defined(regscodecinc))
                              941 ; 2    |#define regscodecinc 1
                              942 ; 3    |
                              943 ; 4    |
                              944 ; 5    |
                              945 ; 6    |#include "types.h"
                              946 
                              948 
                              949 ; 1    |////////////////////////////////////////////////////////////////////////////////
                              950 ; 2    |// Copyright(C) SigmaTel, Inc. 2000-2004
                              951 ; 3    |//
                              952 ; 4    |// Filename: types.h
                              953 ; 5    |// Description: Standard data types
                              954 ; 6    |////////////////////////////////////////////////////////////////////////////////
                              955 ; 7    |
                              956 ; 8    |#ifndef _TYPES_H
                              957 ; 9    |#define _TYPES_H
                              958 ; 10   |
                              959 ; 11   |// TODO:  move this outta here!
                              960 ; 12   |#if !defined(NOERROR)
                              961 ; 13   |#define NOERROR 0
                              962 ; 14   |#define SUCCESS 0
                              963 ; 15   |#endif 
                              964 ; 16   |#if !defined(SUCCESS)
                              965 ; 17   |#define SUCCESS  0
                              966 ; 18   |#endif
                              967 ; 19   |#if !defined(ERROR)
                              968 ; 20   |#define ERROR   -1
                              969 ; 21   |#endif
                              970 ; 22   |#if !defined(FALSE)
                              971 ; 23   |#define FALSE 0
                              972 ; 24   |#endif
                              973 ; 25   |#if !defined(TRUE)
                              974 ; 26   |#define TRUE  1
                              975 ; 27   |#endif
                              976 ; 28   |
                              977 ; 29   |#if !defined(NULL)
                              978 ; 30   |#define NULL 0
                              979 ; 31   |#endif
                              980 ; 32   |
                              981 ; 33   |#define MAX_INT     0x7FFFFF
                              982 ; 34   |#define MAX_LONG    0x7FFFFFffffff
                              983 ; 35   |        // max positive unsigned long value: -1 == 0xFFFFFFffffff
                              984 ; 36   |#define MAX_ULONG   (-1) 
                              985 ; 37   |
                              986 ; 38   |#define WORD_SIZE   24              // word size in bits
                              987 ; 39   |#define BYTES_PER_WORD 3            // 8 bit bytes
                              988 ; 40   |
                              989 ; 41   |
                              990 ; 42   |#define BYTE    unsigned char       // btVarName
                              991 ; 43   |#define CHAR    signed char         // cVarName
                              992 ; 44   |#define USHORT  unsigned short      // usVarName
                              993 ; 45   |#define SHORT   unsigned short      // sVarName
                              994 ; 46   |#define WORD    unsigned int        // wVarName
                              995 ; 47   |#define INT     signed int          // iVarName
                              996 ; 48   |#define DWORD   unsigned long       // dwVarName
                              997 ; 49   |#define LONG    signed long         // lVarName
                              998 ; 50   |#define BOOL    unsigned int        // bVarName
                              999 ; 51   |#define FRACT   _fract              // frVarName
                             1000 ; 52   |#define LFRACT  long _fract         // lfrVarName
                             1001 ; 53   |#define CIRC    _circ               // cp<type prefix>VarName (see below)
                             1002 ; 54   |#define FLOAT   float               // fVarName
                             1003 ; 55   |#define DBL     double              // dVarName
                             1004 ; 56   |#define ENUM    enum                // eVarName
                             1005 ; 57   |#define CMX     _complex            // cmxVarName
                             1006 ; 58   |typedef WORD UCS3;                   // 
                             1007 ; 59   |
                             1008 ; 60   |#define UINT16  unsigned short
                             1009 ; 61   |#define UINT8   unsigned char   
                             1010 ; 62   |#define UINT32  unsigned long
                             1011 ; 63   |#define UINT64  unsigned long   // need to figure out how to do 64 bit values.  Or port exisiting code to only use 48 bit
                             1012 ; 64   |#define INT64   unsigned long   // need to figure out how to do 64 bit values.  Or port exisiting code to only use 48 bit
                             1013 ; 65   |#define WCHAR   UINT16
                             1014 ; 66   |
                             1015 ; 67   |//UINT128 is 16 bytes or 6 words
                             1016 ; 68   |typedef struct UINT128_3500 {   
                             1017 ; 69   |    int val[6];     
                             1018 ; 70   |} UINT128_3500;
                             1019 ; 71   |
                             1020 ; 72   |#define UINT128   UINT128_3500
                             1021 ; 73   |
                             1022 ; 74   |// Little endian word packed byte strings:   
                             1023 ; 75   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                             1024 ; 76   |// Convert to big endian words by reordering bytes from high to low using swizzle.
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page   5

M:ADDR CODE           CYCLES LINE SOURCELINE
                             1025 ; 77   |// Little endian word packed byte strings:   
                             1026 ; 78   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                             1027 ; 79   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                             1028 ; 80   |
                             1029 ; 81   |// Declare Memory Spaces To Use When Coding
                             1030 ; 82   |// A. Sector Buffers
                             1031 ; 83   |#define SECTOR_BUFFER_MEM_X _X
                             1032 ; 84   |#define SECTOR_BUFFER_MEM_Y _Y
                             1033 ; 85   |#define SECTOR_BUFFER_MEM SECTOR_BUFFER_MEM_X
                             1034 ; 86   |typedef WORD SECTOR_BUFFER_MEM SECTOR_BUFFER;
                             1035 ; 87   |typedef SECTOR_BUFFER * P_SECTOR_BUFFER;
                             1036 ; 88   |// B. Media DDI Memory
                             1037 ; 89   |#define MEDIA_DDI_MEM _Y
                             1038 ; 90   |
                             1039 ; 91   |
                             1040 ; 92   |
                             1041 ; 93   |// Pointers to linear structures are labeled as: p<type prefix>VarName
                             1042 ; 94   |// Examples of circular pointers:
                             1043 ; 95   |//    INT CIRC cpiVarName
                             1044 ; 96   |//    DWORD CIRC cpdwVarName
                             1045 ; 97   |
                             1046 ; 98   |#define RETCODE INT                 // rcVarName
                             1047 ; 99   |
                             1048 ; 100  |// generic bitfield structure
                             1049 ; 101  |struct Bitfield {
                             1050 ; 102  |    unsigned int B0  :1;
                             1051 ; 103  |    unsigned int B1  :1;
                             1052 ; 104  |    unsigned int B2  :1;
                             1053 ; 105  |    unsigned int B3  :1;
                             1054 ; 106  |    unsigned int B4  :1;
                             1055 ; 107  |    unsigned int B5  :1;
                             1056 ; 108  |    unsigned int B6  :1;
                             1057 ; 109  |    unsigned int B7  :1;
                             1058 ; 110  |    unsigned int B8  :1;
                             1059 ; 111  |    unsigned int B9  :1;
                             1060 ; 112  |    unsigned int B10 :1;
                             1061 ; 113  |    unsigned int B11 :1;
                             1062 ; 114  |    unsigned int B12 :1;
                             1063 ; 115  |    unsigned int B13 :1;
                             1064 ; 116  |    unsigned int B14 :1;
                             1065 ; 117  |    unsigned int B15 :1;
                             1066 ; 118  |    unsigned int B16 :1;
                             1067 ; 119  |    unsigned int B17 :1;
                             1068 ; 120  |    unsigned int B18 :1;
                             1069 ; 121  |    unsigned int B19 :1;
                             1070 ; 122  |    unsigned int B20 :1;
                             1071 ; 123  |    unsigned int B21 :1;
                             1072 ; 124  |    unsigned int B22 :1;
                             1073 ; 125  |    unsigned int B23 :1;
                             1074 ; 126  |};
                             1075 ; 127  |
                             1076 ; 128  |union BitInt {
                             1077 ; 129  |        struct Bitfield B;
                             1078 ; 130  |        int        I;
                             1079 ; 131  |};
                             1080 ; 132  |
                             1081 ; 133  |#define MAX_MSG_LENGTH 10
                             1082 ; 134  |struct CMessage
                             1083 ; 135  |{
                             1084 ; 136  |        unsigned int m_uLength;
                             1085 ; 137  |        unsigned int m_uMsg[MAX_MSG_LENGTH];
                             1086 ; 138  |};
                             1087 ; 139  |
                             1088 ; 140  |typedef struct {
                             1089 ; 141  |    WORD m_wLength;
                             1090 ; 142  |    WORD m_wMessage;
                             1091 ; 143  |    WORD m_wParams[MAX_MSG_LENGTH];
                             1092 ; 144  |} Message;
                             1093 ; 145  |
                             1094 ; 146  |struct MessageQueueDescriptor
                             1095 ; 147  |{
                             1096 ; 148  |        int *m_pBase;
                             1097 ; 149  |        int m_iModulo;
                             1098 ; 150  |        int m_iSize;
                             1099 ; 151  |        int *m_pHead;
                             1100 ; 152  |        int *m_pTail;
                             1101 ; 153  |};
                             1102 ; 154  |
                             1103 ; 155  |struct ModuleEntry
                             1104 ; 156  |{
                             1105 ; 157  |    int m_iSignaledEventMask;
                             1106 ; 158  |    int m_iWaitEventMask;
                             1107 ; 159  |    int m_iResourceOfCode;
                             1108 ; 160  |    struct MessageQueueDescriptor *m_pMessageQueue;
                             1109 ; 161  |    int _asmfunc (*m_pProcessEntryPoint)(union WaitMask Signals,struct MessageQueueDescriptor *);
                             1110 ; 162  |    int _asmfunc (*m_pInitFunction)(struct MessageQueueDescriptor *);
                             1111 ; 163  |    int m_uTimeOutHigh;
                             1112 ; 164  |    int m_uTimeOutLow;
                             1113 ; 165  |    int _asmfunc (*m_pBackgroundFunction)(struct MessageQueueDescriptor *);
                             1114 ; 166  |};
                             1115 ; 167  |
                             1116 ; 168  |union WaitMask{
                             1117 ; 169  |    struct B{
                             1118 ; 170  |        unsigned int m_bNone     :1;
                             1119 ; 171  |        unsigned int m_bMessage  :1;
                             1120 ; 172  |        unsigned int m_bTimer    :1;
                             1121 ; 173  |        unsigned int m_bButton   :1;
                             1122 ; 174  |    } B;
                             1123 ; 175  |    int I;
                             1124 ; 176  |} ;
                             1125 ; 177  |
                             1126 ; 178  |
                             1127 ; 179  |struct Button {
                             1128 ; 180  |        WORD wButtonEvent;
                             1129 ; 181  |        WORD wUnused[MAX_MSG_LENGTH];   
                             1130 ; 182  |};
                             1131 ; 183  |
                             1132 ; 184  |struct Message {
                             1133 ; 185  |        WORD wMsgLength;
                             1134 ; 186  |        WORD wMsgCommand;
                             1135 ; 187  |        WORD wMsgParms[MAX_MSG_LENGTH-1];
                             1136 ; 188  |};
                             1137 ; 189  |
                             1138 ; 190  |union EventTypes {
                             1139 ; 191  |        struct CMessage msg;
                             1140 ; 192  |        struct Button Button ;
                             1141 ; 193  |        struct Message Message;
                             1142 ; 194  |};
                             1143 ; 195  |
                             1144 ; 196  |// next 2 used to get updater build to return correct protocol ver in scsi response.
                             1145 ; 197  |#define BUILD_TYPE_UPDATER  0x100
                             1146 ; 198  |#define BUILD_TYPE_HOSTLINK 0x101
                             1147 ; 199  |#define BUILD_TYPE_PLAYER   0x102
                             1148 ; 200  |
                             1149 ; 201  |// Resets part if RETAIL build. DEBUG build executes debug instruction to halt.
                             1150 ; 202  |#define SystemHalt() __asm(" include 'sysmacro.asm' \n error") 
                             1151 ; 203  |#define assert(x)    if(!(x)) __asm(" include 'sysmacro.asm' \n error")
                             1152 ; 204  |
                             1153 ; 205  |#if DEBUG
                             1154 ; 206  |// For DEBUG builds, DebugBuildAssert(condition) halts if condition evaluates to FALSE. 
                             1155 ; 207  |#define DebugBuildAssert(x)    if(!(x)) __asm(" debug ")
                             1156 ; 208  |#else 
                             1157 ; 209  |// For RETAIL builds, DebugBuildAssert(condition) does nothing & execution continues rather than halt or reset. 
                             1158 ; 210  |#define DebugBuildAssert(x)    
                             1159 ; 211  |#endif
                             1160 ; 212  |
                             1161 ; 213  |// Do this in your C files to make a reminder that's displayed during the build.
                             1162 ; 214  |//  #pragma asm
                             1163 ; 215  |//  WARN 'Note to builder: reminder to do this after verifying that'
                             1164 ; 216  |//  #pragma endasm
                             1165 ; 217  |
                             1166 ; 218  |
                             1167 ; 219  |#ifdef COLOR_262K
                             1168 ; 220  |#define RGB(r,g,b)    ((0x0000FC & (r)) << 10) | ((0x0000FC & (g)) << 4) | ((0x0000FC & (b)) >> 2)    //262k
                             1169 ; 221  |#elif defined(COLOR_65K)
                             1170 ; 222  |#define RGB(r,g,b)    ((0x0000F8 & (r)) << 8) | ((0x0000FC & (g)) << 3) | ((0x0000F8 & (b)) >> 3)  //65k
                             1171 ; 223  |#else
                             1172 ; 224  |#define RGB(r,g,b)       ((0x0000F0 & (r)) << 4) | (0x0000F0 & (g)) | ((0x0000F0 & (b)) >> 4)
                             1173 ; 225  |#endif
                             1174 ; 226  |    
                             1175 ; 227  |#endif // #ifndef _TYPES_H
                             1176 
                             1178 
                             1179 ; 7    |
                             1180 ; 8    |
                             1181 ; 9    |
                             1182 ; 10   |//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                             1183 ; 11   |
                             1184 ; 12   |//   SYSTEM STMP Registers 
                             1185 ; 13   |//      Last Edited 7.17.2003 M. Henson
                             1186 ; 14   |//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                             1187 ; 15   |
                             1188 ; 16   |#define HW_CODEC_BASEADDR (0xFA00)
                             1189 ; 17   |
                             1190 ; 18   |
                             1191 ; 19   |
                             1192 ; 20   |
                             1193 ; 21   |
                             1194 ; 22   |
                             1195 ; 23   |/////////////////////////////////////////////////////////////////////////////////
                             1196 ; 24   |//   Headphone Control Register (HW_HPCTRL) Bit Definitions
                             1197 ; 25   |#define HW_HPCTRL_TESTIALL_BITPOS 0
                             1198 ; 26   |#define HW_HPCTRL_TESTI1_BITPOS 2
                             1199 ; 27   |#define HW_HPCTRL_POP0_BITPOS 4
                             1200 ; 28   |#define HW_HPCTRL_POP1_BITPOS 5
                             1201 ; 29   |#define HW_HPCTRL_POP2_BITPOS 6
                             1202 ; 30   |#define HW_HPCTRL_RSVD0_BITPOS 7
                             1203 ; 31   |#define HW_HPCTRL_HPPWD_BITPOS 8
                             1204 ; 32   |#define HW_HPCTRL_HPCLASSAB_BITPOS 9
                             1205 ; 33   |#define HW_HPCTRL_CAPLESS_BITPOS 10
                             1206 ; 34   |#define HW_HPCTRL_RSRVD1_BITPOS 11
                             1207 ; 35   |#define HW_HPCTRL_SHORTMODE_LR_BITPOS 12
                             1208 ; 36   |#define HW_HPCTRL_SHORTMODE_CM_BITPOS 14
                             1209 ; 37   |#define HW_HPCTRL_SHORT_LVLADJ_BITPOS 16
                             1210 ; 38   |#define HW_HPCTRL_RSRVD2_BITPOS 19
                             1211 ; 39   |#define HW_HPCTRL_CHOP_CLK_BITPOS 20
                             1212 ; 40   |#define HW_HPCTRL_SHORT_LR_BITPOS 22
                             1213 ; 41   |#define HW_HPCTRL_SHORT_CM_BITPOS 23
                             1214 ; 42   |
                             1215 ; 43   |#define HW_HPCTRL_TESTIALL_WIDTH 2
                             1216 ; 44   |#define HW_HPCTRL_TESTI1_WIDTH 2
                             1217 ; 45   |#define HW_HPCTRL_POP0_WIDTH 1
                             1218 ; 46   |#define HW_HPCTRL_POP1_WIDTH 1
                             1219 ; 47   |#define HW_HPCTRL_POP2_WIDTH 1
                             1220 ; 48   |#define HW_HPCTRL_RSVD0_WIDTH 1
                             1221 ; 49   |#define HW_HPCTRL_HPPWD_WIDTH 1
                             1222 ; 50   |#define HW_HPCTRL_HPCLASSAB_WIDTH 1
                             1223 ; 51   |#define HW_HPCTRL_CAPLESS_WIDTH 1
                             1224 ; 52   |#define HW_HPCTRL_RSRVD1_WIDTH 1
                             1225 ; 53   |#define HW_HPCTRL_SHORTMODE_LR_WIDTH 2
                             1226 ; 54   |#define HW_HPCTRL_SHORTMODE_CM_WIDTH 2
                             1227 ; 55   |#define HW_HPCTRL_SHORT_LVLADJ_WIDTH 3
                             1228 ; 56   |#define HW_HPCTRL_RSRVD2_WIDTH 1
                             1229 ; 57   |#define HW_HPCTRL_CHOP_CLK_WIDTH 2
                             1230 ; 58   |#define HW_HPCTRL_SHORT_LR_WIDTH 1
                             1231 ; 59   |#define HW_HPCTRL_SHORT_CM_WIDTH 1
                             1232 ; 60   |
                             1233 ; 61   |#define HW_HPCTRL_POP_SETMASK 0x7<<HW_HPCTRL_POP0_BITPOS
                             1234 ; 62   |#define HW_HPCTRL_POP_CLRMASK ~(WORD)HW_HPCTRL_POP_SETMASK
                             1235 ; 63   |
                             1236 ; 64   |#define HW_HPCTRL_SHORT_LVLADJ_0_25X_SETMASK 0x3<<HW_HPCTRL_SHORT_LVLADJ_BITPOS
                             1237 ; 65   |#define HW_HPCTRL_SHORT_LVLADJ_0_50X_SETMASK 0x2<<HW_HPCTRL_SHORT_LVLADJ_BITPOS
                             1238 ; 66   |#define HW_HPCTRL_SHORT_LVLADJ_0_75X_SETMASK 0x1<<HW_HPCTRL_SHORT_LVLADJ_BITPOS
                             1239 ; 67   |#define HW_HPCTRL_SHORT_LVLADJ_1_00X_SETMASK 0x0<<HW_HPCTRL_SHORT_LVLADJ_BITPOS
                             1240 ; 68   |#define HW_HPCTRL_SHORT_LVLADJ_1_25X_SETMASK 0x4<<HW_HPCTRL_SHORT_LVLADJ_BITPOS
                             1241 ; 69   |#define HW_HPCTRL_SHORT_LVLADJ_1_50X_SETMASK 0x5<<HW_HPCTRL_SHORT_LVLADJ_BITPOS
                             1242 ; 70   |#define HW_HPCTRL_SHORT_LVLADJ_1_75X_SETMASK 0x6<<HW_HPCTRL_SHORT_LVLADJ_BITPOS
                             1243 ; 71   |#define HW_HPCTRL_SHORT_LVLADJ_2_00X_SETMASK 0x7<<HW_HPCTRL_SHORT_LVLADJ_BITPOS
                             1244 ; 72   |
                             1245 ; 73   |#if defined(CAPLESS_HP)
                             1246 ; 74   |#define HP_SHORT_TRIP_POINT HW_HPCTRL_SHORT_LVLADJ_0_75X_SETMASK
                             1247 ; 75   |#else 
                             1248 ; 76   |#define HP_SHORT_TRIP_POINT HW_HPCTRL_SHORT_LVLADJ_1_00X_SETMASK
                             1249 ; 77   |#endif
                             1250 ; 78   |
                             1251 ; 79   |// Headphone control register
                             1252 ; 80   |#define HW_HPCTRL (*(volatile hpctrl_type _X*)(HW_GLUE_BASEADDR+21))
                             1253 ; 81   |/////////////////////////////////////////////////////////////////////////////////
                             1254 ; 82   |//   Headphone Conrol Volume Register (HW_HPCTRL) Bit Definitions
                             1255 ; 83   |typedef union               
                             1256 ; 84   |{
                             1257 ; 85   |    struct {
                             1258 ; 86   |        unsigned TESTIALL :HW_HPCTRL_TESTIALL_WIDTH;
                             1259 ; 87   |        unsigned TESTI1 :HW_HPCTRL_TESTI1_WIDTH;
                             1260 ; 88   |        unsigned POP0 :HW_HPCTRL_POP0_WIDTH; 
                             1261 ; 89   |        unsigned POP1 :HW_HPCTRL_POP1_WIDTH; 
                             1262 ; 90   |        unsigned POP2 :HW_HPCTRL_POP2_WIDTH; 
                             1263 ; 91   |        unsigned RSVD0 :HW_HPCTRL_RSVD0_WIDTH;
                             1264 ; 92   |        unsigned HPPWD :HW_HPCTRL_HPPWD_WIDTH;
                             1265 ; 93   |        unsigned HPCLASSAB :HW_HPCTRL_HPCLASSAB_WIDTH;
                             1266 ; 94   |        unsigned CAPLESS :HW_HPCTRL_CAPLESS_WIDTH; 
                             1267 ; 95   |        unsigned RSRVD1 :HW_HPCTRL_RSRVD1_WIDTH;
                             1268 ; 96   |        unsigned SHORTMODE_LR :HW_HPCTRL_SHORTMODE_LR_WIDTH; 
                             1269 ; 97   |        unsigned SHORTMODE_CM :HW_HPCTRL_SHORTMODE_CM_WIDTH;
                             1270 ; 98   |        unsigned SHORT_LVLADJ :HW_HPCTRL_SHORT_LVLADJ_WIDTH; 
                             1271 ; 99   |        unsigned RSRVD2 :HW_HPCTRL_RSRVD2_WIDTH;
                             1272 ; 100  |        unsigned CHOP_CLK :HW_HPCTRL_CHOP_CLK_WIDTH; 
                             1273 ; 101  |        unsigned SHORT_LR :HW_HPCTRL_SHORT_LR_WIDTH;
                             1274 ; 102  |        unsigned SHORT_CM :HW_HPCTRL_SHORT_CM_WIDTH;
                             1275 ; 103  |    } B;
                             1276 ; 104  |    int I;
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page   6

M:ADDR CODE           CYCLES LINE SOURCELINE
                             1277 ; 105  |    unsigned int U;
                             1278 ; 106  |} hpctrl_type;
                             1279 ; 107  |// Headphone control short mode 2 bit values for above short bitfield.
                             1280 ; 108  |#define HW_AUTO_HEADAMP_SHUTDOWN_HOLD_RESET   0
                             1281 ; 109  |#define HW_AUTO_HEADAMP_SHUTDOWN_EN           1 
                             1282 ; 110  |#define HW_AUTO_HEADAMP_SHUTDOWN_DIS          2
                             1283 ; 111  |#define HW_AUTO_HEADAMP_SHUTDOWN_DIRECT       3
                             1284 ; 112  |
                             1285 ; 113  |
                             1286 ; 114  |/////////////////////////////////////////////////////////////////////////////////
                             1287 ; 115  |/////////////////////////////////////////////////////////////////////////////////
                             1288 ; 116  |/////////////////////////////////////////////////////////////////////////////////
                             1289 ; 117  |/////////////////////////////////////////////////////////////////////////////////
                             1290 ; 118  |///////   MIXER REGISTERS ///////////////////////////////////////////////////////
                             1291 ; 119  |/////////////////////////////////////////////////////////////////////////////////
                             1292 ; 120  |/////////////////////////////////////////////////////////////////////////////////
                             1293 ; 121  |/////////////////////////////////////////////////////////////////////////////////
                             1294 ; 122  |
                             1295 ; 123  |
                             1296 ; 124  |/////////////////////////////////////////////////////////////////////////////////
                             1297 ; 125  |//   Codec/Mixer Test Register (HW_MIXTBR) Bit Definitions 
                             1298 ; 126  |#define HW_MIXTBR_INV_USB_CLK_BITPOS 0
                             1299 ; 127  |#define HW_MIXTBR_USB_DFF_BYPASS_BITPOS 1
                             1300 ; 128  |#define HW_MIXTBR_HOLD_GND_BITPOS 2
                             1301 ; 129  |#define HW_MIXTBR_ACKI_BITPOS 3
                             1302 ; 130  |#define HW_MIXTBR_ASD2X_BITPOS 4
                             1303 ; 131  |#define HW_MIXTBR_PCPCU_BITPOS 5
                             1304 ; 132  |#define HW_MIXTBR_PCPCD_BITPOS 6
                             1305 ; 133  |#define HW_MIXTBR_DCKI_BITPOS 7
                             1306 ; 134  |#define HW_MIXTBR_MIC_BIAS_OUT_SEL_BITPOS 8
                             1307 ; 135  |#define HW_MIXTBR_PSRN_BITPOS 9
                             1308 ; 136  |#define HW_MIXTBR_FX2_BITPOS 10
                             1309 ; 137  |#define HW_MIXTBR_VCOS_BITPOS 11
                             1310 ; 138  |#define HW_MIXTBR_XBCO_BITPOS 12
                             1311 ; 139  |#define HW_MIXTBR_XBGC_BITPOS 13
                             1312 ; 140  |#define HW_MIXTBR_ADTHD_BITPOS 14
                             1313 ; 141  |#define HW_MIXTBR_MICBIAS_LSBITPOS 15
                             1314 ; 142  |#define HW_MIXTBR_PWDADC_BITPOS 16
                             1315 ; 143  |#define HW_MIXTBR_MICBIAS1_BITPOS 17
                             1316 ; 144  |#define HW_MIXTBR_EZD_BITPOS 18
                             1317 ; 145  |#define HW_MIXTBR_DZCDA_BITPOS 19
                             1318 ; 146  |#define HW_MIXTBR_DZCFM_BITPOS 20
                             1319 ; 147  |#define HW_MIXTBR_DZCLI_BITPOS 21
                             1320 ; 148  |#define HW_MIXTBR_DZCMI_BITPOS 22
                             1321 ; 149  |#define HW_MIXTBR_DZCMA_BITPOS 23
                             1322 ; 150  |
                             1323 ; 151  |#define HW_MIXTBR_INV_USB_CLK_WIDTH (1)
                             1324 ; 152  |#define HW_MIXTBR_USB_DFF_BYPASS_WIDTH (1)
                             1325 ; 153  |#define HW_MIXTBR_HOLD_GND_WIDTH (1)
                             1326 ; 154  |#define HW_MIXTBR_ACKI_WIDTH (1)
                             1327 ; 155  |#define HW_MIXTBR_ASD2X_WIDTH (1)
                             1328 ; 156  |#define HW_MIXTBR_PCPCU_WIDTH (1)
                             1329 ; 157  |#define HW_MIXTBR_PCPCD_WIDTH (1)
                             1330 ; 158  |#define HW_MIXTBR_DCKI_WIDTH (1)
                             1331 ; 159  |#define HW_MIXTBR_MIC_BIAS_OUT_SEL_WIDTH (1)
                             1332 ; 160  |#define HW_MIXTBR_PSRN_WIDTH (1)
                             1333 ; 161  |#define HW_MIXTBR_FX2_WIDTH (1)
                             1334 ; 162  |#define HW_MIXTBR_VCOS_WIDTH (1)
                             1335 ; 163  |#define HW_MIXTBR_XBCO_WIDTH (1)
                             1336 ; 164  |#define HW_MIXTBR_XBGC_WIDTH (1)
                             1337 ; 165  |#define HW_MIXTBR_ADTHD_WIDTH (1)
                             1338 ; 166  |#define HW_MIXTBR_MICBIAS_LSWIDTH (1)
                             1339 ; 167  |#define HW_MIXTBR_PWDADC_WIDTH (1)
                             1340 ; 168  |#define HW_MIXTBR_MICBIAS1_WIDTH (1)
                             1341 ; 169  |#define HW_MIXTBR_EZD_WIDTH (1)
                             1342 ; 170  |#define HW_MIXTBR_DZCDA_WIDTH (1)
                             1343 ; 171  |#define HW_MIXTBR_DZCFM_WIDTH (1)
                             1344 ; 172  |#define HW_MIXTBR_DZCLI_WIDTH (1)
                             1345 ; 173  |#define HW_MIXTBR_DZCMI_WIDTH (1)
                             1346 ; 174  |#define HW_MIXTBR_DZCMA_WIDTH (1)
                             1347 ; 175  |
                             1348 ; 176  |
                             1349 ; 177  |#define HW_MIXTBR_INV_USB_CLK_SETMASK 1<<HW_MIXTBR_INV_USB_CLK_BITPOS
                             1350 ; 178  |#define HW_MIXTBR_USB_DFF_BYPASS_SETMASK 1<<HW_MIXTBR_USB_DFF_BYPASS_BITPOS
                             1351 ; 179  |#define HW_MIXTBR_HOLD_GND_SETMASK 1<<HW_MIXTBR_HOLD_GND_BITPOS
                             1352 ; 180  |#define HW_MIXTBR_ACKI_SETMASK 1<<HW_MIXTBR_ACKI_BITPOS
                             1353 ; 181  |#define HW_MIXTBR_ASD2X_SETMASK 1<<HW_MIXTBR_ASD2X_BITPOS
                             1354 ; 182  |#define HW_MIXTBR_PCPCU_SETMASK 1<<HW_MIXTBR_PCPCU_BITPOS
                             1355 ; 183  |#define HW_MIXTBR_PCPCD_SETMASK 1<<HW_MIXTBR_PCPCD_BITPOS
                             1356 ; 184  |#define HW_MIXTBR_DCKI_SETMASK 1<<HW_MIXTBR_DCKI_BITPOS
                             1357 ; 185  |#define HW_MIXTBR_MIC_BIAS_OUT_SEL_SETMASK 1<<HW_MIXTBR_MIC_BIAS_OUT_SEL_BITPOS
                             1358 ; 186  |#define HW_MIXTBR_PSRN_SETMASK 1<<HW_MIXTBR_PSRN_BITPOS
                             1359 ; 187  |#define HW_MIXTBR_FX2_SETMASK 1<<HW_MIXTBR_FX2_BITPOS
                             1360 ; 188  |#define HW_MIXTBR_VCOS_SETMASK 1<<HW_MIXTBR_VCOS_BITPOS
                             1361 ; 189  |#define HW_MIXTBR_XBCO_SETMASK 1<<HW_MIXTBR_XBCO_BITPOS
                             1362 ; 190  |#define HW_MIXTBR_XBGC_SETMASK 1<<HW_MIXTBR_XBGC_BITPOS
                             1363 ; 191  |#define HW_MIXTBR_ADTHD_SETMASK 1<<HW_MIXTBR_ADTHD_BITPOS
                             1364 ; 192  |#define HW_MIXTBR_MICBIAS_LSSETMASK 1<<HW_MIXTBR_MICBIAS_LSBITPOS
                             1365 ; 193  |#define HW_MIXTBR_PWDADC_SETMASK 1<<HW_MIXTBR_PWDADC_BITPOS
                             1366 ; 194  |#define HW_MIXTBR_MICBIAS1_SETMASK 1<<HW_MIXTBR_MICBIAS1_BITPOS
                             1367 ; 195  |#define HW_MIXTBR_EZD_SETMASK 1<<HW_MIXTBR_EZD_BITPOS
                             1368 ; 196  |#define HW_MIXTBR_DZCDA_SETMASK 1<<HW_MIXTBR_DZCDA_BITPOS
                             1369 ; 197  |#define HW_MIXTBR_DZCFM_SETMASK 1<<HW_MIXTBR_DZCFM_BITPOS
                             1370 ; 198  |#define HW_MIXTBR_DZCLI_SETMASK 1<<HW_MIXTBR_DZCLI_BITPOS
                             1371 ; 199  |#define HW_MIXTBR_DZCMI_SETMASK 1<<HW_MIXTBR_DZCMI_BITPOS
                             1372 ; 200  |#define HW_MIXTBR_DZCMA_SETMASK 1<<HW_MIXTBR_DZCMA_BITPOS
                             1373 ; 201  |
                             1374 ; 202  |#define HW_MIXTBR_INV_USB_CLK_CLRMASK ~(WORD)HW_MIXTBR_INV_USB_CLK_SETMASK
                             1375 ; 203  |#define HW_MIXTBR_USB_DFF_BYPASS_CLRMASK ~(WORD)HW_MIXTBR_USB_DFF_BYPASS_SETMASK
                             1376 ; 204  |#define HW_MIXTBR_HOLD_GND_CLRMASK ~(WORD)HW_MIXTBR_HOLD_GND_SETMASK
                             1377 ; 205  |#define HW_MIXTBR_ACKI_CLRMASK ~(WORD)HW_MIXTBR_ACKI_SETMASK
                             1378 ; 206  |#define HW_MIXTBR_ASD2X_CLRMASK ~(WORD)HW_MIXTBR_ASD2X_SETMASK
                             1379 ; 207  |#define HW_MIXTBR_PCPCU_CLRMASK ~(WORD)HW_MIXTBR_PCPCU_SETMASK
                             1380 ; 208  |#define HW_MIXTBR_PCPCD_CLRMASK ~(WORD)HW_MIXTBR_PCPCD_SETMASK
                             1381 ; 209  |#define HW_MIXTBR_DCKI_CLRMASK ~(WORD)HW_MIXTBR_DCKI_SETMASK
                             1382 ; 210  |#define HW_MIXTBR_MIC_BIAS_OUT_SEL_CLRMASK ~(WORD)HW_MIXTBR_MIC_BIAS_OUT_SEL_SETMASK
                             1383 ; 211  |#define HW_MIXTBR_PSRN_CLRMASK ~(WORD)HW_MIXTBR_PSRN_SETMASK
                             1384 ; 212  |#define HW_MIXTBR_FX2_CLRMASK ~(WORD)HW_MIXTBR_FX2_SETMASK
                             1385 ; 213  |#define HW_MIXTBR_VCOS_CLRMASK ~(WORD)HW_MIXTBR_VCOS_SETMASK
                             1386 ; 214  |#define HW_MIXTBR_XBCO_CLRMASK ~(WORD)HW_MIXTBR_XBCO_SETMASK
                             1387 ; 215  |#define HW_MIXTBR_XBGC_CLRMASK ~(WORD)HW_MIXTBR_XBGC_SETMASK
                             1388 ; 216  |#define HW_MIXTBR_ADTHD_CLRMASK ~(WORD)HW_MIXTBR_ADTHD_SETMASK
                             1389 ; 217  |#define HW_MIXTBR_MICBIAS_LSCLRMASK ~(WORD)HW_MIXTBR_MICBIAS_LSSETMASK
                             1390 ; 218  |#define HW_MIXTBR_PWDADC_CLRMASK ~(WORD)HW_MIXTBR_PWDADC_SETMASK
                             1391 ; 219  |#define HW_MIXTBR_MICBIAS1_CLRMASK ~(WORD)HW_MIXTBR_MICBIAS1_SETMASK
                             1392 ; 220  |#define HW_MIXTBR_EZD_CLRMASK ~(WORD)HW_MIXTBR_EZD_SETMASK
                             1393 ; 221  |#define HW_MIXTBR_DZCDA_CLRMASK ~(WORD)HW_MIXTBR_DZCDA_SETMASK
                             1394 ; 222  |#define HW_MIXTBR_DZCFM_CLRMASK ~(WORD)HW_MIXTBR_DZCFM_SETMASK
                             1395 ; 223  |#define HW_MIXTBR_DZCLI_CLRMASK ~(WORD)HW_MIXTBR_DZCLI_SETMASK
                             1396 ; 224  |#define HW_MIXTBR_DZCMI_CLRMASK ~(WORD)HW_MIXTBR_DZCMI_SETMASK
                             1397 ; 225  |#define HW_MIXTBR_DZCMA_CLRMASK ~(WORD)HW_MIXTBR_DZCMA_SETMASK
                             1398 ; 226  |
                             1399 ; 227  |typedef union               
                             1400 ; 228  |{
                             1401 ; 229  |    struct {
                             1402 ; 230  |        int INV_USB_CLK            : 1;
                             1403 ; 231  |        int USB_DFF_BYPASS         : 1;
                             1404 ; 232  |        int HOLD_GND               : 1;
                             1405 ; 233  |        int ACKI                   : 1;
                             1406 ; 234  |        int ASD2X                  : 1;
                             1407 ; 235  |        int PCPCU                  : 1;
                             1408 ; 236  |        int PCPCD                  : 1;
                             1409 ; 237  |        int DCKI                   : 1;
                             1410 ; 238  |        int MIC_BIAS_OUT_SEL       : 1;
                             1411 ; 239  |        int PSRN                   : 1;
                             1412 ; 240  |        int FX2                    : 1;
                             1413 ; 241  |        int VCOS                   : 1;
                             1414 ; 242  |        int XBCO                   : 1;
                             1415 ; 243  |        int XBGC                   : 1;
                             1416 ; 244  |        int ADTHD                  : 1;
                             1417 ; 245  |        int MICBIAS_LSBITPOS       : 1;
                             1418 ; 246  |        int PWDADC                 : 1;
                             1419 ; 247  |        int MICBIAS1               : 1;
                             1420 ; 248  |        int EZD                    : 1;
                             1421 ; 249  |        int DZCDA                  : 1;
                             1422 ; 250  |        int DZCFM                  : 1;
                             1423 ; 251  |        int DZCLI                  : 1;
                             1424 ; 252  |        int DZCMI                  : 1;
                             1425 ; 253  |        int DZCMA                  : 1;
                             1426 ; 254  |    } B;
                             1427 ; 255  |    int I;
                             1428 ; 256  |    unsigned int U;
                             1429 ; 257  |} mix_tbr_type;
                             1430 ; 258  |#define HW_MIXTBR      (*(volatile mix_tbr_type _X*) (HW_CODEC_BASEADDR+3))
                             1431 ; 259  |
                             1432 ; 260  |
                             1433 ; 261  |/////////////////////////////////////////////////////////////////////////////////
                             1434 ; 262  |//   Generic Volume Register (HW_MIXMASTERVR) Bit Definitions
                             1435 ; 263  |#define HW_MIXVOLUMER_MR_BITPOS 0
                             1436 ; 264  |#define HW_MIXVOLUMER_ML_BITPOS 8
                             1437 ; 265  |#define HW_MIXVOLUMER_MUTE_BITPOS 15
                             1438 ; 266  |
                             1439 ; 267  |#define HW_MIXVOLUMER_MR_WIDTH (5)
                             1440 ; 268  |#define HW_MIXVOLUMER_ML_WIDTH (5)
                             1441 ; 269  |#define HW_MIXVOLUMER_MUTE_WIDTH 1
                             1442 ; 270  |
                             1443 ; 271  |#define HW_MIXVOLUMER_MR_SETMASK 0x1F<<HW_MIXVOLUMER_MR_BITPOS
                             1444 ; 272  |#define HW_MIXVOLUMER_ML_SETMASK 0x1F<<HW_MIXVOLUMER_ML_BITPOS
                             1445 ; 273  |#define HW_MIXVOLUMER_MUTE_SETMASK 1<<HW_MIXVOLUMER_MUTE_BITPOS
                             1446 ; 274  |
                             1447 ; 275  |#define HW_MIXVOLUMER_MR_CLRMASK ~(WORD)HW_MIXVOLUMER_MR_SETMASK
                             1448 ; 276  |#define HW_MIXVOLUMER_ML_CLRMASK ~(WORD)HW_MIXVOLUMER_ML_SETMASK
                             1449 ; 277  |#define HW_MIXVOLUMER_MUTE_CLRMASK ~(WORD)HW_MIXVOLUMER_MUTE_SETMASK
                             1450 ; 278  |
                             1451 ; 279  |#define HW_MIXVOLUMER_ML_PLUS_12P0_SETMASK 0<<HW_MIXVOLUMER_ML_BITPOS
                             1452 ; 280  |#define HW_MIXVOLUMER_ML_PLUS_10P5_SETMASK 1<<HW_MIXVOLUMER_ML_BITPOS
                             1453 ; 281  |#define HW_MIXVOLUMER_ML_PLUS_09P0_SETMASK 2<<HW_MIXVOLUMER_ML_BITPOS
                             1454 ; 282  |#define HW_MIXVOLUMER_ML_PLUS_07P5_SETMASK 3<<HW_MIXVOLUMER_ML_BITPOS
                             1455 ; 283  |#define HW_MIXVOLUMER_ML_PLUS_06P0_SETMASK 4<<HW_MIXVOLUMER_ML_BITPOS
                             1456 ; 284  |#define HW_MIXVOLUMER_ML_PLUS_04P5_SETMASK 5<<HW_MIXVOLUMER_ML_BITPOS
                             1457 ; 285  |#define HW_MIXVOLUMER_ML_PLUS_03P0_SETMASK 6<<HW_MIXVOLUMER_ML_BITPOS
                             1458 ; 286  |#define HW_MIXVOLUMER_ML_PLUS_01P5_SETMASK 7<<HW_MIXVOLUMER_ML_BITPOS
                             1459 ; 287  |#define HW_MIXVOLUMER_ML_ZERO_SETMASK 8<<HW_MIXVOLUMER_ML_BITPOS
                             1460 ; 288  |#define HW_MIXVOLUMER_ML_MINUS_01P5_SETMASK 9<<HW_MIXVOLUMER_ML_BITPOS
                             1461 ; 289  |#define HW_MIXVOLUMER_ML_MINUS_03P0_SETMASK 10<<HW_MIXVOLUMER_ML_BITPOS
                             1462 ; 290  |#define HW_MIXVOLUMER_ML_MINUS_04P5_SETMASK 11<<HW_MIXVOLUMER_ML_BITPOS
                             1463 ; 291  |#define HW_MIXVOLUMER_ML_MINUS_06P0_SETMASK 12<<HW_MIXVOLUMER_ML_BITPOS
                             1464 ; 292  |#define HW_MIXVOLUMER_ML_MINUS_07P5_SETMASK 13<<HW_MIXVOLUMER_ML_BITPOS
                             1465 ; 293  |#define HW_MIXVOLUMER_ML_MINUS_09P0_SETMASK 14<<HW_MIXVOLUMER_ML_BITPOS
                             1466 ; 294  |#define HW_MIXVOLUMER_ML_MINUS_10P5_SETMASK 15<<HW_MIXVOLUMER_ML_BITPOS
                             1467 ; 295  |#define HW_MIXVOLUMER_ML_MINUS_12P0_SETMASK 16<<HW_MIXVOLUMER_ML_BITPOS
                             1468 ; 296  |#define HW_MIXVOLUMER_ML_MINUS_13P5_SETMASK 17<<HW_MIXVOLUMER_ML_BITPOS
                             1469 ; 297  |#define HW_MIXVOLUMER_ML_MINUS_15P0_SETMASK 18<<HW_MIXVOLUMER_ML_BITPOS
                             1470 ; 298  |#define HW_MIXVOLUMER_ML_MINUS_16P5_SETMASK 19<<HW_MIXVOLUMER_ML_BITPOS
                             1471 ; 299  |#define HW_MIXVOLUMER_ML_MINUS_18P0_SETMASK 20<<HW_MIXVOLUMER_ML_BITPOS
                             1472 ; 300  |#define HW_MIXVOLUMER_ML_MINUS_19P5_SETMASK 21<<HW_MIXVOLUMER_ML_BITPOS
                             1473 ; 301  |#define HW_MIXVOLUMER_ML_MINUS_21P0_SETMASK 22<<HW_MIXVOLUMER_ML_BITPOS
                             1474 ; 302  |#define HW_MIXVOLUMER_ML_MINUS_22P5_SETMASK 23<<HW_MIXVOLUMER_ML_BITPOS
                             1475 ; 303  |#define HW_MIXVOLUMER_ML_MINUS_24P0_SETMASK 24<<HW_MIXVOLUMER_ML_BITPOS
                             1476 ; 304  |#define HW_MIXVOLUMER_ML_MINUS_25P5_SETMASK 25<<HW_MIXVOLUMER_ML_BITPOS
                             1477 ; 305  |#define HW_MIXVOLUMER_ML_MINUS_27P0_SETMASK 26<<HW_MIXVOLUMER_ML_BITPOS
                             1478 ; 306  |#define HW_MIXVOLUMER_ML_MINUS_28P5_SETMASK 27<<HW_MIXVOLUMER_ML_BITPOS
                             1479 ; 307  |#define HW_MIXVOLUMER_ML_MINUS_30P0_SETMASK 28<<HW_MIXVOLUMER_ML_BITPOS
                             1480 ; 308  |#define HW_MIXVOLUMER_ML_MINUS_31P5_SETMASK 29<<HW_MIXVOLUMER_ML_BITPOS
                             1481 ; 309  |#define HW_MIXVOLUMER_ML_MINUS_33P0_SETMASK 30<<HW_MIXVOLUMER_ML_BITPOS
                             1482 ; 310  |#define HW_MIXVOLUMER_ML_MINUS_34P5_SETMASK 31<<HW_MIXVOLUMER_ML_BITPOS
                             1483 ; 311  |
                             1484 ; 312  |#define HW_MIXVOLUMER_MR_PLUS_12P0_SETMASK 0
                             1485 ; 313  |#define HW_MIXVOLUMER_MR_PLUS_10P5_SETMASK 1
                             1486 ; 314  |#define HW_MIXVOLUMER_MR_PLUS_09P0_SETMASK 2
                             1487 ; 315  |#define HW_MIXVOLUMER_MR_PLUS_07P5_SETMASK 3
                             1488 ; 316  |#define HW_MIXVOLUMER_MR_PLUS_06P0_SETMASK 4
                             1489 ; 317  |#define HW_MIXVOLUMER_MR_PLUS_04P5_SETMASK 5
                             1490 ; 318  |#define HW_MIXVOLUMER_MR_PLUS_03P0_SETMASK 6
                             1491 ; 319  |#define HW_MIXVOLUMER_MR_PLUS_01P5_SETMASK 7
                             1492 ; 320  |#define HW_MIXVOLUMER_MR_ZERO_SETMASK 8
                             1493 ; 321  |#define HW_MIXVOLUMER_MR_MINUS_01P5_SETMASK 9
                             1494 ; 322  |#define HW_MIXVOLUMER_MR_MINUS_03P0_SETMASK 10
                             1495 ; 323  |#define HW_MIXVOLUMER_MR_MINUS_04P5_SETMASK 11
                             1496 ; 324  |#define HW_MIXVOLUMER_MR_MINUS_06P0_SETMASK 12
                             1497 ; 325  |#define HW_MIXVOLUMER_MR_MINUS_07P5_SETMASK 13
                             1498 ; 326  |#define HW_MIXVOLUMER_MR_MINUS_09P0_SETMASK 14
                             1499 ; 327  |#define HW_MIXVOLUMER_MR_MINUS_10P5_SETMASK 15
                             1500 ; 328  |#define HW_MIXVOLUMER_MR_MINUS_12P0_SETMASK 16
                             1501 ; 329  |#define HW_MIXVOLUMER_MR_MINUS_13P5_SETMASK 17
                             1502 ; 330  |#define HW_MIXVOLUMER_MR_MINUS_15P0_SETMASK 18
                             1503 ; 331  |#define HW_MIXVOLUMER_MR_MINUS_16P5_SETMASK 19
                             1504 ; 332  |#define HW_MIXVOLUMER_MR_MINUS_18P0_SETMASK 20
                             1505 ; 333  |#define HW_MIXVOLUMER_MR_MINUS_19P5_SETMASK 21
                             1506 ; 334  |#define HW_MIXVOLUMER_MR_MINUS_21P0_SETMASK 22
                             1507 ; 335  |#define HW_MIXVOLUMER_MR_MINUS_22P5_SETMASK 23
                             1508 ; 336  |#define HW_MIXVOLUMER_MR_MINUS_24P0_SETMASK 24
                             1509 ; 337  |#define HW_MIXVOLUMER_MR_MINUS_25P5_SETMASK 25
                             1510 ; 338  |#define HW_MIXVOLUMER_MR_MINUS_27P0_SETMASK 26
                             1511 ; 339  |#define HW_MIXVOLUMER_MR_MINUS_28P5_SETMASK 27
                             1512 ; 340  |#define HW_MIXVOLUMER_MR_MINUS_30P0_SETMASK 28
                             1513 ; 341  |#define HW_MIXVOLUMER_MR_MINUS_31P5_SETMASK 29
                             1514 ; 342  |#define HW_MIXVOLUMER_MR_MINUS_33P0_SETMASK 30
                             1515 ; 343  |#define HW_MIXVOLUMER_MR_MINUS_34P5_SETMASK 31
                             1516 ; 344  |
                             1517 ; 345  |/////////////////////////////////////////////////////////////////////////////////
                             1518 ; 346  |//   Mixer Master Volume Register (HW_MIXMASTERVR) Bit Definitions
                             1519 ; 347  |#define HW_MIXMASTERVR_MR_BITPOS 0
                             1520 ; 348  |#define HW_MIXMASTERVR_ML_BITPOS 8
                             1521 ; 349  |#define HW_MIXMASTERVR_MUTE_BITPOS 15
                             1522 ; 350  |
                             1523 ; 351  |#define HW_MIXMASTERVR_MR_WIDTH (5)
                             1524 ; 352  |#define HW_MIXMASTERVR_ML_WIDTH (5)
                             1525 ; 353  |#define HW_MIXMASTERVR_MUTE_WIDTH (1)
                             1526 ; 354  |
                             1527 ; 355  |#define HW_MIXMASTERVR_MR_SETMASK 0x1F<<HW_MIXMASTERVR_MR_BITPOS
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page   7

M:ADDR CODE           CYCLES LINE SOURCELINE
                             1528 ; 356  |#define HW_MIXMASTERVR_ML_SETMASK 0x1F<<HW_MIXMASTERVR_ML_BITPOS
                             1529 ; 357  |#define HW_MIXMASTERVR_MUTE_SETMASK 1<<HW_MIXMASTERVR_MUTE_BITPOS
                             1530 ; 358  |
                             1531 ; 359  |#define HW_MIXMASTERVR_MR_CLRMASK ~(WORD)HW_MIXMASTERVR_MR_SETMASK
                             1532 ; 360  |#define HW_MIXMASTERVR_ML_CLRMASK ~(WORD)HW_MIXMASTERVR_ML_SETMASK
                             1533 ; 361  |#define HW_MIXMASTERVR_MUTE_CLRMASK ~(WORD)HW_MIXMASTERVR_MUTE_SETMASK
                             1534 ; 362  |
                             1535 ; 363  |
                             1536 ; 364  |typedef union               
                             1537 ; 365  |{
                             1538 ; 366  |    struct
                             1539 ; 367  |    {
                             1540 ; 368  |        unsigned MR :5;
                             1541 ; 369  |        int         :3;
                             1542 ; 370  |        unsigned ML :5;
                             1543 ; 371  |        int         :2;
                             1544 ; 372  |        int MUTE    :1;
                             1545 ; 373  |    } B;
                             1546 ; 374  |    int I;
                             1547 ; 375  |    unsigned int U;
                             1548 ; 376  |} mix_mastervr_type;
                             1549 ; 377  |#define HW_MIXMASTERVR (*(volatile mix_mastervr_type _X*) (HW_CODEC_BASEADDR+4))
                             1550 ; 378  |
                             1551 ; 379  |
                             1552 ; 380  |/////////////////////////////////////////////////////////////////////////////////
                             1553 ; 381  |//   Mixer Mic In Volume Register (HW_MIXMICINVR) Bit Definitions
                             1554 ; 382  |#define HW_MIXMICINVR_GN_BITPOS 0
                             1555 ; 383  |#define HW_MIXMICINVR_P20DB_BITPOS 6
                             1556 ; 384  |#define HW_MIXMICINVR_MUTE_BITPOS 15
                             1557 ; 385  |
                             1558 ; 386  |#define HW_MIXMICINVR_GN_WIDTH 5
                             1559 ; 387  |#define HW_MIXMICINVR_RSVD1_WIDTH 1
                             1560 ; 388  |#define HW_MIXMICINVR_P20DB_WIDTH 1
                             1561 ; 389  |#define HW_MIXMICINVR_RSVD2_WIDTH 8
                             1562 ; 390  |#define HW_MIXMICINVR_MUTE_WIDTH 1
                             1563 ; 391  |#define HW_MIXMICINVR_RSVD3_WIDTH 8
                             1564 ; 392  |
                             1565 ; 393  |#define HW_MIXMICINVR_GN_SETMASK 0x1F<<HW_MIXMICINVR_GN_BITPOS
                             1566 ; 394  |#define HW_MIXMICINVR_P20DB_SETMASK 1<<HW_MIXMICINVR_P20DB_BITPOS
                             1567 ; 395  |#define HW_MIXMICINVR_MUTE_SETMASK 1<<HW_MIXMICINVR_MUTE_BITPOS
                             1568 ; 396  |
                             1569 ; 397  |#define HW_MIXMICINVR_GN_CLRMASK ~(WORD)HW_MIXMICINVR_GN_SETMASK
                             1570 ; 398  |#define HW_MIXMICINVR_P20DB_CLRMASK ~(WORD)HW_MIXMICINVR_P20DB_SETMASK
                             1571 ; 399  |#define HW_MIXMICINVR_MUTE_CLRMASK ~(WORD)HW_MIXMICINVR_MUTE_SETMASK
                             1572 ; 400  |
                             1573 ; 401  |#define HW_MIXMICINVR_GN_PLUS_12P0_SETMASK 0
                             1574 ; 402  |#define HW_MIXMICINVR_GN_PLUS_10P5_SETMASK 1
                             1575 ; 403  |#define HW_MIXMICINVR_GN_PLUS_09P0_SETMASK 2
                             1576 ; 404  |#define HW_MIXMICINVR_GN_PLUS_07P5_SETMASK 3
                             1577 ; 405  |#define HW_MIXMICINVR_GN_PLUS_06P0_SETMASK 4
                             1578 ; 406  |#define HW_MIXMICINVR_GN_PLUS_04P5_SETMASK 5
                             1579 ; 407  |#define HW_MIXMICINVR_GN_PLUS_03P0_SETMASK 6
                             1580 ; 408  |#define HW_MIXMICINVR_GN_PLUS_01P5_SETMASK 7
                             1581 ; 409  |#define HW_MIXMICINVR_GN_ZERO_SETMASK 8
                             1582 ; 410  |#define HW_MIXMICINVR_GN_MINUS_01P5_SETMASK 9
                             1583 ; 411  |#define HW_MIXMICINVR_GN_MINUS_03P0_SETMASK 10
                             1584 ; 412  |#define HW_MIXMICINVR_GN_MINUS_04P5_SETMASK 11
                             1585 ; 413  |#define HW_MIXMICINVR_GN_MINUS_06P0_SETMASK 12
                             1586 ; 414  |#define HW_MIXMICINVR_GN_MINUS_07P5_SETMASK 13
                             1587 ; 415  |#define HW_MIXMICINVR_GN_MINUS_09P0_SETMASK 14
                             1588 ; 416  |#define HW_MIXMICINVR_GN_MINUS_10P5_SETMASK 15
                             1589 ; 417  |#define HW_MIXMICINVR_GN_MINUS_12P0_SETMASK 16
                             1590 ; 418  |#define HW_MIXMICINVR_GN_MINUS_13P5_SETMASK 17
                             1591 ; 419  |#define HW_MIXMICINVR_GN_MINUS_15P0_SETMASK 18
                             1592 ; 420  |#define HW_MIXMICINVR_GN_MINUS_16P5_SETMASK 19
                             1593 ; 421  |#define HW_MIXMICINVR_GN_MINUS_18P0_SETMASK 20
                             1594 ; 422  |#define HW_MIXMICINVR_GN_MINUS_19P5_SETMASK 21
                             1595 ; 423  |#define HW_MIXMICINVR_GN_MINUS_21P0_SETMASK 22
                             1596 ; 424  |#define HW_MIXMICINVR_GN_MINUS_22P5_SETMASK 23
                             1597 ; 425  |#define HW_MIXMICINVR_GN_MINUS_24P0_SETMASK 24
                             1598 ; 426  |#define HW_MIXMICINVR_GN_MINUS_25P5_SETMASK 25
                             1599 ; 427  |#define HW_MIXMICINVR_GN_MINUS_27P0_SETMASK 26
                             1600 ; 428  |#define HW_MIXMICINVR_GN_MINUS_28P5_SETMASK 27
                             1601 ; 429  |#define HW_MIXMICINVR_GN_MINUS_30P0_SETMASK 28
                             1602 ; 430  |#define HW_MIXMICINVR_GN_MINUS_31P5_SETMASK 29
                             1603 ; 431  |#define HW_MIXMICINVR_GN_MINUS_33P0_SETMASK 30
                             1604 ; 432  |#define HW_MIXMICINVR_GN_MINUS_34P5_SETMASK 31
                             1605 ; 433  |
                             1606 ; 434  |typedef union               
                             1607 ; 435  |{
                             1608 ; 436  |    struct {
                             1609 ; 437  |        int GN          : HW_MIXMICINVR_GN_WIDTH;
                             1610 ; 438  |        int RSVD1       : HW_MIXMICINVR_RSVD1_WIDTH;
                             1611 ; 439  |        int P20DB       : HW_MIXMICINVR_P20DB_WIDTH;
                             1612 ; 440  |        int RSVD2       : HW_MIXMICINVR_RSVD2_WIDTH;
                             1613 ; 441  |        int MUTE        : HW_MIXMICINVR_MUTE_WIDTH;
                             1614 ; 442  |        int RSVD3       : HW_MIXMICINVR_RSVD3_WIDTH;
                             1615 ; 443  |    } B;
                             1616 ; 444  |    int I;
                             1617 ; 445  |    unsigned int U;
                             1618 ; 446  |} mix_micinvr_type;
                             1619 ; 447  |#define HW_MIXMICINVR (*(volatile mix_micinvr_type _X*) (HW_CODEC_BASEADDR+5))
                             1620 ; 448  |
                             1621 ; 449  |
                             1622 ; 450  |
                             1623 ; 451  |
                             1624 ; 452  |/////////////////////////////////////////////////////////////////////////////////
                             1625 ; 453  |//   Mixer Line1 In Volume Register (HW_MIXLINE1INVR) Bit Definitions
                             1626 ; 454  |#define HW_MIXLINE1INVR_GR_BITPOS 0
                             1627 ; 455  |#define HW_MIXLINE1INVR_GL_BITPOS 8
                             1628 ; 456  |#define HW_MIXLINE1INVR_MUTE_BITPOS 15
                             1629 ; 457  |
                             1630 ; 458  |#define HW_MIXLINE1INVR_GR_WIDTH 5
                             1631 ; 459  |#define HW_MIXLINE1INVR_RSVD1_WIDTH 3
                             1632 ; 460  |#define HW_MIXLINE1INVR_GL_WIDTH 5
                             1633 ; 461  |#define HW_MIXLINE1INVR_RSVD2_WIDTH 2
                             1634 ; 462  |#define HW_MIXLINE1INVR_MUTE_WIDTH 1
                             1635 ; 463  |#define HW_MIXLINE1INVR_RSVD3_WIDTH 8
                             1636 ; 464  |
                             1637 ; 465  |#define HW_MIXLINE1INVR_GR_SETMASK 0x1F<<HW_MIXLINE1INVR_GR_BITPOS
                             1638 ; 466  |#define HW_MIXLINE1INVR_GL_SETMASK 0x1F<<HW_MIXLINE1INVR_GL_BITPOS
                             1639 ; 467  |#define HW_MIXLINE1INVR_MUTE_SETMASK 1<<HW_MIXLINE1INVR_MUTE_BITPOS
                             1640 ; 468  |
                             1641 ; 469  |#define HW_MIXLINE1INVR_GR_CLRMASK ~(WORD)HW_MIXLINE1INVR_GR_SETMASK
                             1642 ; 470  |#define HW_MIXLINE1INVR_GL_CLRMASK ~(WORD)HW_MIXLINE1INVR_GL_SETMASK
                             1643 ; 471  |#define HW_MIXLINE1INVR_MUTE_CLRMASK ~(WORD)HW_MIXLINE1INVR_MUTE_SETMASK
                             1644 ; 472  |
                             1645 ; 473  |typedef union               
                             1646 ; 474  |{
                             1647 ; 475  |    struct {
                             1648 ; 476  |        int GR          : HW_MIXLINE1INVR_GR_WIDTH;
                             1649 ; 477  |        int RSVD1       : HW_MIXLINE1INVR_RSVD1_WIDTH;
                             1650 ; 478  |        int GL          : HW_MIXLINE1INVR_GL_WIDTH;
                             1651 ; 479  |        int RSVD2       : HW_MIXLINE1INVR_RSVD2_WIDTH;
                             1652 ; 480  |        int MUTE        : HW_MIXLINE1INVR_MUTE_WIDTH;
                             1653 ; 481  |        int RSVD3       : HW_MIXLINE1INVR_RSVD3_WIDTH;
                             1654 ; 482  |    } B;
                             1655 ; 483  |    int I;
                             1656 ; 484  |    unsigned int U;
                             1657 ; 485  |} mix_line1invr_type;
                             1658 ; 486  |#define HW_MIXLINE1INVR (*(volatile mix_line1invr_type _X*) (HW_CODEC_BASEADDR+6))
                             1659 ; 487  |
                             1660 ; 488  |
                             1661 ; 489  |
                             1662 ; 490  |/////////////////////////////////////////////////////////////////////////////////
                             1663 ; 491  |//   Mixer Line2 In Volume Register (HW_MIXLINE2INVR) Bit Definitions
                             1664 ; 492  |#define HW_MIXLINE2INVR_GR_BITPOS 0
                             1665 ; 493  |#define HW_MIXLINE2INVR_GL_BITPOS 8
                             1666 ; 494  |#define HW_MIXLINE2INVR_MUTE_BITPOS 15
                             1667 ; 495  |
                             1668 ; 496  |#define HW_MIXLINE2INVR_GR_WIDTH 5
                             1669 ; 497  |#define HW_MIXLINE2INVR_RSVD1_WIDTH 3
                             1670 ; 498  |#define HW_MIXLINE2INVR_GL_WIDTH 5
                             1671 ; 499  |#define HW_MIXLINE2INVR_RSVD2_WIDTH 2
                             1672 ; 500  |#define HW_MIXLINE2INVR_MUTE_WIDTH 1
                             1673 ; 501  |#define HW_MIXLINE2INVR_RSVD3_WIDTH 8
                             1674 ; 502  |
                             1675 ; 503  |
                             1676 ; 504  |#define HW_MIXLINE2INVR_GR_SETMASK 0x1F<<HW_MIXLINE2INVR_GR_BITPOS
                             1677 ; 505  |#define HW_MIXLINE2INVR_GL_SETMASK 0x1F<<HW_MIXLINE2INVR_GL_BITPOS
                             1678 ; 506  |#define HW_MIXLINE2INVR_MUTE_SETMASK 1<<HW_MIXLINE2INVR_MUTE_BITPOS
                             1679 ; 507  |
                             1680 ; 508  |#define HW_MIXLINE2INVR_GR_CLRMASK ~(WORD)HW_MIXLINE2INVR_GR_SETMASK
                             1681 ; 509  |#define HW_MIXLINE2INVR_GL_CLRMASK ~(WORD)HW_MIXLINE2INVR_GL_SETMASK
                             1682 ; 510  |#define HW_MIXLINE2INVR_MUTE_CLRMASK ~(WORD)HW_MIXLINE2INVR_MUTE_SETMASK
                             1683 ; 511  |
                             1684 ; 512  |typedef union               
                             1685 ; 513  |{
                             1686 ; 514  |    struct {
                             1687 ; 515  |        int GR          : HW_MIXLINE2INVR_GR_WIDTH;
                             1688 ; 516  |        int RSVD1       : HW_MIXLINE2INVR_RSVD1_WIDTH;
                             1689 ; 517  |        int GL          : HW_MIXLINE2INVR_GL_WIDTH;
                             1690 ; 518  |        int RSVD2       : HW_MIXLINE2INVR_RSVD2_WIDTH;
                             1691 ; 519  |        int MUTE        : HW_MIXLINE2INVR_MUTE_WIDTH;
                             1692 ; 520  |        int RSVD3       : HW_MIXLINE2INVR_RSVD3_WIDTH;
                             1693 ; 521  |    } B;
                             1694 ; 522  |    int I;
                             1695 ; 523  |    unsigned int U;
                             1696 ; 524  |} mix_line2invr_type;
                             1697 ; 525  |#define HW_MIXLINE2INVR (*(volatile mix_line2invr_type _X*) (HW_CODEC_BASEADDR+7))
                             1698 ; 526  |
                             1699 ; 527  |
                             1700 ; 528  |
                             1701 ; 529  |/////////////////////////////////////////////////////////////////////////////////
                             1702 ; 530  |//   Mixer DAC In Volume Register (HW_MIXDACINVR) Bit Definitions
                             1703 ; 531  |#define HW_MIXDACINVR_MR_BITPOS 0
                             1704 ; 532  |#define HW_MIXDACINVR_ML_BITPOS 8
                             1705 ; 533  |#define HW_MIXDACINVR_MUTE_BITPOS 15
                             1706 ; 534  |
                             1707 ; 535  |#define HW_MIXDACINVR_MR_WIDTH (5)
                             1708 ; 536  |#define HW_MIXDACINVR_ML_WIDTH (5)
                             1709 ; 537  |#define HW_MIXDACINVR_MUTE_WIDTH (1)
                             1710 ; 538  |
                             1711 ; 539  |#define HW_MIXDACINVR_MR_SETMASK 0x1F<<HW_MIXDACINVR_MR_BITPOS
                             1712 ; 540  |#define HW_MIXDACINVR_ML_SETMASK 0x1F<<HW_MIXDACINVR_ML_BITPOS
                             1713 ; 541  |#define HW_MIXDACINVR_MUTE_SETMASK 1<<HW_MIXDACINVR_MUTE_BITPOS
                             1714 ; 542  |
                             1715 ; 543  |#define HW_MIXDACINVR_MR_CLRMASK ~(WORD)HW_MIXDACINVR_MR_SETMASK
                             1716 ; 544  |#define HW_MIXDACINVR_ML_CLRMASK ~(WORD)HW_MIXDACINVR_ML_SETMASK
                             1717 ; 545  |#define HW_MIXDACINVR_MUTE_CLRMASK ~(WORD)HW_MIXDACINVR_MUTE_SETMASK
                             1718 ; 546  |
                             1719 ; 547  |typedef union               
                             1720 ; 548  |{
                             1721 ; 549  |    struct {
                             1722 ; 550  |        int MR   : HW_MIXDACINVR_MR_WIDTH;
                             1723 ; 551  |        int ML   : HW_MIXDACINVR_ML_WIDTH;
                             1724 ; 552  |        int MUTE : HW_MIXDACINVR_MUTE_WIDTH;
                             1725 ; 553  |    } B;
                             1726 ; 554  |    int I;
                             1727 ; 555  |    unsigned int U;
                             1728 ; 556  |} mix_dacinvr_type;
                             1729 ; 557  |#define HW_MIXDACINVR (*(volatile mix_dacinvr_type _X*) (HW_CODEC_BASEADDR+8))
                             1730 ; 558  |
                             1731 ; 559  |
                             1732 ; 560  |/////////////////////////////////////////////////////////////////////////////////
                             1733 ; 561  |//   Mixer Record Select Register (HW_MIXRECSELR) Bit Definitions
                             1734 ; 562  |#define HW_MIXRECSELR_SR_BITPOS 0
                             1735 ; 563  |#define HW_MIXRECSELR_SL_BITPOS 8
                             1736 ; 564  |#define HW_MIXRECSELR_X_BITPOS 11
                             1737 ; 565  |
                             1738 ; 566  |#define HW_MIXRECSELR_SR_WIDTH 3
                             1739 ; 567  |#define HW_MIXRECSELR_RSVD1_WIDTH 5
                             1740 ; 568  |#define HW_MIXRECSELR_SL_WIDTH 3
                             1741 ; 569  |#define HW_MIXRECSELR_X_WIDTH 1
                             1742 ; 570  |#define HW_MIXRECSELR_RSVD2_WIDTH 12
                             1743 ; 571  |
                             1744 ; 572  |#define HW_MIXRECSELR_SR_SETMASK 7<<HW_MIXRECSELR_SR_BITPOS
                             1745 ; 573  |#define HW_MIXRECSELR_SL_SETMASK 7<<HW_MIXRECSELR_SL_BITPOS
                             1746 ; 574  |#define HW_MIXRECSELR_X_SETMASK 1<<HW_MIXRECSELR_X_BITPOS
                             1747 ; 575  |
                             1748 ; 576  |#define HW_MIXRECSELR_SR_MIC_SETMASK 0<<HW_MIXRECSELR_SR_BITPOS
                             1749 ; 577  |#define HW_MIXRECSELR_SR_LINEIN2_SETMASK 3<<HW_MIXRECSELR_SR_BITPOS
                             1750 ; 578  |#define HW_MIXRECSELR_SR_LINEIN1_SETMASK 4<<HW_MIXRECSELR_SR_BITPOS
                             1751 ; 579  |#define HW_MIXRECSELR_SR_MIX_SETMASK 5<<HW_MIXRECSELR_SR_BITPOS
                             1752 ; 580  |
                             1753 ; 581  |#define HW_MIXRECSELR_SL_MIC_SETMASK 0<<HW_MIXRECSELR_SL_BITPOS
                             1754 ; 582  |#define HW_MIXRECSELR_SL_LINEIN2_SETMASK 3<<HW_MIXRECSELR_SL_BITPOS
                             1755 ; 583  |#define HW_MIXRECSELR_SL_LINEIN1_SETMASK 4<<HW_MIXRECSELR_SL_BITPOS
                             1756 ; 584  |#define HW_MIXRECSELR_SL_MIX_SETMASK 5<<HW_MIXRECSELR_SL_BITPOS
                             1757 ; 585  |
                             1758 ; 586  |#define HW_MIXRECSELR_SR_CLRMASK ~(WORD)HW_MIXRECSELR_SR_SETMASK
                             1759 ; 587  |#define HW_MIXRECSELR_SL_CLRMASK ~(WORD)HW_MIXRECSELR_SL_SETMASK
                             1760 ; 588  |#define HW_MIXRECSELR_SR_SL_CLRMASK ~(WORD)(HW_MIXRECSELR_SR_SETMASK|HW_MIXRECSELR_SL_SETMASK)
                             1761 ; 589  |#define HW_MIXRECSELR_X_CLRMASK ~(WORD)HW_MIXRECSELR_X_SETMASK
                             1762 ; 590  |
                             1763 ; 591  |typedef union               
                             1764 ; 592  |{
                             1765 ; 593  |    struct {
                             1766 ; 594  |        int SR          : HW_MIXRECSELR_SR_WIDTH;
                             1767 ; 595  |        int RSVD1       : HW_MIXRECSELR_RSVD1_WIDTH;
                             1768 ; 596  |        int SL          : HW_MIXRECSELR_SL_WIDTH;
                             1769 ; 597  |        int X           : HW_MIXRECSELR_X_WIDTH;
                             1770 ; 598  |        int RSVD2       : HW_MIXRECSELR_RSVD2_WIDTH;
                             1771 ; 599  |    } B;
                             1772 ; 600  |    int I;
                             1773 ; 601  |    unsigned int U;
                             1774 ; 602  |} mix_recselr_type;
                             1775 ; 603  |#define HW_MIXRECSELR (*(volatile mix_recselr_type _X*) (HW_CODEC_BASEADDR+9))
                             1776 ; 604  |
                             1777 ; 605  |
                             1778 ; 606  |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page   8

M:ADDR CODE           CYCLES LINE SOURCELINE
                             1779 ; 607  |/////////////////////////////////////////////////////////////////////////////////
                             1780 ; 608  |//   Mixer ADC In Gain Register (HW_MIXADCGAINR) Bit Definitions
                             1781 ; 609  |#define HW_MIXADCGAINR_GR_BITPOS 0
                             1782 ; 610  |#define HW_MIXADCGAINR_GL_BITPOS 8
                             1783 ; 611  |#define HW_MIXADCGAINR_MUTE_BITPOS 15
                             1784 ; 612  |
                             1785 ; 613  |#define HW_MIXADCGAINR_GR_WIDTH 4
                             1786 ; 614  |#define HW_MIXADCGAINR_RSVD1_WIDTH 4
                             1787 ; 615  |#define HW_MIXADCGAINR_GL_WIDTH 4
                             1788 ; 616  |#define HW_MIXADCGAINR_RSVD2_WIDTH 3
                             1789 ; 617  |#define HW_MIXADCGAINR_MUTE_WIDTH 1
                             1790 ; 618  |#define HW_MIXADCGAINR_RSVD3_WIDTH 8
                             1791 ; 619  |
                             1792 ; 620  |#define HW_MIXADCGAINR_GR_SETMASK 0x1F<<HW_MIXADCGAINR_GR_BITPOS
                             1793 ; 621  |#define HW_MIXADCGAINR_GL_SETMASK 0x1F<<HW_MIXADCGAINR_GL_BITPOS
                             1794 ; 622  |#define HW_MIXADCGAINR_MUTE_SETMASK 1<<HW_MIXADCGAINR_MUTE_BITPOS
                             1795 ; 623  |
                             1796 ; 624  |#define HW_MIXADCGAINR_GR_CLRMASK ~(WORD)HW_MIXADCGAINR_GR_SETMASK
                             1797 ; 625  |#define HW_MIXADCGAINR_GL_CLRMASK ~(WORD)HW_MIXADCGAINR_GL_SETMASK
                             1798 ; 626  |#define HW_MIXADCGAINR_MUTE_CLRMASK ~(WORD)HW_MIXADCGAINR_MUTE_SETMASK
                             1799 ; 627  |
                             1800 ; 628  |#define HW_MIXADCGAINR_GL_00P0_SETMASK 0<<HW_MIXADCGAINR_GL_BITPOS
                             1801 ; 629  |#define HW_MIXADCGAINR_GL_01P5_SETMASK 1<<HW_MIXADCGAINR_GL_BITPOS
                             1802 ; 630  |#define HW_MIXADCGAINR_GL_03P0_SETMASK 2<<HW_MIXADCGAINR_GL_BITPOS
                             1803 ; 631  |#define HW_MIXADCGAINR_GL_04P5_SETMASK 3<<HW_MIXADCGAINR_GL_BITPOS
                             1804 ; 632  |#define HW_MIXADCGAINR_GL_06P0_SETMASK 4<<HW_MIXADCGAINR_GL_BITPOS
                             1805 ; 633  |#define HW_MIXADCGAINR_GL_07P5_SETMASK 5<<HW_MIXADCGAINR_GL_BITPOS
                             1806 ; 634  |#define HW_MIXADCGAINR_GL_09P0_SETMASK 6<<HW_MIXADCGAINR_GL_BITPOS
                             1807 ; 635  |#define HW_MIXADCGAINR_GL_10P5_SETMASK 7<<HW_MIXADCGAINR_GL_BITPOS
                             1808 ; 636  |#define HW_MIXADCGAINR_GL_12P0_SETMASK 8<<HW_MIXADCGAINR_GL_BITPOS
                             1809 ; 637  |#define HW_MIXADCGAINR_GL_13P5_SETMASK 9<<HW_MIXADCGAINR_GL_BITPOS
                             1810 ; 638  |#define HW_MIXADCGAINR_GL_15P0_SETMASK 10<<HW_MIXADCGAINR_GL_BITPOS
                             1811 ; 639  |#define HW_MIXADCGAINR_GL_16P5_SETMASK 11<<HW_MIXADCGAINR_GL_BITPOS
                             1812 ; 640  |#define HW_MIXADCGAINR_GL_18P0_SETMASK 12<<HW_MIXADCGAINR_GL_BITPOS
                             1813 ; 641  |#define HW_MIXADCGAINR_GL_19P5_SETMASK 13<<HW_MIXADCGAINR_GL_BITPOS
                             1814 ; 642  |#define HW_MIXADCGAINR_GL_21P0_SETMASK 14<<HW_MIXADCGAINR_GL_BITPOS
                             1815 ; 643  |#define HW_MIXADCGAINR_GL_22P5_SETMASK 15<<HW_MIXADCGAINR_GL_BITPOS
                             1816 ; 644  |
                             1817 ; 645  |#define HW_MIXADCGAINR_GR_00P0_SETMASK 0
                             1818 ; 646  |#define HW_MIXADCGAINR_GR_01P5_SETMASK 1
                             1819 ; 647  |#define HW_MIXADCGAINR_GR_03P0_SETMASK 2
                             1820 ; 648  |#define HW_MIXADCGAINR_GR_04P5_SETMASK 3
                             1821 ; 649  |#define HW_MIXADCGAINR_GR_06P0_SETMASK 4
                             1822 ; 650  |#define HW_MIXADCGAINR_GR_07P5_SETMASK 5
                             1823 ; 651  |#define HW_MIXADCGAINR_GR_09P0_SETMASK 6
                             1824 ; 652  |#define HW_MIXADCGAINR_GR_10P5_SETMASK 7
                             1825 ; 653  |#define HW_MIXADCGAINR_GR_12P0_SETMASK 8
                             1826 ; 654  |#define HW_MIXADCGAINR_GR_13P5_SETMASK 9
                             1827 ; 655  |#define HW_MIXADCGAINR_GR_15P0_SETMASK 10
                             1828 ; 656  |#define HW_MIXADCGAINR_GR_16P5_SETMASK 11
                             1829 ; 657  |#define HW_MIXADCGAINR_GR_18P0_SETMASK 12
                             1830 ; 658  |#define HW_MIXADCGAINR_GR_19P5_SETMASK 13
                             1831 ; 659  |#define HW_MIXADCGAINR_GR_21P0_SETMASK 14
                             1832 ; 660  |#define HW_MIXADCGAINR_GR_22P5_SETMASK 15
                             1833 ; 661  |
                             1834 ; 662  |typedef union               
                             1835 ; 663  |{
                             1836 ; 664  |    struct {
                             1837 ; 665  |        int GR          : HW_MIXADCGAINR_GR_WIDTH;
                             1838 ; 666  |        int RSVD1       : HW_MIXADCGAINR_RSVD1_WIDTH;
                             1839 ; 667  |        int GL          : HW_MIXADCGAINR_GL_WIDTH;
                             1840 ; 668  |        int RSVD2       : HW_MIXADCGAINR_RSVD2_WIDTH;
                             1841 ; 669  |        int MUTE        : HW_MIXADCGAINR_MUTE_WIDTH;
                             1842 ; 670  |        int RSVD3       : HW_MIXADCGAINR_RSVD3_WIDTH;
                             1843 ; 671  |    } B;
                             1844 ; 672  |    int I;
                             1845 ; 673  |    unsigned int U;
                             1846 ; 674  |} mix_adcgainr_type;
                             1847 ; 675  |#define HW_MIXADCGAINR (*(volatile mix_adcgainr_type _X*) (HW_CODEC_BASEADDR+10))
                             1848 ; 676  |
                             1849 ; 677  |
                             1850 ; 678  |
                             1851 ; 679  |/////////////////////////////////////////////////////////////////////////////////
                             1852 ; 680  |//   Mixer Power Down Register (HW_MIXPWRDNR) Bit Definitions
                             1853 ; 681  |#define HW_MIXPWRDNR_PR0_BITPOS 9
                             1854 ; 682  |#define HW_MIXPWRDNR_PR1_BITPOS 10
                             1855 ; 683  |#define HW_MIXPWRDNR_PR2_BITPOS 11
                             1856 ; 684  |
                             1857 ; 685  |#define HW_MIXPWRDNR_PR0_WIDTH (1)
                             1858 ; 686  |#define HW_MIXPWRDNR_PR1_WIDTH (1)
                             1859 ; 687  |#define HW_MIXPWRDNR_PR2_WIDTH (1)
                             1860 ; 688  |#define HW_MIXPWRDNR_RSVD_WIDTH (12)
                             1861 ; 689  |
                             1862 ; 690  |#define HW_MIXPWRDNR_PR_SETMASK 7<<HW_MIXPWRDNR_PR0_BITPOS
                             1863 ; 691  |
                             1864 ; 692  |#define HW_MIXPWRDNR_PR_CLRMASK ~(WORD)HW_MIXPWRDNR_PR_SETMASK
                             1865 ; 693  |
                             1866 ; 694  |typedef union               
                             1867 ; 695  |{
                             1868 ; 696  |    struct {
                             1869 ; 697  |                int                     : 9;
                             1870 ; 698  |       int PR0          : HW_MIXPWRDNR_PR0_WIDTH;
                             1871 ; 699  |       int PR1          : HW_MIXPWRDNR_PR1_WIDTH;
                             1872 ; 700  |       int PR2          : HW_MIXPWRDNR_PR2_WIDTH;
                             1873 ; 701  |       int RSVD         : HW_MIXPWRDNR_RSVD_WIDTH;
                             1874 ; 702  |    } B;
                             1875 ; 703  |    int I;
                             1876 ; 704  |    unsigned int U;
                             1877 ; 705  |} mix_pwrdnr_type;
                             1878 ; 706  |#define HW_MIXPWRDNR (*(volatile mix_pwrdnr_type _X*) (HW_CODEC_BASEADDR+11))
                             1879 ; 707  |
                             1880 ; 708  |
                             1881 ; 709  |/////////////////////////////////////////////////////////////////////////////////
                             1882 ; 710  |
                             1883 ; 711  |//  Mixer Test Register (HW_MIX_TEST) Bit Definitions
                             1884 ; 712  |
                             1885 ; 713  |#define HW_MIX_TEST_DAC_CHOP_CLK_WIDTH (2)
                             1886 ; 714  |
                             1887 ; 715  |#define HW_MIX_TEST_RSVD0_WIDTH (2)
                             1888 ; 716  |
                             1889 ; 717  |#define HW_MIX_TEST_DAC_DISABLE_RTZ_WIDTH (1)
                             1890 ; 718  |
                             1891 ; 719  |#define HW_MIX_TEST_DAC_MORE_AMP_I_WIDTH (1)
                             1892 ; 720  |
                             1893 ; 721  |#define HW_MIX_TEST_RSVD1_WIDTH (2)
                             1894 ; 722  |
                             1895 ; 723  |#define HW_MIX_TEST_TMP_CFG_WIDTH (4)
                             1896 ; 724  |
                             1897 ; 725  |#define HW_MIX_TEST_TMPPWD_WIDTH (1)
                             1898 ; 726  |
                             1899 ; 727  |#define HW_MIX_TEST_RSVD2_WIDTH (11)
                             1900 ; 728  |
                             1901 ; 729  |
                             1902 ; 730  |
                             1903 ; 731  |#define HW_MIX_TEST_DAC_CHOP_CLK_BITPOS (0)
                             1904 ; 732  |
                             1905 ; 733  |#define HW_MIX_TEST_DAC_DISABLE_RTZ_BITPOS (4)
                             1906 ; 734  |
                             1907 ; 735  |#define HW_MIX_TEST_DAC_MORE_AMP_I_BITPOS (5)
                             1908 ; 736  |
                             1909 ; 737  |#define HW_MIX_TEST_TMP_CFG_BITPOS (8)
                             1910 ; 738  |
                             1911 ; 739  |#define HW_MIX_TEST_TMPPWD_BITPOS (12)
                             1912 ; 740  |
                             1913 ; 741  |
                             1914 ; 742  |
                             1915 ; 743  |#define HW_MIX_TEST_DAC_CHOP_CLK_SETMASK (((1<<HW_MIX_TEST_DAC_CHOP_CLK_WIDTH)-1)<<HW_MIX_TEST_DAC_CHOP_CLK_BITPOS)        
                             1916 ; 744  |
                             1917 ; 745  |#define HW_MIX_TEST_DAC_DISABLE_RTZ_SETMASK (((1<<HW_MIX_TEST_DAC_DISABLE_RTZ_WIDTH)-1)<<HW_MIX_TEST_DAC_DISABLE_RTZ_BITPOS)        
                             1918 ; 746  |
                             1919 ; 747  |#define HW_MIX_TEST_DAC_MORE_AMP_I_SETMASK (((1<<HW_MIX_TEST_DAC_MORE_AMP_I_WIDTH)-1)<<HW_MIX_TEST_DAC_MORE_AMP_I_BITPOS) 
                             1920 ; 748  |
                             1921 ; 749  |#define HW_MIX_TEST_TMP_CFG_SETMASK (((1<<HW_MIX_TEST_TMP_CFG_WIDTH)-1)<<HW_MIX_TEST_TMP_CFG_BITPOS) 
                             1922 ; 750  |
                             1923 ; 751  |#define HW_MIX_TEST_TMPPWD_SETMASK (((1<<HW_MIX_TEST_TMPPWD_WIDTH)-1)<<HW_MIX_TEST_TMPPWD_BITPOS) 
                             1924 ; 752  |
                             1925 ; 753  |
                             1926 ; 754  |#define HW_MIX_TEST_DAC_CHOP_CLK_CLRMASK (~(WORD)HW_MIX_TEST_DAC_CHOP_CLK_SETMASK)     
                             1927 ; 755  |
                             1928 ; 756  |#define HW_MIX_TEST_DAC_DISABLE_RTZ_CLRMASK (~(WORD)HW_MIX_TEST_DAC_DISABLE_RTZ_SETMASK)     
                             1929 ; 757  |
                             1930 ; 758  |#define HW_MIX_TEST_DAC_MORE_AMP_I_CLRMASK (~(WORD)HW_MIX_TEST_DAC_MORE_AMP_I_SETMASK) 
                             1931 ; 759  |
                             1932 ; 760  |#define HW_MIX_TEST_TMP_CFG_CLRMASK (~(WORD)HW_MIX_TEST_TMP_CFG_SETMASK) 
                             1933 ; 761  |
                             1934 ; 762  |#define HW_MIX_TEST_TMPPWD_CLRMASK (~(WORD)HW_MIX_TEST_TMPPWD_SETMASK) 
                             1935 ; 763  |
                             1936 ; 764  |
                             1937 ; 765  |typedef union               
                             1938 ; 766  |{
                             1939 ; 767  |    struct {
                             1940 ; 768  |        int DAC_CHOP_CLK                   : HW_MIX_TEST_DAC_CHOP_CLK_WIDTH;
                             1941 ; 769  |        int RSVD0                          : HW_MIX_TEST_RSVD0_WIDTH;
                             1942 ; 770  |        int DAC_DISABLE_RTZ                : HW_MIX_TEST_DAC_DISABLE_RTZ_WIDTH;
                             1943 ; 771  |        int DAC_MORE_AMP_I                 : HW_MIX_TEST_DAC_MORE_AMP_I_WIDTH;
                             1944 ; 772  |        int RSVD1                          : HW_MIX_TEST_RSVD1_WIDTH;
                             1945 ; 773  |        int TMP_CFG                        : HW_MIX_TEST_TMP_CFG_WIDTH;
                             1946 ; 774  |        int TMPPWD                         : HW_MIX_TEST_TMPPWD_WIDTH;
                             1947 ; 775  |        int RSVD2                          : HW_MIX_TEST_RSVD2_WIDTH;
                             1948 ; 776  |    } B;
                             1949 ; 777  |    int I;
                             1950 ; 778  |    unsigned int U;
                             1951 ; 779  |} mix_test_type;
                             1952 ; 780  |#define HW_MIX_TEST      (*(volatile mix_test_type _X*) (HW_CODEC_BASEADDR+28))    /* Analog Persistent Config Register */
                             1953 ; 781  |
                             1954 ; 782  |
                             1955 ; 783  |/////////////////////////////////////////////////////////////////////////////////
                             1956 ; 784  |//   Reference Control Register (HW_REF_CTRL) Bit Definitions
                             1957 ; 785  |#define HW_REF_CTRL_DACVBGVAL_BITPOS 0
                             1958 ; 786  |#define HW_REF_CTRL_ADJDAC_BITPOS 4
                             1959 ; 787  |#define HW_REF_CTRL_VAGVAL_BITPOS 5
                             1960 ; 788  |#define HW_REF_CTRL_ADJV_BITPOS 9
                             1961 ; 789  |#define HW_REF_CTRL_ADCREFV_BITPOS 10
                             1962 ; 790  |#define HW_REF_CTRL_ADJADC_BITPOS 14
                             1963 ; 791  |#define HW_REF_CTRL_PWRDWNS_BITPOS 15
                             1964 ; 792  |#define HW_REF_CTRL_BIASC_BITPOS 16
                             1965 ; 793  |#define HW_REF_CTRL_LWREF_BITPOS 18
                             1966 ; 794  |#define HW_REF_CTRL_LOW_PWR_BITPOS 19 
                             1967 ; 795  |
                             1968 ; 796  |#define HW_REF_CTRL_DACVBGVAL_WIDTH (4)
                             1969 ; 797  |#define HW_REF_CTRL_ADJDAC_WIDTH (1)
                             1970 ; 798  |#define HW_REF_CTRL_VAGVAL_WIDTH (4)
                             1971 ; 799  |#define HW_REF_CTRL_ADJV_WIDTH (1)
                             1972 ; 800  |#define HW_REF_CTRL_ADCREFV_WIDTH (4)
                             1973 ; 801  |#define HW_REF_CTRL_ADJADC_WIDTH (1)
                             1974 ; 802  |#define HW_REF_CTRL_PWRDWNS_WIDTH (1)
                             1975 ; 803  |#define HW_REF_CTRL_BIASC_WIDTH (2)
                             1976 ; 804  |#define HW_REF_CTRL_LWREF_WIDTH (1)
                             1977 ; 805  |#define HW_REF_CTRL_LOW_PWR_WIDTH (1) 
                             1978 ; 806  |#define HW_REF_CTRL_RSVD_WIDTH (4)
                             1979 ; 807  |
                             1980 ; 808  |#define HW_REF_CTRL_DACVBGVAL_SETMASK (((1<<HW_REF_CTRL_DACVBGVAL_WIDTH)-1)<<HW_REF_CTRL_DACVBGVAL_BITPOS)
                             1981 ; 809  |#define HW_REF_CTRL_ADJDAC_SETMASK (((1<<HW_REF_CTRL_ADJDAC_WIDTH)-1)<<HW_REF_CTRL_ADJDAC_BITPOS)
                             1982 ; 810  |#define HW_REF_CTRL_VAGVAL_SETMASK (((1<<HW_REF_CTRL_VAGVAL_WIDTH)-1)<<HW_REF_CTRL_VAGVAL_BITPOS)
                             1983 ; 811  |#define HW_REF_CTRL_ADJV_SETMASK (((1<<HW_REF_CTRL_ADJV_WIDTH)-1)<<HW_REF_CTRL_ADJV_BITPOS)
                             1984 ; 812  |#define HW_REF_CTRL_ADCREFV_SETMASK (((1<<HW_REF_CTRL_ADCREFV_WIDTH)-1)<<HW_REF_CTRL_ADCREFV_BITPOS)
                             1985 ; 813  |#define HW_REF_CTRL_ADJADC_SETMASK (((1<<HW_REF_CTRL_ADJADC_WIDTH)-1)<<HW_REF_CTRL_ADJADC_BITPOS)
                             1986 ; 814  |#define HW_REF_CTRL_PWRDWNS_SETMASK (((1<<HW_REF_CTRL_PWRDWNS_WIDTH)-1)<<HW_REF_CTRL_PWRDWNS_BITPOS)
                             1987 ; 815  |#define HW_REF_CTRL_BIASC_SETMASK (((1<<HW_REF_CTRL_BIASC_WIDTH)-1)<<HW_REF_CTRL_BIASC_BITPOS)
                             1988 ; 816  |#define HW_REF_CTRL_LWREF_SETMASK (((1<<HW_REF_CTRL_LWREF_WIDTH)-1)<<HW_REF_CTRL_LWREF_BITPOS)
                             1989 ; 817  |#define HW_REF_CTRL_LOW_PWR_SETMASK (((1<<HW_REF_CTRL_LOW_PWR_WIDTH)-1)<<HW_REF_CTRL_LOW_PWR_BITPOS)
                             1990 ; 818  |
                             1991 ; 819  |#define HW_REF_CTRL_DACVBGVAL_CLRMASK ~(WORD)HW_REF_CTRL_DACVBGVAL_SETMASK
                             1992 ; 820  |#define HW_REF_CTRL_ADJDAC_CLRMASK ~(WORD)HW_REF_CTRL_ADJDAC_SETMASK
                             1993 ; 821  |#define HW_REF_CTRL_VAGVAL_CLRMASK ~(WORD)HW_REF_CTRL_VAGVAL_SETMASK
                             1994 ; 822  |#define HW_REF_CTRL_ADJV_CLRMASK ~(WORD)HW_REF_CTRL_ADJV_SETMASK
                             1995 ; 823  |#define HW_REF_CTRL_ADCREFV_CLRMASK ~(WORD)HW_REF_CTRL_ADCREFV_SETMASK
                             1996 ; 824  |#define HW_REF_CTRL_ADJADC_CLRMASK ~(WORD)HW_REF_CTRL_ADJADC_SETMASK
                             1997 ; 825  |#define HW_REF_CTRL_PWRDWNS_CLRMASK ~(WORD)HW_REF_CTRL_PWRDWNS_SETMASK
                             1998 ; 826  |#define HW_REF_CTRL_BIASC_CLRMASK ~(WORD)HW_REF_CTRL_BIASC_SETMASK
                             1999 ; 827  |#define HW_REF_CTRL_LWREF_CLRMASK ~(WORD)HW_REF_CTRL_LWREF_SETMASK
                             2000 ; 828  |#define HW_REF_CTRL_LOW_PWR_CLRMASK ~(WORD)HW_REF_CTRL_LOW_PWR_SETMASK
                             2001 ; 829  |
                             2002 ; 830  |typedef union               
                             2003 ; 831  |{
                             2004 ; 832  |    struct {
                             2005 ; 833  |        int DACVBGVAL      : HW_REF_CTRL_DACVBGVAL_WIDTH;
                             2006 ; 834  |        int ADJDAC                 : HW_REF_CTRL_ADJDAC_WIDTH;
                             2007 ; 835  |        int VAGVAL                 : HW_REF_CTRL_VAGVAL_WIDTH;
                             2008 ; 836  |        int ADJV                   : HW_REF_CTRL_ADJV_WIDTH;
                             2009 ; 837  |        int ADCREFV       : HW_REF_CTRL_ADCREFV_WIDTH;
                             2010 ; 838  |        int ADJADC                 : HW_REF_CTRL_ADJADC_WIDTH;
                             2011 ; 839  |        int PWRDWNS       : HW_REF_CTRL_PWRDWNS_WIDTH;
                             2012 ; 840  |        int BIASC         : HW_REF_CTRL_BIASC_WIDTH;
                             2013 ; 841  |        int LWREF         : HW_REF_CTRL_LWREF_WIDTH;
                             2014 ; 842  |        int LOW_PWR       : HW_REF_CTRL_LOW_PWR_WIDTH;
                             2015 ; 843  |        int RSVD               : HW_REF_CTRL_RSVD_WIDTH;
                             2016 ; 844  |    } B;
                             2017 ; 845  |    int I;
                             2018 ; 846  |    unsigned int U;
                             2019 ; 847  |} ref_ctrl_type;
                             2020 ; 848  |#define HW_REF_CTRL (*(volatile ref_ctrl_type _X*) (HW_CODEC_BASEADDR+25))
                             2021 ; 849  |
                             2022 ; 850  |
                             2023 ; 851  |
                             2024 ; 852  |/////////////////////////////////////////////////////////////////////////////////
                             2025 ; 853  |/////////////////////////////////////////////////////////////////////////////////
                             2026 ; 854  |/////////////////////////////////////////////////////////////////////////////////
                             2027 ; 855  |//////  DAC Registers
                             2028 ; 856  |/////////////////////////////////////////////////////////////////////////////////
                             2029 ; 857  |/////////////////////////////////////////////////////////////////////////////////
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page   9

M:ADDR CODE           CYCLES LINE SOURCELINE
                             2030 ; 858  |/////////////////////////////////////////////////////////////////////////////////
                             2031 ; 859  |#define HW_DAC_BASEADDR 0xF800
                             2032 ; 860  |
                             2033 ; 861  |
                             2034 ; 862  |
                             2035 ; 863  |/////////////////////////////////////////////////////////////////////////////////
                             2036 ; 864  |//  DAC Control Status Register (HW_DACCSR) Bit Definitions
                             2037 ; 865  |#define HW_DACCSR_TXEN_BITPOS 0
                             2038 ; 866  |#define HW_DACCSR_TXIEN_BITPOS 1
                             2039 ; 867  |#define HW_DACCSR_TXI_BITPOS 2
                             2040 ; 868  |#define HW_DACCSR_TXEXC_BITPOS 3
                             2041 ; 869  |#define HW_DACCSR_LPBK_BITPOS 4
                             2042 ; 870  |#define HW_DACCSR_DMASEL_BITPOS 5
                             2043 ; 871  |#define HW_DACCSR_DAC_HIPPOP_EN_BITPOS 7
                             2044 ; 872  |#define HW_DACCSR_LVUP_BITPOS 8
                             2045 ; 873  |#define HW_DACCSR_RVUP_BITPOS 9
                             2046 ; 874  |#define HW_DACCSR_VUP_BITPOS 10
                             2047 ; 875  |#define HW_DACCSR_RSRVD_BITPOS 11
                             2048 ; 876  |#define HW_DACCSR_CLKGT_BITPOS 23
                             2049 ; 877  |
                             2050 ; 878  |#define HW_DACCSR_TXEN_WIDTH (1)
                             2051 ; 879  |#define HW_DACCSR_TXIEN_WIDTH (1)
                             2052 ; 880  |#define HW_DACCSR_TXI_WIDTH (1)
                             2053 ; 881  |#define HW_DACCSR_TXEXC_WIDTH (1)
                             2054 ; 882  |#define HW_DACCSR_LPBK_WIDTH (1)
                             2055 ; 883  |#define HW_DACCSR_DMASEL_WIDTH (2)
                             2056 ; 884  |#define HW_DACCSR_DAC_HIPPOP_EN_WIDTH (1)
                             2057 ; 885  |#define HW_DACCSR_LVUP_WIDTH (1)
                             2058 ; 886  |#define HW_DACCSR_RVUP_WIDTH (1)
                             2059 ; 887  |#define HW_DACCSR_VUP_WIDTH (1)
                             2060 ; 888  |#define HW_DACCSR_RSRVD_WIDTH (12)
                             2061 ; 889  |#define HW_DACCSR_CLKGT_WIDTH (1)
                             2062 ; 890  |
                             2063 ; 891  |#define HW_DACCSR_TXEN_SETMASK 1<<HW_DACCSR_TXEN_BITPOS
                             2064 ; 892  |#define HW_DACCSR_TXIEN_SETMASK 1<<HW_DACCSR_TXIEN_BITPOS
                             2065 ; 893  |#define HW_DACCSR_TXI_SETMASK 1<<HW_DACCSR_TXI_BITPOS
                             2066 ; 894  |#define HW_DACCSR_TXEXC_SETMASK 1<<HW_DACCSR_TXEXC_BITPOS
                             2067 ; 895  |#define HW_DACCSR_LPBK_SETMASK 1<<HW_DACCSR_LPBK_BITPOS
                             2068 ; 896  |#define HW_DACCSR_DMASEL_P_SETMASK ((2)<<(HW_DACCSR_DMASEL_BITPOS))
                             2069 ; 897  |#define HW_DACCSR_DMASEL_Y_SETMASK (1<<(HW_DACCSR_DMASEL_BITPOS))
                             2070 ; 898  |//         DMASEL_X has no asm setmask since X config value is 00 binary.
                             2071 ; 899  |#define HW_DACCSR_DAC_HIPPOP_EN_SETMASK (1<<HW_DACCSR_DAC_HIPPOP_EN_BITPOS)
                             2072 ; 900  |#define HW_DACCSR_LVUP_SETMASK (1<<HW_DACCSR_LVUP_BITPOS)
                             2073 ; 901  |#define HW_DACCSR_RVUP_SETMASK (1<<HW_DACCSR_RVUP_BITPOS)
                             2074 ; 902  |#define HW_DACCSR_VUP_SETMASK (1<<HW_DACCSR_VUP_BITPOS)
                             2075 ; 903  |#define HW_DACCSR_CLKGT_SETMASK (1<<HW_DACCSR_CLKGT_BITPOS)
                             2076 ; 904  |
                             2077 ; 905  |#define HW_DACCSR_TXEN_CLRMASK ~(WORD)HW_DACCSR_TXEN_SETMASK
                             2078 ; 906  |#define HW_DACCSR_TXIEN_CLRMASK ~(WORD)HW_DACCSR_TXIEN_SETMASK
                             2079 ; 907  |#define HW_DACCSR_TXI_CLRMASK ~(WORD)HW_DACCSR_TXI_SETMASK
                             2080 ; 908  |#define HW_DACCSR_TXEXC_CLRMASK ~(WORD)HW_DACCSR_TXEXC_SETMASK
                             2081 ; 909  |#define HW_DACCSR_LPBK_CLRMASK ~(WORD)HW_DACCSR_LPBK_SETMASK
                             2082 ; 910  |// No asm clrmask for 2 bit bitfield DMASEL
                             2083 ; 911  |#define HW_DACCSR_DAC_HIPPOP_EN_CLRMASK ~(WORD)HW_DACCSR_DAC_HIPPOP_EN_SETMASK
                             2084 ; 912  |#define HW_DACCSR_LVUP_CLRMASK ~(WORD)HW_DACCSR_LVUP_SETMASK
                             2085 ; 913  |#define HW_DACCSR_RVUP_CLRMASK ~(WORD)HW_DACCSR_RVUP_SETMASK
                             2086 ; 914  |#define HW_DACCSR_VUP_CLRMASK ~(WORD)HW_DACCSR_VUP_SETMASK
                             2087 ; 915  |#define HW_DACCSR_CLKGT_CLRMASK ~(WORD)HW_DACCSR_CLKGT_SETMASK 
                             2088 ; 916  |
                             2089 ; 917  |
                             2090 ; 918  |typedef union               
                             2091 ; 919  |{
                             2092 ; 920  |    struct {
                             2093 ; 921  |        int TXEN                        : HW_DACCSR_TXEN_WIDTH;
                             2094 ; 922  |        int TXIEN                       : HW_DACCSR_TXIEN_WIDTH;
                             2095 ; 923  |        int TXI                         : HW_DACCSR_TXI_WIDTH;
                             2096 ; 924  |        int TXEXC                       : HW_DACCSR_TXEXC_WIDTH;
                             2097 ; 925  |        int LPBK                        : HW_DACCSR_LPBK_WIDTH;
                             2098 ; 926  |        int DMASEL                      : HW_DACCSR_DMASEL_WIDTH;
                             2099 ; 927  |             #define HW_DACCSR_DMASEL_X_BITFIELD_VAL    0
                             2100 ; 928  |             #define HW_DACCSR_DMASEL_Y_BITFIELD_VAL    1
                             2101 ; 929  |             #define HW_DACCSR_DMASEL_P_BITFIELD_VAL    2       
                             2102 ; 930  |        int DAC_HIPPOP_EN               : HW_DACCSR_DAC_HIPPOP_EN_WIDTH;
                             2103 ; 931  |        int LVUP                        : HW_DACCSR_LVUP_WIDTH;
                             2104 ; 932  |        int RVUP                        : HW_DACCSR_RVUP_WIDTH;
                             2105 ; 933  |        int VUP                         : HW_DACCSR_VUP_WIDTH;
                             2106 ; 934  |        int RSVD                        : HW_DACCSR_RSRVD_WIDTH;
                             2107 ; 935  |        int CLKGT                       : HW_DACCSR_CLKGT_WIDTH;
                             2108 ; 936  |    } B;
                             2109 ; 937  |    int I;
                             2110 ; 938  |    unsigned int U;
                             2111 ; 939  |} dac_csr_type;
                             2112 ; 940  |#define HW_DACCSR      (*(volatile dac_csr_type _X*) (HW_DAC_BASEADDR))
                             2113 ; 941  |
                             2114 ; 942  |
                             2115 ; 943  |
                             2116 ; 944  |/////////////////////////////////////////////////////////////////////////////////
                             2117 ; 945  |//  DAC Sample Rate Register (HW_DACSRR) Bit Definitions
                             2118 ; 946  |#define HW_DACSRR_SR_BITPOS 0
                             2119 ; 947  |
                             2120 ; 948  |#define HW_DACSRR_SR_WIDTH (23)
                             2121 ; 949  |#define HW_DACSRR_RSVD_WIDTH (1)
                             2122 ; 950  |
                             2123 ; 951  |//HW_DACSRR_SR_SETMASK                    equ     $FFFFFF<<HW_DACSRR_SR_BITPOS
                             2124 ; 952  |#define HW_DACSRR_SR_SETMASK (((1<<HW_DACSRR_SR_WIDTH)-1)<<HW_DACSRR_SR_BITPOS)        
                             2125 ; 953  |
                             2126 ; 954  |#define HW_DACSRR_SR_CLRMASK ~(WORD)HW_DACSRR_SR_SETMASK
                             2127 ; 955  |
                             2128 ; 956  |typedef union               
                             2129 ; 957  |{
                             2130 ; 958  |    struct {
                             2131 ; 959  |        int SR                          : HW_DACSRR_SR_WIDTH;
                             2132 ; 960  |        int RSVD                        : HW_DACSRR_RSVD_WIDTH;
                             2133 ; 961  |    } B;
                             2134 ; 962  |    int I;
                             2135 ; 963  |    unsigned int U;
                             2136 ; 964  |} dac_srr_type;
                             2137 ; 965  |#define HW_DACSRR      (*(volatile dac_srr_type _X*) (HW_DAC_BASEADDR+1))
                             2138 ; 966  |
                             2139 ; 967  |
                             2140 ; 968  |
                             2141 ; 969  |/////////////////////////////////////////////////////////////////////////////////
                             2142 ; 970  |//  DAC Word Count Register (HW_DACWCR) Bit Definitions
                             2143 ; 971  |#define HW_DACWCR_WCR_BITPOS 0
                             2144 ; 972  |
                             2145 ; 973  |#define HW_DACWCR_WCR_WIDTH (10)
                             2146 ; 974  |#define HW_DACWCR_RSVD_WIDTH (12)
                             2147 ; 975  |
                             2148 ; 976  |//HW_DACWCR_WCR_SETMASK                   equ     $3FF<<HW_DACWCR_WCR_BITPOS
                             2149 ; 977  |#define HW_DACWCR_WCR_SETMASK (((1<<HW_DACWCR_WCR_WIDTH)-1)<<HW_DACWCR_WCR_BITPOS)        
                             2150 ; 978  |
                             2151 ; 979  |#define HW_DACWCR_WCR_CLRMASK ~(WORD)HW_DACWCR_WCR_SETMASK
                             2152 ; 980  |
                             2153 ; 981  |typedef union               
                             2154 ; 982  |{
                             2155 ; 983  |    struct {
                             2156 ; 984  |        int WCR                         : HW_DACWCR_WCR_WIDTH;
                             2157 ; 985  |        int RSVD                        : HW_DACWCR_RSVD_WIDTH;
                             2158 ; 986  |    } B;
                             2159 ; 987  |    int I;
                             2160 ; 988  |    unsigned int U;
                             2161 ; 989  |} dac_wcr_type;
                             2162 ; 990  |#define HW_DACWCR      (*(volatile dac_wcr_type _X*) (HW_DAC_BASEADDR+2))
                             2163 ; 991  |
                             2164 ; 992  |
                             2165 ; 993  |
                             2166 ; 994  |/////////////////////////////////////////////////////////////////////////////////
                             2167 ; 995  |//  DAC Current Position Register (HW_DACCPR) Bit Definitions
                             2168 ; 996  |#define HW_DACCPR_CPR_BITPOS 0
                             2169 ; 997  |
                             2170 ; 998  |#define HW_DACCPR_CPR_WIDTH (10)
                             2171 ; 999  |#define HW_DACCPR_RSVD_WIDTH (14)
                             2172 ; 1000 |
                             2173 ; 1001 |//HW_DACCPR_CPR_SETMASK                   equ     $3FF<<HW_DACCPR_CPR_BITPOS
                             2174 ; 1002 |#define HW_DACCPR_CPR_SETMASK (((1<<HW_DACCPR_CPR_WIDTH)-1)<<HW_DACCPR_CPR_BITPOS)        
                             2175 ; 1003 |
                             2176 ; 1004 |#define HW_DACCPR_CPR_CLRMASK ~(WORD)HW_DACCPR_CPR_SETMASK
                             2177 ; 1005 |
                             2178 ; 1006 |typedef union               
                             2179 ; 1007 |{
                             2180 ; 1008 |    struct {
                             2181 ; 1009 |        int CPR                         : HW_DACCPR_CPR_WIDTH;
                             2182 ; 1010 |        int RSVD                        : HW_DACCPR_RSVD_WIDTH;
                             2183 ; 1011 |    } B;
                             2184 ; 1012 |    int I;
                             2185 ; 1013 |    unsigned int U;
                             2186 ; 1014 |} dac_cpr_type;
                             2187 ; 1015 |#define HW_DACCPR      (*(volatile dac_cpr_type _X*) (HW_DAC_BASEADDR+3))
                             2188 ; 1016 |
                             2189 ; 1017 |
                             2190 ; 1018 |
                             2191 ; 1019 |/////////////////////////////////////////////////////////////////////////////////
                             2192 ; 1020 |//  DAC Modulo Register (HW_DACMR) Bit Definitions
                             2193 ; 1021 |#define HW_DACMR_MR_BITPOS 0
                             2194 ; 1022 |#define HW_DACMR_MR_WIDTH (10)
                             2195 ; 1023 |#define HW_DACMR_RSVD_WIDTH (14)
                             2196 ; 1024 |
                             2197 ; 1025 |//HW_DACMR_MR_SETMASK                     equ     $3FF<<HW_DACMR_MR_BITPOS
                             2198 ; 1026 |#define HW_DACMR_MR_SETMASK (((1<<HW_DACMR_MR_WIDTH)-1)<<HW_DACMR_MR_BITPOS)        
                             2199 ; 1027 |
                             2200 ; 1028 |#define HW_DACMR_MR_CLRMASK ~(WORD)HW_DACMR_MR_SETMASK
                             2201 ; 1029 |
                             2202 ; 1030 |typedef union               
                             2203 ; 1031 |{
                             2204 ; 1032 |    struct {
                             2205 ; 1033 |        int MR                         : HW_DACMR_MR_WIDTH;
                             2206 ; 1034 |        int RSVD                       : HW_DACMR_RSVD_WIDTH;
                             2207 ; 1035 |    } B;
                             2208 ; 1036 |    int I;
                             2209 ; 1037 |    unsigned int U;
                             2210 ; 1038 |} dac_mr_type;
                             2211 ; 1039 |#define HW_DACMR      (*(volatile dac_mr_type _X*) (HW_DAC_BASEADDR+4))
                             2212 ; 1040 |
                             2213 ; 1041 |
                             2214 ; 1042 |
                             2215 ; 1043 |/////////////////////////////////////////////////////////////////////////////////
                             2216 ; 1044 |//   DAC Base Address Register (HW_DACBAR) Bit Definitions
                             2217 ; 1045 |#define HW_DACBAR_BAR_BITPOS 0
                             2218 ; 1046 |#define HW_DACBAR_BAR_WIDTH (16)
                             2219 ; 1047 |#define HW_DACBAR_RSVD_WIDTH (8)
                             2220 ; 1048 |
                             2221 ; 1049 |//HW_DACBAR_BAR_SETMASK                   equ     $FFFF<<HW_DACBAR_BAR_BITPOS
                             2222 ; 1050 |#define HW_DACBAR_BAR_SETMASK (((1<<HW_DACBAR_BAR_WIDTH)-1)<<HW_DACBAR_BAR_BITPOS)        
                             2223 ; 1051 |
                             2224 ; 1052 |#define HW_DACBAR_BAR_CLRMASK ~(WORD)HW_DACBAR_BAR_SETMASK
                             2225 ; 1053 |
                             2226 ; 1054 |typedef union               
                             2227 ; 1055 |{
                             2228 ; 1056 |    struct {
                             2229 ; 1057 |        int BAR                        : HW_DACBAR_BAR_WIDTH;
                             2230 ; 1058 |        int RSVD                       : HW_DACBAR_RSVD_WIDTH;
                             2231 ; 1059 |    } B;
                             2232 ; 1060 |    int I;
                             2233 ; 1061 |    unsigned int U;
                             2234 ; 1062 |} dac_bar_type;
                             2235 ; 1063 |#define HW_DACBAR      (*(volatile dac_bar_type _X*) (HW_DAC_BASEADDR+5))
                             2236 ; 1064 |
                             2237 ; 1065 |
                             2238 ; 1066 |
                             2239 ; 1067 |/////////////////////////////////////////////////////////////////////////////////
                             2240 ; 1068 |//  DAC Interrupt Control Register (HW_DACICR) Bit Definitions
                             2241 ; 1069 |#define HW_DACICR_IPT_BITPOS 0
                             2242 ; 1070 |
                             2243 ; 1071 |#define HW_DACICR_IPT_WIDTH (10)
                             2244 ; 1072 |#define HW_DACICR_RSVD_WIDTH (12)
                             2245 ; 1073 |
                             2246 ; 1074 |#define HW_DACICR_IPT_SETMASK (((1<<HW_DACICR_IPT_WIDTH)-1)<<HW_DACICR_IPT_BITPOS)        
                             2247 ; 1075 |
                             2248 ; 1076 |#define HW_DACICR_IPT_CLRMASK ~(WORD)HW_DACICR_IPT_SETMASK
                             2249 ; 1077 |
                             2250 ; 1078 |typedef union               
                             2251 ; 1079 |{
                             2252 ; 1080 |    struct {
                             2253 ; 1081 |        int IPT                         : HW_DACICR_IPT_WIDTH;
                             2254 ; 1082 |        int RSVD                        : HW_DACICR_RSVD_WIDTH;
                             2255 ; 1083 |    } B;
                             2256 ; 1084 |    int I;
                             2257 ; 1085 |    unsigned int U;
                             2258 ; 1086 |} dac_icr_type;
                             2259 ; 1087 |#define HW_DACICR      (*(volatile dac_icr_type _X*) (HW_DAC_BASEADDR+6))
                             2260 ; 1088 |
                             2261 ; 1089 |
                             2262 ; 1090 |
                             2263 ; 1091 |
                             2264 ; 1092 |
                             2265 ; 1093 |/////////////////////////////////////////////////////////////////////////////////
                             2266 ; 1094 |/////////////////////////////////////////////////////////////////////////////////
                             2267 ; 1095 |/////////////////////////////////////////////////////////////////////////////////
                             2268 ; 1096 |//////  ADC Registers
                             2269 ; 1097 |/////////////////////////////////////////////////////////////////////////////////
                             2270 ; 1098 |/////////////////////////////////////////////////////////////////////////////////
                             2271 ; 1099 |/////////////////////////////////////////////////////////////////////////////////
                             2272 ; 1100 |#define HW_ADC_BASEADDR 0xFB00
                             2273 ; 1101 |
                             2274 ; 1102 |
                             2275 ; 1103 |
                             2276 ; 1104 |/////////////////////////////////////////////////////////////////////////////////
                             2277 ; 1105 |//  ADC Control Status Register (HW_ADCCSR) Bit Definitions
                             2278 ; 1106 |#define HW_ADCCSR_TXEN_BITPOS 0
                             2279 ; 1107 |#define HW_ADCCSR_TXIEN_BITPOS 1
                             2280 ; 1108 |#define HW_ADCCSR_TXI_BITPOS 2
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page  10

M:ADDR CODE           CYCLES LINE SOURCELINE
                             2281 ; 1109 |#define HW_ADCCSR_TXEXC_BITPOS 3
                             2282 ; 1110 |#define HW_ADCCSR_LPBK_BITPOS 4
                             2283 ; 1111 |#define HW_ADCCSR_DMASEL_BITPOS 5
                             2284 ; 1112 |#define HW_ADCCSR_LPFMODE_BITPOS 8
                             2285 ; 1113 |#define HW_ADCCSR_CLKGT_BITPOS 23
                             2286 ; 1114 |
                             2287 ; 1115 |#define HW_ADCCSR_TXEN_WIDTH (1)
                             2288 ; 1116 |#define HW_ADCCSR_TXIEN_WIDTH (1)
                             2289 ; 1117 |#define HW_ADCCSR_TXI_WIDTH (1)
                             2290 ; 1118 |#define HW_ADCCSR_TXEXC_WIDTH (1)
                             2291 ; 1119 |#define HW_ADCCSR_LPBK_WIDTH (1)
                             2292 ; 1120 |#define HW_ADCCSR_DMASEL_WIDTH (2)
                             2293 ; 1121 |#define HW_ADCCSR_RSVD1_WIDTH (1)
                             2294 ; 1122 |#define HW_ADCCSR_LPFMODE_WIDTH (4)
                             2295 ; 1123 |#define HW_ADCCSR_RSVD2_WIDTH (11)
                             2296 ; 1124 |#define HW_ADCCSR_CLKGT_WIDTH (1)
                             2297 ; 1125 |
                             2298 ; 1126 |#define HW_ADCCSR_TXEN_SETMASK 1<<HW_ADCCSR_TXEN_BITPOS
                             2299 ; 1127 |#define HW_ADCCSR_TXIEN_SETMASK 1<<HW_ADCCSR_TXIEN_BITPOS
                             2300 ; 1128 |#define HW_ADCCSR_TXI_SETMASK 1<<HW_ADCCSR_TXI_BITPOS
                             2301 ; 1129 |#define HW_ADCCSR_TXEXC_SETMASK 1<<HW_ADCCSR_TXEXC_BITPOS
                             2302 ; 1130 |#define HW_ADCCSR_LPBK_SETMASK 1<<HW_ADCCSR_LPBK_BITPOS
                             2303 ; 1131 |#define HW_ADCCSR_DMASEL_SETMASK (((1<<HW_ADCCSR_DMASEL_WIDTH)-1)<<HW_ADCCSR_DMASEL_BITPOS)        
                             2304 ; 1132 |#define HW_ADCCSR_LPFMODE_SETMASK (((1<<HW_ADCCSR_LPFMODE_WIDTH)-1)<<HW_ADCCSR_LPFMODE_BITPOS)        
                             2305 ; 1133 |#define HW_ADCCSR_CLKGT_SETMASK 1<<HW_ADCCSR_CLKGT_BITPOS
                             2306 ; 1134 |
                             2307 ; 1135 |#define HW_ADCCSR_TXEN_CLRMASK ~(WORD)HW_ADCCSR_TXEN_SETMASK
                             2308 ; 1136 |#define HW_ADCCSR_TXIEN_CLRMASK ~(WORD)HW_ADCCSR_TXIEN_SETMASK
                             2309 ; 1137 |#define HW_ADCCSR_TXI_CLRMASK ~(WORD)HW_ADCCSR_TXI_SETMASK
                             2310 ; 1138 |#define HW_ADCCSR_TXEXC_CLRMASK ~(WORD)HW_ADCCSR_TXEXC_SETMASK
                             2311 ; 1139 |#define HW_ADCCSR_LPBK_CLRMASK ~(WORD)HW_ADCCSR_LPBK_SETMASK
                             2312 ; 1140 |#define HW_ADCCSR_DMASEL_CLRMASK ~(WORD)HW_ADCCSR_DMASEL_SETMASK
                             2313 ; 1141 |#define HW_ADCCSR_LPFMODE_CLRMASK ~(WORD)HW_ADCCSR_LPFMODE_SETMASK
                             2314 ; 1142 |#define HW_ADCCSR_CLKGT_CLRMASK ~(WORD)HW_ADCCSR_CLKGT_SETMASK
                             2315 ; 1143 |
                             2316 ; 1144 |typedef union               
                             2317 ; 1145 |{
                             2318 ; 1146 |    struct {
                             2319 ; 1147 |        int TXEN                        : HW_ADCCSR_TXEN_WIDTH;
                             2320 ; 1148 |        int TXIEN                       : HW_ADCCSR_TXIEN_WIDTH;
                             2321 ; 1149 |        int TXI                         : HW_ADCCSR_TXI_WIDTH;
                             2322 ; 1150 |        int TXEXC                       : HW_ADCCSR_TXEXC_WIDTH;
                             2323 ; 1151 |        int LPBK                        : HW_ADCCSR_LPBK_WIDTH;
                             2324 ; 1152 |        int RSVD1                       : HW_ADCCSR_RSVD1_WIDTH;
                             2325 ; 1153 |        int DMASEL                      : HW_ADCCSR_DMASEL_WIDTH;
                             2326 ; 1154 |        int LPFMODE                     : HW_ADCCSR_LPFMODE_WIDTH;
                             2327 ; 1155 |        int RSVD2                       : HW_ADCCSR_RSVD2_WIDTH;
                             2328 ; 1156 |        int CLKGT                       : HW_ADCCSR_CLKGT_WIDTH;
                             2329 ; 1157 |    } B;
                             2330 ; 1158 |    int I;
                             2331 ; 1159 |    unsigned int U;
                             2332 ; 1160 |} adc_csr_type;
                             2333 ; 1161 |#define HW_ADCCSR (*(volatile adc_csr_type _X*) (HW_ADC_BASEADDR+0))
                             2334 ; 1162 |
                             2335 ; 1163 |
                             2336 ; 1164 |/////////////////////////////////////////////////////////////////////////////////
                             2337 ; 1165 |//  ADC Word Count Register (HW_ADCWCR) Bit Definitions
                             2338 ; 1166 |#define HW_ADCWCR_WCR_BITPOS 0
                             2339 ; 1167 |
                             2340 ; 1168 |#define HW_ADCWCR_WCR_WIDTH (10)
                             2341 ; 1169 |#define HW_ADCWCR_RSVD_WIDTH (14)
                             2342 ; 1170 |
                             2343 ; 1171 |#define HW_ADCWCR_WCR_SETMASK (((1<<HW_ADCWCR_WCR_WIDTH)-1)<<HW_ADCWCR_WCR_BITPOS)        
                             2344 ; 1172 |
                             2345 ; 1173 |#define HW_ADCWCR_WCR_CLRMASK ~(WORD)HW_ADCWCR_WCR_SETMASK
                             2346 ; 1174 |
                             2347 ; 1175 |typedef union               
                             2348 ; 1176 |{
                             2349 ; 1177 |    struct {
                             2350 ; 1178 |        int WCR                         : HW_ADCWCR_WCR_WIDTH;
                             2351 ; 1179 |        int RSVD                        : HW_ADCWCR_RSVD_WIDTH;
                             2352 ; 1180 |    } B;
                             2353 ; 1181 |    int I;
                             2354 ; 1182 |    unsigned int U;
                             2355 ; 1183 |} adc_wcr_type;
                             2356 ; 1184 |#define HW_ADCWCR (*(volatile adc_wcr_type _X*) (HW_ADC_BASEADDR+2))
                             2357 ; 1185 |
                             2358 ; 1186 |
                             2359 ; 1187 |
                             2360 ; 1188 |/////////////////////////////////////////////////////////////////////////////////
                             2361 ; 1189 |//   ADC Base Address Register (HW_ADCBAR) Bit Definitions
                             2362 ; 1190 |#define HW_ADCBAR_BAR_BITPOS 0
                             2363 ; 1191 |#define HW_ADCBAR_BAR_WIDTH (16)
                             2364 ; 1192 |#define HW_ADCBAR_RSVD_WIDTH (8)
                             2365 ; 1193 |
                             2366 ; 1194 |//HW_ADCBAR_BAR_SETMASK                   equ     $FFFF<<HW_ADCBAR_BAR_BITPOS
                             2367 ; 1195 |#define HW_ADCBAR_BAR_SETMASK (((1<<HW_ADCBAR_BAR_WIDTH)-1)<<HW_ADCBAR_BAR_BITPOS)        
                             2368 ; 1196 |
                             2369 ; 1197 |#define HW_ADCBAR_BAR_CLRMASK ~(WORD)HW_ADCBAR_BAR_SETMASK
                             2370 ; 1198 |
                             2371 ; 1199 |typedef union               
                             2372 ; 1200 |{
                             2373 ; 1201 |    struct {
                             2374 ; 1202 |        int BAR                        : HW_ADCBAR_BAR_WIDTH;
                             2375 ; 1203 |        int RSVD                       : HW_ADCBAR_RSVD_WIDTH;
                             2376 ; 1204 |    } B;
                             2377 ; 1205 |    int I;
                             2378 ; 1206 |    unsigned int U;
                             2379 ; 1207 |} adc_bar_type;
                             2380 ; 1208 |#define HW_ADCBAR (*(volatile adc_bar_type _X*) (HW_ADC_BASEADDR+5))
                             2381 ; 1209 |
                             2382 ; 1210 |
                             2383 ; 1211 |
                             2384 ; 1212 |
                             2385 ; 1213 |
                             2386 ; 1214 |/////////////////////////////////////////////////////////////////////////////////
                             2387 ; 1215 |//  DAC Current Position Register (HW_ADCCPR) Bit Definitions
                             2388 ; 1216 |#define HW_ADCCPR_CPR_BITPOS 0
                             2389 ; 1217 |
                             2390 ; 1218 |#define HW_ADCCPR_CPR_WIDTH (10)
                             2391 ; 1219 |#define HW_ADCCPR_RSVD_WIDTH (14)
                             2392 ; 1220 |
                             2393 ; 1221 |#define HW_ADCCPR_CPR_SETMASK (((1<<HW_ADCCPR_CPR_WIDTH)-1)<<HW_ADCCPR_CPR_BITPOS)        
                             2394 ; 1222 |
                             2395 ; 1223 |#define HW_ADCCPR_CPR_CLRMASK ~(WORD)HW_ADCCPR_CPR_SETMASK
                             2396 ; 1224 |
                             2397 ; 1225 |typedef union               
                             2398 ; 1226 |{
                             2399 ; 1227 |    struct {
                             2400 ; 1228 |        int CPR                         : HW_ADCCPR_CPR_WIDTH;
                             2401 ; 1229 |        int RSVD                        : HW_ADCCPR_RSVD_WIDTH;
                             2402 ; 1230 |    } B;
                             2403 ; 1231 |    int I;
                             2404 ; 1232 |    unsigned int U;
                             2405 ; 1233 |} adc_cpr_type;
                             2406 ; 1234 |#define HW_ADCCPR (*(volatile adc_cpr_type _X*) (HW_ADC_BASEADDR+3))
                             2407 ; 1235 |
                             2408 ; 1236 |
                             2409 ; 1237 |/////////////////////////////////////////////////////////////////////////////////
                             2410 ; 1238 |//  ADC Modulo Register (HW_ADCMR) Bit Definitions
                             2411 ; 1239 |#define HW_ADCMR_MR_BITPOS 0
                             2412 ; 1240 |#define HW_ADCMR_MR_WIDTH (10)
                             2413 ; 1241 |#define HW_ADCMR_RSVD_WIDTH (14)
                             2414 ; 1242 |
                             2415 ; 1243 |//HW_ADCMR_MR_SETMASK                     equ     $3FF<<HW_ADCMR_MR_BITPOS
                             2416 ; 1244 |#define HW_ADCMR_MR_SETMASK (((1<<HW_ADCMR_MR_WIDTH)-1)<<HW_ADCMR_MR_BITPOS)        
                             2417 ; 1245 |
                             2418 ; 1246 |#define HW_ADCMR_MR_CLRMASK ~(WORD)HW_ADCMR_MR_SETMASK
                             2419 ; 1247 |
                             2420 ; 1248 |typedef union               
                             2421 ; 1249 |{
                             2422 ; 1250 |    struct {
                             2423 ; 1251 |        int MR                         : HW_ADCMR_MR_WIDTH;
                             2424 ; 1252 |        int RSVD                       : HW_ADCMR_RSVD_WIDTH;
                             2425 ; 1253 |    } B;
                             2426 ; 1254 |    int I;
                             2427 ; 1255 |    unsigned int U;
                             2428 ; 1256 |} adc_mr_type;
                             2429 ; 1257 |#define HW_ADCMR (*(volatile adc_mr_type _X*) (HW_ADC_BASEADDR+4))
                             2430 ; 1258 |
                             2431 ; 1259 |/////////////////////////////////////////////////////////////////////////////////
                             2432 ; 1260 |//  ADC Sample Rate Register (HW_ADCSRR) Bit Definitions
                             2433 ; 1261 |#define HW_ADCSRR_SR_BITPOS 0
                             2434 ; 1262 |
                             2435 ; 1263 |#define HW_ADCSRR_SR_WIDTH (23)
                             2436 ; 1264 |#define HW_ADCSRR_RSVD_WIDTH (1)
                             2437 ; 1265 |
                             2438 ; 1266 |//HW_ADCSRR_SR_SETMASK                    equ     $FFFFFF<<HW_ADCSRR_SR_BITPOS
                             2439 ; 1267 |#define HW_ADCSRR_SR_SETMASK (((1<<HW_ADCSRR_SR_WIDTH)-1)<<HW_ADCSRR_SR_BITPOS)        
                             2440 ; 1268 |
                             2441 ; 1269 |#define HW_ADCSRR_SR_CLRMASK ~(WORD)HW_ADCSRR_SR_SETMASK
                             2442 ; 1270 |
                             2443 ; 1271 |typedef union               
                             2444 ; 1272 |{
                             2445 ; 1273 |    struct {
                             2446 ; 1274 |        int SR                          : HW_ADCSRR_SR_WIDTH;
                             2447 ; 1275 |        int RSVD                        : HW_ADCSRR_RSVD_WIDTH;
                             2448 ; 1276 |    } B;
                             2449 ; 1277 |    int I;
                             2450 ; 1278 |    unsigned int U;
                             2451 ; 1279 |} adc_srr_type;
                             2452 ; 1280 |#define HW_ADCSRR (*(volatile adc_srr_type _X*) (HW_ADC_BASEADDR+1))
                             2453 ; 1281 |
                             2454 ; 1282 |/////////////////////////////////////////////////////////////////////////////////
                             2455 ; 1283 |//  ADC Interrupt Control Register (HW_ADCICR) Bit Definitions
                             2456 ; 1284 |#define HW_ADCICR_IPT_BITPOS 0
                             2457 ; 1285 |
                             2458 ; 1286 |#define HW_ADCICR_IPT_WIDTH (10)
                             2459 ; 1287 |#define HW_ADCICR_RSVD_WIDTH (12)
                             2460 ; 1288 |
                             2461 ; 1289 |#define HW_ADCICR_IPT_SETMASK (((1<<HW_ADCICR_IPT_WIDTH)-1)<<HW_ADCICR_IPT_BITPOS)        
                             2462 ; 1290 |
                             2463 ; 1291 |#define HW_ADCICR_IPT_CLRMASK ~(WORD)HW_ADCICR_IPT_SETMASK
                             2464 ; 1292 |
                             2465 ; 1293 |typedef union               
                             2466 ; 1294 |{
                             2467 ; 1295 |    struct {
                             2468 ; 1296 |        int IPT                         : HW_ADCICR_IPT_WIDTH;
                             2469 ; 1297 |        int RSVD                        : HW_ADCICR_RSVD_WIDTH;
                             2470 ; 1298 |    } B;
                             2471 ; 1299 |    int I;
                             2472 ; 1300 |    unsigned int U;
                             2473 ; 1301 |} adc_icr_type;
                             2474 ; 1302 |#define HW_ADCICR (*(volatile adc_icr_type _X*) (HW_ADC_BASEADDR+6))
                             2475 ; 1303 |
                             2476 ; 1304 |//*********************  REGISTER ALIAS DEFINES TO MATCH LEGACY CODE *******************************
                             2477 ; 1305 |// The following defines were added to match regs3410.inc definition to build SDK2XXX code without needing 
                             2478 ; 1306 |// to update the actual files. Only the defines needed to build SDK2.400 were added.
                             2479 ; 1307 |
                             2480 ; 1308 |#define HW_MIXTBR_PW_ADC_RIGHT_CH_BITPOS 16
                             2481 ; 1309 |
                             2482 ; 1310 |#define HW_MIXLINE1INVR_GN_ZERO_SETMASK 0x808
                             2483 ; 1311 |
                             2484 ; 1312 |#endif
                             2485 ; 1313 |
                             2486 
                             2488 
                             2489 ; 20   |#include "regsdcdc.h"
                             2490 
                             2492 
                             2493 ; 1    |#if !(defined(regsdcdcinc))
                             2494 ; 2    |
                             2495 ; 3    |#define regssysteminc 1
                             2496 ; 4    |
                             2497 ; 5    |
                             2498 ; 6    |
                             2499 ; 7    |#include "types.h"
                             2500 
                             2502 
                             2503 ; 1    |////////////////////////////////////////////////////////////////////////////////
                             2504 ; 2    |// Copyright(C) SigmaTel, Inc. 2000-2004
                             2505 ; 3    |//
                             2506 ; 4    |// Filename: types.h
                             2507 ; 5    |// Description: Standard data types
                             2508 ; 6    |////////////////////////////////////////////////////////////////////////////////
                             2509 ; 7    |
                             2510 ; 8    |#ifndef _TYPES_H
                             2511 ; 9    |#define _TYPES_H
                             2512 ; 10   |
                             2513 ; 11   |// TODO:  move this outta here!
                             2514 ; 12   |#if !defined(NOERROR)
                             2515 ; 13   |#define NOERROR 0
                             2516 ; 14   |#define SUCCESS 0
                             2517 ; 15   |#endif 
                             2518 ; 16   |#if !defined(SUCCESS)
                             2519 ; 17   |#define SUCCESS  0
                             2520 ; 18   |#endif
                             2521 ; 19   |#if !defined(ERROR)
                             2522 ; 20   |#define ERROR   -1
                             2523 ; 21   |#endif
                             2524 ; 22   |#if !defined(FALSE)
                             2525 ; 23   |#define FALSE 0
                             2526 ; 24   |#endif
                             2527 ; 25   |#if !defined(TRUE)
                             2528 ; 26   |#define TRUE  1
                             2529 ; 27   |#endif
                             2530 ; 28   |
                             2531 ; 29   |#if !defined(NULL)
                             2532 ; 30   |#define NULL 0
                             2533 ; 31   |#endif
                             2534 ; 32   |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page  11

M:ADDR CODE           CYCLES LINE SOURCELINE
                             2535 ; 33   |#define MAX_INT     0x7FFFFF
                             2536 ; 34   |#define MAX_LONG    0x7FFFFFffffff
                             2537 ; 35   |        // max positive unsigned long value: -1 == 0xFFFFFFffffff
                             2538 ; 36   |#define MAX_ULONG   (-1) 
                             2539 ; 37   |
                             2540 ; 38   |#define WORD_SIZE   24              // word size in bits
                             2541 ; 39   |#define BYTES_PER_WORD 3            // 8 bit bytes
                             2542 ; 40   |
                             2543 ; 41   |
                             2544 ; 42   |#define BYTE    unsigned char       // btVarName
                             2545 ; 43   |#define CHAR    signed char         // cVarName
                             2546 ; 44   |#define USHORT  unsigned short      // usVarName
                             2547 ; 45   |#define SHORT   unsigned short      // sVarName
                             2548 ; 46   |#define WORD    unsigned int        // wVarName
                             2549 ; 47   |#define INT     signed int          // iVarName
                             2550 ; 48   |#define DWORD   unsigned long       // dwVarName
                             2551 ; 49   |#define LONG    signed long         // lVarName
                             2552 ; 50   |#define BOOL    unsigned int        // bVarName
                             2553 ; 51   |#define FRACT   _fract              // frVarName
                             2554 ; 52   |#define LFRACT  long _fract         // lfrVarName
                             2555 ; 53   |#define CIRC    _circ               // cp<type prefix>VarName (see below)
                             2556 ; 54   |#define FLOAT   float               // fVarName
                             2557 ; 55   |#define DBL     double              // dVarName
                             2558 ; 56   |#define ENUM    enum                // eVarName
                             2559 ; 57   |#define CMX     _complex            // cmxVarName
                             2560 ; 58   |typedef WORD UCS3;                   // 
                             2561 ; 59   |
                             2562 ; 60   |#define UINT16  unsigned short
                             2563 ; 61   |#define UINT8   unsigned char   
                             2564 ; 62   |#define UINT32  unsigned long
                             2565 ; 63   |#define UINT64  unsigned long   // need to figure out how to do 64 bit values.  Or port exisiting code to only use 48 bit
                             2566 ; 64   |#define INT64   unsigned long   // need to figure out how to do 64 bit values.  Or port exisiting code to only use 48 bit
                             2567 ; 65   |#define WCHAR   UINT16
                             2568 ; 66   |
                             2569 ; 67   |//UINT128 is 16 bytes or 6 words
                             2570 ; 68   |typedef struct UINT128_3500 {   
                             2571 ; 69   |    int val[6];     
                             2572 ; 70   |} UINT128_3500;
                             2573 ; 71   |
                             2574 ; 72   |#define UINT128   UINT128_3500
                             2575 ; 73   |
                             2576 ; 74   |// Little endian word packed byte strings:   
                             2577 ; 75   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                             2578 ; 76   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                             2579 ; 77   |// Little endian word packed byte strings:   
                             2580 ; 78   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                             2581 ; 79   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                             2582 ; 80   |
                             2583 ; 81   |// Declare Memory Spaces To Use When Coding
                             2584 ; 82   |// A. Sector Buffers
                             2585 ; 83   |#define SECTOR_BUFFER_MEM_X _X
                             2586 ; 84   |#define SECTOR_BUFFER_MEM_Y _Y
                             2587 ; 85   |#define SECTOR_BUFFER_MEM SECTOR_BUFFER_MEM_X
                             2588 ; 86   |typedef WORD SECTOR_BUFFER_MEM SECTOR_BUFFER;
                             2589 ; 87   |typedef SECTOR_BUFFER * P_SECTOR_BUFFER;
                             2590 ; 88   |// B. Media DDI Memory
                             2591 ; 89   |#define MEDIA_DDI_MEM _Y
                             2592 ; 90   |
                             2593 ; 91   |
                             2594 ; 92   |
                             2595 ; 93   |// Pointers to linear structures are labeled as: p<type prefix>VarName
                             2596 ; 94   |// Examples of circular pointers:
                             2597 ; 95   |//    INT CIRC cpiVarName
                             2598 ; 96   |//    DWORD CIRC cpdwVarName
                             2599 ; 97   |
                             2600 ; 98   |#define RETCODE INT                 // rcVarName
                             2601 ; 99   |
                             2602 ; 100  |// generic bitfield structure
                             2603 ; 101  |struct Bitfield {
                             2604 ; 102  |    unsigned int B0  :1;
                             2605 ; 103  |    unsigned int B1  :1;
                             2606 ; 104  |    unsigned int B2  :1;
                             2607 ; 105  |    unsigned int B3  :1;
                             2608 ; 106  |    unsigned int B4  :1;
                             2609 ; 107  |    unsigned int B5  :1;
                             2610 ; 108  |    unsigned int B6  :1;
                             2611 ; 109  |    unsigned int B7  :1;
                             2612 ; 110  |    unsigned int B8  :1;
                             2613 ; 111  |    unsigned int B9  :1;
                             2614 ; 112  |    unsigned int B10 :1;
                             2615 ; 113  |    unsigned int B11 :1;
                             2616 ; 114  |    unsigned int B12 :1;
                             2617 ; 115  |    unsigned int B13 :1;
                             2618 ; 116  |    unsigned int B14 :1;
                             2619 ; 117  |    unsigned int B15 :1;
                             2620 ; 118  |    unsigned int B16 :1;
                             2621 ; 119  |    unsigned int B17 :1;
                             2622 ; 120  |    unsigned int B18 :1;
                             2623 ; 121  |    unsigned int B19 :1;
                             2624 ; 122  |    unsigned int B20 :1;
                             2625 ; 123  |    unsigned int B21 :1;
                             2626 ; 124  |    unsigned int B22 :1;
                             2627 ; 125  |    unsigned int B23 :1;
                             2628 ; 126  |};
                             2629 ; 127  |
                             2630 ; 128  |union BitInt {
                             2631 ; 129  |        struct Bitfield B;
                             2632 ; 130  |        int        I;
                             2633 ; 131  |};
                             2634 ; 132  |
                             2635 ; 133  |#define MAX_MSG_LENGTH 10
                             2636 ; 134  |struct CMessage
                             2637 ; 135  |{
                             2638 ; 136  |        unsigned int m_uLength;
                             2639 ; 137  |        unsigned int m_uMsg[MAX_MSG_LENGTH];
                             2640 ; 138  |};
                             2641 ; 139  |
                             2642 ; 140  |typedef struct {
                             2643 ; 141  |    WORD m_wLength;
                             2644 ; 142  |    WORD m_wMessage;
                             2645 ; 143  |    WORD m_wParams[MAX_MSG_LENGTH];
                             2646 ; 144  |} Message;
                             2647 ; 145  |
                             2648 ; 146  |struct MessageQueueDescriptor
                             2649 ; 147  |{
                             2650 ; 148  |        int *m_pBase;
                             2651 ; 149  |        int m_iModulo;
                             2652 ; 150  |        int m_iSize;
                             2653 ; 151  |        int *m_pHead;
                             2654 ; 152  |        int *m_pTail;
                             2655 ; 153  |};
                             2656 ; 154  |
                             2657 ; 155  |struct ModuleEntry
                             2658 ; 156  |{
                             2659 ; 157  |    int m_iSignaledEventMask;
                             2660 ; 158  |    int m_iWaitEventMask;
                             2661 ; 159  |    int m_iResourceOfCode;
                             2662 ; 160  |    struct MessageQueueDescriptor *m_pMessageQueue;
                             2663 ; 161  |    int _asmfunc (*m_pProcessEntryPoint)(union WaitMask Signals,struct MessageQueueDescriptor *);
                             2664 ; 162  |    int _asmfunc (*m_pInitFunction)(struct MessageQueueDescriptor *);
                             2665 ; 163  |    int m_uTimeOutHigh;
                             2666 ; 164  |    int m_uTimeOutLow;
                             2667 ; 165  |    int _asmfunc (*m_pBackgroundFunction)(struct MessageQueueDescriptor *);
                             2668 ; 166  |};
                             2669 ; 167  |
                             2670 ; 168  |union WaitMask{
                             2671 ; 169  |    struct B{
                             2672 ; 170  |        unsigned int m_bNone     :1;
                             2673 ; 171  |        unsigned int m_bMessage  :1;
                             2674 ; 172  |        unsigned int m_bTimer    :1;
                             2675 ; 173  |        unsigned int m_bButton   :1;
                             2676 ; 174  |    } B;
                             2677 ; 175  |    int I;
                             2678 ; 176  |} ;
                             2679 ; 177  |
                             2680 ; 178  |
                             2681 ; 179  |struct Button {
                             2682 ; 180  |        WORD wButtonEvent;
                             2683 ; 181  |        WORD wUnused[MAX_MSG_LENGTH];   
                             2684 ; 182  |};
                             2685 ; 183  |
                             2686 ; 184  |struct Message {
                             2687 ; 185  |        WORD wMsgLength;
                             2688 ; 186  |        WORD wMsgCommand;
                             2689 ; 187  |        WORD wMsgParms[MAX_MSG_LENGTH-1];
                             2690 ; 188  |};
                             2691 ; 189  |
                             2692 ; 190  |union EventTypes {
                             2693 ; 191  |        struct CMessage msg;
                             2694 ; 192  |        struct Button Button ;
                             2695 ; 193  |        struct Message Message;
                             2696 ; 194  |};
                             2697 ; 195  |
                             2698 ; 196  |// next 2 used to get updater build to return correct protocol ver in scsi response.
                             2699 ; 197  |#define BUILD_TYPE_UPDATER  0x100
                             2700 ; 198  |#define BUILD_TYPE_HOSTLINK 0x101
                             2701 ; 199  |#define BUILD_TYPE_PLAYER   0x102
                             2702 ; 200  |
                             2703 ; 201  |// Resets part if RETAIL build. DEBUG build executes debug instruction to halt.
                             2704 ; 202  |#define SystemHalt() __asm(" include 'sysmacro.asm' \n error") 
                             2705 ; 203  |#define assert(x)    if(!(x)) __asm(" include 'sysmacro.asm' \n error")
                             2706 ; 204  |
                             2707 ; 205  |#if DEBUG
                             2708 ; 206  |// For DEBUG builds, DebugBuildAssert(condition) halts if condition evaluates to FALSE. 
                             2709 ; 207  |#define DebugBuildAssert(x)    if(!(x)) __asm(" debug ")
                             2710 ; 208  |#else 
                             2711 ; 209  |// For RETAIL builds, DebugBuildAssert(condition) does nothing & execution continues rather than halt or reset. 
                             2712 ; 210  |#define DebugBuildAssert(x)    
                             2713 ; 211  |#endif
                             2714 ; 212  |
                             2715 ; 213  |// Do this in your C files to make a reminder that's displayed during the build.
                             2716 ; 214  |//  #pragma asm
                             2717 ; 215  |//  WARN 'Note to builder: reminder to do this after verifying that'
                             2718 ; 216  |//  #pragma endasm
                             2719 ; 217  |
                             2720 ; 218  |
                             2721 ; 219  |#ifdef COLOR_262K
                             2722 ; 220  |#define RGB(r,g,b)    ((0x0000FC & (r)) << 10) | ((0x0000FC & (g)) << 4) | ((0x0000FC & (b)) >> 2)    //262k
                             2723 ; 221  |#elif defined(COLOR_65K)
                             2724 ; 222  |#define RGB(r,g,b)    ((0x0000F8 & (r)) << 8) | ((0x0000FC & (g)) << 3) | ((0x0000F8 & (b)) >> 3)  //65k
                             2725 ; 223  |#else
                             2726 ; 224  |#define RGB(r,g,b)       ((0x0000F0 & (r)) << 4) | (0x0000F0 & (g)) | ((0x0000F0 & (b)) >> 4)
                             2727 ; 225  |#endif
                             2728 ; 226  |    
                             2729 ; 227  |#endif // #ifndef _TYPES_H
                             2730 
                             2732 
                             2733 ; 8    |
                             2734 ; 9    |
                             2735 ; 10   |
                             2736 ; 11   |//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                             2737 ; 12   |
                             2738 ; 13   |//   SYSTEM STMP Registers 
                             2739 ; 14   |//      Last Edited 2.19.2003 M. May
                             2740 ; 15   |//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                             2741 ; 16   |
                             2742 ; 17   |#define HW_DCDC_BASEADDR (0xFA0C)
                             2743 ; 18   |
                             2744 ; 19   |
                             2745 ; 20   |
                             2746 ; 21   |
                             2747 ; 22   |
                             2748 ; 23   |
                             2749 ; 24   |/////////////////////////////////////////////////////////////////////////////////
                             2750 ; 25   |
                             2751 ; 26   |//  DcDc#1 Control Register (HW_DCDC1_CTRL0) Bit Definitions
                             2752 ; 27   |
                             2753 ; 28   |#define HW_DCDC1_CTRL0_PLEVBU_WIDTH (5)
                             2754 ; 29   |#define HW_DCDC1_CTRL0_RSVD0_WIDTH (3)
                             2755 ; 30   |#define HW_DCDC1_CTRL0_PLEVBO_WIDTH (5)
                             2756 ; 31   |#define HW_DCDC1_CTRL0_RSVD1_WIDTH (3)
                             2757 ; 32   |#define HW_DCDC1_CTRL0_NLEV_WIDTH (5)
                             2758 ; 33   |
                             2759 ; 34   |#define HW_DCDC1_CTRL0_RSVD2_WIDTH (3)
                             2760 ; 35   |
                             2761 ; 36   |
                             2762 ; 37   |
                             2763 ; 38   |#define HW_DCDC1_CTRL0_PLEVBU_BITPOS (0)
                             2764 ; 39   |#define HW_DCDC1_CTRL0_PLEVBO_BITPOS (8)
                             2765 ; 40   |#define HW_DCDC1_CTRL0_NLEV_BITPOS (16)
                             2766 ; 41   |
                             2767 ; 42   |
                             2768 ; 43   |
                             2769 ; 44   |#define HW_DCDC1_CTRL0_PLEVBU_SETMASK (((1<<HW_DCDC1_CTRL0_PLEVBU_WIDTH)-1)<<HW_DCDC1_CTRL0_PLEVBU_BITPOS)        
                             2770 ; 45   |#define HW_DCDC1_CTRL0_PLEVBO_SETMASK (((1<<HW_DCDC1_CTRL0_PLEVBO_WIDTH)-1)<<HW_DCDC1_CTRL0_PLEVBO_BITPOS) 
                             2771 ; 46   |#define HW_DCDC1_CTRL0_NLEV_SETMASK (((1<<HW_DCDC1_CTRL0_NLEV_WIDTH)-1)<<HW_DCDC1_CTRL0_NLEV_BITPOS)  
                             2772 ; 47   |
                             2773 ; 48   |
                             2774 ; 49   |
                             2775 ; 50   |#define HW_DCDC1_CTRL0_PLEVBU_CLRMASK (~(WORD)HW_DCDC1_CTRL0_PLEVBU_SETMASK)     
                             2776 ; 51   |#define HW_DCDC1_CTRL0_PLEVBO_CLRMASK (~(WORD)HW_DCDC1_CTRL0_PLEVBO_SETMASK) 
                             2777 ; 52   |#define HW_DCDC1_CTRL0_NLEV_CLRMASK (~(WORD)HW_DCDC1_CTRL0_NLEV_SETMASK)  
                             2778 ; 53   |
                             2779 ; 54   |
                             2780 ; 55   |
                             2781 ; 56   |
                             2782 ; 57   |
                             2783 ; 58   |typedef union               
                             2784 ; 59   |{
                             2785 ; 60   |    struct {
                             2786 ; 61   |        unsigned int PLEVBU           : HW_DCDC1_CTRL0_PLEVBU_WIDTH;
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page  12

M:ADDR CODE           CYCLES LINE SOURCELINE
                             2787 ; 62   |        unsigned int RSVD0            : HW_DCDC1_CTRL0_RSVD0_WIDTH;
                             2788 ; 63   |        unsigned int PLEVBO           : HW_DCDC1_CTRL0_PLEVBO_WIDTH;
                             2789 ; 64   |        unsigned int RSVD1            : HW_DCDC1_CTRL0_RSVD1_WIDTH;
                             2790 ; 65   |        unsigned int NLEV             : HW_DCDC1_CTRL0_NLEV_WIDTH;
                             2791 ; 66   |        unsigned int RSVD2            : HW_DCDC1_CTRL0_RSVD2_WIDTH;
                             2792 ; 67   |    } B;
                             2793 ; 68   |    unsigned int I;
                             2794 ; 69   |} dcdc1_ctrl0_type;
                             2795 ; 70   |#define HW_DCDC1_CTRL0      (*(volatile dcdc1_ctrl0_type _X*) (HW_DCDC_BASEADDR))    /* DcDc#1 Limit Level Register */
                             2796 ; 71   |
                             2797 ; 72   |
                             2798 ; 73   |
                             2799 ; 74   |
                             2800 ; 75   |/////////////////////////////////////////////////////////////////////////////////
                             2801 ; 76   |
                             2802 ; 77   |//  DCDc#1 Control Register1 (HW_DCDC1_CTRL1) Bit Definitions
                             2803 ; 78   |
                             2804 ; 79   |#define HW_DCDC1_CTRL1_C_WIDTH (4)
                             2805 ; 80   |#define HW_DCDC1_CTRL1_R_WIDTH (4)
                             2806 ; 81   |#define HW_DCDC1_CTRL1_FFOR_WIDTH (3)
                             2807 ; 82   |#define HW_DCDC1_CTRL1_RSVD0_WIDTH (1)
                             2808 ; 83   |#define HW_DCDC1_CTRL1_PFMCTRL_WIDTH (12)
                             2809 ; 84   |
                             2810 ; 85   |
                             2811 ; 86   |
                             2812 ; 87   |#define HW_DCDC1_CTRL1_C_BITPOS (0)
                             2813 ; 88   |#define HW_DCDC1_CTRL1_R_BITPOS (4)
                             2814 ; 89   |#define HW_DCDC1_CTRL1_FFOR_BITPOS (8)
                             2815 ; 90   |#define HW_DCDC1_CTRL1_PFMCTRL_BITPOS (12) 
                             2816 ; 91   |
                             2817 ; 92   |#define HW_DCDC1_CTRL1_C_SETMASK (((1<<HW_DCDC1_CTRL1_C_WIDTH)-1)<<HW_DCDC1_CTRL1_C_BITPOS)        
                             2818 ; 93   |#define HW_DCDC1_CTRL1_R_SETMASK (((1<<HW_DCDC1_CTRL1_R_WIDTH)-1)<<HW_DCDC1_CTRL1_R_BITPOS) 
                             2819 ; 94   |#define HW_DCDC1_CTRL1_FFOR_SETMASK (((1<<HW_DCDC1_CTRL1_FFOR_WIDTH)-1)<<HW_DCDC1_CTRL1_FFOR_BITPOS)  
                             2820 ; 95   |#define HW_DCDC1_CTRL1_PFMCTRL_SETMASK (((1<<HW_DCDC1_CTRL1_PFMCTRL_WIDTH)-1)<<HW_DCDC1_CTRL1_PFMCTRL_BITPOS)   
                             2821 ; 96   |
                             2822 ; 97   |#define HW_DCDC1_CTRL1_C_CLRMASK (~(WORD)HW_DCDC1_CTRL1_C_SETMASK)     
                             2823 ; 98   |#define HW_DCDC1_CTRL1_R_CLRMASK (~(WORD)HW_DCDC1_CTRL1_R_SETMASK) 
                             2824 ; 99   |#define HW_DCDC1_CTRL1_FFOR_CLRMASK (~(WORD)HW_DCDC1_CTRL1_FFOR_SETMASK)  
                             2825 ; 100  |#define HW_DCDC1_CTRL1_PFMCTRL_CLRMASK (~(WORD)HW_DCDC1_CTRL1_PFMCTRL_SETMASK)  
                             2826 ; 101  |
                             2827 ; 102  |
                             2828 ; 103  |typedef union               
                             2829 ; 104  |{
                             2830 ; 105  |    struct {
                             2831 ; 106  |        unsigned int C       : HW_DCDC1_CTRL1_C_WIDTH;
                             2832 ; 107  |        unsigned int R                : HW_DCDC1_CTRL1_R_WIDTH;
                             2833 ; 108  |        unsigned int FFOR             : HW_DCDC1_CTRL1_FFOR_WIDTH;
                             2834 ; 109  |        unsigned int RSVD0            : HW_DCDC1_CTRL1_RSVD0_WIDTH;
                             2835 ; 110  |        unsigned int PFMCTRL          : HW_DCDC1_CTRL1_FFOR_WIDTH;
                             2836 ; 111  |    } B;
                             2837 ; 112  |    unsigned int I;
                             2838 ; 113  |} dcdc1_ctrl1_type;
                             2839 ; 114  |#define HW_DCDC1_CTRL1      (*(volatile dcdc1_ctrl1_type _X*) (HW_DCDC_BASEADDR+1))    /* DcDc#1 Ctrl #1 Register */
                             2840 ; 115  |
                             2841 ; 116  |
                             2842 ; 117  |
                             2843 ; 118  |
                             2844 ; 119  |/////////////////////////////////////////////////////////////////////////////////
                             2845 ; 120  |
                             2846 ; 121  |//  DcDc VDDIO Register (HW_DCDC_VDDIO) Bit Definitions
                             2847 ; 122  |
                             2848 ; 123  |#define HW_DCDC_VDDIO_VOLTAGE_LEVEL_WIDTH (5)
                             2849 ; 124  |#define HW_DCDC_VDDIO_RSVD0_WIDTH (3)
                             2850 ; 125  |#define HW_DCDC_VDDIO_BROWNOUT_LEVEL_WIDTH (5)
                             2851 ; 126  |#define HW_DCDC_VDDIO_RSVD1_WIDTH (3)
                             2852 ; 127  |#define HW_DCDC_VDDIO_BROWNOUT_ENABLE_WIDTH (1)
                             2853 ; 128  |#define HW_DCDC_VDDIO_RSVD2_WIDTH (3)
                             2854 ; 129  |#define HW_DCDC_VDDIO_BROWNOUT_STATUS_WIDTH (1)
                             2855 ; 130  |#define HW_DCDC_VDDIO_OK_WIDTH (1)
                             2856 ; 131  |#define HW_DCDC_VDDIO_RSVD3_WIDTH (2)
                             2857 ; 132  |
                             2858 ; 133  |
                             2859 ; 134  |
                             2860 ; 135  |#define HW_DCDC_VDDIO_VOLTAGE_LEVEL_BITPOS (0)
                             2861 ; 136  |#define HW_DCDC_VDDIO_BROWNOUT_LEVEL_BITPOS (8)
                             2862 ; 137  |#define HW_DCDC_VDDIO_BROWNOUT_ENABLE_BITPOS (16)
                             2863 ; 138  |#define HW_DCDC_VDDIO_BROWNOUT_STATUS_BITPOS (20)
                             2864 ; 139  |#define HW_DCDC_VDDIO_OK_BITPOS (21)
                             2865 ; 140  |
                             2866 ; 141  |
                             2867 ; 142  |#define HW_DCDC_VDDIO_VOLTAGE_LEVEL_SETMASK (((1<<HW_DCDC_VDDIO_VOLTAGE_LEVEL_WIDTH)-1)<<HW_DCDC_VDDIO_VOLTAGE_LEVEL_BITPOS)        
                             2868 ; 143  |#define HW_DCDC_VDDIO_BROWNOUT_LEVEL_SETMASK (((1<<HW_DCDC_VDDIO_BROWNOUT_LEVEL_WIDTH)-1)<<HW_DCDC_VDDIO_BROWNOUT_LEVEL_BITPOS) 
                             2869 ; 144  |#define HW_DCDC_VDDIO_BROWNOUT_ENABLE_SETMASK (((1<<HW_DCDC_VDDIO_BROWNOUT_ENABLE_WIDTH)-1)<<HW_DCDC_VDDIO_BROWNOUT_ENABLE_BITPOS)  
                             2870 ; 145  |#define HW_DCDC_VDDIO_BROWNOUT_STATUS_SETMASK (((1<<HW_DCDC_VDDIO_BROWNOUT_STATUS_WIDTH)-1)<<HW_DCDC_VDDIO_BROWNOUT_STATUS_BITPOS)  
                             2871 ; 146  |
                             2872 ; 147  |
                             2873 ; 148  |
                             2874 ; 149  |#define HW_DCDC_VDDIO_VOLTAGE_LEVEL_CLRMASK (~(WORD)HW_DCDC_VDDIO_VOLTAGE_LEVEL_SETMASK)     
                             2875 ; 150  |#define HW_DCDC_VDDIO_BROWNOUT_LEVEL_CLRMASK (~(WORD)HW_DCDC_VDDIO_BROWNOUT_LEVEL_SETMASK) 
                             2876 ; 151  |#define HW_DCDC_VDDIO_BROWNOUT_ENABLE_CLRMASK (~(WORD)HW_DCDC_VDDIO_BROWNOUT_ENABLE_SETMASK)  
                             2877 ; 152  |#define HW_DCDC_VDDIO_BROWNOUT_STATUS_CLRMASK (~(WORD)HW_DCDC_VDDIO_BROWNOUT_STATUS_SETMASK)  
                             2878 ; 153  |
                             2879 ; 154  |
                             2880 ; 155  |typedef union               
                             2881 ; 156  |{
                             2882 ; 157  |    struct {
                             2883 ; 158  |        unsigned int VOLTAGE_LEVEL    : HW_DCDC_VDDIO_VOLTAGE_LEVEL_WIDTH;
                             2884 ; 159  |        unsigned int RSVD0            : HW_DCDC_VDDIO_RSVD0_WIDTH;
                             2885 ; 160  |        unsigned int BROWNOUT_LEVEL   : HW_DCDC_VDDIO_BROWNOUT_LEVEL_WIDTH;
                             2886 ; 161  |        unsigned int RSVD1            : HW_DCDC_VDDIO_RSVD1_WIDTH;
                             2887 ; 162  |        unsigned int BROWNOUT_ENABLE  : HW_DCDC_VDDIO_BROWNOUT_ENABLE_WIDTH;
                             2888 ; 163  |        unsigned int RSVD2            : HW_DCDC_VDDIO_RSVD2_WIDTH;
                             2889 ; 164  |        unsigned int BROWNOUT_STATUS  : HW_DCDC_VDDIO_BROWNOUT_STATUS_WIDTH;
                             2890 ; 165  |                 unsigned int VDDIO_OK        : HW_DCDC_VDDIO_OK_WIDTH;
                             2891 ; 166  |        unsigned int RSVD3            : HW_DCDC_VDDIO_RSVD3_WIDTH;
                             2892 ; 167  |    } B;
                             2893 ; 168  |    unsigned int I;
                             2894 ; 169  |} dcdc_vddio_type;
                             2895 ; 170  |#define HW_DCDC_VDDIO      (*(volatile dcdc_vddio_type _X*) (HW_DCDC_BASEADDR+2))    /* DcDc VDDIO Register */
                             2896 ; 171  |
                             2897 ; 172  |
                             2898 ; 173  |
                             2899 ; 174  |/////////////////////////////////////////////////////////////////////////////////
                             2900 ; 175  |//  DcDc VDDD Register (HW_DCDC_VDDD) Bit Definitions
                             2901 ; 176  |
                             2902 ; 177  |#define HW_DCDC_VDDD_VOLTAGE_LEVEL_WIDTH (5)
                             2903 ; 178  |#define HW_DCDC_VDDD_RSVD0_WIDTH (3)
                             2904 ; 179  |#define HW_DCDC_VDDD_BROWNOUT_LEVEL_WIDTH (5)
                             2905 ; 180  |#define HW_DCDC_VDDD_RSVD1_WIDTH (3)
                             2906 ; 181  |#define HW_DCDC_VDDD_BROWNOUT_ENABLE_WIDTH (1)
                             2907 ; 182  |#define HW_DCDC_VDDD_RSVD2_WIDTH (3)
                             2908 ; 183  |#define HW_DCDC_VDDD_BROWNOUT_STATUS_WIDTH (1)
                             2909 ; 184  |#define HW_DCDC_VDDD_OK_WIDTH (1)
                             2910 ; 185  |#define HW_DCDC_VDDD_RSVD3_WIDTH (2)
                             2911 ; 186  |
                             2912 ; 187  |#define HW_DCDC_VDDD_VOLTAGE_LEVEL_BITPOS (0)
                             2913 ; 188  |#define HW_DCDC_VDDD_BROWNOUT_LEVEL_BITPOS (8)
                             2914 ; 189  |#define HW_DCDC_VDDD_BROWNOUT_ENABLE_BITPOS (16)
                             2915 ; 190  |#define HW_DCDC_VDDD_BROWNOUT_STATUS_BITPOS (20)
                             2916 ; 191  |#define HW_DCDC_VDDD_OK_BITPOS (21)
                             2917 ; 192  |#define HW_DCDC_VDDD_VOLTAGE_LEVEL_SETMASK (((1<<HW_DCDC_VDDD_VOLTAGE_LEVEL_WIDTH)-1)<<HW_DCDC_VDDD_VOLTAGE_LEVEL_BITPOS)        
                             2918 ; 193  |#define HW_DCDC_VDDD_BROWNOUT_LEVEL_SETMASK (((1<<HW_DCDC_VDDD_BROWNOUT_LEVEL_WIDTH)-1)<<HW_DCDC_VDDD_BROWNOUT_LEVEL_BITPOS) 
                             2919 ; 194  |#define HW_DCDC_VDDD_BROWNOUT_ENABLE_SETMASK (((1<<HW_DCDC_VDDD_BROWNOUT_ENABLE_WIDTH)-1)<<HW_DCDC_VDDD_BROWNOUT_ENABLE_BITPOS)  
                             2920 ; 195  |#define HW_DCDC_VDDD_BROWNOUT_STATUS_SETMASK (((1<<HW_DCDC_VDDD_BROWNOUT_STATUS_WIDTH)-1)<<HW_DCDC_VDDD_BROWNOUT_STATUS_BITPOS)  
                             2921 ; 196  |
                             2922 ; 197  |#define HW_DCDC_VDDD_VOLTAGE_LEVEL_CLRMASK (~(WORD)HW_DCDC_VDDD_VOLTAGE_LEVEL_SETMASK)     
                             2923 ; 198  |#define HW_DCDC_VDDD_BROWNOUT_LEVEL_CLRMASK (~(WORD)HW_DCDC_VDDD_BROWNOUT_LEVEL_SETMASK) 
                             2924 ; 199  |#define HW_DCDC_VDDD_BROWNOUT_ENABLE_CLRMASK (~(WORD)HW_DCDC_VDDD_BROWNOUT_ENABLE_SETMASK)  
                             2925 ; 200  |#define HW_DCDC_VDDD_BROWNOUT_STATUS_CLRMASK (~(WORD)HW_DCDC_VDDD_BROWNOUT_STATUS_SETMASK)  
                             2926 ; 201  |
                             2927 ; 202  |typedef union               
                             2928 ; 203  |{
                             2929 ; 204  |    struct {
                             2930 ; 205  |        unsigned int VOLTAGE_LEVEL    : HW_DCDC_VDDD_VOLTAGE_LEVEL_WIDTH;
                             2931 ; 206  |        unsigned int RSVD0            : HW_DCDC_VDDD_RSVD0_WIDTH;
                             2932 ; 207  |        unsigned int BROWNOUT_LEVEL   : HW_DCDC_VDDD_BROWNOUT_LEVEL_WIDTH;
                             2933 ; 208  |        unsigned int RSVD1            : HW_DCDC_VDDD_RSVD1_WIDTH;
                             2934 ; 209  |        unsigned int BROWNOUT_ENABLE  : HW_DCDC_VDDD_BROWNOUT_ENABLE_WIDTH;
                             2935 ; 210  |        unsigned int RSVD2            : HW_DCDC_VDDD_RSVD2_WIDTH;
                             2936 ; 211  |        unsigned int BROWNOUT_STATUS  : HW_DCDC_VDDD_BROWNOUT_STATUS_WIDTH;
                             2937 ; 212  |                 unsigned int VDD_OK           : HW_DCDC_VDDD_OK_WIDTH;
                             2938 ; 213  |        unsigned int RSVD3            : HW_DCDC_VDDD_RSVD3_WIDTH;
                             2939 ; 214  |    } B;
                             2940 ; 215  |   unsigned int I;
                             2941 ; 216  |        unsigned U;
                             2942 ; 217  |} dcdc_vddd_type;
                             2943 ; 218  |#define HW_DCDC_VDDD      (*(volatile dcdc_vddd_type _X*) (HW_DCDC_BASEADDR+3))    /* DcDc VDDD Register */
                             2944 ; 219  |
                             2945 ; 220  |
                             2946 ; 221  |
                             2947 ; 222  |
                             2948 ; 223  |/////////////////////////////////////////////////////////////////////////////////
                             2949 ; 224  |
                             2950 ; 225  |//  DcDc Vdda Register (HW_DCDC_VDDA) Bit Definitions
                             2951 ; 226  |
                             2952 ; 227  |#define HW_DCDC_VDDA_VOLTAGE_LEVEL_WIDTH (5)
                             2953 ; 228  |#define HW_DCDC_VDDA_RSVD0_WIDTH (3)
                             2954 ; 229  |#define HW_DCDC_VDDA_BROWNOUT_LEVEL_WIDTH (5)
                             2955 ; 230  |#define HW_DCDC_VDDA_RSVD1_WIDTH (3)
                             2956 ; 231  |#define HW_DCDC_VDDA_BROWNOUT_ENABLE_WIDTH (1)
                             2957 ; 232  |#define HW_DCDC_VDDA_RSVD2_WIDTH (3)
                             2958 ; 233  |#define HW_DCDC_VDDA_BROWNOUT_STATUS_WIDTH (1)
                             2959 ; 234  |#define HW_DCDC_VDDA_OK_WIDTH (1)
                             2960 ; 235  |#define HW_DCDC_VDDA_RSVD3_WIDTH (2)
                             2961 ; 236  |
                             2962 ; 237  |
                             2963 ; 238  |
                             2964 ; 239  |#define HW_DCDC_VDDA_VOLTAGE_LEVEL_BITPOS (0)
                             2965 ; 240  |#define HW_DCDC_VDDA_BROWNOUT_LEVEL_BITPOS (8)
                             2966 ; 241  |#define HW_DCDC_VDDA_BROWNOUT_ENABLE_BITPOS (16)
                             2967 ; 242  |#define HW_DCDC_VDDA_BROWNOUT_STATUS_BITPOS (20)
                             2968 ; 243  |#define HW_DCDC_VDDA_OK_BITPOS (21)
                             2969 ; 244  |
                             2970 ; 245  |
                             2971 ; 246  |#define HW_DCDC_VDDA_VOLTAGE_LEVEL_SETMASK (((1<<HW_DCDC_VDDA_VOLTAGE_LEVEL_WIDTH)-1)<<HW_DCDC_VDDA_VOLTAGE_LEVEL_BITPOS)        
                             2972 ; 247  |#define HW_DCDC_VDDA_BROWNOUT_LEVEL_SETMASK (((1<<HW_DCDC_VDDA_BROWNOUT_LEVEL_WIDTH)-1)<<HW_DCDC_VDDA_BROWNOUT_LEVEL_BITPOS) 
                             2973 ; 248  |#define HW_DCDC_VDDA_BROWNOUT_ENABLE_SETMASK (((1<<HW_DCDC_VDDA_BROWNOUT_ENABLE_WIDTH)-1)<<HW_DCDC_VDDA_BROWNOUT_ENABLE_BITPOS)  
                             2974 ; 249  |#define HW_DCDC_VDDA_BROWNOUT_STATUS_SETMASK (((1<<HW_DCDC_VDDA_BROWNOUT_STATUS_WIDTH)-1)<<HW_DCDC_VDDA_BROWNOUT_STATUS_BITPOS)  
                             2975 ; 250  |
                             2976 ; 251  |
                             2977 ; 252  |
                             2978 ; 253  |#define HW_DCDC_VDDA_VOLTAGE_LEVEL_CLRMASK (~(WORD)HW_DCDC_VDDA_VOLTAGE_LEVEL_SETMASK)     
                             2979 ; 254  |#define HW_DCDC_VDDA_BROWNOUT_LEVEL_CLRMASK (~(WORD)HW_DCDC_VDDA_BROWNOUT_LEVEL_SETMASK) 
                             2980 ; 255  |#define HW_DCDC_VDDA_BROWNOUT_ENABLE_CLRMASK (~(WORD)HW_DCDC_VDDA_BROWNOUT_ENABLE_SETMASK)  
                             2981 ; 256  |#define HW_DCDC_VDDA_BROWNOUT_STATUS_CLRMASK (~(WORD)HW_DCDC_VDDA_BROWNOUT_STATUS_SETMASK)  
                             2982 ; 257  |
                             2983 ; 258  |
                             2984 ; 259  |typedef union               
                             2985 ; 260  |{
                             2986 ; 261  |    struct {
                             2987 ; 262  |        unsigned int VOLTAGE_LEVEL    : HW_DCDC_VDDA_VOLTAGE_LEVEL_WIDTH;
                             2988 ; 263  |        unsigned int RSVD0            : HW_DCDC_VDDA_RSVD0_WIDTH;
                             2989 ; 264  |        unsigned int BROWNOUT_LEVEL   : HW_DCDC_VDDA_BROWNOUT_LEVEL_WIDTH;
                             2990 ; 265  |        unsigned int RSVD1            : HW_DCDC_VDDA_RSVD1_WIDTH;
                             2991 ; 266  |        unsigned int BROWNOUT_ENABLE  : HW_DCDC_VDDA_BROWNOUT_ENABLE_WIDTH;
                             2992 ; 267  |        unsigned int RSVD2            : HW_DCDC_VDDA_RSVD2_WIDTH;
                             2993 ; 268  |        unsigned int BROWNOUT_STATUS  : HW_DCDC_VDDA_BROWNOUT_STATUS_WIDTH;
                             2994 ; 269  |             unsigned int VDDA_OK          : HW_DCDC_VDDA_OK_WIDTH;
                             2995 ; 270  |        unsigned int RSVD3            : HW_DCDC_VDDA_RSVD3_WIDTH;
                             2996 ; 271  |    } B;
                             2997 ; 272  |    unsigned int I;
                             2998 ; 273  |} dcdc_vdda_type;
                             2999 ; 274  |#define HW_DCDC_VDDA      (*(volatile dcdc_vdda_type _X*) (HW_DCDC_BASEADDR+4))    /* DcDc VDDA Register */
                             3000 ; 275  |
                             3001 ; 276  |
                             3002 ; 277  |
                             3003 ; 278  |
                             3004 ; 279  |/////////////////////////////////////////////////////////////////////////////////
                             3005 ; 280  |
                             3006 ; 281  |//  DcDc#2 Control Register 0 (HW_DCDC2_CTRL0) Bit Definitions
                             3007 ; 282  |
                             3008 ; 283  |#define HW_DCDC2_CTRL0_PLEVBU_WIDTH (5)
                             3009 ; 284  |#define HW_DCDC2_CTRL0_RSVD0_WIDTH (3)
                             3010 ; 285  |#define HW_DCDC2_CTRL0_PLEVBO_WIDTH (5)
                             3011 ; 286  |#define HW_DCDC2_CTRL0_RSVD1_WIDTH (3)
                             3012 ; 287  |#define HW_DCDC2_CTRL0_NLEV_WIDTH (5)
                             3013 ; 288  |#define HW_DCDC2_CTRL0_RSVD2_WIDTH (3)
                             3014 ; 289  |
                             3015 ; 290  |
                             3016 ; 291  |
                             3017 ; 292  |#define HW_DCDC2_CTRL0_PLEVBU_BITPOS (0)
                             3018 ; 293  |#define HW_DCDC2_CTRL0_PLEVBO_BITPOS (8)
                             3019 ; 294  |#define HW_DCDC2_CTRL0_NLEV_BITPOS (16)
                             3020 ; 295  |
                             3021 ; 296  |#define HW_DCDC2_CTRL0_PLEVBU_SETMASK (((1<<HW_DCDC2_CTRL0_PLEVBU_WIDTH)-1)<<HW_DCDC2_CTRL0_PLEVBU_BITPOS)        
                             3022 ; 297  |#define HW_DCDC2_CTRL0_PLEVBO_SETMASK (((1<<HW_DCDC2_CTRL0_PLEVBO_WIDTH)-1)<<HW_DCDC2_CTRL0_PLEVBO_BITPOS) 
                             3023 ; 298  |#define HW_DCDC2_CTRL0_NLEV_SETMASK (((1<<HW_DCDC2_CTRL0_NLEV_WIDTH)-1)<<HW_DCDC2_CTRL0_NLEV_BITPOS)  
                             3024 ; 299  |
                             3025 ; 300  |#define HW_DCDC2_CTRL0_PLEVBU_CLRMASK (~(WORD)HW_DCDC2_CTRL0_PLEVBU_SETMASK)     
                             3026 ; 301  |#define HW_DCDC2_CTRL0_PLEVBO_CLRMASK (~(WORD)HW_DCDC2_CTRL0_PLEVBO_SETMASK) 
                             3027 ; 302  |#define HW_DCDC2_CTRL0_NLEV_CLRMASK (~(WORD)HW_DCDC2_CTRL0_NLEV_SETMASK)  
                             3028 ; 303  |
                             3029 ; 304  |
                             3030 ; 305  |typedef union               
                             3031 ; 306  |{
                             3032 ; 307  |    struct {
                             3033 ; 308  |        unsigned int PLEVBU           : HW_DCDC2_CTRL0_PLEVBU_WIDTH;
                             3034 ; 309  |        unsigned int RSVD0            : HW_DCDC2_CTRL0_RSVD0_WIDTH;
                             3035 ; 310  |        unsigned int PLEVBO           : HW_DCDC2_CTRL0_PLEVBO_WIDTH;
                             3036 ; 311  |        unsigned int RSVD1            : HW_DCDC2_CTRL0_RSVD1_WIDTH;
                             3037 ; 312  |        unsigned int NLEV             : HW_DCDC2_CTRL0_NLEV_WIDTH;
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page  13

M:ADDR CODE           CYCLES LINE SOURCELINE
                             3038 ; 313  |        unsigned int RSVD2            : HW_DCDC2_CTRL0_RSVD2_WIDTH;
                             3039 ; 314  |    } B;
                             3040 ; 315  |    unsigned int I;
                             3041 ; 316  |} dcdc2_ctrl0_type; 
                             3042 ; 317  |#define HW_DCDC2_CTRL0      (*(volatile dcdc2_ctrl0_type _X*) (HW_DCDC_BASEADDR+5))    /* DcDc#2 Limit Level Register */
                             3043 ; 318  |
                             3044 ; 319  |
                             3045 ; 320  |
                             3046 ; 321  |
                             3047 ; 322  |/////////////////////////////////////////////////////////////////////////////////
                             3048 ; 323  |
                             3049 ; 324  |//  DcDc#2 Control Register #1 (HW_DCDC2_CTRL1) Bit Definitions
                             3050 ; 325  |
                             3051 ; 326  |#define HW_DCDC2_CTRL1_C_WIDTH (4)
                             3052 ; 327  |#define HW_DCDC2_CTRL1_R_WIDTH (4)
                             3053 ; 328  |#define HW_DCDC2_CTRL1_FFOR_WIDTH (3)
                             3054 ; 329  |#define HW_DCDC2_CTRL1_RSVD0_WIDTH (1)
                             3055 ; 330  |#define HW_DCDC2_CTRL1_PFMCTRL_WIDTH (12)
                             3056 ; 331  |
                             3057 ; 332  |
                             3058 ; 333  |#define HW_DCDC2_CTRL1_C_BITPOS (0)
                             3059 ; 334  |#define HW_DCDC2_CTRL1_R_BITPOS (4)
                             3060 ; 335  |#define HW_DCDC2_CTRL1_FFOR_BITPOS (8)
                             3061 ; 336  |#define HW_DCDC2_CTRL1_PFMCTRL_BITPOS (12)
                             3062 ; 337  |
                             3063 ; 338  |
                             3064 ; 339  |
                             3065 ; 340  |#define HW_DCDC2_CTRL1_C_SETMASK (((1<<HW_DCDC2_CTRL1_C_WIDTH)-1)<<HW_DCDC2_CTRL1_C_BITPOS)        
                             3066 ; 341  |#define HW_DCDC2_CTRL1_R_SETMASK (((1<<HW_DCDC2_CTRL1_R_WIDTH)-1)<<HW_DCDC2_CTRL1_R_BITPOS) 
                             3067 ; 342  |#define HW_DCDC2_CTRL1_FFOR_SETMASK (((1<<HW_DCDC2_CTRL1_FFOR_WIDTH)-1)<<HW_DCDC2_CTRL1_FFOR_BITPOS)  
                             3068 ; 343  |#define HW_DCDC2_CTRL1_PFMCTRL_SETMASK (((1<<HW_DCDC2_CTRL1_PFMCTRL_WIDTH)-1)<<HW_DCDC2_CTRL1_PFMCTRL_BITPOS)  
                             3069 ; 344  |
                             3070 ; 345  |
                             3071 ; 346  |
                             3072 ; 347  |#define HW_DCDC2_CTRL1_C_CLRMASK (~(WORD)HW_DCDC2_CTRL1_C_SETMASK)     
                             3073 ; 348  |#define HW_DCDC2_CTRL1_R_CLRMASK (~(WORD)HW_DCDC2_CTRL1_R_SETMASK) 
                             3074 ; 349  |#define HW_DCDC2_CTRL1_FFOR_CLRMASK (~(WORD)HW_DCDC2_CTRL1_FFOR_SETMASK)  
                             3075 ; 350  |#define HW_DCDC2_CTRL1_PFMCTRL_CLRMASK (~(WORD)HW_DCDC2_CTRL1_PFMCTRL_SETMASK)  
                             3076 ; 351  |
                             3077 ; 352  |
                             3078 ; 353  |typedef union               
                             3079 ; 354  |{
                             3080 ; 355  |    struct {
                             3081 ; 356  |        unsigned int C                : HW_DCDC2_CTRL1_C_WIDTH;
                             3082 ; 357  |        unsigned int R                : HW_DCDC2_CTRL1_R_WIDTH;
                             3083 ; 358  |        unsigned int FFOR             : HW_DCDC2_CTRL1_FFOR_WIDTH;
                             3084 ; 359  |        unsigned int RSVD0            : HW_DCDC2_CTRL1_RSVD0_WIDTH;
                             3085 ; 360  |        unsigned int PFMCTRL          : HW_DCDC2_CTRL1_FFOR_WIDTH;
                             3086 ; 361  |    } B;
                             3087 ; 362  |    unsigned int I;
                             3088 ; 363  |} dcdc2_ctrl1_type;
                             3089 ; 364  |#define HW_DCDC2_CTRL1      (*(volatile dcdc2_ctrl1_type _X*) (HW_DCDC_BASEADDR+6))    /* DcDc#2 Ctrl Register #1 */
                             3090 ; 365  |
                             3091 ; 366  |
                             3092 ; 367  |
                             3093 ; 368  |
                             3094 ; 369  |/////////////////////////////////////////////////////////////////////////////////
                             3095 ; 370  |
                             3096 ; 371  |//  Speed Monitoring Register (HW_SPEED) Bit Definitions
                             3097 ; 372  |
                             3098 ; 373  |#define HW_SPEED_OSC1_PWRUP_WIDTH (1)
                             3099 ; 374  |#define HW_SPEED_OSC1_START_COUNT_WIDTH (1)
                             3100 ; 375  |#define HW_SPEED_RSVD0_WIDTH (2)
                             3101 ; 376  |#define HW_SPEED_RINGOSC1_WIDTH (7)
                             3102 ; 377  |#define HW_SPEED_RSVD1_WIDTH (1)
                             3103 ; 378  |#define HW_SPEED_OSC2_PWRUP_WIDTH (1)
                             3104 ; 379  |#define HW_SPEED_OSC2_START_COUNT_WIDTH (1)
                             3105 ; 380  |#define HW_SPEED_RSVD2_WIDTH (2)
                             3106 ; 381  |#define HW_SPEED_RINGOSC2_WIDTH (7)
                             3107 ; 382  |#define HW_SPEED_RSVD3_WIDTH (1)
                             3108 ; 383  |
                             3109 ; 384  |
                             3110 ; 385  |
                             3111 ; 386  |#define HW_SPEED_OSC1_PWRUP_BITPOS (0)
                             3112 ; 387  |#define HW_SPEED_OSC1_START_COUNT_BITPOS (1)
                             3113 ; 388  |#define HW_SPEED_RINGOSC1_BITPOS (4)
                             3114 ; 389  |#define HW_SPEED_OSC2_PWRUP_BITPOS (12)
                             3115 ; 390  |#define HW_SPEED_OSC2_START_COUNT_BITPOS (13)
                             3116 ; 391  |#define HW_SPEED_RINGOSC2_BITPOS (16)
                             3117 ; 392  |
                             3118 ; 393  |
                             3119 ; 394  |#define HW_SPEED_OSC1_PWRUP_SETMASK (((1<<HW_SPEED_OSC1_PWRUP_WIDTH)-1)<<HW_SPEED_OSC1_PWRUP_BITPOS)        
                             3120 ; 395  |#define HW_SPEED_OSC1_START_COUNT_SETMASK (((1<<HW_SPEED_OSC1_START_COUNT_WIDTH)-1)<<HW_SPEED_OSC1_START_COUNT_BITPOS)        
                             3121 ; 396  |#define HW_SPEED_RINGOSC1_SETMASK (((1<<HW_SPEED_RINGOSC1_WIDTH)-1)<<HW_SPEED_RINGOSC1_BITPOS) 
                             3122 ; 397  |#define HW_SPEED_OSC2_PWRUP_SETMASK (((1<<HW_SPEED_OSC2_PWRUP_WIDTH)-1)<<HW_SPEED_OSC2_PWRUP_BITPOS)        
                             3123 ; 398  |
                             3124 ; 399  |#define HW_SPEED_OSC2_START_COUNT_SETMASK (((1<<HW_SPEED_OSC2_START_COUNT_WIDTH)-1)<<HW_SPEED_OSC2_START_COUNT_BITPOS)        
                             3125 ; 400  |#define HW_SPEED_RINGOSC2_SETMASK (((1<<HW_SPEED_RINGOSC2_WIDTH)-1)<<HW_SPEED_RINGOSC2_BITPOS) 
                             3126 ; 401  |
                             3127 ; 402  |
                             3128 ; 403  |
                             3129 ; 404  |#define HW_SPEED_OSC1_PWRUP_CLRMASK (~(WORD)HW_SPEED_OSC1_PWRUP_SETMASK)     
                             3130 ; 405  |#define HW_SPEED_OSC1_START_COUNT_CLRMASK (~(WORD)HW_SPEED_OSC1_START_COUNT_SETMASK)     
                             3131 ; 406  |#define HW_SPEED_RINGOSC1_CLRMASK (~(WORD)HW_SPEED_RINGOSC1_SETMASK) 
                             3132 ; 407  |#define HW_SPEED_OSC2_PWRUP_CLRMASK (~(WORD)HW_SPEED_OSC2_PWRUP_SETMASK)   
                             3133 ; 408  |#define HW_SPEED_OSC2_START_COUNT_CLRMASK (~(WORD)HW_SPEED_OSC2_START_COUNT_SETMASK)     
                             3134 ; 409  |#define HW_SPEED_RINGOSC2_CLRMASK (~(WORD)HW_SPEED_RINGOSC2_SETMASK) 
                             3135 ; 410  |
                             3136 ; 411  |
                             3137 ; 412  |typedef union               
                             3138 ; 413  |{
                             3139 ; 414  |    struct {
                             3140 ; 415  |        unsigned int OSC1_PWRUP          : HW_SPEED_OSC1_PWRUP_WIDTH;
                             3141 ; 416  |        unsigned int OSC1_START_COUNT    : HW_SPEED_OSC1_START_COUNT_WIDTH;
                             3142 ; 417  |        unsigned int RSVD0               : HW_SPEED_RSVD0_WIDTH;
                             3143 ; 418  |        unsigned int RINGOSC1            : HW_SPEED_RINGOSC1_WIDTH;
                             3144 ; 419  |        unsigned int RSVD1               : HW_SPEED_RSVD1_WIDTH;
                             3145 ; 420  |        unsigned int OSC2_PWRUP          : HW_SPEED_OSC2_PWRUP_WIDTH;
                             3146 ; 421  |        unsigned int OSC2_START_COUNT    : HW_SPEED_OSC2_START_COUNT_WIDTH;
                             3147 ; 422  |        unsigned int RSVD2               : HW_SPEED_RSVD2_WIDTH;
                             3148 ; 423  |        unsigned int RINGOSC2            : HW_SPEED_RINGOSC2_WIDTH;
                             3149 ; 424  |        unsigned int RSVD3               : HW_SPEED_RSVD3_WIDTH;
                             3150 ; 425  |    } B;
                             3151 ; 426  |    unsigned int I;
                             3152 ; 427  |} speed_type;
                             3153 ; 428  |#define HW_SPEED      (*(volatile speed_type _X*) (HW_DCDC_BASEADDR+7))    /* Speed Measurement Register */
                             3154 ; 429  |
                             3155 ; 430  |
                             3156 ; 431  |
                             3157 ; 432  |
                             3158 ; 433  |
                             3159 ; 434  |
                             3160 ; 435  |
                             3161 ; 436  |// DC DC Test Bit Register (HW_DCDCTBR) Definitions
                             3162 ; 437  |#define HW_DCDC_TBR_DCDC1_ADJ_TN_WIDTH 4
                             3163 ; 438  |#define HW_DCDC_TBR_DCDC1_DIS_5BIT_WIDTH 1
                             3164 ; 439  |#define HW_DCDC_TBR_DCDC1_BAT_ADJ_WIDTH 1
                             3165 ; 440  |#define HW_DCDC_TBR_DCDC1_CLK4X_WIDTH 1
                             3166 ; 441  |#define HW_DCDC_TBR_DCDC1_CLK2X_WIDTH 1
                             3167 ; 442  |#define HW_DCDC_TBR_DCDC1_NOZERO_WIDTH 1
                             3168 ; 443  |#define HW_DCDC_TBR_DCDC1_VDD5V_ACTIVE_WIDTH 1
                             3169 ; 444  |#define HW_DCDC_TBR_DCDC1_PFM_WIDTH 1
                             3170 ; 445  |#define HW_DCDC_TBR_DCDC1_STOPCLK_WIDTH 1
                             3171 ; 446  |#define HW_DCDC_TBR_PWRUP_VDDIO_BRNOUT_WIDTH 1
                             3172 ; 447  |#define HW_DCDC_TBR_DCDC_ANA_LESSI_WIDTH 1
                             3173 ; 448  |#define HW_DCDC_TBR_DCDC_MORE_CAP_WIDTH 1
                             3174 ; 449  |#define HW_DCDC_TBR_DCDC_ANA_BGR_BIAS_WIDTH 1
                             3175 ; 450  |#define HW_DCDC_TBR_DCDC1_NEW_SCHEME_WIDTH 1
                             3176 ; 451  |#define HW_DCDC_TBR_DCDC1_HALF_FETS_WIDTH 1
                             3177 ; 452  |#define HW_DCDC_TBR_DCDC2_DIS_5BIT_WIDTH 1
                             3178 ; 453  |#define HW_DCDC_TBR_DCDC2_CLK4X_WIDTH 1
                             3179 ; 454  |#define HW_DCDC_TBR_DCDC2_CLK2X_WIDTH 1
                             3180 ; 455  |#define HW_DCDC_TBR_DCDC2_VDD5V_ACTIVE_WIDTH 1
                             3181 ; 456  |#define HW_DCDC_TBR_DCDC2_PFM_WIDTH 1
                             3182 ; 457  |#define HW_DCDC_TBR_DCDC2_STOPCLK_WIDTH 1
                             3183 ; 458  |
                             3184 ; 459  |#define HW_DCDC_TBR_DCDC1_ADJ_TN_BITPOS (0)
                             3185 ; 460  |#define HW_DCDC_TBR_DCDC1_DIS_5BIT_BITPOS (4)
                             3186 ; 461  |#define HW_DCDC_TBR_DCDC1_BAT_ADJ_BITPOS (5)
                             3187 ; 462  |#define HW_DCDC_TBR_DCDC1_CLK4X_BITPOS (6)
                             3188 ; 463  |#define HW_DCDC_TBR_DCDC1_CLK2X_BITPOS (7)
                             3189 ; 464  |#define HW_DCDC_TBR_DCDC1_NOZERO_BITPOS (8)
                             3190 ; 465  |#define HW_DCDC_TBR_DCDC1_VDD5V_ACTIVE_BITPOS (9)
                             3191 ; 466  |#define HW_DCDC_TBR_DCDC1_PFM_BITPOS (10)
                             3192 ; 467  |#define HW_DCDC_TBR_DCDC1_STOPCLK_BITPOS (11)
                             3193 ; 468  |#define HW_DCDC_TBR_PWRUP_VDDIO_BRNOUT_BITPOS (12)
                             3194 ; 469  |#define HW_DCDC_TBR_DCDC_ANA_LESSI_BITPOS (13)
                             3195 ; 470  |#define HW_DCDC_TBR_DCDC_MORE_CAP_BITPOS (14)
                             3196 ; 471  |#define HW_DCDC_TBR_DCDC_DCDC_ANA_BGR_BIAS_BITPOS (15)
                             3197 ; 472  |#define HW_DCDC_TBR_DCDC1_NEW_SCHEME_BITPOS (16)
                             3198 ; 473  |#define HW_DCDC_TBR_DCDC1_HALF_FETS_BITPOS (17)
                             3199 ; 474  |#define HW_DCDC_TBR_DCDC2_DIS_5BIT_BITPOS (18)
                             3200 ; 475  |#define HW_DCDC_TBR_DCDC2_CLK4X_BITPOS (19)
                             3201 ; 476  |#define HW_DCDC_TBR_DCDC2_CLK2X_BITPOS (20)
                             3202 ; 477  |#define HW_DCDC_TBR_DCDC2_VDD5V_ACTIVE_BITPOS (21)
                             3203 ; 478  |#define HW_DCDC_TBR_DCDC2_PFM_BITPOS (22)
                             3204 ; 479  |#define HW_DCDC_TBR_DCDC2_STOPCLK_BITPOS (23)
                             3205 ; 480  |
                             3206 ; 481  |#define HW_DCDC_TBR_DCDC1_ADJ_TN_SETMASK (((1<<HW_DCDC_TBR_DCDC1_ADJ_TN_WIDTH)-1)<<HW_DCDC_TBR_DCDC1_ADJ_TN_BITPOS)
                             3207 ; 482  |#define HW_DCDC_TBR_DCDC1_BAT_ADJ_SETMASK (((1<<HW_DCDC_TBR_DCDC1_BAT_ADJ_WIDTH)-1)<<HW_DCDC_TBR_DCDC1_BAT_ADJ_BITPOS)
                             3208 ; 483  |#define HW_DCDC_TBR_DCDC_ANA_BGR_BIAS_SETMASK (((1<<HW_DCDC_TBR_DCDC_ANA_BGR_BIAS_WIDTH)-1)<<HW_DCDC_TBR_DCDC_DCDC_ANA_BGR_BIAS_BITPOS)
                             3209 ; 484  |
                             3210 ; 485  |#define HW_DCDC_TBR_DCDC1_ADJ_TN_CLRMASK (~(WORD)HW_DCDC_TBR_DCDC1_ADJ_TN_SETMASK)
                             3211 ; 486  |#define HW_DCDC_TBR_DCDC1_BAT_ADJ_CLRMASK (~(WORD)HW_DCDC_TBR_DCDC1_BAT_ADJ_SETMASK)
                             3212 ; 487  |#define HW_DCDC_TBR_DCDC_ANA_BGR_BIAS_CLRMASK (~(WORD)HW_DCDC_TBR_DCDC_ANA_BGR_BIAS_SETMASK)
                             3213 ; 488  |
                             3214 ; 489  |// Defines for What needs to change to be able to use a higher Core voltage and when the change should happen
                             3215 ; 490  |#define HW_DCDC_VDDD_CHANGE_TBR_CUTOFF_VALUE ((18<<HW_DCDC_VDDD_VOLTAGE_LEVEL_BITPOS)&HW_DCDC_VDDD_VOLTAGE_LEVEL_SETMASK)
                             3216 ; 491  |#define HW_DCDC_TBR_VDDD_HI_VALUE ((1<<HW_DCDC_TBR_DCDC_DCDC_ANA_BGR_BIAS_BITPOS)&HW_DCDC_TBR_DCDC_ANA_BGR_BIAS_SETMASK)
                             3217 ; 492  |#define HW_DCDC_TBR_VDDD_LO_VALUE (((1<<HW_DCDC_TBR_DCDC_DCDC_ANA_BGR_BIAS_BITPOS)&HW_DCDC_TBR_DCDC_ANA_BGR_BIAS_SETMASK)+((2<<HW_DCDC_TBR_DCDC1_ADJ_TN_BITPOS)&HW_DCDC_TBR_DCDC1_ADJ_TN_SETMASK)+((1<<HW_DCDC_TBR_DC
                                  DC1_BAT_ADJ_BITPOS)&HW_DCDC_TBR_DCDC1_BAT_ADJ_SETMASK))
                             3218 ; 493  |
                             3219 ; 494  |typedef union               
                             3220 ; 495  |{
                             3221 ; 496  |    struct {
                             3222 ; 497  |        unsigned int DCDC1_ADJ_TN               : HW_DCDC_TBR_DCDC1_ADJ_TN_WIDTH;
                             3223 ; 498  |        unsigned int DCDC1_DIS_5BIT             : HW_DCDC_TBR_DCDC1_DIS_5BIT_WIDTH;
                             3224 ; 499  |        unsigned int DCDC1_BAT_ADJ              : HW_DCDC_TBR_DCDC1_BAT_ADJ_WIDTH;
                             3225 ; 500  |        unsigned int DCDC1_CLK4X                : HW_DCDC_TBR_DCDC1_CLK4X_WIDTH;
                             3226 ; 501  |        unsigned int DCDC1_CLK2X                : HW_DCDC_TBR_DCDC1_CLK2X_WIDTH;
                             3227 ; 502  |        unsigned int DCDC1_NOZERO               : HW_DCDC_TBR_DCDC1_NOZERO_WIDTH;
                             3228 ; 503  |        unsigned int DCDC1_VDD5V_ACTIVE         : HW_DCDC_TBR_DCDC1_VDD5V_ACTIVE_WIDTH;
                             3229 ; 504  |        unsigned int DCDC1_PFM                  : HW_DCDC_TBR_DCDC1_PFM_WIDTH;
                             3230 ; 505  |        unsigned int DCDC1_STOPCLK              : HW_DCDC_TBR_DCDC1_STOPCLK_WIDTH;
                             3231 ; 506  |        unsigned int PWRUP_VDDIO_BRNOUT         : HW_DCDC_TBR_PWRUP_VDDIO_BRNOUT_WIDTH;
                             3232 ; 507  |        unsigned int DCDC_ANA_LESSI             : HW_DCDC_TBR_DCDC_ANA_LESSI_WIDTH;
                             3233 ; 508  |        unsigned int DCDC_MORE_CAP              : HW_DCDC_TBR_DCDC_MORE_CAP_WIDTH;
                             3234 ; 509  |        unsigned int DCDC_ANA_BGR_BIAS          : HW_DCDC_TBR_DCDC_ANA_BGR_BIAS_WIDTH;
                             3235 ; 510  |        unsigned int DCDC1_NEW_SCHEME           : HW_DCDC_TBR_DCDC1_NEW_SCHEME_WIDTH;
                             3236 ; 511  |        unsigned int DCDC1_HALF_FETS            : HW_DCDC_TBR_DCDC1_HALF_FETS_WIDTH;
                             3237 ; 512  |        unsigned int DCDC2_DIS_5BIT             : HW_DCDC_TBR_DCDC2_DIS_5BIT_WIDTH;
                             3238 ; 513  |        unsigned int DCDC2_CLK4X                : HW_DCDC_TBR_DCDC2_CLK4X_WIDTH;
                             3239 ; 514  |        unsigned int DCDC2_CLK2X                : HW_DCDC_TBR_DCDC2_CLK2X_WIDTH;
                             3240 ; 515  |        unsigned int DCDC2_VDD5V_ACTIVE         : HW_DCDC_TBR_DCDC2_VDD5V_ACTIVE_WIDTH;
                             3241 ; 516  |        unsigned int DCDC2_PFM                  : HW_DCDC_TBR_DCDC2_PFM_WIDTH;
                             3242 ; 517  |        unsigned int DCDC2_STOPCLK              : HW_DCDC_TBR_DCDC2_STOPCLK_WIDTH;
                             3243 ; 518  |    } B;
                             3244 ; 519  |    unsigned int I;
                             3245 ; 520  |} usb_dcdctbr_type;
                             3246 ; 521  |#define HW_DCDC_TBR                     (*(volatile usb_dcdctbr_type _X*) (HW_DCDC_BASEADDR+8))    /* Analog test bit register*/
                             3247 ; 522  |
                             3248 ; 523  |
                             3249 ; 524  |/////////////////////////////////////////////////////////////////////////////////
                             3250 ; 525  |
                             3251 ; 526  |//  Analog Persistent Config (HW_VDD5V_PWR_CHARGE) Bit Definitions
                             3252 ; 527  |
                             3253 ; 528  |#define HW_VDD5V_PWR_CHARGE_BATT_CURRENT_WIDTH (6)
                             3254 ; 529  |#define HW_VDD5V_PWR_CHARGE_RSVD0_WIDTH (2)
                             3255 ; 530  |#define HW_VDD5V_PWR_CHARGE_PWD_WIDTH (1)
                             3256 ; 531  |#define HW_VDD5V_PWR_CHARGE_RES_WIDTH (1)
                             3257 ; 532  |#define HW_VDD5V_PWR_CHARGE_NIMH_WIDTH (1)
                             3258 ; 533  |#define HW_VDD5V_PWR_CHARGE_LI_TYPE_WIDTH (1)
                             3259 ; 534  |#define HW_VDD5V_PWR_CHARGE_DISABLE_ILIMIT_WIDTH (1)
                             3260 ; 535  |#define HW_VDD5V_PWR_CHARGE_PWDN_ON_IOBRNOUT_WIDTH (1)
                             3261 ; 536  |#define HW_VDD5V_PWR_CHARGE_DCANA_LP_WIDTH (1)
                             3262 ; 537  |#define HW_VDD5V_PWR_CHARGE_TEST_USBREGS_WIDTH (1)
                             3263 ; 538  |#define HW_VDD5V_PWR_CHARGE_DRV_BATT_WIDTH (1)
                             3264 ; 539  |#define HW_VDD5V_PWR_CHARGE_SWCHRG_BAT_WIDTH (1)
                             3265 ; 540  |#define HW_VDD5V_PWR_CHARGE_RSVD1_WIDTH (2)
                             3266 ; 541  |#define HW_VDD5V_PWR_CHARGE_VDD5V_PRESENT_WIDTH (1)
                             3267 ; 542  |#define HW_VDD5V_PWR_CHARGE_BATT_INFO_WIDTH (2)
                             3268 ; 543  |#define HW_VDD5V_PWR_CHARGE_RSVD2_WIDTH (3)
                             3269 ; 544  |
                             3270 ; 545  |#define HW_VDD5V_PWR_CHARGE_BATT_CURRENT_BITPOS (0)
                             3271 ; 546  |#define HW_VDD5V_PWR_CHARGE_PWD_BITPOS (8)
                             3272 ; 547  |#define HW_VDD5V_PWR_CHARGE_RES_BITPOS (9)
                             3273 ; 548  |#define HW_VDD5V_PWR_CHARGE_NIMH_BITPOS (10)
                             3274 ; 549  |
                             3275 ; 550  |#define HW_VDD5V_PWR_CHARGE_LI_TYPE_BITPOS (11)
                             3276 ; 551  |#define HW_VDD5V_PWR_CHARGE_DISABLE_ILIMIT_BITPOS (12)
                             3277 ; 552  |#define HW_VDD5V_PWR_CHARGE_PWDN_ON_IOBRNOUT_BITPOS (13)
                             3278 ; 553  |#define HW_VDD5V_PWR_CHARGE_DCANA_LP_BITPOS (14)
                             3279 ; 554  |#define HW_VDD5V_PWR_CHARGE_TEST_USBREGS_BITPOS (15)
                             3280 ; 555  |#define HW_VDD5V_PWR_CHARGE_DRV_BATT_BITPOS (16)
                             3281 ; 556  |#define HW_VDD5V_PWR_CHARGE_SWCHRG_BAT_BITPOS (17)
                             3282 ; 557  |#define HW_VDD5V_PWR_CHARGE_VDD5V_PRESENT_BITPOS (20)
                             3283 ; 558  |#define HW_VDD5V_PWR_CHARGE_BATT_INFO_BITPOS (21)
                             3284 ; 559  |
                             3285 ; 560  |#define HW_VDD5V_PWR_CHARGE_BATT_CURRENT_SETMASK (((1<<HW_VDD5V_PWR_CHARGE_BATT_CURRENT_WIDTH)-1)<<HW_VDD5V_PWR_CHARGE_BATT_CURRENT_BITPOS)        
                             3286 ; 561  |#define HW_VDD5V_PWR_CHARGE_PWD_SETMASK (((1<<HW_VDD5V_PWR_CHARGE_PWD_WIDTH)-1)<<HW_VDD5V_PWR_CHARGE_PWD_BITPOS)        
                             3287 ; 562  |#define HW_VDD5V_PWR_CHARGE_RES_SETMASK (((1<<HW_VDD5V_PWR_CHARGE_RES_WIDTH)-1)<<HW_VDD5V_PWR_CHARGE_RES_BITPOS) 
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page  14

M:ADDR CODE           CYCLES LINE SOURCELINE
                             3288 ; 563  |#define HW_VDD5V_PWR_CHARGE_NIMH_SETMASK (((1<<HW_VDD5V_PWR_CHARGE_NIMH_WIDTH)-1)<<HW_VDD5V_PWR_CHARGE_NIMH_BITPOS) 
                             3289 ; 564  |#define HW_VDD5V_PWR_CHARGE_LI_TYPE_SETMASK (((1<<HW_VDD5V_PWR_CHARGE_LI_TYPE_WIDTH)-1)<<HW_VDD5V_PWR_CHARGE_LI_TYPE_BITPOS) 
                             3290 ; 565  |#define HW_VDD5V_PWR_CHARGE_DISABLE_ILIMIT_SETMASK (((1<<HW_VDD5V_PWR_CHARGE_DISABLE_ILIMIT_WIDTH)-1)<<HW_VDD5V_PWR_CHARGE_DISABLE_ILIMIT_BITPOS)        
                             3291 ; 566  |#define HW_VDD5V_PWR_CHARGE_PWDN_ON_IOBRNOUT_SETMASK (((1<<HW_VDD5V_PWR_CHARGE_PWDN_ON_IOBRNOUT_WIDTH)-1)<<HW_VDD5V_PWR_CHARGE_PWDN_ON_IOBRNOUT_BITPOS)        
                             3292 ; 567  |#define HW_VDD5V_PWR_CHARGE_DCANA_LP_SETMASK (((1<<HW_VDD5V_PWR_CHARGE_DCANA_LP_WIDTH)-1)<<HW_VDD5V_PWR_CHARGE_DCANA_LP_BITPOS) 
                             3293 ; 568  |#define HW_VDD5V_PWR_CHARGE_TEST_USBREGS_SETMASK (((1<<HW_VDD5V_PWR_CHARGE_TEST_USBREGS_WIDTH)-1)<<HW_VDD5V_PWR_CHARGE_TEST_USBREGS_BITPOS) 
                             3294 ; 569  |#define HW_VDD5V_PWR_CHARGE_DRV_BATT_SETMASK (((1<<HW_VDD5V_PWR_CHARGE_DRV_BATT_WIDTH)-1)<<HW_VDD5V_PWR_CHARGE_DRV_BATT_BITPOS) 
                             3295 ; 570  |#define HW_VDD5V_PWR_CHARGE_SWCHRG_BAT_SETMASK (((1<<HW_VDD5V_PWR_CHARGE_SWCHRG_BAT_WIDTH)-1)<<HW_VDD5V_PWR_CHARGE_SWCHRG_BAT_BITPOS) 
                             3296 ; 571  |#define HW_VDD5V_PWR_CHARGE_VDD5V_PRESENT_SETMASK (((1<<HW_VDD5V_PWR_CHARGE_VDD5V_PRESENT_WIDTH)-1)<<HW_VDD5V_PWR_CHARGE_VDD5V_PRESENT_BITPOS) 
                             3297 ; 572  |#define HW_VDD5V_PWR_CHARGE_BATT_INFO_SETMASK (((1<<HW_VDD5V_PWR_CHARGE_BATT_INFO_WIDTH)-1)<<HW_VDD5V_PWR_CHARGE_BATT_INFO_BITPOS) 
                             3298 ; 573  |
                             3299 ; 574  |
                             3300 ; 575  |#define HW_VDD5V_PWR_CHARGE_BATT_CURRENT_CLRMASK (~(WORD)HW_VDD5V_PWR_CHARGE_BATT_CURRENT_SETMASK)     
                             3301 ; 576  |#define HW_VDD5V_PWR_CHARGE_PWD_CLRMASK (~(WORD)HW_VDD5V_PWR_CHARGE_PWD_SETMASK)     
                             3302 ; 577  |#define HW_VDD5V_PWR_CHARGE_RES_CLRMASK (~(WORD)HW_VDD5V_PWR_CHARGE_RES_SETMASK) 
                             3303 ; 578  |#define HW_VDD5V_PWR_CHARGE_NIMH_CLRMASK (~(WORD)HW_VDD5V_PWR_CHARGE_NIMH_SETMASK) 
                             3304 ; 579  |#define HW_VDD5V_PWR_CHARGE_LI_TYPE_CLRMASK (~(WORD)HW_VDD5V_PWR_CHARGE_LI_TYPE_SETMASK) 
                             3305 ; 580  |#define HW_VDD5V_PWR_CHARGE_DISABLE_ILIMIT_CLRMASK (~(WORD)HW_VDD5V_PWR_CHARGE_DISABLE_ILIMIT_SETMASK)     
                             3306 ; 581  |#define HW_VDD5V_PWR_CHARGE_PWDN_ON_IOBRNOUT_CLRMASK (~(WORD)HW_VDD5V_PWR_CHARGE_PWDN_ON_IOBRNOUT_SETMASK)     
                             3307 ; 582  |#define HW_VDD5V_PWR_CHARGE_DCANA_LP_CLRMASK (~(WORD)HW_VDD5V_PWR_CHARGE_DCANA_LP_SETMASK) 
                             3308 ; 583  |#define HW_VDD5V_PWR_CHARGE_TEST_USBREGS_CLRMASK (~(WORD)HW_VDD5V_PWR_CHARGE_TEST_USBREGS_SETMASK) 
                             3309 ; 584  |#define HW_VDD5V_PWR_CHARGE_DRV_BATT_CLRMASK (~(WORD)HW_VDD5V_PWR_CHARGE_DRV_BATT_SETMASK) 
                             3310 ; 585  |#define HW_VDD5V_PWR_CHARGE_SWCHRG_BAT_CLRMASK (~(WORD)HW_VDD5V_PWR_CHARGE_SWCHRG_BAT_SETMASK) 
                             3311 ; 586  |#define HW_VDD5V_PWR_CHARGE_VDD5V_PRESENT_CLRMASK (~(WORD)HW_VDD5V_PWR_CHARGE_VDD5V_PRESENT_SETMASK) 
                             3312 ; 587  |#define HW_VDD5V_PWR_CHARGE_BATT_INFO_CLRMASK (~(WORD)HW_VDD5V_PWR_CHARGE_BATT_INFO_SETMASK) 
                             3313 ; 588  |
                             3314 ; 589  |typedef union               
                             3315 ; 590  |{
                             3316 ; 591  |    struct {
                             3317 ; 592  |        unsigned int BATT_CURRENT               : HW_VDD5V_PWR_CHARGE_BATT_CURRENT_WIDTH;
                             3318 ; 593  |        unsigned int RSVD0                      : HW_VDD5V_PWR_CHARGE_RSVD0_WIDTH;
                             3319 ; 594  |        unsigned int PWD                        : HW_VDD5V_PWR_CHARGE_PWD_WIDTH;
                             3320 ; 595  |        unsigned int RES                        : HW_VDD5V_PWR_CHARGE_RES_WIDTH;
                             3321 ; 596  |        unsigned int NIMH                       : HW_VDD5V_PWR_CHARGE_NIMH_WIDTH;
                             3322 ; 597  |        unsigned int LI_TYPE                    : HW_VDD5V_PWR_CHARGE_LI_TYPE_WIDTH;
                             3323 ; 598  |        unsigned int DISABLE_ILIMIT             : HW_VDD5V_PWR_CHARGE_DISABLE_ILIMIT_WIDTH;
                             3324 ; 599  |        unsigned int PWDN_ON_IOBRNOUT           : HW_VDD5V_PWR_CHARGE_PWDN_ON_IOBRNOUT_WIDTH;
                             3325 ; 600  |        unsigned int DCANA_LP                   : HW_VDD5V_PWR_CHARGE_DCANA_LP_WIDTH;
                             3326 ; 601  |        unsigned int TEST_USBREGS               : HW_VDD5V_PWR_CHARGE_TEST_USBREGS_WIDTH;
                             3327 ; 602  |        unsigned int DRV_BATT                   : HW_VDD5V_PWR_CHARGE_DRV_BATT_WIDTH;
                             3328 ; 603  |        unsigned int SWCHRG_BAT                 : HW_VDD5V_PWR_CHARGE_SWCHRG_BAT_WIDTH;
                             3329 ; 604  |        unsigned int RSVD1                      : HW_VDD5V_PWR_CHARGE_RSVD1_WIDTH;
                             3330 ; 605  |        unsigned int VDD5V_PRESENT              : HW_VDD5V_PWR_CHARGE_VDD5V_PRESENT_WIDTH;
                             3331 ; 606  |        unsigned int RSVD2                      : HW_VDD5V_PWR_CHARGE_RSVD2_WIDTH;
                             3332 ; 607  |    } B;
                             3333 ; 608  |    unsigned int I;
                             3334 ; 609  |} usb_pwr_charge_type;
                             3335 ; 610  |#define HW_VDD5V_PWR_CHARGE      (*(volatile usb_pwr_charge_type _X*) (HW_DCDC_BASEADDR+17))    /* Analog Persistent Config Register */
                             3336 ; 611  |
                             3337 ; 612  |#define HW_DCDC_PERSIST_AUTO_RESTART_STAT_WIDTH 1
                             3338 ; 613  |#define HW_DCDC_PERSIST_DELAY_5V_AUTO_RESTART_STAT_WIDTH 1
                             3339 ; 614  |#define HW_DCDC_PERSIST_UPDATE_WIDTH 1
                             3340 ; 615  |#define HW_DCDC_PERSIST_AUTO_RESTART_WIDTH 1
                             3341 ; 616  |#define HW_DCDC_PERSIST_DELAY_5V_AUTO_RESTART_WIDTH 1
                             3342 ; 617  |#define HW_DCDC_PERSIST_LOW_BATT_TYPE_WIDTH 1
                             3343 ; 618  |#define HW_DCDC_PERSIST_LOW_BATTERY_ENABLE_WIDTH 1
                             3344 ; 619  |#define HW_DCDC_PERSIST_SLEEP_XTAL_ENABLE_WIDTH 1
                             3345 ; 620  |#define HW_DCDC_PERSIST_XTAL_TRIM1_WIDTH 1
                             3346 ; 621  |#define HW_DCDC_PERSIST_XTAL_TRIM0_WIDTH 1
                             3347 ; 622  |#define HW_DCDC_PERSIST_XTAL_BIAS_DOWN1_WIDTH 1
                             3348 ; 623  |#define HW_DCDC_PERSIST_XTAL_BIAS_DOWN0_WIDTH 1
                             3349 ; 624  |#define HW_DCDC_PERSIST_XTAL_TRM_ENABLE_WIDTH 1
                             3350 ; 625  |#define HW_DCDC_PERSIST_RSRVD_WIDTH 2
                             3351 ; 626  |
                             3352 ; 627  |#define HW_DCDC_PERSIST_AUTO_RESTART_STAT_BITPOS 12
                             3353 ; 628  |#define HW_DCDC_PERSIST_DELAY_5V_AUTO_RESTART_STAT_BITPOS 11
                             3354 ; 629  |#define HW_DCDC_PERSIST_UPDATE_BITPOS 10
                             3355 ; 630  |#define HW_DCDC_PERSIST_AUTO_RESTART_BITPOS 9
                             3356 ; 631  |#define HW_DCDC_PERSIST_DELAY_5V_AUTO_RESTART_BITPOS 8 
                             3357 ; 632  |#define HW_DCDC_PERSIST_LOW_BATT_TYPE_BITPOS 7
                             3358 ; 633  |#define HW_DCDC_PERSIST_LOW_BATTERY_ENABLE_BITPOS 6
                             3359 ; 634  |#define HW_DCDC_PERSIST_SLEEP_XTAL_ENABLE_BITPOS 5
                             3360 ; 635  |#define HW_DCDC_PERSIST_XTAL_TRIM1_BITPOS 4
                             3361 ; 636  |#define HW_DCDC_PERSIST_XTAL_TRIM0_BITPOS 3
                             3362 ; 637  |#define HW_DCDC_PERSIST_XTAL_BIAS_DOWN1_BITPOS 2
                             3363 ; 638  |#define HW_DCDC_PERSIST_XTAL_BIAS_DOWN0_BITPOS 1
                             3364 ; 639  |#define HW_DCDC_PERSIST_XTAL_TRM_ENABLE_BITPOS 0
                             3365 ; 640  |
                             3366 ; 641  |typedef union               
                             3367 ; 642  |{
                             3368 ; 643  |    struct {       
                             3369 ; 644  |       int XTAL_TRM_ENABLE             : HW_DCDC_PERSIST_XTAL_TRM_ENABLE_WIDTH;
                             3370 ; 645  |       int XTAL_BIAS_DOWN0             : HW_DCDC_PERSIST_XTAL_BIAS_DOWN0_WIDTH;
                             3371 ; 646  |       int XTAL_BIAS_DOWN1             : HW_DCDC_PERSIST_XTAL_BIAS_DOWN1_WIDTH;
                             3372 ; 647  |       int XTAL_TRIM0                  : HW_DCDC_PERSIST_XTAL_TRIM0_WIDTH;
                             3373 ; 648  |       int XTAL_TRIM1                  : HW_DCDC_PERSIST_XTAL_TRIM1_WIDTH;
                             3374 ; 649  |       int SLEEP_XTAL_ENABLE           : HW_DCDC_PERSIST_SLEEP_XTAL_ENABLE_WIDTH;
                             3375 ; 650  |       int LOW_BATTERY_ENABLE          : HW_DCDC_PERSIST_LOW_BATTERY_ENABLE_WIDTH;
                             3376 ; 651  |       int LOW_BATT_TYPE               : HW_DCDC_PERSIST_LOW_BATT_TYPE_WIDTH;
                             3377 ; 652  |       int DELAY_5V_AUTO_RESTART       : HW_DCDC_PERSIST_DELAY_5V_AUTO_RESTART_WIDTH;
                             3378 ; 653  |       int AUTO_RESTART                : HW_DCDC_PERSIST_AUTO_RESTART_WIDTH;
                             3379 ; 654  |       int UPDATE                      : HW_DCDC_PERSIST_UPDATE_WIDTH;
                             3380 ; 655  |       int DELAY_5V_AUTO_RESTART_STAT  : HW_DCDC_PERSIST_DELAY_5V_AUTO_RESTART_STAT_WIDTH;
                             3381 ; 656  |       int AUTO_RESTART_STAT           : HW_DCDC_PERSIST_AUTO_RESTART_STAT_WIDTH;
                             3382 ; 657  |       int RSRVD                       : HW_DCDC_PERSIST_RSRVD_WIDTH;
                             3383 ; 658  |    } B;
                             3384 ; 659  |    int I;
                             3385 ; 660  |} usb_dcdcpersist_type;
                             3386 ; 661  |#define HW_DCDC_PERSIST                (*(volatile usb_dcdcpersist_type _X*) (HW_DCDC_BASEADDR+15))    /* Analog test bit register*/
                             3387 ; 662  |
                             3388 ; 663  |
                             3389 ; 664  |
                             3390 ; 665  |#endif
                             3391 ; 666  |
                             3392 ; 667  |
                             3393 ; 668  |
                             3394 
                             3396 
                             3397 ; 21   |#include "regsemc.h"
                             3398 
                             3400 
                             3401 ; 1    |#if !(defined(__REGS_EMC_INC))
                             3402 ; 2    |#define __REGS_EMC_INC 1
                             3403 ; 3    |
                             3404 ; 4    |/////////////////////////////////////////////////////////////////////////////////
                             3405 ; 5    |//   Module base addresses
                             3406 ; 6    |/////////////////////////////////////////////////////////////////////////////////
                             3407 ; 7    |#define HW_EMC_BASEADDR 0xF000
                             3408 ; 8    |
                             3409 ; 9    |/////////////////////////////////////////////////////////////////////////////////
                             3410 ; 10   |//  EMC Registers
                             3411 ; 11   |/////////////////////////////////////////////////////////////////////////////////
                             3412 ; 12   |
                             3413 ; 13   |
                             3414 ; 14   |/////////////////////////////////////////////////////////////////////////////////
                             3415 ; 15   |//  Flash Control Register (HW_FLCR) Bit Definitions
                             3416 ; 16   |
                             3417 ; 17   |typedef union               /*Flash Control Register*/
                             3418 ; 18   |{
                             3419 ; 19   |    struct
                             3420 ; 20   |    {
                             3421 ; 21   |    int KICK        :1;
                             3422 ; 22   |    int RW          :1;
                             3423 ; 23   |    int TCIE        :1;
                             3424 ; 24   |    int IRQP        :1;
                             3425 ; 25   |    unsigned MMD    :2;
                             3426 ; 26   |    unsigned NB     :11;
                             3427 ; 27   |    unsigned RSVD   :4;
                             3428 ; 28   |    int SRST        :1;
                             3429 ; 29   |    } B;
                             3430 ; 30   |    int I;
                             3431 ; 31   |} flcr_type;
                             3432 ; 32   |
                             3433 ; 33   |#define HW_FLCR_KICK_BITPOS 0
                             3434 ; 34   |#define HW_FLCR_RW_BITPOS 1
                             3435 ; 35   |#define HW_FLCR_TCIE_BITPOS 2
                             3436 ; 36   |#define HW_FLCR_IRQP_BITPOS 3
                             3437 ; 37   |#define HW_FLCR_MMD_BITPOS 4
                             3438 ; 38   |#define HW_FLCR_NB_BITPOS 6
                             3439 ; 39   |#define HW_FLCR_SRST_BITPOS 21
                             3440 ; 40   |
                             3441 ; 41   |#define HW_FLCR_KICK_SETMASK 1<<HW_FLCR_KICK_BITPOS
                             3442 ; 42   |#define HW_FLCR_RW_SETMASK 1<<HW_FLCR_RW_BITPOS
                             3443 ; 43   |#define HW_FLCR_READ_KICK_SETMASK HW_FLCR_KICK_SETMASK|HW_FLCR_RW_SETMASK
                             3444 ; 44   |#define HW_FLCR_WRITE_KICK_SETMASK HW_FLCR_KICK_SETMASK
                             3445 ; 45   |#define HW_FLCR_TCIE_SETMASK 1<<HW_FLCR_TCIE_BITPOS
                             3446 ; 46   |#define HW_FLCR_IRQP_SETMASK 1<<HW_FLCR_IRQP_BITPOS
                             3447 ; 47   |#define HW_FLCR_MMD_SETMASK 3<<HW_FLCR_MMD_BITPOS
                             3448 ; 48   |#define HW_FLCR_NB_SETMASK 0x7FF<<HW_FLCR_NB_BITPOS
                             3449 ; 49   |#define HW_FLCR_SRST_SETMASK 1<<HW_FLCR_SRST_BITPOS
                             3450 ; 50   |
                             3451 ; 51   |#define HW_FLCR_KICK_CLRMASK ~(WORD)HW_FLCR_KICK_SETMASK
                             3452 ; 52   |#define HW_FLCR_RW_CLRMASK ~(WORD)HW_FLCR_RW_SETMASK
                             3453 ; 53   |#define HW_FLCR_TCIE_CLRMASK ~(WORD)HW_FLCR_TCIE_SETMASK
                             3454 ; 54   |#define HW_FLCR_IRQP_CLRMASK ~(WORD)HW_FLCR_IRQP_SETMASK
                             3455 ; 55   |#define HW_FLCR_MMD_CLRMASK ~(WORD)HW_FLCR_MMD_SETMASK
                             3456 ; 56   |#define HW_FLCR_NB_CLRMASK ~(WORD)HW_FLCR_NB_SETMASK
                             3457 ; 57   |#define HW_FLCR_SRST_CLRMASK ~(WORD)HW_FLCR_SRST_SETMASK
                             3458 ; 58   |
                             3459 ; 59   |
                             3460 ; 60   |/////////////////////////////////////////////////////////////////////////////////
                             3461 ; 61   |//  Flash Start Address Low Register (HW_FLSALR) Bit Definitions
                             3462 ; 62   |
                             3463 ; 63   |typedef union           /* Flash Start Address Low*/
                             3464 ; 64   |{
                             3465 ; 65   |    struct
                             3466 ; 66   |    {
                             3467 ; 67   |    unsigned XA     : 24;
                             3468 ; 68   |    } B;
                             3469 ; 69   |    int I;
                             3470 ; 70   |} flsalr_type;
                             3471 ; 71   |
                             3472 ; 72   |#define HW_FLSALR_XA_BITPOS 0
                             3473 ; 73   |
                             3474 ; 74   |#define HW_FLSALR_XA_SETMASK 0xFFFFFF<<HW_FLSALR_XA_BITPOS
                             3475 ; 75   |
                             3476 ; 76   |#define HW_FLSALR_XA_CLRMASK ~(WORD)HW_FLSALR_XA_SETMASK
                             3477 ; 77   |
                             3478 ; 78   |
                             3479 ; 79   |/////////////////////////////////////////////////////////////////////////////////
                             3480 ; 80   |//  Flash Start Address High Register (HW_FLSAHR) Bit Definitions
                             3481 ; 81   |
                             3482 ; 82   |typedef union           /* Flash Start Address High*/
                             3483 ; 83   |{
                             3484 ; 84   |    struct
                             3485 ; 85   |    {
                             3486 ; 86   |    unsigned XA     :8;
                             3487 ; 87   |    unsigned DA     :16;
                             3488 ; 88   |    } B;
                             3489 ; 89   |    int I;
                             3490 ; 90   |} flsahr_type;
                             3491 ; 91   |
                             3492 ; 92   |#define HW_FLSAHR_XA_BITPOS 0
                             3493 ; 93   |
                             3494 ; 94   |#define HW_FLSAHR_XA_SETMASK 0xFFFFFF<<HW_FLSAHR_XA_BITPOS
                             3495 ; 95   |
                             3496 ; 96   |#define HW_FLSAHR_XA_CLRMASK ~(WORD)HW_FLSAHR_XA_SETMASK
                             3497 ; 97   |
                             3498 ; 98   |
                             3499 ; 99   |/////////////////////////////////////////////////////////////////////////////////
                             3500 ; 100  |//  EMC Flash CompactFlash Control Register (HW_FLCFCR) Bit Definitions
                             3501 ; 101  |
                             3502 ; 102  |typedef union           /* Flash CompactFlash Control Register*/
                             3503 ; 103  |{
                             3504 ; 104  |    struct
                             3505 ; 105  |    {
                             3506 ; 106  |        int WP          :1;
                             3507 ; 107  |        int CDP         :1;
                             3508 ; 108  |        unsigned SM     :2;
                             3509 ; 109  |        int XATTR       :1;
                             3510 ; 110  |        int CRST        :1;
                             3511 ; 111  |        int XWT         :1;
                             3512 ; 112  |        int RI          :1;
                             3513 ; 113  |        int IFCE        :1;
                             3514 ; 114  |        int ISCE        :1;
                             3515 ; 115  |        int INCE        :1;
                             3516 ; 116  |        int IFCS        :1;
                             3517 ; 117  |        int ISCS        :1;
                             3518 ; 118  |        int INCS        :1;
                             3519 ; 119  |        unsigned CFAI   :2;
                             3520 ; 120  |        int XDDI        :1;
                             3521 ; 121  |        unsigned CS     :2;
                             3522 ; 122  |        int CRE         :1;
                             3523 ; 123  |        unsigned VS     :2;
                             3524 ; 124  |        int DASP        :1;
                             3525 ; 125  |        int MODE16      :1; 
                             3526 ; 126  |    } B;
                             3527 ; 127  |    int I;
                             3528 ; 128  |} flcfcr_type;
                             3529 ; 129  |
                             3530 ; 130  |#define HW_FLCFCR_WP_BITPOS 0
                             3531 ; 131  |#define HW_FLCFCR_CDP_BITPOS 1
                             3532 ; 132  |#define HW_FLCFCR_SM_BITPOS 2
                             3533 ; 133  |#define HW_FLCFCR_XATTR_BITPOS 4
                             3534 ; 134  |#define HW_FLCFCR_CRST_BITPOS 5
                             3535 ; 135  |#define HW_FLCFCR_XWT_BITPOS 6
                             3536 ; 136  |#define HW_FLCFCR_RI_BITPOS 7
                             3537 ; 137  |#define HW_FLCFCR_IFCE_BITPOS 8
                             3538 ; 138  |#define HW_FLCFCR_ISCE_BITPOS 9
                             3539 ; 139  |#define HW_FLCFCR_INCE_BITPOS 10
                             3540 ; 140  |#define HW_FLCFCR_IFCS_BITPOS 11
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page  15

M:ADDR CODE           CYCLES LINE SOURCELINE
                             3541 ; 141  |#define HW_FLCFCR_ISCS_BITPOS 12
                             3542 ; 142  |#define HW_FLCFCR_INCS_BITPOS 13
                             3543 ; 143  |#define HW_FLCFCR_CFAI_BITPOS 14
                             3544 ; 144  |#define HW_FLCFCR_XDDI_BITPOS 16
                             3545 ; 145  |#define HW_FLCFCR_CS_BITPOS 17
                             3546 ; 146  |#define HW_FLCFCR_CRE_BITPOS 19
                             3547 ; 147  |#define HW_FLCFCR_VS_BITPOS 20
                             3548 ; 148  |#define HW_FLCFCR_DASP_BITPOS 22
                             3549 ; 149  |
                             3550 ; 150  |#define HW_FLCFCR_WP_SETMASK 1<<HW_FLCFCR_WP_BITPOS
                             3551 ; 151  |#define HW_FLCFCR_CDP_SETMASK 1<<HW_FLCFCR_CDP_BITPOS
                             3552 ; 152  |#define HW_FLCFCR_SM_SETMASK 3<<HW_FLCFCR_SM_BITPOS
                             3553 ; 153  |#define HW_FLCFCR_XATTR_SETMASK 1<<HW_FLCFCR_XATTR_BITPOS
                             3554 ; 154  |#define HW_FLCFCR_CRST_SETMASK 1<<HW_FLCFCR_CRST_BITPOS
                             3555 ; 155  |#define HW_FLCFCR_XWT_SETMASK 1<<HW_FLCFCR_XWT_BITPOS
                             3556 ; 156  |#define HW_FLCFCR_RI_SETMASK 1<<HW_FLCFCR_RI_BITPOS
                             3557 ; 157  |#define HW_FLCFCR_IFCE_SETMASK 1<<HW_FLCFCR_IFCE_BITPOS
                             3558 ; 158  |#define HW_FLCFCR_ISCE_SETMASK 1<<HW_FLCFCR_ISCE_BITPOS
                             3559 ; 159  |#define HW_FLCFCR_INCE_SETMASK 1<<HW_FLCFCR_INCE_BITPOS
                             3560 ; 160  |#define HW_FLCFCR_IFCS_SETMASK 1<<HW_FLCFCR_IFCS_BITPOS
                             3561 ; 161  |#define HW_FLCFCR_ISCS_SETMASK 1<<HW_FLCFCR_ISCS_BITPOS
                             3562 ; 162  |#define HW_FLCFCR_INCS_SETMASK 1<<HW_FLCFCR_INCS_BITPOS
                             3563 ; 163  |#define HW_FLCFCR_CFAI_SETMASK 3<<HW_FLCFCR_CFAI_BITPOS
                             3564 ; 164  |#define HW_FLCFCR_XDDI_SETMASK 1<<HW_FLCFCR_XDDI_BITPOS
                             3565 ; 165  |#define HW_FLCFCR_CS_SETMASK 3<<HW_FLCFCR_CS_BITPOS
                             3566 ; 166  |#define HW_FLCFCR_CRE_SETMASK 1<<HW_FLCFCR_CRE_BITPOS
                             3567 ; 167  |#define HW_FLCFCR_VS_SETMASK 3<<HW_FLCFCR_VS_BITPOS
                             3568 ; 168  |#define HW_FLCFCR_DASP_SETMASK 1<<HW_FLCFCR_DASP_BITPOS
                             3569 ; 169  |
                             3570 ; 170  |#define HW_FLCFCR_WP_CLRMASK ~(WORD)HW_FLCFCR_WP_SETMASK
                             3571 ; 171  |#define HW_FLCFCR_CDP_CLRMASK ~(WORD)HW_FLCFCR_CDP_SETMASK
                             3572 ; 172  |#define HW_FLCFCR_SM_CLRMASK ~(WORD)HW_FLCFCR_SM_SETMASK
                             3573 ; 173  |#define HW_FLCFCR_XATTR_CLRMASK ~(WORD)HW_FLCFCR_XATTR_SETMASK
                             3574 ; 174  |#define HW_FLCFCR_CRST_CLRMASK ~(WORD)HW_FLCFCR_CRST_SETMASK
                             3575 ; 175  |#define HW_FLCFCR_XWT_CLRMASK ~(WORD)HW_FLCFCR_XWT_SETMASK
                             3576 ; 176  |#define HW_FLCFCR_RI_CLRMASK ~(WORD)HW_FLCFCR_RI_SETMASK
                             3577 ; 177  |#define HW_FLCFCR_IFCE_CLRMASK ~(WORD)HW_FLCFCR_IFCE_SETMASK
                             3578 ; 178  |#define HW_FLCFCR_ISCE_CLRMASK ~(WORD)HW_FLCFCR_ISCE_SETMASK
                             3579 ; 179  |#define HW_FLCFCR_INCE_CLRMASK ~(WORD)HW_FLCFCR_INCE_SETMASK
                             3580 ; 180  |#define HW_FLCFCR_IFCS_CLRMASK ~(WORD)HW_FLCFCR_IFCS_SETMASK
                             3581 ; 181  |#define HW_FLCFCR_ISCS_CLRMASK ~(WORD)HW_FLCFCR_ISCS_SETMASK
                             3582 ; 182  |#define HW_FLCFCR_INCS_CLRMASK ~(WORD)HW_FLCFCR_INCS_SETMASK
                             3583 ; 183  |#define HW_FLCFCR_CFAI_CLRMASK ~(WORD)HW_FLCFCR_CFAI_SETMASK
                             3584 ; 184  |#define HW_FLCFCR_XDDI_CLRMASK ~(WORD)HW_FLCFCR_XDDI_SETMASK
                             3585 ; 185  |#define HW_FLCFCR_CS_CLRMASK ~(WORD)HW_FLCFCR_CS_SETMASK
                             3586 ; 186  |#define HW_FLCFCR_CRE_CLRMASK ~(WORD)HW_FLCFCR_CRE_SETMASK
                             3587 ; 187  |#define HW_FLCFCR_VS_CLRMASK ~(WORD)HW_FLCFCR_VS_SETMASK
                             3588 ; 188  |#define HW_FLCFCR_DASP_CLRMASK ~(WORD)HW_FLCFCR_DASP_SETMASK
                             3589 ; 189  |
                             3590 ; 190  |
                             3591 ; 191  |/////////////////////////////////////////////////////////////////////////////////
                             3592 ; 192  |//  EMC Flash Compact Flash Timer1 Register (HW_FLCFTMR1R) Bit Definitions
                             3593 ; 193  |
                             3594 ; 194  |typedef union           /* Flash CompactFlash Timer1 Register*/
                             3595 ; 195  |{
                             3596 ; 196  |    struct
                             3597 ; 197  |    {
                             3598 ; 198  |        unsigned TRWSU  :5;
                             3599 ; 199  |        unsigned TRPW   :7;
                             3600 ; 200  |        unsigned TWPW   :7;
                             3601 ; 201  |        unsigned TRWH   :5;
                             3602 ; 202  |    } B;
                             3603 ; 203  |    int I;
                             3604 ; 204  |} flcftmr1r_type;
                             3605 ; 205  |
                             3606 ; 206  |#define HW_FLCFTMR1R_TRWSU_BITPOS 0
                             3607 ; 207  |#define HW_FLCFTMR1R_TRPW_BITPOS 5
                             3608 ; 208  |#define HW_FLCFTMR1R_TWPW_BITPOS 12
                             3609 ; 209  |#define HW_FLCFTMR1R_TRWH_BITPOS 19
                             3610 ; 210  |
                             3611 ; 211  |#define HW_FLCFTMR1R_TRWSU_SETMASK 0x1F<<HW_FLCFTMR1R_TRWSU_BITPOS
                             3612 ; 212  |#define HW_FLCFTMR1R_TRPW_SETMASK 0x7F<<HW_FLCFTMR1R_TRPW_BITPOS
                             3613 ; 213  |#define HW_FLCFTMR1R_TWPW_SETMASK 0x7F<<HW_FLCFTMR1R_TWPW_BITPOS
                             3614 ; 214  |#define HW_FLCFTMR1R_TRWH_SETMASK 0x1F<<HW_FLCFTMR1R_TRWH_BITPOS
                             3615 ; 215  |
                             3616 ; 216  |#define HW_FLCFTMR1R_TRWSU_CLRMASK ~(WORD)HW_FLCFTMR1R_TRWSU_SETMASK
                             3617 ; 217  |#define HW_FLCFTMR1R_TRPW_CLRMASK ~(WORD)HW_FLCFTMR1R_TRPW_SETMASK
                             3618 ; 218  |#define HW_FLCFTMR1R_TWPW_CLRMASK ~(WORD)HW_FLCFTMR1R_TWPW_SETMASK
                             3619 ; 219  |#define HW_FLCFTMR1R_TRWH_CLRMASK ~(WORD)HW_FLCFTMR1R_TRWH_SETMASK
                             3620 ; 220  |
                             3621 ; 221  |
                             3622 ; 222  |/////////////////////////////////////////////////////////////////////////////////
                             3623 ; 223  |//  EMC Flash Compact Flash Timer1 Register (HW_FLCFTMR2R) Bit Definitions
                             3624 ; 224  |
                             3625 ; 225  |typedef union           /* Flash CompactFlash Timer2 Register*/
                             3626 ; 226  |{
                             3627 ; 227  |    struct
                             3628 ; 228  |    {
                             3629 ; 229  |        unsigned TWW    :4;
                             3630 ; 230  |        unsigned TWTO   :10;
                             3631 ; 231  |        unsigned THW    :5; 
                             3632 ; 232  |        unsigned TRAQ   :5;
                             3633 ; 233  |    } B;
                             3634 ; 234  |    int I;
                             3635 ; 235  |} flcftmr2r_type;
                             3636 ; 236  |
                             3637 ; 237  |#define HW_FLCFTMR2R_TWW_BITPOS 0
                             3638 ; 238  |#define HW_FLCFTMR2R_TWTO_BITPOS 4
                             3639 ; 239  |#define HW_FLCFTMR2R_THW_BITPOS 14
                             3640 ; 240  |#define HW_FLCFTMR2R_TRAQ_BITPOS 19
                             3641 ; 241  |
                             3642 ; 242  |#define HW_FLCFTMR2R_TWW_SETMASK 0xF<<HW_FLCFTMR2R_TWW_BITPOS
                             3643 ; 243  |#define HW_FLCFTMR2R_TWTO_SETMASK 0x3FF<<HW_FLCFTMR2R_TWTO_BITPOS
                             3644 ; 244  |#define HW_FLCFTMR2R_THW_SETMASK 0x1F<<HW_FLCFTMR2R_THW_BITPOS
                             3645 ; 245  |#define HW_FLCFTMR2R_TRAQ_SETMASK 0x1F<<HW_FLCFTMR2R_TRAQ_BITPOS
                             3646 ; 246  |
                             3647 ; 247  |#define HW_FLCFTMR2R_TWW_CLRMASK ~(WORD)HW_FLCFTMR2R_TWW_SETMASK
                             3648 ; 248  |#define HW_FLCFTMR2R_TWTO_CLRMASK ~(WORD)HW_FLCFTMR2R_TWTO_SETMASK
                             3649 ; 249  |#define HW_FLCFTMR2R_THW_CLRMASK ~(WORD)HW_FLCFTMR2R_THW_SETMASK
                             3650 ; 250  |#define HW_FLCFTMR2R_TRAQ_CLRMASK ~(WORD)HW_FLCFTMR2R_TRAQ_SETMASK
                             3651 ; 251  |
                             3652 ; 252  |
                             3653 ; 253  |/////////////////////////////////////////////////////////////////////////////////
                             3654 ; 254  |//  EMC Flash SmartMedia Control Register (HW_FLSMCR) Bit Definitions
                             3655 ; 255  |
                             3656 ; 256  |typedef union           /* Flash SmartMedia Control Register*/
                             3657 ; 257  |{
                             3658 ; 258  |    struct
                             3659 ; 259  |    {
                             3660 ; 260  |        unsigned CS     :2;
                             3661 ; 261  |        int SE          :1;
                             3662 ; 262  |        int WP          :1;
                             3663 ; 263  |        int SIZE        :1;
                             3664 ; 264  |        int ICMD        :8;
                             3665 ; 265  |        int TOIE        :1;
                             3666 ; 266  |        int BPIE        :1;
                             3667 ; 267  |        int TOIRQ       :1;
                             3668 ; 268  |        int BPIRQ       :1;
                             3669 ; 269  |    } B;
                             3670 ; 270  |    int I;
                             3671 ; 271  |} flsmcr_type;
                             3672 ; 272  |
                             3673 ; 273  |#define HW_FLSMCR_CS_BITPOS 0
                             3674 ; 274  |#define HW_FLSMCR_SE_BITPOS 2
                             3675 ; 275  |#define HW_FLSMCR_WP_BITPOS 3
                             3676 ; 276  |#define HW_FLSMCR_SIZE_BITPOS 4
                             3677 ; 277  |#define HW_FLSMCR_ICMD_BITPOS 5
                             3678 ; 278  |#define HW_FLSMCR_TOIE_BITPOS 13
                             3679 ; 279  |#define HW_FLSMCR_BPIE_BITPOS 14
                             3680 ; 280  |#define HW_FLSMCR_TOIRQ_BITPOS 15
                             3681 ; 281  |#define HW_FLSMCR_BPIRQ_BITPOS 16
                             3682 ; 282  |
                             3683 ; 283  |#define HW_FLSMCR_CS_SETMASK 1<<HW_FLSMCR_CS_BITPOS
                             3684 ; 284  |#define HW_FLSMCR_SE_SETMASK 1<<HW_FLSMCR_SE_BITPOS
                             3685 ; 285  |#define HW_FLSMCR_WP_SETMASK 1<<HW_FLSMCR_WP_BITPOS
                             3686 ; 286  |#define HW_FLSMCR_SIZE_SETMASK 1<<HW_FLSMCR_SIZE_BITPOS
                             3687 ; 287  |#define HW_FLSMCR_ICMD_SETMASK (0xFF)<<HW_FLSMCR_ICMD_BITPOS
                             3688 ; 288  |#define HW_FLSMCR_TOIE_SETMASK 1<<HW_FLSMCR_TOIE_BITPOS
                             3689 ; 289  |#define HW_FLSMCR_BPIE_SETMASK 1<<HW_FLSMCR_BPIE_BITPOS
                             3690 ; 290  |#define HW_FLSMCR_TOIRQ_SETMASK 1<<HW_FLSMCR_TOIRQ_BITPOS
                             3691 ; 291  |#define HW_FLSMCR_BPIRQ_SETMASK 1<<HW_FLSMCR_BPIRQ_BITPOS
                             3692 ; 292  |
                             3693 ; 293  |#define HW_FLSMCR_SE_ASSERT_SETMASK 0x000000
                             3694 ; 294  |#define HW_FLSMCR_SE_DEASSERT_SETMASK 0x000004
                             3695 ; 295  |#define HW_FLSMCR_WP_ASSERT_SETMASK 0x000000
                             3696 ; 296  |#define HW_FLSMCR_WP_DEASSERT_SETMASK 0x000008
                             3697 ; 297  |#define HW_FLSMCR_SIZE_SMALL_SETMASK 0x000000
                             3698 ; 298  |#define HW_FLSMCR_SIZE_LARGE_SETMASK 0x000010
                             3699 ; 299  |#define HW_FLSMCR_ICMD_RESET_SETMASK 0x001FE0
                             3700 ; 300  |#define HW_FLSMCR_ICMD_READ_STATUS_SETMASK 0x000E00
                             3701 ; 301  |#define HW_FLSMCR_ICMD_BLOCK_ERASE_SETMASK 0x000C00
                             3702 ; 302  |#define HW_FLSMCR_ICMD_ERASE_SETMASK 0x001A00
                             3703 ; 303  |#define HW_FLSMCR_ICMD_RP_FIRST_SETMASK 0x000000
                             3704 ; 304  |#define HW_FLSMCR_ICMD_RP_SECOND_SETMASK 0x000020
                             3705 ; 305  |#define HW_FLSMCR_ICMD_RP_SPARE_SETMASK 0x000A00
                             3706 ; 306  |#define HW_FLSMCR_ICMD_READ_ID_SETMASK 0x001200
                             3707 ; 307  |
                             3708 ; 308  |#define HW_FLSMCR_CS_CLRMASK ~(WORD)HW_FLSMCR_CS_SETMASK
                             3709 ; 309  |#define HW_FLSMCR_SE_CLRMASK ~(WORD)HW_FLSMCR_SE_SETMASK
                             3710 ; 310  |#define HW_FLSMCR_WP_CLRMASK ~(WORD)HW_FLSMCR_WP_SETMASK
                             3711 ; 311  |#define HW_FLSMCR_SIZE_CLRMASK ~(WORD)HW_FLSMCR_SIZE_SETMASK
                             3712 ; 312  |#define HW_FLSMCR_ICMD_CLRMASK ~(WORD)HW_FLSMCR_ICMD_SETMASK
                             3713 ; 313  |#define HW_FLSMCR_TOIE_CLRMASK ~(WORD)HW_FLSMCR_TOIE_SETMASK
                             3714 ; 314  |#define HW_FLSMCR_BPIE_CLRMASK ~(WORD)HW_FLSMCR_BPIE_SETMASK
                             3715 ; 315  |#define HW_FLSMCR_TOIRQ_CLRMASK ~(WORD)HW_FLSMCR_TOIRQ_SETMASK
                             3716 ; 316  |#define HW_FLSMCR_BPIRQ_CLRMASK ~(WORD)HW_FLSMCR_BPIRQ_SETMASK
                             3717 ; 317  |
                             3718 ; 318  |
                             3719 ; 319  |/////////////////////////////////////////////////////////////////////////////////
                             3720 ; 320  |//  EMC Flash SmartMedia Timer1 Register (HW_FLSMTMR1R) Bit Definitions
                             3721 ; 321  |
                             3722 ; 322  |typedef union           /* Flash SmartMedia Timer1 Register*/
                             3723 ; 323  |{
                             3724 ; 324  |    struct
                             3725 ; 325  |    {
                             3726 ; 326  |        unsigned TRWSU  :5;
                             3727 ; 327  |        unsigned TRPW   :6;
                             3728 ; 328  |        unsigned TWPW   :6;
                             3729 ; 329  |        unsigned TRWH   :5;
                             3730 ; 330  |    } B;
                             3731 ; 331  |    int I;
                             3732 ; 332  |} flsmtmr1r_type;
                             3733 ; 333  |
                             3734 ; 334  |#define HW_FLSMTMR1R_TRWSU_BITPOS 0
                             3735 ; 335  |#define HW_FLSMTMR1R_TRPW_BITPOS 5
                             3736 ; 336  |#define HW_FLSMTMR1R_TWPW_BITPOS 11
                             3737 ; 337  |#define HW_FLSMTMR1R_TRWH_BITPOS 17
                             3738 ; 338  |
                             3739 ; 339  |#define HW_FLSMTMR1R_TRWSU_SETMASK 0x1F<<HW_FLSMTMR1R_TRWSU_BITPOS
                             3740 ; 340  |#define HW_FLSMTMR1R_TRPW_SETMASK 0x3F<<HW_FLSMTMR1R_TRPW_BITPOS
                             3741 ; 341  |#define HW_FLSMTMR1R_TWPW_SETMASK 0x3F<<HW_FLSMTMR1R_TWPW_BITPOS
                             3742 ; 342  |#define HW_FLSMTMR1R_TRWH_SETMASK 0x1F<<HW_FLSMTMR1R_TRWH_BITPOS
                             3743 ; 343  |
                             3744 ; 344  |#define HW_FLSMTMR1R_TRWSU_CLRMASK ~(WORD)HW_FLSMTMR1R_TRWSU_SETMASK
                             3745 ; 345  |#define HW_FLSMTMR1R_TRPW_CLRMASK ~(WORD)HW_FLSMTMR1R_TRPW_SETMASK
                             3746 ; 346  |#define HW_FLSMTMR1R_TWPW_CLRMASK ~(WORD)HW_FLSMTMR1R_TWPW_SETMASK
                             3747 ; 347  |#define HW_FLSMTMR1R_TRWH_CLRMASK ~(WORD)HW_FLSMTMR1R_TRWH_SETMASK
                             3748 ; 348  |
                             3749 ; 349  |
                             3750 ; 350  |/////////////////////////////////////////////////////////////////////////////////
                             3751 ; 351  |//  EMC Flash SmartMedia Timer2 Register (HW_FLSMTMR2R) Bit Definitions
                             3752 ; 352  |
                             3753 ; 353  |typedef union           /* Flash SmartMedia Timer2 Register*/
                             3754 ; 354  |{
                             3755 ; 355  |    struct
                             3756 ; 356  |    {
                             3757 ; 357  |        unsigned TWT    :6;
                             3758 ; 358  |        unsigned TWTO   :18;
                             3759 ; 359  |    } B;
                             3760 ; 360  |    int I;
                             3761 ; 361  |} flsmtmr2r_type;
                             3762 ; 362  |
                             3763 ; 363  |#define HW_FLSMTMR2R_TWT_BITPOS 0
                             3764 ; 364  |#define HW_FLSMTMR2R_TWTO_BITPOS 6
                             3765 ; 365  |
                             3766 ; 366  |#define HW_FLSMTMR2R_TWT_SETMASK 0x3F<<HW_FLSMTMR2R_TWT_BITPOS
                             3767 ; 367  |#define HW_FLSMTMR2R_TWTO_SETMASK 0x3FF<<HW_FLSMTMR2R_TWTO_BITPOS
                             3768 ; 368  |
                             3769 ; 369  |#define HW_FLSMTMR2R_TWT_CLRMASK ~(WORD)HW_FLSMTMR2R_TWT_SETMASK
                             3770 ; 370  |#define HW_FLSMTMR2R_TWTO_CLRMASK ~(WORD)HW_FLSMTMR2R_TWTO_SETMASK
                             3771 ; 371  |
                             3772 ; 372  |/*//////////////////////////////////////////////////////////////////////////////
                             3773 ; 373  |  //  EMC Flash Control Status Register2 (HW_FLCR2) Bit Definitions     */
                             3774 ; 374  |typedef union 
                             3775 ; 375  |{
                             3776 ; 376  |  struct
                             3777 ; 377  |  {
                             3778 ; 378  |    unsigned ASEL     :2;        /* Memory Select */
                             3779 ; 379  |    unsigned RA       :1;        /* Right Align word into 24bit memory for True IDE  xfers */
                             3780 ; 380  |    unsigned LA       :1;        /* Left  Align word into 24bit memory for True IDE  xfers */
                             3781 ; 381  |    unsigned NEGDMA   :1;        /* Inverts data from Flash to memory */
                             3782 ; 382  |    unsigned NEGFL    :1;        /* Inverts data from memory to Flash */
                             3783 ; 383  |    unsigned CLKOFF   :1;        /* Power down - turns clk off */
                             3784 ; 384  |    int PAD0          :17;    
                             3785 ; 385  |  } B;
                             3786 ; 386  |  int I;
                             3787 ; 387  |} flcr2_type;
                             3788 ; 388  |
                             3789 ; 389  |/////////////////////////////////////////////////////////////////////////////////
                             3790 ; 390  |//  EMC Flash SmartMedia Status Register (HW_FLSMSR) Bit Definitions
                             3791 ; 391  |#define HW_FLSMSR_RDY_BITPOS 0
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page  16

M:ADDR CODE           CYCLES LINE SOURCELINE
                             3792 ; 392  |#define HW_FLSMSR_BUSY_BITPOS 7
                             3793 ; 393  |
                             3794 ; 394  |#define HW_FLCR      (*(volatile flcr_type      _X*) (HW_EMC_BASEADDR))    /* EMC Flash Control Register */
                             3795 ; 395  |#define HW_FLSALR    (*(volatile flsalr_type    _X*) (HW_EMC_BASEADDR+1))  /* EMC Flash Start Address Low Register */
                             3796 ; 396  |#define HW_FLSAHR    (*(volatile flsahr_type    _X*) (HW_EMC_BASEADDR+2))  /* EMC Flash Start Address High Register */
                             3797 ; 397  |#define HW_FLSSMPR   (*(volatile flssmpr_type   _X*) (HW_EMC_BASEADDR+3))  /*  */
                             3798 ; 398  |#define HW_FLCR2     (*(volatile flcr2_type     _X*) (HW_EMC_BASEADDR+4))  /* EMC Flash Control Register2 */
                             3799 ; 399  |#define HW_FLCFCR    (*(volatile flcfcr_type    _X*) (HW_EMC_BASEADDR+8))  /* EMC Flash CompactFlash Control Register*/
                             3800 ; 400  |#define HW_FLCFTMR1R (*(volatile flcftmr1r_type _X*) (HW_EMC_BASEADDR+9))  /* EMC Flash Compact Flash Timer1 Register*/
                             3801 ; 401  |#define HW_FLCFTMR2R (*(volatile flcftmr2r_type _X*) (HW_EMC_BASEADDR+10)) /* EMC Flash Compact Flash Timer2 Register*/
                             3802 ; 402  |#define HW_FLSMCR    (*(volatile flsmcr_type    _X*) (HW_EMC_BASEADDR+16)) /* EMC Flash SmartMedia Control Register*/
                             3803 ; 403  |#define HW_FLSMTMR1R (*(volatile flsmtmr1r_type _X*) (HW_EMC_BASEADDR+17)) /* EMC Flash SmartMedia Timer1 Register*/
                             3804 ; 404  |#define HW_FLSMTMR2R (*(volatile flsmtmr2r_type _X*) (HW_EMC_BASEADDR+18)) /* EMC Flash SmartMedia Timer2 Register*/
                             3805 ; 405  |#define HW_FLSMSR    (*(volatile flssmsr_type   _X*) (HW_EMC_BASEADDR+19)) /*  */
                             3806 ; 406  |
                             3807 ; 407  |//*********************  REGISTER ALIAS DEFINES TO MATCH LEGACY CODE *******************************
                             3808 ; 408  |// The following defines were added to match regs3410.inc definition to build SDK2XXX code without needing 
                             3809 ; 409  |// to update the actual files. Only the defines needed to build SDK2.400 were added.
                             3810 ; 410  |
                             3811 ; 411  |#define HW_FLC2R HW_EMC_BASEADDR+4
                             3812 ; 412  |
                             3813 ; 413  |#endif
                             3814 ; 414  |
                             3815 
                             3817 
                             3818 ; 22   |#include "regsgpio.h"
                             3819 
                             3821 
                             3822 ; 1    |#if !(defined(__REGS_GPIO_INC))
                             3823 ; 2    |#define __REGS_GPIO_INC 1
                             3824 ; 3    |
                             3825 ; 4    |#include "types.h"
                             3826 
                             3828 
                             3829 ; 1    |////////////////////////////////////////////////////////////////////////////////
                             3830 ; 2    |// Copyright(C) SigmaTel, Inc. 2000-2004
                             3831 ; 3    |//
                             3832 ; 4    |// Filename: types.h
                             3833 ; 5    |// Description: Standard data types
                             3834 ; 6    |////////////////////////////////////////////////////////////////////////////////
                             3835 ; 7    |
                             3836 ; 8    |#ifndef _TYPES_H
                             3837 ; 9    |#define _TYPES_H
                             3838 ; 10   |
                             3839 ; 11   |// TODO:  move this outta here!
                             3840 ; 12   |#if !defined(NOERROR)
                             3841 ; 13   |#define NOERROR 0
                             3842 ; 14   |#define SUCCESS 0
                             3843 ; 15   |#endif 
                             3844 ; 16   |#if !defined(SUCCESS)
                             3845 ; 17   |#define SUCCESS  0
                             3846 ; 18   |#endif
                             3847 ; 19   |#if !defined(ERROR)
                             3848 ; 20   |#define ERROR   -1
                             3849 ; 21   |#endif
                             3850 ; 22   |#if !defined(FALSE)
                             3851 ; 23   |#define FALSE 0
                             3852 ; 24   |#endif
                             3853 ; 25   |#if !defined(TRUE)
                             3854 ; 26   |#define TRUE  1
                             3855 ; 27   |#endif
                             3856 ; 28   |
                             3857 ; 29   |#if !defined(NULL)
                             3858 ; 30   |#define NULL 0
                             3859 ; 31   |#endif
                             3860 ; 32   |
                             3861 ; 33   |#define MAX_INT     0x7FFFFF
                             3862 ; 34   |#define MAX_LONG    0x7FFFFFffffff
                             3863 ; 35   |        // max positive unsigned long value: -1 == 0xFFFFFFffffff
                             3864 ; 36   |#define MAX_ULONG   (-1) 
                             3865 ; 37   |
                             3866 ; 38   |#define WORD_SIZE   24              // word size in bits
                             3867 ; 39   |#define BYTES_PER_WORD 3            // 8 bit bytes
                             3868 ; 40   |
                             3869 ; 41   |
                             3870 ; 42   |#define BYTE    unsigned char       // btVarName
                             3871 ; 43   |#define CHAR    signed char         // cVarName
                             3872 ; 44   |#define USHORT  unsigned short      // usVarName
                             3873 ; 45   |#define SHORT   unsigned short      // sVarName
                             3874 ; 46   |#define WORD    unsigned int        // wVarName
                             3875 ; 47   |#define INT     signed int          // iVarName
                             3876 ; 48   |#define DWORD   unsigned long       // dwVarName
                             3877 ; 49   |#define LONG    signed long         // lVarName
                             3878 ; 50   |#define BOOL    unsigned int        // bVarName
                             3879 ; 51   |#define FRACT   _fract              // frVarName
                             3880 ; 52   |#define LFRACT  long _fract         // lfrVarName
                             3881 ; 53   |#define CIRC    _circ               // cp<type prefix>VarName (see below)
                             3882 ; 54   |#define FLOAT   float               // fVarName
                             3883 ; 55   |#define DBL     double              // dVarName
                             3884 ; 56   |#define ENUM    enum                // eVarName
                             3885 ; 57   |#define CMX     _complex            // cmxVarName
                             3886 ; 58   |typedef WORD UCS3;                   // 
                             3887 ; 59   |
                             3888 ; 60   |#define UINT16  unsigned short
                             3889 ; 61   |#define UINT8   unsigned char   
                             3890 ; 62   |#define UINT32  unsigned long
                             3891 ; 63   |#define UINT64  unsigned long   // need to figure out how to do 64 bit values.  Or port exisiting code to only use 48 bit
                             3892 ; 64   |#define INT64   unsigned long   // need to figure out how to do 64 bit values.  Or port exisiting code to only use 48 bit
                             3893 ; 65   |#define WCHAR   UINT16
                             3894 ; 66   |
                             3895 ; 67   |//UINT128 is 16 bytes or 6 words
                             3896 ; 68   |typedef struct UINT128_3500 {   
                             3897 ; 69   |    int val[6];     
                             3898 ; 70   |} UINT128_3500;
                             3899 ; 71   |
                             3900 ; 72   |#define UINT128   UINT128_3500
                             3901 ; 73   |
                             3902 ; 74   |// Little endian word packed byte strings:   
                             3903 ; 75   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                             3904 ; 76   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                             3905 ; 77   |// Little endian word packed byte strings:   
                             3906 ; 78   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                             3907 ; 79   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                             3908 ; 80   |
                             3909 ; 81   |// Declare Memory Spaces To Use When Coding
                             3910 ; 82   |// A. Sector Buffers
                             3911 ; 83   |#define SECTOR_BUFFER_MEM_X _X
                             3912 ; 84   |#define SECTOR_BUFFER_MEM_Y _Y
                             3913 ; 85   |#define SECTOR_BUFFER_MEM SECTOR_BUFFER_MEM_X
                             3914 ; 86   |typedef WORD SECTOR_BUFFER_MEM SECTOR_BUFFER;
                             3915 ; 87   |typedef SECTOR_BUFFER * P_SECTOR_BUFFER;
                             3916 ; 88   |// B. Media DDI Memory
                             3917 ; 89   |#define MEDIA_DDI_MEM _Y
                             3918 ; 90   |
                             3919 ; 91   |
                             3920 ; 92   |
                             3921 ; 93   |// Pointers to linear structures are labeled as: p<type prefix>VarName
                             3922 ; 94   |// Examples of circular pointers:
                             3923 ; 95   |//    INT CIRC cpiVarName
                             3924 ; 96   |//    DWORD CIRC cpdwVarName
                             3925 ; 97   |
                             3926 ; 98   |#define RETCODE INT                 // rcVarName
                             3927 ; 99   |
                             3928 ; 100  |// generic bitfield structure
                             3929 ; 101  |struct Bitfield {
                             3930 ; 102  |    unsigned int B0  :1;
                             3931 ; 103  |    unsigned int B1  :1;
                             3932 ; 104  |    unsigned int B2  :1;
                             3933 ; 105  |    unsigned int B3  :1;
                             3934 ; 106  |    unsigned int B4  :1;
                             3935 ; 107  |    unsigned int B5  :1;
                             3936 ; 108  |    unsigned int B6  :1;
                             3937 ; 109  |    unsigned int B7  :1;
                             3938 ; 110  |    unsigned int B8  :1;
                             3939 ; 111  |    unsigned int B9  :1;
                             3940 ; 112  |    unsigned int B10 :1;
                             3941 ; 113  |    unsigned int B11 :1;
                             3942 ; 114  |    unsigned int B12 :1;
                             3943 ; 115  |    unsigned int B13 :1;
                             3944 ; 116  |    unsigned int B14 :1;
                             3945 ; 117  |    unsigned int B15 :1;
                             3946 ; 118  |    unsigned int B16 :1;
                             3947 ; 119  |    unsigned int B17 :1;
                             3948 ; 120  |    unsigned int B18 :1;
                             3949 ; 121  |    unsigned int B19 :1;
                             3950 ; 122  |    unsigned int B20 :1;
                             3951 ; 123  |    unsigned int B21 :1;
                             3952 ; 124  |    unsigned int B22 :1;
                             3953 ; 125  |    unsigned int B23 :1;
                             3954 ; 126  |};
                             3955 ; 127  |
                             3956 ; 128  |union BitInt {
                             3957 ; 129  |        struct Bitfield B;
                             3958 ; 130  |        int        I;
                             3959 ; 131  |};
                             3960 ; 132  |
                             3961 ; 133  |#define MAX_MSG_LENGTH 10
                             3962 ; 134  |struct CMessage
                             3963 ; 135  |{
                             3964 ; 136  |        unsigned int m_uLength;
                             3965 ; 137  |        unsigned int m_uMsg[MAX_MSG_LENGTH];
                             3966 ; 138  |};
                             3967 ; 139  |
                             3968 ; 140  |typedef struct {
                             3969 ; 141  |    WORD m_wLength;
                             3970 ; 142  |    WORD m_wMessage;
                             3971 ; 143  |    WORD m_wParams[MAX_MSG_LENGTH];
                             3972 ; 144  |} Message;
                             3973 ; 145  |
                             3974 ; 146  |struct MessageQueueDescriptor
                             3975 ; 147  |{
                             3976 ; 148  |        int *m_pBase;
                             3977 ; 149  |        int m_iModulo;
                             3978 ; 150  |        int m_iSize;
                             3979 ; 151  |        int *m_pHead;
                             3980 ; 152  |        int *m_pTail;
                             3981 ; 153  |};
                             3982 ; 154  |
                             3983 ; 155  |struct ModuleEntry
                             3984 ; 156  |{
                             3985 ; 157  |    int m_iSignaledEventMask;
                             3986 ; 158  |    int m_iWaitEventMask;
                             3987 ; 159  |    int m_iResourceOfCode;
                             3988 ; 160  |    struct MessageQueueDescriptor *m_pMessageQueue;
                             3989 ; 161  |    int _asmfunc (*m_pProcessEntryPoint)(union WaitMask Signals,struct MessageQueueDescriptor *);
                             3990 ; 162  |    int _asmfunc (*m_pInitFunction)(struct MessageQueueDescriptor *);
                             3991 ; 163  |    int m_uTimeOutHigh;
                             3992 ; 164  |    int m_uTimeOutLow;
                             3993 ; 165  |    int _asmfunc (*m_pBackgroundFunction)(struct MessageQueueDescriptor *);
                             3994 ; 166  |};
                             3995 ; 167  |
                             3996 ; 168  |union WaitMask{
                             3997 ; 169  |    struct B{
                             3998 ; 170  |        unsigned int m_bNone     :1;
                             3999 ; 171  |        unsigned int m_bMessage  :1;
                             4000 ; 172  |        unsigned int m_bTimer    :1;
                             4001 ; 173  |        unsigned int m_bButton   :1;
                             4002 ; 174  |    } B;
                             4003 ; 175  |    int I;
                             4004 ; 176  |} ;
                             4005 ; 177  |
                             4006 ; 178  |
                             4007 ; 179  |struct Button {
                             4008 ; 180  |        WORD wButtonEvent;
                             4009 ; 181  |        WORD wUnused[MAX_MSG_LENGTH];   
                             4010 ; 182  |};
                             4011 ; 183  |
                             4012 ; 184  |struct Message {
                             4013 ; 185  |        WORD wMsgLength;
                             4014 ; 186  |        WORD wMsgCommand;
                             4015 ; 187  |        WORD wMsgParms[MAX_MSG_LENGTH-1];
                             4016 ; 188  |};
                             4017 ; 189  |
                             4018 ; 190  |union EventTypes {
                             4019 ; 191  |        struct CMessage msg;
                             4020 ; 192  |        struct Button Button ;
                             4021 ; 193  |        struct Message Message;
                             4022 ; 194  |};
                             4023 ; 195  |
                             4024 ; 196  |// next 2 used to get updater build to return correct protocol ver in scsi response.
                             4025 ; 197  |#define BUILD_TYPE_UPDATER  0x100
                             4026 ; 198  |#define BUILD_TYPE_HOSTLINK 0x101
                             4027 ; 199  |#define BUILD_TYPE_PLAYER   0x102
                             4028 ; 200  |
                             4029 ; 201  |// Resets part if RETAIL build. DEBUG build executes debug instruction to halt.
                             4030 ; 202  |#define SystemHalt() __asm(" include 'sysmacro.asm' \n error") 
                             4031 ; 203  |#define assert(x)    if(!(x)) __asm(" include 'sysmacro.asm' \n error")
                             4032 ; 204  |
                             4033 ; 205  |#if DEBUG
                             4034 ; 206  |// For DEBUG builds, DebugBuildAssert(condition) halts if condition evaluates to FALSE. 
                             4035 ; 207  |#define DebugBuildAssert(x)    if(!(x)) __asm(" debug ")
                             4036 ; 208  |#else 
                             4037 ; 209  |// For RETAIL builds, DebugBuildAssert(condition) does nothing & execution continues rather than halt or reset. 
                             4038 ; 210  |#define DebugBuildAssert(x)    
                             4039 ; 211  |#endif
                             4040 ; 212  |
                             4041 ; 213  |// Do this in your C files to make a reminder that's displayed during the build.
                             4042 ; 214  |//  #pragma asm
                             4043 ; 215  |//  WARN 'Note to builder: reminder to do this after verifying that'
                             4044 ; 216  |//  #pragma endasm
                             4045 ; 217  |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page  17

M:ADDR CODE           CYCLES LINE SOURCELINE
                             4046 ; 218  |
                             4047 ; 219  |#ifdef COLOR_262K
                             4048 ; 220  |#define RGB(r,g,b)    ((0x0000FC & (r)) << 10) | ((0x0000FC & (g)) << 4) | ((0x0000FC & (b)) >> 2)    //262k
                             4049 ; 221  |#elif defined(COLOR_65K)
                             4050 ; 222  |#define RGB(r,g,b)    ((0x0000F8 & (r)) << 8) | ((0x0000FC & (g)) << 3) | ((0x0000F8 & (b)) >> 3)  //65k
                             4051 ; 223  |#else
                             4052 ; 224  |#define RGB(r,g,b)       ((0x0000F0 & (r)) << 4) | (0x0000F0 & (g)) | ((0x0000F0 & (b)) >> 4)
                             4053 ; 225  |#endif
                             4054 ; 226  |    
                             4055 ; 227  |#endif // #ifndef _TYPES_H
                             4056 
                             4058 
                             4059 ; 5    |
                             4060 ; 6    |/////////////////////////////////////////////////////////////////////////////////
                             4061 ; 7    |//  Interrupt Collector Registers
                             4062 ; 8    |/////////////////////////////////////////////////////////////////////////////////
                             4063 ; 9    |
                             4064 ; 10   |#define HW_GPIO_BASEADDR 0xF400
                             4065 ; 11   |
                             4066 ; 12   |#define HW_GPB0_BASEADDR HW_GPIO_BASEADDR
                             4067 ; 13   |#define HW_GPB1_BASEADDR HW_GPIO_BASEADDR+0x10
                             4068 ; 14   |#define HW_GPB2_BASEADDR HW_GPIO_BASEADDR+0x20
                             4069 ; 15   |#define HW_GPB3_BASEADDR HW_GPIO_BASEADDR+0x30
                             4070 ; 16   |
                             4071 ; 17   |#define HW_GPB0_BLOCKNUM 0
                             4072 ; 18   |#define HW_GPB1_BLOCKNUM 1
                             4073 ; 19   |#define HW_GPB2_BLOCKNUM 2
                             4074 ; 20   |#define HW_GPB3_BLOCKNUM 3
                             4075 ; 21   |
                             4076 ; 22   |#define HW_GPB_GPENR 0
                             4077 ; 23   |#define HW_GPB_GPDOR 1
                             4078 ; 24   |#define HW_GPB_GPDIR 2
                             4079 ; 25   |#define HW_GPB_GPDOER 3
                             4080 ; 26   |#define HW_GPB_GPIPENR 4
                             4081 ; 27   |#define HW_GPB_GPIENR 5
                             4082 ; 28   |#define HW_GPB_GPILVLR 6
                             4083 ; 29   |#define HW_GPB_GPIPOLR 7
                             4084 ; 30   |#define HW_GPB_GPISTATR 8
                             4085 ; 31   |#define HW_GPB_GPPWR 9
                             4086 ; 32   |#define HW_GPB_GP8MA 10
                             4087 ; 33   |
                             4088 ; 34   |
                             4089 ; 35   |
                             4090 ; 36   |/////////////////////////////////////////////////////////////////////////////////
                             4091 ; 37   |//  GPIO Register Bit Positions
                             4092 ; 38   |typedef union               /* GPIO Pin Register Bank 0 */
                             4093 ; 39   |{
                             4094 ; 40   |    struct Bitfield B;      // Bitfield is generic structure B0 - B23 in types.h
                             4095 ; 41   |    unsigned int I;
                             4096 ; 42   |    unsigned int U;
                             4097 ; 43   |} gpr_type;
                             4098 ; 44   |
                             4099 ; 45   |#define HW_GP_B0_BITPOS 0
                             4100 ; 46   |#define HW_GP_B1_BITPOS 1
                             4101 ; 47   |#define HW_GP_B2_BITPOS 2
                             4102 ; 48   |#define HW_GP_B3_BITPOS 3
                             4103 ; 49   |#define HW_GP_B4_BITPOS 4
                             4104 ; 50   |#define HW_GP_B5_BITPOS 5
                             4105 ; 51   |#define HW_GP_B6_BITPOS 6
                             4106 ; 52   |#define HW_GP_B7_BITPOS 7
                             4107 ; 53   |#define HW_GP_B8_BITPOS 8
                             4108 ; 54   |#define HW_GP_B9_BITPOS 9
                             4109 ; 55   |#define HW_GP_B10_BITPOS 10
                             4110 ; 56   |#define HW_GP_B11_BITPOS 11
                             4111 ; 57   |#define HW_GP_B12_BITPOS 12
                             4112 ; 58   |#define HW_GP_B13_BITPOS 13
                             4113 ; 59   |#define HW_GP_B14_BITPOS 14
                             4114 ; 60   |#define HW_GP_B15_BITPOS 15
                             4115 ; 61   |#define HW_GP_B16_BITPOS 16
                             4116 ; 62   |#define HW_GP_B17_BITPOS 17
                             4117 ; 63   |#define HW_GP_B18_BITPOS 18
                             4118 ; 64   |#define HW_GP_B19_BITPOS 19
                             4119 ; 65   |#define HW_GP_B20_BITPOS 20
                             4120 ; 66   |#define HW_GP_B21_BITPOS 21
                             4121 ; 67   |#define HW_GP_B22_BITPOS 22
                             4122 ; 68   |#define HW_GP_B23_BITPOS 23
                             4123 ; 69   |
                             4124 ; 70   |#define HW_GP_B0_SETMASK (1<<HW_GP_B0_BITPOS)
                             4125 ; 71   |#define HW_GP_B1_SETMASK (1<<HW_GP_B1_BITPOS)
                             4126 ; 72   |#define HW_GP_B2_SETMASK (1<<HW_GP_B2_BITPOS)
                             4127 ; 73   |#define HW_GP_B3_SETMASK (1<<HW_GP_B3_BITPOS)
                             4128 ; 74   |#define HW_GP_B4_SETMASK (1<<HW_GP_B4_BITPOS)
                             4129 ; 75   |#define HW_GP_B5_SETMASK (1<<HW_GP_B5_BITPOS)
                             4130 ; 76   |#define HW_GP_B6_SETMASK (1<<HW_GP_B6_BITPOS)
                             4131 ; 77   |#define HW_GP_B7_SETMASK (1<<HW_GP_B7_BITPOS)
                             4132 ; 78   |#define HW_GP_B8_SETMASK (1<<HW_GP_B8_BITPOS)
                             4133 ; 79   |#define HW_GP_B9_SETMASK (1<<HW_GP_B9_BITPOS)
                             4134 ; 80   |#define HW_GP_B10_SETMASK (1<<HW_GP_B10_BITPOS)
                             4135 ; 81   |#define HW_GP_B11_SETMASK (1<<HW_GP_B11_BITPOS)
                             4136 ; 82   |#define HW_GP_B12_SETMASK (1<<HW_GP_B12_BITPOS)
                             4137 ; 83   |#define HW_GP_B13_SETMASK (1<<HW_GP_B13_BITPOS)
                             4138 ; 84   |#define HW_GP_B14_SETMASK (1<<HW_GP_B14_BITPOS)
                             4139 ; 85   |#define HW_GP_B15_SETMASK (1<<HW_GP_B15_BITPOS)
                             4140 ; 86   |#define HW_GP_B16_SETMASK (1<<HW_GP_B16_BITPOS)
                             4141 ; 87   |#define HW_GP_B17_SETMASK (1<<HW_GP_B17_BITPOS)
                             4142 ; 88   |#define HW_GP_B18_SETMASK (1<<HW_GP_B18_BITPOS)
                             4143 ; 89   |#define HW_GP_B19_SETMASK (1<<HW_GP_B19_BITPOS)
                             4144 ; 90   |#define HW_GP_B20_SETMASK (1<<HW_GP_B20_BITPOS)
                             4145 ; 91   |#define HW_GP_B21_SETMASK (1<<HW_GP_B21_BITPOS)
                             4146 ; 92   |#define HW_GP_B22_SETMASK (1<<HW_GP_B22_BITPOS)
                             4147 ; 93   |#define HW_GP_B23_SETMASK (1<<HW_GP_B23_BITPOS)
                             4148 ; 94   |
                             4149 ; 95   |#define HW_GP_B0_CLRMASK (~(WORD)HW_GP_B0_SETMASK)
                             4150 ; 96   |#define HW_GP_B1_CLRMASK (~(WORD)HW_GP_B1_SETMASK)
                             4151 ; 97   |#define HW_GP_B2_CLRMASK (~(WORD)HW_GP_B2_SETMASK)
                             4152 ; 98   |#define HW_GP_B3_CLRMASK (~(WORD)HW_GP_B3_SETMASK)
                             4153 ; 99   |#define HW_GP_B4_CLRMASK (~(WORD)HW_GP_B4_SETMASK)
                             4154 ; 100  |#define HW_GP_B5_CLRMASK (~(WORD)HW_GP_B5_SETMASK)
                             4155 ; 101  |#define HW_GP_B6_CLRMASK (~(WORD)HW_GP_B6_SETMASK)
                             4156 ; 102  |#define HW_GP_B7_CLRMASK (~(WORD)HW_GP_B7_SETMASK)
                             4157 ; 103  |#define HW_GP_B8_CLRMASK (~(WORD)HW_GP_B8_SETMASK)
                             4158 ; 104  |#define HW_GP_B9_CLRMASK (~(WORD)HW_GP_B9_SETMASK)
                             4159 ; 105  |#define HW_GP_B10_CLRMASK (~(WORD)HW_GP_B10_SETMASK)
                             4160 ; 106  |#define HW_GP_B11_CLRMASK (~(WORD)HW_GP_B11_SETMASK)
                             4161 ; 107  |#define HW_GP_B12_CLRMASK (~(WORD)HW_GP_B12_SETMASK)
                             4162 ; 108  |#define HW_GP_B13_CLRMASK (~(WORD)HW_GP_B13_SETMASK)
                             4163 ; 109  |#define HW_GP_B14_CLRMASK (~(WORD)HW_GP_B14_SETMASK)
                             4164 ; 110  |#define HW_GP_B15_CLRMASK (~(WORD)HW_GP_B15_SETMASK)
                             4165 ; 111  |#define HW_GP_B16_CLRMASK (~(WORD)HW_GP_B16_SETMASK)
                             4166 ; 112  |#define HW_GP_B17_CLRMASK (~(WORD)HW_GP_B17_SETMASK)
                             4167 ; 113  |#define HW_GP_B18_CLRMASK (~(WORD)HW_GP_B18_SETMASK)
                             4168 ; 114  |#define HW_GP_B19_CLRMASK (~(WORD)HW_GP_B19_SETMASK)
                             4169 ; 115  |#define HW_GP_B20_CLRMASK (~(WORD)HW_GP_B20_SETMASK)
                             4170 ; 116  |#define HW_GP_B21_CLRMASK (~(WORD)HW_GP_B21_SETMASK)
                             4171 ; 117  |#define HW_GP_B22_CLRMASK (~(WORD)HW_GP_B22_SETMASK)
                             4172 ; 118  |#define HW_GP_B23_CLRMASK (~(WORD)HW_GP_B23_SETMASK)
                             4173 ; 119  |
                             4174 ; 120  |/////////////////////////////////////////////////////////////////////////////////
                             4175 ; 121  |//  GPIO 8mA Register Bit Positions
                             4176 ; 122  |#define HW_GP8MA_B7_B0_BITPOS 0
                             4177 ; 123  |#define HW_GP8MA_B15_B8_BITPOS 1
                             4178 ; 124  |#define HW_GP8MA_B23_B16_BITPOS 2
                             4179 ; 125  |#define HW_GP8MA_CLK_GATE_BITPOS 23
                             4180 ; 126  |
                             4181 ; 127  |
                             4182 ; 128  |/////////////////////////////////////////////////////////////////////////////////
                             4183 ; 129  |//  Logical GPIO numbers
                             4184 ; 130  |#define HW_GPIO_000 0
                             4185 ; 131  |#define HW_GPIO_001 1
                             4186 ; 132  |#define HW_GPIO_002 2
                             4187 ; 133  |#define HW_GPIO_003 3
                             4188 ; 134  |#define HW_GPIO_004 4
                             4189 ; 135  |#define HW_GPIO_005 5
                             4190 ; 136  |#define HW_GPIO_006 6
                             4191 ; 137  |#define HW_GPIO_007 7
                             4192 ; 138  |#define HW_GPIO_008 8
                             4193 ; 139  |#define HW_GPIO_009 9
                             4194 ; 140  |#define HW_GPIO_010 10
                             4195 ; 141  |#define HW_GPIO_011 11
                             4196 ; 142  |#define HW_GPIO_012 12
                             4197 ; 143  |#define HW_GPIO_013 13
                             4198 ; 144  |#define HW_GPIO_014 14
                             4199 ; 145  |#define HW_GPIO_015 15
                             4200 ; 146  |#define HW_GPIO_016 16
                             4201 ; 147  |#define HW_GPIO_017 17
                             4202 ; 148  |#define HW_GPIO_018 18
                             4203 ; 149  |#define HW_GPIO_019 19
                             4204 ; 150  |#define HW_GPIO_020 20
                             4205 ; 151  |#define HW_GPIO_021 21
                             4206 ; 152  |#define HW_GPIO_022 22
                             4207 ; 153  |#define HW_GPIO_023 23
                             4208 ; 154  |#define HW_GPIO_024 24
                             4209 ; 155  |#define HW_GPIO_025 25
                             4210 ; 156  |#define HW_GPIO_026 26
                             4211 ; 157  |#define HW_GPIO_027 27
                             4212 ; 158  |#define HW_GPIO_028 28
                             4213 ; 159  |#define HW_GPIO_029 29
                             4214 ; 160  |#define HW_GPIO_030 30
                             4215 ; 161  |#define HW_GPIO_031 31
                             4216 ; 162  |#define HW_GPIO_032 32
                             4217 ; 163  |#define HW_GPIO_033 33
                             4218 ; 164  |#define HW_GPIO_034 34
                             4219 ; 165  |#define HW_GPIO_035 35
                             4220 ; 166  |#define HW_GPIO_036 36
                             4221 ; 167  |#define HW_GPIO_037 37
                             4222 ; 168  |#define HW_GPIO_038 38
                             4223 ; 169  |#define HW_GPIO_039 39
                             4224 ; 170  |#define HW_GPIO_040 40
                             4225 ; 171  |#define HW_GPIO_041 41
                             4226 ; 172  |#define HW_GPIO_042 42
                             4227 ; 173  |#define HW_GPIO_043 43
                             4228 ; 174  |#define HW_GPIO_044 44
                             4229 ; 175  |#define HW_GPIO_045 45
                             4230 ; 176  |#define HW_GPIO_046 46
                             4231 ; 177  |#define HW_GPIO_047 47
                             4232 ; 178  |#define HW_GPIO_048 48
                             4233 ; 179  |#define HW_GPIO_049 49
                             4234 ; 180  |#define HW_GPIO_050 50
                             4235 ; 181  |#define HW_GPIO_051 51
                             4236 ; 182  |#define HW_GPIO_052 52
                             4237 ; 183  |#define HW_GPIO_053 53
                             4238 ; 184  |#define HW_GPIO_054 54
                             4239 ; 185  |#define HW_GPIO_055 55
                             4240 ; 186  |#define HW_GPIO_056 56
                             4241 ; 187  |#define HW_GPIO_057 57
                             4242 ; 188  |#define HW_GPIO_058 58
                             4243 ; 189  |#define HW_GPIO_059 59
                             4244 ; 190  |#define HW_GPIO_060 60
                             4245 ; 191  |#define HW_GPIO_061 61
                             4246 ; 192  |#define HW_GPIO_062 62
                             4247 ; 193  |#define HW_GPIO_063 63
                             4248 ; 194  |#define HW_GPIO_064 64
                             4249 ; 195  |#define HW_GPIO_065 65
                             4250 ; 196  |#define HW_GPIO_066 66
                             4251 ; 197  |#define HW_GPIO_067 67
                             4252 ; 198  |#define HW_GPIO_068 68
                             4253 ; 199  |#define HW_GPIO_069 69
                             4254 ; 200  |#define HW_GPIO_070 70
                             4255 ; 201  |#define HW_GPIO_071 71
                             4256 ; 202  |#define HW_GPIO_072 72
                             4257 ; 203  |#define HW_GPIO_073 73
                             4258 ; 204  |#define HW_GPIO_074 74
                             4259 ; 205  |#define HW_GPIO_075 75
                             4260 ; 206  |#define HW_GPIO_076 76
                             4261 ; 207  |#define HW_GPIO_077 77
                             4262 ; 208  |#define HW_GPIO_078 78
                             4263 ; 209  |#define HW_GPIO_079 79
                             4264 ; 210  |#define HW_GPIO_080 80
                             4265 ; 211  |#define HW_GPIO_081 81
                             4266 ; 212  |#define HW_GPIO_082 82
                             4267 ; 213  |#define HW_GPIO_083 83
                             4268 ; 214  |#define HW_GPIO_084 84
                             4269 ; 215  |#define HW_GPIO_085 85
                             4270 ; 216  |#define HW_GPIO_086 86
                             4271 ; 217  |#define HW_GPIO_087 87
                             4272 ; 218  |#define HW_GPIO_088 88
                             4273 ; 219  |#define HW_GPIO_089 89
                             4274 ; 220  |#define HW_GPIO_090 90
                             4275 ; 221  |#define HW_GPIO_091 91
                             4276 ; 222  |#define HW_GPIO_092 92
                             4277 ; 223  |#define HW_GPIO_093 93
                             4278 ; 224  |#define HW_GPIO_094 94
                             4279 ; 225  |#define HW_GPIO_095 95
                             4280 ; 226  |#define HW_GPIO_LAST HW_GPIO_095
                             4281 ; 227  |
                             4282 ; 228  |#define HW_GP0ENR      (*(volatile gpr_type _X*) (HW_GPB0_BASEADDR+HW_GPB_GPENR))  /* GPIO 0 Enable Register   */
                             4283 ; 229  |#define HW_GP0DOR      (*(volatile gpr_type _X*) (HW_GPB0_BASEADDR+HW_GPB_GPDOR)) /* GPIO 0 Data Out Register */
                             4284 ; 230  |#define HW_GP0DIR      (*(volatile gpr_type _X*) (HW_GPB0_BASEADDR+HW_GPB_GPDIR)) /* GPIO 0 Dait In Register  */
                             4285 ; 231  |#define HW_GP0DOER     (*(volatile gpr_type _X*) (HW_GPB0_BASEADDR+HW_GPB_GPDOER)) /* GPIO 0 Dait Out Enable Register  */
                             4286 ; 232  |#define HW_GP0IPENR    (*(volatile gpr_type _X*) (HW_GPB0_BASEADDR+HW_GPB_GPIPENR)) /* GPIO 0 Interrupt Pin Enable Register */
                             4287 ; 233  |#define HW_GP0IENR     (*(volatile gpr_type _X*) (HW_GPB0_BASEADDR+HW_GPB_GPIENR)) /* GPIO 0 Interrupt Enable Register */
                             4288 ; 234  |#define HW_GP0ILVLR    (*(volatile gpr_type _X*) (HW_GPB0_BASEADDR+HW_GPB_GPILVLR)) /* GPIO 0 Interrupt Level Register  */
                             4289 ; 235  |#define HW_GP0IPOLR    (*(volatile gpr_type _X*) (HW_GPB0_BASEADDR+HW_GPB_GPIPOLR)) /* GPIO 0 Interrupt Polarity Register   */
                             4290 ; 236  |#define HW_GP0ISTATR   (*(volatile gpr_type _X*) (HW_GPB0_BASEADDR+HW_GPB_GPISTATR)) /* GPIO 0 Interrupt Status Register */
                             4291 ; 237  |#define HW_GP0PWR      (*(volatile gpr_type _X*) (HW_GPB0_BASEADDR+HW_GPB_GPPWR)) /* GPIO 0 Power Register */
                             4292 ; 238  |#define HW_GP08MA      (*(volatile gpr_type _X*) (HW_GPB0_BASEADDR+HW_GPB_GP8MA)) 
                             4293 ; 239  |#define HW_GP1ENR      (*(volatile gpr_type _X*) (HW_GPB1_BASEADDR+HW_GPB_GPENR))     /* GPIO 1 Enable Register   */
                             4294 ; 240  |#define HW_GP1DOR      (*(volatile gpr_type _X*) (HW_GPB1_BASEADDR+HW_GPB_GPDOR)) /* GPIO 1 Data Out Register */
                             4295 ; 241  |#define HW_GP1DIR      (*(volatile gpr_type _X*) (HW_GPB1_BASEADDR+HW_GPB_GPDIR)) /* GPIO 1 Dait In Register  */
                             4296 ; 242  |#define HW_GP1DOER     (*(volatile gpr_type _X*) (HW_GPB1_BASEADDR+HW_GPB_GPDOER)) /* GPIO 1 Dait Out Enable Register  */
                             4297 ; 243  |#define HW_GP1IPENR    (*(volatile gpr_type _X*) (HW_GPB1_BASEADDR+HW_GPB_GPIPENR)) /* GPIO 1 Interrupt Pin Enable Register */
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page  18

M:ADDR CODE           CYCLES LINE SOURCELINE
                             4298 ; 244  |#define HW_GP1IENR     (*(volatile gpr_type _X*) (HW_GPB1_BASEADDR+HW_GPB_GPIENR)) /* GPIO 1 Interrupt Enable Register */
                             4299 ; 245  |#define HW_GP1ILVLR    (*(volatile gpr_type _X*) (HW_GPB1_BASEADDR+HW_GPB_GPILVLR)) /* GPIO 1 Interrupt Level Register  */
                             4300 ; 246  |#define HW_GP1IPOLR    (*(volatile gpr_type _X*) (HW_GPB1_BASEADDR+HW_GPB_GPIPOLR)) /* GPIO 1 Interrupt Polarity Register   */
                             4301 ; 247  |#define HW_GP1ISTATR   (*(volatile gpr_type _X*) (HW_GPB1_BASEADDR+HW_GPB_GPISTATR)) /* GPIO 1 Interrupt Status Register */
                             4302 ; 248  |#define HW_GP1PWR      (*(volatile gpr_type _X*) (HW_GPB1_BASEADDR+HW_GPB_GPPWR)) /* GPIO 0 Power Register */
                             4303 ; 249  |#define HW_GP18MA      (*(volatile gpr_type _X*) (HW_GPB1_BASEADDR+HW_GPB_GP8MA)) 
                             4304 ; 250  |#define HW_GP2ENR      (*(volatile gpr_type _X*) (HW_GPB2_BASEADDR+HW_GPB_GPENR))     /* GPIO 2 Enable Register   */
                             4305 ; 251  |#define HW_GP2DOR      (*(volatile gpr_type _X*) (HW_GPB2_BASEADDR+HW_GPB_GPDOR)) /* GPIO 2 Data Out Register */
                             4306 ; 252  |#define HW_GP2DIR      (*(volatile gpr_type _X*) (HW_GPB2_BASEADDR+HW_GPB_GPDIR)) /* GPIO 2 Dait In Register  */
                             4307 ; 253  |#define HW_GP2DOER     (*(volatile gpr_type _X*) (HW_GPB2_BASEADDR+HW_GPB_GPDOER)) /* GPIO 2 Dait Out Enable Register  */
                             4308 ; 254  |#define HW_GP2IPENR    (*(volatile gpr_type _X*) (HW_GPB2_BASEADDR+HW_GPB_GPIPENR)) /* GPIO 2 Interrupt Pin Enable Register */
                             4309 ; 255  |#define HW_GP2IENR     (*(volatile gpr_type _X*) (HW_GPB2_BASEADDR+HW_GPB_GPIENR)) /* GPIO 2 Interrupt Enable Register */
                             4310 ; 256  |#define HW_GP2ILVLR    (*(volatile gpr_type _X*) (HW_GPB2_BASEADDR+HW_GPB_GPILVLR)) /* GPIO 2 Interrupt Level Register  */
                             4311 ; 257  |#define HW_GP2IPOLR    (*(volatile gpr_type _X*) (HW_GPB2_BASEADDR+HW_GPB_GPIPOLR)) /* GPIO 2 Interrupt Polarity Register   */
                             4312 ; 258  |#define HW_GP2ISTATR   (*(volatile gpr_type _X*) (HW_GPB2_BASEADDR+HW_GPB_GPISTATR)) /* GPIO 2 Interrupt Status Register */
                             4313 ; 259  |#define HW_GP2PWR      (*(volatile gpr_type _X*) (HW_GPB2_BASEADDR+HW_GPB_GPPWR)) /* GPIO 0 Power Register */
                             4314 ; 260  |#define HW_GP28MA      (*(volatile gpr_type _X*) (HW_GPB2_BASEADDR+HW_GPB_GP8MA)) 
                             4315 ; 261  |#define HW_GP3ENR      (*(volatile gpr_type _X*) (HW_GPB3_BASEADDR+HW_GPB_GPENR))     /* GPIO 2 Enable Register   */
                             4316 ; 262  |#define HW_GP3DOR      (*(volatile gpr_type _X*) (HW_GPB3_BASEADDR+HW_GPB_GPDOR)) /* GPIO 2 Data Out Register */
                             4317 ; 263  |#define HW_GP3DIR      (*(volatile gpr_type _X*) (HW_GPB3_BASEADDR+HW_GPB_GPDIR)) /* GPIO 2 Dait In Register  */
                             4318 ; 264  |#define HW_GP3DOER     (*(volatile gpr_type _X*) (HW_GPB3_BASEADDR+HW_GPB_GPDOER)) /* GPIO 2 Dait Out Enable Register  */
                             4319 ; 265  |#define HW_GP3IPENR    (*(volatile gpr_type _X*) (HW_GPB3_BASEADDR+HW_GPB_GPIPENR)) /* GPIO 2 Interrupt Pin Enable Register */
                             4320 ; 266  |#define HW_GP3IENR     (*(volatile gpr_type _X*) (HW_GPB3_BASEADDR+HW_GPB_GPIENR)) /* GPIO 2 Interrupt Enable Register */
                             4321 ; 267  |#define HW_GP3ILVLR    (*(volatile gpr_type _X*) (HW_GPB3_BASEADDR+HW_GPB_GPILVLR)) /* GPIO 2 Interrupt Level Register  */
                             4322 ; 268  |#define HW_GP3IPOLR    (*(volatile gpr_type _X*) (HW_GPB3_BASEADDR+HW_GPB_GPIPOLR)) /* GPIO 2 Interrupt Polarity Register   */
                             4323 ; 269  |#define HW_GP3ISTATR   (*(volatile gpr_type _X*) (HW_GPB3_BASEADDR+HW_GPB_GPISTATR)) /* GPIO 2 Interrupt Status Register */
                             4324 ; 270  |#define HW_GP3PWR      (*(volatile gpr_type _X*) (HW_GPB3_BASEADDR+HW_GPB_GPPWR)) /* GPIO 0 Power Register */
                             4325 ; 271  |#define HW_GP38MA      (*(volatile gpr_type _X*) (HW_GPB3_BASEADDR+HW_GPB_GP8MA)) 
                             4326 ; 272  |
                             4327 ; 273  |#endif
                             4328 ; 274  |
                             4329 
                             4331 
                             4332 ; 23   |#include "regsi2c.h"
                             4333 
                             4335 
                             4336 ; 1    |/////////////////////////////////////////////////////////////////////////////////
                             4337 ; 2    |// Copyright(C) SigmaTel, Inc. 2000-2003
                             4338 ; 3    |// Filename: regsI2C.inc
                             4339 ; 4    |// Description: Register definitions for GPFLASH interface
                             4340 ; 5    |/////////////////////////////////////////////////////////////////////////////////
                             4341 ; 6    |// The following naming conventions are followed in this file.
                             4342 ; 7    |// All registers are named using the format...
                             4343 ; 8    |//     HW_<module>_<regname>
                             4344 ; 9    |// where <module> is the module name which can be any of the following...
                             4345 ; 10   |//     USB20
                             4346 ; 11   |// (Note that when there is more than one copy of a particular module, the
                             4347 ; 12   |// module name includes a number starting from 0 for the first instance of
                             4348 ; 13   |// that module)
                             4349 ; 14   |// <regname> is the specific register within that module
                             4350 ; 15   |// We also define the following...
                             4351 ; 16   |//     HW_<module>_<regname>_BITPOS
                             4352 ; 17   |// which defines the starting bit (i.e. LSB) of a multi bit field
                             4353 ; 18   |//     HW_<module>_<regname>_SETMASK
                             4354 ; 19   |// which does something else, and
                             4355 ; 20   |//     HW_<module>_<regname>_CLRMASK
                             4356 ; 21   |// which does something else.
                             4357 ; 22   |// Other rules
                             4358 ; 23   |//     All caps
                             4359 ; 24   |//     Numeric identifiers start at 0
                             4360 ; 25   |#if !(defined(regsi2cinc))
                             4361 ; 26   |#define regsi2cinc 1
                             4362 ; 27   |
                             4363 ; 28   |#include "types.h"
                             4364 
                             4366 
                             4367 ; 1    |////////////////////////////////////////////////////////////////////////////////
                             4368 ; 2    |// Copyright(C) SigmaTel, Inc. 2000-2004
                             4369 ; 3    |//
                             4370 ; 4    |// Filename: types.h
                             4371 ; 5    |// Description: Standard data types
                             4372 ; 6    |////////////////////////////////////////////////////////////////////////////////
                             4373 ; 7    |
                             4374 ; 8    |#ifndef _TYPES_H
                             4375 ; 9    |#define _TYPES_H
                             4376 ; 10   |
                             4377 ; 11   |// TODO:  move this outta here!
                             4378 ; 12   |#if !defined(NOERROR)
                             4379 ; 13   |#define NOERROR 0
                             4380 ; 14   |#define SUCCESS 0
                             4381 ; 15   |#endif 
                             4382 ; 16   |#if !defined(SUCCESS)
                             4383 ; 17   |#define SUCCESS  0
                             4384 ; 18   |#endif
                             4385 ; 19   |#if !defined(ERROR)
                             4386 ; 20   |#define ERROR   -1
                             4387 ; 21   |#endif
                             4388 ; 22   |#if !defined(FALSE)
                             4389 ; 23   |#define FALSE 0
                             4390 ; 24   |#endif
                             4391 ; 25   |#if !defined(TRUE)
                             4392 ; 26   |#define TRUE  1
                             4393 ; 27   |#endif
                             4394 ; 28   |
                             4395 ; 29   |#if !defined(NULL)
                             4396 ; 30   |#define NULL 0
                             4397 ; 31   |#endif
                             4398 ; 32   |
                             4399 ; 33   |#define MAX_INT     0x7FFFFF
                             4400 ; 34   |#define MAX_LONG    0x7FFFFFffffff
                             4401 ; 35   |        // max positive unsigned long value: -1 == 0xFFFFFFffffff
                             4402 ; 36   |#define MAX_ULONG   (-1) 
                             4403 ; 37   |
                             4404 ; 38   |#define WORD_SIZE   24              // word size in bits
                             4405 ; 39   |#define BYTES_PER_WORD 3            // 8 bit bytes
                             4406 ; 40   |
                             4407 ; 41   |
                             4408 ; 42   |#define BYTE    unsigned char       // btVarName
                             4409 ; 43   |#define CHAR    signed char         // cVarName
                             4410 ; 44   |#define USHORT  unsigned short      // usVarName
                             4411 ; 45   |#define SHORT   unsigned short      // sVarName
                             4412 ; 46   |#define WORD    unsigned int        // wVarName
                             4413 ; 47   |#define INT     signed int          // iVarName
                             4414 ; 48   |#define DWORD   unsigned long       // dwVarName
                             4415 ; 49   |#define LONG    signed long         // lVarName
                             4416 ; 50   |#define BOOL    unsigned int        // bVarName
                             4417 ; 51   |#define FRACT   _fract              // frVarName
                             4418 ; 52   |#define LFRACT  long _fract         // lfrVarName
                             4419 ; 53   |#define CIRC    _circ               // cp<type prefix>VarName (see below)
                             4420 ; 54   |#define FLOAT   float               // fVarName
                             4421 ; 55   |#define DBL     double              // dVarName
                             4422 ; 56   |#define ENUM    enum                // eVarName
                             4423 ; 57   |#define CMX     _complex            // cmxVarName
                             4424 ; 58   |typedef WORD UCS3;                   // 
                             4425 ; 59   |
                             4426 ; 60   |#define UINT16  unsigned short
                             4427 ; 61   |#define UINT8   unsigned char   
                             4428 ; 62   |#define UINT32  unsigned long
                             4429 ; 63   |#define UINT64  unsigned long   // need to figure out how to do 64 bit values.  Or port exisiting code to only use 48 bit
                             4430 ; 64   |#define INT64   unsigned long   // need to figure out how to do 64 bit values.  Or port exisiting code to only use 48 bit
                             4431 ; 65   |#define WCHAR   UINT16
                             4432 ; 66   |
                             4433 ; 67   |//UINT128 is 16 bytes or 6 words
                             4434 ; 68   |typedef struct UINT128_3500 {   
                             4435 ; 69   |    int val[6];     
                             4436 ; 70   |} UINT128_3500;
                             4437 ; 71   |
                             4438 ; 72   |#define UINT128   UINT128_3500
                             4439 ; 73   |
                             4440 ; 74   |// Little endian word packed byte strings:   
                             4441 ; 75   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                             4442 ; 76   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                             4443 ; 77   |// Little endian word packed byte strings:   
                             4444 ; 78   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                             4445 ; 79   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                             4446 ; 80   |
                             4447 ; 81   |// Declare Memory Spaces To Use When Coding
                             4448 ; 82   |// A. Sector Buffers
                             4449 ; 83   |#define SECTOR_BUFFER_MEM_X _X
                             4450 ; 84   |#define SECTOR_BUFFER_MEM_Y _Y
                             4451 ; 85   |#define SECTOR_BUFFER_MEM SECTOR_BUFFER_MEM_X
                             4452 ; 86   |typedef WORD SECTOR_BUFFER_MEM SECTOR_BUFFER;
                             4453 ; 87   |typedef SECTOR_BUFFER * P_SECTOR_BUFFER;
                             4454 ; 88   |// B. Media DDI Memory
                             4455 ; 89   |#define MEDIA_DDI_MEM _Y
                             4456 ; 90   |
                             4457 ; 91   |
                             4458 ; 92   |
                             4459 ; 93   |// Pointers to linear structures are labeled as: p<type prefix>VarName
                             4460 ; 94   |// Examples of circular pointers:
                             4461 ; 95   |//    INT CIRC cpiVarName
                             4462 ; 96   |//    DWORD CIRC cpdwVarName
                             4463 ; 97   |
                             4464 ; 98   |#define RETCODE INT                 // rcVarName
                             4465 ; 99   |
                             4466 ; 100  |// generic bitfield structure
                             4467 ; 101  |struct Bitfield {
                             4468 ; 102  |    unsigned int B0  :1;
                             4469 ; 103  |    unsigned int B1  :1;
                             4470 ; 104  |    unsigned int B2  :1;
                             4471 ; 105  |    unsigned int B3  :1;
                             4472 ; 106  |    unsigned int B4  :1;
                             4473 ; 107  |    unsigned int B5  :1;
                             4474 ; 108  |    unsigned int B6  :1;
                             4475 ; 109  |    unsigned int B7  :1;
                             4476 ; 110  |    unsigned int B8  :1;
                             4477 ; 111  |    unsigned int B9  :1;
                             4478 ; 112  |    unsigned int B10 :1;
                             4479 ; 113  |    unsigned int B11 :1;
                             4480 ; 114  |    unsigned int B12 :1;
                             4481 ; 115  |    unsigned int B13 :1;
                             4482 ; 116  |    unsigned int B14 :1;
                             4483 ; 117  |    unsigned int B15 :1;
                             4484 ; 118  |    unsigned int B16 :1;
                             4485 ; 119  |    unsigned int B17 :1;
                             4486 ; 120  |    unsigned int B18 :1;
                             4487 ; 121  |    unsigned int B19 :1;
                             4488 ; 122  |    unsigned int B20 :1;
                             4489 ; 123  |    unsigned int B21 :1;
                             4490 ; 124  |    unsigned int B22 :1;
                             4491 ; 125  |    unsigned int B23 :1;
                             4492 ; 126  |};
                             4493 ; 127  |
                             4494 ; 128  |union BitInt {
                             4495 ; 129  |        struct Bitfield B;
                             4496 ; 130  |        int        I;
                             4497 ; 131  |};
                             4498 ; 132  |
                             4499 ; 133  |#define MAX_MSG_LENGTH 10
                             4500 ; 134  |struct CMessage
                             4501 ; 135  |{
                             4502 ; 136  |        unsigned int m_uLength;
                             4503 ; 137  |        unsigned int m_uMsg[MAX_MSG_LENGTH];
                             4504 ; 138  |};
                             4505 ; 139  |
                             4506 ; 140  |typedef struct {
                             4507 ; 141  |    WORD m_wLength;
                             4508 ; 142  |    WORD m_wMessage;
                             4509 ; 143  |    WORD m_wParams[MAX_MSG_LENGTH];
                             4510 ; 144  |} Message;
                             4511 ; 145  |
                             4512 ; 146  |struct MessageQueueDescriptor
                             4513 ; 147  |{
                             4514 ; 148  |        int *m_pBase;
                             4515 ; 149  |        int m_iModulo;
                             4516 ; 150  |        int m_iSize;
                             4517 ; 151  |        int *m_pHead;
                             4518 ; 152  |        int *m_pTail;
                             4519 ; 153  |};
                             4520 ; 154  |
                             4521 ; 155  |struct ModuleEntry
                             4522 ; 156  |{
                             4523 ; 157  |    int m_iSignaledEventMask;
                             4524 ; 158  |    int m_iWaitEventMask;
                             4525 ; 159  |    int m_iResourceOfCode;
                             4526 ; 160  |    struct MessageQueueDescriptor *m_pMessageQueue;
                             4527 ; 161  |    int _asmfunc (*m_pProcessEntryPoint)(union WaitMask Signals,struct MessageQueueDescriptor *);
                             4528 ; 162  |    int _asmfunc (*m_pInitFunction)(struct MessageQueueDescriptor *);
                             4529 ; 163  |    int m_uTimeOutHigh;
                             4530 ; 164  |    int m_uTimeOutLow;
                             4531 ; 165  |    int _asmfunc (*m_pBackgroundFunction)(struct MessageQueueDescriptor *);
                             4532 ; 166  |};
                             4533 ; 167  |
                             4534 ; 168  |union WaitMask{
                             4535 ; 169  |    struct B{
                             4536 ; 170  |        unsigned int m_bNone     :1;
                             4537 ; 171  |        unsigned int m_bMessage  :1;
                             4538 ; 172  |        unsigned int m_bTimer    :1;
                             4539 ; 173  |        unsigned int m_bButton   :1;
                             4540 ; 174  |    } B;
                             4541 ; 175  |    int I;
                             4542 ; 176  |} ;
                             4543 ; 177  |
                             4544 ; 178  |
                             4545 ; 179  |struct Button {
                             4546 ; 180  |        WORD wButtonEvent;
                             4547 ; 181  |        WORD wUnused[MAX_MSG_LENGTH];   
                             4548 ; 182  |};
                             4549 ; 183  |
                             4550 ; 184  |struct Message {
                             4551 ; 185  |        WORD wMsgLength;
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page  19

M:ADDR CODE           CYCLES LINE SOURCELINE
                             4552 ; 186  |        WORD wMsgCommand;
                             4553 ; 187  |        WORD wMsgParms[MAX_MSG_LENGTH-1];
                             4554 ; 188  |};
                             4555 ; 189  |
                             4556 ; 190  |union EventTypes {
                             4557 ; 191  |        struct CMessage msg;
                             4558 ; 192  |        struct Button Button ;
                             4559 ; 193  |        struct Message Message;
                             4560 ; 194  |};
                             4561 ; 195  |
                             4562 ; 196  |// next 2 used to get updater build to return correct protocol ver in scsi response.
                             4563 ; 197  |#define BUILD_TYPE_UPDATER  0x100
                             4564 ; 198  |#define BUILD_TYPE_HOSTLINK 0x101
                             4565 ; 199  |#define BUILD_TYPE_PLAYER   0x102
                             4566 ; 200  |
                             4567 ; 201  |// Resets part if RETAIL build. DEBUG build executes debug instruction to halt.
                             4568 ; 202  |#define SystemHalt() __asm(" include 'sysmacro.asm' \n error") 
                             4569 ; 203  |#define assert(x)    if(!(x)) __asm(" include 'sysmacro.asm' \n error")
                             4570 ; 204  |
                             4571 ; 205  |#if DEBUG
                             4572 ; 206  |// For DEBUG builds, DebugBuildAssert(condition) halts if condition evaluates to FALSE. 
                             4573 ; 207  |#define DebugBuildAssert(x)    if(!(x)) __asm(" debug ")
                             4574 ; 208  |#else 
                             4575 ; 209  |// For RETAIL builds, DebugBuildAssert(condition) does nothing & execution continues rather than halt or reset. 
                             4576 ; 210  |#define DebugBuildAssert(x)    
                             4577 ; 211  |#endif
                             4578 ; 212  |
                             4579 ; 213  |// Do this in your C files to make a reminder that's displayed during the build.
                             4580 ; 214  |//  #pragma asm
                             4581 ; 215  |//  WARN 'Note to builder: reminder to do this after verifying that'
                             4582 ; 216  |//  #pragma endasm
                             4583 ; 217  |
                             4584 ; 218  |
                             4585 ; 219  |#ifdef COLOR_262K
                             4586 ; 220  |#define RGB(r,g,b)    ((0x0000FC & (r)) << 10) | ((0x0000FC & (g)) << 4) | ((0x0000FC & (b)) >> 2)    //262k
                             4587 ; 221  |#elif defined(COLOR_65K)
                             4588 ; 222  |#define RGB(r,g,b)    ((0x0000F8 & (r)) << 8) | ((0x0000FC & (g)) << 3) | ((0x0000F8 & (b)) >> 3)  //65k
                             4589 ; 223  |#else
                             4590 ; 224  |#define RGB(r,g,b)       ((0x0000F0 & (r)) << 4) | (0x0000F0 & (g)) | ((0x0000F0 & (b)) >> 4)
                             4591 ; 225  |#endif
                             4592 ; 226  |    
                             4593 ; 227  |#endif // #ifndef _TYPES_H
                             4594 
                             4596 
                             4597 ; 29   |
                             4598 ; 30   |/////////////////////////////////////////////////////////////////////////////////
                             4599 ; 31   |////   I2C STMP Registers
                             4600 ; 32   |/////////////////////////////////////////////////////////////////////////////////
                             4601 ; 33   |
                             4602 ; 34   |#define HW_I2C_BASEADDR (0xFFE5)
                             4603 ; 35   |
                             4604 ; 36   |
                             4605 ; 37   |/////////////////////////////////////////////////////////////////////////////////
                             4606 ; 38   |////  I2C Clock Divider Register (HW_I2CDIV) Bit Definitions
                             4607 ; 39   |
                             4608 ; 40   |#define HW_I2CDIV_FACT_BITPOS (1)
                             4609 ; 41   |
                             4610 ; 42   |#define HW_I2CDIV_FACT_SETMASK (0xFF<<HW_I2CDIV_FACT_BITPOS)
                             4611 ; 43   |
                             4612 ; 44   |#define HW_I2CDIV_FACT_CLRMASK (~(WORD)HW_I2CDIV_FACT_SETMASK)
                             4613 ; 45   |
                             4614 ; 46   |typedef union               /* I2C Clock Divider Register */
                             4615 ; 47   |{
                             4616 ; 48   |    struct {
                             4617 ; 49   |        int                :1; 
                             4618 ; 50   |        unsigned FACT      :8;
                             4619 ; 51   |    } B;
                             4620 ; 52   |    int I;
                             4621 ; 53   |    unsigned U;
                             4622 ; 54   |} i2cdivr_type;
                             4623 ; 55   |#define HW_I2CDIV (*(volatile i2cdivr_type _X*) (HW_I2C_BASEADDR))       /* I2C Divfact Registers        */
                             4624 ; 56   |
                             4625 ; 57   |
                             4626 ; 58   |/////////////////////////////////////////////////////////////////////////////////
                             4627 ; 59   |////  I2C Data Register (HW_I2CDAT) Bit Definitions
                             4628 ; 60   |
                             4629 ; 61   |#define HW_I2CDAT_DATA_BITPOS (0)
                             4630 ; 62   |
                             4631 ; 63   |#define HW_I2CDAT_DATA_SETMASK (0xFFFFFF)
                             4632 ; 64   |
                             4633 ; 65   |#define HW_I2CDAT_DATA_CLRMASK (~(WORD)HW_I2CDAT_DATA_SETMASK)
                             4634 ; 66   |
                             4635 ; 67   |typedef union               /* I2C Data Register */
                             4636 ; 68   |{
                             4637 ; 69   |    struct {
                             4638 ; 70   |         unsigned DATA :24; 
                             4639 ; 71   |    } B;
                             4640 ; 72   |    int I;
                             4641 ; 73   |    unsigned U;
                             4642 ; 74   |} i2cdatr_type;
                             4643 ; 75   |#define HW_I2CDAT (*(volatile i2cdatr_type _X*) (HW_I2C_BASEADDR+1)) /* I2C Data Registers (I2CDAT)      */
                             4644 ; 76   |
                             4645 ; 77   |
                             4646 ; 78   |/////////////////////////////////////////////////////////////////////////////////
                             4647 ; 79   |////  I2C Control Status Register (HW_I2CCSR) Bit Definitions
                             4648 ; 80   |#define HW_I2CCSR_I2C_EN_BITPOS (0)
                             4649 ; 81   |#define HW_I2CCSR_RIE_BITPOS (1)
                             4650 ; 82   |#define HW_I2CCSR_BUSY_BITPOS (2)
                             4651 ; 83   |#define HW_I2CCSR_ARB_LOST_BITPOS (3)
                             4652 ; 84   |#define HW_I2CCSR_TIE_BITPOS (4)
                             4653 ; 85   |#define HW_I2CCSR_MODE_BITPOS (5)
                             4654 ; 86   |#define HW_I2CCSR_RDR_BITPOS (6)
                             4655 ; 87   |#define HW_I2CCSR_TDE_BITPOS (7)
                             4656 ; 88   |#define HW_I2CCSR_RWN_BITPOS (8)
                             4657 ; 89   |#define HW_I2CCSR_WL_BITPOS (9)
                             4658 ; 90   |#define HW_I2CCSR_WL0_BITPOS (9)
                             4659 ; 91   |#define HW_I2CCSR_WL1_BITPOS (10)
                             4660 ; 92   |#define HW_I2CCSR_TREQ_BITPOS (11)
                             4661 ; 93   |#define HW_I2CCSR_ROFL_BITPOS (12)
                             4662 ; 94   |#define HW_I2CCSR_TUFL_BITPOS (13)
                             4663 ; 95   |#define HW_I2CCSR_ACKF_BITPOS (14)
                             4664 ; 96   |#define HW_I2CCSR_B_CNT_BITPOS (15)
                             4665 ; 97   |#define HW_I2CCSR_B_CNT0_BITPOS (15)
                             4666 ; 98   |#define HW_I2CCSR_B_CNT1_BITPOS (16)
                             4667 ; 99   |#define HW_I2CCSR_L_WORD_BITPOS (17)
                             4668 ; 100  |#define HW_I2CCSR_SUBA_BITPOS (18)
                             4669 ; 101  |#define HW_I2CCSR_ROFLCL_BITPOS (19)
                             4670 ; 102  |#define HW_I2CCSR_TUFLCL_BITPOS (20)
                             4671 ; 103  |#define HW_I2CCSR_ONEBYTE_BITPOS (21)
                             4672 ; 104  |
                             4673 ; 105  |#define HW_I2CCSR_I2C_EN_SETMASK (1<<HW_I2CCSR_I2C_EN_BITPOS)
                             4674 ; 106  |#define HW_I2CCSR_RIE_SETMASK (1<<HW_I2CCSR_RIE_BITPOS)
                             4675 ; 107  |#define HW_I2CCSR_BUSY_SETMASK (1<<HW_I2CCSR_BUSY_BITPOS)
                             4676 ; 108  |#define HW_I2CCSR_ARB_LOST_SETMASK (1<<HW_I2CCSR_ARB_LOST_BITPOS)
                             4677 ; 109  |#define HW_I2CCSR_TIE_SETMASK (1<<HW_I2CCSR_TIE_BITPOS)
                             4678 ; 110  |#define HW_I2CCSR_MODE_SETMASK (1<<HW_I2CCSR_MODE_BITPOS)
                             4679 ; 111  |#define HW_I2CCSR_RDR_SETMASK (1<<HW_I2CCSR_RDR_BITPOS)
                             4680 ; 112  |#define HW_I2CCSR_TDE_SETMASK (1<<HW_I2CCSR_TDE_BITPOS)
                             4681 ; 113  |#define HW_I2CCSR_RWN_SETMASK (1<<HW_I2CCSR_RWN_BITPOS)
                             4682 ; 114  |#define HW_I2CCSR_WL_SETMASK (3<<HW_I2CCSR_WL_BITPOS)
                             4683 ; 115  |#define HW_I2CCSR_WL0_SETMASK (1<<HW_I2CCSR_WL0_BITPOS)
                             4684 ; 116  |#define HW_I2CCSR_WL1_SETMASK (1<<HW_I2CCSR_WL1_BITPOS)
                             4685 ; 117  |#define HW_I2CCSR_TREQ_SETMASK (1<<HW_I2CCSR_TREQ_BITPOS)
                             4686 ; 118  |#define HW_I2CCSR_ROFL_SETMASK (1<<HW_I2CCSR_ROFL_BITPOS)
                             4687 ; 119  |#define HW_I2CCSR_TUFL_SETMASK (1<<HW_I2CCSR_TUFL_BITPOS)
                             4688 ; 120  |#define HW_I2CCSR_ACKF_SETMASK (1<<HW_I2CCSR_ACKF_BITPOS)
                             4689 ; 121  |#define HW_I2CCSR_B_CNT_SETMASK (3<<HW_I2CCSR_B_CNT_BITPOS)
                             4690 ; 122  |#define HW_I2CCSR_B_CNT0_SETMASK (1<<HW_I2CCSR_B_CNT0_BITPOS)
                             4691 ; 123  |#define HW_I2CCSR_B_CNT1_SETMASK (1<<HW_I2CCSR_B_CNT1_BITPOS)
                             4692 ; 124  |#define HW_I2CCSR_L_WORD_SETMASK (1<<HW_I2CCSR_L_WORD_BITPOS)
                             4693 ; 125  |#define HW_I2CCSR_SUBA_SETMASK (1<<HW_I2CCSR_SUBA_BITPOS)
                             4694 ; 126  |#define HW_I2CCSR_ROFLCL_SETMASK (1<<HW_I2CCSR_ROFLCL_BITPOS)
                             4695 ; 127  |#define HW_I2CCSR_TUFLCL_SETMASK (1<<HW_I2CCSR_TUFLCL_BITPOS)
                             4696 ; 128  |#define HW_I2CCSR_ONEBYTE_SETMASK (1<<HW_I2CCSR_ONEBYTE_BITPOS)
                             4697 ; 129  |
                             4698 ; 130  |#define HW_I2CCSR_I2C_EN_CLRMASK (~(WORD)HW_I2CCSR_I2C_EN_SETMASK)
                             4699 ; 131  |#define HW_I2CCSR_RIE_CLRMASK (~(WORD)HW_I2CCSR_RIE_SETMASK)
                             4700 ; 132  |#define HW_I2CCSR_BUSY_CLRMASK (~(WORD)HW_I2CCSR_BUSY_SETMASK)
                             4701 ; 133  |#define HW_I2CCSR_ARB_LOST_CLRMASK (~(WORD)HW_I2CCSR_ARB_LOST_SETMASK)
                             4702 ; 134  |#define HW_I2CCSR_TIE_CLRMASK (~(WORD)HW_I2CCSR_TIE_SETMASK)
                             4703 ; 135  |#define HW_I2CCSR_MODE_CLRMASK (~(WORD)HW_I2CCSR_MODE_SETMASK)
                             4704 ; 136  |#define HW_I2CCSR_RDR_CLRMASK (~(WORD)HW_I2CCSR_RDR_SETMASK)
                             4705 ; 137  |#define HW_I2CCSR_TDE_CLRMASK (~(WORD)HW_I2CCSR_TDE_SETMASK)
                             4706 ; 138  |#define HW_I2CCSR_RWN_CLRMASK (~(WORD)HW_I2CCSR_RWN_SETMASK)
                             4707 ; 139  |#define HW_I2CCSR_WL_CLRMASK (~(WORD)HW_I2CCSR_WL_SETMASK)
                             4708 ; 140  |#define HW_I2CCSR_WL0_CLRMASK (~(WORD)HW_I2CCSR_WL0_SETMASK)
                             4709 ; 141  |#define HW_I2CCSR_WL1_CLRMASK (~(WORD)HW_I2CCSR_WL1_SETMASK)
                             4710 ; 142  |#define HW_I2CCSR_TREQ_CLRMASK (~(WORD)HW_I2CCSR_TREQ_SETMASK)
                             4711 ; 143  |#define HW_I2CCSR_ROFL_CLRMASK (~(WORD)HW_I2CCSR_ROFL_SETMASK)
                             4712 ; 144  |#define HW_I2CCSR_TUFL_CLRMASK (~(WORD)HW_I2CCSR_TUFL_SETMASK)
                             4713 ; 145  |#define HW_I2CCSR_ACKF_CLRMASK (~(WORD)HW_I2CCSR_ACKF_SETMASK)
                             4714 ; 146  |#define HW_I2CCSR_B_CNT_CLRMASK (~(WORD)HW_I2CCSR_B_CNT_SETMASK)
                             4715 ; 147  |#define HW_I2CCSR_B_CNT0_CLRMASK (~(WORD)HW_I2CCSR_B_CNT0_SETMASK)
                             4716 ; 148  |#define HW_I2CCSR_B_CNT1_CLRMASK (~(WORD)HW_I2CCSR_B_CNT1_SETMASK)
                             4717 ; 149  |#define HW_I2CCSR_L_WORD_CLRMASK (~(WORD)HW_I2CCSR_L_WORD_SETMASK)
                             4718 ; 150  |#define HW_I2CCSR_SUBA_CLRMASK (~(WORD)HW_I2CCSR_SUBA_SETMASK)
                             4719 ; 151  |#define HW_I2CCSR_ROFLCL_CLRMASK (~(WORD)HW_I2CCSR_ROFLCL_SETMASK)
                             4720 ; 152  |#define HW_I2CCSR_TUFLCL_CLRMASK (~(WORD)HW_I2CCSR_TUFLCL_SETMASK)
                             4721 ; 153  |#define HW_I2CCSR_ONEBYTE_CLRMASK (~(WORD)HW_I2CCSR_ONEBYTE_SETMASK)
                             4722 ; 154  |
                             4723 ; 155  |typedef union               /* I2C Control Register         */
                             4724 ; 156  |{
                             4725 ; 157  |    struct {
                             4726 ; 158  |        int I2C_EN      :1; /* Peripheral Enable            */
                             4727 ; 159  |        int RIE         :1; /* Receiver Interrupt Enable        */
                             4728 ; 160  |        int BUSY        :1; /* I2C Bus Busy             */
                             4729 ; 161  |        int ARBLOST     :1; /* Aritration lost          */
                             4730 ; 162  |        int TIE         :1; /* Transmitter Interrupt Enable     */
                             4731 ; 163  |        int MODE        :1; /* Operating Mode Bit           */
                             4732 ; 164  |        int RDR         :1; /* Receiver Data Ready          */
                             4733 ; 165  |       int TDE         :1; /* Transmitter Data Empty       */
                             4734 ; 166  |       int RWN         :1; /* Read/Not Write           */
                             4735 ; 167  |       unsigned WL     :2; /* Word Length              */
                             4736 ; 168  |        int TREQ        :1; /* DSP Transmit Request         */
                             4737 ; 169  |        int ROFL        :1; /* Receiver Overflow            */
                             4738 ; 170  |        int TUFL        :1; /* Transmitter Underflow        */
                             4739 ; 171  |        int ACKF        :1; /* Acknowledge Failure          */
                             4740 ; 172  |        unsigned BCNT   :2; /* Byte Count               */
                             4741 ; 173  |        int LWORD       :1; /* Last Word                */
                             4742 ; 174  |        int SUBA        :1; /* Sub Address              */
                             4743 ; 175  |        int ROFLCL      :1; /* Receiver Overflow Clear      */
                             4744 ; 176  |        int TUFLCL      :1; /* Transmitter Underflow Clear      */
                             4745 ; 177  |        int ONEBYTE     :1; /* Special One Data Byte Transmission Mode */
                             4746 ; 178  |    } B;
                             4747 ; 179  |    int I;
                             4748 ; 180  |    unsigned U;
                             4749 ; 181  |} i2ccsr_type;
                             4750 ; 182  |#define HW_I2CCSR (*(volatile i2ccsr_type _X*) (HW_I2C_BASEADDR+2)) /* I2C Control/Status Register (I2CCSR) */
                             4751 ; 183  |
                             4752 ; 184  |#endif
                             4753 
                             4755 
                             4756 ; 24   |#include "regsi2s.h"
                             4757 
                             4759 
                             4760 ; 1    |/////////////////////////////////////////////////////////////////////////////////
                             4761 ; 2    |// Copyright(C) SigmaTel, Inc. 2000-2003
                             4762 ; 3    |// Filename: regsi2s.inc
                             4763 ; 4    |// Description: Register definitions for I2S interface
                             4764 ; 5    |/////////////////////////////////////////////////////////////////////////////////
                             4765 ; 6    |// The following naming conventions are followed in this file.
                             4766 ; 7    |// All registers are named using the format...
                             4767 ; 8    |//     HW_<module>_<regname>
                             4768 ; 9    |// where <module> is the module name which can be any of the following...
                             4769 ; 10   |//     USB20
                             4770 ; 11   |// (Note that when there is more than one copy of a particular module, the
                             4771 ; 12   |// module name includes a number starting from 0 for the first instance of
                             4772 ; 13   |// that module)
                             4773 ; 14   |// <regname> is the specific register within that module
                             4774 ; 15   |// We also define the following...
                             4775 ; 16   |//     HW_<module>_<regname>_BITPOS
                             4776 ; 17   |// which defines the starting bit (i.e. LSB) of a multi bit field
                             4777 ; 18   |//     HW_<module>_<regname>_SETMASK
                             4778 ; 19   |// which does something else, and
                             4779 ; 20   |//     HW_<module>_<regname>_CLRMASK
                             4780 ; 21   |// which does something else.
                             4781 ; 22   |// Other rules
                             4782 ; 23   |//     All caps
                             4783 ; 24   |//     Numeric identifiers start at 0
                             4784 ; 25   |#if !(defined(regsi2sinc))
                             4785 ; 26   |#define regsi2sinc 1
                             4786 ; 27   |
                             4787 ; 28   |#include "types.h"
                             4788 
                             4790 
                             4791 ; 1    |////////////////////////////////////////////////////////////////////////////////
                             4792 ; 2    |// Copyright(C) SigmaTel, Inc. 2000-2004
                             4793 ; 3    |//
                             4794 ; 4    |// Filename: types.h
                             4795 ; 5    |// Description: Standard data types
                             4796 ; 6    |////////////////////////////////////////////////////////////////////////////////
                             4797 ; 7    |
                             4798 ; 8    |#ifndef _TYPES_H
                             4799 ; 9    |#define _TYPES_H
                             4800 ; 10   |
                             4801 ; 11   |// TODO:  move this outta here!
                             4802 ; 12   |#if !defined(NOERROR)
                             4803 ; 13   |#define NOERROR 0
                             4804 ; 14   |#define SUCCESS 0
                             4805 ; 15   |#endif 
                             4806 ; 16   |#if !defined(SUCCESS)
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page  20

M:ADDR CODE           CYCLES LINE SOURCELINE
                             4807 ; 17   |#define SUCCESS  0
                             4808 ; 18   |#endif
                             4809 ; 19   |#if !defined(ERROR)
                             4810 ; 20   |#define ERROR   -1
                             4811 ; 21   |#endif
                             4812 ; 22   |#if !defined(FALSE)
                             4813 ; 23   |#define FALSE 0
                             4814 ; 24   |#endif
                             4815 ; 25   |#if !defined(TRUE)
                             4816 ; 26   |#define TRUE  1
                             4817 ; 27   |#endif
                             4818 ; 28   |
                             4819 ; 29   |#if !defined(NULL)
                             4820 ; 30   |#define NULL 0
                             4821 ; 31   |#endif
                             4822 ; 32   |
                             4823 ; 33   |#define MAX_INT     0x7FFFFF
                             4824 ; 34   |#define MAX_LONG    0x7FFFFFffffff
                             4825 ; 35   |        // max positive unsigned long value: -1 == 0xFFFFFFffffff
                             4826 ; 36   |#define MAX_ULONG   (-1) 
                             4827 ; 37   |
                             4828 ; 38   |#define WORD_SIZE   24              // word size in bits
                             4829 ; 39   |#define BYTES_PER_WORD 3            // 8 bit bytes
                             4830 ; 40   |
                             4831 ; 41   |
                             4832 ; 42   |#define BYTE    unsigned char       // btVarName
                             4833 ; 43   |#define CHAR    signed char         // cVarName
                             4834 ; 44   |#define USHORT  unsigned short      // usVarName
                             4835 ; 45   |#define SHORT   unsigned short      // sVarName
                             4836 ; 46   |#define WORD    unsigned int        // wVarName
                             4837 ; 47   |#define INT     signed int          // iVarName
                             4838 ; 48   |#define DWORD   unsigned long       // dwVarName
                             4839 ; 49   |#define LONG    signed long         // lVarName
                             4840 ; 50   |#define BOOL    unsigned int        // bVarName
                             4841 ; 51   |#define FRACT   _fract              // frVarName
                             4842 ; 52   |#define LFRACT  long _fract         // lfrVarName
                             4843 ; 53   |#define CIRC    _circ               // cp<type prefix>VarName (see below)
                             4844 ; 54   |#define FLOAT   float               // fVarName
                             4845 ; 55   |#define DBL     double              // dVarName
                             4846 ; 56   |#define ENUM    enum                // eVarName
                             4847 ; 57   |#define CMX     _complex            // cmxVarName
                             4848 ; 58   |typedef WORD UCS3;                   // 
                             4849 ; 59   |
                             4850 ; 60   |#define UINT16  unsigned short
                             4851 ; 61   |#define UINT8   unsigned char   
                             4852 ; 62   |#define UINT32  unsigned long
                             4853 ; 63   |#define UINT64  unsigned long   // need to figure out how to do 64 bit values.  Or port exisiting code to only use 48 bit
                             4854 ; 64   |#define INT64   unsigned long   // need to figure out how to do 64 bit values.  Or port exisiting code to only use 48 bit
                             4855 ; 65   |#define WCHAR   UINT16
                             4856 ; 66   |
                             4857 ; 67   |//UINT128 is 16 bytes or 6 words
                             4858 ; 68   |typedef struct UINT128_3500 {   
                             4859 ; 69   |    int val[6];     
                             4860 ; 70   |} UINT128_3500;
                             4861 ; 71   |
                             4862 ; 72   |#define UINT128   UINT128_3500
                             4863 ; 73   |
                             4864 ; 74   |// Little endian word packed byte strings:   
                             4865 ; 75   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                             4866 ; 76   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                             4867 ; 77   |// Little endian word packed byte strings:   
                             4868 ; 78   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                             4869 ; 79   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                             4870 ; 80   |
                             4871 ; 81   |// Declare Memory Spaces To Use When Coding
                             4872 ; 82   |// A. Sector Buffers
                             4873 ; 83   |#define SECTOR_BUFFER_MEM_X _X
                             4874 ; 84   |#define SECTOR_BUFFER_MEM_Y _Y
                             4875 ; 85   |#define SECTOR_BUFFER_MEM SECTOR_BUFFER_MEM_X
                             4876 ; 86   |typedef WORD SECTOR_BUFFER_MEM SECTOR_BUFFER;
                             4877 ; 87   |typedef SECTOR_BUFFER * P_SECTOR_BUFFER;
                             4878 ; 88   |// B. Media DDI Memory
                             4879 ; 89   |#define MEDIA_DDI_MEM _Y
                             4880 ; 90   |
                             4881 ; 91   |
                             4882 ; 92   |
                             4883 ; 93   |// Pointers to linear structures are labeled as: p<type prefix>VarName
                             4884 ; 94   |// Examples of circular pointers:
                             4885 ; 95   |//    INT CIRC cpiVarName
                             4886 ; 96   |//    DWORD CIRC cpdwVarName
                             4887 ; 97   |
                             4888 ; 98   |#define RETCODE INT                 // rcVarName
                             4889 ; 99   |
                             4890 ; 100  |// generic bitfield structure
                             4891 ; 101  |struct Bitfield {
                             4892 ; 102  |    unsigned int B0  :1;
                             4893 ; 103  |    unsigned int B1  :1;
                             4894 ; 104  |    unsigned int B2  :1;
                             4895 ; 105  |    unsigned int B3  :1;
                             4896 ; 106  |    unsigned int B4  :1;
                             4897 ; 107  |    unsigned int B5  :1;
                             4898 ; 108  |    unsigned int B6  :1;
                             4899 ; 109  |    unsigned int B7  :1;
                             4900 ; 110  |    unsigned int B8  :1;
                             4901 ; 111  |    unsigned int B9  :1;
                             4902 ; 112  |    unsigned int B10 :1;
                             4903 ; 113  |    unsigned int B11 :1;
                             4904 ; 114  |    unsigned int B12 :1;
                             4905 ; 115  |    unsigned int B13 :1;
                             4906 ; 116  |    unsigned int B14 :1;
                             4907 ; 117  |    unsigned int B15 :1;
                             4908 ; 118  |    unsigned int B16 :1;
                             4909 ; 119  |    unsigned int B17 :1;
                             4910 ; 120  |    unsigned int B18 :1;
                             4911 ; 121  |    unsigned int B19 :1;
                             4912 ; 122  |    unsigned int B20 :1;
                             4913 ; 123  |    unsigned int B21 :1;
                             4914 ; 124  |    unsigned int B22 :1;
                             4915 ; 125  |    unsigned int B23 :1;
                             4916 ; 126  |};
                             4917 ; 127  |
                             4918 ; 128  |union BitInt {
                             4919 ; 129  |        struct Bitfield B;
                             4920 ; 130  |        int        I;
                             4921 ; 131  |};
                             4922 ; 132  |
                             4923 ; 133  |#define MAX_MSG_LENGTH 10
                             4924 ; 134  |struct CMessage
                             4925 ; 135  |{
                             4926 ; 136  |        unsigned int m_uLength;
                             4927 ; 137  |        unsigned int m_uMsg[MAX_MSG_LENGTH];
                             4928 ; 138  |};
                             4929 ; 139  |
                             4930 ; 140  |typedef struct {
                             4931 ; 141  |    WORD m_wLength;
                             4932 ; 142  |    WORD m_wMessage;
                             4933 ; 143  |    WORD m_wParams[MAX_MSG_LENGTH];
                             4934 ; 144  |} Message;
                             4935 ; 145  |
                             4936 ; 146  |struct MessageQueueDescriptor
                             4937 ; 147  |{
                             4938 ; 148  |        int *m_pBase;
                             4939 ; 149  |        int m_iModulo;
                             4940 ; 150  |        int m_iSize;
                             4941 ; 151  |        int *m_pHead;
                             4942 ; 152  |        int *m_pTail;
                             4943 ; 153  |};
                             4944 ; 154  |
                             4945 ; 155  |struct ModuleEntry
                             4946 ; 156  |{
                             4947 ; 157  |    int m_iSignaledEventMask;
                             4948 ; 158  |    int m_iWaitEventMask;
                             4949 ; 159  |    int m_iResourceOfCode;
                             4950 ; 160  |    struct MessageQueueDescriptor *m_pMessageQueue;
                             4951 ; 161  |    int _asmfunc (*m_pProcessEntryPoint)(union WaitMask Signals,struct MessageQueueDescriptor *);
                             4952 ; 162  |    int _asmfunc (*m_pInitFunction)(struct MessageQueueDescriptor *);
                             4953 ; 163  |    int m_uTimeOutHigh;
                             4954 ; 164  |    int m_uTimeOutLow;
                             4955 ; 165  |    int _asmfunc (*m_pBackgroundFunction)(struct MessageQueueDescriptor *);
                             4956 ; 166  |};
                             4957 ; 167  |
                             4958 ; 168  |union WaitMask{
                             4959 ; 169  |    struct B{
                             4960 ; 170  |        unsigned int m_bNone     :1;
                             4961 ; 171  |        unsigned int m_bMessage  :1;
                             4962 ; 172  |        unsigned int m_bTimer    :1;
                             4963 ; 173  |        unsigned int m_bButton   :1;
                             4964 ; 174  |    } B;
                             4965 ; 175  |    int I;
                             4966 ; 176  |} ;
                             4967 ; 177  |
                             4968 ; 178  |
                             4969 ; 179  |struct Button {
                             4970 ; 180  |        WORD wButtonEvent;
                             4971 ; 181  |        WORD wUnused[MAX_MSG_LENGTH];   
                             4972 ; 182  |};
                             4973 ; 183  |
                             4974 ; 184  |struct Message {
                             4975 ; 185  |        WORD wMsgLength;
                             4976 ; 186  |        WORD wMsgCommand;
                             4977 ; 187  |        WORD wMsgParms[MAX_MSG_LENGTH-1];
                             4978 ; 188  |};
                             4979 ; 189  |
                             4980 ; 190  |union EventTypes {
                             4981 ; 191  |        struct CMessage msg;
                             4982 ; 192  |        struct Button Button ;
                             4983 ; 193  |        struct Message Message;
                             4984 ; 194  |};
                             4985 ; 195  |
                             4986 ; 196  |// next 2 used to get updater build to return correct protocol ver in scsi response.
                             4987 ; 197  |#define BUILD_TYPE_UPDATER  0x100
                             4988 ; 198  |#define BUILD_TYPE_HOSTLINK 0x101
                             4989 ; 199  |#define BUILD_TYPE_PLAYER   0x102
                             4990 ; 200  |
                             4991 ; 201  |// Resets part if RETAIL build. DEBUG build executes debug instruction to halt.
                             4992 ; 202  |#define SystemHalt() __asm(" include 'sysmacro.asm' \n error") 
                             4993 ; 203  |#define assert(x)    if(!(x)) __asm(" include 'sysmacro.asm' \n error")
                             4994 ; 204  |
                             4995 ; 205  |#if DEBUG
                             4996 ; 206  |// For DEBUG builds, DebugBuildAssert(condition) halts if condition evaluates to FALSE. 
                             4997 ; 207  |#define DebugBuildAssert(x)    if(!(x)) __asm(" debug ")
                             4998 ; 208  |#else 
                             4999 ; 209  |// For RETAIL builds, DebugBuildAssert(condition) does nothing & execution continues rather than halt or reset. 
                             5000 ; 210  |#define DebugBuildAssert(x)    
                             5001 ; 211  |#endif
                             5002 ; 212  |
                             5003 ; 213  |// Do this in your C files to make a reminder that's displayed during the build.
                             5004 ; 214  |//  #pragma asm
                             5005 ; 215  |//  WARN 'Note to builder: reminder to do this after verifying that'
                             5006 ; 216  |//  #pragma endasm
                             5007 ; 217  |
                             5008 ; 218  |
                             5009 ; 219  |#ifdef COLOR_262K
                             5010 ; 220  |#define RGB(r,g,b)    ((0x0000FC & (r)) << 10) | ((0x0000FC & (g)) << 4) | ((0x0000FC & (b)) >> 2)    //262k
                             5011 ; 221  |#elif defined(COLOR_65K)
                             5012 ; 222  |#define RGB(r,g,b)    ((0x0000F8 & (r)) << 8) | ((0x0000FC & (g)) << 3) | ((0x0000F8 & (b)) >> 3)  //65k
                             5013 ; 223  |#else
                             5014 ; 224  |#define RGB(r,g,b)       ((0x0000F0 & (r)) << 4) | (0x0000F0 & (g)) | ((0x0000F0 & (b)) >> 4)
                             5015 ; 225  |#endif
                             5016 ; 226  |    
                             5017 ; 227  |#endif // #ifndef _TYPES_H
                             5018 
                             5020 
                             5021 ; 29   |
                             5022 ; 30   |///////////////////////////////////////////////////////////////////////////////////
                             5023 ; 31   |////  I2S Registers (SAI)
                             5024 ; 32   |///////////////////////////////////////////////////////////////////////////////////
                             5025 ; 33   |
                             5026 ; 34   |
                             5027 ; 35   |#define HW_SAI_BASEADDR (0xFFF0)
                             5028 ; 36   |
                             5029 ; 37   |
                             5030 ; 38   |
                             5031 ; 39   |
                             5032 ; 40   |#define HW_SAIRCSR_REN0_BITPOS (0)
                             5033 ; 41   |#define HW_SAIRCSR_REN1_BITPOS (1)
                             5034 ; 42   |#define HW_SAIRCSR_REN2_BITPOS (2)
                             5035 ; 43   |#define HW_SAIRCSR_RMME_BITPOS (3)
                             5036 ; 44   |#define HW_SAIRCSR_RSVD0_BITPOS (4)
                             5037 ; 45   |#define HW_SAIRCSR_RWL_BITPOS (5)
                             5038 ; 46   |#define HW_SAIRCSR_RDIR_BITPOS (7)
                             5039 ; 47   |#define HW_SAIRCSR_RLRS_BITPOS (8)
                             5040 ; 48   |#define HW_SAIRCSR_RCKP_BITPOS (9)
                             5041 ; 49   |#define HW_SAIRCSR_RREL_BITPOS (10)
                             5042 ; 50   |#define HW_SAIRCSR_RDWJ_BITPOS (11)
                             5043 ; 51   |#define HW_SAIRCSR_RXIE_BITPOS (12)
                             5044 ; 52   |#define HW_SAIRCSR_RSVD1_BITPOS (13)
                             5045 ; 53   |#define HW_SAIRCSR_ROFL_BITPOS (14)
                             5046 ; 54   |#define HW_SAIRCSR_RDR_BITPOS (15)
                             5047 ; 55   |#define HW_SAIRCSR_ROFCL_BITPOS (16)
                             5048 ; 56   |#define HW_SAIRCSR_RSVD2_BITPOS (17)
                             5049 ; 57   |
                             5050 ; 58   |
                             5051 ; 59   |#define HW_SAIRCSR_REN0_WIDTH (1)
                             5052 ; 60   |#define HW_SAIRCSR_REN1_WIDTH (1)
                             5053 ; 61   |#define HW_SAIRCSR_REN2_WIDTH (1)
                             5054 ; 62   |#define HW_SAIRCSR_RMME_WIDTH (1)
                             5055 ; 63   |#define HW_SAIRCSR_RSVD0_WIDTH (1)
                             5056 ; 64   |#define HW_SAIRCSR_RWL_WIDTH (2)
                             5057 ; 65   |#define HW_SAIRCSR_RDIR_WIDTH (1)
                             5058 ; 66   |#define HW_SAIRCSR_RLRS_WIDTH (1)
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page  21

M:ADDR CODE           CYCLES LINE SOURCELINE
                             5059 ; 67   |#define HW_SAIRCSR_RCKP_WIDTH (1)
                             5060 ; 68   |#define HW_SAIRCSR_RREL_WIDTH (1)
                             5061 ; 69   |#define HW_SAIRCSR_RDWJ_WIDTH (1)
                             5062 ; 70   |#define HW_SAIRCSR_RXIE_WIDTH (1)
                             5063 ; 71   |#define HW_SAIRCSR_RSVD1_WIDTH (1)
                             5064 ; 72   |#define HW_SAIRCSR_ROFL_WIDTH (1)
                             5065 ; 73   |#define HW_SAIRCSR_RDR_WIDTH (1)
                             5066 ; 74   |#define HW_SAIRCSR_ROFCL_WIDTH (1)
                             5067 ; 75   |#define HW_SAIRCSR_RSVD2_WIDTH (7)
                             5068 ; 76   |
                             5069 ; 77   |
                             5070 ; 78   |#define HW_SAIRCSR_REN0_SETMASK (((1<HW_SAIRCSR_REN0_WIDTH)-1)<<HW_SAIRCSR_REN0_BITPOS)
                             5071 ; 79   |#define HW_SAIRCSR_REN1_SETMASK (((1<HW_SAIRCSR_REN1_WIDTH)-1)<<HW_SAIRCSR_REN1_BITPOS)
                             5072 ; 80   |#define HW_SAIRCSR_REN2_SETMASK (((1<HW_SAIRCSR_REN2_WIDTH)-1)<<HW_SAIRCSR_REN2_BITPOS)
                             5073 ; 81   |#define HW_SAIRCSR_RMME_SETMASK (((1<HW_SAIRCSR_RMME_WIDTH)-1)<<HW_SAIRCSR_RMME_BITPOS)
                             5074 ; 82   |#define HW_SAIRCSR_RSVD0_SETMASK (((1<HW_SAIRCSR_RSVD0_WIDTH)-1)<<HW_SAIRCSR_RSVD0_BITPOS)
                             5075 ; 83   |#define HW_SAIRCSR_RWL_SETMASK (((1<HW_SAIRCSR_RWL_WIDTH)-1)<<HW_SAIRCSR_RWL_BITPOS)
                             5076 ; 84   |#define HW_SAIRCSR_RDIR_SETMASK (((1<HW_SAIRCSR_RDIR_WIDTH)-1)<<HW_SAIRCSR_RDIR_BITPOS)
                             5077 ; 85   |#define HW_SAIRCSR_RLRS_SETMASK (((1<HW_SAIRCSR_RLRS_WIDTH)-1)<<HW_SAIRCSR_RLRS_BITPOS)
                             5078 ; 86   |#define HW_SAIRCSR_RCKP_SETMASK (((1<HW_SAIRCSR_RCKP_WIDTH)-1)<<HW_SAIRCSR_RCKP_BITPOS)
                             5079 ; 87   |#define HW_SAIRCSR_RREL_SETMASK (((1<HW_SAIRCSR_RREL_WIDTH)-1)<<HW_SAIRCSR_RREL_BITPOS)
                             5080 ; 88   |#define HW_SAIRCSR_RDWJ_SETMASK (((1<HW_SAIRCSR_RDWJ_WIDTH)-1)<<HW_SAIRCSR_RDWJ_BITPOS)
                             5081 ; 89   |#define HW_SAIRCSR_RXIE_SETMASK (((1<HW_SAIRCSR_RXIE_WIDTH)-1)<<HW_SAIRCSR_RXIE_BITPOS)
                             5082 ; 90   |#define HW_SAIRCSR_RSVD1_SETMASK (((1<HW_SAIRCSR_RSVD1_WIDTH)-1)<<HW_SAIRCSR_RSVD1_BITPOS)
                             5083 ; 91   |#define HW_SAIRCSR_ROFL_SETMASK (((1<HW_SAIRCSR_ROFL_WIDTH)-1)<<HW_SAIRCSR_ROFL_BITPOS)
                             5084 ; 92   |#define HW_SAIRCSR_RDR_SETMASK (((1<HW_SAIRCSR_RDR_WIDTH)-1)<<HW_SAIRCSR_RDR_BITPOS)
                             5085 ; 93   |#define HW_SAIRCSR_ROFCL_SETMASK (((1<HW_SAIRCSR_ROFCL_WIDTH)-1)<<HW_SAIRCSR_ROFCL_BITPOS)
                             5086 ; 94   |#define HW_SAIRCSR_RSVD2_SETMASK (((1<HW_SAIRCSR_RSVD2_WIDTH)-1)<<HW_SAIRCSR_RSVD2_BITPOS)
                             5087 ; 95   |
                             5088 ; 96   |
                             5089 ; 97   |#define HW_SAIRCSR_REN0_CLRMASK (~(WORD)HW_SAIRCSR_REN0_SETMASK)
                             5090 ; 98   |#define HW_SAIRCSR_REN1_CLRMASK (~(WORD)HW_SAIRCSR_REN1_SETMASK)
                             5091 ; 99   |#define HW_SAIRCSR_REN2_CLRMASK (~(WORD)HW_SAIRCSR_REN2_SETMASK)
                             5092 ; 100  |#define HW_SAIRCSR_RMME_CLRMASK (~(WORD)HW_SAIRCSR_RMME_SETMASK)
                             5093 ; 101  |#define HW_SAIRCSR_RSVD0_CLRMASK (~(WORD)HW_SAIRCSR_RSVD0_SETMASK)
                             5094 ; 102  |#define HW_SAIRCSR_RWL_CLRMASK (~(WORD)HW_SAIRCSR_RWL_SETMASK)
                             5095 ; 103  |#define HW_SAIRCSR_RDIR_CLRMASK (~(WORD)HW_SAIRCSR_RDIR_SETMASK)
                             5096 ; 104  |#define HW_SAIRCSR_RLRS_CLRMASK (~(WORD)HW_SAIRCSR_RLRS_SETMASK)
                             5097 ; 105  |#define HW_SAIRCSR_RCKP_CLRMASK (~(WORD)HW_SAIRCSR_RCKP_SETMASK)
                             5098 ; 106  |#define HW_SAIRCSR_RREL_CLRMASK (~(WORD)HW_SAIRCSR_RREL_SETMASK)
                             5099 ; 107  |#define HW_SAIRCSR_RDWJ_CLRMASK (~(WORD)HW_SAIRCSR_RDWJ_SETMASK)
                             5100 ; 108  |#define HW_SAIRCSR_RXIE_CLRMASK (~(WORD)HW_SAIRCSR_RXIE_SETMASK)
                             5101 ; 109  |#define HW_SAIRCSR_RSVD1_CLRMASK (~(WORD)HW_SAIRCSR_RSVD1_SETMASK)
                             5102 ; 110  |#define HW_SAIRCSR_ROFL_CLRMASK (~(WORD)HW_SAIRCSR_ROFL_SETMASK)
                             5103 ; 111  |#define HW_SAIRCSR_RDR_CLRMASK (~(WORD)HW_SAIRCSR_RDR_SETMASK)
                             5104 ; 112  |#define HW_SAIRCSR_ROFCL_CLRMASK (~(WORD)HW_SAIRCSR_ROFCL_SETMASK)
                             5105 ; 113  |#define HW_SAIRCSR_RSVD2_CLRMASK (~(WORD)HW_SAIRCSR_RSVD2_SETMASK)
                             5106 ; 114  |
                             5107 ; 115  |typedef union
                             5108 ; 116  |{
                             5109 ; 117  |    struct {
                             5110 ; 118  |        int REN0        :HW_SAIRCSR_REN0_WIDTH;        // Receiver 0 enable
                             5111 ; 119  |        int REN1        :HW_SAIRCSR_REN1_WIDTH;        // Receiver 1 enable
                             5112 ; 120  |        int REN2        :HW_SAIRCSR_REN2_WIDTH;        // Receiver 2 enable
                             5113 ; 121  |        int RMME        :HW_SAIRCSR_RMME_WIDTH;        // Receiver master mode enable
                             5114 ; 122  |        int RSVD0       :HW_SAIRCSR_RSVD0_WIDTH;       // Reserved
                             5115 ; 123  |        unsigned RWL    :HW_SAIRCSR_RWL_WIDTH;         // Receiver word length control
                             5116 ; 124  |        int RDIR        :HW_SAIRCSR_RDIR_WIDTH;        // Receiver data shift direction 
                             5117 ; 125  |        int RLRS        :HW_SAIRCSR_RLRS_WIDTH;        // Receiver left right select
                             5118 ; 126  |        int RCKP        :HW_SAIRCSR_RCKP_WIDTH;        // Receiver clock polarity
                             5119 ; 127  |        int RREL        :HW_SAIRCSR_RREL_WIDTH;        // Receiver relative timing
                             5120 ; 128  |        int RDWJ        :HW_SAIRCSR_RDWJ_WIDTH;        // Receiver data word justification
                             5121 ; 129  |        int RXIE        :HW_SAIRCSR_RXIE_WIDTH;        // Receiver interrupt enable
                             5122 ; 130  |        int RSVD1       :HW_SAIRCSR_RSVD1_WIDTH;       // Reserved
                             5123 ; 131  |        int ROFL        :HW_SAIRCSR_ROFL_WIDTH;        // Receiver data overflow
                             5124 ; 132  |        int RDR         :HW_SAIRCSR_RDR_WIDTH;         // Receiver data ready flag
                             5125 ; 133  |        int ROFCL       :HW_SAIRCSR_ROFCL_WIDTH;       // Receiver data overflow clear
                             5126 ; 134  |        unsigned RSVD2  :HW_SAIRCSR_RSVD2_WIDTH;       // Reserved
                             5127 ; 135  |    } B;
                             5128 ; 136  |    int I;
                             5129 ; 137  |    unsigned U;
                             5130 ; 138  |} saircsr_type;
                             5131 ; 139  |
                             5132 ; 140  |#define HW_SAIRCSR (*(volatile saircsr_type _X*) (HW_SAI_BASEADDR))       /* I2S Receive CSR         */
                             5133 ; 141  |
                             5134 ; 142  |typedef union
                             5135 ; 143  |{
                             5136 ; 144  |    struct {
                             5137 ; 145  |        unsigned SAI :24;
                             5138 ; 146  |    } B;
                             5139 ; 147  |    int I;
                             5140 ; 148  |    unsigned U;
                             5141 ; 149  |} saixr_type;
                             5142 ; 150  |
                             5143 ; 151  |#define HW_SAIRX0R (*(volatile saixr_type _X*)  (HW_SAI_BASEADDR+1))       /* I2S Received data reg 0 */
                             5144 ; 152  |#define HW_SAIRX1R (*(volatile saixr_type _X*)  (HW_SAI_BASEADDR+2))       /* I2S Received data reg 1 */
                             5145 ; 153  |#define HW_SAIRX2R (*(volatile saixr_type _X*)  (HW_SAI_BASEADDR+3))       /* I2S Received data reg 2 */
                             5146 ; 154  |
                             5147 ; 155  |
                             5148 ; 156  |#define HW_SAITCSR_TEN0_BITPOS (0)
                             5149 ; 157  |#define HW_SAITCSR_TEN1_BITPOS (1)
                             5150 ; 158  |#define HW_SAITCSR_TEN2_BITPOS (2)
                             5151 ; 159  |#define HW_SAITCSR_TMME_BITPOS (3)
                             5152 ; 160  |#define HW_SAITCSR_RSVD0_BITPOS (4)
                             5153 ; 161  |#define HW_SAITCSR_TWL_BITPOS (5)
                             5154 ; 162  |#define HW_SAITCSR_TDIR_BITPOS (7)
                             5155 ; 163  |#define HW_SAITCSR_TLRS_BITPOS (8)
                             5156 ; 164  |#define HW_SAITCSR_TCKP_BITPOS (9)
                             5157 ; 165  |#define HW_SAITCSR_TREL_BITPOS (10)
                             5158 ; 166  |#define HW_SAITCSR_TDWE_BITPOS (11)
                             5159 ; 167  |#define HW_SAITCSR_TXIE_BITPOS (12)
                             5160 ; 168  |#define HW_SAITCSR_RSVD1_BITPOS (13)
                             5161 ; 169  |#define HW_SAITCSR_TUFL_BITPOS (14)
                             5162 ; 170  |#define HW_SAITCSR_TDE_BITPOS (15)
                             5163 ; 171  |#define HW_SAITCSR_TUFCL_BITPOS (16)
                             5164 ; 172  |#define HW_SAITCSR_RSVD2_BITPOS (17)
                             5165 ; 173  |
                             5166 ; 174  |
                             5167 ; 175  |#define HW_SAITCSR_TEN0_WIDTH (1)
                             5168 ; 176  |#define HW_SAITCSR_TEN1_WIDTH (1)
                             5169 ; 177  |#define HW_SAITCSR_TEN2_WIDTH (1)
                             5170 ; 178  |#define HW_SAITCSR_TMME_WIDTH (1)
                             5171 ; 179  |#define HW_SAITCSR_RSVD0_WIDTH (1)
                             5172 ; 180  |#define HW_SAITCSR_TWL_WIDTH (2)
                             5173 ; 181  |#define HW_SAITCSR_TDIR_WIDTH (1)
                             5174 ; 182  |#define HW_SAITCSR_TLRS_WIDTH (1)
                             5175 ; 183  |#define HW_SAITCSR_TCKP_WIDTH (1)
                             5176 ; 184  |#define HW_SAITCSR_TREL_WIDTH (1)
                             5177 ; 185  |#define HW_SAITCSR_TDWE_WIDTH (1)
                             5178 ; 186  |#define HW_SAITCSR_TXIE_WIDTH (1)
                             5179 ; 187  |#define HW_SAITCSR_RSVD1_WIDTH (1)
                             5180 ; 188  |#define HW_SAITCSR_TUFL_WIDTH (1)
                             5181 ; 189  |#define HW_SAITCSR_TDE_WIDTH (1)
                             5182 ; 190  |#define HW_SAITCSR_TUFCL_WIDTH (1)
                             5183 ; 191  |#define HW_SAITCSR_RSVD2_WIDTH (7)
                             5184 ; 192  |
                             5185 ; 193  |
                             5186 ; 194  |#define HW_SAITCSR_TEN0_SETMASK (((1<HW_SAITCSR_TEN0_WIDTH)-1)<<HW_SAITCSR_TEN0_BITPOS)
                             5187 ; 195  |#define HW_SAITCSR_TEN1_SETMASK (((1<HW_SAITCSR_TEN1_WIDTH)-1)<<HW_SAITCSR_TEN1_BITPOS)
                             5188 ; 196  |#define HW_SAITCSR_TEN2_SETMASK (((1<HW_SAITCSR_TEN2_WIDTH)-1)<<HW_SAITCSR_TEN2_BITPOS)
                             5189 ; 197  |#define HW_SAITCSR_TMME_SETMASK (((1<HW_SAITCSR_TMME_WIDTH)-1)<<HW_SAITCSR_TMME_BITPOS)
                             5190 ; 198  |#define HW_SAITCSR_RSVD0_SETMASK (((1<HW_SAITCSR_RSVD0_WIDTH)-1)<<HW_SAITCSR_RSVD0_BITPOS)
                             5191 ; 199  |#define HW_SAITCSR_TWL_SETMASK (((1<HW_SAITCSR_TWL_WIDTH)-1)<<HW_SAITCSR_TWL_BITPOS)
                             5192 ; 200  |#define HW_SAITCSR_TDIR_SETMASK (((1<HW_SAITCSR_TDIR_WIDTH)-1)<<HW_SAITCSR_TDIR_BITPOS)
                             5193 ; 201  |#define HW_SAITCSR_TLRS_SETMASK (((1<HW_SAITCSR_TLRS_WIDTH)-1)<<HW_SAITCSR_TLRS_BITPOS)
                             5194 ; 202  |#define HW_SAITCSR_TCKP_SETMASK (((1<HW_SAITCSR_TCKP_WIDTH)-1)<<HW_SAITCSR_TCKP_BITPOS)
                             5195 ; 203  |#define HW_SAITCSR_TREL_SETMASK (((1<HW_SAITCSR_TREL_WIDTH)-1)<<HW_SAITCSR_TREL_BITPOS)
                             5196 ; 204  |#define HW_SAITCSR_TDWE_SETMASK (((1<HW_SAITCSR_TDWE_WIDTH)-1)<<HW_SAITCSR_TDWE_BITPOS)
                             5197 ; 205  |#define HW_SAITCSR_TXIE_SETMASK (((1<HW_SAITCSR_TXIE_WIDTH)-1)<<HW_SAITCSR_TXIE_BITPOS)
                             5198 ; 206  |#define HW_SAITCSR_RSVD1_SETMASK (((1<HW_SAITCSR_RSVD1_WIDTH)-1)<<HW_SAITCSR_RSVD1_BITPOS)
                             5199 ; 207  |#define HW_SAITCSR_TUFL_SETMASK (((1<HW_SAITCSR_TUFL_WIDTH)-1)<<HW_SAITCSR_TUFL_BITPOS)
                             5200 ; 208  |#define HW_SAITCSR_TDE_SETMASK (((1<HW_SAITCSR_TDE_WIDTH)-1)<<HW_SAITCSR_TDE_BITPOS)
                             5201 ; 209  |#define HW_SAITCSR_TUFCL_SETMASK (((1<HW_SAITCSR_TUFCL_WIDTH)-1)<<HW_SAITCSR_TUFCL_BITPOS)
                             5202 ; 210  |#define HW_SAITCSR_RSVD2_SETMASK (((1<HW_SAITCSR_RSVD2_WIDTH)-1)<<HW_SAITCSR_RSVD2_BITPOS)
                             5203 ; 211  |
                             5204 ; 212  |
                             5205 ; 213  |#define HW_SAITCSR_TEN0_CLRMASK (~(WORD)HW_SAITCSR_TEN0_SETMASK)
                             5206 ; 214  |#define HW_SAITCSR_TEN1_CLRMASK (~(WORD)HW_SAITCSR_TEN1_SETMASK)
                             5207 ; 215  |#define HW_SAITCSR_TEN2_CLRMASK (~(WORD)HW_SAITCSR_TEN2_SETMASK)
                             5208 ; 216  |#define HW_SAITCSR_TMME_CLRMASK (~(WORD)HW_SAITCSR_TMME_SETMASK)
                             5209 ; 217  |#define HW_SAITCSR_RSVD0_CLRMASK (~(WORD)HW_SAITCSR_RSVD0_SETMASK)
                             5210 ; 218  |#define HW_SAITCSR_TWL_CLRMASK (~(WORD)HW_SAITCSR_TWL_SETMASK)
                             5211 ; 219  |#define HW_SAITCSR_TDIR_CLRMASK (~(WORD)HW_SAITCSR_TDIR_SETMASK)
                             5212 ; 220  |#define HW_SAITCSR_TLRS_CLRMASK (~(WORD)HW_SAITCSR_TLRS_SETMASK)
                             5213 ; 221  |#define HW_SAITCSR_TCKP_CLRMASK (~(WORD)HW_SAITCSR_TCKP_SETMASK)
                             5214 ; 222  |#define HW_SAITCSR_TREL_CLRMASK (~(WORD)HW_SAITCSR_TREL_SETMASK)
                             5215 ; 223  |#define HW_SAITCSR_TDWE_CLRMASK (~(WORD)HW_SAITCSR_TDWE_SETMASK)
                             5216 ; 224  |#define HW_SAITCSR_TXIE_CLRMASK (~(WORD)HW_SAITCSR_TXIE_SETMASK)
                             5217 ; 225  |#define HW_SAITCSR_RSVD1_CLRMASK (~(WORD)HW_SAITCSR_RSVD1_SETMASK)
                             5218 ; 226  |#define HW_SAITCSR_TUFL_CLRMASK (~(WORD)HW_SAITCSR_TUFL_SETMASK)
                             5219 ; 227  |#define HW_SAITCSR_TDE_CLRMASK (~(WORD)HW_SAITCSR_TDE_SETMASK)
                             5220 ; 228  |#define HW_SAITCSR_TUFCL_CLRMASK (~(WORD)HW_SAITCSR_TUFCL_SETMASK)
                             5221 ; 229  |#define HW_SAITCSR_RSVD2_CLRMASK (~(WORD)HW_SAITCSR_RSVD2_SETMASK)
                             5222 ; 230  |
                             5223 ; 231  |
                             5224 ; 232  |typedef union
                             5225 ; 233  |{
                             5226 ; 234  |    struct {
                             5227 ; 235  |        int TEN0       :HW_SAITCSR_TEN0_WIDTH;         // Transmitter 0 enable
                             5228 ; 236  |        int TEN1       :HW_SAITCSR_TEN1_WIDTH;         // Transmitter 1 enable
                             5229 ; 237  |        int TEN2       :HW_SAITCSR_TEN2_WIDTH;         // Transmitter 2 enable
                             5230 ; 238  |        int TMME       :HW_SAITCSR_TMME_WIDTH;         // Transmitter master mode enable
                             5231 ; 239  |        int RSVD0      :HW_SAITCSR_RSVD0_WIDTH;        // Reserved
                             5232 ; 240  |        unsigned TWL   :HW_SAITCSR_TWL_WIDTH;          // Transmitter word length control
                             5233 ; 241  |        int TDIR       :HW_SAITCSR_TDIR_WIDTH;         // Transmitter data shift direction 
                             5234 ; 242  |        int TLRS       :HW_SAITCSR_TLRS_WIDTH;         // Transmitter left right select
                             5235 ; 243  |        int TCKP       :HW_SAITCSR_TCKP_WIDTH;         // Transmitter clock polarity
                             5236 ; 244  |        int TREL       :HW_SAITCSR_TREL_WIDTH;         // Transmitter relative timing
                             5237 ; 245  |        int TDWE       :HW_SAITCSR_TDWE_WIDTH;         // Transmitter data word justification
                             5238 ; 246  |        int TXIE       :HW_SAITCSR_TXIE_WIDTH;         // Transmitter interrupt enable
                             5239 ; 247  |        int RSVD1      :HW_SAITCSR_RSVD1_WIDTH;        // Reserved
                             5240 ; 248  |        int TUFL       :HW_SAITCSR_TUFL_WIDTH;         // Transmitter data overflow
                             5241 ; 249  |        int TDE        :HW_SAITCSR_TDE_WIDTH;          // Transmitter data ready flag
                             5242 ; 250  |        int TUFCL      :HW_SAITCSR_TUFCL_WIDTH;        // Transmitter data overflow clear
                             5243 ; 251  |        unsigned RSVD2 :HW_SAITCSR_RSVD2_WIDTH;        // Reserved
                             5244 ; 252  |    } B;
                             5245 ; 253  |    int I;
                             5246 ; 254  |    unsigned U;
                             5247 ; 255  |} saitcsr_type;
                             5248 ; 256  |
                             5249 ; 257  |#define HW_SAITCSR (*(volatile saitcsr_type _X*) (HW_SAI_BASEADDR+5)) /* I2S Transmit CSR      */
                             5250 ; 258  |
                             5251 ; 259  |#define HW_SAITX0R (*(volatile saixr_type _X*)  (HW_SAI_BASEADDR+6))       /* I2S Transmit data reg 0 */
                             5252 ; 260  |#define HW_SAITX1R (*(volatile saixr_type _X*)  (HW_SAI_BASEADDR+7))       /* I2S Transmit data reg 1 */
                             5253 ; 261  |#define HW_SAITX2R (*(volatile saixr_type _X*)  (HW_SAI_BASEADDR+8))       /* I2S Transmit data reg 2 */
                             5254 ; 262  |
                             5255 ; 263  |#endif
                             5256 
                             5258 
                             5259 ; 25   |#include "regsicoll.h"
                             5260 
                             5262 
                             5263 ; 1    |#if !defined(__REGS_ICOLL_INC)
                             5264 ; 2    |#define __REGS_ICOLL_INC 1
                             5265 ; 3    |
                             5266 ; 4    |/////////////////////////////////////////////////////////////////////////////////
                             5267 ; 5    |//  Interrupt Collector Registers
                             5268 ; 6    |/////////////////////////////////////////////////////////////////////////////////
                             5269 ; 7    |
                             5270 ; 8    |#define HW_ICOLL_BASEADDR 0xF300
                             5271 ; 9    |
                             5272 ; 10   |
                             5273 ; 11   |
                             5274 ; 12   |/////////////////////////////////////////////////////////////////////////////////
                             5275 ; 13   |//  Interrupt Collector 0 Enable Register (HW_ICLENABLE0R) Bit Positions
                             5276 ; 14   |
                             5277 ; 15   |typedef union
                             5278 ; 16   |{
                             5279 ; 17   |    struct {
                             5280 ; 18   |        int SEN0        :1;
                             5281 ; 19   |        int SEN1        :1;
                             5282 ; 20   |        int SEN2        :1;
                             5283 ; 21   |        int SEN3        :1;
                             5284 ; 22   |        int SEN4        :1;
                             5285 ; 23   |        int SEN5        :1;
                             5286 ; 24   |        int SEN6        :1;
                             5287 ; 25   |        int SEN7        :1;
                             5288 ; 26   |        int SEN8        :1;
                             5289 ; 27   |        int SEN9        :1;
                             5290 ; 28   |        int SEN10       :1;
                             5291 ; 29   |        int SEN11       :1;
                             5292 ; 30   |        int SEN12       :1;
                             5293 ; 31   |        int SEN13       :1;
                             5294 ; 32   |        int SEN14       :1;
                             5295 ; 33   |        int SEN15       :1;
                             5296 ; 34   |        int SEN16       :1;
                             5297 ; 35   |        int SEN17       :1;
                             5298 ; 36   |        int SEN18       :1;
                             5299 ; 37   |        int SEN19       :1;
                             5300 ; 38   |        int SEN20       :1;
                             5301 ; 39   |        int SEN21       :1;
                             5302 ; 40   |        int SEN22       :1;
                             5303 ; 41   |        int SEN23       :1;
                             5304 ; 42   |    } B;
                             5305 ; 43   |    int I;
                             5306 ; 44   |} iclenable0_type;
                             5307 ; 45   |#define HW_ICLENABLE0R  (*(volatile iclenable0_type _X*) (HW_ICOLL_BASEADDR)) /* Interrupt Priority Register Core   */
                             5308 ; 46   |
                             5309 ; 47   |
                             5310 ; 48   |#define HW_ICLENABLE0R_SEN0_BITPOS 0
                             5311 ; 49   |#define HW_ICLENABLE0R_SEN1_BITPOS 1
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page  22

M:ADDR CODE           CYCLES LINE SOURCELINE
                             5312 ; 50   |#define HW_ICLENABLE0R_SEN2_BITPOS 2
                             5313 ; 51   |#define HW_ICLENABLE0R_SEN3_BITPOS 3
                             5314 ; 52   |#define HW_ICLENABLE0R_SEN4_BITPOS 4
                             5315 ; 53   |#define HW_ICLENABLE0R_SEN5_BITPOS 5
                             5316 ; 54   |#define HW_ICLENABLE0R_SEN6_BITPOS 6
                             5317 ; 55   |#define HW_ICLENABLE0R_SEN7_BITPOS 7
                             5318 ; 56   |#define HW_ICLENABLE0R_SEN8_BITPOS 8
                             5319 ; 57   |#define HW_ICLENABLE0R_SEN9_BITPOS 9
                             5320 ; 58   |#define HW_ICLENABLE0R_SEN10_BITPOS 10
                             5321 ; 59   |#define HW_ICLENABLE0R_SEN11_BITPOS 11
                             5322 ; 60   |#define HW_ICLENABLE0R_SEN12_BITPOS 12
                             5323 ; 61   |#define HW_ICLENABLE0R_SEN13_BITPOS 13
                             5324 ; 62   |#define HW_ICLENABLE0R_SEN14_BITPOS 14
                             5325 ; 63   |#define HW_ICLENABLE0R_SEN15_BITPOS 15
                             5326 ; 64   |#define HW_ICLENABLE0R_SEN16_BITPOS 16
                             5327 ; 65   |#define HW_ICLENABLE0R_SEN17_BITPOS 17
                             5328 ; 66   |#define HW_ICLENABLE0R_SEN18_BITPOS 18
                             5329 ; 67   |#define HW_ICLENABLE0R_SEN19_BITPOS 19
                             5330 ; 68   |#define HW_ICLENABLE0R_SEN20_BITPOS 20
                             5331 ; 69   |#define HW_ICLENABLE0R_SEN21_BITPOS 21
                             5332 ; 70   |#define HW_ICLENABLE0R_SEN22_BITPOS 22
                             5333 ; 71   |#define HW_ICLENABLE0R_SEN23_BITPOS 23
                             5334 ; 72   |
                             5335 ; 73   |#define HW_ICLENABLE0R_SEN0_SETMASK 1<<HW_ICLENABLE0R_SEN0_BITPOS
                             5336 ; 74   |#define HW_ICLENABLE0R_SEN1_SETMASK 1<<HW_ICLENABLE0R_SEN1_BITPOS
                             5337 ; 75   |#define HW_ICLENABLE0R_SEN2_SETMASK 1<<HW_ICLENABLE0R_SEN2_BITPOS
                             5338 ; 76   |#define HW_ICLENABLE0R_SEN3_SETMASK 1<<HW_ICLENABLE0R_SEN3_BITPOS
                             5339 ; 77   |#define HW_ICLENABLE0R_SEN4_SETMASK 1<<HW_ICLENABLE0R_SEN4_BITPOS
                             5340 ; 78   |#define HW_ICLENABLE0R_SEN5_SETMASK 1<<HW_ICLENABLE0R_SEN5_BITPOS
                             5341 ; 79   |#define HW_ICLENABLE0R_SEN6_SETMASK 1<<HW_ICLENABLE0R_SEN6_BITPOS
                             5342 ; 80   |#define HW_ICLENABLE0R_SEN7_SETMASK 1<<HW_ICLENABLE0R_SEN7_BITPOS
                             5343 ; 81   |#define HW_ICLENABLE0R_SEN8_SETMASK 1<<HW_ICLENABLE0R_SEN8_BITPOS
                             5344 ; 82   |#define HW_ICLENABLE0R_SEN9_SETMASK 1<<HW_ICLENABLE0R_SEN9_BITPOS
                             5345 ; 83   |#define HW_ICLENABLE0R_SEN10_SETMASK 1<<HW_ICLENABLE0R_SEN10_BITPOS
                             5346 ; 84   |#define HW_ICLENABLE0R_SEN11_SETMASK 1<<HW_ICLENABLE0R_SEN11_BITPOS
                             5347 ; 85   |#define HW_ICLENABLE0R_SEN12_SETMASK 1<<HW_ICLENABLE0R_SEN12_BITPOS
                             5348 ; 86   |#define HW_ICLENABLE0R_SEN13_SETMASK 1<<HW_ICLENABLE0R_SEN13_BITPOS
                             5349 ; 87   |#define HW_ICLENABLE0R_SEN14_SETMASK 1<<HW_ICLENABLE0R_SEN14_BITPOS
                             5350 ; 88   |#define HW_ICLENABLE0R_SEN15_SETMASK 1<<HW_ICLENABLE0R_SEN15_BITPOS
                             5351 ; 89   |#define HW_ICLENABLE0R_SEN16_SETMASK 1<<HW_ICLENABLE0R_SEN16_BITPOS
                             5352 ; 90   |#define HW_ICLENABLE0R_SEN17_SETMASK 1<<HW_ICLENABLE0R_SEN17_BITPOS
                             5353 ; 91   |#define HW_ICLENABLE0R_SEN18_SETMASK 1<<HW_ICLENABLE0R_SEN18_BITPOS
                             5354 ; 92   |#define HW_ICLENABLE0R_SEN19_SETMASK 1<<HW_ICLENABLE0R_SEN19_BITPOS
                             5355 ; 93   |#define HW_ICLENABLE0R_SEN20_SETMASK 1<<HW_ICLENABLE0R_SEN20_BITPOS
                             5356 ; 94   |#define HW_ICLENABLE0R_SEN21_SETMASK 1<<HW_ICLENABLE0R_SEN21_BITPOS
                             5357 ; 95   |#define HW_ICLENABLE0R_SEN22_SETMASK 1<<HW_ICLENABLE0R_SEN22_BITPOS
                             5358 ; 96   |#define HW_ICLENABLE0R_SEN23_SETMASK 1<<HW_ICLENABLE0R_SEN23_BITPOS
                             5359 ; 97   |
                             5360 ; 98   |#define HW_ICLENABLE0R_SEN0_CLRMASK ~(WORD)HW_ICLENABLE0R_SEN0_SETMASK
                             5361 ; 99   |#define HW_ICLENABLE0R_SEN1_CLRMASK ~(WORD)HW_ICLENABLE0R_SEN1_SETMASK
                             5362 ; 100  |#define HW_ICLENABLE0R_SEN2_CLRMASK ~(WORD)HW_ICLENABLE0R_SEN2_SETMASK
                             5363 ; 101  |#define HW_ICLENABLE0R_SEN3_CLRMASK ~(WORD)HW_ICLENABLE0R_SEN3_SETMASK
                             5364 ; 102  |#define HW_ICLENABLE0R_SEN4_CLRMASK ~(WORD)HW_ICLENABLE0R_SEN4_SETMASK
                             5365 ; 103  |#define HW_ICLENABLE0R_SEN5_CLRMASK ~(WORD)HW_ICLENABLE0R_SEN5_SETMASK
                             5366 ; 104  |#define HW_ICLENABLE0R_SEN6_CLRMASK ~(WORD)HW_ICLENABLE0R_SEN6_SETMASK
                             5367 ; 105  |#define HW_ICLENABLE0R_SEN7_CLRMASK ~(WORD)HW_ICLENABLE0R_SEN7_SETMASK
                             5368 ; 106  |#define HW_ICLENABLE0R_SEN8_CLRMASK ~(WORD)HW_ICLENABLE0R_SEN8_SETMASK
                             5369 ; 107  |#define HW_ICLENABLE0R_SEN9_CLRMASK ~(WORD)HW_ICLENABLE0R_SEN9_SETMASK
                             5370 ; 108  |#define HW_ICLENABLE0R_SEN10_CLRMASK ~(WORD)HW_ICLENABLE0R_SEN10_SETMASK
                             5371 ; 109  |#define HW_ICLENABLE0R_SEN11_CLRMASK ~(WORD)HW_ICLENABLE0R_SEN11_SETMASK
                             5372 ; 110  |#define HW_ICLENABLE0R_SEN12_CLRMASK ~(WORD)HW_ICLENABLE0R_SEN12_SETMASK
                             5373 ; 111  |#define HW_ICLENABLE0R_SEN13_CLRMASK ~(WORD)HW_ICLENABLE0R_SEN13_SETMASK
                             5374 ; 112  |#define HW_ICLENABLE0R_SEN14_CLRMASK ~(WORD)HW_ICLENABLE0R_SEN14_SETMASK
                             5375 ; 113  |#define HW_ICLENABLE0R_SEN15_CLRMASK ~(WORD)HW_ICLENABLE0R_SEN15_SETMASK
                             5376 ; 114  |#define HW_ICLENABLE0R_SEN16_CLRMASK ~(WORD)HW_ICLENABLE0R_SEN16_SETMASK
                             5377 ; 115  |#define HW_ICLENABLE0R_SEN17_CLRMASK ~(WORD)HW_ICLENABLE0R_SEN17_SETMASK
                             5378 ; 116  |#define HW_ICLENABLE0R_SEN18_CLRMASK ~(WORD)HW_ICLENABLE0R_SEN18_SETMASK
                             5379 ; 117  |#define HW_ICLENABLE0R_SEN19_CLRMASK ~(WORD)HW_ICLENABLE0R_SEN19_SETMASK
                             5380 ; 118  |#define HW_ICLENABLE0R_SEN20_CLRMASK ~(WORD)HW_ICLENABLE0R_SEN20_SETMASK
                             5381 ; 119  |#define HW_ICLENABLE0R_SEN21_CLRMASK ~(WORD)HW_ICLENABLE0R_SEN21_SETMASK
                             5382 ; 120  |#define HW_ICLENABLE0R_SEN22_CLRMASK ~(WORD)HW_ICLENABLE0R_SEN22_SETMASK
                             5383 ; 121  |#define HW_ICLENABLE0R_SEN23_CLRMASK ~(WORD)HW_ICLENABLE0R_SEN23_SETMASK
                             5384 ; 122  |
                             5385 ; 123  |
                             5386 ; 124  |/////////////////////////////////////////////////////////////////////////////////
                             5387 ; 125  |//  Interrupt Collector 1 Enable Register (HW_ICLENABLE1R) Bit Positions
                             5388 ; 126  |typedef union
                             5389 ; 127  |{
                             5390 ; 128  |    struct {
                             5391 ; 129  |        
                             5392 ; 130  |        int SEN24       :1;
                             5393 ; 131  |        int SEN25       :1;
                             5394 ; 132  |        int SEN26       :1;
                             5395 ; 133  |        int SEN27       :1;
                             5396 ; 134  |        int SEN28       :1;
                             5397 ; 135  |        int SEN29       :1;
                             5398 ; 136  |        int SEN30       :1;
                             5399 ; 137  |        int SEN31       :1;
                             5400 ; 138  |        int SEN32       :1;
                             5401 ; 139  |        int SEN33       :1;
                             5402 ; 140  |    } B;
                             5403 ; 141  |    int I;
                             5404 ; 142  |} iclenable1_type;
                             5405 ; 143  |
                             5406 ; 144  |#define HW_ICLENABLE1R  (*(volatile iclenable1_type _X*) (HW_ICOLL_BASEADDR+1)) /* Interrupt Priority Register Core    */
                             5407 ; 145  |
                             5408 ; 146  |#define HW_ICLENABLE1R_SEN24_BITPOS 0
                             5409 ; 147  |#define HW_ICLENABLE1R_SEN25_BITPOS 1
                             5410 ; 148  |#define HW_ICLENABLE1R_SEN26_BITPOS 2
                             5411 ; 149  |#define HW_ICLENABLE1R_SEN27_BITPOS 3
                             5412 ; 150  |#define HW_ICLENABLE1R_SEN28_BITPOS 4
                             5413 ; 151  |#define HW_ICLENABLE1R_SEN29_BITPOS 5
                             5414 ; 152  |#define HW_ICLENABLE1R_SEN30_BITPOS 6
                             5415 ; 153  |#define HW_ICLENABLE1R_SEN31_BITPOS 7
                             5416 ; 154  |#define HW_ICLENABLE1R_SEN32_BITPOS 8
                             5417 ; 155  |#define HW_ICLENABLE1R_SEN33_BITPOS 9
                             5418 ; 156  |
                             5419 ; 157  |#define HW_ICLENABLE1R_SEN24_SETMASK 1<<HW_ICLENABLE1R_SEN24_BITPOS
                             5420 ; 158  |#define HW_ICLENABLE1R_SEN25_SETMASK 1<<HW_ICLENABLE1R_SEN25_BITPOS
                             5421 ; 159  |#define HW_ICLENABLE1R_SEN26_SETMASK 1<<HW_ICLENABLE1R_SEN26_BITPOS
                             5422 ; 160  |#define HW_ICLENABLE1R_SEN27_SETMASK 1<<HW_ICLENABLE1R_SEN27_BITPOS
                             5423 ; 161  |#define HW_ICLENABLE1R_SEN28_SETMASK 1<<HW_ICLENABLE1R_SEN28_BITPOS
                             5424 ; 162  |#define HW_ICLENABLE1R_SEN29_SETMASK 1<<HW_ICLENABLE1R_SEN29_BITPOS
                             5425 ; 163  |#define HW_ICLENABLE1R_SEN30_SETMASK 1<<HW_ICLENABLE1R_SEN30_BITPOS
                             5426 ; 164  |#define HW_ICLENABLE1R_SEN31_SETMASK 1<<HW_ICLENABLE1R_SEN31_BITPOS
                             5427 ; 165  |#define HW_ICLENABLE1R_SEN32_SETMASK 1<<HW_ICLENABLE1R_SEN32_BITPOS
                             5428 ; 166  |#define HW_ICLENABLE1R_SEN33_SETMASK 1<<HW_ICLENABLE1R_SEN33_BITPOS
                             5429 ; 167  |
                             5430 ; 168  |#define HW_ICLENABLE1R_SEN24_CLRMASK ~(WORD)HW_ICLENABLE1R_SEN24_SETMASK
                             5431 ; 169  |#define HW_ICLENABLE1R_SEN25_CLRMASK ~(WORD)HW_ICLENABLE1R_SEN25_SETMASK
                             5432 ; 170  |#define HW_ICLENABLE1R_SEN26_CLRMASK ~(WORD)HW_ICLENABLE1R_SEN26_SETMASK
                             5433 ; 171  |#define HW_ICLENABLE1R_SEN27_CLRMASK ~(WORD)HW_ICLENABLE1R_SEN27_SETMASK
                             5434 ; 172  |#define HW_ICLENABLE1R_SEN28_CLRMASK ~(WORD)HW_ICLENABLE1R_SEN28_SETMASK
                             5435 ; 173  |#define HW_ICLENABLE1R_SEN29_CLRMASK ~(WORD)HW_ICLENABLE1R_SEN29_SETMASK
                             5436 ; 174  |#define HW_ICLENABLE1R_SEN30_CLRMASK ~(WORD)HW_ICLENABLE1R_SEN30_SETMASK
                             5437 ; 175  |#define HW_ICLENABLE1R_SEN31_CLRMASK ~(WORD)HW_ICLENABLE1R_SEN31_SETMASK
                             5438 ; 176  |#define HW_ICLENABLE1R_SEN32_CLRMASK ~(WORD)HW_ICLENABLE1R_SEN32_SETMASK
                             5439 ; 177  |#define HW_ICLENABLE1R_SEN33_CLRMASK ~(WORD)HW_ICLENABLE1R_SEN33_SETMASK
                             5440 ; 178  |
                             5441 ; 179  |
                             5442 ; 180  |/////////////////////////////////////////////////////////////////////////////////
                             5443 ; 181  |//  Interrupt Collector Status 0 Register (HW_ICLSTATUS0R) Bit Positions
                             5444 ; 182  |typedef union
                             5445 ; 183  |{
                             5446 ; 184  |    struct {
                             5447 ; 185  |        int SST0        :1;
                             5448 ; 186  |        int SST1        :1;
                             5449 ; 187  |        int SST2        :1;
                             5450 ; 188  |        int SST3        :1;
                             5451 ; 189  |        int SST4        :1;
                             5452 ; 190  |        int SST5        :1;
                             5453 ; 191  |        int SST6        :1;
                             5454 ; 192  |        int SST7        :1;
                             5455 ; 193  |        int SST8        :1;
                             5456 ; 194  |        int SST9        :1;
                             5457 ; 195  |        int SST10       :1;
                             5458 ; 196  |        int SST11       :1;
                             5459 ; 197  |        int SST12       :1;
                             5460 ; 198  |        int SST13       :1;
                             5461 ; 199  |        int SST14       :1;
                             5462 ; 200  |        int SST15       :1;
                             5463 ; 201  |        int SST16       :1;
                             5464 ; 202  |        int SST17       :1;
                             5465 ; 203  |        int SST18       :1;
                             5466 ; 204  |        int SST19       :1;
                             5467 ; 205  |        int SST20       :1;
                             5468 ; 206  |        int SST21       :1;
                             5469 ; 207  |        int SST22       :1;
                             5470 ; 208  |        int SST23       :1;
                             5471 ; 209  |    } B;
                             5472 ; 210  |    int I;
                             5473 ; 211  |} iclstatus0_type;
                             5474 ; 212  |#define HW_ICLSTATUS0R  (*(volatile iclstatus0_type _X*) (HW_ICOLL_BASEADDR+2)) /* Interrupt Priority Register Core */
                             5475 ; 213  |#define HW_ICLSTATUS0R_SST0_BITPOS 0
                             5476 ; 214  |#define HW_ICLSTATUS0R_SST1_BITPOS 1
                             5477 ; 215  |#define HW_ICLSTATUS0R_SST2_BITPOS 2
                             5478 ; 216  |#define HW_ICLSTATUS0R_SST3_BITPOS 3
                             5479 ; 217  |#define HW_ICLSTATUS0R_SST4_BITPOS 4
                             5480 ; 218  |#define HW_ICLSTATUS0R_SST5_BITPOS 5
                             5481 ; 219  |#define HW_ICLSTATUS0R_SST6_BITPOS 6
                             5482 ; 220  |#define HW_ICLSTATUS0R_SST7_BITPOS 7
                             5483 ; 221  |#define HW_ICLSTATUS0R_SST8_BITPOS 8
                             5484 ; 222  |#define HW_ICLSTATUS0R_SST9_BITPOS 9
                             5485 ; 223  |#define HW_ICLSTATUS0R_SST10_BITPOS 10
                             5486 ; 224  |#define HW_ICLSTATUS0R_SST11_BITPOS 11
                             5487 ; 225  |#define HW_ICLSTATUS0R_SST12_BITPOS 12
                             5488 ; 226  |#define HW_ICLSTATUS0R_SST13_BITPOS 13
                             5489 ; 227  |#define HW_ICLSTATUS0R_SST14_BITPOS 14
                             5490 ; 228  |#define HW_ICLSTATUS0R_SST15_BITPOS 15
                             5491 ; 229  |#define HW_ICLSTATUS0R_SST16_BITPOS 16
                             5492 ; 230  |#define HW_ICLSTATUS0R_SST17_BITPOS 17
                             5493 ; 231  |#define HW_ICLSTATUS0R_SST18_BITPOS 18
                             5494 ; 232  |#define HW_ICLSTATUS0R_SST19_BITPOS 19
                             5495 ; 233  |#define HW_ICLSTATUS0R_SST20_BITPOS 20
                             5496 ; 234  |#define HW_ICLSTATUS0R_SST21_BITPOS 21
                             5497 ; 235  |#define HW_ICLSTATUS0R_SST22_BITPOS 22
                             5498 ; 236  |#define HW_ICLSTATUS0R_SST23_BITPOS 23
                             5499 ; 237  |
                             5500 ; 238  |#define HW_ICLSTATUS0R_SST0_SETMASK 1<<HW_ICLSTATUS0R_SST0_BITPOS
                             5501 ; 239  |#define HW_ICLSTATUS0R_SST1_SETMASK 1<<HW_ICLSTATUS0R_SST1_BITPOS
                             5502 ; 240  |#define HW_ICLSTATUS0R_SST2_SETMASK 1<<HW_ICLSTATUS0R_SST2_BITPOS
                             5503 ; 241  |#define HW_ICLSTATUS0R_SST3_SETMASK 1<<HW_ICLSTATUS0R_SST3_BITPOS
                             5504 ; 242  |#define HW_ICLSTATUS0R_SST4_SETMASK 1<<HW_ICLSTATUS0R_SST4_BITPOS
                             5505 ; 243  |#define HW_ICLSTATUS0R_SST5_SETMASK 1<<HW_ICLSTATUS0R_SST5_BITPOS
                             5506 ; 244  |#define HW_ICLSTATUS0R_SST6_SETMASK 1<<HW_ICLSTATUS0R_SST6_BITPOS
                             5507 ; 245  |#define HW_ICLSTATUS0R_SST7_SETMASK 1<<HW_ICLSTATUS0R_SST7_BITPOS
                             5508 ; 246  |#define HW_ICLSTATUS0R_SST8_SETMASK 1<<HW_ICLSTATUS0R_SST8_BITPOS
                             5509 ; 247  |#define HW_ICLSTATUS0R_SST9_SETMASK 1<<HW_ICLSTATUS0R_SST9_BITPOS
                             5510 ; 248  |#define HW_ICLSTATUS0R_SST10_SETMASK 1<<HW_ICLSTATUS0R_SST10_BITPOS
                             5511 ; 249  |#define HW_ICLSTATUS0R_SST11_SETMASK 1<<HW_ICLSTATUS0R_SST11_BITPOS
                             5512 ; 250  |#define HW_ICLSTATUS0R_SST12_SETMASK 1<<HW_ICLSTATUS0R_SST12_BITPOS
                             5513 ; 251  |#define HW_ICLSTATUS0R_SST13_SETMASK 1<<HW_ICLSTATUS0R_SST13_BITPOS
                             5514 ; 252  |#define HW_ICLSTATUS0R_SST14_SETMASK 1<<HW_ICLSTATUS0R_SST14_BITPOS
                             5515 ; 253  |#define HW_ICLSTATUS0R_SST15_SETMASK 1<<HW_ICLSTATUS0R_SST15_BITPOS
                             5516 ; 254  |#define HW_ICLSTATUS0R_SST16_SETMASK 1<<HW_ICLSTATUS0R_SST16_BITPOS
                             5517 ; 255  |#define HW_ICLSTATUS0R_SST17_SETMASK 1<<HW_ICLSTATUS0R_SST17_BITPOS
                             5518 ; 256  |#define HW_ICLSTATUS0R_SST18_SETMASK 1<<HW_ICLSTATUS0R_SST18_BITPOS
                             5519 ; 257  |#define HW_ICLSTATUS0R_SST19_SETMASK 1<<HW_ICLSTATUS0R_SST19_BITPOS
                             5520 ; 258  |#define HW_ICLSTATUS0R_SST20_SETMASK 1<<HW_ICLSTATUS0R_SST20_BITPOS
                             5521 ; 259  |#define HW_ICLSTATUS0R_SST21_SETMASK 1<<HW_ICLSTATUS0R_SST21_BITPOS
                             5522 ; 260  |#define HW_ICLSTATUS0R_SST22_SETMASK 1<<HW_ICLSTATUS0R_SST22_BITPOS
                             5523 ; 261  |#define HW_ICLSTATUS0R_SST23_SETMASK 1<<HW_ICLSTATUS0R_SST23_BITPOS
                             5524 ; 262  |
                             5525 ; 263  |#define HW_ICLSTATUS0R_SST0_CLRMASK ~(WORD)HW_ICLSTATUS0R_SST0_SETMASK
                             5526 ; 264  |#define HW_ICLSTATUS0R_SST1_CLRMASK ~(WORD)HW_ICLSTATUS0R_SST1_SETMASK
                             5527 ; 265  |#define HW_ICLSTATUS0R_SST2_CLRMASK ~(WORD)HW_ICLSTATUS0R_SST2_SETMASK
                             5528 ; 266  |#define HW_ICLSTATUS0R_SST3_CLRMASK ~(WORD)HW_ICLSTATUS0R_SST3_SETMASK
                             5529 ; 267  |#define HW_ICLSTATUS0R_SST4_CLRMASK ~(WORD)HW_ICLSTATUS0R_SST4_SETMASK
                             5530 ; 268  |#define HW_ICLSTATUS0R_SST5_CLRMASK ~(WORD)HW_ICLSTATUS0R_SST5_SETMASK
                             5531 ; 269  |#define HW_ICLSTATUS0R_SST6_CLRMASK ~(WORD)HW_ICLSTATUS0R_SST6_SETMASK
                             5532 ; 270  |#define HW_ICLSTATUS0R_SST7_CLRMASK ~(WORD)HW_ICLSTATUS0R_SST7_SETMASK
                             5533 ; 271  |#define HW_ICLSTATUS0R_SST8_CLRMASK ~(WORD)HW_ICLSTATUS0R_SST8_SETMASK
                             5534 ; 272  |#define HW_ICLSTATUS0R_SST9_CLRMASK ~(WORD)HW_ICLSTATUS0R_SST9_SETMASK
                             5535 ; 273  |#define HW_ICLSTATUS0R_SST10_CLRMASK ~(WORD)HW_ICLSTATUS0R_SST10_SETMASK
                             5536 ; 274  |#define HW_ICLSTATUS0R_SST11_CLRMASK ~(WORD)HW_ICLSTATUS0R_SST11_SETMASK
                             5537 ; 275  |#define HW_ICLSTATUS0R_SST12_CLRMASK ~(WORD)HW_ICLSTATUS0R_SST12_SETMASK
                             5538 ; 276  |#define HW_ICLSTATUS0R_SST13_CLRMASK ~(WORD)HW_ICLSTATUS0R_SST13_SETMASK
                             5539 ; 277  |#define HW_ICLSTATUS0R_SST14_CLRMASK ~(WORD)HW_ICLSTATUS0R_SST14_SETMASK
                             5540 ; 278  |#define HW_ICLSTATUS0R_SST15_CLRMASK ~(WORD)HW_ICLSTATUS0R_SST15_SETMASK
                             5541 ; 279  |#define HW_ICLSTATUS0R_SST16_CLRMASK ~(WORD)HW_ICLSTATUS0R_SST16_SETMASK
                             5542 ; 280  |#define HW_ICLSTATUS0R_SST17_CLRMASK ~(WORD)HW_ICLSTATUS0R_SST17_SETMASK
                             5543 ; 281  |#define HW_ICLSTATUS0R_SST18_CLRMASK ~(WORD)HW_ICLSTATUS0R_SST18_SETMASK
                             5544 ; 282  |#define HW_ICLSTATUS0R_SST19_CLRMASK ~(WORD)HW_ICLSTATUS0R_SST19_SETMASK
                             5545 ; 283  |#define HW_ICLSTATUS0R_SST20_CLRMASK ~(WORD)HW_ICLSTATUS0R_SST20_SETMASK
                             5546 ; 284  |#define HW_ICLSTATUS0R_SST21_CLRMASK ~(WORD)HW_ICLSTATUS0R_SST21_SETMASK
                             5547 ; 285  |#define HW_ICLSTATUS0R_SST22_CLRMASK ~(WORD)HW_ICLSTATUS0R_SST22_SETMASK
                             5548 ; 286  |#define HW_ICLSTATUS0R_SST23_CLRMASK ~(WORD)HW_ICLSTATUS0R_SST23_SETMASK
                             5549 ; 287  |
                             5550 ; 288  |
                             5551 ; 289  |/////////////////////////////////////////////////////////////////////////////////
                             5552 ; 290  |//  Interrupt Collector Status 1 Register (HW_ICLSTATUS1R) Bit Positions
                             5553 ; 291  |typedef union
                             5554 ; 292  |{
                             5555 ; 293  |    struct {
                             5556 ; 294  |        int SST24       :1;
                             5557 ; 295  |        int SST25       :1;
                             5558 ; 296  |        int SST26       :1;
                             5559 ; 297  |        int SST27       :1;
                             5560 ; 298  |        int SST28       :1;
                             5561 ; 299  |        int SST29       :1;
                             5562 ; 300  |        int SST30       :1;
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page  23

M:ADDR CODE           CYCLES LINE SOURCELINE
                             5563 ; 301  |        int SST31       :1;
                             5564 ; 302  |        int SST32       :1;
                             5565 ; 303  |        int SST33       :1;
                             5566 ; 304  |    } B;
                             5567 ; 305  |    int I;
                             5568 ; 306  |} iclstatus1_type;
                             5569 ; 307  |#define HW_ICLSTATUS1R  (*(volatile iclstatus1_type _X*) (HW_ICOLL_BASEADDR+3)) /* Interrupt Priority Register Core */
                             5570 ; 308  |#define HW_ICLSTATUS1R_SST24_BITPOS 0
                             5571 ; 309  |#define HW_ICLSTATUS1R_SST25_BITPOS 1
                             5572 ; 310  |#define HW_ICLSTATUS1R_SST26_BITPOS 2
                             5573 ; 311  |#define HW_ICLSTATUS1R_SST27_BITPOS 3
                             5574 ; 312  |#define HW_ICLSTATUS1R_SST28_BITPOS 4
                             5575 ; 313  |#define HW_ICLSTATUS1R_SST29_BITPOS 5
                             5576 ; 314  |#define HW_ICLSTATUS1R_SST30_BITPOS 6
                             5577 ; 315  |#define HW_ICLSTATUS1R_SST31_BITPOS 7
                             5578 ; 316  |#define HW_ICLSTATUS1R_SST32_BITPOS 8
                             5579 ; 317  |#define HW_ICLSTATUS1R_SST33_BITPOS 9
                             5580 ; 318  |
                             5581 ; 319  |#define HW_ICLSTATUS1R_SST24_SETMASK 1<<HW_ICLSTATUS1R_SST24_BITPOS
                             5582 ; 320  |#define HW_ICLSTATUS1R_SST25_SETMASK 1<<HW_ICLSTATUS1R_SST25_BITPOS
                             5583 ; 321  |#define HW_ICLSTATUS1R_SST26_SETMASK 1<<HW_ICLSTATUS1R_SST26_BITPOS
                             5584 ; 322  |#define HW_ICLSTATUS1R_SST27_SETMASK 1<<HW_ICLSTATUS1R_SST27_BITPOS
                             5585 ; 323  |#define HW_ICLSTATUS1R_SST28_SETMASK 1<<HW_ICLSTATUS1R_SST28_BITPOS
                             5586 ; 324  |#define HW_ICLSTATUS1R_SST29_SETMASK 1<<HW_ICLSTATUS1R_SST29_BITPOS
                             5587 ; 325  |#define HW_ICLSTATUS1R_SST30_SETMASK 1<<HW_ICLSTATUS1R_SST30_BITPOS
                             5588 ; 326  |#define HW_ICLSTATUS1R_SST31_SETMASK 1<<HW_ICLSTATUS1R_SST31_BITPOS
                             5589 ; 327  |#define HW_ICLSTATUS1R_SST32_SETMASK 1<<HW_ICLSTATUS1R_SST32_BITPOS
                             5590 ; 328  |#define HW_ICLSTATUS1R_SST33_SETMASK 1<<HW_ICLSTATUS1R_SST33_BITPOS
                             5591 ; 329  |
                             5592 ; 330  |#define HW_ICLSTATUS1R_SST24_CLRMASK ~(WORD)HW_ICLSTATUS1R_SST24_SETMASK
                             5593 ; 331  |#define HW_ICLSTATUS1R_SST25_CLRMASK ~(WORD)HW_ICLSTATUS1R_SST25_SETMASK
                             5594 ; 332  |#define HW_ICLSTATUS1R_SST26_CLRMASK ~(WORD)HW_ICLSTATUS1R_SST26_SETMASK
                             5595 ; 333  |#define HW_ICLSTATUS1R_SST27_CLRMASK ~(WORD)HW_ICLSTATUS1R_SST27_SETMASK
                             5596 ; 334  |#define HW_ICLSTATUS1R_SST28_CLRMASK ~(WORD)HW_ICLSTATUS1R_SST28_SETMASK
                             5597 ; 335  |#define HW_ICLSTATUS1R_SST29_CLRMASK ~(WORD)HW_ICLSTATUS1R_SST29_SETMASK
                             5598 ; 336  |#define HW_ICLSTATUS1R_SST30_CLRMASK ~(WORD)HW_ICLSTATUS1R_SST30_SETMASK
                             5599 ; 337  |#define HW_ICLSTATUS1R_SST31_CLRMASK ~(WORD)HW_ICLSTATUS1R_SST31_SETMASK
                             5600 ; 338  |#define HW_ICLSTATUS1R_SST32_CLRMASK ~(WORD)HW_ICLSTATUS1R_SST32_SETMASK
                             5601 ; 339  |#define HW_ICLSTATUS1R_SST33_CLRMASK ~(WORD)HW_ICLSTATUS1R_SST33_SETMASK
                             5602 ; 340  |
                             5603 ; 341  |
                             5604 ; 342  |/////////////////////////////////////////////////////////////////////////////////
                             5605 ; 343  |//  Interrupt Collector Priority Defs
                             5606 ; 344  |typedef union
                             5607 ; 345  |{
                             5608 ; 346  |    struct {
                             5609 ; 347  |        unsigned S0P    :3;
                             5610 ; 348  |        unsigned S1P    :3;
                             5611 ; 349  |        unsigned S2P    :3;
                             5612 ; 350  |        unsigned S3P    :3;
                             5613 ; 351  |        unsigned S4P    :3;
                             5614 ; 352  |        unsigned S5P    :3;
                             5615 ; 353  |        unsigned S6P    :3;
                             5616 ; 354  |        unsigned S7P    :3;
                             5617 ; 355  |    } B;
                             5618 ; 356  |    int I;
                             5619 ; 357  |
                             5620 ; 358  |} iclprior0_type;
                             5621 ; 359  |
                             5622 ; 360  |#define HW_ICLPRIOR0R   (*(volatile iclprior0_type _X*) (HW_ICOLL_BASEADDR+4)) /* Interrupt Collector Register 0 Priority   */
                             5623 ; 361  |
                             5624 ; 362  |#define HW_ICLPRIORR_SP_0 0
                             5625 ; 363  |#define HW_ICLPRIORR_SP_1 1
                             5626 ; 364  |#define HW_ICLPRIORR_SP_2 2
                             5627 ; 365  |#define HW_ICLPRIORR_SP_3 3
                             5628 ; 366  |#define HW_ICLPRIORR_SP_4 4
                             5629 ; 367  |#define HW_ICLPRIORR_SP_5 5
                             5630 ; 368  |#define HW_ICLPRIORR_SP_6 6
                             5631 ; 369  |#define HW_ICLPRIORR_SP_7 7
                             5632 ; 370  |
                             5633 ; 371  |
                             5634 ; 372  |/////////////////////////////////////////////////////////////////////////////////
                             5635 ; 373  |//  Interrupt Collector Priority 0 Register (HW_ICLPRIOR0R) Bit Positions
                             5636 ; 374  |#define HW_ICLPRIOR0R_S0P_BITPOS 0
                             5637 ; 375  |#define HW_ICLPRIOR0R_S1P_BITPOS 3
                             5638 ; 376  |#define HW_ICLPRIOR0R_S2P_BITPOS 6
                             5639 ; 377  |#define HW_ICLPRIOR0R_S3P_BITPOS 9
                             5640 ; 378  |#define HW_ICLPRIOR0R_S4P_BITPOS 12
                             5641 ; 379  |#define HW_ICLPRIOR0R_S5P_BITPOS 15
                             5642 ; 380  |#define HW_ICLPRIOR0R_S6P_BITPOS 18
                             5643 ; 381  |#define HW_ICLPRIOR0R_S7P_BITPOS 21
                             5644 ; 382  |
                             5645 ; 383  |#define HW_ICLPRIOR0R_S0P_SETMASK 7<<HW_ICLPRIOR0R_S0P_BITPOS
                             5646 ; 384  |#define HW_ICLPRIOR0R_S1P_SETMASK 7<<HW_ICLPRIOR0R_S1P_BITPOS
                             5647 ; 385  |#define HW_ICLPRIOR0R_S2P_SETMASK 7<<HW_ICLPRIOR0R_S2P_BITPOS
                             5648 ; 386  |#define HW_ICLPRIOR0R_S3P_SETMASK 7<<HW_ICLPRIOR0R_S3P_BITPOS
                             5649 ; 387  |#define HW_ICLPRIOR0R_S4P_SETMASK 7<<HW_ICLPRIOR0R_S4P_BITPOS
                             5650 ; 388  |#define HW_ICLPRIOR0R_S5P_SETMASK 7<<HW_ICLPRIOR0R_S5P_BITPOS
                             5651 ; 389  |#define HW_ICLPRIOR0R_S6P_SETMASK 7<<HW_ICLPRIOR0R_S6P_BITPOS
                             5652 ; 390  |#define HW_ICLPRIOR0R_S7P_SETMASK 7<<HW_ICLPRIOR0R_S7P_BITPOS
                             5653 ; 391  |
                             5654 ; 392  |#define HW_ICLPRIOR0R_S0P_CLRMASK ~(WORD)HW_ICLPRIOR0R_S0P_SETMASK
                             5655 ; 393  |#define HW_ICLPRIOR0R_S1P_CLRMASK ~(WORD)HW_ICLPRIOR0R_S1P_SETMASK
                             5656 ; 394  |#define HW_ICLPRIOR0R_S2P_CLRMASK ~(WORD)HW_ICLPRIOR0R_S2P_SETMASK
                             5657 ; 395  |#define HW_ICLPRIOR0R_S3P_CLRMASK ~(WORD)HW_ICLPRIOR0R_S3P_SETMASK
                             5658 ; 396  |#define HW_ICLPRIOR0R_S4P_CLRMASK ~(WORD)HW_ICLPRIOR0R_S4P_SETMASK
                             5659 ; 397  |#define HW_ICLPRIOR0R_S5P_CLRMASK ~(WORD)HW_ICLPRIOR0R_S5P_SETMASK
                             5660 ; 398  |#define HW_ICLPRIOR0R_S6P_CLRMASK ~(WORD)HW_ICLPRIOR0R_S6P_SETMASK
                             5661 ; 399  |#define HW_ICLPRIOR0R_S7P_CLRMASK ~(WORD)HW_ICLPRIOR0R_S7P_SETMASK
                             5662 ; 400  |
                             5663 ; 401  |
                             5664 ; 402  |/////////////////////////////////////////////////////////////////////////////////
                             5665 ; 403  |//  Interrupt Collector Priority 1 Register (HW_ICLPRIOR1R) Bit Positions
                             5666 ; 404  |typedef union
                             5667 ; 405  |{
                             5668 ; 406  |    struct {
                             5669 ; 407  |        unsigned S8P    :3;
                             5670 ; 408  |        unsigned S9P    :3;
                             5671 ; 409  |        unsigned S10P   :3;
                             5672 ; 410  |        unsigned S11P   :3;
                             5673 ; 411  |        unsigned S12P   :3;
                             5674 ; 412  |        unsigned S13P   :3;
                             5675 ; 413  |        unsigned S14P   :3;
                             5676 ; 414  |        unsigned S15P   :3;
                             5677 ; 415  |    } B;
                             5678 ; 416  |    int I;
                             5679 ; 417  |} iclprior1_type;
                             5680 ; 418  |
                             5681 ; 419  |#define HW_ICLPRIOR1R   (*(volatile iclprior1_type _X*) (HW_ICOLL_BASEADDR+5)) /* Interrupt Collector Register 1 Priority   */
                             5682 ; 420  |
                             5683 ; 421  |#define HW_ICLPRIOR1R_S8P_BITPOS 0
                             5684 ; 422  |#define HW_ICLPRIOR1R_S9P_BITPOS 3
                             5685 ; 423  |#define HW_ICLPRIOR1R_S10P_BITPOS 6
                             5686 ; 424  |#define HW_ICLPRIOR1R_S11P_BITPOS 9
                             5687 ; 425  |#define HW_ICLPRIOR1R_S12P_BITPOS 12
                             5688 ; 426  |#define HW_ICLPRIOR1R_S13P_BITPOS 15
                             5689 ; 427  |#define HW_ICLPRIOR1R_S14P_BITPOS 18
                             5690 ; 428  |#define HW_ICLPRIOR1R_S15P_BITPOS 21
                             5691 ; 429  |
                             5692 ; 430  |#define HW_ICLPRIOR1R_S8P_SETMASK 7<<HW_ICLPRIOR1R_S8P_BITPOS
                             5693 ; 431  |#define HW_ICLPRIOR1R_S9P_SETMASK 7<<HW_ICLPRIOR1R_S9P_BITPOS
                             5694 ; 432  |#define HW_ICLPRIOR1R_S10P_SETMASK 7<<HW_ICLPRIOR1R_S10P_BITPOS
                             5695 ; 433  |#define HW_ICLPRIOR1R_S11P_SETMASK 7<<HW_ICLPRIOR1R_S11P_BITPOS
                             5696 ; 434  |#define HW_ICLPRIOR1R_S12P_SETMASK 7<<HW_ICLPRIOR1R_S12P_BITPOS
                             5697 ; 435  |#define HW_ICLPRIOR1R_S13P_SETMASK 7<<HW_ICLPRIOR1R_S13P_BITPOS
                             5698 ; 436  |#define HW_ICLPRIOR1R_S14P_SETMASK 7<<HW_ICLPRIOR1R_S14P_BITPOS
                             5699 ; 437  |#define HW_ICLPRIOR1R_S15P_SETMASK 7<<HW_ICLPRIOR1R_S15P_BITPOS
                             5700 ; 438  |
                             5701 ; 439  |#define HW_ICLPRIOR1R_S8P_CLRMASK ~(WORD)HW_ICLPRIOR1R_S8P_SETMASK
                             5702 ; 440  |#define HW_ICLPRIOR1R_S9P_CLRMASK ~(WORD)HW_ICLPRIOR1R_S9P_SETMASK
                             5703 ; 441  |#define HW_ICLPRIOR1R_S10P_CLRMASK ~(WORD)HW_ICLPRIOR1R_S10P_SETMASK
                             5704 ; 442  |#define HW_ICLPRIOR1R_S11P_CLRMASK ~(WORD)HW_ICLPRIOR1R_S11P_SETMASK
                             5705 ; 443  |#define HW_ICLPRIOR1R_S12P_CLRMASK ~(WORD)HW_ICLPRIOR1R_S12P_SETMASK
                             5706 ; 444  |#define HW_ICLPRIOR1R_S13P_CLRMASK ~(WORD)HW_ICLPRIOR1R_S13P_SETMASK
                             5707 ; 445  |#define HW_ICLPRIOR1R_S14P_CLRMASK ~(WORD)HW_ICLPRIOR1R_S14P_SETMASK
                             5708 ; 446  |#define HW_ICLPRIOR1R_S15P_CLRMASK ~(WORD)HW_ICLPRIOR1R_S15P_SETMASK
                             5709 ; 447  |
                             5710 ; 448  |
                             5711 ; 449  |/////////////////////////////////////////////////////////////////////////////////
                             5712 ; 450  |//  Interrupt Collector Priority 2 Register (HW_ICLPRI2R) Bit Positions
                             5713 ; 451  |typedef union               /* Interrupt Collector Priority 2 Register      */
                             5714 ; 452  |{
                             5715 ; 453  |    struct {
                             5716 ; 454  |        unsigned S16P   :3;
                             5717 ; 455  |        unsigned S17P   :3;
                             5718 ; 456  |        unsigned S18P   :3;
                             5719 ; 457  |        unsigned S19P   :3;
                             5720 ; 458  |        unsigned S20P   :3;
                             5721 ; 459  |        unsigned S21P   :3;
                             5722 ; 460  |        unsigned S22P   :3;
                             5723 ; 461  |        unsigned S23P   :3;
                             5724 ; 462  |    } B;
                             5725 ; 463  |    int I;
                             5726 ; 464  |} iclprior2_type;
                             5727 ; 465  |#define HW_ICLPRIOR2R   (*(volatile iclprior2_type _X*) (HW_ICOLL_BASEADDR+6)) /* Interrupt Collector Register 2 Priority   */
                             5728 ; 466  |#define HW_ICLPRIOR2R_S16P_BITPOS 0
                             5729 ; 467  |#define HW_ICLPRIOR2R_S17P_BITPOS 3
                             5730 ; 468  |#define HW_ICLPRIOR2R_S18P_BITPOS 6
                             5731 ; 469  |#define HW_ICLPRIOR2R_S19P_BITPOS 9
                             5732 ; 470  |#define HW_ICLPRIOR2R_S20P_BITPOS 12
                             5733 ; 471  |#define HW_ICLPRIOR2R_S21P_BITPOS 15
                             5734 ; 472  |#define HW_ICLPRIOR2R_S22P_BITPOS 18
                             5735 ; 473  |#define HW_ICLPRIOR2R_S23P_BITPOS 21
                             5736 ; 474  |
                             5737 ; 475  |#define HW_ICLPRIOR2R_S16P_SETMASK 7<<HW_ICLPRIOR2R_S16P_BITPOS
                             5738 ; 476  |#define HW_ICLPRIOR2R_S17P_SETMASK 7<<HW_ICLPRIOR2R_S17P_BITPOS
                             5739 ; 477  |#define HW_ICLPRIOR2R_S18P_SETMASK 7<<HW_ICLPRIOR2R_S18P_BITPOS
                             5740 ; 478  |#define HW_ICLPRIOR2R_S19P_SETMASK 7<<HW_ICLPRIOR2R_S19P_BITPOS
                             5741 ; 479  |#define HW_ICLPRIOR2R_S20P_SETMASK 7<<HW_ICLPRIOR2R_S20P_BITPOS
                             5742 ; 480  |#define HW_ICLPRIOR2R_S21P_SETMASK 7<<HW_ICLPRIOR2R_S21P_BITPOS
                             5743 ; 481  |#define HW_ICLPRIOR2R_S22P_SETMASK 7<<HW_ICLPRIOR2R_S22P_BITPOS
                             5744 ; 482  |#define HW_ICLPRIOR2R_S23P_SETMASK 7<<HW_ICLPRIOR2R_S23P_BITPOS
                             5745 ; 483  |
                             5746 ; 484  |#define HW_ICLPRIOR2R_S16P_CLRMASK ~(WORD)HW_ICLPRIOR2R_S16P_SETMASK
                             5747 ; 485  |#define HW_ICLPRIOR2R_S17P_CLRMASK ~(WORD)HW_ICLPRIOR2R_S17P_SETMASK
                             5748 ; 486  |#define HW_ICLPRIOR2R_S18P_CLRMASK ~(WORD)HW_ICLPRIOR2R_S18P_SETMASK
                             5749 ; 487  |#define HW_ICLPRIOR2R_S19P_CLRMASK ~(WORD)HW_ICLPRIOR2R_S19P_SETMASK
                             5750 ; 488  |#define HW_ICLPRIOR2R_S20P_CLRMASK ~(WORD)HW_ICLPRIOR2R_S20P_SETMASK
                             5751 ; 489  |#define HW_ICLPRIOR2R_S21P_CLRMASK ~(WORD)HW_ICLPRIOR2R_S21P_SETMASK
                             5752 ; 490  |#define HW_ICLPRIOR2R_S22P_CLRMASK ~(WORD)HW_ICLPRIOR2R_S22P_SETMASK
                             5753 ; 491  |#define HW_ICLPRIOR2R_S23P_CLRMASK ~(WORD)HW_ICLPRIOR2R_S23P_SETMASK
                             5754 ; 492  |
                             5755 ; 493  |
                             5756 ; 494  |/////////////////////////////////////////////////////////////////////////////////
                             5757 ; 495  |//  Interrupt Collector Priority 3 Register (HW_ICLPRI3R) Bit Positions
                             5758 ; 496  |typedef union               /* Interrupt Collector Priority 3 Register      */
                             5759 ; 497  |{
                             5760 ; 498  |    struct {
                             5761 ; 499  |        unsigned S24P   :3;
                             5762 ; 500  |        unsigned S25P   :3;
                             5763 ; 501  |        unsigned S26P   :3;
                             5764 ; 502  |        unsigned S27P   :3;
                             5765 ; 503  |        unsigned S28P   :3;
                             5766 ; 504  |        unsigned S29P   :3;
                             5767 ; 505  |        unsigned S30P   :3;
                             5768 ; 506  |        unsigned S31P   :3;
                             5769 ; 507  |    } B;
                             5770 ; 508  |    int I;
                             5771 ; 509  |} iclprior3_type;
                             5772 ; 510  |#define HW_ICLPRIOR3R   (*(volatile iclprior3_type _X*) (HW_ICOLL_BASEADDR+7)) /* Interrupt Collector Register 3 Priority   */
                             5773 ; 511  |
                             5774 ; 512  |#define HW_ICLPRIOR3R_S24P_BITPOS 0
                             5775 ; 513  |#define HW_ICLPRIOR3R_S25P_BITPOS 3
                             5776 ; 514  |#define HW_ICLPRIOR3R_S26P_BITPOS 6
                             5777 ; 515  |#define HW_ICLPRIOR3R_S27P_BITPOS 9
                             5778 ; 516  |#define HW_ICLPRIOR3R_S28P_BITPOS 12
                             5779 ; 517  |#define HW_ICLPRIOR3R_S29P_BITPOS 15
                             5780 ; 518  |#define HW_ICLPRIOR3R_S30P_BITPOS 18
                             5781 ; 519  |#define HW_ICLPRIOR3R_S31P_BITPOS 21
                             5782 ; 520  |
                             5783 ; 521  |#define HW_ICLPRIOR3R_S24P_SETMASK 7<<HW_ICLPRIOR3R_S24P_BITPOS
                             5784 ; 522  |#define HW_ICLPRIOR3R_S25P_SETMASK 7<<HW_ICLPRIOR3R_S25P_BITPOS
                             5785 ; 523  |#define HW_ICLPRIOR3R_S26P_SETMASK 7<<HW_ICLPRIOR3R_S26P_BITPOS
                             5786 ; 524  |#define HW_ICLPRIOR3R_S27P_SETMASK 7<<HW_ICLPRIOR3R_S27P_BITPOS
                             5787 ; 525  |#define HW_ICLPRIOR3R_S28P_SETMASK 7<<HW_ICLPRIOR3R_S28P_BITPOS
                             5788 ; 526  |#define HW_ICLPRIOR3R_S29P_SETMASK 7<<HW_ICLPRIOR3R_S29P_BITPOS
                             5789 ; 527  |#define HW_ICLPRIOR3R_S30P_SETMASK 7<<HW_ICLPRIOR3R_S30P_BITPOS
                             5790 ; 528  |#define HW_ICLPRIOR3R_S31P_SETMASK 7<<HW_ICLPRIOR3R_S31P_BITPOS
                             5791 ; 529  |
                             5792 ; 530  |#define HW_ICLPRIOR3R_S24P_CLRMASK ~(WORD)HW_ICLPRIOR3R_S24P_SETMASK
                             5793 ; 531  |#define HW_ICLPRIOR3R_S25P_CLRMASK ~(WORD)HW_ICLPRIOR3R_S25P_SETMASK
                             5794 ; 532  |#define HW_ICLPRIOR3R_S26P_CLRMASK ~(WORD)HW_ICLPRIOR3R_S26P_SETMASK
                             5795 ; 533  |#define HW_ICLPRIOR3R_S27P_CLRMASK ~(WORD)HW_ICLPRIOR3R_S27P_SETMASK
                             5796 ; 534  |#define HW_ICLPRIOR3R_S28P_CLRMASK ~(WORD)HW_ICLPRIOR3R_S28P_SETMASK
                             5797 ; 535  |#define HW_ICLPRIOR3R_S29P_CLRMASK ~(WORD)HW_ICLPRIOR3R_S29P_SETMASK
                             5798 ; 536  |#define HW_ICLPRIOR3R_S30P_CLRMASK ~(WORD)HW_ICLPRIOR3R_S30P_SETMASK
                             5799 ; 537  |#define HW_ICLPRIOR3R_S31P_CLRMASK ~(WORD)HW_ICLPRIOR3R_S31P_SETMASK
                             5800 ; 538  |
                             5801 ; 539  |
                             5802 ; 540  |/////////////////////////////////////////////////////////////////////////////////
                             5803 ; 541  |//  Interrupt Collector Priority 4 Register (HW_ICLPRI4R) Bit Positions
                             5804 ; 542  |typedef union               /* Interrupt Collector Priority 3 Register      */
                             5805 ; 543  |{
                             5806 ; 544  |    struct {
                             5807 ; 545  |        unsigned S32P   :3;
                             5808 ; 546  |        unsigned S33P   :3;
                             5809 ; 547  |    } B;
                             5810 ; 548  |    int I;
                             5811 ; 549  |} iclprior4_type;
                             5812 ; 550  |#define HW_ICLPRIOR4R (*(volatile iclprior4_type _X*) (HW_ICOLL_BASEADDR+17)) /* Interrupt Collector Register 4 Priority   */
                             5813 ; 551  |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page  24

M:ADDR CODE           CYCLES LINE SOURCELINE
                             5814 ; 552  |#define HW_ICLPRIOR4R_S32P_BITPOS 0
                             5815 ; 553  |#define HW_ICLPRIOR4R_S33P_BITPOS 3
                             5816 ; 554  |
                             5817 ; 555  |#define HW_ICLPRIOR4R_S32P_SETMASK 7<<HW_ICLPRIOR4R_S32P_BITPOS
                             5818 ; 556  |#define HW_ICLPRIOR4R_S33P_SETMASK 7<<HW_ICLPRIOR4R_S33P_BITPOS
                             5819 ; 557  |
                             5820 ; 558  |#define HW_ICLPRIOR4R_S32P_CLRMASK ~(WORD)HW_ICLPRIOR4R_S32P_SETMASK
                             5821 ; 559  |#define HW_ICLPRIOR4R_S33P_CLRMASK ~(WORD)HW_ICLPRIOR4R_S33P_SETMASK
                             5822 ; 560  |
                             5823 ; 561  |
                             5824 ; 562  |/////////////////////////////////////////////////////////////////////////////////
                             5825 ; 563  |//  Interrupt Collector Steering 0 Register (HW_ICLSTEER0R) Bit Positions
                             5826 ; 564  |typedef union               /* Interrupt Collector Steering 0 Register      */
                             5827 ; 565  |{
                             5828 ; 566  |    struct {
                             5829 ; 567  |        unsigned S0S    :2;
                             5830 ; 568  |        unsigned S1S    :2;
                             5831 ; 569  |        unsigned S2S    :2;
                             5832 ; 570  |        unsigned S3S    :2;
                             5833 ; 571  |        unsigned S4S    :2;
                             5834 ; 572  |        unsigned S5S    :2;
                             5835 ; 573  |        unsigned S6S    :2;
                             5836 ; 574  |        unsigned S7S    :2;
                             5837 ; 575  |        unsigned S8S    :2;
                             5838 ; 576  |        unsigned S9S    :2;
                             5839 ; 577  |        unsigned S10S   :2;
                             5840 ; 578  |        unsigned S11S   :2;
                             5841 ; 579  |    } B;
                             5842 ; 580  |    int I;
                             5843 ; 581  |} iclsteer0_type;
                             5844 ; 582  |#define HW_ICLSTEER0R   (*(volatile iclsteer0_type _X*) (HW_ICOLL_BASEADDR+8)) /* Interrupt Collector Steering Register 0   */
                             5845 ; 583  |
                             5846 ; 584  |#define HW_ICLSTEER0R_S0P_BITPOS 0
                             5847 ; 585  |#define HW_ICLSTEER0R_S1P_BITPOS 2
                             5848 ; 586  |#define HW_ICLSTEER0R_S2P_BITPOS 4
                             5849 ; 587  |#define HW_ICLSTEER0R_S3P_BITPOS 6
                             5850 ; 588  |#define HW_ICLSTEER0R_S4P_BITPOS 8
                             5851 ; 589  |#define HW_ICLSTEER0R_S5P_BITPOS 10
                             5852 ; 590  |#define HW_ICLSTEER0R_S6P_BITPOS 12
                             5853 ; 591  |#define HW_ICLSTEER0R_S7P_BITPOS 14
                             5854 ; 592  |#define HW_ICLSTEER0R_S8P_BITPOS 16
                             5855 ; 593  |#define HW_ICLSTEER0R_S9P_BITPOS 18
                             5856 ; 594  |#define HW_ICLSTEER0R_S10P_BITPOS 20
                             5857 ; 595  |#define HW_ICLSTEER0R_S11P_BITPOS 22
                             5858 ; 596  |
                             5859 ; 597  |#define HW_ICLSTEER0R_S0P_SETMASK 3<<HW_ICLSTEER0R_S0P_BITPOS
                             5860 ; 598  |#define HW_ICLSTEER0R_S1P_SETMASK 3<<HW_ICLSTEER0R_S1P_BITPOS
                             5861 ; 599  |#define HW_ICLSTEER0R_S2P_SETMASK 3<<HW_ICLSTEER0R_S2P_BITPOS
                             5862 ; 600  |#define HW_ICLSTEER0R_S3P_SETMASK 3<<HW_ICLSTEER0R_S3P_BITPOS
                             5863 ; 601  |#define HW_ICLSTEER0R_S4P_SETMASK 3<<HW_ICLSTEER0R_S4P_BITPOS
                             5864 ; 602  |#define HW_ICLSTEER0R_S5P_SETMASK 3<<HW_ICLSTEER0R_S5P_BITPOS
                             5865 ; 603  |#define HW_ICLSTEER0R_S6P_SETMASK 3<<HW_ICLSTEER0R_S6P_BITPOS
                             5866 ; 604  |#define HW_ICLSTEER0R_S7P_SETMASK 3<<HW_ICLSTEER0R_S7P_BITPOS
                             5867 ; 605  |#define HW_ICLSTEER0R_S8P_SETMASK 3<<HW_ICLSTEER0R_S8P_BITPOS
                             5868 ; 606  |#define HW_ICLSTEER0R_S9P_SETMASK 3<<HW_ICLSTEER0R_S9P_BITPOS
                             5869 ; 607  |#define HW_ICLSTEER0R_S10P_SETMASK 3<<HW_ICLSTEER0R_S10P_BITPOS
                             5870 ; 608  |#define HW_ICLSTEER0R_S11P_SETMASK 3<<HW_ICLSTEER0R_S11P_BITPOS
                             5871 ; 609  |
                             5872 ; 610  |#define HW_ICLSTEER0R_S0P_CLRMASK ~(WORD)HW_ICLSTEER0R_S0P_SETMASK
                             5873 ; 611  |#define HW_ICLSTEER0R_S1P_CLRMASK ~(WORD)HW_ICLSTEER0R_S1P_SETMASK
                             5874 ; 612  |#define HW_ICLSTEER0R_S2P_CLRMASK ~(WORD)HW_ICLSTEER0R_S2P_SETMASK
                             5875 ; 613  |#define HW_ICLSTEER0R_S3P_CLRMASK ~(WORD)HW_ICLSTEER0R_S3P_SETMASK
                             5876 ; 614  |#define HW_ICLSTEER0R_S4P_CLRMASK ~(WORD)HW_ICLSTEER0R_S4P_SETMASK
                             5877 ; 615  |#define HW_ICLSTEER0R_S5P_CLRMASK ~(WORD)HW_ICLSTEER0R_S5P_SETMASK
                             5878 ; 616  |#define HW_ICLSTEER0R_S6P_CLRMASK ~(WORD)HW_ICLSTEER0R_S6P_SETMASK
                             5879 ; 617  |#define HW_ICLSTEER0R_S7P_CLRMASK ~(WORD)HW_ICLSTEER0R_S7P_SETMASK
                             5880 ; 618  |#define HW_ICLSTEER0R_S8P_CLRMASK ~(WORD)HW_ICLSTEER0R_S8P_SETMASK
                             5881 ; 619  |#define HW_ICLSTEER0R_S9P_CLRMASK ~(WORD)HW_ICLSTEER0R_S9P_SETMASK
                             5882 ; 620  |#define HW_ICLSTEER0R_S10P_CLRMASK ~(WORD)HW_ICLSTEER0R_S10P_SETMASK
                             5883 ; 621  |#define HW_ICLSTEER0R_S11P_CLRMASK ~(WORD)HW_ICLSTEER0R_S11P_SETMASK
                             5884 ; 622  |
                             5885 ; 623  |
                             5886 ; 624  |/////////////////////////////////////////////////////////////////////////////////
                             5887 ; 625  |//  Interrupt Collector Steering 1 Register (HW_ICLSTEER1R) Bit Positions
                             5888 ; 626  |typedef union               /* Interrupt Collector Steering 1 Register      */
                             5889 ; 627  |{
                             5890 ; 628  |    struct {
                             5891 ; 629  |        unsigned S12S   :2;
                             5892 ; 630  |        unsigned S13S   :2;
                             5893 ; 631  |        unsigned S14S   :2;
                             5894 ; 632  |        unsigned S15S   :2;
                             5895 ; 633  |        unsigned S16S   :2;
                             5896 ; 634  |        unsigned S17S   :2;
                             5897 ; 635  |        unsigned S18S   :2;
                             5898 ; 636  |        unsigned S19S   :2;
                             5899 ; 637  |        unsigned S20S   :2;
                             5900 ; 638  |        unsigned S21S   :2;
                             5901 ; 639  |        unsigned S22S   :2;
                             5902 ; 640  |        unsigned S23S   :2;
                             5903 ; 641  |    } B;
                             5904 ; 642  |    int I;
                             5905 ; 643  |} iclsteer1_type;
                             5906 ; 644  |#define HW_ICLSTEER1R   (*(volatile iclsteer1_type _X*) (HW_ICOLL_BASEADDR+9)) /* Interrupt Collector Steering Register 1   */
                             5907 ; 645  |#define HW_ICLSTEER1R_S12P_BITPOS 0
                             5908 ; 646  |#define HW_ICLSTEER1R_S13P_BITPOS 2
                             5909 ; 647  |#define HW_ICLSTEER1R_S14P_BITPOS 4
                             5910 ; 648  |#define HW_ICLSTEER1R_S15P_BITPOS 6
                             5911 ; 649  |#define HW_ICLSTEER1R_S16P_BITPOS 8
                             5912 ; 650  |#define HW_ICLSTEER1R_S17P_BITPOS 10
                             5913 ; 651  |#define HW_ICLSTEER1R_S18P_BITPOS 12
                             5914 ; 652  |#define HW_ICLSTEER1R_S19P_BITPOS 14
                             5915 ; 653  |#define HW_ICLSTEER1R_S20P_BITPOS 16
                             5916 ; 654  |#define HW_ICLSTEER1R_S21P_BITPOS 18
                             5917 ; 655  |#define HW_ICLSTEER1R_S22P_BITPOS 20
                             5918 ; 656  |#define HW_ICLSTEER1R_S23P_BITPOS 22
                             5919 ; 657  |
                             5920 ; 658  |#define HW_ICLSTEER1R_S12P_SETMASK 3<<HW_ICLSTEER1R_S12P_BITPOS
                             5921 ; 659  |#define HW_ICLSTEER1R_S13P_SETMASK 3<<HW_ICLSTEER1R_S13P_BITPOS
                             5922 ; 660  |#define HW_ICLSTEER1R_S14P_SETMASK 3<<HW_ICLSTEER1R_S14P_BITPOS
                             5923 ; 661  |#define HW_ICLSTEER1R_S15P_SETMASK 3<<HW_ICLSTEER1R_S15P_BITPOS
                             5924 ; 662  |#define HW_ICLSTEER1R_S16P_SETMASK 3<<HW_ICLSTEER1R_S16P_BITPOS
                             5925 ; 663  |#define HW_ICLSTEER1R_S17P_SETMASK 3<<HW_ICLSTEER1R_S17P_BITPOS
                             5926 ; 664  |#define HW_ICLSTEER1R_S18P_SETMASK 3<<HW_ICLSTEER1R_S18P_BITPOS
                             5927 ; 665  |#define HW_ICLSTEER1R_S19P_SETMASK 3<<HW_ICLSTEER1R_S19P_BITPOS
                             5928 ; 666  |#define HW_ICLSTEER1R_S20P_SETMASK 3<<HW_ICLSTEER1R_S20P_BITPOS
                             5929 ; 667  |#define HW_ICLSTEER1R_S21P_SETMASK 3<<HW_ICLSTEER1R_S21P_BITPOS
                             5930 ; 668  |#define HW_ICLSTEER1R_S22P_SETMASK 3<<HW_ICLSTEER1R_S22P_BITPOS
                             5931 ; 669  |#define HW_ICLSTEER1R_S23P_SETMASK 3<<HW_ICLSTEER1R_S23P_BITPOS
                             5932 ; 670  |
                             5933 ; 671  |#define HW_ICLSTEER1R_S12P_CLRMASK ~(WORD)HW_ICLSTEER1R_S12P_SETMASK
                             5934 ; 672  |#define HW_ICLSTEER1R_S13P_CLRMASK ~(WORD)HW_ICLSTEER1R_S13P_SETMASK
                             5935 ; 673  |#define HW_ICLSTEER1R_S14P_CLRMASK ~(WORD)HW_ICLSTEER1R_S14P_SETMASK
                             5936 ; 674  |#define HW_ICLSTEER1R_S15P_CLRMASK ~(WORD)HW_ICLSTEER1R_S15P_SETMASK
                             5937 ; 675  |#define HW_ICLSTEER1R_S16P_CLRMASK ~(WORD)HW_ICLSTEER1R_S16P_SETMASK
                             5938 ; 676  |#define HW_ICLSTEER1R_S17P_CLRMASK ~(WORD)HW_ICLSTEER1R_S17P_SETMASK
                             5939 ; 677  |#define HW_ICLSTEER1R_S18P_CLRMASK ~(WORD)HW_ICLSTEER1R_S18P_SETMASK
                             5940 ; 678  |#define HW_ICLSTEER1R_S19P_CLRMASK ~(WORD)HW_ICLSTEER1R_S19P_SETMASK
                             5941 ; 679  |#define HW_ICLSTEER1R_S20P_CLRMASK ~(WORD)HW_ICLSTEER1R_S20P_SETMASK
                             5942 ; 680  |#define HW_ICLSTEER1R_S21P_CLRMASK ~(WORD)HW_ICLSTEER1R_S21P_SETMASK
                             5943 ; 681  |#define HW_ICLSTEER1R_S22P_CLRMASK ~(WORD)HW_ICLSTEER1R_S22P_SETMASK
                             5944 ; 682  |#define HW_ICLSTEER1R_S23P_CLRMASK ~(WORD)HW_ICLSTEER1R_S23P_SETMASK
                             5945 ; 683  |
                             5946 ; 684  |
                             5947 ; 685  |/////////////////////////////////////////////////////////////////////////////////
                             5948 ; 686  |//  Interrupt Collector Steering 2 Register (HW_ICLSTEER2R) Bit Positions
                             5949 ; 687  |typedef union               /* Interrupt Collector Steering 2 Register      */
                             5950 ; 688  |{
                             5951 ; 689  |    struct {
                             5952 ; 690  |        unsigned S24S   :2;
                             5953 ; 691  |        unsigned S25S   :2;
                             5954 ; 692  |        unsigned S26S   :2;
                             5955 ; 693  |        unsigned S27S   :2;
                             5956 ; 694  |        unsigned S28S   :2;
                             5957 ; 695  |        unsigned S29S   :2;
                             5958 ; 696  |        unsigned S30S   :2;
                             5959 ; 697  |        unsigned S31S   :2;
                             5960 ; 698  |        unsigned S32S   :2;
                             5961 ; 699  |        unsigned S33S   :2;
                             5962 ; 700  |    } B;
                             5963 ; 701  |    int I;
                             5964 ; 702  |} iclsteer2_type;
                             5965 ; 703  |#define HW_ICLSTEER2R   (*(volatile iclsteer2_type _X*) (HW_ICOLL_BASEADDR+10)) /* Interrupt Collector Steering Register 2  */
                             5966 ; 704  |
                             5967 ; 705  |#define HW_ICLSTEER2R_S24P_BITPOS 0
                             5968 ; 706  |#define HW_ICLSTEER2R_S25P_BITPOS 2
                             5969 ; 707  |#define HW_ICLSTEER2R_S26P_BITPOS 4
                             5970 ; 708  |#define HW_ICLSTEER2R_S27P_BITPOS 6
                             5971 ; 709  |#define HW_ICLSTEER2R_S28P_BITPOS 8
                             5972 ; 710  |#define HW_ICLSTEER2R_S29P_BITPOS 10
                             5973 ; 711  |#define HW_ICLSTEER2R_S30P_BITPOS 12
                             5974 ; 712  |#define HW_ICLSTEER2R_S31P_BITPOS 14
                             5975 ; 713  |#define HW_ICLSTEER2R_S32P_BITPOS 16
                             5976 ; 714  |#define HW_ICLSTEER2R_S33P_BITPOS 18
                             5977 ; 715  |
                             5978 ; 716  |#define HW_ICLSTEER2R_S24P_SETMASK 3<<HW_ICLSTEER2R_S24P_BITPOS
                             5979 ; 717  |#define HW_ICLSTEER2R_S25P_SETMASK 3<<HW_ICLSTEER2R_S25P_BITPOS
                             5980 ; 718  |#define HW_ICLSTEER2R_S26P_SETMASK 3<<HW_ICLSTEER2R_S26P_BITPOS
                             5981 ; 719  |#define HW_ICLSTEER2R_S27P_SETMASK 3<<HW_ICLSTEER2R_S27P_BITPOS
                             5982 ; 720  |#define HW_ICLSTEER2R_S28P_SETMASK 3<<HW_ICLSTEER2R_S28P_BITPOS
                             5983 ; 721  |#define HW_ICLSTEER2R_S29P_SETMASK 3<<HW_ICLSTEER2R_S29P_BITPOS
                             5984 ; 722  |#define HW_ICLSTEER2R_S30P_SETMASK 3<<HW_ICLSTEER2R_S30P_BITPOS
                             5985 ; 723  |#define HW_ICLSTEER2R_S31P_SETMASK 3<<HW_ICLSTEER2R_S31P_BITPOS
                             5986 ; 724  |#define HW_ICLSTEER2R_S32P_SETMASK 3<<HW_ICLSTEER2R_S32P_BITPOS
                             5987 ; 725  |#define HW_ICLSTEER2R_S33P_SETMASK 3<<HW_ICLSTEER2R_S33P_BITPOS
                             5988 ; 726  |
                             5989 ; 727  |#define HW_ICLSTEER2R_S24P_CLRMASK ~(WORD)HW_ICLSTEER2R_S24P_SETMASK
                             5990 ; 728  |#define HW_ICLSTEER2R_S25P_CLRMASK ~(WORD)HW_ICLSTEER2R_S25P_SETMASK
                             5991 ; 729  |#define HW_ICLSTEER2R_S26P_CLRMASK ~(WORD)HW_ICLSTEER2R_S26P_SETMASK
                             5992 ; 730  |#define HW_ICLSTEER2R_S27P_CLRMASK ~(WORD)HW_ICLSTEER2R_S27P_SETMASK
                             5993 ; 731  |#define HW_ICLSTEER2R_S28P_CLRMASK ~(WORD)HW_ICLSTEER2R_S28P_SETMASK
                             5994 ; 732  |#define HW_ICLSTEER2R_S29P_CLRMASK ~(WORD)HW_ICLSTEER2R_S29P_SETMASK
                             5995 ; 733  |#define HW_ICLSTEER2R_S30P_CLRMASK ~(WORD)HW_ICLSTEER2R_S30P_SETMASK
                             5996 ; 734  |#define HW_ICLSTEER2R_S31P_CLRMASK ~(WORD)HW_ICLSTEER2R_S31P_SETMASK
                             5997 ; 735  |#define HW_ICLSTEER2R_S32P_CLRMASK ~(WORD)HW_ICLSTEER2R_S32P_SETMASK
                             5998 ; 736  |#define HW_ICLSTEER2R_S33P_CLRMASK ~(WORD)HW_ICLSTEER2R_S33P_SETMASK
                             5999 ; 737  |
                             6000 ; 738  |
                             6001 ; 739  |/////////////////////////////////////////////////////////////////////////////////
                             6002 ; 740  |//  Interrupt Collector Debug Force 0 Register (HW_ICLFORCE0R) Bit Positions
                             6003 ; 741  |typedef union               /* Interrupt Collector Debug Force 0 Register       */
                             6004 ; 742  |{
                             6005 ; 743  |    struct {
                             6006 ; 744  |        int S0FV        :1;
                             6007 ; 745  |        int S1FV        :1;
                             6008 ; 746  |        int S2FV        :1;
                             6009 ; 747  |        int S3FV        :1;
                             6010 ; 748  |        int S4FV        :1;
                             6011 ; 749  |        int S5FV        :1;
                             6012 ; 750  |        int S6FV        :1;
                             6013 ; 751  |        int S7FV        :1;
                             6014 ; 752  |        int S8FV        :1;
                             6015 ; 753  |        int S9FV        :1;
                             6016 ; 754  |        int S10FV       :1;
                             6017 ; 755  |        int S11FV       :1;
                             6018 ; 756  |        int S12FV       :1;
                             6019 ; 757  |        int S13FV       :1;
                             6020 ; 758  |        int S14FV       :1;
                             6021 ; 759  |        int S15FV       :1;
                             6022 ; 760  |        int S16FV       :1;
                             6023 ; 761  |        int S17FV       :1;
                             6024 ; 762  |        int S18FV       :1;
                             6025 ; 763  |        int S19FV       :1;
                             6026 ; 764  |        int S20FV       :1;
                             6027 ; 765  |        int S21FV       :1;
                             6028 ; 766  |        int S22FV       :1;
                             6029 ; 767  |        int S23FV       :1;
                             6030 ; 768  |    } B;
                             6031 ; 769  |    int I;
                             6032 ; 770  |} iclforce0_type;
                             6033 ; 771  |#define HW_ICLFORCE0R   (*(volatile iclforce0_type _X*) (HW_ICOLL_BASEADDR+11)) /* Interrupt Collector Debug Force Register 0   */
                             6034 ; 772  |#define HW_ICLFORCE0R_S0FV_BITPOS 0
                             6035 ; 773  |#define HW_ICLFORCE0R_S1FV_BITPOS 1
                             6036 ; 774  |#define HW_ICLFORCE0R_S2FV_BITPOS 2
                             6037 ; 775  |#define HW_ICLFORCE0R_S3FV_BITPOS 3
                             6038 ; 776  |#define HW_ICLFORCE0R_S4FV_BITPOS 4
                             6039 ; 777  |#define HW_ICLFORCE0R_S5FV_BITPOS 5
                             6040 ; 778  |#define HW_ICLFORCE0R_S6FV_BITPOS 6
                             6041 ; 779  |#define HW_ICLFORCE0R_S7FV_BITPOS 7
                             6042 ; 780  |#define HW_ICLFORCE0R_S8FV_BITPOS 8
                             6043 ; 781  |#define HW_ICLFORCE0R_S9FV_BITPOS 9
                             6044 ; 782  |#define HW_ICLFORCE0R_S10FV_BITPOS 10
                             6045 ; 783  |#define HW_ICLFORCE0R_S11FV_BITPOS 11
                             6046 ; 784  |#define HW_ICLFORCE0R_S12FV_BITPOS 12
                             6047 ; 785  |#define HW_ICLFORCE0R_S13FV_BITPOS 13
                             6048 ; 786  |#define HW_ICLFORCE0R_S14FV_BITPOS 14
                             6049 ; 787  |#define HW_ICLFORCE0R_S15FV_BITPOS 15
                             6050 ; 788  |#define HW_ICLFORCE0R_S16FV_BITPOS 16
                             6051 ; 789  |#define HW_ICLFORCE0R_S17FV_BITPOS 17
                             6052 ; 790  |#define HW_ICLFORCE0R_S18FV_BITPOS 18
                             6053 ; 791  |#define HW_ICLFORCE0R_S19FV_BITPOS 19
                             6054 ; 792  |#define HW_ICLFORCE0R_S20FV_BITPOS 20
                             6055 ; 793  |#define HW_ICLFORCE0R_S21FV_BITPOS 21
                             6056 ; 794  |#define HW_ICLFORCE0R_S22FV_BITPOS 22
                             6057 ; 795  |#define HW_ICLFORCE0R_S23FV_BITPOS 23
                             6058 ; 796  |
                             6059 ; 797  |#define HW_ICLFORCE0R_S0FV_SETMASK 1<<HW_ICLFORCE0R_S0FV_BITPOS
                             6060 ; 798  |#define HW_ICLFORCE0R_S1FV_SETMASK 1<<HW_ICLFORCE0R_S1FV_BITPOS
                             6061 ; 799  |#define HW_ICLFORCE0R_S2FV_SETMASK 1<<HW_ICLFORCE0R_S2FV_BITPOS
                             6062 ; 800  |#define HW_ICLFORCE0R_S3FV_SETMASK 1<<HW_ICLFORCE0R_S3FV_BITPOS
                             6063 ; 801  |#define HW_ICLFORCE0R_S4FV_SETMASK 1<<HW_ICLFORCE0R_S4FV_BITPOS
                             6064 ; 802  |#define HW_ICLFORCE0R_S5FV_SETMASK 1<<HW_ICLFORCE0R_S5FV_BITPOS
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page  25

M:ADDR CODE           CYCLES LINE SOURCELINE
                             6065 ; 803  |#define HW_ICLFORCE0R_S6FV_SETMASK 1<<HW_ICLFORCE0R_S6FV_BITPOS
                             6066 ; 804  |#define HW_ICLFORCE0R_S7FV_SETMASK 1<<HW_ICLFORCE0R_S7FV_BITPOS
                             6067 ; 805  |#define HW_ICLFORCE0R_S8FV_SETMASK 1<<HW_ICLFORCE0R_S8FV_BITPOS
                             6068 ; 806  |#define HW_ICLFORCE0R_S9FV_SETMASK 1<<HW_ICLFORCE0R_S9FV_BITPOS
                             6069 ; 807  |#define HW_ICLFORCE0R_S10FV_SETMASK 1<<HW_ICLFORCE0R_S10FV_BITPOS
                             6070 ; 808  |#define HW_ICLFORCE0R_S11FV_SETMASK 1<<HW_ICLFORCE0R_S11FV_BITPOS
                             6071 ; 809  |#define HW_ICLFORCE0R_S12FV_SETMASK 1<<HW_ICLFORCE0R_S12FV_BITPOS
                             6072 ; 810  |#define HW_ICLFORCE0R_S13FV_SETMASK 1<<HW_ICLFORCE0R_S13FV_BITPOS
                             6073 ; 811  |#define HW_ICLFORCE0R_S14FV_SETMASK 1<<HW_ICLFORCE0R_S14FV_BITPOS
                             6074 ; 812  |#define HW_ICLFORCE0R_S15FV_SETMASK 1<<HW_ICLFORCE0R_S15FV_BITPOS
                             6075 ; 813  |#define HW_ICLFORCE0R_S16FV_SETMASK 1<<HW_ICLFORCE0R_S16FV_BITPOS
                             6076 ; 814  |#define HW_ICLFORCE0R_S17FV_SETMASK 1<<HW_ICLFORCE0R_S17FV_BITPOS
                             6077 ; 815  |#define HW_ICLFORCE0R_S18FV_SETMASK 1<<HW_ICLFORCE0R_S18FV_BITPOS
                             6078 ; 816  |#define HW_ICLFORCE0R_S19FV_SETMASK 1<<HW_ICLFORCE0R_S19FV_BITPOS
                             6079 ; 817  |#define HW_ICLFORCE0R_S20FV_SETMASK 1<<HW_ICLFORCE0R_S20FV_BITPOS
                             6080 ; 818  |#define HW_ICLFORCE0R_S21FV_SETMASK 1<<HW_ICLFORCE0R_S21FV_BITPOS
                             6081 ; 819  |#define HW_ICLFORCE0R_S22FV_SETMASK 1<<HW_ICLFORCE0R_S22FV_BITPOS
                             6082 ; 820  |#define HW_ICLFORCE0R_S23FV_SETMASK 1<<HW_ICLFORCE0R_S23FV_BITPOS
                             6083 ; 821  |
                             6084 ; 822  |#define HW_ICLFORCE0R_S0FV_CLRMASK ~(WORD)HW_ICLFORCE0R_S0FV_SETMASK
                             6085 ; 823  |#define HW_ICLFORCE0R_S1FV_CLRMASK ~(WORD)HW_ICLFORCE0R_S1FV_SETMASK
                             6086 ; 824  |#define HW_ICLFORCE0R_S2FV_CLRMASK ~(WORD)HW_ICLFORCE0R_S2FV_SETMASK
                             6087 ; 825  |#define HW_ICLFORCE0R_S3FV_CLRMASK ~(WORD)HW_ICLFORCE0R_S3FV_SETMASK
                             6088 ; 826  |#define HW_ICLFORCE0R_S4FV_CLRMASK ~(WORD)HW_ICLFORCE0R_S4FV_SETMASK
                             6089 ; 827  |#define HW_ICLFORCE0R_S5FV_CLRMASK ~(WORD)HW_ICLFORCE0R_S5FV_SETMASK
                             6090 ; 828  |#define HW_ICLFORCE0R_S6FV_CLRMASK ~(WORD)HW_ICLFORCE0R_S6FV_SETMASK
                             6091 ; 829  |#define HW_ICLFORCE0R_S7FV_CLRMASK ~(WORD)HW_ICLFORCE0R_S7FV_SETMASK
                             6092 ; 830  |#define HW_ICLFORCE0R_S8FV_CLRMASK ~(WORD)HW_ICLFORCE0R_S8FV_SETMASK
                             6093 ; 831  |#define HW_ICLFORCE0R_S9FV_CLRMASK ~(WORD)HW_ICLFORCE0R_S9FV_SETMASK
                             6094 ; 832  |#define HW_ICLFORCE0R_S10FV_CLRMASK ~(WORD)HW_ICLFORCE0R_S10FV_SETMASK
                             6095 ; 833  |#define HW_ICLFORCE0R_S11FV_CLRMASK ~(WORD)HW_ICLFORCE0R_S11FV_SETMASK
                             6096 ; 834  |#define HW_ICLFORCE0R_S12FV_CLRMASK ~(WORD)HW_ICLFORCE0R_S12FV_SETMASK
                             6097 ; 835  |#define HW_ICLFORCE0R_S13FV_CLRMASK ~(WORD)HW_ICLFORCE0R_S13FV_SETMASK
                             6098 ; 836  |#define HW_ICLFORCE0R_S14FV_CLRMASK ~(WORD)HW_ICLFORCE0R_S14FV_SETMASK
                             6099 ; 837  |#define HW_ICLFORCE0R_S15FV_CLRMASK ~(WORD)HW_ICLFORCE0R_S15FV_SETMASK
                             6100 ; 838  |#define HW_ICLFORCE0R_S16FV_CLRMASK ~(WORD)HW_ICLFORCE0R_S16FV_SETMASK
                             6101 ; 839  |#define HW_ICLFORCE0R_S17FV_CLRMASK ~(WORD)HW_ICLFORCE0R_S17FV_SETMASK
                             6102 ; 840  |#define HW_ICLFORCE0R_S18FV_CLRMASK ~(WORD)HW_ICLFORCE0R_S18FV_SETMASK
                             6103 ; 841  |#define HW_ICLFORCE0R_S19FV_CLRMASK ~(WORD)HW_ICLFORCE0R_S19FV_SETMASK
                             6104 ; 842  |#define HW_ICLFORCE0R_S20FV_CLRMASK ~(WORD)HW_ICLFORCE0R_S20FV_SETMASK
                             6105 ; 843  |#define HW_ICLFORCE0R_S21FV_CLRMASK ~(WORD)HW_ICLFORCE0R_S21FV_SETMASK
                             6106 ; 844  |#define HW_ICLFORCE0R_S22FV_CLRMASK ~(WORD)HW_ICLFORCE0R_S22FV_SETMASK
                             6107 ; 845  |#define HW_ICLFORCE0R_S23FV_CLRMASK ~(WORD)HW_ICLFORCE0R_S23FV_SETMASK
                             6108 ; 846  |
                             6109 ; 847  |
                             6110 ; 848  |/////////////////////////////////////////////////////////////////////////////////
                             6111 ; 849  |//  Interrupt Collector Debug Force 1 Register (HW_ICLFORCE1R) Bit Positions
                             6112 ; 850  |typedef union               /* Interrupt Debug Force 1 Register     */
                             6113 ; 851  |{
                             6114 ; 852  |    struct {
                             6115 ; 853  |        int S24FV       :1;
                             6116 ; 854  |        int S25FV       :1;
                             6117 ; 855  |        int S26FV       :1;
                             6118 ; 856  |        int S27FV       :1;
                             6119 ; 857  |        int S28FV       :1;
                             6120 ; 858  |        int S29FV       :1;
                             6121 ; 859  |        int S30FV       :1;
                             6122 ; 860  |        int S31FV       :1;
                             6123 ; 861  |        int S32FV       :1;
                             6124 ; 862  |        int S33FV       :1;
                             6125 ; 863  |    } B;
                             6126 ; 864  |    int I;
                             6127 ; 865  |} iclforce1_type;
                             6128 ; 866  |#define HW_ICLFORCE1R   (*(volatile iclforce1_type _X*) (HW_ICOLL_BASEADDR+12)) /* Interrupt Collector Debug Force Register 1   */
                             6129 ; 867  |
                             6130 ; 868  |#define HW_ICLFORCE1R_S24FV_BITPOS 0
                             6131 ; 869  |#define HW_ICLFORCE1R_S25FV_BITPOS 1
                             6132 ; 870  |#define HW_ICLFORCE1R_S26FV_BITPOS 2
                             6133 ; 871  |#define HW_ICLFORCE1R_S27FV_BITPOS 3
                             6134 ; 872  |#define HW_ICLFORCE1R_S28FV_BITPOS 4
                             6135 ; 873  |#define HW_ICLFORCE1R_S29FV_BITPOS 5
                             6136 ; 874  |#define HW_ICLFORCE1R_S30FV_BITPOS 6
                             6137 ; 875  |#define HW_ICLFORCE1R_S31FV_BITPOS 7
                             6138 ; 876  |#define HW_ICLFORCE1R_S32FV_BITPOS 8
                             6139 ; 877  |#define HW_ICLFORCE1R_S33FV_BITPOS 9
                             6140 ; 878  |
                             6141 ; 879  |#define HW_ICLFORCE1R_S24FV_SETMASK 1<<HW_ICLFORCE1R_S24FV_BITPOS
                             6142 ; 880  |#define HW_ICLFORCE1R_S25FV_SETMASK 1<<HW_ICLFORCE1R_S25FV_BITPOS
                             6143 ; 881  |#define HW_ICLFORCE1R_S26FV_SETMASK 1<<HW_ICLFORCE1R_S26FV_BITPOS
                             6144 ; 882  |#define HW_ICLFORCE1R_S27FV_SETMASK 1<<HW_ICLFORCE1R_S27FV_BITPOS
                             6145 ; 883  |#define HW_ICLFORCE1R_S28FV_SETMASK 1<<HW_ICLFORCE1R_S28FV_BITPOS
                             6146 ; 884  |#define HW_ICLFORCE1R_S29FV_SETMASK 1<<HW_ICLFORCE1R_S29FV_BITPOS
                             6147 ; 885  |#define HW_ICLFORCE1R_S30FV_SETMASK 1<<HW_ICLFORCE1R_S30FV_BITPOS
                             6148 ; 886  |#define HW_ICLFORCE1R_S31FV_SETMASK 1<<HW_ICLFORCE1R_S31FV_BITPOS
                             6149 ; 887  |#define HW_ICLFORCE1R_S32FV_SETMASK 1<<HW_ICLFORCE1R_S32FV_BITPOS
                             6150 ; 888  |#define HW_ICLFORCE1R_S33FV_SETMASK 1<<HW_ICLFORCE1R_S33FV_BITPOS
                             6151 ; 889  |
                             6152 ; 890  |#define HW_ICLFORCE1R_S24FV_CLRMASK ~(WORD)HW_ICLFORCE1R_S24FV_SETMASK
                             6153 ; 891  |#define HW_ICLFORCE1R_S25FV_CLRMASK ~(WORD)HW_ICLFORCE1R_S25FV_SETMASK
                             6154 ; 892  |#define HW_ICLFORCE1R_S26FV_CLRMASK ~(WORD)HW_ICLFORCE1R_S26FV_SETMASK
                             6155 ; 893  |#define HW_ICLFORCE1R_S27FV_CLRMASK ~(WORD)HW_ICLFORCE1R_S27FV_SETMASK
                             6156 ; 894  |#define HW_ICLFORCE1R_S28FV_CLRMASK ~(WORD)HW_ICLFORCE1R_S28FV_SETMASK
                             6157 ; 895  |#define HW_ICLFORCE1R_S29FV_CLRMASK ~(WORD)HW_ICLFORCE1R_S29FV_SETMASK
                             6158 ; 896  |#define HW_ICLFORCE1R_S30FV_CLRMASK ~(WORD)HW_ICLFORCE1R_S30FV_SETMASK
                             6159 ; 897  |#define HW_ICLFORCE1R_S31FV_CLRMASK ~(WORD)HW_ICLFORCE1R_S31FV_SETMASK
                             6160 ; 898  |#define HW_ICLFORCE1R_S32FV_CLRMASK ~(WORD)HW_ICLFORCE1R_S32FV_SETMASK
                             6161 ; 899  |#define HW_ICLFORCE1R_S33FV_CLRMASK ~(WORD)HW_ICLFORCE1R_S33FV_SETMASK
                             6162 ; 900  |
                             6163 ; 901  |
                             6164 ; 902  |/////////////////////////////////////////////////////////////////////////////////
                             6165 ; 903  |//  Interrupt Collector Force Enable 0 Register (HW_ICLFENABLE0R) Bit Positions
                             6166 ; 904  |typedef union               /* Interrupt Collector Force Enable 0 Register      */
                             6167 ; 905  |{
                             6168 ; 906  |    struct {
                             6169 ; 907  |        int S0FE        :1;
                             6170 ; 908  |        int S1FE        :1;
                             6171 ; 909  |        int S2FE        :1;
                             6172 ; 910  |        int S3FE        :1;
                             6173 ; 911  |        int S4FE        :1;
                             6174 ; 912  |        int S5FE        :1;
                             6175 ; 913  |        int S6FE        :1;
                             6176 ; 914  |        int S7FE        :1;
                             6177 ; 915  |        int S8FE        :1;
                             6178 ; 916  |        int S9FE        :1;
                             6179 ; 917  |        int S10FE       :1;
                             6180 ; 918  |        int S11FE       :1;
                             6181 ; 919  |        int S12FE       :1;
                             6182 ; 920  |        int S13FE       :1;
                             6183 ; 921  |        int S14FE       :1;
                             6184 ; 922  |        int S15FE       :1;
                             6185 ; 923  |        int S16FE       :1;
                             6186 ; 924  |        int S17FE       :1;
                             6187 ; 925  |        int S18FE       :1;
                             6188 ; 926  |        int S19FE       :1;
                             6189 ; 927  |        int S20FE       :1;
                             6190 ; 928  |        int S21FE       :1;
                             6191 ; 929  |        int S22FE       :1;
                             6192 ; 930  |        int S23FE       :1;
                             6193 ; 931  |    } B;
                             6194 ; 932  |    int I;
                             6195 ; 933  |} iclfenable0_type;
                             6196 ; 934  |#define HW_ICLFENABLE0R (*(volatile iclfenable0_type _X*) (HW_ICOLL_BASEADDR+13)) /* Interrupt Collector Force Enable Register 0    */
                             6197 ; 935  |
                             6198 ; 936  |#define HW_ICLFENABLE0R_S0FE_BITPOS 0
                             6199 ; 937  |#define HW_ICLFENABLE0R_S1FE_BITPOS 1
                             6200 ; 938  |#define HW_ICLFENABLE0R_S2FE_BITPOS 2
                             6201 ; 939  |#define HW_ICLFENABLE0R_S3FE_BITPOS 3
                             6202 ; 940  |#define HW_ICLFENABLE0R_S4FE_BITPOS 4
                             6203 ; 941  |#define HW_ICLFENABLE0R_S5FE_BITPOS 5
                             6204 ; 942  |#define HW_ICLFENABLE0R_S6FE_BITPOS 6
                             6205 ; 943  |#define HW_ICLFENABLE0R_S7FE_BITPOS 7
                             6206 ; 944  |#define HW_ICLFENABLE0R_S8FE_BITPOS 8
                             6207 ; 945  |#define HW_ICLFENABLE0R_S9FE_BITPOS 9
                             6208 ; 946  |#define HW_ICLFENABLE0R_S10FE_BITPOS 10
                             6209 ; 947  |#define HW_ICLFENABLE0R_S11FE_BITPOS 11
                             6210 ; 948  |#define HW_ICLFENABLE0R_S12FE_BITPOS 12
                             6211 ; 949  |#define HW_ICLFENABLE0R_S13FE_BITPOS 13
                             6212 ; 950  |#define HW_ICLFENABLE0R_S14FE_BITPOS 14
                             6213 ; 951  |#define HW_ICLFENABLE0R_S15FE_BITPOS 15
                             6214 ; 952  |#define HW_ICLFENABLE0R_S16FE_BITPOS 16
                             6215 ; 953  |#define HW_ICLFENABLE0R_S17FE_BITPOS 17
                             6216 ; 954  |#define HW_ICLFENABLE0R_S18FE_BITPOS 18
                             6217 ; 955  |#define HW_ICLFENABLE0R_S19FE_BITPOS 19
                             6218 ; 956  |#define HW_ICLFENABLE0R_S20FE_BITPOS 20
                             6219 ; 957  |#define HW_ICLFENABLE0R_S21FE_BITPOS 21
                             6220 ; 958  |#define HW_ICLFENABLE0R_S22FE_BITPOS 22
                             6221 ; 959  |#define HW_ICLFENABLE0R_S23FE_BITPOS 23
                             6222 ; 960  |
                             6223 ; 961  |#define HW_ICLFENABLE0R_S0FE_SETMASK 1<<HW_ICLFENABLE0R_S0FE_BITPOS
                             6224 ; 962  |#define HW_ICLFENABLE0R_S1FE_SETMASK 1<<HW_ICLFENABLE0R_S1FE_BITPOS
                             6225 ; 963  |#define HW_ICLFENABLE0R_S2FE_SETMASK 1<<HW_ICLFENABLE0R_S2FE_BITPOS
                             6226 ; 964  |#define HW_ICLFENABLE0R_S3FE_SETMASK 1<<HW_ICLFENABLE0R_S3FE_BITPOS
                             6227 ; 965  |#define HW_ICLFENABLE0R_S4FE_SETMASK 1<<HW_ICLFENABLE0R_S4FE_BITPOS
                             6228 ; 966  |#define HW_ICLFENABLE0R_S5FE_SETMASK 1<<HW_ICLFENABLE0R_S5FE_BITPOS
                             6229 ; 967  |#define HW_ICLFENABLE0R_S6FE_SETMASK 1<<HW_ICLFENABLE0R_S6FE_BITPOS
                             6230 ; 968  |#define HW_ICLFENABLE0R_S7FE_SETMASK 1<<HW_ICLFENABLE0R_S7FE_BITPOS
                             6231 ; 969  |#define HW_ICLFENABLE0R_S8FE_SETMASK 1<<HW_ICLFENABLE0R_S8FE_BITPOS
                             6232 ; 970  |#define HW_ICLFENABLE0R_S9FE_SETMASK 1<<HW_ICLFENABLE0R_S9FE_BITPOS
                             6233 ; 971  |#define HW_ICLFENABLE0R_S10FE_SETMASK 1<<HW_ICLFENABLE0R_S10FE_BITPOS
                             6234 ; 972  |#define HW_ICLFENABLE0R_S11FE_SETMASK 1<<HW_ICLFENABLE0R_S11FE_BITPOS
                             6235 ; 973  |#define HW_ICLFENABLE0R_S12FE_SETMASK 1<<HW_ICLFENABLE0R_S12FE_BITPOS
                             6236 ; 974  |#define HW_ICLFENABLE0R_S13FE_SETMASK 1<<HW_ICLFENABLE0R_S13FE_BITPOS
                             6237 ; 975  |#define HW_ICLFENABLE0R_S14FE_SETMASK 1<<HW_ICLFENABLE0R_S14FE_BITPOS
                             6238 ; 976  |#define HW_ICLFENABLE0R_S15FE_SETMASK 1<<HW_ICLFENABLE0R_S15FE_BITPOS
                             6239 ; 977  |#define HW_ICLFENABLE0R_S16FE_SETMASK 1<<HW_ICLFENABLE0R_S16FE_BITPOS
                             6240 ; 978  |#define HW_ICLFENABLE0R_S17FE_SETMASK 1<<HW_ICLFENABLE0R_S17FE_BITPOS
                             6241 ; 979  |#define HW_ICLFENABLE0R_S18FE_SETMASK 1<<HW_ICLFENABLE0R_S18FE_BITPOS
                             6242 ; 980  |#define HW_ICLFENABLE0R_S19FE_SETMASK 1<<HW_ICLFENABLE0R_S19FE_BITPOS
                             6243 ; 981  |#define HW_ICLFENABLE0R_S20FE_SETMASK 1<<HW_ICLFENABLE0R_S20FE_BITPOS
                             6244 ; 982  |#define HW_ICLFENABLE0R_S21FE_SETMASK 1<<HW_ICLFENABLE0R_S21FE_BITPOS
                             6245 ; 983  |#define HW_ICLFENABLE0R_S22FE_SETMASK 1<<HW_ICLFENABLE0R_S22FE_BITPOS
                             6246 ; 984  |#define HW_ICLFENABLE0R_S23FE_SETMASK 1<<HW_ICLFENABLE0R_S23FE_BITPOS
                             6247 ; 985  |
                             6248 ; 986  |#define HW_ICLFENABLE0R_S0FE_CLRMASK ~(WORD)HW_ICLFENABLE0R_S0FE_SETMASK
                             6249 ; 987  |#define HW_ICLFENABLE0R_S1FE_CLRMASK ~(WORD)HW_ICLFENABLE0R_S1FE_SETMASK
                             6250 ; 988  |#define HW_ICLFENABLE0R_S2FE_CLRMASK ~(WORD)HW_ICLFENABLE0R_S2FE_SETMASK
                             6251 ; 989  |#define HW_ICLFENABLE0R_S3FE_CLRMASK ~(WORD)HW_ICLFENABLE0R_S3FE_SETMASK
                             6252 ; 990  |#define HW_ICLFENABLE0R_S4FE_CLRMASK ~(WORD)HW_ICLFENABLE0R_S4FE_SETMASK
                             6253 ; 991  |#define HW_ICLFENABLE0R_S5FE_CLRMASK ~(WORD)HW_ICLFENABLE0R_S5FE_SETMASK
                             6254 ; 992  |#define HW_ICLFENABLE0R_S6FE_CLRMASK ~(WORD)HW_ICLFENABLE0R_S6FE_SETMASK
                             6255 ; 993  |#define HW_ICLFENABLE0R_S7FE_CLRMASK ~(WORD)HW_ICLFENABLE0R_S7FE_SETMASK
                             6256 ; 994  |#define HW_ICLFENABLE0R_S8FE_CLRMASK ~(WORD)HW_ICLFENABLE0R_S8FE_SETMASK
                             6257 ; 995  |#define HW_ICLFENABLE0R_S9FE_CLRMASK ~(WORD)HW_ICLFENABLE0R_S9FE_SETMASK
                             6258 ; 996  |#define HW_ICLFENABLE0R_S10FE_CLRMASK ~(WORD)HW_ICLFENABLE0R_S10FE_SETMASK
                             6259 ; 997  |#define HW_ICLFENABLE0R_S11FE_CLRMASK ~(WORD)HW_ICLFENABLE0R_S11FE_SETMASK
                             6260 ; 998  |#define HW_ICLFENABLE0R_S12FE_CLRMASK ~(WORD)HW_ICLFENABLE0R_S12FE_SETMASK
                             6261 ; 999  |#define HW_ICLFENABLE0R_S13FE_CLRMASK ~(WORD)HW_ICLFENABLE0R_S13FE_SETMASK
                             6262 ; 1000 |#define HW_ICLFENABLE0R_S14FE_CLRMASK ~(WORD)HW_ICLFENABLE0R_S14FE_SETMASK
                             6263 ; 1001 |#define HW_ICLFENABLE0R_S15FE_CLRMASK ~(WORD)HW_ICLFENABLE0R_S15FE_SETMASK
                             6264 ; 1002 |#define HW_ICLFENABLE0R_S16FE_CLRMASK ~(WORD)HW_ICLFENABLE0R_S16FE_SETMASK
                             6265 ; 1003 |#define HW_ICLFENABLE0R_S17FE_CLRMASK ~(WORD)HW_ICLFENABLE0R_S17FE_SETMASK
                             6266 ; 1004 |#define HW_ICLFENABLE0R_S18FE_CLRMASK ~(WORD)HW_ICLFENABLE0R_S18FE_SETMASK
                             6267 ; 1005 |#define HW_ICLFENABLE0R_S19FE_CLRMASK ~(WORD)HW_ICLFENABLE0R_S19FE_SETMASK
                             6268 ; 1006 |#define HW_ICLFENABLE0R_S20FE_CLRMASK ~(WORD)HW_ICLFENABLE0R_S20FE_SETMASK
                             6269 ; 1007 |#define HW_ICLFENABLE0R_S21FE_CLRMASK ~(WORD)HW_ICLFENABLE0R_S21FE_SETMASK
                             6270 ; 1008 |#define HW_ICLFENABLE0R_S22FE_CLRMASK ~(WORD)HW_ICLFENABLE0R_S22FE_SETMASK
                             6271 ; 1009 |#define HW_ICLFENABLE0R_S23FE_CLRMASK ~(WORD)HW_ICLFENABLE0R_S23FE_SETMASK
                             6272 ; 1010 |
                             6273 ; 1011 |
                             6274 ; 1012 |/////////////////////////////////////////////////////////////////////////////////
                             6275 ; 1013 |//  Interrupt Collector Force Enable 1 Register (HW_ICLFENABLE1R) Bit Positions
                             6276 ; 1014 |typedef union               /* Interrupt Collector Force Enable 1 Register      */
                             6277 ; 1015 |{
                             6278 ; 1016 |    struct {
                             6279 ; 1017 |        int S24FE       :1;
                             6280 ; 1018 |        int S25FE       :1;
                             6281 ; 1019 |        int S26FE       :1;
                             6282 ; 1020 |        int S27FE       :1;
                             6283 ; 1021 |        int S28FE       :1;
                             6284 ; 1022 |        int S29FE       :1;
                             6285 ; 1023 |        int S30FE       :1;
                             6286 ; 1024 |        int S31FE       :1;
                             6287 ; 1025 |        int S32FE       :1;
                             6288 ; 1026 |        int S33FE       :1;
                             6289 ; 1027 |    } B;
                             6290 ; 1028 |    int I;
                             6291 ; 1029 |} iclfenable1_type;
                             6292 ; 1030 |#define HW_ICLFENABLE1R (*(volatile iclfenable1_type _X*) (HW_ICOLL_BASEADDR+14)) /* Interrupt Collector Force Enable Register 1    */
                             6293 ; 1031 |#define HW_ICLFENABLE1R_S24FE_BITPOS 0
                             6294 ; 1032 |#define HW_ICLFENABLE1R_S25FE_BITPOS 1
                             6295 ; 1033 |#define HW_ICLFENABLE1R_S26FE_BITPOS 2
                             6296 ; 1034 |#define HW_ICLFENABLE1R_S27FE_BITPOS 3
                             6297 ; 1035 |#define HW_ICLFENABLE1R_S28FE_BITPOS 4
                             6298 ; 1036 |#define HW_ICLFENABLE1R_S29FE_BITPOS 5
                             6299 ; 1037 |#define HW_ICLFENABLE1R_S30FE_BITPOS 6
                             6300 ; 1038 |#define HW_ICLFENABLE1R_S31FE_BITPOS 7
                             6301 ; 1039 |#define HW_ICLFENABLE1R_S32FE_BITPOS 8
                             6302 ; 1040 |#define HW_ICLFENABLE1R_S33FE_BITPOS 9
                             6303 ; 1041 |
                             6304 ; 1042 |#define HW_ICLFENABLE1R_S24FE_SETMASK 1<<HW_ICLFENABLE1R_S24FE_BITPOS
                             6305 ; 1043 |#define HW_ICLFENABLE1R_S25FE_SETMASK 1<<HW_ICLFENABLE1R_S25FE_BITPOS
                             6306 ; 1044 |#define HW_ICLFENABLE1R_S26FE_SETMASK 1<<HW_ICLFENABLE1R_S26FE_BITPOS
                             6307 ; 1045 |#define HW_ICLFENABLE1R_S27FE_SETMASK 1<<HW_ICLFENABLE1R_S27FE_BITPOS
                             6308 ; 1046 |#define HW_ICLFENABLE1R_S28FE_SETMASK 1<<HW_ICLFENABLE1R_S28FE_BITPOS
                             6309 ; 1047 |#define HW_ICLFENABLE1R_S29FE_SETMASK 1<<HW_ICLFENABLE1R_S29FE_BITPOS
                             6310 ; 1048 |#define HW_ICLFENABLE1R_S30FE_SETMASK 1<<HW_ICLFENABLE1R_S30FE_BITPOS
                             6311 ; 1049 |#define HW_ICLFENABLE1R_S31FE_SETMASK 1<<HW_ICLFENABLE1R_S31FE_BITPOS
                             6312 ; 1050 |#define HW_ICLFENABLE1R_S32FE_SETMASK 1<<HW_ICLFENABLE1R_S32FE_BITPOS
                             6313 ; 1051 |#define HW_ICLFENABLE1R_S33FE_SETMASK 1<<HW_ICLFENABLE1R_S33FE_BITPOS
                             6314 ; 1052 |
                             6315 ; 1053 |#define HW_ICLFENABLE1R_S24FE_CLRMASK ~(WORD)HW_ICLFENABLE1R_S24FE_SETMASK
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page  26

M:ADDR CODE           CYCLES LINE SOURCELINE
                             6316 ; 1054 |#define HW_ICLFENABLE1R_S25FE_CLRMASK ~(WORD)HW_ICLFENABLE1R_S25FE_SETMASK
                             6317 ; 1055 |#define HW_ICLFENABLE1R_S26FE_CLRMASK ~(WORD)HW_ICLFENABLE1R_S26FE_SETMASK
                             6318 ; 1056 |#define HW_ICLFENABLE1R_S27FE_CLRMASK ~(WORD)HW_ICLFENABLE1R_S27FE_SETMASK
                             6319 ; 1057 |#define HW_ICLFENABLE1R_S28FE_CLRMASK ~(WORD)HW_ICLFENABLE1R_S28FE_SETMASK
                             6320 ; 1058 |#define HW_ICLFENABLE1R_S29FE_CLRMASK ~(WORD)HW_ICLFENABLE1R_S29FE_SETMASK
                             6321 ; 1059 |#define HW_ICLFENABLE1R_S30FE_CLRMASK ~(WORD)HW_ICLFENABLE1R_S30FE_SETMASK
                             6322 ; 1060 |#define HW_ICLFENABLE1R_S31FE_CLRMASK ~(WORD)HW_ICLFENABLE1R_S31FE_SETMASK
                             6323 ; 1061 |#define HW_ICLFENABLE1R_S32FE_CLRMASK ~(WORD)HW_ICLFENABLE1R_S32FE_SETMASK
                             6324 ; 1062 |#define HW_ICLFENABLE1R_S33FE_CLRMASK ~(WORD)HW_ICLFENABLE1R_S33FE_SETMASK
                             6325 ; 1063 |
                             6326 ; 1064 |
                             6327 ; 1065 |/////////////////////////////////////////////////////////////////////////////////
                             6328 ; 1066 |//  Interrupt Collector Observation Register 0 Register (HW_ICLOBSVZ0R) Bit Positions
                             6329 ; 1067 |typedef union               /* Interrupt Collector Observation Register 0       */
                             6330 ; 1068 |{
                             6331 ; 1069 |    struct {
                             6332 ; 1070 |        unsigned RQ     :7;
                             6333 ; 1071 |        unsigned IVA    :7;
                             6334 ; 1072 |        unsigned IVB    :7;
                             6335 ; 1073 |    } B;
                             6336 ; 1074 |    int I;
                             6337 ; 1075 |} iclobsvz0_type;
                             6338 ; 1076 |#define HW_ICLOBSVZ0R   (*(volatile iclobsvz0_type _X*) (HW_ICOLL_BASEADDR+15)) /* Interrupt Collector Observation Register 0   */
                             6339 ; 1077 |
                             6340 ; 1078 |#define HW_ICLOBSVZ0R_RQ_BITPOS 0
                             6341 ; 1079 |#define HW_ICLOBSVZ0R_IVA_BITPOS 7
                             6342 ; 1080 |#define HW_ICLOBSVZ0R_IVB_BITPOS 14
                             6343 ; 1081 |
                             6344 ; 1082 |#define HW_ICLOBSVZ0R_RQ_SETMASK 0x3F<<HW_ICLOBSVZ0R_RQ_BITPOS
                             6345 ; 1083 |#define HW_ICLOBSVZ0R_IVA_SETMASK 0x3F<<HW_ICLOBSVZ0R_IVA_BITPOS
                             6346 ; 1084 |#define HW_ICLOBSVZ0R_IVB_SETMASK 0x3F<<HW_ICLOBSVZ0R_IVB_BITPOS
                             6347 ; 1085 |
                             6348 ; 1086 |#define HW_ICLOBSVZ0R_RQ_CLRMASK ~(WORD)HW_ICLOBSVZ0R_RQ_SETMASK
                             6349 ; 1087 |#define HW_ICLOBSVZ0R_IVA_CLRMASK ~(WORD)HW_ICLOBSVZ0R_IVA_SETMASK
                             6350 ; 1088 |#define HW_ICLOBSVZ0R_IVB_CLRMASK ~(WORD)HW_ICLOBSVZ0R_IVB_SETMASK
                             6351 ; 1089 |
                             6352 ; 1090 |
                             6353 ; 1091 |/////////////////////////////////////////////////////////////////////////////////
                             6354 ; 1092 |//  Interrupt Collector Observation Register 1 Register (HW_ICL1BSVZ0R) Bit Positions
                             6355 ; 1093 |#define HW_ICL1BSVZ0R_IVC_BITPOS 0
                             6356 ; 1094 |#define HW_ICL1BSVZ0R_IVD_BITPOS 7
                             6357 ; 1095 |
                             6358 ; 1096 |#define HW_ICL1BSVZ0R_IVC_SETMASK 0x3F<<HW_ICL1BSVZ0R_IVC_BITPOS
                             6359 ; 1097 |#define HW_ICL1BSVZ0R_IVD_SETMASK 0x3F<<HW_ICL1BSVZ0R_IVD_BITPOS
                             6360 ; 1098 |
                             6361 ; 1099 |#define HW_ICL1BSVZ0R_IVC_CLRMASK ~(WORD)HW_ICL1BSVZ0R_IVC_SETMASK
                             6362 ; 1100 |#define HW_ICL1BSVZ0R_IVD_CLRMASK ~(WORD)HW_ICL1BSVZ0R_IVD_SETMASK
                             6363 ; 1101 |
                             6364 ; 1102 |
                             6365 ; 1103 |
                             6366 ; 1104 |
                             6367 ; 1105 |/////////////////////////////////////////////////////////////////////////////////
                             6368 ; 1106 |//  Interrupt Vectors
                             6369 ; 1107 |/////////////////////////////////////////////////////////////////////////////////
                             6370 ; 1108 |// Reset Vector
                             6371 ; 1109 |#define HW_IVECRESET 0x0000           
                             6372 ; 1110 |// Stack Error
                             6373 ; 1111 |#define HW_IVECSTERR 0x0002           
                             6374 ; 1112 |// Trace
                             6375 ; 1113 |#define HW_IVECTRAC 0x0004           
                             6376 ; 1114 |// SWI
                             6377 ; 1115 |#define HW_IVECSWI 0x0006           
                             6378 ; 1116 |// ~IRQA
                             6379 ; 1117 |#define HW_IVECIRQA 0x0008           
                             6380 ; 1118 |// ~IRQB - BROWNOUT
                             6381 ; 1119 |#define HW_IVECIRQB 0x000A           
                             6382 ; 1120 |// Fatal Error
                             6383 ; 1121 |#define HW_IVECERROR 0x000C           
                             6384 ; 1122 |// SPI
                             6385 ; 1123 |#define HW_IVECSPI 0x000E           
                             6386 ; 1124 |// I2S TX Data Empty
                             6387 ; 1125 |#define HW_IVECI2STXDE 0x0010           
                             6388 ; 1126 |// I2S TX Underflow
                             6389 ; 1127 |#define HW_IVECI2STXUF 0x0012           
                             6390 ; 1128 |// I2S RX Data Full
                             6391 ; 1129 |#define HW_IVECI2SRXDF 0x0014           
                             6392 ; 1130 |// I2S RX Overflow
                             6393 ; 1131 |#define HW_IVECI2SRXOF 0x0016           
                             6394 ; 1132 |//                                       equ     $0018           ; Error, nothing vectors here
                             6395 ; 1133 |//                                       equ     $001A           ; Error, nothing vectors here
                             6396 ; 1134 |//                                       equ     $001C           ; Error, nothing vectors here
                             6397 ; 1135 |//                                       equ     $001E           ; Non-Maskable Interrupt
                             6398 ; 1136 |// GPIO1
                             6399 ; 1137 |#define HW_IVECGPIO1 0x0020           
                             6400 ; 1138 |// GPIO2
                             6401 ; 1139 |#define HW_IVECGPIO2 0x0022           
                             6402 ; 1140 |// GPIO0
                             6403 ; 1141 |#define HW_IVECGPIO0 0x0024           
                             6404 ; 1142 |// TIMER0
                             6405 ; 1143 |#define HW_IVECTIMER0 0x0026           
                             6406 ; 1144 |// TIMER1
                             6407 ; 1145 |#define HW_IVECTIMER1 0x0028           
                             6408 ; 1146 |// TIMER2
                             6409 ; 1147 |#define HW_IVECTIMER2 0x002A           
                             6410 ; 1148 |//                                       equ     $002C           ; Error, nothing vectors here
                             6411 ; 1149 |//                                       equ     $002E           ; Error, nothing vectors here
                             6412 ; 1150 |// I2C RX Data Ready
                             6413 ; 1151 |#define HW_IVECI2CRXDR 0x0030           
                             6414 ; 1152 |// I2C RX Overflow
                             6415 ; 1153 |#define HW_IVECI2CRXOF 0x0032           
                             6416 ; 1154 |// I2C TX Data Empty
                             6417 ; 1155 |#define HW_IVECI2CTXDE 0x0034           
                             6418 ; 1156 |// I2C TX Underflow
                             6419 ; 1157 |#define HW_IVECI2CTXUF 0x0036           
                             6420 ; 1158 |// Illegal Instruction
                             6421 ; 1159 |#define HW_IVECILI 0x0038           
                             6422 ; 1160 |//                                       equ     $003A           ; Error, nothing vectors here
                             6423 ; 1161 |// DAC Empty ISR (DAC Request to Fill Buffer)
                             6424 ; 1162 |#define HW_IVECDACE 0x003C           
                             6425 ; 1163 |// DAC Underflow ISR
                             6426 ; 1164 |#define HW_IVECDACUF 0x003E           
                             6427 ; 1165 |//                                       equ     $0040           ; Error, nothing vectors here
                             6428 ; 1166 |// ADC Full ISR
                             6429 ; 1167 |#define HW_IVECADCF 0x0042           
                             6430 ; 1168 |// ADC Overflow ISR
                             6431 ; 1169 |#define HW_IVECADCOF 0x0044           
                             6432 ; 1170 |//                                       equ     $0046           ; Error, nothing vectors here
                             6433 ; 1171 |// TIMER3
                             6434 ; 1172 |#define HW_IVECTIMER3 0x0048           
                             6435 ; 1173 |// GPIO3
                             6436 ; 1174 |#define HW_IVECGPIO3 0x004A           
                             6437 ; 1175 |// SDRAM
                             6438 ; 1176 |#define HW_IVECSDRAM 0x004C           
                             6439 ; 1177 |//                                       equ     $004E           ; Error, nothing vectors here
                             6440 ; 1178 |// 5 volt power connected
                             6441 ; 1179 |#define HW_IVECVDD5VCONN 0x0050           
                             6442 ; 1180 |// USB Controller
                             6443 ; 1181 |#define HW_IVECUSBCTLR 0x0052           
                             6444 ; 1182 |// USB Wakeup 
                             6445 ; 1183 |#define HW_IVECUSBWAKEUP 0x0054           
                             6446 ; 1184 |// 5 volt power disconnected
                             6447 ; 1185 |#define HW_IVECVDD5VDISC 0x0056           
                             6448 ; 1186 |// enhanced SPI
                             6449 ; 1187 |#define HW_IVECESPI 0x0058           
                             6450 ; 1188 |// filter coprocessor
                             6451 ; 1189 |#define HW_IVECFILCO 0x005A           
                             6452 ; 1190 |// low res ADC #1
                             6453 ; 1191 |#define HW_IVECLRADC1 0x005C           
                             6454 ; 1192 |// real time clock alarm
                             6455 ; 1193 |#define HW_IVECRTCALARM 0x005E           
                             6456 ; 1194 |// low res ADC #2
                             6457 ; 1195 |#define HW_IVECLRADC2 0x0060           
                             6458 ; 1196 |// flash hardware ECC
                             6459 ; 1197 |#define HW_IVECHWECC 0x0062           
                             6460 ; 1198 |//                                       equ     $0064           ; Error, nothing vectors here
                             6461 ; 1199 |// CDSYNC Interrupt
                             6462 ; 1200 |#define HW_IVECCDSYNC 0x0066           
                             6463 ; 1201 |// CDSYNC Exception
                             6464 ; 1202 |#define HW_IVECCDSYNCEX 0x0068           
                             6465 ; 1203 |// RS
                             6466 ; 1204 |#define HW_IVECRS 0x006A           
                             6467 ; 1205 |//                                       equ     $006C           ; Error, nothing vectors here
                             6468 ; 1206 |// Flash Done ISR
                             6469 ; 1207 |#define HW_IVECFD 0x006E           
                             6470 ; 1208 |// CompactFlash ISR
                             6471 ; 1209 |#define HW_IVECCF 0x0070           
                             6472 ; 1210 |// SmartMedia Timeout ISR
                             6473 ; 1211 |#define HW_IVECSMTO 0x0072           
                             6474 ; 1212 |// SmartMedia Invalid Programming
                             6475 ; 1213 |#define HW_IVECSMIP 0x0074           
                             6476 ; 1214 |// CompactFlash No Card ISR
                             6477 ; 1215 |#define HW_IVECCFNC 0x0076           
                             6478 ; 1216 |// CompactFlash Status Change ISR
                             6479 ; 1217 |#define HW_IVECCFSC 0x0078           
                             6480 ; 1218 |//                                       equ     $007A           ; Error, nothing vectors here
                             6481 ; 1219 |//                                       equ     $007C           ; Error, nothing vectors here
                             6482 ; 1220 |// CDI
                             6483 ; 1221 |#define HW_IVECCDI 0x007E           
                             6484 ; 1222 |
                             6485 ; 1223 |/////////////////////////////////////////////////////////////////////////////////
                             6486 ; 1224 |//  Interrupt Vectors
                             6487 ; 1225 |/////////////////////////////////////////////////////////////////////////////////
                             6488 ; 1226 |// macro to allow setting vectors from C. Hex const below is jsr opcode.
                             6489 ; 1227 |#define VECTOR(address,isr) \ 
                             6490 ; 1228 |    (*(volatile int _P *)(address))=0x0BF080; \ 
                             6491 ; 1229 |    (*(volatile int _P *)(address+1))=(isr)
                             6492 ; 1230 |
                             6493 ; 1231 |
                             6494 ; 1232 |/////////////////////////////////////////////////////////////////////////////////
                             6495 ; 1233 |//  Interrupt Priority Register (HW_IPR) Bit Positions
                             6496 ; 1234 |#define HW_IPR_IRQA_BITPOS 0
                             6497 ; 1235 |#define HW_IPR_IRQA_ET_BITPOS 2
                             6498 ; 1236 |#define HW_IPR_IRQB_BITPOS 3
                             6499 ; 1237 |#define HW_IPR_IRQB_ET_BITPOS 5
                             6500 ; 1238 |#define HW_IPR_L0P_BITPOS 10
                             6501 ; 1239 |#define HW_IPR_L1P_BITPOS 12
                             6502 ; 1240 |#define HW_IPR_L2P_BITPOS 14
                             6503 ; 1241 |#define HW_IPR_L3P_BITPOS 16
                             6504 ; 1242 |#define HW_IPR_L4P_BITPOS 18
                             6505 ; 1243 |#define HW_IPR_L5P_BITPOS 20
                             6506 ; 1244 |#define HW_IPR_L6P_BITPOS 22
                             6507 ; 1245 |
                             6508 ; 1246 |// Interrupt Disabled
                             6509 ; 1247 |#define HW_IPR_LP_0_SETMASK 0   
                             6510 ; 1248 |// Interrupt Priority Level 0
                             6511 ; 1249 |#define HW_IPR_LP_1_SETMASK 1   
                             6512 ; 1250 |// Interrupt Priority Level 1
                             6513 ; 1251 |#define HW_IPR_LP_2_SETMASK 2   
                             6514 ; 1252 |// Interrupt Priority Level 2
                             6515 ; 1253 |#define HW_IPR_LP_3_SETMASK 3   
                             6516 ; 1254 |
                             6517 ; 1255 |#define HW_IPR_IRQA_SETMASK 3<<HW_IPR_IRQA_BITPOS
                             6518 ; 1256 |#define HW_IPR_IRQA_ET_SETMASK 1<<HW_IPR_IRQA_ET_BITPOS
                             6519 ; 1257 |#define HW_IPR_IRQB_SETMASK 3<<HW_IPR_IRQB_BITPOS
                             6520 ; 1258 |#define HW_IPR_IRQB_ET_SETMASK 1<<HW_IPR_IRQB_ET_BITPOS
                             6521 ; 1259 |#define HW_IPR_L0P_SETMASK 3<<HW_IPR_L0P_BITPOS
                             6522 ; 1260 |#define HW_IPR_L1P_SETMASK 3<<HW_IPR_L1P_BITPOS
                             6523 ; 1261 |#define HW_IPR_L2P_SETMASK 3<<HW_IPR_L2P_BITPOS
                             6524 ; 1262 |#define HW_IPR_L3P_SETMASK 3<<HW_IPR_L3P_BITPOS
                             6525 ; 1263 |#define HW_IPR_L4P_SETMASK 3<<HW_IPR_L4P_BITPOS
                             6526 ; 1264 |#define HW_IPR_L5P_SETMASK 3<<HW_IPR_L5P_BITPOS
                             6527 ; 1265 |#define HW_IPR_L6P_SETMASK 3<<HW_IPR_L6P_BITPOS
                             6528 ; 1266 |
                             6529 ; 1267 |#define HW_IPR_IRQA_CLRMASK ~(WORD)HW_IPR_IRQA_SETMASK
                             6530 ; 1268 |#define HW_IPR_IRQA_ET_CLRMASK ~(WORD)HW_IPR_IRQA_ET_SETMASK
                             6531 ; 1269 |#define HW_IPR_IRQB_CLRMASK ~(WORD)HW_IPR_IRQB_SETMASK
                             6532 ; 1270 |#define HW_IPR_IRQB_ET_CLRMASK ~(WORD)HW_IPR_IRQB_ET_SETMASK
                             6533 ; 1271 |#define HW_IPR_L0P_CLRMASK ~(WORD)HW_IPR_L0P_SETMASK
                             6534 ; 1272 |#define HW_IPR_L1P_CLRMASK ~(WORD)HW_IPR_L1P_SETMASK
                             6535 ; 1273 |#define HW_IPR_L2P_CLRMASK ~(WORD)HW_IPR_L2P_SETMASK
                             6536 ; 1274 |#define HW_IPR_L3P_CLRMASK ~(WORD)HW_IPR_L3P_SETMASK
                             6537 ; 1275 |#define HW_IPR_L4P_CLRMASK ~(WORD)HW_IPR_L4P_SETMASK
                             6538 ; 1276 |#define HW_IPR_L5P_CLRMASK ~(WORD)HW_IPR_L5P_SETMASK
                             6539 ; 1277 |#define HW_IPR_L6P_CLRMASK ~(WORD)HW_IPR_L6P_SETMASK
                             6540 ; 1278 |
                             6541 ; 1279 |// Interrupt Priority register
                             6542 ; 1280 |typedef union               
                             6543 ; 1281 |{
                             6544 ; 1282 |    struct {
                             6545 ; 1283 |        unsigned int IRQAP  :2; /* IRQ A Priority: 00 disable, 01 10 11 enable  */
                             6546 ; 1284 |        unsigned int IRQAT  :1; /* IRQ A Type: 0 level, 1 negative edge         */
                             6547 ; 1285 |        unsigned int IRQBP  :2; /* IRQ B Priority: 00 disable, 01 10 11 enable  */
                             6548 ; 1286 |        unsigned int IRQBT  :1; /* IRQ B Type: 0 level, 1 negative edge.        */
                             6549 ; 1287 |        int                 :4; /* Reserved */
                             6550 ; 1288 |        unsigned int L0P    :2; /* Interrupt Priority for priority 0 (SAI)      */
                             6551 ; 1289 |        unsigned int L1P    :2; /* Interrupt Priority for priority 1 (IColl)    */
                             6552 ; 1290 |        unsigned int L2P    :2; /* Interrupt Priority for priority 2 (IColl)    */
                             6553 ; 1291 |        unsigned int L3P    :2; /* Interrupt Priority for priority 3 (IColl)    */
                             6554 ; 1292 |        unsigned int L4P    :2; /* Interrupt Priority for priority 4 (I2C)      */
                             6555 ; 1293 |        unsigned int L5P    :2; /* Interrupt Priority for priority 5 (SPI)      */
                             6556 ; 1294 |        unsigned int L6P    :2; /* Interrupt Priority for priority 6 (IColl)    */
                             6557 ; 1295 |    } B;
                             6558 ; 1296 |
                             6559 ; 1297 |    int I;
                             6560 ; 1298 |
                             6561 ; 1299 |} ipr_type;
                             6562 ; 1300 |#define HW_IPR         (*(volatile ipr_type _X*) 0x00FFFF)
                             6563 ; 1301 |
                             6564 ; 1302 |//*********************  REGISTER ALIAS DEFINES TO MATCH LEGACY CODE *******************************
                             6565 ; 1303 |// The following defines were added to match regs3410.inc definition to build SDK2XXX code without needing 
                             6566 ; 1304 |// to update the actual files. Only the defines needed to build SDK2.400 were added.
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page  27

M:ADDR CODE           CYCLES LINE SOURCELINE
                             6567 ; 1305 |
                             6568 ; 1306 |#define HW_IPR_L1P0_BITPOS 12
                             6569 ; 1307 |#define HW_IPR_L2P0_BITPOS 14
                             6570 ; 1308 |#define HW_IPR_L3P0_BITPOS 16
                             6571 ; 1309 |#define HW_IPR_L6P0_BITPOS 22
                             6572 ; 1310 |
                             6573 ; 1311 |/////////////////////////////////////////////////////////////////////////////////
                             6574 ; 1312 |//  Interrupt Collector Steering 0 Register (HW_ICLSTEER0R) Bit Positions
                             6575 ; 1313 |#define HW_ICLSTEERR_SS_1 0
                             6576 ; 1314 |#define HW_ICLSTEERR_SS_2 1
                             6577 ; 1315 |#define HW_ICLSTEERR_SS_3 2
                             6578 ; 1316 |#define HW_ICLSTEERR_SS_6 3
                             6579 ; 1317 |
                             6580 ; 1318 |#endif
                             6581 ; 1319 |
                             6582 
                             6584 
                             6585 ; 26   |#include "regslradc.h"
                             6586 
                             6588 
                             6589 ; 1    |#if !(defined(regslradcinc))
                             6590 ; 2    |
                             6591 ; 3    |#define regslradcinc 1
                             6592 ; 4    |
                             6593 ; 5    |#include "types.h"
                             6594 
                             6596 
                             6597 ; 1    |////////////////////////////////////////////////////////////////////////////////
                             6598 ; 2    |// Copyright(C) SigmaTel, Inc. 2000-2004
                             6599 ; 3    |//
                             6600 ; 4    |// Filename: types.h
                             6601 ; 5    |// Description: Standard data types
                             6602 ; 6    |////////////////////////////////////////////////////////////////////////////////
                             6603 ; 7    |
                             6604 ; 8    |#ifndef _TYPES_H
                             6605 ; 9    |#define _TYPES_H
                             6606 ; 10   |
                             6607 ; 11   |// TODO:  move this outta here!
                             6608 ; 12   |#if !defined(NOERROR)
                             6609 ; 13   |#define NOERROR 0
                             6610 ; 14   |#define SUCCESS 0
                             6611 ; 15   |#endif 
                             6612 ; 16   |#if !defined(SUCCESS)
                             6613 ; 17   |#define SUCCESS  0
                             6614 ; 18   |#endif
                             6615 ; 19   |#if !defined(ERROR)
                             6616 ; 20   |#define ERROR   -1
                             6617 ; 21   |#endif
                             6618 ; 22   |#if !defined(FALSE)
                             6619 ; 23   |#define FALSE 0
                             6620 ; 24   |#endif
                             6621 ; 25   |#if !defined(TRUE)
                             6622 ; 26   |#define TRUE  1
                             6623 ; 27   |#endif
                             6624 ; 28   |
                             6625 ; 29   |#if !defined(NULL)
                             6626 ; 30   |#define NULL 0
                             6627 ; 31   |#endif
                             6628 ; 32   |
                             6629 ; 33   |#define MAX_INT     0x7FFFFF
                             6630 ; 34   |#define MAX_LONG    0x7FFFFFffffff
                             6631 ; 35   |        // max positive unsigned long value: -1 == 0xFFFFFFffffff
                             6632 ; 36   |#define MAX_ULONG   (-1) 
                             6633 ; 37   |
                             6634 ; 38   |#define WORD_SIZE   24              // word size in bits
                             6635 ; 39   |#define BYTES_PER_WORD 3            // 8 bit bytes
                             6636 ; 40   |
                             6637 ; 41   |
                             6638 ; 42   |#define BYTE    unsigned char       // btVarName
                             6639 ; 43   |#define CHAR    signed char         // cVarName
                             6640 ; 44   |#define USHORT  unsigned short      // usVarName
                             6641 ; 45   |#define SHORT   unsigned short      // sVarName
                             6642 ; 46   |#define WORD    unsigned int        // wVarName
                             6643 ; 47   |#define INT     signed int          // iVarName
                             6644 ; 48   |#define DWORD   unsigned long       // dwVarName
                             6645 ; 49   |#define LONG    signed long         // lVarName
                             6646 ; 50   |#define BOOL    unsigned int        // bVarName
                             6647 ; 51   |#define FRACT   _fract              // frVarName
                             6648 ; 52   |#define LFRACT  long _fract         // lfrVarName
                             6649 ; 53   |#define CIRC    _circ               // cp<type prefix>VarName (see below)
                             6650 ; 54   |#define FLOAT   float               // fVarName
                             6651 ; 55   |#define DBL     double              // dVarName
                             6652 ; 56   |#define ENUM    enum                // eVarName
                             6653 ; 57   |#define CMX     _complex            // cmxVarName
                             6654 ; 58   |typedef WORD UCS3;                   // 
                             6655 ; 59   |
                             6656 ; 60   |#define UINT16  unsigned short
                             6657 ; 61   |#define UINT8   unsigned char   
                             6658 ; 62   |#define UINT32  unsigned long
                             6659 ; 63   |#define UINT64  unsigned long   // need to figure out how to do 64 bit values.  Or port exisiting code to only use 48 bit
                             6660 ; 64   |#define INT64   unsigned long   // need to figure out how to do 64 bit values.  Or port exisiting code to only use 48 bit
                             6661 ; 65   |#define WCHAR   UINT16
                             6662 ; 66   |
                             6663 ; 67   |//UINT128 is 16 bytes or 6 words
                             6664 ; 68   |typedef struct UINT128_3500 {   
                             6665 ; 69   |    int val[6];     
                             6666 ; 70   |} UINT128_3500;
                             6667 ; 71   |
                             6668 ; 72   |#define UINT128   UINT128_3500
                             6669 ; 73   |
                             6670 ; 74   |// Little endian word packed byte strings:   
                             6671 ; 75   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                             6672 ; 76   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                             6673 ; 77   |// Little endian word packed byte strings:   
                             6674 ; 78   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                             6675 ; 79   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                             6676 ; 80   |
                             6677 ; 81   |// Declare Memory Spaces To Use When Coding
                             6678 ; 82   |// A. Sector Buffers
                             6679 ; 83   |#define SECTOR_BUFFER_MEM_X _X
                             6680 ; 84   |#define SECTOR_BUFFER_MEM_Y _Y
                             6681 ; 85   |#define SECTOR_BUFFER_MEM SECTOR_BUFFER_MEM_X
                             6682 ; 86   |typedef WORD SECTOR_BUFFER_MEM SECTOR_BUFFER;
                             6683 ; 87   |typedef SECTOR_BUFFER * P_SECTOR_BUFFER;
                             6684 ; 88   |// B. Media DDI Memory
                             6685 ; 89   |#define MEDIA_DDI_MEM _Y
                             6686 ; 90   |
                             6687 ; 91   |
                             6688 ; 92   |
                             6689 ; 93   |// Pointers to linear structures are labeled as: p<type prefix>VarName
                             6690 ; 94   |// Examples of circular pointers:
                             6691 ; 95   |//    INT CIRC cpiVarName
                             6692 ; 96   |//    DWORD CIRC cpdwVarName
                             6693 ; 97   |
                             6694 ; 98   |#define RETCODE INT                 // rcVarName
                             6695 ; 99   |
                             6696 ; 100  |// generic bitfield structure
                             6697 ; 101  |struct Bitfield {
                             6698 ; 102  |    unsigned int B0  :1;
                             6699 ; 103  |    unsigned int B1  :1;
                             6700 ; 104  |    unsigned int B2  :1;
                             6701 ; 105  |    unsigned int B3  :1;
                             6702 ; 106  |    unsigned int B4  :1;
                             6703 ; 107  |    unsigned int B5  :1;
                             6704 ; 108  |    unsigned int B6  :1;
                             6705 ; 109  |    unsigned int B7  :1;
                             6706 ; 110  |    unsigned int B8  :1;
                             6707 ; 111  |    unsigned int B9  :1;
                             6708 ; 112  |    unsigned int B10 :1;
                             6709 ; 113  |    unsigned int B11 :1;
                             6710 ; 114  |    unsigned int B12 :1;
                             6711 ; 115  |    unsigned int B13 :1;
                             6712 ; 116  |    unsigned int B14 :1;
                             6713 ; 117  |    unsigned int B15 :1;
                             6714 ; 118  |    unsigned int B16 :1;
                             6715 ; 119  |    unsigned int B17 :1;
                             6716 ; 120  |    unsigned int B18 :1;
                             6717 ; 121  |    unsigned int B19 :1;
                             6718 ; 122  |    unsigned int B20 :1;
                             6719 ; 123  |    unsigned int B21 :1;
                             6720 ; 124  |    unsigned int B22 :1;
                             6721 ; 125  |    unsigned int B23 :1;
                             6722 ; 126  |};
                             6723 ; 127  |
                             6724 ; 128  |union BitInt {
                             6725 ; 129  |        struct Bitfield B;
                             6726 ; 130  |        int        I;
                             6727 ; 131  |};
                             6728 ; 132  |
                             6729 ; 133  |#define MAX_MSG_LENGTH 10
                             6730 ; 134  |struct CMessage
                             6731 ; 135  |{
                             6732 ; 136  |        unsigned int m_uLength;
                             6733 ; 137  |        unsigned int m_uMsg[MAX_MSG_LENGTH];
                             6734 ; 138  |};
                             6735 ; 139  |
                             6736 ; 140  |typedef struct {
                             6737 ; 141  |    WORD m_wLength;
                             6738 ; 142  |    WORD m_wMessage;
                             6739 ; 143  |    WORD m_wParams[MAX_MSG_LENGTH];
                             6740 ; 144  |} Message;
                             6741 ; 145  |
                             6742 ; 146  |struct MessageQueueDescriptor
                             6743 ; 147  |{
                             6744 ; 148  |        int *m_pBase;
                             6745 ; 149  |        int m_iModulo;
                             6746 ; 150  |        int m_iSize;
                             6747 ; 151  |        int *m_pHead;
                             6748 ; 152  |        int *m_pTail;
                             6749 ; 153  |};
                             6750 ; 154  |
                             6751 ; 155  |struct ModuleEntry
                             6752 ; 156  |{
                             6753 ; 157  |    int m_iSignaledEventMask;
                             6754 ; 158  |    int m_iWaitEventMask;
                             6755 ; 159  |    int m_iResourceOfCode;
                             6756 ; 160  |    struct MessageQueueDescriptor *m_pMessageQueue;
                             6757 ; 161  |    int _asmfunc (*m_pProcessEntryPoint)(union WaitMask Signals,struct MessageQueueDescriptor *);
                             6758 ; 162  |    int _asmfunc (*m_pInitFunction)(struct MessageQueueDescriptor *);
                             6759 ; 163  |    int m_uTimeOutHigh;
                             6760 ; 164  |    int m_uTimeOutLow;
                             6761 ; 165  |    int _asmfunc (*m_pBackgroundFunction)(struct MessageQueueDescriptor *);
                             6762 ; 166  |};
                             6763 ; 167  |
                             6764 ; 168  |union WaitMask{
                             6765 ; 169  |    struct B{
                             6766 ; 170  |        unsigned int m_bNone     :1;
                             6767 ; 171  |        unsigned int m_bMessage  :1;
                             6768 ; 172  |        unsigned int m_bTimer    :1;
                             6769 ; 173  |        unsigned int m_bButton   :1;
                             6770 ; 174  |    } B;
                             6771 ; 175  |    int I;
                             6772 ; 176  |} ;
                             6773 ; 177  |
                             6774 ; 178  |
                             6775 ; 179  |struct Button {
                             6776 ; 180  |        WORD wButtonEvent;
                             6777 ; 181  |        WORD wUnused[MAX_MSG_LENGTH];   
                             6778 ; 182  |};
                             6779 ; 183  |
                             6780 ; 184  |struct Message {
                             6781 ; 185  |        WORD wMsgLength;
                             6782 ; 186  |        WORD wMsgCommand;
                             6783 ; 187  |        WORD wMsgParms[MAX_MSG_LENGTH-1];
                             6784 ; 188  |};
                             6785 ; 189  |
                             6786 ; 190  |union EventTypes {
                             6787 ; 191  |        struct CMessage msg;
                             6788 ; 192  |        struct Button Button ;
                             6789 ; 193  |        struct Message Message;
                             6790 ; 194  |};
                             6791 ; 195  |
                             6792 ; 196  |// next 2 used to get updater build to return correct protocol ver in scsi response.
                             6793 ; 197  |#define BUILD_TYPE_UPDATER  0x100
                             6794 ; 198  |#define BUILD_TYPE_HOSTLINK 0x101
                             6795 ; 199  |#define BUILD_TYPE_PLAYER   0x102
                             6796 ; 200  |
                             6797 ; 201  |// Resets part if RETAIL build. DEBUG build executes debug instruction to halt.
                             6798 ; 202  |#define SystemHalt() __asm(" include 'sysmacro.asm' \n error") 
                             6799 ; 203  |#define assert(x)    if(!(x)) __asm(" include 'sysmacro.asm' \n error")
                             6800 ; 204  |
                             6801 ; 205  |#if DEBUG
                             6802 ; 206  |// For DEBUG builds, DebugBuildAssert(condition) halts if condition evaluates to FALSE. 
                             6803 ; 207  |#define DebugBuildAssert(x)    if(!(x)) __asm(" debug ")
                             6804 ; 208  |#else 
                             6805 ; 209  |// For RETAIL builds, DebugBuildAssert(condition) does nothing & execution continues rather than halt or reset. 
                             6806 ; 210  |#define DebugBuildAssert(x)    
                             6807 ; 211  |#endif
                             6808 ; 212  |
                             6809 ; 213  |// Do this in your C files to make a reminder that's displayed during the build.
                             6810 ; 214  |//  #pragma asm
                             6811 ; 215  |//  WARN 'Note to builder: reminder to do this after verifying that'
                             6812 ; 216  |//  #pragma endasm
                             6813 ; 217  |
                             6814 ; 218  |
                             6815 ; 219  |#ifdef COLOR_262K
                             6816 ; 220  |#define RGB(r,g,b)    ((0x0000FC & (r)) << 10) | ((0x0000FC & (g)) << 4) | ((0x0000FC & (b)) >> 2)    //262k
                             6817 ; 221  |#elif defined(COLOR_65K)
                             6818 ; 222  |#define RGB(r,g,b)    ((0x0000F8 & (r)) << 8) | ((0x0000FC & (g)) << 3) | ((0x0000F8 & (b)) >> 3)  //65k
                             6819 ; 223  |#else
                             6820 ; 224  |#define RGB(r,g,b)       ((0x0000F0 & (r)) << 4) | (0x0000F0 & (g)) | ((0x0000F0 & (b)) >> 4)
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page  28

M:ADDR CODE           CYCLES LINE SOURCELINE
                             6821 ; 225  |#endif
                             6822 ; 226  |    
                             6823 ; 227  |#endif // #ifndef _TYPES_H
                             6824 
                             6826 
                             6827 ; 6    |//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                             6828 ; 7    |
                             6829 ; 8    |//   SYSTEM STMP Registers 
                             6830 ; 9    |//  Last Edited 6.26.2003 M. Henson
                             6831 ; 10   |//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                             6832 ; 11   |
                             6833 ; 12   |#define HW_LRADC_BASEADDR (0xFA20)
                             6834 ; 13   |
                             6835 ; 14   |
                             6836 ; 15   |
                             6837 ; 16   |/////////////////////////////////////////////////////////////////////////////////
                             6838 ; 17   |//  Battery LRADC Control Register (HW_BATT_CTRL) Bit Definitions
                             6839 ; 18   |#define HW_BATT_CTRL_INPUT_OFFSET_WIDTH (7)
                             6840 ; 19   |#define HW_BATT_CTRL_RSVD0_WIDTH (1)
                             6841 ; 20   |#define HW_BATT_CTRL_HALF_CMP_PWR_WIDTH (1)
                             6842 ; 21   |#define HW_BATT_CTRL_INPUT_DIV2_WIDTH (1)
                             6843 ; 22   |#define HW_BATT_CTRL_CLEAR_WIDTH (1)
                             6844 ; 23   |#define HW_BATT_CTRL_PWD_WIDTH (1)
                             6845 ; 24   |#define HW_BATT_CTRL_CLK_DIV_WIDTH (2)
                             6846 ; 25   |#define HW_BATT_CTRL_RSVD1_WIDTH (2)
                             6847 ; 26   |#define HW_BATT_CTRL_REF_VAL_WIDTH (2)
                             6848 ; 27   |#define HW_BATT_CTRL_RSVD2_WIDTH (2)
                             6849 ; 28   |#define HW_BATT_CTRL_IRQ_EN_EVENT0_WIDTH (1)
                             6850 ; 29   |#define HW_BATT_CTRL_IRQ_EN_EVENT1_WIDTH (1)
                             6851 ; 30   |#define HW_BATT_CTRL_POLARITY_EVENT0_WIDTH (1)
                             6852 ; 31   |#define HW_BATT_CTRL_POLARITY_EVENT1_WIDTH (1)
                             6853 ; 32   |
                             6854 ; 33   |#define HW_BATT_CTRL_INPUT_OFFSET_BITPOS (0)
                             6855 ; 34   |#define HW_BATT_CTRL_HALF_CMP_PWR_BITPOS (8)
                             6856 ; 35   |#define HW_BATT_CTRL_INPUT_DIV2_BITPOS (9)
                             6857 ; 36   |#define HW_BATT_CTRL_CLEAR_BITPOS (10)
                             6858 ; 37   |#define HW_BATT_CTRL_PWD_BITPOS (11)
                             6859 ; 38   |#define HW_BATT_CTRL_CLK_DIV_BITPOS (12)
                             6860 ; 39   |#define HW_BATT_CTRL_REF_VAL_BITPOS (16)
                             6861 ; 40   |
                             6862 ; 41   |#define HW_BATT_CTRL_INPUT_OFFSET_SETMASK (((1<<HW_BATT_CTRL_INPUT_OFFSET_WIDTH)-1)<<HW_BATT_CTRL_INPUT_OFFSET_BITPOS)        
                             6863 ; 42   |#define HW_BATT_CTRL_HALF_CMP_PWR_SETMASK (((1<<HW_BATT_CTRL_HALF_CMP_PWR_WIDTH)-1)<<HW_BATT_CTRL_HALF_CMP_PWR_BITPOS)        
                             6864 ; 43   |#define HW_BATT_CTRL_INPUT_DIV2_SETMASK (((1<<HW_BATT_CTRL_INPUT_DIV2_WIDTH)-1)<<HW_BATT_CTRL_INPUT_DIV2_BITPOS) 
                             6865 ; 44   |#define HW_BATT_CTRL_CLEAR_SETMASK (((1<<HW_BATT_CTRL_CLEAR_WIDTH)-1)<<HW_BATT_CTRL_CLEAR_BITPOS) 
                             6866 ; 45   |#define HW_BATT_CTRL_PWD_SETMASK (((1<<HW_BATT_CTRL_PWD_WIDTH)-1)<<HW_BATT_CTRL_PWD_BITPOS) 
                             6867 ; 46   |#define HW_BATT_CTRL_CLK_DIV_SETMASK (((1<<HW_BATT_CTRL_CLK_DIV_WIDTH)-1)<<HW_BATT_CTRL_CLK_DIV_BITPOS)        
                             6868 ; 47   |#define HW_BATT_CTRL_REF_VAL_SETMASK (((1<<HW_BATT_CTRL_REF_VAL_WIDTH)-1)<<HW_BATT_CTRL_REF_VAL_BITPOS)        
                             6869 ; 48   |
                             6870 ; 49   |#define HW_BATT_CTRL_INPUT_OFFSET_CLRMASK (~(WORD)HW_BATT_CTRL_INPUT_OFFSET_SETMASK)     
                             6871 ; 50   |#define HW_BATT_CTRL_HALF_CMP_PWR_CLRMASK (~(WORD)HW_BATT_CTRL_HALF_CMP_PWR_SETMASK)     
                             6872 ; 51   |#define HW_BATT_CTRL_INPUT_DIV2_CLRMASK (~(WORD)HW_BATT_CTRL_INPUT_DIV2_SETMASK) 
                             6873 ; 52   |#define HW_BATT_CTRL_CLEAR_CLRMASK (~(WORD)HW_BATT_CTRL_CLEAR_SETMASK) 
                             6874 ; 53   |#define HW_BATT_CTRL_PWD_CLRMASK (~(WORD)HW_BATT_CTRL_PWD_SETMASK) 
                             6875 ; 54   |#define HW_BATT_CTRL_CLK_DIV_CLRMASK (~(WORD)HW_BATT_CTRL_CLK_DIV_SETMASK)     
                             6876 ; 55   |#define HW_BATT_CTRL_REF_VAL_CLRMASK (~(WORD)HW_BATT_CTRL_REF_VAL_SETMASK)
                             6877 ; 56   |
                             6878 ; 57   |typedef union               
                             6879 ; 58   |{
                             6880 ; 59   |    struct {
                             6881 ; 60   |        unsigned int INPUT_OFFSET                 : HW_BATT_CTRL_INPUT_OFFSET_WIDTH;
                             6882 ; 61   |        unsigned int RSVD0                        : HW_BATT_CTRL_RSVD0_WIDTH;
                             6883 ; 62   |        unsigned int HALF_CMP_PWR                 : HW_BATT_CTRL_HALF_CMP_PWR_WIDTH;
                             6884 ; 63   |        unsigned int INPUT_DIV2                   : HW_BATT_CTRL_INPUT_DIV2_WIDTH;
                             6885 ; 64   |        unsigned int CLEAR                        : HW_BATT_CTRL_CLEAR_WIDTH;
                             6886 ; 65   |        unsigned int PWD                          : HW_BATT_CTRL_PWD_WIDTH;
                             6887 ; 66   |        unsigned int CLK_DIV                      : HW_BATT_CTRL_CLK_DIV_WIDTH;
                             6888 ; 67   |        unsigned int RSVD1                        : HW_BATT_CTRL_RSVD1_WIDTH;
                             6889 ; 68   |        unsigned int REF_VAL                      : HW_BATT_CTRL_REF_VAL_WIDTH;
                             6890 ; 69   |        unsigned int RSVD2                        : HW_BATT_CTRL_RSVD2_WIDTH;
                             6891 ; 70   |                 unsigned int IRQ_EN_EVENT0                               : HW_BATT_CTRL_IRQ_EN_EVENT0_WIDTH;
                             6892 ; 71   |                 unsigned int IRQ_EN_EVENT1                               : HW_BATT_CTRL_IRQ_EN_EVENT1_WIDTH;
                             6893 ; 72   |             unsigned int POLARITY_EVENT0              : HW_BATT_CTRL_POLARITY_EVENT0_WIDTH;
                             6894 ; 73   |                 unsigned int POLARITY_EVENT1              : HW_BATT_CTRL_POLARITY_EVENT1_WIDTH;
                             6895 ; 74   |    } B;
                             6896 ; 75   |   unsigned int I;
                             6897 ; 76   |        unsigned int U;
                             6898 ; 77   |} lradc_ctrl_type;
                             6899 ; 78   |#define HW_BATT_CTRL      (*(volatile lradc_ctrl_type _X*) (HW_LRADC_BASEADDR))    /* Battery LRADC Control Register */
                             6900 ; 79   |
                             6901 ; 80   |
                             6902 ; 81   |/////////////////////////////////////////////////////////////////////////////////
                             6903 ; 82   |//  Battery LRADC Threshold Register (HW_BATT_THRSH) Bit Definitions
                             6904 ; 83   |#define HW_BATT_THRSH_THRESHOLD_EVENT0_WIDTH (9)
                             6905 ; 84   |#define HW_BATT_THRSH_RSVD0_WIDTH (3)
                             6906 ; 85   |#define HW_BATT_THRSH_THRESHOLD_EVENT1_WIDTH (9)
                             6907 ; 86   |#define HW_BATT_THRSH_RSVD1_WIDTH (3)
                             6908 ; 87   |
                             6909 ; 88   |#define HW_BATT_THRSH_THRESHOLD_EVENT0_BITPOS (0)
                             6910 ; 89   |#define HW_BATT_THRSH_THRESHOLD_EVENT1_BITPOS (12)
                             6911 ; 90   |
                             6912 ; 91   |#define HW_BATT_THRSH_THRESHOLD_EVENT0_SETMASK (((1<<HW_BATT_THRSH_THRESHOLD_EVENT0_WIDTH)-1)<<HW_BATT_THRSH_THRESHOLD_EVENT0_BITPOS)        
                             6913 ; 92   |#define HW_BATT_THRSH_THRESHOLD_EVENT1_SETMASK (((1<<HW_BATT_THRSH_THRESHOLD_EVENT1_WIDTH)-1)<<HW_BATT_THRSH_THRESHOLD_EVENT1_BITPOS)        
                             6914 ; 93   |
                             6915 ; 94   |#define HW_BATT_THRSH_THRESHOLD_EVENT0_CLRMASK (~(WORD)HW_BATT_THRSH_THRESHOLD_EVENT0_SETMASK)     
                             6916 ; 95   |#define HW_BATT_THRSH_THRESHOLD_EVENT1_CLRMASK (~(WORD)HW_BATT_THRSH_THRESHOLD_EVENT1_SETMASK)     
                             6917 ; 96   |
                             6918 ; 97   |
                             6919 ; 98   |typedef union               
                             6920 ; 99   |{
                             6921 ; 100  |    struct {
                             6922 ; 101  |        unsigned int THRESHOLD_EVENT0   : HW_BATT_THRSH_THRESHOLD_EVENT0_WIDTH;
                             6923 ; 102  |        unsigned int RSVD0                  : HW_BATT_THRSH_RSVD0_WIDTH;
                             6924 ; 103  |        unsigned int THRESHOLD_EVENT1   : HW_BATT_THRSH_THRESHOLD_EVENT1_WIDTH;
                             6925 ; 104  |        unsigned int RSVD1              : HW_BATT_THRSH_RSVD1_WIDTH;
                             6926 ; 105  |    } B;
                             6927 ; 106  |    unsigned int I;
                             6928 ; 107  |} lradc_thrsh_type;
                             6929 ; 108  |#define HW_BATT_THRSH      (*(volatile lradc_thrsh_type _X*) (HW_LRADC_BASEADDR+1))    /* Battery LRADC Threshold Register */
                             6930 ; 109  |
                             6931 ; 110  |
                             6932 ; 111  |/////////////////////////////////////////////////////////////////////////////////
                             6933 ; 112  |//  Battery LRADC Result Register (HW_BATT_RESULT) Bit Definitions
                             6934 ; 113  |#define HW_BATT_RESULT_EQ_EVENT1_WIDTH (1)
                             6935 ; 114  |#define HW_BATT_RESULT_EQ_EVENT0_WIDTH (1)
                             6936 ; 115  |#define HW_BATT_RESULT_GT_EVENT1_WIDTH (1)
                             6937 ; 116  |#define HW_BATT_RESULT_GT_EVENT0_WIDTH (1)
                             6938 ; 117  |#define HW_BATT_RESULT_LT_EVENT1_WIDTH (1)
                             6939 ; 118  |#define HW_BATT_RESULT_LT_EVENT0_WIDTH (1)
                             6940 ; 119  |#define HW_BATT_RESULT_RSVD0_WIDTH (2)
                             6941 ; 120  |#define HW_BATT_RESULT_DATA_OUT_WIDTH (9)
                             6942 ; 121  |#define HW_BATT_RESULT_RSVD1_WIDTH (3)
                             6943 ; 122  |#define HW_BATT_RESULT_IRQ_EVENT0_WIDTH (1)
                             6944 ; 123  |#define HW_BATT_RESULT_IRQ_EVENT1_WIDTH (1)
                             6945 ; 124  |#define HW_BATT_RESULT_RSVD2_WIDTH (2)
                             6946 ; 125  |
                             6947 ; 126  |#define HW_BATT_RESULT_EQ_EVENT1_BITPOS (0)
                             6948 ; 127  |#define HW_BATT_RESULT_EQ_EVENT0_BITPOS (1)
                             6949 ; 128  |#define HW_BATT_RESULT_GT_EVENT1_BITPOS (2)
                             6950 ; 129  |#define HW_BATT_RESULT_GT_EVENT0_BITPOS (3)
                             6951 ; 130  |#define HW_BATT_RESULT_LT_EVENT1_BITPOS (4)
                             6952 ; 131  |#define HW_BATT_RESULT_LT_EVENT0_BITPOS (5)
                             6953 ; 132  |#define HW_BATT_RESULT_RSVD0_BITPOS (6)
                             6954 ; 133  |#define HW_BATT_RESULT_DATA_OUT_BITPOS (8)
                             6955 ; 134  |#define HW_BATT_RESULT_RSVD1_BITPOS (17)
                             6956 ; 135  |#define HW_BATT_RESULT_IRQ_EVENT0_BITPOS (20)
                             6957 ; 136  |#define HW_BATT_RESULT_IRQ_EVENT1_BITPOS (21)
                             6958 ; 137  |#define HW_BATT_RESULT_RSVD2_BITPOS (22)
                             6959 ; 138  |
                             6960 ; 139  |
                             6961 ; 140  |
                             6962 ; 141  |#define HW_BATT_RESULT_EQ_EVENT1_SETMASK (((1<<HW_BATT_RESULT_EQ_EVENT1_WIDTH)-1)<<HW_BATT_RESULT_EQ_EVENT1_BITPOS)
                             6963 ; 142  |#define HW_BATT_RESULT_EQ_EVENT0_SETMASK (((1<<HW_BATT_RESULT_EQ_EVENT0_WIDTH)-1)<<HW_BATT_RESULT_EQ_EVENT0_BITPOS)
                             6964 ; 143  |#define HW_BATT_RESULT_GT_EVENT1_SETMASK (((1<<HW_BATT_RESULT_GT_EVENT1_WIDTH)-1)<<HW_BATT_RESULT_GT_EVENT1_BITPOS)
                             6965 ; 144  |#define HW_BATT_RESULT_GT_EVENT0_SETMASK (((1<<HW_BATT_RESULT_GT_EVENT0_WIDTH)-1)<<HW_BATT_RESULT_GT_EVENT0_BITPOS)
                             6966 ; 145  |#define HW_BATT_RESULT_LT_EVENT1_SETMASK (((1<<HW_BATT_RESULT_LT_EVENT1_WIDTH)-1)<<HW_BATT_RESULT_LT_EVENT1_BITPOS)
                             6967 ; 146  |#define HW_BATT_RESULT_LT_EVENT0_SETMASK (((1<<HW_BATT_RESULT_LT_EVENT0_WIDTH)-1)<<HW_BATT_RESULT_LT_EVENT0_BITPOS)
                             6968 ; 147  |#define HW_BATT_RESULT_RSVD0_SETMASK (((1<<HW_BATT_RESULT_RSVD0_WIDTH)-1)<<HW_BATT_RESULT_RSVD0_BITPOS)
                             6969 ; 148  |#define HW_BATT_RESULT_DATA_OUT_SETMASK (((1<<HW_BATT_RESULT_DATA_OUT_WIDTH)-1)<<HW_BATT_RESULT_DATA_OUT_BITPOS)
                             6970 ; 149  |#define HW_BATT_RESULT_RSVD1_SETMASK (((1<<HW_BATT_RESULT_RSVD1_WIDTH)-1)<<HW_BATT_RESULT_RSVD1_BITPOS)
                             6971 ; 150  |#define HW_BATT_RESULT_IRQ_EVENT0_SETMASK (((1<<HW_BATT_RESULT_IRQ_EVENT0_WIDTH)-1)<<HW_BATT_RESULT_IRQ_EVENT0_BITPOS)
                             6972 ; 151  |#define HW_BATT_RESULT_IRQ_EVENT1_SETMASK (((1<<HW_BATT_RESULT_IRQ_EVENT1_WIDTH)-1)<<HW_BATT_RESULT_IRQ_EVENT1_BITPOS)
                             6973 ; 152  |#define HW_BATT_RESULT_RSVD2_SETMASK (((1<<HW_BATT_RESULT_RSVD2_WIDTH)-1)<<HW_BATT_RESULT_RSVD2_BITPOS)
                             6974 ; 153  |
                             6975 ; 154  |
                             6976 ; 155  |#define HW_BATT_RESULT_EQ_EVENT1_CLRMASK (~(WORD)HW_BATT_RESULT_EQ_EVENT1_SETMASK)
                             6977 ; 156  |#define HW_BATT_RESULT_EQ_EVENT0_CLRMASK (~(WORD)HW_BATT_RESULT_EQ_EVENT0_SETMASK)
                             6978 ; 157  |#define HW_BATT_RESULT_GT_EVENT1_CLRMASK (~(WORD)HW_BATT_RESULT_GT_EVENT1_SETMASK)
                             6979 ; 158  |#define HW_BATT_RESULT_GT_EVENT0_CLRMASK (~(WORD)HW_BATT_RESULT_GT_EVENT0_SETMASK)
                             6980 ; 159  |#define HW_BATT_RESULT_LT_EVENT1_CLRMASK (~(WORD)HW_BATT_RESULT_LT_EVENT1_SETMASK)
                             6981 ; 160  |#define HW_BATT_RESULT_LT_EVENT0_CLRMASK (~(WORD)HW_BATT_RESULT_LT_EVENT0_SETMASK)
                             6982 ; 161  |#define HW_BATT_RESULT_RSVD0_CLRMASK (~(WORD)HW_BATT_RESULT_RSVD0_SETMASK)
                             6983 ; 162  |#define HW_BATT_RESULT_DATA_OUT_CLRMASK (~(WORD)HW_BATT_RESULT_DATA_OUT_SETMASK)
                             6984 ; 163  |#define HW_BATT_RESULT_RSVD1_CLRMASK (~(WORD)HW_BATT_RESULT_RSVD1_SETMASK)
                             6985 ; 164  |#define HW_BATT_RESULT_IRQ_EVENT0_CLRMASK (~(WORD)HW_BATT_RESULT_IRQ_EVENT0_SETMASK)
                             6986 ; 165  |#define HW_BATT_RESULT_IRQ_EVENT1_CLRMASK (~(WORD)HW_BATT_RESULT_IRQ_EVENT1_SETMASK)
                             6987 ; 166  |#define HW_BATT_RESULT_RSVD2_CLRMASK (~(WORD)HW_BATT_RESULT_RSVD2_SETMASK)
                             6988 ; 167  |
                             6989 ; 168  |typedef union               
                             6990 ; 169  |{
                             6991 ; 170  |    struct {
                             6992 ; 171  |        unsigned int EQ_EVENT1                  : HW_BATT_RESULT_EQ_EVENT1_WIDTH;
                             6993 ; 172  |        unsigned int EQ_EVENT0                  : HW_BATT_RESULT_EQ_EVENT0_WIDTH;
                             6994 ; 173  |        unsigned int GT_EVENT1                  : HW_BATT_RESULT_GT_EVENT1_WIDTH;
                             6995 ; 174  |        unsigned int GT_EVENT0                  : HW_BATT_RESULT_GT_EVENT0_WIDTH;
                             6996 ; 175  |        unsigned int LT_EVENT1                  : HW_BATT_RESULT_LT_EVENT1_WIDTH;
                             6997 ; 176  |        unsigned int LT_EVENT0                  : HW_BATT_RESULT_LT_EVENT0_WIDTH;
                             6998 ; 177  |        unsigned int RSVD0                     : HW_BATT_RESULT_RSVD0_WIDTH;
                             6999 ; 178  |        unsigned int DATA_OUT                  : HW_BATT_RESULT_DATA_OUT_WIDTH;
                             7000 ; 179  |        unsigned int RSVD1                     : HW_BATT_RESULT_RSVD1_WIDTH;
                             7001 ; 180  |                 unsigned int IRQ_EVENT0                                : HW_BATT_RESULT_IRQ_EVENT0_WIDTH;
                             7002 ; 181  |                 unsigned int IRQ_EVENT1                                : HW_BATT_RESULT_IRQ_EVENT1_WIDTH;                      
                             7003 ; 182  |                 unsigned int RSVD2                                         : HW_BATT_RESULT_RSVD2_WIDTH;
                             7004 ; 183  |    } B;
                             7005 ; 184  |    unsigned int I;
                             7006 ; 185  |} lradc_result_type;
                             7007 ; 186  |#define HW_BATT_RESULT      (*(volatile lradc_result_type _X*) (HW_LRADC_BASEADDR+2))    /* Battery LRADC Result Register */
                             7008 ; 187  |
                             7009 ; 188  |
                             7010 ; 189  |
                             7011 ; 190  |/////////////////////////////////////////////////////////////////////////////////
                             7012 ; 191  |//  LRADC1 Control Register (HW_LRADC1_CTRL) Bit Definitions
                             7013 ; 192  |#define HW_LRADC1_CTRL_INPUT_OFFSET_WIDTH (7)
                             7014 ; 193  |#define HW_LRADC1_CTRL_RSVD0_WIDTH (1)
                             7015 ; 194  |#define HW_LRADC1_CTRL_HALF_CMP_PWR_WIDTH (1)
                             7016 ; 195  |#define HW_LRADC1_CTRL_INPUT_DIV2_WIDTH (1)
                             7017 ; 196  |#define HW_LRADC1_CTRL_CLEAR_WIDTH (1)
                             7018 ; 197  |#define HW_LRADC1_CTRL_PWD_WIDTH (1)
                             7019 ; 198  |#define HW_LRADC1_CTRL_CLK_DIV_WIDTH (2)
                             7020 ; 199  |#define HW_LRADC1_CTRL_RSVD1_WIDTH (2)
                             7021 ; 200  |#define HW_LRADC1_CTRL_REF_VAL_WIDTH (2)
                             7022 ; 201  |#define HW_LRADC1_CTRL_RSVD2_WIDTH (6)
                             7023 ; 202  |
                             7024 ; 203  |#define HW_LRADC1_CTRL_INPUT_OFFSET_BITPOS (0)
                             7025 ; 204  |#define HW_LRADC1_CTRL_HALF_CMP_PWR_BITPOS (8)
                             7026 ; 205  |#define HW_LRADC1_CTRL_INPUT_DIV2_BITPOS (9)
                             7027 ; 206  |#define HW_LRADC1_CTRL_CLEAR_BITPOS (10)
                             7028 ; 207  |#define HW_LRADC1_CTRL_PWD_BITPOS (11)
                             7029 ; 208  |#define HW_LRADC1_CTRL_CLK_DIV_BITPOS (12)
                             7030 ; 209  |#define HW_LRADC1_CTRL_REF_VAL_BITPOS (16)
                             7031 ; 210  |
                             7032 ; 211  |#define HW_LRADC1_CTRL_INPUT_OFFSET_SETMASK (((1<<HW_LRADC1_CTRL_INPUT_OFFSET_WIDTH)-1)<<HW_LRADC1_CTRL_INPUT_OFFSET_BITPOS)        
                             7033 ; 212  |#define HW_LRADC1_CTRL_HALF_CMP_PWR_SETMASK (((1<<HW_LRADC1_CTRL_HALF_CMP_PWR_WIDTH)-1)<<HW_LRADC1_CTRL_HALF_CMP_PWR_BITPOS)        
                             7034 ; 213  |#define HW_LRADC1_CTRL_INPUT_DIV2_SETMASK (((1<<HW_LRADC1_CTRL_INPUT_DIV2_WIDTH)-1)<<HW_LRADC1_CTRL_INPUT_DIV2_BITPOS) 
                             7035 ; 214  |#define HW_LRADC1_CTRL_CLEAR_SETMASK (((1<<HW_LRADC1_CTRL_CLEAR_WIDTH)-1)<<HW_LRADC1_CTRL_CLEAR_BITPOS) 
                             7036 ; 215  |#define HW_LRADC1_CTRL_PWD_SETMASK (((1<<HW_LRADC1_CTRL_PWD_WIDTH)-1)<<HW_LRADC1_CTRL_PWD_BITPOS) 
                             7037 ; 216  |#define HW_LRADC1_CTRL_CLK_DIV_SETMASK (((1<<HW_LRADC1_CTRL_CLK_DIV_WIDTH)-1)<<HW_LRADC1_CTRL_CLK_DIV_BITPOS)        
                             7038 ; 217  |#define HW_LRADC1_CTRL_REF_VAL_SETMASK (((1<<HW_LRADC1_CTRL_REF_VAL_WIDTH)-1)<<HW_LRADC1_CTRL_REF_VAL_BITPOS)        
                             7039 ; 218  |
                             7040 ; 219  |#define HW_LRADC1_CTRL_INPUT_OFFSET_CLRMASK (~(WORD)HW_LRADC1_CTRL_INPUT_OFFSET_SETMASK)     
                             7041 ; 220  |#define HW_LRADC1_CTRL_HALF_CMP_PWR_CLRMASK (~(WORD)HW_LRADC1_CTRL_HALF_CMP_PWR_SETMASK)     
                             7042 ; 221  |#define HW_LRADC1_CTRL_INPUT_DIV2_CLRMASK (~(WORD)HW_LRADC1_CTRL_INPUT_DIV2_SETMASK) 
                             7043 ; 222  |#define HW_LRADC1_CTRL_CLEAR_CLRMASK (~(WORD)HW_LRADC1_CTRL_CLEAR_SETMASK) 
                             7044 ; 223  |#define HW_LRADC1_CTRL_PWD_CLRMASK (~(WORD)HW_LRADC1_CTRL_PWD_SETMASK) 
                             7045 ; 224  |#define HW_LRADC1_CTRL_CLK_DIV_CLRMASK (~(WORD)HW_LRADC1_CTRL_CLK_DIV_SETMASK)     
                             7046 ; 225  |#define HW_LRADC1_CTRL_REF_VAL_CLRMASK (~(WORD)HW_LRADC1_CTRL_REF_VAL_SETMASK)     
                             7047 ; 226  |
                             7048 ; 227  |#define HW_LRADC1_CTRL      (*(volatile lradc_ctrl_type _X*) (HW_LRADC_BASEADDR+3))    /* LRADC1 Control Register */
                             7049 ; 228  |
                             7050 ; 229  |
                             7051 ; 230  |
                             7052 ; 231  |/////////////////////////////////////////////////////////////////////////////////
                             7053 ; 232  |//  LRADC1 Threshold Register (HW_LRADC1_THRSH) Bit Definitions
                             7054 ; 233  |#define HW_LRADC1_THRSH_MIN_THRESHOLD_WIDTH (9)
                             7055 ; 234  |#define HW_LRADC1_THRSH_RSVD0_WIDTH (3)
                             7056 ; 235  |#define HW_LRADC1_THRSH_MAX_THRESHOLD_WIDTH (9)
                             7057 ; 236  |#define HW_LRADC1_THRSH_RSVD1_WIDTH (3)
                             7058 ; 237  |
                             7059 ; 238  |#define HW_LRADC1_THRSH_MIN_THRESHOLD_BITPOS (0)
                             7060 ; 239  |#define HW_LRADC1_THRSH_MAX_THRESHOLD_BITPOS (12)
                             7061 ; 240  |
                             7062 ; 241  |#define HW_LRADC1_THRSH_MIN_THRESHOLD_SETMASK (((1<<HW_LRADC1_THRSH_MIN_THRESHOLD_WIDTH)-1)<<HW_LRADC1_THRSH_MIN_THRESHOLD_BITPOS)        
                             7063 ; 242  |#define HW_LRADC1_THRSH_MAX_THRESHOLD_SETMASK (((1<<HW_LRADC1_THRSH_MAX_THRESHOLD_WIDTH)-1)<<HW_LRADC1_THRSH_MAX_THRESHOLD_BITPOS)        
                             7064 ; 243  |
                             7065 ; 244  |#define HW_LRADC1_THRSH_MIN_THRESHOLD_CLRMASK (~(WORD)HW_LRADC1_THRSH_MIN_THRESHOLD_SETMASK)     
                             7066 ; 245  |#define HW_LRADC1_THRSH_MAX_THRESHOLD_CLRMASK (~(WORD)HW_LRADC1_THRSH_MAX_THRESHOLD_SETMASK)     
                             7067 ; 246  |
                             7068 ; 247  |#define HW_LRADC1_THRSH      (*(volatile lradc_thrsh_type _X*) (HW_LRADC_BASEADDR+4))    /* LRADC1 Threshold Register */
                             7069 ; 248  |
                             7070 ; 249  |/////////////////////////////////////////////////////////////////////////////////
                             7071 ; 250  |//  LRADC1 Result Register (HW_LRADC1_RESULT) Bit Definitions
                             7072 ; 251  |#define HW_LRADC1_RESULT_EQ_EVENT1_WIDTH (1)
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page  29

M:ADDR CODE           CYCLES LINE SOURCELINE
                             7073 ; 252  |#define HW_LRADC1_RESULT_EQ_EVENT0_WIDTH (1)
                             7074 ; 253  |#define HW_LRADC1_RESULT_GT_EVENT1_WIDTH (1)
                             7075 ; 254  |#define HW_LRADC1_RESULT_GT_EVENT0_WIDTH (1)
                             7076 ; 255  |#define HW_LRADC1_RESULT_LT_EVENT1_WIDTH (1)
                             7077 ; 256  |#define HW_LRADC1_RESULT_LT_EVENT0_WIDTH (1)
                             7078 ; 257  |#define HW_LRADC1_RESULT_RSVD0_WIDTH (2)
                             7079 ; 258  |#define HW_LRADC1_RESULT_DATA_OUT_WIDTH (9)
                             7080 ; 259  |#define HW_LRADC1_RESULT_RSVD1_WIDTH (3)
                             7081 ; 260  |#define HW_LRADC1_RESULT_IRQ_EVENT0_WIDTH (1)
                             7082 ; 261  |#define HW_LRADC1_RESULT_IRQ_EVENT1_WIDTH (1)
                             7083 ; 262  |#define HW_LRADC1_RESULT_RSVD2_WIDTH (2)
                             7084 ; 263  |
                             7085 ; 264  |#define HW_LRADC1_RESULT_EQ_EVENT1_BITPOS (0)
                             7086 ; 265  |#define HW_LRADC1_RESULT_EQ_EVENT0_BITPOS (1)
                             7087 ; 266  |#define HW_LRADC1_RESULT_GT_EVENT1_BITPOS (2)
                             7088 ; 267  |#define HW_LRADC1_RESULT_GT_EVENT0_BITPOS (3)
                             7089 ; 268  |#define HW_LRADC1_RESULT_LT_EVENT1_BITPOS (4)
                             7090 ; 269  |#define HW_LRADC1_RESULT_LT_EVENT0_BITPOS (5)
                             7091 ; 270  |#define HW_LRADC1_RESULT_RSVD0_BITPOS (6)
                             7092 ; 271  |#define HW_LRADC1_RESULT_DATA_OUT_BITPOS (8)
                             7093 ; 272  |#define HW_LRADC1_RESULT_RSVD1_BITPOS (17)
                             7094 ; 273  |#define HW_LRADC1_RESULT_IRQ_EVENT0_BITPOS (20)
                             7095 ; 274  |#define HW_LRADC1_RESULT_IRQ_EVENT1_BITPOS (21)
                             7096 ; 275  |#define HW_LRADC1_RESULT_RSVD2_BITPOS (22)
                             7097 ; 276  |
                             7098 ; 277  |#define HW_LRADC1_RESULT_EQ_EVENT1_SETMASK (((1<<HW_LRADC1_RESULT_EQ_EVENT1_WIDTH)-1)<<HW_LRADC1_RESULT_EQ_EVENT1_BITPOS)
                             7099 ; 278  |#define HW_LRADC1_RESULT_EQ_EVENT0_SETMASK (((1<<HW_LRADC1_RESULT_EQ_EVENT0_WIDTH)-1)<<HW_LRADC1_RESULT_EQ_EVENT0_BITPOS)
                             7100 ; 279  |#define HW_LRADC1_RESULT_GT_EVENT1_SETMASK (((1<<HW_LRADC1_RESULT_GT_EVENT1_WIDTH)-1)<<HW_LRADC1_RESULT_GT_EVENT1_BITPOS)
                             7101 ; 280  |#define HW_LRADC1_RESULT_GT_EVENT0_SETMASK (((1<<HW_LRADC1_RESULT_GT_EVENT0_WIDTH)-1)<<HW_LRADC1_RESULT_GT_EVENT0_BITPOS)
                             7102 ; 281  |#define HW_LRADC1_RESULT_LT_EVENT1_SETMASK (((1<<HW_LRADC1_RESULT_LT_EVENT1_WIDTH)-1)<<HW_LRADC1_RESULT_LT_EVENT1_BITPOS)
                             7103 ; 282  |#define HW_LRADC1_RESULT_LT_EVENT0_SETMASK (((1<<HW_LRADC1_RESULT_LT_EVENT0_WIDTH)-1)<<HW_LRADC1_RESULT_LT_EVENT0_BITPOS)
                             7104 ; 283  |#define HW_LRADC1_RESULT_RSVD0_SETMASK (((1<<HW_LRADC1_RESULT_RSVD0_WIDTH)-1)<<HW_LRADC1_RESULT_RSVD0_BITPOS)
                             7105 ; 284  |#define HW_LRADC1_RESULT_DATA_OUT_SETMASK (((1<<HW_LRADC1_RESULT_DATA_OUT_WIDTH)-1)<<HW_LRADC1_RESULT_DATA_OUT_BITPOS)
                             7106 ; 285  |#define HW_LRADC1_RESULT_RSVD1_SETMASK (((1<<HW_LRADC1_RESULT_RSVD1_WIDTH)-1)<<HW_LRADC1_RESULT_RSVD1_BITPOS)
                             7107 ; 286  |#define HW_LRADC1_RESULT_IRQ_EVENT0_SETMASK (((1<<HW_LRADC1_RESULT_IRQ_EVENT0_WIDTH)-1)<<HW_LRADC1_RESULT_IRQ_EVENT0_BITPOS)
                             7108 ; 287  |#define HW_LRADC1_RESULT_IRQ_EVENT1_SETMASK (((1<<HW_LRADC1_RESULT_IRQ_EVENT1_WIDTH)-1)<<HW_LRADC1_RESULT_IRQ_EVENT1_BITPOS)
                             7109 ; 288  |#define HW_LRADC1_RESULT_RSVD2_SETMASK (((1<<HW_LRADC1_RESULT_RSVD2_WIDTH)-1)<<HW_LRADC1_RESULT_RSVD2_BITPOS)
                             7110 ; 289  |
                             7111 ; 290  |
                             7112 ; 291  |#define HW_LRADC1_RESULT_EQ_EVENT1_CLRMASK (~(WORD)HW_LRADC1_RESULT_EQ_EVENT1_SETMASK)
                             7113 ; 292  |#define HW_LRADC1_RESULT_EQ_EVENT0_CLRMASK (~(WORD)HW_LRADC1_RESULT_EQ_EVENT0_SETMASK)
                             7114 ; 293  |#define HW_LRADC1_RESULT_GT_EVENT1_CLRMASK (~(WORD)HW_LRADC1_RESULT_GT_EVENT1_SETMASK)
                             7115 ; 294  |#define HW_LRADC1_RESULT_GT_EVENT0_CLRMASK (~(WORD)HW_LRADC1_RESULT_GT_EVENT0_SETMASK)
                             7116 ; 295  |#define HW_LRADC1_RESULT_LT_EVENT1_CLRMASK (~(WORD)HW_LRADC1_RESULT_LT_EVENT1_SETMASK)
                             7117 ; 296  |#define HW_LRADC1_RESULT_LT_EVENT0_CLRMASK (~(WORD)HW_LRADC1_RESULT_LT_EVENT0_SETMASK)
                             7118 ; 297  |#define HW_LRADC1_RESULT_RSVD0_CLRMASK (~(WORD)HW_LRADC1_RESULT_RSVD0_SETMASK)
                             7119 ; 298  |#define HW_LRADC1_RESULT_DATA_OUT_CLRMASK (~(WORD)HW_LRADC1_RESULT_DATA_OUT_SETMASK)
                             7120 ; 299  |#define HW_LRADC1_RESULT_RSVD1_CLRMASK (~(WORD)HW_LRADC1_RESULT_RSVD1_SETMASK)
                             7121 ; 300  |#define HW_LRADC1_RESULT_IRQ_EVENT0_CLRMASK (~(WORD)HW_LRADC1_RESULT_IRQ_EVENT0_SETMASK)
                             7122 ; 301  |#define HW_LRADC1_RESULT_IRQ_EVENT1_CLRMASK (~(WORD)HW_LRADC1_RESULT_IRQ_EVENT1_SETMASK)
                             7123 ; 302  |#define HW_LRADC1_RESULT_RSVD2_CLRMASK (~(WORD)HW_LRADC1_RESULT_RSVD2_SETMASK)
                             7124 ; 303  |
                             7125 ; 304  |#define HW_LRADC1_RESULT      (*(volatile lradc_result_type _X*) (HW_LRADC_BASEADDR+5))    /* LRADC1 Result Register */
                             7126 ; 305  |
                             7127 ; 306  |/////////////////////////////////////////////////////////////////////////////////
                             7128 ; 307  |//  LRADC2_CTRL Control Register (HW_LRADC2_CTRL_CTRL) Bit Definitions
                             7129 ; 308  |#define HW_LRADC2_CTRL_CTRL_INPUT_OFFSET_WIDTH (7)
                             7130 ; 309  |#define HW_LRADC2_CTRL_CTRL_RSVD0_WIDTH (1)
                             7131 ; 310  |#define HW_LRADC2_CTRL_CTRL_HALF_CMP_PWR_WIDTH (1)
                             7132 ; 311  |#define HW_LRADC2_CTRL_CTRL_INPUT_DIV2_WIDTH (1)
                             7133 ; 312  |#define HW_LRADC2_CTRL_CTRL_CLEAR_WIDTH (1)
                             7134 ; 313  |#define HW_LRADC2_CTRL_CTRL_PWD_WIDTH (1)
                             7135 ; 314  |#define HW_LRADC2_CTRL_CTRL_CLK_DIV_WIDTH (2)
                             7136 ; 315  |#define HW_LRADC2_CTRL_CTRL_RSVD1_WIDTH (2)
                             7137 ; 316  |#define HW_LRADC2_CTRL_CTRL_REF_VAL_WIDTH (2)
                             7138 ; 317  |#define HW_LRADC2_CTRL_CTRL_RSVD2_WIDTH (6)
                             7139 ; 318  |
                             7140 ; 319  |#define HW_LRADC2_CTRL_CTRL_INPUT_OFFSET_BITPOS (0)
                             7141 ; 320  |#define HW_LRADC2_CTRL_CTRL_HALF_CMP_PWR_BITPOS (8)
                             7142 ; 321  |#define HW_LRADC2_CTRL_CTRL_INPUT_DIV2_BITPOS (9)
                             7143 ; 322  |#define HW_LRADC2_CTRL_CTRL_CLEAR_BITPOS (10)
                             7144 ; 323  |#define HW_LRADC2_CTRL_CTRL_PWD_BITPOS (11)
                             7145 ; 324  |#define HW_LRADC2_CTRL_CTRL_CLK_DIV_BITPOS (12)
                             7146 ; 325  |#define HW_LRADC2_CTRL_CTRL_REF_VAL_BITPOS (16)
                             7147 ; 326  |
                             7148 ; 327  |#define HW_LRADC2_CTRL_CTRL_INPUT_OFFSET_SETMASK (((1<<HW_LRADC2_CTRL_CTRL_INPUT_OFFSET_WIDTH)-1)<<HW_LRADC2_CTRL_CTRL_INPUT_OFFSET_BITPOS)        
                             7149 ; 328  |#define HW_LRADC2_CTRL_CTRL_HALF_CMP_PWR_SETMASK (((1<<HW_LRADC2_CTRL_CTRL_HALF_CMP_PWR_WIDTH)-1)<<HW_LRADC2_CTRL_CTRL_HALF_CMP_PWR_BITPOS)        
                             7150 ; 329  |#define HW_LRADC2_CTRL_CTRL_INPUT_DIV2_SETMASK (((1<<HW_LRADC2_CTRL_CTRL_INPUT_DIV2_WIDTH)-1)<<HW_LRADC2_CTRL_CTRL_INPUT_DIV2_BITPOS) 
                             7151 ; 330  |#define HW_LRADC2_CTRL_CTRL_CLEAR_SETMASK (((1<<HW_LRADC2_CTRL_CTRL_CLEAR_WIDTH)-1)<<HW_LRADC2_CTRL_CTRL_CLEAR_BITPOS) 
                             7152 ; 331  |#define HW_LRADC2_CTRL_CTRL_PWD_SETMASK (((1<<HW_LRADC2_CTRL_CTRL_PWD_WIDTH)-1)<<HW_LRADC2_CTRL_CTRL_PWD_BITPOS) 
                             7153 ; 332  |#define HW_LRADC2_CTRL_CTRL_CLK_DIV_SETMASK (((1<<HW_LRADC2_CTRL_CTRL_CLK_DIV_WIDTH)-1)<<HW_LRADC2_CTRL_CTRL_CLK_DIV_BITPOS)        
                             7154 ; 333  |#define HW_LRADC2_CTRL_CTRL_REF_VAL_SETMASK (((1<<HW_LRADC2_CTRL_CTRL_REF_VAL_WIDTH)-1)<<HW_LRADC2_CTRL_CTRL_REF_VAL_BITPOS)        
                             7155 ; 334  |
                             7156 ; 335  |#define HW_LRADC2_CTRL_CTRL_INPUT_OFFSET_CLRMASK (~(WORD)HW_LRADC2_CTRL_CTRL_INPUT_OFFSET_SETMASK)     
                             7157 ; 336  |#define HW_LRADC2_CTRL_CTRL_HALF_CMP_PWR_CLRMASK (~(WORD)HW_LRADC2_CTRL_CTRL_HALF_CMP_PWR_SETMASK)     
                             7158 ; 337  |#define HW_LRADC2_CTRL_CTRL_INPUT_DIV2_CLRMASK (~(WORD)HW_LRADC2_CTRL_CTRL_INPUT_DIV2_SETMASK) 
                             7159 ; 338  |#define HW_LRADC2_CTRL_CTRL_CLEAR_CLRMASK (~(WORD)HW_LRADC2_CTRL_CTRL_CLEAR_SETMASK) 
                             7160 ; 339  |#define HW_LRADC2_CTRL_CTRL_PWD_CLRMASK (~(WORD)HW_LRADC2_CTRL_CTRL_PWD_SETMASK) 
                             7161 ; 340  |#define HW_LRADC2_CTRL_CTRL_CLK_DIV_CLRMASK (~(WORD)HW_LRADC2_CTRL_CTRL_CLK_DIV_SETMASK)     
                             7162 ; 341  |#define HW_LRADC2_CTRL_CTRL_REF_VAL_CLRMASK (~(WORD)HW_LRADC2_CTRL_CTRL_REF_VAL_SETMASK)     
                             7163 ; 342  |
                             7164 ; 343  |
                             7165 ; 344  |#define HW_LRADC2_CTRL      (*(volatile lradc_ctrl_type _X*) (HW_LRADC_BASEADDR+6))    /* LRADC2_CTRL Control Register */
                             7166 ; 345  |
                             7167 ; 346  |
                             7168 ; 347  |
                             7169 ; 348  |/////////////////////////////////////////////////////////////////////////////////
                             7170 ; 349  |//  LRADC2 Threshold Register (HW_LRADC2_THRSH) Bit Definitions
                             7171 ; 350  |#define HW_LRADC2_THRSH_MIN_THRESHOLD_WIDTH (9)
                             7172 ; 351  |#define HW_LRADC2_THRSH_RSVD0_WIDTH (3)
                             7173 ; 352  |#define HW_LRADC2_THRSH_MAX_THRESHOLD_WIDTH (9)
                             7174 ; 353  |#define HW_LRADC2_THRSH_RSVD1_WIDTH (3)
                             7175 ; 354  |
                             7176 ; 355  |#define HW_LRADC2_THRSH_MIN_THRESHOLD_BITPOS (0)
                             7177 ; 356  |#define HW_LRADC2_THRSH_MAX_THRESHOLD_BITPOS (12)
                             7178 ; 357  |
                             7179 ; 358  |#define HW_LRADC2_THRSH_MIN_THRESHOLD_SETMASK (((1<<HW_LRADC2_THRSH_MIN_THRESHOLD_WIDTH)-1)<<HW_LRADC2_THRSH_MIN_THRESHOLD_BITPOS)        
                             7180 ; 359  |#define HW_LRADC2_THRSH_MAX_THRESHOLD_SETMASK (((1<<HW_LRADC2_THRSH_MAX_THRESHOLD_WIDTH)-1)<<HW_LRADC2_THRSH_MAX_THRESHOLD_BITPOS)        
                             7181 ; 360  |
                             7182 ; 361  |#define HW_LRADC2_THRSH_MIN_THRESHOLD_CLRMASK (~(WORD)HW_LRADC2_THRSH_MIN_THRESHOLD_SETMASK)     
                             7183 ; 362  |#define HW_LRADC2_THRSH_MAX_THRESHOLD_CLRMASK (~(WORD)HW_LRADC2_THRSH_MAX_THRESHOLD_SETMASK)     
                             7184 ; 363  |
                             7185 ; 364  |#define HW_LRADC2_THRSH      (*(volatile lradc_thrsh_type _X*) (HW_LRADC_BASEADDR+7))    /* LRADC2 Threshold Register */
                             7186 ; 365  |
                             7187 ; 366  |
                             7188 ; 367  |
                             7189 ; 368  |/////////////////////////////////////////////////////////////////////////////////
                             7190 ; 369  |//  LRADC2 Result Register (HW_LRADC2_RESULT) Bit Definitions
                             7191 ; 370  |#define HW_LRADC2_RESULT_EQ_EVENT1_WIDTH (1)
                             7192 ; 371  |#define HW_LRADC2_RESULT_EQ_EVENT0_WIDTH (1)
                             7193 ; 372  |#define HW_LRADC2_RESULT_GT_EVENT1_WIDTH (1)
                             7194 ; 373  |#define HW_LRADC2_RESULT_GT_EVENT0_WIDTH (1)
                             7195 ; 374  |#define HW_LRADC2_RESULT_LT_EVENT1_WIDTH (1)
                             7196 ; 375  |#define HW_LRADC2_RESULT_LT_EVENT0_WIDTH (1)
                             7197 ; 376  |#define HW_LRADC2_RESULT_RSVD0_WIDTH (2)
                             7198 ; 377  |#define HW_LRADC2_RESULT_DATA_OUT_WIDTH (9)
                             7199 ; 378  |#define HW_LRADC2_RESULT_RSVD1_WIDTH (3)
                             7200 ; 379  |#define HW_LRADC2_RESULT_IRQ_EVENT0_WIDTH (1)
                             7201 ; 380  |#define HW_LRADC2_RESULT_IRQ_EVENT1_WIDTH (1)
                             7202 ; 381  |#define HW_LRADC2_RESULT_RSVD2_WIDTH (2)
                             7203 ; 382  |
                             7204 ; 383  |#define HW_LRADC2_RESULT_EQ_EVENT1_BITPOS (0)
                             7205 ; 384  |#define HW_LRADC2_RESULT_EQ_EVENT0_BITPOS (1)
                             7206 ; 385  |#define HW_LRADC2_RESULT_GT_EVENT1_BITPOS (2)
                             7207 ; 386  |#define HW_LRADC2_RESULT_GT_EVENT0_BITPOS (3)
                             7208 ; 387  |#define HW_LRADC2_RESULT_LT_EVENT1_BITPOS (4)
                             7209 ; 388  |#define HW_LRADC2_RESULT_LT_EVENT0_BITPOS (5)
                             7210 ; 389  |#define HW_LRADC2_RESULT_RSVD0_BITPOS (6)
                             7211 ; 390  |#define HW_LRADC2_RESULT_DATA_OUT_BITPOS (8)
                             7212 ; 391  |#define HW_LRADC2_RESULT_RSVD1_BITPOS (17)
                             7213 ; 392  |#define HW_LRADC2_RESULT_IRQ_EVENT0_BITPOS (20)
                             7214 ; 393  |#define HW_LRADC2_RESULT_IRQ_EVENT1_BITPOS (21)
                             7215 ; 394  |#define HW_LRADC2_RESULT_RSVD2_BITPOS (22)
                             7216 ; 395  |
                             7217 ; 396  |#define HW_LRADC2_RESULT_EQ_EVENT1_SETMASK (((1<<HW_LRADC2_RESULT_EQ_EVENT1_WIDTH)-1)<<HW_LRADC2_RESULT_EQ_EVENT1_BITPOS)
                             7218 ; 397  |#define HW_LRADC2_RESULT_EQ_EVENT0_SETMASK (((1<<HW_LRADC2_RESULT_EQ_EVENT0_WIDTH)-1)<<HW_LRADC2_RESULT_EQ_EVENT0_BITPOS)
                             7219 ; 398  |#define HW_LRADC2_RESULT_GT_EVENT1_SETMASK (((1<<HW_LRADC2_RESULT_GT_EVENT1_WIDTH)-1)<<HW_LRADC2_RESULT_GT_EVENT1_BITPOS)
                             7220 ; 399  |#define HW_LRADC2_RESULT_GT_EVENT0_SETMASK (((1<<HW_LRADC2_RESULT_GT_EVENT0_WIDTH)-1)<<HW_LRADC2_RESULT_GT_EVENT0_BITPOS)
                             7221 ; 400  |#define HW_LRADC2_RESULT_LT_EVENT1_SETMASK (((1<<HW_LRADC2_RESULT_LT_EVENT1_WIDTH)-1)<<HW_LRADC2_RESULT_LT_EVENT1_BITPOS)
                             7222 ; 401  |#define HW_LRADC2_RESULT_LT_EVENT0_SETMASK (((1<<HW_LRADC2_RESULT_LT_EVENT0_WIDTH)-1)<<HW_LRADC2_RESULT_LT_EVENT0_BITPOS)
                             7223 ; 402  |#define HW_LRADC2_RESULT_RSVD0_SETMASK (((1<<HW_LRADC2_RESULT_RSVD0_WIDTH)-1)<<HW_LRADC2_RESULT_RSVD0_BITPOS)
                             7224 ; 403  |#define HW_LRADC2_RESULT_DATA_OUT_SETMASK (((1<<HW_LRADC2_RESULT_DATA_OUT_WIDTH)-1)<<HW_LRADC2_RESULT_DATA_OUT_BITPOS)
                             7225 ; 404  |#define HW_LRADC2_RESULT_RSVD1_SETMASK (((1<<HW_LRADC2_RESULT_RSVD1_WIDTH)-1)<<HW_LRADC2_RESULT_RSVD1_BITPOS)
                             7226 ; 405  |#define HW_LRADC2_RESULT_IRQ_EVENT0_SETMASK (((1<<HW_LRADC2_RESULT_IRQ_EVENT0_WIDTH)-1)<<HW_LRADC2_RESULT_IRQ_EVENT0_BITPOS)
                             7227 ; 406  |#define HW_LRADC2_RESULT_IRQ_EVENT1_SETMASK (((1<<HW_LRADC2_RESULT_IRQ_EVENT1_WIDTH)-1)<<HW_LRADC2_RESULT_IRQ_EVENT1_BITPOS)
                             7228 ; 407  |#define HW_LRADC2_RESULT_RSVD2_SETMASK (((1<<HW_LRADC2_RESULT_RSVD2_WIDTH)-1)<<HW_LRADC2_RESULT_RSVD2_BITPOS)
                             7229 ; 408  |
                             7230 ; 409  |#define HW_LRADC2_RESULT_EQ_EVENT1_CLRMASK (~(WORD)HW_LRADC2_RESULT_EQ_EVENT1_SETMASK)
                             7231 ; 410  |#define HW_LRADC2_RESULT_EQ_EVENT0_CLRMASK (~(WORD)HW_LRADC2_RESULT_EQ_EVENT0_SETMASK)
                             7232 ; 411  |#define HW_LRADC2_RESULT_GT_EVENT1_CLRMASK (~(WORD)HW_LRADC2_RESULT_GT_EVENT1_SETMASK)
                             7233 ; 412  |#define HW_LRADC2_RESULT_GT_EVENT0_CLRMASK (~(WORD)HW_LRADC2_RESULT_GT_EVENT0_SETMASK)
                             7234 ; 413  |#define HW_LRADC2_RESULT_LT_EVENT1_CLRMASK (~(WORD)HW_LRADC2_RESULT_LT_EVENT1_SETMASK)
                             7235 ; 414  |#define HW_LRADC2_RESULT_LT_EVENT0_CLRMASK (~(WORD)HW_LRADC2_RESULT_LT_EVENT0_SETMASK)
                             7236 ; 415  |#define HW_LRADC2_RESULT_RSVD0_CLRMASK (~(WORD)HW_LRADC2_RESULT_RSVD0_SETMASK)
                             7237 ; 416  |#define HW_LRADC2_RESULT_DATA_OUT_CLRMASK (~(WORD)HW_LRADC2_RESULT_DATA_OUT_SETMASK)
                             7238 ; 417  |#define HW_LRADC2_RESULT_RSVD1_CLRMASK (~(WORD)HW_LRADC2_RESULT_RSVD1_SETMASK)
                             7239 ; 418  |#define HW_LRADC2_RESULT_IRQ_EVENT0_CLRMASK (~(WORD)HW_LRADC2_RESULT_IRQ_EVENT0_SETMASK)
                             7240 ; 419  |#define HW_LRADC2_RESULT_IRQ_EVENT1_CLRMASK (~(WORD)HW_LRADC2_RESULT_IRQ_EVENT1_SETMASK)
                             7241 ; 420  |#define HW_LRADC2_RESULT_RSVD2_CLRMASK (~(WORD)HW_LRADC2_RESULT_RSVD2_SETMASK)
                             7242 ; 421  |
                             7243 ; 422  |#define HW_LRADC2_RESULT      (*(volatile lradc_result_type _X*) (HW_LRADC_BASEADDR+8))    /* LRADC2 Result Register */
                             7244 ; 423  |#define HW_LRADC_REF_0_SETMASK                  0x0<<HW_BATT_CTRL_REF_VAL_BITPOS
                             7245 ; 424  |#define HW_LRADC_REF_1_SETMASK                  0x1<<HW_BATT_CTRL_REF_VAL_BITPOS
                             7246 ; 425  |#define HW_LRADC_REF_2_SETMASK                  0x2<<HW_BATT_CTRL_REF_VAL_BITPOS
                             7247 ; 426  |#define HW_LRADC_REF_3_SETMASK                  0x3<<HW_BATT_CTRL_REF_VAL_BITPOS
                             7248 ; 427  |#define HW_LRADC_REF_4_SETMASK                  HW_LRADC_REF_0_SETMASK|HW_BATT_CTRL_INPUT_DIV2_SETMASK
                             7249 ; 428  |#define HW_LRADC_REF_5_SETMASK                  HW_LRADC_REF_1_SETMASK|HW_BATT_CTRL_INPUT_DIV2_SETMASK
                             7250 ; 429  |#define HW_LRADC_REF_6_SETMASK                  HW_LRADC_REF_2_SETMASK|HW_BATT_CTRL_INPUT_DIV2_SETMASK
                             7251 ; 430  |#define HW_LRADC_REF_7_SETMASK                  HW_LRADC_REF_3_SETMASK|HW_BATT_CTRL_INPUT_DIV2_SETMASK
                             7252 ; 431  |#define HW_LRADC_RES_REF_0                              80
                             7253 ; 432  |#define HW_LRADC_RES_REF_1                              77
                             7254 ; 433  |#define HW_LRADC_RES_REF_2                              100
                             7255 ; 434  |#define HW_LRADC_RES_REF_3                              129
                             7256 ; 435  |#define HW_LRADC_RES_REF_4                              160
                             7257 ; 436  |#define HW_LRADC_RES_REF_5                              154
                             7258 ; 437  |#define HW_LRADC_RES_REF_6                              200
                             7259 ; 438  |#define HW_LRADC_RES_REF_7                              258
                             7260 ; 439  |#define LRADC_HALF_POWER_SETMASK                HW_BATT_CTRL_HALF_CMP_PWR_SETMASK          
                             7261 ; 440  |// Translate the generic API enumerations into more meaningful labels for the implementation
                             7262 ; 441  |#define REF_2700MV                      HW_LRADC_REF_0_SETMASK
                             7263 ; 442  |#define REF_2600MV              HW_LRADC_REF_1_SETMASK
                             7264 ; 443  |#define REF_2560MV              HW_LRADC_REF_2_SETMASK
                             7265 ; 444  |#define REF_VDDIO               HW_LRADC_REF_3_SETMASK
                             7266 ; 445  |#define REF_5400MV              HW_LRADC_REF_4_SETMASK
                             7267 ; 446  |#define REF_5200MV              HW_LRADC_REF_5_SETMASK
                             7268 ; 447  |#define REF_5120MV              HW_LRADC_REF_6_SETMASK
                             7269 ; 448  |#define REF_VDDIOx2             HW_LRADC_REF_7_SETMASK
                             7270 ; 449  |#define RES_REF_2700MV  HW_LRADC_RES_REF_0
                             7271 ; 450  |#define RES_REF_2600MV  HW_LRADC_RES_REF_1
                             7272 ; 451  |#define RES_REF_2560MV  HW_LRADC_RES_REF_2
                             7273 ; 452  |#define RES_REF_VDDIO   HW_LRADC_RES_REF_3
                             7274 ; 453  |#define RES_REF_5400MV  HW_LRADC_RES_REF_4
                             7275 ; 454  |#define RES_REF_5200MV  HW_LRADC_RES_REF_5
                             7276 ; 455  |#define RES_REF_5120MV  HW_LRADC_RES_REF_6
                             7277 ; 456  |#define RES_REF_VDDIOx2         HW_LRADC_RES_REF_7
                             7278 ; 457  |
                             7279 ; 458  |//Needed by button.asm
                             7280 ; 459  |#define LOW_RES_ADC_BATT_READ_MASK 0x01FF00
                             7281 ; 460  |#define LOW_RES_ADC_AUX_READ_MASK 0x01FF00
                             7282 ; 461  |#define LOW_RES_ADC_AUX2_READ_MASK 0x01FF00
                             7283 ; 462  |
                             7284 ; 463  |#define HW_LRADC_CTRL_AUXADC_SETMASK 3<<HW_BATT_CTRL_REF_VAL_BITPOS
                             7285 ; 464  |
                             7286 ; 465  |#endif
                             7287 ; 466  |
                             7288 ; 467  |
                             7289 
                             7291 
                             7292 ; 27   |#include "regspwm.h"
                             7293 
                             7295 
                             7296 ; 1    |/////////////////////////////////////////////////////////////////////////////////
                             7297 ; 2    |// Copyright(C) SigmaTel, Inc. 2000-2001
                             7298 ; 3    |// Filename: regspwm.inc
                             7299 ; 4    |// Description: Register definitions for PWM interface
                             7300 ; 5    |/////////////////////////////////////////////////////////////////////////////////
                             7301 ; 6    |// The following naming conventions are followed in this file.
                             7302 ; 7    |// All registers are named using the format...
                             7303 ; 8    |//     HW_<module>_<regname>
                             7304 ; 9    |// where <module> is the module name which can be any of the following...
                             7305 ; 10   |//     USB20
                             7306 ; 11   |// (Note that when there is more than one copy of a particular module, the
                             7307 ; 12   |// module name includes a number starting from 0 for the first instance of
                             7308 ; 13   |// that module)
                             7309 ; 14   |// <regname> is the specific register within that module
                             7310 ; 15   |// We also define the following...
                             7311 ; 16   |//     HW_<module>_<regname>_BITPOS
                             7312 ; 17   |// which defines the starting bit (i.e. LSB) of a multi bit field
                             7313 ; 18   |//     HW_<module>_<regname>_SETMASK
                             7314 ; 19   |// which does something else, and
                             7315 ; 20   |//     HW_<module>_<regname>_CLRMASK
                             7316 ; 21   |// which does something else.
                             7317 ; 22   |// Other rules
                             7318 ; 23   |//     All caps
                             7319 ; 24   |//     Numeric identifiers start at 0
                             7320 ; 25   |#if !(defined(regspwminc))
                             7321 ; 26   |#define regspwminc 1
                             7322 ; 27   |
                             7323 ; 28   |#include "types.h"
                             7324 
                             7326 
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page  30

M:ADDR CODE           CYCLES LINE SOURCELINE
                             7327 ; 1    |////////////////////////////////////////////////////////////////////////////////
                             7328 ; 2    |// Copyright(C) SigmaTel, Inc. 2000-2004
                             7329 ; 3    |//
                             7330 ; 4    |// Filename: types.h
                             7331 ; 5    |// Description: Standard data types
                             7332 ; 6    |////////////////////////////////////////////////////////////////////////////////
                             7333 ; 7    |
                             7334 ; 8    |#ifndef _TYPES_H
                             7335 ; 9    |#define _TYPES_H
                             7336 ; 10   |
                             7337 ; 11   |// TODO:  move this outta here!
                             7338 ; 12   |#if !defined(NOERROR)
                             7339 ; 13   |#define NOERROR 0
                             7340 ; 14   |#define SUCCESS 0
                             7341 ; 15   |#endif 
                             7342 ; 16   |#if !defined(SUCCESS)
                             7343 ; 17   |#define SUCCESS  0
                             7344 ; 18   |#endif
                             7345 ; 19   |#if !defined(ERROR)
                             7346 ; 20   |#define ERROR   -1
                             7347 ; 21   |#endif
                             7348 ; 22   |#if !defined(FALSE)
                             7349 ; 23   |#define FALSE 0
                             7350 ; 24   |#endif
                             7351 ; 25   |#if !defined(TRUE)
                             7352 ; 26   |#define TRUE  1
                             7353 ; 27   |#endif
                             7354 ; 28   |
                             7355 ; 29   |#if !defined(NULL)
                             7356 ; 30   |#define NULL 0
                             7357 ; 31   |#endif
                             7358 ; 32   |
                             7359 ; 33   |#define MAX_INT     0x7FFFFF
                             7360 ; 34   |#define MAX_LONG    0x7FFFFFffffff
                             7361 ; 35   |        // max positive unsigned long value: -1 == 0xFFFFFFffffff
                             7362 ; 36   |#define MAX_ULONG   (-1) 
                             7363 ; 37   |
                             7364 ; 38   |#define WORD_SIZE   24              // word size in bits
                             7365 ; 39   |#define BYTES_PER_WORD 3            // 8 bit bytes
                             7366 ; 40   |
                             7367 ; 41   |
                             7368 ; 42   |#define BYTE    unsigned char       // btVarName
                             7369 ; 43   |#define CHAR    signed char         // cVarName
                             7370 ; 44   |#define USHORT  unsigned short      // usVarName
                             7371 ; 45   |#define SHORT   unsigned short      // sVarName
                             7372 ; 46   |#define WORD    unsigned int        // wVarName
                             7373 ; 47   |#define INT     signed int          // iVarName
                             7374 ; 48   |#define DWORD   unsigned long       // dwVarName
                             7375 ; 49   |#define LONG    signed long         // lVarName
                             7376 ; 50   |#define BOOL    unsigned int        // bVarName
                             7377 ; 51   |#define FRACT   _fract              // frVarName
                             7378 ; 52   |#define LFRACT  long _fract         // lfrVarName
                             7379 ; 53   |#define CIRC    _circ               // cp<type prefix>VarName (see below)
                             7380 ; 54   |#define FLOAT   float               // fVarName
                             7381 ; 55   |#define DBL     double              // dVarName
                             7382 ; 56   |#define ENUM    enum                // eVarName
                             7383 ; 57   |#define CMX     _complex            // cmxVarName
                             7384 ; 58   |typedef WORD UCS3;                   // 
                             7385 ; 59   |
                             7386 ; 60   |#define UINT16  unsigned short
                             7387 ; 61   |#define UINT8   unsigned char   
                             7388 ; 62   |#define UINT32  unsigned long
                             7389 ; 63   |#define UINT64  unsigned long   // need to figure out how to do 64 bit values.  Or port exisiting code to only use 48 bit
                             7390 ; 64   |#define INT64   unsigned long   // need to figure out how to do 64 bit values.  Or port exisiting code to only use 48 bit
                             7391 ; 65   |#define WCHAR   UINT16
                             7392 ; 66   |
                             7393 ; 67   |//UINT128 is 16 bytes or 6 words
                             7394 ; 68   |typedef struct UINT128_3500 {   
                             7395 ; 69   |    int val[6];     
                             7396 ; 70   |} UINT128_3500;
                             7397 ; 71   |
                             7398 ; 72   |#define UINT128   UINT128_3500
                             7399 ; 73   |
                             7400 ; 74   |// Little endian word packed byte strings:   
                             7401 ; 75   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                             7402 ; 76   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                             7403 ; 77   |// Little endian word packed byte strings:   
                             7404 ; 78   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                             7405 ; 79   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                             7406 ; 80   |
                             7407 ; 81   |// Declare Memory Spaces To Use When Coding
                             7408 ; 82   |// A. Sector Buffers
                             7409 ; 83   |#define SECTOR_BUFFER_MEM_X _X
                             7410 ; 84   |#define SECTOR_BUFFER_MEM_Y _Y
                             7411 ; 85   |#define SECTOR_BUFFER_MEM SECTOR_BUFFER_MEM_X
                             7412 ; 86   |typedef WORD SECTOR_BUFFER_MEM SECTOR_BUFFER;
                             7413 ; 87   |typedef SECTOR_BUFFER * P_SECTOR_BUFFER;
                             7414 ; 88   |// B. Media DDI Memory
                             7415 ; 89   |#define MEDIA_DDI_MEM _Y
                             7416 ; 90   |
                             7417 ; 91   |
                             7418 ; 92   |
                             7419 ; 93   |// Pointers to linear structures are labeled as: p<type prefix>VarName
                             7420 ; 94   |// Examples of circular pointers:
                             7421 ; 95   |//    INT CIRC cpiVarName
                             7422 ; 96   |//    DWORD CIRC cpdwVarName
                             7423 ; 97   |
                             7424 ; 98   |#define RETCODE INT                 // rcVarName
                             7425 ; 99   |
                             7426 ; 100  |// generic bitfield structure
                             7427 ; 101  |struct Bitfield {
                             7428 ; 102  |    unsigned int B0  :1;
                             7429 ; 103  |    unsigned int B1  :1;
                             7430 ; 104  |    unsigned int B2  :1;
                             7431 ; 105  |    unsigned int B3  :1;
                             7432 ; 106  |    unsigned int B4  :1;
                             7433 ; 107  |    unsigned int B5  :1;
                             7434 ; 108  |    unsigned int B6  :1;
                             7435 ; 109  |    unsigned int B7  :1;
                             7436 ; 110  |    unsigned int B8  :1;
                             7437 ; 111  |    unsigned int B9  :1;
                             7438 ; 112  |    unsigned int B10 :1;
                             7439 ; 113  |    unsigned int B11 :1;
                             7440 ; 114  |    unsigned int B12 :1;
                             7441 ; 115  |    unsigned int B13 :1;
                             7442 ; 116  |    unsigned int B14 :1;
                             7443 ; 117  |    unsigned int B15 :1;
                             7444 ; 118  |    unsigned int B16 :1;
                             7445 ; 119  |    unsigned int B17 :1;
                             7446 ; 120  |    unsigned int B18 :1;
                             7447 ; 121  |    unsigned int B19 :1;
                             7448 ; 122  |    unsigned int B20 :1;
                             7449 ; 123  |    unsigned int B21 :1;
                             7450 ; 124  |    unsigned int B22 :1;
                             7451 ; 125  |    unsigned int B23 :1;
                             7452 ; 126  |};
                             7453 ; 127  |
                             7454 ; 128  |union BitInt {
                             7455 ; 129  |        struct Bitfield B;
                             7456 ; 130  |        int        I;
                             7457 ; 131  |};
                             7458 ; 132  |
                             7459 ; 133  |#define MAX_MSG_LENGTH 10
                             7460 ; 134  |struct CMessage
                             7461 ; 135  |{
                             7462 ; 136  |        unsigned int m_uLength;
                             7463 ; 137  |        unsigned int m_uMsg[MAX_MSG_LENGTH];
                             7464 ; 138  |};
                             7465 ; 139  |
                             7466 ; 140  |typedef struct {
                             7467 ; 141  |    WORD m_wLength;
                             7468 ; 142  |    WORD m_wMessage;
                             7469 ; 143  |    WORD m_wParams[MAX_MSG_LENGTH];
                             7470 ; 144  |} Message;
                             7471 ; 145  |
                             7472 ; 146  |struct MessageQueueDescriptor
                             7473 ; 147  |{
                             7474 ; 148  |        int *m_pBase;
                             7475 ; 149  |        int m_iModulo;
                             7476 ; 150  |        int m_iSize;
                             7477 ; 151  |        int *m_pHead;
                             7478 ; 152  |        int *m_pTail;
                             7479 ; 153  |};
                             7480 ; 154  |
                             7481 ; 155  |struct ModuleEntry
                             7482 ; 156  |{
                             7483 ; 157  |    int m_iSignaledEventMask;
                             7484 ; 158  |    int m_iWaitEventMask;
                             7485 ; 159  |    int m_iResourceOfCode;
                             7486 ; 160  |    struct MessageQueueDescriptor *m_pMessageQueue;
                             7487 ; 161  |    int _asmfunc (*m_pProcessEntryPoint)(union WaitMask Signals,struct MessageQueueDescriptor *);
                             7488 ; 162  |    int _asmfunc (*m_pInitFunction)(struct MessageQueueDescriptor *);
                             7489 ; 163  |    int m_uTimeOutHigh;
                             7490 ; 164  |    int m_uTimeOutLow;
                             7491 ; 165  |    int _asmfunc (*m_pBackgroundFunction)(struct MessageQueueDescriptor *);
                             7492 ; 166  |};
                             7493 ; 167  |
                             7494 ; 168  |union WaitMask{
                             7495 ; 169  |    struct B{
                             7496 ; 170  |        unsigned int m_bNone     :1;
                             7497 ; 171  |        unsigned int m_bMessage  :1;
                             7498 ; 172  |        unsigned int m_bTimer    :1;
                             7499 ; 173  |        unsigned int m_bButton   :1;
                             7500 ; 174  |    } B;
                             7501 ; 175  |    int I;
                             7502 ; 176  |} ;
                             7503 ; 177  |
                             7504 ; 178  |
                             7505 ; 179  |struct Button {
                             7506 ; 180  |        WORD wButtonEvent;
                             7507 ; 181  |        WORD wUnused[MAX_MSG_LENGTH];   
                             7508 ; 182  |};
                             7509 ; 183  |
                             7510 ; 184  |struct Message {
                             7511 ; 185  |        WORD wMsgLength;
                             7512 ; 186  |        WORD wMsgCommand;
                             7513 ; 187  |        WORD wMsgParms[MAX_MSG_LENGTH-1];
                             7514 ; 188  |};
                             7515 ; 189  |
                             7516 ; 190  |union EventTypes {
                             7517 ; 191  |        struct CMessage msg;
                             7518 ; 192  |        struct Button Button ;
                             7519 ; 193  |        struct Message Message;
                             7520 ; 194  |};
                             7521 ; 195  |
                             7522 ; 196  |// next 2 used to get updater build to return correct protocol ver in scsi response.
                             7523 ; 197  |#define BUILD_TYPE_UPDATER  0x100
                             7524 ; 198  |#define BUILD_TYPE_HOSTLINK 0x101
                             7525 ; 199  |#define BUILD_TYPE_PLAYER   0x102
                             7526 ; 200  |
                             7527 ; 201  |// Resets part if RETAIL build. DEBUG build executes debug instruction to halt.
                             7528 ; 202  |#define SystemHalt() __asm(" include 'sysmacro.asm' \n error") 
                             7529 ; 203  |#define assert(x)    if(!(x)) __asm(" include 'sysmacro.asm' \n error")
                             7530 ; 204  |
                             7531 ; 205  |#if DEBUG
                             7532 ; 206  |// For DEBUG builds, DebugBuildAssert(condition) halts if condition evaluates to FALSE. 
                             7533 ; 207  |#define DebugBuildAssert(x)    if(!(x)) __asm(" debug ")
                             7534 ; 208  |#else 
                             7535 ; 209  |// For RETAIL builds, DebugBuildAssert(condition) does nothing & execution continues rather than halt or reset. 
                             7536 ; 210  |#define DebugBuildAssert(x)    
                             7537 ; 211  |#endif
                             7538 ; 212  |
                             7539 ; 213  |// Do this in your C files to make a reminder that's displayed during the build.
                             7540 ; 214  |//  #pragma asm
                             7541 ; 215  |//  WARN 'Note to builder: reminder to do this after verifying that'
                             7542 ; 216  |//  #pragma endasm
                             7543 ; 217  |
                             7544 ; 218  |
                             7545 ; 219  |#ifdef COLOR_262K
                             7546 ; 220  |#define RGB(r,g,b)    ((0x0000FC & (r)) << 10) | ((0x0000FC & (g)) << 4) | ((0x0000FC & (b)) >> 2)    //262k
                             7547 ; 221  |#elif defined(COLOR_65K)
                             7548 ; 222  |#define RGB(r,g,b)    ((0x0000F8 & (r)) << 8) | ((0x0000FC & (g)) << 3) | ((0x0000F8 & (b)) >> 3)  //65k
                             7549 ; 223  |#else
                             7550 ; 224  |#define RGB(r,g,b)       ((0x0000F0 & (r)) << 4) | (0x0000F0 & (g)) | ((0x0000F0 & (b)) >> 4)
                             7551 ; 225  |#endif
                             7552 ; 226  |    
                             7553 ; 227  |#endif // #ifndef _TYPES_H
                             7554 
                             7556 
                             7557 ; 29   |
                             7558 ; 30   |//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                             7559 ; 31   |//   Pulse Width Modulator STMP Registers 
                             7560 ; 32   |//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                             7561 ; 33   |#define HW_PWM_BASEADDR (0xFA31)
                             7562 ; 34   |
                             7563 ; 35   |
                             7564 ; 36   |/////////////////////////////////////////////////////////////////////////////////
                             7565 ; 37   |//  PWM CSR register (HW_PWM_CSR) Bit Definitions
                             7566 ; 38   |#define HW_PWM_CSR_PWM0_EN_BITPOS (0)
                             7567 ; 39   |#define HW_PWM_CSR_PWM1_EN_BITPOS (1) 
                             7568 ; 40   |#define HW_PWM_CSR_PWM2_EN_BITPOS (2)
                             7569 ; 41   |#define HW_PWM_CSR_PWM3_EN_BITPOS (3)
                             7570 ; 42   |#define HW_PWM_CSR_CDIV_BITPOS (8)
                             7571 ; 43   |#define HW_PWM_CSR_MSTR_EN_BITPOS (23)
                             7572 ; 44   |
                             7573 ; 45   |#define HW_PWM_CSR_PWM0_EN_WIDTH (1)
                             7574 ; 46   |#define HW_PWM_CSR_PWM1_EN_WIDTH (1) 
                             7575 ; 47   |#define HW_PWM_CSR_PWM2_EN_WIDTH (1)
                             7576 ; 48   |#define HW_PWM_CSR_PWM3_EN_WIDTH (1)
                             7577 ; 49   |#define HW_PWM_CSR_CDIV_WIDTH (2)
                             7578 ; 50   |#define HW_PWM_CSR_MSTR_EN_WIDTH (1)
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page  31

M:ADDR CODE           CYCLES LINE SOURCELINE
                             7579 ; 51   |
                             7580 ; 52   |#define HW_PWM_CSR_PWM0_EN_SETMASK (((1<<HW_PWM_CSR_PWM0_EN_WIDTH)-1)<<HW_PWM_CSR_PWM0_EN_BITPOS)
                             7581 ; 53   |#define HW_PWM_CSR_PWM1_EN_SETMASK (((1<<HW_PWM_CSR_PWM1_EN_WIDTH)-1)<<HW_PWM_CSR_PWM1_EN_BITPOS)
                             7582 ; 54   |#define HW_PWM_CSR_PWM2_EN_SETMASK (((1<<HW_PWM_CSR_PWM2_EN_WIDTH)-1)<<HW_PWM_CSR_PWM2_EN_BITPOS)
                             7583 ; 55   |#define HW_PWM_CSR_PWM3_EN_SETMASK (((1<<HW_PWM_CSR_PWM3_EN_WIDTH)-1)<<HW_PWM_CSR_PWM3_EN_BITPOS)
                             7584 ; 56   |#define HW_PWM_CSR_CDIV_SETMASK (((1<<HW_PWM_CSR_CDIV_WIDTH)-1)<<HW_PWM_CSR_CDIV_BITPOS)
                             7585 ; 57   |#define HW_PWM_CSR_MSTR_EN_SETMASK (((1<<HW_PWM_CSR_MSTR_EN_WIDTH)-1)<<HW_PWM_CSR_MSTR_EN_BITPOS)
                             7586 ; 58   |
                             7587 ; 59   |#define HW_PWM_CSR_PWM0_EN_CLRMASK (~(WORD)HW_PWM_CSR_PWM0_EN_SETMASK)
                             7588 ; 60   |#define HW_PWM_CSR_PWM1_EN_CLRMASK (~(WORD)HW_PWM_CSR_PWM1_EN_SETMASK)
                             7589 ; 61   |#define HW_PWM_CSR_PWM2_EN_CLRMASK (~(WORD)HW_PWM_CSR_PWM2_EN_SETMASK)
                             7590 ; 62   |#define HW_PWM_CSR_PWM3_EN_CLRMASK (~(WORD)HW_PWM_CSR_PWM3_EN_SETMASK)
                             7591 ; 63   |#define HW_PWM_CSR_CDIV_CLRMASK (~(WORD)HW_PWM_CSR_CDIV_SETMASK)   
                             7592 ; 64   |#define HW_PWM_CSR_MSTR_EN_CLRMASK (~(WORD)HW_PWM_CSR_MSTR_EN_SETMASK)
                             7593 ; 65   |
                             7594 ; 66   |typedef union               
                             7595 ; 67   |{
                             7596 ; 68   |    struct {
                             7597 ; 69   |        int PWM0_EN                    :1;
                             7598 ; 70   |        int PWM1_EN                    :1;
                             7599 ; 71   |        int PWM2_EN                    :1;
                             7600 ; 72   |        int PWM3_EN                    :1;
                             7601 ; 73   |        int RSVD0                      :4;
                             7602 ; 74   |        int CDIV                       :2;
                             7603 ; 75   |        int RSVD1                      :13;
                             7604 ; 76   |        int MSTR_EN                    :1;
                             7605 ; 77   |    } B;
                             7606 ; 78   |    int I;
                             7607 ; 79   |} pwmcsr_type;
                             7608 ; 80   |#define HW_PWM_CSR        (*(volatile pwmcsr_type _X*) (HW_PWM_BASEADDR))  /* PWM Control Status Register */
                             7609 ; 81   |
                             7610 ; 82   |/////////////////////////////////////////////////////////////////////////////////
                             7611 ; 83   |//  PWM CHANNEL 0 A  (HW_PWM_CH0AR) Bit Definitions
                             7612 ; 84   |#define HW_PWM_CH0AR_ACTIVE_BITPOS (0)
                             7613 ; 85   |#define HW_PWM_CH0AR_INACTIVE_BITPOS (12)
                             7614 ; 86   |
                             7615 ; 87   |#define HW_PWM_CH0AR_ACTIVE_WIDTH (12)
                             7616 ; 88   |#define HW_PWM_CH0AR_INACTIVE_WIDTH (12)
                             7617 ; 89   |
                             7618 ; 90   |#define HW_PWM_CH0AR_ACTIVE_SETMASK (((1<<HW_PWM_CH0AR_ACTIVE_WIDTH)-1)<<HW_PWM_CH0AR_ACTIVE_BITPOS)
                             7619 ; 91   |#define HW_PWM_CH0AR_INACTIVE_SETMASK (((1<<HW_PWM_CH0AR_INACTIVE_WIDTH)-1)<<HW_PWM_CH0AR_INACTIVE_BITPOS)
                             7620 ; 92   |
                             7621 ; 93   |#define HW_PWM_CH0AR_ACTIVE_CLRMASK (~(WORD)HW_PWM_CH0AR_ACTIVE_SETMASK)
                             7622 ; 94   |#define HW_PWM_CH0AR_INACTIVE_CLRMASK (~(WORD)HW_PWM_CH0AR_INACTIVE_SETMASK)
                             7623 ; 95   |
                             7624 ; 96   |/////////////////////////////////////////////////////////////////////////////////
                             7625 ; 97   |//  PWM CHANNEL 0 B  (HW_PWM_CH0BR) Bit Definitions
                             7626 ; 98   |#define HW_PWM_CH0BR_ACTIVE_BITPOS (0)
                             7627 ; 99   |#define HW_PWM_CH0BR_INACTIVE_BITPOS (12)
                             7628 ; 100  |
                             7629 ; 101  |#define HW_PWM_CH0BR_ACTIVE_WIDTH (12)
                             7630 ; 102  |#define HW_PWM_CH0BR_INACTIVE_WIDTH (12)
                             7631 ; 103  |
                             7632 ; 104  |#define HW_PWM_CH0BR_ACTIVE_SETMASK (((1<<HW_PWM_CH0BR_ACTIVE_WIDTH)-1)<<HW_PWM_CH0BR_ACTIVE_BITPOS)
                             7633 ; 105  |#define HW_PWM_CH0BR_INACTIVE_SETMASK (((1<<HW_PWM_CH0BR_INACTIVE_WIDTH)-1)<<HW_PWM_CH0BR_INACTIVE_BITPOS)
                             7634 ; 106  |
                             7635 ; 107  |#define HW_PWM_CH0BR_ACTIVE_CLRMASK (~(WORD)HW_PWM_CH0BR_ACTIVE_SETMASK)
                             7636 ; 108  |#define HW_PWM_CH0BR_INACTIVE_CLRMASK (~(WORD)HW_PWM_CH0BR_INACTIVE_SETMASK)
                             7637 ; 109  |
                             7638 ; 110  |/////////////////////////////////////////////////////////////////////////////////
                             7639 ; 111  |//  PWM CHANNEL 1 A  (HW_PWM_CH1AR) Bit Definitions
                             7640 ; 112  |#define HW_PWM_CH1AR_ACTIVE_BITPOS (0)
                             7641 ; 113  |#define HW_PWM_CH1AR_INACTIVE_BITPOS (12)
                             7642 ; 114  |
                             7643 ; 115  |#define HW_PWM_CH1AR_ACTIVE_WIDTH (12)
                             7644 ; 116  |#define HW_PWM_CH1AR_INACTIVE_WIDTH (12)
                             7645 ; 117  |
                             7646 ; 118  |#define HW_PWM_CH1AR_ACTIVE_SETMASK (((1<<HW_PWM_CH1AR_ACTIVE_WIDTH)-1)<<HW_PWM_CH1AR_ACTIVE_BITPOS)
                             7647 ; 119  |#define HW_PWM_CH1AR_INACTIVE_SETMASK (((1<<HW_PWM_CH1AR_INACTIVE_WIDTH)-1)<<HW_PWM_CH1AR_INACTIVE_BITPOS)
                             7648 ; 120  |
                             7649 ; 121  |#define HW_PWM_CH1AR_ACTIVE_CLRMASK (~(WORD)HW_PWM_CH1AR_ACTIVE_SETMASK)
                             7650 ; 122  |#define HW_PWM_CH1AR_INACTIVE_CLRMASK (~(WORD)HW_PWM_CH1AR_INACTIVE_SETMASK)
                             7651 ; 123  |
                             7652 ; 124  |/////////////////////////////////////////////////////////////////////////////////
                             7653 ; 125  |//  PWM CHANNEL 1 B  (HW_PWM_CH1BR) Bit Definitions
                             7654 ; 126  |#define HW_PWM_CH1BR_ACTIVE_BITPOS (0)
                             7655 ; 127  |#define HW_PWM_CH1BR_INACTIVE_BITPOS (12)
                             7656 ; 128  |
                             7657 ; 129  |#define HW_PWM_CH1BR_ACTIVE_WIDTH (12)
                             7658 ; 130  |#define HW_PWM_CH1BR_INACTIVE_WIDTH (12)
                             7659 ; 131  |
                             7660 ; 132  |#define HW_PWM_CH1BR_ACTIVE_SETMASK (((1<<HW_PWM_CH1BR_ACTIVE_WIDTH)-1)<<HW_PWM_CH1BR_ACTIVE_BITPOS)
                             7661 ; 133  |#define HW_PWM_CH1BR_INACTIVE_SETMASK (((1<<HW_PWM_CH1BR_INACTIVE_WIDTH)-1)<<HW_PWM_CH1BR_INACTIVE_BITPOS)
                             7662 ; 134  |
                             7663 ; 135  |#define HW_PWM_CH1BR_ACTIVE_CLRMASK (~(WORD)HW_PWM_CH1BR_ACTIVE_SETMASK)
                             7664 ; 136  |#define HW_PWM_CH1BR_INACTIVE_CLRMASK (~(WORD)HW_PWM_CH1BR_INACTIVE_SETMASK)
                             7665 ; 137  |
                             7666 ; 138  |/////////////////////////////////////////////////////////////////////////////////
                             7667 ; 139  |//  PWM CHANNEL 2 A  (HW_PWM_CH2AR) Bit Definitions
                             7668 ; 140  |#define HW_PWM_CH2AR_ACTIVE_BITPOS (0)
                             7669 ; 141  |#define HW_PWM_CH2AR_INACTIVE_BITPOS (12)
                             7670 ; 142  |
                             7671 ; 143  |#define HW_PWM_CH2AR_ACTIVE_WIDTH (12)
                             7672 ; 144  |#define HW_PWM_CH2AR_INACTIVE_WIDTH (12)
                             7673 ; 145  |
                             7674 ; 146  |#define HW_PWM_CH2AR_ACTIVE_SETMASK (((1<<HW_PWM_CH2AR_ACTIVE_WIDTH)-1)<<HW_PWM_CH2AR_ACTIVE_BITPOS)
                             7675 ; 147  |#define HW_PWM_CH2AR_INACTIVE_SETMASK (((1<<HW_PWM_CH2AR_INACTIVE_WIDTH)-1)<<HW_PWM_CH2AR_INACTIVE_BITPOS)
                             7676 ; 148  |
                             7677 ; 149  |#define HW_PWM_CH2AR_ACTIVE_CLRMASK (~(WORD)HW_PWM_CH2AR_ACTIVE_SETMASK)
                             7678 ; 150  |#define HW_PWM_CH2AR_INACTIVE_CLRMASK (~(WORD)HW_PWM_CH2AR_INACTIVE_SETMASK)
                             7679 ; 151  |
                             7680 ; 152  |/////////////////////////////////////////////////////////////////////////////////
                             7681 ; 153  |//  PWM CHANNEL 2 B  (HW_PWM_CH2BR) Bit Definitions
                             7682 ; 154  |#define HW_PWM_CH2BR_ACTIVE_BITPOS (0)
                             7683 ; 155  |#define HW_PWM_CH2BR_INACTIVE_BITPOS (12)
                             7684 ; 156  |
                             7685 ; 157  |#define HW_PWM_CH2BR_ACTIVE_WIDTH (12)
                             7686 ; 158  |#define HW_PWM_CH2BR_INACTIVE_WIDTH (12)
                             7687 ; 159  |
                             7688 ; 160  |#define HW_PWM_CH2BR_ACTIVE_SETMASK (((1<<HW_PWM_CH2BR_ACTIVE_WIDTH)-1)<<HW_PWM_CH2BR_ACTIVE_BITPOS)
                             7689 ; 161  |#define HW_PWM_CH2BR_INACTIVE_SETMASK (((1<<HW_PWM_CH2BR_INACTIVE_WIDTH)-1)<<HW_PWM_CH2BR_INACTIVE_BITPOS)
                             7690 ; 162  |
                             7691 ; 163  |#define HW_PWM_CH2BR_ACTIVE_CLRMASK (~(WORD)HW_PWM_CH2BR_ACTIVE_SETMASK)
                             7692 ; 164  |#define HW_PWM_CH2BR_INACTIVE_CLRMASK (~(WORD)HW_PWM_CH2BR_INACTIVE_SETMASK)
                             7693 ; 165  |
                             7694 ; 166  |/////////////////////////////////////////////////////////////////////////////////
                             7695 ; 167  |//  PWM CHANNEL 3 A  (HW_PWM_CH3AR) Bit Definitions
                             7696 ; 168  |#define HW_PWM_CH3AR_ACTIVE_BITPOS (0)
                             7697 ; 169  |#define HW_PWM_CH3AR_INACTIVE_BITPOS (12)
                             7698 ; 170  |
                             7699 ; 171  |#define HW_PWM_CH3AR_ACTIVE_WIDTH (12)
                             7700 ; 172  |#define HW_PWM_CH3AR_INACTIVE_WIDTH (12)
                             7701 ; 173  |
                             7702 ; 174  |#define HW_PWM_CH3AR_ACTIVE_SETMASK (((1<<HW_PWM_CH3AR_ACTIVE_WIDTH)-1)<<HW_PWM_CH3AR_ACTIVE_BITPOS)
                             7703 ; 175  |#define HW_PWM_CH3AR_INACTIVE_SETMASK (((1<<HW_PWM_CH3AR_INACTIVE_WIDTH)-1)<<HW_PWM_CH3AR_INACTIVE_BITPOS)
                             7704 ; 176  |
                             7705 ; 177  |#define HW_PWM_CH3AR_ACTIVE_CLRMASK (~(WORD)HW_PWM_CH3AR_ACTIVE_SETMASK)
                             7706 ; 178  |#define HW_PWM_CH3AR_INACTIVE_CLRMASK (~(WORD)HW_PWM_CH3AR_INACTIVE_SETMASK)
                             7707 ; 179  |
                             7708 ; 180  |/////////////////////////////////////////////////////////////////////////////////
                             7709 ; 181  |//  PWM CHANNEL 3 B  (HW_PWM_CH3BR) Bit Definitions
                             7710 ; 182  |#define HW_PWM_CH3BR_ACTIVE_BITPOS (0)
                             7711 ; 183  |#define HW_PWM_CH3BR_INACTIVE_BITPOS (12)
                             7712 ; 184  |
                             7713 ; 185  |#define HW_PWM_CH3BR_ACTIVE_WIDTH (12)
                             7714 ; 186  |#define HW_PWM_CH3BR_INACTIVE_WIDTH (12)
                             7715 ; 187  |
                             7716 ; 188  |#define HW_PWM_CH3BR_ACTIVE_SETMASK (((1<<HW_PWM_CH3BR_ACTIVE_WIDTH)-1)<<HW_PWM_CH3BR_ACTIVE_BITPOS)
                             7717 ; 189  |#define HW_PWM_CH3BR_INACTIVE_SETMASK (((1<<HW_PWM_CH3BR_INACTIVE_WIDTH)-1)<<HW_PWM_CH3BR_INACTIVE_BITPOS)
                             7718 ; 190  |
                             7719 ; 191  |#define HW_PWM_CH3BR_ACTIVE_CLRMASK (~(WORD)HW_PWM_CH3BR_ACTIVE_SETMASK)
                             7720 ; 192  |#define HW_PWM_CH3BR_INACTIVE_CLRMASK (~(WORD)HW_PWM_CH3BR_INACTIVE_SETMASK)
                             7721 ; 193  |
                             7722 ; 194  |typedef union               
                             7723 ; 195  |{
                             7724 ; 196  |    struct {
                             7725 ; 197  |       int ACTIVE                    :12;
                             7726 ; 198  |       int INACTIVE                  :12;
                             7727 ; 199  |    } B;
                             7728 ; 200  |    int I;
                             7729 ; 201  |} pwmchan_type;
                             7730 ; 202  |#define HW_PWM_CH0AR        (*(volatile pwmchan_type _X*) (HW_PWM_BASEADDR+1))  /* PWM Channel 0 A Register */
                             7731 ; 203  |#define HW_PWM_CH0BR        (*(volatile pwmchan_type _X*) (HW_PWM_BASEADDR+2))  /* PWM Channel 0 B Register */
                             7732 ; 204  |#define HW_PWM_CH1AR        (*(volatile pwmchan_type _X*) (HW_PWM_BASEADDR+3))  /* PWM Channel 1 A Register */
                             7733 ; 205  |#define HW_PWM_CH1BR        (*(volatile pwmchan_type _X*) (HW_PWM_BASEADDR+4))  /* PWM Channel 1 B Register */
                             7734 ; 206  |#define HW_PWM_CH2AR        (*(volatile pwmchan_type _X*) (HW_PWM_BASEADDR+5))  /* PWM Channel 2 A Register */
                             7735 ; 207  |#define HW_PWM_CH2BR        (*(volatile pwmchan_type _X*) (HW_PWM_BASEADDR+6))  /* PWM Channel 2 B Register */
                             7736 ; 208  |#define HW_PWM_CH3AR        (*(volatile pwmchan_type _X*) (HW_PWM_BASEADDR+7))  /* PWM Channel 3 A Register */
                             7737 ; 209  |#define HW_PWM_CH3BR        (*(volatile pwmchan_type _X*) (HW_PWM_BASEADDR+8))  /* PWM Channel 3 B Register */
                             7738 ; 210  |
                             7739 ; 211  |#endif
                             7740 ; 212  |
                             7741 ; 213  |
                             7742 ; 214  |
                             7743 ; 215  |
                             7744 
                             7746 
                             7747 ; 28   |#include "regsrevision.h"
                             7748 
                             7750 
                             7751 ; 1    |#if !(defined(__HW_REVR))
                             7752 ; 2    |#define __HW_REVR 1
                             7753 ; 3    |
                             7754 ; 4    |
                             7755 ; 5    |#define HW_GLUE_BASEADDR 0xFA00
                             7756 ; 6    |
                             7757 ; 7    |#define HW_REVR_RMN_BITPOS (0)
                             7758 ; 8    |#define HW_REVR_DCDCMODE_BITPOS (5)
                             7759 ; 9    |#define HW_REVR_RMJ_BITPOS (8)
                             7760 ; 10   |
                             7761 ; 11   |#define HW_REVR_RMN_WIDTH (5)
                             7762 ; 12   |#define HW_REVR_DCDCMODE_WIDTH (3)
                             7763 ; 13   |
                             7764 ; 14   |#define HW_REVR_DCDCMODE_SETMASK (((1<<HW_REVR_DCDCMODE_WIDTH)-1)<<HW_REVR_DCDCMODE_BITPOS)
                             7765 ; 15   |
                             7766 ; 16   |#define HW_REVR_DCDCMODE_CLRMASK (~(WORD)HW_REVR_DCDCMODE_SETMASK)
                             7767 ; 17   |
                             7768 ; 18   |
                             7769 ; 19   |/////////////////////////////////////////////////////////////////////////////////
                             7770 ; 20   |//  Revision Register (HW_REVR) bitfields and values. (read only)
                             7771 ; 21   |//  June15 2004: C struct updated to be correct: 
                             7772 ; 22   |//   Added DCDCMODE bitfield. Removed RMP bitfield. Reduced size of RMN bitfield to 5 bits.
                             7773 ; 23   |typedef union               
                             7774 ; 24   |{
                             7775 ; 25   |    struct {
                             7776 ; 26   |        unsigned RMN    :5;     //Minor Revision
                             7777 ; 27   |        unsigned DCDCMODE : 3;  //DCDC mode field function depends on DCDC mode pin strapping
                             7778 ; 28   |           #define DCDCMODE_7_CONVERTER1_2CH_BOOST_CONVERTER2_OFF      7
                             7779 ; 29   |           #define DCDCMODE_6_RESERVED                                 6
                             7780 ; 30   |           #define DCDCMODE_5_CONVERTER1_3CH_BOOST_CONVERTER2_OFF      5
                             7781 ; 31   |           #define DCDCMODE_4_RESERVED                                 4
                             7782 ; 32   |           #define DCDCMODE_3_CONVERTER1_1CH_BUCK_CONVERTER2_OFF       3
                             7783 ; 33   |           #define DCDCMODE_2_CONVERTER1_OFF_CONVERTER2_OFF            2
                             7784 ; 34   |           #define DCDCMODE_1_CONVERTER1_1CH_BUCK_CONVERTER2_1CH_BOOST 1
                             7785 ; 35   |           #define DCDCMODE_0_CONVERTER1_1CH_BUCK_CONVERTER2_1CH_BUCK  0
                             7786 ; 36   |           #define DCDCMODE_X_BUCK_MASKED_SETMASK 0x4
                             7787 ; 37   |        unsigned RMJ    :16;    //Major Revision
                             7788 ; 38   |    } B;
                             7789 ; 39   |
                             7790 ; 40   |    int I;
                             7791 ; 41   |
                             7792 ; 42   |} revr_type;
                             7793 ; 43   |#define HW_REVR (*(volatile revr_type _X*) (HW_GLUE_BASEADDR+2))
                             7794 ; 44   |
                             7795 ; 45   |#define HW_REVR_DCDCMODE_B0_BITPOS 5
                             7796 ; 46   |#define HW_REVR_DCDCMODE_B1_BITPOS 6
                             7797 ; 47   |#define HW_REVR_DCDCMODE_B2_BITPOS 7
                             7798 ; 48   |
                             7799 ; 49   |#define HW_REVR_DCDCMODE_BUCK_MASK_POS HW_REVR_DCDCMODE_B2_BITPOS
                             7800 ; 50   |// 3 bit bitfield: (HW_REVR_DCDCMODE_B2_BITPOS|HW_REVR_DCDCMODE_B1_BITPOS|HW_REVR_DCDCMODE_B0_BITPOS)
                             7801 ; 51   |#define HW_REVR_DCDC_MODE_SETMASK 0x0000E0
                             7802 ; 52   |#define HW_REVR_RMN_SETMASK 0xFF<<HW_REVR_RMN_BITPOS
                             7803 ; 53   |#define HW_REVR_RMJ_SETMASK 0xFFFF<<HW_REVR_RMJ_BITPOS
                             7804 ; 54   |
                             7805 ; 55   |#define HW_REVR_RMN_CLRMASK ~(WORD)HW_REVR_RMN_SETMASK
                             7806 ; 56   |#define HW_REVR_RMJ_CLRMASK ~(WORD)HW_REVR_RMJ_SETMASK
                             7807 ; 57   |
                             7808 ; 58   |#endif //!@def(__HW_REVR)
                             7809 ; 59   |
                             7810 
                             7812 
                             7813 ; 29   |#include "regsrtc.h"
                             7814 
                             7816 
                             7817 ; 1    |/////////////////////////////////////////////////////////////////////////////////
                             7818 ; 2    |// Copyright(C) SigmaTel, Inc. 2000-2004
                             7819 ; 3    |// Filename: regsrtc.inc
                             7820 ; 4    |// Description: Register definitions for RTC interface
                             7821 ; 5    |/////////////////////////////////////////////////////////////////////////////////
                             7822 ; 6    |// The following naming conventions are followed in this file.
                             7823 ; 7    |// All registers are named using the format...
                             7824 ; 8    |//     HW_<module>_<regname>
                             7825 ; 9    |// where <module> is the module name which can be any of the following...
                             7826 ; 10   |//     USB20
                             7827 ; 11   |// (Note that when there is more than one copy of a particular module, the
                             7828 ; 12   |// module name includes a number starting from 0 for the first instance of
                             7829 ; 13   |// that module)
                             7830 ; 14   |// <regname> is the specific register within that module
                             7831 ; 15   |// We also define the following...
                             7832 ; 16   |//     HW_<module>_<regname>_BITPOS
                             7833 ; 17   |// which defines the starting bit (i.e. LSB) of a multi bit field
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page  32

M:ADDR CODE           CYCLES LINE SOURCELINE
                             7834 ; 18   |//     HW_<module>_<regname>_SETMASK
                             7835 ; 19   |// which does something else, and
                             7836 ; 20   |//     HW_<module>_<regname>_CLRMASK
                             7837 ; 21   |// which does something else.
                             7838 ; 22   |// Other rules
                             7839 ; 23   |//     All caps
                             7840 ; 24   |//     Numeric identifiers start at 0
                             7841 ; 25   |#if !(defined(regsrtcinc))
                             7842 ; 26   |#define regsrtcinc 1
                             7843 ; 27   |
                             7844 ; 28   |#include "types.h"
                             7845 
                             7847 
                             7848 ; 1    |////////////////////////////////////////////////////////////////////////////////
                             7849 ; 2    |// Copyright(C) SigmaTel, Inc. 2000-2004
                             7850 ; 3    |//
                             7851 ; 4    |// Filename: types.h
                             7852 ; 5    |// Description: Standard data types
                             7853 ; 6    |////////////////////////////////////////////////////////////////////////////////
                             7854 ; 7    |
                             7855 ; 8    |#ifndef _TYPES_H
                             7856 ; 9    |#define _TYPES_H
                             7857 ; 10   |
                             7858 ; 11   |// TODO:  move this outta here!
                             7859 ; 12   |#if !defined(NOERROR)
                             7860 ; 13   |#define NOERROR 0
                             7861 ; 14   |#define SUCCESS 0
                             7862 ; 15   |#endif 
                             7863 ; 16   |#if !defined(SUCCESS)
                             7864 ; 17   |#define SUCCESS  0
                             7865 ; 18   |#endif
                             7866 ; 19   |#if !defined(ERROR)
                             7867 ; 20   |#define ERROR   -1
                             7868 ; 21   |#endif
                             7869 ; 22   |#if !defined(FALSE)
                             7870 ; 23   |#define FALSE 0
                             7871 ; 24   |#endif
                             7872 ; 25   |#if !defined(TRUE)
                             7873 ; 26   |#define TRUE  1
                             7874 ; 27   |#endif
                             7875 ; 28   |
                             7876 ; 29   |#if !defined(NULL)
                             7877 ; 30   |#define NULL 0
                             7878 ; 31   |#endif
                             7879 ; 32   |
                             7880 ; 33   |#define MAX_INT     0x7FFFFF
                             7881 ; 34   |#define MAX_LONG    0x7FFFFFffffff
                             7882 ; 35   |        // max positive unsigned long value: -1 == 0xFFFFFFffffff
                             7883 ; 36   |#define MAX_ULONG   (-1) 
                             7884 ; 37   |
                             7885 ; 38   |#define WORD_SIZE   24              // word size in bits
                             7886 ; 39   |#define BYTES_PER_WORD 3            // 8 bit bytes
                             7887 ; 40   |
                             7888 ; 41   |
                             7889 ; 42   |#define BYTE    unsigned char       // btVarName
                             7890 ; 43   |#define CHAR    signed char         // cVarName
                             7891 ; 44   |#define USHORT  unsigned short      // usVarName
                             7892 ; 45   |#define SHORT   unsigned short      // sVarName
                             7893 ; 46   |#define WORD    unsigned int        // wVarName
                             7894 ; 47   |#define INT     signed int          // iVarName
                             7895 ; 48   |#define DWORD   unsigned long       // dwVarName
                             7896 ; 49   |#define LONG    signed long         // lVarName
                             7897 ; 50   |#define BOOL    unsigned int        // bVarName
                             7898 ; 51   |#define FRACT   _fract              // frVarName
                             7899 ; 52   |#define LFRACT  long _fract         // lfrVarName
                             7900 ; 53   |#define CIRC    _circ               // cp<type prefix>VarName (see below)
                             7901 ; 54   |#define FLOAT   float               // fVarName
                             7902 ; 55   |#define DBL     double              // dVarName
                             7903 ; 56   |#define ENUM    enum                // eVarName
                             7904 ; 57   |#define CMX     _complex            // cmxVarName
                             7905 ; 58   |typedef WORD UCS3;                   // 
                             7906 ; 59   |
                             7907 ; 60   |#define UINT16  unsigned short
                             7908 ; 61   |#define UINT8   unsigned char   
                             7909 ; 62   |#define UINT32  unsigned long
                             7910 ; 63   |#define UINT64  unsigned long   // need to figure out how to do 64 bit values.  Or port exisiting code to only use 48 bit
                             7911 ; 64   |#define INT64   unsigned long   // need to figure out how to do 64 bit values.  Or port exisiting code to only use 48 bit
                             7912 ; 65   |#define WCHAR   UINT16
                             7913 ; 66   |
                             7914 ; 67   |//UINT128 is 16 bytes or 6 words
                             7915 ; 68   |typedef struct UINT128_3500 {   
                             7916 ; 69   |    int val[6];     
                             7917 ; 70   |} UINT128_3500;
                             7918 ; 71   |
                             7919 ; 72   |#define UINT128   UINT128_3500
                             7920 ; 73   |
                             7921 ; 74   |// Little endian word packed byte strings:   
                             7922 ; 75   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                             7923 ; 76   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                             7924 ; 77   |// Little endian word packed byte strings:   
                             7925 ; 78   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                             7926 ; 79   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                             7927 ; 80   |
                             7928 ; 81   |// Declare Memory Spaces To Use When Coding
                             7929 ; 82   |// A. Sector Buffers
                             7930 ; 83   |#define SECTOR_BUFFER_MEM_X _X
                             7931 ; 84   |#define SECTOR_BUFFER_MEM_Y _Y
                             7932 ; 85   |#define SECTOR_BUFFER_MEM SECTOR_BUFFER_MEM_X
                             7933 ; 86   |typedef WORD SECTOR_BUFFER_MEM SECTOR_BUFFER;
                             7934 ; 87   |typedef SECTOR_BUFFER * P_SECTOR_BUFFER;
                             7935 ; 88   |// B. Media DDI Memory
                             7936 ; 89   |#define MEDIA_DDI_MEM _Y
                             7937 ; 90   |
                             7938 ; 91   |
                             7939 ; 92   |
                             7940 ; 93   |// Pointers to linear structures are labeled as: p<type prefix>VarName
                             7941 ; 94   |// Examples of circular pointers:
                             7942 ; 95   |//    INT CIRC cpiVarName
                             7943 ; 96   |//    DWORD CIRC cpdwVarName
                             7944 ; 97   |
                             7945 ; 98   |#define RETCODE INT                 // rcVarName
                             7946 ; 99   |
                             7947 ; 100  |// generic bitfield structure
                             7948 ; 101  |struct Bitfield {
                             7949 ; 102  |    unsigned int B0  :1;
                             7950 ; 103  |    unsigned int B1  :1;
                             7951 ; 104  |    unsigned int B2  :1;
                             7952 ; 105  |    unsigned int B3  :1;
                             7953 ; 106  |    unsigned int B4  :1;
                             7954 ; 107  |    unsigned int B5  :1;
                             7955 ; 108  |    unsigned int B6  :1;
                             7956 ; 109  |    unsigned int B7  :1;
                             7957 ; 110  |    unsigned int B8  :1;
                             7958 ; 111  |    unsigned int B9  :1;
                             7959 ; 112  |    unsigned int B10 :1;
                             7960 ; 113  |    unsigned int B11 :1;
                             7961 ; 114  |    unsigned int B12 :1;
                             7962 ; 115  |    unsigned int B13 :1;
                             7963 ; 116  |    unsigned int B14 :1;
                             7964 ; 117  |    unsigned int B15 :1;
                             7965 ; 118  |    unsigned int B16 :1;
                             7966 ; 119  |    unsigned int B17 :1;
                             7967 ; 120  |    unsigned int B18 :1;
                             7968 ; 121  |    unsigned int B19 :1;
                             7969 ; 122  |    unsigned int B20 :1;
                             7970 ; 123  |    unsigned int B21 :1;
                             7971 ; 124  |    unsigned int B22 :1;
                             7972 ; 125  |    unsigned int B23 :1;
                             7973 ; 126  |};
                             7974 ; 127  |
                             7975 ; 128  |union BitInt {
                             7976 ; 129  |        struct Bitfield B;
                             7977 ; 130  |        int        I;
                             7978 ; 131  |};
                             7979 ; 132  |
                             7980 ; 133  |#define MAX_MSG_LENGTH 10
                             7981 ; 134  |struct CMessage
                             7982 ; 135  |{
                             7983 ; 136  |        unsigned int m_uLength;
                             7984 ; 137  |        unsigned int m_uMsg[MAX_MSG_LENGTH];
                             7985 ; 138  |};
                             7986 ; 139  |
                             7987 ; 140  |typedef struct {
                             7988 ; 141  |    WORD m_wLength;
                             7989 ; 142  |    WORD m_wMessage;
                             7990 ; 143  |    WORD m_wParams[MAX_MSG_LENGTH];
                             7991 ; 144  |} Message;
                             7992 ; 145  |
                             7993 ; 146  |struct MessageQueueDescriptor
                             7994 ; 147  |{
                             7995 ; 148  |        int *m_pBase;
                             7996 ; 149  |        int m_iModulo;
                             7997 ; 150  |        int m_iSize;
                             7998 ; 151  |        int *m_pHead;
                             7999 ; 152  |        int *m_pTail;
                             8000 ; 153  |};
                             8001 ; 154  |
                             8002 ; 155  |struct ModuleEntry
                             8003 ; 156  |{
                             8004 ; 157  |    int m_iSignaledEventMask;
                             8005 ; 158  |    int m_iWaitEventMask;
                             8006 ; 159  |    int m_iResourceOfCode;
                             8007 ; 160  |    struct MessageQueueDescriptor *m_pMessageQueue;
                             8008 ; 161  |    int _asmfunc (*m_pProcessEntryPoint)(union WaitMask Signals,struct MessageQueueDescriptor *);
                             8009 ; 162  |    int _asmfunc (*m_pInitFunction)(struct MessageQueueDescriptor *);
                             8010 ; 163  |    int m_uTimeOutHigh;
                             8011 ; 164  |    int m_uTimeOutLow;
                             8012 ; 165  |    int _asmfunc (*m_pBackgroundFunction)(struct MessageQueueDescriptor *);
                             8013 ; 166  |};
                             8014 ; 167  |
                             8015 ; 168  |union WaitMask{
                             8016 ; 169  |    struct B{
                             8017 ; 170  |        unsigned int m_bNone     :1;
                             8018 ; 171  |        unsigned int m_bMessage  :1;
                             8019 ; 172  |        unsigned int m_bTimer    :1;
                             8020 ; 173  |        unsigned int m_bButton   :1;
                             8021 ; 174  |    } B;
                             8022 ; 175  |    int I;
                             8023 ; 176  |} ;
                             8024 ; 177  |
                             8025 ; 178  |
                             8026 ; 179  |struct Button {
                             8027 ; 180  |        WORD wButtonEvent;
                             8028 ; 181  |        WORD wUnused[MAX_MSG_LENGTH];   
                             8029 ; 182  |};
                             8030 ; 183  |
                             8031 ; 184  |struct Message {
                             8032 ; 185  |        WORD wMsgLength;
                             8033 ; 186  |        WORD wMsgCommand;
                             8034 ; 187  |        WORD wMsgParms[MAX_MSG_LENGTH-1];
                             8035 ; 188  |};
                             8036 ; 189  |
                             8037 ; 190  |union EventTypes {
                             8038 ; 191  |        struct CMessage msg;
                             8039 ; 192  |        struct Button Button ;
                             8040 ; 193  |        struct Message Message;
                             8041 ; 194  |};
                             8042 ; 195  |
                             8043 ; 196  |// next 2 used to get updater build to return correct protocol ver in scsi response.
                             8044 ; 197  |#define BUILD_TYPE_UPDATER  0x100
                             8045 ; 198  |#define BUILD_TYPE_HOSTLINK 0x101
                             8046 ; 199  |#define BUILD_TYPE_PLAYER   0x102
                             8047 ; 200  |
                             8048 ; 201  |// Resets part if RETAIL build. DEBUG build executes debug instruction to halt.
                             8049 ; 202  |#define SystemHalt() __asm(" include 'sysmacro.asm' \n error") 
                             8050 ; 203  |#define assert(x)    if(!(x)) __asm(" include 'sysmacro.asm' \n error")
                             8051 ; 204  |
                             8052 ; 205  |#if DEBUG
                             8053 ; 206  |// For DEBUG builds, DebugBuildAssert(condition) halts if condition evaluates to FALSE. 
                             8054 ; 207  |#define DebugBuildAssert(x)    if(!(x)) __asm(" debug ")
                             8055 ; 208  |#else 
                             8056 ; 209  |// For RETAIL builds, DebugBuildAssert(condition) does nothing & execution continues rather than halt or reset. 
                             8057 ; 210  |#define DebugBuildAssert(x)    
                             8058 ; 211  |#endif
                             8059 ; 212  |
                             8060 ; 213  |// Do this in your C files to make a reminder that's displayed during the build.
                             8061 ; 214  |//  #pragma asm
                             8062 ; 215  |//  WARN 'Note to builder: reminder to do this after verifying that'
                             8063 ; 216  |//  #pragma endasm
                             8064 ; 217  |
                             8065 ; 218  |
                             8066 ; 219  |#ifdef COLOR_262K
                             8067 ; 220  |#define RGB(r,g,b)    ((0x0000FC & (r)) << 10) | ((0x0000FC & (g)) << 4) | ((0x0000FC & (b)) >> 2)    //262k
                             8068 ; 221  |#elif defined(COLOR_65K)
                             8069 ; 222  |#define RGB(r,g,b)    ((0x0000F8 & (r)) << 8) | ((0x0000FC & (g)) << 3) | ((0x0000F8 & (b)) >> 3)  //65k
                             8070 ; 223  |#else
                             8071 ; 224  |#define RGB(r,g,b)       ((0x0000F0 & (r)) << 4) | (0x0000F0 & (g)) | ((0x0000F0 & (b)) >> 4)
                             8072 ; 225  |#endif
                             8073 ; 226  |    
                             8074 ; 227  |#endif // #ifndef _TYPES_H
                             8075 
                             8077 
                             8078 ; 29   |
                             8079 ; 30   |//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                             8080 ; 31   |
                             8081 ; 32   |//   RTC STMP Registers 
                             8082 ; 33   |//   Edited 2/26/2002 J. Ferrara
                             8083 ; 34   |//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                             8084 ; 35   |
                             8085 ; 36   |#define HW_RTC_BASEADDR (0xF500)
                             8086 ; 37   |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page  33

M:ADDR CODE           CYCLES LINE SOURCELINE
                             8087 ; 38   |
                             8088 ; 39   |
                             8089 ; 40   |
                             8090 ; 41   |
                             8091 ; 42   |/////////////////////////////////////////////////////////////////////////////////
                             8092 ; 43   |
                             8093 ; 44   |////  RTC Control Status Register (HW_RTC_CSR) Bit Definitions
                             8094 ; 45   |
                             8095 ; 46   |#define HW_RTC_CSR_ALARMINTEN_BITPOS (0)
                             8096 ; 47   |#define HW_RTC_CSR_ALARMINT_BITPOS (1)
                             8097 ; 48   |#define HW_RTC_CSR_WATCHDOGEN_BITPOS (2)
                             8098 ; 49   |#define HW_RTC_CSR_RSVD0_BITPOS (3)
                             8099 ; 50   |#define HW_RTC_CSR_STALEREGS_BITPOS (4)
                             8100 ; 51   |#define HW_RTC_CSR_RSVD1_BITPOS (9)
                             8101 ; 52   |#define HW_RTC_CSR_NEWREGS_BITPOS (12)
                             8102 ; 53   |#define HW_RTC_CSR_NEWREGS_XTALDIV_BITPOS (12)
                             8103 ; 54   |#define HW_RTC_CSR_NEWREGS_MSCOUNT_BITPOS (13)
                             8104 ; 55   |#define HW_RTC_CSR_NEWREGS_ALRMCOUNT_BITPOS (14)
                             8105 ; 56   |#define HW_RTC_CSR_NEWREGS_PERSIST0_BITPOS (15)
                             8106 ; 57   |#define HW_RTC_CSR_NEWREGS_PERSIST1_BITPOS (16)
                             8107 ; 58   |#define HW_RTC_CSR_RSVD2_BITPOS (17)
                             8108 ; 59   |#define HW_RTC_CSR_FORCE_BITPOS (20)
                             8109 ; 60   |#define HW_RTC_CSR_RSVD3_BITPOS (21)
                             8110 ; 61   |#define HW_RTC_CSR_SFTRST_BITPOS (23)                                                                           
                             8111 ; 62   |#define HW_RTC_CSR_ALARMINTEN_WIDTH (1)
                             8112 ; 63   |#define HW_RTC_CSR_ALARMINT_WIDTH (1)
                             8113 ; 64   |#define HW_RTC_CSR_WATCHDOGEN_WIDTH (1)
                             8114 ; 65   |#define HW_RTC_CSR_RSVD0_WIDTH (1)
                             8115 ; 66   |#define HW_RTC_CSR_STALEREGS_WIDTH (5)
                             8116 ; 67   |#define HW_RTC_CSR_RSVD1_WIDTH (3)
                             8117 ; 68   |#define HW_RTC_CSR_NEWREGS_WIDTH (5)
                             8118 ; 69   |#define HW_RTC_CSR_NEWREGS_XTALDIV_WIDTH (1)
                             8119 ; 70   |#define HW_RTC_CSR_NEWREGS_MSCOUNT_WIDTH (1)
                             8120 ; 71   |#define HW_RTC_CSR_NEWREGS_ALRMCOUNT_WIDTH (1)
                             8121 ; 72   |#define HW_RTC_CSR_NEWREGS_PERSIST0_WIDTH (1)
                             8122 ; 73   |#define HW_RTC_CSR_NEWREGS_PERSIST1_WIDTH (1)
                             8123 ; 74   |#define HW_RTC_CSR_RSVD2_WIDTH (3)
                             8124 ; 75   |#define HW_RTC_CSR_FORCE_WIDTH (1)
                             8125 ; 76   |#define HW_RTC_CSR_RSVD3_WIDTH (2)
                             8126 ; 77   |#define HW_RTC_CSR_SFTRST_WIDTH (1)
                             8127 ; 78   |
                             8128 ; 79   |#define HW_RTC_CSR_ALARMINT_SETMASK (((1<<HW_RTC_CSR_ALARMINT_WIDTH)-1)<<HW_RTC_CSR_ALARMINT_BITPOS) 
                             8129 ; 80   |#define HW_RTC_CSR_ALARMINTEN_SETMASK (((1<<HW_RTC_CSR_ALARMINTEN_WIDTH)-1)<<HW_RTC_CSR_ALARMINTEN_BITPOS) 
                             8130 ; 81   |#define HW_RTC_CSR_WATCHDOGEN_SETMASK (((1<<HW_RTC_CSR_WATCHDOGEN_WIDTH)-1)<<HW_RTC_CSR_WATCHDOGEN_BITPOS) 
                             8131 ; 82   |#define HW_RTC_CSR_RSVD0_SETMASK (((1<<HW_RTC_CSR_RSVD0_WIDTH)-1)<<HW_RTC_CSR_RSVD0_BITPOS) 
                             8132 ; 83   |#define HW_RTC_CSR_STALEREGS_SETMASK (((1<<HW_RTC_CSR_STALEREGS_WIDTH)-1)<<HW_RTC_CSR_STALEREGS_BITPOS) 
                             8133 ; 84   |#define HW_RTC_CSR_RSVD1_SETMASK (((1<<HW_RTC_CSR_RSVD1_WIDTH)-1)<<HW_RTC_CSR_RSVD1_BITPOS) 
                             8134 ; 85   |#define HW_RTC_CSR_NEWREGS_SETMASK (((1<<HW_RTC_CSR_NEWREGS_WIDTH)-1)<<HW_RTC_CSR_NEWREGS_BITPOS) 
                             8135 ; 86   |#define HW_RTC_CSR_NEWREGS_XTALDIV_SETMASK (((1<<HW_RTC_CSR_NEWREGS_XTALDIV_WIDTH)-1)<<HW_RTC_CSR_NEWREGS_XTALDIV_BITPOS)   
                             8136 ; 87   |#define HW_RTC_CSR_NEWREGS_MSCOUNT_SETMASK (((1<<HW_RTC_CSR_NEWREGS_MSCOUNT_WIDTH)-1)<<HW_RTC_CSR_NEWREGS_MSCOUNT_BITPOS)
                             8137 ; 88   |#define HW_RTC_CSR_NEWREGS_ALRMCOUNT_SETMASK (((1<<HW_RTC_CSR_NEWREGS_ALRMCOUNT_WIDTH)-1)<<HW_RTC_CSR_NEWREGS_ALRMCOUNT_BITPOS)
                             8138 ; 89   |#define HW_RTC_CSR_NEWREGS_PERSIST0_SETMASK (((1<<HW_RTC_CSR_NEWREGS_PERSIST0_WIDTH)-1)<<HW_RTC_CSR_NEWREGS_PERSIST0_BITPOS)
                             8139 ; 90   |#define HW_RTC_CSR_NEWREGS_PERSIST1_SETMASK (((1<<HW_RTC_CSR_NEWREGS_PERSIST1_WIDTH)-1)<<HW_RTC_CSR_NEWREGS_PERSIST1_BITPOS)
                             8140 ; 91   |#define HW_RTC_CSR_RSVD2_SETMASK (((1<<HW_RTC_CSR_RSVD2_WIDTH)-1)<<HW_RTC_CSR_RSVD2_BITPOS) 
                             8141 ; 92   |#define HW_RTC_CSR_FORCE_SETMASK (((1<<HW_RTC_CSR_FORCE_WIDTH)-1)<<HW_RTC_CSR_FORCE_BITPOS) 
                             8142 ; 93   |#define HW_RTC_CSR_RSVD3_SETMASK (((1<<HW_RTC_CSR_RSVD3_WIDTH)-1)<<HW_RTC_CSR_RSVD3_BITPOS) 
                             8143 ; 94   |#define HW_RTC_CSR_SFTRST_SETMASK (((1<<HW_RTC_CSR_SFTRST_WIDTH)-1)<<HW_RTC_CSR_SFTRST_BITPOS) 
                             8144 ; 95   |
                             8145 ; 96   |#define HW_RTC_CSR_ALARMINTEN_CLRMASK (~(WORD)HW_RTC_CSR_ALARMINTEN_SETMASK)
                             8146 ; 97   |#define HW_RTC_CSR_ALARMINT_CLRMASK (~(WORD)HW_RTC_CSR_ALARMINT_SETMASK)
                             8147 ; 98   |#define HW_RTC_CSR_WATCHDOGEN_CLRMASK (~(WORD)HW_RTC_CSR_WATCHDOGEN_SETMASK)
                             8148 ; 99   |#define HW_RTC_CSR_RSVD0_CLRMASK (~(WORD)HW_RTC_CSR_RSVD0_SETMASK)
                             8149 ; 100  |#define HW_RTC_CSR_STALEREGS_CLRMASK (~(WORD)HW_RTC_CSR_STALEREGS_SETMASK)
                             8150 ; 101  |#define HW_RTC_CSR_RSVD1_CLRMASK (~(WORD)HW_RTC_CSR_RSVD1_SETMASK)
                             8151 ; 102  |#define HW_RTC_CSR_NEWREGS_CLRMASK (~(WORD)HW_RTC_CSR_NEWREGS_SETMASK)
                             8152 ; 103  |#define HW_RTC_CSR_NEWREGS_XTALDIV_CLRMASK (~(WORD)HW_RTC_CSR_NEWREGS_XTALDIV_SETMASK)   
                             8153 ; 104  |#define HW_RTC_CSR_NEWREGS_MSCOUNT_CLRMASK (~(WORD)HW_RTC_CSR_NEWREGS_MSCOUNT_SETMASK)
                             8154 ; 105  |#define HW_RTC_CSR_NEWREGS_ALRMCOUNT_CLRMASK (~(WORD)HW_RTC_CSR_NEWREGS_ALRMCOUNT_SETMASK)
                             8155 ; 106  |#define HW_RTC_CSR_NEWREGS_PERSIST0_CLRMASK (~(WORD)HW_RTC_CSR_NEWREGS_PERSIST0_SETMASK)
                             8156 ; 107  |#define HW_RTC_CSR_NEWREGS_PERSIST1_CLRMASK (~(WORD)HW_RTC_CSR_NEWREGS_PERSIST1_SETMASK)
                             8157 ; 108  |
                             8158 ; 109  |#define HW_RTC_CSR_RSVD2_CLRMASK (~(WORD)HW_RTC_CSR_RSVD2_SETMASK)
                             8159 ; 110  |#define HW_RTC_CSR_FORCE_CLRMASK (~(WORD)HW_RTC_CSR_FORCE_SETMASK)
                             8160 ; 111  |#define HW_RTC_CSR_RSVD3_CLRMASK (~(WORD)HW_RTC_CSR_RSVD3_SETMASK)
                             8161 ; 112  |#define HW_RTC_CSR_SFTRST_CLRMASK (~(WORD)HW_RTC_CSR_SFTRST_SETMASK)
                             8162 ; 113  |
                             8163 ; 114  |
                             8164 ; 115  |typedef union               
                             8165 ; 116  |{
                             8166 ; 117  |    struct {
                             8167 ; 118  |         int ALARMINTEN         : HW_RTC_CSR_ALARMINTEN_WIDTH;
                             8168 ; 119  |         int ALARMINT           : HW_RTC_CSR_ALARMINT_WIDTH;
                             8169 ; 120  |         int WATCHDOGEN         : HW_RTC_CSR_WATCHDOGEN_WIDTH;
                             8170 ; 121  |         int RSVD0              : HW_RTC_CSR_RSVD0_WIDTH;
                             8171 ; 122  |         unsigned int STALEREGS : HW_RTC_CSR_STALEREGS_WIDTH;
                             8172 ; 123  |         int RSVD1              : HW_RTC_CSR_RSVD1_WIDTH;
                             8173 ; 124  |         unsigned int NEWREGS   : HW_RTC_CSR_NEWREGS_WIDTH;
                             8174 ; 125  |         int RSVD2              : HW_RTC_CSR_RSVD2_WIDTH;
                             8175 ; 126  |         int FORCE             : HW_RTC_CSR_FORCE_WIDTH;
                             8176 ; 127  |         int RSVD3              : HW_RTC_CSR_RSVD3_WIDTH;
                             8177 ; 128  |         unsigned int SFTRST    : HW_RTC_CSR_SFTRST_WIDTH;
                             8178 ; 129  |    } B;
                             8179 ; 130  |    int I;
                             8180 ; 131  |    unsigned int U;
                             8181 ; 132  |} rtc_csr_type;
                             8182 ; 133  |#define HW_RTC_CSR      (*(volatile rtc_csr_type _X*) (HW_RTC_BASEADDR+0))    /* RTC Control / Status Register */
                             8183 ; 134  |
                             8184 ; 135  |/////////////////////////////////////////////////////////////////////////////////
                             8185 ; 136  |
                             8186 ; 137  |//  RTC Milliseconds Register0 (HW_RTC_MSECONDS0) Bit Definitions
                             8187 ; 138  |
                             8188 ; 139  |#define HW_RTC_MSECONDS0_MSECONDSLOW_BITPOS (0)
                             8189 ; 140  |
                             8190 ; 141  |#define HW_RTC_MSECONDS0_MSECONDSLOW_WIDTH (24)
                             8191 ; 142  |
                             8192 ; 143  |#define HW_RTC_MSECONDS0_MSECONDSLOW_SETMASK (((1<<HW_RTC_MSECONDS0_MSECONDSLOW_WIDTH)-1)<<HW_RTC_MSECONDS0_MSECONDSLOW_BITPOS) 
                             8193 ; 144  |
                             8194 ; 145  |#define HW_RTC_MSECONDS0_MSECONDSLOW_CLRMASK (~(WORD)HW_RTC_MSECONDS0_MSECONDSLOW_SETMASK)
                             8195 ; 146  |
                             8196 ; 147  |typedef union               
                             8197 ; 148  |{
                             8198 ; 149  |    struct {
                             8199 ; 150  |         int MSECONDSLOW        : HW_RTC_MSECONDS0_MSECONDSLOW_WIDTH;
                             8200 ; 151  |    } B;
                             8201 ; 152  |    int I;
                             8202 ; 153  |    unsigned int U;
                             8203 ; 154  |} rtc_mseconds0_type;
                             8204 ; 155  |#define HW_RTC_MSECONDS0      (*(volatile rtc_mseconds0_type _X*) (HW_RTC_BASEADDR+1))    /* RTC MSECONDS Lower Word Register */
                             8205 ; 156  |#define HW_RTCLOWR            HW_RTC_MSECONDS0
                             8206 ; 157  |/////////////////////////////////////////////////////////////////////////////////
                             8207 ; 158  |
                             8208 ; 159  |//  RTC Milliseconds Register1 (HW_RTC_MSECONDS1) Bit Definitions
                             8209 ; 160  |
                             8210 ; 161  |#define HW_RTC_MSECONDS1_MSECONDSHIGH_BITPOS (0)
                             8211 ; 162  |
                             8212 ; 163  |#define HW_RTC_MSECONDS1_MSECONDSHIGH_WIDTH (24)
                             8213 ; 164  |
                             8214 ; 165  |#define HW_RTC_MSECONDS1_MSECONDSHIGH_SETMASK (((1<<HW_RTC_MSECONDS1_MSECONDSHIGH_WIDTH)-1)<<HW_RTC_MSECONDS1_MSECONDSHIGH_BITPOS) 
                             8215 ; 166  |
                             8216 ; 167  |#define HW_RTC_MSECONDS1_MSECONDSHIGH_CLRMASK (~(WORD)HW_RTC_MSECONDS1_MSECONDSHIGH_SETMASK)
                             8217 ; 168  |
                             8218 ; 169  |typedef union               
                             8219 ; 170  |{
                             8220 ; 171  |    struct {
                             8221 ; 172  |         int MSECONDSHIGH       : HW_RTC_MSECONDS1_MSECONDSHIGH_WIDTH;
                             8222 ; 173  |    } B;
                             8223 ; 174  |    int I;
                             8224 ; 175  |    unsigned int U;
                             8225 ; 176  |} rtc_mseconds1_type;
                             8226 ; 177  |#define HW_RTC_MSECONDS1      (*(volatile rtc_mseconds1_type _X*) (HW_RTC_BASEADDR+2))    /* RTC MSECONDS Upper Word Register */
                             8227 ; 178  |#define HW_RTCUPR             HW_RTC_MSECONDS1
                             8228 ; 179  |
                             8229 ; 180  |#define HW_RTC_LOWER_OFFSET 1
                             8230 ; 181  |#define HW_RTC_UP_OFFSET 2
                             8231 ; 182  |
                             8232 ; 183  |
                             8233 ; 184  |/////////////////////////////////////////////////////////////////////////////////
                             8234 ; 185  |
                             8235 ; 186  |//  RTC Watchdog Count (HW_RTC_WATCHDOG) Bit Definitions
                             8236 ; 187  |
                             8237 ; 188  |#define HW_RTC_WATCHDOG_TIMEOUTCNT_BITPOS (0)
                             8238 ; 189  |
                             8239 ; 190  |#define HW_RTC_WATCHDOG_TIMEOUTCNT_WIDTH (24)
                             8240 ; 191  |
                             8241 ; 192  |#define HW_RTC_WATCHDOG_TIMEOUTCNT_SETMASK (((1<<HW_RTC_WATCHDOG_TIMEOUTCNT_WIDTH)-1)<<HW_RTC_WATCHDOG_TIMEOUTCNT_BITPOS) 
                             8242 ; 193  |
                             8243 ; 194  |#define HW_RTC_WATCHDOG_TIMEOUTCNT_CLRMASK (~(WORD)HW_RTC_WATCHDOG_TIMEOUTCNT_SETMASK)
                             8244 ; 195  |
                             8245 ; 196  |typedef union               
                             8246 ; 197  |{
                             8247 ; 198  |    struct {
                             8248 ; 199  |         int TIMEOUTCNT         : HW_RTC_WATCHDOG_TIMEOUTCNT_WIDTH;
                             8249 ; 200  |    } B;
                             8250 ; 201  |    int I;
                             8251 ; 202  |    unsigned int U;
                             8252 ; 203  |} rtc_watchdog_type;
                             8253 ; 204  |#define HW_RTC_WATCHDOG     (*(volatile rtc_watchdog_type _X*) (HW_RTC_BASEADDR+3))    /* RTC Watchdog Timeout Register */
                             8254 ; 205  |/////////////////////////////////////////////////////////////////////////////////
                             8255 ; 206  |
                             8256 ; 207  |//  RTC Alarm Register0 (HW_RTC_ALARM0) Bit Definitions
                             8257 ; 208  |
                             8258 ; 209  |#define HW_RTC_ALARM0_ALARMLOW_BITPOS (0)
                             8259 ; 210  |
                             8260 ; 211  |#define HW_RTC_ALARM0_ALARMLOW_WIDTH (24)
                             8261 ; 212  |
                             8262 ; 213  |#define HW_RTC_ALARM0_ALARMLOW_SETMASK (((1<<HW_RTC_ALARM0_ALARMLOW_WIDTH)-1)<<HW_RTC_ALARM0_ALARMLOW_BITPOS) 
                             8263 ; 214  |
                             8264 ; 215  |#define HW_RTC_ALARM0_ALARMLOW_CLRMASK (~(WORD)HW_RTC_ALARM0_ALARMLOW_SETMASK)
                             8265 ; 216  |
                             8266 ; 217  |typedef union               
                             8267 ; 218  |{
                             8268 ; 219  |    struct {
                             8269 ; 220  |         int ALARMLOW   : HW_RTC_ALARM0_ALARMLOW_WIDTH;
                             8270 ; 221  |    } B;
                             8271 ; 222  |    int I;
                             8272 ; 223  |    unsigned int U;
                             8273 ; 224  |} rtc_alarm0_type;
                             8274 ; 225  |#define HW_RTC_ALARM0      (*(volatile rtc_alarm0_type _X*) (HW_RTC_BASEADDR+4))    /* RTC ALARM Lower Word Register */
                             8275 ; 226  |/////////////////////////////////////////////////////////////////////////////////
                             8276 ; 227  |
                             8277 ; 228  |//  RTC Alarm Register1 (HW_RTC_ALARM1) Bit Definitions
                             8278 ; 229  |
                             8279 ; 230  |#define HW_RTC_ALARM1_ALARMHIGH_BITPOS (0)
                             8280 ; 231  |
                             8281 ; 232  |#define HW_RTC_ALARM1_ALARMHIGH_WIDTH (24)
                             8282 ; 233  |
                             8283 ; 234  |#define HW_RTC_ALARM1_ALARMHIGH_SETMASK (((1<<HW_RTC_ALARM1_ALARMHIGH_WIDTH)-1)<<HW_RTC_ALARM1_ALARMHIGH_BITPOS) 
                             8284 ; 235  |
                             8285 ; 236  |#define HW_RTC_ALARM1_ALARMHIGH_CLRMASK (~(WORD)HW_RTC_ALARM1_ALARMHIGH_SETMASK)
                             8286 ; 237  |
                             8287 ; 238  |typedef union               
                             8288 ; 239  |{
                             8289 ; 240  |    struct {
                             8290 ; 241  |         int ALARMHIGH  : HW_RTC_ALARM1_ALARMHIGH_WIDTH;
                             8291 ; 242  |    } B;
                             8292 ; 243  |    int I;
                             8293 ; 244  |    unsigned int U;
                             8294 ; 245  |} rtc_alarm1_type;
                             8295 ; 246  |#define HW_RTC_ALARM1      (*(volatile rtc_alarm1_type _X*) (HW_RTC_BASEADDR+5))    /* RTC ALARM Upper Word Register */
                             8296 ; 247  |/////////////////////////////////////////////////////////////////////////////////
                             8297 ; 248  |
                             8298 ; 249  |//  RTC Xtal-Clock Divide Register (HW_RTC_XTALDIVIDE) Bit Definitions
                             8299 ; 250  |
                             8300 ; 251  |#define HW_RTC_XTALDIVIDE_DIVCOUNT_BITPOS (0)
                             8301 ; 252  |#define HW_RTC_XTALDIVIDE_RSVD0_BITPOS (16)
                             8302 ; 253  |
                             8303 ; 254  |#define HW_RTC_XTALDIVIDE_DIVCOUNT_WIDTH (16)
                             8304 ; 255  |#define HW_RTC_XTALDIVIDE_RSVD0_WIDTH (8)
                             8305 ; 256  |
                             8306 ; 257  |#define HW_RTC_XTALDIVIDE_DIVCOUNT_SETMASK (((1<<HW_RTC_XTALDIVIDE_DIVCOUNT_WIDTH)-1)<<HW_RTC_XTALDIVIDE_DIVCOUNT_BITPOS) 
                             8307 ; 258  |#define HW_RTC_XTALDIVIDE_RSVD0_SETMASK (((1<<HW_RTC_XTALDIVIDE_RSVD0_BITPOS)-1)<<HW_RTC_XTALDIVIDE_RSVD0_BITPOS) 
                             8308 ; 259  |
                             8309 ; 260  |#define HW_RTC_XTALDIVIDE_DIVCOUNT_CLRMASK (~(WORD)HW_RTC_XTALDIVIDE_DIVCOUNT_SETMASK)
                             8310 ; 261  |#define HW_RTC_XTALDIVIDE_RSVD0_CLRMASK (~(WORD)HW_RTC_XTALDIVIDE_RSVD0_SETMASK)
                             8311 ; 262  |
                             8312 ; 263  |typedef union               
                             8313 ; 264  |{
                             8314 ; 265  |    struct {
                             8315 ; 266  |         int DIVCOUNT   : HW_RTC_XTALDIVIDE_DIVCOUNT_WIDTH;
                             8316 ; 267  |         int RSVD0      : HW_RTC_XTALDIVIDE_RSVD0_WIDTH;
                             8317 ; 268  |    } B;
                             8318 ; 269  |    int I;
                             8319 ; 270  |    unsigned int U;
                             8320 ; 271  |} rtc_xtaldivide_type;
                             8321 ; 272  |#define HW_RTC_XTALDIVIDE   (*(volatile rtc_xtaldivide_type _X*) (HW_RTC_BASEADDR+6))  /* RTC Xtal-clock Pre-Divider Word Register */
                             8322 ; 273  |/////////////////////////////////////////////////////////////////////////////////
                             8323 ; 274  |
                             8324 ; 275  |//  RTC PERSISTENT Register0 (HW_RTC_PERSISTENT0) Bit Definitions
                             8325 ; 276  |
                             8326 ; 277  |#define HW_RTC_PERSISTENT0_ALARMEN_BITPOS (0)
                             8327 ; 278  |#define HW_RTC_PERSISTENT0_ALARMWAKE_EN_BITPOS (1)
                             8328 ; 279  |#define HW_RTC_PERSISTENT0_ALARMWAKE_BITPOS (2)
                             8329 ; 280  |#define HW_RTC_PERSISTENT0_XTALPDOWN_BITPOS (3)
                             8330 ; 281  |#define HW_RTC_PERSISTENT0_RSVD0_BITPOS (4)
                             8331 ; 282  |
                             8332 ; 283  |#define HW_RTC_PERSISTENT0_ALARMEN_WIDTH (1)
                             8333 ; 284  |#define HW_RTC_PERSISTENT0_ALARMWAKE_EN_WIDTH (1)
                             8334 ; 285  |#define HW_RTC_PERSISTENT0_ALARMWAKE_WIDTH (1)
                             8335 ; 286  |#define HW_RTC_PERSISTENT0_XTALPDOWN_WIDTH (1)
                             8336 ; 287  |#define HW_RTC_PERSISTENT0_RSVD0_WIDTH (21)
                             8337 ; 288  |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page  34

M:ADDR CODE           CYCLES LINE SOURCELINE
                             8338 ; 289  |#define HW_RTC_PERSISTENT0_ALARMEN_SETMASK (((1<<HW_RTC_PERSISTENT0_ALARMEN_WIDTH)-1)<<HW_RTC_PERSISTENT0_ALARMEN_BITPOS) 
                             8339 ; 290  |#define HW_RTC_PERSISTENT0_ALARMWAKE_EN_SETMASK (((1<<HW_RTC_PERSISTENT0_ALARMWAKE_EN_WIDTH)-1)<<HW_RTC_PERSISTENT0_ALARMWAKE_EN_BITPOS)
                             8340 ; 291  |#define HW_RTC_PERSISTENT0_ALARMWAKE_SETMASK (((1<<HW_RTC_PERSISTENT0_ALARMWAKE_WIDTH)-1)<<HW_RTC_PERSISTENT0_ALARMWAKE_BITPOS) 
                             8341 ; 292  |#define HW_RTC_PERSISTENT0_XTALPDOWN_SETMASK (((1<<HW_RTC_PERSISTENT0_XTALPDOWN_WIDTH)-1)<<HW_RTC_PERSISTENT0_XTALPDOWN_BITPOS) 
                             8342 ; 293  |#define HW_RTC_PERSISTENT0_RSVD0_SETMASK (((1<<HW_RTC_PERSISTENT0_RSVD0_WIDTH)-1)<<HW_RTC_PERSISTENT0_RSVD0_BITPOS) 
                             8343 ; 294  |
                             8344 ; 295  |#define HW_RTC_PERSISTENT0_ALARMEN_CLRMASK (~(WORD)HW_RTC_PERSISTENT0_ALARMEN_SETMASK)
                             8345 ; 296  |#define HW_RTC_PERSISTENT0_ALARMWAKE_EN_CLRMASK (~(WORD)HW_RTC_PERSISTENT0_ALARMWAKE_EN_SETMASK)
                             8346 ; 297  |#define HW_RTC_PERSISTENT0_ALARMWAKE_CLRMASK (~(WORD)HW_RTC_PERSISTENT0_ALARMWAKE_SETMASK)
                             8347 ; 298  |#define HW_RTC_PERSISTENT0_XTALPDOWN_CLRMASK (~(WORD)HW_RTC_PERSISTENT0_XTALPDOWN_SETMASK)
                             8348 ; 299  |#define HW_RTC_PERSISTENT0_RSVD0_CLRMASK (~(WORD)HW_RTC_PERSISTENT0_RSVD0_SETMASK)
                             8349 ; 300  |
                             8350 ; 301  |typedef union               
                             8351 ; 302  |{
                             8352 ; 303  |   struct {
                             8353 ; 304  |      int ALARMEN   : HW_RTC_PERSISTENT0_ALARMEN_WIDTH;
                             8354 ; 305  |           int ALARMWAKE_EN  :  HW_RTC_PERSISTENT0_ALARMWAKE_EN_WIDTH;
                             8355 ; 306  |      int ALARMWAKE : HW_RTC_PERSISTENT0_ALARMWAKE_WIDTH;
                             8356 ; 307  |      int XTALPDOWN : HW_RTC_PERSISTENT0_XTALPDOWN_WIDTH;
                             8357 ; 308  |      int RSVD0     : HW_RTC_PERSISTENT0_RSVD0_WIDTH;
                             8358 ; 309  |   } B;
                             8359 ; 310  |    int I;
                             8360 ; 311  |    unsigned int U;
                             8361 ; 312  |} rtc_PERSISTENT0_type;
                             8362 ; 313  |#define HW_RTC_PERSISTENT0   (*(volatile rtc_PERSISTENT0_type _X*) (HW_RTC_BASEADDR+7))  /* RTC PERSISTENT Register0 */
                             8363 ; 314  |
                             8364 ; 315  |/////////////////////////////////////////////////////////////////////////////////
                             8365 ; 316  |
                             8366 ; 317  |//  RTC PERSISTENT Register1 (HW_RTC_PERSISTENT1) Bit Definitions
                             8367 ; 318  |
                             8368 ; 319  |#define HW_RTC_PERSISTENT1_RSVD0_BITPOS (0)
                             8369 ; 320  |
                             8370 ; 321  |#define HW_RTC_PERSISTENT1_RSVD0_WIDTH (24)
                             8371 ; 322  |
                             8372 ; 323  |#define HW_RTC_PERSISTENT1_RSVD0_SETMASK (((1<<HW_RTC_PERSISTENT1_RSVD0_WIDTH)-1)<<HW_RTC_PERSISTENT1_RSVD0_BITPOS) 
                             8373 ; 324  |
                             8374 ; 325  |#define HW_RTC_PERSISTENT1_RSVD0_CLRMASK (~(WORD)HW_RTC_PERSISTENT1_RSVD0_SETMASK)
                             8375 ; 326  |
                             8376 ; 327  |
                             8377 ; 328  |typedef union               
                             8378 ; 329  |{
                             8379 ; 330  |    struct {
                             8380 ; 331  |         int RSVD0      : HW_RTC_PERSISTENT1_RSVD0_WIDTH;
                             8381 ; 332  |    } B;
                             8382 ; 333  |    int I;
                             8383 ; 334  |    unsigned int U;
                             8384 ; 335  |} rtc_PERSISTENT1_type;
                             8385 ; 336  |#define HW_RTC_PERSISTENT1   (*(volatile rtc_PERSISTENT1_type _X*) (HW_RTC_BASEADDR+8))  /* RTC PERSISTENT Register1 */
                             8386 ; 337  |
                             8387 ; 338  |
                             8388 ; 339  |#endif
                             8389 ; 340  |
                             8390 ; 341  |
                             8391 ; 342  |
                             8392 ; 343  |
                             8393 ; 344  |
                             8394 ; 345  |
                             8395 ; 346  |
                             8396 ; 347  |
                             8397 ; 348  |
                             8398 ; 349  |
                             8399 ; 350  |
                             8400 ; 351  |
                             8401 ; 352  |
                             8402 ; 353  |
                             8403 
                             8405 
                             8406 ; 30   |#include "regsspare.h"
                             8407 
                             8409 
                             8410 ; 1    |#if !(defined(RESGSSPARE_INC))
                             8411 ; 2    |#define RESGSSPARE_INC 1
                             8412 ; 3    |
                             8413 ; 4    |#define HW_SPARER_BASEADDR (0xFA16)
                             8414 ; 5    |
                             8415 ; 6    |
                             8416 ; 7    |#define HW_SPARER_I2SS_BITPOS 0
                             8417 ; 8    |#define HW_SPARER_USB_SELECT_BITPOS 1
                             8418 ; 9    |#define HW_SPARER_USB_PLUGIN_BITPOS 8
                             8419 ; 10   |#define HW_SPARER_PSWITCH_BITPOS 9
                             8420 ; 11   |
                             8421 ; 12   |#define HW_SPARER_I2SS_SETMASK 1<<HW_SPARER_I2SS_BITPOS
                             8422 ; 13   |#define HW_SPARER_USB_SELECT_SETMASK 1<<HW_SPARER_USB_SELECT_BITPOS
                             8423 ; 14   |
                             8424 ; 15   |#define HW_SPARER_I2SS_CLRMASK ~(WORD)HW_SPARER_I2SS_SETMASK
                             8425 ; 16   |#define HW_SPARER_USB_SELECT_CLRMASK ~(WORD)HW_SPARER_USB_SELECT_SETMASK
                             8426 ; 17   |
                             8427 ; 18   |
                             8428 ; 19   |
                             8429 ; 20   |typedef union               
                             8430 ; 21   |{
                             8431 ; 22   |    struct {
                             8432 ; 23   |        int      I2SS       :1;     
                             8433 ; 24   |        int      USBSELECT  :1;     
                             8434 ; 25   |        unsigned            :6;
                             8435 ; 26   |        int      USBPLUGIN  :1;     
                             8436 ; 27   |        int      PSWITCH    :1;     
                             8437 ; 28   |    } B;
                             8438 ; 29   |
                             8439 ; 30   |    int I;
                             8440 ; 31   |
                             8441 ; 32   |} spare_type;
                             8442 ; 33   |#define HW_SPARER      (*(volatile spare_type _X*) (HW_SPARER_BASEADDR))
                             8443 ; 34   |
                             8444 ; 35   |
                             8445 ; 36   |
                             8446 ; 37   |#endif
                             8447 
                             8449 
                             8450 ; 31   |#include "regsspi.h"
                             8451 
                             8453 
                             8454 ; 1    |//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                             8455 ; 2    |//;; Copyright(C) SigmaTel, Inc. 2002-2003
                             8456 ; 3    |//;; Filename    : regsspi.inc
                             8457 ; 4    |//;; Description : Register definitions for SPI interface
                             8458 ; 5    |//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                             8459 ; 6    |
                             8460 ; 7    |/////////////////////////////////////////////////////////////////////////////////
                             8461 ; 8    |// The following naming conventions are followed in this file.
                             8462 ; 9    |// All registers are named using the format...
                             8463 ; 10   |//     HW_<module>_<regname>
                             8464 ; 11   |// where <module> is the module name which can be any of the following...
                             8465 ; 12   |//     USB20
                             8466 ; 13   |// (Note that when there is more than one copy of a particular module, the
                             8467 ; 14   |// module name includes a number starting from 0 for the first instance of
                             8468 ; 15   |// that module)
                             8469 ; 16   |// <regname> is the specific register within that module
                             8470 ; 17   |// We also define the following...
                             8471 ; 18   |//     HW_<module>_<regname>_BITPOS
                             8472 ; 19   |// which defines the starting bit (i.e. LSB) of a multi bit field
                             8473 ; 20   |//     HW_<module>_<regname>_SETMASK
                             8474 ; 21   |// which does something else, and
                             8475 ; 22   |//     HW_<module>_<regname>_CLRMASK
                             8476 ; 23   |// which does something else.
                             8477 ; 24   |// Other rules
                             8478 ; 25   |//     All caps
                             8479 ; 26   |//     Numeric identifiers start at 0
                             8480 ; 27   |#if !(defined(regsspiinc))
                             8481 ; 28   |#define regsspiinc 1
                             8482 ; 29   |
                             8483 ; 30   |#include "types.h"
                             8484 
                             8486 
                             8487 ; 1    |////////////////////////////////////////////////////////////////////////////////
                             8488 ; 2    |// Copyright(C) SigmaTel, Inc. 2000-2004
                             8489 ; 3    |//
                             8490 ; 4    |// Filename: types.h
                             8491 ; 5    |// Description: Standard data types
                             8492 ; 6    |////////////////////////////////////////////////////////////////////////////////
                             8493 ; 7    |
                             8494 ; 8    |#ifndef _TYPES_H
                             8495 ; 9    |#define _TYPES_H
                             8496 ; 10   |
                             8497 ; 11   |// TODO:  move this outta here!
                             8498 ; 12   |#if !defined(NOERROR)
                             8499 ; 13   |#define NOERROR 0
                             8500 ; 14   |#define SUCCESS 0
                             8501 ; 15   |#endif 
                             8502 ; 16   |#if !defined(SUCCESS)
                             8503 ; 17   |#define SUCCESS  0
                             8504 ; 18   |#endif
                             8505 ; 19   |#if !defined(ERROR)
                             8506 ; 20   |#define ERROR   -1
                             8507 ; 21   |#endif
                             8508 ; 22   |#if !defined(FALSE)
                             8509 ; 23   |#define FALSE 0
                             8510 ; 24   |#endif
                             8511 ; 25   |#if !defined(TRUE)
                             8512 ; 26   |#define TRUE  1
                             8513 ; 27   |#endif
                             8514 ; 28   |
                             8515 ; 29   |#if !defined(NULL)
                             8516 ; 30   |#define NULL 0
                             8517 ; 31   |#endif
                             8518 ; 32   |
                             8519 ; 33   |#define MAX_INT     0x7FFFFF
                             8520 ; 34   |#define MAX_LONG    0x7FFFFFffffff
                             8521 ; 35   |        // max positive unsigned long value: -1 == 0xFFFFFFffffff
                             8522 ; 36   |#define MAX_ULONG   (-1) 
                             8523 ; 37   |
                             8524 ; 38   |#define WORD_SIZE   24              // word size in bits
                             8525 ; 39   |#define BYTES_PER_WORD 3            // 8 bit bytes
                             8526 ; 40   |
                             8527 ; 41   |
                             8528 ; 42   |#define BYTE    unsigned char       // btVarName
                             8529 ; 43   |#define CHAR    signed char         // cVarName
                             8530 ; 44   |#define USHORT  unsigned short      // usVarName
                             8531 ; 45   |#define SHORT   unsigned short      // sVarName
                             8532 ; 46   |#define WORD    unsigned int        // wVarName
                             8533 ; 47   |#define INT     signed int          // iVarName
                             8534 ; 48   |#define DWORD   unsigned long       // dwVarName
                             8535 ; 49   |#define LONG    signed long         // lVarName
                             8536 ; 50   |#define BOOL    unsigned int        // bVarName
                             8537 ; 51   |#define FRACT   _fract              // frVarName
                             8538 ; 52   |#define LFRACT  long _fract         // lfrVarName
                             8539 ; 53   |#define CIRC    _circ               // cp<type prefix>VarName (see below)
                             8540 ; 54   |#define FLOAT   float               // fVarName
                             8541 ; 55   |#define DBL     double              // dVarName
                             8542 ; 56   |#define ENUM    enum                // eVarName
                             8543 ; 57   |#define CMX     _complex            // cmxVarName
                             8544 ; 58   |typedef WORD UCS3;                   // 
                             8545 ; 59   |
                             8546 ; 60   |#define UINT16  unsigned short
                             8547 ; 61   |#define UINT8   unsigned char   
                             8548 ; 62   |#define UINT32  unsigned long
                             8549 ; 63   |#define UINT64  unsigned long   // need to figure out how to do 64 bit values.  Or port exisiting code to only use 48 bit
                             8550 ; 64   |#define INT64   unsigned long   // need to figure out how to do 64 bit values.  Or port exisiting code to only use 48 bit
                             8551 ; 65   |#define WCHAR   UINT16
                             8552 ; 66   |
                             8553 ; 67   |//UINT128 is 16 bytes or 6 words
                             8554 ; 68   |typedef struct UINT128_3500 {   
                             8555 ; 69   |    int val[6];     
                             8556 ; 70   |} UINT128_3500;
                             8557 ; 71   |
                             8558 ; 72   |#define UINT128   UINT128_3500
                             8559 ; 73   |
                             8560 ; 74   |// Little endian word packed byte strings:   
                             8561 ; 75   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                             8562 ; 76   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                             8563 ; 77   |// Little endian word packed byte strings:   
                             8564 ; 78   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                             8565 ; 79   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                             8566 ; 80   |
                             8567 ; 81   |// Declare Memory Spaces To Use When Coding
                             8568 ; 82   |// A. Sector Buffers
                             8569 ; 83   |#define SECTOR_BUFFER_MEM_X _X
                             8570 ; 84   |#define SECTOR_BUFFER_MEM_Y _Y
                             8571 ; 85   |#define SECTOR_BUFFER_MEM SECTOR_BUFFER_MEM_X
                             8572 ; 86   |typedef WORD SECTOR_BUFFER_MEM SECTOR_BUFFER;
                             8573 ; 87   |typedef SECTOR_BUFFER * P_SECTOR_BUFFER;
                             8574 ; 88   |// B. Media DDI Memory
                             8575 ; 89   |#define MEDIA_DDI_MEM _Y
                             8576 ; 90   |
                             8577 ; 91   |
                             8578 ; 92   |
                             8579 ; 93   |// Pointers to linear structures are labeled as: p<type prefix>VarName
                             8580 ; 94   |// Examples of circular pointers:
                             8581 ; 95   |//    INT CIRC cpiVarName
                             8582 ; 96   |//    DWORD CIRC cpdwVarName
                             8583 ; 97   |
                             8584 ; 98   |#define RETCODE INT                 // rcVarName
                             8585 ; 99   |
                             8586 ; 100  |// generic bitfield structure
                             8587 ; 101  |struct Bitfield {
                             8588 ; 102  |    unsigned int B0  :1;
                             8589 ; 103  |    unsigned int B1  :1;
                             8590 ; 104  |    unsigned int B2  :1;
                             8591 ; 105  |    unsigned int B3  :1;
                             8592 ; 106  |    unsigned int B4  :1;
                             8593 ; 107  |    unsigned int B5  :1;
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page  35

M:ADDR CODE           CYCLES LINE SOURCELINE
                             8594 ; 108  |    unsigned int B6  :1;
                             8595 ; 109  |    unsigned int B7  :1;
                             8596 ; 110  |    unsigned int B8  :1;
                             8597 ; 111  |    unsigned int B9  :1;
                             8598 ; 112  |    unsigned int B10 :1;
                             8599 ; 113  |    unsigned int B11 :1;
                             8600 ; 114  |    unsigned int B12 :1;
                             8601 ; 115  |    unsigned int B13 :1;
                             8602 ; 116  |    unsigned int B14 :1;
                             8603 ; 117  |    unsigned int B15 :1;
                             8604 ; 118  |    unsigned int B16 :1;
                             8605 ; 119  |    unsigned int B17 :1;
                             8606 ; 120  |    unsigned int B18 :1;
                             8607 ; 121  |    unsigned int B19 :1;
                             8608 ; 122  |    unsigned int B20 :1;
                             8609 ; 123  |    unsigned int B21 :1;
                             8610 ; 124  |    unsigned int B22 :1;
                             8611 ; 125  |    unsigned int B23 :1;
                             8612 ; 126  |};
                             8613 ; 127  |
                             8614 ; 128  |union BitInt {
                             8615 ; 129  |        struct Bitfield B;
                             8616 ; 130  |        int        I;
                             8617 ; 131  |};
                             8618 ; 132  |
                             8619 ; 133  |#define MAX_MSG_LENGTH 10
                             8620 ; 134  |struct CMessage
                             8621 ; 135  |{
                             8622 ; 136  |        unsigned int m_uLength;
                             8623 ; 137  |        unsigned int m_uMsg[MAX_MSG_LENGTH];
                             8624 ; 138  |};
                             8625 ; 139  |
                             8626 ; 140  |typedef struct {
                             8627 ; 141  |    WORD m_wLength;
                             8628 ; 142  |    WORD m_wMessage;
                             8629 ; 143  |    WORD m_wParams[MAX_MSG_LENGTH];
                             8630 ; 144  |} Message;
                             8631 ; 145  |
                             8632 ; 146  |struct MessageQueueDescriptor
                             8633 ; 147  |{
                             8634 ; 148  |        int *m_pBase;
                             8635 ; 149  |        int m_iModulo;
                             8636 ; 150  |        int m_iSize;
                             8637 ; 151  |        int *m_pHead;
                             8638 ; 152  |        int *m_pTail;
                             8639 ; 153  |};
                             8640 ; 154  |
                             8641 ; 155  |struct ModuleEntry
                             8642 ; 156  |{
                             8643 ; 157  |    int m_iSignaledEventMask;
                             8644 ; 158  |    int m_iWaitEventMask;
                             8645 ; 159  |    int m_iResourceOfCode;
                             8646 ; 160  |    struct MessageQueueDescriptor *m_pMessageQueue;
                             8647 ; 161  |    int _asmfunc (*m_pProcessEntryPoint)(union WaitMask Signals,struct MessageQueueDescriptor *);
                             8648 ; 162  |    int _asmfunc (*m_pInitFunction)(struct MessageQueueDescriptor *);
                             8649 ; 163  |    int m_uTimeOutHigh;
                             8650 ; 164  |    int m_uTimeOutLow;
                             8651 ; 165  |    int _asmfunc (*m_pBackgroundFunction)(struct MessageQueueDescriptor *);
                             8652 ; 166  |};
                             8653 ; 167  |
                             8654 ; 168  |union WaitMask{
                             8655 ; 169  |    struct B{
                             8656 ; 170  |        unsigned int m_bNone     :1;
                             8657 ; 171  |        unsigned int m_bMessage  :1;
                             8658 ; 172  |        unsigned int m_bTimer    :1;
                             8659 ; 173  |        unsigned int m_bButton   :1;
                             8660 ; 174  |    } B;
                             8661 ; 175  |    int I;
                             8662 ; 176  |} ;
                             8663 ; 177  |
                             8664 ; 178  |
                             8665 ; 179  |struct Button {
                             8666 ; 180  |        WORD wButtonEvent;
                             8667 ; 181  |        WORD wUnused[MAX_MSG_LENGTH];   
                             8668 ; 182  |};
                             8669 ; 183  |
                             8670 ; 184  |struct Message {
                             8671 ; 185  |        WORD wMsgLength;
                             8672 ; 186  |        WORD wMsgCommand;
                             8673 ; 187  |        WORD wMsgParms[MAX_MSG_LENGTH-1];
                             8674 ; 188  |};
                             8675 ; 189  |
                             8676 ; 190  |union EventTypes {
                             8677 ; 191  |        struct CMessage msg;
                             8678 ; 192  |        struct Button Button ;
                             8679 ; 193  |        struct Message Message;
                             8680 ; 194  |};
                             8681 ; 195  |
                             8682 ; 196  |// next 2 used to get updater build to return correct protocol ver in scsi response.
                             8683 ; 197  |#define BUILD_TYPE_UPDATER  0x100
                             8684 ; 198  |#define BUILD_TYPE_HOSTLINK 0x101
                             8685 ; 199  |#define BUILD_TYPE_PLAYER   0x102
                             8686 ; 200  |
                             8687 ; 201  |// Resets part if RETAIL build. DEBUG build executes debug instruction to halt.
                             8688 ; 202  |#define SystemHalt() __asm(" include 'sysmacro.asm' \n error") 
                             8689 ; 203  |#define assert(x)    if(!(x)) __asm(" include 'sysmacro.asm' \n error")
                             8690 ; 204  |
                             8691 ; 205  |#if DEBUG
                             8692 ; 206  |// For DEBUG builds, DebugBuildAssert(condition) halts if condition evaluates to FALSE. 
                             8693 ; 207  |#define DebugBuildAssert(x)    if(!(x)) __asm(" debug ")
                             8694 ; 208  |#else 
                             8695 ; 209  |// For RETAIL builds, DebugBuildAssert(condition) does nothing & execution continues rather than halt or reset. 
                             8696 ; 210  |#define DebugBuildAssert(x)    
                             8697 ; 211  |#endif
                             8698 ; 212  |
                             8699 ; 213  |// Do this in your C files to make a reminder that's displayed during the build.
                             8700 ; 214  |//  #pragma asm
                             8701 ; 215  |//  WARN 'Note to builder: reminder to do this after verifying that'
                             8702 ; 216  |//  #pragma endasm
                             8703 ; 217  |
                             8704 ; 218  |
                             8705 ; 219  |#ifdef COLOR_262K
                             8706 ; 220  |#define RGB(r,g,b)    ((0x0000FC & (r)) << 10) | ((0x0000FC & (g)) << 4) | ((0x0000FC & (b)) >> 2)    //262k
                             8707 ; 221  |#elif defined(COLOR_65K)
                             8708 ; 222  |#define RGB(r,g,b)    ((0x0000F8 & (r)) << 8) | ((0x0000FC & (g)) << 3) | ((0x0000F8 & (b)) >> 3)  //65k
                             8709 ; 223  |#else
                             8710 ; 224  |#define RGB(r,g,b)       ((0x0000F0 & (r)) << 4) | (0x0000F0 & (g)) | ((0x0000F0 & (b)) >> 4)
                             8711 ; 225  |#endif
                             8712 ; 226  |    
                             8713 ; 227  |#endif // #ifndef _TYPES_H
                             8714 
                             8716 
                             8717 ; 31   |
                             8718 ; 32   |//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                             8719 ; 33   |
                             8720 ; 34   |//   SPI STMP3500 Registers 
                             8721 ; 35   |//   Last Updated 7.7.2003 Dave Dyches
                             8722 ; 36   |//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                             8723 ; 37   |
                             8724 ; 38   |#define HW_SPI_BASEADDR (0xFFF9)
                             8725 ; 39   |
                             8726 ; 40   |
                             8727 ; 41   |
                             8728 ; 42   |// /////////////////////////////////////////////
                             8729 ; 43   |// //  SPI Control/Status Register Bit Definitions
                             8730 ; 44   |#define HW_SPCSR_SPE_BITPOS (0)
                             8731 ; 45   |#define HW_SPCSR_MSTR_BITPOS (1)
                             8732 ; 46   |#define HW_SPCSR_SPIE_BITPOS (2)
                             8733 ; 47   |#define HW_SPCSR_CPOL_BITPOS (3)
                             8734 ; 48   |#define HW_SPCSR_CPHA_BITPOS (4)
                             8735 ; 49   |#define HW_SPCSR_SPIF_BITPOS (5)
                             8736 ; 50   |#define HW_SPCSR_WCOL_BITPOS (6)
                             8737 ; 51   |#define HW_SPCSR_MODF_BITPOS (7)
                             8738 ; 52   |#define HW_SPCSR_DIV_BITPOS (8)
                             8739 ; 53   |#define HW_SPCSR_RSVD_BITPOS (16)
                             8740 ; 54   |
                             8741 ; 55   |#define HW_SPCSR_SPE_WIDTH (1)
                             8742 ; 56   |#define HW_SPCSR_MSTR_WIDTH (1)
                             8743 ; 57   |#define HW_SPCSR_SPIE_WIDTH (1)
                             8744 ; 58   |#define HW_SPCSR_CPOL_WIDTH (1)
                             8745 ; 59   |#define HW_SPCSR_CPHA_WIDTH (1)
                             8746 ; 60   |#define HW_SPCSR_SPIF_WIDTH (1)
                             8747 ; 61   |#define HW_SPCSR_WCOL_WIDTH (1)
                             8748 ; 62   |#define HW_SPCSR_MODF_WIDTH (1)
                             8749 ; 63   |#define HW_SPCSR_DIV_WIDTH (8)
                             8750 ; 64   |#define HW_SPCSR_RSVD_WIDTH (8)
                             8751 ; 65   |
                             8752 ; 66   |#define HW_SPCSR_SPE_SETMASK (((1<<HW_SPCSR_SPE_WIDTH)-1)<<HW_SPCSR_SPE_BITPOS)
                             8753 ; 67   |#define HW_SPCSR_MSTR_SETMASK (((1<<HW_SPCSR_MSTR_WIDTH)-1)<<HW_SPCSR_MSTR_BITPOS)
                             8754 ; 68   |#define HW_SPCSR_SPIE_SETMASK (((1<<HW_SPCSR_SPIE_WIDTH)-1)<<HW_SPCSR_SPIE_BITPOS)
                             8755 ; 69   |#define HW_SPCSR_CPOL_SETMASK (((1<<HW_SPCSR_CPOL_WIDTH)-1)<<HW_SPCSR_CPOL_BITPOS)
                             8756 ; 70   |#define HW_SPCSR_CPHA_SETMASK (((1<<HW_SPCSR_CPHA_WIDTH)-1)<<HW_SPCSR_CPHA_BITPOS)
                             8757 ; 71   |#define HW_SPCSR_SPIF_SETMASK (((1<<HW_SPCSR_SPIF_WIDTH)-1)<<HW_SPCSR_SPIF_BITPOS)
                             8758 ; 72   |#define HW_SPCSR_WCOL_SETMASK (((1<<HW_SPCSR_WCOL_WIDTH)-1)<<HW_SPCSR_WCOL_BITPOS)
                             8759 ; 73   |#define HW_SPCSR_MODF_SETMASK (((1<<HW_SPCSR_MODF_WIDTH)-1)<<HW_SPCSR_MODF_BITPOS)
                             8760 ; 74   |#define HW_SPCSR_DIV_SETMASK (((1<<HW_SPCSR_DIV_WIDTH)-1)<<HW_SPCSR_DIV_BITPOS)
                             8761 ; 75   |#define HW_SPCSR_RSVD_SETMASK (((1<<HW_SPCSR_RSVD_WIDTH)-1)<<HW_SPCSR_RSVD_BITPOS)
                             8762 ; 76   |
                             8763 ; 77   |#define HW_SPCSR_SPE_CLRMASK (~(WORD)HW_SPCSR_SPE_SETMASK)
                             8764 ; 78   |#define HW_SPCSR_MSTR_CLRMASK (~(WORD)HW_SPCSR_MSTR_SETMASK)
                             8765 ; 79   |#define HW_SPCSR_SPIE_CLRMASK (~(WORD)HW_SPCSR_SPIE_SETMASK)
                             8766 ; 80   |#define HW_SPCSR_CPOL_CLRMASK (~(WORD)HW_SPCSR_CPOL_SETMASK)
                             8767 ; 81   |#define HW_SPCSR_CPHA_CLRMASK (~(WORD)HW_SPCSR_CPHA_SETMASK)
                             8768 ; 82   |#define HW_SPCSR_SPIF_CLRMASK (~(WORD)HW_SPCSR_SPIF_SETMASK)
                             8769 ; 83   |#define HW_SPCSR_WCOL_CLRMASK (~(WORD)HW_SPCSR_WCOL_SETMASK)
                             8770 ; 84   |#define HW_SPCSR_MODF_CLRMASK (~(WORD)HW_SPCSR_MODF_SETMASK)
                             8771 ; 85   |#define HW_SPCSR_DIV_CLRMASK (~(WORD)HW_SPCSR_DIV_SETMASK)
                             8772 ; 86   |#define HW_SPCSR_RSVD_CLRMASK (~(WORD)HW_SPCSR_RSVD_SETMASK)
                             8773 ; 87   |
                             8774 ; 88   |typedef union               
                             8775 ; 89   |{
                             8776 ; 90   |    struct {
                             8777 ; 91   |        int SPE                 : HW_SPCSR_SPE_WIDTH;    
                             8778 ; 92   |        int MSTR                : HW_SPCSR_MSTR_WIDTH;
                             8779 ; 93   |        int SPIE                    : HW_SPCSR_SPIE_WIDTH;
                             8780 ; 94   |        int CPOL                : HW_SPCSR_CPOL_WIDTH;
                             8781 ; 95   |        int CPHA                : HW_SPCSR_CPHA_WIDTH;
                             8782 ; 96   |        int SPIF                : HW_SPCSR_SPIF_WIDTH;
                             8783 ; 97   |        int WCOL                    : HW_SPCSR_WCOL_WIDTH;
                             8784 ; 98   |        int MODF                : HW_SPCSR_MODF_WIDTH;
                             8785 ; 99   |        int DIV                 : HW_SPCSR_DIV_WIDTH;
                             8786 ; 100  |    } B;
                             8787 ; 101  |
                             8788 ; 102  |    int I;
                             8789 ; 103  |    unsigned int U;
                             8790 ; 104  |} spcsr_type;
                             8791 ; 105  |#define HW_SPCSR      (*(volatile spcsr_type _X*) (HW_SPI_BASEADDR))    /* SPI Control / Status Register */
                             8792 ; 106  |
                             8793 ; 107  |// /////////////////////////////////////////////
                             8794 ; 108  |// //  SPI Data Register Bit Definitions
                             8795 ; 109  |#define HW_SPDR_SPIDATA_BITPOS (0)
                             8796 ; 110  |#define HW_SPDR_RSVD_BITPOS (8)
                             8797 ; 111  |
                             8798 ; 112  |#define HW_SPDR_SPIDATA_WIDTH (8)
                             8799 ; 113  |#define HW_SPDR_RSVD_WIDTH (16)
                             8800 ; 114  |
                             8801 ; 115  |#define HW_SPDR_SPIDATA_SETMASK (((1<<HW_SPDR_SPIDATA_WIDTH)-1)<<HW_SPDR_SPIDATA_BITPOS)
                             8802 ; 116  |#define HW_SPDR_RSVD_SETMASK (((1<<HW_SPDR_RSVD_WIDTH)-1)<<HW_SPDR_RSVD_BITPOS)
                             8803 ; 117  |
                             8804 ; 118  |#define HW_SPDR_SPIDATA_CLRMASK (~(WORD)HW_SPDR_SPIDATA_SETMASK) 
                             8805 ; 119  |#define HW_SPDR_RSVD_CLRMASK (~(WORD)HW_SPDR_RSVD_SETMASK)
                             8806 ; 120  |
                             8807 ; 121  |typedef union               
                             8808 ; 122  |{
                             8809 ; 123  |    struct {
                             8810 ; 124  |        int SPIDATA                     : HW_SPDR_SPIDATA_WIDTH;
                             8811 ; 125  |    } B;
                             8812 ; 126  |
                             8813 ; 127  |    int I;
                             8814 ; 128  |    unsigned int U;
                             8815 ; 129  |} spdr_type;
                             8816 ; 130  |#define HW_SPDR      (*(volatile spdr_type _X*) (HW_SPI_BASEADDR+1))    /* SPI Data Register */
                             8817 ; 131  |
                             8818 ; 132  |
                             8819 ; 133  |#endif
                             8820 ; 134  |
                             8821 ; 135  |
                             8822 
                             8824 
                             8825 ; 32   |#include "regsswizzle.h"
                             8826 
                             8828 
                             8829 ; 1    |//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                             8830 ; 2    |//;; Copyright(C) SigmaTel, Inc. 2002-2003
                             8831 ; 3    |//;; Filename    : regsswizzle.inc
                             8832 ; 4    |//;; Description : Register definitions for Swizzle interface
                             8833 ; 5    |//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                             8834 ; 6    |
                             8835 ; 7    |/////////////////////////////////////////////////////////////////////////////////
                             8836 ; 8    |// The following naming conventions are followed in this file.
                             8837 ; 9    |// All registers are named using the format...
                             8838 ; 10   |//     HW_<module>_<regname>
                             8839 ; 11   |// where <module> is the module name which can be any of the following...
                             8840 ; 12   |//     USB20
                             8841 ; 13   |// (Note that when there is more than one copy of a particular module, the
                             8842 ; 14   |// module name includes a number starting from 0 for the first instance of
                             8843 ; 15   |// that module)
                             8844 ; 16   |// <regname> is the specific register within that module
                             8845 ; 17   |// We also define the following...
                             8846 ; 18   |//     HW_<module>_<regname>_BITPOS
                             8847 ; 19   |// which defines the starting bit (i.e. LSB) of a multi bit field
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page  36

M:ADDR CODE           CYCLES LINE SOURCELINE
                             8848 ; 20   |//     HW_<module>_<regname>_SETMASK
                             8849 ; 21   |// which does something else, and
                             8850 ; 22   |//     HW_<module>_<regname>_CLRMASK
                             8851 ; 23   |// which does something else.
                             8852 ; 24   |// Other rules
                             8853 ; 25   |//     All caps
                             8854 ; 26   |//     Numeric identifiers start at 0
                             8855 ; 27   |#if !(defined(regsswizzleinc))
                             8856 ; 28   |#define regsswizzleinc 1
                             8857 ; 29   |
                             8858 ; 30   |#include "types.h"
                             8859 
                             8861 
                             8862 ; 1    |////////////////////////////////////////////////////////////////////////////////
                             8863 ; 2    |// Copyright(C) SigmaTel, Inc. 2000-2004
                             8864 ; 3    |//
                             8865 ; 4    |// Filename: types.h
                             8866 ; 5    |// Description: Standard data types
                             8867 ; 6    |////////////////////////////////////////////////////////////////////////////////
                             8868 ; 7    |
                             8869 ; 8    |#ifndef _TYPES_H
                             8870 ; 9    |#define _TYPES_H
                             8871 ; 10   |
                             8872 ; 11   |// TODO:  move this outta here!
                             8873 ; 12   |#if !defined(NOERROR)
                             8874 ; 13   |#define NOERROR 0
                             8875 ; 14   |#define SUCCESS 0
                             8876 ; 15   |#endif 
                             8877 ; 16   |#if !defined(SUCCESS)
                             8878 ; 17   |#define SUCCESS  0
                             8879 ; 18   |#endif
                             8880 ; 19   |#if !defined(ERROR)
                             8881 ; 20   |#define ERROR   -1
                             8882 ; 21   |#endif
                             8883 ; 22   |#if !defined(FALSE)
                             8884 ; 23   |#define FALSE 0
                             8885 ; 24   |#endif
                             8886 ; 25   |#if !defined(TRUE)
                             8887 ; 26   |#define TRUE  1
                             8888 ; 27   |#endif
                             8889 ; 28   |
                             8890 ; 29   |#if !defined(NULL)
                             8891 ; 30   |#define NULL 0
                             8892 ; 31   |#endif
                             8893 ; 32   |
                             8894 ; 33   |#define MAX_INT     0x7FFFFF
                             8895 ; 34   |#define MAX_LONG    0x7FFFFFffffff
                             8896 ; 35   |        // max positive unsigned long value: -1 == 0xFFFFFFffffff
                             8897 ; 36   |#define MAX_ULONG   (-1) 
                             8898 ; 37   |
                             8899 ; 38   |#define WORD_SIZE   24              // word size in bits
                             8900 ; 39   |#define BYTES_PER_WORD 3            // 8 bit bytes
                             8901 ; 40   |
                             8902 ; 41   |
                             8903 ; 42   |#define BYTE    unsigned char       // btVarName
                             8904 ; 43   |#define CHAR    signed char         // cVarName
                             8905 ; 44   |#define USHORT  unsigned short      // usVarName
                             8906 ; 45   |#define SHORT   unsigned short      // sVarName
                             8907 ; 46   |#define WORD    unsigned int        // wVarName
                             8908 ; 47   |#define INT     signed int          // iVarName
                             8909 ; 48   |#define DWORD   unsigned long       // dwVarName
                             8910 ; 49   |#define LONG    signed long         // lVarName
                             8911 ; 50   |#define BOOL    unsigned int        // bVarName
                             8912 ; 51   |#define FRACT   _fract              // frVarName
                             8913 ; 52   |#define LFRACT  long _fract         // lfrVarName
                             8914 ; 53   |#define CIRC    _circ               // cp<type prefix>VarName (see below)
                             8915 ; 54   |#define FLOAT   float               // fVarName
                             8916 ; 55   |#define DBL     double              // dVarName
                             8917 ; 56   |#define ENUM    enum                // eVarName
                             8918 ; 57   |#define CMX     _complex            // cmxVarName
                             8919 ; 58   |typedef WORD UCS3;                   // 
                             8920 ; 59   |
                             8921 ; 60   |#define UINT16  unsigned short
                             8922 ; 61   |#define UINT8   unsigned char   
                             8923 ; 62   |#define UINT32  unsigned long
                             8924 ; 63   |#define UINT64  unsigned long   // need to figure out how to do 64 bit values.  Or port exisiting code to only use 48 bit
                             8925 ; 64   |#define INT64   unsigned long   // need to figure out how to do 64 bit values.  Or port exisiting code to only use 48 bit
                             8926 ; 65   |#define WCHAR   UINT16
                             8927 ; 66   |
                             8928 ; 67   |//UINT128 is 16 bytes or 6 words
                             8929 ; 68   |typedef struct UINT128_3500 {   
                             8930 ; 69   |    int val[6];     
                             8931 ; 70   |} UINT128_3500;
                             8932 ; 71   |
                             8933 ; 72   |#define UINT128   UINT128_3500
                             8934 ; 73   |
                             8935 ; 74   |// Little endian word packed byte strings:   
                             8936 ; 75   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                             8937 ; 76   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                             8938 ; 77   |// Little endian word packed byte strings:   
                             8939 ; 78   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                             8940 ; 79   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                             8941 ; 80   |
                             8942 ; 81   |// Declare Memory Spaces To Use When Coding
                             8943 ; 82   |// A. Sector Buffers
                             8944 ; 83   |#define SECTOR_BUFFER_MEM_X _X
                             8945 ; 84   |#define SECTOR_BUFFER_MEM_Y _Y
                             8946 ; 85   |#define SECTOR_BUFFER_MEM SECTOR_BUFFER_MEM_X
                             8947 ; 86   |typedef WORD SECTOR_BUFFER_MEM SECTOR_BUFFER;
                             8948 ; 87   |typedef SECTOR_BUFFER * P_SECTOR_BUFFER;
                             8949 ; 88   |// B. Media DDI Memory
                             8950 ; 89   |#define MEDIA_DDI_MEM _Y
                             8951 ; 90   |
                             8952 ; 91   |
                             8953 ; 92   |
                             8954 ; 93   |// Pointers to linear structures are labeled as: p<type prefix>VarName
                             8955 ; 94   |// Examples of circular pointers:
                             8956 ; 95   |//    INT CIRC cpiVarName
                             8957 ; 96   |//    DWORD CIRC cpdwVarName
                             8958 ; 97   |
                             8959 ; 98   |#define RETCODE INT                 // rcVarName
                             8960 ; 99   |
                             8961 ; 100  |// generic bitfield structure
                             8962 ; 101  |struct Bitfield {
                             8963 ; 102  |    unsigned int B0  :1;
                             8964 ; 103  |    unsigned int B1  :1;
                             8965 ; 104  |    unsigned int B2  :1;
                             8966 ; 105  |    unsigned int B3  :1;
                             8967 ; 106  |    unsigned int B4  :1;
                             8968 ; 107  |    unsigned int B5  :1;
                             8969 ; 108  |    unsigned int B6  :1;
                             8970 ; 109  |    unsigned int B7  :1;
                             8971 ; 110  |    unsigned int B8  :1;
                             8972 ; 111  |    unsigned int B9  :1;
                             8973 ; 112  |    unsigned int B10 :1;
                             8974 ; 113  |    unsigned int B11 :1;
                             8975 ; 114  |    unsigned int B12 :1;
                             8976 ; 115  |    unsigned int B13 :1;
                             8977 ; 116  |    unsigned int B14 :1;
                             8978 ; 117  |    unsigned int B15 :1;
                             8979 ; 118  |    unsigned int B16 :1;
                             8980 ; 119  |    unsigned int B17 :1;
                             8981 ; 120  |    unsigned int B18 :1;
                             8982 ; 121  |    unsigned int B19 :1;
                             8983 ; 122  |    unsigned int B20 :1;
                             8984 ; 123  |    unsigned int B21 :1;
                             8985 ; 124  |    unsigned int B22 :1;
                             8986 ; 125  |    unsigned int B23 :1;
                             8987 ; 126  |};
                             8988 ; 127  |
                             8989 ; 128  |union BitInt {
                             8990 ; 129  |        struct Bitfield B;
                             8991 ; 130  |        int        I;
                             8992 ; 131  |};
                             8993 ; 132  |
                             8994 ; 133  |#define MAX_MSG_LENGTH 10
                             8995 ; 134  |struct CMessage
                             8996 ; 135  |{
                             8997 ; 136  |        unsigned int m_uLength;
                             8998 ; 137  |        unsigned int m_uMsg[MAX_MSG_LENGTH];
                             8999 ; 138  |};
                             9000 ; 139  |
                             9001 ; 140  |typedef struct {
                             9002 ; 141  |    WORD m_wLength;
                             9003 ; 142  |    WORD m_wMessage;
                             9004 ; 143  |    WORD m_wParams[MAX_MSG_LENGTH];
                             9005 ; 144  |} Message;
                             9006 ; 145  |
                             9007 ; 146  |struct MessageQueueDescriptor
                             9008 ; 147  |{
                             9009 ; 148  |        int *m_pBase;
                             9010 ; 149  |        int m_iModulo;
                             9011 ; 150  |        int m_iSize;
                             9012 ; 151  |        int *m_pHead;
                             9013 ; 152  |        int *m_pTail;
                             9014 ; 153  |};
                             9015 ; 154  |
                             9016 ; 155  |struct ModuleEntry
                             9017 ; 156  |{
                             9018 ; 157  |    int m_iSignaledEventMask;
                             9019 ; 158  |    int m_iWaitEventMask;
                             9020 ; 159  |    int m_iResourceOfCode;
                             9021 ; 160  |    struct MessageQueueDescriptor *m_pMessageQueue;
                             9022 ; 161  |    int _asmfunc (*m_pProcessEntryPoint)(union WaitMask Signals,struct MessageQueueDescriptor *);
                             9023 ; 162  |    int _asmfunc (*m_pInitFunction)(struct MessageQueueDescriptor *);
                             9024 ; 163  |    int m_uTimeOutHigh;
                             9025 ; 164  |    int m_uTimeOutLow;
                             9026 ; 165  |    int _asmfunc (*m_pBackgroundFunction)(struct MessageQueueDescriptor *);
                             9027 ; 166  |};
                             9028 ; 167  |
                             9029 ; 168  |union WaitMask{
                             9030 ; 169  |    struct B{
                             9031 ; 170  |        unsigned int m_bNone     :1;
                             9032 ; 171  |        unsigned int m_bMessage  :1;
                             9033 ; 172  |        unsigned int m_bTimer    :1;
                             9034 ; 173  |        unsigned int m_bButton   :1;
                             9035 ; 174  |    } B;
                             9036 ; 175  |    int I;
                             9037 ; 176  |} ;
                             9038 ; 177  |
                             9039 ; 178  |
                             9040 ; 179  |struct Button {
                             9041 ; 180  |        WORD wButtonEvent;
                             9042 ; 181  |        WORD wUnused[MAX_MSG_LENGTH];   
                             9043 ; 182  |};
                             9044 ; 183  |
                             9045 ; 184  |struct Message {
                             9046 ; 185  |        WORD wMsgLength;
                             9047 ; 186  |        WORD wMsgCommand;
                             9048 ; 187  |        WORD wMsgParms[MAX_MSG_LENGTH-1];
                             9049 ; 188  |};
                             9050 ; 189  |
                             9051 ; 190  |union EventTypes {
                             9052 ; 191  |        struct CMessage msg;
                             9053 ; 192  |        struct Button Button ;
                             9054 ; 193  |        struct Message Message;
                             9055 ; 194  |};
                             9056 ; 195  |
                             9057 ; 196  |// next 2 used to get updater build to return correct protocol ver in scsi response.
                             9058 ; 197  |#define BUILD_TYPE_UPDATER  0x100
                             9059 ; 198  |#define BUILD_TYPE_HOSTLINK 0x101
                             9060 ; 199  |#define BUILD_TYPE_PLAYER   0x102
                             9061 ; 200  |
                             9062 ; 201  |// Resets part if RETAIL build. DEBUG build executes debug instruction to halt.
                             9063 ; 202  |#define SystemHalt() __asm(" include 'sysmacro.asm' \n error") 
                             9064 ; 203  |#define assert(x)    if(!(x)) __asm(" include 'sysmacro.asm' \n error")
                             9065 ; 204  |
                             9066 ; 205  |#if DEBUG
                             9067 ; 206  |// For DEBUG builds, DebugBuildAssert(condition) halts if condition evaluates to FALSE. 
                             9068 ; 207  |#define DebugBuildAssert(x)    if(!(x)) __asm(" debug ")
                             9069 ; 208  |#else 
                             9070 ; 209  |// For RETAIL builds, DebugBuildAssert(condition) does nothing & execution continues rather than halt or reset. 
                             9071 ; 210  |#define DebugBuildAssert(x)    
                             9072 ; 211  |#endif
                             9073 ; 212  |
                             9074 ; 213  |// Do this in your C files to make a reminder that's displayed during the build.
                             9075 ; 214  |//  #pragma asm
                             9076 ; 215  |//  WARN 'Note to builder: reminder to do this after verifying that'
                             9077 ; 216  |//  #pragma endasm
                             9078 ; 217  |
                             9079 ; 218  |
                             9080 ; 219  |#ifdef COLOR_262K
                             9081 ; 220  |#define RGB(r,g,b)    ((0x0000FC & (r)) << 10) | ((0x0000FC & (g)) << 4) | ((0x0000FC & (b)) >> 2)    //262k
                             9082 ; 221  |#elif defined(COLOR_65K)
                             9083 ; 222  |#define RGB(r,g,b)    ((0x0000F8 & (r)) << 8) | ((0x0000FC & (g)) << 3) | ((0x0000F8 & (b)) >> 3)  //65k
                             9084 ; 223  |#else
                             9085 ; 224  |#define RGB(r,g,b)       ((0x0000F0 & (r)) << 4) | (0x0000F0 & (g)) | ((0x0000F0 & (b)) >> 4)
                             9086 ; 225  |#endif
                             9087 ; 226  |    
                             9088 ; 227  |#endif // #ifndef _TYPES_H
                             9089 
                             9091 
                             9092 ; 31   |
                             9093 ; 32   |//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                             9094 ; 33   |
                             9095 ; 34   |//   SWIZZLE STMP3500 Registers 
                             9096 ; 35   |//   Last Updated 7.11.2003 Dave Dyches
                             9097 ; 36   |//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                             9098 ; 37   |
                             9099 ; 38   |
                             9100 ; 39   |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page  37

M:ADDR CODE           CYCLES LINE SOURCELINE
                             9101 ; 40   |
                             9102 ; 41   |
                             9103 ; 42   |#define HW_SWIZZLE_BASEADDR 0xF380
                             9104 ; 43   |
                             9105 ; 44   |
                             9106 ; 45   |
                             9107 ; 46   |////  Swizzle CSR1 (HW_SWIZZLECSR1) Bit Definitions
                             9108 ; 47   |#define HW_SWIZZLECSR1_EN_BITPOS (0)
                             9109 ; 48   |#define HW_SWIZZLECSR1_LA_BITPOS (1)
                             9110 ; 49   |#define HW_SWIZZLECSR1_LNR_BITPOS (2)
                             9111 ; 50   |#define HW_SWIZZLECSR1_SIGN_BITPOS (3)
                             9112 ; 51   |#define HW_SWIZZLECSR1_SHIFT_BITPOS (4)
                             9113 ; 52   |#define HW_SWIZZLECSR1_MEM_BITPOS (8)
                             9114 ; 53   |#define HW_SWIZZLECSR1_CLK_OFF_BITPOS (9)
                             9115 ; 54   |#define HW_SWIZZLECSR1_NEWADD_BITPOS (10)
                             9116 ; 55   |#define HW_SWIZZLECSR1_RSVD_BITPOS (11)
                             9117 ; 56   |
                             9118 ; 57   |#define HW_SWIZZLECSR1_EN_WIDTH (1)
                             9119 ; 58   |#define HW_SWIZZLECSR1_LA_WIDTH (1)
                             9120 ; 59   |#define HW_SWIZZLECSR1_LNR_WIDTH (1)
                             9121 ; 60   |#define HW_SWIZZLECSR1_SIGN_WIDTH (1)
                             9122 ; 61   |#define HW_SWIZZLECSR1_SHIFT_WIDTH (4)
                             9123 ; 62   |#define HW_SWIZZLECSR1_MEM_WIDTH (1)
                             9124 ; 63   |#define HW_SWIZZLECSR1_CLK_OFF_WIDTH (1)
                             9125 ; 64   |#define HW_SWIZZLECSR1_NEWADD_WIDTH (1)
                             9126 ; 65   |#define HW_SWIZZLECSR1_RSVD_WIDTH (13)
                             9127 ; 66   |
                             9128 ; 67   |#define HW_SWIZZLECSR1_EN_SETMASK (((1<HW_SWIZZLECSR1_EN_WIDTH)-1)<<HW_SWIZZLECSR1_EN_BITPOS)
                             9129 ; 68   |#define HW_SWIZZLECSR1_LA_SETMASK (((1<HW_SWIZZLECSR1_LA_WIDTH)-1)<<HW_SWIZZLECSR1_LA_BITPOS)
                             9130 ; 69   |#define HW_SWIZZLECSR1_LNR_SETMASK (((1<HW_SWIZZLECSR1_LNR_WIDTH)-1)<<HW_SWIZZLECSR1_LNR_BITPOS)
                             9131 ; 70   |#define HW_SWIZZLECSR1_SIGN_SETMASK (((1<HW_SWIZZLECSR1_SIGN_WIDTH)-1)<<HW_SWIZZLECSR1_SIGN_BITPOS)
                             9132 ; 71   |#define HW_SWIZZLECSR1_SHIFT_SETMASK (((1<HW_SWIZZLECSR1_SHIFT_WIDTH)-1)<<HW_SWIZZLECSR1_SHIFT_BITPOS)
                             9133 ; 72   |#define HW_SWIZZLECSR1_MEM_SETMASK (((1<HW_SWIZZLECSR1_MEM_WIDTH)-1)<<HW_SWIZZLECSR1_MEM_BITPOS)
                             9134 ; 73   |#define HW_SWIZZLECSR1_CLK_OFF_SETMASK (((1<HW_SWIZZLECSR1_CLK_OFF_WIDTH)-1)<<HW_SWIZZLECSR1_CLK_OFF_BITPOS)
                             9135 ; 74   |#define HW_SWIZZLECSR1_NEWADD_SETMASK (((1<HW_SWIZZLECSR1_NEWADD_WIDTH)-1)<<HW_SWIZZLECSR1_NEWADD_BITPOS)
                             9136 ; 75   |#define HW_SWIZZLECSR1_RSVD_SETMASK (((1<HW_SWIZZLECSR1_RSVD_WIDTH)-1)<<HW_SWIZZLECSR1_RSVD_BITPOS)
                             9137 ; 76   |
                             9138 ; 77   |#define HW_SWIZZLECSR1_EN_CLRMASK (~(WORD)HW_SWIZZLECSR1_EN_SETMASK)
                             9139 ; 78   |#define HW_SWIZZLECSR1_LA_CLRMASK (~(WORD)HW_SWIZZLECSR1_LA_SETMASK)
                             9140 ; 79   |#define HW_SWIZZLECSR1_LNR_CLRMASK (~(WORD)HW_SWIZZLECSR1_LNR_SETMASK)
                             9141 ; 80   |#define HW_SWIZZLECSR1_SIGN_CLRMASK (~(WORD)HW_SWIZZLECSR1_SIGN_SETMASK)
                             9142 ; 81   |#define HW_SWIZZLECSR1_SHIFT_CLRMASK (~(WORD)HW_SWIZZLECSR1_SHIFT_SETMASK)
                             9143 ; 82   |#define HW_SWIZZLECSR1_MEM_CLRMASK (~(WORD)HW_SWIZZLECSR1_MEM_SETMASK)
                             9144 ; 83   |#define HW_SWIZZLECSR1_CLK_OFF_CLRMASK (~(WORD)HW_SWIZZLECSR1_CLK_OFF_SETMASK)
                             9145 ; 84   |#define HW_SWIZZLECSR1_NEWADD_CLRMASK (~(WORD)HW_SWIZZLECSR1_NEWADD_SETMASK)
                             9146 ; 85   |#define HW_SWIZZLECSR1_RSVD_CLRMASK (~(WORD)HW_SWIZZLECSR1_RSVD_SETMASK)
                             9147 ; 86   |
                             9148 ; 87   |////////////////////////////////////////////////////////////////////////////////
                             9149 ; 88   |//  Bit Manipulation Unit Registers
                             9150 ; 89   |////////////////////////////////////////////////////////////////////////////////
                             9151 ; 90   |typedef union
                             9152 ; 91   |{
                             9153 ; 92   |    struct
                             9154 ; 93   |    {
                             9155 ; 94   |    int EN      :1;     /* Swizzle Enable                           */
                             9156 ; 95   |    int LA      :1;     /* Left Align Data                          */
                             9157 ; 96   |    int LNR     :1;     /* Left Barrel Shift                        */
                             9158 ; 97   |    int SIGN    :1;     /* Sign Extend Data                         */
                             9159 ; 98   |    unsigned SHIFT :4;          /* Number of positions to shift (0 to 23)   */
                             9160 ; 99   |    int MEM     :1;     /* Manipulate in Memory (not in registers)  */
                             9161 ; 100  |    int CLK_OFF :1;     /* Gate the Clock, Power Off                */
                             9162 ; 101  |    int NEWADD  :1;     /* Place the data into a new location       */     
                             9163 ; 102  |    } B;
                             9164 ; 103  |    int I;
                             9165 ; 104  |    unsigned U;
                             9166 ; 105  |} swizzlecsr1_type;
                             9167 ; 106  |////////////////////////////////////////////////////////////////////////////////
                             9168 ; 107  |#define HW_SWIZZLECS1R (*(volatile swizzlecsr1_type _X*) (HW_SWIZZLE_BASEADDR))       /* Swizzle Control & Status Register 1 */
                             9169 ; 108  |
                             9170 ; 109  |////  Swizzle CSR2 (HW_SWIZZLECSR2) Bit Definitions
                             9171 ; 110  |#define HW_SWIZZLECSR2_KICK_BITPOS (0)
                             9172 ; 111  |#define HW_SWIZZLECSR2_SASEL_BITPOS (1)
                             9173 ; 112  |#define HW_SWIZZLECSR2_DESASEL_BITPOS (3)
                             9174 ; 113  |#define HW_SWIZZLECSR2_BIGE_BITPOS (5)
                             9175 ; 114  |#define HW_SWIZZLECSR2_BITREV_BITPOS (6)
                             9176 ; 115  |#define HW_SWIZZLECSR2_PLSB_BITPOS (7)
                             9177 ; 116  |#define HW_SWIZZLECSR2_PISB_OFF_BITPOS (8)
                             9178 ; 117  |#define HW_SWIZZLECSR2_PMSB_BITPOS (9)
                             9179 ; 118  |#define HW_SWIZZLECSR2_P16L_BITPOS (10)
                             9180 ; 119  |#define HW_SWIZZLECSR2_P16I_BITPOS (11)
                             9181 ; 120  |#define HW_SWIZZLECSR2_BS_EN_BITPOS (12)
                             9182 ; 121  |#define HW_SWIZZLECSR2_SBYTEDEST_BITPOS (13)
                             9183 ; 122  |#define HW_SWIZZLECSR2_UNKICK_BITPOS (15)
                             9184 ; 123  |#define HW_SWIZZLECSR2_RSVD_BITPOS (16)
                             9185 ; 124  |
                             9186 ; 125  |#define HW_SWIZZLECSR2_KICK_WIDTH (1)
                             9187 ; 126  |#define HW_SWIZZLECSR2_SASEL_WIDTH (2)
                             9188 ; 127  |#define HW_SWIZZLECSR2_DESASEL_WIDTH (2)
                             9189 ; 128  |#define HW_SWIZZLECSR2_BIGE_WIDTH (1)
                             9190 ; 129  |#define HW_SWIZZLECSR2_BITREV_WIDTH (1)
                             9191 ; 130  |#define HW_SWIZZLECSR2_PLSB_WIDTH (1)
                             9192 ; 131  |#define HW_SWIZZLECSR2_PMSB_WIDTH (1)
                             9193 ; 132  |#define HW_SWIZZLECSR2_P16L_WIDTH (1)
                             9194 ; 133  |#define HW_SWIZZLECSR2_P16I_WIDTH (1)
                             9195 ; 134  |#define HW_SWIZZLECSR2_BS_EN_WIDTH (1)
                             9196 ; 135  |#define HW_SWIZZLECSR2_SBYTEDEST_WIDTH (2)
                             9197 ; 136  |#define HW_SWIZZLECSR2_UNKICK_WIDTH (1)
                             9198 ; 137  |#define HW_SWIZZLECSR2_RSVD_WIDTH (8)
                             9199 ; 138  |
                             9200 ; 139  |#define HW_SWIZZLECSR2_KICK_SETMASK (((1<HW_SWIZZLECSR2_KICK_WIDTH)-1)<<HW_SWIZZLECSR2_KICK_BITPOS)
                             9201 ; 140  |#define HW_SWIZZLECSR2_SASEL_SETMASK (((1<HW_SWIZZLECSR2_SASEL_WIDTH)-1)<<HW_SWIZZLECSR2_SASEL_BITPOS)
                             9202 ; 141  |#define HW_SWIZZLECSR2_DESASEL_SETMASK (((1<HW_SWIZZLECSR2_DESASEL_WIDTH)-1)<<HW_SWIZZLECSR2_DESASEL_BITPOS)
                             9203 ; 142  |#define HW_SWIZZLECSR2_BIGE_SETMASK (((1<HW_SWIZZLECSR2_BIGE_WIDTH)-1)<<HW_SWIZZLECSR2_BIGE_BITPOS)
                             9204 ; 143  |#define HW_SWIZZLECSR2_BITREV_SETMASK (((1<HW_SWIZZLECSR2_BITREV_WIDTH)-1)<<HW_SWIZZLECSR2_BITREV_BITPOS)
                             9205 ; 144  |#define HW_SWIZZLECSR2_PLSB_SETMASK (((1<HW_SWIZZLECSR2_PLSB_WIDTH)-1)<<HW_SWIZZLECSR2_PLSB_BITPOS)
                             9206 ; 145  |#define HW_SWIZZLECSR2_PMSB_SETMASK (((1<HW_SWIZZLECSR2_PMSB_WIDTH)-1)<<HW_SWIZZLECSR2_PMSB_BITPOS)
                             9207 ; 146  |#define HW_SWIZZLECSR2_P16L_SETMASK (((1<HW_SWIZZLECSR2_P16L_WIDTH)-1)<<HW_SWIZZLECSR2_P16L_BITPOS)
                             9208 ; 147  |#define HW_SWIZZLECSR2_P16I_SETMASK (((1<HW_SWIZZLECSR2_P16I_WIDTH)-1)<<HW_SWIZZLECSR2_P16I_BITPOS)
                             9209 ; 148  |#define HW_SWIZZLECSR2_BS_EN_SETMASK (((1<HW_SWIZZLECSR2_BS_EN_WIDTH)-1)<<HW_SWIZZLECSR2_BS_EN_BITPOS)
                             9210 ; 149  |#define HW_SWIZZLECSR2_SBYTEDEST_SETMASK (((1<HW_SWIZZLECSR2_SBYTEDEST_WIDTH)-1)<<HW_SWIZZLECSR2_SBYTEDEST_BITPOS)
                             9211 ; 150  |#define HW_SWIZZLECSR2_UNKICK_SETMASK (((1<HW_SWIZZLECSR2_UNKICK_WIDTH)-1)<<HW_SWIZZLECSR2_UNKICK_BITPOS)
                             9212 ; 151  |#define HW_SWIZZLECSR2_RSVD_SETMASK (((1<HW_SWIZZLECSR2_RSVD_WIDTH)-1)<<HW_SWIZZLECSR2_RSVD_BITPOS)
                             9213 ; 152  |
                             9214 ; 153  |#define HW_SWIZZLECSR2_KICK_CLRMASK (~(WORD)HW_SWIZZLECSR2_KICK_SETMASK)
                             9215 ; 154  |#define HW_SWIZZLECSR2_SASEL_CLRMASK (~(WORD)HW_SWIZZLECSR2_SASEL_SETMASK)
                             9216 ; 155  |#define HW_SWIZZLECSR2_DESASEL_CLRMASK (~(WORD)HW_SWIZZLECSR2_DESASEL_SETMASK)
                             9217 ; 156  |#define HW_SWIZZLECSR2_BIGE_CLRMASK (~(WORD)HW_SWIZZLECSR2_BIGE_SETMASK)
                             9218 ; 157  |#define HW_SWIZZLECSR2_BITREV_CLRMASK (~(WORD)HW_SWIZZLECSR2_BITREV_SETMASK)
                             9219 ; 158  |#define HW_SWIZZLECSR2_PLSB_CLRMASK (~(WORD)HW_SWIZZLECSR2_PLSB_SETMASK)
                             9220 ; 159  |#define HW_SWIZZLECSR2_PMSB_CLRMASK (~(WORD)HW_SWIZZLECSR2_PMSB_SETMASK)
                             9221 ; 160  |#define HW_SWIZZLECSR2_P16L_CLRMASK (~(WORD)HW_SWIZZLECSR2_P16L_SETMASK)
                             9222 ; 161  |#define HW_SWIZZLECSR2_P16I_CLRMASK (~(WORD)HW_SWIZZLECSR2_P16I_SETMASK)
                             9223 ; 162  |#define HW_SWIZZLECSR2_BS_EN_CLRMASK (~(WORD)HW_SWIZZLECSR2_BS_EN_SETMASK)
                             9224 ; 163  |#define HW_SWIZZLECSR2_SBYTEDEST_CLRMASK (~(WORD)HW_SWIZZLECSR2_SBYTEDEST_SETMASK)
                             9225 ; 164  |#define HW_SWIZZLECSR2_UNKICK_CLRMASK (~(WORD)HW_SWIZZLECSR2_UNKICK_SETMASK)
                             9226 ; 165  |#define HW_SWIZZLECSR2_RSVD_CLRMASK (~(WORD)HW_SWIZZLECSR2_RSVD_SETMASK)
                             9227 ; 166  |
                             9228 ; 167  |///////////////////////////////////////////////////////////////////////////////
                             9229 ; 168  |typedef union
                             9230 ; 169  |{
                             9231 ; 170  |    struct
                             9232 ; 171  |    {
                             9233 ; 172  |    int KICK    :1;         /* Start transfer                      */
                             9234 ; 173  |    unsigned SASEL :2;              /* Source memory Select                */
                             9235 ; 174  |    unsigned DESASEL :2;                    /* Destination memory Select           */
                             9236 ; 175  |    int BIGE        :1;             /* Big Endian Enable                   */
                             9237 ; 176  |    int BITREV      :1;     /* Bit reverse the data                */
                             9238 ; 177  |    int PLSB        :1;             /* Pass Least Significant Byte         */
                             9239 ; 178  |    int PISB        :1;     /* Pass Intermediate Byte              */
                             9240 ; 179  |    int PMSB        :1;     /* Pass Most Significant Byte          */
                             9241 ; 180  |    int P16L        :1;     /* Pass Least Significant word         */
                             9242 ; 181  |    int P16I        :1;     /* Pass Intermediate significant word  */
                             9243 ; 182  |    int BS_EN       :1;     /* Barrel Shift Enable                 */
                             9244 ; 183  |    unsigned SBYTE  :2;                     /* Start byte                          */
                             9245 ; 184  |    int UNKICK      :1;     /* Halt transfer                       */  
                             9246 ; 185  |    } B;
                             9247 ; 186  |    unsigned int I;
                             9248 ; 187  |    unsigned int U;
                             9249 ; 188  |} swizzlecsr2_type;
                             9250 ; 189  |///////////////////////////////////////////////////////////////////////////////
                             9251 ; 190  |#define HW_SWIZZLECS2R (*(volatile swizzlecsr2_type _X*) (HW_SWIZZLE_BASEADDR+1))     /* Swizzle Control & Status Register 2 */
                             9252 ; 191  |
                             9253 ; 192  |////  Swizzle SIZER (HW_SWIZZLESIZER) Bit Definitions
                             9254 ; 193  |#define HW_SWIZZLESIZER_SIZE_BITPOS (0)
                             9255 ; 194  |#define HW_SWIZZLESIZER_NEW_SHIFT_BITPOS (16)
                             9256 ; 195  |#define HW_SWIZZLESIZER_RSVD_BITPOS (21)
                             9257 ; 196  |
                             9258 ; 197  |#define HW_SWIZZLESIZER_SIZE_WIDTH (16)
                             9259 ; 198  |#define HW_SWIZZLESIZER_NEW_SHIFT_WIDTH (5)
                             9260 ; 199  |#define HW_SWIZZLESIZER_RSVD_WIDTH (3)
                             9261 ; 200  |
                             9262 ; 201  |#define HW_SWIZZLESIZER_SIZE_SETMASK (((1<HW_SWIZZLESIZER_SIZE_WIDTH)-1)<<HW_SWIZZLESIZER_SIZE_BITPOS)
                             9263 ; 202  |#define HW_SWIZZLESIZER_NEW_SHIFT_SETMASK (((1<HW_SWIZZLESIZER_NEW_SHIFT_WIDTH)-1)<<HW_SWIZZLESIZER_NEW_SHIFT_BITPOS)
                             9264 ; 203  |#define HW_SWIZZLESIZER_RSVD_SETMASK (((1<HW_SWIZZLESIZER_RSVD_WIDTH)-1)<<HW_SWIZZLESIZER_RSVD_BITPOS)
                             9265 ; 204  |
                             9266 ; 205  |#define HW_SWIZZLESIZER_SIZE_CLRMASK (~(WORD)HW_SWIZZLESIZER_SIZE_SETMASK)
                             9267 ; 206  |#define HW_SWIZZLESIZER_NEW_SHIFT_CLRMASK (~(WORD)HW_SWIZZLESIZER_NEW_SHIFT_SETMASK)
                             9268 ; 207  |#define HW_SWIZZLESIZER_RSVD_CLRMASK (~(WORD)HW_SWIZZLESIZER_RSVD_SETMASK)
                             9269 ; 208  |
                             9270 ; 209  |///////////////////////////////////////////////////////////////////////////////
                             9271 ; 210  |typedef union
                             9272 ; 211  |{
                             9273 ; 212  |    struct
                             9274 ; 213  |    {
                             9275 ; 214  |    unsigned SIZE      :16;        /* Number of memory words to manipulate */
                             9276 ; 215  |    unsigned NEW_SHIFT :5;         /* Source memory Select                 */
                             9277 ; 216  |    } B;
                             9278 ; 217  |    int I;
                             9279 ; 218  |    unsigned U;
                             9280 ; 219  |} swizzlesizer_type;
                             9281 ; 220  |///////////////////////////////////////////////////////////////////////////////
                             9282 ; 221  |#define HW_SWIZZLESIZER (*(volatile swizzlesizer_type _X*) (HW_SWIZZLE_BASEADDR+2))        /* Swizzle Transfer Size Register */
                             9283 ; 222  |#define HW_SWIZZLESOURCER (*(volatile unsigned int _X*) (HW_SWIZZLE_BASEADDR+3))      /* Swizzle Source Address Register */
                             9284 ; 223  |#define HW_SWIZZLEDATA1R (*(volatile unsigned int _X*) (HW_SWIZZLE_BASEADDR+4))       /* Swizzle Data1 Register */
                             9285 ; 224  |#define HW_SWIZZLEDATA2R (*(volatile unsigned int _X*) (HW_SWIZZLE_BASEADDR+5))       /* Swizzle Data2 Register */
                             9286 ; 225  |#define HW_SWIZZLEDESTADDRR (*(volatile unsigned int _X*) (HW_SWIZZLE_BASEADDR+6))    /* Swizzle Destination Address Register */
                             9287 ; 226  |#define HW_SWIZZLEBIGENDIANR (*(volatile unsigned int _X*) (HW_SWIZZLE_BASEADDR+7))   /* Swizzle Big Endian Register */
                             9288 ; 227  |#define HW_SWIZZLEBITREVR (*(volatile unsigned int _X*) (HW_SWIZZLE_BASEADDR+8))      /* Swizzle BITREV Register */
                             9289 ; 228  |#define HW_SWIZZLEPASSLSBR (*(volatile unsigned int _X*) (HW_SWIZZLE_BASEADDR+9))     /* Swizzle Pass Least Significant Byte Register */
                             9290 ; 229  |#define HW_SWIZZLEPASSISBR (*(volatile unsigned int _X*) (HW_SWIZZLE_BASEADDR+10))    /* Swizzle Pass Intermediate Byte Register */
                             9291 ; 230  |#define HW_SWIZZLEPASSMSBR (*(volatile unsigned int _X*) (HW_SWIZZLE_BASEADDR+11))    /* Swizzle Pass Most Significant Byte Register */
                             9292 ; 231  |#define HW_SWIZZLEPASSLSWR (*(volatile unsigned int _X*) (HW_SWIZZLE_BASEADDR+12))    /* Swizzle Pass Least Significant Word Register */
                             9293 ; 232  |#define HW_SWIZZLEPASSISWR (*(volatile unsigned int _X*) (HW_SWIZZLE_BASEADDR+13))    /* Swizzle Pass Intermediate Significant Word Register */
                             9294 ; 233  |#define HW_SWIZZLEPASSMSWR (*(volatile unsigned int _X*) (HW_SWIZZLE_BASEADDR+14))    /* Swizzle Pass Most Significant Word Register */
                             9295 ; 234  |#define HW_SWIZZLEBARRELR (*(volatile unsigned int _X*) (HW_SWIZZLE_BASEADDR+15))    /* Swizzle Barrel Shift Register */
                             9296 ; 235  |#define HW_SWIZZLEDIV3LR (*(volatile unsigned int _X*) (HW_SWIZZLE_BASEADDR+16))    /* Swizzle Divide By 3 Lower Register */
                             9297 ; 236  |
                             9298 ; 237  |
                             9299 ; 238  |////  Swizzle DIV3UR (HW_SWIZZLEDIV3UR) Bit Definitions
                             9300 ; 239  |#define HW_SWIZZLEDIV3UR_DIV3_UPPER_BITPOS (0)
                             9301 ; 240  |#define HW_SWIZZLEDIV3UR_RSVD0_BITPOS (8)
                             9302 ; 241  |#define HW_SWIZZLEDIV3UR_REMAINDER_BITPOS (20)
                             9303 ; 242  |#define HW_SWIZZLEDIV3UR_RSVD1_BITPOS (22)
                             9304 ; 243  |
                             9305 ; 244  |#define HW_SWIZZLEDIV3UR_DIV3_UPPER_WIDTH (8)
                             9306 ; 245  |#define HW_SWIZZLEDIV3UR_RSVD0_WIDTH (12)
                             9307 ; 246  |#define HW_SWIZZLEDIV3UR_REMAINDER_WIDTH (2)
                             9308 ; 247  |#define HW_SWIZZLEDIV3UR_RSVD1_WIDTH (2)
                             9309 ; 248  |
                             9310 ; 249  |#define HW_SWIZZLEDIV3UR_DIV3_UPPER_SETMASK (((1<HW_SWIZZLEDIV3UR_DIV3_UPPER_WIDTH)-1)<<HW_SWIZZLEDIV3UR_DIV3_UPPER_BITPOS)
                             9311 ; 250  |#define HW_SWIZZLEDIV3UR_RSVD0_SETMASK (((1<HW_SWIZZLEDIV3UR_RSVD0_WIDTH)-1)<<HW_SWIZZLEDIV3UR_RSVD0_BITPOS)
                             9312 ; 251  |#define HW_SWIZZLEDIV3UR_REMAINDER_SETMASK (((1<HW_SWIZZLEDIV3UR_REMAINDER_WIDTH)-1)<<HW_SWIZZLEDIV3UR_REMAINDER_BITPOS)
                             9313 ; 252  |#define HW_SWIZZLEDIV3UR_RSVD1_SETMASK (((1<HW_SWIZZLEDIV3UR_RSVD1_WIDTH)-1)<<HW_SWIZZLEDIV3UR_RSVD1_BITPOS)
                             9314 ; 253  |
                             9315 ; 254  |#define HW_SWIZZLEDIV3UR_DIV3_UPPER_CLRMASK (~(WORD)HW_SWIZZLEDIV3UR_DIV3_UPPER_SETMASK)
                             9316 ; 255  |#define HW_SWIZZLEDIV3UR_RSVD0_CLRMASK (~(WORD)HW_SWIZZLEDIV3UR_RSVD0_SETMASK)
                             9317 ; 256  |#define HW_SWIZZLEDIV3UR_REMAINDER_CLRMASK (~(WORD)HW_SWIZZLEDIV3UR_REMAINDER_SETMASK)
                             9318 ; 257  |#define HW_SWIZZLEDIV3UR_RSVD1_CLRMASK (~(WORD)HW_SWIZZLEDIV3UR_RSVD1_SETMASK)
                             9319 ; 258  |
                             9320 ; 259  |///////////////////////////////////////////////////////////////////////////////
                             9321 ; 260  |typedef union
                             9322 ; 261  |{
                             9323 ; 262  |    struct
                             9324 ; 263  |    {
                             9325 ; 264  |    unsigned DIV3_UPPER    :8;     /* Number of memory words to manipulate */
                             9326 ; 265  |    unsigned RSVD0         :12;         /* Source memory Select                 */
                             9327 ; 266  |    unsigned REMAINDER     :2;         /* Source memory Select                 */
                             9328 ; 267  |    } B;
                             9329 ; 268  |    int I;
                             9330 ; 269  |    unsigned U;
                             9331 ; 270  |} swizzlediv3ur_type;
                             9332 ; 271  |///////////////////////////////////////////////////////////////////////////////
                             9333 ; 272  |#define HW_SWIZZLEDIV3UR (*(volatile swizzlediv3ur_type _X*) (HW_SWIZZLE_BASEADDR+17))    /* Swizzle Divide By 3 Upper Register */
                             9334 ; 273  |
                             9335 ; 274  |#endif
                             9336 ; 275  |
                             9337 
                             9339 
                             9340 ; 33   |#include "regssdram.h"
                             9341 
                             9343 
                             9344 ; 1    |//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                             9345 ; 2    |//;  Copyright(C) SigmaTel, Inc. 2002-2003
                             9346 ; 3    |//;  File        : regssdram.inc
                             9347 ; 4    |//;  Description : Mixed Signal IP Register definition
                             9348 ; 5    |//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                             9349 ; 6    |
                             9350 ; 7    |// The following naming conventions are followed in this file.
                             9351 ; 8    |// All registers are named using the format...
                             9352 ; 9    |//     HW_<module>_<regname>
                             9353 ; 10   |// where <module> is the module name which can be any of the following...
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page  38

M:ADDR CODE           CYCLES LINE SOURCELINE
                             9354 ; 11   |//     SYSTEM
                             9355 ; 12   |// (Note that when there is more than one copy of a particular module, the
                             9356 ; 13   |// module name includes a number starting from 0 for the first instance of
                             9357 ; 14   |// that module)
                             9358 ; 15   |// <regname> is the specific register within that module
                             9359 ; 16   |// We also define the following...
                             9360 ; 17   |//     HW_<module>_<regname>_BITPOS
                             9361 ; 18   |// which defines the starting bit (i.e. LSB) of a multi bit field
                             9362 ; 19   |//     HW_<module>_<regname>_SETMASK
                             9363 ; 20   |// which does something else, and
                             9364 ; 21   |//     HW_<module>_<regname>_CLRMASK
                             9365 ; 22   |// which does something else.
                             9366 ; 23   |// Other rules
                             9367 ; 24   |//     All caps
                             9368 ; 25   |//     Numeric identifiers start at 0
                             9369 ; 26   |
                             9370 ; 27   |#if !(defined(regssdraminc))
                             9371 ; 28   |#define regssdraminc 1
                             9372 ; 29   |
                             9373 ; 30   |#include "types.h"
                             9374 
                             9376 
                             9377 ; 1    |////////////////////////////////////////////////////////////////////////////////
                             9378 ; 2    |// Copyright(C) SigmaTel, Inc. 2000-2004
                             9379 ; 3    |//
                             9380 ; 4    |// Filename: types.h
                             9381 ; 5    |// Description: Standard data types
                             9382 ; 6    |////////////////////////////////////////////////////////////////////////////////
                             9383 ; 7    |
                             9384 ; 8    |#ifndef _TYPES_H
                             9385 ; 9    |#define _TYPES_H
                             9386 ; 10   |
                             9387 ; 11   |// TODO:  move this outta here!
                             9388 ; 12   |#if !defined(NOERROR)
                             9389 ; 13   |#define NOERROR 0
                             9390 ; 14   |#define SUCCESS 0
                             9391 ; 15   |#endif 
                             9392 ; 16   |#if !defined(SUCCESS)
                             9393 ; 17   |#define SUCCESS  0
                             9394 ; 18   |#endif
                             9395 ; 19   |#if !defined(ERROR)
                             9396 ; 20   |#define ERROR   -1
                             9397 ; 21   |#endif
                             9398 ; 22   |#if !defined(FALSE)
                             9399 ; 23   |#define FALSE 0
                             9400 ; 24   |#endif
                             9401 ; 25   |#if !defined(TRUE)
                             9402 ; 26   |#define TRUE  1
                             9403 ; 27   |#endif
                             9404 ; 28   |
                             9405 ; 29   |#if !defined(NULL)
                             9406 ; 30   |#define NULL 0
                             9407 ; 31   |#endif
                             9408 ; 32   |
                             9409 ; 33   |#define MAX_INT     0x7FFFFF
                             9410 ; 34   |#define MAX_LONG    0x7FFFFFffffff
                             9411 ; 35   |        // max positive unsigned long value: -1 == 0xFFFFFFffffff
                             9412 ; 36   |#define MAX_ULONG   (-1) 
                             9413 ; 37   |
                             9414 ; 38   |#define WORD_SIZE   24              // word size in bits
                             9415 ; 39   |#define BYTES_PER_WORD 3            // 8 bit bytes
                             9416 ; 40   |
                             9417 ; 41   |
                             9418 ; 42   |#define BYTE    unsigned char       // btVarName
                             9419 ; 43   |#define CHAR    signed char         // cVarName
                             9420 ; 44   |#define USHORT  unsigned short      // usVarName
                             9421 ; 45   |#define SHORT   unsigned short      // sVarName
                             9422 ; 46   |#define WORD    unsigned int        // wVarName
                             9423 ; 47   |#define INT     signed int          // iVarName
                             9424 ; 48   |#define DWORD   unsigned long       // dwVarName
                             9425 ; 49   |#define LONG    signed long         // lVarName
                             9426 ; 50   |#define BOOL    unsigned int        // bVarName
                             9427 ; 51   |#define FRACT   _fract              // frVarName
                             9428 ; 52   |#define LFRACT  long _fract         // lfrVarName
                             9429 ; 53   |#define CIRC    _circ               // cp<type prefix>VarName (see below)
                             9430 ; 54   |#define FLOAT   float               // fVarName
                             9431 ; 55   |#define DBL     double              // dVarName
                             9432 ; 56   |#define ENUM    enum                // eVarName
                             9433 ; 57   |#define CMX     _complex            // cmxVarName
                             9434 ; 58   |typedef WORD UCS3;                   // 
                             9435 ; 59   |
                             9436 ; 60   |#define UINT16  unsigned short
                             9437 ; 61   |#define UINT8   unsigned char   
                             9438 ; 62   |#define UINT32  unsigned long
                             9439 ; 63   |#define UINT64  unsigned long   // need to figure out how to do 64 bit values.  Or port exisiting code to only use 48 bit
                             9440 ; 64   |#define INT64   unsigned long   // need to figure out how to do 64 bit values.  Or port exisiting code to only use 48 bit
                             9441 ; 65   |#define WCHAR   UINT16
                             9442 ; 66   |
                             9443 ; 67   |//UINT128 is 16 bytes or 6 words
                             9444 ; 68   |typedef struct UINT128_3500 {   
                             9445 ; 69   |    int val[6];     
                             9446 ; 70   |} UINT128_3500;
                             9447 ; 71   |
                             9448 ; 72   |#define UINT128   UINT128_3500
                             9449 ; 73   |
                             9450 ; 74   |// Little endian word packed byte strings:   
                             9451 ; 75   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                             9452 ; 76   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                             9453 ; 77   |// Little endian word packed byte strings:   
                             9454 ; 78   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                             9455 ; 79   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                             9456 ; 80   |
                             9457 ; 81   |// Declare Memory Spaces To Use When Coding
                             9458 ; 82   |// A. Sector Buffers
                             9459 ; 83   |#define SECTOR_BUFFER_MEM_X _X
                             9460 ; 84   |#define SECTOR_BUFFER_MEM_Y _Y
                             9461 ; 85   |#define SECTOR_BUFFER_MEM SECTOR_BUFFER_MEM_X
                             9462 ; 86   |typedef WORD SECTOR_BUFFER_MEM SECTOR_BUFFER;
                             9463 ; 87   |typedef SECTOR_BUFFER * P_SECTOR_BUFFER;
                             9464 ; 88   |// B. Media DDI Memory
                             9465 ; 89   |#define MEDIA_DDI_MEM _Y
                             9466 ; 90   |
                             9467 ; 91   |
                             9468 ; 92   |
                             9469 ; 93   |// Pointers to linear structures are labeled as: p<type prefix>VarName
                             9470 ; 94   |// Examples of circular pointers:
                             9471 ; 95   |//    INT CIRC cpiVarName
                             9472 ; 96   |//    DWORD CIRC cpdwVarName
                             9473 ; 97   |
                             9474 ; 98   |#define RETCODE INT                 // rcVarName
                             9475 ; 99   |
                             9476 ; 100  |// generic bitfield structure
                             9477 ; 101  |struct Bitfield {
                             9478 ; 102  |    unsigned int B0  :1;
                             9479 ; 103  |    unsigned int B1  :1;
                             9480 ; 104  |    unsigned int B2  :1;
                             9481 ; 105  |    unsigned int B3  :1;
                             9482 ; 106  |    unsigned int B4  :1;
                             9483 ; 107  |    unsigned int B5  :1;
                             9484 ; 108  |    unsigned int B6  :1;
                             9485 ; 109  |    unsigned int B7  :1;
                             9486 ; 110  |    unsigned int B8  :1;
                             9487 ; 111  |    unsigned int B9  :1;
                             9488 ; 112  |    unsigned int B10 :1;
                             9489 ; 113  |    unsigned int B11 :1;
                             9490 ; 114  |    unsigned int B12 :1;
                             9491 ; 115  |    unsigned int B13 :1;
                             9492 ; 116  |    unsigned int B14 :1;
                             9493 ; 117  |    unsigned int B15 :1;
                             9494 ; 118  |    unsigned int B16 :1;
                             9495 ; 119  |    unsigned int B17 :1;
                             9496 ; 120  |    unsigned int B18 :1;
                             9497 ; 121  |    unsigned int B19 :1;
                             9498 ; 122  |    unsigned int B20 :1;
                             9499 ; 123  |    unsigned int B21 :1;
                             9500 ; 124  |    unsigned int B22 :1;
                             9501 ; 125  |    unsigned int B23 :1;
                             9502 ; 126  |};
                             9503 ; 127  |
                             9504 ; 128  |union BitInt {
                             9505 ; 129  |        struct Bitfield B;
                             9506 ; 130  |        int        I;
                             9507 ; 131  |};
                             9508 ; 132  |
                             9509 ; 133  |#define MAX_MSG_LENGTH 10
                             9510 ; 134  |struct CMessage
                             9511 ; 135  |{
                             9512 ; 136  |        unsigned int m_uLength;
                             9513 ; 137  |        unsigned int m_uMsg[MAX_MSG_LENGTH];
                             9514 ; 138  |};
                             9515 ; 139  |
                             9516 ; 140  |typedef struct {
                             9517 ; 141  |    WORD m_wLength;
                             9518 ; 142  |    WORD m_wMessage;
                             9519 ; 143  |    WORD m_wParams[MAX_MSG_LENGTH];
                             9520 ; 144  |} Message;
                             9521 ; 145  |
                             9522 ; 146  |struct MessageQueueDescriptor
                             9523 ; 147  |{
                             9524 ; 148  |        int *m_pBase;
                             9525 ; 149  |        int m_iModulo;
                             9526 ; 150  |        int m_iSize;
                             9527 ; 151  |        int *m_pHead;
                             9528 ; 152  |        int *m_pTail;
                             9529 ; 153  |};
                             9530 ; 154  |
                             9531 ; 155  |struct ModuleEntry
                             9532 ; 156  |{
                             9533 ; 157  |    int m_iSignaledEventMask;
                             9534 ; 158  |    int m_iWaitEventMask;
                             9535 ; 159  |    int m_iResourceOfCode;
                             9536 ; 160  |    struct MessageQueueDescriptor *m_pMessageQueue;
                             9537 ; 161  |    int _asmfunc (*m_pProcessEntryPoint)(union WaitMask Signals,struct MessageQueueDescriptor *);
                             9538 ; 162  |    int _asmfunc (*m_pInitFunction)(struct MessageQueueDescriptor *);
                             9539 ; 163  |    int m_uTimeOutHigh;
                             9540 ; 164  |    int m_uTimeOutLow;
                             9541 ; 165  |    int _asmfunc (*m_pBackgroundFunction)(struct MessageQueueDescriptor *);
                             9542 ; 166  |};
                             9543 ; 167  |
                             9544 ; 168  |union WaitMask{
                             9545 ; 169  |    struct B{
                             9546 ; 170  |        unsigned int m_bNone     :1;
                             9547 ; 171  |        unsigned int m_bMessage  :1;
                             9548 ; 172  |        unsigned int m_bTimer    :1;
                             9549 ; 173  |        unsigned int m_bButton   :1;
                             9550 ; 174  |    } B;
                             9551 ; 175  |    int I;
                             9552 ; 176  |} ;
                             9553 ; 177  |
                             9554 ; 178  |
                             9555 ; 179  |struct Button {
                             9556 ; 180  |        WORD wButtonEvent;
                             9557 ; 181  |        WORD wUnused[MAX_MSG_LENGTH];   
                             9558 ; 182  |};
                             9559 ; 183  |
                             9560 ; 184  |struct Message {
                             9561 ; 185  |        WORD wMsgLength;
                             9562 ; 186  |        WORD wMsgCommand;
                             9563 ; 187  |        WORD wMsgParms[MAX_MSG_LENGTH-1];
                             9564 ; 188  |};
                             9565 ; 189  |
                             9566 ; 190  |union EventTypes {
                             9567 ; 191  |        struct CMessage msg;
                             9568 ; 192  |        struct Button Button ;
                             9569 ; 193  |        struct Message Message;
                             9570 ; 194  |};
                             9571 ; 195  |
                             9572 ; 196  |// next 2 used to get updater build to return correct protocol ver in scsi response.
                             9573 ; 197  |#define BUILD_TYPE_UPDATER  0x100
                             9574 ; 198  |#define BUILD_TYPE_HOSTLINK 0x101
                             9575 ; 199  |#define BUILD_TYPE_PLAYER   0x102
                             9576 ; 200  |
                             9577 ; 201  |// Resets part if RETAIL build. DEBUG build executes debug instruction to halt.
                             9578 ; 202  |#define SystemHalt() __asm(" include 'sysmacro.asm' \n error") 
                             9579 ; 203  |#define assert(x)    if(!(x)) __asm(" include 'sysmacro.asm' \n error")
                             9580 ; 204  |
                             9581 ; 205  |#if DEBUG
                             9582 ; 206  |// For DEBUG builds, DebugBuildAssert(condition) halts if condition evaluates to FALSE. 
                             9583 ; 207  |#define DebugBuildAssert(x)    if(!(x)) __asm(" debug ")
                             9584 ; 208  |#else 
                             9585 ; 209  |// For RETAIL builds, DebugBuildAssert(condition) does nothing & execution continues rather than halt or reset. 
                             9586 ; 210  |#define DebugBuildAssert(x)    
                             9587 ; 211  |#endif
                             9588 ; 212  |
                             9589 ; 213  |// Do this in your C files to make a reminder that's displayed during the build.
                             9590 ; 214  |//  #pragma asm
                             9591 ; 215  |//  WARN 'Note to builder: reminder to do this after verifying that'
                             9592 ; 216  |//  #pragma endasm
                             9593 ; 217  |
                             9594 ; 218  |
                             9595 ; 219  |#ifdef COLOR_262K
                             9596 ; 220  |#define RGB(r,g,b)    ((0x0000FC & (r)) << 10) | ((0x0000FC & (g)) << 4) | ((0x0000FC & (b)) >> 2)    //262k
                             9597 ; 221  |#elif defined(COLOR_65K)
                             9598 ; 222  |#define RGB(r,g,b)    ((0x0000F8 & (r)) << 8) | ((0x0000FC & (g)) << 3) | ((0x0000F8 & (b)) >> 3)  //65k
                             9599 ; 223  |#else
                             9600 ; 224  |#define RGB(r,g,b)       ((0x0000F0 & (r)) << 4) | (0x0000F0 & (g)) | ((0x0000F0 & (b)) >> 4)
                             9601 ; 225  |#endif
                             9602 ; 226  |    
                             9603 ; 227  |#endif // #ifndef _TYPES_H
                             9604 
                             9606 
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page  39

M:ADDR CODE           CYCLES LINE SOURCELINE
                             9607 ; 31   |
                             9608 ; 32   |#define HW_SDRAM_BASEADDR 0xF900
                             9609 ; 33   |
                             9610 ; 34   |
                             9611 ; 35   |/////////////////////////////////////////////////////////////////////////////////
                             9612 ; 36   |//  SDRAM CSR (HW_SDRAM_CSR) Bit Definitions
                             9613 ; 37   |#define HW_SDRAM_CSR_SDRAMEN_BITPOS 0
                             9614 ; 38   |#define HW_SDRAM_CSR_IE_BITPOS 1
                             9615 ; 39   |#define HW_SDRAM_CSR_RNW_BITPOS 2
                             9616 ; 40   |#define HW_SDRAM_CSR_KICK_BITPOS 3
                             9617 ; 41   |#define HW_SDRAM_CSR_LM_BITPOS 4
                             9618 ; 42   |#define HW_SDRAM_CSR_ISTAT_BITPOS 5
                             9619 ; 43   |#define HW_SDRAM_CSR_PWDN_BITPOS 6
                             9620 ; 44   |#define HW_SDRAM_CSR_SBYTE_BITPOS 8
                             9621 ; 45   |#define HW_SDRAM_CSR_MEM_BITPOS 10
                             9622 ; 46   |#define HW_SDRAM_CSR_BIGE_BITPOS 12
                             9623 ; 47   |#define HW_SDRAM_CSR_ASIZE_BITPOS 13
                             9624 ; 48   |#define HW_SDRAM_CSR_UKICK_BITPOS 16
                             9625 ; 49   |#define HW_SDRAM_CSR_DIV_BITPOS 17
                             9626 ; 50   |#define HW_SDRAM_CSR_MULTI_BITPOS 21
                             9627 ; 51   |#define HW_SDRAM_CSR_SDRAM_BITPOS 22
                             9628 ; 52   |#define HW_SDRAM_CSR_SIGN_BITPOS 23
                             9629 ; 53   |
                             9630 ; 54   |#define HW_SDRAM_CSR_SDRAMEN_WIDTH 1
                             9631 ; 55   |#define HW_SDRAM_CSR_IE_WIDTH 1
                             9632 ; 56   |#define HW_SDRAM_CSR_RNW_WIDTH 1
                             9633 ; 57   |#define HW_SDRAM_CSR_KICK_WIDTH 1
                             9634 ; 58   |#define HW_SDRAM_CSR_LM_WIDTH 1
                             9635 ; 59   |#define HW_SDRAM_CSR_ISTAT_WIDTH 1
                             9636 ; 60   |#define HW_SDRAM_CSR_PWDN_WIDTH 1
                             9637 ; 61   |#define HW_SDRAM_CSR_SBYTE_WIDTH 2
                             9638 ; 62   |#define HW_SDRAM_CSR_MEM_WIDTH 2
                             9639 ; 63   |#define HW_SDRAM_CSR_BIGE_WIDTH 1
                             9640 ; 64   |#define HW_SDRAM_CSR_ASIZE_WIDTH 3
                             9641 ; 65   |#define HW_SDRAM_CSR_UKICK_WIDTH 1
                             9642 ; 66   |#define HW_SDRAM_CSR_DIV_WIDTH 4
                             9643 ; 67   |#define HW_SDRAM_CSR_MULTI_WIDTH 1
                             9644 ; 68   |#define HW_SDRAM_CSR_SDRAM_WIDTH 1
                             9645 ; 69   |#define HW_SDRAM_CSR_SIGN_WIDTH 1
                             9646 ; 70   |
                             9647 ; 71   |#define HW_SDRAM_CSR_SDRAMEN_SETMASK (((1<<HW_SDRAM_CSR_SDRAMEN_WIDTH)-1)<<HW_SDRAM_CSR_SDRAMEN_BITPOS)
                             9648 ; 72   |#define HW_SDRAM_CSR_IE_SETMASK (((1<<HW_SDRAM_CSR_IE_WIDTH)-1)<<HW_SDRAM_CSR_IE_BITPOS)
                             9649 ; 73   |#define HW_SDRAM_CSR_RNW_SETMASK (((1<<HW_SDRAM_CSR_RNW_WIDTH)-1)<<HW_SDRAM_CSR_RNW_BITPOS)
                             9650 ; 74   |#define HW_SDRAM_CSR_KICK_SETMASK (((1<<HW_SDRAM_CSR_KICK_WIDTH)-1)<<HW_SDRAM_CSR_KICK_BITPOS)
                             9651 ; 75   |#define HW_SDRAM_CSR_LM_SETMASK (((1<<HW_SDRAM_CSR_LM_WIDTH)-1)<<HW_SDRAM_CSR_LM_BITPOS)
                             9652 ; 76   |#define HW_SDRAM_CSR_ISTAT_SETMASK (((1<<HW_SDRAM_CSR_ISTAT_WIDTH)-1)<<HW_SDRAM_CSR_ISTAT_BITPOS)
                             9653 ; 77   |#define HW_SDRAM_CSR_PWDN_SETMASK (((1<<HW_SDRAM_CSR_PWDN_WIDTH)-1)<<HW_SDRAM_CSR_PWDN_BITPOS)
                             9654 ; 78   |#define HW_SDRAM_CSR_SBYTE_SETMASK (((1<<HW_SDRAM_CSR_SBYTE_WIDTH)-1)<<HW_SDRAM_CSR_SBYTE_BITPOS)
                             9655 ; 79   |#define HW_SDRAM_CSR_MEM_SETMASK (((1<<HW_SDRAM_CSR_MEM_WIDTH)-1)<<HW_SDRAM_CSR_MEM_BITPOS)
                             9656 ; 80   |#define HW_SDRAM_CSR_BIGE_SETMASK (((1<<HW_SDRAM_CSR_BIGE_WIDTH)-1)<<HW_SDRAM_CSR_BIGE_BITPOS)
                             9657 ; 81   |#define HW_SDRAM_CSR_ASIZE_SETMASK (((1<<HW_SDRAM_CSR_ASIZE_WIDTH)-1)<<HW_SDRAM_CSR_ASIZE_BITPOS)
                             9658 ; 82   |#define HW_SDRAM_CSR_UKICK_SETMASK (((1<<HW_SDRAM_CSR_UKICK_WIDTH)-1)<<HW_SDRAM_CSR_UKICK_BITPOS)
                             9659 ; 83   |#define HW_SDRAM_CSR_DIV_SETMASK (((1<<HW_SDRAM_CSR_DIV_WIDTH)-1)<<HW_SDRAM_CSR_DIV_BITPOS)
                             9660 ; 84   |#define HW_SDRAM_CSR_MULTI_SETMASK (((1<<HW_SDRAM_CSR_MULTI_WIDTH)-1)<<HW_SDRAM_CSR_MULTI_BITPOS)
                             9661 ; 85   |#define HW_SDRAM_CSR_SDRAM_SETMASK (((1<<HW_SDRAM_CSR_SDRAM_WIDTH)-1)<<HW_SDRAM_CSR_SDRAM_BITPOS)
                             9662 ; 86   |#define HW_SDRAM_CSR_SIGN_SETMASK (((1<<HW_SDRAM_CSR_SIGN_WIDTH)-1)<<HW_SDRAM_CSR_SIGN_BITPOS)
                             9663 ; 87   |
                             9664 ; 88   |#define HW_SDRAM_CSR_SDRAMEN_CLRMASK ~(WORD)HW_SDRAM_CSR_SDRAMEN_SETMASK
                             9665 ; 89   |#define HW_SDRAM_CSR_IE_CLRMASK ~(WORD)HW_SDRAM_CSR_IE_SETMASK
                             9666 ; 90   |#define HW_SDRAM_CSR_RNW_CLRMASK ~(WORD)HW_SDRAM_CSR_RNW_SETMASK
                             9667 ; 91   |#define HW_SDRAM_CSR_KICK_CLRMASK ~(WORD)HW_SDRAM_CSR_KICK_SETMASK
                             9668 ; 92   |#define HW_SDRAM_CSR_LM_CLRMASK ~(WORD)HW_SDRAM_CSR_LM_SETMASK
                             9669 ; 93   |#define HW_SDRAM_CSR_ISTAT_CLRMASK ~(WORD)HW_SDRAM_CSR_ISTAT_SETMASK
                             9670 ; 94   |#define HW_SDRAM_CSR_PWDN_CLRMASK ~(WORD)HW_SDRAM_CSR_PWDN_SETMASK
                             9671 ; 95   |#define HW_SDRAM_CSR_SBYTE_CLRMASK ~(WORD)HW_SDRAM_CSR_SBYTE_SETMASK
                             9672 ; 96   |#define HW_SDRAM_CSR_MEM_CLRMASK ~(WORD)HW_SDRAM_CSR_MEM_SETMASK
                             9673 ; 97   |#define HW_SDRAM_CSR_BIGE_CLRMASK ~(WORD)HW_SDRAM_CSR_BIGE_SETMASK
                             9674 ; 98   |#define HW_SDRAM_CSR_ASIZE_CLRMASK ~(WORD)HW_SDRAM_CSR_ASIZE_SETMASK
                             9675 ; 99   |#define HW_SDRAM_CSR_UKICK_CLRMASK ~(WORD)HW_SDRAM_CSR_UKICK_SETMASK
                             9676 ; 100  |#define HW_SDRAM_CSR_DIV_CLRMASK ~(WORD)HW_SDRAM_CSR_DIV_SETMASK
                             9677 ; 101  |#define HW_SDRAM_CSR_MULTI_CLRMASK ~(WORD)HW_SDRAM_CSR_MULTI_SETMASK
                             9678 ; 102  |#define HW_SDRAM_CSR_SDRAM_CLRMASK ~(WORD)HW_SDRAM_CSR_SDRAM_SETMASK
                             9679 ; 103  |#define HW_SDRAM_CSR_SIGN_CLRMASK ~(WORD)HW_SDRAM_CSR_SIGN_SETMASK
                             9680 ; 104  |
                             9681 ; 105  |typedef union               
                             9682 ; 106  |{
                             9683 ; 107  |    struct {
                             9684 ; 108  |        int SDRAMEN                     :1;
                             9685 ; 109  |        int IE                          :1;
                             9686 ; 110  |        int RNW                         :1;
                             9687 ; 111  |        int KICK                        :1;
                             9688 ; 112  |        int LM                          :1;
                             9689 ; 113  |        int ISTAT                       :1;
                             9690 ; 114  |        int PWDN                        :1;
                             9691 ; 115  |        int RSVD                        :1;
                             9692 ; 116  |        int SBYTE                       :2;
                             9693 ; 117  |        int MEM                         :2;
                             9694 ; 118  |        int BIGE                        :1;
                             9695 ; 119  |        int ASIZE                       :3;
                             9696 ; 120  |        int UKICK                       :1;
                             9697 ; 121  |        int DIV                         :4;
                             9698 ; 122  |        int MULTI                       :1;
                             9699 ; 123  |        int SDRAM                       :1;
                             9700 ; 124  |        int SIGN                        :1;
                             9701 ; 125  |    } B;
                             9702 ; 126  |    int I;
                             9703 ; 127  |} sdramcsr_type;
                             9704 ; 128  |#define HW_SDRAM_CSR (*(volatile sdramcsr_type _X*) (HW_SDRAM_BASEADDR))        
                             9705 ; 129  |#define HW_SDRAM_ADDR1 (*(volatile unsigned int _X*) (HW_SDRAM_BASEADDR+1))
                             9706 ; 130  |#define HW_SDRAM_ADDR2 (*(volatile unsigned int _X*) (HW_SDRAM_BASEADDR+2))
                             9707 ; 131  |#define HW_SDRAM_SYSADDR (*(volatile unsigned int _X*) (HW_SDRAM_BASEADDR+3))
                             9708 ; 132  |#define HW_SDRAM_SIZE (*(volatile unsigned int _X*) (HW_SDRAM_BASEADDR+4))
                             9709 ; 133  |#define HW_SDRAM_BAR (*(volatile unsigned int _X*) (HW_SDRAM_BASEADDR+7))
                             9710 ; 134  |#define HW_SDRAM_MR (*(volatile unsigned int _X*) (HW_SDRAM_BASEADDR+8))
                             9711 ; 135  |#define HW_SDRAM_DBAR1 (*(volatile unsigned int _X*) (HW_SDRAM_BASEADDR+9))
                             9712 ; 136  |#define HW_SDRAM_DBAR2 (*(volatile unsigned int _X*) (HW_SDRAM_BASEADDR+10))
                             9713 ; 137  |#define HW_SDRAM_DMR1 (*(volatile unsigned int _X*) (HW_SDRAM_BASEADDR+11))
                             9714 ; 138  |#define HW_SDRAM_DMR2 (*(volatile unsigned int _X*) (HW_SDRAM_BASEADDR+12))
                             9715 ; 139  |
                             9716 ; 140  |/////////////////////////////////////////////////////////////////////////////////
                             9717 ; 141  |//  SDRAM Start Address Low Register (HW_SDRAM_ADDR1) Bit Definitions
                             9718 ; 142  |#define HW_SDRAM_ADDR1_XA_BITPOS 0
                             9719 ; 143  |
                             9720 ; 144  |#define HW_SDRAM_ADDR1_XA_SETMASK 0xFFFFFF<<HW_SDRAM_ADDR1_XA_BITPOS
                             9721 ; 145  |
                             9722 ; 146  |#define HW_SDRAM_ADDR1_XA_CLRMASK ~(WORD)HW_SDRAM_ADDR1_XA_SETMASK
                             9723 ; 147  |
                             9724 ; 148  |/////////////////////////////////////////////////////////////////////////////////
                             9725 ; 149  |//  SDRAM Start Address High Register (HW_SDRAM_ADDR2) Bit Definitions
                             9726 ; 150  |#define HW_SDRAM_ADDR2_XA_BITPOS 0
                             9727 ; 151  |
                             9728 ; 152  |#define HW_SDRAM_ADDR2_XA_SETMASK 0x1F<<HW_SDRAM_ADDR2_XA_BITPOS
                             9729 ; 153  |
                             9730 ; 154  |#define HW_SDRAM_ADDR2_XA_CLRMASK ~(WORD)HW_SDRAM_ADDR2_XA_SETMASK
                             9731 ; 155  |
                             9732 ; 156  |/////////////////////////////////////////////////////////////////////////////////
                             9733 ; 157  |//  System Start Address Register (HW_SDRAM_SYSADDR) Bit Definitions
                             9734 ; 158  |#define HW_SDRAM_SYSADDR_XA_BITPOS 0
                             9735 ; 159  |
                             9736 ; 160  |#define HW_SDRAM_SYSADDR_XA_SETMASK 0xFFFF<<HW_SDRAM_SYSADDR_XA_BITPOS
                             9737 ; 161  |
                             9738 ; 162  |#define HW_SDRAM_SYSADDR_XA_CLRMASK ~(WORD)HW_SDRAM_SYSADDR_XA_SETMASK
                             9739 ; 163  |
                             9740 ; 164  |/////////////////////////////////////////////////////////////////////////////////
                             9741 ; 165  |//  Number of Bytes to be transfered Register (HW_SDRAM_SIZE) Bit Definitions
                             9742 ; 166  |#define HW_SDRAM_SIZE_XA_BITPOS 0
                             9743 ; 167  |
                             9744 ; 168  |#define HW_SDRAM_SIZE_XA_SETMASK 0x3FFFF<<HW_SDRAM_SIZE_XA_BITPOS
                             9745 ; 169  |
                             9746 ; 170  |#define HW_SDRAM_SIZE_XA_CLRMASK ~(WORD)HW_SDRAM_SIZE_XA_SETMASK
                             9747 ; 171  |
                             9748 ; 172  |/////////////////////////////////////////////////////////////////////////////////
                             9749 ; 173  |//  SDRAM Timer1 Register (HW_SDRAM_TIMER1) Bit Definitions
                             9750 ; 174  |#define HW_SDRAM_TIMER1_INIT_BITPOS 0
                             9751 ; 175  |#define HW_SDRAM_TIMER1_TRP_BITPOS 16
                             9752 ; 176  |#define HW_SDRAM_TIMER1_TRFC_BITPOS 20
                             9753 ; 177  |
                             9754 ; 178  |#define HW_SDRAM_TIMER1_INIT_WIDTH 16
                             9755 ; 179  |#define HW_SDRAM_TIMER1_TRP_WIDTH 4
                             9756 ; 180  |#define HW_SDRAM_TIMER1_TRFC_WIDTH 4
                             9757 ; 181  |
                             9758 ; 182  |#define HW_SDRAM_TIMER1_INIT_SETMASK (((1<<HW_SDRAM_TIMER1_INIT_WIDTH)-1)<<HW_SDRAM_TIMER1_INIT_BITPOS)
                             9759 ; 183  |#define HW_SDRAM_TIMER1_TRP_SETMASK (((1<<HW_SDRAM_TIMER1_TRP_WIDTH)-1)<<HW_SDRAM_TIMER1_TRP_BITPOS)
                             9760 ; 184  |#define HW_SDRAM_TIMER1_TRFC_SETMASK (((1<<HW_SDRAM_TIMER1_TRFC_WIDTH)-1)<<HW_SDRAM_TIMER1_TRFC_BITPOS)
                             9761 ; 185  |
                             9762 ; 186  |#define HW_SDRAM_TIMER1_INIT_CLRMASK ~(WORD)HW_SDRAM_TIMER1_INIT_SETMASK
                             9763 ; 187  |#define HW_SDRAM_TIMER1_TRP_CLRMASK ~(WORD)HW_SDRAM_TIMER1_TRP_SETMASK
                             9764 ; 188  |#define HW_SDRAM_TIMER1_TRFC_CLRMASK ~(WORD)HW_SDRAM_TIMER1_TRFC_SETMASK
                             9765 ; 189  |
                             9766 ; 190  |typedef union               
                             9767 ; 191  |{
                             9768 ; 192  |    struct {
                             9769 ; 193  |        int INIT                :16;
                             9770 ; 194  |        int TRP                 :4;
                             9771 ; 195  |        int TRFC                :4;
                             9772 ; 196  |    } B;
                             9773 ; 197  |    int I;
                             9774 ; 198  |} sdramtimer1_type;
                             9775 ; 199  |#define HW_SDRAM_TIMER1 (*(volatile sdramtimer1_type _X*) (HW_SDRAM_BASEADDR+5))
                             9776 ; 200  |
                             9777 ; 201  |/////////////////////////////////////////////////////////////////////////////////
                             9778 ; 202  |//  SDRAM Timer2 Register (HW_SDRAM_TIMER2) Bit Definitions
                             9779 ; 203  |#define HW_SDRAM_TIMER2_TXSR_BITPOS 0
                             9780 ; 204  |#define HW_SDRAM_TIMER2_TREF_BITPOS 4
                             9781 ; 205  |#define HW_SDRAM_TIMER2_TRCD_BITPOS 16
                             9782 ; 206  |
                             9783 ; 207  |#define HW_SDRAM_TIMER2_TXSR_WIDTH 4
                             9784 ; 208  |#define HW_SDRAM_TIMER2_TREF_WIDTH 12
                             9785 ; 209  |#define HW_SDRAM_TIMER2_TRCD_WIDTH 4
                             9786 ; 210  |
                             9787 ; 211  |#define HW_SDRAM_TIMER2_TXSR_SETMASK (((1<<HW_SDRAM_TIMER2_TXSR_WIDTH)-1)<<HW_SDRAM_TIMER2_TXSR_BITPOS)
                             9788 ; 212  |#define HW_SDRAM_TIMER2_TREF_SETMASK (((1<<HW_SDRAM_TIMER2_TREF_WIDTH)-1)<<HW_SDRAM_TIMER2_TREF_BITPOS)
                             9789 ; 213  |#define HW_SDRAM_TIMER2_TRCD_SETMASK (((1<<HW_SDRAM_TIMER2_TRCD_WIDTH)-1)<<HW_SDRAM_TIMER2_TRCD_BITPOS)
                             9790 ; 214  |
                             9791 ; 215  |#define HW_SDRAM_TIMER2_TXSR_CLRMASK ~(WORD)HW_SDRAM_TIMER2_TXSR_SETMASK
                             9792 ; 216  |#define HW_SDRAM_TIMER2_TREF_CLRMASK ~(WORD)HW_SDRAM_TIMER2_TREF_SETMASK
                             9793 ; 217  |#define HW_SDRAM_TIMER2_TRCD_CLRMASK ~(WORD)HW_SDRAM_TIMER2_TRCD_SETMASK
                             9794 ; 218  |
                             9795 ; 219  |typedef union               
                             9796 ; 220  |{
                             9797 ; 221  |    struct {
                             9798 ; 222  |        int TXSR                :4;
                             9799 ; 223  |        int TREF                :12;
                             9800 ; 224  |        int TRCD                :4;
                             9801 ; 225  |        int RSVD                :4; 
                             9802 ; 226  |    } B;
                             9803 ; 227  |    int I;
                             9804 ; 228  |} sdramtimer2_type;
                             9805 ; 229  |#define HW_SDRAM_TIMER2 (*(volatile sdramtimer2_type _X*) (HW_SDRAM_BASEADDR+6))
                             9806 ; 230  |
                             9807 ; 231  |/////////////////////////////////////////////////////////////////////////////////
                             9808 ; 232  |//  System Modulo Base Address Register (HW_SDRAM_BAR) Bit Definitions
                             9809 ; 233  |#define HW_SDRAM_BAR_XA_BITPOS 0
                             9810 ; 234  |
                             9811 ; 235  |#define HW_SDRAM_BAR_XA_SETMASK 0xFFFF<<HW_SDRAM_BAR_XA_BITPOS
                             9812 ; 236  |
                             9813 ; 237  |#define HW_SDRAM_BAR_XA_CLRMASK ~(WORD)HW_SDRAM_BAR_XA_SETMASK
                             9814 ; 238  |
                             9815 ; 239  |/////////////////////////////////////////////////////////////////////////////////
                             9816 ; 240  |//  System Modulo Register (HW_SDRAM_MR) Bit Definitions
                             9817 ; 241  |#define HW_SDRAM_MR_XA_BITPOS 0
                             9818 ; 242  |
                             9819 ; 243  |#define HW_SDRAM_MR_XA_SETMASK 0xFFFF<<HW_SDRAM_MR_XA_BITPOS
                             9820 ; 244  |
                             9821 ; 245  |#define HW_SDRAM_MR_XA_CLRMASK ~(WORD)HW_SDRAM_MR_XA_SETMASK
                             9822 ; 246  |
                             9823 ; 247  |/////////////////////////////////////////////////////////////////////////////////
                             9824 ; 248  |//  SDRAM Mode Register (HW_SDRAM_MODE) Bit Definitions
                             9825 ; 249  |#define HW_SDRAM_MODE_XA_BITPOS 0
                             9826 ; 250  |
                             9827 ; 251  |#define HW_SDRAM_MODE_XA_WIDTH 14
                             9828 ; 252  |
                             9829 ; 253  |#define HW_SDRAM_MODE_XA_SETMASK (((1<<HW_SDRAM_MODE_XA_WIDTH)-1)<<HW_SDRAM_MODE_XA_BITPOS)
                             9830 ; 254  |
                             9831 ; 255  |#define HW_SDRAM_MODE_XA_CLRMASK ~(WORD)HW_SDRAM_MODE_XA_SETMASK
                             9832 ; 256  |
                             9833 ; 257  |typedef union               
                             9834 ; 258  |{
                             9835 ; 259  |    struct {
                             9836 ; 260  |        int VALUE               :14;
                             9837 ; 261  |        int RSVD                :10; 
                             9838 ; 262  |    } B;
                             9839 ; 263  |    int I;
                             9840 ; 264  |} sdrammode_type;
                             9841 ; 265  |#define HW_SDRAM_MODE (*(volatile sdrammode_type _X*) (HW_SDRAM_BASEADDR+14))
                             9842 ; 266  |
                             9843 ; 267  |/////////////////////////////////////////////////////////////////////////////////
                             9844 ; 268  |//  SDRAM Type Register (HW_SDRAM_TYPE) Bit Definitions
                             9845 ; 269  |#define HW_SDRAM_TYPE_COLWIDTH_BITPOS 0
                             9846 ; 270  |#define HW_SDRAM_TYPE_ROWWIDTH_BITPOS 4
                             9847 ; 271  |
                             9848 ; 272  |#define HW_SDRAM_TYPE_COLWIDTH_WIDTH 4
                             9849 ; 273  |#define HW_SDRAM_TYPE_ROWWIDTH_WIDTH 4
                             9850 ; 274  |
                             9851 ; 275  |#define HW_SDRAM_TYPE_COLWIDTH_SETMASK (((1<<HW_SDRAM_TYPE_COLWIDTH_WIDTH)-1)<<HW_SDRAM_TYPE_COLWIDTH_BITPOS)
                             9852 ; 276  |#define HW_SDRAM_TYPE_ROWWIDTH_SETMASK (((1<<HW_SDRAM_TYPE_ROWWIDTH_WIDTH)-1)<<HW_SDRAM_TYPE_ROWWIDTH_BITPOS)
                             9853 ; 277  |
                             9854 ; 278  |#define HW_SDRAM_TYPE_COLWIDTH_CLRMASK (~(WORD)HW_SDRAM_TYPE_COLWIDTH_SETMASK)
                             9855 ; 279  |#define HW_SDRAM_TYPE_ROWWIDTH_CLRMASK (~(WORD)HW_SDRAM_TYPE_ROWWIDTH_SETMASK)
                             9856 ; 280  |
                             9857 ; 281  |typedef union               
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page  40

M:ADDR CODE           CYCLES LINE SOURCELINE
                             9858 ; 282  |{
                             9859 ; 283  |    struct {
                             9860 ; 284  |        int COLWIDTH               :4;
                             9861 ; 285  |        int ROWWIDTH               :4; 
                             9862 ; 286  |    } B;
                             9863 ; 287  |    int I;
                             9864 ; 288  |} sdramtype_type;
                             9865 ; 289  |#define HW_SDRAM_TYPE (*(volatile sdramtype_type _X*) (HW_SDRAM_BASEADDR+14))
                             9866 ; 290  |
                             9867 ; 291  |#endif
                             9868 ; 292  |
                             9869 ; 293  |
                             9870 ; 294  |
                             9871 ; 295  |
                             9872 ; 296  |
                             9873 ; 297  |
                             9874 
                             9876 
                             9877 ; 34   |#include "regstb.h"
                             9878 
                             9880 
                             9881 ; 1    |/////////////////////////////////////////////////////////////////////////////////
                             9882 ; 2    |// Copyright(C) SigmaTel, Inc. 2000-2003
                             9883 ; 3    |// Filename: regstb.inc
                             9884 ; 4    |// Description: Register definitions for Trace Buffer
                             9885 ; 5    |/////////////////////////////////////////////////////////////////////////////////
                             9886 ; 6    |// The following naming conventions are followed in this file.
                             9887 ; 7    |// All registers are named using the format...
                             9888 ; 8    |//     HW_<module>_<regname>
                             9889 ; 9    |// where <module> is the module name which can be any of the following...
                             9890 ; 10   |//     USB20
                             9891 ; 11   |// (Note that when there is more than one copy of a particular module, the
                             9892 ; 12   |// module name includes a number starting from 0 for the first instance of
                             9893 ; 13   |// that module)
                             9894 ; 14   |// <regname> is the specific register within that module
                             9895 ; 15   |// We also define the following...
                             9896 ; 16   |//     HW_<module>_<regname>_BITPOS
                             9897 ; 17   |// which defines the starting bit (i.e. LSB) of a multi bit field
                             9898 ; 18   |//     HW_<module>_<regname>_SETMASK
                             9899 ; 19   |// which does something else, and
                             9900 ; 20   |//     HW_<module>_<regname>_CLRMASK
                             9901 ; 21   |// which does something else.
                             9902 ; 22   |// Other rules
                             9903 ; 23   |//     All caps
                             9904 ; 24   |//     Numeric identifiers start at 0
                             9905 ; 25   |#if !(defined(regstbinc))
                             9906 ; 26   |#define regstbinc 1
                             9907 ; 27   |
                             9908 ; 28   |#include "types.h"
                             9909 
                             9911 
                             9912 ; 1    |////////////////////////////////////////////////////////////////////////////////
                             9913 ; 2    |// Copyright(C) SigmaTel, Inc. 2000-2004
                             9914 ; 3    |//
                             9915 ; 4    |// Filename: types.h
                             9916 ; 5    |// Description: Standard data types
                             9917 ; 6    |////////////////////////////////////////////////////////////////////////////////
                             9918 ; 7    |
                             9919 ; 8    |#ifndef _TYPES_H
                             9920 ; 9    |#define _TYPES_H
                             9921 ; 10   |
                             9922 ; 11   |// TODO:  move this outta here!
                             9923 ; 12   |#if !defined(NOERROR)
                             9924 ; 13   |#define NOERROR 0
                             9925 ; 14   |#define SUCCESS 0
                             9926 ; 15   |#endif 
                             9927 ; 16   |#if !defined(SUCCESS)
                             9928 ; 17   |#define SUCCESS  0
                             9929 ; 18   |#endif
                             9930 ; 19   |#if !defined(ERROR)
                             9931 ; 20   |#define ERROR   -1
                             9932 ; 21   |#endif
                             9933 ; 22   |#if !defined(FALSE)
                             9934 ; 23   |#define FALSE 0
                             9935 ; 24   |#endif
                             9936 ; 25   |#if !defined(TRUE)
                             9937 ; 26   |#define TRUE  1
                             9938 ; 27   |#endif
                             9939 ; 28   |
                             9940 ; 29   |#if !defined(NULL)
                             9941 ; 30   |#define NULL 0
                             9942 ; 31   |#endif
                             9943 ; 32   |
                             9944 ; 33   |#define MAX_INT     0x7FFFFF
                             9945 ; 34   |#define MAX_LONG    0x7FFFFFffffff
                             9946 ; 35   |        // max positive unsigned long value: -1 == 0xFFFFFFffffff
                             9947 ; 36   |#define MAX_ULONG   (-1) 
                             9948 ; 37   |
                             9949 ; 38   |#define WORD_SIZE   24              // word size in bits
                             9950 ; 39   |#define BYTES_PER_WORD 3            // 8 bit bytes
                             9951 ; 40   |
                             9952 ; 41   |
                             9953 ; 42   |#define BYTE    unsigned char       // btVarName
                             9954 ; 43   |#define CHAR    signed char         // cVarName
                             9955 ; 44   |#define USHORT  unsigned short      // usVarName
                             9956 ; 45   |#define SHORT   unsigned short      // sVarName
                             9957 ; 46   |#define WORD    unsigned int        // wVarName
                             9958 ; 47   |#define INT     signed int          // iVarName
                             9959 ; 48   |#define DWORD   unsigned long       // dwVarName
                             9960 ; 49   |#define LONG    signed long         // lVarName
                             9961 ; 50   |#define BOOL    unsigned int        // bVarName
                             9962 ; 51   |#define FRACT   _fract              // frVarName
                             9963 ; 52   |#define LFRACT  long _fract         // lfrVarName
                             9964 ; 53   |#define CIRC    _circ               // cp<type prefix>VarName (see below)
                             9965 ; 54   |#define FLOAT   float               // fVarName
                             9966 ; 55   |#define DBL     double              // dVarName
                             9967 ; 56   |#define ENUM    enum                // eVarName
                             9968 ; 57   |#define CMX     _complex            // cmxVarName
                             9969 ; 58   |typedef WORD UCS3;                   // 
                             9970 ; 59   |
                             9971 ; 60   |#define UINT16  unsigned short
                             9972 ; 61   |#define UINT8   unsigned char   
                             9973 ; 62   |#define UINT32  unsigned long
                             9974 ; 63   |#define UINT64  unsigned long   // need to figure out how to do 64 bit values.  Or port exisiting code to only use 48 bit
                             9975 ; 64   |#define INT64   unsigned long   // need to figure out how to do 64 bit values.  Or port exisiting code to only use 48 bit
                             9976 ; 65   |#define WCHAR   UINT16
                             9977 ; 66   |
                             9978 ; 67   |//UINT128 is 16 bytes or 6 words
                             9979 ; 68   |typedef struct UINT128_3500 {   
                             9980 ; 69   |    int val[6];     
                             9981 ; 70   |} UINT128_3500;
                             9982 ; 71   |
                             9983 ; 72   |#define UINT128   UINT128_3500
                             9984 ; 73   |
                             9985 ; 74   |// Little endian word packed byte strings:   
                             9986 ; 75   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                             9987 ; 76   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                             9988 ; 77   |// Little endian word packed byte strings:   
                             9989 ; 78   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                             9990 ; 79   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                             9991 ; 80   |
                             9992 ; 81   |// Declare Memory Spaces To Use When Coding
                             9993 ; 82   |// A. Sector Buffers
                             9994 ; 83   |#define SECTOR_BUFFER_MEM_X _X
                             9995 ; 84   |#define SECTOR_BUFFER_MEM_Y _Y
                             9996 ; 85   |#define SECTOR_BUFFER_MEM SECTOR_BUFFER_MEM_X
                             9997 ; 86   |typedef WORD SECTOR_BUFFER_MEM SECTOR_BUFFER;
                             9998 ; 87   |typedef SECTOR_BUFFER * P_SECTOR_BUFFER;
                             9999 ; 88   |// B. Media DDI Memory
                            10000 ; 89   |#define MEDIA_DDI_MEM _Y
                            10001 ; 90   |
                            10002 ; 91   |
                            10003 ; 92   |
                            10004 ; 93   |// Pointers to linear structures are labeled as: p<type prefix>VarName
                            10005 ; 94   |// Examples of circular pointers:
                            10006 ; 95   |//    INT CIRC cpiVarName
                            10007 ; 96   |//    DWORD CIRC cpdwVarName
                            10008 ; 97   |
                            10009 ; 98   |#define RETCODE INT                 // rcVarName
                            10010 ; 99   |
                            10011 ; 100  |// generic bitfield structure
                            10012 ; 101  |struct Bitfield {
                            10013 ; 102  |    unsigned int B0  :1;
                            10014 ; 103  |    unsigned int B1  :1;
                            10015 ; 104  |    unsigned int B2  :1;
                            10016 ; 105  |    unsigned int B3  :1;
                            10017 ; 106  |    unsigned int B4  :1;
                            10018 ; 107  |    unsigned int B5  :1;
                            10019 ; 108  |    unsigned int B6  :1;
                            10020 ; 109  |    unsigned int B7  :1;
                            10021 ; 110  |    unsigned int B8  :1;
                            10022 ; 111  |    unsigned int B9  :1;
                            10023 ; 112  |    unsigned int B10 :1;
                            10024 ; 113  |    unsigned int B11 :1;
                            10025 ; 114  |    unsigned int B12 :1;
                            10026 ; 115  |    unsigned int B13 :1;
                            10027 ; 116  |    unsigned int B14 :1;
                            10028 ; 117  |    unsigned int B15 :1;
                            10029 ; 118  |    unsigned int B16 :1;
                            10030 ; 119  |    unsigned int B17 :1;
                            10031 ; 120  |    unsigned int B18 :1;
                            10032 ; 121  |    unsigned int B19 :1;
                            10033 ; 122  |    unsigned int B20 :1;
                            10034 ; 123  |    unsigned int B21 :1;
                            10035 ; 124  |    unsigned int B22 :1;
                            10036 ; 125  |    unsigned int B23 :1;
                            10037 ; 126  |};
                            10038 ; 127  |
                            10039 ; 128  |union BitInt {
                            10040 ; 129  |        struct Bitfield B;
                            10041 ; 130  |        int        I;
                            10042 ; 131  |};
                            10043 ; 132  |
                            10044 ; 133  |#define MAX_MSG_LENGTH 10
                            10045 ; 134  |struct CMessage
                            10046 ; 135  |{
                            10047 ; 136  |        unsigned int m_uLength;
                            10048 ; 137  |        unsigned int m_uMsg[MAX_MSG_LENGTH];
                            10049 ; 138  |};
                            10050 ; 139  |
                            10051 ; 140  |typedef struct {
                            10052 ; 141  |    WORD m_wLength;
                            10053 ; 142  |    WORD m_wMessage;
                            10054 ; 143  |    WORD m_wParams[MAX_MSG_LENGTH];
                            10055 ; 144  |} Message;
                            10056 ; 145  |
                            10057 ; 146  |struct MessageQueueDescriptor
                            10058 ; 147  |{
                            10059 ; 148  |        int *m_pBase;
                            10060 ; 149  |        int m_iModulo;
                            10061 ; 150  |        int m_iSize;
                            10062 ; 151  |        int *m_pHead;
                            10063 ; 152  |        int *m_pTail;
                            10064 ; 153  |};
                            10065 ; 154  |
                            10066 ; 155  |struct ModuleEntry
                            10067 ; 156  |{
                            10068 ; 157  |    int m_iSignaledEventMask;
                            10069 ; 158  |    int m_iWaitEventMask;
                            10070 ; 159  |    int m_iResourceOfCode;
                            10071 ; 160  |    struct MessageQueueDescriptor *m_pMessageQueue;
                            10072 ; 161  |    int _asmfunc (*m_pProcessEntryPoint)(union WaitMask Signals,struct MessageQueueDescriptor *);
                            10073 ; 162  |    int _asmfunc (*m_pInitFunction)(struct MessageQueueDescriptor *);
                            10074 ; 163  |    int m_uTimeOutHigh;
                            10075 ; 164  |    int m_uTimeOutLow;
                            10076 ; 165  |    int _asmfunc (*m_pBackgroundFunction)(struct MessageQueueDescriptor *);
                            10077 ; 166  |};
                            10078 ; 167  |
                            10079 ; 168  |union WaitMask{
                            10080 ; 169  |    struct B{
                            10081 ; 170  |        unsigned int m_bNone     :1;
                            10082 ; 171  |        unsigned int m_bMessage  :1;
                            10083 ; 172  |        unsigned int m_bTimer    :1;
                            10084 ; 173  |        unsigned int m_bButton   :1;
                            10085 ; 174  |    } B;
                            10086 ; 175  |    int I;
                            10087 ; 176  |} ;
                            10088 ; 177  |
                            10089 ; 178  |
                            10090 ; 179  |struct Button {
                            10091 ; 180  |        WORD wButtonEvent;
                            10092 ; 181  |        WORD wUnused[MAX_MSG_LENGTH];   
                            10093 ; 182  |};
                            10094 ; 183  |
                            10095 ; 184  |struct Message {
                            10096 ; 185  |        WORD wMsgLength;
                            10097 ; 186  |        WORD wMsgCommand;
                            10098 ; 187  |        WORD wMsgParms[MAX_MSG_LENGTH-1];
                            10099 ; 188  |};
                            10100 ; 189  |
                            10101 ; 190  |union EventTypes {
                            10102 ; 191  |        struct CMessage msg;
                            10103 ; 192  |        struct Button Button ;
                            10104 ; 193  |        struct Message Message;
                            10105 ; 194  |};
                            10106 ; 195  |
                            10107 ; 196  |// next 2 used to get updater build to return correct protocol ver in scsi response.
                            10108 ; 197  |#define BUILD_TYPE_UPDATER  0x100
                            10109 ; 198  |#define BUILD_TYPE_HOSTLINK 0x101
                            10110 ; 199  |#define BUILD_TYPE_PLAYER   0x102
                            10111 ; 200  |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page  41

M:ADDR CODE           CYCLES LINE SOURCELINE
                            10112 ; 201  |// Resets part if RETAIL build. DEBUG build executes debug instruction to halt.
                            10113 ; 202  |#define SystemHalt() __asm(" include 'sysmacro.asm' \n error") 
                            10114 ; 203  |#define assert(x)    if(!(x)) __asm(" include 'sysmacro.asm' \n error")
                            10115 ; 204  |
                            10116 ; 205  |#if DEBUG
                            10117 ; 206  |// For DEBUG builds, DebugBuildAssert(condition) halts if condition evaluates to FALSE. 
                            10118 ; 207  |#define DebugBuildAssert(x)    if(!(x)) __asm(" debug ")
                            10119 ; 208  |#else 
                            10120 ; 209  |// For RETAIL builds, DebugBuildAssert(condition) does nothing & execution continues rather than halt or reset. 
                            10121 ; 210  |#define DebugBuildAssert(x)    
                            10122 ; 211  |#endif
                            10123 ; 212  |
                            10124 ; 213  |// Do this in your C files to make a reminder that's displayed during the build.
                            10125 ; 214  |//  #pragma asm
                            10126 ; 215  |//  WARN 'Note to builder: reminder to do this after verifying that'
                            10127 ; 216  |//  #pragma endasm
                            10128 ; 217  |
                            10129 ; 218  |
                            10130 ; 219  |#ifdef COLOR_262K
                            10131 ; 220  |#define RGB(r,g,b)    ((0x0000FC & (r)) << 10) | ((0x0000FC & (g)) << 4) | ((0x0000FC & (b)) >> 2)    //262k
                            10132 ; 221  |#elif defined(COLOR_65K)
                            10133 ; 222  |#define RGB(r,g,b)    ((0x0000F8 & (r)) << 8) | ((0x0000FC & (g)) << 3) | ((0x0000F8 & (b)) >> 3)  //65k
                            10134 ; 223  |#else
                            10135 ; 224  |#define RGB(r,g,b)       ((0x0000F0 & (r)) << 4) | (0x0000F0 & (g)) | ((0x0000F0 & (b)) >> 4)
                            10136 ; 225  |#endif
                            10137 ; 226  |    
                            10138 ; 227  |#endif // #ifndef _TYPES_H
                            10139 
                            10141 
                            10142 ; 29   |
                            10143 ; 30   |//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                            10144 ; 31   |
                            10145 ; 32   |//   Trace Buffer STMP Registers 
                            10146 ; 33   |//   Last Updated 6.30.2003 D. Baker
                            10147 ; 34   |//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                            10148 ; 35   |
                            10149 ; 36   |#define HW_TB_BASEADDR (0xF080)
                            10150 ; 37   |
                            10151 ; 38   |
                            10152 ; 39   |
                            10153 ; 40   |
                            10154 ; 41   |/////////////////////////////////////////////////////////////////////////////////
                            10155 ; 42   |
                            10156 ; 43   |//  Trace Buffer Configuration Register (HW_TB_CFG) Bit Definitions
                            10157 ; 44   |
                            10158 ; 45   |#define HW_TB_CFG_CLK_ENABLE_BITPOS (0)
                            10159 ; 46   |#define HW_TB_CFG_ENABLE_BITPOS (1)
                            10160 ; 47   |#define HW_TB_CFG_DONE_BITPOS (3)
                            10161 ; 48   |#define HW_TB_CFG_DMA_ASEL_BITPOS (4)
                            10162 ; 49   |#define HW_TB_CFG_TRIG_EVENT_BITPOS (6)
                            10163 ; 50   |
                            10164 ; 51   |#define HW_TB_CFG_CLK_ENABLE_WIDTH (1)
                            10165 ; 52   |#define HW_TB_CFG_ENABLE_WIDTH (1)
                            10166 ; 53   |#define HW_TB_CFG_RSVD1_WIDTH (1)
                            10167 ; 54   |#define HW_TB_CFG_DONE_WIDTH (1)
                            10168 ; 55   |#define HW_TB_CFG_DMA_ASEL_WIDTH (2)
                            10169 ; 56   |#define HW_TB_CFG_TRIG_EVENT_WIDTH (1)
                            10170 ; 57   |#define HW_TB_CFG_RSVD2_WIDTH (17)
                            10171 ; 58   |
                            10172 ; 59   |#define HW_TB_CFG_CLK_ENABLE_SETMASK (((1<<HW_TB_CFG_CLK_ENABLE_WIDTH)-1)<<HW_TB_CFG_CLK_ENABLE_BITPOS) 
                            10173 ; 60   |#define HW_TB_CFG_ENABLE_SETMASK (((1<<HW_TB_CFG_ENABLE_WIDTH)-1)<<HW_TB_CFG_ENABLE_BITPOS) 
                            10174 ; 61   |#define HW_TB_CFG_DONE_SETMASK (((1<<HW_TB_CFG_DONE_WIDTH)-1)<<HW_TB_CFG_DONE_BITPOS) 
                            10175 ; 62   |#define HW_TB_CFG_DMA_ASEL_SETMASK (((1<<HW_TB_CFG_DMA_ASEL_WIDTH)-1)<<HW_TB_CFG_DMA_ASEL_BITPOS) 
                            10176 ; 63   |#define HW_TB_CFG_TRIG_EVENT_SETMASK (((1<<HW_TB_CFG_TRIG_EVENT_WIDTH)-1)<<HW_TB_CFG_TRIG_EVENT_BITPOS) 
                            10177 ; 64   |
                            10178 ; 65   |#define HW_TB_CFG_CLK_ENABLE_CLRMASK (~(WORD)HW_TB_CFG_CLK_ENABLE_SETMASK)
                            10179 ; 66   |#define HW_TB_CFG_ENABLE_CLRMASK (~(WORD)HW_TB_CFG_ENABLE_SETMASK)
                            10180 ; 67   |#define HW_TB_CFG_DONE_CLRMASK (~(WORD)HW_TB_CFG_DONE_SETMASK)
                            10181 ; 68   |#define HW_TB_CFG_DMA_ASEL_CLRMASK (~(WORD)HW_TB_CFG_DMA_ASEL_SETMASK)
                            10182 ; 69   |#define HW_TB_CFG_TRIG_EVENT_CLRMASK (~(WORD)HW_TB_CFG_TRIG_EVENT_SETMASK)
                            10183 ; 70   |
                            10184 ; 71   |typedef union               
                            10185 ; 72   |{
                            10186 ; 73   |    struct {
                            10187 ; 74   |         int CLK_ENABLE      : HW_TB_CFG_CLK_ENABLE_WIDTH;
                            10188 ; 75   |         int ENABLE          : HW_TB_CFG_ENABLE_WIDTH;
                            10189 ; 76   |        int rsvd1           : HW_TB_CFG_RSVD1_WIDTH;
                            10190 ; 77   |         int DONE            : HW_TB_CFG_DONE_WIDTH;
                            10191 ; 78   |         int DMA_ASEL        : HW_TB_CFG_DMA_ASEL_WIDTH;
                            10192 ; 79   |         int TRIG_EVENT      : HW_TB_CFG_TRIG_EVENT_WIDTH;
                            10193 ; 80   |        int rsvd2           : HW_TB_CFG_RSVD2_WIDTH;
                            10194 ; 81   |    } B;
                            10195 ; 82   |    int I;
                            10196 ; 83   |    unsigned int U;
                            10197 ; 84   |} tb_cfg_type;
                            10198 ; 85   |#define HW_TB_CFG      (*(volatile tb_cfg_type _X*) (HW_TB_BASEADDR+0))    /* Trace Buffer Configuration Register */
                            10199 ; 86   |
                            10200 ; 87   |/////////////////////////////////////////////////////////////////////////////////
                            10201 ; 88   |
                            10202 ; 89   |//  Trace Buffer Base Address Register (HW_TB_BAR) Bit Definitions
                            10203 ; 90   |
                            10204 ; 91   |#define HW_TB_BAR_ADDRESS_BITPOS (0)
                            10205 ; 92   |
                            10206 ; 93   |#define HW_TB_BAR_ADDRESS_WIDTH (16)        
                            10207 ; 94   |#define HW_TB_BAR_RSVD_WIDTH (8)
                            10208 ; 95   |
                            10209 ; 96   |#define HW_TB_BAR_ADDRESS_SETMASK (((1<<HW_TB_BAR_ADDRESS_WIDTH)-1)<<HW_TB_BAR_ADDRESS_BITPOS) 
                            10210 ; 97   |
                            10211 ; 98   |#define HW_TB_BAR_ADDRESS_CLRMASK (~(WORD)HW_TB_BAR_ADDRESS_SETMASK)
                            10212 ; 99   |
                            10213 ; 100  |typedef union               
                            10214 ; 101  |{
                            10215 ; 102  |    struct {
                            10216 ; 103  |         int ADDRESS      : HW_TB_BAR_ADDRESS_WIDTH;
                            10217 ; 104  |        int reserved     : HW_TB_BAR_RSVD_WIDTH;
                            10218 ; 105  |    } B;
                            10219 ; 106  |    int I;
                            10220 ; 107  |    unsigned int U;
                            10221 ; 108  |} tb_bar_type;
                            10222 ; 109  |#define HW_TB_BAR      (*(volatile tb_bar_type _X*) (HW_TB_BASEADDR+1))    /* Trace Buffer Base Address Register */
                            10223 ; 110  |
                            10224 ; 111  |/////////////////////////////////////////////////////////////////////////////////
                            10225 ; 112  |
                            10226 ; 113  |//  Trace Buffer Modulo Register (HW_TB_MOD) Bit Definitions
                            10227 ; 114  |
                            10228 ; 115  |#define HW_TB_MOD_MODULUS_BITPOS (0)
                            10229 ; 116  |
                            10230 ; 117  |#define HW_TB_MOD_MODULUS_WIDTH (14)        
                            10231 ; 118  |#define HW_TB_MOD_RSVD_WIDTH (10)
                            10232 ; 119  |
                            10233 ; 120  |#define HW_TB_MOD_MODULUS_SETMASK (((1<<HW_TB_MOD_MODULUS_WIDTH)-1)<<HW_TB_MOD_MODULUS_BITPOS) 
                            10234 ; 121  |
                            10235 ; 122  |#define HW_TB_MOD_MODULUS_CLRMASK (~(WORD)HW_TB_MOD_MODULUS_SETMASK)
                            10236 ; 123  |
                            10237 ; 124  |typedef union               
                            10238 ; 125  |{
                            10239 ; 126  |    struct {
                            10240 ; 127  |         int MODULUS      : HW_TB_MOD_MODULUS_WIDTH;
                            10241 ; 128  |        int reserved        : HW_TB_MOD_RSVD_WIDTH;
                            10242 ; 129  |    } B;
                            10243 ; 130  |    int I;
                            10244 ; 131  |    unsigned int U;
                            10245 ; 132  |} tb_mod_type;
                            10246 ; 133  |#define HW_TB_MOD      (*(volatile tb_mod_type _X*) (HW_TB_BASEADDR+2))    /* Trace Buffer Modulus Register */
                            10247 ; 134  |
                            10248 ; 135  |/////////////////////////////////////////////////////////////////////////////////
                            10249 ; 136  |
                            10250 ; 137  |//  Trace Buffer Current Index Register (HW_TB_CIR) Bit Definitions
                            10251 ; 138  |
                            10252 ; 139  |#define HW_TB_CIR_INDEX_BITPOS (0)
                            10253 ; 140  |
                            10254 ; 141  |#define HW_TB_CIR_INDEX_WIDTH (14)        
                            10255 ; 142  |#define HW_TB_CIR_RSVD_WIDTH (10)
                            10256 ; 143  |
                            10257 ; 144  |#define HW_TB_CIR_INDEX_SETMASK (((1<<HW_TB_CIR_INDEX_WIDTH)-1)<<HW_TB_CIR_INDEX_BITPOS) 
                            10258 ; 145  |
                            10259 ; 146  |#define HW_TB_CIR_INDEX_CLRMASK (~(WORD)HW_TB_CIR_INDEX_SETMASK)
                            10260 ; 147  |
                            10261 ; 148  |typedef union               
                            10262 ; 149  |{
                            10263 ; 150  |    struct {
                            10264 ; 151  |         int INDEX        : HW_TB_CIR_INDEX_WIDTH;
                            10265 ; 152  |        int reserved     : HW_TB_CIR_RSVD_WIDTH;
                            10266 ; 153  |    } B;
                            10267 ; 154  |    int I;
                            10268 ; 155  |    unsigned int U;
                            10269 ; 156  |} tb_cir_type;
                            10270 ; 157  |#define HW_TB_CIR      (*(volatile tb_cir_type _X*) (HW_TB_BASEADDR+3))    /* Trace Buffer Current Index Register */
                            10271 ; 158  |
                            10272 ; 159  |/////////////////////////////////////////////////////////////////////////////////
                            10273 ; 160  |
                            10274 ; 161  |//  Trace Buffer One Byte Code Register (HW_TB_OBC) Bit Definitions
                            10275 ; 162  |
                            10276 ; 163  |#define HW_TB_OBC_CODE_BITPOS (0)
                            10277 ; 164  |
                            10278 ; 165  |#define HW_TB_OBC_CODE_WIDTH (8)        
                            10279 ; 166  |#define HW_TB_OBC_RSVD_WIDTH (16)
                            10280 ; 167  |
                            10281 ; 168  |#define HW_TB_OBC_CODE_SETMASK (((1<<HW_TB_OBC_CODE_WIDTH)-1)<<HW_TB_OBC_CODE_BITPOS) 
                            10282 ; 169  |
                            10283 ; 170  |#define HW_TB_OBC_CODE_CLRMASK (~(WORD)HW_TB_OBC_CODE_SETMASK)
                            10284 ; 171  |
                            10285 ; 172  |typedef union               
                            10286 ; 173  |{
                            10287 ; 174  |    struct {
                            10288 ; 175  |         int CODE        : HW_TB_OBC_CODE_WIDTH;
                            10289 ; 176  |        int reserved    : HW_TB_OBC_RSVD_WIDTH;
                            10290 ; 177  |    } B;
                            10291 ; 178  |    int I;
                            10292 ; 179  |    unsigned int U;
                            10293 ; 180  |} tb_obc_type;
                            10294 ; 181  |#define HW_TB_OBC      (*(volatile tb_obc_type _X*) (HW_TB_BASEADDR+4))    /* Trace Buffer one byte code Register */
                            10295 ; 182  |
                            10296 ; 183  |/////////////////////////////////////////////////////////////////////////////////
                            10297 ; 184  |
                            10298 ; 185  |//  Trace Buffer Trigger Command Register (HW_TB_TCS) Bit Definitions
                            10299 ; 186  |
                            10300 ; 187  |#define HW_TB_TCS_TRG_STYLE_BITPOS (0)
                            10301 ; 188  |#define HW_TB_TCS_CAP_CLASS_BITPOS (1)
                            10302 ; 189  |#define HW_TB_TCS_TRG_CLASS_BITPOS (3)
                            10303 ; 190  |#define HW_TB_TCS_FREEZE_BITPOS (5)
                            10304 ; 191  |
                            10305 ; 192  |#define HW_TB_TCS_TRG_STYLE_WIDTH (1)        
                            10306 ; 193  |#define HW_TB_TCS_CAP_CLASS_WIDTH (2)        
                            10307 ; 194  |#define HW_TB_TCS_TRG_CLASS_WIDTH (2)        
                            10308 ; 195  |#define HW_TB_TCS_FREEZE_WIDTH (1)        
                            10309 ; 196  |#define HW_TB_TCS_RSVD_WIDTH (18)
                            10310 ; 197  |
                            10311 ; 198  |#define HW_TB_TCS_TRG_STYLE_SETMASK (((1<<HW_TB_TCS_TRG_STYLE_WIDTH)-1)<<HW_TB_TCS_TRG_STYLE_BITPOS) 
                            10312 ; 199  |#define HW_TB_TCS_CAP_CLASS_SETMASK (((1<<HW_TB_TCS_CAP_CLASS_WIDTH)-1)<<HW_TB_TCS_CAP_CLASS_BITPOS) 
                            10313 ; 200  |#define HW_TB_TCS_TRG_CLASS_SETMASK (((1<<HW_TB_TCS_TRG_CLASS_WIDTH)-1)<<HW_TB_TCS_TRG_CLASS_BITPOS) 
                            10314 ; 201  |#define HW_TB_TCS_FREEZE_SETMASK (((1<<HW_TB_TCS_FREEZE_WIDTH)-1)<<HW_TB_TCS_FREEZE_BITPOS) 
                            10315 ; 202  |
                            10316 ; 203  |#define HW_TB_TCS_TRG_STYLE_CLRMASK (~(WORD)HW_TB_TCS_TRG_STYLE_SETMASK)
                            10317 ; 204  |#define HW_TB_TCS_CAP_CLASS_CLRMASK (~(WORD)HW_TB_TCS_CAP_CLASS_SETMASK)
                            10318 ; 205  |#define HW_TB_TCS_TRG_CLASS_CLRMASK (~(WORD)HW_TB_TCS_TRG_CLASS_SETMASK)
                            10319 ; 206  |#define HW_TB_TCS_FREEZE_CLRMASK (~(WORD)HW_TB_TCS_FREEZE_SETMASK)
                            10320 ; 207  |
                            10321 ; 208  |typedef union               
                            10322 ; 209  |{
                            10323 ; 210  |    struct {
                            10324 ; 211  |         int TRG_STYLE       : HW_TB_TCS_TRG_STYLE_WIDTH;
                            10325 ; 212  |         int CAP_CLASS       : HW_TB_TCS_CAP_CLASS_WIDTH;
                            10326 ; 213  |         int TRG_CLASS       : HW_TB_TCS_TRG_CLASS_WIDTH;
                            10327 ; 214  |         int FREEZE          : HW_TB_TCS_FREEZE_WIDTH;
                            10328 ; 215  |        int reserved        : HW_TB_TCS_RSVD_WIDTH;
                            10329 ; 216  |    } B;
                            10330 ; 217  |    int I;
                            10331 ; 218  |    unsigned int U;
                            10332 ; 219  |} tb_tcs_type;
                            10333 ; 220  |#define HW_TB_TCS      (*(volatile tb_tcs_type _X*) (HW_TB_BASEADDR+16))    /* Trace Buffer Trigger Command Register */
                            10334 ; 221  |
                            10335 ; 222  |/////////////////////////////////////////////////////////////////////////////////
                            10336 ; 223  |
                            10337 ; 224  |//  Trace Buffer Trigger Value Register (HW_TB_TVR) Bit Definitions
                            10338 ; 225  |
                            10339 ; 226  |#define HW_TB_TVR_MATCH_ADDR_BITPOS (0)
                            10340 ; 227  |
                            10341 ; 228  |#define HW_TB_TVR_MATCH_ADDR_WIDTH (16)        
                            10342 ; 229  |#define HW_TB_TVR_RSVD_WIDTH (8)
                            10343 ; 230  |
                            10344 ; 231  |#define HW_TB_TVR_MATCH_ADDR_SETMASK (((1<<HW_TB_TVR_MATCH_ADDR_WIDTH)-1)<<HW_TB_TVR_MATCH_ADDR_BITPOS) 
                            10345 ; 232  |
                            10346 ; 233  |#define HW_TB_TVR_MATCH_ADDR_CLRMASK (~(WORD)HW_TB_TVR_MATCH_ADDR_SETMASK)
                            10347 ; 234  |
                            10348 ; 235  |typedef union               
                            10349 ; 236  |{
                            10350 ; 237  |    struct {
                            10351 ; 238  |         int MATCH_ADDR      : HW_TB_TVR_MATCH_ADDR_WIDTH;
                            10352 ; 239  |        int reserved        : HW_TB_TVR_RSVD_WIDTH;
                            10353 ; 240  |    } B;
                            10354 ; 241  |    int I;
                            10355 ; 242  |    unsigned int U;
                            10356 ; 243  |} tb_tvr_type;
                            10357 ; 244  |#define HW_TB_TVR      (*(volatile tb_tvr_type _X*) (HW_TB_BASEADDR+24))    /* Trace Buffer Trigger Value Register */
                            10358 ; 245  |
                            10359 ; 246  |
                            10360 ; 247  |
                            10361 ; 248  |#endif
                            10362 ; 249  |
                            10363 ; 250  |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page  42

M:ADDR CODE           CYCLES LINE SOURCELINE
                            10364 ; 251  |
                            10365 ; 252  |
                            10366 ; 253  |
                            10367 ; 254  |
                            10368 ; 255  |
                            10369 ; 256  |
                            10370 ; 257  |
                            10371 ; 258  |
                            10372 ; 259  |
                            10373 ; 260  |
                            10374 ; 261  |
                            10375 ; 262  |
                            10376 ; 263  |
                            10377 ; 264  |
                            10378 ; 265  |
                            10379 
                            10381 
                            10382 ; 35   |#include "regstimer.h"
                            10383 
                            10385 
                            10386 ; 1    |/////////////////////////////////////////////////////////////////////////////////
                            10387 ; 2    |// Copyright(C) SigmaTel, Inc. 2000-2001
                            10388 ; 3    |// Filename: regstimer.inc
                            10389 ; 4    |// Description: Register definitions for  Timers interface
                            10390 ; 5    |/////////////////////////////////////////////////////////////////////////////////
                            10391 ; 6    |// The following naming conventions are followed in this file.
                            10392 ; 7    |// All registers are named using the format...
                            10393 ; 8    |//     HW_<module>_<regname>
                            10394 ; 9    |// where <module> is the module name which can be any of the following...
                            10395 ; 10   |//     USB20
                            10396 ; 11   |// (Note that when there is more than one copy of a particular module, the
                            10397 ; 12   |// module name includes a number starting from 0 for the first instance of
                            10398 ; 13   |// that module)
                            10399 ; 14   |// <regname> is the specific register within that module
                            10400 ; 15   |// We also define the following...
                            10401 ; 16   |//     HW_<module>_<regname>_BITPOS
                            10402 ; 17   |// which defines the starting bit (i.e. LSB) of a multi bit field
                            10403 ; 18   |//     HW_<module>_<regname>_SETMASK
                            10404 ; 19   |// which does something else, and
                            10405 ; 20   |//     HW_<module>_<regname>_CLRMASK
                            10406 ; 21   |// which does something else.
                            10407 ; 22   |// Other rules
                            10408 ; 23   |//     All caps
                            10409 ; 24   |//     Numeric identifiers start at 0
                            10410 ; 25   |#if !(defined(regstimerinc))
                            10411 ; 26   |#define regstimerinc 1
                            10412 ; 27   |
                            10413 ; 28   |#include "types.h"
                            10414 
                            10416 
                            10417 ; 1    |////////////////////////////////////////////////////////////////////////////////
                            10418 ; 2    |// Copyright(C) SigmaTel, Inc. 2000-2004
                            10419 ; 3    |//
                            10420 ; 4    |// Filename: types.h
                            10421 ; 5    |// Description: Standard data types
                            10422 ; 6    |////////////////////////////////////////////////////////////////////////////////
                            10423 ; 7    |
                            10424 ; 8    |#ifndef _TYPES_H
                            10425 ; 9    |#define _TYPES_H
                            10426 ; 10   |
                            10427 ; 11   |// TODO:  move this outta here!
                            10428 ; 12   |#if !defined(NOERROR)
                            10429 ; 13   |#define NOERROR 0
                            10430 ; 14   |#define SUCCESS 0
                            10431 ; 15   |#endif 
                            10432 ; 16   |#if !defined(SUCCESS)
                            10433 ; 17   |#define SUCCESS  0
                            10434 ; 18   |#endif
                            10435 ; 19   |#if !defined(ERROR)
                            10436 ; 20   |#define ERROR   -1
                            10437 ; 21   |#endif
                            10438 ; 22   |#if !defined(FALSE)
                            10439 ; 23   |#define FALSE 0
                            10440 ; 24   |#endif
                            10441 ; 25   |#if !defined(TRUE)
                            10442 ; 26   |#define TRUE  1
                            10443 ; 27   |#endif
                            10444 ; 28   |
                            10445 ; 29   |#if !defined(NULL)
                            10446 ; 30   |#define NULL 0
                            10447 ; 31   |#endif
                            10448 ; 32   |
                            10449 ; 33   |#define MAX_INT     0x7FFFFF
                            10450 ; 34   |#define MAX_LONG    0x7FFFFFffffff
                            10451 ; 35   |        // max positive unsigned long value: -1 == 0xFFFFFFffffff
                            10452 ; 36   |#define MAX_ULONG   (-1) 
                            10453 ; 37   |
                            10454 ; 38   |#define WORD_SIZE   24              // word size in bits
                            10455 ; 39   |#define BYTES_PER_WORD 3            // 8 bit bytes
                            10456 ; 40   |
                            10457 ; 41   |
                            10458 ; 42   |#define BYTE    unsigned char       // btVarName
                            10459 ; 43   |#define CHAR    signed char         // cVarName
                            10460 ; 44   |#define USHORT  unsigned short      // usVarName
                            10461 ; 45   |#define SHORT   unsigned short      // sVarName
                            10462 ; 46   |#define WORD    unsigned int        // wVarName
                            10463 ; 47   |#define INT     signed int          // iVarName
                            10464 ; 48   |#define DWORD   unsigned long       // dwVarName
                            10465 ; 49   |#define LONG    signed long         // lVarName
                            10466 ; 50   |#define BOOL    unsigned int        // bVarName
                            10467 ; 51   |#define FRACT   _fract              // frVarName
                            10468 ; 52   |#define LFRACT  long _fract         // lfrVarName
                            10469 ; 53   |#define CIRC    _circ               // cp<type prefix>VarName (see below)
                            10470 ; 54   |#define FLOAT   float               // fVarName
                            10471 ; 55   |#define DBL     double              // dVarName
                            10472 ; 56   |#define ENUM    enum                // eVarName
                            10473 ; 57   |#define CMX     _complex            // cmxVarName
                            10474 ; 58   |typedef WORD UCS3;                   // 
                            10475 ; 59   |
                            10476 ; 60   |#define UINT16  unsigned short
                            10477 ; 61   |#define UINT8   unsigned char   
                            10478 ; 62   |#define UINT32  unsigned long
                            10479 ; 63   |#define UINT64  unsigned long   // need to figure out how to do 64 bit values.  Or port exisiting code to only use 48 bit
                            10480 ; 64   |#define INT64   unsigned long   // need to figure out how to do 64 bit values.  Or port exisiting code to only use 48 bit
                            10481 ; 65   |#define WCHAR   UINT16
                            10482 ; 66   |
                            10483 ; 67   |//UINT128 is 16 bytes or 6 words
                            10484 ; 68   |typedef struct UINT128_3500 {   
                            10485 ; 69   |    int val[6];     
                            10486 ; 70   |} UINT128_3500;
                            10487 ; 71   |
                            10488 ; 72   |#define UINT128   UINT128_3500
                            10489 ; 73   |
                            10490 ; 74   |// Little endian word packed byte strings:   
                            10491 ; 75   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                            10492 ; 76   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                            10493 ; 77   |// Little endian word packed byte strings:   
                            10494 ; 78   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                            10495 ; 79   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                            10496 ; 80   |
                            10497 ; 81   |// Declare Memory Spaces To Use When Coding
                            10498 ; 82   |// A. Sector Buffers
                            10499 ; 83   |#define SECTOR_BUFFER_MEM_X _X
                            10500 ; 84   |#define SECTOR_BUFFER_MEM_Y _Y
                            10501 ; 85   |#define SECTOR_BUFFER_MEM SECTOR_BUFFER_MEM_X
                            10502 ; 86   |typedef WORD SECTOR_BUFFER_MEM SECTOR_BUFFER;
                            10503 ; 87   |typedef SECTOR_BUFFER * P_SECTOR_BUFFER;
                            10504 ; 88   |// B. Media DDI Memory
                            10505 ; 89   |#define MEDIA_DDI_MEM _Y
                            10506 ; 90   |
                            10507 ; 91   |
                            10508 ; 92   |
                            10509 ; 93   |// Pointers to linear structures are labeled as: p<type prefix>VarName
                            10510 ; 94   |// Examples of circular pointers:
                            10511 ; 95   |//    INT CIRC cpiVarName
                            10512 ; 96   |//    DWORD CIRC cpdwVarName
                            10513 ; 97   |
                            10514 ; 98   |#define RETCODE INT                 // rcVarName
                            10515 ; 99   |
                            10516 ; 100  |// generic bitfield structure
                            10517 ; 101  |struct Bitfield {
                            10518 ; 102  |    unsigned int B0  :1;
                            10519 ; 103  |    unsigned int B1  :1;
                            10520 ; 104  |    unsigned int B2  :1;
                            10521 ; 105  |    unsigned int B3  :1;
                            10522 ; 106  |    unsigned int B4  :1;
                            10523 ; 107  |    unsigned int B5  :1;
                            10524 ; 108  |    unsigned int B6  :1;
                            10525 ; 109  |    unsigned int B7  :1;
                            10526 ; 110  |    unsigned int B8  :1;
                            10527 ; 111  |    unsigned int B9  :1;
                            10528 ; 112  |    unsigned int B10 :1;
                            10529 ; 113  |    unsigned int B11 :1;
                            10530 ; 114  |    unsigned int B12 :1;
                            10531 ; 115  |    unsigned int B13 :1;
                            10532 ; 116  |    unsigned int B14 :1;
                            10533 ; 117  |    unsigned int B15 :1;
                            10534 ; 118  |    unsigned int B16 :1;
                            10535 ; 119  |    unsigned int B17 :1;
                            10536 ; 120  |    unsigned int B18 :1;
                            10537 ; 121  |    unsigned int B19 :1;
                            10538 ; 122  |    unsigned int B20 :1;
                            10539 ; 123  |    unsigned int B21 :1;
                            10540 ; 124  |    unsigned int B22 :1;
                            10541 ; 125  |    unsigned int B23 :1;
                            10542 ; 126  |};
                            10543 ; 127  |
                            10544 ; 128  |union BitInt {
                            10545 ; 129  |        struct Bitfield B;
                            10546 ; 130  |        int        I;
                            10547 ; 131  |};
                            10548 ; 132  |
                            10549 ; 133  |#define MAX_MSG_LENGTH 10
                            10550 ; 134  |struct CMessage
                            10551 ; 135  |{
                            10552 ; 136  |        unsigned int m_uLength;
                            10553 ; 137  |        unsigned int m_uMsg[MAX_MSG_LENGTH];
                            10554 ; 138  |};
                            10555 ; 139  |
                            10556 ; 140  |typedef struct {
                            10557 ; 141  |    WORD m_wLength;
                            10558 ; 142  |    WORD m_wMessage;
                            10559 ; 143  |    WORD m_wParams[MAX_MSG_LENGTH];
                            10560 ; 144  |} Message;
                            10561 ; 145  |
                            10562 ; 146  |struct MessageQueueDescriptor
                            10563 ; 147  |{
                            10564 ; 148  |        int *m_pBase;
                            10565 ; 149  |        int m_iModulo;
                            10566 ; 150  |        int m_iSize;
                            10567 ; 151  |        int *m_pHead;
                            10568 ; 152  |        int *m_pTail;
                            10569 ; 153  |};
                            10570 ; 154  |
                            10571 ; 155  |struct ModuleEntry
                            10572 ; 156  |{
                            10573 ; 157  |    int m_iSignaledEventMask;
                            10574 ; 158  |    int m_iWaitEventMask;
                            10575 ; 159  |    int m_iResourceOfCode;
                            10576 ; 160  |    struct MessageQueueDescriptor *m_pMessageQueue;
                            10577 ; 161  |    int _asmfunc (*m_pProcessEntryPoint)(union WaitMask Signals,struct MessageQueueDescriptor *);
                            10578 ; 162  |    int _asmfunc (*m_pInitFunction)(struct MessageQueueDescriptor *);
                            10579 ; 163  |    int m_uTimeOutHigh;
                            10580 ; 164  |    int m_uTimeOutLow;
                            10581 ; 165  |    int _asmfunc (*m_pBackgroundFunction)(struct MessageQueueDescriptor *);
                            10582 ; 166  |};
                            10583 ; 167  |
                            10584 ; 168  |union WaitMask{
                            10585 ; 169  |    struct B{
                            10586 ; 170  |        unsigned int m_bNone     :1;
                            10587 ; 171  |        unsigned int m_bMessage  :1;
                            10588 ; 172  |        unsigned int m_bTimer    :1;
                            10589 ; 173  |        unsigned int m_bButton   :1;
                            10590 ; 174  |    } B;
                            10591 ; 175  |    int I;
                            10592 ; 176  |} ;
                            10593 ; 177  |
                            10594 ; 178  |
                            10595 ; 179  |struct Button {
                            10596 ; 180  |        WORD wButtonEvent;
                            10597 ; 181  |        WORD wUnused[MAX_MSG_LENGTH];   
                            10598 ; 182  |};
                            10599 ; 183  |
                            10600 ; 184  |struct Message {
                            10601 ; 185  |        WORD wMsgLength;
                            10602 ; 186  |        WORD wMsgCommand;
                            10603 ; 187  |        WORD wMsgParms[MAX_MSG_LENGTH-1];
                            10604 ; 188  |};
                            10605 ; 189  |
                            10606 ; 190  |union EventTypes {
                            10607 ; 191  |        struct CMessage msg;
                            10608 ; 192  |        struct Button Button ;
                            10609 ; 193  |        struct Message Message;
                            10610 ; 194  |};
                            10611 ; 195  |
                            10612 ; 196  |// next 2 used to get updater build to return correct protocol ver in scsi response.
                            10613 ; 197  |#define BUILD_TYPE_UPDATER  0x100
                            10614 ; 198  |#define BUILD_TYPE_HOSTLINK 0x101
                            10615 ; 199  |#define BUILD_TYPE_PLAYER   0x102
                            10616 ; 200  |
                            10617 ; 201  |// Resets part if RETAIL build. DEBUG build executes debug instruction to halt.
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page  43

M:ADDR CODE           CYCLES LINE SOURCELINE
                            10618 ; 202  |#define SystemHalt() __asm(" include 'sysmacro.asm' \n error") 
                            10619 ; 203  |#define assert(x)    if(!(x)) __asm(" include 'sysmacro.asm' \n error")
                            10620 ; 204  |
                            10621 ; 205  |#if DEBUG
                            10622 ; 206  |// For DEBUG builds, DebugBuildAssert(condition) halts if condition evaluates to FALSE. 
                            10623 ; 207  |#define DebugBuildAssert(x)    if(!(x)) __asm(" debug ")
                            10624 ; 208  |#else 
                            10625 ; 209  |// For RETAIL builds, DebugBuildAssert(condition) does nothing & execution continues rather than halt or reset. 
                            10626 ; 210  |#define DebugBuildAssert(x)    
                            10627 ; 211  |#endif
                            10628 ; 212  |
                            10629 ; 213  |// Do this in your C files to make a reminder that's displayed during the build.
                            10630 ; 214  |//  #pragma asm
                            10631 ; 215  |//  WARN 'Note to builder: reminder to do this after verifying that'
                            10632 ; 216  |//  #pragma endasm
                            10633 ; 217  |
                            10634 ; 218  |
                            10635 ; 219  |#ifdef COLOR_262K
                            10636 ; 220  |#define RGB(r,g,b)    ((0x0000FC & (r)) << 10) | ((0x0000FC & (g)) << 4) | ((0x0000FC & (b)) >> 2)    //262k
                            10637 ; 221  |#elif defined(COLOR_65K)
                            10638 ; 222  |#define RGB(r,g,b)    ((0x0000F8 & (r)) << 8) | ((0x0000FC & (g)) << 3) | ((0x0000F8 & (b)) >> 3)  //65k
                            10639 ; 223  |#else
                            10640 ; 224  |#define RGB(r,g,b)       ((0x0000F0 & (r)) << 4) | (0x0000F0 & (g)) | ((0x0000F0 & (b)) >> 4)
                            10641 ; 225  |#endif
                            10642 ; 226  |    
                            10643 ; 227  |#endif // #ifndef _TYPES_H
                            10644 
                            10646 
                            10647 ; 29   |
                            10648 ; 30   |//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                            10649 ; 31   |//   TIMER STMP Registers 
                            10650 ; 32   |//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                            10651 ; 33   |#define HW_TMR_BASEADDR (0xF100)
                            10652 ; 34   |
                            10653 ; 35   |#define HW_TMR0_BASEADDR HW_TMR_BASEADDR
                            10654 ; 36   |#define HW_TMR1_BASEADDR HW_TMR_BASEADDR+0x40
                            10655 ; 37   |#define HW_TMR2_BASEADDR HW_TMR_BASEADDR+0x80
                            10656 ; 38   |#define HW_TMR3_BASEADDR HW_TMR_BASEADDR+0xC0
                            10657 ; 39   |
                            10658 ; 40   |#define HW_TIMER_NUMBER_0 0
                            10659 ; 41   |#define HW_TIMER_NUMBER_1 1
                            10660 ; 42   |#define HW_TIMER_NUMBER_2 2
                            10661 ; 43   |#define HW_TIMER_NUMBER_3 3
                            10662 ; 44   |
                            10663 ; 45   |#define HW_TMRCSR 0
                            10664 ; 46   |#define HW_TMRCNTR 1
                            10665 ; 47   |
                            10666 ; 48   |
                            10667 ; 49   |/////////////////////////////////////////////////////////////////////////////////
                            10668 ; 50   |//  TIMER CSR (HW_TMR0CSR) Bit Definitions
                            10669 ; 51   |#define HW_TMR0CSR_TIMER_ENABLE_BITPOS (0)
                            10670 ; 52   |#define HW_TMR0CSR_TIMER_INT_EN_BITPOS (1)
                            10671 ; 53   |#define HW_TMR0CSR_INVERT_BITPOS (2)
                            10672 ; 54   |#define HW_TMR0CSR_TIMER_CONTROL_BITPOS (3)
                            10673 ; 55   |#define HW_TMR0CSR_TIMER_STATUS_BITPOS (7)
                            10674 ; 56   |#define HW_TMR0CSR_TIMER_MODE_BITPOS (8)
                            10675 ; 57   |#define HW_TMR0CSR_CLKGT_BITPOS (23)
                            10676 ; 58   |
                            10677 ; 59   |#define HW_TMR0CSR_TIMER_ENABLE_WIDTH (1)
                            10678 ; 60   |#define HW_TMR0CSR_TIMER_INT_EN_WIDTH (1)
                            10679 ; 61   |#define HW_TMR0CSR_INVERT_WIDTH (1)
                            10680 ; 62   |#define HW_TMR0CSR_TIMER_CONTROL_WIDTH (3)
                            10681 ; 63   |#define HW_TMR0CSR_TIMER_STATUS_WIDTH (1)
                            10682 ; 64   |#define HW_TMR0CSR_TIMER_MODE_WIDTH (2)
                            10683 ; 65   |#define HW_TMR0CSR_CLKGT_WIDTH (1)
                            10684 ; 66   |
                            10685 ; 67   |#define HW_TMR0CSR_TIMER_ENABLE_SETMASK (((1<<HW_TMR0CSR_TIMER_ENABLE_WIDTH)-1)<<HW_TMR0CSR_TIMER_ENABLE_BITPOS)
                            10686 ; 68   |#define HW_TMR0CSR_TIMER_INT_EN_SETMASK (((1<<HW_TMR0CSR_TIMER_INT_EN_WIDTH)-1)<<HW_TMR0CSR_TIMER_INT_EN_BITPOS)
                            10687 ; 69   |#define HW_TMR0CSR_INVERT_SETMASK (((1<<HW_TMR0CSR_INVERT_WIDTH)-1)<<HW_TMR0CSR_INVERT_BITPOS)
                            10688 ; 70   |#define HW_TMR0CSR_TIMER_CONTROL_SETMASK (((1<<HW_TMR0CSR_TIMER_CONTROL_WIDTH)-1)<<HW_TMR0CSR_TIMER_CONTROL_BITPOS)
                            10689 ; 71   |#define HW_TMR0CSR_TIMER_STATUS_SETMASK (((1<<HW_TMR0CSR_TIMER_STATUS_WIDTH)-1)<<HW_TMR0CSR_TIMER_STATUS_BITPOS)
                            10690 ; 72   |#define HW_TMR0CSR_TIMER_MODE_SETMASK (((1<<HW_TMR0CSR_TIMER_MODE_WIDTH)-1)<<HW_TMR0CSR_TIMER_MODE_BITPOS)
                            10691 ; 73   |#define HW_TMR0CSR_CLKGT_SETMASK (((1<<HW_TMR0CSR_CLKGT_WIDTH)-1)<<HW_TMR0CSR_CLKGT_BITPOS)
                            10692 ; 74   |
                            10693 ; 75   |#define HW_TMR0CSR_TIMER_ENABLE_CLRMASK (~(WORD)HW_TMR0CSR_TIMER_ENABLE_SETMASK)
                            10694 ; 76   |#define HW_TMR0CSR_TIMER_INT_EN_CLRMASK (~(WORD)HW_TMR0CSR_TIMER_INT_EN_SETMASK)
                            10695 ; 77   |#define HW_TMR0CSR_INVERT_CLRMASK (~(WORD)HW_TMR0CSR_INVERT_SETMASK)
                            10696 ; 78   |#define HW_TMR0CSR_TIMER_CONTROL_CLRMASK (~(WORD)HW_TMR0CSR_TIMER_CONTROL_SETMASK)
                            10697 ; 79   |#define HW_TMR0CSR_TIMER_STATUS_CLRMASK (~(WORD)HW_TMR0CSR_TIMER_STATUS_SETMASK)
                            10698 ; 80   |#define HW_TMR0CSR_TIMER_MODE_CLRMASK (~(WORD)HW_TMR0CSR_TIMER_MODE_SETMASK)
                            10699 ; 81   |#define HW_TMR0CSR_CLKGT_CLRMASK (~(WORD)HW_TMR0CSR_CLKGT_SETMASK)
                            10700 ; 82   |
                            10701 ; 83   |/////////////////////////////////////////////////////////////////////////////////
                            10702 ; 84   |//  TIMER CSR (HW_TMR1CSR) Bit Definitions
                            10703 ; 85   |#define HW_TMR1CSR_TIMER_ENABLE_BITPOS (0)
                            10704 ; 86   |#define HW_TMR1CSR_TIMER_INT_EN_BITPOS (1)
                            10705 ; 87   |#define HW_TMR1CSR_INVERT_BITPOS (2)
                            10706 ; 88   |#define HW_TMR1CSR_TIMER_CONTROL_BITPOS (3)
                            10707 ; 89   |#define HW_TMR1CSR_TIMER_STATUS_BITPOS (7)
                            10708 ; 90   |#define HW_TMR1CSR_TIMER_MODE_BITPOS (8)
                            10709 ; 91   |#define HW_TMR1CSR_CLKGT_BITPOS (23)
                            10710 ; 92   |
                            10711 ; 93   |#define HW_TMR1CSR_TIMER_ENABLE_WIDTH (1)
                            10712 ; 94   |#define HW_TMR1CSR_TIMER_INT_EN_WIDTH (1)
                            10713 ; 95   |#define HW_TMR1CSR_INVERT_WIDTH (1)
                            10714 ; 96   |#define HW_TMR1CSR_TIMER_CONTROL_WIDTH (3)
                            10715 ; 97   |#define HW_TMR1CSR_TIMER_STATUS_WIDTH (1)
                            10716 ; 98   |#define HW_TMR1CSR_TIMER_MODE_WIDTH (2)
                            10717 ; 99   |#define HW_TMR1CSR_CLKGT_WIDTH (1)
                            10718 ; 100  |
                            10719 ; 101  |#define HW_TMR1CSR_TIMER_ENABLE_SETMASK (((1<<HW_TMR1CSR_TIMER_ENABLE_WIDTH)-1)<<HW_TMR1CSR_TIMER_ENABLE_BITPOS)
                            10720 ; 102  |#define HW_TMR1CSR_TIMER_INT_EN_SETMASK (((1<<HW_TMR1CSR_TIMER_INT_EN_WIDTH)-1)<<HW_TMR1CSR_TIMER_INT_EN_BITPOS)
                            10721 ; 103  |#define HW_TMR1CSR_INVERT_SETMASK (((1<<HW_TMR1CSR_INVERT_WIDTH)-1)<<HW_TMR1CSR_INVERT_BITPOS)
                            10722 ; 104  |#define HW_TMR1CSR_TIMER_CONTROL_SETMASK (((1<<HW_TMR1CSR_TIMER_CONTROL_WIDTH)-1)<<HW_TMR1CSR_TIMER_CONTROL_BITPOS)
                            10723 ; 105  |#define HW_TMR1CSR_TIMER_STATUS_SETMASK (((1<<HW_TMR1CSR_TIMER_STATUS_WIDTH)-1)<<HW_TMR1CSR_TIMER_STATUS_BITPOS)
                            10724 ; 106  |#define HW_TMR1CSR_TIMER_MODE_SETMASK (((1<<HW_TMR1CSR_TIMER_MODE_WIDTH)-1)<<HW_TMR1CSR_TIMER_MODE_BITPOS)
                            10725 ; 107  |#define HW_TMR1CSR_CLKGT_SETMASK (((1<<HW_TMR1CSR_CLKGT_WIDTH)-1)<<HW_TMR1CSR_CLKGT_BITPOS)
                            10726 ; 108  |
                            10727 ; 109  |#define HW_TMR1CSR_TIMER_ENABLE_CLRMASK (~(WORD)HW_TMR1CSR_TIMER_ENABLE_SETMASK)
                            10728 ; 110  |#define HW_TMR1CSR_TIMER_INT_EN_CLRMASK (~(WORD)HW_TMR1CSR_TIMER_INT_EN_SETMASK)
                            10729 ; 111  |#define HW_TMR1CSR_INVERT_CLRMASK (~(WORD)HW_TMR1CSR_INVERT_SETMASK)
                            10730 ; 112  |#define HW_TMR1CSR_TIMER_CONTROL_CLRMASK (~(WORD)HW_TMR1CSR_TIMER_CONTROL_SETMASK)
                            10731 ; 113  |#define HW_TMR1CSR_TIMER_STATUS_CLRMASK (~(WORD)HW_TMR1CSR_TIMER_STATUS_SETMASK)
                            10732 ; 114  |#define HW_TMR1CSR_TIMER_MODE_CLRMASK (~(WORD)HW_TMR1CSR_TIMER_MODE_SETMASK)
                            10733 ; 115  |#define HW_TMR1CSR_CLKGT_CLRMASK (~(WORD)HW_TMR1CSR_CLKGT_SETMASK)
                            10734 ; 116  |
                            10735 ; 117  |/////////////////////////////////////////////////////////////////////////////////
                            10736 ; 118  |//  TIMER CSR (HW_TMR2CSR) Bit Definitions
                            10737 ; 119  |#define HW_TMR2CSR_TIMER_ENABLE_BITPOS (0)
                            10738 ; 120  |#define HW_TMR2CSR_TIMER_INT_EN_BITPOS (1)
                            10739 ; 121  |#define HW_TMR2CSR_INVERT_BITPOS (2)
                            10740 ; 122  |#define HW_TMR2CSR_TIMER_CONTROL_BITPOS (3)
                            10741 ; 123  |#define HW_TMR2CSR_TIMER_STATUS_BITPOS (7)
                            10742 ; 124  |#define HW_TMR2CSR_TIMER_MODE_BITPOS (8)
                            10743 ; 125  |#define HW_TMR2CSR_CLKGT_BITPOS (23)
                            10744 ; 126  |
                            10745 ; 127  |#define HW_TMR2CSR_TIMER_ENABLE_WIDTH (1)
                            10746 ; 128  |#define HW_TMR2CSR_TIMER_INT_EN_WIDTH (1)
                            10747 ; 129  |#define HW_TMR2CSR_INVERT_WIDTH (1)
                            10748 ; 130  |#define HW_TMR2CSR_TIMER_CONTROL_WIDTH (3)
                            10749 ; 131  |#define HW_TMR2CSR_TIMER_STATUS_WIDTH (1)
                            10750 ; 132  |#define HW_TMR2CSR_TIMER_MODE_WIDTH (2)
                            10751 ; 133  |#define HW_TMR2CSR_CLKGT_WIDTH (1)
                            10752 ; 134  |
                            10753 ; 135  |#define HW_TMR2CSR_TIMER_ENABLE_SETMASK (((1<<HW_TMR2CSR_TIMER_ENABLE_WIDTH)-1)<<HW_TMR2CSR_TIMER_ENABLE_BITPOS)
                            10754 ; 136  |#define HW_TMR2CSR_TIMER_INT_EN_SETMASK (((1<<HW_TMR2CSR_TIMER_INT_EN_WIDTH)-1)<<HW_TMR2CSR_TIMER_INT_EN_BITPOS)
                            10755 ; 137  |#define HW_TMR2CSR_INVERT_SETMASK (((1<<HW_TMR2CSR_INVERT_WIDTH)-1)<<HW_TMR2CSR_INVERT_BITPOS)
                            10756 ; 138  |#define HW_TMR2CSR_TIMER_CONTROL_SETMASK (((1<<HW_TMR2CSR_TIMER_CONTROL_WIDTH)-1)<<HW_TMR2CSR_TIMER_CONTROL_BITPOS)
                            10757 ; 139  |#define HW_TMR2CSR_TIMER_STATUS_SETMASK (((1<<HW_TMR2CSR_TIMER_STATUS_WIDTH)-1)<<HW_TMR2CSR_TIMER_STATUS_BITPOS)
                            10758 ; 140  |#define HW_TMR2CSR_TIMER_MODE_SETMASK (((1<<HW_TMR2CSR_TIMER_MODE_WIDTH)-1)<<HW_TMR2CSR_TIMER_MODE_BITPOS)
                            10759 ; 141  |#define HW_TMR2CSR_CLKGT_SETMASK (((1<<HW_TMR2CSR_CLKGT_WIDTH)-1)<<HW_TMR2CSR_CLKGT_BITPOS)
                            10760 ; 142  |
                            10761 ; 143  |#define HW_TMR2CSR_TIMER_ENABLE_CLRMASK (~(WORD)HW_TMR2CSR_TIMER_ENABLE_SETMASK)
                            10762 ; 144  |#define HW_TMR2CSR_TIMER_INT_EN_CLRMASK (~(WORD)HW_TMR2CSR_TIMER_INT_EN_SETMASK)
                            10763 ; 145  |#define HW_TMR2CSR_INVERT_CLRMASK (~(WORD)HW_TMR2CSR_INVERT_SETMASK)
                            10764 ; 146  |#define HW_TMR2CSR_TIMER_CONTROL_CLRMASK (~(WORD)HW_TMR2CSR_TIMER_CONTROL_SETMASK)
                            10765 ; 147  |#define HW_TMR2CSR_TIMER_STATUS_CLRMASK (~(WORD)HW_TMR2CSR_TIMER_STATUS_SETMASK)
                            10766 ; 148  |#define HW_TMR2CSR_TIMER_MODE_CLRMASK (~(WORD)HW_TMR2CSR_TIMER_MODE_SETMASK)
                            10767 ; 149  |#define HW_TMR2CSR_CLKGT_CLRMASK (~(WORD)HW_TMR2CSR_CLKGT_SETMASK)
                            10768 ; 150  |
                            10769 ; 151  |/////////////////////////////////////////////////////////////////////////////////
                            10770 ; 152  |//  TIMER CSR (HW_TMR3CSR) Bit Definitions
                            10771 ; 153  |#define HW_TMR3CSR_TIMER_ENABLE_BITPOS (0)
                            10772 ; 154  |#define HW_TMR3CSR_TIMER_INT_EN_BITPOS (1)
                            10773 ; 155  |#define HW_TMR3CSR_INVERT_BITPOS (2)
                            10774 ; 156  |#define HW_TMR3CSR_TIMER_CONTROL_BITPOS (3)
                            10775 ; 157  |#define HW_TMR3CSR_TIMER_STATUS_BITPOS (7)
                            10776 ; 158  |#define HW_TMR3CSR_TIMER_MODE_BITPOS (8)
                            10777 ; 159  |#define HW_TMR3CSR_CLKGT_BITPOS (23)
                            10778 ; 160  |
                            10779 ; 161  |#define HW_TMR3CSR_TIMER_ENABLE_WIDTH (1)
                            10780 ; 162  |#define HW_TMR3CSR_TIMER_INT_EN_WIDTH (1)
                            10781 ; 163  |#define HW_TMR3CSR_INVERT_WIDTH (1)
                            10782 ; 164  |#define HW_TMR3CSR_TIMER_CONTROL_WIDTH (3)
                            10783 ; 165  |#define HW_TMR3CSR_TIMER_STATUS_WIDTH (1)
                            10784 ; 166  |#define HW_TMR3CSR_TIMER_MODE_WIDTH (2)
                            10785 ; 167  |#define HW_TMR3CSR_CLKGT_WIDTH (1)
                            10786 ; 168  |
                            10787 ; 169  |#define HW_TMR3CSR_TIMER_ENABLE_SETMASK (((1<<HW_TMR3CSR_TIMER_ENABLE_WIDTH)-1)<<HW_TMR3CSR_TIMER_ENABLE_BITPOS)
                            10788 ; 170  |#define HW_TMR3CSR_TIMER_INT_EN_SETMASK (((1<<HW_TMR3CSR_TIMER_INT_EN_WIDTH)-1)<<HW_TMR3CSR_TIMER_INT_EN_BITPOS)
                            10789 ; 171  |#define HW_TMR3CSR_INVERT_SETMASK (((1<<HW_TMR3CSR_INVERT_WIDTH)-1)<<HW_TMR3CSR_INVERT_BITPOS)
                            10790 ; 172  |#define HW_TMR3CSR_TIMER_CONTROL_SETMASK (((1<<HW_TMR3CSR_TIMER_CONTROL_WIDTH)-1)<<HW_TMR3CSR_TIMER_CONTROL_BITPOS)
                            10791 ; 173  |#define HW_TMR3CSR_TIMER_STATUS_SETMASK (((1<<HW_TMR3CSR_TIMER_STATUS_WIDTH)-1)<<HW_TMR3CSR_TIMER_STATUS_BITPOS)
                            10792 ; 174  |#define HW_TMR3CSR_TIMER_MODE_SETMASK (((1<<HW_TMR3CSR_TIMER_MODE_WIDTH)-1)<<HW_TMR3CSR_TIMER_MODE_BITPOS)
                            10793 ; 175  |#define HW_TMR3CSR_CLKGT_SETMASK (((1<<HW_TMR3CSR_CLKGT_WIDTH)-1)<<HW_TMR3CSR_CLKGT_BITPOS)
                            10794 ; 176  |
                            10795 ; 177  |#define HW_TMR3CSR_TIMER_ENABLE_CLRMASK (~(WORD)HW_TMR3CSR_TIMER_ENABLE_SETMASK)
                            10796 ; 178  |#define HW_TMR3CSR_TIMER_INT_EN_CLRMASK (~(WORD)HW_TMR3CSR_TIMER_INT_EN_SETMASK)
                            10797 ; 179  |#define HW_TMR3CSR_INVERT_CLRMASK (~(WORD)HW_TMR3CSR_INVERT_SETMASK)
                            10798 ; 180  |#define HW_TMR3CSR_TIMER_CONTROL_CLRMASK (~(WORD)HW_TMR3CSR_TIMER_CONTROL_SETMASK)
                            10799 ; 181  |#define HW_TMR3CSR_TIMER_STATUS_CLRMASK (~(WORD)HW_TMR3CSR_TIMER_STATUS_SETMASK)
                            10800 ; 182  |#define HW_TMR3CSR_TIMER_MODE_CLRMASK (~(WORD)HW_TMR3CSR_TIMER_MODE_SETMASK)
                            10801 ; 183  |#define HW_TMR3CSR_CLKGT_CLRMASK (~(WORD)HW_TMR3CSR_CLKGT_SETMASK)
                            10802 ; 184  |
                            10803 ; 185  |typedef union               
                            10804 ; 186  |{
                            10805 ; 187  |    struct {
                            10806 ; 188  |       int TIMER_ENABLE              :1;
                            10807 ; 189  |       int TIMER_INT_EN              :1;
                            10808 ; 190  |       int INVERT                    :1;
                            10809 ; 191  |       int TIMER_CONTROL             :3;
                            10810 ; 192  |       int RSVD0                     :1;
                            10811 ; 193  |       int TIMER_STATUS              :1;
                            10812 ; 194  |       int TIMER_MODE                :2;
                            10813 ; 195  |       int RSVD1                     :13;
                            10814 ; 196  |       int CLKGT                     :1;
                            10815 ; 197  |    } B;
                            10816 ; 198  |    int I;
                            10817 ; 199  |} timercsr_type;
                            10818 ; 200  |#define HW_TMR0CSR        (*(volatile timercsr_type _X*) (HW_TMR0_BASEADDR+HW_TMRCSR))  /* Timer0 Control Status Register */
                            10819 ; 201  |#define HW_TMR1CSR        (*(volatile timercsr_type _X*) (HW_TMR1_BASEADDR+HW_TMRCSR))  /* Timer1 Control Status Register */
                            10820 ; 202  |#define HW_TMR2CSR        (*(volatile timercsr_type _X*) (HW_TMR2_BASEADDR+HW_TMRCSR))  /* Timer2 Control Status Register */
                            10821 ; 203  |#define HW_TMR3CSR        (*(volatile timercsr_type _X*) (HW_TMR3_BASEADDR+HW_TMRCSR))  /* Timer3 Control Status Register */
                            10822 ; 204  |
                            10823 ; 205  |/////////////////////////////////////////////////////////////////////////////////
                            10824 ; 206  |//  TIMER CNTR register (HW_TMR0CNTR) Bit Definitions
                            10825 ; 207  |#define HW_TMR0CNTR_COUNT_BITPOS 0
                            10826 ; 208  |#define HW_TMR0CNTR_COUNT_WIDTH 24
                            10827 ; 209  |#define HW_TMR0CNTR_COUNT_SETMASK (((1<<HW_TMR0CNTR_COUNT_WIDTH)-1)<<HW_TMR0CNTR_COUNT_BITPOS)
                            10828 ; 210  |#define HW_TMR0CNTR_COUNT_CLRMASK (~(WORD)HW_TMR0CNTR_COUNT_SETMASK)
                            10829 ; 211  |
                            10830 ; 212  |/////////////////////////////////////////////////////////////////////////////////
                            10831 ; 213  |//  TIMER CNTR register (HW_TMR1CNTR) Bit Definitions
                            10832 ; 214  |#define HW_TMR1CNTR_COUNT_BITPOS 0
                            10833 ; 215  |#define HW_TMR1CNTR_COUNT_WIDTH 24
                            10834 ; 216  |#define HW_TMR1CNTR_COUNT_SETMASK (((1<<HW_TMR1CNTR_COUNT_WIDTH)-1)<<HW_TMR1CNTR_COUNT_BITPOS)
                            10835 ; 217  |#define HW_TMR1CNTR_COUNT_CLRMASK (~(WORD)HW_TMR1CNTR_COUNT_SETMASK)
                            10836 ; 218  |
                            10837 ; 219  |/////////////////////////////////////////////////////////////////////////////////
                            10838 ; 220  |//  TIMER CNTR register (HW_TMR2CNTR) Bit Definitions
                            10839 ; 221  |#define HW_TMR2CNTR_COUNT_BITPOS 0
                            10840 ; 222  |#define HW_TMR2CNTR_COUNT_WIDTH 24
                            10841 ; 223  |#define HW_TMR2CNTR_COUNT_SETMASK (((1<<HW_TMR2CNTR_COUNT_WIDTH)-1)<<HW_TMR2CNTR_COUNT_BITPOS)
                            10842 ; 224  |#define HW_TMR2CNTR_COUNT_CLRMASK (~(WORD)HW_TMR2CNTR_COUNT_SETMASK)
                            10843 ; 225  |
                            10844 ; 226  |typedef union               
                            10845 ; 227  |{
                            10846 ; 228  |    struct {
                            10847 ; 229  |       int COUNT                    :24;
                            10848 ; 230  |    } B;
                            10849 ; 231  |    int I;
                            10850 ; 232  |} tmrcntr_type;
                            10851 ; 233  |#define HW_TMR0CNTR        (*(volatile tmrcntr_type _X*) (HW_TMR0_BASEADDR+HW_TMRCNTR))  /* Timer0 Count Register */
                            10852 ; 234  |#define HW_TMR1CNTR        (*(volatile tmrcntr_type _X*) (HW_TMR1_BASEADDR+HW_TMRCNTR))  /* Timer1 Count Register */
                            10853 ; 235  |#define HW_TMR2CNTR        (*(volatile tmrcntr_type _X*) (HW_TMR2_BASEADDR+HW_TMRCNTR))  /* Timer2 Count Register */
                            10854 ; 236  |#define HW_TMR3CNTR        (*(volatile tmrcntr_type _X*) (HW_TMR3_BASEADDR+HW_TMRCNTR))  /* Timer3 Count Register */
                            10855 ; 237  |
                            10856 ; 238  |
                            10857 ; 239  |//*********************  REGISTER ALIAS DEFINES TO MATCH LEGACY CODE *******************************
                            10858 ; 240  |// The following defines were added to match regs3410.inc definition to build SDK2XXX code without needing 
                            10859 ; 241  |// to update the actual files. Only the defines needed to build SDK2.400 were added.   
                            10860 ; 242  |#define HW_TIMER_BASEADDR 0xF100
                            10861 ; 243  |
                            10862 ; 244  |#define HW_TIMER0_BASEADDR HW_TIMER_BASEADDR
                            10863 ; 245  |#define HW_TIMER1_BASEADDR HW_TIMER0_BASEADDR+0x40
                            10864 ; 246  |#define HW_TIMER2_BASEADDR HW_TIMER1_BASEADDR+0x40
                            10865 ; 247  |#define HW_TIMER3_BASEADDR HW_TIMER2_BASEADDR+0x40
                            10866 ; 248  |
                            10867 ; 249  |#define HW_TMR0CR HW_TMR0_BASEADDR
                            10868 ; 250  |#define HW_TMR1CR HW_TMR1_BASEADDR
                            10869 ; 251  |#define HW_TMR2CR HW_TMR2_BASEADDR
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page  44

M:ADDR CODE           CYCLES LINE SOURCELINE
                            10870 ; 252  |#define HW_TMR3CR HW_TIMER3_BASEADDR
                            10871 ; 253  |
                            10872 ; 254  |// Timer enable
                            10873 ; 255  |#define HW_TMRCR_TE_BITPOS 0   
                            10874 ; 256  |// Timer clock gating control
                            10875 ; 257  |#define HW_TMR3CR_CG_BITPOS 23  
                            10876 ; 258  |#define HW_TMR3CR_CG_SETMASK 1<<HW_TMR3CR_CG_BITPOS
                            10877 ; 259  |#define HW_TMR3CR_CG_CLRMASK ~(WORD)HW_TMR3CR_CG_SETMASK
                            10878 ; 260  |#endif
                            10879 ; 261  |
                            10880 ; 262  |
                            10881 ; 263  |
                            10882 ; 264  |
                            10883 
                            10885 
                            10886 ; 36   |#include "regsusb20.h"
                            10887 
                            10889 
                            10890 ; 1    |//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                            10891 ; 2    |//;  Copyright(C) SigmaTel, Inc. 2002-2003
                            10892 ; 3    |//;  File        : regsusb20ip.inc
                            10893 ; 4    |//;  Description : USB20 IP Register definition
                            10894 ; 5    |//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                            10895 ; 6    |
                            10896 ; 7    |// The following naming conventions are followed in this file.
                            10897 ; 8    |// All registers are named using the format...
                            10898 ; 9    |//     HW_<module>_<regname>
                            10899 ; 10   |// where <module> is the module name which can be any of the following...
                            10900 ; 11   |//     USB20
                            10901 ; 12   |// (Note that when there is more than one copy of a particular module, the
                            10902 ; 13   |// module name includes a number starting from 0 for the first instance of
                            10903 ; 14   |// that module)
                            10904 ; 15   |// <regname> is the specific register within that module
                            10905 ; 16   |// We also define the following...
                            10906 ; 17   |//     HW_<module>_<regname>_BITPOS
                            10907 ; 18   |// which defines the starting bit (i.e. LSB) of a multi bit field
                            10908 ; 19   |//     HW_<module>_<regname>_SETMASK
                            10909 ; 20   |// which does something else, and
                            10910 ; 21   |//     HW_<module>_<regname>_CLRMASK
                            10911 ; 22   |// which does something else.
                            10912 ; 23   |// Other rules
                            10913 ; 24   |//     All caps
                            10914 ; 25   |//     Numeric identifiers start at 0
                            10915 ; 26   |
                            10916 ; 27   |#if !(defined(regsusb20inc))
                            10917 ; 28   |#define regsusb20inc 1
                            10918 ; 29   |
                            10919 ; 30   |#include "types.h"
                            10920 
                            10922 
                            10923 ; 1    |////////////////////////////////////////////////////////////////////////////////
                            10924 ; 2    |// Copyright(C) SigmaTel, Inc. 2000-2004
                            10925 ; 3    |//
                            10926 ; 4    |// Filename: types.h
                            10927 ; 5    |// Description: Standard data types
                            10928 ; 6    |////////////////////////////////////////////////////////////////////////////////
                            10929 ; 7    |
                            10930 ; 8    |#ifndef _TYPES_H
                            10931 ; 9    |#define _TYPES_H
                            10932 ; 10   |
                            10933 ; 11   |// TODO:  move this outta here!
                            10934 ; 12   |#if !defined(NOERROR)
                            10935 ; 13   |#define NOERROR 0
                            10936 ; 14   |#define SUCCESS 0
                            10937 ; 15   |#endif 
                            10938 ; 16   |#if !defined(SUCCESS)
                            10939 ; 17   |#define SUCCESS  0
                            10940 ; 18   |#endif
                            10941 ; 19   |#if !defined(ERROR)
                            10942 ; 20   |#define ERROR   -1
                            10943 ; 21   |#endif
                            10944 ; 22   |#if !defined(FALSE)
                            10945 ; 23   |#define FALSE 0
                            10946 ; 24   |#endif
                            10947 ; 25   |#if !defined(TRUE)
                            10948 ; 26   |#define TRUE  1
                            10949 ; 27   |#endif
                            10950 ; 28   |
                            10951 ; 29   |#if !defined(NULL)
                            10952 ; 30   |#define NULL 0
                            10953 ; 31   |#endif
                            10954 ; 32   |
                            10955 ; 33   |#define MAX_INT     0x7FFFFF
                            10956 ; 34   |#define MAX_LONG    0x7FFFFFffffff
                            10957 ; 35   |        // max positive unsigned long value: -1 == 0xFFFFFFffffff
                            10958 ; 36   |#define MAX_ULONG   (-1) 
                            10959 ; 37   |
                            10960 ; 38   |#define WORD_SIZE   24              // word size in bits
                            10961 ; 39   |#define BYTES_PER_WORD 3            // 8 bit bytes
                            10962 ; 40   |
                            10963 ; 41   |
                            10964 ; 42   |#define BYTE    unsigned char       // btVarName
                            10965 ; 43   |#define CHAR    signed char         // cVarName
                            10966 ; 44   |#define USHORT  unsigned short      // usVarName
                            10967 ; 45   |#define SHORT   unsigned short      // sVarName
                            10968 ; 46   |#define WORD    unsigned int        // wVarName
                            10969 ; 47   |#define INT     signed int          // iVarName
                            10970 ; 48   |#define DWORD   unsigned long       // dwVarName
                            10971 ; 49   |#define LONG    signed long         // lVarName
                            10972 ; 50   |#define BOOL    unsigned int        // bVarName
                            10973 ; 51   |#define FRACT   _fract              // frVarName
                            10974 ; 52   |#define LFRACT  long _fract         // lfrVarName
                            10975 ; 53   |#define CIRC    _circ               // cp<type prefix>VarName (see below)
                            10976 ; 54   |#define FLOAT   float               // fVarName
                            10977 ; 55   |#define DBL     double              // dVarName
                            10978 ; 56   |#define ENUM    enum                // eVarName
                            10979 ; 57   |#define CMX     _complex            // cmxVarName
                            10980 ; 58   |typedef WORD UCS3;                   // 
                            10981 ; 59   |
                            10982 ; 60   |#define UINT16  unsigned short
                            10983 ; 61   |#define UINT8   unsigned char   
                            10984 ; 62   |#define UINT32  unsigned long
                            10985 ; 63   |#define UINT64  unsigned long   // need to figure out how to do 64 bit values.  Or port exisiting code to only use 48 bit
                            10986 ; 64   |#define INT64   unsigned long   // need to figure out how to do 64 bit values.  Or port exisiting code to only use 48 bit
                            10987 ; 65   |#define WCHAR   UINT16
                            10988 ; 66   |
                            10989 ; 67   |//UINT128 is 16 bytes or 6 words
                            10990 ; 68   |typedef struct UINT128_3500 {   
                            10991 ; 69   |    int val[6];     
                            10992 ; 70   |} UINT128_3500;
                            10993 ; 71   |
                            10994 ; 72   |#define UINT128   UINT128_3500
                            10995 ; 73   |
                            10996 ; 74   |// Little endian word packed byte strings:   
                            10997 ; 75   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                            10998 ; 76   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                            10999 ; 77   |// Little endian word packed byte strings:   
                            11000 ; 78   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                            11001 ; 79   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                            11002 ; 80   |
                            11003 ; 81   |// Declare Memory Spaces To Use When Coding
                            11004 ; 82   |// A. Sector Buffers
                            11005 ; 83   |#define SECTOR_BUFFER_MEM_X _X
                            11006 ; 84   |#define SECTOR_BUFFER_MEM_Y _Y
                            11007 ; 85   |#define SECTOR_BUFFER_MEM SECTOR_BUFFER_MEM_X
                            11008 ; 86   |typedef WORD SECTOR_BUFFER_MEM SECTOR_BUFFER;
                            11009 ; 87   |typedef SECTOR_BUFFER * P_SECTOR_BUFFER;
                            11010 ; 88   |// B. Media DDI Memory
                            11011 ; 89   |#define MEDIA_DDI_MEM _Y
                            11012 ; 90   |
                            11013 ; 91   |
                            11014 ; 92   |
                            11015 ; 93   |// Pointers to linear structures are labeled as: p<type prefix>VarName
                            11016 ; 94   |// Examples of circular pointers:
                            11017 ; 95   |//    INT CIRC cpiVarName
                            11018 ; 96   |//    DWORD CIRC cpdwVarName
                            11019 ; 97   |
                            11020 ; 98   |#define RETCODE INT                 // rcVarName
                            11021 ; 99   |
                            11022 ; 100  |// generic bitfield structure
                            11023 ; 101  |struct Bitfield {
                            11024 ; 102  |    unsigned int B0  :1;
                            11025 ; 103  |    unsigned int B1  :1;
                            11026 ; 104  |    unsigned int B2  :1;
                            11027 ; 105  |    unsigned int B3  :1;
                            11028 ; 106  |    unsigned int B4  :1;
                            11029 ; 107  |    unsigned int B5  :1;
                            11030 ; 108  |    unsigned int B6  :1;
                            11031 ; 109  |    unsigned int B7  :1;
                            11032 ; 110  |    unsigned int B8  :1;
                            11033 ; 111  |    unsigned int B9  :1;
                            11034 ; 112  |    unsigned int B10 :1;
                            11035 ; 113  |    unsigned int B11 :1;
                            11036 ; 114  |    unsigned int B12 :1;
                            11037 ; 115  |    unsigned int B13 :1;
                            11038 ; 116  |    unsigned int B14 :1;
                            11039 ; 117  |    unsigned int B15 :1;
                            11040 ; 118  |    unsigned int B16 :1;
                            11041 ; 119  |    unsigned int B17 :1;
                            11042 ; 120  |    unsigned int B18 :1;
                            11043 ; 121  |    unsigned int B19 :1;
                            11044 ; 122  |    unsigned int B20 :1;
                            11045 ; 123  |    unsigned int B21 :1;
                            11046 ; 124  |    unsigned int B22 :1;
                            11047 ; 125  |    unsigned int B23 :1;
                            11048 ; 126  |};
                            11049 ; 127  |
                            11050 ; 128  |union BitInt {
                            11051 ; 129  |        struct Bitfield B;
                            11052 ; 130  |        int        I;
                            11053 ; 131  |};
                            11054 ; 132  |
                            11055 ; 133  |#define MAX_MSG_LENGTH 10
                            11056 ; 134  |struct CMessage
                            11057 ; 135  |{
                            11058 ; 136  |        unsigned int m_uLength;
                            11059 ; 137  |        unsigned int m_uMsg[MAX_MSG_LENGTH];
                            11060 ; 138  |};
                            11061 ; 139  |
                            11062 ; 140  |typedef struct {
                            11063 ; 141  |    WORD m_wLength;
                            11064 ; 142  |    WORD m_wMessage;
                            11065 ; 143  |    WORD m_wParams[MAX_MSG_LENGTH];
                            11066 ; 144  |} Message;
                            11067 ; 145  |
                            11068 ; 146  |struct MessageQueueDescriptor
                            11069 ; 147  |{
                            11070 ; 148  |        int *m_pBase;
                            11071 ; 149  |        int m_iModulo;
                            11072 ; 150  |        int m_iSize;
                            11073 ; 151  |        int *m_pHead;
                            11074 ; 152  |        int *m_pTail;
                            11075 ; 153  |};
                            11076 ; 154  |
                            11077 ; 155  |struct ModuleEntry
                            11078 ; 156  |{
                            11079 ; 157  |    int m_iSignaledEventMask;
                            11080 ; 158  |    int m_iWaitEventMask;
                            11081 ; 159  |    int m_iResourceOfCode;
                            11082 ; 160  |    struct MessageQueueDescriptor *m_pMessageQueue;
                            11083 ; 161  |    int _asmfunc (*m_pProcessEntryPoint)(union WaitMask Signals,struct MessageQueueDescriptor *);
                            11084 ; 162  |    int _asmfunc (*m_pInitFunction)(struct MessageQueueDescriptor *);
                            11085 ; 163  |    int m_uTimeOutHigh;
                            11086 ; 164  |    int m_uTimeOutLow;
                            11087 ; 165  |    int _asmfunc (*m_pBackgroundFunction)(struct MessageQueueDescriptor *);
                            11088 ; 166  |};
                            11089 ; 167  |
                            11090 ; 168  |union WaitMask{
                            11091 ; 169  |    struct B{
                            11092 ; 170  |        unsigned int m_bNone     :1;
                            11093 ; 171  |        unsigned int m_bMessage  :1;
                            11094 ; 172  |        unsigned int m_bTimer    :1;
                            11095 ; 173  |        unsigned int m_bButton   :1;
                            11096 ; 174  |    } B;
                            11097 ; 175  |    int I;
                            11098 ; 176  |} ;
                            11099 ; 177  |
                            11100 ; 178  |
                            11101 ; 179  |struct Button {
                            11102 ; 180  |        WORD wButtonEvent;
                            11103 ; 181  |        WORD wUnused[MAX_MSG_LENGTH];   
                            11104 ; 182  |};
                            11105 ; 183  |
                            11106 ; 184  |struct Message {
                            11107 ; 185  |        WORD wMsgLength;
                            11108 ; 186  |        WORD wMsgCommand;
                            11109 ; 187  |        WORD wMsgParms[MAX_MSG_LENGTH-1];
                            11110 ; 188  |};
                            11111 ; 189  |
                            11112 ; 190  |union EventTypes {
                            11113 ; 191  |        struct CMessage msg;
                            11114 ; 192  |        struct Button Button ;
                            11115 ; 193  |        struct Message Message;
                            11116 ; 194  |};
                            11117 ; 195  |
                            11118 ; 196  |// next 2 used to get updater build to return correct protocol ver in scsi response.
                            11119 ; 197  |#define BUILD_TYPE_UPDATER  0x100
                            11120 ; 198  |#define BUILD_TYPE_HOSTLINK 0x101
                            11121 ; 199  |#define BUILD_TYPE_PLAYER   0x102
                            11122 ; 200  |
                            11123 ; 201  |// Resets part if RETAIL build. DEBUG build executes debug instruction to halt.
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page  45

M:ADDR CODE           CYCLES LINE SOURCELINE
                            11124 ; 202  |#define SystemHalt() __asm(" include 'sysmacro.asm' \n error") 
                            11125 ; 203  |#define assert(x)    if(!(x)) __asm(" include 'sysmacro.asm' \n error")
                            11126 ; 204  |
                            11127 ; 205  |#if DEBUG
                            11128 ; 206  |// For DEBUG builds, DebugBuildAssert(condition) halts if condition evaluates to FALSE. 
                            11129 ; 207  |#define DebugBuildAssert(x)    if(!(x)) __asm(" debug ")
                            11130 ; 208  |#else 
                            11131 ; 209  |// For RETAIL builds, DebugBuildAssert(condition) does nothing & execution continues rather than halt or reset. 
                            11132 ; 210  |#define DebugBuildAssert(x)    
                            11133 ; 211  |#endif
                            11134 ; 212  |
                            11135 ; 213  |// Do this in your C files to make a reminder that's displayed during the build.
                            11136 ; 214  |//  #pragma asm
                            11137 ; 215  |//  WARN 'Note to builder: reminder to do this after verifying that'
                            11138 ; 216  |//  #pragma endasm
                            11139 ; 217  |
                            11140 ; 218  |
                            11141 ; 219  |#ifdef COLOR_262K
                            11142 ; 220  |#define RGB(r,g,b)    ((0x0000FC & (r)) << 10) | ((0x0000FC & (g)) << 4) | ((0x0000FC & (b)) >> 2)    //262k
                            11143 ; 221  |#elif defined(COLOR_65K)
                            11144 ; 222  |#define RGB(r,g,b)    ((0x0000F8 & (r)) << 8) | ((0x0000FC & (g)) << 3) | ((0x0000F8 & (b)) >> 3)  //65k
                            11145 ; 223  |#else
                            11146 ; 224  |#define RGB(r,g,b)       ((0x0000F0 & (r)) << 4) | (0x0000F0 & (g)) | ((0x0000F0 & (b)) >> 4)
                            11147 ; 225  |#endif
                            11148 ; 226  |    
                            11149 ; 227  |#endif // #ifndef _TYPES_H
                            11150 
                            11152 
                            11153 ; 31   |
                            11154 ; 32   |//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                            11155 ; 33   |//   USB2.0 STMP Registers 
                            11156 ; 34   |//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                            11157 ; 35   |#define HW_USB_BASEADDR (0xF200)
                            11158 ; 36   |
                            11159 ; 37   |
                            11160 ; 38   |/////////////////////////////////////////////////////////////////////////////////
                            11161 ; 39   |//  USB Control Status Register (HW_USBCSR) Bit Definitions
                            11162 ; 40   |#define HW_USBCSR_USBEN_BITPOS (0)
                            11163 ; 41   |#define HW_USBCSR_WAKEUPIRQ_BITPOS (1)
                            11164 ; 42   |#define HW_USBCSR_WAKEUPIE_BITPOS (2)
                            11165 ; 43   |#define HW_USBCSR_VBUSCXIRQ_BITPOS (3)
                            11166 ; 44   |#define HW_USBCSR_VBUSCXIE_BITPOS (4)
                            11167 ; 45   |#define HW_USBCSR_VBUSDISCXIRQ_BITPOS (5)
                            11168 ; 46   |#define HW_USBCSR_VBUSDISCXIE_BITPOS (6)
                            11169 ; 47   |#define HW_USBCSR_CLKOFF_BITPOS (7)
                            11170 ; 48   |#define HW_USBCSR_SUSP_BITPOS (8)
                            11171 ; 49   |#define HW_USBCSR_SUSPF_BITPOS (9)
                            11172 ; 50   |#define HW_USBCSR_UTMITST_BITPOS (10)
                            11173 ; 51   |#define HW_USBCSR_UTMI_EXT_BITPOS (11)
                            11174 ; 52   |#define HW_USBCSR_PLUGGEDIN_EN_BITPOS (12)
                            11175 ; 53   |#define HW_USBCSR_PLUGGEDIN_BITPOS (13)
                            11176 ; 54   |#define HW_USBCSR_HOSTDISCONNECT_BITPOS (22)
                            11177 ; 55   |#define HW_USBCSR_VBUSSENSE_BITPOS (23)
                            11178 ; 56   |
                            11179 ; 57   |#define HW_USBCSR_USBEN_SETMASK (1<<HW_USBCSR_USBEN_BITPOS)        
                            11180 ; 58   |#define HW_USBCSR_WAKEUPIRQ_SETMASK (1<<HW_USBCSR_WAKEUPIRQ_BITPOS) 
                            11181 ; 59   |#define HW_USBCSR_WAKEUPIE_SETMASK (1<<HW_USBCSR_WAKEUPIE_BITPOS)  
                            11182 ; 60   |#define HW_USBCSR_VBUSCXIRQ_SETMASK (1<<HW_USBCSR_VBUSCXIRQ_BITPOS)
                            11183 ; 61   |#define HW_USBCSR_VBUSCXIE_SETMASK (1<<HW_USBCSR_VBUSCXIE_BITPOS)
                            11184 ; 62   |#define HW_USBCSR_VBUSDISCXIRQ_SETMASK (1<<HW_USBCSR_VBUSDISCXIRQ_BITPOS)
                            11185 ; 63   |#define HW_USBCSR_VBUSDISCXIE_SETMASK (1<<HW_USBCSR_VBUSDISCXIE_BITPOS)
                            11186 ; 64   |#define HW_USBCSR_CLKOFF_SETMASK (1<<HW_USBCSR_CLKOFF_BITPOS)    
                            11187 ; 65   |#define HW_USBCSR_SUSP_SETMASK (1<<HW_USBCSR_SUSP_BITPOS)      
                            11188 ; 66   |#define HW_USBCSR_SUSPF_SETMASK (1<<HW_USBCSR_SUSPF_BITPOS)     
                            11189 ; 67   |#define HW_USBCSR_UTMITST_SETMASK (1<<HW_USBCSR_UTMITST_BITPOS)   
                            11190 ; 68   |#define HW_USBCSR_UTMI_EXT_SETMASK (1<<HW_USBCSR_UTMI_EXT_BITPOS)
                            11191 ; 69   |#define HW_USBCSR_VBUSSENSE_SETMASK (1<<HW_USBCSR_VBUSSENSE_BITPOS)
                            11192 ; 70   |
                            11193 ; 71   |
                            11194 ; 72   |#define HW_USBCSR_USBEN_CLRMASK (~(WORD)HW_USBCSR_USBEN_SETMASK)     
                            11195 ; 73   |#define HW_USBCSR_WAKEUPIRQ_CLRMASK (~(WORD)HW_USBCSR_WAKEUPIRQ_SETMASK) 
                            11196 ; 74   |#define HW_USBCSR_WAKEUPIE_CLRMASK (~(WORD)HW_USBCSR_WAKEUPIE_SETMASK)  
                            11197 ; 75   |#define HW_USBCSR_VBUSCXIRQ_CLRMASK (~(WORD)HW_USBCSR_VBUSCXIRQ_SETMASK)
                            11198 ; 76   |#define HW_USBCSR_VBUSCXIE_CLRMASK (~(WORD)HW_USBCSR_VBUSCXIE_SETMASK)
                            11199 ; 77   |#define HW_USBCSR_VBUSDISCXIRQ_CLRMASK (~(WORD)HW_USBCSR_VBUSDISCXIRQ_SETMASK)
                            11200 ; 78   |#define HW_USBCSR_VBUSDISCXIE_CLRMASK (~(WORD)HW_USBCSR_VBUSDISCXIE_SETMASK) 
                            11201 ; 79   |#define HW_USBCSR_CLKOFF_CLRMASK (~(WORD)HW_USBCSR_CLKOFF_SETMASK)    
                            11202 ; 80   |#define HW_USBCSR_SUSP_CLRMASK (~(WORD)HW_USBCSR_SUSP_SETMASK)      
                            11203 ; 81   |#define HW_USBCSR_SUSPF_CLRMASK (~(WORD)HW_USBCSR_SUSPF_SETMASK)     
                            11204 ; 82   |#define HW_USBCSR_UTMITST_CLRMASK (~(WORD)HW_USBCSR_UTMITST_SETMASK)   
                            11205 ; 83   |#define HW_USBCSR_UTMI_EXT_CLRMASK (~(WORD)HW_USBCSR_UTMI_EXT_SETMASK) 
                            11206 ; 84   |#define HW_USBCSR_VBUSSENSE_CLRMASK (~(WORD)HW_USBCSR_VBUSSENSE_SETMASK) 
                            11207 ; 85   |
                            11208 ; 86   |typedef union               
                            11209 ; 87   |{
                            11210 ; 88   |    struct {
                            11211 ; 89   |        int USBEN          :1;
                            11212 ; 90   |        int WAKEUPIRQ      :1;
                            11213 ; 91   |        int WAKEUPIE       :1;
                            11214 ; 92   |        int VBUSCXIRQ      :1;
                            11215 ; 93   |        int VBUSCXIE       :1;
                            11216 ; 94   |        int VBUSDISCXIRQ   :1;
                            11217 ; 95   |        int VBUSDISCXIE    :1;
                            11218 ; 96   |        int CLKOFF         :1;
                            11219 ; 97   |        int SUSP           :1;
                            11220 ; 98   |        int SUSPF          :1;
                            11221 ; 99   |        int UTMITST        :1;
                            11222 ; 100  |        int ARCCONNECT     :1;
                            11223 ; 101  |        int PLUGGEDIN_EN   :1;
                            11224 ; 102  |        int PLUGGEDIN      :1;
                            11225 ; 103  |        int                :8;
                            11226 ; 104  |        int HOSTDISCONNECT :1;
                            11227 ; 105  |        int VBUSSENSE      :1;
                            11228 ; 106  |    } B;
                            11229 ; 107  |    int I;
                            11230 ; 108  |} usbcsr_type;
                            11231 ; 109  |#define HW_USBCSR      (*(volatile usbcsr_type _X*) (HW_USB_BASEADDR))    /* USB Control / Status Register */
                            11232 ; 110  |
                            11233 ; 111  |/////////////////////////////////////////////////////////////////////////////////
                            11234 ; 112  |//  USB DMA OFFSET register (HW_USBDMAOFF) Bit Definitions
                            11235 ; 113  |#define HW_USBDMAOFF_MEM_BITPOS (16)
                            11236 ; 114  |
                            11237 ; 115  |#define HW_USBDMAOFF_ADD_SETMASK (0x00FFFF)
                            11238 ; 116  |#define HW_USBDMAOFF_MEM_SETMASK (3<<HW_USBDMAOFF_MEM_BITPOS)
                            11239 ; 117  |
                            11240 ; 118  |#define HW_USBDMAOFF_ADD_CLRMASK (~(WORD)HW_USBDMAOFF_ADD_SETMASK)
                            11241 ; 119  |#define HW_USBDMAOFF_MEM_CLRMASK (~(WORD)HW_USBDMAOFF_MEM_SETMASK)
                            11242 ; 120  |
                            11243 ; 121  |typedef union               
                            11244 ; 122  |{
                            11245 ; 123  |    struct {
                            11246 ; 124  |        int ADD            :16;
                            11247 ; 125  |        int MEM            :2;
                            11248 ; 126  |        int                :6;
                            11249 ; 127  |    } B;
                            11250 ; 128  |    int I;
                            11251 ; 129  |} usbdmaoff_type;
                            11252 ; 130  |#define HW_USBDMAOFF      (*(volatile usbdmaoff_type _X*) (HW_USB_BASEADDR+1))    
                            11253 ; 131  |
                            11254 ; 132  |/////////////////////////////////////////////////////////////////////////////////
                            11255 ; 133  |//  USB ARC ACCESS register (HW_USBARCACCESS) Bit Definitions
                            11256 ; 134  |#define HW_USBARCACCESS_RWB_BITPOS (16)
                            11257 ; 135  |#define HW_USBARCACCESS_KICK_BITPOS (23)
                            11258 ; 136  |
                            11259 ; 137  |#define HW_USBARCACCESS_ADD_SETMASK (0x0001FF)
                            11260 ; 138  |#define HW_USBARCACCESS_RWB_SETMASK (1<<HW_USBARCACCESS_RWB_BITPOS)
                            11261 ; 139  |#define HW_USBARCACCESS_KICK_SETMASK (23<<HW_USBDMAOFF_MEM_BITPOS)
                            11262 ; 140  |
                            11263 ; 141  |#define HW_USBARCACCESS_ADD_CLRMASK (~(WORD)HW_USBARCACCESS_ADD_SETMASK)
                            11264 ; 142  |#define HW_USBARCACCESS_RWB_CLRMASK (~(WORD)HW_USBARCACCESS_RWB_SETMASK) 
                            11265 ; 143  |#define HW_USBARCACCESS_KICK_CLRMASK (~(WORD)HW_USBARCACCESS_KICK_SETMASK)
                            11266 ; 144  |
                            11267 ; 145  |typedef union               
                            11268 ; 146  |{
                            11269 ; 147  |    struct {
                            11270 ; 148  |        int ADD            :9;
                            11271 ; 149  |        int                :7;
                            11272 ; 150  |        int RWB            :1;
                            11273 ; 151  |        int                :14;
                            11274 ; 152  |        int KICK           :1;
                            11275 ; 153  |    } B;
                            11276 ; 154  |    int I;
                            11277 ; 155  |} usbarcaccess_type;
                            11278 ; 156  |#define HW_USBARCACCESS      (*(volatile usbarcaccess_type _X*) (HW_USB_BASEADDR+2))    
                            11279 ; 157  |
                            11280 ; 158  |/////////////////////////////////////////////////////////////////////////////////
                            11281 ; 159  |//  USB ARC DATA LOW register (HW_USBARCDATALOW) Bit Definitions
                            11282 ; 160  |#define HW_USBARCDATALOW_DATA_SETMASK (0x00FFFF)
                            11283 ; 161  |
                            11284 ; 162  |#define HW_USBARCDATALOW_ADD_CLRMASK (~(WORD)HW_USBARCDATALOW_DATA_SETMASK)
                            11285 ; 163  |
                            11286 ; 164  |typedef union               
                            11287 ; 165  |{
                            11288 ; 166  |    struct {
                            11289 ; 167  |        int DATA           :16;
                            11290 ; 168  |        int                :8;
                            11291 ; 169  |    } B;
                            11292 ; 170  |    int I;
                            11293 ; 171  |} usbarcdatalow_type;
                            11294 ; 172  |#define HW_USBARCDATALOW      (*(volatile usbarcdatalow_type _X*) (HW_USB_BASEADDR+3))    
                            11295 ; 173  |
                            11296 ; 174  |/////////////////////////////////////////////////////////////////////////////////
                            11297 ; 175  |//  USB ARC DATA HIGH register (HW_USBARCDATAHIGH) Bit Definitions
                            11298 ; 176  |#define HW_USBARCDATAHIGH_DATA_SETMASK (0x00FFFF)
                            11299 ; 177  |
                            11300 ; 178  |#define HW_USBARCDATAHIGH_ADD_CLRMASK (~(WORD)HW_USBARCDATAHIGH_DATA_SETMASK)
                            11301 ; 179  |
                            11302 ; 180  |typedef union               
                            11303 ; 181  |{
                            11304 ; 182  |    struct {
                            11305 ; 183  |        int DATA           :16;
                            11306 ; 184  |        int                :8;
                            11307 ; 185  |    } B;
                            11308 ; 186  |    int I;
                            11309 ; 187  |} usbarcdatahigh_type;
                            11310 ; 188  |#define HW_USBARCDATAHIGH     (*(volatile usbarcdatahigh_type _X*) (HW_USB_BASEADDR+4))    
                            11311 ; 189  |
                            11312 ; 190  |
                            11313 ; 191  |//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                            11314 ; 192  |//   USB2.0 ARC Registers 
                            11315 ; 193  |//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                            11316 ; 194  |#define HW_ARC_BASE_ADDR (0x0000)
                            11317 ; 195  |
                            11318 ; 196  |#define HW_ARC_HCSPARAMS (HW_ARC_BASE_ADDR+0x104)
                            11319 ; 197  |#define HW_ARC_USBCMD (HW_ARC_BASE_ADDR+0x140)
                            11320 ; 198  |#define HW_ARC_USBSTS (HW_ARC_BASE_ADDR+0x144)
                            11321 ; 199  |#define HW_ARC_USBINTR (HW_ARC_BASE_ADDR+0x148)
                            11322 ; 200  |#define HW_ARC_DEVADDR (HW_ARC_BASE_ADDR+0x154)
                            11323 ; 201  |#define HW_ARC_ENDPTLISTADDR (HW_ARC_BASE_ADDR+0x158)
                            11324 ; 202  |#define HW_ARC_PORTSC1 (HW_ARC_BASE_ADDR+0x184)
                            11325 ; 203  |#define HW_ARC_USBMODE (HW_ARC_BASE_ADDR+0x1a8)
                            11326 ; 204  |#define HW_ARC_ENDPTSETUPSTAT (HW_ARC_BASE_ADDR+0x1ac)
                            11327 ; 205  |#define HW_ARC_ENDPTPRIME (HW_ARC_BASE_ADDR+0x1b0)
                            11328 ; 206  |#define HW_ARC_ENDPTFLUSH (HW_ARC_BASE_ADDR+0x1b4)
                            11329 ; 207  |#define HW_ARC_ENDPTSTATUS (HW_ARC_BASE_ADDR+0x1b8)
                            11330 ; 208  |#define HW_ARC_ENDPTCOMPLETE (HW_ARC_BASE_ADDR+0x1bc)
                            11331 ; 209  |#define HW_ARC_ENDPTCTRL0 (HW_ARC_BASE_ADDR+0x1c0)
                            11332 ; 210  |#define HW_ARC_ENDPTCTRL1 (HW_ARC_BASE_ADDR+0x1c4)
                            11333 ; 211  |#define HW_ARC_ENDPTCTRL2 (HW_ARC_BASE_ADDR+0x1c8)
                            11334 ; 212  |#define HW_ARC_ENDPTCTRL3 (HW_ARC_BASE_ADDR+0x1cc)
                            11335 ; 213  |#define HW_ARC_ENDPTCTRL4 (HW_ARC_BASE_ADDR+0x1d0)
                            11336 ; 214  |#define HW_ARC_ENDPTCTRL5 (HW_ARC_BASE_ADDR+0x1d4)
                            11337 ; 215  |#define HW_ARC_ENDPTCTRL6 (HW_ARC_BASE_ADDR+0x1d8)
                            11338 ; 216  |#define HW_ARC_ENDPTCTRL7 (HW_ARC_BASE_ADDR+0x1dc)
                            11339 ; 217  |#define HW_ARC_ENDPTCTRL8 (HW_ARC_BASE_ADDR+0x1e0)
                            11340 ; 218  |#define HW_ARC_ENDPTCTRL9 (HW_ARC_BASE_ADDR+0x1e4)
                            11341 ; 219  |#define HW_ARC_ENDPTCTRL10 (HW_ARC_BASE_ADDR+0x1e8)
                            11342 ; 220  |#define HW_ARC_ENDPTCTRL11 (HW_ARC_BASE_ADDR+0x1ec)
                            11343 ; 221  |#define HW_ARC_ENDPTCTRL12 (HW_ARC_BASE_ADDR+0x1f0)
                            11344 ; 222  |#define HW_ARC_ENDPTCTRL13 (HW_ARC_BASE_ADDR+0x1f4)
                            11345 ; 223  |#define HW_ARC_ENDPTCTRL14 (HW_ARC_BASE_ADDR+0x1f8)
                            11346 ; 224  |#define HW_ARC_ENDPTCTRL15 (HW_ARC_BASE_ADDR+0x1fc)
                            11347 ; 225  |
                            11348 ; 226  |#define HW_ARC_ENDPTCTRL(n) (HW_ARC_ENDPTCTRL0+((n)*4))    
                            11349 ; 227  |/////////////////////////////////////////////////////////////////////////////////
                            11350 ; 228  |//  USB ARC Register Host Control Structural Parameters (HW_ARC_HCSPARAMS)
                            11351 ; 229  |
                            11352 ; 230  |#define HW_ARC_HCSPARAMS_NPORTS_BITPOS (0)
                            11353 ; 231  |#define HW_ARC_HCSPARAMS_PPC_BITPOS (4)
                            11354 ; 232  |#define HW_ARC_HCSPARAMS_NPCC_BITPOS (8)
                            11355 ; 233  |#define HW_ARC_HCSPARAMS_NCC_BITPOS (12)
                            11356 ; 234  |#define HW_ARC_HCSPARAMS_PI_BITPOS (16)
                            11357 ; 235  |#define HW_ARC_HCSPARAMS_NPTT_BITPOS (20)
                            11358 ; 236  |#define HW_ARC_HCSPARAMS_NTT_BITPOS (24)
                            11359 ; 237  |
                            11360 ; 238  |#define HW_ARC_HCSPARAMS_NPORTS_SETMASK (15<<HW_ARC_HCSPARAMS_NPORTS_BITPOS)
                            11361 ; 239  |#define HW_ARC_HCSPARAMS_PPC_SETMASK (1<<HW_ARC_HCSPARAMS_PPC_BITPOS)        
                            11362 ; 240  |#define HW_ARC_HCSPARAMS_NPCC_SETMASK (15<<HW_ARC_HCSPARAMS_NPCC_BITPOS)  
                            11363 ; 241  |#define HW_ARC_HCSPARAMS_NCC_SETMASK (15<<HW_ARC_HCSPARAMS_NCC_BITPOS)       
                            11364 ; 242  |#define HW_ARC_HCSPARAMS_PI_SETMASK (1<<HW_ARC_HCSPARAMS_PI_BITPOS)     
                            11365 ; 243  |#define HW_ARC_HCSPARAMS_NPTT_SETMASK (15<<HW_ARC_HCSPARAMS_NPTT_BITPOS)  
                            11366 ; 244  |#define HW_ARC_HCSPARAMS_NTT_SETMASK (15<<HW_ARC_HCSPARAMS_NTT_BITPOS)       
                            11367 ; 245  |
                            11368 ; 246  |#define HW_ARC_HCSPARAMS_NPORTS_CLRMASK (~(WORD)HW_ARC_HCSPARAMS_NPORTS_SETMASK)
                            11369 ; 247  |#define HW_ARC_HCSPARAMS_PPC_CLRMASK (~(WORD)HW_ARC_HCSPARAMS_PPC_SETMASK)
                            11370 ; 248  |#define HW_ARC_HCSPARAMS_NPCC_CLRMASK (~(WORD)HW_ARC_HCSPARAMS_NPCC_SETMASK)
                            11371 ; 249  |#define HW_ARC_HCSPARAMS_NCC_CLRMASK (~(WORD)HW_ARC_HCSPARAMS_NCC_SETMASK)
                            11372 ; 250  |#define HW_ARC_HCSPARAMS_PI_CLRMASK (~(WORD)HW_ARC_HCSPARAMS_PI_SETMASK)  
                            11373 ; 251  |#define HW_ARC_HCSPARAMS_NPTT_CLRMASK (~(WORD)HW_ARC_HCSPARAMS_NPTT_SETMASK)
                            11374 ; 252  |#define HW_ARC_HCSPARAMS_NTT_CLRMASK (~(WORD)HW_ARC_HCSPARAMS_NTT_SETMASK)
                            11375 ; 253  |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page  46

M:ADDR CODE           CYCLES LINE SOURCELINE
                            11376 ; 254  |typedef union               
                            11377 ; 255  |{
                            11378 ; 256  |    struct {
                            11379 ; 257  |        int N_PORTS         :4;
                            11380 ; 258  |        int PPC             :1;
                            11381 ; 259  |        int                 :3;
                            11382 ; 260  |        int N_PCC           :4;
                            11383 ; 261  |        int N_CC            :4;
                            11384 ; 262  |        int PI              :1;
                            11385 ; 263  |        int                 :3;
                            11386 ; 264  |        int N_PTT           :4;
                            11387 ; 265  |        int N_TT            :4;
                            11388 ; 266  |        int                 :20;
                            11389 ; 267  |    } B;
                            11390 ; 268  |    DWORD I;
                            11391 ; 269  |} hcsparams_type;
                            11392 ; 270  |// #define HW_ARC_HCSPARAMS (*(volatile hcsparams_type _X*) (HW_ARC_BASEADDR))    
                            11393 ; 271  |
                            11394 ; 272  |/////////////////////////////////////////////////////////////////////////////////
                            11395 ; 273  |//  USB ARC Register USB Command (HW_ARC_USBCMD)
                            11396 ; 274  |
                            11397 ; 275  |#define HW_ARC_USBCMD_RS_BITPOS (0)
                            11398 ; 276  |#define HW_ARC_USBCMD_RST_BITPOS (1)
                            11399 ; 277  |#define HW_ARC_USBCMD_FS0_BITPOS (2)
                            11400 ; 278  |#define HW_ARC_USBCMD_FS1_BITPOS (3)
                            11401 ; 279  |#define HW_ARC_USBCMD_PSE_BITPOS (4)
                            11402 ; 280  |#define HW_ARC_USBCMD_ASE_BITPOS (5)
                            11403 ; 281  |#define HW_ARC_USBCMD_IAA_BITPOS (6)
                            11404 ; 282  |#define HW_ARC_USBCMD_LR_BITPOS (7)
                            11405 ; 283  |#define HW_ARC_USBCMD_ASP0_BITPOS (8)
                            11406 ; 284  |#define HW_ARC_USBCMD_ASP1_BITPOS (9)
                            11407 ; 285  |#define HW_ARC_USBCMD_ASPE_BITPOS (11)
                            11408 ; 286  |#define HW_ARC_USBCMD_FS2_BITPOS (15)
                            11409 ; 287  |#define HW_ARC_USBCMD_ITC_BITPOS (16)
                            11410 ; 288  |
                            11411 ; 289  |#define HW_ARC_USBCMD_RS_SETMASK (1<<HW_ARC_USBCMD_RS_BITPOS)                
                            11412 ; 290  |#define HW_ARC_USBCMD_RST_SETMASK (1<<HW_ARC_USBCMD_RST_BITPOS)   
                            11413 ; 291  |#define HW_ARC_USBCMD_FS0_SETMASK (1<<HW_ARC_USBCMD_FS0_BITPOS)   
                            11414 ; 292  |#define HW_ARC_USBCMD_FS1_SETMASK (1<<HW_ARC_USBCMD_FS1_BITPOS)   
                            11415 ; 293  |#define HW_ARC_USBCMD_PSE_SETMASK (1<<HW_ARC_USBCMD_PSE_BITPOS)   
                            11416 ; 294  |#define HW_ARC_USBCMD_ASE_SETMASK (1<<HW_ARC_USBCMD_ASE_BITPOS)   
                            11417 ; 295  |#define HW_ARC_USBCMD_IAA_SETMASK (1<<HW_ARC_USBCMD_IAA_BITPOS)   
                            11418 ; 296  |#define HW_ARC_USBCMD_LR_SETMASK (1<<HW_ARC_USBCMD_LR_BITPOS)        
                            11419 ; 297  |#define HW_ARC_USBCMD_ASP0_SETMASK (1<<HW_ARC_USBCMD_ASP0_BITPOS)
                            11420 ; 298  |#define HW_ARC_USBCMD_ASP1_SETMASK (1<<HW_ARC_USBCMD_ASP1_BITPOS)
                            11421 ; 299  |#define HW_ARC_USBCMD_ASPE_SETMASK (1<<HW_ARC_USBCMD_ASPE_BITPOS)
                            11422 ; 300  |#define HW_ARC_USBCMD_FS2_SETMASK (1<<HW_ARC_USBCMD_FS2_BITPOS)    
                            11423 ; 301  |#define HW_ARC_USBCMD_ITC_SETMASK (255<<HW_ARC_USBCMD_ITC_BITPOS)
                            11424 ; 302  |
                            11425 ; 303  |#define HW_ARC_USBCMD_RS_CLRMASK (~(WORD)HW_ARC_USBCMD_RS_SETMASK)     
                            11426 ; 304  |#define HW_ARC_USBCMD_RST_CLRMASK (~(WORD)HW_ARC_USBCMD_RST_SETMASK)    
                            11427 ; 305  |#define HW_ARC_USBCMD_FS0_CLRMASK (~(WORD)HW_ARC_USBCMD_FS0_SETMASK)    
                            11428 ; 306  |#define HW_ARC_USBCMD_FS1_CLRMASK (~(WORD)HW_ARC_USBCMD_FS1_SETMASK)    
                            11429 ; 307  |#define HW_ARC_USBCMD_PSE_CLRMASK (~(WORD)HW_ARC_USBCMD_PSE_SETMASK)    
                            11430 ; 308  |#define HW_ARC_USBCMD_ASE_CLRMASK (~(WORD)HW_ARC_USBCMD_ASE_SETMASK)    
                            11431 ; 309  |#define HW_ARC_USBCMD_IAA_CLRMASK (~(WORD)HW_ARC_USBCMD_IAA_SETMASK)    
                            11432 ; 310  |#define HW_ARC_USBCMD_LR_CLRMASK (~(WORD)HW_ARC_USBCMD_LR_SETMASK) 
                            11433 ; 311  |#define HW_ARC_USBCMD_ASP0_CLRMASK (~(WORD)HW_ARC_USBCMD_ASP0_SETMASK)
                            11434 ; 312  |#define HW_ARC_USBCMD_ASP1_CLRMASK (~(WORD)HW_ARC_USBCMD_ASP1_SETMASK)
                            11435 ; 313  |#define HW_ARC_USBCMD_ASPE_CLRMASK (~(WORD)HW_ARC_USBCMD_ASPE_SETMASK)
                            11436 ; 314  |#define HW_ARC_USBCMD_FS2_CLRMASK (~(WORD)HW_ARC_USBCMD_FS2_SETMASK)    
                            11437 ; 315  |#define HW_ARC_USBCMD_ITC_CLRMASK (~(WORD)HW_ARC_USBCMD_ITC_SETMASK)    
                            11438 ; 316  |
                            11439 ; 317  |typedef union               
                            11440 ; 318  |{
                            11441 ; 319  |    struct {
                            11442 ; 320  |        int RS              :1;
                            11443 ; 321  |        int RST             :1;
                            11444 ; 322  |        int FS0             :1;
                            11445 ; 323  |        int FS1             :1;
                            11446 ; 324  |        int PSE             :1;
                            11447 ; 325  |        int ASE             :1;
                            11448 ; 326  |        int IAA             :1;
                            11449 ; 327  |        int LR              :1;
                            11450 ; 328  |        int ASP0            :1;
                            11451 ; 329  |        int ASP1            :1;
                            11452 ; 330  |        int                 :1;
                            11453 ; 331  |        int ASPE            :1;
                            11454 ; 332  |        int                 :3;
                            11455 ; 333  |        int FS2             :1;
                            11456 ; 334  |        int ITC             :8;
                            11457 ; 335  |        int                 :24;
                            11458 ; 336  |    } B;
                            11459 ; 337  |    DWORD I;
                            11460 ; 338  |} usbcmd_type;
                            11461 ; 339  |//#define HW_ARC_USBCMD ((volatile usbcmd_type _X*) (HW_ARC_BASEADDR+0x140))    
                            11462 ; 340  |
                            11463 ; 341  |/////////////////////////////////////////////////////////////////////////////////
                            11464 ; 342  |//  USB ARC Register USB Status (HW_ARC_USBSTS)
                            11465 ; 343  |
                            11466 ; 344  |#define HW_ARC_USBSTS_UI_BITPOS (0)
                            11467 ; 345  |#define HW_ARC_USBSTS_UEI_BITPOS (1)
                            11468 ; 346  |#define HW_ARC_USBSTS_PCI_BITPOS (2)
                            11469 ; 347  |#define HW_ARC_USBSTS_FRI_BITPOS (3)
                            11470 ; 348  |#define HW_ARC_USBSTS_SEI_BITPOS (4)
                            11471 ; 349  |#define HW_ARC_USBSTS_AAI_BITPOS (5)
                            11472 ; 350  |#define HW_ARC_USBSTS_URI_BITPOS (6)
                            11473 ; 351  |#define HW_ARC_USBSTS_SRI_BITPOS (7)
                            11474 ; 352  |#define HW_ARC_USBSTS_SLI_BITPOS (8)
                            11475 ; 353  |#define HW_ARC_USBSTS_HCH_BITPOS (12)
                            11476 ; 354  |#define HW_ARC_USBSTS_RCL_BITPOS (13)
                            11477 ; 355  |#define HW_ARC_USBSTS_PS_BITPOS (14)
                            11478 ; 356  |#define HW_ARC_USBSTS_AS_BITPOS (15)
                            11479 ; 357  |
                            11480 ; 358  |#define HW_ARC_USBSTS_UI_SETMASK (1<<HW_ARC_USBSTS_UI_BITPOS)    
                            11481 ; 359  |#define HW_ARC_USBSTS_UEI_SETMASK (1<<HW_ARC_USBSTS_UEI_BITPOS)
                            11482 ; 360  |#define HW_ARC_USBSTS_PCI_SETMASK (1<<HW_ARC_USBSTS_PCI_BITPOS)
                            11483 ; 361  |#define HW_ARC_USBSTS_FRI_SETMASK (1<<HW_ARC_USBSTS_FRI_BITPOS)
                            11484 ; 362  |#define HW_ARC_USBSTS_SEI_SETMASK (1<<HW_ARC_USBSTS_SEI_BITPOS)
                            11485 ; 363  |#define HW_ARC_USBSTS_AAI_SETMASK (1<<HW_ARC_USBSTS_AAI_BITPOS)
                            11486 ; 364  |#define HW_ARC_USBSTS_URI_SETMASK (1<<HW_ARC_USBSTS_URI_BITPOS)
                            11487 ; 365  |#define HW_ARC_USBSTS_SRI_SETMASK (1<<HW_ARC_USBSTS_SRI_BITPOS)
                            11488 ; 366  |#define HW_ARC_USBSTS_SLI_SETMASK (1<<HW_ARC_USBSTS_SLI_BITPOS)
                            11489 ; 367  |#define HW_ARC_USBSTS_HCH_SETMASK (1<<HW_ARC_USBSTS_HCH_BITPOS)
                            11490 ; 368  |#define HW_ARC_USBSTS_RCL_SETMASK (1<<HW_ARC_USBSTS_RCL_BITPOS)
                            11491 ; 369  |#define HW_ARC_USBSTS_PS_SETMASK (1<<HW_ARC_USBSTS_PS_BITPOS)    
                            11492 ; 370  |#define HW_ARC_USBSTS_AS_SETMASK (1<<HW_ARC_USBSTS_AS_BITPOS)    
                            11493 ; 371  |
                            11494 ; 372  |#define HW_ARC_USBSTS_UI_CLRMASK (~(WORD)HW_ARC_USBSTS_UI_SETMASK)
                            11495 ; 373  |#define HW_ARC_USBSTS_UEI_CLRMASK (~(WORD)HW_ARC_USBSTS_UEI_SETMASK)
                            11496 ; 374  |#define HW_ARC_USBSTS_PCI_CLRMASK (~(WORD)HW_ARC_USBSTS_PCI_SETMASK)
                            11497 ; 375  |#define HW_ARC_USBSTS_FRI_CLRMASK (~(WORD)HW_ARC_USBSTS_FRI_SETMASK)
                            11498 ; 376  |#define HW_ARC_USBSTS_SEI_CLRMASK (~(WORD)HW_ARC_USBSTS_SEI_SETMASK)
                            11499 ; 377  |#define HW_ARC_USBSTS_AAI_CLRMASK (~(WORD)HW_ARC_USBSTS_AAI_SETMASK)
                            11500 ; 378  |#define HW_ARC_USBSTS_URI_CLRMASK (~(WORD)HW_ARC_USBSTS_URI_SETMASK)
                            11501 ; 379  |#define HW_ARC_USBSTS_SRI_CLRMASK (~(WORD)HW_ARC_USBSTS_SRI_SETMASK)
                            11502 ; 380  |#define HW_ARC_USBSTS_SLI_CLRMASK (~(WORD)HW_ARC_USBSTS_SLI_SETMASK)
                            11503 ; 381  |#define HW_ARC_USBSTS_HCH_CLRMASK (~(WORD)HW_ARC_USBSTS_HCH_SETMASK)
                            11504 ; 382  |#define HW_ARC_USBSTS_RCL_CLRMASK (~(WORD)HW_ARC_USBSTS_RCL_SETMASK)
                            11505 ; 383  |#define HW_ARC_USBSTS_PS_CLRMASK (~(WORD)HW_ARC_USBSTS_PS_SETMASK)
                            11506 ; 384  |#define HW_ARC_USBSTS_AS_CLRMASK (~(WORD)HW_ARC_USBSTS_AS_SETMASK)
                            11507 ; 385  |
                            11508 ; 386  |
                            11509 ; 387  |typedef union               
                            11510 ; 388  |{
                            11511 ; 389  |    struct {
                            11512 ; 390  |        int UI              :1;
                            11513 ; 391  |        int UEI             :1;
                            11514 ; 392  |        int PCI             :1;
                            11515 ; 393  |        int FRI             :1;
                            11516 ; 394  |        int SEI             :1;
                            11517 ; 395  |        int AAI             :1;
                            11518 ; 396  |        int URI             :1;
                            11519 ; 397  |        int STI             :1;
                            11520 ; 398  |        int SLI             :1;
                            11521 ; 399  |        int                 :3;
                            11522 ; 400  |        int HCH             :1;
                            11523 ; 401  |        int RCL             :1;
                            11524 ; 402  |        int PS              :1;
                            11525 ; 403  |        int AS              :1;
                            11526 ; 404  |        int                 :24;
                            11527 ; 405  |    } B;
                            11528 ; 406  |    DWORD I;
                            11529 ; 407  |} usbsts_type;
                            11530 ; 408  |//#define HW_ARC_USBSTS (*(volatile usbsts_type _X*) (HW_ARC_BASEADDR+0x144))    
                            11531 ; 409  |
                            11532 ; 410  |/////////////////////////////////////////////////////////////////////////////////
                            11533 ; 411  |//  USB ARC Register USB Interrupt Enable (HW_ARC_USBINTR)
                            11534 ; 412  |
                            11535 ; 413  |#define HW_ARC_USBINTR_UE_BITPOS (0)
                            11536 ; 414  |#define HW_ARC_USBINTR_UEE_BITPOS (1)
                            11537 ; 415  |#define HW_ARC_USBINTR_PCE_BITPOS (2)
                            11538 ; 416  |#define HW_ARC_USBINTR_FRE_BITPOS (3)
                            11539 ; 417  |#define HW_ARC_USBINTR_SEE_BITPOS (4)
                            11540 ; 418  |#define HW_ARC_USBINTR_AAE_BITPOS (5)
                            11541 ; 419  |#define HW_ARC_USBINTR_URE_BITPOS (6)
                            11542 ; 420  |#define HW_ARC_USBINTR_SRE_BITPOS (7)
                            11543 ; 421  |#define HW_ARC_USBINTR_SLE_BITPOS (8)
                            11544 ; 422  |
                            11545 ; 423  |#define HW_ARC_USBINTR_UE_SETMASK (1<<HW_ARC_USBINTR_UE_BITPOS)   
                            11546 ; 424  |#define HW_ARC_USBINTR_UEE_SETMASK (1<<HW_ARC_USBINTR_UEE_BITPOS)
                            11547 ; 425  |#define HW_ARC_USBINTR_PCE_SETMASK (1<<HW_ARC_USBINTR_PCE_BITPOS)
                            11548 ; 426  |#define HW_ARC_USBINTR_FRE_SETMASK (1<<HW_ARC_USBINTR_FRE_BITPOS)
                            11549 ; 427  |#define HW_ARC_USBINTR_SEE_SETMASK (1<<HW_ARC_USBINTR_SEE_BITPOS)
                            11550 ; 428  |#define HW_ARC_USBINTR_AAE_SETMASK (1<<HW_ARC_USBINTR_AAE_BITPOS)
                            11551 ; 429  |#define HW_ARC_USBINTR_URE_SETMASK (1<<HW_ARC_USBINTR_URE_BITPOS)
                            11552 ; 430  |#define HW_ARC_USBINTR_SRE_SETMASK (1<<HW_ARC_USBINTR_SRE_BITPOS)
                            11553 ; 431  |#define HW_ARC_USBINTR_SLE_SETMASK (1<<HW_ARC_USBINTR_SLE_BITPOS)
                            11554 ; 432  |
                            11555 ; 433  |#define HW_ARC_USBINTR_UE_CLRMASK (~(WORD)HW_ARC_USBINTR_UE_SETMASK)
                            11556 ; 434  |#define HW_ARC_USBINTR_UEE_CLRMASK (~(WORD)HW_ARC_USBINTR_UEE_SETMASK)
                            11557 ; 435  |#define HW_ARC_USBINTR_PCE_CLRMASK (~(WORD)HW_ARC_USBINTR_PCE_SETMASK)
                            11558 ; 436  |#define HW_ARC_USBINTR_FRE_CLRMASK (~(WORD)HW_ARC_USBINTR_FRE_SETMASK)
                            11559 ; 437  |#define HW_ARC_USBINTR_SEE_CLRMASK (~(WORD)HW_ARC_USBINTR_SEE_SETMASK)
                            11560 ; 438  |#define HW_ARC_USBINTR_AAE_CLRMASK (~(WORD)HW_ARC_USBINTR_AAE_SETMASK)
                            11561 ; 439  |#define HW_ARC_USBINTR_URE_CLRMASK (~(WORD)HW_ARC_USBINTR_URE_SETMASK)
                            11562 ; 440  |#define HW_ARC_USBINTR_SRE_CLRMASK (~(WORD)HW_ARC_USBINTR_SRE_SETMASK)
                            11563 ; 441  |#define HW_ARC_USBINTR_SLE_CLRMASK (~(WORD)HW_ARC_USBINTR_SLE_SETMASK)
                            11564 ; 442  |
                            11565 ; 443  |
                            11566 ; 444  |typedef union               
                            11567 ; 445  |{
                            11568 ; 446  |    struct {
                            11569 ; 447  |        int UE              :1;
                            11570 ; 448  |        int UEE             :1;
                            11571 ; 449  |        int PCE             :1;
                            11572 ; 450  |        int FRE             :1;
                            11573 ; 451  |        int SEE             :1;
                            11574 ; 452  |        int AAE             :1;
                            11575 ; 453  |        int URE             :1;
                            11576 ; 454  |        int STE             :1;
                            11577 ; 455  |        int SLE             :1;
                            11578 ; 456  |        int                 :39;
                            11579 ; 457  |    } B;
                            11580 ; 458  |    DWORD I;
                            11581 ; 459  |} usbintr_type;
                            11582 ; 460  |//#define HW_ARC_USBINTR (*(volatile usbintr_type _X*) (HW_ARC_BASEADDR+0x148))    
                            11583 ; 461  |
                            11584 ; 462  |
                            11585 ; 463  |/////////////////////////////////////////////////////////////////////////////////
                            11586 ; 464  |//  USB ARC Register USB Device Controller Device Address (HW_ARC_DEVADDR)
                            11587 ; 465  |
                            11588 ; 466  |#define HW_ARC_DEVADDR_ADD_BITPOS (25)
                            11589 ; 467  |
                            11590 ; 468  |#define HW_ARC_DEVADDR_ADD_SETMASK (127<<HW_ARC_DEVADDR_ADD_BITPOS)    
                            11591 ; 469  |
                            11592 ; 470  |#define HW_ARC_DEVEADDR_ADD_CLRMASK (~(WORD)HW_ARC_DEVADDR_ADD_SETMASK)   
                            11593 ; 471  |
                            11594 ; 472  |typedef union               
                            11595 ; 473  |{
                            11596 ; 474  |    struct {
                            11597 ; 475  |        int                 :25;
                            11598 ; 476  |        int ADD             :7;
                            11599 ; 477  |        int                 :16;
                            11600 ; 478  |    } B;
                            11601 ; 479  |    DWORD I;
                            11602 ; 480  |} devaddr_type;
                            11603 ; 481  |//#define HW_ARC_DEVADDR (*(volatile devaddr_type _X*) (HW_ARC_BASEADDR+0x154))    
                            11604 ; 482  |
                            11605 ; 483  |
                            11606 ; 484  |/////////////////////////////////////////////////////////////////////////////////
                            11607 ; 485  |//  USB ARC Register USB Device Controller Endpoint List Address (HW_ARC_ENDPTLISTADDR)
                            11608 ; 486  |
                            11609 ; 487  |#define HW_ARC_ENDPTLISTADDR_ADD_BITPOS (11)
                            11610 ; 488  |
                            11611 ; 489  |#define HW_ARC_ENDPTLISTADDR_ADD_SETMASK (0x400000<<HW_ARC_ENDPTLISTADDR_ADD_BITPOS) 
                            11612 ; 490  |
                            11613 ; 491  |#define HW_ARC_ENDPTLISTADDR_ADD_CLRMASK (~(WORD)HW_ARC_ENDPTLISTADDR_ADD_SETMASK) 
                            11614 ; 492  |
                            11615 ; 493  |typedef union               
                            11616 ; 494  |{
                            11617 ; 495  |    struct {
                            11618 ; 496  |        int                 :10;
                            11619 ; 497  |        int ADD             :22;
                            11620 ; 498  |        int                 :16;
                            11621 ; 499  |    } B;
                            11622 ; 500  |    DWORD I;
                            11623 ; 501  |} endptlistaddr_type;
                            11624 ; 502  |//#define HW_ARC_ENDPTLISTADDR (*(volatile endptlistaddr_type _X*) (HW_ARC_BASEADDR+0x158))    
                            11625 ; 503  |
                            11626 ; 504  |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page  47

M:ADDR CODE           CYCLES LINE SOURCELINE
                            11627 ; 505  |/////////////////////////////////////////////////////////////////////////////////
                            11628 ; 506  |//  USB ARC Register USB Port Status Control 1 (HW_ARC_PORTSC1)
                            11629 ; 507  |
                            11630 ; 508  |#define HW_ARC_PORTSC1_CCS_BITPOS (0)
                            11631 ; 509  |#define HW_ARC_PORTSC1_CSC_BITPOS (1)
                            11632 ; 510  |#define HW_ARC_PORTSC1_PE_BITPOS (2)
                            11633 ; 511  |#define HW_ARC_PORTSC1_PEC_BITPOS (3)
                            11634 ; 512  |#define HW_ARC_PORTSC1_OCA_BITPOS (4)
                            11635 ; 513  |#define HW_ARC_PORTSC1_OCC_BITPOS (5)
                            11636 ; 514  |#define HW_ARC_PORTSC1_FPR_BITPOS (6)
                            11637 ; 515  |#define HW_ARC_PORTSC1_SUSP_BITPOS (7)
                            11638 ; 516  |#define HW_ARC_PORTSC1_PR_BITPOS (8)
                            11639 ; 517  |#define HW_ARC_PORTSC1_HSP_BITPOS (9)
                            11640 ; 518  |#define HW_ARC_PORTSC1_LS_BITPOS (10)
                            11641 ; 519  |#define HW_ARC_PORTSC1_PP_BITPOS (12)
                            11642 ; 520  |#define HW_ARC_PORTSC1_PO_BITPOS (13)
                            11643 ; 521  |#define HW_ARC_PORTSC1_PIC_BITPOS (14)
                            11644 ; 522  |#define HW_ARC_PORTSC1_PTC_BITPOS (16)
                            11645 ; 523  |#define HW_ARC_PORTSC1_WKCN_BITPOS (20)
                            11646 ; 524  |#define HW_ARC_PORTSC1_WKDS_BITPOS (21)
                            11647 ; 525  |#define HW_ARC_PORTSC1_WKOC_BITPOS (22)
                            11648 ; 526  |#define HW_ARC_PORTSC1_PHCD_BITPOS (23)
                            11649 ; 527  |#define HW_ARC_PORTSC1_PFSC_BITPOS (24)
                            11650 ; 528  |#define HW_ARC_PORTSC1_PSPD_BITPOS (26)
                            11651 ; 529  |#define HW_ARC_PORTSC1_PTW_BITPOS (29)
                            11652 ; 530  |#define HW_ARC_PORTSC1_STS_BITPOS (30)
                            11653 ; 531  |#define HW_ARC_PORTSC1_PTS_BITPOS (31)
                            11654 ; 532  |
                            11655 ; 533  |#define HW_ARC_PORTSC1_CCS_SETMASK (1<<HW_ARC_PORTSC1_CCS_BITPOS)  
                            11656 ; 534  |#define HW_ARC_PORTSC1_CSC_SETMASK (1<<HW_ARC_PORTSC1_CSC_BITPOS)  
                            11657 ; 535  |#define HW_ARC_PORTSC1_PE_SETMASK (1<<HW_ARC_PORTSC1_PE_BITPOS)   
                            11658 ; 536  |#define HW_ARC_PORTSC1_PEC_SETMASK (1<<HW_ARC_PORTSC1_PEC_BITPOS)  
                            11659 ; 537  |#define HW_ARC_PORTSC1_OCA_SETMASK (1<<HW_ARC_PORTSC1_OCA_BITPOS)  
                            11660 ; 538  |#define HW_ARC_PORTSC1_OCC_SETMASK (1<<HW_ARC_PORTSC1_OCC_BITPOS)  
                            11661 ; 539  |#define HW_ARC_PORTSC1_FPR_SETMASK (1<<HW_ARC_PORTSC1_FPR_BITPOS)  
                            11662 ; 540  |#define HW_ARC_PORTSC1_SUSP_SETMASK (1<<HW_ARC_PORTSC1_SUSP_BITPOS)
                            11663 ; 541  |#define HW_ARC_PORTSC1_PR_SETMASK (1<<HW_ARC_PORTSC1_PR_BITPOS)   
                            11664 ; 542  |#define HW_ARC_PORTSC1_HSP_SETMASK (1<<HW_ARC_PORTSC1_HSP_BITPOS)  
                            11665 ; 543  |#define HW_ARC_PORTSC1_LS_SETMASK (3<<HW_ARC_PORTSC1_LS_BITPOS)   
                            11666 ; 544  |#define HW_ARC_PORTSC1_PP_SETMASK (1<<HW_ARC_PORTSC1_PP_BITPOS)   
                            11667 ; 545  |#define HW_ARC_PORTSC1_PO_SETMASK (1<<HW_ARC_PORTSC1_PO_BITPOS)   
                            11668 ; 546  |#define HW_ARC_PORTSC1_PIC_SETMASK (3<<HW_ARC_PORTSC1_PIC_BITPOS)  
                            11669 ; 547  |#define HW_ARC_PORTSC1_PTC_SETMASK (15<<HW_ARC_PORTSC1_PTC_BITPOS) 
                            11670 ; 548  |#define HW_ARC_PORTSC1_WKCN_SETMASK (1<<HW_ARC_PORTSC1_WKCN_BITPOS)
                            11671 ; 549  |#define HW_ARC_PORTSC1_WKDS_SETMASK (1<<HW_ARC_PORTSC1_WKDS_BITPOS)
                            11672 ; 550  |#define HW_ARC_PORTSC1_WKOC_SETMASK (1<<HW_ARC_PORTSC1_WKOC_BITPOS)
                            11673 ; 551  |#define HW_ARC_PORTSC1_PHCD_SETMASK (1<<HW_ARC_PORTSC1_PHCD_BITPOS)
                            11674 ; 552  |
                            11675 ; 553  |// We need to equate the following label like this due to a sign extension problem
                            11676 ; 554  |// if equated like so (1<<HW_ARC_PORTSC1_PFSC_SETMASK)
                            11677 ; 555  |#define HW_ARC_PORTSC1_PFSC_SETMASK (0x01000000)
                            11678 ; 556  |
                            11679 ; 557  |#define HW_ARC_PORTSC1_PSPD_SETMASK (3<<HW_ARC_PORTSC1_PSPD_BITPOS)
                            11680 ; 558  |#define HW_ARC_PORTSC1_PTW_SETMASK (1<<HW_ARC_PORTSC1_PTW_BITPOS)  
                            11681 ; 559  |#define HW_ARC_PORTSC1_STS_SETMASK (1<<HW_ARC_PORTSC1_STS_BITPOS)  
                            11682 ; 560  |#define HW_ARC_PORTSC1_PTS_SETMASK (1<<HW_ARC_PORTSC1_PTS_BITPOS)  
                            11683 ; 561  |
                            11684 ; 562  |#define HW_ARC_PORTSC1_CCS_CLRMASK (~(WORD)HW_ARC_PORTSC1_CCS_SETMASK)   
                            11685 ; 563  |#define HW_ARC_PORTSC1_CSC_CLRMASK (~(WORD)HW_ARC_PORTSC1_CSC_SETMASK)   
                            11686 ; 564  |#define HW_ARC_PORTSC1_PE_CLRMASK (~(WORD)HW_ARC_PORTSC1_PE_SETMASK)    
                            11687 ; 565  |#define HW_ARC_PORTSC1_PEC_CLRMASK (~(WORD)HW_ARC_PORTSC1_PEC_SETMASK)   
                            11688 ; 566  |#define HW_ARC_PORTSC1_OCA_CLRMASK (~(WORD)HW_ARC_PORTSC1_OCA_SETMASK)   
                            11689 ; 567  |#define HW_ARC_PORTSC1_OCC_CLRMASK (~(WORD)HW_ARC_PORTSC1_OCC_SETMASK)   
                            11690 ; 568  |#define HW_ARC_PORTSC1_FPR_CLRMASK (~(WORD)HW_ARC_PORTSC1_FPR_SETMASK)   
                            11691 ; 569  |#define HW_ARC_PORTSC1_SUSP_CLRMASK (~(WORD)HW_ARC_PORTSC1_SUSP_SETMASK)
                            11692 ; 570  |#define HW_ARC_PORTSC1_PR_CLRMASK (~(WORD)HW_ARC_PORTSC1_PR_SETMASK)    
                            11693 ; 571  |#define HW_ARC_PORTSC1_HSP_CLRMASK (~(WORD)HW_ARC_PORTSC1_HSP_SETMASK)   
                            11694 ; 572  |#define HW_ARC_PORTSC1_LS_CLRMASK (~(WORD)HW_ARC_PORTSC1_LS_SETMASK)    
                            11695 ; 573  |#define HW_ARC_PORTSC1_PP_CLRMASK (~(WORD)HW_ARC_PORTSC1_PP_SETMASK)    
                            11696 ; 574  |#define HW_ARC_PORTSC1_PO_CLRMASK (~(WORD)HW_ARC_PORTSC1_PO_SETMASK)    
                            11697 ; 575  |#define HW_ARC_PORTSC1_PIC_CLRMASK (~(WORD)HW_ARC_PORTSC1_PIC_SETMASK)   
                            11698 ; 576  |#define HW_ARC_PORTSC1_PTC_CLRMASK (~(WORD)HW_ARC_PORTSC1_PTC_SETMASK)   
                            11699 ; 577  |#define HW_ARC_PORTSC1_WKCN_CLRMASK (~(WORD)HW_ARC_PORTSC1_WKCN_SETMASK)
                            11700 ; 578  |#define HW_ARC_PORTSC1_WKDS_CLRMASK (~(WORD)HW_ARC_PORTSC1_WKDS_SETMASK)
                            11701 ; 579  |#define HW_ARC_PORTSC1_WKOC_CLRMASK (~(WORD)HW_ARC_PORTSC1_WKOC_SETMASK)
                            11702 ; 580  |#define HW_ARC_PORTSC1_PHCD_CLRMASK (~(WORD)HW_ARC_PORTSC1_PHCD_SETMASK)
                            11703 ; 581  |#define HW_ARC_PORTSC1_PFSC_CLRMASK (~(WORD)HW_ARC_PORTSC1_PFSC_SETMASK)
                            11704 ; 582  |#define HW_ARC_PORTSC1_PSPD_CLRMASK (~(WORD)HW_ARC_PORTSC1_PSPD_SETMASK)
                            11705 ; 583  |#define HW_ARC_PORTSC1_PTW_CLRMASK (~(WORD)HW_ARC_PORTSC1_PTW_SETMASK)   
                            11706 ; 584  |#define HW_ARC_PORTSC1_STS_CLRMASK (~(WORD)HW_ARC_PORTSC1_STS_SETMASK)   
                            11707 ; 585  |#define HW_ARC_PORTSC1_PTS_CLRMASK (~(WORD)HW_ARC_PORTSC1_PTS_SETMASK)   
                            11708 ; 586  |
                            11709 ; 587  |typedef union               
                            11710 ; 588  |{
                            11711 ; 589  |    struct {
                            11712 ; 590  |        int CCS             :1;
                            11713 ; 591  |        int CSC             :1;
                            11714 ; 592  |        int PE              :1;
                            11715 ; 593  |        int PEC             :1;
                            11716 ; 594  |        int OCA             :1;
                            11717 ; 595  |        int OCC             :1;
                            11718 ; 596  |        int FPR             :1;
                            11719 ; 597  |        int SUSP            :1;
                            11720 ; 598  |        int PR              :1;
                            11721 ; 599  |        int HSP             :1;
                            11722 ; 600  |        int LS              :2;
                            11723 ; 601  |        int PP              :1;
                            11724 ; 602  |        int PO              :1;
                            11725 ; 603  |        int PIC             :2;
                            11726 ; 604  |        int PTC             :4;
                            11727 ; 605  |        int WKCN            :1;
                            11728 ; 606  |        int WKDS            :1;
                            11729 ; 607  |        int WKOC            :1;
                            11730 ; 608  |        int PHCD            :1;
                            11731 ; 609  |        int PFSC            :1;
                            11732 ; 610  |        int                 :1;
                            11733 ; 611  |        int PSPD            :2;
                            11734 ; 612  |        int                 :1;
                            11735 ; 613  |        int PTW             :1;
                            11736 ; 614  |        int STS             :1;
                            11737 ; 615  |        int PTS             :1;
                            11738 ; 616  |        int                 :16;
                            11739 ; 617  |    } B;
                            11740 ; 618  |    DWORD I;
                            11741 ; 619  |} portsc1_type;
                            11742 ; 620  |//#define HW_ARC_PORTSC1 (*(volatile portsc1_type _X*) (HW_ARC_BASEADDR+0x184))    
                            11743 ; 621  |
                            11744 ; 622  |
                            11745 ; 623  |/////////////////////////////////////////////////////////////////////////////////
                            11746 ; 624  |//  USB ARC Register USB Device Mode (HW_ARC_USBMODE)
                            11747 ; 625  |
                            11748 ; 626  |#define HW_ARC_USBMODE_CM_BITPOS (0)
                            11749 ; 627  |#define HW_ARC_USBMODE_ES_BITPOS (2)
                            11750 ; 628  |
                            11751 ; 629  |#define HW_ARC_USBMODE_CM_SETMASK (3<<HW_ARC_USBMODE_CM_BITPOS)   
                            11752 ; 630  |#define HW_ARC_USBMODE_ES_SETMASK (1<<HW_ARC_USBMODE_ES_BITPOS)   
                            11753 ; 631  |
                            11754 ; 632  |#define HW_ARC_USBMODE_CM_CLRMASK (~(WORD)HW_ARC_USBMODE_CM_SETMASK) 
                            11755 ; 633  |#define HW_ARC_USBMODE_ES_CLRMASK (~(WORD)HW_ARC_USBMODE_ES_SETMASK)    
                            11756 ; 634  |
                            11757 ; 635  |typedef union               
                            11758 ; 636  |{
                            11759 ; 637  |    struct {
                            11760 ; 638  |        int CM              :2;
                            11761 ; 639  |        int ES              :1;
                            11762 ; 640  |        int                 :46;
                            11763 ; 641  |    } B;
                            11764 ; 642  |    DWORD I;
                            11765 ; 643  |} usbmode_type;
                            11766 ; 644  |//#define HW_ARC_USBMODE (*(volatile usbmode_type _X*) (HW_ARC_BASEADDR+0x1a8))    
                            11767 ; 645  |
                            11768 ; 646  |
                            11769 ; 647  |/////////////////////////////////////////////////////////////////////////////////
                            11770 ; 648  |//  The following endpoint equates are common for the following registers
                            11771 ; 649  |
                            11772 ; 650  |#define ENDPOINT0_BITPOS (0)
                            11773 ; 651  |#define ENDPOINT1_BITPOS (1)
                            11774 ; 652  |#define ENDPOINT2_BITPOS (2)
                            11775 ; 653  |#define ENDPOINT3_BITPOS (3)
                            11776 ; 654  |#define ENDPOINT4_BITPOS (4)
                            11777 ; 655  |#define ENDPOINT5_BITPOS (5)
                            11778 ; 656  |#define ENDPOINT6_BITPOS (6)
                            11779 ; 657  |#define ENDPOINT7_BITPOS (7)
                            11780 ; 658  |#define ENDPOINT8_BITPOS (8)
                            11781 ; 659  |#define ENDPOINT9_BITPOS (9)
                            11782 ; 660  |#define ENDPOINT10_BITPOS (10)
                            11783 ; 661  |#define ENDPOINT11_BITPOS (11)
                            11784 ; 662  |#define ENDPOINT12_BITPOS (12)
                            11785 ; 663  |#define ENDPOINT13_BITPOS (13)
                            11786 ; 664  |#define ENDPOINT14_BITPOS (14)
                            11787 ; 665  |#define ENDPOINT15_BITPOS (15)
                            11788 ; 666  |
                            11789 ; 667  |#define ENDPOINT0_SETMASK (1<<ENDPOINT0_BITPOS)
                            11790 ; 668  |#define ENDPOINT1_SETMASK (1<<ENDPOINT1_BITPOS)
                            11791 ; 669  |#define ENDPOINT2_SETMASK (1<<ENDPOINT2_BITPOS)
                            11792 ; 670  |#define ENDPOINT3_SETMASK (1<<ENDPOINT3_BITPOS)
                            11793 ; 671  |#define ENDPOINT4_SETMASK (1<<ENDPOINT4_BITPOS)
                            11794 ; 672  |#define ENDPOINT5_SETMASK (1<<ENDPOINT5_BITPOS)
                            11795 ; 673  |#define ENDPOINT6_SETMASK (1<<ENDPOINT6_BITPOS)
                            11796 ; 674  |#define ENDPOINT7_SETMASK (1<<ENDPOINT7_BITPOS)
                            11797 ; 675  |#define ENDPOINT8_SETMASK (1<<ENDPOINT8_BITPOS)
                            11798 ; 676  |#define ENDPOINT9_SETMASK (1<<ENDPOINT9_BITPOS)
                            11799 ; 677  |#define ENDPOINT10_SETMASK (1<<ENDPOINT10_BITPOS)
                            11800 ; 678  |#define ENDPOINT11_SETMASK (1<<ENDPOINT11_BITPOS)
                            11801 ; 679  |#define ENDPOINT12_SETMASK (1<<ENDPOINT12_BITPOS)
                            11802 ; 680  |#define ENDPOINT13_SETMASK (1<<ENDPOINT13_BITPOS)
                            11803 ; 681  |#define ENDPOINT14_SETMASK (1<<ENDPOINT14_BITPOS)
                            11804 ; 682  |#define ENDPOINT15_SETMASK (1<<ENDPOINT15_BITPOS)
                            11805 ; 683  |
                            11806 ; 684  |#define ENDPOINT0_CLRMASK (~(WORD)ENDPOINT0_SETMASK)    
                            11807 ; 685  |#define ENDPOINT1_CLRMASK (~(WORD)ENDPOINT1_SETMASK)    
                            11808 ; 686  |#define ENDPOINT2_CLRMASK (~(WORD)ENDPOINT2_SETMASK)    
                            11809 ; 687  |#define ENDPOINT3_CLRMASK (~(WORD)ENDPOINT3_SETMASK)    
                            11810 ; 688  |#define ENDPOINT4_CLRMASK (~(WORD)ENDPOINT4_SETMASK)    
                            11811 ; 689  |#define ENDPOINT5_CLRMASK (~(WORD)ENDPOINT5_SETMASK)    
                            11812 ; 690  |#define ENDPOINT6_CLRMASK (~(WORD)ENDPOINT6_SETMASK)    
                            11813 ; 691  |#define ENDPOINT7_CLRMASK (~(WORD)ENDPOINT7_SETMASK)    
                            11814 ; 692  |#define ENDPOINT8_CLRMASK (~(WORD)ENDPOINT8_SETMASK)    
                            11815 ; 693  |#define ENDPOINT9_CLRMASK (~(WORD)ENDPOINT9_SETMASK)    
                            11816 ; 694  |#define ENDPOINT10_CLRMASK (~(WORD)ENDPOINT10_SETMASK)
                            11817 ; 695  |#define ENDPOINT11_CLRMASK (~(WORD)ENDPOINT11_SETMASK)
                            11818 ; 696  |#define ENDPOINT12_CLRMASK (~(WORD)ENDPOINT12_SETMASK)
                            11819 ; 697  |#define ENDPOINT13_CLRMASK (~(WORD)ENDPOINT13_SETMASK)
                            11820 ; 698  |#define ENDPOINT14_CLRMASK (~(WORD)ENDPOINT14_SETMASK)
                            11821 ; 699  |#define ENDPOINT15_CLRMASK (~(WORD)ENDPOINT15_SETMASK)
                            11822 ; 700  |
                            11823 ; 701  |typedef union               
                            11824 ; 702  |{
                            11825 ; 703  |    struct {
                            11826 ; 704  |        int EP0              :1;
                            11827 ; 705  |        int EP1              :1;
                            11828 ; 706  |        int EP2              :1;
                            11829 ; 707  |        int EP3              :1;
                            11830 ; 708  |        int EP4              :1;
                            11831 ; 709  |        int EP5              :1;
                            11832 ; 710  |        int EP6              :1;
                            11833 ; 711  |        int EP7              :1;
                            11834 ; 712  |        int EP8              :1;
                            11835 ; 713  |        int EP9              :1;
                            11836 ; 714  |        int EP10             :1;
                            11837 ; 715  |        int EP11             :1;
                            11838 ; 716  |        int EP12             :1;
                            11839 ; 717  |        int EP13             :1;
                            11840 ; 718  |        int EP14             :1;
                            11841 ; 719  |        int EP15             :1;
                            11842 ; 720  |        int                  :32;
                            11843 ; 721  |    } B;
                            11844 ; 722  |    DWORD I;
                            11845 ; 723  |} endpsetupstat_type;
                            11846 ; 724  |
                            11847 ; 725  |//#define HW_ARC_ENDPTSETUPSTAT (*(volatile endpsetupstat_type _X*) (HW_ARC_BASEADDR+0x1ac))    
                            11848 ; 726  |
                            11849 ; 727  |typedef union               
                            11850 ; 728  |{
                            11851 ; 729  |    struct {
                            11852 ; 730  |        int EP0              :1;
                            11853 ; 731  |        int EP1              :1;
                            11854 ; 732  |        int EP2              :1;
                            11855 ; 733  |        int EP3              :1;
                            11856 ; 734  |        int EP4              :1;
                            11857 ; 735  |        int EP5              :1;
                            11858 ; 736  |        int EP6              :1;
                            11859 ; 737  |        int EP7              :1;
                            11860 ; 738  |        int EP8              :1;
                            11861 ; 739  |        int EP9              :1;
                            11862 ; 740  |        int EP10             :1;
                            11863 ; 741  |        int EP11             :1;
                            11864 ; 742  |        int EP12             :1;
                            11865 ; 743  |        int EP13             :1;
                            11866 ; 744  |        int EP14             :1;
                            11867 ; 745  |        int EP15             :1;
                            11868 ; 746  |        int                  :8;
                            11869 ; 747  |    } B;
                            11870 ; 748  |    WORD I;
                            11871 ; 749  |} endpt_type;
                            11872 
                            11910 
                            11911 ; 750  |
                            11912 ; 751  |typedef union
                            11913 ; 752  |{
                            11914 ; 753  |   struct {
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page  48

M:ADDR CODE           CYCLES LINE SOURCELINE
                            11915 ; 754  |       endpt_type  RX;
                            11916 ; 755  |       endpt_type  TX;
                            11917 ; 756  |   } W;
                            11918 ; 757  |   DWORD DW;
                            11919 ; 758  |} endptrxtx_type;
                            11920 ; 759  |
                            11921 ; 760  |//#define HW_ARC_ENDPTPRIME    (*(volatile endptrxtx_type _X*) (HW_ARC_BASEADDR+0x1b0))    
                            11922 ; 761  |//#define HW_ARC_ENDPTFLUSH    (*(volatile endptrxtx_type _X*) (HW_ARC_BASEADDR+0x1b4))    
                            11923 ; 762  |//#define HW_ARC_ENDPTSTAT     (*(volatile endptrxtx_type _X*) (HW_ARC_BASEADDR+0x1b8))    
                            11924 ; 763  |//#define HW_ARC_ENDPTCOMPLETE (*(volatile endptrxtx_type _X*) (HW_ARC_BASEADDR+0x1bc))    
                            11925 ; 764  |
                            11926 ; 765  |
                            11927 ; 766  |
                            11928 ; 767  |/////////////////////////////////////////////////////////////////////////////////
                            11929 ; 768  |//  USB ARC Register Endpoint control (HW_ARC_ENDPTCTRL)
                            11930 ; 769  |
                            11931 ; 770  |#define HW_ARC_ENDPTCTRL_RXS_BITPOS (0)
                            11932 ; 771  |#define HW_ARC_ENDPTCTRL_RXD_BITPOS (1)
                            11933 ; 772  |#define HW_ARC_ENDPTCTRL_RXT_BITPOS (2)
                            11934 ; 773  |#define HW_ARC_ENDPTCTRL_RXI_BITPOS (5)
                            11935 ; 774  |#define HW_ARC_ENDPTCTRL_RXR_BITPOS (6)
                            11936 ; 775  |#define HW_ARC_ENDPTCTRL_RXE_BITPOS (7)
                            11937 ; 776  |#define HW_ARC_ENDPTCTRL_TXS_BITPOS (16)
                            11938 ; 777  |#define HW_ARC_ENDPTCTRL_TXD_BITPOS (17)
                            11939 ; 778  |#define HW_ARC_ENDPTCTRL_TXT_BITPOS (18)
                            11940 ; 779  |#define HW_ARC_ENDPTCTRL_TXI_BITPOS (21)
                            11941 ; 780  |#define HW_ARC_ENDPTCTRL_TXR_BITPOS (22)
                            11942 ; 781  |#define HW_ARC_ENDPTCTRL_TXE_BITPOS (23)
                            11943 ; 782  |
                            11944 ; 783  |#define HW_ARC_ENDPTCTRL_RXS_SETMASK (1<<HW_ARC_ENDPTCTRL_RXS_BITPOS)
                            11945 ; 784  |#define HW_ARC_ENDPTCTRL_RXD_SETMASK (1<<HW_ARC_ENDPTCTRL_RXD_BITPOS)
                            11946 ; 785  |#define HW_ARC_ENDPTCTRL_RXT_SETMASK (3<<HW_ARC_ENDPTCTRL_RXT_BITPOS)
                            11947 ; 786  |#define HW_ARC_ENDPTCTRL_RXI_SETMASK (1<<HW_ARC_ENDPTCTRL_RXI_BITPOS)
                            11948 ; 787  |#define HW_ARC_ENDPTCTRL_RXR_SETMASK (1<<HW_ARC_ENDPTCTRL_RXR_BITPOS)
                            11949 ; 788  |#define HW_ARC_ENDPTCTRL_RXE_SETMASK (1<<HW_ARC_ENDPTCTRL_RXE_BITPOS)
                            11950 ; 789  |#define HW_ARC_ENDPTCTRL_TXS_SETMASK (1<<HW_ARC_ENDPTCTRL_TXS_BITPOS)
                            11951 ; 790  |#define HW_ARC_ENDPTCTRL_TXD_SETMASK (1<<HW_ARC_ENDPTCTRL_TXD_BITPOS)
                            11952 ; 791  |#define HW_ARC_ENDPTCTRL_TXT_SETMASK (3<<HW_ARC_ENDPTCTRL_TXT_BITPOS)
                            11953 ; 792  |#define HW_ARC_ENDPTCTRL_TXI_SETMASK (1<<HW_ARC_ENDPTCTRL_TXI_BITPOS)
                            11954 ; 793  |#define HW_ARC_ENDPTCTRL_TXR_SETMASK (1<<HW_ARC_ENDPTCTRL_TXR_BITPOS)
                            11955 ; 794  |
                            11956 ; 795  |// We need to equate the following label like this due to a sign extension problem
                            11957 ; 796  |// if equated like so (1<<HW_ARC_ENDPTCTRL_TXE_BITPOS)
                            11958 ; 797  |#define HW_ARC_ENDPTCTRL_TXE_SETMASK (0x00800000)
                            11959 ; 798  |//HW_ARC_ENDPTCTRL_TXE_SETMASK    equ     (1<<HW_ARC_ENDPTCTRL_TXE_BITPOS)
                            11960 ; 799  |
                            11961 ; 800  |#define HW_ARC_ENDPTCTRL_RXS_CLRMASK (~(WORD)HW_ARC_ENDPTCTRL_RXS_SETMASK)
                            11962 ; 801  |#define HW_ARC_ENDPTCTRL_RXD_CLRMASK (~(WORD)HW_ARC_ENDPTCTRL_RXD_SETMASK)
                            11963 ; 802  |#define HW_ARC_ENDPTCTRL_RXT_CLRMASK (~(WORD)HW_ARC_ENDPTCTRL_RXT_SETMASK)
                            11964 ; 803  |#define HW_ARC_ENDPTCTRL_RXI_CLRMASK (~(WORD)HW_ARC_ENDPTCTRL_RXI_SETMASK)
                            11965 ; 804  |#define HW_ARC_ENDPTCTRL_RXR_CLRMASK (~(WORD)HW_ARC_ENDPTCTRL_RXR_SETMASK)
                            11966 ; 805  |#define HW_ARC_ENDPTCTRL_RXE_CLRMASK (~(WORD)HW_ARC_ENDPTCTRL_RXE_SETMASK)
                            11967 ; 806  |#define HW_ARC_ENDPTCTRL_TXS_CLRMASK (~(WORD)HW_ARC_ENDPTCTRL_TXS_SETMASK)
                            11968 ; 807  |#define HW_ARC_ENDPTCTRL_TXD_CLRMASK (~(WORD)HW_ARC_ENDPTCTRL_TXD_SETMASK)
                            11969 ; 808  |#define HW_ARC_ENDPTCTRL_TXT_CLRMASK (~(WORD)HW_ARC_ENDPTCTRL_TXT_SETMASK)
                            11970 ; 809  |#define HW_ARC_ENDPTCTRL_TXI_CLRMASK (~(WORD)HW_ARC_ENDPTCTRL_TXI_SETMASK)
                            11971 ; 810  |#define HW_ARC_ENDPTCTRL_TXR_CLRMASK (~(WORD)HW_ARC_ENDPTCTRL_TXR_SETMASK)
                            11972 ; 811  |#define HW_ARC_ENDPTCTRL_TXE_CLRMASK (~(WORD)HW_ARC_ENDPTCTRL_TXE_SETMASK)
                            11973 ; 812  |
                            11974 ; 813  |
                            11975 ; 814  |typedef union               
                            11976 ; 815  |{
                            11977 ; 816  |    struct {
                            11978 ; 817  |        int RXS             :1;
                            11979 ; 818  |        int RXD             :1;
                            11980 ; 819  |        int RXT             :2;
                            11981 ; 820  |        int                 :1;
                            11982 ; 821  |        int RXI             :1;
                            11983 ; 822  |        int RXR             :1;
                            11984 ; 823  |        int RXE             :1;
                            11985 ; 824  |        int                 :8;
                            11986 ; 825  |        int TXS             :1;
                            11987 ; 826  |        int TXD             :1;
                            11988 ; 827  |        int TXT             :2;
                            11989 ; 828  |        int                 :1;
                            11990 ; 829  |        int TXI             :1;
                            11991 ; 830  |        int TXR             :1;
                            11992 ; 831  |        int TXE             :1;
                            11993 ; 832  |        int                 :24;
                            11994 ; 833  |    } B;
                            11995 ; 834  |    DWORD I;
                            11996 ; 835  |} endptctrl_type;
                            11997 ; 836  |//#define HW_ARC_ENDPTCTRL[n] (*(volatile usbintr_type _X*) (HW_ARC_BASEADDR+0x1c0+((n)*4)))    
                            11998 ; 837  |
                            11999 ; 838  |#endif
                            12000 ; 839  |
                            12001 ; 840  |
                            12002 
                            12004 
                            12005 ; 37   |#include "regsusb20phy.h"
                            12006 
                            12008 
                            12009 ; 1    |//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                            12010 ; 2    |//;  Copyright(C) SigmaTel, Inc. 2002-2005
                            12011 ; 3    |//;  File        : regsusbphy.inc
                            12012 ; 4    |//;  Description : USB20 PHY Register definition
                            12013 ; 5    |//;  Updated 2.23.2003 By M. Henson
                            12014 ; 6    |//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                            12015 ; 7    |
                            12016 ; 8    |// The following naming conventions are followed in this file.
                            12017 ; 9    |// All registers are named using the format...
                            12018 ; 10   |//     HW_<module>_<regname>
                            12019 ; 11   |// where <module> is the module name which can be any of the following...
                            12020 ; 12   |//     USB20
                            12021 ; 13   |// (Note that when there is more than one copy of a particular module, the
                            12022 ; 14   |// module name includes a number starting from 0 for the first instance of
                            12023 ; 15   |// that module)
                            12024 ; 16   |// <regname> is the specific register within that module
                            12025 ; 17   |// We also define the following...
                            12026 ; 18   |//     HW_<module>_<regname>_BITPOS
                            12027 ; 19   |// which defines the starting bit (i.e. LSB) of a multi bit field
                            12028 ; 20   |//     HW_<module>_<regname>_SETMASK
                            12029 ; 21   |// which does something else, and
                            12030 ; 22   |//     HW_<module>_<regname>_CLRMASK
                            12031 ; 23   |// which does something else.
                            12032 ; 24   |// Other rules
                            12033 ; 25   |//     All caps
                            12034 ; 26   |//     Numeric identifiers start at 0
                            12035 ; 27   |
                            12036 ; 28   |#if !(defined(regsusbphyinc))
                            12037 ; 29   |#define regsusbphyinc 1
                            12038 ; 30   |
                            12039 ; 31   |#include "types.h"
                            12040 
                            12042 
                            12043 ; 1    |////////////////////////////////////////////////////////////////////////////////
                            12044 ; 2    |// Copyright(C) SigmaTel, Inc. 2000-2004
                            12045 ; 3    |//
                            12046 ; 4    |// Filename: types.h
                            12047 ; 5    |// Description: Standard data types
                            12048 ; 6    |////////////////////////////////////////////////////////////////////////////////
                            12049 ; 7    |
                            12050 ; 8    |#ifndef _TYPES_H
                            12051 ; 9    |#define _TYPES_H
                            12052 ; 10   |
                            12053 ; 11   |// TODO:  move this outta here!
                            12054 ; 12   |#if !defined(NOERROR)
                            12055 ; 13   |#define NOERROR 0
                            12056 ; 14   |#define SUCCESS 0
                            12057 ; 15   |#endif 
                            12058 ; 16   |#if !defined(SUCCESS)
                            12059 ; 17   |#define SUCCESS  0
                            12060 ; 18   |#endif
                            12061 ; 19   |#if !defined(ERROR)
                            12062 ; 20   |#define ERROR   -1
                            12063 ; 21   |#endif
                            12064 ; 22   |#if !defined(FALSE)
                            12065 ; 23   |#define FALSE 0
                            12066 ; 24   |#endif
                            12067 ; 25   |#if !defined(TRUE)
                            12068 ; 26   |#define TRUE  1
                            12069 ; 27   |#endif
                            12070 ; 28   |
                            12071 ; 29   |#if !defined(NULL)
                            12072 ; 30   |#define NULL 0
                            12073 ; 31   |#endif
                            12074 ; 32   |
                            12075 ; 33   |#define MAX_INT     0x7FFFFF
                            12076 ; 34   |#define MAX_LONG    0x7FFFFFffffff
                            12077 ; 35   |        // max positive unsigned long value: -1 == 0xFFFFFFffffff
                            12078 ; 36   |#define MAX_ULONG   (-1) 
                            12079 ; 37   |
                            12080 ; 38   |#define WORD_SIZE   24              // word size in bits
                            12081 ; 39   |#define BYTES_PER_WORD 3            // 8 bit bytes
                            12082 ; 40   |
                            12083 ; 41   |
                            12084 ; 42   |#define BYTE    unsigned char       // btVarName
                            12085 ; 43   |#define CHAR    signed char         // cVarName
                            12086 ; 44   |#define USHORT  unsigned short      // usVarName
                            12087 ; 45   |#define SHORT   unsigned short      // sVarName
                            12088 ; 46   |#define WORD    unsigned int        // wVarName
                            12089 ; 47   |#define INT     signed int          // iVarName
                            12090 ; 48   |#define DWORD   unsigned long       // dwVarName
                            12091 ; 49   |#define LONG    signed long         // lVarName
                            12092 ; 50   |#define BOOL    unsigned int        // bVarName
                            12093 ; 51   |#define FRACT   _fract              // frVarName
                            12094 ; 52   |#define LFRACT  long _fract         // lfrVarName
                            12095 ; 53   |#define CIRC    _circ               // cp<type prefix>VarName (see below)
                            12096 ; 54   |#define FLOAT   float               // fVarName
                            12097 ; 55   |#define DBL     double              // dVarName
                            12098 ; 56   |#define ENUM    enum                // eVarName
                            12099 ; 57   |#define CMX     _complex            // cmxVarName
                            12100 ; 58   |typedef WORD UCS3;                   // 
                            12101 ; 59   |
                            12102 ; 60   |#define UINT16  unsigned short
                            12103 ; 61   |#define UINT8   unsigned char   
                            12104 ; 62   |#define UINT32  unsigned long
                            12105 ; 63   |#define UINT64  unsigned long   // need to figure out how to do 64 bit values.  Or port exisiting code to only use 48 bit
                            12106 ; 64   |#define INT64   unsigned long   // need to figure out how to do 64 bit values.  Or port exisiting code to only use 48 bit
                            12107 ; 65   |#define WCHAR   UINT16
                            12108 ; 66   |
                            12109 ; 67   |//UINT128 is 16 bytes or 6 words
                            12110 ; 68   |typedef struct UINT128_3500 {   
                            12111 ; 69   |    int val[6];     
                            12112 ; 70   |} UINT128_3500;
                            12113 ; 71   |
                            12114 ; 72   |#define UINT128   UINT128_3500
                            12115 ; 73   |
                            12116 ; 74   |// Little endian word packed byte strings:   
                            12117 ; 75   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                            12118 ; 76   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                            12119 ; 77   |// Little endian word packed byte strings:   
                            12120 ; 78   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                            12121 ; 79   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                            12122 ; 80   |
                            12123 ; 81   |// Declare Memory Spaces To Use When Coding
                            12124 ; 82   |// A. Sector Buffers
                            12125 ; 83   |#define SECTOR_BUFFER_MEM_X _X
                            12126 ; 84   |#define SECTOR_BUFFER_MEM_Y _Y
                            12127 ; 85   |#define SECTOR_BUFFER_MEM SECTOR_BUFFER_MEM_X
                            12128 ; 86   |typedef WORD SECTOR_BUFFER_MEM SECTOR_BUFFER;
                            12129 ; 87   |typedef SECTOR_BUFFER * P_SECTOR_BUFFER;
                            12130 ; 88   |// B. Media DDI Memory
                            12131 ; 89   |#define MEDIA_DDI_MEM _Y
                            12132 ; 90   |
                            12133 ; 91   |
                            12134 ; 92   |
                            12135 ; 93   |// Pointers to linear structures are labeled as: p<type prefix>VarName
                            12136 ; 94   |// Examples of circular pointers:
                            12137 ; 95   |//    INT CIRC cpiVarName
                            12138 ; 96   |//    DWORD CIRC cpdwVarName
                            12139 ; 97   |
                            12140 ; 98   |#define RETCODE INT                 // rcVarName
                            12141 ; 99   |
                            12142 ; 100  |// generic bitfield structure
                            12143 ; 101  |struct Bitfield {
                            12144 ; 102  |    unsigned int B0  :1;
                            12145 ; 103  |    unsigned int B1  :1;
                            12146 ; 104  |    unsigned int B2  :1;
                            12147 ; 105  |    unsigned int B3  :1;
                            12148 ; 106  |    unsigned int B4  :1;
                            12149 ; 107  |    unsigned int B5  :1;
                            12150 ; 108  |    unsigned int B6  :1;
                            12151 ; 109  |    unsigned int B7  :1;
                            12152 ; 110  |    unsigned int B8  :1;
                            12153 ; 111  |    unsigned int B9  :1;
                            12154 ; 112  |    unsigned int B10 :1;
                            12155 ; 113  |    unsigned int B11 :1;
                            12156 ; 114  |    unsigned int B12 :1;
                            12157 ; 115  |    unsigned int B13 :1;
                            12158 ; 116  |    unsigned int B14 :1;
                            12159 ; 117  |    unsigned int B15 :1;
                            12160 ; 118  |    unsigned int B16 :1;
                            12161 ; 119  |    unsigned int B17 :1;
                            12162 ; 120  |    unsigned int B18 :1;
                            12163 ; 121  |    unsigned int B19 :1;
                            12164 ; 122  |    unsigned int B20 :1;
                            12165 ; 123  |    unsigned int B21 :1;
                            12166 ; 124  |    unsigned int B22 :1;
                            12167 ; 125  |    unsigned int B23 :1;
                            12168 ; 126  |};
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page  49

M:ADDR CODE           CYCLES LINE SOURCELINE
                            12169 ; 127  |
                            12170 ; 128  |union BitInt {
                            12171 ; 129  |        struct Bitfield B;
                            12172 ; 130  |        int        I;
                            12173 ; 131  |};
                            12174 ; 132  |
                            12175 ; 133  |#define MAX_MSG_LENGTH 10
                            12176 ; 134  |struct CMessage
                            12177 ; 135  |{
                            12178 ; 136  |        unsigned int m_uLength;
                            12179 ; 137  |        unsigned int m_uMsg[MAX_MSG_LENGTH];
                            12180 ; 138  |};
                            12181 ; 139  |
                            12182 ; 140  |typedef struct {
                            12183 ; 141  |    WORD m_wLength;
                            12184 ; 142  |    WORD m_wMessage;
                            12185 ; 143  |    WORD m_wParams[MAX_MSG_LENGTH];
                            12186 ; 144  |} Message;
                            12187 ; 145  |
                            12188 ; 146  |struct MessageQueueDescriptor
                            12189 ; 147  |{
                            12190 ; 148  |        int *m_pBase;
                            12191 ; 149  |        int m_iModulo;
                            12192 ; 150  |        int m_iSize;
                            12193 ; 151  |        int *m_pHead;
                            12194 ; 152  |        int *m_pTail;
                            12195 ; 153  |};
                            12196 ; 154  |
                            12197 ; 155  |struct ModuleEntry
                            12198 ; 156  |{
                            12199 ; 157  |    int m_iSignaledEventMask;
                            12200 ; 158  |    int m_iWaitEventMask;
                            12201 ; 159  |    int m_iResourceOfCode;
                            12202 ; 160  |    struct MessageQueueDescriptor *m_pMessageQueue;
                            12203 ; 161  |    int _asmfunc (*m_pProcessEntryPoint)(union WaitMask Signals,struct MessageQueueDescriptor *);
                            12204 ; 162  |    int _asmfunc (*m_pInitFunction)(struct MessageQueueDescriptor *);
                            12205 ; 163  |    int m_uTimeOutHigh;
                            12206 ; 164  |    int m_uTimeOutLow;
                            12207 ; 165  |    int _asmfunc (*m_pBackgroundFunction)(struct MessageQueueDescriptor *);
                            12208 ; 166  |};
                            12209 ; 167  |
                            12210 ; 168  |union WaitMask{
                            12211 ; 169  |    struct B{
                            12212 ; 170  |        unsigned int m_bNone     :1;
                            12213 ; 171  |        unsigned int m_bMessage  :1;
                            12214 ; 172  |        unsigned int m_bTimer    :1;
                            12215 ; 173  |        unsigned int m_bButton   :1;
                            12216 ; 174  |    } B;
                            12217 ; 175  |    int I;
                            12218 ; 176  |} ;
                            12219 ; 177  |
                            12220 ; 178  |
                            12221 ; 179  |struct Button {
                            12222 ; 180  |        WORD wButtonEvent;
                            12223 ; 181  |        WORD wUnused[MAX_MSG_LENGTH];   
                            12224 ; 182  |};
                            12225 ; 183  |
                            12226 ; 184  |struct Message {
                            12227 ; 185  |        WORD wMsgLength;
                            12228 ; 186  |        WORD wMsgCommand;
                            12229 ; 187  |        WORD wMsgParms[MAX_MSG_LENGTH-1];
                            12230 ; 188  |};
                            12231 ; 189  |
                            12232 ; 190  |union EventTypes {
                            12233 ; 191  |        struct CMessage msg;
                            12234 ; 192  |        struct Button Button ;
                            12235 ; 193  |        struct Message Message;
                            12236 ; 194  |};
                            12237 ; 195  |
                            12238 ; 196  |// next 2 used to get updater build to return correct protocol ver in scsi response.
                            12239 ; 197  |#define BUILD_TYPE_UPDATER  0x100
                            12240 ; 198  |#define BUILD_TYPE_HOSTLINK 0x101
                            12241 ; 199  |#define BUILD_TYPE_PLAYER   0x102
                            12242 ; 200  |
                            12243 ; 201  |// Resets part if RETAIL build. DEBUG build executes debug instruction to halt.
                            12244 ; 202  |#define SystemHalt() __asm(" include 'sysmacro.asm' \n error") 
                            12245 ; 203  |#define assert(x)    if(!(x)) __asm(" include 'sysmacro.asm' \n error")
                            12246 ; 204  |
                            12247 ; 205  |#if DEBUG
                            12248 ; 206  |// For DEBUG builds, DebugBuildAssert(condition) halts if condition evaluates to FALSE. 
                            12249 ; 207  |#define DebugBuildAssert(x)    if(!(x)) __asm(" debug ")
                            12250 ; 208  |#else 
                            12251 ; 209  |// For RETAIL builds, DebugBuildAssert(condition) does nothing & execution continues rather than halt or reset. 
                            12252 ; 210  |#define DebugBuildAssert(x)    
                            12253 ; 211  |#endif
                            12254 ; 212  |
                            12255 ; 213  |// Do this in your C files to make a reminder that's displayed during the build.
                            12256 ; 214  |//  #pragma asm
                            12257 ; 215  |//  WARN 'Note to builder: reminder to do this after verifying that'
                            12258 ; 216  |//  #pragma endasm
                            12259 ; 217  |
                            12260 ; 218  |
                            12261 ; 219  |#ifdef COLOR_262K
                            12262 ; 220  |#define RGB(r,g,b)    ((0x0000FC & (r)) << 10) | ((0x0000FC & (g)) << 4) | ((0x0000FC & (b)) >> 2)    //262k
                            12263 ; 221  |#elif defined(COLOR_65K)
                            12264 ; 222  |#define RGB(r,g,b)    ((0x0000F8 & (r)) << 8) | ((0x0000FC & (g)) << 3) | ((0x0000F8 & (b)) >> 3)  //65k
                            12265 ; 223  |#else
                            12266 ; 224  |#define RGB(r,g,b)       ((0x0000F0 & (r)) << 4) | (0x0000F0 & (g)) | ((0x0000F0 & (b)) >> 4)
                            12267 ; 225  |#endif
                            12268 ; 226  |    
                            12269 ; 227  |#endif // #ifndef _TYPES_H
                            12270 
                            12272 
                            12273 ; 32   |
                            12274 ; 33   |//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                            12275 ; 34   |//   USB2.0 PHY STMP Registers 
                            12276 ; 35   |//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                            12277 ; 36   |#define HW_USBPHY_BASEADDR (0xF210)
                            12278 ; 37   |
                            12279 ; 38   |
                            12280 ; 39   |/////////////////////////////////////////////////////////////////////////////////
                            12281 ; 40   |//  USB PHY Powerdown Register (HW_USBPHYPWD) Bit Definitions
                            12282 ; 41   |
                            12283 ; 42   |#define HW_USBPHYPWD_TXDISCON1500_BITPOS (5)
                            12284 ; 43   |#define HW_USBPHYPWD_PLLVCOPWD_BITPOS (6)
                            12285 ; 44   |#define HW_USBPHYPWD_PLLVCPPWD_BITPOS (7)
                            12286 ; 45   |#define HW_USBPHYPWD_TXPWDFS_BITPOS (10)
                            12287 ; 46   |#define HW_USBPHYPWD_TXPWDIBIAS_BITPOS (11)
                            12288 ; 47   |#define HW_USBPHYPWD_TXPWDV2I_BITPOS (12)
                            12289 ; 48   |#define HW_USBPHYPWD_TXPWDVBG_BITPOS (13)
                            12290 ; 49   |#define HW_USBPHYPWD_TXPWDCOMP_BITPOS (14)
                            12291 ; 50   |#define HW_USBPHYPWD_RXPWDDISCONDET_BITPOS (16)
                            12292 ; 51   |#define HW_USBPHYPWD_RXPWDENV_BITPOS (17)
                            12293 ; 52   |#define HW_USBPHYPWD_RXPWD1PT1_BITPOS (18)
                            12294 ; 53   |#define HW_USBPHYPWD_RXPWDDIFF_BITPOS (19)
                            12295 ; 54   |#define HW_USBPHYPWD_RXPWDRX_BITPOS (20)
                            12296 ; 55   |#define HW_USBPHYPWD_PWDIBIAS_BITPOS (22)
                            12297 ; 56   |#define HW_USBPHYPWD_REGRESET_BITPOS (23)
                            12298 ; 57   |
                            12299 ; 58   |#define HW_USBPHYPWD_TXDISCON1500_SETMASK (1<<HW_USBPHYPWD_TXDISCON1500_BITPOS)
                            12300 ; 59   |#define HW_USBPHYPWD_PLLVCOPWD_SETMASK (1<<HW_USBPHYPWD_PLLVCOPWD_BITPOS)
                            12301 ; 60   |#define HW_USBPHYPWD_PLLVCPPWD_SETMASK (1<<HW_USBPHYPWD_PLLVCPPWD_BITPOS)
                            12302 ; 61   |#define HW_USBPHYPWD_TXPWDFS_SETMASK (1<<HW_USBPHYPWD_TXPWDFS_BITPOS)
                            12303 ; 62   |#define HW_USBPHYPWD_TXPWDIBIAS_SETMASK (1<<HW_USBPHYPWD_TXPWDIBIAS_BITPOS)
                            12304 ; 63   |#define HW_USBPHYPWD_TXPWDV2I_SETMASK (1<<HW_USBPHYPWD_TXPWDV2I_BITPOS)
                            12305 ; 64   |#define HW_USBPHYPWD_TXPWDVBG_SETMASK (1<<HW_USBPHYPWD_TXPWDVBG_BITPOS)
                            12306 ; 65   |#define HW_USBPHYPWD_TXPWDCOMP_SETMASK (1<<HW_USBPHYPWD_TXPWDCOMP_BITPOS)
                            12307 ; 66   |#define HW_USBPHYPWD_RXPWDDISCONDET_SETMASK (1<<HW_USBPHYPWD_RXPWDDISCONDET_BITPOS)
                            12308 ; 67   |#define HW_USBPHYPWD_RXPWDENV_SETMASK (1<<HW_USBPHYPWD_RXPWDENV_BITPOS)
                            12309 ; 68   |#define HW_USBPHYPWD_RXPWD1PT1_SETMASK (1<<HW_USBPHYPWD_RXPWD1PT1_BITPOS)
                            12310 ; 69   |#define HW_USBPHYPWD_RXPWDDIFF_SETMASK (1<<HW_USBPHYPWD_RXPWDDIFF_BITPOS)
                            12311 ; 70   |#define HW_USBPHYPWD_RXPWDRX_SETMASK (1<<HW_USBPHYPWD_RXPWDRX_BITPOS)
                            12312 ; 71   |#define HW_USBPHYPWD_PWDIBIAS_SETMASK (1<<HW_USBPHYPWD_PWDIBIAS_BITPOS)
                            12313 ; 72   |#define HW_USBPHYPWD_REGRESET_SETMASK (1<<HW_USBPHYPWD_REGRESET_BITPOS)
                            12314 ; 73   |
                            12315 ; 74   |#define HW_USBPHYPWD_TXDISCON1500_CLRMASK (~(WORD)HW_USBPHYPWD_TXDISCON1500_SETMASK)
                            12316 ; 75   |#define HW_USBPHYPWD_PLLVCOPWD_CLRMASK (~(WORD)HW_USBPHYPWD_PLLVCOPWD_SETMASK)
                            12317 ; 76   |#define HW_USBPHYPWD_PLLVCPPWD_CLRMASK (~(WORD)HW_USBPHYPWD_PLLVCPPWD_SETMASK)
                            12318 ; 77   |#define HW_USBPHYPWD_TXPWDFS_CLRMASK (~(WORD)HW_USBPHYPWD_TXPWDFS_SETMASK)
                            12319 ; 78   |#define HW_USBPHYPWD_TXPWDIBIAS_CLRMASK (~(WORD)HW_USBPHYPWD_TXPWDIBIAS_SETMASK)
                            12320 ; 79   |#define HW_USBPHYPWD_TXPWDV2I_CLRMASK (~(WORD)HW_USBPHYPWD_TXPWDV2I_SETMASK)
                            12321 ; 80   |#define HW_USBPHYPWD_TXPWDVBG_CLRMASK (~(WORD)HW_USBPHYPWD_TXPWDVBG_SETMASK)
                            12322 ; 81   |#define HW_USBPHYPWD_TXPWDCOMP_CLRMASK (~(WORD)HW_USBPHYPWD_TXPWDCOMP_SETMASK)
                            12323 ; 82   |#define HW_USBPHYPWD_RXPWDDISCONDET_CLRMASK (~(WORD)HW_USBPHYPWD_RXPWDDISCONDET_SETMASK)
                            12324 ; 83   |#define HW_USBPHYPWD_RXPWDENV_CLRMASK (~(WORD)HW_USBPHYPWD_RXPWDENV_SETMASK)
                            12325 ; 84   |#define HW_USBPHYPWD_RXPWD1PT1_CLRMASK (~(WORD)HW_USBPHYPWD_RXPWD1PT1_SETMASK)
                            12326 ; 85   |#define HW_USBPHYPWD_RXPWDDIFF_CLRMASK (~(WORD)HW_USBPHYPWD_RXPWDDIFF_SETMASK)
                            12327 ; 86   |#define HW_USBPHYPWD_RXPWDRX_CLRMASK (~(WORD)HW_USBPHYPWD_RXPWDRX_SETMASK)
                            12328 ; 87   |#define HW_USBPHYPWD_PWDIBIAS_CLRMASK (~(WORD)HW_USBPHYPWD_PWDIBIAS_SETMASK)
                            12329 ; 88   |#define HW_USBPHYPWD_REGRESET_CLRMASK (~(WORD)HW_USBPHYPWD_REGRESET_SETMASK)
                            12330 ; 89   |
                            12331 ; 90   |typedef union               
                            12332 ; 91   |{
                            12333 ; 92   |    struct {
                            12334 ; 93   |        int RSVD0          :5;
                            12335 ; 94   |        int TXDISCON1500   :1;
                            12336 ; 95   |        int PLLVCOPWD      :1;
                            12337 ; 96   |        int PLLVCPPWD      :1;
                            12338 ; 97   |        int RSVD1          :2;
                            12339 ; 98   |        int TXPWDFS        :1;
                            12340 ; 99   |        int TXPWDIBIAS     :1;
                            12341 ; 100  |        int TXPWDV2I       :1;
                            12342 ; 101  |        int TXPWDVBG       :1;
                            12343 ; 102  |        int TXPWDCOMP      :1;
                            12344 ; 103  |        int RSVD2          :1;
                            12345 ; 104  |        int RXPWDDISCONDET :1;
                            12346 ; 105  |        int RXPWDENV       :1;
                            12347 ; 106  |        int RXPWD1PT1      :1;
                            12348 ; 107  |        int RXPWDDIFF      :1;
                            12349 ; 108  |        int RXPWDRX        :1;
                            12350 ; 109  |        int RSVD3          :1;
                            12351 ; 110  |        int PWDIBIAS       :1;
                            12352 ; 111  |        int REGRESET       :1;
                            12353 ; 112  |    } B;
                            12354 ; 113  |    int I;
                            12355 ; 114  |} usbphypwd_type;
                            12356 ; 115  |#define HW_USBPHYPWD      (*(volatile usbphypwd_type _X*) (HW_USBPHY_BASEADDR))    /* USB PHY Powerdown Register */
                            12357 ; 116  |
                            12358 ; 117  |/////////////////////////////////////////////////////////////////////////////////
                            12359 ; 118  |//  USB PHY Transmit register (HW_USBPHYTX) Bit Definitions
                            12360 ; 119  |#define HW_USBPHYTX_TXCAL1500_BITPOS (0)
                            12361 ; 120  |#define HW_USBPHYTX_TXENCAL1500_BITPOS (5)
                            12362 ; 121  |#define HW_USBPHYTX_TXHSXCVR_BITPOS (6)
                            12363 ; 122  |#define HW_USBPHYTX_TXCALIBRATE_BITPOS (7)
                            12364 ; 123  |#define HW_USBPHYTX_TXCAL45DN_BITPOS (8)
                            12365 ; 124  |#define HW_USBPHYTX_TXENCAL45DN_BITPOS (13)
                            12366 ; 125  |#define HW_USBPHYTX_TXHSTERM_BITPOS (14)
                            12367 ; 126  |#define HW_USBPHYTX_TXSKEW_BITPOS (15)
                            12368 ; 127  |#define HW_USBPHYTX_TXCAL45DP_BITPOS (16)
                            12369 ; 128  |#define HW_USBPHYTX_TXENCAL45DP_BITPOS (21)
                            12370 ; 129  |#define HW_USBPHYTX_TXFSHIZ_BITPOS (22)
                            12371 ; 130  |#define HW_USBPHYTX_TXCOMPOUT_BITPOS (23)
                            12372 ; 131  |
                            12373 ; 132  |#define HW_USBPHYTX_TXCAL1500_WIDTH (4)
                            12374 ; 133  |#define HW_USBPHYTX_TXENCAL1500_WIDTH (1)
                            12375 ; 134  |#define HW_USBPHYTX_TXHSXCVR_WIDTH (1)
                            12376 ; 135  |#define HW_USBPHYTX_TXCALIBRATE_WIDTH (1)
                            12377 ; 136  |#define HW_USBPHYTX_TXCAL45DN_WIDTH (4)
                            12378 ; 137  |#define HW_USBPHYTX_TXENCAL45DN_WIDTH (1)
                            12379 ; 138  |#define HW_USBPHYTX_TXHSTERM_WIDTH (1)
                            12380 ; 139  |#define HW_USBPHYTX_TXSKEW_WIDTH (1)
                            12381 ; 140  |#define HW_USBPHYTX_TXCAL45DP_WIDTH (4)
                            12382 ; 141  |#define HW_USBPHYTX_TXENCAL45DP_WIDTH (1)
                            12383 ; 142  |#define HW_USBPHYTX_TXFSHIZ_WIDTH (1)
                            12384 ; 143  |#define HW_USBPHYTX_TXCOMPOUT_WIDTH (1)
                            12385 ; 144  |
                            12386 ; 145  |#define HW_USBPHYTX_TXCAL1500_SETMASK (((1<<HW_USBPHYTX_TXCAL1500_WIDTH)-1)<<HW_USBPHYTX_TXCAL1500_BITPOS)
                            12387 ; 146  |#define HW_USBPHYTX_TXENCAL1500_SETMASK (((1<<HW_USBPHYTX_TXENCAL1500_WIDTH)-1)<<HW_USBPHYTX_TXENCAL1500_BITPOS)
                            12388 ; 147  |#define HW_USBPHYTX_TXHSXCVR_SETMASK (((1<<HW_USBPHYTX_TXHSXCVR_WIDTH)-1)<<HW_USBPHYTX_TXHSXCVR_BITPOS)
                            12389 ; 148  |#define HW_USBPHYTX_TXCALIBRATE_SETMASK (((1<<HW_USBPHYTX_TXCALIBRATE_WIDTH)-1)<<HW_USBPHYTX_TXCALIBRATE_BITPOS)
                            12390 ; 149  |#define HW_USBPHYTX_TXCAL45DN_SETMASK (((1<<HW_USBPHYTX_TXCAL45DN_WIDTH)-1)<<HW_USBPHYTX_TXCAL45DN_BITPOS)
                            12391 ; 150  |#define HW_USBPHYTX_TXENCAL45DN_SETMASK (((1<<HW_USBPHYTX_TXENCAL45DN_WIDTH)-1)<<HW_USBPHYTX_TXENCAL45DN_BITPOS)
                            12392 ; 151  |#define HW_USBPHYTX_TXHSTERM_SETMASK (((1<<HW_USBPHYTX_TXHSTERM_WIDTH)-1)<<HW_USBPHYTX_TXHSTERM_BITPOS)
                            12393 ; 152  |#define HW_USBPHYTX_TXSKEW_SETMASK (((1<<HW_USBPHYTX_TXSKEW_WIDTH)-1)<<HW_USBPHYTX_TXSKEW_BITPOS)
                            12394 ; 153  |#define HW_USBPHYTX_TXCAL45DP_SETMASK (((1<<HW_USBPHYTX_TXCAL45DP_WIDTH)-1)<<HW_USBPHYTX_TXCAL45DP_BITPOS)
                            12395 ; 154  |#define HW_USBPHYTX_TXENCAL45DP_SETMASK (((1<<HW_USBPHYTX_TXENCAL45DP_WIDTH)-1)<<HW_USBPHYTX_TXENCAL45DP_BITPOS)
                            12396 ; 155  |#define HW_USBPHYTX_TXFSHIZ_SETMASK (((1<<HW_USBPHYTX_TXFSHIZ_WIDTH)-1)<<HW_USBPHYTX_TXFSHIZ_BITPOS)
                            12397 ; 156  |#define HW_USBPHYTX_TXCOMPOUT_SETMASK (((1<<HW_USBPHYTX_TXCOMPOUT_WIDTH)-1)<<HW_USBPHYTX_TXCOMPOUT_BITPOS)
                            12398 ; 157  |
                            12399 ; 158  |#define HW_USBPHYTX_TXCAL1500_CLRMASK (~(WORD)HW_USBPHYTX_TXCAL1500_SETMASK)
                            12400 ; 159  |#define HW_USBPHYTX_TXENCAL1500_CLRMASK (~(WORD)HW_USBPHYTX_TXENCAL1500_SETMASK)
                            12401 ; 160  |#define HW_USBPHYTX_TXHSXCVR_CLRMASK (~(WORD)HW_USBPHYTX_TXHSXCVR_SETMASK)
                            12402 ; 161  |#define HW_USBPHYTX_TXCALIBRATE_CLRMASK (~(WORD)HW_USBPHYTX_TXCALIBRATE_SETMASK)
                            12403 ; 162  |#define HW_USBPHYTX_TXCAL45DN_CLRMASK (~(WORD)HW_USBPHYTX_TXCAL45DN_SETMASK)
                            12404 ; 163  |#define HW_USBPHYTX_TXENCAL45DN_CLRMASK (~(WORD)HW_USBPHYTX_TXENCAL45DN_SETMASK)
                            12405 ; 164  |#define HW_USBPHYTX_TXHSTERM_CLRMASK (~(WORD)HW_USBPHYTX_TXHSTERM_SETMASK)
                            12406 ; 165  |#define HW_USBPHYTX_TXSKEW_CLRMASK (~(WORD)HW_USBPHYTX_TXSKEW_SETMASK)
                            12407 ; 166  |#define HW_USBPHYTX_TXCAL45DP_CLRMASK (~(WORD)HW_USBPHYTX_TXCAL45DP_SETMASK)
                            12408 ; 167  |#define HW_USBPHYTX_TXENCAL45DP_CLRMASK (~(WORD)HW_USBPHYTX_TXENCAL45DP_SETMASK)
                            12409 ; 168  |#define HW_USBPHYTX_TXFSHIZ_CLRMASK (~(WORD)HW_USBPHYTX_TXFSHIZ_SETMASK)
                            12410 ; 169  |#define HW_USBPHYTX_TXCOMPOUT_CLRMASK (~(WORD)HW_USBPHYTX_TXCOMPOUT_SETMASK)
                            12411 ; 170  |
                            12412 ; 171  |typedef union               
                            12413 ; 172  |{
                            12414 ; 173  |    struct {
                            12415 ; 174  |        int TXCAL1500          :4;
                            12416 ; 175  |        int RSVD0              :1;
                            12417 ; 176  |        int TXENCAL1500        :1;
                            12418 ; 177  |        int TXHSXCVR           :1;
                            12419 ; 178  |        int TXCALIBRATE        :1;
                            12420 ; 179  |        int TXCAL45DN          :4;
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page  50

M:ADDR CODE           CYCLES LINE SOURCELINE
                            12421 ; 180  |        int RSVD1              :1;
                            12422 ; 181  |        int TXENCAL45DN        :1;
                            12423 ; 182  |        int TXHSTERM           :1;
                            12424 ; 183  |        int TXSKEW             :1;
                            12425 ; 184  |        int TXCAL45DP          :4;
                            12426 ; 185  |        int RSVD2              :1;
                            12427 ; 186  |        int TXENCAL45DP        :1;
                            12428 ; 187  |        int TXFSHIZ            :1;
                            12429 ; 188  |        int TXCOMPOUT          :1;
                            12430 ; 189  |    } B;
                            12431 ; 190  |    int I;
                            12432 ; 191  |} usbphytx_type;
                            12433 ; 192  |#define HW_USBPHYTX      (*(volatile usbphytx_type _X*) (HW_USBPHY_BASEADDR+1))    
                            12434 ; 193  |
                            12435 ; 194  |/////////////////////////////////////////////////////////////////////////////////
                            12436 ; 195  |//  USB PHY PLL register (HW_USBPHYPLL) Bit Definitions
                            12437 ; 196  |#define HW_USBPHYPLL_PLLV2ISEL_BITPOS (0)
                            12438 ; 197  |#define HW_USBPHYPLL_PLLCPDBLIP_BITPOS (5)
                            12439 ; 198  |#define HW_USBPHYPLL_PLLVCOCLK2_BITPOS (6)
                            12440 ; 199  |#define HW_USBPHYPLL_PLLVCOCLK24_BITPOS (7)
                            12441 ; 200  |#define HW_USBPHYPLL_PLLCPNSEL_BITPOS (8)
                            12442 ; 201  |#define HW_USBPHYPLL_PLLCLKDIVSEL_BITPOS (12)
                            12443 ; 202  |#define HW_USBPHYPLL_PLLPFDRST_BITPOS (20)
                            12444 ; 203  |#define HW_USBPHYPLL_PLLCPSHORTLFR_BITPOS (21)
                            12445 ; 204  |#define HW_USBPHYPLL_PLLVCOKSTART_BITPOS (22)
                            12446 ; 205  |#define HW_USBPHYPLL_PLLCLKDIVRSTZ_BITPOS (23)
                            12447 ; 206  |
                            12448 ; 207  |#define HW_USBPHYPLL_PLLV2ISEL_WIDTH (4)
                            12449 ; 208  |#define HW_USBPHYPLL_PLLCPDBLIP_WIDTH (1)
                            12450 ; 209  |#define HW_USBPHYPLL_PLLVCOCLK2_WIDTH (1)
                            12451 ; 210  |#define HW_USBPHYPLL_PLLVCOCLK24_WIDTH (1)
                            12452 ; 211  |#define HW_USBPHYPLL_PLLCPNSEL_WIDTH (4)
                            12453 ; 212  |#define HW_USBPHYPLL_PLLCLKDIVSEL_WIDTH (4)
                            12454 ; 213  |#define HW_USBPHYPLL_PLLPFDRST_WIDTH (1)
                            12455 ; 214  |#define HW_USBPHYPLL_PLLCPSHORTLFR_WIDTH (1)
                            12456 ; 215  |#define HW_USBPHYPLL_PLLVCOKSTART_WIDTH (1)
                            12457 ; 216  |#define HW_USBPHYPLL_PLLCLKDIVRSTZ_WIDTH (1)
                            12458 ; 217  |
                            12459 ; 218  |#define HW_USBPHYPLL_PLLV2ISEL_SETMASK (((1<<HW_USBPHYPLL_PLLV2ISEL_WIDTH)-1)<<HW_USBPHYPLL_PLLV2ISEL_BITPOS)
                            12460 ; 219  |#define HW_USBPHYPLL_PLLCPDBLIP_SETMASK (((1<<HW_USBPHYPLL_PLLCPDBLIP_WIDTH)-1)<<HW_USBPHYPLL_PLLCPDBLIP_BITPOS)
                            12461 ; 220  |#define HW_USBPHYPLL_PLLVCOCLK2_SETMASK (((1<<HW_USBPHYPLL_PLLVCOCLK2_WIDTH)-1)<<HW_USBPHYPLL_PLLVCOCLK2_BITPOS)
                            12462 ; 221  |#define HW_USBPHYPLL_PLLVCOCLK24_SETMASK (((1<<HW_USBPHYPLL_PLLVCOCLK24_WIDTH)-1)<<HW_USBPHYPLL_PLLVCOCLK24_BITPOS)
                            12463 ; 222  |#define HW_USBPHYPLL_PLLCPNSEL_SETMASK (((1<<HW_USBPHYPLL_PLLCPNSEL_WIDTH)-1)<<HW_USBPHYPLL_PLLCPNSEL_BITPOS)
                            12464 ; 223  |#define HW_USBPHYPLL_PLLCLKDIVSEL_SETMASK (((1<<HW_USBPHYPLL_PLLCLKDIVSEL_WIDTH)-1)<<HW_USBPHYPLL_PLLCLKDIVSEL_BITPOS)
                            12465 ; 224  |#define HW_USBPHYPLL_PLLPFDRST_SETMASK (((1<<HW_USBPHYPLL_PLLPFDRST_WIDTH)-1)<<HW_USBPHYPLL_PLLPFDRST_BITPOS)
                            12466 ; 225  |#define HW_USBPHYPLL_PLLCPSHORTLFR_SETMASK (((1<<HW_USBPHYPLL_PLLCPSHORTLFR_WIDTH)-1)<<HW_USBPHYPLL_PLLCPSHORTLFR_BITPOS)
                            12467 ; 226  |#define HW_USBPHYPLL_PLLVCOKSTART_SETMASK (((1<<HW_USBPHYPLL_PLLVCOKSTART_WIDTH)-1)<<HW_USBPHYPLL_PLLVCOKSTART_BITPOS)
                            12468 ; 227  |#define HW_USBPHYPLL_PLLCLKDIVRSTZ_SETMASK (((1<<HW_USBPHYPLL_PLLCLKDIVRSTZ_WIDTH)-1)<<HW_USBPHYPLL_PLLCLKDIVRSTZ_BITPOS)
                            12469 ; 228  |
                            12470 ; 229  |#define HW_USBPHYPLL_PLLV2ISEL_CLRMASK (~(WORD)HW_USBPHYPLL_PLLV2ISEL_SETMASK)
                            12471 ; 230  |#define HW_USBPHYPLL_PLLCPDBLIP_CLRMASK (~(WORD)HW_USBPHYPLL_PLLCPDBLIP_SETMASK)
                            12472 ; 231  |#define HW_USBPHYPLL_PLLVCOCLK2_CLRMASK (~(WORD)HW_USBPHYPLL_PLLVCOCLK2_SETMASK)
                            12473 ; 232  |#define HW_USBPHYPLL_PLLVCOCLK24_CLRMASK (~(WORD)HW_USBPHYPLL_PLLVCOCLK24_SETMASK)
                            12474 ; 233  |#define HW_USBPHYPLL_PLLCPNSEL_CLRMASK (~(WORD)HW_USBPHYPLL_PLLCPNSEL_SETMASK)
                            12475 ; 234  |#define HW_USBPHYPLL_PLLCLKDIVSEL_CLRMASK (~(WORD)HW_USBPHYPLL_PLLCLKDIVSEL_SETMASK)
                            12476 ; 235  |#define HW_USBPHYPLL_PLLPFDRST_CLRMASK (~(WORD)HW_USBPHYPLL_PLLPFDRST_SETMASK)
                            12477 ; 236  |#define HW_USBPHYPLL_PLLCPSHORTLFR_CLRMASK (~(WORD)HW_USBPHYPLL_PLLCPSHORTLFR_SETMASK)
                            12478 ; 237  |#define HW_USBPHYPLL_PLLVCOKSTART_CLRMASK (~(WORD)HW_USBPHYPLL_PLLVCOKSTART_SETMASK)
                            12479 ; 238  |#define HW_USBPHYPLL_PLLCLKDIVRSTZ_CLRMASK (~(WORD)HW_USBPHYPLL_PLLCLKDIVRSTZ_SETMASK)
                            12480 ; 239  |
                            12481 ; 240  |typedef union               
                            12482 ; 241  |{
                            12483 ; 242  |    struct {
                            12484 ; 243  |        int PLLV2ISEL        :4;
                            12485 ; 244  |        int RSVD0            :1;
                            12486 ; 245  |        int PLLCPDBLIP       :1;
                            12487 ; 246  |        int PLLVCOCLK2       :1;
                            12488 ; 247  |        int PLLVCOCLK24      :1;
                            12489 ; 248  |        int PLLCPNSEL        :4;
                            12490 ; 249  |        int PLLCLKDIVSEL     :4;
                            12491 ; 250  |        int RSVD1            :4;
                            12492 ; 251  |        int PLLPFDRST        :1;
                            12493 ; 252  |        int PLLCPSHORTLFR    :1;
                            12494 ; 253  |        int PLLVCOKSTART     :1;
                            12495 ; 254  |        int PLLCLKDIVRSTZ    :1;
                            12496 ; 255  |    } B;
                            12497 ; 256  |    int I;
                            12498 ; 257  |} usbphypll_type;
                            12499 ; 258  |#define HW_USBPHYPLL      (*(volatile usbphypll_type _X*) (HW_USBPHY_BASEADDR+2))    
                            12500 ; 259  |
                            12501 ; 260  |/////////////////////////////////////////////////////////////////////////////////
                            12502 ; 261  |//  USB PHY PLL register (HW_USBPHYRX) Bit Definitions
                            12503 ; 262  |#define HW_USBRX_ENVADJ_BITPOS (0)
                            12504 ; 263  |#define HW_USBRX_DISCONADJ_BITPOS (4)
                            12505 ; 264  |#define HW_USBRX_DEBUGMODE_BITPOS (8)
                            12506 ; 265  |#define HW_USBRX_PLLLKTIMECTL_BITPOS (12)
                            12507 ; 266  |#define HW_USBRX_PLLCKDIVCTL_BITPOS (16)
                            12508 ; 267  |#define HW_USBRX_HOSTMODETEST_BITPOS (20)
                            12509 ; 268  |#define HW_USBRX_FSCKSOURCESEL_BITPOS (21)
                            12510 ; 269  |#define HW_USBRX_REGRXDBYPASS_BITPOS (22)
                            12511 ; 270  |#define HW_USBRX_PLLLOCKED_BITPOS (23)
                            12512 ; 271  |
                            12513 ; 272  |#define HW_USBRX_ENVADJ_WIDTH (4)
                            12514 ; 273  |#define HW_USBRX_DISCONADJ_WIDTH (4)
                            12515 ; 274  |#define HW_USBRX_DEBUGMODE_WIDTH (4)
                            12516 ; 275  |#define HW_USBRX_PLLLKTIMECTL_WIDTH (4)
                            12517 ; 276  |#define HW_USBRX_PLLCKDIVCTL_WIDTH (4)
                            12518 ; 277  |#define HW_USBRX_HOSTMODETEST_WIDTH (1)
                            12519 ; 278  |#define HW_USBRX_FSCKSOURCESEL_WIDTH (1)
                            12520 ; 279  |#define HW_USBRX_REGRXDBYPASS_WIDTH (1)
                            12521 ; 280  |#define HW_USBRX_PLLLOCKED_WIDTH (1)
                            12522 ; 281  |
                            12523 ; 282  |#define HW_USBRX_ENVADJ_SETMASK (((1<<HW_USBRX_ENVADJ_WIDTH)-1)<<HW_USBRX_ENVADJ_BITPOS)
                            12524 ; 283  |#define HW_USBRX_DISCONADJ_SETMASK (((1<<HW_USBRX_DISCONADJ_WIDTH)-1)<<HW_USBRX_DISCONADJ_BITPOS)
                            12525 ; 284  |#define HW_USBRX_DEBUGMODE_SETMASK (((1<<HW_USBRX_DEBUGMODE_WIDTH)-1)<<HW_USBRX_DEBUGMODE_BITPOS)
                            12526 ; 285  |#define HW_USBRX_PLLLKTIMECTL_SETMASK (((1<<HW_USBRX_PLLLKTIMECTL_WIDTH)-1)<<HW_USBRX_PLLLKTIMECTL_BITPOS)
                            12527 ; 286  |#define HW_USBRX_PLLCKDIVCTL_SETMASK (((1<<HW_USBRX_PLLCKDIVCTL_WIDTH)-1)<<HW_USBRX_PLLCKDIVCTL_BITPOS)
                            12528 ; 287  |// 480 MHz PLL is divided by named number here. Setmask divider field nibble of 7 gives actual divider of 8 and so on. (8 gives 9, 9 gives 10)
                            12529 ; 288  |//              480Mhz/7 =68.57Mhz
                            12530 ; 289  |#define HW_USBPHYRX_PLLDIV_BY_7 0x060000
                            12531 ; 290  |
                            12532 ; 291  |//              480Mhz/8 ~60Mhz
                            12533 ; 292  |#define HW_USBPHYRX_PLLDIV_BY_8 0x070000
                            12534 ; 293  |
                            12535 ; 294  |//              480Mhz/9 =53.3Mhz
                            12536 ; 295  |#define HW_USBPHYRX_PLLDIV_BY_9 0x080000
                            12537 ; 296  |
                            12538 ; 297  |//              480Mhz/10 =48Mhz
                            12539 ; 298  |#define HW_USBPHYRX_PLLDIV_BY_10 0x090000
                            12540 ; 299  |
                            12541 ; 300  |
                            12542 ; 301  |#define HW_USBRX_HOSTMODETEST_SETMASK (((1<<HW_USBRX_HOSTMODETEST_WIDTH)-1)<<HW_USBRX_HOSTMODETEST_BITPOS)
                            12543 ; 302  |#define HW_USBRX_FSCKSOURCESEL_SETMASK (((1<<HW_USBRX_FSCKSOURCESEL_WIDTH)-1)<<HW_USBRX_FSCKSOURCESEL_BITPOS)
                            12544 ; 303  |#define HW_USBRX_REGRXDBYPASS_SETMASK (((1<<HW_USBRX_REGRXDBYPASS_WIDTH)-1)<<HW_USBRX_REGRXDBYPASS_BITPOS)
                            12545 ; 304  |#define HW_USBRX_PLLLOCKED_SETMASK (((1<<HW_USBRX_PLLLOCKED_WIDTH)-1)<<HW_USBRX_PLLLOCKED_BITPOS)
                            12546 ; 305  |
                            12547 ; 306  |#define HW_USBRX_ENVADJ_CLRMASK (~(WORD)HW_USBRX_ENVADJ_SETMASK)
                            12548 ; 307  |#define HW_USBRX_DISCONADJ_CLRMASK (~(WORD)HW_USBRX_DISCONADJ_SETMASK)
                            12549 ; 308  |#define HW_USBRX_DEBUGMODE_CLRMASK (~(WORD)HW_USBRX_DEBUGMODE_SETMASK)
                            12550 ; 309  |#define HW_USBRX_PLLLKTIMECTL_CLRMASK (~(WORD)HW_USBRX_PLLLKTIMECTL_SETMASK)
                            12551 ; 310  |#define HW_USBRX_PLLCKDIVCTL_CLRMASK (~(WORD)HW_USBRX_PLLCKDIVCTL_SETMASK)
                            12552 ; 311  |#define HW_USBRX_HOSTMODETEST_CLRMASK (~(WORD)HW_USBRX_HOSTMODETEST_SETMASK)
                            12553 ; 312  |#define HW_USBRX_FSCKSOURCESEL_CLRMASK (~(WORD)HW_USBRX_FSCKSOURCESEL_SETMASK)
                            12554 ; 313  |#define HW_USBRX_REGRXDBYPASS_CLRMASK (~(WORD)HW_USBRX_REGRXDBYPASS_SETMASK)
                            12555 ; 314  |#define HW_USBRX_PLLLOCKED_CLRMASK (~(WORD)HW_USBRX_PLLLOCKED_SETMASK)
                            12556 ; 315  |
                            12557 ; 316  |typedef union               
                            12558 ; 317  |{
                            12559 ; 318  |    struct {
                            12560 ; 319  |     int ENVADJ               :4;
                            12561 ; 320  |     int DISCONADJ            :4;
                            12562 ; 321  |     int DEBUGMODE            :4;
                            12563 ; 322  |     int PLLLKTIMECTL         :4;
                            12564 ; 323  |     int PLLCKDIVCTL          :4;
                            12565 ; 324  |     int HOSTMODETEST         :1;
                            12566 ; 325  |     int FSCKSOURCESEL        :1;
                            12567 ; 326  |     int REGRXDBYPASS         :1;
                            12568 ; 327  |     int PLLLOCKED            :1;
                            12569 ; 328  |    } B;
                            12570 ; 329  |    int I;
                            12571 ; 330  |} usbphyrx_type;
                            12572 ; 331  |#define HW_USBPHYRX      (*(volatile usbphyrx_type _X*) (HW_USBPHY_BASEADDR+3))    
                            12573 ; 332  |
                            12574 ; 333  |#endif
                            12575 ; 334  |
                            12576 
                            12578 
                            12579 ; 38   |
                            12580 ; 39   |
                            12581 ; 40   |#endif // if (!@def(hwequ))
                            12582 ; 41   |
                            12583 
                            12585 
                            12586 ; 12   |#else 
                            12587 ; 13   |//include "regscodec.inc"
                            12588 ; 14   |#endif
                            12589 ; 15   |
                            12590 ; 16   |//////////////////////////////////////////////////////////////////////////////////
                            12591 ; 17   |// Uncomment next define to allow player boot if you have stfm1000 macro enabled (defaults ON) & 
                            12592 ; 18   |// your board crystal is not able to output nominal voltage range. Used in player main.asm. STMP00012148
                            12593 ; 19   |// Defining this will result in lower battery life (price of using a lower quality crystal). 
                            12594 ; 20   |// Those that want to save battery life and have good crystals that meet our HW team's specs can 
                            12595 ; 21   |// comment out this line to reduce crystal bias current and so battery current in player mode.  
                            12596 ; 22   |#define SUPPORT_MARGINAL_XTALS 1
                            12597 ; 23   |
                            12598 ; 24   |/////////////////////////////////////////////////////////////////////////////////
                            12599 ; 25   |// BOOT SPEED CONFIG & ASSOCIATED BATTERY VOLTAGE CHECK ENABLE
                            12600 ; 26   |/////////////////////////////////////////////////////////////////////////////////
                            12601 ; 27   |// Users can enable one of ATTEMPT_FAST_BOOT or FASTEST boot or neither project define below by defining
                            12602 ; 28   |// values as 0 or 1, else it defaults to the boot speed used in previous SDKs.
                            12603 ; 29   |#define ATTEMPT_FAST_BOOT 1
                            12604 ; 30   |#define ATTEMPT_FASTEST_BOOT 0   
                            12605 ; 31   |// Changing this define to 0 removes Vbat threshholding & unconditionally gives fast boot config above- 
                            12606 ; 32   |// disabling this check is suggested for profiling if you want to try to tweak down threshholds by maybe 50mV.
                            12607 ; 33   |// Also the tests should clear the fast boot config defines to link & boot at normal speed.
                            12608 ; 34   |#define SPEED_BOOT_BATTERY_CHECK 1
                            12609 ; 35   |
                            12610 ; 36   |/////////////////////////////////////////////////////////////////////////////////
                            12611 ; 37   |// MEDIA DEFINITIONS
                            12612 ; 38   |/////////////////////////////////////////////////////////////////////////////////
                            12613 ; 39   |
                            12614 ; 40   |/////////////////////////////////////////////////////////////////////////////////
                            12615 ; 41   |// MNAND - Number of chips forming the internal physical device (i.e. # of NANDs)
                            12616 ; 42   |#if defined(NAND1)
                            12617 ; 43   |#define SM_INTERNAL_CHIPS 1
                            12618 ; 44   |#else 
                            12619 ; 45   |#if defined(NAND2)
                            12620 ; 46   |#define SM_INTERNAL_CHIPS 2
                            12621 ; 47   |#else 
                            12622 ; 48   |#if defined(NAND3)
                            12623 ; 49   |#define SM_INTERNAL_CHIPS 3
                            12624 ; 50   |#else 
                            12625 ; 51   |#if defined(NAND4)
                            12626 ; 52   |#define SM_INTERNAL_CHIPS 4
                            12627 ; 53   |#else 
                            12628 ; 54   |#define SM_INTERNAL_CHIPS 1
                            12629 ; 55   |#endif
                            12630 ; 56   |#endif
                            12631 ; 57   |#endif
                            12632 ; 58   |#endif
                            12633 ; 59   |
                            12634 ; 60   |/////////////////////////////////////////////////////////////////////////////////
                            12635 ; 61   |// If SMARTMEDIA_DETECT_ACTIVE_HIGH is defined:
                            12636 ; 62   |//   SmartMedia will be detected as inserted if the GPIO pin reads 1 and removed if it reads 0.  
                            12637 ; 63   |// If SMARTMEDIA_DETECT_ACTIVE_HIGH is not defined ** comment out next line **
                            12638 ; 64   |//   SmartMedia will be detected as inserted if the GPIO pin reads 0 and removed if it reads 1.
                            12639 ; 65   |//*** comment out if active high ****
                            12640 ; 66   |//SMARTMEDIA_DETECT_ACTIVE_HIGH  equ     1
                            12641 ; 67   |
                            12642 ; 68   |#if defined(SMEDIA)
                            12643 ; 69   |#define NUM_REMOVABLE_MEDIA 1
                            12644 ; 70   |#define NUM_SM_EXTERNAL 1
                            12645 ; 71   |#define MMC_MAX_PHYSICAL_DEVICES 0
                            12646 ; 72   |#define SM_MAX_LOGICAL_DEVICES 2
                            12647 ; 73   |#else 
                            12648 ; 74   |#if defined(MMC)
                            12649 ; 75   |#define NUM_REMOVABLE_MEDIA 1
                            12650 ; 76   |#define NUM_SM_EXTERNAL 0
                            12651 ; 77   |#define MMC_MAX_PHYSICAL_DEVICES 1
                            12652 ; 78   |#define SM_MAX_LOGICAL_DEVICES 1
                            12653 ; 79   |#else 
                            12654 ; 80   |#define NUM_REMOVABLE_MEDIA 0
                            12655 ; 81   |#define NUM_SM_EXTERNAL 0
                            12656 ; 82   |#define MMC_MAX_PHYSICAL_DEVICES 0
                            12657 ; 83   |#define SM_MAX_LOGICAL_DEVICES 1
                            12658 ; 84   |#endif
                            12659 ; 85   |#endif
                            12660 ; 86   |
                            12661 ; 87   |/////////////////////////////////////////////////////////////////////////////////
                            12662 ; 88   |// Mass Storage Class definitions
                            12663 ; 89   |/////////////////////////////////////////////////////////////////////////////////
                            12664 ; 90   |// Set to 0 if Composite Device build is desired.    
                            12665 ; 91   |#define MULTI_LUN_BUILD 1   
                            12666 ; 92   |
                            12667 ; 93   |////////////////////////////////////////////////////////////////////////////////
                            12668 ; 94   |//  SCSI
                            12669 ; 95   |#if (MULTI_LUN_BUILD==0)
                            12670 ; 96   |  #if (NUM_REMOVABLE_MEDIA == 1)
                            12671 ; 97   |    #define SCSI_NUM_TARGETS                        2
                            12672 ; 98   |    #define SCSI_DEVICE_NUM_LUNS_DEV_0              1
                            12673 ; 99   |    #define SCSI_DEVICE_NUM_LUNS_DEV_1              1
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page  51

M:ADDR CODE           CYCLES LINE SOURCELINE
                            12674 ; 100  |  #else
                            12675 ; 101  |    #define SCSI_NUM_TARGETS                        1
                            12676 ; 102  |    #define SCSI_DEVICE_NUM_LUNS_DEV_0              1
                            12677 ; 103  |  #endif
                            12678 ; 104  |#else
                            12679 ; 105  |    #define SCSI_NUM_TARGETS                        1
                            12680 ; 106  |  #if (NUM_REMOVABLE_MEDIA == 1)
                            12681 ; 107  |    #define SCSI_DEVICE_NUM_LUNS_DEV_0              2
                            12682 ; 108  |  #else
                            12683 ; 109  |    #define SCSI_DEVICE_NUM_LUNS_DEV_0              1  
                            12684 ; 110  |  #endif
                            12685 ; 111  |#endif
                            12686 ; 112  |
                            12687 ; 113  |
                            12688 ; 114  |#define USBMSC_NUM_DEVICES                      SCSI_NUM_TARGETS
                            12689 ; 115  |
                            12690 ; 116  |
                            12691 ; 117  |////////////////////////////////////////////////////////////////////////////////
                            12692 ; 118  |// Define number of logical medias and drives for three builds (MTP, USBMSC, and Player)
                            12693 ; 119  |////////////////////////////////////////////////////////////////////////////////
                            12694 ; 120  |#ifdef MMC
                            12695 ; 121  |#ifdef MTP_BUILD
                            12696 ; 122  |// --------------------
                            12697 ; 123  |// MTP and MMC
                            12698 ; 124  |// --------------------
                            12699 ; 125  |#define NUM_LOGICAL_MEDIA       2
                            12700 ; 126  |#define NUM_LOGICAL_DRIVES      8
                            12701 ; 127  |#else  // ifndef MTP_BUILD
                            12702 ; 128  |#ifdef STMP_BUILD_PLAYER
                            12703 ; 129  |// --------------------
                            12704 ; 130  |// Player and MMC
                            12705 ; 131  |// --------------------
                            12706 ; 132  |#else
                            12707 ; 133  |// --------------------
                            12708 ; 134  |// USBMSC and MMC
                            12709 ; 135  |// --------------------
                            12710 ; 136  |#define NUM_LOGICAL_MEDIA       3
                            12711 ; 137  |#define NUM_LOGICAL_DRIVES      8
                            12712 ; 138  |#endif // ifdef STMP_BUILD_PLAYER
                            12713 ; 139  |#endif // ifdef MTP_BUILD
                            12714 ; 140  |#else  // ifndef MMC
                            12715 ; 141  |#ifdef MTP_BUILD
                            12716 ; 142  |// --------------------
                            12717 ; 143  |// MTP and NAND only
                            12718 ; 144  |// --------------------
                            12719 ; 145  |#define NUM_LOGICAL_MEDIA       1
                            12720 ; 146  |#define NUM_LOGICAL_DRIVES      7
                            12721 ; 147  |#else  // ifndef MTP_BUILD
                            12722 ; 148  |#ifdef STMP_BUILD_PLAYER
                            12723 ; 149  |// --------------------
                            12724 ; 150  |// Player and NAND only
                            12725 ; 151  |// --------------------
                            12726 ; 152  |#else
                            12727 ; 153  |// --------------------
                            12728 ; 154  |// USBMSC and NAND only
                            12729 ; 155  |// --------------------
                            12730 ; 156  |#define NUM_LOGICAL_MEDIA       2
                            12731 ; 157  |#define NUM_LOGICAL_DRIVES      7
                            12732 ; 158  |#endif // ifdef STMP_BUILD_PLAYER
                            12733 ; 159  |#endif // ifdef MTP_BUILD
                            12734 ; 160  |#endif // ifdef MMC 
                            12735 ; 161  |
                            12736 ; 162  |// If we are in an MTP build then we don't use as many transfers buffers.
                            12737 ; 163  |#if (defined(MTP_BUILD))
                            12738 ; 164  |#define MAX_USB_TRANSFERS_QUEUED 16
                            12739 ; 165  |
                            12740 ; 166  |////!
                            12741 ; 167  |////! This varible holds the watchdog count for the store flush.
                            12742 ; 168  |////!
                            12743 ; 169  |///
                            12744 ; 170  |#include <types.h>
                            12745 ; 171  |extern volatile INT g_StoreWatchDogCount;
                            12746 ; 172  |extern const INT g_StoreWatchDogTimeout;
                            12747 ; 173  |#endif
                            12748 ; 174  |
                            12749 ; 175  |////////////////////////////////////////////////////////////////////////////////
                            12750 ; 176  |// These are needed here for Mass Storage Class
                            12751 ; 177  |// Needs to be cleaned up
                            12752 ; 178  |////////////////////////////////////////////////////////////////////////////////
                            12753 ; 179  |#if (!defined(STMP_BUILD_PLAYER))
                            12754 ; 180  |#define SCRATCH_USER_Y_SIZE 512
                            12755 ; 181  |#define SCRATCH_USER_X_SIZE 512
                            12756 ; 182  |
                            12757 ; 183  |#define BROWNOUT_LEVEL1_DETECTED                0x000001
                            12758 ; 184  |
                            12759 ; 185  |#endif
                            12760 ; 186  |
                            12761 ; 187  |
                            12762 ; 188  |/////////////////////////////////////////////////////////////////////////////////
                            12763 ; 189  |// SmartMedia/NAND defs
                            12764 ; 190  |#define SM_MAX_PHYSICAL_DEVICES SM_INTERNAL_CHIPS+NUM_SM_EXTERNAL
                            12765 ; 191  |#define SM_REMOVABLE_DEVICE_NUM SM_INTERNAL_CHIPS
                            12766 ; 192  |
                            12767 ; 193  |/////////////////////////////////////////////////////////////////////////////////
                            12768 ; 194  |// Sysloadresources defs
                            12769 ; 195  |#define SM_MAX_RESOURCE_DEVICES SM_INTERNAL_CHIPS+NUM_SM_EXTERNAL
                            12770 ; 196  |
                            12771 ; 197  |/////////////////////////////////////////////////////////////////////////////////
                            12772 ; 198  |// MMC defs
                            12773 ; 199  |#define MMC_MAX_PARTITIONS 1
                            12774 ; 200  |#define MMC_MAX_LOGICAL_DEVICES MMC_MAX_PHYSICAL_DEVICES*MMC_MAX_PARTITIONS
                            12775 ; 201  |
                            12776 ; 202  |/////////////////////////////////////////////////////////////////////////////////
                            12777 ; 203  |// SPI defs
                            12778 ; 204  |#define SPI_MAX_DEVICES MMC_MAX_PHYSICAL_DEVICES
                            12779 ; 205  |
                            12780 ; 206  |/////////////////////////////////////////////////////////////////////////////////
                            12781 ; 207  |// Global media defs
                            12782 ; 208  |#define MAX_PHYSICAL_DEVICES SM_MAX_PHYSICAL_DEVICES+MMC_MAX_PHYSICAL_DEVICES
                            12783 ; 209  |#define MAX_LOGICAL_DEVICES SM_MAX_LOGICAL_DEVICES+MMC_MAX_LOGICAL_DEVICES
                            12784 ; 210  |
                            12785 ; 211  |/////////////////////////////////////////////////////////////////////////////////
                            12786 ; 212  |// DO NOT CHANGE THESE!!!
                            12787 ; 213  |#define SM_MAX_PARTITIONS 4
                            12788 ; 214  |#define MAX_HANDLES 2
                            12789 ; 215  |/////////////////////////////////////////////////////////////////////////////////
                            12790 ; 216  |
                            12791 ; 217  |
                            12792 ; 218  |/////////////////////////////////////////////////////////////////////////////////
                            12793 ; 219  |// Battery LRADC Values 
                            12794 ; 220  |/////////////////////////////////////////////////////////////////////////////////
                            12795 ; 221  |// brownout trip point in mV (moved by RS)
                            12796 ; 222  |// BATT_SAFETY_MARGIN:  percentage value used by:
                            12797 ; 223  |//   * SysSaveSettings to determine if enough power is left to attempt a settings save. 
                            12798 ; 224  |//   * Recorder to conditionally prevent the start or continuation of 
                            12799 ; 225  |//     audio recording to media.
                            12800 ; 226  |#define BATT_SAFETY_MARGIN 10
                            12801 ; 227  |
                            12802 ; 228  |//; player resource drive refresh allowed only when battery usable % is above this value. 
                            12803 ; 229  |//; 50% of usable range [0.9V to 1.5V] is around 1.2V This is the safe target alkaline voltage to do a refresh.
                            12804 ; 230  |//; LIION will also require 50% which will work but that could be changed in the future. 
                            12805 ; 231  |//RESOURCE_REFRESH_MIN_BATT_PCT equ 50
                            12806 ; 232  |
                            12807 ; 233  |// stmp00005071 adds these for mp3 encode stability at low battery per battery type & mmc presence.
                            12808 ; 234  |
                            12809 ; 235  |//// Vbat threshholds empirically tuned by profiling max bat current for 3 HW cases: 
                            12810 ; 236  |//// 1 GigaByte MMC, NAND flash only, & LiIon Buck mode. See voicemenu pre-encode Vbat check.
                            12811 ; 237  |#if (!defined(CLCD))
                            12812 ; 238  |#define MP3_ENC_MMC_MIN_V_BAT_MV 1100
                            12813 ; 239  |#define MP3_ENC_NANDONLY_MIN_V_BAT_MV 1000
                            12814 ; 240  |#else 
                            12815 ; 241  |#define MP3_ENC_MMC_MIN_V_BAT_MV 1250
                            12816 ; 242  |#define MP3_ENC_NANDONLY_MIN_V_BAT_MV 1150
                            12817 ; 243  |#endif
                            12818 ; 244  |#define MP3_ENC_BUCKMODE_MIN_V_BAT_MV 3300
                            12819 ; 245  |
                            12820 ; 246  |// These Vbat use-range-percentages are derived to correspond with target battery 
                            12821 ; 247  |// voltages of 1.10V for MMC, 1.0V for nand only (alkaline or nimh), and 3.3V for any LiIon.
                            12822 ; 248  |// See mp3 encoder overlay.
                            12823 ; 249  |#define MP3_ENC_MMC_MIN_V_BAT_RANGE_PCT 33
                            12824 ; 250  |#define MP3_ENC_NANDONLY_MIN_V_BAT_RANGE_PCT 17
                            12825 ; 251  |#define MP3_ENC_BUCKMODE_MIN_V_BAT_RANGE_PCT 25
                            12826 ; 252  |
                            12827 ; 253  |/////////////////////////////////////////////////////////////////////////////////
                            12828 ; 254  |// Voice recording filenames
                            12829 ; 255  |// number of digits in filename Vxxx.wav
                            12830 ; 256  |/////////////////////////////////////////////////////////////////////////////////
                            12831 ; 257  |#define DIGITS_IN_VOICE_FILENAME 3   
                            12832 ; 258  |
                            12833 ; 259  |/////////////////////////////////////////////////////////////////////////////////
                            12834 ; 260  |// Mic Bias: Set this enable to 1 to internally generate mic bias voltage. 
                            12835 ; 261  |// Also below, must configure internal resistor value and pin to use for DC bias. 
                            12836 ; 262  |// Can set to 0 to disable internally generated mic bias voltage at pin lradc1/2.
                            12837 ; 263  |#if defined(DEVICE_3500)
                            12838 ; 264  |#define ENABLE_INTERNALLY_GENERATED_MICBIAS 1 
                            12839 ; 265  |// MIC BIAS circuit source selection: use Low Resolution ADC pin 2 or 1 to bias mic. 
                            12840 ; 266  |// Per your layout: select LRADC 2 or 1 below 
                            12841 ; 267  |//   (pin LRADC 2 for 35xx cpu card revB, LRADC 1 for 35xx cpu card revC, ref schematics, & demo player)
                            12842 ; 268  |#define LRADC_NUM_FOR_MIC_BIAS 1 
                            12843 ; 269  |// Sets internal mic bias R to value 2, 4, or 8 (in kOhms).
                            12844 ; 270  |#define MICBIAS_CONFIGURED_RESISTOR_KOHMS 8
                            12845 ; 271  |
                            12846 ; 272  |// Allows mic bias to settle before sampling. This delay currently unused. For rec btn when bias not yet ready.
                            12847 ; 273  |#define REC_BTN_INTERNAL_MIC_BIAS_SETTLING_DELAY_MS 400 
                            12848 ; 274  |// Option always keeps bias enabled after mainmenu init. This allows for start pop prevention if you use rec button from outside voice menu.
                            12849 ; 275  |// This selection costs 1 mWatt but gains the desired low record button to sampling latency in the record-from-music-menu use-case.
                            12850 ; 276  |#define KEEP_MIC_BIAS_ENABLED 0
                            12851 ; 277  |
                            12852 ; 278  |#else 
                            12853 ; 279  |// STMP3410
                            12854 ; 280  |#define ENABLE_INTERNALLY_GENERATED_MICBIAS 0
                            12855 ; 281  |#define LRADC_NUM_FOR_MIC_BIAS 1 
                            12856 ; 282  |#define MICBIAS_CONFIGURED_RESISTOR_KOHMS 2
                            12857 ; 283  |#endif
                            12858 ; 284  |
                            12859 ; 285  |/////////////////////////////////////////////////////////////////////////////////
                            12860 ; 286  |// Number of available soft timers
                            12861 ; 287  |/////////////////////////////////////////////////////////////////////////////////
                            12862 ; 288  |#if defined(SYNC_LYRICS)
                            12863 ; 289  |#define SOFT_TIMERS 10
                            12864 ; 290  |#else 
                            12865 ; 291  |#if defined(JPEG_DECODER)
                            12866 ; 292  |#define SOFT_TIMERS 10
                            12867 ; 293  |#else 
                            12868 ; 294  |#define SOFT_TIMERS 9
                            12869 ; 295  |#endif
                            12870 ; 296  |#endif
                            12871 ; 297  |
                            12872 ; 298  |/////////////////////////////////////////////////////////////////////////////////
                            12873 ; 299  |//  sizes
                            12874 ; 300  |/////////////////////////////////////////////////////////////////////////////////
                            12875 ; 301  |#if defined(MMC)
                            12876 ; 302  |#if defined(USE_PLAYLIST5)
                            12877 ; 303  |#define MENU_STACK_SIZE 1500
                            12878 ; 304  |#else 
                            12879 ; 305  |#define MENU_STACK_SIZE 1250
                            12880 ; 306  |#endif //if @def('USE_PLAYLIST5')
                            12881 ; 307  |#else 
                            12882 ; 308  |#if defined(USE_PLAYLIST5)
                            12883 ; 309  |#define MENU_STACK_SIZE 1500
                            12884 ; 310  |#else 
                            12885 ; 311  |#define MENU_STACK_SIZE 1250
                            12886 ; 312  |#endif //if @def('USE_PLAYLIST5')
                            12887 ; 313  |#endif //if @def('MMC')
                            12888 ; 314  |
                            12889 ; 315  |// NOTE: SDK2.6 USED 550 FOR NEXT LINE, BUT SDK3.0BETA USED 750. Should it be ifdef MTP 750 else 550 for other builds? TOVERIFY. MYALLOC
                            12890 ; 316  |// 
                            12891 ; 317  |#define STACK_L1_SIZE 750
                            12892 ; 318  |#define STACK_L2_SIZE 100
                            12893 ; 319  |#define STACK_L3_SIZE 160
                            12894 ; 320  |
                            12895 ; 321  |// If we are in MTP mode the overlay task stack can shrink.
                            12896 ; 322  |// TODO shrink this stack for MTP, I will leave it at 500 until we verify that it 
                            12897 ; 323  |// is ok with switching code.
                            12898 ; 324  |#if defined(MTP_BUILD)
                            12899 ; 325  |#define OVERLAY_MANAGER_STACK_SIZE 300
                            12900 ; 326  |#endif
                            12901 ; 327  |
                            12902 ; 328  |/////////////////////////////////////////////////////////////////////////////////
                            12903 ; 329  |// maximum number of nested funclets 
                            12904 ; 330  |/////////////////////////////////////////////////////////////////////////////////
                            12905 ; 331  |#define MAX_NESTED_FUNCLET 6 
                            12906 ; 332  |
                            12907 ; 333  |/////////////////////////////////////////////////////////////////////////////////
                            12908 ; 334  |//    LCD DEFINITIONS
                            12909 ; 335  |/////////////////////////////////////////////////////////////////////////////////
                            12910 ; 336  |
                            12911 ; 337  |#define SPACE_CHAR 0x000020          
                            12912 ; 338  |#define ZERO_CHAR 0x000030
                            12913 ; 339  |#define COLON_CHAR 0x00003A
                            12914 ; 340  |#define PERIOD_CHAR 0x00002E
                            12915 ; 341  |
                            12916 ; 342  |#if (defined(S6B33B0A_LCD))
                            12917 ; 343  |#define LCD_X_SIZE 128
                            12918 ; 344  |#define LCD_Y_SIZE 159
                            12919 ; 345  |#endif
                            12920 ; 346  |
                            12921 ; 347  |#if (defined(SED15XX_LCD))
                            12922 ; 348  |#define LCD_X_SIZE 128
                            12923 ; 349  |#define LCD_Y_SIZE 64
                            12924 ; 350  |#endif
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page  52

M:ADDR CODE           CYCLES LINE SOURCELINE
                            12925 ; 351  |
                            12926 ; 352  |
                            12927 ; 353  |//////////////////////////////////////////////////////////////////////////////////
                            12928 ; 354  |//   Details on Customizing Contrast
                            12929 ; 355  |/////////////////////////////////////////////////////////////////////////////////
                            12930 ; 356  |//   Max supported LCD range is 0 - 3F; however due to hardware/voltage differences
                            12931 ; 357  |//   the range of visibility is usually smaller than this.  It is important to 
                            12932 ; 358  |//   calibrate the visible range, because the contrast setting is saved.
                            12933 ; 359  |//   If the user shuts off the player while lcd is not visible, the player is useless
                            12934 ; 360  |//   unless the ezact sequence is remembered.
                            12935 ; 361  |//   To find out what range your player supports: 
                            12936 ; 362  |//   change these equs to full range or comment out (full range is default)
                            12937 ; 363  |//;;;;;;
                            12938 ; 364  |// uncomment the line below to build code that will provide raw contrast value
                            12939 ; 365  |// recommended calibration using player -- uncomment 
                            12940 ; 366  |//;;;;;;
                            12941 ; 367  |//CONTRAST_CALIBRATION    equ  1
                            12942 ; 368  |////////////////////////////
                            12943 ; 369  |#if (defined(DEMO_HW))
                            12944 ; 370  |// this is the setting for ET301 demos; Next 2 line have not been updated for new Shingyi LCD (June6'05)
                            12945 ; 371  |#define LCD_MAX_CONTRAST 0x32 
                            12946 ; 372  |#define LCD_MIN_CONTRAST 0x1E
                            12947 ; 373  |#else 
                            12948 ; 374  |
                            12949 ; 375  |#if (defined(S6B33B0A_LCD))
                            12950 ; 376  |#define LCD_MAX_CONTRAST 210
                            12951 ; 377  |#define LCD_MIN_CONTRAST 160    
                            12952 ; 378  |#endif
                            12953 ; 379  |
                            12954 ; 380  |#if (defined(SED15XX_LCD))
                            12955 ; 381  |// Next 3 line comment was for OLD shingyi LCD: (default LCD before sdk2.6)
                            12956 ; 382  |// Engineering board regs support range [17-37].
                            12957 ; 383  |//   Engineering board DC/DC support range [24-46]. 
                            12958 ; 384  |//   One default contrast range [24-42] works for both.
                            12959 ; 385  |// The 3 sets of contrast ranges below are updated for SDK2.6 to support either 
                            12960 ; 386  |// new or old ShingYih LCDs. "File" refers to \resource\shingyih\system_lcd_init_seq.src
                            12961 ; 387  |// 3/10/05 - Use one of the 2 next contrast ranges depending on which
                            12962 ; 388  |// ShingYih LCD you have.  See \resources\shingyi\readme.txt 
                            12963 ; 389  |// Optimal for NEW LCD with NEW file (SDK2.6 default)  
                            12964 ; 390  |// G098064-41 LCD module (present on engr board revH LCD card)
                            12965 ; 391  |
                            12966 ; 392  |#if (defined(NEWSHINGYIH))
                            12967 ; 393  |#define LCD_MAX_CONTRAST 250
                            12968 ; 394  |#define LCD_MIN_CONTRAST 0
                            12969 ; 395  |#else 
                            12970 ; 396  |//-----
                            12971 ; 397  |// Near optimal for OLD LCD with NEW file. 
                            12972 ; 398  |// NOT optimal for the new lcd but pretty good. So u may use this if u want 1 build for both LCDs.
                            12973 ; 399  |#define LCD_MAX_CONTRAST 250
                            12974 ; 400  |#define LCD_MIN_CONTRAST 0
                            12975 ; 401  |
                            12976 ; 402  |//=====
                            12977 ; 403  |// Optimal for OLD ShingYih LCD with OLD file (as sdk2.521)
                            12978 ; 404  |// Suggest going with default new init file & values above for your LCD instead of this historic ver.
                            12979 ; 405  |//LCD_MAX_CONTRAST equ 42
                            12980 ; 406  |//LCD_MIN_CONTRAST equ 24 
                            12981 ; 407  |
                            12982 ; 408  |#endif
                            12983 ; 409  |#endif
                            12984 ; 410  |
                            12985 ; 411  |#endif
                            12986 ; 412  |
                            12987 ; 413  |//////////////////////////////////////////////////////////////////////////////////
                            12988 ; 414  |// The default value of the lcd contrast in % of range
                            12989 ; 415  |//   the default value is used when no settings.dat is available
                            12990 ; 416  |//////////////////////////////////////////////////////////////////////////////////
                            12991 ; 417  |
                            12992 ; 418  |#if (defined(S6B33B0A_LCD))
                            12993 ; 419  |// 60% of range is default value
                            12994 ; 420  |#define DEFAULT_CONTRAST 50 
                            12995 ; 421  |#endif
                            12996 ; 422  |
                            12997 ; 423  |#if (defined(SED15XX_LCD))
                            12998 ; 424  |// % of range is default value (was 60%)
                            12999 ; 425  |#define DEFAULT_CONTRAST 50 
                            13000 ; 426  |#endif
                            13001 ; 427  |
                            13002 ; 428  |
                            13003 ; 429  |// percentage change per increment/decrement message (LCD_DEC_CONTRAST/LCD_INC_CONTRAST)
                            13004 ; 430  |// make lower when doing calibration
                            13005 ; 431  |#define LCD_STEPSIZE_CONTRAST 10  
                            13006 ; 432  |
                            13007 ; 433  |
                            13008 ; 434  |/////////////////////////////////////////////////////////////////////////////////
                            13009 ; 435  |// For FFWD and RWND
                            13010 ; 436  |/////////////////////////////////////////////////////////////////////////////////
                            13011 ; 437  |#define SECONDS_TO_SKIP 1
                            13012 ; 438  |#define SECONDS_TO_SKIP1 3
                            13013 ; 439  |#define SECONDS_TO_SKIP2 6
                            13014 ; 440  |// number of seconds to cause reset to begin of song for PREV push
                            13015 ; 441  |#define PREV_SONG_THRESHOLD 5  
                            13016 ; 442  |// number of 300 mSec periods before the numbers of seconds to skip increases
                            13017 ; 443  |#define FIRST_TIME_BOUNDARY 15 
                            13018 ; 444  |// number of 300 mSec periods before the numbers of seconds to skip increases
                            13019 ; 445  |#define SECOND_TIME_BOUNDARY 30 
                            13020 ; 446  |
                            13021 ; 447  |// For audible FFW/RWD
                            13022 ; 448  |#define SECONDS_TO_SKIP_FOR_3X_RATE 1
                            13023 ; 449  |#define SECONDS_TO_SKIP_FOR_60X_RATE 18
                            13024 ; 450  |#define SECONDS_TO_SKIP_FOR_600X_RATE 180
                            13025 ; 451  |#define SECONDS_TO_SKIP_FOR_1800X_RATE 540
                            13026 ; 452  |// number of 300 mSec periods before the numbers of seconds to skip increases
                            13027 ; 453  |#define LEVEL1_BOUNDARY 17 
                            13028 ; 454  |// number of 300 mSec periods before the numbers of seconds to skip increases
                            13029 ; 455  |#define LEVEL2_BOUNDARY 33 
                            13030 ; 456  |// number of 300 mSec periods before the numbers of seconds to skip increases
                            13031 ; 457  |#define LEVEL3_BOUNDARY 50 
                            13032 ; 458  |// Stmp00010296 Ticket #71685:  for song shorter than the min. skip size
                            13033 ; 459  |// if song_time < skip_size, bCurrentSongShort=>TRUE (ignore FWD/RWD commands)
                            13034 ; 460  |// Short Song Time, songs too short to play.
                            13035 ; 461  |#define SHORT_SONG_TIME SECONDS_TO_SKIP         
                            13036 ; 462  |
                            13037 ; 463  |/////////////////////////////////////////////////////////////////////////////////
                            13038 ; 464  |// MP3 Sync Values
                            13039 ; 465  |/////////////////////////////////////////////////////////////////////////////////
                            13040 ; 466  |// # bytes to look for sync before marking it bad
                            13041 ; 467  |#define MP3_SYNC_THRESHOLD 70000 
                            13042 ; 468  |// # bytes to look for sync before slowing decoder isr frequency (to let menus run)
                            13043 ; 469  |#define MP3_SYNC_THRESHOLD1 10000 
                            13044 ; 470  |// once we have sync'd, the isr should be called this frequently
                            13045 ; 471  |#define MP3_DECODERISR_FAST 7500  
                            13046 ; 472  |// if decoder is having difficulty syncing, switch isr to be called less frequently
                            13047 ; 473  |#define MP3_DECODERISR_SLOW 50000 
                            13048 ; 474  |
                            13049 ; 475  |
                            13050 ; 476  |/////////////////////////////////////////////////////////////////////////////////
                            13051 ; 477  |//// Multi-Stage Volume Control Definitions
                            13052 ; 478  |/////////////////////////////////////////////////////////////////////////////////
                            13053 ; 479  |//// Use Multi-Stage Volume
                            13054 ; 480  |#define MULTI_STAGE_VOLUME 0x1                  
                            13055 ; 481  |
                            13056 ; 482  |//// Master Volume definitions
                            13057 ; 483  |#define MIX_MSTR_MAX_VOL 0x0
                            13058 ; 484  |#define NUM_MSTR_ATT_STEPS (0x1F-MIX_MSTR_MAX_VOL)
                            13059 ; 485  |
                            13060 ; 486  |//// DAC-Mode definitions
                            13061 ; 487  |//// Adjusts 0dB point
                            13062 ; 488  |#define MIX_DAC_NOM_VOL 0x6                  
                            13063 ; 489  |#define MIX_DAC_MIN_VOL 0x1F
                            13064 ; 490  |// For minimum clipping: Set MIX_DAC_MAX_VOL below to match MIX_DAC_NOM_VOL value 2 lines above.
                            13065 ; 491  |// For additional gain (with possible clipping): Set MIX_DAC_MAX_VOL in range below. 
                            13066 ; 492  |//                                               Each integer below MIX_DAC_NOM_VOL provides 1.5 dB gain on Stmp34x0; 
                            13067 ; 493  |//                                               Max gain possible: 8 step diff would provide +12dB gain.   
                            13068 ; 494  |// range: [0 to MIX_DAC_NOM_VOL] (0 for loudest volume)
                            13069 ; 495  |#define MIX_DAC_MAX_VOL 0x0  
                            13070 ; 496  |
                            13071 ; 497  |#define NUM_DAC_ATT_STEPS (MIX_DAC_MIN_VOL-MIX_DAC_NOM_VOL+1)
                            13072 ; 498  |#define NUM_DAC_GAIN_STEPS (MIX_DAC_NOM_VOL-MIX_DAC_MAX_VOL)
                            13073 ; 499  |#define NUM_DAC_MODE_VOL_STEPS (NUM_DAC_ATT_STEPS+NUM_MSTR_ATT_STEPS+NUM_DAC_GAIN_STEPS+1)
                            13074 ; 500  |
                            13075 ; 501  |//// If there is no stored volume, set to 50% of DAC-Mode max; change if DAC Mode is not the default
                            13076 ; 502  |//// STMP35xx has 2dB attenuation per step so default needs a few more steps above midpoint.
                            13077 ; 503  |#define DEFAULT_VOLUME ((NUM_DAC_MODE_VOL_STEPS/2)+6)         
                            13078 ; 504  |
                            13079 ; 505  |//// Set maximum restored volume to 75% of DAC-Mode max; change if DAC Mode is not the default
                            13080 ; 506  |#define MAX_RESTORED_VOLUME ((3*NUM_DAC_MODE_VOL_STEPS)/4)   
                            13081 ; 507  |
                            13082 ; 508  |
                            13083 ; 509  |//// Line In definitions (used for Line-In 1)
                            13084 ; 510  |//// 0dB point of the Line In
                            13085 ; 511  |#define MIX_LINE_NOM_VOL 0x8                  
                            13086 ; 512  |//// Minimum volume of Line In
                            13087 ; 513  |#define MIX_LINE_MIN_VOL 0x1F                 
                            13088 ; 514  |//// Maximum volume of Line In (can adjust extra gain)
                            13089 ; 515  |#define MIX_LINE_MAX_VOL 0x6                  
                            13090 ; 516  |#define NUM_LINE_ATT_STEPS (MIX_LINE_MIN_VOL-MIX_LINE_NOM_VOL+1)
                            13091 ; 517  |#define NUM_LINE_GAIN_STEPS (MIX_LINE_NOM_VOL-MIX_LINE_MAX_VOL)
                            13092 ; 518  |#define NUM_LINE_MODE_VOL_STEPS (NUM_LINE_ATT_STEPS+NUM_MSTR_ATT_STEPS+NUM_LINE_GAIN_STEPS+1)
                            13093 ; 519  |
                            13094 ; 520  |//// Line In definitions (used for FM tuner with 144 pin package)
                            13095 ; 521  |//// 0dB point of the Line In
                            13096 ; 522  |#define MIX_FM_NOM_VOL 0x8                  
                            13097 ; 523  |//// Minimum volume of Line In
                            13098 ; 524  |#define MIX_FM_MIN_VOL 0x1F                 
                            13099 ; 525  |//// Maximum volume of Line In (can adjust extra gain)
                            13100 ; 526  |#define MIX_FM_MAX_VOL 0x6                  
                            13101 ; 527  |#define NUM_FM_ATT_STEPS (MIX_FM_MIN_VOL-MIX_FM_NOM_VOL+1)
                            13102 ; 528  |#define NUM_FM_GAIN_STEPS (MIX_FM_NOM_VOL-MIX_FM_MAX_VOL)
                            13103 ; 529  |#define NUM_FM_MODE_VOL_STEPS (NUM_FM_ATT_STEPS+NUM_MSTR_ATT_STEPS+NUM_FM_GAIN_STEPS+1)
                            13104 ; 530  |
                            13105 ; 531  |/////////////////////////////////////////////////////////////////////////////////
                            13106 ; 532  |//// When enabled (1), periodically checks for one of several FM state machine invalid deadlock states & recovers. 
                            13107 ; 533  |//// Define as 0 to disable FM-deadlock-state checking and recovery.
                            13108 ; 534  |#define FM_WATCHDOG_ENABLE 1
                            13109 ; 535  |
                            13110 ; 536  |#if !defined(STMP_BUILD_PLAYER)
                            13111 ; 537  |////
                            13112 ; 538  |////! This varible holds the lcd display state for the mtp project.
                            13113 ; 539  |////
                            13114 ; 540  |///
                            13115 ; 541  |#include <types.h>
                            13116 ; 542  |extern volatile WORD g_wActivityState;
                            13117 ; 543  |#endif // if !@def('STMP_BUILD_PLAYER')
                            13118 ; 544  |
                            13119 ; 545  |void _reentrant Init5VSense(void);
                            13120 ; 546  |void _reentrant ServiceDCDC(void);
                            13121 ; 547  |
                            13122 ; 548  |////////////////////////////////////////////////////////////////////////////
                            13123 ; 549  |//// JPEG Thumbnail Mode Setting
                            13124 ; 550  |//// number of column in thumbnail mode
                            13125 ; 551  |#define THUMBNAIL_X 2           
                            13126 ; 552  |//// number of row in  thumbnail mode
                            13127 ; 553  |#define THUMBNAIL_Y 2           
                            13128 ; 554  |//// thumbnail boundary offset x
                            13129 ; 555  |#define THUMBNAIL_X_OFFSET 4            
                            13130 ; 556  |//// thumbnail boundary offset y
                            13131 ; 557  |#define THUMBNAIL_Y_OFFSET 4            
                            13132 ; 558  |
                            13133 ; 559  |#endif // if (!@def(_PROJECT_INC))
                            13134 ; 560  |
                            13135 
                            13137 
                            13138 ; 10   |#include "exec.h"
                            13139 
                            13141 
                            13142 ; 1    |#ifndef EXEC_H
                            13143 ; 2    |#define EXEC_H
                            13144 ; 3    |
                            13145 ; 4    |
                            13146 ; 5    |void _reentrant SysPostMessage(int iLength,...);
                            13147 ; 6    |int _asmfunc GetMessage(struct MessageQueueDescriptor*,struct CMessage * );
                            13148 ; 7    |long _asmfunc SysGetCurrentTime(void);
                            13149 ; 8    |
                            13150 ; 9    |
                            13151 ; 10   |#endif
                            13152 
                            13154 
                            13155 ; 11   |#include "menumanager.h"
                            13156 
                            13158 
                            13159 ; 1    |#ifndef _EXEC_H
                            13160 ; 2    |#define _EXEC_H
                            13161 ; 3    |
                            13162 ; 4    |#include "types.h"
                            13163 
                            13165 
                            13166 ; 1    |////////////////////////////////////////////////////////////////////////////////
                            13167 ; 2    |// Copyright(C) SigmaTel, Inc. 2000-2004
                            13168 ; 3    |//
                            13169 ; 4    |// Filename: types.h
                            13170 ; 5    |// Description: Standard data types
                            13171 ; 6    |////////////////////////////////////////////////////////////////////////////////
                            13172 ; 7    |
                            13173 ; 8    |#ifndef _TYPES_H
                            13174 ; 9    |#define _TYPES_H
                            13175 ; 10   |
                            13176 ; 11   |// TODO:  move this outta here!
                            13177 ; 12   |#if !defined(NOERROR)
                            13178 ; 13   |#define NOERROR 0
                            13179 ; 14   |#define SUCCESS 0
                            13180 ; 15   |#endif 
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page  53

M:ADDR CODE           CYCLES LINE SOURCELINE
                            13181 ; 16   |#if !defined(SUCCESS)
                            13182 ; 17   |#define SUCCESS  0
                            13183 ; 18   |#endif
                            13184 ; 19   |#if !defined(ERROR)
                            13185 ; 20   |#define ERROR   -1
                            13186 ; 21   |#endif
                            13187 ; 22   |#if !defined(FALSE)
                            13188 ; 23   |#define FALSE 0
                            13189 ; 24   |#endif
                            13190 ; 25   |#if !defined(TRUE)
                            13191 ; 26   |#define TRUE  1
                            13192 ; 27   |#endif
                            13193 ; 28   |
                            13194 ; 29   |#if !defined(NULL)
                            13195 ; 30   |#define NULL 0
                            13196 ; 31   |#endif
                            13197 ; 32   |
                            13198 ; 33   |#define MAX_INT     0x7FFFFF
                            13199 ; 34   |#define MAX_LONG    0x7FFFFFffffff
                            13200 ; 35   |        // max positive unsigned long value: -1 == 0xFFFFFFffffff
                            13201 ; 36   |#define MAX_ULONG   (-1) 
                            13202 ; 37   |
                            13203 ; 38   |#define WORD_SIZE   24              // word size in bits
                            13204 ; 39   |#define BYTES_PER_WORD 3            // 8 bit bytes
                            13205 ; 40   |
                            13206 ; 41   |
                            13207 ; 42   |#define BYTE    unsigned char       // btVarName
                            13208 ; 43   |#define CHAR    signed char         // cVarName
                            13209 ; 44   |#define USHORT  unsigned short      // usVarName
                            13210 ; 45   |#define SHORT   unsigned short      // sVarName
                            13211 ; 46   |#define WORD    unsigned int        // wVarName
                            13212 ; 47   |#define INT     signed int          // iVarName
                            13213 ; 48   |#define DWORD   unsigned long       // dwVarName
                            13214 ; 49   |#define LONG    signed long         // lVarName
                            13215 ; 50   |#define BOOL    unsigned int        // bVarName
                            13216 ; 51   |#define FRACT   _fract              // frVarName
                            13217 ; 52   |#define LFRACT  long _fract         // lfrVarName
                            13218 ; 53   |#define CIRC    _circ               // cp<type prefix>VarName (see below)
                            13219 ; 54   |#define FLOAT   float               // fVarName
                            13220 ; 55   |#define DBL     double              // dVarName
                            13221 ; 56   |#define ENUM    enum                // eVarName
                            13222 ; 57   |#define CMX     _complex            // cmxVarName
                            13223 ; 58   |typedef WORD UCS3;                   // 
                            13224 ; 59   |
                            13225 ; 60   |#define UINT16  unsigned short
                            13226 ; 61   |#define UINT8   unsigned char   
                            13227 ; 62   |#define UINT32  unsigned long
                            13228 ; 63   |#define UINT64  unsigned long   // need to figure out how to do 64 bit values.  Or port exisiting code to only use 48 bit
                            13229 ; 64   |#define INT64   unsigned long   // need to figure out how to do 64 bit values.  Or port exisiting code to only use 48 bit
                            13230 ; 65   |#define WCHAR   UINT16
                            13231 ; 66   |
                            13232 ; 67   |//UINT128 is 16 bytes or 6 words
                            13233 ; 68   |typedef struct UINT128_3500 {   
                            13234 ; 69   |    int val[6];     
                            13235 ; 70   |} UINT128_3500;
                            13236 ; 71   |
                            13237 ; 72   |#define UINT128   UINT128_3500
                            13238 ; 73   |
                            13239 ; 74   |// Little endian word packed byte strings:   
                            13240 ; 75   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                            13241 ; 76   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                            13242 ; 77   |// Little endian word packed byte strings:   
                            13243 ; 78   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                            13244 ; 79   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                            13245 ; 80   |
                            13246 ; 81   |// Declare Memory Spaces To Use When Coding
                            13247 ; 82   |// A. Sector Buffers
                            13248 ; 83   |#define SECTOR_BUFFER_MEM_X _X
                            13249 ; 84   |#define SECTOR_BUFFER_MEM_Y _Y
                            13250 ; 85   |#define SECTOR_BUFFER_MEM SECTOR_BUFFER_MEM_X
                            13251 ; 86   |typedef WORD SECTOR_BUFFER_MEM SECTOR_BUFFER;
                            13252 ; 87   |typedef SECTOR_BUFFER * P_SECTOR_BUFFER;
                            13253 ; 88   |// B. Media DDI Memory
                            13254 ; 89   |#define MEDIA_DDI_MEM _Y
                            13255 ; 90   |
                            13256 ; 91   |
                            13257 ; 92   |
                            13258 ; 93   |// Pointers to linear structures are labeled as: p<type prefix>VarName
                            13259 ; 94   |// Examples of circular pointers:
                            13260 ; 95   |//    INT CIRC cpiVarName
                            13261 ; 96   |//    DWORD CIRC cpdwVarName
                            13262 ; 97   |
                            13263 ; 98   |#define RETCODE INT                 // rcVarName
                            13264 ; 99   |
                            13265 ; 100  |// generic bitfield structure
                            13266 ; 101  |struct Bitfield {
                            13267 ; 102  |    unsigned int B0  :1;
                            13268 ; 103  |    unsigned int B1  :1;
                            13269 ; 104  |    unsigned int B2  :1;
                            13270 ; 105  |    unsigned int B3  :1;
                            13271 ; 106  |    unsigned int B4  :1;
                            13272 ; 107  |    unsigned int B5  :1;
                            13273 ; 108  |    unsigned int B6  :1;
                            13274 ; 109  |    unsigned int B7  :1;
                            13275 ; 110  |    unsigned int B8  :1;
                            13276 ; 111  |    unsigned int B9  :1;
                            13277 ; 112  |    unsigned int B10 :1;
                            13278 ; 113  |    unsigned int B11 :1;
                            13279 ; 114  |    unsigned int B12 :1;
                            13280 ; 115  |    unsigned int B13 :1;
                            13281 ; 116  |    unsigned int B14 :1;
                            13282 ; 117  |    unsigned int B15 :1;
                            13283 ; 118  |    unsigned int B16 :1;
                            13284 ; 119  |    unsigned int B17 :1;
                            13285 ; 120  |    unsigned int B18 :1;
                            13286 ; 121  |    unsigned int B19 :1;
                            13287 ; 122  |    unsigned int B20 :1;
                            13288 ; 123  |    unsigned int B21 :1;
                            13289 ; 124  |    unsigned int B22 :1;
                            13290 ; 125  |    unsigned int B23 :1;
                            13291 ; 126  |};
                            13292 ; 127  |
                            13293 ; 128  |union BitInt {
                            13294 ; 129  |        struct Bitfield B;
                            13295 ; 130  |        int        I;
                            13296 ; 131  |};
                            13297 ; 132  |
                            13298 ; 133  |#define MAX_MSG_LENGTH 10
                            13299 ; 134  |struct CMessage
                            13300 ; 135  |{
                            13301 ; 136  |        unsigned int m_uLength;
                            13302 ; 137  |        unsigned int m_uMsg[MAX_MSG_LENGTH];
                            13303 ; 138  |};
                            13304 ; 139  |
                            13305 ; 140  |typedef struct {
                            13306 ; 141  |    WORD m_wLength;
                            13307 ; 142  |    WORD m_wMessage;
                            13308 ; 143  |    WORD m_wParams[MAX_MSG_LENGTH];
                            13309 ; 144  |} Message;
                            13310 ; 145  |
                            13311 ; 146  |struct MessageQueueDescriptor
                            13312 ; 147  |{
                            13313 ; 148  |        int *m_pBase;
                            13314 ; 149  |        int m_iModulo;
                            13315 ; 150  |        int m_iSize;
                            13316 ; 151  |        int *m_pHead;
                            13317 ; 152  |        int *m_pTail;
                            13318 ; 153  |};
                            13319 ; 154  |
                            13320 ; 155  |struct ModuleEntry
                            13321 ; 156  |{
                            13322 ; 157  |    int m_iSignaledEventMask;
                            13323 ; 158  |    int m_iWaitEventMask;
                            13324 ; 159  |    int m_iResourceOfCode;
                            13325 ; 160  |    struct MessageQueueDescriptor *m_pMessageQueue;
                            13326 ; 161  |    int _asmfunc (*m_pProcessEntryPoint)(union WaitMask Signals,struct MessageQueueDescriptor *);
                            13327 ; 162  |    int _asmfunc (*m_pInitFunction)(struct MessageQueueDescriptor *);
                            13328 ; 163  |    int m_uTimeOutHigh;
                            13329 ; 164  |    int m_uTimeOutLow;
                            13330 ; 165  |    int _asmfunc (*m_pBackgroundFunction)(struct MessageQueueDescriptor *);
                            13331 ; 166  |};
                            13332 ; 167  |
                            13333 ; 168  |union WaitMask{
                            13334 ; 169  |    struct B{
                            13335 ; 170  |        unsigned int m_bNone     :1;
                            13336 ; 171  |        unsigned int m_bMessage  :1;
                            13337 ; 172  |        unsigned int m_bTimer    :1;
                            13338 ; 173  |        unsigned int m_bButton   :1;
                            13339 ; 174  |    } B;
                            13340 ; 175  |    int I;
                            13341 ; 176  |} ;
                            13342 ; 177  |
                            13343 ; 178  |
                            13344 ; 179  |struct Button {
                            13345 ; 180  |        WORD wButtonEvent;
                            13346 ; 181  |        WORD wUnused[MAX_MSG_LENGTH];   
                            13347 ; 182  |};
                            13348 ; 183  |
                            13349 ; 184  |struct Message {
                            13350 ; 185  |        WORD wMsgLength;
                            13351 ; 186  |        WORD wMsgCommand;
                            13352 ; 187  |        WORD wMsgParms[MAX_MSG_LENGTH-1];
                            13353 ; 188  |};
                            13354 ; 189  |
                            13355 ; 190  |union EventTypes {
                            13356 ; 191  |        struct CMessage msg;
                            13357 ; 192  |        struct Button Button ;
                            13358 ; 193  |        struct Message Message;
                            13359 ; 194  |};
                            13360 ; 195  |
                            13361 ; 196  |// next 2 used to get updater build to return correct protocol ver in scsi response.
                            13362 ; 197  |#define BUILD_TYPE_UPDATER  0x100
                            13363 ; 198  |#define BUILD_TYPE_HOSTLINK 0x101
                            13364 ; 199  |#define BUILD_TYPE_PLAYER   0x102
                            13365 ; 200  |
                            13366 ; 201  |// Resets part if RETAIL build. DEBUG build executes debug instruction to halt.
                            13367 ; 202  |#define SystemHalt() __asm(" include 'sysmacro.asm' \n error") 
                            13368 ; 203  |#define assert(x)    if(!(x)) __asm(" include 'sysmacro.asm' \n error")
                            13369 ; 204  |
                            13370 ; 205  |#if DEBUG
                            13371 ; 206  |// For DEBUG builds, DebugBuildAssert(condition) halts if condition evaluates to FALSE. 
                            13372 ; 207  |#define DebugBuildAssert(x)    if(!(x)) __asm(" debug ")
                            13373 ; 208  |#else 
                            13374 ; 209  |// For RETAIL builds, DebugBuildAssert(condition) does nothing & execution continues rather than halt or reset. 
                            13375 ; 210  |#define DebugBuildAssert(x)    
                            13376 ; 211  |#endif
                            13377 ; 212  |
                            13378 ; 213  |// Do this in your C files to make a reminder that's displayed during the build.
                            13379 ; 214  |//  #pragma asm
                            13380 ; 215  |//  WARN 'Note to builder: reminder to do this after verifying that'
                            13381 ; 216  |//  #pragma endasm
                            13382 ; 217  |
                            13383 ; 218  |
                            13384 ; 219  |#ifdef COLOR_262K
                            13385 ; 220  |#define RGB(r,g,b)    ((0x0000FC & (r)) << 10) | ((0x0000FC & (g)) << 4) | ((0x0000FC & (b)) >> 2)    //262k
                            13386 ; 221  |#elif defined(COLOR_65K)
                            13387 ; 222  |#define RGB(r,g,b)    ((0x0000F8 & (r)) << 8) | ((0x0000FC & (g)) << 3) | ((0x0000F8 & (b)) >> 3)  //65k
                            13388 ; 223  |#else
                            13389 ; 224  |#define RGB(r,g,b)       ((0x0000F0 & (r)) << 4) | (0x0000F0 & (g)) | ((0x0000F0 & (b)) >> 4)
                            13390 ; 225  |#endif
                            13391 ; 226  |    
                            13392 ; 227  |#endif // #ifndef _TYPES_H
                            13393 
                            13395 
                            13396 ; 5    |
                            13397 ; 6    |int _asmfunc SysWaitOnEvent(unsigned int uEvent,struct CMessage *,int uLength);
                            13398 ; 7    |int _asmfunc SysCallFunction(unsigned int RESOURCE,int _reentrant (int,int,int*),  int, int, int *);
                            13399 ; 8    |
                            13400 ; 9    |#if !defined(NULL)
                            13401 ; 10   |#define NULL 0
                            13402 ; 11   |#endif 
                            13403 ; 12   |
                            13404 ; 13   |#if !defined(FALSE)
                            13405 ; 14   |#define FALSE 0
                            13406 ; 15   |#endif
                            13407 ; 16   |#if !defined(TRUE)
                            13408 ; 17   |#define TRUE  !FALSE
                            13409 ; 18   |#endif
                            13410 ; 19   |
                            13411 ; 20   |// The same memory location contains either a menu message or button event. 
                            13412 ; 21   |// The button info is stored in the first word or the entire message is stored.
                            13413 ; 22   |
                            13414 ; 23   |// CMessage is kept for backards compatibility.
                            13415 ; 24   |// The union and 2 new structures are added to aid in readability.
                            13416 ; 25   |
                            13417 ; 26   |
                            13418 ; 27   |#include "messages.h"
                            13419 
                            13421 
                            13422 ; 1    |/////////////////////////////////////////////////////////////////////////////////
                            13423 ; 2    |// Copyright(C) SigmaTel, Inc. 2000
                            13424 ; 3    |// Message defs
                            13425 ; 4    |/////////////////////////////////////////////////////////////////////////////////
                            13426 ; 5    |
                            13427 ; 6    |#if (!defined(MSGEQU_INC))
                            13428 ; 7    |#define MSGEQU_INC 1
                            13429 ; 8    |
                            13430 ; 9    |
                            13431 ; 10   |#define MAX_MODULE_SIZE   (lc_u_eP_Module_overlay-lc_u_bP_Module_overlay)*3
                            13432 ; 11   |
                            13433 ; 12   |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page  54

M:ADDR CODE           CYCLES LINE SOURCELINE
                            13434 ; 13   |#define MSG_TYPE_DECODER 0x000000
                            13435 ; 14   |#define MSG_TYPE_ENCODER 0x010000
                            13436 ; 15   |#define MSG_TYPE_PARSER 0x020000
                            13437 ; 16   |#define MSG_TYPE_LCD 0x030000
                            13438 ; 17   |#define MSG_TYPE_MIXER 0x040000
                            13439 ; 18   |#define MSG_TYPE_SYSTEM 0x050000
                            13440 ; 19   |#define MSG_TYPE_MENU 0x060000
                            13441 ; 20   |#define MSG_TYPE_LED 0x070000
                            13442 ; 21   |#define MSG_TYPE_TUNER 0x080000
                            13443 ; 22   |#define MSG_TYPE_CHARLCD 0x030000
                            13444 ; 23   |#define MSG_TYPE_SOFT_TIMER 0x090000
                            13445 ; 24   |// Equalizer and other effects
                            13446 ; 25   |#define MSG_TYPE_GEQ 0x0a0000             
                            13447 ; 26   |#if (defined(USE_PLAYLIST3))
                            13448 ; 27   |#define MSG_TYPE_MUSICLIB_PLAY 0x0b0000
                            13449 ; 28   |#define MSG_TYPE_MUSICLIB_BROWSE 0x0c0000
                            13450 ; 29   |#define MSG_TYPE_MUSICLIB_PLAYALLNEXT 0x0d0000
                            13451 ; 30   |#define MSG_TYPE_MUSICLIB_PLAYALLPREV 0x0e0000
                            13452 ; 31   |#define MSG_TYPE_MUSICLIB_SHUFFLE 0x0f0000
                            13453 ; 32   |#define MSG_TYPE_MUSICLIB_VOICE 0x100000
                            13454 ; 33   |#define MSG_TYPE_MUSICLIB_VOICEPLAY 0x110000
                            13455 ; 34   |#define MSG_TYPE_MUSICLIB_MERGE 0x120000
                            13456 ; 35   |#endif // IF (@def(USE_PLAYLIST3))
                            13457 ; 36   |#if defined(USE_PLAYLIST5)
                            13458 ; 37   |#define MSG_TYPE_PL5_PLAYBACK 0x0b0000
                            13459 ; 38   |#define MSG_TYPE_PL5_BROWSE 0x0c0000
                            13460 ; 39   |#endif // if @def('USE_PLAYLIST5')
                            13461 ; 40   |
                            13462 ; 41   |// Message Structure Offsets
                            13463 ; 42   |#define MSG_Length 0
                            13464 ; 43   |#define MSG_ID 1
                            13465 ; 44   |#define MSG_Argument1 2
                            13466 ; 45   |#define MSG_Argument2 3
                            13467 ; 46   |#define MSG_Argument3 4
                            13468 ; 47   |#define MSG_Argument4 5
                            13469 ; 48   |#define MSG_Argument5 6
                            13470 ; 49   |#define MSG_Argument6 7
                            13471 ; 50   |
                            13472 ; 51   |
                            13473 ; 52   |
                            13474 ; 53   |// LCD Message IDs
                            13475 ; 54   |#define LCD_FIRST_MSG_ID MSG_TYPE_LCD+0
                            13476 ; 55   |#define LCD_CLEAR_RANGE MSG_TYPE_LCD+0
                            13477 ; 56   |#define LCD_PRINT_RANGE_RSRC MSG_TYPE_LCD+1
                            13478 ; 57   |#define LCD_PRINT_RANGE_ADDR MSG_TYPE_LCD+2
                            13479 ; 58   |#define LCD_PRINT_RANGE_INV_RSRC MSG_TYPE_LCD+3
                            13480 ; 59   |#define LCD_PRINT_RANGE_INV_ADDR MSG_TYPE_LCD+4
                            13481 ; 60   |#define LCD_PRINT_RANGE_FILE MSG_TYPE_LCD+5
                            13482 ; 61   |#define LCD_PRINT_RANGE_INV_FILE MSG_TYPE_LCD+6
                            13483 ; 62   |#define LCD_PRINT_STRING_RSRC MSG_TYPE_LCD+7
                            13484 ; 63   |#define LCD_PRINT_STRING_ADDR MSG_TYPE_LCD+8
                            13485 ; 64   |#define LCD_PRINT_STRING_INV_RSRC MSG_TYPE_LCD+9
                            13486 ; 65   |#define LCD_PRINT_STRING_INV_ADDR MSG_TYPE_LCD+10
                            13487 ; 66   |#define LCD_SCROLL_DISPLAY MSG_TYPE_LCD+11
                            13488 ; 67   |#define LCD_READ_LCD_ADDR MSG_TYPE_LCD+12
                            13489 ; 68   |#define LCD_SET_CONTRAST MSG_TYPE_LCD+13
                            13490 ; 69   |#define LCD_INC_CONTRAST MSG_TYPE_LCD+14
                            13491 ; 70   |#define LCD_DEC_CONTRAST MSG_TYPE_LCD+15
                            13492 ; 71   |#define LCD_BACKLIGHT_ON MSG_TYPE_LCD+16
                            13493 ; 72   |#define LCD_BACKLIGHT_OFF MSG_TYPE_LCD+17
                            13494 ; 73   |#define LCD_SET_FONT MSG_TYPE_LCD+18
                            13495 ; 74   |#define LCD_PRINT_NUMBER MSG_TYPE_LCD+19
                            13496 ; 75   |#define LCD_PRINT_TIME MSG_TYPE_LCD+20
                            13497 ; 76   |#define LCD_PRINT_TIME_LONG MSG_TYPE_LCD+21
                            13498 ; 77   |#define LCD_PRINT_STRING_UNICODE_INV_ADDR MSG_TYPE_LCD+22
                            13499 ; 78   |#define LCD_PRINT_STRING_UNICODE_ADDR MSG_TYPE_LCD+23
                            13500 ; 79   |#define LCD_PRINT_STRING_UNICODE_INV_RSRC MSG_TYPE_LCD+24
                            13501 ; 80   |#define LCD_PRINT_STRING_UNICODE_RSRC MSG_TYPE_LCD+25
                            13502 ; 81   |#define LCD_BEGIN_FRAME MSG_TYPE_LCD+26
                            13503 ; 82   |#define LCD_END_FRAME MSG_TYPE_LCD+27
                            13504 ; 83   |#define LCD_PRINT_NUMBER_INV MSG_TYPE_LCD+28
                            13505 ; 84   |#define LCD_PRINT_TIME_INV MSG_TYPE_LCD+29
                            13506 ; 85   |#define LCD_PRINT_TIME_LONG_INV MSG_TYPE_LCD+30
                            13507 ; 86   |#define LCD_SET_FRAMEBUFFER MSG_TYPE_LCD+31
                            13508 ; 87   |//send a NULL as Param1 to return to root frame buffer
                            13509 ; 88   |#define LCD_PUSH_MASK MSG_TYPE_LCD+32
                            13510 ; 89   |//Param1 = left
                            13511 ; 90   |//Param2 = top
                            13512 ; 91   |//Param3 = right
                            13513 ; 92   |//Param4 = bottom
                            13514 ; 93   |#define LCD_POP_MASK MSG_TYPE_LCD+33
                            13515 ; 94   |#define LCD_PRINT_UNICODE_CHAR MSG_TYPE_LCD+34
                            13516 ; 95   |#define LCD_PRINT_UNICODE_CHAR_INV MSG_TYPE_LCD+35
                            13517 ; 96   |#define LCD_DISPLAY_HISTOGRAM MSG_TYPE_LCD+36
                            13518 ; 97   |#define LCD_PRINT_TIME_L_1DIG_HR MSG_TYPE_LCD+37
                            13519 ; 98   |#define LCD_SET_ICON MSG_TYPE_LCD+38
                            13520 ; 99   |
                            13521 ; 100  |#define LCD_CLEAR_RANGE_BUFFER MSG_TYPE_LCD+39
                            13522 ; 101  |#define LCD_PRINT_RANGE_RSRC_BUFFER MSG_TYPE_LCD+40
                            13523 ; 102  |#define LCD_PRINT_RANGE_INV_RSRC_BUFFER MSG_TYPE_LCD+41
                            13524 ; 103  |#define LCD_PRINT_RANGE_ADDR_BUFFER MSG_TYPE_LCD+42
                            13525 ; 104  |#define LCD_PRINT_RANGE_INV_ADDR_BUFFER MSG_TYPE_LCD+43
                            13526 ; 105  |#define LCD_PRINT_STRING_RSRC_BUFFER MSG_TYPE_LCD+44
                            13527 ; 106  |#define LCD_PRINT_STRING_INV_RSRC_BUFFER MSG_TYPE_LCD+45
                            13528 ; 107  |#define LCD_PRINT_STRING_ADDR_BUFFER MSG_TYPE_LCD+46
                            13529 ; 108  |#define LCD_PRINT_STRING_INV_ADDR_BUFFER MSG_TYPE_LCD+47
                            13530 ; 109  |#define LCD_PRINT_NUMBER_BUFFER MSG_TYPE_LCD+48
                            13531 ; 110  |#define LCD_PRINT_NUMBER_INV_BUFFER MSG_TYPE_LCD+49
                            13532 ; 111  |#define LCD_PRINT_TIME_BUFFER MSG_TYPE_LCD+50
                            13533 ; 112  |#define LCD_PRINT_TIME_INV_BUFFER MSG_TYPE_LCD+51
                            13534 ; 113  |#define LCD_PRINT_TIME_LONG_BUFFER MSG_TYPE_LCD+52
                            13535 ; 114  |#define LCD_PRINT_TIME_LONG_INV_BUFFER MSG_TYPE_LCD+53
                            13536 ; 115  |#define LCD_PRINT_STRING_UNICODE_ADDR_BUFFER MSG_TYPE_LCD+54
                            13537 ; 116  |#define LCD_PRINT_STRING_UNICODE_INV_ADDR_BUFFER MSG_TYPE_LCD+55
                            13538 ; 117  |#define LCD_PRINT_STRING_UNICODE_RSRC_BUFFER MSG_TYPE_LCD+56
                            13539 ; 118  |#define LCD_PRINT_STRING_UNICODE_INV_RSRC_BUFFER MSG_TYPE_LCD+57
                            13540 ; 119  |#define LCD_PRINT_UNICODE_CHAR_BUFFER MSG_TYPE_LCD+58
                            13541 ; 120  |#define LCD_PRINT_UNICODE_CHAR_INV_BUFFER MSG_TYPE_LCD+59
                            13542 ; 121  |#define LCD_PRINT_TIME_L_1DIG_HR_BUFFER MSG_TYPE_LCD+60
                            13543 ; 122  |#define LCD_SET_BUFFER_COLOR MSG_TYPE_LCD+61
                            13544 ; 123  |#define LCD_FORCE_BUFFER_UPDATE MSG_TYPE_LCD+62
                            13545 ; 124  |#define LCD_SET_BUFFER_WINDOW MSG_TYPE_LCD+63
                            13546 ; 125  |#define LCD_SET_COLOR MSG_TYPE_LCD+64
                            13547 ; 126  |#define LCD_SET_BUFFER_POSITION MSG_TYPE_LCD+65
                            13548 ; 127  |
                            13549 ; 128  |#define LCD_TEMP_CONTRAST MSG_TYPE_LCD+66
                            13550 ; 129  |
                            13551 ; 130  |#if defined(CLCD_16BIT)
                            13552 ; 131  |#define LCD_16BIT_ON MSG_TYPE_LCD+67
                            13553 ; 132  |#define LCD_16BIT_OFF MSG_TYPE_LCD+68
                            13554 ; 133  |
                            13555 ; 134  |#define LCD_LAST_MSG_ID MSG_TYPE_LCD+68
                            13556 ; 135  |#else 
                            13557 ; 136  |#define LCD_LAST_MSG_ID MSG_TYPE_LCD+66
                            13558 ; 137  |#endif
                            13559 ; 138  |
                            13560 ; 139  |// If you change the LCD message ID's then you must
                            13561 ; 140  |// also change the jump table in lcdapi.asm
                            13562 ; 141  |
                            13563 ; 142  |// Character LCD Message IDs
                            13564 ; 143  |#define CHARLCD_FIRST_MSG_ID MSG_TYPE_CHARLCD+0
                            13565 ; 144  |#define CHARLCD_CLEAR_RANGE MSG_TYPE_CHARLCD+0
                            13566 ; 145  |#define CHARLCD_PRINT_RSRC MSG_TYPE_CHARLCD+1
                            13567 ; 146  |#define CHARLCD_PRINT_INV_RSRC MSG_TYPE_CHARLCD+2
                            13568 ; 147  |#define CHARLCD_PRINT_ASCII_CHAR MSG_TYPE_CHARLCD+3
                            13569 ; 148  |#define CHARLCD_PRINT_ASCII_INV_CHAR MSG_TYPE_CHARLCD+4
                            13570 ; 149  |#define CHARLCD_PRINT_STRING_RSRC MSG_TYPE_CHARLCD+5
                            13571 ; 150  |#define CHARLCD_PRINT_STRING_INV_RSRC MSG_TYPE_CHARLCD+6
                            13572 ; 151  |#define CHARLCD_PRINT_STRING_ADDR MSG_TYPE_CHARLCD+7
                            13573 ; 152  |#define CHARLCD_PRINT_STRING_INV_ADDR MSG_TYPE_CHARLCD+8
                            13574 ; 153  |#define CHARLCD_SCROLL_DISPLAY MSG_TYPE_CHARLCD+9
                            13575 ; 154  |#define CHARLCD_READ_LCD_ADDR MSG_TYPE_CHARLCD+10
                            13576 ; 155  |#define CHARLCD_SET_CURSOR MSG_TYPE_CHARLCD+11
                            13577 ; 156  |#define CHARLCD_SET_FONT MSG_TYPE_CHARLCD+12
                            13578 ; 157  |#define CHARLCD_PRINT_NUMBER MSG_TYPE_CHARLCD+13
                            13579 ; 158  |#define CHARLCD_PRINT_TIME MSG_TYPE_CHARLCD+14
                            13580 ; 159  |#define CHARLCD_SET_BATTERY MSG_TYPE_CHARLCD+15
                            13581 ; 160  |#define CHARLCD_SET_EQ MSG_TYPE_CHARLCD+16
                            13582 ; 161  |#define CHARLCD_SET_ICON MSG_TYPE_CHARLCD+17
                            13583 ; 162  |#define CHARLCD_SET_PLAYMODE MSG_TYPE_CHARLCD+18
                            13584 ; 163  |#define CHARLCD_SET_PLAYSTATE MSG_TYPE_CHARLCD+19
                            13585 ; 164  |#define CHARLCD_SET_VOLUME MSG_TYPE_CHARLCD+20
                            13586 ; 165  |#define CHARLCD_CLEAR_DISPLAY MSG_TYPE_CHARLCD+21
                            13587 ; 166  |#define CHARLCD_LAST_MSG_ID MSG_TYPE_CHARLCD+21
                            13588 ; 167  |// If you change the cHARACTER LCD message ID's then you must
                            13589 ; 168  |// also change the jump table in lcdapi.asm
                            13590 ; 169  |
                            13591 ; 170  |// Decoder Message IDs
                            13592 ; 171  |#define DECODER_FIRST_MSG_ID MSG_TYPE_DECODER+0
                            13593 ; 172  |#define DECODER_RESET MSG_TYPE_DECODER+0
                            13594 ; 173  |#define DECODER_SET_DIR MSG_TYPE_DECODER+1
                            13595 ; 174  |#define DECODER_PLAY MSG_TYPE_DECODER+2
                            13596 ; 175  |#define DECODER_STOP MSG_TYPE_DECODER+3
                            13597 ; 176  |#define DECODER_FFWD MSG_TYPE_DECODER+4
                            13598 ; 177  |#define DECODER_RWND MSG_TYPE_DECODER+5
                            13599 ; 178  |#define DECODER_NEXT_SONG MSG_TYPE_DECODER+6
                            13600 ; 179  |#define DECODER_PREV_SONG MSG_TYPE_DECODER+7
                            13601 ; 180  |#define DECODER_TIME_MODE MSG_TYPE_DECODER+8
                            13602 ; 181  |#define DECODER_AB_MODE MSG_TYPE_DECODER+9
                            13603 ; 182  |#define DECODER_SET_EQ MSG_TYPE_DECODER+10
                            13604 ; 183  |#define DECODER_GET_SONG_INFO MSG_TYPE_DECODER+11
                            13605 ; 184  |#define DECODER_NEXT_CHAPTER MSG_TYPE_DECODER+12
                            13606 ; 185  |#define DECODER_PREV_CHAPTER MSG_TYPE_DECODER+13
                            13607 ; 186  |#define DECODER_LAST_MSG_ID MSG_TYPE_DECODER+13
                            13608 ; 187  |// If you change the Decoder message ID's, then you must
                            13609 ; 188  |// also change the jump table in decoder_overlay.asm
                            13610 ; 189  |// and in dec_adpcm_overlay.asm.
                            13611 ; 190  |
                            13612 ; 191  |// Encoder Message IDs
                            13613 ; 192  |#define ENCODER_FIRST_MSG_ID MSG_TYPE_ENCODER+0
                            13614 ; 193  |#define ENCODER_RECORD MSG_TYPE_ENCODER+0
                            13615 ; 194  |#define ENCODER_STOP MSG_TYPE_ENCODER+1
                            13616 ; 195  |#define ENCODER_TIME_MODE MSG_TYPE_ENCODER+2
                            13617 ; 196  |#define ENCODER_LAST_MSG_ID MSG_TYPE_ENCODER+3
                            13618 ; 197  |// If you change the Encoder message ID's, then you must
                            13619 ; 198  |// also change the jump table in all encoder overlay modules.
                            13620 ; 199  |
                            13621 ; 200  |// Parser Message IDs
                            13622 ; 201  |#define PARSER_FIRST_MSG_ID MSG_TYPE_PARSER+0
                            13623 ; 202  |#define PARSER_NEXT_SONG MSG_TYPE_PARSER+0
                            13624 ; 203  |#define PARSER_PREV_SONG MSG_TYPE_PARSER+1
                            13625 ; 204  |#define PARSER_REPEAT MSG_TYPE_PARSER+2
                            13626 ; 205  |#define PARSER_RANDOM MSG_TYPE_PARSER+3
                            13627 ; 206  |#define PARSER_STOP MSG_TYPE_PARSER+4
                            13628 ; 207  |#define PARSER_DEVICE_ENUMERATE MSG_TYPE_PARSER+5
                            13629 ; 208  |#define PARSER_SET_CURRENT_SONG MSG_TYPE_PARSER+6
                            13630 ; 209  |#define PARSER_LAST_MSG_ID MSG_TYPE_PARSER+6
                            13631 ; 210  |// If you change the Parser message ID's, then you must
                            13632 ; 211  |// also change the jump table in parser.asm
                            13633 ; 212  |
                            13634 ; 213  |// Button Message IDs
                            13635 ; 214  |//BUTTON_FIRST_MSG_ID      equ     MSG_TYPE_BUTTON+0
                            13636 ; 215  |//BUTTON_BUTTONS_ON        equ     MSG_TYPE_BUTTON+0
                            13637 ; 216  |//BUTTON_BUTTONS_OFF       equ     MSG_TYPE_BUTTON+1
                            13638 ; 217  |//BUTTON_HOLD              equ     MSG_TYPE_BUTTON+2
                            13639 ; 218  |//BUTTON_HOLD_RELEASE      equ     MSG_TYPE_BUTTON+3
                            13640 ; 219  |//BUTTON_LAST_MSG_ID       equ     MSG_TYPE_BUTTON+3
                            13641 ; 220  |
                            13642 ; 221  |// Mixer Message IDs
                            13643 ; 222  |#define MIXER_FIRST_MSG_ID MSG_TYPE_MIXER+0
                            13644 ; 223  |#define MIXER_MASTER_INCR MSG_TYPE_MIXER+0
                            13645 ; 224  |#define MIXER_MASTER_DECR MSG_TYPE_MIXER+1
                            13646 ; 225  |#define MIXER_MASTER_SETLVL MSG_TYPE_MIXER+2
                            13647 ; 226  |#define MIXER_MASTER_MUTE MSG_TYPE_MIXER+3
                            13648 ; 227  |#define MIXER_MASTER_UNMUTE MSG_TYPE_MIXER+4
                            13649 ; 228  |#define MIXER_MASTER_FADE_OUT MSG_TYPE_MIXER+5
                            13650 ; 229  |#define MIXER_MASTER_FADE_IN MSG_TYPE_MIXER+6
                            13651 ; 230  |#define MIXER_MASTER_BAL_RIGHT MSG_TYPE_MIXER+7
                            13652 ; 231  |#define MIXER_MASTER_BAL_LEFT MSG_TYPE_MIXER+8
                            13653 ; 232  |#define MIXER_MIC_INCR MSG_TYPE_MIXER+9
                            13654 ; 233  |#define MIXER_MIC_DECR MSG_TYPE_MIXER+10
                            13655 ; 234  |#define MIXER_MIC_SETLVL MSG_TYPE_MIXER+11
                            13656 ; 235  |#define MIXER_MIC_MUTE MSG_TYPE_MIXER+12
                            13657 ; 236  |#define MIXER_MIC_UNMUTE MSG_TYPE_MIXER+13
                            13658 ; 237  |#define MIXER_MIC_BOOST MSG_TYPE_MIXER+14
                            13659 ; 238  |#define MIXER_MIC_UNBOOST MSG_TYPE_MIXER+15
                            13660 ; 239  |#define MIXER_LINE_INCR MSG_TYPE_MIXER+16
                            13661 ; 240  |#define MIXER_LINE_DECR MSG_TYPE_MIXER+17
                            13662 ; 241  |#define MIXER_LINE_SETLVL MSG_TYPE_MIXER+18
                            13663 ; 242  |#define MIXER_LINE_MUTE MSG_TYPE_MIXER+19
                            13664 ; 243  |#define MIXER_LINE_UNMUTE MSG_TYPE_MIXER+20
                            13665 ; 244  |#define MIXER_FM_INCR MSG_TYPE_MIXER+21
                            13666 ; 245  |#define MIXER_FM_DECR MSG_TYPE_MIXER+22
                            13667 ; 246  |#define MIXER_FM_SETLVL MSG_TYPE_MIXER+23
                            13668 ; 247  |#define MIXER_FM_MUTE MSG_TYPE_MIXER+24
                            13669 ; 248  |#define MIXER_FM_UNMUTE MSG_TYPE_MIXER+25
                            13670 ; 249  |#define MIXER_DAC_INCR MSG_TYPE_MIXER+26
                            13671 ; 250  |#define MIXER_DAC_DECR MSG_TYPE_MIXER+27
                            13672 ; 251  |#define MIXER_DAC_SETLVL MSG_TYPE_MIXER+28
                            13673 ; 252  |#define MIXER_DAC_MUTE MSG_TYPE_MIXER+29
                            13674 ; 253  |#define MIXER_DAC_UNMUTE MSG_TYPE_MIXER+30
                            13675 ; 254  |#define MIXER_ADC_SELECT MSG_TYPE_MIXER+31
                            13676 ; 255  |#define MIXER_ADC_INCR MSG_TYPE_MIXER+32
                            13677 ; 256  |#define MIXER_ADC_DECR MSG_TYPE_MIXER+33
                            13678 ; 257  |#define MIXER_ADC_SETLVL MSG_TYPE_MIXER+34
                            13679 ; 258  |#define MIXER_ADC_MUTE MSG_TYPE_MIXER+35
                            13680 ; 259  |#define MIXER_ADC_UNMUTE MSG_TYPE_MIXER+36
                            13681 ; 260  |#define MIXER_REC_SELECT MSG_TYPE_MIXER+37
                            13682 ; 261  |#define MIXER_POWER_DOWN MSG_TYPE_MIXER+38
                            13683 ; 262  |#define ENABLE_RIGHT_CH MSG_TYPE_MIXER+39
                            13684 ; 263  |#define DISABLE_RIGHT_CH MSG_TYPE_MIXER+40
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page  55

M:ADDR CODE           CYCLES LINE SOURCELINE
                            13685 ; 264  |#define MIXER_LAST_MSG_ID MSG_TYPE_MIXER+40
                            13686 ; 265  |// If you change the mixer message ID's then you must
                            13687 ; 266  |// also change the jump table in mixer.asm
                            13688 ; 267  |#define MIXER_ON 0
                            13689 ; 268  |#define MIXER_OFF 1
                            13690 ; 269  |
                            13691 ; 270  |
                            13692 ; 271  |// System Message IDs
                            13693 ; 272  |#define SYSTEM_FIRST_MSG_ID MSG_TYPE_SYSTEM+0
                            13694 ; 273  |#define SYSTEM_SHUTDOWN MSG_TYPE_SYSTEM+0
                            13695 ; 274  |#define SYSTEM_SHUTDOWN_FALSE MSG_TYPE_SYSTEM+1
                            13696 ; 275  |#define SYSTEM_SHUTDOWN_FINAL MSG_TYPE_SYSTEM+2
                            13697 ; 276  |#define SYSTEM_LAST_MSG_ID MSG_TYPE_SYSTEM+2
                            13698 ; 277  |// If you change the system message ID's then you must
                            13699 ; 278  |// also change the jump table in systemapi.asm
                            13700 ; 279  |
                            13701 ; 280  |// Menu IDs
                            13702 ; 281  |#define MENU_FIRST_MSG_ID MSG_TYPE_MENU+0
                            13703 ; 282  |#define MENU_BUTTON_EVENT MSG_TYPE_MENU+0
                            13704 ; 283  |#define MENU_DECODER_STATE_CHNG MSG_TYPE_MENU+1
                            13705 ; 284  |#define MENU_RECORDER_STATE_CHNG MSG_TYPE_MENU+2
                            13706 ; 285  |//sub parameters for this message:
                            13707 ; 286  |#define RECORDER_START 0
                            13708 ; 287  |#define RECORDER_PAUSE 0x2000
                            13709 ; 288  |#define RECORDER_RESUME 0x4000
                            13710 ; 289  |#define RECORDER_STOP_NORMAL 0x8000
                            13711 ; 290  |#define RECORDER_STOP_FILE_ERROR 0x8001
                            13712 ; 291  |#define RECORDER_STOP_OUT_OF_SPACE 0x8002
                            13713 ; 292  |#define RECORDER_STOP_LOW_BATTERY 0x8003
                            13714 ; 293  |#define MENU_SONG_TIME_CHNG MSG_TYPE_MENU+3
                            13715 ; 294  |#define MENU_AB_MODE_OFF MSG_TYPE_MENU+4
                            13716 ; 295  |#define MENU_BATTERY_CHNG MSG_TYPE_MENU+5
                            13717 ; 296  |#define MENU_SCROLL_TITLE MSG_TYPE_MENU+6
                            13718 ; 297  |#define MENU_AUTO_SHUTDOWN MSG_TYPE_MENU+7
                            13719 ; 298  |#define MENU_MSG_MEDIA_CHANGED MSG_TYPE_MENU+8
                            13720 ; 299  |#define MENU_MSG_MEDIA_OVER_CUR MSG_TYPE_MENU+9
                            13721 ; 300  |#define MENU_TUNER_TUNED MSG_TYPE_MENU+10
                            13722 ; 301  |#define MENU_MSG_ENC_LOW_SPACE MSG_TYPE_MENU+11
                            13723 ; 302  |#define MENU_MSG_EQ_SETTINGS MSG_TYPE_MENU+12
                            13724 ; 303  |#define MENU_RECORDER_WRITE_DATA MSG_TYPE_MENU+13
                            13725 ; 304  |#define MENU_SONG_TRACK_CHNG MSG_TYPE_MENU+14
                            13726 ; 305  |#define MENU_SET_SONG_POSITION MSG_TYPE_MENU+15
                            13727 ; 306  |#define MENU_UPDATE_CHAPTER_INFO MSG_TYPE_MENU+16
                            13728 ; 307  |#define MENU_USB_CONNECTED MSG_TYPE_MENU+17
                            13729 ; 308  |#define MENU_MSG_LYRICS_SYNC_AB MSG_TYPE_MENU+18
                            13730 ; 309  |#define MENU_MSG_LYRICS_UPDATE MSG_TYPE_MENU+19
                            13731 ; 310  |#define MENU_TUNER_REFRESH_DISPLAY MSG_TYPE_MENU+20
                            13732 ; 311  |#define MENU_TUNER_DIRTY_FLASH MSG_TYPE_MENU+21
                            13733 ; 312  |#define MENU_LAST_MSG_ID MSG_TYPE_MENU+21
                            13734 ; 313  |
                            13735 ; 314  |// Note that other versions of this file have different msg equates.
                            13736 ; 315  |// If you change the system message ID's then you must
                            13737 ; 316  |// also change the jump table in all menu *.asm
                            13738 ; 317  |
                            13739 ; 318  |// LED Message IDs
                            13740 ; 319  |#define LED_FIRST_MSG_ID MSG_TYPE_LED+0
                            13741 ; 320  |#define LED_CONTROL MSG_TYPE_LED+0
                            13742 ; 321  |#define LED_RESET MSG_TYPE_LED+1
                            13743 ; 322  |#define LED_DLY_ON_CONTROL MSG_TYPE_LED+2
                            13744 ; 323  |#define LED_LAST_MSG_ID MSG_TYPE_LED+2
                            13745 ; 324  |// If you change the LeD message ID's then you must
                            13746 ; 325  |// also change the jump table in ledapi.asm
                            13747 ; 326  |
                            13748 ; 327  |#if (!defined(REMOVE_FM))
                            13749 ; 328  |// FM Tuner Message IDs
                            13750 ; 329  |#define TUNER_FIRST_MSG_ID MSG_TYPE_TUNER+0
                            13751 ; 330  |#define TUNER_TUNE_FREQUENCY MSG_TYPE_TUNER+0
                            13752 ; 331  |#define TUNER_TUNE_MANUAL_UP MSG_TYPE_TUNER+1
                            13753 ; 332  |#define TUNER_TUNE_MANUAL_DOWN MSG_TYPE_TUNER+2
                            13754 ; 333  |#define TUNER_TUNE_SEARCH_UP MSG_TYPE_TUNER+3
                            13755 ; 334  |#define TUNER_TUNE_SEARCH_DOWN MSG_TYPE_TUNER+4
                            13756 ; 335  |#define TUNER_FORCED_MONO MSG_TYPE_TUNER+5
                            13757 ; 336  |#define TUNER_RESET MSG_TYPE_TUNER+6
                            13758 ; 337  |#define TUNER_POWER_ON MSG_TYPE_TUNER+7
                            13759 ; 338  |#define TUNER_POWER_OFF MSG_TYPE_TUNER+8
                            13760 ; 339  |#define TUNER_SET_SENSITIVITY MSG_TYPE_TUNER+9
                            13761 ; 340  |//one parameter--the sensitivity in uV
                            13762 ; 341  |#define TUNER_GET_STATES MSG_TYPE_TUNER+10
                            13763 ; 342  |#define TUNER_MUTE_OUTPUTS MSG_TYPE_TUNER+11
                            13764 ; 343  |#define TUNER_PRESET_STATION MSG_TYPE_TUNER+12
                            13765 ; 344  |#define TUNER_TUNE_TO_PRESET MSG_TYPE_TUNER+13
                            13766 ; 345  |#define TUNER_SET_PRESET MSG_TYPE_TUNER+14
                            13767 ; 346  |#define TUNER_ERASE_PRESET MSG_TYPE_TUNER+15
                            13768 ; 347  |#define TUNER_LAST_MSG_ID MSG_TYPE_TUNER+15
                            13769 ; 348  |#endif
                            13770 ; 349  |
                            13771 ; 350  |#define SOFT_TIMER_FIRST_MSG_ID MSG_TYPE_SOFT_TIMER+0
                            13772 ; 351  |#define SOFT_TIMER_SET_TIMER MSG_TYPE_SOFT_TIMER+1
                            13773 ; 352  |#define SOFT_TIMER_KILL_TIMER MSG_TYPE_SOFT_TIMER+2
                            13774 ; 353  |#define SOFT_TIMER_LAST_MSG_ID MSG_TYPE_SOFT_TIMER+2
                            13775 ; 354  |
                            13776 ; 355  |
                            13777 ; 356  |#define GEQ_FIRST_MSG_ID MSG_TYPE_GEQ+0
                            13778 ; 357  |#define GEQ_SET_EQ MSG_TYPE_GEQ+0
                            13779 ; 358  |#define GEQ_SET_EQ_LEGACY MSG_TYPE_GEQ+1
                            13780 ; 359  |#define GEQ_SET_ALL_BAND_GAINS MSG_TYPE_GEQ+2
                            13781 ; 360  |#define GEQ_SET_GAIN MSG_TYPE_GEQ+3
                            13782 ; 361  |#define GEQ_SET_COEFFICIENTS MSG_TYPE_GEQ+4
                            13783 ; 362  |#define GEQ_SET_PARAM MSG_TYPE_GEQ+5
                            13784 ; 363  |#define GEQ_GET_SETTINGS MSG_TYPE_GEQ+6
                            13785 ; 364  |#define GEQ_LAST_MSG_ID MSG_TYPE_GEQ+6
                            13786 ; 365  |
                            13787 ; 366  |#if (defined(USE_PLAYLIST3))
                            13788 ; 367  |// Music Library
                            13789 ; 368  |#define MUSICLIB_PLAY_FIRST_MSG_ID MSG_TYPE_MUSICLIB_PLAY+0
                            13790 ; 369  |#define MUSICLIB_START_PLAY_SONG MSG_TYPE_MUSICLIB_PLAY+0
                            13791 ; 370  |#define MUSICLIB_START_PLAY_ALL_SONG MSG_TYPE_MUSICLIB_PLAY+1
                            13792 ; 371  |#define MUSICLIB_PLAY_SETSHUFFLE MSG_TYPE_MUSICLIB_PLAY+2
                            13793 ; 372  |#define MUSICLIB_PLAY_RESUME MSG_TYPE_MUSICLIB_PLAY+3
                            13794 ; 373  |#define MUSICLIB_PLAY_CURRENT_SIZE MSG_TYPE_MUSICLIB_PLAY+4
                            13795 ; 374  |#define MUSICLIB_PLAY_LAST_MSG_ID MSG_TYPE_MUSICLIB_PLAY+4
                            13796 ; 375  |
                            13797 ; 376  |#define MUSICLIB_BROWSE_FIRST_MSG_ID MSG_TYPE_MUSICLIB_BROWSE+0
                            13798 ; 377  |#define MUSICLIB_BROWSE_SETROOT MSG_TYPE_MUSICLIB_BROWSE+0
                            13799 ; 378  |#define MUSICLIB_BROWSE_BROWSEMENU MSG_TYPE_MUSICLIB_BROWSE+1
                            13800 ; 379  |#define MUSICLIB_BROWSE_DOWNLIST MSG_TYPE_MUSICLIB_BROWSE+2
                            13801 ; 380  |#define MUSICLIB_BROWSE_UPLIST MSG_TYPE_MUSICLIB_BROWSE+3
                            13802 ; 381  |#define MUSICLIB_BROWSE_UPMENU MSG_TYPE_MUSICLIB_BROWSE+4
                            13803 ; 382  |#define MUSICLIB_BROWSE_SONGNUMBER MSG_TYPE_MUSICLIB_BROWSE+5
                            13804 ; 383  |#define MUSICLIB_BROWSE_ON_THE_FLY_GET_STATUS MSG_TYPE_MUSICLIB_BROWSE+6
                            13805 ; 384  |#define MUSICLIB_BROWSE_ON_THE_FLY_ADD_ITEM MSG_TYPE_MUSICLIB_BROWSE+7
                            13806 ; 385  |#define MUSICLIB_BROWSE_ON_THE_FLY_DELETE_ITEM MSG_TYPE_MUSICLIB_BROWSE+8
                            13807 ; 386  |#define MUSICLIB_BROWSE_ON_THE_FLY_DELETE_ALL MSG_TYPE_MUSICLIB_BROWSE+9
                            13808 ; 387  |#define MUSICLIB_BROWSE_LAST_MSG_ID MSG_TYPE_MUSICLIB_BROWSE+9
                            13809 ; 388  |
                            13810 ; 389  |#define MUSICLIB_PLAYALLNEXT_FIRST_MSG_ID MSG_TYPE_MUSICLIB_PLAYALLNEXT+0
                            13811 ; 390  |#define MUSICLIB_PLAYNEXTSONG MSG_TYPE_MUSICLIB_PLAYALLNEXT+0
                            13812 ; 391  |#define MUSICLIB_PLAYALLNEXT_LAST_MSG_ID MSG_TYPE_MUSICLIB_PLAYALLNEXT+0
                            13813 ; 392  |
                            13814 ; 393  |#define MUSICLIB_PLAYALLPREV_FIRST_MSG_ID MSG_TYPE_MUSICLIB_PLAYALLPREV+0
                            13815 ; 394  |#define MUSICLIB_PLAYPREVIOUSSONG MSG_TYPE_MUSICLIB_PLAYALLPREV+0
                            13816 ; 395  |#define MUSICLIB_PLAYALLPREV_LAST_MSG_ID MSG_TYPE_MUSICLIB_PLAYALLPREV+0
                            13817 ; 396  |
                            13818 ; 397  |#define MUSICLIB_SHUFFLE_FIRST_MSG_ID MSG_TYPE_MUSICLIB_SHUFFLE+0
                            13819 ; 398  |#define MUSICLIB_SHUFFLE_NEXT MSG_TYPE_MUSICLIB_SHUFFLE+0
                            13820 ; 399  |#define MUSICLIB_SHUFFLE_LAST_MSG_ID MSG_TYPE_MUSICLIB_SHUFFLE+0
                            13821 ; 400  |
                            13822 ; 401  |#define MUSICLIB_VOICE_FIRST_MSG_ID MSG_TYPE_MUSICLIB_VOICE+0
                            13823 ; 402  |#define MUSICLIB_VOICE_BROWSEMENU MSG_TYPE_MUSICLIB_VOICE+0
                            13824 ; 403  |#define MUSICLIB_VOICE_DOWNLIST MSG_TYPE_MUSICLIB_VOICE+1
                            13825 ; 404  |#define MUSICLIB_VOICE_UPLIST MSG_TYPE_MUSICLIB_VOICE+2
                            13826 ; 405  |#define MUSICLIB_VOICE_UPMENU MSG_TYPE_MUSICLIB_VOICE+3
                            13827 ; 406  |#define MUSICLIB_VOICE_VOICENUMBER MSG_TYPE_MUSICLIB_VOICE+4
                            13828 ; 407  |#define MUSICLIB_VOICE_LAST_MSG_ID MSG_TYPE_MUSICLIB_VOICE+4
                            13829 ; 408  |
                            13830 ; 409  |#define MUSICLIB_VOICEPLAY_FIRST_MSG_ID MSG_TYPE_MUSICLIB_VOICEPLAY+0
                            13831 ; 410  |#define MUSICLIB_START_PLAY_VOICE MSG_TYPE_MUSICLIB_VOICEPLAY+0
                            13832 ; 411  |#define MUSICLIB_VOICEPLAY_LAST_MSG_ID MSG_TYPE_MUSICLIB_VOICEPLAY+0
                            13833 ; 412  |
                            13834 ; 413  |#define MUSICLIB_MERGE_FIRST_MSG_ID MSG_TYPE_MUSICLIB_MERGE+0
                            13835 ; 414  |#define MUSICLIB_MERGE_SONG MSG_TYPE_MUSICLIB_MERGE+0
                            13836 ; 415  |#define MUSICLIB_MERGE_ALL_SONG MSG_TYPE_MUSICLIB_MERGE+1
                            13837 ; 416  |#define MUSICLIB_MERGE_RESUME MSG_TYPE_MUSICLIB_MERGE+2
                            13838 ; 417  |#define MUSICLIB_MERGE_LAST_MSG_ID MSG_TYPE_MUSICLIB_MERGE+2
                            13839 ; 418  |#endif // IF (@def(USE_PLAYLIST3))
                            13840 ; 419  |
                            13841 ; 420  |#if defined(USE_PLAYLIST5)
                            13842 ; 421  |#define PL5_PL_FIRST_MSG_ID MSG_TYPE_PL5_PLAYBACK+0
                            13843 ; 422  |#define PL5_PL_MSG_RESET MSG_TYPE_PL5_PLAYBACK+0
                            13844 ; 423  |#define PL5_PL_MSG_CDSEARCHING MSG_TYPE_PL5_PLAYBACK+1
                            13845 ; 424  |#define PL5_PL_MSG_START MSG_TYPE_PL5_PLAYBACK+2
                            13846 ; 425  |#define PL5_PL_MSG_STOP MSG_TYPE_PL5_PLAYBACK+3
                            13847 ; 426  |#define PL5_PL_MSG_PAUSE MSG_TYPE_PL5_PLAYBACK+4
                            13848 ; 427  |#define PL5_PL_MSG_RESUME MSG_TYPE_PL5_PLAYBACK+5
                            13849 ; 428  |#define PL5_PL_MSG_DELETE MSG_TYPE_PL5_PLAYBACK+6
                            13850 ; 429  |#define PL5_PL_MSG_PLAY MSG_TYPE_PL5_PLAYBACK+7
                            13851 ; 430  |#define PL5_PL_MSG_DISCNT MSG_TYPE_PL5_PLAYBACK+8
                            13852 ; 431  |#define PL5_PL_MSG_ENACNT MSG_TYPE_PL5_PLAYBACK+9
                            13853 ; 432  |#define PL5_PL_LAST_MSG_ID MSG_TYPE_PL5_PLAYBACK+9
                            13854 ; 433  |
                            13855 ; 434  |#define PL5_BR_FIRST_MSG_ID MSG_TYPE_PL5_BROWSE+0
                            13856 ; 435  |#define PL5_BR_MSG_RESET MSG_TYPE_PL5_BROWSE+0
                            13857 ; 436  |#define PL5_BR_MSG_CDBROWSING MSG_TYPE_PL5_BROWSE+1
                            13858 ; 437  |#define PL5_BR_MSG_START MSG_TYPE_PL5_BROWSE+2
                            13859 ; 438  |#define PL5_BR_MSG_STOP MSG_TYPE_PL5_BROWSE+3
                            13860 ; 439  |#define PL5_BR_MSG_PAUSE MSG_TYPE_PL5_BROWSE+4
                            13861 ; 440  |#define PL5_BR_MSG_RESUME MSG_TYPE_PL5_BROWSE+5
                            13862 ; 441  |#define PL5_BR_MSG_DELETE MSG_TYPE_PL5_BROWSE+6
                            13863 ; 442  |#define PL5_BR_LAST_MSG_ID MSG_TYPE_PL5_BROWSE+6
                            13864 ; 443  |#endif // if @def('USE_PLAYLIST5')
                            13865 ; 444  |// Events
                            13866 ; 445  |// No event
                            13867 ; 446  |#define EVENT_NONE 0x000001   
                            13868 ; 447  |// A message has been posted
                            13869 ; 448  |#define EVENT_MESSAGE 0x000002   
                            13870 ; 449  |// Run if wait time elapsed
                            13871 ; 450  |#define EVENT_TIMER 0x000004   
                            13872 ; 451  |// Run if a button event occured
                            13873 ; 452  |#define EVENT_BUTTON 0x000008   
                            13874 ; 453  |// Run if a background event occured
                            13875 ; 454  |#define EVENT_BACKGROUND 0x000010   
                            13876 ; 455  |// The executive should immediately repeat this module
                            13877 ; 456  |#define EVENT_REPEAT 0x000020   
                            13878 ; 457  |// Run the module's init routine
                            13879 ; 458  |#define EVENT_INIT 0x800000   
                            13880 ; 459  |
                            13881 ; 460  |#define EVENT_NONE_BITPOS 0
                            13882 ; 461  |#define EVENT_MESSAGE_BITPOS 1
                            13883 ; 462  |#define EVENT_TIMER_BITPOS 2
                            13884 ; 463  |#define EVENT_BUTTON_BITPOS 3
                            13885 ; 464  |#define EVENT_BACKGROUND_BITPOS 4
                            13886 ; 465  |#define EVENT_REPEAT_BITPOS 5
                            13887 ; 466  |#define EVENT_INIT_BITPOS 23
                            13888 ; 467  |
                            13889 ; 468  |// Parser Message Buffers
                            13890 ; 469  |#define ParserPlayBit 0
                            13891 ; 470  |#define ButtonPressBit 1
                            13892 ; 471  |#define ParserRwndBit 1
                            13893 ; 472  |#define ParserFfwdBit 2
                            13894 ; 473  |
                            13895 ; 474  |//NextSong Message Parameters
                            13896 ; 475  |// ButtonPressBit1 set to denote button was pressed.
                            13897 ; 476  |#define NEXT_SONG 2             
                            13898 ; 477  |// ButtonPressBit1 cleared
                            13899 ; 478  |#define NEXT_SONG_PLAY_EOF 1          
                            13900 ; 479  |// ButtonPressBit1 set
                            13901 ; 480  |#define NEXT_SONG_PLAY_BUTTON 3          
                            13902 ; 481  |// NextSong + Ffwd
                            13903 ; 482  |#define NEXT_SONG_FFWD 4          
                            13904 ; 483  |
                            13905 ; 484  |//PrevSong Message Parameters
                            13906 ; 485  |// PrevSong + Stopped
                            13907 ; 486  |#define PREV_SONG 0          
                            13908 ; 487  |// PrevSong + Play
                            13909 ; 488  |#define PREV_SONG_PLAY 1          
                            13910 ; 489  |// PrevSong + Rwnd
                            13911 ; 490  |#define PREV_SONG_RWND 2          
                            13912 ; 491  |
                            13913 ; 492  |
                            13914 ; 493  |
                            13915 ; 494  |
                            13916 ; 495  |#endif // IF (!@def(MSGEQU_INC))
                            13917 ; 496  |
                            13918 ; 497  |
                            13919 
                            13921 
                            13922 ; 28   |
                            13923 ; 29   |#endif 
                            13924 
                            13926 
                            13927 ; 12   |#include "messages.h"
                            13928 
                            13930 
                            13931 ; 1    |/////////////////////////////////////////////////////////////////////////////////
                            13932 ; 2    |// Copyright(C) SigmaTel, Inc. 2000
                            13933 ; 3    |// Message defs
                            13934 ; 4    |/////////////////////////////////////////////////////////////////////////////////
                            13935 ; 5    |
                            13936 ; 6    |#if (!defined(MSGEQU_INC))
                            13937 ; 7    |#define MSGEQU_INC 1
                            13938 ; 8    |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page  56

M:ADDR CODE           CYCLES LINE SOURCELINE
                            13939 ; 9    |
                            13940 ; 10   |#define MAX_MODULE_SIZE   (lc_u_eP_Module_overlay-lc_u_bP_Module_overlay)*3
                            13941 ; 11   |
                            13942 ; 12   |
                            13943 ; 13   |#define MSG_TYPE_DECODER 0x000000
                            13944 ; 14   |#define MSG_TYPE_ENCODER 0x010000
                            13945 ; 15   |#define MSG_TYPE_PARSER 0x020000
                            13946 ; 16   |#define MSG_TYPE_LCD 0x030000
                            13947 ; 17   |#define MSG_TYPE_MIXER 0x040000
                            13948 ; 18   |#define MSG_TYPE_SYSTEM 0x050000
                            13949 ; 19   |#define MSG_TYPE_MENU 0x060000
                            13950 ; 20   |#define MSG_TYPE_LED 0x070000
                            13951 ; 21   |#define MSG_TYPE_TUNER 0x080000
                            13952 ; 22   |#define MSG_TYPE_CHARLCD 0x030000
                            13953 ; 23   |#define MSG_TYPE_SOFT_TIMER 0x090000
                            13954 ; 24   |// Equalizer and other effects
                            13955 ; 25   |#define MSG_TYPE_GEQ 0x0a0000             
                            13956 ; 26   |#if (defined(USE_PLAYLIST3))
                            13957 ; 27   |#define MSG_TYPE_MUSICLIB_PLAY 0x0b0000
                            13958 ; 28   |#define MSG_TYPE_MUSICLIB_BROWSE 0x0c0000
                            13959 ; 29   |#define MSG_TYPE_MUSICLIB_PLAYALLNEXT 0x0d0000
                            13960 ; 30   |#define MSG_TYPE_MUSICLIB_PLAYALLPREV 0x0e0000
                            13961 ; 31   |#define MSG_TYPE_MUSICLIB_SHUFFLE 0x0f0000
                            13962 ; 32   |#define MSG_TYPE_MUSICLIB_VOICE 0x100000
                            13963 ; 33   |#define MSG_TYPE_MUSICLIB_VOICEPLAY 0x110000
                            13964 ; 34   |#define MSG_TYPE_MUSICLIB_MERGE 0x120000
                            13965 ; 35   |#endif // IF (@def(USE_PLAYLIST3))
                            13966 ; 36   |#if defined(USE_PLAYLIST5)
                            13967 ; 37   |#define MSG_TYPE_PL5_PLAYBACK 0x0b0000
                            13968 ; 38   |#define MSG_TYPE_PL5_BROWSE 0x0c0000
                            13969 ; 39   |#endif // if @def('USE_PLAYLIST5')
                            13970 ; 40   |
                            13971 ; 41   |// Message Structure Offsets
                            13972 ; 42   |#define MSG_Length 0
                            13973 ; 43   |#define MSG_ID 1
                            13974 ; 44   |#define MSG_Argument1 2
                            13975 ; 45   |#define MSG_Argument2 3
                            13976 ; 46   |#define MSG_Argument3 4
                            13977 ; 47   |#define MSG_Argument4 5
                            13978 ; 48   |#define MSG_Argument5 6
                            13979 ; 49   |#define MSG_Argument6 7
                            13980 ; 50   |
                            13981 ; 51   |
                            13982 ; 52   |
                            13983 ; 53   |// LCD Message IDs
                            13984 ; 54   |#define LCD_FIRST_MSG_ID MSG_TYPE_LCD+0
                            13985 ; 55   |#define LCD_CLEAR_RANGE MSG_TYPE_LCD+0
                            13986 ; 56   |#define LCD_PRINT_RANGE_RSRC MSG_TYPE_LCD+1
                            13987 ; 57   |#define LCD_PRINT_RANGE_ADDR MSG_TYPE_LCD+2
                            13988 ; 58   |#define LCD_PRINT_RANGE_INV_RSRC MSG_TYPE_LCD+3
                            13989 ; 59   |#define LCD_PRINT_RANGE_INV_ADDR MSG_TYPE_LCD+4
                            13990 ; 60   |#define LCD_PRINT_RANGE_FILE MSG_TYPE_LCD+5
                            13991 ; 61   |#define LCD_PRINT_RANGE_INV_FILE MSG_TYPE_LCD+6
                            13992 ; 62   |#define LCD_PRINT_STRING_RSRC MSG_TYPE_LCD+7
                            13993 ; 63   |#define LCD_PRINT_STRING_ADDR MSG_TYPE_LCD+8
                            13994 ; 64   |#define LCD_PRINT_STRING_INV_RSRC MSG_TYPE_LCD+9
                            13995 ; 65   |#define LCD_PRINT_STRING_INV_ADDR MSG_TYPE_LCD+10
                            13996 ; 66   |#define LCD_SCROLL_DISPLAY MSG_TYPE_LCD+11
                            13997 ; 67   |#define LCD_READ_LCD_ADDR MSG_TYPE_LCD+12
                            13998 ; 68   |#define LCD_SET_CONTRAST MSG_TYPE_LCD+13
                            13999 ; 69   |#define LCD_INC_CONTRAST MSG_TYPE_LCD+14
                            14000 ; 70   |#define LCD_DEC_CONTRAST MSG_TYPE_LCD+15
                            14001 ; 71   |#define LCD_BACKLIGHT_ON MSG_TYPE_LCD+16
                            14002 ; 72   |#define LCD_BACKLIGHT_OFF MSG_TYPE_LCD+17
                            14003 ; 73   |#define LCD_SET_FONT MSG_TYPE_LCD+18
                            14004 ; 74   |#define LCD_PRINT_NUMBER MSG_TYPE_LCD+19
                            14005 ; 75   |#define LCD_PRINT_TIME MSG_TYPE_LCD+20
                            14006 ; 76   |#define LCD_PRINT_TIME_LONG MSG_TYPE_LCD+21
                            14007 ; 77   |#define LCD_PRINT_STRING_UNICODE_INV_ADDR MSG_TYPE_LCD+22
                            14008 ; 78   |#define LCD_PRINT_STRING_UNICODE_ADDR MSG_TYPE_LCD+23
                            14009 ; 79   |#define LCD_PRINT_STRING_UNICODE_INV_RSRC MSG_TYPE_LCD+24
                            14010 ; 80   |#define LCD_PRINT_STRING_UNICODE_RSRC MSG_TYPE_LCD+25
                            14011 ; 81   |#define LCD_BEGIN_FRAME MSG_TYPE_LCD+26
                            14012 ; 82   |#define LCD_END_FRAME MSG_TYPE_LCD+27
                            14013 ; 83   |#define LCD_PRINT_NUMBER_INV MSG_TYPE_LCD+28
                            14014 ; 84   |#define LCD_PRINT_TIME_INV MSG_TYPE_LCD+29
                            14015 ; 85   |#define LCD_PRINT_TIME_LONG_INV MSG_TYPE_LCD+30
                            14016 ; 86   |#define LCD_SET_FRAMEBUFFER MSG_TYPE_LCD+31
                            14017 ; 87   |//send a NULL as Param1 to return to root frame buffer
                            14018 ; 88   |#define LCD_PUSH_MASK MSG_TYPE_LCD+32
                            14019 ; 89   |//Param1 = left
                            14020 ; 90   |//Param2 = top
                            14021 ; 91   |//Param3 = right
                            14022 ; 92   |//Param4 = bottom
                            14023 ; 93   |#define LCD_POP_MASK MSG_TYPE_LCD+33
                            14024 ; 94   |#define LCD_PRINT_UNICODE_CHAR MSG_TYPE_LCD+34
                            14025 ; 95   |#define LCD_PRINT_UNICODE_CHAR_INV MSG_TYPE_LCD+35
                            14026 ; 96   |#define LCD_DISPLAY_HISTOGRAM MSG_TYPE_LCD+36
                            14027 ; 97   |#define LCD_PRINT_TIME_L_1DIG_HR MSG_TYPE_LCD+37
                            14028 ; 98   |#define LCD_SET_ICON MSG_TYPE_LCD+38
                            14029 ; 99   |
                            14030 ; 100  |#define LCD_CLEAR_RANGE_BUFFER MSG_TYPE_LCD+39
                            14031 ; 101  |#define LCD_PRINT_RANGE_RSRC_BUFFER MSG_TYPE_LCD+40
                            14032 ; 102  |#define LCD_PRINT_RANGE_INV_RSRC_BUFFER MSG_TYPE_LCD+41
                            14033 ; 103  |#define LCD_PRINT_RANGE_ADDR_BUFFER MSG_TYPE_LCD+42
                            14034 ; 104  |#define LCD_PRINT_RANGE_INV_ADDR_BUFFER MSG_TYPE_LCD+43
                            14035 ; 105  |#define LCD_PRINT_STRING_RSRC_BUFFER MSG_TYPE_LCD+44
                            14036 ; 106  |#define LCD_PRINT_STRING_INV_RSRC_BUFFER MSG_TYPE_LCD+45
                            14037 ; 107  |#define LCD_PRINT_STRING_ADDR_BUFFER MSG_TYPE_LCD+46
                            14038 ; 108  |#define LCD_PRINT_STRING_INV_ADDR_BUFFER MSG_TYPE_LCD+47
                            14039 ; 109  |#define LCD_PRINT_NUMBER_BUFFER MSG_TYPE_LCD+48
                            14040 ; 110  |#define LCD_PRINT_NUMBER_INV_BUFFER MSG_TYPE_LCD+49
                            14041 ; 111  |#define LCD_PRINT_TIME_BUFFER MSG_TYPE_LCD+50
                            14042 ; 112  |#define LCD_PRINT_TIME_INV_BUFFER MSG_TYPE_LCD+51
                            14043 ; 113  |#define LCD_PRINT_TIME_LONG_BUFFER MSG_TYPE_LCD+52
                            14044 ; 114  |#define LCD_PRINT_TIME_LONG_INV_BUFFER MSG_TYPE_LCD+53
                            14045 ; 115  |#define LCD_PRINT_STRING_UNICODE_ADDR_BUFFER MSG_TYPE_LCD+54
                            14046 ; 116  |#define LCD_PRINT_STRING_UNICODE_INV_ADDR_BUFFER MSG_TYPE_LCD+55
                            14047 ; 117  |#define LCD_PRINT_STRING_UNICODE_RSRC_BUFFER MSG_TYPE_LCD+56
                            14048 ; 118  |#define LCD_PRINT_STRING_UNICODE_INV_RSRC_BUFFER MSG_TYPE_LCD+57
                            14049 ; 119  |#define LCD_PRINT_UNICODE_CHAR_BUFFER MSG_TYPE_LCD+58
                            14050 ; 120  |#define LCD_PRINT_UNICODE_CHAR_INV_BUFFER MSG_TYPE_LCD+59
                            14051 ; 121  |#define LCD_PRINT_TIME_L_1DIG_HR_BUFFER MSG_TYPE_LCD+60
                            14052 ; 122  |#define LCD_SET_BUFFER_COLOR MSG_TYPE_LCD+61
                            14053 ; 123  |#define LCD_FORCE_BUFFER_UPDATE MSG_TYPE_LCD+62
                            14054 ; 124  |#define LCD_SET_BUFFER_WINDOW MSG_TYPE_LCD+63
                            14055 ; 125  |#define LCD_SET_COLOR MSG_TYPE_LCD+64
                            14056 ; 126  |#define LCD_SET_BUFFER_POSITION MSG_TYPE_LCD+65
                            14057 ; 127  |
                            14058 ; 128  |#define LCD_TEMP_CONTRAST MSG_TYPE_LCD+66
                            14059 ; 129  |
                            14060 ; 130  |#if defined(CLCD_16BIT)
                            14061 ; 131  |#define LCD_16BIT_ON MSG_TYPE_LCD+67
                            14062 ; 132  |#define LCD_16BIT_OFF MSG_TYPE_LCD+68
                            14063 ; 133  |
                            14064 ; 134  |#define LCD_LAST_MSG_ID MSG_TYPE_LCD+68
                            14065 ; 135  |#else 
                            14066 ; 136  |#define LCD_LAST_MSG_ID MSG_TYPE_LCD+66
                            14067 ; 137  |#endif
                            14068 ; 138  |
                            14069 ; 139  |// If you change the LCD message ID's then you must
                            14070 ; 140  |// also change the jump table in lcdapi.asm
                            14071 ; 141  |
                            14072 ; 142  |// Character LCD Message IDs
                            14073 ; 143  |#define CHARLCD_FIRST_MSG_ID MSG_TYPE_CHARLCD+0
                            14074 ; 144  |#define CHARLCD_CLEAR_RANGE MSG_TYPE_CHARLCD+0
                            14075 ; 145  |#define CHARLCD_PRINT_RSRC MSG_TYPE_CHARLCD+1
                            14076 ; 146  |#define CHARLCD_PRINT_INV_RSRC MSG_TYPE_CHARLCD+2
                            14077 ; 147  |#define CHARLCD_PRINT_ASCII_CHAR MSG_TYPE_CHARLCD+3
                            14078 ; 148  |#define CHARLCD_PRINT_ASCII_INV_CHAR MSG_TYPE_CHARLCD+4
                            14079 ; 149  |#define CHARLCD_PRINT_STRING_RSRC MSG_TYPE_CHARLCD+5
                            14080 ; 150  |#define CHARLCD_PRINT_STRING_INV_RSRC MSG_TYPE_CHARLCD+6
                            14081 ; 151  |#define CHARLCD_PRINT_STRING_ADDR MSG_TYPE_CHARLCD+7
                            14082 ; 152  |#define CHARLCD_PRINT_STRING_INV_ADDR MSG_TYPE_CHARLCD+8
                            14083 ; 153  |#define CHARLCD_SCROLL_DISPLAY MSG_TYPE_CHARLCD+9
                            14084 ; 154  |#define CHARLCD_READ_LCD_ADDR MSG_TYPE_CHARLCD+10
                            14085 ; 155  |#define CHARLCD_SET_CURSOR MSG_TYPE_CHARLCD+11
                            14086 ; 156  |#define CHARLCD_SET_FONT MSG_TYPE_CHARLCD+12
                            14087 ; 157  |#define CHARLCD_PRINT_NUMBER MSG_TYPE_CHARLCD+13
                            14088 ; 158  |#define CHARLCD_PRINT_TIME MSG_TYPE_CHARLCD+14
                            14089 ; 159  |#define CHARLCD_SET_BATTERY MSG_TYPE_CHARLCD+15
                            14090 ; 160  |#define CHARLCD_SET_EQ MSG_TYPE_CHARLCD+16
                            14091 ; 161  |#define CHARLCD_SET_ICON MSG_TYPE_CHARLCD+17
                            14092 ; 162  |#define CHARLCD_SET_PLAYMODE MSG_TYPE_CHARLCD+18
                            14093 ; 163  |#define CHARLCD_SET_PLAYSTATE MSG_TYPE_CHARLCD+19
                            14094 ; 164  |#define CHARLCD_SET_VOLUME MSG_TYPE_CHARLCD+20
                            14095 ; 165  |#define CHARLCD_CLEAR_DISPLAY MSG_TYPE_CHARLCD+21
                            14096 ; 166  |#define CHARLCD_LAST_MSG_ID MSG_TYPE_CHARLCD+21
                            14097 ; 167  |// If you change the cHARACTER LCD message ID's then you must
                            14098 ; 168  |// also change the jump table in lcdapi.asm
                            14099 ; 169  |
                            14100 ; 170  |// Decoder Message IDs
                            14101 ; 171  |#define DECODER_FIRST_MSG_ID MSG_TYPE_DECODER+0
                            14102 ; 172  |#define DECODER_RESET MSG_TYPE_DECODER+0
                            14103 ; 173  |#define DECODER_SET_DIR MSG_TYPE_DECODER+1
                            14104 ; 174  |#define DECODER_PLAY MSG_TYPE_DECODER+2
                            14105 ; 175  |#define DECODER_STOP MSG_TYPE_DECODER+3
                            14106 ; 176  |#define DECODER_FFWD MSG_TYPE_DECODER+4
                            14107 ; 177  |#define DECODER_RWND MSG_TYPE_DECODER+5
                            14108 ; 178  |#define DECODER_NEXT_SONG MSG_TYPE_DECODER+6
                            14109 ; 179  |#define DECODER_PREV_SONG MSG_TYPE_DECODER+7
                            14110 ; 180  |#define DECODER_TIME_MODE MSG_TYPE_DECODER+8
                            14111 ; 181  |#define DECODER_AB_MODE MSG_TYPE_DECODER+9
                            14112 ; 182  |#define DECODER_SET_EQ MSG_TYPE_DECODER+10
                            14113 ; 183  |#define DECODER_GET_SONG_INFO MSG_TYPE_DECODER+11
                            14114 ; 184  |#define DECODER_NEXT_CHAPTER MSG_TYPE_DECODER+12
                            14115 ; 185  |#define DECODER_PREV_CHAPTER MSG_TYPE_DECODER+13
                            14116 ; 186  |#define DECODER_LAST_MSG_ID MSG_TYPE_DECODER+13
                            14117 ; 187  |// If you change the Decoder message ID's, then you must
                            14118 ; 188  |// also change the jump table in decoder_overlay.asm
                            14119 ; 189  |// and in dec_adpcm_overlay.asm.
                            14120 ; 190  |
                            14121 ; 191  |// Encoder Message IDs
                            14122 ; 192  |#define ENCODER_FIRST_MSG_ID MSG_TYPE_ENCODER+0
                            14123 ; 193  |#define ENCODER_RECORD MSG_TYPE_ENCODER+0
                            14124 ; 194  |#define ENCODER_STOP MSG_TYPE_ENCODER+1
                            14125 ; 195  |#define ENCODER_TIME_MODE MSG_TYPE_ENCODER+2
                            14126 ; 196  |#define ENCODER_LAST_MSG_ID MSG_TYPE_ENCODER+3
                            14127 ; 197  |// If you change the Encoder message ID's, then you must
                            14128 ; 198  |// also change the jump table in all encoder overlay modules.
                            14129 ; 199  |
                            14130 ; 200  |// Parser Message IDs
                            14131 ; 201  |#define PARSER_FIRST_MSG_ID MSG_TYPE_PARSER+0
                            14132 ; 202  |#define PARSER_NEXT_SONG MSG_TYPE_PARSER+0
                            14133 ; 203  |#define PARSER_PREV_SONG MSG_TYPE_PARSER+1
                            14134 ; 204  |#define PARSER_REPEAT MSG_TYPE_PARSER+2
                            14135 ; 205  |#define PARSER_RANDOM MSG_TYPE_PARSER+3
                            14136 ; 206  |#define PARSER_STOP MSG_TYPE_PARSER+4
                            14137 ; 207  |#define PARSER_DEVICE_ENUMERATE MSG_TYPE_PARSER+5
                            14138 ; 208  |#define PARSER_SET_CURRENT_SONG MSG_TYPE_PARSER+6
                            14139 ; 209  |#define PARSER_LAST_MSG_ID MSG_TYPE_PARSER+6
                            14140 ; 210  |// If you change the Parser message ID's, then you must
                            14141 ; 211  |// also change the jump table in parser.asm
                            14142 ; 212  |
                            14143 ; 213  |// Button Message IDs
                            14144 ; 214  |//BUTTON_FIRST_MSG_ID      equ     MSG_TYPE_BUTTON+0
                            14145 ; 215  |//BUTTON_BUTTONS_ON        equ     MSG_TYPE_BUTTON+0
                            14146 ; 216  |//BUTTON_BUTTONS_OFF       equ     MSG_TYPE_BUTTON+1
                            14147 ; 217  |//BUTTON_HOLD              equ     MSG_TYPE_BUTTON+2
                            14148 ; 218  |//BUTTON_HOLD_RELEASE      equ     MSG_TYPE_BUTTON+3
                            14149 ; 219  |//BUTTON_LAST_MSG_ID       equ     MSG_TYPE_BUTTON+3
                            14150 ; 220  |
                            14151 ; 221  |// Mixer Message IDs
                            14152 ; 222  |#define MIXER_FIRST_MSG_ID MSG_TYPE_MIXER+0
                            14153 ; 223  |#define MIXER_MASTER_INCR MSG_TYPE_MIXER+0
                            14154 ; 224  |#define MIXER_MASTER_DECR MSG_TYPE_MIXER+1
                            14155 ; 225  |#define MIXER_MASTER_SETLVL MSG_TYPE_MIXER+2
                            14156 ; 226  |#define MIXER_MASTER_MUTE MSG_TYPE_MIXER+3
                            14157 ; 227  |#define MIXER_MASTER_UNMUTE MSG_TYPE_MIXER+4
                            14158 ; 228  |#define MIXER_MASTER_FADE_OUT MSG_TYPE_MIXER+5
                            14159 ; 229  |#define MIXER_MASTER_FADE_IN MSG_TYPE_MIXER+6
                            14160 ; 230  |#define MIXER_MASTER_BAL_RIGHT MSG_TYPE_MIXER+7
                            14161 ; 231  |#define MIXER_MASTER_BAL_LEFT MSG_TYPE_MIXER+8
                            14162 ; 232  |#define MIXER_MIC_INCR MSG_TYPE_MIXER+9
                            14163 ; 233  |#define MIXER_MIC_DECR MSG_TYPE_MIXER+10
                            14164 ; 234  |#define MIXER_MIC_SETLVL MSG_TYPE_MIXER+11
                            14165 ; 235  |#define MIXER_MIC_MUTE MSG_TYPE_MIXER+12
                            14166 ; 236  |#define MIXER_MIC_UNMUTE MSG_TYPE_MIXER+13
                            14167 ; 237  |#define MIXER_MIC_BOOST MSG_TYPE_MIXER+14
                            14168 ; 238  |#define MIXER_MIC_UNBOOST MSG_TYPE_MIXER+15
                            14169 ; 239  |#define MIXER_LINE_INCR MSG_TYPE_MIXER+16
                            14170 ; 240  |#define MIXER_LINE_DECR MSG_TYPE_MIXER+17
                            14171 ; 241  |#define MIXER_LINE_SETLVL MSG_TYPE_MIXER+18
                            14172 ; 242  |#define MIXER_LINE_MUTE MSG_TYPE_MIXER+19
                            14173 ; 243  |#define MIXER_LINE_UNMUTE MSG_TYPE_MIXER+20
                            14174 ; 244  |#define MIXER_FM_INCR MSG_TYPE_MIXER+21
                            14175 ; 245  |#define MIXER_FM_DECR MSG_TYPE_MIXER+22
                            14176 ; 246  |#define MIXER_FM_SETLVL MSG_TYPE_MIXER+23
                            14177 ; 247  |#define MIXER_FM_MUTE MSG_TYPE_MIXER+24
                            14178 ; 248  |#define MIXER_FM_UNMUTE MSG_TYPE_MIXER+25
                            14179 ; 249  |#define MIXER_DAC_INCR MSG_TYPE_MIXER+26
                            14180 ; 250  |#define MIXER_DAC_DECR MSG_TYPE_MIXER+27
                            14181 ; 251  |#define MIXER_DAC_SETLVL MSG_TYPE_MIXER+28
                            14182 ; 252  |#define MIXER_DAC_MUTE MSG_TYPE_MIXER+29
                            14183 ; 253  |#define MIXER_DAC_UNMUTE MSG_TYPE_MIXER+30
                            14184 ; 254  |#define MIXER_ADC_SELECT MSG_TYPE_MIXER+31
                            14185 ; 255  |#define MIXER_ADC_INCR MSG_TYPE_MIXER+32
                            14186 ; 256  |#define MIXER_ADC_DECR MSG_TYPE_MIXER+33
                            14187 ; 257  |#define MIXER_ADC_SETLVL MSG_TYPE_MIXER+34
                            14188 ; 258  |#define MIXER_ADC_MUTE MSG_TYPE_MIXER+35
                            14189 ; 259  |#define MIXER_ADC_UNMUTE MSG_TYPE_MIXER+36
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page  57

M:ADDR CODE           CYCLES LINE SOURCELINE
                            14190 ; 260  |#define MIXER_REC_SELECT MSG_TYPE_MIXER+37
                            14191 ; 261  |#define MIXER_POWER_DOWN MSG_TYPE_MIXER+38
                            14192 ; 262  |#define ENABLE_RIGHT_CH MSG_TYPE_MIXER+39
                            14193 ; 263  |#define DISABLE_RIGHT_CH MSG_TYPE_MIXER+40
                            14194 ; 264  |#define MIXER_LAST_MSG_ID MSG_TYPE_MIXER+40
                            14195 ; 265  |// If you change the mixer message ID's then you must
                            14196 ; 266  |// also change the jump table in mixer.asm
                            14197 ; 267  |#define MIXER_ON 0
                            14198 ; 268  |#define MIXER_OFF 1
                            14199 ; 269  |
                            14200 ; 270  |
                            14201 ; 271  |// System Message IDs
                            14202 ; 272  |#define SYSTEM_FIRST_MSG_ID MSG_TYPE_SYSTEM+0
                            14203 ; 273  |#define SYSTEM_SHUTDOWN MSG_TYPE_SYSTEM+0
                            14204 ; 274  |#define SYSTEM_SHUTDOWN_FALSE MSG_TYPE_SYSTEM+1
                            14205 ; 275  |#define SYSTEM_SHUTDOWN_FINAL MSG_TYPE_SYSTEM+2
                            14206 ; 276  |#define SYSTEM_LAST_MSG_ID MSG_TYPE_SYSTEM+2
                            14207 ; 277  |// If you change the system message ID's then you must
                            14208 ; 278  |// also change the jump table in systemapi.asm
                            14209 ; 279  |
                            14210 ; 280  |// Menu IDs
                            14211 ; 281  |#define MENU_FIRST_MSG_ID MSG_TYPE_MENU+0
                            14212 ; 282  |#define MENU_BUTTON_EVENT MSG_TYPE_MENU+0
                            14213 ; 283  |#define MENU_DECODER_STATE_CHNG MSG_TYPE_MENU+1
                            14214 ; 284  |#define MENU_RECORDER_STATE_CHNG MSG_TYPE_MENU+2
                            14215 ; 285  |//sub parameters for this message:
                            14216 ; 286  |#define RECORDER_START 0
                            14217 ; 287  |#define RECORDER_PAUSE 0x2000
                            14218 ; 288  |#define RECORDER_RESUME 0x4000
                            14219 ; 289  |#define RECORDER_STOP_NORMAL 0x8000
                            14220 ; 290  |#define RECORDER_STOP_FILE_ERROR 0x8001
                            14221 ; 291  |#define RECORDER_STOP_OUT_OF_SPACE 0x8002
                            14222 ; 292  |#define RECORDER_STOP_LOW_BATTERY 0x8003
                            14223 ; 293  |#define MENU_SONG_TIME_CHNG MSG_TYPE_MENU+3
                            14224 ; 294  |#define MENU_AB_MODE_OFF MSG_TYPE_MENU+4
                            14225 ; 295  |#define MENU_BATTERY_CHNG MSG_TYPE_MENU+5
                            14226 ; 296  |#define MENU_SCROLL_TITLE MSG_TYPE_MENU+6
                            14227 ; 297  |#define MENU_AUTO_SHUTDOWN MSG_TYPE_MENU+7
                            14228 ; 298  |#define MENU_MSG_MEDIA_CHANGED MSG_TYPE_MENU+8
                            14229 ; 299  |#define MENU_MSG_MEDIA_OVER_CUR MSG_TYPE_MENU+9
                            14230 ; 300  |#define MENU_TUNER_TUNED MSG_TYPE_MENU+10
                            14231 ; 301  |#define MENU_MSG_ENC_LOW_SPACE MSG_TYPE_MENU+11
                            14232 ; 302  |#define MENU_MSG_EQ_SETTINGS MSG_TYPE_MENU+12
                            14233 ; 303  |#define MENU_RECORDER_WRITE_DATA MSG_TYPE_MENU+13
                            14234 ; 304  |#define MENU_SONG_TRACK_CHNG MSG_TYPE_MENU+14
                            14235 ; 305  |#define MENU_SET_SONG_POSITION MSG_TYPE_MENU+15
                            14236 ; 306  |#define MENU_UPDATE_CHAPTER_INFO MSG_TYPE_MENU+16
                            14237 ; 307  |#define MENU_USB_CONNECTED MSG_TYPE_MENU+17
                            14238 ; 308  |#define MENU_MSG_LYRICS_SYNC_AB MSG_TYPE_MENU+18
                            14239 ; 309  |#define MENU_MSG_LYRICS_UPDATE MSG_TYPE_MENU+19
                            14240 ; 310  |#define MENU_TUNER_REFRESH_DISPLAY MSG_TYPE_MENU+20
                            14241 ; 311  |#define MENU_TUNER_DIRTY_FLASH MSG_TYPE_MENU+21
                            14242 ; 312  |#define MENU_LAST_MSG_ID MSG_TYPE_MENU+21
                            14243 ; 313  |
                            14244 ; 314  |// Note that other versions of this file have different msg equates.
                            14245 ; 315  |// If you change the system message ID's then you must
                            14246 ; 316  |// also change the jump table in all menu *.asm
                            14247 ; 317  |
                            14248 ; 318  |// LED Message IDs
                            14249 ; 319  |#define LED_FIRST_MSG_ID MSG_TYPE_LED+0
                            14250 ; 320  |#define LED_CONTROL MSG_TYPE_LED+0
                            14251 ; 321  |#define LED_RESET MSG_TYPE_LED+1
                            14252 ; 322  |#define LED_DLY_ON_CONTROL MSG_TYPE_LED+2
                            14253 ; 323  |#define LED_LAST_MSG_ID MSG_TYPE_LED+2
                            14254 ; 324  |// If you change the LeD message ID's then you must
                            14255 ; 325  |// also change the jump table in ledapi.asm
                            14256 ; 326  |
                            14257 ; 327  |#if (!defined(REMOVE_FM))
                            14258 ; 328  |// FM Tuner Message IDs
                            14259 ; 329  |#define TUNER_FIRST_MSG_ID MSG_TYPE_TUNER+0
                            14260 ; 330  |#define TUNER_TUNE_FREQUENCY MSG_TYPE_TUNER+0
                            14261 ; 331  |#define TUNER_TUNE_MANUAL_UP MSG_TYPE_TUNER+1
                            14262 ; 332  |#define TUNER_TUNE_MANUAL_DOWN MSG_TYPE_TUNER+2
                            14263 ; 333  |#define TUNER_TUNE_SEARCH_UP MSG_TYPE_TUNER+3
                            14264 ; 334  |#define TUNER_TUNE_SEARCH_DOWN MSG_TYPE_TUNER+4
                            14265 ; 335  |#define TUNER_FORCED_MONO MSG_TYPE_TUNER+5
                            14266 ; 336  |#define TUNER_RESET MSG_TYPE_TUNER+6
                            14267 ; 337  |#define TUNER_POWER_ON MSG_TYPE_TUNER+7
                            14268 ; 338  |#define TUNER_POWER_OFF MSG_TYPE_TUNER+8
                            14269 ; 339  |#define TUNER_SET_SENSITIVITY MSG_TYPE_TUNER+9
                            14270 ; 340  |//one parameter--the sensitivity in uV
                            14271 ; 341  |#define TUNER_GET_STATES MSG_TYPE_TUNER+10
                            14272 ; 342  |#define TUNER_MUTE_OUTPUTS MSG_TYPE_TUNER+11
                            14273 ; 343  |#define TUNER_PRESET_STATION MSG_TYPE_TUNER+12
                            14274 ; 344  |#define TUNER_TUNE_TO_PRESET MSG_TYPE_TUNER+13
                            14275 ; 345  |#define TUNER_SET_PRESET MSG_TYPE_TUNER+14
                            14276 ; 346  |#define TUNER_ERASE_PRESET MSG_TYPE_TUNER+15
                            14277 ; 347  |#define TUNER_LAST_MSG_ID MSG_TYPE_TUNER+15
                            14278 ; 348  |#endif
                            14279 ; 349  |
                            14280 ; 350  |#define SOFT_TIMER_FIRST_MSG_ID MSG_TYPE_SOFT_TIMER+0
                            14281 ; 351  |#define SOFT_TIMER_SET_TIMER MSG_TYPE_SOFT_TIMER+1
                            14282 ; 352  |#define SOFT_TIMER_KILL_TIMER MSG_TYPE_SOFT_TIMER+2
                            14283 ; 353  |#define SOFT_TIMER_LAST_MSG_ID MSG_TYPE_SOFT_TIMER+2
                            14284 ; 354  |
                            14285 ; 355  |
                            14286 ; 356  |#define GEQ_FIRST_MSG_ID MSG_TYPE_GEQ+0
                            14287 ; 357  |#define GEQ_SET_EQ MSG_TYPE_GEQ+0
                            14288 ; 358  |#define GEQ_SET_EQ_LEGACY MSG_TYPE_GEQ+1
                            14289 ; 359  |#define GEQ_SET_ALL_BAND_GAINS MSG_TYPE_GEQ+2
                            14290 ; 360  |#define GEQ_SET_GAIN MSG_TYPE_GEQ+3
                            14291 ; 361  |#define GEQ_SET_COEFFICIENTS MSG_TYPE_GEQ+4
                            14292 ; 362  |#define GEQ_SET_PARAM MSG_TYPE_GEQ+5
                            14293 ; 363  |#define GEQ_GET_SETTINGS MSG_TYPE_GEQ+6
                            14294 ; 364  |#define GEQ_LAST_MSG_ID MSG_TYPE_GEQ+6
                            14295 ; 365  |
                            14296 ; 366  |#if (defined(USE_PLAYLIST3))
                            14297 ; 367  |// Music Library
                            14298 ; 368  |#define MUSICLIB_PLAY_FIRST_MSG_ID MSG_TYPE_MUSICLIB_PLAY+0
                            14299 ; 369  |#define MUSICLIB_START_PLAY_SONG MSG_TYPE_MUSICLIB_PLAY+0
                            14300 ; 370  |#define MUSICLIB_START_PLAY_ALL_SONG MSG_TYPE_MUSICLIB_PLAY+1
                            14301 ; 371  |#define MUSICLIB_PLAY_SETSHUFFLE MSG_TYPE_MUSICLIB_PLAY+2
                            14302 ; 372  |#define MUSICLIB_PLAY_RESUME MSG_TYPE_MUSICLIB_PLAY+3
                            14303 ; 373  |#define MUSICLIB_PLAY_CURRENT_SIZE MSG_TYPE_MUSICLIB_PLAY+4
                            14304 ; 374  |#define MUSICLIB_PLAY_LAST_MSG_ID MSG_TYPE_MUSICLIB_PLAY+4
                            14305 ; 375  |
                            14306 ; 376  |#define MUSICLIB_BROWSE_FIRST_MSG_ID MSG_TYPE_MUSICLIB_BROWSE+0
                            14307 ; 377  |#define MUSICLIB_BROWSE_SETROOT MSG_TYPE_MUSICLIB_BROWSE+0
                            14308 ; 378  |#define MUSICLIB_BROWSE_BROWSEMENU MSG_TYPE_MUSICLIB_BROWSE+1
                            14309 ; 379  |#define MUSICLIB_BROWSE_DOWNLIST MSG_TYPE_MUSICLIB_BROWSE+2
                            14310 ; 380  |#define MUSICLIB_BROWSE_UPLIST MSG_TYPE_MUSICLIB_BROWSE+3
                            14311 ; 381  |#define MUSICLIB_BROWSE_UPMENU MSG_TYPE_MUSICLIB_BROWSE+4
                            14312 ; 382  |#define MUSICLIB_BROWSE_SONGNUMBER MSG_TYPE_MUSICLIB_BROWSE+5
                            14313 ; 383  |#define MUSICLIB_BROWSE_ON_THE_FLY_GET_STATUS MSG_TYPE_MUSICLIB_BROWSE+6
                            14314 ; 384  |#define MUSICLIB_BROWSE_ON_THE_FLY_ADD_ITEM MSG_TYPE_MUSICLIB_BROWSE+7
                            14315 ; 385  |#define MUSICLIB_BROWSE_ON_THE_FLY_DELETE_ITEM MSG_TYPE_MUSICLIB_BROWSE+8
                            14316 ; 386  |#define MUSICLIB_BROWSE_ON_THE_FLY_DELETE_ALL MSG_TYPE_MUSICLIB_BROWSE+9
                            14317 ; 387  |#define MUSICLIB_BROWSE_LAST_MSG_ID MSG_TYPE_MUSICLIB_BROWSE+9
                            14318 ; 388  |
                            14319 ; 389  |#define MUSICLIB_PLAYALLNEXT_FIRST_MSG_ID MSG_TYPE_MUSICLIB_PLAYALLNEXT+0
                            14320 ; 390  |#define MUSICLIB_PLAYNEXTSONG MSG_TYPE_MUSICLIB_PLAYALLNEXT+0
                            14321 ; 391  |#define MUSICLIB_PLAYALLNEXT_LAST_MSG_ID MSG_TYPE_MUSICLIB_PLAYALLNEXT+0
                            14322 ; 392  |
                            14323 ; 393  |#define MUSICLIB_PLAYALLPREV_FIRST_MSG_ID MSG_TYPE_MUSICLIB_PLAYALLPREV+0
                            14324 ; 394  |#define MUSICLIB_PLAYPREVIOUSSONG MSG_TYPE_MUSICLIB_PLAYALLPREV+0
                            14325 ; 395  |#define MUSICLIB_PLAYALLPREV_LAST_MSG_ID MSG_TYPE_MUSICLIB_PLAYALLPREV+0
                            14326 ; 396  |
                            14327 ; 397  |#define MUSICLIB_SHUFFLE_FIRST_MSG_ID MSG_TYPE_MUSICLIB_SHUFFLE+0
                            14328 ; 398  |#define MUSICLIB_SHUFFLE_NEXT MSG_TYPE_MUSICLIB_SHUFFLE+0
                            14329 ; 399  |#define MUSICLIB_SHUFFLE_LAST_MSG_ID MSG_TYPE_MUSICLIB_SHUFFLE+0
                            14330 ; 400  |
                            14331 ; 401  |#define MUSICLIB_VOICE_FIRST_MSG_ID MSG_TYPE_MUSICLIB_VOICE+0
                            14332 ; 402  |#define MUSICLIB_VOICE_BROWSEMENU MSG_TYPE_MUSICLIB_VOICE+0
                            14333 ; 403  |#define MUSICLIB_VOICE_DOWNLIST MSG_TYPE_MUSICLIB_VOICE+1
                            14334 ; 404  |#define MUSICLIB_VOICE_UPLIST MSG_TYPE_MUSICLIB_VOICE+2
                            14335 ; 405  |#define MUSICLIB_VOICE_UPMENU MSG_TYPE_MUSICLIB_VOICE+3
                            14336 ; 406  |#define MUSICLIB_VOICE_VOICENUMBER MSG_TYPE_MUSICLIB_VOICE+4
                            14337 ; 407  |#define MUSICLIB_VOICE_LAST_MSG_ID MSG_TYPE_MUSICLIB_VOICE+4
                            14338 ; 408  |
                            14339 ; 409  |#define MUSICLIB_VOICEPLAY_FIRST_MSG_ID MSG_TYPE_MUSICLIB_VOICEPLAY+0
                            14340 ; 410  |#define MUSICLIB_START_PLAY_VOICE MSG_TYPE_MUSICLIB_VOICEPLAY+0
                            14341 ; 411  |#define MUSICLIB_VOICEPLAY_LAST_MSG_ID MSG_TYPE_MUSICLIB_VOICEPLAY+0
                            14342 ; 412  |
                            14343 ; 413  |#define MUSICLIB_MERGE_FIRST_MSG_ID MSG_TYPE_MUSICLIB_MERGE+0
                            14344 ; 414  |#define MUSICLIB_MERGE_SONG MSG_TYPE_MUSICLIB_MERGE+0
                            14345 ; 415  |#define MUSICLIB_MERGE_ALL_SONG MSG_TYPE_MUSICLIB_MERGE+1
                            14346 ; 416  |#define MUSICLIB_MERGE_RESUME MSG_TYPE_MUSICLIB_MERGE+2
                            14347 ; 417  |#define MUSICLIB_MERGE_LAST_MSG_ID MSG_TYPE_MUSICLIB_MERGE+2
                            14348 ; 418  |#endif // IF (@def(USE_PLAYLIST3))
                            14349 ; 419  |
                            14350 ; 420  |#if defined(USE_PLAYLIST5)
                            14351 ; 421  |#define PL5_PL_FIRST_MSG_ID MSG_TYPE_PL5_PLAYBACK+0
                            14352 ; 422  |#define PL5_PL_MSG_RESET MSG_TYPE_PL5_PLAYBACK+0
                            14353 ; 423  |#define PL5_PL_MSG_CDSEARCHING MSG_TYPE_PL5_PLAYBACK+1
                            14354 ; 424  |#define PL5_PL_MSG_START MSG_TYPE_PL5_PLAYBACK+2
                            14355 ; 425  |#define PL5_PL_MSG_STOP MSG_TYPE_PL5_PLAYBACK+3
                            14356 ; 426  |#define PL5_PL_MSG_PAUSE MSG_TYPE_PL5_PLAYBACK+4
                            14357 ; 427  |#define PL5_PL_MSG_RESUME MSG_TYPE_PL5_PLAYBACK+5
                            14358 ; 428  |#define PL5_PL_MSG_DELETE MSG_TYPE_PL5_PLAYBACK+6
                            14359 ; 429  |#define PL5_PL_MSG_PLAY MSG_TYPE_PL5_PLAYBACK+7
                            14360 ; 430  |#define PL5_PL_MSG_DISCNT MSG_TYPE_PL5_PLAYBACK+8
                            14361 ; 431  |#define PL5_PL_MSG_ENACNT MSG_TYPE_PL5_PLAYBACK+9
                            14362 ; 432  |#define PL5_PL_LAST_MSG_ID MSG_TYPE_PL5_PLAYBACK+9
                            14363 ; 433  |
                            14364 ; 434  |#define PL5_BR_FIRST_MSG_ID MSG_TYPE_PL5_BROWSE+0
                            14365 ; 435  |#define PL5_BR_MSG_RESET MSG_TYPE_PL5_BROWSE+0
                            14366 ; 436  |#define PL5_BR_MSG_CDBROWSING MSG_TYPE_PL5_BROWSE+1
                            14367 ; 437  |#define PL5_BR_MSG_START MSG_TYPE_PL5_BROWSE+2
                            14368 ; 438  |#define PL5_BR_MSG_STOP MSG_TYPE_PL5_BROWSE+3
                            14369 ; 439  |#define PL5_BR_MSG_PAUSE MSG_TYPE_PL5_BROWSE+4
                            14370 ; 440  |#define PL5_BR_MSG_RESUME MSG_TYPE_PL5_BROWSE+5
                            14371 ; 441  |#define PL5_BR_MSG_DELETE MSG_TYPE_PL5_BROWSE+6
                            14372 ; 442  |#define PL5_BR_LAST_MSG_ID MSG_TYPE_PL5_BROWSE+6
                            14373 ; 443  |#endif // if @def('USE_PLAYLIST5')
                            14374 ; 444  |// Events
                            14375 ; 445  |// No event
                            14376 ; 446  |#define EVENT_NONE 0x000001   
                            14377 ; 447  |// A message has been posted
                            14378 ; 448  |#define EVENT_MESSAGE 0x000002   
                            14379 ; 449  |// Run if wait time elapsed
                            14380 ; 450  |#define EVENT_TIMER 0x000004   
                            14381 ; 451  |// Run if a button event occured
                            14382 ; 452  |#define EVENT_BUTTON 0x000008   
                            14383 ; 453  |// Run if a background event occured
                            14384 ; 454  |#define EVENT_BACKGROUND 0x000010   
                            14385 ; 455  |// The executive should immediately repeat this module
                            14386 ; 456  |#define EVENT_REPEAT 0x000020   
                            14387 ; 457  |// Run the module's init routine
                            14388 ; 458  |#define EVENT_INIT 0x800000   
                            14389 ; 459  |
                            14390 ; 460  |#define EVENT_NONE_BITPOS 0
                            14391 ; 461  |#define EVENT_MESSAGE_BITPOS 1
                            14392 ; 462  |#define EVENT_TIMER_BITPOS 2
                            14393 ; 463  |#define EVENT_BUTTON_BITPOS 3
                            14394 ; 464  |#define EVENT_BACKGROUND_BITPOS 4
                            14395 ; 465  |#define EVENT_REPEAT_BITPOS 5
                            14396 ; 466  |#define EVENT_INIT_BITPOS 23
                            14397 ; 467  |
                            14398 ; 468  |// Parser Message Buffers
                            14399 ; 469  |#define ParserPlayBit 0
                            14400 ; 470  |#define ButtonPressBit 1
                            14401 ; 471  |#define ParserRwndBit 1
                            14402 ; 472  |#define ParserFfwdBit 2
                            14403 ; 473  |
                            14404 ; 474  |//NextSong Message Parameters
                            14405 ; 475  |// ButtonPressBit1 set to denote button was pressed.
                            14406 ; 476  |#define NEXT_SONG 2             
                            14407 ; 477  |// ButtonPressBit1 cleared
                            14408 ; 478  |#define NEXT_SONG_PLAY_EOF 1          
                            14409 ; 479  |// ButtonPressBit1 set
                            14410 ; 480  |#define NEXT_SONG_PLAY_BUTTON 3          
                            14411 ; 481  |// NextSong + Ffwd
                            14412 ; 482  |#define NEXT_SONG_FFWD 4          
                            14413 ; 483  |
                            14414 ; 484  |//PrevSong Message Parameters
                            14415 ; 485  |// PrevSong + Stopped
                            14416 ; 486  |#define PREV_SONG 0          
                            14417 ; 487  |// PrevSong + Play
                            14418 ; 488  |#define PREV_SONG_PLAY 1          
                            14419 ; 489  |// PrevSong + Rwnd
                            14420 ; 490  |#define PREV_SONG_RWND 2          
                            14421 ; 491  |
                            14422 ; 492  |
                            14423 ; 493  |
                            14424 ; 494  |
                            14425 ; 495  |#endif // IF (!@def(MSGEQU_INC))
                            14426 ; 496  |
                            14427 ; 497  |
                            14428 
                            14430 
                            14431 ; 13   |#include "playerstatemachine.h"
                            14432 
                            14434 
                            14435 ; 1    |#ifndef _HANDLEPLAYERSTATEMACHINE_H
                            14436 ; 2    |#define _HANDLEPLAYERSTATEMACHINE_H
                            14437 ; 3    |
                            14438 ; 4    |#ifdef USE_PLAYLIST3
                            14439 ; 5    |#include "musiclib_ghdr.h"
                            14440 
                            14442 
                            14443 ; 1    |#ifndef MUSICLIB_GHDR_H
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page  58

M:ADDR CODE           CYCLES LINE SOURCELINE
                            14444 ; 2    |#define MUSICLIB_GHDR_H
                            14445 ; 3    |
                            14446 ; 4    |#ifdef __cplusplus
                            14447 ; 5    |extern "C" {
                            14448 ; 6    |#endif
                            14449 ; 7    |
                            14450 ; 8    |/*==================================================================================================
                            14451 ; 9    |
                            14452 ; 10   |                                        General Description
                            14453 ; 11   |
                            14454 ; 12   |====================================================================================================
                            14455 ; 13   |
                            14456 ; 14   |                               Sigmatel Inc Confidential Proprietary
                            14457 ; 15   |                               (c) Copyright Sigmatel Inc 2004, All Rights Reserved
                            14458 ; 16   |
                            14459 ; 17   |HEADER NAME: mf_sf_filename.h   AUTHOR: Developer Name      CREATION DATE: DD/MM/YYYY
                            14460 ; 18   |
                            14461 ; 19   |PRODUCT NAMES: All
                            14462 ; 20   |
                            14463 ; 21   |GENERAL DESCRIPTION:
                            14464 ; 22   |
                            14465 ; 23   |    General description of this grouping of functions.
                            14466 ; 24   |
                            14467 ; 25   |Portability: All
                            14468 ; 26   |
                            14469 ; 27   |
                            14470 ; 28   |Revision History:
                            14471 ; 29   |
                            14472 ; 30   |                         Modification        Tracking
                            14473 ; 31   |Author                       Date             Number           Description of Changes
                            14474 ; 32   |---------------------    ------------        ----------        -------------------------------------
                            14475 ; 33   |Developer Name            DD/MM/YYYY         PDaaaxxxxx        brief description of changes made
                            14476 ; 34   |
                            14477 ; 35   |
                            14478 ; 36   |====================================================================================================
                            14479 ; 37   |                                            DESCRIPTION
                            14480 ; 38   |====================================================================================================
                            14481 ; 39   |
                            14482 ; 40   |GLOBAL FUNCTIONS:
                            14483 ; 41   |    MF_global_func_name()
                            14484 ; 42   |
                            14485 ; 43   |TRACEABILITY MATRIX:
                            14486 ; 44   |    None
                            14487 ; 45   |
                            14488 ; 46   |==================================================================================================*/
                            14489 ; 47   |
                            14490 ; 48   |/*==================================================================================================
                            14491 ; 49   |                                                                Conditional Compilation Directives
                            14492 ; 50   |==================================================================================================*/
                            14493 ; 51   |#ifdef WIN32
                            14494 ; 52   |#define _PC_SIMULATION_
                            14495 ; 53   |#else
                            14496 ; 54   |#define _RUNNING_IN_EMBEDDED_
                            14497 ; 55   |#endif  // WIN32
                            14498 ; 56   |
                            14499 ; 57   |#if 1
                            14500 ; 58   |#define _NEWMUSIC_      /* install new music list */
                            14501 ; 59   |#endif
                            14502 ; 60   |
                            14503 ; 61   |#if 1
                            14504 ; 62   |#define _AUDIBLE_       /* install audible list */
                            14505 ; 63   |#endif
                            14506 ; 64   |
                            14507 ; 65   |#if 1
                            14508 ; 66   |#define _ONTHEGO_       /* install on the go list */
                            14509 ; 67   |#endif
                            14510 ; 68   |
                            14511 ; 69   |#ifdef PL3_FB
                            14512 ; 70   |#define _FOLDER_BROWSE_ // install folder browsing
                            14513 ; 71   |#endif
                            14514 ; 72   |
                            14515 ; 73   |#if 1
                            14516 ; 74   |#define _SUPPORT_2000_SONGS_
                            14517 ; 75   |#endif
                            14518 ; 76   |
                            14519 ; 77   |/*==================================================================================================
                            14520 ; 78   |                                           INCLUDE FILES
                            14521 ; 79   |==================================================================================================*/
                            14522 ; 80   |#ifdef _RUNNING_IN_EMBEDDED_
                            14523 ; 81   |#define OEM_SEEK_CUR    SEEK_CUR
                            14524 ; 82   |#define OEM_SEEK_SET    SEEK_SET
                            14525 ; 83   |#define OEM_SEEK_END    SEEK_END
                            14526 ; 84   |#else
                            14527 ; 85   |#define _X
                            14528 ; 86   |#define _Y
                            14529 ; 87   |#define _packed
                            14530 ; 88   |
                            14531 ; 89   |#define _asmfunc
                            14532 ; 90   |#define _reentrant
                            14533 ; 91   |
                            14534 ; 92   |#define OEM_SEEK_CUR    1
                            14535 ; 93   |#define OEM_SEEK_SET    0
                            14536 ; 94   |#define OEM_SEEK_END    2
                            14537 ; 95   |#endif  // _RUNNING_IN_EMBEDDED_
                            14538 ; 96   |
                            14539 ; 97   |#include "types.h"
                            14540 
                            14542 
                            14543 ; 1    |////////////////////////////////////////////////////////////////////////////////
                            14544 ; 2    |// Copyright(C) SigmaTel, Inc. 2000-2004
                            14545 ; 3    |//
                            14546 ; 4    |// Filename: types.h
                            14547 ; 5    |// Description: Standard data types
                            14548 ; 6    |////////////////////////////////////////////////////////////////////////////////
                            14549 ; 7    |
                            14550 ; 8    |#ifndef _TYPES_H
                            14551 ; 9    |#define _TYPES_H
                            14552 ; 10   |
                            14553 ; 11   |// TODO:  move this outta here!
                            14554 ; 12   |#if !defined(NOERROR)
                            14555 ; 13   |#define NOERROR 0
                            14556 ; 14   |#define SUCCESS 0
                            14557 ; 15   |#endif 
                            14558 ; 16   |#if !defined(SUCCESS)
                            14559 ; 17   |#define SUCCESS  0
                            14560 ; 18   |#endif
                            14561 ; 19   |#if !defined(ERROR)
                            14562 ; 20   |#define ERROR   -1
                            14563 ; 21   |#endif
                            14564 ; 22   |#if !defined(FALSE)
                            14565 ; 23   |#define FALSE 0
                            14566 ; 24   |#endif
                            14567 ; 25   |#if !defined(TRUE)
                            14568 ; 26   |#define TRUE  1
                            14569 ; 27   |#endif
                            14570 ; 28   |
                            14571 ; 29   |#if !defined(NULL)
                            14572 ; 30   |#define NULL 0
                            14573 ; 31   |#endif
                            14574 ; 32   |
                            14575 ; 33   |#define MAX_INT     0x7FFFFF
                            14576 ; 34   |#define MAX_LONG    0x7FFFFFffffff
                            14577 ; 35   |        // max positive unsigned long value: -1 == 0xFFFFFFffffff
                            14578 ; 36   |#define MAX_ULONG   (-1) 
                            14579 ; 37   |
                            14580 ; 38   |#define WORD_SIZE   24              // word size in bits
                            14581 ; 39   |#define BYTES_PER_WORD 3            // 8 bit bytes
                            14582 ; 40   |
                            14583 ; 41   |
                            14584 ; 42   |#define BYTE    unsigned char       // btVarName
                            14585 ; 43   |#define CHAR    signed char         // cVarName
                            14586 ; 44   |#define USHORT  unsigned short      // usVarName
                            14587 ; 45   |#define SHORT   unsigned short      // sVarName
                            14588 ; 46   |#define WORD    unsigned int        // wVarName
                            14589 ; 47   |#define INT     signed int          // iVarName
                            14590 ; 48   |#define DWORD   unsigned long       // dwVarName
                            14591 ; 49   |#define LONG    signed long         // lVarName
                            14592 ; 50   |#define BOOL    unsigned int        // bVarName
                            14593 ; 51   |#define FRACT   _fract              // frVarName
                            14594 ; 52   |#define LFRACT  long _fract         // lfrVarName
                            14595 ; 53   |#define CIRC    _circ               // cp<type prefix>VarName (see below)
                            14596 ; 54   |#define FLOAT   float               // fVarName
                            14597 ; 55   |#define DBL     double              // dVarName
                            14598 ; 56   |#define ENUM    enum                // eVarName
                            14599 ; 57   |#define CMX     _complex            // cmxVarName
                            14600 ; 58   |typedef WORD UCS3;                   // 
                            14601 ; 59   |
                            14602 ; 60   |#define UINT16  unsigned short
                            14603 ; 61   |#define UINT8   unsigned char   
                            14604 ; 62   |#define UINT32  unsigned long
                            14605 ; 63   |#define UINT64  unsigned long   // need to figure out how to do 64 bit values.  Or port exisiting code to only use 48 bit
                            14606 ; 64   |#define INT64   unsigned long   // need to figure out how to do 64 bit values.  Or port exisiting code to only use 48 bit
                            14607 ; 65   |#define WCHAR   UINT16
                            14608 ; 66   |
                            14609 ; 67   |//UINT128 is 16 bytes or 6 words
                            14610 ; 68   |typedef struct UINT128_3500 {   
                            14611 ; 69   |    int val[6];     
                            14612 ; 70   |} UINT128_3500;
                            14613 ; 71   |
                            14614 ; 72   |#define UINT128   UINT128_3500
                            14615 ; 73   |
                            14616 ; 74   |// Little endian word packed byte strings:   
                            14617 ; 75   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                            14618 ; 76   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                            14619 ; 77   |// Little endian word packed byte strings:   
                            14620 ; 78   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                            14621 ; 79   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                            14622 ; 80   |
                            14623 ; 81   |// Declare Memory Spaces To Use When Coding
                            14624 ; 82   |// A. Sector Buffers
                            14625 ; 83   |#define SECTOR_BUFFER_MEM_X _X
                            14626 ; 84   |#define SECTOR_BUFFER_MEM_Y _Y
                            14627 ; 85   |#define SECTOR_BUFFER_MEM SECTOR_BUFFER_MEM_X
                            14628 ; 86   |typedef WORD SECTOR_BUFFER_MEM SECTOR_BUFFER;
                            14629 ; 87   |typedef SECTOR_BUFFER * P_SECTOR_BUFFER;
                            14630 ; 88   |// B. Media DDI Memory
                            14631 ; 89   |#define MEDIA_DDI_MEM _Y
                            14632 ; 90   |
                            14633 ; 91   |
                            14634 ; 92   |
                            14635 ; 93   |// Pointers to linear structures are labeled as: p<type prefix>VarName
                            14636 ; 94   |// Examples of circular pointers:
                            14637 ; 95   |//    INT CIRC cpiVarName
                            14638 ; 96   |//    DWORD CIRC cpdwVarName
                            14639 ; 97   |
                            14640 ; 98   |#define RETCODE INT                 // rcVarName
                            14641 ; 99   |
                            14642 ; 100  |// generic bitfield structure
                            14643 ; 101  |struct Bitfield {
                            14644 ; 102  |    unsigned int B0  :1;
                            14645 ; 103  |    unsigned int B1  :1;
                            14646 ; 104  |    unsigned int B2  :1;
                            14647 ; 105  |    unsigned int B3  :1;
                            14648 ; 106  |    unsigned int B4  :1;
                            14649 ; 107  |    unsigned int B5  :1;
                            14650 ; 108  |    unsigned int B6  :1;
                            14651 ; 109  |    unsigned int B7  :1;
                            14652 ; 110  |    unsigned int B8  :1;
                            14653 ; 111  |    unsigned int B9  :1;
                            14654 ; 112  |    unsigned int B10 :1;
                            14655 ; 113  |    unsigned int B11 :1;
                            14656 ; 114  |    unsigned int B12 :1;
                            14657 ; 115  |    unsigned int B13 :1;
                            14658 ; 116  |    unsigned int B14 :1;
                            14659 ; 117  |    unsigned int B15 :1;
                            14660 ; 118  |    unsigned int B16 :1;
                            14661 ; 119  |    unsigned int B17 :1;
                            14662 ; 120  |    unsigned int B18 :1;
                            14663 ; 121  |    unsigned int B19 :1;
                            14664 ; 122  |    unsigned int B20 :1;
                            14665 ; 123  |    unsigned int B21 :1;
                            14666 ; 124  |    unsigned int B22 :1;
                            14667 ; 125  |    unsigned int B23 :1;
                            14668 ; 126  |};
                            14669 ; 127  |
                            14670 ; 128  |union BitInt {
                            14671 ; 129  |        struct Bitfield B;
                            14672 ; 130  |        int        I;
                            14673 ; 131  |};
                            14674 ; 132  |
                            14675 ; 133  |#define MAX_MSG_LENGTH 10
                            14676 ; 134  |struct CMessage
                            14677 ; 135  |{
                            14678 ; 136  |        unsigned int m_uLength;
                            14679 ; 137  |        unsigned int m_uMsg[MAX_MSG_LENGTH];
                            14680 ; 138  |};
                            14681 ; 139  |
                            14682 ; 140  |typedef struct {
                            14683 ; 141  |    WORD m_wLength;
                            14684 ; 142  |    WORD m_wMessage;
                            14685 ; 143  |    WORD m_wParams[MAX_MSG_LENGTH];
                            14686 ; 144  |} Message;
                            14687 ; 145  |
                            14688 ; 146  |struct MessageQueueDescriptor
                            14689 ; 147  |{
                            14690 ; 148  |        int *m_pBase;
                            14691 ; 149  |        int m_iModulo;
                            14692 ; 150  |        int m_iSize;
                            14693 ; 151  |        int *m_pHead;
                            14694 ; 152  |        int *m_pTail;
                            14695 ; 153  |};
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page  59

M:ADDR CODE           CYCLES LINE SOURCELINE
                            14696 ; 154  |
                            14697 ; 155  |struct ModuleEntry
                            14698 ; 156  |{
                            14699 ; 157  |    int m_iSignaledEventMask;
                            14700 ; 158  |    int m_iWaitEventMask;
                            14701 ; 159  |    int m_iResourceOfCode;
                            14702 ; 160  |    struct MessageQueueDescriptor *m_pMessageQueue;
                            14703 ; 161  |    int _asmfunc (*m_pProcessEntryPoint)(union WaitMask Signals,struct MessageQueueDescriptor *);
                            14704 ; 162  |    int _asmfunc (*m_pInitFunction)(struct MessageQueueDescriptor *);
                            14705 ; 163  |    int m_uTimeOutHigh;
                            14706 ; 164  |    int m_uTimeOutLow;
                            14707 ; 165  |    int _asmfunc (*m_pBackgroundFunction)(struct MessageQueueDescriptor *);
                            14708 ; 166  |};
                            14709 ; 167  |
                            14710 ; 168  |union WaitMask{
                            14711 ; 169  |    struct B{
                            14712 ; 170  |        unsigned int m_bNone     :1;
                            14713 ; 171  |        unsigned int m_bMessage  :1;
                            14714 ; 172  |        unsigned int m_bTimer    :1;
                            14715 ; 173  |        unsigned int m_bButton   :1;
                            14716 ; 174  |    } B;
                            14717 ; 175  |    int I;
                            14718 ; 176  |} ;
                            14719 ; 177  |
                            14720 ; 178  |
                            14721 ; 179  |struct Button {
                            14722 ; 180  |        WORD wButtonEvent;
                            14723 ; 181  |        WORD wUnused[MAX_MSG_LENGTH];   
                            14724 ; 182  |};
                            14725 ; 183  |
                            14726 ; 184  |struct Message {
                            14727 ; 185  |        WORD wMsgLength;
                            14728 ; 186  |        WORD wMsgCommand;
                            14729 ; 187  |        WORD wMsgParms[MAX_MSG_LENGTH-1];
                            14730 ; 188  |};
                            14731 ; 189  |
                            14732 ; 190  |union EventTypes {
                            14733 ; 191  |        struct CMessage msg;
                            14734 ; 192  |        struct Button Button ;
                            14735 ; 193  |        struct Message Message;
                            14736 ; 194  |};
                            14737 ; 195  |
                            14738 ; 196  |// next 2 used to get updater build to return correct protocol ver in scsi response.
                            14739 ; 197  |#define BUILD_TYPE_UPDATER  0x100
                            14740 ; 198  |#define BUILD_TYPE_HOSTLINK 0x101
                            14741 ; 199  |#define BUILD_TYPE_PLAYER   0x102
                            14742 ; 200  |
                            14743 ; 201  |// Resets part if RETAIL build. DEBUG build executes debug instruction to halt.
                            14744 ; 202  |#define SystemHalt() __asm(" include 'sysmacro.asm' \n error") 
                            14745 ; 203  |#define assert(x)    if(!(x)) __asm(" include 'sysmacro.asm' \n error")
                            14746 ; 204  |
                            14747 ; 205  |#if DEBUG
                            14748 ; 206  |// For DEBUG builds, DebugBuildAssert(condition) halts if condition evaluates to FALSE. 
                            14749 ; 207  |#define DebugBuildAssert(x)    if(!(x)) __asm(" debug ")
                            14750 ; 208  |#else 
                            14751 ; 209  |// For RETAIL builds, DebugBuildAssert(condition) does nothing & execution continues rather than halt or reset. 
                            14752 ; 210  |#define DebugBuildAssert(x)    
                            14753 ; 211  |#endif
                            14754 ; 212  |
                            14755 ; 213  |// Do this in your C files to make a reminder that's displayed during the build.
                            14756 ; 214  |//  #pragma asm
                            14757 ; 215  |//  WARN 'Note to builder: reminder to do this after verifying that'
                            14758 ; 216  |//  #pragma endasm
                            14759 ; 217  |
                            14760 ; 218  |
                            14761 ; 219  |#ifdef COLOR_262K
                            14762 ; 220  |#define RGB(r,g,b)    ((0x0000FC & (r)) << 10) | ((0x0000FC & (g)) << 4) | ((0x0000FC & (b)) >> 2)    //262k
                            14763 ; 221  |#elif defined(COLOR_65K)
                            14764 ; 222  |#define RGB(r,g,b)    ((0x0000F8 & (r)) << 8) | ((0x0000FC & (g)) << 3) | ((0x0000F8 & (b)) >> 3)  //65k
                            14765 ; 223  |#else
                            14766 ; 224  |#define RGB(r,g,b)       ((0x0000F0 & (r)) << 4) | (0x0000F0 & (g)) | ((0x0000F0 & (b)) >> 4)
                            14767 ; 225  |#endif
                            14768 ; 226  |    
                            14769 ; 227  |#endif // #ifndef _TYPES_H
                            14770 
                            14772 
                            14773 ; 98   |#include "exec.h"
                            14774 
                            14776 
                            14777 ; 1    |#ifndef EXEC_H
                            14778 ; 2    |#define EXEC_H
                            14779 ; 3    |
                            14780 ; 4    |
                            14781 ; 5    |void _reentrant SysPostMessage(int iLength,...);
                            14782 ; 6    |int _asmfunc GetMessage(struct MessageQueueDescriptor*,struct CMessage * );
                            14783 ; 7    |long _asmfunc SysGetCurrentTime(void);
                            14784 ; 8    |
                            14785 ; 9    |
                            14786 ; 10   |#endif
                            14787 
                            14789 
                            14790 ; 99   |#include "messages.h"
                            14791 
                            14793 
                            14794 ; 1    |/////////////////////////////////////////////////////////////////////////////////
                            14795 ; 2    |// Copyright(C) SigmaTel, Inc. 2000
                            14796 ; 3    |// Message defs
                            14797 ; 4    |/////////////////////////////////////////////////////////////////////////////////
                            14798 ; 5    |
                            14799 ; 6    |#if (!defined(MSGEQU_INC))
                            14800 ; 7    |#define MSGEQU_INC 1
                            14801 ; 8    |
                            14802 ; 9    |
                            14803 ; 10   |#define MAX_MODULE_SIZE   (lc_u_eP_Module_overlay-lc_u_bP_Module_overlay)*3
                            14804 ; 11   |
                            14805 ; 12   |
                            14806 ; 13   |#define MSG_TYPE_DECODER 0x000000
                            14807 ; 14   |#define MSG_TYPE_ENCODER 0x010000
                            14808 ; 15   |#define MSG_TYPE_PARSER 0x020000
                            14809 ; 16   |#define MSG_TYPE_LCD 0x030000
                            14810 ; 17   |#define MSG_TYPE_MIXER 0x040000
                            14811 ; 18   |#define MSG_TYPE_SYSTEM 0x050000
                            14812 ; 19   |#define MSG_TYPE_MENU 0x060000
                            14813 ; 20   |#define MSG_TYPE_LED 0x070000
                            14814 ; 21   |#define MSG_TYPE_TUNER 0x080000
                            14815 ; 22   |#define MSG_TYPE_CHARLCD 0x030000
                            14816 ; 23   |#define MSG_TYPE_SOFT_TIMER 0x090000
                            14817 ; 24   |// Equalizer and other effects
                            14818 ; 25   |#define MSG_TYPE_GEQ 0x0a0000             
                            14819 ; 26   |#if (defined(USE_PLAYLIST3))
                            14820 ; 27   |#define MSG_TYPE_MUSICLIB_PLAY 0x0b0000
                            14821 ; 28   |#define MSG_TYPE_MUSICLIB_BROWSE 0x0c0000
                            14822 ; 29   |#define MSG_TYPE_MUSICLIB_PLAYALLNEXT 0x0d0000
                            14823 ; 30   |#define MSG_TYPE_MUSICLIB_PLAYALLPREV 0x0e0000
                            14824 ; 31   |#define MSG_TYPE_MUSICLIB_SHUFFLE 0x0f0000
                            14825 ; 32   |#define MSG_TYPE_MUSICLIB_VOICE 0x100000
                            14826 ; 33   |#define MSG_TYPE_MUSICLIB_VOICEPLAY 0x110000
                            14827 ; 34   |#define MSG_TYPE_MUSICLIB_MERGE 0x120000
                            14828 ; 35   |#endif // IF (@def(USE_PLAYLIST3))
                            14829 ; 36   |#if defined(USE_PLAYLIST5)
                            14830 ; 37   |#define MSG_TYPE_PL5_PLAYBACK 0x0b0000
                            14831 ; 38   |#define MSG_TYPE_PL5_BROWSE 0x0c0000
                            14832 ; 39   |#endif // if @def('USE_PLAYLIST5')
                            14833 ; 40   |
                            14834 ; 41   |// Message Structure Offsets
                            14835 ; 42   |#define MSG_Length 0
                            14836 ; 43   |#define MSG_ID 1
                            14837 ; 44   |#define MSG_Argument1 2
                            14838 ; 45   |#define MSG_Argument2 3
                            14839 ; 46   |#define MSG_Argument3 4
                            14840 ; 47   |#define MSG_Argument4 5
                            14841 ; 48   |#define MSG_Argument5 6
                            14842 ; 49   |#define MSG_Argument6 7
                            14843 ; 50   |
                            14844 ; 51   |
                            14845 ; 52   |
                            14846 ; 53   |// LCD Message IDs
                            14847 ; 54   |#define LCD_FIRST_MSG_ID MSG_TYPE_LCD+0
                            14848 ; 55   |#define LCD_CLEAR_RANGE MSG_TYPE_LCD+0
                            14849 ; 56   |#define LCD_PRINT_RANGE_RSRC MSG_TYPE_LCD+1
                            14850 ; 57   |#define LCD_PRINT_RANGE_ADDR MSG_TYPE_LCD+2
                            14851 ; 58   |#define LCD_PRINT_RANGE_INV_RSRC MSG_TYPE_LCD+3
                            14852 ; 59   |#define LCD_PRINT_RANGE_INV_ADDR MSG_TYPE_LCD+4
                            14853 ; 60   |#define LCD_PRINT_RANGE_FILE MSG_TYPE_LCD+5
                            14854 ; 61   |#define LCD_PRINT_RANGE_INV_FILE MSG_TYPE_LCD+6
                            14855 ; 62   |#define LCD_PRINT_STRING_RSRC MSG_TYPE_LCD+7
                            14856 ; 63   |#define LCD_PRINT_STRING_ADDR MSG_TYPE_LCD+8
                            14857 ; 64   |#define LCD_PRINT_STRING_INV_RSRC MSG_TYPE_LCD+9
                            14858 ; 65   |#define LCD_PRINT_STRING_INV_ADDR MSG_TYPE_LCD+10
                            14859 ; 66   |#define LCD_SCROLL_DISPLAY MSG_TYPE_LCD+11
                            14860 ; 67   |#define LCD_READ_LCD_ADDR MSG_TYPE_LCD+12
                            14861 ; 68   |#define LCD_SET_CONTRAST MSG_TYPE_LCD+13
                            14862 ; 69   |#define LCD_INC_CONTRAST MSG_TYPE_LCD+14
                            14863 ; 70   |#define LCD_DEC_CONTRAST MSG_TYPE_LCD+15
                            14864 ; 71   |#define LCD_BACKLIGHT_ON MSG_TYPE_LCD+16
                            14865 ; 72   |#define LCD_BACKLIGHT_OFF MSG_TYPE_LCD+17
                            14866 ; 73   |#define LCD_SET_FONT MSG_TYPE_LCD+18
                            14867 ; 74   |#define LCD_PRINT_NUMBER MSG_TYPE_LCD+19
                            14868 ; 75   |#define LCD_PRINT_TIME MSG_TYPE_LCD+20
                            14869 ; 76   |#define LCD_PRINT_TIME_LONG MSG_TYPE_LCD+21
                            14870 ; 77   |#define LCD_PRINT_STRING_UNICODE_INV_ADDR MSG_TYPE_LCD+22
                            14871 ; 78   |#define LCD_PRINT_STRING_UNICODE_ADDR MSG_TYPE_LCD+23
                            14872 ; 79   |#define LCD_PRINT_STRING_UNICODE_INV_RSRC MSG_TYPE_LCD+24
                            14873 ; 80   |#define LCD_PRINT_STRING_UNICODE_RSRC MSG_TYPE_LCD+25
                            14874 ; 81   |#define LCD_BEGIN_FRAME MSG_TYPE_LCD+26
                            14875 ; 82   |#define LCD_END_FRAME MSG_TYPE_LCD+27
                            14876 ; 83   |#define LCD_PRINT_NUMBER_INV MSG_TYPE_LCD+28
                            14877 ; 84   |#define LCD_PRINT_TIME_INV MSG_TYPE_LCD+29
                            14878 ; 85   |#define LCD_PRINT_TIME_LONG_INV MSG_TYPE_LCD+30
                            14879 ; 86   |#define LCD_SET_FRAMEBUFFER MSG_TYPE_LCD+31
                            14880 ; 87   |//send a NULL as Param1 to return to root frame buffer
                            14881 ; 88   |#define LCD_PUSH_MASK MSG_TYPE_LCD+32
                            14882 ; 89   |//Param1 = left
                            14883 ; 90   |//Param2 = top
                            14884 ; 91   |//Param3 = right
                            14885 ; 92   |//Param4 = bottom
                            14886 ; 93   |#define LCD_POP_MASK MSG_TYPE_LCD+33
                            14887 ; 94   |#define LCD_PRINT_UNICODE_CHAR MSG_TYPE_LCD+34
                            14888 ; 95   |#define LCD_PRINT_UNICODE_CHAR_INV MSG_TYPE_LCD+35
                            14889 ; 96   |#define LCD_DISPLAY_HISTOGRAM MSG_TYPE_LCD+36
                            14890 ; 97   |#define LCD_PRINT_TIME_L_1DIG_HR MSG_TYPE_LCD+37
                            14891 ; 98   |#define LCD_SET_ICON MSG_TYPE_LCD+38
                            14892 ; 99   |
                            14893 ; 100  |#define LCD_CLEAR_RANGE_BUFFER MSG_TYPE_LCD+39
                            14894 ; 101  |#define LCD_PRINT_RANGE_RSRC_BUFFER MSG_TYPE_LCD+40
                            14895 ; 102  |#define LCD_PRINT_RANGE_INV_RSRC_BUFFER MSG_TYPE_LCD+41
                            14896 ; 103  |#define LCD_PRINT_RANGE_ADDR_BUFFER MSG_TYPE_LCD+42
                            14897 ; 104  |#define LCD_PRINT_RANGE_INV_ADDR_BUFFER MSG_TYPE_LCD+43
                            14898 ; 105  |#define LCD_PRINT_STRING_RSRC_BUFFER MSG_TYPE_LCD+44
                            14899 ; 106  |#define LCD_PRINT_STRING_INV_RSRC_BUFFER MSG_TYPE_LCD+45
                            14900 ; 107  |#define LCD_PRINT_STRING_ADDR_BUFFER MSG_TYPE_LCD+46
                            14901 ; 108  |#define LCD_PRINT_STRING_INV_ADDR_BUFFER MSG_TYPE_LCD+47
                            14902 ; 109  |#define LCD_PRINT_NUMBER_BUFFER MSG_TYPE_LCD+48
                            14903 ; 110  |#define LCD_PRINT_NUMBER_INV_BUFFER MSG_TYPE_LCD+49
                            14904 ; 111  |#define LCD_PRINT_TIME_BUFFER MSG_TYPE_LCD+50
                            14905 ; 112  |#define LCD_PRINT_TIME_INV_BUFFER MSG_TYPE_LCD+51
                            14906 ; 113  |#define LCD_PRINT_TIME_LONG_BUFFER MSG_TYPE_LCD+52
                            14907 ; 114  |#define LCD_PRINT_TIME_LONG_INV_BUFFER MSG_TYPE_LCD+53
                            14908 ; 115  |#define LCD_PRINT_STRING_UNICODE_ADDR_BUFFER MSG_TYPE_LCD+54
                            14909 ; 116  |#define LCD_PRINT_STRING_UNICODE_INV_ADDR_BUFFER MSG_TYPE_LCD+55
                            14910 ; 117  |#define LCD_PRINT_STRING_UNICODE_RSRC_BUFFER MSG_TYPE_LCD+56
                            14911 ; 118  |#define LCD_PRINT_STRING_UNICODE_INV_RSRC_BUFFER MSG_TYPE_LCD+57
                            14912 ; 119  |#define LCD_PRINT_UNICODE_CHAR_BUFFER MSG_TYPE_LCD+58
                            14913 ; 120  |#define LCD_PRINT_UNICODE_CHAR_INV_BUFFER MSG_TYPE_LCD+59
                            14914 ; 121  |#define LCD_PRINT_TIME_L_1DIG_HR_BUFFER MSG_TYPE_LCD+60
                            14915 ; 122  |#define LCD_SET_BUFFER_COLOR MSG_TYPE_LCD+61
                            14916 ; 123  |#define LCD_FORCE_BUFFER_UPDATE MSG_TYPE_LCD+62
                            14917 ; 124  |#define LCD_SET_BUFFER_WINDOW MSG_TYPE_LCD+63
                            14918 ; 125  |#define LCD_SET_COLOR MSG_TYPE_LCD+64
                            14919 ; 126  |#define LCD_SET_BUFFER_POSITION MSG_TYPE_LCD+65
                            14920 ; 127  |
                            14921 ; 128  |#define LCD_TEMP_CONTRAST MSG_TYPE_LCD+66
                            14922 ; 129  |
                            14923 ; 130  |#if defined(CLCD_16BIT)
                            14924 ; 131  |#define LCD_16BIT_ON MSG_TYPE_LCD+67
                            14925 ; 132  |#define LCD_16BIT_OFF MSG_TYPE_LCD+68
                            14926 ; 133  |
                            14927 ; 134  |#define LCD_LAST_MSG_ID MSG_TYPE_LCD+68
                            14928 ; 135  |#else 
                            14929 ; 136  |#define LCD_LAST_MSG_ID MSG_TYPE_LCD+66
                            14930 ; 137  |#endif
                            14931 ; 138  |
                            14932 ; 139  |// If you change the LCD message ID's then you must
                            14933 ; 140  |// also change the jump table in lcdapi.asm
                            14934 ; 141  |
                            14935 ; 142  |// Character LCD Message IDs
                            14936 ; 143  |#define CHARLCD_FIRST_MSG_ID MSG_TYPE_CHARLCD+0
                            14937 ; 144  |#define CHARLCD_CLEAR_RANGE MSG_TYPE_CHARLCD+0
                            14938 ; 145  |#define CHARLCD_PRINT_RSRC MSG_TYPE_CHARLCD+1
                            14939 ; 146  |#define CHARLCD_PRINT_INV_RSRC MSG_TYPE_CHARLCD+2
                            14940 ; 147  |#define CHARLCD_PRINT_ASCII_CHAR MSG_TYPE_CHARLCD+3
                            14941 ; 148  |#define CHARLCD_PRINT_ASCII_INV_CHAR MSG_TYPE_CHARLCD+4
                            14942 ; 149  |#define CHARLCD_PRINT_STRING_RSRC MSG_TYPE_CHARLCD+5
                            14943 ; 150  |#define CHARLCD_PRINT_STRING_INV_RSRC MSG_TYPE_CHARLCD+6
                            14944 ; 151  |#define CHARLCD_PRINT_STRING_ADDR MSG_TYPE_CHARLCD+7
                            14945 ; 152  |#define CHARLCD_PRINT_STRING_INV_ADDR MSG_TYPE_CHARLCD+8
                            14946 ; 153  |#define CHARLCD_SCROLL_DISPLAY MSG_TYPE_CHARLCD+9
                            14947 ; 154  |#define CHARLCD_READ_LCD_ADDR MSG_TYPE_CHARLCD+10
                            14948 ; 155  |#define CHARLCD_SET_CURSOR MSG_TYPE_CHARLCD+11
                            14949 ; 156  |#define CHARLCD_SET_FONT MSG_TYPE_CHARLCD+12
                            14950 ; 157  |#define CHARLCD_PRINT_NUMBER MSG_TYPE_CHARLCD+13
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page  60

M:ADDR CODE           CYCLES LINE SOURCELINE
                            14951 ; 158  |#define CHARLCD_PRINT_TIME MSG_TYPE_CHARLCD+14
                            14952 ; 159  |#define CHARLCD_SET_BATTERY MSG_TYPE_CHARLCD+15
                            14953 ; 160  |#define CHARLCD_SET_EQ MSG_TYPE_CHARLCD+16
                            14954 ; 161  |#define CHARLCD_SET_ICON MSG_TYPE_CHARLCD+17
                            14955 ; 162  |#define CHARLCD_SET_PLAYMODE MSG_TYPE_CHARLCD+18
                            14956 ; 163  |#define CHARLCD_SET_PLAYSTATE MSG_TYPE_CHARLCD+19
                            14957 ; 164  |#define CHARLCD_SET_VOLUME MSG_TYPE_CHARLCD+20
                            14958 ; 165  |#define CHARLCD_CLEAR_DISPLAY MSG_TYPE_CHARLCD+21
                            14959 ; 166  |#define CHARLCD_LAST_MSG_ID MSG_TYPE_CHARLCD+21
                            14960 ; 167  |// If you change the cHARACTER LCD message ID's then you must
                            14961 ; 168  |// also change the jump table in lcdapi.asm
                            14962 ; 169  |
                            14963 ; 170  |// Decoder Message IDs
                            14964 ; 171  |#define DECODER_FIRST_MSG_ID MSG_TYPE_DECODER+0
                            14965 ; 172  |#define DECODER_RESET MSG_TYPE_DECODER+0
                            14966 ; 173  |#define DECODER_SET_DIR MSG_TYPE_DECODER+1
                            14967 ; 174  |#define DECODER_PLAY MSG_TYPE_DECODER+2
                            14968 ; 175  |#define DECODER_STOP MSG_TYPE_DECODER+3
                            14969 ; 176  |#define DECODER_FFWD MSG_TYPE_DECODER+4
                            14970 ; 177  |#define DECODER_RWND MSG_TYPE_DECODER+5
                            14971 ; 178  |#define DECODER_NEXT_SONG MSG_TYPE_DECODER+6
                            14972 ; 179  |#define DECODER_PREV_SONG MSG_TYPE_DECODER+7
                            14973 ; 180  |#define DECODER_TIME_MODE MSG_TYPE_DECODER+8
                            14974 ; 181  |#define DECODER_AB_MODE MSG_TYPE_DECODER+9
                            14975 ; 182  |#define DECODER_SET_EQ MSG_TYPE_DECODER+10
                            14976 ; 183  |#define DECODER_GET_SONG_INFO MSG_TYPE_DECODER+11
                            14977 ; 184  |#define DECODER_NEXT_CHAPTER MSG_TYPE_DECODER+12
                            14978 ; 185  |#define DECODER_PREV_CHAPTER MSG_TYPE_DECODER+13
                            14979 ; 186  |#define DECODER_LAST_MSG_ID MSG_TYPE_DECODER+13
                            14980 ; 187  |// If you change the Decoder message ID's, then you must
                            14981 ; 188  |// also change the jump table in decoder_overlay.asm
                            14982 ; 189  |// and in dec_adpcm_overlay.asm.
                            14983 ; 190  |
                            14984 ; 191  |// Encoder Message IDs
                            14985 ; 192  |#define ENCODER_FIRST_MSG_ID MSG_TYPE_ENCODER+0
                            14986 ; 193  |#define ENCODER_RECORD MSG_TYPE_ENCODER+0
                            14987 ; 194  |#define ENCODER_STOP MSG_TYPE_ENCODER+1
                            14988 ; 195  |#define ENCODER_TIME_MODE MSG_TYPE_ENCODER+2
                            14989 ; 196  |#define ENCODER_LAST_MSG_ID MSG_TYPE_ENCODER+3
                            14990 ; 197  |// If you change the Encoder message ID's, then you must
                            14991 ; 198  |// also change the jump table in all encoder overlay modules.
                            14992 ; 199  |
                            14993 ; 200  |// Parser Message IDs
                            14994 ; 201  |#define PARSER_FIRST_MSG_ID MSG_TYPE_PARSER+0
                            14995 ; 202  |#define PARSER_NEXT_SONG MSG_TYPE_PARSER+0
                            14996 ; 203  |#define PARSER_PREV_SONG MSG_TYPE_PARSER+1
                            14997 ; 204  |#define PARSER_REPEAT MSG_TYPE_PARSER+2
                            14998 ; 205  |#define PARSER_RANDOM MSG_TYPE_PARSER+3
                            14999 ; 206  |#define PARSER_STOP MSG_TYPE_PARSER+4
                            15000 ; 207  |#define PARSER_DEVICE_ENUMERATE MSG_TYPE_PARSER+5
                            15001 ; 208  |#define PARSER_SET_CURRENT_SONG MSG_TYPE_PARSER+6
                            15002 ; 209  |#define PARSER_LAST_MSG_ID MSG_TYPE_PARSER+6
                            15003 ; 210  |// If you change the Parser message ID's, then you must
                            15004 ; 211  |// also change the jump table in parser.asm
                            15005 ; 212  |
                            15006 ; 213  |// Button Message IDs
                            15007 ; 214  |//BUTTON_FIRST_MSG_ID      equ     MSG_TYPE_BUTTON+0
                            15008 ; 215  |//BUTTON_BUTTONS_ON        equ     MSG_TYPE_BUTTON+0
                            15009 ; 216  |//BUTTON_BUTTONS_OFF       equ     MSG_TYPE_BUTTON+1
                            15010 ; 217  |//BUTTON_HOLD              equ     MSG_TYPE_BUTTON+2
                            15011 ; 218  |//BUTTON_HOLD_RELEASE      equ     MSG_TYPE_BUTTON+3
                            15012 ; 219  |//BUTTON_LAST_MSG_ID       equ     MSG_TYPE_BUTTON+3
                            15013 ; 220  |
                            15014 ; 221  |// Mixer Message IDs
                            15015 ; 222  |#define MIXER_FIRST_MSG_ID MSG_TYPE_MIXER+0
                            15016 ; 223  |#define MIXER_MASTER_INCR MSG_TYPE_MIXER+0
                            15017 ; 224  |#define MIXER_MASTER_DECR MSG_TYPE_MIXER+1
                            15018 ; 225  |#define MIXER_MASTER_SETLVL MSG_TYPE_MIXER+2
                            15019 ; 226  |#define MIXER_MASTER_MUTE MSG_TYPE_MIXER+3
                            15020 ; 227  |#define MIXER_MASTER_UNMUTE MSG_TYPE_MIXER+4
                            15021 ; 228  |#define MIXER_MASTER_FADE_OUT MSG_TYPE_MIXER+5
                            15022 ; 229  |#define MIXER_MASTER_FADE_IN MSG_TYPE_MIXER+6
                            15023 ; 230  |#define MIXER_MASTER_BAL_RIGHT MSG_TYPE_MIXER+7
                            15024 ; 231  |#define MIXER_MASTER_BAL_LEFT MSG_TYPE_MIXER+8
                            15025 ; 232  |#define MIXER_MIC_INCR MSG_TYPE_MIXER+9
                            15026 ; 233  |#define MIXER_MIC_DECR MSG_TYPE_MIXER+10
                            15027 ; 234  |#define MIXER_MIC_SETLVL MSG_TYPE_MIXER+11
                            15028 ; 235  |#define MIXER_MIC_MUTE MSG_TYPE_MIXER+12
                            15029 ; 236  |#define MIXER_MIC_UNMUTE MSG_TYPE_MIXER+13
                            15030 ; 237  |#define MIXER_MIC_BOOST MSG_TYPE_MIXER+14
                            15031 ; 238  |#define MIXER_MIC_UNBOOST MSG_TYPE_MIXER+15
                            15032 ; 239  |#define MIXER_LINE_INCR MSG_TYPE_MIXER+16
                            15033 ; 240  |#define MIXER_LINE_DECR MSG_TYPE_MIXER+17
                            15034 ; 241  |#define MIXER_LINE_SETLVL MSG_TYPE_MIXER+18
                            15035 ; 242  |#define MIXER_LINE_MUTE MSG_TYPE_MIXER+19
                            15036 ; 243  |#define MIXER_LINE_UNMUTE MSG_TYPE_MIXER+20
                            15037 ; 244  |#define MIXER_FM_INCR MSG_TYPE_MIXER+21
                            15038 ; 245  |#define MIXER_FM_DECR MSG_TYPE_MIXER+22
                            15039 ; 246  |#define MIXER_FM_SETLVL MSG_TYPE_MIXER+23
                            15040 ; 247  |#define MIXER_FM_MUTE MSG_TYPE_MIXER+24
                            15041 ; 248  |#define MIXER_FM_UNMUTE MSG_TYPE_MIXER+25
                            15042 ; 249  |#define MIXER_DAC_INCR MSG_TYPE_MIXER+26
                            15043 ; 250  |#define MIXER_DAC_DECR MSG_TYPE_MIXER+27
                            15044 ; 251  |#define MIXER_DAC_SETLVL MSG_TYPE_MIXER+28
                            15045 ; 252  |#define MIXER_DAC_MUTE MSG_TYPE_MIXER+29
                            15046 ; 253  |#define MIXER_DAC_UNMUTE MSG_TYPE_MIXER+30
                            15047 ; 254  |#define MIXER_ADC_SELECT MSG_TYPE_MIXER+31
                            15048 ; 255  |#define MIXER_ADC_INCR MSG_TYPE_MIXER+32
                            15049 ; 256  |#define MIXER_ADC_DECR MSG_TYPE_MIXER+33
                            15050 ; 257  |#define MIXER_ADC_SETLVL MSG_TYPE_MIXER+34
                            15051 ; 258  |#define MIXER_ADC_MUTE MSG_TYPE_MIXER+35
                            15052 ; 259  |#define MIXER_ADC_UNMUTE MSG_TYPE_MIXER+36
                            15053 ; 260  |#define MIXER_REC_SELECT MSG_TYPE_MIXER+37
                            15054 ; 261  |#define MIXER_POWER_DOWN MSG_TYPE_MIXER+38
                            15055 ; 262  |#define ENABLE_RIGHT_CH MSG_TYPE_MIXER+39
                            15056 ; 263  |#define DISABLE_RIGHT_CH MSG_TYPE_MIXER+40
                            15057 ; 264  |#define MIXER_LAST_MSG_ID MSG_TYPE_MIXER+40
                            15058 ; 265  |// If you change the mixer message ID's then you must
                            15059 ; 266  |// also change the jump table in mixer.asm
                            15060 ; 267  |#define MIXER_ON 0
                            15061 ; 268  |#define MIXER_OFF 1
                            15062 ; 269  |
                            15063 ; 270  |
                            15064 ; 271  |// System Message IDs
                            15065 ; 272  |#define SYSTEM_FIRST_MSG_ID MSG_TYPE_SYSTEM+0
                            15066 ; 273  |#define SYSTEM_SHUTDOWN MSG_TYPE_SYSTEM+0
                            15067 ; 274  |#define SYSTEM_SHUTDOWN_FALSE MSG_TYPE_SYSTEM+1
                            15068 ; 275  |#define SYSTEM_SHUTDOWN_FINAL MSG_TYPE_SYSTEM+2
                            15069 ; 276  |#define SYSTEM_LAST_MSG_ID MSG_TYPE_SYSTEM+2
                            15070 ; 277  |// If you change the system message ID's then you must
                            15071 ; 278  |// also change the jump table in systemapi.asm
                            15072 ; 279  |
                            15073 ; 280  |// Menu IDs
                            15074 ; 281  |#define MENU_FIRST_MSG_ID MSG_TYPE_MENU+0
                            15075 ; 282  |#define MENU_BUTTON_EVENT MSG_TYPE_MENU+0
                            15076 ; 283  |#define MENU_DECODER_STATE_CHNG MSG_TYPE_MENU+1
                            15077 ; 284  |#define MENU_RECORDER_STATE_CHNG MSG_TYPE_MENU+2
                            15078 ; 285  |//sub parameters for this message:
                            15079 ; 286  |#define RECORDER_START 0
                            15080 ; 287  |#define RECORDER_PAUSE 0x2000
                            15081 ; 288  |#define RECORDER_RESUME 0x4000
                            15082 ; 289  |#define RECORDER_STOP_NORMAL 0x8000
                            15083 ; 290  |#define RECORDER_STOP_FILE_ERROR 0x8001
                            15084 ; 291  |#define RECORDER_STOP_OUT_OF_SPACE 0x8002
                            15085 ; 292  |#define RECORDER_STOP_LOW_BATTERY 0x8003
                            15086 ; 293  |#define MENU_SONG_TIME_CHNG MSG_TYPE_MENU+3
                            15087 ; 294  |#define MENU_AB_MODE_OFF MSG_TYPE_MENU+4
                            15088 ; 295  |#define MENU_BATTERY_CHNG MSG_TYPE_MENU+5
                            15089 ; 296  |#define MENU_SCROLL_TITLE MSG_TYPE_MENU+6
                            15090 ; 297  |#define MENU_AUTO_SHUTDOWN MSG_TYPE_MENU+7
                            15091 ; 298  |#define MENU_MSG_MEDIA_CHANGED MSG_TYPE_MENU+8
                            15092 ; 299  |#define MENU_MSG_MEDIA_OVER_CUR MSG_TYPE_MENU+9
                            15093 ; 300  |#define MENU_TUNER_TUNED MSG_TYPE_MENU+10
                            15094 ; 301  |#define MENU_MSG_ENC_LOW_SPACE MSG_TYPE_MENU+11
                            15095 ; 302  |#define MENU_MSG_EQ_SETTINGS MSG_TYPE_MENU+12
                            15096 ; 303  |#define MENU_RECORDER_WRITE_DATA MSG_TYPE_MENU+13
                            15097 ; 304  |#define MENU_SONG_TRACK_CHNG MSG_TYPE_MENU+14
                            15098 ; 305  |#define MENU_SET_SONG_POSITION MSG_TYPE_MENU+15
                            15099 ; 306  |#define MENU_UPDATE_CHAPTER_INFO MSG_TYPE_MENU+16
                            15100 ; 307  |#define MENU_USB_CONNECTED MSG_TYPE_MENU+17
                            15101 ; 308  |#define MENU_MSG_LYRICS_SYNC_AB MSG_TYPE_MENU+18
                            15102 ; 309  |#define MENU_MSG_LYRICS_UPDATE MSG_TYPE_MENU+19
                            15103 ; 310  |#define MENU_TUNER_REFRESH_DISPLAY MSG_TYPE_MENU+20
                            15104 ; 311  |#define MENU_TUNER_DIRTY_FLASH MSG_TYPE_MENU+21
                            15105 ; 312  |#define MENU_LAST_MSG_ID MSG_TYPE_MENU+21
                            15106 ; 313  |
                            15107 ; 314  |// Note that other versions of this file have different msg equates.
                            15108 ; 315  |// If you change the system message ID's then you must
                            15109 ; 316  |// also change the jump table in all menu *.asm
                            15110 ; 317  |
                            15111 ; 318  |// LED Message IDs
                            15112 ; 319  |#define LED_FIRST_MSG_ID MSG_TYPE_LED+0
                            15113 ; 320  |#define LED_CONTROL MSG_TYPE_LED+0
                            15114 ; 321  |#define LED_RESET MSG_TYPE_LED+1
                            15115 ; 322  |#define LED_DLY_ON_CONTROL MSG_TYPE_LED+2
                            15116 ; 323  |#define LED_LAST_MSG_ID MSG_TYPE_LED+2
                            15117 ; 324  |// If you change the LeD message ID's then you must
                            15118 ; 325  |// also change the jump table in ledapi.asm
                            15119 ; 326  |
                            15120 ; 327  |#if (!defined(REMOVE_FM))
                            15121 ; 328  |// FM Tuner Message IDs
                            15122 ; 329  |#define TUNER_FIRST_MSG_ID MSG_TYPE_TUNER+0
                            15123 ; 330  |#define TUNER_TUNE_FREQUENCY MSG_TYPE_TUNER+0
                            15124 ; 331  |#define TUNER_TUNE_MANUAL_UP MSG_TYPE_TUNER+1
                            15125 ; 332  |#define TUNER_TUNE_MANUAL_DOWN MSG_TYPE_TUNER+2
                            15126 ; 333  |#define TUNER_TUNE_SEARCH_UP MSG_TYPE_TUNER+3
                            15127 ; 334  |#define TUNER_TUNE_SEARCH_DOWN MSG_TYPE_TUNER+4
                            15128 ; 335  |#define TUNER_FORCED_MONO MSG_TYPE_TUNER+5
                            15129 ; 336  |#define TUNER_RESET MSG_TYPE_TUNER+6
                            15130 ; 337  |#define TUNER_POWER_ON MSG_TYPE_TUNER+7
                            15131 ; 338  |#define TUNER_POWER_OFF MSG_TYPE_TUNER+8
                            15132 ; 339  |#define TUNER_SET_SENSITIVITY MSG_TYPE_TUNER+9
                            15133 ; 340  |//one parameter--the sensitivity in uV
                            15134 ; 341  |#define TUNER_GET_STATES MSG_TYPE_TUNER+10
                            15135 ; 342  |#define TUNER_MUTE_OUTPUTS MSG_TYPE_TUNER+11
                            15136 ; 343  |#define TUNER_PRESET_STATION MSG_TYPE_TUNER+12
                            15137 ; 344  |#define TUNER_TUNE_TO_PRESET MSG_TYPE_TUNER+13
                            15138 ; 345  |#define TUNER_SET_PRESET MSG_TYPE_TUNER+14
                            15139 ; 346  |#define TUNER_ERASE_PRESET MSG_TYPE_TUNER+15
                            15140 ; 347  |#define TUNER_LAST_MSG_ID MSG_TYPE_TUNER+15
                            15141 ; 348  |#endif
                            15142 ; 349  |
                            15143 ; 350  |#define SOFT_TIMER_FIRST_MSG_ID MSG_TYPE_SOFT_TIMER+0
                            15144 ; 351  |#define SOFT_TIMER_SET_TIMER MSG_TYPE_SOFT_TIMER+1
                            15145 ; 352  |#define SOFT_TIMER_KILL_TIMER MSG_TYPE_SOFT_TIMER+2
                            15146 ; 353  |#define SOFT_TIMER_LAST_MSG_ID MSG_TYPE_SOFT_TIMER+2
                            15147 ; 354  |
                            15148 ; 355  |
                            15149 ; 356  |#define GEQ_FIRST_MSG_ID MSG_TYPE_GEQ+0
                            15150 ; 357  |#define GEQ_SET_EQ MSG_TYPE_GEQ+0
                            15151 ; 358  |#define GEQ_SET_EQ_LEGACY MSG_TYPE_GEQ+1
                            15152 ; 359  |#define GEQ_SET_ALL_BAND_GAINS MSG_TYPE_GEQ+2
                            15153 ; 360  |#define GEQ_SET_GAIN MSG_TYPE_GEQ+3
                            15154 ; 361  |#define GEQ_SET_COEFFICIENTS MSG_TYPE_GEQ+4
                            15155 ; 362  |#define GEQ_SET_PARAM MSG_TYPE_GEQ+5
                            15156 ; 363  |#define GEQ_GET_SETTINGS MSG_TYPE_GEQ+6
                            15157 ; 364  |#define GEQ_LAST_MSG_ID MSG_TYPE_GEQ+6
                            15158 ; 365  |
                            15159 ; 366  |#if (defined(USE_PLAYLIST3))
                            15160 ; 367  |// Music Library
                            15161 ; 368  |#define MUSICLIB_PLAY_FIRST_MSG_ID MSG_TYPE_MUSICLIB_PLAY+0
                            15162 ; 369  |#define MUSICLIB_START_PLAY_SONG MSG_TYPE_MUSICLIB_PLAY+0
                            15163 ; 370  |#define MUSICLIB_START_PLAY_ALL_SONG MSG_TYPE_MUSICLIB_PLAY+1
                            15164 ; 371  |#define MUSICLIB_PLAY_SETSHUFFLE MSG_TYPE_MUSICLIB_PLAY+2
                            15165 ; 372  |#define MUSICLIB_PLAY_RESUME MSG_TYPE_MUSICLIB_PLAY+3
                            15166 ; 373  |#define MUSICLIB_PLAY_CURRENT_SIZE MSG_TYPE_MUSICLIB_PLAY+4
                            15167 ; 374  |#define MUSICLIB_PLAY_LAST_MSG_ID MSG_TYPE_MUSICLIB_PLAY+4
                            15168 ; 375  |
                            15169 ; 376  |#define MUSICLIB_BROWSE_FIRST_MSG_ID MSG_TYPE_MUSICLIB_BROWSE+0
                            15170 ; 377  |#define MUSICLIB_BROWSE_SETROOT MSG_TYPE_MUSICLIB_BROWSE+0
                            15171 ; 378  |#define MUSICLIB_BROWSE_BROWSEMENU MSG_TYPE_MUSICLIB_BROWSE+1
                            15172 ; 379  |#define MUSICLIB_BROWSE_DOWNLIST MSG_TYPE_MUSICLIB_BROWSE+2
                            15173 ; 380  |#define MUSICLIB_BROWSE_UPLIST MSG_TYPE_MUSICLIB_BROWSE+3
                            15174 ; 381  |#define MUSICLIB_BROWSE_UPMENU MSG_TYPE_MUSICLIB_BROWSE+4
                            15175 ; 382  |#define MUSICLIB_BROWSE_SONGNUMBER MSG_TYPE_MUSICLIB_BROWSE+5
                            15176 ; 383  |#define MUSICLIB_BROWSE_ON_THE_FLY_GET_STATUS MSG_TYPE_MUSICLIB_BROWSE+6
                            15177 ; 384  |#define MUSICLIB_BROWSE_ON_THE_FLY_ADD_ITEM MSG_TYPE_MUSICLIB_BROWSE+7
                            15178 ; 385  |#define MUSICLIB_BROWSE_ON_THE_FLY_DELETE_ITEM MSG_TYPE_MUSICLIB_BROWSE+8
                            15179 ; 386  |#define MUSICLIB_BROWSE_ON_THE_FLY_DELETE_ALL MSG_TYPE_MUSICLIB_BROWSE+9
                            15180 ; 387  |#define MUSICLIB_BROWSE_LAST_MSG_ID MSG_TYPE_MUSICLIB_BROWSE+9
                            15181 ; 388  |
                            15182 ; 389  |#define MUSICLIB_PLAYALLNEXT_FIRST_MSG_ID MSG_TYPE_MUSICLIB_PLAYALLNEXT+0
                            15183 ; 390  |#define MUSICLIB_PLAYNEXTSONG MSG_TYPE_MUSICLIB_PLAYALLNEXT+0
                            15184 ; 391  |#define MUSICLIB_PLAYALLNEXT_LAST_MSG_ID MSG_TYPE_MUSICLIB_PLAYALLNEXT+0
                            15185 ; 392  |
                            15186 ; 393  |#define MUSICLIB_PLAYALLPREV_FIRST_MSG_ID MSG_TYPE_MUSICLIB_PLAYALLPREV+0
                            15187 ; 394  |#define MUSICLIB_PLAYPREVIOUSSONG MSG_TYPE_MUSICLIB_PLAYALLPREV+0
                            15188 ; 395  |#define MUSICLIB_PLAYALLPREV_LAST_MSG_ID MSG_TYPE_MUSICLIB_PLAYALLPREV+0
                            15189 ; 396  |
                            15190 ; 397  |#define MUSICLIB_SHUFFLE_FIRST_MSG_ID MSG_TYPE_MUSICLIB_SHUFFLE+0
                            15191 ; 398  |#define MUSICLIB_SHUFFLE_NEXT MSG_TYPE_MUSICLIB_SHUFFLE+0
                            15192 ; 399  |#define MUSICLIB_SHUFFLE_LAST_MSG_ID MSG_TYPE_MUSICLIB_SHUFFLE+0
                            15193 ; 400  |
                            15194 ; 401  |#define MUSICLIB_VOICE_FIRST_MSG_ID MSG_TYPE_MUSICLIB_VOICE+0
                            15195 ; 402  |#define MUSICLIB_VOICE_BROWSEMENU MSG_TYPE_MUSICLIB_VOICE+0
                            15196 ; 403  |#define MUSICLIB_VOICE_DOWNLIST MSG_TYPE_MUSICLIB_VOICE+1
                            15197 ; 404  |#define MUSICLIB_VOICE_UPLIST MSG_TYPE_MUSICLIB_VOICE+2
                            15198 ; 405  |#define MUSICLIB_VOICE_UPMENU MSG_TYPE_MUSICLIB_VOICE+3
                            15199 ; 406  |#define MUSICLIB_VOICE_VOICENUMBER MSG_TYPE_MUSICLIB_VOICE+4
                            15200 ; 407  |#define MUSICLIB_VOICE_LAST_MSG_ID MSG_TYPE_MUSICLIB_VOICE+4
                            15201 ; 408  |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page  61

M:ADDR CODE           CYCLES LINE SOURCELINE
                            15202 ; 409  |#define MUSICLIB_VOICEPLAY_FIRST_MSG_ID MSG_TYPE_MUSICLIB_VOICEPLAY+0
                            15203 ; 410  |#define MUSICLIB_START_PLAY_VOICE MSG_TYPE_MUSICLIB_VOICEPLAY+0
                            15204 ; 411  |#define MUSICLIB_VOICEPLAY_LAST_MSG_ID MSG_TYPE_MUSICLIB_VOICEPLAY+0
                            15205 ; 412  |
                            15206 ; 413  |#define MUSICLIB_MERGE_FIRST_MSG_ID MSG_TYPE_MUSICLIB_MERGE+0
                            15207 ; 414  |#define MUSICLIB_MERGE_SONG MSG_TYPE_MUSICLIB_MERGE+0
                            15208 ; 415  |#define MUSICLIB_MERGE_ALL_SONG MSG_TYPE_MUSICLIB_MERGE+1
                            15209 ; 416  |#define MUSICLIB_MERGE_RESUME MSG_TYPE_MUSICLIB_MERGE+2
                            15210 ; 417  |#define MUSICLIB_MERGE_LAST_MSG_ID MSG_TYPE_MUSICLIB_MERGE+2
                            15211 ; 418  |#endif // IF (@def(USE_PLAYLIST3))
                            15212 ; 419  |
                            15213 ; 420  |#if defined(USE_PLAYLIST5)
                            15214 ; 421  |#define PL5_PL_FIRST_MSG_ID MSG_TYPE_PL5_PLAYBACK+0
                            15215 ; 422  |#define PL5_PL_MSG_RESET MSG_TYPE_PL5_PLAYBACK+0
                            15216 ; 423  |#define PL5_PL_MSG_CDSEARCHING MSG_TYPE_PL5_PLAYBACK+1
                            15217 ; 424  |#define PL5_PL_MSG_START MSG_TYPE_PL5_PLAYBACK+2
                            15218 ; 425  |#define PL5_PL_MSG_STOP MSG_TYPE_PL5_PLAYBACK+3
                            15219 ; 426  |#define PL5_PL_MSG_PAUSE MSG_TYPE_PL5_PLAYBACK+4
                            15220 ; 427  |#define PL5_PL_MSG_RESUME MSG_TYPE_PL5_PLAYBACK+5
                            15221 ; 428  |#define PL5_PL_MSG_DELETE MSG_TYPE_PL5_PLAYBACK+6
                            15222 ; 429  |#define PL5_PL_MSG_PLAY MSG_TYPE_PL5_PLAYBACK+7
                            15223 ; 430  |#define PL5_PL_MSG_DISCNT MSG_TYPE_PL5_PLAYBACK+8
                            15224 ; 431  |#define PL5_PL_MSG_ENACNT MSG_TYPE_PL5_PLAYBACK+9
                            15225 ; 432  |#define PL5_PL_LAST_MSG_ID MSG_TYPE_PL5_PLAYBACK+9
                            15226 ; 433  |
                            15227 ; 434  |#define PL5_BR_FIRST_MSG_ID MSG_TYPE_PL5_BROWSE+0
                            15228 ; 435  |#define PL5_BR_MSG_RESET MSG_TYPE_PL5_BROWSE+0
                            15229 ; 436  |#define PL5_BR_MSG_CDBROWSING MSG_TYPE_PL5_BROWSE+1
                            15230 ; 437  |#define PL5_BR_MSG_START MSG_TYPE_PL5_BROWSE+2
                            15231 ; 438  |#define PL5_BR_MSG_STOP MSG_TYPE_PL5_BROWSE+3
                            15232 ; 439  |#define PL5_BR_MSG_PAUSE MSG_TYPE_PL5_BROWSE+4
                            15233 ; 440  |#define PL5_BR_MSG_RESUME MSG_TYPE_PL5_BROWSE+5
                            15234 ; 441  |#define PL5_BR_MSG_DELETE MSG_TYPE_PL5_BROWSE+6
                            15235 ; 442  |#define PL5_BR_LAST_MSG_ID MSG_TYPE_PL5_BROWSE+6
                            15236 ; 443  |#endif // if @def('USE_PLAYLIST5')
                            15237 ; 444  |// Events
                            15238 ; 445  |// No event
                            15239 ; 446  |#define EVENT_NONE 0x000001   
                            15240 ; 447  |// A message has been posted
                            15241 ; 448  |#define EVENT_MESSAGE 0x000002   
                            15242 ; 449  |// Run if wait time elapsed
                            15243 ; 450  |#define EVENT_TIMER 0x000004   
                            15244 ; 451  |// Run if a button event occured
                            15245 ; 452  |#define EVENT_BUTTON 0x000008   
                            15246 ; 453  |// Run if a background event occured
                            15247 ; 454  |#define EVENT_BACKGROUND 0x000010   
                            15248 ; 455  |// The executive should immediately repeat this module
                            15249 ; 456  |#define EVENT_REPEAT 0x000020   
                            15250 ; 457  |// Run the module's init routine
                            15251 ; 458  |#define EVENT_INIT 0x800000   
                            15252 ; 459  |
                            15253 ; 460  |#define EVENT_NONE_BITPOS 0
                            15254 ; 461  |#define EVENT_MESSAGE_BITPOS 1
                            15255 ; 462  |#define EVENT_TIMER_BITPOS 2
                            15256 ; 463  |#define EVENT_BUTTON_BITPOS 3
                            15257 ; 464  |#define EVENT_BACKGROUND_BITPOS 4
                            15258 ; 465  |#define EVENT_REPEAT_BITPOS 5
                            15259 ; 466  |#define EVENT_INIT_BITPOS 23
                            15260 ; 467  |
                            15261 ; 468  |// Parser Message Buffers
                            15262 ; 469  |#define ParserPlayBit 0
                            15263 ; 470  |#define ButtonPressBit 1
                            15264 ; 471  |#define ParserRwndBit 1
                            15265 ; 472  |#define ParserFfwdBit 2
                            15266 ; 473  |
                            15267 ; 474  |//NextSong Message Parameters
                            15268 ; 475  |// ButtonPressBit1 set to denote button was pressed.
                            15269 ; 476  |#define NEXT_SONG 2             
                            15270 ; 477  |// ButtonPressBit1 cleared
                            15271 ; 478  |#define NEXT_SONG_PLAY_EOF 1          
                            15272 ; 479  |// ButtonPressBit1 set
                            15273 ; 480  |#define NEXT_SONG_PLAY_BUTTON 3          
                            15274 ; 481  |// NextSong + Ffwd
                            15275 ; 482  |#define NEXT_SONG_FFWD 4          
                            15276 ; 483  |
                            15277 ; 484  |//PrevSong Message Parameters
                            15278 ; 485  |// PrevSong + Stopped
                            15279 ; 486  |#define PREV_SONG 0          
                            15280 ; 487  |// PrevSong + Play
                            15281 ; 488  |#define PREV_SONG_PLAY 1          
                            15282 ; 489  |// PrevSong + Rwnd
                            15283 ; 490  |#define PREV_SONG_RWND 2          
                            15284 ; 491  |
                            15285 ; 492  |
                            15286 ; 493  |
                            15287 ; 494  |
                            15288 ; 495  |#endif // IF (!@def(MSGEQU_INC))
                            15289 ; 496  |
                            15290 ; 497  |
                            15291 
                            15293 
                            15294 ; 100  |#include "project.h"
                            15295 
                            15297 
                            15298 ; 1    |/////////////////////////////////////////////////////////////////////////////////
                            15299 ; 2    |//  Copyright(C) SigmaTel, Inc. 2000-2004
                            15300 ; 3    |//  Filename: project.inc
                            15301 ; 4    |//  Description: 
                            15302 ; 5    |/////////////////////////////////////////////////////////////////////////////////
                            15303 ; 6    |
                            15304 ; 7    |#if (!defined(_PROJECT_INC))
                            15305 ; 8    |#define _PROJECT_INC 1
                            15306 ; 9    |
                            15307 ; 10   |#if defined(STMP_BUILD_PLAYER)
                            15308 ; 11   |#include "hwequ.h"
                            15309 ; 12   |#else 
                            15310 ; 13   |//include "regscodec.inc"
                            15311 ; 14   |#endif
                            15312 ; 15   |
                            15313 ; 16   |//////////////////////////////////////////////////////////////////////////////////
                            15314 ; 17   |// Uncomment next define to allow player boot if you have stfm1000 macro enabled (defaults ON) & 
                            15315 ; 18   |// your board crystal is not able to output nominal voltage range. Used in player main.asm. STMP00012148
                            15316 ; 19   |// Defining this will result in lower battery life (price of using a lower quality crystal). 
                            15317 ; 20   |// Those that want to save battery life and have good crystals that meet our HW team's specs can 
                            15318 ; 21   |// comment out this line to reduce crystal bias current and so battery current in player mode.  
                            15319 ; 22   |#define SUPPORT_MARGINAL_XTALS 1
                            15320 ; 23   |
                            15321 ; 24   |/////////////////////////////////////////////////////////////////////////////////
                            15322 ; 25   |// BOOT SPEED CONFIG & ASSOCIATED BATTERY VOLTAGE CHECK ENABLE
                            15323 ; 26   |/////////////////////////////////////////////////////////////////////////////////
                            15324 ; 27   |// Users can enable one of ATTEMPT_FAST_BOOT or FASTEST boot or neither project define below by defining
                            15325 ; 28   |// values as 0 or 1, else it defaults to the boot speed used in previous SDKs.
                            15326 ; 29   |#define ATTEMPT_FAST_BOOT 1
                            15327 ; 30   |#define ATTEMPT_FASTEST_BOOT 0   
                            15328 ; 31   |// Changing this define to 0 removes Vbat threshholding & unconditionally gives fast boot config above- 
                            15329 ; 32   |// disabling this check is suggested for profiling if you want to try to tweak down threshholds by maybe 50mV.
                            15330 ; 33   |// Also the tests should clear the fast boot config defines to link & boot at normal speed.
                            15331 ; 34   |#define SPEED_BOOT_BATTERY_CHECK 1
                            15332 ; 35   |
                            15333 ; 36   |/////////////////////////////////////////////////////////////////////////////////
                            15334 ; 37   |// MEDIA DEFINITIONS
                            15335 ; 38   |/////////////////////////////////////////////////////////////////////////////////
                            15336 ; 39   |
                            15337 ; 40   |/////////////////////////////////////////////////////////////////////////////////
                            15338 ; 41   |// MNAND - Number of chips forming the internal physical device (i.e. # of NANDs)
                            15339 ; 42   |#if defined(NAND1)
                            15340 ; 43   |#define SM_INTERNAL_CHIPS 1
                            15341 ; 44   |#else 
                            15342 ; 45   |#if defined(NAND2)
                            15343 ; 46   |#define SM_INTERNAL_CHIPS 2
                            15344 ; 47   |#else 
                            15345 ; 48   |#if defined(NAND3)
                            15346 ; 49   |#define SM_INTERNAL_CHIPS 3
                            15347 ; 50   |#else 
                            15348 ; 51   |#if defined(NAND4)
                            15349 ; 52   |#define SM_INTERNAL_CHIPS 4
                            15350 ; 53   |#else 
                            15351 ; 54   |#define SM_INTERNAL_CHIPS 1
                            15352 ; 55   |#endif
                            15353 ; 56   |#endif
                            15354 ; 57   |#endif
                            15355 ; 58   |#endif
                            15356 ; 59   |
                            15357 ; 60   |/////////////////////////////////////////////////////////////////////////////////
                            15358 ; 61   |// If SMARTMEDIA_DETECT_ACTIVE_HIGH is defined:
                            15359 ; 62   |//   SmartMedia will be detected as inserted if the GPIO pin reads 1 and removed if it reads 0.  
                            15360 ; 63   |// If SMARTMEDIA_DETECT_ACTIVE_HIGH is not defined ** comment out next line **
                            15361 ; 64   |//   SmartMedia will be detected as inserted if the GPIO pin reads 0 and removed if it reads 1.
                            15362 ; 65   |//*** comment out if active high ****
                            15363 ; 66   |//SMARTMEDIA_DETECT_ACTIVE_HIGH  equ     1
                            15364 ; 67   |
                            15365 ; 68   |#if defined(SMEDIA)
                            15366 ; 69   |#define NUM_REMOVABLE_MEDIA 1
                            15367 ; 70   |#define NUM_SM_EXTERNAL 1
                            15368 ; 71   |#define MMC_MAX_PHYSICAL_DEVICES 0
                            15369 ; 72   |#define SM_MAX_LOGICAL_DEVICES 2
                            15370 ; 73   |#else 
                            15371 ; 74   |#if defined(MMC)
                            15372 ; 75   |#define NUM_REMOVABLE_MEDIA 1
                            15373 ; 76   |#define NUM_SM_EXTERNAL 0
                            15374 ; 77   |#define MMC_MAX_PHYSICAL_DEVICES 1
                            15375 ; 78   |#define SM_MAX_LOGICAL_DEVICES 1
                            15376 ; 79   |#else 
                            15377 ; 80   |#define NUM_REMOVABLE_MEDIA 0
                            15378 ; 81   |#define NUM_SM_EXTERNAL 0
                            15379 ; 82   |#define MMC_MAX_PHYSICAL_DEVICES 0
                            15380 ; 83   |#define SM_MAX_LOGICAL_DEVICES 1
                            15381 ; 84   |#endif
                            15382 ; 85   |#endif
                            15383 ; 86   |
                            15384 ; 87   |/////////////////////////////////////////////////////////////////////////////////
                            15385 ; 88   |// Mass Storage Class definitions
                            15386 ; 89   |/////////////////////////////////////////////////////////////////////////////////
                            15387 ; 90   |// Set to 0 if Composite Device build is desired.    
                            15388 ; 91   |#define MULTI_LUN_BUILD 1   
                            15389 ; 92   |
                            15390 ; 93   |////////////////////////////////////////////////////////////////////////////////
                            15391 ; 94   |//  SCSI
                            15392 ; 95   |#if (MULTI_LUN_BUILD==0)
                            15393 ; 96   |  #if (NUM_REMOVABLE_MEDIA == 1)
                            15394 ; 97   |    #define SCSI_NUM_TARGETS                        2
                            15395 ; 98   |    #define SCSI_DEVICE_NUM_LUNS_DEV_0              1
                            15396 ; 99   |    #define SCSI_DEVICE_NUM_LUNS_DEV_1              1
                            15397 ; 100  |  #else
                            15398 ; 101  |    #define SCSI_NUM_TARGETS                        1
                            15399 ; 102  |    #define SCSI_DEVICE_NUM_LUNS_DEV_0              1
                            15400 ; 103  |  #endif
                            15401 ; 104  |#else
                            15402 ; 105  |    #define SCSI_NUM_TARGETS                        1
                            15403 ; 106  |  #if (NUM_REMOVABLE_MEDIA == 1)
                            15404 ; 107  |    #define SCSI_DEVICE_NUM_LUNS_DEV_0              2
                            15405 ; 108  |  #else
                            15406 ; 109  |    #define SCSI_DEVICE_NUM_LUNS_DEV_0              1  
                            15407 ; 110  |  #endif
                            15408 ; 111  |#endif
                            15409 ; 112  |
                            15410 ; 113  |
                            15411 ; 114  |#define USBMSC_NUM_DEVICES                      SCSI_NUM_TARGETS
                            15412 ; 115  |
                            15413 ; 116  |
                            15414 ; 117  |////////////////////////////////////////////////////////////////////////////////
                            15415 ; 118  |// Define number of logical medias and drives for three builds (MTP, USBMSC, and Player)
                            15416 ; 119  |////////////////////////////////////////////////////////////////////////////////
                            15417 ; 120  |#ifdef MMC
                            15418 ; 121  |#ifdef MTP_BUILD
                            15419 ; 122  |// --------------------
                            15420 ; 123  |// MTP and MMC
                            15421 ; 124  |// --------------------
                            15422 ; 125  |#define NUM_LOGICAL_MEDIA       2
                            15423 ; 126  |#define NUM_LOGICAL_DRIVES      8
                            15424 ; 127  |#else  // ifndef MTP_BUILD
                            15425 ; 128  |#ifdef STMP_BUILD_PLAYER
                            15426 ; 129  |// --------------------
                            15427 ; 130  |// Player and MMC
                            15428 ; 131  |// --------------------
                            15429 ; 132  |#else
                            15430 ; 133  |// --------------------
                            15431 ; 134  |// USBMSC and MMC
                            15432 ; 135  |// --------------------
                            15433 ; 136  |#define NUM_LOGICAL_MEDIA       3
                            15434 ; 137  |#define NUM_LOGICAL_DRIVES      8
                            15435 ; 138  |#endif // ifdef STMP_BUILD_PLAYER
                            15436 ; 139  |#endif // ifdef MTP_BUILD
                            15437 ; 140  |#else  // ifndef MMC
                            15438 ; 141  |#ifdef MTP_BUILD
                            15439 ; 142  |// --------------------
                            15440 ; 143  |// MTP and NAND only
                            15441 ; 144  |// --------------------
                            15442 ; 145  |#define NUM_LOGICAL_MEDIA       1
                            15443 ; 146  |#define NUM_LOGICAL_DRIVES      7
                            15444 ; 147  |#else  // ifndef MTP_BUILD
                            15445 ; 148  |#ifdef STMP_BUILD_PLAYER
                            15446 ; 149  |// --------------------
                            15447 ; 150  |// Player and NAND only
                            15448 ; 151  |// --------------------
                            15449 ; 152  |#else
                            15450 ; 153  |// --------------------
                            15451 ; 154  |// USBMSC and NAND only
                            15452 ; 155  |// --------------------
                            15453 ; 156  |#define NUM_LOGICAL_MEDIA       2
                            15454 ; 157  |#define NUM_LOGICAL_DRIVES      7
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page  62

M:ADDR CODE           CYCLES LINE SOURCELINE
                            15455 ; 158  |#endif // ifdef STMP_BUILD_PLAYER
                            15456 ; 159  |#endif // ifdef MTP_BUILD
                            15457 ; 160  |#endif // ifdef MMC 
                            15458 ; 161  |
                            15459 ; 162  |// If we are in an MTP build then we don't use as many transfers buffers.
                            15460 ; 163  |#if (defined(MTP_BUILD))
                            15461 ; 164  |#define MAX_USB_TRANSFERS_QUEUED 16
                            15462 ; 165  |
                            15463 ; 166  |////!
                            15464 ; 167  |////! This varible holds the watchdog count for the store flush.
                            15465 ; 168  |////!
                            15466 ; 169  |///
                            15467 ; 170  |#include <types.h>
                            15468 ; 171  |extern volatile INT g_StoreWatchDogCount;
                            15469 ; 172  |extern const INT g_StoreWatchDogTimeout;
                            15470 ; 173  |#endif
                            15471 ; 174  |
                            15472 ; 175  |////////////////////////////////////////////////////////////////////////////////
                            15473 ; 176  |// These are needed here for Mass Storage Class
                            15474 ; 177  |// Needs to be cleaned up
                            15475 ; 178  |////////////////////////////////////////////////////////////////////////////////
                            15476 ; 179  |#if (!defined(STMP_BUILD_PLAYER))
                            15477 ; 180  |#define SCRATCH_USER_Y_SIZE 512
                            15478 ; 181  |#define SCRATCH_USER_X_SIZE 512
                            15479 ; 182  |
                            15480 ; 183  |#define BROWNOUT_LEVEL1_DETECTED                0x000001
                            15481 ; 184  |
                            15482 ; 185  |#endif
                            15483 ; 186  |
                            15484 ; 187  |
                            15485 ; 188  |/////////////////////////////////////////////////////////////////////////////////
                            15486 ; 189  |// SmartMedia/NAND defs
                            15487 ; 190  |#define SM_MAX_PHYSICAL_DEVICES SM_INTERNAL_CHIPS+NUM_SM_EXTERNAL
                            15488 ; 191  |#define SM_REMOVABLE_DEVICE_NUM SM_INTERNAL_CHIPS
                            15489 ; 192  |
                            15490 ; 193  |/////////////////////////////////////////////////////////////////////////////////
                            15491 ; 194  |// Sysloadresources defs
                            15492 ; 195  |#define SM_MAX_RESOURCE_DEVICES SM_INTERNAL_CHIPS+NUM_SM_EXTERNAL
                            15493 ; 196  |
                            15494 ; 197  |/////////////////////////////////////////////////////////////////////////////////
                            15495 ; 198  |// MMC defs
                            15496 ; 199  |#define MMC_MAX_PARTITIONS 1
                            15497 ; 200  |#define MMC_MAX_LOGICAL_DEVICES MMC_MAX_PHYSICAL_DEVICES*MMC_MAX_PARTITIONS
                            15498 ; 201  |
                            15499 ; 202  |/////////////////////////////////////////////////////////////////////////////////
                            15500 ; 203  |// SPI defs
                            15501 ; 204  |#define SPI_MAX_DEVICES MMC_MAX_PHYSICAL_DEVICES
                            15502 ; 205  |
                            15503 ; 206  |/////////////////////////////////////////////////////////////////////////////////
                            15504 ; 207  |// Global media defs
                            15505 ; 208  |#define MAX_PHYSICAL_DEVICES SM_MAX_PHYSICAL_DEVICES+MMC_MAX_PHYSICAL_DEVICES
                            15506 ; 209  |#define MAX_LOGICAL_DEVICES SM_MAX_LOGICAL_DEVICES+MMC_MAX_LOGICAL_DEVICES
                            15507 ; 210  |
                            15508 ; 211  |/////////////////////////////////////////////////////////////////////////////////
                            15509 ; 212  |// DO NOT CHANGE THESE!!!
                            15510 ; 213  |#define SM_MAX_PARTITIONS 4
                            15511 ; 214  |#define MAX_HANDLES 2
                            15512 ; 215  |/////////////////////////////////////////////////////////////////////////////////
                            15513 ; 216  |
                            15514 ; 217  |
                            15515 ; 218  |/////////////////////////////////////////////////////////////////////////////////
                            15516 ; 219  |// Battery LRADC Values 
                            15517 ; 220  |/////////////////////////////////////////////////////////////////////////////////
                            15518 ; 221  |// brownout trip point in mV (moved by RS)
                            15519 ; 222  |// BATT_SAFETY_MARGIN:  percentage value used by:
                            15520 ; 223  |//   * SysSaveSettings to determine if enough power is left to attempt a settings save. 
                            15521 ; 224  |//   * Recorder to conditionally prevent the start or continuation of 
                            15522 ; 225  |//     audio recording to media.
                            15523 ; 226  |#define BATT_SAFETY_MARGIN 10
                            15524 ; 227  |
                            15525 ; 228  |//; player resource drive refresh allowed only when battery usable % is above this value. 
                            15526 ; 229  |//; 50% of usable range [0.9V to 1.5V] is around 1.2V This is the safe target alkaline voltage to do a refresh.
                            15527 ; 230  |//; LIION will also require 50% which will work but that could be changed in the future. 
                            15528 ; 231  |//RESOURCE_REFRESH_MIN_BATT_PCT equ 50
                            15529 ; 232  |
                            15530 ; 233  |// stmp00005071 adds these for mp3 encode stability at low battery per battery type & mmc presence.
                            15531 ; 234  |
                            15532 ; 235  |//// Vbat threshholds empirically tuned by profiling max bat current for 3 HW cases: 
                            15533 ; 236  |//// 1 GigaByte MMC, NAND flash only, & LiIon Buck mode. See voicemenu pre-encode Vbat check.
                            15534 ; 237  |#if (!defined(CLCD))
                            15535 ; 238  |#define MP3_ENC_MMC_MIN_V_BAT_MV 1100
                            15536 ; 239  |#define MP3_ENC_NANDONLY_MIN_V_BAT_MV 1000
                            15537 ; 240  |#else 
                            15538 ; 241  |#define MP3_ENC_MMC_MIN_V_BAT_MV 1250
                            15539 ; 242  |#define MP3_ENC_NANDONLY_MIN_V_BAT_MV 1150
                            15540 ; 243  |#endif
                            15541 ; 244  |#define MP3_ENC_BUCKMODE_MIN_V_BAT_MV 3300
                            15542 ; 245  |
                            15543 ; 246  |// These Vbat use-range-percentages are derived to correspond with target battery 
                            15544 ; 247  |// voltages of 1.10V for MMC, 1.0V for nand only (alkaline or nimh), and 3.3V for any LiIon.
                            15545 ; 248  |// See mp3 encoder overlay.
                            15546 ; 249  |#define MP3_ENC_MMC_MIN_V_BAT_RANGE_PCT 33
                            15547 ; 250  |#define MP3_ENC_NANDONLY_MIN_V_BAT_RANGE_PCT 17
                            15548 ; 251  |#define MP3_ENC_BUCKMODE_MIN_V_BAT_RANGE_PCT 25
                            15549 ; 252  |
                            15550 ; 253  |/////////////////////////////////////////////////////////////////////////////////
                            15551 ; 254  |// Voice recording filenames
                            15552 ; 255  |// number of digits in filename Vxxx.wav
                            15553 ; 256  |/////////////////////////////////////////////////////////////////////////////////
                            15554 ; 257  |#define DIGITS_IN_VOICE_FILENAME 3   
                            15555 ; 258  |
                            15556 ; 259  |/////////////////////////////////////////////////////////////////////////////////
                            15557 ; 260  |// Mic Bias: Set this enable to 1 to internally generate mic bias voltage. 
                            15558 ; 261  |// Also below, must configure internal resistor value and pin to use for DC bias. 
                            15559 ; 262  |// Can set to 0 to disable internally generated mic bias voltage at pin lradc1/2.
                            15560 ; 263  |#if defined(DEVICE_3500)
                            15561 ; 264  |#define ENABLE_INTERNALLY_GENERATED_MICBIAS 1 
                            15562 ; 265  |// MIC BIAS circuit source selection: use Low Resolution ADC pin 2 or 1 to bias mic. 
                            15563 ; 266  |// Per your layout: select LRADC 2 or 1 below 
                            15564 ; 267  |//   (pin LRADC 2 for 35xx cpu card revB, LRADC 1 for 35xx cpu card revC, ref schematics, & demo player)
                            15565 ; 268  |#define LRADC_NUM_FOR_MIC_BIAS 1 
                            15566 ; 269  |// Sets internal mic bias R to value 2, 4, or 8 (in kOhms).
                            15567 ; 270  |#define MICBIAS_CONFIGURED_RESISTOR_KOHMS 8
                            15568 ; 271  |
                            15569 ; 272  |// Allows mic bias to settle before sampling. This delay currently unused. For rec btn when bias not yet ready.
                            15570 ; 273  |#define REC_BTN_INTERNAL_MIC_BIAS_SETTLING_DELAY_MS 400 
                            15571 ; 274  |// Option always keeps bias enabled after mainmenu init. This allows for start pop prevention if you use rec button from outside voice menu.
                            15572 ; 275  |// This selection costs 1 mWatt but gains the desired low record button to sampling latency in the record-from-music-menu use-case.
                            15573 ; 276  |#define KEEP_MIC_BIAS_ENABLED 0
                            15574 ; 277  |
                            15575 ; 278  |#else 
                            15576 ; 279  |// STMP3410
                            15577 ; 280  |#define ENABLE_INTERNALLY_GENERATED_MICBIAS 0
                            15578 ; 281  |#define LRADC_NUM_FOR_MIC_BIAS 1 
                            15579 ; 282  |#define MICBIAS_CONFIGURED_RESISTOR_KOHMS 2
                            15580 ; 283  |#endif
                            15581 ; 284  |
                            15582 ; 285  |/////////////////////////////////////////////////////////////////////////////////
                            15583 ; 286  |// Number of available soft timers
                            15584 ; 287  |/////////////////////////////////////////////////////////////////////////////////
                            15585 ; 288  |#if defined(SYNC_LYRICS)
                            15586 ; 289  |#define SOFT_TIMERS 10
                            15587 ; 290  |#else 
                            15588 ; 291  |#if defined(JPEG_DECODER)
                            15589 ; 292  |#define SOFT_TIMERS 10
                            15590 ; 293  |#else 
                            15591 ; 294  |#define SOFT_TIMERS 9
                            15592 ; 295  |#endif
                            15593 ; 296  |#endif
                            15594 ; 297  |
                            15595 ; 298  |/////////////////////////////////////////////////////////////////////////////////
                            15596 ; 299  |//  sizes
                            15597 ; 300  |/////////////////////////////////////////////////////////////////////////////////
                            15598 ; 301  |#if defined(MMC)
                            15599 ; 302  |#if defined(USE_PLAYLIST5)
                            15600 ; 303  |#define MENU_STACK_SIZE 1500
                            15601 ; 304  |#else 
                            15602 ; 305  |#define MENU_STACK_SIZE 1250
                            15603 ; 306  |#endif //if @def('USE_PLAYLIST5')
                            15604 ; 307  |#else 
                            15605 ; 308  |#if defined(USE_PLAYLIST5)
                            15606 ; 309  |#define MENU_STACK_SIZE 1500
                            15607 ; 310  |#else 
                            15608 ; 311  |#define MENU_STACK_SIZE 1250
                            15609 ; 312  |#endif //if @def('USE_PLAYLIST5')
                            15610 ; 313  |#endif //if @def('MMC')
                            15611 ; 314  |
                            15612 ; 315  |// NOTE: SDK2.6 USED 550 FOR NEXT LINE, BUT SDK3.0BETA USED 750. Should it be ifdef MTP 750 else 550 for other builds? TOVERIFY. MYALLOC
                            15613 ; 316  |// 
                            15614 ; 317  |#define STACK_L1_SIZE 750
                            15615 ; 318  |#define STACK_L2_SIZE 100
                            15616 ; 319  |#define STACK_L3_SIZE 160
                            15617 ; 320  |
                            15618 ; 321  |// If we are in MTP mode the overlay task stack can shrink.
                            15619 ; 322  |// TODO shrink this stack for MTP, I will leave it at 500 until we verify that it 
                            15620 ; 323  |// is ok with switching code.
                            15621 ; 324  |#if defined(MTP_BUILD)
                            15622 ; 325  |#define OVERLAY_MANAGER_STACK_SIZE 300
                            15623 ; 326  |#endif
                            15624 ; 327  |
                            15625 ; 328  |/////////////////////////////////////////////////////////////////////////////////
                            15626 ; 329  |// maximum number of nested funclets 
                            15627 ; 330  |/////////////////////////////////////////////////////////////////////////////////
                            15628 ; 331  |#define MAX_NESTED_FUNCLET 6 
                            15629 ; 332  |
                            15630 ; 333  |/////////////////////////////////////////////////////////////////////////////////
                            15631 ; 334  |//    LCD DEFINITIONS
                            15632 ; 335  |/////////////////////////////////////////////////////////////////////////////////
                            15633 ; 336  |
                            15634 ; 337  |#define SPACE_CHAR 0x000020          
                            15635 ; 338  |#define ZERO_CHAR 0x000030
                            15636 ; 339  |#define COLON_CHAR 0x00003A
                            15637 ; 340  |#define PERIOD_CHAR 0x00002E
                            15638 ; 341  |
                            15639 ; 342  |#if (defined(S6B33B0A_LCD))
                            15640 ; 343  |#define LCD_X_SIZE 128
                            15641 ; 344  |#define LCD_Y_SIZE 159
                            15642 ; 345  |#endif
                            15643 ; 346  |
                            15644 ; 347  |#if (defined(SED15XX_LCD))
                            15645 ; 348  |#define LCD_X_SIZE 128
                            15646 ; 349  |#define LCD_Y_SIZE 64
                            15647 ; 350  |#endif
                            15648 ; 351  |
                            15649 ; 352  |
                            15650 ; 353  |//////////////////////////////////////////////////////////////////////////////////
                            15651 ; 354  |//   Details on Customizing Contrast
                            15652 ; 355  |/////////////////////////////////////////////////////////////////////////////////
                            15653 ; 356  |//   Max supported LCD range is 0 - 3F; however due to hardware/voltage differences
                            15654 ; 357  |//   the range of visibility is usually smaller than this.  It is important to 
                            15655 ; 358  |//   calibrate the visible range, because the contrast setting is saved.
                            15656 ; 359  |//   If the user shuts off the player while lcd is not visible, the player is useless
                            15657 ; 360  |//   unless the ezact sequence is remembered.
                            15658 ; 361  |//   To find out what range your player supports: 
                            15659 ; 362  |//   change these equs to full range or comment out (full range is default)
                            15660 ; 363  |//;;;;;;
                            15661 ; 364  |// uncomment the line below to build code that will provide raw contrast value
                            15662 ; 365  |// recommended calibration using player -- uncomment 
                            15663 ; 366  |//;;;;;;
                            15664 ; 367  |//CONTRAST_CALIBRATION    equ  1
                            15665 ; 368  |////////////////////////////
                            15666 ; 369  |#if (defined(DEMO_HW))
                            15667 ; 370  |// this is the setting for ET301 demos; Next 2 line have not been updated for new Shingyi LCD (June6'05)
                            15668 ; 371  |#define LCD_MAX_CONTRAST 0x32 
                            15669 ; 372  |#define LCD_MIN_CONTRAST 0x1E
                            15670 ; 373  |#else 
                            15671 ; 374  |
                            15672 ; 375  |#if (defined(S6B33B0A_LCD))
                            15673 ; 376  |#define LCD_MAX_CONTRAST 210
                            15674 ; 377  |#define LCD_MIN_CONTRAST 160    
                            15675 ; 378  |#endif
                            15676 ; 379  |
                            15677 ; 380  |#if (defined(SED15XX_LCD))
                            15678 ; 381  |// Next 3 line comment was for OLD shingyi LCD: (default LCD before sdk2.6)
                            15679 ; 382  |// Engineering board regs support range [17-37].
                            15680 ; 383  |//   Engineering board DC/DC support range [24-46]. 
                            15681 ; 384  |//   One default contrast range [24-42] works for both.
                            15682 ; 385  |// The 3 sets of contrast ranges below are updated for SDK2.6 to support either 
                            15683 ; 386  |// new or old ShingYih LCDs. "File" refers to \resource\shingyih\system_lcd_init_seq.src
                            15684 ; 387  |// 3/10/05 - Use one of the 2 next contrast ranges depending on which
                            15685 ; 388  |// ShingYih LCD you have.  See \resources\shingyi\readme.txt 
                            15686 ; 389  |// Optimal for NEW LCD with NEW file (SDK2.6 default)  
                            15687 ; 390  |// G098064-41 LCD module (present on engr board revH LCD card)
                            15688 ; 391  |
                            15689 ; 392  |#if (defined(NEWSHINGYIH))
                            15690 ; 393  |#define LCD_MAX_CONTRAST 250
                            15691 ; 394  |#define LCD_MIN_CONTRAST 0
                            15692 ; 395  |#else 
                            15693 ; 396  |//-----
                            15694 ; 397  |// Near optimal for OLD LCD with NEW file. 
                            15695 ; 398  |// NOT optimal for the new lcd but pretty good. So u may use this if u want 1 build for both LCDs.
                            15696 ; 399  |#define LCD_MAX_CONTRAST 250
                            15697 ; 400  |#define LCD_MIN_CONTRAST 0
                            15698 ; 401  |
                            15699 ; 402  |//=====
                            15700 ; 403  |// Optimal for OLD ShingYih LCD with OLD file (as sdk2.521)
                            15701 ; 404  |// Suggest going with default new init file & values above for your LCD instead of this historic ver.
                            15702 ; 405  |//LCD_MAX_CONTRAST equ 42
                            15703 ; 406  |//LCD_MIN_CONTRAST equ 24 
                            15704 ; 407  |
                            15705 ; 408  |#endif
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page  63

M:ADDR CODE           CYCLES LINE SOURCELINE
                            15706 ; 409  |#endif
                            15707 ; 410  |
                            15708 ; 411  |#endif
                            15709 ; 412  |
                            15710 ; 413  |//////////////////////////////////////////////////////////////////////////////////
                            15711 ; 414  |// The default value of the lcd contrast in % of range
                            15712 ; 415  |//   the default value is used when no settings.dat is available
                            15713 ; 416  |//////////////////////////////////////////////////////////////////////////////////
                            15714 ; 417  |
                            15715 ; 418  |#if (defined(S6B33B0A_LCD))
                            15716 ; 419  |// 60% of range is default value
                            15717 ; 420  |#define DEFAULT_CONTRAST 50 
                            15718 ; 421  |#endif
                            15719 ; 422  |
                            15720 ; 423  |#if (defined(SED15XX_LCD))
                            15721 ; 424  |// % of range is default value (was 60%)
                            15722 ; 425  |#define DEFAULT_CONTRAST 50 
                            15723 ; 426  |#endif
                            15724 ; 427  |
                            15725 ; 428  |
                            15726 ; 429  |// percentage change per increment/decrement message (LCD_DEC_CONTRAST/LCD_INC_CONTRAST)
                            15727 ; 430  |// make lower when doing calibration
                            15728 ; 431  |#define LCD_STEPSIZE_CONTRAST 10  
                            15729 ; 432  |
                            15730 ; 433  |
                            15731 ; 434  |/////////////////////////////////////////////////////////////////////////////////
                            15732 ; 435  |// For FFWD and RWND
                            15733 ; 436  |/////////////////////////////////////////////////////////////////////////////////
                            15734 ; 437  |#define SECONDS_TO_SKIP 1
                            15735 ; 438  |#define SECONDS_TO_SKIP1 3
                            15736 ; 439  |#define SECONDS_TO_SKIP2 6
                            15737 ; 440  |// number of seconds to cause reset to begin of song for PREV push
                            15738 ; 441  |#define PREV_SONG_THRESHOLD 5  
                            15739 ; 442  |// number of 300 mSec periods before the numbers of seconds to skip increases
                            15740 ; 443  |#define FIRST_TIME_BOUNDARY 15 
                            15741 ; 444  |// number of 300 mSec periods before the numbers of seconds to skip increases
                            15742 ; 445  |#define SECOND_TIME_BOUNDARY 30 
                            15743 ; 446  |
                            15744 ; 447  |// For audible FFW/RWD
                            15745 ; 448  |#define SECONDS_TO_SKIP_FOR_3X_RATE 1
                            15746 ; 449  |#define SECONDS_TO_SKIP_FOR_60X_RATE 18
                            15747 ; 450  |#define SECONDS_TO_SKIP_FOR_600X_RATE 180
                            15748 ; 451  |#define SECONDS_TO_SKIP_FOR_1800X_RATE 540
                            15749 ; 452  |// number of 300 mSec periods before the numbers of seconds to skip increases
                            15750 ; 453  |#define LEVEL1_BOUNDARY 17 
                            15751 ; 454  |// number of 300 mSec periods before the numbers of seconds to skip increases
                            15752 ; 455  |#define LEVEL2_BOUNDARY 33 
                            15753 ; 456  |// number of 300 mSec periods before the numbers of seconds to skip increases
                            15754 ; 457  |#define LEVEL3_BOUNDARY 50 
                            15755 ; 458  |// Stmp00010296 Ticket #71685:  for song shorter than the min. skip size
                            15756 ; 459  |// if song_time < skip_size, bCurrentSongShort=>TRUE (ignore FWD/RWD commands)
                            15757 ; 460  |// Short Song Time, songs too short to play.
                            15758 ; 461  |#define SHORT_SONG_TIME SECONDS_TO_SKIP         
                            15759 ; 462  |
                            15760 ; 463  |/////////////////////////////////////////////////////////////////////////////////
                            15761 ; 464  |// MP3 Sync Values
                            15762 ; 465  |/////////////////////////////////////////////////////////////////////////////////
                            15763 ; 466  |// # bytes to look for sync before marking it bad
                            15764 ; 467  |#define MP3_SYNC_THRESHOLD 70000 
                            15765 ; 468  |// # bytes to look for sync before slowing decoder isr frequency (to let menus run)
                            15766 ; 469  |#define MP3_SYNC_THRESHOLD1 10000 
                            15767 ; 470  |// once we have sync'd, the isr should be called this frequently
                            15768 ; 471  |#define MP3_DECODERISR_FAST 7500  
                            15769 ; 472  |// if decoder is having difficulty syncing, switch isr to be called less frequently
                            15770 ; 473  |#define MP3_DECODERISR_SLOW 50000 
                            15771 ; 474  |
                            15772 ; 475  |
                            15773 ; 476  |/////////////////////////////////////////////////////////////////////////////////
                            15774 ; 477  |//// Multi-Stage Volume Control Definitions
                            15775 ; 478  |/////////////////////////////////////////////////////////////////////////////////
                            15776 ; 479  |//// Use Multi-Stage Volume
                            15777 ; 480  |#define MULTI_STAGE_VOLUME 0x1                  
                            15778 ; 481  |
                            15779 ; 482  |//// Master Volume definitions
                            15780 ; 483  |#define MIX_MSTR_MAX_VOL 0x0
                            15781 ; 484  |#define NUM_MSTR_ATT_STEPS (0x1F-MIX_MSTR_MAX_VOL)
                            15782 ; 485  |
                            15783 ; 486  |//// DAC-Mode definitions
                            15784 ; 487  |//// Adjusts 0dB point
                            15785 ; 488  |#define MIX_DAC_NOM_VOL 0x6                  
                            15786 ; 489  |#define MIX_DAC_MIN_VOL 0x1F
                            15787 ; 490  |// For minimum clipping: Set MIX_DAC_MAX_VOL below to match MIX_DAC_NOM_VOL value 2 lines above.
                            15788 ; 491  |// For additional gain (with possible clipping): Set MIX_DAC_MAX_VOL in range below. 
                            15789 ; 492  |//                                               Each integer below MIX_DAC_NOM_VOL provides 1.5 dB gain on Stmp34x0; 
                            15790 ; 493  |//                                               Max gain possible: 8 step diff would provide +12dB gain.   
                            15791 ; 494  |// range: [0 to MIX_DAC_NOM_VOL] (0 for loudest volume)
                            15792 ; 495  |#define MIX_DAC_MAX_VOL 0x0  
                            15793 ; 496  |
                            15794 ; 497  |#define NUM_DAC_ATT_STEPS (MIX_DAC_MIN_VOL-MIX_DAC_NOM_VOL+1)
                            15795 ; 498  |#define NUM_DAC_GAIN_STEPS (MIX_DAC_NOM_VOL-MIX_DAC_MAX_VOL)
                            15796 ; 499  |#define NUM_DAC_MODE_VOL_STEPS (NUM_DAC_ATT_STEPS+NUM_MSTR_ATT_STEPS+NUM_DAC_GAIN_STEPS+1)
                            15797 ; 500  |
                            15798 ; 501  |//// If there is no stored volume, set to 50% of DAC-Mode max; change if DAC Mode is not the default
                            15799 ; 502  |//// STMP35xx has 2dB attenuation per step so default needs a few more steps above midpoint.
                            15800 ; 503  |#define DEFAULT_VOLUME ((NUM_DAC_MODE_VOL_STEPS/2)+6)         
                            15801 ; 504  |
                            15802 ; 505  |//// Set maximum restored volume to 75% of DAC-Mode max; change if DAC Mode is not the default
                            15803 ; 506  |#define MAX_RESTORED_VOLUME ((3*NUM_DAC_MODE_VOL_STEPS)/4)   
                            15804 ; 507  |
                            15805 ; 508  |
                            15806 ; 509  |//// Line In definitions (used for Line-In 1)
                            15807 ; 510  |//// 0dB point of the Line In
                            15808 ; 511  |#define MIX_LINE_NOM_VOL 0x8                  
                            15809 ; 512  |//// Minimum volume of Line In
                            15810 ; 513  |#define MIX_LINE_MIN_VOL 0x1F                 
                            15811 ; 514  |//// Maximum volume of Line In (can adjust extra gain)
                            15812 ; 515  |#define MIX_LINE_MAX_VOL 0x6                  
                            15813 ; 516  |#define NUM_LINE_ATT_STEPS (MIX_LINE_MIN_VOL-MIX_LINE_NOM_VOL+1)
                            15814 ; 517  |#define NUM_LINE_GAIN_STEPS (MIX_LINE_NOM_VOL-MIX_LINE_MAX_VOL)
                            15815 ; 518  |#define NUM_LINE_MODE_VOL_STEPS (NUM_LINE_ATT_STEPS+NUM_MSTR_ATT_STEPS+NUM_LINE_GAIN_STEPS+1)
                            15816 ; 519  |
                            15817 ; 520  |//// Line In definitions (used for FM tuner with 144 pin package)
                            15818 ; 521  |//// 0dB point of the Line In
                            15819 ; 522  |#define MIX_FM_NOM_VOL 0x8                  
                            15820 ; 523  |//// Minimum volume of Line In
                            15821 ; 524  |#define MIX_FM_MIN_VOL 0x1F                 
                            15822 ; 525  |//// Maximum volume of Line In (can adjust extra gain)
                            15823 ; 526  |#define MIX_FM_MAX_VOL 0x6                  
                            15824 ; 527  |#define NUM_FM_ATT_STEPS (MIX_FM_MIN_VOL-MIX_FM_NOM_VOL+1)
                            15825 ; 528  |#define NUM_FM_GAIN_STEPS (MIX_FM_NOM_VOL-MIX_FM_MAX_VOL)
                            15826 ; 529  |#define NUM_FM_MODE_VOL_STEPS (NUM_FM_ATT_STEPS+NUM_MSTR_ATT_STEPS+NUM_FM_GAIN_STEPS+1)
                            15827 ; 530  |
                            15828 ; 531  |/////////////////////////////////////////////////////////////////////////////////
                            15829 ; 532  |//// When enabled (1), periodically checks for one of several FM state machine invalid deadlock states & recovers. 
                            15830 ; 533  |//// Define as 0 to disable FM-deadlock-state checking and recovery.
                            15831 ; 534  |#define FM_WATCHDOG_ENABLE 1
                            15832 ; 535  |
                            15833 ; 536  |#if !defined(STMP_BUILD_PLAYER)
                            15834 ; 537  |////
                            15835 ; 538  |////! This varible holds the lcd display state for the mtp project.
                            15836 ; 539  |////
                            15837 ; 540  |///
                            15838 ; 541  |#include <types.h>
                            15839 ; 542  |extern volatile WORD g_wActivityState;
                            15840 ; 543  |#endif // if !@def('STMP_BUILD_PLAYER')
                            15841 ; 544  |
                            15842 ; 545  |void _reentrant Init5VSense(void);
                            15843 ; 546  |void _reentrant ServiceDCDC(void);
                            15844 ; 547  |
                            15845 ; 548  |////////////////////////////////////////////////////////////////////////////
                            15846 ; 549  |//// JPEG Thumbnail Mode Setting
                            15847 ; 550  |//// number of column in thumbnail mode
                            15848 ; 551  |#define THUMBNAIL_X 2           
                            15849 ; 552  |//// number of row in  thumbnail mode
                            15850 ; 553  |#define THUMBNAIL_Y 2           
                            15851 ; 554  |//// thumbnail boundary offset x
                            15852 ; 555  |#define THUMBNAIL_X_OFFSET 4            
                            15853 ; 556  |//// thumbnail boundary offset y
                            15854 ; 557  |#define THUMBNAIL_Y_OFFSET 4            
                            15855 ; 558  |
                            15856 ; 559  |#endif // if (!@def(_PROJECT_INC))
                            15857 ; 560  |
                            15858 
                            15860 
                            15861 ; 101  |
                            15862 ; 102  |/*==================================================================================================
                            15863 ; 103  |                                             CONSTANTS
                            15864 ; 104  |==================================================================================================*/
                            15865 ; 105  |/* The bit mask for 2 bits Unicode Flag selection in "uint8 unicode".
                            15866 ; 106  |Variable Represented            Bits used in "uint8 unicode"
                            15867 ; 107  |Artistname                              1:0
                            15868 ; 108  |Albumname                               3:2
                            15869 ; 109  |Genrename                               5:4
                            15870 ; 110  |Songname                                7:6
                            15871 ; 111  |----------------------------------------------------------
                            15872 ; 112  |    Value (2 bits)                      Meanings
                            15873 ; 113  |    0                                   RAW and All ASCII
                            15874 ; 114  |    1                                   Uni-code
                            15875 ; 115  |    2                                   Mixed, non-unicode
                            15876 ; 116  |
                            15877 ; 117  |    3(Genre only)               Genre is ID3v1 spec=>number
                            15878 ; 118  |*/
                            15879 ; 119  |#define BITMASK_ARTIST  (0x03)
                            15880 ; 120  |#define BITMASK_ALBUM   (0x0C)
                            15881 ; 121  |#define BITMASK_GENRE   (0x30)
                            15882 ; 122  |#define BITMASK_SONG    (0xC0)
                            15883 ; 123  |
                            15884 ; 124  |#define BITCHK_ARTIST_ALLASCII  (0x0)
                            15885 ; 125  |#define BITCHK_ALBUM_ALLASCII   (0x0)
                            15886 ; 126  |#define BITCHK_GENRE_ALLASCII   (0x0)
                            15887 ; 127  |#define BITCHK_SONG_ALLASCII    (0x0)
                            15888 ; 128  |
                            15889 ; 129  |#define BITCHK_ARTIST_UNICODE   (0x01)
                            15890 ; 130  |#define BITCHK_ALBUM_UNICODE    (0x04)
                            15891 ; 131  |#define BITCHK_GENRE_UNICODE    (0x10)
                            15892 ; 132  |#define BITCHK_SONG_UNICODE             (0x40)
                            15893 ; 133  |
                            15894 ; 134  |#define BITCHK_ARTIST_MIXCODE   (0x02)
                            15895 ; 135  |#define BITCHK_ALBUM_MIXCODE    (0x08)
                            15896 ; 136  |#define BITCHK_GENRE_MIXCODE    (0x20)
                            15897 ; 137  |#define BITCHK_SONG_MIXCODE             (0x80)
                            15898 ; 138  |
                            15899 ; 139  |#define BITCHK_GENRE_ID3V1              (0x30)
                            15900 ; 140  |
                            15901 ; 141  |#define UNKNOWN_YEAR_CODE               (1)     /* set a very large number */
                            15902 ; 142  |
                            15903 ; 143  |#define INDEX_EOF       0xFFF
                            15904 ; 144  |#ifdef _FOLDER_BROWSE_
                            15905 ; 145  |#define INDEX_ROOT  0xffe
                            15906 ; 146  |#define UNKNOWN_RECORD  0xfff
                            15907 ; 147  |#endif  // _FOLDER_BROWSE_
                            15908 ; 148  |
                            15909 ; 149  |/* Constant for item_type */
                            15910 ; 150  |#define         ITEM_ARTIST                     0
                            15911 ; 151  |#define         ITEM_ALBUM                      1
                            15912 ; 152  |#define         ITEM_GENRE                      2
                            15913 ; 153  |#define         ITEM_TRACK                      3
                            15914 ; 154  |#define         ITEM_YEAR                       4
                            15915 ; 155  |#define         ITEM_SONG_INFO_ARTIST   5
                            15916 ; 156  |#define         ITEM_SONG_INFO_ALBUM    6
                            15917 ; 157  |#define         ITEM_SONG_INFO_GENRE    7
                            15918 ; 158  |#define         ITEM_SONG_INFO_YEAR             9
                            15919 ; 159  |#ifdef _NEWMUSIC_
                            15920 ; 160  |#define         ITEM_1DAY                       10
                            15921 ; 161  |#define         ITEM_1WEEK                      11
                            15922 ; 162  |#define         ITEM_1MONTH                     12
                            15923 ; 163  |#endif
                            15924 ; 164  |#ifdef _AUDIBLE_
                            15925 ; 165  |#define         ITEM_AUDIBLE            13
                            15926 ; 166  |#endif
                            15927 ; 167  |#define         ITEM_ON_THE_GO          14
                            15928 ; 168  |
                            15929 ; 169  |#define         ITEM_VOICE                      15
                            15930 ; 170  |#define         ITEM_FMREC                      16
                            15931 ; 171  |#define         ITEM_PHOTO                      17
                            15932 ; 172  |#ifdef _FOLDER_BROWSE_
                            15933 ; 173  |#define         ITEM_INTERNAL           18
                            15934 ; 174  |#define         ITEM_EXTERNAL       19
                            15935 ; 175  |#endif  // _FOLDER_BROWSE_
                            15936 ; 176  |#define     ITEM_UNKNOWN        0xff
                            15937 ; 177  |
                            15938 ; 178  |/*
                            15939 ; 179  |input parameter for void ML_AddEntryToLibrary(uint24 Media_type, RAM_SONG_INFO_T *song_info, int16 option);
                            15940 ; 180  |option input.
                            15941 ; 181  |*/
                            15942 ; 182  |#define         ADD_OPTION_MUSIC        (0x00)
                            15943 ; 183  |#define         ADD_OPTION_VOICE        (0x01)
                            15944 ; 184  |#define         ADD_OPTION_AUDIBLE      (0x02)
                            15945 ; 185  |#ifdef _FOLDER_BROWSE_
                            15946 ; 186  |#define     ADD_OPTION_DIR      (0x03)
                            15947 ; 187  |#endif  // _FOLDER_BROWSE_
                            15948 ; 188  |
                            15949 ; 189  |/* Constant for key action */
                            15950 ; 190  |#define         ACTION_OK                               0               /* Press OK button */
                            15951 ; 191  |#define         ACTION_BACK                             1               /* Press BACK button */
                            15952 ; 192  |#define         ACTION_UP                               2               /* Press UP button */
                            15953 ; 193  |#define         ACTION_DOWN                             3               /* Press DOWN button */
                            15954 ; 194  |#define         ACTION_PLAYALL                  4               /* Play All function */
                            15955 ; 195  |#define         ACTION_MENU                             5               /* Back the browsing tree to root */
                            15956 ; 196  |
                            15957 ; 197  |#define     PLAYMODE_CURRENT_PLAYMODE_BITPOS    0
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page  64

M:ADDR CODE           CYCLES LINE SOURCELINE
                            15958 ; 198  |#define     PLAYMODE_LAST_PLAYMODE_BITPOS       1
                            15959 ; 199  |#define     PLAYMODE_REPEAT_BITPOS              2
                            15960 ; 200  |#define     PLAYMODE_MEDIA_BITPOS               3
                            15961 ; 201  |
                            15962 ; 202  |#define         NO_SD                                   0
                            15963 ; 203  |#define         HAS_SD                                  1
                            15964 ; 204  |
                            15965 ; 205  |#define         PLAY_NORMAL                             0
                            15966 ; 206  |#define         PLAY_SHUFFLE                    1
                            15967 ; 207  |
                            15968 ; 208  |#define     PLAY_REPEAT_OFF         0
                            15969 ; 209  |#define     PLAY_REPEAT_ON          1
                            15970 ; 210  |
                            15971 ; 211  |#define     PLAY_SELECT_FLASH       0
                            15972 ; 212  |#define     PLAY_SELECT_SD          1
                            15973 ; 213  |
                            15974 ; 214  |#define         SHUFFLE_NEXT_SONG                       0
                            15975 ; 215  |#define         SHUFFLE_PREVIOUS_SONG       1
                            15976 ; 216  |
                            15977 ; 217  |#define         ON_THE_GO_EXIST                 0
                            15978 ; 218  |#define         ON_THE_GO_FULL                  1
                            15979 ; 219  |#define         ON_THE_GO_FREE                  2
                            15980 ; 220  |#define         ON_THE_GO_DEL_PLAYING   3
                            15981 ; 221  |#define         ON_THE_GO_DEL_SMALLER_ID    4
                            15982 ; 222  |
                            15983 ; 223  |#define         REC_VOICE_TYPE                  0
                            15984 ; 224  |#define         REC_FMREC_TYPE                  1
                            15985 ; 225  |#define         REC_PHOTO_TYPE                  2
                            15986 ; 226  |#define         VOICE_FILE_ADD                  0
                            15987 ; 227  |#define         VOICE_FILE_DEL                  1
                            15988 ; 228  |
                            15989 ; 229  |#define         MAX_BROWSE_WINDOW_SIZE  (8)
                            15990 ; 230  |#define         BROWSE_WINDOW_SIZE              (4)
                            15991 ; 231  |/* maximum number of song file, should not be larger than 2048 each for on-board
                            15992 ; 232  |flash or external SD card */
                            15993 ; 233  |#ifdef _SUPPORT_2000_SONGS_
                            15994 ; 234  |#define MAX_NUM_OF_SONG (2000)
                            15995 ; 235  |#else
                            15996 ; 236  |#define MAX_NUM_OF_SONG (1000)
                            15997 ; 237  |#endif // _SUPPORT_2000_SONGS_
                            15998 ; 238  |
                            15999 ; 239  |/* number of byte in one DSP word */
                            16000 ; 240  |#define NUM_OF_BYTE_IN_ONE_WORD (3)
                            16001 ; 241  |#define LEN_OF_NAME_IN_BYTE (120) /* must be an integer multiple of 3 */
                            16002 ; 242  |/* length of file pathname in byte, assuming directory and file in 8.3 format, there
                            16003 ; 243  |are 10 level directory structure */
                            16004 ; 244  |#define LEN_OF_FILEPATH_IN_BYTE (129) /* must be an integer multiple of 3 */
                            16005 ; 245  |#define LEN_OF_LONG_FILENAME_IN_BYTE (129) /* must be an integer multiple of 3 */
                            16006 ; 246  |
                            16007 ; 247  |/* number of list in new music, 1-day, 1-week, 1-month */
                            16008 ; 248  |#define NUM_OF_LIST_IN_NEW_MUSIC (3)
                            16009 ; 249  |/* number of songs in each new music list */
                            16010 ; 250  |#define NUM_OF_SONG_IN_NEW_MUSIC (40)
                            16011 ; 251  |#define NUM_OF_SONG_IN_NEW_MUSIC_DAY (20)
                            16012 ; 252  |#define NUM_OF_SONG_IN_NEW_MUSIC_WEEK (30)
                            16013 ; 253  |#define NUM_OF_SONG_IN_NEW_MUSIC_MONTH (40)
                            16014 ; 254  |/* number of songs in the on-the-fly list */
                            16015 ; 255  |#define NUM_OF_SONG_IN_ON_THE_FLY (30)
                            16016 ; 256  |/* number of files audible list */
                            16017 ; 257  |#define NUM_OF_AUDIBLE_FILE (250)
                            16018 ; 258  |
                            16019 ; 259  |#define MAX_NUM_OF_VOICE (1000)
                            16020 ; 260  |#define LEN_OF_VOICE_NAME_IN_BYTE (LEN_OF_NAME_IN_BYTE) /* must be an integer multiple of 3 */
                            16021 ; 261  |#define LEN_OF_VOICE_FILEPATH_IN_BYTE (LEN_OF_FILEPATH_IN_BYTE) /* must be an integer multiple of 3 */
                            16022 ; 262  |
                            16023 ; 263  |#define MAX_NUM_OF_FMREC (MAX_NUM_OF_VOICE)     /* _must_be_equal_voice_num_ */
                            16024 ; 264  |#define MAX_NUM_OF_PHOTO (MAX_NUM_OF_VOICE)     /* _must_be_equal_voice_num_ */
                            16025 ; 265  |#ifdef _FOLDER_BROWSE_
                            16026 ; 266  |#define MAX_NUM_OF_DIR   (1000)
                            16027 ; 267  |#else
                            16028 ; 268  |#define MAX_NUM_OF_DIR   (1)
                            16029 ; 269  |#endif  // _FOLDER_BROWSE_
                            16030 ; 270  |#define LEN_OF_FMREC_NAME_IN_BYTE (LEN_OF_NAME_IN_BYTE) /* must be an integer multiple of 3 */
                            16031 ; 271  |#define LEN_OF_FMREC_FILEPATH_IN_BYTE (LEN_OF_FILEPATH_IN_BYTE) /* must be an integer multiple of 3 */
                            16032 ; 272  |
                            16033 ; 273  |#ifndef _MAX_DIR_DEPTH
                            16034 ; 274  |#define _MAX_DIR_DEPTH  8   // referred to "playlist3internal.h"
                            16035 ; 275  |#endif  // _MAX_DIR_DEPTH
                            16036 ; 276  |
                            16037 ; 277  |/*==================================================================================================*/
                            16038 ; 278  |
                            16039 ; 279  |
                            16040 ; 280  |/*==================================================================================================
                            16041 ; 281  |                                               MACROS
                            16042 ; 282  |==================================================================================================*/
                            16043 ; 283  |
                            16044 ; 284  |/*==================================================================================================
                            16045 ; 285  |                                               ENUMS
                            16046 ; 286  |==================================================================================================*/
                            16047 ; 287  |#define NUM_OF_MEDIA                            (2)
                            16048 ; 288  |#define MEDIA_TYPE_FLASH                        (0)
                            16049 ; 289  |#define MEDIA_TYPE_SD                           (1)
                            16050 ; 290  |/*==================================================================================================
                            16051 ; 291  |                                     STRUCTURES AND OTHER TYPEDEFS
                            16052 ; 292  |==================================================================================================*/
                            16053 ; 293  |
                            16054 ; 294  |typedef char    int8;
                            16055 ; 295  |typedef short   int16;
                            16056 ; 296  |typedef int     int24;
                            16057 ; 297  |typedef long    int32;
                            16058 ; 298  |
                            16059 ; 299  |typedef int     intx;
                            16060 ; 300  |
                            16061 ; 301  |typedef unsigned char   uint8;
                            16062 ; 302  |typedef unsigned short  uint16;
                            16063 ; 303  |typedef unsigned int    uint24;
                            16064 ; 304  |typedef unsigned long   uint32;
                            16065 
                            16069 
                            16070 ; 305  |
                            16071 ; 306  |/*
                            16072 ; 307  |Any missing information in the name fields will be filled with Unknown in Unicode format.
                            16073 ; 308  |artist_name[] = Unknown; unicode = 0x01;
                            16074 ; 309  |album_name[] = Unknown; unicode = 0x04;
                            16075 ; 310  |genre_name[] = Unknown; unicode = 0x08;
                            16076 ; 311  |song_name[] = Unknown; unicode = 0x0F;
                            16077 ; 312  |*/
                            16078 ; 313  |/*
                            16079 ; 314  |path_name[] _must_have_data_:
                            16080 ; 315  |path_name[] = (Max. 120 Characters);
                            16081 ; 316  |year range:
                            16082 ; 317  |year = 0x000000-0xFFFFFF;
                            16083 ; 318  |DOCUMENT CONTROL NUMBER : Version : 01.01
                            16084 ; 319  |Unknown track number:
                            16085 ; 320  |track_number = 0x7FFFFF;
                            16086 ; 321  |unicode refer to above #define BITMASK_*
                            16087 ; 322  |*/
                            16088 ; 323  |/*
                            16089 ; 324  |Interface of UI and Music Library
                            16090 ; 325  |1) If file was created in ID3V1 format genre, UI will convert it to Unicode string.
                            16091 ; 326  |
                            16092 ; 327  |2) Music Library expected to reserve 128x7 words RAM for UI mapping table.
                            16093 ; 328  |
                            16094 ; 329  |3) UI to Music Library variable passing length definition:
                            16095 ; 330  |        All ASCII Characters:
                            16096 ; 331  |                Max. Number of Bytes Stored = 120 Bytes
                            16097 ; 332  |                Max. Number of Characters Stored/Display = 40 Characters
                            16098 ; 333  |        Unicode Characters:
                            16099 ; 334  |                Max. Number of Bytes Stored = 120 Bytes
                            16100 ; 335  |                Max. Number of Characters Stored/Display = 40 Characters
                            16101 ; 336  |
                            16102 ; 337  |4) UI input data to Music Library in two formats.
                            16103 ; 338  |        Formats:        1) All ASCII (24 bits data)
                            16104 ; 339  |                                2) Unicode + Mix. Non -Unicode (16 bits data)
                            16105 ; 340  |
                            16106 ; 341  |5) UI calling function:
                            16107 ; 342  |COMP_OPT_REN void ML_AddEntryToLibrary(RAM_SONG_INFO_T *song_info, int16 option);
                            16108 ; 343  |        int16 option definition:
                            16109 ; 344  |                option  = 0 - song_info struct contains a mp3/wma format file.
                            16110 ; 345  |                                = 1 - song_info struct contains a voice format file.
                            16111 ; 346  |                                = 2 - song_info struct contains a audible format file.
                            16112 ; 347  |
                            16113 ; 348  |        i) Only mp3/wma file (option = 0, 2) files will be sorted,
                            16114 ; 349  |        ii) Voice and audible(option = 1) file will be store in a voice_list and audible_list separately.
                            16115 ; 350  |
                            16116 ; 351  |6) Modification Date:
                            16117 ; 352  |        uint24 g_file_time:
                            16118 ; 353  |                YYMMDD: 12 bits - Year, 6 bits - Month, 6 - bits Date
                            16119 ; 354  |*/
                            16120 ; 355  |
                            16121 ; 356  |/* struct to store the song information passed from UI, this struct will be placed in
                            16122 ; 357  |ghdr\musiclib_ghdr.h and included in UI files*/
                            16123 ; 358  |typedef struct _ram_song_info {
                            16124 ; 359  |        uint24 artist_name[LEN_OF_NAME_IN_BYTE/NUM_OF_BYTE_IN_ONE_WORD];
                            16125 ; 360  |        uint24 album_name[LEN_OF_NAME_IN_BYTE/NUM_OF_BYTE_IN_ONE_WORD];
                            16126 ; 361  |        uint24 genre_name[LEN_OF_NAME_IN_BYTE/NUM_OF_BYTE_IN_ONE_WORD];
                            16127 ; 362  |        uint24 song_name[LEN_OF_NAME_IN_BYTE/NUM_OF_BYTE_IN_ONE_WORD];
                            16128 ; 363  |        uint24 path_name[LEN_OF_FILEPATH_IN_BYTE/NUM_OF_BYTE_IN_ONE_WORD];
                            16129 ; 364  |    uint32 g_songFastKey;
                            16130 ; 365  |        uint24 dir_name[LEN_OF_LONG_FILENAME_IN_BYTE/NUM_OF_BYTE_IN_ONE_WORD];
                            16131 ; 366  |        uint24 year;
                            16132 ; 367  |        uint24 track_number;
                            16133 ; 368  |        uint8 unicode;
                            16134 ; 369  |} RAM_SONG_INFO_T;
                            16135 ; 370  |
                            16136 ; 371  |/* struct to store the group name: artist, album and genre, in the flash */
                            16137 ; 372  |typedef struct _flash_group_name {
                            16138 ; 373  |        uint24 name[LEN_OF_NAME_IN_BYTE/NUM_OF_BYTE_IN_ONE_WORD];
                            16139 ; 374  |        uint8 unicode;
                            16140 ; 375  |} FLASH_GROUP_NAME_T;
                            16141 ; 376  |
                            16142 ; 377  |// struct to store directories information passed from UI
                            16143 ; 378  |#ifdef _FOLDER_BROWSE_
                            16144 ; 379  |typedef struct _ml_DirInfo {
                            16145 ; 380  |        uint24  u8Unicode : 8;
                            16146 ; 381  |        uint24  u12DirDepth : 12;
                            16147 ; 382  |        uint24  u4Added : 4;            
                            16148 ; 383  |        INT     iDirRecord;
                            16149 ; 384  |        DWORD   dwFastKey;
                            16150 ; 385  |        uint24  u24PathName[LEN_OF_FILEPATH_IN_BYTE/NUM_OF_BYTE_IN_ONE_WORD];
                            16151 ; 386  |} ML_DIRINFO_T;
                            16152 ; 387  |#endif  // _FOLDER_BROWSE_
                            16153 ; 388  |
                            16154 ; 389  |/*==================================================================================================
                            16155 ; 390  |                                 GLOBAL VARIABLE DECLARATIONS
                            16156 ; 391  |==================================================================================================*/
                            16157 ; 392  |extern uint24   IsPlayOnTheGo;
                            16158 
                            16164 
                            16165 ; 393  |extern FLASH_GROUP_NAME_T   browse_item_name[];
                            16166 ; 394  |extern uint24   merge_id_list_flash[];
                            16167 ; 395  |extern uint24   merge_id_list_sd[];
                            16168 ; 396  |extern INT _X   g_iBrowseWindowSize;
                            16169 ; 397  |#ifdef _FOLDER_BROWSE_
                            16170 
                            16183 
                            16184 ; 398  |extern ML_DIRINFO_T g_tDirInfoBuffer[_MAX_DIR_DEPTH];
                            16185 ; 399  |extern uint24       g_u24DirName[LEN_OF_NAME_IN_BYTE/NUM_OF_BYTE_IN_ONE_WORD];
                            16186 ; 400  |extern uint24       g_u24BrowseNumOfDirInDir[];
                            16187 ; 401  |#endif  // _FOLDER_BROWSE_
                            16188 ; 402  |extern INT _X    *sec_temp_buf_X;
                            16189 ; 403  |extern uint24   playMode;   /* bit 0 = current play mode; bit 1 = last play mode ; bit 2 = repeat on/off(0=off/1=on) */
                            16190 ; 404  |
                            16191 ; 405  |/*==================================================================================================
                            16192 ; 406  |                                        FUNCTION PROTOTYPES
                            16193 ; 407  |==================================================================================================*/
                            16194 ; 408  |
                            16195 ; 409  |///////////////////////////////////////////////////////////////////////
                            16196 ; 410  |//! \brief
                            16197 ; 411  |//!
                            16198 ; 412  |//! \fntype Function
                            16199 ; 413  |//!
                            16200 ; 414  |//! Called by UI, to initialize the parameters before insert any item.
                            16201 ; 415  |//! Call only once before inserting items. Call once for each media.
                            16202 ; 416  |//!
                            16203 ; 417  |//! \param[in]  none
                            16204 ; 418  |//!
                            16205 ; 419  |//! \return
                            16206 ; 420  |//!
                            16207 ; 421  |///////////////////////////////////////////////////////////////////////
                            16208 ; 422  |void ML_InitLibraryParameter(void);
                            16209 ; 423  |
                            16210 ; 424  |///////////////////////////////////////////////////////////////////////
                            16211 ; 425  |//! \brief
                            16212 ; 426  |//!
                            16213 ; 427  |//! \fntype Function
                            16214 ; 428  |//!
                            16215 ; 429  |//! Called by UI, the AddEntryToLibrary is the music library building
                            16216 ; 430  |//! algorithms for the flash-type memory and SD memory by sorting the song information
                            16217 ; 431  |//! by, but not limited to, album, artist, genre, year and track. Called once for each song,
                            16218 ; 432  |//! the song information is recorded in music library.
                            16219 ; 433  |//!
                            16220 ; 434  |//! \param[in]  uint24 Media_type - Possible values: MEDIA_TYPE_FLASH(=0); MEDIA_TYPE_SD(=1)
                            16221 ; 435  |//! \param[in]  RAM_SONG_INFO_T *song_info - Structure to store the song information passed from UI, this structure is defined in ghdr\musiclib_ghdr.h and included in UI files)
                            16222 ; 436  |//! \param[in]  int16 option - option = 0 -- song_info struct contains a mp3, wma or wav format file.
                            16223 ; 437  |//!
                            16224 ; 438  |//! \return
                            16225 ; 439  |//!
                            16226 ; 440  |///////////////////////////////////////////////////////////////////////
                            16227 ; 441  |void ML_AddEntryToLibrary(uint24 Media_type, RAM_SONG_INFO_T *song_info, int16 option);
                            16228 
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page  65

M:ADDR CODE           CYCLES LINE SOURCELINE
                            16242 
                            16243 ; 442  |
                            16244 ; 443  |///////////////////////////////////////////////////////////////////////
                            16245 ; 444  |//! \brief
                            16246 ; 445  |//!
                            16247 ; 446  |//! \fntype Function
                            16248 ; 447  |//!
                            16249 ; 448  |//! \param[in]
                            16250 ; 449  |//!
                            16251 ; 450  |//! \return
                            16252 ; 451  |//!
                            16253 ; 452  |///////////////////////////////////////////////////////////////////////
                            16254 ; 453  |#ifdef _FOLDER_BROWSE_
                            16255 ; 454  |_reentrant void ML_AddDirEntryToLibrary(uint24 u24MediaType, ML_DIRINFO_T *ptDirInfo, int16 i16Option);
                            16256 ; 455  |#endif  // _FOLDER_BROWSE_
                            16257 ; 456  |
                            16258 ; 457  |///////////////////////////////////////////////////////////////////////
                            16259 ; 458  |//! \brief
                            16260 ; 459  |//!
                            16261 ; 460  |//! \fntype Function
                            16262 ; 461  |//!
                            16263 ; 462  |//! Called by UI, flush sorted and associate list to flash when no
                            16264 ; 463  |//! more song needed to be added for that media. This function finalizes the building of
                            16265 ; 464  |//! music library for that particular media.
                            16266 ; 465  |//!
                            16267 ; 466  |//! \param[in]  uint24 Media_type - Possible values: MEDIA_TYPE_FLASH(=0); MEDIA_TYPE_SD(=1)
                            16268 ; 467  |//!
                            16269 ; 468  |//! \return
                            16270 ; 469  |//!
                            16271 ; 470  |//! \note   Bulid the library first (call ML_AddEntryToLibrary) before calling this
                            16272 ; 471  |//!         function.
                            16273 ; 472  |///////////////////////////////////////////////////////////////////////
                            16274 ; 473  |_reentrant INT ML_FlushLibraryToFlash(INT Media_type, INT b, INT *c);
                            16275 ; 474  |
                            16276 ; 475  |///////////////////////////////////////////////////////////////////////
                            16277 ; 476  |//! \brief
                            16278 ; 477  |//!
                            16279 ; 478  |//! \fntype Function
                            16280 ; 479  |//!
                            16281 ; 480  |//! \param[in]
                            16282 ; 481  |//!
                            16283 ; 482  |//! \return
                            16284 ; 483  |//!
                            16285 ; 484  |///////////////////////////////////////////////////////////////////////
                            16286 ; 485  |#ifdef _NEWMUSIC_
                            16287 ; 486  |void ML_UpdateNewMusic(void);
                            16288 ; 487  |#endif
                            16289 ; 488  |
                            16290 ; 489  |///////////////////////////////////////////////////////////////////////
                            16291 ; 490  |//! \brief
                            16292 ; 491  |//!
                            16293 ; 492  |//! \fntype Function
                            16294 ; 493  |//!
                            16295 ; 494  |//! Called by UI, to initialize the file access mechanism for all music
                            16296 ; 495  |//! library operation if the music.lib file and the music.sec file exist (call
                            16297 ; 496  |//! ML_BuildSecTableFile() if these files do not exist).
                            16298 ; 497  |//!
                            16299 ; 498  |//! \param[in]  none
                            16300 ; 499  |//!
                            16301 ; 500  |//! \return
                            16302 ; 501  |//!
                            16303 ; 502  |//! \note   Either ML_Buildl2SecTable(void) or ML_BuildSecTableFile(void)
                            16304 ; 503  |//!         must be called before calling any other music library functions.
                            16305 ; 504  |///////////////////////////////////////////////////////////////////////
                            16306 ; 505  |_reentrant INT ML_Buildl2SecTable(INT a, INT b, INT *c);
                            16307 ; 506  |
                            16308 ; 507  |///////////////////////////////////////////////////////////////////////
                            16309 ; 508  |//! \brief
                            16310 ; 509  |//!
                            16311 ; 510  |//! \fntype Function
                            16312 ; 511  |//!
                            16313 ; 512  |//! Called by UI, to initialize the file access mechanism for all music
                            16314 ; 513  |//! library operation.
                            16315 ; 514  |//! Two system files (music.lib and music.sec) is created.
                            16316 ; 515  |//! Call this only if intended to generate / refresh these files, or if the music.lib file and the
                            16317 ; 516  |//! music.sec file do not exist.
                            16318 ; 517  |//!
                            16319 ; 518  |//! \param[in]  none
                            16320 ; 519  |//!
                            16321 ; 520  |//! \return
                            16322 ; 521  |//!
                            16323 ; 522  |//! \note   Either ML_Buildl2SecTable(void) or ML_BuildSecTableFile(void)
                            16324 ; 523  |//!         must be called before calling any other music library functions.
                            16325 ; 524  |///////////////////////////////////////////////////////////////////////
                            16326 ; 525  |_reentrant INT ML_BuildSecTableFile(INT a, INT b, INT *c);
                            16327 ; 526  |
                            16328 ; 527  |///////////////////////////////////////////////////////////////////////
                            16329 ; 528  |//! \brief
                            16330 ; 529  |//!
                            16331 ; 530  |//! \fntype Function
                            16332 ; 531  |//!
                            16333 ; 532  |//! Preload the list, prepare for renew.
                            16334 ; 533  |//! IsColdBoot=TRUE: loads the list content and the path name to the on_the_fly_list
                            16335 ; 534  |//! structure in RAM.
                            16336 ; 535  |//! IsColdBoot=FALSE: updates the path name only, to the on_the_fly_list structure
                            16337 ; 536  |//! in RAM.
                            16338 ; 537  |//!
                            16339 ; 538  |//! \param[in]  uint24 IsColdBoot - Possible values: TRUE or FALSE
                            16340 ; 539  |//!
                            16341 ; 540  |//! \return
                            16342 ; 541  |//!
                            16343 ; 542  |//! \note   Use IsColdBoot=TRUE only once when the machine boot-up, other
                            16344 ; 543  |//!         time when you need to renew the list, use IsColdBoot=FALSE instead.
                            16345 ; 544  |///////////////////////////////////////////////////////////////////////
                            16346 ; 545  |void ML_LoadOnTheGo(uint24 IsColdBoot);
                            16347 ; 546  |
                            16348 ; 547  |///////////////////////////////////////////////////////////////////////
                            16349 ; 548  |//! \brief
                            16350 ; 549  |//!
                            16351 ; 550  |//! \fntype Function
                            16352 ; 551  |//!
                            16353 ; 552  |//! Save the list to flash memory.
                            16354 ; 553  |//!
                            16355 ; 554  |//! \param[in]
                            16356 ; 555  |//!
                            16357 ; 556  |//! \return
                            16358 ; 557  |//!
                            16359 ; 558  |//! \note   It is recommended to save the list as soon as possible after it was
                            16360 ; 559  |//!         changed by the user.
                            16361 ; 560  |///////////////////////////////////////////////////////////////////////
                            16362 ; 561  |void ML_SaveOnTheGo(void);      /* call at shutdownmenu.c to save the list */
                            16363 ; 562  |
                            16364 ; 563  |///////////////////////////////////////////////////////////////////////
                            16365 ; 564  |//! \brief
                            16366 ; 565  |//!
                            16367 ; 566  |//! \fntype Function
                            16368 ; 567  |//! When the Music Lib is rebuilding, the path of each song is
                            16369 ; 568  |//! compared with the path stored in the on_the_fly_list structure, to decide if it was in the
                            16370 ; 569  |//! list before, if so the ID is replaced by the new songID, and the song is keep in the list.
                            16371 ; 570  |//! Otherwise the song is deleted.
                            16372 ; 571  |//!
                            16373 ; 572  |//! \param[in]  uint24 Media_type - Possible values: MEDIA_TYPE_FLASH(=0); MEDIA_TYPE_SD(=1)
                            16374 ; 573  |//! \param[in]  uint24 _X * temp_path - Input value, the path of song to be checked.
                            16375 ; 574  |//! \param[in]  uint24 newID - Input value, the new songID of the song.
                            16376 ; 575  |//!
                            16377 ; 576  |//! \return
                            16378 ; 577  |//!
                            16379 ; 578  |///////////////////////////////////////////////////////////////////////
                            16380 ; 579  |void ML_ChkOnTheGo(uint24 Media_type, uint24 _X * temp_path, uint24 newID);
                            16381 ; 580  |
                            16382 ; 581  |///////////////////////////////////////////////////////////////////////
                            16383 ; 582  |//! \brief
                            16384 ; 583  |//!
                            16385 ; 584  |//! \fntype Function
                            16386 ; 585  |//!
                            16387 ; 586  |//! Set a flag for all the songs of Media_type to be keep or delete
                            16388 ; 587  |//! in the ML_UpdateOnTheGo().
                            16389 ; 588  |//!
                            16390 ; 589  |//! \param[in]  uint24 Media_type - Possible values: MEDIA_TYPE_FLASH(=0); MEDIA_TYPE_SD(=1)
                            16391 ; 590  |//! \param[in]  uint24 value - Possible values: TRUE (song will be keep in the list); INDEX_EOF (song will be deleted)
                            16392 ; 591  |//!
                            16393 ; 592  |//! \return
                            16394 ; 593  |//!
                            16395 ; 594  |///////////////////////////////////////////////////////////////////////
                            16396 ; 595  |void ML_ChOnTheGo(uint24 Media_type, uint24 value);
                            16397 ; 596  |
                            16398 ; 597  |///////////////////////////////////////////////////////////////////////
                            16399 ; 598  |//! \brief
                            16400 ; 599  |//!
                            16401 ; 600  |//! \fntype Function
                            16402 ; 601  |//!
                            16403 ; 602  |//! Before the list can be browse, call this function to finalize the list.
                            16404 ; 603  |//!
                            16405 ; 604  |//! \param[in]  none
                            16406 ; 605  |//!
                            16407 ; 606  |//! \return
                            16408 ; 607  |//!
                            16409 ; 608  |///////////////////////////////////////////////////////////////////////
                            16410 ; 609  |void ML_UpdateOnTheGo(void);
                            16411 ; 610  |
                            16412 ; 611  |///////////////////////////////////////////////////////////////////////
                            16413 ; 612  |//! \brief
                            16414 ; 613  |//!
                            16415 ; 614  |//! \fntype Function
                            16416 ; 615  |//!
                            16417 ; 616  |//! Called by UI, to initialize the parameters before insert any item.
                            16418 ; 617  |//! Call only once before inserting items. Call once for each media.
                            16419 ; 618  |//!
                            16420 ; 619  |//! \param[in]  none
                            16421 ; 620  |//!
                            16422 ; 621  |//! \return
                            16423 ; 622  |//!
                            16424 ; 623  |///////////////////////////////////////////////////////////////////////
                            16425 ; 624  |void ML_InitVoiceParameter(void);
                            16426 ; 625  |
                            16427 ; 626  |///////////////////////////////////////////////////////////////////////
                            16428 ; 627  |//! \brief
                            16429 ; 628  |//!
                            16430 ; 629  |//! \fntype Function
                            16431 ; 630  |//!
                            16432 ; 631  |//! \param[in]
                            16433 ; 632  |//!
                            16434 ; 633  |//! \return
                            16435 ; 634  |//!
                            16436 ; 635  |///////////////////////////////////////////////////////////////////////
                            16437 ; 636  |void ML_LoadVoiceParameter(uint24 Rec_type);
                            16438 ; 637  |
                            16439 ; 638  |///////////////////////////////////////////////////////////////////////
                            16440 ; 639  |//! \brief
                            16441 ; 640  |//!
                            16442 ; 641  |//! \fntype Function
                            16443 ; 642  |//!
                            16444 ; 643  |//! Called by UI, the ML_AddEntryToVoice is the voice library
                            16445 ; 644  |//! building algorithms for the flash-type memory by sorting the voice files by file names.
                            16446 ; 645  |//! Called once for each voice file, the information is recorded in music library.
                            16447 ; 646  |//!
                            16448 ; 647  |//! \param[in]  uint24 Rec_type - Possible values: REC_VOICE_TYPE(=0); REC_FMREC_TYPE(=1)
                            16449 ; 648  |//! \param[in]  RAM_SONG_INFO_T *song_info - struct to store the song information passed from UI, this struct will be placed in ghdr\musiclib_ghdr.h and included in UI files
                            16450 ; 649  |//! \param[in]  uint24 action - option = 0 // always set zero
                            16451 ; 650  |//!
                            16452 ; 651  |//! \return
                            16453 ; 652  |//!
                            16454 ; 653  |///////////////////////////////////////////////////////////////////////
                            16455 ; 654  |void ML_AddEntryToVoice(uint24 Rec_type, RAM_SONG_INFO_T *song_info, uint24 action);
                            16456 ; 655  |
                            16457 ; 656  |///////////////////////////////////////////////////////////////////////
                            16458 ; 657  |//! \brief
                            16459 ; 658  |//!
                            16460 ; 659  |//! \fntype Function
                            16461 ; 660  |//!
                            16462 ; 661  |//! Called by UI, flush sorted and associate list to flash when no
                            16463 ; 662  |//! more voice needed to be added for that media. This function finalizes the voice building
                            16464 ; 663  |//! of music library for that particular media.
                            16465 ; 664  |//!
                            16466 ; 665  |//! \param[in]  uint24 Rec_type - Possible values: REC_VOICE_TYPE(=0); REC_FMREC_TYPE(=1)
                            16467 ; 666  |//!
                            16468 ; 667  |//! \return
                            16469 ; 668  |//!
                            16470 ; 669  |//! \note   Bulid the library first (call ML_AddEntryToVoice) before calling this
                            16471 ; 670  |//!         function.
                            16472 ; 671  |///////////////////////////////////////////////////////////////////////
                            16473 ; 672  |void ML_FlushVoiceToFlash(uint24 Rec_type);
                            16474 ; 673  |
                            16475 ; 674  |///////////////////////////////////////////////////////////////////////
                            16476 ; 675  |//! \brief
                            16477 ; 676  |//!
                            16478 ; 677  |//! \fntype Function
                            16479 ; 678  |//!
                            16480 ; 679  |//! Called by UI, the merge the music library tables album,
                            16481 ; 680  |//! artist, genre, song and year.
                            16482 ; 681  |//!
                            16483 ; 682  |//! \param[in]  none
                            16484 ; 683  |//!
                            16485 ; 684  |//! \return
                            16486 ; 685  |//!
                            16487 ; 686  |///////////////////////////////////////////////////////////////////////
                            16488 ; 687  |void ML_MergeLibraryTables(void);
                            16489 ; 688  |
                            16490 ; 689  |///////////////////////////////////////////////////////////////////////
                            16491 ; 690  |//! \brief
                            16492 ; 691  |//!
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page  66

M:ADDR CODE           CYCLES LINE SOURCELINE
                            16493 ; 692  |//! \fntype Function
                            16494 ; 693  |//!
                            16495 ; 694  |//! Called by UI, the merge the music library tables album,
                            16496 ; 695  |//! artist, genre, song and year.
                            16497 ; 696  |//!
                            16498 ; 697  |//! \param[in]  none
                            16499 ; 698  |//!
                            16500 ; 699  |//! \return
                            16501 ; 700  |//!
                            16502 ; 701  |///////////////////////////////////////////////////////////////////////
                            16503 ; 702  |INT _reentrant PathFormationPartial(_packed BYTE* dst, _packed BYTE* src, int iDepth);
                            16504 ; 703  |INT _reentrant PathFormation(_packed BYTE* dst, _packed BYTE* src, int iDepth);
                            16505 
                            16507 
                            16508 ; 704  |_reentrant void TrimUnicodeString(UCS3* pString);
                            16509 ; 705  |_reentrant void TrimPackedString(UCS3* pString);
                            16510 ; 706  |
                            16511 ; 707  |///////////////////////////////////////////////////////////////////////
                            16512 ; 708  |//! \brief
                            16513 ; 709  |//!
                            16514 ; 710  |//! \fntype Function
                            16515 ; 711  |//!
                            16516 ; 712  |//! \param[in]
                            16517 ; 713  |//!
                            16518 ; 714  |//! \return
                            16519 ; 715  |//!
                            16520 ; 716  |///////////////////////////////////////////////////////////////////////
                            16521 ; 717  |_reentrant void ML_FlushSortedListToFlash(uint24 u24MediaType);
                            16522 ; 718  |
                            16523 ; 719  |/*================================================================================================*/
                            16524 ; 720  |
                            16525 ; 721  |// Siukoon 2005-02-28
                            16526 ; 722  |#define MUSICLIB_STDRIVE_NUMBER     (0)
                            16527 ; 723  |#ifdef _SUPPORT_2000_SONGS_
                            16528 ; 724  |#define MUSICLIB_FILESIZE_IN_BYTE   (4194304L*2) // (SINGLE_DATABASE_SIZE*BYTE_PER_SECTOR)*2
                            16529 ; 725  |#else
                            16530 ; 726  |#define MUSICLIB_FILESIZE_IN_BYTE   (2097152L*2) // (SINGLE_DATABASE_SIZE*BYTE_PER_SECTOR)*2
                            16531 ; 727  |#endif  // _SUPPORT_2000_SONGS_
                            16532 ; 728  |#define MUSICLIB_FLASHPART_FILESIZE_IN_BYTE   (MUSICLIB_FILESIZE_IN_BYTE/2)
                            16533 ; 729  |#define WORD_PER_SECTOR             (171)
                            16534 ; 730  |#define BYTE_PER_SECTOR             (512)
                            16535 ; 731  |#define MUSICLIB_FILESIZE_IN_SECTOR (MUSICLIB_FILESIZE_IN_BYTE/BYTE_PER_SECTOR)
                            16536 ; 732  |#define MUSICLIB_FLASHPART_FILESIZE_IN_SECTOR (MUSICLIB_FLASHPART_FILESIZE_IN_BYTE/BYTE_PER_SECTOR)
                            16537 ; 733  |
                            16538 ; 734  |#define LB_BYTE_PER_SECTOR          (2048)
                            16539 ; 735  |#define LB_MUSICLIB_FILESIZE_IN_SECTOR (MUSICLIB_FILESIZE_IN_BYTE/LB_BYTE_PER_SECTOR)
                            16540 ; 736  |#define LB_MUSICLIB_FLASHPART_FILESIZE_IN_SECTOR (MUSICLIB_FLASHPART_FILESIZE_IN_BYTE/LB_BYTE_PER_SECTOR)
                            16541 ; 737  |
                            16542 ; 738  |#define MUSICLIB_FAT_ERROR_NOT_ENOUGH_MEDIA_SPACE       1
                            16543 ; 739  |#define MUSICLIB_FAT_ERROR_CREATE_FILE                  2
                            16544 ; 740  |#define MUSICLIB_FAT_ERROR_DELETE_FILE                  3
                            16545 ; 741  |#define MUSICLIB_FAT_ERROR_OPEN_FILE                    4
                            16546 ; 742  |
                            16547 ; 743  |/////////////////////
                            16548 ; 744  |
                            16549 ; 745  |#define LONG_SIZE_IN_BYTE                               (6)
                            16550 ; 746  |
                            16551 ; 747  |#ifdef _SUPPORT_2000_SONGS_
                            16552 ; 748  |#define SEC_TABLE_SIZE_IN_LONG                  (16384) // DATABASE_SIZE
                            16553 ; 749  |#else
                            16554 ; 750  |#define SEC_TABLE_SIZE_IN_LONG                  (8192)  // DATABASE_SIZE
                            16555 ; 751  |#endif // _SUPPORT_2000_SONGS_
                            16556 ; 752  |#define SEC_TABLE_SIZE_IN_BYTE                  (SEC_TABLE_SIZE_IN_LONG*LONG_SIZE_IN_BYTE)
                            16557 ; 753  |
                            16558 ; 754  |#define SEC_TABLE_FLASHPART_SIZE_IN_LONG        (SEC_TABLE_SIZE_IN_LONG/2)
                            16559 ; 755  |#define SEC_TABLE_FLASHPART_SIZE_IN_BYTE        (SEC_TABLE_SIZE_IN_BYTE/2)
                            16560 ; 756  |
                            16561 ; 757  |#define NUM_OF_LONG_PER_512SEC          (85)    // 512/6=>85
                            16562 ; 758  |#ifdef _SUPPORT_2000_SONGS_
                            16563 ; 759  |#define NUM_OF_LEVEL2_SEC                               (194)   /* 97x2 */
                            16564 ; 760  |#define NUM_OF_LEVEL2_FLASHPART_SEC             (97)    /* 8192/85 */
                            16565 ; 761  |#else
                            16566 ; 762  |#define NUM_OF_LEVEL2_SEC                               (98)    /* 49x2 */
                            16567 ; 763  |#define NUM_OF_LEVEL2_FLASHPART_SEC             (49)    /* 4096/85 */
                            16568 ; 764  |#endif // _SUPPORT_2000_SONGS_
                            16569 ; 765  |#define LEVEL2_TABLE_SIZE                               (NUM_OF_LEVEL2_SEC*2)
                            16570 ; 766  |#define SEC_TABLE_FLASH_START_SEC               (0x00)
                            16571 ; 767  |#define SEC_TABLE_SD_START_SEC                  (NUM_OF_LEVEL2_FLASHPART_SEC)
                            16572 ; 768  |
                            16573 ; 769  |#define SEC_TABLE_FILESIZE_IN_BYTE              (BYTE_PER_SECTOR*NUM_OF_LEVEL2_SEC)
                            16574 ; 770  |#ifdef _SUPPORT_2000_SONGS_
                            16575 ; 771  |#define BYTE_FILL_INTERDB_GAP                   (320)   // 512-((8192-(85*96))*6)
                            16576 ; 772  |#else
                            16577 ; 773  |#define BYTE_FILL_INTERDB_GAP                   (((NUM_OF_LEVEL2_FLASHPART_SEC*NUM_OF_LONG_PER_512SEC)-SEC_TABLE_FLASHPART_SIZE_IN_LONG)*LONG_SIZE_IN_BYTE+2)
                            16578 ; 774  |#endif  // _SUPPORT_2000_SONGS_
                            16579 ; 775  |
                            16580 ; 776  |#define LB_SEC_TABLE_SIZE_IN_LONG                       (LB_MUSICLIB_FILESIZE_IN_SECTOR)
                            16581 ; 777  |#define LB_SEC_TABLE_SIZE_IN_BYTE                       (LB_SEC_TABLE_SIZE_IN_LONG*LONG_SIZE_IN_BYTE)
                            16582 ; 778  |
                            16583 ; 779  |#define LB_SEC_TABLE_FLASHPART_SIZE_IN_LONG     (LB_SEC_TABLE_SIZE_IN_LONG/2)
                            16584 ; 780  |#define LB_SEC_TABLE_FLASHPART_SIZE_IN_BYTE     (LB_SEC_TABLE_SIZE_IN_BYTE/2)
                            16585 ; 781  |
                            16586 ; 782  |#define NUM_OF_LONG_PER_2048SEC                     (341)   // 2048/6=>341
                            16587 ; 783  |#ifdef _SUPPORT_2000_SONGS_
                            16588 ; 784  |#define NUM_OF_LEVEL2_2048SEC                           (49)    // 16384/341=>49
                            16589 ; 785  |#define NUM_OF_LEVEL2_FLASHPART_2048SEC         (25)    /* 8192/341=>25 */
                            16590 ; 786  |#else
                            16591 ; 787  |#define NUM_OF_LEVEL2_2048SEC                           (25)    // 8192/341=>25
                            16592 ; 788  |#define NUM_OF_LEVEL2_FLASHPART_2048SEC         (13)    /* 4096/341=>13 */
                            16593 ; 789  |#endif // _SUPPORT_2000_SONGS_
                            16594 ; 790  |
                            16595 ; 791  |#ifdef _SUPPORT_2000_SONGS_
                            16596 ; 792  |#define BYTE_FILL_INTERDB_GAP_2048                      (2000)  // 2048-((8192-(341*24))*6)
                            16597 ; 793  |#define BYTE_FILL_INTERDB_2ND_GAP_2048      (2532)  // 99328-96796
                            16598 ; 794  |#else
                            16599 ; 795  |#define BYTE_FILL_INTERDB_GAP_2048                      (((341-4)*6)+2) //2024
                            16600 ; 796  |#define BYTE_FILL_INTERDB_2ND_GAP_2048      (2556)  // 50176-47620
                            16601 ; 797  |#endif // _SUPPORT_2000_SONGS_
                            16602 ; 798  |
                            16603 ; 799  |#ifdef __cplusplus
                            16604 ; 800  |}
                            16605 ; 801  |#endif
                            16606 ; 802  |
                            16607 ; 803  |#endif  /* MUSICLIB_GHDR_H */
                            16608 
                            16610 
                            16611 ; 6    |#endif  // USE_PLAYLIST3
                            16612 ; 7    |
                            16613 ; 8    |#ifndef QUICK_SWITCH_TIMEOUT_TIME
                            16614 ; 9    |// change from 500ms t0 400ms  to reduce inter-song delay by 0.1 sec (8-11-2005)
                            16615 ; 10   |#define QUICK_SWITCH_TIMEOUT_TIME 400   
                            16616 ; 11   |#endif
                            16617 ; 12   |
                            16618 ; 13   |//These are in the DecoderSR/DecoderCSR
                            16619 ; 14   |#define DECODER_VBRFlag         1<<1
                            16620 ; 15   |#define DECODER_PAUSED          1<<5
                            16621 ; 16   |#define DECODER_STOPPED         1<<6
                            16622 ; 17   |#define DECODER_SYNCED          1<<10
                            16623 ; 18   |#define DECODER_PLAYING         1<<12
                            16624 ; 19   |#define DECODER_END_OF_SONG     1<<13           // in DecoderCSR
                            16625 ; 20   |#define DECODER_SONG_INFO       1<<15
                            16626 ; 21   |#define DECODER_FILE_IS_OPEN    1<<16
                            16627 ; 22   |#define DECODER_A_SET           1<<18
                            16628 ; 23   |#define DECODER_B_SET           1<<19
                            16629 ; 24   |#define DECODER_BAD_FILE        1<<21
                            16630 ; 25   |#define DECODER_LOOKING_FOR_SYNC 1<<22
                            16631 ; 26   |
                            16632 ; 27   |#define SEEK_NONE 0
                            16633 ; 28   |#define SEEK_FFWD 1
                            16634 ; 29   |#define SEEK_RWND -1
                            16635 ; 30   |
                            16636 ; 31   |extern _X int g_iSeeking;
                            16637 ; 32   |extern _X INT g_iPlayerState;
                            16638 ; 33   |
                            16639 ; 34   |#ifdef USE_PLAYLIST3
                            16640 ; 35   |extern BOOL bSystemInit;
                            16641 ; 36   |extern uint24   g_is_SD_inserted;
                            16642 ; 37   |extern BOOL bResume;
                            16643 ; 38   |#endif  // USE_PLAYLIST3
                            16644 ; 39   |
                            16645 ; 40   |#ifdef USE_PLAYLIST3
                            16646 ; 41   |void _reentrant ML_browsing_app_init(void);
                            16647 ; 42   |#endif  // USE_PLAYLIST3
                            16648 ; 43   |
                            16649 ; 44   |#endif
                            16650 
                            16652 
                            16653 ; 14   |#include "menus.h"
                            16654 
                            16656 
                            16657 ; 1    |#ifndef _MENU_H
                            16658 ; 2    |#define _MENU_H
                            16659 ; 3    |
                            16660 ; 4    |#include "types.h"
                            16661 
                            16663 
                            16664 ; 1    |////////////////////////////////////////////////////////////////////////////////
                            16665 ; 2    |// Copyright(C) SigmaTel, Inc. 2000-2004
                            16666 ; 3    |//
                            16667 ; 4    |// Filename: types.h
                            16668 ; 5    |// Description: Standard data types
                            16669 ; 6    |////////////////////////////////////////////////////////////////////////////////
                            16670 ; 7    |
                            16671 ; 8    |#ifndef _TYPES_H
                            16672 ; 9    |#define _TYPES_H
                            16673 ; 10   |
                            16674 ; 11   |// TODO:  move this outta here!
                            16675 ; 12   |#if !defined(NOERROR)
                            16676 ; 13   |#define NOERROR 0
                            16677 ; 14   |#define SUCCESS 0
                            16678 ; 15   |#endif 
                            16679 ; 16   |#if !defined(SUCCESS)
                            16680 ; 17   |#define SUCCESS  0
                            16681 ; 18   |#endif
                            16682 ; 19   |#if !defined(ERROR)
                            16683 ; 20   |#define ERROR   -1
                            16684 ; 21   |#endif
                            16685 ; 22   |#if !defined(FALSE)
                            16686 ; 23   |#define FALSE 0
                            16687 ; 24   |#endif
                            16688 ; 25   |#if !defined(TRUE)
                            16689 ; 26   |#define TRUE  1
                            16690 ; 27   |#endif
                            16691 ; 28   |
                            16692 ; 29   |#if !defined(NULL)
                            16693 ; 30   |#define NULL 0
                            16694 ; 31   |#endif
                            16695 ; 32   |
                            16696 ; 33   |#define MAX_INT     0x7FFFFF
                            16697 ; 34   |#define MAX_LONG    0x7FFFFFffffff
                            16698 ; 35   |        // max positive unsigned long value: -1 == 0xFFFFFFffffff
                            16699 ; 36   |#define MAX_ULONG   (-1) 
                            16700 ; 37   |
                            16701 ; 38   |#define WORD_SIZE   24              // word size in bits
                            16702 ; 39   |#define BYTES_PER_WORD 3            // 8 bit bytes
                            16703 ; 40   |
                            16704 ; 41   |
                            16705 ; 42   |#define BYTE    unsigned char       // btVarName
                            16706 ; 43   |#define CHAR    signed char         // cVarName
                            16707 ; 44   |#define USHORT  unsigned short      // usVarName
                            16708 ; 45   |#define SHORT   unsigned short      // sVarName
                            16709 ; 46   |#define WORD    unsigned int        // wVarName
                            16710 ; 47   |#define INT     signed int          // iVarName
                            16711 ; 48   |#define DWORD   unsigned long       // dwVarName
                            16712 ; 49   |#define LONG    signed long         // lVarName
                            16713 ; 50   |#define BOOL    unsigned int        // bVarName
                            16714 ; 51   |#define FRACT   _fract              // frVarName
                            16715 ; 52   |#define LFRACT  long _fract         // lfrVarName
                            16716 ; 53   |#define CIRC    _circ               // cp<type prefix>VarName (see below)
                            16717 ; 54   |#define FLOAT   float               // fVarName
                            16718 ; 55   |#define DBL     double              // dVarName
                            16719 ; 56   |#define ENUM    enum                // eVarName
                            16720 ; 57   |#define CMX     _complex            // cmxVarName
                            16721 ; 58   |typedef WORD UCS3;                   // 
                            16722 ; 59   |
                            16723 ; 60   |#define UINT16  unsigned short
                            16724 ; 61   |#define UINT8   unsigned char   
                            16725 ; 62   |#define UINT32  unsigned long
                            16726 ; 63   |#define UINT64  unsigned long   // need to figure out how to do 64 bit values.  Or port exisiting code to only use 48 bit
                            16727 ; 64   |#define INT64   unsigned long   // need to figure out how to do 64 bit values.  Or port exisiting code to only use 48 bit
                            16728 ; 65   |#define WCHAR   UINT16
                            16729 ; 66   |
                            16730 ; 67   |//UINT128 is 16 bytes or 6 words
                            16731 ; 68   |typedef struct UINT128_3500 {   
                            16732 ; 69   |    int val[6];     
                            16733 ; 70   |} UINT128_3500;
                            16734 ; 71   |
                            16735 ; 72   |#define UINT128   UINT128_3500
                            16736 ; 73   |
                            16737 ; 74   |// Little endian word packed byte strings:   
                            16738 ; 75   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                            16739 ; 76   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                            16740 ; 77   |// Little endian word packed byte strings:   
                            16741 ; 78   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                            16742 ; 79   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                            16743 ; 80   |
                            16744 ; 81   |// Declare Memory Spaces To Use When Coding
                            16745 ; 82   |// A. Sector Buffers
                            16746 ; 83   |#define SECTOR_BUFFER_MEM_X _X
                            16747 ; 84   |#define SECTOR_BUFFER_MEM_Y _Y
                            16748 ; 85   |#define SECTOR_BUFFER_MEM SECTOR_BUFFER_MEM_X
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page  67

M:ADDR CODE           CYCLES LINE SOURCELINE
                            16749 ; 86   |typedef WORD SECTOR_BUFFER_MEM SECTOR_BUFFER;
                            16750 ; 87   |typedef SECTOR_BUFFER * P_SECTOR_BUFFER;
                            16751 ; 88   |// B. Media DDI Memory
                            16752 ; 89   |#define MEDIA_DDI_MEM _Y
                            16753 ; 90   |
                            16754 ; 91   |
                            16755 ; 92   |
                            16756 ; 93   |// Pointers to linear structures are labeled as: p<type prefix>VarName
                            16757 ; 94   |// Examples of circular pointers:
                            16758 ; 95   |//    INT CIRC cpiVarName
                            16759 ; 96   |//    DWORD CIRC cpdwVarName
                            16760 ; 97   |
                            16761 ; 98   |#define RETCODE INT                 // rcVarName
                            16762 ; 99   |
                            16763 ; 100  |// generic bitfield structure
                            16764 ; 101  |struct Bitfield {
                            16765 ; 102  |    unsigned int B0  :1;
                            16766 ; 103  |    unsigned int B1  :1;
                            16767 ; 104  |    unsigned int B2  :1;
                            16768 ; 105  |    unsigned int B3  :1;
                            16769 ; 106  |    unsigned int B4  :1;
                            16770 ; 107  |    unsigned int B5  :1;
                            16771 ; 108  |    unsigned int B6  :1;
                            16772 ; 109  |    unsigned int B7  :1;
                            16773 ; 110  |    unsigned int B8  :1;
                            16774 ; 111  |    unsigned int B9  :1;
                            16775 ; 112  |    unsigned int B10 :1;
                            16776 ; 113  |    unsigned int B11 :1;
                            16777 ; 114  |    unsigned int B12 :1;
                            16778 ; 115  |    unsigned int B13 :1;
                            16779 ; 116  |    unsigned int B14 :1;
                            16780 ; 117  |    unsigned int B15 :1;
                            16781 ; 118  |    unsigned int B16 :1;
                            16782 ; 119  |    unsigned int B17 :1;
                            16783 ; 120  |    unsigned int B18 :1;
                            16784 ; 121  |    unsigned int B19 :1;
                            16785 ; 122  |    unsigned int B20 :1;
                            16786 ; 123  |    unsigned int B21 :1;
                            16787 ; 124  |    unsigned int B22 :1;
                            16788 ; 125  |    unsigned int B23 :1;
                            16789 ; 126  |};
                            16790 ; 127  |
                            16791 ; 128  |union BitInt {
                            16792 ; 129  |        struct Bitfield B;
                            16793 ; 130  |        int        I;
                            16794 ; 131  |};
                            16795 ; 132  |
                            16796 ; 133  |#define MAX_MSG_LENGTH 10
                            16797 ; 134  |struct CMessage
                            16798 ; 135  |{
                            16799 ; 136  |        unsigned int m_uLength;
                            16800 ; 137  |        unsigned int m_uMsg[MAX_MSG_LENGTH];
                            16801 ; 138  |};
                            16802 ; 139  |
                            16803 ; 140  |typedef struct {
                            16804 ; 141  |    WORD m_wLength;
                            16805 ; 142  |    WORD m_wMessage;
                            16806 ; 143  |    WORD m_wParams[MAX_MSG_LENGTH];
                            16807 ; 144  |} Message;
                            16808 ; 145  |
                            16809 ; 146  |struct MessageQueueDescriptor
                            16810 ; 147  |{
                            16811 ; 148  |        int *m_pBase;
                            16812 ; 149  |        int m_iModulo;
                            16813 ; 150  |        int m_iSize;
                            16814 ; 151  |        int *m_pHead;
                            16815 ; 152  |        int *m_pTail;
                            16816 ; 153  |};
                            16817 ; 154  |
                            16818 ; 155  |struct ModuleEntry
                            16819 ; 156  |{
                            16820 ; 157  |    int m_iSignaledEventMask;
                            16821 ; 158  |    int m_iWaitEventMask;
                            16822 ; 159  |    int m_iResourceOfCode;
                            16823 ; 160  |    struct MessageQueueDescriptor *m_pMessageQueue;
                            16824 ; 161  |    int _asmfunc (*m_pProcessEntryPoint)(union WaitMask Signals,struct MessageQueueDescriptor *);
                            16825 ; 162  |    int _asmfunc (*m_pInitFunction)(struct MessageQueueDescriptor *);
                            16826 ; 163  |    int m_uTimeOutHigh;
                            16827 ; 164  |    int m_uTimeOutLow;
                            16828 ; 165  |    int _asmfunc (*m_pBackgroundFunction)(struct MessageQueueDescriptor *);
                            16829 ; 166  |};
                            16830 ; 167  |
                            16831 ; 168  |union WaitMask{
                            16832 ; 169  |    struct B{
                            16833 ; 170  |        unsigned int m_bNone     :1;
                            16834 ; 171  |        unsigned int m_bMessage  :1;
                            16835 ; 172  |        unsigned int m_bTimer    :1;
                            16836 ; 173  |        unsigned int m_bButton   :1;
                            16837 ; 174  |    } B;
                            16838 ; 175  |    int I;
                            16839 ; 176  |} ;
                            16840 ; 177  |
                            16841 ; 178  |
                            16842 ; 179  |struct Button {
                            16843 ; 180  |        WORD wButtonEvent;
                            16844 ; 181  |        WORD wUnused[MAX_MSG_LENGTH];   
                            16845 ; 182  |};
                            16846 ; 183  |
                            16847 ; 184  |struct Message {
                            16848 ; 185  |        WORD wMsgLength;
                            16849 ; 186  |        WORD wMsgCommand;
                            16850 ; 187  |        WORD wMsgParms[MAX_MSG_LENGTH-1];
                            16851 ; 188  |};
                            16852 ; 189  |
                            16853 ; 190  |union EventTypes {
                            16854 ; 191  |        struct CMessage msg;
                            16855 ; 192  |        struct Button Button ;
                            16856 ; 193  |        struct Message Message;
                            16857 ; 194  |};
                            16858 ; 195  |
                            16859 ; 196  |// next 2 used to get updater build to return correct protocol ver in scsi response.
                            16860 ; 197  |#define BUILD_TYPE_UPDATER  0x100
                            16861 ; 198  |#define BUILD_TYPE_HOSTLINK 0x101
                            16862 ; 199  |#define BUILD_TYPE_PLAYER   0x102
                            16863 ; 200  |
                            16864 ; 201  |// Resets part if RETAIL build. DEBUG build executes debug instruction to halt.
                            16865 ; 202  |#define SystemHalt() __asm(" include 'sysmacro.asm' \n error") 
                            16866 ; 203  |#define assert(x)    if(!(x)) __asm(" include 'sysmacro.asm' \n error")
                            16867 ; 204  |
                            16868 ; 205  |#if DEBUG
                            16869 ; 206  |// For DEBUG builds, DebugBuildAssert(condition) halts if condition evaluates to FALSE. 
                            16870 ; 207  |#define DebugBuildAssert(x)    if(!(x)) __asm(" debug ")
                            16871 ; 208  |#else 
                            16872 ; 209  |// For RETAIL builds, DebugBuildAssert(condition) does nothing & execution continues rather than halt or reset. 
                            16873 ; 210  |#define DebugBuildAssert(x)    
                            16874 ; 211  |#endif
                            16875 ; 212  |
                            16876 ; 213  |// Do this in your C files to make a reminder that's displayed during the build.
                            16877 ; 214  |//  #pragma asm
                            16878 ; 215  |//  WARN 'Note to builder: reminder to do this after verifying that'
                            16879 ; 216  |//  #pragma endasm
                            16880 ; 217  |
                            16881 ; 218  |
                            16882 ; 219  |#ifdef COLOR_262K
                            16883 ; 220  |#define RGB(r,g,b)    ((0x0000FC & (r)) << 10) | ((0x0000FC & (g)) << 4) | ((0x0000FC & (b)) >> 2)    //262k
                            16884 ; 221  |#elif defined(COLOR_65K)
                            16885 ; 222  |#define RGB(r,g,b)    ((0x0000F8 & (r)) << 8) | ((0x0000FC & (g)) << 3) | ((0x0000F8 & (b)) >> 3)  //65k
                            16886 ; 223  |#else
                            16887 ; 224  |#define RGB(r,g,b)       ((0x0000F0 & (r)) << 4) | (0x0000F0 & (g)) | ((0x0000F0 & (b)) >> 4)
                            16888 ; 225  |#endif
                            16889 ; 226  |    
                            16890 ; 227  |#endif // #ifndef _TYPES_H
                            16891 
                            16893 
                            16894 ; 5    |
                            16895 ; 6    |#define TIMER_ANIMATE           0
                            16896 ; 7    |#define TIMER_AUTO_SHUTDOWN     1
                            16897 ; 8    |#define TIMER_BATT_CHK          2
                            16898 ; 9    |#define TIMER_SONG_CHANGE       3
                            16899 ; 10   |#define TIMER_TUNER                             4
                            16900 ; 11   |#define TIMER_BACKLIGHT                 5
                            16901 ; 12   |#define TIMER_FFRWND                6
                            16902 ; 13   |#define TIMER_BATTERY_CHARGER   7
                            16903 ; 14   |#define TIMER_TIMEDATE                  8
                            16904 ; 15   |#define TIMER_JPEG_DECODER_CALLBACK 6 //shared with TIMER_FFRWND since they won't use together
                            16905 ; 16   |#define TIMER_APIC_UPDATE               9
                            16906 ; 17   |
                            16907 ; 18   |#define MENU_MSG_ANIMATE            MENU_LAST_MSG_ID+1
                            16908 ; 19   |#define MENU_MSG_AUTOSHUTDOWN       MENU_LAST_MSG_ID+2
                            16909 ; 20   |#define MENU_SONG_CHANGE_TIMEOUT    MENU_LAST_MSG_ID+3
                            16910 ; 21   |#define MENU_TUNER_READY                        MENU_LAST_MSG_ID+4
                            16911 ; 22   |#define MENU_MSG_TURN_OFF_BACKLIGHT MENU_LAST_MSG_ID+5
                            16912 ; 23   |#define MENU_MSG_SEND_FF            MENU_LAST_MSG_ID+6
                            16913 ; 24   |#define MENU_MSG_SEND_RWND          MENU_LAST_MSG_ID+7
                            16914 ; 25   |#define MENU_BATTERY_CHARGER_TIMEOUT  MENU_LAST_MSG_ID+8
                            16915 ; 26   |#define MENU_MSG_REFRESH_TIMEDATE       MENU_LAST_MSG_ID+9
                            16916 ; 27   |#ifdef USE_PLAYLIST3
                            16917 ; 28   |#define MENU_PAGE_ITEM_COUNT    (4)
                            16918 ; 29   |#define MENU_ITEM_HEIGHT                (8)
                            16919 ; 30   |#define MENU_ITEM_X_OFFSET      (0)
                            16920 ; 31   |#define MENU_ITEM_Y_OFFSET      (16)
                            16921 ; 32   |
                            16922 ; 33   |#define PLAYLIST_ENABLE         (0)
                            16923 ; 34   |#endif
                            16924 ; 35   |#define ANIMATE_PERIOD          (100)
                            16925 ; 36   |#define MENU_MSG_JPEG_CALLBACK            MENU_LAST_MSG_ID+10
                            16926 ; 37   |#define MENU_JPEG_THUMBNAIL_CURSOR  MENU_LAST_MSG_ID+11
                            16927 ; 38   |#define MENU_JPEG_NEXT_PICTURE          MENU_LAST_MSG_ID+12
                            16928 ; 39   |#define MENU_MSG_APIC_UPDATE            MENU_LAST_MSG_ID+13
                            16929 ; 40   |#ifdef USE_PLAYLIST5
                            16930 ; 41   |#define MENU_MSG_PL5_PLAY_SONG          MENU_LAST_MSG_ID+14
                            16931 ; 42   |#endif
                            16932 ; 43   |
                            16933 ; 44   |#define MENU_BATTERY_CHARGER_TIMEOUT  MENU_LAST_MSG_ID+8
                            16934 ; 45   |#define FILE_NAME_BUFFER_SIZE  7
                            16935 ; 46   |#define TIMER_JPEG_DECODER_TIMEOUT_MS 5
                            16936 ; 47   |
                            16937 ; 48   |// used with shutdown menu
                            16938 ; 49   |// FORCESHUTDOWN does not allow abort
                            16939 ; 50   |// USERSHUTDOWN allows user abort if PH_STOP is not held long enough
                            16940 ; 51   |#define FORCESHUTDOWN                   TRUE
                            16941 ; 52   |#define USERSHUTDOWN                    FALSE
                            16942 ; 53   |
                            16943 ; 54   |// if low battery display low battery message
                            16944 ; 55   |#define LOWBATT                                 TRUE
                            16945 ; 56   |#define REGBATT                                 FALSE
                            16946 ; 57   |
                            16947 ; 58   |//Backlight Define Statements
                            16948 ; 59   |#ifdef CLCD
                            16949 ; 60   |#ifdef CLCD_16BIT
                            16950 ; 61   |#define BACKLIGHT_CONTROL_REGISTER              HW_PWM_CH0AR.I
                            16951 ; 62   |#define BACKLIGHT_CONTROL_REGISTER_ENABLE       HW_GP0ENR.B.B9  //PWM2
                            16952 ; 63   |#define BACKLIGHT_CONTROL_REGISTER_DIRECTION    HW_GP0DOER.B.B9
                            16953 ; 64   |#define BACKLIGHT_ON                            0x06C000
                            16954 ; 65   |#define BACKLIGHT_OFF                           0x024000
                            16955 ; 66   |#else
                            16956 ; 67   |#define BACKLIGHT_CONTROL_REGISTER              HW_PWM_CH2AR.I
                            16957 ; 68   |#define BACKLIGHT_CONTROL_REGISTER_ENABLE       HW_GP0ENR.B.B9  //PWM2
                            16958 ; 69   |#define BACKLIGHT_CONTROL_REGISTER_DIRECTION    HW_GP0DOER.B.B9
                            16959 ; 70   |#define BACKLIGHT_ON                            0x006000
                            16960 ; 71   |#define BACKLIGHT_OFF                           0x002000
                            16961 ; 72   |#endif
                            16962 ; 73   |#else
                            16963 ; 74   |#define BACKLIGHT_CONTROL_REGISTER              HW_GP0DOR.B.B9
                            16964 ; 75   |#define BACKLIGHT_CONTROL_REGISTER_ENABLE       HW_GP0ENR.B.B9
                            16965 ; 76   |#define BACKLIGHT_CONTROL_REGISTER_DIRECTION    HW_GP0DOER.B.B9
                            16966 ; 77   |#define BACKLIGHT_ON                            TRUE
                            16967 ; 78   |#define BACKLIGHT_OFF                           FALSE
                            16968 ; 79   |#endif
                            16969 ; 80   |#define BACKLIGHT_TIME                                          5000            //5 seconds
                            16970 ; 81   |
                            16971 ; 82   |// used with NextEQ / NextPlayMode to indicate direction
                            16972 ; 83   |#define INCREMENT 1
                            16973 ; 84   |#define DECREMENT 0
                            16974 ; 85   |
                            16975 ; 86   |//These two sit outside the boundary of MENU_FIRST and MENU_LAST simply because they're
                            16976 ; 87   |//states that aren't included in the displayed list.
                            16977 ; 88   |#define MENU_EXIT       101
                            16978 ; 89   |#define MENU_MAIN       100
                            16979 ; 90   |
                            16980 ; 91   |// menu flags
                            16981 ; 92   |#define MENU_FLAG_POWER_DOWN_ENABLED    B0      // when clear, disable tracking
                            16982 ; 93   |#define MENU_FLAG_ESCAPE_TO_MUSIC               B1      // when set, escape all menu nesting to music
                            16983 ; 94   |#define MENU_FLAG_SAVE_CHANGES          B2  // true if fast escape interrupted by save changes?
                            16984 ; 95   |#if (defined USE_PLAYLIST3) || (defined USE_PLAYLIST5)
                            16985 ; 96   |#define MENU_FLAG_ESCAPE_TO_RECORD              B2      // when set, escape all menu nesting to voice/fm menu and start recording
                            16986 ; 97   |#define MENU_FLAG_RETURN_TO_MUSIC               B3      // when set, escape all menu nesting to music
                            16987 ; 98   |#endif
                            16988 ; 99   |
                            16989 ; 100  |#define LANGUAGES_ENG   0
                            16990 ; 101  |#define LANGUAGES_VIE   1
                            16991 ; 102  |#define LANGUAGES_FIRST LANGUAGES_ENG
                            16992 ; 103  |#define LANGUAGES_LAST          LANGUAGES_VIE
                            16993 ; 104  |
                            16994 ; 105  |// 1 word menu variable -- bit flags
                            16995 ; 106  |extern struct Bitfield g_MenuFlags;
                            16996 ; 107  |
                            16997 ; 108  |// This data type is declared in mainmenu.c, but is externed here for all other menus.
                            16998 ; 109  |extern union EventTypes gEventInfo;
                            16999 ; 110  |
                            17000 ; 111  |//each menu should set g_iCurrentMenu to make sure the menu icon shows up correctly.
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page  68

M:ADDR CODE           CYCLES LINE SOURCELINE
                            17001 ; 112  |extern INT g_iCurrentMenu;
                            17002 ; 113  |
                            17003 ; 114  |//Backlight State
                            17004 ; 115  |extern INT g_iBackLightState;
                            17005 ; 116  |
                            17006 ; 117  |//Language state
                            17007 ; 118  |extern INT g_iLanguage;
                            17008 ; 119  |
                            17009 ; 120  |//Export all Menu prototypes for calls allowed from other code banks
                            17010 ; 121  |void _reentrant UserTask(int a, int b, int *pPtr);
                            17011 ; 122  |_reentrant INT ShutdownMenu( INT iIgnored1, INT iIgnored2, INT *pPtr);
                            17012 ; 123  |_reentrant INT SplashScreen( INT iResource, INT iMilliseconds, INT *pPtr);
                            17013 ; 124  |int _reentrant MusicMenu(INT a, INT b, INT *c);
                            17014 ; 125  |#ifdef USE_PLAYLIST3
                            17015 ; 126  |int _reentrant PlayMusicMenu(INT a, INT b, INT *c);
                            17016 ; 127  |int _reentrant NewMusicMenu(INT a, INT b, INT *c);
                            17017 ; 128  |int _reentrant BrowseMenu(INT a, INT b, INT *c);
                            17018 ; 129  |#endif // #ifdef USE_PLAYLIST3
                            17019 ; 130  |#ifdef MOTION_VIDEO
                            17020 ; 131  |int _reentrant MotionVideoMenu(INT a, INT b, INT *c);
                            17021 ; 132  |#endif
                            17022 ; 133  |#ifdef JPEG_APP
                            17023 ; 134  |int _reentrant JpegDisplayMenu(int a, int b, int *pPtr);
                            17024 ; 135  |int _reentrant JpegManualMenu(int a, int b, int *pPtr);
                            17025 ; 136  |int _reentrant JpegSlideshowMenu(int a, int b, int *pPtr);
                            17026 ; 137  |int _reentrant JpegThumbnailMenu(int a, int b, int *pPtr);
                            17027 ; 138  |#endif
                            17028 ; 139  |int _reentrant SpectrogramMenu(INT a, INT b, INT *pPtr);
                            17029 ; 140  |int _reentrant VoiceMenu(int a, int b, int *c);
                            17030 ; 141  |int _reentrant SettingsMenu(int a, int b, int *pPtr);
                            17031 ; 142  |int _reentrant EqMenu(int a, int b, int *pPtr);
                            17032 ; 143  |int _reentrant SendEQ(int iCurrentEQ, int b, int *pPtr);
                            17033 ; 144  |
                            17034 ; 145  |int _reentrant PlayModeMenu(int a, int b, int *pPtr);
                            17035 ; 146  |int _reentrant NextPlayMode(int iDirection, int b, int *c);
                            17036 ; 147  |int _reentrant ContrastMenu(int a, int b, int *pPtr);
                            17037 ; 148  |int _reentrant AboutMenu(int a, int b, int *pPtr);
                            17038 ; 149  |#ifdef USE_PLAYLIST5
                            17039 ; 150  |int _reentrant BrowseMenu(INT a, INT b, INT *c);
                            17040 ; 151  |#endif
                            17041 ; 152  |int _reentrant DeleteMenu(int a, int b, int *pPtr);
                            17042 ; 153  |int _reentrant PwrSavingsMenu(int a, int b, int *pPtr);
                            17043 ; 154  |int _reentrant BackLightMenu(int a, int b, int *pPtr);
                            17044 ; 155  |int _reentrant RecordSettingsMenu(int a, int b, int *pPtr);
                            17045 ; 156  |int _reentrant TimeDateMenu(int a, int b, int *pPtr);
                            17046 ; 157  |int _reentrant SetTimeMenu(int a, int b, int *pPtr);
                            17047 ; 158  |int _reentrant SetDateMenu(int a, int b, int *pPtr);
                            17048 ; 159  |
                            17049 ; 160  |int _reentrant TestMenu(int a, int b, int *pPtr);
                            17050 ; 161  |void _reentrant RecordTestMenu(void);
                            17051 ; 162  |
                            17052 ; 163  |int _reentrant FMTunerMenu(int a, int b, int *c);
                            17053 ; 164  |int _reentrant InitPlayerStateMachine(int iEvent, int iIgnored, int *pMessagePtr);
                            17054 ; 165  |int _reentrant HandlePlayerStateMachine(int iEvent, int iIgnored, int *pMessagePtr);
                            17055 ; 166  |int _reentrant ExitPlayerStateMachine(int iEvent, int iIgnored, int *pMessagePtr);
                            17056 ; 167  |_reentrant int InitRecorderStateMachine(int EncodingType, int InputSource, int *c);
                            17057 ; 168  |_reentrant int HandleRecorderStateMachine(int a, int b, int *c);
                            17058 ; 169  |_reentrant int ExitRecorderStateMachine(int InputSource, int b, int *c);
                            17059 ; 170  |int _reentrant NextEQ(INT iDirection, INT b, INT *c);
                            17060 ; 171  |_reentrant INT RecordVoiceFile(INT a, INT b, INT *pPtr);
                            17061 ; 172  |_reentrant int RefreshDisplay           ( int iDisplayHint, int a, int *pPtr);
                            17062 ; 173  |_reentrant void DisplayClearDisplay      ( int iDisplayHint, int a, int *pPtr);
                            17063 ; 174  |_reentrant int DisplayEQIcon            ( int iDisplayHint, int a, int *pPtr);
                            17064 ; 175  |_reentrant int DisplayVolume            ( int iDisplayHint, int a, int *pPtr);
                            17065 ; 176  |_reentrant int DisplayShutdownProgress  ( int iDisplayHint, int a, int *pPtr);
                            17066 ; 177  |_reentrant int DisplayDefragmentstore  ( int iDisplayHint, int a, int *pPtr);
                            17067 ; 178  |_reentrant int DisplayKickOff           ( int iDisplayHint, int a, int *pPtr);
                            17068 ; 179  |_reentrant int DisplayKickOffLocked     ( int iDisplayHint, int a, int *pPtr);
                            17069 ; 180  |_reentrant void DisplayLockIcon          ( int iDisplayHint, int a, int *pPtr);
                            17070 ; 181  |_reentrant void ChangePlaySet(INT mode);
                            17071 ; 182  |void _reentrant UpdateAutoShutdownTimer (void);
                            17072 ; 183  |int _reentrant SetPwrSetting (int iCurrentPwrSetting, int b, int *pPtr);
                            17073 ; 184  |int  _reentrant SendPlayMode(int iCurrentPlayMode, int b, int *pPtr);
                            17074 ; 185  |_reentrant int DeleteFilePrompt(int a,int b, int *pPtr);
                            17075 ; 186  |#endif
                            17076 ; 187  |
                            17077 
                            17079 
                            17080 ; 15   |#include "mainmenu.h"
                            17081 
                            17083 
                            17084 ; 1    |#ifndef _MAIN_MENU_H
                            17085 ; 2    |#define _MAIN_MENU_H
                            17086 ; 3    |
                            17087 ; 4    |// menus in mainmenu
                            17088 ; 5    |#define MAINMENU_FIRST  0
                            17089 ; 6    |
                            17090 ; 7    |enum _MENU_ID
                            17091 ; 8    |{
                            17092 ; 9    |        MENU_MUSIC = 0,
                            17093 ; 10   |#ifdef JPEG_APP
                            17094 ; 11   |        MENU_JPEG_DISPLAY,
                            17095 ; 12   |#endif
                            17096 ; 13   |#ifdef MOTION_VIDEO
                            17097 ; 14   |        MENU_MVIDEO,
                            17098 ; 15   |#endif
                            17099 ; 16   |        MENU_VOICE,
                            17100 ; 17   |
                            17101 ; 18   |/*This version does not use PL5
                            17102 ; 19   |#ifdef USE_PLAYLIST5
                            17103 ; 20   |#ifndef REMOVE_FM
                            17104 ; 21   |    MENU_FMREC,
                            17105 ; 22   |#endif
                            17106 ; 23   |    MENU_LINEIN,
                            17107 ; 24   |#ifdef AUDIBLE
                            17108 ; 25   |        MENU_AUDIBLE,
                            17109 ; 26   |#endif
                            17110 ; 27   |#endif  // #ifdef USE_PLAYLIST5
                            17111 ; 28   |*/
                            17112 ; 29   |
                            17113 ; 30   |#ifdef USE_PLAYLIST3
                            17114 ; 31   |#ifdef AUDIBLE
                            17115 ; 32   |        MENU_AUDIBLE,
                            17116 ; 33   |#endif
                            17117 ; 34   |#endif
                            17118 ; 35   |#ifndef REMOVE_FM
                            17119 ; 36   |        MENU_FMTUNER,
                            17120 ; 37   |#endif
                            17121 ; 38   |        MENU_RECORD,
                            17122 ; 39   |        MENU_SETTINGS,
                            17123 ; 40   |        MENU_SHUTDOWN,
                            17124 ; 41   |        MENU_TIME_DATE,
                            17125 ; 42   |        MENU_AB,
                            17126 ; 43   |        MENU_DELETE,
                            17127 ; 44   |        MENU_ABOUT,
                            17128 ; 45   |#ifdef SPECTRUM_ANAL
                            17129 ; 46   |        MENU_SPECTROGRAM,
                            17130 ; 47   |#endif
                            17131 ; 48   |        MENU_MAIN_EXIT
                            17132 ; 49   |};
                            17133 ; 50   |
                            17134 ; 51   |
                            17135 ; 52   |#define MAINMENU_LAST    MENU_MAIN_EXIT
                            17136 ; 53   |#define MAINMENU_COUNT  (MAINMENU_LAST+1)
                            17137 ; 54   |
                            17138 ; 55   |#ifdef S6B33B0A_LCD
                            17139 ; 56   |#define MAINMENU_PAGE1_COUNT    MAINMENU_COUNT
                            17140 ; 57   |#endif
                            17141 ; 58   |
                            17142 ; 59   |#ifdef SED15XX_LCD
                            17143 ; 60   |#define MAINMENU_PAGE1_COUNT    4
                            17144 ; 61   |#endif
                            17145 ; 62   |
                            17146 ; 63   |
                            17147 ; 64   |// Media error constants
                            17148 ; 65   |// Each device gets 5 bits for error codes, in the global g_FSinitErrorCode.
                            17149 ; 66   |// If there is no external device, the internal device uses bits 0-4.  If there
                            17150 ; 67   |// is an external device, the internal device is shifted up 5 bits (to bits 5-9),
                            17151 ; 68   |// and the external device uses bits 0-4.  (More than one external device is not
                            17152 ; 69   |// supported in the current code.)
                            17153 ; 70   |
                            17154 ; 71   |#define ERROR_ON_INTERNAL_MEDIA         0x0F
                            17155 ; 72   |#define INTERNAL_MEDIA_NOT_SIGMATEL_FORMAT      0x010
                            17156 ; 73   |
                            17157 ; 74   |#define ERROR_ON_EXTERNAL_MEDIA                         0x0E
                            17158 ; 75   |#define EXTERNAL_MEDIA_NOT_SIGMATEL_FORMAT      0x010
                            17159 ; 76   |
                            17160 ; 77   |#define ERROR_ON_INTERNAL_MEDIA_SHIFTED         0x01E0
                            17161 ; 78   |#define INTERNAL_MEDIA_NOT_SIGMATEL_FORMAT_SHIFTED      0x020
                            17162 ; 79   |
                            17163 ; 80   |#ifdef USE_PLAYLIST3
                            17164 ; 81   |extern INT  g_current_index;
                            17165 ; 82   |extern INT  g_current_size;
                            17166 ; 83   |extern _packed BYTE g_strMusicLib_FilePath[];
                            17167 ; 84   |extern _packed BYTE g_strMusicLib_SecTable_FilePath[];
                            17168 ; 85   |extern INT  g_iFileHandle;
                            17169 ; 86   |extern INT  g_ML_save_on_exit;
                            17170 ; 87   |extern WORD g_rsrc_TimeDate_CodeBank;
                            17171 ; 88   |#endif  // USE_PLAYLIST3
                            17172 ; 89   |
                            17173 ; 90   |////////////////////////////////////////////////////////////////////////////////
                            17174 ; 91   |//  Prototypes
                            17175 ; 92   |////////////////////////////////////////////////////////////////////////////////
                            17176 ; 93   |#ifdef USE_PLAYLIST3
                            17177 ; 94   |void _reentrant ML_building_engine_init(void);
                            17178 ; 95   |#endif  // USE_PLAYLIST3
                            17179 ; 96   |
                            17180 ; 97   |#endif
                            17181 
                            17183 
                            17184 ; 16   |#ifdef WOW
                            17185 ; 17   |#include "wowmenu.h"
                            17186 ; 18   |#endif
                            17187 ; 19   |#include "resource.h"
                            17188 
                            17190 
                            17191 ; 1    |//  NOTE: This file was generated automatically by rscrenum.pl
                            17192 ; 2    |//  Do not edit it directly.
                            17193 ; 3    |//  Created on Sat Jun 28 16:37:44 2008 using resource.inc as input.
                            17194 ; 4    |
                            17195 ; 5    |
                            17196 ; 6    |
                            17197 ; 7    |//  NOTE: This file was generated automatically by rscrenum.pl
                            17198 ; 8    |//  Do not edit it directly.
                            17199 ; 9    |//  Created on Sat Jun 28 16:13:49 2008 using resource.inc as input.
                            17200 ; 10   |
                            17201 ; 11   |
                            17202 ; 12   |
                            17203 ; 13   |//  NOTE: This file was generated automatically by rscrenum.pl
                            17204 ; 14   |//  Do not edit it directly.
                            17205 ; 15   |//  Created on Sat Jun 28 15:55:53 2008 using resource.inc as input.
                            17206 ; 16   |
                            17207 ; 17   |
                            17208 ; 18   |
                            17209 ; 19   |//  NOTE: This file was generated automatically by rscrenum.pl
                            17210 ; 20   |//  Do not edit it directly.
                            17211 ; 21   |//  Created on Thu Jun 26 08:58:05 2008 using resource.inc as input.
                            17212 ; 22   |
                            17213 ; 23   |
                            17214 ; 24   |
                            17215 ; 25   |//  NOTE: This file was generated automatically by rscrenum.pl
                            17216 ; 26   |//  Do not edit it directly.
                            17217 ; 27   |//  Created on Wed Jun 25 17:00:35 2008 using resource.inc as input.
                            17218 ; 28   |
                            17219 ; 29   |
                            17220 ; 30   |
                            17221 ; 31   |//  NOTE: This file was generated automatically by rscrenum.pl
                            17222 ; 32   |//  Do not edit it directly.
                            17223 ; 33   |//  Created on Wed Jun 25 11:42:38 2008 using resource.inc as input.
                            17224 ; 34   |
                            17225 ; 35   |
                            17226 ; 36   |
                            17227 ; 37   |//  NOTE: This file was generated automatically by rscrenum.pl
                            17228 ; 38   |//  Do not edit it directly.
                            17229 ; 39   |//  Created on Wed Jun 25 11:17:50 2008 using resource.inc as input.
                            17230 ; 40   |
                            17231 ; 41   |
                            17232 ; 42   |
                            17233 ; 43   |//  NOTE: This file was generated automatically by rscrenum.pl
                            17234 ; 44   |//  Do not edit it directly.
                            17235 ; 45   |//  Created on Wed Jun 25 11:17:05 2008 using resource.inc as input.
                            17236 ; 46   |
                            17237 ; 47   |
                            17238 ; 48   |
                            17239 ; 49   |//  NOTE: This file was generated automatically by rscrenum.pl
                            17240 ; 50   |//  Do not edit it directly.
                            17241 ; 51   |//  Created on Tue Jun 24 15:21:11 2008 using resource.inc as input.
                            17242 ; 52   |
                            17243 ; 53   |
                            17244 ; 54   |
                            17245 ; 55   |//  NOTE: This file was generated automatically by rscrenum.pl
                            17246 ; 56   |//  Do not edit it directly.
                            17247 ; 57   |//  Created on Sun Jun 22 02:54:01 2008 using resource.inc as input.
                            17248 ; 58   |
                            17249 ; 59   |
                            17250 ; 60   |
                            17251 ; 61   |//  NOTE: This file was generated automatically by rscrenum.pl
                            17252 ; 62   |//  Do not edit it directly.
                            17253 ; 63   |//  Created on Sun Jun 22 00:47:39 2008 using resource.inc as input.
                            17254 ; 64   |
                            17255 ; 65   |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page  69

M:ADDR CODE           CYCLES LINE SOURCELINE
                            17256 ; 66   |
                            17257 ; 67   |//  NOTE: This file was generated automatically by rscrenum.pl
                            17258 ; 68   |//  Do not edit it directly.
                            17259 ; 69   |//  Created on Fri Jun 20 16:15:57 2008 using resource.inc as input.
                            17260 ; 70   |
                            17261 ; 71   |
                            17262 ; 72   |
                            17263 ; 73   |//  NOTE: This file was generated automatically by rscrenum.pl
                            17264 ; 74   |//  Do not edit it directly.
                            17265 ; 75   |//  Created on Thu Jun 19 09:47:30 2008 using resource.inc as input.
                            17266 ; 76   |
                            17267 ; 77   |
                            17268 ; 78   |
                            17269 ; 79   |//  NOTE: This file was generated automatically by rscrenum.pl
                            17270 ; 80   |//  Do not edit it directly.
                            17271 ; 81   |//  Created on Wed Jun 18 23:11:16 2008 using resource.inc as input.
                            17272 ; 82   |
                            17273 ; 83   |
                            17274 ; 84   |
                            17275 ; 85   |//  NOTE: This file was generated automatically by rscrenum.pl
                            17276 ; 86   |//  Do not edit it directly.
                            17277 ; 87   |//  Created on Wed Jun 18 22:57:19 2008 using resource.inc as input.
                            17278 ; 88   |
                            17279 ; 89   |
                            17280 ; 90   |
                            17281 ; 91   |//  NOTE: This file was generated automatically by rscrenum.pl
                            17282 ; 92   |//  Do not edit it directly.
                            17283 ; 93   |//  Created on Wed Jun 18 22:49:16 2008 using resource.inc as input.
                            17284 ; 94   |
                            17285 ; 95   |
                            17286 ; 96   |
                            17287 ; 97   |//  NOTE: This file was generated automatically by rscrenum.pl
                            17288 ; 98   |//  Do not edit it directly.
                            17289 ; 99   |//  Created on Wed Jun 18 11:53:38 2008 using resource.inc as input.
                            17290 ; 100  |
                            17291 ; 101  |
                            17292 ; 102  |
                            17293 ; 103  |//  NOTE: This file was generated automatically by rscrenum.pl
                            17294 ; 104  |//  Do not edit it directly.
                            17295 ; 105  |//  Created on Wed Jun 18 10:45:13 2008 using resource.inc as input.
                            17296 ; 106  |
                            17297 ; 107  |
                            17298 ; 108  |
                            17299 ; 109  |//  NOTE: This file was generated automatically by rscrenum.pl
                            17300 ; 110  |//  Do not edit it directly.
                            17301 ; 111  |//  Created on Wed Jun 18 09:54:56 2008 using resource.inc as input.
                            17302 ; 112  |
                            17303 ; 113  |
                            17304 ; 114  |
                            17305 ; 115  |//  NOTE: This file was generated automatically by rscrenum.pl
                            17306 ; 116  |//  Do not edit it directly.
                            17307 ; 117  |//  Created on Tue Jun 17 16:47:21 2008 using resource.inc as input.
                            17308 ; 118  |
                            17309 ; 119  |
                            17310 ; 120  |
                            17311 ; 121  |//  NOTE: This file was generated automatically by rscrenum.pl
                            17312 ; 122  |//  Do not edit it directly.
                            17313 ; 123  |//  Created on Tue Jun 17 11:30:49 2008 using resource.inc as input.
                            17314 ; 124  |
                            17315 ; 125  |
                            17316 ; 126  |
                            17317 ; 127  |/////////////////////////////////////////////////////////////////////////////////
                            17318 ; 128  |// Copyright(C) SigmaTel, Inc. 2001-2007
                            17319 ; 129  |// Reviews: DanhNguyen (06-2008) for X8iTF/STFM1000
                            17320 ; 130  |// LCD example resource listing
                            17321 ; 131  |/////////////////////////////////////////////////////////////////////////////////
                            17322 ; 132  |
                            17323 ; 133  |#if (!defined(resources))
                            17324 ; 134  |#define resources 1
                            17325 ; 135  |
                            17326 ; 136  |/////////////////////////////////////////////////////////////////////////////////
                            17327 ; 137  |//  Player version number  no leading zeros in version number!!!!!
                            17328 ; 138  |/////////////////////////////////////////////////////////////////////////////////
                            17329 ; 139  |
                            17330 ; 140  |#define VERSION_MAJOR 3
                            17331 ; 141  |#define VERSION_MIDDLE 200
                            17332 ; 142  |#define VERSION_MINOR 910
                            17333 ; 143  |
                            17334 ; 144  |#define LCD_SEG_OFFSET 0x000000
                            17335 ; 145  |#define NUMBER_OF_PRESETS 10
                            17336 ; 146  |
                            17337 ; 147  |
                            17338 ; 148  |/////////////////////////////////////////////////////////////////////////////////
                            17339 ; 149  |//  High usage resource. These have been moved here to take maximum advantage of
                            17340 ; 150  |//  the resource index cache if it was added.
                            17341 ; 151  |//  This block is sorted by frequency of use while loading a new song.
                            17342 ; 152  |/////////////////////////////////////////////////////////////////////////////////
                            17343 ; 153  |
                            17344 ; 154  |//$FILENAME searchdirectory.src
                            17345 ; 155  |#define RSRC_FUNCLET_SEARCHDIRECTORY 1    
                            17346 ; 156  |//$FILENAME shortdirmatch.src
                            17347 ; 157  |#define RSRC_FUNCLET_SHORTDIRMATCH 2    
                            17348 ; 158  |//$FILENAME fopen.src
                            17349 ; 159  |#define RSRC_FUNCLET_FOPEN 3    
                            17350 ; 160  |//$FILENAME musicmenu.src
                            17351 ; 161  |#define RSRC_MUSIC_MENU_CODE_BANK 4    
                            17352 ; 162  |//$FILENAME changepath.src
                            17353 ; 163  |#define RSRC_FUNCLET_CHANGEPATH 5    
                            17354 ; 164  |//$FILENAME _openandverifyslot.src
                            17355 ; 165  |#define RSRC_FUNCLET__OPENANDVERIFYSLOT 6    
                            17356 ; 166  |//$FILENAME _loadslot.src
                            17357 ; 167  |#define RSRC_FUNCLET__LOADSLOT 7    
                            17358 ; 168  |//$FILENAME getname.src
                            17359 ; 169  |#define RSRC_FUNCLET_GETNAME 8    
                            17360 ; 170  |//$FILENAME Funclet_SteppingVoltageSet.src
                            17361 ; 171  |#define RSRC_FUNCLET_STEPPINGVOLTAGESET 9    
                            17362 ; 172  |//$FILENAME sethandleforsearch.src
                            17363 ; 173  |#define RSRC_FUNCLET_SETHANDLEFORSEARCH 10    
                            17364 ; 174  |//$FILENAME wmaWrap.src
                            17365 ; 175  |#define RSRC_WMADEC_CODE 11    
                            17366 ; 176  |//$FILENAME extractfilename.src
                            17367 ; 177  |#define RSRC_FUNCLET_EXTRACTFILENAME 12    
                            17368 ; 178  |//$FILENAME oem_getgroupcertprivatekey.src
                            17369 ; 179  |#define RSRC_FUNCLET_OEM_GETGROUPCERTPRIVATEKEY 13    
                            17370 ; 180  |//$FILENAME SoftTimerMod.src
                            17371 ; 181  |#define RSRC_SOFT_TIMER_MODULE_CODE 14    
                            17372 ; 182  |//$FILENAME GetShortfilename.src
                            17373 ; 183  |#define RSRC_FUNCLET_GETSHORTFILENAME 15    
                            17374 ; 184  |//$FILENAME drm_dcp_loadpropertiescache.src
                            17375 ; 185  |#define RSRC_FUNCLET_DRM_DCP_LOADPROPERTIESCACHE 16    
                            17376 ; 186  |//$FILENAME playerstatemachine.src
                            17377 ; 187  |#define RSRC_PLAY_STATE_MACHINE_CODE_BANK 17    
                            17378 ; 188  |//$FILENAME SysMod.src
                            17379 ; 189  |#define RSRC_SYSMOD_CODE 18    
                            17380 ; 190  |//$FILENAME drm_b64_decodew.src
                            17381 ; 191  |#define RSRC_FUNCLET_DRM_B64_DECODEW 19    
                            17382 ; 192  |//$FILENAME discardtrailigperiods.src
                            17383 ; 193  |#define RSRC_FUNCLET_DISCARDTRAILIGPERIODS 20    
                            17384 ; 194  |//$FILENAME uppercase.src
                            17385 ; 195  |#define RSRC_FUNCLET_UPPERCASE 21    
                            17386 ; 196  |//$FILENAME strlength.src
                            17387 ; 197  |#define RSRC_FUNCLET_STRLENGTH 22    
                            17388 ; 198  |//$FILENAME ConverToShortname.src
                            17389 ; 199  |#define RSRC_FUNCLET_CONVERTOSHORTNAME 23    
                            17390 ; 200  |//$FILENAME drm_bbx_hashvalue.src
                            17391 ; 201  |#define RSRC_FUNCLET_DRM_BBX_HASHVALUE 24    
                            17392 ; 202  |//$FILENAME drm_expr_evaluateexpression.src
                            17393 ; 203  |#define RSRC_FUNCLET_DRM_EXPR_EVALUATEEXPRESSION 25    
                            17394 ; 204  |//$FILENAME drm_sst_closekey.src
                            17395 ; 205  |#define RSRC_FUNCLET_DRM_SST_CLOSEKEY 26    
                            17396 ; 206  |//$FILENAME Funclet_SysSetSpeed.src
                            17397 ; 207  |#define RSRC_FUNCLET_SYSSETSPEED 27    
                            17398 ; 208  |//$FILENAME freehandle.src
                            17399 ; 209  |#define RSRC_FUNCLET_FREEHANDLE 28    
                            17400 ; 210  |//$FILENAME searchfreehandleallocate.src
                            17401 ; 211  |#define RSRC_FUNCLET_SEARCHFREEHANDLEALLOCATE 29    
                            17402 ; 212  |//$FILENAME _parselicenseattributes.src
                            17403 ; 213  |#define RSRC_FUNCLET__PARSELICENSEATTRIBUTES 30    
                            17404 ; 214  |//$FILENAME variablesecstategetorset.src
                            17405 ; 215  |#define RSRC_FUNCLET_VARIABLESECSTATEGETORSET 31    
                            17406 ; 216  |//$FILENAME _setuplicevalobjecttoshare.src
                            17407 ; 217  |#define RSRC_FUNCLET__SETUPLICEVALOBJECTTOSHARE 32    
                            17408 ; 218  |//$FILENAME drm_mgr_initialize.src
                            17409 ; 219  |#define RSRC_FUNCLET_DRM_MGR_INITIALIZE 33    
                            17410 ; 220  |//$FILENAME display.src
                            17411 ; 221  |#define RSRC_DISPLAY_CODE_BANK 34    
                            17412 ; 222  |//$FILENAME DisplayModule.src
                            17413 ; 223  |#define RSRC_DISPLAY_MODULE 35    
                            17414 ; 224  |//$FILENAME extractpath.src
                            17415 ; 225  |#define RSRC_FUNCLET_EXTRACTPATH 36    
                            17416 ; 226  |//$FILENAME drm_sst_createglobalstorepassword.src
                            17417 ; 227  |#define RSRC_FUNCLET_DRM_SST_CREATEGLOBALSTOREPASSWORD 37    
                            17418 ; 228  |//$FILENAME _getprivatekey.src
                            17419 ; 229  |#define RSRC_FUNCLET__GETPRIVATEKEY 38    
                            17420 ; 230  |//$FILENAME drm_hds_opennamespace.src
                            17421 ; 231  |#define RSRC_FUNCLET_DRM_HDS_OPENNAMESPACE 39    
                            17422 ; 232  |//$FILENAME drm_hds_openslot.src
                            17423 ; 233  |#define RSRC_FUNCLET_DRM_HDS_OPENSLOT 40    
                            17424 ; 234  |//$FILENAME fclose.src
                            17425 ; 235  |#define RSRC_FUNCLET_FCLOSE 41    
                            17426 ; 236  |//$FILENAME drm_cphr_init.src
                            17427 ; 237  |#define RSRC_FUNCLET_DRM_CPHR_INIT 42    
                            17428 ; 238  |//$FILENAME drm_pk_symmetriccrypt.src
                            17429 ; 239  |#define RSRC_FUNCLET_DRM_PK_SYMMETRICCRYPT 43    
                            17430 ; 240  |//$FILENAME drm_mgr_bind.src
                            17431 ; 241  |#define RSRC_FUNCLET_DRM_MGR_BIND 44    
                            17432 ; 242  |//$FILENAME _decryptcontentkey.src
                            17433 ; 243  |#define RSRC_FUNCLET__DECRYPTCONTENTKEY 45    
                            17434 ; 244  |//$FILENAME drm_mac_inv32.src
                            17435 ; 245  |#define RSRC_FUNCLET_DRM_MAC_INV32 46    
                            17436 ; 246  |//$FILENAME drm_lic_getattribute.src
                            17437 ; 247  |#define RSRC_FUNCLET_DRM_LIC_GETATTRIBUTE 47    
                            17438 ; 248  |//$FILENAME drm_utl_getversionasstring.src
                            17439 ; 249  |#define RSRC_FUNCLET_DRM_UTL_GETVERSIONASSTRING 48    
                            17440 ; 250  |//$FILENAME drm_dcp_getattribute.src
                            17441 ; 251  |#define RSRC_FUNCLET_DRM_DCP_GETATTRIBUTE 49    
                            17442 ; 252  |//$FILENAME effectsmodules.src
                            17443 ; 253  |#define RSRC_EFFECTS_MODULES_P 50    
                            17444 ; 254  |//$FILENAME janusx.src
                            17445 ; 255  |#define RSRC_JANUSX_CODE 51    
                            17446 ; 256  |//$FILENAME drm_sst_openkeytokens.src
                            17447 ; 257  |#define RSRC_FUNCLET_DRM_SST_OPENKEYTOKENS 52    
                            17448 ; 258  |//$FILENAME eval.src
                            17449 ; 259  |#define RSRC_FUNCLET_EVAL 53    
                            17450 ; 260  |//$FILENAME _verifyslothash.src
                            17451 ; 261  |#define RSRC_FUNCLET__VERIFYSLOTHASH 54    
                            17452 ; 262  |//$FILENAME januscommon.src
                            17453 ; 263  |#define RSRC_JANUS_COMMON 55    
                            17454 ; 264  |//$FILENAME changecase.src
                            17455 ; 265  |#define RSRC_FUNCLET_CHANGECASE 56    
                            17456 ; 266  |//$FILENAME drm_bbx_symmetricverify.src
                            17457 ; 267  |#define RSRC_FUNCLET_DRM_BBX_SYMMETRICVERIFY 57    
                            17458 ; 268  |//$FILENAME _loadlicenseattributes.src
                            17459 ; 269  |#define RSRC_FUNCLET__LOADLICENSEATTRIBUTES 58    
                            17460 ; 270  |//$FILENAME drm_hds_slotseek.src
                            17461 ; 271  |#define RSRC_FUNCLET_DRM_HDS_SLOTSEEK 59    
                            17462 ; 272  |//$FILENAME drm_hds_slotwrite.src
                            17463 ; 273  |#define RSRC_FUNCLET_DRM_HDS_SLOTWRITE 60    
                            17464 ; 274  |//$FILENAME drm_levl_performoperations.src
                            17465 ; 275  |#define RSRC_FUNCLET_DRM_LEVL_PERFORMOPERATIONS 61    
                            17466 ; 276  |//$FILENAME drm_lic_verifysignature.src
                            17467 ; 277  |#define RSRC_FUNCLET_DRM_LIC_VERIFYSIGNATURE 62    
                            17468 ; 278  |//$FILENAME drm_lst_getlicense.src
                            17469 ; 279  |#define RSRC_FUNCLET_DRM_LST_GETLICENSE 63    
                            17470 ; 280  |//$FILENAME drm_utl_numbertostring.src
                            17471 ; 281  |#define RSRC_FUNCLET_DRM_UTL_NUMBERTOSTRING 64    
                            17472 ; 282  |//$FILENAME oem_writefile.src
                            17473 ; 283  |#define RSRC_FUNCLET_OEM_WRITEFILE 65    
                            17474 ; 284  |//$FILENAME drm_sst_getdata.src
                            17475 ; 285  |#define RSRC_FUNCLET_DRM_SST_GETDATA 66    
                            17476 ; 286  |//$FILENAME updatehandlemode.src
                            17477 ; 287  |#define RSRC_FUNCLET_UPDATEHANDLEMODE 67    
                            17478 ; 288  |//$FILENAME _getlicenseinfoandsetup.src
                            17479 ; 289  |#define RSRC_FUNCLET__GETLICENSEINFOANDSETUP 68    
                            17480 ; 290  |//$FILENAME drm_lic_completelicensechain.src
                            17481 ; 291  |#define RSRC_FUNCLET_DRM_LIC_COMPLETELICENSECHAIN 69    
                            17482 ; 292  |//$FILENAME doplay_p.src
                            17483 ; 293  |#define RSRC_DOPLAY_P 70    
                            17484 ; 294  |//$FILENAME fatwritep.src
                            17485 ; 295  |#define RSRC_FATWRITE_P_CODE 71    
                            17486 ; 296  |//$FILENAME findfirst.src
                            17487 ; 297  |#define RSRC_FUNCLET_FINDFIRST 72    
                            17488 ; 298  |//$FILENAME Funclet_SysLoadFatWrite.src
                            17489 ; 299  |#define RSRC_FUNCLET_SYSLOADFATWRITE 73    
                            17490 ; 300  |//$FILENAME changetorootdirectory.src
                            17491 ; 301  |#define RSRC_FUNCLET_CHANGETOROOTDIRECTORY 74    
                            17492 ; 302  |//$FILENAME _findkeypair.src
                            17493 ; 303  |#define RSRC_FUNCLET__FINDKEYPAIR 75    
                            17494 ; 304  |//$FILENAME variablemachinegetorset.src
                            17495 ; 305  |#define RSRC_FUNCLET_VARIABLEMACHINEGETORSET 76    
                            17496 ; 306  |//$FILENAME _hdsslotenumnext.src
                            17497 ; 307  |#define RSRC_FUNCLET__HDSSLOTENUMNEXT 77    
                            17498 ; 308  |//$FILENAME getlspubkey.src
                            17499 ; 309  |#define RSRC_FUNCLET_GETLSPUBKEY 78    
                            17500 ; 310  |//$FILENAME drm_sst_gettokenvalue.src
                            17501 ; 311  |#define RSRC_FUNCLET_DRM_SST_GETTOKENVALUE 79    
                            17502 ; 312  |//$FILENAME drm_utl_decodekid.src
                            17503 ; 313  |#define RSRC_FUNCLET_DRM_UTL_DECODEKID 80    
                            17504 ; 314  |//$FILENAME drm_xml_getnodecdata.src
                            17505 ; 315  |#define RSRC_FUNCLET_DRM_XML_GETNODECDATA 81    
                            17506 ; 316  |//$FILENAME _freedrmmanagerinternalcontexts.src
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page  70

M:ADDR CODE           CYCLES LINE SOURCELINE
                            17507 ; 317  |#define RSRC_FUNCLET__FREEDRMMANAGERINTERNALCONTEXTS 82    
                            17508 ; 318  |//$FILENAME drm_clk_initchecksecureclock.src
                            17509 ; 319  |#define RSRC_FUNCLET_DRM_CLK_INITCHECKSECURECLOCK 83    
                            17510 ; 320  |//$FILENAME drm_sst_openandlockslot.src
                            17511 ; 321  |#define RSRC_FUNCLET_DRM_SST_OPENANDLOCKSLOT 84    
                            17512 ; 322  |//$FILENAME aes_enc.src
                            17513 ; 323  |#define RSRC_AES_ENC 85    
                            17514 ; 324  |//$FILENAME getprivkey.src
                            17515 ; 325  |#define RSRC_FUNCLET_GETPRIVKEY 86    
                            17516 ; 326  |//$FILENAME Funclet_GetUnicodeCharacterBitmap.src
                            17517 ; 327  |#define RSRC_FUNCLET_GET_UNICODE_CHARACTER_BITMAP 87    
                            17518 ; 328  |//$FILENAME playlist_codebank.src
                            17519 ; 329  |#define RSRC_PLAYLIST_CODEBANK 88    
                            17520 ; 330  |//$FILENAME drm_lic_getenablingbits.src
                            17521 ; 331  |#define RSRC_FUNCLET_DRM_LIC_GETENABLINGBITS 89    
                            17522 ; 332  |//$FILENAME drm_mgr_uninitialize.src
                            17523 ; 333  |#define RSRC_FUNCLET_DRM_MGR_UNINITIALIZE 90    
                            17524 ; 334  |//$FILENAME _getdevicecert.src
                            17525 ; 335  |#define RSRC_FUNCLET__GETDEVICECERT 91    
                            17526 ; 336  |//$FILENAME drm_lic_reportactions.src
                            17527 ; 337  |#define RSRC_FUNCLET_DRM_LIC_REPORTACTIONS 92    
                            17528 ; 338  |//$FILENAME drmcrt_wcsntol.src
                            17529 ; 339  |#define RSRC_FUNCLET_DRMCRT_WCSNTOL 93    
                            17530 ; 340  |//$FILENAME _basicheaderchecks.src
                            17531 ; 341  |#define RSRC_FUNCLET__BASICHEADERCHECKS 94    
                            17532 ; 342  |//$FILENAME drm_hdr_getattribute.src
                            17533 ; 343  |#define RSRC_FUNCLET_DRM_HDR_GETATTRIBUTE 95    
                            17534 ; 344  |//$FILENAME drm_hds_slotenumnext.src
                            17535 ; 345  |#define RSRC_FUNCLET_DRM_HDS_SLOTENUMNEXT 96    
                            17536 ; 346  |//$FILENAME drm_levl_evaluateexpression.src
                            17537 ; 347  |#define RSRC_FUNCLET_DRM_LEVL_EVALUATEEXPRESSION 97    
                            17538 ; 348  |//$FILENAME drm_lst_open.src
                            17539 ; 349  |#define RSRC_FUNCLET_DRM_LST_OPEN 98    
                            17540 ; 350  |//$FILENAME drm_xml_getnodeattribute.src
                            17541 ; 351  |#define RSRC_FUNCLET_DRM_XML_GETNODEATTRIBUTE 99    
                            17542 ; 352  |//$FILENAME _verifysymmerticsignature.src
                            17543 ; 353  |#define RSRC_FUNCLET__VERIFYSYMMERTICSIGNATURE 100    
                            17544 ; 354  |//$FILENAME oem_openfile.src
                            17545 ; 355  |#define RSRC_FUNCLET_OEM_OPENFILE 101    
                            17546 ; 356  |//$FILENAME _getdrmfullpathname.src
                            17547 ; 357  |#define RSRC_FUNCLET__GETDRMFULLPATHNAME 102    
                            17548 ; 358  |//$FILENAME oem_getsecurestoreglobalpasswordseed.src
                            17549 ; 359  |#define RSRC_FUNCLET_OEM_GETSECURESTOREGLOBALPASSWORDSEED 103    
                            17550 ; 360  |//$FILENAME _applydiffstostore.src
                            17551 ; 361  |#define RSRC_FUNCLET__APPLYDIFFSTOSTORE 104    
                            17552 ; 362  |//$FILENAME drm_sst_setdata.src
                            17553 ; 363  |#define RSRC_FUNCLET_DRM_SST_SETDATA 105    
                            17554 ; 364  |//$FILENAME drm_sst_getlockeddata.src
                            17555 ; 365  |#define RSRC_FUNCLET_DRM_SST_GETLOCKEDDATA 106    
                            17556 ; 366  |//$FILENAME drm_sst_setlockeddata.src
                            17557 ; 367  |#define RSRC_FUNCLET_DRM_SST_SETLOCKEDDATA 107    
                            17558 ; 368  |//$FILENAME playerlib_extra.src
                            17559 ; 369  |#define RSRC_PLAYERLIB_EXTRA_CODE_BANK 108    
                            17560 ; 370  |//$FILENAME wmaCommon.src
                            17561 ; 371  |#define RSRC_WMA_COMMON 109    
                            17562 ; 372  |//$FILENAME wmainit.src
                            17563 ; 373  |#define RSRC_WMA_INIT 110    
                            17564 ; 374  |//$FILENAME playlist2traverse_codebank.src
                            17565 ; 375  |#define RSRC_PLAYLIST2TRAVERSE_CODEBANK 111    
                            17566 ; 376  |//$FILENAME drm_bbx_cipherkeysetup.src
                            17567 ; 377  |#define RSRC_FUNCLET_DRM_BBX_CIPHERKEYSETUP 112    
                            17568 ; 378  |//$FILENAME drm_lic_checkclockrollback.src
                            17569 ; 379  |#define RSRC_FUNCLET_DRM_LIC_CHECKCLOCKROLLBACK 113    
                            17570 ; 380  |//$FILENAME drm_hds_closestore.src
                            17571 ; 381  |#define RSRC_FUNCLET_DRM_HDS_CLOSESTORE 114    
                            17572 ; 382  |//$FILENAME _hdsloadsrn.src
                            17573 ; 383  |#define RSRC_FUNCLET__HDSLOADSRN 115    
                            17574 ; 384  |//$FILENAME _loadproritizedlist.src
                            17575 ; 385  |#define RSRC_FUNCLET__LOADPRORITIZEDLIST 116    
                            17576 ; 386  |//$FILENAME drm_lst_initenum.src
                            17577 ; 387  |#define RSRC_FUNCLET_DRM_LST_INITENUM 117    
                            17578 ; 388  |//$FILENAME _loadattributesintocache.src
                            17579 ; 389  |#define RSRC_FUNCLET__LOADATTRIBUTESINTOCACHE 118    
                            17580 ; 390  |//$FILENAME drm_pk_symmetricverify.src
                            17581 ; 391  |#define RSRC_FUNCLET_DRM_PK_SYMMETRICVERIFY 119    
                            17582 ; 392  |
                            17583 ; 393  |/////////////////////////////////////////////////////////////////////////////////
                            17584 ; 394  |//  Menu Modules (codebanks)
                            17585 ; 395  |/////////////////////////////////////////////////////////////////////////////////
                            17586 ; 396  |//$FILENAME mainmenu.src
                            17587 ; 397  |#define RSRC_MAIN_MENU_CODE_BANK 120    
                            17588 ; 398  |//$FILENAME displaylists.src
                            17589 ; 399  |#define RSRC_DISPLAY_LISTS_CODE_BANK 121    
                            17590 ; 400  |
                            17591 ; 401  |//$FILENAME voicemenu.src
                            17592 ; 402  |#define RSRC_VOICE_MENU_CODE_BANK 122    
                            17593 ; 403  |//$FILENAME fmtunermenu.src
                            17594 ; 404  |#define RSRC_FMTUNER_MENU_CODE_BANK 123    
                            17595 ; 405  |//$FILENAME recorderstatemachine.src
                            17596 ; 406  |#define RSRC_RECORDER_STATE_MACHINE_CODE_BANK 124    
                            17597 ; 407  |
                            17598 ; 408  |//$FILENAME eqmenu.src
                            17599 ; 409  |#define RSRC_EQ_MENU_CODE_BANK 125    
                            17600 ; 410  |//$FILENAME playmodemenu.src
                            17601 ; 411  |#define RSRC_PLAYMODE_MENU_CODE_BANK 126    
                            17602 ; 412  |//$FILENAME contrastmenu.src
                            17603 ; 413  |#define RSRC_CONTRAST_MENU_CODE_BANK 127    
                            17604 ; 414  |//$FILENAME pwrsettingsmenu.src
                            17605 ; 415  |#define RSRC_PWRSETTINGS_MENU_CODE_BANK 128    
                            17606 ; 416  |//$FILENAME timedatemenu.src
                            17607 ; 417  |#define RSRC_TIMEDATE_MENU_CODE_BANK 129    
                            17608 ; 418  |//$FILENAME settimemenu.src
                            17609 ; 419  |#define RSRC_SETTIME_MENU_CODE_BANK 130    
                            17610 ; 420  |//$FILENAME setdatemenu.src
                            17611 ; 421  |#define RSRC_SETDATE_MENU_CODE_BANK 131    
                            17612 ; 422  |//$FILENAME settingsmenu.src
                            17613 ; 423  |#define RSRC_SETTINGS_MENU_CODE_BANK 132    
                            17614 ; 424  |//$FILENAME string_system_menu.src
                            17615 ; 425  |#define RSRC_SYSTEM_MENU_CODE_BANK 133    
                            17616 ; 426  |//$FILENAME deletemenu.src
                            17617 ; 427  |#define RSRC_DELETE_MENU_CODE_BANK 134    
                            17618 ; 428  |//$FILENAME aboutmenu.src
                            17619 ; 429  |#define RSRC_ABOUT_MENU_CODE_BANK 135    
                            17620 ; 430  |
                            17621 ; 431  |//$FILENAME spectrogram.src
                            17622 ; 432  |#define RSRC_SPECTROGRAM_MENU_CODE_BANK 136    
                            17623 ; 433  |
                            17624 ; 434  |//$FILENAME motionvideomenu.src
                            17625 ; 435  |#define RSRC_MOTION_VIDEO_MENU_CODE_BANK 137    
                            17626 ; 436  |//$FILENAME motionvideomenuinitstate.src
                            17627 ; 437  |#define RSRC_MOTION_VIDEO_MENU_INITSTATE_CODE_BANK 138    
                            17628 ; 438  |//$FILENAME jpegdisplaymenu.src
                            17629 ; 439  |#define RSRC_JPEG_DISPLAY_MENU_CODE_BANK 139    
                            17630 ; 440  |//$FILENAME jpegmanualmenu.src
                            17631 ; 441  |#define RSRC_JPEG_MANUAL_MENU_CODE_BANK 140    
                            17632 ; 442  |//$FILENAME jpegthumbnailmenu.src
                            17633 ; 443  |#define RSRC_JPEG_THUMBNAIL_MENU_CODE_BANK 141    
                            17634 ; 444  |//$FILENAME jpegslideshowmenu.src
                            17635 ; 445  |#define RSRC_JPEG_SLIDESHOW_MENU_CODE_BANK 142    
                            17636 ; 446  |//$FILENAME albumartmenu.src
                            17637 ; 447  |#define RSRC_ALBUM_ART_MENU_CODE_BANK 143    
                            17638 ; 448  |//$FILENAME jpegfileutilextra.src
                            17639 ; 449  |#define RSRC_JPEG_FILEUTIL_EXTRA_MENU_CODE_BANK 144    
                            17640 ; 450  |
                            17641 ; 451  |////////////////////////////////////////////////////////////////////////////////////////////////////
                            17642 ; 452  |// General Modules
                            17643 ; 453  |////////////////////////////////////////////////////////////////////////////////////////////////////
                            17644 ; 454  |//$FILENAME MixMod.src
                            17645 ; 455  |#define RSRC_MIXMOD_CODE 145    
                            17646 ; 456  |//$FILENAME TunerModule.src
                            17647 ; 457  |#define RSRC_TUNER_MODULE 146    
                            17648 ; 458  |//$FILENAME geqoverlay.src
                            17649 ; 459  |#define RSRC_GEQOVERLAY_CODE 147    
                            17650 ; 460  |
                            17651 ; 461  |////////////////////////////////////////////////////////////////////////////////////////////////////
                            17652 ; 462  |// Decoders/Encoders
                            17653 ; 463  |////////////////////////////////////////////////////////////////////////////////////////////////////
                            17654 ; 464  |//$FILENAME DecMod.src
                            17655 ; 465  |#define RSRC_DECMOD_CODE 148    
                            17656 ; 466  |//$FILENAME mp3p.src
                            17657 ; 467  |#define RSRC_MP3P_CODE 149    
                            17658 ; 468  |//$FILENAME mp3x.src
                            17659 ; 469  |#define RSRC_MP3X_CODE 150    
                            17660 ; 470  |//$FILENAME mp3y.src
                            17661 ; 471  |#define RSRC_MP3Y_CODE 151    
                            17662 ; 472  |//$FILENAME janusp.src
                            17663 ; 473  |#define RSRC_JANUSP_CODE 152    
                            17664 ; 474  |//RSRC_JANUSY_CODE        equ       29    ;$FILENAME janusy.src
                            17665 ; 475  |
                            17666 ; 476  |//$FILENAME decadpcmimamod.src
                            17667 ; 477  |#define RSRC_DEC_ADPCM_MOD_CODE 153    
                            17668 ; 478  |//$FILENAME dec_adpcmp.src
                            17669 ; 479  |#define RSRC_DEC_ADPCMP_CODE 154    
                            17670 ; 480  |//$FILENAME dec_adpcmx.src
                            17671 ; 481  |#define RSRC_DEC_ADPCMX_CODE 155    
                            17672 ; 482  |//$FILENAME dec_adpcmy.src
                            17673 ; 483  |#define RSRC_DEC_ADPCMY_CODE 156    
                            17674 ; 484  |
                            17675 ; 485  |//$FILENAME decadpcmsmvmod.src
                            17676 ; 486  |#define RSRC_DEC_SMVADPCM_MOD_CODE 157    
                            17677 ; 487  |//$FILENAME dec_smvadpcmp.src
                            17678 ; 488  |#define RSRC_DEC_SMVADPCMP_CODE 158    
                            17679 ; 489  |//$FILENAME dec_smvadpcmx.src
                            17680 ; 490  |#define RSRC_DEC_SMVADPCMX_CODE 159    
                            17681 ; 491  |//$FILENAME dec_smvadpcmy.src
                            17682 ; 492  |#define RSRC_DEC_SMVADPCMY_CODE 160    
                            17683 ; 493  |
                            17684 ; 494  |//$FILENAME encadpcmimamod.src
                            17685 ; 495  |#define RSRC_ENC_ADPCM_MOD_CODE 161    
                            17686 ; 496  |//$FILENAME enc_adpcmp.src
                            17687 ; 497  |#define RSRC_ENC_ADPCMP_CODE 162    
                            17688 ; 498  |//$FILENAME enc_adpcmx.src
                            17689 ; 499  |#define RSRC_ENC_ADPCMX_CODE 163    
                            17690 ; 500  |//$FILENAME enc_adpcmy.src
                            17691 ; 501  |#define RSRC_ENC_ADPCMY_CODE 164    
                            17692 ; 502  |
                            17693 ; 503  |//$FILENAME jpeg_p.src
                            17694 ; 504  |#define RSRC_JPEG_DECODER_P 165    
                            17695 ; 505  |//$FILENAME jpeg_x.src
                            17696 ; 506  |#define RSRC_JPEG_DECODER_X 166    
                            17697 ; 507  |//$FILENAME jpeg_y.src
                            17698 ; 508  |#define RSRC_JPEG_DECODER_Y 167    
                            17699 ; 509  |//$FILENAME jpeg2_y.src
                            17700 ; 510  |#define RSRC_JPEG_DECODER_Y_2 168    
                            17701 ; 511  |//$FILENAME bmp2_y.src
                            17702 ; 512  |#define RSRC_BMP_DECODER_Y_2 169    
                            17703 ; 513  |//$FILENAME bmp_p.src
                            17704 ; 514  |#define RSRC_BMP_DECODER_P 170    
                            17705 ; 515  |
                            17706 ; 516  |//RSRC_SMVJPEG_DECODER_P    equ       57    ;$FILENAME smvjpeg_p.src
                            17707 ; 517  |//$FILENAME smvjpeg_x.src
                            17708 ; 518  |#define RSRC_SMVJPEG_DECODER_X 171    
                            17709 ; 519  |//$FILENAME smvjpeg_y.src
                            17710 ; 520  |#define RSRC_SMVJPEG_DECODER_Y 172    
                            17711 ; 521  |
                            17712 ; 522  |
                            17713 ; 523  |////////////////////////////////////////////////////////////////////////////////////////////////////
                            17714 ; 524  |// System Settings
                            17715 ; 525  |////////////////////////////////////////////////////////////////////////////////////////////////////
                            17716 ; 526  |//$FILENAME settings.src
                            17717 ; 527  |#define RSRC_SETTINGS_COMMANDS 173    
                            17718 ; 528  |
                            17719 ; 529  |////////////////////////////////////////////////////////////////////////////////////////////////////
                            17720 ; 530  |// Media Device Drivers
                            17721 ; 531  |////////////////////////////////////////////////////////////////////////////////////////////////////
                            17722 ; 532  |//This resource is filled with garbage unless it is the MMC build
                            17723 ; 533  |//$FILENAME null.src
                            17724 ; 534  |#define RSRC_MMCDD_CODE 174    
                            17725 ; 535  |//$FILENAME null.src
                            17726 ; 536  |#define RSRC_SMDD_HIGH_CODE 175    
                            17727 ; 537  |
                            17728 ; 538  |/////////////////////////////////////////////////////////////////////////////////
                            17729 ; 539  |//  PlayState resources
                            17730 ; 540  |/////////////////////////////////////////////////////////////////////////////////
                            17731 ; 541  |//$FILENAME play_icon_with_border.src
                            17732 ; 542  |#define RSRC_PLAY_ICON_WITH_BORDER 176    
                            17733 ; 543  |//$FILENAME pause_icon_with_border.src
                            17734 ; 544  |#define RSRC_PAUSE_ICON_WITH_BORDER 177    
                            17735 ; 545  |//$FILENAME stop_icon_with_border.src
                            17736 ; 546  |#define RSRC_STOP_ICON_WITH_BORDER 178    
                            17737 ; 547  |//$FILENAME record_icon_with_border.src
                            17738 ; 548  |#define RSRC_RECORD_ICON_WITH_BORDER 179    
                            17739 ; 549  |//$FILENAME paused_record_icon_with_border.src
                            17740 ; 550  |#define RSRC_PAUSED_RECORD_ICON_BORDER 180    
                            17741 ; 551  |//$FILENAME ffwd_icon_with_border.src
                            17742 ; 552  |#define RSRC_FFWD_ICON_WITH_BORDER 181    
                            17743 ; 553  |//$FILENAME rwnd_icon_with_border.src
                            17744 ; 554  |#define RSRC_RWND_ICON_WITH_BORDER 182    
                            17745 ; 555  |
                            17746 ; 556  |/////////////////////////////////////////////////////////////////////////////////
                            17747 ; 557  |//  PlayMode resources
                            17748 ; 558  |/////////////////////////////////////////////////////////////////////////////////
                            17749 ; 559  |//$FILENAME repeatall_icon.src
                            17750 ; 560  |#define RSRC_REPEAT_ALL_ICON 183    
                            17751 ; 561  |//$FILENAME repeatsong_icon.src
                            17752 ; 562  |#define RSRC_REPEAT_SONG_ICON 184    
                            17753 ; 563  |//$FILENAME shuffle_icon.src
                            17754 ; 564  |#define RSRC_SHUFFLE_ICON 185    
                            17755 ; 565  |//$FILENAME random_icon.src
                            17756 ; 566  |#define RSRC_RANDOM_ICON 186    
                            17757 ; 567  |//$FILENAME repeatallclear_icon.src
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page  71

M:ADDR CODE           CYCLES LINE SOURCELINE
                            17758 ; 568  |#define RSRC_REPEAT_ALL_CLEAR_ICON 187    
                            17759 ; 569  |//$FILENAME repeatsongclear_icon.src
                            17760 ; 570  |#define RSRC_REPEAT_SONG_CLEAR_ICON 188    
                            17761 ; 571  |//$FILENAME shuffleclear_icon.src
                            17762 ; 572  |#define RSRC_SHUFFLE_CLEAR_ICON 189    
                            17763 ; 573  |
                            17764 ; 574  |/////////////////////////////////////////////////////////////////////////////////
                            17765 ; 575  |//  Battery Status
                            17766 ; 576  |/////////////////////////////////////////////////////////////////////////////////
                            17767 ; 577  |//$FILENAME battery_00.src
                            17768 ; 578  |#define RSRC_BATTERY_00 190    
                            17769 ; 579  |//$FILENAME battery_01.src
                            17770 ; 580  |#define RSRC_BATTERY_01 191    
                            17771 ; 581  |//$FILENAME battery_02.src
                            17772 ; 582  |#define RSRC_BATTERY_02 192    
                            17773 ; 583  |//$FILENAME battery_03.src
                            17774 ; 584  |#define RSRC_BATTERY_03 193    
                            17775 ; 585  |//$FILENAME battery_04.src
                            17776 ; 586  |#define RSRC_BATTERY_04 194    
                            17777 ; 587  |//$FILENAME battery_05.src
                            17778 ; 588  |#define RSRC_BATTERY_05 195    
                            17779 ; 589  |//$FILENAME battery_06.src
                            17780 ; 590  |#define RSRC_BATTERY_06 196    
                            17781 ; 591  |//$FILENAME battery_07.src
                            17782 ; 592  |#define RSRC_BATTERY_07 197    
                            17783 ; 593  |//$FILENAME battery_08.src
                            17784 ; 594  |#define RSRC_BATTERY_08 198    
                            17785 ; 595  |//$FILENAME battery_09.src
                            17786 ; 596  |#define RSRC_BATTERY_09 199    
                            17787 ; 597  |//$FILENAME battery_10.src
                            17788 ; 598  |#define RSRC_BATTERY_10 200    
                            17789 ; 599  |
                            17790 ; 600  |/////////////////////////////////////////////////////////////////////////////////
                            17791 ; 601  |//  System Icons
                            17792 ; 602  |/////////////////////////////////////////////////////////////////////////////////
                            17793 ; 603  |//$FILENAME disk_small.src
                            17794 ; 604  |#define RSRC_DISK_ICON 201    
                            17795 ; 605  |//$FILENAME lock_small.src
                            17796 ; 606  |#define RSRC_LOCK_ICON 202    
                            17797 ; 607  |//$FILENAME icon_music_mode.src
                            17798 ; 608  |#define RSRC_MUSIC_MODE_ICON 203    
                            17799 ; 609  |//$FILENAME icon_voice_mode.src
                            17800 ; 610  |#define RSRC_VOICE_MODE_ICON 204    
                            17801 ; 611  |
                            17802 ; 612  |////////////////////////////////////////////////////////////////////////////////////////////////////
                            17803 ; 613  |// Volume Bitmaps
                            17804 ; 614  |////////////////////////////////////////////////////////////////////////////////////////////////////
                            17805 ; 615  |//$FILENAME icon_vol_00.src
                            17806 ; 616  |#define RSRC_ICON_VOL_00 205    
                            17807 ; 617  |//$FILENAME icon_vol_01.src
                            17808 ; 618  |#define RSRC_ICON_VOL_01 206    
                            17809 ; 619  |//$FILENAME icon_vol_02.src
                            17810 ; 620  |#define RSRC_ICON_VOL_02 207    
                            17811 ; 621  |//$FILENAME icon_vol_03.src
                            17812 ; 622  |#define RSRC_ICON_VOL_03 208    
                            17813 ; 623  |//$FILENAME icon_vol_04.src
                            17814 ; 624  |#define RSRC_ICON_VOL_04 209    
                            17815 ; 625  |//$FILENAME icon_vol_05.src
                            17816 ; 626  |#define RSRC_ICON_VOL_05 210    
                            17817 ; 627  |//$FILENAME icon_vol_06.src
                            17818 ; 628  |#define RSRC_ICON_VOL_06 211    
                            17819 ; 629  |//$FILENAME icon_vol_07.src
                            17820 ; 630  |#define RSRC_ICON_VOL_07 212    
                            17821 ; 631  |//$FILENAME icon_vol_08.src
                            17822 ; 632  |#define RSRC_ICON_VOL_08 213    
                            17823 ; 633  |//$FILENAME icon_vol_09.src
                            17824 ; 634  |#define RSRC_ICON_VOL_09 214    
                            17825 ; 635  |//$FILENAME icon_vol_10.src
                            17826 ; 636  |#define RSRC_ICON_VOL_10 215    
                            17827 ; 637  |//$FILENAME icon_vol_11.src
                            17828 ; 638  |#define RSRC_ICON_VOL_11 216    
                            17829 ; 639  |//$FILENAME icon_vol_12.src
                            17830 ; 640  |#define RSRC_ICON_VOL_12 217    
                            17831 ; 641  |//$FILENAME icon_vol_13.src
                            17832 ; 642  |#define RSRC_ICON_VOL_13 218    
                            17833 ; 643  |//$FILENAME icon_vol_14.src
                            17834 ; 644  |#define RSRC_ICON_VOL_14 219    
                            17835 ; 645  |//$FILENAME icon_vol_15.src
                            17836 ; 646  |#define RSRC_ICON_VOL_15 220    
                            17837 ; 647  |//$FILENAME icon_vol_16.src
                            17838 ; 648  |#define RSRC_ICON_VOL_16 221    
                            17839 ; 649  |//$FILENAME icon_vol_17.src
                            17840 ; 650  |#define RSRC_ICON_VOL_17 222    
                            17841 ; 651  |//$FILENAME icon_vol_18.src
                            17842 ; 652  |#define RSRC_ICON_VOL_18 223    
                            17843 ; 653  |//$FILENAME icon_vol_19.src
                            17844 ; 654  |#define RSRC_ICON_VOL_19 224    
                            17845 ; 655  |//$FILENAME icon_vol_20.src
                            17846 ; 656  |#define RSRC_ICON_VOL_20 225    
                            17847 ; 657  |//$FILENAME icon_vol_21.src
                            17848 ; 658  |#define RSRC_ICON_VOL_21 226    
                            17849 ; 659  |//$FILENAME icon_vol_22.src
                            17850 ; 660  |#define RSRC_ICON_VOL_22 227    
                            17851 ; 661  |//$FILENAME icon_vol_23.src
                            17852 ; 662  |#define RSRC_ICON_VOL_23 228    
                            17853 ; 663  |//$FILENAME icon_vol_24.src
                            17854 ; 664  |#define RSRC_ICON_VOL_24 229    
                            17855 ; 665  |//$FILENAME icon_vol_25.src
                            17856 ; 666  |#define RSRC_ICON_VOL_25 230    
                            17857 ; 667  |//$FILENAME icon_vol_26.src
                            17858 ; 668  |#define RSRC_ICON_VOL_26 231    
                            17859 ; 669  |//$FILENAME icon_vol_27.src
                            17860 ; 670  |#define RSRC_ICON_VOL_27 232    
                            17861 ; 671  |//$FILENAME icon_vol_28.src
                            17862 ; 672  |#define RSRC_ICON_VOL_28 233    
                            17863 ; 673  |//$FILENAME icon_vol_29.src
                            17864 ; 674  |#define RSRC_ICON_VOL_29 234    
                            17865 ; 675  |//$FILENAME icon_vol_30.src
                            17866 ; 676  |#define RSRC_ICON_VOL_30 235    
                            17867 ; 677  |//$FILENAME icon_vol_31.src
                            17868 ; 678  |#define RSRC_ICON_VOL_31 236    
                            17869 ; 679  |
                            17870 ; 680  |/////////////////////////////////////////////////////////////////////////////////////////////////////
                            17871 ; 681  |// Splash Screen Stuff
                            17872 ; 682  |/////////////////////////////////////////////////////////////////////////////////////////////////////
                            17873 ; 683  |//$FILENAME st_bw1.src
                            17874 ; 684  |#define RSRC_SPLASH_SCREEN 237    
                            17875 ; 685  |//$FILENAME siglogo1.src
                            17876 ; 686  |#define RSRC_SPLASH_SCREEN_1 238    
                            17877 ; 687  |//$FILENAME siglogo2.src
                            17878 ; 688  |#define RSRC_SPLASH_SCREEN_2 239    
                            17879 ; 689  |//$FILENAME siglogo3.src
                            17880 ; 690  |#define RSRC_SPLASH_SCREEN_3 240    
                            17881 ; 691  |//$FILENAME siglogo4.src
                            17882 ; 692  |#define RSRC_SPLASH_SCREEN_4 241    
                            17883 ; 693  |//$FILENAME siglogo5.src
                            17884 ; 694  |#define RSRC_SPLASH_SCREEN_5 242    
                            17885 ; 695  |//$FILENAME siglogo6.src
                            17886 ; 696  |#define RSRC_SPLASH_SCREEN_6 243    
                            17887 ; 697  |//$FILENAME siglogo7.src
                            17888 ; 698  |#define RSRC_SPLASH_SCREEN_7 244    
                            17889 ; 699  |//$FILENAME siglogo8.src
                            17890 ; 700  |#define RSRC_SPLASH_SCREEN_8 245    
                            17891 ; 701  |//$FILENAME siglogo9.src
                            17892 ; 702  |#define RSRC_SPLASH_SCREEN_9 246    
                            17893 ; 703  |//$FILENAME siglogo10.src
                            17894 ; 704  |#define RSRC_SPLASH_SCREEN_10 247    
                            17895 ; 705  |//$FILENAME siglogo11.src
                            17896 ; 706  |#define RSRC_SPLASH_SCREEN_11 248    
                            17897 ; 707  |//$FILENAME siglogo12.src
                            17898 ; 708  |#define RSRC_SPLASH_SCREEN_12 249    
                            17899 ; 709  |//$FILENAME siglogo13.src
                            17900 ; 710  |#define RSRC_SPLASH_SCREEN_13 250    
                            17901 ; 711  |//$FILENAME siglogo.src
                            17902 ; 712  |#define RSRC_SPLASH_SCREEN_ALL 251    
                            17903 ; 713  |
                            17904 ; 714  |//$FILENAME locked.src
                            17905 ; 715  |#define RSRC_LOCKED_SCREEN 252    
                            17906 ; 716  |
                            17907 ; 717  |/////////////////////////////////////////////////////////////////////////////////
                            17908 ; 718  |//  Shutdown
                            17909 ; 719  |/////////////////////////////////////////////////////////////////////////////////
                            17910 ; 720  |//$FILENAME string_arial_8_continue_holding_to_power_off.src
                            17911 ; 721  |#define RSRC_PDOWN_HOLD_STRING 253    
                            17912 ; 722  |//$FILENAME status_16_6_steps_0.src
                            17913 ; 723  |#define RSRC_PDOWN_STATUS_0 254    
                            17914 ; 724  |//$FILENAME status_16_6_steps_1.src
                            17915 ; 725  |#define RSRC_PDOWN_STATUS_1 255    
                            17916 ; 726  |//$FILENAME status_16_6_steps_2.src
                            17917 ; 727  |#define RSRC_PDOWN_STATUS_2 256    
                            17918 ; 728  |//$FILENAME status_16_6_steps_3.src
                            17919 ; 729  |#define RSRC_PDOWN_STATUS_3 257    
                            17920 ; 730  |//$FILENAME status_16_6_steps_4.src
                            17921 ; 731  |#define RSRC_PDOWN_STATUS_4 258    
                            17922 ; 732  |//$FILENAME status_16_6_steps_5.src
                            17923 ; 733  |#define RSRC_PDOWN_STATUS_5 259    
                            17924 ; 734  |//$FILENAME status_16_6_steps_6.src
                            17925 ; 735  |#define RSRC_PDOWN_STATUS_6 260    
                            17926 ; 736  |
                            17927 ; 737  |/////////////////////////////////////////////////////////////////////////////////////////////////////
                            17928 ; 738  |// EQ
                            17929 ; 739  |/////////////////////////////////////////////////////////////////////////////////////////////////////
                            17930 ; 740  |//$FILENAME eq_clear_icon.src
                            17931 ; 741  |#define RSRC_EQ_CLEAR_ICON 261    
                            17932 ; 742  |//$FILENAME rock_icon.src
                            17933 ; 743  |#define RSRC_ROCK_ICON 262    
                            17934 ; 744  |//$FILENAME jazz_icon.src
                            17935 ; 745  |#define RSRC_JAZZ_ICON 263    
                            17936 ; 746  |//$FILENAME classic_icon.src
                            17937 ; 747  |#define RSRC_CLASSIC_ICON 264    
                            17938 ; 748  |//$FILENAME pop_icon.src
                            17939 ; 749  |#define RSRC_POP_ICON 265    
                            17940 ; 750  |//$FILENAME custom_icon.src
                            17941 ; 751  |#define RSRC_CUSTOM_ICON 266    
                            17942 ; 752  |
                            17943 ; 753  |/////////////////////////////////////////////////////////////////////////////////////////////////////
                            17944 ; 754  |// AB
                            17945 ; 755  |/////////////////////////////////////////////////////////////////////////////////////////////////////
                            17946 ; 756  |//$FILENAME ab_mark_a.src
                            17947 ; 757  |#define RSRC_AB_MARK_A_ICON 267    
                            17948 ; 758  |//$FILENAME ab_mark_b.src
                            17949 ; 759  |#define RSRC_AB_MARK_B_ICON 268    
                            17950 ; 760  |
                            17951 ; 761  |/////////////////////////////////////////////////////////////////////////////////////////////////////
                            17952 ; 762  |// Menu Display Resources
                            17953 ; 763  |/////////////////////////////////////////////////////////////////////////////////////////////////////
                            17954 ; 764  |//$FILENAME string_music_menu.src
                            17955 ; 765  |#define RSRC_STRING_MUSIC_MENU 269    
                            17956 ; 766  |//$FILENAME string_mvideo_menu.src
                            17957 ; 767  |#define RSRC_STRING_MVIDEO_MENU 270    
                            17958 ; 768  |//$FILENAME string_jpeg_display_menu.src
                            17959 ; 769  |#define RSRC_STRING_JPEG_DISPLAY_MENU 271    
                            17960 ; 770  |//$FILENAME string_jpeg_manual_menu.src
                            17961 ; 771  |#define RSRC_STRING_JPEG_MANUAL_MENU 272    
                            17962 ; 772  |//$FILENAME string_jpeg_slideshow_menu.src
                            17963 ; 773  |#define RSRC_STRING_JPEG_SLIDESHOW_MENU 273    
                            17964 ; 774  |//$FILENAME string_jpeg_thumbnail_menu.src
                            17965 ; 775  |#define RSRC_STRING_JPEG_THUMBNAIL_MENU 274    
                            17966 ; 776  |//$FILENAME string_voice_menu.src
                            17967 ; 777  |#define RSRC_STRING_VOICE_MENU 275    
                            17968 ; 778  |//$FILENAME string_audible_menu.src
                            17969 ; 779  |#define RSRC_STRING_AUDIBLE_MENU 276    
                            17970 ; 780  |//$FILENAME string_fmtuner_menu.src
                            17971 ; 781  |#define RSRC_STRING_FMTUNER_MENU 277    
                            17972 ; 782  |//$FILENAME string_settings_menu.src
                            17973 ; 783  |#define RSRC_STRING_SETTINGS_MENU 278    
                            17974 ; 784  |//$FILENAME string_eq_menu.src
                            17975 ; 785  |#define RSRC_STRING_EQ_MENU 279    
                            17976 ; 786  |//$FILENAME string_playmode_menu.src
                            17977 ; 787  |#define RSRC_STRING_PLAYMODE_MENU 280    
                            17978 ; 788  |//$FILENAME string_contrast_menu.src
                            17979 ; 789  |#define RSRC_STRING_CONTRAST_MENU 281    
                            17980 ; 790  |//$FILENAME string_pwrsavings_menu.src
                            17981 ; 791  |#define RSRC_STRING_PWRSAVINGS_MENU 282    
                            17982 ; 792  |//$FILENAME string_time_date_menu.src
                            17983 ; 793  |#define RSRC_STRING_TIME_DATE_MENU 283    
                            17984 ; 794  |//$FILENAME string_set_time_menu.src
                            17985 ; 795  |#define RSRC_STRING_SET_TIME_MENU 284    
                            17986 ; 796  |//$FILENAME string_set_date_menu.src
                            17987 ; 797  |#define RSRC_STRING_SET_DATE_MENU 285    
                            17988 ; 798  |//$FILENAME string_exit_menu.src
                            17989 ; 799  |#define RSRC_STRING_EXIT_MENU 286    
                            17990 ; 800  |//$FILENAME string_rock_menu.src
                            17991 ; 801  |#define RSRC_STRING_ROCK_MENU 287    
                            17992 ; 802  |//$FILENAME string_pop_menu.src
                            17993 ; 803  |#define RSRC_STRING_POP_MENU 288    
                            17994 ; 804  |//$FILENAME string_classic_menu.src
                            17995 ; 805  |#define RSRC_STRING_CLASSIC_MENU 289    
                            17996 ; 806  |//$FILENAME string_normal_menu.src
                            17997 ; 807  |#define RSRC_STRING_NORMAL_MENU 290    
                            17998 ; 808  |//$FILENAME string_jazz_menu.src
                            17999 ; 809  |#define RSRC_STRING_JAZZ_MENU 291    
                            18000 ; 810  |//$FILENAME string_repeat1_menu.src
                            18001 ; 811  |#define RSRC_STRING_REPEAT1_MENU 292    
                            18002 ; 812  |//$FILENAME string_repeatall_menu.src
                            18003 ; 813  |#define RSRC_STRING_REPEATALL_MENU 293    
                            18004 ; 814  |//$FILENAME string_shuffle_menu.src
                            18005 ; 815  |#define RSRC_STRING_SHUFFLE_MENU 294    
                            18006 ; 816  |//$FILENAME string_repeatshuffle_menu.src
                            18007 ; 817  |#define RSRC_STRING_SHUFFLEREPEAT_MENU 295    
                            18008 ; 818  |//$FILENAME string_disable_menu.src
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page  72

M:ADDR CODE           CYCLES LINE SOURCELINE
                            18009 ; 819  |#define RSRC_STRING_DISABLE_MENU 296    
                            18010 ; 820  |//$FILENAME string_1min_menu.src
                            18011 ; 821  |#define RSRC_STRING_1MIN_MENU 297    
                            18012 ; 822  |//$FILENAME string_2min_menu.src
                            18013 ; 823  |#define RSRC_STRING_2MIN_MENU 298    
                            18014 ; 824  |//$FILENAME string_5min_menu.src
                            18015 ; 825  |#define RSRC_STRING_5MIN_MENU 299    
                            18016 ; 826  |//$FILENAME string_10min_menu.src
                            18017 ; 827  |#define RSRC_STRING_10MIN_MENU 300    
                            18018 ; 828  |//$FILENAME string_system_menu.src
                            18019 ; 829  |#define RSRC_STRING_SYSTEM_MENU 301    
                            18020 ; 830  |//$FILENAME string_about_menu.src
                            18021 ; 831  |#define RSRC_STRING_ABOUT_MENU 302    
                            18022 ; 832  |//$FILENAME string_delete_menu.src
                            18023 ; 833  |#define RSRC_STRING_DELETE_MENU 303    
                            18024 ; 834  |//$FILENAME string_record_menu.src
                            18025 ; 835  |#define RSRC_STRING_RECORD_MENU 304    
                            18026 ; 836  |//$FILENAME string_spectrogram_menu.src
                            18027 ; 837  |#define RSRC_STRING_SPECTROGRAM_MENU 305    
                            18028 ; 838  |
                            18029 ; 839  |//$FILENAME string_end_of_slide_show.src
                            18030 ; 840  |#define RSRC_STRING_END_OF_SLIDE_SHOW 306    
                            18031 ; 841  |
                            18032 ; 842  |//$FILENAME string_mb.src
                            18033 ; 843  |#define RSRC_STRING_MB 307    
                            18034 ; 844  |
                            18035 ; 845  |//$FILENAME internal_media.src
                            18036 ; 846  |#define RSRC_INT_MEDIA 308    
                            18037 ; 847  |//$FILENAME external_media.src
                            18038 ; 848  |#define RSRC_EXT_MEDIA 309    
                            18039 ; 849  |
                            18040 ; 850  |//$FILENAME about_title.src
                            18041 ; 851  |#define RSRC_ABOUT_TITLE 310    
                            18042 ; 852  |//$FILENAME player_name.src
                            18043 ; 853  |#define RSRC_PLAYER_NAME_VER 311    
                            18044 ; 854  |
                            18045 ; 855  |//$FILENAME settings_title.src
                            18046 ; 856  |#define RSRC_SETTINGS_TITLE 312    
                            18047 ; 857  |//$FILENAME jpeg_display_title.src
                            18048 ; 858  |#define RSRC_JPEG_DISPLAY_TITLE 313    
                            18049 ; 859  |//$FILENAME erase_title.src
                            18050 ; 860  |#define RSRC_ERASE_TITLE 314    
                            18051 ; 861  |
                            18052 ; 862  |//$FILENAME del_warning_no.src
                            18053 ; 863  |#define RSRC_DELETE_NO 315    
                            18054 ; 864  |//$FILENAME del_warning_yes.src
                            18055 ; 865  |#define RSRC_DELETE_YES 316    
                            18056 ; 866  |//$FILENAME del_warning_line1.src
                            18057 ; 867  |#define RSRC_WARNING_MSG_LINE1 317    
                            18058 ; 868  |//$FILENAME del_warning_line2.src
                            18059 ; 869  |#define RSRC_WARNING_MSG_LINE2 318    
                            18060 ; 870  |//$FILENAME lowbattery.src
                            18061 ; 871  |#define RSRC_BROWNOUT_BITMAP 319    
                            18062 ; 872  |//$FILENAME vbr.src
                            18063 ; 873  |#define RSRC_VBR_BITMAP 320    
                            18064 ; 874  |
                            18065 ; 875  |//$FILENAME string_song.src
                            18066 ; 876  |#define RSRC_STRING_SONG_COLON 321    
                            18067 ; 877  |//$FILENAME string_voice.src
                            18068 ; 878  |#define RSRC_STRING_VOICE_COLON 322    
                            18069 ; 879  |
                            18070 ; 880  |//$FILENAME time_date_title.src
                            18071 ; 881  |#define RSRC_TIME_DATE_TITLE 323    
                            18072 ; 882  |//$FILENAME set_time_title.src
                            18073 ; 883  |#define RSRC_SET_TIME_TITLE 324    
                            18074 ; 884  |//$FILENAME set_date_title.src
                            18075 ; 885  |#define RSRC_SET_DATE_TITLE 325    
                            18076 ; 886  |//$FILENAME string_searching.src
                            18077 ; 887  |#define RSRC_STRING_SEARCHING 326    
                            18078 ; 888  |/////////////////////////////////////////////////////////////////////////////////
                            18079 ; 889  |//  Save Changes
                            18080 ; 890  |/////////////////////////////////////////////////////////////////////////////////
                            18081 ; 891  |//$FILENAME save_changes_yes.src
                            18082 ; 892  |#define RSRC_SAVE_CHANGES_YES 327    
                            18083 ; 893  |//$FILENAME save_changes_no.src
                            18084 ; 894  |#define RSRC_SAVE_CHANGES_NO 328    
                            18085 ; 895  |//$FILENAME save_changes_cancel.src
                            18086 ; 896  |#define RSRC_SAVE_CHANGES_CANCEL 329    
                            18087 ; 897  |//$FILENAME save_changes_clear.src
                            18088 ; 898  |#define RSRC_SAVE_CHANGES_CLEAR 330    
                            18089 ; 899  |/////////////////////////////////////////////////////////////////////////////////
                            18090 ; 900  |//  Contrast
                            18091 ; 901  |/////////////////////////////////////////////////////////////////////////////////
                            18092 ; 902  |//$FILENAME contrast_title.src
                            18093 ; 903  |#define RSRC_CONTRAST_TITLE 331    
                            18094 ; 904  |//$FILENAME contrast_frame.src
                            18095 ; 905  |#define RSRC_CONTRAST_FRAME 332    
                            18096 ; 906  |//$FILENAME contrast_level0.src
                            18097 ; 907  |#define RSRC_CONTRAST_LEVEL_0 333    
                            18098 ; 908  |//$FILENAME contrast_level1.src
                            18099 ; 909  |#define RSRC_CONTRAST_LEVEL_1 334    
                            18100 ; 910  |//$FILENAME contrast_level2.src
                            18101 ; 911  |#define RSRC_CONTRAST_LEVEL_2 335    
                            18102 ; 912  |//$FILENAME contrast_level3.src
                            18103 ; 913  |#define RSRC_CONTRAST_LEVEL_3 336    
                            18104 ; 914  |//$FILENAME contrast_level4.src
                            18105 ; 915  |#define RSRC_CONTRAST_LEVEL_4 337    
                            18106 ; 916  |//$FILENAME contrast_level5.src
                            18107 ; 917  |#define RSRC_CONTRAST_LEVEL_5 338    
                            18108 ; 918  |//$FILENAME contrast_level6.src
                            18109 ; 919  |#define RSRC_CONTRAST_LEVEL_6 339    
                            18110 ; 920  |//$FILENAME contrast_level7.src
                            18111 ; 921  |#define RSRC_CONTRAST_LEVEL_7 340    
                            18112 ; 922  |//$FILENAME contrast_level8.src
                            18113 ; 923  |#define RSRC_CONTRAST_LEVEL_8 341    
                            18114 ; 924  |//$FILENAME contrast_level9.src
                            18115 ; 925  |#define RSRC_CONTRAST_LEVEL_9 342    
                            18116 ; 926  |//$FILENAME contrast_level10.src
                            18117 ; 927  |#define RSRC_CONTRAST_LEVEL_10 343    
                            18118 ; 928  |
                            18119 ; 929  |////////////////////////////////////////////////////////////////////////////////////////////////////
                            18120 ; 930  |// Funclets
                            18121 ; 931  |////////////////////////////////////////////////////////////////////////////////////////////////////
                            18122 ; 932  |//$FILENAME Funclet_SetRTC.src
                            18123 ; 933  |#define RSRC_FUNCLET_SET_RTC 344    
                            18124 ; 934  |//$FILENAME Funclet_InitRTC.src
                            18125 ; 935  |#define RSRC_FUNCLET_INIT_RTC 345    
                            18126 ; 936  |//$FILENAME Funclet_ReadRTC.src
                            18127 ; 937  |#define RSRC_FUNCLET_READ_RTC 346    
                            18128 ; 938  |//$FILENAME Funclet_SysResetAllInt.src
                            18129 ; 939  |#define RSRC_FUNCLET_SYSRESETALLINT 347    
                            18130 ; 940  |//$FILENAME Funclet_SysSetupDecVec.src
                            18131 ; 941  |#define RSRC_FUNCLET_SYSSETUPDECVEC 348    
                            18132 ; 942  |//$FILENAME Funclet_SysSetupEncVec.src
                            18133 ; 943  |#define RSRC_FUNCLET_SYSSETUPENCVEC 349    
                            18134 ; 944  |//$FILENAME Funclet_SysTimeInit.src
                            18135 ; 945  |#define RSRC_FUNCLET_SYSTIMEINIT 350    
                            18136 ; 946  |//$FILENAME Funclet_AnalogInit.src
                            18137 ; 947  |#define RSRC_FUNCLET_ANALOGINIT 351    
                            18138 ; 948  |//$FILENAME Funclet_UsbConnected.src
                            18139 ; 949  |#define RSRC_FUNCLET_USBCONNECTED 352    
                            18140 ; 950  |//$FILENAME Funclet_ButtonInit.src
                            18141 ; 951  |#define RSRC_FUNCLET_BUTTONINIT 353    
                            18142 ; 952  |//$FILENAME Funclet_PowerUpHeadPhones.src
                            18143 ; 953  |#define RSRC_FUNCLET_POWERUPHEADPHONES 354    
                            18144 ; 954  |//$FILENAME Funclet_PowerDownHeadPhones.src
                            18145 ; 955  |#define RSRC_FUNCLET_POWERDOWNHEADPHONES 355    
                            18146 ; 956  |//$FILENAME Funclet_StartProject.src
                            18147 ; 957  |#define RSRC_FUNCLET_STARTPROJECT 356    
                            18148 ; 958  |//$FILENAME Funclet_ModuleSetTimer.src
                            18149 ; 959  |#define RSRC_FUNCLET_MODULESETTIMER 357    
                            18150 ; 960  |//$FILENAME null.src
                            18151 ; 961  |#define RSRC_FUNCLET_MEDIADETECTION 358    
                            18152 ; 962  |//$FILENAME Funclet_SysStopDecoder.src
                            18153 ; 963  |#define RSRC_FUNCLET_SYSSTOPDECODER 359    
                            18154 ; 964  |//$FILENAME Funclet_SysStopEncoder.src
                            18155 ; 965  |#define RSRC_FUNCLET_SYSSTOPENCODER 360    
                            18156 ; 966  |//$FILENAME Funclet_SysSetDecoder.src
                            18157 ; 967  |#define RSRC_FUNCLET_SYSSETDECODER 361    
                            18158 ; 968  |//$FILENAME Funclet_SysSetEncoder.src
                            18159 ; 969  |#define RSRC_FUNCLET_SYSSETENCODER 362    
                            18160 ; 970  |//$FILENAME null.src
                            18161 ; 971  |#define RSRC_FUNCLET_PROCESSPT 363    
                            18162 ; 972  |//$FILENAME Funclet_DisplaySplashScreen.src
                            18163 ; 973  |#define RSRC_FUNCLET_DISPLAYSPLASHSCREEN 364    
                            18164 ; 974  |//$FILENAME Funclet_SysGetVolume.src
                            18165 ; 975  |#define RSRC_FUNCLET_SYSGETVOLUME 365    
                            18166 ; 976  |//$FILENAME null.src
                            18167 ; 977  |#define RSRC_FUNCLET_MMCENUMERATEPHYSICALDEVICE 366    
                            18168 ; 978  |//$FILENAME null.src
                            18169 ; 979  |#define RSRC_FUNCLET_RESETDEVICE 367    
                            18170 ; 980  |//$FILENAME null.src
                            18171 ; 981  |#define RSRC_FUNCLET_PROCESSCSD 368    
                            18172 ; 982  |//$FILENAME null.src
                            18173 ; 983  |#define RSRC_FUNCLET_PROCESSPARTITION 369    
                            18174 ; 984  |//$FILENAME null.src
                            18175 ; 985  |#define RSRC_FUNCLET_PARTITIONENTRYCOPY 370    
                            18176 ; 986  |//$FILENAME Funclet_MixerMasterFadeOut.src
                            18177 ; 987  |#define RSRC_FUNCLET_MIXER_MASTER_FADE_OUT 371    
                            18178 ; 988  |//$FILENAME Funclet_MixerMasterFadeIn.src
                            18179 ; 989  |#define RSRC_FUNCLET_MIXER_MASTER_FADE_IN 372    
                            18180 ; 990  |//$FILENAME Funclet_EncSetProperties.src
                            18181 ; 991  |#define RSRC_FUNCLET_ENCSETPROPERTIES 373    
                            18182 ; 992  |//$FILENAME null.src
                            18183 ; 993  |#define RSRC_FUNCLET_DOESMBREXIST 374    
                            18184 ; 994  |//$FILENAME null.src
                            18185 ; 995  |#define RSRC_FUNCLET_EXTRACTPARTITIONPARAMETERS 375    
                            18186 ; 996  |//$FILENAME Funclet_SaveSettings.src
                            18187 ; 997  |#define RSRC_FUNCLET_SYSSAVESETTINGS 376    
                            18188 ; 998  |//$FILENAME Funclet_LoadSettings.src
                            18189 ; 999  |#define RSRC_FUNCLET_SYSLOADSETTINGS 377    
                            18190 ; 1000 |///////////////////////////////////////////////////////////////
                            18191 ; 1001 |// Sanyo FM Tuner Fuclet
                            18192 ; 1002 |///////////////////////////////////////////////////////////////
                            18193 ; 1003 |//RSRC_FUNCLET_TUNER_DRIVER_INIT    equ      334    ;$FILENAME Funclet_TunerDriverInit.src
                            18194 ; 1004 |//RSRC_FUNCLET_TUNER_SCAN_STATIONS    equ      335    ;$FILENAME Funclet_TunerScanStations.src
                            18195 ; 1005 |//RSRC_FUNCLET_TUNER_SET_TO_PRESET    equ      336    ;$FILENAME Funclet_TunerSetToPreset.src
                            18196 ; 1006 |//RSRC_FUNCLET_TUNER_SET_MONO_STEREO    equ      337    ;$FILENAME Funclet_TunerSetMonoStereo.src
                            18197 ; 1007 |//RSRC_FUNCLET_TUNER_SET_STANDBY    equ      338    ;$FILENAME Funclet_TunerSetStandby.src
                            18198 ; 1008 |//RSRC_FUNCLET_TUNER_SET_PRESET    equ      339    ;$FILENAME Funclet_TunerSetPreset.src
                            18199 ; 1009 |//RSRC_FUNCLET_TUNER_ERASE_PRESET    equ      340    ;$FILENAME Funclet_TunerErasePreset.src
                            18200 ; 1010 |//RSRC_FUNCLET_TUNER_SET_IF    equ      341    ;$FILENAME Funclet_TunerSetIf.src
                            18201 ; 1011 |//RSRC_FUNCLET_TUNER_WRITE_IF_OSC    equ      342    ;$FILENAME Funclet_TunerWriteIfOSc.src
                            18202 ; 1012 |//RSRC_FUNCLET_TUNER_GET_FIELD_STRENGTH    equ      343    ;$FILENAME Funclet_TunerGetFieldStrength.src
                            18203 ; 1013 |//RSRC_FUNCLET_TUNER_INIT_RF_CAP_OSC    equ      344    ;$FILENAME Funclet_TunerInitRfCapOsc.src
                            18204 ; 1014 |//RSRC_FUNCLET_TUNER_STORE_FM_STATION    equ      345    ;$FILENAME Funclet_TunerStoreFmStation.src
                            18205 ; 1015 |//RSRC_FUNCLET_TUNER_STORE_FM_PRESET    equ      346    ;$FILENAME Funclet_TunerStoreFmPreset.src
                            18206 ; 1016 |//RSRC_FUNCLET_TUNER_SET_REGION    equ      347    ;$FILENAME Funclet_TunerSetRegion.src
                            18207 ; 1017 |
                            18208 ; 1018 |////////////////////////////////////////////////////////////////////////////////////////////////////
                            18209 ; 1019 |// WMA Resources
                            18210 ; 1020 |////////////////////////////////////////////////////////////////////////////////////////////////////
                            18211 ; 1021 |//$FILENAME wmaCore.src
                            18212 ; 1022 |#define RSRC_WMA_CORE 378    
                            18213 ; 1023 |//$FILENAME wmaMidLow.src
                            18214 ; 1024 |#define RSRC_WMA_MIDLOW 379    
                            18215 ; 1025 |//$FILENAME wmaHigh.src
                            18216 ; 1026 |#define RSRC_WMA_HIGH 380    
                            18217 ; 1027 |//$FILENAME wmaHighMid.src
                            18218 ; 1028 |#define RSRC_WMA_HIGHMID 381    
                            18219 ; 1029 |//$FILENAME wmaMid.src
                            18220 ; 1030 |#define RSRC_WMA_MID 382    
                            18221 ; 1031 |//$FILENAME wmaLow.src
                            18222 ; 1032 |#define RSRC_WMA_LOW 383    
                            18223 ; 1033 |//$FILENAME wmaX1mem.src
                            18224 ; 1034 |#define RSRC_WMA_DATA_X1 384    
                            18225 ; 1035 |//$FILENAME wmaYmem.src
                            18226 ; 1036 |#define RSRC_WMA_DATA_Y 385    
                            18227 ; 1037 |//$FILENAME wmaLXmem.src
                            18228 ; 1038 |#define RSRC_WMA_DATA_L_X 386    
                            18229 ; 1039 |//$FILENAME wmaLYmem.src
                            18230 ; 1040 |#define RSRC_WMA_DATA_L_Y 387    
                            18231 ; 1041 |//$FILENAME wmaHuff44Qb.src
                            18232 ; 1042 |#define RSRC_WMA_HUFF44QB 388    
                            18233 ; 1043 |//$FILENAME wmaHuff44Ob.src
                            18234 ; 1044 |#define RSRC_WMA_HUFF44OB 389    
                            18235 ; 1045 |//$FILENAME wmaHuff16Ob.src
                            18236 ; 1046 |#define RSRC_WMA_HUFF16OB 390    
                            18237 ; 1047 |//$FILENAME drmpdcommon.src
                            18238 ; 1048 |#define RSRC_DRMPD_COMMON 391    
                            18239 ; 1049 |//$FILENAME januswmasupport.src
                            18240 ; 1050 |#define RSRC_JANUS_WMASUPPORT 392    
                            18241 ; 1051 |//$FILENAME wmalicenseinit.src
                            18242 ; 1052 |#define RSRC_WMA_LICENSEINIT 393    
                            18243 ; 1053 |//$FILENAME wma_tables.src
                            18244 ; 1054 |#define RSRC_WMA_TABLES 394    
                            18245 ; 1055 |//$FILENAME janus_tables.src
                            18246 ; 1056 |#define RSRC_JANUS_TABLES 395    
                            18247 ; 1057 |//$FILENAME wma_constants.src
                            18248 ; 1058 |#define RSRC_WMA_CONSTANTS 396    
                            18249 ; 1059 |//$FILENAME janus_constants.src
                            18250 ; 1060 |#define RSRC_JANUS_CONSTANTS 397    
                            18251 ; 1061 |//$FILENAME janus_xmem.src
                            18252 ; 1062 |#define RSRC_JANUS_X 398    
                            18253 ; 1063 |//$FILENAME janusy_data.src
                            18254 ; 1064 |#define RSRC_JANUSY_DATA 399    
                            18255 ; 1065 |
                            18256 ; 1066 |////////////////////////////////////////////////////////////////////////////////////////////////////
                            18257 ; 1067 |// Fonts -- these are last because they are very large
                            18258 ; 1068 |////////////////////////////////////////////////////////////////////////////////////////////////////
                            18259 ; 1069 |//$FILENAME font_table.src
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page  73

M:ADDR CODE           CYCLES LINE SOURCELINE
                            18260 ; 1070 |#define RSRC_FONT_TABLE 400    
                            18261 ; 1071 |//$FILENAME font_PGM.src
                            18262 ; 1072 |#define RSRC_PGM_8 401    
                            18263 ; 1073 |//$FILENAME font_SGMs.src
                            18264 ; 1074 |#define RSRC_SGMS_8 402    
                            18265 ; 1075 |//$FILENAME font_script_00.src
                            18266 ; 1076 |#define RSRC_SCRIPT_00_8 403    
                            18267 ; 1077 |//$FILENAME font_scripts.src
                            18268 ; 1078 |#define RSRC_SCRIPTS_8 404    
                            18269 ; 1079 |//$FILENAME font_PDM.src
                            18270 ; 1080 |#define RSRC_PDM 405    
                            18271 ; 1081 |//$FILENAME font_SDMs.src
                            18272 ; 1082 |#define RSRC_SDMS 406    
                            18273 ; 1083 |//$FILENAME bitmap_warning.src
                            18274 ; 1084 |#define RSRC_WARNING 407    
                            18275 ; 1085 |//$FILENAME bitmap_device_full.src
                            18276 ; 1086 |#define RSRC_DEVICE_FULL 408    
                            18277 ; 1087 |
                            18278 ; 1088 |
                            18279 ; 1089 |//$FILENAME lcd_controller_init.src
                            18280 ; 1090 |#define RSRC_LCD_INIT_SEQ 409    
                            18281 ; 1091 |
                            18282 ; 1092 |//$FILENAME Funclet_DBCSToUnicode.src
                            18283 ; 1093 |#define RSRC_FUNCLET_DBCS_TO_UNICODE 410    
                            18284 ; 1094 |//$FILENAME Funclet_DBCSToUnicodeDstXSrcY.src
                            18285 ; 1095 |#define RSRC_FUNCLET_DBCS_TO_UNICODE_DSTX_SRCY 411    
                            18286 ; 1096 |//$FILENAME Funclet_LCDSetFont.src
                            18287 ; 1097 |#define RSRC_FUNCLET_SET_FONT 412    
                            18288 ; 1098 |//$FILENAME Funclet_GetTextWidthAddressUnicode.src
                            18289 ; 1099 |#define RSRC_FUNCLET_GET_TEXT_WIDTH_ADDRESS_UNICODE 413    
                            18290 ; 1100 |//$FILENAME Funclet_GetTextWidthResourceUnicode.src
                            18291 ; 1101 |#define RSRC_FUNCLET_GET_TEXT_WIDTH_RESOURCE_UNICODE 414    
                            18292 ; 1102 |//$FILENAME Funclet_GetTextWidthAddressDBCS.src
                            18293 ; 1103 |#define RSRC_FUNCLET_GET_TEXT_WIDTH_ADDRESS_DBCS 415    
                            18294 ; 1104 |//$FILENAME Funclet_GetTextWidthResourceDBCS.src
                            18295 ; 1105 |#define RSRC_FUNCLET_GET_TEXT_WIDTH_RESOURCE_DBCS 416    
                            18296 ; 1106 |//$FILENAME Funclet_ChipSerialNumberInit.src
                            18297 ; 1107 |#define RSRC_FUNCLET_CHIPSERIALNUMBERINIT 417    
                            18298 ; 1108 |//$FILENAME Funclet_InternalMediaSerialNumberInit.src
                            18299 ; 1109 |#define RSRC_FUNCLET_INTERNALMEDIASERIALNUMBERINIT 418    
                            18300 ; 1110 |//$FILENAME Funclet_ChipGetSerialNumber.src
                            18301 ; 1111 |#define RSRC_FUNCLET_CHIPGETSERIALNUMBER 419    
                            18302 ; 1112 |//$FILENAME Funclet_CreateNullSerialNumber.src
                            18303 ; 1113 |#define RSRC_FUNCLET_CREATENULLSERIALNUMBER 420    
                            18304 ; 1114 |//$FILENAME Funclet_ConvertHexToASCII.src
                            18305 ; 1115 |#define RSRC_FUNCLET_CONVERTHEXTOASCII 421    
                            18306 ; 1116 |//$FILENAME Funclet_LowResolutionAdcInit.src
                            18307 ; 1117 |#define RSRC_FUNCLET_LOWRESOLUTIONADCINIT 422    
                            18308 ; 1118 |
                            18309 ; 1119 |
                            18310 ; 1120 |//$FILENAME sysrecord.src
                            18311 ; 1121 |#define RSRC_SYSRECORD_CODE 423    
                            18312 ; 1122 |
                            18313 ; 1123 |//$FILENAME string_record_settings.src
                            18314 ; 1124 |#define RSRC_STRING_RECORD_SETTINGS 424    
                            18315 ; 1125 |//$FILENAME string_sample_rate.src
                            18316 ; 1126 |#define RSRC_STRING_SAMPLE_RATE 425    
                            18317 ; 1127 |//$FILENAME string_encoder.src
                            18318 ; 1128 |#define RSRC_STRING_ENCODER 426    
                            18319 ; 1129 |//$FILENAME string_adpcm.src
                            18320 ; 1130 |#define RSRC_STRING_ADPCM 427    
                            18321 ; 1131 |//$FILENAME string_msadpcm.src
                            18322 ; 1132 |#define RSRC_STRING_MSADPCM 428    
                            18323 ; 1133 |//$FILENAME string_imadpcm.src
                            18324 ; 1134 |#define RSRC_STRING_IMADPCM 429    
                            18325 ; 1135 |//$FILENAME string_pcm.src
                            18326 ; 1136 |#define RSRC_STRING_PCM 430    
                            18327 ; 1137 |//$FILENAME string_internal.src
                            18328 ; 1138 |#define RSRC_STRING_INTERNAL 431    
                            18329 ; 1139 |//$FILENAME string_external.src
                            18330 ; 1140 |#define RSRC_STRING_EXTERNAL 432    
                            18331 ; 1141 |//$FILENAME string_device.src
                            18332 ; 1142 |#define RSRC_STRING_DEVICE 433    
                            18333 ; 1143 |//$FILENAME string_source.src
                            18334 ; 1144 |#define RSRC_STRING_SOURCE 434    
                            18335 ; 1145 |//$FILENAME string_microphone.src
                            18336 ; 1146 |#define RSRC_STRING_MICROPHONE 435    
                            18337 ; 1147 |//$FILENAME string_linein.src
                            18338 ; 1148 |#define RSRC_STRING_LINEIN 436    
                            18339 ; 1149 |//$FILENAME string_bits.src
                            18340 ; 1150 |#define RSRC_STRING_BITS 437    
                            18341 ; 1151 |//$FILENAME string_4.src
                            18342 ; 1152 |#define RSRC_STRING_4 438    
                            18343 ; 1153 |//$FILENAME string_8.src
                            18344 ; 1154 |#define RSRC_STRING_8 439    
                            18345 ; 1155 |//$FILENAME string_16.src
                            18346 ; 1156 |#define RSRC_STRING_16 440    
                            18347 ; 1157 |//$FILENAME string_24.src
                            18348 ; 1158 |#define RSRC_STRING_24 441    
                            18349 ; 1159 |//$FILENAME string_fm.src
                            18350 ; 1160 |#define RSRC_STRING_FM 442    
                            18351 ; 1161 |//$FILENAME string_mono.src
                            18352 ; 1162 |#define RSRC_STRING_MONO 443    
                            18353 ; 1163 |//$FILENAME string_stereo.src
                            18354 ; 1164 |#define RSRC_STRING_STEREO 444    
                            18355 ; 1165 |//$FILENAME string_8000hz.src
                            18356 ; 1166 |#define RSRC_STRING_8000HZ 445    
                            18357 ; 1167 |//$FILENAME string_11025hz.src
                            18358 ; 1168 |#define RSRC_STRING_11025HZ 446    
                            18359 ; 1169 |//$FILENAME string_16000hz.src
                            18360 ; 1170 |#define RSRC_STRING_16000HZ 447    
                            18361 ; 1171 |//$FILENAME string_22050hz.src
                            18362 ; 1172 |#define RSRC_STRING_22050HZ 448    
                            18363 ; 1173 |//$FILENAME string_32000hz.src
                            18364 ; 1174 |#define RSRC_STRING_32000HZ 449    
                            18365 ; 1175 |//$FILENAME string_44100hz.src
                            18366 ; 1176 |#define RSRC_STRING_44100HZ 450    
                            18367 ; 1177 |//$FILENAME string_48000hz.src
                            18368 ; 1178 |#define RSRC_STRING_48000HZ 451    
                            18369 ; 1179 |//$FILENAME string_channels.src
                            18370 ; 1180 |#define RSRC_STRING_CHANNELS 452    
                            18371 ; 1181 |//$FILENAME string_spaces.src
                            18372 ; 1182 |#define RSRC_STRING_SPACES 453    
                            18373 ; 1183 |//$FILENAME slider_bar.src
                            18374 ; 1184 |#define RSRC_SLIDER_BAR 454    
                            18375 ; 1185 |//$FILENAME slider_bar_inv.src
                            18376 ; 1186 |#define RSRC_SLIDER_BAR_INV 455    
                            18377 ; 1187 |//$FILENAME slider_track.src
                            18378 ; 1188 |#define RSRC_SLIDER_TRACK 456    
                            18379 ; 1189 |//$FILENAME string_no_files.src
                            18380 ; 1190 |#define RSRC_STRING_NO_FILES 457    
                            18381 ; 1191 |
                            18382 ; 1192 |/////////////////////////////////////////////////////////////////////
                            18383 ; 1193 |//  Time and Date Resource Strings
                            18384 ; 1194 |/////////////////////////////////////////////////////////////////////
                            18385 ; 1195 |//$FILENAME string_sunday.src
                            18386 ; 1196 |#define RSRC_STRING_SUNDAY 458    
                            18387 ; 1197 |//$FILENAME string_monday.src
                            18388 ; 1198 |#define RSRC_STRING_MONDAY 459    
                            18389 ; 1199 |//$FILENAME string_tuesday.src
                            18390 ; 1200 |#define RSRC_STRING_TUESDAY 460    
                            18391 ; 1201 |//$FILENAME string_wednesday.src
                            18392 ; 1202 |#define RSRC_STRING_WEDNESDAY 461    
                            18393 ; 1203 |//$FILENAME string_thursday.src
                            18394 ; 1204 |#define RSRC_STRING_THURSDAY 462    
                            18395 ; 1205 |//$FILENAME string_friday.src
                            18396 ; 1206 |#define RSRC_STRING_FRIDAY 463    
                            18397 ; 1207 |//$FILENAME string_saturday.src
                            18398 ; 1208 |#define RSRC_STRING_SATURDAY 464    
                            18399 ; 1209 |//$FILENAME string_am.src
                            18400 ; 1210 |#define RSRC_STRING_AM 465    
                            18401 ; 1211 |//$FILENAME string_pm.src
                            18402 ; 1212 |#define RSRC_STRING_PM 466    
                            18403 ; 1213 |//$FILENAME string_amclear.src
                            18404 ; 1214 |#define RSRC_STRING_AMCLEAR 467    
                            18405 ; 1215 |//$FILENAME string_slash.src
                            18406 ; 1216 |#define RSRC_STRING_SLASH 468    
                            18407 ; 1217 |//$FILENAME string_colon.src
                            18408 ; 1218 |#define RSRC_STRING_COLON 469    
                            18409 ; 1219 |//$FILENAME string_12hour.src
                            18410 ; 1220 |#define RSRC_STRING_12HOUR 470    
                            18411 ; 1221 |//$FILENAME string_24hour.src
                            18412 ; 1222 |#define RSRC_STRING_24HOUR 471    
                            18413 ; 1223 |//$FILENAME string_format.src
                            18414 ; 1224 |#define RSRC_STRING_FORMAT 472    
                            18415 ; 1225 |//$FILENAME string_mmddyyyy.src
                            18416 ; 1226 |#define RSRC_STRING_MMDDYYYY 473    
                            18417 ; 1227 |//$FILENAME string_ddmmyyyy.src
                            18418 ; 1228 |#define RSRC_STRING_DDMMYYYY 474    
                            18419 ; 1229 |//$FILENAME string_yyyymmdd.src
                            18420 ; 1230 |#define RSRC_STRING_YYYYMMDD 475    
                            18421 ; 1231 |//$FILENAME string_ok.src
                            18422 ; 1232 |#define RSRC_STRING_OK 476    
                            18423 ; 1233 |//$FILENAME string_cancel.src
                            18424 ; 1234 |#define RSRC_STRING_CANCEL 477    
                            18425 ; 1235 |//$FILENAME negative_sign.src
                            18426 ; 1236 |#define RSRC_NEGATIVE_SIGN 478    
                            18427 ; 1237 |//$FILENAME string_dec_pt5.src
                            18428 ; 1238 |#define RSRC_DEC_PT5_STRING 479    
                            18429 ; 1239 |//$FILENAME string_dec_pt0.src
                            18430 ; 1240 |#define RSRC_DEC_PT0_STRING 480    
                            18431 ; 1241 |//$FILENAME string_db.src
                            18432 ; 1242 |#define RSRC_DB_STRING 481    
                            18433 ; 1243 |//$FILENAME string_hz2.src
                            18434 ; 1244 |#define RSRC_HZ2_STRING 482    
                            18435 ; 1245 |
                            18436 ; 1246 |
                            18437 ; 1247 |//$FILENAME record_settings_menu_code_bank.src
                            18438 ; 1248 |#define RSRC_RECORD_SETTINGS_MENU_CODE_BANK 483    
                            18439 ; 1249 |//$FILENAME metadata_codebank.src
                            18440 ; 1250 |#define RSRC_METADATA_CODEBANK 484    
                            18441 ; 1251 |//$FILENAME mp3metadata_codebank.src
                            18442 ; 1252 |#define RSRC_MP3_METADATA_CODEBANK 485    
                            18443 ; 1253 |//$FILENAME wmametadata_codebank.src
                            18444 ; 1254 |#define RSRC_WMA_METADATA_CODEBANK 486    
                            18445 ; 1255 |//$FILENAME wavmetadata_codebank.src
                            18446 ; 1256 |#define RSRC_WAV_METADATA_CODEBANK 487    
                            18447 ; 1257 |//$FILENAME smvmetadata_codebank.src
                            18448 ; 1258 |#define RSRC_SMV_METADATA_CODEBANK 488    
                            18449 ; 1259 |//$FILENAME playlist2init_codebank.src
                            18450 ; 1260 |#define RSRC_PLAYLIST2INIT_CODEBANK 489    
                            18451 ; 1261 |
                            18452 ; 1262 |//$FILENAME delete_successful.src
                            18453 ; 1263 |#define RSRC_DELETE_SUCCESSFUL 490    
                            18454 ; 1264 |//$FILENAME delete_error.src
                            18455 ; 1265 |#define RSRC_DELETE_ERROR 491    
                            18456 ; 1266 |//$FILENAME lic_expired.src
                            18457 ; 1267 |#define RSRC_LIC_EXPIRED 492    
                            18458 ; 1268 |//$FILENAME id3v2_codebank.src
                            18459 ; 1269 |#define RSRC_ID3V2_CODEBANK 493    
                            18460 ; 1270 |//$FILENAME id3v2lyrics_codebank.src
                            18461 ; 1271 |#define RSRC_ID3V2_LYRICS_CODEBANK 494    
                            18462 ; 1272 |//$FILENAME lyrics3_codebank.src
                            18463 ; 1273 |#define RSRC_LYRICS3_CODEBANK 495    
                            18464 ; 1274 |//$FILENAME lrc_codebank.src
                            18465 ; 1275 |#define RSRC_LRC_CODEBANK 496    
                            18466 ; 1276 |//$FILENAME lyrics_api_codebank.src
                            18467 ; 1277 |#define RSRC_LYRICS_API_CODEBANK 497    
                            18468 ; 1278 |//$FILENAME wmalyrics_codebank.src
                            18469 ; 1279 |#define RSRC_WMA_LYRICS_CODEBANK 498    
                            18470 ; 1280 |//$FILENAME apicframe_codebank.src
                            18471 ; 1281 |#define RSRC_APIC_FRAME_CODEBANK 499    
                            18472 ; 1282 |
                            18473 ; 1283 |//$FILENAME exmediaerror1.src
                            18474 ; 1284 |#define RSRC_EXTERNAL_MEDIA_ERROR1 500    
                            18475 ; 1285 |//$FILENAME exmediaerror2.src
                            18476 ; 1286 |#define RSRC_EXTERNAL_MEDIA_ERROR2 501    
                            18477 ; 1287 |//$FILENAME inmediaerror1.src
                            18478 ; 1288 |#define RSRC_INTERNAL_MEDIA_ERROR1 502    
                            18479 ; 1289 |
                            18480 ; 1290 |//$FILENAME backlight_title.src
                            18481 ; 1291 |#define RSRC_BACKLIGHT_TITLE 503    
                            18482 ; 1292 |//$FILENAME backlight_state_on.src
                            18483 ; 1293 |#define RSRC_BACKLIGHT_STATE_ON 504    
                            18484 ; 1294 |//$FILENAME backlight_state_off.src
                            18485 ; 1295 |#define RSRC_BACKLIGHT_STATE_OFF 505    
                            18486 ; 1296 |//$FILENAME backlightmenu.src
                            18487 ; 1297 |#define RSRC_BACKLIGHT_MENU_CODE_BANK 506    
                            18488 ; 1298 |//$FILENAME string_backlight_menu.src
                            18489 ; 1299 |#define RSRC_STRING_BACKLIGHT_MENU 507    
                            18490 ; 1300 |
                            18491 ; 1301 |//$FILENAME enc_mp3mod.src
                            18492 ; 1302 |#define RSRC_ENC_MP3_MOD_CODE 508    
                            18493 ; 1303 |//$FILENAME enc_mp3p.src
                            18494 ; 1304 |#define RSRC_ENC_MP3P_CODE 509    
                            18495 ; 1305 |//$FILENAME enc_mp3x.src
                            18496 ; 1306 |#define RSRC_ENC_MP3X_CODE 510    
                            18497 ; 1307 |//$FILENAME enc_mp3y.src
                            18498 ; 1308 |#define RSRC_ENC_MP3Y_CODE 511    
                            18499 ; 1309 |//$FILENAME mp3_implementation.src
                            18500 ; 1310 |#define RSRC_MP3_IMPLEMENTATION 512    
                            18501 ; 1311 |//$FILENAME string_mp3.src
                            18502 ; 1312 |#define RSRC_STRING_MP3 513    
                            18503 ; 1313 |//$FILENAME string_all.src
                            18504 ; 1314 |#define RSRC_STRING_ALL 514    
                            18505 ; 1315 |
                            18506 ; 1316 |//$FILENAME mediastartup.src
                            18507 ; 1317 |#define RSRC_NANDMEDIAINIT 515    
                            18508 ; 1318 |#define RSRC_NANDMEDIAALLOCATE 0
                            18509 ; 1319 |#define RSRC_NANDMEDIADISCOVERALLOCATION 0
                            18510 ; 1320 |#define RSRC_NANDMEDIAGETMEDIATABLE RSRC_NANDMEDIAINIT
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page  74

M:ADDR CODE           CYCLES LINE SOURCELINE
                            18511 ; 1321 |#define RSRC_NANDMEDIAGETINFO RSRC_NANDMEDIAINIT
                            18512 ; 1322 |#define RSRC_NANDMEDIAERASE 0
                            18513 ; 1323 |
                            18514 ; 1324 |//$FILENAME nanddatadriveinit.src
                            18515 ; 1325 |#define RSRC_NANDDATADRIVEINIT 516    
                            18516 ; 1326 |#define RSRC_NANDDATADRIVEGETINFO RSRC_NANDDATADRIVEREADSECTOR
                            18517 ; 1327 |#define RSRC_NANDDATADRIVESETINFO 0
                            18518 ; 1328 |//$FILENAME nanddatadrivereadsector.src
                            18519 ; 1329 |#define RSRC_NANDDATADRIVEREADSECTOR 517    
                            18520 ; 1330 |#define RSRC_NANDDATADRIVEWRITESECTOR RSRC_NANDDATADRIVEREADSECTOR
                            18521 ; 1331 |#define RSRC_NANDDATADRIVEDUMBMULTIWRITESETUP 0
                            18522 ; 1332 |#define RSRC_NANDDATADRIVEDUMBMULTIWRITESECTOR 0
                            18523 ; 1333 |#define RSRC_NANDDATADRIVECACHEMULTIWRITESETUP 0
                            18524 ; 1334 |#define RSRC_NANDDATADRIVECACHEMULTIWRITESECTOR 0
                            18525 ; 1335 |#define RSRC_NANDDATADRIVEERASE 0
                            18526 ; 1336 |#define RSRC_NANDDATADRIVEFLUSH RSRC_NANDDATADRIVEREADSECTOR
                            18527 ; 1337 |
                            18528 ; 1338 |#define RSRC_NANDSYSTEMDRIVEINIT RSRC_NANDMEDIAINIT
                            18529 ; 1339 |#define RSRC_NANDSYSTEMDRIVEGETINFO RSRC_NANDMEDIAINIT
                            18530 ; 1340 |#define RSRC_NANDSYSTEMDRIVESETINFO 0
                            18531 ; 1341 |#define RSRC_NANDSYSTEMDRIVEREADSECTOR 0
                            18532 ; 1342 |#define RSRC_NANDSYSTEMDRIVEWRITESECTOR 0
                            18533 ; 1343 |#define RSRC_NANDSYSTEMDRIVEMULTIWRITESETUP 0
                            18534 ; 1344 |#define RSRC_NANDSYSTEMDRIVEMULTIWRITESECTOR 0
                            18535 ; 1345 |#define RSRC_NANDSYSTEMDRIVEERASE 0
                            18536 ; 1346 |#define RSRC_NANDSYSTEMDRIVEFLUSH 0
                            18537 ; 1347 |
                            18538 ; 1348 |//$FILENAME vbr_codebank.src
                            18539 ; 1349 |#define RSRC_VBR_CODEBANK 518    
                            18540 ; 1350 |
                            18541 ; 1351 |//$FILENAME string_recordtest_menu.src
                            18542 ; 1352 |#define RSRC_STRING_RECORDTEST_MENU 519    
                            18543 ; 1353 |//$FILENAME string_recordtest_duration.src
                            18544 ; 1354 |#define RSRC_STRING_DURATION 520    
                            18545 ; 1355 |//$FILENAME string_recordtest_time5.src
                            18546 ; 1356 |#define RSRC_STRING_TIME5 521    
                            18547 ; 1357 |//$FILENAME string_recordtest_time10.src
                            18548 ; 1358 |#define RSRC_STRING_TIME10 522    
                            18549 ; 1359 |//$FILENAME string_recordtest_time30.src
                            18550 ; 1360 |#define RSRC_STRING_TIME30 523    
                            18551 ; 1361 |//$FILENAME string_recordtest_time60.src
                            18552 ; 1362 |#define RSRC_STRING_TIME60 524    
                            18553 ; 1363 |//$FILENAME string_recordtest_time300.src
                            18554 ; 1364 |#define RSRC_STRING_TIME300 525    
                            18555 ; 1365 |//$FILENAME string_recordtest_time600.src
                            18556 ; 1366 |#define RSRC_STRING_TIME600 526    
                            18557 ; 1367 |
                            18558 ; 1368 |//$FILENAME test_title.src
                            18559 ; 1369 |#define RSRC_TEST_TITLE 527    
                            18560 ; 1370 |//$FILENAME testmenu.src
                            18561 ; 1371 |#define RSRC_TEST_MENU_CODE_BANK 528    
                            18562 ; 1372 |
                            18563 ; 1373 |
                            18564 ; 1374 |//$FILENAME mmcmediastartup.src
                            18565 ; 1375 |#define RSRC_MMCDATADRIVEINIT 529    
                            18566 ; 1376 |#define RSRC_MMCMEDIAALLOCATE RSRC_MMCDATADRIVEINIT
                            18567 ; 1377 |#define RSRC_MMCMEDIADISCOVERALLOCATION RSRC_MMCDATADRIVEINIT
                            18568 ; 1378 |//$FILENAME mmcinfo.src
                            18569 ; 1379 |#define RSRC_MMCMEDIAGETINFO 530    
                            18570 ; 1380 |#define RSRC_MMCMEDIAGETMEDIATABLE RSRC_MMCMEDIAGETINFO
                            18571 ; 1381 |//$FILENAME mmcerase.src
                            18572 ; 1382 |#define RSRC_MMCMEDIAERASE 531    
                            18573 ; 1383 |
                            18574 ; 1384 |
                            18575 ; 1385 |#define RSRC_MMCDATADRIVEFLUSH RSRC_MMCDATADRIVEINIT
                            18576 ; 1386 |
                            18577 ; 1387 |//$FILENAME mmcenumerate.src
                            18578 ; 1388 |#define RSRC_MMCENUMERATE 532    
                            18579 ; 1389 |//$FILENAME mmcresetdevice.src
                            18580 ; 1390 |#define RSRC_MMC_RESETDEVICE 533    
                            18581 ; 1391 |//$FILENAME mmcprocesscsd.src
                            18582 ; 1392 |#define RSRC_MMC_PROCESSCSD 534    
                            18583 ; 1393 |//$FILENAME mmcprocesscid.src
                            18584 ; 1394 |#define RSRC_MMC_PROCESSCID 535    
                            18585 ; 1395 |//$FILENAME mmcprocesscid2.src
                            18586 ; 1396 |#define RSRC_FUNCLET_MMCPROCESSCID2 536    
                            18587 ; 1397 |//$FILENAME mmcdetectpresence.src
                            18588 ; 1398 |#define RSRC_MMC_DETECTPRESENCE 537    
                            18589 ; 1399 |//$FILENAME mmcserialnumberinit.src
                            18590 ; 1400 |#define RSRC_MMCSERIALNUMBERINIT 538    
                            18591 ; 1401 |//$FILENAME mmccheckwriteprotect.src
                            18592 ; 1402 |#define RSRC_MMC_CHECKWRITEPROTECT 539    
                            18593 ; 1403 |
                            18594 ; 1404 |//$FILENAME mmcread.src
                            18595 ; 1405 |#define RSRC_MMCDATADRIVEREADSECTOR 540    
                            18596 ; 1406 |//$FILENAME mmcmediainit.src
                            18597 ; 1407 |#define RSRC_MMCMEDIAINIT 541    
                            18598 ; 1408 |//$FILENAME mmcdatadriveinfo.src
                            18599 ; 1409 |#define RSRC_MMCDATADRIVESETINFO 542    
                            18600 ; 1410 |#define RSRC_MMCDATADRIVEGETINFO RSRC_MMCDATADRIVESETINFO
                            18601 ; 1411 |//$FILENAME mmcdatadriveerase.src
                            18602 ; 1412 |#define RSRC_MMCDATADRIVEERASE 543    
                            18603 ; 1413 |
                            18604 ; 1414 |#define RSRC_MMCDATADRIVEWRITESECTOR RSRC_MMCDATADRIVEREADSECTOR
                            18605 ; 1415 |#define RSRC_MMCDATADRIVEMULTIWRITESETUP RSRC_MMCDATADRIVEWRITESECTOR
                            18606 ; 1416 |#define RSRC_MMCDATADRIVEMULTIWRITESECTOR RSRC_MMCDATADRIVEWRITESECTOR
                            18607 ; 1417 |
                            18608 ; 1418 |
                            18609 ; 1419 |/////////////////////////////////////////////////////////////////////////////////
                            18610 ; 1420 |//  File system
                            18611 ; 1421 |/////////////////////////////////////////////////////////////////////////////////
                            18612 ; 1422 |//$FILENAME arrangefilename.src
                            18613 ; 1423 |#define RSRC_FUNCLET_ARRANGEFILENAME 544    
                            18614 ; 1424 |//$FILENAME clearcluster.src
                            18615 ; 1425 |#define RSRC_FUNCLET_CLEARCLUSTER 545    
                            18616 ; 1426 |//$FILENAME createdirectory.src
                            18617 ; 1427 |#define RSRC_FUNCLET_CREATEDIRECTORY 546    
                            18618 ; 1428 |//$FILENAME deletecontent.src
                            18619 ; 1429 |#define RSRC_FUNCLET_DELETECONTENT 547    
                            18620 ; 1430 |//$FILENAME deleterecord.src
                            18621 ; 1431 |#define RSRC_FUNCLET_DELETERECORD 548    
                            18622 ; 1432 |//$FILENAME fastopen.src
                            18623 ; 1433 |#define RSRC_FUNCLET_FASTOPEN 549    
                            18624 ; 1434 |//$FILENAME fcreate.src
                            18625 ; 1435 |#define RSRC_FUNCLET_FCREATE 550    
                            18626 ; 1436 |//$FILENAME filegetattrib.src
                            18627 ; 1437 |#define RSRC_FUNCLET_FILEGETATTRIB 551    
                            18628 ; 1438 |//$FILENAME filegetdate.src
                            18629 ; 1439 |#define RSRC_FUNCLET_FILEGETDATE 552    
                            18630 ; 1440 |//$FILENAME filesetattrib.src
                            18631 ; 1441 |#define RSRC_FUNCLET_FILESETATTRIB 553    
                            18632 ; 1442 |//$FILENAME filesetdate.src
                            18633 ; 1443 |#define RSRC_FUNCLET_FILESETDATE 554    
                            18634 ; 1444 |//$FILENAME fsinit.src
                            18635 ; 1445 |#define RSRC_FUNCLET_FSINIT 555    
                            18636 ; 1446 |//$FILENAME fsshutdown.src
                            18637 ; 1447 |#define RSRC_FUNCLET_FSSHUTDOWN 556    
                            18638 ; 1448 |//$FILENAME readdevicerecord.src
                            18639 ; 1449 |#define RSRC_FUNCLET_READDEVICERECORD 557    
                            18640 ; 1450 |//$FILENAME checkspaceinrootdir.src
                            18641 ; 1451 |#define RSRC_FUNCLET_CHECKSPACEINROOTDIR 558    
                            18642 ; 1452 |//$FILENAME setcwdhandle.src
                            18643 ; 1453 |#define RSRC_FUNCLET_SETCWDHANDLE 559    
                            18644 ; 1454 |//$FILENAME fsdriveinit.src
                            18645 ; 1455 |#define RSRC_FUNCLET_FSDRIVEINIT 560    
                            18646 ; 1456 |//$FILENAME fsclearBuf.src
                            18647 ; 1457 |#define RSRC_FUNCLET_FSCLEARDRIVEBUF 561    
                            18648 ; 1458 |//RSRC_FUNCLET_TOTALFREECLUSTER    equ      328    ;$FILENAME totalfreecluster.src
                            18649 ; 1459 |//RSRC_FUNCLET_TOTALFREECLUSTERFAT16    equ      328    ;$FILENAME totalfreeclusterfat16.src
                            18650 ; 1460 |//$FILENAME fgetfasthandle.src
                            18651 ; 1461 |#define RSRC_FUNCLET_FGETFASTHANDLE 562    
                            18652 ; 1462 |//$FILENAME ishandlewriteallocated.src
                            18653 ; 1463 |#define RSRC_FUNCLET_ISHANDLEWRITEALLOCATED 563    
                            18654 ; 1464 |//$FILENAME isfileopen.src
                            18655 ; 1465 |#define RSRC_FUNCLET_ISFILEOPEN 564    
                            18656 ; 1466 |//$FILENAME iscurrworkdir.src
                            18657 ; 1467 |#define RSRC_FUNCLET_ISCURRWORKDIR 565    
                            18658 ; 1468 |//$FILENAME chdir.src
                            18659 ; 1469 |#define RSRC_FUNCLET_CHDIR 566    
                            18660 ; 1470 |//$FILENAME chdirFromOffset.src
                            18661 ; 1471 |#define RSRC_FUNCLET_CHDIR_FROM_OFFSET 567    
                            18662 ; 1472 |//$FILENAME deletetree.src
                            18663 ; 1473 |#define RSRC_FUNCLET_DELETETREE 568    
                            18664 ; 1474 |//$FILENAME deleteallrecords.src
                            18665 ; 1475 |#define RSRC_FUNCLET_DELETEALLRECORDS 569    
                            18666 ; 1476 |//$FILENAME cleardata.src
                            18667 ; 1477 |#define RSRC_FUNCLET_CLEARDATA 570    
                            18668 ; 1478 |//$FILENAME changetolowleveldir.src
                            18669 ; 1479 |#define RSRC_FUNCLET_CHANGETOLOWLEVELDIR 571    
                            18670 ; 1480 |//$FILENAME getrecordnumber.src
                            18671 ; 1481 |#define RSRC_FUNCLET_GETRECORDNUMBER 572    
                            18672 ; 1482 |//$FILENAME fileremove.src
                            18673 ; 1483 |#define RSRC_FUNCLET_FILEREMOVE 573    
                            18674 ; 1484 |//$FILENAME charactersearch.src
                            18675 ; 1485 |#define RSRC_FUNCLET_CHARACTERSEARCH 574    
                            18676 ; 1486 |//$FILENAME stringcompare.src
                            18677 ; 1487 |#define RSRC_FUNCLET_STRINGCOMPARE 575    
                            18678 ; 1488 |//$FILENAME fopenw.src
                            18679 ; 1489 |#define RSRC_FUNCLET_FOPENW 576    
                            18680 ; 1490 |//$FILENAME fremove.src
                            18681 ; 1491 |#define RSRC_FUNCLET_FREMOVE 577    
                            18682 ; 1492 |//$FILENAME fremovew.src
                            18683 ; 1493 |#define RSRC_FUNCLET_FREMOVEW 578    
                            18684 ; 1494 |//$FILENAME mkdir.src
                            18685 ; 1495 |#define RSRC_FUNCLET_MKDIR 579    
                            18686 ; 1496 |//$FILENAME mkdirw.src
                            18687 ; 1497 |#define RSRC_FUNCLET_MKDIRW 580    
                            18688 ; 1498 |//$FILENAME rmdir.src
                            18689 ; 1499 |#define RSRC_FUNCLET_RMDIR 581    
                            18690 ; 1500 |//$FILENAME rmdirw.src
                            18691 ; 1501 |#define RSRC_FUNCLET_RMDIRW 582    
                            18692 ; 1502 |//$FILENAME fgetc.src
                            18693 ; 1503 |#define RSRC_FUNCLET_FGETC 583    
                            18694 ; 1504 |//$FILENAME fgets.src
                            18695 ; 1505 |#define RSRC_FUNCLET_FGETS 584    
                            18696 ; 1506 |//$FILENAME fputc.src
                            18697 ; 1507 |#define RSRC_FUNCLET_FPUTC 585    
                            18698 ; 1508 |//$FILENAME fputs.src
                            18699 ; 1509 |#define RSRC_FUNCLET_FPUTS 586    
                            18700 ; 1510 |//$FILENAME arrangelongfilename.src
                            18701 ; 1511 |#define RSRC_FUNCLET_ARRANGELONGFILENAME 587    
                            18702 ; 1512 |//$FILENAME convert_itoa.src
                            18703 ; 1513 |#define RSRC_FUNCLET_CONVERT_ITOA 588    
                            18704 ; 1514 |//$FILENAME createdirrecord.src
                            18705 ; 1515 |#define RSRC_FUNCLET_CREATEDIRRECORD 589    
                            18706 ; 1516 |//$FILENAME chksum.src
                            18707 ; 1517 |#define RSRC_FUNCLET_CHKSUM 590    
                            18708 ; 1518 |//$FILENAME createshortdirrecord.src
                            18709 ; 1519 |#define RSRC_FUNCLET_CREATESHORTDIRRECORD 591    
                            18710 ; 1520 |//$FILENAME discardtrailigperiodsucs3.src
                            18711 ; 1521 |#define RSRC_FUNCLET_DISCARDTRAILIGPERIODSUCS3 592    
                            18712 ; 1522 |//$FILENAME discardtrailigperiodsw.src
                            18713 ; 1523 |#define RSRC_FUNCLET_DISCARDTRAILIGPERIODSW 593    
                            18714 ; 1524 |//$FILENAME extractfilenamew.src
                            18715 ; 1525 |#define RSRC_FUNCLET_EXTRACTFILENAMEW 594    
                            18716 ; 1526 |//$FILENAME extractpathw.src
                            18717 ; 1527 |#define RSRC_FUNCLET_EXTRACTPATHW 595    
                            18718 ; 1528 |//$FILENAME findfreerecord.src
                            18719 ; 1529 |#define RSRC_FUNCLET_FINDFREERECORD 596    
                            18720 ; 1530 |//$FILENAME getnamew.src
                            18721 ; 1531 |#define RSRC_FUNCLET_GETNAMEW 597    
                            18722 ; 1532 |//$FILENAME isdirectoryempty.src
                            18723 ; 1533 |#define RSRC_FUNCLET_ISDIRECTORYEMPTY 598    
                            18724 ; 1534 |//$FILENAME isshortnamevalid.src
                            18725 ; 1535 |#define RSRC_FUNCLET_ISSHORTNAMEVALID 599    
                            18726 ; 1536 |//$FILENAME longdirmatch.src
                            18727 ; 1537 |#define RSRC_FUNCLET_LONGDIRMATCH 600    
                            18728 ; 1538 |//$FILENAME unicodetooem.src
                            18729 ; 1539 |#define RSRC_FUNCLET_UNICODETOOEM 601    
                            18730 ; 1540 |//$FILENAME matchdirrecordw.src
                            18731 ; 1541 |#define RSRC_FUNCLET_MATCHDIRRECORDW 602    
                            18732 ; 1542 |//$FILENAME setcwd.src
                            18733 ; 1543 |#define RSRC_FUNCLET_SETCWD 603    
                            18734 ; 1544 |//$FILENAME setshortfilename.src
                            18735 ; 1545 |#define RSRC_FUNCLET_SETSHORTFILENAME 604    
                            18736 ; 1546 |//$FILENAME generatefilenametail.src
                            18737 ; 1547 |#define RSRC_FUNCLET_GENERATEFILENAMETAIL 605    
                            18738 ; 1548 |//$FILENAME dbcstounicode.src
                            18739 ; 1549 |#define RSRC_FUNCLET_DBCSTOUNICODE 606    
                            18740 ; 1550 |//$FILENAME strcpy.src
                            18741 ; 1551 |#define RSRC_FUNCLET_STRCPY 607    
                            18742 ; 1552 |//$FILENAME strcpyw.src
                            18743 ; 1553 |#define RSRC_FUNCLET_STRCPYW 608    
                            18744 ; 1554 |//$FILENAME strlengthw.src
                            18745 ; 1555 |#define RSRC_FUNCLET_STRLENGTHW 609    
                            18746 ; 1556 |//$FILENAME filesystempresent.src
                            18747 ; 1557 |#define RSRC_FUNCLET_FILESYSTEMPRESENT 610    
                            18748 ; 1558 |//$FILENAME DataDriveInit.src
                            18749 ; 1559 |#define RSRC_FUNCLET_DATADRIVEINIT 611    
                            18750 ; 1560 |//$FILENAME FSGetDataDrivePbsLocation.src
                            18751 ; 1561 |#define RSRC_FUNCLET_FSGETDATADRIVEPBSLOCATION 612    
                            18752 ; 1562 |//$FILENAME FSPartitionEntryCopy.src
                            18753 ; 1563 |#define RSRC_FUNCLET_FSPARTITIONENTRYCOPYFSDD 613    
                            18754 ; 1564 |//$FILENAME DataDriveGetSize.src
                            18755 ; 1565 |#define RSRC_FUNCLET_DATADRIVEGETSIZE 614    
                            18756 ; 1566 |//$FILENAME ConstructLongFileName.src
                            18757 ; 1567 |#define RSRC_FUNCLET_CONSTRUCTLONGFILENAME 615    
                            18758 ; 1568 |//$FILENAME strcpyucs3_2.src
                            18759 ; 1569 |#define RSRC_FUNCLET_STRCPYUCS3_2 616    
                            18760 ; 1570 |//$FILENAME getvolumelabel.src
                            18761 ; 1571 |#define RSRC_FUNCLET_GETVOLUMELABEL 617    
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page  75

M:ADDR CODE           CYCLES LINE SOURCELINE
                            18762 ; 1572 |//$FILENAME setvolumelabel.src
                            18763 ; 1573 |#define RSRC_FUNCLET_SETVOLUMELABEL 618    
                            18764 ; 1574 |//$FILENAME disk_full.src
                            18765 ; 1575 |#define RSRC_DISK_FULL 619    
                            18766 ; 1576 |//$FILENAME chkdskstartup.src
                            18767 ; 1577 |#define RSRC_CHECKDISK 620    
                            18768 ; 1578 |//$FILENAME chkdskstartupy.src
                            18769 ; 1579 |#define RSRC_CHKDSK_YMEM 621    
                            18770 ; 1580 |//$FILENAME low_level_pwr_line1.src
                            18771 ; 1581 |#define RSRC_LOW_PWR_EXT_DEV_LINE1 622    
                            18772 ; 1582 |//$FILENAME low_level_pwr_line2.src
                            18773 ; 1583 |#define RSRC_LOW_PWR_EXT_DEV_LINE2 623    
                            18774 ; 1584 |//$FILENAME string_bit_rate.src
                            18775 ; 1585 |#define RSRC_STRING_BIT_RATE 624    
                            18776 ; 1586 |//$FILENAME string_96000hz.src
                            18777 ; 1587 |#define RSRC_STRING_96KBPS 625    
                            18778 ; 1588 |//$FILENAME string_112000hz.src
                            18779 ; 1589 |#define RSRC_STRING_112KBPS 626    
                            18780 ; 1590 |//$FILENAME string_128000hz.src
                            18781 ; 1591 |#define RSRC_STRING_128KBPS 627    
                            18782 ; 1592 |//$FILENAME string_160000hz.src
                            18783 ; 1593 |#define RSRC_STRING_160KBPS 628    
                            18784 ; 1594 |//$FILENAME string_192000hz.src
                            18785 ; 1595 |#define RSRC_STRING_192KBPS 629    
                            18786 ; 1596 |//$FILENAME string_224000hz.src
                            18787 ; 1597 |#define RSRC_STRING_224KBPS 630    
                            18788 ; 1598 |//$FILENAME string_256000hz.src
                            18789 ; 1599 |#define RSRC_STRING_256KBPS 631    
                            18790 ; 1600 |//$FILENAME string_320000hz.src
                            18791 ; 1601 |#define RSRC_STRING_320KBPS 632    
                            18792 ; 1602 |//$FILENAME string_hz.src
                            18793 ; 1603 |#define RSRC_STRING_HZ 633    
                            18794 ; 1604 |//$FILENAME EncCommonp.src
                            18795 ; 1605 |#define RSRC_ENCODERCOMMON_P_CODE 634    
                            18796 ; 1606 |//$FILENAME adc_adcx.src
                            18797 ; 1607 |#define RSRC_ADC_ADCX_CODE 635    
                            18798 ; 1608 |//$FILENAME adc_adcy.src
                            18799 ; 1609 |#define RSRC_ADC_ADCY_CODE 636    
                            18800 ; 1610 |//$FILENAME Funclet_encodercommon.src
                            18801 ; 1611 |#define RSRC_FUNCLET_LOADENCODERCOMMON 637    
                            18802 ; 1612 |//$FILENAME string_album.src
                            18803 ; 1613 |#define RSRC_STRING_ALBUM 638    
                            18804 ; 1614 |//$FILENAME string_encoder_song.src
                            18805 ; 1615 |#define RSRC_STRING_SONG 639    
                            18806 ; 1616 |//$FILENAME string_mode.src
                            18807 ; 1617 |#define RSRC_STRING_MODE 640    
                            18808 ; 1618 |
                            18809 ; 1619 |//////////////////////////////////////////////////////////////////////////////////
                            18810 ; 1620 |// display related
                            18811 ; 1621 |//////////////////////////////////////////////////////////////////////////////////
                            18812 ; 1622 |//$FILENAME Funclet_HalDisplayInit.src
                            18813 ; 1623 |#define RSRC_FUNCLET_HAL_DISPLAY_INIT 641    
                            18814 ; 1624 |//$FILENAME Funclet_SalDisplayInit.src
                            18815 ; 1625 |#define RSRC_FUNCLET_SAL_DISPLAY_INIT 642    
                            18816 ; 1626 |//$FILENAME Funclet_SalHandleMessage.src
                            18817 ; 1627 |#define RSRC_FUNCLET_SAL_HANDLE_MSG 643    
                            18818 ; 1628 |//$FILENAME Funclet_FixBitmapHeader.src
                            18819 ; 1629 |#define RSRC_FUNCLET_FIXBITMAPHEADER 644    
                            18820 ; 1630 |//$FILENAME Funclet_BitmapReadHeader.src
                            18821 ; 1631 |#define RSRC_FUNCLET_BITMAPREADHEADER 645    
                            18822 ; 1632 |//$FILENAME Funclet_BitmapReadPalette.src
                            18823 ; 1633 |#define RSRC_FUNCLET_BITMAPREADPALETTE 646    
                            18824 ; 1634 |//$FILENAME Funclet_BitmapReadBitMask.src
                            18825 ; 1635 |#define RSRC_FUNCLET_BITMAPREADBITMASK 647    
                            18826 ; 1636 |//$FILENAME Funclet_BitmapPrintNonPalette.src
                            18827 ; 1637 |#define RSRC_FUNCLET_BITMAPPRINTNONPALETTE 648    
                            18828 ; 1638 |//$FILENAME Funclet_BitmapPrintPalette.src
                            18829 ; 1639 |#define RSRC_FUNCLET_BITMAPPRINTPALETTE 649    
                            18830 ; 1640 |//$FILENAME Funclet_DisplayPrintBitmapFile.src
                            18831 ; 1641 |#define RSRC_FUNCLET_DISPLAYPRINTBITMAPFILE 650    
                            18832 ; 1642 |//$FILENAME Funclet_DisplayPrintBitmapResource.src
                            18833 ; 1643 |#define RSRC_FUNCLET_DISPLAYPRINTBITMAPRESOURCE 651    
                            18834 ; 1644 |
                            18835 ; 1645 |//////////////////////////////////////////////////////////////////////////////////
                            18836 ; 1646 |//WMDRM Related
                            18837 ; 1647 |//////////////////////////////////////////////////////////////////////////////////
                            18838 ; 1648 |//$FILENAME legacy_decryptcontentkey.src
                            18839 ; 1649 |#define RSRC_FUNCLET_LEGACY_DECRYPTCONTENTKEY 652    
                            18840 ; 1650 |//$FILENAME drm_bbx_legacycipherkeysetup.src
                            18841 ; 1651 |#define RSRC_FUNCLET_DRM_BBX_LEGACYCIPHERKEYSETUP 653    
                            18842 ; 1652 |//$FILENAME drm_bbx_initialize.src
                            18843 ; 1653 |#define RSRC_FUNCLET_DRM_BBX_INITIALIZE 654    
                            18844 ; 1654 |//$FILENAME drm_bbx_canbind.src
                            18845 ; 1655 |#define RSRC_FUNCLET_DRM_BBX_CANBIND 655    
                            18846 ; 1656 |//$FILENAME verifychecksum.src
                            18847 ; 1657 |#define RSRC_FUNCLET_VERIFYCHECKSUM 656    
                            18848 ; 1658 |//$FILENAME drm_b64_encodew.src
                            18849 ; 1659 |#define RSRC_FUNCLET_DRM_B64_ENCODEW 657    
                            18850 ; 1660 |//$FILENAME _performactions.src
                            18851 ; 1661 |#define RSRC_FUNCLET__PERFORMACTIONS 658    
                            18852 ; 1662 |//$FILENAME _processendofchain.src
                            18853 ; 1663 |#define RSRC_FUNCLET__PROCESSENDOFCHAIN 659    
                            18854 ; 1664 |//$FILENAME drmcrt_iswxdigit.src
                            18855 ; 1665 |#define RSRC_FUNCLET_DRMCRT_ISWXDIGIT 660    
                            18856 ; 1666 |//$FILENAME drmcrt_towlower.src
                            18857 ; 1667 |#define RSRC_FUNCLET_DRMCRT_TOWLOWER 661    
                            18858 ; 1668 |//$FILENAME drmcrt_wcslen.src
                            18859 ; 1669 |#define RSRC_FUNCLET_DRMCRT_WCSLEN 662    
                            18860 ; 1670 |//$FILENAME drmcrt_wcsncpy.src
                            18861 ; 1671 |#define RSRC_FUNCLET_DRMCRT_WCSNCPY 663    
                            18862 ; 1672 |//$FILENAME drmcrt_memmove.src
                            18863 ; 1673 |#define RSRC_FUNCLET_DRMCRT_MEMMOVE 664    
                            18864 ; 1674 |//$FILENAME performoperation_part1.src
                            18865 ; 1675 |#define RSRC_FUNCLET_PERFORMOPERATION_PART1 665    
                            18866 ; 1676 |//$FILENAME performoperation_part2.src
                            18867 ; 1677 |#define RSRC_FUNCLET_PERFORMOPERATION_PART2 666    
                            18868 ; 1678 |//$FILENAME performoperation_part3.src
                            18869 ; 1679 |#define RSRC_FUNCLET_PERFORMOPERATION_PART3 667    
                            18870 ; 1680 |//$FILENAME performoperation_part4.src
                            18871 ; 1681 |#define RSRC_FUNCLET_PERFORMOPERATION_PART4 668    
                            18872 ; 1682 |//$FILENAME performoperation_part5.src
                            18873 ; 1683 |#define RSRC_FUNCLET_PERFORMOPERATION_PART5 669    
                            18874 ; 1684 |//$FILENAME performoperation_part6.src
                            18875 ; 1685 |#define RSRC_FUNCLET_PERFORMOPERATION_PART6 670    
                            18876 ; 1686 |//$FILENAME isvalidfunction.src
                            18877 ; 1687 |#define RSRC_FUNCLET_ISVALIDFUNCTION 671    
                            18878 ; 1688 |//$FILENAME functiongetvalue.src
                            18879 ; 1689 |#define RSRC_FUNCLET_FUNCTIONGETVALUE 672    
                            18880 ; 1690 |//$FILENAME globalsetvariable.src
                            18881 ; 1691 |#define RSRC_FUNCLET_GLOBALSETVARIABLE 673    
                            18882 ; 1692 |//$FILENAME variabledrmkgetorset.src
                            18883 ; 1693 |#define RSRC_FUNCLET_VARIABLEDRMKGETORSET 674    
                            18884 ; 1694 |//$FILENAME variabledrmgetorset.src
                            18885 ; 1695 |#define RSRC_FUNCLET_VARIABLEDRMGETORSET 675    
                            18886 ; 1696 |//$FILENAME variableappgetorset.src
                            18887 ; 1697 |#define RSRC_FUNCLET_VARIABLEAPPGETORSET 676    
                            18888 ; 1698 |//$FILENAME variablelicensegetorset.src
                            18889 ; 1699 |#define RSRC_FUNCLET_VARIABLELICENSEGETORSET 677    
                            18890 ; 1700 |//$FILENAME variablecontentgetorset.src
                            18891 ; 1701 |#define RSRC_FUNCLET_VARIABLECONTENTGETORSET 678    
                            18892 ; 1702 |//$FILENAME variabledevicegetorset.src
                            18893 ; 1703 |#define RSRC_FUNCLET_VARIABLEDEVICEGETORSET 679    
                            18894 ; 1704 |//$FILENAME variablepmlicensegetorset.src
                            18895 ; 1705 |#define RSRC_FUNCLET_VARIABLEPMLICENSEGETORSET 680    
                            18896 ; 1706 |//$FILENAME drm_hds_createstore.src
                            18897 ; 1707 |#define RSRC_FUNCLET_DRM_HDS_CREATESTORE 681    
                            18898 ; 1708 |//$FILENAME drm_hds_init.src
                            18899 ; 1709 |#define RSRC_FUNCLET_DRM_HDS_INIT 682    
                            18900 ; 1710 |//$FILENAME drm_hds_uninit.src
                            18901 ; 1711 |#define RSRC_FUNCLET_DRM_HDS_UNINIT 683    
                            18902 ; 1712 |//$FILENAME drm_hds_openstore.src
                            18903 ; 1713 |#define RSRC_FUNCLET_DRM_HDS_OPENSTORE 684    
                            18904 ; 1714 |//$FILENAME drm_hds_deleteslot.src
                            18905 ; 1715 |#define RSRC_FUNCLET_DRM_HDS_DELETESLOT 685    
                            18906 ; 1716 |//$FILENAME drm_hds_slotresize.src
                            18907 ; 1717 |#define RSRC_FUNCLET_DRM_HDS_SLOTRESIZE 686    
                            18908 ; 1718 |//$FILENAME drm_hds_initslotenum.src
                            18909 ; 1719 |#define RSRC_FUNCLET_DRM_HDS_INITSLOTENUM 687    
                            18910 ; 1720 |//$FILENAME drm_hds_cleanupstore.src
                            18911 ; 1721 |#define RSRC_FUNCLET_DRM_HDS_CLEANUPSTORE 688    
                            18912 ; 1722 |//$FILENAME _hdscopyslot_child2child.src
                            18913 ; 1723 |#define RSRC_FUNCLET__HDSCOPYSLOT_CHILD2CHILD 689    
                            18914 ; 1724 |//$FILENAME _hdscopychildpayload.src
                            18915 ; 1725 |#define RSRC_FUNCLET__HDSCOPYCHILDPAYLOAD 690    
                            18916 ; 1726 |//$FILENAME _hdsdefragmentfile.src
                            18917 ; 1727 |#define RSRC_FUNCLET__HDSDEFRAGMENTFILE 691    
                            18918 ; 1728 |//$FILENAME _hdscleanupnamespace.src
                            18919 ; 1729 |#define RSRC_FUNCLET__HDSCLEANUPNAMESPACE 692    
                            18920 ; 1730 |//$FILENAME _hdscleanupstore.src
                            18921 ; 1731 |#define RSRC_FUNCLET__HDSCLEANUPSTORE 693    
                            18922 ; 1732 |//$FILENAME drm_lst_clean.src
                            18923 ; 1733 |#define RSRC_FUNCLET_DRM_LST_CLEAN 694    
                            18924 ; 1734 |//$FILENAME _hdslocatefreeblockforslot.src
                            18925 ; 1735 |#define RSRC_FUNCLET__HDSLOCATEFREEBLOCKFORSLOT 695    
                            18926 ; 1736 |//$FILENAME _hdslockblock2deleteslot.src
                            18927 ; 1737 |#define RSRC_FUNCLET__HDSLOCKBLOCK2DELETESLOT 696    
                            18928 ; 1738 |//$FILENAME _hdsunlockblock2deleteslot.src
                            18929 ; 1739 |#define RSRC_FUNCLET__HDSUNLOCKBLOCK2DELETESLOT 697    
                            18930 ; 1740 |//$FILENAME _hdscreatenamespace.src
                            18931 ; 1741 |#define RSRC_FUNCLET__HDSCREATENAMESPACE 698    
                            18932 ; 1742 |//$FILENAME _hdsfilepos2blocknum.src
                            18933 ; 1743 |#define RSRC_FUNCLET__HDSFILEPOS2BLOCKNUM 699    
                            18934 ; 1744 |//$FILENAME _writesrn.src
                            18935 ; 1745 |#define RSRC_FUNCLET__WRITESRN 700    
                            18936 ; 1746 |//$FILENAME _writecommonblockheader.src
                            18937 ; 1747 |#define RSRC_FUNCLET__WRITECOMMONBLOCKHEADER 701    
                            18938 ; 1748 |//$FILENAME _writechildblockheader.src
                            18939 ; 1749 |#define RSRC_FUNCLET__WRITECHILDBLOCKHEADER 702    
                            18940 ; 1750 |//$FILENAME _readdatablockheader.src
                            18941 ; 1751 |#define RSRC_FUNCLET__READDATABLOCKHEADER 703    
                            18942 ; 1752 |//$FILENAME _writedatablockheader.src
                            18943 ; 1753 |#define RSRC_FUNCLET__WRITEDATABLOCKHEADER 704    
                            18944 ; 1754 |//$FILENAME _hdsexpandstore.src
                            18945 ; 1755 |#define RSRC_FUNCLET__HDSEXPANDSTORE 705    
                            18946 ; 1756 |//$FILENAME _hdsallocblock.src
                            18947 ; 1757 |#define RSRC_FUNCLET__HDSALLOCBLOCK 706    
                            18948 ; 1758 |//$FILENAME _hdsfreeblock.src
                            18949 ; 1759 |#define RSRC_FUNCLET__HDSFREEBLOCK 707    
                            18950 ; 1760 |//$FILENAME _hdscreateoversizedslot.src
                            18951 ; 1761 |#define RSRC_FUNCLET__HDSCREATEOVERSIZEDSLOT 708    
                            18952 ; 1762 |//$FILENAME _hdsallocslotinfile.src
                            18953 ; 1763 |#define RSRC_FUNCLET__HDSALLOCSLOTINFILE 709    
                            18954 ; 1764 |//$FILENAME _hdswriteblockhdr.src
                            18955 ; 1765 |#define RSRC_FUNCLET__HDSWRITEBLOCKHDR 710    
                            18956 ; 1766 |//$FILENAME _hdsadjustchildpayload.src
                            18957 ; 1767 |#define RSRC_FUNCLET__HDSADJUSTCHILDPAYLOAD 711    
                            18958 ; 1768 |//$FILENAME _hdsfindleftmostleafblock.src
                            18959 ; 1769 |#define RSRC_FUNCLET__HDSFINDLEFTMOSTLEAFBLOCK 712    
                            18960 ; 1770 |//$FILENAME _hdscreateandopenslot.src
                            18961 ; 1771 |#define RSRC_FUNCLET__HDSCREATEANDOPENSLOT 713    
                            18962 ; 1772 |//$FILENAME _hdsremoveslot.src
                            18963 ; 1773 |#define RSRC_FUNCLET__HDSREMOVESLOT 714    
                            18964 ; 1774 |//$FILENAME _hdscopyandlocknewslot.src
                            18965 ; 1775 |#define RSRC_FUNCLET__HDSCOPYANDLOCKNEWSLOT 715    
                            18966 ; 1776 |//$FILENAME _hdsrelocateslotandkeepcurrlock.src
                            18967 ; 1777 |#define RSRC_FUNCLET__HDSRELOCATESLOTANDKEEPCURRLOCK 716    
                            18968 ; 1778 |//$FILENAME _hdstraversenextrightsiblingblock.src
                            18969 ; 1779 |#define RSRC_FUNCLET__HDSTRAVERSENEXTRIGHTSIBLINGBLOCK 717    
                            18970 ; 1780 |//$FILENAME _hdstraverseblocksinpostorder.src
                            18971 ; 1781 |#define RSRC_FUNCLET__HDSTRAVERSEBLOCKSINPOSTORDER 718    
                            18972 ; 1782 |//$FILENAME _hdsslotresize.src
                            18973 ; 1783 |#define RSRC_FUNCLET__HDSSLOTRESIZE 719    
                            18974 ; 1784 |//$FILENAME _isnull.src
                            18975 ; 1785 |#define RSRC_FUNCLET__ISNULL 720    
                            18976 ; 1786 |//$FILENAME _hdsgensrnhash.src
                            18977 ; 1787 |#define RSRC_FUNCLET__HDSGENSRNHASH 721    
                            18978 ; 1788 |//$FILENAME _hdsallocblockbuffer.src
                            18979 ; 1789 |#define RSRC_FUNCLET__HDSALLOCBLOCKBUFFER 722    
                            18980 ; 1790 |//$FILENAME _readsrn.src
                            18981 ; 1791 |#define RSRC_FUNCLET__READSRN 723    
                            18982 ; 1792 |//$FILENAME _hdsgetputchildblocknum.src
                            18983 ; 1793 |#define RSRC_FUNCLET__HDSGETPUTCHILDBLOCKNUM 724    
                            18984 ; 1794 |//$FILENAME _hdshashkeytoindex.src
                            18985 ; 1795 |#define RSRC_FUNCLET__HDSHASHKEYTOINDEX 725    
                            18986 ; 1796 |//$FILENAME _hdsslotwrite.src
                            18987 ; 1797 |#define RSRC_FUNCLET__HDSSLOTWRITE 726    
                            18988 ; 1798 |//$FILENAME _hdsinitslotenum.src
                            18989 ; 1799 |#define RSRC_FUNCLET__HDSINITSLOTENUM 727    
                            18990 ; 1800 |//$FILENAME drm_lst_close.src
                            18991 ; 1801 |#define RSRC_FUNCLET_DRM_LST_CLOSE 728    
                            18992 ; 1802 |//$FILENAME drm_lst_enumnext.src
                            18993 ; 1803 |#define RSRC_FUNCLET_DRM_LST_ENUMNEXT 729    
                            18994 ; 1804 |//$FILENAME drm_lst_enumdelete.src
                            18995 ; 1805 |#define RSRC_FUNCLET_DRM_LST_ENUMDELETE 730    
                            18996 ; 1806 |//$FILENAME _processextensions.src
                            18997 ; 1807 |#define RSRC_FUNCLET__PROCESSEXTENSIONS 731    
                            18998 ; 1808 |//$FILENAME _processidlist.src
                            18999 ; 1809 |#define RSRC_FUNCLET__PROCESSIDLIST 732    
                            19000 ; 1810 |//$FILENAME _processexclusions.src
                            19001 ; 1811 |#define RSRC_FUNCLET__PROCESSEXCLUSIONS 733    
                            19002 ; 1812 |//$FILENAME _processinclusions.src
                            19003 ; 1813 |#define RSRC_FUNCLET__PROCESSINCLUSIONS 734    
                            19004 ; 1814 |//$FILENAME drm_opl_processcopyoutputleveldata.src
                            19005 ; 1815 |#define RSRC_FUNCLET_DRM_OPL_PROCESSCOPYOUTPUTLEVELDATA 735    
                            19006 ; 1816 |//$FILENAME _getopllevel.src
                            19007 ; 1817 |#define RSRC_FUNCLET__GETOPLLEVEL 736    
                            19008 ; 1818 |//$FILENAME drm_opl_processplayoutputleveldata.src
                            19009 ; 1819 |#define RSRC_FUNCLET_DRM_OPL_PROCESSPLAYOUTPUTLEVELDATA 737    
                            19010 ; 1820 |//$FILENAME _updateattributetokeninslot.src
                            19011 ; 1821 |#define RSRC_FUNCLET__UPDATEATTRIBUTETOKENINSLOT 738    
                            19012 ; 1822 |//$FILENAME drm_sst_settokenvalue.src
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page  76

M:ADDR CODE           CYCLES LINE SOURCELINE
                            19013 ; 1823 |#define RSRC_FUNCLET_DRM_SST_SETTOKENVALUE 739    
                            19014 ; 1824 |//$FILENAME drm_sst_createlicensestatepassword.src
                            19015 ; 1825 |#define RSRC_FUNCLET_DRM_SST_CREATELICENSESTATEPASSWORD 740    
                            19016 ; 1826 |//$FILENAME drm_utl_promoteansitounicode.src
                            19017 ; 1827 |#define RSRC_FUNCLET_DRM_UTL_PROMOTEANSITOUNICODE 741    
                            19018 ; 1828 |//$FILENAME drm_pk_symmetricsign.src
                            19019 ; 1829 |#define RSRC_FUNCLET_DRM_PK_SYMMETRICSIGN 742    
                            19020 ; 1830 |//$FILENAME drm_utl_getversionfromstring.src
                            19021 ; 1831 |#define RSRC_FUNCLET_DRM_UTL_GETVERSIONFROMSTRING 743    
                            19022 ; 1832 |//$FILENAME drm_utl_stringinsertblanksubstring.src
                            19023 ; 1833 |#define RSRC_FUNCLET_DRM_UTL_STRINGINSERTBLANKSUBSTRING 744    
                            19024 ; 1834 |//$FILENAME drm_utl_stringremovesubstring.src
                            19025 ; 1835 |#define RSRC_FUNCLET_DRM_UTL_STRINGREMOVESUBSTRING 745    
                            19026 ; 1836 |//$FILENAME drm_utl_dstrsearch.src
                            19027 ; 1837 |#define RSRC_FUNCLET_DRM_UTL_DSTRSEARCH 746    
                            19028 ; 1838 |//$FILENAME drm_utl_dstrsearchreverse.src
                            19029 ; 1839 |#define RSRC_FUNCLET_DRM_UTL_DSTRSEARCHREVERSE 747    
                            19030 ; 1840 |//$FILENAME drm_utl_stringtoguid.src
                            19031 ; 1841 |#define RSRC_FUNCLET_DRM_UTL_STRINGTOGUID 748    
                            19032 ; 1842 |//$FILENAME drm_utl_ensuredataalignment.src
                            19033 ; 1843 |#define RSRC_FUNCLET_DRM_UTL_ENSUREDATAALIGNMENT 749    
                            19034 ; 1844 |//$FILENAME overlappingdates.src
                            19035 ; 1845 |#define RSRC_FUNCLET_OVERLAPPINGDATES 750    
                            19036 ; 1846 |//$FILENAME drm_asd_parsev2license.src
                            19037 ; 1847 |#define RSRC_FUNCLET_DRM_ASD_PARSEV2LICENSE 751    
                            19038 ; 1848 |//$FILENAME neginfdate.src
                            19039 ; 1849 |#define RSRC_FUNCLET_NEGINFDATE 752    
                            19040 ; 1850 |//$FILENAME infdate.src
                            19041 ; 1851 |#define RSRC_FUNCLET_INFDATE 753    
                            19042 ; 1852 |//$FILENAME isexpired.src
                            19043 ; 1853 |#define RSRC_FUNCLET_ISEXPIRED 754    
                            19044 ; 1854 |//$FILENAME getsecstateattr.src
                            19045 ; 1855 |#define RSRC_FUNCLET_GETSECSTATEATTR 755    
                            19046 ; 1856 |//$FILENAME setexpirycategory.src
                            19047 ; 1857 |#define RSRC_FUNCLET_SETEXPIRYCATEGORY 756    
                            19048 ; 1858 |//$FILENAME getv2licenseinfo.src
                            19049 ; 1859 |#define RSRC_FUNCLET_GETV2LICENSEINFO 757    
                            19050 ; 1860 |//$FILENAME getnextlicense.src
                            19051 ; 1861 |#define RSRC_FUNCLET_GETNEXTLICENSE 758    
                            19052 ; 1862 |//$FILENAME aggregate.src
                            19053 ; 1863 |#define RSRC_FUNCLET_AGGREGATE 759    
                            19054 ; 1864 |//$FILENAME drm_asd_getlicenseaggregatedata.src
                            19055 ; 1865 |#define RSRC_FUNCLET_DRM_ASD_GETLICENSEAGGREGATEDATA 760    
                            19056 ; 1866 |//$FILENAME _scannodeforattributew.src
                            19057 ; 1867 |#define RSRC_FUNCLET__SCANNODEFORATTRIBUTEW 761    
                            19058 ; 1868 |//$FILENAME _getxmlnodecdataw.src
                            19059 ; 1869 |#define RSRC_FUNCLET__GETXMLNODECDATAW 762    
                            19060 ; 1870 |//$FILENAME drm_ddc_getdevicecertificate.src
                            19061 ; 1871 |#define RSRC_FUNCLET_DRM_DDC_GETDEVICECERTIFICATE 763    
                            19062 ; 1872 |//$FILENAME _createdevicestore.src
                            19063 ; 1873 |#define RSRC_FUNCLET__CREATEDEVICESTORE 764    
                            19064 ; 1874 |//$FILENAME _mapdrmerror.src
                            19065 ; 1875 |#define RSRC_FUNCLET__MAPDRMERROR 765    
                            19066 ; 1876 |//$FILENAME _comparemachineid.src
                            19067 ; 1877 |#define RSRC_FUNCLET__COMPAREMACHINEID 766    
                            19068 ; 1878 |//$FILENAME initmgrcontext.src
                            19069 ; 1879 |#define RSRC_FUNCLET_INITMGRCONTEXT 767    
                            19070 ; 1880 |//$FILENAME drm_mgr_setv2header.src
                            19071 ; 1881 |#define RSRC_FUNCLET_DRM_MGR_SETV2HEADER 768    
                            19072 ; 1882 |//$FILENAME drm_mgr_commit.src
                            19073 ; 1883 |#define RSRC_FUNCLET_DRM_MGR_COMMIT 769    
                            19074 ; 1884 |//$FILENAME drm_mgr_cleanuplicensestore.src
                            19075 ; 1885 |#define RSRC_FUNCLET_DRM_MGR_CLEANUPLICENSESTORE 770    
                            19076 ; 1886 |//$FILENAME januscleandatastore.src
                            19077 ; 1887 |#define RSRC_FUNCLET_JANUSCLEANDATASTORE 771    
                            19078 ; 1888 |//$FILENAME drm_mtr_openid.src
                            19079 ; 1889 |#define RSRC_FUNCLET_DRM_MTR_OPENID 772    
                            19080 ; 1890 |//$FILENAME drm_mtr_incrementcount.src
                            19081 ; 1891 |#define RSRC_FUNCLET_DRM_MTR_INCREMENTCOUNT 773    
                            19082 ; 1892 |//$FILENAME drm_mtr_closecontext.src
                            19083 ; 1893 |#define RSRC_FUNCLET_DRM_MTR_CLOSECONTEXT 774    
                            19084 ; 1894 |//$FILENAME oem_setendoffile.src
                            19085 ; 1895 |#define RSRC_FUNCLET_OEM_SETENDOFFILE 775    
                            19086 ; 1896 |//$FILENAME oem_genrandombytes.src
                            19087 ; 1897 |#define RSRC_FUNCLET_OEM_GENRANDOMBYTES 776    
                            19088 ; 1898 |//$FILENAME oem_getfallbacksigningkey.src
                            19089 ; 1899 |#define RSRC_FUNCLET_OEM_GETFALLBACKSIGNINGKEY 777    
                            19090 ; 1900 |//$FILENAME oem_getdevicecerttemplate.src
                            19091 ; 1901 |#define RSRC_FUNCLET_OEM_GETDEVICECERTTEMPLATE 778    
                            19092 ; 1902 |//$FILENAME oem_setdevicecert.src
                            19093 ; 1903 |#define RSRC_FUNCLET_OEM_SETDEVICECERT 779    
                            19094 ; 1904 |//$FILENAME oem_getclockresetstate.src
                            19095 ; 1905 |#define RSRC_FUNCLET_OEM_GETCLOCKRESETSTATE 780    
                            19096 ; 1906 |//$FILENAME oem_setclockresetstate.src
                            19097 ; 1907 |#define RSRC_FUNCLET_OEM_SETCLOCKRESETSTATE 781    
                            19098 ; 1908 |//$FILENAME oem_getuniqueid.src
                            19099 ; 1909 |#define RSRC_FUNCLET_OEM_GETUNIQUEID 782    
                            19100 ; 1910 |//$FILENAME oem_getdevicecert.src
                            19101 ; 1911 |#define RSRC_FUNCLET_OEM_GETDEVICECERT 783    
                            19102 ; 1912 |//$FILENAME drm_snc_openstore.src
                            19103 ; 1913 |#define RSRC_FUNCLET_DRM_SNC_OPENSTORE 784    
                            19104 ; 1914 |//$FILENAME drm_snc_closestore.src
                            19105 ; 1915 |#define RSRC_FUNCLET_DRM_SNC_CLOSESTORE 785    
                            19106 ; 1916 |//$FILENAME _setkidstoredata.src
                            19107 ; 1917 |#define RSRC_FUNCLET__SETKIDSTOREDATA 786    
                            19108 ; 1918 |//$FILENAME drm_snc_deletekid.src
                            19109 ; 1919 |#define RSRC_FUNCLET_DRM_SNC_DELETEKID 787    
                            19110 ; 1920 |//$FILENAME drm_snc_updatekid.src
                            19111 ; 1921 |#define RSRC_FUNCLET_DRM_SNC_UPDATEKID 788    
                            19112 ; 1922 |//$FILENAME drm_mgr_setv1header.src
                            19113 ; 1923 |#define RSRC_FUNCLET_DRM_MGR_SETV1HEADER 789    
                            19114 ; 1924 |//$FILENAME functiongetvalue_part1.src
                            19115 ; 1925 |#define RSRC_FUNCLET_FUNCTIONGETVALUE_PART1 790    
                            19116 ; 1926 |//$FILENAME functiongetvalue_fn_datediff.src
                            19117 ; 1927 |#define RSRC_FUNCLET_FUNCTIONGETVALUE_FN_DATEDIFF 791    
                            19118 ; 1928 |//$FILENAME _hdscreatenamespacestore.src
                            19119 ; 1929 |#define RSRC_FUNCLET__HDSCREATENAMESPACESTORE 792    
                            19120 ; 1930 |//$FILENAME drm_hds_createstore2.src
                            19121 ; 1931 |#define RSRC_FUNCLET_DRM_HDS_CREATESTORE2 793    
                            19122 ; 1932 |//$FILENAME drm_hds_openstore2.src
                            19123 ; 1933 |#define RSRC_FUNCLET_DRM_HDS_OPENSTORE2 794    
                            19124 ; 1934 |//$FILENAME _hdsprealloc.src
                            19125 ; 1935 |#define RSRC_FUNCLET__HDSPREALLOC 795    
                            19126 ; 1936 |//$FILENAME oem_systemtimetofiletime.src
                            19127 ; 1937 |#define RSRC_FUNCLET_OEM_SYSTEMTIMETOFILETIME 796    
                            19128 ; 1938 |//$FILENAME oem_filetimetosystemtime.src
                            19129 ; 1939 |#define RSRC_FUNCLET_OEM_FILETIMETOSYSTEMTIME 797    
                            19130 ; 1940 |//$FILENAME gendevicecertificate.src
                            19131 ; 1941 |#define RSRC_FUNCLET_GENDEVICECERTIFICATE 798    
                            19132 ; 1942 |//$FILENAME drmcrt_memmove_mem.src
                            19133 ; 1943 |#define RSRC_FUNCLET_DRMCRT_MEMMOVE_MEM 799    
                            19134 ; 1944 |//$FILENAME copyhdsdtore.src
                            19135 ; 1945 |#define RSRC_FUNCLET_COPYHDSDTORE 800    
                            19136 ; 1946 |//$FILENAME generatedevicecert.src
                            19137 ; 1947 |#define RSRC_FUNCLET_GENERATEDEVICECERT 801    
                            19138 ; 1948 |//$FILENAME oem_getdevicedatetime.src
                            19139 ; 1949 |#define RSRC_FUNCLET_OEM_GETDEVICEDATETIME 802    
                            19140 ; 1950 |//$FILENAME drm_mtr_updatedata.src
                            19141 ; 1951 |#define RSRC_FUNCLET_DRM_MTR_UPDATEDATA 803    
                            19142 ; 1952 |//$FILENAME _hdsupdatesrn.src
                            19143 ; 1953 |#define RSRC_FUNCLET__HDSUPDATESRN 804    
                            19144 ; 1954 |//$FILENAME drm_b64_decodew_inplace.src
                            19145 ; 1955 |#define RSRC_FUNCLET_DRM_B64_DECODEW_INPLACE 805    
                            19146 ; 1956 |//$FILENAME _checksecureclock.src
                            19147 ; 1957 |#define RSRC_FUNCLET__CHECKSECURECLOCK 806    
                            19148 ; 1958 |//$FILENAME _preparesecureclockdataforwriting.src
                            19149 ; 1959 |#define RSRC_FUNCLET__PREPARESECURECLOCKDATAFORWRITING 807    
                            19150 ; 1960 |//$FILENAME _preparesecureclockdataforreading.src
                            19151 ; 1961 |#define RSRC_FUNCLET__PREPARESECURECLOCKDATAFORREADING 808    
                            19152 ; 1962 |//$FILENAME drm_sst_closelockedslot.src
                            19153 ; 1963 |#define RSRC_FUNCLET_DRM_SST_CLOSELOCKEDSLOT 809    
                            19154 ; 1964 |//$FILENAME variablesecuretimegetorset.src
                            19155 ; 1965 |#define RSRC_FUNCLET_VARIABLESECURETIMEGETORSET 810    
                            19156 ; 1966 |//$FILENAME strtol.src
                            19157 ; 1967 |#define RSRC_FUNCLET_STRTOL 811    
                            19158 ; 1968 |//$FILENAME mktime.src
                            19159 ; 1969 |#define RSRC_FUNCLET_MKTIME 812    
                            19160 ; 1970 |//$FILENAME gmtime.src
                            19161 ; 1971 |#define RSRC_FUNCLET_GMTIME 813    
                            19162 ; 1972 |//$FILENAME localtime.src
                            19163 ; 1973 |#define RSRC_FUNCLET_LOCALTIME 814    
                            19164 ; 1974 |//$FILENAME _struct_tm_to_systemtime.src
                            19165 ; 1975 |#define RSRC_FUNCLET__STRUCT_TM_TO_SYSTEMTIME 815    
                            19166 ; 1976 |//$FILENAME _systemtime_to_struct_tm.src
                            19167 ; 1977 |#define RSRC_FUNCLET__SYSTEMTIME_TO_STRUCT_TM 816    
                            19168 ; 1978 |//$FILENAME _systemtimetotime_t.src
                            19169 ; 1979 |#define RSRC_FUNCLET__SYSTEMTIMETOTIME_T 817    
                            19170 ; 1980 |//$FILENAME oem_setsystemtime.src
                            19171 ; 1981 |#define RSRC_FUNCLET_OEM_SETSYSTEMTIME 818    
                            19172 ; 1982 |//$FILENAME const_pkcrypto.src
                            19173 ; 1983 |#define RSRC_CONST_PKCRYPTO 819    
                            19174 ; 1984 |//$FILENAME const_y.src
                            19175 ; 1985 |#define RSRC_CONST_Y 820    
                            19176 ; 1986 |//$FILENAME aes_dec_table.src
                            19177 ; 1987 |#define RSRC_AES_DEC_TABLE 821    
                            19178 ; 1988 |//$FILENAME aes_key_table.src
                            19179 ; 1989 |#define RSRC_AES_KEY_TABLE 822    
                            19180 ; 1990 |//$FILENAME aes_enc_table.src
                            19181 ; 1991 |#define RSRC_AES_ENC_TABLE 823    
                            19182 ; 1992 |//$FILENAME device_cert.src
                            19183 ; 1993 |#define RSRC_DEVCERT 824    
                            19184 ; 1994 |//$FILENAME devcert_template.src
                            19185 ; 1995 |#define RSRC_DEVCERT_TEMPLATE 825    
                            19186 ; 1996 |//$FILENAME getbase64decodedkey.src
                            19187 ; 1997 |#define RSRC_FUNCLET_GETBASE64DECODEDKEY 826    
                            19188 ; 1998 |//$FILENAME _initslot.src
                            19189 ; 1999 |#define RSRC_FUNCLET__INITSLOT 827    
                            19190 ; 2000 |//$FILENAME hdsimplcommon.src
                            19191 ; 2001 |#define RSRC_HDSIMPLCOMMON_P 828    
                            19192 ; 2002 |//$FILENAME hdsimpl_p.src
                            19193 ; 2003 |#define RSRC_HDSIMPL_P 829    
                            19194 ; 2004 |
                            19195 ; 2005 |
                            19196 ; 2006 |//////////////////////////////////////////////////////////////////////////////////
                            19197 ; 2007 |//pkcrypto Related
                            19198 ; 2008 |//////////////////////////////////////////////////////////////////////////////////
                            19199 ; 2009 |//$FILENAME two_adic_inverse.src
                            19200 ; 2010 |#define RSRC_FUNCLET_TWO_ADIC_INVERSE 830    
                            19201 ; 2011 |//$FILENAME mp_shift.src
                            19202 ; 2012 |#define RSRC_FUNCLET_MP_SHIFT 831    
                            19203 ; 2013 |//$FILENAME mp_significant_bit_count.src
                            19204 ; 2014 |#define RSRC_FUNCLET_MP_SIGNIFICANT_BIT_COUNT 832    
                            19205 ; 2015 |//$FILENAME set_immediate.src
                            19206 ; 2016 |#define RSRC_FUNCLET_SET_IMMEDIATE 833    
                            19207 ; 2017 |//$FILENAME multiply_immediate.src
                            19208 ; 2018 |#define RSRC_FUNCLET_MULTIPLY_IMMEDIATE 834    
                            19209 ; 2019 |//$FILENAME multiply.src
                            19210 ; 2020 |#define RSRC_FUNCLET_MULTIPLY 835    
                            19211 ; 2021 |//$FILENAME divide_precondition_1.src
                            19212 ; 2022 |#define RSRC_FUNCLET_DIVIDE_PRECONDITION_1 836    
                            19213 ; 2023 |//$FILENAME divide_immediate.src
                            19214 ; 2024 |#define RSRC_FUNCLET_DIVIDE_IMMEDIATE 837    
                            19215 ; 2025 |//$FILENAME ecaffine_exponentiation_tabular.src
                            19216 ; 2026 |#define RSRC_FUNCLET_ECAFFINE_EXPONENTIATION_TABULAR 838    
                            19217 ; 2027 |//$FILENAME ecaffine_table_construction.src
                            19218 ; 2028 |#define RSRC_FUNCLET_ECAFFINE_TABLE_CONSTRUCTION 839    
                            19219 ; 2029 |//$FILENAME ecproj5_to_ecaffine.src
                            19220 ; 2030 |#define RSRC_FUNCLET_ECPROJ5_TO_ECAFFINE 840    
                            19221 ; 2031 |//$FILENAME ecproj5_set_infinite.src
                            19222 ; 2032 |#define RSRC_FUNCLET_ECPROJ5_SET_INFINITE 841    
                            19223 ; 2033 |//$FILENAME ecaffine_on_curve.src
                            19224 ; 2034 |#define RSRC_FUNCLET_ECAFFINE_ON_CURVE 842    
                            19225 ; 2035 |//$FILENAME ecaffine_addition.src
                            19226 ; 2036 |#define RSRC_FUNCLET_ECAFFINE_ADDITION 843    
                            19227 ; 2037 |//$FILENAME ecaffine_addition_subtraction.src
                            19228 ; 2038 |#define RSRC_FUNCLET_ECAFFINE_ADDITION_SUBTRACTION 844    
                            19229 ; 2039 |//$FILENAME ecaffine_attributes2.src
                            19230 ; 2040 |#define RSRC_FUNCLET_ECAFFINE_ATTRIBUTES2 845    
                            19231 ; 2041 |//$FILENAME kfdesc_initialize.src
                            19232 ; 2042 |#define RSRC_FUNCLET_KFDESC_INITIALIZE 846    
                            19233 ; 2043 |//$FILENAME kimmediate.src
                            19234 ; 2044 |#define RSRC_FUNCLET_KIMMEDIATE 847    
                            19235 ; 2045 |//$FILENAME kprime_immediater.src
                            19236 ; 2046 |#define RSRC_FUNCLET_KPRIME_IMMEDIATER 848    
                            19237 ; 2047 |//$FILENAME kprime_sqrter.src
                            19238 ; 2048 |#define RSRC_FUNCLET_KPRIME_SQRTER 849    
                            19239 ; 2049 |//$FILENAME kinitialize_prime.src
                            19240 ; 2050 |#define RSRC_FUNCLET_KINITIALIZE_PRIME 850    
                            19241 ; 2051 |//$FILENAME mod_lucasuv.src
                            19242 ; 2052 |#define RSRC_FUNCLET_MOD_LUCASUV 851    
                            19243 ; 2053 |//$FILENAME mod_lucas.src
                            19244 ; 2054 |#define RSRC_FUNCLET_MOD_LUCAS 852    
                            19245 ; 2055 |//$FILENAME bucket_multiply.src
                            19246 ; 2056 |#define RSRC_FUNCLET_BUCKET_MULTIPLY 853    
                            19247 ; 2057 |//$FILENAME mod_exp2000.src
                            19248 ; 2058 |#define RSRC_FUNCLET_MOD_EXP2000 854    
                            19249 ; 2059 |//$FILENAME mod_exp.src
                            19250 ; 2060 |#define RSRC_FUNCLET_MOD_EXP 855    
                            19251 ; 2061 |//$FILENAME modmul_choices1.src
                            19252 ; 2062 |#define RSRC_FUNCLET_MODMUL_CHOICES1 856    
                            19253 ; 2063 |//$FILENAME mod_sqrt.src
                            19254 ; 2064 |#define RSRC_FUNCLET_MOD_SQRT 857    
                            19255 ; 2065 |//$FILENAME create_modulus.src
                            19256 ; 2066 |#define RSRC_FUNCLET_CREATE_MODULUS 858    
                            19257 ; 2067 |//$FILENAME from_modular.src
                            19258 ; 2068 |#define RSRC_FUNCLET_FROM_MODULAR 859    
                            19259 ; 2069 |//$FILENAME add_immediate.src
                            19260 ; 2070 |#define RSRC_FUNCLET_ADD_IMMEDIATE 860    
                            19261 ; 2071 |//$FILENAME add_diff.src
                            19262 ; 2072 |#define RSRC_FUNCLET_ADD_DIFF 861    
                            19263 ; 2073 |//$FILENAME add_full.src
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page  77

M:ADDR CODE           CYCLES LINE SOURCELINE
                            19264 ; 2074 |#define RSRC_FUNCLET_ADD_FULL 862    
                            19265 ; 2075 |//$FILENAME compare_sum_same.src
                            19266 ; 2076 |#define RSRC_FUNCLET_COMPARE_SUM_SAME 863    
                            19267 ; 2077 |//$FILENAME sub_immediate.src
                            19268 ; 2078 |#define RSRC_FUNCLET_SUB_IMMEDIATE 864    
                            19269 ; 2079 |//$FILENAME mp_initialization.src
                            19270 ; 2080 |#define RSRC_FUNCLET_MP_INITIALIZATION 865    
                            19271 ; 2081 |//$FILENAME new_random_bytes.src
                            19272 ; 2082 |#define RSRC_FUNCLET_NEW_RANDOM_BYTES 866    
                            19273 ; 2083 |//$FILENAME new_random_dword_interval.src
                            19274 ; 2084 |#define RSRC_FUNCLET_NEW_RANDOM_DWORD_INTERVAL 867    
                            19275 ; 2085 |//$FILENAME new_random_digit_interval.src
                            19276 ; 2086 |#define RSRC_FUNCLET_NEW_RANDOM_DIGIT_INTERVAL 868    
                            19277 ; 2087 |//$FILENAME new_random_mod.src
                            19278 ; 2088 |#define RSRC_FUNCLET_NEW_RANDOM_MOD 869    
                            19279 ; 2089 |//$FILENAME new_random_mod_nonzero.src
                            19280 ; 2090 |#define RSRC_FUNCLET_NEW_RANDOM_MOD_NONZERO 870    
                            19281 ; 2091 |//$FILENAME new_random_digits.src
                            19282 ; 2092 |#define RSRC_FUNCLET_NEW_RANDOM_DIGITS 871    
                            19283 ; 2093 |//$FILENAME words_to_ecaffine.src
                            19284 ; 2094 |#define RSRC_FUNCLET_WORDS_TO_ECAFFINE 872    
                            19285 ; 2095 |//$FILENAME ecaffine_to_dwords.src
                            19286 ; 2096 |#define RSRC_FUNCLET_ECAFFINE_TO_DWORDS 873    
                            19287 ; 2097 |//$FILENAME _threadunsafepkinit.src
                            19288 ; 2098 |#define RSRC_FUNCLET__THREADUNSAFEPKINIT 874    
                            19289 ; 2099 |//$FILENAME pkinit.src
                            19290 ; 2100 |#define RSRC_FUNCLET_PKINIT 875    
                            19291 ; 2101 |//$FILENAME drm_pk_genkeypair.src
                            19292 ; 2102 |#define RSRC_FUNCLET_DRM_PK_GENKEYPAIR 876    
                            19293 ; 2103 |//$FILENAME drm_pk_encrypt.src
                            19294 ; 2104 |#define RSRC_FUNCLET_DRM_PK_ENCRYPT 877    
                            19295 ; 2105 |//$FILENAME drm_pk_decrypt.src
                            19296 ; 2106 |#define RSRC_FUNCLET_DRM_PK_DECRYPT 878    
                            19297 ; 2107 |//$FILENAME byte_array_mod_bignum.src
                            19298 ; 2108 |#define RSRC_FUNCLET_BYTE_ARRAY_MOD_BIGNUM 879    
                            19299 ; 2109 |//$FILENAME fe2ipmod.src
                            19300 ; 2110 |#define RSRC_FUNCLET_FE2IPMOD 880    
                            19301 ; 2111 |//$FILENAME drm_pk_sign.src
                            19302 ; 2112 |#define RSRC_FUNCLET_DRM_PK_SIGN 881    
                            19303 ; 2113 |//$FILENAME drm_pk_verify.src
                            19304 ; 2114 |#define RSRC_FUNCLET_DRM_PK_VERIFY 882    
                            19305 ; 2115 |//$FILENAME random_bytes.src
                            19306 ; 2116 |#define RSRC_FUNCLET_RANDOM_BYTES 883    
                            19307 ; 2117 |//$FILENAME mp_gcdex.src
                            19308 ; 2118 |#define RSRC_FUNCLET_MP_GCDEX 884    
                            19309 ; 2119 |//$FILENAME mp_gcdex_split1.src
                            19310 ; 2120 |#define RSRC_FUNCLET_MP_GCDEX_SPLIT1 885    
                            19311 ; 2121 |//$FILENAME pkcrypto_p.src
                            19312 ; 2122 |#define RSRC_PKCRYPTO_P 886    
                            19313 ; 2123 |//$FILENAME pkcrypto_ovl_p.src
                            19314 ; 2124 |#define RSRC_PKCRYPTO_OVL_P 887    
                            19315 ; 2125 |//$FILENAME del_all_warning_line2.src
                            19316 ; 2126 |#define RSRC_WARNING_MSG_ALL_LINE2 888    
                            19317 ; 2127 |//$FILENAME del_all_file_star.src
                            19318 ; 2128 |#define RSRC_FILE_DELETE_STAR 889    
                            19319 ; 2129 |//$FILENAME string_voice_menu_delete_all.src
                            19320 ; 2130 |#define RSRC_STRING_VOICE_MENU_DELETE_ALL 890    
                            19321 ; 2131 |//$FILENAME Funclet_Init5VSense.src
                            19322 ; 2132 |#define RSRC_FUNCLET_INIT5VSENSE 891    
                            19323 ; 2133 |//$FILENAME Funclet_UpdateDCDCDutyCycle.src
                            19324 ; 2134 |#define RSRC_FUNCLET_UPDATEDCDCDUTYCYCLE 892    
                            19325 ; 2135 |//$FILENAME Funclet_changeplayset.src
                            19326 ; 2136 |#define RSRC_FUNCLET_CHANGE_PLAYSET 893    
                            19327 ; 2137 |
                            19328 ; 2138 |//$FILENAME Funclet_mmctesterase.src
                            19329 ; 2139 |#define RSRC_FUNCLET_MMC_TEST_ERASE 894    
                            19330 ; 2140 |//$FILENAME Funclet_mmchalinit.src
                            19331 ; 2141 |#define RSRC_FUNCLET_MMC_HALINIT 895    
                            19332 ; 2142 |
                            19333 ; 2143 |
                            19334 ; 2144 |// Added to allow rechargeable battery configurations to build
                            19335 ; 2145 |//$FILENAME battery_charging.src
                            19336 ; 2146 |#define RSRC_BATTERY_CHARGING 896    
                            19337 ; 2147 |//$FILENAME batterychargecodebank.src
                            19338 ; 2148 |#define RSRC_BATTERY_CHARGE_CODEBANK 897    
                            19339 ; 2149 |//$FILENAME updatevolume.src
                            19340 ; 2150 |#define RSRC_FUNCLET_SYSUPDATEVOLUME 898    
                            19341 ; 2151 |//$FILENAME Funclet_TestSkipCheckDisk.src
                            19342 ; 2152 |#define RSRC_FUNCLET_TESTSKIPCHECKDISK 899    
                            19343 ; 2153 |//$FILENAME Funclet_DisableStmpGeneratedMicBias.src
                            19344 ; 2154 |#define RSRC_FUNCLET_DISABLE_STMP_GENERATED_MICBIAS 900    
                            19345 ; 2155 |//$FILENAME Funclet_EnableStmpGeneratedMicBias.src
                            19346 ; 2156 |#define RSRC_FUNCLET_ENABLE_STMP_GENERATED_MICBIAS 901    
                            19347 ; 2157 |//$FILENAME Funclet_SetSkipCheckDisk.src
                            19348 ; 2158 |#define RSRC_FUNCLET_SETSKIPCHECKDISK 902    
                            19349 ; 2159 |//$FILENAME drm_expr_evaluateexpression_no_more_tokens.src
                            19350 ; 2160 |#define RSRC_FUNCLET_DRM_EXPR_EVALUATEEXPRESSION_NO_MORE_TOKENS 903    
                            19351 ; 2161 |//$FILENAME _iscachedevent.src
                            19352 ; 2162 |#define RSRC_FUNCLET__ISCACHEDEVENT 904    
                            19353 ; 2163 |//$FILENAME setcountedexpirycategory.src
                            19354 ; 2164 |#define RSRC_FUNCLET_SETCOUNTEDEXPIRYCATEGORY 905    
                            19355 ; 2165 |//$FILENAME oem_data.src
                            19356 ; 2166 |#define RSRC_OEM_DATA 906    
                            19357 ; 2167 |//$FILENAME gpk_p.src
                            19358 ; 2168 |#define RSRC_GPK_P 907    
                            19359 ; 2169 |//$FILENAME key_data.src
                            19360 ; 2170 |#define RSRC_KEY_DATA 908    
                            19361 ; 2171 |//$FILENAME string_arial_8_defragmenting_store.src
                            19362 ; 2172 |#define RSRC_DEFRAGMENT_STORE_STRING 909    
                            19363 ; 2173 |//$FILENAME string_working.src
                            19364 ; 2174 |#define RSRC_STRING_WORKING 910    
                            19365 ; 2175 |//$FILENAME Funclet_loadusertime.src
                            19366 ; 2176 |#define RSRC_FUNCLET_LOADUSERTIME 911    
                            19367 ; 2177 |//$FILENAME Funclet_saveusertime.src
                            19368 ; 2178 |#define RSRC_FUNCLET_SAVEUSERTIME 912    
                            19369 ; 2179 |
                            19370 ; 2180 |//$FILENAME Funclet_SysLRADCBrownoutInit.src
                            19371 ; 2181 |#define RSRC_FUNCLET_SYSLRADCBROWNOUTINIT 913    
                            19372 ; 2182 |//$FILENAME Funclet_SysBatteryGetLevel.src
                            19373 ; 2183 |#define RSRC_FUNCLET_SYSBATTERYGETLEVEL 914    
                            19374 ; 2184 |
                            19375 ; 2185 |////////////////////////////////////////////////////////////////////////////////////////////////////
                            19376 ; 2186 |// Audible ACELP Resources
                            19377 ; 2187 |////////////////////////////////////////////////////////////////////////////////////////////////////
                            19378 ; 2188 |//$FILENAME AudibleAcelpDec.src
                            19379 ; 2189 |#define RSRC_AUDIBLE_ACELPDEC_CODE 915    
                            19380 ; 2190 |//$FILENAME AudibleAcelpP.src
                            19381 ; 2191 |#define RSRC_AUDIBLE_ACELP_CODE_P 916    
                            19382 ; 2192 |//$FILENAME AudibleAcelpX.src
                            19383 ; 2193 |#define RSRC_AUDIBLE_ACELP_DATA_X 917    
                            19384 ; 2194 |//$FILENAME AudibleAcelpY.src
                            19385 ; 2195 |#define RSRC_AUDIBLE_ACELP_DATA_Y 918    
                            19386 ; 2196 |
                            19387 ; 2197 |//$FILENAME AudibleDecMod.src
                            19388 ; 2198 |#define RSRC_AUDIBLE_DECMOD_CODE 919    
                            19389 ; 2199 |//$FILENAME audiblemp3p.src
                            19390 ; 2200 |#define RSRC_AUDIBLE_MP3P_CODE 920    
                            19391 ; 2201 |//$FILENAME audiblemp3x.src
                            19392 ; 2202 |#define RSRC_AUDIBLE_MP3X_CODE 921    
                            19393 ; 2203 |//$FILENAME audiblemp3y.src
                            19394 ; 2204 |#define RSRC_AUDIBLE_MP3Y_CODE 922    
                            19395 ; 2205 |
                            19396 ; 2206 |//$FILENAME audiblemetadata_p.src
                            19397 ; 2207 |#define RSRC_AUDIBLE_METADATA_P 923    
                            19398 ; 2208 |//$FILENAME audiblemetadata_y.src
                            19399 ; 2209 |#define RSRC_AUDIBLE_METADATA_Y 924    
                            19400 ; 2210 |//$FILENAME audiblesongposition_p.src
                            19401 ; 2211 |#define RSRC_AUDIBLE_SONG_POSITION_P 925    
                            19402 ; 2212 |//$FILENAME audibletargetcheck_p.src
                            19403 ; 2213 |#define RSRC_AUDIBLE_TARGET_CHECK_P 926    
                            19404 ; 2214 |//$FILENAME audiblefillfileinfo_p.src
                            19405 ; 2215 |#define RSRC_AUDIBLE_FILLFILEINFO_P 927    
                            19406 ; 2216 |//$FILENAME audibledsa_p.src
                            19407 ; 2217 |#define RSRC_AUDIBLE_DSA_P 928    
                            19408 ; 2218 |//$FILENAME audiblefillmetadata_p.src
                            19409 ; 2219 |#define RSRC_AUDIBLE_FILLMETADATA_P 929    
                            19410 ; 2220 |//$FILENAME audiblemetastrings_p.src
                            19411 ; 2221 |#define RSRC_AUDIBLE_METASTRINGS_P 930    
                            19412 ; 2222 |//$FILENAME aaactivationrecords_p.src
                            19413 ; 2223 |#define RSRC_AUDIBLE_ACTIVATION_P 931    
                            19414 ; 2224 |
                            19415 ; 2225 |////////////////////////////////////////////////////////////////////////////////////////////////////
                            19416 ; 2226 |// Effects and SRS Resources
                            19417 ; 2227 |////////////////////////////////////////////////////////////////////////////////////////////////////
                            19418 ; 2228 |//$FILENAME srs_effectsmodules_p.src
                            19419 ; 2229 |#define RSRC_SRS_EFFECTS_MODULES_P 932    
                            19420 ; 2230 |//$FILENAME srs_effectsmodules_x.src
                            19421 ; 2231 |#define RSRC_SRS_EFFECTS_MODULES_X 933    
                            19422 ; 2232 |//$FILENAME wowctrl.src
                            19423 ; 2233 |#define RSRC_WOW_CTRL 934    
                            19424 ; 2234 |
                            19425 ; 2235 |//$FILENAME wowmenu.src
                            19426 ; 2236 |#define RSRC_WOW_MENU_CODE_BANK 935    
                            19427 ; 2237 |//$FILENAME string_wowbrightness_menu.src
                            19428 ; 2238 |#define RSRC_STRING_WOW_BRIGHTNESS 936    
                            19429 ; 2239 |//$FILENAME string_wow_menu.src
                            19430 ; 2240 |#define RSRC_STRING_WOW_MENU 937    
                            19431 ; 2241 |//$FILENAME string_wowtrubass_menu.src
                            19432 ; 2242 |#define RSRC_STRING_WOW_TRUBASS 938    
                            19433 ; 2243 |//$FILENAME string_wowvolume_menu.src
                            19434 ; 2244 |#define RSRC_STRING_WOW_VOLUME 939    
                            19435 ; 2245 |//$FILENAME string_wowbrightness_low_menu.src
                            19436 ; 2246 |#define RSRC_STRING_WOW_BRIGHT_LOW 940    
                            19437 ; 2247 |//$FILENAME string_wowbrightness_mid_menu.src
                            19438 ; 2248 |#define RSRC_STRING_WOW_BRIGHT_MID 941    
                            19439 ; 2249 |//$FILENAME string_wowbrightness_high_menu.src
                            19440 ; 2250 |#define RSRC_STRING_WOW_BRIGHT_HIGH 942    
                            19441 ; 2251 |//$FILENAME wow_icon.src
                            19442 ; 2252 |#define RSRC_WOW_ICON 943    
                            19443 ; 2253 |
                            19444 ; 2254 |//$FILENAME wow16k.src
                            19445 ; 2255 |#define RSRC_WOW16K 944    
                            19446 ; 2256 |//$FILENAME wow32k.src
                            19447 ; 2257 |#define RSRC_WOW32K 945    
                            19448 ; 2258 |//$FILENAME wow8k.src
                            19449 ; 2259 |#define RSRC_WOW8K 946    
                            19450 ; 2260 |//$FILENAME wow11k.src
                            19451 ; 2261 |#define RSRC_WOW11K 947    
                            19452 ; 2262 |//$FILENAME wow22k.src
                            19453 ; 2263 |#define RSRC_WOW22K 948    
                            19454 ; 2264 |//$FILENAME wow24k.src
                            19455 ; 2265 |#define RSRC_WOW24K 949    
                            19456 ; 2266 |//$FILENAME wow44k.src
                            19457 ; 2267 |#define RSRC_WOW44K 950    
                            19458 ; 2268 |//$FILENAME wow48k.src
                            19459 ; 2269 |#define RSRC_WOW48K 951    
                            19460 ; 2270 |
                            19461 ; 2271 |//$FILENAME wow16k_Y.src
                            19462 ; 2272 |#define RSRC_WOW16K_Y 952    
                            19463 ; 2273 |//$FILENAME wow32k_Y.src
                            19464 ; 2274 |#define RSRC_WOW32K_Y 953    
                            19465 ; 2275 |//$FILENAME wow8k_Y.src
                            19466 ; 2276 |#define RSRC_WOW8K_Y 954    
                            19467 ; 2277 |//$FILENAME wow11k_Y.src
                            19468 ; 2278 |#define RSRC_WOW11K_Y 955    
                            19469 ; 2279 |//$FILENAME wow22k_Y.src
                            19470 ; 2280 |#define RSRC_WOW22K_Y 956    
                            19471 ; 2281 |//$FILENAME wow24k_Y.src
                            19472 ; 2282 |#define RSRC_WOW24K_Y 957    
                            19473 ; 2283 |//$FILENAME wow44k_Y.src
                            19474 ; 2284 |#define RSRC_WOW44K_Y 958    
                            19475 ; 2285 |//$FILENAME wow48k_Y.src
                            19476 ; 2286 |#define RSRC_WOW48K_Y 959    
                            19477 ; 2287 |
                            19478 ; 2288 |/////////////////////////////////////////////////////////////////////////////////////////////////////
                            19479 ; 2289 |// Audible Section Navigation
                            19480 ; 2290 |/////////////////////////////////////////////////////////////////////////////////////////////////////
                            19481 ; 2291 |//$FILENAME audible_secnav.src
                            19482 ; 2292 |#define RSRC_AUDIBLE_SECNAV_ICON 960    
                            19483 ; 2293 |
                            19484 ; 2294 |////////////////////////////////////////////////////////////////////////////////////////////////////
                            19485 ; 2295 |// PLAYLIST3 and Music Library
                            19486 ; 2296 |////////////////////////////////////////////////////////////////////////////////////////////////////
                            19487 ; 2297 |
                            19488 ; 2298 |//$FILENAME build_ml.src
                            19489 ; 2299 |#define RSRC_BUILD_ML 961    
                            19490 ; 2300 |//$FILENAME build_ml_warning.src
                            19491 ; 2301 |#define RSRC_BUILD_ML_WARNING 962    
                            19492 ; 2302 |//$FILENAME build_ml_warning2.src
                            19493 ; 2303 |#define RSRC_BUILD_ML_WARNING2 963    
                            19494 ; 2304 |//$FILENAME build_flash1.src
                            19495 ; 2305 |#define RSRC_BUILD_FLASH1 964    
                            19496 ; 2306 |//$FILENAME build_flash2.src
                            19497 ; 2307 |#define RSRC_BUILD_FLASH2 965    
                            19498 ; 2308 |//$FILENAME build_flash3.src
                            19499 ; 2309 |#define RSRC_BUILD_FLASH3 966    
                            19500 ; 2310 |//$FILENAME build_sd1.src
                            19501 ; 2311 |#define RSRC_BUILD_SD1 967    
                            19502 ; 2312 |//$FILENAME build_sd2.src
                            19503 ; 2313 |#define RSRC_BUILD_SD2 968    
                            19504 ; 2314 |//$FILENAME build_sd3.src
                            19505 ; 2315 |#define RSRC_BUILD_SD3 969    
                            19506 ; 2316 |//$FILENAME build_newmusic.src
                            19507 ; 2317 |#define RSRC_BUILD_NEWMUSIC 970    
                            19508 ; 2318 |//$FILENAME sdmd.src
                            19509 ; 2319 |#define RSRC_SDMD_MENU_CODE_BANK 971    
                            19510 ; 2320 |//$FILENAME musiclib_build_function_sec.src
                            19511 ; 2321 |#define RSRC_MUSICLIB_BUILD_FUNCTION_SEC 972    
                            19512 ; 2322 |//$FILENAME musiclib_build_function_flush.src
                            19513 ; 2323 |#define RSRC_MUSICLIB_BUILD_FUNCTION_FLUSH 973    
                            19514 ; 2324 |//$FILENAME MusicLibBuildModule.src
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page  78

M:ADDR CODE           CYCLES LINE SOURCELINE
                            19515 ; 2325 |#define RSRC_MUSICLIB_BUILD_MODULE 974    
                            19516 ; 2326 |//$FILENAME MusicLibBuildGenreTable.src
                            19517 ; 2327 |#define RSRC_MUSICLIB_BUILD_GENRE_TABLE 975    
                            19518 ; 2328 |//$FILENAME MusicLibBuildFlushMem.src
                            19519 ; 2329 |#define RSRC_MUSICLIB_BUILD_FLUSH_MEM 976    
                            19520 ; 2330 |//$FILENAME MusicLibBrowseModule.src
                            19521 ; 2331 |#define RSRC_MUSICLIB_BROWSE_MODULE 977    
                            19522 ; 2332 |//$FILENAME MusicLibPlayModule.src
                            19523 ; 2333 |#define RSRC_MUSICLIB_PLAY_MODULE 978    
                            19524 ; 2334 |//$FILENAME MusicLibPlayAllNextModule.src
                            19525 ; 2335 |#define RSRC_MUSICLIB_PLAYALLNEXT_MODULE 979    
                            19526 ; 2336 |//$FILENAME MusicLibPlayAllPrevModule.src
                            19527 ; 2337 |#define RSRC_MUSICLIB_PLAYALLPREV_MODULE 980    
                            19528 ; 2338 |//$FILENAME MusicLibShuffleModule.src
                            19529 ; 2339 |#define RSRC_MUSICLIB_SHUFFLE_MODULE 981    
                            19530 ; 2340 |//$FILENAME Funclet_write_detection_access.src
                            19531 ; 2341 |#define RSRC_FUNCLET_WRITE_DETECTION_ACCESS 982    
                            19532 ; 2342 |//$FILENAME Funclet_LOCAL_GetLvlOneItem_info.src
                            19533 ; 2343 |#define RSRC_FUNCLET_LOCAL_GET_LVL_ONE_ITEM_INFO 983    
                            19534 ; 2344 |//$FILENAME Funclet_LOCAL_GetFlashAssociatedList_info.src
                            19535 ; 2345 |#define RSRC_FUNCLET_LOCAL_GET_FLASH_ASSOCIATED_LIST_INFO 984    
                            19536 ; 2346 |//$FILENAME Funclet_ML_ResumePlayState.src
                            19537 ; 2347 |#define RSRC_FUNCLET_ML_RESUMEPLAYSTATE 985    
                            19538 ; 2348 |//$FILENAME Funclet_ML_UpdateOnTheGo.src
                            19539 ; 2349 |#define RSRC_FUNCLET_ML_UPDATE_ON_THE_GO 986    
                            19540 ; 2350 |//$FILENAME Funclet_ML_ChOnTheGo.src
                            19541 ; 2351 |#define RSRC_FUNCLET_ML_CH_ON_THE_GO 987    
                            19542 ; 2352 |//$FILENAME Funclet_ML_LoadOnTheGo.src
                            19543 ; 2353 |#define RSRC_FUNCLET_ML_LOAD_ON_THE_GO 988    
                            19544 ; 2354 |//$FILENAME Funclet_Build_InitandUseCache.src
                            19545 ; 2355 |#define RSRC_FUNCLET_BUILD_INIT_AND_USE_CACHE 989    
                            19546 ; 2356 |//$FILENAME Funclet_Build_FlushAndCloseCache.src
                            19547 ; 2357 |#define RSRC_FUNCLET_BUILD_FLUSH_AND_CLOSE_CACHE 990    
                            19548 ; 2358 |//$FILENAME Funclet_ML_movePointerBackward.src
                            19549 ; 2359 |#define RSRC_FUNCLET_ML_MOVE_POINTER_BACKWARD 991    
                            19550 ; 2360 |//$FILENAME Funclet_ML_findLastItemPointer.src
                            19551 ; 2361 |#define RSRC_FUNCLET_ML_FIND_LAST_ITEM_POINTER 992    
                            19552 ; 2362 |//$FILENAME Funclet_ML_startShuffle.src
                            19553 ; 2363 |#define RSRC_FUNCLET_ML_START_SHUFFLE 993    
                            19554 ; 2364 |//$FILENAME Funclet_ML_GetFlashDirAssocListId.src
                            19555 ; 2365 |#define RSRC_FUNCLET_ML_GET_FLASH_DIR_ASSOC_LIST_ID 994    
                            19556 ; 2366 |//$FILENAME Funclet_ML_GetFlashDirAssocListRootId.src
                            19557 ; 2367 |#define RSRC_FUNCLET_ML_GET_FLASH_DIR_ASSOC_LIST_ROOT_ID 995    
                            19558 ; 2368 |//$FILENAME Funclet_ML_GetFlashDirAssocListSize.src
                            19559 ; 2369 |#define RSRC_FUNCLET_ML_GET_FLASH_DIR_ASSOC_LIST_SIZE 996    
                            19560 ; 2370 |//$FILENAME Funclet_ML_GetIdByStateAndPosition.src
                            19561 ; 2371 |#define RSRC_FUNCLET_ML_GET_ID_BY_STATE_AND_POSITION 997    
                            19562 ; 2372 |//$FILENAME Funclet_ML_StartPlayDirSongInit.src
                            19563 ; 2373 |#define RSRC_FUNCLET_ML_START_PLAY_DIR_SONG_INIT 998    
                            19564 ; 2374 |//$FILENAME Funclet_ML_ShuffleNextDirSong.src
                            19565 ; 2375 |#define RSRC_FUNCLET_ML_SHUFFLE_NEXT_DIR_SONG 999    
                            19566 ; 2376 |//$FILENAME Funclet_ML_BrowseMenu.src
                            19567 ; 2377 |#define RSRC_FUNCLET_ML_BROWSE_MENU 1000    
                            19568 ; 2378 |//$FILENAME Funclet_ML_StartPlayAllSong.src
                            19569 ; 2379 |#define RSRC_FUNCLET_ML_START_PLAY_ALL_SONG 1001    
                            19570 ; 2380 |//$FILENAME Funclet_ML_PlayAllNextSong.src
                            19571 ; 2381 |#define RSRC_FUNCLET_ML_PLAY_ALL_NEXT_SONG 1002    
                            19572 ; 2382 |//$FILENAME Funclet_ML_PlayAllPreviousSong.src
                            19573 ; 2383 |#define RSRC_FUNCLET_ML_PLAY_ALL_PREVIOUS_SONG 1003    
                            19574 ; 2384 |//$FILENAME Funclet_ML_PlayPreviousDirSong.src
                            19575 ; 2385 |#define RSRC_FUNCLET_ML_PLAY_PREVIOUS_DIR_SONG 1004    
                            19576 ; 2386 |//$FILENAME Funclet_ML_ShuffleNextSong.src
                            19577 ; 2387 |#define RSRC_FUNCLET_ML_SHUFFLE_NEXT_SONG 1005    
                            19578 ; 2388 |//$FILENAME Funclet_ML_PlayNextSong.src
                            19579 ; 2389 |#define RSRC_FUNCLET_ML_PLAY_NEXT_SONG 1006    
                            19580 ; 2390 |//$FILENAME Funclet_ML_PlayPreviousSong.src
                            19581 ; 2391 |#define RSRC_FUNCLET_ML_PLAY_PREVIOUS_SONG 1007    
                            19582 ; 2392 |//$FILENAME Funclet_BuildVoiceFilePath.src
                            19583 ; 2393 |#define RSRC_FUNCLET_BUILDVOICEFILEPATH 1008    
                            19584 ; 2394 |//$FILENAME Funclet_BuildFMFilePath.src
                            19585 ; 2395 |#define RSRC_FUNCLET_BUILDFMFILEPATH 1009    
                            19586 ; 2396 |//$FILENAME Funclet_BuildLINEINFilePath.src
                            19587 ; 2397 |#define RSRC_FUNCLET_BUILDLINEINFILEPATH 1010    
                            19588 ; 2398 |//$FILENAME Funclet_GetVoiceFastKey.src
                            19589 ; 2399 |#define RSRC_FUNCLET_GETVOICEFASTKEY 1011    
                            19590 ; 2400 |//$FILENAME MusicLibVoiceApp.src
                            19591 ; 2401 |#define RSRC_MUSICLIB_VOICE_APP 1012    
                            19592 ; 2402 |//$FILENAME MusicLibVoiceModule.src
                            19593 ; 2403 |#define RSRC_MUSICLIB_VOICE_MODULE 1013    
                            19594 ; 2404 |//$FILENAME MusicLibVoicePlayModule.src
                            19595 ; 2405 |#define RSRC_MUSICLIB_VOICEPLAY_MODULE 1014    
                            19596 ; 2406 |//$FILENAME MusicLibMergeFunction.src
                            19597 ; 2407 |#define RSRC_MUSICLIB_MERGE_FUNCTION 1015    
                            19598 ; 2408 |//$FILENAME MusicLibMergeModule.src
                            19599 ; 2409 |#define RSRC_MUSICLIB_MERGE_MODULE 1016    
                            19600 ; 2410 |//$FILENAME MusicLibBrowseApp.src
                            19601 ; 2411 |#define RSRC_MUSICLIB_BROWSE_APP 1017    
                            19602 ; 2412 |//$FILENAME playmusicmenu.src
                            19603 ; 2413 |#define RSRC_PLAYMUSIC_MENU_CODE_BANK 1018    
                            19604 ; 2414 |//$FILENAME browsemenu.src
                            19605 ; 2415 |#define RSRC_BROWSE_MENU_CODE_BANK 1019    
                            19606 ; 2416 |//$FILENAME browsemenu_extra.src
                            19607 ; 2417 |#define RSRC_BROWSE_MENU_EXTRA_CODE_BANK 1020    
                            19608 ; 2418 |//$FILENAME string_play_all.src
                            19609 ; 2419 |#define RSRC_STRING_PLAY_ALL 1021    
                            19610 ; 2420 |//$FILENAME string_play.src
                            19611 ; 2421 |#define RSRC_STRING_PLAY 1022    
                            19612 ; 2422 |//$FILENAME string_unknown_year.src
                            19613 ; 2423 |#define RSRC_STRING_UNKNOWN_YEAR 1023    
                            19614 ; 2424 |//$FILENAME string_year_width.src
                            19615 ; 2425 |#define RSRC_STRING_YEAR_WIDTH 1024    
                            19616 ; 2426 |//$FILENAME string_artist.src
                            19617 ; 2427 |#define RSRC_STRING_ARTIST 1025    
                            19618 ; 2428 |//$FILENAME string_songs.src
                            19619 ; 2429 |#define RSRC_STRING_SONGS 1026    
                            19620 ; 2430 |//$FILENAME string_on_the_fly.src
                            19621 ; 2431 |#define RSRC_STRING_ON_THE_FLY 1027    
                            19622 ; 2432 |//$FILENAME string_new_music.src
                            19623 ; 2433 |#define RSRC_STRING_NEW_MUSIC_MENU 1028    
                            19624 ; 2434 |//$FILENAME string_genre.src
                            19625 ; 2435 |#define RSRC_STRING_GENRE 1029    
                            19626 ; 2436 |//$FILENAME string_year.src
                            19627 ; 2437 |#define RSRC_STRING_YEAR 1030    
                            19628 ; 2438 |//$FILENAME string_playlist.src
                            19629 ; 2439 |#define RSRC_STRING_PLAYLIST 1031    
                            19630 ; 2440 |//$FILENAME string_fm_rec.src
                            19631 ; 2441 |#define RSRC_STRING_FM_REC 1032    
                            19632 ; 2442 |//$FILENAME string_linein_rec.src
                            19633 ; 2443 |#define RSRC_STRING_LINEIN_REC 1033    
                            19634 ; 2444 |//$FILENAME string_play_music.src
                            19635 ; 2445 |#define RSRC_STRING_PLAY_MUSIC 1034    
                            19636 ; 2446 |//$FILENAME highlight_back.src
                            19637 ; 2447 |#define RSRC_HIGHLIGHT_BACK 1035    
                            19638 ; 2448 |//$FILENAME newmusicmenu.src
                            19639 ; 2449 |#define RSRC_NEW_MUSIC_MENU_CODE_BANK 1036    
                            19640 ; 2450 |//$FILENAME string_1_day.src
                            19641 ; 2451 |#define RSRC_STRING_1_DAY 1037    
                            19642 ; 2452 |//$FILENAME string_1_week.src
                            19643 ; 2453 |#define RSRC_STRING_1_WEEK 1038    
                            19644 ; 2454 |//$FILENAME string_1_month.src
                            19645 ; 2455 |#define RSRC_STRING_1_MONTH 1039    
                            19646 ; 2456 |//$FILENAME on_the_fly_full.src
                            19647 ; 2457 |#define RSRC_LIST_FULL_MESSAGE 1040    
                            19648 ; 2458 |//$FILENAME on_the_fly_free1.src
                            19649 ; 2459 |#define RSRC_LIST_FREE_MESSAGE 1041    
                            19650 ; 2460 |//$FILENAME on_the_fly_free2.src
                            19651 ; 2461 |#define RSRC_LIST_FREE_MESSAGE2 1042    
                            19652 ; 2462 |//$FILENAME on_the_fly_delete1.src
                            19653 ; 2463 |#define RSRC_LIST_DELETE_MESSAGE 1043    
                            19654 ; 2464 |//$FILENAME on_the_fly_delete2.src
                            19655 ; 2465 |#define RSRC_LIST_DELETE_MESSAGE2 1044    
                            19656 ; 2466 |//$FILENAME empty_favourite.src
                            19657 ; 2467 |#define RSRC_EMPTY_FAVOURITE 1045    
                            19658 ; 2468 |//$FILENAME sd_remove.src
                            19659 ; 2469 |#define RSRC_SD_REMOVE 1046    
                            19660 ; 2470 |//$FILENAME sd_insert.src
                            19661 ; 2471 |#define RSRC_SD_INSERT 1047    
                            19662 ; 2472 |//$FILENAME check_disk_1.src
                            19663 ; 2473 |#define RSRC_CHECK_DISK_1 1048    
                            19664 ; 2474 |//$FILENAME check_disk_2.src
                            19665 ; 2475 |#define RSRC_CHECK_DISK_2 1049    
                            19666 ; 2476 |//$FILENAME check_disk_3.src
                            19667 ; 2477 |#define RSRC_CHECK_DISK_3 1050    
                            19668 ; 2478 |//$FILENAME flash_error.src
                            19669 ; 2479 |#define RSRC_FLASH_ERROR 1051    
                            19670 ; 2480 |
                            19671 ; 2481 |//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                            19672 ; 2482 |// STFM1000 Tuner funclet
                            19673 ; 2483 |//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                            19674 ; 2484 |//$FILENAME Funclet_TunerDriverInit.src
                            19675 ; 2485 |#define RSRC_FUNCLET_TUNER_DRIVER_INIT 1052    
                            19676 ; 2486 |//$FILENAME Funclet_TunerDriverIncUp.src
                            19677 ; 2487 |#define RSRC_FUNCLET_TUNER_DRIVER_INC_UP 1053    
                            19678 ; 2488 |//$FILENAME Funclet_TunerDriverIncDown.src
                            19679 ; 2489 |#define RSRC_FUNCLET_TUNER_DRIVER_INC_DOWN 1054    
                            19680 ; 2490 |//$FILENAME Funclet_TunerDriverStandyby.src
                            19681 ; 2491 |#define RSRC_FUNCLET_TUNER_DRIVER_SET_STANDBY 1055    
                            19682 ; 2492 |//$FILENAME Funclet_TunerDriverReplacePreset.src
                            19683 ; 2493 |#define RSRC_FUNCLET_TUNER_DRIVER_REPLACE_PRESET 1056    
                            19684 ; 2494 |//$FILENAME Funclet_TunerDriverErasePreset.src
                            19685 ; 2495 |#define RSRC_FUNCLET_TUNER_DRIVER_ERASE_PRESET 1057    
                            19686 ; 2496 |//$FILENAME Funclet_TunerDriverTuneToPreset.src
                            19687 ; 2497 |#define RSRC_FUNCLET_TUNER_DRIVER_TUNE_TO_PRESET 1058    
                            19688 ; 2498 |//$FILENAME Funclet_TunerDriverSearchDown.src
                            19689 ; 2499 |#define RSRC_FUNCLET_TUNER_DRIVER_SEARCH_DOWN 1059    
                            19690 ; 2500 |//$FILENAME Funclet_TunerSTFM1000SafePowerDown.src
                            19691 ; 2501 |#define RSRC_FUNCLET_TUNER_SAFE_POWER_DOWN 1060    
                            19692 ; 2502 |//$FILENAME Funclet_TunerSTFM1000OptimizeChannel.src
                            19693 ; 2503 |#define RSRC_FUNCLET_STFM1000_TUNER_OPTIMIZE_CHANNEL 1061    
                            19694 ; 2504 |//$FILENAME decstfmmod.src
                            19695 ; 2505 |#define RSRC_DEC_STFM_MOD_CODE 1062    
                            19696 ; 2506 |//$FILENAME dec_stfmp.src
                            19697 ; 2507 |#define RSRC_DEC_STFMP_CODE 1063    
                            19698 ; 2508 |//$FILENAME dec_stfmx.src
                            19699 ; 2509 |#define RSRC_DEC_STFMX_CODE 1064    
                            19700 ; 2510 |//$FILENAME dec_stfmy.src
                            19701 ; 2511 |#define RSRC_DEC_STFMY_CODE 1065    
                            19702 ; 2512 |//$FILENAME Funclet_TunerSTFM1000I2CInit.src
                            19703 ; 2513 |#define RSRC_FUNCLET_STFM1000_I2C_INIT 1066    
                            19704 ; 2514 |//$FILENAME Funclet_TunerDriverScanStations.src
                            19705 ; 2515 |#define RSRC_FUNCLET_TUNER_DRIVER_SCAN_STATION 1067    
                            19706 ; 2516 |//$FILENAME Funclet_TunerDriverSetMonoStereoMode.src
                            19707 ; 2517 |#define RSRC_FUNCLET_TUNER_DRIVER_SET_MONO_STEREO_MODE 1068    
                            19708 ; 2518 |//$FILENAME Funclet_STFM1000TestPresence.src
                            19709 ; 2519 |#define RSRC_FUNCLET_STFM1000_TEST_PRESENCE 1069    
                            19710 ; 2520 |//$FILENAME Funclet_I2CWriteTunerRegister.src
                            19711 ; 2521 |#define RSRC_FUNCLET_I2C_WRITE_TUNER_REGISTER 1070    
                            19712 ; 2522 |//$FILENAME Funclet_I2CReset.src
                            19713 ; 2523 |#define RSRC_FUNCLET_I2C_RESET 1071    
                            19714 ; 2524 |//$FILENAME fmtunersecondrsrc.src
                            19715 ; 2525 |#define RSRC_FM_TUNER_SECOND_RSRC 1072    
                            19716 ; 2526 |//$FILENAME Funclet_TunerSTFM1000RegPowerUp1.src
                            19717 ; 2527 |#define RSRC_FUNCLET_STFM1000_REG_POWER_UP1 1073    
                            19718 ; 2528 |//$FILENAME Funclet_TunerSTFM1000RegPowerUp2.src
                            19719 ; 2529 |#define RSRC_FUNCLET_STFM1000_REG_POWER_UP2 1074    
                            19720 ; 2530 |//$FILENAME Funclet_TunerSTFM1000FindRssiThreshold.src
                            19721 ; 2531 |#define RSRC_FUNCLET_STFM1000_FIND_RSSI_THRESHOLD 1075    
                            19722 ; 2532 |//$FILENAME Funclet_TunerSTFM1000DataPathOff.src
                            19723 ; 2533 |#define RSRC_FUNCLET_STFM1000_DATA_PATH_OFF 1076    
                            19724 ; 2534 |//$FILENAME Funclet_TunerSTFM1000ContinueSearching.src
                            19725 ; 2535 |#define RSRC_FUNCLET_STFM1000_CONTINUE_SEARCHING 1077    
                            19726 ; 2536 |//RSRC_FUNCLET_STFM1000_SET_LNA_BIAS    equ      975    ;$FILENAME Funclet_STFM1000SetLnaBias.src
                            19727 ; 2537 |//RSRC_FUNCLET_STFM1000_LOOK_FOR_PILOT    equ      976    ;$FILENAME Funclet_STFM1000LookForPilot.src
                            19728 ; 2538 |//$FILENAME Funclet_STFM1000TunerSearchEnded.src
                            19729 ; 2539 |#define RSRC_FUNCLET_STFM1000_TUNER_SEARCH_ENDED 1078    
                            19730 ; 2540 |// for RestoreDriveFromBackup
                            19731 ; 2541 |//$FILENAME restoresysdrive.src
                            19732 ; 2542 |#define RSRC_RESTORESYSDRIVE_P_CODE 1079    
                            19733 ; 2543 |
                            19734 ; 2544 |//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                            19735 ; 2545 |// Playlist5 sources
                            19736 ; 2546 |//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                            19737 ; 2547 |//$FILENAME playlist5_browsemenu.src
                            19738 ; 2548 |#define RSRC_PL5BROWSE_MENU_CODEBANK 1080    
                            19739 ; 2549 |//$FILENAME playlist5_browsemenu_extra.src
                            19740 ; 2550 |#define RSRC_PL5_BROWSEMENU_EXTRA 1081    
                            19741 ; 2551 |//$FILENAME playlist5_browse_submenu.src
                            19742 ; 2552 |#define RSRC_PL5BROWSE_SUBMENU_CODEBANK 1082    
                            19743 ; 2553 |//$FILENAME playlist5_playback_module.src
                            19744 ; 2554 |#define RSRC_PLAYLIST5_PLAYBACK_MODULE 1083    
                            19745 ; 2555 |//$FILENAME playlist5_browse_module.src
                            19746 ; 2556 |#define RSRC_PLAYLIST5_BROWSE_MODULE 1084    
                            19747 ; 2557 |
                            19748 ; 2558 |//$FILENAME Funclet_Get_LRCDirName_PL5.src
                            19749 ; 2559 |#define RSRC_FUNCLET_GET_LRC_DIR_NAME_PL5 1085    
                            19750 ; 2560 |//$FILENAME Funclet_PL5_PL_QueuePushBack.src   
                            19751 ; 2561 |#define RSRC_FUNCLET_PL5_PL_QUEUEPUSHBACK 1086    
                            19752 ; 2562 |//$FILENAME Funclet_PL5_PL_QueuePushFront.src 
                            19753 ; 2563 |#define RSRC_FUNCLET_PL5_PL_QUEUEPUSHFRONT 1087    
                            19754 ; 2564 |
                            19755 ; 2565 |//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                            19756 ; 2566 |// DanhNguyen added bitmaps
                            19757 ; 2567 |//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                            19758 ; 2568 |//$FILENAME icon_folder.src
                            19759 ; 2569 |#define RSRC_ICON_FOLDER 1088    
                            19760 ; 2570 |//$FILENAME icon_song.src
                            19761 ; 2571 |#define RSRC_ICON_SONG 1089    
                            19762 ; 2572 |
                            19763 ; 2573 |//$FILENAME menu_music.src
                            19764 ; 2574 |#define RSRC_MENU_MUSIC 1090    
                            19765 ; 2575 |//$FILENAME vie_menu_music.src
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page  79

M:ADDR CODE           CYCLES LINE SOURCELINE
                            19766 ; 2576 |#define RSRC_VIE_MENU_MUSIC 1091    
                            19767 ; 2577 |
                            19768 ; 2578 |//$FILENAME menu_voice.src
                            19769 ; 2579 |#define RSRC_MENU_VOICE 1092    
                            19770 ; 2580 |//$FILENAME vie_menu_voice.src
                            19771 ; 2581 |#define RSRC_VIE_MENU_VOICE 1093    
                            19772 ; 2582 |
                            19773 ; 2583 |//$FILENAME menu_fmtuner.src
                            19774 ; 2584 |#define RSRC_MENU_FMTUNER 1094    
                            19775 ; 2585 |//$FILENAME vie_menu_fmtuner.src
                            19776 ; 2586 |#define RSRC_VIE_MENU_FMTUNER 1095    
                            19777 ; 2587 |
                            19778 ; 2588 |//$FILENAME menu_record.src
                            19779 ; 2589 |#define RSRC_MENU_RECORD 1096    
                            19780 ; 2590 |//$FILENAME vie_menu_record.src
                            19781 ; 2591 |#define RSRC_VIE_MENU_RECORD 1097    
                            19782 ; 2592 |
                            19783 ; 2593 |//$FILENAME menu_settings.src
                            19784 ; 2594 |#define RSRC_MENU_SETTINGS 1098    
                            19785 ; 2595 |//$FILENAME vie_menu_settings.src
                            19786 ; 2596 |#define RSRC_VIE_MENU_SETTINGS 1099    
                            19787 ; 2597 |
                            19788 ; 2598 |//$FILENAME menu_shutdown.src
                            19789 ; 2599 |#define RSRC_MENU_SHUTDOWN 1100    
                            19790 ; 2600 |//$FILENAME vie_menu_shutdown.src
                            19791 ; 2601 |#define RSRC_VIE_MENU_SHUTDOWN 1101    
                            19792 ; 2602 |
                            19793 ; 2603 |//$FILENAME menu_clock.src
                            19794 ; 2604 |#define RSRC_MENU_CLOCK 1102    
                            19795 ; 2605 |//$FILENAME vie_menu_clock.src
                            19796 ; 2606 |#define RSRC_VIE_MENU_CLOCK 1103    
                            19797 ; 2607 |
                            19798 ; 2608 |//$FILENAME menu_ab.src
                            19799 ; 2609 |#define RSRC_MENU_AB 1104    
                            19800 ; 2610 |//$FILENAME vie_menu_ab.src
                            19801 ; 2611 |#define RSRC_VIE_MENU_AB 1105    
                            19802 ; 2612 |
                            19803 ; 2613 |//$FILENAME menu_delete.src
                            19804 ; 2614 |#define RSRC_MENU_DELETE 1106    
                            19805 ; 2615 |//$FILENAME vie_menu_delete.src
                            19806 ; 2616 |#define RSRC_VIE_MENU_DELETE 1107    
                            19807 ; 2617 |
                            19808 ; 2618 |//$FILENAME menu_about.src
                            19809 ; 2619 |#define RSRC_MENU_ABOUT 1108    
                            19810 ; 2620 |//$FILENAME vie_menu_about.src
                            19811 ; 2621 |#define RSRC_VIE_MENU_ABOUT 1109    
                            19812 ; 2622 |
                            19813 ; 2623 |//$FILENAME menu_exit.src
                            19814 ; 2624 |#define RSRC_MENU_EXIT 1110    
                            19815 ; 2625 |//$FILENAME vie_menu_exit.src
                            19816 ; 2626 |#define RSRC_VIE_MENU_EXIT 1111    
                            19817 ; 2627 |
                            19818 ; 2628 |//$FILENAME music_play_all.src
                            19819 ; 2629 |#define RSRC_MUSIC_PLAY_ALL 1112    
                            19820 ; 2630 |//$FILENAME vie_music_play_all.src
                            19821 ; 2631 |#define RSRC_VIE_MUSIC_PLAY_ALL 1113    
                            19822 ; 2632 |
                            19823 ; 2633 |//$FILENAME music_folder_internal.src
                            19824 ; 2634 |#define RSRC_MUSIC_FOLDER_INTERNAL 1114    
                            19825 ; 2635 |//$FILENAME vie_music_folder_internal.src
                            19826 ; 2636 |#define RSRC_VIE_MUSIC_FOLDER_INTERNAL 1115    
                            19827 ; 2637 |
                            19828 ; 2638 |//$FILENAME music_folder_external.src
                            19829 ; 2639 |#define RSRC_MUSIC_FOLDER_EXTERNAL 1116    
                            19830 ; 2640 |//$FILENAME vie_music_folder_external.src
                            19831 ; 2641 |#define RSRC_VIE_MUSIC_FOLDER_EXTERNAL 1117    
                            19832 ; 2642 |
                            19833 ; 2643 |//$FILENAME music_songs.src
                            19834 ; 2644 |#define RSRC_MUSIC_SONGS 1118    
                            19835 ; 2645 |//$FILENAME vie_music_songs.src
                            19836 ; 2646 |#define RSRC_VIE_MUSIC_SONGS 1119    
                            19837 ; 2647 |
                            19838 ; 2648 |//$FILENAME music_favorites.src
                            19839 ; 2649 |#define RSRC_MUSIC_FAVORITES 1120    
                            19840 ; 2650 |//$FILENAME vie_music_favorites.src
                            19841 ; 2651 |#define RSRC_VIE_MUSIC_FAVORITES 1121    
                            19842 ; 2652 |
                            19843 ; 2653 |//$FILENAME music_fm_record.src
                            19844 ; 2654 |#define RSRC_MUSIC_FM_RECORD 1122    
                            19845 ; 2655 |//$FILENAME vie_music_fm_record.src
                            19846 ; 2656 |#define RSRC_VIE_MUSIC_FM_RECORD 1123    
                            19847 ; 2657 |
                            19848 ; 2658 |//$FILENAME music_exit.src
                            19849 ; 2659 |#define RSRC_MUSIC_EXIT 1124    
                            19850 ; 2660 |//$FILENAME vie_music_exit.src
                            19851 ; 2661 |#define RSRC_VIE_MUSIC_EXIT 1125    
                            19852 ; 2662 |
                            19853 ; 2663 |//$FILENAME browse_music_folder_internal.src
                            19854 ; 2664 |#define RSRC_BROWSE_MUSIC_FOLDER_INTERNAL 1126    
                            19855 ; 2665 |//$FILENAME vie_browse_music_folder_internal.src
                            19856 ; 2666 |#define RSRC_VIE_BROWSE_MUSIC_FOLDER_INTERNAL 1127    
                            19857 ; 2667 |
                            19858 ; 2668 |//$FILENAME browse_music_folder_external.src
                            19859 ; 2669 |#define RSRC_BROWSE_MUSIC_FOLDER_EXTERNAL 1128    
                            19860 ; 2670 |//$FILENAME vie_browse_music_folder_external.src
                            19861 ; 2671 |#define RSRC_VIE_BROWSE_MUSIC_FOLDER_EXTERNAL 1129    
                            19862 ; 2672 |
                            19863 ; 2673 |//$FILENAME browse_music_list_songs.src
                            19864 ; 2674 |#define RSRC_BROWSE_MUSIC_LIST_SONGS 1130    
                            19865 ; 2675 |//$FILENAME vie_browse_music_list_songs.src
                            19866 ; 2676 |#define RSRC_VIE_BROWSE_MUSIC_LIST_SONGS 1131    
                            19867 ; 2677 |
                            19868 ; 2678 |//$FILENAME browse_music_favourites.src
                            19869 ; 2679 |#define RSRC_BROWSE_MUSIC_FAVOURITES 1132    
                            19870 ; 2680 |//$FILENAME vie_browse_music_favourites.src
                            19871 ; 2681 |#define RSRC_VIE_BROWSE_MUSIC_FAVOURITES 1133    
                            19872 ; 2682 |
                            19873 ; 2683 |//$FILENAME browse_music_fm_files.src
                            19874 ; 2684 |#define RSRC_BROWSE_MUSIC_FM_FILES 1134    
                            19875 ; 2685 |//$FILENAME vie_browse_music_fm_files.src
                            19876 ; 2686 |#define RSRC_VIE_BROWSE_MUSIC_FM_FILES 1135    
                            19877 ; 2687 |
                            19878 ; 2688 |//$FILENAME browse_voice.src
                            19879 ; 2689 |#define RSRC_BROWSE_VOICE 1136    
                            19880 ; 2690 |//$FILENAME vie_browse_voice.src
                            19881 ; 2691 |#define RSRC_VIE_BROWSE_VOICE 1137    
                            19882 ; 2692 |
                            19883 ; 2693 |//$FILENAME favourites_list_add.src
                            19884 ; 2694 |#define RSRC_FAVOURITES_LIST_ADD 1138    
                            19885 ; 2695 |//$FILENAME vie_favourites_list_add.src
                            19886 ; 2696 |#define RSRC_VIE_FAVOURITES_LIST_ADD 1139    
                            19887 ; 2697 |
                            19888 ; 2698 |//$FILENAME favourites_list_remove.src
                            19889 ; 2699 |#define RSRC_FAVOURITES_LIST_REMOVE 1140    
                            19890 ; 2700 |//$FILENAME vie_favourites_list_remove.src
                            19891 ; 2701 |#define RSRC_VIE_FAVOURITES_LIST_REMOVE 1141    
                            19892 ; 2702 |
                            19893 ; 2703 |//$FILENAME favourites_list_is_full.src
                            19894 ; 2704 |#define RSRC_FAVOURITES_LIST_IS_FULL 1142    
                            19895 ; 2705 |//$FILENAME vie_favourites_list_is_full.src
                            19896 ; 2706 |#define RSRC_VIE_FAVOURITES_LIST_IS_FULL 1143    
                            19897 ; 2707 |
                            19898 ; 2708 |//$FILENAME about_screen_1.src
                            19899 ; 2709 |#define RSRC_ABOUT_SCREEN_1 1144    
                            19900 ; 2710 |//$FILENAME vie_about_screen_1.src
                            19901 ; 2711 |#define RSRC_VIE_ABOUT_SCREEN_1 1145    
                            19902 ; 2712 |
                            19903 ; 2713 |//$FILENAME about_screen_2.src
                            19904 ; 2714 |#define RSRC_ABOUT_SCREEN_2 1146    
                            19905 ; 2715 |//$FILENAME vie_about_screen_2.src
                            19906 ; 2716 |#define RSRC_VIE_ABOUT_SCREEN_2 1147    
                            19907 ; 2717 |
                            19908 ; 2718 |//$FILENAME about_screen_3.src
                            19909 ; 2719 |#define RSRC_ABOUT_SCREEN_3 1148    
                            19910 ; 2720 |//$FILENAME vie_about_screen_3.src
                            19911 ; 2721 |#define RSRC_VIE_ABOUT_SCREEN_3 1149    
                            19912 ; 2722 |
                            19913 ; 2723 |//$FILENAME about_screen_4.src
                            19914 ; 2724 |#define RSRC_ABOUT_SCREEN_4 1150    
                            19915 ; 2725 |//$FILENAME vie_about_screen_4.src
                            19916 ; 2726 |#define RSRC_VIE_ABOUT_SCREEN_4 1151    
                            19917 ; 2727 |
                            19918 ; 2728 |//$FILENAME time_date_exit_title.src
                            19919 ; 2729 |#define RSRC_TIME_DATE_EXIT_TITLE 1152    
                            19920 ; 2730 |//$FILENAME vie_time_date_exit_title.src
                            19921 ; 2731 |#define RSRC_VIE_TIME_DATE_EXIT_TITLE 1153    
                            19922 ; 2732 |
                            19923 ; 2733 |//$FILENAME time_clean_desktop.src
                            19924 ; 2734 |#define RSRC_TIME_CLEAN_DESKTOP 1154    
                            19925 ; 2735 |//$FILENAME time_dash.src
                            19926 ; 2736 |#define RSRC_TIME_DASH 1155    
                            19927 ; 2737 |
                            19928 ; 2738 |//$FILENAME time_day_7.src
                            19929 ; 2739 |#define RSRC_TIME_DAY_SAT 1156    
                            19930 ; 2740 |//$FILENAME vie_time_day_7.src
                            19931 ; 2741 |#define RSRC_VIE_TIME_DAY_SAT 1157    
                            19932 ; 2742 |//$FILENAME time_day_cn.src
                            19933 ; 2743 |#define RSRC_TIME_DAY_SUN 1158    
                            19934 ; 2744 |//$FILENAME vie_time_day_cn.src
                            19935 ; 2745 |#define RSRC_VIE_TIME_DAY_SUN 1159    
                            19936 ; 2746 |//$FILENAME time_day_2.src
                            19937 ; 2747 |#define RSRC_TIME_DAY_MON 1160    
                            19938 ; 2748 |//$FILENAME vie_time_day_2.src
                            19939 ; 2749 |#define RSRC_VIE_TIME_DAY_MON 1161    
                            19940 ; 2750 |//$FILENAME time_day_3.src
                            19941 ; 2751 |#define RSRC_TIME_DAY_TUE 1162    
                            19942 ; 2752 |//$FILENAME vie_time_day_3.src
                            19943 ; 2753 |#define RSRC_VIE_TIME_DAY_TUE 1163    
                            19944 ; 2754 |//$FILENAME time_day_4.src
                            19945 ; 2755 |#define RSRC_TIME_DAY_WED 1164    
                            19946 ; 2756 |//$FILENAME vie_time_day_4.src
                            19947 ; 2757 |#define RSRC_VIE_TIME_DAY_WED 1165    
                            19948 ; 2758 |//$FILENAME time_day_5.src
                            19949 ; 2759 |#define RSRC_TIME_DAY_THU 1166    
                            19950 ; 2760 |//$FILENAME vie_time_day_5.src
                            19951 ; 2761 |#define RSRC_VIE_TIME_DAY_THU 1167    
                            19952 ; 2762 |//$FILENAME time_day_6.src
                            19953 ; 2763 |#define RSRC_TIME_DAY_FRI 1168    
                            19954 ; 2764 |//$FILENAME vie_time_day_6.src
                            19955 ; 2765 |#define RSRC_VIE_TIME_DAY_FRI 1169    
                            19956 ; 2766 |
                            19957 ; 2767 |//$FILENAME time_month_1.src
                            19958 ; 2768 |#define RSRC_TIME_MONTH_1 1170    
                            19959 ; 2769 |//$FILENAME vie_time_month_1.src
                            19960 ; 2770 |#define RSRC_VIE_TIME_MONTH_1 1171    
                            19961 ; 2771 |//$FILENAME time_month_2.src
                            19962 ; 2772 |#define RSRC_TIME_MONTH_2 1172    
                            19963 ; 2773 |//$FILENAME vie_time_month_2.src
                            19964 ; 2774 |#define RSRC_VIE_TIME_MONTH_2 1173    
                            19965 ; 2775 |//$FILENAME time_month_3.src
                            19966 ; 2776 |#define RSRC_TIME_MONTH_3 1174    
                            19967 ; 2777 |//$FILENAME vie_time_month_3.src
                            19968 ; 2778 |#define RSRC_VIE_TIME_MONTH_3 1175    
                            19969 ; 2779 |//$FILENAME time_month_4.src
                            19970 ; 2780 |#define RSRC_TIME_MONTH_4 1176    
                            19971 ; 2781 |//$FILENAME vie_time_month_4.src
                            19972 ; 2782 |#define RSRC_VIE_TIME_MONTH_4 1177    
                            19973 ; 2783 |//$FILENAME time_month_5.src
                            19974 ; 2784 |#define RSRC_TIME_MONTH_5 1178    
                            19975 ; 2785 |//$FILENAME vie_time_month_5.src
                            19976 ; 2786 |#define RSRC_VIE_TIME_MONTH_5 1179    
                            19977 ; 2787 |//$FILENAME time_month_6.src
                            19978 ; 2788 |#define RSRC_TIME_MONTH_6 1180    
                            19979 ; 2789 |//$FILENAME vie_time_month_6.src
                            19980 ; 2790 |#define RSRC_VIE_TIME_MONTH_6 1181    
                            19981 ; 2791 |//$FILENAME time_month_7.src
                            19982 ; 2792 |#define RSRC_TIME_MONTH_7 1182    
                            19983 ; 2793 |//$FILENAME vie_time_month_7.src
                            19984 ; 2794 |#define RSRC_VIE_TIME_MONTH_7 1183    
                            19985 ; 2795 |//$FILENAME time_month_8.src
                            19986 ; 2796 |#define RSRC_TIME_MONTH_8 1184    
                            19987 ; 2797 |//$FILENAME vie_time_month_8.src
                            19988 ; 2798 |#define RSRC_VIE_TIME_MONTH_8 1185    
                            19989 ; 2799 |//$FILENAME time_month_9.src
                            19990 ; 2800 |#define RSRC_TIME_MONTH_9 1186    
                            19991 ; 2801 |//$FILENAME vie_time_month_9.src
                            19992 ; 2802 |#define RSRC_VIE_TIME_MONTH_9 1187    
                            19993 ; 2803 |//$FILENAME time_month_10.src
                            19994 ; 2804 |#define RSRC_TIME_MONTH_10 1188    
                            19995 ; 2805 |//$FILENAME vie_time_month_10.src
                            19996 ; 2806 |#define RSRC_VIE_TIME_MONTH_10 1189    
                            19997 ; 2807 |//$FILENAME time_month_11.src
                            19998 ; 2808 |#define RSRC_TIME_MONTH_11 1190    
                            19999 ; 2809 |//$FILENAME vie_time_month_11.src
                            20000 ; 2810 |#define RSRC_VIE_TIME_MONTH_11 1191    
                            20001 ; 2811 |//$FILENAME time_month_12.src
                            20002 ; 2812 |#define RSRC_TIME_MONTH_12 1192    
                            20003 ; 2813 |//$FILENAME vie_time_month_12.src
                            20004 ; 2814 |#define RSRC_VIE_TIME_MONTH_12 1193    
                            20005 ; 2815 |
                            20006 ; 2816 |//$FILENAME time_num_am.src
                            20007 ; 2817 |#define RSRC_TIME_NUM_AM 1194    
                            20008 ; 2818 |//$FILENAME time_num_am.src
                            20009 ; 2819 |#define RSRC_TIME_NUM_PM 1195    
                            20010 ; 2820 |//$FILENAME settime_format_12h.src
                            20011 ; 2821 |#define RSRC_SETTIME_FORMAT_12H 1196    
                            20012 ; 2822 |//$FILENAME settime_format_24h.src
                            20013 ; 2823 |#define RSRC_SETTIME_FORMAT_24H 1197    
                            20014 ; 2824 |//$FILENAME setdate_format_dmy.src
                            20015 ; 2825 |#define RSRC_SETDATE_FORMAT_DMY 1198    
                            20016 ; 2826 |//$FILENAME setdate_format_mdy.src
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page  80

M:ADDR CODE           CYCLES LINE SOURCELINE
                            20017 ; 2827 |#define RSRC_SETDATE_FORMAT_MDY 1199    
                            20018 ; 2828 |//$FILENAME setdate_format_ymd.src
                            20019 ; 2829 |#define RSRC_SETDATE_FORMAT_YMD 1200    
                            20020 ; 2830 |
                            20021 ; 2831 |//$FILENAME time_num_large_0.src
                            20022 ; 2832 |#define RSRC_TIME_NUM_LARGE_0 1201    
                            20023 ; 2833 |//$FILENAME time_num_large_1.src
                            20024 ; 2834 |#define RSRC_TIME_NUM_LARGE_1 1202    
                            20025 ; 2835 |//$FILENAME time_num_large_2.src
                            20026 ; 2836 |#define RSRC_TIME_NUM_LARGE_2 1203    
                            20027 ; 2837 |//$FILENAME time_num_large_3.src
                            20028 ; 2838 |#define RSRC_TIME_NUM_LARGE_3 1204    
                            20029 ; 2839 |//$FILENAME time_num_large_4.src
                            20030 ; 2840 |#define RSRC_TIME_NUM_LARGE_4 1205    
                            20031 ; 2841 |//$FILENAME time_num_large_5.src
                            20032 ; 2842 |#define RSRC_TIME_NUM_LARGE_5 1206    
                            20033 ; 2843 |//$FILENAME time_num_large_6.src
                            20034 ; 2844 |#define RSRC_TIME_NUM_LARGE_6 1207    
                            20035 ; 2845 |//$FILENAME time_num_large_7.src
                            20036 ; 2846 |#define RSRC_TIME_NUM_LARGE_7 1208    
                            20037 ; 2847 |//$FILENAME time_num_large_8.src
                            20038 ; 2848 |#define RSRC_TIME_NUM_LARGE_8 1209    
                            20039 ; 2849 |//$FILENAME time_num_large_9.src
                            20040 ; 2850 |#define RSRC_TIME_NUM_LARGE_9 1210    
                            20041 ; 2851 |
                            20042 ; 2852 |//$FILENAME time_num_medium_0.src
                            20043 ; 2853 |#define RSRC_TIME_NUM_MEDIUM_0 1211    
                            20044 ; 2854 |//$FILENAME time_num_medium_1.src
                            20045 ; 2855 |#define RSRC_TIME_NUM_MEDIUM_1 1212    
                            20046 ; 2856 |//$FILENAME time_num_medium_2.src
                            20047 ; 2857 |#define RSRC_TIME_NUM_MEDIUM_2 1213    
                            20048 ; 2858 |//$FILENAME time_num_medium_3.src
                            20049 ; 2859 |#define RSRC_TIME_NUM_MEDIUM_3 1214    
                            20050 ; 2860 |//$FILENAME time_num_medium_4.src
                            20051 ; 2861 |#define RSRC_TIME_NUM_MEDIUM_4 1215    
                            20052 ; 2862 |//$FILENAME time_num_medium_5.src
                            20053 ; 2863 |#define RSRC_TIME_NUM_MEDIUM_5 1216    
                            20054 ; 2864 |//$FILENAME time_num_medium_6.src
                            20055 ; 2865 |#define RSRC_TIME_NUM_MEDIUM_6 1217    
                            20056 ; 2866 |//$FILENAME time_num_medium_7.src
                            20057 ; 2867 |#define RSRC_TIME_NUM_MEDIUM_7 1218    
                            20058 ; 2868 |//$FILENAME time_num_medium_8.src
                            20059 ; 2869 |#define RSRC_TIME_NUM_MEDIUM_8 1219    
                            20060 ; 2870 |//$FILENAME time_num_medium_9.src
                            20061 ; 2871 |#define RSRC_TIME_NUM_MEDIUM_9 1220    
                            20062 ; 2872 |
                            20063 ; 2873 |//$FILENAME time_colon.src
                            20064 ; 2874 |#define RSRC_TIME_COLON 1221    
                            20065 ; 2875 |
                            20066 ; 2876 |//$FILENAME settings_backlight_title.src
                            20067 ; 2877 |#define RSRC_SETTINGS_BACKLIGHT_TITLE 1222    
                            20068 ; 2878 |//$FILENAME settings_auto_shutdown_title.src
                            20069 ; 2879 |#define RSRC_SETTINGS_AUTO_SHUTDOWN_TITLE 1223    
                            20070 ; 2880 |//$FILENAME settings_playmode_title.src
                            20071 ; 2881 |#define RSRC_SETTINGS_PLAYMODE_TITLE 1224    
                            20072 ; 2882 |
                            20073 ; 2883 |//$FILENAME settings_contrast_title.src
                            20074 ; 2884 |#define RSRC_SETTINGS_CONTRAST_TITLE 1225    
                            20075 ; 2885 |//$FILENAME vie_settings_contrast_title.src
                            20076 ; 2886 |#define RSRC_VIE_SETTINGS_CONTRAST_TITLE 1226    
                            20077 ; 2887 |
                            20078 ; 2888 |//$FILENAME settings_eq_title.src
                            20079 ; 2889 |#define RSRC_SETTINGS_EQ_TITLE 1227    
                            20080 ; 2890 |//$FILENAME vie_settings_eq_title.src
                            20081 ; 2891 |#define RSRC_VIE_SETTINGS_EQ_TITLE 1228    
                            20082 ; 2892 |
                            20083 ; 2893 |//$FILENAME settings_exit_title.src
                            20084 ; 2894 |#define RSRC_SETTINGS_EXIT_TITLE 1229    
                            20085 ; 2895 |//$FILENAME vie_settings_exit_title.src
                            20086 ; 2896 |#define RSRC_VIE_SETTINGS_EXIT_TITLE 1230    
                            20087 ; 2897 |
                            20088 ; 2898 |//$FILENAME settings_set_date_title.src
                            20089 ; 2899 |#define RSRC_SETTINGS_SET_DATE_TITLE 1231    
                            20090 ; 2900 |//$FILENAME vie_settings_set_date_title.src
                            20091 ; 2901 |#define RSRC_VIE_SETTINGS_SET_DATE_TITLE 1232    
                            20092 ; 2902 |
                            20093 ; 2903 |//$FILENAME settings_set_time_title.src
                            20094 ; 2904 |#define RSRC_SETTINGS_SET_TIME_TITLE 1233    
                            20095 ; 2905 |//$FILENAME vie_settings_set_time_title.src
                            20096 ; 2906 |#define RSRC_VIE_SETTINGS_SET_TIME_TITLE 1234    
                            20097 ; 2907 |
                            20098 ; 2908 |//$FILENAME settings_playmode_normal.src
                            20099 ; 2909 |#define RSRC_SETTINGS_PLAYMODE_NORMAL 1235    
                            20100 ; 2910 |//$FILENAME vie_settings_playmode_normal.src
                            20101 ; 2911 |#define RSRC_VIE_SETTINGS_PLAYMODE_NORMAL 1236    
                            20102 ; 2912 |
                            20103 ; 2913 |//$FILENAME settings_playmode_repeatone.src
                            20104 ; 2914 |#define RSRC_SETTINGS_PLAYMODE_REPEATONE 1237    
                            20105 ; 2915 |//$FILENAME vie_settings_playmode_repeatone.src
                            20106 ; 2916 |#define RSRC_VIE_SETTINGS_PLAYMODE_REPEATONE 1238    
                            20107 ; 2917 |
                            20108 ; 2918 |//$FILENAME settings_playmode_repeatall.src
                            20109 ; 2919 |#define RSRC_SETTINGS_PLAYMODE_REPEATALL 1239    
                            20110 ; 2920 |//$FILENAME vie_settings_playmode_repeatall.src
                            20111 ; 2921 |#define RSRC_VIE_SETTINGS_PLAYMODE_REPEATALL 1240    
                            20112 ; 2922 |
                            20113 ; 2923 |//$FILENAME settings_playmode_shuffle.src
                            20114 ; 2924 |#define RSRC_SETTINGS_PLAYMODE_SHUFFLE 1241    
                            20115 ; 2925 |//$FILENAME vie_settings_playmode_shuffle.src
                            20116 ; 2926 |#define RSRC_VIE_SETTINGS_PLAYMODE_SHUFFLE 1242    
                            20117 ; 2927 |
                            20118 ; 2928 |//$FILENAME settings_playmode_shuffle_repeat.src
                            20119 ; 2929 |#define RSRC_SETTINGS_PLAYMODE_SHUFFLE_REPEAT 1243    
                            20120 ; 2930 |//$FILENAME vie_settings_playmode_shuffle_repeat.src
                            20121 ; 2931 |#define RSRC_VIE_SETTINGS_PLAYMODE_SHUFFLE_REPEAT 1244    
                            20122 ; 2932 |
                            20123 ; 2933 |//$FILENAME settings_backlight_on.src
                            20124 ; 2934 |#define RSRC_SETTINGS_BACKLIGHT_ON 1245    
                            20125 ; 2935 |//$FILENAME vie_settings_backlight_on.src
                            20126 ; 2936 |#define RSRC_VIE_SETTINGS_BACKLIGHT_ON 1246    
                            20127 ; 2937 |
                            20128 ; 2938 |//$FILENAME settings_backlight_10s.src
                            20129 ; 2939 |#define RSRC_SETTINGS_BACKLIGHT_10S 1247    
                            20130 ; 2940 |//$FILENAME vie_settings_backlight_10s.src
                            20131 ; 2941 |#define RSRC_VIE_SETTINGS_BACKLIGHT_10S 1248    
                            20132 ; 2942 |
                            20133 ; 2943 |//$FILENAME settings_backlight_20s.src
                            20134 ; 2944 |#define RSRC_SETTINGS_BACKLIGHT_20S 1249    
                            20135 ; 2945 |//$FILENAME vie_settings_backlight_20s.src
                            20136 ; 2946 |#define RSRC_VIE_SETTINGS_BACKLIGHT_20s 1250    
                            20137 ; 2947 |
                            20138 ; 2948 |//$FILENAME settings_backlight_30s.src
                            20139 ; 2949 |#define RSRC_SETTINGS_BACKLIGHT_30S 1251    
                            20140 ; 2950 |//$FILENAME vie_settings_backlight_30s.src
                            20141 ; 2951 |#define RSRC_VIE_SETTINGS_BACKLIGHT_30S 1252    
                            20142 ; 2952 |
                            20143 ; 2953 |//$FILENAME settings_auto_shutdown_disable.src
                            20144 ; 2954 |#define RSRC_SETTINGS_AUTO_SHUTDOWN_DISABLE 1253    
                            20145 ; 2955 |//$FILENAME vie_settings_auto_shutdown_disable.src
                            20146 ; 2956 |#define RSRC_VIE_SETTINGS_AUTO_SHUTDOWN_DISABLE 1254    
                            20147 ; 2957 |
                            20148 ; 2958 |//$FILENAME settings_auto_shutdown_1minute.src
                            20149 ; 2959 |#define RSRC_SETTINGS_AUTO_SHUTDOWN_1MINUTE 1255    
                            20150 ; 2960 |//$FILENAME vie_settings_auto_shutdown_1min.src
                            20151 ; 2961 |#define RSRC_VIE_SETTINGS_AUTO_SHUTDOWN_1MINUTE 1256    
                            20152 ; 2962 |
                            20153 ; 2963 |//$FILENAME settings_auto_shutdown_2minutes.src
                            20154 ; 2964 |#define RSRC_SETTINGS_AUTO_SHUTDOWN_2MINUTES 1257    
                            20155 ; 2965 |//$FILENAME vie_settings_auto_shutdown_2min.src
                            20156 ; 2966 |#define RSRC_VIE_SETTINGS_AUTO_SHUTDOWN_2MINUTES 1258    
                            20157 ; 2967 |
                            20158 ; 2968 |//$FILENAME settings_auto_shutdown_5minutes.src
                            20159 ; 2969 |#define RSRC_SETTINGS_AUTO_SHUTDOWN_5MINUTES 1259    
                            20160 ; 2970 |//$FILENAME vie_settings_auto_shutdown_5min.src
                            20161 ; 2971 |#define RSRC_VIE_SETTINGS_AUTO_SHUTDOWN_5MINUTES 1260    
                            20162 ; 2972 |
                            20163 ; 2973 |//$FILENAME settings_auto_shutdown_10minutes.src
                            20164 ; 2974 |#define RSRC_SETTINGS_AUTO_SHUTDOWN_10MINUTES 1261    
                            20165 ; 2975 |//$FILENAME vie_settings_auto_shutdown_10min.src
                            20166 ; 2976 |#define RSRC_VIE_SETTINGS_AUTO_SHUTDOWN_10MINUTES 1262    
                            20167 ; 2977 |
                            20168 ; 2978 |//$FILENAME settings_languages_eng.src
                            20169 ; 2979 |#define RSRC_SETTINGS_LANGUAGES_ENG 1263    
                            20170 ; 2980 |//$FILENAME settings_languages_vie.src
                            20171 ; 2981 |#define RSRC_SETTINGS_LANGUAGES_VIE 1264    
                            20172 ; 2982 |
                            20173 ; 2983 |//$FILENAME fraction_dot.src
                            20174 ; 2984 |#define RSRC_FRACTION_DOT 1265    
                            20175 ; 2985 |
                            20176 ; 2986 |//$FILENAME fm_background.src
                            20177 ; 2987 |#define RSRC_FM_BACKGROUND 1266    
                            20178 ; 2988 |//$FILENAME vie_fm_background.src
                            20179 ; 2989 |#define RSRC_VIE_FM_BACKGROUND 1267    
                            20180 ; 2990 |
                            20181 ; 2991 |//$FILENAME searching_please_wait.src
                            20182 ; 2992 |#define RSRC_SEARCHING_PLEASE_WAIT 1268    
                            20183 ; 2993 |//$FILENAME vie_searching_please_wait.src
                            20184 ; 2994 |#define RSRC_VIE_SEARCHING_PLEASE_WAIT 1269    
                            20185 ; 2995 |
                            20186 ; 2996 |//$FILENAME fm_auto_search.src
                            20187 ; 2997 |#define RSRC_FM_AUTO_SEARCH 1270    
                            20188 ; 2998 |//$FILENAME vie_fm_auto_search.src
                            20189 ; 2999 |#define RSRC_VIE_FM_AUTO_SEARCH 1271    
                            20190 ; 3000 |
                            20191 ; 3001 |//$FILENAME jvj_shutdown_player.src
                            20192 ; 3002 |#define RSRC_JVJ_SHUTDOWN_PLAYER 1272    
                            20193 ; 3003 |//$FILENAME vie_jvj_shutdown_player.src
                            20194 ; 3004 |#define RSRC_VIE_JVJ_SHUTDOWN_PLAYER 1273    
                            20195 ; 3005 |
                            20196 ; 3006 |#endif //IF (!@def(resources))
                            20197 ; 3007 |
                            20198 
                            20200 
                            20201 ; 20   |#include "buttons.h"
                            20202 
                            20204 
                            20205 ; 1    |#ifndef _BUTTONS_H
                            20206 ; 2    |#define _BUTTONS_H
                            20207 ; 3    |
                            20208 ; 4    |#include "types.h"
                            20209 
                            20211 
                            20212 ; 1    |////////////////////////////////////////////////////////////////////////////////
                            20213 ; 2    |// Copyright(C) SigmaTel, Inc. 2000-2004
                            20214 ; 3    |//
                            20215 ; 4    |// Filename: types.h
                            20216 ; 5    |// Description: Standard data types
                            20217 ; 6    |////////////////////////////////////////////////////////////////////////////////
                            20218 ; 7    |
                            20219 ; 8    |#ifndef _TYPES_H
                            20220 ; 9    |#define _TYPES_H
                            20221 ; 10   |
                            20222 ; 11   |// TODO:  move this outta here!
                            20223 ; 12   |#if !defined(NOERROR)
                            20224 ; 13   |#define NOERROR 0
                            20225 ; 14   |#define SUCCESS 0
                            20226 ; 15   |#endif 
                            20227 ; 16   |#if !defined(SUCCESS)
                            20228 ; 17   |#define SUCCESS  0
                            20229 ; 18   |#endif
                            20230 ; 19   |#if !defined(ERROR)
                            20231 ; 20   |#define ERROR   -1
                            20232 ; 21   |#endif
                            20233 ; 22   |#if !defined(FALSE)
                            20234 ; 23   |#define FALSE 0
                            20235 ; 24   |#endif
                            20236 ; 25   |#if !defined(TRUE)
                            20237 ; 26   |#define TRUE  1
                            20238 ; 27   |#endif
                            20239 ; 28   |
                            20240 ; 29   |#if !defined(NULL)
                            20241 ; 30   |#define NULL 0
                            20242 ; 31   |#endif
                            20243 ; 32   |
                            20244 ; 33   |#define MAX_INT     0x7FFFFF
                            20245 ; 34   |#define MAX_LONG    0x7FFFFFffffff
                            20246 ; 35   |        // max positive unsigned long value: -1 == 0xFFFFFFffffff
                            20247 ; 36   |#define MAX_ULONG   (-1) 
                            20248 ; 37   |
                            20249 ; 38   |#define WORD_SIZE   24              // word size in bits
                            20250 ; 39   |#define BYTES_PER_WORD 3            // 8 bit bytes
                            20251 ; 40   |
                            20252 ; 41   |
                            20253 ; 42   |#define BYTE    unsigned char       // btVarName
                            20254 ; 43   |#define CHAR    signed char         // cVarName
                            20255 ; 44   |#define USHORT  unsigned short      // usVarName
                            20256 ; 45   |#define SHORT   unsigned short      // sVarName
                            20257 ; 46   |#define WORD    unsigned int        // wVarName
                            20258 ; 47   |#define INT     signed int          // iVarName
                            20259 ; 48   |#define DWORD   unsigned long       // dwVarName
                            20260 ; 49   |#define LONG    signed long         // lVarName
                            20261 ; 50   |#define BOOL    unsigned int        // bVarName
                            20262 ; 51   |#define FRACT   _fract              // frVarName
                            20263 ; 52   |#define LFRACT  long _fract         // lfrVarName
                            20264 ; 53   |#define CIRC    _circ               // cp<type prefix>VarName (see below)
                            20265 ; 54   |#define FLOAT   float               // fVarName
                            20266 ; 55   |#define DBL     double              // dVarName
                            20267 ; 56   |#define ENUM    enum                // eVarName
                            20268 ; 57   |#define CMX     _complex            // cmxVarName
                            20269 ; 58   |typedef WORD UCS3;                   // 
                            20270 ; 59   |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page  81

M:ADDR CODE           CYCLES LINE SOURCELINE
                            20271 ; 60   |#define UINT16  unsigned short
                            20272 ; 61   |#define UINT8   unsigned char   
                            20273 ; 62   |#define UINT32  unsigned long
                            20274 ; 63   |#define UINT64  unsigned long   // need to figure out how to do 64 bit values.  Or port exisiting code to only use 48 bit
                            20275 ; 64   |#define INT64   unsigned long   // need to figure out how to do 64 bit values.  Or port exisiting code to only use 48 bit
                            20276 ; 65   |#define WCHAR   UINT16
                            20277 ; 66   |
                            20278 ; 67   |//UINT128 is 16 bytes or 6 words
                            20279 ; 68   |typedef struct UINT128_3500 {   
                            20280 ; 69   |    int val[6];     
                            20281 ; 70   |} UINT128_3500;
                            20282 ; 71   |
                            20283 ; 72   |#define UINT128   UINT128_3500
                            20284 ; 73   |
                            20285 ; 74   |// Little endian word packed byte strings:   
                            20286 ; 75   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                            20287 ; 76   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                            20288 ; 77   |// Little endian word packed byte strings:   
                            20289 ; 78   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                            20290 ; 79   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                            20291 ; 80   |
                            20292 ; 81   |// Declare Memory Spaces To Use When Coding
                            20293 ; 82   |// A. Sector Buffers
                            20294 ; 83   |#define SECTOR_BUFFER_MEM_X _X
                            20295 ; 84   |#define SECTOR_BUFFER_MEM_Y _Y
                            20296 ; 85   |#define SECTOR_BUFFER_MEM SECTOR_BUFFER_MEM_X
                            20297 ; 86   |typedef WORD SECTOR_BUFFER_MEM SECTOR_BUFFER;
                            20298 ; 87   |typedef SECTOR_BUFFER * P_SECTOR_BUFFER;
                            20299 ; 88   |// B. Media DDI Memory
                            20300 ; 89   |#define MEDIA_DDI_MEM _Y
                            20301 ; 90   |
                            20302 ; 91   |
                            20303 ; 92   |
                            20304 ; 93   |// Pointers to linear structures are labeled as: p<type prefix>VarName
                            20305 ; 94   |// Examples of circular pointers:
                            20306 ; 95   |//    INT CIRC cpiVarName
                            20307 ; 96   |//    DWORD CIRC cpdwVarName
                            20308 ; 97   |
                            20309 ; 98   |#define RETCODE INT                 // rcVarName
                            20310 ; 99   |
                            20311 ; 100  |// generic bitfield structure
                            20312 ; 101  |struct Bitfield {
                            20313 ; 102  |    unsigned int B0  :1;
                            20314 ; 103  |    unsigned int B1  :1;
                            20315 ; 104  |    unsigned int B2  :1;
                            20316 ; 105  |    unsigned int B3  :1;
                            20317 ; 106  |    unsigned int B4  :1;
                            20318 ; 107  |    unsigned int B5  :1;
                            20319 ; 108  |    unsigned int B6  :1;
                            20320 ; 109  |    unsigned int B7  :1;
                            20321 ; 110  |    unsigned int B8  :1;
                            20322 ; 111  |    unsigned int B9  :1;
                            20323 ; 112  |    unsigned int B10 :1;
                            20324 ; 113  |    unsigned int B11 :1;
                            20325 ; 114  |    unsigned int B12 :1;
                            20326 ; 115  |    unsigned int B13 :1;
                            20327 ; 116  |    unsigned int B14 :1;
                            20328 ; 117  |    unsigned int B15 :1;
                            20329 ; 118  |    unsigned int B16 :1;
                            20330 ; 119  |    unsigned int B17 :1;
                            20331 ; 120  |    unsigned int B18 :1;
                            20332 ; 121  |    unsigned int B19 :1;
                            20333 ; 122  |    unsigned int B20 :1;
                            20334 ; 123  |    unsigned int B21 :1;
                            20335 ; 124  |    unsigned int B22 :1;
                            20336 ; 125  |    unsigned int B23 :1;
                            20337 ; 126  |};
                            20338 ; 127  |
                            20339 ; 128  |union BitInt {
                            20340 ; 129  |        struct Bitfield B;
                            20341 ; 130  |        int        I;
                            20342 ; 131  |};
                            20343 ; 132  |
                            20344 ; 133  |#define MAX_MSG_LENGTH 10
                            20345 ; 134  |struct CMessage
                            20346 ; 135  |{
                            20347 ; 136  |        unsigned int m_uLength;
                            20348 ; 137  |        unsigned int m_uMsg[MAX_MSG_LENGTH];
                            20349 ; 138  |};
                            20350 ; 139  |
                            20351 ; 140  |typedef struct {
                            20352 ; 141  |    WORD m_wLength;
                            20353 ; 142  |    WORD m_wMessage;
                            20354 ; 143  |    WORD m_wParams[MAX_MSG_LENGTH];
                            20355 ; 144  |} Message;
                            20356 ; 145  |
                            20357 ; 146  |struct MessageQueueDescriptor
                            20358 ; 147  |{
                            20359 ; 148  |        int *m_pBase;
                            20360 ; 149  |        int m_iModulo;
                            20361 ; 150  |        int m_iSize;
                            20362 ; 151  |        int *m_pHead;
                            20363 ; 152  |        int *m_pTail;
                            20364 ; 153  |};
                            20365 ; 154  |
                            20366 ; 155  |struct ModuleEntry
                            20367 ; 156  |{
                            20368 ; 157  |    int m_iSignaledEventMask;
                            20369 ; 158  |    int m_iWaitEventMask;
                            20370 ; 159  |    int m_iResourceOfCode;
                            20371 ; 160  |    struct MessageQueueDescriptor *m_pMessageQueue;
                            20372 ; 161  |    int _asmfunc (*m_pProcessEntryPoint)(union WaitMask Signals,struct MessageQueueDescriptor *);
                            20373 ; 162  |    int _asmfunc (*m_pInitFunction)(struct MessageQueueDescriptor *);
                            20374 ; 163  |    int m_uTimeOutHigh;
                            20375 ; 164  |    int m_uTimeOutLow;
                            20376 ; 165  |    int _asmfunc (*m_pBackgroundFunction)(struct MessageQueueDescriptor *);
                            20377 ; 166  |};
                            20378 ; 167  |
                            20379 ; 168  |union WaitMask{
                            20380 ; 169  |    struct B{
                            20381 ; 170  |        unsigned int m_bNone     :1;
                            20382 ; 171  |        unsigned int m_bMessage  :1;
                            20383 ; 172  |        unsigned int m_bTimer    :1;
                            20384 ; 173  |        unsigned int m_bButton   :1;
                            20385 ; 174  |    } B;
                            20386 ; 175  |    int I;
                            20387 ; 176  |} ;
                            20388 ; 177  |
                            20389 ; 178  |
                            20390 ; 179  |struct Button {
                            20391 ; 180  |        WORD wButtonEvent;
                            20392 ; 181  |        WORD wUnused[MAX_MSG_LENGTH];   
                            20393 ; 182  |};
                            20394 ; 183  |
                            20395 ; 184  |struct Message {
                            20396 ; 185  |        WORD wMsgLength;
                            20397 ; 186  |        WORD wMsgCommand;
                            20398 ; 187  |        WORD wMsgParms[MAX_MSG_LENGTH-1];
                            20399 ; 188  |};
                            20400 ; 189  |
                            20401 ; 190  |union EventTypes {
                            20402 ; 191  |        struct CMessage msg;
                            20403 ; 192  |        struct Button Button ;
                            20404 ; 193  |        struct Message Message;
                            20405 ; 194  |};
                            20406 ; 195  |
                            20407 ; 196  |// next 2 used to get updater build to return correct protocol ver in scsi response.
                            20408 ; 197  |#define BUILD_TYPE_UPDATER  0x100
                            20409 ; 198  |#define BUILD_TYPE_HOSTLINK 0x101
                            20410 ; 199  |#define BUILD_TYPE_PLAYER   0x102
                            20411 ; 200  |
                            20412 ; 201  |// Resets part if RETAIL build. DEBUG build executes debug instruction to halt.
                            20413 ; 202  |#define SystemHalt() __asm(" include 'sysmacro.asm' \n error") 
                            20414 ; 203  |#define assert(x)    if(!(x)) __asm(" include 'sysmacro.asm' \n error")
                            20415 ; 204  |
                            20416 ; 205  |#if DEBUG
                            20417 ; 206  |// For DEBUG builds, DebugBuildAssert(condition) halts if condition evaluates to FALSE. 
                            20418 ; 207  |#define DebugBuildAssert(x)    if(!(x)) __asm(" debug ")
                            20419 ; 208  |#else 
                            20420 ; 209  |// For RETAIL builds, DebugBuildAssert(condition) does nothing & execution continues rather than halt or reset. 
                            20421 ; 210  |#define DebugBuildAssert(x)    
                            20422 ; 211  |#endif
                            20423 ; 212  |
                            20424 ; 213  |// Do this in your C files to make a reminder that's displayed during the build.
                            20425 ; 214  |//  #pragma asm
                            20426 ; 215  |//  WARN 'Note to builder: reminder to do this after verifying that'
                            20427 ; 216  |//  #pragma endasm
                            20428 ; 217  |
                            20429 ; 218  |
                            20430 ; 219  |#ifdef COLOR_262K
                            20431 ; 220  |#define RGB(r,g,b)    ((0x0000FC & (r)) << 10) | ((0x0000FC & (g)) << 4) | ((0x0000FC & (b)) >> 2)    //262k
                            20432 ; 221  |#elif defined(COLOR_65K)
                            20433 ; 222  |#define RGB(r,g,b)    ((0x0000F8 & (r)) << 8) | ((0x0000FC & (g)) << 3) | ((0x0000F8 & (b)) >> 3)  //65k
                            20434 ; 223  |#else
                            20435 ; 224  |#define RGB(r,g,b)       ((0x0000F0 & (r)) << 4) | (0x0000F0 & (g)) | ((0x0000F0 & (b)) >> 4)
                            20436 ; 225  |#endif
                            20437 ; 226  |    
                            20438 ; 227  |#endif // #ifndef _TYPES_H
                            20439 
                            20441 
                            20442 ; 5    |
                            20443 ; 6    |//These must match the definintions in buttondefs.inc, otherwise the button presses will trigger
                            20444 ; 7    |//unexpected events.
                            20445 ; 8    |
                            20446 ; 9    |#define PR_RW           0
                            20447 ; 10   |#define PH_RW                   1
                            20448 ; 11   |#define PR_FF           2
                            20449 ; 12   |#define PH_FF           3
                            20450 ; 13   |#define PR_MENU         4
                            20451 ; 14   |#define PH_MENU         5
                            20452 ; 15   |#define PR_RV           6
                            20453 ; 16   |#define PH_RV           7
                            20454 ; 17   |#define PR_PLAY                 8
                            20455 ; 18   |#define PH_PLAY         9
                            20456 ; 19   |#define PR_HOLD         10
                            20457 ; 20   |#define PH_HOLD         11
                            20458 ; 21   |#define PR_VOL_DOWN     12
                            20459 ; 22   |#define PR_VOL_UP       13
                            20460 ; 23   |
                            20461 ; 24   |
                            20462 ; 25   |
                            20463 ; 26   |
                            20464 ; 27   |#define PH_VOL_DOWN     14
                            20465 ; 28   |#define PH_VOL_UP       15
                            20466 ; 29   |#define PR_MODE         24
                            20467 ; 30   |#define PR_STOP                 25
                            20468 ; 31   |#define PH_STOP         26
                            20469 ; 32   |#define PR_RECORD      27
                            20470 ; 33   |#define PH_RECORD       28
                            20471 ; 34   |#define PR_AB           33
                            20472 ; 35   |#define PR_ERASE        34
                            20473 ; 36   |#define PH_ERASE        35
                            20474 ; 37   |#define PR_EQ           36
                            20475 ; 38   |#define PH_EQ       37
                            20476 ; 39   |
                            20477 ; 40   |
                            20478 ; 41   |
                            20479 ; 42   |
                            20480 ; 43   |extern WORD g_wLastButton;
                            20481 ; 44   |
                            20482 ; 45   |#endif //_BUTTONS_H
                            20483 
                            20485 
                            20486 ; 21   |#include "syscoder.h"
                            20487 
                            20489 
                            20490 ; 1    |//;///////////////////////////////////////////////////////////////////////////////
                            20491 ; 2    |//; Copyright(C) SigmaTel, Inc. 2000-2001
                            20492 ; 3    |//;
                            20493 ; 4    |//; Filename: syscoder.xref
                            20494 ; 5    |//; Description: Global refs from syscoder.asm
                            20495 ; 6    |//;///////////////////////////////////////////////////////////////////////////////
                            20496 ; 7    |
                            20497 ; 8    |#ifndef SYSCODER_XREF_C
                            20498 ; 9    |#define SYSCODER_XREF_C
                            20499 ; 10   |
                            20500 ; 11   |typedef struct {
                            20501 ; 12   |    WORD wMinutes;
                            20502 ; 13   |    WORD wSeconds;
                            20503 ; 14   |}SONGTIME;
                            20504 ; 15   |
                            20505 ; 16   |// Functions  
                            20506 ; 17   |extern _fract       _Y g_frSongSecondsPerByte;
                            20507 ; 18   |extern unsigned int _Y g_wSongCurrentMinutes;
                            20508 ; 19   |extern unsigned int _Y g_wSongCurrentSeconds;
                            20509 ; 20   |extern unsigned int _Y g_wSongTotalMinutes;
                            20510 ; 21   |extern unsigned int _Y g_wSongTotalSeconds;
                            20511 ; 22   |extern unsigned int _Y g_wSongRemainMinutes; 
                            20512 ; 23   |extern unsigned int _Y g_wSongRemainSeconds;
                            20513 ; 24   |extern unsigned int _Y g_wCurrentSongNumber;
                            20514 ; 25   |extern unsigned int _Y g_wTotalSongCount;
                            20515 ; 26   |
                            20516 ; 27   |extern unsigned int _Y g_wAccumulatedSecs;    // Added for mp3 VBR support.
                            20517 ; 28   |extern unsigned int _Y g_wAccumulatedMSecs;
                            20518 
                            20523 
                            20524 ; 29   |
                            20525 ; 30   |extern _asmfunc SONGTIME DecGetCurrentTime(void);
                            20526 ; 31   |extern _asmfunc DWORD DecGetSongPos(void);
                            20527 ; 32   |extern _asmfunc RETCODE DecSetSongPos(DWORD);
                            20528 ; 33   |extern _asmfunc void DecSetSongPosZero(void);
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page  82

M:ADDR CODE           CYCLES LINE SOURCELINE
                            20529 ; 34   |extern _asmfunc void DecSetSongPosEnd(void);
                            20530 ; 35   |extern _asmfunc void DecClearSongTime(void);
                            20531 ; 36   |extern _asmfunc void SysSetDecoderResource(INT);
                            20532 ; 37   |
                            20533 ; 38   |#endif // SYSCODER_XREF
                            20534 ; 39   |
                            20535 ; 40   |
                            20536 ; 41   |
                            20537 ; 42   |
                            20538 
                            20540 
                            20541 ; 22   |#include "sysmem.h"
                            20542 
                            20544 
                            20545 ; 1    |//;******************************************************************************
                            20546 ; 2    |//; Copyright(C) SigmaTel, Inc. 2000-2003
                            20547 ; 3    |//; File: sysmem.h
                            20548 ; 4    |//; ST System Memory Externs
                            20549 ; 5    |//;******************************************************************************
                            20550 ; 6    |
                            20551 ; 7    |#ifndef SYSMEM_XREF_C
                            20552 ; 8    |#define SYSMEM_XREF_C
                            20553 ; 9    |
                            20554 ; 10   |// Variables in X
                            20555 ; 11   |extern unsigned int _X g_wDecoderCSR;
                            20556 ; 12   |extern unsigned int _X g_wDecoderSR;
                            20557 ; 13   |extern unsigned int _X g_wDecoderCSR2;  // DECODE2EOF
                            20558 ; 14   |extern unsigned int _X g_wEncoderSR;
                            20559 ; 15   |extern unsigned int _X g_wEncoderCSR;
                            20560 ; 16   |extern unsigned int _X g_wRecStartTimeHigh;
                            20561 ; 17   |extern unsigned int _X g_wRecStartTimeLow;
                            20562 ; 18   |extern unsigned int _X g_wSysError;
                            20563 ; 19   |#ifdef TRACEBUF_EN
                            20564 ; 20   |extern unsigned int _X g_wTraceBuffer; //Disabled by default.   
                            20565 ; 21   |extern unsigned int _X g_wTracePointer;
                            20566 ; 22   |#endif
                            20567 ; 23   |extern unsigned int _X g_wUserScratchX[];
                            20568 ; 24   |extern unsigned int _X g_wNextVoiceNumValue;
                            20569 ; 25   |extern unsigned int _X g_wEncAdpcmSave_r7;
                            20570 ; 26   |extern unsigned int _X g_wEncAdpcmSave_m7;
                            20571 ; 27   |extern unsigned int _X g_wEncModuleState;
                            20572 ; 28   |extern unsigned int _X g_wEncoderIsrSR;
                            20573 ; 29   |extern unsigned int _X g_bAudibleNeedFileSize;          // 10/12/04 mmiu - Added for AA file navigation
                            20574 ; 30   |extern unsigned int _X g_bAudiblePlayThrough;           // 11/1/04 mmiu - Added for file position play-through indicator
                            20575 ; 31   |extern unsigned int _X g_wSongStartOffsetHigh;          // 11/1/04 mmiu - Added until confirmed we can use g_wSongByteTotalConsumedHigh/Low
                            20576 ; 32   |extern unsigned int _X g_wSongStartOffsetLow;
                            20577 ; 33   |
                            20578 ; 34   |// Variables in Y
                            20579 ; 35   |extern int          _Y g_VolumeBias;
                            20580 ; 36   |extern unsigned int _Y g_wCurrentRoutinePtr;
                            20581 ; 37   |extern unsigned int _Y g_wSystemFileHandle;
                            20582 ; 38   |extern unsigned int _Y g_wSongByteTotalHigh;
                            20583 ; 39   |extern unsigned int _Y g_wSongByteTotalLow; 
                            20584 ; 40   |extern unsigned int _Y g_wSongByteLengthHigh;
                            20585 ; 41   |extern unsigned int _Y g_wSongByteLengthLow;
                            20586 ; 42   |extern unsigned int _Y g_wInvSampleRate;
                            20587 ; 43   |extern unsigned int _Y g_wCurrentSongBad;
                            20588 ; 44   |extern unsigned int _Y g_iSongType;
                            20589 ; 45   |extern _packed BYTE _Y g_CurrentSongName[];
                            20590 ; 46   |extern unsigned int _Y g_wCurrentDirDevId;
                            20591 ; 47   |extern unsigned int _Y g_wSongInvBitRatePtr;
                            20592 ; 48   |extern unsigned int _Y g_wUserScratchXDescriptor;
                            20593 ; 49   |extern unsigned int _Y g_wUserScratchYDescriptor;
                            20594 ; 50   |extern _packed BYTE _Y g_EncFileNameString[];
                            20595 ; 51   |extern unsigned int _Y g_wEncFileHandle;
                            20596 ; 52   |extern unsigned int _Y g_wEncAdpcmOvlSave_sp;
                            20597 ; 53   |extern unsigned int _Y g_wRootDirectory;
                            20598 ; 54   |extern unsigned int _Y g_wUserScratchY[];
                            20599 ; 55   |extern unsigned int _Y g_wPrevInvBitRatePtr;
                            20600 ; 56   |
                            20601 ; 57   |#endif  // SYSMEM_XREF_C
                            20602 
                            20604 
                            20605 ; 23   |#include "playerlib.h"
                            20606 
                            20608 
                            20609 ; 1    |#ifndef _PLAYERLIB_H
                            20610 ; 2    |#define _PLAYERLIB_H
                            20611 ; 3    |
                            20612 ; 4    |#include "types.h"
                            20613 
                            20615 
                            20616 ; 1    |////////////////////////////////////////////////////////////////////////////////
                            20617 ; 2    |// Copyright(C) SigmaTel, Inc. 2000-2004
                            20618 ; 3    |//
                            20619 ; 4    |// Filename: types.h
                            20620 ; 5    |// Description: Standard data types
                            20621 ; 6    |////////////////////////////////////////////////////////////////////////////////
                            20622 ; 7    |
                            20623 ; 8    |#ifndef _TYPES_H
                            20624 ; 9    |#define _TYPES_H
                            20625 ; 10   |
                            20626 ; 11   |// TODO:  move this outta here!
                            20627 ; 12   |#if !defined(NOERROR)
                            20628 ; 13   |#define NOERROR 0
                            20629 ; 14   |#define SUCCESS 0
                            20630 ; 15   |#endif 
                            20631 ; 16   |#if !defined(SUCCESS)
                            20632 ; 17   |#define SUCCESS  0
                            20633 ; 18   |#endif
                            20634 ; 19   |#if !defined(ERROR)
                            20635 ; 20   |#define ERROR   -1
                            20636 ; 21   |#endif
                            20637 ; 22   |#if !defined(FALSE)
                            20638 ; 23   |#define FALSE 0
                            20639 ; 24   |#endif
                            20640 ; 25   |#if !defined(TRUE)
                            20641 ; 26   |#define TRUE  1
                            20642 ; 27   |#endif
                            20643 ; 28   |
                            20644 ; 29   |#if !defined(NULL)
                            20645 ; 30   |#define NULL 0
                            20646 ; 31   |#endif
                            20647 ; 32   |
                            20648 ; 33   |#define MAX_INT     0x7FFFFF
                            20649 ; 34   |#define MAX_LONG    0x7FFFFFffffff
                            20650 ; 35   |        // max positive unsigned long value: -1 == 0xFFFFFFffffff
                            20651 ; 36   |#define MAX_ULONG   (-1) 
                            20652 ; 37   |
                            20653 ; 38   |#define WORD_SIZE   24              // word size in bits
                            20654 ; 39   |#define BYTES_PER_WORD 3            // 8 bit bytes
                            20655 ; 40   |
                            20656 ; 41   |
                            20657 ; 42   |#define BYTE    unsigned char       // btVarName
                            20658 ; 43   |#define CHAR    signed char         // cVarName
                            20659 ; 44   |#define USHORT  unsigned short      // usVarName
                            20660 ; 45   |#define SHORT   unsigned short      // sVarName
                            20661 ; 46   |#define WORD    unsigned int        // wVarName
                            20662 ; 47   |#define INT     signed int          // iVarName
                            20663 ; 48   |#define DWORD   unsigned long       // dwVarName
                            20664 ; 49   |#define LONG    signed long         // lVarName
                            20665 ; 50   |#define BOOL    unsigned int        // bVarName
                            20666 ; 51   |#define FRACT   _fract              // frVarName
                            20667 ; 52   |#define LFRACT  long _fract         // lfrVarName
                            20668 ; 53   |#define CIRC    _circ               // cp<type prefix>VarName (see below)
                            20669 ; 54   |#define FLOAT   float               // fVarName
                            20670 ; 55   |#define DBL     double              // dVarName
                            20671 ; 56   |#define ENUM    enum                // eVarName
                            20672 ; 57   |#define CMX     _complex            // cmxVarName
                            20673 ; 58   |typedef WORD UCS3;                   // 
                            20674 ; 59   |
                            20675 ; 60   |#define UINT16  unsigned short
                            20676 ; 61   |#define UINT8   unsigned char   
                            20677 ; 62   |#define UINT32  unsigned long
                            20678 ; 63   |#define UINT64  unsigned long   // need to figure out how to do 64 bit values.  Or port exisiting code to only use 48 bit
                            20679 ; 64   |#define INT64   unsigned long   // need to figure out how to do 64 bit values.  Or port exisiting code to only use 48 bit
                            20680 ; 65   |#define WCHAR   UINT16
                            20681 ; 66   |
                            20682 ; 67   |//UINT128 is 16 bytes or 6 words
                            20683 ; 68   |typedef struct UINT128_3500 {   
                            20684 ; 69   |    int val[6];     
                            20685 ; 70   |} UINT128_3500;
                            20686 ; 71   |
                            20687 ; 72   |#define UINT128   UINT128_3500
                            20688 ; 73   |
                            20689 ; 74   |// Little endian word packed byte strings:   
                            20690 ; 75   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                            20691 ; 76   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                            20692 ; 77   |// Little endian word packed byte strings:   
                            20693 ; 78   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                            20694 ; 79   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                            20695 ; 80   |
                            20696 ; 81   |// Declare Memory Spaces To Use When Coding
                            20697 ; 82   |// A. Sector Buffers
                            20698 ; 83   |#define SECTOR_BUFFER_MEM_X _X
                            20699 ; 84   |#define SECTOR_BUFFER_MEM_Y _Y
                            20700 ; 85   |#define SECTOR_BUFFER_MEM SECTOR_BUFFER_MEM_X
                            20701 ; 86   |typedef WORD SECTOR_BUFFER_MEM SECTOR_BUFFER;
                            20702 ; 87   |typedef SECTOR_BUFFER * P_SECTOR_BUFFER;
                            20703 ; 88   |// B. Media DDI Memory
                            20704 ; 89   |#define MEDIA_DDI_MEM _Y
                            20705 ; 90   |
                            20706 ; 91   |
                            20707 ; 92   |
                            20708 ; 93   |// Pointers to linear structures are labeled as: p<type prefix>VarName
                            20709 ; 94   |// Examples of circular pointers:
                            20710 ; 95   |//    INT CIRC cpiVarName
                            20711 ; 96   |//    DWORD CIRC cpdwVarName
                            20712 ; 97   |
                            20713 ; 98   |#define RETCODE INT                 // rcVarName
                            20714 ; 99   |
                            20715 ; 100  |// generic bitfield structure
                            20716 ; 101  |struct Bitfield {
                            20717 ; 102  |    unsigned int B0  :1;
                            20718 ; 103  |    unsigned int B1  :1;
                            20719 ; 104  |    unsigned int B2  :1;
                            20720 ; 105  |    unsigned int B3  :1;
                            20721 ; 106  |    unsigned int B4  :1;
                            20722 ; 107  |    unsigned int B5  :1;
                            20723 ; 108  |    unsigned int B6  :1;
                            20724 ; 109  |    unsigned int B7  :1;
                            20725 ; 110  |    unsigned int B8  :1;
                            20726 ; 111  |    unsigned int B9  :1;
                            20727 ; 112  |    unsigned int B10 :1;
                            20728 ; 113  |    unsigned int B11 :1;
                            20729 ; 114  |    unsigned int B12 :1;
                            20730 ; 115  |    unsigned int B13 :1;
                            20731 ; 116  |    unsigned int B14 :1;
                            20732 ; 117  |    unsigned int B15 :1;
                            20733 ; 118  |    unsigned int B16 :1;
                            20734 ; 119  |    unsigned int B17 :1;
                            20735 ; 120  |    unsigned int B18 :1;
                            20736 ; 121  |    unsigned int B19 :1;
                            20737 ; 122  |    unsigned int B20 :1;
                            20738 ; 123  |    unsigned int B21 :1;
                            20739 ; 124  |    unsigned int B22 :1;
                            20740 ; 125  |    unsigned int B23 :1;
                            20741 ; 126  |};
                            20742 ; 127  |
                            20743 ; 128  |union BitInt {
                            20744 ; 129  |        struct Bitfield B;
                            20745 ; 130  |        int        I;
                            20746 ; 131  |};
                            20747 ; 132  |
                            20748 ; 133  |#define MAX_MSG_LENGTH 10
                            20749 ; 134  |struct CMessage
                            20750 ; 135  |{
                            20751 ; 136  |        unsigned int m_uLength;
                            20752 ; 137  |        unsigned int m_uMsg[MAX_MSG_LENGTH];
                            20753 ; 138  |};
                            20754 ; 139  |
                            20755 ; 140  |typedef struct {
                            20756 ; 141  |    WORD m_wLength;
                            20757 ; 142  |    WORD m_wMessage;
                            20758 ; 143  |    WORD m_wParams[MAX_MSG_LENGTH];
                            20759 ; 144  |} Message;
                            20760 ; 145  |
                            20761 ; 146  |struct MessageQueueDescriptor
                            20762 ; 147  |{
                            20763 ; 148  |        int *m_pBase;
                            20764 ; 149  |        int m_iModulo;
                            20765 ; 150  |        int m_iSize;
                            20766 ; 151  |        int *m_pHead;
                            20767 ; 152  |        int *m_pTail;
                            20768 ; 153  |};
                            20769 ; 154  |
                            20770 ; 155  |struct ModuleEntry
                            20771 ; 156  |{
                            20772 ; 157  |    int m_iSignaledEventMask;
                            20773 ; 158  |    int m_iWaitEventMask;
                            20774 ; 159  |    int m_iResourceOfCode;
                            20775 ; 160  |    struct MessageQueueDescriptor *m_pMessageQueue;
                            20776 ; 161  |    int _asmfunc (*m_pProcessEntryPoint)(union WaitMask Signals,struct MessageQueueDescriptor *);
                            20777 ; 162  |    int _asmfunc (*m_pInitFunction)(struct MessageQueueDescriptor *);
                            20778 ; 163  |    int m_uTimeOutHigh;
                            20779 ; 164  |    int m_uTimeOutLow;
                            20780 ; 165  |    int _asmfunc (*m_pBackgroundFunction)(struct MessageQueueDescriptor *);
                            20781 ; 166  |};
                            20782 ; 167  |
                            20783 ; 168  |union WaitMask{
                            20784 ; 169  |    struct B{
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page  83

M:ADDR CODE           CYCLES LINE SOURCELINE
                            20785 ; 170  |        unsigned int m_bNone     :1;
                            20786 ; 171  |        unsigned int m_bMessage  :1;
                            20787 ; 172  |        unsigned int m_bTimer    :1;
                            20788 ; 173  |        unsigned int m_bButton   :1;
                            20789 ; 174  |    } B;
                            20790 ; 175  |    int I;
                            20791 ; 176  |} ;
                            20792 ; 177  |
                            20793 ; 178  |
                            20794 ; 179  |struct Button {
                            20795 ; 180  |        WORD wButtonEvent;
                            20796 ; 181  |        WORD wUnused[MAX_MSG_LENGTH];   
                            20797 ; 182  |};
                            20798 ; 183  |
                            20799 ; 184  |struct Message {
                            20800 ; 185  |        WORD wMsgLength;
                            20801 ; 186  |        WORD wMsgCommand;
                            20802 ; 187  |        WORD wMsgParms[MAX_MSG_LENGTH-1];
                            20803 ; 188  |};
                            20804 ; 189  |
                            20805 ; 190  |union EventTypes {
                            20806 ; 191  |        struct CMessage msg;
                            20807 ; 192  |        struct Button Button ;
                            20808 ; 193  |        struct Message Message;
                            20809 ; 194  |};
                            20810 ; 195  |
                            20811 ; 196  |// next 2 used to get updater build to return correct protocol ver in scsi response.
                            20812 ; 197  |#define BUILD_TYPE_UPDATER  0x100
                            20813 ; 198  |#define BUILD_TYPE_HOSTLINK 0x101
                            20814 ; 199  |#define BUILD_TYPE_PLAYER   0x102
                            20815 ; 200  |
                            20816 ; 201  |// Resets part if RETAIL build. DEBUG build executes debug instruction to halt.
                            20817 ; 202  |#define SystemHalt() __asm(" include 'sysmacro.asm' \n error") 
                            20818 ; 203  |#define assert(x)    if(!(x)) __asm(" include 'sysmacro.asm' \n error")
                            20819 ; 204  |
                            20820 ; 205  |#if DEBUG
                            20821 ; 206  |// For DEBUG builds, DebugBuildAssert(condition) halts if condition evaluates to FALSE. 
                            20822 ; 207  |#define DebugBuildAssert(x)    if(!(x)) __asm(" debug ")
                            20823 ; 208  |#else 
                            20824 ; 209  |// For RETAIL builds, DebugBuildAssert(condition) does nothing & execution continues rather than halt or reset. 
                            20825 ; 210  |#define DebugBuildAssert(x)    
                            20826 ; 211  |#endif
                            20827 ; 212  |
                            20828 ; 213  |// Do this in your C files to make a reminder that's displayed during the build.
                            20829 ; 214  |//  #pragma asm
                            20830 ; 215  |//  WARN 'Note to builder: reminder to do this after verifying that'
                            20831 ; 216  |//  #pragma endasm
                            20832 ; 217  |
                            20833 ; 218  |
                            20834 ; 219  |#ifdef COLOR_262K
                            20835 ; 220  |#define RGB(r,g,b)    ((0x0000FC & (r)) << 10) | ((0x0000FC & (g)) << 4) | ((0x0000FC & (b)) >> 2)    //262k
                            20836 ; 221  |#elif defined(COLOR_65K)
                            20837 ; 222  |#define RGB(r,g,b)    ((0x0000F8 & (r)) << 8) | ((0x0000FC & (g)) << 3) | ((0x0000F8 & (b)) >> 3)  //65k
                            20838 ; 223  |#else
                            20839 ; 224  |#define RGB(r,g,b)       ((0x0000F0 & (r)) << 4) | (0x0000F0 & (g)) | ((0x0000F0 & (b)) >> 4)
                            20840 ; 225  |#endif
                            20841 ; 226  |    
                            20842 ; 227  |#endif // #ifndef _TYPES_H
                            20843 
                            20845 
                            20846 ; 5    |#include "playlist.h"
                            20847 
                            20849 
                            20850 ; 1    |#ifndef PLAYLIST_H
                            20851 ; 2    |#define PLAYLIST_H
                            20852 ; 3    |
                            20853 ; 4    |#include "types.h"
                            20854 
                            20856 
                            20857 ; 1    |////////////////////////////////////////////////////////////////////////////////
                            20858 ; 2    |// Copyright(C) SigmaTel, Inc. 2000-2004
                            20859 ; 3    |//
                            20860 ; 4    |// Filename: types.h
                            20861 ; 5    |// Description: Standard data types
                            20862 ; 6    |////////////////////////////////////////////////////////////////////////////////
                            20863 ; 7    |
                            20864 ; 8    |#ifndef _TYPES_H
                            20865 ; 9    |#define _TYPES_H
                            20866 ; 10   |
                            20867 ; 11   |// TODO:  move this outta here!
                            20868 ; 12   |#if !defined(NOERROR)
                            20869 ; 13   |#define NOERROR 0
                            20870 ; 14   |#define SUCCESS 0
                            20871 ; 15   |#endif 
                            20872 ; 16   |#if !defined(SUCCESS)
                            20873 ; 17   |#define SUCCESS  0
                            20874 ; 18   |#endif
                            20875 ; 19   |#if !defined(ERROR)
                            20876 ; 20   |#define ERROR   -1
                            20877 ; 21   |#endif
                            20878 ; 22   |#if !defined(FALSE)
                            20879 ; 23   |#define FALSE 0
                            20880 ; 24   |#endif
                            20881 ; 25   |#if !defined(TRUE)
                            20882 ; 26   |#define TRUE  1
                            20883 ; 27   |#endif
                            20884 ; 28   |
                            20885 ; 29   |#if !defined(NULL)
                            20886 ; 30   |#define NULL 0
                            20887 ; 31   |#endif
                            20888 ; 32   |
                            20889 ; 33   |#define MAX_INT     0x7FFFFF
                            20890 ; 34   |#define MAX_LONG    0x7FFFFFffffff
                            20891 ; 35   |        // max positive unsigned long value: -1 == 0xFFFFFFffffff
                            20892 ; 36   |#define MAX_ULONG   (-1) 
                            20893 ; 37   |
                            20894 ; 38   |#define WORD_SIZE   24              // word size in bits
                            20895 ; 39   |#define BYTES_PER_WORD 3            // 8 bit bytes
                            20896 ; 40   |
                            20897 ; 41   |
                            20898 ; 42   |#define BYTE    unsigned char       // btVarName
                            20899 ; 43   |#define CHAR    signed char         // cVarName
                            20900 ; 44   |#define USHORT  unsigned short      // usVarName
                            20901 ; 45   |#define SHORT   unsigned short      // sVarName
                            20902 ; 46   |#define WORD    unsigned int        // wVarName
                            20903 ; 47   |#define INT     signed int          // iVarName
                            20904 ; 48   |#define DWORD   unsigned long       // dwVarName
                            20905 ; 49   |#define LONG    signed long         // lVarName
                            20906 ; 50   |#define BOOL    unsigned int        // bVarName
                            20907 ; 51   |#define FRACT   _fract              // frVarName
                            20908 ; 52   |#define LFRACT  long _fract         // lfrVarName
                            20909 ; 53   |#define CIRC    _circ               // cp<type prefix>VarName (see below)
                            20910 ; 54   |#define FLOAT   float               // fVarName
                            20911 ; 55   |#define DBL     double              // dVarName
                            20912 ; 56   |#define ENUM    enum                // eVarName
                            20913 ; 57   |#define CMX     _complex            // cmxVarName
                            20914 ; 58   |typedef WORD UCS3;                   // 
                            20915 ; 59   |
                            20916 ; 60   |#define UINT16  unsigned short
                            20917 ; 61   |#define UINT8   unsigned char   
                            20918 ; 62   |#define UINT32  unsigned long
                            20919 ; 63   |#define UINT64  unsigned long   // need to figure out how to do 64 bit values.  Or port exisiting code to only use 48 bit
                            20920 ; 64   |#define INT64   unsigned long   // need to figure out how to do 64 bit values.  Or port exisiting code to only use 48 bit
                            20921 ; 65   |#define WCHAR   UINT16
                            20922 ; 66   |
                            20923 ; 67   |//UINT128 is 16 bytes or 6 words
                            20924 ; 68   |typedef struct UINT128_3500 {   
                            20925 ; 69   |    int val[6];     
                            20926 ; 70   |} UINT128_3500;
                            20927 ; 71   |
                            20928 ; 72   |#define UINT128   UINT128_3500
                            20929 ; 73   |
                            20930 ; 74   |// Little endian word packed byte strings:   
                            20931 ; 75   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                            20932 ; 76   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                            20933 ; 77   |// Little endian word packed byte strings:   
                            20934 ; 78   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                            20935 ; 79   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                            20936 ; 80   |
                            20937 ; 81   |// Declare Memory Spaces To Use When Coding
                            20938 ; 82   |// A. Sector Buffers
                            20939 ; 83   |#define SECTOR_BUFFER_MEM_X _X
                            20940 ; 84   |#define SECTOR_BUFFER_MEM_Y _Y
                            20941 ; 85   |#define SECTOR_BUFFER_MEM SECTOR_BUFFER_MEM_X
                            20942 ; 86   |typedef WORD SECTOR_BUFFER_MEM SECTOR_BUFFER;
                            20943 ; 87   |typedef SECTOR_BUFFER * P_SECTOR_BUFFER;
                            20944 ; 88   |// B. Media DDI Memory
                            20945 ; 89   |#define MEDIA_DDI_MEM _Y
                            20946 ; 90   |
                            20947 ; 91   |
                            20948 ; 92   |
                            20949 ; 93   |// Pointers to linear structures are labeled as: p<type prefix>VarName
                            20950 ; 94   |// Examples of circular pointers:
                            20951 ; 95   |//    INT CIRC cpiVarName
                            20952 ; 96   |//    DWORD CIRC cpdwVarName
                            20953 ; 97   |
                            20954 ; 98   |#define RETCODE INT                 // rcVarName
                            20955 ; 99   |
                            20956 ; 100  |// generic bitfield structure
                            20957 ; 101  |struct Bitfield {
                            20958 ; 102  |    unsigned int B0  :1;
                            20959 ; 103  |    unsigned int B1  :1;
                            20960 ; 104  |    unsigned int B2  :1;
                            20961 ; 105  |    unsigned int B3  :1;
                            20962 ; 106  |    unsigned int B4  :1;
                            20963 ; 107  |    unsigned int B5  :1;
                            20964 ; 108  |    unsigned int B6  :1;
                            20965 ; 109  |    unsigned int B7  :1;
                            20966 ; 110  |    unsigned int B8  :1;
                            20967 ; 111  |    unsigned int B9  :1;
                            20968 ; 112  |    unsigned int B10 :1;
                            20969 ; 113  |    unsigned int B11 :1;
                            20970 ; 114  |    unsigned int B12 :1;
                            20971 ; 115  |    unsigned int B13 :1;
                            20972 ; 116  |    unsigned int B14 :1;
                            20973 ; 117  |    unsigned int B15 :1;
                            20974 ; 118  |    unsigned int B16 :1;
                            20975 ; 119  |    unsigned int B17 :1;
                            20976 ; 120  |    unsigned int B18 :1;
                            20977 ; 121  |    unsigned int B19 :1;
                            20978 ; 122  |    unsigned int B20 :1;
                            20979 ; 123  |    unsigned int B21 :1;
                            20980 ; 124  |    unsigned int B22 :1;
                            20981 ; 125  |    unsigned int B23 :1;
                            20982 ; 126  |};
                            20983 ; 127  |
                            20984 ; 128  |union BitInt {
                            20985 ; 129  |        struct Bitfield B;
                            20986 ; 130  |        int        I;
                            20987 ; 131  |};
                            20988 ; 132  |
                            20989 ; 133  |#define MAX_MSG_LENGTH 10
                            20990 ; 134  |struct CMessage
                            20991 ; 135  |{
                            20992 ; 136  |        unsigned int m_uLength;
                            20993 ; 137  |        unsigned int m_uMsg[MAX_MSG_LENGTH];
                            20994 ; 138  |};
                            20995 ; 139  |
                            20996 ; 140  |typedef struct {
                            20997 ; 141  |    WORD m_wLength;
                            20998 ; 142  |    WORD m_wMessage;
                            20999 ; 143  |    WORD m_wParams[MAX_MSG_LENGTH];
                            21000 ; 144  |} Message;
                            21001 ; 145  |
                            21002 ; 146  |struct MessageQueueDescriptor
                            21003 ; 147  |{
                            21004 ; 148  |        int *m_pBase;
                            21005 ; 149  |        int m_iModulo;
                            21006 ; 150  |        int m_iSize;
                            21007 ; 151  |        int *m_pHead;
                            21008 ; 152  |        int *m_pTail;
                            21009 ; 153  |};
                            21010 ; 154  |
                            21011 ; 155  |struct ModuleEntry
                            21012 ; 156  |{
                            21013 ; 157  |    int m_iSignaledEventMask;
                            21014 ; 158  |    int m_iWaitEventMask;
                            21015 ; 159  |    int m_iResourceOfCode;
                            21016 ; 160  |    struct MessageQueueDescriptor *m_pMessageQueue;
                            21017 ; 161  |    int _asmfunc (*m_pProcessEntryPoint)(union WaitMask Signals,struct MessageQueueDescriptor *);
                            21018 ; 162  |    int _asmfunc (*m_pInitFunction)(struct MessageQueueDescriptor *);
                            21019 ; 163  |    int m_uTimeOutHigh;
                            21020 ; 164  |    int m_uTimeOutLow;
                            21021 ; 165  |    int _asmfunc (*m_pBackgroundFunction)(struct MessageQueueDescriptor *);
                            21022 ; 166  |};
                            21023 ; 167  |
                            21024 ; 168  |union WaitMask{
                            21025 ; 169  |    struct B{
                            21026 ; 170  |        unsigned int m_bNone     :1;
                            21027 ; 171  |        unsigned int m_bMessage  :1;
                            21028 ; 172  |        unsigned int m_bTimer    :1;
                            21029 ; 173  |        unsigned int m_bButton   :1;
                            21030 ; 174  |    } B;
                            21031 ; 175  |    int I;
                            21032 ; 176  |} ;
                            21033 ; 177  |
                            21034 ; 178  |
                            21035 ; 179  |struct Button {
                            21036 ; 180  |        WORD wButtonEvent;
                            21037 ; 181  |        WORD wUnused[MAX_MSG_LENGTH];   
                            21038 ; 182  |};
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page  84

M:ADDR CODE           CYCLES LINE SOURCELINE
                            21039 ; 183  |
                            21040 ; 184  |struct Message {
                            21041 ; 185  |        WORD wMsgLength;
                            21042 ; 186  |        WORD wMsgCommand;
                            21043 ; 187  |        WORD wMsgParms[MAX_MSG_LENGTH-1];
                            21044 ; 188  |};
                            21045 ; 189  |
                            21046 ; 190  |union EventTypes {
                            21047 ; 191  |        struct CMessage msg;
                            21048 ; 192  |        struct Button Button ;
                            21049 ; 193  |        struct Message Message;
                            21050 ; 194  |};
                            21051 ; 195  |
                            21052 ; 196  |// next 2 used to get updater build to return correct protocol ver in scsi response.
                            21053 ; 197  |#define BUILD_TYPE_UPDATER  0x100
                            21054 ; 198  |#define BUILD_TYPE_HOSTLINK 0x101
                            21055 ; 199  |#define BUILD_TYPE_PLAYER   0x102
                            21056 ; 200  |
                            21057 ; 201  |// Resets part if RETAIL build. DEBUG build executes debug instruction to halt.
                            21058 ; 202  |#define SystemHalt() __asm(" include 'sysmacro.asm' \n error") 
                            21059 ; 203  |#define assert(x)    if(!(x)) __asm(" include 'sysmacro.asm' \n error")
                            21060 ; 204  |
                            21061 ; 205  |#if DEBUG
                            21062 ; 206  |// For DEBUG builds, DebugBuildAssert(condition) halts if condition evaluates to FALSE. 
                            21063 ; 207  |#define DebugBuildAssert(x)    if(!(x)) __asm(" debug ")
                            21064 ; 208  |#else 
                            21065 ; 209  |// For RETAIL builds, DebugBuildAssert(condition) does nothing & execution continues rather than halt or reset. 
                            21066 ; 210  |#define DebugBuildAssert(x)    
                            21067 ; 211  |#endif
                            21068 ; 212  |
                            21069 ; 213  |// Do this in your C files to make a reminder that's displayed during the build.
                            21070 ; 214  |//  #pragma asm
                            21071 ; 215  |//  WARN 'Note to builder: reminder to do this after verifying that'
                            21072 ; 216  |//  #pragma endasm
                            21073 ; 217  |
                            21074 ; 218  |
                            21075 ; 219  |#ifdef COLOR_262K
                            21076 ; 220  |#define RGB(r,g,b)    ((0x0000FC & (r)) << 10) | ((0x0000FC & (g)) << 4) | ((0x0000FC & (b)) >> 2)    //262k
                            21077 ; 221  |#elif defined(COLOR_65K)
                            21078 ; 222  |#define RGB(r,g,b)    ((0x0000F8 & (r)) << 8) | ((0x0000FC & (g)) << 3) | ((0x0000F8 & (b)) >> 3)  //65k
                            21079 ; 223  |#else
                            21080 ; 224  |#define RGB(r,g,b)       ((0x0000F0 & (r)) << 4) | (0x0000F0 & (g)) | ((0x0000F0 & (b)) >> 4)
                            21081 ; 225  |#endif
                            21082 ; 226  |    
                            21083 ; 227  |#endif // #ifndef _TYPES_H
                            21084 
                            21086 
                            21087 ; 5    |
                            21088 ; 6    |typedef struct {
                            21089 ; 7    |    WORD    m_wTrack;                       
                            21090 ; 8    |    WORD    m_wDeviceID;
                            21091 ; 9    |    WORD    m_wBufferLength;            //this is in BYTES, not WORDS!
                            21092 ; 10   |    _packed BYTE *m_pFilename;
                            21093 ; 11   |} SONGFILEINFO;
                            21094 ; 12   |
                            21095 ; 13   |#define PLAYLIST_SUCCESS                                0
                            21096 ; 14   |#define PLAYLIST_FILE_ERROR                             1
                            21097 ; 15   |#define PLAYLIST_END_OF_LIST                    2
                            21098 ; 16   |#define PLAYLIST_TRACK_NOT_FOUND                3
                            21099 ; 17   |#define PLAYLIST_DIR_NOT_EMPTY          4 
                            21100 ; 18   |#define PLAYLIST_REBUILD                5
                            21101 ; 19   |#define PLAYLIST_LAST_RETCODE                   5               //The value should always be the same as the last RETCODE
                            21102 ; 20   |
                            21103 ; 21   |
                            21104 ; 22   |#ifdef  USE_PLAYLIST1
                            21105 ; 23   |RETCODE ChangeDIRtoFileEntryDir(struct FileEntry *pCurrentEntry, _packed BYTE * buffer);
                            21106 ; 24   |#endif
                            21107 ; 25   |RETCODE _reentrant Playlist_LFNGetFileName(int,int,UCS3*);                      //UCS3 is actually typdef WORD
                            21108 ; 26   |RETCODE _reentrant Playlist_MarkCurrentSongPlayed(int,int,int*);
                            21109 ; 27   |RETCODE _reentrant Playlist_GetCurrentSongFileInfo(int, int, int*);
                            21110 ; 28   |RETCODE _reentrant Playlist_GetNextSongFileInfo(int, int , int*);
                            21111 ; 29   |RETCODE _reentrant Playlist_GetPreviousSongFileInfo(int,int,int*);
                            21112 ; 30   |#ifdef USE_PLAYLIST1
                            21113 ; 31   |_reentrant INT Playlist_LocateEntryFromName(INT,INT,INT*);
                            21114 ; 32   |#endif
                            21115 ; 33   |
                            21116 ; 34   |#endif 
                            21117 
                            21119 
                            21120 ; 6    |
                            21121 ; 7    |#define DECODER_STATE_STOP          0
                            21122 ; 8    |#define DECODER_STATE_PLAY          1
                            21123 ; 9    |#define DECODER_STATE_PAUSE         2
                            21124 ; 10   |#define DECODER_STATE_TOGGLE    4
                            21125 ; 11   |
                            21126 ; 12   |#define PLAYERLIB_SUCCESS       0
                            21127 ; 13   |#define PLAYERLIB_BAD_FILE      1
                            21128 ; 14   |#define PLAYERLIB_ERROR         2
                            21129 ; 15   |#define PLAYERLIB_END_OF_LIST   3
                            21130 ; 16   |
                            21131 ; 17   |//These are in the DecoderSR/DecoderCSR
                            21132 ; 18   |#define DECODER_PAUSED          1<<5
                            21133 ; 19   |#define DECODER_STOPPED         1<<6
                            21134 ; 20   |#define DECODER_SYNCED          1<<10
                            21135 ; 21   |#define DECODER_PLAYING         1<<12
                            21136 ; 22   |#define DECODER_SONG_INFO       1<<15
                            21137 ; 23   |#define DECODER_FILE_IS_OPEN    1<<16
                            21138 ; 24   |#define DECODER_A_SET           1<<18
                            21139 ; 25   |#define DECODER_B_SET           1<<19
                            21140 ; 26   |#define DECODER_BAD_FILE        1<<21
                            21141 ; 27   |#define DECODER_LOOKING_FOR_SYNC 1<<22
                            21142 ; 28   |
                            21143 ; 29   |//PrevSong Message Parameters
                            21144 ; 30   |#define PREVSONG_STOP        0             //PrevSong + Stopped
                            21145 ; 31   |#define PREVSONG_PLAY        1<<0          //PrevSong + Play
                            21146 ; 32   |#define PREVSONG_RWND        1<<1          //PrevSong + Rwnd
                            21147 ; 33   |//NextSong Message Parameters
                            21148 ; 34   |#define NEXTSONG_STOP        0             //NextSong + Stopped
                            21149 ; 35   |#define NEXTSONG_PLAY_EOF    1             //NextSong + Play + EOF reached
                            21150 ; 36   |#define NEXTSONG_PLAY_BUTTON 3             //NextSong + Play + BUTTON pressed
                            21151 ; 37   |#define NEXTSONG_FFWD        4             //NextSong + Ffwd
                            21152 ; 38   |#define NEXTSONG_DELETE_MENU 5             //NextSong via delete menu
                            21153 ; 39   |//CurrentSong Message Parameters
                            21154 ; 40   |#define CURRENTSONG_DELETE_MENU 1          //CurrentSong via delete menu
                            21155 ; 41   |
                            21156 ; 42   |#ifdef USE_PLAYLIST3
                            21157 ; 43   |extern DWORD    g_CurrentSongFastkey;
                            21158 ; 44   |#endif  // USE_PLAYLIST3
                            21159 ; 45   |
                            21160 ; 46   |#ifdef USE_PLAYLIST5
                            21161 ; 47   |extern long g_CurrentFastKey;
                            21162 ; 48   |#endif //USE_PLAYLIST5
                            21163 ; 49   |RETCODE _reentrant PlayerLib_SetState (int iState,int bWait,int*);  
                            21164 ; 50   |RETCODE _reentrant PlayerLib_FastForward (int bPlayDuring,int,int*);
                            21165 ; 51   |RETCODE _reentrant PlayerLib_Rewind(int bPlayDuring,int,int*);
                            21166 ; 52   |RETCODE _reentrant PlayerLib_SetSongName(int bStartPlaying, int, SONGFILEINFO*);
                            21167 
                            21176 
                            21177 ; 53   |RETCODE _reentrant PlayerLib_GetCurrentSong(WORD wMode,int ignored1,int*ignored2);
                            21178 ; 54   |RETCODE _reentrant PlayerLib_SkipToNextSong(WORD,WORD,int*);
                            21179 ; 55   |RETCODE _reentrant PlayerLib_SkipToPreviousSong(WORD,WORD,int*);
                            21180 ; 56   |RETCODE _reentrant PlayerLib_EnablePlaylist(int bTrueFalse,int,int*);  
                            21181 ; 57   |RETCODE _reentrant PlayerLib_GetMetaData(WORD wMode,int ignored1,int*ignored2);
                            21182 ; 58   |DWORD _reentrant PlayerLib_GetSongPosition(void);
                            21183 ; 59   |RETCODE _reentrant PlayerLib_SetSongPosition(DWORD dwSongPos);
                            21184 ; 60   |////////////////////Bookmarking functions///////////////////////////////
                            21185 ; 61   |RETCODE _reentrant PlayerLib_ResetBookmark(int iCurrentPlayset, int ignored, int* pPtr);
                            21186 ; 62   |RETCODE _reentrant PlayerLib_SetBookmark(int iCurrentPlayset, int iTracknum,int* pPtr);
                            21187 ; 63   |RETCODE _reentrant PlayerLib_GotoTrack(int iTracknum, int ignored, int* ptr);
                            21188 ; 64   |RETCODE _reentrant PlayerLib_GetBookmarkSongInfo(int iCurrentPlayset, int ignored2, int* pPtr);
                            21189 ; 65   |#ifdef USE_PLAYLIST3
                            21190 ; 66   |RETCODE _reentrant PlayerLib_GetCurrentSong_ML(WORD wMode,int ignored1,int*ignored2);
                            21191 ; 67   |#endif // #ifdef USE_PLAYLIST3
                            21192 ; 68   |
                            21193 ; 69   |#endif 
                            21194 
                            21196 
                            21197 ; 24   |#ifdef   USE_PLAYLIST1
                            21198 ; 25   |#include "playlist1.h"
                            21199 ; 26   |#include "playlist1internal.h"
                            21200 ; 27   |#else
                            21201 ; 28   |#ifdef   USE_PLAYLIST2
                            21202 ; 29   |#include "playlist2.h"
                            21203 ; 30   |#include "playlist2internal.h"
                            21204 ; 31   |#else
                            21205 ; 32   |#ifdef   USE_PLAYLIST3
                            21206 ; 33   |#include "playlist3.h"
                            21207 
                            21209 
                            21210 ; 1    |#ifndef _PLAYLIST3_H
                            21211 ; 2    |#define _PLAYLIST3_H
                            21212 ; 3    |#include "playlist.h"
                            21213 
                            21215 
                            21216 ; 1    |#ifndef PLAYLIST_H
                            21217 ; 2    |#define PLAYLIST_H
                            21218 ; 3    |
                            21219 ; 4    |#include "types.h"
                            21220 ; 5    |
                            21221 ; 6    |typedef struct {
                            21222 ; 7    |    WORD    m_wTrack;                       
                            21223 ; 8    |    WORD    m_wDeviceID;
                            21224 ; 9    |    WORD    m_wBufferLength;            //this is in BYTES, not WORDS!
                            21225 ; 10   |    _packed BYTE *m_pFilename;
                            21226 ; 11   |} SONGFILEINFO;
                            21227 ; 12   |
                            21228 ; 13   |#define PLAYLIST_SUCCESS                                0
                            21229 ; 14   |#define PLAYLIST_FILE_ERROR                             1
                            21230 ; 15   |#define PLAYLIST_END_OF_LIST                    2
                            21231 ; 16   |#define PLAYLIST_TRACK_NOT_FOUND                3
                            21232 ; 17   |#define PLAYLIST_DIR_NOT_EMPTY          4 
                            21233 ; 18   |#define PLAYLIST_REBUILD                5
                            21234 ; 19   |#define PLAYLIST_LAST_RETCODE                   5               //The value should always be the same as the last RETCODE
                            21235 ; 20   |
                            21236 ; 21   |
                            21237 ; 22   |#ifdef  USE_PLAYLIST1
                            21238 ; 23   |RETCODE ChangeDIRtoFileEntryDir(struct FileEntry *pCurrentEntry, _packed BYTE * buffer);
                            21239 ; 24   |#endif
                            21240 ; 25   |RETCODE _reentrant Playlist_LFNGetFileName(int,int,UCS3*);                      //UCS3 is actually typdef WORD
                            21241 ; 26   |RETCODE _reentrant Playlist_MarkCurrentSongPlayed(int,int,int*);
                            21242 ; 27   |RETCODE _reentrant Playlist_GetCurrentSongFileInfo(int, int, int*);
                            21243 ; 28   |RETCODE _reentrant Playlist_GetNextSongFileInfo(int, int , int*);
                            21244 ; 29   |RETCODE _reentrant Playlist_GetPreviousSongFileInfo(int,int,int*);
                            21245 ; 30   |#ifdef USE_PLAYLIST1
                            21246 ; 31   |_reentrant INT Playlist_LocateEntryFromName(INT,INT,INT*);
                            21247 ; 32   |#endif
                            21248 ; 33   |
                            21249 ; 34   |#endif 
                            21250 
                            21252 
                            21253 ; 4    |#include "playlist3internal.h"
                            21254 
                            21256 
                            21257 ; 1    |#ifndef __PLAYLIST3INTERNAL_H
                            21258 ; 2    |#define __PLAYLIST3INTERNAL_H
                            21259 ; 3    |
                            21260 ; 4    |#include "project.h"
                            21261 
                            21263 
                            21264 ; 1    |/////////////////////////////////////////////////////////////////////////////////
                            21265 ; 2    |//  Copyright(C) SigmaTel, Inc. 2000-2004
                            21266 ; 3    |//  Filename: project.inc
                            21267 ; 4    |//  Description: 
                            21268 ; 5    |/////////////////////////////////////////////////////////////////////////////////
                            21269 ; 6    |
                            21270 ; 7    |#if (!defined(_PROJECT_INC))
                            21271 ; 8    |#define _PROJECT_INC 1
                            21272 ; 9    |
                            21273 ; 10   |#if defined(STMP_BUILD_PLAYER)
                            21274 ; 11   |#include "hwequ.h"
                            21275 ; 12   |#else 
                            21276 ; 13   |//include "regscodec.inc"
                            21277 ; 14   |#endif
                            21278 ; 15   |
                            21279 ; 16   |//////////////////////////////////////////////////////////////////////////////////
                            21280 ; 17   |// Uncomment next define to allow player boot if you have stfm1000 macro enabled (defaults ON) & 
                            21281 ; 18   |// your board crystal is not able to output nominal voltage range. Used in player main.asm. STMP00012148
                            21282 ; 19   |// Defining this will result in lower battery life (price of using a lower quality crystal). 
                            21283 ; 20   |// Those that want to save battery life and have good crystals that meet our HW team's specs can 
                            21284 ; 21   |// comment out this line to reduce crystal bias current and so battery current in player mode.  
                            21285 ; 22   |#define SUPPORT_MARGINAL_XTALS 1
                            21286 ; 23   |
                            21287 ; 24   |/////////////////////////////////////////////////////////////////////////////////
                            21288 ; 25   |// BOOT SPEED CONFIG & ASSOCIATED BATTERY VOLTAGE CHECK ENABLE
                            21289 ; 26   |/////////////////////////////////////////////////////////////////////////////////
                            21290 ; 27   |// Users can enable one of ATTEMPT_FAST_BOOT or FASTEST boot or neither project define below by defining
                            21291 ; 28   |// values as 0 or 1, else it defaults to the boot speed used in previous SDKs.
                            21292 ; 29   |#define ATTEMPT_FAST_BOOT 1
                            21293 ; 30   |#define ATTEMPT_FASTEST_BOOT 0   
                            21294 ; 31   |// Changing this define to 0 removes Vbat threshholding & unconditionally gives fast boot config above- 
                            21295 ; 32   |// disabling this check is suggested for profiling if you want to try to tweak down threshholds by maybe 50mV.
                            21296 ; 33   |// Also the tests should clear the fast boot config defines to link & boot at normal speed.
                            21297 ; 34   |#define SPEED_BOOT_BATTERY_CHECK 1
                            21298 ; 35   |
                            21299 ; 36   |/////////////////////////////////////////////////////////////////////////////////
                            21300 ; 37   |// MEDIA DEFINITIONS
                            21301 ; 38   |/////////////////////////////////////////////////////////////////////////////////
                            21302 ; 39   |
                            21303 ; 40   |/////////////////////////////////////////////////////////////////////////////////
                            21304 ; 41   |// MNAND - Number of chips forming the internal physical device (i.e. # of NANDs)
                            21305 ; 42   |#if defined(NAND1)
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page  85

M:ADDR CODE           CYCLES LINE SOURCELINE
                            21306 ; 43   |#define SM_INTERNAL_CHIPS 1
                            21307 ; 44   |#else 
                            21308 ; 45   |#if defined(NAND2)
                            21309 ; 46   |#define SM_INTERNAL_CHIPS 2
                            21310 ; 47   |#else 
                            21311 ; 48   |#if defined(NAND3)
                            21312 ; 49   |#define SM_INTERNAL_CHIPS 3
                            21313 ; 50   |#else 
                            21314 ; 51   |#if defined(NAND4)
                            21315 ; 52   |#define SM_INTERNAL_CHIPS 4
                            21316 ; 53   |#else 
                            21317 ; 54   |#define SM_INTERNAL_CHIPS 1
                            21318 ; 55   |#endif
                            21319 ; 56   |#endif
                            21320 ; 57   |#endif
                            21321 ; 58   |#endif
                            21322 ; 59   |
                            21323 ; 60   |/////////////////////////////////////////////////////////////////////////////////
                            21324 ; 61   |// If SMARTMEDIA_DETECT_ACTIVE_HIGH is defined:
                            21325 ; 62   |//   SmartMedia will be detected as inserted if the GPIO pin reads 1 and removed if it reads 0.  
                            21326 ; 63   |// If SMARTMEDIA_DETECT_ACTIVE_HIGH is not defined ** comment out next line **
                            21327 ; 64   |//   SmartMedia will be detected as inserted if the GPIO pin reads 0 and removed if it reads 1.
                            21328 ; 65   |//*** comment out if active high ****
                            21329 ; 66   |//SMARTMEDIA_DETECT_ACTIVE_HIGH  equ     1
                            21330 ; 67   |
                            21331 ; 68   |#if defined(SMEDIA)
                            21332 ; 69   |#define NUM_REMOVABLE_MEDIA 1
                            21333 ; 70   |#define NUM_SM_EXTERNAL 1
                            21334 ; 71   |#define MMC_MAX_PHYSICAL_DEVICES 0
                            21335 ; 72   |#define SM_MAX_LOGICAL_DEVICES 2
                            21336 ; 73   |#else 
                            21337 ; 74   |#if defined(MMC)
                            21338 ; 75   |#define NUM_REMOVABLE_MEDIA 1
                            21339 ; 76   |#define NUM_SM_EXTERNAL 0
                            21340 ; 77   |#define MMC_MAX_PHYSICAL_DEVICES 1
                            21341 ; 78   |#define SM_MAX_LOGICAL_DEVICES 1
                            21342 ; 79   |#else 
                            21343 ; 80   |#define NUM_REMOVABLE_MEDIA 0
                            21344 ; 81   |#define NUM_SM_EXTERNAL 0
                            21345 ; 82   |#define MMC_MAX_PHYSICAL_DEVICES 0
                            21346 ; 83   |#define SM_MAX_LOGICAL_DEVICES 1
                            21347 ; 84   |#endif
                            21348 ; 85   |#endif
                            21349 ; 86   |
                            21350 ; 87   |/////////////////////////////////////////////////////////////////////////////////
                            21351 ; 88   |// Mass Storage Class definitions
                            21352 ; 89   |/////////////////////////////////////////////////////////////////////////////////
                            21353 ; 90   |// Set to 0 if Composite Device build is desired.    
                            21354 ; 91   |#define MULTI_LUN_BUILD 1   
                            21355 ; 92   |
                            21356 ; 93   |////////////////////////////////////////////////////////////////////////////////
                            21357 ; 94   |//  SCSI
                            21358 ; 95   |#if (MULTI_LUN_BUILD==0)
                            21359 ; 96   |  #if (NUM_REMOVABLE_MEDIA == 1)
                            21360 ; 97   |    #define SCSI_NUM_TARGETS                        2
                            21361 ; 98   |    #define SCSI_DEVICE_NUM_LUNS_DEV_0              1
                            21362 ; 99   |    #define SCSI_DEVICE_NUM_LUNS_DEV_1              1
                            21363 ; 100  |  #else
                            21364 ; 101  |    #define SCSI_NUM_TARGETS                        1
                            21365 ; 102  |    #define SCSI_DEVICE_NUM_LUNS_DEV_0              1
                            21366 ; 103  |  #endif
                            21367 ; 104  |#else
                            21368 ; 105  |    #define SCSI_NUM_TARGETS                        1
                            21369 ; 106  |  #if (NUM_REMOVABLE_MEDIA == 1)
                            21370 ; 107  |    #define SCSI_DEVICE_NUM_LUNS_DEV_0              2
                            21371 ; 108  |  #else
                            21372 ; 109  |    #define SCSI_DEVICE_NUM_LUNS_DEV_0              1  
                            21373 ; 110  |  #endif
                            21374 ; 111  |#endif
                            21375 ; 112  |
                            21376 ; 113  |
                            21377 ; 114  |#define USBMSC_NUM_DEVICES                      SCSI_NUM_TARGETS
                            21378 ; 115  |
                            21379 ; 116  |
                            21380 ; 117  |////////////////////////////////////////////////////////////////////////////////
                            21381 ; 118  |// Define number of logical medias and drives for three builds (MTP, USBMSC, and Player)
                            21382 ; 119  |////////////////////////////////////////////////////////////////////////////////
                            21383 ; 120  |#ifdef MMC
                            21384 ; 121  |#ifdef MTP_BUILD
                            21385 ; 122  |// --------------------
                            21386 ; 123  |// MTP and MMC
                            21387 ; 124  |// --------------------
                            21388 ; 125  |#define NUM_LOGICAL_MEDIA       2
                            21389 ; 126  |#define NUM_LOGICAL_DRIVES      8
                            21390 ; 127  |#else  // ifndef MTP_BUILD
                            21391 ; 128  |#ifdef STMP_BUILD_PLAYER
                            21392 ; 129  |// --------------------
                            21393 ; 130  |// Player and MMC
                            21394 ; 131  |// --------------------
                            21395 ; 132  |#else
                            21396 ; 133  |// --------------------
                            21397 ; 134  |// USBMSC and MMC
                            21398 ; 135  |// --------------------
                            21399 ; 136  |#define NUM_LOGICAL_MEDIA       3
                            21400 ; 137  |#define NUM_LOGICAL_DRIVES      8
                            21401 ; 138  |#endif // ifdef STMP_BUILD_PLAYER
                            21402 ; 139  |#endif // ifdef MTP_BUILD
                            21403 ; 140  |#else  // ifndef MMC
                            21404 ; 141  |#ifdef MTP_BUILD
                            21405 ; 142  |// --------------------
                            21406 ; 143  |// MTP and NAND only
                            21407 ; 144  |// --------------------
                            21408 ; 145  |#define NUM_LOGICAL_MEDIA       1
                            21409 ; 146  |#define NUM_LOGICAL_DRIVES      7
                            21410 ; 147  |#else  // ifndef MTP_BUILD
                            21411 ; 148  |#ifdef STMP_BUILD_PLAYER
                            21412 ; 149  |// --------------------
                            21413 ; 150  |// Player and NAND only
                            21414 ; 151  |// --------------------
                            21415 ; 152  |#else
                            21416 ; 153  |// --------------------
                            21417 ; 154  |// USBMSC and NAND only
                            21418 ; 155  |// --------------------
                            21419 ; 156  |#define NUM_LOGICAL_MEDIA       2
                            21420 ; 157  |#define NUM_LOGICAL_DRIVES      7
                            21421 ; 158  |#endif // ifdef STMP_BUILD_PLAYER
                            21422 ; 159  |#endif // ifdef MTP_BUILD
                            21423 ; 160  |#endif // ifdef MMC 
                            21424 ; 161  |
                            21425 ; 162  |// If we are in an MTP build then we don't use as many transfers buffers.
                            21426 ; 163  |#if (defined(MTP_BUILD))
                            21427 ; 164  |#define MAX_USB_TRANSFERS_QUEUED 16
                            21428 ; 165  |
                            21429 ; 166  |////!
                            21430 ; 167  |////! This varible holds the watchdog count for the store flush.
                            21431 ; 168  |////!
                            21432 ; 169  |///
                            21433 ; 170  |#include <types.h>
                            21434 ; 171  |extern volatile INT g_StoreWatchDogCount;
                            21435 ; 172  |extern const INT g_StoreWatchDogTimeout;
                            21436 ; 173  |#endif
                            21437 ; 174  |
                            21438 ; 175  |////////////////////////////////////////////////////////////////////////////////
                            21439 ; 176  |// These are needed here for Mass Storage Class
                            21440 ; 177  |// Needs to be cleaned up
                            21441 ; 178  |////////////////////////////////////////////////////////////////////////////////
                            21442 ; 179  |#if (!defined(STMP_BUILD_PLAYER))
                            21443 ; 180  |#define SCRATCH_USER_Y_SIZE 512
                            21444 ; 181  |#define SCRATCH_USER_X_SIZE 512
                            21445 ; 182  |
                            21446 ; 183  |#define BROWNOUT_LEVEL1_DETECTED                0x000001
                            21447 ; 184  |
                            21448 ; 185  |#endif
                            21449 ; 186  |
                            21450 ; 187  |
                            21451 ; 188  |/////////////////////////////////////////////////////////////////////////////////
                            21452 ; 189  |// SmartMedia/NAND defs
                            21453 ; 190  |#define SM_MAX_PHYSICAL_DEVICES SM_INTERNAL_CHIPS+NUM_SM_EXTERNAL
                            21454 ; 191  |#define SM_REMOVABLE_DEVICE_NUM SM_INTERNAL_CHIPS
                            21455 ; 192  |
                            21456 ; 193  |/////////////////////////////////////////////////////////////////////////////////
                            21457 ; 194  |// Sysloadresources defs
                            21458 ; 195  |#define SM_MAX_RESOURCE_DEVICES SM_INTERNAL_CHIPS+NUM_SM_EXTERNAL
                            21459 ; 196  |
                            21460 ; 197  |/////////////////////////////////////////////////////////////////////////////////
                            21461 ; 198  |// MMC defs
                            21462 ; 199  |#define MMC_MAX_PARTITIONS 1
                            21463 ; 200  |#define MMC_MAX_LOGICAL_DEVICES MMC_MAX_PHYSICAL_DEVICES*MMC_MAX_PARTITIONS
                            21464 ; 201  |
                            21465 ; 202  |/////////////////////////////////////////////////////////////////////////////////
                            21466 ; 203  |// SPI defs
                            21467 ; 204  |#define SPI_MAX_DEVICES MMC_MAX_PHYSICAL_DEVICES
                            21468 ; 205  |
                            21469 ; 206  |/////////////////////////////////////////////////////////////////////////////////
                            21470 ; 207  |// Global media defs
                            21471 ; 208  |#define MAX_PHYSICAL_DEVICES SM_MAX_PHYSICAL_DEVICES+MMC_MAX_PHYSICAL_DEVICES
                            21472 ; 209  |#define MAX_LOGICAL_DEVICES SM_MAX_LOGICAL_DEVICES+MMC_MAX_LOGICAL_DEVICES
                            21473 ; 210  |
                            21474 ; 211  |/////////////////////////////////////////////////////////////////////////////////
                            21475 ; 212  |// DO NOT CHANGE THESE!!!
                            21476 ; 213  |#define SM_MAX_PARTITIONS 4
                            21477 ; 214  |#define MAX_HANDLES 2
                            21478 ; 215  |/////////////////////////////////////////////////////////////////////////////////
                            21479 ; 216  |
                            21480 ; 217  |
                            21481 ; 218  |/////////////////////////////////////////////////////////////////////////////////
                            21482 ; 219  |// Battery LRADC Values 
                            21483 ; 220  |/////////////////////////////////////////////////////////////////////////////////
                            21484 ; 221  |// brownout trip point in mV (moved by RS)
                            21485 ; 222  |// BATT_SAFETY_MARGIN:  percentage value used by:
                            21486 ; 223  |//   * SysSaveSettings to determine if enough power is left to attempt a settings save. 
                            21487 ; 224  |//   * Recorder to conditionally prevent the start or continuation of 
                            21488 ; 225  |//     audio recording to media.
                            21489 ; 226  |#define BATT_SAFETY_MARGIN 10
                            21490 ; 227  |
                            21491 ; 228  |//; player resource drive refresh allowed only when battery usable % is above this value. 
                            21492 ; 229  |//; 50% of usable range [0.9V to 1.5V] is around 1.2V This is the safe target alkaline voltage to do a refresh.
                            21493 ; 230  |//; LIION will also require 50% which will work but that could be changed in the future. 
                            21494 ; 231  |//RESOURCE_REFRESH_MIN_BATT_PCT equ 50
                            21495 ; 232  |
                            21496 ; 233  |// stmp00005071 adds these for mp3 encode stability at low battery per battery type & mmc presence.
                            21497 ; 234  |
                            21498 ; 235  |//// Vbat threshholds empirically tuned by profiling max bat current for 3 HW cases: 
                            21499 ; 236  |//// 1 GigaByte MMC, NAND flash only, & LiIon Buck mode. See voicemenu pre-encode Vbat check.
                            21500 ; 237  |#if (!defined(CLCD))
                            21501 ; 238  |#define MP3_ENC_MMC_MIN_V_BAT_MV 1100
                            21502 ; 239  |#define MP3_ENC_NANDONLY_MIN_V_BAT_MV 1000
                            21503 ; 240  |#else 
                            21504 ; 241  |#define MP3_ENC_MMC_MIN_V_BAT_MV 1250
                            21505 ; 242  |#define MP3_ENC_NANDONLY_MIN_V_BAT_MV 1150
                            21506 ; 243  |#endif
                            21507 ; 244  |#define MP3_ENC_BUCKMODE_MIN_V_BAT_MV 3300
                            21508 ; 245  |
                            21509 ; 246  |// These Vbat use-range-percentages are derived to correspond with target battery 
                            21510 ; 247  |// voltages of 1.10V for MMC, 1.0V for nand only (alkaline or nimh), and 3.3V for any LiIon.
                            21511 ; 248  |// See mp3 encoder overlay.
                            21512 ; 249  |#define MP3_ENC_MMC_MIN_V_BAT_RANGE_PCT 33
                            21513 ; 250  |#define MP3_ENC_NANDONLY_MIN_V_BAT_RANGE_PCT 17
                            21514 ; 251  |#define MP3_ENC_BUCKMODE_MIN_V_BAT_RANGE_PCT 25
                            21515 ; 252  |
                            21516 ; 253  |/////////////////////////////////////////////////////////////////////////////////
                            21517 ; 254  |// Voice recording filenames
                            21518 ; 255  |// number of digits in filename Vxxx.wav
                            21519 ; 256  |/////////////////////////////////////////////////////////////////////////////////
                            21520 ; 257  |#define DIGITS_IN_VOICE_FILENAME 3   
                            21521 ; 258  |
                            21522 ; 259  |/////////////////////////////////////////////////////////////////////////////////
                            21523 ; 260  |// Mic Bias: Set this enable to 1 to internally generate mic bias voltage. 
                            21524 ; 261  |// Also below, must configure internal resistor value and pin to use for DC bias. 
                            21525 ; 262  |// Can set to 0 to disable internally generated mic bias voltage at pin lradc1/2.
                            21526 ; 263  |#if defined(DEVICE_3500)
                            21527 ; 264  |#define ENABLE_INTERNALLY_GENERATED_MICBIAS 1 
                            21528 ; 265  |// MIC BIAS circuit source selection: use Low Resolution ADC pin 2 or 1 to bias mic. 
                            21529 ; 266  |// Per your layout: select LRADC 2 or 1 below 
                            21530 ; 267  |//   (pin LRADC 2 for 35xx cpu card revB, LRADC 1 for 35xx cpu card revC, ref schematics, & demo player)
                            21531 ; 268  |#define LRADC_NUM_FOR_MIC_BIAS 1 
                            21532 ; 269  |// Sets internal mic bias R to value 2, 4, or 8 (in kOhms).
                            21533 ; 270  |#define MICBIAS_CONFIGURED_RESISTOR_KOHMS 8
                            21534 ; 271  |
                            21535 ; 272  |// Allows mic bias to settle before sampling. This delay currently unused. For rec btn when bias not yet ready.
                            21536 ; 273  |#define REC_BTN_INTERNAL_MIC_BIAS_SETTLING_DELAY_MS 400 
                            21537 ; 274  |// Option always keeps bias enabled after mainmenu init. This allows for start pop prevention if you use rec button from outside voice menu.
                            21538 ; 275  |// This selection costs 1 mWatt but gains the desired low record button to sampling latency in the record-from-music-menu use-case.
                            21539 ; 276  |#define KEEP_MIC_BIAS_ENABLED 0
                            21540 ; 277  |
                            21541 ; 278  |#else 
                            21542 ; 279  |// STMP3410
                            21543 ; 280  |#define ENABLE_INTERNALLY_GENERATED_MICBIAS 0
                            21544 ; 281  |#define LRADC_NUM_FOR_MIC_BIAS 1 
                            21545 ; 282  |#define MICBIAS_CONFIGURED_RESISTOR_KOHMS 2
                            21546 ; 283  |#endif
                            21547 ; 284  |
                            21548 ; 285  |/////////////////////////////////////////////////////////////////////////////////
                            21549 ; 286  |// Number of available soft timers
                            21550 ; 287  |/////////////////////////////////////////////////////////////////////////////////
                            21551 ; 288  |#if defined(SYNC_LYRICS)
                            21552 ; 289  |#define SOFT_TIMERS 10
                            21553 ; 290  |#else 
                            21554 ; 291  |#if defined(JPEG_DECODER)
                            21555 ; 292  |#define SOFT_TIMERS 10
                            21556 ; 293  |#else 
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page  86

M:ADDR CODE           CYCLES LINE SOURCELINE
                            21557 ; 294  |#define SOFT_TIMERS 9
                            21558 ; 295  |#endif
                            21559 ; 296  |#endif
                            21560 ; 297  |
                            21561 ; 298  |/////////////////////////////////////////////////////////////////////////////////
                            21562 ; 299  |//  sizes
                            21563 ; 300  |/////////////////////////////////////////////////////////////////////////////////
                            21564 ; 301  |#if defined(MMC)
                            21565 ; 302  |#if defined(USE_PLAYLIST5)
                            21566 ; 303  |#define MENU_STACK_SIZE 1500
                            21567 ; 304  |#else 
                            21568 ; 305  |#define MENU_STACK_SIZE 1250
                            21569 ; 306  |#endif //if @def('USE_PLAYLIST5')
                            21570 ; 307  |#else 
                            21571 ; 308  |#if defined(USE_PLAYLIST5)
                            21572 ; 309  |#define MENU_STACK_SIZE 1500
                            21573 ; 310  |#else 
                            21574 ; 311  |#define MENU_STACK_SIZE 1250
                            21575 ; 312  |#endif //if @def('USE_PLAYLIST5')
                            21576 ; 313  |#endif //if @def('MMC')
                            21577 ; 314  |
                            21578 ; 315  |// NOTE: SDK2.6 USED 550 FOR NEXT LINE, BUT SDK3.0BETA USED 750. Should it be ifdef MTP 750 else 550 for other builds? TOVERIFY. MYALLOC
                            21579 ; 316  |// 
                            21580 ; 317  |#define STACK_L1_SIZE 750
                            21581 ; 318  |#define STACK_L2_SIZE 100
                            21582 ; 319  |#define STACK_L3_SIZE 160
                            21583 ; 320  |
                            21584 ; 321  |// If we are in MTP mode the overlay task stack can shrink.
                            21585 ; 322  |// TODO shrink this stack for MTP, I will leave it at 500 until we verify that it 
                            21586 ; 323  |// is ok with switching code.
                            21587 ; 324  |#if defined(MTP_BUILD)
                            21588 ; 325  |#define OVERLAY_MANAGER_STACK_SIZE 300
                            21589 ; 326  |#endif
                            21590 ; 327  |
                            21591 ; 328  |/////////////////////////////////////////////////////////////////////////////////
                            21592 ; 329  |// maximum number of nested funclets 
                            21593 ; 330  |/////////////////////////////////////////////////////////////////////////////////
                            21594 ; 331  |#define MAX_NESTED_FUNCLET 6 
                            21595 ; 332  |
                            21596 ; 333  |/////////////////////////////////////////////////////////////////////////////////
                            21597 ; 334  |//    LCD DEFINITIONS
                            21598 ; 335  |/////////////////////////////////////////////////////////////////////////////////
                            21599 ; 336  |
                            21600 ; 337  |#define SPACE_CHAR 0x000020          
                            21601 ; 338  |#define ZERO_CHAR 0x000030
                            21602 ; 339  |#define COLON_CHAR 0x00003A
                            21603 ; 340  |#define PERIOD_CHAR 0x00002E
                            21604 ; 341  |
                            21605 ; 342  |#if (defined(S6B33B0A_LCD))
                            21606 ; 343  |#define LCD_X_SIZE 128
                            21607 ; 344  |#define LCD_Y_SIZE 159
                            21608 ; 345  |#endif
                            21609 ; 346  |
                            21610 ; 347  |#if (defined(SED15XX_LCD))
                            21611 ; 348  |#define LCD_X_SIZE 128
                            21612 ; 349  |#define LCD_Y_SIZE 64
                            21613 ; 350  |#endif
                            21614 ; 351  |
                            21615 ; 352  |
                            21616 ; 353  |//////////////////////////////////////////////////////////////////////////////////
                            21617 ; 354  |//   Details on Customizing Contrast
                            21618 ; 355  |/////////////////////////////////////////////////////////////////////////////////
                            21619 ; 356  |//   Max supported LCD range is 0 - 3F; however due to hardware/voltage differences
                            21620 ; 357  |//   the range of visibility is usually smaller than this.  It is important to 
                            21621 ; 358  |//   calibrate the visible range, because the contrast setting is saved.
                            21622 ; 359  |//   If the user shuts off the player while lcd is not visible, the player is useless
                            21623 ; 360  |//   unless the ezact sequence is remembered.
                            21624 ; 361  |//   To find out what range your player supports: 
                            21625 ; 362  |//   change these equs to full range or comment out (full range is default)
                            21626 ; 363  |//;;;;;;
                            21627 ; 364  |// uncomment the line below to build code that will provide raw contrast value
                            21628 ; 365  |// recommended calibration using player -- uncomment 
                            21629 ; 366  |//;;;;;;
                            21630 ; 367  |//CONTRAST_CALIBRATION    equ  1
                            21631 ; 368  |////////////////////////////
                            21632 ; 369  |#if (defined(DEMO_HW))
                            21633 ; 370  |// this is the setting for ET301 demos; Next 2 line have not been updated for new Shingyi LCD (June6'05)
                            21634 ; 371  |#define LCD_MAX_CONTRAST 0x32 
                            21635 ; 372  |#define LCD_MIN_CONTRAST 0x1E
                            21636 ; 373  |#else 
                            21637 ; 374  |
                            21638 ; 375  |#if (defined(S6B33B0A_LCD))
                            21639 ; 376  |#define LCD_MAX_CONTRAST 210
                            21640 ; 377  |#define LCD_MIN_CONTRAST 160    
                            21641 ; 378  |#endif
                            21642 ; 379  |
                            21643 ; 380  |#if (defined(SED15XX_LCD))
                            21644 ; 381  |// Next 3 line comment was for OLD shingyi LCD: (default LCD before sdk2.6)
                            21645 ; 382  |// Engineering board regs support range [17-37].
                            21646 ; 383  |//   Engineering board DC/DC support range [24-46]. 
                            21647 ; 384  |//   One default contrast range [24-42] works for both.
                            21648 ; 385  |// The 3 sets of contrast ranges below are updated for SDK2.6 to support either 
                            21649 ; 386  |// new or old ShingYih LCDs. "File" refers to \resource\shingyih\system_lcd_init_seq.src
                            21650 ; 387  |// 3/10/05 - Use one of the 2 next contrast ranges depending on which
                            21651 ; 388  |// ShingYih LCD you have.  See \resources\shingyi\readme.txt 
                            21652 ; 389  |// Optimal for NEW LCD with NEW file (SDK2.6 default)  
                            21653 ; 390  |// G098064-41 LCD module (present on engr board revH LCD card)
                            21654 ; 391  |
                            21655 ; 392  |#if (defined(NEWSHINGYIH))
                            21656 ; 393  |#define LCD_MAX_CONTRAST 250
                            21657 ; 394  |#define LCD_MIN_CONTRAST 0
                            21658 ; 395  |#else 
                            21659 ; 396  |//-----
                            21660 ; 397  |// Near optimal for OLD LCD with NEW file. 
                            21661 ; 398  |// NOT optimal for the new lcd but pretty good. So u may use this if u want 1 build for both LCDs.
                            21662 ; 399  |#define LCD_MAX_CONTRAST 250
                            21663 ; 400  |#define LCD_MIN_CONTRAST 0
                            21664 ; 401  |
                            21665 ; 402  |//=====
                            21666 ; 403  |// Optimal for OLD ShingYih LCD with OLD file (as sdk2.521)
                            21667 ; 404  |// Suggest going with default new init file & values above for your LCD instead of this historic ver.
                            21668 ; 405  |//LCD_MAX_CONTRAST equ 42
                            21669 ; 406  |//LCD_MIN_CONTRAST equ 24 
                            21670 ; 407  |
                            21671 ; 408  |#endif
                            21672 ; 409  |#endif
                            21673 ; 410  |
                            21674 ; 411  |#endif
                            21675 ; 412  |
                            21676 ; 413  |//////////////////////////////////////////////////////////////////////////////////
                            21677 ; 414  |// The default value of the lcd contrast in % of range
                            21678 ; 415  |//   the default value is used when no settings.dat is available
                            21679 ; 416  |//////////////////////////////////////////////////////////////////////////////////
                            21680 ; 417  |
                            21681 ; 418  |#if (defined(S6B33B0A_LCD))
                            21682 ; 419  |// 60% of range is default value
                            21683 ; 420  |#define DEFAULT_CONTRAST 50 
                            21684 ; 421  |#endif
                            21685 ; 422  |
                            21686 ; 423  |#if (defined(SED15XX_LCD))
                            21687 ; 424  |// % of range is default value (was 60%)
                            21688 ; 425  |#define DEFAULT_CONTRAST 50 
                            21689 ; 426  |#endif
                            21690 ; 427  |
                            21691 ; 428  |
                            21692 ; 429  |// percentage change per increment/decrement message (LCD_DEC_CONTRAST/LCD_INC_CONTRAST)
                            21693 ; 430  |// make lower when doing calibration
                            21694 ; 431  |#define LCD_STEPSIZE_CONTRAST 10  
                            21695 ; 432  |
                            21696 ; 433  |
                            21697 ; 434  |/////////////////////////////////////////////////////////////////////////////////
                            21698 ; 435  |// For FFWD and RWND
                            21699 ; 436  |/////////////////////////////////////////////////////////////////////////////////
                            21700 ; 437  |#define SECONDS_TO_SKIP 1
                            21701 ; 438  |#define SECONDS_TO_SKIP1 3
                            21702 ; 439  |#define SECONDS_TO_SKIP2 6
                            21703 ; 440  |// number of seconds to cause reset to begin of song for PREV push
                            21704 ; 441  |#define PREV_SONG_THRESHOLD 5  
                            21705 ; 442  |// number of 300 mSec periods before the numbers of seconds to skip increases
                            21706 ; 443  |#define FIRST_TIME_BOUNDARY 15 
                            21707 ; 444  |// number of 300 mSec periods before the numbers of seconds to skip increases
                            21708 ; 445  |#define SECOND_TIME_BOUNDARY 30 
                            21709 ; 446  |
                            21710 ; 447  |// For audible FFW/RWD
                            21711 ; 448  |#define SECONDS_TO_SKIP_FOR_3X_RATE 1
                            21712 ; 449  |#define SECONDS_TO_SKIP_FOR_60X_RATE 18
                            21713 ; 450  |#define SECONDS_TO_SKIP_FOR_600X_RATE 180
                            21714 ; 451  |#define SECONDS_TO_SKIP_FOR_1800X_RATE 540
                            21715 ; 452  |// number of 300 mSec periods before the numbers of seconds to skip increases
                            21716 ; 453  |#define LEVEL1_BOUNDARY 17 
                            21717 ; 454  |// number of 300 mSec periods before the numbers of seconds to skip increases
                            21718 ; 455  |#define LEVEL2_BOUNDARY 33 
                            21719 ; 456  |// number of 300 mSec periods before the numbers of seconds to skip increases
                            21720 ; 457  |#define LEVEL3_BOUNDARY 50 
                            21721 ; 458  |// Stmp00010296 Ticket #71685:  for song shorter than the min. skip size
                            21722 ; 459  |// if song_time < skip_size, bCurrentSongShort=>TRUE (ignore FWD/RWD commands)
                            21723 ; 460  |// Short Song Time, songs too short to play.
                            21724 ; 461  |#define SHORT_SONG_TIME SECONDS_TO_SKIP         
                            21725 ; 462  |
                            21726 ; 463  |/////////////////////////////////////////////////////////////////////////////////
                            21727 ; 464  |// MP3 Sync Values
                            21728 ; 465  |/////////////////////////////////////////////////////////////////////////////////
                            21729 ; 466  |// # bytes to look for sync before marking it bad
                            21730 ; 467  |#define MP3_SYNC_THRESHOLD 70000 
                            21731 ; 468  |// # bytes to look for sync before slowing decoder isr frequency (to let menus run)
                            21732 ; 469  |#define MP3_SYNC_THRESHOLD1 10000 
                            21733 ; 470  |// once we have sync'd, the isr should be called this frequently
                            21734 ; 471  |#define MP3_DECODERISR_FAST 7500  
                            21735 ; 472  |// if decoder is having difficulty syncing, switch isr to be called less frequently
                            21736 ; 473  |#define MP3_DECODERISR_SLOW 50000 
                            21737 ; 474  |
                            21738 ; 475  |
                            21739 ; 476  |/////////////////////////////////////////////////////////////////////////////////
                            21740 ; 477  |//// Multi-Stage Volume Control Definitions
                            21741 ; 478  |/////////////////////////////////////////////////////////////////////////////////
                            21742 ; 479  |//// Use Multi-Stage Volume
                            21743 ; 480  |#define MULTI_STAGE_VOLUME 0x1                  
                            21744 ; 481  |
                            21745 ; 482  |//// Master Volume definitions
                            21746 ; 483  |#define MIX_MSTR_MAX_VOL 0x0
                            21747 ; 484  |#define NUM_MSTR_ATT_STEPS (0x1F-MIX_MSTR_MAX_VOL)
                            21748 ; 485  |
                            21749 ; 486  |//// DAC-Mode definitions
                            21750 ; 487  |//// Adjusts 0dB point
                            21751 ; 488  |#define MIX_DAC_NOM_VOL 0x6                  
                            21752 ; 489  |#define MIX_DAC_MIN_VOL 0x1F
                            21753 ; 490  |// For minimum clipping: Set MIX_DAC_MAX_VOL below to match MIX_DAC_NOM_VOL value 2 lines above.
                            21754 ; 491  |// For additional gain (with possible clipping): Set MIX_DAC_MAX_VOL in range below. 
                            21755 ; 492  |//                                               Each integer below MIX_DAC_NOM_VOL provides 1.5 dB gain on Stmp34x0; 
                            21756 ; 493  |//                                               Max gain possible: 8 step diff would provide +12dB gain.   
                            21757 ; 494  |// range: [0 to MIX_DAC_NOM_VOL] (0 for loudest volume)
                            21758 ; 495  |#define MIX_DAC_MAX_VOL 0x0  
                            21759 ; 496  |
                            21760 ; 497  |#define NUM_DAC_ATT_STEPS (MIX_DAC_MIN_VOL-MIX_DAC_NOM_VOL+1)
                            21761 ; 498  |#define NUM_DAC_GAIN_STEPS (MIX_DAC_NOM_VOL-MIX_DAC_MAX_VOL)
                            21762 ; 499  |#define NUM_DAC_MODE_VOL_STEPS (NUM_DAC_ATT_STEPS+NUM_MSTR_ATT_STEPS+NUM_DAC_GAIN_STEPS+1)
                            21763 ; 500  |
                            21764 ; 501  |//// If there is no stored volume, set to 50% of DAC-Mode max; change if DAC Mode is not the default
                            21765 ; 502  |//// STMP35xx has 2dB attenuation per step so default needs a few more steps above midpoint.
                            21766 ; 503  |#define DEFAULT_VOLUME ((NUM_DAC_MODE_VOL_STEPS/2)+6)         
                            21767 ; 504  |
                            21768 ; 505  |//// Set maximum restored volume to 75% of DAC-Mode max; change if DAC Mode is not the default
                            21769 ; 506  |#define MAX_RESTORED_VOLUME ((3*NUM_DAC_MODE_VOL_STEPS)/4)   
                            21770 ; 507  |
                            21771 ; 508  |
                            21772 ; 509  |//// Line In definitions (used for Line-In 1)
                            21773 ; 510  |//// 0dB point of the Line In
                            21774 ; 511  |#define MIX_LINE_NOM_VOL 0x8                  
                            21775 ; 512  |//// Minimum volume of Line In
                            21776 ; 513  |#define MIX_LINE_MIN_VOL 0x1F                 
                            21777 ; 514  |//// Maximum volume of Line In (can adjust extra gain)
                            21778 ; 515  |#define MIX_LINE_MAX_VOL 0x6                  
                            21779 ; 516  |#define NUM_LINE_ATT_STEPS (MIX_LINE_MIN_VOL-MIX_LINE_NOM_VOL+1)
                            21780 ; 517  |#define NUM_LINE_GAIN_STEPS (MIX_LINE_NOM_VOL-MIX_LINE_MAX_VOL)
                            21781 ; 518  |#define NUM_LINE_MODE_VOL_STEPS (NUM_LINE_ATT_STEPS+NUM_MSTR_ATT_STEPS+NUM_LINE_GAIN_STEPS+1)
                            21782 ; 519  |
                            21783 ; 520  |//// Line In definitions (used for FM tuner with 144 pin package)
                            21784 ; 521  |//// 0dB point of the Line In
                            21785 ; 522  |#define MIX_FM_NOM_VOL 0x8                  
                            21786 ; 523  |//// Minimum volume of Line In
                            21787 ; 524  |#define MIX_FM_MIN_VOL 0x1F                 
                            21788 ; 525  |//// Maximum volume of Line In (can adjust extra gain)
                            21789 ; 526  |#define MIX_FM_MAX_VOL 0x6                  
                            21790 ; 527  |#define NUM_FM_ATT_STEPS (MIX_FM_MIN_VOL-MIX_FM_NOM_VOL+1)
                            21791 ; 528  |#define NUM_FM_GAIN_STEPS (MIX_FM_NOM_VOL-MIX_FM_MAX_VOL)
                            21792 ; 529  |#define NUM_FM_MODE_VOL_STEPS (NUM_FM_ATT_STEPS+NUM_MSTR_ATT_STEPS+NUM_FM_GAIN_STEPS+1)
                            21793 ; 530  |
                            21794 ; 531  |/////////////////////////////////////////////////////////////////////////////////
                            21795 ; 532  |//// When enabled (1), periodically checks for one of several FM state machine invalid deadlock states & recovers. 
                            21796 ; 533  |//// Define as 0 to disable FM-deadlock-state checking and recovery.
                            21797 ; 534  |#define FM_WATCHDOG_ENABLE 1
                            21798 ; 535  |
                            21799 ; 536  |#if !defined(STMP_BUILD_PLAYER)
                            21800 ; 537  |////
                            21801 ; 538  |////! This varible holds the lcd display state for the mtp project.
                            21802 ; 539  |////
                            21803 ; 540  |///
                            21804 ; 541  |#include <types.h>
                            21805 ; 542  |extern volatile WORD g_wActivityState;
                            21806 ; 543  |#endif // if !@def('STMP_BUILD_PLAYER')
                            21807 ; 544  |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page  87

M:ADDR CODE           CYCLES LINE SOURCELINE
                            21808 ; 545  |void _reentrant Init5VSense(void);
                            21809 ; 546  |void _reentrant ServiceDCDC(void);
                            21810 ; 547  |
                            21811 ; 548  |////////////////////////////////////////////////////////////////////////////
                            21812 ; 549  |//// JPEG Thumbnail Mode Setting
                            21813 ; 550  |//// number of column in thumbnail mode
                            21814 ; 551  |#define THUMBNAIL_X 2           
                            21815 ; 552  |//// number of row in  thumbnail mode
                            21816 ; 553  |#define THUMBNAIL_Y 2           
                            21817 ; 554  |//// thumbnail boundary offset x
                            21818 ; 555  |#define THUMBNAIL_X_OFFSET 4            
                            21819 ; 556  |//// thumbnail boundary offset y
                            21820 ; 557  |#define THUMBNAIL_Y_OFFSET 4            
                            21821 ; 558  |
                            21822 ; 559  |#endif // if (!@def(_PROJECT_INC))
                            21823 ; 560  |
                            21824 
                            21826 
                            21827 ; 5    |
                            21828 ; 6    |#include "filesystem.h"
                            21829 
                            21831 
                            21832 ; 1    |////////////////////////////////////////////////////////////////////////////////
                            21833 ; 2    |//  Copyright(C) SigmaTel, Inc. 2001
                            21834 ; 3    |//
                            21835 ; 4    |//  File        : FileSystem.h
                            21836 ; 5    |//  Description : Header File for File System
                            21837 ; 6    |////////////////////////////////////////////////////////////////////////////////
                            21838 ; 7    |
                            21839 ; 8    |#ifndef _FILESYSTEM_H
                            21840 ; 9    |#define _FILESYSTEM_H
                            21841 ; 10   |
                            21842 ; 11   |#include "types.h"
                            21843 
                            21845 
                            21846 ; 1    |////////////////////////////////////////////////////////////////////////////////
                            21847 ; 2    |// Copyright(C) SigmaTel, Inc. 2000-2004
                            21848 ; 3    |//
                            21849 ; 4    |// Filename: types.h
                            21850 ; 5    |// Description: Standard data types
                            21851 ; 6    |////////////////////////////////////////////////////////////////////////////////
                            21852 ; 7    |
                            21853 ; 8    |#ifndef _TYPES_H
                            21854 ; 9    |#define _TYPES_H
                            21855 ; 10   |
                            21856 ; 11   |// TODO:  move this outta here!
                            21857 ; 12   |#if !defined(NOERROR)
                            21858 ; 13   |#define NOERROR 0
                            21859 ; 14   |#define SUCCESS 0
                            21860 ; 15   |#endif 
                            21861 ; 16   |#if !defined(SUCCESS)
                            21862 ; 17   |#define SUCCESS  0
                            21863 ; 18   |#endif
                            21864 ; 19   |#if !defined(ERROR)
                            21865 ; 20   |#define ERROR   -1
                            21866 ; 21   |#endif
                            21867 ; 22   |#if !defined(FALSE)
                            21868 ; 23   |#define FALSE 0
                            21869 ; 24   |#endif
                            21870 ; 25   |#if !defined(TRUE)
                            21871 ; 26   |#define TRUE  1
                            21872 ; 27   |#endif
                            21873 ; 28   |
                            21874 ; 29   |#if !defined(NULL)
                            21875 ; 30   |#define NULL 0
                            21876 ; 31   |#endif
                            21877 ; 32   |
                            21878 ; 33   |#define MAX_INT     0x7FFFFF
                            21879 ; 34   |#define MAX_LONG    0x7FFFFFffffff
                            21880 ; 35   |        // max positive unsigned long value: -1 == 0xFFFFFFffffff
                            21881 ; 36   |#define MAX_ULONG   (-1) 
                            21882 ; 37   |
                            21883 ; 38   |#define WORD_SIZE   24              // word size in bits
                            21884 ; 39   |#define BYTES_PER_WORD 3            // 8 bit bytes
                            21885 ; 40   |
                            21886 ; 41   |
                            21887 ; 42   |#define BYTE    unsigned char       // btVarName
                            21888 ; 43   |#define CHAR    signed char         // cVarName
                            21889 ; 44   |#define USHORT  unsigned short      // usVarName
                            21890 ; 45   |#define SHORT   unsigned short      // sVarName
                            21891 ; 46   |#define WORD    unsigned int        // wVarName
                            21892 ; 47   |#define INT     signed int          // iVarName
                            21893 ; 48   |#define DWORD   unsigned long       // dwVarName
                            21894 ; 49   |#define LONG    signed long         // lVarName
                            21895 ; 50   |#define BOOL    unsigned int        // bVarName
                            21896 ; 51   |#define FRACT   _fract              // frVarName
                            21897 ; 52   |#define LFRACT  long _fract         // lfrVarName
                            21898 ; 53   |#define CIRC    _circ               // cp<type prefix>VarName (see below)
                            21899 ; 54   |#define FLOAT   float               // fVarName
                            21900 ; 55   |#define DBL     double              // dVarName
                            21901 ; 56   |#define ENUM    enum                // eVarName
                            21902 ; 57   |#define CMX     _complex            // cmxVarName
                            21903 ; 58   |typedef WORD UCS3;                   // 
                            21904 ; 59   |
                            21905 ; 60   |#define UINT16  unsigned short
                            21906 ; 61   |#define UINT8   unsigned char   
                            21907 ; 62   |#define UINT32  unsigned long
                            21908 ; 63   |#define UINT64  unsigned long   // need to figure out how to do 64 bit values.  Or port exisiting code to only use 48 bit
                            21909 ; 64   |#define INT64   unsigned long   // need to figure out how to do 64 bit values.  Or port exisiting code to only use 48 bit
                            21910 ; 65   |#define WCHAR   UINT16
                            21911 ; 66   |
                            21912 ; 67   |//UINT128 is 16 bytes or 6 words
                            21913 ; 68   |typedef struct UINT128_3500 {   
                            21914 ; 69   |    int val[6];     
                            21915 ; 70   |} UINT128_3500;
                            21916 ; 71   |
                            21917 ; 72   |#define UINT128   UINT128_3500
                            21918 ; 73   |
                            21919 ; 74   |// Little endian word packed byte strings:   
                            21920 ; 75   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                            21921 ; 76   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                            21922 ; 77   |// Little endian word packed byte strings:   
                            21923 ; 78   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                            21924 ; 79   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                            21925 ; 80   |
                            21926 ; 81   |// Declare Memory Spaces To Use When Coding
                            21927 ; 82   |// A. Sector Buffers
                            21928 ; 83   |#define SECTOR_BUFFER_MEM_X _X
                            21929 ; 84   |#define SECTOR_BUFFER_MEM_Y _Y
                            21930 ; 85   |#define SECTOR_BUFFER_MEM SECTOR_BUFFER_MEM_X
                            21931 ; 86   |typedef WORD SECTOR_BUFFER_MEM SECTOR_BUFFER;
                            21932 ; 87   |typedef SECTOR_BUFFER * P_SECTOR_BUFFER;
                            21933 ; 88   |// B. Media DDI Memory
                            21934 ; 89   |#define MEDIA_DDI_MEM _Y
                            21935 ; 90   |
                            21936 ; 91   |
                            21937 ; 92   |
                            21938 ; 93   |// Pointers to linear structures are labeled as: p<type prefix>VarName
                            21939 ; 94   |// Examples of circular pointers:
                            21940 ; 95   |//    INT CIRC cpiVarName
                            21941 ; 96   |//    DWORD CIRC cpdwVarName
                            21942 ; 97   |
                            21943 ; 98   |#define RETCODE INT                 // rcVarName
                            21944 ; 99   |
                            21945 ; 100  |// generic bitfield structure
                            21946 ; 101  |struct Bitfield {
                            21947 ; 102  |    unsigned int B0  :1;
                            21948 ; 103  |    unsigned int B1  :1;
                            21949 ; 104  |    unsigned int B2  :1;
                            21950 ; 105  |    unsigned int B3  :1;
                            21951 ; 106  |    unsigned int B4  :1;
                            21952 ; 107  |    unsigned int B5  :1;
                            21953 ; 108  |    unsigned int B6  :1;
                            21954 ; 109  |    unsigned int B7  :1;
                            21955 ; 110  |    unsigned int B8  :1;
                            21956 ; 111  |    unsigned int B9  :1;
                            21957 ; 112  |    unsigned int B10 :1;
                            21958 ; 113  |    unsigned int B11 :1;
                            21959 ; 114  |    unsigned int B12 :1;
                            21960 ; 115  |    unsigned int B13 :1;
                            21961 ; 116  |    unsigned int B14 :1;
                            21962 ; 117  |    unsigned int B15 :1;
                            21963 ; 118  |    unsigned int B16 :1;
                            21964 ; 119  |    unsigned int B17 :1;
                            21965 ; 120  |    unsigned int B18 :1;
                            21966 ; 121  |    unsigned int B19 :1;
                            21967 ; 122  |    unsigned int B20 :1;
                            21968 ; 123  |    unsigned int B21 :1;
                            21969 ; 124  |    unsigned int B22 :1;
                            21970 ; 125  |    unsigned int B23 :1;
                            21971 ; 126  |};
                            21972 ; 127  |
                            21973 ; 128  |union BitInt {
                            21974 ; 129  |        struct Bitfield B;
                            21975 ; 130  |        int        I;
                            21976 ; 131  |};
                            21977 ; 132  |
                            21978 ; 133  |#define MAX_MSG_LENGTH 10
                            21979 ; 134  |struct CMessage
                            21980 ; 135  |{
                            21981 ; 136  |        unsigned int m_uLength;
                            21982 ; 137  |        unsigned int m_uMsg[MAX_MSG_LENGTH];
                            21983 ; 138  |};
                            21984 ; 139  |
                            21985 ; 140  |typedef struct {
                            21986 ; 141  |    WORD m_wLength;
                            21987 ; 142  |    WORD m_wMessage;
                            21988 ; 143  |    WORD m_wParams[MAX_MSG_LENGTH];
                            21989 ; 144  |} Message;
                            21990 ; 145  |
                            21991 ; 146  |struct MessageQueueDescriptor
                            21992 ; 147  |{
                            21993 ; 148  |        int *m_pBase;
                            21994 ; 149  |        int m_iModulo;
                            21995 ; 150  |        int m_iSize;
                            21996 ; 151  |        int *m_pHead;
                            21997 ; 152  |        int *m_pTail;
                            21998 ; 153  |};
                            21999 ; 154  |
                            22000 ; 155  |struct ModuleEntry
                            22001 ; 156  |{
                            22002 ; 157  |    int m_iSignaledEventMask;
                            22003 ; 158  |    int m_iWaitEventMask;
                            22004 ; 159  |    int m_iResourceOfCode;
                            22005 ; 160  |    struct MessageQueueDescriptor *m_pMessageQueue;
                            22006 ; 161  |    int _asmfunc (*m_pProcessEntryPoint)(union WaitMask Signals,struct MessageQueueDescriptor *);
                            22007 ; 162  |    int _asmfunc (*m_pInitFunction)(struct MessageQueueDescriptor *);
                            22008 ; 163  |    int m_uTimeOutHigh;
                            22009 ; 164  |    int m_uTimeOutLow;
                            22010 ; 165  |    int _asmfunc (*m_pBackgroundFunction)(struct MessageQueueDescriptor *);
                            22011 ; 166  |};
                            22012 ; 167  |
                            22013 ; 168  |union WaitMask{
                            22014 ; 169  |    struct B{
                            22015 ; 170  |        unsigned int m_bNone     :1;
                            22016 ; 171  |        unsigned int m_bMessage  :1;
                            22017 ; 172  |        unsigned int m_bTimer    :1;
                            22018 ; 173  |        unsigned int m_bButton   :1;
                            22019 ; 174  |    } B;
                            22020 ; 175  |    int I;
                            22021 ; 176  |} ;
                            22022 ; 177  |
                            22023 ; 178  |
                            22024 ; 179  |struct Button {
                            22025 ; 180  |        WORD wButtonEvent;
                            22026 ; 181  |        WORD wUnused[MAX_MSG_LENGTH];   
                            22027 ; 182  |};
                            22028 ; 183  |
                            22029 ; 184  |struct Message {
                            22030 ; 185  |        WORD wMsgLength;
                            22031 ; 186  |        WORD wMsgCommand;
                            22032 ; 187  |        WORD wMsgParms[MAX_MSG_LENGTH-1];
                            22033 ; 188  |};
                            22034 ; 189  |
                            22035 ; 190  |union EventTypes {
                            22036 ; 191  |        struct CMessage msg;
                            22037 ; 192  |        struct Button Button ;
                            22038 ; 193  |        struct Message Message;
                            22039 ; 194  |};
                            22040 ; 195  |
                            22041 ; 196  |// next 2 used to get updater build to return correct protocol ver in scsi response.
                            22042 ; 197  |#define BUILD_TYPE_UPDATER  0x100
                            22043 ; 198  |#define BUILD_TYPE_HOSTLINK 0x101
                            22044 ; 199  |#define BUILD_TYPE_PLAYER   0x102
                            22045 ; 200  |
                            22046 ; 201  |// Resets part if RETAIL build. DEBUG build executes debug instruction to halt.
                            22047 ; 202  |#define SystemHalt() __asm(" include 'sysmacro.asm' \n error") 
                            22048 ; 203  |#define assert(x)    if(!(x)) __asm(" include 'sysmacro.asm' \n error")
                            22049 ; 204  |
                            22050 ; 205  |#if DEBUG
                            22051 ; 206  |// For DEBUG builds, DebugBuildAssert(condition) halts if condition evaluates to FALSE. 
                            22052 ; 207  |#define DebugBuildAssert(x)    if(!(x)) __asm(" debug ")
                            22053 ; 208  |#else 
                            22054 ; 209  |// For RETAIL builds, DebugBuildAssert(condition) does nothing & execution continues rather than halt or reset. 
                            22055 ; 210  |#define DebugBuildAssert(x)    
                            22056 ; 211  |#endif
                            22057 ; 212  |
                            22058 ; 213  |// Do this in your C files to make a reminder that's displayed during the build.
                            22059 ; 214  |//  #pragma asm
                            22060 ; 215  |//  WARN 'Note to builder: reminder to do this after verifying that'
                            22061 ; 216  |//  #pragma endasm
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page  88

M:ADDR CODE           CYCLES LINE SOURCELINE
                            22062 ; 217  |
                            22063 ; 218  |
                            22064 ; 219  |#ifdef COLOR_262K
                            22065 ; 220  |#define RGB(r,g,b)    ((0x0000FC & (r)) << 10) | ((0x0000FC & (g)) << 4) | ((0x0000FC & (b)) >> 2)    //262k
                            22066 ; 221  |#elif defined(COLOR_65K)
                            22067 ; 222  |#define RGB(r,g,b)    ((0x0000F8 & (r)) << 8) | ((0x0000FC & (g)) << 3) | ((0x0000F8 & (b)) >> 3)  //65k
                            22068 ; 223  |#else
                            22069 ; 224  |#define RGB(r,g,b)       ((0x0000F0 & (r)) << 4) | (0x0000F0 & (g)) | ((0x0000F0 & (b)) >> 4)
                            22070 ; 225  |#endif
                            22071 ; 226  |    
                            22072 ; 227  |#endif // #ifndef _TYPES_H
                            22073 
                            22075 
                            22076 ; 12   |
                            22077 ; 13   |
                            22078 ; 14   |// File attributes
                            22079 ; 15   |#ifndef _FS_ATTRIBUTES
                            22080 ; 16   |#define _FS_ATTRIBUTES
                            22081 ; 17   |#define READ        1
                            22082 ; 18   |#define WRITE       2
                            22083 ; 19   |#define WRITE_PLUS  3
                            22084 ; 20   |#define APPEND      4
                            22085 ; 21   |#define TRUNCATE    8
                            22086 ; 22   |#define CREATE      16
                            22087 ; 23   |#endif
                            22088 ; 24   |
                            22089 ; 25   |//#ifndef FAT12
                            22090 ; 26   |//#define FAT12   1
                            22091 ; 27   |//#endif
                            22092 ; 28   |//
                            22093 ; 29   |#ifndef FAT16
                            22094 ; 30   |#define FAT16   2
                            22095 ; 31   |#endif
                            22096 ; 32   |
                            22097 ; 33   |#define MEM_SPACE_P 0x100000
                            22098 ; 34   |#define MEM_SPACE_Y 0x400000
                            22099 ; 35   |#define MEM_SPACE_X 0x800000
                            22100 ; 36   |
                            22101 ; 37   |#define FILE_SYS_MODE_READ  0
                            22102 ; 38   |#define FILE_SYS_MODE_WRITE 1
                            22103 ; 39   | 
                            22104 ; 40   |#define ATTR_READ_ONLY      0x01
                            22105 ; 41   |#define ATTR_HIDDEN         0x02
                            22106 ; 42   |#define ATTR_SYSTEM         0x04
                            22107 ; 43   |#define ATTR_VOLUME_ID      0x08
                            22108 ; 44   |#define ATTR_DIRECTORY      0x10
                            22109 ; 45   |#define ATTR_ARCHIVE        0x20
                            22110 ; 46   |#define ATTR_LONG_NAME      ATTR_READ_ONLY|ATTR_HIDDEN|ATTR_SYSTEM|ATTR_VOLUME_ID
                            22111 ; 47   |
                            22112 ; 48   |#define SEEK_SET           -1
                            22113 ; 49   |#define SEEK_CUR            0
                            22114 ; 50   |#define SEEK_END            1
                            22115 ; 51   |
                            22116 ; 52   |#define DEVICE_INSTALLED              (WORD)(0)
                            22117 ; 53   |#define DEVICE_NOT_FOUND              (WORD)(2)
                            22118 ; 54   |#define INVALID_FILESYSTEM                        (WORD)(3)
                            22119 ; 55   |#define DEVICE_INVALID                (WORD)(-1)
                            22120 ; 56   |#define DEVICE_ERROR_WRITE_PROTECTED  (WORD)(-2)
                            22121 ; 57   |
                            22122 ; 58   |#define MEDIA_SIZE_TOTAL_SECTORS    0
                            22123 ; 59   |#define MEDIA_SIZE_TOTAL_BYTES      1
                            22124 ; 60   |#define MEDIA_SIZE_BYTES_PER_SECTOR 2
                            22125 ; 61   |#define MEDIA_SIZE_IN_MEGABYTES     3     
                            22126 ; 62   |
                            22127 ; 63   |#define READ_TYPE_NORMAL            0
                            22128 ; 64   |#define READ_TYPE_FAT               1
                            22129 ; 65   |#define READ_TYPE_RAW               2
                            22130 ; 66   |
                            22131 ; 67   |
                            22132 ; 68   |#ifdef MEDIA_DDI_PARTIAL_SEQ_ENABLE
                            22133 ; 69   |    #define WRITE_TYPE_RANDOM                   0
                            22134 ; 70   |    #define WRITE_TYPE_SEQ_FIRST                1
                            22135 ; 71   |    #define WRITE_TYPE_SEQ_NEXT                 2
                            22136 ; 72   |    #define WRITE_TYPE_RESET_CLEAN_UP           3
                            22137 ; 73   |    #define WRITE_TYPE_PARTIAL_SEQ_FIRST        4
                            22138 ; 74   |    #define WRITE_TYPE_PARTIAL_SEQ_NEXT         5
                            22139 ; 75   |    #define WRITE_TYPE_PARTIAL_SEQ_LAST         6
                            22140 ; 76   |    #ifdef MEDIA_DDI_RAW_SECTOR_SERVER_ENABLE
                            22141 ; 77   |        #define WRITE_TYPE_RANDOM_RAW               7
                            22142 ; 78   |        #define WRITE_TYPE_SEQ_FIRST_RAW            8
                            22143 ; 79   |        #define WRITE_TYPE_SEQ_NEXT_RAW             9
                            22144 ; 80   |        #define WRITE_TYPE_PARTIAL_SEQ_FIRST_RAW    10
                            22145 ; 81   |        #define WRITE_TYPE_PARTIAL_SEQ_NEXT_RAW     11
                            22146 ; 82   |        #define WRITE_TYPE_PARTIAL_SEQ_LAST_RAW     12
                            22147 ; 83   |    #endif
                            22148 ; 84   |#else
                            22149 ; 85   |    #define WRITE_TYPE_RANDOM                   0
                            22150 ; 86   |    #define WRITE_TYPE_SEQ_FIRST                1
                            22151 ; 87   |    #define WRITE_TYPE_SEQ_NEXT                 2
                            22152 ; 88   |    #ifdef MEDIA_DDI_RAW_SECTOR_SERVER_ENABLE
                            22153 ; 89   |        #define WRITE_TYPE_RANDOM_RAW               3
                            22154 ; 90   |        #define WRITE_TYPE_SEQ_FIRST_RAW            4
                            22155 ; 91   |        #define WRITE_TYPE_SEQ_NEXT_RAW             5
                            22156 ; 92   |    #endif
                            22157 ; 93   |#endif
                            22158 ; 94   |    #define WRITE_TYPE_UNDEFINED 0xFFFFFF
                            22159 ; 95   |
                            22160 ; 96   |
                            22161 ; 97   |#ifndef MAX_FILENAME_LENGTH
                            22162 ; 98   |#define MAX_FILENAME_LENGTH 256
                            22163 ; 99   |#endif
                            22164 ; 100  |
                            22165 ; 101  |typedef struct {
                            22166 ; 102  |    WORD wNumberOfZones;
                            22167 ; 103  |    WORD wSizeInMegaBytes;
                            22168 ; 104  |} SMARTMEDIA_CHIP_INFO;
                            22169 ; 105  |
                            22170 ; 106  |typedef struct {
                            22171 ; 107  |    WORD wBootIdentification;
                            22172 ; 108  |    WORD wStartHeadNumber;
                            22173 ; 109  |    WORD wStartSectorNumber;
                            22174 ; 110  |    WORD wStartCylinderNumber;
                            22175 ; 111  |    WORD wSystemIdentification;
                            22176 ; 112  |    WORD wEndHeadNumber;
                            22177 ; 113  |    WORD wEndSectorNumber;
                            22178 ; 114  |    WORD wEndCylinderNumber;
                            22179 ; 115  |    WORD wStartLogicalSectorNumberHigh;
                            22180 ; 116  |    WORD wStartLogicalSectorNumberLow;
                            22181 ; 117  |    WORD wPartitionSizeHigh;
                            22182 ; 118  |    WORD wPartitionSizeLow;
                            22183 ; 119  |} SMARTMEDIA_PARTITION_TABLE;
                            22184 ; 120  |
                            22185 ; 121  |typedef struct {
                            22186 ; 122  |    WORD wWord0;
                            22187 ; 123  |    WORD wWord1;
                            22188 ; 124  |    WORD wWord2;
                            22189 ; 125  |} SMARTMEDIA_CIS_IDI_MANUFACTURER_NAME;
                            22190 ; 126  |
                            22191 ; 127  |typedef struct {
                            22192 ; 128  |    WORD wWord0;
                            22193 ; 129  |    WORD wWord1;
                            22194 ; 130  |} SMARTMEDIA_CIS_IDI_PRODUCT_NAME;
                            22195 ; 131  |
                            22196 ; 132  |typedef struct {
                            22197 ; 133  |    WORD wWord0;
                            22198 ; 134  |    WORD wWord1;
                            22199 ; 135  |} SMARTMEDIA_CIS_IDI_PRODUCT_VERSION;
                            22200 ; 136  |
                            22201 ; 137  |typedef struct {
                            22202 ; 138  |    WORD wWord0;
                            22203 ; 139  |    WORD wWord1;
                            22204 ; 140  |    WORD wWord2;
                            22205 ; 141  |    WORD wWord3;
                            22206 ; 142  |} SMARTMEDIA_CIS_IDI_SERIAL_NUMBER;
                            22207 ; 143  |
                            22208 ; 144  |typedef struct {
                            22209 ; 145  |    WORD wWord0;
                            22210 ; 146  |} SMARTMEDIA_CIS_IDI_MODEL_NUMBER;
                            22211 
                            22234 
                            22235 ; 147  |
                            22236 ; 148  |typedef struct {
                            22237 ; 149  |    SMARTMEDIA_CIS_IDI_MANUFACTURER_NAME ManufacturerName;
                            22238 ; 150  |    SMARTMEDIA_CIS_IDI_PRODUCT_NAME ProductName;
                            22239 ; 151  |    SMARTMEDIA_CIS_IDI_PRODUCT_VERSION ProductVersion;
                            22240 ; 152  |    SMARTMEDIA_CIS_IDI_SERIAL_NUMBER SerialNumber;
                            22241 ; 153  |    SMARTMEDIA_CIS_IDI_MODEL_NUMBER ModelNumber;
                            22242 ; 154  |} SMARTMEDIA_CIS_IDI_TABLE;
                            22243 
                            22265 
                            22266 ; 155  |   
                            22267 ; 156  |typedef struct {
                            22268 ; 157  |    WORD wPageSizeInBytes;
                            22269 ; 158  |    WORD wRedundantAreaSizeInBytes;
                            22270 ; 159  |    WORD wNumberOfPagesPerBlock;
                            22271 ; 160  |    WORD wNumberOfBlocksPerZone;
                            22272 ; 161  |    WORD wNumberOfZonesInMedia;
                            22273 ; 162  |    WORD wMediaSizeInMBytes;
                            22274 ; 163  |    SMARTMEDIA_PARTITION_TABLE * pPartitionTable;
                            22275 ; 164  |    SMARTMEDIA_CIS_IDI_TABLE * pCisIdiTable;
                            22276 ; 165  |    WORD wMediaFlagStatus;
                            22277 ; 166  |    WORD wNumberOfBlocksToTheCisIdiBlock;
                            22278 ; 167  |    WORD wTotalNumberOfPhysicalBlocks;
                            22279 ; 168  |    WORD wNumberOfSystemBlocks;
                            22280 ; 169  |} SMARTMEDIA_ENTRY_TABLE;
                            22281 ; 170  |
                            22282 ; 171  |typedef struct {
                            22283 ; 172  |    WORD wDevice;        
                            22284 ; 173  |    WORD wDirtyBlockFlag;
                            22285 ; 174  |    WORD wCleanTailFlag; 
                            22286 ; 175  |    WORD wLogDOSPage;    
                            22287 ; 176  |    WORD wSrcLogBlock;   
                            22288 ; 177  |    WORD wSrcPhyBlock;   
                            22289 ; 178  |    WORD wDestPhyBlock;  
                            22290 ; 179  |    WORD wStartSrcPage;  
                            22291 ; 180  |    WORD wStartDestPage; 
                            22292 ; 181  |    WORD wPagesToCopy;   
                            22293 ; 182  |    WORD wReplaceBuff;   
                            22294 ; 183  |    WORD wReplaceRdnt;
                            22295 ; 184  |    #ifdef MEDIA_DDI_PARTIAL_SEQ_ENABLE
                            22296 ; 185  |        WORD wFirstCount;
                            22297 ; 186  |        WORD wNextCount;
                            22298 ; 187  |        WORD wLastCount;
                            22299 ; 188  |    #endif
                            22300 ; 189  |} SMARTMEDIA_FWPPS_TABLE;
                            22301 ; 190  |
                            22302 ; 191  |typedef struct {
                            22303 ; 192  |    WORD wWord0;
                            22304 ; 193  |    WORD wWord1;
                            22305 ; 194  |    WORD wWord2;
                            22306 ; 195  |    WORD wWord3;
                            22307 ; 196  |} DIRECTORY_NAME;
                            22308 ; 197  |
                            22309 ; 198  |typedef struct {
                            22310 ; 199  |    WORD wWord0;
                            22311 ; 200  |    WORD wWord1;
                            22312 ; 201  |} DIRECTORY_EXTENSION;
                            22313 ; 202  |
                            22314 ; 203  |typedef struct {
                            22315 ; 204  |    WORD wWord0;
                            22316 ; 205  |    WORD wWord1;
                            22317 ; 206  |} DIRECTORY_SIZE;
                            22318 
                            22333 
                            22334 ; 207  |
                            22335 ; 208  |typedef struct {
                            22336 ; 209  |    DIRECTORY_NAME Name;
                            22337 ; 210  |    DIRECTORY_EXTENSION Extension;
                            22338 ; 211  |    WORD wAttribute;
                            22339 ; 212  |    WORD wReserved[4];
                            22340 ; 213  |    WORD wCreationTime;
                            22341 ; 214  |    WORD wCreationData;
                            22342 ; 215  |    WORD wFirstCluster;
                            22343 ; 216  |    DIRECTORY_SIZE Size;
                            22344 ; 217  |    WORD wCurrentCluster;
                            22345 ; 218  |    WORD wPointer;
                            22346 ; 219  |    WORD wRecord;
                            22347 ; 220  |    WORD wRd;
                            22348 ; 221  |} DIRECTORY_FILE_CONTROL_BLOCK;
                            22349 ; 222  |
                            22350 ; 223  |// TODO:  clean this up.  There are two versions.
                            22351 ; 224  |struct FCB
                            22352 ; 225  |{
                            22353 ; 226  |    _packed BYTE m_szFileName[9];       //0-2
                            22354 ; 227  |    int     m_wReserved;                //3
                            22355 ; 228  |    _packed BYTE m_szExt[4];            //4-5
                            22356 ; 229  |    int     m_wAttributes;              //6
                            22357 ; 230  |    int     m_wReserved2[4];            //7,8,9,a
                            22358 ; 231  |    int     m_wTimeofCreation;          //b
                            22359 ; 232  |    int     m_wDateofCreation;          //c
                            22360 ; 233  |    int     m_wFirstCluster;            //d
                            22361 ; 234  |    int     m_wFileSizeHigh;            //e
                            22362 ; 235  |    int     m_wFileSizeLow;             //f
                            22363 ; 236  |};
                            22364 
                            22380 
                            22381 ; 237  |
                            22382 ; 238  |
                            22383 ; 239  |typedef struct {
                            22384 ; 240  |    WORD wFirstClusterCurrentDirectory;
                            22385 ; 241  |    WORD wFirstClusterParentDirectory;
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page  89

M:ADDR CODE           CYCLES LINE SOURCELINE
                            22386 ; 242  |    WORD wAbsSectorCurrentlyCached;
                            22387 ; 243  |    WORD wCurrentRelativeSector;
                            22388 ; 244  |    WORD wNumberOfSectors;
                            22389 ; 245  |    WORD wCurrentRecordLoadedInDcb;
                            22390 ; 246  |    WORD wBufferedRecord;
                            22391 ; 247  |    WORD wMaxNumberRecordsCurrentDirectory;
                            22392 ; 248  |    WORD * pwPointerToBuffer;
                            22393 ; 249  |    WORD * pwPointerToPath;
                            22394 ; 250  |    DIRECTORY_FILE_CONTROL_BLOCK * pDirFcb;
                            22395 ; 251  |} DIRECTORY_CONTROL_BLOCK;
                            22396 ; 252  |
                            22397 ; 253  |typedef struct {
                            22398 ; 254  |    WORD wWord0;
                            22399 ; 255  |    WORD wWord1;
                            22400 ; 256  |    WORD wWord2;
                            22401 ; 257  |    WORD wWord3;
                            22402 ; 258  |} FILE_NAME;
                            22403 ; 259  |
                            22404 ; 260  |typedef struct {
                            22405 ; 261  |    WORD wWord0;
                            22406 ; 262  |    WORD wWord1;
                            22407 ; 263  |} FILE_EXTENSION;
                            22408 ; 264  |
                            22409 ; 265  |typedef struct {
                            22410 ; 266  |    WORD wWord0;
                            22411 ; 267  |    WORD wWord1;
                            22412 ; 268  |} FILE_SIZE;
                            22413 ; 269  |
                            22414 ; 270  |typedef union {
                            22415 ; 271  |    struct {
                            22416 ; 272  |        int Read        :1;
                            22417 ; 273  |        int Write       :1;
                            22418 ; 274  |        int Append      :1;
                            22419 ; 275  |        int Truncate    :1;
                            22420 ; 276  |        int Create      :1;
                            22421 ; 277  |        int Rsrv        :3;
                            22422 ; 278  |        int Mode        :8;
                            22423 ; 279  |        int Device      :8;
                            22424 ; 280  |    } B;
                            22425 ; 281  |    int I;
                            22426 ; 282  |} FILE_FLAGS;
                            22427 ; 283  |
                            22428 ; 284  |typedef struct {
                            22429 ; 285  |    WORD wWord0;
                            22430 ; 286  |    WORD wWord1;
                            22431 ; 287  |} FILE_BYTE_CURRENT;
                            22432 
                            22472 
                            22473 ; 288  |
                            22474 ; 289  |typedef struct {
                            22475 ; 290  |    FILE_NAME Name;
                            22476 ; 291  |    FILE_EXTENSION Extension;
                            22477 ; 292  |    WORD wAttributes;
                            22478 ; 293  |    WORD wReserved[4];
                            22479 ; 294  |    WORD wCreationTime;
                            22480 ; 295  |    WORD wCreationData;
                            22481 ; 296  |    WORD wFirstCluster;
                            22482 ; 297  |    FILE_SIZE Size;
                            22483 ; 298  |    WORD wCurrentCluster;
                            22484 ; 299  |    WORD wPointer;
                            22485 ; 300  |    WORD wRecord;
                            22486 ; 301  |    WORD wRd;
                            22487 ; 302  |    FILE_FLAGS Flags;
                            22488 ; 303  |    FILE_BYTE_CURRENT FcbByteCurrent;
                            22489 ; 304  |    WORD wFcbFlagEndOfCx;
                            22490 ; 305  |} FILE_CONTROL_BLOCK;    
                            22491 ; 306  |
                            22492 ; 307  |typedef struct {
                            22493 ; 308  |    WORD wWord0;
                            22494 ; 309  |    WORD wWord1;
                            22495 ; 310  |    WORD wWord2;
                            22496 ; 311  |    WORD wWord3;
                            22497 ; 312  |} VOLUME_LABEL;
                            22498 ; 313  |
                            22499 ; 314  |typedef struct {
                            22500 ; 315  |    WORD wFATPhysicalBlock1;
                            22501 ; 316  |    WORD wFATPhysicalBlock2;
                            22502 ; 317  |    WORD wFATPhysicalBlock3;
                            22503 ; 318  |    WORD wFATPhysicalBlock4;
                            22504 ; 319  |} FAT_PHYSICAL_BLOCK_LIST;
                            22505 
                            22512 
                            22513 ; 320  |
                            22514 ; 321  |typedef struct {
                            22515 ; 322  |    WORD wFATSectorInCache;
                            22516 ; 323  |    WORD wLastClusterFree;
                            22517 ; 324  |    WORD wNumberOfUsedClusters;
                            22518 ; 325  |    WORD wNumberOfFreeClusters;
                            22519 ; 326  |    WORD wNumberOfBadClusters;
                            22520 ; 327  |    WORD wNumberOfReservedClusters;
                            22521 ; 328  |    WORD wControl;
                            22522 ; 329  |    WORD * pwSectorCache;
                            22523 ; 330  |    FAT_PHYSICAL_BLOCK_LIST FATPhysicalLocationList;
                            22524 ; 331  |} FAT_TABLE;
                            22525 
                            22532 
                            22533 ; 332  |
                            22534 ; 333  |typedef struct {
                            22535 ; 334  |    WORD wStateMediaTable;
                            22536 ; 335  |    WORD wTypeFs;
                            22537 ; 336  |    WORD wBytesPerSector;
                            22538 ; 337  |    WORD wSectorsPerCluster;
                            22539 ; 338  |    WORD wNumberOfReservedSectors;
                            22540 ; 339  |    WORD wMaximumNumberOfFATs;
                            22541 ; 340  |    WORD wMaxRootDirectoryEntries;
                            22542 ; 341  |    WORD wTotalSectors;
                            22543 ; 342  |    WORD wNumberOfFATSectors;
                            22544 ; 343  |    WORD wNumberOfSectorsPerTrack;
                            22545 ; 344  |    WORD wNumberOfHeads;
                            22546 ; 345  |    WORD wNumberOfHiddenSectorsMSB;
                            22547 ; 346  |    WORD wNumberOfHiddenSectorsLSB;
                            22548 ; 347  |    WORD wTotalSectors32MSB;
                            22549 ; 348  |    WORD wTotalSectors32LSB;
                            22550 ; 349  |    WORD wDriverNumber;
                            22551 ; 350  |    WORD wExtendedBootSignature;
                            22552 ; 351  |    WORD wVolumeIDMSB;
                            22553 ; 352  |    WORD wVolumeIDLSB;
                            22554 ; 353  |    VOLUME_LABEL VolumeLabel;
                            22555 ; 354  |    WORD * pwWriteBuffer;
                            22556 ; 355  |    WORD wPrimaryFATRelativeSector;
                            22557 ; 356  |    WORD wSecondaryFATRelativeSector;
                            22558 ; 357  |    WORD wRootDirectoryRelativeSector;
                            22559 ; 358  |    WORD wFirstSectorNumberDataZone;
                            22560 ; 359  |    WORD wMaxNumberOfFATEntries;
                            22561 ; 360  |    WORD wRootDirectorySizeInSectors;
                            22562 ; 361  |    WORD wDataAreaSizeInSectors;
                            22563 ; 362  |} MEDIA_TABLE;
                            22564 
                            22623 
                            22624 ; 363  |
                            22625 ; 364  |typedef struct {
                            22626 ; 365  |    MEDIA_TABLE * pMediaTable;
                            22627 ; 366  |    DIRECTORY_CONTROL_BLOCK * pDirectoryControlBlock;
                            22628 ; 367  |    FAT_TABLE * pFATTable;
                            22629 ; 368  |} DEVICE_CONTROL_TABLE;
                            22630 ; 369  |    
                            22631 ; 370  |typedef struct {
                            22632 ; 371  |    WORD dwTotalSizeInMegaBytes;        // dwTotalSizeInMegaBytes is limited
                            22633 ; 372  |                                        //  to 2-bytes for compatibility with
                            22634 ; 373  |                                        //  older host drivers.
                            22635 ; 374  |    DWORD dwTotalNumberOfSectors;
                            22636 ; 375  |    DWORD dwTotalNumberOfBytes;
                            22637 ; 376  |    WORD wSectorSizeInBytes;
                            22638 ; 377  |} MEDIA_SIZE;
                            22639 ; 378  |
                            22640 ; 379  |typedef struct {
                            22641 ; 380  |    BOOL    bInstalled;
                            22642 ; 381  |    INT     iPbsSectorOffset;   // from the beginning of the data drive 
                            22643 ; 382  |    DWORD   dwSize;
                            22644 ; 383  |} DATA_DRIVE_PBS_LOC;
                            22645 ; 384  |extern  INT _reentrant FSFileOpen(_packed BYTE *fname,INT attribute, INT DeviceNumber);
                            22646 ; 385  |extern  INT _reentrant FSFastOpen(DWORD Key, INT attribute);
                            22647 ; 386  |extern  INT FSFileDelete(_packed BYTE *fname,INT DeviceNumber);
                            22648 ; 387  |extern  INT FSFileCreate(_packed BYTE *fname,INT DeviceNumber);
                            22649 ; 388  |extern  INT _reentrant FSChangeDir(_packed BYTE *dirname,INT DeviceNumber);
                            22650 ; 389  |extern  INT _reentrant FSCreateDir(_packed BYTE *dirname,INT DeviceNumber);
                            22651 ; 390  |extern  INT _reentrant FSDeleteDir(_packed BYTE *dirname,INT DeviceNumber);
                            22652 ; 391  |extern  INT _reentrant FSFileAppend(_packed BYTE *fname,INT DeviceNumber);
                            22653 ; 392  |extern  INT _reentrant FSFileRead(INT BytestoRead, INT Handle, INT memory_type, INT modulo, WORD *buffer);
                            22654 ; 393  |extern  INT _reentrant FSFileWrite(INT wNumberBytes, INT Handle, INT memory_type, INT iModulo, WORD *buffer);
                            22655 ; 394  |extern  INT _reentrant FSFileClose(INT Handle);
                            22656 ; 395  |extern  LONG _reentrant FSFileSize(INT HandleNumber);
                            22657 ; 396  |extern  LONG  FSSize(INT DeviceNum, INT TYPE);   
                            22658 ; 397  |extern  INT FSFreeClusters(INT Device);
                            22659 ; 398  |extern  INT BytesPerCluster(INT Device);
                            22660 ; 399  |
                            22661 ; 400  |
                            22662 ; 401  |
                            22663 ; 402  |//extern  INT FSFileCreate(_packed BYTE *pbFileName, BYTE bDevice);
                            22664 ; 403  |//extern  INT FSFileDelete(_packed BYTE *pbFileName, BYTE bDevice);
                            22665 ; 404  |extern  INT FSFileRename(_packed BYTE *pbCurFilename, _packed BYTE *pbNewFilename, BYTE bDevice);
                            22666 ; 405  |//extern  INT _reentrant FSFileAttribute(_packed BYTE *pbFilename, WORD wAttributes, BYTE bDevice);
                            22667 ; 406  |//extern  INT FSFileAppend(_packed BYTE *pbFileName, BYTE bDevice);
                            22668 ; 407  |//extern  INT FSFileOpen(_packed BYTE *pbFileName, WORD wAttributes, BYTE bDevice);
                            22669 ; 408  |//extern  INT FSFileClose(INT bHandle);
                            22670 ; 409  |//extern  INT FSFileRead(WORD wNumberBytes, BYTE bHandle, WORD wMemSpace, INT iModulo, WORD *pwBuffer);
                            22671 ; 410  |//extern  INT FSFileWrite(WORD wNumberBytes, BYTE bHandle, WORD wMemSpace, INT iModulo, WORD *pwBuffer);
                            22672 ; 411  |extern  INT _reentrant fseek( INT handle , LONG offset, INT iOrigin );
                            22673 ; 412  |extern  INT _reentrant FSFileEof(INT Handle);
                            22674 ; 413  |extern INT _reentrant FSFileAttribute(INT Attributes, _packed BYTE *fname, INT DeviceNumber);
                            22675 ; 414  |extern INT _reentrant FSFileAttributeClear(INT Attributes, _packed BYTE *fname, INT DeviceNumber);
                            22676 ; 415  |//extern  LONG FSFileSize(INT bHandle);
                            22677 ; 416  |extern _asmfunc INT FSPresent(BYTE bDevice);
                            22678 ; 417  |extern _asmfunc INT FSType(BYTE bDevice);
                            22679 ; 418  |//extern LONG FSSize(WORD wDevice, WORD wReturnType);
                            22680 ; 419  |//extern INT FSChangeDir(_packed BYTE *pbDirName, BYTE bDevice);
                            22681 ; 420  |//extern INT FSCreateDir(_packed BYTE *pbDirName, BYTE bDevice);
                            22682 ; 421  |//extern INT FSDeleteDir(_packed BYTE *pbDirName, BYTE bDevice);
                            22683 ; 422  |extern _asmfunc void SysLoadFATWrite(void);
                            22684 ; 423  |extern _asmfunc INT SysUnLoadFATWrite(void);
                            22685 ; 424  |extern LONG _reentrant ftell(INT iHandle);
                            22686 ; 425  |extern _asmfunc struct FCB * ReadDirectory(int iDevice, int iEntry);
                            22687 ; 426  |
                            22688 ; 427  |#endif
                            22689 
                            22691 
                            22692 ; 7    |#include "metadata.h"
                            22693 
                            22695 
                            22696 ; 1    |////////////////////////////////////////////////////////////////////////////////
                            22697 ; 2    |// Copyright(C) SigmaTel, Inc. 2002
                            22698 ; 3    |//
                            22699 ; 4    |// Filename: metadata.h
                            22700 ; 5    |// Description:
                            22701 ; 6    |////////////////////////////////////////////////////////////////////////////////
                            22702 ; 7    |
                            22703 ; 8    |#ifndef _METADATA_H
                            22704 ; 9    |#define _METADATA_H
                            22705 ; 10   |
                            22706 ; 11   |///////////////////////////////////////////////////////////////////////////////
                            22707 ; 12   |// MetaData definitions
                            22708 ; 13   |///////////////////////////////////////////////////////////////////////////////
                            22709 ; 14   |
                            22710 ; 15   |//#define MMC_CMD59       0x40|59
                            22711 ; 16   |
                            22712 ; 17   |///////////////////////////////////////////////////////////////////////////////
                            22713 ; 18   |// Meta Data structure definitions
                            22714 ; 19   |///////////////////////////////////////////////////////////////////////////////
                            22715 ; 20   |
                            22716 ; 21   |///////////////////////////////////////////////////////////////////////////////
                            22717 ; 22   |// MetaData definitions
                            22718 ; 23   |
                            22719 ; 24   |#define META_DATA_FOUND                     (WORD)(0)
                            22720 ; 25   |#define META_DATA_NOT_FOUND                 (WORD)(0x100)
                            22721 ; 26   |#define META_DATA_FILE_NOT_SUPPORTED        (WORD)(0x101)
                            22722 ; 27   |#define META_DATA_FILEOPEN_ERROR            (WORD)(0x200)
                            22723 ; 28   |#define META_DATA_FILEREAD_ERROR            (WORD)(0x201)
                            22724 ; 29   |#define META_DATA_FILECLOSE_ERROR           (WORD)(0x202)
                            22725 ; 30   |#define META_DATA_FILESEEK_ERROR            (WORD)(0x203)
                            22726 ; 31   |#define META_DATA_FILEWRITE_ERROR           (WORD)(0x204)
                            22727 ; 32   |#define META_DATA_SUCCESS                               (WORD)(0x205)
                            22728 ; 33   |
                            22729 ; 34   |#define META_DATA_NOT_VBR_FORMAT            (WORD)(0x102)
                            22730 ; 35   |
                            22731 ; 36   |// VBR
                            22732 ; 37   |#define VBR_NOT_DETERMINED 0
                            22733 ; 38   |#define VBR_TRUE 1
                            22734 ; 39   |
                            22735 ; 40   |#ifndef TITLE_SIZE
                            22736 ; 41   |//#define TITLE_SIZE 30
                            22737 ; 42   |#ifndef USE_PLAYLIST3
                            22738 ; 43   |#define TITLE_SIZE 256          //was 30 but LFNs require up to 256!
                            22739 ; 44   |#else
                            22740 ; 45   |#define TITLE_SIZE 80           //was 256 but music library only store up to 129!
                            22741 ; 46   |#endif
                            22742 ; 47   |#endif
                            22743 ; 48   |
                            22744 ; 49   |#ifndef ARTIST_SIZE
                            22745 ; 50   |#ifndef USE_PLAYLIST3
                            22746 ; 51   |//#define ARTIST_SIZE 30
                            22747 ; 52   |#define ARTIST_SIZE 100         // increase artist size for use with ID3V2 tags (Stmp00003110)
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page  90

M:ADDR CODE           CYCLES LINE SOURCELINE
                            22748 ; 53   |#else
                            22749 ; 54   |#define ARTIST_SIZE 48          // increase artist size for use with ID3V2 tags (Stmp00003110)
                            22750 ; 55   |#endif
                            22751 ; 56   |#endif
                            22752 ; 57   |
                            22753 ; 58   |#ifndef ALBUM_SIZE
                            22754 ; 59   |#ifndef USE_PLAYLIST3
                            22755 ; 60   |//#define ALBUM_SIZE 30
                            22756 ; 61   |#define ALBUM_SIZE 50           // increase album size (not as much) for use with ID3V2 tags (Stmp00003110)
                            22757 ; 62   |#else
                            22758 ; 63   |#define ALBUM_SIZE 48           // increase album size (not as much) for use with ID3V2 tags (Stmp00003110)
                            22759 ; 64   |#endif
                            22760 ; 65   |#endif
                            22761 ; 66   |
                            22762 ; 67   |#ifdef USE_PLAYLIST3
                            22763 ; 68   |#ifndef GENRE_SIZE
                            22764 ; 69   |#define GENRE_SIZE 20
                            22765 ; 70   |#endif
                            22766 ; 71   |
                            22767 ; 72   |#ifndef YEAR_SIZE
                            22768 ; 73   |#define YEAR_SIZE 8
                            22769 ; 74   |#endif
                            22770 ; 75   |
                            22771 ; 76   |#ifndef TRACKNUM_SIZE
                            22772 ; 77   |#define TRACKNUM_SIZE 5 // assume track number is smaller than 0xfff (12bit or 4095)
                            22773 ; 78   |#endif
                            22774 ; 79   |
                            22775 ; 80   |#define MAX_TRACK_NUMBER 0x000fff
                            22776 ; 81   |#define UNKNOWN_TRACK_NUMBER MAX_TRACK_NUMBER
                            22777 ; 82   |#endif
                            22778 ; 83   |
                            22779 ; 84   |#define XING_TOC_SIZE   100
                            22780 ; 85   |#if MTP_BUILD
                            22781 ; 86   |// This size is used to build table for FF/RW for vbr songs,
                            22782 ; 87   |// and as there is no such function in mtp mode, it is reduced to release y-memory.
                            22783 ; 88   |#define VBR_TOC_SIZE    2
                            22784 ; 89   |#else
                            22785 ; 90   |#define VBR_TOC_SIZE    200
                            22786 ; 91   |#endif
                            22787 ; 92   |
                            22788 ; 93   |extern UCS3 g_wSongTitle[TITLE_SIZE];
                            22789 ; 94   |extern UCS3 g_wSongArtist[ARTIST_SIZE];
                            22790 ; 95   |extern UCS3 g_wSongAlbum[ALBUM_SIZE];
                            22791 ; 96   |#ifdef USE_PLAYLIST3
                            22792 ; 97   |extern UCS3 g_wSongGenre[GENRE_SIZE];
                            22793 ; 98   |extern UCS3 g_wSongYear[YEAR_SIZE];
                            22794 ; 99   |extern WORD g_wSongTrackNum;
                            22795 ; 100  |#endif
                            22796 ; 101  |
                            22797 ; 102  |extern WORD g_wVBRTOCTable[VBR_TOC_SIZE];
                            22798 ; 103  |
                            22799 ; 104  |typedef struct {
                            22800 ; 105  |    WORD        iTitleBufferLength;
                            22801 ; 106  |        UCS3       *wTitle;        // Title of Song
                            22802 ; 107  |    WORD        iArtistBufferLength;
                            22803 ; 108  |    UCS3       *wArtist;
                            22804 ; 109  |    WORD        iAlbumBufferLength;
                            22805 ; 110  |    UCS3       *wAlbum;
                            22806 ; 111  |#ifdef USE_PLAYLIST3
                            22807 ; 112  |    WORD        iGenreBufferLength;
                            22808 ; 113  |    UCS3       *wGenre;
                            22809 ; 114  |    WORD        iYearBufferLength;
                            22810 ; 115  |    UCS3       *wYear;
                            22811 ; 116  |    WORD        wTrackNum;
                            22812 ; 117  |#endif
                            22813 ; 118  |    BYTE       btGenre;       // Genre of audio file -- if MP3, use the ID3v1 tag byte
                            22814 ; 119  |        WORD       wSampRate;     // Sample Rate of song (Hz)
                            22815 ; 120  |        WORD       wNumChannels;
                            22816 ; 121  |        WORD       wBitRate;      // Bitrate of song (for MP3 VBR, this will be first bitrate found)
                            22817 ; 122  |        LONG       iTime;                 // Length of song in seconds
                            22818 ; 123  |        DWORD      dwStartPos;    // Position where audio starts. (if required by the decoder)
                            22819 ; 124  |        DWORD      dwNumBytes;    // Total Bytes in audio part of song
                            22820 ; 125  |    DWORD      dwDataBytes;   // for wma; (total bytes - header bytes)
                            22821 ; 126  |        DWORD      dwNumFrames;   // See note below on frames
                            22822 ; 127  |        BOOL       bVBR;                  // 0 = CBR or does not apply , 1 = VBR (**see question below**)
                            22823 ; 128  |        INT                iFileType;     // 0 = unknown, 1 = MP3, 2 = WMA, 4 = AAC, 8 = IMA ADPCM, etc (use defines below)
                            22824 ; 129  |        INT                iResourceNum;  // Resource number of the decoder that needed for this file
                            22825 ; 130  |} FILE_META_DATA;
                            22826 ; 131  |
                            22827 ; 132  |// File Type Defines (use for iFileType) -- matches bit defines in sysequ.inc
                            22828 ; 133  |#define UNKNOWN_TYPE   0
                            22829 ; 134  |#define MP3_TYPE       1
                            22830 ; 135  |#define WMA_TYPE       2
                            22831 ; 136  |#define AAC_TYPE       4
                            22832 ; 137  |#define IMA_ADPCM_TYPE 8
                            22833 ; 138  |#define MS_ADPCM_TYPE  16
                            22834 ; 139  |#define PCM_WAV_TYPE   32
                            22835 ; 140  |#define ASF_TYPE       64
                            22836 ; 141  |#define AUDIBLE_ACELP_TYPE 128
                            22837 ; 142  |#define AUDIBLE_MP3_TYPE   256          // 9/28/04 mmiu
                            22838 ; 143  |
                            22839 ; 144  |#define SMV_ADPCM_TYPE 512
                            22840 ; 145  |
                            22841 ; 146  |
                            22842 ; 147  |//////SRS WOW DEFS/////////////////////////////////////////////////////////////
                            22843 ; 148  |// Sample rates
                            22844 ; 149  |#ifdef WOW
                            22845 ; 150  |#define SR_48KHZ        48000
                            22846 ; 151  |#define SR_44KHZ        44100
                            22847 ; 152  |#define SR_32KHZ        32000
                            22848 ; 153  |#define SR_24KHZ        24000
                            22849 ; 154  |#define SR_22KHZ        22050
                            22850 ; 155  |#define SR_16KHZ        16000
                            22851 ; 156  |#define SR_12KHZ        12000
                            22852 ; 157  |#define SR_11KHZ        11025
                            22853 ; 158  |#define SR_8KHZ          8000
                            22854 ; 159  |#endif
                            22855 ; 160  |
                            22856 ; 161  |
                            22857 ; 162  |///////////////////////////////////////////////////////////////////////////////
                            22858 ; 163  |// MetaData prototypes
                            22859 ; 164  |///////////////////////////////////////////////////////////////////////////////
                            22860 ; 165  |
                            22861 ; 166  |RETCODE _reentrant GetFileMetaData(INT PackedPathNameAddress, INT btCurrentDevice, FILE_META_DATA *MetaData);
                            22862 
                            22890 
                            22891 ; 167  |#ifdef USE_PLAYLIST3
                            22892 ; 168  |INT _reentrant GetRelativePath(int highlight_index, int browse_type, INT* PackedPathNameAddress);
                            22893 ; 169  |INT _reentrant RetrieveSongInfo(INT a, INT b, INT *p_path);
                            22894 ; 170  |#endif
                            22895 ; 171  |
                            22896 ; 172  |#endif // #ifndef _METADATA_H
                            22897 
                            22899 
                            22900 ; 8    |
                            22901 ; 9    |#define MAX_NUM_DIR 1           //max supported directories including all subdirectories
                            22902 ; 10   |#define MAX_NUM_FILES   1       //max supported files
                            22903 ; 11   |#define MAX_SORT_ENTRIES_PER_DIRECTORY  15
                            22904 ; 12   |
                            22905 ; 13   |#define MAX_RECORDS_PER_DIRECTORY   4096        //calculated from the bits in the m_iRecordNum field in the following data structures.
                            22906 ; 14   |                                                                                        //An entry can have multiple records in the FAT for LFNs.
                            22907 ; 15   |                                                                                        //Records more than this number will not be included in the playlist content
                            22908 ; 16   |
                            22909 ; 17   |#define SFN_LENGTH      13      //8.3\ + NULL
                            22910 ; 18   |
                            22911 ; 19   |#define  _MAX_DIR_DEPTH 8
                            22912 ; 20   |#define  MAX_DIRNAME_LENGTH ((SFN_LENGTH*_MAX_DIR_DEPTH)+1)
                            22913 ; 21   |
                            22914 ; 22   |struct Bookmark{
                            22915 ; 23   |        INT       m_iTracknum;
                            22916 ; 24   |        DWORD m_dwTrackPosBytes;
                            22917 ; 25   |}; //this will save the num and position of the song selected for bookmark
                            22918 ; 26   |
                            22919 ; 27   |
                            22920 ; 28   |typedef struct{
                            22921 ; 29   |    unsigned int    m_pNext:16;                 //points to the next inline DirEntry. 
                            22922 ; 30   |        unsigned int    m_bAllocated:1; //1=allocated, 0=free.
                            22923 ; 31   |    unsigned int    m_iDevice:1;
                            22924 ; 32   |        unsigned int    m_bIsRoot:1;    //1=ROOT directory, 0= Any directory except ROOT.
                            22925 ; 33   |////////////////////////////////////////////////////////////////////////////////////////////
                            22926 ; 34   |    unsigned int    m_pDirContents:16;  //points to the first content which is a dir.
                            22927 ; 35   |///////////////////////////////////////////////////////////////////////////////////////////
                            22928 ; 36   |        unsigned int    m_pFileContents:16; //pointer in FileEntryPool where the file contents for this directory begin.
                            22929 ; 37   |////////////////////////////////////////////////////////////////////////////////////////////
                            22930 ; 38   |        unsigned int    m_iDirSector1:21;
                            22931 ; 39   |////////////////////////////////////////////////////////////////////////////////////////////
                            22932 ; 40   |        unsigned int    m_iDirOffset:12;
                            22933 ; 41   |        unsigned int    m_iRecordNum:12;        //record number of the directory record (LFN use).
                            22934 ; 42   |
                            22935 ; 43   |        unsigned int    m_iDirSector2:11;
                            22936 ; 44   |        //!! The above are implicitly used as a struct*. Using INT bitfields to save memory !!!
                            22937 ; 45   |////////////////////////////////////////////////////////////////////////////////////////////    
                            22938 ; 46   |#ifdef DEBUG_SFN
                            22939 ; 47   |        _packed BYTE name[SFN_LENGTH];
                            22940 ; 48   |#endif
                            22941 ; 49   |}DirEntry;
                            22942 ; 50   |
                            22943 ; 51   |typedef struct{
                            22944 ; 52   |        unsigned int    m_bAllocated:1; //1=allocated, 0=free.
                            22945 ; 53   |        unsigned int    m_bCurrentPlayset:1;    //1=Belongs to the current playset.
                            22946 ; 54   |        unsigned int    m_bTrackPlayed:1;               //Indicates if the track was played atleast once. Currently not used.
                            22947 ; 55   |        unsigned int    m_iDirSector1:21;
                            22948 ; 56   |//////////////////////////////////////////////////////////////////////////////////////////////////////
                            22949 ; 57   |        unsigned int    m_iTrackOrder:10;               //Order of this track in the current playset.
                            22950 ; 58   |        unsigned int    m_iDirOffset:12;
                            22951 ; 59   |//////////////////////////////////////////////////////////////////////////////////////////////////////
                            22952 ; 60   |        unsigned int    m_iDevice:1;
                            22953 ; 61   |        unsigned int    m_iRecordNum:12;        //Record number of the file record (LFN use).
                            22954 ; 62   |        unsigned int    m_iDirSector2:11;
                            22955 ; 63   |//////////////////////////////////////////////////////////////////////////////////////////////////////
                            22956 ; 64   |        unsigned int    m_pNext:16;             // //points to the next inline file.
                            22957 ; 65   |//////////////////////////////////////////////////////////////////////////////////////////////////////
                            22958 ; 66   |#ifdef DEBUG_SFN
                            22959 ; 67   |        _packed BYTE name[SFN_LENGTH];
                            22960 ; 68   |#endif
                            22961 ; 69   |}FileEntry;
                            22962 
                            23007 
                            23008 ; 70   |
                            23009 ; 71   |typedef struct{
                            23010 ; 72   |        DirEntry _X* pDirEntry; //Start traversing from this directory entry
                            23011 ; 73   |        unsigned int    iReason;
                            23012 ; 74   |        unsigned int iDevice;
                            23013 ; 75   |        unsigned int iPlayset;
                            23014 ; 76   |        unsigned int iDepth;
                            23015 ; 77   |        unsigned int iTrackOrder;
                            23016 ; 78   |        unsigned int iTrackNum;
                            23017 ; 79   |        FileEntry* pFileEntry;
                            23018 ; 80   |        DirEntry _X* DirLinks[_MAX_DIR_DEPTH];  //maintains a dynamic list of directory links within the recursion
                            23019 ; 81   |        unsigned int    iTotalLinks;
                            23020 ; 82   |}TraverseTreeParams;
                            23021 ; 83   |
                            23022 ; 84   |typedef struct{
                            23023 ; 85   |        unsigned int EntryType;                         //TYPE_DIR or TYPE_FILE
                            23024 ; 86   |        FileEntry* pFileEntry;          //used if TYPE_FILE
                            23025 ; 87   |        DirEntry _X* pDirEntry;                 //used if TYPE_DIR
                            23026 ; 88   |        unsigned int iTrackNum;
                            23027 ; 89   |        unsigned int iTrackOrder;
                            23028 ; 90   |        DirEntry _X* DirLinks[_MAX_DIR_DEPTH];
                            23029 ; 91   |        unsigned int iTotalLinks;
                            23030 ; 92   |}EntryAccessInfo;
                            23031 ; 93   |
                            23032 ; 94   |typedef struct{
                            23033 ; 95   |        void* pEntry;
                            23034 ; 96   |        _packed BYTE name[SFN_LENGTH];
                            23035 ; 97   |}SFNStorage;
                            23036 ; 98   |
                            23037 ; 99   |extern DirEntry _X g_DirEntryPerDevice[];               //ROOT(s)
                            23038 ; 100  |extern DirEntry _X g_DirEntryPool[];            //Pool of directory entries, Does not contain files.
                            23039 ; 101  |extern FileEntry g_FileEntryPool[];
                            23040 
                            23055 
                            23056 ; 102  |extern EntryAccessInfo g_CurrentTrack;
                            23057 ; 103  |extern int g_iPlaylistRepeat;
                            23058 ; 104  |extern int g_bPlaylistShuffle;
                            23059 
                            23067 
                            23068 ; 105  |extern SFNStorage g_TempSFNSpace[];
                            23069 ; 106  |extern int g_iTotalTracks;
                            23070 ; 107  |
                            23071 ; 108  |extern int g_iPlaySet;
                            23072 ; 109  |
                            23073 ; 110  |extern struct Bookmark g_MarkerMusic, g_MarkerVoice;
                            23074 ; 111  |extern int g_iTotalDir;
                            23075 ; 112  |extern int g_iTotalFiles;
                            23076 ; 113  |
                            23077 ; 114  |void _reentrant ML_building_engine_init_playlist3(void);
                            23078 ; 115  |void _reentrant ML_voice_build_engine_init_playlist3(void);
                            23079 ; 116  |void _reentrant ML_merging_engine_init_playlist3(void);
                            23080 ; 117  |_reentrant void Rebuild_GetMetaData(WORD wMode,int ignored1,int*ignored2);
                            23081 ; 118  |_reentrant void Rebuild_GetFileMetaData(INT PackedPathNameAddress, INT btCurrentDevice, FILE_META_DATA *MetaData);
                            23082 ; 119  |_reentrant RETCODE AddDirToLibrary(INT iDrive, INT iDirDepth);
                            23083 ; 120  |RETCODE _reentrant ML_GetLFN(DWORD dwFastKey, INT iRecordNum, UCS3 *pBuf);
                            23084 ; 121  |
                            23085 ; 122  |#endif
                            23086 
                            23088 
                            23089 ; 5    |#include "musiclib_ghdr.h"
                            23090 
                            23092 
                            23093 ; 1    |#ifndef MUSICLIB_GHDR_H
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page  91

M:ADDR CODE           CYCLES LINE SOURCELINE
                            23094 ; 2    |#define MUSICLIB_GHDR_H
                            23095 ; 3    |
                            23096 ; 4    |#ifdef __cplusplus
                            23097 ; 5    |extern "C" {
                            23098 ; 6    |#endif
                            23099 ; 7    |
                            23100 ; 8    |/*==================================================================================================
                            23101 ; 9    |
                            23102 ; 10   |                                        General Description
                            23103 ; 11   |
                            23104 ; 12   |====================================================================================================
                            23105 ; 13   |
                            23106 ; 14   |                               Sigmatel Inc Confidential Proprietary
                            23107 ; 15   |                               (c) Copyright Sigmatel Inc 2004, All Rights Reserved
                            23108 ; 16   |
                            23109 ; 17   |HEADER NAME: mf_sf_filename.h   AUTHOR: Developer Name      CREATION DATE: DD/MM/YYYY
                            23110 ; 18   |
                            23111 ; 19   |PRODUCT NAMES: All
                            23112 ; 20   |
                            23113 ; 21   |GENERAL DESCRIPTION:
                            23114 ; 22   |
                            23115 ; 23   |    General description of this grouping of functions.
                            23116 ; 24   |
                            23117 ; 25   |Portability: All
                            23118 ; 26   |
                            23119 ; 27   |
                            23120 ; 28   |Revision History:
                            23121 ; 29   |
                            23122 ; 30   |                         Modification        Tracking
                            23123 ; 31   |Author                       Date             Number           Description of Changes
                            23124 ; 32   |---------------------    ------------        ----------        -------------------------------------
                            23125 ; 33   |Developer Name            DD/MM/YYYY         PDaaaxxxxx        brief description of changes made
                            23126 ; 34   |
                            23127 ; 35   |
                            23128 ; 36   |====================================================================================================
                            23129 ; 37   |                                            DESCRIPTION
                            23130 ; 38   |====================================================================================================
                            23131 ; 39   |
                            23132 ; 40   |GLOBAL FUNCTIONS:
                            23133 ; 41   |    MF_global_func_name()
                            23134 ; 42   |
                            23135 ; 43   |TRACEABILITY MATRIX:
                            23136 ; 44   |    None
                            23137 ; 45   |
                            23138 ; 46   |==================================================================================================*/
                            23139 ; 47   |
                            23140 ; 48   |/*==================================================================================================
                            23141 ; 49   |                                                                Conditional Compilation Directives
                            23142 ; 50   |==================================================================================================*/
                            23143 ; 51   |#ifdef WIN32
                            23144 ; 52   |#define _PC_SIMULATION_
                            23145 ; 53   |#else
                            23146 ; 54   |#define _RUNNING_IN_EMBEDDED_
                            23147 ; 55   |#endif  // WIN32
                            23148 ; 56   |
                            23149 ; 57   |#if 1
                            23150 ; 58   |#define _NEWMUSIC_      /* install new music list */
                            23151 ; 59   |#endif
                            23152 ; 60   |
                            23153 ; 61   |#if 1
                            23154 ; 62   |#define _AUDIBLE_       /* install audible list */
                            23155 ; 63   |#endif
                            23156 ; 64   |
                            23157 ; 65   |#if 1
                            23158 ; 66   |#define _ONTHEGO_       /* install on the go list */
                            23159 ; 67   |#endif
                            23160 ; 68   |
                            23161 ; 69   |#ifdef PL3_FB
                            23162 ; 70   |#define _FOLDER_BROWSE_ // install folder browsing
                            23163 ; 71   |#endif
                            23164 ; 72   |
                            23165 ; 73   |#if 1
                            23166 ; 74   |#define _SUPPORT_2000_SONGS_
                            23167 ; 75   |#endif
                            23168 ; 76   |
                            23169 ; 77   |/*==================================================================================================
                            23170 ; 78   |                                           INCLUDE FILES
                            23171 ; 79   |==================================================================================================*/
                            23172 ; 80   |#ifdef _RUNNING_IN_EMBEDDED_
                            23173 ; 81   |#define OEM_SEEK_CUR    SEEK_CUR
                            23174 ; 82   |#define OEM_SEEK_SET    SEEK_SET
                            23175 ; 83   |#define OEM_SEEK_END    SEEK_END
                            23176 ; 84   |#else
                            23177 ; 85   |#define _X
                            23178 ; 86   |#define _Y
                            23179 ; 87   |#define _packed
                            23180 ; 88   |
                            23181 ; 89   |#define _asmfunc
                            23182 ; 90   |#define _reentrant
                            23183 ; 91   |
                            23184 ; 92   |#define OEM_SEEK_CUR    1
                            23185 ; 93   |#define OEM_SEEK_SET    0
                            23186 ; 94   |#define OEM_SEEK_END    2
                            23187 ; 95   |#endif  // _RUNNING_IN_EMBEDDED_
                            23188 ; 96   |
                            23189 ; 97   |#include "types.h"
                            23190 ; 98   |#include "exec.h"
                            23191 ; 99   |#include "messages.h"
                            23192 ; 100  |#include "project.h"
                            23193 ; 101  |
                            23194 ; 102  |/*==================================================================================================
                            23195 ; 103  |                                             CONSTANTS
                            23196 ; 104  |==================================================================================================*/
                            23197 ; 105  |/* The bit mask for 2 bits Unicode Flag selection in "uint8 unicode".
                            23198 ; 106  |Variable Represented            Bits used in "uint8 unicode"
                            23199 ; 107  |Artistname                              1:0
                            23200 ; 108  |Albumname                               3:2
                            23201 ; 109  |Genrename                               5:4
                            23202 ; 110  |Songname                                7:6
                            23203 ; 111  |----------------------------------------------------------
                            23204 ; 112  |    Value (2 bits)                      Meanings
                            23205 ; 113  |    0                                   RAW and All ASCII
                            23206 ; 114  |    1                                   Uni-code
                            23207 ; 115  |    2                                   Mixed, non-unicode
                            23208 ; 116  |
                            23209 ; 117  |    3(Genre only)               Genre is ID3v1 spec=>number
                            23210 ; 118  |*/
                            23211 ; 119  |#define BITMASK_ARTIST  (0x03)
                            23212 ; 120  |#define BITMASK_ALBUM   (0x0C)
                            23213 ; 121  |#define BITMASK_GENRE   (0x30)
                            23214 ; 122  |#define BITMASK_SONG    (0xC0)
                            23215 ; 123  |
                            23216 ; 124  |#define BITCHK_ARTIST_ALLASCII  (0x0)
                            23217 ; 125  |#define BITCHK_ALBUM_ALLASCII   (0x0)
                            23218 ; 126  |#define BITCHK_GENRE_ALLASCII   (0x0)
                            23219 ; 127  |#define BITCHK_SONG_ALLASCII    (0x0)
                            23220 ; 128  |
                            23221 ; 129  |#define BITCHK_ARTIST_UNICODE   (0x01)
                            23222 ; 130  |#define BITCHK_ALBUM_UNICODE    (0x04)
                            23223 ; 131  |#define BITCHK_GENRE_UNICODE    (0x10)
                            23224 ; 132  |#define BITCHK_SONG_UNICODE             (0x40)
                            23225 ; 133  |
                            23226 ; 134  |#define BITCHK_ARTIST_MIXCODE   (0x02)
                            23227 ; 135  |#define BITCHK_ALBUM_MIXCODE    (0x08)
                            23228 ; 136  |#define BITCHK_GENRE_MIXCODE    (0x20)
                            23229 ; 137  |#define BITCHK_SONG_MIXCODE             (0x80)
                            23230 ; 138  |
                            23231 ; 139  |#define BITCHK_GENRE_ID3V1              (0x30)
                            23232 ; 140  |
                            23233 ; 141  |#define UNKNOWN_YEAR_CODE               (1)     /* set a very large number */
                            23234 ; 142  |
                            23235 ; 143  |#define INDEX_EOF       0xFFF
                            23236 ; 144  |#ifdef _FOLDER_BROWSE_
                            23237 ; 145  |#define INDEX_ROOT  0xffe
                            23238 ; 146  |#define UNKNOWN_RECORD  0xfff
                            23239 ; 147  |#endif  // _FOLDER_BROWSE_
                            23240 ; 148  |
                            23241 ; 149  |/* Constant for item_type */
                            23242 ; 150  |#define         ITEM_ARTIST                     0
                            23243 ; 151  |#define         ITEM_ALBUM                      1
                            23244 ; 152  |#define         ITEM_GENRE                      2
                            23245 ; 153  |#define         ITEM_TRACK                      3
                            23246 ; 154  |#define         ITEM_YEAR                       4
                            23247 ; 155  |#define         ITEM_SONG_INFO_ARTIST   5
                            23248 ; 156  |#define         ITEM_SONG_INFO_ALBUM    6
                            23249 ; 157  |#define         ITEM_SONG_INFO_GENRE    7
                            23250 ; 158  |#define         ITEM_SONG_INFO_YEAR             9
                            23251 ; 159  |#ifdef _NEWMUSIC_
                            23252 ; 160  |#define         ITEM_1DAY                       10
                            23253 ; 161  |#define         ITEM_1WEEK                      11
                            23254 ; 162  |#define         ITEM_1MONTH                     12
                            23255 ; 163  |#endif
                            23256 ; 164  |#ifdef _AUDIBLE_
                            23257 ; 165  |#define         ITEM_AUDIBLE            13
                            23258 ; 166  |#endif
                            23259 ; 167  |#define         ITEM_ON_THE_GO          14
                            23260 ; 168  |
                            23261 ; 169  |#define         ITEM_VOICE                      15
                            23262 ; 170  |#define         ITEM_FMREC                      16
                            23263 ; 171  |#define         ITEM_PHOTO                      17
                            23264 ; 172  |#ifdef _FOLDER_BROWSE_
                            23265 ; 173  |#define         ITEM_INTERNAL           18
                            23266 ; 174  |#define         ITEM_EXTERNAL       19
                            23267 ; 175  |#endif  // _FOLDER_BROWSE_
                            23268 ; 176  |#define     ITEM_UNKNOWN        0xff
                            23269 ; 177  |
                            23270 ; 178  |/*
                            23271 ; 179  |input parameter for void ML_AddEntryToLibrary(uint24 Media_type, RAM_SONG_INFO_T *song_info, int16 option);
                            23272 ; 180  |option input.
                            23273 ; 181  |*/
                            23274 ; 182  |#define         ADD_OPTION_MUSIC        (0x00)
                            23275 ; 183  |#define         ADD_OPTION_VOICE        (0x01)
                            23276 ; 184  |#define         ADD_OPTION_AUDIBLE      (0x02)
                            23277 ; 185  |#ifdef _FOLDER_BROWSE_
                            23278 ; 186  |#define     ADD_OPTION_DIR      (0x03)
                            23279 ; 187  |#endif  // _FOLDER_BROWSE_
                            23280 ; 188  |
                            23281 ; 189  |/* Constant for key action */
                            23282 ; 190  |#define         ACTION_OK                               0               /* Press OK button */
                            23283 ; 191  |#define         ACTION_BACK                             1               /* Press BACK button */
                            23284 ; 192  |#define         ACTION_UP                               2               /* Press UP button */
                            23285 ; 193  |#define         ACTION_DOWN                             3               /* Press DOWN button */
                            23286 ; 194  |#define         ACTION_PLAYALL                  4               /* Play All function */
                            23287 ; 195  |#define         ACTION_MENU                             5               /* Back the browsing tree to root */
                            23288 ; 196  |
                            23289 ; 197  |#define     PLAYMODE_CURRENT_PLAYMODE_BITPOS    0
                            23290 ; 198  |#define     PLAYMODE_LAST_PLAYMODE_BITPOS       1
                            23291 ; 199  |#define     PLAYMODE_REPEAT_BITPOS              2
                            23292 ; 200  |#define     PLAYMODE_MEDIA_BITPOS               3
                            23293 ; 201  |
                            23294 ; 202  |#define         NO_SD                                   0
                            23295 ; 203  |#define         HAS_SD                                  1
                            23296 ; 204  |
                            23297 ; 205  |#define         PLAY_NORMAL                             0
                            23298 ; 206  |#define         PLAY_SHUFFLE                    1
                            23299 ; 207  |
                            23300 ; 208  |#define     PLAY_REPEAT_OFF         0
                            23301 ; 209  |#define     PLAY_REPEAT_ON          1
                            23302 ; 210  |
                            23303 ; 211  |#define     PLAY_SELECT_FLASH       0
                            23304 ; 212  |#define     PLAY_SELECT_SD          1
                            23305 ; 213  |
                            23306 ; 214  |#define         SHUFFLE_NEXT_SONG                       0
                            23307 ; 215  |#define         SHUFFLE_PREVIOUS_SONG       1
                            23308 ; 216  |
                            23309 ; 217  |#define         ON_THE_GO_EXIST                 0
                            23310 ; 218  |#define         ON_THE_GO_FULL                  1
                            23311 ; 219  |#define         ON_THE_GO_FREE                  2
                            23312 ; 220  |#define         ON_THE_GO_DEL_PLAYING   3
                            23313 ; 221  |#define         ON_THE_GO_DEL_SMALLER_ID    4
                            23314 ; 222  |
                            23315 ; 223  |#define         REC_VOICE_TYPE                  0
                            23316 ; 224  |#define         REC_FMREC_TYPE                  1
                            23317 ; 225  |#define         REC_PHOTO_TYPE                  2
                            23318 ; 226  |#define         VOICE_FILE_ADD                  0
                            23319 ; 227  |#define         VOICE_FILE_DEL                  1
                            23320 ; 228  |
                            23321 ; 229  |#define         MAX_BROWSE_WINDOW_SIZE  (8)
                            23322 ; 230  |#define         BROWSE_WINDOW_SIZE              (4)
                            23323 ; 231  |/* maximum number of song file, should not be larger than 2048 each for on-board
                            23324 ; 232  |flash or external SD card */
                            23325 ; 233  |#ifdef _SUPPORT_2000_SONGS_
                            23326 ; 234  |#define MAX_NUM_OF_SONG (2000)
                            23327 ; 235  |#else
                            23328 ; 236  |#define MAX_NUM_OF_SONG (1000)
                            23329 ; 237  |#endif // _SUPPORT_2000_SONGS_
                            23330 ; 238  |
                            23331 ; 239  |/* number of byte in one DSP word */
                            23332 ; 240  |#define NUM_OF_BYTE_IN_ONE_WORD (3)
                            23333 ; 241  |#define LEN_OF_NAME_IN_BYTE (120) /* must be an integer multiple of 3 */
                            23334 ; 242  |/* length of file pathname in byte, assuming directory and file in 8.3 format, there
                            23335 ; 243  |are 10 level directory structure */
                            23336 ; 244  |#define LEN_OF_FILEPATH_IN_BYTE (129) /* must be an integer multiple of 3 */
                            23337 ; 245  |#define LEN_OF_LONG_FILENAME_IN_BYTE (129) /* must be an integer multiple of 3 */
                            23338 ; 246  |
                            23339 ; 247  |/* number of list in new music, 1-day, 1-week, 1-month */
                            23340 ; 248  |#define NUM_OF_LIST_IN_NEW_MUSIC (3)
                            23341 ; 249  |/* number of songs in each new music list */
                            23342 ; 250  |#define NUM_OF_SONG_IN_NEW_MUSIC (40)
                            23343 ; 251  |#define NUM_OF_SONG_IN_NEW_MUSIC_DAY (20)
                            23344 ; 252  |#define NUM_OF_SONG_IN_NEW_MUSIC_WEEK (30)
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page  92

M:ADDR CODE           CYCLES LINE SOURCELINE
                            23345 ; 253  |#define NUM_OF_SONG_IN_NEW_MUSIC_MONTH (40)
                            23346 ; 254  |/* number of songs in the on-the-fly list */
                            23347 ; 255  |#define NUM_OF_SONG_IN_ON_THE_FLY (30)
                            23348 ; 256  |/* number of files audible list */
                            23349 ; 257  |#define NUM_OF_AUDIBLE_FILE (250)
                            23350 ; 258  |
                            23351 ; 259  |#define MAX_NUM_OF_VOICE (1000)
                            23352 ; 260  |#define LEN_OF_VOICE_NAME_IN_BYTE (LEN_OF_NAME_IN_BYTE) /* must be an integer multiple of 3 */
                            23353 ; 261  |#define LEN_OF_VOICE_FILEPATH_IN_BYTE (LEN_OF_FILEPATH_IN_BYTE) /* must be an integer multiple of 3 */
                            23354 ; 262  |
                            23355 ; 263  |#define MAX_NUM_OF_FMREC (MAX_NUM_OF_VOICE)     /* _must_be_equal_voice_num_ */
                            23356 ; 264  |#define MAX_NUM_OF_PHOTO (MAX_NUM_OF_VOICE)     /* _must_be_equal_voice_num_ */
                            23357 ; 265  |#ifdef _FOLDER_BROWSE_
                            23358 ; 266  |#define MAX_NUM_OF_DIR   (1000)
                            23359 ; 267  |#else
                            23360 ; 268  |#define MAX_NUM_OF_DIR   (1)
                            23361 ; 269  |#endif  // _FOLDER_BROWSE_
                            23362 ; 270  |#define LEN_OF_FMREC_NAME_IN_BYTE (LEN_OF_NAME_IN_BYTE) /* must be an integer multiple of 3 */
                            23363 ; 271  |#define LEN_OF_FMREC_FILEPATH_IN_BYTE (LEN_OF_FILEPATH_IN_BYTE) /* must be an integer multiple of 3 */
                            23364 ; 272  |
                            23365 ; 273  |#ifndef _MAX_DIR_DEPTH
                            23366 ; 274  |#define _MAX_DIR_DEPTH  8   // referred to "playlist3internal.h"
                            23367 ; 275  |#endif  // _MAX_DIR_DEPTH
                            23368 ; 276  |
                            23369 ; 277  |/*==================================================================================================*/
                            23370 ; 278  |
                            23371 ; 279  |
                            23372 ; 280  |/*==================================================================================================
                            23373 ; 281  |                                               MACROS
                            23374 ; 282  |==================================================================================================*/
                            23375 ; 283  |
                            23376 ; 284  |/*==================================================================================================
                            23377 ; 285  |                                               ENUMS
                            23378 ; 286  |==================================================================================================*/
                            23379 ; 287  |#define NUM_OF_MEDIA                            (2)
                            23380 ; 288  |#define MEDIA_TYPE_FLASH                        (0)
                            23381 ; 289  |#define MEDIA_TYPE_SD                           (1)
                            23382 ; 290  |/*==================================================================================================
                            23383 ; 291  |                                     STRUCTURES AND OTHER TYPEDEFS
                            23384 ; 292  |==================================================================================================*/
                            23385 ; 293  |
                            23386 ; 294  |typedef char    int8;
                            23387 ; 295  |typedef short   int16;
                            23388 ; 296  |typedef int     int24;
                            23389 ; 297  |typedef long    int32;
                            23390 ; 298  |
                            23391 ; 299  |typedef int     intx;
                            23392 ; 300  |
                            23393 ; 301  |typedef unsigned char   uint8;
                            23394 ; 302  |typedef unsigned short  uint16;
                            23395 ; 303  |typedef unsigned int    uint24;
                            23396 ; 304  |typedef unsigned long   uint32;
                            23397 ; 305  |
                            23398 ; 306  |/*
                            23399 ; 307  |Any missing information in the name fields will be filled with Unknown in Unicode format.
                            23400 ; 308  |artist_name[] = Unknown; unicode = 0x01;
                            23401 ; 309  |album_name[] = Unknown; unicode = 0x04;
                            23402 ; 310  |genre_name[] = Unknown; unicode = 0x08;
                            23403 ; 311  |song_name[] = Unknown; unicode = 0x0F;
                            23404 ; 312  |*/
                            23405 ; 313  |/*
                            23406 ; 314  |path_name[] _must_have_data_:
                            23407 ; 315  |path_name[] = (Max. 120 Characters);
                            23408 ; 316  |year range:
                            23409 ; 317  |year = 0x000000-0xFFFFFF;
                            23410 ; 318  |DOCUMENT CONTROL NUMBER : Version : 01.01
                            23411 ; 319  |Unknown track number:
                            23412 ; 320  |track_number = 0x7FFFFF;
                            23413 ; 321  |unicode refer to above #define BITMASK_*
                            23414 ; 322  |*/
                            23415 ; 323  |/*
                            23416 ; 324  |Interface of UI and Music Library
                            23417 ; 325  |1) If file was created in ID3V1 format genre, UI will convert it to Unicode string.
                            23418 ; 326  |
                            23419 ; 327  |2) Music Library expected to reserve 128x7 words RAM for UI mapping table.
                            23420 ; 328  |
                            23421 ; 329  |3) UI to Music Library variable passing length definition:
                            23422 ; 330  |        All ASCII Characters:
                            23423 ; 331  |                Max. Number of Bytes Stored = 120 Bytes
                            23424 ; 332  |                Max. Number of Characters Stored/Display = 40 Characters
                            23425 ; 333  |        Unicode Characters:
                            23426 ; 334  |                Max. Number of Bytes Stored = 120 Bytes
                            23427 ; 335  |                Max. Number of Characters Stored/Display = 40 Characters
                            23428 ; 336  |
                            23429 ; 337  |4) UI input data to Music Library in two formats.
                            23430 ; 338  |        Formats:        1) All ASCII (24 bits data)
                            23431 ; 339  |                                2) Unicode + Mix. Non -Unicode (16 bits data)
                            23432 ; 340  |
                            23433 ; 341  |5) UI calling function:
                            23434 ; 342  |COMP_OPT_REN void ML_AddEntryToLibrary(RAM_SONG_INFO_T *song_info, int16 option);
                            23435 ; 343  |        int16 option definition:
                            23436 ; 344  |                option  = 0 - song_info struct contains a mp3/wma format file.
                            23437 ; 345  |                                = 1 - song_info struct contains a voice format file.
                            23438 ; 346  |                                = 2 - song_info struct contains a audible format file.
                            23439 ; 347  |
                            23440 ; 348  |        i) Only mp3/wma file (option = 0, 2) files will be sorted,
                            23441 ; 349  |        ii) Voice and audible(option = 1) file will be store in a voice_list and audible_list separately.
                            23442 ; 350  |
                            23443 ; 351  |6) Modification Date:
                            23444 ; 352  |        uint24 g_file_time:
                            23445 ; 353  |                YYMMDD: 12 bits - Year, 6 bits - Month, 6 - bits Date
                            23446 ; 354  |*/
                            23447 ; 355  |
                            23448 ; 356  |/* struct to store the song information passed from UI, this struct will be placed in
                            23449 ; 357  |ghdr\musiclib_ghdr.h and included in UI files*/
                            23450 ; 358  |typedef struct _ram_song_info {
                            23451 ; 359  |        uint24 artist_name[LEN_OF_NAME_IN_BYTE/NUM_OF_BYTE_IN_ONE_WORD];
                            23452 ; 360  |        uint24 album_name[LEN_OF_NAME_IN_BYTE/NUM_OF_BYTE_IN_ONE_WORD];
                            23453 ; 361  |        uint24 genre_name[LEN_OF_NAME_IN_BYTE/NUM_OF_BYTE_IN_ONE_WORD];
                            23454 ; 362  |        uint24 song_name[LEN_OF_NAME_IN_BYTE/NUM_OF_BYTE_IN_ONE_WORD];
                            23455 ; 363  |        uint24 path_name[LEN_OF_FILEPATH_IN_BYTE/NUM_OF_BYTE_IN_ONE_WORD];
                            23456 ; 364  |    uint32 g_songFastKey;
                            23457 ; 365  |        uint24 dir_name[LEN_OF_LONG_FILENAME_IN_BYTE/NUM_OF_BYTE_IN_ONE_WORD];
                            23458 ; 366  |        uint24 year;
                            23459 ; 367  |        uint24 track_number;
                            23460 ; 368  |        uint8 unicode;
                            23461 ; 369  |} RAM_SONG_INFO_T;
                            23462 ; 370  |
                            23463 ; 371  |/* struct to store the group name: artist, album and genre, in the flash */
                            23464 ; 372  |typedef struct _flash_group_name {
                            23465 ; 373  |        uint24 name[LEN_OF_NAME_IN_BYTE/NUM_OF_BYTE_IN_ONE_WORD];
                            23466 ; 374  |        uint8 unicode;
                            23467 ; 375  |} FLASH_GROUP_NAME_T;
                            23468 ; 376  |
                            23469 ; 377  |// struct to store directories information passed from UI
                            23470 ; 378  |#ifdef _FOLDER_BROWSE_
                            23471 ; 379  |typedef struct _ml_DirInfo {
                            23472 ; 380  |        uint24  u8Unicode : 8;
                            23473 ; 381  |        uint24  u12DirDepth : 12;
                            23474 ; 382  |        uint24  u4Added : 4;            
                            23475 ; 383  |        INT     iDirRecord;
                            23476 ; 384  |        DWORD   dwFastKey;
                            23477 ; 385  |        uint24  u24PathName[LEN_OF_FILEPATH_IN_BYTE/NUM_OF_BYTE_IN_ONE_WORD];
                            23478 ; 386  |} ML_DIRINFO_T;
                            23479 ; 387  |#endif  // _FOLDER_BROWSE_
                            23480 ; 388  |
                            23481 ; 389  |/*==================================================================================================
                            23482 ; 390  |                                 GLOBAL VARIABLE DECLARATIONS
                            23483 ; 391  |==================================================================================================*/
                            23484 ; 392  |extern uint24   IsPlayOnTheGo;
                            23485 ; 393  |extern FLASH_GROUP_NAME_T   browse_item_name[];
                            23486 ; 394  |extern uint24   merge_id_list_flash[];
                            23487 ; 395  |extern uint24   merge_id_list_sd[];
                            23488 ; 396  |extern INT _X   g_iBrowseWindowSize;
                            23489 ; 397  |#ifdef _FOLDER_BROWSE_
                            23490 ; 398  |extern ML_DIRINFO_T g_tDirInfoBuffer[_MAX_DIR_DEPTH];
                            23491 ; 399  |extern uint24       g_u24DirName[LEN_OF_NAME_IN_BYTE/NUM_OF_BYTE_IN_ONE_WORD];
                            23492 ; 400  |extern uint24       g_u24BrowseNumOfDirInDir[];
                            23493 ; 401  |#endif  // _FOLDER_BROWSE_
                            23494 ; 402  |extern INT _X    *sec_temp_buf_X;
                            23495 ; 403  |extern uint24   playMode;   /* bit 0 = current play mode; bit 1 = last play mode ; bit 2 = repeat on/off(0=off/1=on) */
                            23496 ; 404  |
                            23497 ; 405  |/*==================================================================================================
                            23498 ; 406  |                                        FUNCTION PROTOTYPES
                            23499 ; 407  |==================================================================================================*/
                            23500 ; 408  |
                            23501 ; 409  |///////////////////////////////////////////////////////////////////////
                            23502 ; 410  |//! \brief
                            23503 ; 411  |//!
                            23504 ; 412  |//! \fntype Function
                            23505 ; 413  |//!
                            23506 ; 414  |//! Called by UI, to initialize the parameters before insert any item.
                            23507 ; 415  |//! Call only once before inserting items. Call once for each media.
                            23508 ; 416  |//!
                            23509 ; 417  |//! \param[in]  none
                            23510 ; 418  |//!
                            23511 ; 419  |//! \return
                            23512 ; 420  |//!
                            23513 ; 421  |///////////////////////////////////////////////////////////////////////
                            23514 ; 422  |void ML_InitLibraryParameter(void);
                            23515 ; 423  |
                            23516 ; 424  |///////////////////////////////////////////////////////////////////////
                            23517 ; 425  |//! \brief
                            23518 ; 426  |//!
                            23519 ; 427  |//! \fntype Function
                            23520 ; 428  |//!
                            23521 ; 429  |//! Called by UI, the AddEntryToLibrary is the music library building
                            23522 ; 430  |//! algorithms for the flash-type memory and SD memory by sorting the song information
                            23523 ; 431  |//! by, but not limited to, album, artist, genre, year and track. Called once for each song,
                            23524 ; 432  |//! the song information is recorded in music library.
                            23525 ; 433  |//!
                            23526 ; 434  |//! \param[in]  uint24 Media_type - Possible values: MEDIA_TYPE_FLASH(=0); MEDIA_TYPE_SD(=1)
                            23527 ; 435  |//! \param[in]  RAM_SONG_INFO_T *song_info - Structure to store the song information passed from UI, this structure is defined in ghdr\musiclib_ghdr.h and included in UI files)
                            23528 ; 436  |//! \param[in]  int16 option - option = 0 -- song_info struct contains a mp3, wma or wav format file.
                            23529 ; 437  |//!
                            23530 ; 438  |//! \return
                            23531 ; 439  |//!
                            23532 ; 440  |///////////////////////////////////////////////////////////////////////
                            23533 ; 441  |void ML_AddEntryToLibrary(uint24 Media_type, RAM_SONG_INFO_T *song_info, int16 option);
                            23534 ; 442  |
                            23535 ; 443  |///////////////////////////////////////////////////////////////////////
                            23536 ; 444  |//! \brief
                            23537 ; 445  |//!
                            23538 ; 446  |//! \fntype Function
                            23539 ; 447  |//!
                            23540 ; 448  |//! \param[in]
                            23541 ; 449  |//!
                            23542 ; 450  |//! \return
                            23543 ; 451  |//!
                            23544 ; 452  |///////////////////////////////////////////////////////////////////////
                            23545 ; 453  |#ifdef _FOLDER_BROWSE_
                            23546 ; 454  |_reentrant void ML_AddDirEntryToLibrary(uint24 u24MediaType, ML_DIRINFO_T *ptDirInfo, int16 i16Option);
                            23547 ; 455  |#endif  // _FOLDER_BROWSE_
                            23548 ; 456  |
                            23549 ; 457  |///////////////////////////////////////////////////////////////////////
                            23550 ; 458  |//! \brief
                            23551 ; 459  |//!
                            23552 ; 460  |//! \fntype Function
                            23553 ; 461  |//!
                            23554 ; 462  |//! Called by UI, flush sorted and associate list to flash when no
                            23555 ; 463  |//! more song needed to be added for that media. This function finalizes the building of
                            23556 ; 464  |//! music library for that particular media.
                            23557 ; 465  |//!
                            23558 ; 466  |//! \param[in]  uint24 Media_type - Possible values: MEDIA_TYPE_FLASH(=0); MEDIA_TYPE_SD(=1)
                            23559 ; 467  |//!
                            23560 ; 468  |//! \return
                            23561 ; 469  |//!
                            23562 ; 470  |//! \note   Bulid the library first (call ML_AddEntryToLibrary) before calling this
                            23563 ; 471  |//!         function.
                            23564 ; 472  |///////////////////////////////////////////////////////////////////////
                            23565 ; 473  |_reentrant INT ML_FlushLibraryToFlash(INT Media_type, INT b, INT *c);
                            23566 ; 474  |
                            23567 ; 475  |///////////////////////////////////////////////////////////////////////
                            23568 ; 476  |//! \brief
                            23569 ; 477  |//!
                            23570 ; 478  |//! \fntype Function
                            23571 ; 479  |//!
                            23572 ; 480  |//! \param[in]
                            23573 ; 481  |//!
                            23574 ; 482  |//! \return
                            23575 ; 483  |//!
                            23576 ; 484  |///////////////////////////////////////////////////////////////////////
                            23577 ; 485  |#ifdef _NEWMUSIC_
                            23578 ; 486  |void ML_UpdateNewMusic(void);
                            23579 ; 487  |#endif
                            23580 ; 488  |
                            23581 ; 489  |///////////////////////////////////////////////////////////////////////
                            23582 ; 490  |//! \brief
                            23583 ; 491  |//!
                            23584 ; 492  |//! \fntype Function
                            23585 ; 493  |//!
                            23586 ; 494  |//! Called by UI, to initialize the file access mechanism for all music
                            23587 ; 495  |//! library operation if the music.lib file and the music.sec file exist (call
                            23588 ; 496  |//! ML_BuildSecTableFile() if these files do not exist).
                            23589 ; 497  |//!
                            23590 ; 498  |//! \param[in]  none
                            23591 ; 499  |//!
                            23592 ; 500  |//! \return
                            23593 ; 501  |//!
                            23594 ; 502  |//! \note   Either ML_Buildl2SecTable(void) or ML_BuildSecTableFile(void)
                            23595 ; 503  |//!         must be called before calling any other music library functions.
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page  93

M:ADDR CODE           CYCLES LINE SOURCELINE
                            23596 ; 504  |///////////////////////////////////////////////////////////////////////
                            23597 ; 505  |_reentrant INT ML_Buildl2SecTable(INT a, INT b, INT *c);
                            23598 ; 506  |
                            23599 ; 507  |///////////////////////////////////////////////////////////////////////
                            23600 ; 508  |//! \brief
                            23601 ; 509  |//!
                            23602 ; 510  |//! \fntype Function
                            23603 ; 511  |//!
                            23604 ; 512  |//! Called by UI, to initialize the file access mechanism for all music
                            23605 ; 513  |//! library operation.
                            23606 ; 514  |//! Two system files (music.lib and music.sec) is created.
                            23607 ; 515  |//! Call this only if intended to generate / refresh these files, or if the music.lib file and the
                            23608 ; 516  |//! music.sec file do not exist.
                            23609 ; 517  |//!
                            23610 ; 518  |//! \param[in]  none
                            23611 ; 519  |//!
                            23612 ; 520  |//! \return
                            23613 ; 521  |//!
                            23614 ; 522  |//! \note   Either ML_Buildl2SecTable(void) or ML_BuildSecTableFile(void)
                            23615 ; 523  |//!         must be called before calling any other music library functions.
                            23616 ; 524  |///////////////////////////////////////////////////////////////////////
                            23617 ; 525  |_reentrant INT ML_BuildSecTableFile(INT a, INT b, INT *c);
                            23618 ; 526  |
                            23619 ; 527  |///////////////////////////////////////////////////////////////////////
                            23620 ; 528  |//! \brief
                            23621 ; 529  |//!
                            23622 ; 530  |//! \fntype Function
                            23623 ; 531  |//!
                            23624 ; 532  |//! Preload the list, prepare for renew.
                            23625 ; 533  |//! IsColdBoot=TRUE: loads the list content and the path name to the on_the_fly_list
                            23626 ; 534  |//! structure in RAM.
                            23627 ; 535  |//! IsColdBoot=FALSE: updates the path name only, to the on_the_fly_list structure
                            23628 ; 536  |//! in RAM.
                            23629 ; 537  |//!
                            23630 ; 538  |//! \param[in]  uint24 IsColdBoot - Possible values: TRUE or FALSE
                            23631 ; 539  |//!
                            23632 ; 540  |//! \return
                            23633 ; 541  |//!
                            23634 ; 542  |//! \note   Use IsColdBoot=TRUE only once when the machine boot-up, other
                            23635 ; 543  |//!         time when you need to renew the list, use IsColdBoot=FALSE instead.
                            23636 ; 544  |///////////////////////////////////////////////////////////////////////
                            23637 ; 545  |void ML_LoadOnTheGo(uint24 IsColdBoot);
                            23638 ; 546  |
                            23639 ; 547  |///////////////////////////////////////////////////////////////////////
                            23640 ; 548  |//! \brief
                            23641 ; 549  |//!
                            23642 ; 550  |//! \fntype Function
                            23643 ; 551  |//!
                            23644 ; 552  |//! Save the list to flash memory.
                            23645 ; 553  |//!
                            23646 ; 554  |//! \param[in]
                            23647 ; 555  |//!
                            23648 ; 556  |//! \return
                            23649 ; 557  |//!
                            23650 ; 558  |//! \note   It is recommended to save the list as soon as possible after it was
                            23651 ; 559  |//!         changed by the user.
                            23652 ; 560  |///////////////////////////////////////////////////////////////////////
                            23653 ; 561  |void ML_SaveOnTheGo(void);      /* call at shutdownmenu.c to save the list */
                            23654 ; 562  |
                            23655 ; 563  |///////////////////////////////////////////////////////////////////////
                            23656 ; 564  |//! \brief
                            23657 ; 565  |//!
                            23658 ; 566  |//! \fntype Function
                            23659 ; 567  |//! When the Music Lib is rebuilding, the path of each song is
                            23660 ; 568  |//! compared with the path stored in the on_the_fly_list structure, to decide if it was in the
                            23661 ; 569  |//! list before, if so the ID is replaced by the new songID, and the song is keep in the list.
                            23662 ; 570  |//! Otherwise the song is deleted.
                            23663 ; 571  |//!
                            23664 ; 572  |//! \param[in]  uint24 Media_type - Possible values: MEDIA_TYPE_FLASH(=0); MEDIA_TYPE_SD(=1)
                            23665 ; 573  |//! \param[in]  uint24 _X * temp_path - Input value, the path of song to be checked.
                            23666 ; 574  |//! \param[in]  uint24 newID - Input value, the new songID of the song.
                            23667 ; 575  |//!
                            23668 ; 576  |//! \return
                            23669 ; 577  |//!
                            23670 ; 578  |///////////////////////////////////////////////////////////////////////
                            23671 ; 579  |void ML_ChkOnTheGo(uint24 Media_type, uint24 _X * temp_path, uint24 newID);
                            23672 ; 580  |
                            23673 ; 581  |///////////////////////////////////////////////////////////////////////
                            23674 ; 582  |//! \brief
                            23675 ; 583  |//!
                            23676 ; 584  |//! \fntype Function
                            23677 ; 585  |//!
                            23678 ; 586  |//! Set a flag for all the songs of Media_type to be keep or delete
                            23679 ; 587  |//! in the ML_UpdateOnTheGo().
                            23680 ; 588  |//!
                            23681 ; 589  |//! \param[in]  uint24 Media_type - Possible values: MEDIA_TYPE_FLASH(=0); MEDIA_TYPE_SD(=1)
                            23682 ; 590  |//! \param[in]  uint24 value - Possible values: TRUE (song will be keep in the list); INDEX_EOF (song will be deleted)
                            23683 ; 591  |//!
                            23684 ; 592  |//! \return
                            23685 ; 593  |//!
                            23686 ; 594  |///////////////////////////////////////////////////////////////////////
                            23687 ; 595  |void ML_ChOnTheGo(uint24 Media_type, uint24 value);
                            23688 ; 596  |
                            23689 ; 597  |///////////////////////////////////////////////////////////////////////
                            23690 ; 598  |//! \brief
                            23691 ; 599  |//!
                            23692 ; 600  |//! \fntype Function
                            23693 ; 601  |//!
                            23694 ; 602  |//! Before the list can be browse, call this function to finalize the list.
                            23695 ; 603  |//!
                            23696 ; 604  |//! \param[in]  none
                            23697 ; 605  |//!
                            23698 ; 606  |//! \return
                            23699 ; 607  |//!
                            23700 ; 608  |///////////////////////////////////////////////////////////////////////
                            23701 ; 609  |void ML_UpdateOnTheGo(void);
                            23702 ; 610  |
                            23703 ; 611  |///////////////////////////////////////////////////////////////////////
                            23704 ; 612  |//! \brief
                            23705 ; 613  |//!
                            23706 ; 614  |//! \fntype Function
                            23707 ; 615  |//!
                            23708 ; 616  |//! Called by UI, to initialize the parameters before insert any item.
                            23709 ; 617  |//! Call only once before inserting items. Call once for each media.
                            23710 ; 618  |//!
                            23711 ; 619  |//! \param[in]  none
                            23712 ; 620  |//!
                            23713 ; 621  |//! \return
                            23714 ; 622  |//!
                            23715 ; 623  |///////////////////////////////////////////////////////////////////////
                            23716 ; 624  |void ML_InitVoiceParameter(void);
                            23717 ; 625  |
                            23718 ; 626  |///////////////////////////////////////////////////////////////////////
                            23719 ; 627  |//! \brief
                            23720 ; 628  |//!
                            23721 ; 629  |//! \fntype Function
                            23722 ; 630  |//!
                            23723 ; 631  |//! \param[in]
                            23724 ; 632  |//!
                            23725 ; 633  |//! \return
                            23726 ; 634  |//!
                            23727 ; 635  |///////////////////////////////////////////////////////////////////////
                            23728 ; 636  |void ML_LoadVoiceParameter(uint24 Rec_type);
                            23729 ; 637  |
                            23730 ; 638  |///////////////////////////////////////////////////////////////////////
                            23731 ; 639  |//! \brief
                            23732 ; 640  |//!
                            23733 ; 641  |//! \fntype Function
                            23734 ; 642  |//!
                            23735 ; 643  |//! Called by UI, the ML_AddEntryToVoice is the voice library
                            23736 ; 644  |//! building algorithms for the flash-type memory by sorting the voice files by file names.
                            23737 ; 645  |//! Called once for each voice file, the information is recorded in music library.
                            23738 ; 646  |//!
                            23739 ; 647  |//! \param[in]  uint24 Rec_type - Possible values: REC_VOICE_TYPE(=0); REC_FMREC_TYPE(=1)
                            23740 ; 648  |//! \param[in]  RAM_SONG_INFO_T *song_info - struct to store the song information passed from UI, this struct will be placed in ghdr\musiclib_ghdr.h and included in UI files
                            23741 ; 649  |//! \param[in]  uint24 action - option = 0 // always set zero
                            23742 ; 650  |//!
                            23743 ; 651  |//! \return
                            23744 ; 652  |//!
                            23745 ; 653  |///////////////////////////////////////////////////////////////////////
                            23746 ; 654  |void ML_AddEntryToVoice(uint24 Rec_type, RAM_SONG_INFO_T *song_info, uint24 action);
                            23747 ; 655  |
                            23748 ; 656  |///////////////////////////////////////////////////////////////////////
                            23749 ; 657  |//! \brief
                            23750 ; 658  |//!
                            23751 ; 659  |//! \fntype Function
                            23752 ; 660  |//!
                            23753 ; 661  |//! Called by UI, flush sorted and associate list to flash when no
                            23754 ; 662  |//! more voice needed to be added for that media. This function finalizes the voice building
                            23755 ; 663  |//! of music library for that particular media.
                            23756 ; 664  |//!
                            23757 ; 665  |//! \param[in]  uint24 Rec_type - Possible values: REC_VOICE_TYPE(=0); REC_FMREC_TYPE(=1)
                            23758 ; 666  |//!
                            23759 ; 667  |//! \return
                            23760 ; 668  |//!
                            23761 ; 669  |//! \note   Bulid the library first (call ML_AddEntryToVoice) before calling this
                            23762 ; 670  |//!         function.
                            23763 ; 671  |///////////////////////////////////////////////////////////////////////
                            23764 ; 672  |void ML_FlushVoiceToFlash(uint24 Rec_type);
                            23765 ; 673  |
                            23766 ; 674  |///////////////////////////////////////////////////////////////////////
                            23767 ; 675  |//! \brief
                            23768 ; 676  |//!
                            23769 ; 677  |//! \fntype Function
                            23770 ; 678  |//!
                            23771 ; 679  |//! Called by UI, the merge the music library tables album,
                            23772 ; 680  |//! artist, genre, song and year.
                            23773 ; 681  |//!
                            23774 ; 682  |//! \param[in]  none
                            23775 ; 683  |//!
                            23776 ; 684  |//! \return
                            23777 ; 685  |//!
                            23778 ; 686  |///////////////////////////////////////////////////////////////////////
                            23779 ; 687  |void ML_MergeLibraryTables(void);
                            23780 ; 688  |
                            23781 ; 689  |///////////////////////////////////////////////////////////////////////
                            23782 ; 690  |//! \brief
                            23783 ; 691  |//!
                            23784 ; 692  |//! \fntype Function
                            23785 ; 693  |//!
                            23786 ; 694  |//! Called by UI, the merge the music library tables album,
                            23787 ; 695  |//! artist, genre, song and year.
                            23788 ; 696  |//!
                            23789 ; 697  |//! \param[in]  none
                            23790 ; 698  |//!
                            23791 ; 699  |//! \return
                            23792 ; 700  |//!
                            23793 ; 701  |///////////////////////////////////////////////////////////////////////
                            23794 ; 702  |INT _reentrant PathFormationPartial(_packed BYTE* dst, _packed BYTE* src, int iDepth);
                            23795 ; 703  |INT _reentrant PathFormation(_packed BYTE* dst, _packed BYTE* src, int iDepth);
                            23796 ; 704  |_reentrant void TrimUnicodeString(UCS3* pString);
                            23797 ; 705  |_reentrant void TrimPackedString(UCS3* pString);
                            23798 ; 706  |
                            23799 ; 707  |///////////////////////////////////////////////////////////////////////
                            23800 ; 708  |//! \brief
                            23801 ; 709  |//!
                            23802 ; 710  |//! \fntype Function
                            23803 ; 711  |//!
                            23804 ; 712  |//! \param[in]
                            23805 ; 713  |//!
                            23806 ; 714  |//! \return
                            23807 ; 715  |//!
                            23808 ; 716  |///////////////////////////////////////////////////////////////////////
                            23809 ; 717  |_reentrant void ML_FlushSortedListToFlash(uint24 u24MediaType);
                            23810 ; 718  |
                            23811 ; 719  |/*================================================================================================*/
                            23812 ; 720  |
                            23813 ; 721  |// Siukoon 2005-02-28
                            23814 ; 722  |#define MUSICLIB_STDRIVE_NUMBER     (0)
                            23815 ; 723  |#ifdef _SUPPORT_2000_SONGS_
                            23816 ; 724  |#define MUSICLIB_FILESIZE_IN_BYTE   (4194304L*2) // (SINGLE_DATABASE_SIZE*BYTE_PER_SECTOR)*2
                            23817 ; 725  |#else
                            23818 ; 726  |#define MUSICLIB_FILESIZE_IN_BYTE   (2097152L*2) // (SINGLE_DATABASE_SIZE*BYTE_PER_SECTOR)*2
                            23819 ; 727  |#endif  // _SUPPORT_2000_SONGS_
                            23820 ; 728  |#define MUSICLIB_FLASHPART_FILESIZE_IN_BYTE   (MUSICLIB_FILESIZE_IN_BYTE/2)
                            23821 ; 729  |#define WORD_PER_SECTOR             (171)
                            23822 ; 730  |#define BYTE_PER_SECTOR             (512)
                            23823 ; 731  |#define MUSICLIB_FILESIZE_IN_SECTOR (MUSICLIB_FILESIZE_IN_BYTE/BYTE_PER_SECTOR)
                            23824 ; 732  |#define MUSICLIB_FLASHPART_FILESIZE_IN_SECTOR (MUSICLIB_FLASHPART_FILESIZE_IN_BYTE/BYTE_PER_SECTOR)
                            23825 ; 733  |
                            23826 ; 734  |#define LB_BYTE_PER_SECTOR          (2048)
                            23827 ; 735  |#define LB_MUSICLIB_FILESIZE_IN_SECTOR (MUSICLIB_FILESIZE_IN_BYTE/LB_BYTE_PER_SECTOR)
                            23828 ; 736  |#define LB_MUSICLIB_FLASHPART_FILESIZE_IN_SECTOR (MUSICLIB_FLASHPART_FILESIZE_IN_BYTE/LB_BYTE_PER_SECTOR)
                            23829 ; 737  |
                            23830 ; 738  |#define MUSICLIB_FAT_ERROR_NOT_ENOUGH_MEDIA_SPACE       1
                            23831 ; 739  |#define MUSICLIB_FAT_ERROR_CREATE_FILE                  2
                            23832 ; 740  |#define MUSICLIB_FAT_ERROR_DELETE_FILE                  3
                            23833 ; 741  |#define MUSICLIB_FAT_ERROR_OPEN_FILE                    4
                            23834 ; 742  |
                            23835 ; 743  |/////////////////////
                            23836 ; 744  |
                            23837 ; 745  |#define LONG_SIZE_IN_BYTE                               (6)
                            23838 ; 746  |
                            23839 ; 747  |#ifdef _SUPPORT_2000_SONGS_
                            23840 ; 748  |#define SEC_TABLE_SIZE_IN_LONG                  (16384) // DATABASE_SIZE
                            23841 ; 749  |#else
                            23842 ; 750  |#define SEC_TABLE_SIZE_IN_LONG                  (8192)  // DATABASE_SIZE
                            23843 ; 751  |#endif // _SUPPORT_2000_SONGS_
                            23844 ; 752  |#define SEC_TABLE_SIZE_IN_BYTE                  (SEC_TABLE_SIZE_IN_LONG*LONG_SIZE_IN_BYTE)
                            23845 ; 753  |
                            23846 ; 754  |#define SEC_TABLE_FLASHPART_SIZE_IN_LONG        (SEC_TABLE_SIZE_IN_LONG/2)
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page  94

M:ADDR CODE           CYCLES LINE SOURCELINE
                            23847 ; 755  |#define SEC_TABLE_FLASHPART_SIZE_IN_BYTE        (SEC_TABLE_SIZE_IN_BYTE/2)
                            23848 ; 756  |
                            23849 ; 757  |#define NUM_OF_LONG_PER_512SEC          (85)    // 512/6=>85
                            23850 ; 758  |#ifdef _SUPPORT_2000_SONGS_
                            23851 ; 759  |#define NUM_OF_LEVEL2_SEC                               (194)   /* 97x2 */
                            23852 ; 760  |#define NUM_OF_LEVEL2_FLASHPART_SEC             (97)    /* 8192/85 */
                            23853 ; 761  |#else
                            23854 ; 762  |#define NUM_OF_LEVEL2_SEC                               (98)    /* 49x2 */
                            23855 ; 763  |#define NUM_OF_LEVEL2_FLASHPART_SEC             (49)    /* 4096/85 */
                            23856 ; 764  |#endif // _SUPPORT_2000_SONGS_
                            23857 ; 765  |#define LEVEL2_TABLE_SIZE                               (NUM_OF_LEVEL2_SEC*2)
                            23858 ; 766  |#define SEC_TABLE_FLASH_START_SEC               (0x00)
                            23859 ; 767  |#define SEC_TABLE_SD_START_SEC                  (NUM_OF_LEVEL2_FLASHPART_SEC)
                            23860 ; 768  |
                            23861 ; 769  |#define SEC_TABLE_FILESIZE_IN_BYTE              (BYTE_PER_SECTOR*NUM_OF_LEVEL2_SEC)
                            23862 ; 770  |#ifdef _SUPPORT_2000_SONGS_
                            23863 ; 771  |#define BYTE_FILL_INTERDB_GAP                   (320)   // 512-((8192-(85*96))*6)
                            23864 ; 772  |#else
                            23865 ; 773  |#define BYTE_FILL_INTERDB_GAP                   (((NUM_OF_LEVEL2_FLASHPART_SEC*NUM_OF_LONG_PER_512SEC)-SEC_TABLE_FLASHPART_SIZE_IN_LONG)*LONG_SIZE_IN_BYTE+2)
                            23866 ; 774  |#endif  // _SUPPORT_2000_SONGS_
                            23867 ; 775  |
                            23868 ; 776  |#define LB_SEC_TABLE_SIZE_IN_LONG                       (LB_MUSICLIB_FILESIZE_IN_SECTOR)
                            23869 ; 777  |#define LB_SEC_TABLE_SIZE_IN_BYTE                       (LB_SEC_TABLE_SIZE_IN_LONG*LONG_SIZE_IN_BYTE)
                            23870 ; 778  |
                            23871 ; 779  |#define LB_SEC_TABLE_FLASHPART_SIZE_IN_LONG     (LB_SEC_TABLE_SIZE_IN_LONG/2)
                            23872 ; 780  |#define LB_SEC_TABLE_FLASHPART_SIZE_IN_BYTE     (LB_SEC_TABLE_SIZE_IN_BYTE/2)
                            23873 ; 781  |
                            23874 ; 782  |#define NUM_OF_LONG_PER_2048SEC                     (341)   // 2048/6=>341
                            23875 ; 783  |#ifdef _SUPPORT_2000_SONGS_
                            23876 ; 784  |#define NUM_OF_LEVEL2_2048SEC                           (49)    // 16384/341=>49
                            23877 ; 785  |#define NUM_OF_LEVEL2_FLASHPART_2048SEC         (25)    /* 8192/341=>25 */
                            23878 ; 786  |#else
                            23879 ; 787  |#define NUM_OF_LEVEL2_2048SEC                           (25)    // 8192/341=>25
                            23880 ; 788  |#define NUM_OF_LEVEL2_FLASHPART_2048SEC         (13)    /* 4096/341=>13 */
                            23881 ; 789  |#endif // _SUPPORT_2000_SONGS_
                            23882 ; 790  |
                            23883 ; 791  |#ifdef _SUPPORT_2000_SONGS_
                            23884 ; 792  |#define BYTE_FILL_INTERDB_GAP_2048                      (2000)  // 2048-((8192-(341*24))*6)
                            23885 ; 793  |#define BYTE_FILL_INTERDB_2ND_GAP_2048      (2532)  // 99328-96796
                            23886 ; 794  |#else
                            23887 ; 795  |#define BYTE_FILL_INTERDB_GAP_2048                      (((341-4)*6)+2) //2024
                            23888 ; 796  |#define BYTE_FILL_INTERDB_2ND_GAP_2048      (2556)  // 50176-47620
                            23889 ; 797  |#endif // _SUPPORT_2000_SONGS_
                            23890 ; 798  |
                            23891 ; 799  |#ifdef __cplusplus
                            23892 ; 800  |}
                            23893 ; 801  |#endif
                            23894 ; 802  |
                            23895 ; 803  |#endif  /* MUSICLIB_GHDR_H */
                            23896 
                            23898 
                            23899 ; 6    |#include "fsapi.h"
                            23900 
                            23902 
                            23903 ; 1    |#ifndef _FSAPI_H_
                            23904 ; 2    |#define _FSAPI_H_
                            23905 ; 3    |#include "filespec.h"
                            23906 
                            23908 
                            23909 ; 1    |#ifndef _FILESPEC_H_
                            23910 ; 2    |#define _FILESPEC_H_
                            23911 ; 3    |#include  "fstypes.h"
                            23912 
                            23914 
                            23915 ; 1    |#ifndef _FS_TYPE_H_
                            23916 ; 2    |#define _FS_TYPE_H_
                            23917 ; 3    |
                            23918 ; 4    |#include   "types.h"
                            23919 
                            23921 
                            23922 ; 1    |////////////////////////////////////////////////////////////////////////////////
                            23923 ; 2    |// Copyright(C) SigmaTel, Inc. 2000-2004
                            23924 ; 3    |//
                            23925 ; 4    |// Filename: types.h
                            23926 ; 5    |// Description: Standard data types
                            23927 ; 6    |////////////////////////////////////////////////////////////////////////////////
                            23928 ; 7    |
                            23929 ; 8    |#ifndef _TYPES_H
                            23930 ; 9    |#define _TYPES_H
                            23931 ; 10   |
                            23932 ; 11   |// TODO:  move this outta here!
                            23933 ; 12   |#if !defined(NOERROR)
                            23934 ; 13   |#define NOERROR 0
                            23935 ; 14   |#define SUCCESS 0
                            23936 ; 15   |#endif 
                            23937 ; 16   |#if !defined(SUCCESS)
                            23938 ; 17   |#define SUCCESS  0
                            23939 ; 18   |#endif
                            23940 ; 19   |#if !defined(ERROR)
                            23941 ; 20   |#define ERROR   -1
                            23942 ; 21   |#endif
                            23943 ; 22   |#if !defined(FALSE)
                            23944 ; 23   |#define FALSE 0
                            23945 ; 24   |#endif
                            23946 ; 25   |#if !defined(TRUE)
                            23947 ; 26   |#define TRUE  1
                            23948 ; 27   |#endif
                            23949 ; 28   |
                            23950 ; 29   |#if !defined(NULL)
                            23951 ; 30   |#define NULL 0
                            23952 ; 31   |#endif
                            23953 ; 32   |
                            23954 ; 33   |#define MAX_INT     0x7FFFFF
                            23955 ; 34   |#define MAX_LONG    0x7FFFFFffffff
                            23956 ; 35   |        // max positive unsigned long value: -1 == 0xFFFFFFffffff
                            23957 ; 36   |#define MAX_ULONG   (-1) 
                            23958 ; 37   |
                            23959 ; 38   |#define WORD_SIZE   24              // word size in bits
                            23960 ; 39   |#define BYTES_PER_WORD 3            // 8 bit bytes
                            23961 ; 40   |
                            23962 ; 41   |
                            23963 ; 42   |#define BYTE    unsigned char       // btVarName
                            23964 ; 43   |#define CHAR    signed char         // cVarName
                            23965 ; 44   |#define USHORT  unsigned short      // usVarName
                            23966 ; 45   |#define SHORT   unsigned short      // sVarName
                            23967 ; 46   |#define WORD    unsigned int        // wVarName
                            23968 ; 47   |#define INT     signed int          // iVarName
                            23969 ; 48   |#define DWORD   unsigned long       // dwVarName
                            23970 ; 49   |#define LONG    signed long         // lVarName
                            23971 ; 50   |#define BOOL    unsigned int        // bVarName
                            23972 ; 51   |#define FRACT   _fract              // frVarName
                            23973 ; 52   |#define LFRACT  long _fract         // lfrVarName
                            23974 ; 53   |#define CIRC    _circ               // cp<type prefix>VarName (see below)
                            23975 ; 54   |#define FLOAT   float               // fVarName
                            23976 ; 55   |#define DBL     double              // dVarName
                            23977 ; 56   |#define ENUM    enum                // eVarName
                            23978 ; 57   |#define CMX     _complex            // cmxVarName
                            23979 ; 58   |typedef WORD UCS3;                   // 
                            23980 ; 59   |
                            23981 ; 60   |#define UINT16  unsigned short
                            23982 ; 61   |#define UINT8   unsigned char   
                            23983 ; 62   |#define UINT32  unsigned long
                            23984 ; 63   |#define UINT64  unsigned long   // need to figure out how to do 64 bit values.  Or port exisiting code to only use 48 bit
                            23985 ; 64   |#define INT64   unsigned long   // need to figure out how to do 64 bit values.  Or port exisiting code to only use 48 bit
                            23986 ; 65   |#define WCHAR   UINT16
                            23987 ; 66   |
                            23988 ; 67   |//UINT128 is 16 bytes or 6 words
                            23989 ; 68   |typedef struct UINT128_3500 {   
                            23990 ; 69   |    int val[6];     
                            23991 ; 70   |} UINT128_3500;
                            23992 ; 71   |
                            23993 ; 72   |#define UINT128   UINT128_3500
                            23994 ; 73   |
                            23995 ; 74   |// Little endian word packed byte strings:   
                            23996 ; 75   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                            23997 ; 76   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                            23998 ; 77   |// Little endian word packed byte strings:   
                            23999 ; 78   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                            24000 ; 79   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                            24001 ; 80   |
                            24002 ; 81   |// Declare Memory Spaces To Use When Coding
                            24003 ; 82   |// A. Sector Buffers
                            24004 ; 83   |#define SECTOR_BUFFER_MEM_X _X
                            24005 ; 84   |#define SECTOR_BUFFER_MEM_Y _Y
                            24006 ; 85   |#define SECTOR_BUFFER_MEM SECTOR_BUFFER_MEM_X
                            24007 ; 86   |typedef WORD SECTOR_BUFFER_MEM SECTOR_BUFFER;
                            24008 ; 87   |typedef SECTOR_BUFFER * P_SECTOR_BUFFER;
                            24009 ; 88   |// B. Media DDI Memory
                            24010 ; 89   |#define MEDIA_DDI_MEM _Y
                            24011 ; 90   |
                            24012 ; 91   |
                            24013 ; 92   |
                            24014 ; 93   |// Pointers to linear structures are labeled as: p<type prefix>VarName
                            24015 ; 94   |// Examples of circular pointers:
                            24016 ; 95   |//    INT CIRC cpiVarName
                            24017 ; 96   |//    DWORD CIRC cpdwVarName
                            24018 ; 97   |
                            24019 ; 98   |#define RETCODE INT                 // rcVarName
                            24020 ; 99   |
                            24021 ; 100  |// generic bitfield structure
                            24022 ; 101  |struct Bitfield {
                            24023 ; 102  |    unsigned int B0  :1;
                            24024 ; 103  |    unsigned int B1  :1;
                            24025 ; 104  |    unsigned int B2  :1;
                            24026 ; 105  |    unsigned int B3  :1;
                            24027 ; 106  |    unsigned int B4  :1;
                            24028 ; 107  |    unsigned int B5  :1;
                            24029 ; 108  |    unsigned int B6  :1;
                            24030 ; 109  |    unsigned int B7  :1;
                            24031 ; 110  |    unsigned int B8  :1;
                            24032 ; 111  |    unsigned int B9  :1;
                            24033 ; 112  |    unsigned int B10 :1;
                            24034 ; 113  |    unsigned int B11 :1;
                            24035 ; 114  |    unsigned int B12 :1;
                            24036 ; 115  |    unsigned int B13 :1;
                            24037 ; 116  |    unsigned int B14 :1;
                            24038 ; 117  |    unsigned int B15 :1;
                            24039 ; 118  |    unsigned int B16 :1;
                            24040 ; 119  |    unsigned int B17 :1;
                            24041 ; 120  |    unsigned int B18 :1;
                            24042 ; 121  |    unsigned int B19 :1;
                            24043 ; 122  |    unsigned int B20 :1;
                            24044 ; 123  |    unsigned int B21 :1;
                            24045 ; 124  |    unsigned int B22 :1;
                            24046 ; 125  |    unsigned int B23 :1;
                            24047 ; 126  |};
                            24048 ; 127  |
                            24049 ; 128  |union BitInt {
                            24050 ; 129  |        struct Bitfield B;
                            24051 ; 130  |        int        I;
                            24052 ; 131  |};
                            24053 ; 132  |
                            24054 ; 133  |#define MAX_MSG_LENGTH 10
                            24055 ; 134  |struct CMessage
                            24056 ; 135  |{
                            24057 ; 136  |        unsigned int m_uLength;
                            24058 ; 137  |        unsigned int m_uMsg[MAX_MSG_LENGTH];
                            24059 ; 138  |};
                            24060 ; 139  |
                            24061 ; 140  |typedef struct {
                            24062 ; 141  |    WORD m_wLength;
                            24063 ; 142  |    WORD m_wMessage;
                            24064 ; 143  |    WORD m_wParams[MAX_MSG_LENGTH];
                            24065 ; 144  |} Message;
                            24066 ; 145  |
                            24067 ; 146  |struct MessageQueueDescriptor
                            24068 ; 147  |{
                            24069 ; 148  |        int *m_pBase;
                            24070 ; 149  |        int m_iModulo;
                            24071 ; 150  |        int m_iSize;
                            24072 ; 151  |        int *m_pHead;
                            24073 ; 152  |        int *m_pTail;
                            24074 ; 153  |};
                            24075 ; 154  |
                            24076 ; 155  |struct ModuleEntry
                            24077 ; 156  |{
                            24078 ; 157  |    int m_iSignaledEventMask;
                            24079 ; 158  |    int m_iWaitEventMask;
                            24080 ; 159  |    int m_iResourceOfCode;
                            24081 ; 160  |    struct MessageQueueDescriptor *m_pMessageQueue;
                            24082 ; 161  |    int _asmfunc (*m_pProcessEntryPoint)(union WaitMask Signals,struct MessageQueueDescriptor *);
                            24083 ; 162  |    int _asmfunc (*m_pInitFunction)(struct MessageQueueDescriptor *);
                            24084 ; 163  |    int m_uTimeOutHigh;
                            24085 ; 164  |    int m_uTimeOutLow;
                            24086 ; 165  |    int _asmfunc (*m_pBackgroundFunction)(struct MessageQueueDescriptor *);
                            24087 ; 166  |};
                            24088 ; 167  |
                            24089 ; 168  |union WaitMask{
                            24090 ; 169  |    struct B{
                            24091 ; 170  |        unsigned int m_bNone     :1;
                            24092 ; 171  |        unsigned int m_bMessage  :1;
                            24093 ; 172  |        unsigned int m_bTimer    :1;
                            24094 ; 173  |        unsigned int m_bButton   :1;
                            24095 ; 174  |    } B;
                            24096 ; 175  |    int I;
                            24097 ; 176  |} ;
                            24098 ; 177  |
                            24099 ; 178  |
                            24100 ; 179  |struct Button {
                            24101 ; 180  |        WORD wButtonEvent;
                            24102 ; 181  |        WORD wUnused[MAX_MSG_LENGTH];   
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page  95

M:ADDR CODE           CYCLES LINE SOURCELINE
                            24103 ; 182  |};
                            24104 ; 183  |
                            24105 ; 184  |struct Message {
                            24106 ; 185  |        WORD wMsgLength;
                            24107 ; 186  |        WORD wMsgCommand;
                            24108 ; 187  |        WORD wMsgParms[MAX_MSG_LENGTH-1];
                            24109 ; 188  |};
                            24110 ; 189  |
                            24111 ; 190  |union EventTypes {
                            24112 ; 191  |        struct CMessage msg;
                            24113 ; 192  |        struct Button Button ;
                            24114 ; 193  |        struct Message Message;
                            24115 ; 194  |};
                            24116 ; 195  |
                            24117 ; 196  |// next 2 used to get updater build to return correct protocol ver in scsi response.
                            24118 ; 197  |#define BUILD_TYPE_UPDATER  0x100
                            24119 ; 198  |#define BUILD_TYPE_HOSTLINK 0x101
                            24120 ; 199  |#define BUILD_TYPE_PLAYER   0x102
                            24121 ; 200  |
                            24122 ; 201  |// Resets part if RETAIL build. DEBUG build executes debug instruction to halt.
                            24123 ; 202  |#define SystemHalt() __asm(" include 'sysmacro.asm' \n error") 
                            24124 ; 203  |#define assert(x)    if(!(x)) __asm(" include 'sysmacro.asm' \n error")
                            24125 ; 204  |
                            24126 ; 205  |#if DEBUG
                            24127 ; 206  |// For DEBUG builds, DebugBuildAssert(condition) halts if condition evaluates to FALSE. 
                            24128 ; 207  |#define DebugBuildAssert(x)    if(!(x)) __asm(" debug ")
                            24129 ; 208  |#else 
                            24130 ; 209  |// For RETAIL builds, DebugBuildAssert(condition) does nothing & execution continues rather than halt or reset. 
                            24131 ; 210  |#define DebugBuildAssert(x)    
                            24132 ; 211  |#endif
                            24133 ; 212  |
                            24134 ; 213  |// Do this in your C files to make a reminder that's displayed during the build.
                            24135 ; 214  |//  #pragma asm
                            24136 ; 215  |//  WARN 'Note to builder: reminder to do this after verifying that'
                            24137 ; 216  |//  #pragma endasm
                            24138 ; 217  |
                            24139 ; 218  |
                            24140 ; 219  |#ifdef COLOR_262K
                            24141 ; 220  |#define RGB(r,g,b)    ((0x0000FC & (r)) << 10) | ((0x0000FC & (g)) << 4) | ((0x0000FC & (b)) >> 2)    //262k
                            24142 ; 221  |#elif defined(COLOR_65K)
                            24143 ; 222  |#define RGB(r,g,b)    ((0x0000F8 & (r)) << 8) | ((0x0000FC & (g)) << 3) | ((0x0000F8 & (b)) >> 3)  //65k
                            24144 ; 223  |#else
                            24145 ; 224  |#define RGB(r,g,b)       ((0x0000F0 & (r)) << 4) | (0x0000F0 & (g)) | ((0x0000F0 & (b)) >> 4)
                            24146 ; 225  |#endif
                            24147 ; 226  |    
                            24148 ; 227  |#endif // #ifndef _TYPES_H
                            24149 
                            24151 
                            24152 ; 5    |
                            24153 ; 6    |// move FSMEDIA_TABLE from devicetable.h  15Apr2005   First moved in SDK2.6.
                            24154 ; 7    |typedef struct
                            24155 ; 8    |{
                            24156 ; 9    |
                            24157 ; 10   |INT     _Y BytesPerSector;
                            24158 ; 11   |INT     _Y SectorsPerCluster;
                            24159 ; 12   |INT     _Y RsvdSectors;
                            24160 ; 13   |INT     _Y NoOfFATs;
                            24161 ; 14   |INT     _Y MaxRootDirEntries;
                            24162 ; 15   |LONG    _Y TotalSectors;
                            24163 ; 16   |LONG    _Y FATSize;
                            24164 ; 17   |LONG    _Y RootdirCluster;
                            24165 ; 18   |//INT   _Y FSInfoSector;
                            24166 ; 19   |//INT   _Y BkBootSector;
                            24167 ; 20   |LONG    _Y NextFreeCluster;
                            24168 ; 21   |LONG    _Y TotalFreeClusters;
                            24169 ; 22   |INT     _Y RootDirSectors;
                            24170 ; 23   |INT     _Y FIRSTDataSector;
                            24171 ; 24   |INT    _Y FATType;
                            24172 ; 25   |LONG   _Y TotalNoofclusters;
                            24173 ; 26   |INT    _Y ClusterMask;
                            24174 ; 27   |INT    _Y ClusterShift;
                            24175 ; 28   |INT    _Y SectorShift;
                            24176 ; 29   |INT    _Y SectorMask;
                            24177 ; 30   |INT    _Y DevicePresent;
                            24178 ; 31   |LONG   _Y FirRootdirsec;
                            24179 ; 32   |INT             _Y FSInfoSector;
                            24180 ; 33   |}FSMEDIA_TABLE;
                            24181 ; 34   |
                            24182 ; 35   |
                            24183 ; 36   |#define         MAXDEVICES              2
                            24184 ; 37   |//#define       NUMCACHES               8  // this is already in fsproj.h (2 for player 2 for mtp as of 28jun2005) TOVERIFY 2 ok for player and mtp. 
                            24185 ; 38   |
                            24186 ; 39   |// NOTE:  This offset is the same no matter what the sector actual size!  
                            24187 ; 40   |//        TOVERIFY 3.0 doesn't have this defined but uses it in filesystempresent.c. lbmlc def'd it here so I insert it here.
                            24188 ; 41   |#define         FATFS_SIGNATURE_OFFSET  510
                            24189 ; 42   |#define         BOOTSECTOR              0
                            24190 ; 43   |#define     FSINFOSECTOR        1
                            24191 ; 44   |
                            24192 ; 45   |#define     READ_MODE           1
                            24193 ; 46   |#define     WRITE_MODE          2
                            24194 ; 47   |#define     APPEND_MODE         4
                            24195 ; 48   |#define     SEQ_WRITE_MODE      8
                            24196 ; 49   |#define     DIRECTORY_MODE         16
                            24197 ; 50   |#define     CREATE_MODE        32
                            24198 ; 51   |
                            24199 ; 52   |#define     RPLUS               5
                            24200 ; 53   |#define     WPLUS                   6
                            24201 ; 54   |#define     APLUS               7
                            24202 ; 55   |
                            24203 ; 56   |
                            24204 ; 57   |
                            24205 ; 58   |#define     X_MEMORY            0
                            24206 ; 59   |#define     Y_MEMORY            2
                            24207 ; 60   |#define     P_MEMORY            4
                            24208 ; 61   |
                            24209 ; 62   |#define     FAT12               0 
                            24210 ; 63   |#define     FAT16               1   
                            24211 ; 64   |#define     FAT32               2 
                            24212 ; 65   |
                            24213 ; 66   |
                            24214 ; 67   |#define FAT12EOF            0x0FFF
                            24215 ; 68   |#define FAT16EOF            0xFFFF
                            24216 ; 69   |#define FAT32EOF            0x0FFFFFFF
                            24217 ; 70   |
                            24218 ; 71   |
                            24219 ; 72   |
                            24220 ; 73   |#define FAT12FREECX         0x000
                            24221 ; 74   |#define FAT16FREECX         0x0000
                            24222 ; 75   |#define FAT32FREECX         0x00000000
                            24223 ; 76   |
                            24224 ; 77   |
                            24225 ; 78   |#define  DBCS               1
                            24226 ; 79   |#define  UNICODE            2
                            24227 ; 80   |
                            24228 ; 81   |
                            24229 ; 82   |#define     CREATION_DATE       1
                            24230 ; 83   |#define     CREATION_TIME       2
                            24231 ; 84   |#define     MODIFICATION_DATE   3
                            24232 ; 85   |#define     MODIFICATION_TIME   4
                            24233 ; 86   |
                            24234 ; 87   |
                            24235 ; 88   |#define     READ_ONLY      0X01
                            24236 ; 89   |#define     HIDDEN         0X02
                            24237 ; 90   |#define     SYSTEM         0X04
                            24238 ; 91   |#define     VOLUME_ID      0X08
                            24239 ; 92   |#define     DIRECTORY      0X10
                            24240 ; 93   |#define     ARCHIVE        0X20
                            24241 ; 94   |
                            24242 ; 95   |#define READCOUNTER         105
                            24243 ; 96   |#define WRITECOUNTER        100
                            24244 ; 97   |#define FLUSHCOUNTER        200
                            24245 ; 98   |
                            24246 ; 99   |
                            24247 ; 100  |#define DEFAULT_MEMORY      Y_MEMORY
                            24248 ; 101  |
                            24249 ; 102  |#define  CWD_HANDLE           0
                            24250 ; 103  |#define  DIRECTORY_HANDLE     1
                            24251 ; 104  |#define  FIRST_VALID_HANDLE   2
                            24252 ; 105  |#define  END_OF_DIR_PATH      3
                            24253 ; 106  |
                            24254 ; 107  |//Constants for Sector read and write (Normal and FAT 
                            24255 ; 108  |#define         NORMALTYPE              0
                            24256 ; 109  |#define         FATTYPE                 1
                            24257 ; 110  |#define     RAWTYPE         2
                            24258 ; 111  |
                            24259 ; 112  |#define  SHORTNAMERES_CH      6
                            24260 ; 113  |#define  LONGNAMERES_CH       9
                            24261 ; 114  |#define  MAXFILENAME_CH       260
                            24262 ; 115  |
                            24263 ; 116  |#define VOLUME_TYPE          0
                            24264 ; 117  |#define DIR_TYPE             1
                            24265 ; 118  |#define FILE_TYPE            2
                            24266 ; 119  |                                           
                            24267 ; 120  |#define WRITE_TYPE_RANDOM               0
                            24268 ; 121  |#define WRITE_TYPE_SEQ_FIRST    1
                            24269 ; 122  |#define WRITE_TYPE_SEQ_NEXT             2
                            24270 ; 123  |#define WRITE_TYPE_NOREADBACK   3
                            24271 ; 124  |                  
                            24272 ; 125  |
                            24273 ; 126  |#define     HANDLEENTRYSIZE         19
                            24274 ; 127  |
                            24275 ; 128  |// DEVICERECORDSIZE is now only defined in cachedef.h so deleted from here in first 3.1 prelim 
                            24276 ; 129  |
                            24277 ; 130  |#define     CACHEDESCRSIZE          8
                            24278 ; 131  |#define     CACHEBUFSIZE            705
                            24279 ; 132  |
                            24280 ; 133  |#define     UCS2s                     0
                            24281 ; 134  |#define     UCS3s                     1
                            24282 ; 135  |
                            24283 ; 136  |#define     FAT32FSIFREECOUNTSIZE       4
                            24284 ; 137  |
                            24285 ; 138  |#endif // _FS_TYPE_H_
                            24286 ; 139  |
                            24287 
                            24289 
                            24290 ; 4    |#define MAX_FILESNAME   13
                            24291 ; 5    |
                            24292 ; 6    |typedef struct {
                            24293 ; 7    |    INT     gCurrentRecord;
                            24294 ; 8    |    INT     DirAttribute;
                            24295 ; 9    |    _packed char    FileName[9];
                            24296 ; 10   |    _packed char    FileExtension[4];
                            24297 ; 11   |}FILESPEC;
                            24298 ; 12   |
                            24299 ; 13   |typedef struct {
                            24300 ; 14   |    INT attrib;
                            24301 ; 15   |        LONG FileSize;
                            24302 ; 16   |    int  device;
                            24303 ; 17   |    INT startrecord;
                            24304 ; 18   |    _packed char name[MAX_FILESNAME];
                            24305 ; 19   |        LONG Key;
                            24306 ; 20   |}Finddata;
                            24307 ; 21   |#endif
                            24308 ; 22   |
                            24309 
                            24311 
                            24312 ; 4    |extern _reentrant LONG Ftell(INT HandleNumber);
                            24313 ; 5    |extern _reentrant LONG Feof(INT HandleNumber);
                            24314 ; 6    |extern _reentrant INT *Fputs(INT HandleNumber,INT *Buffer);
                            24315 ; 7    |extern _reentrant LONG Fread(INT HandleNumber,INT *Buffer,LONG NumBytesToRead,INT Source_Memory,INT MOdulo);
                            24316 ; 8    |extern _reentrant INT Fgetc(INT HandleNumber);
                            24317 ; 9    |extern _reentrant INT Fputc(INT HandleNumber,INT ByteToWrite);
                            24318 ; 10   |extern _reentrant LONG ReadDirectoryRecord(INT HandleNumber,INT RecordNumber,INT *Buffer);
                            24319 ; 11   |extern _reentrant INT Fseek(INT HandleNumber,LONG NumBytesToSeek,INT SeekPosition);
                            24320 ; 12   |extern _reentrant INT Fopen(_packed char *filepath,_packed char *mode);
                            24321 ; 13   |extern _reentrant LONG Fwrite(INT HandleNumber,INT  *Buffer,LONG NumBytesToWrite,INT Source_Memory,INT MOdulo);
                            24322 ; 14   |extern _reentrant LONG Totalfreecluster(INT DeviceNum);
                            24323 ; 15   |extern _reentrant INT Rmdir(_packed char *filepath);
                            24324 ; 16   |extern _reentrant INT Rmdirw(_packed char *filepath);
                            24325 ; 17   |extern _reentrant INT Mkdir(_packed char *filepath);
                            24326 ; 18   |
                            24327 ; 19   |        //      SGTL-HK 27-05-2005
                            24328 ; 20   |extern _reentrant INT Mkdirw(UCS3 *filepath);
                            24329 ; 21   |
                            24330 ; 22   |extern _reentrant INT Chdir(_packed char *filepath);
                            24331 ; 23   |extern _reentrant INT FastOpen(LONG Key,_packed char *mode);
                            24332 ; 24   |
                            24333 ; 25   |extern _reentrant INT Setcwd(_packed char *filepath, _packed char *gCworkingDir,INT index,INT length);
                            24334 ; 26   |extern _reentrant _packed char *Getcwd(void);
                            24335 ; 27   |extern  _reentrant _packed char *Fgets(INT HandleNumber,INT NumBytesToRead, _packed char *Buffer);
                            24336 ; 28   |extern INT  FSInit(INT _X *bufx, INT _Y *bufy, INT maxdevices, INT maxhandles, INT maxcaches);
                            24337 ; 29   |extern INT  FlushCache(void);
                            24338 ; 30   |extern _reentrant INT FsShutDown(void);
                            24339 ; 31   |extern _reentrant LONG GetFileSize(INT HandleNumber);
                            24340 ; 32   |
                            24341 ; 33   |extern _reentrant INT filegetattrib(_packed char *FilePath);
                            24342 ; 34   |extern _reentrant INT Fopenw(INT *filepath,_packed char *mode);
                            24343 ; 35   |extern _reentrant INT Fremove(_packed char *filepath);
                            24344 ; 36   |extern _reentrant INT Fremovew(_packed char *filepath);
                            24345 ; 37   |extern _reentrant void DBCSToUnicode(_packed unsigned char *pDBCS, WORD *pUnicode,INT iLength);
                            24346 ; 38   |extern INT FlushCache(void);
                            24347 ; 39   |extern _reentrant INT DeleteTree(_packed char *Path);
                            24348 ; 40   |extern _reentrant INT Fclose(INT HandleNumber);
                            24349 ; 41   |extern INT FSMediaPresent(INT DeviceNum);
                            24350 ; 42   |extern INT FSFATType (INT DeviceNum);
                            24351 ; 43   |extern  INT _reentrant  GetVolumeLabel(_packed char *Buffer,INT DeviceNum);
                            24352 ; 44   |extern _reentrant INT SetVolumeLabel(_packed char *Buffer,INT DeviceNum);
                            24353 ; 45   |extern _reentrant LONG FgetFastHandle(INT HandleNumber);
                            24354 ; 46   |
                            24355 ; 47   |extern _reentrant INT ConstructLongFileName(INT HandleNumber, INT RecordNumber, INT *LFNBuffer);
                            24356 ; 48   |extern _reentrant void Uppercase(_packed char *file); 
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page  96

M:ADDR CODE           CYCLES LINE SOURCELINE
                            24357 ; 49   |extern _reentrant INT FindNext(INT HandleNumber,Finddata *_finddata);
                            24358 
                            24368 
                            24369 ; 50   |extern _reentrant INT FindFirst(Finddata *_finddata,_packed char *FileName);
                            24370 ; 51   |extern _reentrant void ClearData(Finddata *_finddata);
                            24371 ; 52   |extern _reentrant INT GetShortfilename(LONG Key,INT *Buffer);
                            24372 ; 53   |
                            24373 ; 54   |
                            24374 ; 55   |
                            24375 ; 56   |
                            24376 ; 57   |typedef struct
                            24377 ; 58   |{
                            24378 ; 59   |
                            24379 ; 60   |INT             Day;
                            24380 ; 61   |INT             Month;
                            24381 ; 62   |INT             Year;
                            24382 ; 63   |}DIR_DATE;
                            24383 ; 64   |
                            24384 ; 65   |
                            24385 ; 66   |typedef struct
                            24386 ; 67   |{
                            24387 ; 68   |
                            24388 ; 69   |INT             Second;
                            24389 ; 70   |INT             Minute;
                            24390 ; 71   |INT             Hour;
                            24391 ; 72   |}DIR_TIME;
                            24392 ; 73   |
                            24393 ; 74   |
                            24394 ; 75   |typedef struct
                            24395 ; 76   |{
                            24396 ; 77   |LONG CurrentOffset;     
                            24397 ; 78   |LONG CurrentCluster;
                            24398 ; 79   |}HANDLECONTEXT;
                            24399 ; 80   |
                            24400 ; 81   |extern _reentrant INT filesetattrib(INT HandleNumber,INT dirattribute);
                            24401 ; 82   |extern _reentrant INT filesetdate(_packed char *FilePath,INT crt_mod_date_time_para,DIR_DATE *dirdate,DIR_TIME *dirtime);
                            24402 
                            24413 
                            24414 ; 83   |extern _reentrant INT filegetdate(INT HandleNumber,INT crt_mod_date_time_para,DIR_DATE *dirdate,DIR_TIME *dirtime);
                            24415 ; 84   |#endif
                            24416 
                            24418 
                            24419 ; 7    |////////////////////////////////////////////////////////////////////////////////
                            24420 ; 8    |//  Equates
                            24421 ; 9    |////////////////////////////////////////////////////////////////////////////////
                            24422 ; 10   |//Traversal return types
                            24423 ; 11   |#define PLAYLIST_END_TRAVERSAL_SUCCESS  (PLAYLIST_LAST_RETCODE + 1)
                            24424 ; 12   |#define PLAYLIST_END_TRAVERSAL_FAILURE  (PLAYLIST_LAST_RETCODE + 2)
                            24425 ; 13   |#define PLAYLIST_FILE_LOCATE_SUCCESS    (PLAYLIST_LAST_RETCODE + 3)
                            24426 ; 14   |
                            24427 ; 15   |#define PLAYSET_MUSIC 0
                            24428 ; 16   |#define PLAYSET_VOICE 1
                            24429 ; 17   |#define PLAYSET_FOLDER_PLAY 2
                            24430 ; 18   |#define PLAYSET_FAVORITES 3
                            24431 ; 19   |
                            24432 ; 20   |#define PLAYLIST_REPEAT_OFF     0
                            24433 ; 21   |#define PLAYLIST_REPEAT_ALL     1
                            24434 ; 22   |#define PLAYLIST_REPEAT_ONE     2
                            24435 ; 23   |
                            24436 ; 24   |#define SELECT_TRACKS   0
                            24437 ; 25   |#define ORDER_TRACKS    1
                            24438 ; 26   |#define BUILD_FILE_LINKS        2
                            24439 ; 27   |#define RESTORE_BOOKMARK 3
                            24440 ; 28   |        //      SGTL-HK 28-10-2004
                            24441 ; 29   |#define BUILD_DIR_LINKS         4
                            24442 ; 30   |
                            24443 ; 31   |
                            24444 ; 32   |#define ATTR_UNACCEPTABLE  (ATTR_HIDDEN|ATTR_SYSTEM|ATTR_VOLUME_ID)
                            24445 ; 33   |
                            24446 ; 34   |#define DIR_SEPARATOR   0x00002f        // "\"
                            24447 ; 35   |#define ROOT_SEPARATOR  0x002f3A        // ":\" swizzled
                            24448 ; 36   |
                            24449 ; 37   |#define DEPTH_VOICE_DIR 1       //depth of voice directory
                            24450 ; 38   |
                            24451 ; 39   |#define TYPE_DIR 0
                            24452 ; 40   |#define TYPE_FILE 1
                            24453 ; 41   |
                            24454 ; 42   |#define IS_TRASH        0
                            24455 ; 43   |#define IS_VOICE_DIR 1
                            24456 ; 44   |#define IS_VALID_AUDIO 2
                            24457 ; 45   |#define IS_VOICE_FILE  3
                            24458 ; 46   |
                            24459 ; 47   |//List containing audio file extensions
                            24460 ; 48   |#define WMA_FILE_EXT     0x414D57
                            24461 ; 49   |#define MP3_FILE_EXT     0x33504d
                            24462 ; 50   |#define WAV_FILE_EXT     0x564157
                            24463 ; 51   |#define MP4_FILE_EXT     0x34504d
                            24464 ; 52   |#define M4A_FILE_EXT     0x41344d
                            24465 ; 53   |#define ASF_FILE_EXT     0x465341
                            24466 ; 54   |#define AUDIBLE_FILE_EXT         0x004141
                            24467 ; 55   |#define JPG_FILE_EXT     0x47504a
                            24468 ; 56   |#define BMP_FILE_EXT     0x504d42
                            24469 ; 57   |#define SMV_FILE_EXT     0x564d53
                            24470 ; 58   |
                            24471 ; 59   |#define VOICE_PATH_0    0x2f3a61        // a:/ in dyslexical order
                            24472 ; 60   |#define VOICE_PATH_1    0x494f56        // VOI in dyslexical order
                            24473 ; 61   |#define VOICE_PATH_2    0x2f4543        // CE/ in dyslexical order
                            24474 ; 62   |#define VOICE_PATH_3    0x000000        // terminating 0
                            24475 ; 63   |
                            24476 ; 64   |#define FM_PATH_0               0x2f3a61        // a:/ in dyslexical order
                            24477 ; 65   |#define FM_PATH_1               0x2f4d46        // FM/ in dyslexical order
                            24478 ; 66   |#define FM_PATH_2               0x000000        // terminating 0
                            24479 ; 67   |
                            24480 ; 68   |#define LINEIN_PATH_0   0x2f3a61        // a:/ in dyslexical order
                            24481 ; 69   |#define LINEIN_PATH_1   0x4e494c        // LIN in dyslexical order
                            24482 ; 70   |#define LINEIN_PATH_2   0x492d45        // E-I in dyslexical order
                            24483 ; 71   |#define LINEIN_PATH_3   0x002f4e        // N/  in dyslexical order
                            24484 ; 72   |
                            24485 ; 73   |#define NAME_SFN        0
                            24486 ; 74   |#define NAME_LFN        1
                            24487 ; 75   |//Error code for unsupported file Names or Extensions
                            24488 ; 76   |#define META_DATA_FILE_NOT_SUPPORTED        (WORD)(0x101)
                            24489 ; 77   |
                            24490 ; 78   |#define FINDDATA_CACHE_SIZE   20
                            24491 ; 79   |
                            24492 ; 80   |// this number is used to skip mac resource fork files when loading the playlist
                            24493 ; 81   |// the resource SFN start with _ end with the same extension (i.e. mp3)
                            24494 ; 82   |// a SMALL sample of test files shows that the resource file is typically 82 bytes.
                            24495 ; 83   |#define MAC_RESOURCE_NUM_BYTES   512
                            24496 ; 84   |
                            24497 ; 85   |extern int g_iPlaylistRepeat;
                            24498 ; 86   |extern int g_bPlaylistShuffle;
                            24499 ; 87   |extern DWORD dStart, dEnd, dDiff;       //for timing measurements
                            24500 ; 88   |extern _packed BYTE DirPath[MAX_DIRNAME_LENGTH];
                            24501 ; 89   |extern BOOL g_Rebuild;
                            24502 ; 90   |extern RAM_SONG_INFO_T  song_info;
                            24503 ; 91   |extern INT  g_file_time;
                            24504 ; 92   |extern INT  g_unicode;
                            24505 ; 93   |extern DWORD    g_dwFastKey;
                            24506 ; 94   |extern INT  g_iRecordNum;
                            24507 ; 95   |extern DWORD    g_FileKey;
                            24508 ; 96   |extern DIR_DATE g_dirdate;
                            24509 ; 97   |extern DIR_TIME g_dirtime;
                            24510 ; 98   |extern INT  *pHighestNumber;
                            24511 ; 99   |extern INT  g_iHighestVoiceNumber;
                            24512 ; 100  |extern INT  g_iHighestFMNumber;
                            24513 ; 101  |extern INT  g_iHighestLineNumber;
                            24514 ; 102  |
                            24515 ; 103  |INT _reentrant Playlist_GetPlaySet(void);
                            24516 ; 104  |INT _reentrant Playlist_SetPlaySet(INT, INT, INT*);
                            24517 ; 105  |INT _reentrant Playlist_Initialize(INT, INT, INT*);
                            24518 ; 106  |INT _reentrant Playlist_BuildMusicLib(INT iIgnored1, INT iIgnored2, INT* pIgnored);
                            24519 ; 107  |_reentrant RETCODE Playlist_PopulateMusicLib(int iDevice, int iDepth, DWORD dwDirKey,INT RecordNumber);
                            24520 ; 108  |_reentrant INT Playlist_SetPlaySet(INT , INT, INT*);
                            24521 ; 109  |void _reentrant Playlist_ResetPlayset(void);
                            24522 ; 110  |BOOL _reentrant Playlist_ValidateEntry(INT iEntryType,INT iReason, INT* pPtr);
                            24523 ; 111  |
                            24524 ; 112  |///////////////////////////////////////////////////////////////////////////////////////////////////////////
                            24525 ; 113  |/////playlist3 helper functions
                            24526 ; 114  |//////////////////////////////////////////////////////////////////////////////////////////////////////////
                            24527 ; 115  |BOOL _reentrant Playlist_IsValidAudioFile(LONG lFileSize, _packed BYTE* pFileName);
                            24528 ; 116  |_reentrant INT Playlist_GetFileExtention(INT iIgnored1, INT iIgnored2, INT* pPtr);
                            24529 ; 117  |_reentrant BOOL IsTrashDir(_packed BYTE* pszName);
                            24530 ; 118  |_reentrant DWORD Playlist_GenerateFastKey(INT iDevice,LONG DirSector,INT iDirOffset);
                            24531 ; 119  |_reentrant INT ExtractDirSector1(DWORD Key);
                            24532 ; 120  |_reentrant INT ExtractDirSector2(DWORD Key);
                            24533 ; 121  |_reentrant INT ExtractDirOffset(DWORD Key);
                            24534 ; 122  |_reentrant RETCODE Playlist_GetRootString(_packed BYTE* pBuffer, INT iDevice);
                            24535 ; 123  |_reentrant RETCODE Playlist_LocateFileEntryFromName(INT iUnused1, INT iUnused2, INT* pPtr);
                            24536 ; 124  |_reentrant INT Playlist_LocateDirEntryFromName(INT iUnused1, INT iUnused2, INT* pPtr);
                            24537 ; 125  |_reentrant BOOL IsVoiceDir(DirEntry _X* pDirEntry);
                            24538 ; 126  |_reentrant RETCODE Playlist_GetSFN(INT iEntryType , INT pEntry, INT* pName);
                            24539 ; 127  |_reentrant RETCODE Playlist_GetLFN(INT iEntryType , INT pEntry, INT* pName);
                            24540 ; 128  |INT _reentrant PathFormation(_packed BYTE* dst, _packed BYTE* src, int iDepth);
                            24541 ; 129  |
                            24542 ; 130  |DWORD GetDclkCount(void);
                            24543 ; 131  |
                            24544 ; 132  |_reentrant INT CopyFindFirst(int mDirEntry, int mfinddata, int *mFileSpec);
                            24545 ; 133  |_reentrant INT CopyFindNext(INT HandleNumber,int mfinddata, int* ptr);
                            24546 ; 134  |
                            24547 ; 135  |_reentrant void BuildVoiceFilePath(void);
                            24548 ; 136  |_reentrant void BuildFMFilePath(void);
                            24549 ; 137  |_reentrant void BuildLINEINFilePath(void);
                            24550 ; 138  |_reentrant void GetVoiceFastKey(WORD wFastKeyBitField);
                            24551 ; 139  |_reentrant INT AddSongToLibrary(int a, int drive, void* b);
                            24552 ; 140  |#endif
                            24553 
                            24555 
                            24556 ; 34   |#include "playlist3internal.h"
                            24557 
                            24559 
                            24560 ; 1    |#ifndef __PLAYLIST3INTERNAL_H
                            24561 ; 2    |#define __PLAYLIST3INTERNAL_H
                            24562 ; 3    |
                            24563 ; 4    |#include "project.h"
                            24564 ; 5    |
                            24565 ; 6    |#include "filesystem.h"
                            24566 ; 7    |#include "metadata.h"
                            24567 ; 8    |
                            24568 ; 9    |#define MAX_NUM_DIR 1           //max supported directories including all subdirectories
                            24569 ; 10   |#define MAX_NUM_FILES   1       //max supported files
                            24570 ; 11   |#define MAX_SORT_ENTRIES_PER_DIRECTORY  15
                            24571 ; 12   |
                            24572 ; 13   |#define MAX_RECORDS_PER_DIRECTORY   4096        //calculated from the bits in the m_iRecordNum field in the following data structures.
                            24573 ; 14   |                                                                                        //An entry can have multiple records in the FAT for LFNs.
                            24574 ; 15   |                                                                                        //Records more than this number will not be included in the playlist content
                            24575 ; 16   |
                            24576 ; 17   |#define SFN_LENGTH      13      //8.3\ + NULL
                            24577 ; 18   |
                            24578 ; 19   |#define  _MAX_DIR_DEPTH 8
                            24579 ; 20   |#define  MAX_DIRNAME_LENGTH ((SFN_LENGTH*_MAX_DIR_DEPTH)+1)
                            24580 ; 21   |
                            24581 ; 22   |struct Bookmark{
                            24582 ; 23   |        INT       m_iTracknum;
                            24583 ; 24   |        DWORD m_dwTrackPosBytes;
                            24584 ; 25   |}; //this will save the num and position of the song selected for bookmark
                            24585 ; 26   |
                            24586 ; 27   |
                            24587 ; 28   |typedef struct{
                            24588 ; 29   |    unsigned int    m_pNext:16;                 //points to the next inline DirEntry. 
                            24589 ; 30   |        unsigned int    m_bAllocated:1; //1=allocated, 0=free.
                            24590 ; 31   |    unsigned int    m_iDevice:1;
                            24591 ; 32   |        unsigned int    m_bIsRoot:1;    //1=ROOT directory, 0= Any directory except ROOT.
                            24592 ; 33   |////////////////////////////////////////////////////////////////////////////////////////////
                            24593 ; 34   |    unsigned int    m_pDirContents:16;  //points to the first content which is a dir.
                            24594 ; 35   |///////////////////////////////////////////////////////////////////////////////////////////
                            24595 ; 36   |        unsigned int    m_pFileContents:16; //pointer in FileEntryPool where the file contents for this directory begin.
                            24596 ; 37   |////////////////////////////////////////////////////////////////////////////////////////////
                            24597 ; 38   |        unsigned int    m_iDirSector1:21;
                            24598 ; 39   |////////////////////////////////////////////////////////////////////////////////////////////
                            24599 ; 40   |        unsigned int    m_iDirOffset:12;
                            24600 ; 41   |        unsigned int    m_iRecordNum:12;        //record number of the directory record (LFN use).
                            24601 ; 42   |
                            24602 ; 43   |        unsigned int    m_iDirSector2:11;
                            24603 ; 44   |        //!! The above are implicitly used as a struct*. Using INT bitfields to save memory !!!
                            24604 ; 45   |////////////////////////////////////////////////////////////////////////////////////////////    
                            24605 ; 46   |#ifdef DEBUG_SFN
                            24606 ; 47   |        _packed BYTE name[SFN_LENGTH];
                            24607 ; 48   |#endif
                            24608 ; 49   |}DirEntry;
                            24609 ; 50   |
                            24610 ; 51   |typedef struct{
                            24611 ; 52   |        unsigned int    m_bAllocated:1; //1=allocated, 0=free.
                            24612 ; 53   |        unsigned int    m_bCurrentPlayset:1;    //1=Belongs to the current playset.
                            24613 ; 54   |        unsigned int    m_bTrackPlayed:1;               //Indicates if the track was played atleast once. Currently not used.
                            24614 ; 55   |        unsigned int    m_iDirSector1:21;
                            24615 ; 56   |//////////////////////////////////////////////////////////////////////////////////////////////////////
                            24616 ; 57   |        unsigned int    m_iTrackOrder:10;               //Order of this track in the current playset.
                            24617 ; 58   |        unsigned int    m_iDirOffset:12;
                            24618 ; 59   |//////////////////////////////////////////////////////////////////////////////////////////////////////
                            24619 ; 60   |        unsigned int    m_iDevice:1;
                            24620 ; 61   |        unsigned int    m_iRecordNum:12;        //Record number of the file record (LFN use).
                            24621 ; 62   |        unsigned int    m_iDirSector2:11;
                            24622 ; 63   |//////////////////////////////////////////////////////////////////////////////////////////////////////
                            24623 ; 64   |        unsigned int    m_pNext:16;             // //points to the next inline file.
                            24624 ; 65   |//////////////////////////////////////////////////////////////////////////////////////////////////////
                            24625 ; 66   |#ifdef DEBUG_SFN
                            24626 ; 67   |        _packed BYTE name[SFN_LENGTH];
                            24627 ; 68   |#endif
                            24628 ; 69   |}FileEntry;
                            24629 ; 70   |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page  97

M:ADDR CODE           CYCLES LINE SOURCELINE
                            24630 ; 71   |typedef struct{
                            24631 ; 72   |        DirEntry _X* pDirEntry; //Start traversing from this directory entry
                            24632 ; 73   |        unsigned int    iReason;
                            24633 ; 74   |        unsigned int iDevice;
                            24634 ; 75   |        unsigned int iPlayset;
                            24635 ; 76   |        unsigned int iDepth;
                            24636 ; 77   |        unsigned int iTrackOrder;
                            24637 ; 78   |        unsigned int iTrackNum;
                            24638 ; 79   |        FileEntry* pFileEntry;
                            24639 ; 80   |        DirEntry _X* DirLinks[_MAX_DIR_DEPTH];  //maintains a dynamic list of directory links within the recursion
                            24640 ; 81   |        unsigned int    iTotalLinks;
                            24641 ; 82   |}TraverseTreeParams;
                            24642 ; 83   |
                            24643 ; 84   |typedef struct{
                            24644 ; 85   |        unsigned int EntryType;                         //TYPE_DIR or TYPE_FILE
                            24645 ; 86   |        FileEntry* pFileEntry;          //used if TYPE_FILE
                            24646 ; 87   |        DirEntry _X* pDirEntry;                 //used if TYPE_DIR
                            24647 ; 88   |        unsigned int iTrackNum;
                            24648 ; 89   |        unsigned int iTrackOrder;
                            24649 ; 90   |        DirEntry _X* DirLinks[_MAX_DIR_DEPTH];
                            24650 ; 91   |        unsigned int iTotalLinks;
                            24651 ; 92   |}EntryAccessInfo;
                            24652 ; 93   |
                            24653 ; 94   |typedef struct{
                            24654 ; 95   |        void* pEntry;
                            24655 ; 96   |        _packed BYTE name[SFN_LENGTH];
                            24656 ; 97   |}SFNStorage;
                            24657 ; 98   |
                            24658 ; 99   |extern DirEntry _X g_DirEntryPerDevice[];               //ROOT(s)
                            24659 ; 100  |extern DirEntry _X g_DirEntryPool[];            //Pool of directory entries, Does not contain files.
                            24660 ; 101  |extern FileEntry g_FileEntryPool[];
                            24661 ; 102  |extern EntryAccessInfo g_CurrentTrack;
                            24662 ; 103  |extern int g_iPlaylistRepeat;
                            24663 ; 104  |extern int g_bPlaylistShuffle;
                            24664 ; 105  |extern SFNStorage g_TempSFNSpace[];
                            24665 ; 106  |extern int g_iTotalTracks;
                            24666 ; 107  |
                            24667 ; 108  |extern int g_iPlaySet;
                            24668 ; 109  |
                            24669 ; 110  |extern struct Bookmark g_MarkerMusic, g_MarkerVoice;
                            24670 ; 111  |extern int g_iTotalDir;
                            24671 ; 112  |extern int g_iTotalFiles;
                            24672 ; 113  |
                            24673 ; 114  |void _reentrant ML_building_engine_init_playlist3(void);
                            24674 ; 115  |void _reentrant ML_voice_build_engine_init_playlist3(void);
                            24675 ; 116  |void _reentrant ML_merging_engine_init_playlist3(void);
                            24676 ; 117  |_reentrant void Rebuild_GetMetaData(WORD wMode,int ignored1,int*ignored2);
                            24677 ; 118  |_reentrant void Rebuild_GetFileMetaData(INT PackedPathNameAddress, INT btCurrentDevice, FILE_META_DATA *MetaData);
                            24678 ; 119  |_reentrant RETCODE AddDirToLibrary(INT iDrive, INT iDirDepth);
                            24679 ; 120  |RETCODE _reentrant ML_GetLFN(DWORD dwFastKey, INT iRecordNum, UCS3 *pBuf);
                            24680 ; 121  |
                            24681 ; 122  |#endif
                            24682 
                            24684 
                            24685 ; 35   |#include "browsemenu.h"
                            24686 
                            24688 
                            24689 ; 1    |#ifndef BROWSEMENU_H
                            24690 ; 2    |#define BROWSEMENU_H
                            24691 ; 3    |
                            24692 ; 4    |#include "musiclib_ghdr.h"
                            24693 
                            24695 
                            24696 ; 1    |#ifndef MUSICLIB_GHDR_H
                            24697 ; 2    |#define MUSICLIB_GHDR_H
                            24698 ; 3    |
                            24699 ; 4    |#ifdef __cplusplus
                            24700 ; 5    |extern "C" {
                            24701 ; 6    |#endif
                            24702 ; 7    |
                            24703 ; 8    |/*==================================================================================================
                            24704 ; 9    |
                            24705 ; 10   |                                        General Description
                            24706 ; 11   |
                            24707 ; 12   |====================================================================================================
                            24708 ; 13   |
                            24709 ; 14   |                               Sigmatel Inc Confidential Proprietary
                            24710 ; 15   |                               (c) Copyright Sigmatel Inc 2004, All Rights Reserved
                            24711 ; 16   |
                            24712 ; 17   |HEADER NAME: mf_sf_filename.h   AUTHOR: Developer Name      CREATION DATE: DD/MM/YYYY
                            24713 ; 18   |
                            24714 ; 19   |PRODUCT NAMES: All
                            24715 ; 20   |
                            24716 ; 21   |GENERAL DESCRIPTION:
                            24717 ; 22   |
                            24718 ; 23   |    General description of this grouping of functions.
                            24719 ; 24   |
                            24720 ; 25   |Portability: All
                            24721 ; 26   |
                            24722 ; 27   |
                            24723 ; 28   |Revision History:
                            24724 ; 29   |
                            24725 ; 30   |                         Modification        Tracking
                            24726 ; 31   |Author                       Date             Number           Description of Changes
                            24727 ; 32   |---------------------    ------------        ----------        -------------------------------------
                            24728 ; 33   |Developer Name            DD/MM/YYYY         PDaaaxxxxx        brief description of changes made
                            24729 ; 34   |
                            24730 ; 35   |
                            24731 ; 36   |====================================================================================================
                            24732 ; 37   |                                            DESCRIPTION
                            24733 ; 38   |====================================================================================================
                            24734 ; 39   |
                            24735 ; 40   |GLOBAL FUNCTIONS:
                            24736 ; 41   |    MF_global_func_name()
                            24737 ; 42   |
                            24738 ; 43   |TRACEABILITY MATRIX:
                            24739 ; 44   |    None
                            24740 ; 45   |
                            24741 ; 46   |==================================================================================================*/
                            24742 ; 47   |
                            24743 ; 48   |/*==================================================================================================
                            24744 ; 49   |                                                                Conditional Compilation Directives
                            24745 ; 50   |==================================================================================================*/
                            24746 ; 51   |#ifdef WIN32
                            24747 ; 52   |#define _PC_SIMULATION_
                            24748 ; 53   |#else
                            24749 ; 54   |#define _RUNNING_IN_EMBEDDED_
                            24750 ; 55   |#endif  // WIN32
                            24751 ; 56   |
                            24752 ; 57   |#if 1
                            24753 ; 58   |#define _NEWMUSIC_      /* install new music list */
                            24754 ; 59   |#endif
                            24755 ; 60   |
                            24756 ; 61   |#if 1
                            24757 ; 62   |#define _AUDIBLE_       /* install audible list */
                            24758 ; 63   |#endif
                            24759 ; 64   |
                            24760 ; 65   |#if 1
                            24761 ; 66   |#define _ONTHEGO_       /* install on the go list */
                            24762 ; 67   |#endif
                            24763 ; 68   |
                            24764 ; 69   |#ifdef PL3_FB
                            24765 ; 70   |#define _FOLDER_BROWSE_ // install folder browsing
                            24766 ; 71   |#endif
                            24767 ; 72   |
                            24768 ; 73   |#if 1
                            24769 ; 74   |#define _SUPPORT_2000_SONGS_
                            24770 ; 75   |#endif
                            24771 ; 76   |
                            24772 ; 77   |/*==================================================================================================
                            24773 ; 78   |                                           INCLUDE FILES
                            24774 ; 79   |==================================================================================================*/
                            24775 ; 80   |#ifdef _RUNNING_IN_EMBEDDED_
                            24776 ; 81   |#define OEM_SEEK_CUR    SEEK_CUR
                            24777 ; 82   |#define OEM_SEEK_SET    SEEK_SET
                            24778 ; 83   |#define OEM_SEEK_END    SEEK_END
                            24779 ; 84   |#else
                            24780 ; 85   |#define _X
                            24781 ; 86   |#define _Y
                            24782 ; 87   |#define _packed
                            24783 ; 88   |
                            24784 ; 89   |#define _asmfunc
                            24785 ; 90   |#define _reentrant
                            24786 ; 91   |
                            24787 ; 92   |#define OEM_SEEK_CUR    1
                            24788 ; 93   |#define OEM_SEEK_SET    0
                            24789 ; 94   |#define OEM_SEEK_END    2
                            24790 ; 95   |#endif  // _RUNNING_IN_EMBEDDED_
                            24791 ; 96   |
                            24792 ; 97   |#include "types.h"
                            24793 ; 98   |#include "exec.h"
                            24794 ; 99   |#include "messages.h"
                            24795 ; 100  |#include "project.h"
                            24796 ; 101  |
                            24797 ; 102  |/*==================================================================================================
                            24798 ; 103  |                                             CONSTANTS
                            24799 ; 104  |==================================================================================================*/
                            24800 ; 105  |/* The bit mask for 2 bits Unicode Flag selection in "uint8 unicode".
                            24801 ; 106  |Variable Represented            Bits used in "uint8 unicode"
                            24802 ; 107  |Artistname                              1:0
                            24803 ; 108  |Albumname                               3:2
                            24804 ; 109  |Genrename                               5:4
                            24805 ; 110  |Songname                                7:6
                            24806 ; 111  |----------------------------------------------------------
                            24807 ; 112  |    Value (2 bits)                      Meanings
                            24808 ; 113  |    0                                   RAW and All ASCII
                            24809 ; 114  |    1                                   Uni-code
                            24810 ; 115  |    2                                   Mixed, non-unicode
                            24811 ; 116  |
                            24812 ; 117  |    3(Genre only)               Genre is ID3v1 spec=>number
                            24813 ; 118  |*/
                            24814 ; 119  |#define BITMASK_ARTIST  (0x03)
                            24815 ; 120  |#define BITMASK_ALBUM   (0x0C)
                            24816 ; 121  |#define BITMASK_GENRE   (0x30)
                            24817 ; 122  |#define BITMASK_SONG    (0xC0)
                            24818 ; 123  |
                            24819 ; 124  |#define BITCHK_ARTIST_ALLASCII  (0x0)
                            24820 ; 125  |#define BITCHK_ALBUM_ALLASCII   (0x0)
                            24821 ; 126  |#define BITCHK_GENRE_ALLASCII   (0x0)
                            24822 ; 127  |#define BITCHK_SONG_ALLASCII    (0x0)
                            24823 ; 128  |
                            24824 ; 129  |#define BITCHK_ARTIST_UNICODE   (0x01)
                            24825 ; 130  |#define BITCHK_ALBUM_UNICODE    (0x04)
                            24826 ; 131  |#define BITCHK_GENRE_UNICODE    (0x10)
                            24827 ; 132  |#define BITCHK_SONG_UNICODE             (0x40)
                            24828 ; 133  |
                            24829 ; 134  |#define BITCHK_ARTIST_MIXCODE   (0x02)
                            24830 ; 135  |#define BITCHK_ALBUM_MIXCODE    (0x08)
                            24831 ; 136  |#define BITCHK_GENRE_MIXCODE    (0x20)
                            24832 ; 137  |#define BITCHK_SONG_MIXCODE             (0x80)
                            24833 ; 138  |
                            24834 ; 139  |#define BITCHK_GENRE_ID3V1              (0x30)
                            24835 ; 140  |
                            24836 ; 141  |#define UNKNOWN_YEAR_CODE               (1)     /* set a very large number */
                            24837 ; 142  |
                            24838 ; 143  |#define INDEX_EOF       0xFFF
                            24839 ; 144  |#ifdef _FOLDER_BROWSE_
                            24840 ; 145  |#define INDEX_ROOT  0xffe
                            24841 ; 146  |#define UNKNOWN_RECORD  0xfff
                            24842 ; 147  |#endif  // _FOLDER_BROWSE_
                            24843 ; 148  |
                            24844 ; 149  |/* Constant for item_type */
                            24845 ; 150  |#define         ITEM_ARTIST                     0
                            24846 ; 151  |#define         ITEM_ALBUM                      1
                            24847 ; 152  |#define         ITEM_GENRE                      2
                            24848 ; 153  |#define         ITEM_TRACK                      3
                            24849 ; 154  |#define         ITEM_YEAR                       4
                            24850 ; 155  |#define         ITEM_SONG_INFO_ARTIST   5
                            24851 ; 156  |#define         ITEM_SONG_INFO_ALBUM    6
                            24852 ; 157  |#define         ITEM_SONG_INFO_GENRE    7
                            24853 ; 158  |#define         ITEM_SONG_INFO_YEAR             9
                            24854 ; 159  |#ifdef _NEWMUSIC_
                            24855 ; 160  |#define         ITEM_1DAY                       10
                            24856 ; 161  |#define         ITEM_1WEEK                      11
                            24857 ; 162  |#define         ITEM_1MONTH                     12
                            24858 ; 163  |#endif
                            24859 ; 164  |#ifdef _AUDIBLE_
                            24860 ; 165  |#define         ITEM_AUDIBLE            13
                            24861 ; 166  |#endif
                            24862 ; 167  |#define         ITEM_ON_THE_GO          14
                            24863 ; 168  |
                            24864 ; 169  |#define         ITEM_VOICE                      15
                            24865 ; 170  |#define         ITEM_FMREC                      16
                            24866 ; 171  |#define         ITEM_PHOTO                      17
                            24867 ; 172  |#ifdef _FOLDER_BROWSE_
                            24868 ; 173  |#define         ITEM_INTERNAL           18
                            24869 ; 174  |#define         ITEM_EXTERNAL       19
                            24870 ; 175  |#endif  // _FOLDER_BROWSE_
                            24871 ; 176  |#define     ITEM_UNKNOWN        0xff
                            24872 ; 177  |
                            24873 ; 178  |/*
                            24874 ; 179  |input parameter for void ML_AddEntryToLibrary(uint24 Media_type, RAM_SONG_INFO_T *song_info, int16 option);
                            24875 ; 180  |option input.
                            24876 ; 181  |*/
                            24877 ; 182  |#define         ADD_OPTION_MUSIC        (0x00)
                            24878 ; 183  |#define         ADD_OPTION_VOICE        (0x01)
                            24879 ; 184  |#define         ADD_OPTION_AUDIBLE      (0x02)
                            24880 ; 185  |#ifdef _FOLDER_BROWSE_
                            24881 ; 186  |#define     ADD_OPTION_DIR      (0x03)
                            24882 ; 187  |#endif  // _FOLDER_BROWSE_
                            24883 ; 188  |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page  98

M:ADDR CODE           CYCLES LINE SOURCELINE
                            24884 ; 189  |/* Constant for key action */
                            24885 ; 190  |#define         ACTION_OK                               0               /* Press OK button */
                            24886 ; 191  |#define         ACTION_BACK                             1               /* Press BACK button */
                            24887 ; 192  |#define         ACTION_UP                               2               /* Press UP button */
                            24888 ; 193  |#define         ACTION_DOWN                             3               /* Press DOWN button */
                            24889 ; 194  |#define         ACTION_PLAYALL                  4               /* Play All function */
                            24890 ; 195  |#define         ACTION_MENU                             5               /* Back the browsing tree to root */
                            24891 ; 196  |
                            24892 ; 197  |#define     PLAYMODE_CURRENT_PLAYMODE_BITPOS    0
                            24893 ; 198  |#define     PLAYMODE_LAST_PLAYMODE_BITPOS       1
                            24894 ; 199  |#define     PLAYMODE_REPEAT_BITPOS              2
                            24895 ; 200  |#define     PLAYMODE_MEDIA_BITPOS               3
                            24896 ; 201  |
                            24897 ; 202  |#define         NO_SD                                   0
                            24898 ; 203  |#define         HAS_SD                                  1
                            24899 ; 204  |
                            24900 ; 205  |#define         PLAY_NORMAL                             0
                            24901 ; 206  |#define         PLAY_SHUFFLE                    1
                            24902 ; 207  |
                            24903 ; 208  |#define     PLAY_REPEAT_OFF         0
                            24904 ; 209  |#define     PLAY_REPEAT_ON          1
                            24905 ; 210  |
                            24906 ; 211  |#define     PLAY_SELECT_FLASH       0
                            24907 ; 212  |#define     PLAY_SELECT_SD          1
                            24908 ; 213  |
                            24909 ; 214  |#define         SHUFFLE_NEXT_SONG                       0
                            24910 ; 215  |#define         SHUFFLE_PREVIOUS_SONG       1
                            24911 ; 216  |
                            24912 ; 217  |#define         ON_THE_GO_EXIST                 0
                            24913 ; 218  |#define         ON_THE_GO_FULL                  1
                            24914 ; 219  |#define         ON_THE_GO_FREE                  2
                            24915 ; 220  |#define         ON_THE_GO_DEL_PLAYING   3
                            24916 ; 221  |#define         ON_THE_GO_DEL_SMALLER_ID    4
                            24917 ; 222  |
                            24918 ; 223  |#define         REC_VOICE_TYPE                  0
                            24919 ; 224  |#define         REC_FMREC_TYPE                  1
                            24920 ; 225  |#define         REC_PHOTO_TYPE                  2
                            24921 ; 226  |#define         VOICE_FILE_ADD                  0
                            24922 ; 227  |#define         VOICE_FILE_DEL                  1
                            24923 ; 228  |
                            24924 ; 229  |#define         MAX_BROWSE_WINDOW_SIZE  (8)
                            24925 ; 230  |#define         BROWSE_WINDOW_SIZE              (4)
                            24926 ; 231  |/* maximum number of song file, should not be larger than 2048 each for on-board
                            24927 ; 232  |flash or external SD card */
                            24928 ; 233  |#ifdef _SUPPORT_2000_SONGS_
                            24929 ; 234  |#define MAX_NUM_OF_SONG (2000)
                            24930 ; 235  |#else
                            24931 ; 236  |#define MAX_NUM_OF_SONG (1000)
                            24932 ; 237  |#endif // _SUPPORT_2000_SONGS_
                            24933 ; 238  |
                            24934 ; 239  |/* number of byte in one DSP word */
                            24935 ; 240  |#define NUM_OF_BYTE_IN_ONE_WORD (3)
                            24936 ; 241  |#define LEN_OF_NAME_IN_BYTE (120) /* must be an integer multiple of 3 */
                            24937 ; 242  |/* length of file pathname in byte, assuming directory and file in 8.3 format, there
                            24938 ; 243  |are 10 level directory structure */
                            24939 ; 244  |#define LEN_OF_FILEPATH_IN_BYTE (129) /* must be an integer multiple of 3 */
                            24940 ; 245  |#define LEN_OF_LONG_FILENAME_IN_BYTE (129) /* must be an integer multiple of 3 */
                            24941 ; 246  |
                            24942 ; 247  |/* number of list in new music, 1-day, 1-week, 1-month */
                            24943 ; 248  |#define NUM_OF_LIST_IN_NEW_MUSIC (3)
                            24944 ; 249  |/* number of songs in each new music list */
                            24945 ; 250  |#define NUM_OF_SONG_IN_NEW_MUSIC (40)
                            24946 ; 251  |#define NUM_OF_SONG_IN_NEW_MUSIC_DAY (20)
                            24947 ; 252  |#define NUM_OF_SONG_IN_NEW_MUSIC_WEEK (30)
                            24948 ; 253  |#define NUM_OF_SONG_IN_NEW_MUSIC_MONTH (40)
                            24949 ; 254  |/* number of songs in the on-the-fly list */
                            24950 ; 255  |#define NUM_OF_SONG_IN_ON_THE_FLY (30)
                            24951 ; 256  |/* number of files audible list */
                            24952 ; 257  |#define NUM_OF_AUDIBLE_FILE (250)
                            24953 ; 258  |
                            24954 ; 259  |#define MAX_NUM_OF_VOICE (1000)
                            24955 ; 260  |#define LEN_OF_VOICE_NAME_IN_BYTE (LEN_OF_NAME_IN_BYTE) /* must be an integer multiple of 3 */
                            24956 ; 261  |#define LEN_OF_VOICE_FILEPATH_IN_BYTE (LEN_OF_FILEPATH_IN_BYTE) /* must be an integer multiple of 3 */
                            24957 ; 262  |
                            24958 ; 263  |#define MAX_NUM_OF_FMREC (MAX_NUM_OF_VOICE)     /* _must_be_equal_voice_num_ */
                            24959 ; 264  |#define MAX_NUM_OF_PHOTO (MAX_NUM_OF_VOICE)     /* _must_be_equal_voice_num_ */
                            24960 ; 265  |#ifdef _FOLDER_BROWSE_
                            24961 ; 266  |#define MAX_NUM_OF_DIR   (1000)
                            24962 ; 267  |#else
                            24963 ; 268  |#define MAX_NUM_OF_DIR   (1)
                            24964 ; 269  |#endif  // _FOLDER_BROWSE_
                            24965 ; 270  |#define LEN_OF_FMREC_NAME_IN_BYTE (LEN_OF_NAME_IN_BYTE) /* must be an integer multiple of 3 */
                            24966 ; 271  |#define LEN_OF_FMREC_FILEPATH_IN_BYTE (LEN_OF_FILEPATH_IN_BYTE) /* must be an integer multiple of 3 */
                            24967 ; 272  |
                            24968 ; 273  |#ifndef _MAX_DIR_DEPTH
                            24969 ; 274  |#define _MAX_DIR_DEPTH  8   // referred to "playlist3internal.h"
                            24970 ; 275  |#endif  // _MAX_DIR_DEPTH
                            24971 ; 276  |
                            24972 ; 277  |/*==================================================================================================*/
                            24973 ; 278  |
                            24974 ; 279  |
                            24975 ; 280  |/*==================================================================================================
                            24976 ; 281  |                                               MACROS
                            24977 ; 282  |==================================================================================================*/
                            24978 ; 283  |
                            24979 ; 284  |/*==================================================================================================
                            24980 ; 285  |                                               ENUMS
                            24981 ; 286  |==================================================================================================*/
                            24982 ; 287  |#define NUM_OF_MEDIA                            (2)
                            24983 ; 288  |#define MEDIA_TYPE_FLASH                        (0)
                            24984 ; 289  |#define MEDIA_TYPE_SD                           (1)
                            24985 ; 290  |/*==================================================================================================
                            24986 ; 291  |                                     STRUCTURES AND OTHER TYPEDEFS
                            24987 ; 292  |==================================================================================================*/
                            24988 ; 293  |
                            24989 ; 294  |typedef char    int8;
                            24990 ; 295  |typedef short   int16;
                            24991 ; 296  |typedef int     int24;
                            24992 ; 297  |typedef long    int32;
                            24993 ; 298  |
                            24994 ; 299  |typedef int     intx;
                            24995 ; 300  |
                            24996 ; 301  |typedef unsigned char   uint8;
                            24997 ; 302  |typedef unsigned short  uint16;
                            24998 ; 303  |typedef unsigned int    uint24;
                            24999 ; 304  |typedef unsigned long   uint32;
                            25000 ; 305  |
                            25001 ; 306  |/*
                            25002 ; 307  |Any missing information in the name fields will be filled with Unknown in Unicode format.
                            25003 ; 308  |artist_name[] = Unknown; unicode = 0x01;
                            25004 ; 309  |album_name[] = Unknown; unicode = 0x04;
                            25005 ; 310  |genre_name[] = Unknown; unicode = 0x08;
                            25006 ; 311  |song_name[] = Unknown; unicode = 0x0F;
                            25007 ; 312  |*/
                            25008 ; 313  |/*
                            25009 ; 314  |path_name[] _must_have_data_:
                            25010 ; 315  |path_name[] = (Max. 120 Characters);
                            25011 ; 316  |year range:
                            25012 ; 317  |year = 0x000000-0xFFFFFF;
                            25013 ; 318  |DOCUMENT CONTROL NUMBER : Version : 01.01
                            25014 ; 319  |Unknown track number:
                            25015 ; 320  |track_number = 0x7FFFFF;
                            25016 ; 321  |unicode refer to above #define BITMASK_*
                            25017 ; 322  |*/
                            25018 ; 323  |/*
                            25019 ; 324  |Interface of UI and Music Library
                            25020 ; 325  |1) If file was created in ID3V1 format genre, UI will convert it to Unicode string.
                            25021 ; 326  |
                            25022 ; 327  |2) Music Library expected to reserve 128x7 words RAM for UI mapping table.
                            25023 ; 328  |
                            25024 ; 329  |3) UI to Music Library variable passing length definition:
                            25025 ; 330  |        All ASCII Characters:
                            25026 ; 331  |                Max. Number of Bytes Stored = 120 Bytes
                            25027 ; 332  |                Max. Number of Characters Stored/Display = 40 Characters
                            25028 ; 333  |        Unicode Characters:
                            25029 ; 334  |                Max. Number of Bytes Stored = 120 Bytes
                            25030 ; 335  |                Max. Number of Characters Stored/Display = 40 Characters
                            25031 ; 336  |
                            25032 ; 337  |4) UI input data to Music Library in two formats.
                            25033 ; 338  |        Formats:        1) All ASCII (24 bits data)
                            25034 ; 339  |                                2) Unicode + Mix. Non -Unicode (16 bits data)
                            25035 ; 340  |
                            25036 ; 341  |5) UI calling function:
                            25037 ; 342  |COMP_OPT_REN void ML_AddEntryToLibrary(RAM_SONG_INFO_T *song_info, int16 option);
                            25038 ; 343  |        int16 option definition:
                            25039 ; 344  |                option  = 0 - song_info struct contains a mp3/wma format file.
                            25040 ; 345  |                                = 1 - song_info struct contains a voice format file.
                            25041 ; 346  |                                = 2 - song_info struct contains a audible format file.
                            25042 ; 347  |
                            25043 ; 348  |        i) Only mp3/wma file (option = 0, 2) files will be sorted,
                            25044 ; 349  |        ii) Voice and audible(option = 1) file will be store in a voice_list and audible_list separately.
                            25045 ; 350  |
                            25046 ; 351  |6) Modification Date:
                            25047 ; 352  |        uint24 g_file_time:
                            25048 ; 353  |                YYMMDD: 12 bits - Year, 6 bits - Month, 6 - bits Date
                            25049 ; 354  |*/
                            25050 ; 355  |
                            25051 ; 356  |/* struct to store the song information passed from UI, this struct will be placed in
                            25052 ; 357  |ghdr\musiclib_ghdr.h and included in UI files*/
                            25053 ; 358  |typedef struct _ram_song_info {
                            25054 ; 359  |        uint24 artist_name[LEN_OF_NAME_IN_BYTE/NUM_OF_BYTE_IN_ONE_WORD];
                            25055 ; 360  |        uint24 album_name[LEN_OF_NAME_IN_BYTE/NUM_OF_BYTE_IN_ONE_WORD];
                            25056 ; 361  |        uint24 genre_name[LEN_OF_NAME_IN_BYTE/NUM_OF_BYTE_IN_ONE_WORD];
                            25057 ; 362  |        uint24 song_name[LEN_OF_NAME_IN_BYTE/NUM_OF_BYTE_IN_ONE_WORD];
                            25058 ; 363  |        uint24 path_name[LEN_OF_FILEPATH_IN_BYTE/NUM_OF_BYTE_IN_ONE_WORD];
                            25059 ; 364  |    uint32 g_songFastKey;
                            25060 ; 365  |        uint24 dir_name[LEN_OF_LONG_FILENAME_IN_BYTE/NUM_OF_BYTE_IN_ONE_WORD];
                            25061 ; 366  |        uint24 year;
                            25062 ; 367  |        uint24 track_number;
                            25063 ; 368  |        uint8 unicode;
                            25064 ; 369  |} RAM_SONG_INFO_T;
                            25065 ; 370  |
                            25066 ; 371  |/* struct to store the group name: artist, album and genre, in the flash */
                            25067 ; 372  |typedef struct _flash_group_name {
                            25068 ; 373  |        uint24 name[LEN_OF_NAME_IN_BYTE/NUM_OF_BYTE_IN_ONE_WORD];
                            25069 ; 374  |        uint8 unicode;
                            25070 ; 375  |} FLASH_GROUP_NAME_T;
                            25071 ; 376  |
                            25072 ; 377  |// struct to store directories information passed from UI
                            25073 ; 378  |#ifdef _FOLDER_BROWSE_
                            25074 ; 379  |typedef struct _ml_DirInfo {
                            25075 ; 380  |        uint24  u8Unicode : 8;
                            25076 ; 381  |        uint24  u12DirDepth : 12;
                            25077 ; 382  |        uint24  u4Added : 4;            
                            25078 ; 383  |        INT     iDirRecord;
                            25079 ; 384  |        DWORD   dwFastKey;
                            25080 ; 385  |        uint24  u24PathName[LEN_OF_FILEPATH_IN_BYTE/NUM_OF_BYTE_IN_ONE_WORD];
                            25081 ; 386  |} ML_DIRINFO_T;
                            25082 ; 387  |#endif  // _FOLDER_BROWSE_
                            25083 ; 388  |
                            25084 ; 389  |/*==================================================================================================
                            25085 ; 390  |                                 GLOBAL VARIABLE DECLARATIONS
                            25086 ; 391  |==================================================================================================*/
                            25087 ; 392  |extern uint24   IsPlayOnTheGo;
                            25088 ; 393  |extern FLASH_GROUP_NAME_T   browse_item_name[];
                            25089 ; 394  |extern uint24   merge_id_list_flash[];
                            25090 ; 395  |extern uint24   merge_id_list_sd[];
                            25091 ; 396  |extern INT _X   g_iBrowseWindowSize;
                            25092 ; 397  |#ifdef _FOLDER_BROWSE_
                            25093 ; 398  |extern ML_DIRINFO_T g_tDirInfoBuffer[_MAX_DIR_DEPTH];
                            25094 ; 399  |extern uint24       g_u24DirName[LEN_OF_NAME_IN_BYTE/NUM_OF_BYTE_IN_ONE_WORD];
                            25095 ; 400  |extern uint24       g_u24BrowseNumOfDirInDir[];
                            25096 ; 401  |#endif  // _FOLDER_BROWSE_
                            25097 ; 402  |extern INT _X    *sec_temp_buf_X;
                            25098 ; 403  |extern uint24   playMode;   /* bit 0 = current play mode; bit 1 = last play mode ; bit 2 = repeat on/off(0=off/1=on) */
                            25099 ; 404  |
                            25100 ; 405  |/*==================================================================================================
                            25101 ; 406  |                                        FUNCTION PROTOTYPES
                            25102 ; 407  |==================================================================================================*/
                            25103 ; 408  |
                            25104 ; 409  |///////////////////////////////////////////////////////////////////////
                            25105 ; 410  |//! \brief
                            25106 ; 411  |//!
                            25107 ; 412  |//! \fntype Function
                            25108 ; 413  |//!
                            25109 ; 414  |//! Called by UI, to initialize the parameters before insert any item.
                            25110 ; 415  |//! Call only once before inserting items. Call once for each media.
                            25111 ; 416  |//!
                            25112 ; 417  |//! \param[in]  none
                            25113 ; 418  |//!
                            25114 ; 419  |//! \return
                            25115 ; 420  |//!
                            25116 ; 421  |///////////////////////////////////////////////////////////////////////
                            25117 ; 422  |void ML_InitLibraryParameter(void);
                            25118 ; 423  |
                            25119 ; 424  |///////////////////////////////////////////////////////////////////////
                            25120 ; 425  |//! \brief
                            25121 ; 426  |//!
                            25122 ; 427  |//! \fntype Function
                            25123 ; 428  |//!
                            25124 ; 429  |//! Called by UI, the AddEntryToLibrary is the music library building
                            25125 ; 430  |//! algorithms for the flash-type memory and SD memory by sorting the song information
                            25126 ; 431  |//! by, but not limited to, album, artist, genre, year and track. Called once for each song,
                            25127 ; 432  |//! the song information is recorded in music library.
                            25128 ; 433  |//!
                            25129 ; 434  |//! \param[in]  uint24 Media_type - Possible values: MEDIA_TYPE_FLASH(=0); MEDIA_TYPE_SD(=1)
                            25130 ; 435  |//! \param[in]  RAM_SONG_INFO_T *song_info - Structure to store the song information passed from UI, this structure is defined in ghdr\musiclib_ghdr.h and included in UI files)
                            25131 ; 436  |//! \param[in]  int16 option - option = 0 -- song_info struct contains a mp3, wma or wav format file.
                            25132 ; 437  |//!
                            25133 ; 438  |//! \return
                            25134 ; 439  |//!
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page  99

M:ADDR CODE           CYCLES LINE SOURCELINE
                            25135 ; 440  |///////////////////////////////////////////////////////////////////////
                            25136 ; 441  |void ML_AddEntryToLibrary(uint24 Media_type, RAM_SONG_INFO_T *song_info, int16 option);
                            25137 ; 442  |
                            25138 ; 443  |///////////////////////////////////////////////////////////////////////
                            25139 ; 444  |//! \brief
                            25140 ; 445  |//!
                            25141 ; 446  |//! \fntype Function
                            25142 ; 447  |//!
                            25143 ; 448  |//! \param[in]
                            25144 ; 449  |//!
                            25145 ; 450  |//! \return
                            25146 ; 451  |//!
                            25147 ; 452  |///////////////////////////////////////////////////////////////////////
                            25148 ; 453  |#ifdef _FOLDER_BROWSE_
                            25149 ; 454  |_reentrant void ML_AddDirEntryToLibrary(uint24 u24MediaType, ML_DIRINFO_T *ptDirInfo, int16 i16Option);
                            25150 ; 455  |#endif  // _FOLDER_BROWSE_
                            25151 ; 456  |
                            25152 ; 457  |///////////////////////////////////////////////////////////////////////
                            25153 ; 458  |//! \brief
                            25154 ; 459  |//!
                            25155 ; 460  |//! \fntype Function
                            25156 ; 461  |//!
                            25157 ; 462  |//! Called by UI, flush sorted and associate list to flash when no
                            25158 ; 463  |//! more song needed to be added for that media. This function finalizes the building of
                            25159 ; 464  |//! music library for that particular media.
                            25160 ; 465  |//!
                            25161 ; 466  |//! \param[in]  uint24 Media_type - Possible values: MEDIA_TYPE_FLASH(=0); MEDIA_TYPE_SD(=1)
                            25162 ; 467  |//!
                            25163 ; 468  |//! \return
                            25164 ; 469  |//!
                            25165 ; 470  |//! \note   Bulid the library first (call ML_AddEntryToLibrary) before calling this
                            25166 ; 471  |//!         function.
                            25167 ; 472  |///////////////////////////////////////////////////////////////////////
                            25168 ; 473  |_reentrant INT ML_FlushLibraryToFlash(INT Media_type, INT b, INT *c);
                            25169 ; 474  |
                            25170 ; 475  |///////////////////////////////////////////////////////////////////////
                            25171 ; 476  |//! \brief
                            25172 ; 477  |//!
                            25173 ; 478  |//! \fntype Function
                            25174 ; 479  |//!
                            25175 ; 480  |//! \param[in]
                            25176 ; 481  |//!
                            25177 ; 482  |//! \return
                            25178 ; 483  |//!
                            25179 ; 484  |///////////////////////////////////////////////////////////////////////
                            25180 ; 485  |#ifdef _NEWMUSIC_
                            25181 ; 486  |void ML_UpdateNewMusic(void);
                            25182 ; 487  |#endif
                            25183 ; 488  |
                            25184 ; 489  |///////////////////////////////////////////////////////////////////////
                            25185 ; 490  |//! \brief
                            25186 ; 491  |//!
                            25187 ; 492  |//! \fntype Function
                            25188 ; 493  |//!
                            25189 ; 494  |//! Called by UI, to initialize the file access mechanism for all music
                            25190 ; 495  |//! library operation if the music.lib file and the music.sec file exist (call
                            25191 ; 496  |//! ML_BuildSecTableFile() if these files do not exist).
                            25192 ; 497  |//!
                            25193 ; 498  |//! \param[in]  none
                            25194 ; 499  |//!
                            25195 ; 500  |//! \return
                            25196 ; 501  |//!
                            25197 ; 502  |//! \note   Either ML_Buildl2SecTable(void) or ML_BuildSecTableFile(void)
                            25198 ; 503  |//!         must be called before calling any other music library functions.
                            25199 ; 504  |///////////////////////////////////////////////////////////////////////
                            25200 ; 505  |_reentrant INT ML_Buildl2SecTable(INT a, INT b, INT *c);
                            25201 ; 506  |
                            25202 ; 507  |///////////////////////////////////////////////////////////////////////
                            25203 ; 508  |//! \brief
                            25204 ; 509  |//!
                            25205 ; 510  |//! \fntype Function
                            25206 ; 511  |//!
                            25207 ; 512  |//! Called by UI, to initialize the file access mechanism for all music
                            25208 ; 513  |//! library operation.
                            25209 ; 514  |//! Two system files (music.lib and music.sec) is created.
                            25210 ; 515  |//! Call this only if intended to generate / refresh these files, or if the music.lib file and the
                            25211 ; 516  |//! music.sec file do not exist.
                            25212 ; 517  |//!
                            25213 ; 518  |//! \param[in]  none
                            25214 ; 519  |//!
                            25215 ; 520  |//! \return
                            25216 ; 521  |//!
                            25217 ; 522  |//! \note   Either ML_Buildl2SecTable(void) or ML_BuildSecTableFile(void)
                            25218 ; 523  |//!         must be called before calling any other music library functions.
                            25219 ; 524  |///////////////////////////////////////////////////////////////////////
                            25220 ; 525  |_reentrant INT ML_BuildSecTableFile(INT a, INT b, INT *c);
                            25221 ; 526  |
                            25222 ; 527  |///////////////////////////////////////////////////////////////////////
                            25223 ; 528  |//! \brief
                            25224 ; 529  |//!
                            25225 ; 530  |//! \fntype Function
                            25226 ; 531  |//!
                            25227 ; 532  |//! Preload the list, prepare for renew.
                            25228 ; 533  |//! IsColdBoot=TRUE: loads the list content and the path name to the on_the_fly_list
                            25229 ; 534  |//! structure in RAM.
                            25230 ; 535  |//! IsColdBoot=FALSE: updates the path name only, to the on_the_fly_list structure
                            25231 ; 536  |//! in RAM.
                            25232 ; 537  |//!
                            25233 ; 538  |//! \param[in]  uint24 IsColdBoot - Possible values: TRUE or FALSE
                            25234 ; 539  |//!
                            25235 ; 540  |//! \return
                            25236 ; 541  |//!
                            25237 ; 542  |//! \note   Use IsColdBoot=TRUE only once when the machine boot-up, other
                            25238 ; 543  |//!         time when you need to renew the list, use IsColdBoot=FALSE instead.
                            25239 ; 544  |///////////////////////////////////////////////////////////////////////
                            25240 ; 545  |void ML_LoadOnTheGo(uint24 IsColdBoot);
                            25241 ; 546  |
                            25242 ; 547  |///////////////////////////////////////////////////////////////////////
                            25243 ; 548  |//! \brief
                            25244 ; 549  |//!
                            25245 ; 550  |//! \fntype Function
                            25246 ; 551  |//!
                            25247 ; 552  |//! Save the list to flash memory.
                            25248 ; 553  |//!
                            25249 ; 554  |//! \param[in]
                            25250 ; 555  |//!
                            25251 ; 556  |//! \return
                            25252 ; 557  |//!
                            25253 ; 558  |//! \note   It is recommended to save the list as soon as possible after it was
                            25254 ; 559  |//!         changed by the user.
                            25255 ; 560  |///////////////////////////////////////////////////////////////////////
                            25256 ; 561  |void ML_SaveOnTheGo(void);      /* call at shutdownmenu.c to save the list */
                            25257 ; 562  |
                            25258 ; 563  |///////////////////////////////////////////////////////////////////////
                            25259 ; 564  |//! \brief
                            25260 ; 565  |//!
                            25261 ; 566  |//! \fntype Function
                            25262 ; 567  |//! When the Music Lib is rebuilding, the path of each song is
                            25263 ; 568  |//! compared with the path stored in the on_the_fly_list structure, to decide if it was in the
                            25264 ; 569  |//! list before, if so the ID is replaced by the new songID, and the song is keep in the list.
                            25265 ; 570  |//! Otherwise the song is deleted.
                            25266 ; 571  |//!
                            25267 ; 572  |//! \param[in]  uint24 Media_type - Possible values: MEDIA_TYPE_FLASH(=0); MEDIA_TYPE_SD(=1)
                            25268 ; 573  |//! \param[in]  uint24 _X * temp_path - Input value, the path of song to be checked.
                            25269 ; 574  |//! \param[in]  uint24 newID - Input value, the new songID of the song.
                            25270 ; 575  |//!
                            25271 ; 576  |//! \return
                            25272 ; 577  |//!
                            25273 ; 578  |///////////////////////////////////////////////////////////////////////
                            25274 ; 579  |void ML_ChkOnTheGo(uint24 Media_type, uint24 _X * temp_path, uint24 newID);
                            25275 ; 580  |
                            25276 ; 581  |///////////////////////////////////////////////////////////////////////
                            25277 ; 582  |//! \brief
                            25278 ; 583  |//!
                            25279 ; 584  |//! \fntype Function
                            25280 ; 585  |//!
                            25281 ; 586  |//! Set a flag for all the songs of Media_type to be keep or delete
                            25282 ; 587  |//! in the ML_UpdateOnTheGo().
                            25283 ; 588  |//!
                            25284 ; 589  |//! \param[in]  uint24 Media_type - Possible values: MEDIA_TYPE_FLASH(=0); MEDIA_TYPE_SD(=1)
                            25285 ; 590  |//! \param[in]  uint24 value - Possible values: TRUE (song will be keep in the list); INDEX_EOF (song will be deleted)
                            25286 ; 591  |//!
                            25287 ; 592  |//! \return
                            25288 ; 593  |//!
                            25289 ; 594  |///////////////////////////////////////////////////////////////////////
                            25290 ; 595  |void ML_ChOnTheGo(uint24 Media_type, uint24 value);
                            25291 ; 596  |
                            25292 ; 597  |///////////////////////////////////////////////////////////////////////
                            25293 ; 598  |//! \brief
                            25294 ; 599  |//!
                            25295 ; 600  |//! \fntype Function
                            25296 ; 601  |//!
                            25297 ; 602  |//! Before the list can be browse, call this function to finalize the list.
                            25298 ; 603  |//!
                            25299 ; 604  |//! \param[in]  none
                            25300 ; 605  |//!
                            25301 ; 606  |//! \return
                            25302 ; 607  |//!
                            25303 ; 608  |///////////////////////////////////////////////////////////////////////
                            25304 ; 609  |void ML_UpdateOnTheGo(void);
                            25305 ; 610  |
                            25306 ; 611  |///////////////////////////////////////////////////////////////////////
                            25307 ; 612  |//! \brief
                            25308 ; 613  |//!
                            25309 ; 614  |//! \fntype Function
                            25310 ; 615  |//!
                            25311 ; 616  |//! Called by UI, to initialize the parameters before insert any item.
                            25312 ; 617  |//! Call only once before inserting items. Call once for each media.
                            25313 ; 618  |//!
                            25314 ; 619  |//! \param[in]  none
                            25315 ; 620  |//!
                            25316 ; 621  |//! \return
                            25317 ; 622  |//!
                            25318 ; 623  |///////////////////////////////////////////////////////////////////////
                            25319 ; 624  |void ML_InitVoiceParameter(void);
                            25320 ; 625  |
                            25321 ; 626  |///////////////////////////////////////////////////////////////////////
                            25322 ; 627  |//! \brief
                            25323 ; 628  |//!
                            25324 ; 629  |//! \fntype Function
                            25325 ; 630  |//!
                            25326 ; 631  |//! \param[in]
                            25327 ; 632  |//!
                            25328 ; 633  |//! \return
                            25329 ; 634  |//!
                            25330 ; 635  |///////////////////////////////////////////////////////////////////////
                            25331 ; 636  |void ML_LoadVoiceParameter(uint24 Rec_type);
                            25332 ; 637  |
                            25333 ; 638  |///////////////////////////////////////////////////////////////////////
                            25334 ; 639  |//! \brief
                            25335 ; 640  |//!
                            25336 ; 641  |//! \fntype Function
                            25337 ; 642  |//!
                            25338 ; 643  |//! Called by UI, the ML_AddEntryToVoice is the voice library
                            25339 ; 644  |//! building algorithms for the flash-type memory by sorting the voice files by file names.
                            25340 ; 645  |//! Called once for each voice file, the information is recorded in music library.
                            25341 ; 646  |//!
                            25342 ; 647  |//! \param[in]  uint24 Rec_type - Possible values: REC_VOICE_TYPE(=0); REC_FMREC_TYPE(=1)
                            25343 ; 648  |//! \param[in]  RAM_SONG_INFO_T *song_info - struct to store the song information passed from UI, this struct will be placed in ghdr\musiclib_ghdr.h and included in UI files
                            25344 ; 649  |//! \param[in]  uint24 action - option = 0 // always set zero
                            25345 ; 650  |//!
                            25346 ; 651  |//! \return
                            25347 ; 652  |//!
                            25348 ; 653  |///////////////////////////////////////////////////////////////////////
                            25349 ; 654  |void ML_AddEntryToVoice(uint24 Rec_type, RAM_SONG_INFO_T *song_info, uint24 action);
                            25350 ; 655  |
                            25351 ; 656  |///////////////////////////////////////////////////////////////////////
                            25352 ; 657  |//! \brief
                            25353 ; 658  |//!
                            25354 ; 659  |//! \fntype Function
                            25355 ; 660  |//!
                            25356 ; 661  |//! Called by UI, flush sorted and associate list to flash when no
                            25357 ; 662  |//! more voice needed to be added for that media. This function finalizes the voice building
                            25358 ; 663  |//! of music library for that particular media.
                            25359 ; 664  |//!
                            25360 ; 665  |//! \param[in]  uint24 Rec_type - Possible values: REC_VOICE_TYPE(=0); REC_FMREC_TYPE(=1)
                            25361 ; 666  |//!
                            25362 ; 667  |//! \return
                            25363 ; 668  |//!
                            25364 ; 669  |//! \note   Bulid the library first (call ML_AddEntryToVoice) before calling this
                            25365 ; 670  |//!         function.
                            25366 ; 671  |///////////////////////////////////////////////////////////////////////
                            25367 ; 672  |void ML_FlushVoiceToFlash(uint24 Rec_type);
                            25368 ; 673  |
                            25369 ; 674  |///////////////////////////////////////////////////////////////////////
                            25370 ; 675  |//! \brief
                            25371 ; 676  |//!
                            25372 ; 677  |//! \fntype Function
                            25373 ; 678  |//!
                            25374 ; 679  |//! Called by UI, the merge the music library tables album,
                            25375 ; 680  |//! artist, genre, song and year.
                            25376 ; 681  |//!
                            25377 ; 682  |//! \param[in]  none
                            25378 ; 683  |//!
                            25379 ; 684  |//! \return
                            25380 ; 685  |//!
                            25381 ; 686  |///////////////////////////////////////////////////////////////////////
                            25382 ; 687  |void ML_MergeLibraryTables(void);
                            25383 ; 688  |
                            25384 ; 689  |///////////////////////////////////////////////////////////////////////
                            25385 ; 690  |//! \brief
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page 100

M:ADDR CODE           CYCLES LINE SOURCELINE
                            25386 ; 691  |//!
                            25387 ; 692  |//! \fntype Function
                            25388 ; 693  |//!
                            25389 ; 694  |//! Called by UI, the merge the music library tables album,
                            25390 ; 695  |//! artist, genre, song and year.
                            25391 ; 696  |//!
                            25392 ; 697  |//! \param[in]  none
                            25393 ; 698  |//!
                            25394 ; 699  |//! \return
                            25395 ; 700  |//!
                            25396 ; 701  |///////////////////////////////////////////////////////////////////////
                            25397 ; 702  |INT _reentrant PathFormationPartial(_packed BYTE* dst, _packed BYTE* src, int iDepth);
                            25398 ; 703  |INT _reentrant PathFormation(_packed BYTE* dst, _packed BYTE* src, int iDepth);
                            25399 ; 704  |_reentrant void TrimUnicodeString(UCS3* pString);
                            25400 ; 705  |_reentrant void TrimPackedString(UCS3* pString);
                            25401 ; 706  |
                            25402 ; 707  |///////////////////////////////////////////////////////////////////////
                            25403 ; 708  |//! \brief
                            25404 ; 709  |//!
                            25405 ; 710  |//! \fntype Function
                            25406 ; 711  |//!
                            25407 ; 712  |//! \param[in]
                            25408 ; 713  |//!
                            25409 ; 714  |//! \return
                            25410 ; 715  |//!
                            25411 ; 716  |///////////////////////////////////////////////////////////////////////
                            25412 ; 717  |_reentrant void ML_FlushSortedListToFlash(uint24 u24MediaType);
                            25413 ; 718  |
                            25414 ; 719  |/*================================================================================================*/
                            25415 ; 720  |
                            25416 ; 721  |// Siukoon 2005-02-28
                            25417 ; 722  |#define MUSICLIB_STDRIVE_NUMBER     (0)
                            25418 ; 723  |#ifdef _SUPPORT_2000_SONGS_
                            25419 ; 724  |#define MUSICLIB_FILESIZE_IN_BYTE   (4194304L*2) // (SINGLE_DATABASE_SIZE*BYTE_PER_SECTOR)*2
                            25420 ; 725  |#else
                            25421 ; 726  |#define MUSICLIB_FILESIZE_IN_BYTE   (2097152L*2) // (SINGLE_DATABASE_SIZE*BYTE_PER_SECTOR)*2
                            25422 ; 727  |#endif  // _SUPPORT_2000_SONGS_
                            25423 ; 728  |#define MUSICLIB_FLASHPART_FILESIZE_IN_BYTE   (MUSICLIB_FILESIZE_IN_BYTE/2)
                            25424 ; 729  |#define WORD_PER_SECTOR             (171)
                            25425 ; 730  |#define BYTE_PER_SECTOR             (512)
                            25426 ; 731  |#define MUSICLIB_FILESIZE_IN_SECTOR (MUSICLIB_FILESIZE_IN_BYTE/BYTE_PER_SECTOR)
                            25427 ; 732  |#define MUSICLIB_FLASHPART_FILESIZE_IN_SECTOR (MUSICLIB_FLASHPART_FILESIZE_IN_BYTE/BYTE_PER_SECTOR)
                            25428 ; 733  |
                            25429 ; 734  |#define LB_BYTE_PER_SECTOR          (2048)
                            25430 ; 735  |#define LB_MUSICLIB_FILESIZE_IN_SECTOR (MUSICLIB_FILESIZE_IN_BYTE/LB_BYTE_PER_SECTOR)
                            25431 ; 736  |#define LB_MUSICLIB_FLASHPART_FILESIZE_IN_SECTOR (MUSICLIB_FLASHPART_FILESIZE_IN_BYTE/LB_BYTE_PER_SECTOR)
                            25432 ; 737  |
                            25433 ; 738  |#define MUSICLIB_FAT_ERROR_NOT_ENOUGH_MEDIA_SPACE       1
                            25434 ; 739  |#define MUSICLIB_FAT_ERROR_CREATE_FILE                  2
                            25435 ; 740  |#define MUSICLIB_FAT_ERROR_DELETE_FILE                  3
                            25436 ; 741  |#define MUSICLIB_FAT_ERROR_OPEN_FILE                    4
                            25437 ; 742  |
                            25438 ; 743  |/////////////////////
                            25439 ; 744  |
                            25440 ; 745  |#define LONG_SIZE_IN_BYTE                               (6)
                            25441 ; 746  |
                            25442 ; 747  |#ifdef _SUPPORT_2000_SONGS_
                            25443 ; 748  |#define SEC_TABLE_SIZE_IN_LONG                  (16384) // DATABASE_SIZE
                            25444 ; 749  |#else
                            25445 ; 750  |#define SEC_TABLE_SIZE_IN_LONG                  (8192)  // DATABASE_SIZE
                            25446 ; 751  |#endif // _SUPPORT_2000_SONGS_
                            25447 ; 752  |#define SEC_TABLE_SIZE_IN_BYTE                  (SEC_TABLE_SIZE_IN_LONG*LONG_SIZE_IN_BYTE)
                            25448 ; 753  |
                            25449 ; 754  |#define SEC_TABLE_FLASHPART_SIZE_IN_LONG        (SEC_TABLE_SIZE_IN_LONG/2)
                            25450 ; 755  |#define SEC_TABLE_FLASHPART_SIZE_IN_BYTE        (SEC_TABLE_SIZE_IN_BYTE/2)
                            25451 ; 756  |
                            25452 ; 757  |#define NUM_OF_LONG_PER_512SEC          (85)    // 512/6=>85
                            25453 ; 758  |#ifdef _SUPPORT_2000_SONGS_
                            25454 ; 759  |#define NUM_OF_LEVEL2_SEC                               (194)   /* 97x2 */
                            25455 ; 760  |#define NUM_OF_LEVEL2_FLASHPART_SEC             (97)    /* 8192/85 */
                            25456 ; 761  |#else
                            25457 ; 762  |#define NUM_OF_LEVEL2_SEC                               (98)    /* 49x2 */
                            25458 ; 763  |#define NUM_OF_LEVEL2_FLASHPART_SEC             (49)    /* 4096/85 */
                            25459 ; 764  |#endif // _SUPPORT_2000_SONGS_
                            25460 ; 765  |#define LEVEL2_TABLE_SIZE                               (NUM_OF_LEVEL2_SEC*2)
                            25461 ; 766  |#define SEC_TABLE_FLASH_START_SEC               (0x00)
                            25462 ; 767  |#define SEC_TABLE_SD_START_SEC                  (NUM_OF_LEVEL2_FLASHPART_SEC)
                            25463 ; 768  |
                            25464 ; 769  |#define SEC_TABLE_FILESIZE_IN_BYTE              (BYTE_PER_SECTOR*NUM_OF_LEVEL2_SEC)
                            25465 ; 770  |#ifdef _SUPPORT_2000_SONGS_
                            25466 ; 771  |#define BYTE_FILL_INTERDB_GAP                   (320)   // 512-((8192-(85*96))*6)
                            25467 ; 772  |#else
                            25468 ; 773  |#define BYTE_FILL_INTERDB_GAP                   (((NUM_OF_LEVEL2_FLASHPART_SEC*NUM_OF_LONG_PER_512SEC)-SEC_TABLE_FLASHPART_SIZE_IN_LONG)*LONG_SIZE_IN_BYTE+2)
                            25469 ; 774  |#endif  // _SUPPORT_2000_SONGS_
                            25470 ; 775  |
                            25471 ; 776  |#define LB_SEC_TABLE_SIZE_IN_LONG                       (LB_MUSICLIB_FILESIZE_IN_SECTOR)
                            25472 ; 777  |#define LB_SEC_TABLE_SIZE_IN_BYTE                       (LB_SEC_TABLE_SIZE_IN_LONG*LONG_SIZE_IN_BYTE)
                            25473 ; 778  |
                            25474 ; 779  |#define LB_SEC_TABLE_FLASHPART_SIZE_IN_LONG     (LB_SEC_TABLE_SIZE_IN_LONG/2)
                            25475 ; 780  |#define LB_SEC_TABLE_FLASHPART_SIZE_IN_BYTE     (LB_SEC_TABLE_SIZE_IN_BYTE/2)
                            25476 ; 781  |
                            25477 ; 782  |#define NUM_OF_LONG_PER_2048SEC                     (341)   // 2048/6=>341
                            25478 ; 783  |#ifdef _SUPPORT_2000_SONGS_
                            25479 ; 784  |#define NUM_OF_LEVEL2_2048SEC                           (49)    // 16384/341=>49
                            25480 ; 785  |#define NUM_OF_LEVEL2_FLASHPART_2048SEC         (25)    /* 8192/341=>25 */
                            25481 ; 786  |#else
                            25482 ; 787  |#define NUM_OF_LEVEL2_2048SEC                           (25)    // 8192/341=>25
                            25483 ; 788  |#define NUM_OF_LEVEL2_FLASHPART_2048SEC         (13)    /* 4096/341=>13 */
                            25484 ; 789  |#endif // _SUPPORT_2000_SONGS_
                            25485 ; 790  |
                            25486 ; 791  |#ifdef _SUPPORT_2000_SONGS_
                            25487 ; 792  |#define BYTE_FILL_INTERDB_GAP_2048                      (2000)  // 2048-((8192-(341*24))*6)
                            25488 ; 793  |#define BYTE_FILL_INTERDB_2ND_GAP_2048      (2532)  // 99328-96796
                            25489 ; 794  |#else
                            25490 ; 795  |#define BYTE_FILL_INTERDB_GAP_2048                      (((341-4)*6)+2) //2024
                            25491 ; 796  |#define BYTE_FILL_INTERDB_2ND_GAP_2048      (2556)  // 50176-47620
                            25492 ; 797  |#endif // _SUPPORT_2000_SONGS_
                            25493 ; 798  |
                            25494 ; 799  |#ifdef __cplusplus
                            25495 ; 800  |}
                            25496 ; 801  |#endif
                            25497 ; 802  |
                            25498 ; 803  |#endif  /* MUSICLIB_GHDR_H */
                            25499 
                            25501 
                            25502 ; 5    |#ifdef _FOLDER_BROWSE_
                            25503 ; 6    |#define BROWSE_MAX_LEVEL    8
                            25504 ; 7    |#else
                            25505 ; 8    |#define BROWSE_MAX_LEVEL    3
                            25506 ; 9    |#endif  // _FOLDER_BROWSE_
                            25507 ; 10   |
                            25508 ; 11   |typedef struct _disp_year_list_arg
                            25509 ; 12   |{
                            25510 ; 13   |    int                 iHighLightedItem;
                            25511 ; 14   |    FLASH_GROUP_NAME_T* browse_item_name;
                            25512 ; 15   |    int                 num_of_item;
                            25513 ; 16   |    int                 window_offset;
                            25514 ; 17   |    BOOL                bHavePlayAll;
                            25515 ; 18   |} DISP_YEAR_LIST_ARG_T;
                            25516 ; 19   |
                            25517 ; 20   |typedef struct _browsemenu_init_arg
                            25518 ; 21   |{
                            25519 ; 22   |    INT     browse_type;
                            25520 ; 23   |    INT     browse_lv;
                            25521 ; 24   |    INT*    pbrowse_max_lv;
                            25522 ; 25   |    INT*    num_of_item;
                            25523 ; 26   |    BOOL*   bHaveNext;
                            25524 ; 27   |} BROWSEMENU_INIT_ARG_T;
                            25525 ; 28   |
                            25526 ; 29   |extern BOOL g_bDeleteBrowse;
                            25527 ; 30   |extern BOOL bPlayVoice;
                            25528 ; 31   |extern BOOL bFavoritesUpdate;
                            25529 ; 32   |
                            25530 ; 33   |
                            25531 ; 34   |#endif  /* BROWSEMENU_H */
                            25532 
                            25534 
                            25535 ; 36   |#else
                            25536 ; 37   |#ifdef   USE_PLAYLIST5
                            25537 ; 38   |#include "playlist5.h"
                            25538 ; 39   |#include "sysspeed.h"
                            25539 ; 40   |#endif
                            25540 ; 41   |#endif
                            25541 ; 42   |#endif
                            25542 ; 43   |#endif
                            25543 ; 44   |#include "font.h"
                            25544 
                            25546 
                            25547 ; 1    |#ifndef __FONT_H
                            25548 ; 2    |#define __FONT_H
                            25549 ; 3    |
                            25550 ; 4    |_reentrant INT GetTextWidthAddressUnicode(WORD *pUnicodeString);
                            25551 ; 5    |_reentrant INT GetTextWidthResourceUnicode(WORD wResource);
                            25552 ; 6    |_reentrant INT GetTextWidthAddressDBCS(_packed unsigned char *pDBCSString);
                            25553 ; 7    |_reentrant INT GetTextWidthResourceDBCS(WORD wResource);
                            25554 ; 8    |
                            25555 ; 9    |#endif
                            25556 
                            25558 
                            25559 ; 45   |#include "stringlib.h"
                            25560 
                            25562 
                            25563 ; 1    |#ifndef STRINGLIB_H
                            25564 ; 2    |#define STRINGLIB_H
                            25565 ; 3    |_asmfunc int pack_string(UCS3 _Y * _Y pUnpacked, _packed BYTE _Y * _Y pPacked);
                            25566 ; 4    |_asmfunc int unpack_string( _packed BYTE _Y * _Y pPacked,  UCS3 _Y * _Y pUnpacked);
                            25567 ; 5    |_asmfunc int unpack_data( _packed BYTE _Y * _Y pPacked,  BYTE _Y * _Y pUnpacked, INT iCount);
                            25568 ; 6    |
                            25569 ; 7    |_asmfunc BYTE GetByteFromArrayInX( void _X * p,int n);
                            25570 ; 8    |_asmfunc void PutByteInArrayInX( void _X * p,int n, int newchar);
                            25571 ; 9    |_asmfunc BYTE GetByteFromArrayInY( void _Y * p,int n);
                            25572 ; 10   |_asmfunc void PutByteInArrayInY( void _Y * p,int n, int newchar);
                            25573 ; 11   |
                            25574 ; 12   |_asmfunc BYTE packed_get( _packed BYTE _Y * p,int n);
                            25575 ; 13   |_asmfunc void packed_set( _packed BYTE _Y * p,int n, int newchar);
                            25576 ; 14   |
                            25577 ; 15   |_asmfunc int packed_strlen( _packed BYTE _Y * _Y p);
                            25578 ; 16   |
                            25579 ; 17   |_asmfunc _packed BYTE _Y * packed_strncpy( _packed BYTE _Y * _Y pDest,_packed BYTE _Y * _Y pSrc, int iCount);
                            25580 ; 18   |_asmfunc _packed BYTE _Y * packed_strcpy ( _packed BYTE _Y * _Y pDest,_packed BYTE _Y * _Y pSrc);
                            25581 ; 19   |
                            25582 ; 20   |
                            25583 ; 21   |_asmfunc int packed_strncmp( _packed BYTE _Y * _Y pLeft,_packed BYTE _Y * _Y pRight, int iCount);
                            25584 ; 22   |_asmfunc int packed_strcmp ( _packed BYTE _Y * _Y pLeft,_packed BYTE _Y * _Y pRight);
                            25585 ; 23   |
                            25586 ; 24   |_asmfunc int packed_strncat( _packed BYTE _Y * _Y pDest,_packed BYTE _Y * _Y pSource, int iCount);
                            25587 ; 25   |_asmfunc int packed_strcat ( _packed BYTE _Y * _Y pDest,_packed BYTE _Y * _Y pSource);
                            25588 ; 26   |
                            25589 ; 27   |
                            25590 ; 28   |_asmfunc int strlen(UCS3 _Y * _Y p);
                            25591 ; 29   |
                            25592 ; 30   |_asmfunc UCS3 *strchr(UCS3 _Y * _Y pUnpacked, UCS3 CharToFind);
                            25593 ; 31   |_asmfunc UCS3 *strrchr(UCS3 _Y * _Y pUnpacked, UCS3 CharToFind);
                            25594 ; 32   |
                            25595 ; 33   |_asmfunc void strncpy(UCS3 _Y * _Y pDest, UCS3 _Y * _Y pSource, BYTE iCount);
                            25596 ; 34   |_asmfunc void strcpy(UCS3 _Y * _Y pDest, UCS3 _Y * _Y pSource);
                            25597 ; 35   |
                            25598 ; 36   |_asmfunc char *strncat(UCS3 _Y * _Y pDest, UCS3 _Y * _Y pSource, int iCount);
                            25599 ; 37   |_asmfunc char *strcat(UCS3 _Y * _Y pDest, UCS3 _Y * _Y pSource);
                            25600 ; 38   |
                            25601 ; 39   |_asmfunc int strncmp(UCS3 _Y * _Y pDest, UCS3 _Y * _Y pSource, int iCount);
                            25602 ; 40   |_asmfunc int strcmp(UCS3 _Y * _Y pDest, UCS3 _Y * _Y pSource);
                            25603 ; 41   |
                            25604 ; 42   |#endif
                            25605 
                            25607 
                            25608 ; 46   |#include "metadata.h"
                            25609 
                            25611 
                            25612 ; 1    |////////////////////////////////////////////////////////////////////////////////
                            25613 ; 2    |// Copyright(C) SigmaTel, Inc. 2002
                            25614 ; 3    |//
                            25615 ; 4    |// Filename: metadata.h
                            25616 ; 5    |// Description:
                            25617 ; 6    |////////////////////////////////////////////////////////////////////////////////
                            25618 ; 7    |
                            25619 ; 8    |#ifndef _METADATA_H
                            25620 ; 9    |#define _METADATA_H
                            25621 ; 10   |
                            25622 ; 11   |///////////////////////////////////////////////////////////////////////////////
                            25623 ; 12   |// MetaData definitions
                            25624 ; 13   |///////////////////////////////////////////////////////////////////////////////
                            25625 ; 14   |
                            25626 ; 15   |//#define MMC_CMD59       0x40|59
                            25627 ; 16   |
                            25628 ; 17   |///////////////////////////////////////////////////////////////////////////////
                            25629 ; 18   |// Meta Data structure definitions
                            25630 ; 19   |///////////////////////////////////////////////////////////////////////////////
                            25631 ; 20   |
                            25632 ; 21   |///////////////////////////////////////////////////////////////////////////////
                            25633 ; 22   |// MetaData definitions
                            25634 ; 23   |
                            25635 ; 24   |#define META_DATA_FOUND                     (WORD)(0)
                            25636 ; 25   |#define META_DATA_NOT_FOUND                 (WORD)(0x100)
                            25637 ; 26   |#define META_DATA_FILE_NOT_SUPPORTED        (WORD)(0x101)
                            25638 ; 27   |#define META_DATA_FILEOPEN_ERROR            (WORD)(0x200)
                            25639 ; 28   |#define META_DATA_FILEREAD_ERROR            (WORD)(0x201)
                            25640 ; 29   |#define META_DATA_FILECLOSE_ERROR           (WORD)(0x202)
                            25641 ; 30   |#define META_DATA_FILESEEK_ERROR            (WORD)(0x203)
                            25642 ; 31   |#define META_DATA_FILEWRITE_ERROR           (WORD)(0x204)
                            25643 ; 32   |#define META_DATA_SUCCESS                               (WORD)(0x205)
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page 101

M:ADDR CODE           CYCLES LINE SOURCELINE
                            25644 ; 33   |
                            25645 ; 34   |#define META_DATA_NOT_VBR_FORMAT            (WORD)(0x102)
                            25646 ; 35   |
                            25647 ; 36   |// VBR
                            25648 ; 37   |#define VBR_NOT_DETERMINED 0
                            25649 ; 38   |#define VBR_TRUE 1
                            25650 ; 39   |
                            25651 ; 40   |#ifndef TITLE_SIZE
                            25652 ; 41   |//#define TITLE_SIZE 30
                            25653 ; 42   |#ifndef USE_PLAYLIST3
                            25654 ; 43   |#define TITLE_SIZE 256          //was 30 but LFNs require up to 256!
                            25655 ; 44   |#else
                            25656 ; 45   |#define TITLE_SIZE 80           //was 256 but music library only store up to 129!
                            25657 ; 46   |#endif
                            25658 ; 47   |#endif
                            25659 ; 48   |
                            25660 ; 49   |#ifndef ARTIST_SIZE
                            25661 ; 50   |#ifndef USE_PLAYLIST3
                            25662 ; 51   |//#define ARTIST_SIZE 30
                            25663 ; 52   |#define ARTIST_SIZE 100         // increase artist size for use with ID3V2 tags (Stmp00003110)
                            25664 ; 53   |#else
                            25665 ; 54   |#define ARTIST_SIZE 48          // increase artist size for use with ID3V2 tags (Stmp00003110)
                            25666 ; 55   |#endif
                            25667 ; 56   |#endif
                            25668 ; 57   |
                            25669 ; 58   |#ifndef ALBUM_SIZE
                            25670 ; 59   |#ifndef USE_PLAYLIST3
                            25671 ; 60   |//#define ALBUM_SIZE 30
                            25672 ; 61   |#define ALBUM_SIZE 50           // increase album size (not as much) for use with ID3V2 tags (Stmp00003110)
                            25673 ; 62   |#else
                            25674 ; 63   |#define ALBUM_SIZE 48           // increase album size (not as much) for use with ID3V2 tags (Stmp00003110)
                            25675 ; 64   |#endif
                            25676 ; 65   |#endif
                            25677 ; 66   |
                            25678 ; 67   |#ifdef USE_PLAYLIST3
                            25679 ; 68   |#ifndef GENRE_SIZE
                            25680 ; 69   |#define GENRE_SIZE 20
                            25681 ; 70   |#endif
                            25682 ; 71   |
                            25683 ; 72   |#ifndef YEAR_SIZE
                            25684 ; 73   |#define YEAR_SIZE 8
                            25685 ; 74   |#endif
                            25686 ; 75   |
                            25687 ; 76   |#ifndef TRACKNUM_SIZE
                            25688 ; 77   |#define TRACKNUM_SIZE 5 // assume track number is smaller than 0xfff (12bit or 4095)
                            25689 ; 78   |#endif
                            25690 ; 79   |
                            25691 ; 80   |#define MAX_TRACK_NUMBER 0x000fff
                            25692 ; 81   |#define UNKNOWN_TRACK_NUMBER MAX_TRACK_NUMBER
                            25693 ; 82   |#endif
                            25694 ; 83   |
                            25695 ; 84   |#define XING_TOC_SIZE   100
                            25696 ; 85   |#if MTP_BUILD
                            25697 ; 86   |// This size is used to build table for FF/RW for vbr songs,
                            25698 ; 87   |// and as there is no such function in mtp mode, it is reduced to release y-memory.
                            25699 ; 88   |#define VBR_TOC_SIZE    2
                            25700 ; 89   |#else
                            25701 ; 90   |#define VBR_TOC_SIZE    200
                            25702 ; 91   |#endif
                            25703 ; 92   |
                            25704 ; 93   |extern UCS3 g_wSongTitle[TITLE_SIZE];
                            25705 ; 94   |extern UCS3 g_wSongArtist[ARTIST_SIZE];
                            25706 ; 95   |extern UCS3 g_wSongAlbum[ALBUM_SIZE];
                            25707 ; 96   |#ifdef USE_PLAYLIST3
                            25708 ; 97   |extern UCS3 g_wSongGenre[GENRE_SIZE];
                            25709 ; 98   |extern UCS3 g_wSongYear[YEAR_SIZE];
                            25710 ; 99   |extern WORD g_wSongTrackNum;
                            25711 ; 100  |#endif
                            25712 ; 101  |
                            25713 ; 102  |extern WORD g_wVBRTOCTable[VBR_TOC_SIZE];
                            25714 ; 103  |
                            25715 ; 104  |typedef struct {
                            25716 ; 105  |    WORD        iTitleBufferLength;
                            25717 ; 106  |        UCS3       *wTitle;        // Title of Song
                            25718 ; 107  |    WORD        iArtistBufferLength;
                            25719 ; 108  |    UCS3       *wArtist;
                            25720 ; 109  |    WORD        iAlbumBufferLength;
                            25721 ; 110  |    UCS3       *wAlbum;
                            25722 ; 111  |#ifdef USE_PLAYLIST3
                            25723 ; 112  |    WORD        iGenreBufferLength;
                            25724 ; 113  |    UCS3       *wGenre;
                            25725 ; 114  |    WORD        iYearBufferLength;
                            25726 ; 115  |    UCS3       *wYear;
                            25727 ; 116  |    WORD        wTrackNum;
                            25728 ; 117  |#endif
                            25729 ; 118  |    BYTE       btGenre;       // Genre of audio file -- if MP3, use the ID3v1 tag byte
                            25730 ; 119  |        WORD       wSampRate;     // Sample Rate of song (Hz)
                            25731 ; 120  |        WORD       wNumChannels;
                            25732 ; 121  |        WORD       wBitRate;      // Bitrate of song (for MP3 VBR, this will be first bitrate found)
                            25733 ; 122  |        LONG       iTime;                 // Length of song in seconds
                            25734 ; 123  |        DWORD      dwStartPos;    // Position where audio starts. (if required by the decoder)
                            25735 ; 124  |        DWORD      dwNumBytes;    // Total Bytes in audio part of song
                            25736 ; 125  |    DWORD      dwDataBytes;   // for wma; (total bytes - header bytes)
                            25737 ; 126  |        DWORD      dwNumFrames;   // See note below on frames
                            25738 ; 127  |        BOOL       bVBR;                  // 0 = CBR or does not apply , 1 = VBR (**see question below**)
                            25739 ; 128  |        INT                iFileType;     // 0 = unknown, 1 = MP3, 2 = WMA, 4 = AAC, 8 = IMA ADPCM, etc (use defines below)
                            25740 ; 129  |        INT                iResourceNum;  // Resource number of the decoder that needed for this file
                            25741 ; 130  |} FILE_META_DATA;
                            25742 ; 131  |
                            25743 ; 132  |// File Type Defines (use for iFileType) -- matches bit defines in sysequ.inc
                            25744 ; 133  |#define UNKNOWN_TYPE   0
                            25745 ; 134  |#define MP3_TYPE       1
                            25746 ; 135  |#define WMA_TYPE       2
                            25747 ; 136  |#define AAC_TYPE       4
                            25748 ; 137  |#define IMA_ADPCM_TYPE 8
                            25749 ; 138  |#define MS_ADPCM_TYPE  16
                            25750 ; 139  |#define PCM_WAV_TYPE   32
                            25751 ; 140  |#define ASF_TYPE       64
                            25752 ; 141  |#define AUDIBLE_ACELP_TYPE 128
                            25753 ; 142  |#define AUDIBLE_MP3_TYPE   256          // 9/28/04 mmiu
                            25754 ; 143  |
                            25755 ; 144  |#define SMV_ADPCM_TYPE 512
                            25756 ; 145  |
                            25757 ; 146  |
                            25758 ; 147  |//////SRS WOW DEFS/////////////////////////////////////////////////////////////
                            25759 ; 148  |// Sample rates
                            25760 ; 149  |#ifdef WOW
                            25761 ; 150  |#define SR_48KHZ        48000
                            25762 ; 151  |#define SR_44KHZ        44100
                            25763 ; 152  |#define SR_32KHZ        32000
                            25764 ; 153  |#define SR_24KHZ        24000
                            25765 ; 154  |#define SR_22KHZ        22050
                            25766 ; 155  |#define SR_16KHZ        16000
                            25767 ; 156  |#define SR_12KHZ        12000
                            25768 ; 157  |#define SR_11KHZ        11025
                            25769 ; 158  |#define SR_8KHZ          8000
                            25770 ; 159  |#endif
                            25771 ; 160  |
                            25772 ; 161  |
                            25773 ; 162  |///////////////////////////////////////////////////////////////////////////////
                            25774 ; 163  |// MetaData prototypes
                            25775 ; 164  |///////////////////////////////////////////////////////////////////////////////
                            25776 ; 165  |
                            25777 ; 166  |RETCODE _reentrant GetFileMetaData(INT PackedPathNameAddress, INT btCurrentDevice, FILE_META_DATA *MetaData);
                            25778 ; 167  |#ifdef USE_PLAYLIST3
                            25779 ; 168  |INT _reentrant GetRelativePath(int highlight_index, int browse_type, INT* PackedPathNameAddress);
                            25780 ; 169  |INT _reentrant RetrieveSongInfo(INT a, INT b, INT *p_path);
                            25781 ; 170  |#endif
                            25782 ; 171  |
                            25783 ; 172  |#endif // #ifndef _METADATA_H
                            25784 
                            25786 
                            25787 ; 47   |#include "battery.h"
                            25788 
                            25790 
                            25791 ; 1    |//;///////////////////////////////////////////////////////////////////////////////
                            25792 ; 2    |//; Copyright(C) SigmaTel, Inc. 2000-2004
                            25793 ; 3    |//;
                            25794 ; 4    |//; Filename: battery.h
                            25795 ; 5    |//; Description: 
                            25796 ; 6    |//;///////////////////////////////////////////////////////////////////////////////
                            25797 ; 7    |
                            25798 ; 8    |#ifndef _BATTERY_H
                            25799 ; 9    |#define _BATTERY_H
                            25800 ; 10   |
                            25801 ; 11   |
                            25802 ; 12   |// Functions  
                            25803 ; 13   |extern _reentrant void SysLRADCBrownoutInit(WORD wLowResADCBrownoutLevel);
                            25804 ; 14   |extern _reentrant WORD SysBatteryGetLevel(void);
                            25805 ; 15   |extern _reentrant WORD MvToLradcResult(WORD mVolts);
                            25806 ; 16   |extern _reentrant void SysBatteryLRADCInit(void);
                            25807 ; 17   |extern _reentrant void SysLRADCBrownoutIsrInit(void);
                            25808 ; 18   |
                            25809 ; 19   |// player resource drive refresh allowed only when battery usable % is above this value. 
                            25810 ; 20   |// 50% of usable range [0.9V to 1.5V] is around 1.2V This is the safe target alkaline voltage to do a refresh.
                            25811 ; 21   |// LIION will also require 50% which will work but that could be changed in the future. 
                            25812 ; 22   |#define RESOURCE_REFRESH_MIN_BATT_PCT 50
                            25813 ; 23   |
                            25814 ; 24   |
                            25815 ; 25   |#endif // _BATTERY_H
                            25816 ; 26   |
                            25817 ; 27   |
                            25818 ; 28   |
                            25819 ; 29   |
                            25820 
                            25822 
                            25823 ; 48   |#include "sysvolume.h"
                            25824 
                            25826 
                            25827 ; 1    |////////////////////////////////////////////////////////////////////////////////
                            25828 ; 2    |// Copyright(C) SigmaTel, Inc. 2002
                            25829 ; 3    |//
                            25830 ; 4    |// Filename: sysvolume.h
                            25831 ; 5    |// Description: Prototypes for the Multi-Stage Volume control and variables
                            25832 ; 6    |////////////////////////////////////////////////////////////////////////////////
                            25833 ; 7    |
                            25834 ; 8    |#ifndef _SYSVOLUME_H
                            25835 ; 9    |#define _SYSVOLUME_H
                            25836 ; 10   |
                            25837 ; 11   |
                            25838 ; 12   |// Volume adjustment modes
                            25839 ; 13   |#define VOLUME_MODE_DAC         0
                            25840 ; 14   |#define VOLUME_MODE_LINE1       1
                            25841 ; 15   |#define VOLUME_MODE_LINE2       2
                            25842 ; 16   |#define VOLUME_MODE_DACLINE1    3
                            25843 ; 17   |
                            25844 ; 18   |
                            25845 ; 19   |extern int g_iUserVolume;                                   // User-Controlled Volume
                            25846 ; 20   |extern int g_iVolumeSteps;                                  // Number of available volume steps in current mode
                            25847 ; 21   |extern int g_iVolumeMode;
                            25848 ; 22   |
                            25849 ; 23   |void _reentrant SysUpdateVolume(void);
                            25850 ; 24   |
                            25851 ; 25   |_inline void _reentrant SysIncrementVolume(void)
                            25852 ; 26   |{
                            25853 ; 27   |    g_iUserVolume ++;
                            25854 ; 28   |    SysUpdateVolume();
                            25855 ; 29   |}
                            25856 ; 30   |
                            25857 ; 31   |_inline void _reentrant SysDecrementVolume(void)
                            25858 ; 32   |{
                            25859 ; 33   |    g_iUserVolume --;
                            25860 ; 34   |    SysUpdateVolume();
                            25861 ; 35   |}
                            25862 ; 36   |#endif // #ifndef _SYSVOLUME_H
                            25863 
                            25865 
                            25866 ; 49   |#include "filesystem.h"
                            25867 
                            25869 
                            25870 ; 1    |////////////////////////////////////////////////////////////////////////////////
                            25871 ; 2    |//  Copyright(C) SigmaTel, Inc. 2001
                            25872 ; 3    |//
                            25873 ; 4    |//  File        : FileSystem.h
                            25874 ; 5    |//  Description : Header File for File System
                            25875 ; 6    |////////////////////////////////////////////////////////////////////////////////
                            25876 ; 7    |
                            25877 ; 8    |#ifndef _FILESYSTEM_H
                            25878 ; 9    |#define _FILESYSTEM_H
                            25879 ; 10   |
                            25880 ; 11   |#include "types.h"
                            25881 ; 12   |
                            25882 ; 13   |
                            25883 ; 14   |// File attributes
                            25884 ; 15   |#ifndef _FS_ATTRIBUTES
                            25885 ; 16   |#define _FS_ATTRIBUTES
                            25886 ; 17   |#define READ        1
                            25887 ; 18   |#define WRITE       2
                            25888 ; 19   |#define WRITE_PLUS  3
                            25889 ; 20   |#define APPEND      4
                            25890 ; 21   |#define TRUNCATE    8
                            25891 ; 22   |#define CREATE      16
                            25892 ; 23   |#endif
                            25893 ; 24   |
                            25894 ; 25   |//#ifndef FAT12
                            25895 ; 26   |//#define FAT12   1
                            25896 ; 27   |//#endif
                            25897 ; 28   |//
                            25898 ; 29   |#ifndef FAT16
                            25899 ; 30   |#define FAT16   2
                            25900 ; 31   |#endif
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page 102

M:ADDR CODE           CYCLES LINE SOURCELINE
                            25901 ; 32   |
                            25902 ; 33   |#define MEM_SPACE_P 0x100000
                            25903 ; 34   |#define MEM_SPACE_Y 0x400000
                            25904 ; 35   |#define MEM_SPACE_X 0x800000
                            25905 ; 36   |
                            25906 ; 37   |#define FILE_SYS_MODE_READ  0
                            25907 ; 38   |#define FILE_SYS_MODE_WRITE 1
                            25908 ; 39   | 
                            25909 ; 40   |#define ATTR_READ_ONLY      0x01
                            25910 ; 41   |#define ATTR_HIDDEN         0x02
                            25911 ; 42   |#define ATTR_SYSTEM         0x04
                            25912 ; 43   |#define ATTR_VOLUME_ID      0x08
                            25913 ; 44   |#define ATTR_DIRECTORY      0x10
                            25914 ; 45   |#define ATTR_ARCHIVE        0x20
                            25915 ; 46   |#define ATTR_LONG_NAME      ATTR_READ_ONLY|ATTR_HIDDEN|ATTR_SYSTEM|ATTR_VOLUME_ID
                            25916 ; 47   |
                            25917 ; 48   |#define SEEK_SET           -1
                            25918 ; 49   |#define SEEK_CUR            0
                            25919 ; 50   |#define SEEK_END            1
                            25920 ; 51   |
                            25921 ; 52   |#define DEVICE_INSTALLED              (WORD)(0)
                            25922 ; 53   |#define DEVICE_NOT_FOUND              (WORD)(2)
                            25923 ; 54   |#define INVALID_FILESYSTEM                        (WORD)(3)
                            25924 ; 55   |#define DEVICE_INVALID                (WORD)(-1)
                            25925 ; 56   |#define DEVICE_ERROR_WRITE_PROTECTED  (WORD)(-2)
                            25926 ; 57   |
                            25927 ; 58   |#define MEDIA_SIZE_TOTAL_SECTORS    0
                            25928 ; 59   |#define MEDIA_SIZE_TOTAL_BYTES      1
                            25929 ; 60   |#define MEDIA_SIZE_BYTES_PER_SECTOR 2
                            25930 ; 61   |#define MEDIA_SIZE_IN_MEGABYTES     3     
                            25931 ; 62   |
                            25932 ; 63   |#define READ_TYPE_NORMAL            0
                            25933 ; 64   |#define READ_TYPE_FAT               1
                            25934 ; 65   |#define READ_TYPE_RAW               2
                            25935 ; 66   |
                            25936 ; 67   |
                            25937 ; 68   |#ifdef MEDIA_DDI_PARTIAL_SEQ_ENABLE
                            25938 ; 69   |    #define WRITE_TYPE_RANDOM                   0
                            25939 ; 70   |    #define WRITE_TYPE_SEQ_FIRST                1
                            25940 ; 71   |    #define WRITE_TYPE_SEQ_NEXT                 2
                            25941 ; 72   |    #define WRITE_TYPE_RESET_CLEAN_UP           3
                            25942 ; 73   |    #define WRITE_TYPE_PARTIAL_SEQ_FIRST        4
                            25943 ; 74   |    #define WRITE_TYPE_PARTIAL_SEQ_NEXT         5
                            25944 ; 75   |    #define WRITE_TYPE_PARTIAL_SEQ_LAST         6
                            25945 ; 76   |    #ifdef MEDIA_DDI_RAW_SECTOR_SERVER_ENABLE
                            25946 ; 77   |        #define WRITE_TYPE_RANDOM_RAW               7
                            25947 ; 78   |        #define WRITE_TYPE_SEQ_FIRST_RAW            8
                            25948 ; 79   |        #define WRITE_TYPE_SEQ_NEXT_RAW             9
                            25949 ; 80   |        #define WRITE_TYPE_PARTIAL_SEQ_FIRST_RAW    10
                            25950 ; 81   |        #define WRITE_TYPE_PARTIAL_SEQ_NEXT_RAW     11
                            25951 ; 82   |        #define WRITE_TYPE_PARTIAL_SEQ_LAST_RAW     12
                            25952 ; 83   |    #endif
                            25953 ; 84   |#else
                            25954 ; 85   |    #define WRITE_TYPE_RANDOM                   0
                            25955 ; 86   |    #define WRITE_TYPE_SEQ_FIRST                1
                            25956 ; 87   |    #define WRITE_TYPE_SEQ_NEXT                 2
                            25957 ; 88   |    #ifdef MEDIA_DDI_RAW_SECTOR_SERVER_ENABLE
                            25958 ; 89   |        #define WRITE_TYPE_RANDOM_RAW               3
                            25959 ; 90   |        #define WRITE_TYPE_SEQ_FIRST_RAW            4
                            25960 ; 91   |        #define WRITE_TYPE_SEQ_NEXT_RAW             5
                            25961 ; 92   |    #endif
                            25962 ; 93   |#endif
                            25963 ; 94   |    #define WRITE_TYPE_UNDEFINED 0xFFFFFF
                            25964 ; 95   |
                            25965 ; 96   |
                            25966 ; 97   |#ifndef MAX_FILENAME_LENGTH
                            25967 ; 98   |#define MAX_FILENAME_LENGTH 256
                            25968 ; 99   |#endif
                            25969 ; 100  |
                            25970 ; 101  |typedef struct {
                            25971 ; 102  |    WORD wNumberOfZones;
                            25972 ; 103  |    WORD wSizeInMegaBytes;
                            25973 ; 104  |} SMARTMEDIA_CHIP_INFO;
                            25974 ; 105  |
                            25975 ; 106  |typedef struct {
                            25976 ; 107  |    WORD wBootIdentification;
                            25977 ; 108  |    WORD wStartHeadNumber;
                            25978 ; 109  |    WORD wStartSectorNumber;
                            25979 ; 110  |    WORD wStartCylinderNumber;
                            25980 ; 111  |    WORD wSystemIdentification;
                            25981 ; 112  |    WORD wEndHeadNumber;
                            25982 ; 113  |    WORD wEndSectorNumber;
                            25983 ; 114  |    WORD wEndCylinderNumber;
                            25984 ; 115  |    WORD wStartLogicalSectorNumberHigh;
                            25985 ; 116  |    WORD wStartLogicalSectorNumberLow;
                            25986 ; 117  |    WORD wPartitionSizeHigh;
                            25987 ; 118  |    WORD wPartitionSizeLow;
                            25988 ; 119  |} SMARTMEDIA_PARTITION_TABLE;
                            25989 ; 120  |
                            25990 ; 121  |typedef struct {
                            25991 ; 122  |    WORD wWord0;
                            25992 ; 123  |    WORD wWord1;
                            25993 ; 124  |    WORD wWord2;
                            25994 ; 125  |} SMARTMEDIA_CIS_IDI_MANUFACTURER_NAME;
                            25995 ; 126  |
                            25996 ; 127  |typedef struct {
                            25997 ; 128  |    WORD wWord0;
                            25998 ; 129  |    WORD wWord1;
                            25999 ; 130  |} SMARTMEDIA_CIS_IDI_PRODUCT_NAME;
                            26000 ; 131  |
                            26001 ; 132  |typedef struct {
                            26002 ; 133  |    WORD wWord0;
                            26003 ; 134  |    WORD wWord1;
                            26004 ; 135  |} SMARTMEDIA_CIS_IDI_PRODUCT_VERSION;
                            26005 ; 136  |
                            26006 ; 137  |typedef struct {
                            26007 ; 138  |    WORD wWord0;
                            26008 ; 139  |    WORD wWord1;
                            26009 ; 140  |    WORD wWord2;
                            26010 ; 141  |    WORD wWord3;
                            26011 ; 142  |} SMARTMEDIA_CIS_IDI_SERIAL_NUMBER;
                            26012 ; 143  |
                            26013 ; 144  |typedef struct {
                            26014 ; 145  |    WORD wWord0;
                            26015 ; 146  |} SMARTMEDIA_CIS_IDI_MODEL_NUMBER;
                            26016 ; 147  |
                            26017 ; 148  |typedef struct {
                            26018 ; 149  |    SMARTMEDIA_CIS_IDI_MANUFACTURER_NAME ManufacturerName;
                            26019 ; 150  |    SMARTMEDIA_CIS_IDI_PRODUCT_NAME ProductName;
                            26020 ; 151  |    SMARTMEDIA_CIS_IDI_PRODUCT_VERSION ProductVersion;
                            26021 ; 152  |    SMARTMEDIA_CIS_IDI_SERIAL_NUMBER SerialNumber;
                            26022 ; 153  |    SMARTMEDIA_CIS_IDI_MODEL_NUMBER ModelNumber;
                            26023 ; 154  |} SMARTMEDIA_CIS_IDI_TABLE;
                            26024 ; 155  |   
                            26025 ; 156  |typedef struct {
                            26026 ; 157  |    WORD wPageSizeInBytes;
                            26027 ; 158  |    WORD wRedundantAreaSizeInBytes;
                            26028 ; 159  |    WORD wNumberOfPagesPerBlock;
                            26029 ; 160  |    WORD wNumberOfBlocksPerZone;
                            26030 ; 161  |    WORD wNumberOfZonesInMedia;
                            26031 ; 162  |    WORD wMediaSizeInMBytes;
                            26032 ; 163  |    SMARTMEDIA_PARTITION_TABLE * pPartitionTable;
                            26033 ; 164  |    SMARTMEDIA_CIS_IDI_TABLE * pCisIdiTable;
                            26034 ; 165  |    WORD wMediaFlagStatus;
                            26035 ; 166  |    WORD wNumberOfBlocksToTheCisIdiBlock;
                            26036 ; 167  |    WORD wTotalNumberOfPhysicalBlocks;
                            26037 ; 168  |    WORD wNumberOfSystemBlocks;
                            26038 ; 169  |} SMARTMEDIA_ENTRY_TABLE;
                            26039 ; 170  |
                            26040 ; 171  |typedef struct {
                            26041 ; 172  |    WORD wDevice;        
                            26042 ; 173  |    WORD wDirtyBlockFlag;
                            26043 ; 174  |    WORD wCleanTailFlag; 
                            26044 ; 175  |    WORD wLogDOSPage;    
                            26045 ; 176  |    WORD wSrcLogBlock;   
                            26046 ; 177  |    WORD wSrcPhyBlock;   
                            26047 ; 178  |    WORD wDestPhyBlock;  
                            26048 ; 179  |    WORD wStartSrcPage;  
                            26049 ; 180  |    WORD wStartDestPage; 
                            26050 ; 181  |    WORD wPagesToCopy;   
                            26051 ; 182  |    WORD wReplaceBuff;   
                            26052 ; 183  |    WORD wReplaceRdnt;
                            26053 ; 184  |    #ifdef MEDIA_DDI_PARTIAL_SEQ_ENABLE
                            26054 ; 185  |        WORD wFirstCount;
                            26055 ; 186  |        WORD wNextCount;
                            26056 ; 187  |        WORD wLastCount;
                            26057 ; 188  |    #endif
                            26058 ; 189  |} SMARTMEDIA_FWPPS_TABLE;
                            26059 ; 190  |
                            26060 ; 191  |typedef struct {
                            26061 ; 192  |    WORD wWord0;
                            26062 ; 193  |    WORD wWord1;
                            26063 ; 194  |    WORD wWord2;
                            26064 ; 195  |    WORD wWord3;
                            26065 ; 196  |} DIRECTORY_NAME;
                            26066 ; 197  |
                            26067 ; 198  |typedef struct {
                            26068 ; 199  |    WORD wWord0;
                            26069 ; 200  |    WORD wWord1;
                            26070 ; 201  |} DIRECTORY_EXTENSION;
                            26071 ; 202  |
                            26072 ; 203  |typedef struct {
                            26073 ; 204  |    WORD wWord0;
                            26074 ; 205  |    WORD wWord1;
                            26075 ; 206  |} DIRECTORY_SIZE;
                            26076 ; 207  |
                            26077 ; 208  |typedef struct {
                            26078 ; 209  |    DIRECTORY_NAME Name;
                            26079 ; 210  |    DIRECTORY_EXTENSION Extension;
                            26080 ; 211  |    WORD wAttribute;
                            26081 ; 212  |    WORD wReserved[4];
                            26082 ; 213  |    WORD wCreationTime;
                            26083 ; 214  |    WORD wCreationData;
                            26084 ; 215  |    WORD wFirstCluster;
                            26085 ; 216  |    DIRECTORY_SIZE Size;
                            26086 ; 217  |    WORD wCurrentCluster;
                            26087 ; 218  |    WORD wPointer;
                            26088 ; 219  |    WORD wRecord;
                            26089 ; 220  |    WORD wRd;
                            26090 ; 221  |} DIRECTORY_FILE_CONTROL_BLOCK;
                            26091 ; 222  |
                            26092 ; 223  |// TODO:  clean this up.  There are two versions.
                            26093 ; 224  |struct FCB
                            26094 ; 225  |{
                            26095 ; 226  |    _packed BYTE m_szFileName[9];       //0-2
                            26096 ; 227  |    int     m_wReserved;                //3
                            26097 ; 228  |    _packed BYTE m_szExt[4];            //4-5
                            26098 ; 229  |    int     m_wAttributes;              //6
                            26099 ; 230  |    int     m_wReserved2[4];            //7,8,9,a
                            26100 ; 231  |    int     m_wTimeofCreation;          //b
                            26101 ; 232  |    int     m_wDateofCreation;          //c
                            26102 ; 233  |    int     m_wFirstCluster;            //d
                            26103 ; 234  |    int     m_wFileSizeHigh;            //e
                            26104 ; 235  |    int     m_wFileSizeLow;             //f
                            26105 ; 236  |};
                            26106 ; 237  |
                            26107 ; 238  |
                            26108 ; 239  |typedef struct {
                            26109 ; 240  |    WORD wFirstClusterCurrentDirectory;
                            26110 ; 241  |    WORD wFirstClusterParentDirectory;
                            26111 ; 242  |    WORD wAbsSectorCurrentlyCached;
                            26112 ; 243  |    WORD wCurrentRelativeSector;
                            26113 ; 244  |    WORD wNumberOfSectors;
                            26114 ; 245  |    WORD wCurrentRecordLoadedInDcb;
                            26115 ; 246  |    WORD wBufferedRecord;
                            26116 ; 247  |    WORD wMaxNumberRecordsCurrentDirectory;
                            26117 ; 248  |    WORD * pwPointerToBuffer;
                            26118 ; 249  |    WORD * pwPointerToPath;
                            26119 ; 250  |    DIRECTORY_FILE_CONTROL_BLOCK * pDirFcb;
                            26120 ; 251  |} DIRECTORY_CONTROL_BLOCK;
                            26121 ; 252  |
                            26122 ; 253  |typedef struct {
                            26123 ; 254  |    WORD wWord0;
                            26124 ; 255  |    WORD wWord1;
                            26125 ; 256  |    WORD wWord2;
                            26126 ; 257  |    WORD wWord3;
                            26127 ; 258  |} FILE_NAME;
                            26128 ; 259  |
                            26129 ; 260  |typedef struct {
                            26130 ; 261  |    WORD wWord0;
                            26131 ; 262  |    WORD wWord1;
                            26132 ; 263  |} FILE_EXTENSION;
                            26133 ; 264  |
                            26134 ; 265  |typedef struct {
                            26135 ; 266  |    WORD wWord0;
                            26136 ; 267  |    WORD wWord1;
                            26137 ; 268  |} FILE_SIZE;
                            26138 ; 269  |
                            26139 ; 270  |typedef union {
                            26140 ; 271  |    struct {
                            26141 ; 272  |        int Read        :1;
                            26142 ; 273  |        int Write       :1;
                            26143 ; 274  |        int Append      :1;
                            26144 ; 275  |        int Truncate    :1;
                            26145 ; 276  |        int Create      :1;
                            26146 ; 277  |        int Rsrv        :3;
                            26147 ; 278  |        int Mode        :8;
                            26148 ; 279  |        int Device      :8;
                            26149 ; 280  |    } B;
                            26150 ; 281  |    int I;
                            26151 ; 282  |} FILE_FLAGS;
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page 103

M:ADDR CODE           CYCLES LINE SOURCELINE
                            26152 ; 283  |
                            26153 ; 284  |typedef struct {
                            26154 ; 285  |    WORD wWord0;
                            26155 ; 286  |    WORD wWord1;
                            26156 ; 287  |} FILE_BYTE_CURRENT;
                            26157 ; 288  |
                            26158 ; 289  |typedef struct {
                            26159 ; 290  |    FILE_NAME Name;
                            26160 ; 291  |    FILE_EXTENSION Extension;
                            26161 ; 292  |    WORD wAttributes;
                            26162 ; 293  |    WORD wReserved[4];
                            26163 ; 294  |    WORD wCreationTime;
                            26164 ; 295  |    WORD wCreationData;
                            26165 ; 296  |    WORD wFirstCluster;
                            26166 ; 297  |    FILE_SIZE Size;
                            26167 ; 298  |    WORD wCurrentCluster;
                            26168 ; 299  |    WORD wPointer;
                            26169 ; 300  |    WORD wRecord;
                            26170 ; 301  |    WORD wRd;
                            26171 ; 302  |    FILE_FLAGS Flags;
                            26172 ; 303  |    FILE_BYTE_CURRENT FcbByteCurrent;
                            26173 ; 304  |    WORD wFcbFlagEndOfCx;
                            26174 ; 305  |} FILE_CONTROL_BLOCK;    
                            26175 ; 306  |
                            26176 ; 307  |typedef struct {
                            26177 ; 308  |    WORD wWord0;
                            26178 ; 309  |    WORD wWord1;
                            26179 ; 310  |    WORD wWord2;
                            26180 ; 311  |    WORD wWord3;
                            26181 ; 312  |} VOLUME_LABEL;
                            26182 ; 313  |
                            26183 ; 314  |typedef struct {
                            26184 ; 315  |    WORD wFATPhysicalBlock1;
                            26185 ; 316  |    WORD wFATPhysicalBlock2;
                            26186 ; 317  |    WORD wFATPhysicalBlock3;
                            26187 ; 318  |    WORD wFATPhysicalBlock4;
                            26188 ; 319  |} FAT_PHYSICAL_BLOCK_LIST;
                            26189 ; 320  |
                            26190 ; 321  |typedef struct {
                            26191 ; 322  |    WORD wFATSectorInCache;
                            26192 ; 323  |    WORD wLastClusterFree;
                            26193 ; 324  |    WORD wNumberOfUsedClusters;
                            26194 ; 325  |    WORD wNumberOfFreeClusters;
                            26195 ; 326  |    WORD wNumberOfBadClusters;
                            26196 ; 327  |    WORD wNumberOfReservedClusters;
                            26197 ; 328  |    WORD wControl;
                            26198 ; 329  |    WORD * pwSectorCache;
                            26199 ; 330  |    FAT_PHYSICAL_BLOCK_LIST FATPhysicalLocationList;
                            26200 ; 331  |} FAT_TABLE;
                            26201 ; 332  |
                            26202 ; 333  |typedef struct {
                            26203 ; 334  |    WORD wStateMediaTable;
                            26204 ; 335  |    WORD wTypeFs;
                            26205 ; 336  |    WORD wBytesPerSector;
                            26206 ; 337  |    WORD wSectorsPerCluster;
                            26207 ; 338  |    WORD wNumberOfReservedSectors;
                            26208 ; 339  |    WORD wMaximumNumberOfFATs;
                            26209 ; 340  |    WORD wMaxRootDirectoryEntries;
                            26210 ; 341  |    WORD wTotalSectors;
                            26211 ; 342  |    WORD wNumberOfFATSectors;
                            26212 ; 343  |    WORD wNumberOfSectorsPerTrack;
                            26213 ; 344  |    WORD wNumberOfHeads;
                            26214 ; 345  |    WORD wNumberOfHiddenSectorsMSB;
                            26215 ; 346  |    WORD wNumberOfHiddenSectorsLSB;
                            26216 ; 347  |    WORD wTotalSectors32MSB;
                            26217 ; 348  |    WORD wTotalSectors32LSB;
                            26218 ; 349  |    WORD wDriverNumber;
                            26219 ; 350  |    WORD wExtendedBootSignature;
                            26220 ; 351  |    WORD wVolumeIDMSB;
                            26221 ; 352  |    WORD wVolumeIDLSB;
                            26222 ; 353  |    VOLUME_LABEL VolumeLabel;
                            26223 ; 354  |    WORD * pwWriteBuffer;
                            26224 ; 355  |    WORD wPrimaryFATRelativeSector;
                            26225 ; 356  |    WORD wSecondaryFATRelativeSector;
                            26226 ; 357  |    WORD wRootDirectoryRelativeSector;
                            26227 ; 358  |    WORD wFirstSectorNumberDataZone;
                            26228 ; 359  |    WORD wMaxNumberOfFATEntries;
                            26229 ; 360  |    WORD wRootDirectorySizeInSectors;
                            26230 ; 361  |    WORD wDataAreaSizeInSectors;
                            26231 ; 362  |} MEDIA_TABLE;
                            26232 ; 363  |
                            26233 ; 364  |typedef struct {
                            26234 ; 365  |    MEDIA_TABLE * pMediaTable;
                            26235 ; 366  |    DIRECTORY_CONTROL_BLOCK * pDirectoryControlBlock;
                            26236 ; 367  |    FAT_TABLE * pFATTable;
                            26237 ; 368  |} DEVICE_CONTROL_TABLE;
                            26238 ; 369  |    
                            26239 ; 370  |typedef struct {
                            26240 ; 371  |    WORD dwTotalSizeInMegaBytes;        // dwTotalSizeInMegaBytes is limited
                            26241 ; 372  |                                        //  to 2-bytes for compatibility with
                            26242 ; 373  |                                        //  older host drivers.
                            26243 ; 374  |    DWORD dwTotalNumberOfSectors;
                            26244 ; 375  |    DWORD dwTotalNumberOfBytes;
                            26245 ; 376  |    WORD wSectorSizeInBytes;
                            26246 ; 377  |} MEDIA_SIZE;
                            26247 ; 378  |
                            26248 ; 379  |typedef struct {
                            26249 ; 380  |    BOOL    bInstalled;
                            26250 ; 381  |    INT     iPbsSectorOffset;   // from the beginning of the data drive 
                            26251 ; 382  |    DWORD   dwSize;
                            26252 ; 383  |} DATA_DRIVE_PBS_LOC;
                            26253 ; 384  |extern  INT _reentrant FSFileOpen(_packed BYTE *fname,INT attribute, INT DeviceNumber);
                            26254 ; 385  |extern  INT _reentrant FSFastOpen(DWORD Key, INT attribute);
                            26255 ; 386  |extern  INT FSFileDelete(_packed BYTE *fname,INT DeviceNumber);
                            26256 ; 387  |extern  INT FSFileCreate(_packed BYTE *fname,INT DeviceNumber);
                            26257 ; 388  |extern  INT _reentrant FSChangeDir(_packed BYTE *dirname,INT DeviceNumber);
                            26258 ; 389  |extern  INT _reentrant FSCreateDir(_packed BYTE *dirname,INT DeviceNumber);
                            26259 ; 390  |extern  INT _reentrant FSDeleteDir(_packed BYTE *dirname,INT DeviceNumber);
                            26260 ; 391  |extern  INT _reentrant FSFileAppend(_packed BYTE *fname,INT DeviceNumber);
                            26261 ; 392  |extern  INT _reentrant FSFileRead(INT BytestoRead, INT Handle, INT memory_type, INT modulo, WORD *buffer);
                            26262 ; 393  |extern  INT _reentrant FSFileWrite(INT wNumberBytes, INT Handle, INT memory_type, INT iModulo, WORD *buffer);
                            26263 ; 394  |extern  INT _reentrant FSFileClose(INT Handle);
                            26264 ; 395  |extern  LONG _reentrant FSFileSize(INT HandleNumber);
                            26265 ; 396  |extern  LONG  FSSize(INT DeviceNum, INT TYPE);   
                            26266 ; 397  |extern  INT FSFreeClusters(INT Device);
                            26267 ; 398  |extern  INT BytesPerCluster(INT Device);
                            26268 ; 399  |
                            26269 ; 400  |
                            26270 ; 401  |
                            26271 ; 402  |//extern  INT FSFileCreate(_packed BYTE *pbFileName, BYTE bDevice);
                            26272 ; 403  |//extern  INT FSFileDelete(_packed BYTE *pbFileName, BYTE bDevice);
                            26273 ; 404  |extern  INT FSFileRename(_packed BYTE *pbCurFilename, _packed BYTE *pbNewFilename, BYTE bDevice);
                            26274 ; 405  |//extern  INT _reentrant FSFileAttribute(_packed BYTE *pbFilename, WORD wAttributes, BYTE bDevice);
                            26275 ; 406  |//extern  INT FSFileAppend(_packed BYTE *pbFileName, BYTE bDevice);
                            26276 ; 407  |//extern  INT FSFileOpen(_packed BYTE *pbFileName, WORD wAttributes, BYTE bDevice);
                            26277 ; 408  |//extern  INT FSFileClose(INT bHandle);
                            26278 ; 409  |//extern  INT FSFileRead(WORD wNumberBytes, BYTE bHandle, WORD wMemSpace, INT iModulo, WORD *pwBuffer);
                            26279 ; 410  |//extern  INT FSFileWrite(WORD wNumberBytes, BYTE bHandle, WORD wMemSpace, INT iModulo, WORD *pwBuffer);
                            26280 ; 411  |extern  INT _reentrant fseek( INT handle , LONG offset, INT iOrigin );
                            26281 ; 412  |extern  INT _reentrant FSFileEof(INT Handle);
                            26282 ; 413  |extern INT _reentrant FSFileAttribute(INT Attributes, _packed BYTE *fname, INT DeviceNumber);
                            26283 ; 414  |extern INT _reentrant FSFileAttributeClear(INT Attributes, _packed BYTE *fname, INT DeviceNumber);
                            26284 ; 415  |//extern  LONG FSFileSize(INT bHandle);
                            26285 ; 416  |extern _asmfunc INT FSPresent(BYTE bDevice);
                            26286 ; 417  |extern _asmfunc INT FSType(BYTE bDevice);
                            26287 ; 418  |//extern LONG FSSize(WORD wDevice, WORD wReturnType);
                            26288 ; 419  |//extern INT FSChangeDir(_packed BYTE *pbDirName, BYTE bDevice);
                            26289 ; 420  |//extern INT FSCreateDir(_packed BYTE *pbDirName, BYTE bDevice);
                            26290 ; 421  |//extern INT FSDeleteDir(_packed BYTE *pbDirName, BYTE bDevice);
                            26291 ; 422  |extern _asmfunc void SysLoadFATWrite(void);
                            26292 ; 423  |extern _asmfunc INT SysUnLoadFATWrite(void);
                            26293 ; 424  |extern LONG _reentrant ftell(INT iHandle);
                            26294 ; 425  |extern _asmfunc struct FCB * ReadDirectory(int iDevice, int iEntry);
                            26295 ; 426  |
                            26296 ; 427  |#endif
                            26297 
                            26299 
                            26300 ; 50   |#include "display.h"
                            26301 
                            26303 
                            26304 ; 1    |#ifndef _DISPLAY_H
                            26305 ; 2    |#define _DISPLAY_H
                            26306 ; 3    |
                            26307 ; 4    |//Display bits
                            26308 ; 5    |#define DISPLAY_CLEAR_DISPLAY_BITPOS        0
                            26309 ; 6    |
                            26310 ; 7    |#define DISPLAY_ENCODER_TRACK_TIME_BITPOS   1
                            26311 ; 8    |#define DISPLAY_ENCODER_TRACK_NAME_BITPOS   2
                            26312 ; 9    |#define DISPLAY_RECORD_MODE_BITPOS          3
                            26313 ; 10   |
                            26314 ; 11   |//This bit (DISPLAY_MISC_BITPOS) is set to allow DisplayHints to be non zero, but does not map
                            26315 ; 12   |//to anything in UpdateDisplay();  (meant to be used to indicate that specific
                            26316 ; 13   |//things that are specific for that menu.
                            26317 ; 14   |#define DISPLAY_MISC_BITPOS                 4
                            26318 ; 15   |
                            26319 ; 16   |#define DISPLAY_FMTUNER_FREQUENCY           5
                            26320 ; 17   |#define DISPLAY_FMTUNER_PRESET              6
                            26321 ; 18   |#define DISPLAY_FMTUNER_STRENGTH            7
                            26322 ; 19   |
                            26323 ; 20   |#define DISPLAY_PLAYSTATE_BITPOS             9
                            26324 ; 21   |#define DISPLAY_AB_ICON_BITPOS              10
                            26325 ; 22   |#define DISPLAY_PLAYMODE_BITPOS             11
                            26326 ; 23   |#define DISPLAY_PLAYSET_BITPOS              12
                            26327 ; 24   |
                            26328 ; 25   |//Playback info
                            26329 ; 26   |#define DISPLAY_EQ_BITPOS                   13
                            26330 ; 27   |#define DISPLAY_VOLUME_BITPOS               14
                            26331 ; 28   |
                            26332 ; 29   |//Track Info
                            26333 ; 30   |#define DISPLAY_SONGARTISTALBUM_BITPOS      15
                            26334 ; 31   |#define DISPLAY_SONGTITLE_BITPOS            16
                            26335 ; 32   |#define DISPLAY_CURRENTTRACK_BITPOS         17
                            26336 ; 33   |#define DISPLAY_TRACKTIME_BITPOS            18
                            26337 ; 34   |#define DISPLAY_TOTALTRACKTIME_BITPOS        8
                            26338 ; 35   |#define DISPLAY_BITRATE_BITPOS              19
                            26339 ; 36   |
                            26340 ; 37   |//Device status info
                            26341 ; 38   |#define DISPLAY_LOCK_BITPOS                 20
                            26342 ; 39   |#define DISPLAY_DISK_BITPOS                 21
                            26343 ; 40   |#define DISPLAY_BATTERY_BITPOS              22
                            26344 ; 41   |#define DISPLAY_ALBUMART_BITPOS              23
                            26345 ; 42   |
                            26346 ; 43   |#ifdef PLAYER_STRESS
                            26347 ; 44   |// this may not work since album art uses bit 23 so we may need a new word variable for this player stress test bit below.
                            26348 ; 45   |#define DISPLAY_STRESSTEST_BITPOS            23
                            26349 ; 46   |#endif
                            26350 ; 47   |
                            26351 ; 48   |
                            26352 ; 49   |union DisplayHints
                            26353 ; 50   |{
                            26354 ; 51   |    struct {
                            26355 ; 52   |        int ClearDisplay        :1;//0
                            26356 ; 53   |        int EncoderTrackTime    :1;//1
                            26357 ; 54   |        int EncoderTrackName    :1;//2
                            26358 ; 55   |        int RecordMode          :1;//3
                            26359 ; 56   |        int Misc                :1;//4
                            26360 ; 57   |        int FMTunerFrequency    :1;//5
                            26361 ; 58   |        int FMTunerPreset       :1;//6
                            26362 ; 59   |        int FMTunerStrength     :1;//7
                            26363 ; 60   |        int TotalTrackTime      :1;//8
                            26364 ; 61   |        int PlayState           :1;//9
                            26365 ; 62   |        int ABIcon              :1;//10
                            26366 ; 63   |        int PlayMode            :1;//11
                            26367 ; 64   |        int PlaySet             :1;//12
                            26368 ; 65   |        int EQ                  :1;//13
                            26369 ; 66   |        int Volume              :1;//14
                            26370 ; 67   |        int SongArtistAlbum     :1;//15
                            26371 ; 68   |        int SongTitle           :1;//16
                            26372 ; 69   |        int CurrentTrack        :1;//17
                            26373 ; 70   |        int TrackTime           :1;//18
                            26374 ; 71   |        int Bitrate             :1;//19
                            26375 ; 72   |        int LockIcon            :1;//20
                            26376 ; 73   |        int Disk                :1;//21
                            26377 ; 74   |        int Battery             :1;//22
                            26378 ; 75   |#ifdef PLAYER_STRESS
                            26379 ; 76   |        int StressTest         :1;//23  // this might not work since bit 23 is already taken by album art. 23 is last bit in word.
                            26380 ; 77   |#else
                            26381 ; 78   |        int AlbumArt            :1;//23
                            26382 ; 79   |#endif
                            26383 ; 80   |    } bits;
                            26384 ; 81   |    WORD I;
                            26385 ; 82   |};
                            26386 ; 83   |
                            26387 ; 84   |// setup default display for all menus
                            26388 ; 85   |// can be adjusted in each menus as required.
                            26389 ; 86   |#define COMMON_DISPLAY_ALL  (\ 
                            26390 ; 87   |                                (1<<DISPLAY_BATTERY_BITPOS)|\ 
                            26391 ; 88   |                                (1<<DISPLAY_LOCK_BITPOS)|\ 
                            26392 ; 89   |                                (1<<DISPLAY_VOLUME_BITPOS)|\ 
                            26393 ; 90   |                                (1<<DISPLAY_DISK_BITPOS)|\ 
                            26394 ; 91   |                                (1<<DISPLAY_PLAYSET_BITPOS)|\ 
                            26395 ; 92   |                                (1<<DISPLAY_AB_ICON_BITPOS)|\ 
                            26396 ; 93   |                                (1<<DISPLAY_EQ_BITPOS)|\ 
                            26397 ; 94   |                                (1<<DISPLAY_PLAYMODE_BITPOS)|\ 
                            26398 ; 95   |                                (1<<DISPLAY_PLAYSTATE_BITPOS)\ 
                            26399 ; 96   |                                )
                            26400 ; 97   |
                            26401 ; 98   |#define SPECTROGRAM_MENU_DISPLAY_ALL  (\ 
                            26402 ; 99   |                                (1<<DISPLAY_LOCK_BITPOS)|\ 
                            26403 ; 100  |                                (1<<DISPLAY_DISK_BITPOS)|\ 
                            26404 ; 101  |                                (1<<DISPLAY_PLAYSET_BITPOS)|\ 
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page 104

M:ADDR CODE           CYCLES LINE SOURCELINE
                            26405 ; 102  |                                (1<<DISPLAY_AB_ICON_BITPOS)|\ 
                            26406 ; 103  |                                (1<<DISPLAY_EQ_BITPOS)|\ 
                            26407 ; 104  |                                (1<<DISPLAY_PLAYMODE_BITPOS)|\ 
                            26408 ; 105  |                                (1<<DISPLAY_PLAYSTATE_BITPOS)\ 
                            26409 ; 106  |                                )
                            26410 ; 107  |
                            26411 ; 108  |//-----------------------------------------------
                            26412 ; 109  |#ifdef JPEG_ALBUM_ART
                            26413 ; 110  |#define ALBUMART_SET_MASK_IF_APPROPRIATE (1<<DISPLAY_ALBUMART_BITPOS)
                            26414 ; 111  |#else
                            26415 ; 112  |#define ALBUMART_SET_MASK_IF_APPROPRIATE (0)
                            26416 ; 113  |#endif
                            26417 ; 114  |
                            26418 ; 115  |#ifdef PLAYER_STRESS
                            26419 ; 116  |#define PLAYER_STRESSTEST_SET_MASK_IF_APPROPRIATE (1<<DISPLAY_STRESSTEST_BITPOS)
                            26420 ; 117  |#else
                            26421 ; 118  |#define PLAYER_STRESSTEST_SET_MASK_IF_APPROPRIATE (0)
                            26422 ; 119  |#endif
                            26423 ; 120  |
                            26424 ; 121  |
                            26425 ; 122  |#define MUSIC_MENU_DISPLAY_ALL  (\ 
                            26426 ; 123  |                                (COMMON_DISPLAY_ALL)|\ 
                            26427 ; 124  |                                (ALBUMART_SET_MASK_IF_APPROPRIATE)|\ 
                            26428 ; 125  |                                (1<<DISPLAY_PLAYSTATE_BITPOS)|\ 
                            26429 ; 126  |                                (1<<DISPLAY_VOLUME_BITPOS)|\ 
                            26430 ; 127  |                                (1<<DISPLAY_SONGARTISTALBUM_BITPOS)|\ 
                            26431 ; 128  |                                (1<<DISPLAY_SONGTITLE_BITPOS)|\ 
                            26432 ; 129  |                                (1<<DISPLAY_CURRENTTRACK_BITPOS)|\ 
                            26433 ; 130  |                                (1<<DISPLAY_TRACKTIME_BITPOS)|\ 
                            26434 ; 131  |                                (1<<DISPLAY_TOTALTRACKTIME_BITPOS)\ 
                            26435 ; 132  |                                )
                            26436 ; 133  |
                            26437 ; 134  |#define MUSIC_MENU_DISPLAY_NEW_TRACK (\ 
                            26438 ; 135  |                                (ALBUMART_SET_MASK_IF_APPROPRIATE)|\ 
                            26439 ; 136  |                                (PLAYER_STRESSTEST_SET_MASK_IF_APPROPRIATE)|\ 
                            26440 ; 137  |                                (1<<DISPLAY_SONGARTISTALBUM_BITPOS)|\ 
                            26441 ; 138  |                                (1<<DISPLAY_SONGTITLE_BITPOS)|\ 
                            26442 ; 139  |                                (1<<DISPLAY_CURRENTTRACK_BITPOS)|\ 
                            26443 ; 140  |                                (1<<DISPLAY_TRACKTIME_BITPOS)|\ 
                            26444 ; 141  |                                (1<<DISPLAY_TOTALTRACKTIME_BITPOS)|\ 
                            26445 ; 142  |                                (1<<DISPLAY_AB_ICON_BITPOS)|\ 
                            26446 ; 143  |                                (1<<DISPLAY_PLAYSTATE_BITPOS)|\ 
                            26447 ; 144  |                                (1<<DISPLAY_PLAYSET_BITPOS)\ 
                            26448 ; 145  |                                )
                            26449 ; 146  |//-----------------------------------------------
                            26450 ; 147  |
                            26451 ; 148  |
                            26452 ; 149  |#define MVIDEO_MENU_DISPLAY_ALL ((1<<DISPLAY_CURRENTTRACK_BITPOS)|(1<<DISPLAY_SONGTITLE_BITPOS))
                            26453 ; 150  |
                            26454 ; 151  |
                            26455 ; 152  |#define VOICE_MENU_DISPLAY_ALL  (\ 
                            26456 ; 153  |                                COMMON_DISPLAY_ALL|\ 
                            26457 ; 154  |                                (1<<DISPLAY_PLAYMODE_BITPOS)|\ 
                            26458 ; 155  |                                (1<<DISPLAY_PLAYSTATE_BITPOS)|\ 
                            26459 ; 156  |                                (1<<DISPLAY_VOLUME_BITPOS)|\ 
                            26460 ; 157  |                                (1<<DISPLAY_SONGARTISTALBUM_BITPOS)|\ 
                            26461 ; 158  |                                (1<<DISPLAY_SONGTITLE_BITPOS)|\ 
                            26462 ; 159  |                                (1<<DISPLAY_CURRENTTRACK_BITPOS)|\ 
                            26463 ; 160  |                                (1<<DISPLAY_TOTALTRACKTIME_BITPOS)|\ 
                            26464 ; 161  |                                (1<<DISPLAY_TRACKTIME_BITPOS)\ 
                            26465 ; 162  |                                )
                            26466 ; 163  |
                            26467 ; 164  |
                            26468 ; 165  |#define RECORDING_DISPLAY_ALL   (\ 
                            26469 ; 166  |                                COMMON_DISPLAY_ALL|\ 
                            26470 ; 167  |                                (1<<DISPLAY_ENCODER_TRACK_TIME_BITPOS)|\ 
                            26471 ; 168  |                                (1<<DISPLAY_ENCODER_TRACK_NAME_BITPOS)|\ 
                            26472 ; 169  |                                (1<<DISPLAY_PLAYSTATE_BITPOS)|\ 
                            26473 ; 170  |                                (1<<DISPLAY_VOLUME_BITPOS)|\ 
                            26474 ; 171  |                                (1<<DISPLAY_RECORD_MODE_BITPOS)\ 
                            26475 ; 172  |                                )
                            26476 ; 173  |
                            26477 ; 174  |#ifdef USE_PLAYLIST3
                            26478 ; 175  |#define BROWSE_MENU_DISPLAY_ALL  (\ 
                            26479 ; 176  |                                (1<<DISPLAY_BATTERY_BITPOS)|\ 
                            26480 ; 177  |                                (1<<DISPLAY_LOCK_BITPOS)|\ 
                            26481 ; 178  |                                (1<<DISPLAY_DISK_BITPOS)|\ 
                            26482 ; 179  |                                (1<<DISPLAY_PLAYSET_BITPOS)|\ 
                            26483 ; 180  |                                (1<<DISPLAY_MISC_BITPOS)\ 
                            26484 ; 181  |                                )
                            26485 ; 182  |#else
                            26486 ; 183  |#ifdef USE_PLAYLIST5
                            26487 ; 184  |#if 0
                            26488 ; 185  |#define BROWSE_MENU_DISPLAY_ALL (\ 
                            26489 ; 186  |                                 COMMON_DISPLAY_ALL|\ 
                            26490 ; 187  |                                (ALBUMART_SET_MASK_IF_APPROPRIATE)|\ 
                            26491 ; 188  |                                (1<<DISPLAY_PLAYSTATE_BITPOS)|\ 
                            26492 ; 189  |                                (1<<DISPLAY_VOLUME_BITPOS)|\ 
                            26493 ; 190  |                                (1<<DISPLAY_CURRENTTRACK_BITPOS)|\ 
                            26494 ; 191  |                                (1<<DISPLAY_MISC_BITPOS)\ 
                            26495 ; 192  |                                )
                            26496 ; 193  |#else
                            26497 ; 194  |#define BROWSE_MENU_DISPLAY_ALL (\ 
                            26498 ; 195  |                                 COMMON_DISPLAY_ALL|\ 
                            26499 ; 196  |                                (ALBUMART_SET_MASK_IF_APPROPRIATE)|\ 
                            26500 ; 197  |                                (1<<DISPLAY_PLAYSTATE_BITPOS)|\ 
                            26501 ; 198  |                                (1<<DISPLAY_VOLUME_BITPOS)|\ 
                            26502 ; 199  |                                (1<<DISPLAY_MISC_BITPOS)\ 
                            26503 ; 200  |                                )
                            26504 ; 201  |#endif
                            26505 ; 202  |#endif  // #ifdef USE_PLAYLIST5
                            26506 ; 203  |#endif  // #ifdef USE_PLAYLIST3
                            26507 ; 204  |
                            26508 ; 205  |
                            26509 ; 206  |
                            26510 ; 207  |#define MAIN_MENU_DISPLAY_ALL           (COMMON_DISPLAY_ALL|(1<<DISPLAY_MISC_BITPOS))
                            26511 ; 208  |
                            26512 ; 209  |#define EQ_MENU_DISPLAY_ALL             (\ 
                            26513 ; 210  |                                        COMMON_DISPLAY_ALL|\ 
                            26514 ; 211  |                                        (1<<DISPLAY_EQ_BITPOS)|\ 
                            26515 ; 212  |                                        (1<<DISPLAY_VOLUME_BITPOS)\ 
                            26516 ; 213  |                                        )     // (SDK2.520)
                            26517 ; 214  |
                            26518 ; 215  |#define PM_MENU_DISPLAY_ALL             (COMMON_DISPLAY_ALL|(1<<DISPLAY_PLAYMODE_BITPOS)|(1<<DISPLAY_MISC_BITPOS))
                            26519 ; 216  |#define PWR_MENU_DISPLAY_ALL            (COMMON_DISPLAY_ALL|(1<<DISPLAY_MISC_BITPOS))
                            26520 ; 217  |#define SETTINGS_MENU_DISPLAY_ALL       (COMMON_DISPLAY_ALL|(1<<DISPLAY_MISC_BITPOS))
                            26521 ; 218  |#define JPEG_DISPLAY_MENU_DISPLAY_ALL       (COMMON_DISPLAY_ALL|(1<<DISPLAY_MISC_BITPOS))
                            26522 ; 219  |#define DELETE_MENU_DISPLAY_ALL         (COMMON_DISPLAY_ALL|(1<<DISPLAY_MISC_BITPOS))
                            26523 ; 220  |#define ABOUT_MENU_DISPLAY_ALL          (COMMON_DISPLAY_ALL)
                            26524 ; 221  |#define ERASE_MENU_DISPLAY_ALL          ((1<<DISPLAY_BATTERY_BITPOS)|(1<<DISPLAY_LOCK_BITPOS))
                            26525 ; 222  |
                            26526 ; 223  |#define CONTRAST_MENU_DISPLAY_ALL       (COMMON_DISPLAY_ALL|(1<<DISPLAY_MISC_BITPOS))
                            26527 ; 224  |
                            26528 ; 225  |#define TIME_DATE_MENU_DISPLAY_ALL      0
                            26529 ; 226  |#define RECORDTEST_DISPLAY_ALL       (\ 
                            26530 ; 227  |                                        (1<<DISPLAY_ENCODER_TRACK_TIME_BITPOS)|\ 
                            26531 ; 228  |                                                                        (1<<DISPLAY_ENCODER_TRACK_NAME_BITPOS)|\ 
                            26532 ; 229  |                                                                        (1<<DISPLAY_PLAYSTATE_BITPOS)|\ 
                            26533 ; 230  |                                        (1<<DISPLAY_RECORD_MODE_BITPOS)|\ 
                            26534 ; 231  |                                    (1<<DISPLAY_MISC_BITPOS)\ 
                            26535 ; 232  |                                                                        )
                            26536 ; 233  |
                            26537 ; 234  |#define SPLASH_MENU_DISPLAY_ALL         (COMMON_DISPLAY_ALL|(1<<DISPLAY_MISC_BITPOS))
                            26538 ; 235  |// used during track update to force total time update
                            26539 ; 236  |#define AUTOUPDATE              FALSE
                            26540 ; 237  |#define FORCEUPDATE             TRUE
                            26541 ; 238  |
                            26542 ; 239  |
                            26543 ; 240  |// based on font used for title/artist display
                            26544 ; 241  |#define DEFAULT_CHAR_WIDTH  5
                            26545 ; 242  |
                            26546 ; 243  |
                            26547 ; 244  |// LCD dimensions
                            26548 ; 245  |#ifdef LDS514_LCD
                            26549 ; 246  |#define   LCD_SIZE_X       96
                            26550 ; 247  |#define   LCD_SIZE_Y       64
                            26551 ; 248  |#endif
                            26552 ; 249  |
                            26553 ; 250  |#ifdef ILI814_LCD
                            26554 ; 251  |#define   LCD_SIZE_X       96
                            26555 ; 252  |#define   LCD_SIZE_Y       64
                            26556 ; 253  |#endif
                            26557 ; 254  |
                            26558 ; 255  |#ifdef ML9341_LCD
                            26559 ; 256  |#define   LCD_SIZE_X       96
                            26560 ; 257  |#define   LCD_SIZE_Y       96
                            26561 ; 258  |#endif
                            26562 ; 259  |
                            26563 ; 260  |#ifdef SSD1332_LCD
                            26564 ; 261  |#define   LCD_SIZE_X       96
                            26565 ; 262  |#define   LCD_SIZE_Y       64
                            26566 ; 263  |#endif
                            26567 ; 264  |
                            26568 ; 265  |#ifdef S6B33B0A_LCD
                            26569 ; 266  |#define   LCD_SIZE_X       128
                            26570 ; 267  |#define   LCD_SIZE_Y       159
                            26571 ; 268  |#endif
                            26572 ; 269  |
                            26573 ; 270  |#ifdef SED15XX_LCD
                            26574 ; 271  |#define LCD_SIZE_X                      128
                            26575 ; 272  |#define LCD_SIZE_Y                      64
                            26576 ; 273  |#endif
                            26577 ; 274  |
                            26578 ; 275  |#define LCD_SIZE_ROW                     8
                            26579 ; 276  |
                            26580 ; 277  |#define TOP_OF_SCREEN           0
                            26581 ; 278  |#define LEFT_OF_SCREEN          0
                            26582 ; 279  |
                            26583 ; 280  |#ifdef LDS514_LCD
                            26584 ; 281  |#define   SCREEN_WIDTH       96
                            26585 ; 282  |#define   SCREEN_HEIGHT       64
                            26586 ; 283  |#endif
                            26587 ; 284  |
                            26588 ; 285  |#ifdef ILI814_LCD
                            26589 ; 286  |#define   SCREEN_WIDTH       96
                            26590 ; 287  |#define   SCREEN_HEIGHT       64
                            26591 ; 288  |#endif
                            26592 ; 289  |
                            26593 ; 290  |#ifdef ML9341_LCD
                            26594 ; 291  |#define   SCREEN_WIDTH       96
                            26595 ; 292  |#define   SCREEN_HEIGHT       96
                            26596 ; 293  |#endif
                            26597 ; 294  |
                            26598 ; 295  |#ifdef SSD1332_LCD
                            26599 ; 296  |#define   SCREEN_WIDTH       96
                            26600 ; 297  |#define   SCREEN_HEIGHT       64
                            26601 ; 298  |#endif
                            26602 ; 299  |
                            26603 ; 300  |#ifdef S6B33B0A_LCD
                            26604 ; 301  |#define   SCREEN_WIDTH       128
                            26605 ; 302  |#define   SCREEN_HEIGHT       159
                            26606 ; 303  |#endif
                            26607 ; 304  |
                            26608 ; 305  |#ifdef SED15XX_LCD
                            26609 ; 306  |#define SCREEN_WIDTH            128
                            26610 ; 307  |#define SCREEN_HEIGHT           64
                            26611 ; 308  |#endif
                            26612 ; 309  |
                            26613 ; 310  |#define CHAR_SIZE_X             6
                            26614 ; 311  |#define CHAR_SIZE_Y             8
                            26615 ; 312  |
                            26616 ; 313  |// Physical rows are numbered from 0 to LCD_SIZE_Y/LCD_SIZE_ROW
                            26617 ; 314  |#define LCD_FIRST_ROW_NUM                1
                            26618 ; 315  |#define LCD_FIRST_ROW_POS_Y=LCD_FIRST_ROW_NUM*LCD_SIZE_ROW  // skipping the first row
                            26619 ; 316  |
                            26620 ; 317  |// Top row in order from left to right
                            26621 ; 318  |#define PLAY_STATE_ICON_X_POS   LEFT_OF_SCREEN+0
                            26622 ; 319  |#define PLAY_STATE_ICON_Y_POS   TOP_OF_SCREEN+0
                            26623 ; 320  |#define PLAY_STATE_ICON_X_SIZE  12
                            26624 ; 321  |#define PLAY_STATE_ICON_Y_SIZE  8
                            26625 ; 322  |
                            26626 ; 323  |#define REPEAT_ICON_X_POS       LEFT_OF_SCREEN+13
                            26627 ; 324  |#define REPEAT_ICON_Y_POS       TOP_OF_SCREEN+0
                            26628 ; 325  |#define REPEAT_ICON_X_SIZE      12
                            26629 ; 326  |#define REPEAT_ICON_Y_SIZE      8
                            26630 ; 327  |
                            26631 ; 328  |#define SHUFFLE_ICON_X_POS      LEFT_OF_SCREEN+25
                            26632 ; 329  |#define SHUFFLE_ICON_Y_POS      TOP_OF_SCREEN+0
                            26633 ; 330  |#define SHUFFLE_ICON_X_SIZE     5     // includes white space on left side of .bmp
                            26634 ; 331  |#define SHUFFLE_ICON_Y_SIZE     8
                            26635 ; 332  |
                            26636 ; 333  |#define AB_ICON_X_POS           LEFT_OF_SCREEN+31
                            26637 ; 334  |#define AB_ICON_Y_POS           TOP_OF_SCREEN+0
                            26638 ; 335  |#define AB_ICON_X_SIZE          12
                            26639 ; 336  |#define AB_ICON_Y_SIZE          8
                            26640 ; 337  |
                            26641 ; 338  |#ifdef  AUDIBLE
                            26642 ; 339  |#define SECNAV_ICON_X_POS       LEFT_OF_SCREEN+31
                            26643 ; 340  |#define SECNAV_ICON_Y_POS       TOP_OF_SCREEN+0
                            26644 ; 341  |#define SECNAV_ICON_X_SIZE      12
                            26645 ; 342  |#define SECNAV_ICON_Y_SIZE      8
                            26646 ; 343  |#endif
                            26647 ; 344  |
                            26648 ; 345  |#define EQ_ICON_X_POS           LEFT_OF_SCREEN+44
                            26649 ; 346  |#define EQ_ICON_Y_POS           TOP_OF_SCREEN+0
                            26650 ; 347  |#define EQ_ICON_X_SIZE          22
                            26651 ; 348  |#define EQ_ICON_Y_SIZE          8
                            26652 ; 349  |
                            26653 ; 350  |#ifdef WOW
                            26654 ; 351  |#define WOW_X_POS               EQ_ICON_X_POS
                            26655 ; 352  |#define WOW_Y_POS               EQ_ICON_Y_POS
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page 105

M:ADDR CODE           CYCLES LINE SOURCELINE
                            26656 ; 353  |#endif
                            26657 ; 354  |
                            26658 ; 355  |
                            26659 ; 356  |// Media icon
                            26660 ; 357  |#define DISK_X_POS              LEFT_OF_SCREEN+66
                            26661 ; 358  |#define DISK_Y_POS              TOP_OF_SCREEN
                            26662 ; 359  |#define DISK_X_SIZE             8
                            26663 ; 360  |#define DISK_Y_SIZE             8
                            26664 ; 361  |
                            26665 ; 362  |// Hold icon
                            26666 ; 363  |#define LOCK_ICON_X_POS         LEFT_OF_SCREEN+73
                            26667 ; 364  |#define LOCK_ICON_Y_POS         TOP_OF_SCREEN
                            26668 ; 365  |#define LOCK_ICON_X_SIZE        8
                            26669 ; 366  |#define LOCK_ICON_Y_SIZE        8
                            26670 ; 367  |
                            26671 ; 368  |#define BATTERY_ICON_X_POS      LEFT_OF_SCREEN+110
                            26672 ; 369  |#define BATTERY_ICON_Y_POS      TOP_OF_SCREEN+0
                            26673 ; 370  |#define BATTERY_ICON_X_SIZE     16
                            26674 ; 371  |#define BATTERY_ICON_Y_SIZE     8
                            26675 ; 372  |#define BATTERY_RESOURCE        RSRC_BATTERY_00
                            26676 ; 373  |
                            26677 ; 374  |// Second row from left to right
                            26678 ; 375  |#define VOLUME_ICON_X_POS       LEFT_OF_SCREEN+0
                            26679 ; 376  |#define VOLUME_ICON_Y_POS       TOP_OF_SCREEN+8
                            26680 ; 377  |#define VOLUME_ICON_X_SIZE      48
                            26681 ; 378  |#define VOLUME_ICON_Y_SIZE      8
                            26682 ; 379  |#define VOLUME_RESOURCE         RSRC_ICON_VOL_00
                            26683 ; 380  |#define VOLUME_NUM_ICONS        27
                            26684 ; 381  |
                            26685 ; 382  |#define PLAYSET_X_POS           SCREEN_WIDTH-8
                            26686 ; 383  |#define PLAYSET_Y_POS           TOP_OF_SCREEN+8
                            26687 ; 384  |
                            26688 ; 385  |//Lyrics Position
                            26689 ; 386  |#define LYRICS_DISPLAY_X_POS    LEFT_OF_SCREEN
                            26690 ; 387  |#define LYRICS_DISPLAY_Y_POS    TOP_OF_SCREEN+16
                            26691 ; 388  |#define LYRICS_DISPLAY_HEIGHT           10
                            26692 ; 389  |
                            26693 ; 390  |// Music menu
                            26694 ; 391  |#define SONG_TITLE_X_POS        LEFT_OF_SCREEN+0
                            26695 ; 392  |#define SONG_TITLE_Y_POS        TOP_OF_SCREEN+16
                            26696 ; 393  |#define SONG_TITLE_X_SIZE       SCREEN_WIDTH
                            26697 ; 394  |#define SONG_TITLE_Y_SIZE       10
                            26698 ; 395  |
                            26699 ; 396  |#define SONG_ARTIST_X_POS       LEFT_OF_SCREEN
                            26700 ; 397  |#define SONG_ARTIST_Y_POS       TOP_OF_SCREEN+26
                            26701 ; 398  |#define SONG_ARTIST_X_SIZE      SCREEN_WIDTH
                            26702 ; 399  |#define SONG_ARTIST_Y_SIZE      10
                            26703 ; 400  |
                            26704 ; 401  |#define SONG_ALBUM_X_POS       LEFT_OF_SCREEN
                            26705 ; 402  |#define SONG_ALBUM_Y_POS       TOP_OF_SCREEN+36
                            26706 ; 403  |#define SONG_ALBUM_X_SIZE      SCREEN_WIDTH
                            26707 ; 404  |#define SONG_ALBUM_Y_SIZE      10
                            26708 ; 405  |
                            26709 ; 406  |#ifdef USE_PLAYLIST5
                            26710 ; 407  |#define TRACK_NUMBER_X_POS      LEFT_OF_SCREEN+28
                            26711 ; 408  |#define TRACK_NUMBER_Y_POS      TOP_OF_SCREEN+56
                            26712 ; 409  |#define TRACK_NUMBER_X_SIZE     6*4
                            26713 ; 410  |#define TRACK_NUMBER_Y_SIZE     8
                            26714 ; 411  |
                            26715 ; 412  |#define TRACK_COUNT_X_POS       TRACK_NUMBER_X_POS+TRACK_NUMBER_X_SIZE+10
                            26716 ; 413  |#define TRACK_COUNT_Y_POS       TOP_OF_SCREEN+56
                            26717 ; 414  |#define TRACK_COUNT_X_SIZE      6*4
                            26718 ; 415  |#define TRACK_COUNT_Y_SIZE      8
                            26719 ; 416  |
                            26720 ; 417  |#define TRACK_DIVIDE_X TRACK_NUMBER_X_POS+TRACK_COUNT_X_SIZE + 2
                            26721 ; 418  |#else
                            26722 ; 419  |#define TRACK_NUMBER_X_POS      LEFT_OF_SCREEN+34
                            26723 ; 420  |#define TRACK_NUMBER_Y_POS      TOP_OF_SCREEN+56
                            26724 ; 421  |#define TRACK_NUMBER_X_SIZE     6*3
                            26725 ; 422  |#define TRACK_NUMBER_Y_SIZE     8
                            26726 ; 423  |
                            26727 ; 424  |#define TRACK_COUNT_X_POS       TRACK_NUMBER_X_POS+TRACK_NUMBER_X_SIZE+10
                            26728 ; 425  |#define TRACK_COUNT_Y_POS       TOP_OF_SCREEN+56
                            26729 ; 426  |#define TRACK_COUNT_X_SIZE      6*3
                            26730 ; 427  |#define TRACK_COUNT_Y_SIZE      8
                            26731 ; 428  |
                            26732 ; 429  |#define TRACK_DIVIDE_X  TRACK_NUMBER_X_POS+24
                            26733 ; 430  |#endif
                            26734 ; 431  |
                            26735 ; 432  |
                            26736 ; 433  |#define TRACK_CURR_TIME_X_POS       LEFT_OF_SCREEN+28
                            26737 ; 434  |#define TRACK_CURR_TIME_Y_POS       TOP_OF_SCREEN+48
                            26738 ; 435  |#define TRACK_CURR_TIME_X_SIZE      25
                            26739 ; 436  |#define TRACK_CURR_TIME_Y_SIZE      8
                            26740 ; 437  |
                            26741 ; 438  |#define TRACK_SLASH_X_SIZE          5
                            26742 ; 439  |#define TRACK_SLASH_X_POS           TRACK_TOTAL_TIME_X_POS-TRACK_SLASH_X_SIZE
                            26743 ; 440  |#define TRACK_SLASH_Y_POS           TRACK_CURR_TIME_Y_POS
                            26744 ; 441  |
                            26745 ; 442  |#define TRACK_TOTAL_TIME_X_POS      LEFT_OF_SCREEN+60
                            26746 ; 443  |#define TRACK_TOTAL_TIME_Y_POS      TRACK_CURR_TIME_Y_POS
                            26747 ; 444  |#define TRACK_TOTAL_TIME_X_SIZE     28
                            26748 ; 445  |#define TRACK_TOTAL_TIME_Y_SIZE     8
                            26749 ; 446  |
                            26750 ; 447  |#define VBR_FLAG_X_POS      LEFT_OF_SCREEN+80
                            26751 ; 448  |#define VBR_FLAG_Y_POS      8
                            26752 ; 449  |#define VBR_FLAG_X_SIZE     20
                            26753 ; 450  |#define VBR_FLAG_Y_SIZE     8
                            26754 ; 451  |#ifdef JPEG_ALBUM_ART
                            26755 ; 452  |// Album art display parameters:
                            26756 ; 453  |#define ALBUM_ART_X_POS         TOP_OF_SCREEN
                            26757 ; 454  |#define ALBUM_ART_Y_POS         80
                            26758 ; 455  |#define ALBUM_ART_X_SIZE        SCREEN_WIDTH
                            26759 ; 456  |#define ALBUM_ART_Y_SIZE        (SCREEN_HEIGHT-ALBUM_ART_Y_POS)
                            26760 ; 457  |#endif
                            26761 ; 458  |
                            26762 ; 459  |// Recording Display
                            26763 ; 460  |#define REC_CURR_TIME_X_POS       LEFT_OF_SCREEN
                            26764 ; 461  |#define REC_CURR_TIME_Y_POS       TOP_OF_SCREEN+48
                            26765 ; 462  |#define REC_CURR_TIME_X_SIZE      12
                            26766 ; 463  |#define REC_CURR_TIME_Y_SIZE      8
                            26767 ; 464  |
                            26768 ; 465  |#define REC_TOTAL_TIME_X_POS      LEFT_OF_SCREEN+45
                            26769 ; 466  |#define REC_TOTAL_TIME_Y_POS      TOP_OF_SCREEN+48
                            26770 ; 467  |#define REC_TOTAL_TIME_X_SIZE     28
                            26771 ; 468  |#define REC_TOTAL_TIME_Y_SIZE     8
                            26772 ; 469  |
                            26773 ; 470  |// Playback Display with hours added.
                            26774 ; 471  |#ifdef LDS514_LCD
                            26775 ; 472  |#define HR_TRACK_CURR_TIME_X_POS        LEFT_OF_SCREEN+16
                            26776 ; 473  |#endif
                            26777 ; 474  |
                            26778 ; 475  |#ifdef ILI814_LCD
                            26779 ; 476  |#define HR_TRACK_CURR_TIME_X_POS        LEFT_OF_SCREEN+16
                            26780 ; 477  |#endif
                            26781 ; 478  |
                            26782 ; 479  |#ifdef ML9341_LCD
                            26783 ; 480  |#define HR_TRACK_CURR_TIME_X_POS        LEFT_OF_SCREEN+16
                            26784 ; 481  |#endif
                            26785 ; 482  |
                            26786 ; 483  |#ifdef SSD1332_LCD
                            26787 ; 484  |#define HR_TRACK_CURR_TIME_X_POS        LEFT_OF_SCREEN+16
                            26788 ; 485  |#endif
                            26789 ; 486  |
                            26790 ; 487  |#ifdef S6B33B0A_LCD
                            26791 ; 488  |#define HR_TRACK_CURR_TIME_X_POS        LEFT_OF_SCREEN+16
                            26792 ; 489  |#endif
                            26793 ; 490  |
                            26794 ; 491  |#ifdef SED15XX_LCD
                            26795 ; 492  |#define HR_TRACK_CURR_TIME_X_POS        LEFT_OF_SCREEN+16
                            26796 ; 493  |#endif
                            26797 ; 494  |
                            26798 ; 495  |#define HR_TRACK_CURR_TIME_Y_POS        TOP_OF_SCREEN+48
                            26799 ; 496  |#define HR_TRACK_CURR_TIME_X_SIZE       28
                            26800 ; 497  |#define HR_TRACK_CURR_TIME_Y_SIZE       8
                            26801 ; 498  |
                            26802 ; 499  |#define HR_TRACK_TOTAL_TIME_X_POS       LEFT_OF_SCREEN+59
                            26803 ; 500  |#define HR_TRACK_TOTAL_TIME_Y_POS       TRACK_CURR_TIME_Y_POS
                            26804 ; 501  |#define HR_TRACK_TOTAL_TIME_X_SIZE      28
                            26805 ; 502  |#define HR_TRACK_TOTAL_TIME_Y_SIZE      8
                            26806 ; 503  |
                            26807 ; 504  |//Clear entire Track Time when song changes.
                            26808 ; 505  |#define CLR_TRACK_TIME_X_POS            LEFT_OF_SCREEN
                            26809 ; 506  |#define CLR_TRACK_TIME_Y_POS            TRACK_CURR_TIME_Y_POS
                            26810 ; 507  |#define CLR_TRACK_TIME_X_SIZE           SCREEN_WIDTH
                            26811 ; 508  |#define CLR_TRACK_TIME_Y_SIZE           8
                            26812 ; 509  |
                            26813 ; 510  |#define HR_TRACK_SLASH_X_SIZE           3
                            26814 ; 511  |#define HR_TRACK_SLASH_X_POS            HR_TRACK_TOTAL_TIME_X_POS-HR_TRACK_SLASH_X_SIZE
                            26815 ; 512  |#define HR_TRACK_SLASH_Y_POS            HR_TRACK_CURR_TIME_Y_POS
                            26816 ; 513  |
                            26817 ; 514  | //DVRWARN
                            26818 ; 515  |#define VOICE_SPACE_WARN_X_POS      LEFT_OF_SCREEN
                            26819 ; 516  |#define VOICE_SPACE_WARN_Y_POS      SONG_TITLE_Y_POS
                            26820 ; 517  |#define VOICE_SPACE_WARN_X_SIZE     93
                            26821 ; 518  |#define VOICE_SPACE_WARN_Y_SIZE     16
                            26822 ; 519  |
                            26823 ; 520  |//Shutdown
                            26824 ; 521  |#define SHUTDOWN_PROGRESS_X_POS     LEFT_OF_SCREEN+24
                            26825 ; 522  |#define SHUTDOWN_PROGRESS_Y_POS     TOP_OF_SCREEN+32
                            26826 ; 523  |#define SHUTDOWN_PROGRESS_X_SIZE    59
                            26827 ; 524  |#define SHUTDOWN_PROGRESS_Y_SIZE    16
                            26828 ; 525  |#define SHUTDOWN_PROGRESS_RESOURCE  RSRC_PDOWN_STATUS_0
                            26829 ; 526  |
                            26830 ; 527  |#define SHUTDOWN_STRING_X_POS       LEFT_OF_SCREEN+10
                            26831 ; 528  |#define SHUTDOWN_STRING_Y_POS       TOP_OF_SCREEN+16
                            26832 ; 529  |#define SHUTDOWN_STRING_X_SIZE      59
                            26833 ; 530  |#define SHUTDOWN_STRING_Y_SIZE      16
                            26834 ; 531  |#define SHUTDOWN_STRING_RESOURCE    RSRC_PDOWN_HOLD_STRING
                            26835 ; 532  |
                            26836 ; 533  |#define DEFRAGMENT_STRING_X_POS       LEFT_OF_SCREEN+0
                            26837 ; 534  |#define DEFRAGMENT_STRING_Y_POS       TOP_OF_SCREEN+16
                            26838 ; 535  |#define DEFRAGMENT_STRING_X_SIZE      59
                            26839 ; 536  |#define DEFRAGMENT_STRING_Y_SIZE      16
                            26840 ; 537  |#define DEFRAGMENT_STRING_RESOURCE    RSRC_DEFRAGMENT_STORE_STRING
                            26841 ; 538  |
                            26842 ; 539  |
                            26843 ; 540  |//Contrast Display
                            26844 ; 541  |#define CONTRAST_TITLE_X_POS        LEFT_OF_SCREEN+0
                            26845 ; 542  |#define CONTRAST_TITLE_Y_POS        TOP_OF_SCREEN+16
                            26846 ; 543  |
                            26847 ; 544  |#define CONTRAST_X_POS              LEFT_OF_SCREEN+8
                            26848 ; 545  |#define CONTRAST_Y_POS              TOP_OF_SCREEN+32
                            26849 ; 546  |#define CONTRAST_X_SIZE             96
                            26850 ; 547  |#define CONTRAST_Y_SIZE             8
                            26851 ; 548  |#define CONTRAST_RESOURCE           RSRC_CONTRAST_LEVEL_0
                            26852 ; 549  |
                            26853 ; 550  |//Backlight Display
                            26854 ; 551  |#define BACKLIGHT_TITLE_X_POS        LEFT_OF_SCREEN+0
                            26855 ; 552  |#define BACKLIGHT_TITLE_Y_POS        TOP_OF_SCREEN+24
                            26856 ; 553  |#define BACKLIGHT_STATE_X_POS        LEFT_OF_SCREEN+0
                            26857 ; 554  |#define BACKLIGHT_STATE_Y_POS        (LCD_FIRST_ROW_NUM+4)*LCD_SIZE_ROW
                            26858 ; 555  |
                            26859 ; 556  |//settings title display
                            26860 ; 557  |#define SETTINGS_TITLE_X_POS        LEFT_OF_SCREEN+0
                            26861 ; 558  |#define SETTINGS_TITLE_Y_POS        TOP_OF_SCREEN+8
                            26862 ; 559  |//jpeg display title display
                            26863 ; 560  |#define JPEG_DISPLAY_TITLE_X_POS        LEFT_OF_SCREEN+0
                            26864 ; 561  |#define JPEG_DISPLAY_TITLE_Y_POS        TOP_OF_SCREEN+8
                            26865 ; 562  |//erase files title display
                            26866 ; 563  |#define ERASE_TITLE_X_POS           LEFT_OF_SCREEN+0
                            26867 ; 564  |#define ERASE_TITLE_Y_POS           TOP_OF_SCREEN+8
                            26868 ; 565  |
                            26869 ; 566  |// Splashscreen
                            26870 ; 567  |#ifdef LDS514_LCD
                            26871 ; 568  |#define SPLASH_SCREEN_X_POS         LEFT_OF_SCREEN
                            26872 ; 569  |#define SPLASH_SCREEN_Y_POS         TOP_OF_SCREEN
                            26873 ; 570  |#define SPLASH_SCREEN_X_SIZE        96
                            26874 ; 571  |#define SPLASH_SCREEN_Y_SIZE        64
                            26875 ; 572  |#define LOCKED_SCREEN_X_POS         LEFT_OF_SCREEN+8
                            26876 ; 573  |#define LOCKED_SCREEN_Y_POS         TOP_OF_SCREEN+24
                            26877 ; 574  |#endif
                            26878 ; 575  |
                            26879 ; 576  |#ifdef ILI814_LCD
                            26880 ; 577  |#define SPLASH_SCREEN_X_POS         LEFT_OF_SCREEN
                            26881 ; 578  |#define SPLASH_SCREEN_Y_POS         TOP_OF_SCREEN
                            26882 ; 579  |#define SPLASH_SCREEN_X_SIZE        96
                            26883 ; 580  |#define SPLASH_SCREEN_Y_SIZE        64
                            26884 ; 581  |#define LOCKED_SCREEN_X_POS         LEFT_OF_SCREEN+8
                            26885 ; 582  |#define LOCKED_SCREEN_Y_POS         TOP_OF_SCREEN+24
                            26886 ; 583  |#endif
                            26887 ; 584  |
                            26888 ; 585  |#ifdef ML9341_LCD
                            26889 ; 586  |#define SPLASH_SCREEN_X_POS         LEFT_OF_SCREEN
                            26890 ; 587  |#define SPLASH_SCREEN_Y_POS         TOP_OF_SCREEN
                            26891 ; 588  |#define SPLASH_SCREEN_X_SIZE        96
                            26892 ; 589  |#define SPLASH_SCREEN_Y_SIZE        96
                            26893 ; 590  |#define LOCKED_SCREEN_X_POS         LEFT_OF_SCREEN+8
                            26894 ; 591  |#define LOCKED_SCREEN_Y_POS         TOP_OF_SCREEN+24
                            26895 ; 592  |#endif
                            26896 ; 593  |
                            26897 ; 594  |#ifdef SSD1332_LCD
                            26898 ; 595  |#define SPLASH_SCREEN_X_POS         LEFT_OF_SCREEN
                            26899 ; 596  |#define SPLASH_SCREEN_Y_POS         TOP_OF_SCREEN
                            26900 ; 597  |#define SPLASH_SCREEN_X_SIZE        96
                            26901 ; 598  |#define SPLASH_SCREEN_Y_SIZE        64
                            26902 ; 599  |#define LOCKED_SCREEN_X_POS         LEFT_OF_SCREEN+8
                            26903 ; 600  |#define LOCKED_SCREEN_Y_POS         TOP_OF_SCREEN+24
                            26904 ; 601  |#endif
                            26905 ; 602  |
                            26906 ; 603  |#ifdef S6B33B0A_LCD
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page 106

M:ADDR CODE           CYCLES LINE SOURCELINE
                            26907 ; 604  |#define SPLASH_SCREEN_X_POS         LEFT_OF_SCREEN
                            26908 ; 605  |#define SPLASH_SCREEN_Y_POS         TOP_OF_SCREEN + 16
                            26909 ; 606  |#define SPLASH_SCREEN_X_SIZE        80
                            26910 ; 607  |#define SPLASH_SCREEN_Y_SIZE        48
                            26911 ; 608  |#define LOCKED_SCREEN_X_POS         LEFT_OF_SCREEN+8
                            26912 ; 609  |#define LOCKED_SCREEN_Y_POS         TOP_OF_SCREEN+24
                            26913 ; 610  |#endif
                            26914 ; 611  |
                            26915 ; 612  |#ifdef SED15XX_LCD
                            26916 ; 613  |#define SPLASH_SCREEN_X_POS         LEFT_OF_SCREEN
                            26917 ; 614  |#define SPLASH_SCREEN_Y_POS         TOP_OF_SCREEN 
                            26918 ; 615  |#define SPLASH_SCREEN_X_SIZE        128
                            26919 ; 616  |#define SPLASH_SCREEN_Y_SIZE        64    
                            26920 ; 617  |#define LOCKED_SCREEN_X_POS         LEFT_OF_SCREEN+8
                            26921 ; 618  |#define LOCKED_SCREEN_Y_POS         TOP_OF_SCREEN+24
                            26922 ; 619  |#endif
                            26923 ; 620  |
                            26924 ; 621  |// FM tuner
                            26925 ; 622  |#define FM_TUNER_FREQUENCY_X_POS    LEFT_OF_SCREEN+30
                            26926 ; 623  |#define FM_TUNER_FREQUENCY_Y_POS    TOP_OF_SCREEN+24
                            26927 ; 624  |#define FM_TUNER_FREQUENCY_X_SIZE   CHAR_SIZE_X*10
                            26928 ; 625  |#define FM_TUNER_FREQUENCY_Y_SIZE   CHAR_SIZE_Y
                            26929 ; 626  |#define FM_TUNER_FREQUENCY_DOT_X_POS    FM_TUNER_FREQUENCY_X_POS+CHAR_SIZE_X*3
                            26930 ; 627  |#define FM_TUNER_FRAC_FREQUENCY_X_POS    FM_TUNER_FREQUENCY_DOT_X_POS+3
                            26931 ; 628  |
                            26932 ; 629  |#define FM_TUNER_PRESET_X_POS       LEFT_OF_SCREEN+30
                            26933 ; 630  |#define FM_TUNER_PRESET_Y_POS       TOP_OF_SCREEN+34
                            26934 ; 631  |#define FM_TUNER_PRESET_X_SIZE      CHAR_SIZE_X*5
                            26935 ; 632  |#define FM_TUNER_PRESET_Y_SIZE      CHAR_SIZE_Y
                            26936 ; 633  |
                            26937 ; 634  |#define FM_TUNER_PILOT_X_POS       LEFT_OF_SCREEN+30
                            26938 ; 635  |#define FM_TUNER_PILOT_Y_POS       TOP_OF_SCREEN+44
                            26939 ; 636  |
                            26940 ; 637  |// About menu
                            26941 ; 638  |#define ABOUT_TITLE_X_POS           LEFT_OF_SCREEN+0
                            26942 ; 639  |#define ABOUT_TITLE_Y_POS           TOP_OF_SCREEN+LCD_SIZE_ROW
                            26943 ; 640  |// starting row -- use offsets for the rest
                            26944 ; 641  |#define ABOUT_LINE_LABEL_X_POS      LEFT_OF_SCREEN+0
                            26945 ; 642  |#define ABOUT_LINE_LABEL_Y_POS      ABOUT_TITLE_Y_POS+(2*LCD_SIZE_ROW)
                            26946 ; 643  |
                            26947 ; 644  |#ifdef PLAYER_STRESS
                            26948 ; 645  |#define STRESS_TEST_X_POS       LEFT_OF_SCREEN
                            26949 ; 646  |#define STRESS_TEST_Y_POS       TOP_OF_SCREEN+40
                            26950 ; 647  |#define STRESS_TEST_X_SIZE      SCREEN_WIDTH
                            26951 ; 648  |#define STRESS_TEST_Y_SIZE      8
                            26952 ; 649  |#endif
                            26953 ; 650  |
                            26954 ; 651  |
                            26955 ; 652  |// Delete Menu
                            26956 ; 653  |#define WARNING_MSG_LINE1_X         LEFT_OF_SCREEN
                            26957 ; 654  |#define WARNING_MSG_LINE1_Y         (LCD_FIRST_ROW_NUM+1)*LCD_SIZE_ROW
                            26958 ; 655  |#define WARNING_MSG_LINE2_X         LEFT_OF_SCREEN
                            26959 ; 656  |#define WARNING_MSG_LINE2_Y         (LCD_FIRST_ROW_NUM+2)*LCD_SIZE_ROW
                            26960 ; 657  |#define WARNING_MSG_FILE_X          LEFT_OF_SCREEN
                            26961 ; 658  |#define WARNING_MSG_FILE_Y          (LCD_FIRST_ROW_NUM+4)*LCD_SIZE_ROW
                            26962 ; 659  |#define WARNING_MSG_YES_X           LEFT_OF_SCREEN
                            26963 ; 660  |#define WARNING_MSG_YES_Y           (LCD_FIRST_ROW_NUM+6)*LCD_SIZE_ROW
                            26964 ; 661  |#define DELETE_FAIL_MSG_X           LEFT_OF_SCREEN
                            26965 ; 662  |#define DELETE_FAIL_MSG_Y           (LCD_FIRST_ROW_NUM+6)*LCD_SIZE_ROW
                            26966 ; 663  |
                            26967 ; 664  |_reentrant void DisplayClear (void);
                            26968 ; 665  |_reentrant void DisplayLowBattery (void);
                            26969 ; 666  |
                            26970 ; 667  |_reentrant int DisplayContrast( int bDisplay, int iIgnored1, void *pPtr);
                            26971 ; 668  |
                            26972 ; 669  |_reentrant int DisplayBacklight( int bDisplay, int iIgnored1, void *pPtr);
                            26973 ; 670  |#ifdef WOW
                            26974 ; 671  |_reentrant int DisplayBar( int bDisplay, int step, void *pPtr);
                            26975 ; 672  |#endif
                            26976 ; 673  |extern _X BOOL g_bSongStringScroll;
                            26977 ; 674  |extern _X INT  g_iSongStringOffset;
                            26978 ; 675  |extern _X INT  g_iSongStringLength;
                            26979 ; 676  |
                            26980 ; 677  |extern _X BOOL g_bArtistStringScroll;
                            26981 ; 678  |extern _X INT  g_iArtistStringOffset;
                            26982 ; 679  |extern _X INT  g_iArtistStringLength;
                            26983 ; 680  |
                            26984 ; 681  |
                            26985 ; 682  |extern _X BOOL g_bAlbumStringScroll;
                            26986 ; 683  |extern _X INT  g_iAlbumStringOffset;
                            26987 ; 684  |extern _X INT  g_iAlbumStringLength;
                            26988 ; 685  |extern int g_iVolume_Control_Mode;
                            26989 ; 686  |extern int g_iAB_Control_Mode;
                            26990 ; 687  |
                            26991 ; 688  |
                            26992 ; 689  |#endif //_DISPLAY_H
                            26993 
                            26995 
                            26996 ; 51   |#include "Fsproj.h"
                            26997 
                            26999 
                            27000 ; 1    |//------------------------------------------------------------------------------
                            27001 ; 2    |// Copyright(C) SigmaTel, Inc. 2005
                            27002 ; 3    |// Filename: fsproj.h (player lcdexample project)
                            27003 ; 4    |//------------------------------------------------------------------------------
                            27004 ; 5    |#ifndef __fsproj_h__
                            27005 ; 6    |#define __fsproj_h__
                            27006 ; 7    |// NOTE:  cachedef.h with its defaults is included here. Any defines in 
                            27007 ; 8    |// this fsproj.h supercede and are used as actual NUMHANDLES, NUMDEVICES, NUMCACHES, DRIVELETTERS.  
                            27008 ; 9    |
                            27009 ; 10   |// TOVERIFY  large block sdk 2.6 had 16 handles while sdk3.0 had only 8.
                            27010 ; 11   |#define NUMHANDLES 8
                            27011 ; 12   |
                            27012 ; 13   |// To help non MMC/SD builds, made this 2 not 3. jun28 2005
                            27013 ; 14   |#ifdef MMC
                            27014 ; 15   |#define NUMDEVICES 3
                            27015 ; 16   |#else
                            27016 ; 17   |#define NUMDEVICES 2
                            27017 ; 18   |#endif
                            27018 ; 19   |
                            27019 ; 20   |// TOVERIFY: SDK3.0 had 4 caches here but the large block sdk had only 2 larger caches. 
                            27020 ; 21   |// Consider finding memory for 3 for performance.
                            27021 ; 22   |#define NUMCACHES  2
                            27022 ; 23   |#define DRIVELETTERS {'a','b','c'}
                            27023 ; 24   |
                            27024 ; 25   |#include "cachedef.h"
                            27025 
                            27027 
                            27028 ; 1    |////////////////////////////////////////////////////////////////////////////////
                            27029 ; 2    |// Copyright(C) SigmaTel, Inc. 2003-2005
                            27030 ; 3    |//
                            27031 ; 4    |// Filename:     cachedef.h
                            27032 ; 5    |// Description:  Constants and externs for the file system routines.
                            27033 ; 6    |////////////////////////////////////////////////////////////////////////////////
                            27034 ; 7    |
                            27035 ; 8    |// NOTE: this file is included by fsproj.h, which overrides DRIVELETTERS, NUMCACHES,
                            27036 ; 9    |// NUMDEVICES, NUMHANDLES.  the values here for these are defaults for building as
                            27037 ; 10   |// a library.
                            27038 ; 11   |
                            27039 ; 12   |#ifndef __cachedef_h__
                            27040 ; 13   |#define __cachedef_h__
                            27041 ; 14   |
                            27042 ; 15   |#ifndef NUMHANDLES
                            27043 ; 16   |#define NUMHANDLES 20  
                            27044 ; 17   |#endif
                            27045 ; 18   |
                            27046 ; 19   |#ifndef NUMDEVICES
                            27047 ; 20   |#define NUMDEVICES 1 
                            27048 ; 21   |#endif
                            27049 ; 22   |
                            27050 ; 23   |#ifndef NUMCACHES
                            27051 ; 24   |#define NUMCACHES 2 
                            27052 ; 25   |#endif
                            27053 ; 26   |
                            27054 ; 27   |#ifndef DRIVELETTERS
                            27055 ; 28   |#define DRIVELETTERS {'a','b','c'}
                            27056 ; 29   |#endif
                            27057 ; 30   |
                            27058 ; 31   |// sector size variants.
                            27059 ; 32   |#include "sectordef.h"
                            27060 
                            27062 
                            27063 ; 1    |////////////////////////////////////////////////////////////////////////////////
                            27064 ; 2    |// Copyright(C) SigmaTel, Inc. 2003-2005
                            27065 ; 3    |//
                            27066 ; 4    |// Filename:     sectordef.h
                            27067 ; 5    |// Description:  Contains structs, prototypes, equates for the NAND Hal & other 
                            27068 ; 6    |//               routines.
                            27069 ; 7    |////////////////////////////////////////////////////////////////////////////////
                            27070 ; 8    |
                            27071 ; 9    |#ifndef _SECTORDEF_H
                            27072 ; 10   |#define _SECTORDEF_H
                            27073 ; 11   |
                            27074 ; 12   |    #define RAM_SECTOR_TOTAL_SIZE                 (528)
                            27075 ; 13   |    #define RAM_SECTOR_DATA_SIZE                  (512)
                            27076 ; 14   |    #define RAM_SECTOR_REDUNDANT_SIZE             (16)
                            27077 ; 15   |
                            27078 ; 16   |
                            27079 ; 17   |    #define MMC_SECTOR_TOTAL_SIZE                 (528)
                            27080 ; 18   |    #define MMC_SECTOR_DATA_SIZE                  (512)
                            27081 ; 19   |    #define MMC_SECTOR_REDUNDANT_SIZE             (16)
                            27082 ; 20   |
                            27083 ; 21   |
                            27084 ; 22   |    #define SSFDC_SECTOR_TOTAL_SIZE                 (528)
                            27085 ; 23   |    #define SSFDC_SECTOR_DATA_SIZE                  (512)
                            27086 ; 24   |    #define SSFDC_SECTOR_REDUNDANT_SIZE             (16)
                            27087 ; 25   |
                            27088 ; 26   | // Define large sector macros as small ones so sdk3.x fits in ram and mtp with small 
                            27089 ; 27   | // sector flash gets the performance boosts from optimized nand timings, etc. 
                            27090 ; 28   | // TOVERIFY: Comment out the next macro def when you want large sector support as 
                            27091 ; 29   | // in sdk2.6 and you can find the free data RAM. Or uncomment if you want to save data ram
                            27092 ; 30   | // and only support 512 byte sectors and their associated flash types. 
                            27093 ; 31   |//#define LARGE_SECTOR_DEFS_AS_SMALL_SECTOR
                            27094 ; 32   |#ifdef LARGE_SECTOR_DEFS_AS_SMALL_SECTOR 
                            27095 ; 33   |    #define LARGE_SECTOR_TOTAL_SIZE                 (528)
                            27096 ; 34   |    #define LARGE_SECTOR_DATA_SIZE                  (512)
                            27097 ; 35   |    #define LARGE_SECTOR_REDUNDANT_SIZE             (16)
                            27098 ; 36   |#else
                            27099 ; 37   |    // Real large sector defines to use when large sector flash support is desired.
                            27100 ; 38   |    #define LARGE_SECTOR_TOTAL_SIZE                 (2112)
                            27101 ; 39   |    #define LARGE_SECTOR_DATA_SIZE                  (2048)
                            27102 ; 40   |    #define LARGE_SECTOR_REDUNDANT_SIZE             (64)
                            27103 ; 41   |#endif
                            27104 ; 42   |    
                            27105 ; 43   |    // round up to the nearest WORD, then add one to pad for the ECC DMA bug
                            27106 ; 44   |    #define SECTOR_BUFFER_ALLOC_SIZE(a)             (((a+2)/3)+1)
                            27107 ; 45   |
                            27108 ; 46   |
                            27109 ; 47   |    // These are moved here from chkdsk.h     TOVERIFY. 
                            27110 ; 48   |    #define SEC_512_BYTES_PER_SECTOR                        SSFDC_SECTOR_DATA_SIZE
                            27111 ; 49   |        #define SEC_512_BYTES_TOTAL_SIZE                                                SSFDC_SECTOR_TOTAL_SIZE
                            27112 ; 50   |        #define SEC_512_WORDS_TOTAL_SIZE                                                176
                            27113 ; 51   |    #define SEC_512_BYTES_CLUSTER_ENTRY_PER_SECTOR_SHIFT    12
                            27114 ; 52   |    #define SEC_512_BYTES_DIR_REC_PER_SECTOR                16
                            27115 ; 53   |    #define SEC_512_BYTES_WORDS_PER_SECTOR                  177
                            27116 ; 54   |    #define SEC_2K_BYTES_PER_SECTOR                         LARGE_SECTOR_DATA_SIZE
                            27117 ; 55   |        #define SEC_2K_BYTES_TOTAL_SIZE                                                 LARGE_SECTOR_TOTAL_SIZE
                            27118 ; 56   |    #define SEC_2K_BYTES_CLUSTER_ENTRY_PER_SECTOR_SHIFT     12
                            27119 ; 57   |    #define SEC_2K_BYTES_DIR_REC_PER_SECTOR                 64
                            27120 ; 58   |    #define SEC_2K_BYTES_WORDS_PER_SECTOR                   705
                            27121 ; 59   |    #define SEC_2K_BYTES_WORDS_PER_SECTOR_NO_RA             683
                            27122 ; 60   |
                            27123 ; 61   |    // Next 5 lines imported from nandsystemdrivewritesector.c
                            27124 ; 62   |    #define RA_ATTR_MEMORY_OFFSET           682
                            27125 ; 63   |    #define NUMBER_OF_WORDS_IN_512BYTES     171
                            27126 ; 64   |    #define NUM_ECC_DATA_IN_WORDS           3
                            27127 ; 65   |    #define SEC_512_WORD1_RA_SWAP           171
                            27128 ; 66   |    #define SEC_512_WORD2_RA_SWAP           173
                            27129 ; 67   |
                            27130 ; 68   |#endif  // _SECTORDEF_H
                            27131 ; 69   |
                            27132 
                            27134 
                            27135 ; 33   |
                            27136 ; 34   |// in bytes?                    
                            27137 ; 35   |#define HANDLEENTRYSIZE 19
                            27138 ; 36   |
                            27139 ; 37   |// in bytes?                    
                            27140 ; 38   |#define DEVICERECORDSIZE 28 //stmp6956
                            27141 ; 39   |
                            27142 ; 40   |// in words.  todo: consider using a formula based on sizeof().
                            27143 ; 41   |#define CACHEDESCRSIZE 8 
                            27144 ; 42   |
                            27145 ; 43   |// in words, for large sectors.
                            27146 ; 44   |#define CACHEBUFSIZE 705
                            27147 ; 45   |
                            27148 ; 46   |// the number of small caches that fit into a large cache
                            27149 ; 47   |#define SSFDC_SECTORS_PER_LARGE_SECTOR 4
                            27150 ; 48   |
                            27151 ; 49   |// the amount of Y space required to cache sectors.  maximum space reserved
                            27152 ; 50   |// based on large (2k) sectors.
                            27153 ; 51   |#define XBUF_SIZE (NUMCACHES                                                   \ 
                            27154 ; 52   |                   * SSFDC_SECTORS_PER_LARGE_SECTOR                            \ 
                            27155 ; 53   |                   * SECTOR_BUFFER_ALLOC_SIZE(SSFDC_SECTOR_TOTAL_SIZE))
                            27156 ; 54   |
                            27157 ; 55   |// X space allocated for cached sector buffers.
                            27158 ; 56   |// it must be allocated outside of the file system, by the application, since
                            27159 ; 57   |// the application can override the number of entries in fsproj.h, but the file
                            27160 ; 58   |// system can be built as a library (in which case fsproj.h doesn't exist).
                            27161 ; 59   |extern INT _X bufx[];
                            27162 ; 60   |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page 107

M:ADDR CODE           CYCLES LINE SOURCELINE
                            27163 ; 61   |// the amount of Y space required to cache sectors. note that the maximim space
                            27164 ; 62   |// for the cache descriptor entries is the size of each entry multiplied by
                            27165 ; 63   |// the number of entries (specified for large sector entries) multiplied by
                            27166 ; 64   |// the number of small sectors that can overlay a large sector.  i.e., when the 
                            27167 ; 65   |// cache reconfigures from 2k sectors to 512 byte sectors there are 4 times as
                            27168 ; 66   |// many useable cache dscr entries available.  this declaration must accommodate
                            27169 ; 67   |// that many to ensure that sufficient space is reserved.
                            27170 ; 68   |#ifdef k_opt_dynamic_cache
                            27171 ; 69   |#define YBUF_SIZE ((NUMDEVICES * DEVICERECORDSIZE)                             \ 
                            27172 ; 70   |                   + (NUMHANDLES * HANDLEENTRYSIZE)                            \ 
                            27173 ; 71   |                   + (SSFDC_SECTORS_PER_LARGE_SECTOR * NUMCACHES * CACHEDESCRSIZE))
                            27174 ; 72   |#else
                            27175 ; 73   |#define YBUF_SIZE ((NUMDEVICES * DEVICERECORDSIZE)                             \ 
                            27176 ; 74   |                   + (NUMHANDLES * HANDLEENTRYSIZE)                            \ 
                            27177 ; 75   |                   + (NUMCACHES * CACHEDESCRSIZE))
                            27178 ; 76   |#endif
                            27179 ; 77   |
                            27180 ; 78   |
                            27181 ; 79   |// Y space allocated for file system handles and cache descriptors.
                            27182 ; 80   |// it must be allocated outside of the file system, by the application, since
                            27183 ; 81   |// the application can override the number of entries in fsproj.h, but the file
                            27184 ; 82   |// system can be built as a library (in which case fsproj.h doesn't exist).
                            27185 ; 83   |extern INT _Y bufy[];
                            27186 ; 84   |
                            27187 ; 85   |// thse must be allocated outside of the file system, by the application, since
                            27188 ; 86   |// the application can override these values in fsproj.h, but the file
                            27189 ; 87   |// system can be built as a library (in which case fsproj.h doesn't exist).
                            27190 ; 88   |extern INT DriveLetter[];
                            27191 ; 89   |extern INT maxhandles;
                            27192 ; 90   |extern INT maxdevices;
                            27193 ; 91   |extern INT maxcaches; 
                            27194 ; 92   |
                            27195 ; 93   |#endif // __cachedef_h__
                            27196 ; 94   |
                            27197 ; 95   |
                            27198 
                            27200 
                            27201 ; 26   |
                            27202 ; 27   |// TOVERIFY  Don't think we need fstypes.h. Was added by HK patch of 2.521. See stmp00006965 description. 
                            27203 ; 28   |//           Macro desired to be included by HK patch was moved to cachedef.h during 2.6 development.
                            27204 ; 29   |//#include "fstypes.h"
                            27205 ; 30   |
                            27206 ; 31   |// TOVERIFY:   TODO: DELETE LINES below until the #endif
                            27207 ; 32   |//extern INT DriveLetter[];
                            27208 ; 33   |//
                            27209 ; 34   |//extern INT maxhandles;
                            27210 ; 35   |//extern INT maxdevices;
                            27211 ; 36   |//extern INT maxcaches; 
                            27212 ; 37   |
                            27213 ; 38   |// The cache buffers are allocated in the X memory
                            27214 ; 39   |//extern int _X bufx[NUMCACHES*CACHEBUFSIZE];
                            27215 ; 40   |
                            27216 ; 41   |// All other global, custom configurable data is in Y memory.
                            27217 ; 42   |// Two handles are reserved by the file system, so the number of handles must be more than 2
                            27218 ; 43   |//extern int _Y bufy[NUMDEVICES*DEVICERECORDSIZE + NUMHANDLES*HANDLEENTRYSIZE + NUMCACHES*CACHEDESCRSIZE];
                            27219 ; 44   |
                            27220 ; 45   |#endif // __fsproj_h__
                            27221 ; 46   |//---eof------------------------------------------------------------------------
                            27222 ; 47   |
                            27223 
                            27225 
                            27226 ; 52   |#ifdef CLCD
                            27227 ; 53   |#include "displaymodule_color.h"
                            27228 ; 54   |#else
                            27229 ; 55   |#include "displaymodule.h"
                            27230 
                            27232 
                            27233 ; 1    |#ifndef _DISPLAY_MODULE_H
                            27234 ; 2    |#define _DISPLAY_MODULE_H
                            27235 ; 3    |
                            27236 ; 4    |
                            27237 ; 5    |#define SIMPLE_RESOURCE 0
                            27238 ; 6    |#define NESTED_RESOURCE 1
                            27239 ; 7    |
                            27240 ; 8    |#include "project.h"
                            27241 
                            27243 
                            27244 ; 1    |/////////////////////////////////////////////////////////////////////////////////
                            27245 ; 2    |//  Copyright(C) SigmaTel, Inc. 2000-2004
                            27246 ; 3    |//  Filename: project.inc
                            27247 ; 4    |//  Description: 
                            27248 ; 5    |/////////////////////////////////////////////////////////////////////////////////
                            27249 ; 6    |
                            27250 ; 7    |#if (!defined(_PROJECT_INC))
                            27251 ; 8    |#define _PROJECT_INC 1
                            27252 ; 9    |
                            27253 ; 10   |#if defined(STMP_BUILD_PLAYER)
                            27254 ; 11   |#include "hwequ.h"
                            27255 ; 12   |#else 
                            27256 ; 13   |//include "regscodec.inc"
                            27257 ; 14   |#endif
                            27258 ; 15   |
                            27259 ; 16   |//////////////////////////////////////////////////////////////////////////////////
                            27260 ; 17   |// Uncomment next define to allow player boot if you have stfm1000 macro enabled (defaults ON) & 
                            27261 ; 18   |// your board crystal is not able to output nominal voltage range. Used in player main.asm. STMP00012148
                            27262 ; 19   |// Defining this will result in lower battery life (price of using a lower quality crystal). 
                            27263 ; 20   |// Those that want to save battery life and have good crystals that meet our HW team's specs can 
                            27264 ; 21   |// comment out this line to reduce crystal bias current and so battery current in player mode.  
                            27265 ; 22   |#define SUPPORT_MARGINAL_XTALS 1
                            27266 ; 23   |
                            27267 ; 24   |/////////////////////////////////////////////////////////////////////////////////
                            27268 ; 25   |// BOOT SPEED CONFIG & ASSOCIATED BATTERY VOLTAGE CHECK ENABLE
                            27269 ; 26   |/////////////////////////////////////////////////////////////////////////////////
                            27270 ; 27   |// Users can enable one of ATTEMPT_FAST_BOOT or FASTEST boot or neither project define below by defining
                            27271 ; 28   |// values as 0 or 1, else it defaults to the boot speed used in previous SDKs.
                            27272 ; 29   |#define ATTEMPT_FAST_BOOT 1
                            27273 ; 30   |#define ATTEMPT_FASTEST_BOOT 0   
                            27274 ; 31   |// Changing this define to 0 removes Vbat threshholding & unconditionally gives fast boot config above- 
                            27275 ; 32   |// disabling this check is suggested for profiling if you want to try to tweak down threshholds by maybe 50mV.
                            27276 ; 33   |// Also the tests should clear the fast boot config defines to link & boot at normal speed.
                            27277 ; 34   |#define SPEED_BOOT_BATTERY_CHECK 1
                            27278 ; 35   |
                            27279 ; 36   |/////////////////////////////////////////////////////////////////////////////////
                            27280 ; 37   |// MEDIA DEFINITIONS
                            27281 ; 38   |/////////////////////////////////////////////////////////////////////////////////
                            27282 ; 39   |
                            27283 ; 40   |/////////////////////////////////////////////////////////////////////////////////
                            27284 ; 41   |// MNAND - Number of chips forming the internal physical device (i.e. # of NANDs)
                            27285 ; 42   |#if defined(NAND1)
                            27286 ; 43   |#define SM_INTERNAL_CHIPS 1
                            27287 ; 44   |#else 
                            27288 ; 45   |#if defined(NAND2)
                            27289 ; 46   |#define SM_INTERNAL_CHIPS 2
                            27290 ; 47   |#else 
                            27291 ; 48   |#if defined(NAND3)
                            27292 ; 49   |#define SM_INTERNAL_CHIPS 3
                            27293 ; 50   |#else 
                            27294 ; 51   |#if defined(NAND4)
                            27295 ; 52   |#define SM_INTERNAL_CHIPS 4
                            27296 ; 53   |#else 
                            27297 ; 54   |#define SM_INTERNAL_CHIPS 1
                            27298 ; 55   |#endif
                            27299 ; 56   |#endif
                            27300 ; 57   |#endif
                            27301 ; 58   |#endif
                            27302 ; 59   |
                            27303 ; 60   |/////////////////////////////////////////////////////////////////////////////////
                            27304 ; 61   |// If SMARTMEDIA_DETECT_ACTIVE_HIGH is defined:
                            27305 ; 62   |//   SmartMedia will be detected as inserted if the GPIO pin reads 1 and removed if it reads 0.  
                            27306 ; 63   |// If SMARTMEDIA_DETECT_ACTIVE_HIGH is not defined ** comment out next line **
                            27307 ; 64   |//   SmartMedia will be detected as inserted if the GPIO pin reads 0 and removed if it reads 1.
                            27308 ; 65   |//*** comment out if active high ****
                            27309 ; 66   |//SMARTMEDIA_DETECT_ACTIVE_HIGH  equ     1
                            27310 ; 67   |
                            27311 ; 68   |#if defined(SMEDIA)
                            27312 ; 69   |#define NUM_REMOVABLE_MEDIA 1
                            27313 ; 70   |#define NUM_SM_EXTERNAL 1
                            27314 ; 71   |#define MMC_MAX_PHYSICAL_DEVICES 0
                            27315 ; 72   |#define SM_MAX_LOGICAL_DEVICES 2
                            27316 ; 73   |#else 
                            27317 ; 74   |#if defined(MMC)
                            27318 ; 75   |#define NUM_REMOVABLE_MEDIA 1
                            27319 ; 76   |#define NUM_SM_EXTERNAL 0
                            27320 ; 77   |#define MMC_MAX_PHYSICAL_DEVICES 1
                            27321 ; 78   |#define SM_MAX_LOGICAL_DEVICES 1
                            27322 ; 79   |#else 
                            27323 ; 80   |#define NUM_REMOVABLE_MEDIA 0
                            27324 ; 81   |#define NUM_SM_EXTERNAL 0
                            27325 ; 82   |#define MMC_MAX_PHYSICAL_DEVICES 0
                            27326 ; 83   |#define SM_MAX_LOGICAL_DEVICES 1
                            27327 ; 84   |#endif
                            27328 ; 85   |#endif
                            27329 ; 86   |
                            27330 ; 87   |/////////////////////////////////////////////////////////////////////////////////
                            27331 ; 88   |// Mass Storage Class definitions
                            27332 ; 89   |/////////////////////////////////////////////////////////////////////////////////
                            27333 ; 90   |// Set to 0 if Composite Device build is desired.    
                            27334 ; 91   |#define MULTI_LUN_BUILD 1   
                            27335 ; 92   |
                            27336 ; 93   |////////////////////////////////////////////////////////////////////////////////
                            27337 ; 94   |//  SCSI
                            27338 ; 95   |#if (MULTI_LUN_BUILD==0)
                            27339 ; 96   |  #if (NUM_REMOVABLE_MEDIA == 1)
                            27340 ; 97   |    #define SCSI_NUM_TARGETS                        2
                            27341 ; 98   |    #define SCSI_DEVICE_NUM_LUNS_DEV_0              1
                            27342 ; 99   |    #define SCSI_DEVICE_NUM_LUNS_DEV_1              1
                            27343 ; 100  |  #else
                            27344 ; 101  |    #define SCSI_NUM_TARGETS                        1
                            27345 ; 102  |    #define SCSI_DEVICE_NUM_LUNS_DEV_0              1
                            27346 ; 103  |  #endif
                            27347 ; 104  |#else
                            27348 ; 105  |    #define SCSI_NUM_TARGETS                        1
                            27349 ; 106  |  #if (NUM_REMOVABLE_MEDIA == 1)
                            27350 ; 107  |    #define SCSI_DEVICE_NUM_LUNS_DEV_0              2
                            27351 ; 108  |  #else
                            27352 ; 109  |    #define SCSI_DEVICE_NUM_LUNS_DEV_0              1  
                            27353 ; 110  |  #endif
                            27354 ; 111  |#endif
                            27355 ; 112  |
                            27356 ; 113  |
                            27357 ; 114  |#define USBMSC_NUM_DEVICES                      SCSI_NUM_TARGETS
                            27358 ; 115  |
                            27359 ; 116  |
                            27360 ; 117  |////////////////////////////////////////////////////////////////////////////////
                            27361 ; 118  |// Define number of logical medias and drives for three builds (MTP, USBMSC, and Player)
                            27362 ; 119  |////////////////////////////////////////////////////////////////////////////////
                            27363 ; 120  |#ifdef MMC
                            27364 ; 121  |#ifdef MTP_BUILD
                            27365 ; 122  |// --------------------
                            27366 ; 123  |// MTP and MMC
                            27367 ; 124  |// --------------------
                            27368 ; 125  |#define NUM_LOGICAL_MEDIA       2
                            27369 ; 126  |#define NUM_LOGICAL_DRIVES      8
                            27370 ; 127  |#else  // ifndef MTP_BUILD
                            27371 ; 128  |#ifdef STMP_BUILD_PLAYER
                            27372 ; 129  |// --------------------
                            27373 ; 130  |// Player and MMC
                            27374 ; 131  |// --------------------
                            27375 ; 132  |#else
                            27376 ; 133  |// --------------------
                            27377 ; 134  |// USBMSC and MMC
                            27378 ; 135  |// --------------------
                            27379 ; 136  |#define NUM_LOGICAL_MEDIA       3
                            27380 ; 137  |#define NUM_LOGICAL_DRIVES      8
                            27381 ; 138  |#endif // ifdef STMP_BUILD_PLAYER
                            27382 ; 139  |#endif // ifdef MTP_BUILD
                            27383 ; 140  |#else  // ifndef MMC
                            27384 ; 141  |#ifdef MTP_BUILD
                            27385 ; 142  |// --------------------
                            27386 ; 143  |// MTP and NAND only
                            27387 ; 144  |// --------------------
                            27388 ; 145  |#define NUM_LOGICAL_MEDIA       1
                            27389 ; 146  |#define NUM_LOGICAL_DRIVES      7
                            27390 ; 147  |#else  // ifndef MTP_BUILD
                            27391 ; 148  |#ifdef STMP_BUILD_PLAYER
                            27392 ; 149  |// --------------------
                            27393 ; 150  |// Player and NAND only
                            27394 ; 151  |// --------------------
                            27395 ; 152  |#else
                            27396 ; 153  |// --------------------
                            27397 ; 154  |// USBMSC and NAND only
                            27398 ; 155  |// --------------------
                            27399 ; 156  |#define NUM_LOGICAL_MEDIA       2
                            27400 ; 157  |#define NUM_LOGICAL_DRIVES      7
                            27401 ; 158  |#endif // ifdef STMP_BUILD_PLAYER
                            27402 ; 159  |#endif // ifdef MTP_BUILD
                            27403 ; 160  |#endif // ifdef MMC 
                            27404 ; 161  |
                            27405 ; 162  |// If we are in an MTP build then we don't use as many transfers buffers.
                            27406 ; 163  |#if (defined(MTP_BUILD))
                            27407 ; 164  |#define MAX_USB_TRANSFERS_QUEUED 16
                            27408 ; 165  |
                            27409 ; 166  |////!
                            27410 ; 167  |////! This varible holds the watchdog count for the store flush.
                            27411 ; 168  |////!
                            27412 ; 169  |///
                            27413 ; 170  |#include <types.h>
                            27414 ; 171  |extern volatile INT g_StoreWatchDogCount;
                            27415 ; 172  |extern const INT g_StoreWatchDogTimeout;
                            27416 ; 173  |#endif
                            27417 ; 174  |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page 108

M:ADDR CODE           CYCLES LINE SOURCELINE
                            27418 ; 175  |////////////////////////////////////////////////////////////////////////////////
                            27419 ; 176  |// These are needed here for Mass Storage Class
                            27420 ; 177  |// Needs to be cleaned up
                            27421 ; 178  |////////////////////////////////////////////////////////////////////////////////
                            27422 ; 179  |#if (!defined(STMP_BUILD_PLAYER))
                            27423 ; 180  |#define SCRATCH_USER_Y_SIZE 512
                            27424 ; 181  |#define SCRATCH_USER_X_SIZE 512
                            27425 ; 182  |
                            27426 ; 183  |#define BROWNOUT_LEVEL1_DETECTED                0x000001
                            27427 ; 184  |
                            27428 ; 185  |#endif
                            27429 ; 186  |
                            27430 ; 187  |
                            27431 ; 188  |/////////////////////////////////////////////////////////////////////////////////
                            27432 ; 189  |// SmartMedia/NAND defs
                            27433 ; 190  |#define SM_MAX_PHYSICAL_DEVICES SM_INTERNAL_CHIPS+NUM_SM_EXTERNAL
                            27434 ; 191  |#define SM_REMOVABLE_DEVICE_NUM SM_INTERNAL_CHIPS
                            27435 ; 192  |
                            27436 ; 193  |/////////////////////////////////////////////////////////////////////////////////
                            27437 ; 194  |// Sysloadresources defs
                            27438 ; 195  |#define SM_MAX_RESOURCE_DEVICES SM_INTERNAL_CHIPS+NUM_SM_EXTERNAL
                            27439 ; 196  |
                            27440 ; 197  |/////////////////////////////////////////////////////////////////////////////////
                            27441 ; 198  |// MMC defs
                            27442 ; 199  |#define MMC_MAX_PARTITIONS 1
                            27443 ; 200  |#define MMC_MAX_LOGICAL_DEVICES MMC_MAX_PHYSICAL_DEVICES*MMC_MAX_PARTITIONS
                            27444 ; 201  |
                            27445 ; 202  |/////////////////////////////////////////////////////////////////////////////////
                            27446 ; 203  |// SPI defs
                            27447 ; 204  |#define SPI_MAX_DEVICES MMC_MAX_PHYSICAL_DEVICES
                            27448 ; 205  |
                            27449 ; 206  |/////////////////////////////////////////////////////////////////////////////////
                            27450 ; 207  |// Global media defs
                            27451 ; 208  |#define MAX_PHYSICAL_DEVICES SM_MAX_PHYSICAL_DEVICES+MMC_MAX_PHYSICAL_DEVICES
                            27452 ; 209  |#define MAX_LOGICAL_DEVICES SM_MAX_LOGICAL_DEVICES+MMC_MAX_LOGICAL_DEVICES
                            27453 ; 210  |
                            27454 ; 211  |/////////////////////////////////////////////////////////////////////////////////
                            27455 ; 212  |// DO NOT CHANGE THESE!!!
                            27456 ; 213  |#define SM_MAX_PARTITIONS 4
                            27457 ; 214  |#define MAX_HANDLES 2
                            27458 ; 215  |/////////////////////////////////////////////////////////////////////////////////
                            27459 ; 216  |
                            27460 ; 217  |
                            27461 ; 218  |/////////////////////////////////////////////////////////////////////////////////
                            27462 ; 219  |// Battery LRADC Values 
                            27463 ; 220  |/////////////////////////////////////////////////////////////////////////////////
                            27464 ; 221  |// brownout trip point in mV (moved by RS)
                            27465 ; 222  |// BATT_SAFETY_MARGIN:  percentage value used by:
                            27466 ; 223  |//   * SysSaveSettings to determine if enough power is left to attempt a settings save. 
                            27467 ; 224  |//   * Recorder to conditionally prevent the start or continuation of 
                            27468 ; 225  |//     audio recording to media.
                            27469 ; 226  |#define BATT_SAFETY_MARGIN 10
                            27470 ; 227  |
                            27471 ; 228  |//; player resource drive refresh allowed only when battery usable % is above this value. 
                            27472 ; 229  |//; 50% of usable range [0.9V to 1.5V] is around 1.2V This is the safe target alkaline voltage to do a refresh.
                            27473 ; 230  |//; LIION will also require 50% which will work but that could be changed in the future. 
                            27474 ; 231  |//RESOURCE_REFRESH_MIN_BATT_PCT equ 50
                            27475 ; 232  |
                            27476 ; 233  |// stmp00005071 adds these for mp3 encode stability at low battery per battery type & mmc presence.
                            27477 ; 234  |
                            27478 ; 235  |//// Vbat threshholds empirically tuned by profiling max bat current for 3 HW cases: 
                            27479 ; 236  |//// 1 GigaByte MMC, NAND flash only, & LiIon Buck mode. See voicemenu pre-encode Vbat check.
                            27480 ; 237  |#if (!defined(CLCD))
                            27481 ; 238  |#define MP3_ENC_MMC_MIN_V_BAT_MV 1100
                            27482 ; 239  |#define MP3_ENC_NANDONLY_MIN_V_BAT_MV 1000
                            27483 ; 240  |#else 
                            27484 ; 241  |#define MP3_ENC_MMC_MIN_V_BAT_MV 1250
                            27485 ; 242  |#define MP3_ENC_NANDONLY_MIN_V_BAT_MV 1150
                            27486 ; 243  |#endif
                            27487 ; 244  |#define MP3_ENC_BUCKMODE_MIN_V_BAT_MV 3300
                            27488 ; 245  |
                            27489 ; 246  |// These Vbat use-range-percentages are derived to correspond with target battery 
                            27490 ; 247  |// voltages of 1.10V for MMC, 1.0V for nand only (alkaline or nimh), and 3.3V for any LiIon.
                            27491 ; 248  |// See mp3 encoder overlay.
                            27492 ; 249  |#define MP3_ENC_MMC_MIN_V_BAT_RANGE_PCT 33
                            27493 ; 250  |#define MP3_ENC_NANDONLY_MIN_V_BAT_RANGE_PCT 17
                            27494 ; 251  |#define MP3_ENC_BUCKMODE_MIN_V_BAT_RANGE_PCT 25
                            27495 ; 252  |
                            27496 ; 253  |/////////////////////////////////////////////////////////////////////////////////
                            27497 ; 254  |// Voice recording filenames
                            27498 ; 255  |// number of digits in filename Vxxx.wav
                            27499 ; 256  |/////////////////////////////////////////////////////////////////////////////////
                            27500 ; 257  |#define DIGITS_IN_VOICE_FILENAME 3   
                            27501 ; 258  |
                            27502 ; 259  |/////////////////////////////////////////////////////////////////////////////////
                            27503 ; 260  |// Mic Bias: Set this enable to 1 to internally generate mic bias voltage. 
                            27504 ; 261  |// Also below, must configure internal resistor value and pin to use for DC bias. 
                            27505 ; 262  |// Can set to 0 to disable internally generated mic bias voltage at pin lradc1/2.
                            27506 ; 263  |#if defined(DEVICE_3500)
                            27507 ; 264  |#define ENABLE_INTERNALLY_GENERATED_MICBIAS 1 
                            27508 ; 265  |// MIC BIAS circuit source selection: use Low Resolution ADC pin 2 or 1 to bias mic. 
                            27509 ; 266  |// Per your layout: select LRADC 2 or 1 below 
                            27510 ; 267  |//   (pin LRADC 2 for 35xx cpu card revB, LRADC 1 for 35xx cpu card revC, ref schematics, & demo player)
                            27511 ; 268  |#define LRADC_NUM_FOR_MIC_BIAS 1 
                            27512 ; 269  |// Sets internal mic bias R to value 2, 4, or 8 (in kOhms).
                            27513 ; 270  |#define MICBIAS_CONFIGURED_RESISTOR_KOHMS 8
                            27514 ; 271  |
                            27515 ; 272  |// Allows mic bias to settle before sampling. This delay currently unused. For rec btn when bias not yet ready.
                            27516 ; 273  |#define REC_BTN_INTERNAL_MIC_BIAS_SETTLING_DELAY_MS 400 
                            27517 ; 274  |// Option always keeps bias enabled after mainmenu init. This allows for start pop prevention if you use rec button from outside voice menu.
                            27518 ; 275  |// This selection costs 1 mWatt but gains the desired low record button to sampling latency in the record-from-music-menu use-case.
                            27519 ; 276  |#define KEEP_MIC_BIAS_ENABLED 0
                            27520 ; 277  |
                            27521 ; 278  |#else 
                            27522 ; 279  |// STMP3410
                            27523 ; 280  |#define ENABLE_INTERNALLY_GENERATED_MICBIAS 0
                            27524 ; 281  |#define LRADC_NUM_FOR_MIC_BIAS 1 
                            27525 ; 282  |#define MICBIAS_CONFIGURED_RESISTOR_KOHMS 2
                            27526 ; 283  |#endif
                            27527 ; 284  |
                            27528 ; 285  |/////////////////////////////////////////////////////////////////////////////////
                            27529 ; 286  |// Number of available soft timers
                            27530 ; 287  |/////////////////////////////////////////////////////////////////////////////////
                            27531 ; 288  |#if defined(SYNC_LYRICS)
                            27532 ; 289  |#define SOFT_TIMERS 10
                            27533 ; 290  |#else 
                            27534 ; 291  |#if defined(JPEG_DECODER)
                            27535 ; 292  |#define SOFT_TIMERS 10
                            27536 ; 293  |#else 
                            27537 ; 294  |#define SOFT_TIMERS 9
                            27538 ; 295  |#endif
                            27539 ; 296  |#endif
                            27540 ; 297  |
                            27541 ; 298  |/////////////////////////////////////////////////////////////////////////////////
                            27542 ; 299  |//  sizes
                            27543 ; 300  |/////////////////////////////////////////////////////////////////////////////////
                            27544 ; 301  |#if defined(MMC)
                            27545 ; 302  |#if defined(USE_PLAYLIST5)
                            27546 ; 303  |#define MENU_STACK_SIZE 1500
                            27547 ; 304  |#else 
                            27548 ; 305  |#define MENU_STACK_SIZE 1250
                            27549 ; 306  |#endif //if @def('USE_PLAYLIST5')
                            27550 ; 307  |#else 
                            27551 ; 308  |#if defined(USE_PLAYLIST5)
                            27552 ; 309  |#define MENU_STACK_SIZE 1500
                            27553 ; 310  |#else 
                            27554 ; 311  |#define MENU_STACK_SIZE 1250
                            27555 ; 312  |#endif //if @def('USE_PLAYLIST5')
                            27556 ; 313  |#endif //if @def('MMC')
                            27557 ; 314  |
                            27558 ; 315  |// NOTE: SDK2.6 USED 550 FOR NEXT LINE, BUT SDK3.0BETA USED 750. Should it be ifdef MTP 750 else 550 for other builds? TOVERIFY. MYALLOC
                            27559 ; 316  |// 
                            27560 ; 317  |#define STACK_L1_SIZE 750
                            27561 ; 318  |#define STACK_L2_SIZE 100
                            27562 ; 319  |#define STACK_L3_SIZE 160
                            27563 ; 320  |
                            27564 ; 321  |// If we are in MTP mode the overlay task stack can shrink.
                            27565 ; 322  |// TODO shrink this stack for MTP, I will leave it at 500 until we verify that it 
                            27566 ; 323  |// is ok with switching code.
                            27567 ; 324  |#if defined(MTP_BUILD)
                            27568 ; 325  |#define OVERLAY_MANAGER_STACK_SIZE 300
                            27569 ; 326  |#endif
                            27570 ; 327  |
                            27571 ; 328  |/////////////////////////////////////////////////////////////////////////////////
                            27572 ; 329  |// maximum number of nested funclets 
                            27573 ; 330  |/////////////////////////////////////////////////////////////////////////////////
                            27574 ; 331  |#define MAX_NESTED_FUNCLET 6 
                            27575 ; 332  |
                            27576 ; 333  |/////////////////////////////////////////////////////////////////////////////////
                            27577 ; 334  |//    LCD DEFINITIONS
                            27578 ; 335  |/////////////////////////////////////////////////////////////////////////////////
                            27579 ; 336  |
                            27580 ; 337  |#define SPACE_CHAR 0x000020          
                            27581 ; 338  |#define ZERO_CHAR 0x000030
                            27582 ; 339  |#define COLON_CHAR 0x00003A
                            27583 ; 340  |#define PERIOD_CHAR 0x00002E
                            27584 ; 341  |
                            27585 ; 342  |#if (defined(S6B33B0A_LCD))
                            27586 ; 343  |#define LCD_X_SIZE 128
                            27587 ; 344  |#define LCD_Y_SIZE 159
                            27588 ; 345  |#endif
                            27589 ; 346  |
                            27590 ; 347  |#if (defined(SED15XX_LCD))
                            27591 ; 348  |#define LCD_X_SIZE 128
                            27592 ; 349  |#define LCD_Y_SIZE 64
                            27593 ; 350  |#endif
                            27594 ; 351  |
                            27595 ; 352  |
                            27596 ; 353  |//////////////////////////////////////////////////////////////////////////////////
                            27597 ; 354  |//   Details on Customizing Contrast
                            27598 ; 355  |/////////////////////////////////////////////////////////////////////////////////
                            27599 ; 356  |//   Max supported LCD range is 0 - 3F; however due to hardware/voltage differences
                            27600 ; 357  |//   the range of visibility is usually smaller than this.  It is important to 
                            27601 ; 358  |//   calibrate the visible range, because the contrast setting is saved.
                            27602 ; 359  |//   If the user shuts off the player while lcd is not visible, the player is useless
                            27603 ; 360  |//   unless the ezact sequence is remembered.
                            27604 ; 361  |//   To find out what range your player supports: 
                            27605 ; 362  |//   change these equs to full range or comment out (full range is default)
                            27606 ; 363  |//;;;;;;
                            27607 ; 364  |// uncomment the line below to build code that will provide raw contrast value
                            27608 ; 365  |// recommended calibration using player -- uncomment 
                            27609 ; 366  |//;;;;;;
                            27610 ; 367  |//CONTRAST_CALIBRATION    equ  1
                            27611 ; 368  |////////////////////////////
                            27612 ; 369  |#if (defined(DEMO_HW))
                            27613 ; 370  |// this is the setting for ET301 demos; Next 2 line have not been updated for new Shingyi LCD (June6'05)
                            27614 ; 371  |#define LCD_MAX_CONTRAST 0x32 
                            27615 ; 372  |#define LCD_MIN_CONTRAST 0x1E
                            27616 ; 373  |#else 
                            27617 ; 374  |
                            27618 ; 375  |#if (defined(S6B33B0A_LCD))
                            27619 ; 376  |#define LCD_MAX_CONTRAST 210
                            27620 ; 377  |#define LCD_MIN_CONTRAST 160    
                            27621 ; 378  |#endif
                            27622 ; 379  |
                            27623 ; 380  |#if (defined(SED15XX_LCD))
                            27624 ; 381  |// Next 3 line comment was for OLD shingyi LCD: (default LCD before sdk2.6)
                            27625 ; 382  |// Engineering board regs support range [17-37].
                            27626 ; 383  |//   Engineering board DC/DC support range [24-46]. 
                            27627 ; 384  |//   One default contrast range [24-42] works for both.
                            27628 ; 385  |// The 3 sets of contrast ranges below are updated for SDK2.6 to support either 
                            27629 ; 386  |// new or old ShingYih LCDs. "File" refers to \resource\shingyih\system_lcd_init_seq.src
                            27630 ; 387  |// 3/10/05 - Use one of the 2 next contrast ranges depending on which
                            27631 ; 388  |// ShingYih LCD you have.  See \resources\shingyi\readme.txt 
                            27632 ; 389  |// Optimal for NEW LCD with NEW file (SDK2.6 default)  
                            27633 ; 390  |// G098064-41 LCD module (present on engr board revH LCD card)
                            27634 ; 391  |
                            27635 ; 392  |#if (defined(NEWSHINGYIH))
                            27636 ; 393  |#define LCD_MAX_CONTRAST 250
                            27637 ; 394  |#define LCD_MIN_CONTRAST 0
                            27638 ; 395  |#else 
                            27639 ; 396  |//-----
                            27640 ; 397  |// Near optimal for OLD LCD with NEW file. 
                            27641 ; 398  |// NOT optimal for the new lcd but pretty good. So u may use this if u want 1 build for both LCDs.
                            27642 ; 399  |#define LCD_MAX_CONTRAST 250
                            27643 ; 400  |#define LCD_MIN_CONTRAST 0
                            27644 ; 401  |
                            27645 ; 402  |//=====
                            27646 ; 403  |// Optimal for OLD ShingYih LCD with OLD file (as sdk2.521)
                            27647 ; 404  |// Suggest going with default new init file & values above for your LCD instead of this historic ver.
                            27648 ; 405  |//LCD_MAX_CONTRAST equ 42
                            27649 ; 406  |//LCD_MIN_CONTRAST equ 24 
                            27650 ; 407  |
                            27651 ; 408  |#endif
                            27652 ; 409  |#endif
                            27653 ; 410  |
                            27654 ; 411  |#endif
                            27655 ; 412  |
                            27656 ; 413  |//////////////////////////////////////////////////////////////////////////////////
                            27657 ; 414  |// The default value of the lcd contrast in % of range
                            27658 ; 415  |//   the default value is used when no settings.dat is available
                            27659 ; 416  |//////////////////////////////////////////////////////////////////////////////////
                            27660 ; 417  |
                            27661 ; 418  |#if (defined(S6B33B0A_LCD))
                            27662 ; 419  |// 60% of range is default value
                            27663 ; 420  |#define DEFAULT_CONTRAST 50 
                            27664 ; 421  |#endif
                            27665 ; 422  |
                            27666 ; 423  |#if (defined(SED15XX_LCD))
                            27667 ; 424  |// % of range is default value (was 60%)
                            27668 ; 425  |#define DEFAULT_CONTRAST 50 
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page 109

M:ADDR CODE           CYCLES LINE SOURCELINE
                            27669 ; 426  |#endif
                            27670 ; 427  |
                            27671 ; 428  |
                            27672 ; 429  |// percentage change per increment/decrement message (LCD_DEC_CONTRAST/LCD_INC_CONTRAST)
                            27673 ; 430  |// make lower when doing calibration
                            27674 ; 431  |#define LCD_STEPSIZE_CONTRAST 10  
                            27675 ; 432  |
                            27676 ; 433  |
                            27677 ; 434  |/////////////////////////////////////////////////////////////////////////////////
                            27678 ; 435  |// For FFWD and RWND
                            27679 ; 436  |/////////////////////////////////////////////////////////////////////////////////
                            27680 ; 437  |#define SECONDS_TO_SKIP 1
                            27681 ; 438  |#define SECONDS_TO_SKIP1 3
                            27682 ; 439  |#define SECONDS_TO_SKIP2 6
                            27683 ; 440  |// number of seconds to cause reset to begin of song for PREV push
                            27684 ; 441  |#define PREV_SONG_THRESHOLD 5  
                            27685 ; 442  |// number of 300 mSec periods before the numbers of seconds to skip increases
                            27686 ; 443  |#define FIRST_TIME_BOUNDARY 15 
                            27687 ; 444  |// number of 300 mSec periods before the numbers of seconds to skip increases
                            27688 ; 445  |#define SECOND_TIME_BOUNDARY 30 
                            27689 ; 446  |
                            27690 ; 447  |// For audible FFW/RWD
                            27691 ; 448  |#define SECONDS_TO_SKIP_FOR_3X_RATE 1
                            27692 ; 449  |#define SECONDS_TO_SKIP_FOR_60X_RATE 18
                            27693 ; 450  |#define SECONDS_TO_SKIP_FOR_600X_RATE 180
                            27694 ; 451  |#define SECONDS_TO_SKIP_FOR_1800X_RATE 540
                            27695 ; 452  |// number of 300 mSec periods before the numbers of seconds to skip increases
                            27696 ; 453  |#define LEVEL1_BOUNDARY 17 
                            27697 ; 454  |// number of 300 mSec periods before the numbers of seconds to skip increases
                            27698 ; 455  |#define LEVEL2_BOUNDARY 33 
                            27699 ; 456  |// number of 300 mSec periods before the numbers of seconds to skip increases
                            27700 ; 457  |#define LEVEL3_BOUNDARY 50 
                            27701 ; 458  |// Stmp00010296 Ticket #71685:  for song shorter than the min. skip size
                            27702 ; 459  |// if song_time < skip_size, bCurrentSongShort=>TRUE (ignore FWD/RWD commands)
                            27703 ; 460  |// Short Song Time, songs too short to play.
                            27704 ; 461  |#define SHORT_SONG_TIME SECONDS_TO_SKIP         
                            27705 ; 462  |
                            27706 ; 463  |/////////////////////////////////////////////////////////////////////////////////
                            27707 ; 464  |// MP3 Sync Values
                            27708 ; 465  |/////////////////////////////////////////////////////////////////////////////////
                            27709 ; 466  |// # bytes to look for sync before marking it bad
                            27710 ; 467  |#define MP3_SYNC_THRESHOLD 70000 
                            27711 ; 468  |// # bytes to look for sync before slowing decoder isr frequency (to let menus run)
                            27712 ; 469  |#define MP3_SYNC_THRESHOLD1 10000 
                            27713 ; 470  |// once we have sync'd, the isr should be called this frequently
                            27714 ; 471  |#define MP3_DECODERISR_FAST 7500  
                            27715 ; 472  |// if decoder is having difficulty syncing, switch isr to be called less frequently
                            27716 ; 473  |#define MP3_DECODERISR_SLOW 50000 
                            27717 ; 474  |
                            27718 ; 475  |
                            27719 ; 476  |/////////////////////////////////////////////////////////////////////////////////
                            27720 ; 477  |//// Multi-Stage Volume Control Definitions
                            27721 ; 478  |/////////////////////////////////////////////////////////////////////////////////
                            27722 ; 479  |//// Use Multi-Stage Volume
                            27723 ; 480  |#define MULTI_STAGE_VOLUME 0x1                  
                            27724 ; 481  |
                            27725 ; 482  |//// Master Volume definitions
                            27726 ; 483  |#define MIX_MSTR_MAX_VOL 0x0
                            27727 ; 484  |#define NUM_MSTR_ATT_STEPS (0x1F-MIX_MSTR_MAX_VOL)
                            27728 ; 485  |
                            27729 ; 486  |//// DAC-Mode definitions
                            27730 ; 487  |//// Adjusts 0dB point
                            27731 ; 488  |#define MIX_DAC_NOM_VOL 0x6                  
                            27732 ; 489  |#define MIX_DAC_MIN_VOL 0x1F
                            27733 ; 490  |// For minimum clipping: Set MIX_DAC_MAX_VOL below to match MIX_DAC_NOM_VOL value 2 lines above.
                            27734 ; 491  |// For additional gain (with possible clipping): Set MIX_DAC_MAX_VOL in range below. 
                            27735 ; 492  |//                                               Each integer below MIX_DAC_NOM_VOL provides 1.5 dB gain on Stmp34x0; 
                            27736 ; 493  |//                                               Max gain possible: 8 step diff would provide +12dB gain.   
                            27737 ; 494  |// range: [0 to MIX_DAC_NOM_VOL] (0 for loudest volume)
                            27738 ; 495  |#define MIX_DAC_MAX_VOL 0x0  
                            27739 ; 496  |
                            27740 ; 497  |#define NUM_DAC_ATT_STEPS (MIX_DAC_MIN_VOL-MIX_DAC_NOM_VOL+1)
                            27741 ; 498  |#define NUM_DAC_GAIN_STEPS (MIX_DAC_NOM_VOL-MIX_DAC_MAX_VOL)
                            27742 ; 499  |#define NUM_DAC_MODE_VOL_STEPS (NUM_DAC_ATT_STEPS+NUM_MSTR_ATT_STEPS+NUM_DAC_GAIN_STEPS+1)
                            27743 ; 500  |
                            27744 ; 501  |//// If there is no stored volume, set to 50% of DAC-Mode max; change if DAC Mode is not the default
                            27745 ; 502  |//// STMP35xx has 2dB attenuation per step so default needs a few more steps above midpoint.
                            27746 ; 503  |#define DEFAULT_VOLUME ((NUM_DAC_MODE_VOL_STEPS/2)+6)         
                            27747 ; 504  |
                            27748 ; 505  |//// Set maximum restored volume to 75% of DAC-Mode max; change if DAC Mode is not the default
                            27749 ; 506  |#define MAX_RESTORED_VOLUME ((3*NUM_DAC_MODE_VOL_STEPS)/4)   
                            27750 ; 507  |
                            27751 ; 508  |
                            27752 ; 509  |//// Line In definitions (used for Line-In 1)
                            27753 ; 510  |//// 0dB point of the Line In
                            27754 ; 511  |#define MIX_LINE_NOM_VOL 0x8                  
                            27755 ; 512  |//// Minimum volume of Line In
                            27756 ; 513  |#define MIX_LINE_MIN_VOL 0x1F                 
                            27757 ; 514  |//// Maximum volume of Line In (can adjust extra gain)
                            27758 ; 515  |#define MIX_LINE_MAX_VOL 0x6                  
                            27759 ; 516  |#define NUM_LINE_ATT_STEPS (MIX_LINE_MIN_VOL-MIX_LINE_NOM_VOL+1)
                            27760 ; 517  |#define NUM_LINE_GAIN_STEPS (MIX_LINE_NOM_VOL-MIX_LINE_MAX_VOL)
                            27761 ; 518  |#define NUM_LINE_MODE_VOL_STEPS (NUM_LINE_ATT_STEPS+NUM_MSTR_ATT_STEPS+NUM_LINE_GAIN_STEPS+1)
                            27762 ; 519  |
                            27763 ; 520  |//// Line In definitions (used for FM tuner with 144 pin package)
                            27764 ; 521  |//// 0dB point of the Line In
                            27765 ; 522  |#define MIX_FM_NOM_VOL 0x8                  
                            27766 ; 523  |//// Minimum volume of Line In
                            27767 ; 524  |#define MIX_FM_MIN_VOL 0x1F                 
                            27768 ; 525  |//// Maximum volume of Line In (can adjust extra gain)
                            27769 ; 526  |#define MIX_FM_MAX_VOL 0x6                  
                            27770 ; 527  |#define NUM_FM_ATT_STEPS (MIX_FM_MIN_VOL-MIX_FM_NOM_VOL+1)
                            27771 ; 528  |#define NUM_FM_GAIN_STEPS (MIX_FM_NOM_VOL-MIX_FM_MAX_VOL)
                            27772 ; 529  |#define NUM_FM_MODE_VOL_STEPS (NUM_FM_ATT_STEPS+NUM_MSTR_ATT_STEPS+NUM_FM_GAIN_STEPS+1)
                            27773 ; 530  |
                            27774 ; 531  |/////////////////////////////////////////////////////////////////////////////////
                            27775 ; 532  |//// When enabled (1), periodically checks for one of several FM state machine invalid deadlock states & recovers. 
                            27776 ; 533  |//// Define as 0 to disable FM-deadlock-state checking and recovery.
                            27777 ; 534  |#define FM_WATCHDOG_ENABLE 1
                            27778 ; 535  |
                            27779 ; 536  |#if !defined(STMP_BUILD_PLAYER)
                            27780 ; 537  |////
                            27781 ; 538  |////! This varible holds the lcd display state for the mtp project.
                            27782 ; 539  |////
                            27783 ; 540  |///
                            27784 ; 541  |#include <types.h>
                            27785 ; 542  |extern volatile WORD g_wActivityState;
                            27786 ; 543  |#endif // if !@def('STMP_BUILD_PLAYER')
                            27787 ; 544  |
                            27788 ; 545  |void _reentrant Init5VSense(void);
                            27789 ; 546  |void _reentrant ServiceDCDC(void);
                            27790 ; 547  |
                            27791 ; 548  |////////////////////////////////////////////////////////////////////////////
                            27792 ; 549  |//// JPEG Thumbnail Mode Setting
                            27793 ; 550  |//// number of column in thumbnail mode
                            27794 ; 551  |#define THUMBNAIL_X 2           
                            27795 ; 552  |//// number of row in  thumbnail mode
                            27796 ; 553  |#define THUMBNAIL_Y 2           
                            27797 ; 554  |//// thumbnail boundary offset x
                            27798 ; 555  |#define THUMBNAIL_X_OFFSET 4            
                            27799 ; 556  |//// thumbnail boundary offset y
                            27800 ; 557  |#define THUMBNAIL_Y_OFFSET 4            
                            27801 ; 558  |
                            27802 ; 559  |#endif // if (!@def(_PROJECT_INC))
                            27803 ; 560  |
                            27804 
                            27806 
                            27807 ; 9    |#include "sysresourceapi.h"
                            27808 
                            27810 
                            27811 ; 1    |////////////////////////////////////////////////////////////////////////////////
                            27812 ; 2    |// Copyright(C) SigmaTel, Inc. 2002 - 2003
                            27813 ; 3    |//
                            27814 ; 4    |// File : SysResourceApi.h
                            27815 ; 5    |// Description : Structures and Functions Definitions for System Resource API
                            27816 ; 6    |////////////////////////////////////////////////////////////////////////////////
                            27817 ; 7    |
                            27818 ; 8    |#ifndef __SysResourceApi_h__
                            27819 ; 9    |#define __SysResourceApi_h__ 1
                            27820 ; 10   |
                            27821 ; 11   |#include "types.h"
                            27822 
                            27824 
                            27825 ; 1    |////////////////////////////////////////////////////////////////////////////////
                            27826 ; 2    |// Copyright(C) SigmaTel, Inc. 2000-2004
                            27827 ; 3    |//
                            27828 ; 4    |// Filename: types.h
                            27829 ; 5    |// Description: Standard data types
                            27830 ; 6    |////////////////////////////////////////////////////////////////////////////////
                            27831 ; 7    |
                            27832 ; 8    |#ifndef _TYPES_H
                            27833 ; 9    |#define _TYPES_H
                            27834 ; 10   |
                            27835 ; 11   |// TODO:  move this outta here!
                            27836 ; 12   |#if !defined(NOERROR)
                            27837 ; 13   |#define NOERROR 0
                            27838 ; 14   |#define SUCCESS 0
                            27839 ; 15   |#endif 
                            27840 ; 16   |#if !defined(SUCCESS)
                            27841 ; 17   |#define SUCCESS  0
                            27842 ; 18   |#endif
                            27843 ; 19   |#if !defined(ERROR)
                            27844 ; 20   |#define ERROR   -1
                            27845 ; 21   |#endif
                            27846 ; 22   |#if !defined(FALSE)
                            27847 ; 23   |#define FALSE 0
                            27848 ; 24   |#endif
                            27849 ; 25   |#if !defined(TRUE)
                            27850 ; 26   |#define TRUE  1
                            27851 ; 27   |#endif
                            27852 ; 28   |
                            27853 ; 29   |#if !defined(NULL)
                            27854 ; 30   |#define NULL 0
                            27855 ; 31   |#endif
                            27856 ; 32   |
                            27857 ; 33   |#define MAX_INT     0x7FFFFF
                            27858 ; 34   |#define MAX_LONG    0x7FFFFFffffff
                            27859 ; 35   |        // max positive unsigned long value: -1 == 0xFFFFFFffffff
                            27860 ; 36   |#define MAX_ULONG   (-1) 
                            27861 ; 37   |
                            27862 ; 38   |#define WORD_SIZE   24              // word size in bits
                            27863 ; 39   |#define BYTES_PER_WORD 3            // 8 bit bytes
                            27864 ; 40   |
                            27865 ; 41   |
                            27866 ; 42   |#define BYTE    unsigned char       // btVarName
                            27867 ; 43   |#define CHAR    signed char         // cVarName
                            27868 ; 44   |#define USHORT  unsigned short      // usVarName
                            27869 ; 45   |#define SHORT   unsigned short      // sVarName
                            27870 ; 46   |#define WORD    unsigned int        // wVarName
                            27871 ; 47   |#define INT     signed int          // iVarName
                            27872 ; 48   |#define DWORD   unsigned long       // dwVarName
                            27873 ; 49   |#define LONG    signed long         // lVarName
                            27874 ; 50   |#define BOOL    unsigned int        // bVarName
                            27875 ; 51   |#define FRACT   _fract              // frVarName
                            27876 ; 52   |#define LFRACT  long _fract         // lfrVarName
                            27877 ; 53   |#define CIRC    _circ               // cp<type prefix>VarName (see below)
                            27878 ; 54   |#define FLOAT   float               // fVarName
                            27879 ; 55   |#define DBL     double              // dVarName
                            27880 ; 56   |#define ENUM    enum                // eVarName
                            27881 ; 57   |#define CMX     _complex            // cmxVarName
                            27882 ; 58   |typedef WORD UCS3;                   // 
                            27883 ; 59   |
                            27884 ; 60   |#define UINT16  unsigned short
                            27885 ; 61   |#define UINT8   unsigned char   
                            27886 ; 62   |#define UINT32  unsigned long
                            27887 ; 63   |#define UINT64  unsigned long   // need to figure out how to do 64 bit values.  Or port exisiting code to only use 48 bit
                            27888 ; 64   |#define INT64   unsigned long   // need to figure out how to do 64 bit values.  Or port exisiting code to only use 48 bit
                            27889 ; 65   |#define WCHAR   UINT16
                            27890 ; 66   |
                            27891 ; 67   |//UINT128 is 16 bytes or 6 words
                            27892 ; 68   |typedef struct UINT128_3500 {   
                            27893 ; 69   |    int val[6];     
                            27894 ; 70   |} UINT128_3500;
                            27895 ; 71   |
                            27896 ; 72   |#define UINT128   UINT128_3500
                            27897 ; 73   |
                            27898 ; 74   |// Little endian word packed byte strings:   
                            27899 ; 75   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                            27900 ; 76   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                            27901 ; 77   |// Little endian word packed byte strings:   
                            27902 ; 78   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                            27903 ; 79   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                            27904 ; 80   |
                            27905 ; 81   |// Declare Memory Spaces To Use When Coding
                            27906 ; 82   |// A. Sector Buffers
                            27907 ; 83   |#define SECTOR_BUFFER_MEM_X _X
                            27908 ; 84   |#define SECTOR_BUFFER_MEM_Y _Y
                            27909 ; 85   |#define SECTOR_BUFFER_MEM SECTOR_BUFFER_MEM_X
                            27910 ; 86   |typedef WORD SECTOR_BUFFER_MEM SECTOR_BUFFER;
                            27911 ; 87   |typedef SECTOR_BUFFER * P_SECTOR_BUFFER;
                            27912 ; 88   |// B. Media DDI Memory
                            27913 ; 89   |#define MEDIA_DDI_MEM _Y
                            27914 ; 90   |
                            27915 ; 91   |
                            27916 ; 92   |
                            27917 ; 93   |// Pointers to linear structures are labeled as: p<type prefix>VarName
                            27918 ; 94   |// Examples of circular pointers:
                            27919 ; 95   |//    INT CIRC cpiVarName
                            27920 ; 96   |//    DWORD CIRC cpdwVarName
                            27921 ; 97   |
                            27922 ; 98   |#define RETCODE INT                 // rcVarName
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page 110

M:ADDR CODE           CYCLES LINE SOURCELINE
                            27923 ; 99   |
                            27924 ; 100  |// generic bitfield structure
                            27925 ; 101  |struct Bitfield {
                            27926 ; 102  |    unsigned int B0  :1;
                            27927 ; 103  |    unsigned int B1  :1;
                            27928 ; 104  |    unsigned int B2  :1;
                            27929 ; 105  |    unsigned int B3  :1;
                            27930 ; 106  |    unsigned int B4  :1;
                            27931 ; 107  |    unsigned int B5  :1;
                            27932 ; 108  |    unsigned int B6  :1;
                            27933 ; 109  |    unsigned int B7  :1;
                            27934 ; 110  |    unsigned int B8  :1;
                            27935 ; 111  |    unsigned int B9  :1;
                            27936 ; 112  |    unsigned int B10 :1;
                            27937 ; 113  |    unsigned int B11 :1;
                            27938 ; 114  |    unsigned int B12 :1;
                            27939 ; 115  |    unsigned int B13 :1;
                            27940 ; 116  |    unsigned int B14 :1;
                            27941 ; 117  |    unsigned int B15 :1;
                            27942 ; 118  |    unsigned int B16 :1;
                            27943 ; 119  |    unsigned int B17 :1;
                            27944 ; 120  |    unsigned int B18 :1;
                            27945 ; 121  |    unsigned int B19 :1;
                            27946 ; 122  |    unsigned int B20 :1;
                            27947 ; 123  |    unsigned int B21 :1;
                            27948 ; 124  |    unsigned int B22 :1;
                            27949 ; 125  |    unsigned int B23 :1;
                            27950 ; 126  |};
                            27951 ; 127  |
                            27952 ; 128  |union BitInt {
                            27953 ; 129  |        struct Bitfield B;
                            27954 ; 130  |        int        I;
                            27955 ; 131  |};
                            27956 ; 132  |
                            27957 ; 133  |#define MAX_MSG_LENGTH 10
                            27958 ; 134  |struct CMessage
                            27959 ; 135  |{
                            27960 ; 136  |        unsigned int m_uLength;
                            27961 ; 137  |        unsigned int m_uMsg[MAX_MSG_LENGTH];
                            27962 ; 138  |};
                            27963 ; 139  |
                            27964 ; 140  |typedef struct {
                            27965 ; 141  |    WORD m_wLength;
                            27966 ; 142  |    WORD m_wMessage;
                            27967 ; 143  |    WORD m_wParams[MAX_MSG_LENGTH];
                            27968 ; 144  |} Message;
                            27969 ; 145  |
                            27970 ; 146  |struct MessageQueueDescriptor
                            27971 ; 147  |{
                            27972 ; 148  |        int *m_pBase;
                            27973 ; 149  |        int m_iModulo;
                            27974 ; 150  |        int m_iSize;
                            27975 ; 151  |        int *m_pHead;
                            27976 ; 152  |        int *m_pTail;
                            27977 ; 153  |};
                            27978 ; 154  |
                            27979 ; 155  |struct ModuleEntry
                            27980 ; 156  |{
                            27981 ; 157  |    int m_iSignaledEventMask;
                            27982 ; 158  |    int m_iWaitEventMask;
                            27983 ; 159  |    int m_iResourceOfCode;
                            27984 ; 160  |    struct MessageQueueDescriptor *m_pMessageQueue;
                            27985 ; 161  |    int _asmfunc (*m_pProcessEntryPoint)(union WaitMask Signals,struct MessageQueueDescriptor *);
                            27986 ; 162  |    int _asmfunc (*m_pInitFunction)(struct MessageQueueDescriptor *);
                            27987 ; 163  |    int m_uTimeOutHigh;
                            27988 ; 164  |    int m_uTimeOutLow;
                            27989 ; 165  |    int _asmfunc (*m_pBackgroundFunction)(struct MessageQueueDescriptor *);
                            27990 ; 166  |};
                            27991 ; 167  |
                            27992 ; 168  |union WaitMask{
                            27993 ; 169  |    struct B{
                            27994 ; 170  |        unsigned int m_bNone     :1;
                            27995 ; 171  |        unsigned int m_bMessage  :1;
                            27996 ; 172  |        unsigned int m_bTimer    :1;
                            27997 ; 173  |        unsigned int m_bButton   :1;
                            27998 ; 174  |    } B;
                            27999 ; 175  |    int I;
                            28000 ; 176  |} ;
                            28001 ; 177  |
                            28002 ; 178  |
                            28003 ; 179  |struct Button {
                            28004 ; 180  |        WORD wButtonEvent;
                            28005 ; 181  |        WORD wUnused[MAX_MSG_LENGTH];   
                            28006 ; 182  |};
                            28007 ; 183  |
                            28008 ; 184  |struct Message {
                            28009 ; 185  |        WORD wMsgLength;
                            28010 ; 186  |        WORD wMsgCommand;
                            28011 ; 187  |        WORD wMsgParms[MAX_MSG_LENGTH-1];
                            28012 ; 188  |};
                            28013 ; 189  |
                            28014 ; 190  |union EventTypes {
                            28015 ; 191  |        struct CMessage msg;
                            28016 ; 192  |        struct Button Button ;
                            28017 ; 193  |        struct Message Message;
                            28018 ; 194  |};
                            28019 ; 195  |
                            28020 ; 196  |// next 2 used to get updater build to return correct protocol ver in scsi response.
                            28021 ; 197  |#define BUILD_TYPE_UPDATER  0x100
                            28022 ; 198  |#define BUILD_TYPE_HOSTLINK 0x101
                            28023 ; 199  |#define BUILD_TYPE_PLAYER   0x102
                            28024 ; 200  |
                            28025 ; 201  |// Resets part if RETAIL build. DEBUG build executes debug instruction to halt.
                            28026 ; 202  |#define SystemHalt() __asm(" include 'sysmacro.asm' \n error") 
                            28027 ; 203  |#define assert(x)    if(!(x)) __asm(" include 'sysmacro.asm' \n error")
                            28028 ; 204  |
                            28029 ; 205  |#if DEBUG
                            28030 ; 206  |// For DEBUG builds, DebugBuildAssert(condition) halts if condition evaluates to FALSE. 
                            28031 ; 207  |#define DebugBuildAssert(x)    if(!(x)) __asm(" debug ")
                            28032 ; 208  |#else 
                            28033 ; 209  |// For RETAIL builds, DebugBuildAssert(condition) does nothing & execution continues rather than halt or reset. 
                            28034 ; 210  |#define DebugBuildAssert(x)    
                            28035 ; 211  |#endif
                            28036 ; 212  |
                            28037 ; 213  |// Do this in your C files to make a reminder that's displayed during the build.
                            28038 ; 214  |//  #pragma asm
                            28039 ; 215  |//  WARN 'Note to builder: reminder to do this after verifying that'
                            28040 ; 216  |//  #pragma endasm
                            28041 ; 217  |
                            28042 ; 218  |
                            28043 ; 219  |#ifdef COLOR_262K
                            28044 ; 220  |#define RGB(r,g,b)    ((0x0000FC & (r)) << 10) | ((0x0000FC & (g)) << 4) | ((0x0000FC & (b)) >> 2)    //262k
                            28045 ; 221  |#elif defined(COLOR_65K)
                            28046 ; 222  |#define RGB(r,g,b)    ((0x0000F8 & (r)) << 8) | ((0x0000FC & (g)) << 3) | ((0x0000F8 & (b)) >> 3)  //65k
                            28047 ; 223  |#else
                            28048 ; 224  |#define RGB(r,g,b)       ((0x0000F0 & (r)) << 4) | (0x0000F0 & (g)) | ((0x0000F0 & (b)) >> 4)
                            28049 ; 225  |#endif
                            28050 ; 226  |    
                            28051 ; 227  |#endif // #ifndef _TYPES_H
                            28052 
                            28054 
                            28055 ; 12   |
                            28056 ; 13   |#define RSRC_TYPE_STRING                1
                            28057 ; 14   |#define RSRC_TYPE_DATA                  2
                            28058 ; 15   |#define RSRC_TYPE_BITMAP                3
                            28059 ; 16   |#define RSRC_TYPE_NESTED_RESOURCE       9
                            28060 ; 17   |
                            28061 ; 18   |#define MAX_NESTED_RSC      10           // Included Root Resource
                            28062 ; 19   |#define FREE_RSC_HANDLE     0xffffff    // Code for free handle
                            28063 ; 20   |
                            28064 ; 21   |#define RS_ROOT_HANDLE                      0           // Pass this handle to open
                            28065 ; 22   |                                                        // from the root.
                            28066 ; 23   |
                            28067 ; 24   |#define RSC_MAX_HANDLE_REACHED              0x800001    // No more Nested Handles free
                            28068 ; 25   |                                                        // Maximum allocated nested resource handle reached
                            28069 ; 26   |                                                        // To correct error increase the number of MAX_NESTED_RSC
                            28070 ; 27   |#define RSC_INVALID_NESTED_HANDLE           0x800002    // The Nested Resource Handle is Invalid
                            28071 ; 28   |                                                        // Handle >= MAX_NESTED_RSC 
                            28072 ; 29   |#define RSC_INVALID_NESTED_NOT_ITIALIZED    0x800003    // The Nested Resource Handle is not initialized
                            28073 ; 30   |                                                        // element RscNumber of Struct_Handle_Nested_Rsc 
                            28074 ; 31   |                                                        // is FREE_RSC_HANDLE in 
                            28075 ; 32   |#define RSC_INVALID_RSC                     0x800004    // Resource is invalid. Resource Header does not
                            28076 ; 33   |#define RSC_INVALID_MEM_SPACE               0x800005    // Memory Space for resource is invalid. Valid spaces are X, Y or P.
                            28077 ; 34   |#define RSC_ERROR_READING_RSC               0x800006
                            28078 ; 35   |
                            28079 ; 36   |#define TARGET_MEM_X                        0x800000
                            28080 ; 37   |#define TARGET_MEM_Y                        0x400000
                            28081 ; 38   |#define TARGET_MEM_L                        0x200000
                            28082 ; 39   |#define TARGET_MEM_P                        0x100000
                            28083 ; 40   |
                            28084 ; 41   |typedef struct {
                            28085 ; 42   |    WORD    wRscNumber;             // Nested resource number
                            28086 ; 43   |                                    // 0x00 = Root Resource
                            28087 ; 44   |                                    // 0xffff = Free Handle
                            28088 ; 45   |    WORD    wStartPosition;         // Start position data section (in bytes)
                            28089 ; 46   |    WORD    wCurrentPosition;       // Current position (in bytes)
                            28090 ; 47   |} Struct_Handle_Nested_Rsc, * pStruct_Handle_Nested_Rsc;
                            28091 ; 48   |
                            28092 ; 49   |RETCODE _reentrant SysOpenResource(WORD wRscNum, BYTE btHandleNestedParentRsc);
                            28093 ; 50   |RETCODE _reentrant SysCloseResource(BYTE btHandleNestedRsc);
                            28094 ; 51   |RETCODE _reentrant SysLoadResource(WORD wRscNum, BYTE btHandleNestedRsc, WORD wRscType,
                            28095 ; 52   |                        WORD *pwTargetBuffer, WORD wTargetSpace, WORD wMaxSize);
                            28096 ; 53   |RETCODE _reentrant SysResourceFileRead(BYTE btHandleNestedRsc, WORD wNumBytes, 
                            28097 ; 54   |                            WORD wTargetSpace, WORD *pwTargetBuffer);
                            28098 ; 55   |RETCODE _reentrant SysResourceFileSeek(BYTE btHandleNestedRsc, WORD wNumWords);                        
                            28099 ; 56   |WORD _reentrant SysResourceFileTell(BYTE btHandleNestedRsc);
                            28100 ; 57   |void _reentrant SysSetResourceTag(WORD wTag);
                            28101 ; 58   |                   
                            28102 ; 59   |extern WORD wResourceTag;
                            28103 ; 60   |#define SysGetResourceTag(void) (wResourceTag)
                            28104 ; 61   |
                            28105 ; 62   |extern void EnterNonReentrantSection(void);
                            28106 ; 63   |extern void LeaveNonReentrantSection(void);
                            28107 ; 64   |
                            28108 ; 65   |#endif
                            28109 
                            28111 
                            28112 ; 10   |
                            28113 ; 11   |//comment this out to put the frame buffer in Y
                            28114 ; 12   |
                            28115 ; 13   |#ifndef BITMAP_MEMORY_SPACE
                            28116 ; 14   |#define BITMAP_MEMORY_SPACE TARGET_MEM_Y
                            28117 ; 15   |#endif
                            28118 ; 16   |
                            28119 ; 17   |
                            28120 ; 18   |#if  BITMAP_MEMORY_SPACE==TARGET_MEM_X
                            28121 ; 19   |#define BITMAP_MEMORY_C _X
                            28122 ; 20   |#else 
                            28123 ; 21   |#define BITMAP_MEMORY_C _Y
                            28124 ; 22   |#endif 
                            28125 ; 23   |
                            28126 ; 24   |#ifndef LCD_X_SIZE     
                            28127 ; 25   |#define LCD_X_SIZE          98
                            28128 ; 26   |#endif
                            28129 ; 27   |
                            28130 ; 28   |#ifndef LCD_Y_SIZE
                            28131 ; 29   |#define LCD_Y_SIZE          64
                            28132 ; 30   |#endif
                            28133 ; 31   |
                            28134 ; 32   |#define MAX_BITMAP_SIZE 10000
                            28135 ; 33   |
                            28136 ; 34   |#define DISPLAY_NORMAL  0
                            28137 ; 35   |#define DISPLAY_INVERT  1
                            28138 ; 36   |#define DISPLAY_CLEAR   2 
                            28139 ; 37   |
                            28140 ; 38   |typedef struct 
                            28141 ; 39   |{
                            28142 ; 40   |    INT m_iMaskLeft;
                            28143 ; 41   |    INT m_iMaskTop;
                            28144 ; 42   |    INT m_iMaskRight;
                            28145 ; 43   |    INT m_iMaskBottom;
                            28146 ; 44   |}   MASK;
                            28147 ; 45   |
                            28148 ; 46   |typedef struct 
                            28149 ; 47   |{
                            28150 ; 48   |    INT m_iWidth;
                            28151 ; 49   |    INT m_iHeight;
                            28152 ; 50   |    WORD m_wBitmap[MAX_BITMAP_SIZE];
                            28153 ; 51   |} BITMAP_TYPEDEF;
                            28154 ; 52   |
                            28155 ; 53   |#define BITMAP BITMAP_TYPEDEF BITMAP_MEMORY_C
                            28156 ; 54   |
                            28157 ; 55   |typedef struct 
                            28158 ; 56   |{
                            28159 ; 57   |    INT m_iWidth;
                            28160 ; 58   |    INT m_iHeight;
                            28161 ; 59   |} BITMAPHEADER_TYPEDEF;
                            28162 ; 60   |
                            28163 ; 61   |#define BITMAPHEADER BITMAPHEADER_TYPEDEF BITMAP_MEMORY_C
                            28164 ; 62   |
                            28165 ; 63   |typedef union
                            28166 ; 64   |{
                            28167 ; 65   |    struct
                            28168 ; 66   |    {
                            28169 ; 67   |        INT m_Resource:21;
                            28170 ; 68   |        INT m_Type :3;
                            28171 ; 69   |    } Complex;
                            28172 ; 70   |    WORD I;
                            28173 ; 71   |} COMPLEX_RESOURCE;
                            28174 ; 72   |
                            28175 ; 73   |#define RESOURCE_TYPE_SIMPLE    0
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page 111

M:ADDR CODE           CYCLES LINE SOURCELINE
                            28176 ; 74   |#define RESOURCE_TYPE_NESTED    1
                            28177 ; 75   |#define RESOURCE_TYPE_UNICODE   2
                            28178 ; 76   |
                            28179 ; 77   |
                            28180 ; 78   |extern INT g_iMaskLeft;
                            28181 ; 79   |extern INT g_iMaskRight;
                            28182 ; 80   |extern INT g_iMaskTop;
                            28183 ; 81   |extern INT g_iMaskBottom;
                            28184 ; 82   |
                            28185 ; 83   |
                            28186 ; 84   |_reentrant void SALDisplayClearRange(INT x,INT y,WORD iSourceWidth,WORD iSourceHeight);
                            28187 ; 85   |_reentrant void SALDisplayPrintBitmapAddress   (INT x,INT y,void _Y *pAddress ,INT bInvert);
                            28188 
                            28195 
                            28196 ; 86   |_reentrant void SALHandleMessage(Message  *pMsg);
                            28197 ; 87   |_reentrant void SALUpdateDisplay(void);
                            28198 ; 88   |_reentrant void SALDisplayInit(void );
                            28199 ; 89   |
                            28200 ; 90   |_reentrant INT SALDisplayGetWidth(void);
                            28201 ; 91   |_reentrant INT SALDisplayGetHeight(void);
                            28202 ; 92   |
                            28203 ; 93   |_reentrant void PushMask(INT left, INT top, INT right, INT bottom);
                            28204 ; 94   |_reentrant void PopMask(void);
                            28205 ; 95   |
                            28206 ; 96   |
                            28207 ; 97   |#endif
                            28208 
                            28210 
                            28211 ; 56   |#endif
                            28212 ; 57   |#include "ddildl.h"
                            28213 
                            28215 
                            28216 ; 1    |////////////////////////////////////////////////////////////////////////////////
                            28217 ; 2    |// Copyright(C) SigmaTel, Inc. 2003-2005
                            28218 ; 3    |//
                            28219 ; 4    |// Filename: ddildl.h
                            28220 ; 5    |// Description: 
                            28221 ; 6    |////////////////////////////////////////////////////////////////////////////////
                            28222 ; 7    |
                            28223 ; 8    |#ifndef _DDILDL_H
                            28224 ; 9    |#define _DDILDL_H
                            28225 ; 10   |
                            28226 ; 11   |///////////////////////////////////////////////////////////////////////////////
                            28227 ; 12   |// Includes
                            28228 ; 13   |///////////////////////////////////////////////////////////////////////////////
                            28229 ; 14   |
                            28230 ; 15   |///////////////////////////////////////////////////////////////////////////////
                            28231 ; 16   |// Definitions
                            28232 ; 17   |///////////////////////////////////////////////////////////////////////////////
                            28233 ; 18   |// version before march 11 2005 
                            28234 ; 19   |//#ifdef PLAYER_BUILD
                            28235 ; 20   |//#define MAX_MEDIA_TABLE_ENTRIES                12
                            28236 ; 21   |//#else
                            28237 ; 22   |//#define MAX_MEDIA_TABLE_ENTRIES                14
                            28238 ; 23   |//#endif
                            28239 ; 24   |// Mar 14 2007: Only requires the maximum number of drives in one media
                            28240 ; 25   |// NAND:(2 data drives + 9 system drives + 1 extra system drive in future) = 12
                            28241 ; 26   |#define MAX_MEDIA_TABLE_ENTRIES                12
                            28242 ; 27   |
                            28243 ; 28   |#define MAX_LOGICAL_MEDIA                       2
                            28244 ; 29   |
                            28245 ; 30   |//
                            28246 ; 31   |// WARNING
                            28247 ; 32   |// The maximum number of drives needed for player, mtp and usbmsc 
                            28248 ; 33   |// builds is currently the player build which has the largest number of drives = 12(NAND)+1(MMC).
                            28249 ; 34   |// Private lib references to this change to use a ddiproject global that's init per project 
                            28250 ; 35   |// instead so those plib references are no longer fixed at lib compile time. March 1 2005
                            28251 ; 36   |#ifdef PLAYER_BUILD
                            28252 ; 37   |#define MAX_LOGICAL_DRIVES                      13
                            28253 ; 38   |#else // MTP_BUILD & USBMSC/updater need support for the ram drive used in msc
                            28254 ; 39   |/********************************************************************************
                            28255 ; 40   | * We have to define 2 more than the actually size for usbmsc case
                            28256 ; 41   | * We have totally 9 system drives, 3 data drives, 1 extra system drive in future, 
                            28257 ; 42   | * so the total number is 13. The max will be 13 + 2 = 15
                            28258 ; 43   | ********************************************************************************/
                            28259 ; 44   |#define MAX_LOGICAL_DRIVES                      15
                            28260 ; 45   |#endif
                            28261 ; 46   |
                            28262 ; 47   |#define DDI_MAGIC_NUMBER                        0xADEADE
                            28263 ; 48   |
                            28264 ; 49   |///////////////////////////////////////////////////////////////////////////////
                            28265 ; 50   |// Error codes
                            28266 ; 51   |///////////////////////////////////////////////////////////////////////////////
                            28267 ; 52   |
                            28268 ; 53   |#include "errors.h"
                            28269 
                            28271 
                            28272 ; 1    |/////////////////////////////////////////////////////////////////////////////////
                            28273 ; 2    |//// Copyright(C) SigmaTel, Inc. 2003
                            28274 ; 3    |////
                            28275 ; 4    |//// Filename: errors.inc
                            28276 ; 5    |//// Description: 
                            28277 ; 6    |/////////////////////////////////////////////////////////////////////////////////
                            28278 ; 7    |
                            28279 ; 8    |#if (!defined(ERRORS_INC))
                            28280 ; 9    |#define ERRORS_INC 1
                            28281 ; 10   |
                            28282 ; 11   |#define LDRIVE_ERROR_INVALID_DRIVE_NUMBER 0x0101
                            28283 ; 12   |#define LDRIVE_ERROR_NOT_INITIALIZED 0x0102
                            28284 ; 13   |#define LDRIVE_ERROR_HARDWARE_FAILURE 0x0103
                            28285 ; 14   |#define LDRIVE_ERROR_INVALID_DRIVE_TYPE 0x0104
                            28286 ; 15   |#define LDRIVE_ERROR_INVALID_INFO_TYPE 0x0105
                            28287 ; 16   |#define LDRIVE_ERROR_SECTOR_OUT_OF_BOUNDS 0x0106
                            28288 ; 17   |#define LDRIVE_ERROR_WRITE_FAILURE 0x0107
                            28289 ; 18   |#define LDRIVE_ERROR_WRITE_PROTECTED 0x0108
                            28290 ; 19   |#define LDRIVE_ERROR_MULTI_WRITE_IN_PROGRESS 0x0109
                            28291 ; 20   |#define LDRIVE_ERROR_MUST_HAVE_MORE_THAN_ONE_SECTOR 0x010A
                            28292 ; 21   |#define LDRIVE_ERROR_MULTI_WRITE_NOT_SETUP 0x010B
                            28293 ; 22   |// The WRITE_ABORT Error is returned when the system drive detects a bad
                            28294 ; 23   |// block in the device. The block was marked bad and tables updated.
                            28295 ; 24   |// The application must start over.
                            28296 ; 25   |#define LDRIVE_ERROR_WRITE_ABORT 0x010C
                            28297 ; 26   |#define LDRIVE_ERROR_READ_FAILURE 0x010D
                            28298 ; 27   |#define LDRIVE_ERROR_MEDIA_NOT_ALLOCATED 0x010E
                            28299 ; 28   |#define LDRIVE_ERROR_LOW_LEVEL_MEDIA_FORMAT_REQUIRED 0x010F
                            28300 ; 29   |
                            28301 ; 30   |#define LMEDIA_ERROR_HARDWARE_FAILURE 0x0200
                            28302 ; 31   |#define LMEDIA_ERROR_INVALID_MEDIA_NUMBER 0x0201
                            28303 ; 32   |#define LMEDIA_ERROR_MEDIA_NOT_INITIALIZED 0x0202
                            28304 ; 33   |#define LMEDIA_ERROR_MEDIA_NOT_DISCOVERED 0x0203
                            28305 ; 34   |#define LMEDIA_ERROR_INVALID_MEDIA_INFO_TYPE 0x0204
                            28306 ; 35   |#define LMEDIA_ERROR_ALLOCATION_TO_LARGE 0x0205
                            28307 ; 36   |#define LMEDIA_ERROR_MEDIA_NOT_ERASED 0x0206
                            28308 ; 37   |#define LMEDIA_ERROR_MEDIA_ERASED 0x0207
                            28309 ; 38   |//Specific to NAND
                            28310 ; 39   |#define LMEDIA_ERROR_NO_REGIONS_IN_MEDIA 0x0208     
                            28311 ; 40   |#define LMEDIA_ERROR_DRIVES_MAX_OUT 0x0209 
                            28312 ; 41   |#define LMEDIA_ERROR_MEDIA_WRITE_PROTECTED 0x020A
                            28313 ; 42   |#define LMEDIA_ERROR_INVALID_INFO_TYPE 0x020B
                            28314 ; 43   |#define LMEDIA_ERROR_BAD_BLOCKS_MAX_OUT 0x020C
                            28315 ; 44   |#define LMEDIA_ERROR_NOT_ALLOCATED 0x020D
                            28316 ; 45   |
                            28317 ; 46   |#define LMEDIA_ERROR_DRIVE_TYPE_NOT_SUPPORTED 0x0210
                            28318 ; 47   |
                            28319 ; 48   |#define NAND_ERROR_WRITE_PHYS_SECTOR_PROGRAM_FAILED 0x0301
                            28320 ; 49   |#define ERROR_MULTI_WRITE_SECTOR_FIFO_OVERFLOW 0x0302
                            28321 ; 50   |#define ERROR_MULTI_WRITE_SECTOR_FIFO_UNDERFLOW 0x0303
                            28322 ; 51   |
                            28323 ; 52   |#define NAND_DATA_DRIVE_ERROR_LOGICAL_SECTOR_OUT_OF_BOUNDS 0x0401
                            28324 ; 53   |#define NAND_DATA_DRIVE_ERROR_RBLOCK_NOT_FOUND 0x0402
                            28325 ; 54   |#define NAND_DATA_DRIVE_ERROR_NO_FREE_RBLOCKS 0x0403
                            28326 ; 55   |#define NAND_DATA_DRIVE_ERROR_USECTOR_LOOKUP_INTERNAL_1 0x0404
                            28327 ; 56   |#define NAND_DATA_DRIVE_SECTOR_NOT_UPDATED 0x0405
                            28328 ; 57   |#define NAND_DATA_DRIVE_ERROR_CANT_RECYCLE_USECTOR_MAP 0x0406
                            28329 ; 58   |#define NAND_DATA_DRIVE_ERROR_UBLOCK_LBAS_INCONSISTENT 0x0407
                            28330 ; 59   |#define NAND_DATA_DRIVE_ERROR_HSECTORIDX_IN_UBLOCK_OUT_OF_RANGE 0x0408
                            28331 ; 60   |#define NAND_DATA_DRIVE_ERROR_CANT_RECYCLE_UBLOCK 0x0409
                            28332 ; 61   |#define NAND_DATA_DRIVE_ERROR_BBTABLE_FULL 0x040A
                            28333 ; 62   |#define NAND_DATA_DRIVE_ERROR_UPDATE_NOT_OPEN 0x040B
                            28334 ; 63   |#define NAND_DATA_DRIVE_ERROR_ADD_USECTOR_INTERNAL_1 0x040C
                            28335 ; 64   |#define NAND_DATA_DRIVE_ERROR_CANT_GET_ERASED_UBLOCK 0x040D
                            28336 ; 65   |#define NAND_DATA_DRIVE_ERROR_NO_ERASED_UBLOCKS 0x040E
                            28337 ; 66   |#define NAND_DATA_DRIVE_ERROR_CANT_ERASE_FREE_UBLOCK 0x040F
                            28338 ; 67   |#define NAND_DATA_DRIVE_ERROR_KILLUSECTOR_INTERNAL_1 0x0410
                            28339 ; 68   |#define NAND_DATA_DRIVE_ERROR_KILLUSECTOR_INTERNAL_2 0x0411
                            28340 ; 69   |#define NAND_DATA_DRIVE_RETURN_BLOCK_NOT_UPDATED 0x0412
                            28341 ; 70   |#define NAND_DATA_DRIVE_ERROR_UBLOCK_PROTECT_TABLE_FULL 0x0413
                            28342 ; 71   |#define NAND_DATA_DRIVE_ERROR_UBLOCK_ALREADY_PROTECTED 0x0414
                            28343 ; 72   |#define NAND_DATA_DRIVE_ERROR_UBLOCK_NOT_PROTECTED 0x0415
                            28344 ; 73   |#define NAND_DATA_DRIVE_ERROR_UBLOCKPROTECT_INTERNAL_1 0x0416
                            28345 ; 74   |#define NAND_DATA_DRIVE_ERROR_RECOVERUBLOCK_INTERNAL_1 0x0417
                            28346 ; 75   |#define NAND_DATA_DRIVE_ERROR_RECOVERUBLOCK_INTERNAL_2 0x0418
                            28347 ; 76   |#define NAND_DATA_DRIVE_ERROR_UBLOCK_NOT_IN_UTABLE 0x0419
                            28348 ; 77   |#define NAND_DATA_DRIVE_ERROR_CANT_ALLOCATE_USECTORS_MAPS 0x041A
                            28349 ; 78   |#define NAND_DATA_DRIVE_ERROR_CANT_INIT_DATA_REGIONS_LIST 0x041B
                            28350 ; 79   |#define NAND_DATA_DRIVE_ERROR_TOO_MANY_UBLOCKS_IN_CONFIG 0x041C
                            28351 ; 80   |#define NAND_DATA_DRIVE_ERROR_USECTOR_INDEX_IS_NOT_NEXT 0x041D
                            28352 ; 81   |#define NAND_DATA_DRIVE_ERROR_USECTOR_ALREADY_UPDATED 0x041E
                            28353 ; 82   |#define NAND_DATA_DRIVE_ERROR_BgGC_USECTOR_ERASE_TIMEDOUT 0x041F
                            28354 ; 83   |#define NAND_DATA_DRIVE_ERROR_BgGC_HSECTOR_COPY_TIMEDOUT 0x0420
                            28355 ; 84   |#define NAND_DATA_DRIVE_ERROR_BgGC_ALREADY_ENABLED 0x0421
                            28356 ; 85   |#define NAND_DATA_DRIVE_ERROR_BgGC_HSECTOR_ERASE_TIMEDOUT 0x0422
                            28357 ; 86   |#define NAND_DATA_DRIVE_ERROR_BgGC_SECTOR_NOT_UPDATED 0x0423
                            28358 ; 87   |#define NAND_DATA_DRIVE_ERROR_NO_STALE_UBLOCKS 0x0424
                            28359 ; 88   |#define NAND_DATA_DRIVE_ERROR_NAND_IS_READY_TIMEOUT 0x0425
                            28360 ; 89   |#define NAND_DATA_DRIVE_ERROR_CANT_CLOSE_UPDATE 0x0426
                            28361 ; 90   |
                            28362 ; 91   |#define NAND_DATA_DRIVE_ERROR_CMW_S0_FETCH_FAILED 0x042C
                            28363 ; 92   |#define NAND_DATA_DRIVE_ERROR_CMW_S1_FETCH_FAILED 0x042D
                            28364 ; 93   |#define NAND_DATA_DRIVE_ERROR_CMW_S2_1_FETCH_FAILED 0x042E
                            28365 ; 94   |#define NAND_DATA_DRIVE_ERROR_CMW_S2_2_FETCH_FAILED 0x042F
                            28366 ; 95   |#define NAND_DATA_DRIVE_ERROR_CMW_S3_1_FETCH_FAILED 0x0430
                            28367 ; 96   |#define NAND_DATA_DRIVE_ERROR_CMW_S3_2_FETCH_FAILED 0x0431
                            28368 ; 97   |#define NAND_DATA_DRIVE_ERROR_CMW_S4_1_FETCH_FAILED 0x0432
                            28369 ; 98   |#define NAND_DATA_DRIVE_ERROR_CMW_S4_2_FETCH_FAILED 0x0433
                            28370 ; 99   |#define NAND_DATA_DRIVE_ERROR_CMW_S5_FETCH_FAILED 0x0434
                            28371 ; 100  |#define NAND_DATA_DRIVE_ERROR_CMW_S0_ECC_TIMEOUT 0x0435
                            28372 ; 101  |#define NAND_DATA_DRIVE_ERROR_CMW_S2_ECC_TIMEOUT 0x0436
                            28373 ; 102  |#define NAND_DATA_DRIVE_ERROR_CMW_S3_ECC_TIMEOUT 0x0437
                            28374 ; 103  |#define NAND_DATA_DRIVE_ERROR_CMW_S4_ECC_TIMEOUT 0x0438
                            28375 ; 104  |#define NAND_DATA_DRIVE_ERROR_CMW_S5_ECC_TIMEOUT 0x0439
                            28376 ; 105  |#define NAND_DATA_DRIVE_ERROR_CMW_WRITE_FAILED 0x043A
                            28377 ; 106  |#define NAND_DATA_DRIVE_ERROR_CMW_RELEASE_FAILED 0x043B
                            28378 ; 107  |
                            28379 ; 108  |#define NAND_DATA_DRIVE_ERROR_INVALID_LOGICAL_SECTOR 0x0427
                            28380 ; 109  |#define NAND_DATA_DRIVE_ERROR_INVALID_RELATIVE_SECTOR 0x0428
                            28381 ; 110  |#define NAND_DATA_DRIVE_ERROR_UBLOCK_IS_EMPTY 0x0429
                            28382 ; 111  |#define NAND_DATA_DRIVE_ERROR_USECTOR_MAP_IS_BAD 0x042A
                            28383 ; 112  |#define NAND_DATA_DRIVE_ERROR_TOO_MANY_BLOCK_RECOVERIES 0x042B
                            28384 ; 113  |
                            28385 ; 114  |// indicates that during the NandHalInit, the NandType did not
                            28386 ; 115  |// match the previously initialized Nand chip type.
                            28387 ; 116  |#define NANDHAL_ERROR_NANDTYPE_MISMATCH 0x0500 
                            28388 ; 117  |#define NANDHAL_ERROR_LOOKUP_ID_FAILED 0x0501
                            28389 ; 118  |// Errors from calling HIL functions
                            28390 ; 119  |#define NANDHAL_ERROR_INIT_PORT 0x0502
                            28391 ; 120  |#define NANDHAL_ERROR_WRITE_PORT_CMD 0x0503
                            28392 ; 121  |#define NANDHAL_ERROR_WRITE_PORT_ADDR 0x0504
                            28393 ; 122  |#define NANDHAL_ERROR_READ_PORT_DATA 0x0505
                            28394 ; 123  |#define NANDHAL_ERROR_WAIT_FOR_READY_PORT 0x0506
                            28395 ; 124  |#define NANDHAL_ERROR_POWER_UP_FLASH_PADS 0x0507
                            28396 ; 125  |#define NANDHAL_ERROR_TERMINATE_PORT 0x0508
                            28397 ; 126  |#define NANDHAL_ERROR_LOCKPORT_TIMEOUT 0x0509
                            28398 ; 127  |#define NANDHAL_ERROR_LOCKNAND_TIMEOUT 0x050A
                            28399 ; 128  |// for 3410 build
                            28400 ; 129  |#define NANDHAL_ERROR_LOCKPORT_LOCKED 0x050B
                            28401 ; 130  |// for 3410 build
                            28402 ; 131  |#define NANDHAL_ERROR_LOCKNAND_LOCKED 0x050C
                            28403 ; 132  |#define NANDHAL_ERROR_WRITE_DATA_PORT 0x050D
                            28404 ; 133  |
                            28405 ; 134  |// indicates that the GetStatus returned a FAIL
                            28406 ; 135  |#define NANDHAL_ERROR_GETSTATUS_FAILED 0x050E
                            28407 ; 136  |#define NANDHAL_ERROR_WRITE_FAILED 0x050F
                            28408 ; 137  |#define NANDHAL_ERROR_READ_FAILED 0x0510
                            28409 ; 138  |#define NANDHAL_ERROR_READID1_FAILED 0x0511
                            28410 ; 139  |#define NANDHAL_ERROR_READID2_FAILED 0x0512
                            28411 ; 140  |#define NANDHAL_ERROR_READIDEXT_FAILED 0x0513
                            28412 ; 141  |// indicates the NAND was already BUSY
                            28413 ; 142  |#define NANDHAL_ERROR_SETNANDBUSY_FAILED 0x0514
                            28414 ; 143  |#define NANDHAL_ERROR_ASYNCWAIT_CALLBACK_ERR 0x0515
                            28415 ; 144  |// ECC Error Codes
                            28416 ; 145  |// ECC Computation has successfully completed
                            28417 ; 146  |#define COMPUTE_ECC_SUCCESS 0         
                            28418 ; 147  |// ECC computation still busy
                            28419 ; 148  |#define COMPUTE_ECC_NOT_DONE 0x0516
                            28420 ; 149  |// timed out while waiting on object
                            28421 ; 150  |#define NANDHAL_ERROR_LOCKECC_TIMEOUT 0x0517
                            28422 ; 151  |// flag already set for SDK2.4 lock
                            28423 ; 152  |#define NANDHAL_ERROR_LOCKECC_LOCKED 0x0518
                            28424 ; 153  |
                            28425 ; 154  |#define NANDHAL_ECC_NOERROR 0
                            28426 ; 155  |// SKIP 0519-051B for space optimization in ECC calculate functions
                            28427 ; 156  |#define NANDHAL_ECC_ERROR_FIXED 0x051C
                            28428 ; 157  |#define NANDHAL_ECC_ERROR_FIXED_REWRITE_SECTOR 0x051D
                            28429 ; 158  |#define NANDHAL_ECC_FIX_FAILED 0x051E
                            28430 ; 159  |#define NANDHAL_ECC_ERROR_FIXED_REWRITE_FAILED 0x051F
                            28431 ; 160  |
                            28432 ; 161  |// MMC Errors
                            28433 ; 162  |#define MMC_MEDIA_ERROR_DEVICE_NOT_INSERTED 0x0600
                            28434 ; 163  |#define MMC_MEDIA_ERROR_RESET_FAILED 0x0601
                            28435 ; 164  |#define MMC_MEDIA_APP_COMMAND_FAILED 0x0602
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page 112

M:ADDR CODE           CYCLES LINE SOURCELINE
                            28436 ; 165  |#define MMC_MEDIA_ERROR_INIT_FAILED 0x0603
                            28437 ; 166  |#define MMC_MEDIA_ERROR_SEND_OP_TIMEOUT 0x0604
                            28438 ; 167  |#define MMC_MEDIA_READ_OCR_FAILED 0x0605
                            28439 ; 168  |#define MMC_MEDIA_UNSUPPORTED_OCR_VOLTAGES 0x0606
                            28440 ; 169  |#define MMC_MEDIA_READ_CSD_FAILED 0x0607
                            28441 ; 170  |#define MMC_MEDIA_INVALID_CSD_VERSION 0x0608
                            28442 ; 171  |#define MMC_MEDIA_READ_CID_FAILED 0x0609
                            28443 ; 172  |#define MMC_MEDIA_INVALID_CID 0x060A
                            28444 ; 173  |#define MMC_MEDIA_SPEC_VERSION_NOT_SUPPORTED 0x060B
                            28445 ; 174  |#define MMC_MEDIA_ERROR_NOT_FORMATTED 0x060C
                            28446 ; 175  |#define MMC_MEDIA_ERROR_NOT_ENUMERATED 0x060D
                            28447 ; 176  |
                            28448 ; 177  |#define MMC_DATA_DRIVE_ERROR_WRITE_SECTOR_FAIL 0x0700
                            28449 ; 178  |#define MMC_DATA_DRIVE_ERROR_INVALID_SECTOR 0x0701
                            28450 ; 179  |#define MMC_DATA_DRIVE_ERROR_READ_SECTOR_FAIL 0x0702
                            28451 ; 180  |#define MMC_DATA_DRIVE_ERROR_WRITE_PROTECTED 0x0703
                            28452 ; 181  |#define MMC_DATA_DRIVE_ERROR_ERASE_FAILED 0x0704
                            28453 ; 182  |#define MMC_DATA_DRIVE_ERROR_SEQUENTIAL_FIRST_FAIL 0x0705
                            28454 ; 183  |#define MMC_DATA_DRIVE_ERROR_SEQUENTIAL_NEXT_FAIL 0x0706
                            28455 ; 184  |#define MMC_DATA_DRIVE_ERROR_SEQUENTIAL_END_FAIL 0x0707
                            28456 ; 185  |#define MMC_DATA_DRIVE_ERROR_BLOCK_ALIGN_FAIL 0x0708
                            28457 ; 186  |
                            28458 ; 187  |/////////////////////////////////////////////////////////////////////////////////
                            28459 ; 188  |//// MMC HAL Error codes
                            28460 ; 189  |/////////////////////////////////////////////////////////////////////////////////
                            28461 ; 190  |#define MMC_HAL_ERROR_PHYSICAL_DEVICE_BLOCKED 0x0800
                            28462 ; 191  |#define MMC_HAL_ERROR_PHYSICAL_DEVICE_NOT_BLOCKED 0x0801
                            28463 ; 192  |#define MMC_HAL_ERROR_SPI_BUS_BLOCKED 0x0802
                            28464 ; 193  |#define MMC_HAL_ERROR_SPI_BUS_NOT_BLOCKED 0x0803
                            28465 ; 194  |#define MMC_HAL_ERROR_SPI_DRIVER_INIT_FAILED 0x0804
                            28466 ; 195  |#define MMC_HAL_ERROR_SPI_BUS_INIT_FAILED 0x0805
                            28467 ; 196  |
                            28468 ; 197  |#define MMC_HAL_ERROR_NO_COMMAND_RESPONSE 0x0810
                            28469 ; 198  |#define MMC_HAL_ERROR_BAD_START_BYTE 0x0811
                            28470 ; 199  |#define MMC_HAL_ERROR_BAD_WRITE_STATUS 0x0812
                            28471 ; 200  |#define MMC_HAL_ERROR_BAD_CSD_WRITE_STATUS 0x0813
                            28472 ; 201  |
                            28473 ; 202  |#define MMC_HAL_ERROR_START_BYTE_TIMEOUT 0x0820
                            28474 ; 203  |#define MMC_HAL_ERROR_WRITE_BUSY_TIMEOUT 0x0821
                            28475 ; 204  |#define MMC_HAL_ERROR_CSD_WRITE_BUSY_TIMEOUT 0x0822
                            28476 ; 205  |#define MMC_HAL_ERROR_ERASE_BUSY_TIMEOUT 0x0823
                            28477 ; 206  |#define MMC_HAL_ERROR_REGISTER_READ_TIMEOUT 0x0824
                            28478 ; 207  |
                            28479 ; 208  |#define MMC_HAL_ERROR_CMD_FAIL_CMD0 0x0830
                            28480 ; 209  |#define MMC_HAL_ERROR_CMD_FAIL_CMD1 0x0831
                            28481 ; 210  |#define MMC_HAL_ERROR_CMD_FAIL_CMD9 0x0832
                            28482 ; 211  |#define MMC_HAL_ERROR_CMD_FAIL_CMD10 0x0833
                            28483 ; 212  |#define MMC_HAL_ERROR_CMD_FAIL_CMD12 0x0834
                            28484 ; 213  |#define MMC_HAL_ERROR_CMD_FAIL_CMD13 0x0835
                            28485 ; 214  |#define MMC_HAL_ERROR_CMD_FAIL_CMD16 0x0836
                            28486 ; 215  |#define MMC_HAL_ERROR_CMD_FAIL_CMD17 0x0837
                            28487 ; 216  |#define MMC_HAL_ERROR_CMD_FAIL_CMD18 0x0838
                            28488 ; 217  |#define MMC_HAL_ERROR_CMD_FAIL_CMD23 0x0839
                            28489 ; 218  |#define MMC_HAL_ERROR_CMD_FAIL_CMD24 0x083A
                            28490 ; 219  |#define MMC_HAL_ERROR_CMD_FAIL_CMD25 0x083B
                            28491 ; 220  |#define MMC_HAL_ERROR_CMD_FAIL_CMD27 0x083C
                            28492 ; 221  |#define MMC_HAL_ERROR_CMD_FAIL_CMD28 0x083D
                            28493 ; 222  |#define MMC_HAL_ERROR_CMD_FAIL_CMD29 0x083E
                            28494 ; 223  |#define MMC_HAL_ERROR_CMD_FAIL_CMD30 0x083F
                            28495 ; 224  |#define MMC_HAL_ERROR_CMD_FAIL_CMD32 0x0840
                            28496 ; 225  |#define MMC_HAL_ERROR_CMD_FAIL_CMD33 0x0841
                            28497 ; 226  |#define MMC_HAL_ERROR_CMD_FAIL_CMD35 0x0842
                            28498 ; 227  |#define MMC_HAL_ERROR_CMD_FAIL_CMD36 0x0843
                            28499 ; 228  |#define MMC_HAL_ERROR_CMD_FAIL_CMD38 0x0844
                            28500 ; 229  |#define MMC_HAL_ERROR_CMD_FAIL_CMD42 0x0845
                            28501 ; 230  |#define MMC_HAL_ERROR_CMD_FAIL_CMD55 0x0846
                            28502 ; 231  |#define MMC_HAL_ERROR_CMD_FAIL_CMD56 0x0847
                            28503 ; 232  |#define MMC_HAL_ERROR_CMD_FAIL_CMD58 0x0848
                            28504 ; 233  |#define MMC_HAL_ERROR_CMD_FAIL_CMD59 0x0849
                            28505 ; 234  |
                            28506 ; 235  |#define MMC_HAL_ERROR_SD_CMD_FAIL_ACMD13 0x0850
                            28507 ; 236  |#define MMC_HAL_ERROR_SD_CMD_FAIL_ACMD22 0x0851
                            28508 ; 237  |#define MMC_HAL_ERROR_SD_CMD_FAIL_ACMD23 0x0852
                            28509 ; 238  |#define MMC_HAL_ERROR_SD_CMD_FAIL_ACMD41 0x0853
                            28510 ; 239  |#define MMC_HAL_ERROR_SD_CMD_FAIL_ACMD42 0x0854
                            28511 ; 240  |#define MMC_HAL_ERROR_SD_CMD_FAIL_ACMD51 0x0855
                            28512 ; 241  |
                            28513 ; 242  |#define MMC_HAL_ERROR_BAD_CMD_RESPONSE_CMD0 0x0860
                            28514 ; 243  |#define MMC_HAL_ERROR_BAD_CMD_RESPONSE_CMD1 0x0861
                            28515 ; 244  |#define MMC_HAL_ERROR_BAD_CMD_RESPONSE_CMD9 0x0862
                            28516 ; 245  |#define MMC_HAL_ERROR_BAD_CMD_RESPONSE_CMD10 0x0863
                            28517 ; 246  |#define MMC_HAL_ERROR_BAD_CMD_RESPONSE_CMD12 0x0864
                            28518 ; 247  |#define MMC_HAL_ERROR_BAD_CMD_RESPONSE_CMD13 0x0865
                            28519 ; 248  |#define MMC_HAL_ERROR_BAD_CMD_RESPONSE_CMD16 0x0866
                            28520 ; 249  |#define MMC_HAL_ERROR_BAD_CMD_RESPONSE_CMD17 0x0867
                            28521 ; 250  |#define MMC_HAL_ERROR_BAD_CMD_RESPONSE_CMD18 0x0868
                            28522 ; 251  |#define MMC_HAL_ERROR_BAD_CMD_RESPONSE_CMD23 0x0869
                            28523 ; 252  |#define MMC_HAL_ERROR_BAD_CMD_RESPONSE_CMD24 0x086A
                            28524 ; 253  |#define MMC_HAL_ERROR_BAD_CMD_RESPONSE_CMD25 0x086B
                            28525 ; 254  |#define MMC_HAL_ERROR_BAD_CMD_RESPONSE_CMD27 0x086C
                            28526 ; 255  |#define MMC_HAL_ERROR_BAD_CMD_RESPONSE_CMD28 0x086D
                            28527 ; 256  |#define MMC_HAL_ERROR_BAD_CMD_RESPONSE_CMD29 0x086E
                            28528 ; 257  |#define MMC_HAL_ERROR_BAD_CMD_RESPONSE_CMD30 0x086F
                            28529 ; 258  |#define MMC_HAL_ERROR_BAD_CMD_RESPONSE_CMD32 0x0870
                            28530 ; 259  |#define MMC_HAL_ERROR_BAD_CMD_RESPONSE_CMD33 0x0871
                            28531 ; 260  |#define MMC_HAL_ERROR_BAD_CMD_RESPONSE_CMD35 0x0872
                            28532 ; 261  |#define MMC_HAL_ERROR_BAD_CMD_RESPONSE_CMD36 0x0873
                            28533 ; 262  |#define MMC_HAL_ERROR_BAD_CMD_RESPONSE_CMD38 0x0874
                            28534 ; 263  |#define MMC_HAL_ERROR_BAD_CMD_RESPONSE_CMD42 0x0875
                            28535 ; 264  |#define MMC_HAL_ERROR_BAD_CMD_RESPONSE_CMD55 0x0876
                            28536 ; 265  |#define MMC_HAL_ERROR_BAD_CMD_RESPONSE_CMD56 0x0877
                            28537 ; 266  |#define MMC_HAL_ERROR_BAD_CMD_RESPONSE_CMD58 0x0878
                            28538 ; 267  |#define MMC_HAL_ERROR_BAD_CMD_RESPONSE_CMD59 0x0879
                            28539 ; 268  |
                            28540 ; 269  |#define MMC_HAL_ERROR_SD_BAD_CMD_RESPONSE_ACMD13 0x0880
                            28541 ; 270  |#define MMC_HAL_ERROR_SD_BAD_CMD_RESPONSE_ACMD22 0x0881
                            28542 ; 271  |#define MMC_HAL_ERROR_SD_BAD_CMD_RESPONSE_ACMD23 0x0882
                            28543 ; 272  |#define MMC_HAL_ERROR_SD_BAD_CMD_RESPONSE_ACMD41 0x0883
                            28544 ; 273  |#define MMC_HAL_ERROR_SD_BAD_CMD_RESPONSE_ACMD42 0x0884
                            28545 ; 274  |#define MMC_HAL_ERROR_SD_BAD_CMD_RESPONSE_ACMD51 0x0885
                            28546 ; 275  |
                            28547 ; 276  |//;;;;;;; < Library Error Codes > ;;;;;;;;
                            28548 ; 277  |//MATH errors...
                            28549 ; 278  |#define ERRZeroDivide 0x7FFFFF
                            28550 ; 279  |
                            28551 ; 280  |//Memory Pointer errors...
                            28552 ; 281  |#define INVALID_MEMORY_SPACE 0x900000
                            28553 ; 282  |//****************************************************************/
                            28554 ; 283  |#if (!defined(NOERROR))
                            28555 ; 284  |#define NOERROR 0
                            28556 ; 285  |#endif
                            28557 ; 286  |
                            28558 ; 287  |////Added by RAKS
                            28559 ; 288  |
                            28560 ; 289  |#define ERRProgram 0x911111
                            28561 ; 290  |#define ERRNoMedia 0x922222
                            28562 ; 291  |#define ERRHwFail 0x933333   
                            28563 ; 292  |#define ERRInvMedia 0x944444
                            28564 ; 293  |#define ERRBlkFail 0x955555
                            28565 ; 294  |#define ERRInvDataStatus 0x966666
                            28566 ; 295  |#define ERRWriteFail 0x977777
                            28567 ; 296  |#define ERRECCCorr 0x988888
                            28568 ; 297  |#define ERRECCFail 0x999999
                            28569 ; 298  |#define ERRZoneFull 0x9aaaaa
                            28570 ; 299  |#define ERR_PAGE_UNASSIGNED 0x9aaaaB   
                            28571 ; 300  |// Partition Table Error Codes.                 Note 9AAAAA used above and below.
                            28572 ; 301  |//invalid partition table signature. 
                            28573 ; 302  |#define ERRPartTableSignature 0x9AAAAA   
                            28574 ; 303  |//boot ID bad
                            28575 ; 304  |#define ERRBootID 0x9BBBBB   
                            28576 ; 305  |#define ERRBootTableSignature 0x9CCCCC   
                            28577 ; 306  |////Nothing was here : RAKS
                            28578 ; 307  |//JUMP instruction bad
                            28579 ; 308  |#define ERRBootJump 0x9DDDDD  
                            28580 ; 309  |//ID Byte bad
                            28581 ; 310  |#define ERRIDByte 0x9EEEEE  
                            28582 ; 311  |
                            28583 ; 312  |
                            28584 ; 313  |//****************************************************************
                            28585 ; 314  |//        < < <  EMC5600 FAT12 FileSystem  > > >
                            28586 ; 315  |//****************************************************************
                            28587 ; 316  |// Master ERROR File
                            28588 ; 317  |//****************************************************************/
                            28589 ; 318  |// FAT File System Error Codes
                            28590 ; 319  |// corrupt FAT
                            28591 ; 320  |#define FATCorrupt -1        
                            28592 ; 321  |// invalid FAT sector
                            28593 ; 322  |#define DIRInvlaidSector -2        
                            28594 ; 323  |
                            28595 ; 324  |#define FATwarningFreeCx 0x0AFCFC
                            28596 ; 325  |#define FATwarningEndOfChain 0x0AECEC
                            28597 ; 326  |#define FATwarningReservedCx 0x0A1111
                            28598 ; 327  |#define FATwarningBadCx 0x0ABCBC       
                            28599 ; 328  |//FATcxsFree==0 
                            28600 ; 329  |#define FATwarningNoFreeCxs 0x0A0F0F   
                            28601 ; 330  |#define FATwarningBoundaryCx 0x0A2222
                            28602 ; 331  |#define FATwarningWriteBackAborted 0x0A3333
                            28603 ; 332  |
                            28604 ; 333  |#define FATfailedReadPrimaryFAT 0x7F0000
                            28605 ; 334  |#define FATfailedWritePrimaryFAT 0x7FFFFF   
                            28606 ; 335  |#define FATfailedWriteSecondaryFAT 0x7F8888
                            28607 ; 336  |
                            28608 ; 337  |#define FATerrorNoFreeBlocks 0x80A0A0
                            28609 ; 338  |#define FATerrorTableOverFlow 0x80CCCC
                            28610 ; 339  |#define FATerrorClusterUnderFlow 0x80DDDD
                            28611 ; 340  |#define FATerrorClusterOverFlow 0x80EEEE
                            28612 ; 341  |//No Free Cxs on FAT Scan!
                            28613 ; 342  |#define FATerrorNoFreeCxs 0x80FFFF   
                            28614 ; 343  |
                            28615 ; 344  |#define MATHerrorNotPowerOf2 0x802222
                            28616 ; 345  |
                            28617 ; 346  |#define MEDIAerrorFSNotSupported 0x810000
                            28618 ; 347  |#define MEDIAerrorMediaNotUsable 0x811111
                            28619 ; 348  |
                            28620 ; 349  |#define CXerrorValueOverFlow 0x82AAAA
                            28621 ; 350  |#define CXerrorValueUnderFlow 0x82BBBB
                            28622 ; 351  |
                            28623 ; 352  |#define HNDLerrorNoHandles 0x83AAAA
                            28624 ; 353  |#define HNDLerrorInvalidHandle 0x83BBBB
                            28625 ; 354  |#define HNDLerrorInvalidDevice 0x830D0D
                            28626 ; 355  |#define HNDLerrorIndexSect 0x83CCCC
                            28627 ; 356  |
                            28628 ; 357  |#define FCBwarningEndOfFile 0x84EFEF
                            28629 ; 358  |#define FCBerrorCXtoSect 0x84CCCC
                            28630 ; 359  |#define FCBerrorDiskFull 0x84DFDF
                            28631 ; 360  |
                            28632 ; 361  |#define SEEKprefix 0x85
                            28633 ; 362  |#define SEEKerrorAccessDenied 0x85ADAD
                            28634 ; 363  |#define SEEKerrorPassedBeginingOfFile 0x85BFBF
                            28635 ; 364  |#define SEEKerrorCurruptFCB 0x85CCCC
                            28636 ; 365  |#define SEEKerrorPassedEndOfFile 0x85EFEF
                            28637 ; 366  |
                            28638 ; 367  |#define READprefix 0x86
                            28639 ; 368  |#define READerrorMemoryOverFlow 0x860F0F
                            28640 ; 369  |#define READerrorInvalidBufferPntr 0x86BFBF
                            28641 ; 370  |#define READerrorInvalidByteCount 0x86BCBC
                            28642 ; 371  |#define READerrorAccessDenied 0x86ADAD
                            28643 ; 372  |#define READerrorFreeCx 0x860000
                            28644 ; 373  |#define READerrorEndOfChain 0x861111
                            28645 ; 374  |#define READerrorReservedCx 0x862222
                            28646 ; 375  |#define READerrorBadCx 0x863333
                            28647 ; 376  |
                            28648 ; 377  |#define WRITEprefix 0x87
                            28649 ; 378  |#define WRITEerrorMemoryOverFlow 0x870F0F
                            28650 ; 379  |#define WRITEerrorInvalidBufferPntr 0x87BFBF
                            28651 ; 380  |#define WRITEerrorInvalidByteCount 0x87BCBC
                            28652 ; 381  |#define WRITEerrorAccessDenied 0x87ADAD
                            28653 ; 382  |#define WRITEerrorFreeCx 0x870000
                            28654 ; 383  |#define WRITEerrorEndOfChain 0x871111
                            28655 ; 384  |#define WRITEerrorReservedCx 0x872222
                            28656 ; 385  |#define WRITEerrorBadCx 0x873333
                            28657 ; 386  |
                            28658 ; 387  |#define UTILprefix 0x88
                            28659 ; 388  |#define UTILerrorDeviceInvalid 0x88BDBD
                            28660 ; 389  |
                            28661 ; 390  |// Directory Error Codes
                            28662 ; 391  |
                            28663 ; 392  |// invalid DIR sector specified
                            28664 ; 393  |#define ERR_DIRInvalidSector 0xA00000  
                            28665 ; 394  |// PATH search string has invlaid directory
                            28666 ; 395  |#define ERR_DIRInvalidPath 0xA00001  
                            28667 ; 396  |#define ERR_DIR_ALREADY_EXISTS 0xA00002
                            28668 ; 397  |#define ERR_DIR_WRITE_FAILED 0xA00003
                            28669 ; 398  |#define ERR_DIR_NOT_EMPTY 0xA00003
                            28670 ; 399  |// Bad cluster number
                            28671 ; 400  |#define ERR_CLUSTER_OUT_OF_RANGE 0xA11111  
                            28672 ; 401  |// Can't open ROOT
                            28673 ; 402  |#define ERR_OPEN_ROOT 0xA22222  
                            28674 ; 403  |#define ERR_CLUSTER_FLAGGED_BAD 0xA33333 
                            28675 ; 404  |#define ERR_CLUSTER_UNREADABLE 0xA44444 
                            28676 ; 405  |#define ERR_SECTOR_UNREADABLE 0xA44441 
                            28677 ; 406  |// bad record number to read
                            28678 ; 407  |#define ERR_INVLAID_DIR_REQUEST 0xA55555  
                            28679 ; 408  |// record requeste not in range
                            28680 ; 409  |#define ERR_ReadRecordRangeError 0xA66666  
                            28681 ; 410  |// record requeste past end of ROOT
                            28682 ; 411  |#define ERR_ReadPastEndOfROOT 0xA66660  
                            28683 ; 412  |// device number invalid
                            28684 ; 413  |#define ERR_BadDeviceNumber 0xA77777  
                            28685 ; 414  |// FCB Does not popint to a sub-Directory entry
                            28686 ; 415  |#define ERR_FCB_Not_SubDir 0xA88888  
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page 113

M:ADDR CODE           CYCLES LINE SOURCELINE
                            28687 ; 416  |// Path specified is invalid
                            28688 ; 417  |#define ERR_INVLAID_PATH 0xA99999  
                            28689 ; 418  |#define ERR_FILE_NOT_FOUND 0xAAAAAA
                            28690 ; 419  |#define ERR_FILE_EXISTS 0xABBBBB
                            28691 ; 420  |#define ERR_DISK_FULL 0xACCCCC
                            28692 ; 421  |#define ERR_DIR_DEVICE_NOT_READY 0xACCCC0
                            28693 ; 422  |#define ERR_CX_ALLOCATION 0xADDDDD
                            28694 ; 423  |#define ERR_INVALID_MODE 0xAEEEEE
                            28695 ; 424  |
                            28696 ; 425  |#define ERR_DUPLICATE_FILE_NAME 0xAFFFFC
                            28697 ; 426  |#define ERR_FAT_WRITE_FAILED 0xAFFFFD
                            28698 ; 427  |#define ERR_CANT_DELETE_CHAIN 0xAFFFFE
                            28699 ; 428  |#define ERR_FAT_CHAIN_CORRUPT 0xAFFFFF
                            28700 ; 429  |// String Manipulation Error Codes
                            28701 ; 430  |#define ERR_END_OF_STRING 0xABBBB0
                            28702 ; 431  |
                            28703 ; 432  |#endif //@DEF(ERRORS_INC)
                            28704 ; 433  |
                            28705 
                            28707 
                            28708 ; 54   |
                            28709 ; 55   |///////////////////////////////////////////////////////////////////////////////
                            28710 ; 56   |// Typedefs
                            28711 ; 57   |///////////////////////////////////////////////////////////////////////////////
                            28712 ; 58   |
                            28713 ; 59   |typedef void (*MULTI_WRITE_CALLBACK_FUNCTION)(LONG lValue);
                            28714 ; 60   |
                            28715 ; 61   |#include "ddildl\ddildl_defs.h"
                            28716 
                            28718 
                            28719 ; 1    |////////////////////////////////////////////////////////////////////////////////
                            28720 ; 2    |// Copyright(C) SigmaTel, Inc. 2003-2005
                            28721 ; 3    |//
                            28722 ; 4    |// Filename: ddildl_defs.h
                            28723 ; 5    |// Description: 
                            28724 ; 6    |////////////////////////////////////////////////////////////////////////////////
                            28725 ; 7    |
                            28726 ; 8    |#ifndef _DDILDL_DEFS_H
                            28727 ; 9    |#define _DDILDL_DEFS_H
                            28728 ; 10   |
                            28729 ; 11   |///////////////////////////////////////////////////////////////////////////////
                            28730 ; 12   |// Typedefs
                            28731 ; 13   |///////////////////////////////////////////////////////////////////////////////
                            28732 ; 14   |
                            28733 ; 15   |typedef enum {
                            28734 ; 16   |  MediaStateUnknown,
                            28735 ; 17   |  MediaStateErased,
                            28736 ; 18   |  MediaStateAllocated
                            28737 ; 19   |} MEDIA_STATE, * P_MEDIA_STATE;
                            28738 ; 20   |
                            28739 ; 21   |typedef enum {
                            28740 ; 22   |    MediaTypeNand = 0,
                            28741 ; 23   |    MediaTypeMMC = 1,
                            28742 ; 24   |    MediaTypeHDD = 2,
                            28743 ; 25   |    MediaTypeRAM = 3
                            28744 ; 26   |} PHYSICAL_MEDIA_TYPE, * P_PHYSICAL_MEDIA_TYPE;
                            28745 ; 27   |
                            28746 ; 28   |typedef enum {
                            28747 ; 29   |    MediaInfoNumberOfDrives = 0,
                            28748 ; 30   |    MediaInfoSizeInBytes = 1,
                            28749 ; 31   |    MediaInfoAllocationUnitSizeInBytes = 2,
                            28750 ; 32   |    MediaInfoIsInitialized = 3,
                            28751 ; 33   |    MediaInfoMediaState = 4,
                            28752 ; 34   |    MediaInfoIsWriteProtected = 5,
                            28753 ; 35   |    MediaInfoPhysicalMediaType = 6,
                            28754 ; 36   |    MediaInfoSizeOfSerialNumberInBytes = 7,
                            28755 ; 37   |    MediaInfoSerialNumber = 8,
                            28756 ; 38   |    MediaInfoIsSystemMedia = 9,
                            28757 ; 39   |    MediaInfoIsMediaPresent = 10
                            28758 ; 40   |} LOGICAL_MEDIA_INFO, * P_LOGICAL_MEDIA_INFO;
                            28759 ; 41   |
                            28760 ; 42   |#ifdef MFG_TOOL
                            28761 ; 43   |  
                            28762 ; 44   |typedef enum {
                            28763 ; 45   |    SerialNoInfoSizeOfSerialNumberInBytes = 0,
                            28764 ; 46   |    SerialNoInfoSerialNumber = 1
                            28765 ; 47   |} SERIAL_NO_INFO, * P_SERIAL_NO_INFO;
                            28766 ; 48   |#endif
                            28767 ; 49   |
                            28768 ; 50   |typedef enum {
                            28769 ; 51   |    DriveInfoSectorSizeInBytes = 0,
                            28770 ; 52   |    DriveInfoEraseSizeInBytes = 1,
                            28771 ; 53   |    DriveInfoSizeInBytes = 2,
                            28772 ; 54   |    DriveInfoSizeInMegaBytes = 3,
                            28773 ; 55   |    DriveInfoSizeInSectors = 4,
                            28774 ; 56   |    DriveInfoType = 5,
                            28775 ; 57   |    DriveInfoTag = 6,
                            28776 ; 58   |    DriveInfoComponentVersion = 7,
                            28777 ; 59   |    DriveInfoProjectVersion = 8,
                            28778 ; 60   |    DriveInfoIsWriteProtected = 9,
                            28779 ; 61   |    DriveInfoSizeOfSerialNumberInBytes = 10,
                            28780 ; 62   |    DriveInfoSerialNumber = 11,
                            28781 ; 63   |    DriveInfoMediaPresent = 12,
                            28782 ; 64   |    DriveInfoMediaChange = 13,
                            28783 ; 65   |    DriveInfoSectorAllocation = 14
                            28784 ; 66   |} LOGICAL_DRIVE_INFO, * P_LOGICAL_DRIVE_INFO;
                            28785 ; 67   |
                            28786 ; 68   |#define DRIVE_TAG_STMPSYS_S         0x00        //!< player drive tag.
                            28787 ; 69   |#define DRIVE_TAG_HOSTLINK_S        0x01        //!< UsbMscMtp drive tag, old name was DRIVE_TAG_USBMSC_S. 
                            28788 ; 70   |#define DRIVE_TAG_RESOURCE_BIN      0x02        //!< player resource drive tag.
                            28789 ; 71   |#define DRIVE_TAG_EXTRA_S           0x03        //!< the host has 0x03 reserved for an extra system drive.
                            28790 ; 72   |// if you change line below, also change this equ: asm_DRIVE_TAG_RESOURCE1_BIN in player main.asm!! Values must match. 
                            28791 ; 73   |#define DRIVE_TAG_RESOURCE1_BIN (DRIVE_TAG_RESOURCE_BIN+0x10)//<! was just 0x04. old comment"the host has 0x04 reserved for an extra system drive." May17'06 JLN: correction: ChrisW says 0x10+resource.bin tag is ta
                                  g for 2nd ver of resource.bin in new 2.61x post sdkrelease updater. 
                            28792 ; 74   |#define DRIVE_TAG_RESOURCE2_BIN (DRIVE_TAG_RESOURCE_BIN+0x20)// master has tag 0x22 (3rd copy)
                            28793 ; 75   |#define DRIVE_TAG_OTGHOST_S         0x05        //!< the host has 0x05 reserved for OTG drive.
                            28794 ; 76   |#define DRIVE_TAG_HOSTRSC_BIN       0x06        //!< UsbMscMtp resource drive tag, old name was DRIVE_TAG_MTP_BIN.
                            28795 ; 77   |#define DRIVE_TAG_DATA              0x0A        //!< data drive tag.
                            28796 ; 78   |#define DRIVE_TAG_DATA_HIDDEN       0x0B        //!< hidden data drive tag, old name was DRIVE_TAG_HIDDEN
                            28797 ; 79   |#define DRIVE_TAG_BOOTMANAGER_S     0x50        //!< boot manager drive tag
                            28798 ; 80   |#define DRIVE_TAG_UPDATER_S         0xFF        //!< the host has 0xFF reserved for usbmsc.sb file used in recovery mode operation only.
                            28799 ; 81   |#define DRIVE_TAG_HOSTRSC1_BIN      0x16        //!< back up resource for hostrsrc.bin.
                            28800 ; 82   |#define DRIVE_TAG_HOSTRSC2_BIN      0x26        //!< MASTER COPY resource for hostrsrc.bin.
                            28801 ; 83   |// Do not use this enum... use the defs above.  We need to use defs so customers
                            28802 ; 84   |//  may extend the system drives without DDI source code.
                            28803 ; 85   |/*
                            28804 ; 86   |typedef enum {
                            28805 ; 87   |    ResourceBinDriveTag = 0x00,
                            28806 ; 88   |    BootManagerDriveTag = 0x50,
                            28807 ; 89   |    StmpSysDriveTag = 0x01,
                            28808 ; 90   |    UsbMscDriveTag = 0x02,
                            28809 ; 91   |    DataDriveTag = 0x0A
                            28810 ; 92   |} LOGICAL_DRIVE_TAG, * P_LOGICAL_DRIVE_TAG;
                            28811 ; 93   |*/
                            28812 ; 94   |
                            28813 ; 95   |typedef enum {
                            28814 ; 96   |    DriveTypeData = 0,
                            28815 ; 97   |    DriveTypeSystem = 1,
                            28816 ; 98   |    DriveTypeHidden = 2,
                            28817 ; 99   |    DriveTypeUnknown = 3
                            28818 ; 100  |} LOGICAL_DRIVE_TYPE, * P_LOGICAL_DRIVE_TYPE;
                            28819 
                            28826 
                            28827 ; 101  |
                            28828 ; 102  |typedef struct {
                            28829 ; 103  |    WORD wDriveNumber;          // In reference to the entire system
                            28830 ; 104  |    LOGICAL_DRIVE_TYPE Type;
                            28831 ; 105  |    WORD wTag;
                            28832 ; 106  |    DWORD dwSizeInBytes;
                            28833 ; 107  |    BOOL bRequired;
                            28834 ; 108  |} MEDIA_ALLOCATION_TABLE_ENTRY, * P_MEDIA_ALLOCATION_TABLE_ENTRY;
                            28835 
                            28843 
                            28844 ; 109  |
                            28845 ; 110  |typedef struct {
                            28846 ; 111  |    WORD wNumEntries;
                            28847 ; 112  |    MEDIA_ALLOCATION_TABLE_ENTRY Entry[MAX_MEDIA_TABLE_ENTRIES];
                            28848 ; 113  |} MEDIA_ALLOCATION_TABLE, * P_MEDIA_ALLOCATION_TABLE;
                            28849 ; 114  |
                            28850 ; 115  |
                            28851 ; 116  |#define TA6_ROM_REV_ID  6
                            28852 ; 117  |#define ROM_REV_ID  (*((WORD _X *)0xFA02) & 0x0F)
                            28853 ; 118  |
                            28854 ; 119  | 
                            28855 ; 120  |typedef union {
                            28856 ; 121  |
                            28857 ; 122  |    struct {
                            28858 ; 123  |        WORD MinorL      : 8;
                            28859 ; 124  |        WORD MinorH      : 8;
                            28860 ; 125  |        WORD MiddleL     : 8;
                            28861 ; 126  |        WORD MiddleH     : 8;
                            28862 ; 127  |        WORD MajorL      : 8;
                            28863 ; 128  |        WORD MajorH      : 8;
                            28864 ; 129  |        } PARTIAL_VERSION;
                            28865 ; 130  |        
                            28866 ; 131  |    DWORD   Version;        
                            28867 ; 132  |
                            28868 ; 133  |} SYSTEM_VERSION;
                            28869 ; 134  |
                            28870 ; 135  |
                            28871 ; 136  |#endif // #ifndef _DDILDL_DEFS_H
                            28872 
                            28874 
                            28875 ; 62   |
                            28876 ; 63   |///////////////////////////////////////////////////////////////////////////////
                            28877 ; 64   |// Prototypes
                            28878 ; 65   |// Note that these are prototypes for the highest level access to the DDI.
                            28879 ; 66   |//  The LDL steering mechanism converts the wLogMediaNumber & wLogDriveNumber
                            28880 ; 67   |//  parameters & passes pointers to the media/drive desctriptrs to the DDIs.
                            28881 ; 68   |///////////////////////////////////////////////////////////////////////////////
                            28882 ; 69   |RETCODE _reentrant MediaInit(WORD wLogMediaNumber);
                            28883 ; 70   |RETCODE _reentrant MediaAllocate(WORD wLogMediaNumber,
                            28884 
                            28892 
                            28893 ; 71   |    P_MEDIA_ALLOCATION_TABLE pMediaTable);
                            28894 ; 72   |RETCODE _reentrant MediaDiscoverAllocation(WORD wLogMediaNumber);
                            28895 ; 73   |RETCODE _reentrant MediaGetMediaTable(WORD wLogMediaNumber,
                            28896 ; 74   |    P_MEDIA_ALLOCATION_TABLE *pMediaTable);
                            28897 ; 75   |RETCODE _reentrant MediaGetInfo(WORD wLogMediaNumber, LOGICAL_MEDIA_INFO Type,
                            28898 
                            28912 
                            28913 ; 76   |    void * _Y pInfo);
                            28914 ; 77   |RETCODE _reentrant MediaErase(WORD wLogMediaNumber, WORD wMagicNumber);
                            28915 ; 78   |
                            28916 ; 79   |RETCODE _reentrant DriveInit(WORD wLogDriveNumber);
                            28917 ; 80   |RETCODE _reentrant DriveGetInfo(WORD wLogDriveNumber, LOGICAL_DRIVE_INFO Type,
                            28918 
                            28936 
                            28937 ; 81   |    void * pInfo);
                            28938 ; 82   |RETCODE _reentrant DriveSetInfo(WORD wLogDriveNumber, LOGICAL_DRIVE_INFO Type,
                            28939 ; 83   |    void * pInfo);
                            28940 ; 84   |RETCODE _reentrant DriveReadSector(WORD wLogDriveNumber, DWORD dwSectorNumber,
                            28941 
                            28945 
                            28946 ; 85   |    P_SECTOR_BUFFER pSectorData);
                            28947 ; 86   |RETCODE _reentrant DriveWriteSector(WORD wLogDriveNumber, DWORD dwSectorNumber,
                            28948 ; 87   |    P_SECTOR_BUFFER pSectorData);
                            28949 ; 88   |RETCODE _reentrant DriveMultiWriteSetup(WORD wLogDriveNumber,
                            28950 ; 89   |    DWORD dwStartSectorNumber, WORD wSectorCount,
                            28951 
                            28956 
                            28957 ; 90   |    MULTI_WRITE_CALLBACK_FUNCTION pCallBackFunction);
                            28958 ; 91   |RETCODE _reentrant DriveMultiWriteSector(WORD wLogDriveNumber,
                            28959 ; 92   |    P_SECTOR_BUFFER pSectorData, LONG lCallBackPassThru);
                            28960 ; 93   |RETCODE _reentrant DriveErase(WORD wLogDriveNumber, WORD wMagicNumber);
                            28961 ; 94   |RETCODE _reentrant DriveFlush(WORD wDriveNumber);
                            28962 ; 95   |
                            28963 ; 96   |RETCODE DdiInitAll(void);
                            28964 ; 97   |
                            28965 ; 98   |
                            28966 ; 99   |#endif // #ifndef _DDILDL_H
                            28967 
                            28969 
                            28970 ; 58   |#include "batterycharge.h"
                            28971 
                            28973 
                            28974 ; 1    |#ifndef __BATTERYCHARGE_H
                            28975 ; 2    |#define __BATTERYCHARGE_H
                            28976 ; 3    |
                            28977 ; 4    |//entry point for menus. function called via SysCallFunction()
                            28978 ; 5    |#ifdef STMP_BUILD_PLAYER
                            28979 ; 6    |_reentrant int BatteryChargeStateMachine(int a, int b, int *c);
                            28980 ; 7    |#else
                            28981 ; 8    |_reentrant void BatteryChargeStateMachine(void);
                            28982 ; 9    |#endif
                            28983 ; 10   |
                            28984 ; 11   |_reentrant WORD BatteryChargeInitialize(void);
                            28985 ; 12   |_reentrant void BatteryChargeDisableCharging(BOOL);
                            28986 ; 13   |_reentrant void BatteryChargeEnableCharging(void);
                            28987 ; 14   |_reentrant BOOL BatteryChargeIsCharging(void);
                            28988 ; 15   |_reentrant BOOL BatteryChargeIsTrickleCharging(void);
                            28989 ; 16   |
                            28990 ; 17   |_reentrant WORD BatteryChargeImplementationInitialize(void);
                            28991 ; 18   |_reentrant void BatteryChargeImplementationSample(BOOL);
                            28992 ; 19   |_reentrant WORD BatteryChargeImplementatonGetCurrentLimit(void);
                            28993 ; 20   |
                            28994 ; 21   |
                            28995 ; 22   |#endif 
                            28996 
                            28998 
                            28999 ; 59   |#include "playmodemenu.h"
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page 114

M:ADDR CODE           CYCLES LINE SOURCELINE
                            29000 
                            29002 
                            29003 ; 1    |#ifndef _PLAYMODE_H
                            29004 ; 2    |#define _PLAYMODE_H
                            29005 ; 3    |
                            29006 ; 4    |#include "types.h"
                            29007 
                            29009 
                            29010 ; 1    |////////////////////////////////////////////////////////////////////////////////
                            29011 ; 2    |// Copyright(C) SigmaTel, Inc. 2000-2004
                            29012 ; 3    |//
                            29013 ; 4    |// Filename: types.h
                            29014 ; 5    |// Description: Standard data types
                            29015 ; 6    |////////////////////////////////////////////////////////////////////////////////
                            29016 ; 7    |
                            29017 ; 8    |#ifndef _TYPES_H
                            29018 ; 9    |#define _TYPES_H
                            29019 ; 10   |
                            29020 ; 11   |// TODO:  move this outta here!
                            29021 ; 12   |#if !defined(NOERROR)
                            29022 ; 13   |#define NOERROR 0
                            29023 ; 14   |#define SUCCESS 0
                            29024 ; 15   |#endif 
                            29025 ; 16   |#if !defined(SUCCESS)
                            29026 ; 17   |#define SUCCESS  0
                            29027 ; 18   |#endif
                            29028 ; 19   |#if !defined(ERROR)
                            29029 ; 20   |#define ERROR   -1
                            29030 ; 21   |#endif
                            29031 ; 22   |#if !defined(FALSE)
                            29032 ; 23   |#define FALSE 0
                            29033 ; 24   |#endif
                            29034 ; 25   |#if !defined(TRUE)
                            29035 ; 26   |#define TRUE  1
                            29036 ; 27   |#endif
                            29037 ; 28   |
                            29038 ; 29   |#if !defined(NULL)
                            29039 ; 30   |#define NULL 0
                            29040 ; 31   |#endif
                            29041 ; 32   |
                            29042 ; 33   |#define MAX_INT     0x7FFFFF
                            29043 ; 34   |#define MAX_LONG    0x7FFFFFffffff
                            29044 ; 35   |        // max positive unsigned long value: -1 == 0xFFFFFFffffff
                            29045 ; 36   |#define MAX_ULONG   (-1) 
                            29046 ; 37   |
                            29047 ; 38   |#define WORD_SIZE   24              // word size in bits
                            29048 ; 39   |#define BYTES_PER_WORD 3            // 8 bit bytes
                            29049 ; 40   |
                            29050 ; 41   |
                            29051 ; 42   |#define BYTE    unsigned char       // btVarName
                            29052 ; 43   |#define CHAR    signed char         // cVarName
                            29053 ; 44   |#define USHORT  unsigned short      // usVarName
                            29054 ; 45   |#define SHORT   unsigned short      // sVarName
                            29055 ; 46   |#define WORD    unsigned int        // wVarName
                            29056 ; 47   |#define INT     signed int          // iVarName
                            29057 ; 48   |#define DWORD   unsigned long       // dwVarName
                            29058 ; 49   |#define LONG    signed long         // lVarName
                            29059 ; 50   |#define BOOL    unsigned int        // bVarName
                            29060 ; 51   |#define FRACT   _fract              // frVarName
                            29061 ; 52   |#define LFRACT  long _fract         // lfrVarName
                            29062 ; 53   |#define CIRC    _circ               // cp<type prefix>VarName (see below)
                            29063 ; 54   |#define FLOAT   float               // fVarName
                            29064 ; 55   |#define DBL     double              // dVarName
                            29065 ; 56   |#define ENUM    enum                // eVarName
                            29066 ; 57   |#define CMX     _complex            // cmxVarName
                            29067 ; 58   |typedef WORD UCS3;                   // 
                            29068 ; 59   |
                            29069 ; 60   |#define UINT16  unsigned short
                            29070 ; 61   |#define UINT8   unsigned char   
                            29071 ; 62   |#define UINT32  unsigned long
                            29072 ; 63   |#define UINT64  unsigned long   // need to figure out how to do 64 bit values.  Or port exisiting code to only use 48 bit
                            29073 ; 64   |#define INT64   unsigned long   // need to figure out how to do 64 bit values.  Or port exisiting code to only use 48 bit
                            29074 ; 65   |#define WCHAR   UINT16
                            29075 ; 66   |
                            29076 ; 67   |//UINT128 is 16 bytes or 6 words
                            29077 ; 68   |typedef struct UINT128_3500 {   
                            29078 ; 69   |    int val[6];     
                            29079 ; 70   |} UINT128_3500;
                            29080 ; 71   |
                            29081 ; 72   |#define UINT128   UINT128_3500
                            29082 ; 73   |
                            29083 ; 74   |// Little endian word packed byte strings:   
                            29084 ; 75   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                            29085 ; 76   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                            29086 ; 77   |// Little endian word packed byte strings:   
                            29087 ; 78   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                            29088 ; 79   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                            29089 ; 80   |
                            29090 ; 81   |// Declare Memory Spaces To Use When Coding
                            29091 ; 82   |// A. Sector Buffers
                            29092 ; 83   |#define SECTOR_BUFFER_MEM_X _X
                            29093 ; 84   |#define SECTOR_BUFFER_MEM_Y _Y
                            29094 ; 85   |#define SECTOR_BUFFER_MEM SECTOR_BUFFER_MEM_X
                            29095 ; 86   |typedef WORD SECTOR_BUFFER_MEM SECTOR_BUFFER;
                            29096 ; 87   |typedef SECTOR_BUFFER * P_SECTOR_BUFFER;
                            29097 ; 88   |// B. Media DDI Memory
                            29098 ; 89   |#define MEDIA_DDI_MEM _Y
                            29099 ; 90   |
                            29100 ; 91   |
                            29101 ; 92   |
                            29102 ; 93   |// Pointers to linear structures are labeled as: p<type prefix>VarName
                            29103 ; 94   |// Examples of circular pointers:
                            29104 ; 95   |//    INT CIRC cpiVarName
                            29105 ; 96   |//    DWORD CIRC cpdwVarName
                            29106 ; 97   |
                            29107 ; 98   |#define RETCODE INT                 // rcVarName
                            29108 ; 99   |
                            29109 ; 100  |// generic bitfield structure
                            29110 ; 101  |struct Bitfield {
                            29111 ; 102  |    unsigned int B0  :1;
                            29112 ; 103  |    unsigned int B1  :1;
                            29113 ; 104  |    unsigned int B2  :1;
                            29114 ; 105  |    unsigned int B3  :1;
                            29115 ; 106  |    unsigned int B4  :1;
                            29116 ; 107  |    unsigned int B5  :1;
                            29117 ; 108  |    unsigned int B6  :1;
                            29118 ; 109  |    unsigned int B7  :1;
                            29119 ; 110  |    unsigned int B8  :1;
                            29120 ; 111  |    unsigned int B9  :1;
                            29121 ; 112  |    unsigned int B10 :1;
                            29122 ; 113  |    unsigned int B11 :1;
                            29123 ; 114  |    unsigned int B12 :1;
                            29124 ; 115  |    unsigned int B13 :1;
                            29125 ; 116  |    unsigned int B14 :1;
                            29126 ; 117  |    unsigned int B15 :1;
                            29127 ; 118  |    unsigned int B16 :1;
                            29128 ; 119  |    unsigned int B17 :1;
                            29129 ; 120  |    unsigned int B18 :1;
                            29130 ; 121  |    unsigned int B19 :1;
                            29131 ; 122  |    unsigned int B20 :1;
                            29132 ; 123  |    unsigned int B21 :1;
                            29133 ; 124  |    unsigned int B22 :1;
                            29134 ; 125  |    unsigned int B23 :1;
                            29135 ; 126  |};
                            29136 ; 127  |
                            29137 ; 128  |union BitInt {
                            29138 ; 129  |        struct Bitfield B;
                            29139 ; 130  |        int        I;
                            29140 ; 131  |};
                            29141 ; 132  |
                            29142 ; 133  |#define MAX_MSG_LENGTH 10
                            29143 ; 134  |struct CMessage
                            29144 ; 135  |{
                            29145 ; 136  |        unsigned int m_uLength;
                            29146 ; 137  |        unsigned int m_uMsg[MAX_MSG_LENGTH];
                            29147 ; 138  |};
                            29148 ; 139  |
                            29149 ; 140  |typedef struct {
                            29150 ; 141  |    WORD m_wLength;
                            29151 ; 142  |    WORD m_wMessage;
                            29152 ; 143  |    WORD m_wParams[MAX_MSG_LENGTH];
                            29153 ; 144  |} Message;
                            29154 ; 145  |
                            29155 ; 146  |struct MessageQueueDescriptor
                            29156 ; 147  |{
                            29157 ; 148  |        int *m_pBase;
                            29158 ; 149  |        int m_iModulo;
                            29159 ; 150  |        int m_iSize;
                            29160 ; 151  |        int *m_pHead;
                            29161 ; 152  |        int *m_pTail;
                            29162 ; 153  |};
                            29163 ; 154  |
                            29164 ; 155  |struct ModuleEntry
                            29165 ; 156  |{
                            29166 ; 157  |    int m_iSignaledEventMask;
                            29167 ; 158  |    int m_iWaitEventMask;
                            29168 ; 159  |    int m_iResourceOfCode;
                            29169 ; 160  |    struct MessageQueueDescriptor *m_pMessageQueue;
                            29170 ; 161  |    int _asmfunc (*m_pProcessEntryPoint)(union WaitMask Signals,struct MessageQueueDescriptor *);
                            29171 ; 162  |    int _asmfunc (*m_pInitFunction)(struct MessageQueueDescriptor *);
                            29172 ; 163  |    int m_uTimeOutHigh;
                            29173 ; 164  |    int m_uTimeOutLow;
                            29174 ; 165  |    int _asmfunc (*m_pBackgroundFunction)(struct MessageQueueDescriptor *);
                            29175 ; 166  |};
                            29176 ; 167  |
                            29177 ; 168  |union WaitMask{
                            29178 ; 169  |    struct B{
                            29179 ; 170  |        unsigned int m_bNone     :1;
                            29180 ; 171  |        unsigned int m_bMessage  :1;
                            29181 ; 172  |        unsigned int m_bTimer    :1;
                            29182 ; 173  |        unsigned int m_bButton   :1;
                            29183 ; 174  |    } B;
                            29184 ; 175  |    int I;
                            29185 ; 176  |} ;
                            29186 ; 177  |
                            29187 ; 178  |
                            29188 ; 179  |struct Button {
                            29189 ; 180  |        WORD wButtonEvent;
                            29190 ; 181  |        WORD wUnused[MAX_MSG_LENGTH];   
                            29191 ; 182  |};
                            29192 ; 183  |
                            29193 ; 184  |struct Message {
                            29194 ; 185  |        WORD wMsgLength;
                            29195 ; 186  |        WORD wMsgCommand;
                            29196 ; 187  |        WORD wMsgParms[MAX_MSG_LENGTH-1];
                            29197 ; 188  |};
                            29198 ; 189  |
                            29199 ; 190  |union EventTypes {
                            29200 ; 191  |        struct CMessage msg;
                            29201 ; 192  |        struct Button Button ;
                            29202 ; 193  |        struct Message Message;
                            29203 ; 194  |};
                            29204 ; 195  |
                            29205 ; 196  |// next 2 used to get updater build to return correct protocol ver in scsi response.
                            29206 ; 197  |#define BUILD_TYPE_UPDATER  0x100
                            29207 ; 198  |#define BUILD_TYPE_HOSTLINK 0x101
                            29208 ; 199  |#define BUILD_TYPE_PLAYER   0x102
                            29209 ; 200  |
                            29210 ; 201  |// Resets part if RETAIL build. DEBUG build executes debug instruction to halt.
                            29211 ; 202  |#define SystemHalt() __asm(" include 'sysmacro.asm' \n error") 
                            29212 ; 203  |#define assert(x)    if(!(x)) __asm(" include 'sysmacro.asm' \n error")
                            29213 ; 204  |
                            29214 ; 205  |#if DEBUG
                            29215 ; 206  |// For DEBUG builds, DebugBuildAssert(condition) halts if condition evaluates to FALSE. 
                            29216 ; 207  |#define DebugBuildAssert(x)    if(!(x)) __asm(" debug ")
                            29217 ; 208  |#else 
                            29218 ; 209  |// For RETAIL builds, DebugBuildAssert(condition) does nothing & execution continues rather than halt or reset. 
                            29219 ; 210  |#define DebugBuildAssert(x)    
                            29220 ; 211  |#endif
                            29221 ; 212  |
                            29222 ; 213  |// Do this in your C files to make a reminder that's displayed during the build.
                            29223 ; 214  |//  #pragma asm
                            29224 ; 215  |//  WARN 'Note to builder: reminder to do this after verifying that'
                            29225 ; 216  |//  #pragma endasm
                            29226 ; 217  |
                            29227 ; 218  |
                            29228 ; 219  |#ifdef COLOR_262K
                            29229 ; 220  |#define RGB(r,g,b)    ((0x0000FC & (r)) << 10) | ((0x0000FC & (g)) << 4) | ((0x0000FC & (b)) >> 2)    //262k
                            29230 ; 221  |#elif defined(COLOR_65K)
                            29231 ; 222  |#define RGB(r,g,b)    ((0x0000F8 & (r)) << 8) | ((0x0000FC & (g)) << 3) | ((0x0000F8 & (b)) >> 3)  //65k
                            29232 ; 223  |#else
                            29233 ; 224  |#define RGB(r,g,b)       ((0x0000F0 & (r)) << 4) | (0x0000F0 & (g)) | ((0x0000F0 & (b)) >> 4)
                            29234 ; 225  |#endif
                            29235 ; 226  |    
                            29236 ; 227  |#endif // #ifndef _TYPES_H
                            29237 
                            29239 
                            29240 ; 5    |
                            29241 ; 6    |// order of PLAYMODE selection
                            29242 ; 7    |// must match order of struct MenuItem defined in eqmenu.c
                            29243 ; 8    |#define FIRST_PM        0
                            29244 ; 9    |#define PM_NORMAL       0
                            29245 ; 10   |#define PM_REPEAT1      1
                            29246 ; 11   |#define PM_REPEATALL    2
                            29247 ; 12   |#define LAST_VOICE_PM   2
                            29248 ; 13   |#define PM_SHUFFLE              3   
                            29249 ; 14   |#define PM_SHUFFLE_REPEAT 4 
                            29250 ; 15   |#define LAST_PM     4
                            29251 ; 16   |#define PMMENU_COUNT   (LAST_PM+1)
                            29252 ; 17   |
                            29253 ; 18   |#ifdef S6B33B0A_LCD
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page 115

M:ADDR CODE           CYCLES LINE SOURCELINE
                            29254 ; 19   |#define PMMENU_PAGE1_COUNT      PMMENU_COUNT
                            29255 ; 20   |#endif
                            29256 ; 21   |
                            29257 ; 22   |#ifdef SED15XX_LCD
                            29258 ; 23   |#define PMMENU_PAGE1_COUNT      4
                            29259 ; 24   |#endif
                            29260 ; 25   |
                            29261 ; 26   |//Repeat Message Parameters
                            29262 ; 27   |#define REPEAT_OFF         0
                            29263 ; 28   |#define REPEAT_ONE         1
                            29264 ; 29   |#define REPEAT_ALL         2
                            29265 ; 30   |//#define REPEAT_SONG        2
                            29266 ; 31   |
                            29267 ; 32   |//Shuffle Message Parameters
                            29268 ; 33   |#define SHUFFLE_OFF        0
                            29269 ; 34   |#define SHUFFLE_ON         1
                            29270 ; 35   |
                            29271 ; 36   |extern INT g_iPlayModeSetting;
                            29272 ; 37   |#ifdef USE_PLAYLIST3
                            29273 ; 38   |extern INT  g_shuffle_start;
                            29274 ; 39   |extern INT  g_iShuffleSetting;   // Shuffle Setting
                            29275 ; 40   |extern INT  g_iRepeatSetting;    // Repeat Setting
                            29276 ; 41   |#endif  // USE_PLAYLIST3
                            29277 ; 42   |
                            29278 ; 43   |#endif
                            29279 
                            29281 
                            29282 ; 60   |//#include "sysequ.h"
                            29283 ; 61   |#define DECODER_TYPE_WMA 1
                            29284 ; 62   |#include "RestoreDriveFromBackup.h"
                            29285 
                            29287 
                            29288 ; 1    |// filename restoredrivefrombackup.h
                            29289 ; 2    |#define FIRST_SYSTEM_DRIVE_TAG      (0x02)
                            29290 ; 3    |#define SECOND_SYSTEM_DRIVE_TAG     (0x12)
                            29291 ; 4    |#define MASTER_SYSTEM_DRIVE_TAG     (0x22) //????
                            29292 ; 5    |
                            29293 ; 6    |#ifdef MMC
                            29294 ; 7    |#define FIRST_SYSTEM_DRIVE_NUMBER   (6)
                            29295 ; 8    |#define SECOND_SYSTEM_DRIVE_NUMBER  (7)
                            29296 ; 9    |#define MASTER_SYSTEM_DRIVE_NUMBER  (8) //????
                            29297 ; 10   |#else
                            29298 ; 11   |#define FIRST_SYSTEM_DRIVE_NUMBER   (5)
                            29299 ; 12   |#define SECOND_SYSTEM_DRIVE_NUMBER  (6)
                            29300 ; 13   |#define MASTER_SYSTEM_DRIVE_NUMBER  (7) //????
                            29301 ; 14   |#endif
                            29302 ; 15   |
                            29303 ; 16   |extern WORD g_wPlayerResourceTag;
                            29304 ; 17   |extern WORD wResourceDrive;
                            29305 ; 18   |extern WORD wResourceTag;
                            29306 ; 19   |extern BOOL g_bResourceGetDirty;
                            29307 ; 20   |extern BOOL g_bEraseComplete;
                            29308 ; 21   |
                            29309 ; 22   |_reentrant WORD RefreshSystemDriveErrorBlock(void);
                            29310 ; 23   |_reentrant WORD SequentialRefreshSystemDriveErrorBlock(void);
                            29311 ; 24   |_reentrant WORD EraseBadSystemBlock(void);
                            29312 ; 25   |_reentrant WORD RefreshBadBlockSector(void);
                            29313 ; 26   |_reentrant WORD IsSystemDriveDirty(void);
                            29314 ; 27   |_reentrant WORD MarkSystemDriveDirty(void);
                            29315 ; 28   |_reentrant WORD MarkSystemDriveClean(void);
                            29316 ; 29   |_reentrant WORD ToggleSystemDrive(void);
                            29317 ; 30   |_reentrant void RebootNow(void);
                            29318 ; 31   |
                            29319 ; 32   |_reentrant int RestoreDriveFromBackup(int iDestinationDriveNum, int iSourceDriveNum); // logical
                            29320 ; 33   |_reentrant int GetLogicalDriveNumForActiveResourceBin(void);
                            29321 ; 34   |_reentrant int EraseSystemDriveBlock(void);
                            29322 ; 35   |_reentrant int PartialRestoreDriveFromBackup(BOOL bSequentialReplace); // logical
                            29323 ; 36   |
                            29324 ; 37   |
                            29325 ; 38   |
                            29326 
                            29328 
                            29329 ; 63   |#ifdef USE_PLAYLIST3
                            29330 ; 64   |#include "musiclib_ghdr.h"
                            29331 
                            29333 
                            29334 ; 1    |#ifndef MUSICLIB_GHDR_H
                            29335 ; 2    |#define MUSICLIB_GHDR_H
                            29336 ; 3    |
                            29337 ; 4    |#ifdef __cplusplus
                            29338 ; 5    |extern "C" {
                            29339 ; 6    |#endif
                            29340 ; 7    |
                            29341 ; 8    |/*==================================================================================================
                            29342 ; 9    |
                            29343 ; 10   |                                        General Description
                            29344 ; 11   |
                            29345 ; 12   |====================================================================================================
                            29346 ; 13   |
                            29347 ; 14   |                               Sigmatel Inc Confidential Proprietary
                            29348 ; 15   |                               (c) Copyright Sigmatel Inc 2004, All Rights Reserved
                            29349 ; 16   |
                            29350 ; 17   |HEADER NAME: mf_sf_filename.h   AUTHOR: Developer Name      CREATION DATE: DD/MM/YYYY
                            29351 ; 18   |
                            29352 ; 19   |PRODUCT NAMES: All
                            29353 ; 20   |
                            29354 ; 21   |GENERAL DESCRIPTION:
                            29355 ; 22   |
                            29356 ; 23   |    General description of this grouping of functions.
                            29357 ; 24   |
                            29358 ; 25   |Portability: All
                            29359 ; 26   |
                            29360 ; 27   |
                            29361 ; 28   |Revision History:
                            29362 ; 29   |
                            29363 ; 30   |                         Modification        Tracking
                            29364 ; 31   |Author                       Date             Number           Description of Changes
                            29365 ; 32   |---------------------    ------------        ----------        -------------------------------------
                            29366 ; 33   |Developer Name            DD/MM/YYYY         PDaaaxxxxx        brief description of changes made
                            29367 ; 34   |
                            29368 ; 35   |
                            29369 ; 36   |====================================================================================================
                            29370 ; 37   |                                            DESCRIPTION
                            29371 ; 38   |====================================================================================================
                            29372 ; 39   |
                            29373 ; 40   |GLOBAL FUNCTIONS:
                            29374 ; 41   |    MF_global_func_name()
                            29375 ; 42   |
                            29376 ; 43   |TRACEABILITY MATRIX:
                            29377 ; 44   |    None
                            29378 ; 45   |
                            29379 ; 46   |==================================================================================================*/
                            29380 ; 47   |
                            29381 ; 48   |/*==================================================================================================
                            29382 ; 49   |                                                                Conditional Compilation Directives
                            29383 ; 50   |==================================================================================================*/
                            29384 ; 51   |#ifdef WIN32
                            29385 ; 52   |#define _PC_SIMULATION_
                            29386 ; 53   |#else
                            29387 ; 54   |#define _RUNNING_IN_EMBEDDED_
                            29388 ; 55   |#endif  // WIN32
                            29389 ; 56   |
                            29390 ; 57   |#if 1
                            29391 ; 58   |#define _NEWMUSIC_      /* install new music list */
                            29392 ; 59   |#endif
                            29393 ; 60   |
                            29394 ; 61   |#if 1
                            29395 ; 62   |#define _AUDIBLE_       /* install audible list */
                            29396 ; 63   |#endif
                            29397 ; 64   |
                            29398 ; 65   |#if 1
                            29399 ; 66   |#define _ONTHEGO_       /* install on the go list */
                            29400 ; 67   |#endif
                            29401 ; 68   |
                            29402 ; 69   |#ifdef PL3_FB
                            29403 ; 70   |#define _FOLDER_BROWSE_ // install folder browsing
                            29404 ; 71   |#endif
                            29405 ; 72   |
                            29406 ; 73   |#if 1
                            29407 ; 74   |#define _SUPPORT_2000_SONGS_
                            29408 ; 75   |#endif
                            29409 ; 76   |
                            29410 ; 77   |/*==================================================================================================
                            29411 ; 78   |                                           INCLUDE FILES
                            29412 ; 79   |==================================================================================================*/
                            29413 ; 80   |#ifdef _RUNNING_IN_EMBEDDED_
                            29414 ; 81   |#define OEM_SEEK_CUR    SEEK_CUR
                            29415 ; 82   |#define OEM_SEEK_SET    SEEK_SET
                            29416 ; 83   |#define OEM_SEEK_END    SEEK_END
                            29417 ; 84   |#else
                            29418 ; 85   |#define _X
                            29419 ; 86   |#define _Y
                            29420 ; 87   |#define _packed
                            29421 ; 88   |
                            29422 ; 89   |#define _asmfunc
                            29423 ; 90   |#define _reentrant
                            29424 ; 91   |
                            29425 ; 92   |#define OEM_SEEK_CUR    1
                            29426 ; 93   |#define OEM_SEEK_SET    0
                            29427 ; 94   |#define OEM_SEEK_END    2
                            29428 ; 95   |#endif  // _RUNNING_IN_EMBEDDED_
                            29429 ; 96   |
                            29430 ; 97   |#include "types.h"
                            29431 ; 98   |#include "exec.h"
                            29432 ; 99   |#include "messages.h"
                            29433 ; 100  |#include "project.h"
                            29434 ; 101  |
                            29435 ; 102  |/*==================================================================================================
                            29436 ; 103  |                                             CONSTANTS
                            29437 ; 104  |==================================================================================================*/
                            29438 ; 105  |/* The bit mask for 2 bits Unicode Flag selection in "uint8 unicode".
                            29439 ; 106  |Variable Represented            Bits used in "uint8 unicode"
                            29440 ; 107  |Artistname                              1:0
                            29441 ; 108  |Albumname                               3:2
                            29442 ; 109  |Genrename                               5:4
                            29443 ; 110  |Songname                                7:6
                            29444 ; 111  |----------------------------------------------------------
                            29445 ; 112  |    Value (2 bits)                      Meanings
                            29446 ; 113  |    0                                   RAW and All ASCII
                            29447 ; 114  |    1                                   Uni-code
                            29448 ; 115  |    2                                   Mixed, non-unicode
                            29449 ; 116  |
                            29450 ; 117  |    3(Genre only)               Genre is ID3v1 spec=>number
                            29451 ; 118  |*/
                            29452 ; 119  |#define BITMASK_ARTIST  (0x03)
                            29453 ; 120  |#define BITMASK_ALBUM   (0x0C)
                            29454 ; 121  |#define BITMASK_GENRE   (0x30)
                            29455 ; 122  |#define BITMASK_SONG    (0xC0)
                            29456 ; 123  |
                            29457 ; 124  |#define BITCHK_ARTIST_ALLASCII  (0x0)
                            29458 ; 125  |#define BITCHK_ALBUM_ALLASCII   (0x0)
                            29459 ; 126  |#define BITCHK_GENRE_ALLASCII   (0x0)
                            29460 ; 127  |#define BITCHK_SONG_ALLASCII    (0x0)
                            29461 ; 128  |
                            29462 ; 129  |#define BITCHK_ARTIST_UNICODE   (0x01)
                            29463 ; 130  |#define BITCHK_ALBUM_UNICODE    (0x04)
                            29464 ; 131  |#define BITCHK_GENRE_UNICODE    (0x10)
                            29465 ; 132  |#define BITCHK_SONG_UNICODE             (0x40)
                            29466 ; 133  |
                            29467 ; 134  |#define BITCHK_ARTIST_MIXCODE   (0x02)
                            29468 ; 135  |#define BITCHK_ALBUM_MIXCODE    (0x08)
                            29469 ; 136  |#define BITCHK_GENRE_MIXCODE    (0x20)
                            29470 ; 137  |#define BITCHK_SONG_MIXCODE             (0x80)
                            29471 ; 138  |
                            29472 ; 139  |#define BITCHK_GENRE_ID3V1              (0x30)
                            29473 ; 140  |
                            29474 ; 141  |#define UNKNOWN_YEAR_CODE               (1)     /* set a very large number */
                            29475 ; 142  |
                            29476 ; 143  |#define INDEX_EOF       0xFFF
                            29477 ; 144  |#ifdef _FOLDER_BROWSE_
                            29478 ; 145  |#define INDEX_ROOT  0xffe
                            29479 ; 146  |#define UNKNOWN_RECORD  0xfff
                            29480 ; 147  |#endif  // _FOLDER_BROWSE_
                            29481 ; 148  |
                            29482 ; 149  |/* Constant for item_type */
                            29483 ; 150  |#define         ITEM_ARTIST                     0
                            29484 ; 151  |#define         ITEM_ALBUM                      1
                            29485 ; 152  |#define         ITEM_GENRE                      2
                            29486 ; 153  |#define         ITEM_TRACK                      3
                            29487 ; 154  |#define         ITEM_YEAR                       4
                            29488 ; 155  |#define         ITEM_SONG_INFO_ARTIST   5
                            29489 ; 156  |#define         ITEM_SONG_INFO_ALBUM    6
                            29490 ; 157  |#define         ITEM_SONG_INFO_GENRE    7
                            29491 ; 158  |#define         ITEM_SONG_INFO_YEAR             9
                            29492 ; 159  |#ifdef _NEWMUSIC_
                            29493 ; 160  |#define         ITEM_1DAY                       10
                            29494 ; 161  |#define         ITEM_1WEEK                      11
                            29495 ; 162  |#define         ITEM_1MONTH                     12
                            29496 ; 163  |#endif
                            29497 ; 164  |#ifdef _AUDIBLE_
                            29498 ; 165  |#define         ITEM_AUDIBLE            13
                            29499 ; 166  |#endif
                            29500 ; 167  |#define         ITEM_ON_THE_GO          14
                            29501 ; 168  |
                            29502 ; 169  |#define         ITEM_VOICE                      15
                            29503 ; 170  |#define         ITEM_FMREC                      16
                            29504 ; 171  |#define         ITEM_PHOTO                      17
                            29505 ; 172  |#ifdef _FOLDER_BROWSE_
                            29506 ; 173  |#define         ITEM_INTERNAL           18
                            29507 ; 174  |#define         ITEM_EXTERNAL       19
                            29508 ; 175  |#endif  // _FOLDER_BROWSE_
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page 116

M:ADDR CODE           CYCLES LINE SOURCELINE
                            29509 ; 176  |#define     ITEM_UNKNOWN        0xff
                            29510 ; 177  |
                            29511 ; 178  |/*
                            29512 ; 179  |input parameter for void ML_AddEntryToLibrary(uint24 Media_type, RAM_SONG_INFO_T *song_info, int16 option);
                            29513 ; 180  |option input.
                            29514 ; 181  |*/
                            29515 ; 182  |#define         ADD_OPTION_MUSIC        (0x00)
                            29516 ; 183  |#define         ADD_OPTION_VOICE        (0x01)
                            29517 ; 184  |#define         ADD_OPTION_AUDIBLE      (0x02)
                            29518 ; 185  |#ifdef _FOLDER_BROWSE_
                            29519 ; 186  |#define     ADD_OPTION_DIR      (0x03)
                            29520 ; 187  |#endif  // _FOLDER_BROWSE_
                            29521 ; 188  |
                            29522 ; 189  |/* Constant for key action */
                            29523 ; 190  |#define         ACTION_OK                               0               /* Press OK button */
                            29524 ; 191  |#define         ACTION_BACK                             1               /* Press BACK button */
                            29525 ; 192  |#define         ACTION_UP                               2               /* Press UP button */
                            29526 ; 193  |#define         ACTION_DOWN                             3               /* Press DOWN button */
                            29527 ; 194  |#define         ACTION_PLAYALL                  4               /* Play All function */
                            29528 ; 195  |#define         ACTION_MENU                             5               /* Back the browsing tree to root */
                            29529 ; 196  |
                            29530 ; 197  |#define     PLAYMODE_CURRENT_PLAYMODE_BITPOS    0
                            29531 ; 198  |#define     PLAYMODE_LAST_PLAYMODE_BITPOS       1
                            29532 ; 199  |#define     PLAYMODE_REPEAT_BITPOS              2
                            29533 ; 200  |#define     PLAYMODE_MEDIA_BITPOS               3
                            29534 ; 201  |
                            29535 ; 202  |#define         NO_SD                                   0
                            29536 ; 203  |#define         HAS_SD                                  1
                            29537 ; 204  |
                            29538 ; 205  |#define         PLAY_NORMAL                             0
                            29539 ; 206  |#define         PLAY_SHUFFLE                    1
                            29540 ; 207  |
                            29541 ; 208  |#define     PLAY_REPEAT_OFF         0
                            29542 ; 209  |#define     PLAY_REPEAT_ON          1
                            29543 ; 210  |
                            29544 ; 211  |#define     PLAY_SELECT_FLASH       0
                            29545 ; 212  |#define     PLAY_SELECT_SD          1
                            29546 ; 213  |
                            29547 ; 214  |#define         SHUFFLE_NEXT_SONG                       0
                            29548 ; 215  |#define         SHUFFLE_PREVIOUS_SONG       1
                            29549 ; 216  |
                            29550 ; 217  |#define         ON_THE_GO_EXIST                 0
                            29551 ; 218  |#define         ON_THE_GO_FULL                  1
                            29552 ; 219  |#define         ON_THE_GO_FREE                  2
                            29553 ; 220  |#define         ON_THE_GO_DEL_PLAYING   3
                            29554 ; 221  |#define         ON_THE_GO_DEL_SMALLER_ID    4
                            29555 ; 222  |
                            29556 ; 223  |#define         REC_VOICE_TYPE                  0
                            29557 ; 224  |#define         REC_FMREC_TYPE                  1
                            29558 ; 225  |#define         REC_PHOTO_TYPE                  2
                            29559 ; 226  |#define         VOICE_FILE_ADD                  0
                            29560 ; 227  |#define         VOICE_FILE_DEL                  1
                            29561 ; 228  |
                            29562 ; 229  |#define         MAX_BROWSE_WINDOW_SIZE  (8)
                            29563 ; 230  |#define         BROWSE_WINDOW_SIZE              (4)
                            29564 ; 231  |/* maximum number of song file, should not be larger than 2048 each for on-board
                            29565 ; 232  |flash or external SD card */
                            29566 ; 233  |#ifdef _SUPPORT_2000_SONGS_
                            29567 ; 234  |#define MAX_NUM_OF_SONG (2000)
                            29568 ; 235  |#else
                            29569 ; 236  |#define MAX_NUM_OF_SONG (1000)
                            29570 ; 237  |#endif // _SUPPORT_2000_SONGS_
                            29571 ; 238  |
                            29572 ; 239  |/* number of byte in one DSP word */
                            29573 ; 240  |#define NUM_OF_BYTE_IN_ONE_WORD (3)
                            29574 ; 241  |#define LEN_OF_NAME_IN_BYTE (120) /* must be an integer multiple of 3 */
                            29575 ; 242  |/* length of file pathname in byte, assuming directory and file in 8.3 format, there
                            29576 ; 243  |are 10 level directory structure */
                            29577 ; 244  |#define LEN_OF_FILEPATH_IN_BYTE (129) /* must be an integer multiple of 3 */
                            29578 ; 245  |#define LEN_OF_LONG_FILENAME_IN_BYTE (129) /* must be an integer multiple of 3 */
                            29579 ; 246  |
                            29580 ; 247  |/* number of list in new music, 1-day, 1-week, 1-month */
                            29581 ; 248  |#define NUM_OF_LIST_IN_NEW_MUSIC (3)
                            29582 ; 249  |/* number of songs in each new music list */
                            29583 ; 250  |#define NUM_OF_SONG_IN_NEW_MUSIC (40)
                            29584 ; 251  |#define NUM_OF_SONG_IN_NEW_MUSIC_DAY (20)
                            29585 ; 252  |#define NUM_OF_SONG_IN_NEW_MUSIC_WEEK (30)
                            29586 ; 253  |#define NUM_OF_SONG_IN_NEW_MUSIC_MONTH (40)
                            29587 ; 254  |/* number of songs in the on-the-fly list */
                            29588 ; 255  |#define NUM_OF_SONG_IN_ON_THE_FLY (30)
                            29589 ; 256  |/* number of files audible list */
                            29590 ; 257  |#define NUM_OF_AUDIBLE_FILE (250)
                            29591 ; 258  |
                            29592 ; 259  |#define MAX_NUM_OF_VOICE (1000)
                            29593 ; 260  |#define LEN_OF_VOICE_NAME_IN_BYTE (LEN_OF_NAME_IN_BYTE) /* must be an integer multiple of 3 */
                            29594 ; 261  |#define LEN_OF_VOICE_FILEPATH_IN_BYTE (LEN_OF_FILEPATH_IN_BYTE) /* must be an integer multiple of 3 */
                            29595 ; 262  |
                            29596 ; 263  |#define MAX_NUM_OF_FMREC (MAX_NUM_OF_VOICE)     /* _must_be_equal_voice_num_ */
                            29597 ; 264  |#define MAX_NUM_OF_PHOTO (MAX_NUM_OF_VOICE)     /* _must_be_equal_voice_num_ */
                            29598 ; 265  |#ifdef _FOLDER_BROWSE_
                            29599 ; 266  |#define MAX_NUM_OF_DIR   (1000)
                            29600 ; 267  |#else
                            29601 ; 268  |#define MAX_NUM_OF_DIR   (1)
                            29602 ; 269  |#endif  // _FOLDER_BROWSE_
                            29603 ; 270  |#define LEN_OF_FMREC_NAME_IN_BYTE (LEN_OF_NAME_IN_BYTE) /* must be an integer multiple of 3 */
                            29604 ; 271  |#define LEN_OF_FMREC_FILEPATH_IN_BYTE (LEN_OF_FILEPATH_IN_BYTE) /* must be an integer multiple of 3 */
                            29605 ; 272  |
                            29606 ; 273  |#ifndef _MAX_DIR_DEPTH
                            29607 ; 274  |#define _MAX_DIR_DEPTH  8   // referred to "playlist3internal.h"
                            29608 ; 275  |#endif  // _MAX_DIR_DEPTH
                            29609 ; 276  |
                            29610 ; 277  |/*==================================================================================================*/
                            29611 ; 278  |
                            29612 ; 279  |
                            29613 ; 280  |/*==================================================================================================
                            29614 ; 281  |                                               MACROS
                            29615 ; 282  |==================================================================================================*/
                            29616 ; 283  |
                            29617 ; 284  |/*==================================================================================================
                            29618 ; 285  |                                               ENUMS
                            29619 ; 286  |==================================================================================================*/
                            29620 ; 287  |#define NUM_OF_MEDIA                            (2)
                            29621 ; 288  |#define MEDIA_TYPE_FLASH                        (0)
                            29622 ; 289  |#define MEDIA_TYPE_SD                           (1)
                            29623 ; 290  |/*==================================================================================================
                            29624 ; 291  |                                     STRUCTURES AND OTHER TYPEDEFS
                            29625 ; 292  |==================================================================================================*/
                            29626 ; 293  |
                            29627 ; 294  |typedef char    int8;
                            29628 ; 295  |typedef short   int16;
                            29629 ; 296  |typedef int     int24;
                            29630 ; 297  |typedef long    int32;
                            29631 ; 298  |
                            29632 ; 299  |typedef int     intx;
                            29633 ; 300  |
                            29634 ; 301  |typedef unsigned char   uint8;
                            29635 ; 302  |typedef unsigned short  uint16;
                            29636 ; 303  |typedef unsigned int    uint24;
                            29637 ; 304  |typedef unsigned long   uint32;
                            29638 ; 305  |
                            29639 ; 306  |/*
                            29640 ; 307  |Any missing information in the name fields will be filled with Unknown in Unicode format.
                            29641 ; 308  |artist_name[] = Unknown; unicode = 0x01;
                            29642 ; 309  |album_name[] = Unknown; unicode = 0x04;
                            29643 ; 310  |genre_name[] = Unknown; unicode = 0x08;
                            29644 ; 311  |song_name[] = Unknown; unicode = 0x0F;
                            29645 ; 312  |*/
                            29646 ; 313  |/*
                            29647 ; 314  |path_name[] _must_have_data_:
                            29648 ; 315  |path_name[] = (Max. 120 Characters);
                            29649 ; 316  |year range:
                            29650 ; 317  |year = 0x000000-0xFFFFFF;
                            29651 ; 318  |DOCUMENT CONTROL NUMBER : Version : 01.01
                            29652 ; 319  |Unknown track number:
                            29653 ; 320  |track_number = 0x7FFFFF;
                            29654 ; 321  |unicode refer to above #define BITMASK_*
                            29655 ; 322  |*/
                            29656 ; 323  |/*
                            29657 ; 324  |Interface of UI and Music Library
                            29658 ; 325  |1) If file was created in ID3V1 format genre, UI will convert it to Unicode string.
                            29659 ; 326  |
                            29660 ; 327  |2) Music Library expected to reserve 128x7 words RAM for UI mapping table.
                            29661 ; 328  |
                            29662 ; 329  |3) UI to Music Library variable passing length definition:
                            29663 ; 330  |        All ASCII Characters:
                            29664 ; 331  |                Max. Number of Bytes Stored = 120 Bytes
                            29665 ; 332  |                Max. Number of Characters Stored/Display = 40 Characters
                            29666 ; 333  |        Unicode Characters:
                            29667 ; 334  |                Max. Number of Bytes Stored = 120 Bytes
                            29668 ; 335  |                Max. Number of Characters Stored/Display = 40 Characters
                            29669 ; 336  |
                            29670 ; 337  |4) UI input data to Music Library in two formats.
                            29671 ; 338  |        Formats:        1) All ASCII (24 bits data)
                            29672 ; 339  |                                2) Unicode + Mix. Non -Unicode (16 bits data)
                            29673 ; 340  |
                            29674 ; 341  |5) UI calling function:
                            29675 ; 342  |COMP_OPT_REN void ML_AddEntryToLibrary(RAM_SONG_INFO_T *song_info, int16 option);
                            29676 ; 343  |        int16 option definition:
                            29677 ; 344  |                option  = 0 - song_info struct contains a mp3/wma format file.
                            29678 ; 345  |                                = 1 - song_info struct contains a voice format file.
                            29679 ; 346  |                                = 2 - song_info struct contains a audible format file.
                            29680 ; 347  |
                            29681 ; 348  |        i) Only mp3/wma file (option = 0, 2) files will be sorted,
                            29682 ; 349  |        ii) Voice and audible(option = 1) file will be store in a voice_list and audible_list separately.
                            29683 ; 350  |
                            29684 ; 351  |6) Modification Date:
                            29685 ; 352  |        uint24 g_file_time:
                            29686 ; 353  |                YYMMDD: 12 bits - Year, 6 bits - Month, 6 - bits Date
                            29687 ; 354  |*/
                            29688 ; 355  |
                            29689 ; 356  |/* struct to store the song information passed from UI, this struct will be placed in
                            29690 ; 357  |ghdr\musiclib_ghdr.h and included in UI files*/
                            29691 ; 358  |typedef struct _ram_song_info {
                            29692 ; 359  |        uint24 artist_name[LEN_OF_NAME_IN_BYTE/NUM_OF_BYTE_IN_ONE_WORD];
                            29693 ; 360  |        uint24 album_name[LEN_OF_NAME_IN_BYTE/NUM_OF_BYTE_IN_ONE_WORD];
                            29694 ; 361  |        uint24 genre_name[LEN_OF_NAME_IN_BYTE/NUM_OF_BYTE_IN_ONE_WORD];
                            29695 ; 362  |        uint24 song_name[LEN_OF_NAME_IN_BYTE/NUM_OF_BYTE_IN_ONE_WORD];
                            29696 ; 363  |        uint24 path_name[LEN_OF_FILEPATH_IN_BYTE/NUM_OF_BYTE_IN_ONE_WORD];
                            29697 ; 364  |    uint32 g_songFastKey;
                            29698 ; 365  |        uint24 dir_name[LEN_OF_LONG_FILENAME_IN_BYTE/NUM_OF_BYTE_IN_ONE_WORD];
                            29699 ; 366  |        uint24 year;
                            29700 ; 367  |        uint24 track_number;
                            29701 ; 368  |        uint8 unicode;
                            29702 ; 369  |} RAM_SONG_INFO_T;
                            29703 ; 370  |
                            29704 ; 371  |/* struct to store the group name: artist, album and genre, in the flash */
                            29705 ; 372  |typedef struct _flash_group_name {
                            29706 ; 373  |        uint24 name[LEN_OF_NAME_IN_BYTE/NUM_OF_BYTE_IN_ONE_WORD];
                            29707 ; 374  |        uint8 unicode;
                            29708 ; 375  |} FLASH_GROUP_NAME_T;
                            29709 ; 376  |
                            29710 ; 377  |// struct to store directories information passed from UI
                            29711 ; 378  |#ifdef _FOLDER_BROWSE_
                            29712 ; 379  |typedef struct _ml_DirInfo {
                            29713 ; 380  |        uint24  u8Unicode : 8;
                            29714 ; 381  |        uint24  u12DirDepth : 12;
                            29715 ; 382  |        uint24  u4Added : 4;            
                            29716 ; 383  |        INT     iDirRecord;
                            29717 ; 384  |        DWORD   dwFastKey;
                            29718 ; 385  |        uint24  u24PathName[LEN_OF_FILEPATH_IN_BYTE/NUM_OF_BYTE_IN_ONE_WORD];
                            29719 ; 386  |} ML_DIRINFO_T;
                            29720 ; 387  |#endif  // _FOLDER_BROWSE_
                            29721 ; 388  |
                            29722 ; 389  |/*==================================================================================================
                            29723 ; 390  |                                 GLOBAL VARIABLE DECLARATIONS
                            29724 ; 391  |==================================================================================================*/
                            29725 ; 392  |extern uint24   IsPlayOnTheGo;
                            29726 ; 393  |extern FLASH_GROUP_NAME_T   browse_item_name[];
                            29727 ; 394  |extern uint24   merge_id_list_flash[];
                            29728 ; 395  |extern uint24   merge_id_list_sd[];
                            29729 ; 396  |extern INT _X   g_iBrowseWindowSize;
                            29730 ; 397  |#ifdef _FOLDER_BROWSE_
                            29731 ; 398  |extern ML_DIRINFO_T g_tDirInfoBuffer[_MAX_DIR_DEPTH];
                            29732 ; 399  |extern uint24       g_u24DirName[LEN_OF_NAME_IN_BYTE/NUM_OF_BYTE_IN_ONE_WORD];
                            29733 ; 400  |extern uint24       g_u24BrowseNumOfDirInDir[];
                            29734 ; 401  |#endif  // _FOLDER_BROWSE_
                            29735 ; 402  |extern INT _X    *sec_temp_buf_X;
                            29736 ; 403  |extern uint24   playMode;   /* bit 0 = current play mode; bit 1 = last play mode ; bit 2 = repeat on/off(0=off/1=on) */
                            29737 ; 404  |
                            29738 ; 405  |/*==================================================================================================
                            29739 ; 406  |                                        FUNCTION PROTOTYPES
                            29740 ; 407  |==================================================================================================*/
                            29741 ; 408  |
                            29742 ; 409  |///////////////////////////////////////////////////////////////////////
                            29743 ; 410  |//! \brief
                            29744 ; 411  |//!
                            29745 ; 412  |//! \fntype Function
                            29746 ; 413  |//!
                            29747 ; 414  |//! Called by UI, to initialize the parameters before insert any item.
                            29748 ; 415  |//! Call only once before inserting items. Call once for each media.
                            29749 ; 416  |//!
                            29750 ; 417  |//! \param[in]  none
                            29751 ; 418  |//!
                            29752 ; 419  |//! \return
                            29753 ; 420  |//!
                            29754 ; 421  |///////////////////////////////////////////////////////////////////////
                            29755 ; 422  |void ML_InitLibraryParameter(void);
                            29756 ; 423  |
                            29757 ; 424  |///////////////////////////////////////////////////////////////////////
                            29758 ; 425  |//! \brief
                            29759 ; 426  |//!
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page 117

M:ADDR CODE           CYCLES LINE SOURCELINE
                            29760 ; 427  |//! \fntype Function
                            29761 ; 428  |//!
                            29762 ; 429  |//! Called by UI, the AddEntryToLibrary is the music library building
                            29763 ; 430  |//! algorithms for the flash-type memory and SD memory by sorting the song information
                            29764 ; 431  |//! by, but not limited to, album, artist, genre, year and track. Called once for each song,
                            29765 ; 432  |//! the song information is recorded in music library.
                            29766 ; 433  |//!
                            29767 ; 434  |//! \param[in]  uint24 Media_type - Possible values: MEDIA_TYPE_FLASH(=0); MEDIA_TYPE_SD(=1)
                            29768 ; 435  |//! \param[in]  RAM_SONG_INFO_T *song_info - Structure to store the song information passed from UI, this structure is defined in ghdr\musiclib_ghdr.h and included in UI files)
                            29769 ; 436  |//! \param[in]  int16 option - option = 0 -- song_info struct contains a mp3, wma or wav format file.
                            29770 ; 437  |//!
                            29771 ; 438  |//! \return
                            29772 ; 439  |//!
                            29773 ; 440  |///////////////////////////////////////////////////////////////////////
                            29774 ; 441  |void ML_AddEntryToLibrary(uint24 Media_type, RAM_SONG_INFO_T *song_info, int16 option);
                            29775 ; 442  |
                            29776 ; 443  |///////////////////////////////////////////////////////////////////////
                            29777 ; 444  |//! \brief
                            29778 ; 445  |//!
                            29779 ; 446  |//! \fntype Function
                            29780 ; 447  |//!
                            29781 ; 448  |//! \param[in]
                            29782 ; 449  |//!
                            29783 ; 450  |//! \return
                            29784 ; 451  |//!
                            29785 ; 452  |///////////////////////////////////////////////////////////////////////
                            29786 ; 453  |#ifdef _FOLDER_BROWSE_
                            29787 ; 454  |_reentrant void ML_AddDirEntryToLibrary(uint24 u24MediaType, ML_DIRINFO_T *ptDirInfo, int16 i16Option);
                            29788 ; 455  |#endif  // _FOLDER_BROWSE_
                            29789 ; 456  |
                            29790 ; 457  |///////////////////////////////////////////////////////////////////////
                            29791 ; 458  |//! \brief
                            29792 ; 459  |//!
                            29793 ; 460  |//! \fntype Function
                            29794 ; 461  |//!
                            29795 ; 462  |//! Called by UI, flush sorted and associate list to flash when no
                            29796 ; 463  |//! more song needed to be added for that media. This function finalizes the building of
                            29797 ; 464  |//! music library for that particular media.
                            29798 ; 465  |//!
                            29799 ; 466  |//! \param[in]  uint24 Media_type - Possible values: MEDIA_TYPE_FLASH(=0); MEDIA_TYPE_SD(=1)
                            29800 ; 467  |//!
                            29801 ; 468  |//! \return
                            29802 ; 469  |//!
                            29803 ; 470  |//! \note   Bulid the library first (call ML_AddEntryToLibrary) before calling this
                            29804 ; 471  |//!         function.
                            29805 ; 472  |///////////////////////////////////////////////////////////////////////
                            29806 ; 473  |_reentrant INT ML_FlushLibraryToFlash(INT Media_type, INT b, INT *c);
                            29807 ; 474  |
                            29808 ; 475  |///////////////////////////////////////////////////////////////////////
                            29809 ; 476  |//! \brief
                            29810 ; 477  |//!
                            29811 ; 478  |//! \fntype Function
                            29812 ; 479  |//!
                            29813 ; 480  |//! \param[in]
                            29814 ; 481  |//!
                            29815 ; 482  |//! \return
                            29816 ; 483  |//!
                            29817 ; 484  |///////////////////////////////////////////////////////////////////////
                            29818 ; 485  |#ifdef _NEWMUSIC_
                            29819 ; 486  |void ML_UpdateNewMusic(void);
                            29820 ; 487  |#endif
                            29821 ; 488  |
                            29822 ; 489  |///////////////////////////////////////////////////////////////////////
                            29823 ; 490  |//! \brief
                            29824 ; 491  |//!
                            29825 ; 492  |//! \fntype Function
                            29826 ; 493  |//!
                            29827 ; 494  |//! Called by UI, to initialize the file access mechanism for all music
                            29828 ; 495  |//! library operation if the music.lib file and the music.sec file exist (call
                            29829 ; 496  |//! ML_BuildSecTableFile() if these files do not exist).
                            29830 ; 497  |//!
                            29831 ; 498  |//! \param[in]  none
                            29832 ; 499  |//!
                            29833 ; 500  |//! \return
                            29834 ; 501  |//!
                            29835 ; 502  |//! \note   Either ML_Buildl2SecTable(void) or ML_BuildSecTableFile(void)
                            29836 ; 503  |//!         must be called before calling any other music library functions.
                            29837 ; 504  |///////////////////////////////////////////////////////////////////////
                            29838 ; 505  |_reentrant INT ML_Buildl2SecTable(INT a, INT b, INT *c);
                            29839 ; 506  |
                            29840 ; 507  |///////////////////////////////////////////////////////////////////////
                            29841 ; 508  |//! \brief
                            29842 ; 509  |//!
                            29843 ; 510  |//! \fntype Function
                            29844 ; 511  |//!
                            29845 ; 512  |//! Called by UI, to initialize the file access mechanism for all music
                            29846 ; 513  |//! library operation.
                            29847 ; 514  |//! Two system files (music.lib and music.sec) is created.
                            29848 ; 515  |//! Call this only if intended to generate / refresh these files, or if the music.lib file and the
                            29849 ; 516  |//! music.sec file do not exist.
                            29850 ; 517  |//!
                            29851 ; 518  |//! \param[in]  none
                            29852 ; 519  |//!
                            29853 ; 520  |//! \return
                            29854 ; 521  |//!
                            29855 ; 522  |//! \note   Either ML_Buildl2SecTable(void) or ML_BuildSecTableFile(void)
                            29856 ; 523  |//!         must be called before calling any other music library functions.
                            29857 ; 524  |///////////////////////////////////////////////////////////////////////
                            29858 ; 525  |_reentrant INT ML_BuildSecTableFile(INT a, INT b, INT *c);
                            29859 ; 526  |
                            29860 ; 527  |///////////////////////////////////////////////////////////////////////
                            29861 ; 528  |//! \brief
                            29862 ; 529  |//!
                            29863 ; 530  |//! \fntype Function
                            29864 ; 531  |//!
                            29865 ; 532  |//! Preload the list, prepare for renew.
                            29866 ; 533  |//! IsColdBoot=TRUE: loads the list content and the path name to the on_the_fly_list
                            29867 ; 534  |//! structure in RAM.
                            29868 ; 535  |//! IsColdBoot=FALSE: updates the path name only, to the on_the_fly_list structure
                            29869 ; 536  |//! in RAM.
                            29870 ; 537  |//!
                            29871 ; 538  |//! \param[in]  uint24 IsColdBoot - Possible values: TRUE or FALSE
                            29872 ; 539  |//!
                            29873 ; 540  |//! \return
                            29874 ; 541  |//!
                            29875 ; 542  |//! \note   Use IsColdBoot=TRUE only once when the machine boot-up, other
                            29876 ; 543  |//!         time when you need to renew the list, use IsColdBoot=FALSE instead.
                            29877 ; 544  |///////////////////////////////////////////////////////////////////////
                            29878 ; 545  |void ML_LoadOnTheGo(uint24 IsColdBoot);
                            29879 ; 546  |
                            29880 ; 547  |///////////////////////////////////////////////////////////////////////
                            29881 ; 548  |//! \brief
                            29882 ; 549  |//!
                            29883 ; 550  |//! \fntype Function
                            29884 ; 551  |//!
                            29885 ; 552  |//! Save the list to flash memory.
                            29886 ; 553  |//!
                            29887 ; 554  |//! \param[in]
                            29888 ; 555  |//!
                            29889 ; 556  |//! \return
                            29890 ; 557  |//!
                            29891 ; 558  |//! \note   It is recommended to save the list as soon as possible after it was
                            29892 ; 559  |//!         changed by the user.
                            29893 ; 560  |///////////////////////////////////////////////////////////////////////
                            29894 ; 561  |void ML_SaveOnTheGo(void);      /* call at shutdownmenu.c to save the list */
                            29895 ; 562  |
                            29896 ; 563  |///////////////////////////////////////////////////////////////////////
                            29897 ; 564  |//! \brief
                            29898 ; 565  |//!
                            29899 ; 566  |//! \fntype Function
                            29900 ; 567  |//! When the Music Lib is rebuilding, the path of each song is
                            29901 ; 568  |//! compared with the path stored in the on_the_fly_list structure, to decide if it was in the
                            29902 ; 569  |//! list before, if so the ID is replaced by the new songID, and the song is keep in the list.
                            29903 ; 570  |//! Otherwise the song is deleted.
                            29904 ; 571  |//!
                            29905 ; 572  |//! \param[in]  uint24 Media_type - Possible values: MEDIA_TYPE_FLASH(=0); MEDIA_TYPE_SD(=1)
                            29906 ; 573  |//! \param[in]  uint24 _X * temp_path - Input value, the path of song to be checked.
                            29907 ; 574  |//! \param[in]  uint24 newID - Input value, the new songID of the song.
                            29908 ; 575  |//!
                            29909 ; 576  |//! \return
                            29910 ; 577  |//!
                            29911 ; 578  |///////////////////////////////////////////////////////////////////////
                            29912 ; 579  |void ML_ChkOnTheGo(uint24 Media_type, uint24 _X * temp_path, uint24 newID);
                            29913 ; 580  |
                            29914 ; 581  |///////////////////////////////////////////////////////////////////////
                            29915 ; 582  |//! \brief
                            29916 ; 583  |//!
                            29917 ; 584  |//! \fntype Function
                            29918 ; 585  |//!
                            29919 ; 586  |//! Set a flag for all the songs of Media_type to be keep or delete
                            29920 ; 587  |//! in the ML_UpdateOnTheGo().
                            29921 ; 588  |//!
                            29922 ; 589  |//! \param[in]  uint24 Media_type - Possible values: MEDIA_TYPE_FLASH(=0); MEDIA_TYPE_SD(=1)
                            29923 ; 590  |//! \param[in]  uint24 value - Possible values: TRUE (song will be keep in the list); INDEX_EOF (song will be deleted)
                            29924 ; 591  |//!
                            29925 ; 592  |//! \return
                            29926 ; 593  |//!
                            29927 ; 594  |///////////////////////////////////////////////////////////////////////
                            29928 ; 595  |void ML_ChOnTheGo(uint24 Media_type, uint24 value);
                            29929 ; 596  |
                            29930 ; 597  |///////////////////////////////////////////////////////////////////////
                            29931 ; 598  |//! \brief
                            29932 ; 599  |//!
                            29933 ; 600  |//! \fntype Function
                            29934 ; 601  |//!
                            29935 ; 602  |//! Before the list can be browse, call this function to finalize the list.
                            29936 ; 603  |//!
                            29937 ; 604  |//! \param[in]  none
                            29938 ; 605  |//!
                            29939 ; 606  |//! \return
                            29940 ; 607  |//!
                            29941 ; 608  |///////////////////////////////////////////////////////////////////////
                            29942 ; 609  |void ML_UpdateOnTheGo(void);
                            29943 ; 610  |
                            29944 ; 611  |///////////////////////////////////////////////////////////////////////
                            29945 ; 612  |//! \brief
                            29946 ; 613  |//!
                            29947 ; 614  |//! \fntype Function
                            29948 ; 615  |//!
                            29949 ; 616  |//! Called by UI, to initialize the parameters before insert any item.
                            29950 ; 617  |//! Call only once before inserting items. Call once for each media.
                            29951 ; 618  |//!
                            29952 ; 619  |//! \param[in]  none
                            29953 ; 620  |//!
                            29954 ; 621  |//! \return
                            29955 ; 622  |//!
                            29956 ; 623  |///////////////////////////////////////////////////////////////////////
                            29957 ; 624  |void ML_InitVoiceParameter(void);
                            29958 ; 625  |
                            29959 ; 626  |///////////////////////////////////////////////////////////////////////
                            29960 ; 627  |//! \brief
                            29961 ; 628  |//!
                            29962 ; 629  |//! \fntype Function
                            29963 ; 630  |//!
                            29964 ; 631  |//! \param[in]
                            29965 ; 632  |//!
                            29966 ; 633  |//! \return
                            29967 ; 634  |//!
                            29968 ; 635  |///////////////////////////////////////////////////////////////////////
                            29969 ; 636  |void ML_LoadVoiceParameter(uint24 Rec_type);
                            29970 ; 637  |
                            29971 ; 638  |///////////////////////////////////////////////////////////////////////
                            29972 ; 639  |//! \brief
                            29973 ; 640  |//!
                            29974 ; 641  |//! \fntype Function
                            29975 ; 642  |//!
                            29976 ; 643  |//! Called by UI, the ML_AddEntryToVoice is the voice library
                            29977 ; 644  |//! building algorithms for the flash-type memory by sorting the voice files by file names.
                            29978 ; 645  |//! Called once for each voice file, the information is recorded in music library.
                            29979 ; 646  |//!
                            29980 ; 647  |//! \param[in]  uint24 Rec_type - Possible values: REC_VOICE_TYPE(=0); REC_FMREC_TYPE(=1)
                            29981 ; 648  |//! \param[in]  RAM_SONG_INFO_T *song_info - struct to store the song information passed from UI, this struct will be placed in ghdr\musiclib_ghdr.h and included in UI files
                            29982 ; 649  |//! \param[in]  uint24 action - option = 0 // always set zero
                            29983 ; 650  |//!
                            29984 ; 651  |//! \return
                            29985 ; 652  |//!
                            29986 ; 653  |///////////////////////////////////////////////////////////////////////
                            29987 ; 654  |void ML_AddEntryToVoice(uint24 Rec_type, RAM_SONG_INFO_T *song_info, uint24 action);
                            29988 ; 655  |
                            29989 ; 656  |///////////////////////////////////////////////////////////////////////
                            29990 ; 657  |//! \brief
                            29991 ; 658  |//!
                            29992 ; 659  |//! \fntype Function
                            29993 ; 660  |//!
                            29994 ; 661  |//! Called by UI, flush sorted and associate list to flash when no
                            29995 ; 662  |//! more voice needed to be added for that media. This function finalizes the voice building
                            29996 ; 663  |//! of music library for that particular media.
                            29997 ; 664  |//!
                            29998 ; 665  |//! \param[in]  uint24 Rec_type - Possible values: REC_VOICE_TYPE(=0); REC_FMREC_TYPE(=1)
                            29999 ; 666  |//!
                            30000 ; 667  |//! \return
                            30001 ; 668  |//!
                            30002 ; 669  |//! \note   Bulid the library first (call ML_AddEntryToVoice) before calling this
                            30003 ; 670  |//!         function.
                            30004 ; 671  |///////////////////////////////////////////////////////////////////////
                            30005 ; 672  |void ML_FlushVoiceToFlash(uint24 Rec_type);
                            30006 ; 673  |
                            30007 ; 674  |///////////////////////////////////////////////////////////////////////
                            30008 ; 675  |//! \brief
                            30009 ; 676  |//!
                            30010 ; 677  |//! \fntype Function
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page 118

M:ADDR CODE           CYCLES LINE SOURCELINE
                            30011 ; 678  |//!
                            30012 ; 679  |//! Called by UI, the merge the music library tables album,
                            30013 ; 680  |//! artist, genre, song and year.
                            30014 ; 681  |//!
                            30015 ; 682  |//! \param[in]  none
                            30016 ; 683  |//!
                            30017 ; 684  |//! \return
                            30018 ; 685  |//!
                            30019 ; 686  |///////////////////////////////////////////////////////////////////////
                            30020 ; 687  |void ML_MergeLibraryTables(void);
                            30021 ; 688  |
                            30022 ; 689  |///////////////////////////////////////////////////////////////////////
                            30023 ; 690  |//! \brief
                            30024 ; 691  |//!
                            30025 ; 692  |//! \fntype Function
                            30026 ; 693  |//!
                            30027 ; 694  |//! Called by UI, the merge the music library tables album,
                            30028 ; 695  |//! artist, genre, song and year.
                            30029 ; 696  |//!
                            30030 ; 697  |//! \param[in]  none
                            30031 ; 698  |//!
                            30032 ; 699  |//! \return
                            30033 ; 700  |//!
                            30034 ; 701  |///////////////////////////////////////////////////////////////////////
                            30035 ; 702  |INT _reentrant PathFormationPartial(_packed BYTE* dst, _packed BYTE* src, int iDepth);
                            30036 ; 703  |INT _reentrant PathFormation(_packed BYTE* dst, _packed BYTE* src, int iDepth);
                            30037 ; 704  |_reentrant void TrimUnicodeString(UCS3* pString);
                            30038 ; 705  |_reentrant void TrimPackedString(UCS3* pString);
                            30039 ; 706  |
                            30040 ; 707  |///////////////////////////////////////////////////////////////////////
                            30041 ; 708  |//! \brief
                            30042 ; 709  |//!
                            30043 ; 710  |//! \fntype Function
                            30044 ; 711  |//!
                            30045 ; 712  |//! \param[in]
                            30046 ; 713  |//!
                            30047 ; 714  |//! \return
                            30048 ; 715  |//!
                            30049 ; 716  |///////////////////////////////////////////////////////////////////////
                            30050 ; 717  |_reentrant void ML_FlushSortedListToFlash(uint24 u24MediaType);
                            30051 ; 718  |
                            30052 ; 719  |/*================================================================================================*/
                            30053 ; 720  |
                            30054 ; 721  |// Siukoon 2005-02-28
                            30055 ; 722  |#define MUSICLIB_STDRIVE_NUMBER     (0)
                            30056 ; 723  |#ifdef _SUPPORT_2000_SONGS_
                            30057 ; 724  |#define MUSICLIB_FILESIZE_IN_BYTE   (4194304L*2) // (SINGLE_DATABASE_SIZE*BYTE_PER_SECTOR)*2
                            30058 ; 725  |#else
                            30059 ; 726  |#define MUSICLIB_FILESIZE_IN_BYTE   (2097152L*2) // (SINGLE_DATABASE_SIZE*BYTE_PER_SECTOR)*2
                            30060 ; 727  |#endif  // _SUPPORT_2000_SONGS_
                            30061 ; 728  |#define MUSICLIB_FLASHPART_FILESIZE_IN_BYTE   (MUSICLIB_FILESIZE_IN_BYTE/2)
                            30062 ; 729  |#define WORD_PER_SECTOR             (171)
                            30063 ; 730  |#define BYTE_PER_SECTOR             (512)
                            30064 ; 731  |#define MUSICLIB_FILESIZE_IN_SECTOR (MUSICLIB_FILESIZE_IN_BYTE/BYTE_PER_SECTOR)
                            30065 ; 732  |#define MUSICLIB_FLASHPART_FILESIZE_IN_SECTOR (MUSICLIB_FLASHPART_FILESIZE_IN_BYTE/BYTE_PER_SECTOR)
                            30066 ; 733  |
                            30067 ; 734  |#define LB_BYTE_PER_SECTOR          (2048)
                            30068 ; 735  |#define LB_MUSICLIB_FILESIZE_IN_SECTOR (MUSICLIB_FILESIZE_IN_BYTE/LB_BYTE_PER_SECTOR)
                            30069 ; 736  |#define LB_MUSICLIB_FLASHPART_FILESIZE_IN_SECTOR (MUSICLIB_FLASHPART_FILESIZE_IN_BYTE/LB_BYTE_PER_SECTOR)
                            30070 ; 737  |
                            30071 ; 738  |#define MUSICLIB_FAT_ERROR_NOT_ENOUGH_MEDIA_SPACE       1
                            30072 ; 739  |#define MUSICLIB_FAT_ERROR_CREATE_FILE                  2
                            30073 ; 740  |#define MUSICLIB_FAT_ERROR_DELETE_FILE                  3
                            30074 ; 741  |#define MUSICLIB_FAT_ERROR_OPEN_FILE                    4
                            30075 ; 742  |
                            30076 ; 743  |/////////////////////
                            30077 ; 744  |
                            30078 ; 745  |#define LONG_SIZE_IN_BYTE                               (6)
                            30079 ; 746  |
                            30080 ; 747  |#ifdef _SUPPORT_2000_SONGS_
                            30081 ; 748  |#define SEC_TABLE_SIZE_IN_LONG                  (16384) // DATABASE_SIZE
                            30082 ; 749  |#else
                            30083 ; 750  |#define SEC_TABLE_SIZE_IN_LONG                  (8192)  // DATABASE_SIZE
                            30084 ; 751  |#endif // _SUPPORT_2000_SONGS_
                            30085 ; 752  |#define SEC_TABLE_SIZE_IN_BYTE                  (SEC_TABLE_SIZE_IN_LONG*LONG_SIZE_IN_BYTE)
                            30086 ; 753  |
                            30087 ; 754  |#define SEC_TABLE_FLASHPART_SIZE_IN_LONG        (SEC_TABLE_SIZE_IN_LONG/2)
                            30088 ; 755  |#define SEC_TABLE_FLASHPART_SIZE_IN_BYTE        (SEC_TABLE_SIZE_IN_BYTE/2)
                            30089 ; 756  |
                            30090 ; 757  |#define NUM_OF_LONG_PER_512SEC          (85)    // 512/6=>85
                            30091 ; 758  |#ifdef _SUPPORT_2000_SONGS_
                            30092 ; 759  |#define NUM_OF_LEVEL2_SEC                               (194)   /* 97x2 */
                            30093 ; 760  |#define NUM_OF_LEVEL2_FLASHPART_SEC             (97)    /* 8192/85 */
                            30094 ; 761  |#else
                            30095 ; 762  |#define NUM_OF_LEVEL2_SEC                               (98)    /* 49x2 */
                            30096 ; 763  |#define NUM_OF_LEVEL2_FLASHPART_SEC             (49)    /* 4096/85 */
                            30097 ; 764  |#endif // _SUPPORT_2000_SONGS_
                            30098 ; 765  |#define LEVEL2_TABLE_SIZE                               (NUM_OF_LEVEL2_SEC*2)
                            30099 ; 766  |#define SEC_TABLE_FLASH_START_SEC               (0x00)
                            30100 ; 767  |#define SEC_TABLE_SD_START_SEC                  (NUM_OF_LEVEL2_FLASHPART_SEC)
                            30101 ; 768  |
                            30102 ; 769  |#define SEC_TABLE_FILESIZE_IN_BYTE              (BYTE_PER_SECTOR*NUM_OF_LEVEL2_SEC)
                            30103 ; 770  |#ifdef _SUPPORT_2000_SONGS_
                            30104 ; 771  |#define BYTE_FILL_INTERDB_GAP                   (320)   // 512-((8192-(85*96))*6)
                            30105 ; 772  |#else
                            30106 ; 773  |#define BYTE_FILL_INTERDB_GAP                   (((NUM_OF_LEVEL2_FLASHPART_SEC*NUM_OF_LONG_PER_512SEC)-SEC_TABLE_FLASHPART_SIZE_IN_LONG)*LONG_SIZE_IN_BYTE+2)
                            30107 ; 774  |#endif  // _SUPPORT_2000_SONGS_
                            30108 ; 775  |
                            30109 ; 776  |#define LB_SEC_TABLE_SIZE_IN_LONG                       (LB_MUSICLIB_FILESIZE_IN_SECTOR)
                            30110 ; 777  |#define LB_SEC_TABLE_SIZE_IN_BYTE                       (LB_SEC_TABLE_SIZE_IN_LONG*LONG_SIZE_IN_BYTE)
                            30111 ; 778  |
                            30112 ; 779  |#define LB_SEC_TABLE_FLASHPART_SIZE_IN_LONG     (LB_SEC_TABLE_SIZE_IN_LONG/2)
                            30113 ; 780  |#define LB_SEC_TABLE_FLASHPART_SIZE_IN_BYTE     (LB_SEC_TABLE_SIZE_IN_BYTE/2)
                            30114 ; 781  |
                            30115 ; 782  |#define NUM_OF_LONG_PER_2048SEC                     (341)   // 2048/6=>341
                            30116 ; 783  |#ifdef _SUPPORT_2000_SONGS_
                            30117 ; 784  |#define NUM_OF_LEVEL2_2048SEC                           (49)    // 16384/341=>49
                            30118 ; 785  |#define NUM_OF_LEVEL2_FLASHPART_2048SEC         (25)    /* 8192/341=>25 */
                            30119 ; 786  |#else
                            30120 ; 787  |#define NUM_OF_LEVEL2_2048SEC                           (25)    // 8192/341=>25
                            30121 ; 788  |#define NUM_OF_LEVEL2_FLASHPART_2048SEC         (13)    /* 4096/341=>13 */
                            30122 ; 789  |#endif // _SUPPORT_2000_SONGS_
                            30123 ; 790  |
                            30124 ; 791  |#ifdef _SUPPORT_2000_SONGS_
                            30125 ; 792  |#define BYTE_FILL_INTERDB_GAP_2048                      (2000)  // 2048-((8192-(341*24))*6)
                            30126 ; 793  |#define BYTE_FILL_INTERDB_2ND_GAP_2048      (2532)  // 99328-96796
                            30127 ; 794  |#else
                            30128 ; 795  |#define BYTE_FILL_INTERDB_GAP_2048                      (((341-4)*6)+2) //2024
                            30129 ; 796  |#define BYTE_FILL_INTERDB_2ND_GAP_2048      (2556)  // 50176-47620
                            30130 ; 797  |#endif // _SUPPORT_2000_SONGS_
                            30131 ; 798  |
                            30132 ; 799  |#ifdef __cplusplus
                            30133 ; 800  |}
                            30134 ; 801  |#endif
                            30135 ; 802  |
                            30136 ; 803  |#endif  /* MUSICLIB_GHDR_H */
                            30137 
                            30139 
                            30140 ; 65   |
                            30141 ; 66   |#pragma asm
                            30146 ; 71   |#pragma endasm
                            30147 ; 72   |#endif  // #ifdef USE_PLAYLIST3
                            30148 ; 73   |//#include "chkdsk.h"      TT- TODO - Investigate why this isn't resolving.
                            30149 ; 74   |#ifdef WOW
                            30150 ; 75   |#include "wow_ed.h"
                            30151 ; 76   |#endif
                            30152 ; 77   |#ifdef AUDIBLE
                            30153 ; 78   |#include "audiblesongposition.h"
                            30154 ; 79   |#include <limits.h>
                            30155 ; 80   |#endif
                            30156 ; 81   |#ifdef SYNC_LYRICS
                            30157 ; 82   |#include "synclyrics.h"
                            30158 
                            30160 
                            30161 ; 1    |////////////////////////////////////////////////////////////////////////////////
                            30162 ; 2    |// Copyright(C) SigmaTel, Inc. 2004-2006
                            30163 ; 3    |//
                            30164 ; 4    |// File        : synclyrics.h
                            30165 ; 5    |// Description : sync lyrics header file
                            30166 ; 6    |////////////////////////////////////////////////////////////////////////////////
                            30167 ; 7    |#ifndef __SYNC_LYRICS_H
                            30168 ; 8    |#define __SYNC_LYRICS_H
                            30169 ; 9    |
                            30170 ; 10   |#include "types.h"
                            30171 
                            30173 
                            30174 ; 1    |////////////////////////////////////////////////////////////////////////////////
                            30175 ; 2    |// Copyright(C) SigmaTel, Inc. 2000-2004
                            30176 ; 3    |//
                            30177 ; 4    |// Filename: types.h
                            30178 ; 5    |// Description: Standard data types
                            30179 ; 6    |////////////////////////////////////////////////////////////////////////////////
                            30180 ; 7    |
                            30181 ; 8    |#ifndef _TYPES_H
                            30182 ; 9    |#define _TYPES_H
                            30183 ; 10   |
                            30184 ; 11   |// TODO:  move this outta here!
                            30185 ; 12   |#if !defined(NOERROR)
                            30186 ; 13   |#define NOERROR 0
                            30187 ; 14   |#define SUCCESS 0
                            30188 ; 15   |#endif 
                            30189 ; 16   |#if !defined(SUCCESS)
                            30190 ; 17   |#define SUCCESS  0
                            30191 ; 18   |#endif
                            30192 ; 19   |#if !defined(ERROR)
                            30193 ; 20   |#define ERROR   -1
                            30194 ; 21   |#endif
                            30195 ; 22   |#if !defined(FALSE)
                            30196 ; 23   |#define FALSE 0
                            30197 ; 24   |#endif
                            30198 ; 25   |#if !defined(TRUE)
                            30199 ; 26   |#define TRUE  1
                            30200 ; 27   |#endif
                            30201 ; 28   |
                            30202 ; 29   |#if !defined(NULL)
                            30203 ; 30   |#define NULL 0
                            30204 ; 31   |#endif
                            30205 ; 32   |
                            30206 ; 33   |#define MAX_INT     0x7FFFFF
                            30207 ; 34   |#define MAX_LONG    0x7FFFFFffffff
                            30208 ; 35   |        // max positive unsigned long value: -1 == 0xFFFFFFffffff
                            30209 ; 36   |#define MAX_ULONG   (-1) 
                            30210 ; 37   |
                            30211 ; 38   |#define WORD_SIZE   24              // word size in bits
                            30212 ; 39   |#define BYTES_PER_WORD 3            // 8 bit bytes
                            30213 ; 40   |
                            30214 ; 41   |
                            30215 ; 42   |#define BYTE    unsigned char       // btVarName
                            30216 ; 43   |#define CHAR    signed char         // cVarName
                            30217 ; 44   |#define USHORT  unsigned short      // usVarName
                            30218 ; 45   |#define SHORT   unsigned short      // sVarName
                            30219 ; 46   |#define WORD    unsigned int        // wVarName
                            30220 ; 47   |#define INT     signed int          // iVarName
                            30221 ; 48   |#define DWORD   unsigned long       // dwVarName
                            30222 ; 49   |#define LONG    signed long         // lVarName
                            30223 ; 50   |#define BOOL    unsigned int        // bVarName
                            30224 ; 51   |#define FRACT   _fract              // frVarName
                            30225 ; 52   |#define LFRACT  long _fract         // lfrVarName
                            30226 ; 53   |#define CIRC    _circ               // cp<type prefix>VarName (see below)
                            30227 ; 54   |#define FLOAT   float               // fVarName
                            30228 ; 55   |#define DBL     double              // dVarName
                            30229 ; 56   |#define ENUM    enum                // eVarName
                            30230 ; 57   |#define CMX     _complex            // cmxVarName
                            30231 ; 58   |typedef WORD UCS3;                   // 
                            30232 ; 59   |
                            30233 ; 60   |#define UINT16  unsigned short
                            30234 ; 61   |#define UINT8   unsigned char   
                            30235 ; 62   |#define UINT32  unsigned long
                            30236 ; 63   |#define UINT64  unsigned long   // need to figure out how to do 64 bit values.  Or port exisiting code to only use 48 bit
                            30237 ; 64   |#define INT64   unsigned long   // need to figure out how to do 64 bit values.  Or port exisiting code to only use 48 bit
                            30238 ; 65   |#define WCHAR   UINT16
                            30239 ; 66   |
                            30240 ; 67   |//UINT128 is 16 bytes or 6 words
                            30241 ; 68   |typedef struct UINT128_3500 {   
                            30242 ; 69   |    int val[6];     
                            30243 ; 70   |} UINT128_3500;
                            30244 ; 71   |
                            30245 ; 72   |#define UINT128   UINT128_3500
                            30246 ; 73   |
                            30247 ; 74   |// Little endian word packed byte strings:   
                            30248 ; 75   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                            30249 ; 76   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                            30250 ; 77   |// Little endian word packed byte strings:   
                            30251 ; 78   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                            30252 ; 79   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                            30253 ; 80   |
                            30254 ; 81   |// Declare Memory Spaces To Use When Coding
                            30255 ; 82   |// A. Sector Buffers
                            30256 ; 83   |#define SECTOR_BUFFER_MEM_X _X
                            30257 ; 84   |#define SECTOR_BUFFER_MEM_Y _Y
                            30258 ; 85   |#define SECTOR_BUFFER_MEM SECTOR_BUFFER_MEM_X
                            30259 ; 86   |typedef WORD SECTOR_BUFFER_MEM SECTOR_BUFFER;
                            30260 ; 87   |typedef SECTOR_BUFFER * P_SECTOR_BUFFER;
                            30261 ; 88   |// B. Media DDI Memory
                            30262 ; 89   |#define MEDIA_DDI_MEM _Y
                            30263 ; 90   |
                            30264 ; 91   |
                            30265 ; 92   |
                            30266 ; 93   |// Pointers to linear structures are labeled as: p<type prefix>VarName
                            30267 ; 94   |// Examples of circular pointers:
                            30268 ; 95   |//    INT CIRC cpiVarName
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page 119

M:ADDR CODE           CYCLES LINE SOURCELINE
                            30269 ; 96   |//    DWORD CIRC cpdwVarName
                            30270 ; 97   |
                            30271 ; 98   |#define RETCODE INT                 // rcVarName
                            30272 ; 99   |
                            30273 ; 100  |// generic bitfield structure
                            30274 ; 101  |struct Bitfield {
                            30275 ; 102  |    unsigned int B0  :1;
                            30276 ; 103  |    unsigned int B1  :1;
                            30277 ; 104  |    unsigned int B2  :1;
                            30278 ; 105  |    unsigned int B3  :1;
                            30279 ; 106  |    unsigned int B4  :1;
                            30280 ; 107  |    unsigned int B5  :1;
                            30281 ; 108  |    unsigned int B6  :1;
                            30282 ; 109  |    unsigned int B7  :1;
                            30283 ; 110  |    unsigned int B8  :1;
                            30284 ; 111  |    unsigned int B9  :1;
                            30285 ; 112  |    unsigned int B10 :1;
                            30286 ; 113  |    unsigned int B11 :1;
                            30287 ; 114  |    unsigned int B12 :1;
                            30288 ; 115  |    unsigned int B13 :1;
                            30289 ; 116  |    unsigned int B14 :1;
                            30290 ; 117  |    unsigned int B15 :1;
                            30291 ; 118  |    unsigned int B16 :1;
                            30292 ; 119  |    unsigned int B17 :1;
                            30293 ; 120  |    unsigned int B18 :1;
                            30294 ; 121  |    unsigned int B19 :1;
                            30295 ; 122  |    unsigned int B20 :1;
                            30296 ; 123  |    unsigned int B21 :1;
                            30297 ; 124  |    unsigned int B22 :1;
                            30298 ; 125  |    unsigned int B23 :1;
                            30299 ; 126  |};
                            30300 ; 127  |
                            30301 ; 128  |union BitInt {
                            30302 ; 129  |        struct Bitfield B;
                            30303 ; 130  |        int        I;
                            30304 ; 131  |};
                            30305 ; 132  |
                            30306 ; 133  |#define MAX_MSG_LENGTH 10
                            30307 ; 134  |struct CMessage
                            30308 ; 135  |{
                            30309 ; 136  |        unsigned int m_uLength;
                            30310 ; 137  |        unsigned int m_uMsg[MAX_MSG_LENGTH];
                            30311 ; 138  |};
                            30312 ; 139  |
                            30313 ; 140  |typedef struct {
                            30314 ; 141  |    WORD m_wLength;
                            30315 ; 142  |    WORD m_wMessage;
                            30316 ; 143  |    WORD m_wParams[MAX_MSG_LENGTH];
                            30317 ; 144  |} Message;
                            30318 ; 145  |
                            30319 ; 146  |struct MessageQueueDescriptor
                            30320 ; 147  |{
                            30321 ; 148  |        int *m_pBase;
                            30322 ; 149  |        int m_iModulo;
                            30323 ; 150  |        int m_iSize;
                            30324 ; 151  |        int *m_pHead;
                            30325 ; 152  |        int *m_pTail;
                            30326 ; 153  |};
                            30327 ; 154  |
                            30328 ; 155  |struct ModuleEntry
                            30329 ; 156  |{
                            30330 ; 157  |    int m_iSignaledEventMask;
                            30331 ; 158  |    int m_iWaitEventMask;
                            30332 ; 159  |    int m_iResourceOfCode;
                            30333 ; 160  |    struct MessageQueueDescriptor *m_pMessageQueue;
                            30334 ; 161  |    int _asmfunc (*m_pProcessEntryPoint)(union WaitMask Signals,struct MessageQueueDescriptor *);
                            30335 ; 162  |    int _asmfunc (*m_pInitFunction)(struct MessageQueueDescriptor *);
                            30336 ; 163  |    int m_uTimeOutHigh;
                            30337 ; 164  |    int m_uTimeOutLow;
                            30338 ; 165  |    int _asmfunc (*m_pBackgroundFunction)(struct MessageQueueDescriptor *);
                            30339 ; 166  |};
                            30340 ; 167  |
                            30341 ; 168  |union WaitMask{
                            30342 ; 169  |    struct B{
                            30343 ; 170  |        unsigned int m_bNone     :1;
                            30344 ; 171  |        unsigned int m_bMessage  :1;
                            30345 ; 172  |        unsigned int m_bTimer    :1;
                            30346 ; 173  |        unsigned int m_bButton   :1;
                            30347 ; 174  |    } B;
                            30348 ; 175  |    int I;
                            30349 ; 176  |} ;
                            30350 ; 177  |
                            30351 ; 178  |
                            30352 ; 179  |struct Button {
                            30353 ; 180  |        WORD wButtonEvent;
                            30354 ; 181  |        WORD wUnused[MAX_MSG_LENGTH];   
                            30355 ; 182  |};
                            30356 ; 183  |
                            30357 ; 184  |struct Message {
                            30358 ; 185  |        WORD wMsgLength;
                            30359 ; 186  |        WORD wMsgCommand;
                            30360 ; 187  |        WORD wMsgParms[MAX_MSG_LENGTH-1];
                            30361 ; 188  |};
                            30362 ; 189  |
                            30363 ; 190  |union EventTypes {
                            30364 ; 191  |        struct CMessage msg;
                            30365 ; 192  |        struct Button Button ;
                            30366 ; 193  |        struct Message Message;
                            30367 ; 194  |};
                            30368 ; 195  |
                            30369 ; 196  |// next 2 used to get updater build to return correct protocol ver in scsi response.
                            30370 ; 197  |#define BUILD_TYPE_UPDATER  0x100
                            30371 ; 198  |#define BUILD_TYPE_HOSTLINK 0x101
                            30372 ; 199  |#define BUILD_TYPE_PLAYER   0x102
                            30373 ; 200  |
                            30374 ; 201  |// Resets part if RETAIL build. DEBUG build executes debug instruction to halt.
                            30375 ; 202  |#define SystemHalt() __asm(" include 'sysmacro.asm' \n error") 
                            30376 ; 203  |#define assert(x)    if(!(x)) __asm(" include 'sysmacro.asm' \n error")
                            30377 ; 204  |
                            30378 ; 205  |#if DEBUG
                            30379 ; 206  |// For DEBUG builds, DebugBuildAssert(condition) halts if condition evaluates to FALSE. 
                            30380 ; 207  |#define DebugBuildAssert(x)    if(!(x)) __asm(" debug ")
                            30381 ; 208  |#else 
                            30382 ; 209  |// For RETAIL builds, DebugBuildAssert(condition) does nothing & execution continues rather than halt or reset. 
                            30383 ; 210  |#define DebugBuildAssert(x)    
                            30384 ; 211  |#endif
                            30385 ; 212  |
                            30386 ; 213  |// Do this in your C files to make a reminder that's displayed during the build.
                            30387 ; 214  |//  #pragma asm
                            30388 ; 215  |//  WARN 'Note to builder: reminder to do this after verifying that'
                            30389 ; 216  |//  #pragma endasm
                            30390 ; 217  |
                            30391 ; 218  |
                            30392 ; 219  |#ifdef COLOR_262K
                            30393 ; 220  |#define RGB(r,g,b)    ((0x0000FC & (r)) << 10) | ((0x0000FC & (g)) << 4) | ((0x0000FC & (b)) >> 2)    //262k
                            30394 ; 221  |#elif defined(COLOR_65K)
                            30395 ; 222  |#define RGB(r,g,b)    ((0x0000F8 & (r)) << 8) | ((0x0000FC & (g)) << 3) | ((0x0000F8 & (b)) >> 3)  //65k
                            30396 ; 223  |#else
                            30397 ; 224  |#define RGB(r,g,b)       ((0x0000F0 & (r)) << 4) | (0x0000F0 & (g)) | ((0x0000F0 & (b)) >> 4)
                            30398 ; 225  |#endif
                            30399 ; 226  |    
                            30400 ; 227  |#endif // #ifndef _TYPES_H
                            30401 
                            30403 
                            30404 ; 11   |#include "project.h"
                            30405 
                            30407 
                            30408 ; 1    |/////////////////////////////////////////////////////////////////////////////////
                            30409 ; 2    |//  Copyright(C) SigmaTel, Inc. 2000-2004
                            30410 ; 3    |//  Filename: project.inc
                            30411 ; 4    |//  Description: 
                            30412 ; 5    |/////////////////////////////////////////////////////////////////////////////////
                            30413 ; 6    |
                            30414 ; 7    |#if (!defined(_PROJECT_INC))
                            30415 ; 8    |#define _PROJECT_INC 1
                            30416 ; 9    |
                            30417 ; 10   |#if defined(STMP_BUILD_PLAYER)
                            30418 ; 11   |#include "hwequ.h"
                            30419 ; 12   |#else 
                            30420 ; 13   |//include "regscodec.inc"
                            30421 ; 14   |#endif
                            30422 ; 15   |
                            30423 ; 16   |//////////////////////////////////////////////////////////////////////////////////
                            30424 ; 17   |// Uncomment next define to allow player boot if you have stfm1000 macro enabled (defaults ON) & 
                            30425 ; 18   |// your board crystal is not able to output nominal voltage range. Used in player main.asm. STMP00012148
                            30426 ; 19   |// Defining this will result in lower battery life (price of using a lower quality crystal). 
                            30427 ; 20   |// Those that want to save battery life and have good crystals that meet our HW team's specs can 
                            30428 ; 21   |// comment out this line to reduce crystal bias current and so battery current in player mode.  
                            30429 ; 22   |#define SUPPORT_MARGINAL_XTALS 1
                            30430 ; 23   |
                            30431 ; 24   |/////////////////////////////////////////////////////////////////////////////////
                            30432 ; 25   |// BOOT SPEED CONFIG & ASSOCIATED BATTERY VOLTAGE CHECK ENABLE
                            30433 ; 26   |/////////////////////////////////////////////////////////////////////////////////
                            30434 ; 27   |// Users can enable one of ATTEMPT_FAST_BOOT or FASTEST boot or neither project define below by defining
                            30435 ; 28   |// values as 0 or 1, else it defaults to the boot speed used in previous SDKs.
                            30436 ; 29   |#define ATTEMPT_FAST_BOOT 1
                            30437 ; 30   |#define ATTEMPT_FASTEST_BOOT 0   
                            30438 ; 31   |// Changing this define to 0 removes Vbat threshholding & unconditionally gives fast boot config above- 
                            30439 ; 32   |// disabling this check is suggested for profiling if you want to try to tweak down threshholds by maybe 50mV.
                            30440 ; 33   |// Also the tests should clear the fast boot config defines to link & boot at normal speed.
                            30441 ; 34   |#define SPEED_BOOT_BATTERY_CHECK 1
                            30442 ; 35   |
                            30443 ; 36   |/////////////////////////////////////////////////////////////////////////////////
                            30444 ; 37   |// MEDIA DEFINITIONS
                            30445 ; 38   |/////////////////////////////////////////////////////////////////////////////////
                            30446 ; 39   |
                            30447 ; 40   |/////////////////////////////////////////////////////////////////////////////////
                            30448 ; 41   |// MNAND - Number of chips forming the internal physical device (i.e. # of NANDs)
                            30449 ; 42   |#if defined(NAND1)
                            30450 ; 43   |#define SM_INTERNAL_CHIPS 1
                            30451 ; 44   |#else 
                            30452 ; 45   |#if defined(NAND2)
                            30453 ; 46   |#define SM_INTERNAL_CHIPS 2
                            30454 ; 47   |#else 
                            30455 ; 48   |#if defined(NAND3)
                            30456 ; 49   |#define SM_INTERNAL_CHIPS 3
                            30457 ; 50   |#else 
                            30458 ; 51   |#if defined(NAND4)
                            30459 ; 52   |#define SM_INTERNAL_CHIPS 4
                            30460 ; 53   |#else 
                            30461 ; 54   |#define SM_INTERNAL_CHIPS 1
                            30462 ; 55   |#endif
                            30463 ; 56   |#endif
                            30464 ; 57   |#endif
                            30465 ; 58   |#endif
                            30466 ; 59   |
                            30467 ; 60   |/////////////////////////////////////////////////////////////////////////////////
                            30468 ; 61   |// If SMARTMEDIA_DETECT_ACTIVE_HIGH is defined:
                            30469 ; 62   |//   SmartMedia will be detected as inserted if the GPIO pin reads 1 and removed if it reads 0.  
                            30470 ; 63   |// If SMARTMEDIA_DETECT_ACTIVE_HIGH is not defined ** comment out next line **
                            30471 ; 64   |//   SmartMedia will be detected as inserted if the GPIO pin reads 0 and removed if it reads 1.
                            30472 ; 65   |//*** comment out if active high ****
                            30473 ; 66   |//SMARTMEDIA_DETECT_ACTIVE_HIGH  equ     1
                            30474 ; 67   |
                            30475 ; 68   |#if defined(SMEDIA)
                            30476 ; 69   |#define NUM_REMOVABLE_MEDIA 1
                            30477 ; 70   |#define NUM_SM_EXTERNAL 1
                            30478 ; 71   |#define MMC_MAX_PHYSICAL_DEVICES 0
                            30479 ; 72   |#define SM_MAX_LOGICAL_DEVICES 2
                            30480 ; 73   |#else 
                            30481 ; 74   |#if defined(MMC)
                            30482 ; 75   |#define NUM_REMOVABLE_MEDIA 1
                            30483 ; 76   |#define NUM_SM_EXTERNAL 0
                            30484 ; 77   |#define MMC_MAX_PHYSICAL_DEVICES 1
                            30485 ; 78   |#define SM_MAX_LOGICAL_DEVICES 1
                            30486 ; 79   |#else 
                            30487 ; 80   |#define NUM_REMOVABLE_MEDIA 0
                            30488 ; 81   |#define NUM_SM_EXTERNAL 0
                            30489 ; 82   |#define MMC_MAX_PHYSICAL_DEVICES 0
                            30490 ; 83   |#define SM_MAX_LOGICAL_DEVICES 1
                            30491 ; 84   |#endif
                            30492 ; 85   |#endif
                            30493 ; 86   |
                            30494 ; 87   |/////////////////////////////////////////////////////////////////////////////////
                            30495 ; 88   |// Mass Storage Class definitions
                            30496 ; 89   |/////////////////////////////////////////////////////////////////////////////////
                            30497 ; 90   |// Set to 0 if Composite Device build is desired.    
                            30498 ; 91   |#define MULTI_LUN_BUILD 1   
                            30499 ; 92   |
                            30500 ; 93   |////////////////////////////////////////////////////////////////////////////////
                            30501 ; 94   |//  SCSI
                            30502 ; 95   |#if (MULTI_LUN_BUILD==0)
                            30503 ; 96   |  #if (NUM_REMOVABLE_MEDIA == 1)
                            30504 ; 97   |    #define SCSI_NUM_TARGETS                        2
                            30505 ; 98   |    #define SCSI_DEVICE_NUM_LUNS_DEV_0              1
                            30506 ; 99   |    #define SCSI_DEVICE_NUM_LUNS_DEV_1              1
                            30507 ; 100  |  #else
                            30508 ; 101  |    #define SCSI_NUM_TARGETS                        1
                            30509 ; 102  |    #define SCSI_DEVICE_NUM_LUNS_DEV_0              1
                            30510 ; 103  |  #endif
                            30511 ; 104  |#else
                            30512 ; 105  |    #define SCSI_NUM_TARGETS                        1
                            30513 ; 106  |  #if (NUM_REMOVABLE_MEDIA == 1)
                            30514 ; 107  |    #define SCSI_DEVICE_NUM_LUNS_DEV_0              2
                            30515 ; 108  |  #else
                            30516 ; 109  |    #define SCSI_DEVICE_NUM_LUNS_DEV_0              1  
                            30517 ; 110  |  #endif
                            30518 ; 111  |#endif
                            30519 ; 112  |
                            30520 ; 113  |
                            30521 ; 114  |#define USBMSC_NUM_DEVICES                      SCSI_NUM_TARGETS
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page 120

M:ADDR CODE           CYCLES LINE SOURCELINE
                            30522 ; 115  |
                            30523 ; 116  |
                            30524 ; 117  |////////////////////////////////////////////////////////////////////////////////
                            30525 ; 118  |// Define number of logical medias and drives for three builds (MTP, USBMSC, and Player)
                            30526 ; 119  |////////////////////////////////////////////////////////////////////////////////
                            30527 ; 120  |#ifdef MMC
                            30528 ; 121  |#ifdef MTP_BUILD
                            30529 ; 122  |// --------------------
                            30530 ; 123  |// MTP and MMC
                            30531 ; 124  |// --------------------
                            30532 ; 125  |#define NUM_LOGICAL_MEDIA       2
                            30533 ; 126  |#define NUM_LOGICAL_DRIVES      8
                            30534 ; 127  |#else  // ifndef MTP_BUILD
                            30535 ; 128  |#ifdef STMP_BUILD_PLAYER
                            30536 ; 129  |// --------------------
                            30537 ; 130  |// Player and MMC
                            30538 ; 131  |// --------------------
                            30539 ; 132  |#else
                            30540 ; 133  |// --------------------
                            30541 ; 134  |// USBMSC and MMC
                            30542 ; 135  |// --------------------
                            30543 ; 136  |#define NUM_LOGICAL_MEDIA       3
                            30544 ; 137  |#define NUM_LOGICAL_DRIVES      8
                            30545 ; 138  |#endif // ifdef STMP_BUILD_PLAYER
                            30546 ; 139  |#endif // ifdef MTP_BUILD
                            30547 ; 140  |#else  // ifndef MMC
                            30548 ; 141  |#ifdef MTP_BUILD
                            30549 ; 142  |// --------------------
                            30550 ; 143  |// MTP and NAND only
                            30551 ; 144  |// --------------------
                            30552 ; 145  |#define NUM_LOGICAL_MEDIA       1
                            30553 ; 146  |#define NUM_LOGICAL_DRIVES      7
                            30554 ; 147  |#else  // ifndef MTP_BUILD
                            30555 ; 148  |#ifdef STMP_BUILD_PLAYER
                            30556 ; 149  |// --------------------
                            30557 ; 150  |// Player and NAND only
                            30558 ; 151  |// --------------------
                            30559 ; 152  |#else
                            30560 ; 153  |// --------------------
                            30561 ; 154  |// USBMSC and NAND only
                            30562 ; 155  |// --------------------
                            30563 ; 156  |#define NUM_LOGICAL_MEDIA       2
                            30564 ; 157  |#define NUM_LOGICAL_DRIVES      7
                            30565 ; 158  |#endif // ifdef STMP_BUILD_PLAYER
                            30566 ; 159  |#endif // ifdef MTP_BUILD
                            30567 ; 160  |#endif // ifdef MMC 
                            30568 ; 161  |
                            30569 ; 162  |// If we are in an MTP build then we don't use as many transfers buffers.
                            30570 ; 163  |#if (defined(MTP_BUILD))
                            30571 ; 164  |#define MAX_USB_TRANSFERS_QUEUED 16
                            30572 ; 165  |
                            30573 ; 166  |////!
                            30574 ; 167  |////! This varible holds the watchdog count for the store flush.
                            30575 ; 168  |////!
                            30576 ; 169  |///
                            30577 ; 170  |#include <types.h>
                            30578 ; 171  |extern volatile INT g_StoreWatchDogCount;
                            30579 ; 172  |extern const INT g_StoreWatchDogTimeout;
                            30580 ; 173  |#endif
                            30581 ; 174  |
                            30582 ; 175  |////////////////////////////////////////////////////////////////////////////////
                            30583 ; 176  |// These are needed here for Mass Storage Class
                            30584 ; 177  |// Needs to be cleaned up
                            30585 ; 178  |////////////////////////////////////////////////////////////////////////////////
                            30586 ; 179  |#if (!defined(STMP_BUILD_PLAYER))
                            30587 ; 180  |#define SCRATCH_USER_Y_SIZE 512
                            30588 ; 181  |#define SCRATCH_USER_X_SIZE 512
                            30589 ; 182  |
                            30590 ; 183  |#define BROWNOUT_LEVEL1_DETECTED                0x000001
                            30591 ; 184  |
                            30592 ; 185  |#endif
                            30593 ; 186  |
                            30594 ; 187  |
                            30595 ; 188  |/////////////////////////////////////////////////////////////////////////////////
                            30596 ; 189  |// SmartMedia/NAND defs
                            30597 ; 190  |#define SM_MAX_PHYSICAL_DEVICES SM_INTERNAL_CHIPS+NUM_SM_EXTERNAL
                            30598 ; 191  |#define SM_REMOVABLE_DEVICE_NUM SM_INTERNAL_CHIPS
                            30599 ; 192  |
                            30600 ; 193  |/////////////////////////////////////////////////////////////////////////////////
                            30601 ; 194  |// Sysloadresources defs
                            30602 ; 195  |#define SM_MAX_RESOURCE_DEVICES SM_INTERNAL_CHIPS+NUM_SM_EXTERNAL
                            30603 ; 196  |
                            30604 ; 197  |/////////////////////////////////////////////////////////////////////////////////
                            30605 ; 198  |// MMC defs
                            30606 ; 199  |#define MMC_MAX_PARTITIONS 1
                            30607 ; 200  |#define MMC_MAX_LOGICAL_DEVICES MMC_MAX_PHYSICAL_DEVICES*MMC_MAX_PARTITIONS
                            30608 ; 201  |
                            30609 ; 202  |/////////////////////////////////////////////////////////////////////////////////
                            30610 ; 203  |// SPI defs
                            30611 ; 204  |#define SPI_MAX_DEVICES MMC_MAX_PHYSICAL_DEVICES
                            30612 ; 205  |
                            30613 ; 206  |/////////////////////////////////////////////////////////////////////////////////
                            30614 ; 207  |// Global media defs
                            30615 ; 208  |#define MAX_PHYSICAL_DEVICES SM_MAX_PHYSICAL_DEVICES+MMC_MAX_PHYSICAL_DEVICES
                            30616 ; 209  |#define MAX_LOGICAL_DEVICES SM_MAX_LOGICAL_DEVICES+MMC_MAX_LOGICAL_DEVICES
                            30617 ; 210  |
                            30618 ; 211  |/////////////////////////////////////////////////////////////////////////////////
                            30619 ; 212  |// DO NOT CHANGE THESE!!!
                            30620 ; 213  |#define SM_MAX_PARTITIONS 4
                            30621 ; 214  |#define MAX_HANDLES 2
                            30622 ; 215  |/////////////////////////////////////////////////////////////////////////////////
                            30623 ; 216  |
                            30624 ; 217  |
                            30625 ; 218  |/////////////////////////////////////////////////////////////////////////////////
                            30626 ; 219  |// Battery LRADC Values 
                            30627 ; 220  |/////////////////////////////////////////////////////////////////////////////////
                            30628 ; 221  |// brownout trip point in mV (moved by RS)
                            30629 ; 222  |// BATT_SAFETY_MARGIN:  percentage value used by:
                            30630 ; 223  |//   * SysSaveSettings to determine if enough power is left to attempt a settings save. 
                            30631 ; 224  |//   * Recorder to conditionally prevent the start or continuation of 
                            30632 ; 225  |//     audio recording to media.
                            30633 ; 226  |#define BATT_SAFETY_MARGIN 10
                            30634 ; 227  |
                            30635 ; 228  |//; player resource drive refresh allowed only when battery usable % is above this value. 
                            30636 ; 229  |//; 50% of usable range [0.9V to 1.5V] is around 1.2V This is the safe target alkaline voltage to do a refresh.
                            30637 ; 230  |//; LIION will also require 50% which will work but that could be changed in the future. 
                            30638 ; 231  |//RESOURCE_REFRESH_MIN_BATT_PCT equ 50
                            30639 ; 232  |
                            30640 ; 233  |// stmp00005071 adds these for mp3 encode stability at low battery per battery type & mmc presence.
                            30641 ; 234  |
                            30642 ; 235  |//// Vbat threshholds empirically tuned by profiling max bat current for 3 HW cases: 
                            30643 ; 236  |//// 1 GigaByte MMC, NAND flash only, & LiIon Buck mode. See voicemenu pre-encode Vbat check.
                            30644 ; 237  |#if (!defined(CLCD))
                            30645 ; 238  |#define MP3_ENC_MMC_MIN_V_BAT_MV 1100
                            30646 ; 239  |#define MP3_ENC_NANDONLY_MIN_V_BAT_MV 1000
                            30647 ; 240  |#else 
                            30648 ; 241  |#define MP3_ENC_MMC_MIN_V_BAT_MV 1250
                            30649 ; 242  |#define MP3_ENC_NANDONLY_MIN_V_BAT_MV 1150
                            30650 ; 243  |#endif
                            30651 ; 244  |#define MP3_ENC_BUCKMODE_MIN_V_BAT_MV 3300
                            30652 ; 245  |
                            30653 ; 246  |// These Vbat use-range-percentages are derived to correspond with target battery 
                            30654 ; 247  |// voltages of 1.10V for MMC, 1.0V for nand only (alkaline or nimh), and 3.3V for any LiIon.
                            30655 ; 248  |// See mp3 encoder overlay.
                            30656 ; 249  |#define MP3_ENC_MMC_MIN_V_BAT_RANGE_PCT 33
                            30657 ; 250  |#define MP3_ENC_NANDONLY_MIN_V_BAT_RANGE_PCT 17
                            30658 ; 251  |#define MP3_ENC_BUCKMODE_MIN_V_BAT_RANGE_PCT 25
                            30659 ; 252  |
                            30660 ; 253  |/////////////////////////////////////////////////////////////////////////////////
                            30661 ; 254  |// Voice recording filenames
                            30662 ; 255  |// number of digits in filename Vxxx.wav
                            30663 ; 256  |/////////////////////////////////////////////////////////////////////////////////
                            30664 ; 257  |#define DIGITS_IN_VOICE_FILENAME 3   
                            30665 ; 258  |
                            30666 ; 259  |/////////////////////////////////////////////////////////////////////////////////
                            30667 ; 260  |// Mic Bias: Set this enable to 1 to internally generate mic bias voltage. 
                            30668 ; 261  |// Also below, must configure internal resistor value and pin to use for DC bias. 
                            30669 ; 262  |// Can set to 0 to disable internally generated mic bias voltage at pin lradc1/2.
                            30670 ; 263  |#if defined(DEVICE_3500)
                            30671 ; 264  |#define ENABLE_INTERNALLY_GENERATED_MICBIAS 1 
                            30672 ; 265  |// MIC BIAS circuit source selection: use Low Resolution ADC pin 2 or 1 to bias mic. 
                            30673 ; 266  |// Per your layout: select LRADC 2 or 1 below 
                            30674 ; 267  |//   (pin LRADC 2 for 35xx cpu card revB, LRADC 1 for 35xx cpu card revC, ref schematics, & demo player)
                            30675 ; 268  |#define LRADC_NUM_FOR_MIC_BIAS 1 
                            30676 ; 269  |// Sets internal mic bias R to value 2, 4, or 8 (in kOhms).
                            30677 ; 270  |#define MICBIAS_CONFIGURED_RESISTOR_KOHMS 8
                            30678 ; 271  |
                            30679 ; 272  |// Allows mic bias to settle before sampling. This delay currently unused. For rec btn when bias not yet ready.
                            30680 ; 273  |#define REC_BTN_INTERNAL_MIC_BIAS_SETTLING_DELAY_MS 400 
                            30681 ; 274  |// Option always keeps bias enabled after mainmenu init. This allows for start pop prevention if you use rec button from outside voice menu.
                            30682 ; 275  |// This selection costs 1 mWatt but gains the desired low record button to sampling latency in the record-from-music-menu use-case.
                            30683 ; 276  |#define KEEP_MIC_BIAS_ENABLED 0
                            30684 ; 277  |
                            30685 ; 278  |#else 
                            30686 ; 279  |// STMP3410
                            30687 ; 280  |#define ENABLE_INTERNALLY_GENERATED_MICBIAS 0
                            30688 ; 281  |#define LRADC_NUM_FOR_MIC_BIAS 1 
                            30689 ; 282  |#define MICBIAS_CONFIGURED_RESISTOR_KOHMS 2
                            30690 ; 283  |#endif
                            30691 ; 284  |
                            30692 ; 285  |/////////////////////////////////////////////////////////////////////////////////
                            30693 ; 286  |// Number of available soft timers
                            30694 ; 287  |/////////////////////////////////////////////////////////////////////////////////
                            30695 ; 288  |#if defined(SYNC_LYRICS)
                            30696 ; 289  |#define SOFT_TIMERS 10
                            30697 ; 290  |#else 
                            30698 ; 291  |#if defined(JPEG_DECODER)
                            30699 ; 292  |#define SOFT_TIMERS 10
                            30700 ; 293  |#else 
                            30701 ; 294  |#define SOFT_TIMERS 9
                            30702 ; 295  |#endif
                            30703 ; 296  |#endif
                            30704 ; 297  |
                            30705 ; 298  |/////////////////////////////////////////////////////////////////////////////////
                            30706 ; 299  |//  sizes
                            30707 ; 300  |/////////////////////////////////////////////////////////////////////////////////
                            30708 ; 301  |#if defined(MMC)
                            30709 ; 302  |#if defined(USE_PLAYLIST5)
                            30710 ; 303  |#define MENU_STACK_SIZE 1500
                            30711 ; 304  |#else 
                            30712 ; 305  |#define MENU_STACK_SIZE 1250
                            30713 ; 306  |#endif //if @def('USE_PLAYLIST5')
                            30714 ; 307  |#else 
                            30715 ; 308  |#if defined(USE_PLAYLIST5)
                            30716 ; 309  |#define MENU_STACK_SIZE 1500
                            30717 ; 310  |#else 
                            30718 ; 311  |#define MENU_STACK_SIZE 1250
                            30719 ; 312  |#endif //if @def('USE_PLAYLIST5')
                            30720 ; 313  |#endif //if @def('MMC')
                            30721 ; 314  |
                            30722 ; 315  |// NOTE: SDK2.6 USED 550 FOR NEXT LINE, BUT SDK3.0BETA USED 750. Should it be ifdef MTP 750 else 550 for other builds? TOVERIFY. MYALLOC
                            30723 ; 316  |// 
                            30724 ; 317  |#define STACK_L1_SIZE 750
                            30725 ; 318  |#define STACK_L2_SIZE 100
                            30726 ; 319  |#define STACK_L3_SIZE 160
                            30727 ; 320  |
                            30728 ; 321  |// If we are in MTP mode the overlay task stack can shrink.
                            30729 ; 322  |// TODO shrink this stack for MTP, I will leave it at 500 until we verify that it 
                            30730 ; 323  |// is ok with switching code.
                            30731 ; 324  |#if defined(MTP_BUILD)
                            30732 ; 325  |#define OVERLAY_MANAGER_STACK_SIZE 300
                            30733 ; 326  |#endif
                            30734 ; 327  |
                            30735 ; 328  |/////////////////////////////////////////////////////////////////////////////////
                            30736 ; 329  |// maximum number of nested funclets 
                            30737 ; 330  |/////////////////////////////////////////////////////////////////////////////////
                            30738 ; 331  |#define MAX_NESTED_FUNCLET 6 
                            30739 ; 332  |
                            30740 ; 333  |/////////////////////////////////////////////////////////////////////////////////
                            30741 ; 334  |//    LCD DEFINITIONS
                            30742 ; 335  |/////////////////////////////////////////////////////////////////////////////////
                            30743 ; 336  |
                            30744 ; 337  |#define SPACE_CHAR 0x000020          
                            30745 ; 338  |#define ZERO_CHAR 0x000030
                            30746 ; 339  |#define COLON_CHAR 0x00003A
                            30747 ; 340  |#define PERIOD_CHAR 0x00002E
                            30748 ; 341  |
                            30749 ; 342  |#if (defined(S6B33B0A_LCD))
                            30750 ; 343  |#define LCD_X_SIZE 128
                            30751 ; 344  |#define LCD_Y_SIZE 159
                            30752 ; 345  |#endif
                            30753 ; 346  |
                            30754 ; 347  |#if (defined(SED15XX_LCD))
                            30755 ; 348  |#define LCD_X_SIZE 128
                            30756 ; 349  |#define LCD_Y_SIZE 64
                            30757 ; 350  |#endif
                            30758 ; 351  |
                            30759 ; 352  |
                            30760 ; 353  |//////////////////////////////////////////////////////////////////////////////////
                            30761 ; 354  |//   Details on Customizing Contrast
                            30762 ; 355  |/////////////////////////////////////////////////////////////////////////////////
                            30763 ; 356  |//   Max supported LCD range is 0 - 3F; however due to hardware/voltage differences
                            30764 ; 357  |//   the range of visibility is usually smaller than this.  It is important to 
                            30765 ; 358  |//   calibrate the visible range, because the contrast setting is saved.
                            30766 ; 359  |//   If the user shuts off the player while lcd is not visible, the player is useless
                            30767 ; 360  |//   unless the ezact sequence is remembered.
                            30768 ; 361  |//   To find out what range your player supports: 
                            30769 ; 362  |//   change these equs to full range or comment out (full range is default)
                            30770 ; 363  |//;;;;;;
                            30771 ; 364  |// uncomment the line below to build code that will provide raw contrast value
                            30772 ; 365  |// recommended calibration using player -- uncomment 
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page 121

M:ADDR CODE           CYCLES LINE SOURCELINE
                            30773 ; 366  |//;;;;;;
                            30774 ; 367  |//CONTRAST_CALIBRATION    equ  1
                            30775 ; 368  |////////////////////////////
                            30776 ; 369  |#if (defined(DEMO_HW))
                            30777 ; 370  |// this is the setting for ET301 demos; Next 2 line have not been updated for new Shingyi LCD (June6'05)
                            30778 ; 371  |#define LCD_MAX_CONTRAST 0x32 
                            30779 ; 372  |#define LCD_MIN_CONTRAST 0x1E
                            30780 ; 373  |#else 
                            30781 ; 374  |
                            30782 ; 375  |#if (defined(S6B33B0A_LCD))
                            30783 ; 376  |#define LCD_MAX_CONTRAST 210
                            30784 ; 377  |#define LCD_MIN_CONTRAST 160    
                            30785 ; 378  |#endif
                            30786 ; 379  |
                            30787 ; 380  |#if (defined(SED15XX_LCD))
                            30788 ; 381  |// Next 3 line comment was for OLD shingyi LCD: (default LCD before sdk2.6)
                            30789 ; 382  |// Engineering board regs support range [17-37].
                            30790 ; 383  |//   Engineering board DC/DC support range [24-46]. 
                            30791 ; 384  |//   One default contrast range [24-42] works for both.
                            30792 ; 385  |// The 3 sets of contrast ranges below are updated for SDK2.6 to support either 
                            30793 ; 386  |// new or old ShingYih LCDs. "File" refers to \resource\shingyih\system_lcd_init_seq.src
                            30794 ; 387  |// 3/10/05 - Use one of the 2 next contrast ranges depending on which
                            30795 ; 388  |// ShingYih LCD you have.  See \resources\shingyi\readme.txt 
                            30796 ; 389  |// Optimal for NEW LCD with NEW file (SDK2.6 default)  
                            30797 ; 390  |// G098064-41 LCD module (present on engr board revH LCD card)
                            30798 ; 391  |
                            30799 ; 392  |#if (defined(NEWSHINGYIH))
                            30800 ; 393  |#define LCD_MAX_CONTRAST 250
                            30801 ; 394  |#define LCD_MIN_CONTRAST 0
                            30802 ; 395  |#else 
                            30803 ; 396  |//-----
                            30804 ; 397  |// Near optimal for OLD LCD with NEW file. 
                            30805 ; 398  |// NOT optimal for the new lcd but pretty good. So u may use this if u want 1 build for both LCDs.
                            30806 ; 399  |#define LCD_MAX_CONTRAST 250
                            30807 ; 400  |#define LCD_MIN_CONTRAST 0
                            30808 ; 401  |
                            30809 ; 402  |//=====
                            30810 ; 403  |// Optimal for OLD ShingYih LCD with OLD file (as sdk2.521)
                            30811 ; 404  |// Suggest going with default new init file & values above for your LCD instead of this historic ver.
                            30812 ; 405  |//LCD_MAX_CONTRAST equ 42
                            30813 ; 406  |//LCD_MIN_CONTRAST equ 24 
                            30814 ; 407  |
                            30815 ; 408  |#endif
                            30816 ; 409  |#endif
                            30817 ; 410  |
                            30818 ; 411  |#endif
                            30819 ; 412  |
                            30820 ; 413  |//////////////////////////////////////////////////////////////////////////////////
                            30821 ; 414  |// The default value of the lcd contrast in % of range
                            30822 ; 415  |//   the default value is used when no settings.dat is available
                            30823 ; 416  |//////////////////////////////////////////////////////////////////////////////////
                            30824 ; 417  |
                            30825 ; 418  |#if (defined(S6B33B0A_LCD))
                            30826 ; 419  |// 60% of range is default value
                            30827 ; 420  |#define DEFAULT_CONTRAST 50 
                            30828 ; 421  |#endif
                            30829 ; 422  |
                            30830 ; 423  |#if (defined(SED15XX_LCD))
                            30831 ; 424  |// % of range is default value (was 60%)
                            30832 ; 425  |#define DEFAULT_CONTRAST 50 
                            30833 ; 426  |#endif
                            30834 ; 427  |
                            30835 ; 428  |
                            30836 ; 429  |// percentage change per increment/decrement message (LCD_DEC_CONTRAST/LCD_INC_CONTRAST)
                            30837 ; 430  |// make lower when doing calibration
                            30838 ; 431  |#define LCD_STEPSIZE_CONTRAST 10  
                            30839 ; 432  |
                            30840 ; 433  |
                            30841 ; 434  |/////////////////////////////////////////////////////////////////////////////////
                            30842 ; 435  |// For FFWD and RWND
                            30843 ; 436  |/////////////////////////////////////////////////////////////////////////////////
                            30844 ; 437  |#define SECONDS_TO_SKIP 1
                            30845 ; 438  |#define SECONDS_TO_SKIP1 3
                            30846 ; 439  |#define SECONDS_TO_SKIP2 6
                            30847 ; 440  |// number of seconds to cause reset to begin of song for PREV push
                            30848 ; 441  |#define PREV_SONG_THRESHOLD 5  
                            30849 ; 442  |// number of 300 mSec periods before the numbers of seconds to skip increases
                            30850 ; 443  |#define FIRST_TIME_BOUNDARY 15 
                            30851 ; 444  |// number of 300 mSec periods before the numbers of seconds to skip increases
                            30852 ; 445  |#define SECOND_TIME_BOUNDARY 30 
                            30853 ; 446  |
                            30854 ; 447  |// For audible FFW/RWD
                            30855 ; 448  |#define SECONDS_TO_SKIP_FOR_3X_RATE 1
                            30856 ; 449  |#define SECONDS_TO_SKIP_FOR_60X_RATE 18
                            30857 ; 450  |#define SECONDS_TO_SKIP_FOR_600X_RATE 180
                            30858 ; 451  |#define SECONDS_TO_SKIP_FOR_1800X_RATE 540
                            30859 ; 452  |// number of 300 mSec periods before the numbers of seconds to skip increases
                            30860 ; 453  |#define LEVEL1_BOUNDARY 17 
                            30861 ; 454  |// number of 300 mSec periods before the numbers of seconds to skip increases
                            30862 ; 455  |#define LEVEL2_BOUNDARY 33 
                            30863 ; 456  |// number of 300 mSec periods before the numbers of seconds to skip increases
                            30864 ; 457  |#define LEVEL3_BOUNDARY 50 
                            30865 ; 458  |// Stmp00010296 Ticket #71685:  for song shorter than the min. skip size
                            30866 ; 459  |// if song_time < skip_size, bCurrentSongShort=>TRUE (ignore FWD/RWD commands)
                            30867 ; 460  |// Short Song Time, songs too short to play.
                            30868 ; 461  |#define SHORT_SONG_TIME SECONDS_TO_SKIP         
                            30869 ; 462  |
                            30870 ; 463  |/////////////////////////////////////////////////////////////////////////////////
                            30871 ; 464  |// MP3 Sync Values
                            30872 ; 465  |/////////////////////////////////////////////////////////////////////////////////
                            30873 ; 466  |// # bytes to look for sync before marking it bad
                            30874 ; 467  |#define MP3_SYNC_THRESHOLD 70000 
                            30875 ; 468  |// # bytes to look for sync before slowing decoder isr frequency (to let menus run)
                            30876 ; 469  |#define MP3_SYNC_THRESHOLD1 10000 
                            30877 ; 470  |// once we have sync'd, the isr should be called this frequently
                            30878 ; 471  |#define MP3_DECODERISR_FAST 7500  
                            30879 ; 472  |// if decoder is having difficulty syncing, switch isr to be called less frequently
                            30880 ; 473  |#define MP3_DECODERISR_SLOW 50000 
                            30881 ; 474  |
                            30882 ; 475  |
                            30883 ; 476  |/////////////////////////////////////////////////////////////////////////////////
                            30884 ; 477  |//// Multi-Stage Volume Control Definitions
                            30885 ; 478  |/////////////////////////////////////////////////////////////////////////////////
                            30886 ; 479  |//// Use Multi-Stage Volume
                            30887 ; 480  |#define MULTI_STAGE_VOLUME 0x1                  
                            30888 ; 481  |
                            30889 ; 482  |//// Master Volume definitions
                            30890 ; 483  |#define MIX_MSTR_MAX_VOL 0x0
                            30891 ; 484  |#define NUM_MSTR_ATT_STEPS (0x1F-MIX_MSTR_MAX_VOL)
                            30892 ; 485  |
                            30893 ; 486  |//// DAC-Mode definitions
                            30894 ; 487  |//// Adjusts 0dB point
                            30895 ; 488  |#define MIX_DAC_NOM_VOL 0x6                  
                            30896 ; 489  |#define MIX_DAC_MIN_VOL 0x1F
                            30897 ; 490  |// For minimum clipping: Set MIX_DAC_MAX_VOL below to match MIX_DAC_NOM_VOL value 2 lines above.
                            30898 ; 491  |// For additional gain (with possible clipping): Set MIX_DAC_MAX_VOL in range below. 
                            30899 ; 492  |//                                               Each integer below MIX_DAC_NOM_VOL provides 1.5 dB gain on Stmp34x0; 
                            30900 ; 493  |//                                               Max gain possible: 8 step diff would provide +12dB gain.   
                            30901 ; 494  |// range: [0 to MIX_DAC_NOM_VOL] (0 for loudest volume)
                            30902 ; 495  |#define MIX_DAC_MAX_VOL 0x0  
                            30903 ; 496  |
                            30904 ; 497  |#define NUM_DAC_ATT_STEPS (MIX_DAC_MIN_VOL-MIX_DAC_NOM_VOL+1)
                            30905 ; 498  |#define NUM_DAC_GAIN_STEPS (MIX_DAC_NOM_VOL-MIX_DAC_MAX_VOL)
                            30906 ; 499  |#define NUM_DAC_MODE_VOL_STEPS (NUM_DAC_ATT_STEPS+NUM_MSTR_ATT_STEPS+NUM_DAC_GAIN_STEPS+1)
                            30907 ; 500  |
                            30908 ; 501  |//// If there is no stored volume, set to 50% of DAC-Mode max; change if DAC Mode is not the default
                            30909 ; 502  |//// STMP35xx has 2dB attenuation per step so default needs a few more steps above midpoint.
                            30910 ; 503  |#define DEFAULT_VOLUME ((NUM_DAC_MODE_VOL_STEPS/2)+6)         
                            30911 ; 504  |
                            30912 ; 505  |//// Set maximum restored volume to 75% of DAC-Mode max; change if DAC Mode is not the default
                            30913 ; 506  |#define MAX_RESTORED_VOLUME ((3*NUM_DAC_MODE_VOL_STEPS)/4)   
                            30914 ; 507  |
                            30915 ; 508  |
                            30916 ; 509  |//// Line In definitions (used for Line-In 1)
                            30917 ; 510  |//// 0dB point of the Line In
                            30918 ; 511  |#define MIX_LINE_NOM_VOL 0x8                  
                            30919 ; 512  |//// Minimum volume of Line In
                            30920 ; 513  |#define MIX_LINE_MIN_VOL 0x1F                 
                            30921 ; 514  |//// Maximum volume of Line In (can adjust extra gain)
                            30922 ; 515  |#define MIX_LINE_MAX_VOL 0x6                  
                            30923 ; 516  |#define NUM_LINE_ATT_STEPS (MIX_LINE_MIN_VOL-MIX_LINE_NOM_VOL+1)
                            30924 ; 517  |#define NUM_LINE_GAIN_STEPS (MIX_LINE_NOM_VOL-MIX_LINE_MAX_VOL)
                            30925 ; 518  |#define NUM_LINE_MODE_VOL_STEPS (NUM_LINE_ATT_STEPS+NUM_MSTR_ATT_STEPS+NUM_LINE_GAIN_STEPS+1)
                            30926 ; 519  |
                            30927 ; 520  |//// Line In definitions (used for FM tuner with 144 pin package)
                            30928 ; 521  |//// 0dB point of the Line In
                            30929 ; 522  |#define MIX_FM_NOM_VOL 0x8                  
                            30930 ; 523  |//// Minimum volume of Line In
                            30931 ; 524  |#define MIX_FM_MIN_VOL 0x1F                 
                            30932 ; 525  |//// Maximum volume of Line In (can adjust extra gain)
                            30933 ; 526  |#define MIX_FM_MAX_VOL 0x6                  
                            30934 ; 527  |#define NUM_FM_ATT_STEPS (MIX_FM_MIN_VOL-MIX_FM_NOM_VOL+1)
                            30935 ; 528  |#define NUM_FM_GAIN_STEPS (MIX_FM_NOM_VOL-MIX_FM_MAX_VOL)
                            30936 ; 529  |#define NUM_FM_MODE_VOL_STEPS (NUM_FM_ATT_STEPS+NUM_MSTR_ATT_STEPS+NUM_FM_GAIN_STEPS+1)
                            30937 ; 530  |
                            30938 ; 531  |/////////////////////////////////////////////////////////////////////////////////
                            30939 ; 532  |//// When enabled (1), periodically checks for one of several FM state machine invalid deadlock states & recovers. 
                            30940 ; 533  |//// Define as 0 to disable FM-deadlock-state checking and recovery.
                            30941 ; 534  |#define FM_WATCHDOG_ENABLE 1
                            30942 ; 535  |
                            30943 ; 536  |#if !defined(STMP_BUILD_PLAYER)
                            30944 ; 537  |////
                            30945 ; 538  |////! This varible holds the lcd display state for the mtp project.
                            30946 ; 539  |////
                            30947 ; 540  |///
                            30948 ; 541  |#include <types.h>
                            30949 ; 542  |extern volatile WORD g_wActivityState;
                            30950 ; 543  |#endif // if !@def('STMP_BUILD_PLAYER')
                            30951 ; 544  |
                            30952 ; 545  |void _reentrant Init5VSense(void);
                            30953 ; 546  |void _reentrant ServiceDCDC(void);
                            30954 ; 547  |
                            30955 ; 548  |////////////////////////////////////////////////////////////////////////////
                            30956 ; 549  |//// JPEG Thumbnail Mode Setting
                            30957 ; 550  |//// number of column in thumbnail mode
                            30958 ; 551  |#define THUMBNAIL_X 2           
                            30959 ; 552  |//// number of row in  thumbnail mode
                            30960 ; 553  |#define THUMBNAIL_Y 2           
                            30961 ; 554  |//// thumbnail boundary offset x
                            30962 ; 555  |#define THUMBNAIL_X_OFFSET 4            
                            30963 ; 556  |//// thumbnail boundary offset y
                            30964 ; 557  |#define THUMBNAIL_Y_OFFSET 4            
                            30965 ; 558  |
                            30966 ; 559  |#endif // if (!@def(_PROJECT_INC))
                            30967 ; 560  |
                            30968 
                            30970 
                            30971 ; 12   |#include "messages.h"
                            30972 
                            30974 
                            30975 ; 1    |/////////////////////////////////////////////////////////////////////////////////
                            30976 ; 2    |// Copyright(C) SigmaTel, Inc. 2000
                            30977 ; 3    |// Message defs
                            30978 ; 4    |/////////////////////////////////////////////////////////////////////////////////
                            30979 ; 5    |
                            30980 ; 6    |#if (!defined(MSGEQU_INC))
                            30981 ; 7    |#define MSGEQU_INC 1
                            30982 ; 8    |
                            30983 ; 9    |
                            30984 ; 10   |#define MAX_MODULE_SIZE   (lc_u_eP_Module_overlay-lc_u_bP_Module_overlay)*3
                            30985 ; 11   |
                            30986 ; 12   |
                            30987 ; 13   |#define MSG_TYPE_DECODER 0x000000
                            30988 ; 14   |#define MSG_TYPE_ENCODER 0x010000
                            30989 ; 15   |#define MSG_TYPE_PARSER 0x020000
                            30990 ; 16   |#define MSG_TYPE_LCD 0x030000
                            30991 ; 17   |#define MSG_TYPE_MIXER 0x040000
                            30992 ; 18   |#define MSG_TYPE_SYSTEM 0x050000
                            30993 ; 19   |#define MSG_TYPE_MENU 0x060000
                            30994 ; 20   |#define MSG_TYPE_LED 0x070000
                            30995 ; 21   |#define MSG_TYPE_TUNER 0x080000
                            30996 ; 22   |#define MSG_TYPE_CHARLCD 0x030000
                            30997 ; 23   |#define MSG_TYPE_SOFT_TIMER 0x090000
                            30998 ; 24   |// Equalizer and other effects
                            30999 ; 25   |#define MSG_TYPE_GEQ 0x0a0000             
                            31000 ; 26   |#if (defined(USE_PLAYLIST3))
                            31001 ; 27   |#define MSG_TYPE_MUSICLIB_PLAY 0x0b0000
                            31002 ; 28   |#define MSG_TYPE_MUSICLIB_BROWSE 0x0c0000
                            31003 ; 29   |#define MSG_TYPE_MUSICLIB_PLAYALLNEXT 0x0d0000
                            31004 ; 30   |#define MSG_TYPE_MUSICLIB_PLAYALLPREV 0x0e0000
                            31005 ; 31   |#define MSG_TYPE_MUSICLIB_SHUFFLE 0x0f0000
                            31006 ; 32   |#define MSG_TYPE_MUSICLIB_VOICE 0x100000
                            31007 ; 33   |#define MSG_TYPE_MUSICLIB_VOICEPLAY 0x110000
                            31008 ; 34   |#define MSG_TYPE_MUSICLIB_MERGE 0x120000
                            31009 ; 35   |#endif // IF (@def(USE_PLAYLIST3))
                            31010 ; 36   |#if defined(USE_PLAYLIST5)
                            31011 ; 37   |#define MSG_TYPE_PL5_PLAYBACK 0x0b0000
                            31012 ; 38   |#define MSG_TYPE_PL5_BROWSE 0x0c0000
                            31013 ; 39   |#endif // if @def('USE_PLAYLIST5')
                            31014 ; 40   |
                            31015 ; 41   |// Message Structure Offsets
                            31016 ; 42   |#define MSG_Length 0
                            31017 ; 43   |#define MSG_ID 1
                            31018 ; 44   |#define MSG_Argument1 2
                            31019 ; 45   |#define MSG_Argument2 3
                            31020 ; 46   |#define MSG_Argument3 4
                            31021 ; 47   |#define MSG_Argument4 5
                            31022 ; 48   |#define MSG_Argument5 6
                            31023 ; 49   |#define MSG_Argument6 7
                            31024 ; 50   |
                            31025 ; 51   |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page 122

M:ADDR CODE           CYCLES LINE SOURCELINE
                            31026 ; 52   |
                            31027 ; 53   |// LCD Message IDs
                            31028 ; 54   |#define LCD_FIRST_MSG_ID MSG_TYPE_LCD+0
                            31029 ; 55   |#define LCD_CLEAR_RANGE MSG_TYPE_LCD+0
                            31030 ; 56   |#define LCD_PRINT_RANGE_RSRC MSG_TYPE_LCD+1
                            31031 ; 57   |#define LCD_PRINT_RANGE_ADDR MSG_TYPE_LCD+2
                            31032 ; 58   |#define LCD_PRINT_RANGE_INV_RSRC MSG_TYPE_LCD+3
                            31033 ; 59   |#define LCD_PRINT_RANGE_INV_ADDR MSG_TYPE_LCD+4
                            31034 ; 60   |#define LCD_PRINT_RANGE_FILE MSG_TYPE_LCD+5
                            31035 ; 61   |#define LCD_PRINT_RANGE_INV_FILE MSG_TYPE_LCD+6
                            31036 ; 62   |#define LCD_PRINT_STRING_RSRC MSG_TYPE_LCD+7
                            31037 ; 63   |#define LCD_PRINT_STRING_ADDR MSG_TYPE_LCD+8
                            31038 ; 64   |#define LCD_PRINT_STRING_INV_RSRC MSG_TYPE_LCD+9
                            31039 ; 65   |#define LCD_PRINT_STRING_INV_ADDR MSG_TYPE_LCD+10
                            31040 ; 66   |#define LCD_SCROLL_DISPLAY MSG_TYPE_LCD+11
                            31041 ; 67   |#define LCD_READ_LCD_ADDR MSG_TYPE_LCD+12
                            31042 ; 68   |#define LCD_SET_CONTRAST MSG_TYPE_LCD+13
                            31043 ; 69   |#define LCD_INC_CONTRAST MSG_TYPE_LCD+14
                            31044 ; 70   |#define LCD_DEC_CONTRAST MSG_TYPE_LCD+15
                            31045 ; 71   |#define LCD_BACKLIGHT_ON MSG_TYPE_LCD+16
                            31046 ; 72   |#define LCD_BACKLIGHT_OFF MSG_TYPE_LCD+17
                            31047 ; 73   |#define LCD_SET_FONT MSG_TYPE_LCD+18
                            31048 ; 74   |#define LCD_PRINT_NUMBER MSG_TYPE_LCD+19
                            31049 ; 75   |#define LCD_PRINT_TIME MSG_TYPE_LCD+20
                            31050 ; 76   |#define LCD_PRINT_TIME_LONG MSG_TYPE_LCD+21
                            31051 ; 77   |#define LCD_PRINT_STRING_UNICODE_INV_ADDR MSG_TYPE_LCD+22
                            31052 ; 78   |#define LCD_PRINT_STRING_UNICODE_ADDR MSG_TYPE_LCD+23
                            31053 ; 79   |#define LCD_PRINT_STRING_UNICODE_INV_RSRC MSG_TYPE_LCD+24
                            31054 ; 80   |#define LCD_PRINT_STRING_UNICODE_RSRC MSG_TYPE_LCD+25
                            31055 ; 81   |#define LCD_BEGIN_FRAME MSG_TYPE_LCD+26
                            31056 ; 82   |#define LCD_END_FRAME MSG_TYPE_LCD+27
                            31057 ; 83   |#define LCD_PRINT_NUMBER_INV MSG_TYPE_LCD+28
                            31058 ; 84   |#define LCD_PRINT_TIME_INV MSG_TYPE_LCD+29
                            31059 ; 85   |#define LCD_PRINT_TIME_LONG_INV MSG_TYPE_LCD+30
                            31060 ; 86   |#define LCD_SET_FRAMEBUFFER MSG_TYPE_LCD+31
                            31061 ; 87   |//send a NULL as Param1 to return to root frame buffer
                            31062 ; 88   |#define LCD_PUSH_MASK MSG_TYPE_LCD+32
                            31063 ; 89   |//Param1 = left
                            31064 ; 90   |//Param2 = top
                            31065 ; 91   |//Param3 = right
                            31066 ; 92   |//Param4 = bottom
                            31067 ; 93   |#define LCD_POP_MASK MSG_TYPE_LCD+33
                            31068 ; 94   |#define LCD_PRINT_UNICODE_CHAR MSG_TYPE_LCD+34
                            31069 ; 95   |#define LCD_PRINT_UNICODE_CHAR_INV MSG_TYPE_LCD+35
                            31070 ; 96   |#define LCD_DISPLAY_HISTOGRAM MSG_TYPE_LCD+36
                            31071 ; 97   |#define LCD_PRINT_TIME_L_1DIG_HR MSG_TYPE_LCD+37
                            31072 ; 98   |#define LCD_SET_ICON MSG_TYPE_LCD+38
                            31073 ; 99   |
                            31074 ; 100  |#define LCD_CLEAR_RANGE_BUFFER MSG_TYPE_LCD+39
                            31075 ; 101  |#define LCD_PRINT_RANGE_RSRC_BUFFER MSG_TYPE_LCD+40
                            31076 ; 102  |#define LCD_PRINT_RANGE_INV_RSRC_BUFFER MSG_TYPE_LCD+41
                            31077 ; 103  |#define LCD_PRINT_RANGE_ADDR_BUFFER MSG_TYPE_LCD+42
                            31078 ; 104  |#define LCD_PRINT_RANGE_INV_ADDR_BUFFER MSG_TYPE_LCD+43
                            31079 ; 105  |#define LCD_PRINT_STRING_RSRC_BUFFER MSG_TYPE_LCD+44
                            31080 ; 106  |#define LCD_PRINT_STRING_INV_RSRC_BUFFER MSG_TYPE_LCD+45
                            31081 ; 107  |#define LCD_PRINT_STRING_ADDR_BUFFER MSG_TYPE_LCD+46
                            31082 ; 108  |#define LCD_PRINT_STRING_INV_ADDR_BUFFER MSG_TYPE_LCD+47
                            31083 ; 109  |#define LCD_PRINT_NUMBER_BUFFER MSG_TYPE_LCD+48
                            31084 ; 110  |#define LCD_PRINT_NUMBER_INV_BUFFER MSG_TYPE_LCD+49
                            31085 ; 111  |#define LCD_PRINT_TIME_BUFFER MSG_TYPE_LCD+50
                            31086 ; 112  |#define LCD_PRINT_TIME_INV_BUFFER MSG_TYPE_LCD+51
                            31087 ; 113  |#define LCD_PRINT_TIME_LONG_BUFFER MSG_TYPE_LCD+52
                            31088 ; 114  |#define LCD_PRINT_TIME_LONG_INV_BUFFER MSG_TYPE_LCD+53
                            31089 ; 115  |#define LCD_PRINT_STRING_UNICODE_ADDR_BUFFER MSG_TYPE_LCD+54
                            31090 ; 116  |#define LCD_PRINT_STRING_UNICODE_INV_ADDR_BUFFER MSG_TYPE_LCD+55
                            31091 ; 117  |#define LCD_PRINT_STRING_UNICODE_RSRC_BUFFER MSG_TYPE_LCD+56
                            31092 ; 118  |#define LCD_PRINT_STRING_UNICODE_INV_RSRC_BUFFER MSG_TYPE_LCD+57
                            31093 ; 119  |#define LCD_PRINT_UNICODE_CHAR_BUFFER MSG_TYPE_LCD+58
                            31094 ; 120  |#define LCD_PRINT_UNICODE_CHAR_INV_BUFFER MSG_TYPE_LCD+59
                            31095 ; 121  |#define LCD_PRINT_TIME_L_1DIG_HR_BUFFER MSG_TYPE_LCD+60
                            31096 ; 122  |#define LCD_SET_BUFFER_COLOR MSG_TYPE_LCD+61
                            31097 ; 123  |#define LCD_FORCE_BUFFER_UPDATE MSG_TYPE_LCD+62
                            31098 ; 124  |#define LCD_SET_BUFFER_WINDOW MSG_TYPE_LCD+63
                            31099 ; 125  |#define LCD_SET_COLOR MSG_TYPE_LCD+64
                            31100 ; 126  |#define LCD_SET_BUFFER_POSITION MSG_TYPE_LCD+65
                            31101 ; 127  |
                            31102 ; 128  |#define LCD_TEMP_CONTRAST MSG_TYPE_LCD+66
                            31103 ; 129  |
                            31104 ; 130  |#if defined(CLCD_16BIT)
                            31105 ; 131  |#define LCD_16BIT_ON MSG_TYPE_LCD+67
                            31106 ; 132  |#define LCD_16BIT_OFF MSG_TYPE_LCD+68
                            31107 ; 133  |
                            31108 ; 134  |#define LCD_LAST_MSG_ID MSG_TYPE_LCD+68
                            31109 ; 135  |#else 
                            31110 ; 136  |#define LCD_LAST_MSG_ID MSG_TYPE_LCD+66
                            31111 ; 137  |#endif
                            31112 ; 138  |
                            31113 ; 139  |// If you change the LCD message ID's then you must
                            31114 ; 140  |// also change the jump table in lcdapi.asm
                            31115 ; 141  |
                            31116 ; 142  |// Character LCD Message IDs
                            31117 ; 143  |#define CHARLCD_FIRST_MSG_ID MSG_TYPE_CHARLCD+0
                            31118 ; 144  |#define CHARLCD_CLEAR_RANGE MSG_TYPE_CHARLCD+0
                            31119 ; 145  |#define CHARLCD_PRINT_RSRC MSG_TYPE_CHARLCD+1
                            31120 ; 146  |#define CHARLCD_PRINT_INV_RSRC MSG_TYPE_CHARLCD+2
                            31121 ; 147  |#define CHARLCD_PRINT_ASCII_CHAR MSG_TYPE_CHARLCD+3
                            31122 ; 148  |#define CHARLCD_PRINT_ASCII_INV_CHAR MSG_TYPE_CHARLCD+4
                            31123 ; 149  |#define CHARLCD_PRINT_STRING_RSRC MSG_TYPE_CHARLCD+5
                            31124 ; 150  |#define CHARLCD_PRINT_STRING_INV_RSRC MSG_TYPE_CHARLCD+6
                            31125 ; 151  |#define CHARLCD_PRINT_STRING_ADDR MSG_TYPE_CHARLCD+7
                            31126 ; 152  |#define CHARLCD_PRINT_STRING_INV_ADDR MSG_TYPE_CHARLCD+8
                            31127 ; 153  |#define CHARLCD_SCROLL_DISPLAY MSG_TYPE_CHARLCD+9
                            31128 ; 154  |#define CHARLCD_READ_LCD_ADDR MSG_TYPE_CHARLCD+10
                            31129 ; 155  |#define CHARLCD_SET_CURSOR MSG_TYPE_CHARLCD+11
                            31130 ; 156  |#define CHARLCD_SET_FONT MSG_TYPE_CHARLCD+12
                            31131 ; 157  |#define CHARLCD_PRINT_NUMBER MSG_TYPE_CHARLCD+13
                            31132 ; 158  |#define CHARLCD_PRINT_TIME MSG_TYPE_CHARLCD+14
                            31133 ; 159  |#define CHARLCD_SET_BATTERY MSG_TYPE_CHARLCD+15
                            31134 ; 160  |#define CHARLCD_SET_EQ MSG_TYPE_CHARLCD+16
                            31135 ; 161  |#define CHARLCD_SET_ICON MSG_TYPE_CHARLCD+17
                            31136 ; 162  |#define CHARLCD_SET_PLAYMODE MSG_TYPE_CHARLCD+18
                            31137 ; 163  |#define CHARLCD_SET_PLAYSTATE MSG_TYPE_CHARLCD+19
                            31138 ; 164  |#define CHARLCD_SET_VOLUME MSG_TYPE_CHARLCD+20
                            31139 ; 165  |#define CHARLCD_CLEAR_DISPLAY MSG_TYPE_CHARLCD+21
                            31140 ; 166  |#define CHARLCD_LAST_MSG_ID MSG_TYPE_CHARLCD+21
                            31141 ; 167  |// If you change the cHARACTER LCD message ID's then you must
                            31142 ; 168  |// also change the jump table in lcdapi.asm
                            31143 ; 169  |
                            31144 ; 170  |// Decoder Message IDs
                            31145 ; 171  |#define DECODER_FIRST_MSG_ID MSG_TYPE_DECODER+0
                            31146 ; 172  |#define DECODER_RESET MSG_TYPE_DECODER+0
                            31147 ; 173  |#define DECODER_SET_DIR MSG_TYPE_DECODER+1
                            31148 ; 174  |#define DECODER_PLAY MSG_TYPE_DECODER+2
                            31149 ; 175  |#define DECODER_STOP MSG_TYPE_DECODER+3
                            31150 ; 176  |#define DECODER_FFWD MSG_TYPE_DECODER+4
                            31151 ; 177  |#define DECODER_RWND MSG_TYPE_DECODER+5
                            31152 ; 178  |#define DECODER_NEXT_SONG MSG_TYPE_DECODER+6
                            31153 ; 179  |#define DECODER_PREV_SONG MSG_TYPE_DECODER+7
                            31154 ; 180  |#define DECODER_TIME_MODE MSG_TYPE_DECODER+8
                            31155 ; 181  |#define DECODER_AB_MODE MSG_TYPE_DECODER+9
                            31156 ; 182  |#define DECODER_SET_EQ MSG_TYPE_DECODER+10
                            31157 ; 183  |#define DECODER_GET_SONG_INFO MSG_TYPE_DECODER+11
                            31158 ; 184  |#define DECODER_NEXT_CHAPTER MSG_TYPE_DECODER+12
                            31159 ; 185  |#define DECODER_PREV_CHAPTER MSG_TYPE_DECODER+13
                            31160 ; 186  |#define DECODER_LAST_MSG_ID MSG_TYPE_DECODER+13
                            31161 ; 187  |// If you change the Decoder message ID's, then you must
                            31162 ; 188  |// also change the jump table in decoder_overlay.asm
                            31163 ; 189  |// and in dec_adpcm_overlay.asm.
                            31164 ; 190  |
                            31165 ; 191  |// Encoder Message IDs
                            31166 ; 192  |#define ENCODER_FIRST_MSG_ID MSG_TYPE_ENCODER+0
                            31167 ; 193  |#define ENCODER_RECORD MSG_TYPE_ENCODER+0
                            31168 ; 194  |#define ENCODER_STOP MSG_TYPE_ENCODER+1
                            31169 ; 195  |#define ENCODER_TIME_MODE MSG_TYPE_ENCODER+2
                            31170 ; 196  |#define ENCODER_LAST_MSG_ID MSG_TYPE_ENCODER+3
                            31171 ; 197  |// If you change the Encoder message ID's, then you must
                            31172 ; 198  |// also change the jump table in all encoder overlay modules.
                            31173 ; 199  |
                            31174 ; 200  |// Parser Message IDs
                            31175 ; 201  |#define PARSER_FIRST_MSG_ID MSG_TYPE_PARSER+0
                            31176 ; 202  |#define PARSER_NEXT_SONG MSG_TYPE_PARSER+0
                            31177 ; 203  |#define PARSER_PREV_SONG MSG_TYPE_PARSER+1
                            31178 ; 204  |#define PARSER_REPEAT MSG_TYPE_PARSER+2
                            31179 ; 205  |#define PARSER_RANDOM MSG_TYPE_PARSER+3
                            31180 ; 206  |#define PARSER_STOP MSG_TYPE_PARSER+4
                            31181 ; 207  |#define PARSER_DEVICE_ENUMERATE MSG_TYPE_PARSER+5
                            31182 ; 208  |#define PARSER_SET_CURRENT_SONG MSG_TYPE_PARSER+6
                            31183 ; 209  |#define PARSER_LAST_MSG_ID MSG_TYPE_PARSER+6
                            31184 ; 210  |// If you change the Parser message ID's, then you must
                            31185 ; 211  |// also change the jump table in parser.asm
                            31186 ; 212  |
                            31187 ; 213  |// Button Message IDs
                            31188 ; 214  |//BUTTON_FIRST_MSG_ID      equ     MSG_TYPE_BUTTON+0
                            31189 ; 215  |//BUTTON_BUTTONS_ON        equ     MSG_TYPE_BUTTON+0
                            31190 ; 216  |//BUTTON_BUTTONS_OFF       equ     MSG_TYPE_BUTTON+1
                            31191 ; 217  |//BUTTON_HOLD              equ     MSG_TYPE_BUTTON+2
                            31192 ; 218  |//BUTTON_HOLD_RELEASE      equ     MSG_TYPE_BUTTON+3
                            31193 ; 219  |//BUTTON_LAST_MSG_ID       equ     MSG_TYPE_BUTTON+3
                            31194 ; 220  |
                            31195 ; 221  |// Mixer Message IDs
                            31196 ; 222  |#define MIXER_FIRST_MSG_ID MSG_TYPE_MIXER+0
                            31197 ; 223  |#define MIXER_MASTER_INCR MSG_TYPE_MIXER+0
                            31198 ; 224  |#define MIXER_MASTER_DECR MSG_TYPE_MIXER+1
                            31199 ; 225  |#define MIXER_MASTER_SETLVL MSG_TYPE_MIXER+2
                            31200 ; 226  |#define MIXER_MASTER_MUTE MSG_TYPE_MIXER+3
                            31201 ; 227  |#define MIXER_MASTER_UNMUTE MSG_TYPE_MIXER+4
                            31202 ; 228  |#define MIXER_MASTER_FADE_OUT MSG_TYPE_MIXER+5
                            31203 ; 229  |#define MIXER_MASTER_FADE_IN MSG_TYPE_MIXER+6
                            31204 ; 230  |#define MIXER_MASTER_BAL_RIGHT MSG_TYPE_MIXER+7
                            31205 ; 231  |#define MIXER_MASTER_BAL_LEFT MSG_TYPE_MIXER+8
                            31206 ; 232  |#define MIXER_MIC_INCR MSG_TYPE_MIXER+9
                            31207 ; 233  |#define MIXER_MIC_DECR MSG_TYPE_MIXER+10
                            31208 ; 234  |#define MIXER_MIC_SETLVL MSG_TYPE_MIXER+11
                            31209 ; 235  |#define MIXER_MIC_MUTE MSG_TYPE_MIXER+12
                            31210 ; 236  |#define MIXER_MIC_UNMUTE MSG_TYPE_MIXER+13
                            31211 ; 237  |#define MIXER_MIC_BOOST MSG_TYPE_MIXER+14
                            31212 ; 238  |#define MIXER_MIC_UNBOOST MSG_TYPE_MIXER+15
                            31213 ; 239  |#define MIXER_LINE_INCR MSG_TYPE_MIXER+16
                            31214 ; 240  |#define MIXER_LINE_DECR MSG_TYPE_MIXER+17
                            31215 ; 241  |#define MIXER_LINE_SETLVL MSG_TYPE_MIXER+18
                            31216 ; 242  |#define MIXER_LINE_MUTE MSG_TYPE_MIXER+19
                            31217 ; 243  |#define MIXER_LINE_UNMUTE MSG_TYPE_MIXER+20
                            31218 ; 244  |#define MIXER_FM_INCR MSG_TYPE_MIXER+21
                            31219 ; 245  |#define MIXER_FM_DECR MSG_TYPE_MIXER+22
                            31220 ; 246  |#define MIXER_FM_SETLVL MSG_TYPE_MIXER+23
                            31221 ; 247  |#define MIXER_FM_MUTE MSG_TYPE_MIXER+24
                            31222 ; 248  |#define MIXER_FM_UNMUTE MSG_TYPE_MIXER+25
                            31223 ; 249  |#define MIXER_DAC_INCR MSG_TYPE_MIXER+26
                            31224 ; 250  |#define MIXER_DAC_DECR MSG_TYPE_MIXER+27
                            31225 ; 251  |#define MIXER_DAC_SETLVL MSG_TYPE_MIXER+28
                            31226 ; 252  |#define MIXER_DAC_MUTE MSG_TYPE_MIXER+29
                            31227 ; 253  |#define MIXER_DAC_UNMUTE MSG_TYPE_MIXER+30
                            31228 ; 254  |#define MIXER_ADC_SELECT MSG_TYPE_MIXER+31
                            31229 ; 255  |#define MIXER_ADC_INCR MSG_TYPE_MIXER+32
                            31230 ; 256  |#define MIXER_ADC_DECR MSG_TYPE_MIXER+33
                            31231 ; 257  |#define MIXER_ADC_SETLVL MSG_TYPE_MIXER+34
                            31232 ; 258  |#define MIXER_ADC_MUTE MSG_TYPE_MIXER+35
                            31233 ; 259  |#define MIXER_ADC_UNMUTE MSG_TYPE_MIXER+36
                            31234 ; 260  |#define MIXER_REC_SELECT MSG_TYPE_MIXER+37
                            31235 ; 261  |#define MIXER_POWER_DOWN MSG_TYPE_MIXER+38
                            31236 ; 262  |#define ENABLE_RIGHT_CH MSG_TYPE_MIXER+39
                            31237 ; 263  |#define DISABLE_RIGHT_CH MSG_TYPE_MIXER+40
                            31238 ; 264  |#define MIXER_LAST_MSG_ID MSG_TYPE_MIXER+40
                            31239 ; 265  |// If you change the mixer message ID's then you must
                            31240 ; 266  |// also change the jump table in mixer.asm
                            31241 ; 267  |#define MIXER_ON 0
                            31242 ; 268  |#define MIXER_OFF 1
                            31243 ; 269  |
                            31244 ; 270  |
                            31245 ; 271  |// System Message IDs
                            31246 ; 272  |#define SYSTEM_FIRST_MSG_ID MSG_TYPE_SYSTEM+0
                            31247 ; 273  |#define SYSTEM_SHUTDOWN MSG_TYPE_SYSTEM+0
                            31248 ; 274  |#define SYSTEM_SHUTDOWN_FALSE MSG_TYPE_SYSTEM+1
                            31249 ; 275  |#define SYSTEM_SHUTDOWN_FINAL MSG_TYPE_SYSTEM+2
                            31250 ; 276  |#define SYSTEM_LAST_MSG_ID MSG_TYPE_SYSTEM+2
                            31251 ; 277  |// If you change the system message ID's then you must
                            31252 ; 278  |// also change the jump table in systemapi.asm
                            31253 ; 279  |
                            31254 ; 280  |// Menu IDs
                            31255 ; 281  |#define MENU_FIRST_MSG_ID MSG_TYPE_MENU+0
                            31256 ; 282  |#define MENU_BUTTON_EVENT MSG_TYPE_MENU+0
                            31257 ; 283  |#define MENU_DECODER_STATE_CHNG MSG_TYPE_MENU+1
                            31258 ; 284  |#define MENU_RECORDER_STATE_CHNG MSG_TYPE_MENU+2
                            31259 ; 285  |//sub parameters for this message:
                            31260 ; 286  |#define RECORDER_START 0
                            31261 ; 287  |#define RECORDER_PAUSE 0x2000
                            31262 ; 288  |#define RECORDER_RESUME 0x4000
                            31263 ; 289  |#define RECORDER_STOP_NORMAL 0x8000
                            31264 ; 290  |#define RECORDER_STOP_FILE_ERROR 0x8001
                            31265 ; 291  |#define RECORDER_STOP_OUT_OF_SPACE 0x8002
                            31266 ; 292  |#define RECORDER_STOP_LOW_BATTERY 0x8003
                            31267 ; 293  |#define MENU_SONG_TIME_CHNG MSG_TYPE_MENU+3
                            31268 ; 294  |#define MENU_AB_MODE_OFF MSG_TYPE_MENU+4
                            31269 ; 295  |#define MENU_BATTERY_CHNG MSG_TYPE_MENU+5
                            31270 ; 296  |#define MENU_SCROLL_TITLE MSG_TYPE_MENU+6
                            31271 ; 297  |#define MENU_AUTO_SHUTDOWN MSG_TYPE_MENU+7
                            31272 ; 298  |#define MENU_MSG_MEDIA_CHANGED MSG_TYPE_MENU+8
                            31273 ; 299  |#define MENU_MSG_MEDIA_OVER_CUR MSG_TYPE_MENU+9
                            31274 ; 300  |#define MENU_TUNER_TUNED MSG_TYPE_MENU+10
                            31275 ; 301  |#define MENU_MSG_ENC_LOW_SPACE MSG_TYPE_MENU+11
                            31276 ; 302  |#define MENU_MSG_EQ_SETTINGS MSG_TYPE_MENU+12
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page 123

M:ADDR CODE           CYCLES LINE SOURCELINE
                            31277 ; 303  |#define MENU_RECORDER_WRITE_DATA MSG_TYPE_MENU+13
                            31278 ; 304  |#define MENU_SONG_TRACK_CHNG MSG_TYPE_MENU+14
                            31279 ; 305  |#define MENU_SET_SONG_POSITION MSG_TYPE_MENU+15
                            31280 ; 306  |#define MENU_UPDATE_CHAPTER_INFO MSG_TYPE_MENU+16
                            31281 ; 307  |#define MENU_USB_CONNECTED MSG_TYPE_MENU+17
                            31282 ; 308  |#define MENU_MSG_LYRICS_SYNC_AB MSG_TYPE_MENU+18
                            31283 ; 309  |#define MENU_MSG_LYRICS_UPDATE MSG_TYPE_MENU+19
                            31284 ; 310  |#define MENU_TUNER_REFRESH_DISPLAY MSG_TYPE_MENU+20
                            31285 ; 311  |#define MENU_TUNER_DIRTY_FLASH MSG_TYPE_MENU+21
                            31286 ; 312  |#define MENU_LAST_MSG_ID MSG_TYPE_MENU+21
                            31287 ; 313  |
                            31288 ; 314  |// Note that other versions of this file have different msg equates.
                            31289 ; 315  |// If you change the system message ID's then you must
                            31290 ; 316  |// also change the jump table in all menu *.asm
                            31291 ; 317  |
                            31292 ; 318  |// LED Message IDs
                            31293 ; 319  |#define LED_FIRST_MSG_ID MSG_TYPE_LED+0
                            31294 ; 320  |#define LED_CONTROL MSG_TYPE_LED+0
                            31295 ; 321  |#define LED_RESET MSG_TYPE_LED+1
                            31296 ; 322  |#define LED_DLY_ON_CONTROL MSG_TYPE_LED+2
                            31297 ; 323  |#define LED_LAST_MSG_ID MSG_TYPE_LED+2
                            31298 ; 324  |// If you change the LeD message ID's then you must
                            31299 ; 325  |// also change the jump table in ledapi.asm
                            31300 ; 326  |
                            31301 ; 327  |#if (!defined(REMOVE_FM))
                            31302 ; 328  |// FM Tuner Message IDs
                            31303 ; 329  |#define TUNER_FIRST_MSG_ID MSG_TYPE_TUNER+0
                            31304 ; 330  |#define TUNER_TUNE_FREQUENCY MSG_TYPE_TUNER+0
                            31305 ; 331  |#define TUNER_TUNE_MANUAL_UP MSG_TYPE_TUNER+1
                            31306 ; 332  |#define TUNER_TUNE_MANUAL_DOWN MSG_TYPE_TUNER+2
                            31307 ; 333  |#define TUNER_TUNE_SEARCH_UP MSG_TYPE_TUNER+3
                            31308 ; 334  |#define TUNER_TUNE_SEARCH_DOWN MSG_TYPE_TUNER+4
                            31309 ; 335  |#define TUNER_FORCED_MONO MSG_TYPE_TUNER+5
                            31310 ; 336  |#define TUNER_RESET MSG_TYPE_TUNER+6
                            31311 ; 337  |#define TUNER_POWER_ON MSG_TYPE_TUNER+7
                            31312 ; 338  |#define TUNER_POWER_OFF MSG_TYPE_TUNER+8
                            31313 ; 339  |#define TUNER_SET_SENSITIVITY MSG_TYPE_TUNER+9
                            31314 ; 340  |//one parameter--the sensitivity in uV
                            31315 ; 341  |#define TUNER_GET_STATES MSG_TYPE_TUNER+10
                            31316 ; 342  |#define TUNER_MUTE_OUTPUTS MSG_TYPE_TUNER+11
                            31317 ; 343  |#define TUNER_PRESET_STATION MSG_TYPE_TUNER+12
                            31318 ; 344  |#define TUNER_TUNE_TO_PRESET MSG_TYPE_TUNER+13
                            31319 ; 345  |#define TUNER_SET_PRESET MSG_TYPE_TUNER+14
                            31320 ; 346  |#define TUNER_ERASE_PRESET MSG_TYPE_TUNER+15
                            31321 ; 347  |#define TUNER_LAST_MSG_ID MSG_TYPE_TUNER+15
                            31322 ; 348  |#endif
                            31323 ; 349  |
                            31324 ; 350  |#define SOFT_TIMER_FIRST_MSG_ID MSG_TYPE_SOFT_TIMER+0
                            31325 ; 351  |#define SOFT_TIMER_SET_TIMER MSG_TYPE_SOFT_TIMER+1
                            31326 ; 352  |#define SOFT_TIMER_KILL_TIMER MSG_TYPE_SOFT_TIMER+2
                            31327 ; 353  |#define SOFT_TIMER_LAST_MSG_ID MSG_TYPE_SOFT_TIMER+2
                            31328 ; 354  |
                            31329 ; 355  |
                            31330 ; 356  |#define GEQ_FIRST_MSG_ID MSG_TYPE_GEQ+0
                            31331 ; 357  |#define GEQ_SET_EQ MSG_TYPE_GEQ+0
                            31332 ; 358  |#define GEQ_SET_EQ_LEGACY MSG_TYPE_GEQ+1
                            31333 ; 359  |#define GEQ_SET_ALL_BAND_GAINS MSG_TYPE_GEQ+2
                            31334 ; 360  |#define GEQ_SET_GAIN MSG_TYPE_GEQ+3
                            31335 ; 361  |#define GEQ_SET_COEFFICIENTS MSG_TYPE_GEQ+4
                            31336 ; 362  |#define GEQ_SET_PARAM MSG_TYPE_GEQ+5
                            31337 ; 363  |#define GEQ_GET_SETTINGS MSG_TYPE_GEQ+6
                            31338 ; 364  |#define GEQ_LAST_MSG_ID MSG_TYPE_GEQ+6
                            31339 ; 365  |
                            31340 ; 366  |#if (defined(USE_PLAYLIST3))
                            31341 ; 367  |// Music Library
                            31342 ; 368  |#define MUSICLIB_PLAY_FIRST_MSG_ID MSG_TYPE_MUSICLIB_PLAY+0
                            31343 ; 369  |#define MUSICLIB_START_PLAY_SONG MSG_TYPE_MUSICLIB_PLAY+0
                            31344 ; 370  |#define MUSICLIB_START_PLAY_ALL_SONG MSG_TYPE_MUSICLIB_PLAY+1
                            31345 ; 371  |#define MUSICLIB_PLAY_SETSHUFFLE MSG_TYPE_MUSICLIB_PLAY+2
                            31346 ; 372  |#define MUSICLIB_PLAY_RESUME MSG_TYPE_MUSICLIB_PLAY+3
                            31347 ; 373  |#define MUSICLIB_PLAY_CURRENT_SIZE MSG_TYPE_MUSICLIB_PLAY+4
                            31348 ; 374  |#define MUSICLIB_PLAY_LAST_MSG_ID MSG_TYPE_MUSICLIB_PLAY+4
                            31349 ; 375  |
                            31350 ; 376  |#define MUSICLIB_BROWSE_FIRST_MSG_ID MSG_TYPE_MUSICLIB_BROWSE+0
                            31351 ; 377  |#define MUSICLIB_BROWSE_SETROOT MSG_TYPE_MUSICLIB_BROWSE+0
                            31352 ; 378  |#define MUSICLIB_BROWSE_BROWSEMENU MSG_TYPE_MUSICLIB_BROWSE+1
                            31353 ; 379  |#define MUSICLIB_BROWSE_DOWNLIST MSG_TYPE_MUSICLIB_BROWSE+2
                            31354 ; 380  |#define MUSICLIB_BROWSE_UPLIST MSG_TYPE_MUSICLIB_BROWSE+3
                            31355 ; 381  |#define MUSICLIB_BROWSE_UPMENU MSG_TYPE_MUSICLIB_BROWSE+4
                            31356 ; 382  |#define MUSICLIB_BROWSE_SONGNUMBER MSG_TYPE_MUSICLIB_BROWSE+5
                            31357 ; 383  |#define MUSICLIB_BROWSE_ON_THE_FLY_GET_STATUS MSG_TYPE_MUSICLIB_BROWSE+6
                            31358 ; 384  |#define MUSICLIB_BROWSE_ON_THE_FLY_ADD_ITEM MSG_TYPE_MUSICLIB_BROWSE+7
                            31359 ; 385  |#define MUSICLIB_BROWSE_ON_THE_FLY_DELETE_ITEM MSG_TYPE_MUSICLIB_BROWSE+8
                            31360 ; 386  |#define MUSICLIB_BROWSE_ON_THE_FLY_DELETE_ALL MSG_TYPE_MUSICLIB_BROWSE+9
                            31361 ; 387  |#define MUSICLIB_BROWSE_LAST_MSG_ID MSG_TYPE_MUSICLIB_BROWSE+9
                            31362 ; 388  |
                            31363 ; 389  |#define MUSICLIB_PLAYALLNEXT_FIRST_MSG_ID MSG_TYPE_MUSICLIB_PLAYALLNEXT+0
                            31364 ; 390  |#define MUSICLIB_PLAYNEXTSONG MSG_TYPE_MUSICLIB_PLAYALLNEXT+0
                            31365 ; 391  |#define MUSICLIB_PLAYALLNEXT_LAST_MSG_ID MSG_TYPE_MUSICLIB_PLAYALLNEXT+0
                            31366 ; 392  |
                            31367 ; 393  |#define MUSICLIB_PLAYALLPREV_FIRST_MSG_ID MSG_TYPE_MUSICLIB_PLAYALLPREV+0
                            31368 ; 394  |#define MUSICLIB_PLAYPREVIOUSSONG MSG_TYPE_MUSICLIB_PLAYALLPREV+0
                            31369 ; 395  |#define MUSICLIB_PLAYALLPREV_LAST_MSG_ID MSG_TYPE_MUSICLIB_PLAYALLPREV+0
                            31370 ; 396  |
                            31371 ; 397  |#define MUSICLIB_SHUFFLE_FIRST_MSG_ID MSG_TYPE_MUSICLIB_SHUFFLE+0
                            31372 ; 398  |#define MUSICLIB_SHUFFLE_NEXT MSG_TYPE_MUSICLIB_SHUFFLE+0
                            31373 ; 399  |#define MUSICLIB_SHUFFLE_LAST_MSG_ID MSG_TYPE_MUSICLIB_SHUFFLE+0
                            31374 ; 400  |
                            31375 ; 401  |#define MUSICLIB_VOICE_FIRST_MSG_ID MSG_TYPE_MUSICLIB_VOICE+0
                            31376 ; 402  |#define MUSICLIB_VOICE_BROWSEMENU MSG_TYPE_MUSICLIB_VOICE+0
                            31377 ; 403  |#define MUSICLIB_VOICE_DOWNLIST MSG_TYPE_MUSICLIB_VOICE+1
                            31378 ; 404  |#define MUSICLIB_VOICE_UPLIST MSG_TYPE_MUSICLIB_VOICE+2
                            31379 ; 405  |#define MUSICLIB_VOICE_UPMENU MSG_TYPE_MUSICLIB_VOICE+3
                            31380 ; 406  |#define MUSICLIB_VOICE_VOICENUMBER MSG_TYPE_MUSICLIB_VOICE+4
                            31381 ; 407  |#define MUSICLIB_VOICE_LAST_MSG_ID MSG_TYPE_MUSICLIB_VOICE+4
                            31382 ; 408  |
                            31383 ; 409  |#define MUSICLIB_VOICEPLAY_FIRST_MSG_ID MSG_TYPE_MUSICLIB_VOICEPLAY+0
                            31384 ; 410  |#define MUSICLIB_START_PLAY_VOICE MSG_TYPE_MUSICLIB_VOICEPLAY+0
                            31385 ; 411  |#define MUSICLIB_VOICEPLAY_LAST_MSG_ID MSG_TYPE_MUSICLIB_VOICEPLAY+0
                            31386 ; 412  |
                            31387 ; 413  |#define MUSICLIB_MERGE_FIRST_MSG_ID MSG_TYPE_MUSICLIB_MERGE+0
                            31388 ; 414  |#define MUSICLIB_MERGE_SONG MSG_TYPE_MUSICLIB_MERGE+0
                            31389 ; 415  |#define MUSICLIB_MERGE_ALL_SONG MSG_TYPE_MUSICLIB_MERGE+1
                            31390 ; 416  |#define MUSICLIB_MERGE_RESUME MSG_TYPE_MUSICLIB_MERGE+2
                            31391 ; 417  |#define MUSICLIB_MERGE_LAST_MSG_ID MSG_TYPE_MUSICLIB_MERGE+2
                            31392 ; 418  |#endif // IF (@def(USE_PLAYLIST3))
                            31393 ; 419  |
                            31394 ; 420  |#if defined(USE_PLAYLIST5)
                            31395 ; 421  |#define PL5_PL_FIRST_MSG_ID MSG_TYPE_PL5_PLAYBACK+0
                            31396 ; 422  |#define PL5_PL_MSG_RESET MSG_TYPE_PL5_PLAYBACK+0
                            31397 ; 423  |#define PL5_PL_MSG_CDSEARCHING MSG_TYPE_PL5_PLAYBACK+1
                            31398 ; 424  |#define PL5_PL_MSG_START MSG_TYPE_PL5_PLAYBACK+2
                            31399 ; 425  |#define PL5_PL_MSG_STOP MSG_TYPE_PL5_PLAYBACK+3
                            31400 ; 426  |#define PL5_PL_MSG_PAUSE MSG_TYPE_PL5_PLAYBACK+4
                            31401 ; 427  |#define PL5_PL_MSG_RESUME MSG_TYPE_PL5_PLAYBACK+5
                            31402 ; 428  |#define PL5_PL_MSG_DELETE MSG_TYPE_PL5_PLAYBACK+6
                            31403 ; 429  |#define PL5_PL_MSG_PLAY MSG_TYPE_PL5_PLAYBACK+7
                            31404 ; 430  |#define PL5_PL_MSG_DISCNT MSG_TYPE_PL5_PLAYBACK+8
                            31405 ; 431  |#define PL5_PL_MSG_ENACNT MSG_TYPE_PL5_PLAYBACK+9
                            31406 ; 432  |#define PL5_PL_LAST_MSG_ID MSG_TYPE_PL5_PLAYBACK+9
                            31407 ; 433  |
                            31408 ; 434  |#define PL5_BR_FIRST_MSG_ID MSG_TYPE_PL5_BROWSE+0
                            31409 ; 435  |#define PL5_BR_MSG_RESET MSG_TYPE_PL5_BROWSE+0
                            31410 ; 436  |#define PL5_BR_MSG_CDBROWSING MSG_TYPE_PL5_BROWSE+1
                            31411 ; 437  |#define PL5_BR_MSG_START MSG_TYPE_PL5_BROWSE+2
                            31412 ; 438  |#define PL5_BR_MSG_STOP MSG_TYPE_PL5_BROWSE+3
                            31413 ; 439  |#define PL5_BR_MSG_PAUSE MSG_TYPE_PL5_BROWSE+4
                            31414 ; 440  |#define PL5_BR_MSG_RESUME MSG_TYPE_PL5_BROWSE+5
                            31415 ; 441  |#define PL5_BR_MSG_DELETE MSG_TYPE_PL5_BROWSE+6
                            31416 ; 442  |#define PL5_BR_LAST_MSG_ID MSG_TYPE_PL5_BROWSE+6
                            31417 ; 443  |#endif // if @def('USE_PLAYLIST5')
                            31418 ; 444  |// Events
                            31419 ; 445  |// No event
                            31420 ; 446  |#define EVENT_NONE 0x000001   
                            31421 ; 447  |// A message has been posted
                            31422 ; 448  |#define EVENT_MESSAGE 0x000002   
                            31423 ; 449  |// Run if wait time elapsed
                            31424 ; 450  |#define EVENT_TIMER 0x000004   
                            31425 ; 451  |// Run if a button event occured
                            31426 ; 452  |#define EVENT_BUTTON 0x000008   
                            31427 ; 453  |// Run if a background event occured
                            31428 ; 454  |#define EVENT_BACKGROUND 0x000010   
                            31429 ; 455  |// The executive should immediately repeat this module
                            31430 ; 456  |#define EVENT_REPEAT 0x000020   
                            31431 ; 457  |// Run the module's init routine
                            31432 ; 458  |#define EVENT_INIT 0x800000   
                            31433 ; 459  |
                            31434 ; 460  |#define EVENT_NONE_BITPOS 0
                            31435 ; 461  |#define EVENT_MESSAGE_BITPOS 1
                            31436 ; 462  |#define EVENT_TIMER_BITPOS 2
                            31437 ; 463  |#define EVENT_BUTTON_BITPOS 3
                            31438 ; 464  |#define EVENT_BACKGROUND_BITPOS 4
                            31439 ; 465  |#define EVENT_REPEAT_BITPOS 5
                            31440 ; 466  |#define EVENT_INIT_BITPOS 23
                            31441 ; 467  |
                            31442 ; 468  |// Parser Message Buffers
                            31443 ; 469  |#define ParserPlayBit 0
                            31444 ; 470  |#define ButtonPressBit 1
                            31445 ; 471  |#define ParserRwndBit 1
                            31446 ; 472  |#define ParserFfwdBit 2
                            31447 ; 473  |
                            31448 ; 474  |//NextSong Message Parameters
                            31449 ; 475  |// ButtonPressBit1 set to denote button was pressed.
                            31450 ; 476  |#define NEXT_SONG 2             
                            31451 ; 477  |// ButtonPressBit1 cleared
                            31452 ; 478  |#define NEXT_SONG_PLAY_EOF 1          
                            31453 ; 479  |// ButtonPressBit1 set
                            31454 ; 480  |#define NEXT_SONG_PLAY_BUTTON 3          
                            31455 ; 481  |// NextSong + Ffwd
                            31456 ; 482  |#define NEXT_SONG_FFWD 4          
                            31457 ; 483  |
                            31458 ; 484  |//PrevSong Message Parameters
                            31459 ; 485  |// PrevSong + Stopped
                            31460 ; 486  |#define PREV_SONG 0          
                            31461 ; 487  |// PrevSong + Play
                            31462 ; 488  |#define PREV_SONG_PLAY 1          
                            31463 ; 489  |// PrevSong + Rwnd
                            31464 ; 490  |#define PREV_SONG_RWND 2          
                            31465 ; 491  |
                            31466 ; 492  |
                            31467 ; 493  |
                            31468 ; 494  |
                            31469 ; 495  |#endif // IF (!@def(MSGEQU_INC))
                            31470 ; 496  |
                            31471 ; 497  |
                            31472 
                            31474 
                            31475 ; 13   |#include "metadata.h"
                            31476 
                            31478 
                            31479 ; 1    |////////////////////////////////////////////////////////////////////////////////
                            31480 ; 2    |// Copyright(C) SigmaTel, Inc. 2002
                            31481 ; 3    |//
                            31482 ; 4    |// Filename: metadata.h
                            31483 ; 5    |// Description:
                            31484 ; 6    |////////////////////////////////////////////////////////////////////////////////
                            31485 ; 7    |
                            31486 ; 8    |#ifndef _METADATA_H
                            31487 ; 9    |#define _METADATA_H
                            31488 ; 10   |
                            31489 ; 11   |///////////////////////////////////////////////////////////////////////////////
                            31490 ; 12   |// MetaData definitions
                            31491 ; 13   |///////////////////////////////////////////////////////////////////////////////
                            31492 ; 14   |
                            31493 ; 15   |//#define MMC_CMD59       0x40|59
                            31494 ; 16   |
                            31495 ; 17   |///////////////////////////////////////////////////////////////////////////////
                            31496 ; 18   |// Meta Data structure definitions
                            31497 ; 19   |///////////////////////////////////////////////////////////////////////////////
                            31498 ; 20   |
                            31499 ; 21   |///////////////////////////////////////////////////////////////////////////////
                            31500 ; 22   |// MetaData definitions
                            31501 ; 23   |
                            31502 ; 24   |#define META_DATA_FOUND                     (WORD)(0)
                            31503 ; 25   |#define META_DATA_NOT_FOUND                 (WORD)(0x100)
                            31504 ; 26   |#define META_DATA_FILE_NOT_SUPPORTED        (WORD)(0x101)
                            31505 ; 27   |#define META_DATA_FILEOPEN_ERROR            (WORD)(0x200)
                            31506 ; 28   |#define META_DATA_FILEREAD_ERROR            (WORD)(0x201)
                            31507 ; 29   |#define META_DATA_FILECLOSE_ERROR           (WORD)(0x202)
                            31508 ; 30   |#define META_DATA_FILESEEK_ERROR            (WORD)(0x203)
                            31509 ; 31   |#define META_DATA_FILEWRITE_ERROR           (WORD)(0x204)
                            31510 ; 32   |#define META_DATA_SUCCESS                               (WORD)(0x205)
                            31511 ; 33   |
                            31512 ; 34   |#define META_DATA_NOT_VBR_FORMAT            (WORD)(0x102)
                            31513 ; 35   |
                            31514 ; 36   |// VBR
                            31515 ; 37   |#define VBR_NOT_DETERMINED 0
                            31516 ; 38   |#define VBR_TRUE 1
                            31517 ; 39   |
                            31518 ; 40   |#ifndef TITLE_SIZE
                            31519 ; 41   |//#define TITLE_SIZE 30
                            31520 ; 42   |#ifndef USE_PLAYLIST3
                            31521 ; 43   |#define TITLE_SIZE 256          //was 30 but LFNs require up to 256!
                            31522 ; 44   |#else
                            31523 ; 45   |#define TITLE_SIZE 80           //was 256 but music library only store up to 129!
                            31524 ; 46   |#endif
                            31525 ; 47   |#endif
                            31526 ; 48   |
                            31527 ; 49   |#ifndef ARTIST_SIZE
                            31528 ; 50   |#ifndef USE_PLAYLIST3
                            31529 ; 51   |//#define ARTIST_SIZE 30
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page 124

M:ADDR CODE           CYCLES LINE SOURCELINE
                            31530 ; 52   |#define ARTIST_SIZE 100         // increase artist size for use with ID3V2 tags (Stmp00003110)
                            31531 ; 53   |#else
                            31532 ; 54   |#define ARTIST_SIZE 48          // increase artist size for use with ID3V2 tags (Stmp00003110)
                            31533 ; 55   |#endif
                            31534 ; 56   |#endif
                            31535 ; 57   |
                            31536 ; 58   |#ifndef ALBUM_SIZE
                            31537 ; 59   |#ifndef USE_PLAYLIST3
                            31538 ; 60   |//#define ALBUM_SIZE 30
                            31539 ; 61   |#define ALBUM_SIZE 50           // increase album size (not as much) for use with ID3V2 tags (Stmp00003110)
                            31540 ; 62   |#else
                            31541 ; 63   |#define ALBUM_SIZE 48           // increase album size (not as much) for use with ID3V2 tags (Stmp00003110)
                            31542 ; 64   |#endif
                            31543 ; 65   |#endif
                            31544 ; 66   |
                            31545 ; 67   |#ifdef USE_PLAYLIST3
                            31546 ; 68   |#ifndef GENRE_SIZE
                            31547 ; 69   |#define GENRE_SIZE 20
                            31548 ; 70   |#endif
                            31549 ; 71   |
                            31550 ; 72   |#ifndef YEAR_SIZE
                            31551 ; 73   |#define YEAR_SIZE 8
                            31552 ; 74   |#endif
                            31553 ; 75   |
                            31554 ; 76   |#ifndef TRACKNUM_SIZE
                            31555 ; 77   |#define TRACKNUM_SIZE 5 // assume track number is smaller than 0xfff (12bit or 4095)
                            31556 ; 78   |#endif
                            31557 ; 79   |
                            31558 ; 80   |#define MAX_TRACK_NUMBER 0x000fff
                            31559 ; 81   |#define UNKNOWN_TRACK_NUMBER MAX_TRACK_NUMBER
                            31560 ; 82   |#endif
                            31561 ; 83   |
                            31562 ; 84   |#define XING_TOC_SIZE   100
                            31563 ; 85   |#if MTP_BUILD
                            31564 ; 86   |// This size is used to build table for FF/RW for vbr songs,
                            31565 ; 87   |// and as there is no such function in mtp mode, it is reduced to release y-memory.
                            31566 ; 88   |#define VBR_TOC_SIZE    2
                            31567 ; 89   |#else
                            31568 ; 90   |#define VBR_TOC_SIZE    200
                            31569 ; 91   |#endif
                            31570 ; 92   |
                            31571 ; 93   |extern UCS3 g_wSongTitle[TITLE_SIZE];
                            31572 ; 94   |extern UCS3 g_wSongArtist[ARTIST_SIZE];
                            31573 ; 95   |extern UCS3 g_wSongAlbum[ALBUM_SIZE];
                            31574 ; 96   |#ifdef USE_PLAYLIST3
                            31575 ; 97   |extern UCS3 g_wSongGenre[GENRE_SIZE];
                            31576 ; 98   |extern UCS3 g_wSongYear[YEAR_SIZE];
                            31577 ; 99   |extern WORD g_wSongTrackNum;
                            31578 ; 100  |#endif
                            31579 ; 101  |
                            31580 ; 102  |extern WORD g_wVBRTOCTable[VBR_TOC_SIZE];
                            31581 ; 103  |
                            31582 ; 104  |typedef struct {
                            31583 ; 105  |    WORD        iTitleBufferLength;
                            31584 ; 106  |        UCS3       *wTitle;        // Title of Song
                            31585 ; 107  |    WORD        iArtistBufferLength;
                            31586 ; 108  |    UCS3       *wArtist;
                            31587 ; 109  |    WORD        iAlbumBufferLength;
                            31588 ; 110  |    UCS3       *wAlbum;
                            31589 ; 111  |#ifdef USE_PLAYLIST3
                            31590 ; 112  |    WORD        iGenreBufferLength;
                            31591 ; 113  |    UCS3       *wGenre;
                            31592 ; 114  |    WORD        iYearBufferLength;
                            31593 ; 115  |    UCS3       *wYear;
                            31594 ; 116  |    WORD        wTrackNum;
                            31595 ; 117  |#endif
                            31596 ; 118  |    BYTE       btGenre;       // Genre of audio file -- if MP3, use the ID3v1 tag byte
                            31597 ; 119  |        WORD       wSampRate;     // Sample Rate of song (Hz)
                            31598 ; 120  |        WORD       wNumChannels;
                            31599 ; 121  |        WORD       wBitRate;      // Bitrate of song (for MP3 VBR, this will be first bitrate found)
                            31600 ; 122  |        LONG       iTime;                 // Length of song in seconds
                            31601 ; 123  |        DWORD      dwStartPos;    // Position where audio starts. (if required by the decoder)
                            31602 ; 124  |        DWORD      dwNumBytes;    // Total Bytes in audio part of song
                            31603 ; 125  |    DWORD      dwDataBytes;   // for wma; (total bytes - header bytes)
                            31604 ; 126  |        DWORD      dwNumFrames;   // See note below on frames
                            31605 ; 127  |        BOOL       bVBR;                  // 0 = CBR or does not apply , 1 = VBR (**see question below**)
                            31606 ; 128  |        INT                iFileType;     // 0 = unknown, 1 = MP3, 2 = WMA, 4 = AAC, 8 = IMA ADPCM, etc (use defines below)
                            31607 ; 129  |        INT                iResourceNum;  // Resource number of the decoder that needed for this file
                            31608 ; 130  |} FILE_META_DATA;
                            31609 ; 131  |
                            31610 ; 132  |// File Type Defines (use for iFileType) -- matches bit defines in sysequ.inc
                            31611 ; 133  |#define UNKNOWN_TYPE   0
                            31612 ; 134  |#define MP3_TYPE       1
                            31613 ; 135  |#define WMA_TYPE       2
                            31614 ; 136  |#define AAC_TYPE       4
                            31615 ; 137  |#define IMA_ADPCM_TYPE 8
                            31616 ; 138  |#define MS_ADPCM_TYPE  16
                            31617 ; 139  |#define PCM_WAV_TYPE   32
                            31618 ; 140  |#define ASF_TYPE       64
                            31619 ; 141  |#define AUDIBLE_ACELP_TYPE 128
                            31620 ; 142  |#define AUDIBLE_MP3_TYPE   256          // 9/28/04 mmiu
                            31621 ; 143  |
                            31622 ; 144  |#define SMV_ADPCM_TYPE 512
                            31623 ; 145  |
                            31624 ; 146  |
                            31625 ; 147  |//////SRS WOW DEFS/////////////////////////////////////////////////////////////
                            31626 ; 148  |// Sample rates
                            31627 ; 149  |#ifdef WOW
                            31628 ; 150  |#define SR_48KHZ        48000
                            31629 ; 151  |#define SR_44KHZ        44100
                            31630 ; 152  |#define SR_32KHZ        32000
                            31631 ; 153  |#define SR_24KHZ        24000
                            31632 ; 154  |#define SR_22KHZ        22050
                            31633 ; 155  |#define SR_16KHZ        16000
                            31634 ; 156  |#define SR_12KHZ        12000
                            31635 ; 157  |#define SR_11KHZ        11025
                            31636 ; 158  |#define SR_8KHZ          8000
                            31637 ; 159  |#endif
                            31638 ; 160  |
                            31639 ; 161  |
                            31640 ; 162  |///////////////////////////////////////////////////////////////////////////////
                            31641 ; 163  |// MetaData prototypes
                            31642 ; 164  |///////////////////////////////////////////////////////////////////////////////
                            31643 ; 165  |
                            31644 ; 166  |RETCODE _reentrant GetFileMetaData(INT PackedPathNameAddress, INT btCurrentDevice, FILE_META_DATA *MetaData);
                            31645 ; 167  |#ifdef USE_PLAYLIST3
                            31646 ; 168  |INT _reentrant GetRelativePath(int highlight_index, int browse_type, INT* PackedPathNameAddress);
                            31647 ; 169  |INT _reentrant RetrieveSongInfo(INT a, INT b, INT *p_path);
                            31648 ; 170  |#endif
                            31649 ; 171  |
                            31650 ; 172  |#endif // #ifndef _METADATA_H
                            31651 
                            31653 
                            31654 ; 14   |
                            31655 ; 15   |
                            31656 ; 16   |// Menu message, MUST check with menus.h to avoid duplicate
                            31657 ; 17   |// Change the menu message and timer value to match your project
                            31658 ; 18   |//#define MENU_MSG_LYRICS_UPDATE                MENU_LAST_MSG_ID+8              // moved into msgequ.inc
                            31659 ; 19   |#define TIMER_LYRICS_UPDATE                     9
                            31660 ; 20   |/////////////////////////////////////////////////////////////////
                            31661 ; 21   |
                            31662 ; 22   |#define SLT                                     ('S'|('L'<<8)|('T'<<16))        // V2.2 frame identifiers
                            31663 ; 23   |#define SYLT                            ('Y'|('L'<<8)|('T'<<16))        // V2.3 and V2.4 frame identifiers
                            31664 ; 24   |#define MAX_LYRICS_STRING       100             // Max. number of characters per lyrics including terminate zero
                            31665 ; 25   |#define LYRICS_ROW_BUF_SIZE     ((LCD_X_SIZE/4)+1)
                            31666 ; 26   |
                            31667 ; 27   |// ASF Header Extension Object
                            31668 ; 28   |#define ASF_HEADER_EXTENSION_GUID_0             0xbf03b5
                            31669 ; 29   |#define ASF_HEADER_EXTENSION_GUID_1             0xa92e5f
                            31670 ; 30   |#define ASF_HEADER_EXTENSION_GUID_2             0x8e11cf
                            31671 ; 31   |#define ASF_HEADER_EXTENSION_GUID_3             0xc000e3
                            31672 ; 32   |#define ASF_HEADER_EXTENSION_GUID_4             0x53200c
                            31673 ; 33   |#define ASF_HEADER_EXTENSION_GUID_5             0x000065
                            31674 ; 34   |
                            31675 ; 35   |// ASF Reserved 1
                            31676 ; 36   |#define ASF_RESERVED_1_GUID_0                   0xd3d211
                            31677 ; 37   |#define ASF_RESERVED_1_GUID_1                   0xa9baab
                            31678 ; 38   |#define ASF_RESERVED_1_GUID_2                   0x8e11cf
                            31679 ; 39   |#define ASF_RESERVED_1_GUID_3                   0xc000e6
                            31680 ; 40   |#define ASF_RESERVED_1_GUID_4                   0x53200c
                            31681 ; 41   |#define ASF_RESERVED_1_GUID_5                   0x000065
                            31682 ; 42   |
                            31683 ; 43   |// ASF Metadata Library Object
                            31684 ; 44   |#define ASF_METADATA_LIBRARY_GUID_0             0x231c94
                            31685 ; 45   |#define ASF_METADATA_LIBRARY_GUID_1             0x949844
                            31686 ; 46   |#define ASF_METADATA_LIBRARY_GUID_2             0xa149d1
                            31687 ; 47   |#define ASF_METADATA_LIBRARY_GUID_3             0x131d41
                            31688 ; 48   |#define ASF_METADATA_LIBRARY_GUID_4             0x70454e
                            31689 ; 49   |#define ASF_METADATA_LIBRARY_GUID_5             0x000054
                            31690 ; 50   |
                            31691 ; 51   |// Data structure for lyrics library
                            31692 ; 52   |typedef struct {
                            31693 ; 53   |        WORD    iTitleBufferLength;
                            31694 ; 54   |        UCS3    *wTitle;
                            31695 ; 55   |        WORD    iArtistBufferLength;
                            31696 ; 56   |        UCS3    *wArtist;
                            31697 ; 57   |        WORD    iAlbumBufferLength;
                            31698 ; 58   |        UCS3    *wAlbum;
                            31699 ; 59   |        DWORD   dwNumBytes;
                            31700 ; 60   |} LYRICS_FILE_META_DATA;
                            31701 ; 61   |
                            31702 ; 62   |// Function Prototypes
                            31703 ; 63   |RETCODE _reentrant Id3V2LyricsReadFrame(INT iHandle, WORD uFrameSize, INT *ptr);
                            31704 ; 64   |RETCODE _reentrant Mp3MetaDataReadLyrics3(INT iHandle,INT iIgnored, INT *pMetaData);
                            31705 ; 65   |RETCODE _reentrant Mp3MetaDataReadLRC(INT iIgnored1,INT iIgnored2, INT *pMetaData);
                            31706 ; 66   |RETCODE _reentrant WMALyricsReadFrame(INT iHandle, WORD uFrameSize, INT *ptr);
                            31707 ; 67   |RETCODE _reentrant LyricsInit(INT a, INT b, INT *c);
                            31708 ; 68   |RETCODE _reentrant LyricsStart(INT a, INT b, INT *c);
                            31709 ; 69   |RETCODE _reentrant LyricsPause(INT a, INT b, INT *c);
                            31710 ; 70   |RETCODE _reentrant LyricsGetNext(INT a, INT b, INT *c);
                            31711 ; 71   |RETCODE _reentrant LyricsStop(INT a, INT b, INT *c);
                            31712 ; 72   |RETCODE _reentrant LyricsIsValid(void);
                            31713 ; 73   |RETCODE _reentrant LyricsSkipping(INT a, INT b, INT *c);
                            31714 ; 74   |RETCODE _reentrant LyricsGetNextLyricsTime(INT a, INT b, INT *pTime);
                            31715 ; 75   |DWORD _reentrant LyricsGetFirstLyricsTime(void);
                            31716 ; 76   |
                            31717 ; 77   |extern UCS3 _X * _X     g_pSongLyrics;
                            31718 ; 78   |
                            31719 ; 79   |#endif
                            31720 
                            31722 
                            31723 ; 83   |
                            31724 ; 84   |extern void _reentrant LyricsSetTimer(WORD wPeriod);
                            31725 ; 85   |#endif
                            31726 ; 86   |
                            31727 ; 87   |_X INT g_iSeeking=SEEK_NONE;
                            31728 
                            31729 
X:0000                      31730         org     x,".xdataplayerstatemachine",init:
                            31731 Fg_iSeeking:
X:0000 000000               31732         dc      $000000
                            31735 
                            31736 ; 88   |extern WORD g_wSecondsToSkip;
                            31737 ; 89   |extern WORD g_wAdpcmSecondstoSkip;
                            31738 ; 90   |
                            31739 ; 91   |extern JanusDRMLicExpired;
                            31740 ; 92   |static int holdcount=0;
                            31741 
                            31742 
Y:0000                      31743         org     y,".ydataplayerstatemachine",init:
                            31744 Fholdcount:
Y:0000 000000               31745         dc      $000000
                            31747 
                            31748 ; 93   |#ifdef USE_PLAYLIST5
                            31749 ; 94   |extern bDRMLicExpired;
                            31750 ; 95   |BOOL g_bWait;
                            31751 ; 96   |BOOL g_bShuffle = FALSE;
                            31752 ; 97   |extern g_LastCurrentMenu;
                            31753 ; 98   |#endif
                            31754 ; 99   |
                            31755 ; 100  |static _X INT stc_iPressHoldCount=0;
                            31756 
                            31757 
X:0001                      31758         org     x,".xdataplayerstatemachine",init:
                            31759 Fstc_iPressHoldCount:
X:0001 000000               31760         dc      $000000
                            31762 
                            31763 ; 101  |static _X long stc_lTimeABWasLastPressed=0;
                            31764 
                            31765 Fstc_lTimeABWasLastPressed:
X:0002 000000 000000        31766         dc      $000000,$000000
                            31768 
                            31769 ; 102  |static _X WORD g_bRewoundToBeginning= FALSE;
                            31770 
                            31771 Fg_bRewoundToBeginning:
X:0004 000000               31772         dc      $000000
                            31774 
                            31775 ; 103  |
                            31776 ; 104  |_asmfunc DecoderForceInit(void);
                            31777 ; 105  |extern INT  FSInit(INT _X *bufx, INT _Y *bufy, INT maxdevices, INT maxhandles, INT maxcaches);
                            31778 ; 106  |extern _reentrant INT Computefreeluster(INT DeviceNumber);
                            31779 ; 107  |
                            31780 ; 108  |extern _asmfunc void UsbConnected(void);
                            31781 ; 109  |
                            31782 ; 110  |void _reentrant HandleMediaChange(void);
                            31783 ; 111  |_reentrant int PSM_GetABMode(void);
                            31784 ; 112  |_reentrant void PSM_ResetScrollInfo(void);
                            31785 ; 113  |extern _reentrant void  FSClearDriveBuf(INT DriveNumber,INT maxhandles, INT maxcaches);
                            31786 ; 114  |
                            31787 ; 115  |extern void TestSkipCheckDisk(WORD wDiskNum);
                            31788 ; 116  |#ifdef USE_PLAYLIST5
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page 125

M:ADDR CODE           CYCLES LINE SOURCELINE
                            31789 ; 117  |extern INT  FSDriveInit(INT DeviceNumber);
                            31790 ; 118  |#endif
                            31791 ; 119  |
                            31792 ; 120  |extern g_iMediaErrorFlag;
                            31793 ; 121  |extern g_FSinitErrorCode;
                            31794 ; 122  |
                            31795 ; 123  |extern  filest_bHasJanusDRM;
                            31796 ; 124  |
                            31797 ; 125  |#ifdef USE_PLAYLIST5
                            31798 ; 126  |BOOL g_bLastDisplay = FALSE;
                            31799 ; 127  |BOOL g_bLastDisplaySongCnt = FALSE;
                            31800 ; 128  |#endif
                            31801 ; 129  |
                            31802 ; 130  |#ifdef USE_PLAYLIST3
                            31803 
                            31805 
                            31806 ; 131  |extern int24 g_iBrowseTotalNum;
                            31807 ; 132  |int g_iVolume_Control_Mode=FALSE;
                            31808 
                            31809 
Y:0001                      31810         org     y,".ydataplayerstatemachine",init:
                            31811 Fg_iVolume_Control_Mode:
Y:0001 000000               31812         dc      $000000
                            31815 
                            31816 ; 133  |int g_iAB_Control_Mode=FALSE;
                            31817 
                            31818 Fg_iAB_Control_Mode:
Y:0002 000000               31819         dc      $000000
                            31822 
                            31823 ; 134  |BOOL g_Loading_displayed = FALSE;
                            31824 
                            31825 Fg_Loading_displayed:
Y:0003 000000               31826         dc      $000000
                            31829 
                            31830 ; 135  |uint24 g_is_SD_inserted = NO_SD;
                            31831 
                            31832 Fg_is_SD_inserted:
Y:0004 000000               31833         dc      $000000
                            31836 
                            31837 ; 136  |BOOL bSystemInit = FALSE;
                            31838 
                            31839 FbSystemInit:
Y:0005 000000               31840         dc      $000000
                            31843 
                            31844 ; 137  |BOOL bResume = TRUE;
                            31845 
                            31846 FbResume:
Y:0006 000001               31847         dc      $000001
                            31850 
                            31851 ; 138  |
                            31852 ; 139  |void _reentrant ML_browsing_app_init(void)
                            31853 ; 140  |{
                            31854 
P:0000                      31855         org     p,".ptextplayerstatemachine":
                            31860 FML_browsing_app_init:
                            31861 
                            31862 ; 141  |#pragma asm
                            31863 
P:0000                      31867         org     p,".ptextplayerstatemachine":
                            31868         extern  F_lc_u_e_MusicLibBrowse_P
                            31869         extern  F_lc_u_b_MusicLibBrowse_P
                            31870         extern  SysLoadResource
                            31871 
                            31872         ; Load the MusicLib browsing engine into P memory
P:0000 44F400 0003F9  3    331873         move    #>RSRC_MUSICLIB_BROWSE_APP,x0                      ; Resource number
P:0002 45F400 000002  3    631874         move    #>RSRC_TYPE_DATA,x1                        ; Resource type is data
P:0004 47F400 rrrrrr  3    931875         move    #>(F_lc_u_e_MusicLibBrowse_P-F_lc_u_b_MusicLibBrowse_P)*3,y1 ; overlay area sz
P:0006 46F400 rrrrrr  3   1231876         move    #>F_lc_u_b_MusicLibBrowse_P,y0                      ; Address of the overlay area
P:0008 54F400 100000  3   1531877         move    #TARGET_MEM_P,a1                           ; Overlay area is in P memory
P:000A 0BF080 rrrrrr  6   2131878         jsr     SysLoadResource
                            31879 
                            31880 ; 155  |#pragma endasm
                            31881 ; 156  |}
                            31882 
P:000C 00000C         4   2531884         rts
                            31886 
                            31887 ; 157  |#else
                            31888 ; 158  |#ifdef USE_PLAYLIST5
                            31889 ; 159  |INT g_is_SD_inserted = NO_SD;
                            31890 ; 160  |#endif
                            31891 ; 161  |#endif  // #ifdef USE_PLAYLIST3
                            31892 ; 162  |
                            31893 ; 163  |#ifdef AUDIBLE
                            31894 ; 164  |extern INT DecoderResourcePtr;
                            31895 ; 165  |extern UCS3 g_wSongAlbum[ALBUM_SIZE];
                            31896 ; 166  |extern unsigned int _X  g_bAudibleCurrentChapterNum, g_bAudibleTotalChapterCount;
                            31897 ; 167  |char * _itoa( char *p, unsigned int num, unsigned char radix );
                            31898 ; 168  |static _X WORD g_bAllowAudibleSave=FALSE;
                            31899 ; 169  |_X AudibleFlags_t g_AudibleFlags = { 0, 0, 0 };
                            31900 ; 170  |#endif
                            31901 ; 171  |extern WORD g_wNumMedia;
                            31902 ; 172  |extern int CleanDataStoreFlag;
                            31903 ; 173  |#ifdef WOW
                            31904 ; 174  |extern void DisablePluginModule(int *);
                            31905 ; 175  |extern void EnablePluginModule(int *);
                            31906 ; 176  |#endif
                            31907 ; 177  |
                            31908 ; 178  |#ifdef JPEG_ALBUM_ART
                            31909 ; 179  |extern BOOL g_AlbumArtInProgress;
                            31910 ; 180  |int _reentrant StopAlbumArtProcess(int a, int b, int *pPtr);
                            31911 ; 181  |extern _X BOOL  g_bApicFrameFound;      // declared in "attachedpictureframe.c"
                            31912 ; 182  |#ifdef USE_PLAYLIST5
                            31913 ; 183  |extern int g_ReturnValueForPlayerstatemachine;
                            31914 ; 184  |#endif
                            31915 ; 185  |RETCODE _reentrant ApicPostMessage(INT a, INT b, INT *c);       // defined in "attachedpictureframe.c"
                            31916 ; 186  |#endif
                            31917 ; 187  |#ifdef USE_PLAYLIST5
                            31918 ; 188  |int LicExpireCount=0;
                            31919 ; 189  |#endif
                            31920 ; 190  |////////////////////////////////////////////////////////////////////////////////
                            31921 ; 191  |//
                            31922 ; 192  |//>  Name:          void _reentrant CheckDecoderInit(void )
                            31923 ; 193  |//
                            31924 ; 194  |//   Type:          Function
                            31925 ; 195  |//
                            31926 ; 196  |//   Description:   Makes sure the decoder is loaded
                            31927 ; 197  |//
                            31928 ; 198  |//   Inputs:        none
                            31929 ; 199  |//
                            31930 ; 200  |//   Outputs:       none
                            31931 ; 201  |//
                            31932 ; 202  |//   Notes:         Moved into a function to save code space
                            31933 ; 203  |//<
                            31934 ; 204  |////////////////////////////////////////////////////////////////////////////////
                            31935 ; 205  |void _reentrant CheckDecoderInit(void )
                            31936 ; 206  |{
                            31937 
                            31942 FCheckDecoderInit:
P:000D 055F7C         2   2731943         movec   ssh,y:(r7)+
                            31946 
                            31947 ; 207  |        if(g_wDecoderSR & DECODER_STOPPED)
                            31948 
P:000E 56F000 rrrrrr  3   3031950         move    x:Fg_wDecoderSR,a
P:0010 46F400 000040  3   3331951         move    #>$40,y0
P:0012 200056         2   3531952         and     y0,a
P:0013 2A0000         2   3731953         move    #0,a2
P:0014 200003         2   3931954         tst     a
P:0015 0AF0AA rrrrrr  6   4531955         jeq     L3
                            31956 
                            31957 ; 208  |        {
                            31958 ; 209  |                DecoderForceInit();
                            31959 
P:0017 0BF080 rrrrrr  6   5131961         jsr     DecoderForceInit
                            31962 
                            31963 ; 210  |                SysPostMessage(2,DECODER_RESET);
                            31964 
P:0019 20001B         2   5331966         clr     b   
P:001A 5F5F00         2   5531967         move    b,y:(r7)+
P:001B 290200         2   5731969         move    #2,b0
P:001C 595F00         2   5931970         move    b0,y:(r7)+
P:001D 0BF080 rrrrrr  6   6531972         jsr     FSysPostMessage
P:001F 205700         2   6731973         move    (r7)-
P:0020 205700         2   6931975         move    (r7)-
                            31977 
                            31978 ; 211  |        }
                            31979 
                            31981 L3:
                            31982 
                            31983 ; 212  |}
                            31984 
P:0021 05FF7C         4   7331986         movec   y:-(r7),ssh
P:0022 000000         2   7531989         nop
P:0023 00000C         4   7931990         rts
                            31992 
                            31993 ; 213  |
                            31994 ; 214  |////////////////////////////////////////////////////////////////////////////////
                            31995 ; 215  |//
                            31996 ; 216  |//>  Name:          int _reentrant InitPlayerStateMachine(int a, int b, int *c)
                            31997 ; 217  |//
                            31998 ; 218  |//   Type:          Function (code bank callable)
                            31999 ; 219  |//
                            32000 ; 220  |//   Description:   Does everything required to init the player state machine
                            32001 ; 221  |//
                            32002 ; 222  |//   Inputs:        none
                            32003 ; 223  |//
                            32004 ; 224  |//   Outputs:       always returns 0
                            32005 ; 225  |//
                            32006 ; 226  |//   Notes:         Available to call from outside this codebank for menus that
                            32007 ; 227  |//                  need to initialize the player
                            32008 ; 228  |//<
                            32009 ; 229  |////////////////////////////////////////////////////////////////////////////////
                            32010 ; 230  |INT _reentrant InitPlayerStateMachine(INT a, INT b, INT *c)
                            32011 ; 231  |{
                            32012 
                            32019 FInitPlayerStateMachine:
P:0024 055F7C         2   8132020         movec   ssh,y:(r7)+
                            32029 
                            32030 ; 232  |        a;b;c;
                            32031 ; 233  |#ifndef USE_PLAYLIST5   // g_wTotalSongCount equal to 0 and g_wCurrentSongNumber equal to 1 when init.
                            32032 ; 234  |        if(g_wCurrentSongNumber>g_wTotalSongCount)
                            32033 
P:0025 5EF000 rrrrrr  3   8432035         move    y:Fg_wCurrentSongNumber,a
P:0027 5FF000 rrrrrr  3   8732037         move    y:Fg_wTotalSongCount,b
P:0029 2B0000         2   8932039         move    #0,b2
P:002A 2A0000         2   9132040         move    #0,a2
P:002B 200005         2   9332041         cmp     b,a
P:002C 0AF0AF rrrrrr  6   9932042         jle     L4
                            32043 
                            32044 ; 235  |                g_wCurrentSongNumber=g_wTotalSongCount;
                            32045 
P:002E 5D7000 rrrrrr  3  10232047         move    b1,y:Fg_wCurrentSongNumber
                            32048 
                            32049 ; 236  |#endif
                            32050 ; 237  |
                            32051 ; 238  |        if( (g_wDecoderSR & g_wDecoderCSR & DECODER_STOPPED) && (g_iPlaylistRepeat==PLAYLIST_REPEAT_OFF) && (!PSM_GetABMode()) )
                            32052 
P:0030 55F000 rrrrrr  3  10532054 L4:     move    x:Fg_wDecoderSR,b1
P:0032 45F000 rrrrrr  3  10832055         move    x:Fg_wDecoderCSR,x1
P:0034 20006E         2  11032056         and     x1,b
P:0035 46F400 000040  3  11332057         move    #>$40,y0
P:0037 20005E         2  11532058         and     y0,b
P:0038 21AF00         2  11732059         move    b1,b
P:0039 2B0000         2  11932060         move    #0,b2
P:003A 20000B         2  12132061         tst     b
P:003B 0AF0AA rrrrrr  6  12732062         jeq     L7
P:003D 5FF000 rrrrrr  3  13032063         move    y:Fg_iPlaylistRepeat,b
P:003F 20000B         2  13232064         tst     b
P:0040 0AF0A2 rrrrrr  6  13832065         jne     L7
P:0042 0BF080 rrrrrr  6  14432066         jsr     FPSM_GetABMode
P:0044 200003         2  14632068         tst     a
P:0045 0AF0A2 rrrrrr  6  15232069         jne     L7
                            32070 
                            32071 ; 239  |
                            32072 ; 240  |        {
                            32073 ; 241  |                SysCallFunction(RSRC_PLAYERLIB_EXTRA_CODE_BANK,PlayerLib_GetBookmarkSongInfo,g_iPlaySet,0,0);
                            32074 
P:0047 5FF000 rrrrrr  3  15532076         move    y:Fg_iPlaySet,b
P:0049 340000         2  15732077         move    #0,r4
P:004A 240000         2  15932078         move    #0,x0
P:004B 60F400 rrrrrr  3  16232079         move    #FPlayerLib_GetBookmarkSongInfo,r0
P:004D 56F400 00006C  3  16532080         move    #>108,a
P:004F 0BF080 rrrrrr  6  17132081         jsr     SysCallFunction
                            32082 
                            32083 ; 242  |                DecoderForceInit();
                            32084 
P:0051 0BF080 rrrrrr  6  17732086         jsr     DecoderForceInit
                            32087 
                            32088 ; 243  |                SysPostMessage(2,DECODER_RESET);
                            32089 
P:0053 20001B         2  17932091         clr     b   
P:0054 5F5F00         2  18132092         move    b,y:(r7)+
P:0055 290200         2  18332094         move    #2,b0
P:0056 595F00         2  18532095         move    b0,y:(r7)+
P:0057 0BF080 rrrrrr  6  19132097         jsr     FSysPostMessage
P:0059 205700         2  19332098         move    (r7)-
P:005A 205700         2  19532100         move    (r7)-
                            32102 
                            32103 ; 244  |                PSM_ResetScrollInfo();
                            32104 
P:005B 0BF080 rrrrrr  6  20132106         jsr     FPSM_ResetScrollInfo
                            32107 
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page 126

M:ADDR CODE           CYCLES LINE SOURCELINE
                            32108 ; 245  |        }
                            32109 ; 246  |        return 0;
                            32110 
P:005D 200013         2  20332112 L7:     clr     a   
                            32113 
                            32114 ; 247  |}
                            32115 
P:005E 05FF7C         4  20732117         movec   y:-(r7),ssh
P:005F 000000         2  20932120         nop
P:0060 00000C         4  21332121         rts
                            32123 
                            32124 ; 248  |
                            32125 ; 249  |////////////////////////////////////////////////////////////////////////////////
                            32126 ; 250  |//
                            32127 ; 251  |//>  Name:          int _reentrant ExitPlayerStateMachine(int a, int b, int *c)
                            32128 ; 252  |//
                            32129 ; 253  |//   Type:          Function (code bank callable)
                            32130 ; 254  |//
                            32131 ; 255  |//   Description:   Does everything required to stop the player state machine
                            32132 ; 256  |//
                            32133 ; 257  |//   Inputs:        none
                            32134 ; 258  |//
                            32135 ; 259  |//   Outputs:       always returns 0
                            32136 ; 260  |//
                            32137 ; 261  |//   Notes:         Available to call from outside this codebank for menus that
                            32138 ; 262  |//                  need to shut down the player state machine
                            32139 ; 263  |//<
                            32140 ; 264  |////////////////////////////////////////////////////////////////////////////////
                            32141 ; 265  |INT _reentrant ExitPlayerStateMachine(INT a, INT b, INT *c)
                            32142 ; 266  |{
                            32143 
                            32148 FExitPlayerStateMachine:
P:0061 055F7C         2  21532149         movec   ssh,y:(r7)+
                            32158 
                            32159 ; 267  |        a;b;c;
                            32160 ; 268  |
                            32161 ; 269  |        PlayerLib_SetState (DECODER_STATE_STOP,TRUE,NULL);
                            32162 
P:0062 300000         2  21732164         move    #0,r0
P:0063 200013         2  21932166         clr     a   
P:0064 57F400 000001  3  22232168         move    #>1,b
P:0066 0BF080 rrrrrr  6  22832169         jsr     FPlayerLib_SetState
                            32171 
                            32172 ; 270  |#ifdef USE_PLAYLIST3
                            32173 ; 271  |        SysWaitOnEvent(0,0,0);
                            32174 
P:0068 300000         2  23032176         move    #0,r0
P:0069 200013         2  23232177         clr     a   
P:006A 20001B         2  23432178         clr     b   
P:006B 0BF080 rrrrrr  6  24032179         jsr     SysWaitOnEvent
                            32180 
                            32181 ; 272  |#endif
                            32182 ; 273  |        g_iPlayerState = DECODER_STOPPED;
                            32183 
P:006D 2D4000         2  24232185         move    #$40,b1
P:006E 557000 rrrrrr  3  24532186         move    b1,x:Fg_iPlayerState
                            32187 
                            32188 ; 274  |        return 0;
                            32189 
P:0070 200013         2  24732191         clr     a   
                            32192 
                            32193 ; 275  |}
                            32194 
P:0071 05FF7C         4  25132196         movec   y:-(r7),ssh
P:0072 000000         2  25332199         nop
P:0073 00000C         4  25732200         rts
                            32202 
                            32203 ; 276  |
                            32204 ; 277  |
                            32205 ; 278  |#define QUICK_SWITCH_NEXT       1
                            32206 ; 279  |#define QUICK_SWITCH_PREVIOUS   -1
                            32207 ; 280  |
                            32208 ; 281  |
                            32209 ; 282  |////////////////////////////////////////////////////////////////////////////////
                            32210 ; 283  |//
                            32211 ; 284  |//>  Name:          void _reentrant QuickSwitchSong(INT iDirection)
                            32212 ; 285  |//
                            32213 ; 286  |//   Type:          Function
                            32214 ; 287  |//
                            32215 ; 288  |//   Description:   Increments/decrements track number and sets up a timer to
                            32216 ; 289  |//                  tell the player state machine to change tracks.
                            32217 ; 290  |//
                            32218 ; 291  |//   Inputs:        INT iDirection:   QUICK_SWITCH_NEXT or QUICK_SWITCH_PREVIOUS
                            32219 ; 292  |//
                            32220 ; 293  |//   Outputs:       none
                            32221 ; 294  |//
                            32222 ; 295  |//   Notes:         If this is repeatedly called (quicker than
                            32223 ; 296  |//                  QUICK_SWITCH_TIMEOUT_TIME), then the user can rapidly switch
                            32224 ; 297  |//                  tracks.  once the timeout occurs, the player state  machine
                            32225 ; 298  |//                  will change songs, update the display, and begin playing (if
                            32226 ; 299  |//                  already playing).
                            32227 ; 300  |//
                            32228 ; 301  |//         QUICK_SWITCH_TIMEOUT_TIME is configurable/overrideable in project.inc
                            32229 ; 302  |//<
                            32230 ; 303  |////////////////////////////////////////////////////////////////////////////////
                            32231 ; 304  |void _reentrant QuickSwitchSong(INT iDirection)
                            32232 ; 305  |{
                            32233 
                            32235 
Y:0000                      32236         org     y,".yconstplayerstatemachine",const:
Y:0000 000020 00004C        32237 L8:     dc      " Loading..."++$00
       00006F 000061              
       000064 000069              
       00006E 000067              
       00002E 00002E              
       00002E 000000              
                            32238 
P:0074                      32239         org     p,".ptextplayerstatemachine":
                            32243 FQuickSwitchSong:
P:0074 055F7C         2  25932244         movec   ssh,y:(r7)+
P:0075 3F0E00         2  26132247         move    #14,n7
P:0076 000000         2  26332248         nop
P:0077 204F00         2  26532249         move    (r7)+n7
                            32308 
                            32309 ; 306  |#ifndef USE_PLAYLIST3
                            32310 ; 307  |        void _P *pFunction;
                            32311 ; 308  |        SONGFILEINFO SongInfo;
                            32312 ; 309  |        union DisplayHints hints;
                            32313 ; 310  |        BYTE INTERSONG_DELAY_MSG[] = " Loading...";
                            32314 ; 311  |
                            32315 ; 312  |        ///////////////////////////////////////////////
                            32316 ; 313  |        // MLP: 8-15-05
                            32317 ; 314  |        // Fix for defect 8153.
                            32318 ; 315  |        //
                            32319 ; 316  |        // We only want to display the INTERSONG_DELAY_MSG when
                            32320 ; 317  |        // we are in the music mode.  If we have another menu
                            32321 ; 318  |        // on the LCD screen our message will over write it.
                            32322 ; 319  |        // In other words, We want to be able to control the
                            32323 ; 320  |        // play back when the user is surfing through the
                            32324 ; 321  |        // menus.
                            32325 ; 322  |        if (g_iCurrentMenu == MENU_MUSIC)
                            32326 ; 323  |        {
                            32327 ; 324  |                ////////////////////////////////////////////////////////////////////////////
                            32328 ; 325  |                // MLP 8-5-05
                            32329 ; 326  |                // For some DRM/Janus content the intersong delay is greater than 3 seconds.
                            32330 ; 327  |                // As per the SDK3.10 requirements, since we are greater than 3 seconds, we
                            32331 ; 328  |                // need to put up a message indicating we are skipping to the next/previous
                            32332 ; 329  |                // song.  To display the message we are "hijacking" the g_wSongAlbum,
                            32333 ; 330  |                // g_wSongArtist and g_wSongTitle and using those buffers to display our
                            32334 ; 331  |                // message since they will be changing anyway.  The Album and Artist strings
                            32335 ; 332  |                // are cleared.  The message string is placed in g_wSongTitle.  The message
                            32336 ; 333  |                // is a 3 byte per character string created above called INTERSONG_DELAY_MSG.
                            32337 ; 334  |                // Once the intersong  delay meets the specified requirements we can remove
                            32338 ; 335  |                // this code.
                            32339 ; 336  |
                            32340 ; 337  |                // Set the Artist and Album to NULL so they are left blank.
                            32341 ; 338  |                g_wSongArtist[0] = 0;
                            32342 ; 339  |                g_wSongAlbum[0] = 0;
                            32343 ; 340  |
                            32344 ; 341  |                // Copy our message into the song title buffer.  This message does not
                            32345 ; 342  |                // scroll so make sure it's small enough to fit on the LCD screen.
                            32346 ; 343  |                strcpy(g_wSongTitle, (UCS3 _Y *)INTERSONG_DELAY_MSG);
                            32347 ; 344  |
                            32348 ; 345  |                // Make sure scrolling is disabled.  If not our message will get
                            32349 ; 346  |                // clobbered.
                            32350 ; 347  |                g_bSongStringScroll = FALSE;
                            32351 ; 348  |
                            32352 ; 349  |                // Zero out all bit fields in the hints union
                            32353 ; 350  |                hints.I = 0;
                            32354 ; 351  |
                            32355 ; 352  |                // Set the bits for ArtistAlbum and Title so only those parts of
                            32356 ; 353  |                // the LCD are updated.
                            32357 ; 354  |                hints.bits.SongArtistAlbum = 1;
                            32358 ; 355  |                hints.bits.SongTitle = 1;
                            32359 ; 356  |
                            32360 ; 357  |                // This variable is used when the song title is scrollong across the screen.
                            32361 ; 358  |                // If the song title we scrolling then this value is probably not going to
                            32362 ; 359  |                // be zero which would cause our message to be displayed at some random
                            32363 ; 360  |                // horizontal location.
                            32364 ; 361  |                g_iSongStringOffset=0;
                            32365 ; 362  |
                            32366 ; 363  |                // Refresh the LCD screen.
                            32367 ; 364  |                // Arguments:
                            32368 ; 365  |                //     hints.I is our union indicating we only want to change Album, Arist and Title
                            32369 ; 366  |                //     1 means we want to update the fiels in hints.I. A 0 would just clear them.
                            32370 ; 367  |                //     0 is ignored.
                            32371 ; 368  |                SysCallFunction(RSRC_DISPLAY_CODE_BANK, RefreshDisplay, hints.I, 1, 0);
                            32372 ; 369  |
                            32373 ; 370  |                // MLP
                            32374 ; 371  |                // 8-0-05
                            32375 ; 372  |                // End
                            32376 ; 373  |                ///////////////////////////////////////////////////////////////////////
                            32377 ; 374  |
                            32378 ; 375  |                // MLP
                            32379 ; 376  |                // 8-15-05
                            32380 ; 377  |                // End.
                            32381 ; 378  |        }
                            32382 ; 379  |        SongInfo.m_wBufferLength = MAX_FILENAME_LENGTH;
                            32383 ; 380  |        SongInfo.m_pFilename = g_CurrentSongName;
                            32384 ; 381  |#ifdef USE_PLAYLIST5
                            32385 ; 382  |    SysPostMessage(3,SOFT_TIMER_KILL_TIMER,TIMER_BATT_CHK);
                            32386 ; 383  |        SysPostMessage(3,SOFT_TIMER_KILL_TIMER,TIMER_AUTO_SHUTDOWN);
                            32387 ; 384  |    SysPostMessage(3,SOFT_TIMER_KILL_TIMER,TIMER_ANIMATE);
                            32388 ; 385  |    PlayerLib_SetState (DECODER_STATE_STOP,TRUE,NULL);
                            32389 ; 386  |#endif
                            32390 ; 387  |        if(iDirection == QUICK_SWITCH_NEXT)
                            32391 ; 388  |                pFunction = Playlist_GetNextSongFileInfo;
                            32392 ; 389  |        else
                            32393 ; 390  |                pFunction = Playlist_GetPreviousSongFileInfo;
                            32394 ; 391  |
                            32395 ; 392  |        // only switch to next track if found.
                            32396 ; 393  |        if (SysCallFunction(RSRC_PLAYLIST_CODEBANK,pFunction,NEXTSONG_PLAY_BUTTON,0,(void*)&SongInfo)!=PLAYLIST_TRACK_NOT_FOUND)
                            32397 ; 394  |        {
                            32398 ; 395  |                g_wCurrentDirDevId = SongInfo.m_wDeviceID;
                            32399 ; 396  |#ifndef USE_PLAYLIST5
                            32400 ; 397  |                g_wCurrentSongNumber = SongInfo.m_wTrack;
                            32401 ; 398  |#endif
                            32402 ; 399  |                SysWaitOnEvent(0,0,0);
                            32403 ; 400  |                SysPostMessage(6,SOFT_TIMER_SET_TIMER,TIMER_SONG_CHANGE,1,QUICK_SWITCH_TIMEOUT_TIME,MENU_SONG_CHANGE_TIMEOUT);
                            32404 ; 401  |        }
                            32405 ; 402  |#ifdef USE_PLAYLIST5
                            32406 ; 403  |    SysPostMessage(6,SOFT_TIMER_SET_TIMER,TIMER_ANIMATE,0,ANIMATE_PERIOD,MENU_MSG_ANIMATE);
                            32407 ; 404  |        SysWaitOnEvent(0,0,0);
                            32408 ; 405  |        SysPostMessage(6,SOFT_TIMER_SET_TIMER,TIMER_BATT_CHK,0,2000,MENU_BATTERY_CHNG);
                            32409 ; 406  |        SysWaitOnEvent(0,0,0);
                            32410 ; 407  |        UpdateAutoShutdownTimer();
                            32411 ; 408  |#endif
                            32412 ; 409  |#else // #ifndef USE_PLAYLIST3
                            32413 ; 410  |        union DisplayHints hints;
                            32414 ; 411  |        BYTE INTERSONG_DELAY_MSG[] = " Loading...";
                            32415 
P:0078 045FA0         2  26732417         movec   m0,n7
P:0079 000000         2  26932418         nop
P:007A 5C6F00         4  27332419         move    a1,y:(r7+n7)
P:007B 66F400 rrrrrr  3  27632422         move    #L8,r6
P:007D 77F400 FFFFF2  3  27932423         move    #-14,n7
P:007F 000000         2  28132424         nop
P:0080 044F15         4  28532425         lua     (r7)+n7,r5
P:0081 060C80 rrrrrr  6  29132426         do      #12,L17
P:0083 4FDE00         2  29332428         move    y:(r6)+,y1
P:0084 4F5D00         2  29532429         move    y1,y:(r5)+
                         (4)32430 L17:
                            32433 
                            32434 ; 412  |
                            32435 ; 413  |        // Moved from the message handler of MENU_SONG_CHANGE_TIMEOUT
                            32436 ; 414  |        PlayerLib_SetState (DECODER_STATE_STOP,TRUE,NULL);
                            32437 
P:0085 360000         2  29732439         move    #0,r6
P:0086 57F400 000001  3  30032440         move    #>1,b
P:0088 200013         2  30232441         clr     a   
P:0089 22D000         2  30432442         move    r6,r0
P:008A 0BF080 rrrrrr  6  31032443         jsr     FPlayerLib_SetState
                            32444 
                            32445 ; 415  |
                            32446 ; 416  |        // have to get a full path here
                            32447 ; 417  |        if ((g_iShuffleSetting) && (bPlayVoice == FALSE))
                            32448 
P:008C 5EF000 rrrrrr  3  31332450         move    y:Fg_iShuffleSetting,a
P:008E 200003         2  31532451         tst     a
P:008F 0AF0AA rrrrrr  6  32132452         jeq     L11
P:0091 5FF000 rrrrrr  3  32432453         move    y:FbPlayVoice,b
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page 127

M:ADDR CODE           CYCLES LINE SOURCELINE
P:0093 2B0000         2  32632454         move    #0,b2
P:0094 20000B         2  32832455         tst     b
P:0095 0AF0A2 rrrrrr  6  33432456         jne     L11
                            32457 
                            32458 ; 418  |        {
                            32459 ; 419  |                if(iDirection == QUICK_SWITCH_NEXT)
                            32460 
P:0097 045FA0         2  33632462         movec   m0,n7
P:0098 000000         2  33832463         nop
P:0099 5FEF00         4  34232464         move    y:(r7+n7),b
P:009A 46F400 000001  3  34532465         move    #>1,y0
P:009C 20005D         2  34732466         cmp     y0,b
P:009D 0AF0A2 rrrrrr  6  35332469         jne     L9
                            32470 
                            32471 ; 420  |                        SysPostMessage(4,MUSICLIB_SHUFFLE_NEXT,SHUFFLE_NEXT_SONG,&g_current_index);
                            32472 
P:009F 20001B         2  35532474         clr     b   
P:00A0 64F400 rrrrrr  3  35832476         move    #Fg_current_index,r4
P:00A2 6C5F00         2  36032477         move    r4,y:(r7)+
P:00A3 5F5F00         2  36232479         move    b,y:(r7)+
P:00A4 260F00         2  36432481         move    #<$F,y0
P:00A5 4E5F00         2  36632482         move    y0,y:(r7)+
P:00A6 290400         2  36832484         move    #4,b0
P:00A7 595F00         2  37032485         move    b0,y:(r7)+
P:00A8 0BF080 rrrrrr  6  37632487         jsr     FSysPostMessage
P:00AA 3F0400         2  37832488         move    #4,n7
P:00AB 000000         2  38032489         nop
P:00AC 204700         2  38232490         move    (r7)-n7
P:00AD 0AF080 rrrrrr  6  38832492         jmp     L15
                            32493 
                            32494 ; 421  |                else
                            32495 ; 422  |                        SysPostMessage(4,MUSICLIB_SHUFFLE_NEXT,SHUFFLE_PREVIOUS_SONG,&g_current_index);
                            32496 
P:00AF 290100         2  39032498 L9:     move    #1,b0
P:00B0 63F400 rrrrrr  3  39332499         move    #Fg_current_index,r3
P:00B2 6B5F00         2  39532500         move    r3,y:(r7)+
P:00B3 595F00         2  39732502         move    b0,y:(r7)+
P:00B4 260F00         2  39932504         move    #<$F,y0
P:00B5 4E5F00         2  40132505         move    y0,y:(r7)+
P:00B6 290400         2  40332507         move    #4,b0
P:00B7 595F00         2  40532508         move    b0,y:(r7)+
P:00B8 0BF080 rrrrrr  6  41132510         jsr     FSysPostMessage
P:00BA 3F0400         2  41332511         move    #4,n7
P:00BB 000000         2  41532512         nop
P:00BC 204700         2  41732513         move    (r7)-n7
                            32515 
                            32516 ; 423  |        }
                            32517 
P:00BD 0AF080 rrrrrr  6  42332519         jmp     L15
                            32520 
                            32521 ; 424  |        else
                            32522 ; 425  |        {
                            32523 ; 426  |                if(iDirection == QUICK_SWITCH_NEXT)
                            32524 
                            32526 L11:
P:00BF 045FA0         2  42532528         movec   m0,n7
P:00C0 000000         2  42732529         nop
P:00C1 5FEF00         4  43132530         move    y:(r7+n7),b
P:00C2 44F400 000001  3  43432531         move    #>1,x0
P:00C4 20004D         2  43632532         cmp     x0,b
P:00C5 0AF0A2 rrrrrr  6  44232535         jne     L12
                            32536 
                            32537 ; 427  |                        SysPostMessage(3,MUSICLIB_PLAYNEXTSONG,&g_current_index);
                            32538 
P:00C7 62F400 rrrrrr  3  44532540         move    #Fg_current_index,r2
P:00C9 6A5F00         2  44732541         move    r2,y:(r7)+
P:00CA 260D00         2  44932543         move    #<$D,y0
P:00CB 4E5F00         2  45132544         move    y0,y:(r7)+
P:00CC 290300         2  45332546         move    #3,b0
P:00CD 595F00         2  45532548         move    b0,y:(r7)+
P:00CE 0BF080 rrrrrr  6  46132550         jsr     FSysPostMessage
P:00D0 3F0300         2  46332551         move    #3,n7
P:00D1 000000         2  46532552         nop
P:00D2 204700         2  46732553         move    (r7)-n7
P:00D3 0AF080 rrrrrr  6  47332555         jmp     L15
                            32556 
                            32557 ; 428  |                else
                            32558 ; 429  |                        SysPostMessage(3,MUSICLIB_PLAYPREVIOUSSONG,&g_current_index);
                            32559 
P:00D5 60F400 rrrrrr  3  47632561 L12:    move    #Fg_current_index,r0
P:00D7 685F00         2  47832562         move    r0,y:(r7)+
P:00D8 260E00         2  48032564         move    #<$E,y0
P:00D9 4E5F00         2  48232565         move    y0,y:(r7)+
P:00DA 290300         2  48432567         move    #3,b0
P:00DB 595F00         2  48632568         move    b0,y:(r7)+
P:00DC 0BF080 rrrrrr  6  49232570         jsr     FSysPostMessage
P:00DE 3F0300         2  49432571         move    #3,n7
P:00DF 000000         2  49632572         nop
P:00E0 204700         2  49832573         move    (r7)-n7
                            32575 
                            32576 ; 430  |        }
                            32577 ; 431  |        // only switch to next track if found.
                            32578 ; 432  |        //g_wCurrentDirDevId = 0;
                            32579 ; 433  |        //packed_strcpy(g_CurrentSongName, DirPath);   // copy path and filename
                            32580 ; 434  |        SysWaitOnEvent(0,0,0);
                            32581 
P:00E1 300000         2  50032583 L15:    move    #0,r0
P:00E2 200013         2  50232584         clr     a   
P:00E3 20001B         2  50432585         clr     b   
P:00E4 0BF080 rrrrrr  6  51032586         jsr     SysWaitOnEvent
                            32587 
                            32588 ; 435  |        SysCallFunction(RSRC_METADATA_CODEBANK,RetrieveSongInfo,0,0,(INT*)(DirPath));
                            32589 
P:00E6 20001B         2  51232591         clr     b   
P:00E7 64F400 rrrrrr  3  51532592         move    #FDirPath,r4
P:00E9 240000         2  51732593         move    #0,x0
P:00EA 56F400 0001E4  3  52032594         move    #484,a
P:00EC 60F400 rrrrrr  3  52332595         move    #FRetrieveSongInfo,r0
P:00EE 0BF080 rrrrrr  6  52932596         jsr     SysCallFunction
                            32597 
                            32598 ; 436  |
                            32599 ; 437  |        ///////////////////////////////////////////////
                            32600 ; 438  |        // MLP: 8-15-05
                            32601 ; 439  |        // Fix for defect 8153.
                            32602 ; 440  |        //
                            32603 ; 441  |        // We only want to display the INTERSONG_DELAY_MSG when
                            32604 ; 442  |        // we are in the music mode.  If we have another menu
                            32605 ; 443  |        // on the LCD screen our message will over write it.
                            32606 ; 444  |        // In other words, We want to be able to control the
                            32607 ; 445  |        // play back when the user is surfing through the
                            32608 ; 446  |        // menus.
                            32609 ; 447  |        if (g_iCurrentMenu == MENU_MUSIC)
                            32610 
P:00F0 5FF000 rrrrrr  3  53232612         move    y:Fg_iCurrentMenu,b
P:00F2 20000B         2  53432613         tst     b
P:00F3 0AF0A2 rrrrrr  6  54032614         jne     L16
                            32615 
                            32616 ; 448  |        {
                            32617 ; 449  |                ////////////////////////////////////////////////////////////////////////////
                            32618 ; 450  |                // MLP 8-5-05
                            32619 ; 451  |                // For some DRM/Janus content the intersong delay is greater than 3 seconds.
                            32620 ; 452  |                // As per the SDK3.10 requirements, since we are greater than 3 seconds, we
                            32621 ; 453  |                // need to put up a message indicating we are skipping to the next/previous
                            32622 ; 454  |                // song.  To display the message we are "hijacking" the g_wSongAlbum,
                            32623 ; 455  |                // g_wSongArtist and g_wSongTitle and using those buffers to display our
                            32624 ; 456  |                // message since they will be changing anyway.  The Album and Artist strings
                            32625 ; 457  |                // are cleared.  The message string is placed in g_wSongTitle.  The message
                            32626 ; 458  |                // is a 3 byte per character string created above called INTERSONG_DELAY_MSG.
                            32627 ; 459  |                // Once the intersong  delay meets the specified requirements we can remove
                            32628 ; 460  |                // this code.
                            32629 ; 461  |
                            32630 ; 462  |                // Set the Artist and Album to NULL so they are left blank.
                            32631 ; 463  |                g_wSongArtist[0] = 0;
                            32632 
P:00F5 20001B         2  54232634         clr     b   
P:00F6 5F7000 rrrrrr  3  54532635         move    b,y:Fg_wSongArtist
                            32636 
                            32637 ; 464  |                g_wSongAlbum[0] = 0;
                            32638 
P:00F8 5F7000 rrrrrr  3  54832640         move    b,y:Fg_wSongAlbum
                            32641 
                            32642 ; 465  |
                            32643 ; 466  |                // Copy our message into the song title buffer.  This message does not
                            32644 ; 467  |                // scroll so make sure it's small enough to fit on the LCD screen.
                            32645 ; 468  |                strcpy(g_wSongTitle, (UCS3 _Y *)INTERSONG_DELAY_MSG);
                            32646 
P:00FA 77F400 FFFFF2  3  55132648         move    #-14,n7
P:00FC 000000         2  55332649         nop
P:00FD 044F14         4  55732650         lua     (r7)+n7,r4
P:00FE 60F400 rrrrrr  3  56032651         move    #Fg_wSongTitle,r0
P:0100 0BF080 rrrrrr  6  56632652         jsr     strcpy
                            32653 
                            32654 ; 469  |
                            32655 ; 470  |                // Make sure scrolling is disabled.  If not our message will get
                            32656 ; 471  |                // clobbered.
                            32657 ; 472  |                g_bSongStringScroll = FALSE;
                            32658 
P:0102 20001B         2  56832660         clr     b   
P:0103 577000 rrrrrr  3  57132661         move    b,x:Fg_bSongStringScroll
                            32662 
                            32663 ; 473  |
                            32664 ; 474  |                // Zero out all bit fields in the hints union
                            32665 ; 475  |                hints.I = 0;
                            32666 
P:0105 77F400 FFFFFE  3  57432668         move    #-2,n7
P:0107 000000         2  57632669         nop
P:0108 5F6F00         4  58032670         move    b,y:(r7+n7)
                            32671 
                            32672 ; 476  |
                            32673 ; 477  |                // Set the bits for ArtistAlbum and Title so only those parts of
                            32674 ; 478  |                // the LCD are updated.
                            32675 ; 479  |                hints.bits.SongArtistAlbum = 1;
                            32676 
P:0109 0A6F6F         6  58632678         bset    #15,y:(r7+n7)
                            32679 
                            32680 ; 480  |                hints.bits.SongTitle = 1;
                            32681 
P:010A 0A6F70         6  59232683         bset    #16,y:(r7+n7)
                            32684 
                            32685 ; 481  |
                            32686 ; 482  |                // This variable is used when the song title is scrollong across the screen.
                            32687 ; 483  |                // If the song title we scrolling then this value is probably not going to
                            32688 ; 484  |                // be zero which would cause our message to be displayed at some random
                            32689 ; 485  |                // horizontal location.
                            32690 ; 486  |                g_iSongStringOffset=0;
                            32691 
P:010B 577000 rrrrrr  3  59532693         move    b,x:Fg_iSongStringOffset
                            32694 
                            32695 ; 487  |
                            32696 ; 488  |                // Refresh the LCD screen.
                            32697 ; 489  |                // Arguments:
                            32698 ; 490  |                //     hints.I is our union indicating we only want to change Album, Arist and Title
                            32699 ; 491  |                //     1 means we want to update the fiels in hints.I. A 0 would just clear them.
                            32700 ; 492  |                //     0 is ignored.
                            32701 ; 493  |                SysCallFunction(RSRC_DISPLAY_CODE_BANK, RefreshDisplay, hints.I, 1, 0);
                            32702 
P:010D 5FEF00         4  59932704         move    y:(r7+n7),b
P:010E 44F400 000001  3  60232705         move    #>1,x0
P:0110 56F400 000022  3  60532706         move    #>34,a
P:0112 60F400 rrrrrr  3  60832707         move    #FRefreshDisplay,r0
P:0114 340000         2  61032708         move    #0,r4
P:0115 21AF00         2  61232709         move    b1,b
P:0116 0BF080 rrrrrr  6  61832710         jsr     SysCallFunction
                            32711 
                            32712 ; 494  |                g_Loading_displayed = TRUE;
                            32713 
P:0118 290100         2  62032715         move    #1,b0
P:0119 597000 rrrrrr  3  62332716         move    b0,y:Fg_Loading_displayed
                            32717 
                            32718 ; 495  |                // MLP
                            32719 ; 496  |                // 8-0-05
                            32720 ; 497  |                // End
                            32721 ; 498  |                ///////////////////////////////////////////////////////////////////////
                            32722 ; 499  |
                            32723 ; 500  |                // MLP
                            32724 ; 501  |                // 8-15-05
                            32725 ; 502  |                // End.
                            32726 ; 503  |        }
                            32727 ; 504  |
                            32728 ; 505  |        //update the alignment of the ARTIST, TITLE, ALBUM
                            32729 ; 506  |        PSM_ResetScrollInfo();
                            32730 
P:011B 0BF080 rrrrrr  6  62932732 L16:    jsr     FPSM_ResetScrollInfo
                            32733 
                            32734 ; 507  |        //need to prepare a valid path before posting message - MENU_SONG_CHANGE_TIMEOUT
                            32735 ; 508  |        SysPostMessage(6,SOFT_TIMER_SET_TIMER,TIMER_SONG_CHANGE,1,QUICK_SWITCH_TIMEOUT_TIME,MENU_SONG_CHANGE_TIMEOUT);
                            32736 
P:011D 46F400 060018  3  63232738         move    #393240,y0
P:011F 4E5F00         2  63432739         move    y0,y:(r7)+
P:0120 45F400 000190  3  63732741         move    #400,x1
P:0122 4D5F00         2  63932742         move    x1,y:(r7)+
P:0123 290100         2  64132744         move    #1,b0
P:0124 595F00         2  64332745         move    b0,y:(r7)+
P:0125 290300         2  64532747         move    #3,b0
P:0126 595F00         2  64732748         move    b0,y:(r7)+
P:0127 57F400 090001  3  65032750         move    #589825,b
P:0129 5F5F00         2  65232751         move    b,y:(r7)+
P:012A 290600         2  65432753         move    #6,b0
P:012B 595F00         2  65632754         move    b0,y:(r7)+
P:012C 0BF080 rrrrrr  6  66232756         jsr     FSysPostMessage
P:012E 3F0600         2  66432757         move    #6,n7
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page 128

M:ADDR CODE           CYCLES LINE SOURCELINE
P:012F 000000         2  66632758         nop
P:0130 204700         2  66832759         move    (r7)-n7
                            32761 
                            32762 ; 509  |#endif // #ifndef USE_PLAYLIST3
                            32763 ; 510  |}
                            32764 
P:0131 77F400 FFFFF1  3  67132766         move    #-15,n7
P:0133 000000         2  67332767         nop
P:0134 05EF7C         4  67732768         movec   y:(r7+n7),ssh
P:0135 204F00         2  67932770         move    (r7)+n7
P:0136 00000C         4  68332772         rts
                            32774 
                            32775 ; 511  |
                            32776 ; 512  |#ifdef  AUDIBLE
                            32777 ; 513  |/*
                            32778 ; 514  |static BOOL IsAudibleFile(void)
                            32779 ; 515  |{
                            32780 ; 516  |if ( (DecoderResourcePtr == RSRC_AUDIBLE_ACELPDEC_CODE) || (DecoderResourcePtr == RSRC_AUDIBLE_DECMOD_CODE) )
                            32781 ; 517  |return TRUE;
                            32782 ; 518  |
                            32783 ; 519  |return FALSE;
                            32784 ; 520  |}
                            32785 ; 521  |*/
                            32786 ; 522  |
                            32787 ; 523  |void _reentrant AudibleStopAndSave(INT fStop)
                            32788 ; 524  |{
                            32789 ; 525  |        if ( fStop )
                            32790 ; 526  |                PlayerLib_SetState(DECODER_STATE_STOP, TRUE, NULL);
                            32791 ; 527  |
                            32792 ; 528  |        // Make sure that we don't continue until the decoder is good and done with the audio file.
                            32793 ; 529  |        while ( !(g_wDecoderCSR & DECODER_STOPPED) || (g_wDecoderCSR & DECODER_FILE_IS_OPEN) ) {
                            32794 ; 530  |                SysWaitOnEvent(0,0,0);
                            32795 ; 531  |        }
                            32796 ; 532  |        // Save file position if currently playing an Audible file
                            32797 ; 533  |        if( g_bAllowAudibleSave ) {
                            32798 ; 534  |                SysCallFunction(RSRC_AUDIBLE_SONG_POSITION_P, AudibleSetFilePosition, (INT)(&g_CurrentSongName), (BYTE)g_wCurrentDirDevId, 0);
                            32799 ; 535  |                g_bAllowAudibleSave = FALSE;
                            32800 ; 536  |        }
                            32801 ; 537  |}
                            32802 ; 538  |#endif  // AUDIBLE
                            32803 ; 539  |
                            32804 ; 540  |////////////////////////////////////////////////////////////////////////////////
                            32805 ; 541  |//
                            32806 ; 542  |//>  Name:          int _reentrant HandlePlayerStateMachine(int iEvent,
                            32807 ; 543  |//                                                          int iIgnored,
                            32808 ; 544  |//                                                          int *pMessagePtr)
                            32809 ; 545  |//
                            32810 ; 546  |//   Type:          Function (code bank callable)
                            32811 ; 547  |//
                            32812 ; 548  |//   Description:   Does everything required to stop the player state machine
                            32813 ; 549  |//
                            32814 ; 550  |//   Inputs:        int iEvent     Either EVENT_MESSAGE,EVENT_BUTTON,EVENT_TIMER
                            32815 ; 551  |//                  struct CMessage Contains a structure (see exec.h) that has
                            32816 ; 552  |//                                  event information returned by SysWaitOnEvent
                            32817 ; 553  |//
                            32818 ; 554  |//   Outputs:       returns the iEvent passed in
                            32819 ; 555  |//
                            32820 ; 556  |//   Notes:         Put into its own code bank to remove the player state machine
                            32821 ; 557  |//                  handling from menus that need it (like eq, contrast, etc)
                            32822 ; 558  |//<
                            32823 ; 559  |////////////////////////////////////////////////////////////////////////////////
                            32824 ; 560  |int _reentrant HandlePlayerStateMachine(int iEvent, int iIgnored, int *pMessagePtr)
                            32825 ; 561  |{
                            32826 
                            32831 FHandlePlayerStateMachine:
P:0137 055F7C         2  68532832         movec   ssh,y:(r7)+
P:0138 3F0700         2  68732835         move    #7,n7
P:0139 000000         2  68932836         nop
P:013A 204F00         2  69132837         move    (r7)+n7
                            32875 
                            32876 ; 562  |        INT iCurrentSong;
                            32877 ; 563  |        INT i;
                            32878 ; 564  |        int MMCDriveNumber;
                            32879 ; 565  |        UCS3 * pChapterInfo;
                            32880 ; 566  |    RETCODE rtn;
                            32881 ; 567  |
                            32882 ; 568  |        union EventTypes *pMsg = (union EventTypes * )pMessagePtr;
                            32883 
P:013B 221600         2  69332885         move    r0,r6
                            32888 
                            32889 ; 569  |
                            32890 ; 570  |        union DisplayHints DisplayHint;
                            32891 ; 571  |
                            32892 ; 572  |        iIgnored;//this removes the parameter not used warning.
                            32893 ; 573  |
                            32894 ; 574  |        DisplayHint.I = 0;
                            32895 
P:013C 20001B         2  69532897         clr     b   
P:013D 77F400 FFFFFB  3  69832898         move    #-5,n7
P:013F 000000         2  70032899         nop
P:0140 5D6F00         4  70432900         move    b1,y:(r7+n7)
                            32901 
                            32902 ; 575  |
                            32903 ; 576  |        MMCDriveNumber = g_wNumMedia-1;
                            32904 
P:0141 5FF000 rrrrrr  3  70732906         move    y:Fg_wNumMedia,b
P:0143 46F400 000001  3  71032908         move    #>1,y0
P:0145 20005C         2  71232909         sub     y0,b
P:0146 21A600         2  71432910         move    b1,y0
                            32912 
                            32913 ; 577  |
                            32914 ; 578  |        switch (iEvent)
                            32915 
P:0147 47F400 000002  3  71732917         move    #>2,y1
P:0149 47F475 000008  3  72032918         cmp     y1,a    #>8,y1
P:014B 0AF0AA rrrrrr  6  72632919         jeq     L456
P:014D 200075         2  72832920         cmp     y1,a
P:014E 0AF0A2 rrrrrr  6  73432921         jne     L534
                            32922 
                            32923 ; 579  |        {
                            32924 ; 580  |        case EVENT_BUTTON:
                            32925 
P:0150 77F400 FFFFFC  3  73732927         move    #-4,n7
P:0152 000000         2  73932928         nop
P:0153 6E6F00         4  74332929         move    r6,y:(r7+n7)
                            32932 
                            32933 ; 581  |                // button pressed, so restart timer if enabled
                            32934 ; 582  |                UpdateAutoShutdownTimer();
                            32935 
P:0154 0BF080 rrrrrr  6  74932937         jsr     FUpdateAutoShutdownTimer
                            32941 
                            32942 ; 583  |
                            32943 ; 584  |                if(pMsg->Button.wButtonEvent != PR_RW)
                            32944 
P:0156 77F400 FFFFFC  3  75232946         move    #-4,n7
P:0158 000000         2  75432947         nop
P:0159 6EEF00         4  75832948         move    y:(r7+n7),r6
P:015A 000000         2  76032949         nop
P:015B 5FE600         2  76232950         move    y:(r6),b
P:015C 2B0000         2  76432953         move    #0,b2
P:015D 20000B         2  76632954         tst     b
P:015E 0AF0AA rrrrrr  6  77232955         jeq     L379
                            32956 
                            32957 ; 585  |                        g_bRewoundToBeginning= FALSE;
                            32958 
P:0160 20001B         2  77432960         clr     b   
P:0161 557000 rrrrrr  3  77732961         move    b1,x:Fg_bRewoundToBeginning
P:0163 77F400 FFFFFC  3  78032962 L379:   move    #-4,n7
P:0165 000000         2  78232963         nop
P:0166 6E6F00         4  78632964         move    r6,y:(r7+n7)
                            32967 
                            32968 ; 586  |
                            32969 ; 587  |                if((g_wDecoderSR & DECODER_STOPPED) && (g_iPlaylistRepeat==PLAYLIST_REPEAT_OFF) && (!PSM_GetABMode()) )
                            32970 
P:0167 55F000 rrrrrr  3  78932972         move    x:Fg_wDecoderSR,b1
P:0169 44F400 000040  3  79232973         move    #>$40,x0
P:016B 20004E         2  79432974         and     x0,b
P:016C 21AF00         2  79632975         move    b1,b
P:016D 2B0000         2  79832976         move    #0,b2
P:016E 20000B         2  80032977         tst     b
P:016F 0AF0AA rrrrrr  6  80632978         jeq     L382
P:0171 5FF000 rrrrrr  3  80932979         move    y:Fg_iPlaylistRepeat,b
P:0173 20000B         2  81132980         tst     b
P:0174 0AF0A2 rrrrrr  6  81732981         jne     L382
P:0176 0BF080 rrrrrr  6  82332982         jsr     FPSM_GetABMode
P:0178 200003         2  82532983         tst     a
P:0179 0AF0A2 rrrrrr  6  83132984         jne     L382
                            32985 
                            32986 ; 588  |                        SysWaitOnEvent(0,0,0);
                            32987 
P:017B 300000         2  83332989         move    #0,r0
P:017C 200013         2  83532990         clr     a   
P:017D 20001B         2  83732991         clr     b   
P:017E 0BF080 rrrrrr  6  84332992         jsr     SysWaitOnEvent
                            32993 
                            32994 ; 589  |
                            32995 ; 590  |
                            32996 ; 591  |                switch(pMsg->Button.wButtonEvent)
                            32997 
P:0180 77F400 FFFFFC  3  84632999 L382:   move    #-4,n7
P:0182 000000         2  84833000         nop
P:0183 6EEF00         4  85233001         move    y:(r7+n7),r6
P:0184 000000         2  85433002         nop
P:0185 5FE600         2  85633003         move    y:(r6),b
P:0186 65F400 rrrrrr  3  85933006         move    #L538,r5
P:0188 2B0000         2  86133007         move    #0,b2
P:0189 56F400 000024  3  86433008         move    #>36,a
P:018B 21FD0D         2  86633009         cmp     a,b     b,n5
P:018C 0AF0A7 rrrrrr  6  87233010         jgt     L534
P:018E 07ED95         8  88033011         movem   p:(r5+n5),r5
P:018F 000000         2  88233012         nop
P:0190 0AE580         4  88633013         jmp     (r5)
                            33014 
P:0191 rrrrrr               33015 L538:   dc      L400    ; case 0:
P:0192 rrrrrr               33016         dc      L407    ; case 1:
P:0193 rrrrrr               33017         dc      L391    ; case 2:
P:0194 rrrrrr               33018         dc      L392    ; case 3:
P:0195 rrrrrr               33019         dc      L534    ; default:
P:0196 rrrrrr               33020         dc      L534    ; default:
P:0197 rrrrrr               33021         dc      L383    ; case 6:
P:0198 rrrrrr               33022         dc      L534    ; default:
P:0199 rrrrrr               33023         dc      L388    ; case 8:
P:019A rrrrrr               33024         dc      L431    ; case 9:
P:019B rrrrrr               33025         dc      L387    ; case 10:
P:019C rrrrrr               33026         dc      L387    ; case 11:
P:019D rrrrrr               33027         dc      L435    ; case 12:
P:019E rrrrrr               33028         dc      L433    ; case 13:
P:019F rrrrrr               33029         dc      L444    ; case 14:
P:01A0 rrrrrr               33030         dc      L438    ; case 15:
P:01A1 rrrrrr               33031         dc      L534    ; default:
P:01A2 rrrrrr               33032         dc      L534    ; default:
P:01A3 rrrrrr               33033         dc      L534    ; default:
P:01A4 rrrrrr               33034         dc      L534    ; default:
P:01A5 rrrrrr               33035         dc      L534    ; default:
P:01A6 rrrrrr               33036         dc      L534    ; default:
P:01A7 rrrrrr               33037         dc      L534    ; default:
P:01A8 rrrrrr               33038         dc      L534    ; default:
P:01A9 rrrrrr               33039         dc      L385    ; case 24:
P:01AA rrrrrr               33040         dc      L421    ; case 25:
P:01AB rrrrrr               33041         dc      L431    ; case 26:
P:01AC rrrrrr               33042         dc      L534    ; default:
P:01AD rrrrrr               33043         dc      L534    ; default:
P:01AE rrrrrr               33044         dc      L534    ; default:
P:01AF rrrrrr               33045         dc      L534    ; default:
P:01B0 rrrrrr               33046         dc      L534    ; default:
P:01B1 rrrrrr               33047         dc      L534    ; default:
P:01B2 rrrrrr               33048         dc      L451    ; case 33:
P:01B3 rrrrrr               33049         dc      L534    ; default:
P:01B4 rrrrrr               33050         dc      L534    ; default:
P:01B5 rrrrrr               33051         dc      L384    ; case 36:
                            33052 
                            33053 
                            33054 ; 592  |                {
                            33055 ; 593  |                case PR_RV:
                            33056 ; 594  |                        if (g_iAB_Control_Mode==FALSE)
                            33057 
P:01B6 5FF000 rrrrrr  3  88933059 L383:   move    y:Fg_iAB_Control_Mode,b
P:01B8 20000B         2  89133060         tst     b
P:01B9 0AF0A2 rrrrrr  6  89733061         jne     L451
                            33062 
                            33063 ; 595  |                        {
                            33064 ; 596  |                        g_iVolume_Control_Mode=!g_iVolume_Control_Mode;
                            33065 
P:01BB 5EF000 rrrrrr  3  90033067         move    y:Fg_iVolume_Control_Mode,a
P:01BD 200003         2  90233068         tst     a
P:01BE 0AF0A2 rrrrrr  6  90833069         jne     L539
P:01C0 280100         2  91033070         move    #1,a0
P:01C1 587000 rrrrrr  3  91333071 L539:   move    a0,y:Fg_iVolume_Control_Mode
                            33072 
                            33073 ; 597  |                        DisplayHint.bits.Volume = TRUE;
                            33074 
P:01C3 0AF080 rrrrrr  6  91933076         jmp     L437
                            33077 
                            33078 ; 598  |                        }
                            33079 ; 599  |                        else
                            33080 ; 600  |                        {
                            33081 ; 601  |                                DisplayHint.bits.ABIcon = TRUE;
                            33082 ; 602  |                                //Decoder might be stopped and moving back to 'A' so wait.
                            33083 ; 603  |                                if(g_wDecoderSR & DECODER_STOPPED)
                            33084 ; 604  |                                        SysWaitOnEvent(0,0,0);
                            33085 ; 605  |                                
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page 129

M:ADDR CODE           CYCLES LINE SOURCELINE
                            33086 ; 606  |                                //Do not send AB if in a stop state.  This can cause problems since a 
                            33087 ; 607  |                                //DecoderForceInit() or DECODER_RESET might be called and put the player
                            33088 ; 608  |                                //in an unknown state (STMP3114, STMP3261, STMP3232).
                            33089 ; 609  |                                //AND do not send if A has been send within 1 second.  A tight loop can cause Menu MSG overflow.
                            33090 ; 610  |                                if((!(g_wDecoderSR & DECODER_STOPPED))   && (SysGetCurrentTime() > (stc_lTimeABWasLastPressed+900)))
                            33091 ; 611  |                                {                       
                            33092 ; 612  |                                switch (PSM_GetABMode())
                            33093 ; 613  |                                {
                            33094 ; 614  |                                case DECODER_A_SET:
                            33095 ; 615  |                                        // this will set B
                            33096 ; 616  |                                        SysPostMessage(2,DECODER_AB_MODE);
                            33097 ; 617  |                                        break;
                            33098 ; 618  |
                            33099 ; 619  |                                case DECODER_B_SET:
                            33100 ; 620  |                                        // this will clear AB mode
                            33101 ; 621  |                                        SysPostMessage(2,DECODER_AB_MODE);
                            33102 ; 622  |                                        break;
                            33103 ; 623  |
                            33104 ; 624  |                                default:
                            33105 ; 625  |                                        // no AB mode started -- set A and start timer
                            33106 ; 626  |                                        SysPostMessage(2,DECODER_AB_MODE);
                            33107 ; 627  |                                        stc_lTimeABWasLastPressed = SysGetCurrentTime();                       
                            33108 ; 628  |                                break;
                            33109 ; 629  |                                }       //end AB switch
                            33110 ; 630  |                                }//end if stop
                            33111 ; 631  |                        }
                            33112 ; 632  |                        break;
                            33113 ; 633  |                        
                            33114 ; 634  |                case PR_EQ:
                            33115 ; 635  |                        DisplayHint.bits.EQ = TRUE;
                            33116 
P:01C5 77F400 FFFFFB  3  92233118 L384:   move    #-5,n7
P:01C7 000000         2  92433119         nop
P:01C8 0A6F6D         6  93033120         bset    #13,y:(r7+n7)
                            33121 
                            33122 ; 636  |                #ifndef WOW
                            33123 ; 637  |                        SysCallFunction(RSRC_EQ_MENU_CODE_BANK,NextEQ,INCREMENT,0,0);
                            33124 
P:01C9 340000         2  93233126         move    #0,r4
P:01CA 240000         2  93433127         move    #0,x0
P:01CB 57F400 000001  3  93733128         move    #>1,b
P:01CD 60F400 rrrrrr  3  94033129         move    #FNextEQ,r0
P:01CF 56F400 00007D  3  94333130         move    #>$7D,a
P:01D1 0BF080 rrrrrr  6  94933131         jsr     SysCallFunction
                            33133 
                            33134 ; 638  |                #else
                            33135 ; 639  |
                            33136 ; 640  |                        // toggle WOW processing
                            33137 ; 641  |                        if (g_bWOWEnable)
                            33138 ; 642  |                        {   // To enable GEQ and disable WOW:
                            33139 ; 643  |                                SysPostMessage(3,GEQ_SET_EQ,ENABLE);
                            33140 ; 644  |                                // Set Q=0.99 and center frequencies at: 62,250,1k,4k,16k)
                            33141 ; 645  |                                SysPostMessage(12,GEQ_SET_PARAM,0.99,0.99,0.99,0.99,0.99,62,250,1000,4000,16000);
                            33142 ; 646  |                                SysCallFunction(RSRC_WOW_CTRL,SetProcessEnable,(int)&sWowChannel,(int)FALSE,0);
                            33143 ; 647  |                                g_bWOWEnable = FALSE;
                            33144 ; 648  |                        }
                            33145 ; 649  |                        else
                            33146 ; 650  |                        {   // To enable SRS WOW and disable GEQ:
                            33147 ; 651  |                                SysPostMessage(3,GEQ_SET_EQ,DISABLE);  // send disable GEQ message
                            33148 ; 652  |                                EnablePluginModule(&WowModuleBase);    // enable and Init WOW
                            33149 ; 653  |                                g_bWOWEnable = TRUE;
                            33150 ; 654  |                                SysCallFunction(RSRC_WOW_CTRL,SetProcessEnable,(int)&sWowChannel,(int)TRUE,0);
                            33151 ; 655  |                                //      SysCallFunction(RSRC_WOW_MENU_CODE_BANK,WowInit,0,0,0);
                            33152 ; 656  |                        }
                            33153 ; 657  |                        SysWaitOnEvent(0,0,0);      //let GEW process its queues, to prevent overflow
                            33154 ; 658  |
                            33155 ; 659  |                #endif
                            33156 ; 660  |                        break;
                            33157 
P:01D3 0AF080 rrrrrr  6  95533159         jmp     L534
                            33160 
                            33161 ; 661  |
                            33162 ; 662  |                case PR_MODE:
                            33163 ; 663  |                        SysCallFunction(RSRC_PLAYMODE_MENU_CODE_BANK,NextPlayMode,INCREMENT,0,0);
                            33164 
P:01D5 340000         2  95733166 L385:   move    #0,r4
P:01D6 240000         2  95933167         move    #0,x0
P:01D7 57F400 000001  3  96233168         move    #>1,b
P:01D9 60F400 rrrrrr  3  96533169         move    #FNextPlayMode,r0
P:01DB 56F400 00007E  3  96833170         move    #>$7E,a
P:01DD 0BF080 rrrrrr  6  97433171         jsr     SysCallFunction
                            33172 
                            33173 ; 664  |                        DisplayHint.bits.PlayMode = TRUE;
                            33174 
P:01DF 77F400 FFFFFB  3  97733176         move    #-5,n7
P:01E1 000000         2  97933177         nop
P:01E2 0A6F6B         6  98533178         bset    #11,y:(r7+n7)
                            33179 
                            33180 ; 665  |                        break;
                            33181 
P:01E3 0AF080 rrrrrr  6  99133183         jmp     L534
                            33184 
                            33185 ; 666  |                case PH_HOLD:
                            33186 ; 667  |                case PR_HOLD:
                            33187 ; 668  |                        DisplayHint.bits.LockIcon = TRUE;
                            33188 
P:01E5 77F400 FFFFFB  3  99433190 L387:   move    #-5,n7
P:01E7 000000         2  99633191         nop
P:01E8 0A6F74         6 100233192         bset    #20,y:(r7+n7)
                            33193 
                            33194 ; 669  |                        break;
                            33195 
P:01E9 0AF080 rrrrrr  6 100833197         jmp     L534
                            33198 
                            33199 ; 670  |                case PR_PLAY:
                            33200 ; 671  |                        if(g_wDecoderSR&DECODER_STOPPED)
                            33201 
P:01EB 54F000 rrrrrr  3 101133203 L388:   move    x:Fg_wDecoderSR,a1
P:01ED 46F400 000040  3 101433204         move    #>$40,y0
P:01EF 200056         2 101633205         and     y0,a
P:01F0 218E00         2 101833206         move    a1,a
P:01F1 2A0000         2 102033207         move    #0,a2
P:01F2 200003         2 102233208         tst     a
P:01F3 0AF0AA rrrrrr  6 102833209         jeq     L390
                            33211 
                            33212 ; 672  |                        {
                            33213 ; 673  |
                            33214 ; 674  |                                RETCODE rtn;
                            33215 ; 675  |#ifdef USE_PLAYLIST3
                            33216 ; 676  |                                rtn = SysCallFunction(RSRC_PLAYERLIB_EXTRA_CODE_BANK,PlayerLib_GetCurrentSong_ML,0,0,0);
                            33217 
P:01F5 20001B         2 103033221         clr     b   
P:01F6 200013         2 103233222         clr     a   
P:01F7 240000         2 103433223         move    #0,x0
P:01F8 219400         2 103633224         move    a1,r4
P:01F9 60F400 rrrrrr  3 103933225         move    #FPlayerLib_GetCurrentSong_ML,r0
P:01FB 56F400 00006C  3 104233226         move    #>108,a
P:01FD 0BF080 rrrrrr  6 104833227         jsr     SysCallFunction
P:01FF 200009         2 105033228         tfr     a,b
                            33230 
                            33231 ; 677  |                if (rtn != PLAYERLIB_SUCCESS)
                            33232 
P:0200 200003         2 105233234         tst     a
P:0201 0AF0AA rrrrrr  6 105833235         jeq     L389
                            33236 
                            33237 ; 678  |                {
                            33238 ; 679  |                    rtn = PlayerLib_SkipToNextSong(TRUE, NEXTSONG_PLAY_EOF,0);
                            33239 
P:0203 56F400 000001  3 106133241         move    #>1,a
P:0205 300000         2 106333242         move    #0,r0
P:0206 200009         2 106533243         tfr     a,b
P:0207 0BF080 rrrrrr  6 107133245         jsr     FPlayerLib_SkipToNextSong
P:0209 200009         2 107333246         tfr     a,b
                            33248 
                            33249 ; 680  |                }
                            33250 ; 681  |                                if (rtn == PLAYERLIB_SUCCESS)
                            33251 
P:020A 20000B         2 107533253 L389:   tst     b
P:020B 0AF0A2 rrrrrr  6 108133254         jne     L429
                            33255 
                            33256 ; 682  |#else
                            33257 ; 683  |                                rtn = SysCallFunction(RSRC_PLAYERLIB_EXTRA_CODE_BANK,PlayerLib_GetCurrentSong,0,0,0);
                            33258 ; 684  |#ifdef USE_PLAYLIST2
                            33259 ; 685  |                                while (((rtn != META_DATA_FOUND)&(rtn != PLAYERLIB_END_OF_LIST)) && !(g_iPlayModeSetting & PM_REPEAT1) )
                            33260 ; 686  |                                {
                            33261 ; 687  |                                        rtn = PlayerLib_SkipToNextSong(TRUE, NEXTSONG_PLAY_EOF,0);
                            33262 ; 688  |                                }
                            33263 ; 689  |#endif
                            33264 ; 690  |                                if (rtn == META_DATA_FOUND)
                            33265 ; 691  |#endif
                            33266 ; 692  |                                {
                            33267 ; 693  |#ifdef JPEG_ALBUM_ART
                            33268 ; 694  |                                        if (g_bApicFrameFound)
                            33269 ; 695  |                                        {
                            33270 ; 696  |                                                // Post a message to update display art
                            33271 ; 697  |                                                SysCallFunction(RSRC_APIC_FRAME_CODEBANK, ApicPostMessage, 0, 0, NULL);
                            33272 ; 698  |                                        }
                            33273 ; 699  |                                        else
                            33274 ; 700  |#endif
                            33275 ; 701  |                                        {
                            33276 ; 702  |#ifdef USE_PLAYLIST5
                            33277 ; 703  |                                                if((g_wTotalSongCount == 0))    // g_PL5_PL_queue.head must be not equal to  g_PL5_PL_queue.tail here
                            33278 ; 704  |                                                    g_wTotalSongCount = 1;
                            33279 ; 705  |#endif                                                                  
                            33280 ; 706  |                                                PlayerLib_SetState (DECODER_STATE_PLAY,TRUE,NULL);
                            33281 
P:020D 56F400 000001  3 108433283         move    #>1,a
P:020F 200009         2 108633284         tfr     a,b
P:0210 300000         2 108833286         move    #0,r0
P:0211 0BF080 rrrrrr  6 109433287         jsr     FPlayerLib_SetState
                            33288 
                            33289 ; 707  |                                        }
                            33290 ; 708  |#ifdef USE_PLAYLIST3
                            33291 ; 709  |                                        SysCallFunction(RSRC_METADATA_CODEBANK,RetrieveSongInfo,0,0,(INT*)(DirPath)); //STMP00014061,14169
                            33292 
P:0213 20001B         2 109633294         clr     b   
P:0214 64F400 rrrrrr  3 109933295         move    #FDirPath,r4
P:0216 240000         2 110133296         move    #0,x0
P:0217 60F400 rrrrrr  3 110433297         move    #FRetrieveSongInfo,r0
P:0219 56F400 0001E4  3 110733298         move    #484,a
P:021B 0BF080 rrrrrr  6 111333299         jsr     SysCallFunction
                            33300 
                            33301 ; 710  |#endif
                            33302 ; 711  |                                        PSM_ResetScrollInfo();
                            33303 
P:021D 0BF080 rrrrrr  6 111933305         jsr     FPSM_ResetScrollInfo
                            33306 
                            33307 ; 712  |#ifdef  AUDIBLE
                            33308 ; 713  |                                        g_bAllowAudibleSave = TRUE;
                            33309 ; 714  |                                        g_AudibleFlags.bits.ChapterNavMode = FALSE;
                            33310 ; 715  |#endif
                            33311 ; 716  |                                        DisplayHint.I |= MUSIC_MENU_DISPLAY_NEW_TRACK;//update everything
                            33312 
P:021F 77F400 FFFFFB  3 112233314         move    #-5,n7
P:0221 000000         2 112433315         nop
P:0222 5DEF00         4 112833316         move    y:(r7+n7),b1
P:0223 47F400 079700  3 113133317         move    #$79700,y1
P:0225 20007A         2 113333318         or      y1,b
P:0226 5D6F00         4 113733319         move    b1,y:(r7+n7)
                            33321 
                            33322 ; 717  |                                }
                            33323 ; 718  |                        }
                            33324 
P:0227 0AF080 rrrrrr  6 114333326         jmp     L429
                            33327 
                            33328 ; 719  |                        else
                            33329 ; 720  |                        {
                            33330 ; 721  |                                PlayerLib_SetState (DECODER_STATE_TOGGLE,TRUE,NULL);
                            33331 
P:0229 300000         2 114533333 L390:   move    #0,r0
P:022A 57F400 000001  3 114833334         move    #>1,b
P:022C 56F400 000004  3 115133335         move    #>4,a
P:022E 0BF080 rrrrrr  6 115733336         jsr     FPlayerLib_SetState
                            33337 
                            33338 ; 722  |                        }
                            33339 ; 723  |                        g_iSeeking=SEEK_NONE;
                            33340 
P:0230 0AF080 rrrrrr  6 116333342         jmp     L429
                            33343 
                            33344 ; 724  |                        break;
                            33345 ; 725  |
                            33346 ; 726  |                case PR_FF:
                            33347 ; 727  |                        if (g_iVolume_Control_Mode==FALSE)
                            33348 
P:0232 5FF000 rrrrrr  3 116633350 L391:   move    y:Fg_iVolume_Control_Mode,b
P:0234 20000B         2 116833351         tst     b
P:0235 0AF0A2 rrrrrr  6 117433352         jne     L433
                            33353 
                            33354 ; 728  |                        {
                            33355 ; 729  |                        holdcount=0;
                            33356 
P:0237 20001B         2 117633358         clr     b   
P:0238 5D7000 rrrrrr  3 117933359         move    b1,y:Fholdcount
                            33360 
                            33361 ; 730  |                        g_wAdpcmSecondstoSkip=SECONDS_TO_SKIP;
                            33362 
P:023A 290100         2 118133364         move    #1,b0
P:023B 597000 rrrrrr  3 118433365         move    b0,y:Fg_wAdpcmSecondstoSkip
                            33366 
                            33367 ; 731  |                        SysPostMessage(3,SOFT_TIMER_KILL_TIMER,TIMER_FFRWND);  // Kill the timer
                            33368 
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page 130

M:ADDR CODE           CYCLES LINE SOURCELINE
P:023D 290600         2 118633370         move    #6,b0
P:023E 595F00         2 118833371         move    b0,y:(r7)+
P:023F 51F400 090002  3 119133373         move    #589826,b0
P:0241 595F00         2 119333374         move    b0,y:(r7)+
P:0242 290300         2 119533376         move    #3,b0
P:0243 595F00         2 119733377         move    b0,y:(r7)+
P:0244 0BF080 rrrrrr  6 120333379         jsr     FSysPostMessage
P:0246 3F0300         2 120533380         move    #3,n7
P:0247 000000         2 120733381         nop
P:0248 204700         2 120933382         move    (r7)-n7
                            33384 
                            33385 ; 732  |
                            33386 ; 733  |                        g_wSecondsToSkip=SECONDS_TO_SKIP;
                            33387 
P:0249 290100         2 121133389         move    #1,b0
P:024A 597000 rrrrrr  3 121433390         move    b0,y:Fg_wSecondsToSkip
                            33391 
                            33392 ; 734  |                        DisplayHint.bits.PlayState = TRUE;
                            33393 
P:024C 77F400 FFFFFB  3 121733395         move    #-5,n7
P:024E 000000         2 121933396         nop
P:024F 0A6F69         6 122533397         bset    #9,y:(r7+n7)
                            33398 
                            33399 ; 735  |                        if(g_iSeeking)
                            33400 
P:0250 57F000 rrrrrr  3 122833402         move    x:Fg_iSeeking,b
P:0252 20000B         2 123033403         tst     b
P:0253 0AF0A2 rrrrrr  6 123633404         jne     L401
P:0255 56F400 000001  3 123933405         move    #>1,a
                            33406 
                            33407 ; 736  |                        {//if we were fast forwarding, lets tell the player to play
                            33408 ; 737  |                                if(g_iPlayerState == DECODER_PLAYING)
                            33409 ; 738  |                                {
                            33410 ; 739  |                                        PlayerLib_SetState (DECODER_STATE_PLAY, TRUE, NULL);
                            33411 ; 740  |                                }
                            33412 ; 741  |                        }
                            33413 ; 742  |                        else
                            33414 ; 743  |                        {
                            33415 ; 744  |#ifdef AUDIBLE
                            33416 ; 745  |                                if ( g_AudibleFlags.bits.ChapterNavMode ) {
                            33417 ; 746  |                                        PlayerLib_SetState (DECODER_STATE_PAUSE,TRUE,NULL);
                            33418 ; 747  |                                        SysPostMessage(2,DECODER_NEXT_CHAPTER);
                            33419 ; 748  |                                        PlayerLib_SetState(DECODER_STATE_PLAY, TRUE, NULL);
                            33420 ; 749  |                                        // Update chapter number
                            33421 ; 750  |                                }
                            33422 ; 751  |                                else
                            33423 ; 752  |#endif
                            33424 ; 753  |                                {
                            33425 ; 754  |                                        // We want to skip to next song
                            33426 ; 755  |#ifdef  AUDIBLE
                            33427 ; 756  |                                        if ( g_AudibleFlags.bits.IsAudibleFile )
                            33428 ; 757  |                                                AudibleStopAndSave(TRUE);
                            33429 ; 758  |#endif
                            33430 ; 759  |                                        QuickSwitchSong(QUICK_SWITCH_NEXT);
                            33431 
P:0257 0BF080 rrrrrr  6 124533433         jsr     FQuickSwitchSong
                            33434 
                            33435 ; 760  |                                        // Update the track number
                            33436 ; 761  |                                        DisplayHint.bits.CurrentTrack = TRUE;
                            33437 
P:0259 0AF080 rrrrrr  6 125133439         jmp     L404
                            33440 
                            33441 ; 762  |                                }
                            33442 ; 763  |                        }
                            33443 ; 764  |                        g_iSeeking=SEEK_NONE;
                            33444 ; 765  |                        }
                            33445 ; 766  |                        else
                            33446 ; 767  |                        //In Volume Control Mode
                            33447 ; 768  |                        {
                            33448 ; 769  |                                SysIncrementVolume();
                            33449 ; 770  |                                stc_iPressHoldCount=0;
                            33450 ; 771  |                                DisplayHint.bits.Volume = TRUE;
                            33451 ; 772  |                        }
                            33452 ; 773  |                        break;
                            33453 ; 774  |
                            33454 ; 775  |                case PH_FF:
                            33455 ; 776  |                        if (g_iVolume_Control_Mode==FALSE)
                            33456 
P:025B 5FF000 rrrrrr  3 125433458 L392:   move    y:Fg_iVolume_Control_Mode,b
P:025D 20000B         2 125633459         tst     b
P:025E 0AF0A2 rrrrrr  6 126233460         jne     L394
                            33461 
                            33462 ; 777  |                        {
                            33463 ; 778  |                        DisplayHint.bits.PlayState = TRUE;
                            33464 
P:0260 77F400 FFFFFB  3 126533466         move    #-5,n7
P:0262 000000         2 126733467         nop
P:0263 0A6F69         6 127333468         bset    #9,y:(r7+n7)
                            33469 
                            33470 ; 779  |                        if(!g_iSeeking)
                            33471 
P:0264 56F000 rrrrrr  3 127633473         move    x:Fg_iSeeking,a
P:0266 200003         2 127833474         tst     a
P:0267 0AF0A2 rrrrrr  6 128433475         jne     L393
                            33476 
                            33477 ; 780  |                        {//if we're not seeking, lets enter the seek state
                            33478 ; 781  |                                g_iSeeking = SEEK_FFWD;
                            33479 
P:0269 290100         2 128633481         move    #1,b0
P:026A 517000 rrrrrr  3 128933482         move    b0,x:Fg_iSeeking
                            33483 
                            33484 ; 782  |                        }
                            33485 ; 783  |
                            33486 ; 784  |                        if (PlayerLib_FastForward(FALSE, 0,0) == PLAYERLIB_SUCCESS) //now lets seek
                            33487 
P:026C 200013         2 129133489 L393:   clr     a   
P:026D 300000         2 129333490         move    #0,r0
P:026E 20001B         2 129533491         clr     b   
P:026F 0BF080 rrrrrr  6 130133492         jsr     FPlayerLib_FastForward
P:0271 200003         2 130333493         tst     a
P:0272 0AF0A2 rrrrrr  6 130933494         jne     L411
                            33495 
                            33496 ; 785  |                        {
                            33497 ; 786  |                                // This timer was added to speed up the scanning speed, it sets up two call backs to the menu module which in turn will send
                            33498 ; 787  |                                // FF/RWND decoder messages.  This will cause the seconds display to be updated twice as often (depending on the equate values).
                            33499 ; 788  |                                //   To go back to the original configuration:
                            33500 ; 789  |                                //                1) comment out the Syspostmessage function below so the timers won't be set.
                            33501 ; 790  |                                //                2) change the SECONDS_TO_SKIP values, all three, to 3 seconds.
                            33502 ; 791  |                                SysPostMessage(6,SOFT_TIMER_SET_TIMER,TIMER_FFRWND,2,200,MENU_MSG_SEND_FF);  // Sets up the Decoder FF messages between the PH_FFs.
                            33503 
P:0274 2D0600         2 131133505         move    #6,b1
P:0275 44F400 06001B  3 131433506         move    #393243,x0
P:0277 4C5F00         2 131633507         move    x0,y:(r7)+
P:0278 29C800         2 131833509         move    #200,b0
P:0279 595F00         2 132033510         move    b0,y:(r7)+
P:027A 290200         2 132233512         move    #2,b0
P:027B 595F00         2 132433513         move    b0,y:(r7)+
P:027C 290600         2 132633515         move    #6,b0
P:027D 595F00         2 132833516         move    b0,y:(r7)+
P:027E 54F400 090001  3 133133518         move    #589825,a1
P:0280 5C5F00         2 133333519         move    a1,y:(r7)+
P:0281 5D5F00         2 133533521         move    b1,y:(r7)+
P:0282 0BF080 rrrrrr  6 134133523         jsr     FSysPostMessage
P:0284 3F0600         2 134333524         move    #6,n7
P:0285 000000         2 134533525         nop
P:0286 204700         2 134733526         move    (r7)-n7
                            33528 
                            33529 ; 792  |                        } // TOVERIFY    sdk2.6 used 100 here rather than sdk3.0 & 3.05's 200 value. Which is best?
                            33530 ; 793  |
                            33531 ; 794  |
                            33532 ; 795  |
                            33533 ; 796  |                        holdcount++;
                            33534 
P:0287 0AF080 rrrrrr  6 135333536         jmp     L411
                            33537 
                            33538 ; 797  |#ifdef AUDIBLE
                            33539 ; 798  |                        //Audible Check
                            33540 ; 799  |                        if( g_AudibleFlags.bits.IsAudibleFile ) {
                            33541 ; 800  |                                if(holdcount<LEVEL1_BOUNDARY) {
                            33542 ; 801  |                                        // Level 1 (b/w 1 to 5 sec)  --> 3X rate
                            33543 ; 802  |                                        g_wSecondsToSkip = SECONDS_TO_SKIP_FOR_3X_RATE;
                            33544 ; 803  |                                } else if((holdcount>LEVEL1_BOUNDARY) && (holdcount<LEVEL2_BOUNDARY)) {
                            33545 ; 804  |                                        // Level 2 (b/w 5 to 10 sec) --> 60X rate
                            33546 ; 805  |                                        g_wSecondsToSkip = SECONDS_TO_SKIP_FOR_60X_RATE;
                            33547 ; 806  |                                } else if((holdcount>LEVEL2_BOUNDARY) && (holdcount<LEVEL3_BOUNDARY)) {
                            33548 ; 807  |                                        // Level 3 (b/w 10 to 15 sec)--> 600X rate
                            33549 ; 808  |                                        g_wSecondsToSkip = SECONDS_TO_SKIP_FOR_600X_RATE;
                            33550 ; 809  |                                } else if(holdcount>LEVEL3_BOUNDARY) {
                            33551 ; 810  |                                        // Level 4 (above 15 sec)    --> 1800X rate
                            33552 ; 811  |                                        g_wSecondsToSkip = SECONDS_TO_SKIP_FOR_1800X_RATE;
                            33553 ; 812  |                                }
                            33554 ; 813  |                        }
                            33555 ; 814  |                        else
                            33556 ; 815  |#endif
                            33557 ; 816  |                        {
                            33558 ; 817  |                                if(holdcount < SECOND_TIME_BOUNDARY && holdcount > FIRST_TIME_BOUNDARY ) {
                            33559 ; 818  |                                        g_wAdpcmSecondstoSkip=SECONDS_TO_SKIP1;
                            33560 ; 819  |                                        g_wSecondsToSkip = SECONDS_TO_SKIP1;
                            33561 ; 820  |                                }
                            33562 ; 821  |                                if(holdcount > SECOND_TIME_BOUNDARY) {
                            33563 ; 822  |                                        g_wAdpcmSecondstoSkip=SECONDS_TO_SKIP2;
                            33564 ; 823  |                                        g_wSecondsToSkip=SECONDS_TO_SKIP2;
                            33565 ; 824  |                                }
                            33566 ; 825  |                        }
                            33567 ; 826  |#ifdef SYNC_LYRICS
                            33568 ; 827  |                        if ((holdcount & 0x3) == 0)
                            33569 ; 828  |                                LyricsSetTimer(1);
                            33570 ; 829  |#endif
                            33571 ; 830  |                        }
                            33572 
P:0289 57F000 rrrrrr  3 135633574 L394:   move    x:Fstc_iPressHoldCount,b
                            33575 
                            33576 ; 831  |                        else
                            33577 ; 832  |                        //In Volume Control Mode
                            33578 ; 833  |                        {
                            33579 ; 834  |                                DisplayHint.bits.Volume = TRUE;
                            33580 
P:028B 77F400 FFFFFB  3 135933582         move    #-5,n7
P:028D 000000         2 136133583         nop
P:028E 0A6F6E         6 136733584         bset    #14,y:(r7+n7)
                            33585 
                            33586 ; 835  |                                stc_iPressHoldCount++;
                            33587 
P:028F 44F400 000001  3 137033589         move    #>1,x0
P:0291 200048         2 137233590         add     x0,b
                            33591 
                            33592 ; 836  |                                if(stc_iPressHoldCount > 10)
                            33593 
P:0292 46F400 00000A  3 137533595         move    #>10,y0
P:0294 20005D         2 137733596         cmp     y0,b
                            33597 
                            33598 ; 837  |                                        stc_iPressHoldCount = 10;
                            33599 
P:0295 027058         2 137933601         tgt     y0,b
                            33602 
                            33603 ; 838  |                                for(i=0;i<stc_iPressHoldCount;i++)
                            33604 
P:0296 260000         2 138133606         move    #0,y0
P:0297 557000 rrrrrr  3 138433608         move    b1,x:Fstc_iPressHoldCount
P:0299 0AF080 rrrrrr  6 139033609         jmp     L399
P:029B 77F400 FFFFFE  3 139333610 L396:   move    #-2,n7
P:029D 000000         2 139533611         nop
P:029E 4E6F00         4 139933612         move    y0,y:(r7+n7)
                            33615 
                            33616 ; 839  |                                {
                            33617 ; 840  |                                        SysIncrementVolume();
                            33618 
P:029F 5FF000 rrrrrr  3 140233620         move    y:Fg_iUserVolume,b
P:02A1 45F400 000001  3 140533621         move    #>1,x1
P:02A3 200068         2 140733622         add     x1,b
P:02A4 5D7000 rrrrrr  3 141033623         move    b1,y:Fg_iUserVolume
P:02A6 0BF080 rrrrrr  6 141633624         jsr     FSysUpdateVolume
                            33625 
                            33626 ; 841  |                                        // mixer queue is only 32 words
                            33627 ; 842  |                                        // menu will post 6 words when SysXXXVolume is called
                            33628 ; 843  |                                        // GEQ module loads after menus but before mixer module
                            33629 ; 844  |                                        //     and posts 6 words
                            33630 ; 845  |                                        // so assuming the system module or menu doesn't post any mixer
                            33631 ; 846  |                                        //   messages the max mixer words that can be posted here before
                            33632 ; 847  |                                        //   need to process that queue is 26 -- so let the modules run
                            33633 ; 848  |                                        //   after every 4 calls to the SysXXXVolume function
                            33634 ; 849  |
                            33635 ; 850  |                                        // this may cause problems with AB because more decoder messages
                            33636 ; 851  |                                        // can be posted.
                            33637 ; 852  |                                        if ((i==4) || (i==8))
                            33638 
P:02A8 47F400 000004  3 141933640         move    #>4,y1
P:02AA 77F400 FFFFFE  3 142233641         move    #-2,n7
P:02AC 000000         2 142433642         nop
P:02AD 5EEF00         4 142833643         move    y:(r7+n7),a
P:02AE 200075         2 143033644         cmp     y1,a
P:02AF 0AF0AA rrrrrr  6 143633645         jeq     L397
P:02B1 46F400 000008  3 143933646         move    #>8,y0
P:02B3 200009         2 144133647         tfr     a,b
P:02B4 20005D         2 144333648         cmp     y0,b
P:02B5 0AF0A2 rrrrrr  6 144933649         jne     L398
                            33650 
                            33651 ; 853  |                                        {
                            33652 ; 854  |                                                SysWaitOnEvent(0,0,0);
                            33653 
P:02B7 300000         2 145133655 L397:   move    #0,r0
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page 131

M:ADDR CODE           CYCLES LINE SOURCELINE
P:02B8 200013         2 145333656         clr     a   
P:02B9 20001B         2 145533657         clr     b   
P:02BA 0BF080 rrrrrr  6 146133658         jsr     SysWaitOnEvent
                            33659 
                            33660 ; 855  |                                        }
                            33661 
                            33663 L398:
P:02BC 77F400 FFFFFE  3 146433665         move    #-2,n7
P:02BE 000000         2 146633666         nop
P:02BF 5EEF00         4 147033667         move    y:(r7+n7),a
P:02C0 46F400 000001  3 147333668         move    #>1,y0
P:02C2 200050         2 147533669         add     y0,a
P:02C3 218600         2 147733672         move    a1,y0
P:02C4 47F000 rrrrrr  3 148033675 L399:   move    x:Fstc_iPressHoldCount,y1
P:02C6 200051         2 148233676         tfr     y0,a
P:02C7 200075         2 148433677         cmp     y1,a
P:02C8 0AF0A9 rrrrrr  6 149033678         jlt     L396
                            33679 
                            33680 ; 856  |                                }
                            33681 ; 857  |                        }
                            33682 ; 858  |                        break;
                            33683 
P:02CA 0AF080 rrrrrr  6 149633685         jmp     L534
                            33686 
                            33687 ; 859  |                        
                            33688 ; 860  |                case PR_RW:
                            33689 ; 861  |                        if (g_iVolume_Control_Mode==FALSE)
                            33690 
P:02CC 5FF000 rrrrrr  3 149933692 L400:   move    y:Fg_iVolume_Control_Mode,b
P:02CE 20000B         2 150133693         tst     b
P:02CF 0AF0A2 rrrrrr  6 150733694         jne     L435
                            33695 
                            33696 ; 862  |                        {
                            33697 ; 863  |                        DisplayHint.bits.PlayState = TRUE;
                            33698 
P:02D1 77F400 FFFFFB  3 151033700         move    #-5,n7
P:02D3 000000         2 151233701         nop
P:02D4 0A6F69         6 151833702         bset    #9,y:(r7+n7)
                            33703 
                            33704 ; 864  |                        holdcount=0;
                            33705 
P:02D5 20001B         2 152033707         clr     b   
P:02D6 5D7000 rrrrrr  3 152333708         move    b1,y:Fholdcount
                            33709 
                            33710 ; 865  |                        g_wAdpcmSecondstoSkip=SECONDS_TO_SKIP;
                            33711 
P:02D8 290100         2 152533713         move    #1,b0
P:02D9 597000 rrrrrr  3 152833714         move    b0,y:Fg_wAdpcmSecondstoSkip
                            33715 
                            33716 ; 866  |                        g_wSecondsToSkip=SECONDS_TO_SKIP;
                            33717 
P:02DB 597000 rrrrrr  3 153133719         move    b0,y:Fg_wSecondsToSkip
                            33720 
                            33721 ; 867  |                        SysPostMessage(3,SOFT_TIMER_KILL_TIMER,TIMER_FFRWND);  // Kill the timer
                            33722 
P:02DD 290600         2 153333724         move    #6,b0
P:02DE 2D0300         2 153533725         move    #3,b1
P:02DF 595F00         2 153733726         move    b0,y:(r7)+
P:02E0 47F400 090002  3 154033728         move    #589826,y1
P:02E2 4F5F00         2 154233729         move    y1,y:(r7)+
P:02E3 5D5F00         2 154433731         move    b1,y:(r7)+
P:02E4 0BF080 rrrrrr  6 155033733         jsr     FSysPostMessage
P:02E6 3F0300         2 155233734         move    #3,n7
P:02E7 000000         2 155433735         nop
P:02E8 204700         2 155633736         move    (r7)-n7
                            33739 
                            33740 ; 868  |                        if(g_iSeeking)
                            33741 
P:02E9 57F000 rrrrrr  3 155933743         move    x:Fg_iSeeking,b
P:02EB 20000B         2 156133744         tst     b
P:02EC 0AF0AA rrrrrr  6 156733745         jeq     L402
                            33746 
                            33747 ; 869  |                        {//if we were fast forwarding, lets tell the player to play
                            33748 ; 870  |                                if(g_iPlayerState == DECODER_PLAYING)
                            33749 
P:02EE 57F000 rrrrrr  3 157033751 L401:   move    x:Fg_iPlayerState,b
P:02F0 46F400 001000  3 157333752         move    #$1000,y0
P:02F2 20005D         2 157533753         cmp     y0,b
P:02F3 0AF0A2 rrrrrr  6 158133754         jne     L429
                            33755 
                            33756 ; 871  |                                {
                            33757 ; 872  |                                        PlayerLib_SetState (DECODER_STATE_PLAY, TRUE, NULL);
                            33758 
P:02F5 56F400 000001  3 158433760         move    #>1,a
P:02F7 300000         2 158633761         move    #0,r0
P:02F8 200009         2 158833762         tfr     a,b
P:02F9 0BF080 rrrrrr  6 159433763         jsr     FPlayerLib_SetState
                            33764 
                            33765 ; 873  |                                }
                            33766 ; 874  |                        }
                            33767 
P:02FB 0AF080 rrrrrr  6 160033769         jmp     L429
                            33770 
                            33771 ; 875  |                        else
                            33772 ; 876  |                        {
                            33773 ; 877  |#ifdef AUDIBLE
                            33774 ; 878  |                                if ( g_AudibleFlags.bits.ChapterNavMode ) {
                            33775 ; 879  |                                        PlayerLib_SetState (DECODER_STATE_PAUSE,TRUE,NULL);
                            33776 ; 880  |                                        SysPostMessage(2,DECODER_PREV_CHAPTER);
                            33777 ; 881  |                                        PlayerLib_SetState(DECODER_STATE_PLAY, TRUE, NULL);
                            33778 ; 882  |                                        // Update Chapter number
                            33779 ; 883  |                                }
                            33780 ; 884  |                                else
                            33781 ; 885  |#endif
                            33782 ; 886  |                                {
                            33783 ; 887  |                                        //We want to skip to previous song, or go back to the beginning of the song
                            33784 ; 888  |                                        //if we're more than PREV_SONG_THRESHOLD (project.h)
                            33785 ; 889  |                                        SONGTIME time;
                            33786 
                            33788 L402:
                            33790 
                            33791 ; 890  |                                        time = DecGetCurrentTime();
                            33792 
P:02FD 0BF080 rrrrrr  6 160633795         jsr     DecGetCurrentTime
P:02FF 77F400 FFFFFE  3 160933796         move    #-2,n7
P:0301 205F00         2 161133797         move    (r7)+
P:0302 5E6F00         4 161533799         move    a,y:(r7+n7)
P:0303 205700         2 161733800         move    (r7)-
P:0304 5F6F00         4 162133802         move    b,y:(r7+n7)
P:0305 044F14         4 162533803         lua     (r7)+n7,r4
P:0306 77F400 FFFFF9  3 162833804         move    #-7,n7
P:0308 000000         2 163033805         nop
P:0309 044F12         4 163433806         lua     (r7)+n7,r2
P:030A 59DC00         2 163633807         move    y:(r4)+,b0
P:030B 595A00         2 163833808         move    b0,y:(r2)+
P:030C 59D400         2 164033809         move    y:(r4)-,b0
P:030D 595200         2 164233810         move    b0,y:(r2)-
                            33811 
                            33812 ; 891  |#ifdef  AUDIBLE
                            33813 ; 892  |                                        if( g_bRewoundToBeginning ||
                            33814 ; 893  |                                            ((time.wMinutes <= 0) && (time.wSeconds <= PREV_SONG_THRESHOLD)) ||
                            33815 ; 894  |                                            g_AudibleFlags.bits.IsAudibleFile )
                            33816 ; 895  |#else
                            33817 ; 896  |                if( g_bRewoundToBeginning ||
                            33818 ; 897  |                    ((time.wMinutes <= 0) && (time.wSeconds <= PREV_SONG_THRESHOLD)))
                            33819 
P:030E 56F000 rrrrrr  3 164533821         move    x:Fg_bRewoundToBeginning,a
P:0310 2A0000         2 164733822         move    #0,a2
P:0311 200003         2 164933823         tst     a
P:0312 0AF0A2 rrrrrr  6 165533824         jne     L403
P:0314 5FEF00         4 165933825         move    y:(r7+n7),b
P:0315 2B0000         2 166133826         move    #0,b2
P:0316 20000B         2 166333827         tst     b
P:0317 0AF0A7 rrrrrr  6 166933828         jgt     L406
P:0319 46F400 000005  3 167233829         move    #>5,y0
P:031B 77F400 FFFFFA  3 167533830         move    #-6,n7
P:031D 000000         2 167733831         nop
P:031E 5FEF00         4 168133832         move    y:(r7+n7),b
P:031F 2B0000         2 168333833         move    #0,b2
P:0320 20005D         2 168533834         cmp     y0,b
P:0321 0AF0A7 rrrrrr  6 169133835         jgt     L406
                            33836 
                            33837 ; 898  |#endif
                            33838 ; 899  |                                        {
                            33839 ; 900  |#ifdef  AUDIBLE
                            33840 ; 901  |                                                if ( g_AudibleFlags.bits.IsAudibleFile )
                            33841 ; 902  |                                                        AudibleStopAndSave(TRUE);
                            33842 ; 903  |#endif
                            33843 ; 904  |                                                QuickSwitchSong(QUICK_SWITCH_PREVIOUS);
                            33844 
P:0323 56F400 FFFFFF  3 169433846 L403:   move    #>-1,a
P:0325 0BF080 rrrrrr  6 170033847         jsr     FQuickSwitchSong
                            33848 
                            33849 ; 905  |                                                // Update the track number
                            33850 ; 906  |                                                DisplayHint.bits.CurrentTrack = TRUE;
                            33851 
P:0327 77F400 FFFFFB  3 170333853 L404:   move    #-5,n7
P:0329 000000         2 170533854         nop
P:032A 0A6F71         6 171133855         bset    #17,y:(r7+n7)
                            33856 
                            33857 ; 907  |                                        }
                            33858 
P:032B 0AF080 rrrrrr  6 171733860         jmp     L429
                            33861 
                            33862 ; 908  |                                        else
                            33863 ; 909  |                                        {
                            33864 ; 910  |                                                g_bRewoundToBeginning = TRUE;
                            33865 
P:032D 290100         2 171933867 L406:   move    #1,b0
P:032E 517000 rrrrrr  3 172233868         move    b0,x:Fg_bRewoundToBeginning
                            33869 
                            33870 ; 911  |                                                SysWaitOnEvent(0,0,1);
                            33871 
P:0330 300000         2 172433873         move    #0,r0
P:0331 200013         2 172633874         clr     a   
P:0332 212F00         2 172833875         move    b0,b
P:0333 0BF080 rrrrrr  6 173433876         jsr     SysWaitOnEvent
                            33877 
                            33878 ; 912  |                                                SysPostMessage(6,SOFT_TIMER_SET_TIMER,TIMER_SONG_CHANGE,1,QUICK_SWITCH_TIMEOUT_TIME,MENU_SONG_CHANGE_TIMEOUT);
                            33879 
P:0335 290100         2 173633881         move    #1,b0
P:0336 46F400 060018  3 173933882         move    #393240,y0
P:0338 4E5F00         2 174133883         move    y0,y:(r7)+
P:0339 47F400 000190  3 174433885         move    #400,y1
P:033B 4F5F00         2 174633886         move    y1,y:(r7)+
P:033C 595F00         2 174833888         move    b0,y:(r7)+
P:033D 290300         2 175033890         move    #3,b0
P:033E 595F00         2 175233891         move    b0,y:(r7)+
P:033F 45F400 090001  3 175533893         move    #589825,x1
P:0341 4D5F00         2 175733894         move    x1,y:(r7)+
P:0342 290600         2 175933896         move    #6,b0
P:0343 595F00         2 176133897         move    b0,y:(r7)+
P:0344 0BF080 rrrrrr  6 176733899         jsr     FSysPostMessage
P:0346 3F0600         2 176933900         move    #6,n7
P:0347 000000         2 177133901         nop
P:0348 204700         2 177333902         move    (r7)-n7
                            33905 
                            33906 ; 913  |                                        }
                            33907 ; 914  |                                }
                            33908 ; 915  |                        }
                            33909 ; 916  |                        g_iSeeking=SEEK_NONE;
                            33910 
P:0349 0AF080 rrrrrr  6 177933912         jmp     L429
                            33913 
                            33914 ; 917  |                        }
                            33915 ; 918  |                        else
                            33916 ; 919  |                        //In Volume Control Mode
                            33917 ; 920  |                        {
                            33918 ; 921  |                                SysDecrementVolume();
                            33919 ; 922  |                                stc_iPressHoldCount=0;
                            33920 ; 923  |                                DisplayHint.bits.Volume = TRUE;
                            33921 ; 924  |                        }
                            33922 ; 925  |                        break;
                            33923 ; 926  |
                            33924 ; 927  |                case PH_RW:
                            33925 ; 928  |                        if (g_iVolume_Control_Mode==FALSE)
                            33926 
P:034B 5FF000 rrrrrr  3 178233928 L407:   move    y:Fg_iVolume_Control_Mode,b
P:034D 20000B         2 178433929         tst     b
P:034E 0AF0A2 rrrrrr  6 179033930         jne     L415
                            33931 
                            33932 ; 929  |                        {
                            33933 ; 930  |                        DisplayHint.bits.PlayState = TRUE;
                            33934 
P:0350 77F400 FFFFFB  3 179333936         move    #-5,n7
P:0352 000000         2 179533937         nop
P:0353 0A6F69         6 180133938         bset    #9,y:(r7+n7)
                            33939 
                            33940 ; 931  |                        if(!g_iSeeking)
                            33941 
P:0354 57F000 rrrrrr  3 180433943         move    x:Fg_iSeeking,b
P:0356 20000B         2 180633944         tst     b
P:0357 0AF0A2 rrrrrr  6 181233945         jne     L408
                            33946 
                            33947 ; 932  |                        {//if we're not seeking, lets enter the seek state
                            33948 ; 933  |                                g_iSeeking = SEEK_RWND;
                            33949 
P:0359 47F400 FFFFFF  3 181533951         move    #>-1,y1
P:035B 477000 rrrrrr  3 181833952         move    y1,x:Fg_iSeeking
                            33953 
                            33954 ; 934  |                        }
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page 132

M:ADDR CODE           CYCLES LINE SOURCELINE
                            33955 ; 935  |
                            33956 ; 936  |                        if (PlayerLib_Rewind(FALSE, 0,0) == PLAYERLIB_SUCCESS)  //now lets seek
                            33957 
P:035D 200013         2 182033959 L408:   clr     a   
P:035E 300000         2 182233960         move    #0,r0
P:035F 20001B         2 182433961         clr     b   
P:0360 0BF080 rrrrrr  6 183033962         jsr     FPlayerLib_Rewind
P:0362 200003         2 183233963         tst     a
P:0363 0AF0A2 rrrrrr  6 183833964         jne     L411
                            33965 
                            33966 ; 937  |                        {
                            33967 ; 938  |                                // This timer was added to speed up the scanning speed, it sets up two call backs to the menu module which in turn will send
                            33968 ; 939  |                                // FF/RWND decoder messages.  This will cause the seconds display to be updated twice as often (depending on the equate values).
                            33969 ; 940  |                                //   To go back to the original configuration:
                            33970 ; 941  |                                //                1) comment out the Syspostmessage function below so the timers won't be set.
                            33971 ; 942  |                                //                2) change the SECONDS_TO_SKIP values, all three, to 3 seconds.
                            33972 ; 943  |                                SysPostMessage(6,SOFT_TIMER_SET_TIMER,TIMER_FFRWND,2,100,MENU_MSG_SEND_RWND);
                            33973 
P:0365 2D0600         2 184033975         move    #6,b1
P:0366 47F400 06001C  3 184333976         move    #393244,y1
P:0368 4F5F00         2 184533977         move    y1,y:(r7)+
P:0369 296400         2 184733979         move    #100,b0
P:036A 595F00         2 184933980         move    b0,y:(r7)+
P:036B 290200         2 185133982         move    #2,b0
P:036C 595F00         2 185333983         move    b0,y:(r7)+
P:036D 290600         2 185533985         move    #6,b0
P:036E 595F00         2 185733986         move    b0,y:(r7)+
P:036F 50F400 090001  3 186033988         move    #589825,a0
P:0371 585F00         2 186233989         move    a0,y:(r7)+
P:0372 5D5F00         2 186433991         move    b1,y:(r7)+
P:0373 0BF080 rrrrrr  6 187033993         jsr     FSysPostMessage
P:0375 3F0600         2 187233994         move    #6,n7
P:0376 000000         2 187433995         nop
P:0377 204700         2 187633996         move    (r7)-n7
                            33998 
                            33999 ; 944  |                        }
                            34000 ; 945  |
                            34001 ; 946  |                        holdcount++;
                            34002 
P:0378 5FF000 rrrrrr  3 187934004 L411:   move    y:Fholdcount,b
P:037A 56F400 000001  3 188234005         move    #>1,a
P:037C 200018         2 188434006         add     a,b
P:037D 5D7000 rrrrrr  3 188734007         move    b1,y:Fholdcount
                            34008 
                            34009 ; 947  |
                            34010 ; 948  |#ifdef AUDIBLE
                            34011 ; 949  |                        if ( g_AudibleFlags.bits.IsAudibleFile ) {
                            34012 ; 950  |                                if(holdcount<LEVEL1_BOUNDARY) {
                            34013 ; 951  |                                        // Level 1 (b/w 1 to 5 sec)  --> 3X rate
                            34014 ; 952  |                                        g_wSecondsToSkip = SECONDS_TO_SKIP_FOR_3X_RATE;
                            34015 ; 953  |                                } else if((holdcount>LEVEL1_BOUNDARY) && (holdcount<LEVEL2_BOUNDARY)) {
                            34016 ; 954  |                                        // Level 2 (b/w 5 to 10 sec) --> 60X rate
                            34017 ; 955  |                                        g_wSecondsToSkip = SECONDS_TO_SKIP_FOR_60X_RATE;
                            34018 ; 956  |                                } else if((holdcount>LEVEL2_BOUNDARY) && (holdcount<LEVEL3_BOUNDARY)) {
                            34019 ; 957  |                                        // Level 3 (b/w 10 to 15 sec)--> 600X rate
                            34020 ; 958  |                                        g_wSecondsToSkip = SECONDS_TO_SKIP_FOR_600X_RATE;
                            34021 ; 959  |                                } else if(holdcount>LEVEL3_BOUNDARY) {
                            34022 ; 960  |                                        // Level 4 (above 15 sec)    --> 1800X rate
                            34023 ; 961  |                                        g_wSecondsToSkip = SECONDS_TO_SKIP_FOR_1800X_RATE;
                            34024 ; 962  |                                }
                            34025 ; 963  |                        }
                            34026 ; 964  |                        else
                            34027 ; 965  |#endif
                            34028 ; 966  |                        {
                            34029 ; 967  |                                if(holdcount < SECOND_TIME_BOUNDARY && holdcount > FIRST_TIME_BOUNDARY ) {
                            34030 
P:037F 47F400 00001E  3 189034032         move    #>30,y1
P:0381 20007D         2 189234033         cmp     y1,b
P:0382 0AF0A1 rrrrrr  6 189834034         jge     L413
P:0384 46F400 00000F  3 190134035         move    #>15,y0
P:0386 20005D         2 190334036         cmp     y0,b
P:0387 0AF0AF rrrrrr  6 190934037         jle     L413
                            34038 
                            34039 ; 968  |                                        g_wAdpcmSecondstoSkip=SECONDS_TO_SKIP1;
                            34040 
P:0389 280300         2 191134042         move    #3,a0
P:038A 587000 rrrrrr  3 191434043         move    a0,y:Fg_wAdpcmSecondstoSkip
                            34044 
                            34045 ; 969  |                                        g_wSecondsToSkip=SECONDS_TO_SKIP1;
                            34046 
P:038C 587000 rrrrrr  3 191734048         move    a0,y:Fg_wSecondsToSkip
                            34049 
                            34050 ; 970  |                                }
                            34051 ; 971  |                                if(holdcount > SECOND_TIME_BOUNDARY) {
                            34052 
P:038E 20007D         2 191934054 L413:   cmp     y1,b
P:038F 0AF0AF rrrrrr  6 192534055         jle     L414
                            34056 
                            34057 ; 972  |                                        g_wAdpcmSecondstoSkip=SECONDS_TO_SKIP2;
                            34058 
P:0391 280600         2 192734060         move    #6,a0
P:0392 587000 rrrrrr  3 193034061         move    a0,y:Fg_wAdpcmSecondstoSkip
                            34062 
                            34063 ; 973  |                                        g_wSecondsToSkip=SECONDS_TO_SKIP2;
                            34064 
P:0394 587000 rrrrrr  3 193334066         move    a0,y:Fg_wSecondsToSkip
                            34067 
                            34068 ; 974  |                                }
                            34069 ; 975  |                        }
                            34070 ; 976  |#ifdef SYNC_LYRICS
                            34071 ; 977  |                        if ((holdcount & 0x3) == 0)
                            34072 
P:0396 46F400 000003  3 193634074 L414:   move    #>3,y0
P:0398 20005E         2 193834075         and     y0,b
P:0399 0AF0A2 rrrrrr  6 194434076         jne     L534
P:039B 56F400 000001  3 194734077         move    #>1,a
                            34078 
                            34079 ; 978  |                                LyricsSetTimer(1);
                            34080 
P:039D 0BF080 rrrrrr  6 195334082         jsr     FLyricsSetTimer
                            34083 
                            34084 ; 979  |#endif
                            34085 ; 980  |                        }
                            34086 
P:039F 0AF080 rrrrrr  6 195934088         jmp     L534
P:03A1 56F000 rrrrrr  3 196234089 L415:   move    x:Fstc_iPressHoldCount,a
                            34090 
                            34091 ; 981  |                        else
                            34092 ; 982  |                        //In Volume Control Mode
                            34093 ; 983  |                        {
                            34094 ; 984  |                                DisplayHint.bits.Volume = TRUE;
                            34095 
P:03A3 77F400 FFFFFB  3 196534097         move    #-5,n7
P:03A5 000000         2 196734098         nop
P:03A6 0A6F6E         6 197334099         bset    #14,y:(r7+n7)
                            34100 
                            34101 ; 985  |                                //this PressHoldCount stuff is for volume control accelleration
                            34102 ; 986  |                                stc_iPressHoldCount++;
                            34103 
P:03A7 44F400 000001  3 197634105         move    #>1,x0
P:03A9 200040         2 197834106         add     x0,a
                            34107 
                            34108 ; 987  |                                if(stc_iPressHoldCount > 10)
                            34109 
P:03AA 45F400 00000A  3 198134111         move    #>10,x1
P:03AC 200065         2 198334112         cmp     x1,a
                            34113 
                            34114 ; 988  |                                        stc_iPressHoldCount = 10;
                            34115 
P:03AD 027060         2 198534117         tgt     x1,a
                            34118 
                            34119 ; 989  |                                for(i=0;i<stc_iPressHoldCount;i++)
                            34120 
P:03AE 260000         2 198734122         move    #0,y0
P:03AF 547000 rrrrrr  3 199034124         move    a1,x:Fstc_iPressHoldCount
P:03B1 0AF080 rrrrrr  6 199634125         jmp     L420
P:03B3 77F400 FFFFFE  3 199934126 L417:   move    #-2,n7
P:03B5 000000         2 200134127         nop
P:03B6 4E6F00         4 200534128         move    y0,y:(r7+n7)
                            34131 
                            34132 ; 990  |                                {
                            34133 ; 991  |                                        SysDecrementVolume();
                            34134 
P:03B7 5EF000 rrrrrr  3 200834136         move    y:Fg_iUserVolume,a
P:03B9 45F400 000001  3 201134137         move    #>1,x1
P:03BB 200064         2 201334138         sub     x1,a
P:03BC 5C7000 rrrrrr  3 201634139         move    a1,y:Fg_iUserVolume
P:03BE 0BF080 rrrrrr  6 202234140         jsr     FSysUpdateVolume
                            34141 
                            34142 ; 992  |                                        // see description above
                            34143 ; 993  |                                        if ((i==4) || (i==8))
                            34144 
P:03C0 77F400 FFFFFE  3 202534146         move    #-2,n7
P:03C2 000000         2 202734147         nop
P:03C3 5FEF00         4 203134148         move    y:(r7+n7),b
P:03C4 47F400 000004  3 203434149         move    #>4,y1
P:03C6 20007D         2 203634150         cmp     y1,b
P:03C7 0AF0AA rrrrrr  6 204234151         jeq     L418
P:03C9 200001         2 204434152         tfr     b,a
P:03CA 46F400 000008  3 204734153         move    #>8,y0
P:03CC 200055         2 204934154         cmp     y0,a
P:03CD 0AF0A2 rrrrrr  6 205534155         jne     L419
                            34156 
                            34157 ; 994  |                                        {
                            34158 ; 995  |                                                SysWaitOnEvent(0,0,0);
                            34159 
P:03CF 300000         2 205734161 L418:   move    #0,r0
P:03D0 200013         2 205934162         clr     a   
P:03D1 20001B         2 206134163         clr     b   
P:03D2 0BF080 rrrrrr  6 206734164         jsr     SysWaitOnEvent
                            34165 
                            34166 ; 996  |                                        }
                            34167 
                            34169 L419:
P:03D4 77F400 FFFFFE  3 207034171         move    #-2,n7
P:03D6 000000         2 207234172         nop
P:03D7 5FEF00         4 207634173         move    y:(r7+n7),b
P:03D8 46F400 000001  3 207934174         move    #>1,y0
P:03DA 200058         2 208134175         add     y0,b
P:03DB 21A600         2 208334178         move    b1,y0
P:03DC 47F000 rrrrrr  3 208634181 L420:   move    x:Fstc_iPressHoldCount,y1
P:03DE 200059         2 208834182         tfr     y0,b
P:03DF 20007D         2 209034183         cmp     y1,b
P:03E0 0AF0A9 rrrrrr  6 209634184         jlt     L417
                            34185 
                            34186 ; 997  |
                            34187 ; 998  |                                }
                            34188 ; 999  |                        }
                            34189 ; 1000 |                        break;
                            34190 
P:03E2 0AF080 rrrrrr  6 210234192         jmp     L534
                            34193 
                            34194 ; 1001 |
                            34195 ; 1002 |                case PR_STOP:
                            34196 ; 1003 |#ifdef USE_PLAYLIST5            
                            34197 ; 1004 |#ifdef SYNC_LYRICS
                            34198 ; 1005 |    #if 1
                            34199 ; 1006 |                        DisplayHint.I |=MUSIC_MENU_DISPLAY_ALL | (1<<DISPLAY_CLEAR_DISPLAY_BITPOS);
                            34200 ; 1007 |    #else
                            34201 ; 1008 |
                            34202 ; 1009 |                                if(g_iPlaySet == PLAYSET_MUSIC)
                            34203 ; 1010 |                                {
                            34204 ; 1011 |                                        SysPostMessage(6,LCD_CLEAR_RANGE,SONG_TITLE_X_POS,SONG_TITLE_Y_POS-8,LCD_SIZE_X,32);
                            34205 ; 1012 |                                        SysWaitOnEvent(0,0,0);
                            34206 ; 1013 |                                }
                            34207 ; 1014 |    #endif
                            34208 ; 1015 |#else
                            34209 ; 1016 |                        DisplayHint.I |= MUSIC_MENU_DISPLAY_NEW_TRACK;//update everything
                            34210 ; 1017 |#endif
                            34211 ; 1018 |#else
                            34212 ; 1019 |                        DisplayHint.I |= MUSIC_MENU_DISPLAY_NEW_TRACK;//update everything
                            34213 
P:03E4 77F400 FFFFFB  3 210534215 L421:   move    #-5,n7
P:03E6 000000         2 210734216         nop
P:03E7 5DEF00         4 211134217         move    y:(r7+n7),b1
P:03E8 46F400 079700  3 211434218         move    #$79700,y0
P:03EA 20005A         2 211634219         or      y0,b
P:03EB 5D6F00         4 212034221         move    b1,y:(r7+n7)
                            34222 
                            34223 ; 1020 |#endif  //#ifdef USE_PLAYLIST5
                            34224 ; 1021 |#ifdef USE_PLAYLIST3
                            34225 ; 1022 |                        if((g_wDecoderSR & DECODER_STOPPED) == 0)
                            34226 
P:03EC 57F000 rrrrrr  3 212334228         move    x:Fg_wDecoderSR,b
P:03EE 44F400 000040  3 212634229         move    #>$40,x0
P:03F0 20004E         2 212834230         and     x0,b
P:03F1 2B0000         2 213034231         move    #0,b2
P:03F2 20000B         2 213234232         tst     b
P:03F3 0AF0A2 rrrrrr  6 213834233         jne     L429
                            34234 
                            34235 ; 1023 |#else
                            34236 ; 1024 |                        if(g_iPlayerState != DECODER_STOPPED)
                            34237 ; 1025 |#endif
                            34238 ; 1026 |                        {
                            34239 ; 1027 |                                ExitPlayerStateMachine(0,0,0);
                            34240 
P:03F5 200013         2 214034242         clr     a   
P:03F6 300000         2 214234243         move    #0,r0
P:03F7 20001B         2 214434244         clr     b   
P:03F8 0BF080 rrrrrr  6 215034245         jsr     FExitPlayerStateMachine
                            34246 
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page 133

M:ADDR CODE           CYCLES LINE SOURCELINE
                            34247 ; 1028 |                                //PlayerLib_SetState (DECODER_STATE_STOP,TRUE,NULL);
                            34248 ; 1029 |                                //g_iPlayerState = DECODER_STOPPED;
                            34249 ; 1030 |                        }
                            34250 ; 1031 |#ifndef USE_PLAYLIST3
                            34251 ; 1032 |                        else
                            34252 ; 1033 |                        {//Playlist_SetPlaySet will reset the current list to the beginning of the list.
                            34253 ; 1034 |                                //It will also reshuffle if shuffle is on.
                            34254 ; 1035 |                                SysCallFunction(RSRC_PLAYLIST_CODEBANK,Playlist_SetPlaySet,Playlist_GetPlaySet(),TRUE,0);
                            34255 ; 1036 |                                SysCallFunction(RSRC_PLAYERLIB_EXTRA_CODE_BANK,PlayerLib_GetCurrentSong,0,0,0);
                            34256 ; 1037 |                        }
                            34257 ; 1038 |#endif
                            34258 ; 1039 |                        g_iSeeking=SEEK_NONE;
                            34259 
P:03FA 20001B         2 215234261 L429:   clr     b   
P:03FB 557000 rrrrrr  3 215534262         move    b1,x:Fg_iSeeking
                            34263 
                            34264 ; 1040 |#ifdef  AUDIBLE
                            34265 ; 1041 |                        g_AudibleFlags.bits.ChapterNavMode = FALSE;
                            34266 ; 1042 |#endif
                            34267 ; 1043 |                        break;
                            34268 
P:03FD 0AF080 rrrrrr  6 216134270         jmp     L534
                            34271 
                            34272 ; 1044 |
                            34273 ; 1045 |                case PH_PLAY:
                            34274 ; 1046 |                case PH_STOP:
                            34275 ; 1047 |#ifdef JANUS
                            34276 ; 1048 |                        CleanDataStoreFlag = 1;
                            34277 ; 1049 |#endif
                            34278 ; 1050 |                        //if the STOP button is held down, lets call the shutdown menu
                            34279 ; 1051 |                        SysCallFunction(RSRC_MAIN_MENU_CODE_BANK,ShutdownMenu,USERSHUTDOWN,0,0);
                            34280 
P:03FF 20001B         2 216334282 L431:   clr     b   
P:0400 340000         2 216534283         move    #0,r4
P:0401 240000         2 216734284         move    #0,x0
P:0402 60F400 rrrrrr  3 217034285         move    #FShutdownMenu,r0
P:0404 56F400 000078  3 217334286         move    #>$78,a
P:0406 0BF080 rrrrrr  6 217934287         jsr     SysCallFunction
                            34288 
                            34289 ; 1052 |                        // when returns update display  -- if doesn't return, powered down
                            34290 ; 1053 |                        DisplayHint.I |= MUSIC_MENU_DISPLAY_NEW_TRACK;
                            34291 
P:0408 77F400 FFFFFB  3 218234293         move    #-5,n7
P:040A 000000         2 218434294         nop
P:040B 5CEF00         4 218834295         move    y:(r7+n7),a1
P:040C 46F400 079700  3 219134296         move    #$79700,y0
P:040E 200052         2 219334297         or      y0,a
P:040F 5C6F00         4 219734298         move    a1,y:(r7+n7)
                            34299 
                            34300 ; 1054 |                        break;
                            34301 
P:0410 0AF080 rrrrrr  6 220334303         jmp     L534
                            34304 
                            34305 ; 1055 |
                            34306 ; 1056 |                case PR_VOL_UP:
                            34307 ; 1057 |                        SysIncrementVolume();
                            34308 
P:0412 5FF000 rrrrrr  3 220634310 L433:   move    y:Fg_iUserVolume,b
P:0414 47F400 000001  3 220934311         move    #>1,y1
P:0416 200078         2 221134312         add     y1,b
P:0417 0AF080 rrrrrr  6 221734313         jmp     L436
                            34314 
                            34315 ; 1058 |                        stc_iPressHoldCount=0;
                            34316 ; 1059 |                        DisplayHint.bits.Volume = TRUE;
                            34317 ; 1060 |                        break;
                            34318 ; 1061 |
                            34319 ; 1062 |                case PR_VOL_DOWN:
                            34320 ; 1063 |                        SysDecrementVolume();
                            34321 
P:0419 5FF000 rrrrrr  3 222034323 L435:   move    y:Fg_iUserVolume,b
P:041B 46F400 000001  3 222334324         move    #>1,y0
P:041D 20005C         2 222534325         sub     y0,b
P:041E 5D7000 rrrrrr  3 222834326 L436:   move    b1,y:Fg_iUserVolume
P:0420 0BF080 rrrrrr  6 223434327         jsr     FSysUpdateVolume
                            34328 
                            34329 ; 1064 |                        stc_iPressHoldCount=0;
                            34330 
P:0422 20001B         2 223634332         clr     b   
P:0423 557000 rrrrrr  3 223934333         move    b1,x:Fstc_iPressHoldCount
                            34334 
                            34335 ; 1065 |                        DisplayHint.bits.Volume = TRUE;
                            34336 
P:0425 77F400 FFFFFB  3 224234338 L437:   move    #-5,n7
P:0427 000000         2 224434339         nop
P:0428 0A6F6E         6 225034340         bset    #14,y:(r7+n7)
                            34341 
                            34342 ; 1066 |                        break;
                            34343 
P:0429 0AF080 rrrrrr  6 225634345         jmp     L534
                            34346 
                            34347 ; 1067 |
                            34348 ; 1068 |                        // SDK2.105
                            34349 ; 1069 |                        // the for loop in each of the PH_VOL_UP/PH_VOL_DOWN is used to speed up the
                            34350 ; 1070 |                        // volume adjustment so it will move 10 ticks each time a PH event occurs
                            34351 ; 1071 |                        //
                            34352 ; 1072 |                        // with the addition of the multi-stage volume, mixer messages are sent with
                            34353 ; 1073 |                        // each call to the volume function; the for loop will cause a mixer queue overflow
                            34354 ; 1074 |                        // SDK2.104 called SysWaitOnEvent() to handle this, but the problem with this solution
                            34355 ; 1075 |                        // is that the GEQ module also calls the volume function and a menu is not necessarily loaded
                            34356 ; 1076 |                        // Also, by letting the other modules run each time, the A-B mode can crash because the decoder
                            34357 ; 1077 |                        // will post messages to the menu, but the menu is not processing new messages yet.
                            34358 ; 1078 |                        //
                            34359 ; 1079 |                        // The fix below adds the SysWaitOnEvent() call where needed to avoid overflowing the mixer
                            34360 ; 1080 |                        // queue.  A cleaner solution could be to remove the for loop but the volume adjust will be slower.
                            34361 ; 1081 |
                            34362 ; 1082 |
                            34363 ; 1083 |                case PH_VOL_UP:
                            34364 
P:042B 57F000 rrrrrr  3 225934366 L438:   move    x:Fstc_iPressHoldCount,b
                            34367 
                            34368 ; 1084 |                        DisplayHint.bits.Volume = TRUE;
                            34369 
P:042D 77F400 FFFFFB  3 226234371         move    #-5,n7
P:042F 000000         2 226434372         nop
P:0430 0A6F6E         6 227034373         bset    #14,y:(r7+n7)
                            34374 
                            34375 ; 1085 |                        stc_iPressHoldCount++;
                            34376 
P:0431 45F400 000001  3 227334378         move    #>1,x1
P:0433 200068         2 227534379         add     x1,b
                            34380 
                            34381 ; 1086 |                        if(stc_iPressHoldCount > 10)
                            34382 
P:0434 46F400 00000A  3 227834384         move    #>10,y0
P:0436 20005D         2 228034385         cmp     y0,b
                            34386 
                            34387 ; 1087 |                                stc_iPressHoldCount = 10;
                            34388 
P:0437 027058         2 228234390         tgt     y0,b
                            34391 
                            34392 ; 1088 |                        for(i=0;i<stc_iPressHoldCount;i++)
                            34393 
P:0438 250000         2 228434395         move    #0,x1
P:0439 557000 rrrrrr  3 228734397         move    b1,x:Fstc_iPressHoldCount
P:043B 0AF080 rrrrrr  6 229334398         jmp     L443
P:043D 77F400 FFFFFE  3 229634399 L440:   move    #-2,n7
P:043F 000000         2 229834400         nop
P:0440 4D6F00         4 230234401         move    x1,y:(r7+n7)
                            34404 
                            34405 ; 1089 |                        {
                            34406 ; 1090 |                                SysIncrementVolume();
                            34407 
P:0441 5FF000 rrrrrr  3 230534409         move    y:Fg_iUserVolume,b
P:0443 45F400 000001  3 230834410         move    #>1,x1
P:0445 200068         2 231034411         add     x1,b
P:0446 5D7000 rrrrrr  3 231334412         move    b1,y:Fg_iUserVolume
P:0448 0BF080 rrrrrr  6 231934413         jsr     FSysUpdateVolume
                            34414 
                            34415 ; 1091 |                                // mixer queue is only 32 words
                            34416 ; 1092 |                                // menu will post 6 words when SysXXXVolume is called
                            34417 ; 1093 |                                // GEQ module loads after menus but before mixer module
                            34418 ; 1094 |                                //     and posts 6 words
                            34419 ; 1095 |                                // so assuming the system module or menu doesn't post any mixer
                            34420 ; 1096 |                                //   messages the max mixer words that can be posted here before
                            34421 ; 1097 |                                //   need to process that queue is 26 -- so let the modules run
                            34422 ; 1098 |                                //   after every 4 calls to the SysXXXVolume function
                            34423 ; 1099 |
                            34424 ; 1100 |                                // this may cause problems with AB because more decoder messages
                            34425 ; 1101 |                                // can be posted.
                            34426 ; 1102 |                                if ((i==4) || (i==8))
                            34427 
P:044A 77F400 FFFFFE  3 232234429         move    #-2,n7
P:044C 000000         2 232434430         nop
P:044D 5FEF00         4 232834431         move    y:(r7+n7),b
P:044E 47F400 000004  3 233134432         move    #>4,y1
P:0450 20007D         2 233334433         cmp     y1,b
P:0451 0AF0AA rrrrrr  6 233934434         jeq     L441
P:0453 46F400 000008  3 234234435         move    #>8,y0
P:0455 20005D         2 234434436         cmp     y0,b
P:0456 0AF0A2 rrrrrr  6 235034437         jne     L442
                            34438 
                            34439 ; 1103 |                                {
                            34440 ; 1104 |                                        SysWaitOnEvent(0,0,0);
                            34441 
P:0458 300000         2 235234443 L441:   move    #0,r0
P:0459 200013         2 235434444         clr     a   
P:045A 20001B         2 235634445         clr     b   
P:045B 0BF080 rrrrrr  6 236234446         jsr     SysWaitOnEvent
                            34447 
                            34448 ; 1105 |                                }
                            34449 
                            34451 L442:
P:045D 77F400 FFFFFE  3 236534453         move    #-2,n7
P:045F 000000         2 236734454         nop
P:0460 5FEF00         4 237134455         move    y:(r7+n7),b
P:0461 47F400 000001  3 237434456         move    #>1,y1
P:0463 200078         2 237634457         add     y1,b
P:0464 21A500         2 237834460         move    b1,x1
P:0465 46F000 rrrrrr  3 238134463 L443:   move    x:Fstc_iPressHoldCount,y0
P:0467 200069         2 238334464         tfr     x1,b
P:0468 20005D         2 238534465         cmp     y0,b
P:0469 0AF0A9 rrrrrr  6 239134466         jlt     L440
                            34467 
                            34468 ; 1106 |                        }
                            34469 ; 1107 |                        break;
                            34470 
P:046B 0AF080 rrrrrr  6 239734472         jmp     L534
                            34473 
                            34474 ; 1108 |
                            34475 ; 1109 |                case PH_VOL_DOWN:
                            34476 
P:046D 57F000 rrrrrr  3 240034478 L444:   move    x:Fstc_iPressHoldCount,b
                            34479 
                            34480 ; 1110 |                        DisplayHint.bits.Volume = TRUE;
                            34481 
P:046F 77F400 FFFFFB  3 240334483         move    #-5,n7
P:0471 000000         2 240534484         nop
P:0472 0A6F6E         6 241134485         bset    #14,y:(r7+n7)
                            34486 
                            34487 ; 1111 |                        //this PressHoldCount stuff is for volume control accelleration
                            34488 ; 1112 |                        stc_iPressHoldCount++;
                            34489 
P:0473 46F400 000001  3 241434491         move    #>1,y0
P:0475 200058         2 241634492         add     y0,b
                            34493 
                            34494 ; 1113 |                        if(stc_iPressHoldCount > 10)
                            34495 
P:0476 44F400 00000A  3 241934497         move    #>10,x0
P:0478 20004D         2 242134498         cmp     x0,b
                            34499 
                            34500 ; 1114 |                                stc_iPressHoldCount = 10;
                            34501 
P:0479 027048         2 242334503         tgt     x0,b
                            34504 
                            34505 ; 1115 |                        for(i=0;i<stc_iPressHoldCount;i++)
                            34506 
P:047A 270000         2 242534508         move    #0,y1
P:047B 557000 rrrrrr  3 242834511         move    b1,x:Fstc_iPressHoldCount
P:047D 0AF080 rrrrrr  6 243434512         jmp     L449
P:047F 77F400 FFFFFE  3 243734513 L446:   move    #-2,n7
P:0481 000000         2 243934514         nop
P:0482 4F6F00         4 244334515         move    y1,y:(r7+n7)
                            34518 
                            34519 ; 1116 |                        {
                            34520 ; 1117 |                                SysDecrementVolume();
                            34521 
P:0483 5FF000 rrrrrr  3 244634523         move    y:Fg_iUserVolume,b
P:0485 45F400 000001  3 244934524         move    #>1,x1
P:0487 20006C         2 245134525         sub     x1,b
P:0488 5D7000 rrrrrr  3 245434526         move    b1,y:Fg_iUserVolume
P:048A 0BF080 rrrrrr  6 246034527         jsr     FSysUpdateVolume
                            34528 
                            34529 ; 1118 |                                // see description above
                            34530 ; 1119 |                                if ((i==4) || (i==8))
                            34531 
P:048C 77F400 FFFFFE  3 246334533         move    #-2,n7
P:048E 000000         2 246534534         nop
P:048F 5EEF00         4 246934535         move    y:(r7+n7),a
P:0490 47F400 000004  3 247234536         move    #>4,y1
P:0492 200075         2 247434537         cmp     y1,a
P:0493 0AF0AA rrrrrr  6 248034538         jeq     L447
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page 134

M:ADDR CODE           CYCLES LINE SOURCELINE
P:0495 200009         2 248234539         tfr     a,b
P:0496 46F400 000008  3 248534540         move    #>8,y0
P:0498 20005D         2 248734541         cmp     y0,b
P:0499 0AF0A2 rrrrrr  6 249334542         jne     L448
                            34543 
                            34544 ; 1120 |                                {
                            34545 ; 1121 |                                        SysWaitOnEvent(0,0,0);
                            34546 
P:049B 300000         2 249534548 L447:   move    #0,r0
P:049C 200013         2 249734549         clr     a   
P:049D 20001B         2 249934550         clr     b   
P:049E 0BF080 rrrrrr  6 250534551         jsr     SysWaitOnEvent
                            34552 
                            34553 ; 1122 |                                }
                            34554 
                            34556 L448:
P:04A0 77F400 FFFFFE  3 250834558         move    #-2,n7
P:04A2 000000         2 251034559         nop
P:04A3 5EEF00         4 251434560         move    y:(r7+n7),a
P:04A4 45F400 000001  3 251734561         move    #>1,x1
P:04A6 200060         2 251934562         add     x1,a
P:04A7 218700         2 252134565         move    a1,y1
P:04A8 46F000 rrrrrr  3 252434568 L449:   move    x:Fstc_iPressHoldCount,y0
P:04AA 200079         2 252634569         tfr     y1,b
P:04AB 20005D         2 252834570         cmp     y0,b
P:04AC 0AF0A9 rrrrrr  6 253434571         jlt     L446
                            34572 
                            34573 ; 1123 |
                            34574 ; 1124 |                        }
                            34575 ; 1125 |                        break;
                            34576 
P:04AE 0AF080 rrrrrr  6 254034578         jmp     L534
                            34579 
                            34580 ; 1126 |
                            34581 ; 1127 |#ifdef PR_AB
                            34582 ; 1128 |                case PR_AB:
                            34583 ; 1129 |#ifdef  AUDIBLE
                            34584 ; 1130 |                        // For Audible file, the A-B Mode button is interpreted as a chapter
                            34585 ; 1131 |                        // navigation mode button. Only go to section navigation mode if
                            34586 ; 1132 |                        // playing or paused.
                            34587 ; 1133 |                        if ( g_AudibleFlags.bits.IsAudibleFile ) {
                            34588 ; 1134 |                                if ( g_wDecoderSR & (DECODER_PLAYING | DECODER_PAUSED) ) {
                            34589 ; 1135 |                                        g_AudibleFlags.bits.ChapterNavMode ^= 1;
                            34590 ; 1136 |                                        DisplayHint.bits.ABIcon = TRUE;
                            34591 ; 1137 |                                }
                            34592 ; 1138 |                        }
                            34593 ; 1139 |                        else
                            34594 ; 1140 |#endif
                            34595 ; 1141 |                        {
                            34596 ; 1142 |                                DisplayHint.bits.ABIcon = TRUE;
                            34597 
P:04B0 77F400 FFFFFB  3 254334599 L451:   move    #-5,n7
P:04B2 000000         2 254534600         nop
P:04B3 0A6F6A         6 255134601         bset    #10,y:(r7+n7)
                            34602 
                            34603 ; 1143 |                                //Decoder might be stopped and moving back to 'A' so wait.
                            34604 ; 1144 |                                if(g_wDecoderSR & DECODER_STOPPED)
                            34605 
P:04B4 55F000 rrrrrr  3 255434607         move    x:Fg_wDecoderSR,b1
P:04B6 46F400 000040  3 255734608         move    #>$40,y0
P:04B8 20005E         2 255934609         and     y0,b
P:04B9 21AF00         2 256134610         move    b1,b
P:04BA 2B0000         2 256334611         move    #0,b2
P:04BB 20000B         2 256534612         tst     b
P:04BC 0AF0AA rrrrrr  6 257134613         jeq     L452
                            34614 
                            34615 ; 1145 |                                        SysWaitOnEvent(0,0,0);
                            34616 
P:04BE 300000         2 257334618         move    #0,r0
P:04BF 200013         2 257534619         clr     a   
P:04C0 20001B         2 257734620         clr     b   
P:04C1 0BF080 rrrrrr  6 258334621         jsr     SysWaitOnEvent
                            34623 
                            34624 ; 1146 |
                            34625 ; 1147 |                                //Do not send AB if in a stop state.  This can cause problems since a
                            34626 ; 1148 |                                //DecoderForceInit() or DECODER_RESET might be called and put the player
                            34627 ; 1149 |                                //in an unknown state (STMP3114, STMP3261, STMP3232).
                            34628 ; 1150 |                                //AND do not send if A has been send within 1 second.  A tight loop can cause Menu MSG overflow.
                            34629 ; 1151 |                                if((!(g_wDecoderSR & DECODER_STOPPED))   && (SysGetCurrentTime() > (stc_lTimeABWasLastPressed+900)))
                            34630 
P:04C3 54F000 rrrrrr  3 258634632 L452:   move    x:Fg_wDecoderSR,a1
P:04C5 44F400 000040  3 258934633         move    #>$40,x0
P:04C7 200046         2 259134634         and     x0,a
P:04C8 218E00         2 259334635         move    a1,a
P:04C9 2A0000         2 259534636         move    #0,a2
P:04CA 200003         2 259734637         tst     a
P:04CB 0AF0A2 rrrrrr  6 260334638         jne     L534
P:04CD 0BF080 rrrrrr  6 260934639         jsr     SysGetCurrentTime
P:04CF 57F000 rrrrrr  3 261234640         move    x:Fstc_lTimeABWasLastPressed+1,b
P:04D1 51F000 rrrrrr  3 261534641         move    x:Fstc_lTimeABWasLastPressed,b0
P:04D3 270000         2 261734642         move    #0,y1
P:04D4 46F400 000384  3 262034643         move    #900,y0
P:04D6 200038         2 262234644         add     y,b
P:04D7 200005         2 262434645         cmp     b,a
P:04D8 0AF0AF rrrrrr  6 263034646         jle     L534
                            34647 
                            34648 ; 1152 |                                {
                            34649 ; 1153 |                                        switch (PSM_GetABMode())
                            34650 
P:04DA 0BF080 rrrrrr  6 263634652         jsr     FPSM_GetABMode
P:04DC 250800         2 263834653         move    #<8,x1
P:04DD 250465         2 264034654         cmp     x1,a    #<4,x1
P:04DE 0AF0AA rrrrrr  6 264634655         jeq     L454
P:04E0 200065         2 264834656         cmp     x1,a
P:04E1 0AF0A2 rrrrrr  6 265434657         jne     L455
                            34658 
                            34659 ; 1154 |                                        {
                            34660 ; 1155 |                                        case DECODER_A_SET:
                            34661 ; 1156 |                                                // this will set B
                            34662 ; 1157 |                                                SysPostMessage(2,DECODER_AB_MODE);
                            34663 ; 1158 |                                                break;
                            34664 ; 1159 |
                            34665 ; 1160 |                                        case DECODER_B_SET:
                            34666 ; 1161 |                                                // this will clear AB mode
                            34667 ; 1162 |                                                SysPostMessage(2,DECODER_AB_MODE);
                            34668 
P:04E3 290900         2 265634670 L454:   move    #9,b0
P:04E4 595F00         2 265834671         move    b0,y:(r7)+
P:04E5 290200         2 266034673         move    #2,b0
P:04E6 595F00         2 266234674         move    b0,y:(r7)+
P:04E7 0BF080 rrrrrr  6 266834676         jsr     FSysPostMessage
P:04E9 205700         2 267034677         move    (r7)-
P:04EA 205700         2 267234679         move    (r7)-
                            34681 
                            34682 ; 1163 |                                                break;
                            34683 
P:04EB 0AF080 rrrrrr  6 267834685         jmp     L534
                            34686 
                            34687 ; 1164 |
                            34688 ; 1165 |                                        default:
                            34689 ; 1166 |                                                // no AB mode started -- set A and start timer
                            34690 ; 1167 |                                                SysPostMessage(2,DECODER_AB_MODE);
                            34691 
P:04ED 290900         2 268034693 L455:   move    #9,b0
P:04EE 595F00         2 268234694         move    b0,y:(r7)+
P:04EF 290200         2 268434696         move    #2,b0
P:04F0 595F00         2 268634697         move    b0,y:(r7)+
P:04F1 0BF080 rrrrrr  6 269234699         jsr     FSysPostMessage
P:04F3 205700         2 269434700         move    (r7)-
P:04F4 205700         2 269634702         move    (r7)-
                            34704 
                            34705 ; 1168 |                                                stc_lTimeABWasLastPressed = SysGetCurrentTime();
                            34706 
P:04F5 0BF080 rrrrrr  6 270234708         jsr     SysGetCurrentTime
P:04F7 547000 rrrrrr  3 270534709         move    a1,x:Fstc_lTimeABWasLastPressed+1
P:04F9 507000 rrrrrr  3 270834710         move    a0,x:Fstc_lTimeABWasLastPressed
                            34711 
                            34712 ; 1169 |                                                break;
                            34713 ; 1170 |                                        }               //end AB switch
                            34714 ; 1171 |                                }//end if stop
                            34715 ; 1172 |                        }
                            34716 ; 1173 |                        break;
                            34717 ; 1174 |#endif
                            34718 ; 1175 |                }
                            34719 ; 1176 |                break;
                            34720 
P:04FB 0AF080 rrrrrr  6 271434722         jmp     L534
                            34723 
                            34724 ; 1177 |
                            34725 ; 1178 |        case EVENT_MESSAGE:
                            34726 ; 1179 |                switch(pMsg->Message.wMsgCommand)
                            34727 
                            34729 L456:
P:04FD 045E15         4 271834732         lua     (r6)+,r5
P:04FE 000000         2 272034733         nop
P:04FF 5FE500         2 272234734         move    y:(r5),b
P:0500 56F400 060003  3 272534735         move    #393219,a
P:0502 2B0000         2 272734736         move    #0,b2
P:0503 56F40D 06001A  3 273034737         cmp     a,b     #393242,a
P:0505 0AF0AA rrrrrr  6 273634738         jeq     L462
P:0507 56F40D 06001C  3 273934739         cmp     a,b     #393244,a
P:0509 0AF0AA rrrrrr  6 274534740         jeq     L463
P:050B 56F40D 06001B  3 274834741         cmp     a,b     #393243,a
P:050D 0AF0AA rrrrrr  6 275434742         jeq     L464
P:050F 56F40D 06001D  3 275734743         cmp     a,b     #393245,a
P:0511 0AF0AA rrrrrr  6 276334744         jeq     L465
P:0513 56F40D 060001  3 276634745         cmp     a,b     #393217,a
P:0515 0AF0AA rrrrrr  6 277234746         jeq     L467
P:0517 56F40D 060007  3 277534747         cmp     a,b     #393223,a
P:0519 0AF0AA rrrrrr  6 278134748         jeq     L468
P:051B 56F40D 060008  3 278434749         cmp     a,b     #393224,a
P:051D 0AF0AA rrrrrr  6 279034750         jeq     L469
P:051F 56F40D 020005  3 279334751         cmp     a,b     #131077,a
P:0521 0AF0AA rrrrrr  6 279934752         jeq     L470
P:0523 56F40D 060005  3 280234753         cmp     a,b     #393221,a
P:0525 0AF0AA rrrrrr  6 280834754         jeq     L485
P:0527 2E020D         2 281034755         cmp     a,b     #<2,a
P:0528 0AF0AA rrrrrr  6 281634756         jeq     L495
P:052A 56F40D 020001  3 281934757         cmp     a,b     #131073,a
P:052C 0AF0AA rrrrrr  6 282534758         jeq     L496
P:052E 56F40D 060009  3 282834759         cmp     a,b     #393225,a
P:0530 0AF0AA rrrrrr  6 283434760         jeq     L499
P:0532 56F40D 060018  3 283734761         cmp     a,b     #393240,a
P:0534 0AF0AA rrrrrr  6 284334762         jeq     L501
P:0536 20000D         2 284534763         cmp     a,b
P:0537 0AF0A2 rrrrrr  6 285134764         jne     L534
                            34765 
                            34766 ; 1180 |                {
                            34767 ; 1181 |#ifdef USE_PLAYLIST5
                            34768 ; 1182 |        case MENU_MSG_PL5_PLAY_SONG:
                            34769 ; 1183 |#ifdef JPEG_ALBUM_ART
                            34770 ; 1184 |// !! IMPORTANT - Do not remove this from the first statement for this case
                            34771 ; 1185 |// ensure that before switching to next/prev song we were not in the middle of displaying album art for the current one
                            34772 ; 1186 |                        if(g_AlbumArtInProgress)
                            34773 ; 1187 |                                SysCallFunction(RSRC_MUSIC_MENU_CODE_BANK,StopAlbumArtProcess, 0, 0, 0);
                            34774 ; 1188 |#endif
                            34775 ; 1189 |
                            34776 ; 1190 |                    SysPostMessage(3,SOFT_TIMER_KILL_TIMER,TIMER_BATT_CHK);
                            34777 ; 1191 |                        SysPostMessage(3,SOFT_TIMER_KILL_TIMER,TIMER_AUTO_SHUTDOWN);
                            34778 ; 1192 |                    SysPostMessage(3,SOFT_TIMER_KILL_TIMER,TIMER_ANIMATE);
                            34779 ; 1193 |                        SysWaitOnEvent(0,0,0);
                            34780 ; 1194 |
                            34781 ; 1195 |            if (SysCallFunction(RSRC_PLAYERLIB_EXTRA_CODE_BANK,PlayerLib_GetCurrentSong,0,0,0) == META_DATA_FOUND)
                            34782 ; 1196 |                        {
                            34783 ; 1197 |#ifdef JPEG_ALBUM_ART
                            34784 ; 1198 |                                if (g_bApicFrameFound)
                            34785 ; 1199 |                                {
                            34786 ; 1200 |                                        // Post a message to update display art
                            34787 ; 1201 |                                        SysCallFunction(RSRC_APIC_FRAME_CODEBANK, ApicPostMessage, 0, 0, NULL);
                            34788 ; 1202 |                                }
                            34789 ; 1203 |                                else
                            34790 ; 1204 |#endif
                            34791 ; 1205 |                                {
                            34792 ; 1206 |                                        BOOL bWait = TRUE;
                            34793 ; 1207 |#ifdef USE_PLAYLIST5
                            34794 ; 1208 |                                        if((g_wTotalSongCount == 0) && (g_PL5_PL_queue.head != g_PL5_PL_queue.tail))
                            34795 ; 1209 |                                            g_wTotalSongCount = 1;
                            34796 ; 1210 |#endif                                  
                            34797 ; 1211 |#ifdef USE_PLAYLIST5
                            34798 ; 1212 |                                        if(g_LastCurrentMenu == MENU_VOICE)     
                            34799 ; 1213 |                                                bWait = FALSE;
                            34800 ; 1214 |#endif
                            34801 ; 1215 |                                        PlayerLib_SetState (DECODER_STATE_PLAY,bWait,NULL);
                            34802 ; 1216 |                                }
                            34803 ; 1217 |
                            34804 ; 1218 |                                PSM_ResetScrollInfo();
                            34805 ; 1219 |#ifdef  AUDIBLE
                            34806 ; 1220 |                                g_bAllowAudibleSave = TRUE;
                            34807 ; 1221 |                                g_AudibleFlags.bits.ChapterNavMode = FALSE;
                            34808 ; 1222 |#endif
                            34809 ; 1223 |                                DisplayHint.I |= MUSIC_MENU_DISPLAY_NEW_TRACK;//update everything
                            34810 ; 1224 |                        }
                            34811 ; 1225 |
                            34812 ; 1226 |                    SysPostMessage(6,SOFT_TIMER_SET_TIMER,TIMER_ANIMATE,0,ANIMATE_PERIOD,MENU_MSG_ANIMATE);
                            34813 ; 1227 |                        SysWaitOnEvent(0,0,0);
                            34814 ; 1228 |                        SysPostMessage(6,SOFT_TIMER_SET_TIMER,TIMER_BATT_CHK,0,2000,MENU_BATTERY_CHNG);
                            34815 ; 1229 |                        SysWaitOnEvent(0,0,10);
                            34816 ; 1230 |                        // button pressed, so restart timer if enabled
                            34817 ; 1231 |                        UpdateAutoShutdownTimer();
                            34818 ; 1232 |
                            34819 ; 1233 |                    g_iSeeking=SEEK_NONE;
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page 135

M:ADDR CODE           CYCLES LINE SOURCELINE
                            34820 ; 1234 |                        iEvent = EVENT_BUTTON;
                            34821 ; 1235 |                        pMsg->Button.wButtonEvent = PR_PLAY;
                            34822 ; 1236 |            break;
                            34823 ; 1237 |#endif  // #ifdef USE_PLAYLIST5
                            34824 ; 1238 |
                            34825 ; 1239 |                case MENU_SONG_CHANGE_TIMEOUT:
                            34826 ; 1240 |#ifdef JPEG_ALBUM_ART
                            34827 ; 1241 |// !! IMPORTANT - Do not remove this from the first statement for this case
                            34828 ; 1242 |// ensure that before switching to next/prev song we were not in the middle of displaying album art for the current one
                            34829 ; 1243 |                        if(g_AlbumArtInProgress)
                            34830 ; 1244 |                                SysCallFunction(RSRC_MUSIC_MENU_CODE_BANK,StopAlbumArtProcess, 0, 0, 0);
                            34831 ; 1245 |#endif
                            34832 ; 1246 |                        PlayerLib_SetState (DECODER_STATE_STOP,TRUE,NULL);
                            34833 
P:0539 20001B         2 285334835         clr     b   
P:053A 200013         2 285534836         clr     a   
P:053B 21B000         2 285734837         move    b1,r0
P:053C 57F400 000001  3 286034838         move    #>1,b
P:053E 0BF080 rrrrrr  6 286634839         jsr     FPlayerLib_SetState
                            34842 
                            34843 ; 1247 |#ifdef USE_PLAYLIST3
                            34844 ; 1248 |                        SysCallFunction(RSRC_PLAYERLIB_EXTRA_CODE_BANK,PlayerLib_GetCurrentSong_ML,0,0,0);
                            34845 
P:0540 20001B         2 286834847         clr     b   
P:0541 240000         2 287034848         move    #0,x0
P:0542 340000         2 287234849         move    #0,r4
P:0543 60F400 rrrrrr  3 287534850         move    #FPlayerLib_GetCurrentSong_ML,r0
P:0545 56F400 00006C  3 287834851         move    #>108,a
P:0547 0BF080 rrrrrr  6 288434852         jsr     SysCallFunction
                            34853 
                            34854 ; 1249 |              SysCallFunction(RSRC_METADATA_CODEBANK,RetrieveSongInfo,0,0,(INT*)(DirPath)); //STMP00014061,14169
                            34855 
P:0549 20001B         2 288634857         clr     b   
P:054A 64F400 rrrrrr  3 288934858         move    #FDirPath,r4
P:054C 240000         2 289134859         move    #0,x0
P:054D 77F400 FFFFFE  3 289434860         move    #-2,n7
P:054F 000000         2 289634861         nop
P:0550 6C6F00         4 290034862         move    r4,y:(r7+n7)
P:0551 56F400 0001E4  3 290334863         move    #484,a
P:0553 60F400 rrrrrr  3 290634864         move    #FRetrieveSongInfo,r0
P:0555 0BF080 rrrrrr  6 291234865         jsr     SysCallFunction
                            34866 
                            34867 ; 1250 |#else // #ifdef USE_PLAYLIST3
                            34868 ; 1251 |                        SysCallFunction(RSRC_PLAYERLIB_EXTRA_CODE_BANK,PlayerLib_GetCurrentSong,0,0,0);
                            34869 ; 1252 |                        DecoderForceInit();//needed to prevent WMA decoder from crashing.
                            34870 ; 1253 |                        SysPostMessage(2,DECODER_RESET);
                            34871 ; 1254 |#endif // #ifdef USE_PLAYLIST3
                            34872 ; 1255 |                        // Force the decoder to re-open the file, the next time the song is played.
                            34873 ; 1256 |#ifdef  AUDIBLE
                            34874 ; 1257 |                        // mmiu - Commented out if statement to always force a Stop which closes the file.
                            34875 ; 1258 |                        //                if(g_iPlayerState != DECODER_PLAYING)
                            34876 ; 1259 |#else
                            34877 ; 1260 |                        if(g_iPlayerState != DECODER_PLAYING)
                            34878 
P:0557 56F000 rrrrrr  3 291534880         move    x:Fg_iPlayerState,a
P:0559 45F400 001000  3 291834881         move    #$1000,x1
P:055B 200065         2 292034882         cmp     x1,a
P:055C 0AF0AA rrrrrr  6 292634883         jeq     L458
                            34884 
                            34885 ; 1261 |#endif
                            34886 ; 1262 |                                SysPostMessage(2,DECODER_STOP);
                            34887 
P:055E 290300         2 292834889         move    #3,b0
P:055F 595F00         2 293034890         move    b0,y:(r7)+
P:0560 290200         2 293234892         move    #2,b0
P:0561 595F00         2 293434893         move    b0,y:(r7)+
P:0562 0BF080 rrrrrr  6 294034895         jsr     FSysPostMessage
P:0564 205700         2 294234896         move    (r7)-
P:0565 205700         2 294434898         move    (r7)-
                            34900 
                            34901 ; 1263 |
                            34902 ; 1264 |#ifdef USE_PLAYLIST3
                            34903 ; 1265 |                        if (g_Loading_displayed == FALSE)
                            34904 
P:0566 5FF000 rrrrrr  3 294734906 L458:   move    y:Fg_Loading_displayed,b
P:0568 2B0000         2 294934907         move    #0,b2
P:0569 20000B         2 295134908         tst     b
P:056A 0AF0A2 rrrrrr  6 295734909         jne     L459
                            34910 
                            34911 ; 1266 |#endif
                            34912 ; 1267 |                        {
                            34913 ; 1268 |                                PSM_ResetScrollInfo();
                            34914 
P:056C 0BF080 rrrrrr  6 296334916         jsr     FPSM_ResetScrollInfo
                            34917 
                            34918 ; 1269 |                                DisplayHint.I |= MUSIC_MENU_DISPLAY_NEW_TRACK; //update everything
                            34919 
P:056E 77F400 FFFFFB  3 296634921         move    #-5,n7
P:0570 000000         2 296834922         nop
P:0571 5DEF00         4 297234923         move    y:(r7+n7),b1
P:0572 46F400 079700  3 297534924         move    #$79700,y0
P:0574 20005A         2 297734925         or      y0,b
P:0575 5D6F00         4 298134926         move    b1,y:(r7+n7)
                            34927 
                            34928 ; 1270 |#ifdef USE_PLAYLIST5                            
                            34929 ; 1271 |#ifdef SYNC_LYRICS
                            34930 ; 1272 |                                if(g_iPlaySet == PLAYSET_MUSIC)
                            34931 ; 1273 |                                SysPostMessage(6,LCD_CLEAR_RANGE,SONG_TITLE_X_POS,SONG_TITLE_Y_POS-8,LCD_SIZE_X,32);
                            34932 ; 1274 |#endif
                            34933 ; 1275 |#endif  //#ifdef USE_PLAYLIST5
                            34934 ; 1276 |                        }
                            34935 ; 1277 |
                            34936 ; 1278 |                        if(g_iPlayerState == DECODER_PLAYING) // As in PR_FF during play.
                            34937 
P:0576 56F000 rrrrrr  3 298434939 L459:   move    x:Fg_iPlayerState,a
P:0578 47F400 001000  3 298734940         move    #$1000,y1
P:057A 200075         2 298934941         cmp     y1,a
P:057B 0AF0A2 rrrrrr  6 299534942         jne     L460
                            34943 
                            34944 ; 1279 |                        {   // Now includes decoder settling time. Stmp00003027
                            34945 ; 1280 |#ifdef JPEG_ALBUM_ART
                            34946 ; 1281 |                                if (g_bApicFrameFound)
                            34947 ; 1282 |                                {
                            34948 ; 1283 |                                        // Post a message to display album art
                            34949 ; 1284 |                                        SysCallFunction(RSRC_APIC_FRAME_CODEBANK, ApicPostMessage, 0, 0, NULL);
                            34950 ; 1285 |                                }
                            34951 ; 1286 |                                else
                            34952 ; 1287 |#endif
                            34953 ; 1288 |                                {
                            34954 ; 1289 |                                        PlayerLib_SetState (DECODER_STATE_PLAY,TRUE,NULL);
                            34955 
P:057D 56F400 000001  3 299834957         move    #>1,a
P:057F 200009         2 300034958         tfr     a,b
P:0580 300000         2 300234959         move    #0,r0
P:0581 0BF080 rrrrrr  6 300834960         jsr     FPlayerLib_SetState
                            34961 
                            34962 ; 1290 |#ifdef  AUDIBLE
                            34963 ; 1291 |                                        g_bAllowAudibleSave = TRUE;
                            34964 ; 1292 |#endif
                            34965 ; 1293 |                                }
                            34966 ; 1294 |                        }
                            34967 ; 1295 |#ifdef USE_PLAYLIST3
                            34968 ; 1296 |                        if (g_Loading_displayed == TRUE) {
                            34969 
P:0583 5EF000 rrrrrr  3 301134971 L460:   move    y:Fg_Loading_displayed,a
P:0585 45F400 000001  3 301434972         move    #>1,x1
P:0587 2A0000         2 301634973         move    #0,a2
P:0588 200065         2 301834974         cmp     x1,a
P:0589 0AF0A2 rrrrrr  6 302434975         jne     L461
                            34976 
                            34977 ; 1297 |                                SysCallFunction(RSRC_METADATA_CODEBANK,RetrieveSongInfo,0,0,(INT*)(DirPath));
                            34978 
P:058B 20001B         2 302634980         clr     b   
P:058C 240000         2 302834981         move    #0,x0
P:058D 77F400 FFFFFE  3 303134982         move    #-2,n7
P:058F 000000         2 303334983         nop
P:0590 6CEF00         4 303734984         move    y:(r7+n7),r4
P:0591 60F400 rrrrrr  3 304034985         move    #FRetrieveSongInfo,r0
P:0593 56F400 0001E4  3 304334986         move    #484,a
P:0595 0BF080 rrrrrr  6 304934987         jsr     SysCallFunction
                            34988 
                            34989 ; 1298 |                                PSM_ResetScrollInfo();
                            34990 
P:0597 0BF080 rrrrrr  6 305534992         jsr     FPSM_ResetScrollInfo
                            34993 
                            34994 ; 1299 |                                DisplayHint.I |= MUSIC_MENU_DISPLAY_NEW_TRACK;//update everything
                            34995 
P:0599 77F400 FFFFFB  3 305834997         move    #-5,n7
P:059B 000000         2 306034998         nop
P:059C 5CEF00         4 306434999         move    y:(r7+n7),a1
P:059D 44F400 079700  3 306735000         move    #$79700,x0
P:059F 200042         2 306935001         or      x0,a
P:05A0 5C6F00         4 307335002         move    a1,y:(r7+n7)
                            35003 
                            35004 ; 1300 |                                g_Loading_displayed = FALSE;
                            35005 
P:05A1 20001B         2 307535007         clr     b   
P:05A2 5D7000 rrrrrr  3 307835008         move    b1,y:Fg_Loading_displayed
                            35009 
                            35010 ; 1301 |                        }
                            35011 ; 1302 |#endif
                            35012 ; 1303 |                        g_bRewoundToBeginning = FALSE;
                            35013 
P:05A4 20001B         2 308035015 L461:   clr     b   
P:05A5 557000 rrrrrr  3 308335016         move    b1,x:Fg_bRewoundToBeginning
                            35017 
                            35018 ; 1304 |                        break;
                            35019 
P:05A7 0AF080 rrrrrr  6 308935021         jmp     L534
                            35022 
                            35023 ; 1305 |
                            35024 ; 1306 |                case MENU_SONG_TIME_CHNG:
                            35025 ; 1307 |                        DisplayHint.bits.TrackTime = TRUE;
                            35026 
P:05A9 0A6F72         6 309535028 L462:   bset    #18,y:(r7+n7)
                            35029 
                            35030 ; 1308 |                        break;
                            35031 
P:05AA 0AF080 rrrrrr  6 310135033         jmp     L534
                            35034 
                            35035 ; 1309 |#ifdef BACKLIGHT
                            35036 ; 1310 |                case MENU_MSG_TURN_OFF_BACKLIGHT:
                            35037 ; 1311 |                        SysPostMessage(2,LCD_BACKLIGHT_OFF);
                            35038 
P:05AC 45F400 030011  3 310435040 L463:   move    #196625,x1
P:05AE 4D5F00         2 310635041         move    x1,y:(r7)+
P:05AF 290200         2 310835043         move    #2,b0
P:05B0 595F00         2 311035044         move    b0,y:(r7)+
P:05B1 0BF080 rrrrrr  6 311635046         jsr     FSysPostMessage
P:05B3 205700         2 311835047         move    (r7)-
P:05B4 205700         2 312035049         move    (r7)-
                            35051 
                            35052 ; 1312 |                        SysWaitOnEvent(0,0,0);
                            35053 
P:05B5 300000         2 312235055         move    #0,r0
P:05B6 200013         2 312435056         clr     a   
P:05B7 20001B         2 312635057         clr     b   
P:05B8 0BF080 rrrrrr  6 313235058         jsr     SysWaitOnEvent
                            35059 
                            35060 ; 1313 |                        break;
                            35061 
P:05BA 0AF080 rrrrrr  6 313835063         jmp     L534
                            35064 
                            35065 ; 1314 |#endif
                            35066 ; 1315 |
                            35067 ; 1316 |                case MENU_MSG_SEND_RWND:
                            35068 ; 1317 |                        DisplayHint.bits.PlayState = TRUE;
                            35069 
P:05BC 0A6F69         6 314435071 L464:   bset    #9,y:(r7+n7)
                            35072 
                            35073 ; 1318 |
                            35074 ; 1319 |                        if (PlayerLib_Rewind(FALSE, 0,0) == PLAYERLIB_SUCCESS)//now lets seek
                            35075 
P:05BD 200013         2 314635077         clr     a   
P:05BE 300000         2 314835078         move    #0,r0
P:05BF 20001B         2 315035079         clr     b   
P:05C0 0BF080 rrrrrr  6 315635080         jsr     FPlayerLib_Rewind
                            35081 
                            35082 ; 1320 |                        {
                            35083 ; 1321 |                                if(!g_iSeeking)
                            35084 
P:05C2 0AF080 rrrrrr  6 316235086         jmp     L466
                            35087 
                            35088 ; 1322 |                                        PlayerLib_SetState (DECODER_STATE_PLAY,TRUE,NULL);
                            35089 ; 1323 |                        }
                            35090 ; 1324 |                        break;
                            35091 ; 1325 |
                            35092 ; 1326 |                case MENU_MSG_SEND_FF:
                            35093 ; 1327 |                        DisplayHint.bits.PlayState = TRUE;
                            35094 
P:05C4 0A6F69         6 316835096 L465:   bset    #9,y:(r7+n7)
                            35097 
                            35098 ; 1328 |
                            35099 ; 1329 |                        if (PlayerLib_FastForward(FALSE, 0,0) == PLAYERLIB_SUCCESS) //now lets seek
                            35100 
P:05C5 200013         2 317035102         clr     a   
P:05C6 300000         2 317235103         move    #0,r0
P:05C7 20001B         2 317435104         clr     b   
P:05C8 0BF080 rrrrrr  6 318035105         jsr     FPlayerLib_FastForward
                            35106 
                            35107 ; 1330 |                        {
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page 136

M:ADDR CODE           CYCLES LINE SOURCELINE
                            35108 ; 1331 |                                if(!g_iSeeking)
                            35109 
                            35111 L466:
P:05CA 200003         2 318235113         tst     a
P:05CB 0AF0A2 rrrrrr  6 318835114         jne     L534
P:05CD 57F000 rrrrrr  3 319135116         move    x:Fg_iSeeking,b
P:05CF 20000B         2 319335117         tst     b
P:05D0 0AF0A2 rrrrrr  6 319935118         jne     L534
                            35119 
                            35120 ; 1332 |                                        PlayerLib_SetState (DECODER_STATE_PLAY,TRUE,NULL);    //sometimes there's a timer still on after the PR_FF,
                            35121 
P:05D2 56F400 000001  3 320235123         move    #>1,a
P:05D4 300000         2 320435124         move    #0,r0
P:05D5 200009         2 320635125         tfr     a,b
P:05D6 0BF080 rrrrrr  6 321235126         jsr     FPlayerLib_SetState
                            35127 
                            35128 ; 1333 |                        }
                            35129 ; 1334 |                        break;
                            35130 
P:05D8 0AF080 rrrrrr  6 321835132         jmp     L534
                            35133 
                            35134 ; 1335 |
                            35135 ; 1336 |#ifdef BATTERY_CHARGE
                            35136 ; 1337 |                case MENU_BATTERY_CHARGER_TIMEOUT:
                            35137 ; 1338 |                        //check on battery charging.
                            35138 ; 1339 |                        SysCallFunction(RSRC_BATTERY_CHARGE_CODEBANK,BatteryChargeStateMachine,0,0,0);
                            35139 
P:05DA 20001B         2 322035141 L467:   clr     b   
P:05DB 340000         2 322235142         move    #0,r4
P:05DC 240000         2 322435143         move    #0,x0
P:05DD 60F400 rrrrrr  3 322735144         move    #FBatteryChargeStateMachine,r0
P:05DF 56F400 000381  3 323035145         move    #$381,a
P:05E1 0BF080 rrrrrr  6 323635146         jsr     SysCallFunction
                            35147 
                            35148 ; 1340 |                        break;
                            35149 
P:05E3 0AF080 rrrrrr  6 324235151         jmp     L534
                            35152 
                            35153 ; 1341 |#endif  //BATTERY_CHARGE
                            35154 ; 1342 |
                            35155 ; 1343 |                case MENU_DECODER_STATE_CHNG:
                            35156 ; 1344 |                        // if decoder stopped, start timer. If started playing disable it
                            35157 ; 1345 |                        UpdateAutoShutdownTimer();
                            35158 
P:05E5 0BF080 rrrrrr  6 324835160 L468:   jsr     FUpdateAutoShutdownTimer
                            35161 
                            35162 ; 1346 |                        DisplayHint.bits.PlayState = TRUE;
                            35163 
P:05E7 77F400 FFFFFB  3 325135165         move    #-5,n7
P:05E9 000000         2 325335166         nop
P:05EA 0A6F69         6 325935167         bset    #9,y:(r7+n7)
                            35168 
                            35169 ; 1347 |                        break;
                            35170 
P:05EB 0AF080 rrrrrr  6 326535172         jmp     L534
                            35173 
                            35174 ; 1348 |
                            35175 ; 1349 |                case MENU_AUTO_SHUTDOWN:
                            35176 ; 1350 |                        SysCallFunction(RSRC_MAIN_MENU_CODE_BANK,ShutdownMenu,FORCESHUTDOWN,0,0);
                            35177 
P:05ED 340000         2 326735179 L469:   move    #0,r4
P:05EE 240000         2 326935180         move    #0,x0
P:05EF 57F400 000001  3 327235181         move    #>1,b
P:05F1 60F400 rrrrrr  3 327535182         move    #FShutdownMenu,r0
P:05F3 56F400 000078  3 327835183         move    #>$78,a
P:05F5 0BF080 rrrrrr  6 328435184         jsr     SysCallFunction
                            35185 
                            35186 ; 1351 |                        // will not return
                            35187 ; 1352 |                        break;
                            35188 
P:05F7 0AF080 rrrrrr  6 329035190         jmp     L534
                            35191 
                            35192 ; 1353 |
                            35193 ; 1354 |                case MENU_MSG_MEDIA_CHANGED:
                            35194 
                            35196 L470:
P:05F9 77F400 FFFFFD  3 329335198         move    #-3,n7
P:05FB 000000         2 329535199         nop
P:05FC 4E6F00         4 329935200         move    y0,y:(r7+n7)
                            35203 
                            35204 ; 1355 |#ifdef USE_PLAYLIST3
                            35205 ; 1356 |                        g_Rebuild = TRUE;
                            35206 
P:05FD 46F400 000001  3 330235208         move    #>1,y0
P:05FF 4E7000 rrrrrr  3 330535209         move    y0,y:Fg_Rebuild
                            35210 
                            35211 ; 1357 |#endif
                            35212 ; 1358 |                        PlayerLib_SetState (DECODER_STATE_STOP,TRUE,NULL);
                            35213 
P:0601 20001B         2 330735215         clr     b   
P:0602 200013         2 330935216         clr     a   
P:0603 21B000         2 331135217         move    b1,r0
P:0604 200059         2 331335218         tfr     y0,b
P:0605 0BF080 rrrrrr  6 331935219         jsr     FPlayerLib_SetState
                            35220 
                            35221 ; 1359 |                        //Allow the decoder to stop before continuing
                            35222 ; 1360 |                        SysWaitOnEvent(0,0,0);
                            35223 
P:0607 360000         2 332135225         move    #0,r6
P:0608 200013         2 332335226         clr     a   
P:0609 20001B         2 332535227         clr     b   
P:060A 22D000         2 332735228         move    r6,r0
P:060B 0BF080 rrrrrr  6 333335229         jsr     SysWaitOnEvent
                            35230 
                            35231 ; 1361 |#ifdef AUDIBLE
                            35232 ; 1362 |                        // Save file position if Audible file
                            35233 ; 1363 |                        if ( g_AudibleFlags.bits.IsAudibleFile )
                            35234 ; 1364 |                                AudibleStopAndSave(FALSE);
                            35235 ; 1365 |#endif
                            35236 ; 1366 |#ifdef MMC
                            35237 ; 1367 |#ifdef USE_PLAYLIST3
                            35238 ; 1368 |                        bResume = TRUE;         // reset to initial value
                            35239 
P:060D 290100         2 333535241         move    #1,b0
P:060E 597000 rrrrrr  3 333835242         move    b0,y:FbResume
                            35243 
                            35244 ; 1369 |                        // MMC is media 1
                            35245 ; 1370 |                        // if MediaInit or DriveInit not success for MMC
                            35246 ; 1371 |                        if ( ( MediaInit(MMCDriveNumber) != SUCCESS )  || ( DriveInit(MMCDriveNumber) != SUCCESS ) )
                            35247 
P:0610 77F400 FFFFFD  3 334135249         move    #-3,n7
P:0612 000000         2 334335250         nop
P:0613 4EEF00         4 334735251         move    y:(r7+n7),y0
P:0614 77F400 FFFFFE  3 335035252         move    #-2,n7
P:0616 000000         2 335235253         nop
P:0617 4E6F00         4 335635254         move    y0,y:(r7+n7)
P:0618 200051         2 335835255         tfr     y0,a
P:0619 0BF080 rrrrrr  6 336435256         jsr     FMediaInit
P:061B 200003         2 336635257         tst     a
P:061C 0AF0A2 rrrrrr  6 337235258         jne     L471
P:061E 77F400 FFFFFE  3 337535259         move    #-2,n7
P:0620 000000         2 337735260         nop
P:0621 5EEF00         4 338135261         move    y:(r7+n7),a
P:0622 0BF080 rrrrrr  6 338735262         jsr     FDriveInit
P:0624 200003         2 338935263         tst     a
P:0625 0AF0AA rrrrrr  6 339535264         jeq     L475
                            35265 
                            35266 ; 1372 |                        {   // SystemHalt(); _asm(" nop"); //testpoint
                            35267 ; 1373 |                                if ((g_is_SD_inserted != NO_SD) && ((playMode&8) != 0 ) && (bSystemInit))
                            35268 
P:0627 5FF000 rrrrrr  3 339835270 L471:   move    y:Fg_is_SD_inserted,b
P:0629 2B0000         2 340035271         move    #0,b2
P:062A 20000B         2 340235272         tst     b
P:062B 0AF0AA rrrrrr  6 340835273         jeq     L474
P:062D 5FF000 rrrrrr  3 341135274         move    y:FplayMode,b
P:062F 46F400 000008  3 341435275         move    #>8,y0
P:0631 20005E         2 341635276         and     y0,b
P:0632 2B0000         2 341835277         move    #0,b2
P:0633 20000B         2 342035278         tst     b
P:0634 0AF0AA rrrrrr  6 342635279         jeq     L474
P:0636 5FF000 rrrrrr  3 342935280         move    y:FbSystemInit,b
P:0638 2B0000         2 343135281         move    #0,b2
P:0639 20000B         2 343335282         tst     b
P:063A 0AF0AA rrrrrr  6 343935283         jeq     L474
                            35284 
                            35285 ; 1374 |                                        //                      if ((g_is_SD_inserted != NO_SD) && (bSystemInit))
                            35286 ; 1375 |                                        bResume = FALSE;
                            35287 
P:063C 20001B         2 344135289         clr     b   
P:063D 5D7000 rrrrrr  3 344435290         move    b1,y:FbResume
                            35291 
                            35292 ; 1376 |                                g_is_SD_inserted = NO_SD;
                            35293 
P:063F 20001B         2 344635295 L474:   clr     b   
P:0640 5D7000 rrrrrr  3 344935296         move    b1,y:Fg_is_SD_inserted
                            35297 
                            35298 ; 1377 |                                i = RSRC_SD_REMOVE;
                            35299 
P:0642 47F400 000416  3 345235301         move    #1046,y1
                            35303 
                            35304 ; 1378 |                        }
                            35305 
P:0644 0AF080 rrrrrr  6 345835307         jmp     L476
                            35308 
                            35309 ; 1379 |                        else
                            35310 ; 1380 |                        {
                            35311 ; 1381 |                                /*
                            35312 ; 1382 |                                if (g_is_SD_inserted != HAS_SD)
                            35313 ; 1383 |                                bResume = FALSE;
                            35314 ; 1384 |                                */
                            35315 ; 1385 |                                g_is_SD_inserted = HAS_SD;
                            35316 
P:0646 290100         2 346035318 L475:   move    #1,b0
P:0647 597000 rrrrrr  3 346335319         move    b0,y:Fg_is_SD_inserted
                            35320 
                            35321 ; 1386 |                                i = RSRC_SD_INSERT;
                            35322 
P:0649 47F400 000417  3 346635324         move    #1047,y1
                            35325 
                            35326 ; 1387 |                        }
                            35327 ; 1388 |                        if (bSystemInit)
                            35328 
P:064B 5FF000 rrrrrr  3 346935330 L476:   move    y:FbSystemInit,b
P:064D 2B0000         2 347135331         move    #0,b2
P:064E 20000B         2 347335332         tst     b
P:064F 0AF0AA rrrrrr  6 347935333         jeq     L477
                            35334 
                            35335 ; 1389 |                        {
                            35336 ; 1390 |                                SysPostMessage(5,LCD_PRINT_RANGE_RSRC,0,0,i);
                            35337 
P:0651 200013         2 348135339         clr     a   
P:0652 20001B         2 348335340         clr     b   
P:0653 4F5F00         2 348535341         move    y1,y:(r7)+
P:0654 5D5F00         2 348735344         move    b1,y:(r7)+
P:0655 5C5F00         2 348935346         move    a1,y:(r7)+
P:0656 47F400 030001  3 349235348         move    #$30001,y1
P:0658 4F5F00         2 349435349         move    y1,y:(r7)+
P:0659 290500         2 349635351         move    #5,b0
P:065A 595F00         2 349835352         move    b0,y:(r7)+
P:065B 0BF080 rrrrrr  6 350435354         jsr     FSysPostMessage
P:065D 3F0500         2 350635355         move    #5,n7
P:065E 000000         2 350835356         nop
P:065F 204700         2 351035357         move    (r7)-n7
                            35359 
                            35360 ; 1391 |                                SysWaitOnEvent(0,0,0);
                            35361 
P:0660 200013         2 351235363         clr     a   
P:0661 20001B         2 351435364         clr     b   
P:0662 300000         2 351635365         move    #0,r0
P:0663 0BF080 rrrrrr  6 352235366         jsr     SysWaitOnEvent
                            35367 
                            35368 ; 1392 |                        }
                            35369 ; 1393 |#else // #ifdef USE_PLAYLIST3
                            35370 ; 1394 |                        if(MediaInit(MMCDriveNumber) != SUCCESS)
                            35371 ; 1395 |                        {
                            35372 ; 1396 |                                // stmp00006762
                            35373 ; 1397 |                                // When the Player is warm started from MTP/MSC by disconnecting USB,
                            35374 ; 1398 |                                // the MMC can be in a state that may not reset properly the first time.
                            35375 ; 1399 |                                // Exciting the MMC and trying again clears this condition.
                            35376 ; 1400 |                                // If this happens, wait a short time, and try again.
                            35377 ; 1401 |
                            35378 ; 1402 |                                // Wait 10ms, then try again
                            35379 ; 1403 |                                SysWaitOnEvent(EVENT_TIMER,0,10);
                            35380 ; 1404 |
                            35381 ; 1405 |                                if(MediaInit(MMCDriveNumber) != SUCCESS)
                            35382 ; 1406 |                                {
                            35383 ; 1407 |#ifdef USE_PLAYLIST5
                            35384 ; 1408 |                                        g_is_SD_inserted = NO_SD;
                            35385 ; 1409 |#endif
                            35386 ; 1410 |                                        goto MMCBadInit;
                            35387 ; 1411 |                                }
                            35388 ; 1412 |                        }
                            35389 ; 1413 |#ifdef USE_PLAYLIST5
                            35390 ; 1414 |            SysSpeedIncrease(SPEED_PEAK,SPEED_CLIENT_PLAYLIST1);
                            35391 ; 1415 |            g_is_SD_inserted = HAS_SD;
                            35392 ; 1416 |#endif
                            35393 ; 1417 |            // DriveInit requires SysLoadFATWrite() to be loaded
                            35394 ; 1418 |                SysLoadFATWrite();
                            35395 ; 1419 |                        if(DriveInit(MMCDriveNumber) != SUCCESS)
                            35396 ; 1420 |                        {
                            35397 ; 1421 |                                ;
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page 137

M:ADDR CODE           CYCLES LINE SOURCELINE
                            35398 ; 1422 |                        }
                            35399 ; 1423 |                        else // DriveInit MMC success so run checkdisk on the MMC.
                            35400 ; 1424 |                        {
                            35401 ; 1425 |                                // Run checkdisk each time media is inserted.
                            35402 ; 1426 |                                TestSkipCheckDisk(MMCDriveNumber); // do here, not in main.asm since MMC not init til here.
                            35403 ; 1427 |                        }
                            35404 ; 1428 |                        SysUnLoadFATWrite();
                            35405 ; 1429 |//                      if(DriveInit(MMCDriveNumber) != SUCCESS)
                            35406 ; 1430 |//                      {
                            35407 ; 1431 |//                              ;
                            35408 ; 1432 |//                      }
                            35409 ; 1433 |//                      else // DriveInit MMC success so run checkdisk on the MMC.
                            35410 ; 1434 |//                      {
                            35411 ; 1435 |//                              // Run checkdisk each time media is inserted.
                            35412 ; 1436 |//                              SysLoadFATWrite();
                            35413 ; 1437 |//                              TestSkipCheckDisk(MMCDriveNumber); // do here, not in main.asm since MMC not init til here.
                            35414 ; 1438 |//                              SysUnLoadFATWrite();
                            35415 ; 1439 |//                      }
                            35416 ; 1440 |
                            35417 ; 1441 |#endif // #ifdef USE_PLAYLIST3
                            35418 ; 1442 |MMCBadInit:
                            35419 
                            35421 L477:
                            35423 
                            35424 ; 1443 |
                            35425 ; 1444 |#endif
                            35426 ; 1445 |
                            35427 ; 1446 |
                            35428 ; 1447 |                        // Always must call FSInit so FS file count is updated [comment stale]. FSInit does both media but we only needed to init MMC
                            35429 ; 1448 |                        // Handle media error
                            35430 ; 1449 |
                            35431 ; 1450 |
                            35432 ; 1451 |            // DriveInit requires SysLoadFATWrite() to be loaded
                            35433 ; 1452 |                        SysLoadFATWrite();
                            35434 
P:0665 0BF080 rrrrrr  6 352835436         jsr     SysLoadFATWrite
P:0667 77F400 FFFFFD  3 353135437         move    #-3,n7
P:0669 000000         2 353335438         nop
P:066A 5EEF00         4 353735439         move    y:(r7+n7),a
                            35442 
                            35443 ; 1453 |                        if (FSDriveInit(MMCDriveNumber) == 0)
                            35444 
P:066B 0BF080 rrrrrr  6 354335446         jsr     FFSDriveInit
P:066D 200003         2 354535449         tst     a
P:066E 0AF0A2 rrrrrr  6 355135450         jne     L478
                            35451 
                            35452 ; 1454 |                        {
                            35453 ; 1455 |                                FSClearDriveBuf(MMCDriveNumber,maxhandles,maxcaches);
                            35454 
P:0670 5FF000 rrrrrr  3 355435456         move    y:Fmaxhandles,b
P:0672 4CF000 rrrrrr  3 355735457         move    y:Fmaxcaches,x0
P:0674 77F400 FFFFFD  3 356035458         move    #-3,n7
P:0676 000000         2 356235459         nop
P:0677 5EEF00         4 356635460         move    y:(r7+n7),a
P:0678 0BF080 rrrrrr  6 357235463         jsr     FFSClearDriveBuf
                            35466 
                            35467 ; 1456 |#if (NUM_REMOVABLE_MEDIA > 0) // There is at least one external media
                            35468 ; 1457 |                                Computefreeluster(MMCDriveNumber);
                            35469 
P:067A 77F400 FFFFFD  3 357535471         move    #-3,n7
P:067C 000000         2 357735472         nop
P:067D 5EEF00         4 358135473         move    y:(r7+n7),a
P:067E 0BF080 rrrrrr  6 358735474         jsr     FComputefreeluster
                            35478 
                            35479 ; 1458 |#endif
                            35480 ; 1459 |                        }
                            35481 ; 1460 |                        SysUnLoadFATWrite();
                            35482 
P:0680 0BF080 rrrrrr  6 359335484 L478:   jsr     SysUnLoadFATWrite
                            35485 
                            35486 ; 1461 |#ifdef MMC
                            35487 ; 1462 |#ifdef USE_PLAYLIST5
                            35488 ; 1463 |                        SysSpeedClockFree(SPEED_CLIENT_PLAYLIST1);
                            35489 ; 1464 |#endif
                            35490 ; 1465 |#endif
                            35491 ; 1466 |//                      if (FSDriveInit(MMCDriveNumber) == 0)
                            35492 ; 1467 |//                      {
                            35493 ; 1468 |//                              FSClearDriveBuf(MMCDriveNumber,maxhandles,maxcaches);
                            35494 ; 1469 |//#if (NUM_REMOVABLE_MEDIA > 0) // There is at least one external media
                            35495 ; 1470 |//                              SysLoadFATWrite();
                            35496 ; 1471 |//                              Computefreeluster(MMCDriveNumber);
                            35497 ; 1472 |//                              SysUnLoadFATWrite();
                            35498 ; 1473 |//#endif
                            35499 ; 1474 |//                      }
                            35500 ; 1475 |
                            35501 ; 1476 |                        if(g_FSinitErrorCode)//check if there is some error related to media
                            35502 
P:0682 5FF000 rrrrrr  3 359635504         move    y:Fg_FSinitErrorCode,b
P:0684 20000B         2 359835505         tst     b
P:0685 0AF0AA rrrrrr  6 360435506         jeq     L485
                            35507 
                            35508 ; 1477 |                        {
                            35509 ; 1478 |                                // There is media error
                            35510 ; 1479 |                                SysPostMessage(6,LCD_CLEAR_RANGE,0,0,LCD_SIZE_X,LCD_SIZE_Y);
                            35511 
P:0687 270000         2 360635513         move    #0,y1
P:0688 200013         2 360835514         clr     a   
P:0689 294000         2 361035515         move    #$40,b0
P:068A 595F00         2 361235516         move    b0,y:(r7)+
P:068B 298000         2 361435518         move    #$80,b0
P:068C 595F00         2 361635519         move    b0,y:(r7)+
P:068D 5C5F00         2 361835521         move    a1,y:(r7)+
P:068E 4F5F00         2 362035523         move    y1,y:(r7)+
P:068F 260300         2 362235525         move    #<3,y0
P:0690 4E5F00         2 362435526         move    y0,y:(r7)+
P:0691 290600         2 362635528         move    #6,b0
P:0692 595F00         2 362835529         move    b0,y:(r7)+
P:0693 0BF080 rrrrrr  6 363435531         jsr     FSysPostMessage
P:0695 3F0600         2 363635532         move    #6,n7
P:0696 000000         2 363835533         nop
P:0697 204700         2 364035534         move    (r7)-n7
                            35536 
                            35537 ; 1480 |
                            35538 ; 1481 |                                //SystemHalt(); // FSInit returned error. Check err code
                            35539 ; 1482 |#if (NUM_REMOVABLE_MEDIA > 0) // There is at least one external media
                            35540 ; 1483 |
                            35541 ; 1484 |                                if (g_FSinitErrorCode & EXTERNAL_MEDIA_NOT_SIGMATEL_FORMAT)
                            35542 
P:0698 5DF000 rrrrrr  3 364335544         move    y:Fg_FSinitErrorCode,b1
P:069A 46F400 000010  3 364635545         move    #>16,y0
P:069C 20005E         2 364835546         and     y0,b
P:069D 0AF0AA rrrrrr  6 365435547         jeq     L479
                            35548 
                            35549 ; 1485 |                                        SysPostMessage(5,LCD_PRINT_RANGE_RSRC,0,0,RSRC_EXTERNAL_MEDIA_ERROR2);
                            35550 
P:069F 200013         2 365635552         clr     a   
P:06A0 20001B         2 365835553         clr     b   
P:06A1 44F400 0001F5  3 366135554         move    #501,x0
P:06A3 4C5F00         2 366335555         move    x0,y:(r7)+
P:06A4 5D5F00         2 366535557         move    b1,y:(r7)+
P:06A5 5C5F00         2 366735559         move    a1,y:(r7)+
P:06A6 45F400 030001  3 367035561         move    #$30001,x1
P:06A8 4D5F00         2 367235562         move    x1,y:(r7)+
P:06A9 290500         2 367435564         move    #5,b0
P:06AA 595F00         2 367635565         move    b0,y:(r7)+
P:06AB 0BF080 rrrrrr  6 368235567         jsr     FSysPostMessage
P:06AD 3F0500         2 368435568         move    #5,n7
P:06AE 000000         2 368635569         nop
P:06AF 204700         2 368835570         move    (r7)-n7
P:06B0 0AF080 rrrrrr  6 369435572         jmp     L483
                            35573 
                            35574 ; 1486 |
                            35575 ; 1487 |                                else if (g_FSinitErrorCode & ERROR_ON_EXTERNAL_MEDIA)
                            35576 
P:06B2 5DF000 rrrrrr  3 369735578 L479:   move    y:Fg_FSinitErrorCode,b1
P:06B4 47F400 00000E  3 370035579         move    #>14,y1
P:06B6 20007E         2 370235580         and     y1,b
P:06B7 0AF0AA rrrrrr  6 370835581         jeq     L480
                            35582 
                            35583 ; 1488 |                                        SysPostMessage(5,LCD_PRINT_RANGE_RSRC,0,8,RSRC_EXTERNAL_MEDIA_ERROR1);
                            35584 
P:06B9 200013         2 371035586         clr     a   
P:06BA 44F400 0001F4  3 371335587         move    #500,x0
P:06BC 4C5F00         2 371535588         move    x0,y:(r7)+
P:06BD 290800         2 371735590         move    #8,b0
P:06BE 595F00         2 371935591         move    b0,y:(r7)+
P:06BF 5C5F00         2 372135593         move    a1,y:(r7)+
P:06C0 51F400 030001  3 372435595         move    #$30001,b0
P:06C2 595F00         2 372635596         move    b0,y:(r7)+
P:06C3 290500         2 372835598         move    #5,b0
P:06C4 595F00         2 373035599         move    b0,y:(r7)+
P:06C5 0BF080 rrrrrr  6 373635601         jsr     FSysPostMessage
P:06C7 3F0500         2 373835602         move    #5,n7
P:06C8 000000         2 374035603         nop
P:06C9 204700         2 374235604         move    (r7)-n7
P:06CA 0AF080 rrrrrr  6 374835606         jmp     L483
                            35607 
                            35608 ; 1489 |
                            35609 ; 1490 |                                else if (g_FSinitErrorCode &
                            35610 ; 1491 |                                        (ERROR_ON_INTERNAL_MEDIA_SHIFTED | INTERNAL_MEDIA_NOT_SIGMATEL_FORMAT_SHIFTED))//
                            35611 
P:06CC 5DF000 rrrrrr  3 375135613 L480:   move    y:Fg_FSinitErrorCode,b1
P:06CE 45F400 0001E0  3 375435614         move    #$1E0,x1
P:06D0 20006E         2 375635615         and     x1,b
P:06D1 0AF0AA rrrrrr  6 376235616         jeq     L483
                            35617 
                            35618 ; 1492 |                                        SysPostMessage(5,LCD_PRINT_RANGE_RSRC,0,8,RSRC_INTERNAL_MEDIA_ERROR1);
                            35619 
P:06D3 200013         2 376435621         clr     a   
P:06D4 44F400 0001F6  3 376735622         move    #502,x0
P:06D6 4C5F00         2 376935623         move    x0,y:(r7)+
P:06D7 290800         2 377135625         move    #8,b0
P:06D8 595F00         2 377335626         move    b0,y:(r7)+
P:06D9 5C5F00         2 377535628         move    a1,y:(r7)+
P:06DA 51F400 030001  3 377835630         move    #$30001,b0
P:06DC 595F00         2 378035631         move    b0,y:(r7)+
P:06DD 290500         2 378235633         move    #5,b0
P:06DE 595F00         2 378435634         move    b0,y:(r7)+
P:06DF 0BF080 rrrrrr  6 379035636         jsr     FSysPostMessage
P:06E1 3F0500         2 379235637         move    #5,n7
P:06E2 000000         2 379435638         nop
P:06E3 204700         2 379635639         move    (r7)-n7
                            35641 
                            35642 ; 1493 |
                            35643 ; 1494 |#else // NAND only
                            35644 ; 1495 |                                if (g_FSinitErrorCode & (ERROR_ON_INTERNAL_MEDIA | INTERNAL_MEDIA_NOT_SIGMATEL_FORMAT)) //
                            35645 ; 1496 |                                        SysPostMessage(5,LCD_PRINT_RANGE_RSRC,0,8,RSRC_INTERNAL_MEDIA_ERROR1);
                            35646 ; 1497 |
                            35647 ; 1498 |#endif
                            35648 ; 1499 |
                            35649 ; 1500 |                                SysPostMessage(3,SOFT_TIMER_KILL_TIMER,TIMER_ANIMATE); // Kill animate timer to provent queue from filling up.
                            35650 
P:06E4 20001B         2 379835652 L483:   clr     b   
P:06E5 5D5F00         2 380035653         move    b1,y:(r7)+
P:06E6 57F400 090002  3 380335655         move    #589826,b
P:06E8 5F5F00         2 380535656         move    b,y:(r7)+
P:06E9 290300         2 380735658         move    #3,b0
P:06EA 595F00         2 380935659         move    b0,y:(r7)+
P:06EB 0BF080 rrrrrr  6 381535661         jsr     FSysPostMessage
P:06ED 3F0300         2 381735662         move    #3,n7
P:06EE 000000         2 381935663         nop
P:06EF 204700         2 382135664         move    (r7)-n7
                            35666 
                            35667 ; 1501 |                                SysWaitOnEvent(0,0,5000);  // Show for 5 second
                            35668 
P:06F0 200013         2 382335670         clr     a   
P:06F1 300000         2 382535671         move    #0,r0
P:06F2 57F400 001388  3 382835672         move    #5000,b
P:06F4 0BF080 rrrrrr  6 383435673         jsr     SysWaitOnEvent
                            35674 
                            35675 ; 1502 |                                SysCallFunction(RSRC_MAIN_MENU_CODE_BANK,ShutdownMenu,FORCESHUTDOWN,0,0); //<<< SHUTS DOWN PLAYER
                            35676 
P:06F6 240000         2 383635678         move    #0,x0
P:06F7 57F400 000001  3 383935679         move    #>1,b
P:06F9 340000         2 384135680         move    #0,r4
P:06FA 60F400 rrrrrr  3 384435681         move    #FShutdownMenu,r0
P:06FC 56F400 000078  3 384735682         move    #>$78,a
P:06FE 0BF080 rrrrrr  6 385335683         jsr     SysCallFunction
                            35684 
                            35685 ; 1503 |                        }
                            35686 ; 1504 |
                            35687 ; 1505 |                        //don't put a break here. Update playlist with any supported new audio files
                            35688 ; 1506 |                case PARSER_DEVICE_ENUMERATE:
                            35689 ; 1507 |#ifdef USE_PLAYLIST3
                            35690 ; 1508 |                        // Let the other messages queues be cleared first
                            35691 ; 1509 |                        SysWaitOnEvent(0,0,0);
                            35692 
P:0700 360000         2 385535694 L485:   move    #0,r6
P:0701 200013         2 385735695         clr     a   
P:0702 20001B         2 385935696         clr     b   
P:0703 22D000         2 386135697         move    r6,r0
P:0704 0BF080 rrrrrr  6 386735698         jsr     SysWaitOnEvent
                            35699 
                            35700 ; 1510 |                        // Suspending the auto power down timer and battery check timer to prevent
                            35701 ; 1511 |                        //  sudden power down in long sessions of music library rebuild
                            35702 ; 1512 |                        // Suspending the animation timer off to save system resource
                            35703 ; 1513 |                        SysPostMessage(3,SOFT_TIMER_KILL_TIMER,TIMER_BATT_CHK);
                            35704 
P:0706 290200         2 386935706         move    #2,b0
P:0707 46F400 090002  3 387235707         move    #589826,y0
P:0709 2D0300         2 387435708         move    #3,b1
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page 138

M:ADDR CODE           CYCLES LINE SOURCELINE
P:070A 595F00         2 387635709         move    b0,y:(r7)+
P:070B 4E5F00         2 387835711         move    y0,y:(r7)+
P:070C 5D5F00         2 388035713         move    b1,y:(r7)+
P:070D 0BF080 rrrrrr  6 388635715         jsr     FSysPostMessage
P:070F 3F0300         2 388835716         move    #3,n7
P:0710 000000         2 389035717         nop
P:0711 204700         2 389235718         move    (r7)-n7
                            35720 
                            35721 ; 1514 |                        SysWaitOnEvent(0,0,0);
                            35722 
P:0712 200013         2 389435724         clr     a   
P:0713 20001B         2 389635725         clr     b   
P:0714 300000         2 389835726         move    #0,r0
P:0715 0BF080 rrrrrr  6 390435727         jsr     SysWaitOnEvent
P:0717 57F400 090002  3 390735728         move    #589826,b
P:0719 280300         2 390935729         move    #3,a0
P:071A 2C0100         2 391135730         move    #1,a1
P:071B 5C5F00         2 391335731         move    a1,y:(r7)+
P:071C 5F5F00         2 391535733         move    b,y:(r7)+
P:071D 585F00         2 391735735         move    a0,y:(r7)+
                            35737 
                            35738 ; 1515 |                        SysPostMessage(3,SOFT_TIMER_KILL_TIMER,TIMER_AUTO_SHUTDOWN);
                            35739 
P:071E 0BF080 rrrrrr  6 392335741         jsr     FSysPostMessage
P:0720 3F0300         2 392535742         move    #3,n7
P:0721 000000         2 392735743         nop
P:0722 204700         2 392935744         move    (r7)-n7
                            35746 
                            35747 ; 1516 |                        SysWaitOnEvent(0,0,0);
                            35748 
P:0723 200013         2 393135750         clr     a   
P:0724 20001B         2 393335751         clr     b   
P:0725 300000         2 393535752         move    #0,r0
P:0726 0BF080 rrrrrr  6 394135753         jsr     SysWaitOnEvent
P:0728 20001B         2 394335754         clr     b   
P:0729 280300         2 394535755         move    #3,a0
P:072A 5D5F00         2 394735756         move    b1,y:(r7)+
P:072B 54F400 090002  3 395035758         move    #589826,a1
P:072D 5C5F00         2 395235759         move    a1,y:(r7)+
P:072E 585F00         2 395435761         move    a0,y:(r7)+
                            35763 
                            35764 ; 1517 |                        SysPostMessage(3,SOFT_TIMER_KILL_TIMER,TIMER_ANIMATE);
                            35765 
P:072F 0BF080 rrrrrr  6 396035767         jsr     FSysPostMessage
P:0731 3F0300         2 396235768         move    #3,n7
P:0732 000000         2 396435769         nop
P:0733 204700         2 396635770         move    (r7)-n7
                            35772 
                            35773 ; 1518 |                        SysWaitOnEvent(0,0,0);
                            35774 
P:0734 200013         2 396835776         clr     a   
P:0735 20001B         2 397035777         clr     b   
P:0736 300000         2 397235778         move    #0,r0
P:0737 0BF080 rrrrrr  6 397835779         jsr     SysWaitOnEvent
                            35780 
                            35781 ; 1519 |#endif // #ifndef USE_PLAYLIST3
                            35782 ; 1520 |
                            35783 ; 1521 |                        g_iPlayerState = DECODER_STOPPED;
                            35784 
P:0739 47F400 000040  3 398135786         move    #>$40,y1
P:073B 477000 rrrrrr  3 398435787         move    y1,x:Fg_iPlayerState
                            35788 
                            35789 ; 1522 |                        g_iSeeking = FALSE;
                            35790 
P:073D 250000         2 398635792         move    #0,x1
P:073E 457000 rrrrrr  3 398935793         move    x1,x:Fg_iSeeking
                            35794 
                            35795 ; 1523 |#ifdef USE_PLAYLIST5                    
                            35796 ; 1524 |                        if(g_bPlaylistShuffle == TRUE)
                            35797 ; 1525 |                        {
                            35798 ; 1526 |                                g_bShuffle = TRUE;
                            35799 ; 1527 |                                g_bPlaylistShuffle = FALSE;
                            35800 ; 1528 |                        }
                            35801 ; 1529 |#endif                  
                            35802 ; 1530 |                        SysCallFunction(RSRC_PLAYLIST_CODEBANK,Playlist_Initialize,0,0,0);
                            35803 
P:0740 200069         2 399135805         tfr     x1,b
P:0741 200013         2 399335806         clr     a   
P:0742 240000         2 399535807         move    #0,x0
P:0743 219400         2 399735808         move    a1,r4
P:0744 60F400 rrrrrr  3 400035809         move    #FPlaylist_Initialize,r0
P:0746 56F400 000058  3 400335810         move    #>88,a
P:0748 0BF080 rrrrrr  6 400935811         jsr     SysCallFunction
                            35812 
                            35813 ; 1531 |#ifndef USE_PLAYLIST3
                            35814 ; 1532 |#ifdef USE_PLAYLIST5
                            35815 ; 1533 |                        while((g_PL5_PL_queue.head == g_PL5_PL_queue.tail) && (!g_PL5_Playback.foundall))
                            35816 ; 1534 |                        {
                            35817 ; 1535 |                                SysWaitOnEvent(0,0,50);
                            35818 ; 1536 |                        }
                            35819 ; 1537 |                        if(g_bShuffle == TRUE)
                            35820 ; 1538 |                        {
                            35821 ; 1539 |                                g_bShuffle = FALSE;
                            35822 ; 1540 |                                g_bPlaylistShuffle = TRUE;
                            35823 ; 1541 |                        }
                            35824 ; 1542 |                        DisplayHint.I |= 1<<DISPLAY_SONGTITLE_BITPOS;
                            35825 ; 1543 |                        DisplayHint.I |= 1<<DISPLAY_SONGARTISTALBUM_BITPOS;
                            35826 ; 1544 |#endif
                            35827 ; 1545 |                        SysCallFunction(RSRC_PLAYERLIB_EXTRA_CODE_BANK,PlayerLib_GetCurrentSong,0,0,0);
                            35828 ; 1546 |#endif // #ifndef USE_PLAYLIST3
                            35829 ; 1547 |
                            35830 ; 1548 |#ifndef USE_PLAYLIST5
                            35831 ; 1549 |                        if(!g_wTotalSongCount)
                            35832 
P:074A 5FF000 rrrrrr  3 401235834         move    y:Fg_wTotalSongCount,b
P:074C 2B0000         2 401435835         move    #0,b2
P:074D 20000B         2 401635836         tst     b
P:074E 0AF0A2 rrrrrr  6 402235837         jne     L486
                            35838 
                            35839 ; 1550 |                        {   g_wCurrentSongNumber = 0;
                            35840 
P:0750 20001B         2 402435842         clr     b   
P:0751 5D7000 rrrrrr  3 402735843         move    b1,y:Fg_wCurrentSongNumber
                            35844 
                            35845 ; 1551 |                        //force reset of current song number else old value used
                            35846 ; 1552 |                        }
                            35847 ; 1553 |#endif                  
                            35848 ; 1554 |                        PSM_ResetScrollInfo();
                            35849 
P:0753 0BF080 rrrrrr  6 403335851 L486:   jsr     FPSM_ResetScrollInfo
                            35852 
                            35853 ; 1555 |                        DecoderForceInit();
                            35854 
P:0755 0BF080 rrrrrr  6 403935856         jsr     DecoderForceInit
P:0757 290200         2 404135857         move    #2,b0
P:0758 200013         2 404335858         clr     a   
P:0759 5C5F00         2 404535859         move    a1,y:(r7)+
P:075A 595F00         2 404735861         move    b0,y:(r7)+
                            35863 
                            35864 ; 1556 |                        SysPostMessage(2,DECODER_RESET);
                            35865 
P:075B 0BF080 rrrrrr  6 405335867         jsr     FSysPostMessage
P:075D 205700         2 405535868         move    (r7)-
P:075E 205700         2 405735870         move    (r7)-
                            35872 
                            35873 ; 1557 |                        DisplayHint.I |= 0xffffff;//update everything
                            35874 
P:075F 77F400 FFFFFB  3 406035876         move    #-5,n7
P:0761 000000         2 406235877         nop
P:0762 5DEF00         4 406635878         move    y:(r7+n7),b1
P:0763 46F400 FFFFFF  3 406935879         move    #$FFFFFF,y0
P:0765 20005A         2 407135880         or      y0,b
P:0766 5D6F00         4 407535881         move    b1,y:(r7+n7)
                            35882 
                            35883 ; 1558 |#ifdef USE_PLAYLIST3
                            35884 ; 1559 |                        // Let the decoder messages cleared first
                            35885 ; 1560 |                        SysWaitOnEvent(0,0,0);
                            35886 
P:0767 200013         2 407735888         clr     a   
P:0768 20001B         2 407935889         clr     b   
P:0769 300000         2 408135890         move    #0,r0
P:076A 0BF080 rrrrrr  6 408735891         jsr     SysWaitOnEvent
                            35892 
                            35893 ; 1561 |
                            35894 ; 1562 |                        ML_browsing_app_init();
                            35895 
P:076C 0BF080 rrrrrr  6 409335897         jsr     FML_browsing_app_init
                            35898 
                            35899 ; 1563 |#ifdef MMC
                            35900 ; 1564 |                        if (g_is_SD_inserted)
                            35901 
P:076E 5EF000 rrrrrr  3 409635903         move    y:Fg_is_SD_inserted,a
P:0770 2A0000         2 409835904         move    #0,a2
P:0771 200003         2 410035905         tst     a
P:0772 0AF0AA rrrrrr  6 410635906         jeq     L487
                            35907 
                            35908 ; 1565 |                                SysPostMessage(4,MUSICLIB_MERGE_SONG, (INT*) &g_current_size, (INT*)&g_current_index);
                            35909 
P:0774 75F400 rrrrrr  3 410935911         move    #Fg_current_index,n5
P:0776 7D5F00         2 411135912         move    n5,y:(r7)+
P:0777 63F400 rrrrrr  3 411435914         move    #Fg_current_size,r3
P:0779 6B5F00         2 411635915         move    r3,y:(r7)+
P:077A 261200         2 411835917         move    #<$12,y0
P:077B 4E5F00         2 412035918         move    y0,y:(r7)+
P:077C 290400         2 412235920         move    #4,b0
P:077D 595F00         2 412435921         move    b0,y:(r7)+
P:077E 0BF080 rrrrrr  6 413035923         jsr     FSysPostMessage
P:0780 3F0400         2 413235924         move    #4,n7
P:0781 000000         2 413435925         nop
P:0782 204700         2 413635926         move    (r7)-n7
                            35928 
                            35929 ; 1566 |#endif
                            35930 ; 1567 |                        if (bPlayVoice)
                            35931 
P:0783 5FF000 rrrrrr  3 413935933 L487:   move    y:FbPlayVoice,b
P:0785 2B0000         2 414135934         move    #0,b2
P:0786 20000B         2 414335935         tst     b
P:0787 0AF0AA rrrrrr  6 414935936         jeq     L488
                            35937 
                            35938 ; 1568 |                                bResume = FALSE;
                            35939 
P:0789 20001B         2 415135941         clr     b   
P:078A 5D7000 rrrrrr  3 415435942         move    b1,y:FbResume
                            35943 
                            35944 ; 1569 |                        if (bResume)
                            35945 
P:078C 5FF000 rrrrrr  3 415735947 L488:   move    y:FbResume,b
P:078E 2B0000         2 415935948         move    #0,b2
P:078F 20000B         2 416135949         tst     b
P:0790 0AF0AA rrrrrr  6 416735950         jeq     L489
                            35951 
                            35952 ; 1570 |                        {
                            35953 ; 1571 |                                SysPostMessage(5,MUSICLIB_PLAY_RESUME, (INT*)&g_current_size, (INT*)&g_current_index, g_is_SD_inserted);
                            35954 
P:0792 59F000 rrrrrr  3 417035956         move    y:Fg_is_SD_inserted,b0
P:0794 595F00         2 417235957         move    b0,y:(r7)+
P:0795 61F400 rrrrrr  3 417535959         move    #Fg_current_index,r1
P:0797 695F00         2 417735960         move    r1,y:(r7)+
P:0798 71F400 rrrrrr  3 418035962         move    #Fg_current_size,n1
P:079A 795F00         2 418235963         move    n1,y:(r7)+
P:079B 47F400 0B0003  3 418535965         move    #720899,y1
P:079D 4F5F00         2 418735966         move    y1,y:(r7)+
P:079E 290500         2 418935968         move    #5,b0
P:079F 595F00         2 419135969         move    b0,y:(r7)+
P:07A0 0BF080 rrrrrr  6 419735971         jsr     FSysPostMessage
P:07A2 3F0500         2 419935972         move    #5,n7
P:07A3 000000         2 420135973         nop
P:07A4 204700         2 420335974         move    (r7)-n7
                            35976 
                            35977 ; 1572 |                                SysWaitOnEvent(0,0,0);
                            35978 
P:07A5 200013         2 420535980         clr     a   
P:07A6 20001B         2 420735981         clr     b   
P:07A7 300000         2 420935982         move    #0,r0
P:07A8 0BF080 rrrrrr  6 421535983         jsr     SysWaitOnEvent
                            35984 
                            35985 ; 1573 |#ifdef _FOLDER_BROWSE_                          
                            35986 ; 1574 |                                g_current_size = 0;
                            35987 
P:07AA 20001B         2 421735989         clr     b   
P:07AB 5D7000 rrrrrr  3 422035990         move    b1,y:Fg_current_size
                            35991 
                            35992 ; 1575 |                                g_current_index = 0;
                            35993 
P:07AD 5D7000 rrrrrr  3 422335995         move    b1,y:Fg_current_index
                            35996 
                            35997 ; 1576 |#endif                          
                            35998 ; 1577 |                                if (g_current_size > 0)
                            35999 ; 1578 |                                        SysCallFunction(RSRC_METADATA_CODEBANK,RetrieveSongInfo,0,0,(INT*)(DirPath));
                            36000 ; 1579 |                                else
                            36001 ; 1580 |                                        bResume = FALSE;
                            36002 
P:07AF 5D7000 rrrrrr  3 422636004         move    b1,y:FbResume
                            36005 
                            36006 ; 1581 |                        }
                            36007 ; 1582 |                        if (!bResume)
                            36008 
P:07B1 5FF000 rrrrrr  3 422936010 L489:   move    y:FbResume,b
P:07B3 2B0000         2 423136011         move    #0,b2
P:07B4 20000B         2 423336012         tst     b
P:07B5 0AF0A2 rrrrrr  6 423936013         jne     L490
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page 139

M:ADDR CODE           CYCLES LINE SOURCELINE
                            36014 
                            36015 ; 1583 |                        {
                            36016 ; 1584 |                                IsPlayOnTheGo = FALSE;
                            36017 
P:07B7 20001B         2 424136019         clr     b   
P:07B8 5D7000 rrrrrr  3 424436020         move    b1,y:FIsPlayOnTheGo
                            36021 
                            36022 ; 1585 |                                SysPostMessage(3,MUSICLIB_BROWSE_SETROOT, (INT*)&g_current_size);
                            36023 
P:07BA 290300         2 424636025         move    #3,b0
P:07BB 50F400 rrrrrr  3 424936026         move    #Fg_current_size,a0
P:07BD 585F00         2 425136027         move    a0,y:(r7)+
P:07BE 260C00         2 425336029         move    #<$C,y0
P:07BF 4E5F00         2 425536030         move    y0,y:(r7)+
P:07C0 595F00         2 425736032         move    b0,y:(r7)+
P:07C1 0BF080 rrrrrr  6 426336034         jsr     FSysPostMessage
P:07C3 3F0300         2 426536035         move    #3,n7
P:07C4 000000         2 426736036         nop
P:07C5 204700         2 426936037         move    (r7)-n7
                            36039 
                            36040 ; 1586 |                                SysPostMessage(7,MUSICLIB_BROWSE_BROWSEMENU, (INT*)&g_current_size, ITEM_TRACK, 0, (INT*)(&g_iBrowseTotalNum), (INT*)&g_current_index);
                            36041 
P:07C6 20001B         2 427136043         clr     b   
P:07C7 46F400 000003  3 427436044         move    #>3,y0
P:07C9 50F400 rrrrrr  3 427736045         move    #Fg_current_index,a0
P:07CB 585F00         2 427936046         move    a0,y:(r7)+
P:07CC 54F400 rrrrrr  3 428236048         move    #Fg_iBrowseTotalNum,a1
P:07CE 5C5F00         2 428436049         move    a1,y:(r7)+
P:07CF 5D5F00         2 428636051         move    b1,y:(r7)+
P:07D0 4E5F00         2 428836053         move    y0,y:(r7)+
P:07D1 76F400 rrrrrr  3 429136055         move    #Fg_current_size,n6
P:07D3 7E5F00         2 429336056         move    n6,y:(r7)+
P:07D4 44F400 0C0001  3 429636058         move    #$C0001,x0
P:07D6 4C5F00         2 429836059         move    x0,y:(r7)+
P:07D7 290700         2 430036061         move    #7,b0
P:07D8 595F00         2 430236062         move    b0,y:(r7)+
P:07D9 0BF080 rrrrrr  6 430836064         jsr     FSysPostMessage
P:07DB 3F0700         2 431036065         move    #7,n7
P:07DC 000000         2 431236066         nop
P:07DD 204700         2 431436067         move    (r7)-n7
                            36069 
                            36070 ; 1587 |                                SysWaitOnEvent(0,0,0);
                            36071 
P:07DE 200013         2 431636073         clr     a   
P:07DF 20001B         2 431836074         clr     b   
P:07E0 300000         2 432036075         move    #0,r0
P:07E1 0BF080 rrrrrr  6 432636076         jsr     SysWaitOnEvent
                            36077 
                            36078 ; 1588 |                                g_current_index = 0;
                            36079 
P:07E3 20001B         2 432836081         clr     b   
P:07E4 5D7000 rrrrrr  3 433136082         move    b1,y:Fg_current_index
                            36083 
                            36084 ; 1589 |//                              if (g_current_size > 0)
                            36085 ; 1590 |                                        SysCallFunction(RSRC_METADATA_CODEBANK,GetRelativePath,0,ITEM_TRACK,(INT*)(DirPath));
                            36086 
P:07E6 64F400 rrrrrr  3 433436088         move    #FDirPath,r4
P:07E8 44F400 000003  3 433736089         move    #>3,x0
P:07EA 60F400 rrrrrr  3 434036090         move    #FGetRelativePath,r0
P:07EC 56F400 0001E4  3 434336091         move    #484,a
P:07EE 0BF080 rrrrrr  6 434936092         jsr     SysCallFunction
                            36093 
                            36094 ; 1591 |                                bPlayVoice = FALSE;
                            36095 
P:07F0 20001B         2 435136097         clr     b   
P:07F1 5D7000 rrrrrr  3 435436098         move    b1,y:FbPlayVoice
                            36099 
                            36100 ; 1592 |                        }
                            36101 ; 1593 |
                            36102 ; 1594 |                        //have to get a full path here
                            36103 ; 1595 |                        //SysCallFunction(RSRC_PLAYERLIB_EXTRA_CODE_BANK,PlayerLib_GetCurrentSong_ML,0,0,0);
                            36104 ; 1596 |                        DisplayHint.I |= MUSIC_MENU_DISPLAY_NEW_TRACK;//update everything
                            36105 
P:07F3 77F400 FFFFFB  3 435736107 L490:   move    #-5,n7
P:07F5 000000         2 435936108         nop
P:07F6 5DEF00         4 436336109         move    y:(r7+n7),b1
P:07F7 46F400 079700  3 436636110         move    #$79700,y0
P:07F9 20005A         2 436836111         or      y0,b
P:07FA 5D6F00         4 437236112         move    b1,y:(r7+n7)
                            36113 
                            36114 ; 1597 |
                            36115 ; 1598 |                        if (g_current_size == 0)
                            36116 
P:07FB 5FF000 rrrrrr  3 437536118         move    y:Fg_current_size,b
P:07FD 20000B         2 437736119         tst     b
P:07FE 0AF0A2 rrrrrr  6 438336120         jne     L491
                            36121 
                            36122 ; 1599 |                        {
                            36123 ; 1600 |                                g_wSongTitle[0] = 0;
                            36124 
P:0800 200013         2 438536126         clr     a   
P:0801 5C7000 rrrrrr  3 438836127         move    a1,y:Fg_wSongTitle
                            36128 
                            36129 ; 1601 |                                g_wSongArtist[0] = 0;
                            36130 
P:0803 5C7000 rrrrrr  3 439136132         move    a1,y:Fg_wSongArtist
                            36133 
                            36134 ; 1602 |                                g_wSongAlbum[0] = 0;
                            36135 
P:0805 5C7000 rrrrrr  3 439436137         move    a1,y:Fg_wSongAlbum
                            36138 
                            36139 ; 1603 |                        }
                            36140 ; 1604 |
                            36141 ; 1605 |                        g_wTotalSongCount = g_current_size;
                            36142 
P:0807 5D7000 rrrrrr  3 439736144 L491:   move    b1,y:Fg_wTotalSongCount
                            36145 
                            36146 ; 1606 |                        SysWaitOnEvent(0,0,0);
                            36147 
P:0809 200013         2 439936149         clr     a   
P:080A 20001B         2 440136150         clr     b   
P:080B 300000         2 440336151         move    #0,r0
P:080C 0BF080 rrrrrr  6 440936152         jsr     SysWaitOnEvent
                            36153 
                            36154 ; 1607 |                        SysCallFunction(RSRC_PLAYERLIB_EXTRA_CODE_BANK,PlayerLib_GetCurrentSong_ML,0,0,0);
                            36155 
P:080E 20001B         2 441136157         clr     b   
P:080F 240000         2 441336158         move    #0,x0
P:0810 340000         2 441536159         move    #0,r4
P:0811 60F400 rrrrrr  3 441836160         move    #FPlayerLib_GetCurrentSong_ML,r0
P:0813 56F400 00006C  3 442136161         move    #>108,a
P:0815 0BF080 rrrrrr  6 442736162         jsr     SysCallFunction
                            36163 
                            36164 ; 1608 |#ifdef USE_PLAYLIST3
                            36165 ; 1609 |            SysCallFunction(RSRC_METADATA_CODEBANK,RetrieveSongInfo,0,0,(INT*)(DirPath)); //STMP00014061,14169
                            36166 
P:0817 20001B         2 442936168         clr     b   
P:0818 64F400 rrrrrr  3 443236169         move    #FDirPath,r4
P:081A 240000         2 443436170         move    #0,x0
P:081B 60F400 rrrrrr  3 443736171         move    #FRetrieveSongInfo,r0
P:081D 56F400 0001E4  3 444036172         move    #484,a
P:081F 0BF080 rrrrrr  6 444636173         jsr     SysCallFunction
                            36174 
                            36175 ; 1610 |#endif
                            36176 ; 1611 |                        PSM_ResetScrollInfo();
                            36177 
P:0821 0BF080 rrrrrr  6 445236179         jsr     FPSM_ResetScrollInfo
                            36180 
                            36181 ; 1612 |                        bSystemInit = TRUE;
                            36182 
P:0823 290100         2 445436184         move    #1,b0
P:0824 597000 rrrrrr  3 445736185         move    b0,y:FbSystemInit
                            36186 
                            36187 ; 1613 |                        //end of rebuild code
                            36188 ; 1614 |                        if ((g_iShuffleSetting == SHUFFLE_OFF) || (bPlayVoice == TRUE))
                            36189 
P:0826 5FF000 rrrrrr  3 446036191         move    y:Fg_iShuffleSetting,b
P:0828 20000B         2 446236192         tst     b
P:0829 0AF0AA rrrrrr  6 446836193         jeq     L492
P:082B 5FF000 rrrrrr  3 447136194         move    y:FbPlayVoice,b
P:082D 46F400 000001  3 447436195         move    #>1,y0
P:082F 2B0000         2 447636196         move    #0,b2
P:0830 20005D         2 447836197         cmp     y0,b
P:0831 0AF0A2 rrrrrr  6 448436198         jne     L493
                            36199 
                            36200 ; 1615 |                                SysPostMessage(3, MUSICLIB_PLAY_SETSHUFFLE, PLAY_NORMAL);
                            36201 
P:0833 20001B         2 448636203 L492:   clr     b   
P:0834 5D5F00         2 448836204         move    b1,y:(r7)+
P:0835 47F400 0B0002  3 449136206         move    #720898,y1
P:0837 4F5F00         2 449336207         move    y1,y:(r7)+
P:0838 0AF080 rrrrrr  6 449936209         jmp     L494
                            36210 
                            36211 ; 1616 |                        else
                            36212 ; 1617 |                                SysPostMessage(3, MUSICLIB_PLAY_SETSHUFFLE, PLAY_SHUFFLE);
                            36213 
P:083A 290100         2 450136215 L493:   move    #1,b0
P:083B 595F00         2 450336216         move    b0,y:(r7)+
P:083C 45F400 0B0002  3 450636218         move    #720898,x1
P:083E 4D5F00         2 450836219         move    x1,y:(r7)+
P:083F 290300         2 451036221 L494:   move    #3,b0
P:0840 595F00         2 451236222         move    b0,y:(r7)+
P:0841 0BF080 rrrrrr  6 451836224         jsr     FSysPostMessage
P:0843 3F0300         2 452036225         move    #3,n7
P:0844 000000         2 452236226         nop
P:0845 204700         2 452436227         move    (r7)-n7
                            36229 
                            36230 ; 1618 |
                            36231 ; 1619 |                        // Music library rebuild completed, resume the suspended timers
                            36232 ; 1620 |                        SysPostMessage(6,SOFT_TIMER_SET_TIMER,TIMER_ANIMATE,0,ANIMATE_PERIOD,MENU_MSG_ANIMATE);
                            36233 
P:0846 270000         2 452636235         move    #0,y1
P:0847 200013         2 452836236         clr     a   
P:0848 45F400 090001  3 453136237         move    #589825,x1
P:084A 46F400 000006  3 453436238         move    #>6,y0
P:084C 55F400 060016  3 453736239         move    #393238,b1
P:084E 5D5F00         2 453936240         move    b1,y:(r7)+
P:084F 296400         2 454136242         move    #100,b0
P:0850 595F00         2 454336243         move    b0,y:(r7)+
P:0851 5C5F00         2 454536245         move    a1,y:(r7)+
P:0852 4F5F00         2 454736247         move    y1,y:(r7)+
P:0853 4D5F00         2 454936249         move    x1,y:(r7)+
P:0854 4E5F00         2 455136251         move    y0,y:(r7)+
P:0855 0BF080 rrrrrr  6 455736253         jsr     FSysPostMessage
P:0857 3F0600         2 455936254         move    #6,n7
P:0858 000000         2 456136255         nop
P:0859 204700         2 456336256         move    (r7)-n7
                            36258 
                            36259 ; 1621 |                        SysWaitOnEvent(0,0,0);
                            36260 
P:085A 200013         2 456536262         clr     a   
P:085B 20001B         2 456736263         clr     b   
P:085C 300000         2 456936264         move    #0,r0
P:085D 0BF080 rrrrrr  6 457536265         jsr     SysWaitOnEvent
                            36266 
                            36267 ; 1622 |                        SysPostMessage(6,SOFT_TIMER_SET_TIMER,TIMER_BATT_CHK,0,2000,MENU_BATTERY_CHNG);
                            36268 
P:085F 20001B         2 457736270         clr     b   
P:0860 50F400 060005  3 458036271         move    #393221,a0
P:0862 585F00         2 458236272         move    a0,y:(r7)+
P:0863 54F400 0007D0  3 458536274         move    #2000,a1
P:0865 5C5F00         2 458736275         move    a1,y:(r7)+
P:0866 5D5F00         2 458936277         move    b1,y:(r7)+
P:0867 290200         2 459136279         move    #2,b0
P:0868 595F00         2 459336280         move    b0,y:(r7)+
P:0869 46F400 090001  3 459636282         move    #589825,y0
P:086B 4E5F00         2 459836283         move    y0,y:(r7)+
P:086C 290600         2 460036285         move    #6,b0
P:086D 595F00         2 460236286         move    b0,y:(r7)+
P:086E 0BF080 rrrrrr  6 460836288         jsr     FSysPostMessage
P:0870 3F0600         2 461036289         move    #6,n7
P:0871 000000         2 461236290         nop
P:0872 204700         2 461436291         move    (r7)-n7
                            36293 
                            36294 ; 1623 |                        SysWaitOnEvent(0,0,0);
                            36295 
P:0873 200013         2 461636297         clr     a   
P:0874 20001B         2 461836298         clr     b   
P:0875 300000         2 462036299         move    #0,r0
P:0876 0BF080 rrrrrr  6 462636300         jsr     SysWaitOnEvent
                            36301 
                            36302 ; 1624 |                        UpdateAutoShutdownTimer();
                            36303 
P:0878 0BF080 rrrrrr  6 463236305         jsr     FUpdateAutoShutdownTimer
                            36306 
                            36307 ; 1625 |
                            36308 ; 1626 |#endif
                            36309 ; 1627 |                        break;
                            36310 
P:087A 0AF080 rrrrrr  6 463836312         jmp     L534
                            36313 
                            36314 ; 1628 |
                            36315 ; 1629 |                case MENU_BATTERY_CHNG:
                            36316 ; 1630 |
                            36317 ; 1631 |#ifdef BATTERY_TYPE_LI_ION
                            36318 ; 1632 |#define JANUS_BATTERY_THRESHOLD 22
                            36319 ; 1633 |#else
                            36320 ; 1634 |#define JANUS_BATTERY_THRESHOLD 19
                            36321 ; 1635 |#endif
                            36322 ; 1636 |
                            36323 ; 1637 |#ifdef JANUS_BUILD   //stmp8602 Battery level monitoring needed while playing back DRM tracks.
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page 140

M:ADDR CODE           CYCLES LINE SOURCELINE
                            36324 ; 1638 |                        // Voltage levels:
                            36325 ; 1639 |                        // Alkaline:     17%== 0.99v ;  18% == 1.06V ; 19% == 1.08v
                            36326 ; 1640 |                        // Lithium Ion   19% = 3.0v  ;  20% == 3.15V
                            36327 ; 1641 |                        if ((WMA_TYPE == g_iSongType) &&        // WMA File
                            36328 ; 1642 |                                (filest_bHasJanusDRM) &&            // AND Janus (MUST FOLLOW WMA FILE TEST)
                            36329 ; 1643 |                                (SysBatteryGetLevel() <= JANUS_BATTERY_THRESHOLD) &&     // AND Remaining level below threshold
                            36330 ; 1644 |                                (g_iPlayerState == DECODER_PLAYING))// AND Playing a song
                            36331 ; 1645 |                        {
                            36332 ; 1646 |                                ExitPlayerStateMachine(0,0,0);
                            36333 ; 1647 |                                // display low battery message
                            36334 ; 1648 |                                DisplayClear();
                            36335 ; 1649 |                                DisplayLowBattery();
                            36336 ; 1650 |                                SysWaitOnEvent(0,0,2000);  // let user see it for 2 seconds
                            36337 ; 1651 |                                DisplayClear();
                            36338 ; 1652 |                                DisplayHint.I |= 0xffffff;//update everything
                            36339 ; 1653 |                        }
                            36340 ; 1654 |#endif
                            36341 ; 1655 |                        DisplayHint.bits.Battery = TRUE;
                            36342 
P:087C 0A6F76         6 464436344 L495:   bset    #22,y:(r7+n7)
                            36345 
                            36346 ; 1656 |                        break;
                            36347 
P:087D 0AF080 rrrrrr  6 465036349         jmp     L534
                            36350 
                            36351 ; 1657 |
                            36352 ; 1658 |                case PARSER_NEXT_SONG:
                            36353 
                            36355 L496:
P:087F 77F400 FFFFFC  3 465336357         move    #-4,n7
P:0881 000000         2 465536358         nop
P:0882 6E6F00         4 465936359         move    r6,y:(r7+n7)
                            36362 
                            36363 ; 1659 |            if (IsSystemDriveDirty() != FALSE)
                            36364 
P:0883 0BF080 rrrrrr  6 466536366         jsr     FIsSystemDriveDirty
P:0885 2A0000         2 466736367         move    #0,a2
P:0886 200003         2 466936368         tst     a
P:0887 0AF0AA rrrrrr  6 467536369         jeq     L497
                            36370 
                            36371 ; 1660 |            {
                            36372 ; 1661 |
                            36373 ; 1662 |                SysCallFunction(RSRC_RESTORESYSDRIVE_P_CODE, RefreshSystemDriveErrorBlock, 0, 0, NULL);
                            36374 
P:0889 20001B         2 467736376         clr     b   
P:088A 340000         2 467936377         move    #0,r4
P:088B 240000         2 468136378         move    #0,x0
P:088C 60F400 rrrrrr  3 468436379         move    #FRefreshSystemDriveErrorBlock,r0
P:088E 56F400 000437  3 468736380         move    #1079,a
P:0890 0BF080 rrrrrr  6 469336381         jsr     SysCallFunction
                            36382 
                            36383 ; 1663 |                //RefreshSystemDriveErrorBlock();
                            36384 ; 1664 |
                            36385 ; 1665 |                // This call has been moved into RefreshSystemDriveErrorBlock();
                            36386 ; 1666 |                // Switch back to the cleaned drive
                            36387 ; 1667 |                //ToggleSystemDrive();
                            36388 ; 1668 |            }
                            36389 ; 1669 |                holdcount=0;
                            36390 
P:0892 20001B         2 469536392 L497:   clr     b   
P:0893 5D7000 rrrrrr  3 469836393         move    b1,y:Fholdcount
                            36394 
                            36395 ; 1670 |            g_wAdpcmSecondstoSkip=SECONDS_TO_SKIP;
                            36396 
P:0895 290100         2 470036398         move    #1,b0
P:0896 597000 rrrrrr  3 470336399         move    b0,y:Fg_wAdpcmSecondstoSkip
                            36400 
                            36401 ; 1671 |                        g_wSecondsToSkip=SECONDS_TO_SKIP;
                            36402 
P:0898 597000 rrrrrr  3 470636404         move    b0,y:Fg_wSecondsToSkip
                            36405 
                            36406 ; 1672 |
                            36407 ; 1673 |#ifdef AUDIBLE
                            36408 ; 1674 |                        if( g_AudibleFlags.bits.IsAudibleFile ) {
                            36409 ; 1675 |                                g_wSecondsToSkip = 0;
                            36410 ; 1676 |                        }
                            36411 ; 1677 |#endif
                            36412 ; 1678 |
                            36413 ; 1679 |#ifndef USE_PLAYLIST5
                            36414 ; 1680 |                        if(JanusDRMLicExpired)
                            36415 
P:089A 5EF000 rrrrrr  3 470936417         move    y:FJanusDRMLicExpired,a
P:089C 200003         2 471136418         tst     a
P:089D 0AF0AA rrrrrr  6 471736419         jeq     L498
                            36420 
                            36421 ; 1681 |                        {
                            36422 ; 1682 |                                SysCallFunction(RSRC_MAIN_MENU_CODE_BANK,SplashScreen,RSRC_LIC_EXPIRED,1000,0);
                            36423 
P:089F 340000         2 471936425         move    #0,r4
P:08A0 44F400 0003E8  3 472236426         move    #1000,x0
P:08A2 57F400 0001EC  3 472536427         move    #492,b
P:08A4 60F400 rrrrrr  3 472836428         move    #FSplashScreen,r0
P:08A6 56F400 000078  3 473136429         move    #>$78,a
P:08A8 0BF080 rrrrrr  6 473736430         jsr     SysCallFunction
                            36431 
                            36432 ; 1683 |                                JanusDRMLicExpired=0;
                            36433 
P:08AA 20001B         2 473936435         clr     b   
P:08AB 5D7000 rrrrrr  3 474236436         move    b1,y:FJanusDRMLicExpired
                            36437 
                            36438 ; 1684 |                        }
                            36439 ; 1685 |                        SysWaitOnEvent(0,0,0);
                            36440 
P:08AD 300000         2 474436442 L498:   move    #0,r0
P:08AE 200013         2 474636443         clr     a   
P:08AF 20001B         2 474836444         clr     b   
P:08B0 0BF080 rrrrrr  6 475436445         jsr     SysWaitOnEvent
                            36446 
                            36447 ; 1686 |                        PlayerLib_SkipToNextSong(TRUE, pMsg->Message.wMsgParms[0],0);                   
                            36448 
P:08B2 3E0200         2 475636450         move    #2,n6
P:08B3 77F400 FFFFFC  3 475936451         move    #-4,n7
P:08B5 000000         2 476136452         nop
P:08B6 6EEF00         4 476536453         move    y:(r7+n7),r6
P:08B7 000000         2 476736454         nop
P:08B8 204E00         2 476936455         move    (r6)+n6
P:08B9 5FE600         2 477136459         move    y:(r6),b
P:08BA 300000         2 477336460         move    #0,r0
P:08BB 56F400 000001  3 477636461         move    #>1,a
P:08BD 0BF080 rrrrrr  6 478236462         jsr     FPlayerLib_SkipToNextSong
                            36463 
                            36464 ; 1687 |#else
                            36465 ; 1688 |                        if((bDRMLicExpired))
                            36466 ; 1689 |                        {
                            36467 ; 1690 |                                SysCallFunction(RSRC_MAIN_MENU_CODE_BANK,SplashScreen,RSRC_LIC_EXPIRED,1000,0);
                            36468 ; 1691 |                        }
                            36469 ; 1692 |
                            36470 ; 1693 |
                            36471 ; 1694 |                        if(bDRMLicExpired)
                            36472 ; 1695 |                        {
                            36473 ; 1696 |                if (g_iPlaylistRepeat == PLAYLIST_REPEAT_ONE)
                            36474 ; 1697 |                    LicExpireCount = 1;
                            36475 ; 1698 |                else
                            36476 ; 1699 |                    LicExpireCount++;
                            36477 ; 1700 |
                            36478 ; 1701 |                                g_bWait = FALSE;
                            36479 ; 1702 |                        }
                            36480 ; 1703 |                        else
                            36481 ; 1704 |                                LicExpireCount = 0;
                            36482 ; 1705 |
                            36483 ; 1706 |
                            36484 ; 1707 |#ifdef MOTION_VIDEO
                            36485 ; 1708 |                        if(g_PL5_PL_search.status == PL5_STATE_PAUSE)
                            36486 ; 1709 |                        {
                            36487 ; 1710 |                SysPostMessage(2, PL5_PL_MSG_RESUME);
                            36488 ; 1711 |                                while((g_wTotalSongCount == 0) && (!g_PL5_Playback.foundall))
                            36489 ; 1712 |                                        SysWaitOnEvent(0,0,50);
                            36490 ; 1713 |                        }
                            36491 ; 1714 |#endif
                            36492 ; 1715 |
                            36493 ; 1716 |//            if (((g_iPlaylistRepeat == PLAYLIST_REPEAT_ONE) && (LicExpireCount < 1)) ||
                            36494 ; 1717 |//                ((g_iPlaylistRepeat == PLAYLIST_REPEAT_ALL) &&(LicExpireCount < (g_wTotalSongCount - g_wCurrentSongNumber))))
                            36495 ; 1718 |                                PlayerLib_SkipToNextSong(TRUE, pMsg->Message.wMsgParms[0],0);
                            36496 ; 1719 |
                            36497 ; 1720 |
                            36498 ; 1721 |                        if((g_wCurrentSongNumber == 1) && (g_iPlaylistRepeat != PLAYLIST_REPEAT_ALL) && (g_iPlaylistRepeat !=PLAYLIST_REPEAT_ONE) && (!g_bPlaylistShuffle))
                            36499 ; 1722 |                        {
                            36500 ; 1723 |
                            36501 ; 1724 |                                if(g_iPlayerState == DECODER_PLAYING)
                            36502 ; 1725 |                                {
                            36503 ; 1726 |                          // Set player state to stopped.
                            36504 ; 1727 |                          g_iPlayerState = DECODER_STOPPED;
                            36505 ; 1728 |                          PlayerLib_SetState (DECODER_STATE_STOP,TRUE,NULL);
                            36506 ; 1729 |                          SysCallFunction(RSRC_PLAYERLIB_EXTRA_CODE_BANK,PlayerLib_GetCurrentSong,0,0,0);
                            36507 ; 1730 |
                            36508 ; 1731 |                          SysPostMessage(2,MENU_DECODER_STATE_CHNG);
                            36509 ; 1732 |                                }
                            36510 ; 1733 |                        }
                            36511 ; 1734 |#endif  //#ifndef USE_PLAYLIST5
                            36512 ; 1735 |#ifdef USE_PLAYLIST3
                            36513 ; 1736 |                        SysCallFunction(RSRC_METADATA_CODEBANK,RetrieveSongInfo,0,0,(INT*)(DirPath));//STMP00014061,14169
                            36514 
P:08BF 20001B         2 478436516         clr     b   
P:08C0 64F400 rrrrrr  3 478736517         move    #FDirPath,r4
P:08C2 240000         2 478936518         move    #0,x0
P:08C3 56F400 0001E4  3 479236519         move    #484,a
P:08C5 60F400 rrrrrr  3 479536520         move    #FRetrieveSongInfo,r0
P:08C7 0BF080 rrrrrr  6 480136521         jsr     SysCallFunction
                            36522 
                            36523 ; 1737 |#endif
                            36524 ; 1738 |                        DisplayHint.I |= MUSIC_MENU_DISPLAY_NEW_TRACK;//update everything
                            36525 
P:08C9 77F400 FFFFFB  3 480436527         move    #-5,n7
P:08CB 000000         2 480636528         nop
P:08CC 5DEF00         4 481036529         move    y:(r7+n7),b1
P:08CD 46F400 079700  3 481336530         move    #$79700,y0
P:08CF 20005A         2 481536531         or      y0,b
P:08D0 5D6F00         4 481936532         move    b1,y:(r7+n7)
                            36533 
                            36534 ; 1739 |                        DisplayHint.I |= (1<<DISPLAY_VOLUME_BITPOS);
                            36535 
P:08D1 0ACD6E         4 482336537         bset    #14,b1
                            36538 
                            36539 ; 1740 |#ifdef USE_PLAYLIST5                    
                            36540 ; 1741 |#ifdef SYNC_LYRICS
                            36541 ; 1742 |                        if(g_iPlaySet == PLAYSET_MUSIC)
                            36542 ; 1743 |                        SysPostMessage(6,LCD_CLEAR_RANGE,SONG_TITLE_X_POS,SONG_TITLE_Y_POS-8,LCD_SIZE_X,32);
                            36543 ; 1744 |#endif
                            36544 ; 1745 |#endif
                            36545 ; 1746 |                        PSM_ResetScrollInfo();
                            36546 
P:08D2 0AF080 rrrrrr  6 482936548         jmp     L500
                            36549 
                            36550 ; 1747 |                        break;
                            36551 ; 1748 |
                            36552 ; 1749 |                case PARSER_PREV_SONG:
                            36553 ; 1750 |                    holdcount=0;
                            36554 
                            36556 L499:
P:08D4 20001B         2 483136558         clr     b   
P:08D5 5D7000 rrrrrr  3 483436559         move    b1,y:Fholdcount
                            36560 
                            36561 ; 1751 |                                g_wAdpcmSecondstoSkip=SECONDS_TO_SKIP;
                            36562 
P:08D7 280100         2 483636564         move    #1,a0
P:08D8 587000 rrrrrr  3 483936565         move    a0,y:Fg_wAdpcmSecondstoSkip
                            36566 
                            36567 ; 1752 |                                g_wSecondsToSkip=SECONDS_TO_SKIP;
                            36568 
P:08DA 587000 rrrrrr  3 484236570         move    a0,y:Fg_wSecondsToSkip
                            36571 
                            36572 ; 1753 |
                            36573 ; 1754 |#ifdef AUDIBLE
                            36574 ; 1755 |                        if( g_AudibleFlags.bits.IsAudibleFile ) {
                            36575 ; 1756 |                                g_wSecondsToSkip = 0;
                            36576 ; 1757 |                        }
                            36577 ; 1758 |#endif
                            36578 ; 1759 |#ifdef USE_PLAYLIST5
                            36579 ; 1760 |//                      if(g_iPlaylistRepeat == PLAYLIST_REPEAT_ONE)
                            36580 ; 1761 |//                        SysCallFunction(RSRC_PLAYERLIB_EXTRA_CODE_BANK,PlayerLib_GetCurrentSong,0,0,0);
                            36581 ; 1762 |//                      else
                            36582 ; 1763 |                        PlayerLib_SkipToPreviousSong(TRUE, pMsg->Message.wMsgParms[0],0);
                            36583 ; 1764 |#else
                            36584 ; 1765 |                        PlayerLib_SkipToPreviousSong(TRUE, pMsg->Message.wMsgParms[0],0);
                            36585 
P:08DC 3E0200         2 484436587         move    #2,n6
P:08DD 000000         2 484636588         nop
P:08DE 204E00         2 484836589         move    (r6)+n6
P:08DF 5FE600         2 485036591         move    y:(r6),b
P:08E0 300000         2 485236592         move    #0,r0
P:08E1 210E00         2 485436593         move    a0,a
P:08E2 0BF080 rrrrrr  6 486036594         jsr     FPlayerLib_SkipToPreviousSong
                            36595 
                            36596 ; 1766 |#endif
                            36597 ; 1767 |#ifdef USE_PLAYLIST3
                            36598 ; 1768 |            SysCallFunction(RSRC_METADATA_CODEBANK,RetrieveSongInfo,0,0,(INT*)(DirPath));//STMP00014061,14169
                            36599 
P:08E4 20001B         2 486236601         clr     b   
P:08E5 64F400 rrrrrr  3 486536602         move    #FDirPath,r4
P:08E7 240000         2 486736603         move    #0,x0
P:08E8 56F400 0001E4  3 487036604         move    #484,a
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page 141

M:ADDR CODE           CYCLES LINE SOURCELINE
P:08EA 60F400 rrrrrr  3 487336605         move    #FRetrieveSongInfo,r0
P:08EC 0BF080 rrrrrr  6 487936606         jsr     SysCallFunction
                            36607 
                            36608 ; 1769 |#endif
                            36609 ; 1770 |                        DisplayHint.I |= MUSIC_MENU_DISPLAY_NEW_TRACK;//update everything
                            36610 
P:08EE 77F400 FFFFFB  3 488236612         move    #-5,n7
P:08F0 000000         2 488436613         nop
P:08F1 5DEF00         4 488836614         move    y:(r7+n7),b1
P:08F2 46F400 079700  3 489136615         move    #$79700,y0
P:08F4 20005A         2 489336616         or      y0,b
                            36617 
                            36618 ; 1771 |                        PSM_ResetScrollInfo();
                            36619 
                            36621 L500:
P:08F5 5D6F00         4 489736623         move    b1,y:(r7+n7)
P:08F6 0BF080 rrrrrr  6 490336625         jsr     FPSM_ResetScrollInfo
                            36626 
                            36627 ; 1772 |                        break;
                            36628 
P:08F8 0AF080 rrrrrr  6 490936630         jmp     L534
                            36631 
                            36632 ; 1773 |
                            36633 ; 1774 |#ifdef MMC
                            36634 ; 1775 |                case MENU_MSG_MEDIA_OVER_CUR:
                            36635 ; 1776 |#ifdef USE_PLAYLIST5
                            36636 ; 1777 |                        PlayerLib_SetState (DECODER_STATE_STOP,TRUE,NULL);
                            36637 ; 1778 |                        SysWaitOnEvent(0,0,0);
                            36638 ; 1779 |#endif                  
                            36639 ; 1780 |
                            36640 ; 1781 |                        SysPostMessage(6,LCD_CLEAR_RANGE,0,0,LCD_SIZE_X,LCD_SIZE_Y);
                            36641 
P:08FA 270000         2 491136643 L501:   move    #0,y1
P:08FB 200013         2 491336644         clr     a   
P:08FC 294000         2 491536645         move    #$40,b0
P:08FD 595F00         2 491736646         move    b0,y:(r7)+
P:08FE 298000         2 491936648         move    #$80,b0
P:08FF 595F00         2 492136649         move    b0,y:(r7)+
P:0900 5C5F00         2 492336651         move    a1,y:(r7)+
P:0901 4F5F00         2 492536653         move    y1,y:(r7)+
P:0902 260300         2 492736655         move    #<3,y0
P:0903 4E5F00         2 492936656         move    y0,y:(r7)+
P:0904 290600         2 493136658         move    #6,b0
P:0905 595F00         2 493336659         move    b0,y:(r7)+
P:0906 0BF080 rrrrrr  6 493936661         jsr     FSysPostMessage
P:0908 3F0600         2 494136662         move    #6,n7
P:0909 000000         2 494336663         nop
P:090A 204700         2 494536664         move    (r7)-n7
                            36666 
                            36667 ; 1782 |                        SysPostMessage(5,LCD_PRINT_RANGE_RSRC,WARNING_MSG_LINE1_X,WARNING_MSG_LINE1_Y,RSRC_LOW_PWR_EXT_DEV_LINE1);
                            36668 
P:090B 200013         2 494736670         clr     a   
P:090C 46F400 030001  3 495036671         move    #$30001,y0
P:090E 2D0500         2 495236672         move    #5,b1
P:090F 51F400 00026E  3 495536673         move    #622,b0
P:0911 595F00         2 495736674         move    b0,y:(r7)+
P:0912 291000         2 495936676         move    #16,b0
P:0913 595F00         2 496136677         move    b0,y:(r7)+
P:0914 5C5F00         2 496336679         move    a1,y:(r7)+
P:0915 4E5F00         2 496536681         move    y0,y:(r7)+
P:0916 5D5F00         2 496736683         move    b1,y:(r7)+
P:0917 0BF080 rrrrrr  6 497336685         jsr     FSysPostMessage
P:0919 3F0500         2 497536686         move    #5,n7
P:091A 000000         2 497736687         nop
P:091B 204700         2 497936688         move    (r7)-n7
                            36690 
                            36691 ; 1783 |                        SysPostMessage(5,LCD_PRINT_RANGE_RSRC,WARNING_MSG_LINE2_X,WARNING_MSG_LINE2_Y,RSRC_LOW_PWR_EXT_DEV_LINE2);
                            36692 
P:091C 200013         2 498136694         clr     a   
P:091D 57F400 00026F  3 498436695         move    #623,b
P:091F 5F5F00         2 498636696         move    b,y:(r7)+
P:0920 291800         2 498836698         move    #24,b0
P:0921 595F00         2 499036699         move    b0,y:(r7)+
P:0922 5C5F00         2 499236701         move    a1,y:(r7)+
P:0923 54F400 030001  3 499536703         move    #$30001,a1
P:0925 5C5F00         2 499736704         move    a1,y:(r7)+
P:0926 290500         2 499936706         move    #5,b0
P:0927 595F00         2 500136707         move    b0,y:(r7)+
P:0928 0BF080 rrrrrr  6 500736709         jsr     FSysPostMessage
P:092A 3F0500         2 500936710         move    #5,n7
P:092B 000000         2 501136711         nop
P:092C 204700         2 501336712         move    (r7)-n7
                            36714 
                            36715 ; 1784 |
                            36716 ; 1785 |                        SysWaitOnEvent(0,0,2000);  // Show for 2 second
                            36717 
P:092D 300000         2 501536719         move    #0,r0
P:092E 200013         2 501736720         clr     a   
P:092F 57F400 0007D0  3 502036721         move    #2000,b
P:0931 0BF080 rrrrrr  6 502636722         jsr     SysWaitOnEvent
                            36723 
                            36724 ; 1786 |
                            36725 ; 1787 |                        ExitPlayerStateMachine(0,0,0);
                            36726 
P:0933 200013         2 502836728         clr     a   
P:0934 3C0000         2 503036729         move    #0,n4
P:0935 20001B         2 503236730         clr     b   
P:0936 239000         2 503436731         move    n4,r0
P:0937 0BF080 rrrrrr  6 504036732         jsr     FExitPlayerStateMachine
                            36733 
                            36734 ; 1788 |                        //PlayerLib_SetState (DECODER_STATE_STOP,TRUE,NULL);
                            36735 ; 1789 |
                            36736 ; 1790 |                        // Parser device enumerate
                            36737 ; 1791 |                        //g_iPlayerState = DECODER_STOPPED;
                            36738 ; 1792 |                        g_iSeeking = FALSE;
                            36739 
P:0939 200013         2 504236741         clr     a   
P:093A 547000 rrrrrr  3 504536742         move    a1,x:Fg_iSeeking
                            36743 
                            36744 ; 1793 |                        SysCallFunction(RSRC_PLAYLIST_CODEBANK,Playlist_Initialize,0,0,0);
                            36745 
P:093C 200009         2 504736747         tfr     a,b 
P:093D 240000         2 504936748         move    #0,x0
P:093E 60F400 rrrrrr  3 505236749         move    #FPlaylist_Initialize,r0
P:0940 340000         2 505436750         move    #0,r4
P:0941 56F400 000058  3 505736751         move    #>88,a
P:0943 0BF080 rrrrrr  6 506336752         jsr     SysCallFunction
                            36753 
                            36754 ; 1794 |#ifndef USE_PLAYLIST3
                            36755 ; 1795 |#ifdef USE_PLAYLIST5
                            36756 ; 1796 |                        while((g_PL5_PL_queue.head == g_PL5_PL_queue.tail) && (!g_PL5_Playback.foundall))
                            36757 ; 1797 |                        {
                            36758 ; 1798 |                                SysWaitOnEvent(0,0,50);
                            36759 ; 1799 |                        }
                            36760 ; 1800 |                        DisplayHint.I |= 1<<DISPLAY_SONGTITLE_BITPOS;
                            36761 ; 1801 |                        DisplayHint.I |= 1<<DISPLAY_SONGARTISTALBUM_BITPOS;
                            36762 ; 1802 |#endif
                            36763 ; 1803 |                        SysCallFunction(RSRC_PLAYERLIB_EXTRA_CODE_BANK,PlayerLib_GetCurrentSong,0,0,0);
                            36764 ; 1804 |#endif // #ifndef USE_PLAYLIST3
                            36765 ; 1805 |
                            36766 ; 1806 |#ifndef USE_PLAYLIST5
                            36767 ; 1807 |                        if(!g_wTotalSongCount)
                            36768 
P:0945 5FF000 rrrrrr  3 506636770         move    y:Fg_wTotalSongCount,b
P:0947 2B0000         2 506836771         move    #0,b2
P:0948 20000B         2 507036772         tst     b
P:0949 0AF0A2 rrrrrr  6 507636773         jne     L502
                            36774 
                            36775 ; 1808 |                        {   g_wCurrentSongNumber = 0;
                            36776 
P:094B 20001B         2 507836778         clr     b   
P:094C 5D7000 rrrrrr  3 508136779         move    b1,y:Fg_wCurrentSongNumber
                            36780 
                            36781 ; 1809 |                        //force reset of current song number else old value used
                            36782 ; 1810 |                        }
                            36783 ; 1811 |#endif                  
                            36784 ; 1812 |                        PSM_ResetScrollInfo();
                            36785 
P:094E 0BF080 rrrrrr  6 508736787 L502:   jsr     FPSM_ResetScrollInfo
                            36788 
                            36789 ; 1813 |                        DecoderForceInit();
                            36790 
P:0950 0BF080 rrrrrr  6 509336792         jsr     DecoderForceInit
                            36793 
                            36794 ; 1814 |                        SysPostMessage(2,DECODER_RESET);
                            36795 
P:0952 20001B         2 509536797         clr     b   
P:0953 5D5F00         2 509736798         move    b1,y:(r7)+
P:0954 290200         2 509936800         move    #2,b0
P:0955 595F00         2 510136801         move    b0,y:(r7)+
P:0956 0BF080 rrrrrr  6 510736803         jsr     FSysPostMessage
P:0958 205700         2 510936804         move    (r7)-
P:0959 205700         2 511136806         move    (r7)-
                            36808 
                            36809 ; 1815 |                        DisplayHint.I |= 0xffffff;//update everything
                            36810 
P:095A 77F400 FFFFFB  3 511436812         move    #-5,n7
P:095C 000000         2 511636813         nop
P:095D 5FEF00         4 512036814         move    y:(r7+n7),b
P:095E 45F400 FFFFFF  3 512336815         move    #$FFFFFF,x1
P:0960 20006A         2 512536816         or      x1,b
P:0961 5D6F00         4 512936817         move    b1,y:(r7+n7)
                            36818 
                            36819 ; 1816 |                        break;
                            36820 ; 1817 |#endif
                            36821 ; 1818 |#ifdef AUDIBLE
                            36822 ; 1819 |                case MENU_SET_SONG_POSITION:
                            36823 ; 1820 |                        if( g_bAllowAudibleSave && g_AudibleFlags.bits.IsAudibleFile ) {
                            36824 ; 1821 |                                SysCallFunction(RSRC_AUDIBLE_SONG_POSITION_P, AudibleSetFilePosition, (INT)(&g_CurrentSongName), (BYTE)g_wCurrentDirDevId, 0);
                            36825 ; 1822 |                                g_bAllowAudibleSave = FALSE;
                            36826 ; 1823 |                        }
                            36827 ; 1824 |                        break;
                            36828 ; 1825 |                case MENU_UPDATE_CHAPTER_INFO:
                            36829 ; 1826 |
                            36830 ; 1827 |                        pChapterInfo = (UCS3 *)g_wSongAlbum;
                            36831 ; 1828 |
                            36832 ; 1829 |                        // Null terminate string
                            36833 ; 1830 |                        *pChapterInfo = '\0';
                            36834 ; 1831 |
                            36835 ; 1832 |                        // pChapter --> Chapter:
                            36836 ; 1833 |                        strcat(pChapterInfo,"Chapter:");
                            36837 ; 1834 |                        pChapterInfo += strlen(pChapterInfo);
                            36838 ; 1835 |
                            36839 ; 1836 |                        // pChapterInfo --> Chapter:g_bAudibleCurrentChapterNum
                            36840 ; 1837 |                        _itoa((char *)pChapterInfo, g_bAudibleCurrentChapterNum, 10);
                            36841 ; 1838 |
                            36842 ; 1839 |                        // pChapterInfo --> Chapter:g_bAudibleCurrentChapterNum/
                            36843 ; 1840 |                        pChapterInfo += strlen(pChapterInfo);
                            36844 ; 1841 |                        *pChapterInfo = '/';
                            36845 ; 1842 |                        pChapterInfo++;
                            36846 ; 1843 |
                            36847 ; 1844 |                        // pChapterInfo --> Chapter:g_bAudibleCurrentChapterNum/g_bAudibleTotalChapterCount
                            36848 ; 1845 |                        _itoa((char *)pChapterInfo, g_bAudibleTotalChapterCount, 10);
                            36849 ; 1846 |
                            36850 ; 1847 |            DisplayHint.I |= MUSIC_MENU_DISPLAY_NEW_TRACK;//update everything
                            36851 ; 1848 |#ifdef JPEG_ALBUM_ART
                            36852 ; 1849 |            // Follow would cause the screen flashes
                            36853 ; 1850 |            DisplayHint.I &= ~(1<<DISPLAY_ALBUMART_BITPOS);
                            36854 ; 1851 |#endif
                            36855 ; 1852 |                        break;
                            36856 ; 1853 |                case MENU_USB_CONNECTED:
                            36857 ; 1854 |                        PlayerLib_SetState (DECODER_STATE_STOP,TRUE,NULL);
                            36858 ; 1855 |                        //Allow the decoder to stop before continuing
                            36859 ; 1856 |                        SysWaitOnEvent(0,0,0);
                            36860 ; 1857 |                        SysCallFunction(RSRC_AUDIBLE_SONG_POSITION_P, AudibleSetFilePosition, (INT)(&g_CurrentSongName), (BYTE)g_wCurrentDirDevId, 0);
                            36861 ; 1858 |                        UsbConnected();
                            36862 ; 1859 |                        break;
                            36863 ; 1860 |#endif
                            36864 ; 1861 |#ifdef JPEG_ALBUM_ART
                            36865 ; 1862 |                case MENU_MSG_APIC_UPDATE:
                            36866 ; 1863 |                        // Not handled by high level event handler, start to play
                            36867 ; 1864 |                        PlayerLib_SetState(DECODER_STATE_PLAY, TRUE, NULL);
                            36868 ; 1865 |                        break;
                            36869 ; 1866 |#endif
                            36870 ; 1867 |                }
                            36871 ; 1868 |                break;
                            36872 ; 1869 |        }
                            36873 ; 1870 |#ifdef USE_PLAYLIST3
                            36874 ; 1871 |        if ((bFavoritesUpdate) && (g_wDecoderSR & DECODER_STOPPED) && (g_ML_save_on_exit == 1)) {
                            36875 
P:0962 5FF000 rrrrrr  3 513236877 L534:   move    y:FbFavoritesUpdate,b
P:0964 2B0000         2 513436878         move    #0,b2
P:0965 20000B         2 513636879         tst     b
P:0966 0AF0AA rrrrrr  6 514236880         jeq     L537
P:0968 55F000 rrrrrr  3 514536881         move    x:Fg_wDecoderSR,b1
P:096A 46F400 000040  3 514836882         move    #>$40,y0
P:096C 20005E         2 515036883         and     y0,b
P:096D 21AF00         2 515236884         move    b1,b
P:096E 2B0000         2 515436885         move    #0,b2
P:096F 20000B         2 515636886         tst     b
P:0970 0AF0AA rrrrrr  6 516236887         jeq     L537
P:0972 5FF000 rrrrrr  3 516536888         move    y:Fg_ML_save_on_exit,b
P:0974 47F400 000001  3 516836889         move    #>1,y1
P:0976 20007D         2 517036890         cmp     y1,b
P:0977 0AF0A2 rrrrrr  6 517636891         jne     L537
                            36892 
                            36893 ; 1872 |                SysCallFunction(RSRC_MAIN_MENU_CODE_BANK, ML_building_engine_init,0,0,0);
                            36894 
P:0979 20001B         2 517836896         clr     b   
P:097A 200013         2 518036897         clr     a   
P:097B 219400         2 518236898         move    a1,r4
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page 142

M:ADDR CODE           CYCLES LINE SOURCELINE
P:097C 240000         2 518436899         move    #0,x0
P:097D 60F400 rrrrrr  3 518736900         move    #FML_building_engine_init,r0
P:097F 56F400 000078  3 519036901         move    #>$78,a
P:0981 0BF080 rrrrrr  6 519636902         jsr     SysCallFunction
                            36903 
                            36904 ; 1873 |                SysLoadFATWrite();
                            36905 
P:0983 0BF080 rrrrrr  6 520236907         jsr     SysLoadFATWrite
                            36908 
                            36909 ; 1874 |                ML_SaveOnTheGo();
                            36910 
P:0985 0BF080 rrrrrr  6 520836912         jsr     FML_SaveOnTheGo
                            36913 
                            36914 ; 1875 |                SysUnLoadFATWrite();
                            36915 
P:0987 0BF080 rrrrrr  6 521436917         jsr     SysUnLoadFATWrite
                            36918 
                            36919 ; 1876 |                SysCallFunction(RSRC_PLAY_STATE_MACHINE_CODE_BANK, ML_browsing_app_init,0,0,0);
                            36920 
P:0989 20001B         2 521636922         clr     b   
P:098A 240000         2 521836923         move    #0,x0
P:098B 340000         2 522036924         move    #0,r4
P:098C 60F400 rrrrrr  3 522336925         move    #FML_browsing_app_init,r0
P:098E 56F400 000011  3 522636926         move    #>17,a
P:0990 0BF080 rrrrrr  6 523236927         jsr     SysCallFunction
                            36928 
                            36929 ; 1877 |                bFavoritesUpdate = FALSE;
                            36930 
P:0992 270000         2 523436932         move    #0,y1
P:0993 4F7000 rrrrrr  3 523736933         move    y1,y:FbFavoritesUpdate
                            36934 
                            36935 ; 1878 |        }
                            36936 ; 1879 |#endif
                            36937 ; 1880 |
                            36938 ; 1881 |#ifdef USE_PLAYLIST5
                            36939 ; 1882 |        if(!g_PL5_Playback.foundall)
                            36940 ; 1883 |        {
                            36941 ; 1884 |                DisplayHint.I |= 1<<DISPLAY_CURRENTTRACK_BITPOS;
                            36942 ; 1885 |                DisplayHint.I |= 1<<DISPLAY_SONGARTISTALBUM_BITPOS;
                            36943 ; 1886 |                g_bLastDisplaySongCnt = TRUE;
                            36944 ; 1887 |        }
                            36945 ; 1888 |        else if(g_bLastDisplaySongCnt == TRUE)
                            36946 ; 1889 |        {
                            36947 ; 1890 |                DisplayHint.I |= 1<<DISPLAY_CURRENTTRACK_BITPOS;
                            36948 ; 1891 |                DisplayHint.I |= 1<<DISPLAY_SONGARTISTALBUM_BITPOS;
                            36949 ; 1892 |                g_bLastDisplaySongCnt = FALSE;
                            36950 ; 1893 |        }
                            36951 ; 1894 |
                            36952 ; 1895 |
                            36953 ; 1896 |#ifdef JPEG_ALBUM_ART
                            36954 ; 1897 |        g_ReturnValueForPlayerstatemachine = DisplayHint.I;
                            36955 ; 1898 |#endif
                            36956 ; 1899 |#endif
                            36957 ; 1900 |
                            36958 ; 1901 |        return DisplayHint.I;
                            36959 
P:0995 77F400 FFFFFB  3 524036961 L537:   move    #-5,n7
P:0997 000000         2 524236962         nop
P:0998 5EEF00         4 524636963         move    y:(r7+n7),a
P:0999 218E00         2 524836964         move    a1,a
                            36965 
                            36966 ; 1902 |}
                            36967 
P:099A 77F400 FFFFF8  3 525136969         move    #-8,n7
P:099C 000000         2 525336970         nop
P:099D 05EF7C         4 525736971         movec   y:(r7+n7),ssh
P:099E 204F00         2 525936973         move    (r7)+n7
P:099F 00000C         4 526336975         rts
                            36977 
                            36978 ; 1903 |
                            36979 ; 1904 |////////////////////////////////////////////////////////////////////////////////
                            36980 ; 1905 |//
                            36981 ; 1906 |//>  Name:          _reentrant int PSM_GetABMode(void)
                            36982 ; 1907 |//
                            36983 ; 1908 |//   Type:          Function
                            36984 ; 1909 |//
                            36985 ; 1910 |//   Description:   Returns state of AB mode using decoder status register
                            36986 ; 1911 |//
                            36987 ; 1912 |//   Inputs:        none
                            36988 ; 1913 |//
                            36989 ; 1914 |//   Outputs:       AB status - A set, B set, nothing set
                            36990 ; 1915 |//
                            36991 ; 1916 |//   Notes:         none
                            36992 ; 1917 |//<
                            36993 ; 1918 |////////////////////////////////////////////////////////////////////////////////
                            36994 ; 1919 |_reentrant int PSM_GetABMode(void)
                            36995 ; 1920 |{
                            36996 
                            37001 FPSM_GetABMode:
                            37004 
                            37005 ; 1921 |        int rtn;
                            37006 ; 1922 |        if (g_wDecoderCSR & DECODER_B_SET)
                            37007 
P:09A0 55F000 rrrrrr  3 526637009         move    x:Fg_wDecoderCSR,b1
P:09A2 21AE00         2 526837010         move    b1,a
P:09A3 260800         2 527037011         move    #<8,y0
P:09A4 200056         2 527237012         and     y0,a
P:09A5 2A0000         2 527437013         move    #0,a2
P:09A6 200003         2 527637014         tst     a
                            37015 
                            37016 ; 1923 |                rtn = DECODER_B_SET;
                            37017 
P:09A7 0AF0A2 rrrrrr  6 528237019         jne     L547
                            37020 
                            37021 ; 1924 |        else if (g_wDecoderCSR & DECODER_A_SET)
                            37022 
P:09A9 260400         2 528437024         move    #<4,y0
P:09AA 20005E         2 528637025         and     y0,b
P:09AB 21AF00         2 528837026         move    b1,b
P:09AC 2B0000         2 529037027         move    #0,b2
P:09AD 20000B         2 529237028         tst     b
P:09AE 0AF0A2 rrrrrr  6 529837029         jne     L546
                            37030 
                            37031 ; 1925 |                rtn = DECODER_A_SET;
                            37032 ; 1926 |        else
                            37033 ; 1927 |                return 0;
                            37034 
P:09B0 200013         2 530037036         clr     a   
P:09B1 00000C         4 530437038         rts
                            37039 L546:
                            37040 L547:
P:09B2 200051         2 530637042         tfr     y0,a
                            37044 
                            37045 ; 1928 |        return rtn;
                            37046 ; 1929 |}
                            37047 
P:09B3 00000C         4 531037049         rts
                            37052 
                            37053 ; 1930 |
                            37054 ; 1931 |_reentrant void PSM_ResetScrollInfo(void)
                            37055 ; 1932 |{
                            37056 
                            37061 FPSM_ResetScrollInfo:
P:09B4 055F7C         2 531237062         movec   ssh,y:(r7)+
                            37065 
                            37066 ; 1933 |        g_bSongStringScroll=FALSE;
                            37067 
P:09B5 20001B         2 531437069         clr     b   
P:09B6 557000 rrrrrr  3 531737070         move    b1,x:Fg_bSongStringScroll
                            37071 
                            37072 ; 1934 |        g_iSongStringOffset=0;
                            37073 
P:09B8 557000 rrrrrr  3 532037075         move    b1,x:Fg_iSongStringOffset
                            37076 
                            37077 ; 1935 |
                            37078 ; 1936 |        g_bArtistStringScroll=FALSE;
                            37079 
P:09BA 557000 rrrrrr  3 532337081         move    b1,x:Fg_bArtistStringScroll
                            37082 
                            37083 ; 1937 |        g_iArtistStringOffset=0;
                            37084 
P:09BC 557000 rrrrrr  3 532637086         move    b1,x:Fg_iArtistStringOffset
                            37087 
                            37088 ; 1938 |
                            37089 ; 1939 |        g_bAlbumStringScroll=FALSE;
                            37090 
P:09BE 557000 rrrrrr  3 532937092         move    b1,x:Fg_bAlbumStringScroll
                            37093 
                            37094 ; 1940 |        g_iAlbumStringOffset=0;
                            37095 
P:09C0 557000 rrrrrr  3 533237097         move    b1,x:Fg_iAlbumStringOffset
                            37098 
                            37099 ; 1941 |
                            37100 ; 1942 |
                            37101 ; 1943 |        g_iSongStringLength  =GetTextWidthAddressUnicode(g_wSongTitle);
                            37102 
P:09C2 60F400 rrrrrr  3 533537104         move    #Fg_wSongTitle,r0
P:09C4 0BF080 rrrrrr  6 534137105         jsr     FGetTextWidthAddressUnicode
P:09C6 567000 rrrrrr  3 534437106         move    a,x:Fg_iSongStringLength
                            37107 
                            37108 ; 1944 |        g_iArtistStringLength=GetTextWidthAddressUnicode(g_wSongArtist);
                            37109 
P:09C8 60F400 rrrrrr  3 534737111         move    #Fg_wSongArtist,r0
P:09CA 0BF080 rrrrrr  6 535337112         jsr     FGetTextWidthAddressUnicode
P:09CC 567000 rrrrrr  3 535637113         move    a,x:Fg_iArtistStringLength
                            37114 
                            37115 ; 1945 |        g_iAlbumStringLength =GetTextWidthAddressUnicode(g_wSongAlbum);
                            37116 
P:09CE 60F400 rrrrrr  3 535937118         move    #Fg_wSongAlbum,r0
P:09D0 0BF080 rrrrrr  6 536537119         jsr     FGetTextWidthAddressUnicode
P:09D2 567000 rrrrrr  3 536837120         move    a,x:Fg_iAlbumStringLength
                            37121 
                            37122 ; 1946 |
                            37123 ; 1947 |        if(g_iSongStringLength>LCD_SIZE_X)
                            37124 
P:09D4 57F000 rrrrrr  3 537137126         move    x:Fg_iSongStringLength,b
P:09D6 46F400 000080  3 537437127         move    #>$80,y0
P:09D8 20005D         2 537637128         cmp     y0,b
P:09D9 0AF0AF rrrrrr  6 538237129         jle     L549
                            37130 
                            37131 ; 1948 |        {
                            37132 ; 1949 |                g_bSongStringScroll = TRUE;
                            37133 
P:09DB 44F400 000001  3 538537135         move    #>1,x0
P:09DD 447000 rrrrrr  3 538837136         move    x0,x:Fg_bSongStringScroll
                            37137 
                            37138 ; 1950 |                g_iSongStringOffset=-20;
                            37139 
P:09DF 55F400 FFFFEC  3 539137141         move    #-20,b1
P:09E1 557000 rrrrrr  3 539437142         move    b1,x:Fg_iSongStringOffset
                            37143 
                            37144 ; 1951 |        }
                            37145 ; 1952 |
                            37146 ; 1953 |        if(g_iArtistStringLength>LCD_SIZE_X)
                            37147 
P:09E3 57F000 rrrrrr  3 539737149 L549:   move    x:Fg_iArtistStringLength,b
P:09E5 20005D         2 539937150         cmp     y0,b
P:09E6 0AF0AF rrrrrr  6 540537151         jle     L550
                            37152 
                            37153 ; 1954 |        {
                            37154 ; 1955 |                g_bArtistStringScroll = TRUE;
                            37155 
P:09E8 47F400 000001  3 540837157         move    #>1,y1
P:09EA 477000 rrrrrr  3 541137158         move    y1,x:Fg_bArtistStringScroll
                            37159 
                            37160 ; 1956 |                g_iArtistStringOffset= -20;
                            37161 
P:09EC 45F400 FFFFEC  3 541437163         move    #>-20,x1
P:09EE 457000 rrrrrr  3 541737164         move    x1,x:Fg_iArtistStringOffset
                            37165 
                            37166 ; 1957 |        }
                            37167 ; 1958 |
                            37168 ; 1959 |        if(g_iAlbumStringLength>LCD_SIZE_X)
                            37169 
P:09F0 200055         2 541937171 L550:   cmp     y0,a
P:09F1 0AF0AF rrrrrr  6 542537172         jle     L551
                            37173 
                            37174 ; 1960 |        {
                            37175 ; 1961 |                g_bAlbumStringScroll = TRUE;
                            37176 
P:09F3 2D0100         2 542737178         move    #1,b1
P:09F4 557000 rrrrrr  3 543037179         move    b1,x:Fg_bAlbumStringScroll
                            37180 
                            37181 ; 1962 |                g_iAlbumStringOffset= -20;
                            37182 
P:09F6 54F400 FFFFEC  3 543337184         move    #-20,a1
P:09F8 547000 rrrrrr  3 543637185         move    a1,x:Fg_iAlbumStringOffset
                            37186 
                            37187 ; 1963 |        }
                            37188 
                            37190 L551:
                            37191 
                            37192 ; 1964 |
                            37193 ; 1965 |        // also uncomment #define in musicmenu.c
                            37194 ; 1966 |        //#define DISPLAY_LONG_DIRECTORY_NAME 1
                            37195 ; 1967 |#ifdef DISPLAY_LONG_DIRECTORY_NAME
                            37196 ; 1968 |        // Clear previous display.  stmp7096 fix
                            37197 ; 1969 |        SysPostMessage(6, LCD_CLEAR_RANGE, 0, (SONG_TITLE_Y_POS - 8), SCREEN_WIDTH, 8);
                            37198 ; 1970 |#endif
                            37199 ; 1971 |
                            37200 ; 1972 |}
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page 143

M:ADDR CODE           CYCLES LINE SOURCELINE
                            37201 
P:09FA 05FF7C         4 544037203         movec   y:-(r7),ssh
P:09FB 000000         2 544237206         nop
P:09FC 00000C         4 544637207         rts
                            37209 
                            37210 ; 1973 |
                            37211 ; 1974 |#ifdef AUDIBLE
                            37212 ; 1975 |///////////////////////////////////////////////////////////////////////////
                            37213 ; 1976 |//  FILE        :  _itoa.c
                            37214 ; 1977 |//
                            37215 ; 1978 |//  DESCRIPTION :  Source file for _itoa() routine
                            37216 ; 1979 |//                 This routine converts the given integer to an ascii
                            37217 ; 1980 |//                 string (buffer must be given as an argument).
                            37218 ; 1981 |//                 This routine was formerly used by _doprint() routines.
                            37219 ; 1982 |//
                            37220 ; 1983 |//  Copyright 1996-2002 Altium BV
                            37221 ; 1984 |//
                            37222 ; 1985 |///////////////////////////////////////////////////////////////////////////
                            37223 ; 1986 |char * _itoa( char *p, unsigned int num, unsigned char radix ) {
                            37224 ; 1987 |
                            37225 ; 1988 |        register unsigned int   digit;
                            37226 ; 1989 |        register unsigned int   newnum;
                            37227 ; 1990 |        register char *         q;
                            37228 ; 1991 |        register char *         hold;   /* Remember address of destination buffer */
                            37229 ; 1992 |
                            37230 ; 1993 |        hold = p;
                            37231 ; 1994 |
                            37232 ; 1995 |        q = p + INT_DIGITS - 1 + 2;
                            37233 ; 1996 |
                            37234 ; 1997 |        *--q = '\0';    /* be sure to terminate the string with a NULL character        */
                            37235 ; 1998 |
                            37236 ; 1999 |        do {
                            37237 ; 2000 |                newnum = num / radix;
                            37238 ; 2001 |                digit = num - (newnum * radix); /* avoid modulo operation */
                            37239 ; 2002 |                if ( digit > 9 )
                            37240 ; 2003 |                        digit += 'A'-'0'-10;    /* Convert to hex A-F */
                            37241 ; 2004 |                *--q = digit + '0';
                            37242 ; 2005 |                num = newnum;
                            37243 ; 2006 |        } while ( newnum != 0 );
                            37244 ; 2007 |
                            37245 ; 2008 |        while ( (*p++ = *q++) );    /* move the string to the left, including the NULL character    */
                            37246 ; 2009 |
                            37247 ; 2010 |        return hold;
                            37248 ; 2011 |
                            37249 ; 2012 |}
                            37250 ; 2013 |#endif
                            37251 ; 2014 |
                            37252 ; 2015 |#pragma asm
Y:0000                      37257     org y,"Player_settings_Y":
                            37258     extern y:Fg_iUserVolume
                            37259 
                            37260     SaveRange Fg_iUserVolume,1
                            37260 
                            37260 
Y:0000 rrrrrr               37260     dc      $400000|Fg_iUserVolume
                            37260 
                            37260 
                            37260 
                            37260 
Y:0001 000003               37260     dc      1*3
                            37261 
                            37262 ; 2025 |#pragma endasm
                            37263 
                            37367 
                            37368         extern  DecGetCurrentTime, DecoderForceInit, SysCallFunction
                            37369         extern  SysGetCurrentTime, SysLoadFATWrite, SysUnLoadFATWrite
                            37370         extern  SysWaitOnEvent, strcpy, FBatteryChargeStateMachine
                            37371         extern  FComputefreeluster, y:FDirPath, FDriveInit
                            37372         extern  FFSClearDriveBuf, FFSDriveInit, FGetRelativePath
                            37373         extern  FGetTextWidthAddressUnicode, y:FIsPlayOnTheGo
                            37374         extern  FIsSystemDriveDirty, y:FJanusDRMLicExpired
                            37375         extern  FLyricsSetTimer, FML_SaveOnTheGo, FML_building_engine_init
                            37376         extern  FMediaInit, FNextEQ, FNextPlayMode, FPlayerLib_FastForward
                            37377         extern  FPlayerLib_GetBookmarkSongInfo
                            37378         extern  FPlayerLib_GetCurrentSong_ML, FPlayerLib_Rewind
                            37379         extern  FPlayerLib_SetState, FPlayerLib_SkipToNextSong
                            37380         extern  FPlayerLib_SkipToPreviousSong, FPlaylist_Initialize
                            37381         extern  FRefreshDisplay, FRefreshSystemDriveErrorBlock
                            37382         extern  FRetrieveSongInfo, FShutdownMenu, FSplashScreen
                            37383         extern  FSysPostMessage, FSysUpdateVolume
                            37384         extern  FUpdateAutoShutdownTimer, y:FbFavoritesUpdate
                            37385         extern  y:FbPlayVoice, y:Fg_FSinitErrorCode, y:Fg_ML_save_on_exit
                            37386         extern  y:Fg_Rebuild, x:Fg_bAlbumStringScroll
                            37387         extern  x:Fg_bArtistStringScroll, x:Fg_bSongStringScroll
                            37388         extern  y:Fg_current_index, y:Fg_current_size
                            37389         extern  x:Fg_iAlbumStringLength, x:Fg_iAlbumStringOffset
                            37390         extern  x:Fg_iArtistStringLength, x:Fg_iArtistStringOffset
                            37391         extern  y:Fg_iBrowseTotalNum, y:Fg_iCurrentMenu, y:Fg_iPlaySet
                            37392         extern  x:Fg_iPlayerState, y:Fg_iPlaylistRepeat
                            37393         extern  y:Fg_iShuffleSetting, x:Fg_iSongStringLength
                            37394         extern  x:Fg_iSongStringOffset, y:Fg_iUserVolume
                            37395         extern  y:Fg_wAdpcmSecondstoSkip, y:Fg_wCurrentSongNumber
                            37396         extern  x:Fg_wDecoderCSR, x:Fg_wDecoderSR, y:Fg_wNumMedia
                            37397         extern  y:Fg_wSecondsToSkip, y:Fg_wSongAlbum, y:Fg_wSongArtist
                            37398         extern  y:Fg_wSongTitle, y:Fg_wTotalSongCount, y:Fmaxcaches
                            37399         extern  y:Fmaxhandles, y:FplayMode
                            37400 
                            37401         global  FCheckDecoderInit, FExitPlayerStateMachine
                            37402         global  FHandlePlayerStateMachine, FInitPlayerStateMachine
                            37403         global  FML_browsing_app_init, FPSM_GetABMode
                            37404         global  FPSM_ResetScrollInfo, FQuickSwitchSong, FbResume
                            37405         global  FbSystemInit, Fg_Loading_displayed, Fg_iAB_Control_Mode
                            37406         global  Fg_iSeeking, Fg_iVolume_Control_Mode, Fg_is_SD_inserted
                            37407 
                            37408         local   Fg_bRewoundToBeginning, Fholdcount, Fstc_iPressHoldCount
                            37409         local   Fstc_lTimeABWasLastPressed, L3, L4, L7, L8, L9, L11, L12
                            37410         local   L15, L16, L17, L379, L382, L383, L384, L385, L387, L388
                            37411         local   L389, L390, L391, L392, L393, L394, L396, L397, L398, L399
                            37412         local   L400, L401, L402, L403, L404, L406, L407, L408, L411, L413
                            37413         local   L414, L415, L417, L418, L419, L420, L421, L429, L431, L433
                            37414         local   L435, L436, L437, L438, L440, L441, L442, L443, L444, L446
                            37415         local   L447, L448, L449, L451, L452, L454, L455, L456, L458, L459
                            37416         local   L460, L461, L462, L463, L464, L465, L466, L467, L468, L469
                            37417         local   L470, L471, L474, L475, L476, L477, L478, L479, L480, L483
                            37418         local   L485, L486, L487, L488, L489, L490, L491, L492, L493, L494
                            37419         local   L495, L496, L497, L498, L499, L500, L501, L502, L534, L537
                            37420         local   L538, L539, L546, L547, L549, L550, L551
                            37421 
                            37422         calls   "CheckDecoderInit", "DecoderForceInit", "SysPostMessage"
                            37423         calls   "ExitPlayerStateMachine", "PlayerLib_SetState"
                            37424         calls   "ExitPlayerStateMachine", "SysWaitOnEvent"
                            37425         calls   "HandlePlayerStateMachine", "Computefreeluster"
                            37426         calls   "HandlePlayerStateMachine", "DecGetCurrentTime"
                            37427         calls   "HandlePlayerStateMachine", "DecoderForceInit", "DriveInit"
                            37428         calls   "HandlePlayerStateMachine", "ExitPlayerStateMachine"
                            37429         calls   "HandlePlayerStateMachine", "FSClearDriveBuf"
                            37430         calls   "HandlePlayerStateMachine", "FSDriveInit"
                            37431         calls   "HandlePlayerStateMachine", "IsSystemDriveDirty"
                            37432         calls   "HandlePlayerStateMachine", "LyricsSetTimer"
                            37433         calls   "HandlePlayerStateMachine", "ML_SaveOnTheGo"
                            37434         calls   "HandlePlayerStateMachine", "ML_browsing_app_init"
                            37435         calls   "HandlePlayerStateMachine", "MediaInit", "PSM_GetABMode"
                            37436         calls   "HandlePlayerStateMachine", "PSM_ResetScrollInfo"
                            37437         calls   "HandlePlayerStateMachine", "PlayerLib_FastForward"
                            37438         calls   "HandlePlayerStateMachine", "PlayerLib_Rewind"
                            37439         calls   "HandlePlayerStateMachine", "PlayerLib_SetState"
                            37440         calls   "HandlePlayerStateMachine", "PlayerLib_SkipToNextSong"
                            37441         calls   "HandlePlayerStateMachine", "PlayerLib_SkipToPreviousSong"
                            37442         calls   "HandlePlayerStateMachine", "QuickSwitchSong"
                            37443         calls   "HandlePlayerStateMachine", "SysCallFunction"
                            37444         calls   "HandlePlayerStateMachine", "SysGetCurrentTime"
                            37445         calls   "HandlePlayerStateMachine", "SysLoadFATWrite"
                            37446         calls   "HandlePlayerStateMachine", "SysPostMessage"
                            37447         calls   "HandlePlayerStateMachine", "SysUnLoadFATWrite"
                            37448         calls   "HandlePlayerStateMachine", "SysUpdateVolume"
                            37449         calls   "HandlePlayerStateMachine", "SysWaitOnEvent"
                            37450         calls   "HandlePlayerStateMachine", "UpdateAutoShutdownTimer"
                            37451         calls   "InitPlayerStateMachine", "DecoderForceInit"
                            37452         calls   "InitPlayerStateMachine", "PSM_GetABMode"
                            37453         calls   "InitPlayerStateMachine", "PSM_ResetScrollInfo"
                            37454         calls   "InitPlayerStateMachine", "SysCallFunction"
                            37455         calls   "InitPlayerStateMachine", "SysPostMessage"
                            37456         calls   "PSM_ResetScrollInfo", "GetTextWidthAddressUnicode"
                            37457         calls   "QuickSwitchSong", "PSM_ResetScrollInfo"
                            37458         calls   "QuickSwitchSong", "PlayerLib_SetState", "SysCallFunction"
                            37459         calls   "QuickSwitchSong", "SysPostMessage", "SysWaitOnEvent"
                            37460         calls   "QuickSwitchSong", "strcpy"
                            37461 
