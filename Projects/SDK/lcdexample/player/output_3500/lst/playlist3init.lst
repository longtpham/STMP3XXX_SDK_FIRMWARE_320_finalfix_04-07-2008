TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page   1
C:\STMP3XXX_SDK_FIRMWARE_320_finalfix\Projects\SDK\lcdexample\player\make\ccfcf95b.src
M:ADDR CODE           CYCLES LINE SOURCELINE
                                1 ; TASKING DSP2410 C compiler v1.5r1 Build 208 SN 00100122
                                2 ; options: -OG -si -DPLAYER -DALL -DD3500 -DMMC -DLIION -DPL3_FB
                                3 ;          -DSTMP_BUILD_PLAYER -DPLAYER_BUILD -DPLAYER -DSTFM1000_LCD
                                4 ;          -DFULL_PLAYER_KERNEL -DDCDC_POWER_TRANSFER -DBACKLIGHT
                                5 ;          -DWMAAPI_NO_DRM -DREVB_ENGR_BD -DSED15XX_LCD -DSYNC_LYRICS
                                6 ;          -DTUNER_STFM1000 -DFM_EUROPE_REGION -DSD_USE_100KHZ_TUNING_GRID
                                7 ;          -DNEWSHINGYIH -DREAL_I2S_DATA -DFUNCLET
                                8 ;          -DMEDIA_DDI_COUNT_HIDDEN_SYSTEM_BLOCKS -DFMTUNER -DMP3_ENCODE
                                9 ;          -DCHKDSK -DFAT16 -DDEBUG -DDEVICE_3500 -DSDK2400 -DENGR_BD
                               10 ;          -DUSE_PLAYLIST3 -DBATTERY_TYPE_LI_ION -DBATTERY_CHARGE -w68 -w66
                               11 ;          -I..\output_3500\include
                               12 ;          -I..\..\..\..\..\Projects\sdk\lcdexample\Player
                               13 ;          -I..\..\..\..\..\Projects\sdk\lcdexample\Player\Menus -I..\..
                               14 ;          -I..\..\..\..\..\inc -I..\..\..\..\..\System\Common
                               15 ;          -I..\..\..\..\..\System\Common\symbols
                               16 ;          -I..\..\..\..\..\Projects\sdk\lcdexample\Player\Display
                               17 ;          -I..\..\..\..\..\Algorithms\DRM\janus\src\h
                               18 ;          -I..\..\..\..\..\FileSystem\Fat32\h
                               19 ;          -I..\..\..\..\..\FileSystem\Fat32\cmp\cmp_stdtype
                               20 ;          -I..\..\..\..\..\FileSystem\Fat32\cmp\cmp_debug
                               21 ;          -I..\..\..\..\..\FileSystem\Fat32\cmp\cmp_file_system
                               22 ;          -I..\..\..\..\..\DeviceDriver\Media\cmp\cmp_media_nand -I -I
                               23 ;          -I..\..\..\..\..\system\common\resourcemanager -I..\..\..\..\..\inc
                               24 ;          -I..\..\..\..\..\devicedriver\media\MediaTypeNAND\include
                               25 ;          -I..\..\..\..\..\devicedriver\media\MediaTypeNAND\DDI\DataDrive\include
                               26 ;          -I..\..\..\..\..\devicedriver\media\MediaTypeNAND\DDI\include
                               27 ;          -I..\..\..\..\..\devicedriver\media\MediaTypeNAND\HAL\include
                               28 ;          -I..\..\..\..\..\devicedriver\media\MediaTypeNAND\DDI\DataDrive
                               29 ;          -I..\..\..\..\..\devicedriver\media\ddildl\include
                               30 ;          -I..\..\..\..\..\FileSystem\Fat32\h
                               31 ;          -I..\..\..\..\..\FileSystem\Fat32\cmp\cmp_stdtype
                               32 ;          -I..\..\..\..\..\FileSystem\Fat32\cmp\cmp_debug
                               33 ;          -I..\..\..\..\..\FileSystem\Fat32\cmp\cmp_file_system
                               34 ;          -I..\..\..\..\..\DeviceDriver\Media\cmp\cmp_media_nand
                               35 ;          -I..\..\..\..\..\devicedriver\media\MediaTypeNAND\include
                               36 ;          -I..\..\..\..\..\devicedriver\media\MediaTypeNAND\DDI\Common\include
                               37 ;          -I..\..\..\..\..\devicedriver\media\MediaTypeNAND\DDI\include
                               38 ;          -I..\..\..\..\..\devicedriver\media\MediaTypeNAND\HAL\include
                               39 ;          -I..\..\..\..\..\devicedriver\media\MediaTypeNAND\DDI\Common
                               40 ;          -I..\..\..\..\..\devicedriver\media\MediaTypeNAND\include
                               41 ;          -I..\..\..\..\..\devicedriver\media\MediaTypeNAND\DDI\SystemDrive\include
                               42 ;          -I..\..\..\..\..\devicedriver\media\MediaTypeNAND\DDI\include
                               43 ;          -I..\..\..\..\..\devicedriver\media\MediaTypeNAND\HAL\include
                               44 ;          -I..\..\..\..\..\devicedriver\media\MediaTypeNAND\DDI\SystemDrive
                               45 ;          -I..\..\..\..\..\devicedriver\media\MediaTypeNAND\include
                               46 ;          -I..\..\..\..\..\devicedriver\media\MediaTypeNAND\DDI\Media\include
                               47 ;          -I..\..\..\..\..\devicedriver\media\MediaTypeNAND\DDI\include
                               48 ;          -I..\..\..\..\..\devicedriver\media\MediaTypeNAND\HAL\include
                               49 ;          -I..\..\..\..\..\devicedriver\media\MediaTypeNAND\DDI\Media
                               50 ;          -I..\..\..\..\..\devicedriver\media\include
                               51 ;          -I..\..\..\..\..\devicedriver\media\ddildl
                               52 ;          -I..\..\..\..\..\devicedriver\media\ddildl\include
                               53 ;          -I..\..\..\..\..\devicedriver\media\MediaTypeNAND\DDI\Common\include
                               54 ;          -I..\..\..\..\..\devicedriver\media\MediaTypeNAND\DDI\include
                               55 ;          -I..\..\..\..\..\DeviceDriver\Media\MediaTypeNAND\HAL
                               56 ;          -I..\..\..\..\..\DeviceDriver\Media\MediaTypeNAND\HAL\include
                               57 ;          -I..\..\..\..\..\DeviceDriver\Media\include
                               58 ;          -I..\..\..\..\..\DeviceDriver\Media\PortHIL\GPFlash\include
                               59 ;          -I..\..\..\..\..\DeviceDriver\Media\PortHIL\GPFlash
                               60 ;          -I..\..\..\..\..\devicedriver\media\ddildl
                               61 ;          -I..\..\..\..\..\devicedriver\media\ddildl\include
                               62 ;          -I..\..\..\..\..\libsource\sysserialnumber
                               63 ;          -I..\..\..\..\..\devicedriver\media\MediaTypeMMC\DDI\include
                               64 ;          -I..\..\..\..\..\devicedriver\media\ddildl\include
                               65 ;          -I..\..\..\..\..\devicedriver\media\MediaTypeMMC\DDI\include
                               66 ;          -I..\..\..\..\..\devicedriver\media\MediaTypeMMC\DDI\Media
                               67 ;          -I..\..\..\..\..\devicedriver\media\MediaTypeMMC\HAL\include
                               68 ;          -I..\..\..\..\..\FileSystem\Fat32\h
                               69 ;          -I..\..\..\..\..\FileSystem\Fat32\cmp\cmp_stdtype
                               70 ;          -I..\..\..\..\..\FileSystem\Fat32\cmp\cmp_debug
                               71 ;          -I..\..\..\..\..\FileSystem\Fat32\cmp\cmp_file_system
                               72 ;          -I..\..\..\..\..\DeviceDriver\Media\cmp\cmp_media_nand
                               73 ;          -I..\..\..\..\..\DeviceDriver\Media\MediaTypeNAND\HAL\include
                               74 ;          -I..\..\..\..\..\System\MsgModules\Software\Effects\srswow
                               75 ;          -I..\..\..\..\..\System\Common\rtcaccess
                               76 ;          -I..\..\..\..\..\System\Common\playlist3
                               77 ;          -I..\..\..\..\..\System\Common\record
                               78 ;          -I..\..\..\..\..\System\Common\mp3filename
                               79 ;          -I..\..\..\..\..\FileSystem\chkdsk\include
                               80 ;          -I..\..\..\..\..\FileSystem\Fat32\h -DFULL_PLAYER_KERNEL
                               81 ;          -DSYNC_LYRICS -DMP3_ENCODE -DBATTERY_TYPE_LI_ION -Dk_opt_single_fat
                               82 ;          -DPL3_FB -g -O2 -R -Cs -DMS_ADPCM -DIMA_ADPCM -DWINDOWS_PCM
                               83 ;          -I..\..\..\..\..\System\MsgModules\Software\musiclib\ghdr
                               84 ;          -I..\..\..\..\..\devicedriver\display
                               85 ;          -I..\..\..\..\..\System\MsgModules\Hardware\Display -MmyL
                               86 
                               94 
                               95 ;playlist3init.c:
                               96 ; 1    |////////////////////////////////////////////////////////////////////////////////
                               97 ; 2    |// Copyright (c) Sigmatel Inc 2005-2007
                               98 ; 3    |// Filename: playlist3init.c
                               99 ; 4    |//
                              100 ; 5    |////////////////////////////////////////////////////////////////////////////////
                              101 ; 6    |
                              102 ; 7    |////////////////////////////////////////////////////////////////////////////////
                              103 ; 8    |//  Includes
                              104 ; 9    |////////////////////////////////////////////////////////////////////////////////
                              105 ; 10   |#include "types.h"
                              106 
                              108 
                              109 ; 1    |////////////////////////////////////////////////////////////////////////////////
                              110 ; 2    |// Copyright(C) SigmaTel, Inc. 2000-2004
                              111 ; 3    |//
                              112 ; 4    |// Filename: types.h
                              113 ; 5    |// Description: Standard data types
                              114 ; 6    |////////////////////////////////////////////////////////////////////////////////
                              115 ; 7    |
                              116 ; 8    |#ifndef _TYPES_H
                              117 ; 9    |#define _TYPES_H
                              118 ; 10   |
                              119 ; 11   |// TODO:  move this outta here!
                              120 ; 12   |#if !defined(NOERROR)
                              121 ; 13   |#define NOERROR 0
                              122 ; 14   |#define SUCCESS 0
                              123 ; 15   |#endif 
                              124 ; 16   |#if !defined(SUCCESS)
                              125 ; 17   |#define SUCCESS  0
                              126 ; 18   |#endif
                              127 ; 19   |#if !defined(ERROR)
                              128 ; 20   |#define ERROR   -1
                              129 ; 21   |#endif
                              130 ; 22   |#if !defined(FALSE)
                              131 ; 23   |#define FALSE 0
                              132 ; 24   |#endif
                              133 ; 25   |#if !defined(TRUE)
                              134 ; 26   |#define TRUE  1
                              135 ; 27   |#endif
                              136 ; 28   |
                              137 ; 29   |#if !defined(NULL)
                              138 ; 30   |#define NULL 0
                              139 ; 31   |#endif
                              140 ; 32   |
                              141 ; 33   |#define MAX_INT     0x7FFFFF
                              142 ; 34   |#define MAX_LONG    0x7FFFFFffffff
                              143 ; 35   |        // max positive unsigned long value: -1 == 0xFFFFFFffffff
                              144 ; 36   |#define MAX_ULONG   (-1) 
                              145 ; 37   |
                              146 ; 38   |#define WORD_SIZE   24              // word size in bits
                              147 ; 39   |#define BYTES_PER_WORD 3            // 8 bit bytes
                              148 ; 40   |
                              149 ; 41   |
                              150 ; 42   |#define BYTE    unsigned char       // btVarName
                              151 ; 43   |#define CHAR    signed char         // cVarName
                              152 ; 44   |#define USHORT  unsigned short      // usVarName
                              153 ; 45   |#define SHORT   unsigned short      // sVarName
                              154 ; 46   |#define WORD    unsigned int        // wVarName
                              155 ; 47   |#define INT     signed int          // iVarName
                              156 ; 48   |#define DWORD   unsigned long       // dwVarName
                              157 ; 49   |#define LONG    signed long         // lVarName
                              158 ; 50   |#define BOOL    unsigned int        // bVarName
                              159 ; 51   |#define FRACT   _fract              // frVarName
                              160 ; 52   |#define LFRACT  long _fract         // lfrVarName
                              161 ; 53   |#define CIRC    _circ               // cp<type prefix>VarName (see below)
                              162 ; 54   |#define FLOAT   float               // fVarName
                              163 ; 55   |#define DBL     double              // dVarName
                              164 ; 56   |#define ENUM    enum                // eVarName
                              165 ; 57   |#define CMX     _complex            // cmxVarName
                              166 ; 58   |typedef WORD UCS3;                   // 
                              167 ; 59   |
                              168 ; 60   |#define UINT16  unsigned short
                              169 ; 61   |#define UINT8   unsigned char   
                              170 ; 62   |#define UINT32  unsigned long
                              171 ; 63   |#define UINT64  unsigned long   // need to figure out how to do 64 bit values.  Or port exisiting code to only use 48 bit
                              172 ; 64   |#define INT64   unsigned long   // need to figure out how to do 64 bit values.  Or port exisiting code to only use 48 bit
                              173 ; 65   |#define WCHAR   UINT16
                              174 ; 66   |
                              175 ; 67   |//UINT128 is 16 bytes or 6 words
                              176 ; 68   |typedef struct UINT128_3500 {   
                              177 ; 69   |    int val[6];     
                              178 ; 70   |} UINT128_3500;
                              179 ; 71   |
                              180 ; 72   |#define UINT128   UINT128_3500
                              181 ; 73   |
                              182 ; 74   |// Little endian word packed byte strings:   
                              183 ; 75   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                              184 ; 76   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                              185 ; 77   |// Little endian word packed byte strings:   
                              186 ; 78   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                              187 ; 79   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                              188 ; 80   |
                              189 ; 81   |// Declare Memory Spaces To Use When Coding
                              190 ; 82   |// A. Sector Buffers
                              191 ; 83   |#define SECTOR_BUFFER_MEM_X _X
                              192 ; 84   |#define SECTOR_BUFFER_MEM_Y _Y
                              193 ; 85   |#define SECTOR_BUFFER_MEM SECTOR_BUFFER_MEM_X
                              194 ; 86   |typedef WORD SECTOR_BUFFER_MEM SECTOR_BUFFER;
                              195 
                              197 
                              198 ; 87   |typedef SECTOR_BUFFER * P_SECTOR_BUFFER;
                              199 ; 88   |// B. Media DDI Memory
                              200 ; 89   |#define MEDIA_DDI_MEM _Y
                              201 ; 90   |
                              202 ; 91   |
                              203 ; 92   |
                              204 ; 93   |// Pointers to linear structures are labeled as: p<type prefix>VarName
                              205 ; 94   |// Examples of circular pointers:
                              206 ; 95   |//    INT CIRC cpiVarName
                              207 ; 96   |//    DWORD CIRC cpdwVarName
                              208 ; 97   |
                              209 ; 98   |#define RETCODE INT                 // rcVarName
                              210 ; 99   |
                              211 ; 100  |// generic bitfield structure
                              212 ; 101  |struct Bitfield {
                              213 ; 102  |    unsigned int B0  :1;
                              214 ; 103  |    unsigned int B1  :1;
                              215 ; 104  |    unsigned int B2  :1;
                              216 ; 105  |    unsigned int B3  :1;
                              217 ; 106  |    unsigned int B4  :1;
                              218 ; 107  |    unsigned int B5  :1;
                              219 ; 108  |    unsigned int B6  :1;
                              220 ; 109  |    unsigned int B7  :1;
                              221 ; 110  |    unsigned int B8  :1;
                              222 ; 111  |    unsigned int B9  :1;
                              223 ; 112  |    unsigned int B10 :1;
                              224 ; 113  |    unsigned int B11 :1;
                              225 ; 114  |    unsigned int B12 :1;
                              226 ; 115  |    unsigned int B13 :1;
                              227 ; 116  |    unsigned int B14 :1;
                              228 ; 117  |    unsigned int B15 :1;
                              229 ; 118  |    unsigned int B16 :1;
                              230 ; 119  |    unsigned int B17 :1;
                              231 ; 120  |    unsigned int B18 :1;
                              232 ; 121  |    unsigned int B19 :1;
                              233 ; 122  |    unsigned int B20 :1;
                              234 ; 123  |    unsigned int B21 :1;
                              235 ; 124  |    unsigned int B22 :1;
                              236 ; 125  |    unsigned int B23 :1;
                              237 ; 126  |};
                              238 ; 127  |
                              239 ; 128  |union BitInt {
                              240 ; 129  |        struct Bitfield B;
                              241 ; 130  |        int        I;
                              242 ; 131  |};
                              243 ; 132  |
                              244 ; 133  |#define MAX_MSG_LENGTH 10
                              245 ; 134  |struct CMessage
                              246 ; 135  |{
                              247 ; 136  |        unsigned int m_uLength;
                              248 ; 137  |        unsigned int m_uMsg[MAX_MSG_LENGTH];
                              249 ; 138  |};
                              250 ; 139  |
                              251 ; 140  |typedef struct {
                              252 ; 141  |    WORD m_wLength;
                              253 ; 142  |    WORD m_wMessage;
                              254 ; 143  |    WORD m_wParams[MAX_MSG_LENGTH];
                              255 ; 144  |} Message;
                              256 ; 145  |
                              257 ; 146  |struct MessageQueueDescriptor
                              258 ; 147  |{
                              259 ; 148  |        int *m_pBase;
                              260 ; 149  |        int m_iModulo;
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page   2

M:ADDR CODE           CYCLES LINE SOURCELINE
                              261 ; 150  |        int m_iSize;
                              262 ; 151  |        int *m_pHead;
                              263 ; 152  |        int *m_pTail;
                              264 ; 153  |};
                              265 ; 154  |
                              266 ; 155  |struct ModuleEntry
                              267 ; 156  |{
                              268 ; 157  |    int m_iSignaledEventMask;
                              269 ; 158  |    int m_iWaitEventMask;
                              270 ; 159  |    int m_iResourceOfCode;
                              271 ; 160  |    struct MessageQueueDescriptor *m_pMessageQueue;
                              272 ; 161  |    int _asmfunc (*m_pProcessEntryPoint)(union WaitMask Signals,struct MessageQueueDescriptor *);
                              273 ; 162  |    int _asmfunc (*m_pInitFunction)(struct MessageQueueDescriptor *);
                              274 ; 163  |    int m_uTimeOutHigh;
                              275 ; 164  |    int m_uTimeOutLow;
                              276 ; 165  |    int _asmfunc (*m_pBackgroundFunction)(struct MessageQueueDescriptor *);
                              277 ; 166  |};
                              278 ; 167  |
                              279 ; 168  |union WaitMask{
                              280 ; 169  |    struct B{
                              281 ; 170  |        unsigned int m_bNone     :1;
                              282 ; 171  |        unsigned int m_bMessage  :1;
                              283 ; 172  |        unsigned int m_bTimer    :1;
                              284 ; 173  |        unsigned int m_bButton   :1;
                              285 ; 174  |    } B;
                              286 ; 175  |    int I;
                              287 ; 176  |} ;
                              288 ; 177  |
                              289 ; 178  |
                              290 ; 179  |struct Button {
                              291 ; 180  |        WORD wButtonEvent;
                              292 ; 181  |        WORD wUnused[MAX_MSG_LENGTH];   
                              293 ; 182  |};
                              294 ; 183  |
                              295 ; 184  |struct Message {
                              296 ; 185  |        WORD wMsgLength;
                              297 ; 186  |        WORD wMsgCommand;
                              298 ; 187  |        WORD wMsgParms[MAX_MSG_LENGTH-1];
                              299 ; 188  |};
                              300 ; 189  |
                              301 ; 190  |union EventTypes {
                              302 ; 191  |        struct CMessage msg;
                              303 ; 192  |        struct Button Button ;
                              304 ; 193  |        struct Message Message;
                              305 ; 194  |};
                              306 ; 195  |
                              307 ; 196  |// next 2 used to get updater build to return correct protocol ver in scsi response.
                              308 ; 197  |#define BUILD_TYPE_UPDATER  0x100
                              309 ; 198  |#define BUILD_TYPE_HOSTLINK 0x101
                              310 ; 199  |#define BUILD_TYPE_PLAYER   0x102
                              311 ; 200  |
                              312 ; 201  |// Resets part if RETAIL build. DEBUG build executes debug instruction to halt.
                              313 ; 202  |#define SystemHalt() __asm(" include 'sysmacro.asm' \n error") 
                              314 ; 203  |#define assert(x)    if(!(x)) __asm(" include 'sysmacro.asm' \n error")
                              315 ; 204  |
                              316 ; 205  |#if DEBUG
                              317 ; 206  |// For DEBUG builds, DebugBuildAssert(condition) halts if condition evaluates to FALSE. 
                              318 ; 207  |#define DebugBuildAssert(x)    if(!(x)) __asm(" debug ")
                              319 ; 208  |#else 
                              320 ; 209  |// For RETAIL builds, DebugBuildAssert(condition) does nothing & execution continues rather than halt or reset. 
                              321 ; 210  |#define DebugBuildAssert(x)    
                              322 ; 211  |#endif
                              323 ; 212  |
                              324 ; 213  |// Do this in your C files to make a reminder that's displayed during the build.
                              325 ; 214  |//  #pragma asm
                              326 ; 215  |//  WARN 'Note to builder: reminder to do this after verifying that'
                              327 ; 216  |//  #pragma endasm
                              328 ; 217  |
                              329 ; 218  |
                              330 ; 219  |#ifdef COLOR_262K
                              331 ; 220  |#define RGB(r,g,b)    ((0x0000FC & (r)) << 10) | ((0x0000FC & (g)) << 4) | ((0x0000FC & (b)) >> 2)    //262k
                              332 ; 221  |#elif defined(COLOR_65K)
                              333 ; 222  |#define RGB(r,g,b)    ((0x0000F8 & (r)) << 8) | ((0x0000FC & (g)) << 3) | ((0x0000F8 & (b)) >> 3)  //65k
                              334 ; 223  |#else
                              335 ; 224  |#define RGB(r,g,b)       ((0x0000F0 & (r)) << 4) | (0x0000F0 & (g)) | ((0x0000F0 & (b)) >> 4)
                              336 ; 225  |#endif
                              337 ; 226  |    
                              338 ; 227  |#endif // #ifndef _TYPES_H
                              339 
                              341 
                              342 ; 11   |#include "menumanager.h"
                              343 
                              345 
                              346 ; 1    |#ifndef _EXEC_H
                              347 ; 2    |#define _EXEC_H
                              348 ; 3    |
                              349 ; 4    |#include "types.h"
                              350 
                              352 
                              353 ; 1    |////////////////////////////////////////////////////////////////////////////////
                              354 ; 2    |// Copyright(C) SigmaTel, Inc. 2000-2004
                              355 ; 3    |//
                              356 ; 4    |// Filename: types.h
                              357 ; 5    |// Description: Standard data types
                              358 ; 6    |////////////////////////////////////////////////////////////////////////////////
                              359 ; 7    |
                              360 ; 8    |#ifndef _TYPES_H
                              361 ; 9    |#define _TYPES_H
                              362 ; 10   |
                              363 ; 11   |// TODO:  move this outta here!
                              364 ; 12   |#if !defined(NOERROR)
                              365 ; 13   |#define NOERROR 0
                              366 ; 14   |#define SUCCESS 0
                              367 ; 15   |#endif 
                              368 ; 16   |#if !defined(SUCCESS)
                              369 ; 17   |#define SUCCESS  0
                              370 ; 18   |#endif
                              371 ; 19   |#if !defined(ERROR)
                              372 ; 20   |#define ERROR   -1
                              373 ; 21   |#endif
                              374 ; 22   |#if !defined(FALSE)
                              375 ; 23   |#define FALSE 0
                              376 ; 24   |#endif
                              377 ; 25   |#if !defined(TRUE)
                              378 ; 26   |#define TRUE  1
                              379 ; 27   |#endif
                              380 ; 28   |
                              381 ; 29   |#if !defined(NULL)
                              382 ; 30   |#define NULL 0
                              383 ; 31   |#endif
                              384 ; 32   |
                              385 ; 33   |#define MAX_INT     0x7FFFFF
                              386 ; 34   |#define MAX_LONG    0x7FFFFFffffff
                              387 ; 35   |        // max positive unsigned long value: -1 == 0xFFFFFFffffff
                              388 ; 36   |#define MAX_ULONG   (-1) 
                              389 ; 37   |
                              390 ; 38   |#define WORD_SIZE   24              // word size in bits
                              391 ; 39   |#define BYTES_PER_WORD 3            // 8 bit bytes
                              392 ; 40   |
                              393 ; 41   |
                              394 ; 42   |#define BYTE    unsigned char       // btVarName
                              395 ; 43   |#define CHAR    signed char         // cVarName
                              396 ; 44   |#define USHORT  unsigned short      // usVarName
                              397 ; 45   |#define SHORT   unsigned short      // sVarName
                              398 ; 46   |#define WORD    unsigned int        // wVarName
                              399 ; 47   |#define INT     signed int          // iVarName
                              400 ; 48   |#define DWORD   unsigned long       // dwVarName
                              401 ; 49   |#define LONG    signed long         // lVarName
                              402 ; 50   |#define BOOL    unsigned int        // bVarName
                              403 ; 51   |#define FRACT   _fract              // frVarName
                              404 ; 52   |#define LFRACT  long _fract         // lfrVarName
                              405 ; 53   |#define CIRC    _circ               // cp<type prefix>VarName (see below)
                              406 ; 54   |#define FLOAT   float               // fVarName
                              407 ; 55   |#define DBL     double              // dVarName
                              408 ; 56   |#define ENUM    enum                // eVarName
                              409 ; 57   |#define CMX     _complex            // cmxVarName
                              410 ; 58   |typedef WORD UCS3;                   // 
                              411 ; 59   |
                              412 ; 60   |#define UINT16  unsigned short
                              413 ; 61   |#define UINT8   unsigned char   
                              414 ; 62   |#define UINT32  unsigned long
                              415 ; 63   |#define UINT64  unsigned long   // need to figure out how to do 64 bit values.  Or port exisiting code to only use 48 bit
                              416 ; 64   |#define INT64   unsigned long   // need to figure out how to do 64 bit values.  Or port exisiting code to only use 48 bit
                              417 ; 65   |#define WCHAR   UINT16
                              418 ; 66   |
                              419 ; 67   |//UINT128 is 16 bytes or 6 words
                              420 ; 68   |typedef struct UINT128_3500 {   
                              421 ; 69   |    int val[6];     
                              422 ; 70   |} UINT128_3500;
                              423 ; 71   |
                              424 ; 72   |#define UINT128   UINT128_3500
                              425 ; 73   |
                              426 ; 74   |// Little endian word packed byte strings:   
                              427 ; 75   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                              428 ; 76   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                              429 ; 77   |// Little endian word packed byte strings:   
                              430 ; 78   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                              431 ; 79   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                              432 ; 80   |
                              433 ; 81   |// Declare Memory Spaces To Use When Coding
                              434 ; 82   |// A. Sector Buffers
                              435 ; 83   |#define SECTOR_BUFFER_MEM_X _X
                              436 ; 84   |#define SECTOR_BUFFER_MEM_Y _Y
                              437 ; 85   |#define SECTOR_BUFFER_MEM SECTOR_BUFFER_MEM_X
                              438 ; 86   |typedef WORD SECTOR_BUFFER_MEM SECTOR_BUFFER;
                              439 ; 87   |typedef SECTOR_BUFFER * P_SECTOR_BUFFER;
                              440 ; 88   |// B. Media DDI Memory
                              441 ; 89   |#define MEDIA_DDI_MEM _Y
                              442 ; 90   |
                              443 ; 91   |
                              444 ; 92   |
                              445 ; 93   |// Pointers to linear structures are labeled as: p<type prefix>VarName
                              446 ; 94   |// Examples of circular pointers:
                              447 ; 95   |//    INT CIRC cpiVarName
                              448 ; 96   |//    DWORD CIRC cpdwVarName
                              449 ; 97   |
                              450 ; 98   |#define RETCODE INT                 // rcVarName
                              451 ; 99   |
                              452 ; 100  |// generic bitfield structure
                              453 ; 101  |struct Bitfield {
                              454 ; 102  |    unsigned int B0  :1;
                              455 ; 103  |    unsigned int B1  :1;
                              456 ; 104  |    unsigned int B2  :1;
                              457 ; 105  |    unsigned int B3  :1;
                              458 ; 106  |    unsigned int B4  :1;
                              459 ; 107  |    unsigned int B5  :1;
                              460 ; 108  |    unsigned int B6  :1;
                              461 ; 109  |    unsigned int B7  :1;
                              462 ; 110  |    unsigned int B8  :1;
                              463 ; 111  |    unsigned int B9  :1;
                              464 ; 112  |    unsigned int B10 :1;
                              465 ; 113  |    unsigned int B11 :1;
                              466 ; 114  |    unsigned int B12 :1;
                              467 ; 115  |    unsigned int B13 :1;
                              468 ; 116  |    unsigned int B14 :1;
                              469 ; 117  |    unsigned int B15 :1;
                              470 ; 118  |    unsigned int B16 :1;
                              471 ; 119  |    unsigned int B17 :1;
                              472 ; 120  |    unsigned int B18 :1;
                              473 ; 121  |    unsigned int B19 :1;
                              474 ; 122  |    unsigned int B20 :1;
                              475 ; 123  |    unsigned int B21 :1;
                              476 ; 124  |    unsigned int B22 :1;
                              477 ; 125  |    unsigned int B23 :1;
                              478 ; 126  |};
                              479 ; 127  |
                              480 ; 128  |union BitInt {
                              481 ; 129  |        struct Bitfield B;
                              482 ; 130  |        int        I;
                              483 ; 131  |};
                              484 ; 132  |
                              485 ; 133  |#define MAX_MSG_LENGTH 10
                              486 ; 134  |struct CMessage
                              487 ; 135  |{
                              488 ; 136  |        unsigned int m_uLength;
                              489 ; 137  |        unsigned int m_uMsg[MAX_MSG_LENGTH];
                              490 ; 138  |};
                              491 ; 139  |
                              492 ; 140  |typedef struct {
                              493 ; 141  |    WORD m_wLength;
                              494 ; 142  |    WORD m_wMessage;
                              495 ; 143  |    WORD m_wParams[MAX_MSG_LENGTH];
                              496 ; 144  |} Message;
                              497 ; 145  |
                              498 ; 146  |struct MessageQueueDescriptor
                              499 ; 147  |{
                              500 ; 148  |        int *m_pBase;
                              501 ; 149  |        int m_iModulo;
                              502 ; 150  |        int m_iSize;
                              503 ; 151  |        int *m_pHead;
                              504 ; 152  |        int *m_pTail;
                              505 ; 153  |};
                              506 ; 154  |
                              507 ; 155  |struct ModuleEntry
                              508 ; 156  |{
                              509 ; 157  |    int m_iSignaledEventMask;
                              510 ; 158  |    int m_iWaitEventMask;
                              511 ; 159  |    int m_iResourceOfCode;
                              512 ; 160  |    struct MessageQueueDescriptor *m_pMessageQueue;
                              513 ; 161  |    int _asmfunc (*m_pProcessEntryPoint)(union WaitMask Signals,struct MessageQueueDescriptor *);
                              514 ; 162  |    int _asmfunc (*m_pInitFunction)(struct MessageQueueDescriptor *);
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page   3

M:ADDR CODE           CYCLES LINE SOURCELINE
                              515 ; 163  |    int m_uTimeOutHigh;
                              516 ; 164  |    int m_uTimeOutLow;
                              517 ; 165  |    int _asmfunc (*m_pBackgroundFunction)(struct MessageQueueDescriptor *);
                              518 ; 166  |};
                              519 ; 167  |
                              520 ; 168  |union WaitMask{
                              521 ; 169  |    struct B{
                              522 ; 170  |        unsigned int m_bNone     :1;
                              523 ; 171  |        unsigned int m_bMessage  :1;
                              524 ; 172  |        unsigned int m_bTimer    :1;
                              525 ; 173  |        unsigned int m_bButton   :1;
                              526 ; 174  |    } B;
                              527 ; 175  |    int I;
                              528 ; 176  |} ;
                              529 ; 177  |
                              530 ; 178  |
                              531 ; 179  |struct Button {
                              532 ; 180  |        WORD wButtonEvent;
                              533 ; 181  |        WORD wUnused[MAX_MSG_LENGTH];   
                              534 ; 182  |};
                              535 ; 183  |
                              536 ; 184  |struct Message {
                              537 ; 185  |        WORD wMsgLength;
                              538 ; 186  |        WORD wMsgCommand;
                              539 ; 187  |        WORD wMsgParms[MAX_MSG_LENGTH-1];
                              540 ; 188  |};
                              541 ; 189  |
                              542 ; 190  |union EventTypes {
                              543 ; 191  |        struct CMessage msg;
                              544 ; 192  |        struct Button Button ;
                              545 ; 193  |        struct Message Message;
                              546 ; 194  |};
                              547 ; 195  |
                              548 ; 196  |// next 2 used to get updater build to return correct protocol ver in scsi response.
                              549 ; 197  |#define BUILD_TYPE_UPDATER  0x100
                              550 ; 198  |#define BUILD_TYPE_HOSTLINK 0x101
                              551 ; 199  |#define BUILD_TYPE_PLAYER   0x102
                              552 ; 200  |
                              553 ; 201  |// Resets part if RETAIL build. DEBUG build executes debug instruction to halt.
                              554 ; 202  |#define SystemHalt() __asm(" include 'sysmacro.asm' \n error") 
                              555 ; 203  |#define assert(x)    if(!(x)) __asm(" include 'sysmacro.asm' \n error")
                              556 ; 204  |
                              557 ; 205  |#if DEBUG
                              558 ; 206  |// For DEBUG builds, DebugBuildAssert(condition) halts if condition evaluates to FALSE. 
                              559 ; 207  |#define DebugBuildAssert(x)    if(!(x)) __asm(" debug ")
                              560 ; 208  |#else 
                              561 ; 209  |// For RETAIL builds, DebugBuildAssert(condition) does nothing & execution continues rather than halt or reset. 
                              562 ; 210  |#define DebugBuildAssert(x)    
                              563 ; 211  |#endif
                              564 ; 212  |
                              565 ; 213  |// Do this in your C files to make a reminder that's displayed during the build.
                              566 ; 214  |//  #pragma asm
                              567 ; 215  |//  WARN 'Note to builder: reminder to do this after verifying that'
                              568 ; 216  |//  #pragma endasm
                              569 ; 217  |
                              570 ; 218  |
                              571 ; 219  |#ifdef COLOR_262K
                              572 ; 220  |#define RGB(r,g,b)    ((0x0000FC & (r)) << 10) | ((0x0000FC & (g)) << 4) | ((0x0000FC & (b)) >> 2)    //262k
                              573 ; 221  |#elif defined(COLOR_65K)
                              574 ; 222  |#define RGB(r,g,b)    ((0x0000F8 & (r)) << 8) | ((0x0000FC & (g)) << 3) | ((0x0000F8 & (b)) >> 3)  //65k
                              575 ; 223  |#else
                              576 ; 224  |#define RGB(r,g,b)       ((0x0000F0 & (r)) << 4) | (0x0000F0 & (g)) | ((0x0000F0 & (b)) >> 4)
                              577 ; 225  |#endif
                              578 ; 226  |    
                              579 ; 227  |#endif // #ifndef _TYPES_H
                              580 
                              582 
                              583 ; 5    |
                              584 ; 6    |int _asmfunc SysWaitOnEvent(unsigned int uEvent,struct CMessage *,int uLength);
                              585 ; 7    |int _asmfunc SysCallFunction(unsigned int RESOURCE,int _reentrant (int,int,int*),  int, int, int *);
                              586 ; 8    |
                              587 ; 9    |#if !defined(NULL)
                              588 ; 10   |#define NULL 0
                              589 ; 11   |#endif 
                              590 ; 12   |
                              591 ; 13   |#if !defined(FALSE)
                              592 ; 14   |#define FALSE 0
                              593 ; 15   |#endif
                              594 ; 16   |#if !defined(TRUE)
                              595 ; 17   |#define TRUE  !FALSE
                              596 ; 18   |#endif
                              597 ; 19   |
                              598 ; 20   |// The same memory location contains either a menu message or button event. 
                              599 ; 21   |// The button info is stored in the first word or the entire message is stored.
                              600 ; 22   |
                              601 ; 23   |// CMessage is kept for backards compatibility.
                              602 ; 24   |// The union and 2 new structures are added to aid in readability.
                              603 ; 25   |
                              604 ; 26   |
                              605 ; 27   |#include "messages.h"
                              606 
                              608 
                              609 ; 1    |/////////////////////////////////////////////////////////////////////////////////
                              610 ; 2    |// Copyright(C) SigmaTel, Inc. 2000
                              611 ; 3    |// Message defs
                              612 ; 4    |/////////////////////////////////////////////////////////////////////////////////
                              613 ; 5    |
                              614 ; 6    |#if (!defined(MSGEQU_INC))
                              615 ; 7    |#define MSGEQU_INC 1
                              616 ; 8    |
                              617 ; 9    |
                              618 ; 10   |#define MAX_MODULE_SIZE   (lc_u_eP_Module_overlay-lc_u_bP_Module_overlay)*3
                              619 ; 11   |
                              620 ; 12   |
                              621 ; 13   |#define MSG_TYPE_DECODER 0x000000
                              622 ; 14   |#define MSG_TYPE_ENCODER 0x010000
                              623 ; 15   |#define MSG_TYPE_PARSER 0x020000
                              624 ; 16   |#define MSG_TYPE_LCD 0x030000
                              625 ; 17   |#define MSG_TYPE_MIXER 0x040000
                              626 ; 18   |#define MSG_TYPE_SYSTEM 0x050000
                              627 ; 19   |#define MSG_TYPE_MENU 0x060000
                              628 ; 20   |#define MSG_TYPE_LED 0x070000
                              629 ; 21   |#define MSG_TYPE_TUNER 0x080000
                              630 ; 22   |#define MSG_TYPE_CHARLCD 0x030000
                              631 ; 23   |#define MSG_TYPE_SOFT_TIMER 0x090000
                              632 ; 24   |// Equalizer and other effects
                              633 ; 25   |#define MSG_TYPE_GEQ 0x0a0000             
                              634 ; 26   |#if (defined(USE_PLAYLIST3))
                              635 ; 27   |#define MSG_TYPE_MUSICLIB_PLAY 0x0b0000
                              636 ; 28   |#define MSG_TYPE_MUSICLIB_BROWSE 0x0c0000
                              637 ; 29   |#define MSG_TYPE_MUSICLIB_PLAYALLNEXT 0x0d0000
                              638 ; 30   |#define MSG_TYPE_MUSICLIB_PLAYALLPREV 0x0e0000
                              639 ; 31   |#define MSG_TYPE_MUSICLIB_SHUFFLE 0x0f0000
                              640 ; 32   |#define MSG_TYPE_MUSICLIB_VOICE 0x100000
                              641 ; 33   |#define MSG_TYPE_MUSICLIB_VOICEPLAY 0x110000
                              642 ; 34   |#define MSG_TYPE_MUSICLIB_MERGE 0x120000
                              643 ; 35   |#endif // IF (@def(USE_PLAYLIST3))
                              644 ; 36   |#if defined(USE_PLAYLIST5)
                              645 ; 37   |#define MSG_TYPE_PL5_PLAYBACK 0x0b0000
                              646 ; 38   |#define MSG_TYPE_PL5_BROWSE 0x0c0000
                              647 ; 39   |#endif // if @def('USE_PLAYLIST5')
                              648 ; 40   |
                              649 ; 41   |// Message Structure Offsets
                              650 ; 42   |#define MSG_Length 0
                              651 ; 43   |#define MSG_ID 1
                              652 ; 44   |#define MSG_Argument1 2
                              653 ; 45   |#define MSG_Argument2 3
                              654 ; 46   |#define MSG_Argument3 4
                              655 ; 47   |#define MSG_Argument4 5
                              656 ; 48   |#define MSG_Argument5 6
                              657 ; 49   |#define MSG_Argument6 7
                              658 ; 50   |
                              659 ; 51   |
                              660 ; 52   |
                              661 ; 53   |// LCD Message IDs
                              662 ; 54   |#define LCD_FIRST_MSG_ID MSG_TYPE_LCD+0
                              663 ; 55   |#define LCD_CLEAR_RANGE MSG_TYPE_LCD+0
                              664 ; 56   |#define LCD_PRINT_RANGE_RSRC MSG_TYPE_LCD+1
                              665 ; 57   |#define LCD_PRINT_RANGE_ADDR MSG_TYPE_LCD+2
                              666 ; 58   |#define LCD_PRINT_RANGE_INV_RSRC MSG_TYPE_LCD+3
                              667 ; 59   |#define LCD_PRINT_RANGE_INV_ADDR MSG_TYPE_LCD+4
                              668 ; 60   |#define LCD_PRINT_RANGE_FILE MSG_TYPE_LCD+5
                              669 ; 61   |#define LCD_PRINT_RANGE_INV_FILE MSG_TYPE_LCD+6
                              670 ; 62   |#define LCD_PRINT_STRING_RSRC MSG_TYPE_LCD+7
                              671 ; 63   |#define LCD_PRINT_STRING_ADDR MSG_TYPE_LCD+8
                              672 ; 64   |#define LCD_PRINT_STRING_INV_RSRC MSG_TYPE_LCD+9
                              673 ; 65   |#define LCD_PRINT_STRING_INV_ADDR MSG_TYPE_LCD+10
                              674 ; 66   |#define LCD_SCROLL_DISPLAY MSG_TYPE_LCD+11
                              675 ; 67   |#define LCD_READ_LCD_ADDR MSG_TYPE_LCD+12
                              676 ; 68   |#define LCD_SET_CONTRAST MSG_TYPE_LCD+13
                              677 ; 69   |#define LCD_INC_CONTRAST MSG_TYPE_LCD+14
                              678 ; 70   |#define LCD_DEC_CONTRAST MSG_TYPE_LCD+15
                              679 ; 71   |#define LCD_BACKLIGHT_ON MSG_TYPE_LCD+16
                              680 ; 72   |#define LCD_BACKLIGHT_OFF MSG_TYPE_LCD+17
                              681 ; 73   |#define LCD_SET_FONT MSG_TYPE_LCD+18
                              682 ; 74   |#define LCD_PRINT_NUMBER MSG_TYPE_LCD+19
                              683 ; 75   |#define LCD_PRINT_TIME MSG_TYPE_LCD+20
                              684 ; 76   |#define LCD_PRINT_TIME_LONG MSG_TYPE_LCD+21
                              685 ; 77   |#define LCD_PRINT_STRING_UNICODE_INV_ADDR MSG_TYPE_LCD+22
                              686 ; 78   |#define LCD_PRINT_STRING_UNICODE_ADDR MSG_TYPE_LCD+23
                              687 ; 79   |#define LCD_PRINT_STRING_UNICODE_INV_RSRC MSG_TYPE_LCD+24
                              688 ; 80   |#define LCD_PRINT_STRING_UNICODE_RSRC MSG_TYPE_LCD+25
                              689 ; 81   |#define LCD_BEGIN_FRAME MSG_TYPE_LCD+26
                              690 ; 82   |#define LCD_END_FRAME MSG_TYPE_LCD+27
                              691 ; 83   |#define LCD_PRINT_NUMBER_INV MSG_TYPE_LCD+28
                              692 ; 84   |#define LCD_PRINT_TIME_INV MSG_TYPE_LCD+29
                              693 ; 85   |#define LCD_PRINT_TIME_LONG_INV MSG_TYPE_LCD+30
                              694 ; 86   |#define LCD_SET_FRAMEBUFFER MSG_TYPE_LCD+31
                              695 ; 87   |//send a NULL as Param1 to return to root frame buffer
                              696 ; 88   |#define LCD_PUSH_MASK MSG_TYPE_LCD+32
                              697 ; 89   |//Param1 = left
                              698 ; 90   |//Param2 = top
                              699 ; 91   |//Param3 = right
                              700 ; 92   |//Param4 = bottom
                              701 ; 93   |#define LCD_POP_MASK MSG_TYPE_LCD+33
                              702 ; 94   |#define LCD_PRINT_UNICODE_CHAR MSG_TYPE_LCD+34
                              703 ; 95   |#define LCD_PRINT_UNICODE_CHAR_INV MSG_TYPE_LCD+35
                              704 ; 96   |#define LCD_DISPLAY_HISTOGRAM MSG_TYPE_LCD+36
                              705 ; 97   |#define LCD_PRINT_TIME_L_1DIG_HR MSG_TYPE_LCD+37
                              706 ; 98   |#define LCD_SET_ICON MSG_TYPE_LCD+38
                              707 ; 99   |
                              708 ; 100  |#define LCD_CLEAR_RANGE_BUFFER MSG_TYPE_LCD+39
                              709 ; 101  |#define LCD_PRINT_RANGE_RSRC_BUFFER MSG_TYPE_LCD+40
                              710 ; 102  |#define LCD_PRINT_RANGE_INV_RSRC_BUFFER MSG_TYPE_LCD+41
                              711 ; 103  |#define LCD_PRINT_RANGE_ADDR_BUFFER MSG_TYPE_LCD+42
                              712 ; 104  |#define LCD_PRINT_RANGE_INV_ADDR_BUFFER MSG_TYPE_LCD+43
                              713 ; 105  |#define LCD_PRINT_STRING_RSRC_BUFFER MSG_TYPE_LCD+44
                              714 ; 106  |#define LCD_PRINT_STRING_INV_RSRC_BUFFER MSG_TYPE_LCD+45
                              715 ; 107  |#define LCD_PRINT_STRING_ADDR_BUFFER MSG_TYPE_LCD+46
                              716 ; 108  |#define LCD_PRINT_STRING_INV_ADDR_BUFFER MSG_TYPE_LCD+47
                              717 ; 109  |#define LCD_PRINT_NUMBER_BUFFER MSG_TYPE_LCD+48
                              718 ; 110  |#define LCD_PRINT_NUMBER_INV_BUFFER MSG_TYPE_LCD+49
                              719 ; 111  |#define LCD_PRINT_TIME_BUFFER MSG_TYPE_LCD+50
                              720 ; 112  |#define LCD_PRINT_TIME_INV_BUFFER MSG_TYPE_LCD+51
                              721 ; 113  |#define LCD_PRINT_TIME_LONG_BUFFER MSG_TYPE_LCD+52
                              722 ; 114  |#define LCD_PRINT_TIME_LONG_INV_BUFFER MSG_TYPE_LCD+53
                              723 ; 115  |#define LCD_PRINT_STRING_UNICODE_ADDR_BUFFER MSG_TYPE_LCD+54
                              724 ; 116  |#define LCD_PRINT_STRING_UNICODE_INV_ADDR_BUFFER MSG_TYPE_LCD+55
                              725 ; 117  |#define LCD_PRINT_STRING_UNICODE_RSRC_BUFFER MSG_TYPE_LCD+56
                              726 ; 118  |#define LCD_PRINT_STRING_UNICODE_INV_RSRC_BUFFER MSG_TYPE_LCD+57
                              727 ; 119  |#define LCD_PRINT_UNICODE_CHAR_BUFFER MSG_TYPE_LCD+58
                              728 ; 120  |#define LCD_PRINT_UNICODE_CHAR_INV_BUFFER MSG_TYPE_LCD+59
                              729 ; 121  |#define LCD_PRINT_TIME_L_1DIG_HR_BUFFER MSG_TYPE_LCD+60
                              730 ; 122  |#define LCD_SET_BUFFER_COLOR MSG_TYPE_LCD+61
                              731 ; 123  |#define LCD_FORCE_BUFFER_UPDATE MSG_TYPE_LCD+62
                              732 ; 124  |#define LCD_SET_BUFFER_WINDOW MSG_TYPE_LCD+63
                              733 ; 125  |#define LCD_SET_COLOR MSG_TYPE_LCD+64
                              734 ; 126  |#define LCD_SET_BUFFER_POSITION MSG_TYPE_LCD+65
                              735 ; 127  |
                              736 ; 128  |#define LCD_TEMP_CONTRAST MSG_TYPE_LCD+66
                              737 ; 129  |
                              738 ; 130  |#if defined(CLCD_16BIT)
                              739 ; 131  |#define LCD_16BIT_ON MSG_TYPE_LCD+67
                              740 ; 132  |#define LCD_16BIT_OFF MSG_TYPE_LCD+68
                              741 ; 133  |
                              742 ; 134  |#define LCD_LAST_MSG_ID MSG_TYPE_LCD+68
                              743 ; 135  |#else 
                              744 ; 136  |#define LCD_LAST_MSG_ID MSG_TYPE_LCD+66
                              745 ; 137  |#endif
                              746 ; 138  |
                              747 ; 139  |// If you change the LCD message ID's then you must
                              748 ; 140  |// also change the jump table in lcdapi.asm
                              749 ; 141  |
                              750 ; 142  |// Character LCD Message IDs
                              751 ; 143  |#define CHARLCD_FIRST_MSG_ID MSG_TYPE_CHARLCD+0
                              752 ; 144  |#define CHARLCD_CLEAR_RANGE MSG_TYPE_CHARLCD+0
                              753 ; 145  |#define CHARLCD_PRINT_RSRC MSG_TYPE_CHARLCD+1
                              754 ; 146  |#define CHARLCD_PRINT_INV_RSRC MSG_TYPE_CHARLCD+2
                              755 ; 147  |#define CHARLCD_PRINT_ASCII_CHAR MSG_TYPE_CHARLCD+3
                              756 ; 148  |#define CHARLCD_PRINT_ASCII_INV_CHAR MSG_TYPE_CHARLCD+4
                              757 ; 149  |#define CHARLCD_PRINT_STRING_RSRC MSG_TYPE_CHARLCD+5
                              758 ; 150  |#define CHARLCD_PRINT_STRING_INV_RSRC MSG_TYPE_CHARLCD+6
                              759 ; 151  |#define CHARLCD_PRINT_STRING_ADDR MSG_TYPE_CHARLCD+7
                              760 ; 152  |#define CHARLCD_PRINT_STRING_INV_ADDR MSG_TYPE_CHARLCD+8
                              761 ; 153  |#define CHARLCD_SCROLL_DISPLAY MSG_TYPE_CHARLCD+9
                              762 ; 154  |#define CHARLCD_READ_LCD_ADDR MSG_TYPE_CHARLCD+10
                              763 ; 155  |#define CHARLCD_SET_CURSOR MSG_TYPE_CHARLCD+11
                              764 ; 156  |#define CHARLCD_SET_FONT MSG_TYPE_CHARLCD+12
                              765 ; 157  |#define CHARLCD_PRINT_NUMBER MSG_TYPE_CHARLCD+13
                              766 ; 158  |#define CHARLCD_PRINT_TIME MSG_TYPE_CHARLCD+14
                              767 ; 159  |#define CHARLCD_SET_BATTERY MSG_TYPE_CHARLCD+15
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page   4

M:ADDR CODE           CYCLES LINE SOURCELINE
                              768 ; 160  |#define CHARLCD_SET_EQ MSG_TYPE_CHARLCD+16
                              769 ; 161  |#define CHARLCD_SET_ICON MSG_TYPE_CHARLCD+17
                              770 ; 162  |#define CHARLCD_SET_PLAYMODE MSG_TYPE_CHARLCD+18
                              771 ; 163  |#define CHARLCD_SET_PLAYSTATE MSG_TYPE_CHARLCD+19
                              772 ; 164  |#define CHARLCD_SET_VOLUME MSG_TYPE_CHARLCD+20
                              773 ; 165  |#define CHARLCD_CLEAR_DISPLAY MSG_TYPE_CHARLCD+21
                              774 ; 166  |#define CHARLCD_LAST_MSG_ID MSG_TYPE_CHARLCD+21
                              775 ; 167  |// If you change the cHARACTER LCD message ID's then you must
                              776 ; 168  |// also change the jump table in lcdapi.asm
                              777 ; 169  |
                              778 ; 170  |// Decoder Message IDs
                              779 ; 171  |#define DECODER_FIRST_MSG_ID MSG_TYPE_DECODER+0
                              780 ; 172  |#define DECODER_RESET MSG_TYPE_DECODER+0
                              781 ; 173  |#define DECODER_SET_DIR MSG_TYPE_DECODER+1
                              782 ; 174  |#define DECODER_PLAY MSG_TYPE_DECODER+2
                              783 ; 175  |#define DECODER_STOP MSG_TYPE_DECODER+3
                              784 ; 176  |#define DECODER_FFWD MSG_TYPE_DECODER+4
                              785 ; 177  |#define DECODER_RWND MSG_TYPE_DECODER+5
                              786 ; 178  |#define DECODER_NEXT_SONG MSG_TYPE_DECODER+6
                              787 ; 179  |#define DECODER_PREV_SONG MSG_TYPE_DECODER+7
                              788 ; 180  |#define DECODER_TIME_MODE MSG_TYPE_DECODER+8
                              789 ; 181  |#define DECODER_AB_MODE MSG_TYPE_DECODER+9
                              790 ; 182  |#define DECODER_SET_EQ MSG_TYPE_DECODER+10
                              791 ; 183  |#define DECODER_GET_SONG_INFO MSG_TYPE_DECODER+11
                              792 ; 184  |#define DECODER_NEXT_CHAPTER MSG_TYPE_DECODER+12
                              793 ; 185  |#define DECODER_PREV_CHAPTER MSG_TYPE_DECODER+13
                              794 ; 186  |#define DECODER_LAST_MSG_ID MSG_TYPE_DECODER+13
                              795 ; 187  |// If you change the Decoder message ID's, then you must
                              796 ; 188  |// also change the jump table in decoder_overlay.asm
                              797 ; 189  |// and in dec_adpcm_overlay.asm.
                              798 ; 190  |
                              799 ; 191  |// Encoder Message IDs
                              800 ; 192  |#define ENCODER_FIRST_MSG_ID MSG_TYPE_ENCODER+0
                              801 ; 193  |#define ENCODER_RECORD MSG_TYPE_ENCODER+0
                              802 ; 194  |#define ENCODER_STOP MSG_TYPE_ENCODER+1
                              803 ; 195  |#define ENCODER_TIME_MODE MSG_TYPE_ENCODER+2
                              804 ; 196  |#define ENCODER_LAST_MSG_ID MSG_TYPE_ENCODER+3
                              805 ; 197  |// If you change the Encoder message ID's, then you must
                              806 ; 198  |// also change the jump table in all encoder overlay modules.
                              807 ; 199  |
                              808 ; 200  |// Parser Message IDs
                              809 ; 201  |#define PARSER_FIRST_MSG_ID MSG_TYPE_PARSER+0
                              810 ; 202  |#define PARSER_NEXT_SONG MSG_TYPE_PARSER+0
                              811 ; 203  |#define PARSER_PREV_SONG MSG_TYPE_PARSER+1
                              812 ; 204  |#define PARSER_REPEAT MSG_TYPE_PARSER+2
                              813 ; 205  |#define PARSER_RANDOM MSG_TYPE_PARSER+3
                              814 ; 206  |#define PARSER_STOP MSG_TYPE_PARSER+4
                              815 ; 207  |#define PARSER_DEVICE_ENUMERATE MSG_TYPE_PARSER+5
                              816 ; 208  |#define PARSER_SET_CURRENT_SONG MSG_TYPE_PARSER+6
                              817 ; 209  |#define PARSER_LAST_MSG_ID MSG_TYPE_PARSER+6
                              818 ; 210  |// If you change the Parser message ID's, then you must
                              819 ; 211  |// also change the jump table in parser.asm
                              820 ; 212  |
                              821 ; 213  |// Button Message IDs
                              822 ; 214  |//BUTTON_FIRST_MSG_ID      equ     MSG_TYPE_BUTTON+0
                              823 ; 215  |//BUTTON_BUTTONS_ON        equ     MSG_TYPE_BUTTON+0
                              824 ; 216  |//BUTTON_BUTTONS_OFF       equ     MSG_TYPE_BUTTON+1
                              825 ; 217  |//BUTTON_HOLD              equ     MSG_TYPE_BUTTON+2
                              826 ; 218  |//BUTTON_HOLD_RELEASE      equ     MSG_TYPE_BUTTON+3
                              827 ; 219  |//BUTTON_LAST_MSG_ID       equ     MSG_TYPE_BUTTON+3
                              828 ; 220  |
                              829 ; 221  |// Mixer Message IDs
                              830 ; 222  |#define MIXER_FIRST_MSG_ID MSG_TYPE_MIXER+0
                              831 ; 223  |#define MIXER_MASTER_INCR MSG_TYPE_MIXER+0
                              832 ; 224  |#define MIXER_MASTER_DECR MSG_TYPE_MIXER+1
                              833 ; 225  |#define MIXER_MASTER_SETLVL MSG_TYPE_MIXER+2
                              834 ; 226  |#define MIXER_MASTER_MUTE MSG_TYPE_MIXER+3
                              835 ; 227  |#define MIXER_MASTER_UNMUTE MSG_TYPE_MIXER+4
                              836 ; 228  |#define MIXER_MASTER_FADE_OUT MSG_TYPE_MIXER+5
                              837 ; 229  |#define MIXER_MASTER_FADE_IN MSG_TYPE_MIXER+6
                              838 ; 230  |#define MIXER_MASTER_BAL_RIGHT MSG_TYPE_MIXER+7
                              839 ; 231  |#define MIXER_MASTER_BAL_LEFT MSG_TYPE_MIXER+8
                              840 ; 232  |#define MIXER_MIC_INCR MSG_TYPE_MIXER+9
                              841 ; 233  |#define MIXER_MIC_DECR MSG_TYPE_MIXER+10
                              842 ; 234  |#define MIXER_MIC_SETLVL MSG_TYPE_MIXER+11
                              843 ; 235  |#define MIXER_MIC_MUTE MSG_TYPE_MIXER+12
                              844 ; 236  |#define MIXER_MIC_UNMUTE MSG_TYPE_MIXER+13
                              845 ; 237  |#define MIXER_MIC_BOOST MSG_TYPE_MIXER+14
                              846 ; 238  |#define MIXER_MIC_UNBOOST MSG_TYPE_MIXER+15
                              847 ; 239  |#define MIXER_LINE_INCR MSG_TYPE_MIXER+16
                              848 ; 240  |#define MIXER_LINE_DECR MSG_TYPE_MIXER+17
                              849 ; 241  |#define MIXER_LINE_SETLVL MSG_TYPE_MIXER+18
                              850 ; 242  |#define MIXER_LINE_MUTE MSG_TYPE_MIXER+19
                              851 ; 243  |#define MIXER_LINE_UNMUTE MSG_TYPE_MIXER+20
                              852 ; 244  |#define MIXER_FM_INCR MSG_TYPE_MIXER+21
                              853 ; 245  |#define MIXER_FM_DECR MSG_TYPE_MIXER+22
                              854 ; 246  |#define MIXER_FM_SETLVL MSG_TYPE_MIXER+23
                              855 ; 247  |#define MIXER_FM_MUTE MSG_TYPE_MIXER+24
                              856 ; 248  |#define MIXER_FM_UNMUTE MSG_TYPE_MIXER+25
                              857 ; 249  |#define MIXER_DAC_INCR MSG_TYPE_MIXER+26
                              858 ; 250  |#define MIXER_DAC_DECR MSG_TYPE_MIXER+27
                              859 ; 251  |#define MIXER_DAC_SETLVL MSG_TYPE_MIXER+28
                              860 ; 252  |#define MIXER_DAC_MUTE MSG_TYPE_MIXER+29
                              861 ; 253  |#define MIXER_DAC_UNMUTE MSG_TYPE_MIXER+30
                              862 ; 254  |#define MIXER_ADC_SELECT MSG_TYPE_MIXER+31
                              863 ; 255  |#define MIXER_ADC_INCR MSG_TYPE_MIXER+32
                              864 ; 256  |#define MIXER_ADC_DECR MSG_TYPE_MIXER+33
                              865 ; 257  |#define MIXER_ADC_SETLVL MSG_TYPE_MIXER+34
                              866 ; 258  |#define MIXER_ADC_MUTE MSG_TYPE_MIXER+35
                              867 ; 259  |#define MIXER_ADC_UNMUTE MSG_TYPE_MIXER+36
                              868 ; 260  |#define MIXER_REC_SELECT MSG_TYPE_MIXER+37
                              869 ; 261  |#define MIXER_POWER_DOWN MSG_TYPE_MIXER+38
                              870 ; 262  |#define ENABLE_RIGHT_CH MSG_TYPE_MIXER+39
                              871 ; 263  |#define DISABLE_RIGHT_CH MSG_TYPE_MIXER+40
                              872 ; 264  |#define MIXER_LAST_MSG_ID MSG_TYPE_MIXER+40
                              873 ; 265  |// If you change the mixer message ID's then you must
                              874 ; 266  |// also change the jump table in mixer.asm
                              875 ; 267  |#define MIXER_ON 0
                              876 ; 268  |#define MIXER_OFF 1
                              877 ; 269  |
                              878 ; 270  |
                              879 ; 271  |// System Message IDs
                              880 ; 272  |#define SYSTEM_FIRST_MSG_ID MSG_TYPE_SYSTEM+0
                              881 ; 273  |#define SYSTEM_SHUTDOWN MSG_TYPE_SYSTEM+0
                              882 ; 274  |#define SYSTEM_SHUTDOWN_FALSE MSG_TYPE_SYSTEM+1
                              883 ; 275  |#define SYSTEM_SHUTDOWN_FINAL MSG_TYPE_SYSTEM+2
                              884 ; 276  |#define SYSTEM_LAST_MSG_ID MSG_TYPE_SYSTEM+2
                              885 ; 277  |// If you change the system message ID's then you must
                              886 ; 278  |// also change the jump table in systemapi.asm
                              887 ; 279  |
                              888 ; 280  |// Menu IDs
                              889 ; 281  |#define MENU_FIRST_MSG_ID MSG_TYPE_MENU+0
                              890 ; 282  |#define MENU_BUTTON_EVENT MSG_TYPE_MENU+0
                              891 ; 283  |#define MENU_DECODER_STATE_CHNG MSG_TYPE_MENU+1
                              892 ; 284  |#define MENU_RECORDER_STATE_CHNG MSG_TYPE_MENU+2
                              893 ; 285  |//sub parameters for this message:
                              894 ; 286  |#define RECORDER_START 0
                              895 ; 287  |#define RECORDER_PAUSE 0x2000
                              896 ; 288  |#define RECORDER_RESUME 0x4000
                              897 ; 289  |#define RECORDER_STOP_NORMAL 0x8000
                              898 ; 290  |#define RECORDER_STOP_FILE_ERROR 0x8001
                              899 ; 291  |#define RECORDER_STOP_OUT_OF_SPACE 0x8002
                              900 ; 292  |#define RECORDER_STOP_LOW_BATTERY 0x8003
                              901 ; 293  |#define MENU_SONG_TIME_CHNG MSG_TYPE_MENU+3
                              902 ; 294  |#define MENU_AB_MODE_OFF MSG_TYPE_MENU+4
                              903 ; 295  |#define MENU_BATTERY_CHNG MSG_TYPE_MENU+5
                              904 ; 296  |#define MENU_SCROLL_TITLE MSG_TYPE_MENU+6
                              905 ; 297  |#define MENU_AUTO_SHUTDOWN MSG_TYPE_MENU+7
                              906 ; 298  |#define MENU_MSG_MEDIA_CHANGED MSG_TYPE_MENU+8
                              907 ; 299  |#define MENU_MSG_MEDIA_OVER_CUR MSG_TYPE_MENU+9
                              908 ; 300  |#define MENU_TUNER_TUNED MSG_TYPE_MENU+10
                              909 ; 301  |#define MENU_MSG_ENC_LOW_SPACE MSG_TYPE_MENU+11
                              910 ; 302  |#define MENU_MSG_EQ_SETTINGS MSG_TYPE_MENU+12
                              911 ; 303  |#define MENU_RECORDER_WRITE_DATA MSG_TYPE_MENU+13
                              912 ; 304  |#define MENU_SONG_TRACK_CHNG MSG_TYPE_MENU+14
                              913 ; 305  |#define MENU_SET_SONG_POSITION MSG_TYPE_MENU+15
                              914 ; 306  |#define MENU_UPDATE_CHAPTER_INFO MSG_TYPE_MENU+16
                              915 ; 307  |#define MENU_USB_CONNECTED MSG_TYPE_MENU+17
                              916 ; 308  |#define MENU_MSG_LYRICS_SYNC_AB MSG_TYPE_MENU+18
                              917 ; 309  |#define MENU_MSG_LYRICS_UPDATE MSG_TYPE_MENU+19
                              918 ; 310  |#define MENU_TUNER_REFRESH_DISPLAY MSG_TYPE_MENU+20
                              919 ; 311  |#define MENU_TUNER_DIRTY_FLASH MSG_TYPE_MENU+21
                              920 ; 312  |#define MENU_LAST_MSG_ID MSG_TYPE_MENU+21
                              921 ; 313  |
                              922 ; 314  |// Note that other versions of this file have different msg equates.
                              923 ; 315  |// If you change the system message ID's then you must
                              924 ; 316  |// also change the jump table in all menu *.asm
                              925 ; 317  |
                              926 ; 318  |// LED Message IDs
                              927 ; 319  |#define LED_FIRST_MSG_ID MSG_TYPE_LED+0
                              928 ; 320  |#define LED_CONTROL MSG_TYPE_LED+0
                              929 ; 321  |#define LED_RESET MSG_TYPE_LED+1
                              930 ; 322  |#define LED_DLY_ON_CONTROL MSG_TYPE_LED+2
                              931 ; 323  |#define LED_LAST_MSG_ID MSG_TYPE_LED+2
                              932 ; 324  |// If you change the LeD message ID's then you must
                              933 ; 325  |// also change the jump table in ledapi.asm
                              934 ; 326  |
                              935 ; 327  |#if (!defined(REMOVE_FM))
                              936 ; 328  |// FM Tuner Message IDs
                              937 ; 329  |#define TUNER_FIRST_MSG_ID MSG_TYPE_TUNER+0
                              938 ; 330  |#define TUNER_TUNE_FREQUENCY MSG_TYPE_TUNER+0
                              939 ; 331  |#define TUNER_TUNE_MANUAL_UP MSG_TYPE_TUNER+1
                              940 ; 332  |#define TUNER_TUNE_MANUAL_DOWN MSG_TYPE_TUNER+2
                              941 ; 333  |#define TUNER_TUNE_SEARCH_UP MSG_TYPE_TUNER+3
                              942 ; 334  |#define TUNER_TUNE_SEARCH_DOWN MSG_TYPE_TUNER+4
                              943 ; 335  |#define TUNER_FORCED_MONO MSG_TYPE_TUNER+5
                              944 ; 336  |#define TUNER_RESET MSG_TYPE_TUNER+6
                              945 ; 337  |#define TUNER_POWER_ON MSG_TYPE_TUNER+7
                              946 ; 338  |#define TUNER_POWER_OFF MSG_TYPE_TUNER+8
                              947 ; 339  |#define TUNER_SET_SENSITIVITY MSG_TYPE_TUNER+9
                              948 ; 340  |//one parameter--the sensitivity in uV
                              949 ; 341  |#define TUNER_GET_STATES MSG_TYPE_TUNER+10
                              950 ; 342  |#define TUNER_MUTE_OUTPUTS MSG_TYPE_TUNER+11
                              951 ; 343  |#define TUNER_PRESET_STATION MSG_TYPE_TUNER+12
                              952 ; 344  |#define TUNER_TUNE_TO_PRESET MSG_TYPE_TUNER+13
                              953 ; 345  |#define TUNER_SET_PRESET MSG_TYPE_TUNER+14
                              954 ; 346  |#define TUNER_ERASE_PRESET MSG_TYPE_TUNER+15
                              955 ; 347  |#define TUNER_LAST_MSG_ID MSG_TYPE_TUNER+15
                              956 ; 348  |#endif
                              957 ; 349  |
                              958 ; 350  |#define SOFT_TIMER_FIRST_MSG_ID MSG_TYPE_SOFT_TIMER+0
                              959 ; 351  |#define SOFT_TIMER_SET_TIMER MSG_TYPE_SOFT_TIMER+1
                              960 ; 352  |#define SOFT_TIMER_KILL_TIMER MSG_TYPE_SOFT_TIMER+2
                              961 ; 353  |#define SOFT_TIMER_LAST_MSG_ID MSG_TYPE_SOFT_TIMER+2
                              962 ; 354  |
                              963 ; 355  |
                              964 ; 356  |#define GEQ_FIRST_MSG_ID MSG_TYPE_GEQ+0
                              965 ; 357  |#define GEQ_SET_EQ MSG_TYPE_GEQ+0
                              966 ; 358  |#define GEQ_SET_EQ_LEGACY MSG_TYPE_GEQ+1
                              967 ; 359  |#define GEQ_SET_ALL_BAND_GAINS MSG_TYPE_GEQ+2
                              968 ; 360  |#define GEQ_SET_GAIN MSG_TYPE_GEQ+3
                              969 ; 361  |#define GEQ_SET_COEFFICIENTS MSG_TYPE_GEQ+4
                              970 ; 362  |#define GEQ_SET_PARAM MSG_TYPE_GEQ+5
                              971 ; 363  |#define GEQ_GET_SETTINGS MSG_TYPE_GEQ+6
                              972 ; 364  |#define GEQ_LAST_MSG_ID MSG_TYPE_GEQ+6
                              973 ; 365  |
                              974 ; 366  |#if (defined(USE_PLAYLIST3))
                              975 ; 367  |// Music Library
                              976 ; 368  |#define MUSICLIB_PLAY_FIRST_MSG_ID MSG_TYPE_MUSICLIB_PLAY+0
                              977 ; 369  |#define MUSICLIB_START_PLAY_SONG MSG_TYPE_MUSICLIB_PLAY+0
                              978 ; 370  |#define MUSICLIB_START_PLAY_ALL_SONG MSG_TYPE_MUSICLIB_PLAY+1
                              979 ; 371  |#define MUSICLIB_PLAY_SETSHUFFLE MSG_TYPE_MUSICLIB_PLAY+2
                              980 ; 372  |#define MUSICLIB_PLAY_RESUME MSG_TYPE_MUSICLIB_PLAY+3
                              981 ; 373  |#define MUSICLIB_PLAY_CURRENT_SIZE MSG_TYPE_MUSICLIB_PLAY+4
                              982 ; 374  |#define MUSICLIB_PLAY_LAST_MSG_ID MSG_TYPE_MUSICLIB_PLAY+4
                              983 ; 375  |
                              984 ; 376  |#define MUSICLIB_BROWSE_FIRST_MSG_ID MSG_TYPE_MUSICLIB_BROWSE+0
                              985 ; 377  |#define MUSICLIB_BROWSE_SETROOT MSG_TYPE_MUSICLIB_BROWSE+0
                              986 ; 378  |#define MUSICLIB_BROWSE_BROWSEMENU MSG_TYPE_MUSICLIB_BROWSE+1
                              987 ; 379  |#define MUSICLIB_BROWSE_DOWNLIST MSG_TYPE_MUSICLIB_BROWSE+2
                              988 ; 380  |#define MUSICLIB_BROWSE_UPLIST MSG_TYPE_MUSICLIB_BROWSE+3
                              989 ; 381  |#define MUSICLIB_BROWSE_UPMENU MSG_TYPE_MUSICLIB_BROWSE+4
                              990 ; 382  |#define MUSICLIB_BROWSE_SONGNUMBER MSG_TYPE_MUSICLIB_BROWSE+5
                              991 ; 383  |#define MUSICLIB_BROWSE_ON_THE_FLY_GET_STATUS MSG_TYPE_MUSICLIB_BROWSE+6
                              992 ; 384  |#define MUSICLIB_BROWSE_ON_THE_FLY_ADD_ITEM MSG_TYPE_MUSICLIB_BROWSE+7
                              993 ; 385  |#define MUSICLIB_BROWSE_ON_THE_FLY_DELETE_ITEM MSG_TYPE_MUSICLIB_BROWSE+8
                              994 ; 386  |#define MUSICLIB_BROWSE_ON_THE_FLY_DELETE_ALL MSG_TYPE_MUSICLIB_BROWSE+9
                              995 ; 387  |#define MUSICLIB_BROWSE_LAST_MSG_ID MSG_TYPE_MUSICLIB_BROWSE+9
                              996 ; 388  |
                              997 ; 389  |#define MUSICLIB_PLAYALLNEXT_FIRST_MSG_ID MSG_TYPE_MUSICLIB_PLAYALLNEXT+0
                              998 ; 390  |#define MUSICLIB_PLAYNEXTSONG MSG_TYPE_MUSICLIB_PLAYALLNEXT+0
                              999 ; 391  |#define MUSICLIB_PLAYALLNEXT_LAST_MSG_ID MSG_TYPE_MUSICLIB_PLAYALLNEXT+0
                             1000 ; 392  |
                             1001 ; 393  |#define MUSICLIB_PLAYALLPREV_FIRST_MSG_ID MSG_TYPE_MUSICLIB_PLAYALLPREV+0
                             1002 ; 394  |#define MUSICLIB_PLAYPREVIOUSSONG MSG_TYPE_MUSICLIB_PLAYALLPREV+0
                             1003 ; 395  |#define MUSICLIB_PLAYALLPREV_LAST_MSG_ID MSG_TYPE_MUSICLIB_PLAYALLPREV+0
                             1004 ; 396  |
                             1005 ; 397  |#define MUSICLIB_SHUFFLE_FIRST_MSG_ID MSG_TYPE_MUSICLIB_SHUFFLE+0
                             1006 ; 398  |#define MUSICLIB_SHUFFLE_NEXT MSG_TYPE_MUSICLIB_SHUFFLE+0
                             1007 ; 399  |#define MUSICLIB_SHUFFLE_LAST_MSG_ID MSG_TYPE_MUSICLIB_SHUFFLE+0
                             1008 ; 400  |
                             1009 ; 401  |#define MUSICLIB_VOICE_FIRST_MSG_ID MSG_TYPE_MUSICLIB_VOICE+0
                             1010 ; 402  |#define MUSICLIB_VOICE_BROWSEMENU MSG_TYPE_MUSICLIB_VOICE+0
                             1011 ; 403  |#define MUSICLIB_VOICE_DOWNLIST MSG_TYPE_MUSICLIB_VOICE+1
                             1012 ; 404  |#define MUSICLIB_VOICE_UPLIST MSG_TYPE_MUSICLIB_VOICE+2
                             1013 ; 405  |#define MUSICLIB_VOICE_UPMENU MSG_TYPE_MUSICLIB_VOICE+3
                             1014 ; 406  |#define MUSICLIB_VOICE_VOICENUMBER MSG_TYPE_MUSICLIB_VOICE+4
                             1015 ; 407  |#define MUSICLIB_VOICE_LAST_MSG_ID MSG_TYPE_MUSICLIB_VOICE+4
                             1016 ; 408  |
                             1017 ; 409  |#define MUSICLIB_VOICEPLAY_FIRST_MSG_ID MSG_TYPE_MUSICLIB_VOICEPLAY+0
                             1018 ; 410  |#define MUSICLIB_START_PLAY_VOICE MSG_TYPE_MUSICLIB_VOICEPLAY+0
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page   5

M:ADDR CODE           CYCLES LINE SOURCELINE
                             1019 ; 411  |#define MUSICLIB_VOICEPLAY_LAST_MSG_ID MSG_TYPE_MUSICLIB_VOICEPLAY+0
                             1020 ; 412  |
                             1021 ; 413  |#define MUSICLIB_MERGE_FIRST_MSG_ID MSG_TYPE_MUSICLIB_MERGE+0
                             1022 ; 414  |#define MUSICLIB_MERGE_SONG MSG_TYPE_MUSICLIB_MERGE+0
                             1023 ; 415  |#define MUSICLIB_MERGE_ALL_SONG MSG_TYPE_MUSICLIB_MERGE+1
                             1024 ; 416  |#define MUSICLIB_MERGE_RESUME MSG_TYPE_MUSICLIB_MERGE+2
                             1025 ; 417  |#define MUSICLIB_MERGE_LAST_MSG_ID MSG_TYPE_MUSICLIB_MERGE+2
                             1026 ; 418  |#endif // IF (@def(USE_PLAYLIST3))
                             1027 ; 419  |
                             1028 ; 420  |#if defined(USE_PLAYLIST5)
                             1029 ; 421  |#define PL5_PL_FIRST_MSG_ID MSG_TYPE_PL5_PLAYBACK+0
                             1030 ; 422  |#define PL5_PL_MSG_RESET MSG_TYPE_PL5_PLAYBACK+0
                             1031 ; 423  |#define PL5_PL_MSG_CDSEARCHING MSG_TYPE_PL5_PLAYBACK+1
                             1032 ; 424  |#define PL5_PL_MSG_START MSG_TYPE_PL5_PLAYBACK+2
                             1033 ; 425  |#define PL5_PL_MSG_STOP MSG_TYPE_PL5_PLAYBACK+3
                             1034 ; 426  |#define PL5_PL_MSG_PAUSE MSG_TYPE_PL5_PLAYBACK+4
                             1035 ; 427  |#define PL5_PL_MSG_RESUME MSG_TYPE_PL5_PLAYBACK+5
                             1036 ; 428  |#define PL5_PL_MSG_DELETE MSG_TYPE_PL5_PLAYBACK+6
                             1037 ; 429  |#define PL5_PL_MSG_PLAY MSG_TYPE_PL5_PLAYBACK+7
                             1038 ; 430  |#define PL5_PL_MSG_DISCNT MSG_TYPE_PL5_PLAYBACK+8
                             1039 ; 431  |#define PL5_PL_MSG_ENACNT MSG_TYPE_PL5_PLAYBACK+9
                             1040 ; 432  |#define PL5_PL_LAST_MSG_ID MSG_TYPE_PL5_PLAYBACK+9
                             1041 ; 433  |
                             1042 ; 434  |#define PL5_BR_FIRST_MSG_ID MSG_TYPE_PL5_BROWSE+0
                             1043 ; 435  |#define PL5_BR_MSG_RESET MSG_TYPE_PL5_BROWSE+0
                             1044 ; 436  |#define PL5_BR_MSG_CDBROWSING MSG_TYPE_PL5_BROWSE+1
                             1045 ; 437  |#define PL5_BR_MSG_START MSG_TYPE_PL5_BROWSE+2
                             1046 ; 438  |#define PL5_BR_MSG_STOP MSG_TYPE_PL5_BROWSE+3
                             1047 ; 439  |#define PL5_BR_MSG_PAUSE MSG_TYPE_PL5_BROWSE+4
                             1048 ; 440  |#define PL5_BR_MSG_RESUME MSG_TYPE_PL5_BROWSE+5
                             1049 ; 441  |#define PL5_BR_MSG_DELETE MSG_TYPE_PL5_BROWSE+6
                             1050 ; 442  |#define PL5_BR_LAST_MSG_ID MSG_TYPE_PL5_BROWSE+6
                             1051 ; 443  |#endif // if @def('USE_PLAYLIST5')
                             1052 ; 444  |// Events
                             1053 ; 445  |// No event
                             1054 ; 446  |#define EVENT_NONE 0x000001   
                             1055 ; 447  |// A message has been posted
                             1056 ; 448  |#define EVENT_MESSAGE 0x000002   
                             1057 ; 449  |// Run if wait time elapsed
                             1058 ; 450  |#define EVENT_TIMER 0x000004   
                             1059 ; 451  |// Run if a button event occured
                             1060 ; 452  |#define EVENT_BUTTON 0x000008   
                             1061 ; 453  |// Run if a background event occured
                             1062 ; 454  |#define EVENT_BACKGROUND 0x000010   
                             1063 ; 455  |// The executive should immediately repeat this module
                             1064 ; 456  |#define EVENT_REPEAT 0x000020   
                             1065 ; 457  |// Run the module's init routine
                             1066 ; 458  |#define EVENT_INIT 0x800000   
                             1067 ; 459  |
                             1068 ; 460  |#define EVENT_NONE_BITPOS 0
                             1069 ; 461  |#define EVENT_MESSAGE_BITPOS 1
                             1070 ; 462  |#define EVENT_TIMER_BITPOS 2
                             1071 ; 463  |#define EVENT_BUTTON_BITPOS 3
                             1072 ; 464  |#define EVENT_BACKGROUND_BITPOS 4
                             1073 ; 465  |#define EVENT_REPEAT_BITPOS 5
                             1074 ; 466  |#define EVENT_INIT_BITPOS 23
                             1075 ; 467  |
                             1076 ; 468  |// Parser Message Buffers
                             1077 ; 469  |#define ParserPlayBit 0
                             1078 ; 470  |#define ButtonPressBit 1
                             1079 ; 471  |#define ParserRwndBit 1
                             1080 ; 472  |#define ParserFfwdBit 2
                             1081 ; 473  |
                             1082 ; 474  |//NextSong Message Parameters
                             1083 ; 475  |// ButtonPressBit1 set to denote button was pressed.
                             1084 ; 476  |#define NEXT_SONG 2             
                             1085 ; 477  |// ButtonPressBit1 cleared
                             1086 ; 478  |#define NEXT_SONG_PLAY_EOF 1          
                             1087 ; 479  |// ButtonPressBit1 set
                             1088 ; 480  |#define NEXT_SONG_PLAY_BUTTON 3          
                             1089 ; 481  |// NextSong + Ffwd
                             1090 ; 482  |#define NEXT_SONG_FFWD 4          
                             1091 ; 483  |
                             1092 ; 484  |//PrevSong Message Parameters
                             1093 ; 485  |// PrevSong + Stopped
                             1094 ; 486  |#define PREV_SONG 0          
                             1095 ; 487  |// PrevSong + Play
                             1096 ; 488  |#define PREV_SONG_PLAY 1          
                             1097 ; 489  |// PrevSong + Rwnd
                             1098 ; 490  |#define PREV_SONG_RWND 2          
                             1099 ; 491  |
                             1100 ; 492  |
                             1101 ; 493  |
                             1102 ; 494  |
                             1103 ; 495  |#endif // IF (!@def(MSGEQU_INC))
                             1104 ; 496  |
                             1105 ; 497  |
                             1106 
                             1108 
                             1109 ; 28   |
                             1110 ; 29   |#endif 
                             1111 
                             1113 
                             1114 ; 12   |#include "playlist.h"       //required include file
                             1115 
                             1117 
                             1118 ; 1    |#ifndef PLAYLIST_H
                             1119 ; 2    |#define PLAYLIST_H
                             1120 ; 3    |
                             1121 ; 4    |#include "types.h"
                             1122 
                             1124 
                             1125 ; 1    |////////////////////////////////////////////////////////////////////////////////
                             1126 ; 2    |// Copyright(C) SigmaTel, Inc. 2000-2004
                             1127 ; 3    |//
                             1128 ; 4    |// Filename: types.h
                             1129 ; 5    |// Description: Standard data types
                             1130 ; 6    |////////////////////////////////////////////////////////////////////////////////
                             1131 ; 7    |
                             1132 ; 8    |#ifndef _TYPES_H
                             1133 ; 9    |#define _TYPES_H
                             1134 ; 10   |
                             1135 ; 11   |// TODO:  move this outta here!
                             1136 ; 12   |#if !defined(NOERROR)
                             1137 ; 13   |#define NOERROR 0
                             1138 ; 14   |#define SUCCESS 0
                             1139 ; 15   |#endif 
                             1140 ; 16   |#if !defined(SUCCESS)
                             1141 ; 17   |#define SUCCESS  0
                             1142 ; 18   |#endif
                             1143 ; 19   |#if !defined(ERROR)
                             1144 ; 20   |#define ERROR   -1
                             1145 ; 21   |#endif
                             1146 ; 22   |#if !defined(FALSE)
                             1147 ; 23   |#define FALSE 0
                             1148 ; 24   |#endif
                             1149 ; 25   |#if !defined(TRUE)
                             1150 ; 26   |#define TRUE  1
                             1151 ; 27   |#endif
                             1152 ; 28   |
                             1153 ; 29   |#if !defined(NULL)
                             1154 ; 30   |#define NULL 0
                             1155 ; 31   |#endif
                             1156 ; 32   |
                             1157 ; 33   |#define MAX_INT     0x7FFFFF
                             1158 ; 34   |#define MAX_LONG    0x7FFFFFffffff
                             1159 ; 35   |        // max positive unsigned long value: -1 == 0xFFFFFFffffff
                             1160 ; 36   |#define MAX_ULONG   (-1) 
                             1161 ; 37   |
                             1162 ; 38   |#define WORD_SIZE   24              // word size in bits
                             1163 ; 39   |#define BYTES_PER_WORD 3            // 8 bit bytes
                             1164 ; 40   |
                             1165 ; 41   |
                             1166 ; 42   |#define BYTE    unsigned char       // btVarName
                             1167 ; 43   |#define CHAR    signed char         // cVarName
                             1168 ; 44   |#define USHORT  unsigned short      // usVarName
                             1169 ; 45   |#define SHORT   unsigned short      // sVarName
                             1170 ; 46   |#define WORD    unsigned int        // wVarName
                             1171 ; 47   |#define INT     signed int          // iVarName
                             1172 ; 48   |#define DWORD   unsigned long       // dwVarName
                             1173 ; 49   |#define LONG    signed long         // lVarName
                             1174 ; 50   |#define BOOL    unsigned int        // bVarName
                             1175 ; 51   |#define FRACT   _fract              // frVarName
                             1176 ; 52   |#define LFRACT  long _fract         // lfrVarName
                             1177 ; 53   |#define CIRC    _circ               // cp<type prefix>VarName (see below)
                             1178 ; 54   |#define FLOAT   float               // fVarName
                             1179 ; 55   |#define DBL     double              // dVarName
                             1180 ; 56   |#define ENUM    enum                // eVarName
                             1181 ; 57   |#define CMX     _complex            // cmxVarName
                             1182 ; 58   |typedef WORD UCS3;                   // 
                             1183 ; 59   |
                             1184 ; 60   |#define UINT16  unsigned short
                             1185 ; 61   |#define UINT8   unsigned char   
                             1186 ; 62   |#define UINT32  unsigned long
                             1187 ; 63   |#define UINT64  unsigned long   // need to figure out how to do 64 bit values.  Or port exisiting code to only use 48 bit
                             1188 ; 64   |#define INT64   unsigned long   // need to figure out how to do 64 bit values.  Or port exisiting code to only use 48 bit
                             1189 ; 65   |#define WCHAR   UINT16
                             1190 ; 66   |
                             1191 ; 67   |//UINT128 is 16 bytes or 6 words
                             1192 ; 68   |typedef struct UINT128_3500 {   
                             1193 ; 69   |    int val[6];     
                             1194 ; 70   |} UINT128_3500;
                             1195 ; 71   |
                             1196 ; 72   |#define UINT128   UINT128_3500
                             1197 ; 73   |
                             1198 ; 74   |// Little endian word packed byte strings:   
                             1199 ; 75   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                             1200 ; 76   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                             1201 ; 77   |// Little endian word packed byte strings:   
                             1202 ; 78   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                             1203 ; 79   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                             1204 ; 80   |
                             1205 ; 81   |// Declare Memory Spaces To Use When Coding
                             1206 ; 82   |// A. Sector Buffers
                             1207 ; 83   |#define SECTOR_BUFFER_MEM_X _X
                             1208 ; 84   |#define SECTOR_BUFFER_MEM_Y _Y
                             1209 ; 85   |#define SECTOR_BUFFER_MEM SECTOR_BUFFER_MEM_X
                             1210 ; 86   |typedef WORD SECTOR_BUFFER_MEM SECTOR_BUFFER;
                             1211 ; 87   |typedef SECTOR_BUFFER * P_SECTOR_BUFFER;
                             1212 ; 88   |// B. Media DDI Memory
                             1213 ; 89   |#define MEDIA_DDI_MEM _Y
                             1214 ; 90   |
                             1215 ; 91   |
                             1216 ; 92   |
                             1217 ; 93   |// Pointers to linear structures are labeled as: p<type prefix>VarName
                             1218 ; 94   |// Examples of circular pointers:
                             1219 ; 95   |//    INT CIRC cpiVarName
                             1220 ; 96   |//    DWORD CIRC cpdwVarName
                             1221 ; 97   |
                             1222 ; 98   |#define RETCODE INT                 // rcVarName
                             1223 ; 99   |
                             1224 ; 100  |// generic bitfield structure
                             1225 ; 101  |struct Bitfield {
                             1226 ; 102  |    unsigned int B0  :1;
                             1227 ; 103  |    unsigned int B1  :1;
                             1228 ; 104  |    unsigned int B2  :1;
                             1229 ; 105  |    unsigned int B3  :1;
                             1230 ; 106  |    unsigned int B4  :1;
                             1231 ; 107  |    unsigned int B5  :1;
                             1232 ; 108  |    unsigned int B6  :1;
                             1233 ; 109  |    unsigned int B7  :1;
                             1234 ; 110  |    unsigned int B8  :1;
                             1235 ; 111  |    unsigned int B9  :1;
                             1236 ; 112  |    unsigned int B10 :1;
                             1237 ; 113  |    unsigned int B11 :1;
                             1238 ; 114  |    unsigned int B12 :1;
                             1239 ; 115  |    unsigned int B13 :1;
                             1240 ; 116  |    unsigned int B14 :1;
                             1241 ; 117  |    unsigned int B15 :1;
                             1242 ; 118  |    unsigned int B16 :1;
                             1243 ; 119  |    unsigned int B17 :1;
                             1244 ; 120  |    unsigned int B18 :1;
                             1245 ; 121  |    unsigned int B19 :1;
                             1246 ; 122  |    unsigned int B20 :1;
                             1247 ; 123  |    unsigned int B21 :1;
                             1248 ; 124  |    unsigned int B22 :1;
                             1249 ; 125  |    unsigned int B23 :1;
                             1250 ; 126  |};
                             1251 ; 127  |
                             1252 ; 128  |union BitInt {
                             1253 ; 129  |        struct Bitfield B;
                             1254 ; 130  |        int        I;
                             1255 ; 131  |};
                             1256 ; 132  |
                             1257 ; 133  |#define MAX_MSG_LENGTH 10
                             1258 ; 134  |struct CMessage
                             1259 ; 135  |{
                             1260 ; 136  |        unsigned int m_uLength;
                             1261 ; 137  |        unsigned int m_uMsg[MAX_MSG_LENGTH];
                             1262 ; 138  |};
                             1263 ; 139  |
                             1264 ; 140  |typedef struct {
                             1265 ; 141  |    WORD m_wLength;
                             1266 ; 142  |    WORD m_wMessage;
                             1267 ; 143  |    WORD m_wParams[MAX_MSG_LENGTH];
                             1268 ; 144  |} Message;
                             1269 ; 145  |
                             1270 ; 146  |struct MessageQueueDescriptor
                             1271 ; 147  |{
                             1272 ; 148  |        int *m_pBase;
                             1273 ; 149  |        int m_iModulo;
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page   6

M:ADDR CODE           CYCLES LINE SOURCELINE
                             1274 ; 150  |        int m_iSize;
                             1275 ; 151  |        int *m_pHead;
                             1276 ; 152  |        int *m_pTail;
                             1277 ; 153  |};
                             1278 ; 154  |
                             1279 ; 155  |struct ModuleEntry
                             1280 ; 156  |{
                             1281 ; 157  |    int m_iSignaledEventMask;
                             1282 ; 158  |    int m_iWaitEventMask;
                             1283 ; 159  |    int m_iResourceOfCode;
                             1284 ; 160  |    struct MessageQueueDescriptor *m_pMessageQueue;
                             1285 ; 161  |    int _asmfunc (*m_pProcessEntryPoint)(union WaitMask Signals,struct MessageQueueDescriptor *);
                             1286 ; 162  |    int _asmfunc (*m_pInitFunction)(struct MessageQueueDescriptor *);
                             1287 ; 163  |    int m_uTimeOutHigh;
                             1288 ; 164  |    int m_uTimeOutLow;
                             1289 ; 165  |    int _asmfunc (*m_pBackgroundFunction)(struct MessageQueueDescriptor *);
                             1290 ; 166  |};
                             1291 ; 167  |
                             1292 ; 168  |union WaitMask{
                             1293 ; 169  |    struct B{
                             1294 ; 170  |        unsigned int m_bNone     :1;
                             1295 ; 171  |        unsigned int m_bMessage  :1;
                             1296 ; 172  |        unsigned int m_bTimer    :1;
                             1297 ; 173  |        unsigned int m_bButton   :1;
                             1298 ; 174  |    } B;
                             1299 ; 175  |    int I;
                             1300 ; 176  |} ;
                             1301 ; 177  |
                             1302 ; 178  |
                             1303 ; 179  |struct Button {
                             1304 ; 180  |        WORD wButtonEvent;
                             1305 ; 181  |        WORD wUnused[MAX_MSG_LENGTH];   
                             1306 ; 182  |};
                             1307 ; 183  |
                             1308 ; 184  |struct Message {
                             1309 ; 185  |        WORD wMsgLength;
                             1310 ; 186  |        WORD wMsgCommand;
                             1311 ; 187  |        WORD wMsgParms[MAX_MSG_LENGTH-1];
                             1312 ; 188  |};
                             1313 ; 189  |
                             1314 ; 190  |union EventTypes {
                             1315 ; 191  |        struct CMessage msg;
                             1316 ; 192  |        struct Button Button ;
                             1317 ; 193  |        struct Message Message;
                             1318 ; 194  |};
                             1319 ; 195  |
                             1320 ; 196  |// next 2 used to get updater build to return correct protocol ver in scsi response.
                             1321 ; 197  |#define BUILD_TYPE_UPDATER  0x100
                             1322 ; 198  |#define BUILD_TYPE_HOSTLINK 0x101
                             1323 ; 199  |#define BUILD_TYPE_PLAYER   0x102
                             1324 ; 200  |
                             1325 ; 201  |// Resets part if RETAIL build. DEBUG build executes debug instruction to halt.
                             1326 ; 202  |#define SystemHalt() __asm(" include 'sysmacro.asm' \n error") 
                             1327 ; 203  |#define assert(x)    if(!(x)) __asm(" include 'sysmacro.asm' \n error")
                             1328 ; 204  |
                             1329 ; 205  |#if DEBUG
                             1330 ; 206  |// For DEBUG builds, DebugBuildAssert(condition) halts if condition evaluates to FALSE. 
                             1331 ; 207  |#define DebugBuildAssert(x)    if(!(x)) __asm(" debug ")
                             1332 ; 208  |#else 
                             1333 ; 209  |// For RETAIL builds, DebugBuildAssert(condition) does nothing & execution continues rather than halt or reset. 
                             1334 ; 210  |#define DebugBuildAssert(x)    
                             1335 ; 211  |#endif
                             1336 ; 212  |
                             1337 ; 213  |// Do this in your C files to make a reminder that's displayed during the build.
                             1338 ; 214  |//  #pragma asm
                             1339 ; 215  |//  WARN 'Note to builder: reminder to do this after verifying that'
                             1340 ; 216  |//  #pragma endasm
                             1341 ; 217  |
                             1342 ; 218  |
                             1343 ; 219  |#ifdef COLOR_262K
                             1344 ; 220  |#define RGB(r,g,b)    ((0x0000FC & (r)) << 10) | ((0x0000FC & (g)) << 4) | ((0x0000FC & (b)) >> 2)    //262k
                             1345 ; 221  |#elif defined(COLOR_65K)
                             1346 ; 222  |#define RGB(r,g,b)    ((0x0000F8 & (r)) << 8) | ((0x0000FC & (g)) << 3) | ((0x0000F8 & (b)) >> 3)  //65k
                             1347 ; 223  |#else
                             1348 ; 224  |#define RGB(r,g,b)       ((0x0000F0 & (r)) << 4) | (0x0000F0 & (g)) | ((0x0000F0 & (b)) >> 4)
                             1349 ; 225  |#endif
                             1350 ; 226  |    
                             1351 ; 227  |#endif // #ifndef _TYPES_H
                             1352 
                             1354 
                             1355 ; 5    |
                             1356 ; 6    |typedef struct {
                             1357 ; 7    |    WORD    m_wTrack;                       
                             1358 ; 8    |    WORD    m_wDeviceID;
                             1359 ; 9    |    WORD    m_wBufferLength;            //this is in BYTES, not WORDS!
                             1360 ; 10   |    _packed BYTE *m_pFilename;
                             1361 ; 11   |} SONGFILEINFO;
                             1362 ; 12   |
                             1363 ; 13   |#define PLAYLIST_SUCCESS                                0
                             1364 ; 14   |#define PLAYLIST_FILE_ERROR                             1
                             1365 ; 15   |#define PLAYLIST_END_OF_LIST                    2
                             1366 ; 16   |#define PLAYLIST_TRACK_NOT_FOUND                3
                             1367 ; 17   |#define PLAYLIST_DIR_NOT_EMPTY          4 
                             1368 ; 18   |#define PLAYLIST_REBUILD                5
                             1369 ; 19   |#define PLAYLIST_LAST_RETCODE                   5               //The value should always be the same as the last RETCODE
                             1370 ; 20   |
                             1371 ; 21   |
                             1372 ; 22   |#ifdef  USE_PLAYLIST1
                             1373 ; 23   |RETCODE ChangeDIRtoFileEntryDir(struct FileEntry *pCurrentEntry, _packed BYTE * buffer);
                             1374 ; 24   |#endif
                             1375 ; 25   |RETCODE _reentrant Playlist_LFNGetFileName(int,int,UCS3*);                      //UCS3 is actually typdef WORD
                             1376 
                             1378 
                             1379 ; 26   |RETCODE _reentrant Playlist_MarkCurrentSongPlayed(int,int,int*);
                             1380 ; 27   |RETCODE _reentrant Playlist_GetCurrentSongFileInfo(int, int, int*);
                             1381 ; 28   |RETCODE _reentrant Playlist_GetNextSongFileInfo(int, int , int*);
                             1382 ; 29   |RETCODE _reentrant Playlist_GetPreviousSongFileInfo(int,int,int*);
                             1383 ; 30   |#ifdef USE_PLAYLIST1
                             1384 ; 31   |_reentrant INT Playlist_LocateEntryFromName(INT,INT,INT*);
                             1385 ; 32   |#endif
                             1386 ; 33   |
                             1387 ; 34   |#endif 
                             1388 
                             1390 
                             1391 ; 13   |#include "playerlib.h"
                             1392 
                             1394 
                             1395 ; 1    |#ifndef _PLAYERLIB_H
                             1396 ; 2    |#define _PLAYERLIB_H
                             1397 ; 3    |
                             1398 ; 4    |#include "types.h"
                             1399 
                             1401 
                             1402 ; 1    |////////////////////////////////////////////////////////////////////////////////
                             1403 ; 2    |// Copyright(C) SigmaTel, Inc. 2000-2004
                             1404 ; 3    |//
                             1405 ; 4    |// Filename: types.h
                             1406 ; 5    |// Description: Standard data types
                             1407 ; 6    |////////////////////////////////////////////////////////////////////////////////
                             1408 ; 7    |
                             1409 ; 8    |#ifndef _TYPES_H
                             1410 ; 9    |#define _TYPES_H
                             1411 ; 10   |
                             1412 ; 11   |// TODO:  move this outta here!
                             1413 ; 12   |#if !defined(NOERROR)
                             1414 ; 13   |#define NOERROR 0
                             1415 ; 14   |#define SUCCESS 0
                             1416 ; 15   |#endif 
                             1417 ; 16   |#if !defined(SUCCESS)
                             1418 ; 17   |#define SUCCESS  0
                             1419 ; 18   |#endif
                             1420 ; 19   |#if !defined(ERROR)
                             1421 ; 20   |#define ERROR   -1
                             1422 ; 21   |#endif
                             1423 ; 22   |#if !defined(FALSE)
                             1424 ; 23   |#define FALSE 0
                             1425 ; 24   |#endif
                             1426 ; 25   |#if !defined(TRUE)
                             1427 ; 26   |#define TRUE  1
                             1428 ; 27   |#endif
                             1429 ; 28   |
                             1430 ; 29   |#if !defined(NULL)
                             1431 ; 30   |#define NULL 0
                             1432 ; 31   |#endif
                             1433 ; 32   |
                             1434 ; 33   |#define MAX_INT     0x7FFFFF
                             1435 ; 34   |#define MAX_LONG    0x7FFFFFffffff
                             1436 ; 35   |        // max positive unsigned long value: -1 == 0xFFFFFFffffff
                             1437 ; 36   |#define MAX_ULONG   (-1) 
                             1438 ; 37   |
                             1439 ; 38   |#define WORD_SIZE   24              // word size in bits
                             1440 ; 39   |#define BYTES_PER_WORD 3            // 8 bit bytes
                             1441 ; 40   |
                             1442 ; 41   |
                             1443 ; 42   |#define BYTE    unsigned char       // btVarName
                             1444 ; 43   |#define CHAR    signed char         // cVarName
                             1445 ; 44   |#define USHORT  unsigned short      // usVarName
                             1446 ; 45   |#define SHORT   unsigned short      // sVarName
                             1447 ; 46   |#define WORD    unsigned int        // wVarName
                             1448 ; 47   |#define INT     signed int          // iVarName
                             1449 ; 48   |#define DWORD   unsigned long       // dwVarName
                             1450 ; 49   |#define LONG    signed long         // lVarName
                             1451 ; 50   |#define BOOL    unsigned int        // bVarName
                             1452 ; 51   |#define FRACT   _fract              // frVarName
                             1453 ; 52   |#define LFRACT  long _fract         // lfrVarName
                             1454 ; 53   |#define CIRC    _circ               // cp<type prefix>VarName (see below)
                             1455 ; 54   |#define FLOAT   float               // fVarName
                             1456 ; 55   |#define DBL     double              // dVarName
                             1457 ; 56   |#define ENUM    enum                // eVarName
                             1458 ; 57   |#define CMX     _complex            // cmxVarName
                             1459 ; 58   |typedef WORD UCS3;                   // 
                             1460 ; 59   |
                             1461 ; 60   |#define UINT16  unsigned short
                             1462 ; 61   |#define UINT8   unsigned char   
                             1463 ; 62   |#define UINT32  unsigned long
                             1464 ; 63   |#define UINT64  unsigned long   // need to figure out how to do 64 bit values.  Or port exisiting code to only use 48 bit
                             1465 ; 64   |#define INT64   unsigned long   // need to figure out how to do 64 bit values.  Or port exisiting code to only use 48 bit
                             1466 ; 65   |#define WCHAR   UINT16
                             1467 ; 66   |
                             1468 ; 67   |//UINT128 is 16 bytes or 6 words
                             1469 ; 68   |typedef struct UINT128_3500 {   
                             1470 ; 69   |    int val[6];     
                             1471 ; 70   |} UINT128_3500;
                             1472 ; 71   |
                             1473 ; 72   |#define UINT128   UINT128_3500
                             1474 ; 73   |
                             1475 ; 74   |// Little endian word packed byte strings:   
                             1476 ; 75   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                             1477 ; 76   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                             1478 ; 77   |// Little endian word packed byte strings:   
                             1479 ; 78   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                             1480 ; 79   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                             1481 ; 80   |
                             1482 ; 81   |// Declare Memory Spaces To Use When Coding
                             1483 ; 82   |// A. Sector Buffers
                             1484 ; 83   |#define SECTOR_BUFFER_MEM_X _X
                             1485 ; 84   |#define SECTOR_BUFFER_MEM_Y _Y
                             1486 ; 85   |#define SECTOR_BUFFER_MEM SECTOR_BUFFER_MEM_X
                             1487 ; 86   |typedef WORD SECTOR_BUFFER_MEM SECTOR_BUFFER;
                             1488 ; 87   |typedef SECTOR_BUFFER * P_SECTOR_BUFFER;
                             1489 ; 88   |// B. Media DDI Memory
                             1490 ; 89   |#define MEDIA_DDI_MEM _Y
                             1491 ; 90   |
                             1492 ; 91   |
                             1493 ; 92   |
                             1494 ; 93   |// Pointers to linear structures are labeled as: p<type prefix>VarName
                             1495 ; 94   |// Examples of circular pointers:
                             1496 ; 95   |//    INT CIRC cpiVarName
                             1497 ; 96   |//    DWORD CIRC cpdwVarName
                             1498 ; 97   |
                             1499 ; 98   |#define RETCODE INT                 // rcVarName
                             1500 ; 99   |
                             1501 ; 100  |// generic bitfield structure
                             1502 ; 101  |struct Bitfield {
                             1503 ; 102  |    unsigned int B0  :1;
                             1504 ; 103  |    unsigned int B1  :1;
                             1505 ; 104  |    unsigned int B2  :1;
                             1506 ; 105  |    unsigned int B3  :1;
                             1507 ; 106  |    unsigned int B4  :1;
                             1508 ; 107  |    unsigned int B5  :1;
                             1509 ; 108  |    unsigned int B6  :1;
                             1510 ; 109  |    unsigned int B7  :1;
                             1511 ; 110  |    unsigned int B8  :1;
                             1512 ; 111  |    unsigned int B9  :1;
                             1513 ; 112  |    unsigned int B10 :1;
                             1514 ; 113  |    unsigned int B11 :1;
                             1515 ; 114  |    unsigned int B12 :1;
                             1516 ; 115  |    unsigned int B13 :1;
                             1517 ; 116  |    unsigned int B14 :1;
                             1518 ; 117  |    unsigned int B15 :1;
                             1519 ; 118  |    unsigned int B16 :1;
                             1520 ; 119  |    unsigned int B17 :1;
                             1521 ; 120  |    unsigned int B18 :1;
                             1522 ; 121  |    unsigned int B19 :1;
                             1523 ; 122  |    unsigned int B20 :1;
                             1524 ; 123  |    unsigned int B21 :1;
                             1525 ; 124  |    unsigned int B22 :1;
                             1526 ; 125  |    unsigned int B23 :1;
                             1527 ; 126  |};
                             1528 ; 127  |
                             1529 ; 128  |union BitInt {
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page   7

M:ADDR CODE           CYCLES LINE SOURCELINE
                             1530 ; 129  |        struct Bitfield B;
                             1531 ; 130  |        int        I;
                             1532 ; 131  |};
                             1533 ; 132  |
                             1534 ; 133  |#define MAX_MSG_LENGTH 10
                             1535 ; 134  |struct CMessage
                             1536 ; 135  |{
                             1537 ; 136  |        unsigned int m_uLength;
                             1538 ; 137  |        unsigned int m_uMsg[MAX_MSG_LENGTH];
                             1539 ; 138  |};
                             1540 ; 139  |
                             1541 ; 140  |typedef struct {
                             1542 ; 141  |    WORD m_wLength;
                             1543 ; 142  |    WORD m_wMessage;
                             1544 ; 143  |    WORD m_wParams[MAX_MSG_LENGTH];
                             1545 ; 144  |} Message;
                             1546 ; 145  |
                             1547 ; 146  |struct MessageQueueDescriptor
                             1548 ; 147  |{
                             1549 ; 148  |        int *m_pBase;
                             1550 ; 149  |        int m_iModulo;
                             1551 ; 150  |        int m_iSize;
                             1552 ; 151  |        int *m_pHead;
                             1553 ; 152  |        int *m_pTail;
                             1554 ; 153  |};
                             1555 ; 154  |
                             1556 ; 155  |struct ModuleEntry
                             1557 ; 156  |{
                             1558 ; 157  |    int m_iSignaledEventMask;
                             1559 ; 158  |    int m_iWaitEventMask;
                             1560 ; 159  |    int m_iResourceOfCode;
                             1561 ; 160  |    struct MessageQueueDescriptor *m_pMessageQueue;
                             1562 ; 161  |    int _asmfunc (*m_pProcessEntryPoint)(union WaitMask Signals,struct MessageQueueDescriptor *);
                             1563 ; 162  |    int _asmfunc (*m_pInitFunction)(struct MessageQueueDescriptor *);
                             1564 ; 163  |    int m_uTimeOutHigh;
                             1565 ; 164  |    int m_uTimeOutLow;
                             1566 ; 165  |    int _asmfunc (*m_pBackgroundFunction)(struct MessageQueueDescriptor *);
                             1567 ; 166  |};
                             1568 ; 167  |
                             1569 ; 168  |union WaitMask{
                             1570 ; 169  |    struct B{
                             1571 ; 170  |        unsigned int m_bNone     :1;
                             1572 ; 171  |        unsigned int m_bMessage  :1;
                             1573 ; 172  |        unsigned int m_bTimer    :1;
                             1574 ; 173  |        unsigned int m_bButton   :1;
                             1575 ; 174  |    } B;
                             1576 ; 175  |    int I;
                             1577 ; 176  |} ;
                             1578 ; 177  |
                             1579 ; 178  |
                             1580 ; 179  |struct Button {
                             1581 ; 180  |        WORD wButtonEvent;
                             1582 ; 181  |        WORD wUnused[MAX_MSG_LENGTH];   
                             1583 ; 182  |};
                             1584 ; 183  |
                             1585 ; 184  |struct Message {
                             1586 ; 185  |        WORD wMsgLength;
                             1587 ; 186  |        WORD wMsgCommand;
                             1588 ; 187  |        WORD wMsgParms[MAX_MSG_LENGTH-1];
                             1589 ; 188  |};
                             1590 ; 189  |
                             1591 ; 190  |union EventTypes {
                             1592 ; 191  |        struct CMessage msg;
                             1593 ; 192  |        struct Button Button ;
                             1594 ; 193  |        struct Message Message;
                             1595 ; 194  |};
                             1596 ; 195  |
                             1597 ; 196  |// next 2 used to get updater build to return correct protocol ver in scsi response.
                             1598 ; 197  |#define BUILD_TYPE_UPDATER  0x100
                             1599 ; 198  |#define BUILD_TYPE_HOSTLINK 0x101
                             1600 ; 199  |#define BUILD_TYPE_PLAYER   0x102
                             1601 ; 200  |
                             1602 ; 201  |// Resets part if RETAIL build. DEBUG build executes debug instruction to halt.
                             1603 ; 202  |#define SystemHalt() __asm(" include 'sysmacro.asm' \n error") 
                             1604 ; 203  |#define assert(x)    if(!(x)) __asm(" include 'sysmacro.asm' \n error")
                             1605 ; 204  |
                             1606 ; 205  |#if DEBUG
                             1607 ; 206  |// For DEBUG builds, DebugBuildAssert(condition) halts if condition evaluates to FALSE. 
                             1608 ; 207  |#define DebugBuildAssert(x)    if(!(x)) __asm(" debug ")
                             1609 ; 208  |#else 
                             1610 ; 209  |// For RETAIL builds, DebugBuildAssert(condition) does nothing & execution continues rather than halt or reset. 
                             1611 ; 210  |#define DebugBuildAssert(x)    
                             1612 ; 211  |#endif
                             1613 ; 212  |
                             1614 ; 213  |// Do this in your C files to make a reminder that's displayed during the build.
                             1615 ; 214  |//  #pragma asm
                             1616 ; 215  |//  WARN 'Note to builder: reminder to do this after verifying that'
                             1617 ; 216  |//  #pragma endasm
                             1618 ; 217  |
                             1619 ; 218  |
                             1620 ; 219  |#ifdef COLOR_262K
                             1621 ; 220  |#define RGB(r,g,b)    ((0x0000FC & (r)) << 10) | ((0x0000FC & (g)) << 4) | ((0x0000FC & (b)) >> 2)    //262k
                             1622 ; 221  |#elif defined(COLOR_65K)
                             1623 ; 222  |#define RGB(r,g,b)    ((0x0000F8 & (r)) << 8) | ((0x0000FC & (g)) << 3) | ((0x0000F8 & (b)) >> 3)  //65k
                             1624 ; 223  |#else
                             1625 ; 224  |#define RGB(r,g,b)       ((0x0000F0 & (r)) << 4) | (0x0000F0 & (g)) | ((0x0000F0 & (b)) >> 4)
                             1626 ; 225  |#endif
                             1627 ; 226  |    
                             1628 ; 227  |#endif // #ifndef _TYPES_H
                             1629 
                             1631 
                             1632 ; 5    |#include "playlist.h"
                             1633 
                             1635 
                             1636 ; 1    |#ifndef PLAYLIST_H
                             1637 ; 2    |#define PLAYLIST_H
                             1638 ; 3    |
                             1639 ; 4    |#include "types.h"
                             1640 ; 5    |
                             1641 ; 6    |typedef struct {
                             1642 ; 7    |    WORD    m_wTrack;                       
                             1643 ; 8    |    WORD    m_wDeviceID;
                             1644 ; 9    |    WORD    m_wBufferLength;            //this is in BYTES, not WORDS!
                             1645 ; 10   |    _packed BYTE *m_pFilename;
                             1646 ; 11   |} SONGFILEINFO;
                             1647 ; 12   |
                             1648 ; 13   |#define PLAYLIST_SUCCESS                                0
                             1649 ; 14   |#define PLAYLIST_FILE_ERROR                             1
                             1650 ; 15   |#define PLAYLIST_END_OF_LIST                    2
                             1651 ; 16   |#define PLAYLIST_TRACK_NOT_FOUND                3
                             1652 ; 17   |#define PLAYLIST_DIR_NOT_EMPTY          4 
                             1653 ; 18   |#define PLAYLIST_REBUILD                5
                             1654 ; 19   |#define PLAYLIST_LAST_RETCODE                   5               //The value should always be the same as the last RETCODE
                             1655 ; 20   |
                             1656 ; 21   |
                             1657 ; 22   |#ifdef  USE_PLAYLIST1
                             1658 ; 23   |RETCODE ChangeDIRtoFileEntryDir(struct FileEntry *pCurrentEntry, _packed BYTE * buffer);
                             1659 ; 24   |#endif
                             1660 ; 25   |RETCODE _reentrant Playlist_LFNGetFileName(int,int,UCS3*);                      //UCS3 is actually typdef WORD
                             1661 ; 26   |RETCODE _reentrant Playlist_MarkCurrentSongPlayed(int,int,int*);
                             1662 ; 27   |RETCODE _reentrant Playlist_GetCurrentSongFileInfo(int, int, int*);
                             1663 ; 28   |RETCODE _reentrant Playlist_GetNextSongFileInfo(int, int , int*);
                             1664 ; 29   |RETCODE _reentrant Playlist_GetPreviousSongFileInfo(int,int,int*);
                             1665 ; 30   |#ifdef USE_PLAYLIST1
                             1666 ; 31   |_reentrant INT Playlist_LocateEntryFromName(INT,INT,INT*);
                             1667 ; 32   |#endif
                             1668 ; 33   |
                             1669 ; 34   |#endif 
                             1670 
                             1672 
                             1673 ; 6    |
                             1674 ; 7    |#define DECODER_STATE_STOP          0
                             1675 ; 8    |#define DECODER_STATE_PLAY          1
                             1676 ; 9    |#define DECODER_STATE_PAUSE         2
                             1677 ; 10   |#define DECODER_STATE_TOGGLE    4
                             1678 ; 11   |
                             1679 ; 12   |#define PLAYERLIB_SUCCESS       0
                             1680 ; 13   |#define PLAYERLIB_BAD_FILE      1
                             1681 ; 14   |#define PLAYERLIB_ERROR         2
                             1682 ; 15   |#define PLAYERLIB_END_OF_LIST   3
                             1683 ; 16   |
                             1684 ; 17   |//These are in the DecoderSR/DecoderCSR
                             1685 ; 18   |#define DECODER_PAUSED          1<<5
                             1686 ; 19   |#define DECODER_STOPPED         1<<6
                             1687 ; 20   |#define DECODER_SYNCED          1<<10
                             1688 ; 21   |#define DECODER_PLAYING         1<<12
                             1689 ; 22   |#define DECODER_SONG_INFO       1<<15
                             1690 ; 23   |#define DECODER_FILE_IS_OPEN    1<<16
                             1691 ; 24   |#define DECODER_A_SET           1<<18
                             1692 ; 25   |#define DECODER_B_SET           1<<19
                             1693 ; 26   |#define DECODER_BAD_FILE        1<<21
                             1694 ; 27   |#define DECODER_LOOKING_FOR_SYNC 1<<22
                             1695 ; 28   |
                             1696 ; 29   |//PrevSong Message Parameters
                             1697 ; 30   |#define PREVSONG_STOP        0             //PrevSong + Stopped
                             1698 ; 31   |#define PREVSONG_PLAY        1<<0          //PrevSong + Play
                             1699 ; 32   |#define PREVSONG_RWND        1<<1          //PrevSong + Rwnd
                             1700 ; 33   |//NextSong Message Parameters
                             1701 ; 34   |#define NEXTSONG_STOP        0             //NextSong + Stopped
                             1702 ; 35   |#define NEXTSONG_PLAY_EOF    1             //NextSong + Play + EOF reached
                             1703 ; 36   |#define NEXTSONG_PLAY_BUTTON 3             //NextSong + Play + BUTTON pressed
                             1704 ; 37   |#define NEXTSONG_FFWD        4             //NextSong + Ffwd
                             1705 ; 38   |#define NEXTSONG_DELETE_MENU 5             //NextSong via delete menu
                             1706 ; 39   |//CurrentSong Message Parameters
                             1707 ; 40   |#define CURRENTSONG_DELETE_MENU 1          //CurrentSong via delete menu
                             1708 ; 41   |
                             1709 ; 42   |#ifdef USE_PLAYLIST3
                             1710 ; 43   |extern DWORD    g_CurrentSongFastkey;
                             1711 ; 44   |#endif  // USE_PLAYLIST3
                             1712 ; 45   |
                             1713 ; 46   |#ifdef USE_PLAYLIST5
                             1714 ; 47   |extern long g_CurrentFastKey;
                             1715 ; 48   |#endif //USE_PLAYLIST5
                             1716 ; 49   |RETCODE _reentrant PlayerLib_SetState (int iState,int bWait,int*);  
                             1717 ; 50   |RETCODE _reentrant PlayerLib_FastForward (int bPlayDuring,int,int*);
                             1718 ; 51   |RETCODE _reentrant PlayerLib_Rewind(int bPlayDuring,int,int*);
                             1719 ; 52   |RETCODE _reentrant PlayerLib_SetSongName(int bStartPlaying, int, SONGFILEINFO*);
                             1720 
                             1729 
                             1730 ; 53   |RETCODE _reentrant PlayerLib_GetCurrentSong(WORD wMode,int ignored1,int*ignored2);
                             1731 ; 54   |RETCODE _reentrant PlayerLib_SkipToNextSong(WORD,WORD,int*);
                             1732 ; 55   |RETCODE _reentrant PlayerLib_SkipToPreviousSong(WORD,WORD,int*);
                             1733 ; 56   |RETCODE _reentrant PlayerLib_EnablePlaylist(int bTrueFalse,int,int*);  
                             1734 ; 57   |RETCODE _reentrant PlayerLib_GetMetaData(WORD wMode,int ignored1,int*ignored2);
                             1735 ; 58   |DWORD _reentrant PlayerLib_GetSongPosition(void);
                             1736 ; 59   |RETCODE _reentrant PlayerLib_SetSongPosition(DWORD dwSongPos);
                             1737 ; 60   |////////////////////Bookmarking functions///////////////////////////////
                             1738 ; 61   |RETCODE _reentrant PlayerLib_ResetBookmark(int iCurrentPlayset, int ignored, int* pPtr);
                             1739 ; 62   |RETCODE _reentrant PlayerLib_SetBookmark(int iCurrentPlayset, int iTracknum,int* pPtr);
                             1740 ; 63   |RETCODE _reentrant PlayerLib_GotoTrack(int iTracknum, int ignored, int* ptr);
                             1741 ; 64   |RETCODE _reentrant PlayerLib_GetBookmarkSongInfo(int iCurrentPlayset, int ignored2, int* pPtr);
                             1742 ; 65   |#ifdef USE_PLAYLIST3
                             1743 ; 66   |RETCODE _reentrant PlayerLib_GetCurrentSong_ML(WORD wMode,int ignored1,int*ignored2);
                             1744 ; 67   |#endif // #ifdef USE_PLAYLIST3
                             1745 ; 68   |
                             1746 ; 69   |#endif 
                             1747 
                             1749 
                             1750 ; 14   |#include "project.h"
                             1751 
                             1753 
                             1754 ; 1    |/////////////////////////////////////////////////////////////////////////////////
                             1755 ; 2    |//  Copyright(C) SigmaTel, Inc. 2000-2004
                             1756 ; 3    |//  Filename: project.inc
                             1757 ; 4    |//  Description: 
                             1758 ; 5    |/////////////////////////////////////////////////////////////////////////////////
                             1759 ; 6    |
                             1760 ; 7    |#if (!defined(_PROJECT_INC))
                             1761 ; 8    |#define _PROJECT_INC 1
                             1762 ; 9    |
                             1763 ; 10   |#if defined(STMP_BUILD_PLAYER)
                             1764 ; 11   |#include "hwequ.h"
                             1765 
                             1767 
                             1768 ; 1    |/////////////////////////////////////////////////////////////////////////////////
                             1769 ; 2    |//  Copyright(C) SigmaTel, Inc. 2000-2001
                             1770 ; 3    |//  File        : hwequ.inc
                             1771 ; 4    |//  Description : STMP Hardware Constants
                             1772 ; 5    |/////////////////////////////////////////////////////////////////////////////////
                             1773 ; 6    |
                             1774 ; 7    |// ////////////////////////////////////////////////////////////////////////////////
                             1775 ; 8    |// hwequ is being eliminated for SDK3XXX.  For SDK2.5XX it will now reside in the   
                             1776 ; 9    |// local folder instead of ..\inc.  All register includes are converted to .h by 
                             1777 ; 10   |// registers.mk placed in the ..\lcdexample\player\output_XXXX folder.
                             1778 ; 11   |// ////////////////////////////////////////////////////////////////////////////////
                             1779 ; 12   |
                             1780 ; 13   |#if (!defined(HWEQU_INC))
                             1781 ; 14   |#define HWEQU_INC 1
                             1782 ; 15   |
                             1783 ; 16   |#include "types.h"
                             1784 
                             1786 
                             1787 ; 1    |////////////////////////////////////////////////////////////////////////////////
                             1788 ; 2    |// Copyright(C) SigmaTel, Inc. 2000-2004
                             1789 ; 3    |//
                             1790 ; 4    |// Filename: types.h
                             1791 ; 5    |// Description: Standard data types
                             1792 ; 6    |////////////////////////////////////////////////////////////////////////////////
                             1793 ; 7    |
                             1794 ; 8    |#ifndef _TYPES_H
                             1795 ; 9    |#define _TYPES_H
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page   8

M:ADDR CODE           CYCLES LINE SOURCELINE
                             1796 ; 10   |
                             1797 ; 11   |// TODO:  move this outta here!
                             1798 ; 12   |#if !defined(NOERROR)
                             1799 ; 13   |#define NOERROR 0
                             1800 ; 14   |#define SUCCESS 0
                             1801 ; 15   |#endif 
                             1802 ; 16   |#if !defined(SUCCESS)
                             1803 ; 17   |#define SUCCESS  0
                             1804 ; 18   |#endif
                             1805 ; 19   |#if !defined(ERROR)
                             1806 ; 20   |#define ERROR   -1
                             1807 ; 21   |#endif
                             1808 ; 22   |#if !defined(FALSE)
                             1809 ; 23   |#define FALSE 0
                             1810 ; 24   |#endif
                             1811 ; 25   |#if !defined(TRUE)
                             1812 ; 26   |#define TRUE  1
                             1813 ; 27   |#endif
                             1814 ; 28   |
                             1815 ; 29   |#if !defined(NULL)
                             1816 ; 30   |#define NULL 0
                             1817 ; 31   |#endif
                             1818 ; 32   |
                             1819 ; 33   |#define MAX_INT     0x7FFFFF
                             1820 ; 34   |#define MAX_LONG    0x7FFFFFffffff
                             1821 ; 35   |        // max positive unsigned long value: -1 == 0xFFFFFFffffff
                             1822 ; 36   |#define MAX_ULONG   (-1) 
                             1823 ; 37   |
                             1824 ; 38   |#define WORD_SIZE   24              // word size in bits
                             1825 ; 39   |#define BYTES_PER_WORD 3            // 8 bit bytes
                             1826 ; 40   |
                             1827 ; 41   |
                             1828 ; 42   |#define BYTE    unsigned char       // btVarName
                             1829 ; 43   |#define CHAR    signed char         // cVarName
                             1830 ; 44   |#define USHORT  unsigned short      // usVarName
                             1831 ; 45   |#define SHORT   unsigned short      // sVarName
                             1832 ; 46   |#define WORD    unsigned int        // wVarName
                             1833 ; 47   |#define INT     signed int          // iVarName
                             1834 ; 48   |#define DWORD   unsigned long       // dwVarName
                             1835 ; 49   |#define LONG    signed long         // lVarName
                             1836 ; 50   |#define BOOL    unsigned int        // bVarName
                             1837 ; 51   |#define FRACT   _fract              // frVarName
                             1838 ; 52   |#define LFRACT  long _fract         // lfrVarName
                             1839 ; 53   |#define CIRC    _circ               // cp<type prefix>VarName (see below)
                             1840 ; 54   |#define FLOAT   float               // fVarName
                             1841 ; 55   |#define DBL     double              // dVarName
                             1842 ; 56   |#define ENUM    enum                // eVarName
                             1843 ; 57   |#define CMX     _complex            // cmxVarName
                             1844 ; 58   |typedef WORD UCS3;                   // 
                             1845 ; 59   |
                             1846 ; 60   |#define UINT16  unsigned short
                             1847 ; 61   |#define UINT8   unsigned char   
                             1848 ; 62   |#define UINT32  unsigned long
                             1849 ; 63   |#define UINT64  unsigned long   // need to figure out how to do 64 bit values.  Or port exisiting code to only use 48 bit
                             1850 ; 64   |#define INT64   unsigned long   // need to figure out how to do 64 bit values.  Or port exisiting code to only use 48 bit
                             1851 ; 65   |#define WCHAR   UINT16
                             1852 ; 66   |
                             1853 ; 67   |//UINT128 is 16 bytes or 6 words
                             1854 ; 68   |typedef struct UINT128_3500 {   
                             1855 ; 69   |    int val[6];     
                             1856 ; 70   |} UINT128_3500;
                             1857 ; 71   |
                             1858 ; 72   |#define UINT128   UINT128_3500
                             1859 ; 73   |
                             1860 ; 74   |// Little endian word packed byte strings:   
                             1861 ; 75   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                             1862 ; 76   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                             1863 ; 77   |// Little endian word packed byte strings:   
                             1864 ; 78   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                             1865 ; 79   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                             1866 ; 80   |
                             1867 ; 81   |// Declare Memory Spaces To Use When Coding
                             1868 ; 82   |// A. Sector Buffers
                             1869 ; 83   |#define SECTOR_BUFFER_MEM_X _X
                             1870 ; 84   |#define SECTOR_BUFFER_MEM_Y _Y
                             1871 ; 85   |#define SECTOR_BUFFER_MEM SECTOR_BUFFER_MEM_X
                             1872 ; 86   |typedef WORD SECTOR_BUFFER_MEM SECTOR_BUFFER;
                             1873 ; 87   |typedef SECTOR_BUFFER * P_SECTOR_BUFFER;
                             1874 ; 88   |// B. Media DDI Memory
                             1875 ; 89   |#define MEDIA_DDI_MEM _Y
                             1876 ; 90   |
                             1877 ; 91   |
                             1878 ; 92   |
                             1879 ; 93   |// Pointers to linear structures are labeled as: p<type prefix>VarName
                             1880 ; 94   |// Examples of circular pointers:
                             1881 ; 95   |//    INT CIRC cpiVarName
                             1882 ; 96   |//    DWORD CIRC cpdwVarName
                             1883 ; 97   |
                             1884 ; 98   |#define RETCODE INT                 // rcVarName
                             1885 ; 99   |
                             1886 ; 100  |// generic bitfield structure
                             1887 ; 101  |struct Bitfield {
                             1888 ; 102  |    unsigned int B0  :1;
                             1889 ; 103  |    unsigned int B1  :1;
                             1890 ; 104  |    unsigned int B2  :1;
                             1891 ; 105  |    unsigned int B3  :1;
                             1892 ; 106  |    unsigned int B4  :1;
                             1893 ; 107  |    unsigned int B5  :1;
                             1894 ; 108  |    unsigned int B6  :1;
                             1895 ; 109  |    unsigned int B7  :1;
                             1896 ; 110  |    unsigned int B8  :1;
                             1897 ; 111  |    unsigned int B9  :1;
                             1898 ; 112  |    unsigned int B10 :1;
                             1899 ; 113  |    unsigned int B11 :1;
                             1900 ; 114  |    unsigned int B12 :1;
                             1901 ; 115  |    unsigned int B13 :1;
                             1902 ; 116  |    unsigned int B14 :1;
                             1903 ; 117  |    unsigned int B15 :1;
                             1904 ; 118  |    unsigned int B16 :1;
                             1905 ; 119  |    unsigned int B17 :1;
                             1906 ; 120  |    unsigned int B18 :1;
                             1907 ; 121  |    unsigned int B19 :1;
                             1908 ; 122  |    unsigned int B20 :1;
                             1909 ; 123  |    unsigned int B21 :1;
                             1910 ; 124  |    unsigned int B22 :1;
                             1911 ; 125  |    unsigned int B23 :1;
                             1912 ; 126  |};
                             1913 ; 127  |
                             1914 ; 128  |union BitInt {
                             1915 ; 129  |        struct Bitfield B;
                             1916 ; 130  |        int        I;
                             1917 ; 131  |};
                             1918 ; 132  |
                             1919 ; 133  |#define MAX_MSG_LENGTH 10
                             1920 ; 134  |struct CMessage
                             1921 ; 135  |{
                             1922 ; 136  |        unsigned int m_uLength;
                             1923 ; 137  |        unsigned int m_uMsg[MAX_MSG_LENGTH];
                             1924 ; 138  |};
                             1925 ; 139  |
                             1926 ; 140  |typedef struct {
                             1927 ; 141  |    WORD m_wLength;
                             1928 ; 142  |    WORD m_wMessage;
                             1929 ; 143  |    WORD m_wParams[MAX_MSG_LENGTH];
                             1930 ; 144  |} Message;
                             1931 ; 145  |
                             1932 ; 146  |struct MessageQueueDescriptor
                             1933 ; 147  |{
                             1934 ; 148  |        int *m_pBase;
                             1935 ; 149  |        int m_iModulo;
                             1936 ; 150  |        int m_iSize;
                             1937 ; 151  |        int *m_pHead;
                             1938 ; 152  |        int *m_pTail;
                             1939 ; 153  |};
                             1940 ; 154  |
                             1941 ; 155  |struct ModuleEntry
                             1942 ; 156  |{
                             1943 ; 157  |    int m_iSignaledEventMask;
                             1944 ; 158  |    int m_iWaitEventMask;
                             1945 ; 159  |    int m_iResourceOfCode;
                             1946 ; 160  |    struct MessageQueueDescriptor *m_pMessageQueue;
                             1947 ; 161  |    int _asmfunc (*m_pProcessEntryPoint)(union WaitMask Signals,struct MessageQueueDescriptor *);
                             1948 ; 162  |    int _asmfunc (*m_pInitFunction)(struct MessageQueueDescriptor *);
                             1949 ; 163  |    int m_uTimeOutHigh;
                             1950 ; 164  |    int m_uTimeOutLow;
                             1951 ; 165  |    int _asmfunc (*m_pBackgroundFunction)(struct MessageQueueDescriptor *);
                             1952 ; 166  |};
                             1953 ; 167  |
                             1954 ; 168  |union WaitMask{
                             1955 ; 169  |    struct B{
                             1956 ; 170  |        unsigned int m_bNone     :1;
                             1957 ; 171  |        unsigned int m_bMessage  :1;
                             1958 ; 172  |        unsigned int m_bTimer    :1;
                             1959 ; 173  |        unsigned int m_bButton   :1;
                             1960 ; 174  |    } B;
                             1961 ; 175  |    int I;
                             1962 ; 176  |} ;
                             1963 ; 177  |
                             1964 ; 178  |
                             1965 ; 179  |struct Button {
                             1966 ; 180  |        WORD wButtonEvent;
                             1967 ; 181  |        WORD wUnused[MAX_MSG_LENGTH];   
                             1968 ; 182  |};
                             1969 ; 183  |
                             1970 ; 184  |struct Message {
                             1971 ; 185  |        WORD wMsgLength;
                             1972 ; 186  |        WORD wMsgCommand;
                             1973 ; 187  |        WORD wMsgParms[MAX_MSG_LENGTH-1];
                             1974 ; 188  |};
                             1975 ; 189  |
                             1976 ; 190  |union EventTypes {
                             1977 ; 191  |        struct CMessage msg;
                             1978 ; 192  |        struct Button Button ;
                             1979 ; 193  |        struct Message Message;
                             1980 ; 194  |};
                             1981 ; 195  |
                             1982 ; 196  |// next 2 used to get updater build to return correct protocol ver in scsi response.
                             1983 ; 197  |#define BUILD_TYPE_UPDATER  0x100
                             1984 ; 198  |#define BUILD_TYPE_HOSTLINK 0x101
                             1985 ; 199  |#define BUILD_TYPE_PLAYER   0x102
                             1986 ; 200  |
                             1987 ; 201  |// Resets part if RETAIL build. DEBUG build executes debug instruction to halt.
                             1988 ; 202  |#define SystemHalt() __asm(" include 'sysmacro.asm' \n error") 
                             1989 ; 203  |#define assert(x)    if(!(x)) __asm(" include 'sysmacro.asm' \n error")
                             1990 ; 204  |
                             1991 ; 205  |#if DEBUG
                             1992 ; 206  |// For DEBUG builds, DebugBuildAssert(condition) halts if condition evaluates to FALSE. 
                             1993 ; 207  |#define DebugBuildAssert(x)    if(!(x)) __asm(" debug ")
                             1994 ; 208  |#else 
                             1995 ; 209  |// For RETAIL builds, DebugBuildAssert(condition) does nothing & execution continues rather than halt or reset. 
                             1996 ; 210  |#define DebugBuildAssert(x)    
                             1997 ; 211  |#endif
                             1998 ; 212  |
                             1999 ; 213  |// Do this in your C files to make a reminder that's displayed during the build.
                             2000 ; 214  |//  #pragma asm
                             2001 ; 215  |//  WARN 'Note to builder: reminder to do this after verifying that'
                             2002 ; 216  |//  #pragma endasm
                             2003 ; 217  |
                             2004 ; 218  |
                             2005 ; 219  |#ifdef COLOR_262K
                             2006 ; 220  |#define RGB(r,g,b)    ((0x0000FC & (r)) << 10) | ((0x0000FC & (g)) << 4) | ((0x0000FC & (b)) >> 2)    //262k
                             2007 ; 221  |#elif defined(COLOR_65K)
                             2008 ; 222  |#define RGB(r,g,b)    ((0x0000F8 & (r)) << 8) | ((0x0000FC & (g)) << 3) | ((0x0000F8 & (b)) >> 3)  //65k
                             2009 ; 223  |#else
                             2010 ; 224  |#define RGB(r,g,b)       ((0x0000F0 & (r)) << 4) | (0x0000F0 & (g)) | ((0x0000F0 & (b)) >> 4)
                             2011 ; 225  |#endif
                             2012 ; 226  |    
                             2013 ; 227  |#endif // #ifndef _TYPES_H
                             2014 
                             2016 
                             2017 ; 17   |#include "regsclkctrl.h"
                             2018 
                             2020 
                             2021 ; 1    |#if !(defined(__REGS_CLK_CONTROL_INC))
                             2022 ; 2    |#define __REGS_CLK_CONTROL_INC 1
                             2023 ; 3    |
                             2024 ; 4    |
                             2025 ; 5    |/////////////////////////////////////////////////////////////////////////////////
                             2026 ; 6    |//  Clock Control Register (HW_CCR) Bit Positions
                             2027 ; 7    |#define HW_CCR_CKRST_BITPOS 0
                             2028 ; 8    |#define HW_CCR_LTC_BITPOS 1
                             2029 ; 9    |#define HW_CCR_PLLEN_BITPOS 2
                             2030 ; 10   |#define HW_CCR_XTLEN_BITPOS 3
                             2031 ; 11   |#define HW_CCR_PLL_SOURCE_SEL_BITPOS 4
                             2032 ; 12   |#define HW_CCR_ADIV_B0_BITPOS 5
                             2033 ; 13   |#define HW_CCR_ADIV_B1_BITPOS 6
                             2034 ; 14   |#define HW_CCR_ADIV_B2_BITPOS 7
                             2035 ; 15   |#define HW_CCR_CKSRC_BITPOS 8
                             2036 ; 16   |#define HW_CCR_DDIV_BITPOS 9
                             2037 ; 17   |#define HW_CCR_DDIV_B0_BITPOS 9
                             2038 ; 18   |#define HW_CCR_DDIV_B1_BITPOS 10
                             2039 ; 19   |#define HW_CCR_DDIV_B2_BITPOS 11
                             2040 ; 20   |#define HW_CCR_PDIV_BITPOS 12
                             2041 ; 21   |#define HW_CCR_PDIV_B0_BITPOS 12
                             2042 ; 22   |#define HW_CCR_PDIV_B1_BITPOS 13
                             2043 ; 23   |#define HW_CCR_PDIV_B2_BITPOS 14
                             2044 ; 24   |#define HW_CCR_PDIV_B3_BITPOS 15
                             2045 ; 25   |#define HW_CCR_PDIV_B4_BITPOS 16
                             2046 ; 26   |#define HW_CCR_PWDN_BITPOS 17
                             2047 ; 27   |#define HW_CCR_ACKEN_BITPOS 18
                             2048 ; 28   |#define HW_CCR_LOCK_BITPOS 19
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page   9

M:ADDR CODE           CYCLES LINE SOURCELINE
                             2049 ; 29   |#define HW_CCR_DACDIV_BITPOS 20
                             2050 ; 30   |#define HW_CCR_ADIV1_B0_BITPOS 20
                             2051 ; 31   |#define HW_CCR_ADIV1_B1_BITPOS 21
                             2052 ; 32   |#define HW_CCR_ADIV1_B2_BITPOS 22
                             2053 ; 33   |#define HW_CCR_DDIV_MSB_BITPOS 23
                             2054 ; 34   |
                             2055 ; 35   |#define HW_CCR_CKRST_SETMASK 1<<HW_CCR_CKRST_BITPOS
                             2056 ; 36   |#define HW_CCR_LTC_SETMASK 1<<HW_CCR_LTC_BITPOS
                             2057 ; 37   |#define HW_CCR_PLLEN_SETMASK 1<<HW_CCR_PLLEN_BITPOS
                             2058 ; 38   |#define HW_CCR_XTLEN_SETMASK 1<<HW_CCR_XTLEN_BITPOS
                             2059 ; 39   |#define HW_CCR_ADCDIV_SETMASK 0x7<<HW_CCR_ADIV_B0_BITPOS
                             2060 ; 40   |#define HW_CCR_CKSRC_SETMASK 1<<HW_CCR_CKSRC_BITPOS
                             2061 ; 41   |#define HW_CCR_DDIV_SETMASK 0x7<<HW_CCR_DDIV_BITPOS
                             2062 ; 42   |#define HW_CCR_PDIV_SETMASK 0x1F<<HW_CCR_PDIV_BITPOS
                             2063 ; 43   |#define HW_CCR_PWDN_SETMASK 1<<HW_CCR_PWDN_BITPOS
                             2064 ; 44   |#define HW_CCR_ACKEN_SETMASK 1<<HW_CCR_ACKEN_BITPOS
                             2065 ; 45   |#define HW_CCR_LOCK_SETMASK 1<<HW_CCR_LOCK_BITPOS
                             2066 ; 46   |#define HW_CCR_DACDIV_SETMASK 0x7<<HW_CCR_DACDIV_BITPOS
                             2067 ; 47   |
                             2068 ; 48   |#define HW_CCR_CKRST_CLRMASK ~(WORD)HW_CCR_CKRST_SETMASK
                             2069 ; 49   |#define HW_CCR_LTC_CLRMASK ~(WORD)HW_CCR_LTC_SETMASK
                             2070 ; 50   |#define HW_CCR_PLLEN_CLRMASK ~(WORD)HW_CCR_PLLEN_SETMASK
                             2071 ; 51   |#define HW_CCR_XTLEN_CLRMASK ~(WORD)HW_CCR_XTLEN_SETMASK
                             2072 ; 52   |#define HW_CCR_ADCDIV_CLRMASK ~(WORD)HW_CCR_ADCDIV_SETMASK
                             2073 ; 53   |#define HW_CCR_CKSRC_CLRMASK ~(WORD)HW_CCR_CKSRC_SETMASK
                             2074 ; 54   |#define HW_CCR_DDIV_CLRMASK ~(WORD)HW_CCR_DDIV_SETMASK
                             2075 ; 55   |#define HW_CCR_PDIV_CLRMASK ~(WORD)HW_CCR_PDIV_SETMASK
                             2076 ; 56   |#define HW_CCR_PWDN_CLRMASK ~(WORD)HW_CCR_PWDN_SETMASK
                             2077 ; 57   |#define HW_CCR_ACKEN_CLRMASK ~(WORD)HW_CCR_ACKEN_SETMASK
                             2078 ; 58   |#define HW_CCR_LOCK_CLRMASK ~(WORD)HW_CCR_LOCK_SETMASK
                             2079 ; 59   |#define HW_CCR_DACDIV_CLRMASK ~(WORD)HW_CCR_DACDIV_SETMASK
                             2080 ; 60   |
                             2081 ; 61   |typedef union               
                             2082 ; 62   |{
                             2083 ; 63   |    struct
                             2084 ; 64   |    {
                             2085 ; 65   |        int CKRST       :1; // Clock Reset
                             2086 ; 66   |        int LTC         :1;
                             2087 ; 67   |        int PLLEN       :1;
                             2088 ; 68   |        int XTLEN       :1;
                             2089 ; 69   |        int FLB         :1;
                             2090 ; 70   |        unsigned ADIV   :3;
                             2091 ; 71   |        int CKSRC       :1;
                             2092 ; 72   |        unsigned DDIV   :3;
                             2093 ; 73   |        unsigned PDIV   :5;
                             2094 ; 74   |        int PWDN        :1;
                             2095 ; 75   |        int ACKEN       :1;
                             2096 ; 76   |        int LOCK        :1;
                             2097 ; 77   |        unsigned ADIV1  :3;
                             2098 ; 78   |        unsigned DDIV_MSB:1;
                             2099 ; 79   |    } B;
                             2100 ; 80   |
                             2101 ; 81   |    int I;
                             2102 ; 82   |    unsigned int U;
                             2103 ; 83   |
                             2104 ; 84   |} ccr_type;
                             2105 ; 85   |#define HW_CCR     (*(volatile ccr_type _X*) (0xFA00))
                             2106 ; 86   |
                             2107 ; 87   |/////////////////////////////////////////////////////////////////////////////////
                             2108 ; 88   |//  Reset Control Register (HW_RCR) Bit Positions
                             2109 ; 89   |#define HW_RCR_STKLVL_BITPOS 0
                             2110 ; 90   |#define HW_RCR_SRST_BITPOS 4
                             2111 ; 91   |#define HW_RCR_IRQA_BITPOS 8
                             2112 ; 92   |#define HW_RCR_IRQB_BITPOS 9
                             2113 ; 93   |#define HW_RCR_NMI_BITPOS 10
                             2114 ; 94   |#define HW_RCR_SUNFLLVL_BITPOS 11
                             2115 ; 95   |#define HW_RCR_SUNFLEN_BITPOS 15
                             2116 ; 96   |#define HW_RCR_SOVFLLVL_BITPOS 16
                             2117 ; 97   |#define HW_RCR_SOVFLEN_BITPOS 20
                             2118 ; 98   |#define HW_RCR_IRQB2NMI_BITPOS 21
                             2119 ; 99   |#define HW_RCR_SUNFL_BITPOS 22
                             2120 ; 100  |#define HW_RCR_SOVFL_BITPOS 23
                             2121 ; 101  |
                             2122 ; 102  |#define HW_RCR_STKLVL_WIDTH (4)
                             2123 ; 103  |#define HW_RCR_SRST_WIDTH (4)
                             2124 ; 104  |#define HW_RCR_IRQA_WIDTH (1)
                             2125 ; 105  |#define HW_RCR_IRQB_WIDTH (1)
                             2126 ; 106  |#define HW_RCR_NMI_WIDTH (1)
                             2127 ; 107  |#define HW_RCR_SUNFLLVL_WIDTH (4)
                             2128 ; 108  |#define HW_RCR_SUNFLEN_WIDTH (1)
                             2129 ; 109  |#define HW_RCR_SOVFLLVL_WIDTH (4)
                             2130 ; 110  |#define HW_RCR_SOVFLEN_WIDTH (1)
                             2131 ; 111  |#define HW_RCR_IRQB2NMI_WIDTH (1)
                             2132 ; 112  |#define HW_RCR_SUNFL_WIDTH (1)
                             2133 ; 113  |#define HW_RCR_SOVFL_WIDTH (1)
                             2134 ; 114  |
                             2135 ; 115  |#define HW_RCR_STKLVL_SETMASK (((1<<HW_RCR_STKLVL_WIDTH)-1)<<HW_RCR_STKLVL_BITPOS)
                             2136 ; 116  |#define HW_RCR_SRST_SETMASK (((1<<HW_RCR_SRST_WIDTH)-1)<<HW_RCR_SRST_BITPOS)
                             2137 ; 117  |#define HW_RCR_IRQA_SETMASK (((1<<HW_RCR_IRQA_WIDTH)-1)<<HW_RCR_IRQA_BITPOS)
                             2138 ; 118  |#define HW_RCR_IRQB_SETMASK (((1<<HW_RCR_IRQB_WIDTH)-1)<<HW_RCR_IRQB_BITPOS)
                             2139 ; 119  |#define HW_RCR_NMI_SETMASK (((1<<HW_RCR_NMI_WIDTH)-1)<<HW_RCR_NMI_BITPOS)
                             2140 ; 120  |#define HW_RCR_SUNFLLVL_SETMASK (((1<<HW_RCR_SUNFLLVL_WIDTH)-1)<<HW_RCR_SUNFLLVL_BITPOS)
                             2141 ; 121  |#define HW_RCR_SUNFLEN_SETMASK (((1<<HW_RCR_SUNFLEN_WIDTH)-1)<<HW_RCR_SUNFLEN_BITPOS)
                             2142 ; 122  |#define HW_RCR_SOVFLLVL_SETMASK (((1<<HW_RCR_SOVFLLVL_WIDTH)-1)<<HW_RCR_SOVFLLVL_BITPOS)
                             2143 ; 123  |#define HW_RCR_SOVFLEN_SETMASK (((1<<HW_RCR_SOVFLEN_WIDTH)-1)<<HW_RCR_SOVFLEN_BITPOS)
                             2144 ; 124  |#define HW_RCR_IRQB2NMI_SETMASK (((1<<HW_RCR_IRQB2NMI_WIDTH)-1)<<HW_RCR_IRQB2NMI_BITPOS)
                             2145 ; 125  |#define HW_RCR_SUNFL_SETMASK (((1<<HW_RCR_SUNFL_WIDTH)-1)<<HW_RCR_SUNFL_BITPOS)
                             2146 ; 126  |#define HW_RCR_SOVFL_SETMASK (((1<<HW_RCR_SOVFL_WIDTH)-1)<<HW_RCR_SOVFL_BITPOS)
                             2147 ; 127  |
                             2148 ; 128  |#define HW_RCR_STKLVL_CLRMASK ~(WORD)HW_RCR_STKLVL_SETMASK
                             2149 ; 129  |#define HW_RCR_SRST_CLRMASK ~(WORD)HW_RCR_SRST_SETMASK
                             2150 ; 130  |#define HW_RCR_IRQA_CLRMASK ~(WORD)HW_RCR_IRQA_SETMASK
                             2151 ; 131  |#define HW_RCR_IRQB_CLRMASK ~(WORD)HW_RCR_IRQB_SETMASK
                             2152 ; 132  |#define HW_RCR_NMI_CLRMASK ~(WORD)HW_RCR_NMI_SETMASK
                             2153 ; 133  |#define HW_RCR_SUNFLLVL_CLRMASK ~(WORD)HW_RCR_SUNFLLVL_SETMASK
                             2154 ; 134  |#define HW_RCR_SUNFLEN_CLRMASK ~(WORD)HW_RCR_SUNFLEN_SETMASK
                             2155 ; 135  |#define HW_RCR_SOVFLLVL_CLRMASK ~(WORD)HW_RCR_SOVFLLVL_SETMASK
                             2156 ; 136  |#define HW_RCR_SOVFLEN_CLRMASK ~(WORD)HW_RCR_SOVFLEN_SETMASK
                             2157 ; 137  |#define HW_RCR_IRQB2NMI_CLRMASK ~(WORD)HW_RCR_IRQB2NMI_SETMASK
                             2158 ; 138  |#define HW_RCR_SUNFL_CLRMASK ~(WORD)HW_RCR_SUNFL_SETMASK
                             2159 ; 139  |#define HW_RCR_SOVFL_CLRMASK ~(WORD)HW_RCR_SOVFL_SETMASK
                             2160 ; 140  |
                             2161 ; 141  |typedef union               
                             2162 ; 142  |{
                             2163 ; 143  |    struct
                             2164 ; 144  |   {
                             2165 ; 145  |        int STKLVL   : HW_RCR_STKLVL_WIDTH;
                             2166 ; 146  |        int SRST     : HW_RCR_SRST_WIDTH;
                             2167 ; 147  |        int IRQA     : HW_RCR_IRQA_WIDTH;
                             2168 ; 148  |        int IRQB     : HW_RCR_IRQB_WIDTH;
                             2169 ; 149  |        int NMI      : HW_RCR_NMI_WIDTH;
                             2170 ; 150  |        int SUNFLLVL : HW_RCR_SUNFLLVL_WIDTH;
                             2171 ; 151  |        int SUNFLEN  : HW_RCR_SUNFLEN_WIDTH;
                             2172 ; 152  |        int SOVFLLVL : HW_RCR_SOVFLLVL_WIDTH;
                             2173 ; 153  |        int SOVFLEN  : HW_RCR_SOVFLEN_WIDTH;
                             2174 ; 154  |        int IRQB2NMI : HW_RCR_IRQB2NMI_WIDTH;
                             2175 ; 155  |        int SUNFL    : HW_RCR_SUNFL_WIDTH;
                             2176 ; 156  |        int SOVFL    : HW_RCR_SOVFL_WIDTH;
                             2177 ; 157  |    } B;
                             2178 ; 158  |
                             2179 ; 159  |    int I;
                             2180 ; 160  |    unsigned int U;
                             2181 ; 161  |
                             2182 ; 162  |} rcr_type;
                             2183 ; 163  |#define HW_RCR     (*(volatile rcr_type _X*) (0xFA01))
                             2184 ; 164  |
                             2185 ; 165  |
                             2186 ; 166  |/////////////////////////////////////////////////////////////////////////////////
                             2187 ; 167  |//  DCLK Count Lower register (HW_DCLKCNTL) Bit Positions
                             2188 ; 168  |#define HW_DCLKCNTL_LOW_BITPOS 0
                             2189 ; 169  |
                             2190 ; 170  |#define HW_DCLKCNTL_LOW_WIDTH (24)        
                             2191 ; 171  |
                             2192 ; 172  |#define HW_DCLKCNTL_LOW_SETMASK (((1<<HW_DCLKCNTL_LOW_WIDTH)-1)<<HW_DCLKCNTL_LOW_BITPOS) 
                             2193 ; 173  |#define HW_DCLKCNTL_LOW_CLRMASK ~(WORD)HW_DCLKCNTL_LOW_SETMASK
                             2194 ; 174  |typedef union               
                             2195 ; 175  |{
                             2196 ; 176  |    struct
                             2197 ; 177  |   {
                             2198 ; 178  |        int LOW;
                             2199 ; 179  |    } B;
                             2200 ; 180  |
                             2201 ; 181  |    int I;
                             2202 ; 182  |    unsigned int U;
                             2203 ; 183  |
                             2204 ; 184  |} dclkcntl_type;
                             2205 ; 185  |#define HW_DCLKCNTL (*(volatile dclkcntl_type _X*) (0xFFEA))
                             2206 ; 186  |
                             2207 ; 187  |/////////////////////////////////////////////////////////////////////////////////
                             2208 ; 188  |//  DCLK Count UPPER register (HW_DCLKCNTU) Bit Positions
                             2209 ; 189  |#define HW_DCLKCNTU_HIGH_BITPOS 0
                             2210 ; 190  |
                             2211 ; 191  |#define HW_DCLKCNTU_HIGH_WIDTH (24)        
                             2212 ; 192  |
                             2213 ; 193  |#define HW_DCLKCNTU_HIGH_SETMASK (((1<<HW_DCLKCNTU_HIGH_WIDTH)-1)<<HW_DCLKCNTU_HIGH_BITPOS) 
                             2214 ; 194  |#define HW_DCLKCNTU_HIGH_CLRMASK ~(WORD)HW_DCLKCNTU_HIGH_SETMASK
                             2215 ; 195  |typedef union               
                             2216 ; 196  |{
                             2217 ; 197  |    struct
                             2218 ; 198  |   {
                             2219 ; 199  |        int HIGH;
                             2220 ; 200  |    } B;
                             2221 ; 201  |
                             2222 ; 202  |    int I;
                             2223 ; 203  |    unsigned int U;
                             2224 ; 204  |
                             2225 ; 205  |} dclkcntu_type;
                             2226 ; 206  |#define HW_DCLKCNTU (*(volatile dclkcntu_type _X*) (0xFFEB))
                             2227 ; 207  |
                             2228 ; 208  |//*********************  REGISTER ALIAS DEFINES TO MATCH LEGACY CODE *******************************
                             2229 ; 209  |// The following defines were added to match regs3410.inc definition to build SDK2XXX code without needing 
                             2230 ; 210  |// to update the actual files. Only the defines needed to build SDK2.400 were added. 
                             2231 ; 211  |
                             2232 ; 212  |// Clock count register (lower)
                             2233 ; 213  |#define HW_CLK_CNT_L 0x00FFEA         
                             2234 ; 214  |// Clock count register (upper)
                             2235 ; 215  |#define HW_CLK_CNT_U 0x00FFEB         
                             2236 ; 216  |// Cycle steal count register
                             2237 ; 217  |#define HW_CYC_STEAL 0x00FFEC         
                             2238 ; 218  |
                             2239 ; 219  |#endif
                             2240 ; 220  |
                             2241 ; 221  |
                             2242 
                             2244 
                             2245 ; 18   |#include "regscore.h"
                             2246 
                             2248 
                             2249 ; 1    |#if !(defined(__REGS_STATUS_INC))
                             2250 ; 2    |#define __REGS_STATUS_INC 1
                             2251 ; 3    |
                             2252 ; 4    |
                             2253 ; 5    |/////////////////////////////////////////////////////////////////////////////////
                             2254 ; 6    |//  OMR Register (HW_OMR) Bit Positions
                             2255 ; 7    |#define HW_OMR_MA_BITPOS 0
                             2256 ; 8    |#define HW_OMR_MB_BITPOS 1
                             2257 ; 9    |#define HW_OMR_DE_BITPOS 2
                             2258 ; 10   |#define HW_OMR_YE_BITPOS 3
                             2259 ; 11   |#define HW_OMR_MC_BITPOS 4
                             2260 ; 12   |#define HW_OMR_SD_BITPOS 6
                             2261 ; 13   |
                             2262 ; 14   |#define HW_OMR_MA_SETMASK 1<<HW_OMR_MA_BITPOS
                             2263 ; 15   |#define HW_OMR_MB_SETMASK 1<<HW_OMR_MB_BITPOS
                             2264 ; 16   |#define HW_OMR_DE_SETMASK 1<<HW_OMR_DE_BITPOS
                             2265 ; 17   |#define HW_OMR_YE_SETMASK 1<<HW_OMR_YE_BITPOS
                             2266 ; 18   |#define HW_OMR_MC_SETMASK 1<<HW_OMR_MC_BITPOS
                             2267 ; 19   |#define HW_OMR_SD_SETMASK 1<<HW_OMR_SD_BITPOS
                             2268 ; 20   |
                             2269 ; 21   |#define HW_OMR_MA_CLRMASK ~(WORD)HW_OMR_MA_SETMASK
                             2270 ; 22   |#define HW_OMR_MB_CLRMASK ~(WORD)HW_OMR_MB_SETMASK
                             2271 ; 23   |#define HW_OMR_DE_CLRMASK ~(WORD)HW_OMR_DE_SETMASK
                             2272 ; 24   |#define HW_OMR_YE_CLRMASK ~(WORD)HW_OMR_YE_SETMASK
                             2273 ; 25   |#define HW_OMR_MC_CLRMASK ~(WORD)HW_OMR_MC_SETMASK
                             2274 ; 26   |#define HW_OMR_SD_CLRMASK ~(WORD)HW_OMR_SD_SETMASK
                             2275 ; 27   |
                             2276 ; 28   |
                             2277 ; 29   |/////////////////////////////////////////////////////////////////////////////////
                             2278 ; 30   |//  Status Register (HW_SR) Bit Positions
                             2279 ; 31   |#define HW_SR_C_BITPOS 0
                             2280 ; 32   |#define HW_SR_O_BITPOS 1
                             2281 ; 33   |#define HW_SR_Z_BITPOS 2
                             2282 ; 34   |#define HW_SR_N_BITPOS 3
                             2283 ; 35   |#define HW_SR_U_BITPOS 4
                             2284 ; 36   |#define HW_SR_E_BITPOS 5
                             2285 ; 37   |#define HW_SR_L_BITPOS 6
                             2286 ; 38   |#define HW_SR_IM_BITPOS 8
                             2287 ; 39   |#define HW_SR_IM0_BITPOS 8
                             2288 ; 40   |#define HW_SR_IM1_BITPOS 9
                             2289 ; 41   |#define HW_SR_SM_BITPOS 10
                             2290 ; 42   |#define HW_SR_SM0_BITPOS 10
                             2291 ; 43   |#define HW_SR_SM1_BITPOS 11
                             2292 ; 44   |#define HW_SR_TM_BITPOS 13
                             2293 ; 45   |#define HW_SR_DP_BITPOS 14
                             2294 ; 46   |#define HW_SR_LOOP_BITPOS 15
                             2295 ; 47   |
                             2296 ; 48   |#define HW_SR_C_SETMASK 1<<HW_SR_C_BITPOS
                             2297 ; 49   |#define HW_SR_O_SETMASK 1<<HW_SR_O_BITPOS
                             2298 ; 50   |#define HW_SR_Z_SETMASK 1<<HW_SR_Z_BITPOS
                             2299 ; 51   |#define HW_SR_N_SETMASK 1<<HW_SR_N_BITPOS
                             2300 ; 52   |#define HW_SR_U_SETMASK 1<<HW_SR_U_BITPOS
                             2301 ; 53   |#define HW_SR_E_SETMASK 1<<HW_SR_E_BITPOS
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page  10

M:ADDR CODE           CYCLES LINE SOURCELINE
                             2302 ; 54   |#define HW_SR_L_SETMASK 1<<HW_SR_L_BITPOS
                             2303 ; 55   |#define HW_SR_IM_SETMASK 3<<HW_SR_IM_BITPOS
                             2304 ; 56   |#define HW_SR_IM0_SETMASK 1<<HW_SR_IM0_BITPOS
                             2305 ; 57   |#define HW_SR_IM1_SETMASK 1<<HW_SR_IM1_BITPOS
                             2306 ; 58   |#define HW_SR_IM_L0_SETMASK 0<<HW_SR_IM_BITPOS
                             2307 ; 59   |#define HW_SR_IM_L1_SETMASK 1<<HW_SR_IM_BITPOS
                             2308 ; 60   |#define HW_SR_IM_L2_SETMASK 2<<HW_SR_IM_BITPOS
                             2309 ; 61   |#define HW_SR_IM_L3_SETMASK 3<<HW_SR_IM_BITPOS
                             2310 ; 62   |#define HW_SR_SM_SETMASK 3<<HW_SR_SM_BITPOS
                             2311 ; 63   |#define HW_SR_SM0_SETMASK 1<<HW_SR_SM0_BITPOS
                             2312 ; 64   |#define HW_SR_SM1_SETMASK 1<<HW_SR_SM1_BITPOS
                             2313 ; 65   |#define HW_SR_TM_SETMASK 1<<HW_SR_TM_BITPOS
                             2314 ; 66   |#define HW_SR_DP_SETMASK 1<<HW_SR_DP_BITPOS
                             2315 ; 67   |#define HW_SR_LOOP_SETMASK 1<<HW_SR_LOOP_BITPOS
                             2316 ; 68   |
                             2317 ; 69   |#define HW_SR_C_CLRMASK ~(WORD)HW_SR_C_SETMASK
                             2318 ; 70   |#define HW_SR_O_CLRMASK ~(WORD)HW_SR_O_SETMASK
                             2319 ; 71   |#define HW_SR_Z_CLRMASK ~(WORD)HW_SR_Z_SETMASK
                             2320 ; 72   |#define HW_SR_N_CLRMASK ~(WORD)HW_SR_N_SETMASK
                             2321 ; 73   |#define HW_SR_U_CLRMASK ~(WORD)HW_SR_U_SETMASK
                             2322 ; 74   |#define HW_SR_E_CLRMASK ~(WORD)HW_SR_E_SETMASK
                             2323 ; 75   |#define HW_SR_L_CLRMASK ~(WORD)HW_SR_L_SETMASK
                             2324 ; 76   |#define HW_SR_IM_CLRMASK (0x00FFFF)&(~(WORD)HW_SR_IM_SETMASK)
                             2325 ; 77   |#define HW_SR_IM0_CLRMASK ~(WORD)HW_SR_IM0_SETMASK
                             2326 ; 78   |#define HW_SR_IM1_CLRMASK ~(WORD)HW_SR_IM1_SETMASK
                             2327 ; 79   |#define HW_SR_SM_CLRMASK ~(WORD)HW_SR_SM_SETMASK
                             2328 ; 80   |#define HW_SR_SM0_CLRMASK ~(WORD)HW_SR_SM0_SETMASK
                             2329 ; 81   |#define HW_SR_SM1_CLRMASK ~(WORD)HW_SR_SM1_SETMASK
                             2330 ; 82   |#define HW_SR_TM_CLRMASK ~(WORD)HW_SR_TM_SETMASK
                             2331 ; 83   |#define HW_SR_DP_CLRMASK ~(WORD)HW_SR_DP_SETMASK
                             2332 ; 84   |#define HW_SR_LOOP_CLRMASK ~(WORD)HW_SR_LOOP_SETMASK
                             2333 ; 85   |
                             2334 ; 86   |/////////////////////////////////////////////////////////////////////////////////
                             2335 ; 87   |//  RAM/ROM Config Register Bit Positions
                             2336 ; 88   |#define HW_RAM_ROM_CFG_ROM_IMAGE_EN_BITPOS 18
                             2337 ; 89   |#define HW_RAM_ROM_CFG_ROM_CLK_EN_BITPOS 19
                             2338 ; 90   |#define HW_RAM_ROM_CFG_PXRAM_CLK_EN_BITPOS 20
                             2339 ; 91   |#define HW_RAM_ROM_CFG_PYRAM_CLK_EN_BITPOS 21
                             2340 ; 92   |#endif
                             2341 ; 93   |
                             2342 ; 94   |
                             2343 
                             2345 
                             2346 ; 19   |#include "regscodec.h"
                             2347 
                             2349 
                             2350 ; 1    |#if !(defined(regscodecinc))
                             2351 ; 2    |#define regscodecinc 1
                             2352 ; 3    |
                             2353 ; 4    |
                             2354 ; 5    |
                             2355 ; 6    |#include "types.h"
                             2356 
                             2358 
                             2359 ; 1    |////////////////////////////////////////////////////////////////////////////////
                             2360 ; 2    |// Copyright(C) SigmaTel, Inc. 2000-2004
                             2361 ; 3    |//
                             2362 ; 4    |// Filename: types.h
                             2363 ; 5    |// Description: Standard data types
                             2364 ; 6    |////////////////////////////////////////////////////////////////////////////////
                             2365 ; 7    |
                             2366 ; 8    |#ifndef _TYPES_H
                             2367 ; 9    |#define _TYPES_H
                             2368 ; 10   |
                             2369 ; 11   |// TODO:  move this outta here!
                             2370 ; 12   |#if !defined(NOERROR)
                             2371 ; 13   |#define NOERROR 0
                             2372 ; 14   |#define SUCCESS 0
                             2373 ; 15   |#endif 
                             2374 ; 16   |#if !defined(SUCCESS)
                             2375 ; 17   |#define SUCCESS  0
                             2376 ; 18   |#endif
                             2377 ; 19   |#if !defined(ERROR)
                             2378 ; 20   |#define ERROR   -1
                             2379 ; 21   |#endif
                             2380 ; 22   |#if !defined(FALSE)
                             2381 ; 23   |#define FALSE 0
                             2382 ; 24   |#endif
                             2383 ; 25   |#if !defined(TRUE)
                             2384 ; 26   |#define TRUE  1
                             2385 ; 27   |#endif
                             2386 ; 28   |
                             2387 ; 29   |#if !defined(NULL)
                             2388 ; 30   |#define NULL 0
                             2389 ; 31   |#endif
                             2390 ; 32   |
                             2391 ; 33   |#define MAX_INT     0x7FFFFF
                             2392 ; 34   |#define MAX_LONG    0x7FFFFFffffff
                             2393 ; 35   |        // max positive unsigned long value: -1 == 0xFFFFFFffffff
                             2394 ; 36   |#define MAX_ULONG   (-1) 
                             2395 ; 37   |
                             2396 ; 38   |#define WORD_SIZE   24              // word size in bits
                             2397 ; 39   |#define BYTES_PER_WORD 3            // 8 bit bytes
                             2398 ; 40   |
                             2399 ; 41   |
                             2400 ; 42   |#define BYTE    unsigned char       // btVarName
                             2401 ; 43   |#define CHAR    signed char         // cVarName
                             2402 ; 44   |#define USHORT  unsigned short      // usVarName
                             2403 ; 45   |#define SHORT   unsigned short      // sVarName
                             2404 ; 46   |#define WORD    unsigned int        // wVarName
                             2405 ; 47   |#define INT     signed int          // iVarName
                             2406 ; 48   |#define DWORD   unsigned long       // dwVarName
                             2407 ; 49   |#define LONG    signed long         // lVarName
                             2408 ; 50   |#define BOOL    unsigned int        // bVarName
                             2409 ; 51   |#define FRACT   _fract              // frVarName
                             2410 ; 52   |#define LFRACT  long _fract         // lfrVarName
                             2411 ; 53   |#define CIRC    _circ               // cp<type prefix>VarName (see below)
                             2412 ; 54   |#define FLOAT   float               // fVarName
                             2413 ; 55   |#define DBL     double              // dVarName
                             2414 ; 56   |#define ENUM    enum                // eVarName
                             2415 ; 57   |#define CMX     _complex            // cmxVarName
                             2416 ; 58   |typedef WORD UCS3;                   // 
                             2417 ; 59   |
                             2418 ; 60   |#define UINT16  unsigned short
                             2419 ; 61   |#define UINT8   unsigned char   
                             2420 ; 62   |#define UINT32  unsigned long
                             2421 ; 63   |#define UINT64  unsigned long   // need to figure out how to do 64 bit values.  Or port exisiting code to only use 48 bit
                             2422 ; 64   |#define INT64   unsigned long   // need to figure out how to do 64 bit values.  Or port exisiting code to only use 48 bit
                             2423 ; 65   |#define WCHAR   UINT16
                             2424 ; 66   |
                             2425 ; 67   |//UINT128 is 16 bytes or 6 words
                             2426 ; 68   |typedef struct UINT128_3500 {   
                             2427 ; 69   |    int val[6];     
                             2428 ; 70   |} UINT128_3500;
                             2429 ; 71   |
                             2430 ; 72   |#define UINT128   UINT128_3500
                             2431 ; 73   |
                             2432 ; 74   |// Little endian word packed byte strings:   
                             2433 ; 75   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                             2434 ; 76   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                             2435 ; 77   |// Little endian word packed byte strings:   
                             2436 ; 78   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                             2437 ; 79   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                             2438 ; 80   |
                             2439 ; 81   |// Declare Memory Spaces To Use When Coding
                             2440 ; 82   |// A. Sector Buffers
                             2441 ; 83   |#define SECTOR_BUFFER_MEM_X _X
                             2442 ; 84   |#define SECTOR_BUFFER_MEM_Y _Y
                             2443 ; 85   |#define SECTOR_BUFFER_MEM SECTOR_BUFFER_MEM_X
                             2444 ; 86   |typedef WORD SECTOR_BUFFER_MEM SECTOR_BUFFER;
                             2445 ; 87   |typedef SECTOR_BUFFER * P_SECTOR_BUFFER;
                             2446 ; 88   |// B. Media DDI Memory
                             2447 ; 89   |#define MEDIA_DDI_MEM _Y
                             2448 ; 90   |
                             2449 ; 91   |
                             2450 ; 92   |
                             2451 ; 93   |// Pointers to linear structures are labeled as: p<type prefix>VarName
                             2452 ; 94   |// Examples of circular pointers:
                             2453 ; 95   |//    INT CIRC cpiVarName
                             2454 ; 96   |//    DWORD CIRC cpdwVarName
                             2455 ; 97   |
                             2456 ; 98   |#define RETCODE INT                 // rcVarName
                             2457 ; 99   |
                             2458 ; 100  |// generic bitfield structure
                             2459 ; 101  |struct Bitfield {
                             2460 ; 102  |    unsigned int B0  :1;
                             2461 ; 103  |    unsigned int B1  :1;
                             2462 ; 104  |    unsigned int B2  :1;
                             2463 ; 105  |    unsigned int B3  :1;
                             2464 ; 106  |    unsigned int B4  :1;
                             2465 ; 107  |    unsigned int B5  :1;
                             2466 ; 108  |    unsigned int B6  :1;
                             2467 ; 109  |    unsigned int B7  :1;
                             2468 ; 110  |    unsigned int B8  :1;
                             2469 ; 111  |    unsigned int B9  :1;
                             2470 ; 112  |    unsigned int B10 :1;
                             2471 ; 113  |    unsigned int B11 :1;
                             2472 ; 114  |    unsigned int B12 :1;
                             2473 ; 115  |    unsigned int B13 :1;
                             2474 ; 116  |    unsigned int B14 :1;
                             2475 ; 117  |    unsigned int B15 :1;
                             2476 ; 118  |    unsigned int B16 :1;
                             2477 ; 119  |    unsigned int B17 :1;
                             2478 ; 120  |    unsigned int B18 :1;
                             2479 ; 121  |    unsigned int B19 :1;
                             2480 ; 122  |    unsigned int B20 :1;
                             2481 ; 123  |    unsigned int B21 :1;
                             2482 ; 124  |    unsigned int B22 :1;
                             2483 ; 125  |    unsigned int B23 :1;
                             2484 ; 126  |};
                             2485 ; 127  |
                             2486 ; 128  |union BitInt {
                             2487 ; 129  |        struct Bitfield B;
                             2488 ; 130  |        int        I;
                             2489 ; 131  |};
                             2490 ; 132  |
                             2491 ; 133  |#define MAX_MSG_LENGTH 10
                             2492 ; 134  |struct CMessage
                             2493 ; 135  |{
                             2494 ; 136  |        unsigned int m_uLength;
                             2495 ; 137  |        unsigned int m_uMsg[MAX_MSG_LENGTH];
                             2496 ; 138  |};
                             2497 ; 139  |
                             2498 ; 140  |typedef struct {
                             2499 ; 141  |    WORD m_wLength;
                             2500 ; 142  |    WORD m_wMessage;
                             2501 ; 143  |    WORD m_wParams[MAX_MSG_LENGTH];
                             2502 ; 144  |} Message;
                             2503 ; 145  |
                             2504 ; 146  |struct MessageQueueDescriptor
                             2505 ; 147  |{
                             2506 ; 148  |        int *m_pBase;
                             2507 ; 149  |        int m_iModulo;
                             2508 ; 150  |        int m_iSize;
                             2509 ; 151  |        int *m_pHead;
                             2510 ; 152  |        int *m_pTail;
                             2511 ; 153  |};
                             2512 ; 154  |
                             2513 ; 155  |struct ModuleEntry
                             2514 ; 156  |{
                             2515 ; 157  |    int m_iSignaledEventMask;
                             2516 ; 158  |    int m_iWaitEventMask;
                             2517 ; 159  |    int m_iResourceOfCode;
                             2518 ; 160  |    struct MessageQueueDescriptor *m_pMessageQueue;
                             2519 ; 161  |    int _asmfunc (*m_pProcessEntryPoint)(union WaitMask Signals,struct MessageQueueDescriptor *);
                             2520 ; 162  |    int _asmfunc (*m_pInitFunction)(struct MessageQueueDescriptor *);
                             2521 ; 163  |    int m_uTimeOutHigh;
                             2522 ; 164  |    int m_uTimeOutLow;
                             2523 ; 165  |    int _asmfunc (*m_pBackgroundFunction)(struct MessageQueueDescriptor *);
                             2524 ; 166  |};
                             2525 ; 167  |
                             2526 ; 168  |union WaitMask{
                             2527 ; 169  |    struct B{
                             2528 ; 170  |        unsigned int m_bNone     :1;
                             2529 ; 171  |        unsigned int m_bMessage  :1;
                             2530 ; 172  |        unsigned int m_bTimer    :1;
                             2531 ; 173  |        unsigned int m_bButton   :1;
                             2532 ; 174  |    } B;
                             2533 ; 175  |    int I;
                             2534 ; 176  |} ;
                             2535 ; 177  |
                             2536 ; 178  |
                             2537 ; 179  |struct Button {
                             2538 ; 180  |        WORD wButtonEvent;
                             2539 ; 181  |        WORD wUnused[MAX_MSG_LENGTH];   
                             2540 ; 182  |};
                             2541 ; 183  |
                             2542 ; 184  |struct Message {
                             2543 ; 185  |        WORD wMsgLength;
                             2544 ; 186  |        WORD wMsgCommand;
                             2545 ; 187  |        WORD wMsgParms[MAX_MSG_LENGTH-1];
                             2546 ; 188  |};
                             2547 ; 189  |
                             2548 ; 190  |union EventTypes {
                             2549 ; 191  |        struct CMessage msg;
                             2550 ; 192  |        struct Button Button ;
                             2551 ; 193  |        struct Message Message;
                             2552 ; 194  |};
                             2553 ; 195  |
                             2554 ; 196  |// next 2 used to get updater build to return correct protocol ver in scsi response.
                             2555 ; 197  |#define BUILD_TYPE_UPDATER  0x100
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page  11

M:ADDR CODE           CYCLES LINE SOURCELINE
                             2556 ; 198  |#define BUILD_TYPE_HOSTLINK 0x101
                             2557 ; 199  |#define BUILD_TYPE_PLAYER   0x102
                             2558 ; 200  |
                             2559 ; 201  |// Resets part if RETAIL build. DEBUG build executes debug instruction to halt.
                             2560 ; 202  |#define SystemHalt() __asm(" include 'sysmacro.asm' \n error") 
                             2561 ; 203  |#define assert(x)    if(!(x)) __asm(" include 'sysmacro.asm' \n error")
                             2562 ; 204  |
                             2563 ; 205  |#if DEBUG
                             2564 ; 206  |// For DEBUG builds, DebugBuildAssert(condition) halts if condition evaluates to FALSE. 
                             2565 ; 207  |#define DebugBuildAssert(x)    if(!(x)) __asm(" debug ")
                             2566 ; 208  |#else 
                             2567 ; 209  |// For RETAIL builds, DebugBuildAssert(condition) does nothing & execution continues rather than halt or reset. 
                             2568 ; 210  |#define DebugBuildAssert(x)    
                             2569 ; 211  |#endif
                             2570 ; 212  |
                             2571 ; 213  |// Do this in your C files to make a reminder that's displayed during the build.
                             2572 ; 214  |//  #pragma asm
                             2573 ; 215  |//  WARN 'Note to builder: reminder to do this after verifying that'
                             2574 ; 216  |//  #pragma endasm
                             2575 ; 217  |
                             2576 ; 218  |
                             2577 ; 219  |#ifdef COLOR_262K
                             2578 ; 220  |#define RGB(r,g,b)    ((0x0000FC & (r)) << 10) | ((0x0000FC & (g)) << 4) | ((0x0000FC & (b)) >> 2)    //262k
                             2579 ; 221  |#elif defined(COLOR_65K)
                             2580 ; 222  |#define RGB(r,g,b)    ((0x0000F8 & (r)) << 8) | ((0x0000FC & (g)) << 3) | ((0x0000F8 & (b)) >> 3)  //65k
                             2581 ; 223  |#else
                             2582 ; 224  |#define RGB(r,g,b)       ((0x0000F0 & (r)) << 4) | (0x0000F0 & (g)) | ((0x0000F0 & (b)) >> 4)
                             2583 ; 225  |#endif
                             2584 ; 226  |    
                             2585 ; 227  |#endif // #ifndef _TYPES_H
                             2586 
                             2588 
                             2589 ; 7    |
                             2590 ; 8    |
                             2591 ; 9    |
                             2592 ; 10   |//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                             2593 ; 11   |
                             2594 ; 12   |//   SYSTEM STMP Registers 
                             2595 ; 13   |//      Last Edited 7.17.2003 M. Henson
                             2596 ; 14   |//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                             2597 ; 15   |
                             2598 ; 16   |#define HW_CODEC_BASEADDR (0xFA00)
                             2599 ; 17   |
                             2600 ; 18   |
                             2601 ; 19   |
                             2602 ; 20   |
                             2603 ; 21   |
                             2604 ; 22   |
                             2605 ; 23   |/////////////////////////////////////////////////////////////////////////////////
                             2606 ; 24   |//   Headphone Control Register (HW_HPCTRL) Bit Definitions
                             2607 ; 25   |#define HW_HPCTRL_TESTIALL_BITPOS 0
                             2608 ; 26   |#define HW_HPCTRL_TESTI1_BITPOS 2
                             2609 ; 27   |#define HW_HPCTRL_POP0_BITPOS 4
                             2610 ; 28   |#define HW_HPCTRL_POP1_BITPOS 5
                             2611 ; 29   |#define HW_HPCTRL_POP2_BITPOS 6
                             2612 ; 30   |#define HW_HPCTRL_RSVD0_BITPOS 7
                             2613 ; 31   |#define HW_HPCTRL_HPPWD_BITPOS 8
                             2614 ; 32   |#define HW_HPCTRL_HPCLASSAB_BITPOS 9
                             2615 ; 33   |#define HW_HPCTRL_CAPLESS_BITPOS 10
                             2616 ; 34   |#define HW_HPCTRL_RSRVD1_BITPOS 11
                             2617 ; 35   |#define HW_HPCTRL_SHORTMODE_LR_BITPOS 12
                             2618 ; 36   |#define HW_HPCTRL_SHORTMODE_CM_BITPOS 14
                             2619 ; 37   |#define HW_HPCTRL_SHORT_LVLADJ_BITPOS 16
                             2620 ; 38   |#define HW_HPCTRL_RSRVD2_BITPOS 19
                             2621 ; 39   |#define HW_HPCTRL_CHOP_CLK_BITPOS 20
                             2622 ; 40   |#define HW_HPCTRL_SHORT_LR_BITPOS 22
                             2623 ; 41   |#define HW_HPCTRL_SHORT_CM_BITPOS 23
                             2624 ; 42   |
                             2625 ; 43   |#define HW_HPCTRL_TESTIALL_WIDTH 2
                             2626 ; 44   |#define HW_HPCTRL_TESTI1_WIDTH 2
                             2627 ; 45   |#define HW_HPCTRL_POP0_WIDTH 1
                             2628 ; 46   |#define HW_HPCTRL_POP1_WIDTH 1
                             2629 ; 47   |#define HW_HPCTRL_POP2_WIDTH 1
                             2630 ; 48   |#define HW_HPCTRL_RSVD0_WIDTH 1
                             2631 ; 49   |#define HW_HPCTRL_HPPWD_WIDTH 1
                             2632 ; 50   |#define HW_HPCTRL_HPCLASSAB_WIDTH 1
                             2633 ; 51   |#define HW_HPCTRL_CAPLESS_WIDTH 1
                             2634 ; 52   |#define HW_HPCTRL_RSRVD1_WIDTH 1
                             2635 ; 53   |#define HW_HPCTRL_SHORTMODE_LR_WIDTH 2
                             2636 ; 54   |#define HW_HPCTRL_SHORTMODE_CM_WIDTH 2
                             2637 ; 55   |#define HW_HPCTRL_SHORT_LVLADJ_WIDTH 3
                             2638 ; 56   |#define HW_HPCTRL_RSRVD2_WIDTH 1
                             2639 ; 57   |#define HW_HPCTRL_CHOP_CLK_WIDTH 2
                             2640 ; 58   |#define HW_HPCTRL_SHORT_LR_WIDTH 1
                             2641 ; 59   |#define HW_HPCTRL_SHORT_CM_WIDTH 1
                             2642 ; 60   |
                             2643 ; 61   |#define HW_HPCTRL_POP_SETMASK 0x7<<HW_HPCTRL_POP0_BITPOS
                             2644 ; 62   |#define HW_HPCTRL_POP_CLRMASK ~(WORD)HW_HPCTRL_POP_SETMASK
                             2645 ; 63   |
                             2646 ; 64   |#define HW_HPCTRL_SHORT_LVLADJ_0_25X_SETMASK 0x3<<HW_HPCTRL_SHORT_LVLADJ_BITPOS
                             2647 ; 65   |#define HW_HPCTRL_SHORT_LVLADJ_0_50X_SETMASK 0x2<<HW_HPCTRL_SHORT_LVLADJ_BITPOS
                             2648 ; 66   |#define HW_HPCTRL_SHORT_LVLADJ_0_75X_SETMASK 0x1<<HW_HPCTRL_SHORT_LVLADJ_BITPOS
                             2649 ; 67   |#define HW_HPCTRL_SHORT_LVLADJ_1_00X_SETMASK 0x0<<HW_HPCTRL_SHORT_LVLADJ_BITPOS
                             2650 ; 68   |#define HW_HPCTRL_SHORT_LVLADJ_1_25X_SETMASK 0x4<<HW_HPCTRL_SHORT_LVLADJ_BITPOS
                             2651 ; 69   |#define HW_HPCTRL_SHORT_LVLADJ_1_50X_SETMASK 0x5<<HW_HPCTRL_SHORT_LVLADJ_BITPOS
                             2652 ; 70   |#define HW_HPCTRL_SHORT_LVLADJ_1_75X_SETMASK 0x6<<HW_HPCTRL_SHORT_LVLADJ_BITPOS
                             2653 ; 71   |#define HW_HPCTRL_SHORT_LVLADJ_2_00X_SETMASK 0x7<<HW_HPCTRL_SHORT_LVLADJ_BITPOS
                             2654 ; 72   |
                             2655 ; 73   |#if defined(CAPLESS_HP)
                             2656 ; 74   |#define HP_SHORT_TRIP_POINT HW_HPCTRL_SHORT_LVLADJ_0_75X_SETMASK
                             2657 ; 75   |#else 
                             2658 ; 76   |#define HP_SHORT_TRIP_POINT HW_HPCTRL_SHORT_LVLADJ_1_00X_SETMASK
                             2659 ; 77   |#endif
                             2660 ; 78   |
                             2661 ; 79   |// Headphone control register
                             2662 ; 80   |#define HW_HPCTRL (*(volatile hpctrl_type _X*)(HW_GLUE_BASEADDR+21))
                             2663 ; 81   |/////////////////////////////////////////////////////////////////////////////////
                             2664 ; 82   |//   Headphone Conrol Volume Register (HW_HPCTRL) Bit Definitions
                             2665 ; 83   |typedef union               
                             2666 ; 84   |{
                             2667 ; 85   |    struct {
                             2668 ; 86   |        unsigned TESTIALL :HW_HPCTRL_TESTIALL_WIDTH;
                             2669 ; 87   |        unsigned TESTI1 :HW_HPCTRL_TESTI1_WIDTH;
                             2670 ; 88   |        unsigned POP0 :HW_HPCTRL_POP0_WIDTH; 
                             2671 ; 89   |        unsigned POP1 :HW_HPCTRL_POP1_WIDTH; 
                             2672 ; 90   |        unsigned POP2 :HW_HPCTRL_POP2_WIDTH; 
                             2673 ; 91   |        unsigned RSVD0 :HW_HPCTRL_RSVD0_WIDTH;
                             2674 ; 92   |        unsigned HPPWD :HW_HPCTRL_HPPWD_WIDTH;
                             2675 ; 93   |        unsigned HPCLASSAB :HW_HPCTRL_HPCLASSAB_WIDTH;
                             2676 ; 94   |        unsigned CAPLESS :HW_HPCTRL_CAPLESS_WIDTH; 
                             2677 ; 95   |        unsigned RSRVD1 :HW_HPCTRL_RSRVD1_WIDTH;
                             2678 ; 96   |        unsigned SHORTMODE_LR :HW_HPCTRL_SHORTMODE_LR_WIDTH; 
                             2679 ; 97   |        unsigned SHORTMODE_CM :HW_HPCTRL_SHORTMODE_CM_WIDTH;
                             2680 ; 98   |        unsigned SHORT_LVLADJ :HW_HPCTRL_SHORT_LVLADJ_WIDTH; 
                             2681 ; 99   |        unsigned RSRVD2 :HW_HPCTRL_RSRVD2_WIDTH;
                             2682 ; 100  |        unsigned CHOP_CLK :HW_HPCTRL_CHOP_CLK_WIDTH; 
                             2683 ; 101  |        unsigned SHORT_LR :HW_HPCTRL_SHORT_LR_WIDTH;
                             2684 ; 102  |        unsigned SHORT_CM :HW_HPCTRL_SHORT_CM_WIDTH;
                             2685 ; 103  |    } B;
                             2686 ; 104  |    int I;
                             2687 ; 105  |    unsigned int U;
                             2688 ; 106  |} hpctrl_type;
                             2689 ; 107  |// Headphone control short mode 2 bit values for above short bitfield.
                             2690 ; 108  |#define HW_AUTO_HEADAMP_SHUTDOWN_HOLD_RESET   0
                             2691 ; 109  |#define HW_AUTO_HEADAMP_SHUTDOWN_EN           1 
                             2692 ; 110  |#define HW_AUTO_HEADAMP_SHUTDOWN_DIS          2
                             2693 ; 111  |#define HW_AUTO_HEADAMP_SHUTDOWN_DIRECT       3
                             2694 ; 112  |
                             2695 ; 113  |
                             2696 ; 114  |/////////////////////////////////////////////////////////////////////////////////
                             2697 ; 115  |/////////////////////////////////////////////////////////////////////////////////
                             2698 ; 116  |/////////////////////////////////////////////////////////////////////////////////
                             2699 ; 117  |/////////////////////////////////////////////////////////////////////////////////
                             2700 ; 118  |///////   MIXER REGISTERS ///////////////////////////////////////////////////////
                             2701 ; 119  |/////////////////////////////////////////////////////////////////////////////////
                             2702 ; 120  |/////////////////////////////////////////////////////////////////////////////////
                             2703 ; 121  |/////////////////////////////////////////////////////////////////////////////////
                             2704 ; 122  |
                             2705 ; 123  |
                             2706 ; 124  |/////////////////////////////////////////////////////////////////////////////////
                             2707 ; 125  |//   Codec/Mixer Test Register (HW_MIXTBR) Bit Definitions 
                             2708 ; 126  |#define HW_MIXTBR_INV_USB_CLK_BITPOS 0
                             2709 ; 127  |#define HW_MIXTBR_USB_DFF_BYPASS_BITPOS 1
                             2710 ; 128  |#define HW_MIXTBR_HOLD_GND_BITPOS 2
                             2711 ; 129  |#define HW_MIXTBR_ACKI_BITPOS 3
                             2712 ; 130  |#define HW_MIXTBR_ASD2X_BITPOS 4
                             2713 ; 131  |#define HW_MIXTBR_PCPCU_BITPOS 5
                             2714 ; 132  |#define HW_MIXTBR_PCPCD_BITPOS 6
                             2715 ; 133  |#define HW_MIXTBR_DCKI_BITPOS 7
                             2716 ; 134  |#define HW_MIXTBR_MIC_BIAS_OUT_SEL_BITPOS 8
                             2717 ; 135  |#define HW_MIXTBR_PSRN_BITPOS 9
                             2718 ; 136  |#define HW_MIXTBR_FX2_BITPOS 10
                             2719 ; 137  |#define HW_MIXTBR_VCOS_BITPOS 11
                             2720 ; 138  |#define HW_MIXTBR_XBCO_BITPOS 12
                             2721 ; 139  |#define HW_MIXTBR_XBGC_BITPOS 13
                             2722 ; 140  |#define HW_MIXTBR_ADTHD_BITPOS 14
                             2723 ; 141  |#define HW_MIXTBR_MICBIAS_LSBITPOS 15
                             2724 ; 142  |#define HW_MIXTBR_PWDADC_BITPOS 16
                             2725 ; 143  |#define HW_MIXTBR_MICBIAS1_BITPOS 17
                             2726 ; 144  |#define HW_MIXTBR_EZD_BITPOS 18
                             2727 ; 145  |#define HW_MIXTBR_DZCDA_BITPOS 19
                             2728 ; 146  |#define HW_MIXTBR_DZCFM_BITPOS 20
                             2729 ; 147  |#define HW_MIXTBR_DZCLI_BITPOS 21
                             2730 ; 148  |#define HW_MIXTBR_DZCMI_BITPOS 22
                             2731 ; 149  |#define HW_MIXTBR_DZCMA_BITPOS 23
                             2732 ; 150  |
                             2733 ; 151  |#define HW_MIXTBR_INV_USB_CLK_WIDTH (1)
                             2734 ; 152  |#define HW_MIXTBR_USB_DFF_BYPASS_WIDTH (1)
                             2735 ; 153  |#define HW_MIXTBR_HOLD_GND_WIDTH (1)
                             2736 ; 154  |#define HW_MIXTBR_ACKI_WIDTH (1)
                             2737 ; 155  |#define HW_MIXTBR_ASD2X_WIDTH (1)
                             2738 ; 156  |#define HW_MIXTBR_PCPCU_WIDTH (1)
                             2739 ; 157  |#define HW_MIXTBR_PCPCD_WIDTH (1)
                             2740 ; 158  |#define HW_MIXTBR_DCKI_WIDTH (1)
                             2741 ; 159  |#define HW_MIXTBR_MIC_BIAS_OUT_SEL_WIDTH (1)
                             2742 ; 160  |#define HW_MIXTBR_PSRN_WIDTH (1)
                             2743 ; 161  |#define HW_MIXTBR_FX2_WIDTH (1)
                             2744 ; 162  |#define HW_MIXTBR_VCOS_WIDTH (1)
                             2745 ; 163  |#define HW_MIXTBR_XBCO_WIDTH (1)
                             2746 ; 164  |#define HW_MIXTBR_XBGC_WIDTH (1)
                             2747 ; 165  |#define HW_MIXTBR_ADTHD_WIDTH (1)
                             2748 ; 166  |#define HW_MIXTBR_MICBIAS_LSWIDTH (1)
                             2749 ; 167  |#define HW_MIXTBR_PWDADC_WIDTH (1)
                             2750 ; 168  |#define HW_MIXTBR_MICBIAS1_WIDTH (1)
                             2751 ; 169  |#define HW_MIXTBR_EZD_WIDTH (1)
                             2752 ; 170  |#define HW_MIXTBR_DZCDA_WIDTH (1)
                             2753 ; 171  |#define HW_MIXTBR_DZCFM_WIDTH (1)
                             2754 ; 172  |#define HW_MIXTBR_DZCLI_WIDTH (1)
                             2755 ; 173  |#define HW_MIXTBR_DZCMI_WIDTH (1)
                             2756 ; 174  |#define HW_MIXTBR_DZCMA_WIDTH (1)
                             2757 ; 175  |
                             2758 ; 176  |
                             2759 ; 177  |#define HW_MIXTBR_INV_USB_CLK_SETMASK 1<<HW_MIXTBR_INV_USB_CLK_BITPOS
                             2760 ; 178  |#define HW_MIXTBR_USB_DFF_BYPASS_SETMASK 1<<HW_MIXTBR_USB_DFF_BYPASS_BITPOS
                             2761 ; 179  |#define HW_MIXTBR_HOLD_GND_SETMASK 1<<HW_MIXTBR_HOLD_GND_BITPOS
                             2762 ; 180  |#define HW_MIXTBR_ACKI_SETMASK 1<<HW_MIXTBR_ACKI_BITPOS
                             2763 ; 181  |#define HW_MIXTBR_ASD2X_SETMASK 1<<HW_MIXTBR_ASD2X_BITPOS
                             2764 ; 182  |#define HW_MIXTBR_PCPCU_SETMASK 1<<HW_MIXTBR_PCPCU_BITPOS
                             2765 ; 183  |#define HW_MIXTBR_PCPCD_SETMASK 1<<HW_MIXTBR_PCPCD_BITPOS
                             2766 ; 184  |#define HW_MIXTBR_DCKI_SETMASK 1<<HW_MIXTBR_DCKI_BITPOS
                             2767 ; 185  |#define HW_MIXTBR_MIC_BIAS_OUT_SEL_SETMASK 1<<HW_MIXTBR_MIC_BIAS_OUT_SEL_BITPOS
                             2768 ; 186  |#define HW_MIXTBR_PSRN_SETMASK 1<<HW_MIXTBR_PSRN_BITPOS
                             2769 ; 187  |#define HW_MIXTBR_FX2_SETMASK 1<<HW_MIXTBR_FX2_BITPOS
                             2770 ; 188  |#define HW_MIXTBR_VCOS_SETMASK 1<<HW_MIXTBR_VCOS_BITPOS
                             2771 ; 189  |#define HW_MIXTBR_XBCO_SETMASK 1<<HW_MIXTBR_XBCO_BITPOS
                             2772 ; 190  |#define HW_MIXTBR_XBGC_SETMASK 1<<HW_MIXTBR_XBGC_BITPOS
                             2773 ; 191  |#define HW_MIXTBR_ADTHD_SETMASK 1<<HW_MIXTBR_ADTHD_BITPOS
                             2774 ; 192  |#define HW_MIXTBR_MICBIAS_LSSETMASK 1<<HW_MIXTBR_MICBIAS_LSBITPOS
                             2775 ; 193  |#define HW_MIXTBR_PWDADC_SETMASK 1<<HW_MIXTBR_PWDADC_BITPOS
                             2776 ; 194  |#define HW_MIXTBR_MICBIAS1_SETMASK 1<<HW_MIXTBR_MICBIAS1_BITPOS
                             2777 ; 195  |#define HW_MIXTBR_EZD_SETMASK 1<<HW_MIXTBR_EZD_BITPOS
                             2778 ; 196  |#define HW_MIXTBR_DZCDA_SETMASK 1<<HW_MIXTBR_DZCDA_BITPOS
                             2779 ; 197  |#define HW_MIXTBR_DZCFM_SETMASK 1<<HW_MIXTBR_DZCFM_BITPOS
                             2780 ; 198  |#define HW_MIXTBR_DZCLI_SETMASK 1<<HW_MIXTBR_DZCLI_BITPOS
                             2781 ; 199  |#define HW_MIXTBR_DZCMI_SETMASK 1<<HW_MIXTBR_DZCMI_BITPOS
                             2782 ; 200  |#define HW_MIXTBR_DZCMA_SETMASK 1<<HW_MIXTBR_DZCMA_BITPOS
                             2783 ; 201  |
                             2784 ; 202  |#define HW_MIXTBR_INV_USB_CLK_CLRMASK ~(WORD)HW_MIXTBR_INV_USB_CLK_SETMASK
                             2785 ; 203  |#define HW_MIXTBR_USB_DFF_BYPASS_CLRMASK ~(WORD)HW_MIXTBR_USB_DFF_BYPASS_SETMASK
                             2786 ; 204  |#define HW_MIXTBR_HOLD_GND_CLRMASK ~(WORD)HW_MIXTBR_HOLD_GND_SETMASK
                             2787 ; 205  |#define HW_MIXTBR_ACKI_CLRMASK ~(WORD)HW_MIXTBR_ACKI_SETMASK
                             2788 ; 206  |#define HW_MIXTBR_ASD2X_CLRMASK ~(WORD)HW_MIXTBR_ASD2X_SETMASK
                             2789 ; 207  |#define HW_MIXTBR_PCPCU_CLRMASK ~(WORD)HW_MIXTBR_PCPCU_SETMASK
                             2790 ; 208  |#define HW_MIXTBR_PCPCD_CLRMASK ~(WORD)HW_MIXTBR_PCPCD_SETMASK
                             2791 ; 209  |#define HW_MIXTBR_DCKI_CLRMASK ~(WORD)HW_MIXTBR_DCKI_SETMASK
                             2792 ; 210  |#define HW_MIXTBR_MIC_BIAS_OUT_SEL_CLRMASK ~(WORD)HW_MIXTBR_MIC_BIAS_OUT_SEL_SETMASK
                             2793 ; 211  |#define HW_MIXTBR_PSRN_CLRMASK ~(WORD)HW_MIXTBR_PSRN_SETMASK
                             2794 ; 212  |#define HW_MIXTBR_FX2_CLRMASK ~(WORD)HW_MIXTBR_FX2_SETMASK
                             2795 ; 213  |#define HW_MIXTBR_VCOS_CLRMASK ~(WORD)HW_MIXTBR_VCOS_SETMASK
                             2796 ; 214  |#define HW_MIXTBR_XBCO_CLRMASK ~(WORD)HW_MIXTBR_XBCO_SETMASK
                             2797 ; 215  |#define HW_MIXTBR_XBGC_CLRMASK ~(WORD)HW_MIXTBR_XBGC_SETMASK
                             2798 ; 216  |#define HW_MIXTBR_ADTHD_CLRMASK ~(WORD)HW_MIXTBR_ADTHD_SETMASK
                             2799 ; 217  |#define HW_MIXTBR_MICBIAS_LSCLRMASK ~(WORD)HW_MIXTBR_MICBIAS_LSSETMASK
                             2800 ; 218  |#define HW_MIXTBR_PWDADC_CLRMASK ~(WORD)HW_MIXTBR_PWDADC_SETMASK
                             2801 ; 219  |#define HW_MIXTBR_MICBIAS1_CLRMASK ~(WORD)HW_MIXTBR_MICBIAS1_SETMASK
                             2802 ; 220  |#define HW_MIXTBR_EZD_CLRMASK ~(WORD)HW_MIXTBR_EZD_SETMASK
                             2803 ; 221  |#define HW_MIXTBR_DZCDA_CLRMASK ~(WORD)HW_MIXTBR_DZCDA_SETMASK
                             2804 ; 222  |#define HW_MIXTBR_DZCFM_CLRMASK ~(WORD)HW_MIXTBR_DZCFM_SETMASK
                             2805 ; 223  |#define HW_MIXTBR_DZCLI_CLRMASK ~(WORD)HW_MIXTBR_DZCLI_SETMASK
                             2806 ; 224  |#define HW_MIXTBR_DZCMI_CLRMASK ~(WORD)HW_MIXTBR_DZCMI_SETMASK
                             2807 ; 225  |#define HW_MIXTBR_DZCMA_CLRMASK ~(WORD)HW_MIXTBR_DZCMA_SETMASK
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page  12

M:ADDR CODE           CYCLES LINE SOURCELINE
                             2808 ; 226  |
                             2809 ; 227  |typedef union               
                             2810 ; 228  |{
                             2811 ; 229  |    struct {
                             2812 ; 230  |        int INV_USB_CLK            : 1;
                             2813 ; 231  |        int USB_DFF_BYPASS         : 1;
                             2814 ; 232  |        int HOLD_GND               : 1;
                             2815 ; 233  |        int ACKI                   : 1;
                             2816 ; 234  |        int ASD2X                  : 1;
                             2817 ; 235  |        int PCPCU                  : 1;
                             2818 ; 236  |        int PCPCD                  : 1;
                             2819 ; 237  |        int DCKI                   : 1;
                             2820 ; 238  |        int MIC_BIAS_OUT_SEL       : 1;
                             2821 ; 239  |        int PSRN                   : 1;
                             2822 ; 240  |        int FX2                    : 1;
                             2823 ; 241  |        int VCOS                   : 1;
                             2824 ; 242  |        int XBCO                   : 1;
                             2825 ; 243  |        int XBGC                   : 1;
                             2826 ; 244  |        int ADTHD                  : 1;
                             2827 ; 245  |        int MICBIAS_LSBITPOS       : 1;
                             2828 ; 246  |        int PWDADC                 : 1;
                             2829 ; 247  |        int MICBIAS1               : 1;
                             2830 ; 248  |        int EZD                    : 1;
                             2831 ; 249  |        int DZCDA                  : 1;
                             2832 ; 250  |        int DZCFM                  : 1;
                             2833 ; 251  |        int DZCLI                  : 1;
                             2834 ; 252  |        int DZCMI                  : 1;
                             2835 ; 253  |        int DZCMA                  : 1;
                             2836 ; 254  |    } B;
                             2837 ; 255  |    int I;
                             2838 ; 256  |    unsigned int U;
                             2839 ; 257  |} mix_tbr_type;
                             2840 ; 258  |#define HW_MIXTBR      (*(volatile mix_tbr_type _X*) (HW_CODEC_BASEADDR+3))
                             2841 ; 259  |
                             2842 ; 260  |
                             2843 ; 261  |/////////////////////////////////////////////////////////////////////////////////
                             2844 ; 262  |//   Generic Volume Register (HW_MIXMASTERVR) Bit Definitions
                             2845 ; 263  |#define HW_MIXVOLUMER_MR_BITPOS 0
                             2846 ; 264  |#define HW_MIXVOLUMER_ML_BITPOS 8
                             2847 ; 265  |#define HW_MIXVOLUMER_MUTE_BITPOS 15
                             2848 ; 266  |
                             2849 ; 267  |#define HW_MIXVOLUMER_MR_WIDTH (5)
                             2850 ; 268  |#define HW_MIXVOLUMER_ML_WIDTH (5)
                             2851 ; 269  |#define HW_MIXVOLUMER_MUTE_WIDTH 1
                             2852 ; 270  |
                             2853 ; 271  |#define HW_MIXVOLUMER_MR_SETMASK 0x1F<<HW_MIXVOLUMER_MR_BITPOS
                             2854 ; 272  |#define HW_MIXVOLUMER_ML_SETMASK 0x1F<<HW_MIXVOLUMER_ML_BITPOS
                             2855 ; 273  |#define HW_MIXVOLUMER_MUTE_SETMASK 1<<HW_MIXVOLUMER_MUTE_BITPOS
                             2856 ; 274  |
                             2857 ; 275  |#define HW_MIXVOLUMER_MR_CLRMASK ~(WORD)HW_MIXVOLUMER_MR_SETMASK
                             2858 ; 276  |#define HW_MIXVOLUMER_ML_CLRMASK ~(WORD)HW_MIXVOLUMER_ML_SETMASK
                             2859 ; 277  |#define HW_MIXVOLUMER_MUTE_CLRMASK ~(WORD)HW_MIXVOLUMER_MUTE_SETMASK
                             2860 ; 278  |
                             2861 ; 279  |#define HW_MIXVOLUMER_ML_PLUS_12P0_SETMASK 0<<HW_MIXVOLUMER_ML_BITPOS
                             2862 ; 280  |#define HW_MIXVOLUMER_ML_PLUS_10P5_SETMASK 1<<HW_MIXVOLUMER_ML_BITPOS
                             2863 ; 281  |#define HW_MIXVOLUMER_ML_PLUS_09P0_SETMASK 2<<HW_MIXVOLUMER_ML_BITPOS
                             2864 ; 282  |#define HW_MIXVOLUMER_ML_PLUS_07P5_SETMASK 3<<HW_MIXVOLUMER_ML_BITPOS
                             2865 ; 283  |#define HW_MIXVOLUMER_ML_PLUS_06P0_SETMASK 4<<HW_MIXVOLUMER_ML_BITPOS
                             2866 ; 284  |#define HW_MIXVOLUMER_ML_PLUS_04P5_SETMASK 5<<HW_MIXVOLUMER_ML_BITPOS
                             2867 ; 285  |#define HW_MIXVOLUMER_ML_PLUS_03P0_SETMASK 6<<HW_MIXVOLUMER_ML_BITPOS
                             2868 ; 286  |#define HW_MIXVOLUMER_ML_PLUS_01P5_SETMASK 7<<HW_MIXVOLUMER_ML_BITPOS
                             2869 ; 287  |#define HW_MIXVOLUMER_ML_ZERO_SETMASK 8<<HW_MIXVOLUMER_ML_BITPOS
                             2870 ; 288  |#define HW_MIXVOLUMER_ML_MINUS_01P5_SETMASK 9<<HW_MIXVOLUMER_ML_BITPOS
                             2871 ; 289  |#define HW_MIXVOLUMER_ML_MINUS_03P0_SETMASK 10<<HW_MIXVOLUMER_ML_BITPOS
                             2872 ; 290  |#define HW_MIXVOLUMER_ML_MINUS_04P5_SETMASK 11<<HW_MIXVOLUMER_ML_BITPOS
                             2873 ; 291  |#define HW_MIXVOLUMER_ML_MINUS_06P0_SETMASK 12<<HW_MIXVOLUMER_ML_BITPOS
                             2874 ; 292  |#define HW_MIXVOLUMER_ML_MINUS_07P5_SETMASK 13<<HW_MIXVOLUMER_ML_BITPOS
                             2875 ; 293  |#define HW_MIXVOLUMER_ML_MINUS_09P0_SETMASK 14<<HW_MIXVOLUMER_ML_BITPOS
                             2876 ; 294  |#define HW_MIXVOLUMER_ML_MINUS_10P5_SETMASK 15<<HW_MIXVOLUMER_ML_BITPOS
                             2877 ; 295  |#define HW_MIXVOLUMER_ML_MINUS_12P0_SETMASK 16<<HW_MIXVOLUMER_ML_BITPOS
                             2878 ; 296  |#define HW_MIXVOLUMER_ML_MINUS_13P5_SETMASK 17<<HW_MIXVOLUMER_ML_BITPOS
                             2879 ; 297  |#define HW_MIXVOLUMER_ML_MINUS_15P0_SETMASK 18<<HW_MIXVOLUMER_ML_BITPOS
                             2880 ; 298  |#define HW_MIXVOLUMER_ML_MINUS_16P5_SETMASK 19<<HW_MIXVOLUMER_ML_BITPOS
                             2881 ; 299  |#define HW_MIXVOLUMER_ML_MINUS_18P0_SETMASK 20<<HW_MIXVOLUMER_ML_BITPOS
                             2882 ; 300  |#define HW_MIXVOLUMER_ML_MINUS_19P5_SETMASK 21<<HW_MIXVOLUMER_ML_BITPOS
                             2883 ; 301  |#define HW_MIXVOLUMER_ML_MINUS_21P0_SETMASK 22<<HW_MIXVOLUMER_ML_BITPOS
                             2884 ; 302  |#define HW_MIXVOLUMER_ML_MINUS_22P5_SETMASK 23<<HW_MIXVOLUMER_ML_BITPOS
                             2885 ; 303  |#define HW_MIXVOLUMER_ML_MINUS_24P0_SETMASK 24<<HW_MIXVOLUMER_ML_BITPOS
                             2886 ; 304  |#define HW_MIXVOLUMER_ML_MINUS_25P5_SETMASK 25<<HW_MIXVOLUMER_ML_BITPOS
                             2887 ; 305  |#define HW_MIXVOLUMER_ML_MINUS_27P0_SETMASK 26<<HW_MIXVOLUMER_ML_BITPOS
                             2888 ; 306  |#define HW_MIXVOLUMER_ML_MINUS_28P5_SETMASK 27<<HW_MIXVOLUMER_ML_BITPOS
                             2889 ; 307  |#define HW_MIXVOLUMER_ML_MINUS_30P0_SETMASK 28<<HW_MIXVOLUMER_ML_BITPOS
                             2890 ; 308  |#define HW_MIXVOLUMER_ML_MINUS_31P5_SETMASK 29<<HW_MIXVOLUMER_ML_BITPOS
                             2891 ; 309  |#define HW_MIXVOLUMER_ML_MINUS_33P0_SETMASK 30<<HW_MIXVOLUMER_ML_BITPOS
                             2892 ; 310  |#define HW_MIXVOLUMER_ML_MINUS_34P5_SETMASK 31<<HW_MIXVOLUMER_ML_BITPOS
                             2893 ; 311  |
                             2894 ; 312  |#define HW_MIXVOLUMER_MR_PLUS_12P0_SETMASK 0
                             2895 ; 313  |#define HW_MIXVOLUMER_MR_PLUS_10P5_SETMASK 1
                             2896 ; 314  |#define HW_MIXVOLUMER_MR_PLUS_09P0_SETMASK 2
                             2897 ; 315  |#define HW_MIXVOLUMER_MR_PLUS_07P5_SETMASK 3
                             2898 ; 316  |#define HW_MIXVOLUMER_MR_PLUS_06P0_SETMASK 4
                             2899 ; 317  |#define HW_MIXVOLUMER_MR_PLUS_04P5_SETMASK 5
                             2900 ; 318  |#define HW_MIXVOLUMER_MR_PLUS_03P0_SETMASK 6
                             2901 ; 319  |#define HW_MIXVOLUMER_MR_PLUS_01P5_SETMASK 7
                             2902 ; 320  |#define HW_MIXVOLUMER_MR_ZERO_SETMASK 8
                             2903 ; 321  |#define HW_MIXVOLUMER_MR_MINUS_01P5_SETMASK 9
                             2904 ; 322  |#define HW_MIXVOLUMER_MR_MINUS_03P0_SETMASK 10
                             2905 ; 323  |#define HW_MIXVOLUMER_MR_MINUS_04P5_SETMASK 11
                             2906 ; 324  |#define HW_MIXVOLUMER_MR_MINUS_06P0_SETMASK 12
                             2907 ; 325  |#define HW_MIXVOLUMER_MR_MINUS_07P5_SETMASK 13
                             2908 ; 326  |#define HW_MIXVOLUMER_MR_MINUS_09P0_SETMASK 14
                             2909 ; 327  |#define HW_MIXVOLUMER_MR_MINUS_10P5_SETMASK 15
                             2910 ; 328  |#define HW_MIXVOLUMER_MR_MINUS_12P0_SETMASK 16
                             2911 ; 329  |#define HW_MIXVOLUMER_MR_MINUS_13P5_SETMASK 17
                             2912 ; 330  |#define HW_MIXVOLUMER_MR_MINUS_15P0_SETMASK 18
                             2913 ; 331  |#define HW_MIXVOLUMER_MR_MINUS_16P5_SETMASK 19
                             2914 ; 332  |#define HW_MIXVOLUMER_MR_MINUS_18P0_SETMASK 20
                             2915 ; 333  |#define HW_MIXVOLUMER_MR_MINUS_19P5_SETMASK 21
                             2916 ; 334  |#define HW_MIXVOLUMER_MR_MINUS_21P0_SETMASK 22
                             2917 ; 335  |#define HW_MIXVOLUMER_MR_MINUS_22P5_SETMASK 23
                             2918 ; 336  |#define HW_MIXVOLUMER_MR_MINUS_24P0_SETMASK 24
                             2919 ; 337  |#define HW_MIXVOLUMER_MR_MINUS_25P5_SETMASK 25
                             2920 ; 338  |#define HW_MIXVOLUMER_MR_MINUS_27P0_SETMASK 26
                             2921 ; 339  |#define HW_MIXVOLUMER_MR_MINUS_28P5_SETMASK 27
                             2922 ; 340  |#define HW_MIXVOLUMER_MR_MINUS_30P0_SETMASK 28
                             2923 ; 341  |#define HW_MIXVOLUMER_MR_MINUS_31P5_SETMASK 29
                             2924 ; 342  |#define HW_MIXVOLUMER_MR_MINUS_33P0_SETMASK 30
                             2925 ; 343  |#define HW_MIXVOLUMER_MR_MINUS_34P5_SETMASK 31
                             2926 ; 344  |
                             2927 ; 345  |/////////////////////////////////////////////////////////////////////////////////
                             2928 ; 346  |//   Mixer Master Volume Register (HW_MIXMASTERVR) Bit Definitions
                             2929 ; 347  |#define HW_MIXMASTERVR_MR_BITPOS 0
                             2930 ; 348  |#define HW_MIXMASTERVR_ML_BITPOS 8
                             2931 ; 349  |#define HW_MIXMASTERVR_MUTE_BITPOS 15
                             2932 ; 350  |
                             2933 ; 351  |#define HW_MIXMASTERVR_MR_WIDTH (5)
                             2934 ; 352  |#define HW_MIXMASTERVR_ML_WIDTH (5)
                             2935 ; 353  |#define HW_MIXMASTERVR_MUTE_WIDTH (1)
                             2936 ; 354  |
                             2937 ; 355  |#define HW_MIXMASTERVR_MR_SETMASK 0x1F<<HW_MIXMASTERVR_MR_BITPOS
                             2938 ; 356  |#define HW_MIXMASTERVR_ML_SETMASK 0x1F<<HW_MIXMASTERVR_ML_BITPOS
                             2939 ; 357  |#define HW_MIXMASTERVR_MUTE_SETMASK 1<<HW_MIXMASTERVR_MUTE_BITPOS
                             2940 ; 358  |
                             2941 ; 359  |#define HW_MIXMASTERVR_MR_CLRMASK ~(WORD)HW_MIXMASTERVR_MR_SETMASK
                             2942 ; 360  |#define HW_MIXMASTERVR_ML_CLRMASK ~(WORD)HW_MIXMASTERVR_ML_SETMASK
                             2943 ; 361  |#define HW_MIXMASTERVR_MUTE_CLRMASK ~(WORD)HW_MIXMASTERVR_MUTE_SETMASK
                             2944 ; 362  |
                             2945 ; 363  |
                             2946 ; 364  |typedef union               
                             2947 ; 365  |{
                             2948 ; 366  |    struct
                             2949 ; 367  |    {
                             2950 ; 368  |        unsigned MR :5;
                             2951 ; 369  |        int         :3;
                             2952 ; 370  |        unsigned ML :5;
                             2953 ; 371  |        int         :2;
                             2954 ; 372  |        int MUTE    :1;
                             2955 ; 373  |    } B;
                             2956 ; 374  |    int I;
                             2957 ; 375  |    unsigned int U;
                             2958 ; 376  |} mix_mastervr_type;
                             2959 ; 377  |#define HW_MIXMASTERVR (*(volatile mix_mastervr_type _X*) (HW_CODEC_BASEADDR+4))
                             2960 ; 378  |
                             2961 ; 379  |
                             2962 ; 380  |/////////////////////////////////////////////////////////////////////////////////
                             2963 ; 381  |//   Mixer Mic In Volume Register (HW_MIXMICINVR) Bit Definitions
                             2964 ; 382  |#define HW_MIXMICINVR_GN_BITPOS 0
                             2965 ; 383  |#define HW_MIXMICINVR_P20DB_BITPOS 6
                             2966 ; 384  |#define HW_MIXMICINVR_MUTE_BITPOS 15
                             2967 ; 385  |
                             2968 ; 386  |#define HW_MIXMICINVR_GN_WIDTH 5
                             2969 ; 387  |#define HW_MIXMICINVR_RSVD1_WIDTH 1
                             2970 ; 388  |#define HW_MIXMICINVR_P20DB_WIDTH 1
                             2971 ; 389  |#define HW_MIXMICINVR_RSVD2_WIDTH 8
                             2972 ; 390  |#define HW_MIXMICINVR_MUTE_WIDTH 1
                             2973 ; 391  |#define HW_MIXMICINVR_RSVD3_WIDTH 8
                             2974 ; 392  |
                             2975 ; 393  |#define HW_MIXMICINVR_GN_SETMASK 0x1F<<HW_MIXMICINVR_GN_BITPOS
                             2976 ; 394  |#define HW_MIXMICINVR_P20DB_SETMASK 1<<HW_MIXMICINVR_P20DB_BITPOS
                             2977 ; 395  |#define HW_MIXMICINVR_MUTE_SETMASK 1<<HW_MIXMICINVR_MUTE_BITPOS
                             2978 ; 396  |
                             2979 ; 397  |#define HW_MIXMICINVR_GN_CLRMASK ~(WORD)HW_MIXMICINVR_GN_SETMASK
                             2980 ; 398  |#define HW_MIXMICINVR_P20DB_CLRMASK ~(WORD)HW_MIXMICINVR_P20DB_SETMASK
                             2981 ; 399  |#define HW_MIXMICINVR_MUTE_CLRMASK ~(WORD)HW_MIXMICINVR_MUTE_SETMASK
                             2982 ; 400  |
                             2983 ; 401  |#define HW_MIXMICINVR_GN_PLUS_12P0_SETMASK 0
                             2984 ; 402  |#define HW_MIXMICINVR_GN_PLUS_10P5_SETMASK 1
                             2985 ; 403  |#define HW_MIXMICINVR_GN_PLUS_09P0_SETMASK 2
                             2986 ; 404  |#define HW_MIXMICINVR_GN_PLUS_07P5_SETMASK 3
                             2987 ; 405  |#define HW_MIXMICINVR_GN_PLUS_06P0_SETMASK 4
                             2988 ; 406  |#define HW_MIXMICINVR_GN_PLUS_04P5_SETMASK 5
                             2989 ; 407  |#define HW_MIXMICINVR_GN_PLUS_03P0_SETMASK 6
                             2990 ; 408  |#define HW_MIXMICINVR_GN_PLUS_01P5_SETMASK 7
                             2991 ; 409  |#define HW_MIXMICINVR_GN_ZERO_SETMASK 8
                             2992 ; 410  |#define HW_MIXMICINVR_GN_MINUS_01P5_SETMASK 9
                             2993 ; 411  |#define HW_MIXMICINVR_GN_MINUS_03P0_SETMASK 10
                             2994 ; 412  |#define HW_MIXMICINVR_GN_MINUS_04P5_SETMASK 11
                             2995 ; 413  |#define HW_MIXMICINVR_GN_MINUS_06P0_SETMASK 12
                             2996 ; 414  |#define HW_MIXMICINVR_GN_MINUS_07P5_SETMASK 13
                             2997 ; 415  |#define HW_MIXMICINVR_GN_MINUS_09P0_SETMASK 14
                             2998 ; 416  |#define HW_MIXMICINVR_GN_MINUS_10P5_SETMASK 15
                             2999 ; 417  |#define HW_MIXMICINVR_GN_MINUS_12P0_SETMASK 16
                             3000 ; 418  |#define HW_MIXMICINVR_GN_MINUS_13P5_SETMASK 17
                             3001 ; 419  |#define HW_MIXMICINVR_GN_MINUS_15P0_SETMASK 18
                             3002 ; 420  |#define HW_MIXMICINVR_GN_MINUS_16P5_SETMASK 19
                             3003 ; 421  |#define HW_MIXMICINVR_GN_MINUS_18P0_SETMASK 20
                             3004 ; 422  |#define HW_MIXMICINVR_GN_MINUS_19P5_SETMASK 21
                             3005 ; 423  |#define HW_MIXMICINVR_GN_MINUS_21P0_SETMASK 22
                             3006 ; 424  |#define HW_MIXMICINVR_GN_MINUS_22P5_SETMASK 23
                             3007 ; 425  |#define HW_MIXMICINVR_GN_MINUS_24P0_SETMASK 24
                             3008 ; 426  |#define HW_MIXMICINVR_GN_MINUS_25P5_SETMASK 25
                             3009 ; 427  |#define HW_MIXMICINVR_GN_MINUS_27P0_SETMASK 26
                             3010 ; 428  |#define HW_MIXMICINVR_GN_MINUS_28P5_SETMASK 27
                             3011 ; 429  |#define HW_MIXMICINVR_GN_MINUS_30P0_SETMASK 28
                             3012 ; 430  |#define HW_MIXMICINVR_GN_MINUS_31P5_SETMASK 29
                             3013 ; 431  |#define HW_MIXMICINVR_GN_MINUS_33P0_SETMASK 30
                             3014 ; 432  |#define HW_MIXMICINVR_GN_MINUS_34P5_SETMASK 31
                             3015 ; 433  |
                             3016 ; 434  |typedef union               
                             3017 ; 435  |{
                             3018 ; 436  |    struct {
                             3019 ; 437  |        int GN          : HW_MIXMICINVR_GN_WIDTH;
                             3020 ; 438  |        int RSVD1       : HW_MIXMICINVR_RSVD1_WIDTH;
                             3021 ; 439  |        int P20DB       : HW_MIXMICINVR_P20DB_WIDTH;
                             3022 ; 440  |        int RSVD2       : HW_MIXMICINVR_RSVD2_WIDTH;
                             3023 ; 441  |        int MUTE        : HW_MIXMICINVR_MUTE_WIDTH;
                             3024 ; 442  |        int RSVD3       : HW_MIXMICINVR_RSVD3_WIDTH;
                             3025 ; 443  |    } B;
                             3026 ; 444  |    int I;
                             3027 ; 445  |    unsigned int U;
                             3028 ; 446  |} mix_micinvr_type;
                             3029 ; 447  |#define HW_MIXMICINVR (*(volatile mix_micinvr_type _X*) (HW_CODEC_BASEADDR+5))
                             3030 ; 448  |
                             3031 ; 449  |
                             3032 ; 450  |
                             3033 ; 451  |
                             3034 ; 452  |/////////////////////////////////////////////////////////////////////////////////
                             3035 ; 453  |//   Mixer Line1 In Volume Register (HW_MIXLINE1INVR) Bit Definitions
                             3036 ; 454  |#define HW_MIXLINE1INVR_GR_BITPOS 0
                             3037 ; 455  |#define HW_MIXLINE1INVR_GL_BITPOS 8
                             3038 ; 456  |#define HW_MIXLINE1INVR_MUTE_BITPOS 15
                             3039 ; 457  |
                             3040 ; 458  |#define HW_MIXLINE1INVR_GR_WIDTH 5
                             3041 ; 459  |#define HW_MIXLINE1INVR_RSVD1_WIDTH 3
                             3042 ; 460  |#define HW_MIXLINE1INVR_GL_WIDTH 5
                             3043 ; 461  |#define HW_MIXLINE1INVR_RSVD2_WIDTH 2
                             3044 ; 462  |#define HW_MIXLINE1INVR_MUTE_WIDTH 1
                             3045 ; 463  |#define HW_MIXLINE1INVR_RSVD3_WIDTH 8
                             3046 ; 464  |
                             3047 ; 465  |#define HW_MIXLINE1INVR_GR_SETMASK 0x1F<<HW_MIXLINE1INVR_GR_BITPOS
                             3048 ; 466  |#define HW_MIXLINE1INVR_GL_SETMASK 0x1F<<HW_MIXLINE1INVR_GL_BITPOS
                             3049 ; 467  |#define HW_MIXLINE1INVR_MUTE_SETMASK 1<<HW_MIXLINE1INVR_MUTE_BITPOS
                             3050 ; 468  |
                             3051 ; 469  |#define HW_MIXLINE1INVR_GR_CLRMASK ~(WORD)HW_MIXLINE1INVR_GR_SETMASK
                             3052 ; 470  |#define HW_MIXLINE1INVR_GL_CLRMASK ~(WORD)HW_MIXLINE1INVR_GL_SETMASK
                             3053 ; 471  |#define HW_MIXLINE1INVR_MUTE_CLRMASK ~(WORD)HW_MIXLINE1INVR_MUTE_SETMASK
                             3054 ; 472  |
                             3055 ; 473  |typedef union               
                             3056 ; 474  |{
                             3057 ; 475  |    struct {
                             3058 ; 476  |        int GR          : HW_MIXLINE1INVR_GR_WIDTH;
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page  13

M:ADDR CODE           CYCLES LINE SOURCELINE
                             3059 ; 477  |        int RSVD1       : HW_MIXLINE1INVR_RSVD1_WIDTH;
                             3060 ; 478  |        int GL          : HW_MIXLINE1INVR_GL_WIDTH;
                             3061 ; 479  |        int RSVD2       : HW_MIXLINE1INVR_RSVD2_WIDTH;
                             3062 ; 480  |        int MUTE        : HW_MIXLINE1INVR_MUTE_WIDTH;
                             3063 ; 481  |        int RSVD3       : HW_MIXLINE1INVR_RSVD3_WIDTH;
                             3064 ; 482  |    } B;
                             3065 ; 483  |    int I;
                             3066 ; 484  |    unsigned int U;
                             3067 ; 485  |} mix_line1invr_type;
                             3068 ; 486  |#define HW_MIXLINE1INVR (*(volatile mix_line1invr_type _X*) (HW_CODEC_BASEADDR+6))
                             3069 ; 487  |
                             3070 ; 488  |
                             3071 ; 489  |
                             3072 ; 490  |/////////////////////////////////////////////////////////////////////////////////
                             3073 ; 491  |//   Mixer Line2 In Volume Register (HW_MIXLINE2INVR) Bit Definitions
                             3074 ; 492  |#define HW_MIXLINE2INVR_GR_BITPOS 0
                             3075 ; 493  |#define HW_MIXLINE2INVR_GL_BITPOS 8
                             3076 ; 494  |#define HW_MIXLINE2INVR_MUTE_BITPOS 15
                             3077 ; 495  |
                             3078 ; 496  |#define HW_MIXLINE2INVR_GR_WIDTH 5
                             3079 ; 497  |#define HW_MIXLINE2INVR_RSVD1_WIDTH 3
                             3080 ; 498  |#define HW_MIXLINE2INVR_GL_WIDTH 5
                             3081 ; 499  |#define HW_MIXLINE2INVR_RSVD2_WIDTH 2
                             3082 ; 500  |#define HW_MIXLINE2INVR_MUTE_WIDTH 1
                             3083 ; 501  |#define HW_MIXLINE2INVR_RSVD3_WIDTH 8
                             3084 ; 502  |
                             3085 ; 503  |
                             3086 ; 504  |#define HW_MIXLINE2INVR_GR_SETMASK 0x1F<<HW_MIXLINE2INVR_GR_BITPOS
                             3087 ; 505  |#define HW_MIXLINE2INVR_GL_SETMASK 0x1F<<HW_MIXLINE2INVR_GL_BITPOS
                             3088 ; 506  |#define HW_MIXLINE2INVR_MUTE_SETMASK 1<<HW_MIXLINE2INVR_MUTE_BITPOS
                             3089 ; 507  |
                             3090 ; 508  |#define HW_MIXLINE2INVR_GR_CLRMASK ~(WORD)HW_MIXLINE2INVR_GR_SETMASK
                             3091 ; 509  |#define HW_MIXLINE2INVR_GL_CLRMASK ~(WORD)HW_MIXLINE2INVR_GL_SETMASK
                             3092 ; 510  |#define HW_MIXLINE2INVR_MUTE_CLRMASK ~(WORD)HW_MIXLINE2INVR_MUTE_SETMASK
                             3093 ; 511  |
                             3094 ; 512  |typedef union               
                             3095 ; 513  |{
                             3096 ; 514  |    struct {
                             3097 ; 515  |        int GR          : HW_MIXLINE2INVR_GR_WIDTH;
                             3098 ; 516  |        int RSVD1       : HW_MIXLINE2INVR_RSVD1_WIDTH;
                             3099 ; 517  |        int GL          : HW_MIXLINE2INVR_GL_WIDTH;
                             3100 ; 518  |        int RSVD2       : HW_MIXLINE2INVR_RSVD2_WIDTH;
                             3101 ; 519  |        int MUTE        : HW_MIXLINE2INVR_MUTE_WIDTH;
                             3102 ; 520  |        int RSVD3       : HW_MIXLINE2INVR_RSVD3_WIDTH;
                             3103 ; 521  |    } B;
                             3104 ; 522  |    int I;
                             3105 ; 523  |    unsigned int U;
                             3106 ; 524  |} mix_line2invr_type;
                             3107 ; 525  |#define HW_MIXLINE2INVR (*(volatile mix_line2invr_type _X*) (HW_CODEC_BASEADDR+7))
                             3108 ; 526  |
                             3109 ; 527  |
                             3110 ; 528  |
                             3111 ; 529  |/////////////////////////////////////////////////////////////////////////////////
                             3112 ; 530  |//   Mixer DAC In Volume Register (HW_MIXDACINVR) Bit Definitions
                             3113 ; 531  |#define HW_MIXDACINVR_MR_BITPOS 0
                             3114 ; 532  |#define HW_MIXDACINVR_ML_BITPOS 8
                             3115 ; 533  |#define HW_MIXDACINVR_MUTE_BITPOS 15
                             3116 ; 534  |
                             3117 ; 535  |#define HW_MIXDACINVR_MR_WIDTH (5)
                             3118 ; 536  |#define HW_MIXDACINVR_ML_WIDTH (5)
                             3119 ; 537  |#define HW_MIXDACINVR_MUTE_WIDTH (1)
                             3120 ; 538  |
                             3121 ; 539  |#define HW_MIXDACINVR_MR_SETMASK 0x1F<<HW_MIXDACINVR_MR_BITPOS
                             3122 ; 540  |#define HW_MIXDACINVR_ML_SETMASK 0x1F<<HW_MIXDACINVR_ML_BITPOS
                             3123 ; 541  |#define HW_MIXDACINVR_MUTE_SETMASK 1<<HW_MIXDACINVR_MUTE_BITPOS
                             3124 ; 542  |
                             3125 ; 543  |#define HW_MIXDACINVR_MR_CLRMASK ~(WORD)HW_MIXDACINVR_MR_SETMASK
                             3126 ; 544  |#define HW_MIXDACINVR_ML_CLRMASK ~(WORD)HW_MIXDACINVR_ML_SETMASK
                             3127 ; 545  |#define HW_MIXDACINVR_MUTE_CLRMASK ~(WORD)HW_MIXDACINVR_MUTE_SETMASK
                             3128 ; 546  |
                             3129 ; 547  |typedef union               
                             3130 ; 548  |{
                             3131 ; 549  |    struct {
                             3132 ; 550  |        int MR   : HW_MIXDACINVR_MR_WIDTH;
                             3133 ; 551  |        int ML   : HW_MIXDACINVR_ML_WIDTH;
                             3134 ; 552  |        int MUTE : HW_MIXDACINVR_MUTE_WIDTH;
                             3135 ; 553  |    } B;
                             3136 ; 554  |    int I;
                             3137 ; 555  |    unsigned int U;
                             3138 ; 556  |} mix_dacinvr_type;
                             3139 ; 557  |#define HW_MIXDACINVR (*(volatile mix_dacinvr_type _X*) (HW_CODEC_BASEADDR+8))
                             3140 ; 558  |
                             3141 ; 559  |
                             3142 ; 560  |/////////////////////////////////////////////////////////////////////////////////
                             3143 ; 561  |//   Mixer Record Select Register (HW_MIXRECSELR) Bit Definitions
                             3144 ; 562  |#define HW_MIXRECSELR_SR_BITPOS 0
                             3145 ; 563  |#define HW_MIXRECSELR_SL_BITPOS 8
                             3146 ; 564  |#define HW_MIXRECSELR_X_BITPOS 11
                             3147 ; 565  |
                             3148 ; 566  |#define HW_MIXRECSELR_SR_WIDTH 3
                             3149 ; 567  |#define HW_MIXRECSELR_RSVD1_WIDTH 5
                             3150 ; 568  |#define HW_MIXRECSELR_SL_WIDTH 3
                             3151 ; 569  |#define HW_MIXRECSELR_X_WIDTH 1
                             3152 ; 570  |#define HW_MIXRECSELR_RSVD2_WIDTH 12
                             3153 ; 571  |
                             3154 ; 572  |#define HW_MIXRECSELR_SR_SETMASK 7<<HW_MIXRECSELR_SR_BITPOS
                             3155 ; 573  |#define HW_MIXRECSELR_SL_SETMASK 7<<HW_MIXRECSELR_SL_BITPOS
                             3156 ; 574  |#define HW_MIXRECSELR_X_SETMASK 1<<HW_MIXRECSELR_X_BITPOS
                             3157 ; 575  |
                             3158 ; 576  |#define HW_MIXRECSELR_SR_MIC_SETMASK 0<<HW_MIXRECSELR_SR_BITPOS
                             3159 ; 577  |#define HW_MIXRECSELR_SR_LINEIN2_SETMASK 3<<HW_MIXRECSELR_SR_BITPOS
                             3160 ; 578  |#define HW_MIXRECSELR_SR_LINEIN1_SETMASK 4<<HW_MIXRECSELR_SR_BITPOS
                             3161 ; 579  |#define HW_MIXRECSELR_SR_MIX_SETMASK 5<<HW_MIXRECSELR_SR_BITPOS
                             3162 ; 580  |
                             3163 ; 581  |#define HW_MIXRECSELR_SL_MIC_SETMASK 0<<HW_MIXRECSELR_SL_BITPOS
                             3164 ; 582  |#define HW_MIXRECSELR_SL_LINEIN2_SETMASK 3<<HW_MIXRECSELR_SL_BITPOS
                             3165 ; 583  |#define HW_MIXRECSELR_SL_LINEIN1_SETMASK 4<<HW_MIXRECSELR_SL_BITPOS
                             3166 ; 584  |#define HW_MIXRECSELR_SL_MIX_SETMASK 5<<HW_MIXRECSELR_SL_BITPOS
                             3167 ; 585  |
                             3168 ; 586  |#define HW_MIXRECSELR_SR_CLRMASK ~(WORD)HW_MIXRECSELR_SR_SETMASK
                             3169 ; 587  |#define HW_MIXRECSELR_SL_CLRMASK ~(WORD)HW_MIXRECSELR_SL_SETMASK
                             3170 ; 588  |#define HW_MIXRECSELR_SR_SL_CLRMASK ~(WORD)(HW_MIXRECSELR_SR_SETMASK|HW_MIXRECSELR_SL_SETMASK)
                             3171 ; 589  |#define HW_MIXRECSELR_X_CLRMASK ~(WORD)HW_MIXRECSELR_X_SETMASK
                             3172 ; 590  |
                             3173 ; 591  |typedef union               
                             3174 ; 592  |{
                             3175 ; 593  |    struct {
                             3176 ; 594  |        int SR          : HW_MIXRECSELR_SR_WIDTH;
                             3177 ; 595  |        int RSVD1       : HW_MIXRECSELR_RSVD1_WIDTH;
                             3178 ; 596  |        int SL          : HW_MIXRECSELR_SL_WIDTH;
                             3179 ; 597  |        int X           : HW_MIXRECSELR_X_WIDTH;
                             3180 ; 598  |        int RSVD2       : HW_MIXRECSELR_RSVD2_WIDTH;
                             3181 ; 599  |    } B;
                             3182 ; 600  |    int I;
                             3183 ; 601  |    unsigned int U;
                             3184 ; 602  |} mix_recselr_type;
                             3185 ; 603  |#define HW_MIXRECSELR (*(volatile mix_recselr_type _X*) (HW_CODEC_BASEADDR+9))
                             3186 ; 604  |
                             3187 ; 605  |
                             3188 ; 606  |
                             3189 ; 607  |/////////////////////////////////////////////////////////////////////////////////
                             3190 ; 608  |//   Mixer ADC In Gain Register (HW_MIXADCGAINR) Bit Definitions
                             3191 ; 609  |#define HW_MIXADCGAINR_GR_BITPOS 0
                             3192 ; 610  |#define HW_MIXADCGAINR_GL_BITPOS 8
                             3193 ; 611  |#define HW_MIXADCGAINR_MUTE_BITPOS 15
                             3194 ; 612  |
                             3195 ; 613  |#define HW_MIXADCGAINR_GR_WIDTH 4
                             3196 ; 614  |#define HW_MIXADCGAINR_RSVD1_WIDTH 4
                             3197 ; 615  |#define HW_MIXADCGAINR_GL_WIDTH 4
                             3198 ; 616  |#define HW_MIXADCGAINR_RSVD2_WIDTH 3
                             3199 ; 617  |#define HW_MIXADCGAINR_MUTE_WIDTH 1
                             3200 ; 618  |#define HW_MIXADCGAINR_RSVD3_WIDTH 8
                             3201 ; 619  |
                             3202 ; 620  |#define HW_MIXADCGAINR_GR_SETMASK 0x1F<<HW_MIXADCGAINR_GR_BITPOS
                             3203 ; 621  |#define HW_MIXADCGAINR_GL_SETMASK 0x1F<<HW_MIXADCGAINR_GL_BITPOS
                             3204 ; 622  |#define HW_MIXADCGAINR_MUTE_SETMASK 1<<HW_MIXADCGAINR_MUTE_BITPOS
                             3205 ; 623  |
                             3206 ; 624  |#define HW_MIXADCGAINR_GR_CLRMASK ~(WORD)HW_MIXADCGAINR_GR_SETMASK
                             3207 ; 625  |#define HW_MIXADCGAINR_GL_CLRMASK ~(WORD)HW_MIXADCGAINR_GL_SETMASK
                             3208 ; 626  |#define HW_MIXADCGAINR_MUTE_CLRMASK ~(WORD)HW_MIXADCGAINR_MUTE_SETMASK
                             3209 ; 627  |
                             3210 ; 628  |#define HW_MIXADCGAINR_GL_00P0_SETMASK 0<<HW_MIXADCGAINR_GL_BITPOS
                             3211 ; 629  |#define HW_MIXADCGAINR_GL_01P5_SETMASK 1<<HW_MIXADCGAINR_GL_BITPOS
                             3212 ; 630  |#define HW_MIXADCGAINR_GL_03P0_SETMASK 2<<HW_MIXADCGAINR_GL_BITPOS
                             3213 ; 631  |#define HW_MIXADCGAINR_GL_04P5_SETMASK 3<<HW_MIXADCGAINR_GL_BITPOS
                             3214 ; 632  |#define HW_MIXADCGAINR_GL_06P0_SETMASK 4<<HW_MIXADCGAINR_GL_BITPOS
                             3215 ; 633  |#define HW_MIXADCGAINR_GL_07P5_SETMASK 5<<HW_MIXADCGAINR_GL_BITPOS
                             3216 ; 634  |#define HW_MIXADCGAINR_GL_09P0_SETMASK 6<<HW_MIXADCGAINR_GL_BITPOS
                             3217 ; 635  |#define HW_MIXADCGAINR_GL_10P5_SETMASK 7<<HW_MIXADCGAINR_GL_BITPOS
                             3218 ; 636  |#define HW_MIXADCGAINR_GL_12P0_SETMASK 8<<HW_MIXADCGAINR_GL_BITPOS
                             3219 ; 637  |#define HW_MIXADCGAINR_GL_13P5_SETMASK 9<<HW_MIXADCGAINR_GL_BITPOS
                             3220 ; 638  |#define HW_MIXADCGAINR_GL_15P0_SETMASK 10<<HW_MIXADCGAINR_GL_BITPOS
                             3221 ; 639  |#define HW_MIXADCGAINR_GL_16P5_SETMASK 11<<HW_MIXADCGAINR_GL_BITPOS
                             3222 ; 640  |#define HW_MIXADCGAINR_GL_18P0_SETMASK 12<<HW_MIXADCGAINR_GL_BITPOS
                             3223 ; 641  |#define HW_MIXADCGAINR_GL_19P5_SETMASK 13<<HW_MIXADCGAINR_GL_BITPOS
                             3224 ; 642  |#define HW_MIXADCGAINR_GL_21P0_SETMASK 14<<HW_MIXADCGAINR_GL_BITPOS
                             3225 ; 643  |#define HW_MIXADCGAINR_GL_22P5_SETMASK 15<<HW_MIXADCGAINR_GL_BITPOS
                             3226 ; 644  |
                             3227 ; 645  |#define HW_MIXADCGAINR_GR_00P0_SETMASK 0
                             3228 ; 646  |#define HW_MIXADCGAINR_GR_01P5_SETMASK 1
                             3229 ; 647  |#define HW_MIXADCGAINR_GR_03P0_SETMASK 2
                             3230 ; 648  |#define HW_MIXADCGAINR_GR_04P5_SETMASK 3
                             3231 ; 649  |#define HW_MIXADCGAINR_GR_06P0_SETMASK 4
                             3232 ; 650  |#define HW_MIXADCGAINR_GR_07P5_SETMASK 5
                             3233 ; 651  |#define HW_MIXADCGAINR_GR_09P0_SETMASK 6
                             3234 ; 652  |#define HW_MIXADCGAINR_GR_10P5_SETMASK 7
                             3235 ; 653  |#define HW_MIXADCGAINR_GR_12P0_SETMASK 8
                             3236 ; 654  |#define HW_MIXADCGAINR_GR_13P5_SETMASK 9
                             3237 ; 655  |#define HW_MIXADCGAINR_GR_15P0_SETMASK 10
                             3238 ; 656  |#define HW_MIXADCGAINR_GR_16P5_SETMASK 11
                             3239 ; 657  |#define HW_MIXADCGAINR_GR_18P0_SETMASK 12
                             3240 ; 658  |#define HW_MIXADCGAINR_GR_19P5_SETMASK 13
                             3241 ; 659  |#define HW_MIXADCGAINR_GR_21P0_SETMASK 14
                             3242 ; 660  |#define HW_MIXADCGAINR_GR_22P5_SETMASK 15
                             3243 ; 661  |
                             3244 ; 662  |typedef union               
                             3245 ; 663  |{
                             3246 ; 664  |    struct {
                             3247 ; 665  |        int GR          : HW_MIXADCGAINR_GR_WIDTH;
                             3248 ; 666  |        int RSVD1       : HW_MIXADCGAINR_RSVD1_WIDTH;
                             3249 ; 667  |        int GL          : HW_MIXADCGAINR_GL_WIDTH;
                             3250 ; 668  |        int RSVD2       : HW_MIXADCGAINR_RSVD2_WIDTH;
                             3251 ; 669  |        int MUTE        : HW_MIXADCGAINR_MUTE_WIDTH;
                             3252 ; 670  |        int RSVD3       : HW_MIXADCGAINR_RSVD3_WIDTH;
                             3253 ; 671  |    } B;
                             3254 ; 672  |    int I;
                             3255 ; 673  |    unsigned int U;
                             3256 ; 674  |} mix_adcgainr_type;
                             3257 ; 675  |#define HW_MIXADCGAINR (*(volatile mix_adcgainr_type _X*) (HW_CODEC_BASEADDR+10))
                             3258 ; 676  |
                             3259 ; 677  |
                             3260 ; 678  |
                             3261 ; 679  |/////////////////////////////////////////////////////////////////////////////////
                             3262 ; 680  |//   Mixer Power Down Register (HW_MIXPWRDNR) Bit Definitions
                             3263 ; 681  |#define HW_MIXPWRDNR_PR0_BITPOS 9
                             3264 ; 682  |#define HW_MIXPWRDNR_PR1_BITPOS 10
                             3265 ; 683  |#define HW_MIXPWRDNR_PR2_BITPOS 11
                             3266 ; 684  |
                             3267 ; 685  |#define HW_MIXPWRDNR_PR0_WIDTH (1)
                             3268 ; 686  |#define HW_MIXPWRDNR_PR1_WIDTH (1)
                             3269 ; 687  |#define HW_MIXPWRDNR_PR2_WIDTH (1)
                             3270 ; 688  |#define HW_MIXPWRDNR_RSVD_WIDTH (12)
                             3271 ; 689  |
                             3272 ; 690  |#define HW_MIXPWRDNR_PR_SETMASK 7<<HW_MIXPWRDNR_PR0_BITPOS
                             3273 ; 691  |
                             3274 ; 692  |#define HW_MIXPWRDNR_PR_CLRMASK ~(WORD)HW_MIXPWRDNR_PR_SETMASK
                             3275 ; 693  |
                             3276 ; 694  |typedef union               
                             3277 ; 695  |{
                             3278 ; 696  |    struct {
                             3279 ; 697  |                int                     : 9;
                             3280 ; 698  |       int PR0          : HW_MIXPWRDNR_PR0_WIDTH;
                             3281 ; 699  |       int PR1          : HW_MIXPWRDNR_PR1_WIDTH;
                             3282 ; 700  |       int PR2          : HW_MIXPWRDNR_PR2_WIDTH;
                             3283 ; 701  |       int RSVD         : HW_MIXPWRDNR_RSVD_WIDTH;
                             3284 ; 702  |    } B;
                             3285 ; 703  |    int I;
                             3286 ; 704  |    unsigned int U;
                             3287 ; 705  |} mix_pwrdnr_type;
                             3288 ; 706  |#define HW_MIXPWRDNR (*(volatile mix_pwrdnr_type _X*) (HW_CODEC_BASEADDR+11))
                             3289 ; 707  |
                             3290 ; 708  |
                             3291 ; 709  |/////////////////////////////////////////////////////////////////////////////////
                             3292 ; 710  |
                             3293 ; 711  |//  Mixer Test Register (HW_MIX_TEST) Bit Definitions
                             3294 ; 712  |
                             3295 ; 713  |#define HW_MIX_TEST_DAC_CHOP_CLK_WIDTH (2)
                             3296 ; 714  |
                             3297 ; 715  |#define HW_MIX_TEST_RSVD0_WIDTH (2)
                             3298 ; 716  |
                             3299 ; 717  |#define HW_MIX_TEST_DAC_DISABLE_RTZ_WIDTH (1)
                             3300 ; 718  |
                             3301 ; 719  |#define HW_MIX_TEST_DAC_MORE_AMP_I_WIDTH (1)
                             3302 ; 720  |
                             3303 ; 721  |#define HW_MIX_TEST_RSVD1_WIDTH (2)
                             3304 ; 722  |
                             3305 ; 723  |#define HW_MIX_TEST_TMP_CFG_WIDTH (4)
                             3306 ; 724  |
                             3307 ; 725  |#define HW_MIX_TEST_TMPPWD_WIDTH (1)
                             3308 ; 726  |
                             3309 ; 727  |#define HW_MIX_TEST_RSVD2_WIDTH (11)
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page  14

M:ADDR CODE           CYCLES LINE SOURCELINE
                             3310 ; 728  |
                             3311 ; 729  |
                             3312 ; 730  |
                             3313 ; 731  |#define HW_MIX_TEST_DAC_CHOP_CLK_BITPOS (0)
                             3314 ; 732  |
                             3315 ; 733  |#define HW_MIX_TEST_DAC_DISABLE_RTZ_BITPOS (4)
                             3316 ; 734  |
                             3317 ; 735  |#define HW_MIX_TEST_DAC_MORE_AMP_I_BITPOS (5)
                             3318 ; 736  |
                             3319 ; 737  |#define HW_MIX_TEST_TMP_CFG_BITPOS (8)
                             3320 ; 738  |
                             3321 ; 739  |#define HW_MIX_TEST_TMPPWD_BITPOS (12)
                             3322 ; 740  |
                             3323 ; 741  |
                             3324 ; 742  |
                             3325 ; 743  |#define HW_MIX_TEST_DAC_CHOP_CLK_SETMASK (((1<<HW_MIX_TEST_DAC_CHOP_CLK_WIDTH)-1)<<HW_MIX_TEST_DAC_CHOP_CLK_BITPOS)        
                             3326 ; 744  |
                             3327 ; 745  |#define HW_MIX_TEST_DAC_DISABLE_RTZ_SETMASK (((1<<HW_MIX_TEST_DAC_DISABLE_RTZ_WIDTH)-1)<<HW_MIX_TEST_DAC_DISABLE_RTZ_BITPOS)        
                             3328 ; 746  |
                             3329 ; 747  |#define HW_MIX_TEST_DAC_MORE_AMP_I_SETMASK (((1<<HW_MIX_TEST_DAC_MORE_AMP_I_WIDTH)-1)<<HW_MIX_TEST_DAC_MORE_AMP_I_BITPOS) 
                             3330 ; 748  |
                             3331 ; 749  |#define HW_MIX_TEST_TMP_CFG_SETMASK (((1<<HW_MIX_TEST_TMP_CFG_WIDTH)-1)<<HW_MIX_TEST_TMP_CFG_BITPOS) 
                             3332 ; 750  |
                             3333 ; 751  |#define HW_MIX_TEST_TMPPWD_SETMASK (((1<<HW_MIX_TEST_TMPPWD_WIDTH)-1)<<HW_MIX_TEST_TMPPWD_BITPOS) 
                             3334 ; 752  |
                             3335 ; 753  |
                             3336 ; 754  |#define HW_MIX_TEST_DAC_CHOP_CLK_CLRMASK (~(WORD)HW_MIX_TEST_DAC_CHOP_CLK_SETMASK)     
                             3337 ; 755  |
                             3338 ; 756  |#define HW_MIX_TEST_DAC_DISABLE_RTZ_CLRMASK (~(WORD)HW_MIX_TEST_DAC_DISABLE_RTZ_SETMASK)     
                             3339 ; 757  |
                             3340 ; 758  |#define HW_MIX_TEST_DAC_MORE_AMP_I_CLRMASK (~(WORD)HW_MIX_TEST_DAC_MORE_AMP_I_SETMASK) 
                             3341 ; 759  |
                             3342 ; 760  |#define HW_MIX_TEST_TMP_CFG_CLRMASK (~(WORD)HW_MIX_TEST_TMP_CFG_SETMASK) 
                             3343 ; 761  |
                             3344 ; 762  |#define HW_MIX_TEST_TMPPWD_CLRMASK (~(WORD)HW_MIX_TEST_TMPPWD_SETMASK) 
                             3345 ; 763  |
                             3346 ; 764  |
                             3347 ; 765  |typedef union               
                             3348 ; 766  |{
                             3349 ; 767  |    struct {
                             3350 ; 768  |        int DAC_CHOP_CLK                   : HW_MIX_TEST_DAC_CHOP_CLK_WIDTH;
                             3351 ; 769  |        int RSVD0                          : HW_MIX_TEST_RSVD0_WIDTH;
                             3352 ; 770  |        int DAC_DISABLE_RTZ                : HW_MIX_TEST_DAC_DISABLE_RTZ_WIDTH;
                             3353 ; 771  |        int DAC_MORE_AMP_I                 : HW_MIX_TEST_DAC_MORE_AMP_I_WIDTH;
                             3354 ; 772  |        int RSVD1                          : HW_MIX_TEST_RSVD1_WIDTH;
                             3355 ; 773  |        int TMP_CFG                        : HW_MIX_TEST_TMP_CFG_WIDTH;
                             3356 ; 774  |        int TMPPWD                         : HW_MIX_TEST_TMPPWD_WIDTH;
                             3357 ; 775  |        int RSVD2                          : HW_MIX_TEST_RSVD2_WIDTH;
                             3358 ; 776  |    } B;
                             3359 ; 777  |    int I;
                             3360 ; 778  |    unsigned int U;
                             3361 ; 779  |} mix_test_type;
                             3362 ; 780  |#define HW_MIX_TEST      (*(volatile mix_test_type _X*) (HW_CODEC_BASEADDR+28))    /* Analog Persistent Config Register */
                             3363 ; 781  |
                             3364 ; 782  |
                             3365 ; 783  |/////////////////////////////////////////////////////////////////////////////////
                             3366 ; 784  |//   Reference Control Register (HW_REF_CTRL) Bit Definitions
                             3367 ; 785  |#define HW_REF_CTRL_DACVBGVAL_BITPOS 0
                             3368 ; 786  |#define HW_REF_CTRL_ADJDAC_BITPOS 4
                             3369 ; 787  |#define HW_REF_CTRL_VAGVAL_BITPOS 5
                             3370 ; 788  |#define HW_REF_CTRL_ADJV_BITPOS 9
                             3371 ; 789  |#define HW_REF_CTRL_ADCREFV_BITPOS 10
                             3372 ; 790  |#define HW_REF_CTRL_ADJADC_BITPOS 14
                             3373 ; 791  |#define HW_REF_CTRL_PWRDWNS_BITPOS 15
                             3374 ; 792  |#define HW_REF_CTRL_BIASC_BITPOS 16
                             3375 ; 793  |#define HW_REF_CTRL_LWREF_BITPOS 18
                             3376 ; 794  |#define HW_REF_CTRL_LOW_PWR_BITPOS 19 
                             3377 ; 795  |
                             3378 ; 796  |#define HW_REF_CTRL_DACVBGVAL_WIDTH (4)
                             3379 ; 797  |#define HW_REF_CTRL_ADJDAC_WIDTH (1)
                             3380 ; 798  |#define HW_REF_CTRL_VAGVAL_WIDTH (4)
                             3381 ; 799  |#define HW_REF_CTRL_ADJV_WIDTH (1)
                             3382 ; 800  |#define HW_REF_CTRL_ADCREFV_WIDTH (4)
                             3383 ; 801  |#define HW_REF_CTRL_ADJADC_WIDTH (1)
                             3384 ; 802  |#define HW_REF_CTRL_PWRDWNS_WIDTH (1)
                             3385 ; 803  |#define HW_REF_CTRL_BIASC_WIDTH (2)
                             3386 ; 804  |#define HW_REF_CTRL_LWREF_WIDTH (1)
                             3387 ; 805  |#define HW_REF_CTRL_LOW_PWR_WIDTH (1) 
                             3388 ; 806  |#define HW_REF_CTRL_RSVD_WIDTH (4)
                             3389 ; 807  |
                             3390 ; 808  |#define HW_REF_CTRL_DACVBGVAL_SETMASK (((1<<HW_REF_CTRL_DACVBGVAL_WIDTH)-1)<<HW_REF_CTRL_DACVBGVAL_BITPOS)
                             3391 ; 809  |#define HW_REF_CTRL_ADJDAC_SETMASK (((1<<HW_REF_CTRL_ADJDAC_WIDTH)-1)<<HW_REF_CTRL_ADJDAC_BITPOS)
                             3392 ; 810  |#define HW_REF_CTRL_VAGVAL_SETMASK (((1<<HW_REF_CTRL_VAGVAL_WIDTH)-1)<<HW_REF_CTRL_VAGVAL_BITPOS)
                             3393 ; 811  |#define HW_REF_CTRL_ADJV_SETMASK (((1<<HW_REF_CTRL_ADJV_WIDTH)-1)<<HW_REF_CTRL_ADJV_BITPOS)
                             3394 ; 812  |#define HW_REF_CTRL_ADCREFV_SETMASK (((1<<HW_REF_CTRL_ADCREFV_WIDTH)-1)<<HW_REF_CTRL_ADCREFV_BITPOS)
                             3395 ; 813  |#define HW_REF_CTRL_ADJADC_SETMASK (((1<<HW_REF_CTRL_ADJADC_WIDTH)-1)<<HW_REF_CTRL_ADJADC_BITPOS)
                             3396 ; 814  |#define HW_REF_CTRL_PWRDWNS_SETMASK (((1<<HW_REF_CTRL_PWRDWNS_WIDTH)-1)<<HW_REF_CTRL_PWRDWNS_BITPOS)
                             3397 ; 815  |#define HW_REF_CTRL_BIASC_SETMASK (((1<<HW_REF_CTRL_BIASC_WIDTH)-1)<<HW_REF_CTRL_BIASC_BITPOS)
                             3398 ; 816  |#define HW_REF_CTRL_LWREF_SETMASK (((1<<HW_REF_CTRL_LWREF_WIDTH)-1)<<HW_REF_CTRL_LWREF_BITPOS)
                             3399 ; 817  |#define HW_REF_CTRL_LOW_PWR_SETMASK (((1<<HW_REF_CTRL_LOW_PWR_WIDTH)-1)<<HW_REF_CTRL_LOW_PWR_BITPOS)
                             3400 ; 818  |
                             3401 ; 819  |#define HW_REF_CTRL_DACVBGVAL_CLRMASK ~(WORD)HW_REF_CTRL_DACVBGVAL_SETMASK
                             3402 ; 820  |#define HW_REF_CTRL_ADJDAC_CLRMASK ~(WORD)HW_REF_CTRL_ADJDAC_SETMASK
                             3403 ; 821  |#define HW_REF_CTRL_VAGVAL_CLRMASK ~(WORD)HW_REF_CTRL_VAGVAL_SETMASK
                             3404 ; 822  |#define HW_REF_CTRL_ADJV_CLRMASK ~(WORD)HW_REF_CTRL_ADJV_SETMASK
                             3405 ; 823  |#define HW_REF_CTRL_ADCREFV_CLRMASK ~(WORD)HW_REF_CTRL_ADCREFV_SETMASK
                             3406 ; 824  |#define HW_REF_CTRL_ADJADC_CLRMASK ~(WORD)HW_REF_CTRL_ADJADC_SETMASK
                             3407 ; 825  |#define HW_REF_CTRL_PWRDWNS_CLRMASK ~(WORD)HW_REF_CTRL_PWRDWNS_SETMASK
                             3408 ; 826  |#define HW_REF_CTRL_BIASC_CLRMASK ~(WORD)HW_REF_CTRL_BIASC_SETMASK
                             3409 ; 827  |#define HW_REF_CTRL_LWREF_CLRMASK ~(WORD)HW_REF_CTRL_LWREF_SETMASK
                             3410 ; 828  |#define HW_REF_CTRL_LOW_PWR_CLRMASK ~(WORD)HW_REF_CTRL_LOW_PWR_SETMASK
                             3411 ; 829  |
                             3412 ; 830  |typedef union               
                             3413 ; 831  |{
                             3414 ; 832  |    struct {
                             3415 ; 833  |        int DACVBGVAL      : HW_REF_CTRL_DACVBGVAL_WIDTH;
                             3416 ; 834  |        int ADJDAC                 : HW_REF_CTRL_ADJDAC_WIDTH;
                             3417 ; 835  |        int VAGVAL                 : HW_REF_CTRL_VAGVAL_WIDTH;
                             3418 ; 836  |        int ADJV                   : HW_REF_CTRL_ADJV_WIDTH;
                             3419 ; 837  |        int ADCREFV       : HW_REF_CTRL_ADCREFV_WIDTH;
                             3420 ; 838  |        int ADJADC                 : HW_REF_CTRL_ADJADC_WIDTH;
                             3421 ; 839  |        int PWRDWNS       : HW_REF_CTRL_PWRDWNS_WIDTH;
                             3422 ; 840  |        int BIASC         : HW_REF_CTRL_BIASC_WIDTH;
                             3423 ; 841  |        int LWREF         : HW_REF_CTRL_LWREF_WIDTH;
                             3424 ; 842  |        int LOW_PWR       : HW_REF_CTRL_LOW_PWR_WIDTH;
                             3425 ; 843  |        int RSVD               : HW_REF_CTRL_RSVD_WIDTH;
                             3426 ; 844  |    } B;
                             3427 ; 845  |    int I;
                             3428 ; 846  |    unsigned int U;
                             3429 ; 847  |} ref_ctrl_type;
                             3430 ; 848  |#define HW_REF_CTRL (*(volatile ref_ctrl_type _X*) (HW_CODEC_BASEADDR+25))
                             3431 ; 849  |
                             3432 ; 850  |
                             3433 ; 851  |
                             3434 ; 852  |/////////////////////////////////////////////////////////////////////////////////
                             3435 ; 853  |/////////////////////////////////////////////////////////////////////////////////
                             3436 ; 854  |/////////////////////////////////////////////////////////////////////////////////
                             3437 ; 855  |//////  DAC Registers
                             3438 ; 856  |/////////////////////////////////////////////////////////////////////////////////
                             3439 ; 857  |/////////////////////////////////////////////////////////////////////////////////
                             3440 ; 858  |/////////////////////////////////////////////////////////////////////////////////
                             3441 ; 859  |#define HW_DAC_BASEADDR 0xF800
                             3442 ; 860  |
                             3443 ; 861  |
                             3444 ; 862  |
                             3445 ; 863  |/////////////////////////////////////////////////////////////////////////////////
                             3446 ; 864  |//  DAC Control Status Register (HW_DACCSR) Bit Definitions
                             3447 ; 865  |#define HW_DACCSR_TXEN_BITPOS 0
                             3448 ; 866  |#define HW_DACCSR_TXIEN_BITPOS 1
                             3449 ; 867  |#define HW_DACCSR_TXI_BITPOS 2
                             3450 ; 868  |#define HW_DACCSR_TXEXC_BITPOS 3
                             3451 ; 869  |#define HW_DACCSR_LPBK_BITPOS 4
                             3452 ; 870  |#define HW_DACCSR_DMASEL_BITPOS 5
                             3453 ; 871  |#define HW_DACCSR_DAC_HIPPOP_EN_BITPOS 7
                             3454 ; 872  |#define HW_DACCSR_LVUP_BITPOS 8
                             3455 ; 873  |#define HW_DACCSR_RVUP_BITPOS 9
                             3456 ; 874  |#define HW_DACCSR_VUP_BITPOS 10
                             3457 ; 875  |#define HW_DACCSR_RSRVD_BITPOS 11
                             3458 ; 876  |#define HW_DACCSR_CLKGT_BITPOS 23
                             3459 ; 877  |
                             3460 ; 878  |#define HW_DACCSR_TXEN_WIDTH (1)
                             3461 ; 879  |#define HW_DACCSR_TXIEN_WIDTH (1)
                             3462 ; 880  |#define HW_DACCSR_TXI_WIDTH (1)
                             3463 ; 881  |#define HW_DACCSR_TXEXC_WIDTH (1)
                             3464 ; 882  |#define HW_DACCSR_LPBK_WIDTH (1)
                             3465 ; 883  |#define HW_DACCSR_DMASEL_WIDTH (2)
                             3466 ; 884  |#define HW_DACCSR_DAC_HIPPOP_EN_WIDTH (1)
                             3467 ; 885  |#define HW_DACCSR_LVUP_WIDTH (1)
                             3468 ; 886  |#define HW_DACCSR_RVUP_WIDTH (1)
                             3469 ; 887  |#define HW_DACCSR_VUP_WIDTH (1)
                             3470 ; 888  |#define HW_DACCSR_RSRVD_WIDTH (12)
                             3471 ; 889  |#define HW_DACCSR_CLKGT_WIDTH (1)
                             3472 ; 890  |
                             3473 ; 891  |#define HW_DACCSR_TXEN_SETMASK 1<<HW_DACCSR_TXEN_BITPOS
                             3474 ; 892  |#define HW_DACCSR_TXIEN_SETMASK 1<<HW_DACCSR_TXIEN_BITPOS
                             3475 ; 893  |#define HW_DACCSR_TXI_SETMASK 1<<HW_DACCSR_TXI_BITPOS
                             3476 ; 894  |#define HW_DACCSR_TXEXC_SETMASK 1<<HW_DACCSR_TXEXC_BITPOS
                             3477 ; 895  |#define HW_DACCSR_LPBK_SETMASK 1<<HW_DACCSR_LPBK_BITPOS
                             3478 ; 896  |#define HW_DACCSR_DMASEL_P_SETMASK ((2)<<(HW_DACCSR_DMASEL_BITPOS))
                             3479 ; 897  |#define HW_DACCSR_DMASEL_Y_SETMASK (1<<(HW_DACCSR_DMASEL_BITPOS))
                             3480 ; 898  |//         DMASEL_X has no asm setmask since X config value is 00 binary.
                             3481 ; 899  |#define HW_DACCSR_DAC_HIPPOP_EN_SETMASK (1<<HW_DACCSR_DAC_HIPPOP_EN_BITPOS)
                             3482 ; 900  |#define HW_DACCSR_LVUP_SETMASK (1<<HW_DACCSR_LVUP_BITPOS)
                             3483 ; 901  |#define HW_DACCSR_RVUP_SETMASK (1<<HW_DACCSR_RVUP_BITPOS)
                             3484 ; 902  |#define HW_DACCSR_VUP_SETMASK (1<<HW_DACCSR_VUP_BITPOS)
                             3485 ; 903  |#define HW_DACCSR_CLKGT_SETMASK (1<<HW_DACCSR_CLKGT_BITPOS)
                             3486 ; 904  |
                             3487 ; 905  |#define HW_DACCSR_TXEN_CLRMASK ~(WORD)HW_DACCSR_TXEN_SETMASK
                             3488 ; 906  |#define HW_DACCSR_TXIEN_CLRMASK ~(WORD)HW_DACCSR_TXIEN_SETMASK
                             3489 ; 907  |#define HW_DACCSR_TXI_CLRMASK ~(WORD)HW_DACCSR_TXI_SETMASK
                             3490 ; 908  |#define HW_DACCSR_TXEXC_CLRMASK ~(WORD)HW_DACCSR_TXEXC_SETMASK
                             3491 ; 909  |#define HW_DACCSR_LPBK_CLRMASK ~(WORD)HW_DACCSR_LPBK_SETMASK
                             3492 ; 910  |// No asm clrmask for 2 bit bitfield DMASEL
                             3493 ; 911  |#define HW_DACCSR_DAC_HIPPOP_EN_CLRMASK ~(WORD)HW_DACCSR_DAC_HIPPOP_EN_SETMASK
                             3494 ; 912  |#define HW_DACCSR_LVUP_CLRMASK ~(WORD)HW_DACCSR_LVUP_SETMASK
                             3495 ; 913  |#define HW_DACCSR_RVUP_CLRMASK ~(WORD)HW_DACCSR_RVUP_SETMASK
                             3496 ; 914  |#define HW_DACCSR_VUP_CLRMASK ~(WORD)HW_DACCSR_VUP_SETMASK
                             3497 ; 915  |#define HW_DACCSR_CLKGT_CLRMASK ~(WORD)HW_DACCSR_CLKGT_SETMASK 
                             3498 ; 916  |
                             3499 ; 917  |
                             3500 ; 918  |typedef union               
                             3501 ; 919  |{
                             3502 ; 920  |    struct {
                             3503 ; 921  |        int TXEN                        : HW_DACCSR_TXEN_WIDTH;
                             3504 ; 922  |        int TXIEN                       : HW_DACCSR_TXIEN_WIDTH;
                             3505 ; 923  |        int TXI                         : HW_DACCSR_TXI_WIDTH;
                             3506 ; 924  |        int TXEXC                       : HW_DACCSR_TXEXC_WIDTH;
                             3507 ; 925  |        int LPBK                        : HW_DACCSR_LPBK_WIDTH;
                             3508 ; 926  |        int DMASEL                      : HW_DACCSR_DMASEL_WIDTH;
                             3509 ; 927  |             #define HW_DACCSR_DMASEL_X_BITFIELD_VAL    0
                             3510 ; 928  |             #define HW_DACCSR_DMASEL_Y_BITFIELD_VAL    1
                             3511 ; 929  |             #define HW_DACCSR_DMASEL_P_BITFIELD_VAL    2       
                             3512 ; 930  |        int DAC_HIPPOP_EN               : HW_DACCSR_DAC_HIPPOP_EN_WIDTH;
                             3513 ; 931  |        int LVUP                        : HW_DACCSR_LVUP_WIDTH;
                             3514 ; 932  |        int RVUP                        : HW_DACCSR_RVUP_WIDTH;
                             3515 ; 933  |        int VUP                         : HW_DACCSR_VUP_WIDTH;
                             3516 ; 934  |        int RSVD                        : HW_DACCSR_RSRVD_WIDTH;
                             3517 ; 935  |        int CLKGT                       : HW_DACCSR_CLKGT_WIDTH;
                             3518 ; 936  |    } B;
                             3519 ; 937  |    int I;
                             3520 ; 938  |    unsigned int U;
                             3521 ; 939  |} dac_csr_type;
                             3522 ; 940  |#define HW_DACCSR      (*(volatile dac_csr_type _X*) (HW_DAC_BASEADDR))
                             3523 ; 941  |
                             3524 ; 942  |
                             3525 ; 943  |
                             3526 ; 944  |/////////////////////////////////////////////////////////////////////////////////
                             3527 ; 945  |//  DAC Sample Rate Register (HW_DACSRR) Bit Definitions
                             3528 ; 946  |#define HW_DACSRR_SR_BITPOS 0
                             3529 ; 947  |
                             3530 ; 948  |#define HW_DACSRR_SR_WIDTH (23)
                             3531 ; 949  |#define HW_DACSRR_RSVD_WIDTH (1)
                             3532 ; 950  |
                             3533 ; 951  |//HW_DACSRR_SR_SETMASK                    equ     $FFFFFF<<HW_DACSRR_SR_BITPOS
                             3534 ; 952  |#define HW_DACSRR_SR_SETMASK (((1<<HW_DACSRR_SR_WIDTH)-1)<<HW_DACSRR_SR_BITPOS)        
                             3535 ; 953  |
                             3536 ; 954  |#define HW_DACSRR_SR_CLRMASK ~(WORD)HW_DACSRR_SR_SETMASK
                             3537 ; 955  |
                             3538 ; 956  |typedef union               
                             3539 ; 957  |{
                             3540 ; 958  |    struct {
                             3541 ; 959  |        int SR                          : HW_DACSRR_SR_WIDTH;
                             3542 ; 960  |        int RSVD                        : HW_DACSRR_RSVD_WIDTH;
                             3543 ; 961  |    } B;
                             3544 ; 962  |    int I;
                             3545 ; 963  |    unsigned int U;
                             3546 ; 964  |} dac_srr_type;
                             3547 ; 965  |#define HW_DACSRR      (*(volatile dac_srr_type _X*) (HW_DAC_BASEADDR+1))
                             3548 ; 966  |
                             3549 ; 967  |
                             3550 ; 968  |
                             3551 ; 969  |/////////////////////////////////////////////////////////////////////////////////
                             3552 ; 970  |//  DAC Word Count Register (HW_DACWCR) Bit Definitions
                             3553 ; 971  |#define HW_DACWCR_WCR_BITPOS 0
                             3554 ; 972  |
                             3555 ; 973  |#define HW_DACWCR_WCR_WIDTH (10)
                             3556 ; 974  |#define HW_DACWCR_RSVD_WIDTH (12)
                             3557 ; 975  |
                             3558 ; 976  |//HW_DACWCR_WCR_SETMASK                   equ     $3FF<<HW_DACWCR_WCR_BITPOS
                             3559 ; 977  |#define HW_DACWCR_WCR_SETMASK (((1<<HW_DACWCR_WCR_WIDTH)-1)<<HW_DACWCR_WCR_BITPOS)        
                             3560 ; 978  |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page  15

M:ADDR CODE           CYCLES LINE SOURCELINE
                             3561 ; 979  |#define HW_DACWCR_WCR_CLRMASK ~(WORD)HW_DACWCR_WCR_SETMASK
                             3562 ; 980  |
                             3563 ; 981  |typedef union               
                             3564 ; 982  |{
                             3565 ; 983  |    struct {
                             3566 ; 984  |        int WCR                         : HW_DACWCR_WCR_WIDTH;
                             3567 ; 985  |        int RSVD                        : HW_DACWCR_RSVD_WIDTH;
                             3568 ; 986  |    } B;
                             3569 ; 987  |    int I;
                             3570 ; 988  |    unsigned int U;
                             3571 ; 989  |} dac_wcr_type;
                             3572 ; 990  |#define HW_DACWCR      (*(volatile dac_wcr_type _X*) (HW_DAC_BASEADDR+2))
                             3573 ; 991  |
                             3574 ; 992  |
                             3575 ; 993  |
                             3576 ; 994  |/////////////////////////////////////////////////////////////////////////////////
                             3577 ; 995  |//  DAC Current Position Register (HW_DACCPR) Bit Definitions
                             3578 ; 996  |#define HW_DACCPR_CPR_BITPOS 0
                             3579 ; 997  |
                             3580 ; 998  |#define HW_DACCPR_CPR_WIDTH (10)
                             3581 ; 999  |#define HW_DACCPR_RSVD_WIDTH (14)
                             3582 ; 1000 |
                             3583 ; 1001 |//HW_DACCPR_CPR_SETMASK                   equ     $3FF<<HW_DACCPR_CPR_BITPOS
                             3584 ; 1002 |#define HW_DACCPR_CPR_SETMASK (((1<<HW_DACCPR_CPR_WIDTH)-1)<<HW_DACCPR_CPR_BITPOS)        
                             3585 ; 1003 |
                             3586 ; 1004 |#define HW_DACCPR_CPR_CLRMASK ~(WORD)HW_DACCPR_CPR_SETMASK
                             3587 ; 1005 |
                             3588 ; 1006 |typedef union               
                             3589 ; 1007 |{
                             3590 ; 1008 |    struct {
                             3591 ; 1009 |        int CPR                         : HW_DACCPR_CPR_WIDTH;
                             3592 ; 1010 |        int RSVD                        : HW_DACCPR_RSVD_WIDTH;
                             3593 ; 1011 |    } B;
                             3594 ; 1012 |    int I;
                             3595 ; 1013 |    unsigned int U;
                             3596 ; 1014 |} dac_cpr_type;
                             3597 ; 1015 |#define HW_DACCPR      (*(volatile dac_cpr_type _X*) (HW_DAC_BASEADDR+3))
                             3598 ; 1016 |
                             3599 ; 1017 |
                             3600 ; 1018 |
                             3601 ; 1019 |/////////////////////////////////////////////////////////////////////////////////
                             3602 ; 1020 |//  DAC Modulo Register (HW_DACMR) Bit Definitions
                             3603 ; 1021 |#define HW_DACMR_MR_BITPOS 0
                             3604 ; 1022 |#define HW_DACMR_MR_WIDTH (10)
                             3605 ; 1023 |#define HW_DACMR_RSVD_WIDTH (14)
                             3606 ; 1024 |
                             3607 ; 1025 |//HW_DACMR_MR_SETMASK                     equ     $3FF<<HW_DACMR_MR_BITPOS
                             3608 ; 1026 |#define HW_DACMR_MR_SETMASK (((1<<HW_DACMR_MR_WIDTH)-1)<<HW_DACMR_MR_BITPOS)        
                             3609 ; 1027 |
                             3610 ; 1028 |#define HW_DACMR_MR_CLRMASK ~(WORD)HW_DACMR_MR_SETMASK
                             3611 ; 1029 |
                             3612 ; 1030 |typedef union               
                             3613 ; 1031 |{
                             3614 ; 1032 |    struct {
                             3615 ; 1033 |        int MR                         : HW_DACMR_MR_WIDTH;
                             3616 ; 1034 |        int RSVD                       : HW_DACMR_RSVD_WIDTH;
                             3617 ; 1035 |    } B;
                             3618 ; 1036 |    int I;
                             3619 ; 1037 |    unsigned int U;
                             3620 ; 1038 |} dac_mr_type;
                             3621 ; 1039 |#define HW_DACMR      (*(volatile dac_mr_type _X*) (HW_DAC_BASEADDR+4))
                             3622 ; 1040 |
                             3623 ; 1041 |
                             3624 ; 1042 |
                             3625 ; 1043 |/////////////////////////////////////////////////////////////////////////////////
                             3626 ; 1044 |//   DAC Base Address Register (HW_DACBAR) Bit Definitions
                             3627 ; 1045 |#define HW_DACBAR_BAR_BITPOS 0
                             3628 ; 1046 |#define HW_DACBAR_BAR_WIDTH (16)
                             3629 ; 1047 |#define HW_DACBAR_RSVD_WIDTH (8)
                             3630 ; 1048 |
                             3631 ; 1049 |//HW_DACBAR_BAR_SETMASK                   equ     $FFFF<<HW_DACBAR_BAR_BITPOS
                             3632 ; 1050 |#define HW_DACBAR_BAR_SETMASK (((1<<HW_DACBAR_BAR_WIDTH)-1)<<HW_DACBAR_BAR_BITPOS)        
                             3633 ; 1051 |
                             3634 ; 1052 |#define HW_DACBAR_BAR_CLRMASK ~(WORD)HW_DACBAR_BAR_SETMASK
                             3635 ; 1053 |
                             3636 ; 1054 |typedef union               
                             3637 ; 1055 |{
                             3638 ; 1056 |    struct {
                             3639 ; 1057 |        int BAR                        : HW_DACBAR_BAR_WIDTH;
                             3640 ; 1058 |        int RSVD                       : HW_DACBAR_RSVD_WIDTH;
                             3641 ; 1059 |    } B;
                             3642 ; 1060 |    int I;
                             3643 ; 1061 |    unsigned int U;
                             3644 ; 1062 |} dac_bar_type;
                             3645 ; 1063 |#define HW_DACBAR      (*(volatile dac_bar_type _X*) (HW_DAC_BASEADDR+5))
                             3646 ; 1064 |
                             3647 ; 1065 |
                             3648 ; 1066 |
                             3649 ; 1067 |/////////////////////////////////////////////////////////////////////////////////
                             3650 ; 1068 |//  DAC Interrupt Control Register (HW_DACICR) Bit Definitions
                             3651 ; 1069 |#define HW_DACICR_IPT_BITPOS 0
                             3652 ; 1070 |
                             3653 ; 1071 |#define HW_DACICR_IPT_WIDTH (10)
                             3654 ; 1072 |#define HW_DACICR_RSVD_WIDTH (12)
                             3655 ; 1073 |
                             3656 ; 1074 |#define HW_DACICR_IPT_SETMASK (((1<<HW_DACICR_IPT_WIDTH)-1)<<HW_DACICR_IPT_BITPOS)        
                             3657 ; 1075 |
                             3658 ; 1076 |#define HW_DACICR_IPT_CLRMASK ~(WORD)HW_DACICR_IPT_SETMASK
                             3659 ; 1077 |
                             3660 ; 1078 |typedef union               
                             3661 ; 1079 |{
                             3662 ; 1080 |    struct {
                             3663 ; 1081 |        int IPT                         : HW_DACICR_IPT_WIDTH;
                             3664 ; 1082 |        int RSVD                        : HW_DACICR_RSVD_WIDTH;
                             3665 ; 1083 |    } B;
                             3666 ; 1084 |    int I;
                             3667 ; 1085 |    unsigned int U;
                             3668 ; 1086 |} dac_icr_type;
                             3669 ; 1087 |#define HW_DACICR      (*(volatile dac_icr_type _X*) (HW_DAC_BASEADDR+6))
                             3670 ; 1088 |
                             3671 ; 1089 |
                             3672 ; 1090 |
                             3673 ; 1091 |
                             3674 ; 1092 |
                             3675 ; 1093 |/////////////////////////////////////////////////////////////////////////////////
                             3676 ; 1094 |/////////////////////////////////////////////////////////////////////////////////
                             3677 ; 1095 |/////////////////////////////////////////////////////////////////////////////////
                             3678 ; 1096 |//////  ADC Registers
                             3679 ; 1097 |/////////////////////////////////////////////////////////////////////////////////
                             3680 ; 1098 |/////////////////////////////////////////////////////////////////////////////////
                             3681 ; 1099 |/////////////////////////////////////////////////////////////////////////////////
                             3682 ; 1100 |#define HW_ADC_BASEADDR 0xFB00
                             3683 ; 1101 |
                             3684 ; 1102 |
                             3685 ; 1103 |
                             3686 ; 1104 |/////////////////////////////////////////////////////////////////////////////////
                             3687 ; 1105 |//  ADC Control Status Register (HW_ADCCSR) Bit Definitions
                             3688 ; 1106 |#define HW_ADCCSR_TXEN_BITPOS 0
                             3689 ; 1107 |#define HW_ADCCSR_TXIEN_BITPOS 1
                             3690 ; 1108 |#define HW_ADCCSR_TXI_BITPOS 2
                             3691 ; 1109 |#define HW_ADCCSR_TXEXC_BITPOS 3
                             3692 ; 1110 |#define HW_ADCCSR_LPBK_BITPOS 4
                             3693 ; 1111 |#define HW_ADCCSR_DMASEL_BITPOS 5
                             3694 ; 1112 |#define HW_ADCCSR_LPFMODE_BITPOS 8
                             3695 ; 1113 |#define HW_ADCCSR_CLKGT_BITPOS 23
                             3696 ; 1114 |
                             3697 ; 1115 |#define HW_ADCCSR_TXEN_WIDTH (1)
                             3698 ; 1116 |#define HW_ADCCSR_TXIEN_WIDTH (1)
                             3699 ; 1117 |#define HW_ADCCSR_TXI_WIDTH (1)
                             3700 ; 1118 |#define HW_ADCCSR_TXEXC_WIDTH (1)
                             3701 ; 1119 |#define HW_ADCCSR_LPBK_WIDTH (1)
                             3702 ; 1120 |#define HW_ADCCSR_DMASEL_WIDTH (2)
                             3703 ; 1121 |#define HW_ADCCSR_RSVD1_WIDTH (1)
                             3704 ; 1122 |#define HW_ADCCSR_LPFMODE_WIDTH (4)
                             3705 ; 1123 |#define HW_ADCCSR_RSVD2_WIDTH (11)
                             3706 ; 1124 |#define HW_ADCCSR_CLKGT_WIDTH (1)
                             3707 ; 1125 |
                             3708 ; 1126 |#define HW_ADCCSR_TXEN_SETMASK 1<<HW_ADCCSR_TXEN_BITPOS
                             3709 ; 1127 |#define HW_ADCCSR_TXIEN_SETMASK 1<<HW_ADCCSR_TXIEN_BITPOS
                             3710 ; 1128 |#define HW_ADCCSR_TXI_SETMASK 1<<HW_ADCCSR_TXI_BITPOS
                             3711 ; 1129 |#define HW_ADCCSR_TXEXC_SETMASK 1<<HW_ADCCSR_TXEXC_BITPOS
                             3712 ; 1130 |#define HW_ADCCSR_LPBK_SETMASK 1<<HW_ADCCSR_LPBK_BITPOS
                             3713 ; 1131 |#define HW_ADCCSR_DMASEL_SETMASK (((1<<HW_ADCCSR_DMASEL_WIDTH)-1)<<HW_ADCCSR_DMASEL_BITPOS)        
                             3714 ; 1132 |#define HW_ADCCSR_LPFMODE_SETMASK (((1<<HW_ADCCSR_LPFMODE_WIDTH)-1)<<HW_ADCCSR_LPFMODE_BITPOS)        
                             3715 ; 1133 |#define HW_ADCCSR_CLKGT_SETMASK 1<<HW_ADCCSR_CLKGT_BITPOS
                             3716 ; 1134 |
                             3717 ; 1135 |#define HW_ADCCSR_TXEN_CLRMASK ~(WORD)HW_ADCCSR_TXEN_SETMASK
                             3718 ; 1136 |#define HW_ADCCSR_TXIEN_CLRMASK ~(WORD)HW_ADCCSR_TXIEN_SETMASK
                             3719 ; 1137 |#define HW_ADCCSR_TXI_CLRMASK ~(WORD)HW_ADCCSR_TXI_SETMASK
                             3720 ; 1138 |#define HW_ADCCSR_TXEXC_CLRMASK ~(WORD)HW_ADCCSR_TXEXC_SETMASK
                             3721 ; 1139 |#define HW_ADCCSR_LPBK_CLRMASK ~(WORD)HW_ADCCSR_LPBK_SETMASK
                             3722 ; 1140 |#define HW_ADCCSR_DMASEL_CLRMASK ~(WORD)HW_ADCCSR_DMASEL_SETMASK
                             3723 ; 1141 |#define HW_ADCCSR_LPFMODE_CLRMASK ~(WORD)HW_ADCCSR_LPFMODE_SETMASK
                             3724 ; 1142 |#define HW_ADCCSR_CLKGT_CLRMASK ~(WORD)HW_ADCCSR_CLKGT_SETMASK
                             3725 ; 1143 |
                             3726 ; 1144 |typedef union               
                             3727 ; 1145 |{
                             3728 ; 1146 |    struct {
                             3729 ; 1147 |        int TXEN                        : HW_ADCCSR_TXEN_WIDTH;
                             3730 ; 1148 |        int TXIEN                       : HW_ADCCSR_TXIEN_WIDTH;
                             3731 ; 1149 |        int TXI                         : HW_ADCCSR_TXI_WIDTH;
                             3732 ; 1150 |        int TXEXC                       : HW_ADCCSR_TXEXC_WIDTH;
                             3733 ; 1151 |        int LPBK                        : HW_ADCCSR_LPBK_WIDTH;
                             3734 ; 1152 |        int RSVD1                       : HW_ADCCSR_RSVD1_WIDTH;
                             3735 ; 1153 |        int DMASEL                      : HW_ADCCSR_DMASEL_WIDTH;
                             3736 ; 1154 |        int LPFMODE                     : HW_ADCCSR_LPFMODE_WIDTH;
                             3737 ; 1155 |        int RSVD2                       : HW_ADCCSR_RSVD2_WIDTH;
                             3738 ; 1156 |        int CLKGT                       : HW_ADCCSR_CLKGT_WIDTH;
                             3739 ; 1157 |    } B;
                             3740 ; 1158 |    int I;
                             3741 ; 1159 |    unsigned int U;
                             3742 ; 1160 |} adc_csr_type;
                             3743 ; 1161 |#define HW_ADCCSR (*(volatile adc_csr_type _X*) (HW_ADC_BASEADDR+0))
                             3744 ; 1162 |
                             3745 ; 1163 |
                             3746 ; 1164 |/////////////////////////////////////////////////////////////////////////////////
                             3747 ; 1165 |//  ADC Word Count Register (HW_ADCWCR) Bit Definitions
                             3748 ; 1166 |#define HW_ADCWCR_WCR_BITPOS 0
                             3749 ; 1167 |
                             3750 ; 1168 |#define HW_ADCWCR_WCR_WIDTH (10)
                             3751 ; 1169 |#define HW_ADCWCR_RSVD_WIDTH (14)
                             3752 ; 1170 |
                             3753 ; 1171 |#define HW_ADCWCR_WCR_SETMASK (((1<<HW_ADCWCR_WCR_WIDTH)-1)<<HW_ADCWCR_WCR_BITPOS)        
                             3754 ; 1172 |
                             3755 ; 1173 |#define HW_ADCWCR_WCR_CLRMASK ~(WORD)HW_ADCWCR_WCR_SETMASK
                             3756 ; 1174 |
                             3757 ; 1175 |typedef union               
                             3758 ; 1176 |{
                             3759 ; 1177 |    struct {
                             3760 ; 1178 |        int WCR                         : HW_ADCWCR_WCR_WIDTH;
                             3761 ; 1179 |        int RSVD                        : HW_ADCWCR_RSVD_WIDTH;
                             3762 ; 1180 |    } B;
                             3763 ; 1181 |    int I;
                             3764 ; 1182 |    unsigned int U;
                             3765 ; 1183 |} adc_wcr_type;
                             3766 ; 1184 |#define HW_ADCWCR (*(volatile adc_wcr_type _X*) (HW_ADC_BASEADDR+2))
                             3767 ; 1185 |
                             3768 ; 1186 |
                             3769 ; 1187 |
                             3770 ; 1188 |/////////////////////////////////////////////////////////////////////////////////
                             3771 ; 1189 |//   ADC Base Address Register (HW_ADCBAR) Bit Definitions
                             3772 ; 1190 |#define HW_ADCBAR_BAR_BITPOS 0
                             3773 ; 1191 |#define HW_ADCBAR_BAR_WIDTH (16)
                             3774 ; 1192 |#define HW_ADCBAR_RSVD_WIDTH (8)
                             3775 ; 1193 |
                             3776 ; 1194 |//HW_ADCBAR_BAR_SETMASK                   equ     $FFFF<<HW_ADCBAR_BAR_BITPOS
                             3777 ; 1195 |#define HW_ADCBAR_BAR_SETMASK (((1<<HW_ADCBAR_BAR_WIDTH)-1)<<HW_ADCBAR_BAR_BITPOS)        
                             3778 ; 1196 |
                             3779 ; 1197 |#define HW_ADCBAR_BAR_CLRMASK ~(WORD)HW_ADCBAR_BAR_SETMASK
                             3780 ; 1198 |
                             3781 ; 1199 |typedef union               
                             3782 ; 1200 |{
                             3783 ; 1201 |    struct {
                             3784 ; 1202 |        int BAR                        : HW_ADCBAR_BAR_WIDTH;
                             3785 ; 1203 |        int RSVD                       : HW_ADCBAR_RSVD_WIDTH;
                             3786 ; 1204 |    } B;
                             3787 ; 1205 |    int I;
                             3788 ; 1206 |    unsigned int U;
                             3789 ; 1207 |} adc_bar_type;
                             3790 ; 1208 |#define HW_ADCBAR (*(volatile adc_bar_type _X*) (HW_ADC_BASEADDR+5))
                             3791 ; 1209 |
                             3792 ; 1210 |
                             3793 ; 1211 |
                             3794 ; 1212 |
                             3795 ; 1213 |
                             3796 ; 1214 |/////////////////////////////////////////////////////////////////////////////////
                             3797 ; 1215 |//  DAC Current Position Register (HW_ADCCPR) Bit Definitions
                             3798 ; 1216 |#define HW_ADCCPR_CPR_BITPOS 0
                             3799 ; 1217 |
                             3800 ; 1218 |#define HW_ADCCPR_CPR_WIDTH (10)
                             3801 ; 1219 |#define HW_ADCCPR_RSVD_WIDTH (14)
                             3802 ; 1220 |
                             3803 ; 1221 |#define HW_ADCCPR_CPR_SETMASK (((1<<HW_ADCCPR_CPR_WIDTH)-1)<<HW_ADCCPR_CPR_BITPOS)        
                             3804 ; 1222 |
                             3805 ; 1223 |#define HW_ADCCPR_CPR_CLRMASK ~(WORD)HW_ADCCPR_CPR_SETMASK
                             3806 ; 1224 |
                             3807 ; 1225 |typedef union               
                             3808 ; 1226 |{
                             3809 ; 1227 |    struct {
                             3810 ; 1228 |        int CPR                         : HW_ADCCPR_CPR_WIDTH;
                             3811 ; 1229 |        int RSVD                        : HW_ADCCPR_RSVD_WIDTH;
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page  16

M:ADDR CODE           CYCLES LINE SOURCELINE
                             3812 ; 1230 |    } B;
                             3813 ; 1231 |    int I;
                             3814 ; 1232 |    unsigned int U;
                             3815 ; 1233 |} adc_cpr_type;
                             3816 ; 1234 |#define HW_ADCCPR (*(volatile adc_cpr_type _X*) (HW_ADC_BASEADDR+3))
                             3817 ; 1235 |
                             3818 ; 1236 |
                             3819 ; 1237 |/////////////////////////////////////////////////////////////////////////////////
                             3820 ; 1238 |//  ADC Modulo Register (HW_ADCMR) Bit Definitions
                             3821 ; 1239 |#define HW_ADCMR_MR_BITPOS 0
                             3822 ; 1240 |#define HW_ADCMR_MR_WIDTH (10)
                             3823 ; 1241 |#define HW_ADCMR_RSVD_WIDTH (14)
                             3824 ; 1242 |
                             3825 ; 1243 |//HW_ADCMR_MR_SETMASK                     equ     $3FF<<HW_ADCMR_MR_BITPOS
                             3826 ; 1244 |#define HW_ADCMR_MR_SETMASK (((1<<HW_ADCMR_MR_WIDTH)-1)<<HW_ADCMR_MR_BITPOS)        
                             3827 ; 1245 |
                             3828 ; 1246 |#define HW_ADCMR_MR_CLRMASK ~(WORD)HW_ADCMR_MR_SETMASK
                             3829 ; 1247 |
                             3830 ; 1248 |typedef union               
                             3831 ; 1249 |{
                             3832 ; 1250 |    struct {
                             3833 ; 1251 |        int MR                         : HW_ADCMR_MR_WIDTH;
                             3834 ; 1252 |        int RSVD                       : HW_ADCMR_RSVD_WIDTH;
                             3835 ; 1253 |    } B;
                             3836 ; 1254 |    int I;
                             3837 ; 1255 |    unsigned int U;
                             3838 ; 1256 |} adc_mr_type;
                             3839 ; 1257 |#define HW_ADCMR (*(volatile adc_mr_type _X*) (HW_ADC_BASEADDR+4))
                             3840 ; 1258 |
                             3841 ; 1259 |/////////////////////////////////////////////////////////////////////////////////
                             3842 ; 1260 |//  ADC Sample Rate Register (HW_ADCSRR) Bit Definitions
                             3843 ; 1261 |#define HW_ADCSRR_SR_BITPOS 0
                             3844 ; 1262 |
                             3845 ; 1263 |#define HW_ADCSRR_SR_WIDTH (23)
                             3846 ; 1264 |#define HW_ADCSRR_RSVD_WIDTH (1)
                             3847 ; 1265 |
                             3848 ; 1266 |//HW_ADCSRR_SR_SETMASK                    equ     $FFFFFF<<HW_ADCSRR_SR_BITPOS
                             3849 ; 1267 |#define HW_ADCSRR_SR_SETMASK (((1<<HW_ADCSRR_SR_WIDTH)-1)<<HW_ADCSRR_SR_BITPOS)        
                             3850 ; 1268 |
                             3851 ; 1269 |#define HW_ADCSRR_SR_CLRMASK ~(WORD)HW_ADCSRR_SR_SETMASK
                             3852 ; 1270 |
                             3853 ; 1271 |typedef union               
                             3854 ; 1272 |{
                             3855 ; 1273 |    struct {
                             3856 ; 1274 |        int SR                          : HW_ADCSRR_SR_WIDTH;
                             3857 ; 1275 |        int RSVD                        : HW_ADCSRR_RSVD_WIDTH;
                             3858 ; 1276 |    } B;
                             3859 ; 1277 |    int I;
                             3860 ; 1278 |    unsigned int U;
                             3861 ; 1279 |} adc_srr_type;
                             3862 ; 1280 |#define HW_ADCSRR (*(volatile adc_srr_type _X*) (HW_ADC_BASEADDR+1))
                             3863 ; 1281 |
                             3864 ; 1282 |/////////////////////////////////////////////////////////////////////////////////
                             3865 ; 1283 |//  ADC Interrupt Control Register (HW_ADCICR) Bit Definitions
                             3866 ; 1284 |#define HW_ADCICR_IPT_BITPOS 0
                             3867 ; 1285 |
                             3868 ; 1286 |#define HW_ADCICR_IPT_WIDTH (10)
                             3869 ; 1287 |#define HW_ADCICR_RSVD_WIDTH (12)
                             3870 ; 1288 |
                             3871 ; 1289 |#define HW_ADCICR_IPT_SETMASK (((1<<HW_ADCICR_IPT_WIDTH)-1)<<HW_ADCICR_IPT_BITPOS)        
                             3872 ; 1290 |
                             3873 ; 1291 |#define HW_ADCICR_IPT_CLRMASK ~(WORD)HW_ADCICR_IPT_SETMASK
                             3874 ; 1292 |
                             3875 ; 1293 |typedef union               
                             3876 ; 1294 |{
                             3877 ; 1295 |    struct {
                             3878 ; 1296 |        int IPT                         : HW_ADCICR_IPT_WIDTH;
                             3879 ; 1297 |        int RSVD                        : HW_ADCICR_RSVD_WIDTH;
                             3880 ; 1298 |    } B;
                             3881 ; 1299 |    int I;
                             3882 ; 1300 |    unsigned int U;
                             3883 ; 1301 |} adc_icr_type;
                             3884 ; 1302 |#define HW_ADCICR (*(volatile adc_icr_type _X*) (HW_ADC_BASEADDR+6))
                             3885 ; 1303 |
                             3886 ; 1304 |//*********************  REGISTER ALIAS DEFINES TO MATCH LEGACY CODE *******************************
                             3887 ; 1305 |// The following defines were added to match regs3410.inc definition to build SDK2XXX code without needing 
                             3888 ; 1306 |// to update the actual files. Only the defines needed to build SDK2.400 were added.
                             3889 ; 1307 |
                             3890 ; 1308 |#define HW_MIXTBR_PW_ADC_RIGHT_CH_BITPOS 16
                             3891 ; 1309 |
                             3892 ; 1310 |#define HW_MIXLINE1INVR_GN_ZERO_SETMASK 0x808
                             3893 ; 1311 |
                             3894 ; 1312 |#endif
                             3895 ; 1313 |
                             3896 
                             3898 
                             3899 ; 20   |#include "regsdcdc.h"
                             3900 
                             3902 
                             3903 ; 1    |#if !(defined(regsdcdcinc))
                             3904 ; 2    |
                             3905 ; 3    |#define regssysteminc 1
                             3906 ; 4    |
                             3907 ; 5    |
                             3908 ; 6    |
                             3909 ; 7    |#include "types.h"
                             3910 
                             3912 
                             3913 ; 1    |////////////////////////////////////////////////////////////////////////////////
                             3914 ; 2    |// Copyright(C) SigmaTel, Inc. 2000-2004
                             3915 ; 3    |//
                             3916 ; 4    |// Filename: types.h
                             3917 ; 5    |// Description: Standard data types
                             3918 ; 6    |////////////////////////////////////////////////////////////////////////////////
                             3919 ; 7    |
                             3920 ; 8    |#ifndef _TYPES_H
                             3921 ; 9    |#define _TYPES_H
                             3922 ; 10   |
                             3923 ; 11   |// TODO:  move this outta here!
                             3924 ; 12   |#if !defined(NOERROR)
                             3925 ; 13   |#define NOERROR 0
                             3926 ; 14   |#define SUCCESS 0
                             3927 ; 15   |#endif 
                             3928 ; 16   |#if !defined(SUCCESS)
                             3929 ; 17   |#define SUCCESS  0
                             3930 ; 18   |#endif
                             3931 ; 19   |#if !defined(ERROR)
                             3932 ; 20   |#define ERROR   -1
                             3933 ; 21   |#endif
                             3934 ; 22   |#if !defined(FALSE)
                             3935 ; 23   |#define FALSE 0
                             3936 ; 24   |#endif
                             3937 ; 25   |#if !defined(TRUE)
                             3938 ; 26   |#define TRUE  1
                             3939 ; 27   |#endif
                             3940 ; 28   |
                             3941 ; 29   |#if !defined(NULL)
                             3942 ; 30   |#define NULL 0
                             3943 ; 31   |#endif
                             3944 ; 32   |
                             3945 ; 33   |#define MAX_INT     0x7FFFFF
                             3946 ; 34   |#define MAX_LONG    0x7FFFFFffffff
                             3947 ; 35   |        // max positive unsigned long value: -1 == 0xFFFFFFffffff
                             3948 ; 36   |#define MAX_ULONG   (-1) 
                             3949 ; 37   |
                             3950 ; 38   |#define WORD_SIZE   24              // word size in bits
                             3951 ; 39   |#define BYTES_PER_WORD 3            // 8 bit bytes
                             3952 ; 40   |
                             3953 ; 41   |
                             3954 ; 42   |#define BYTE    unsigned char       // btVarName
                             3955 ; 43   |#define CHAR    signed char         // cVarName
                             3956 ; 44   |#define USHORT  unsigned short      // usVarName
                             3957 ; 45   |#define SHORT   unsigned short      // sVarName
                             3958 ; 46   |#define WORD    unsigned int        // wVarName
                             3959 ; 47   |#define INT     signed int          // iVarName
                             3960 ; 48   |#define DWORD   unsigned long       // dwVarName
                             3961 ; 49   |#define LONG    signed long         // lVarName
                             3962 ; 50   |#define BOOL    unsigned int        // bVarName
                             3963 ; 51   |#define FRACT   _fract              // frVarName
                             3964 ; 52   |#define LFRACT  long _fract         // lfrVarName
                             3965 ; 53   |#define CIRC    _circ               // cp<type prefix>VarName (see below)
                             3966 ; 54   |#define FLOAT   float               // fVarName
                             3967 ; 55   |#define DBL     double              // dVarName
                             3968 ; 56   |#define ENUM    enum                // eVarName
                             3969 ; 57   |#define CMX     _complex            // cmxVarName
                             3970 ; 58   |typedef WORD UCS3;                   // 
                             3971 ; 59   |
                             3972 ; 60   |#define UINT16  unsigned short
                             3973 ; 61   |#define UINT8   unsigned char   
                             3974 ; 62   |#define UINT32  unsigned long
                             3975 ; 63   |#define UINT64  unsigned long   // need to figure out how to do 64 bit values.  Or port exisiting code to only use 48 bit
                             3976 ; 64   |#define INT64   unsigned long   // need to figure out how to do 64 bit values.  Or port exisiting code to only use 48 bit
                             3977 ; 65   |#define WCHAR   UINT16
                             3978 ; 66   |
                             3979 ; 67   |//UINT128 is 16 bytes or 6 words
                             3980 ; 68   |typedef struct UINT128_3500 {   
                             3981 ; 69   |    int val[6];     
                             3982 ; 70   |} UINT128_3500;
                             3983 ; 71   |
                             3984 ; 72   |#define UINT128   UINT128_3500
                             3985 ; 73   |
                             3986 ; 74   |// Little endian word packed byte strings:   
                             3987 ; 75   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                             3988 ; 76   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                             3989 ; 77   |// Little endian word packed byte strings:   
                             3990 ; 78   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                             3991 ; 79   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                             3992 ; 80   |
                             3993 ; 81   |// Declare Memory Spaces To Use When Coding
                             3994 ; 82   |// A. Sector Buffers
                             3995 ; 83   |#define SECTOR_BUFFER_MEM_X _X
                             3996 ; 84   |#define SECTOR_BUFFER_MEM_Y _Y
                             3997 ; 85   |#define SECTOR_BUFFER_MEM SECTOR_BUFFER_MEM_X
                             3998 ; 86   |typedef WORD SECTOR_BUFFER_MEM SECTOR_BUFFER;
                             3999 ; 87   |typedef SECTOR_BUFFER * P_SECTOR_BUFFER;
                             4000 ; 88   |// B. Media DDI Memory
                             4001 ; 89   |#define MEDIA_DDI_MEM _Y
                             4002 ; 90   |
                             4003 ; 91   |
                             4004 ; 92   |
                             4005 ; 93   |// Pointers to linear structures are labeled as: p<type prefix>VarName
                             4006 ; 94   |// Examples of circular pointers:
                             4007 ; 95   |//    INT CIRC cpiVarName
                             4008 ; 96   |//    DWORD CIRC cpdwVarName
                             4009 ; 97   |
                             4010 ; 98   |#define RETCODE INT                 // rcVarName
                             4011 ; 99   |
                             4012 ; 100  |// generic bitfield structure
                             4013 ; 101  |struct Bitfield {
                             4014 ; 102  |    unsigned int B0  :1;
                             4015 ; 103  |    unsigned int B1  :1;
                             4016 ; 104  |    unsigned int B2  :1;
                             4017 ; 105  |    unsigned int B3  :1;
                             4018 ; 106  |    unsigned int B4  :1;
                             4019 ; 107  |    unsigned int B5  :1;
                             4020 ; 108  |    unsigned int B6  :1;
                             4021 ; 109  |    unsigned int B7  :1;
                             4022 ; 110  |    unsigned int B8  :1;
                             4023 ; 111  |    unsigned int B9  :1;
                             4024 ; 112  |    unsigned int B10 :1;
                             4025 ; 113  |    unsigned int B11 :1;
                             4026 ; 114  |    unsigned int B12 :1;
                             4027 ; 115  |    unsigned int B13 :1;
                             4028 ; 116  |    unsigned int B14 :1;
                             4029 ; 117  |    unsigned int B15 :1;
                             4030 ; 118  |    unsigned int B16 :1;
                             4031 ; 119  |    unsigned int B17 :1;
                             4032 ; 120  |    unsigned int B18 :1;
                             4033 ; 121  |    unsigned int B19 :1;
                             4034 ; 122  |    unsigned int B20 :1;
                             4035 ; 123  |    unsigned int B21 :1;
                             4036 ; 124  |    unsigned int B22 :1;
                             4037 ; 125  |    unsigned int B23 :1;
                             4038 ; 126  |};
                             4039 ; 127  |
                             4040 ; 128  |union BitInt {
                             4041 ; 129  |        struct Bitfield B;
                             4042 ; 130  |        int        I;
                             4043 ; 131  |};
                             4044 ; 132  |
                             4045 ; 133  |#define MAX_MSG_LENGTH 10
                             4046 ; 134  |struct CMessage
                             4047 ; 135  |{
                             4048 ; 136  |        unsigned int m_uLength;
                             4049 ; 137  |        unsigned int m_uMsg[MAX_MSG_LENGTH];
                             4050 ; 138  |};
                             4051 ; 139  |
                             4052 ; 140  |typedef struct {
                             4053 ; 141  |    WORD m_wLength;
                             4054 ; 142  |    WORD m_wMessage;
                             4055 ; 143  |    WORD m_wParams[MAX_MSG_LENGTH];
                             4056 ; 144  |} Message;
                             4057 ; 145  |
                             4058 ; 146  |struct MessageQueueDescriptor
                             4059 ; 147  |{
                             4060 ; 148  |        int *m_pBase;
                             4061 ; 149  |        int m_iModulo;
                             4062 ; 150  |        int m_iSize;
                             4063 ; 151  |        int *m_pHead;
                             4064 ; 152  |        int *m_pTail;
                             4065 ; 153  |};
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page  17

M:ADDR CODE           CYCLES LINE SOURCELINE
                             4066 ; 154  |
                             4067 ; 155  |struct ModuleEntry
                             4068 ; 156  |{
                             4069 ; 157  |    int m_iSignaledEventMask;
                             4070 ; 158  |    int m_iWaitEventMask;
                             4071 ; 159  |    int m_iResourceOfCode;
                             4072 ; 160  |    struct MessageQueueDescriptor *m_pMessageQueue;
                             4073 ; 161  |    int _asmfunc (*m_pProcessEntryPoint)(union WaitMask Signals,struct MessageQueueDescriptor *);
                             4074 ; 162  |    int _asmfunc (*m_pInitFunction)(struct MessageQueueDescriptor *);
                             4075 ; 163  |    int m_uTimeOutHigh;
                             4076 ; 164  |    int m_uTimeOutLow;
                             4077 ; 165  |    int _asmfunc (*m_pBackgroundFunction)(struct MessageQueueDescriptor *);
                             4078 ; 166  |};
                             4079 ; 167  |
                             4080 ; 168  |union WaitMask{
                             4081 ; 169  |    struct B{
                             4082 ; 170  |        unsigned int m_bNone     :1;
                             4083 ; 171  |        unsigned int m_bMessage  :1;
                             4084 ; 172  |        unsigned int m_bTimer    :1;
                             4085 ; 173  |        unsigned int m_bButton   :1;
                             4086 ; 174  |    } B;
                             4087 ; 175  |    int I;
                             4088 ; 176  |} ;
                             4089 ; 177  |
                             4090 ; 178  |
                             4091 ; 179  |struct Button {
                             4092 ; 180  |        WORD wButtonEvent;
                             4093 ; 181  |        WORD wUnused[MAX_MSG_LENGTH];   
                             4094 ; 182  |};
                             4095 ; 183  |
                             4096 ; 184  |struct Message {
                             4097 ; 185  |        WORD wMsgLength;
                             4098 ; 186  |        WORD wMsgCommand;
                             4099 ; 187  |        WORD wMsgParms[MAX_MSG_LENGTH-1];
                             4100 ; 188  |};
                             4101 ; 189  |
                             4102 ; 190  |union EventTypes {
                             4103 ; 191  |        struct CMessage msg;
                             4104 ; 192  |        struct Button Button ;
                             4105 ; 193  |        struct Message Message;
                             4106 ; 194  |};
                             4107 ; 195  |
                             4108 ; 196  |// next 2 used to get updater build to return correct protocol ver in scsi response.
                             4109 ; 197  |#define BUILD_TYPE_UPDATER  0x100
                             4110 ; 198  |#define BUILD_TYPE_HOSTLINK 0x101
                             4111 ; 199  |#define BUILD_TYPE_PLAYER   0x102
                             4112 ; 200  |
                             4113 ; 201  |// Resets part if RETAIL build. DEBUG build executes debug instruction to halt.
                             4114 ; 202  |#define SystemHalt() __asm(" include 'sysmacro.asm' \n error") 
                             4115 ; 203  |#define assert(x)    if(!(x)) __asm(" include 'sysmacro.asm' \n error")
                             4116 ; 204  |
                             4117 ; 205  |#if DEBUG
                             4118 ; 206  |// For DEBUG builds, DebugBuildAssert(condition) halts if condition evaluates to FALSE. 
                             4119 ; 207  |#define DebugBuildAssert(x)    if(!(x)) __asm(" debug ")
                             4120 ; 208  |#else 
                             4121 ; 209  |// For RETAIL builds, DebugBuildAssert(condition) does nothing & execution continues rather than halt or reset. 
                             4122 ; 210  |#define DebugBuildAssert(x)    
                             4123 ; 211  |#endif
                             4124 ; 212  |
                             4125 ; 213  |// Do this in your C files to make a reminder that's displayed during the build.
                             4126 ; 214  |//  #pragma asm
                             4127 ; 215  |//  WARN 'Note to builder: reminder to do this after verifying that'
                             4128 ; 216  |//  #pragma endasm
                             4129 ; 217  |
                             4130 ; 218  |
                             4131 ; 219  |#ifdef COLOR_262K
                             4132 ; 220  |#define RGB(r,g,b)    ((0x0000FC & (r)) << 10) | ((0x0000FC & (g)) << 4) | ((0x0000FC & (b)) >> 2)    //262k
                             4133 ; 221  |#elif defined(COLOR_65K)
                             4134 ; 222  |#define RGB(r,g,b)    ((0x0000F8 & (r)) << 8) | ((0x0000FC & (g)) << 3) | ((0x0000F8 & (b)) >> 3)  //65k
                             4135 ; 223  |#else
                             4136 ; 224  |#define RGB(r,g,b)       ((0x0000F0 & (r)) << 4) | (0x0000F0 & (g)) | ((0x0000F0 & (b)) >> 4)
                             4137 ; 225  |#endif
                             4138 ; 226  |    
                             4139 ; 227  |#endif // #ifndef _TYPES_H
                             4140 
                             4142 
                             4143 ; 8    |
                             4144 ; 9    |
                             4145 ; 10   |
                             4146 ; 11   |//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                             4147 ; 12   |
                             4148 ; 13   |//   SYSTEM STMP Registers 
                             4149 ; 14   |//      Last Edited 2.19.2003 M. May
                             4150 ; 15   |//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                             4151 ; 16   |
                             4152 ; 17   |#define HW_DCDC_BASEADDR (0xFA0C)
                             4153 ; 18   |
                             4154 ; 19   |
                             4155 ; 20   |
                             4156 ; 21   |
                             4157 ; 22   |
                             4158 ; 23   |
                             4159 ; 24   |/////////////////////////////////////////////////////////////////////////////////
                             4160 ; 25   |
                             4161 ; 26   |//  DcDc#1 Control Register (HW_DCDC1_CTRL0) Bit Definitions
                             4162 ; 27   |
                             4163 ; 28   |#define HW_DCDC1_CTRL0_PLEVBU_WIDTH (5)
                             4164 ; 29   |#define HW_DCDC1_CTRL0_RSVD0_WIDTH (3)
                             4165 ; 30   |#define HW_DCDC1_CTRL0_PLEVBO_WIDTH (5)
                             4166 ; 31   |#define HW_DCDC1_CTRL0_RSVD1_WIDTH (3)
                             4167 ; 32   |#define HW_DCDC1_CTRL0_NLEV_WIDTH (5)
                             4168 ; 33   |
                             4169 ; 34   |#define HW_DCDC1_CTRL0_RSVD2_WIDTH (3)
                             4170 ; 35   |
                             4171 ; 36   |
                             4172 ; 37   |
                             4173 ; 38   |#define HW_DCDC1_CTRL0_PLEVBU_BITPOS (0)
                             4174 ; 39   |#define HW_DCDC1_CTRL0_PLEVBO_BITPOS (8)
                             4175 ; 40   |#define HW_DCDC1_CTRL0_NLEV_BITPOS (16)
                             4176 ; 41   |
                             4177 ; 42   |
                             4178 ; 43   |
                             4179 ; 44   |#define HW_DCDC1_CTRL0_PLEVBU_SETMASK (((1<<HW_DCDC1_CTRL0_PLEVBU_WIDTH)-1)<<HW_DCDC1_CTRL0_PLEVBU_BITPOS)        
                             4180 ; 45   |#define HW_DCDC1_CTRL0_PLEVBO_SETMASK (((1<<HW_DCDC1_CTRL0_PLEVBO_WIDTH)-1)<<HW_DCDC1_CTRL0_PLEVBO_BITPOS) 
                             4181 ; 46   |#define HW_DCDC1_CTRL0_NLEV_SETMASK (((1<<HW_DCDC1_CTRL0_NLEV_WIDTH)-1)<<HW_DCDC1_CTRL0_NLEV_BITPOS)  
                             4182 ; 47   |
                             4183 ; 48   |
                             4184 ; 49   |
                             4185 ; 50   |#define HW_DCDC1_CTRL0_PLEVBU_CLRMASK (~(WORD)HW_DCDC1_CTRL0_PLEVBU_SETMASK)     
                             4186 ; 51   |#define HW_DCDC1_CTRL0_PLEVBO_CLRMASK (~(WORD)HW_DCDC1_CTRL0_PLEVBO_SETMASK) 
                             4187 ; 52   |#define HW_DCDC1_CTRL0_NLEV_CLRMASK (~(WORD)HW_DCDC1_CTRL0_NLEV_SETMASK)  
                             4188 ; 53   |
                             4189 ; 54   |
                             4190 ; 55   |
                             4191 ; 56   |
                             4192 ; 57   |
                             4193 ; 58   |typedef union               
                             4194 ; 59   |{
                             4195 ; 60   |    struct {
                             4196 ; 61   |        unsigned int PLEVBU           : HW_DCDC1_CTRL0_PLEVBU_WIDTH;
                             4197 ; 62   |        unsigned int RSVD0            : HW_DCDC1_CTRL0_RSVD0_WIDTH;
                             4198 ; 63   |        unsigned int PLEVBO           : HW_DCDC1_CTRL0_PLEVBO_WIDTH;
                             4199 ; 64   |        unsigned int RSVD1            : HW_DCDC1_CTRL0_RSVD1_WIDTH;
                             4200 ; 65   |        unsigned int NLEV             : HW_DCDC1_CTRL0_NLEV_WIDTH;
                             4201 ; 66   |        unsigned int RSVD2            : HW_DCDC1_CTRL0_RSVD2_WIDTH;
                             4202 ; 67   |    } B;
                             4203 ; 68   |    unsigned int I;
                             4204 ; 69   |} dcdc1_ctrl0_type;
                             4205 ; 70   |#define HW_DCDC1_CTRL0      (*(volatile dcdc1_ctrl0_type _X*) (HW_DCDC_BASEADDR))    /* DcDc#1 Limit Level Register */
                             4206 ; 71   |
                             4207 ; 72   |
                             4208 ; 73   |
                             4209 ; 74   |
                             4210 ; 75   |/////////////////////////////////////////////////////////////////////////////////
                             4211 ; 76   |
                             4212 ; 77   |//  DCDc#1 Control Register1 (HW_DCDC1_CTRL1) Bit Definitions
                             4213 ; 78   |
                             4214 ; 79   |#define HW_DCDC1_CTRL1_C_WIDTH (4)
                             4215 ; 80   |#define HW_DCDC1_CTRL1_R_WIDTH (4)
                             4216 ; 81   |#define HW_DCDC1_CTRL1_FFOR_WIDTH (3)
                             4217 ; 82   |#define HW_DCDC1_CTRL1_RSVD0_WIDTH (1)
                             4218 ; 83   |#define HW_DCDC1_CTRL1_PFMCTRL_WIDTH (12)
                             4219 ; 84   |
                             4220 ; 85   |
                             4221 ; 86   |
                             4222 ; 87   |#define HW_DCDC1_CTRL1_C_BITPOS (0)
                             4223 ; 88   |#define HW_DCDC1_CTRL1_R_BITPOS (4)
                             4224 ; 89   |#define HW_DCDC1_CTRL1_FFOR_BITPOS (8)
                             4225 ; 90   |#define HW_DCDC1_CTRL1_PFMCTRL_BITPOS (12) 
                             4226 ; 91   |
                             4227 ; 92   |#define HW_DCDC1_CTRL1_C_SETMASK (((1<<HW_DCDC1_CTRL1_C_WIDTH)-1)<<HW_DCDC1_CTRL1_C_BITPOS)        
                             4228 ; 93   |#define HW_DCDC1_CTRL1_R_SETMASK (((1<<HW_DCDC1_CTRL1_R_WIDTH)-1)<<HW_DCDC1_CTRL1_R_BITPOS) 
                             4229 ; 94   |#define HW_DCDC1_CTRL1_FFOR_SETMASK (((1<<HW_DCDC1_CTRL1_FFOR_WIDTH)-1)<<HW_DCDC1_CTRL1_FFOR_BITPOS)  
                             4230 ; 95   |#define HW_DCDC1_CTRL1_PFMCTRL_SETMASK (((1<<HW_DCDC1_CTRL1_PFMCTRL_WIDTH)-1)<<HW_DCDC1_CTRL1_PFMCTRL_BITPOS)   
                             4231 ; 96   |
                             4232 ; 97   |#define HW_DCDC1_CTRL1_C_CLRMASK (~(WORD)HW_DCDC1_CTRL1_C_SETMASK)     
                             4233 ; 98   |#define HW_DCDC1_CTRL1_R_CLRMASK (~(WORD)HW_DCDC1_CTRL1_R_SETMASK) 
                             4234 ; 99   |#define HW_DCDC1_CTRL1_FFOR_CLRMASK (~(WORD)HW_DCDC1_CTRL1_FFOR_SETMASK)  
                             4235 ; 100  |#define HW_DCDC1_CTRL1_PFMCTRL_CLRMASK (~(WORD)HW_DCDC1_CTRL1_PFMCTRL_SETMASK)  
                             4236 ; 101  |
                             4237 ; 102  |
                             4238 ; 103  |typedef union               
                             4239 ; 104  |{
                             4240 ; 105  |    struct {
                             4241 ; 106  |        unsigned int C       : HW_DCDC1_CTRL1_C_WIDTH;
                             4242 ; 107  |        unsigned int R                : HW_DCDC1_CTRL1_R_WIDTH;
                             4243 ; 108  |        unsigned int FFOR             : HW_DCDC1_CTRL1_FFOR_WIDTH;
                             4244 ; 109  |        unsigned int RSVD0            : HW_DCDC1_CTRL1_RSVD0_WIDTH;
                             4245 ; 110  |        unsigned int PFMCTRL          : HW_DCDC1_CTRL1_FFOR_WIDTH;
                             4246 ; 111  |    } B;
                             4247 ; 112  |    unsigned int I;
                             4248 ; 113  |} dcdc1_ctrl1_type;
                             4249 ; 114  |#define HW_DCDC1_CTRL1      (*(volatile dcdc1_ctrl1_type _X*) (HW_DCDC_BASEADDR+1))    /* DcDc#1 Ctrl #1 Register */
                             4250 ; 115  |
                             4251 ; 116  |
                             4252 ; 117  |
                             4253 ; 118  |
                             4254 ; 119  |/////////////////////////////////////////////////////////////////////////////////
                             4255 ; 120  |
                             4256 ; 121  |//  DcDc VDDIO Register (HW_DCDC_VDDIO) Bit Definitions
                             4257 ; 122  |
                             4258 ; 123  |#define HW_DCDC_VDDIO_VOLTAGE_LEVEL_WIDTH (5)
                             4259 ; 124  |#define HW_DCDC_VDDIO_RSVD0_WIDTH (3)
                             4260 ; 125  |#define HW_DCDC_VDDIO_BROWNOUT_LEVEL_WIDTH (5)
                             4261 ; 126  |#define HW_DCDC_VDDIO_RSVD1_WIDTH (3)
                             4262 ; 127  |#define HW_DCDC_VDDIO_BROWNOUT_ENABLE_WIDTH (1)
                             4263 ; 128  |#define HW_DCDC_VDDIO_RSVD2_WIDTH (3)
                             4264 ; 129  |#define HW_DCDC_VDDIO_BROWNOUT_STATUS_WIDTH (1)
                             4265 ; 130  |#define HW_DCDC_VDDIO_OK_WIDTH (1)
                             4266 ; 131  |#define HW_DCDC_VDDIO_RSVD3_WIDTH (2)
                             4267 ; 132  |
                             4268 ; 133  |
                             4269 ; 134  |
                             4270 ; 135  |#define HW_DCDC_VDDIO_VOLTAGE_LEVEL_BITPOS (0)
                             4271 ; 136  |#define HW_DCDC_VDDIO_BROWNOUT_LEVEL_BITPOS (8)
                             4272 ; 137  |#define HW_DCDC_VDDIO_BROWNOUT_ENABLE_BITPOS (16)
                             4273 ; 138  |#define HW_DCDC_VDDIO_BROWNOUT_STATUS_BITPOS (20)
                             4274 ; 139  |#define HW_DCDC_VDDIO_OK_BITPOS (21)
                             4275 ; 140  |
                             4276 ; 141  |
                             4277 ; 142  |#define HW_DCDC_VDDIO_VOLTAGE_LEVEL_SETMASK (((1<<HW_DCDC_VDDIO_VOLTAGE_LEVEL_WIDTH)-1)<<HW_DCDC_VDDIO_VOLTAGE_LEVEL_BITPOS)        
                             4278 ; 143  |#define HW_DCDC_VDDIO_BROWNOUT_LEVEL_SETMASK (((1<<HW_DCDC_VDDIO_BROWNOUT_LEVEL_WIDTH)-1)<<HW_DCDC_VDDIO_BROWNOUT_LEVEL_BITPOS) 
                             4279 ; 144  |#define HW_DCDC_VDDIO_BROWNOUT_ENABLE_SETMASK (((1<<HW_DCDC_VDDIO_BROWNOUT_ENABLE_WIDTH)-1)<<HW_DCDC_VDDIO_BROWNOUT_ENABLE_BITPOS)  
                             4280 ; 145  |#define HW_DCDC_VDDIO_BROWNOUT_STATUS_SETMASK (((1<<HW_DCDC_VDDIO_BROWNOUT_STATUS_WIDTH)-1)<<HW_DCDC_VDDIO_BROWNOUT_STATUS_BITPOS)  
                             4281 ; 146  |
                             4282 ; 147  |
                             4283 ; 148  |
                             4284 ; 149  |#define HW_DCDC_VDDIO_VOLTAGE_LEVEL_CLRMASK (~(WORD)HW_DCDC_VDDIO_VOLTAGE_LEVEL_SETMASK)     
                             4285 ; 150  |#define HW_DCDC_VDDIO_BROWNOUT_LEVEL_CLRMASK (~(WORD)HW_DCDC_VDDIO_BROWNOUT_LEVEL_SETMASK) 
                             4286 ; 151  |#define HW_DCDC_VDDIO_BROWNOUT_ENABLE_CLRMASK (~(WORD)HW_DCDC_VDDIO_BROWNOUT_ENABLE_SETMASK)  
                             4287 ; 152  |#define HW_DCDC_VDDIO_BROWNOUT_STATUS_CLRMASK (~(WORD)HW_DCDC_VDDIO_BROWNOUT_STATUS_SETMASK)  
                             4288 ; 153  |
                             4289 ; 154  |
                             4290 ; 155  |typedef union               
                             4291 ; 156  |{
                             4292 ; 157  |    struct {
                             4293 ; 158  |        unsigned int VOLTAGE_LEVEL    : HW_DCDC_VDDIO_VOLTAGE_LEVEL_WIDTH;
                             4294 ; 159  |        unsigned int RSVD0            : HW_DCDC_VDDIO_RSVD0_WIDTH;
                             4295 ; 160  |        unsigned int BROWNOUT_LEVEL   : HW_DCDC_VDDIO_BROWNOUT_LEVEL_WIDTH;
                             4296 ; 161  |        unsigned int RSVD1            : HW_DCDC_VDDIO_RSVD1_WIDTH;
                             4297 ; 162  |        unsigned int BROWNOUT_ENABLE  : HW_DCDC_VDDIO_BROWNOUT_ENABLE_WIDTH;
                             4298 ; 163  |        unsigned int RSVD2            : HW_DCDC_VDDIO_RSVD2_WIDTH;
                             4299 ; 164  |        unsigned int BROWNOUT_STATUS  : HW_DCDC_VDDIO_BROWNOUT_STATUS_WIDTH;
                             4300 ; 165  |                 unsigned int VDDIO_OK        : HW_DCDC_VDDIO_OK_WIDTH;
                             4301 ; 166  |        unsigned int RSVD3            : HW_DCDC_VDDIO_RSVD3_WIDTH;
                             4302 ; 167  |    } B;
                             4303 ; 168  |    unsigned int I;
                             4304 ; 169  |} dcdc_vddio_type;
                             4305 ; 170  |#define HW_DCDC_VDDIO      (*(volatile dcdc_vddio_type _X*) (HW_DCDC_BASEADDR+2))    /* DcDc VDDIO Register */
                             4306 ; 171  |
                             4307 ; 172  |
                             4308 ; 173  |
                             4309 ; 174  |/////////////////////////////////////////////////////////////////////////////////
                             4310 ; 175  |//  DcDc VDDD Register (HW_DCDC_VDDD) Bit Definitions
                             4311 ; 176  |
                             4312 ; 177  |#define HW_DCDC_VDDD_VOLTAGE_LEVEL_WIDTH (5)
                             4313 ; 178  |#define HW_DCDC_VDDD_RSVD0_WIDTH (3)
                             4314 ; 179  |#define HW_DCDC_VDDD_BROWNOUT_LEVEL_WIDTH (5)
                             4315 ; 180  |#define HW_DCDC_VDDD_RSVD1_WIDTH (3)
                             4316 ; 181  |#define HW_DCDC_VDDD_BROWNOUT_ENABLE_WIDTH (1)
                             4317 ; 182  |#define HW_DCDC_VDDD_RSVD2_WIDTH (3)
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page  18

M:ADDR CODE           CYCLES LINE SOURCELINE
                             4318 ; 183  |#define HW_DCDC_VDDD_BROWNOUT_STATUS_WIDTH (1)
                             4319 ; 184  |#define HW_DCDC_VDDD_OK_WIDTH (1)
                             4320 ; 185  |#define HW_DCDC_VDDD_RSVD3_WIDTH (2)
                             4321 ; 186  |
                             4322 ; 187  |#define HW_DCDC_VDDD_VOLTAGE_LEVEL_BITPOS (0)
                             4323 ; 188  |#define HW_DCDC_VDDD_BROWNOUT_LEVEL_BITPOS (8)
                             4324 ; 189  |#define HW_DCDC_VDDD_BROWNOUT_ENABLE_BITPOS (16)
                             4325 ; 190  |#define HW_DCDC_VDDD_BROWNOUT_STATUS_BITPOS (20)
                             4326 ; 191  |#define HW_DCDC_VDDD_OK_BITPOS (21)
                             4327 ; 192  |#define HW_DCDC_VDDD_VOLTAGE_LEVEL_SETMASK (((1<<HW_DCDC_VDDD_VOLTAGE_LEVEL_WIDTH)-1)<<HW_DCDC_VDDD_VOLTAGE_LEVEL_BITPOS)        
                             4328 ; 193  |#define HW_DCDC_VDDD_BROWNOUT_LEVEL_SETMASK (((1<<HW_DCDC_VDDD_BROWNOUT_LEVEL_WIDTH)-1)<<HW_DCDC_VDDD_BROWNOUT_LEVEL_BITPOS) 
                             4329 ; 194  |#define HW_DCDC_VDDD_BROWNOUT_ENABLE_SETMASK (((1<<HW_DCDC_VDDD_BROWNOUT_ENABLE_WIDTH)-1)<<HW_DCDC_VDDD_BROWNOUT_ENABLE_BITPOS)  
                             4330 ; 195  |#define HW_DCDC_VDDD_BROWNOUT_STATUS_SETMASK (((1<<HW_DCDC_VDDD_BROWNOUT_STATUS_WIDTH)-1)<<HW_DCDC_VDDD_BROWNOUT_STATUS_BITPOS)  
                             4331 ; 196  |
                             4332 ; 197  |#define HW_DCDC_VDDD_VOLTAGE_LEVEL_CLRMASK (~(WORD)HW_DCDC_VDDD_VOLTAGE_LEVEL_SETMASK)     
                             4333 ; 198  |#define HW_DCDC_VDDD_BROWNOUT_LEVEL_CLRMASK (~(WORD)HW_DCDC_VDDD_BROWNOUT_LEVEL_SETMASK) 
                             4334 ; 199  |#define HW_DCDC_VDDD_BROWNOUT_ENABLE_CLRMASK (~(WORD)HW_DCDC_VDDD_BROWNOUT_ENABLE_SETMASK)  
                             4335 ; 200  |#define HW_DCDC_VDDD_BROWNOUT_STATUS_CLRMASK (~(WORD)HW_DCDC_VDDD_BROWNOUT_STATUS_SETMASK)  
                             4336 ; 201  |
                             4337 ; 202  |typedef union               
                             4338 ; 203  |{
                             4339 ; 204  |    struct {
                             4340 ; 205  |        unsigned int VOLTAGE_LEVEL    : HW_DCDC_VDDD_VOLTAGE_LEVEL_WIDTH;
                             4341 ; 206  |        unsigned int RSVD0            : HW_DCDC_VDDD_RSVD0_WIDTH;
                             4342 ; 207  |        unsigned int BROWNOUT_LEVEL   : HW_DCDC_VDDD_BROWNOUT_LEVEL_WIDTH;
                             4343 ; 208  |        unsigned int RSVD1            : HW_DCDC_VDDD_RSVD1_WIDTH;
                             4344 ; 209  |        unsigned int BROWNOUT_ENABLE  : HW_DCDC_VDDD_BROWNOUT_ENABLE_WIDTH;
                             4345 ; 210  |        unsigned int RSVD2            : HW_DCDC_VDDD_RSVD2_WIDTH;
                             4346 ; 211  |        unsigned int BROWNOUT_STATUS  : HW_DCDC_VDDD_BROWNOUT_STATUS_WIDTH;
                             4347 ; 212  |                 unsigned int VDD_OK           : HW_DCDC_VDDD_OK_WIDTH;
                             4348 ; 213  |        unsigned int RSVD3            : HW_DCDC_VDDD_RSVD3_WIDTH;
                             4349 ; 214  |    } B;
                             4350 ; 215  |   unsigned int I;
                             4351 ; 216  |        unsigned U;
                             4352 ; 217  |} dcdc_vddd_type;
                             4353 ; 218  |#define HW_DCDC_VDDD      (*(volatile dcdc_vddd_type _X*) (HW_DCDC_BASEADDR+3))    /* DcDc VDDD Register */
                             4354 ; 219  |
                             4355 ; 220  |
                             4356 ; 221  |
                             4357 ; 222  |
                             4358 ; 223  |/////////////////////////////////////////////////////////////////////////////////
                             4359 ; 224  |
                             4360 ; 225  |//  DcDc Vdda Register (HW_DCDC_VDDA) Bit Definitions
                             4361 ; 226  |
                             4362 ; 227  |#define HW_DCDC_VDDA_VOLTAGE_LEVEL_WIDTH (5)
                             4363 ; 228  |#define HW_DCDC_VDDA_RSVD0_WIDTH (3)
                             4364 ; 229  |#define HW_DCDC_VDDA_BROWNOUT_LEVEL_WIDTH (5)
                             4365 ; 230  |#define HW_DCDC_VDDA_RSVD1_WIDTH (3)
                             4366 ; 231  |#define HW_DCDC_VDDA_BROWNOUT_ENABLE_WIDTH (1)
                             4367 ; 232  |#define HW_DCDC_VDDA_RSVD2_WIDTH (3)
                             4368 ; 233  |#define HW_DCDC_VDDA_BROWNOUT_STATUS_WIDTH (1)
                             4369 ; 234  |#define HW_DCDC_VDDA_OK_WIDTH (1)
                             4370 ; 235  |#define HW_DCDC_VDDA_RSVD3_WIDTH (2)
                             4371 ; 236  |
                             4372 ; 237  |
                             4373 ; 238  |
                             4374 ; 239  |#define HW_DCDC_VDDA_VOLTAGE_LEVEL_BITPOS (0)
                             4375 ; 240  |#define HW_DCDC_VDDA_BROWNOUT_LEVEL_BITPOS (8)
                             4376 ; 241  |#define HW_DCDC_VDDA_BROWNOUT_ENABLE_BITPOS (16)
                             4377 ; 242  |#define HW_DCDC_VDDA_BROWNOUT_STATUS_BITPOS (20)
                             4378 ; 243  |#define HW_DCDC_VDDA_OK_BITPOS (21)
                             4379 ; 244  |
                             4380 ; 245  |
                             4381 ; 246  |#define HW_DCDC_VDDA_VOLTAGE_LEVEL_SETMASK (((1<<HW_DCDC_VDDA_VOLTAGE_LEVEL_WIDTH)-1)<<HW_DCDC_VDDA_VOLTAGE_LEVEL_BITPOS)        
                             4382 ; 247  |#define HW_DCDC_VDDA_BROWNOUT_LEVEL_SETMASK (((1<<HW_DCDC_VDDA_BROWNOUT_LEVEL_WIDTH)-1)<<HW_DCDC_VDDA_BROWNOUT_LEVEL_BITPOS) 
                             4383 ; 248  |#define HW_DCDC_VDDA_BROWNOUT_ENABLE_SETMASK (((1<<HW_DCDC_VDDA_BROWNOUT_ENABLE_WIDTH)-1)<<HW_DCDC_VDDA_BROWNOUT_ENABLE_BITPOS)  
                             4384 ; 249  |#define HW_DCDC_VDDA_BROWNOUT_STATUS_SETMASK (((1<<HW_DCDC_VDDA_BROWNOUT_STATUS_WIDTH)-1)<<HW_DCDC_VDDA_BROWNOUT_STATUS_BITPOS)  
                             4385 ; 250  |
                             4386 ; 251  |
                             4387 ; 252  |
                             4388 ; 253  |#define HW_DCDC_VDDA_VOLTAGE_LEVEL_CLRMASK (~(WORD)HW_DCDC_VDDA_VOLTAGE_LEVEL_SETMASK)     
                             4389 ; 254  |#define HW_DCDC_VDDA_BROWNOUT_LEVEL_CLRMASK (~(WORD)HW_DCDC_VDDA_BROWNOUT_LEVEL_SETMASK) 
                             4390 ; 255  |#define HW_DCDC_VDDA_BROWNOUT_ENABLE_CLRMASK (~(WORD)HW_DCDC_VDDA_BROWNOUT_ENABLE_SETMASK)  
                             4391 ; 256  |#define HW_DCDC_VDDA_BROWNOUT_STATUS_CLRMASK (~(WORD)HW_DCDC_VDDA_BROWNOUT_STATUS_SETMASK)  
                             4392 ; 257  |
                             4393 ; 258  |
                             4394 ; 259  |typedef union               
                             4395 ; 260  |{
                             4396 ; 261  |    struct {
                             4397 ; 262  |        unsigned int VOLTAGE_LEVEL    : HW_DCDC_VDDA_VOLTAGE_LEVEL_WIDTH;
                             4398 ; 263  |        unsigned int RSVD0            : HW_DCDC_VDDA_RSVD0_WIDTH;
                             4399 ; 264  |        unsigned int BROWNOUT_LEVEL   : HW_DCDC_VDDA_BROWNOUT_LEVEL_WIDTH;
                             4400 ; 265  |        unsigned int RSVD1            : HW_DCDC_VDDA_RSVD1_WIDTH;
                             4401 ; 266  |        unsigned int BROWNOUT_ENABLE  : HW_DCDC_VDDA_BROWNOUT_ENABLE_WIDTH;
                             4402 ; 267  |        unsigned int RSVD2            : HW_DCDC_VDDA_RSVD2_WIDTH;
                             4403 ; 268  |        unsigned int BROWNOUT_STATUS  : HW_DCDC_VDDA_BROWNOUT_STATUS_WIDTH;
                             4404 ; 269  |             unsigned int VDDA_OK          : HW_DCDC_VDDA_OK_WIDTH;
                             4405 ; 270  |        unsigned int RSVD3            : HW_DCDC_VDDA_RSVD3_WIDTH;
                             4406 ; 271  |    } B;
                             4407 ; 272  |    unsigned int I;
                             4408 ; 273  |} dcdc_vdda_type;
                             4409 ; 274  |#define HW_DCDC_VDDA      (*(volatile dcdc_vdda_type _X*) (HW_DCDC_BASEADDR+4))    /* DcDc VDDA Register */
                             4410 ; 275  |
                             4411 ; 276  |
                             4412 ; 277  |
                             4413 ; 278  |
                             4414 ; 279  |/////////////////////////////////////////////////////////////////////////////////
                             4415 ; 280  |
                             4416 ; 281  |//  DcDc#2 Control Register 0 (HW_DCDC2_CTRL0) Bit Definitions
                             4417 ; 282  |
                             4418 ; 283  |#define HW_DCDC2_CTRL0_PLEVBU_WIDTH (5)
                             4419 ; 284  |#define HW_DCDC2_CTRL0_RSVD0_WIDTH (3)
                             4420 ; 285  |#define HW_DCDC2_CTRL0_PLEVBO_WIDTH (5)
                             4421 ; 286  |#define HW_DCDC2_CTRL0_RSVD1_WIDTH (3)
                             4422 ; 287  |#define HW_DCDC2_CTRL0_NLEV_WIDTH (5)
                             4423 ; 288  |#define HW_DCDC2_CTRL0_RSVD2_WIDTH (3)
                             4424 ; 289  |
                             4425 ; 290  |
                             4426 ; 291  |
                             4427 ; 292  |#define HW_DCDC2_CTRL0_PLEVBU_BITPOS (0)
                             4428 ; 293  |#define HW_DCDC2_CTRL0_PLEVBO_BITPOS (8)
                             4429 ; 294  |#define HW_DCDC2_CTRL0_NLEV_BITPOS (16)
                             4430 ; 295  |
                             4431 ; 296  |#define HW_DCDC2_CTRL0_PLEVBU_SETMASK (((1<<HW_DCDC2_CTRL0_PLEVBU_WIDTH)-1)<<HW_DCDC2_CTRL0_PLEVBU_BITPOS)        
                             4432 ; 297  |#define HW_DCDC2_CTRL0_PLEVBO_SETMASK (((1<<HW_DCDC2_CTRL0_PLEVBO_WIDTH)-1)<<HW_DCDC2_CTRL0_PLEVBO_BITPOS) 
                             4433 ; 298  |#define HW_DCDC2_CTRL0_NLEV_SETMASK (((1<<HW_DCDC2_CTRL0_NLEV_WIDTH)-1)<<HW_DCDC2_CTRL0_NLEV_BITPOS)  
                             4434 ; 299  |
                             4435 ; 300  |#define HW_DCDC2_CTRL0_PLEVBU_CLRMASK (~(WORD)HW_DCDC2_CTRL0_PLEVBU_SETMASK)     
                             4436 ; 301  |#define HW_DCDC2_CTRL0_PLEVBO_CLRMASK (~(WORD)HW_DCDC2_CTRL0_PLEVBO_SETMASK) 
                             4437 ; 302  |#define HW_DCDC2_CTRL0_NLEV_CLRMASK (~(WORD)HW_DCDC2_CTRL0_NLEV_SETMASK)  
                             4438 ; 303  |
                             4439 ; 304  |
                             4440 ; 305  |typedef union               
                             4441 ; 306  |{
                             4442 ; 307  |    struct {
                             4443 ; 308  |        unsigned int PLEVBU           : HW_DCDC2_CTRL0_PLEVBU_WIDTH;
                             4444 ; 309  |        unsigned int RSVD0            : HW_DCDC2_CTRL0_RSVD0_WIDTH;
                             4445 ; 310  |        unsigned int PLEVBO           : HW_DCDC2_CTRL0_PLEVBO_WIDTH;
                             4446 ; 311  |        unsigned int RSVD1            : HW_DCDC2_CTRL0_RSVD1_WIDTH;
                             4447 ; 312  |        unsigned int NLEV             : HW_DCDC2_CTRL0_NLEV_WIDTH;
                             4448 ; 313  |        unsigned int RSVD2            : HW_DCDC2_CTRL0_RSVD2_WIDTH;
                             4449 ; 314  |    } B;
                             4450 ; 315  |    unsigned int I;
                             4451 ; 316  |} dcdc2_ctrl0_type; 
                             4452 ; 317  |#define HW_DCDC2_CTRL0      (*(volatile dcdc2_ctrl0_type _X*) (HW_DCDC_BASEADDR+5))    /* DcDc#2 Limit Level Register */
                             4453 ; 318  |
                             4454 ; 319  |
                             4455 ; 320  |
                             4456 ; 321  |
                             4457 ; 322  |/////////////////////////////////////////////////////////////////////////////////
                             4458 ; 323  |
                             4459 ; 324  |//  DcDc#2 Control Register #1 (HW_DCDC2_CTRL1) Bit Definitions
                             4460 ; 325  |
                             4461 ; 326  |#define HW_DCDC2_CTRL1_C_WIDTH (4)
                             4462 ; 327  |#define HW_DCDC2_CTRL1_R_WIDTH (4)
                             4463 ; 328  |#define HW_DCDC2_CTRL1_FFOR_WIDTH (3)
                             4464 ; 329  |#define HW_DCDC2_CTRL1_RSVD0_WIDTH (1)
                             4465 ; 330  |#define HW_DCDC2_CTRL1_PFMCTRL_WIDTH (12)
                             4466 ; 331  |
                             4467 ; 332  |
                             4468 ; 333  |#define HW_DCDC2_CTRL1_C_BITPOS (0)
                             4469 ; 334  |#define HW_DCDC2_CTRL1_R_BITPOS (4)
                             4470 ; 335  |#define HW_DCDC2_CTRL1_FFOR_BITPOS (8)
                             4471 ; 336  |#define HW_DCDC2_CTRL1_PFMCTRL_BITPOS (12)
                             4472 ; 337  |
                             4473 ; 338  |
                             4474 ; 339  |
                             4475 ; 340  |#define HW_DCDC2_CTRL1_C_SETMASK (((1<<HW_DCDC2_CTRL1_C_WIDTH)-1)<<HW_DCDC2_CTRL1_C_BITPOS)        
                             4476 ; 341  |#define HW_DCDC2_CTRL1_R_SETMASK (((1<<HW_DCDC2_CTRL1_R_WIDTH)-1)<<HW_DCDC2_CTRL1_R_BITPOS) 
                             4477 ; 342  |#define HW_DCDC2_CTRL1_FFOR_SETMASK (((1<<HW_DCDC2_CTRL1_FFOR_WIDTH)-1)<<HW_DCDC2_CTRL1_FFOR_BITPOS)  
                             4478 ; 343  |#define HW_DCDC2_CTRL1_PFMCTRL_SETMASK (((1<<HW_DCDC2_CTRL1_PFMCTRL_WIDTH)-1)<<HW_DCDC2_CTRL1_PFMCTRL_BITPOS)  
                             4479 ; 344  |
                             4480 ; 345  |
                             4481 ; 346  |
                             4482 ; 347  |#define HW_DCDC2_CTRL1_C_CLRMASK (~(WORD)HW_DCDC2_CTRL1_C_SETMASK)     
                             4483 ; 348  |#define HW_DCDC2_CTRL1_R_CLRMASK (~(WORD)HW_DCDC2_CTRL1_R_SETMASK) 
                             4484 ; 349  |#define HW_DCDC2_CTRL1_FFOR_CLRMASK (~(WORD)HW_DCDC2_CTRL1_FFOR_SETMASK)  
                             4485 ; 350  |#define HW_DCDC2_CTRL1_PFMCTRL_CLRMASK (~(WORD)HW_DCDC2_CTRL1_PFMCTRL_SETMASK)  
                             4486 ; 351  |
                             4487 ; 352  |
                             4488 ; 353  |typedef union               
                             4489 ; 354  |{
                             4490 ; 355  |    struct {
                             4491 ; 356  |        unsigned int C                : HW_DCDC2_CTRL1_C_WIDTH;
                             4492 ; 357  |        unsigned int R                : HW_DCDC2_CTRL1_R_WIDTH;
                             4493 ; 358  |        unsigned int FFOR             : HW_DCDC2_CTRL1_FFOR_WIDTH;
                             4494 ; 359  |        unsigned int RSVD0            : HW_DCDC2_CTRL1_RSVD0_WIDTH;
                             4495 ; 360  |        unsigned int PFMCTRL          : HW_DCDC2_CTRL1_FFOR_WIDTH;
                             4496 ; 361  |    } B;
                             4497 ; 362  |    unsigned int I;
                             4498 ; 363  |} dcdc2_ctrl1_type;
                             4499 ; 364  |#define HW_DCDC2_CTRL1      (*(volatile dcdc2_ctrl1_type _X*) (HW_DCDC_BASEADDR+6))    /* DcDc#2 Ctrl Register #1 */
                             4500 ; 365  |
                             4501 ; 366  |
                             4502 ; 367  |
                             4503 ; 368  |
                             4504 ; 369  |/////////////////////////////////////////////////////////////////////////////////
                             4505 ; 370  |
                             4506 ; 371  |//  Speed Monitoring Register (HW_SPEED) Bit Definitions
                             4507 ; 372  |
                             4508 ; 373  |#define HW_SPEED_OSC1_PWRUP_WIDTH (1)
                             4509 ; 374  |#define HW_SPEED_OSC1_START_COUNT_WIDTH (1)
                             4510 ; 375  |#define HW_SPEED_RSVD0_WIDTH (2)
                             4511 ; 376  |#define HW_SPEED_RINGOSC1_WIDTH (7)
                             4512 ; 377  |#define HW_SPEED_RSVD1_WIDTH (1)
                             4513 ; 378  |#define HW_SPEED_OSC2_PWRUP_WIDTH (1)
                             4514 ; 379  |#define HW_SPEED_OSC2_START_COUNT_WIDTH (1)
                             4515 ; 380  |#define HW_SPEED_RSVD2_WIDTH (2)
                             4516 ; 381  |#define HW_SPEED_RINGOSC2_WIDTH (7)
                             4517 ; 382  |#define HW_SPEED_RSVD3_WIDTH (1)
                             4518 ; 383  |
                             4519 ; 384  |
                             4520 ; 385  |
                             4521 ; 386  |#define HW_SPEED_OSC1_PWRUP_BITPOS (0)
                             4522 ; 387  |#define HW_SPEED_OSC1_START_COUNT_BITPOS (1)
                             4523 ; 388  |#define HW_SPEED_RINGOSC1_BITPOS (4)
                             4524 ; 389  |#define HW_SPEED_OSC2_PWRUP_BITPOS (12)
                             4525 ; 390  |#define HW_SPEED_OSC2_START_COUNT_BITPOS (13)
                             4526 ; 391  |#define HW_SPEED_RINGOSC2_BITPOS (16)
                             4527 ; 392  |
                             4528 ; 393  |
                             4529 ; 394  |#define HW_SPEED_OSC1_PWRUP_SETMASK (((1<<HW_SPEED_OSC1_PWRUP_WIDTH)-1)<<HW_SPEED_OSC1_PWRUP_BITPOS)        
                             4530 ; 395  |#define HW_SPEED_OSC1_START_COUNT_SETMASK (((1<<HW_SPEED_OSC1_START_COUNT_WIDTH)-1)<<HW_SPEED_OSC1_START_COUNT_BITPOS)        
                             4531 ; 396  |#define HW_SPEED_RINGOSC1_SETMASK (((1<<HW_SPEED_RINGOSC1_WIDTH)-1)<<HW_SPEED_RINGOSC1_BITPOS) 
                             4532 ; 397  |#define HW_SPEED_OSC2_PWRUP_SETMASK (((1<<HW_SPEED_OSC2_PWRUP_WIDTH)-1)<<HW_SPEED_OSC2_PWRUP_BITPOS)        
                             4533 ; 398  |
                             4534 ; 399  |#define HW_SPEED_OSC2_START_COUNT_SETMASK (((1<<HW_SPEED_OSC2_START_COUNT_WIDTH)-1)<<HW_SPEED_OSC2_START_COUNT_BITPOS)        
                             4535 ; 400  |#define HW_SPEED_RINGOSC2_SETMASK (((1<<HW_SPEED_RINGOSC2_WIDTH)-1)<<HW_SPEED_RINGOSC2_BITPOS) 
                             4536 ; 401  |
                             4537 ; 402  |
                             4538 ; 403  |
                             4539 ; 404  |#define HW_SPEED_OSC1_PWRUP_CLRMASK (~(WORD)HW_SPEED_OSC1_PWRUP_SETMASK)     
                             4540 ; 405  |#define HW_SPEED_OSC1_START_COUNT_CLRMASK (~(WORD)HW_SPEED_OSC1_START_COUNT_SETMASK)     
                             4541 ; 406  |#define HW_SPEED_RINGOSC1_CLRMASK (~(WORD)HW_SPEED_RINGOSC1_SETMASK) 
                             4542 ; 407  |#define HW_SPEED_OSC2_PWRUP_CLRMASK (~(WORD)HW_SPEED_OSC2_PWRUP_SETMASK)   
                             4543 ; 408  |#define HW_SPEED_OSC2_START_COUNT_CLRMASK (~(WORD)HW_SPEED_OSC2_START_COUNT_SETMASK)     
                             4544 ; 409  |#define HW_SPEED_RINGOSC2_CLRMASK (~(WORD)HW_SPEED_RINGOSC2_SETMASK) 
                             4545 ; 410  |
                             4546 ; 411  |
                             4547 ; 412  |typedef union               
                             4548 ; 413  |{
                             4549 ; 414  |    struct {
                             4550 ; 415  |        unsigned int OSC1_PWRUP          : HW_SPEED_OSC1_PWRUP_WIDTH;
                             4551 ; 416  |        unsigned int OSC1_START_COUNT    : HW_SPEED_OSC1_START_COUNT_WIDTH;
                             4552 ; 417  |        unsigned int RSVD0               : HW_SPEED_RSVD0_WIDTH;
                             4553 ; 418  |        unsigned int RINGOSC1            : HW_SPEED_RINGOSC1_WIDTH;
                             4554 ; 419  |        unsigned int RSVD1               : HW_SPEED_RSVD1_WIDTH;
                             4555 ; 420  |        unsigned int OSC2_PWRUP          : HW_SPEED_OSC2_PWRUP_WIDTH;
                             4556 ; 421  |        unsigned int OSC2_START_COUNT    : HW_SPEED_OSC2_START_COUNT_WIDTH;
                             4557 ; 422  |        unsigned int RSVD2               : HW_SPEED_RSVD2_WIDTH;
                             4558 ; 423  |        unsigned int RINGOSC2            : HW_SPEED_RINGOSC2_WIDTH;
                             4559 ; 424  |        unsigned int RSVD3               : HW_SPEED_RSVD3_WIDTH;
                             4560 ; 425  |    } B;
                             4561 ; 426  |    unsigned int I;
                             4562 ; 427  |} speed_type;
                             4563 ; 428  |#define HW_SPEED      (*(volatile speed_type _X*) (HW_DCDC_BASEADDR+7))    /* Speed Measurement Register */
                             4564 ; 429  |
                             4565 ; 430  |
                             4566 ; 431  |
                             4567 ; 432  |
                             4568 ; 433  |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page  19

M:ADDR CODE           CYCLES LINE SOURCELINE
                             4569 ; 434  |
                             4570 ; 435  |
                             4571 ; 436  |// DC DC Test Bit Register (HW_DCDCTBR) Definitions
                             4572 ; 437  |#define HW_DCDC_TBR_DCDC1_ADJ_TN_WIDTH 4
                             4573 ; 438  |#define HW_DCDC_TBR_DCDC1_DIS_5BIT_WIDTH 1
                             4574 ; 439  |#define HW_DCDC_TBR_DCDC1_BAT_ADJ_WIDTH 1
                             4575 ; 440  |#define HW_DCDC_TBR_DCDC1_CLK4X_WIDTH 1
                             4576 ; 441  |#define HW_DCDC_TBR_DCDC1_CLK2X_WIDTH 1
                             4577 ; 442  |#define HW_DCDC_TBR_DCDC1_NOZERO_WIDTH 1
                             4578 ; 443  |#define HW_DCDC_TBR_DCDC1_VDD5V_ACTIVE_WIDTH 1
                             4579 ; 444  |#define HW_DCDC_TBR_DCDC1_PFM_WIDTH 1
                             4580 ; 445  |#define HW_DCDC_TBR_DCDC1_STOPCLK_WIDTH 1
                             4581 ; 446  |#define HW_DCDC_TBR_PWRUP_VDDIO_BRNOUT_WIDTH 1
                             4582 ; 447  |#define HW_DCDC_TBR_DCDC_ANA_LESSI_WIDTH 1
                             4583 ; 448  |#define HW_DCDC_TBR_DCDC_MORE_CAP_WIDTH 1
                             4584 ; 449  |#define HW_DCDC_TBR_DCDC_ANA_BGR_BIAS_WIDTH 1
                             4585 ; 450  |#define HW_DCDC_TBR_DCDC1_NEW_SCHEME_WIDTH 1
                             4586 ; 451  |#define HW_DCDC_TBR_DCDC1_HALF_FETS_WIDTH 1
                             4587 ; 452  |#define HW_DCDC_TBR_DCDC2_DIS_5BIT_WIDTH 1
                             4588 ; 453  |#define HW_DCDC_TBR_DCDC2_CLK4X_WIDTH 1
                             4589 ; 454  |#define HW_DCDC_TBR_DCDC2_CLK2X_WIDTH 1
                             4590 ; 455  |#define HW_DCDC_TBR_DCDC2_VDD5V_ACTIVE_WIDTH 1
                             4591 ; 456  |#define HW_DCDC_TBR_DCDC2_PFM_WIDTH 1
                             4592 ; 457  |#define HW_DCDC_TBR_DCDC2_STOPCLK_WIDTH 1
                             4593 ; 458  |
                             4594 ; 459  |#define HW_DCDC_TBR_DCDC1_ADJ_TN_BITPOS (0)
                             4595 ; 460  |#define HW_DCDC_TBR_DCDC1_DIS_5BIT_BITPOS (4)
                             4596 ; 461  |#define HW_DCDC_TBR_DCDC1_BAT_ADJ_BITPOS (5)
                             4597 ; 462  |#define HW_DCDC_TBR_DCDC1_CLK4X_BITPOS (6)
                             4598 ; 463  |#define HW_DCDC_TBR_DCDC1_CLK2X_BITPOS (7)
                             4599 ; 464  |#define HW_DCDC_TBR_DCDC1_NOZERO_BITPOS (8)
                             4600 ; 465  |#define HW_DCDC_TBR_DCDC1_VDD5V_ACTIVE_BITPOS (9)
                             4601 ; 466  |#define HW_DCDC_TBR_DCDC1_PFM_BITPOS (10)
                             4602 ; 467  |#define HW_DCDC_TBR_DCDC1_STOPCLK_BITPOS (11)
                             4603 ; 468  |#define HW_DCDC_TBR_PWRUP_VDDIO_BRNOUT_BITPOS (12)
                             4604 ; 469  |#define HW_DCDC_TBR_DCDC_ANA_LESSI_BITPOS (13)
                             4605 ; 470  |#define HW_DCDC_TBR_DCDC_MORE_CAP_BITPOS (14)
                             4606 ; 471  |#define HW_DCDC_TBR_DCDC_DCDC_ANA_BGR_BIAS_BITPOS (15)
                             4607 ; 472  |#define HW_DCDC_TBR_DCDC1_NEW_SCHEME_BITPOS (16)
                             4608 ; 473  |#define HW_DCDC_TBR_DCDC1_HALF_FETS_BITPOS (17)
                             4609 ; 474  |#define HW_DCDC_TBR_DCDC2_DIS_5BIT_BITPOS (18)
                             4610 ; 475  |#define HW_DCDC_TBR_DCDC2_CLK4X_BITPOS (19)
                             4611 ; 476  |#define HW_DCDC_TBR_DCDC2_CLK2X_BITPOS (20)
                             4612 ; 477  |#define HW_DCDC_TBR_DCDC2_VDD5V_ACTIVE_BITPOS (21)
                             4613 ; 478  |#define HW_DCDC_TBR_DCDC2_PFM_BITPOS (22)
                             4614 ; 479  |#define HW_DCDC_TBR_DCDC2_STOPCLK_BITPOS (23)
                             4615 ; 480  |
                             4616 ; 481  |#define HW_DCDC_TBR_DCDC1_ADJ_TN_SETMASK (((1<<HW_DCDC_TBR_DCDC1_ADJ_TN_WIDTH)-1)<<HW_DCDC_TBR_DCDC1_ADJ_TN_BITPOS)
                             4617 ; 482  |#define HW_DCDC_TBR_DCDC1_BAT_ADJ_SETMASK (((1<<HW_DCDC_TBR_DCDC1_BAT_ADJ_WIDTH)-1)<<HW_DCDC_TBR_DCDC1_BAT_ADJ_BITPOS)
                             4618 ; 483  |#define HW_DCDC_TBR_DCDC_ANA_BGR_BIAS_SETMASK (((1<<HW_DCDC_TBR_DCDC_ANA_BGR_BIAS_WIDTH)-1)<<HW_DCDC_TBR_DCDC_DCDC_ANA_BGR_BIAS_BITPOS)
                             4619 ; 484  |
                             4620 ; 485  |#define HW_DCDC_TBR_DCDC1_ADJ_TN_CLRMASK (~(WORD)HW_DCDC_TBR_DCDC1_ADJ_TN_SETMASK)
                             4621 ; 486  |#define HW_DCDC_TBR_DCDC1_BAT_ADJ_CLRMASK (~(WORD)HW_DCDC_TBR_DCDC1_BAT_ADJ_SETMASK)
                             4622 ; 487  |#define HW_DCDC_TBR_DCDC_ANA_BGR_BIAS_CLRMASK (~(WORD)HW_DCDC_TBR_DCDC_ANA_BGR_BIAS_SETMASK)
                             4623 ; 488  |
                             4624 ; 489  |// Defines for What needs to change to be able to use a higher Core voltage and when the change should happen
                             4625 ; 490  |#define HW_DCDC_VDDD_CHANGE_TBR_CUTOFF_VALUE ((18<<HW_DCDC_VDDD_VOLTAGE_LEVEL_BITPOS)&HW_DCDC_VDDD_VOLTAGE_LEVEL_SETMASK)
                             4626 ; 491  |#define HW_DCDC_TBR_VDDD_HI_VALUE ((1<<HW_DCDC_TBR_DCDC_DCDC_ANA_BGR_BIAS_BITPOS)&HW_DCDC_TBR_DCDC_ANA_BGR_BIAS_SETMASK)
                             4627 ; 492  |#define HW_DCDC_TBR_VDDD_LO_VALUE (((1<<HW_DCDC_TBR_DCDC_DCDC_ANA_BGR_BIAS_BITPOS)&HW_DCDC_TBR_DCDC_ANA_BGR_BIAS_SETMASK)+((2<<HW_DCDC_TBR_DCDC1_ADJ_TN_BITPOS)&HW_DCDC_TBR_DCDC1_ADJ_TN_SETMASK)+((1<<HW_DCDC_TBR_DC
                                  DC1_BAT_ADJ_BITPOS)&HW_DCDC_TBR_DCDC1_BAT_ADJ_SETMASK))
                             4628 ; 493  |
                             4629 ; 494  |typedef union               
                             4630 ; 495  |{
                             4631 ; 496  |    struct {
                             4632 ; 497  |        unsigned int DCDC1_ADJ_TN               : HW_DCDC_TBR_DCDC1_ADJ_TN_WIDTH;
                             4633 ; 498  |        unsigned int DCDC1_DIS_5BIT             : HW_DCDC_TBR_DCDC1_DIS_5BIT_WIDTH;
                             4634 ; 499  |        unsigned int DCDC1_BAT_ADJ              : HW_DCDC_TBR_DCDC1_BAT_ADJ_WIDTH;
                             4635 ; 500  |        unsigned int DCDC1_CLK4X                : HW_DCDC_TBR_DCDC1_CLK4X_WIDTH;
                             4636 ; 501  |        unsigned int DCDC1_CLK2X                : HW_DCDC_TBR_DCDC1_CLK2X_WIDTH;
                             4637 ; 502  |        unsigned int DCDC1_NOZERO               : HW_DCDC_TBR_DCDC1_NOZERO_WIDTH;
                             4638 ; 503  |        unsigned int DCDC1_VDD5V_ACTIVE         : HW_DCDC_TBR_DCDC1_VDD5V_ACTIVE_WIDTH;
                             4639 ; 504  |        unsigned int DCDC1_PFM                  : HW_DCDC_TBR_DCDC1_PFM_WIDTH;
                             4640 ; 505  |        unsigned int DCDC1_STOPCLK              : HW_DCDC_TBR_DCDC1_STOPCLK_WIDTH;
                             4641 ; 506  |        unsigned int PWRUP_VDDIO_BRNOUT         : HW_DCDC_TBR_PWRUP_VDDIO_BRNOUT_WIDTH;
                             4642 ; 507  |        unsigned int DCDC_ANA_LESSI             : HW_DCDC_TBR_DCDC_ANA_LESSI_WIDTH;
                             4643 ; 508  |        unsigned int DCDC_MORE_CAP              : HW_DCDC_TBR_DCDC_MORE_CAP_WIDTH;
                             4644 ; 509  |        unsigned int DCDC_ANA_BGR_BIAS          : HW_DCDC_TBR_DCDC_ANA_BGR_BIAS_WIDTH;
                             4645 ; 510  |        unsigned int DCDC1_NEW_SCHEME           : HW_DCDC_TBR_DCDC1_NEW_SCHEME_WIDTH;
                             4646 ; 511  |        unsigned int DCDC1_HALF_FETS            : HW_DCDC_TBR_DCDC1_HALF_FETS_WIDTH;
                             4647 ; 512  |        unsigned int DCDC2_DIS_5BIT             : HW_DCDC_TBR_DCDC2_DIS_5BIT_WIDTH;
                             4648 ; 513  |        unsigned int DCDC2_CLK4X                : HW_DCDC_TBR_DCDC2_CLK4X_WIDTH;
                             4649 ; 514  |        unsigned int DCDC2_CLK2X                : HW_DCDC_TBR_DCDC2_CLK2X_WIDTH;
                             4650 ; 515  |        unsigned int DCDC2_VDD5V_ACTIVE         : HW_DCDC_TBR_DCDC2_VDD5V_ACTIVE_WIDTH;
                             4651 ; 516  |        unsigned int DCDC2_PFM                  : HW_DCDC_TBR_DCDC2_PFM_WIDTH;
                             4652 ; 517  |        unsigned int DCDC2_STOPCLK              : HW_DCDC_TBR_DCDC2_STOPCLK_WIDTH;
                             4653 ; 518  |    } B;
                             4654 ; 519  |    unsigned int I;
                             4655 ; 520  |} usb_dcdctbr_type;
                             4656 ; 521  |#define HW_DCDC_TBR                     (*(volatile usb_dcdctbr_type _X*) (HW_DCDC_BASEADDR+8))    /* Analog test bit register*/
                             4657 ; 522  |
                             4658 ; 523  |
                             4659 ; 524  |/////////////////////////////////////////////////////////////////////////////////
                             4660 ; 525  |
                             4661 ; 526  |//  Analog Persistent Config (HW_VDD5V_PWR_CHARGE) Bit Definitions
                             4662 ; 527  |
                             4663 ; 528  |#define HW_VDD5V_PWR_CHARGE_BATT_CURRENT_WIDTH (6)
                             4664 ; 529  |#define HW_VDD5V_PWR_CHARGE_RSVD0_WIDTH (2)
                             4665 ; 530  |#define HW_VDD5V_PWR_CHARGE_PWD_WIDTH (1)
                             4666 ; 531  |#define HW_VDD5V_PWR_CHARGE_RES_WIDTH (1)
                             4667 ; 532  |#define HW_VDD5V_PWR_CHARGE_NIMH_WIDTH (1)
                             4668 ; 533  |#define HW_VDD5V_PWR_CHARGE_LI_TYPE_WIDTH (1)
                             4669 ; 534  |#define HW_VDD5V_PWR_CHARGE_DISABLE_ILIMIT_WIDTH (1)
                             4670 ; 535  |#define HW_VDD5V_PWR_CHARGE_PWDN_ON_IOBRNOUT_WIDTH (1)
                             4671 ; 536  |#define HW_VDD5V_PWR_CHARGE_DCANA_LP_WIDTH (1)
                             4672 ; 537  |#define HW_VDD5V_PWR_CHARGE_TEST_USBREGS_WIDTH (1)
                             4673 ; 538  |#define HW_VDD5V_PWR_CHARGE_DRV_BATT_WIDTH (1)
                             4674 ; 539  |#define HW_VDD5V_PWR_CHARGE_SWCHRG_BAT_WIDTH (1)
                             4675 ; 540  |#define HW_VDD5V_PWR_CHARGE_RSVD1_WIDTH (2)
                             4676 ; 541  |#define HW_VDD5V_PWR_CHARGE_VDD5V_PRESENT_WIDTH (1)
                             4677 ; 542  |#define HW_VDD5V_PWR_CHARGE_BATT_INFO_WIDTH (2)
                             4678 ; 543  |#define HW_VDD5V_PWR_CHARGE_RSVD2_WIDTH (3)
                             4679 ; 544  |
                             4680 ; 545  |#define HW_VDD5V_PWR_CHARGE_BATT_CURRENT_BITPOS (0)
                             4681 ; 546  |#define HW_VDD5V_PWR_CHARGE_PWD_BITPOS (8)
                             4682 ; 547  |#define HW_VDD5V_PWR_CHARGE_RES_BITPOS (9)
                             4683 ; 548  |#define HW_VDD5V_PWR_CHARGE_NIMH_BITPOS (10)
                             4684 ; 549  |
                             4685 ; 550  |#define HW_VDD5V_PWR_CHARGE_LI_TYPE_BITPOS (11)
                             4686 ; 551  |#define HW_VDD5V_PWR_CHARGE_DISABLE_ILIMIT_BITPOS (12)
                             4687 ; 552  |#define HW_VDD5V_PWR_CHARGE_PWDN_ON_IOBRNOUT_BITPOS (13)
                             4688 ; 553  |#define HW_VDD5V_PWR_CHARGE_DCANA_LP_BITPOS (14)
                             4689 ; 554  |#define HW_VDD5V_PWR_CHARGE_TEST_USBREGS_BITPOS (15)
                             4690 ; 555  |#define HW_VDD5V_PWR_CHARGE_DRV_BATT_BITPOS (16)
                             4691 ; 556  |#define HW_VDD5V_PWR_CHARGE_SWCHRG_BAT_BITPOS (17)
                             4692 ; 557  |#define HW_VDD5V_PWR_CHARGE_VDD5V_PRESENT_BITPOS (20)
                             4693 ; 558  |#define HW_VDD5V_PWR_CHARGE_BATT_INFO_BITPOS (21)
                             4694 ; 559  |
                             4695 ; 560  |#define HW_VDD5V_PWR_CHARGE_BATT_CURRENT_SETMASK (((1<<HW_VDD5V_PWR_CHARGE_BATT_CURRENT_WIDTH)-1)<<HW_VDD5V_PWR_CHARGE_BATT_CURRENT_BITPOS)        
                             4696 ; 561  |#define HW_VDD5V_PWR_CHARGE_PWD_SETMASK (((1<<HW_VDD5V_PWR_CHARGE_PWD_WIDTH)-1)<<HW_VDD5V_PWR_CHARGE_PWD_BITPOS)        
                             4697 ; 562  |#define HW_VDD5V_PWR_CHARGE_RES_SETMASK (((1<<HW_VDD5V_PWR_CHARGE_RES_WIDTH)-1)<<HW_VDD5V_PWR_CHARGE_RES_BITPOS) 
                             4698 ; 563  |#define HW_VDD5V_PWR_CHARGE_NIMH_SETMASK (((1<<HW_VDD5V_PWR_CHARGE_NIMH_WIDTH)-1)<<HW_VDD5V_PWR_CHARGE_NIMH_BITPOS) 
                             4699 ; 564  |#define HW_VDD5V_PWR_CHARGE_LI_TYPE_SETMASK (((1<<HW_VDD5V_PWR_CHARGE_LI_TYPE_WIDTH)-1)<<HW_VDD5V_PWR_CHARGE_LI_TYPE_BITPOS) 
                             4700 ; 565  |#define HW_VDD5V_PWR_CHARGE_DISABLE_ILIMIT_SETMASK (((1<<HW_VDD5V_PWR_CHARGE_DISABLE_ILIMIT_WIDTH)-1)<<HW_VDD5V_PWR_CHARGE_DISABLE_ILIMIT_BITPOS)        
                             4701 ; 566  |#define HW_VDD5V_PWR_CHARGE_PWDN_ON_IOBRNOUT_SETMASK (((1<<HW_VDD5V_PWR_CHARGE_PWDN_ON_IOBRNOUT_WIDTH)-1)<<HW_VDD5V_PWR_CHARGE_PWDN_ON_IOBRNOUT_BITPOS)        
                             4702 ; 567  |#define HW_VDD5V_PWR_CHARGE_DCANA_LP_SETMASK (((1<<HW_VDD5V_PWR_CHARGE_DCANA_LP_WIDTH)-1)<<HW_VDD5V_PWR_CHARGE_DCANA_LP_BITPOS) 
                             4703 ; 568  |#define HW_VDD5V_PWR_CHARGE_TEST_USBREGS_SETMASK (((1<<HW_VDD5V_PWR_CHARGE_TEST_USBREGS_WIDTH)-1)<<HW_VDD5V_PWR_CHARGE_TEST_USBREGS_BITPOS) 
                             4704 ; 569  |#define HW_VDD5V_PWR_CHARGE_DRV_BATT_SETMASK (((1<<HW_VDD5V_PWR_CHARGE_DRV_BATT_WIDTH)-1)<<HW_VDD5V_PWR_CHARGE_DRV_BATT_BITPOS) 
                             4705 ; 570  |#define HW_VDD5V_PWR_CHARGE_SWCHRG_BAT_SETMASK (((1<<HW_VDD5V_PWR_CHARGE_SWCHRG_BAT_WIDTH)-1)<<HW_VDD5V_PWR_CHARGE_SWCHRG_BAT_BITPOS) 
                             4706 ; 571  |#define HW_VDD5V_PWR_CHARGE_VDD5V_PRESENT_SETMASK (((1<<HW_VDD5V_PWR_CHARGE_VDD5V_PRESENT_WIDTH)-1)<<HW_VDD5V_PWR_CHARGE_VDD5V_PRESENT_BITPOS) 
                             4707 ; 572  |#define HW_VDD5V_PWR_CHARGE_BATT_INFO_SETMASK (((1<<HW_VDD5V_PWR_CHARGE_BATT_INFO_WIDTH)-1)<<HW_VDD5V_PWR_CHARGE_BATT_INFO_BITPOS) 
                             4708 ; 573  |
                             4709 ; 574  |
                             4710 ; 575  |#define HW_VDD5V_PWR_CHARGE_BATT_CURRENT_CLRMASK (~(WORD)HW_VDD5V_PWR_CHARGE_BATT_CURRENT_SETMASK)     
                             4711 ; 576  |#define HW_VDD5V_PWR_CHARGE_PWD_CLRMASK (~(WORD)HW_VDD5V_PWR_CHARGE_PWD_SETMASK)     
                             4712 ; 577  |#define HW_VDD5V_PWR_CHARGE_RES_CLRMASK (~(WORD)HW_VDD5V_PWR_CHARGE_RES_SETMASK) 
                             4713 ; 578  |#define HW_VDD5V_PWR_CHARGE_NIMH_CLRMASK (~(WORD)HW_VDD5V_PWR_CHARGE_NIMH_SETMASK) 
                             4714 ; 579  |#define HW_VDD5V_PWR_CHARGE_LI_TYPE_CLRMASK (~(WORD)HW_VDD5V_PWR_CHARGE_LI_TYPE_SETMASK) 
                             4715 ; 580  |#define HW_VDD5V_PWR_CHARGE_DISABLE_ILIMIT_CLRMASK (~(WORD)HW_VDD5V_PWR_CHARGE_DISABLE_ILIMIT_SETMASK)     
                             4716 ; 581  |#define HW_VDD5V_PWR_CHARGE_PWDN_ON_IOBRNOUT_CLRMASK (~(WORD)HW_VDD5V_PWR_CHARGE_PWDN_ON_IOBRNOUT_SETMASK)     
                             4717 ; 582  |#define HW_VDD5V_PWR_CHARGE_DCANA_LP_CLRMASK (~(WORD)HW_VDD5V_PWR_CHARGE_DCANA_LP_SETMASK) 
                             4718 ; 583  |#define HW_VDD5V_PWR_CHARGE_TEST_USBREGS_CLRMASK (~(WORD)HW_VDD5V_PWR_CHARGE_TEST_USBREGS_SETMASK) 
                             4719 ; 584  |#define HW_VDD5V_PWR_CHARGE_DRV_BATT_CLRMASK (~(WORD)HW_VDD5V_PWR_CHARGE_DRV_BATT_SETMASK) 
                             4720 ; 585  |#define HW_VDD5V_PWR_CHARGE_SWCHRG_BAT_CLRMASK (~(WORD)HW_VDD5V_PWR_CHARGE_SWCHRG_BAT_SETMASK) 
                             4721 ; 586  |#define HW_VDD5V_PWR_CHARGE_VDD5V_PRESENT_CLRMASK (~(WORD)HW_VDD5V_PWR_CHARGE_VDD5V_PRESENT_SETMASK) 
                             4722 ; 587  |#define HW_VDD5V_PWR_CHARGE_BATT_INFO_CLRMASK (~(WORD)HW_VDD5V_PWR_CHARGE_BATT_INFO_SETMASK) 
                             4723 ; 588  |
                             4724 ; 589  |typedef union               
                             4725 ; 590  |{
                             4726 ; 591  |    struct {
                             4727 ; 592  |        unsigned int BATT_CURRENT               : HW_VDD5V_PWR_CHARGE_BATT_CURRENT_WIDTH;
                             4728 ; 593  |        unsigned int RSVD0                      : HW_VDD5V_PWR_CHARGE_RSVD0_WIDTH;
                             4729 ; 594  |        unsigned int PWD                        : HW_VDD5V_PWR_CHARGE_PWD_WIDTH;
                             4730 ; 595  |        unsigned int RES                        : HW_VDD5V_PWR_CHARGE_RES_WIDTH;
                             4731 ; 596  |        unsigned int NIMH                       : HW_VDD5V_PWR_CHARGE_NIMH_WIDTH;
                             4732 ; 597  |        unsigned int LI_TYPE                    : HW_VDD5V_PWR_CHARGE_LI_TYPE_WIDTH;
                             4733 ; 598  |        unsigned int DISABLE_ILIMIT             : HW_VDD5V_PWR_CHARGE_DISABLE_ILIMIT_WIDTH;
                             4734 ; 599  |        unsigned int PWDN_ON_IOBRNOUT           : HW_VDD5V_PWR_CHARGE_PWDN_ON_IOBRNOUT_WIDTH;
                             4735 ; 600  |        unsigned int DCANA_LP                   : HW_VDD5V_PWR_CHARGE_DCANA_LP_WIDTH;
                             4736 ; 601  |        unsigned int TEST_USBREGS               : HW_VDD5V_PWR_CHARGE_TEST_USBREGS_WIDTH;
                             4737 ; 602  |        unsigned int DRV_BATT                   : HW_VDD5V_PWR_CHARGE_DRV_BATT_WIDTH;
                             4738 ; 603  |        unsigned int SWCHRG_BAT                 : HW_VDD5V_PWR_CHARGE_SWCHRG_BAT_WIDTH;
                             4739 ; 604  |        unsigned int RSVD1                      : HW_VDD5V_PWR_CHARGE_RSVD1_WIDTH;
                             4740 ; 605  |        unsigned int VDD5V_PRESENT              : HW_VDD5V_PWR_CHARGE_VDD5V_PRESENT_WIDTH;
                             4741 ; 606  |        unsigned int RSVD2                      : HW_VDD5V_PWR_CHARGE_RSVD2_WIDTH;
                             4742 ; 607  |    } B;
                             4743 ; 608  |    unsigned int I;
                             4744 ; 609  |} usb_pwr_charge_type;
                             4745 ; 610  |#define HW_VDD5V_PWR_CHARGE      (*(volatile usb_pwr_charge_type _X*) (HW_DCDC_BASEADDR+17))    /* Analog Persistent Config Register */
                             4746 ; 611  |
                             4747 ; 612  |#define HW_DCDC_PERSIST_AUTO_RESTART_STAT_WIDTH 1
                             4748 ; 613  |#define HW_DCDC_PERSIST_DELAY_5V_AUTO_RESTART_STAT_WIDTH 1
                             4749 ; 614  |#define HW_DCDC_PERSIST_UPDATE_WIDTH 1
                             4750 ; 615  |#define HW_DCDC_PERSIST_AUTO_RESTART_WIDTH 1
                             4751 ; 616  |#define HW_DCDC_PERSIST_DELAY_5V_AUTO_RESTART_WIDTH 1
                             4752 ; 617  |#define HW_DCDC_PERSIST_LOW_BATT_TYPE_WIDTH 1
                             4753 ; 618  |#define HW_DCDC_PERSIST_LOW_BATTERY_ENABLE_WIDTH 1
                             4754 ; 619  |#define HW_DCDC_PERSIST_SLEEP_XTAL_ENABLE_WIDTH 1
                             4755 ; 620  |#define HW_DCDC_PERSIST_XTAL_TRIM1_WIDTH 1
                             4756 ; 621  |#define HW_DCDC_PERSIST_XTAL_TRIM0_WIDTH 1
                             4757 ; 622  |#define HW_DCDC_PERSIST_XTAL_BIAS_DOWN1_WIDTH 1
                             4758 ; 623  |#define HW_DCDC_PERSIST_XTAL_BIAS_DOWN0_WIDTH 1
                             4759 ; 624  |#define HW_DCDC_PERSIST_XTAL_TRM_ENABLE_WIDTH 1
                             4760 ; 625  |#define HW_DCDC_PERSIST_RSRVD_WIDTH 2
                             4761 ; 626  |
                             4762 ; 627  |#define HW_DCDC_PERSIST_AUTO_RESTART_STAT_BITPOS 12
                             4763 ; 628  |#define HW_DCDC_PERSIST_DELAY_5V_AUTO_RESTART_STAT_BITPOS 11
                             4764 ; 629  |#define HW_DCDC_PERSIST_UPDATE_BITPOS 10
                             4765 ; 630  |#define HW_DCDC_PERSIST_AUTO_RESTART_BITPOS 9
                             4766 ; 631  |#define HW_DCDC_PERSIST_DELAY_5V_AUTO_RESTART_BITPOS 8 
                             4767 ; 632  |#define HW_DCDC_PERSIST_LOW_BATT_TYPE_BITPOS 7
                             4768 ; 633  |#define HW_DCDC_PERSIST_LOW_BATTERY_ENABLE_BITPOS 6
                             4769 ; 634  |#define HW_DCDC_PERSIST_SLEEP_XTAL_ENABLE_BITPOS 5
                             4770 ; 635  |#define HW_DCDC_PERSIST_XTAL_TRIM1_BITPOS 4
                             4771 ; 636  |#define HW_DCDC_PERSIST_XTAL_TRIM0_BITPOS 3
                             4772 ; 637  |#define HW_DCDC_PERSIST_XTAL_BIAS_DOWN1_BITPOS 2
                             4773 ; 638  |#define HW_DCDC_PERSIST_XTAL_BIAS_DOWN0_BITPOS 1
                             4774 ; 639  |#define HW_DCDC_PERSIST_XTAL_TRM_ENABLE_BITPOS 0
                             4775 ; 640  |
                             4776 ; 641  |typedef union               
                             4777 ; 642  |{
                             4778 ; 643  |    struct {       
                             4779 ; 644  |       int XTAL_TRM_ENABLE             : HW_DCDC_PERSIST_XTAL_TRM_ENABLE_WIDTH;
                             4780 ; 645  |       int XTAL_BIAS_DOWN0             : HW_DCDC_PERSIST_XTAL_BIAS_DOWN0_WIDTH;
                             4781 ; 646  |       int XTAL_BIAS_DOWN1             : HW_DCDC_PERSIST_XTAL_BIAS_DOWN1_WIDTH;
                             4782 ; 647  |       int XTAL_TRIM0                  : HW_DCDC_PERSIST_XTAL_TRIM0_WIDTH;
                             4783 ; 648  |       int XTAL_TRIM1                  : HW_DCDC_PERSIST_XTAL_TRIM1_WIDTH;
                             4784 ; 649  |       int SLEEP_XTAL_ENABLE           : HW_DCDC_PERSIST_SLEEP_XTAL_ENABLE_WIDTH;
                             4785 ; 650  |       int LOW_BATTERY_ENABLE          : HW_DCDC_PERSIST_LOW_BATTERY_ENABLE_WIDTH;
                             4786 ; 651  |       int LOW_BATT_TYPE               : HW_DCDC_PERSIST_LOW_BATT_TYPE_WIDTH;
                             4787 ; 652  |       int DELAY_5V_AUTO_RESTART       : HW_DCDC_PERSIST_DELAY_5V_AUTO_RESTART_WIDTH;
                             4788 ; 653  |       int AUTO_RESTART                : HW_DCDC_PERSIST_AUTO_RESTART_WIDTH;
                             4789 ; 654  |       int UPDATE                      : HW_DCDC_PERSIST_UPDATE_WIDTH;
                             4790 ; 655  |       int DELAY_5V_AUTO_RESTART_STAT  : HW_DCDC_PERSIST_DELAY_5V_AUTO_RESTART_STAT_WIDTH;
                             4791 ; 656  |       int AUTO_RESTART_STAT           : HW_DCDC_PERSIST_AUTO_RESTART_STAT_WIDTH;
                             4792 ; 657  |       int RSRVD                       : HW_DCDC_PERSIST_RSRVD_WIDTH;
                             4793 ; 658  |    } B;
                             4794 ; 659  |    int I;
                             4795 ; 660  |} usb_dcdcpersist_type;
                             4796 ; 661  |#define HW_DCDC_PERSIST                (*(volatile usb_dcdcpersist_type _X*) (HW_DCDC_BASEADDR+15))    /* Analog test bit register*/
                             4797 ; 662  |
                             4798 ; 663  |
                             4799 ; 664  |
                             4800 ; 665  |#endif
                             4801 ; 666  |
                             4802 ; 667  |
                             4803 ; 668  |
                             4804 
                             4806 
                             4807 ; 21   |#include "regsemc.h"
                             4808 
                             4810 
                             4811 ; 1    |#if !(defined(__REGS_EMC_INC))
                             4812 ; 2    |#define __REGS_EMC_INC 1
                             4813 ; 3    |
                             4814 ; 4    |/////////////////////////////////////////////////////////////////////////////////
                             4815 ; 5    |//   Module base addresses
                             4816 ; 6    |/////////////////////////////////////////////////////////////////////////////////
                             4817 ; 7    |#define HW_EMC_BASEADDR 0xF000
                             4818 ; 8    |
                             4819 ; 9    |/////////////////////////////////////////////////////////////////////////////////
                             4820 ; 10   |//  EMC Registers
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page  20

M:ADDR CODE           CYCLES LINE SOURCELINE
                             4821 ; 11   |/////////////////////////////////////////////////////////////////////////////////
                             4822 ; 12   |
                             4823 ; 13   |
                             4824 ; 14   |/////////////////////////////////////////////////////////////////////////////////
                             4825 ; 15   |//  Flash Control Register (HW_FLCR) Bit Definitions
                             4826 ; 16   |
                             4827 ; 17   |typedef union               /*Flash Control Register*/
                             4828 ; 18   |{
                             4829 ; 19   |    struct
                             4830 ; 20   |    {
                             4831 ; 21   |    int KICK        :1;
                             4832 ; 22   |    int RW          :1;
                             4833 ; 23   |    int TCIE        :1;
                             4834 ; 24   |    int IRQP        :1;
                             4835 ; 25   |    unsigned MMD    :2;
                             4836 ; 26   |    unsigned NB     :11;
                             4837 ; 27   |    unsigned RSVD   :4;
                             4838 ; 28   |    int SRST        :1;
                             4839 ; 29   |    } B;
                             4840 ; 30   |    int I;
                             4841 ; 31   |} flcr_type;
                             4842 ; 32   |
                             4843 ; 33   |#define HW_FLCR_KICK_BITPOS 0
                             4844 ; 34   |#define HW_FLCR_RW_BITPOS 1
                             4845 ; 35   |#define HW_FLCR_TCIE_BITPOS 2
                             4846 ; 36   |#define HW_FLCR_IRQP_BITPOS 3
                             4847 ; 37   |#define HW_FLCR_MMD_BITPOS 4
                             4848 ; 38   |#define HW_FLCR_NB_BITPOS 6
                             4849 ; 39   |#define HW_FLCR_SRST_BITPOS 21
                             4850 ; 40   |
                             4851 ; 41   |#define HW_FLCR_KICK_SETMASK 1<<HW_FLCR_KICK_BITPOS
                             4852 ; 42   |#define HW_FLCR_RW_SETMASK 1<<HW_FLCR_RW_BITPOS
                             4853 ; 43   |#define HW_FLCR_READ_KICK_SETMASK HW_FLCR_KICK_SETMASK|HW_FLCR_RW_SETMASK
                             4854 ; 44   |#define HW_FLCR_WRITE_KICK_SETMASK HW_FLCR_KICK_SETMASK
                             4855 ; 45   |#define HW_FLCR_TCIE_SETMASK 1<<HW_FLCR_TCIE_BITPOS
                             4856 ; 46   |#define HW_FLCR_IRQP_SETMASK 1<<HW_FLCR_IRQP_BITPOS
                             4857 ; 47   |#define HW_FLCR_MMD_SETMASK 3<<HW_FLCR_MMD_BITPOS
                             4858 ; 48   |#define HW_FLCR_NB_SETMASK 0x7FF<<HW_FLCR_NB_BITPOS
                             4859 ; 49   |#define HW_FLCR_SRST_SETMASK 1<<HW_FLCR_SRST_BITPOS
                             4860 ; 50   |
                             4861 ; 51   |#define HW_FLCR_KICK_CLRMASK ~(WORD)HW_FLCR_KICK_SETMASK
                             4862 ; 52   |#define HW_FLCR_RW_CLRMASK ~(WORD)HW_FLCR_RW_SETMASK
                             4863 ; 53   |#define HW_FLCR_TCIE_CLRMASK ~(WORD)HW_FLCR_TCIE_SETMASK
                             4864 ; 54   |#define HW_FLCR_IRQP_CLRMASK ~(WORD)HW_FLCR_IRQP_SETMASK
                             4865 ; 55   |#define HW_FLCR_MMD_CLRMASK ~(WORD)HW_FLCR_MMD_SETMASK
                             4866 ; 56   |#define HW_FLCR_NB_CLRMASK ~(WORD)HW_FLCR_NB_SETMASK
                             4867 ; 57   |#define HW_FLCR_SRST_CLRMASK ~(WORD)HW_FLCR_SRST_SETMASK
                             4868 ; 58   |
                             4869 ; 59   |
                             4870 ; 60   |/////////////////////////////////////////////////////////////////////////////////
                             4871 ; 61   |//  Flash Start Address Low Register (HW_FLSALR) Bit Definitions
                             4872 ; 62   |
                             4873 ; 63   |typedef union           /* Flash Start Address Low*/
                             4874 ; 64   |{
                             4875 ; 65   |    struct
                             4876 ; 66   |    {
                             4877 ; 67   |    unsigned XA     : 24;
                             4878 ; 68   |    } B;
                             4879 ; 69   |    int I;
                             4880 ; 70   |} flsalr_type;
                             4881 ; 71   |
                             4882 ; 72   |#define HW_FLSALR_XA_BITPOS 0
                             4883 ; 73   |
                             4884 ; 74   |#define HW_FLSALR_XA_SETMASK 0xFFFFFF<<HW_FLSALR_XA_BITPOS
                             4885 ; 75   |
                             4886 ; 76   |#define HW_FLSALR_XA_CLRMASK ~(WORD)HW_FLSALR_XA_SETMASK
                             4887 ; 77   |
                             4888 ; 78   |
                             4889 ; 79   |/////////////////////////////////////////////////////////////////////////////////
                             4890 ; 80   |//  Flash Start Address High Register (HW_FLSAHR) Bit Definitions
                             4891 ; 81   |
                             4892 ; 82   |typedef union           /* Flash Start Address High*/
                             4893 ; 83   |{
                             4894 ; 84   |    struct
                             4895 ; 85   |    {
                             4896 ; 86   |    unsigned XA     :8;
                             4897 ; 87   |    unsigned DA     :16;
                             4898 ; 88   |    } B;
                             4899 ; 89   |    int I;
                             4900 ; 90   |} flsahr_type;
                             4901 ; 91   |
                             4902 ; 92   |#define HW_FLSAHR_XA_BITPOS 0
                             4903 ; 93   |
                             4904 ; 94   |#define HW_FLSAHR_XA_SETMASK 0xFFFFFF<<HW_FLSAHR_XA_BITPOS
                             4905 ; 95   |
                             4906 ; 96   |#define HW_FLSAHR_XA_CLRMASK ~(WORD)HW_FLSAHR_XA_SETMASK
                             4907 ; 97   |
                             4908 ; 98   |
                             4909 ; 99   |/////////////////////////////////////////////////////////////////////////////////
                             4910 ; 100  |//  EMC Flash CompactFlash Control Register (HW_FLCFCR) Bit Definitions
                             4911 ; 101  |
                             4912 ; 102  |typedef union           /* Flash CompactFlash Control Register*/
                             4913 ; 103  |{
                             4914 ; 104  |    struct
                             4915 ; 105  |    {
                             4916 ; 106  |        int WP          :1;
                             4917 ; 107  |        int CDP         :1;
                             4918 ; 108  |        unsigned SM     :2;
                             4919 ; 109  |        int XATTR       :1;
                             4920 ; 110  |        int CRST        :1;
                             4921 ; 111  |        int XWT         :1;
                             4922 ; 112  |        int RI          :1;
                             4923 ; 113  |        int IFCE        :1;
                             4924 ; 114  |        int ISCE        :1;
                             4925 ; 115  |        int INCE        :1;
                             4926 ; 116  |        int IFCS        :1;
                             4927 ; 117  |        int ISCS        :1;
                             4928 ; 118  |        int INCS        :1;
                             4929 ; 119  |        unsigned CFAI   :2;
                             4930 ; 120  |        int XDDI        :1;
                             4931 ; 121  |        unsigned CS     :2;
                             4932 ; 122  |        int CRE         :1;
                             4933 ; 123  |        unsigned VS     :2;
                             4934 ; 124  |        int DASP        :1;
                             4935 ; 125  |        int MODE16      :1; 
                             4936 ; 126  |    } B;
                             4937 ; 127  |    int I;
                             4938 ; 128  |} flcfcr_type;
                             4939 ; 129  |
                             4940 ; 130  |#define HW_FLCFCR_WP_BITPOS 0
                             4941 ; 131  |#define HW_FLCFCR_CDP_BITPOS 1
                             4942 ; 132  |#define HW_FLCFCR_SM_BITPOS 2
                             4943 ; 133  |#define HW_FLCFCR_XATTR_BITPOS 4
                             4944 ; 134  |#define HW_FLCFCR_CRST_BITPOS 5
                             4945 ; 135  |#define HW_FLCFCR_XWT_BITPOS 6
                             4946 ; 136  |#define HW_FLCFCR_RI_BITPOS 7
                             4947 ; 137  |#define HW_FLCFCR_IFCE_BITPOS 8
                             4948 ; 138  |#define HW_FLCFCR_ISCE_BITPOS 9
                             4949 ; 139  |#define HW_FLCFCR_INCE_BITPOS 10
                             4950 ; 140  |#define HW_FLCFCR_IFCS_BITPOS 11
                             4951 ; 141  |#define HW_FLCFCR_ISCS_BITPOS 12
                             4952 ; 142  |#define HW_FLCFCR_INCS_BITPOS 13
                             4953 ; 143  |#define HW_FLCFCR_CFAI_BITPOS 14
                             4954 ; 144  |#define HW_FLCFCR_XDDI_BITPOS 16
                             4955 ; 145  |#define HW_FLCFCR_CS_BITPOS 17
                             4956 ; 146  |#define HW_FLCFCR_CRE_BITPOS 19
                             4957 ; 147  |#define HW_FLCFCR_VS_BITPOS 20
                             4958 ; 148  |#define HW_FLCFCR_DASP_BITPOS 22
                             4959 ; 149  |
                             4960 ; 150  |#define HW_FLCFCR_WP_SETMASK 1<<HW_FLCFCR_WP_BITPOS
                             4961 ; 151  |#define HW_FLCFCR_CDP_SETMASK 1<<HW_FLCFCR_CDP_BITPOS
                             4962 ; 152  |#define HW_FLCFCR_SM_SETMASK 3<<HW_FLCFCR_SM_BITPOS
                             4963 ; 153  |#define HW_FLCFCR_XATTR_SETMASK 1<<HW_FLCFCR_XATTR_BITPOS
                             4964 ; 154  |#define HW_FLCFCR_CRST_SETMASK 1<<HW_FLCFCR_CRST_BITPOS
                             4965 ; 155  |#define HW_FLCFCR_XWT_SETMASK 1<<HW_FLCFCR_XWT_BITPOS
                             4966 ; 156  |#define HW_FLCFCR_RI_SETMASK 1<<HW_FLCFCR_RI_BITPOS
                             4967 ; 157  |#define HW_FLCFCR_IFCE_SETMASK 1<<HW_FLCFCR_IFCE_BITPOS
                             4968 ; 158  |#define HW_FLCFCR_ISCE_SETMASK 1<<HW_FLCFCR_ISCE_BITPOS
                             4969 ; 159  |#define HW_FLCFCR_INCE_SETMASK 1<<HW_FLCFCR_INCE_BITPOS
                             4970 ; 160  |#define HW_FLCFCR_IFCS_SETMASK 1<<HW_FLCFCR_IFCS_BITPOS
                             4971 ; 161  |#define HW_FLCFCR_ISCS_SETMASK 1<<HW_FLCFCR_ISCS_BITPOS
                             4972 ; 162  |#define HW_FLCFCR_INCS_SETMASK 1<<HW_FLCFCR_INCS_BITPOS
                             4973 ; 163  |#define HW_FLCFCR_CFAI_SETMASK 3<<HW_FLCFCR_CFAI_BITPOS
                             4974 ; 164  |#define HW_FLCFCR_XDDI_SETMASK 1<<HW_FLCFCR_XDDI_BITPOS
                             4975 ; 165  |#define HW_FLCFCR_CS_SETMASK 3<<HW_FLCFCR_CS_BITPOS
                             4976 ; 166  |#define HW_FLCFCR_CRE_SETMASK 1<<HW_FLCFCR_CRE_BITPOS
                             4977 ; 167  |#define HW_FLCFCR_VS_SETMASK 3<<HW_FLCFCR_VS_BITPOS
                             4978 ; 168  |#define HW_FLCFCR_DASP_SETMASK 1<<HW_FLCFCR_DASP_BITPOS
                             4979 ; 169  |
                             4980 ; 170  |#define HW_FLCFCR_WP_CLRMASK ~(WORD)HW_FLCFCR_WP_SETMASK
                             4981 ; 171  |#define HW_FLCFCR_CDP_CLRMASK ~(WORD)HW_FLCFCR_CDP_SETMASK
                             4982 ; 172  |#define HW_FLCFCR_SM_CLRMASK ~(WORD)HW_FLCFCR_SM_SETMASK
                             4983 ; 173  |#define HW_FLCFCR_XATTR_CLRMASK ~(WORD)HW_FLCFCR_XATTR_SETMASK
                             4984 ; 174  |#define HW_FLCFCR_CRST_CLRMASK ~(WORD)HW_FLCFCR_CRST_SETMASK
                             4985 ; 175  |#define HW_FLCFCR_XWT_CLRMASK ~(WORD)HW_FLCFCR_XWT_SETMASK
                             4986 ; 176  |#define HW_FLCFCR_RI_CLRMASK ~(WORD)HW_FLCFCR_RI_SETMASK
                             4987 ; 177  |#define HW_FLCFCR_IFCE_CLRMASK ~(WORD)HW_FLCFCR_IFCE_SETMASK
                             4988 ; 178  |#define HW_FLCFCR_ISCE_CLRMASK ~(WORD)HW_FLCFCR_ISCE_SETMASK
                             4989 ; 179  |#define HW_FLCFCR_INCE_CLRMASK ~(WORD)HW_FLCFCR_INCE_SETMASK
                             4990 ; 180  |#define HW_FLCFCR_IFCS_CLRMASK ~(WORD)HW_FLCFCR_IFCS_SETMASK
                             4991 ; 181  |#define HW_FLCFCR_ISCS_CLRMASK ~(WORD)HW_FLCFCR_ISCS_SETMASK
                             4992 ; 182  |#define HW_FLCFCR_INCS_CLRMASK ~(WORD)HW_FLCFCR_INCS_SETMASK
                             4993 ; 183  |#define HW_FLCFCR_CFAI_CLRMASK ~(WORD)HW_FLCFCR_CFAI_SETMASK
                             4994 ; 184  |#define HW_FLCFCR_XDDI_CLRMASK ~(WORD)HW_FLCFCR_XDDI_SETMASK
                             4995 ; 185  |#define HW_FLCFCR_CS_CLRMASK ~(WORD)HW_FLCFCR_CS_SETMASK
                             4996 ; 186  |#define HW_FLCFCR_CRE_CLRMASK ~(WORD)HW_FLCFCR_CRE_SETMASK
                             4997 ; 187  |#define HW_FLCFCR_VS_CLRMASK ~(WORD)HW_FLCFCR_VS_SETMASK
                             4998 ; 188  |#define HW_FLCFCR_DASP_CLRMASK ~(WORD)HW_FLCFCR_DASP_SETMASK
                             4999 ; 189  |
                             5000 ; 190  |
                             5001 ; 191  |/////////////////////////////////////////////////////////////////////////////////
                             5002 ; 192  |//  EMC Flash Compact Flash Timer1 Register (HW_FLCFTMR1R) Bit Definitions
                             5003 ; 193  |
                             5004 ; 194  |typedef union           /* Flash CompactFlash Timer1 Register*/
                             5005 ; 195  |{
                             5006 ; 196  |    struct
                             5007 ; 197  |    {
                             5008 ; 198  |        unsigned TRWSU  :5;
                             5009 ; 199  |        unsigned TRPW   :7;
                             5010 ; 200  |        unsigned TWPW   :7;
                             5011 ; 201  |        unsigned TRWH   :5;
                             5012 ; 202  |    } B;
                             5013 ; 203  |    int I;
                             5014 ; 204  |} flcftmr1r_type;
                             5015 ; 205  |
                             5016 ; 206  |#define HW_FLCFTMR1R_TRWSU_BITPOS 0
                             5017 ; 207  |#define HW_FLCFTMR1R_TRPW_BITPOS 5
                             5018 ; 208  |#define HW_FLCFTMR1R_TWPW_BITPOS 12
                             5019 ; 209  |#define HW_FLCFTMR1R_TRWH_BITPOS 19
                             5020 ; 210  |
                             5021 ; 211  |#define HW_FLCFTMR1R_TRWSU_SETMASK 0x1F<<HW_FLCFTMR1R_TRWSU_BITPOS
                             5022 ; 212  |#define HW_FLCFTMR1R_TRPW_SETMASK 0x7F<<HW_FLCFTMR1R_TRPW_BITPOS
                             5023 ; 213  |#define HW_FLCFTMR1R_TWPW_SETMASK 0x7F<<HW_FLCFTMR1R_TWPW_BITPOS
                             5024 ; 214  |#define HW_FLCFTMR1R_TRWH_SETMASK 0x1F<<HW_FLCFTMR1R_TRWH_BITPOS
                             5025 ; 215  |
                             5026 ; 216  |#define HW_FLCFTMR1R_TRWSU_CLRMASK ~(WORD)HW_FLCFTMR1R_TRWSU_SETMASK
                             5027 ; 217  |#define HW_FLCFTMR1R_TRPW_CLRMASK ~(WORD)HW_FLCFTMR1R_TRPW_SETMASK
                             5028 ; 218  |#define HW_FLCFTMR1R_TWPW_CLRMASK ~(WORD)HW_FLCFTMR1R_TWPW_SETMASK
                             5029 ; 219  |#define HW_FLCFTMR1R_TRWH_CLRMASK ~(WORD)HW_FLCFTMR1R_TRWH_SETMASK
                             5030 ; 220  |
                             5031 ; 221  |
                             5032 ; 222  |/////////////////////////////////////////////////////////////////////////////////
                             5033 ; 223  |//  EMC Flash Compact Flash Timer1 Register (HW_FLCFTMR2R) Bit Definitions
                             5034 ; 224  |
                             5035 ; 225  |typedef union           /* Flash CompactFlash Timer2 Register*/
                             5036 ; 226  |{
                             5037 ; 227  |    struct
                             5038 ; 228  |    {
                             5039 ; 229  |        unsigned TWW    :4;
                             5040 ; 230  |        unsigned TWTO   :10;
                             5041 ; 231  |        unsigned THW    :5; 
                             5042 ; 232  |        unsigned TRAQ   :5;
                             5043 ; 233  |    } B;
                             5044 ; 234  |    int I;
                             5045 ; 235  |} flcftmr2r_type;
                             5046 ; 236  |
                             5047 ; 237  |#define HW_FLCFTMR2R_TWW_BITPOS 0
                             5048 ; 238  |#define HW_FLCFTMR2R_TWTO_BITPOS 4
                             5049 ; 239  |#define HW_FLCFTMR2R_THW_BITPOS 14
                             5050 ; 240  |#define HW_FLCFTMR2R_TRAQ_BITPOS 19
                             5051 ; 241  |
                             5052 ; 242  |#define HW_FLCFTMR2R_TWW_SETMASK 0xF<<HW_FLCFTMR2R_TWW_BITPOS
                             5053 ; 243  |#define HW_FLCFTMR2R_TWTO_SETMASK 0x3FF<<HW_FLCFTMR2R_TWTO_BITPOS
                             5054 ; 244  |#define HW_FLCFTMR2R_THW_SETMASK 0x1F<<HW_FLCFTMR2R_THW_BITPOS
                             5055 ; 245  |#define HW_FLCFTMR2R_TRAQ_SETMASK 0x1F<<HW_FLCFTMR2R_TRAQ_BITPOS
                             5056 ; 246  |
                             5057 ; 247  |#define HW_FLCFTMR2R_TWW_CLRMASK ~(WORD)HW_FLCFTMR2R_TWW_SETMASK
                             5058 ; 248  |#define HW_FLCFTMR2R_TWTO_CLRMASK ~(WORD)HW_FLCFTMR2R_TWTO_SETMASK
                             5059 ; 249  |#define HW_FLCFTMR2R_THW_CLRMASK ~(WORD)HW_FLCFTMR2R_THW_SETMASK
                             5060 ; 250  |#define HW_FLCFTMR2R_TRAQ_CLRMASK ~(WORD)HW_FLCFTMR2R_TRAQ_SETMASK
                             5061 ; 251  |
                             5062 ; 252  |
                             5063 ; 253  |/////////////////////////////////////////////////////////////////////////////////
                             5064 ; 254  |//  EMC Flash SmartMedia Control Register (HW_FLSMCR) Bit Definitions
                             5065 ; 255  |
                             5066 ; 256  |typedef union           /* Flash SmartMedia Control Register*/
                             5067 ; 257  |{
                             5068 ; 258  |    struct
                             5069 ; 259  |    {
                             5070 ; 260  |        unsigned CS     :2;
                             5071 ; 261  |        int SE          :1;
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page  21

M:ADDR CODE           CYCLES LINE SOURCELINE
                             5072 ; 262  |        int WP          :1;
                             5073 ; 263  |        int SIZE        :1;
                             5074 ; 264  |        int ICMD        :8;
                             5075 ; 265  |        int TOIE        :1;
                             5076 ; 266  |        int BPIE        :1;
                             5077 ; 267  |        int TOIRQ       :1;
                             5078 ; 268  |        int BPIRQ       :1;
                             5079 ; 269  |    } B;
                             5080 ; 270  |    int I;
                             5081 ; 271  |} flsmcr_type;
                             5082 ; 272  |
                             5083 ; 273  |#define HW_FLSMCR_CS_BITPOS 0
                             5084 ; 274  |#define HW_FLSMCR_SE_BITPOS 2
                             5085 ; 275  |#define HW_FLSMCR_WP_BITPOS 3
                             5086 ; 276  |#define HW_FLSMCR_SIZE_BITPOS 4
                             5087 ; 277  |#define HW_FLSMCR_ICMD_BITPOS 5
                             5088 ; 278  |#define HW_FLSMCR_TOIE_BITPOS 13
                             5089 ; 279  |#define HW_FLSMCR_BPIE_BITPOS 14
                             5090 ; 280  |#define HW_FLSMCR_TOIRQ_BITPOS 15
                             5091 ; 281  |#define HW_FLSMCR_BPIRQ_BITPOS 16
                             5092 ; 282  |
                             5093 ; 283  |#define HW_FLSMCR_CS_SETMASK 1<<HW_FLSMCR_CS_BITPOS
                             5094 ; 284  |#define HW_FLSMCR_SE_SETMASK 1<<HW_FLSMCR_SE_BITPOS
                             5095 ; 285  |#define HW_FLSMCR_WP_SETMASK 1<<HW_FLSMCR_WP_BITPOS
                             5096 ; 286  |#define HW_FLSMCR_SIZE_SETMASK 1<<HW_FLSMCR_SIZE_BITPOS
                             5097 ; 287  |#define HW_FLSMCR_ICMD_SETMASK (0xFF)<<HW_FLSMCR_ICMD_BITPOS
                             5098 ; 288  |#define HW_FLSMCR_TOIE_SETMASK 1<<HW_FLSMCR_TOIE_BITPOS
                             5099 ; 289  |#define HW_FLSMCR_BPIE_SETMASK 1<<HW_FLSMCR_BPIE_BITPOS
                             5100 ; 290  |#define HW_FLSMCR_TOIRQ_SETMASK 1<<HW_FLSMCR_TOIRQ_BITPOS
                             5101 ; 291  |#define HW_FLSMCR_BPIRQ_SETMASK 1<<HW_FLSMCR_BPIRQ_BITPOS
                             5102 ; 292  |
                             5103 ; 293  |#define HW_FLSMCR_SE_ASSERT_SETMASK 0x000000
                             5104 ; 294  |#define HW_FLSMCR_SE_DEASSERT_SETMASK 0x000004
                             5105 ; 295  |#define HW_FLSMCR_WP_ASSERT_SETMASK 0x000000
                             5106 ; 296  |#define HW_FLSMCR_WP_DEASSERT_SETMASK 0x000008
                             5107 ; 297  |#define HW_FLSMCR_SIZE_SMALL_SETMASK 0x000000
                             5108 ; 298  |#define HW_FLSMCR_SIZE_LARGE_SETMASK 0x000010
                             5109 ; 299  |#define HW_FLSMCR_ICMD_RESET_SETMASK 0x001FE0
                             5110 ; 300  |#define HW_FLSMCR_ICMD_READ_STATUS_SETMASK 0x000E00
                             5111 ; 301  |#define HW_FLSMCR_ICMD_BLOCK_ERASE_SETMASK 0x000C00
                             5112 ; 302  |#define HW_FLSMCR_ICMD_ERASE_SETMASK 0x001A00
                             5113 ; 303  |#define HW_FLSMCR_ICMD_RP_FIRST_SETMASK 0x000000
                             5114 ; 304  |#define HW_FLSMCR_ICMD_RP_SECOND_SETMASK 0x000020
                             5115 ; 305  |#define HW_FLSMCR_ICMD_RP_SPARE_SETMASK 0x000A00
                             5116 ; 306  |#define HW_FLSMCR_ICMD_READ_ID_SETMASK 0x001200
                             5117 ; 307  |
                             5118 ; 308  |#define HW_FLSMCR_CS_CLRMASK ~(WORD)HW_FLSMCR_CS_SETMASK
                             5119 ; 309  |#define HW_FLSMCR_SE_CLRMASK ~(WORD)HW_FLSMCR_SE_SETMASK
                             5120 ; 310  |#define HW_FLSMCR_WP_CLRMASK ~(WORD)HW_FLSMCR_WP_SETMASK
                             5121 ; 311  |#define HW_FLSMCR_SIZE_CLRMASK ~(WORD)HW_FLSMCR_SIZE_SETMASK
                             5122 ; 312  |#define HW_FLSMCR_ICMD_CLRMASK ~(WORD)HW_FLSMCR_ICMD_SETMASK
                             5123 ; 313  |#define HW_FLSMCR_TOIE_CLRMASK ~(WORD)HW_FLSMCR_TOIE_SETMASK
                             5124 ; 314  |#define HW_FLSMCR_BPIE_CLRMASK ~(WORD)HW_FLSMCR_BPIE_SETMASK
                             5125 ; 315  |#define HW_FLSMCR_TOIRQ_CLRMASK ~(WORD)HW_FLSMCR_TOIRQ_SETMASK
                             5126 ; 316  |#define HW_FLSMCR_BPIRQ_CLRMASK ~(WORD)HW_FLSMCR_BPIRQ_SETMASK
                             5127 ; 317  |
                             5128 ; 318  |
                             5129 ; 319  |/////////////////////////////////////////////////////////////////////////////////
                             5130 ; 320  |//  EMC Flash SmartMedia Timer1 Register (HW_FLSMTMR1R) Bit Definitions
                             5131 ; 321  |
                             5132 ; 322  |typedef union           /* Flash SmartMedia Timer1 Register*/
                             5133 ; 323  |{
                             5134 ; 324  |    struct
                             5135 ; 325  |    {
                             5136 ; 326  |        unsigned TRWSU  :5;
                             5137 ; 327  |        unsigned TRPW   :6;
                             5138 ; 328  |        unsigned TWPW   :6;
                             5139 ; 329  |        unsigned TRWH   :5;
                             5140 ; 330  |    } B;
                             5141 ; 331  |    int I;
                             5142 ; 332  |} flsmtmr1r_type;
                             5143 ; 333  |
                             5144 ; 334  |#define HW_FLSMTMR1R_TRWSU_BITPOS 0
                             5145 ; 335  |#define HW_FLSMTMR1R_TRPW_BITPOS 5
                             5146 ; 336  |#define HW_FLSMTMR1R_TWPW_BITPOS 11
                             5147 ; 337  |#define HW_FLSMTMR1R_TRWH_BITPOS 17
                             5148 ; 338  |
                             5149 ; 339  |#define HW_FLSMTMR1R_TRWSU_SETMASK 0x1F<<HW_FLSMTMR1R_TRWSU_BITPOS
                             5150 ; 340  |#define HW_FLSMTMR1R_TRPW_SETMASK 0x3F<<HW_FLSMTMR1R_TRPW_BITPOS
                             5151 ; 341  |#define HW_FLSMTMR1R_TWPW_SETMASK 0x3F<<HW_FLSMTMR1R_TWPW_BITPOS
                             5152 ; 342  |#define HW_FLSMTMR1R_TRWH_SETMASK 0x1F<<HW_FLSMTMR1R_TRWH_BITPOS
                             5153 ; 343  |
                             5154 ; 344  |#define HW_FLSMTMR1R_TRWSU_CLRMASK ~(WORD)HW_FLSMTMR1R_TRWSU_SETMASK
                             5155 ; 345  |#define HW_FLSMTMR1R_TRPW_CLRMASK ~(WORD)HW_FLSMTMR1R_TRPW_SETMASK
                             5156 ; 346  |#define HW_FLSMTMR1R_TWPW_CLRMASK ~(WORD)HW_FLSMTMR1R_TWPW_SETMASK
                             5157 ; 347  |#define HW_FLSMTMR1R_TRWH_CLRMASK ~(WORD)HW_FLSMTMR1R_TRWH_SETMASK
                             5158 ; 348  |
                             5159 ; 349  |
                             5160 ; 350  |/////////////////////////////////////////////////////////////////////////////////
                             5161 ; 351  |//  EMC Flash SmartMedia Timer2 Register (HW_FLSMTMR2R) Bit Definitions
                             5162 ; 352  |
                             5163 ; 353  |typedef union           /* Flash SmartMedia Timer2 Register*/
                             5164 ; 354  |{
                             5165 ; 355  |    struct
                             5166 ; 356  |    {
                             5167 ; 357  |        unsigned TWT    :6;
                             5168 ; 358  |        unsigned TWTO   :18;
                             5169 ; 359  |    } B;
                             5170 ; 360  |    int I;
                             5171 ; 361  |} flsmtmr2r_type;
                             5172 ; 362  |
                             5173 ; 363  |#define HW_FLSMTMR2R_TWT_BITPOS 0
                             5174 ; 364  |#define HW_FLSMTMR2R_TWTO_BITPOS 6
                             5175 ; 365  |
                             5176 ; 366  |#define HW_FLSMTMR2R_TWT_SETMASK 0x3F<<HW_FLSMTMR2R_TWT_BITPOS
                             5177 ; 367  |#define HW_FLSMTMR2R_TWTO_SETMASK 0x3FF<<HW_FLSMTMR2R_TWTO_BITPOS
                             5178 ; 368  |
                             5179 ; 369  |#define HW_FLSMTMR2R_TWT_CLRMASK ~(WORD)HW_FLSMTMR2R_TWT_SETMASK
                             5180 ; 370  |#define HW_FLSMTMR2R_TWTO_CLRMASK ~(WORD)HW_FLSMTMR2R_TWTO_SETMASK
                             5181 ; 371  |
                             5182 ; 372  |/*//////////////////////////////////////////////////////////////////////////////
                             5183 ; 373  |  //  EMC Flash Control Status Register2 (HW_FLCR2) Bit Definitions     */
                             5184 ; 374  |typedef union 
                             5185 ; 375  |{
                             5186 ; 376  |  struct
                             5187 ; 377  |  {
                             5188 ; 378  |    unsigned ASEL     :2;        /* Memory Select */
                             5189 ; 379  |    unsigned RA       :1;        /* Right Align word into 24bit memory for True IDE  xfers */
                             5190 ; 380  |    unsigned LA       :1;        /* Left  Align word into 24bit memory for True IDE  xfers */
                             5191 ; 381  |    unsigned NEGDMA   :1;        /* Inverts data from Flash to memory */
                             5192 ; 382  |    unsigned NEGFL    :1;        /* Inverts data from memory to Flash */
                             5193 ; 383  |    unsigned CLKOFF   :1;        /* Power down - turns clk off */
                             5194 ; 384  |    int PAD0          :17;    
                             5195 ; 385  |  } B;
                             5196 ; 386  |  int I;
                             5197 ; 387  |} flcr2_type;
                             5198 ; 388  |
                             5199 ; 389  |/////////////////////////////////////////////////////////////////////////////////
                             5200 ; 390  |//  EMC Flash SmartMedia Status Register (HW_FLSMSR) Bit Definitions
                             5201 ; 391  |#define HW_FLSMSR_RDY_BITPOS 0
                             5202 ; 392  |#define HW_FLSMSR_BUSY_BITPOS 7
                             5203 ; 393  |
                             5204 ; 394  |#define HW_FLCR      (*(volatile flcr_type      _X*) (HW_EMC_BASEADDR))    /* EMC Flash Control Register */
                             5205 ; 395  |#define HW_FLSALR    (*(volatile flsalr_type    _X*) (HW_EMC_BASEADDR+1))  /* EMC Flash Start Address Low Register */
                             5206 ; 396  |#define HW_FLSAHR    (*(volatile flsahr_type    _X*) (HW_EMC_BASEADDR+2))  /* EMC Flash Start Address High Register */
                             5207 ; 397  |#define HW_FLSSMPR   (*(volatile flssmpr_type   _X*) (HW_EMC_BASEADDR+3))  /*  */
                             5208 ; 398  |#define HW_FLCR2     (*(volatile flcr2_type     _X*) (HW_EMC_BASEADDR+4))  /* EMC Flash Control Register2 */
                             5209 ; 399  |#define HW_FLCFCR    (*(volatile flcfcr_type    _X*) (HW_EMC_BASEADDR+8))  /* EMC Flash CompactFlash Control Register*/
                             5210 ; 400  |#define HW_FLCFTMR1R (*(volatile flcftmr1r_type _X*) (HW_EMC_BASEADDR+9))  /* EMC Flash Compact Flash Timer1 Register*/
                             5211 ; 401  |#define HW_FLCFTMR2R (*(volatile flcftmr2r_type _X*) (HW_EMC_BASEADDR+10)) /* EMC Flash Compact Flash Timer2 Register*/
                             5212 ; 402  |#define HW_FLSMCR    (*(volatile flsmcr_type    _X*) (HW_EMC_BASEADDR+16)) /* EMC Flash SmartMedia Control Register*/
                             5213 ; 403  |#define HW_FLSMTMR1R (*(volatile flsmtmr1r_type _X*) (HW_EMC_BASEADDR+17)) /* EMC Flash SmartMedia Timer1 Register*/
                             5214 ; 404  |#define HW_FLSMTMR2R (*(volatile flsmtmr2r_type _X*) (HW_EMC_BASEADDR+18)) /* EMC Flash SmartMedia Timer2 Register*/
                             5215 ; 405  |#define HW_FLSMSR    (*(volatile flssmsr_type   _X*) (HW_EMC_BASEADDR+19)) /*  */
                             5216 ; 406  |
                             5217 ; 407  |//*********************  REGISTER ALIAS DEFINES TO MATCH LEGACY CODE *******************************
                             5218 ; 408  |// The following defines were added to match regs3410.inc definition to build SDK2XXX code without needing 
                             5219 ; 409  |// to update the actual files. Only the defines needed to build SDK2.400 were added.
                             5220 ; 410  |
                             5221 ; 411  |#define HW_FLC2R HW_EMC_BASEADDR+4
                             5222 ; 412  |
                             5223 ; 413  |#endif
                             5224 ; 414  |
                             5225 
                             5227 
                             5228 ; 22   |#include "regsgpio.h"
                             5229 
                             5231 
                             5232 ; 1    |#if !(defined(__REGS_GPIO_INC))
                             5233 ; 2    |#define __REGS_GPIO_INC 1
                             5234 ; 3    |
                             5235 ; 4    |#include "types.h"
                             5236 
                             5238 
                             5239 ; 1    |////////////////////////////////////////////////////////////////////////////////
                             5240 ; 2    |// Copyright(C) SigmaTel, Inc. 2000-2004
                             5241 ; 3    |//
                             5242 ; 4    |// Filename: types.h
                             5243 ; 5    |// Description: Standard data types
                             5244 ; 6    |////////////////////////////////////////////////////////////////////////////////
                             5245 ; 7    |
                             5246 ; 8    |#ifndef _TYPES_H
                             5247 ; 9    |#define _TYPES_H
                             5248 ; 10   |
                             5249 ; 11   |// TODO:  move this outta here!
                             5250 ; 12   |#if !defined(NOERROR)
                             5251 ; 13   |#define NOERROR 0
                             5252 ; 14   |#define SUCCESS 0
                             5253 ; 15   |#endif 
                             5254 ; 16   |#if !defined(SUCCESS)
                             5255 ; 17   |#define SUCCESS  0
                             5256 ; 18   |#endif
                             5257 ; 19   |#if !defined(ERROR)
                             5258 ; 20   |#define ERROR   -1
                             5259 ; 21   |#endif
                             5260 ; 22   |#if !defined(FALSE)
                             5261 ; 23   |#define FALSE 0
                             5262 ; 24   |#endif
                             5263 ; 25   |#if !defined(TRUE)
                             5264 ; 26   |#define TRUE  1
                             5265 ; 27   |#endif
                             5266 ; 28   |
                             5267 ; 29   |#if !defined(NULL)
                             5268 ; 30   |#define NULL 0
                             5269 ; 31   |#endif
                             5270 ; 32   |
                             5271 ; 33   |#define MAX_INT     0x7FFFFF
                             5272 ; 34   |#define MAX_LONG    0x7FFFFFffffff
                             5273 ; 35   |        // max positive unsigned long value: -1 == 0xFFFFFFffffff
                             5274 ; 36   |#define MAX_ULONG   (-1) 
                             5275 ; 37   |
                             5276 ; 38   |#define WORD_SIZE   24              // word size in bits
                             5277 ; 39   |#define BYTES_PER_WORD 3            // 8 bit bytes
                             5278 ; 40   |
                             5279 ; 41   |
                             5280 ; 42   |#define BYTE    unsigned char       // btVarName
                             5281 ; 43   |#define CHAR    signed char         // cVarName
                             5282 ; 44   |#define USHORT  unsigned short      // usVarName
                             5283 ; 45   |#define SHORT   unsigned short      // sVarName
                             5284 ; 46   |#define WORD    unsigned int        // wVarName
                             5285 ; 47   |#define INT     signed int          // iVarName
                             5286 ; 48   |#define DWORD   unsigned long       // dwVarName
                             5287 ; 49   |#define LONG    signed long         // lVarName
                             5288 ; 50   |#define BOOL    unsigned int        // bVarName
                             5289 ; 51   |#define FRACT   _fract              // frVarName
                             5290 ; 52   |#define LFRACT  long _fract         // lfrVarName
                             5291 ; 53   |#define CIRC    _circ               // cp<type prefix>VarName (see below)
                             5292 ; 54   |#define FLOAT   float               // fVarName
                             5293 ; 55   |#define DBL     double              // dVarName
                             5294 ; 56   |#define ENUM    enum                // eVarName
                             5295 ; 57   |#define CMX     _complex            // cmxVarName
                             5296 ; 58   |typedef WORD UCS3;                   // 
                             5297 ; 59   |
                             5298 ; 60   |#define UINT16  unsigned short
                             5299 ; 61   |#define UINT8   unsigned char   
                             5300 ; 62   |#define UINT32  unsigned long
                             5301 ; 63   |#define UINT64  unsigned long   // need to figure out how to do 64 bit values.  Or port exisiting code to only use 48 bit
                             5302 ; 64   |#define INT64   unsigned long   // need to figure out how to do 64 bit values.  Or port exisiting code to only use 48 bit
                             5303 ; 65   |#define WCHAR   UINT16
                             5304 ; 66   |
                             5305 ; 67   |//UINT128 is 16 bytes or 6 words
                             5306 ; 68   |typedef struct UINT128_3500 {   
                             5307 ; 69   |    int val[6];     
                             5308 ; 70   |} UINT128_3500;
                             5309 ; 71   |
                             5310 ; 72   |#define UINT128   UINT128_3500
                             5311 ; 73   |
                             5312 ; 74   |// Little endian word packed byte strings:   
                             5313 ; 75   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                             5314 ; 76   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                             5315 ; 77   |// Little endian word packed byte strings:   
                             5316 ; 78   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                             5317 ; 79   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                             5318 ; 80   |
                             5319 ; 81   |// Declare Memory Spaces To Use When Coding
                             5320 ; 82   |// A. Sector Buffers
                             5321 ; 83   |#define SECTOR_BUFFER_MEM_X _X
                             5322 ; 84   |#define SECTOR_BUFFER_MEM_Y _Y
                             5323 ; 85   |#define SECTOR_BUFFER_MEM SECTOR_BUFFER_MEM_X
                             5324 ; 86   |typedef WORD SECTOR_BUFFER_MEM SECTOR_BUFFER;
                             5325 ; 87   |typedef SECTOR_BUFFER * P_SECTOR_BUFFER;
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page  22

M:ADDR CODE           CYCLES LINE SOURCELINE
                             5326 ; 88   |// B. Media DDI Memory
                             5327 ; 89   |#define MEDIA_DDI_MEM _Y
                             5328 ; 90   |
                             5329 ; 91   |
                             5330 ; 92   |
                             5331 ; 93   |// Pointers to linear structures are labeled as: p<type prefix>VarName
                             5332 ; 94   |// Examples of circular pointers:
                             5333 ; 95   |//    INT CIRC cpiVarName
                             5334 ; 96   |//    DWORD CIRC cpdwVarName
                             5335 ; 97   |
                             5336 ; 98   |#define RETCODE INT                 // rcVarName
                             5337 ; 99   |
                             5338 ; 100  |// generic bitfield structure
                             5339 ; 101  |struct Bitfield {
                             5340 ; 102  |    unsigned int B0  :1;
                             5341 ; 103  |    unsigned int B1  :1;
                             5342 ; 104  |    unsigned int B2  :1;
                             5343 ; 105  |    unsigned int B3  :1;
                             5344 ; 106  |    unsigned int B4  :1;
                             5345 ; 107  |    unsigned int B5  :1;
                             5346 ; 108  |    unsigned int B6  :1;
                             5347 ; 109  |    unsigned int B7  :1;
                             5348 ; 110  |    unsigned int B8  :1;
                             5349 ; 111  |    unsigned int B9  :1;
                             5350 ; 112  |    unsigned int B10 :1;
                             5351 ; 113  |    unsigned int B11 :1;
                             5352 ; 114  |    unsigned int B12 :1;
                             5353 ; 115  |    unsigned int B13 :1;
                             5354 ; 116  |    unsigned int B14 :1;
                             5355 ; 117  |    unsigned int B15 :1;
                             5356 ; 118  |    unsigned int B16 :1;
                             5357 ; 119  |    unsigned int B17 :1;
                             5358 ; 120  |    unsigned int B18 :1;
                             5359 ; 121  |    unsigned int B19 :1;
                             5360 ; 122  |    unsigned int B20 :1;
                             5361 ; 123  |    unsigned int B21 :1;
                             5362 ; 124  |    unsigned int B22 :1;
                             5363 ; 125  |    unsigned int B23 :1;
                             5364 ; 126  |};
                             5365 ; 127  |
                             5366 ; 128  |union BitInt {
                             5367 ; 129  |        struct Bitfield B;
                             5368 ; 130  |        int        I;
                             5369 ; 131  |};
                             5370 ; 132  |
                             5371 ; 133  |#define MAX_MSG_LENGTH 10
                             5372 ; 134  |struct CMessage
                             5373 ; 135  |{
                             5374 ; 136  |        unsigned int m_uLength;
                             5375 ; 137  |        unsigned int m_uMsg[MAX_MSG_LENGTH];
                             5376 ; 138  |};
                             5377 ; 139  |
                             5378 ; 140  |typedef struct {
                             5379 ; 141  |    WORD m_wLength;
                             5380 ; 142  |    WORD m_wMessage;
                             5381 ; 143  |    WORD m_wParams[MAX_MSG_LENGTH];
                             5382 ; 144  |} Message;
                             5383 ; 145  |
                             5384 ; 146  |struct MessageQueueDescriptor
                             5385 ; 147  |{
                             5386 ; 148  |        int *m_pBase;
                             5387 ; 149  |        int m_iModulo;
                             5388 ; 150  |        int m_iSize;
                             5389 ; 151  |        int *m_pHead;
                             5390 ; 152  |        int *m_pTail;
                             5391 ; 153  |};
                             5392 ; 154  |
                             5393 ; 155  |struct ModuleEntry
                             5394 ; 156  |{
                             5395 ; 157  |    int m_iSignaledEventMask;
                             5396 ; 158  |    int m_iWaitEventMask;
                             5397 ; 159  |    int m_iResourceOfCode;
                             5398 ; 160  |    struct MessageQueueDescriptor *m_pMessageQueue;
                             5399 ; 161  |    int _asmfunc (*m_pProcessEntryPoint)(union WaitMask Signals,struct MessageQueueDescriptor *);
                             5400 ; 162  |    int _asmfunc (*m_pInitFunction)(struct MessageQueueDescriptor *);
                             5401 ; 163  |    int m_uTimeOutHigh;
                             5402 ; 164  |    int m_uTimeOutLow;
                             5403 ; 165  |    int _asmfunc (*m_pBackgroundFunction)(struct MessageQueueDescriptor *);
                             5404 ; 166  |};
                             5405 ; 167  |
                             5406 ; 168  |union WaitMask{
                             5407 ; 169  |    struct B{
                             5408 ; 170  |        unsigned int m_bNone     :1;
                             5409 ; 171  |        unsigned int m_bMessage  :1;
                             5410 ; 172  |        unsigned int m_bTimer    :1;
                             5411 ; 173  |        unsigned int m_bButton   :1;
                             5412 ; 174  |    } B;
                             5413 ; 175  |    int I;
                             5414 ; 176  |} ;
                             5415 ; 177  |
                             5416 ; 178  |
                             5417 ; 179  |struct Button {
                             5418 ; 180  |        WORD wButtonEvent;
                             5419 ; 181  |        WORD wUnused[MAX_MSG_LENGTH];   
                             5420 ; 182  |};
                             5421 ; 183  |
                             5422 ; 184  |struct Message {
                             5423 ; 185  |        WORD wMsgLength;
                             5424 ; 186  |        WORD wMsgCommand;
                             5425 ; 187  |        WORD wMsgParms[MAX_MSG_LENGTH-1];
                             5426 ; 188  |};
                             5427 ; 189  |
                             5428 ; 190  |union EventTypes {
                             5429 ; 191  |        struct CMessage msg;
                             5430 ; 192  |        struct Button Button ;
                             5431 ; 193  |        struct Message Message;
                             5432 ; 194  |};
                             5433 ; 195  |
                             5434 ; 196  |// next 2 used to get updater build to return correct protocol ver in scsi response.
                             5435 ; 197  |#define BUILD_TYPE_UPDATER  0x100
                             5436 ; 198  |#define BUILD_TYPE_HOSTLINK 0x101
                             5437 ; 199  |#define BUILD_TYPE_PLAYER   0x102
                             5438 ; 200  |
                             5439 ; 201  |// Resets part if RETAIL build. DEBUG build executes debug instruction to halt.
                             5440 ; 202  |#define SystemHalt() __asm(" include 'sysmacro.asm' \n error") 
                             5441 ; 203  |#define assert(x)    if(!(x)) __asm(" include 'sysmacro.asm' \n error")
                             5442 ; 204  |
                             5443 ; 205  |#if DEBUG
                             5444 ; 206  |// For DEBUG builds, DebugBuildAssert(condition) halts if condition evaluates to FALSE. 
                             5445 ; 207  |#define DebugBuildAssert(x)    if(!(x)) __asm(" debug ")
                             5446 ; 208  |#else 
                             5447 ; 209  |// For RETAIL builds, DebugBuildAssert(condition) does nothing & execution continues rather than halt or reset. 
                             5448 ; 210  |#define DebugBuildAssert(x)    
                             5449 ; 211  |#endif
                             5450 ; 212  |
                             5451 ; 213  |// Do this in your C files to make a reminder that's displayed during the build.
                             5452 ; 214  |//  #pragma asm
                             5453 ; 215  |//  WARN 'Note to builder: reminder to do this after verifying that'
                             5454 ; 216  |//  #pragma endasm
                             5455 ; 217  |
                             5456 ; 218  |
                             5457 ; 219  |#ifdef COLOR_262K
                             5458 ; 220  |#define RGB(r,g,b)    ((0x0000FC & (r)) << 10) | ((0x0000FC & (g)) << 4) | ((0x0000FC & (b)) >> 2)    //262k
                             5459 ; 221  |#elif defined(COLOR_65K)
                             5460 ; 222  |#define RGB(r,g,b)    ((0x0000F8 & (r)) << 8) | ((0x0000FC & (g)) << 3) | ((0x0000F8 & (b)) >> 3)  //65k
                             5461 ; 223  |#else
                             5462 ; 224  |#define RGB(r,g,b)       ((0x0000F0 & (r)) << 4) | (0x0000F0 & (g)) | ((0x0000F0 & (b)) >> 4)
                             5463 ; 225  |#endif
                             5464 ; 226  |    
                             5465 ; 227  |#endif // #ifndef _TYPES_H
                             5466 
                             5468 
                             5469 ; 5    |
                             5470 ; 6    |/////////////////////////////////////////////////////////////////////////////////
                             5471 ; 7    |//  Interrupt Collector Registers
                             5472 ; 8    |/////////////////////////////////////////////////////////////////////////////////
                             5473 ; 9    |
                             5474 ; 10   |#define HW_GPIO_BASEADDR 0xF400
                             5475 ; 11   |
                             5476 ; 12   |#define HW_GPB0_BASEADDR HW_GPIO_BASEADDR
                             5477 ; 13   |#define HW_GPB1_BASEADDR HW_GPIO_BASEADDR+0x10
                             5478 ; 14   |#define HW_GPB2_BASEADDR HW_GPIO_BASEADDR+0x20
                             5479 ; 15   |#define HW_GPB3_BASEADDR HW_GPIO_BASEADDR+0x30
                             5480 ; 16   |
                             5481 ; 17   |#define HW_GPB0_BLOCKNUM 0
                             5482 ; 18   |#define HW_GPB1_BLOCKNUM 1
                             5483 ; 19   |#define HW_GPB2_BLOCKNUM 2
                             5484 ; 20   |#define HW_GPB3_BLOCKNUM 3
                             5485 ; 21   |
                             5486 ; 22   |#define HW_GPB_GPENR 0
                             5487 ; 23   |#define HW_GPB_GPDOR 1
                             5488 ; 24   |#define HW_GPB_GPDIR 2
                             5489 ; 25   |#define HW_GPB_GPDOER 3
                             5490 ; 26   |#define HW_GPB_GPIPENR 4
                             5491 ; 27   |#define HW_GPB_GPIENR 5
                             5492 ; 28   |#define HW_GPB_GPILVLR 6
                             5493 ; 29   |#define HW_GPB_GPIPOLR 7
                             5494 ; 30   |#define HW_GPB_GPISTATR 8
                             5495 ; 31   |#define HW_GPB_GPPWR 9
                             5496 ; 32   |#define HW_GPB_GP8MA 10
                             5497 ; 33   |
                             5498 ; 34   |
                             5499 ; 35   |
                             5500 ; 36   |/////////////////////////////////////////////////////////////////////////////////
                             5501 ; 37   |//  GPIO Register Bit Positions
                             5502 ; 38   |typedef union               /* GPIO Pin Register Bank 0 */
                             5503 ; 39   |{
                             5504 ; 40   |    struct Bitfield B;      // Bitfield is generic structure B0 - B23 in types.h
                             5505 ; 41   |    unsigned int I;
                             5506 ; 42   |    unsigned int U;
                             5507 ; 43   |} gpr_type;
                             5508 ; 44   |
                             5509 ; 45   |#define HW_GP_B0_BITPOS 0
                             5510 ; 46   |#define HW_GP_B1_BITPOS 1
                             5511 ; 47   |#define HW_GP_B2_BITPOS 2
                             5512 ; 48   |#define HW_GP_B3_BITPOS 3
                             5513 ; 49   |#define HW_GP_B4_BITPOS 4
                             5514 ; 50   |#define HW_GP_B5_BITPOS 5
                             5515 ; 51   |#define HW_GP_B6_BITPOS 6
                             5516 ; 52   |#define HW_GP_B7_BITPOS 7
                             5517 ; 53   |#define HW_GP_B8_BITPOS 8
                             5518 ; 54   |#define HW_GP_B9_BITPOS 9
                             5519 ; 55   |#define HW_GP_B10_BITPOS 10
                             5520 ; 56   |#define HW_GP_B11_BITPOS 11
                             5521 ; 57   |#define HW_GP_B12_BITPOS 12
                             5522 ; 58   |#define HW_GP_B13_BITPOS 13
                             5523 ; 59   |#define HW_GP_B14_BITPOS 14
                             5524 ; 60   |#define HW_GP_B15_BITPOS 15
                             5525 ; 61   |#define HW_GP_B16_BITPOS 16
                             5526 ; 62   |#define HW_GP_B17_BITPOS 17
                             5527 ; 63   |#define HW_GP_B18_BITPOS 18
                             5528 ; 64   |#define HW_GP_B19_BITPOS 19
                             5529 ; 65   |#define HW_GP_B20_BITPOS 20
                             5530 ; 66   |#define HW_GP_B21_BITPOS 21
                             5531 ; 67   |#define HW_GP_B22_BITPOS 22
                             5532 ; 68   |#define HW_GP_B23_BITPOS 23
                             5533 ; 69   |
                             5534 ; 70   |#define HW_GP_B0_SETMASK (1<<HW_GP_B0_BITPOS)
                             5535 ; 71   |#define HW_GP_B1_SETMASK (1<<HW_GP_B1_BITPOS)
                             5536 ; 72   |#define HW_GP_B2_SETMASK (1<<HW_GP_B2_BITPOS)
                             5537 ; 73   |#define HW_GP_B3_SETMASK (1<<HW_GP_B3_BITPOS)
                             5538 ; 74   |#define HW_GP_B4_SETMASK (1<<HW_GP_B4_BITPOS)
                             5539 ; 75   |#define HW_GP_B5_SETMASK (1<<HW_GP_B5_BITPOS)
                             5540 ; 76   |#define HW_GP_B6_SETMASK (1<<HW_GP_B6_BITPOS)
                             5541 ; 77   |#define HW_GP_B7_SETMASK (1<<HW_GP_B7_BITPOS)
                             5542 ; 78   |#define HW_GP_B8_SETMASK (1<<HW_GP_B8_BITPOS)
                             5543 ; 79   |#define HW_GP_B9_SETMASK (1<<HW_GP_B9_BITPOS)
                             5544 ; 80   |#define HW_GP_B10_SETMASK (1<<HW_GP_B10_BITPOS)
                             5545 ; 81   |#define HW_GP_B11_SETMASK (1<<HW_GP_B11_BITPOS)
                             5546 ; 82   |#define HW_GP_B12_SETMASK (1<<HW_GP_B12_BITPOS)
                             5547 ; 83   |#define HW_GP_B13_SETMASK (1<<HW_GP_B13_BITPOS)
                             5548 ; 84   |#define HW_GP_B14_SETMASK (1<<HW_GP_B14_BITPOS)
                             5549 ; 85   |#define HW_GP_B15_SETMASK (1<<HW_GP_B15_BITPOS)
                             5550 ; 86   |#define HW_GP_B16_SETMASK (1<<HW_GP_B16_BITPOS)
                             5551 ; 87   |#define HW_GP_B17_SETMASK (1<<HW_GP_B17_BITPOS)
                             5552 ; 88   |#define HW_GP_B18_SETMASK (1<<HW_GP_B18_BITPOS)
                             5553 ; 89   |#define HW_GP_B19_SETMASK (1<<HW_GP_B19_BITPOS)
                             5554 ; 90   |#define HW_GP_B20_SETMASK (1<<HW_GP_B20_BITPOS)
                             5555 ; 91   |#define HW_GP_B21_SETMASK (1<<HW_GP_B21_BITPOS)
                             5556 ; 92   |#define HW_GP_B22_SETMASK (1<<HW_GP_B22_BITPOS)
                             5557 ; 93   |#define HW_GP_B23_SETMASK (1<<HW_GP_B23_BITPOS)
                             5558 ; 94   |
                             5559 ; 95   |#define HW_GP_B0_CLRMASK (~(WORD)HW_GP_B0_SETMASK)
                             5560 ; 96   |#define HW_GP_B1_CLRMASK (~(WORD)HW_GP_B1_SETMASK)
                             5561 ; 97   |#define HW_GP_B2_CLRMASK (~(WORD)HW_GP_B2_SETMASK)
                             5562 ; 98   |#define HW_GP_B3_CLRMASK (~(WORD)HW_GP_B3_SETMASK)
                             5563 ; 99   |#define HW_GP_B4_CLRMASK (~(WORD)HW_GP_B4_SETMASK)
                             5564 ; 100  |#define HW_GP_B5_CLRMASK (~(WORD)HW_GP_B5_SETMASK)
                             5565 ; 101  |#define HW_GP_B6_CLRMASK (~(WORD)HW_GP_B6_SETMASK)
                             5566 ; 102  |#define HW_GP_B7_CLRMASK (~(WORD)HW_GP_B7_SETMASK)
                             5567 ; 103  |#define HW_GP_B8_CLRMASK (~(WORD)HW_GP_B8_SETMASK)
                             5568 ; 104  |#define HW_GP_B9_CLRMASK (~(WORD)HW_GP_B9_SETMASK)
                             5569 ; 105  |#define HW_GP_B10_CLRMASK (~(WORD)HW_GP_B10_SETMASK)
                             5570 ; 106  |#define HW_GP_B11_CLRMASK (~(WORD)HW_GP_B11_SETMASK)
                             5571 ; 107  |#define HW_GP_B12_CLRMASK (~(WORD)HW_GP_B12_SETMASK)
                             5572 ; 108  |#define HW_GP_B13_CLRMASK (~(WORD)HW_GP_B13_SETMASK)
                             5573 ; 109  |#define HW_GP_B14_CLRMASK (~(WORD)HW_GP_B14_SETMASK)
                             5574 ; 110  |#define HW_GP_B15_CLRMASK (~(WORD)HW_GP_B15_SETMASK)
                             5575 ; 111  |#define HW_GP_B16_CLRMASK (~(WORD)HW_GP_B16_SETMASK)
                             5576 ; 112  |#define HW_GP_B17_CLRMASK (~(WORD)HW_GP_B17_SETMASK)
                             5577 ; 113  |#define HW_GP_B18_CLRMASK (~(WORD)HW_GP_B18_SETMASK)
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page  23

M:ADDR CODE           CYCLES LINE SOURCELINE
                             5578 ; 114  |#define HW_GP_B19_CLRMASK (~(WORD)HW_GP_B19_SETMASK)
                             5579 ; 115  |#define HW_GP_B20_CLRMASK (~(WORD)HW_GP_B20_SETMASK)
                             5580 ; 116  |#define HW_GP_B21_CLRMASK (~(WORD)HW_GP_B21_SETMASK)
                             5581 ; 117  |#define HW_GP_B22_CLRMASK (~(WORD)HW_GP_B22_SETMASK)
                             5582 ; 118  |#define HW_GP_B23_CLRMASK (~(WORD)HW_GP_B23_SETMASK)
                             5583 ; 119  |
                             5584 ; 120  |/////////////////////////////////////////////////////////////////////////////////
                             5585 ; 121  |//  GPIO 8mA Register Bit Positions
                             5586 ; 122  |#define HW_GP8MA_B7_B0_BITPOS 0
                             5587 ; 123  |#define HW_GP8MA_B15_B8_BITPOS 1
                             5588 ; 124  |#define HW_GP8MA_B23_B16_BITPOS 2
                             5589 ; 125  |#define HW_GP8MA_CLK_GATE_BITPOS 23
                             5590 ; 126  |
                             5591 ; 127  |
                             5592 ; 128  |/////////////////////////////////////////////////////////////////////////////////
                             5593 ; 129  |//  Logical GPIO numbers
                             5594 ; 130  |#define HW_GPIO_000 0
                             5595 ; 131  |#define HW_GPIO_001 1
                             5596 ; 132  |#define HW_GPIO_002 2
                             5597 ; 133  |#define HW_GPIO_003 3
                             5598 ; 134  |#define HW_GPIO_004 4
                             5599 ; 135  |#define HW_GPIO_005 5
                             5600 ; 136  |#define HW_GPIO_006 6
                             5601 ; 137  |#define HW_GPIO_007 7
                             5602 ; 138  |#define HW_GPIO_008 8
                             5603 ; 139  |#define HW_GPIO_009 9
                             5604 ; 140  |#define HW_GPIO_010 10
                             5605 ; 141  |#define HW_GPIO_011 11
                             5606 ; 142  |#define HW_GPIO_012 12
                             5607 ; 143  |#define HW_GPIO_013 13
                             5608 ; 144  |#define HW_GPIO_014 14
                             5609 ; 145  |#define HW_GPIO_015 15
                             5610 ; 146  |#define HW_GPIO_016 16
                             5611 ; 147  |#define HW_GPIO_017 17
                             5612 ; 148  |#define HW_GPIO_018 18
                             5613 ; 149  |#define HW_GPIO_019 19
                             5614 ; 150  |#define HW_GPIO_020 20
                             5615 ; 151  |#define HW_GPIO_021 21
                             5616 ; 152  |#define HW_GPIO_022 22
                             5617 ; 153  |#define HW_GPIO_023 23
                             5618 ; 154  |#define HW_GPIO_024 24
                             5619 ; 155  |#define HW_GPIO_025 25
                             5620 ; 156  |#define HW_GPIO_026 26
                             5621 ; 157  |#define HW_GPIO_027 27
                             5622 ; 158  |#define HW_GPIO_028 28
                             5623 ; 159  |#define HW_GPIO_029 29
                             5624 ; 160  |#define HW_GPIO_030 30
                             5625 ; 161  |#define HW_GPIO_031 31
                             5626 ; 162  |#define HW_GPIO_032 32
                             5627 ; 163  |#define HW_GPIO_033 33
                             5628 ; 164  |#define HW_GPIO_034 34
                             5629 ; 165  |#define HW_GPIO_035 35
                             5630 ; 166  |#define HW_GPIO_036 36
                             5631 ; 167  |#define HW_GPIO_037 37
                             5632 ; 168  |#define HW_GPIO_038 38
                             5633 ; 169  |#define HW_GPIO_039 39
                             5634 ; 170  |#define HW_GPIO_040 40
                             5635 ; 171  |#define HW_GPIO_041 41
                             5636 ; 172  |#define HW_GPIO_042 42
                             5637 ; 173  |#define HW_GPIO_043 43
                             5638 ; 174  |#define HW_GPIO_044 44
                             5639 ; 175  |#define HW_GPIO_045 45
                             5640 ; 176  |#define HW_GPIO_046 46
                             5641 ; 177  |#define HW_GPIO_047 47
                             5642 ; 178  |#define HW_GPIO_048 48
                             5643 ; 179  |#define HW_GPIO_049 49
                             5644 ; 180  |#define HW_GPIO_050 50
                             5645 ; 181  |#define HW_GPIO_051 51
                             5646 ; 182  |#define HW_GPIO_052 52
                             5647 ; 183  |#define HW_GPIO_053 53
                             5648 ; 184  |#define HW_GPIO_054 54
                             5649 ; 185  |#define HW_GPIO_055 55
                             5650 ; 186  |#define HW_GPIO_056 56
                             5651 ; 187  |#define HW_GPIO_057 57
                             5652 ; 188  |#define HW_GPIO_058 58
                             5653 ; 189  |#define HW_GPIO_059 59
                             5654 ; 190  |#define HW_GPIO_060 60
                             5655 ; 191  |#define HW_GPIO_061 61
                             5656 ; 192  |#define HW_GPIO_062 62
                             5657 ; 193  |#define HW_GPIO_063 63
                             5658 ; 194  |#define HW_GPIO_064 64
                             5659 ; 195  |#define HW_GPIO_065 65
                             5660 ; 196  |#define HW_GPIO_066 66
                             5661 ; 197  |#define HW_GPIO_067 67
                             5662 ; 198  |#define HW_GPIO_068 68
                             5663 ; 199  |#define HW_GPIO_069 69
                             5664 ; 200  |#define HW_GPIO_070 70
                             5665 ; 201  |#define HW_GPIO_071 71
                             5666 ; 202  |#define HW_GPIO_072 72
                             5667 ; 203  |#define HW_GPIO_073 73
                             5668 ; 204  |#define HW_GPIO_074 74
                             5669 ; 205  |#define HW_GPIO_075 75
                             5670 ; 206  |#define HW_GPIO_076 76
                             5671 ; 207  |#define HW_GPIO_077 77
                             5672 ; 208  |#define HW_GPIO_078 78
                             5673 ; 209  |#define HW_GPIO_079 79
                             5674 ; 210  |#define HW_GPIO_080 80
                             5675 ; 211  |#define HW_GPIO_081 81
                             5676 ; 212  |#define HW_GPIO_082 82
                             5677 ; 213  |#define HW_GPIO_083 83
                             5678 ; 214  |#define HW_GPIO_084 84
                             5679 ; 215  |#define HW_GPIO_085 85
                             5680 ; 216  |#define HW_GPIO_086 86
                             5681 ; 217  |#define HW_GPIO_087 87
                             5682 ; 218  |#define HW_GPIO_088 88
                             5683 ; 219  |#define HW_GPIO_089 89
                             5684 ; 220  |#define HW_GPIO_090 90
                             5685 ; 221  |#define HW_GPIO_091 91
                             5686 ; 222  |#define HW_GPIO_092 92
                             5687 ; 223  |#define HW_GPIO_093 93
                             5688 ; 224  |#define HW_GPIO_094 94
                             5689 ; 225  |#define HW_GPIO_095 95
                             5690 ; 226  |#define HW_GPIO_LAST HW_GPIO_095
                             5691 ; 227  |
                             5692 ; 228  |#define HW_GP0ENR      (*(volatile gpr_type _X*) (HW_GPB0_BASEADDR+HW_GPB_GPENR))  /* GPIO 0 Enable Register   */
                             5693 ; 229  |#define HW_GP0DOR      (*(volatile gpr_type _X*) (HW_GPB0_BASEADDR+HW_GPB_GPDOR)) /* GPIO 0 Data Out Register */
                             5694 ; 230  |#define HW_GP0DIR      (*(volatile gpr_type _X*) (HW_GPB0_BASEADDR+HW_GPB_GPDIR)) /* GPIO 0 Dait In Register  */
                             5695 ; 231  |#define HW_GP0DOER     (*(volatile gpr_type _X*) (HW_GPB0_BASEADDR+HW_GPB_GPDOER)) /* GPIO 0 Dait Out Enable Register  */
                             5696 ; 232  |#define HW_GP0IPENR    (*(volatile gpr_type _X*) (HW_GPB0_BASEADDR+HW_GPB_GPIPENR)) /* GPIO 0 Interrupt Pin Enable Register */
                             5697 ; 233  |#define HW_GP0IENR     (*(volatile gpr_type _X*) (HW_GPB0_BASEADDR+HW_GPB_GPIENR)) /* GPIO 0 Interrupt Enable Register */
                             5698 ; 234  |#define HW_GP0ILVLR    (*(volatile gpr_type _X*) (HW_GPB0_BASEADDR+HW_GPB_GPILVLR)) /* GPIO 0 Interrupt Level Register  */
                             5699 ; 235  |#define HW_GP0IPOLR    (*(volatile gpr_type _X*) (HW_GPB0_BASEADDR+HW_GPB_GPIPOLR)) /* GPIO 0 Interrupt Polarity Register   */
                             5700 ; 236  |#define HW_GP0ISTATR   (*(volatile gpr_type _X*) (HW_GPB0_BASEADDR+HW_GPB_GPISTATR)) /* GPIO 0 Interrupt Status Register */
                             5701 ; 237  |#define HW_GP0PWR      (*(volatile gpr_type _X*) (HW_GPB0_BASEADDR+HW_GPB_GPPWR)) /* GPIO 0 Power Register */
                             5702 ; 238  |#define HW_GP08MA      (*(volatile gpr_type _X*) (HW_GPB0_BASEADDR+HW_GPB_GP8MA)) 
                             5703 ; 239  |#define HW_GP1ENR      (*(volatile gpr_type _X*) (HW_GPB1_BASEADDR+HW_GPB_GPENR))     /* GPIO 1 Enable Register   */
                             5704 ; 240  |#define HW_GP1DOR      (*(volatile gpr_type _X*) (HW_GPB1_BASEADDR+HW_GPB_GPDOR)) /* GPIO 1 Data Out Register */
                             5705 ; 241  |#define HW_GP1DIR      (*(volatile gpr_type _X*) (HW_GPB1_BASEADDR+HW_GPB_GPDIR)) /* GPIO 1 Dait In Register  */
                             5706 ; 242  |#define HW_GP1DOER     (*(volatile gpr_type _X*) (HW_GPB1_BASEADDR+HW_GPB_GPDOER)) /* GPIO 1 Dait Out Enable Register  */
                             5707 ; 243  |#define HW_GP1IPENR    (*(volatile gpr_type _X*) (HW_GPB1_BASEADDR+HW_GPB_GPIPENR)) /* GPIO 1 Interrupt Pin Enable Register */
                             5708 ; 244  |#define HW_GP1IENR     (*(volatile gpr_type _X*) (HW_GPB1_BASEADDR+HW_GPB_GPIENR)) /* GPIO 1 Interrupt Enable Register */
                             5709 ; 245  |#define HW_GP1ILVLR    (*(volatile gpr_type _X*) (HW_GPB1_BASEADDR+HW_GPB_GPILVLR)) /* GPIO 1 Interrupt Level Register  */
                             5710 ; 246  |#define HW_GP1IPOLR    (*(volatile gpr_type _X*) (HW_GPB1_BASEADDR+HW_GPB_GPIPOLR)) /* GPIO 1 Interrupt Polarity Register   */
                             5711 ; 247  |#define HW_GP1ISTATR   (*(volatile gpr_type _X*) (HW_GPB1_BASEADDR+HW_GPB_GPISTATR)) /* GPIO 1 Interrupt Status Register */
                             5712 ; 248  |#define HW_GP1PWR      (*(volatile gpr_type _X*) (HW_GPB1_BASEADDR+HW_GPB_GPPWR)) /* GPIO 0 Power Register */
                             5713 ; 249  |#define HW_GP18MA      (*(volatile gpr_type _X*) (HW_GPB1_BASEADDR+HW_GPB_GP8MA)) 
                             5714 ; 250  |#define HW_GP2ENR      (*(volatile gpr_type _X*) (HW_GPB2_BASEADDR+HW_GPB_GPENR))     /* GPIO 2 Enable Register   */
                             5715 ; 251  |#define HW_GP2DOR      (*(volatile gpr_type _X*) (HW_GPB2_BASEADDR+HW_GPB_GPDOR)) /* GPIO 2 Data Out Register */
                             5716 ; 252  |#define HW_GP2DIR      (*(volatile gpr_type _X*) (HW_GPB2_BASEADDR+HW_GPB_GPDIR)) /* GPIO 2 Dait In Register  */
                             5717 ; 253  |#define HW_GP2DOER     (*(volatile gpr_type _X*) (HW_GPB2_BASEADDR+HW_GPB_GPDOER)) /* GPIO 2 Dait Out Enable Register  */
                             5718 ; 254  |#define HW_GP2IPENR    (*(volatile gpr_type _X*) (HW_GPB2_BASEADDR+HW_GPB_GPIPENR)) /* GPIO 2 Interrupt Pin Enable Register */
                             5719 ; 255  |#define HW_GP2IENR     (*(volatile gpr_type _X*) (HW_GPB2_BASEADDR+HW_GPB_GPIENR)) /* GPIO 2 Interrupt Enable Register */
                             5720 ; 256  |#define HW_GP2ILVLR    (*(volatile gpr_type _X*) (HW_GPB2_BASEADDR+HW_GPB_GPILVLR)) /* GPIO 2 Interrupt Level Register  */
                             5721 ; 257  |#define HW_GP2IPOLR    (*(volatile gpr_type _X*) (HW_GPB2_BASEADDR+HW_GPB_GPIPOLR)) /* GPIO 2 Interrupt Polarity Register   */
                             5722 ; 258  |#define HW_GP2ISTATR   (*(volatile gpr_type _X*) (HW_GPB2_BASEADDR+HW_GPB_GPISTATR)) /* GPIO 2 Interrupt Status Register */
                             5723 ; 259  |#define HW_GP2PWR      (*(volatile gpr_type _X*) (HW_GPB2_BASEADDR+HW_GPB_GPPWR)) /* GPIO 0 Power Register */
                             5724 ; 260  |#define HW_GP28MA      (*(volatile gpr_type _X*) (HW_GPB2_BASEADDR+HW_GPB_GP8MA)) 
                             5725 ; 261  |#define HW_GP3ENR      (*(volatile gpr_type _X*) (HW_GPB3_BASEADDR+HW_GPB_GPENR))     /* GPIO 2 Enable Register   */
                             5726 ; 262  |#define HW_GP3DOR      (*(volatile gpr_type _X*) (HW_GPB3_BASEADDR+HW_GPB_GPDOR)) /* GPIO 2 Data Out Register */
                             5727 ; 263  |#define HW_GP3DIR      (*(volatile gpr_type _X*) (HW_GPB3_BASEADDR+HW_GPB_GPDIR)) /* GPIO 2 Dait In Register  */
                             5728 ; 264  |#define HW_GP3DOER     (*(volatile gpr_type _X*) (HW_GPB3_BASEADDR+HW_GPB_GPDOER)) /* GPIO 2 Dait Out Enable Register  */
                             5729 ; 265  |#define HW_GP3IPENR    (*(volatile gpr_type _X*) (HW_GPB3_BASEADDR+HW_GPB_GPIPENR)) /* GPIO 2 Interrupt Pin Enable Register */
                             5730 ; 266  |#define HW_GP3IENR     (*(volatile gpr_type _X*) (HW_GPB3_BASEADDR+HW_GPB_GPIENR)) /* GPIO 2 Interrupt Enable Register */
                             5731 ; 267  |#define HW_GP3ILVLR    (*(volatile gpr_type _X*) (HW_GPB3_BASEADDR+HW_GPB_GPILVLR)) /* GPIO 2 Interrupt Level Register  */
                             5732 ; 268  |#define HW_GP3IPOLR    (*(volatile gpr_type _X*) (HW_GPB3_BASEADDR+HW_GPB_GPIPOLR)) /* GPIO 2 Interrupt Polarity Register   */
                             5733 ; 269  |#define HW_GP3ISTATR   (*(volatile gpr_type _X*) (HW_GPB3_BASEADDR+HW_GPB_GPISTATR)) /* GPIO 2 Interrupt Status Register */
                             5734 ; 270  |#define HW_GP3PWR      (*(volatile gpr_type _X*) (HW_GPB3_BASEADDR+HW_GPB_GPPWR)) /* GPIO 0 Power Register */
                             5735 ; 271  |#define HW_GP38MA      (*(volatile gpr_type _X*) (HW_GPB3_BASEADDR+HW_GPB_GP8MA)) 
                             5736 ; 272  |
                             5737 ; 273  |#endif
                             5738 ; 274  |
                             5739 
                             5741 
                             5742 ; 23   |#include "regsi2c.h"
                             5743 
                             5745 
                             5746 ; 1    |/////////////////////////////////////////////////////////////////////////////////
                             5747 ; 2    |// Copyright(C) SigmaTel, Inc. 2000-2003
                             5748 ; 3    |// Filename: regsI2C.inc
                             5749 ; 4    |// Description: Register definitions for GPFLASH interface
                             5750 ; 5    |/////////////////////////////////////////////////////////////////////////////////
                             5751 ; 6    |// The following naming conventions are followed in this file.
                             5752 ; 7    |// All registers are named using the format...
                             5753 ; 8    |//     HW_<module>_<regname>
                             5754 ; 9    |// where <module> is the module name which can be any of the following...
                             5755 ; 10   |//     USB20
                             5756 ; 11   |// (Note that when there is more than one copy of a particular module, the
                             5757 ; 12   |// module name includes a number starting from 0 for the first instance of
                             5758 ; 13   |// that module)
                             5759 ; 14   |// <regname> is the specific register within that module
                             5760 ; 15   |// We also define the following...
                             5761 ; 16   |//     HW_<module>_<regname>_BITPOS
                             5762 ; 17   |// which defines the starting bit (i.e. LSB) of a multi bit field
                             5763 ; 18   |//     HW_<module>_<regname>_SETMASK
                             5764 ; 19   |// which does something else, and
                             5765 ; 20   |//     HW_<module>_<regname>_CLRMASK
                             5766 ; 21   |// which does something else.
                             5767 ; 22   |// Other rules
                             5768 ; 23   |//     All caps
                             5769 ; 24   |//     Numeric identifiers start at 0
                             5770 ; 25   |#if !(defined(regsi2cinc))
                             5771 ; 26   |#define regsi2cinc 1
                             5772 ; 27   |
                             5773 ; 28   |#include "types.h"
                             5774 
                             5776 
                             5777 ; 1    |////////////////////////////////////////////////////////////////////////////////
                             5778 ; 2    |// Copyright(C) SigmaTel, Inc. 2000-2004
                             5779 ; 3    |//
                             5780 ; 4    |// Filename: types.h
                             5781 ; 5    |// Description: Standard data types
                             5782 ; 6    |////////////////////////////////////////////////////////////////////////////////
                             5783 ; 7    |
                             5784 ; 8    |#ifndef _TYPES_H
                             5785 ; 9    |#define _TYPES_H
                             5786 ; 10   |
                             5787 ; 11   |// TODO:  move this outta here!
                             5788 ; 12   |#if !defined(NOERROR)
                             5789 ; 13   |#define NOERROR 0
                             5790 ; 14   |#define SUCCESS 0
                             5791 ; 15   |#endif 
                             5792 ; 16   |#if !defined(SUCCESS)
                             5793 ; 17   |#define SUCCESS  0
                             5794 ; 18   |#endif
                             5795 ; 19   |#if !defined(ERROR)
                             5796 ; 20   |#define ERROR   -1
                             5797 ; 21   |#endif
                             5798 ; 22   |#if !defined(FALSE)
                             5799 ; 23   |#define FALSE 0
                             5800 ; 24   |#endif
                             5801 ; 25   |#if !defined(TRUE)
                             5802 ; 26   |#define TRUE  1
                             5803 ; 27   |#endif
                             5804 ; 28   |
                             5805 ; 29   |#if !defined(NULL)
                             5806 ; 30   |#define NULL 0
                             5807 ; 31   |#endif
                             5808 ; 32   |
                             5809 ; 33   |#define MAX_INT     0x7FFFFF
                             5810 ; 34   |#define MAX_LONG    0x7FFFFFffffff
                             5811 ; 35   |        // max positive unsigned long value: -1 == 0xFFFFFFffffff
                             5812 ; 36   |#define MAX_ULONG   (-1) 
                             5813 ; 37   |
                             5814 ; 38   |#define WORD_SIZE   24              // word size in bits
                             5815 ; 39   |#define BYTES_PER_WORD 3            // 8 bit bytes
                             5816 ; 40   |
                             5817 ; 41   |
                             5818 ; 42   |#define BYTE    unsigned char       // btVarName
                             5819 ; 43   |#define CHAR    signed char         // cVarName
                             5820 ; 44   |#define USHORT  unsigned short      // usVarName
                             5821 ; 45   |#define SHORT   unsigned short      // sVarName
                             5822 ; 46   |#define WORD    unsigned int        // wVarName
                             5823 ; 47   |#define INT     signed int          // iVarName
                             5824 ; 48   |#define DWORD   unsigned long       // dwVarName
                             5825 ; 49   |#define LONG    signed long         // lVarName
                             5826 ; 50   |#define BOOL    unsigned int        // bVarName
                             5827 ; 51   |#define FRACT   _fract              // frVarName
                             5828 ; 52   |#define LFRACT  long _fract         // lfrVarName
                             5829 ; 53   |#define CIRC    _circ               // cp<type prefix>VarName (see below)
                             5830 ; 54   |#define FLOAT   float               // fVarName
                             5831 ; 55   |#define DBL     double              // dVarName
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page  24

M:ADDR CODE           CYCLES LINE SOURCELINE
                             5832 ; 56   |#define ENUM    enum                // eVarName
                             5833 ; 57   |#define CMX     _complex            // cmxVarName
                             5834 ; 58   |typedef WORD UCS3;                   // 
                             5835 ; 59   |
                             5836 ; 60   |#define UINT16  unsigned short
                             5837 ; 61   |#define UINT8   unsigned char   
                             5838 ; 62   |#define UINT32  unsigned long
                             5839 ; 63   |#define UINT64  unsigned long   // need to figure out how to do 64 bit values.  Or port exisiting code to only use 48 bit
                             5840 ; 64   |#define INT64   unsigned long   // need to figure out how to do 64 bit values.  Or port exisiting code to only use 48 bit
                             5841 ; 65   |#define WCHAR   UINT16
                             5842 ; 66   |
                             5843 ; 67   |//UINT128 is 16 bytes or 6 words
                             5844 ; 68   |typedef struct UINT128_3500 {   
                             5845 ; 69   |    int val[6];     
                             5846 ; 70   |} UINT128_3500;
                             5847 ; 71   |
                             5848 ; 72   |#define UINT128   UINT128_3500
                             5849 ; 73   |
                             5850 ; 74   |// Little endian word packed byte strings:   
                             5851 ; 75   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                             5852 ; 76   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                             5853 ; 77   |// Little endian word packed byte strings:   
                             5854 ; 78   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                             5855 ; 79   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                             5856 ; 80   |
                             5857 ; 81   |// Declare Memory Spaces To Use When Coding
                             5858 ; 82   |// A. Sector Buffers
                             5859 ; 83   |#define SECTOR_BUFFER_MEM_X _X
                             5860 ; 84   |#define SECTOR_BUFFER_MEM_Y _Y
                             5861 ; 85   |#define SECTOR_BUFFER_MEM SECTOR_BUFFER_MEM_X
                             5862 ; 86   |typedef WORD SECTOR_BUFFER_MEM SECTOR_BUFFER;
                             5863 ; 87   |typedef SECTOR_BUFFER * P_SECTOR_BUFFER;
                             5864 ; 88   |// B. Media DDI Memory
                             5865 ; 89   |#define MEDIA_DDI_MEM _Y
                             5866 ; 90   |
                             5867 ; 91   |
                             5868 ; 92   |
                             5869 ; 93   |// Pointers to linear structures are labeled as: p<type prefix>VarName
                             5870 ; 94   |// Examples of circular pointers:
                             5871 ; 95   |//    INT CIRC cpiVarName
                             5872 ; 96   |//    DWORD CIRC cpdwVarName
                             5873 ; 97   |
                             5874 ; 98   |#define RETCODE INT                 // rcVarName
                             5875 ; 99   |
                             5876 ; 100  |// generic bitfield structure
                             5877 ; 101  |struct Bitfield {
                             5878 ; 102  |    unsigned int B0  :1;
                             5879 ; 103  |    unsigned int B1  :1;
                             5880 ; 104  |    unsigned int B2  :1;
                             5881 ; 105  |    unsigned int B3  :1;
                             5882 ; 106  |    unsigned int B4  :1;
                             5883 ; 107  |    unsigned int B5  :1;
                             5884 ; 108  |    unsigned int B6  :1;
                             5885 ; 109  |    unsigned int B7  :1;
                             5886 ; 110  |    unsigned int B8  :1;
                             5887 ; 111  |    unsigned int B9  :1;
                             5888 ; 112  |    unsigned int B10 :1;
                             5889 ; 113  |    unsigned int B11 :1;
                             5890 ; 114  |    unsigned int B12 :1;
                             5891 ; 115  |    unsigned int B13 :1;
                             5892 ; 116  |    unsigned int B14 :1;
                             5893 ; 117  |    unsigned int B15 :1;
                             5894 ; 118  |    unsigned int B16 :1;
                             5895 ; 119  |    unsigned int B17 :1;
                             5896 ; 120  |    unsigned int B18 :1;
                             5897 ; 121  |    unsigned int B19 :1;
                             5898 ; 122  |    unsigned int B20 :1;
                             5899 ; 123  |    unsigned int B21 :1;
                             5900 ; 124  |    unsigned int B22 :1;
                             5901 ; 125  |    unsigned int B23 :1;
                             5902 ; 126  |};
                             5903 ; 127  |
                             5904 ; 128  |union BitInt {
                             5905 ; 129  |        struct Bitfield B;
                             5906 ; 130  |        int        I;
                             5907 ; 131  |};
                             5908 ; 132  |
                             5909 ; 133  |#define MAX_MSG_LENGTH 10
                             5910 ; 134  |struct CMessage
                             5911 ; 135  |{
                             5912 ; 136  |        unsigned int m_uLength;
                             5913 ; 137  |        unsigned int m_uMsg[MAX_MSG_LENGTH];
                             5914 ; 138  |};
                             5915 ; 139  |
                             5916 ; 140  |typedef struct {
                             5917 ; 141  |    WORD m_wLength;
                             5918 ; 142  |    WORD m_wMessage;
                             5919 ; 143  |    WORD m_wParams[MAX_MSG_LENGTH];
                             5920 ; 144  |} Message;
                             5921 ; 145  |
                             5922 ; 146  |struct MessageQueueDescriptor
                             5923 ; 147  |{
                             5924 ; 148  |        int *m_pBase;
                             5925 ; 149  |        int m_iModulo;
                             5926 ; 150  |        int m_iSize;
                             5927 ; 151  |        int *m_pHead;
                             5928 ; 152  |        int *m_pTail;
                             5929 ; 153  |};
                             5930 ; 154  |
                             5931 ; 155  |struct ModuleEntry
                             5932 ; 156  |{
                             5933 ; 157  |    int m_iSignaledEventMask;
                             5934 ; 158  |    int m_iWaitEventMask;
                             5935 ; 159  |    int m_iResourceOfCode;
                             5936 ; 160  |    struct MessageQueueDescriptor *m_pMessageQueue;
                             5937 ; 161  |    int _asmfunc (*m_pProcessEntryPoint)(union WaitMask Signals,struct MessageQueueDescriptor *);
                             5938 ; 162  |    int _asmfunc (*m_pInitFunction)(struct MessageQueueDescriptor *);
                             5939 ; 163  |    int m_uTimeOutHigh;
                             5940 ; 164  |    int m_uTimeOutLow;
                             5941 ; 165  |    int _asmfunc (*m_pBackgroundFunction)(struct MessageQueueDescriptor *);
                             5942 ; 166  |};
                             5943 ; 167  |
                             5944 ; 168  |union WaitMask{
                             5945 ; 169  |    struct B{
                             5946 ; 170  |        unsigned int m_bNone     :1;
                             5947 ; 171  |        unsigned int m_bMessage  :1;
                             5948 ; 172  |        unsigned int m_bTimer    :1;
                             5949 ; 173  |        unsigned int m_bButton   :1;
                             5950 ; 174  |    } B;
                             5951 ; 175  |    int I;
                             5952 ; 176  |} ;
                             5953 ; 177  |
                             5954 ; 178  |
                             5955 ; 179  |struct Button {
                             5956 ; 180  |        WORD wButtonEvent;
                             5957 ; 181  |        WORD wUnused[MAX_MSG_LENGTH];   
                             5958 ; 182  |};
                             5959 ; 183  |
                             5960 ; 184  |struct Message {
                             5961 ; 185  |        WORD wMsgLength;
                             5962 ; 186  |        WORD wMsgCommand;
                             5963 ; 187  |        WORD wMsgParms[MAX_MSG_LENGTH-1];
                             5964 ; 188  |};
                             5965 ; 189  |
                             5966 ; 190  |union EventTypes {
                             5967 ; 191  |        struct CMessage msg;
                             5968 ; 192  |        struct Button Button ;
                             5969 ; 193  |        struct Message Message;
                             5970 ; 194  |};
                             5971 ; 195  |
                             5972 ; 196  |// next 2 used to get updater build to return correct protocol ver in scsi response.
                             5973 ; 197  |#define BUILD_TYPE_UPDATER  0x100
                             5974 ; 198  |#define BUILD_TYPE_HOSTLINK 0x101
                             5975 ; 199  |#define BUILD_TYPE_PLAYER   0x102
                             5976 ; 200  |
                             5977 ; 201  |// Resets part if RETAIL build. DEBUG build executes debug instruction to halt.
                             5978 ; 202  |#define SystemHalt() __asm(" include 'sysmacro.asm' \n error") 
                             5979 ; 203  |#define assert(x)    if(!(x)) __asm(" include 'sysmacro.asm' \n error")
                             5980 ; 204  |
                             5981 ; 205  |#if DEBUG
                             5982 ; 206  |// For DEBUG builds, DebugBuildAssert(condition) halts if condition evaluates to FALSE. 
                             5983 ; 207  |#define DebugBuildAssert(x)    if(!(x)) __asm(" debug ")
                             5984 ; 208  |#else 
                             5985 ; 209  |// For RETAIL builds, DebugBuildAssert(condition) does nothing & execution continues rather than halt or reset. 
                             5986 ; 210  |#define DebugBuildAssert(x)    
                             5987 ; 211  |#endif
                             5988 ; 212  |
                             5989 ; 213  |// Do this in your C files to make a reminder that's displayed during the build.
                             5990 ; 214  |//  #pragma asm
                             5991 ; 215  |//  WARN 'Note to builder: reminder to do this after verifying that'
                             5992 ; 216  |//  #pragma endasm
                             5993 ; 217  |
                             5994 ; 218  |
                             5995 ; 219  |#ifdef COLOR_262K
                             5996 ; 220  |#define RGB(r,g,b)    ((0x0000FC & (r)) << 10) | ((0x0000FC & (g)) << 4) | ((0x0000FC & (b)) >> 2)    //262k
                             5997 ; 221  |#elif defined(COLOR_65K)
                             5998 ; 222  |#define RGB(r,g,b)    ((0x0000F8 & (r)) << 8) | ((0x0000FC & (g)) << 3) | ((0x0000F8 & (b)) >> 3)  //65k
                             5999 ; 223  |#else
                             6000 ; 224  |#define RGB(r,g,b)       ((0x0000F0 & (r)) << 4) | (0x0000F0 & (g)) | ((0x0000F0 & (b)) >> 4)
                             6001 ; 225  |#endif
                             6002 ; 226  |    
                             6003 ; 227  |#endif // #ifndef _TYPES_H
                             6004 
                             6006 
                             6007 ; 29   |
                             6008 ; 30   |/////////////////////////////////////////////////////////////////////////////////
                             6009 ; 31   |////   I2C STMP Registers
                             6010 ; 32   |/////////////////////////////////////////////////////////////////////////////////
                             6011 ; 33   |
                             6012 ; 34   |#define HW_I2C_BASEADDR (0xFFE5)
                             6013 ; 35   |
                             6014 ; 36   |
                             6015 ; 37   |/////////////////////////////////////////////////////////////////////////////////
                             6016 ; 38   |////  I2C Clock Divider Register (HW_I2CDIV) Bit Definitions
                             6017 ; 39   |
                             6018 ; 40   |#define HW_I2CDIV_FACT_BITPOS (1)
                             6019 ; 41   |
                             6020 ; 42   |#define HW_I2CDIV_FACT_SETMASK (0xFF<<HW_I2CDIV_FACT_BITPOS)
                             6021 ; 43   |
                             6022 ; 44   |#define HW_I2CDIV_FACT_CLRMASK (~(WORD)HW_I2CDIV_FACT_SETMASK)
                             6023 ; 45   |
                             6024 ; 46   |typedef union               /* I2C Clock Divider Register */
                             6025 ; 47   |{
                             6026 ; 48   |    struct {
                             6027 ; 49   |        int                :1; 
                             6028 ; 50   |        unsigned FACT      :8;
                             6029 ; 51   |    } B;
                             6030 ; 52   |    int I;
                             6031 ; 53   |    unsigned U;
                             6032 ; 54   |} i2cdivr_type;
                             6033 ; 55   |#define HW_I2CDIV (*(volatile i2cdivr_type _X*) (HW_I2C_BASEADDR))       /* I2C Divfact Registers        */
                             6034 ; 56   |
                             6035 ; 57   |
                             6036 ; 58   |/////////////////////////////////////////////////////////////////////////////////
                             6037 ; 59   |////  I2C Data Register (HW_I2CDAT) Bit Definitions
                             6038 ; 60   |
                             6039 ; 61   |#define HW_I2CDAT_DATA_BITPOS (0)
                             6040 ; 62   |
                             6041 ; 63   |#define HW_I2CDAT_DATA_SETMASK (0xFFFFFF)
                             6042 ; 64   |
                             6043 ; 65   |#define HW_I2CDAT_DATA_CLRMASK (~(WORD)HW_I2CDAT_DATA_SETMASK)
                             6044 ; 66   |
                             6045 ; 67   |typedef union               /* I2C Data Register */
                             6046 ; 68   |{
                             6047 ; 69   |    struct {
                             6048 ; 70   |         unsigned DATA :24; 
                             6049 ; 71   |    } B;
                             6050 ; 72   |    int I;
                             6051 ; 73   |    unsigned U;
                             6052 ; 74   |} i2cdatr_type;
                             6053 ; 75   |#define HW_I2CDAT (*(volatile i2cdatr_type _X*) (HW_I2C_BASEADDR+1)) /* I2C Data Registers (I2CDAT)      */
                             6054 ; 76   |
                             6055 ; 77   |
                             6056 ; 78   |/////////////////////////////////////////////////////////////////////////////////
                             6057 ; 79   |////  I2C Control Status Register (HW_I2CCSR) Bit Definitions
                             6058 ; 80   |#define HW_I2CCSR_I2C_EN_BITPOS (0)
                             6059 ; 81   |#define HW_I2CCSR_RIE_BITPOS (1)
                             6060 ; 82   |#define HW_I2CCSR_BUSY_BITPOS (2)
                             6061 ; 83   |#define HW_I2CCSR_ARB_LOST_BITPOS (3)
                             6062 ; 84   |#define HW_I2CCSR_TIE_BITPOS (4)
                             6063 ; 85   |#define HW_I2CCSR_MODE_BITPOS (5)
                             6064 ; 86   |#define HW_I2CCSR_RDR_BITPOS (6)
                             6065 ; 87   |#define HW_I2CCSR_TDE_BITPOS (7)
                             6066 ; 88   |#define HW_I2CCSR_RWN_BITPOS (8)
                             6067 ; 89   |#define HW_I2CCSR_WL_BITPOS (9)
                             6068 ; 90   |#define HW_I2CCSR_WL0_BITPOS (9)
                             6069 ; 91   |#define HW_I2CCSR_WL1_BITPOS (10)
                             6070 ; 92   |#define HW_I2CCSR_TREQ_BITPOS (11)
                             6071 ; 93   |#define HW_I2CCSR_ROFL_BITPOS (12)
                             6072 ; 94   |#define HW_I2CCSR_TUFL_BITPOS (13)
                             6073 ; 95   |#define HW_I2CCSR_ACKF_BITPOS (14)
                             6074 ; 96   |#define HW_I2CCSR_B_CNT_BITPOS (15)
                             6075 ; 97   |#define HW_I2CCSR_B_CNT0_BITPOS (15)
                             6076 ; 98   |#define HW_I2CCSR_B_CNT1_BITPOS (16)
                             6077 ; 99   |#define HW_I2CCSR_L_WORD_BITPOS (17)
                             6078 ; 100  |#define HW_I2CCSR_SUBA_BITPOS (18)
                             6079 ; 101  |#define HW_I2CCSR_ROFLCL_BITPOS (19)
                             6080 ; 102  |#define HW_I2CCSR_TUFLCL_BITPOS (20)
                             6081 ; 103  |#define HW_I2CCSR_ONEBYTE_BITPOS (21)
                             6082 ; 104  |
                             6083 ; 105  |#define HW_I2CCSR_I2C_EN_SETMASK (1<<HW_I2CCSR_I2C_EN_BITPOS)
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page  25

M:ADDR CODE           CYCLES LINE SOURCELINE
                             6084 ; 106  |#define HW_I2CCSR_RIE_SETMASK (1<<HW_I2CCSR_RIE_BITPOS)
                             6085 ; 107  |#define HW_I2CCSR_BUSY_SETMASK (1<<HW_I2CCSR_BUSY_BITPOS)
                             6086 ; 108  |#define HW_I2CCSR_ARB_LOST_SETMASK (1<<HW_I2CCSR_ARB_LOST_BITPOS)
                             6087 ; 109  |#define HW_I2CCSR_TIE_SETMASK (1<<HW_I2CCSR_TIE_BITPOS)
                             6088 ; 110  |#define HW_I2CCSR_MODE_SETMASK (1<<HW_I2CCSR_MODE_BITPOS)
                             6089 ; 111  |#define HW_I2CCSR_RDR_SETMASK (1<<HW_I2CCSR_RDR_BITPOS)
                             6090 ; 112  |#define HW_I2CCSR_TDE_SETMASK (1<<HW_I2CCSR_TDE_BITPOS)
                             6091 ; 113  |#define HW_I2CCSR_RWN_SETMASK (1<<HW_I2CCSR_RWN_BITPOS)
                             6092 ; 114  |#define HW_I2CCSR_WL_SETMASK (3<<HW_I2CCSR_WL_BITPOS)
                             6093 ; 115  |#define HW_I2CCSR_WL0_SETMASK (1<<HW_I2CCSR_WL0_BITPOS)
                             6094 ; 116  |#define HW_I2CCSR_WL1_SETMASK (1<<HW_I2CCSR_WL1_BITPOS)
                             6095 ; 117  |#define HW_I2CCSR_TREQ_SETMASK (1<<HW_I2CCSR_TREQ_BITPOS)
                             6096 ; 118  |#define HW_I2CCSR_ROFL_SETMASK (1<<HW_I2CCSR_ROFL_BITPOS)
                             6097 ; 119  |#define HW_I2CCSR_TUFL_SETMASK (1<<HW_I2CCSR_TUFL_BITPOS)
                             6098 ; 120  |#define HW_I2CCSR_ACKF_SETMASK (1<<HW_I2CCSR_ACKF_BITPOS)
                             6099 ; 121  |#define HW_I2CCSR_B_CNT_SETMASK (3<<HW_I2CCSR_B_CNT_BITPOS)
                             6100 ; 122  |#define HW_I2CCSR_B_CNT0_SETMASK (1<<HW_I2CCSR_B_CNT0_BITPOS)
                             6101 ; 123  |#define HW_I2CCSR_B_CNT1_SETMASK (1<<HW_I2CCSR_B_CNT1_BITPOS)
                             6102 ; 124  |#define HW_I2CCSR_L_WORD_SETMASK (1<<HW_I2CCSR_L_WORD_BITPOS)
                             6103 ; 125  |#define HW_I2CCSR_SUBA_SETMASK (1<<HW_I2CCSR_SUBA_BITPOS)
                             6104 ; 126  |#define HW_I2CCSR_ROFLCL_SETMASK (1<<HW_I2CCSR_ROFLCL_BITPOS)
                             6105 ; 127  |#define HW_I2CCSR_TUFLCL_SETMASK (1<<HW_I2CCSR_TUFLCL_BITPOS)
                             6106 ; 128  |#define HW_I2CCSR_ONEBYTE_SETMASK (1<<HW_I2CCSR_ONEBYTE_BITPOS)
                             6107 ; 129  |
                             6108 ; 130  |#define HW_I2CCSR_I2C_EN_CLRMASK (~(WORD)HW_I2CCSR_I2C_EN_SETMASK)
                             6109 ; 131  |#define HW_I2CCSR_RIE_CLRMASK (~(WORD)HW_I2CCSR_RIE_SETMASK)
                             6110 ; 132  |#define HW_I2CCSR_BUSY_CLRMASK (~(WORD)HW_I2CCSR_BUSY_SETMASK)
                             6111 ; 133  |#define HW_I2CCSR_ARB_LOST_CLRMASK (~(WORD)HW_I2CCSR_ARB_LOST_SETMASK)
                             6112 ; 134  |#define HW_I2CCSR_TIE_CLRMASK (~(WORD)HW_I2CCSR_TIE_SETMASK)
                             6113 ; 135  |#define HW_I2CCSR_MODE_CLRMASK (~(WORD)HW_I2CCSR_MODE_SETMASK)
                             6114 ; 136  |#define HW_I2CCSR_RDR_CLRMASK (~(WORD)HW_I2CCSR_RDR_SETMASK)
                             6115 ; 137  |#define HW_I2CCSR_TDE_CLRMASK (~(WORD)HW_I2CCSR_TDE_SETMASK)
                             6116 ; 138  |#define HW_I2CCSR_RWN_CLRMASK (~(WORD)HW_I2CCSR_RWN_SETMASK)
                             6117 ; 139  |#define HW_I2CCSR_WL_CLRMASK (~(WORD)HW_I2CCSR_WL_SETMASK)
                             6118 ; 140  |#define HW_I2CCSR_WL0_CLRMASK (~(WORD)HW_I2CCSR_WL0_SETMASK)
                             6119 ; 141  |#define HW_I2CCSR_WL1_CLRMASK (~(WORD)HW_I2CCSR_WL1_SETMASK)
                             6120 ; 142  |#define HW_I2CCSR_TREQ_CLRMASK (~(WORD)HW_I2CCSR_TREQ_SETMASK)
                             6121 ; 143  |#define HW_I2CCSR_ROFL_CLRMASK (~(WORD)HW_I2CCSR_ROFL_SETMASK)
                             6122 ; 144  |#define HW_I2CCSR_TUFL_CLRMASK (~(WORD)HW_I2CCSR_TUFL_SETMASK)
                             6123 ; 145  |#define HW_I2CCSR_ACKF_CLRMASK (~(WORD)HW_I2CCSR_ACKF_SETMASK)
                             6124 ; 146  |#define HW_I2CCSR_B_CNT_CLRMASK (~(WORD)HW_I2CCSR_B_CNT_SETMASK)
                             6125 ; 147  |#define HW_I2CCSR_B_CNT0_CLRMASK (~(WORD)HW_I2CCSR_B_CNT0_SETMASK)
                             6126 ; 148  |#define HW_I2CCSR_B_CNT1_CLRMASK (~(WORD)HW_I2CCSR_B_CNT1_SETMASK)
                             6127 ; 149  |#define HW_I2CCSR_L_WORD_CLRMASK (~(WORD)HW_I2CCSR_L_WORD_SETMASK)
                             6128 ; 150  |#define HW_I2CCSR_SUBA_CLRMASK (~(WORD)HW_I2CCSR_SUBA_SETMASK)
                             6129 ; 151  |#define HW_I2CCSR_ROFLCL_CLRMASK (~(WORD)HW_I2CCSR_ROFLCL_SETMASK)
                             6130 ; 152  |#define HW_I2CCSR_TUFLCL_CLRMASK (~(WORD)HW_I2CCSR_TUFLCL_SETMASK)
                             6131 ; 153  |#define HW_I2CCSR_ONEBYTE_CLRMASK (~(WORD)HW_I2CCSR_ONEBYTE_SETMASK)
                             6132 ; 154  |
                             6133 ; 155  |typedef union               /* I2C Control Register         */
                             6134 ; 156  |{
                             6135 ; 157  |    struct {
                             6136 ; 158  |        int I2C_EN      :1; /* Peripheral Enable            */
                             6137 ; 159  |        int RIE         :1; /* Receiver Interrupt Enable        */
                             6138 ; 160  |        int BUSY        :1; /* I2C Bus Busy             */
                             6139 ; 161  |        int ARBLOST     :1; /* Aritration lost          */
                             6140 ; 162  |        int TIE         :1; /* Transmitter Interrupt Enable     */
                             6141 ; 163  |        int MODE        :1; /* Operating Mode Bit           */
                             6142 ; 164  |        int RDR         :1; /* Receiver Data Ready          */
                             6143 ; 165  |       int TDE         :1; /* Transmitter Data Empty       */
                             6144 ; 166  |       int RWN         :1; /* Read/Not Write           */
                             6145 ; 167  |       unsigned WL     :2; /* Word Length              */
                             6146 ; 168  |        int TREQ        :1; /* DSP Transmit Request         */
                             6147 ; 169  |        int ROFL        :1; /* Receiver Overflow            */
                             6148 ; 170  |        int TUFL        :1; /* Transmitter Underflow        */
                             6149 ; 171  |        int ACKF        :1; /* Acknowledge Failure          */
                             6150 ; 172  |        unsigned BCNT   :2; /* Byte Count               */
                             6151 ; 173  |        int LWORD       :1; /* Last Word                */
                             6152 ; 174  |        int SUBA        :1; /* Sub Address              */
                             6153 ; 175  |        int ROFLCL      :1; /* Receiver Overflow Clear      */
                             6154 ; 176  |        int TUFLCL      :1; /* Transmitter Underflow Clear      */
                             6155 ; 177  |        int ONEBYTE     :1; /* Special One Data Byte Transmission Mode */
                             6156 ; 178  |    } B;
                             6157 ; 179  |    int I;
                             6158 ; 180  |    unsigned U;
                             6159 ; 181  |} i2ccsr_type;
                             6160 ; 182  |#define HW_I2CCSR (*(volatile i2ccsr_type _X*) (HW_I2C_BASEADDR+2)) /* I2C Control/Status Register (I2CCSR) */
                             6161 ; 183  |
                             6162 ; 184  |#endif
                             6163 
                             6165 
                             6166 ; 24   |#include "regsi2s.h"
                             6167 
                             6169 
                             6170 ; 1    |/////////////////////////////////////////////////////////////////////////////////
                             6171 ; 2    |// Copyright(C) SigmaTel, Inc. 2000-2003
                             6172 ; 3    |// Filename: regsi2s.inc
                             6173 ; 4    |// Description: Register definitions for I2S interface
                             6174 ; 5    |/////////////////////////////////////////////////////////////////////////////////
                             6175 ; 6    |// The following naming conventions are followed in this file.
                             6176 ; 7    |// All registers are named using the format...
                             6177 ; 8    |//     HW_<module>_<regname>
                             6178 ; 9    |// where <module> is the module name which can be any of the following...
                             6179 ; 10   |//     USB20
                             6180 ; 11   |// (Note that when there is more than one copy of a particular module, the
                             6181 ; 12   |// module name includes a number starting from 0 for the first instance of
                             6182 ; 13   |// that module)
                             6183 ; 14   |// <regname> is the specific register within that module
                             6184 ; 15   |// We also define the following...
                             6185 ; 16   |//     HW_<module>_<regname>_BITPOS
                             6186 ; 17   |// which defines the starting bit (i.e. LSB) of a multi bit field
                             6187 ; 18   |//     HW_<module>_<regname>_SETMASK
                             6188 ; 19   |// which does something else, and
                             6189 ; 20   |//     HW_<module>_<regname>_CLRMASK
                             6190 ; 21   |// which does something else.
                             6191 ; 22   |// Other rules
                             6192 ; 23   |//     All caps
                             6193 ; 24   |//     Numeric identifiers start at 0
                             6194 ; 25   |#if !(defined(regsi2sinc))
                             6195 ; 26   |#define regsi2sinc 1
                             6196 ; 27   |
                             6197 ; 28   |#include "types.h"
                             6198 
                             6200 
                             6201 ; 1    |////////////////////////////////////////////////////////////////////////////////
                             6202 ; 2    |// Copyright(C) SigmaTel, Inc. 2000-2004
                             6203 ; 3    |//
                             6204 ; 4    |// Filename: types.h
                             6205 ; 5    |// Description: Standard data types
                             6206 ; 6    |////////////////////////////////////////////////////////////////////////////////
                             6207 ; 7    |
                             6208 ; 8    |#ifndef _TYPES_H
                             6209 ; 9    |#define _TYPES_H
                             6210 ; 10   |
                             6211 ; 11   |// TODO:  move this outta here!
                             6212 ; 12   |#if !defined(NOERROR)
                             6213 ; 13   |#define NOERROR 0
                             6214 ; 14   |#define SUCCESS 0
                             6215 ; 15   |#endif 
                             6216 ; 16   |#if !defined(SUCCESS)
                             6217 ; 17   |#define SUCCESS  0
                             6218 ; 18   |#endif
                             6219 ; 19   |#if !defined(ERROR)
                             6220 ; 20   |#define ERROR   -1
                             6221 ; 21   |#endif
                             6222 ; 22   |#if !defined(FALSE)
                             6223 ; 23   |#define FALSE 0
                             6224 ; 24   |#endif
                             6225 ; 25   |#if !defined(TRUE)
                             6226 ; 26   |#define TRUE  1
                             6227 ; 27   |#endif
                             6228 ; 28   |
                             6229 ; 29   |#if !defined(NULL)
                             6230 ; 30   |#define NULL 0
                             6231 ; 31   |#endif
                             6232 ; 32   |
                             6233 ; 33   |#define MAX_INT     0x7FFFFF
                             6234 ; 34   |#define MAX_LONG    0x7FFFFFffffff
                             6235 ; 35   |        // max positive unsigned long value: -1 == 0xFFFFFFffffff
                             6236 ; 36   |#define MAX_ULONG   (-1) 
                             6237 ; 37   |
                             6238 ; 38   |#define WORD_SIZE   24              // word size in bits
                             6239 ; 39   |#define BYTES_PER_WORD 3            // 8 bit bytes
                             6240 ; 40   |
                             6241 ; 41   |
                             6242 ; 42   |#define BYTE    unsigned char       // btVarName
                             6243 ; 43   |#define CHAR    signed char         // cVarName
                             6244 ; 44   |#define USHORT  unsigned short      // usVarName
                             6245 ; 45   |#define SHORT   unsigned short      // sVarName
                             6246 ; 46   |#define WORD    unsigned int        // wVarName
                             6247 ; 47   |#define INT     signed int          // iVarName
                             6248 ; 48   |#define DWORD   unsigned long       // dwVarName
                             6249 ; 49   |#define LONG    signed long         // lVarName
                             6250 ; 50   |#define BOOL    unsigned int        // bVarName
                             6251 ; 51   |#define FRACT   _fract              // frVarName
                             6252 ; 52   |#define LFRACT  long _fract         // lfrVarName
                             6253 ; 53   |#define CIRC    _circ               // cp<type prefix>VarName (see below)
                             6254 ; 54   |#define FLOAT   float               // fVarName
                             6255 ; 55   |#define DBL     double              // dVarName
                             6256 ; 56   |#define ENUM    enum                // eVarName
                             6257 ; 57   |#define CMX     _complex            // cmxVarName
                             6258 ; 58   |typedef WORD UCS3;                   // 
                             6259 ; 59   |
                             6260 ; 60   |#define UINT16  unsigned short
                             6261 ; 61   |#define UINT8   unsigned char   
                             6262 ; 62   |#define UINT32  unsigned long
                             6263 ; 63   |#define UINT64  unsigned long   // need to figure out how to do 64 bit values.  Or port exisiting code to only use 48 bit
                             6264 ; 64   |#define INT64   unsigned long   // need to figure out how to do 64 bit values.  Or port exisiting code to only use 48 bit
                             6265 ; 65   |#define WCHAR   UINT16
                             6266 ; 66   |
                             6267 ; 67   |//UINT128 is 16 bytes or 6 words
                             6268 ; 68   |typedef struct UINT128_3500 {   
                             6269 ; 69   |    int val[6];     
                             6270 ; 70   |} UINT128_3500;
                             6271 ; 71   |
                             6272 ; 72   |#define UINT128   UINT128_3500
                             6273 ; 73   |
                             6274 ; 74   |// Little endian word packed byte strings:   
                             6275 ; 75   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                             6276 ; 76   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                             6277 ; 77   |// Little endian word packed byte strings:   
                             6278 ; 78   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                             6279 ; 79   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                             6280 ; 80   |
                             6281 ; 81   |// Declare Memory Spaces To Use When Coding
                             6282 ; 82   |// A. Sector Buffers
                             6283 ; 83   |#define SECTOR_BUFFER_MEM_X _X
                             6284 ; 84   |#define SECTOR_BUFFER_MEM_Y _Y
                             6285 ; 85   |#define SECTOR_BUFFER_MEM SECTOR_BUFFER_MEM_X
                             6286 ; 86   |typedef WORD SECTOR_BUFFER_MEM SECTOR_BUFFER;
                             6287 ; 87   |typedef SECTOR_BUFFER * P_SECTOR_BUFFER;
                             6288 ; 88   |// B. Media DDI Memory
                             6289 ; 89   |#define MEDIA_DDI_MEM _Y
                             6290 ; 90   |
                             6291 ; 91   |
                             6292 ; 92   |
                             6293 ; 93   |// Pointers to linear structures are labeled as: p<type prefix>VarName
                             6294 ; 94   |// Examples of circular pointers:
                             6295 ; 95   |//    INT CIRC cpiVarName
                             6296 ; 96   |//    DWORD CIRC cpdwVarName
                             6297 ; 97   |
                             6298 ; 98   |#define RETCODE INT                 // rcVarName
                             6299 ; 99   |
                             6300 ; 100  |// generic bitfield structure
                             6301 ; 101  |struct Bitfield {
                             6302 ; 102  |    unsigned int B0  :1;
                             6303 ; 103  |    unsigned int B1  :1;
                             6304 ; 104  |    unsigned int B2  :1;
                             6305 ; 105  |    unsigned int B3  :1;
                             6306 ; 106  |    unsigned int B4  :1;
                             6307 ; 107  |    unsigned int B5  :1;
                             6308 ; 108  |    unsigned int B6  :1;
                             6309 ; 109  |    unsigned int B7  :1;
                             6310 ; 110  |    unsigned int B8  :1;
                             6311 ; 111  |    unsigned int B9  :1;
                             6312 ; 112  |    unsigned int B10 :1;
                             6313 ; 113  |    unsigned int B11 :1;
                             6314 ; 114  |    unsigned int B12 :1;
                             6315 ; 115  |    unsigned int B13 :1;
                             6316 ; 116  |    unsigned int B14 :1;
                             6317 ; 117  |    unsigned int B15 :1;
                             6318 ; 118  |    unsigned int B16 :1;
                             6319 ; 119  |    unsigned int B17 :1;
                             6320 ; 120  |    unsigned int B18 :1;
                             6321 ; 121  |    unsigned int B19 :1;
                             6322 ; 122  |    unsigned int B20 :1;
                             6323 ; 123  |    unsigned int B21 :1;
                             6324 ; 124  |    unsigned int B22 :1;
                             6325 ; 125  |    unsigned int B23 :1;
                             6326 ; 126  |};
                             6327 ; 127  |
                             6328 ; 128  |union BitInt {
                             6329 ; 129  |        struct Bitfield B;
                             6330 ; 130  |        int        I;
                             6331 ; 131  |};
                             6332 ; 132  |
                             6333 ; 133  |#define MAX_MSG_LENGTH 10
                             6334 ; 134  |struct CMessage
                             6335 ; 135  |{
                             6336 ; 136  |        unsigned int m_uLength;
                             6337 ; 137  |        unsigned int m_uMsg[MAX_MSG_LENGTH];
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page  26

M:ADDR CODE           CYCLES LINE SOURCELINE
                             6338 ; 138  |};
                             6339 ; 139  |
                             6340 ; 140  |typedef struct {
                             6341 ; 141  |    WORD m_wLength;
                             6342 ; 142  |    WORD m_wMessage;
                             6343 ; 143  |    WORD m_wParams[MAX_MSG_LENGTH];
                             6344 ; 144  |} Message;
                             6345 ; 145  |
                             6346 ; 146  |struct MessageQueueDescriptor
                             6347 ; 147  |{
                             6348 ; 148  |        int *m_pBase;
                             6349 ; 149  |        int m_iModulo;
                             6350 ; 150  |        int m_iSize;
                             6351 ; 151  |        int *m_pHead;
                             6352 ; 152  |        int *m_pTail;
                             6353 ; 153  |};
                             6354 ; 154  |
                             6355 ; 155  |struct ModuleEntry
                             6356 ; 156  |{
                             6357 ; 157  |    int m_iSignaledEventMask;
                             6358 ; 158  |    int m_iWaitEventMask;
                             6359 ; 159  |    int m_iResourceOfCode;
                             6360 ; 160  |    struct MessageQueueDescriptor *m_pMessageQueue;
                             6361 ; 161  |    int _asmfunc (*m_pProcessEntryPoint)(union WaitMask Signals,struct MessageQueueDescriptor *);
                             6362 ; 162  |    int _asmfunc (*m_pInitFunction)(struct MessageQueueDescriptor *);
                             6363 ; 163  |    int m_uTimeOutHigh;
                             6364 ; 164  |    int m_uTimeOutLow;
                             6365 ; 165  |    int _asmfunc (*m_pBackgroundFunction)(struct MessageQueueDescriptor *);
                             6366 ; 166  |};
                             6367 ; 167  |
                             6368 ; 168  |union WaitMask{
                             6369 ; 169  |    struct B{
                             6370 ; 170  |        unsigned int m_bNone     :1;
                             6371 ; 171  |        unsigned int m_bMessage  :1;
                             6372 ; 172  |        unsigned int m_bTimer    :1;
                             6373 ; 173  |        unsigned int m_bButton   :1;
                             6374 ; 174  |    } B;
                             6375 ; 175  |    int I;
                             6376 ; 176  |} ;
                             6377 ; 177  |
                             6378 ; 178  |
                             6379 ; 179  |struct Button {
                             6380 ; 180  |        WORD wButtonEvent;
                             6381 ; 181  |        WORD wUnused[MAX_MSG_LENGTH];   
                             6382 ; 182  |};
                             6383 ; 183  |
                             6384 ; 184  |struct Message {
                             6385 ; 185  |        WORD wMsgLength;
                             6386 ; 186  |        WORD wMsgCommand;
                             6387 ; 187  |        WORD wMsgParms[MAX_MSG_LENGTH-1];
                             6388 ; 188  |};
                             6389 ; 189  |
                             6390 ; 190  |union EventTypes {
                             6391 ; 191  |        struct CMessage msg;
                             6392 ; 192  |        struct Button Button ;
                             6393 ; 193  |        struct Message Message;
                             6394 ; 194  |};
                             6395 ; 195  |
                             6396 ; 196  |// next 2 used to get updater build to return correct protocol ver in scsi response.
                             6397 ; 197  |#define BUILD_TYPE_UPDATER  0x100
                             6398 ; 198  |#define BUILD_TYPE_HOSTLINK 0x101
                             6399 ; 199  |#define BUILD_TYPE_PLAYER   0x102
                             6400 ; 200  |
                             6401 ; 201  |// Resets part if RETAIL build. DEBUG build executes debug instruction to halt.
                             6402 ; 202  |#define SystemHalt() __asm(" include 'sysmacro.asm' \n error") 
                             6403 ; 203  |#define assert(x)    if(!(x)) __asm(" include 'sysmacro.asm' \n error")
                             6404 ; 204  |
                             6405 ; 205  |#if DEBUG
                             6406 ; 206  |// For DEBUG builds, DebugBuildAssert(condition) halts if condition evaluates to FALSE. 
                             6407 ; 207  |#define DebugBuildAssert(x)    if(!(x)) __asm(" debug ")
                             6408 ; 208  |#else 
                             6409 ; 209  |// For RETAIL builds, DebugBuildAssert(condition) does nothing & execution continues rather than halt or reset. 
                             6410 ; 210  |#define DebugBuildAssert(x)    
                             6411 ; 211  |#endif
                             6412 ; 212  |
                             6413 ; 213  |// Do this in your C files to make a reminder that's displayed during the build.
                             6414 ; 214  |//  #pragma asm
                             6415 ; 215  |//  WARN 'Note to builder: reminder to do this after verifying that'
                             6416 ; 216  |//  #pragma endasm
                             6417 ; 217  |
                             6418 ; 218  |
                             6419 ; 219  |#ifdef COLOR_262K
                             6420 ; 220  |#define RGB(r,g,b)    ((0x0000FC & (r)) << 10) | ((0x0000FC & (g)) << 4) | ((0x0000FC & (b)) >> 2)    //262k
                             6421 ; 221  |#elif defined(COLOR_65K)
                             6422 ; 222  |#define RGB(r,g,b)    ((0x0000F8 & (r)) << 8) | ((0x0000FC & (g)) << 3) | ((0x0000F8 & (b)) >> 3)  //65k
                             6423 ; 223  |#else
                             6424 ; 224  |#define RGB(r,g,b)       ((0x0000F0 & (r)) << 4) | (0x0000F0 & (g)) | ((0x0000F0 & (b)) >> 4)
                             6425 ; 225  |#endif
                             6426 ; 226  |    
                             6427 ; 227  |#endif // #ifndef _TYPES_H
                             6428 
                             6430 
                             6431 ; 29   |
                             6432 ; 30   |///////////////////////////////////////////////////////////////////////////////////
                             6433 ; 31   |////  I2S Registers (SAI)
                             6434 ; 32   |///////////////////////////////////////////////////////////////////////////////////
                             6435 ; 33   |
                             6436 ; 34   |
                             6437 ; 35   |#define HW_SAI_BASEADDR (0xFFF0)
                             6438 ; 36   |
                             6439 ; 37   |
                             6440 ; 38   |
                             6441 ; 39   |
                             6442 ; 40   |#define HW_SAIRCSR_REN0_BITPOS (0)
                             6443 ; 41   |#define HW_SAIRCSR_REN1_BITPOS (1)
                             6444 ; 42   |#define HW_SAIRCSR_REN2_BITPOS (2)
                             6445 ; 43   |#define HW_SAIRCSR_RMME_BITPOS (3)
                             6446 ; 44   |#define HW_SAIRCSR_RSVD0_BITPOS (4)
                             6447 ; 45   |#define HW_SAIRCSR_RWL_BITPOS (5)
                             6448 ; 46   |#define HW_SAIRCSR_RDIR_BITPOS (7)
                             6449 ; 47   |#define HW_SAIRCSR_RLRS_BITPOS (8)
                             6450 ; 48   |#define HW_SAIRCSR_RCKP_BITPOS (9)
                             6451 ; 49   |#define HW_SAIRCSR_RREL_BITPOS (10)
                             6452 ; 50   |#define HW_SAIRCSR_RDWJ_BITPOS (11)
                             6453 ; 51   |#define HW_SAIRCSR_RXIE_BITPOS (12)
                             6454 ; 52   |#define HW_SAIRCSR_RSVD1_BITPOS (13)
                             6455 ; 53   |#define HW_SAIRCSR_ROFL_BITPOS (14)
                             6456 ; 54   |#define HW_SAIRCSR_RDR_BITPOS (15)
                             6457 ; 55   |#define HW_SAIRCSR_ROFCL_BITPOS (16)
                             6458 ; 56   |#define HW_SAIRCSR_RSVD2_BITPOS (17)
                             6459 ; 57   |
                             6460 ; 58   |
                             6461 ; 59   |#define HW_SAIRCSR_REN0_WIDTH (1)
                             6462 ; 60   |#define HW_SAIRCSR_REN1_WIDTH (1)
                             6463 ; 61   |#define HW_SAIRCSR_REN2_WIDTH (1)
                             6464 ; 62   |#define HW_SAIRCSR_RMME_WIDTH (1)
                             6465 ; 63   |#define HW_SAIRCSR_RSVD0_WIDTH (1)
                             6466 ; 64   |#define HW_SAIRCSR_RWL_WIDTH (2)
                             6467 ; 65   |#define HW_SAIRCSR_RDIR_WIDTH (1)
                             6468 ; 66   |#define HW_SAIRCSR_RLRS_WIDTH (1)
                             6469 ; 67   |#define HW_SAIRCSR_RCKP_WIDTH (1)
                             6470 ; 68   |#define HW_SAIRCSR_RREL_WIDTH (1)
                             6471 ; 69   |#define HW_SAIRCSR_RDWJ_WIDTH (1)
                             6472 ; 70   |#define HW_SAIRCSR_RXIE_WIDTH (1)
                             6473 ; 71   |#define HW_SAIRCSR_RSVD1_WIDTH (1)
                             6474 ; 72   |#define HW_SAIRCSR_ROFL_WIDTH (1)
                             6475 ; 73   |#define HW_SAIRCSR_RDR_WIDTH (1)
                             6476 ; 74   |#define HW_SAIRCSR_ROFCL_WIDTH (1)
                             6477 ; 75   |#define HW_SAIRCSR_RSVD2_WIDTH (7)
                             6478 ; 76   |
                             6479 ; 77   |
                             6480 ; 78   |#define HW_SAIRCSR_REN0_SETMASK (((1<HW_SAIRCSR_REN0_WIDTH)-1)<<HW_SAIRCSR_REN0_BITPOS)
                             6481 ; 79   |#define HW_SAIRCSR_REN1_SETMASK (((1<HW_SAIRCSR_REN1_WIDTH)-1)<<HW_SAIRCSR_REN1_BITPOS)
                             6482 ; 80   |#define HW_SAIRCSR_REN2_SETMASK (((1<HW_SAIRCSR_REN2_WIDTH)-1)<<HW_SAIRCSR_REN2_BITPOS)
                             6483 ; 81   |#define HW_SAIRCSR_RMME_SETMASK (((1<HW_SAIRCSR_RMME_WIDTH)-1)<<HW_SAIRCSR_RMME_BITPOS)
                             6484 ; 82   |#define HW_SAIRCSR_RSVD0_SETMASK (((1<HW_SAIRCSR_RSVD0_WIDTH)-1)<<HW_SAIRCSR_RSVD0_BITPOS)
                             6485 ; 83   |#define HW_SAIRCSR_RWL_SETMASK (((1<HW_SAIRCSR_RWL_WIDTH)-1)<<HW_SAIRCSR_RWL_BITPOS)
                             6486 ; 84   |#define HW_SAIRCSR_RDIR_SETMASK (((1<HW_SAIRCSR_RDIR_WIDTH)-1)<<HW_SAIRCSR_RDIR_BITPOS)
                             6487 ; 85   |#define HW_SAIRCSR_RLRS_SETMASK (((1<HW_SAIRCSR_RLRS_WIDTH)-1)<<HW_SAIRCSR_RLRS_BITPOS)
                             6488 ; 86   |#define HW_SAIRCSR_RCKP_SETMASK (((1<HW_SAIRCSR_RCKP_WIDTH)-1)<<HW_SAIRCSR_RCKP_BITPOS)
                             6489 ; 87   |#define HW_SAIRCSR_RREL_SETMASK (((1<HW_SAIRCSR_RREL_WIDTH)-1)<<HW_SAIRCSR_RREL_BITPOS)
                             6490 ; 88   |#define HW_SAIRCSR_RDWJ_SETMASK (((1<HW_SAIRCSR_RDWJ_WIDTH)-1)<<HW_SAIRCSR_RDWJ_BITPOS)
                             6491 ; 89   |#define HW_SAIRCSR_RXIE_SETMASK (((1<HW_SAIRCSR_RXIE_WIDTH)-1)<<HW_SAIRCSR_RXIE_BITPOS)
                             6492 ; 90   |#define HW_SAIRCSR_RSVD1_SETMASK (((1<HW_SAIRCSR_RSVD1_WIDTH)-1)<<HW_SAIRCSR_RSVD1_BITPOS)
                             6493 ; 91   |#define HW_SAIRCSR_ROFL_SETMASK (((1<HW_SAIRCSR_ROFL_WIDTH)-1)<<HW_SAIRCSR_ROFL_BITPOS)
                             6494 ; 92   |#define HW_SAIRCSR_RDR_SETMASK (((1<HW_SAIRCSR_RDR_WIDTH)-1)<<HW_SAIRCSR_RDR_BITPOS)
                             6495 ; 93   |#define HW_SAIRCSR_ROFCL_SETMASK (((1<HW_SAIRCSR_ROFCL_WIDTH)-1)<<HW_SAIRCSR_ROFCL_BITPOS)
                             6496 ; 94   |#define HW_SAIRCSR_RSVD2_SETMASK (((1<HW_SAIRCSR_RSVD2_WIDTH)-1)<<HW_SAIRCSR_RSVD2_BITPOS)
                             6497 ; 95   |
                             6498 ; 96   |
                             6499 ; 97   |#define HW_SAIRCSR_REN0_CLRMASK (~(WORD)HW_SAIRCSR_REN0_SETMASK)
                             6500 ; 98   |#define HW_SAIRCSR_REN1_CLRMASK (~(WORD)HW_SAIRCSR_REN1_SETMASK)
                             6501 ; 99   |#define HW_SAIRCSR_REN2_CLRMASK (~(WORD)HW_SAIRCSR_REN2_SETMASK)
                             6502 ; 100  |#define HW_SAIRCSR_RMME_CLRMASK (~(WORD)HW_SAIRCSR_RMME_SETMASK)
                             6503 ; 101  |#define HW_SAIRCSR_RSVD0_CLRMASK (~(WORD)HW_SAIRCSR_RSVD0_SETMASK)
                             6504 ; 102  |#define HW_SAIRCSR_RWL_CLRMASK (~(WORD)HW_SAIRCSR_RWL_SETMASK)
                             6505 ; 103  |#define HW_SAIRCSR_RDIR_CLRMASK (~(WORD)HW_SAIRCSR_RDIR_SETMASK)
                             6506 ; 104  |#define HW_SAIRCSR_RLRS_CLRMASK (~(WORD)HW_SAIRCSR_RLRS_SETMASK)
                             6507 ; 105  |#define HW_SAIRCSR_RCKP_CLRMASK (~(WORD)HW_SAIRCSR_RCKP_SETMASK)
                             6508 ; 106  |#define HW_SAIRCSR_RREL_CLRMASK (~(WORD)HW_SAIRCSR_RREL_SETMASK)
                             6509 ; 107  |#define HW_SAIRCSR_RDWJ_CLRMASK (~(WORD)HW_SAIRCSR_RDWJ_SETMASK)
                             6510 ; 108  |#define HW_SAIRCSR_RXIE_CLRMASK (~(WORD)HW_SAIRCSR_RXIE_SETMASK)
                             6511 ; 109  |#define HW_SAIRCSR_RSVD1_CLRMASK (~(WORD)HW_SAIRCSR_RSVD1_SETMASK)
                             6512 ; 110  |#define HW_SAIRCSR_ROFL_CLRMASK (~(WORD)HW_SAIRCSR_ROFL_SETMASK)
                             6513 ; 111  |#define HW_SAIRCSR_RDR_CLRMASK (~(WORD)HW_SAIRCSR_RDR_SETMASK)
                             6514 ; 112  |#define HW_SAIRCSR_ROFCL_CLRMASK (~(WORD)HW_SAIRCSR_ROFCL_SETMASK)
                             6515 ; 113  |#define HW_SAIRCSR_RSVD2_CLRMASK (~(WORD)HW_SAIRCSR_RSVD2_SETMASK)
                             6516 ; 114  |
                             6517 ; 115  |typedef union
                             6518 ; 116  |{
                             6519 ; 117  |    struct {
                             6520 ; 118  |        int REN0        :HW_SAIRCSR_REN0_WIDTH;        // Receiver 0 enable
                             6521 ; 119  |        int REN1        :HW_SAIRCSR_REN1_WIDTH;        // Receiver 1 enable
                             6522 ; 120  |        int REN2        :HW_SAIRCSR_REN2_WIDTH;        // Receiver 2 enable
                             6523 ; 121  |        int RMME        :HW_SAIRCSR_RMME_WIDTH;        // Receiver master mode enable
                             6524 ; 122  |        int RSVD0       :HW_SAIRCSR_RSVD0_WIDTH;       // Reserved
                             6525 ; 123  |        unsigned RWL    :HW_SAIRCSR_RWL_WIDTH;         // Receiver word length control
                             6526 ; 124  |        int RDIR        :HW_SAIRCSR_RDIR_WIDTH;        // Receiver data shift direction 
                             6527 ; 125  |        int RLRS        :HW_SAIRCSR_RLRS_WIDTH;        // Receiver left right select
                             6528 ; 126  |        int RCKP        :HW_SAIRCSR_RCKP_WIDTH;        // Receiver clock polarity
                             6529 ; 127  |        int RREL        :HW_SAIRCSR_RREL_WIDTH;        // Receiver relative timing
                             6530 ; 128  |        int RDWJ        :HW_SAIRCSR_RDWJ_WIDTH;        // Receiver data word justification
                             6531 ; 129  |        int RXIE        :HW_SAIRCSR_RXIE_WIDTH;        // Receiver interrupt enable
                             6532 ; 130  |        int RSVD1       :HW_SAIRCSR_RSVD1_WIDTH;       // Reserved
                             6533 ; 131  |        int ROFL        :HW_SAIRCSR_ROFL_WIDTH;        // Receiver data overflow
                             6534 ; 132  |        int RDR         :HW_SAIRCSR_RDR_WIDTH;         // Receiver data ready flag
                             6535 ; 133  |        int ROFCL       :HW_SAIRCSR_ROFCL_WIDTH;       // Receiver data overflow clear
                             6536 ; 134  |        unsigned RSVD2  :HW_SAIRCSR_RSVD2_WIDTH;       // Reserved
                             6537 ; 135  |    } B;
                             6538 ; 136  |    int I;
                             6539 ; 137  |    unsigned U;
                             6540 ; 138  |} saircsr_type;
                             6541 ; 139  |
                             6542 ; 140  |#define HW_SAIRCSR (*(volatile saircsr_type _X*) (HW_SAI_BASEADDR))       /* I2S Receive CSR         */
                             6543 ; 141  |
                             6544 ; 142  |typedef union
                             6545 ; 143  |{
                             6546 ; 144  |    struct {
                             6547 ; 145  |        unsigned SAI :24;
                             6548 ; 146  |    } B;
                             6549 ; 147  |    int I;
                             6550 ; 148  |    unsigned U;
                             6551 ; 149  |} saixr_type;
                             6552 ; 150  |
                             6553 ; 151  |#define HW_SAIRX0R (*(volatile saixr_type _X*)  (HW_SAI_BASEADDR+1))       /* I2S Received data reg 0 */
                             6554 ; 152  |#define HW_SAIRX1R (*(volatile saixr_type _X*)  (HW_SAI_BASEADDR+2))       /* I2S Received data reg 1 */
                             6555 ; 153  |#define HW_SAIRX2R (*(volatile saixr_type _X*)  (HW_SAI_BASEADDR+3))       /* I2S Received data reg 2 */
                             6556 ; 154  |
                             6557 ; 155  |
                             6558 ; 156  |#define HW_SAITCSR_TEN0_BITPOS (0)
                             6559 ; 157  |#define HW_SAITCSR_TEN1_BITPOS (1)
                             6560 ; 158  |#define HW_SAITCSR_TEN2_BITPOS (2)
                             6561 ; 159  |#define HW_SAITCSR_TMME_BITPOS (3)
                             6562 ; 160  |#define HW_SAITCSR_RSVD0_BITPOS (4)
                             6563 ; 161  |#define HW_SAITCSR_TWL_BITPOS (5)
                             6564 ; 162  |#define HW_SAITCSR_TDIR_BITPOS (7)
                             6565 ; 163  |#define HW_SAITCSR_TLRS_BITPOS (8)
                             6566 ; 164  |#define HW_SAITCSR_TCKP_BITPOS (9)
                             6567 ; 165  |#define HW_SAITCSR_TREL_BITPOS (10)
                             6568 ; 166  |#define HW_SAITCSR_TDWE_BITPOS (11)
                             6569 ; 167  |#define HW_SAITCSR_TXIE_BITPOS (12)
                             6570 ; 168  |#define HW_SAITCSR_RSVD1_BITPOS (13)
                             6571 ; 169  |#define HW_SAITCSR_TUFL_BITPOS (14)
                             6572 ; 170  |#define HW_SAITCSR_TDE_BITPOS (15)
                             6573 ; 171  |#define HW_SAITCSR_TUFCL_BITPOS (16)
                             6574 ; 172  |#define HW_SAITCSR_RSVD2_BITPOS (17)
                             6575 ; 173  |
                             6576 ; 174  |
                             6577 ; 175  |#define HW_SAITCSR_TEN0_WIDTH (1)
                             6578 ; 176  |#define HW_SAITCSR_TEN1_WIDTH (1)
                             6579 ; 177  |#define HW_SAITCSR_TEN2_WIDTH (1)
                             6580 ; 178  |#define HW_SAITCSR_TMME_WIDTH (1)
                             6581 ; 179  |#define HW_SAITCSR_RSVD0_WIDTH (1)
                             6582 ; 180  |#define HW_SAITCSR_TWL_WIDTH (2)
                             6583 ; 181  |#define HW_SAITCSR_TDIR_WIDTH (1)
                             6584 ; 182  |#define HW_SAITCSR_TLRS_WIDTH (1)
                             6585 ; 183  |#define HW_SAITCSR_TCKP_WIDTH (1)
                             6586 ; 184  |#define HW_SAITCSR_TREL_WIDTH (1)
                             6587 ; 185  |#define HW_SAITCSR_TDWE_WIDTH (1)
                             6588 ; 186  |#define HW_SAITCSR_TXIE_WIDTH (1)
                             6589 ; 187  |#define HW_SAITCSR_RSVD1_WIDTH (1)
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page  27

M:ADDR CODE           CYCLES LINE SOURCELINE
                             6590 ; 188  |#define HW_SAITCSR_TUFL_WIDTH (1)
                             6591 ; 189  |#define HW_SAITCSR_TDE_WIDTH (1)
                             6592 ; 190  |#define HW_SAITCSR_TUFCL_WIDTH (1)
                             6593 ; 191  |#define HW_SAITCSR_RSVD2_WIDTH (7)
                             6594 ; 192  |
                             6595 ; 193  |
                             6596 ; 194  |#define HW_SAITCSR_TEN0_SETMASK (((1<HW_SAITCSR_TEN0_WIDTH)-1)<<HW_SAITCSR_TEN0_BITPOS)
                             6597 ; 195  |#define HW_SAITCSR_TEN1_SETMASK (((1<HW_SAITCSR_TEN1_WIDTH)-1)<<HW_SAITCSR_TEN1_BITPOS)
                             6598 ; 196  |#define HW_SAITCSR_TEN2_SETMASK (((1<HW_SAITCSR_TEN2_WIDTH)-1)<<HW_SAITCSR_TEN2_BITPOS)
                             6599 ; 197  |#define HW_SAITCSR_TMME_SETMASK (((1<HW_SAITCSR_TMME_WIDTH)-1)<<HW_SAITCSR_TMME_BITPOS)
                             6600 ; 198  |#define HW_SAITCSR_RSVD0_SETMASK (((1<HW_SAITCSR_RSVD0_WIDTH)-1)<<HW_SAITCSR_RSVD0_BITPOS)
                             6601 ; 199  |#define HW_SAITCSR_TWL_SETMASK (((1<HW_SAITCSR_TWL_WIDTH)-1)<<HW_SAITCSR_TWL_BITPOS)
                             6602 ; 200  |#define HW_SAITCSR_TDIR_SETMASK (((1<HW_SAITCSR_TDIR_WIDTH)-1)<<HW_SAITCSR_TDIR_BITPOS)
                             6603 ; 201  |#define HW_SAITCSR_TLRS_SETMASK (((1<HW_SAITCSR_TLRS_WIDTH)-1)<<HW_SAITCSR_TLRS_BITPOS)
                             6604 ; 202  |#define HW_SAITCSR_TCKP_SETMASK (((1<HW_SAITCSR_TCKP_WIDTH)-1)<<HW_SAITCSR_TCKP_BITPOS)
                             6605 ; 203  |#define HW_SAITCSR_TREL_SETMASK (((1<HW_SAITCSR_TREL_WIDTH)-1)<<HW_SAITCSR_TREL_BITPOS)
                             6606 ; 204  |#define HW_SAITCSR_TDWE_SETMASK (((1<HW_SAITCSR_TDWE_WIDTH)-1)<<HW_SAITCSR_TDWE_BITPOS)
                             6607 ; 205  |#define HW_SAITCSR_TXIE_SETMASK (((1<HW_SAITCSR_TXIE_WIDTH)-1)<<HW_SAITCSR_TXIE_BITPOS)
                             6608 ; 206  |#define HW_SAITCSR_RSVD1_SETMASK (((1<HW_SAITCSR_RSVD1_WIDTH)-1)<<HW_SAITCSR_RSVD1_BITPOS)
                             6609 ; 207  |#define HW_SAITCSR_TUFL_SETMASK (((1<HW_SAITCSR_TUFL_WIDTH)-1)<<HW_SAITCSR_TUFL_BITPOS)
                             6610 ; 208  |#define HW_SAITCSR_TDE_SETMASK (((1<HW_SAITCSR_TDE_WIDTH)-1)<<HW_SAITCSR_TDE_BITPOS)
                             6611 ; 209  |#define HW_SAITCSR_TUFCL_SETMASK (((1<HW_SAITCSR_TUFCL_WIDTH)-1)<<HW_SAITCSR_TUFCL_BITPOS)
                             6612 ; 210  |#define HW_SAITCSR_RSVD2_SETMASK (((1<HW_SAITCSR_RSVD2_WIDTH)-1)<<HW_SAITCSR_RSVD2_BITPOS)
                             6613 ; 211  |
                             6614 ; 212  |
                             6615 ; 213  |#define HW_SAITCSR_TEN0_CLRMASK (~(WORD)HW_SAITCSR_TEN0_SETMASK)
                             6616 ; 214  |#define HW_SAITCSR_TEN1_CLRMASK (~(WORD)HW_SAITCSR_TEN1_SETMASK)
                             6617 ; 215  |#define HW_SAITCSR_TEN2_CLRMASK (~(WORD)HW_SAITCSR_TEN2_SETMASK)
                             6618 ; 216  |#define HW_SAITCSR_TMME_CLRMASK (~(WORD)HW_SAITCSR_TMME_SETMASK)
                             6619 ; 217  |#define HW_SAITCSR_RSVD0_CLRMASK (~(WORD)HW_SAITCSR_RSVD0_SETMASK)
                             6620 ; 218  |#define HW_SAITCSR_TWL_CLRMASK (~(WORD)HW_SAITCSR_TWL_SETMASK)
                             6621 ; 219  |#define HW_SAITCSR_TDIR_CLRMASK (~(WORD)HW_SAITCSR_TDIR_SETMASK)
                             6622 ; 220  |#define HW_SAITCSR_TLRS_CLRMASK (~(WORD)HW_SAITCSR_TLRS_SETMASK)
                             6623 ; 221  |#define HW_SAITCSR_TCKP_CLRMASK (~(WORD)HW_SAITCSR_TCKP_SETMASK)
                             6624 ; 222  |#define HW_SAITCSR_TREL_CLRMASK (~(WORD)HW_SAITCSR_TREL_SETMASK)
                             6625 ; 223  |#define HW_SAITCSR_TDWE_CLRMASK (~(WORD)HW_SAITCSR_TDWE_SETMASK)
                             6626 ; 224  |#define HW_SAITCSR_TXIE_CLRMASK (~(WORD)HW_SAITCSR_TXIE_SETMASK)
                             6627 ; 225  |#define HW_SAITCSR_RSVD1_CLRMASK (~(WORD)HW_SAITCSR_RSVD1_SETMASK)
                             6628 ; 226  |#define HW_SAITCSR_TUFL_CLRMASK (~(WORD)HW_SAITCSR_TUFL_SETMASK)
                             6629 ; 227  |#define HW_SAITCSR_TDE_CLRMASK (~(WORD)HW_SAITCSR_TDE_SETMASK)
                             6630 ; 228  |#define HW_SAITCSR_TUFCL_CLRMASK (~(WORD)HW_SAITCSR_TUFCL_SETMASK)
                             6631 ; 229  |#define HW_SAITCSR_RSVD2_CLRMASK (~(WORD)HW_SAITCSR_RSVD2_SETMASK)
                             6632 ; 230  |
                             6633 ; 231  |
                             6634 ; 232  |typedef union
                             6635 ; 233  |{
                             6636 ; 234  |    struct {
                             6637 ; 235  |        int TEN0       :HW_SAITCSR_TEN0_WIDTH;         // Transmitter 0 enable
                             6638 ; 236  |        int TEN1       :HW_SAITCSR_TEN1_WIDTH;         // Transmitter 1 enable
                             6639 ; 237  |        int TEN2       :HW_SAITCSR_TEN2_WIDTH;         // Transmitter 2 enable
                             6640 ; 238  |        int TMME       :HW_SAITCSR_TMME_WIDTH;         // Transmitter master mode enable
                             6641 ; 239  |        int RSVD0      :HW_SAITCSR_RSVD0_WIDTH;        // Reserved
                             6642 ; 240  |        unsigned TWL   :HW_SAITCSR_TWL_WIDTH;          // Transmitter word length control
                             6643 ; 241  |        int TDIR       :HW_SAITCSR_TDIR_WIDTH;         // Transmitter data shift direction 
                             6644 ; 242  |        int TLRS       :HW_SAITCSR_TLRS_WIDTH;         // Transmitter left right select
                             6645 ; 243  |        int TCKP       :HW_SAITCSR_TCKP_WIDTH;         // Transmitter clock polarity
                             6646 ; 244  |        int TREL       :HW_SAITCSR_TREL_WIDTH;         // Transmitter relative timing
                             6647 ; 245  |        int TDWE       :HW_SAITCSR_TDWE_WIDTH;         // Transmitter data word justification
                             6648 ; 246  |        int TXIE       :HW_SAITCSR_TXIE_WIDTH;         // Transmitter interrupt enable
                             6649 ; 247  |        int RSVD1      :HW_SAITCSR_RSVD1_WIDTH;        // Reserved
                             6650 ; 248  |        int TUFL       :HW_SAITCSR_TUFL_WIDTH;         // Transmitter data overflow
                             6651 ; 249  |        int TDE        :HW_SAITCSR_TDE_WIDTH;          // Transmitter data ready flag
                             6652 ; 250  |        int TUFCL      :HW_SAITCSR_TUFCL_WIDTH;        // Transmitter data overflow clear
                             6653 ; 251  |        unsigned RSVD2 :HW_SAITCSR_RSVD2_WIDTH;        // Reserved
                             6654 ; 252  |    } B;
                             6655 ; 253  |    int I;
                             6656 ; 254  |    unsigned U;
                             6657 ; 255  |} saitcsr_type;
                             6658 ; 256  |
                             6659 ; 257  |#define HW_SAITCSR (*(volatile saitcsr_type _X*) (HW_SAI_BASEADDR+5)) /* I2S Transmit CSR      */
                             6660 ; 258  |
                             6661 ; 259  |#define HW_SAITX0R (*(volatile saixr_type _X*)  (HW_SAI_BASEADDR+6))       /* I2S Transmit data reg 0 */
                             6662 ; 260  |#define HW_SAITX1R (*(volatile saixr_type _X*)  (HW_SAI_BASEADDR+7))       /* I2S Transmit data reg 1 */
                             6663 ; 261  |#define HW_SAITX2R (*(volatile saixr_type _X*)  (HW_SAI_BASEADDR+8))       /* I2S Transmit data reg 2 */
                             6664 ; 262  |
                             6665 ; 263  |#endif
                             6666 
                             6668 
                             6669 ; 25   |#include "regsicoll.h"
                             6670 
                             6672 
                             6673 ; 1    |#if !defined(__REGS_ICOLL_INC)
                             6674 ; 2    |#define __REGS_ICOLL_INC 1
                             6675 ; 3    |
                             6676 ; 4    |/////////////////////////////////////////////////////////////////////////////////
                             6677 ; 5    |//  Interrupt Collector Registers
                             6678 ; 6    |/////////////////////////////////////////////////////////////////////////////////
                             6679 ; 7    |
                             6680 ; 8    |#define HW_ICOLL_BASEADDR 0xF300
                             6681 ; 9    |
                             6682 ; 10   |
                             6683 ; 11   |
                             6684 ; 12   |/////////////////////////////////////////////////////////////////////////////////
                             6685 ; 13   |//  Interrupt Collector 0 Enable Register (HW_ICLENABLE0R) Bit Positions
                             6686 ; 14   |
                             6687 ; 15   |typedef union
                             6688 ; 16   |{
                             6689 ; 17   |    struct {
                             6690 ; 18   |        int SEN0        :1;
                             6691 ; 19   |        int SEN1        :1;
                             6692 ; 20   |        int SEN2        :1;
                             6693 ; 21   |        int SEN3        :1;
                             6694 ; 22   |        int SEN4        :1;
                             6695 ; 23   |        int SEN5        :1;
                             6696 ; 24   |        int SEN6        :1;
                             6697 ; 25   |        int SEN7        :1;
                             6698 ; 26   |        int SEN8        :1;
                             6699 ; 27   |        int SEN9        :1;
                             6700 ; 28   |        int SEN10       :1;
                             6701 ; 29   |        int SEN11       :1;
                             6702 ; 30   |        int SEN12       :1;
                             6703 ; 31   |        int SEN13       :1;
                             6704 ; 32   |        int SEN14       :1;
                             6705 ; 33   |        int SEN15       :1;
                             6706 ; 34   |        int SEN16       :1;
                             6707 ; 35   |        int SEN17       :1;
                             6708 ; 36   |        int SEN18       :1;
                             6709 ; 37   |        int SEN19       :1;
                             6710 ; 38   |        int SEN20       :1;
                             6711 ; 39   |        int SEN21       :1;
                             6712 ; 40   |        int SEN22       :1;
                             6713 ; 41   |        int SEN23       :1;
                             6714 ; 42   |    } B;
                             6715 ; 43   |    int I;
                             6716 ; 44   |} iclenable0_type;
                             6717 ; 45   |#define HW_ICLENABLE0R  (*(volatile iclenable0_type _X*) (HW_ICOLL_BASEADDR)) /* Interrupt Priority Register Core   */
                             6718 ; 46   |
                             6719 ; 47   |
                             6720 ; 48   |#define HW_ICLENABLE0R_SEN0_BITPOS 0
                             6721 ; 49   |#define HW_ICLENABLE0R_SEN1_BITPOS 1
                             6722 ; 50   |#define HW_ICLENABLE0R_SEN2_BITPOS 2
                             6723 ; 51   |#define HW_ICLENABLE0R_SEN3_BITPOS 3
                             6724 ; 52   |#define HW_ICLENABLE0R_SEN4_BITPOS 4
                             6725 ; 53   |#define HW_ICLENABLE0R_SEN5_BITPOS 5
                             6726 ; 54   |#define HW_ICLENABLE0R_SEN6_BITPOS 6
                             6727 ; 55   |#define HW_ICLENABLE0R_SEN7_BITPOS 7
                             6728 ; 56   |#define HW_ICLENABLE0R_SEN8_BITPOS 8
                             6729 ; 57   |#define HW_ICLENABLE0R_SEN9_BITPOS 9
                             6730 ; 58   |#define HW_ICLENABLE0R_SEN10_BITPOS 10
                             6731 ; 59   |#define HW_ICLENABLE0R_SEN11_BITPOS 11
                             6732 ; 60   |#define HW_ICLENABLE0R_SEN12_BITPOS 12
                             6733 ; 61   |#define HW_ICLENABLE0R_SEN13_BITPOS 13
                             6734 ; 62   |#define HW_ICLENABLE0R_SEN14_BITPOS 14
                             6735 ; 63   |#define HW_ICLENABLE0R_SEN15_BITPOS 15
                             6736 ; 64   |#define HW_ICLENABLE0R_SEN16_BITPOS 16
                             6737 ; 65   |#define HW_ICLENABLE0R_SEN17_BITPOS 17
                             6738 ; 66   |#define HW_ICLENABLE0R_SEN18_BITPOS 18
                             6739 ; 67   |#define HW_ICLENABLE0R_SEN19_BITPOS 19
                             6740 ; 68   |#define HW_ICLENABLE0R_SEN20_BITPOS 20
                             6741 ; 69   |#define HW_ICLENABLE0R_SEN21_BITPOS 21
                             6742 ; 70   |#define HW_ICLENABLE0R_SEN22_BITPOS 22
                             6743 ; 71   |#define HW_ICLENABLE0R_SEN23_BITPOS 23
                             6744 ; 72   |
                             6745 ; 73   |#define HW_ICLENABLE0R_SEN0_SETMASK 1<<HW_ICLENABLE0R_SEN0_BITPOS
                             6746 ; 74   |#define HW_ICLENABLE0R_SEN1_SETMASK 1<<HW_ICLENABLE0R_SEN1_BITPOS
                             6747 ; 75   |#define HW_ICLENABLE0R_SEN2_SETMASK 1<<HW_ICLENABLE0R_SEN2_BITPOS
                             6748 ; 76   |#define HW_ICLENABLE0R_SEN3_SETMASK 1<<HW_ICLENABLE0R_SEN3_BITPOS
                             6749 ; 77   |#define HW_ICLENABLE0R_SEN4_SETMASK 1<<HW_ICLENABLE0R_SEN4_BITPOS
                             6750 ; 78   |#define HW_ICLENABLE0R_SEN5_SETMASK 1<<HW_ICLENABLE0R_SEN5_BITPOS
                             6751 ; 79   |#define HW_ICLENABLE0R_SEN6_SETMASK 1<<HW_ICLENABLE0R_SEN6_BITPOS
                             6752 ; 80   |#define HW_ICLENABLE0R_SEN7_SETMASK 1<<HW_ICLENABLE0R_SEN7_BITPOS
                             6753 ; 81   |#define HW_ICLENABLE0R_SEN8_SETMASK 1<<HW_ICLENABLE0R_SEN8_BITPOS
                             6754 ; 82   |#define HW_ICLENABLE0R_SEN9_SETMASK 1<<HW_ICLENABLE0R_SEN9_BITPOS
                             6755 ; 83   |#define HW_ICLENABLE0R_SEN10_SETMASK 1<<HW_ICLENABLE0R_SEN10_BITPOS
                             6756 ; 84   |#define HW_ICLENABLE0R_SEN11_SETMASK 1<<HW_ICLENABLE0R_SEN11_BITPOS
                             6757 ; 85   |#define HW_ICLENABLE0R_SEN12_SETMASK 1<<HW_ICLENABLE0R_SEN12_BITPOS
                             6758 ; 86   |#define HW_ICLENABLE0R_SEN13_SETMASK 1<<HW_ICLENABLE0R_SEN13_BITPOS
                             6759 ; 87   |#define HW_ICLENABLE0R_SEN14_SETMASK 1<<HW_ICLENABLE0R_SEN14_BITPOS
                             6760 ; 88   |#define HW_ICLENABLE0R_SEN15_SETMASK 1<<HW_ICLENABLE0R_SEN15_BITPOS
                             6761 ; 89   |#define HW_ICLENABLE0R_SEN16_SETMASK 1<<HW_ICLENABLE0R_SEN16_BITPOS
                             6762 ; 90   |#define HW_ICLENABLE0R_SEN17_SETMASK 1<<HW_ICLENABLE0R_SEN17_BITPOS
                             6763 ; 91   |#define HW_ICLENABLE0R_SEN18_SETMASK 1<<HW_ICLENABLE0R_SEN18_BITPOS
                             6764 ; 92   |#define HW_ICLENABLE0R_SEN19_SETMASK 1<<HW_ICLENABLE0R_SEN19_BITPOS
                             6765 ; 93   |#define HW_ICLENABLE0R_SEN20_SETMASK 1<<HW_ICLENABLE0R_SEN20_BITPOS
                             6766 ; 94   |#define HW_ICLENABLE0R_SEN21_SETMASK 1<<HW_ICLENABLE0R_SEN21_BITPOS
                             6767 ; 95   |#define HW_ICLENABLE0R_SEN22_SETMASK 1<<HW_ICLENABLE0R_SEN22_BITPOS
                             6768 ; 96   |#define HW_ICLENABLE0R_SEN23_SETMASK 1<<HW_ICLENABLE0R_SEN23_BITPOS
                             6769 ; 97   |
                             6770 ; 98   |#define HW_ICLENABLE0R_SEN0_CLRMASK ~(WORD)HW_ICLENABLE0R_SEN0_SETMASK
                             6771 ; 99   |#define HW_ICLENABLE0R_SEN1_CLRMASK ~(WORD)HW_ICLENABLE0R_SEN1_SETMASK
                             6772 ; 100  |#define HW_ICLENABLE0R_SEN2_CLRMASK ~(WORD)HW_ICLENABLE0R_SEN2_SETMASK
                             6773 ; 101  |#define HW_ICLENABLE0R_SEN3_CLRMASK ~(WORD)HW_ICLENABLE0R_SEN3_SETMASK
                             6774 ; 102  |#define HW_ICLENABLE0R_SEN4_CLRMASK ~(WORD)HW_ICLENABLE0R_SEN4_SETMASK
                             6775 ; 103  |#define HW_ICLENABLE0R_SEN5_CLRMASK ~(WORD)HW_ICLENABLE0R_SEN5_SETMASK
                             6776 ; 104  |#define HW_ICLENABLE0R_SEN6_CLRMASK ~(WORD)HW_ICLENABLE0R_SEN6_SETMASK
                             6777 ; 105  |#define HW_ICLENABLE0R_SEN7_CLRMASK ~(WORD)HW_ICLENABLE0R_SEN7_SETMASK
                             6778 ; 106  |#define HW_ICLENABLE0R_SEN8_CLRMASK ~(WORD)HW_ICLENABLE0R_SEN8_SETMASK
                             6779 ; 107  |#define HW_ICLENABLE0R_SEN9_CLRMASK ~(WORD)HW_ICLENABLE0R_SEN9_SETMASK
                             6780 ; 108  |#define HW_ICLENABLE0R_SEN10_CLRMASK ~(WORD)HW_ICLENABLE0R_SEN10_SETMASK
                             6781 ; 109  |#define HW_ICLENABLE0R_SEN11_CLRMASK ~(WORD)HW_ICLENABLE0R_SEN11_SETMASK
                             6782 ; 110  |#define HW_ICLENABLE0R_SEN12_CLRMASK ~(WORD)HW_ICLENABLE0R_SEN12_SETMASK
                             6783 ; 111  |#define HW_ICLENABLE0R_SEN13_CLRMASK ~(WORD)HW_ICLENABLE0R_SEN13_SETMASK
                             6784 ; 112  |#define HW_ICLENABLE0R_SEN14_CLRMASK ~(WORD)HW_ICLENABLE0R_SEN14_SETMASK
                             6785 ; 113  |#define HW_ICLENABLE0R_SEN15_CLRMASK ~(WORD)HW_ICLENABLE0R_SEN15_SETMASK
                             6786 ; 114  |#define HW_ICLENABLE0R_SEN16_CLRMASK ~(WORD)HW_ICLENABLE0R_SEN16_SETMASK
                             6787 ; 115  |#define HW_ICLENABLE0R_SEN17_CLRMASK ~(WORD)HW_ICLENABLE0R_SEN17_SETMASK
                             6788 ; 116  |#define HW_ICLENABLE0R_SEN18_CLRMASK ~(WORD)HW_ICLENABLE0R_SEN18_SETMASK
                             6789 ; 117  |#define HW_ICLENABLE0R_SEN19_CLRMASK ~(WORD)HW_ICLENABLE0R_SEN19_SETMASK
                             6790 ; 118  |#define HW_ICLENABLE0R_SEN20_CLRMASK ~(WORD)HW_ICLENABLE0R_SEN20_SETMASK
                             6791 ; 119  |#define HW_ICLENABLE0R_SEN21_CLRMASK ~(WORD)HW_ICLENABLE0R_SEN21_SETMASK
                             6792 ; 120  |#define HW_ICLENABLE0R_SEN22_CLRMASK ~(WORD)HW_ICLENABLE0R_SEN22_SETMASK
                             6793 ; 121  |#define HW_ICLENABLE0R_SEN23_CLRMASK ~(WORD)HW_ICLENABLE0R_SEN23_SETMASK
                             6794 ; 122  |
                             6795 ; 123  |
                             6796 ; 124  |/////////////////////////////////////////////////////////////////////////////////
                             6797 ; 125  |//  Interrupt Collector 1 Enable Register (HW_ICLENABLE1R) Bit Positions
                             6798 ; 126  |typedef union
                             6799 ; 127  |{
                             6800 ; 128  |    struct {
                             6801 ; 129  |        
                             6802 ; 130  |        int SEN24       :1;
                             6803 ; 131  |        int SEN25       :1;
                             6804 ; 132  |        int SEN26       :1;
                             6805 ; 133  |        int SEN27       :1;
                             6806 ; 134  |        int SEN28       :1;
                             6807 ; 135  |        int SEN29       :1;
                             6808 ; 136  |        int SEN30       :1;
                             6809 ; 137  |        int SEN31       :1;
                             6810 ; 138  |        int SEN32       :1;
                             6811 ; 139  |        int SEN33       :1;
                             6812 ; 140  |    } B;
                             6813 ; 141  |    int I;
                             6814 ; 142  |} iclenable1_type;
                             6815 ; 143  |
                             6816 ; 144  |#define HW_ICLENABLE1R  (*(volatile iclenable1_type _X*) (HW_ICOLL_BASEADDR+1)) /* Interrupt Priority Register Core    */
                             6817 ; 145  |
                             6818 ; 146  |#define HW_ICLENABLE1R_SEN24_BITPOS 0
                             6819 ; 147  |#define HW_ICLENABLE1R_SEN25_BITPOS 1
                             6820 ; 148  |#define HW_ICLENABLE1R_SEN26_BITPOS 2
                             6821 ; 149  |#define HW_ICLENABLE1R_SEN27_BITPOS 3
                             6822 ; 150  |#define HW_ICLENABLE1R_SEN28_BITPOS 4
                             6823 ; 151  |#define HW_ICLENABLE1R_SEN29_BITPOS 5
                             6824 ; 152  |#define HW_ICLENABLE1R_SEN30_BITPOS 6
                             6825 ; 153  |#define HW_ICLENABLE1R_SEN31_BITPOS 7
                             6826 ; 154  |#define HW_ICLENABLE1R_SEN32_BITPOS 8
                             6827 ; 155  |#define HW_ICLENABLE1R_SEN33_BITPOS 9
                             6828 ; 156  |
                             6829 ; 157  |#define HW_ICLENABLE1R_SEN24_SETMASK 1<<HW_ICLENABLE1R_SEN24_BITPOS
                             6830 ; 158  |#define HW_ICLENABLE1R_SEN25_SETMASK 1<<HW_ICLENABLE1R_SEN25_BITPOS
                             6831 ; 159  |#define HW_ICLENABLE1R_SEN26_SETMASK 1<<HW_ICLENABLE1R_SEN26_BITPOS
                             6832 ; 160  |#define HW_ICLENABLE1R_SEN27_SETMASK 1<<HW_ICLENABLE1R_SEN27_BITPOS
                             6833 ; 161  |#define HW_ICLENABLE1R_SEN28_SETMASK 1<<HW_ICLENABLE1R_SEN28_BITPOS
                             6834 ; 162  |#define HW_ICLENABLE1R_SEN29_SETMASK 1<<HW_ICLENABLE1R_SEN29_BITPOS
                             6835 ; 163  |#define HW_ICLENABLE1R_SEN30_SETMASK 1<<HW_ICLENABLE1R_SEN30_BITPOS
                             6836 ; 164  |#define HW_ICLENABLE1R_SEN31_SETMASK 1<<HW_ICLENABLE1R_SEN31_BITPOS
                             6837 ; 165  |#define HW_ICLENABLE1R_SEN32_SETMASK 1<<HW_ICLENABLE1R_SEN32_BITPOS
                             6838 ; 166  |#define HW_ICLENABLE1R_SEN33_SETMASK 1<<HW_ICLENABLE1R_SEN33_BITPOS
                             6839 ; 167  |
                             6840 ; 168  |#define HW_ICLENABLE1R_SEN24_CLRMASK ~(WORD)HW_ICLENABLE1R_SEN24_SETMASK
                             6841 ; 169  |#define HW_ICLENABLE1R_SEN25_CLRMASK ~(WORD)HW_ICLENABLE1R_SEN25_SETMASK
                             6842 ; 170  |#define HW_ICLENABLE1R_SEN26_CLRMASK ~(WORD)HW_ICLENABLE1R_SEN26_SETMASK
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page  28

M:ADDR CODE           CYCLES LINE SOURCELINE
                             6843 ; 171  |#define HW_ICLENABLE1R_SEN27_CLRMASK ~(WORD)HW_ICLENABLE1R_SEN27_SETMASK
                             6844 ; 172  |#define HW_ICLENABLE1R_SEN28_CLRMASK ~(WORD)HW_ICLENABLE1R_SEN28_SETMASK
                             6845 ; 173  |#define HW_ICLENABLE1R_SEN29_CLRMASK ~(WORD)HW_ICLENABLE1R_SEN29_SETMASK
                             6846 ; 174  |#define HW_ICLENABLE1R_SEN30_CLRMASK ~(WORD)HW_ICLENABLE1R_SEN30_SETMASK
                             6847 ; 175  |#define HW_ICLENABLE1R_SEN31_CLRMASK ~(WORD)HW_ICLENABLE1R_SEN31_SETMASK
                             6848 ; 176  |#define HW_ICLENABLE1R_SEN32_CLRMASK ~(WORD)HW_ICLENABLE1R_SEN32_SETMASK
                             6849 ; 177  |#define HW_ICLENABLE1R_SEN33_CLRMASK ~(WORD)HW_ICLENABLE1R_SEN33_SETMASK
                             6850 ; 178  |
                             6851 ; 179  |
                             6852 ; 180  |/////////////////////////////////////////////////////////////////////////////////
                             6853 ; 181  |//  Interrupt Collector Status 0 Register (HW_ICLSTATUS0R) Bit Positions
                             6854 ; 182  |typedef union
                             6855 ; 183  |{
                             6856 ; 184  |    struct {
                             6857 ; 185  |        int SST0        :1;
                             6858 ; 186  |        int SST1        :1;
                             6859 ; 187  |        int SST2        :1;
                             6860 ; 188  |        int SST3        :1;
                             6861 ; 189  |        int SST4        :1;
                             6862 ; 190  |        int SST5        :1;
                             6863 ; 191  |        int SST6        :1;
                             6864 ; 192  |        int SST7        :1;
                             6865 ; 193  |        int SST8        :1;
                             6866 ; 194  |        int SST9        :1;
                             6867 ; 195  |        int SST10       :1;
                             6868 ; 196  |        int SST11       :1;
                             6869 ; 197  |        int SST12       :1;
                             6870 ; 198  |        int SST13       :1;
                             6871 ; 199  |        int SST14       :1;
                             6872 ; 200  |        int SST15       :1;
                             6873 ; 201  |        int SST16       :1;
                             6874 ; 202  |        int SST17       :1;
                             6875 ; 203  |        int SST18       :1;
                             6876 ; 204  |        int SST19       :1;
                             6877 ; 205  |        int SST20       :1;
                             6878 ; 206  |        int SST21       :1;
                             6879 ; 207  |        int SST22       :1;
                             6880 ; 208  |        int SST23       :1;
                             6881 ; 209  |    } B;
                             6882 ; 210  |    int I;
                             6883 ; 211  |} iclstatus0_type;
                             6884 ; 212  |#define HW_ICLSTATUS0R  (*(volatile iclstatus0_type _X*) (HW_ICOLL_BASEADDR+2)) /* Interrupt Priority Register Core */
                             6885 ; 213  |#define HW_ICLSTATUS0R_SST0_BITPOS 0
                             6886 ; 214  |#define HW_ICLSTATUS0R_SST1_BITPOS 1
                             6887 ; 215  |#define HW_ICLSTATUS0R_SST2_BITPOS 2
                             6888 ; 216  |#define HW_ICLSTATUS0R_SST3_BITPOS 3
                             6889 ; 217  |#define HW_ICLSTATUS0R_SST4_BITPOS 4
                             6890 ; 218  |#define HW_ICLSTATUS0R_SST5_BITPOS 5
                             6891 ; 219  |#define HW_ICLSTATUS0R_SST6_BITPOS 6
                             6892 ; 220  |#define HW_ICLSTATUS0R_SST7_BITPOS 7
                             6893 ; 221  |#define HW_ICLSTATUS0R_SST8_BITPOS 8
                             6894 ; 222  |#define HW_ICLSTATUS0R_SST9_BITPOS 9
                             6895 ; 223  |#define HW_ICLSTATUS0R_SST10_BITPOS 10
                             6896 ; 224  |#define HW_ICLSTATUS0R_SST11_BITPOS 11
                             6897 ; 225  |#define HW_ICLSTATUS0R_SST12_BITPOS 12
                             6898 ; 226  |#define HW_ICLSTATUS0R_SST13_BITPOS 13
                             6899 ; 227  |#define HW_ICLSTATUS0R_SST14_BITPOS 14
                             6900 ; 228  |#define HW_ICLSTATUS0R_SST15_BITPOS 15
                             6901 ; 229  |#define HW_ICLSTATUS0R_SST16_BITPOS 16
                             6902 ; 230  |#define HW_ICLSTATUS0R_SST17_BITPOS 17
                             6903 ; 231  |#define HW_ICLSTATUS0R_SST18_BITPOS 18
                             6904 ; 232  |#define HW_ICLSTATUS0R_SST19_BITPOS 19
                             6905 ; 233  |#define HW_ICLSTATUS0R_SST20_BITPOS 20
                             6906 ; 234  |#define HW_ICLSTATUS0R_SST21_BITPOS 21
                             6907 ; 235  |#define HW_ICLSTATUS0R_SST22_BITPOS 22
                             6908 ; 236  |#define HW_ICLSTATUS0R_SST23_BITPOS 23
                             6909 ; 237  |
                             6910 ; 238  |#define HW_ICLSTATUS0R_SST0_SETMASK 1<<HW_ICLSTATUS0R_SST0_BITPOS
                             6911 ; 239  |#define HW_ICLSTATUS0R_SST1_SETMASK 1<<HW_ICLSTATUS0R_SST1_BITPOS
                             6912 ; 240  |#define HW_ICLSTATUS0R_SST2_SETMASK 1<<HW_ICLSTATUS0R_SST2_BITPOS
                             6913 ; 241  |#define HW_ICLSTATUS0R_SST3_SETMASK 1<<HW_ICLSTATUS0R_SST3_BITPOS
                             6914 ; 242  |#define HW_ICLSTATUS0R_SST4_SETMASK 1<<HW_ICLSTATUS0R_SST4_BITPOS
                             6915 ; 243  |#define HW_ICLSTATUS0R_SST5_SETMASK 1<<HW_ICLSTATUS0R_SST5_BITPOS
                             6916 ; 244  |#define HW_ICLSTATUS0R_SST6_SETMASK 1<<HW_ICLSTATUS0R_SST6_BITPOS
                             6917 ; 245  |#define HW_ICLSTATUS0R_SST7_SETMASK 1<<HW_ICLSTATUS0R_SST7_BITPOS
                             6918 ; 246  |#define HW_ICLSTATUS0R_SST8_SETMASK 1<<HW_ICLSTATUS0R_SST8_BITPOS
                             6919 ; 247  |#define HW_ICLSTATUS0R_SST9_SETMASK 1<<HW_ICLSTATUS0R_SST9_BITPOS
                             6920 ; 248  |#define HW_ICLSTATUS0R_SST10_SETMASK 1<<HW_ICLSTATUS0R_SST10_BITPOS
                             6921 ; 249  |#define HW_ICLSTATUS0R_SST11_SETMASK 1<<HW_ICLSTATUS0R_SST11_BITPOS
                             6922 ; 250  |#define HW_ICLSTATUS0R_SST12_SETMASK 1<<HW_ICLSTATUS0R_SST12_BITPOS
                             6923 ; 251  |#define HW_ICLSTATUS0R_SST13_SETMASK 1<<HW_ICLSTATUS0R_SST13_BITPOS
                             6924 ; 252  |#define HW_ICLSTATUS0R_SST14_SETMASK 1<<HW_ICLSTATUS0R_SST14_BITPOS
                             6925 ; 253  |#define HW_ICLSTATUS0R_SST15_SETMASK 1<<HW_ICLSTATUS0R_SST15_BITPOS
                             6926 ; 254  |#define HW_ICLSTATUS0R_SST16_SETMASK 1<<HW_ICLSTATUS0R_SST16_BITPOS
                             6927 ; 255  |#define HW_ICLSTATUS0R_SST17_SETMASK 1<<HW_ICLSTATUS0R_SST17_BITPOS
                             6928 ; 256  |#define HW_ICLSTATUS0R_SST18_SETMASK 1<<HW_ICLSTATUS0R_SST18_BITPOS
                             6929 ; 257  |#define HW_ICLSTATUS0R_SST19_SETMASK 1<<HW_ICLSTATUS0R_SST19_BITPOS
                             6930 ; 258  |#define HW_ICLSTATUS0R_SST20_SETMASK 1<<HW_ICLSTATUS0R_SST20_BITPOS
                             6931 ; 259  |#define HW_ICLSTATUS0R_SST21_SETMASK 1<<HW_ICLSTATUS0R_SST21_BITPOS
                             6932 ; 260  |#define HW_ICLSTATUS0R_SST22_SETMASK 1<<HW_ICLSTATUS0R_SST22_BITPOS
                             6933 ; 261  |#define HW_ICLSTATUS0R_SST23_SETMASK 1<<HW_ICLSTATUS0R_SST23_BITPOS
                             6934 ; 262  |
                             6935 ; 263  |#define HW_ICLSTATUS0R_SST0_CLRMASK ~(WORD)HW_ICLSTATUS0R_SST0_SETMASK
                             6936 ; 264  |#define HW_ICLSTATUS0R_SST1_CLRMASK ~(WORD)HW_ICLSTATUS0R_SST1_SETMASK
                             6937 ; 265  |#define HW_ICLSTATUS0R_SST2_CLRMASK ~(WORD)HW_ICLSTATUS0R_SST2_SETMASK
                             6938 ; 266  |#define HW_ICLSTATUS0R_SST3_CLRMASK ~(WORD)HW_ICLSTATUS0R_SST3_SETMASK
                             6939 ; 267  |#define HW_ICLSTATUS0R_SST4_CLRMASK ~(WORD)HW_ICLSTATUS0R_SST4_SETMASK
                             6940 ; 268  |#define HW_ICLSTATUS0R_SST5_CLRMASK ~(WORD)HW_ICLSTATUS0R_SST5_SETMASK
                             6941 ; 269  |#define HW_ICLSTATUS0R_SST6_CLRMASK ~(WORD)HW_ICLSTATUS0R_SST6_SETMASK
                             6942 ; 270  |#define HW_ICLSTATUS0R_SST7_CLRMASK ~(WORD)HW_ICLSTATUS0R_SST7_SETMASK
                             6943 ; 271  |#define HW_ICLSTATUS0R_SST8_CLRMASK ~(WORD)HW_ICLSTATUS0R_SST8_SETMASK
                             6944 ; 272  |#define HW_ICLSTATUS0R_SST9_CLRMASK ~(WORD)HW_ICLSTATUS0R_SST9_SETMASK
                             6945 ; 273  |#define HW_ICLSTATUS0R_SST10_CLRMASK ~(WORD)HW_ICLSTATUS0R_SST10_SETMASK
                             6946 ; 274  |#define HW_ICLSTATUS0R_SST11_CLRMASK ~(WORD)HW_ICLSTATUS0R_SST11_SETMASK
                             6947 ; 275  |#define HW_ICLSTATUS0R_SST12_CLRMASK ~(WORD)HW_ICLSTATUS0R_SST12_SETMASK
                             6948 ; 276  |#define HW_ICLSTATUS0R_SST13_CLRMASK ~(WORD)HW_ICLSTATUS0R_SST13_SETMASK
                             6949 ; 277  |#define HW_ICLSTATUS0R_SST14_CLRMASK ~(WORD)HW_ICLSTATUS0R_SST14_SETMASK
                             6950 ; 278  |#define HW_ICLSTATUS0R_SST15_CLRMASK ~(WORD)HW_ICLSTATUS0R_SST15_SETMASK
                             6951 ; 279  |#define HW_ICLSTATUS0R_SST16_CLRMASK ~(WORD)HW_ICLSTATUS0R_SST16_SETMASK
                             6952 ; 280  |#define HW_ICLSTATUS0R_SST17_CLRMASK ~(WORD)HW_ICLSTATUS0R_SST17_SETMASK
                             6953 ; 281  |#define HW_ICLSTATUS0R_SST18_CLRMASK ~(WORD)HW_ICLSTATUS0R_SST18_SETMASK
                             6954 ; 282  |#define HW_ICLSTATUS0R_SST19_CLRMASK ~(WORD)HW_ICLSTATUS0R_SST19_SETMASK
                             6955 ; 283  |#define HW_ICLSTATUS0R_SST20_CLRMASK ~(WORD)HW_ICLSTATUS0R_SST20_SETMASK
                             6956 ; 284  |#define HW_ICLSTATUS0R_SST21_CLRMASK ~(WORD)HW_ICLSTATUS0R_SST21_SETMASK
                             6957 ; 285  |#define HW_ICLSTATUS0R_SST22_CLRMASK ~(WORD)HW_ICLSTATUS0R_SST22_SETMASK
                             6958 ; 286  |#define HW_ICLSTATUS0R_SST23_CLRMASK ~(WORD)HW_ICLSTATUS0R_SST23_SETMASK
                             6959 ; 287  |
                             6960 ; 288  |
                             6961 ; 289  |/////////////////////////////////////////////////////////////////////////////////
                             6962 ; 290  |//  Interrupt Collector Status 1 Register (HW_ICLSTATUS1R) Bit Positions
                             6963 ; 291  |typedef union
                             6964 ; 292  |{
                             6965 ; 293  |    struct {
                             6966 ; 294  |        int SST24       :1;
                             6967 ; 295  |        int SST25       :1;
                             6968 ; 296  |        int SST26       :1;
                             6969 ; 297  |        int SST27       :1;
                             6970 ; 298  |        int SST28       :1;
                             6971 ; 299  |        int SST29       :1;
                             6972 ; 300  |        int SST30       :1;
                             6973 ; 301  |        int SST31       :1;
                             6974 ; 302  |        int SST32       :1;
                             6975 ; 303  |        int SST33       :1;
                             6976 ; 304  |    } B;
                             6977 ; 305  |    int I;
                             6978 ; 306  |} iclstatus1_type;
                             6979 ; 307  |#define HW_ICLSTATUS1R  (*(volatile iclstatus1_type _X*) (HW_ICOLL_BASEADDR+3)) /* Interrupt Priority Register Core */
                             6980 ; 308  |#define HW_ICLSTATUS1R_SST24_BITPOS 0
                             6981 ; 309  |#define HW_ICLSTATUS1R_SST25_BITPOS 1
                             6982 ; 310  |#define HW_ICLSTATUS1R_SST26_BITPOS 2
                             6983 ; 311  |#define HW_ICLSTATUS1R_SST27_BITPOS 3
                             6984 ; 312  |#define HW_ICLSTATUS1R_SST28_BITPOS 4
                             6985 ; 313  |#define HW_ICLSTATUS1R_SST29_BITPOS 5
                             6986 ; 314  |#define HW_ICLSTATUS1R_SST30_BITPOS 6
                             6987 ; 315  |#define HW_ICLSTATUS1R_SST31_BITPOS 7
                             6988 ; 316  |#define HW_ICLSTATUS1R_SST32_BITPOS 8
                             6989 ; 317  |#define HW_ICLSTATUS1R_SST33_BITPOS 9
                             6990 ; 318  |
                             6991 ; 319  |#define HW_ICLSTATUS1R_SST24_SETMASK 1<<HW_ICLSTATUS1R_SST24_BITPOS
                             6992 ; 320  |#define HW_ICLSTATUS1R_SST25_SETMASK 1<<HW_ICLSTATUS1R_SST25_BITPOS
                             6993 ; 321  |#define HW_ICLSTATUS1R_SST26_SETMASK 1<<HW_ICLSTATUS1R_SST26_BITPOS
                             6994 ; 322  |#define HW_ICLSTATUS1R_SST27_SETMASK 1<<HW_ICLSTATUS1R_SST27_BITPOS
                             6995 ; 323  |#define HW_ICLSTATUS1R_SST28_SETMASK 1<<HW_ICLSTATUS1R_SST28_BITPOS
                             6996 ; 324  |#define HW_ICLSTATUS1R_SST29_SETMASK 1<<HW_ICLSTATUS1R_SST29_BITPOS
                             6997 ; 325  |#define HW_ICLSTATUS1R_SST30_SETMASK 1<<HW_ICLSTATUS1R_SST30_BITPOS
                             6998 ; 326  |#define HW_ICLSTATUS1R_SST31_SETMASK 1<<HW_ICLSTATUS1R_SST31_BITPOS
                             6999 ; 327  |#define HW_ICLSTATUS1R_SST32_SETMASK 1<<HW_ICLSTATUS1R_SST32_BITPOS
                             7000 ; 328  |#define HW_ICLSTATUS1R_SST33_SETMASK 1<<HW_ICLSTATUS1R_SST33_BITPOS
                             7001 ; 329  |
                             7002 ; 330  |#define HW_ICLSTATUS1R_SST24_CLRMASK ~(WORD)HW_ICLSTATUS1R_SST24_SETMASK
                             7003 ; 331  |#define HW_ICLSTATUS1R_SST25_CLRMASK ~(WORD)HW_ICLSTATUS1R_SST25_SETMASK
                             7004 ; 332  |#define HW_ICLSTATUS1R_SST26_CLRMASK ~(WORD)HW_ICLSTATUS1R_SST26_SETMASK
                             7005 ; 333  |#define HW_ICLSTATUS1R_SST27_CLRMASK ~(WORD)HW_ICLSTATUS1R_SST27_SETMASK
                             7006 ; 334  |#define HW_ICLSTATUS1R_SST28_CLRMASK ~(WORD)HW_ICLSTATUS1R_SST28_SETMASK
                             7007 ; 335  |#define HW_ICLSTATUS1R_SST29_CLRMASK ~(WORD)HW_ICLSTATUS1R_SST29_SETMASK
                             7008 ; 336  |#define HW_ICLSTATUS1R_SST30_CLRMASK ~(WORD)HW_ICLSTATUS1R_SST30_SETMASK
                             7009 ; 337  |#define HW_ICLSTATUS1R_SST31_CLRMASK ~(WORD)HW_ICLSTATUS1R_SST31_SETMASK
                             7010 ; 338  |#define HW_ICLSTATUS1R_SST32_CLRMASK ~(WORD)HW_ICLSTATUS1R_SST32_SETMASK
                             7011 ; 339  |#define HW_ICLSTATUS1R_SST33_CLRMASK ~(WORD)HW_ICLSTATUS1R_SST33_SETMASK
                             7012 ; 340  |
                             7013 ; 341  |
                             7014 ; 342  |/////////////////////////////////////////////////////////////////////////////////
                             7015 ; 343  |//  Interrupt Collector Priority Defs
                             7016 ; 344  |typedef union
                             7017 ; 345  |{
                             7018 ; 346  |    struct {
                             7019 ; 347  |        unsigned S0P    :3;
                             7020 ; 348  |        unsigned S1P    :3;
                             7021 ; 349  |        unsigned S2P    :3;
                             7022 ; 350  |        unsigned S3P    :3;
                             7023 ; 351  |        unsigned S4P    :3;
                             7024 ; 352  |        unsigned S5P    :3;
                             7025 ; 353  |        unsigned S6P    :3;
                             7026 ; 354  |        unsigned S7P    :3;
                             7027 ; 355  |    } B;
                             7028 ; 356  |    int I;
                             7029 ; 357  |
                             7030 ; 358  |} iclprior0_type;
                             7031 ; 359  |
                             7032 ; 360  |#define HW_ICLPRIOR0R   (*(volatile iclprior0_type _X*) (HW_ICOLL_BASEADDR+4)) /* Interrupt Collector Register 0 Priority   */
                             7033 ; 361  |
                             7034 ; 362  |#define HW_ICLPRIORR_SP_0 0
                             7035 ; 363  |#define HW_ICLPRIORR_SP_1 1
                             7036 ; 364  |#define HW_ICLPRIORR_SP_2 2
                             7037 ; 365  |#define HW_ICLPRIORR_SP_3 3
                             7038 ; 366  |#define HW_ICLPRIORR_SP_4 4
                             7039 ; 367  |#define HW_ICLPRIORR_SP_5 5
                             7040 ; 368  |#define HW_ICLPRIORR_SP_6 6
                             7041 ; 369  |#define HW_ICLPRIORR_SP_7 7
                             7042 ; 370  |
                             7043 ; 371  |
                             7044 ; 372  |/////////////////////////////////////////////////////////////////////////////////
                             7045 ; 373  |//  Interrupt Collector Priority 0 Register (HW_ICLPRIOR0R) Bit Positions
                             7046 ; 374  |#define HW_ICLPRIOR0R_S0P_BITPOS 0
                             7047 ; 375  |#define HW_ICLPRIOR0R_S1P_BITPOS 3
                             7048 ; 376  |#define HW_ICLPRIOR0R_S2P_BITPOS 6
                             7049 ; 377  |#define HW_ICLPRIOR0R_S3P_BITPOS 9
                             7050 ; 378  |#define HW_ICLPRIOR0R_S4P_BITPOS 12
                             7051 ; 379  |#define HW_ICLPRIOR0R_S5P_BITPOS 15
                             7052 ; 380  |#define HW_ICLPRIOR0R_S6P_BITPOS 18
                             7053 ; 381  |#define HW_ICLPRIOR0R_S7P_BITPOS 21
                             7054 ; 382  |
                             7055 ; 383  |#define HW_ICLPRIOR0R_S0P_SETMASK 7<<HW_ICLPRIOR0R_S0P_BITPOS
                             7056 ; 384  |#define HW_ICLPRIOR0R_S1P_SETMASK 7<<HW_ICLPRIOR0R_S1P_BITPOS
                             7057 ; 385  |#define HW_ICLPRIOR0R_S2P_SETMASK 7<<HW_ICLPRIOR0R_S2P_BITPOS
                             7058 ; 386  |#define HW_ICLPRIOR0R_S3P_SETMASK 7<<HW_ICLPRIOR0R_S3P_BITPOS
                             7059 ; 387  |#define HW_ICLPRIOR0R_S4P_SETMASK 7<<HW_ICLPRIOR0R_S4P_BITPOS
                             7060 ; 388  |#define HW_ICLPRIOR0R_S5P_SETMASK 7<<HW_ICLPRIOR0R_S5P_BITPOS
                             7061 ; 389  |#define HW_ICLPRIOR0R_S6P_SETMASK 7<<HW_ICLPRIOR0R_S6P_BITPOS
                             7062 ; 390  |#define HW_ICLPRIOR0R_S7P_SETMASK 7<<HW_ICLPRIOR0R_S7P_BITPOS
                             7063 ; 391  |
                             7064 ; 392  |#define HW_ICLPRIOR0R_S0P_CLRMASK ~(WORD)HW_ICLPRIOR0R_S0P_SETMASK
                             7065 ; 393  |#define HW_ICLPRIOR0R_S1P_CLRMASK ~(WORD)HW_ICLPRIOR0R_S1P_SETMASK
                             7066 ; 394  |#define HW_ICLPRIOR0R_S2P_CLRMASK ~(WORD)HW_ICLPRIOR0R_S2P_SETMASK
                             7067 ; 395  |#define HW_ICLPRIOR0R_S3P_CLRMASK ~(WORD)HW_ICLPRIOR0R_S3P_SETMASK
                             7068 ; 396  |#define HW_ICLPRIOR0R_S4P_CLRMASK ~(WORD)HW_ICLPRIOR0R_S4P_SETMASK
                             7069 ; 397  |#define HW_ICLPRIOR0R_S5P_CLRMASK ~(WORD)HW_ICLPRIOR0R_S5P_SETMASK
                             7070 ; 398  |#define HW_ICLPRIOR0R_S6P_CLRMASK ~(WORD)HW_ICLPRIOR0R_S6P_SETMASK
                             7071 ; 399  |#define HW_ICLPRIOR0R_S7P_CLRMASK ~(WORD)HW_ICLPRIOR0R_S7P_SETMASK
                             7072 ; 400  |
                             7073 ; 401  |
                             7074 ; 402  |/////////////////////////////////////////////////////////////////////////////////
                             7075 ; 403  |//  Interrupt Collector Priority 1 Register (HW_ICLPRIOR1R) Bit Positions
                             7076 ; 404  |typedef union
                             7077 ; 405  |{
                             7078 ; 406  |    struct {
                             7079 ; 407  |        unsigned S8P    :3;
                             7080 ; 408  |        unsigned S9P    :3;
                             7081 ; 409  |        unsigned S10P   :3;
                             7082 ; 410  |        unsigned S11P   :3;
                             7083 ; 411  |        unsigned S12P   :3;
                             7084 ; 412  |        unsigned S13P   :3;
                             7085 ; 413  |        unsigned S14P   :3;
                             7086 ; 414  |        unsigned S15P   :3;
                             7087 ; 415  |    } B;
                             7088 ; 416  |    int I;
                             7089 ; 417  |} iclprior1_type;
                             7090 ; 418  |
                             7091 ; 419  |#define HW_ICLPRIOR1R   (*(volatile iclprior1_type _X*) (HW_ICOLL_BASEADDR+5)) /* Interrupt Collector Register 1 Priority   */
                             7092 ; 420  |
                             7093 ; 421  |#define HW_ICLPRIOR1R_S8P_BITPOS 0
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page  29

M:ADDR CODE           CYCLES LINE SOURCELINE
                             7094 ; 422  |#define HW_ICLPRIOR1R_S9P_BITPOS 3
                             7095 ; 423  |#define HW_ICLPRIOR1R_S10P_BITPOS 6
                             7096 ; 424  |#define HW_ICLPRIOR1R_S11P_BITPOS 9
                             7097 ; 425  |#define HW_ICLPRIOR1R_S12P_BITPOS 12
                             7098 ; 426  |#define HW_ICLPRIOR1R_S13P_BITPOS 15
                             7099 ; 427  |#define HW_ICLPRIOR1R_S14P_BITPOS 18
                             7100 ; 428  |#define HW_ICLPRIOR1R_S15P_BITPOS 21
                             7101 ; 429  |
                             7102 ; 430  |#define HW_ICLPRIOR1R_S8P_SETMASK 7<<HW_ICLPRIOR1R_S8P_BITPOS
                             7103 ; 431  |#define HW_ICLPRIOR1R_S9P_SETMASK 7<<HW_ICLPRIOR1R_S9P_BITPOS
                             7104 ; 432  |#define HW_ICLPRIOR1R_S10P_SETMASK 7<<HW_ICLPRIOR1R_S10P_BITPOS
                             7105 ; 433  |#define HW_ICLPRIOR1R_S11P_SETMASK 7<<HW_ICLPRIOR1R_S11P_BITPOS
                             7106 ; 434  |#define HW_ICLPRIOR1R_S12P_SETMASK 7<<HW_ICLPRIOR1R_S12P_BITPOS
                             7107 ; 435  |#define HW_ICLPRIOR1R_S13P_SETMASK 7<<HW_ICLPRIOR1R_S13P_BITPOS
                             7108 ; 436  |#define HW_ICLPRIOR1R_S14P_SETMASK 7<<HW_ICLPRIOR1R_S14P_BITPOS
                             7109 ; 437  |#define HW_ICLPRIOR1R_S15P_SETMASK 7<<HW_ICLPRIOR1R_S15P_BITPOS
                             7110 ; 438  |
                             7111 ; 439  |#define HW_ICLPRIOR1R_S8P_CLRMASK ~(WORD)HW_ICLPRIOR1R_S8P_SETMASK
                             7112 ; 440  |#define HW_ICLPRIOR1R_S9P_CLRMASK ~(WORD)HW_ICLPRIOR1R_S9P_SETMASK
                             7113 ; 441  |#define HW_ICLPRIOR1R_S10P_CLRMASK ~(WORD)HW_ICLPRIOR1R_S10P_SETMASK
                             7114 ; 442  |#define HW_ICLPRIOR1R_S11P_CLRMASK ~(WORD)HW_ICLPRIOR1R_S11P_SETMASK
                             7115 ; 443  |#define HW_ICLPRIOR1R_S12P_CLRMASK ~(WORD)HW_ICLPRIOR1R_S12P_SETMASK
                             7116 ; 444  |#define HW_ICLPRIOR1R_S13P_CLRMASK ~(WORD)HW_ICLPRIOR1R_S13P_SETMASK
                             7117 ; 445  |#define HW_ICLPRIOR1R_S14P_CLRMASK ~(WORD)HW_ICLPRIOR1R_S14P_SETMASK
                             7118 ; 446  |#define HW_ICLPRIOR1R_S15P_CLRMASK ~(WORD)HW_ICLPRIOR1R_S15P_SETMASK
                             7119 ; 447  |
                             7120 ; 448  |
                             7121 ; 449  |/////////////////////////////////////////////////////////////////////////////////
                             7122 ; 450  |//  Interrupt Collector Priority 2 Register (HW_ICLPRI2R) Bit Positions
                             7123 ; 451  |typedef union               /* Interrupt Collector Priority 2 Register      */
                             7124 ; 452  |{
                             7125 ; 453  |    struct {
                             7126 ; 454  |        unsigned S16P   :3;
                             7127 ; 455  |        unsigned S17P   :3;
                             7128 ; 456  |        unsigned S18P   :3;
                             7129 ; 457  |        unsigned S19P   :3;
                             7130 ; 458  |        unsigned S20P   :3;
                             7131 ; 459  |        unsigned S21P   :3;
                             7132 ; 460  |        unsigned S22P   :3;
                             7133 ; 461  |        unsigned S23P   :3;
                             7134 ; 462  |    } B;
                             7135 ; 463  |    int I;
                             7136 ; 464  |} iclprior2_type;
                             7137 ; 465  |#define HW_ICLPRIOR2R   (*(volatile iclprior2_type _X*) (HW_ICOLL_BASEADDR+6)) /* Interrupt Collector Register 2 Priority   */
                             7138 ; 466  |#define HW_ICLPRIOR2R_S16P_BITPOS 0
                             7139 ; 467  |#define HW_ICLPRIOR2R_S17P_BITPOS 3
                             7140 ; 468  |#define HW_ICLPRIOR2R_S18P_BITPOS 6
                             7141 ; 469  |#define HW_ICLPRIOR2R_S19P_BITPOS 9
                             7142 ; 470  |#define HW_ICLPRIOR2R_S20P_BITPOS 12
                             7143 ; 471  |#define HW_ICLPRIOR2R_S21P_BITPOS 15
                             7144 ; 472  |#define HW_ICLPRIOR2R_S22P_BITPOS 18
                             7145 ; 473  |#define HW_ICLPRIOR2R_S23P_BITPOS 21
                             7146 ; 474  |
                             7147 ; 475  |#define HW_ICLPRIOR2R_S16P_SETMASK 7<<HW_ICLPRIOR2R_S16P_BITPOS
                             7148 ; 476  |#define HW_ICLPRIOR2R_S17P_SETMASK 7<<HW_ICLPRIOR2R_S17P_BITPOS
                             7149 ; 477  |#define HW_ICLPRIOR2R_S18P_SETMASK 7<<HW_ICLPRIOR2R_S18P_BITPOS
                             7150 ; 478  |#define HW_ICLPRIOR2R_S19P_SETMASK 7<<HW_ICLPRIOR2R_S19P_BITPOS
                             7151 ; 479  |#define HW_ICLPRIOR2R_S20P_SETMASK 7<<HW_ICLPRIOR2R_S20P_BITPOS
                             7152 ; 480  |#define HW_ICLPRIOR2R_S21P_SETMASK 7<<HW_ICLPRIOR2R_S21P_BITPOS
                             7153 ; 481  |#define HW_ICLPRIOR2R_S22P_SETMASK 7<<HW_ICLPRIOR2R_S22P_BITPOS
                             7154 ; 482  |#define HW_ICLPRIOR2R_S23P_SETMASK 7<<HW_ICLPRIOR2R_S23P_BITPOS
                             7155 ; 483  |
                             7156 ; 484  |#define HW_ICLPRIOR2R_S16P_CLRMASK ~(WORD)HW_ICLPRIOR2R_S16P_SETMASK
                             7157 ; 485  |#define HW_ICLPRIOR2R_S17P_CLRMASK ~(WORD)HW_ICLPRIOR2R_S17P_SETMASK
                             7158 ; 486  |#define HW_ICLPRIOR2R_S18P_CLRMASK ~(WORD)HW_ICLPRIOR2R_S18P_SETMASK
                             7159 ; 487  |#define HW_ICLPRIOR2R_S19P_CLRMASK ~(WORD)HW_ICLPRIOR2R_S19P_SETMASK
                             7160 ; 488  |#define HW_ICLPRIOR2R_S20P_CLRMASK ~(WORD)HW_ICLPRIOR2R_S20P_SETMASK
                             7161 ; 489  |#define HW_ICLPRIOR2R_S21P_CLRMASK ~(WORD)HW_ICLPRIOR2R_S21P_SETMASK
                             7162 ; 490  |#define HW_ICLPRIOR2R_S22P_CLRMASK ~(WORD)HW_ICLPRIOR2R_S22P_SETMASK
                             7163 ; 491  |#define HW_ICLPRIOR2R_S23P_CLRMASK ~(WORD)HW_ICLPRIOR2R_S23P_SETMASK
                             7164 ; 492  |
                             7165 ; 493  |
                             7166 ; 494  |/////////////////////////////////////////////////////////////////////////////////
                             7167 ; 495  |//  Interrupt Collector Priority 3 Register (HW_ICLPRI3R) Bit Positions
                             7168 ; 496  |typedef union               /* Interrupt Collector Priority 3 Register      */
                             7169 ; 497  |{
                             7170 ; 498  |    struct {
                             7171 ; 499  |        unsigned S24P   :3;
                             7172 ; 500  |        unsigned S25P   :3;
                             7173 ; 501  |        unsigned S26P   :3;
                             7174 ; 502  |        unsigned S27P   :3;
                             7175 ; 503  |        unsigned S28P   :3;
                             7176 ; 504  |        unsigned S29P   :3;
                             7177 ; 505  |        unsigned S30P   :3;
                             7178 ; 506  |        unsigned S31P   :3;
                             7179 ; 507  |    } B;
                             7180 ; 508  |    int I;
                             7181 ; 509  |} iclprior3_type;
                             7182 ; 510  |#define HW_ICLPRIOR3R   (*(volatile iclprior3_type _X*) (HW_ICOLL_BASEADDR+7)) /* Interrupt Collector Register 3 Priority   */
                             7183 ; 511  |
                             7184 ; 512  |#define HW_ICLPRIOR3R_S24P_BITPOS 0
                             7185 ; 513  |#define HW_ICLPRIOR3R_S25P_BITPOS 3
                             7186 ; 514  |#define HW_ICLPRIOR3R_S26P_BITPOS 6
                             7187 ; 515  |#define HW_ICLPRIOR3R_S27P_BITPOS 9
                             7188 ; 516  |#define HW_ICLPRIOR3R_S28P_BITPOS 12
                             7189 ; 517  |#define HW_ICLPRIOR3R_S29P_BITPOS 15
                             7190 ; 518  |#define HW_ICLPRIOR3R_S30P_BITPOS 18
                             7191 ; 519  |#define HW_ICLPRIOR3R_S31P_BITPOS 21
                             7192 ; 520  |
                             7193 ; 521  |#define HW_ICLPRIOR3R_S24P_SETMASK 7<<HW_ICLPRIOR3R_S24P_BITPOS
                             7194 ; 522  |#define HW_ICLPRIOR3R_S25P_SETMASK 7<<HW_ICLPRIOR3R_S25P_BITPOS
                             7195 ; 523  |#define HW_ICLPRIOR3R_S26P_SETMASK 7<<HW_ICLPRIOR3R_S26P_BITPOS
                             7196 ; 524  |#define HW_ICLPRIOR3R_S27P_SETMASK 7<<HW_ICLPRIOR3R_S27P_BITPOS
                             7197 ; 525  |#define HW_ICLPRIOR3R_S28P_SETMASK 7<<HW_ICLPRIOR3R_S28P_BITPOS
                             7198 ; 526  |#define HW_ICLPRIOR3R_S29P_SETMASK 7<<HW_ICLPRIOR3R_S29P_BITPOS
                             7199 ; 527  |#define HW_ICLPRIOR3R_S30P_SETMASK 7<<HW_ICLPRIOR3R_S30P_BITPOS
                             7200 ; 528  |#define HW_ICLPRIOR3R_S31P_SETMASK 7<<HW_ICLPRIOR3R_S31P_BITPOS
                             7201 ; 529  |
                             7202 ; 530  |#define HW_ICLPRIOR3R_S24P_CLRMASK ~(WORD)HW_ICLPRIOR3R_S24P_SETMASK
                             7203 ; 531  |#define HW_ICLPRIOR3R_S25P_CLRMASK ~(WORD)HW_ICLPRIOR3R_S25P_SETMASK
                             7204 ; 532  |#define HW_ICLPRIOR3R_S26P_CLRMASK ~(WORD)HW_ICLPRIOR3R_S26P_SETMASK
                             7205 ; 533  |#define HW_ICLPRIOR3R_S27P_CLRMASK ~(WORD)HW_ICLPRIOR3R_S27P_SETMASK
                             7206 ; 534  |#define HW_ICLPRIOR3R_S28P_CLRMASK ~(WORD)HW_ICLPRIOR3R_S28P_SETMASK
                             7207 ; 535  |#define HW_ICLPRIOR3R_S29P_CLRMASK ~(WORD)HW_ICLPRIOR3R_S29P_SETMASK
                             7208 ; 536  |#define HW_ICLPRIOR3R_S30P_CLRMASK ~(WORD)HW_ICLPRIOR3R_S30P_SETMASK
                             7209 ; 537  |#define HW_ICLPRIOR3R_S31P_CLRMASK ~(WORD)HW_ICLPRIOR3R_S31P_SETMASK
                             7210 ; 538  |
                             7211 ; 539  |
                             7212 ; 540  |/////////////////////////////////////////////////////////////////////////////////
                             7213 ; 541  |//  Interrupt Collector Priority 4 Register (HW_ICLPRI4R) Bit Positions
                             7214 ; 542  |typedef union               /* Interrupt Collector Priority 3 Register      */
                             7215 ; 543  |{
                             7216 ; 544  |    struct {
                             7217 ; 545  |        unsigned S32P   :3;
                             7218 ; 546  |        unsigned S33P   :3;
                             7219 ; 547  |    } B;
                             7220 ; 548  |    int I;
                             7221 ; 549  |} iclprior4_type;
                             7222 ; 550  |#define HW_ICLPRIOR4R (*(volatile iclprior4_type _X*) (HW_ICOLL_BASEADDR+17)) /* Interrupt Collector Register 4 Priority   */
                             7223 ; 551  |
                             7224 ; 552  |#define HW_ICLPRIOR4R_S32P_BITPOS 0
                             7225 ; 553  |#define HW_ICLPRIOR4R_S33P_BITPOS 3
                             7226 ; 554  |
                             7227 ; 555  |#define HW_ICLPRIOR4R_S32P_SETMASK 7<<HW_ICLPRIOR4R_S32P_BITPOS
                             7228 ; 556  |#define HW_ICLPRIOR4R_S33P_SETMASK 7<<HW_ICLPRIOR4R_S33P_BITPOS
                             7229 ; 557  |
                             7230 ; 558  |#define HW_ICLPRIOR4R_S32P_CLRMASK ~(WORD)HW_ICLPRIOR4R_S32P_SETMASK
                             7231 ; 559  |#define HW_ICLPRIOR4R_S33P_CLRMASK ~(WORD)HW_ICLPRIOR4R_S33P_SETMASK
                             7232 ; 560  |
                             7233 ; 561  |
                             7234 ; 562  |/////////////////////////////////////////////////////////////////////////////////
                             7235 ; 563  |//  Interrupt Collector Steering 0 Register (HW_ICLSTEER0R) Bit Positions
                             7236 ; 564  |typedef union               /* Interrupt Collector Steering 0 Register      */
                             7237 ; 565  |{
                             7238 ; 566  |    struct {
                             7239 ; 567  |        unsigned S0S    :2;
                             7240 ; 568  |        unsigned S1S    :2;
                             7241 ; 569  |        unsigned S2S    :2;
                             7242 ; 570  |        unsigned S3S    :2;
                             7243 ; 571  |        unsigned S4S    :2;
                             7244 ; 572  |        unsigned S5S    :2;
                             7245 ; 573  |        unsigned S6S    :2;
                             7246 ; 574  |        unsigned S7S    :2;
                             7247 ; 575  |        unsigned S8S    :2;
                             7248 ; 576  |        unsigned S9S    :2;
                             7249 ; 577  |        unsigned S10S   :2;
                             7250 ; 578  |        unsigned S11S   :2;
                             7251 ; 579  |    } B;
                             7252 ; 580  |    int I;
                             7253 ; 581  |} iclsteer0_type;
                             7254 ; 582  |#define HW_ICLSTEER0R   (*(volatile iclsteer0_type _X*) (HW_ICOLL_BASEADDR+8)) /* Interrupt Collector Steering Register 0   */
                             7255 ; 583  |
                             7256 ; 584  |#define HW_ICLSTEER0R_S0P_BITPOS 0
                             7257 ; 585  |#define HW_ICLSTEER0R_S1P_BITPOS 2
                             7258 ; 586  |#define HW_ICLSTEER0R_S2P_BITPOS 4
                             7259 ; 587  |#define HW_ICLSTEER0R_S3P_BITPOS 6
                             7260 ; 588  |#define HW_ICLSTEER0R_S4P_BITPOS 8
                             7261 ; 589  |#define HW_ICLSTEER0R_S5P_BITPOS 10
                             7262 ; 590  |#define HW_ICLSTEER0R_S6P_BITPOS 12
                             7263 ; 591  |#define HW_ICLSTEER0R_S7P_BITPOS 14
                             7264 ; 592  |#define HW_ICLSTEER0R_S8P_BITPOS 16
                             7265 ; 593  |#define HW_ICLSTEER0R_S9P_BITPOS 18
                             7266 ; 594  |#define HW_ICLSTEER0R_S10P_BITPOS 20
                             7267 ; 595  |#define HW_ICLSTEER0R_S11P_BITPOS 22
                             7268 ; 596  |
                             7269 ; 597  |#define HW_ICLSTEER0R_S0P_SETMASK 3<<HW_ICLSTEER0R_S0P_BITPOS
                             7270 ; 598  |#define HW_ICLSTEER0R_S1P_SETMASK 3<<HW_ICLSTEER0R_S1P_BITPOS
                             7271 ; 599  |#define HW_ICLSTEER0R_S2P_SETMASK 3<<HW_ICLSTEER0R_S2P_BITPOS
                             7272 ; 600  |#define HW_ICLSTEER0R_S3P_SETMASK 3<<HW_ICLSTEER0R_S3P_BITPOS
                             7273 ; 601  |#define HW_ICLSTEER0R_S4P_SETMASK 3<<HW_ICLSTEER0R_S4P_BITPOS
                             7274 ; 602  |#define HW_ICLSTEER0R_S5P_SETMASK 3<<HW_ICLSTEER0R_S5P_BITPOS
                             7275 ; 603  |#define HW_ICLSTEER0R_S6P_SETMASK 3<<HW_ICLSTEER0R_S6P_BITPOS
                             7276 ; 604  |#define HW_ICLSTEER0R_S7P_SETMASK 3<<HW_ICLSTEER0R_S7P_BITPOS
                             7277 ; 605  |#define HW_ICLSTEER0R_S8P_SETMASK 3<<HW_ICLSTEER0R_S8P_BITPOS
                             7278 ; 606  |#define HW_ICLSTEER0R_S9P_SETMASK 3<<HW_ICLSTEER0R_S9P_BITPOS
                             7279 ; 607  |#define HW_ICLSTEER0R_S10P_SETMASK 3<<HW_ICLSTEER0R_S10P_BITPOS
                             7280 ; 608  |#define HW_ICLSTEER0R_S11P_SETMASK 3<<HW_ICLSTEER0R_S11P_BITPOS
                             7281 ; 609  |
                             7282 ; 610  |#define HW_ICLSTEER0R_S0P_CLRMASK ~(WORD)HW_ICLSTEER0R_S0P_SETMASK
                             7283 ; 611  |#define HW_ICLSTEER0R_S1P_CLRMASK ~(WORD)HW_ICLSTEER0R_S1P_SETMASK
                             7284 ; 612  |#define HW_ICLSTEER0R_S2P_CLRMASK ~(WORD)HW_ICLSTEER0R_S2P_SETMASK
                             7285 ; 613  |#define HW_ICLSTEER0R_S3P_CLRMASK ~(WORD)HW_ICLSTEER0R_S3P_SETMASK
                             7286 ; 614  |#define HW_ICLSTEER0R_S4P_CLRMASK ~(WORD)HW_ICLSTEER0R_S4P_SETMASK
                             7287 ; 615  |#define HW_ICLSTEER0R_S5P_CLRMASK ~(WORD)HW_ICLSTEER0R_S5P_SETMASK
                             7288 ; 616  |#define HW_ICLSTEER0R_S6P_CLRMASK ~(WORD)HW_ICLSTEER0R_S6P_SETMASK
                             7289 ; 617  |#define HW_ICLSTEER0R_S7P_CLRMASK ~(WORD)HW_ICLSTEER0R_S7P_SETMASK
                             7290 ; 618  |#define HW_ICLSTEER0R_S8P_CLRMASK ~(WORD)HW_ICLSTEER0R_S8P_SETMASK
                             7291 ; 619  |#define HW_ICLSTEER0R_S9P_CLRMASK ~(WORD)HW_ICLSTEER0R_S9P_SETMASK
                             7292 ; 620  |#define HW_ICLSTEER0R_S10P_CLRMASK ~(WORD)HW_ICLSTEER0R_S10P_SETMASK
                             7293 ; 621  |#define HW_ICLSTEER0R_S11P_CLRMASK ~(WORD)HW_ICLSTEER0R_S11P_SETMASK
                             7294 ; 622  |
                             7295 ; 623  |
                             7296 ; 624  |/////////////////////////////////////////////////////////////////////////////////
                             7297 ; 625  |//  Interrupt Collector Steering 1 Register (HW_ICLSTEER1R) Bit Positions
                             7298 ; 626  |typedef union               /* Interrupt Collector Steering 1 Register      */
                             7299 ; 627  |{
                             7300 ; 628  |    struct {
                             7301 ; 629  |        unsigned S12S   :2;
                             7302 ; 630  |        unsigned S13S   :2;
                             7303 ; 631  |        unsigned S14S   :2;
                             7304 ; 632  |        unsigned S15S   :2;
                             7305 ; 633  |        unsigned S16S   :2;
                             7306 ; 634  |        unsigned S17S   :2;
                             7307 ; 635  |        unsigned S18S   :2;
                             7308 ; 636  |        unsigned S19S   :2;
                             7309 ; 637  |        unsigned S20S   :2;
                             7310 ; 638  |        unsigned S21S   :2;
                             7311 ; 639  |        unsigned S22S   :2;
                             7312 ; 640  |        unsigned S23S   :2;
                             7313 ; 641  |    } B;
                             7314 ; 642  |    int I;
                             7315 ; 643  |} iclsteer1_type;
                             7316 ; 644  |#define HW_ICLSTEER1R   (*(volatile iclsteer1_type _X*) (HW_ICOLL_BASEADDR+9)) /* Interrupt Collector Steering Register 1   */
                             7317 ; 645  |#define HW_ICLSTEER1R_S12P_BITPOS 0
                             7318 ; 646  |#define HW_ICLSTEER1R_S13P_BITPOS 2
                             7319 ; 647  |#define HW_ICLSTEER1R_S14P_BITPOS 4
                             7320 ; 648  |#define HW_ICLSTEER1R_S15P_BITPOS 6
                             7321 ; 649  |#define HW_ICLSTEER1R_S16P_BITPOS 8
                             7322 ; 650  |#define HW_ICLSTEER1R_S17P_BITPOS 10
                             7323 ; 651  |#define HW_ICLSTEER1R_S18P_BITPOS 12
                             7324 ; 652  |#define HW_ICLSTEER1R_S19P_BITPOS 14
                             7325 ; 653  |#define HW_ICLSTEER1R_S20P_BITPOS 16
                             7326 ; 654  |#define HW_ICLSTEER1R_S21P_BITPOS 18
                             7327 ; 655  |#define HW_ICLSTEER1R_S22P_BITPOS 20
                             7328 ; 656  |#define HW_ICLSTEER1R_S23P_BITPOS 22
                             7329 ; 657  |
                             7330 ; 658  |#define HW_ICLSTEER1R_S12P_SETMASK 3<<HW_ICLSTEER1R_S12P_BITPOS
                             7331 ; 659  |#define HW_ICLSTEER1R_S13P_SETMASK 3<<HW_ICLSTEER1R_S13P_BITPOS
                             7332 ; 660  |#define HW_ICLSTEER1R_S14P_SETMASK 3<<HW_ICLSTEER1R_S14P_BITPOS
                             7333 ; 661  |#define HW_ICLSTEER1R_S15P_SETMASK 3<<HW_ICLSTEER1R_S15P_BITPOS
                             7334 ; 662  |#define HW_ICLSTEER1R_S16P_SETMASK 3<<HW_ICLSTEER1R_S16P_BITPOS
                             7335 ; 663  |#define HW_ICLSTEER1R_S17P_SETMASK 3<<HW_ICLSTEER1R_S17P_BITPOS
                             7336 ; 664  |#define HW_ICLSTEER1R_S18P_SETMASK 3<<HW_ICLSTEER1R_S18P_BITPOS
                             7337 ; 665  |#define HW_ICLSTEER1R_S19P_SETMASK 3<<HW_ICLSTEER1R_S19P_BITPOS
                             7338 ; 666  |#define HW_ICLSTEER1R_S20P_SETMASK 3<<HW_ICLSTEER1R_S20P_BITPOS
                             7339 ; 667  |#define HW_ICLSTEER1R_S21P_SETMASK 3<<HW_ICLSTEER1R_S21P_BITPOS
                             7340 ; 668  |#define HW_ICLSTEER1R_S22P_SETMASK 3<<HW_ICLSTEER1R_S22P_BITPOS
                             7341 ; 669  |#define HW_ICLSTEER1R_S23P_SETMASK 3<<HW_ICLSTEER1R_S23P_BITPOS
                             7342 ; 670  |
                             7343 ; 671  |#define HW_ICLSTEER1R_S12P_CLRMASK ~(WORD)HW_ICLSTEER1R_S12P_SETMASK
                             7344 ; 672  |#define HW_ICLSTEER1R_S13P_CLRMASK ~(WORD)HW_ICLSTEER1R_S13P_SETMASK
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page  30

M:ADDR CODE           CYCLES LINE SOURCELINE
                             7345 ; 673  |#define HW_ICLSTEER1R_S14P_CLRMASK ~(WORD)HW_ICLSTEER1R_S14P_SETMASK
                             7346 ; 674  |#define HW_ICLSTEER1R_S15P_CLRMASK ~(WORD)HW_ICLSTEER1R_S15P_SETMASK
                             7347 ; 675  |#define HW_ICLSTEER1R_S16P_CLRMASK ~(WORD)HW_ICLSTEER1R_S16P_SETMASK
                             7348 ; 676  |#define HW_ICLSTEER1R_S17P_CLRMASK ~(WORD)HW_ICLSTEER1R_S17P_SETMASK
                             7349 ; 677  |#define HW_ICLSTEER1R_S18P_CLRMASK ~(WORD)HW_ICLSTEER1R_S18P_SETMASK
                             7350 ; 678  |#define HW_ICLSTEER1R_S19P_CLRMASK ~(WORD)HW_ICLSTEER1R_S19P_SETMASK
                             7351 ; 679  |#define HW_ICLSTEER1R_S20P_CLRMASK ~(WORD)HW_ICLSTEER1R_S20P_SETMASK
                             7352 ; 680  |#define HW_ICLSTEER1R_S21P_CLRMASK ~(WORD)HW_ICLSTEER1R_S21P_SETMASK
                             7353 ; 681  |#define HW_ICLSTEER1R_S22P_CLRMASK ~(WORD)HW_ICLSTEER1R_S22P_SETMASK
                             7354 ; 682  |#define HW_ICLSTEER1R_S23P_CLRMASK ~(WORD)HW_ICLSTEER1R_S23P_SETMASK
                             7355 ; 683  |
                             7356 ; 684  |
                             7357 ; 685  |/////////////////////////////////////////////////////////////////////////////////
                             7358 ; 686  |//  Interrupt Collector Steering 2 Register (HW_ICLSTEER2R) Bit Positions
                             7359 ; 687  |typedef union               /* Interrupt Collector Steering 2 Register      */
                             7360 ; 688  |{
                             7361 ; 689  |    struct {
                             7362 ; 690  |        unsigned S24S   :2;
                             7363 ; 691  |        unsigned S25S   :2;
                             7364 ; 692  |        unsigned S26S   :2;
                             7365 ; 693  |        unsigned S27S   :2;
                             7366 ; 694  |        unsigned S28S   :2;
                             7367 ; 695  |        unsigned S29S   :2;
                             7368 ; 696  |        unsigned S30S   :2;
                             7369 ; 697  |        unsigned S31S   :2;
                             7370 ; 698  |        unsigned S32S   :2;
                             7371 ; 699  |        unsigned S33S   :2;
                             7372 ; 700  |    } B;
                             7373 ; 701  |    int I;
                             7374 ; 702  |} iclsteer2_type;
                             7375 ; 703  |#define HW_ICLSTEER2R   (*(volatile iclsteer2_type _X*) (HW_ICOLL_BASEADDR+10)) /* Interrupt Collector Steering Register 2  */
                             7376 ; 704  |
                             7377 ; 705  |#define HW_ICLSTEER2R_S24P_BITPOS 0
                             7378 ; 706  |#define HW_ICLSTEER2R_S25P_BITPOS 2
                             7379 ; 707  |#define HW_ICLSTEER2R_S26P_BITPOS 4
                             7380 ; 708  |#define HW_ICLSTEER2R_S27P_BITPOS 6
                             7381 ; 709  |#define HW_ICLSTEER2R_S28P_BITPOS 8
                             7382 ; 710  |#define HW_ICLSTEER2R_S29P_BITPOS 10
                             7383 ; 711  |#define HW_ICLSTEER2R_S30P_BITPOS 12
                             7384 ; 712  |#define HW_ICLSTEER2R_S31P_BITPOS 14
                             7385 ; 713  |#define HW_ICLSTEER2R_S32P_BITPOS 16
                             7386 ; 714  |#define HW_ICLSTEER2R_S33P_BITPOS 18
                             7387 ; 715  |
                             7388 ; 716  |#define HW_ICLSTEER2R_S24P_SETMASK 3<<HW_ICLSTEER2R_S24P_BITPOS
                             7389 ; 717  |#define HW_ICLSTEER2R_S25P_SETMASK 3<<HW_ICLSTEER2R_S25P_BITPOS
                             7390 ; 718  |#define HW_ICLSTEER2R_S26P_SETMASK 3<<HW_ICLSTEER2R_S26P_BITPOS
                             7391 ; 719  |#define HW_ICLSTEER2R_S27P_SETMASK 3<<HW_ICLSTEER2R_S27P_BITPOS
                             7392 ; 720  |#define HW_ICLSTEER2R_S28P_SETMASK 3<<HW_ICLSTEER2R_S28P_BITPOS
                             7393 ; 721  |#define HW_ICLSTEER2R_S29P_SETMASK 3<<HW_ICLSTEER2R_S29P_BITPOS
                             7394 ; 722  |#define HW_ICLSTEER2R_S30P_SETMASK 3<<HW_ICLSTEER2R_S30P_BITPOS
                             7395 ; 723  |#define HW_ICLSTEER2R_S31P_SETMASK 3<<HW_ICLSTEER2R_S31P_BITPOS
                             7396 ; 724  |#define HW_ICLSTEER2R_S32P_SETMASK 3<<HW_ICLSTEER2R_S32P_BITPOS
                             7397 ; 725  |#define HW_ICLSTEER2R_S33P_SETMASK 3<<HW_ICLSTEER2R_S33P_BITPOS
                             7398 ; 726  |
                             7399 ; 727  |#define HW_ICLSTEER2R_S24P_CLRMASK ~(WORD)HW_ICLSTEER2R_S24P_SETMASK
                             7400 ; 728  |#define HW_ICLSTEER2R_S25P_CLRMASK ~(WORD)HW_ICLSTEER2R_S25P_SETMASK
                             7401 ; 729  |#define HW_ICLSTEER2R_S26P_CLRMASK ~(WORD)HW_ICLSTEER2R_S26P_SETMASK
                             7402 ; 730  |#define HW_ICLSTEER2R_S27P_CLRMASK ~(WORD)HW_ICLSTEER2R_S27P_SETMASK
                             7403 ; 731  |#define HW_ICLSTEER2R_S28P_CLRMASK ~(WORD)HW_ICLSTEER2R_S28P_SETMASK
                             7404 ; 732  |#define HW_ICLSTEER2R_S29P_CLRMASK ~(WORD)HW_ICLSTEER2R_S29P_SETMASK
                             7405 ; 733  |#define HW_ICLSTEER2R_S30P_CLRMASK ~(WORD)HW_ICLSTEER2R_S30P_SETMASK
                             7406 ; 734  |#define HW_ICLSTEER2R_S31P_CLRMASK ~(WORD)HW_ICLSTEER2R_S31P_SETMASK
                             7407 ; 735  |#define HW_ICLSTEER2R_S32P_CLRMASK ~(WORD)HW_ICLSTEER2R_S32P_SETMASK
                             7408 ; 736  |#define HW_ICLSTEER2R_S33P_CLRMASK ~(WORD)HW_ICLSTEER2R_S33P_SETMASK
                             7409 ; 737  |
                             7410 ; 738  |
                             7411 ; 739  |/////////////////////////////////////////////////////////////////////////////////
                             7412 ; 740  |//  Interrupt Collector Debug Force 0 Register (HW_ICLFORCE0R) Bit Positions
                             7413 ; 741  |typedef union               /* Interrupt Collector Debug Force 0 Register       */
                             7414 ; 742  |{
                             7415 ; 743  |    struct {
                             7416 ; 744  |        int S0FV        :1;
                             7417 ; 745  |        int S1FV        :1;
                             7418 ; 746  |        int S2FV        :1;
                             7419 ; 747  |        int S3FV        :1;
                             7420 ; 748  |        int S4FV        :1;
                             7421 ; 749  |        int S5FV        :1;
                             7422 ; 750  |        int S6FV        :1;
                             7423 ; 751  |        int S7FV        :1;
                             7424 ; 752  |        int S8FV        :1;
                             7425 ; 753  |        int S9FV        :1;
                             7426 ; 754  |        int S10FV       :1;
                             7427 ; 755  |        int S11FV       :1;
                             7428 ; 756  |        int S12FV       :1;
                             7429 ; 757  |        int S13FV       :1;
                             7430 ; 758  |        int S14FV       :1;
                             7431 ; 759  |        int S15FV       :1;
                             7432 ; 760  |        int S16FV       :1;
                             7433 ; 761  |        int S17FV       :1;
                             7434 ; 762  |        int S18FV       :1;
                             7435 ; 763  |        int S19FV       :1;
                             7436 ; 764  |        int S20FV       :1;
                             7437 ; 765  |        int S21FV       :1;
                             7438 ; 766  |        int S22FV       :1;
                             7439 ; 767  |        int S23FV       :1;
                             7440 ; 768  |    } B;
                             7441 ; 769  |    int I;
                             7442 ; 770  |} iclforce0_type;
                             7443 ; 771  |#define HW_ICLFORCE0R   (*(volatile iclforce0_type _X*) (HW_ICOLL_BASEADDR+11)) /* Interrupt Collector Debug Force Register 0   */
                             7444 ; 772  |#define HW_ICLFORCE0R_S0FV_BITPOS 0
                             7445 ; 773  |#define HW_ICLFORCE0R_S1FV_BITPOS 1
                             7446 ; 774  |#define HW_ICLFORCE0R_S2FV_BITPOS 2
                             7447 ; 775  |#define HW_ICLFORCE0R_S3FV_BITPOS 3
                             7448 ; 776  |#define HW_ICLFORCE0R_S4FV_BITPOS 4
                             7449 ; 777  |#define HW_ICLFORCE0R_S5FV_BITPOS 5
                             7450 ; 778  |#define HW_ICLFORCE0R_S6FV_BITPOS 6
                             7451 ; 779  |#define HW_ICLFORCE0R_S7FV_BITPOS 7
                             7452 ; 780  |#define HW_ICLFORCE0R_S8FV_BITPOS 8
                             7453 ; 781  |#define HW_ICLFORCE0R_S9FV_BITPOS 9
                             7454 ; 782  |#define HW_ICLFORCE0R_S10FV_BITPOS 10
                             7455 ; 783  |#define HW_ICLFORCE0R_S11FV_BITPOS 11
                             7456 ; 784  |#define HW_ICLFORCE0R_S12FV_BITPOS 12
                             7457 ; 785  |#define HW_ICLFORCE0R_S13FV_BITPOS 13
                             7458 ; 786  |#define HW_ICLFORCE0R_S14FV_BITPOS 14
                             7459 ; 787  |#define HW_ICLFORCE0R_S15FV_BITPOS 15
                             7460 ; 788  |#define HW_ICLFORCE0R_S16FV_BITPOS 16
                             7461 ; 789  |#define HW_ICLFORCE0R_S17FV_BITPOS 17
                             7462 ; 790  |#define HW_ICLFORCE0R_S18FV_BITPOS 18
                             7463 ; 791  |#define HW_ICLFORCE0R_S19FV_BITPOS 19
                             7464 ; 792  |#define HW_ICLFORCE0R_S20FV_BITPOS 20
                             7465 ; 793  |#define HW_ICLFORCE0R_S21FV_BITPOS 21
                             7466 ; 794  |#define HW_ICLFORCE0R_S22FV_BITPOS 22
                             7467 ; 795  |#define HW_ICLFORCE0R_S23FV_BITPOS 23
                             7468 ; 796  |
                             7469 ; 797  |#define HW_ICLFORCE0R_S0FV_SETMASK 1<<HW_ICLFORCE0R_S0FV_BITPOS
                             7470 ; 798  |#define HW_ICLFORCE0R_S1FV_SETMASK 1<<HW_ICLFORCE0R_S1FV_BITPOS
                             7471 ; 799  |#define HW_ICLFORCE0R_S2FV_SETMASK 1<<HW_ICLFORCE0R_S2FV_BITPOS
                             7472 ; 800  |#define HW_ICLFORCE0R_S3FV_SETMASK 1<<HW_ICLFORCE0R_S3FV_BITPOS
                             7473 ; 801  |#define HW_ICLFORCE0R_S4FV_SETMASK 1<<HW_ICLFORCE0R_S4FV_BITPOS
                             7474 ; 802  |#define HW_ICLFORCE0R_S5FV_SETMASK 1<<HW_ICLFORCE0R_S5FV_BITPOS
                             7475 ; 803  |#define HW_ICLFORCE0R_S6FV_SETMASK 1<<HW_ICLFORCE0R_S6FV_BITPOS
                             7476 ; 804  |#define HW_ICLFORCE0R_S7FV_SETMASK 1<<HW_ICLFORCE0R_S7FV_BITPOS
                             7477 ; 805  |#define HW_ICLFORCE0R_S8FV_SETMASK 1<<HW_ICLFORCE0R_S8FV_BITPOS
                             7478 ; 806  |#define HW_ICLFORCE0R_S9FV_SETMASK 1<<HW_ICLFORCE0R_S9FV_BITPOS
                             7479 ; 807  |#define HW_ICLFORCE0R_S10FV_SETMASK 1<<HW_ICLFORCE0R_S10FV_BITPOS
                             7480 ; 808  |#define HW_ICLFORCE0R_S11FV_SETMASK 1<<HW_ICLFORCE0R_S11FV_BITPOS
                             7481 ; 809  |#define HW_ICLFORCE0R_S12FV_SETMASK 1<<HW_ICLFORCE0R_S12FV_BITPOS
                             7482 ; 810  |#define HW_ICLFORCE0R_S13FV_SETMASK 1<<HW_ICLFORCE0R_S13FV_BITPOS
                             7483 ; 811  |#define HW_ICLFORCE0R_S14FV_SETMASK 1<<HW_ICLFORCE0R_S14FV_BITPOS
                             7484 ; 812  |#define HW_ICLFORCE0R_S15FV_SETMASK 1<<HW_ICLFORCE0R_S15FV_BITPOS
                             7485 ; 813  |#define HW_ICLFORCE0R_S16FV_SETMASK 1<<HW_ICLFORCE0R_S16FV_BITPOS
                             7486 ; 814  |#define HW_ICLFORCE0R_S17FV_SETMASK 1<<HW_ICLFORCE0R_S17FV_BITPOS
                             7487 ; 815  |#define HW_ICLFORCE0R_S18FV_SETMASK 1<<HW_ICLFORCE0R_S18FV_BITPOS
                             7488 ; 816  |#define HW_ICLFORCE0R_S19FV_SETMASK 1<<HW_ICLFORCE0R_S19FV_BITPOS
                             7489 ; 817  |#define HW_ICLFORCE0R_S20FV_SETMASK 1<<HW_ICLFORCE0R_S20FV_BITPOS
                             7490 ; 818  |#define HW_ICLFORCE0R_S21FV_SETMASK 1<<HW_ICLFORCE0R_S21FV_BITPOS
                             7491 ; 819  |#define HW_ICLFORCE0R_S22FV_SETMASK 1<<HW_ICLFORCE0R_S22FV_BITPOS
                             7492 ; 820  |#define HW_ICLFORCE0R_S23FV_SETMASK 1<<HW_ICLFORCE0R_S23FV_BITPOS
                             7493 ; 821  |
                             7494 ; 822  |#define HW_ICLFORCE0R_S0FV_CLRMASK ~(WORD)HW_ICLFORCE0R_S0FV_SETMASK
                             7495 ; 823  |#define HW_ICLFORCE0R_S1FV_CLRMASK ~(WORD)HW_ICLFORCE0R_S1FV_SETMASK
                             7496 ; 824  |#define HW_ICLFORCE0R_S2FV_CLRMASK ~(WORD)HW_ICLFORCE0R_S2FV_SETMASK
                             7497 ; 825  |#define HW_ICLFORCE0R_S3FV_CLRMASK ~(WORD)HW_ICLFORCE0R_S3FV_SETMASK
                             7498 ; 826  |#define HW_ICLFORCE0R_S4FV_CLRMASK ~(WORD)HW_ICLFORCE0R_S4FV_SETMASK
                             7499 ; 827  |#define HW_ICLFORCE0R_S5FV_CLRMASK ~(WORD)HW_ICLFORCE0R_S5FV_SETMASK
                             7500 ; 828  |#define HW_ICLFORCE0R_S6FV_CLRMASK ~(WORD)HW_ICLFORCE0R_S6FV_SETMASK
                             7501 ; 829  |#define HW_ICLFORCE0R_S7FV_CLRMASK ~(WORD)HW_ICLFORCE0R_S7FV_SETMASK
                             7502 ; 830  |#define HW_ICLFORCE0R_S8FV_CLRMASK ~(WORD)HW_ICLFORCE0R_S8FV_SETMASK
                             7503 ; 831  |#define HW_ICLFORCE0R_S9FV_CLRMASK ~(WORD)HW_ICLFORCE0R_S9FV_SETMASK
                             7504 ; 832  |#define HW_ICLFORCE0R_S10FV_CLRMASK ~(WORD)HW_ICLFORCE0R_S10FV_SETMASK
                             7505 ; 833  |#define HW_ICLFORCE0R_S11FV_CLRMASK ~(WORD)HW_ICLFORCE0R_S11FV_SETMASK
                             7506 ; 834  |#define HW_ICLFORCE0R_S12FV_CLRMASK ~(WORD)HW_ICLFORCE0R_S12FV_SETMASK
                             7507 ; 835  |#define HW_ICLFORCE0R_S13FV_CLRMASK ~(WORD)HW_ICLFORCE0R_S13FV_SETMASK
                             7508 ; 836  |#define HW_ICLFORCE0R_S14FV_CLRMASK ~(WORD)HW_ICLFORCE0R_S14FV_SETMASK
                             7509 ; 837  |#define HW_ICLFORCE0R_S15FV_CLRMASK ~(WORD)HW_ICLFORCE0R_S15FV_SETMASK
                             7510 ; 838  |#define HW_ICLFORCE0R_S16FV_CLRMASK ~(WORD)HW_ICLFORCE0R_S16FV_SETMASK
                             7511 ; 839  |#define HW_ICLFORCE0R_S17FV_CLRMASK ~(WORD)HW_ICLFORCE0R_S17FV_SETMASK
                             7512 ; 840  |#define HW_ICLFORCE0R_S18FV_CLRMASK ~(WORD)HW_ICLFORCE0R_S18FV_SETMASK
                             7513 ; 841  |#define HW_ICLFORCE0R_S19FV_CLRMASK ~(WORD)HW_ICLFORCE0R_S19FV_SETMASK
                             7514 ; 842  |#define HW_ICLFORCE0R_S20FV_CLRMASK ~(WORD)HW_ICLFORCE0R_S20FV_SETMASK
                             7515 ; 843  |#define HW_ICLFORCE0R_S21FV_CLRMASK ~(WORD)HW_ICLFORCE0R_S21FV_SETMASK
                             7516 ; 844  |#define HW_ICLFORCE0R_S22FV_CLRMASK ~(WORD)HW_ICLFORCE0R_S22FV_SETMASK
                             7517 ; 845  |#define HW_ICLFORCE0R_S23FV_CLRMASK ~(WORD)HW_ICLFORCE0R_S23FV_SETMASK
                             7518 ; 846  |
                             7519 ; 847  |
                             7520 ; 848  |/////////////////////////////////////////////////////////////////////////////////
                             7521 ; 849  |//  Interrupt Collector Debug Force 1 Register (HW_ICLFORCE1R) Bit Positions
                             7522 ; 850  |typedef union               /* Interrupt Debug Force 1 Register     */
                             7523 ; 851  |{
                             7524 ; 852  |    struct {
                             7525 ; 853  |        int S24FV       :1;
                             7526 ; 854  |        int S25FV       :1;
                             7527 ; 855  |        int S26FV       :1;
                             7528 ; 856  |        int S27FV       :1;
                             7529 ; 857  |        int S28FV       :1;
                             7530 ; 858  |        int S29FV       :1;
                             7531 ; 859  |        int S30FV       :1;
                             7532 ; 860  |        int S31FV       :1;
                             7533 ; 861  |        int S32FV       :1;
                             7534 ; 862  |        int S33FV       :1;
                             7535 ; 863  |    } B;
                             7536 ; 864  |    int I;
                             7537 ; 865  |} iclforce1_type;
                             7538 ; 866  |#define HW_ICLFORCE1R   (*(volatile iclforce1_type _X*) (HW_ICOLL_BASEADDR+12)) /* Interrupt Collector Debug Force Register 1   */
                             7539 ; 867  |
                             7540 ; 868  |#define HW_ICLFORCE1R_S24FV_BITPOS 0
                             7541 ; 869  |#define HW_ICLFORCE1R_S25FV_BITPOS 1
                             7542 ; 870  |#define HW_ICLFORCE1R_S26FV_BITPOS 2
                             7543 ; 871  |#define HW_ICLFORCE1R_S27FV_BITPOS 3
                             7544 ; 872  |#define HW_ICLFORCE1R_S28FV_BITPOS 4
                             7545 ; 873  |#define HW_ICLFORCE1R_S29FV_BITPOS 5
                             7546 ; 874  |#define HW_ICLFORCE1R_S30FV_BITPOS 6
                             7547 ; 875  |#define HW_ICLFORCE1R_S31FV_BITPOS 7
                             7548 ; 876  |#define HW_ICLFORCE1R_S32FV_BITPOS 8
                             7549 ; 877  |#define HW_ICLFORCE1R_S33FV_BITPOS 9
                             7550 ; 878  |
                             7551 ; 879  |#define HW_ICLFORCE1R_S24FV_SETMASK 1<<HW_ICLFORCE1R_S24FV_BITPOS
                             7552 ; 880  |#define HW_ICLFORCE1R_S25FV_SETMASK 1<<HW_ICLFORCE1R_S25FV_BITPOS
                             7553 ; 881  |#define HW_ICLFORCE1R_S26FV_SETMASK 1<<HW_ICLFORCE1R_S26FV_BITPOS
                             7554 ; 882  |#define HW_ICLFORCE1R_S27FV_SETMASK 1<<HW_ICLFORCE1R_S27FV_BITPOS
                             7555 ; 883  |#define HW_ICLFORCE1R_S28FV_SETMASK 1<<HW_ICLFORCE1R_S28FV_BITPOS
                             7556 ; 884  |#define HW_ICLFORCE1R_S29FV_SETMASK 1<<HW_ICLFORCE1R_S29FV_BITPOS
                             7557 ; 885  |#define HW_ICLFORCE1R_S30FV_SETMASK 1<<HW_ICLFORCE1R_S30FV_BITPOS
                             7558 ; 886  |#define HW_ICLFORCE1R_S31FV_SETMASK 1<<HW_ICLFORCE1R_S31FV_BITPOS
                             7559 ; 887  |#define HW_ICLFORCE1R_S32FV_SETMASK 1<<HW_ICLFORCE1R_S32FV_BITPOS
                             7560 ; 888  |#define HW_ICLFORCE1R_S33FV_SETMASK 1<<HW_ICLFORCE1R_S33FV_BITPOS
                             7561 ; 889  |
                             7562 ; 890  |#define HW_ICLFORCE1R_S24FV_CLRMASK ~(WORD)HW_ICLFORCE1R_S24FV_SETMASK
                             7563 ; 891  |#define HW_ICLFORCE1R_S25FV_CLRMASK ~(WORD)HW_ICLFORCE1R_S25FV_SETMASK
                             7564 ; 892  |#define HW_ICLFORCE1R_S26FV_CLRMASK ~(WORD)HW_ICLFORCE1R_S26FV_SETMASK
                             7565 ; 893  |#define HW_ICLFORCE1R_S27FV_CLRMASK ~(WORD)HW_ICLFORCE1R_S27FV_SETMASK
                             7566 ; 894  |#define HW_ICLFORCE1R_S28FV_CLRMASK ~(WORD)HW_ICLFORCE1R_S28FV_SETMASK
                             7567 ; 895  |#define HW_ICLFORCE1R_S29FV_CLRMASK ~(WORD)HW_ICLFORCE1R_S29FV_SETMASK
                             7568 ; 896  |#define HW_ICLFORCE1R_S30FV_CLRMASK ~(WORD)HW_ICLFORCE1R_S30FV_SETMASK
                             7569 ; 897  |#define HW_ICLFORCE1R_S31FV_CLRMASK ~(WORD)HW_ICLFORCE1R_S31FV_SETMASK
                             7570 ; 898  |#define HW_ICLFORCE1R_S32FV_CLRMASK ~(WORD)HW_ICLFORCE1R_S32FV_SETMASK
                             7571 ; 899  |#define HW_ICLFORCE1R_S33FV_CLRMASK ~(WORD)HW_ICLFORCE1R_S33FV_SETMASK
                             7572 ; 900  |
                             7573 ; 901  |
                             7574 ; 902  |/////////////////////////////////////////////////////////////////////////////////
                             7575 ; 903  |//  Interrupt Collector Force Enable 0 Register (HW_ICLFENABLE0R) Bit Positions
                             7576 ; 904  |typedef union               /* Interrupt Collector Force Enable 0 Register      */
                             7577 ; 905  |{
                             7578 ; 906  |    struct {
                             7579 ; 907  |        int S0FE        :1;
                             7580 ; 908  |        int S1FE        :1;
                             7581 ; 909  |        int S2FE        :1;
                             7582 ; 910  |        int S3FE        :1;
                             7583 ; 911  |        int S4FE        :1;
                             7584 ; 912  |        int S5FE        :1;
                             7585 ; 913  |        int S6FE        :1;
                             7586 ; 914  |        int S7FE        :1;
                             7587 ; 915  |        int S8FE        :1;
                             7588 ; 916  |        int S9FE        :1;
                             7589 ; 917  |        int S10FE       :1;
                             7590 ; 918  |        int S11FE       :1;
                             7591 ; 919  |        int S12FE       :1;
                             7592 ; 920  |        int S13FE       :1;
                             7593 ; 921  |        int S14FE       :1;
                             7594 ; 922  |        int S15FE       :1;
                             7595 ; 923  |        int S16FE       :1;
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page  31

M:ADDR CODE           CYCLES LINE SOURCELINE
                             7596 ; 924  |        int S17FE       :1;
                             7597 ; 925  |        int S18FE       :1;
                             7598 ; 926  |        int S19FE       :1;
                             7599 ; 927  |        int S20FE       :1;
                             7600 ; 928  |        int S21FE       :1;
                             7601 ; 929  |        int S22FE       :1;
                             7602 ; 930  |        int S23FE       :1;
                             7603 ; 931  |    } B;
                             7604 ; 932  |    int I;
                             7605 ; 933  |} iclfenable0_type;
                             7606 ; 934  |#define HW_ICLFENABLE0R (*(volatile iclfenable0_type _X*) (HW_ICOLL_BASEADDR+13)) /* Interrupt Collector Force Enable Register 0    */
                             7607 ; 935  |
                             7608 ; 936  |#define HW_ICLFENABLE0R_S0FE_BITPOS 0
                             7609 ; 937  |#define HW_ICLFENABLE0R_S1FE_BITPOS 1
                             7610 ; 938  |#define HW_ICLFENABLE0R_S2FE_BITPOS 2
                             7611 ; 939  |#define HW_ICLFENABLE0R_S3FE_BITPOS 3
                             7612 ; 940  |#define HW_ICLFENABLE0R_S4FE_BITPOS 4
                             7613 ; 941  |#define HW_ICLFENABLE0R_S5FE_BITPOS 5
                             7614 ; 942  |#define HW_ICLFENABLE0R_S6FE_BITPOS 6
                             7615 ; 943  |#define HW_ICLFENABLE0R_S7FE_BITPOS 7
                             7616 ; 944  |#define HW_ICLFENABLE0R_S8FE_BITPOS 8
                             7617 ; 945  |#define HW_ICLFENABLE0R_S9FE_BITPOS 9
                             7618 ; 946  |#define HW_ICLFENABLE0R_S10FE_BITPOS 10
                             7619 ; 947  |#define HW_ICLFENABLE0R_S11FE_BITPOS 11
                             7620 ; 948  |#define HW_ICLFENABLE0R_S12FE_BITPOS 12
                             7621 ; 949  |#define HW_ICLFENABLE0R_S13FE_BITPOS 13
                             7622 ; 950  |#define HW_ICLFENABLE0R_S14FE_BITPOS 14
                             7623 ; 951  |#define HW_ICLFENABLE0R_S15FE_BITPOS 15
                             7624 ; 952  |#define HW_ICLFENABLE0R_S16FE_BITPOS 16
                             7625 ; 953  |#define HW_ICLFENABLE0R_S17FE_BITPOS 17
                             7626 ; 954  |#define HW_ICLFENABLE0R_S18FE_BITPOS 18
                             7627 ; 955  |#define HW_ICLFENABLE0R_S19FE_BITPOS 19
                             7628 ; 956  |#define HW_ICLFENABLE0R_S20FE_BITPOS 20
                             7629 ; 957  |#define HW_ICLFENABLE0R_S21FE_BITPOS 21
                             7630 ; 958  |#define HW_ICLFENABLE0R_S22FE_BITPOS 22
                             7631 ; 959  |#define HW_ICLFENABLE0R_S23FE_BITPOS 23
                             7632 ; 960  |
                             7633 ; 961  |#define HW_ICLFENABLE0R_S0FE_SETMASK 1<<HW_ICLFENABLE0R_S0FE_BITPOS
                             7634 ; 962  |#define HW_ICLFENABLE0R_S1FE_SETMASK 1<<HW_ICLFENABLE0R_S1FE_BITPOS
                             7635 ; 963  |#define HW_ICLFENABLE0R_S2FE_SETMASK 1<<HW_ICLFENABLE0R_S2FE_BITPOS
                             7636 ; 964  |#define HW_ICLFENABLE0R_S3FE_SETMASK 1<<HW_ICLFENABLE0R_S3FE_BITPOS
                             7637 ; 965  |#define HW_ICLFENABLE0R_S4FE_SETMASK 1<<HW_ICLFENABLE0R_S4FE_BITPOS
                             7638 ; 966  |#define HW_ICLFENABLE0R_S5FE_SETMASK 1<<HW_ICLFENABLE0R_S5FE_BITPOS
                             7639 ; 967  |#define HW_ICLFENABLE0R_S6FE_SETMASK 1<<HW_ICLFENABLE0R_S6FE_BITPOS
                             7640 ; 968  |#define HW_ICLFENABLE0R_S7FE_SETMASK 1<<HW_ICLFENABLE0R_S7FE_BITPOS
                             7641 ; 969  |#define HW_ICLFENABLE0R_S8FE_SETMASK 1<<HW_ICLFENABLE0R_S8FE_BITPOS
                             7642 ; 970  |#define HW_ICLFENABLE0R_S9FE_SETMASK 1<<HW_ICLFENABLE0R_S9FE_BITPOS
                             7643 ; 971  |#define HW_ICLFENABLE0R_S10FE_SETMASK 1<<HW_ICLFENABLE0R_S10FE_BITPOS
                             7644 ; 972  |#define HW_ICLFENABLE0R_S11FE_SETMASK 1<<HW_ICLFENABLE0R_S11FE_BITPOS
                             7645 ; 973  |#define HW_ICLFENABLE0R_S12FE_SETMASK 1<<HW_ICLFENABLE0R_S12FE_BITPOS
                             7646 ; 974  |#define HW_ICLFENABLE0R_S13FE_SETMASK 1<<HW_ICLFENABLE0R_S13FE_BITPOS
                             7647 ; 975  |#define HW_ICLFENABLE0R_S14FE_SETMASK 1<<HW_ICLFENABLE0R_S14FE_BITPOS
                             7648 ; 976  |#define HW_ICLFENABLE0R_S15FE_SETMASK 1<<HW_ICLFENABLE0R_S15FE_BITPOS
                             7649 ; 977  |#define HW_ICLFENABLE0R_S16FE_SETMASK 1<<HW_ICLFENABLE0R_S16FE_BITPOS
                             7650 ; 978  |#define HW_ICLFENABLE0R_S17FE_SETMASK 1<<HW_ICLFENABLE0R_S17FE_BITPOS
                             7651 ; 979  |#define HW_ICLFENABLE0R_S18FE_SETMASK 1<<HW_ICLFENABLE0R_S18FE_BITPOS
                             7652 ; 980  |#define HW_ICLFENABLE0R_S19FE_SETMASK 1<<HW_ICLFENABLE0R_S19FE_BITPOS
                             7653 ; 981  |#define HW_ICLFENABLE0R_S20FE_SETMASK 1<<HW_ICLFENABLE0R_S20FE_BITPOS
                             7654 ; 982  |#define HW_ICLFENABLE0R_S21FE_SETMASK 1<<HW_ICLFENABLE0R_S21FE_BITPOS
                             7655 ; 983  |#define HW_ICLFENABLE0R_S22FE_SETMASK 1<<HW_ICLFENABLE0R_S22FE_BITPOS
                             7656 ; 984  |#define HW_ICLFENABLE0R_S23FE_SETMASK 1<<HW_ICLFENABLE0R_S23FE_BITPOS
                             7657 ; 985  |
                             7658 ; 986  |#define HW_ICLFENABLE0R_S0FE_CLRMASK ~(WORD)HW_ICLFENABLE0R_S0FE_SETMASK
                             7659 ; 987  |#define HW_ICLFENABLE0R_S1FE_CLRMASK ~(WORD)HW_ICLFENABLE0R_S1FE_SETMASK
                             7660 ; 988  |#define HW_ICLFENABLE0R_S2FE_CLRMASK ~(WORD)HW_ICLFENABLE0R_S2FE_SETMASK
                             7661 ; 989  |#define HW_ICLFENABLE0R_S3FE_CLRMASK ~(WORD)HW_ICLFENABLE0R_S3FE_SETMASK
                             7662 ; 990  |#define HW_ICLFENABLE0R_S4FE_CLRMASK ~(WORD)HW_ICLFENABLE0R_S4FE_SETMASK
                             7663 ; 991  |#define HW_ICLFENABLE0R_S5FE_CLRMASK ~(WORD)HW_ICLFENABLE0R_S5FE_SETMASK
                             7664 ; 992  |#define HW_ICLFENABLE0R_S6FE_CLRMASK ~(WORD)HW_ICLFENABLE0R_S6FE_SETMASK
                             7665 ; 993  |#define HW_ICLFENABLE0R_S7FE_CLRMASK ~(WORD)HW_ICLFENABLE0R_S7FE_SETMASK
                             7666 ; 994  |#define HW_ICLFENABLE0R_S8FE_CLRMASK ~(WORD)HW_ICLFENABLE0R_S8FE_SETMASK
                             7667 ; 995  |#define HW_ICLFENABLE0R_S9FE_CLRMASK ~(WORD)HW_ICLFENABLE0R_S9FE_SETMASK
                             7668 ; 996  |#define HW_ICLFENABLE0R_S10FE_CLRMASK ~(WORD)HW_ICLFENABLE0R_S10FE_SETMASK
                             7669 ; 997  |#define HW_ICLFENABLE0R_S11FE_CLRMASK ~(WORD)HW_ICLFENABLE0R_S11FE_SETMASK
                             7670 ; 998  |#define HW_ICLFENABLE0R_S12FE_CLRMASK ~(WORD)HW_ICLFENABLE0R_S12FE_SETMASK
                             7671 ; 999  |#define HW_ICLFENABLE0R_S13FE_CLRMASK ~(WORD)HW_ICLFENABLE0R_S13FE_SETMASK
                             7672 ; 1000 |#define HW_ICLFENABLE0R_S14FE_CLRMASK ~(WORD)HW_ICLFENABLE0R_S14FE_SETMASK
                             7673 ; 1001 |#define HW_ICLFENABLE0R_S15FE_CLRMASK ~(WORD)HW_ICLFENABLE0R_S15FE_SETMASK
                             7674 ; 1002 |#define HW_ICLFENABLE0R_S16FE_CLRMASK ~(WORD)HW_ICLFENABLE0R_S16FE_SETMASK
                             7675 ; 1003 |#define HW_ICLFENABLE0R_S17FE_CLRMASK ~(WORD)HW_ICLFENABLE0R_S17FE_SETMASK
                             7676 ; 1004 |#define HW_ICLFENABLE0R_S18FE_CLRMASK ~(WORD)HW_ICLFENABLE0R_S18FE_SETMASK
                             7677 ; 1005 |#define HW_ICLFENABLE0R_S19FE_CLRMASK ~(WORD)HW_ICLFENABLE0R_S19FE_SETMASK
                             7678 ; 1006 |#define HW_ICLFENABLE0R_S20FE_CLRMASK ~(WORD)HW_ICLFENABLE0R_S20FE_SETMASK
                             7679 ; 1007 |#define HW_ICLFENABLE0R_S21FE_CLRMASK ~(WORD)HW_ICLFENABLE0R_S21FE_SETMASK
                             7680 ; 1008 |#define HW_ICLFENABLE0R_S22FE_CLRMASK ~(WORD)HW_ICLFENABLE0R_S22FE_SETMASK
                             7681 ; 1009 |#define HW_ICLFENABLE0R_S23FE_CLRMASK ~(WORD)HW_ICLFENABLE0R_S23FE_SETMASK
                             7682 ; 1010 |
                             7683 ; 1011 |
                             7684 ; 1012 |/////////////////////////////////////////////////////////////////////////////////
                             7685 ; 1013 |//  Interrupt Collector Force Enable 1 Register (HW_ICLFENABLE1R) Bit Positions
                             7686 ; 1014 |typedef union               /* Interrupt Collector Force Enable 1 Register      */
                             7687 ; 1015 |{
                             7688 ; 1016 |    struct {
                             7689 ; 1017 |        int S24FE       :1;
                             7690 ; 1018 |        int S25FE       :1;
                             7691 ; 1019 |        int S26FE       :1;
                             7692 ; 1020 |        int S27FE       :1;
                             7693 ; 1021 |        int S28FE       :1;
                             7694 ; 1022 |        int S29FE       :1;
                             7695 ; 1023 |        int S30FE       :1;
                             7696 ; 1024 |        int S31FE       :1;
                             7697 ; 1025 |        int S32FE       :1;
                             7698 ; 1026 |        int S33FE       :1;
                             7699 ; 1027 |    } B;
                             7700 ; 1028 |    int I;
                             7701 ; 1029 |} iclfenable1_type;
                             7702 ; 1030 |#define HW_ICLFENABLE1R (*(volatile iclfenable1_type _X*) (HW_ICOLL_BASEADDR+14)) /* Interrupt Collector Force Enable Register 1    */
                             7703 ; 1031 |#define HW_ICLFENABLE1R_S24FE_BITPOS 0
                             7704 ; 1032 |#define HW_ICLFENABLE1R_S25FE_BITPOS 1
                             7705 ; 1033 |#define HW_ICLFENABLE1R_S26FE_BITPOS 2
                             7706 ; 1034 |#define HW_ICLFENABLE1R_S27FE_BITPOS 3
                             7707 ; 1035 |#define HW_ICLFENABLE1R_S28FE_BITPOS 4
                             7708 ; 1036 |#define HW_ICLFENABLE1R_S29FE_BITPOS 5
                             7709 ; 1037 |#define HW_ICLFENABLE1R_S30FE_BITPOS 6
                             7710 ; 1038 |#define HW_ICLFENABLE1R_S31FE_BITPOS 7
                             7711 ; 1039 |#define HW_ICLFENABLE1R_S32FE_BITPOS 8
                             7712 ; 1040 |#define HW_ICLFENABLE1R_S33FE_BITPOS 9
                             7713 ; 1041 |
                             7714 ; 1042 |#define HW_ICLFENABLE1R_S24FE_SETMASK 1<<HW_ICLFENABLE1R_S24FE_BITPOS
                             7715 ; 1043 |#define HW_ICLFENABLE1R_S25FE_SETMASK 1<<HW_ICLFENABLE1R_S25FE_BITPOS
                             7716 ; 1044 |#define HW_ICLFENABLE1R_S26FE_SETMASK 1<<HW_ICLFENABLE1R_S26FE_BITPOS
                             7717 ; 1045 |#define HW_ICLFENABLE1R_S27FE_SETMASK 1<<HW_ICLFENABLE1R_S27FE_BITPOS
                             7718 ; 1046 |#define HW_ICLFENABLE1R_S28FE_SETMASK 1<<HW_ICLFENABLE1R_S28FE_BITPOS
                             7719 ; 1047 |#define HW_ICLFENABLE1R_S29FE_SETMASK 1<<HW_ICLFENABLE1R_S29FE_BITPOS
                             7720 ; 1048 |#define HW_ICLFENABLE1R_S30FE_SETMASK 1<<HW_ICLFENABLE1R_S30FE_BITPOS
                             7721 ; 1049 |#define HW_ICLFENABLE1R_S31FE_SETMASK 1<<HW_ICLFENABLE1R_S31FE_BITPOS
                             7722 ; 1050 |#define HW_ICLFENABLE1R_S32FE_SETMASK 1<<HW_ICLFENABLE1R_S32FE_BITPOS
                             7723 ; 1051 |#define HW_ICLFENABLE1R_S33FE_SETMASK 1<<HW_ICLFENABLE1R_S33FE_BITPOS
                             7724 ; 1052 |
                             7725 ; 1053 |#define HW_ICLFENABLE1R_S24FE_CLRMASK ~(WORD)HW_ICLFENABLE1R_S24FE_SETMASK
                             7726 ; 1054 |#define HW_ICLFENABLE1R_S25FE_CLRMASK ~(WORD)HW_ICLFENABLE1R_S25FE_SETMASK
                             7727 ; 1055 |#define HW_ICLFENABLE1R_S26FE_CLRMASK ~(WORD)HW_ICLFENABLE1R_S26FE_SETMASK
                             7728 ; 1056 |#define HW_ICLFENABLE1R_S27FE_CLRMASK ~(WORD)HW_ICLFENABLE1R_S27FE_SETMASK
                             7729 ; 1057 |#define HW_ICLFENABLE1R_S28FE_CLRMASK ~(WORD)HW_ICLFENABLE1R_S28FE_SETMASK
                             7730 ; 1058 |#define HW_ICLFENABLE1R_S29FE_CLRMASK ~(WORD)HW_ICLFENABLE1R_S29FE_SETMASK
                             7731 ; 1059 |#define HW_ICLFENABLE1R_S30FE_CLRMASK ~(WORD)HW_ICLFENABLE1R_S30FE_SETMASK
                             7732 ; 1060 |#define HW_ICLFENABLE1R_S31FE_CLRMASK ~(WORD)HW_ICLFENABLE1R_S31FE_SETMASK
                             7733 ; 1061 |#define HW_ICLFENABLE1R_S32FE_CLRMASK ~(WORD)HW_ICLFENABLE1R_S32FE_SETMASK
                             7734 ; 1062 |#define HW_ICLFENABLE1R_S33FE_CLRMASK ~(WORD)HW_ICLFENABLE1R_S33FE_SETMASK
                             7735 ; 1063 |
                             7736 ; 1064 |
                             7737 ; 1065 |/////////////////////////////////////////////////////////////////////////////////
                             7738 ; 1066 |//  Interrupt Collector Observation Register 0 Register (HW_ICLOBSVZ0R) Bit Positions
                             7739 ; 1067 |typedef union               /* Interrupt Collector Observation Register 0       */
                             7740 ; 1068 |{
                             7741 ; 1069 |    struct {
                             7742 ; 1070 |        unsigned RQ     :7;
                             7743 ; 1071 |        unsigned IVA    :7;
                             7744 ; 1072 |        unsigned IVB    :7;
                             7745 ; 1073 |    } B;
                             7746 ; 1074 |    int I;
                             7747 ; 1075 |} iclobsvz0_type;
                             7748 ; 1076 |#define HW_ICLOBSVZ0R   (*(volatile iclobsvz0_type _X*) (HW_ICOLL_BASEADDR+15)) /* Interrupt Collector Observation Register 0   */
                             7749 ; 1077 |
                             7750 ; 1078 |#define HW_ICLOBSVZ0R_RQ_BITPOS 0
                             7751 ; 1079 |#define HW_ICLOBSVZ0R_IVA_BITPOS 7
                             7752 ; 1080 |#define HW_ICLOBSVZ0R_IVB_BITPOS 14
                             7753 ; 1081 |
                             7754 ; 1082 |#define HW_ICLOBSVZ0R_RQ_SETMASK 0x3F<<HW_ICLOBSVZ0R_RQ_BITPOS
                             7755 ; 1083 |#define HW_ICLOBSVZ0R_IVA_SETMASK 0x3F<<HW_ICLOBSVZ0R_IVA_BITPOS
                             7756 ; 1084 |#define HW_ICLOBSVZ0R_IVB_SETMASK 0x3F<<HW_ICLOBSVZ0R_IVB_BITPOS
                             7757 ; 1085 |
                             7758 ; 1086 |#define HW_ICLOBSVZ0R_RQ_CLRMASK ~(WORD)HW_ICLOBSVZ0R_RQ_SETMASK
                             7759 ; 1087 |#define HW_ICLOBSVZ0R_IVA_CLRMASK ~(WORD)HW_ICLOBSVZ0R_IVA_SETMASK
                             7760 ; 1088 |#define HW_ICLOBSVZ0R_IVB_CLRMASK ~(WORD)HW_ICLOBSVZ0R_IVB_SETMASK
                             7761 ; 1089 |
                             7762 ; 1090 |
                             7763 ; 1091 |/////////////////////////////////////////////////////////////////////////////////
                             7764 ; 1092 |//  Interrupt Collector Observation Register 1 Register (HW_ICL1BSVZ0R) Bit Positions
                             7765 ; 1093 |#define HW_ICL1BSVZ0R_IVC_BITPOS 0
                             7766 ; 1094 |#define HW_ICL1BSVZ0R_IVD_BITPOS 7
                             7767 ; 1095 |
                             7768 ; 1096 |#define HW_ICL1BSVZ0R_IVC_SETMASK 0x3F<<HW_ICL1BSVZ0R_IVC_BITPOS
                             7769 ; 1097 |#define HW_ICL1BSVZ0R_IVD_SETMASK 0x3F<<HW_ICL1BSVZ0R_IVD_BITPOS
                             7770 ; 1098 |
                             7771 ; 1099 |#define HW_ICL1BSVZ0R_IVC_CLRMASK ~(WORD)HW_ICL1BSVZ0R_IVC_SETMASK
                             7772 ; 1100 |#define HW_ICL1BSVZ0R_IVD_CLRMASK ~(WORD)HW_ICL1BSVZ0R_IVD_SETMASK
                             7773 ; 1101 |
                             7774 ; 1102 |
                             7775 ; 1103 |
                             7776 ; 1104 |
                             7777 ; 1105 |/////////////////////////////////////////////////////////////////////////////////
                             7778 ; 1106 |//  Interrupt Vectors
                             7779 ; 1107 |/////////////////////////////////////////////////////////////////////////////////
                             7780 ; 1108 |// Reset Vector
                             7781 ; 1109 |#define HW_IVECRESET 0x0000           
                             7782 ; 1110 |// Stack Error
                             7783 ; 1111 |#define HW_IVECSTERR 0x0002           
                             7784 ; 1112 |// Trace
                             7785 ; 1113 |#define HW_IVECTRAC 0x0004           
                             7786 ; 1114 |// SWI
                             7787 ; 1115 |#define HW_IVECSWI 0x0006           
                             7788 ; 1116 |// ~IRQA
                             7789 ; 1117 |#define HW_IVECIRQA 0x0008           
                             7790 ; 1118 |// ~IRQB - BROWNOUT
                             7791 ; 1119 |#define HW_IVECIRQB 0x000A           
                             7792 ; 1120 |// Fatal Error
                             7793 ; 1121 |#define HW_IVECERROR 0x000C           
                             7794 ; 1122 |// SPI
                             7795 ; 1123 |#define HW_IVECSPI 0x000E           
                             7796 ; 1124 |// I2S TX Data Empty
                             7797 ; 1125 |#define HW_IVECI2STXDE 0x0010           
                             7798 ; 1126 |// I2S TX Underflow
                             7799 ; 1127 |#define HW_IVECI2STXUF 0x0012           
                             7800 ; 1128 |// I2S RX Data Full
                             7801 ; 1129 |#define HW_IVECI2SRXDF 0x0014           
                             7802 ; 1130 |// I2S RX Overflow
                             7803 ; 1131 |#define HW_IVECI2SRXOF 0x0016           
                             7804 ; 1132 |//                                       equ     $0018           ; Error, nothing vectors here
                             7805 ; 1133 |//                                       equ     $001A           ; Error, nothing vectors here
                             7806 ; 1134 |//                                       equ     $001C           ; Error, nothing vectors here
                             7807 ; 1135 |//                                       equ     $001E           ; Non-Maskable Interrupt
                             7808 ; 1136 |// GPIO1
                             7809 ; 1137 |#define HW_IVECGPIO1 0x0020           
                             7810 ; 1138 |// GPIO2
                             7811 ; 1139 |#define HW_IVECGPIO2 0x0022           
                             7812 ; 1140 |// GPIO0
                             7813 ; 1141 |#define HW_IVECGPIO0 0x0024           
                             7814 ; 1142 |// TIMER0
                             7815 ; 1143 |#define HW_IVECTIMER0 0x0026           
                             7816 ; 1144 |// TIMER1
                             7817 ; 1145 |#define HW_IVECTIMER1 0x0028           
                             7818 ; 1146 |// TIMER2
                             7819 ; 1147 |#define HW_IVECTIMER2 0x002A           
                             7820 ; 1148 |//                                       equ     $002C           ; Error, nothing vectors here
                             7821 ; 1149 |//                                       equ     $002E           ; Error, nothing vectors here
                             7822 ; 1150 |// I2C RX Data Ready
                             7823 ; 1151 |#define HW_IVECI2CRXDR 0x0030           
                             7824 ; 1152 |// I2C RX Overflow
                             7825 ; 1153 |#define HW_IVECI2CRXOF 0x0032           
                             7826 ; 1154 |// I2C TX Data Empty
                             7827 ; 1155 |#define HW_IVECI2CTXDE 0x0034           
                             7828 ; 1156 |// I2C TX Underflow
                             7829 ; 1157 |#define HW_IVECI2CTXUF 0x0036           
                             7830 ; 1158 |// Illegal Instruction
                             7831 ; 1159 |#define HW_IVECILI 0x0038           
                             7832 ; 1160 |//                                       equ     $003A           ; Error, nothing vectors here
                             7833 ; 1161 |// DAC Empty ISR (DAC Request to Fill Buffer)
                             7834 ; 1162 |#define HW_IVECDACE 0x003C           
                             7835 ; 1163 |// DAC Underflow ISR
                             7836 ; 1164 |#define HW_IVECDACUF 0x003E           
                             7837 ; 1165 |//                                       equ     $0040           ; Error, nothing vectors here
                             7838 ; 1166 |// ADC Full ISR
                             7839 ; 1167 |#define HW_IVECADCF 0x0042           
                             7840 ; 1168 |// ADC Overflow ISR
                             7841 ; 1169 |#define HW_IVECADCOF 0x0044           
                             7842 ; 1170 |//                                       equ     $0046           ; Error, nothing vectors here
                             7843 ; 1171 |// TIMER3
                             7844 ; 1172 |#define HW_IVECTIMER3 0x0048           
                             7845 ; 1173 |// GPIO3
                             7846 ; 1174 |#define HW_IVECGPIO3 0x004A           
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page  32

M:ADDR CODE           CYCLES LINE SOURCELINE
                             7847 ; 1175 |// SDRAM
                             7848 ; 1176 |#define HW_IVECSDRAM 0x004C           
                             7849 ; 1177 |//                                       equ     $004E           ; Error, nothing vectors here
                             7850 ; 1178 |// 5 volt power connected
                             7851 ; 1179 |#define HW_IVECVDD5VCONN 0x0050           
                             7852 ; 1180 |// USB Controller
                             7853 ; 1181 |#define HW_IVECUSBCTLR 0x0052           
                             7854 ; 1182 |// USB Wakeup 
                             7855 ; 1183 |#define HW_IVECUSBWAKEUP 0x0054           
                             7856 ; 1184 |// 5 volt power disconnected
                             7857 ; 1185 |#define HW_IVECVDD5VDISC 0x0056           
                             7858 ; 1186 |// enhanced SPI
                             7859 ; 1187 |#define HW_IVECESPI 0x0058           
                             7860 ; 1188 |// filter coprocessor
                             7861 ; 1189 |#define HW_IVECFILCO 0x005A           
                             7862 ; 1190 |// low res ADC #1
                             7863 ; 1191 |#define HW_IVECLRADC1 0x005C           
                             7864 ; 1192 |// real time clock alarm
                             7865 ; 1193 |#define HW_IVECRTCALARM 0x005E           
                             7866 ; 1194 |// low res ADC #2
                             7867 ; 1195 |#define HW_IVECLRADC2 0x0060           
                             7868 ; 1196 |// flash hardware ECC
                             7869 ; 1197 |#define HW_IVECHWECC 0x0062           
                             7870 ; 1198 |//                                       equ     $0064           ; Error, nothing vectors here
                             7871 ; 1199 |// CDSYNC Interrupt
                             7872 ; 1200 |#define HW_IVECCDSYNC 0x0066           
                             7873 ; 1201 |// CDSYNC Exception
                             7874 ; 1202 |#define HW_IVECCDSYNCEX 0x0068           
                             7875 ; 1203 |// RS
                             7876 ; 1204 |#define HW_IVECRS 0x006A           
                             7877 ; 1205 |//                                       equ     $006C           ; Error, nothing vectors here
                             7878 ; 1206 |// Flash Done ISR
                             7879 ; 1207 |#define HW_IVECFD 0x006E           
                             7880 ; 1208 |// CompactFlash ISR
                             7881 ; 1209 |#define HW_IVECCF 0x0070           
                             7882 ; 1210 |// SmartMedia Timeout ISR
                             7883 ; 1211 |#define HW_IVECSMTO 0x0072           
                             7884 ; 1212 |// SmartMedia Invalid Programming
                             7885 ; 1213 |#define HW_IVECSMIP 0x0074           
                             7886 ; 1214 |// CompactFlash No Card ISR
                             7887 ; 1215 |#define HW_IVECCFNC 0x0076           
                             7888 ; 1216 |// CompactFlash Status Change ISR
                             7889 ; 1217 |#define HW_IVECCFSC 0x0078           
                             7890 ; 1218 |//                                       equ     $007A           ; Error, nothing vectors here
                             7891 ; 1219 |//                                       equ     $007C           ; Error, nothing vectors here
                             7892 ; 1220 |// CDI
                             7893 ; 1221 |#define HW_IVECCDI 0x007E           
                             7894 ; 1222 |
                             7895 ; 1223 |/////////////////////////////////////////////////////////////////////////////////
                             7896 ; 1224 |//  Interrupt Vectors
                             7897 ; 1225 |/////////////////////////////////////////////////////////////////////////////////
                             7898 ; 1226 |// macro to allow setting vectors from C. Hex const below is jsr opcode.
                             7899 ; 1227 |#define VECTOR(address,isr) \ 
                             7900 ; 1228 |    (*(volatile int _P *)(address))=0x0BF080; \ 
                             7901 ; 1229 |    (*(volatile int _P *)(address+1))=(isr)
                             7902 ; 1230 |
                             7903 ; 1231 |
                             7904 ; 1232 |/////////////////////////////////////////////////////////////////////////////////
                             7905 ; 1233 |//  Interrupt Priority Register (HW_IPR) Bit Positions
                             7906 ; 1234 |#define HW_IPR_IRQA_BITPOS 0
                             7907 ; 1235 |#define HW_IPR_IRQA_ET_BITPOS 2
                             7908 ; 1236 |#define HW_IPR_IRQB_BITPOS 3
                             7909 ; 1237 |#define HW_IPR_IRQB_ET_BITPOS 5
                             7910 ; 1238 |#define HW_IPR_L0P_BITPOS 10
                             7911 ; 1239 |#define HW_IPR_L1P_BITPOS 12
                             7912 ; 1240 |#define HW_IPR_L2P_BITPOS 14
                             7913 ; 1241 |#define HW_IPR_L3P_BITPOS 16
                             7914 ; 1242 |#define HW_IPR_L4P_BITPOS 18
                             7915 ; 1243 |#define HW_IPR_L5P_BITPOS 20
                             7916 ; 1244 |#define HW_IPR_L6P_BITPOS 22
                             7917 ; 1245 |
                             7918 ; 1246 |// Interrupt Disabled
                             7919 ; 1247 |#define HW_IPR_LP_0_SETMASK 0   
                             7920 ; 1248 |// Interrupt Priority Level 0
                             7921 ; 1249 |#define HW_IPR_LP_1_SETMASK 1   
                             7922 ; 1250 |// Interrupt Priority Level 1
                             7923 ; 1251 |#define HW_IPR_LP_2_SETMASK 2   
                             7924 ; 1252 |// Interrupt Priority Level 2
                             7925 ; 1253 |#define HW_IPR_LP_3_SETMASK 3   
                             7926 ; 1254 |
                             7927 ; 1255 |#define HW_IPR_IRQA_SETMASK 3<<HW_IPR_IRQA_BITPOS
                             7928 ; 1256 |#define HW_IPR_IRQA_ET_SETMASK 1<<HW_IPR_IRQA_ET_BITPOS
                             7929 ; 1257 |#define HW_IPR_IRQB_SETMASK 3<<HW_IPR_IRQB_BITPOS
                             7930 ; 1258 |#define HW_IPR_IRQB_ET_SETMASK 1<<HW_IPR_IRQB_ET_BITPOS
                             7931 ; 1259 |#define HW_IPR_L0P_SETMASK 3<<HW_IPR_L0P_BITPOS
                             7932 ; 1260 |#define HW_IPR_L1P_SETMASK 3<<HW_IPR_L1P_BITPOS
                             7933 ; 1261 |#define HW_IPR_L2P_SETMASK 3<<HW_IPR_L2P_BITPOS
                             7934 ; 1262 |#define HW_IPR_L3P_SETMASK 3<<HW_IPR_L3P_BITPOS
                             7935 ; 1263 |#define HW_IPR_L4P_SETMASK 3<<HW_IPR_L4P_BITPOS
                             7936 ; 1264 |#define HW_IPR_L5P_SETMASK 3<<HW_IPR_L5P_BITPOS
                             7937 ; 1265 |#define HW_IPR_L6P_SETMASK 3<<HW_IPR_L6P_BITPOS
                             7938 ; 1266 |
                             7939 ; 1267 |#define HW_IPR_IRQA_CLRMASK ~(WORD)HW_IPR_IRQA_SETMASK
                             7940 ; 1268 |#define HW_IPR_IRQA_ET_CLRMASK ~(WORD)HW_IPR_IRQA_ET_SETMASK
                             7941 ; 1269 |#define HW_IPR_IRQB_CLRMASK ~(WORD)HW_IPR_IRQB_SETMASK
                             7942 ; 1270 |#define HW_IPR_IRQB_ET_CLRMASK ~(WORD)HW_IPR_IRQB_ET_SETMASK
                             7943 ; 1271 |#define HW_IPR_L0P_CLRMASK ~(WORD)HW_IPR_L0P_SETMASK
                             7944 ; 1272 |#define HW_IPR_L1P_CLRMASK ~(WORD)HW_IPR_L1P_SETMASK
                             7945 ; 1273 |#define HW_IPR_L2P_CLRMASK ~(WORD)HW_IPR_L2P_SETMASK
                             7946 ; 1274 |#define HW_IPR_L3P_CLRMASK ~(WORD)HW_IPR_L3P_SETMASK
                             7947 ; 1275 |#define HW_IPR_L4P_CLRMASK ~(WORD)HW_IPR_L4P_SETMASK
                             7948 ; 1276 |#define HW_IPR_L5P_CLRMASK ~(WORD)HW_IPR_L5P_SETMASK
                             7949 ; 1277 |#define HW_IPR_L6P_CLRMASK ~(WORD)HW_IPR_L6P_SETMASK
                             7950 ; 1278 |
                             7951 ; 1279 |// Interrupt Priority register
                             7952 ; 1280 |typedef union               
                             7953 ; 1281 |{
                             7954 ; 1282 |    struct {
                             7955 ; 1283 |        unsigned int IRQAP  :2; /* IRQ A Priority: 00 disable, 01 10 11 enable  */
                             7956 ; 1284 |        unsigned int IRQAT  :1; /* IRQ A Type: 0 level, 1 negative edge         */
                             7957 ; 1285 |        unsigned int IRQBP  :2; /* IRQ B Priority: 00 disable, 01 10 11 enable  */
                             7958 ; 1286 |        unsigned int IRQBT  :1; /* IRQ B Type: 0 level, 1 negative edge.        */
                             7959 ; 1287 |        int                 :4; /* Reserved */
                             7960 ; 1288 |        unsigned int L0P    :2; /* Interrupt Priority for priority 0 (SAI)      */
                             7961 ; 1289 |        unsigned int L1P    :2; /* Interrupt Priority for priority 1 (IColl)    */
                             7962 ; 1290 |        unsigned int L2P    :2; /* Interrupt Priority for priority 2 (IColl)    */
                             7963 ; 1291 |        unsigned int L3P    :2; /* Interrupt Priority for priority 3 (IColl)    */
                             7964 ; 1292 |        unsigned int L4P    :2; /* Interrupt Priority for priority 4 (I2C)      */
                             7965 ; 1293 |        unsigned int L5P    :2; /* Interrupt Priority for priority 5 (SPI)      */
                             7966 ; 1294 |        unsigned int L6P    :2; /* Interrupt Priority for priority 6 (IColl)    */
                             7967 ; 1295 |    } B;
                             7968 ; 1296 |
                             7969 ; 1297 |    int I;
                             7970 ; 1298 |
                             7971 ; 1299 |} ipr_type;
                             7972 ; 1300 |#define HW_IPR         (*(volatile ipr_type _X*) 0x00FFFF)
                             7973 ; 1301 |
                             7974 ; 1302 |//*********************  REGISTER ALIAS DEFINES TO MATCH LEGACY CODE *******************************
                             7975 ; 1303 |// The following defines were added to match regs3410.inc definition to build SDK2XXX code without needing 
                             7976 ; 1304 |// to update the actual files. Only the defines needed to build SDK2.400 were added.
                             7977 ; 1305 |
                             7978 ; 1306 |#define HW_IPR_L1P0_BITPOS 12
                             7979 ; 1307 |#define HW_IPR_L2P0_BITPOS 14
                             7980 ; 1308 |#define HW_IPR_L3P0_BITPOS 16
                             7981 ; 1309 |#define HW_IPR_L6P0_BITPOS 22
                             7982 ; 1310 |
                             7983 ; 1311 |/////////////////////////////////////////////////////////////////////////////////
                             7984 ; 1312 |//  Interrupt Collector Steering 0 Register (HW_ICLSTEER0R) Bit Positions
                             7985 ; 1313 |#define HW_ICLSTEERR_SS_1 0
                             7986 ; 1314 |#define HW_ICLSTEERR_SS_2 1
                             7987 ; 1315 |#define HW_ICLSTEERR_SS_3 2
                             7988 ; 1316 |#define HW_ICLSTEERR_SS_6 3
                             7989 ; 1317 |
                             7990 ; 1318 |#endif
                             7991 ; 1319 |
                             7992 
                             7994 
                             7995 ; 26   |#include "regslradc.h"
                             7996 
                             7998 
                             7999 ; 1    |#if !(defined(regslradcinc))
                             8000 ; 2    |
                             8001 ; 3    |#define regslradcinc 1
                             8002 ; 4    |
                             8003 ; 5    |#include "types.h"
                             8004 
                             8006 
                             8007 ; 1    |////////////////////////////////////////////////////////////////////////////////
                             8008 ; 2    |// Copyright(C) SigmaTel, Inc. 2000-2004
                             8009 ; 3    |//
                             8010 ; 4    |// Filename: types.h
                             8011 ; 5    |// Description: Standard data types
                             8012 ; 6    |////////////////////////////////////////////////////////////////////////////////
                             8013 ; 7    |
                             8014 ; 8    |#ifndef _TYPES_H
                             8015 ; 9    |#define _TYPES_H
                             8016 ; 10   |
                             8017 ; 11   |// TODO:  move this outta here!
                             8018 ; 12   |#if !defined(NOERROR)
                             8019 ; 13   |#define NOERROR 0
                             8020 ; 14   |#define SUCCESS 0
                             8021 ; 15   |#endif 
                             8022 ; 16   |#if !defined(SUCCESS)
                             8023 ; 17   |#define SUCCESS  0
                             8024 ; 18   |#endif
                             8025 ; 19   |#if !defined(ERROR)
                             8026 ; 20   |#define ERROR   -1
                             8027 ; 21   |#endif
                             8028 ; 22   |#if !defined(FALSE)
                             8029 ; 23   |#define FALSE 0
                             8030 ; 24   |#endif
                             8031 ; 25   |#if !defined(TRUE)
                             8032 ; 26   |#define TRUE  1
                             8033 ; 27   |#endif
                             8034 ; 28   |
                             8035 ; 29   |#if !defined(NULL)
                             8036 ; 30   |#define NULL 0
                             8037 ; 31   |#endif
                             8038 ; 32   |
                             8039 ; 33   |#define MAX_INT     0x7FFFFF
                             8040 ; 34   |#define MAX_LONG    0x7FFFFFffffff
                             8041 ; 35   |        // max positive unsigned long value: -1 == 0xFFFFFFffffff
                             8042 ; 36   |#define MAX_ULONG   (-1) 
                             8043 ; 37   |
                             8044 ; 38   |#define WORD_SIZE   24              // word size in bits
                             8045 ; 39   |#define BYTES_PER_WORD 3            // 8 bit bytes
                             8046 ; 40   |
                             8047 ; 41   |
                             8048 ; 42   |#define BYTE    unsigned char       // btVarName
                             8049 ; 43   |#define CHAR    signed char         // cVarName
                             8050 ; 44   |#define USHORT  unsigned short      // usVarName
                             8051 ; 45   |#define SHORT   unsigned short      // sVarName
                             8052 ; 46   |#define WORD    unsigned int        // wVarName
                             8053 ; 47   |#define INT     signed int          // iVarName
                             8054 ; 48   |#define DWORD   unsigned long       // dwVarName
                             8055 ; 49   |#define LONG    signed long         // lVarName
                             8056 ; 50   |#define BOOL    unsigned int        // bVarName
                             8057 ; 51   |#define FRACT   _fract              // frVarName
                             8058 ; 52   |#define LFRACT  long _fract         // lfrVarName
                             8059 ; 53   |#define CIRC    _circ               // cp<type prefix>VarName (see below)
                             8060 ; 54   |#define FLOAT   float               // fVarName
                             8061 ; 55   |#define DBL     double              // dVarName
                             8062 ; 56   |#define ENUM    enum                // eVarName
                             8063 ; 57   |#define CMX     _complex            // cmxVarName
                             8064 ; 58   |typedef WORD UCS3;                   // 
                             8065 ; 59   |
                             8066 ; 60   |#define UINT16  unsigned short
                             8067 ; 61   |#define UINT8   unsigned char   
                             8068 ; 62   |#define UINT32  unsigned long
                             8069 ; 63   |#define UINT64  unsigned long   // need to figure out how to do 64 bit values.  Or port exisiting code to only use 48 bit
                             8070 ; 64   |#define INT64   unsigned long   // need to figure out how to do 64 bit values.  Or port exisiting code to only use 48 bit
                             8071 ; 65   |#define WCHAR   UINT16
                             8072 ; 66   |
                             8073 ; 67   |//UINT128 is 16 bytes or 6 words
                             8074 ; 68   |typedef struct UINT128_3500 {   
                             8075 ; 69   |    int val[6];     
                             8076 ; 70   |} UINT128_3500;
                             8077 ; 71   |
                             8078 ; 72   |#define UINT128   UINT128_3500
                             8079 ; 73   |
                             8080 ; 74   |// Little endian word packed byte strings:   
                             8081 ; 75   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                             8082 ; 76   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                             8083 ; 77   |// Little endian word packed byte strings:   
                             8084 ; 78   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                             8085 ; 79   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                             8086 ; 80   |
                             8087 ; 81   |// Declare Memory Spaces To Use When Coding
                             8088 ; 82   |// A. Sector Buffers
                             8089 ; 83   |#define SECTOR_BUFFER_MEM_X _X
                             8090 ; 84   |#define SECTOR_BUFFER_MEM_Y _Y
                             8091 ; 85   |#define SECTOR_BUFFER_MEM SECTOR_BUFFER_MEM_X
                             8092 ; 86   |typedef WORD SECTOR_BUFFER_MEM SECTOR_BUFFER;
                             8093 ; 87   |typedef SECTOR_BUFFER * P_SECTOR_BUFFER;
                             8094 ; 88   |// B. Media DDI Memory
                             8095 ; 89   |#define MEDIA_DDI_MEM _Y
                             8096 ; 90   |
                             8097 ; 91   |
                             8098 ; 92   |
                             8099 ; 93   |// Pointers to linear structures are labeled as: p<type prefix>VarName
                             8100 ; 94   |// Examples of circular pointers:
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page  33

M:ADDR CODE           CYCLES LINE SOURCELINE
                             8101 ; 95   |//    INT CIRC cpiVarName
                             8102 ; 96   |//    DWORD CIRC cpdwVarName
                             8103 ; 97   |
                             8104 ; 98   |#define RETCODE INT                 // rcVarName
                             8105 ; 99   |
                             8106 ; 100  |// generic bitfield structure
                             8107 ; 101  |struct Bitfield {
                             8108 ; 102  |    unsigned int B0  :1;
                             8109 ; 103  |    unsigned int B1  :1;
                             8110 ; 104  |    unsigned int B2  :1;
                             8111 ; 105  |    unsigned int B3  :1;
                             8112 ; 106  |    unsigned int B4  :1;
                             8113 ; 107  |    unsigned int B5  :1;
                             8114 ; 108  |    unsigned int B6  :1;
                             8115 ; 109  |    unsigned int B7  :1;
                             8116 ; 110  |    unsigned int B8  :1;
                             8117 ; 111  |    unsigned int B9  :1;
                             8118 ; 112  |    unsigned int B10 :1;
                             8119 ; 113  |    unsigned int B11 :1;
                             8120 ; 114  |    unsigned int B12 :1;
                             8121 ; 115  |    unsigned int B13 :1;
                             8122 ; 116  |    unsigned int B14 :1;
                             8123 ; 117  |    unsigned int B15 :1;
                             8124 ; 118  |    unsigned int B16 :1;
                             8125 ; 119  |    unsigned int B17 :1;
                             8126 ; 120  |    unsigned int B18 :1;
                             8127 ; 121  |    unsigned int B19 :1;
                             8128 ; 122  |    unsigned int B20 :1;
                             8129 ; 123  |    unsigned int B21 :1;
                             8130 ; 124  |    unsigned int B22 :1;
                             8131 ; 125  |    unsigned int B23 :1;
                             8132 ; 126  |};
                             8133 ; 127  |
                             8134 ; 128  |union BitInt {
                             8135 ; 129  |        struct Bitfield B;
                             8136 ; 130  |        int        I;
                             8137 ; 131  |};
                             8138 ; 132  |
                             8139 ; 133  |#define MAX_MSG_LENGTH 10
                             8140 ; 134  |struct CMessage
                             8141 ; 135  |{
                             8142 ; 136  |        unsigned int m_uLength;
                             8143 ; 137  |        unsigned int m_uMsg[MAX_MSG_LENGTH];
                             8144 ; 138  |};
                             8145 ; 139  |
                             8146 ; 140  |typedef struct {
                             8147 ; 141  |    WORD m_wLength;
                             8148 ; 142  |    WORD m_wMessage;
                             8149 ; 143  |    WORD m_wParams[MAX_MSG_LENGTH];
                             8150 ; 144  |} Message;
                             8151 ; 145  |
                             8152 ; 146  |struct MessageQueueDescriptor
                             8153 ; 147  |{
                             8154 ; 148  |        int *m_pBase;
                             8155 ; 149  |        int m_iModulo;
                             8156 ; 150  |        int m_iSize;
                             8157 ; 151  |        int *m_pHead;
                             8158 ; 152  |        int *m_pTail;
                             8159 ; 153  |};
                             8160 ; 154  |
                             8161 ; 155  |struct ModuleEntry
                             8162 ; 156  |{
                             8163 ; 157  |    int m_iSignaledEventMask;
                             8164 ; 158  |    int m_iWaitEventMask;
                             8165 ; 159  |    int m_iResourceOfCode;
                             8166 ; 160  |    struct MessageQueueDescriptor *m_pMessageQueue;
                             8167 ; 161  |    int _asmfunc (*m_pProcessEntryPoint)(union WaitMask Signals,struct MessageQueueDescriptor *);
                             8168 ; 162  |    int _asmfunc (*m_pInitFunction)(struct MessageQueueDescriptor *);
                             8169 ; 163  |    int m_uTimeOutHigh;
                             8170 ; 164  |    int m_uTimeOutLow;
                             8171 ; 165  |    int _asmfunc (*m_pBackgroundFunction)(struct MessageQueueDescriptor *);
                             8172 ; 166  |};
                             8173 ; 167  |
                             8174 ; 168  |union WaitMask{
                             8175 ; 169  |    struct B{
                             8176 ; 170  |        unsigned int m_bNone     :1;
                             8177 ; 171  |        unsigned int m_bMessage  :1;
                             8178 ; 172  |        unsigned int m_bTimer    :1;
                             8179 ; 173  |        unsigned int m_bButton   :1;
                             8180 ; 174  |    } B;
                             8181 ; 175  |    int I;
                             8182 ; 176  |} ;
                             8183 ; 177  |
                             8184 ; 178  |
                             8185 ; 179  |struct Button {
                             8186 ; 180  |        WORD wButtonEvent;
                             8187 ; 181  |        WORD wUnused[MAX_MSG_LENGTH];   
                             8188 ; 182  |};
                             8189 ; 183  |
                             8190 ; 184  |struct Message {
                             8191 ; 185  |        WORD wMsgLength;
                             8192 ; 186  |        WORD wMsgCommand;
                             8193 ; 187  |        WORD wMsgParms[MAX_MSG_LENGTH-1];
                             8194 ; 188  |};
                             8195 ; 189  |
                             8196 ; 190  |union EventTypes {
                             8197 ; 191  |        struct CMessage msg;
                             8198 ; 192  |        struct Button Button ;
                             8199 ; 193  |        struct Message Message;
                             8200 ; 194  |};
                             8201 ; 195  |
                             8202 ; 196  |// next 2 used to get updater build to return correct protocol ver in scsi response.
                             8203 ; 197  |#define BUILD_TYPE_UPDATER  0x100
                             8204 ; 198  |#define BUILD_TYPE_HOSTLINK 0x101
                             8205 ; 199  |#define BUILD_TYPE_PLAYER   0x102
                             8206 ; 200  |
                             8207 ; 201  |// Resets part if RETAIL build. DEBUG build executes debug instruction to halt.
                             8208 ; 202  |#define SystemHalt() __asm(" include 'sysmacro.asm' \n error") 
                             8209 ; 203  |#define assert(x)    if(!(x)) __asm(" include 'sysmacro.asm' \n error")
                             8210 ; 204  |
                             8211 ; 205  |#if DEBUG
                             8212 ; 206  |// For DEBUG builds, DebugBuildAssert(condition) halts if condition evaluates to FALSE. 
                             8213 ; 207  |#define DebugBuildAssert(x)    if(!(x)) __asm(" debug ")
                             8214 ; 208  |#else 
                             8215 ; 209  |// For RETAIL builds, DebugBuildAssert(condition) does nothing & execution continues rather than halt or reset. 
                             8216 ; 210  |#define DebugBuildAssert(x)    
                             8217 ; 211  |#endif
                             8218 ; 212  |
                             8219 ; 213  |// Do this in your C files to make a reminder that's displayed during the build.
                             8220 ; 214  |//  #pragma asm
                             8221 ; 215  |//  WARN 'Note to builder: reminder to do this after verifying that'
                             8222 ; 216  |//  #pragma endasm
                             8223 ; 217  |
                             8224 ; 218  |
                             8225 ; 219  |#ifdef COLOR_262K
                             8226 ; 220  |#define RGB(r,g,b)    ((0x0000FC & (r)) << 10) | ((0x0000FC & (g)) << 4) | ((0x0000FC & (b)) >> 2)    //262k
                             8227 ; 221  |#elif defined(COLOR_65K)
                             8228 ; 222  |#define RGB(r,g,b)    ((0x0000F8 & (r)) << 8) | ((0x0000FC & (g)) << 3) | ((0x0000F8 & (b)) >> 3)  //65k
                             8229 ; 223  |#else
                             8230 ; 224  |#define RGB(r,g,b)       ((0x0000F0 & (r)) << 4) | (0x0000F0 & (g)) | ((0x0000F0 & (b)) >> 4)
                             8231 ; 225  |#endif
                             8232 ; 226  |    
                             8233 ; 227  |#endif // #ifndef _TYPES_H
                             8234 
                             8236 
                             8237 ; 6    |//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                             8238 ; 7    |
                             8239 ; 8    |//   SYSTEM STMP Registers 
                             8240 ; 9    |//  Last Edited 6.26.2003 M. Henson
                             8241 ; 10   |//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                             8242 ; 11   |
                             8243 ; 12   |#define HW_LRADC_BASEADDR (0xFA20)
                             8244 ; 13   |
                             8245 ; 14   |
                             8246 ; 15   |
                             8247 ; 16   |/////////////////////////////////////////////////////////////////////////////////
                             8248 ; 17   |//  Battery LRADC Control Register (HW_BATT_CTRL) Bit Definitions
                             8249 ; 18   |#define HW_BATT_CTRL_INPUT_OFFSET_WIDTH (7)
                             8250 ; 19   |#define HW_BATT_CTRL_RSVD0_WIDTH (1)
                             8251 ; 20   |#define HW_BATT_CTRL_HALF_CMP_PWR_WIDTH (1)
                             8252 ; 21   |#define HW_BATT_CTRL_INPUT_DIV2_WIDTH (1)
                             8253 ; 22   |#define HW_BATT_CTRL_CLEAR_WIDTH (1)
                             8254 ; 23   |#define HW_BATT_CTRL_PWD_WIDTH (1)
                             8255 ; 24   |#define HW_BATT_CTRL_CLK_DIV_WIDTH (2)
                             8256 ; 25   |#define HW_BATT_CTRL_RSVD1_WIDTH (2)
                             8257 ; 26   |#define HW_BATT_CTRL_REF_VAL_WIDTH (2)
                             8258 ; 27   |#define HW_BATT_CTRL_RSVD2_WIDTH (2)
                             8259 ; 28   |#define HW_BATT_CTRL_IRQ_EN_EVENT0_WIDTH (1)
                             8260 ; 29   |#define HW_BATT_CTRL_IRQ_EN_EVENT1_WIDTH (1)
                             8261 ; 30   |#define HW_BATT_CTRL_POLARITY_EVENT0_WIDTH (1)
                             8262 ; 31   |#define HW_BATT_CTRL_POLARITY_EVENT1_WIDTH (1)
                             8263 ; 32   |
                             8264 ; 33   |#define HW_BATT_CTRL_INPUT_OFFSET_BITPOS (0)
                             8265 ; 34   |#define HW_BATT_CTRL_HALF_CMP_PWR_BITPOS (8)
                             8266 ; 35   |#define HW_BATT_CTRL_INPUT_DIV2_BITPOS (9)
                             8267 ; 36   |#define HW_BATT_CTRL_CLEAR_BITPOS (10)
                             8268 ; 37   |#define HW_BATT_CTRL_PWD_BITPOS (11)
                             8269 ; 38   |#define HW_BATT_CTRL_CLK_DIV_BITPOS (12)
                             8270 ; 39   |#define HW_BATT_CTRL_REF_VAL_BITPOS (16)
                             8271 ; 40   |
                             8272 ; 41   |#define HW_BATT_CTRL_INPUT_OFFSET_SETMASK (((1<<HW_BATT_CTRL_INPUT_OFFSET_WIDTH)-1)<<HW_BATT_CTRL_INPUT_OFFSET_BITPOS)        
                             8273 ; 42   |#define HW_BATT_CTRL_HALF_CMP_PWR_SETMASK (((1<<HW_BATT_CTRL_HALF_CMP_PWR_WIDTH)-1)<<HW_BATT_CTRL_HALF_CMP_PWR_BITPOS)        
                             8274 ; 43   |#define HW_BATT_CTRL_INPUT_DIV2_SETMASK (((1<<HW_BATT_CTRL_INPUT_DIV2_WIDTH)-1)<<HW_BATT_CTRL_INPUT_DIV2_BITPOS) 
                             8275 ; 44   |#define HW_BATT_CTRL_CLEAR_SETMASK (((1<<HW_BATT_CTRL_CLEAR_WIDTH)-1)<<HW_BATT_CTRL_CLEAR_BITPOS) 
                             8276 ; 45   |#define HW_BATT_CTRL_PWD_SETMASK (((1<<HW_BATT_CTRL_PWD_WIDTH)-1)<<HW_BATT_CTRL_PWD_BITPOS) 
                             8277 ; 46   |#define HW_BATT_CTRL_CLK_DIV_SETMASK (((1<<HW_BATT_CTRL_CLK_DIV_WIDTH)-1)<<HW_BATT_CTRL_CLK_DIV_BITPOS)        
                             8278 ; 47   |#define HW_BATT_CTRL_REF_VAL_SETMASK (((1<<HW_BATT_CTRL_REF_VAL_WIDTH)-1)<<HW_BATT_CTRL_REF_VAL_BITPOS)        
                             8279 ; 48   |
                             8280 ; 49   |#define HW_BATT_CTRL_INPUT_OFFSET_CLRMASK (~(WORD)HW_BATT_CTRL_INPUT_OFFSET_SETMASK)     
                             8281 ; 50   |#define HW_BATT_CTRL_HALF_CMP_PWR_CLRMASK (~(WORD)HW_BATT_CTRL_HALF_CMP_PWR_SETMASK)     
                             8282 ; 51   |#define HW_BATT_CTRL_INPUT_DIV2_CLRMASK (~(WORD)HW_BATT_CTRL_INPUT_DIV2_SETMASK) 
                             8283 ; 52   |#define HW_BATT_CTRL_CLEAR_CLRMASK (~(WORD)HW_BATT_CTRL_CLEAR_SETMASK) 
                             8284 ; 53   |#define HW_BATT_CTRL_PWD_CLRMASK (~(WORD)HW_BATT_CTRL_PWD_SETMASK) 
                             8285 ; 54   |#define HW_BATT_CTRL_CLK_DIV_CLRMASK (~(WORD)HW_BATT_CTRL_CLK_DIV_SETMASK)     
                             8286 ; 55   |#define HW_BATT_CTRL_REF_VAL_CLRMASK (~(WORD)HW_BATT_CTRL_REF_VAL_SETMASK)
                             8287 ; 56   |
                             8288 ; 57   |typedef union               
                             8289 ; 58   |{
                             8290 ; 59   |    struct {
                             8291 ; 60   |        unsigned int INPUT_OFFSET                 : HW_BATT_CTRL_INPUT_OFFSET_WIDTH;
                             8292 ; 61   |        unsigned int RSVD0                        : HW_BATT_CTRL_RSVD0_WIDTH;
                             8293 ; 62   |        unsigned int HALF_CMP_PWR                 : HW_BATT_CTRL_HALF_CMP_PWR_WIDTH;
                             8294 ; 63   |        unsigned int INPUT_DIV2                   : HW_BATT_CTRL_INPUT_DIV2_WIDTH;
                             8295 ; 64   |        unsigned int CLEAR                        : HW_BATT_CTRL_CLEAR_WIDTH;
                             8296 ; 65   |        unsigned int PWD                          : HW_BATT_CTRL_PWD_WIDTH;
                             8297 ; 66   |        unsigned int CLK_DIV                      : HW_BATT_CTRL_CLK_DIV_WIDTH;
                             8298 ; 67   |        unsigned int RSVD1                        : HW_BATT_CTRL_RSVD1_WIDTH;
                             8299 ; 68   |        unsigned int REF_VAL                      : HW_BATT_CTRL_REF_VAL_WIDTH;
                             8300 ; 69   |        unsigned int RSVD2                        : HW_BATT_CTRL_RSVD2_WIDTH;
                             8301 ; 70   |                 unsigned int IRQ_EN_EVENT0                               : HW_BATT_CTRL_IRQ_EN_EVENT0_WIDTH;
                             8302 ; 71   |                 unsigned int IRQ_EN_EVENT1                               : HW_BATT_CTRL_IRQ_EN_EVENT1_WIDTH;
                             8303 ; 72   |             unsigned int POLARITY_EVENT0              : HW_BATT_CTRL_POLARITY_EVENT0_WIDTH;
                             8304 ; 73   |                 unsigned int POLARITY_EVENT1              : HW_BATT_CTRL_POLARITY_EVENT1_WIDTH;
                             8305 ; 74   |    } B;
                             8306 ; 75   |   unsigned int I;
                             8307 ; 76   |        unsigned int U;
                             8308 ; 77   |} lradc_ctrl_type;
                             8309 ; 78   |#define HW_BATT_CTRL      (*(volatile lradc_ctrl_type _X*) (HW_LRADC_BASEADDR))    /* Battery LRADC Control Register */
                             8310 ; 79   |
                             8311 ; 80   |
                             8312 ; 81   |/////////////////////////////////////////////////////////////////////////////////
                             8313 ; 82   |//  Battery LRADC Threshold Register (HW_BATT_THRSH) Bit Definitions
                             8314 ; 83   |#define HW_BATT_THRSH_THRESHOLD_EVENT0_WIDTH (9)
                             8315 ; 84   |#define HW_BATT_THRSH_RSVD0_WIDTH (3)
                             8316 ; 85   |#define HW_BATT_THRSH_THRESHOLD_EVENT1_WIDTH (9)
                             8317 ; 86   |#define HW_BATT_THRSH_RSVD1_WIDTH (3)
                             8318 ; 87   |
                             8319 ; 88   |#define HW_BATT_THRSH_THRESHOLD_EVENT0_BITPOS (0)
                             8320 ; 89   |#define HW_BATT_THRSH_THRESHOLD_EVENT1_BITPOS (12)
                             8321 ; 90   |
                             8322 ; 91   |#define HW_BATT_THRSH_THRESHOLD_EVENT0_SETMASK (((1<<HW_BATT_THRSH_THRESHOLD_EVENT0_WIDTH)-1)<<HW_BATT_THRSH_THRESHOLD_EVENT0_BITPOS)        
                             8323 ; 92   |#define HW_BATT_THRSH_THRESHOLD_EVENT1_SETMASK (((1<<HW_BATT_THRSH_THRESHOLD_EVENT1_WIDTH)-1)<<HW_BATT_THRSH_THRESHOLD_EVENT1_BITPOS)        
                             8324 ; 93   |
                             8325 ; 94   |#define HW_BATT_THRSH_THRESHOLD_EVENT0_CLRMASK (~(WORD)HW_BATT_THRSH_THRESHOLD_EVENT0_SETMASK)     
                             8326 ; 95   |#define HW_BATT_THRSH_THRESHOLD_EVENT1_CLRMASK (~(WORD)HW_BATT_THRSH_THRESHOLD_EVENT1_SETMASK)     
                             8327 ; 96   |
                             8328 ; 97   |
                             8329 ; 98   |typedef union               
                             8330 ; 99   |{
                             8331 ; 100  |    struct {
                             8332 ; 101  |        unsigned int THRESHOLD_EVENT0   : HW_BATT_THRSH_THRESHOLD_EVENT0_WIDTH;
                             8333 ; 102  |        unsigned int RSVD0                  : HW_BATT_THRSH_RSVD0_WIDTH;
                             8334 ; 103  |        unsigned int THRESHOLD_EVENT1   : HW_BATT_THRSH_THRESHOLD_EVENT1_WIDTH;
                             8335 ; 104  |        unsigned int RSVD1              : HW_BATT_THRSH_RSVD1_WIDTH;
                             8336 ; 105  |    } B;
                             8337 ; 106  |    unsigned int I;
                             8338 ; 107  |} lradc_thrsh_type;
                             8339 ; 108  |#define HW_BATT_THRSH      (*(volatile lradc_thrsh_type _X*) (HW_LRADC_BASEADDR+1))    /* Battery LRADC Threshold Register */
                             8340 ; 109  |
                             8341 ; 110  |
                             8342 ; 111  |/////////////////////////////////////////////////////////////////////////////////
                             8343 ; 112  |//  Battery LRADC Result Register (HW_BATT_RESULT) Bit Definitions
                             8344 ; 113  |#define HW_BATT_RESULT_EQ_EVENT1_WIDTH (1)
                             8345 ; 114  |#define HW_BATT_RESULT_EQ_EVENT0_WIDTH (1)
                             8346 ; 115  |#define HW_BATT_RESULT_GT_EVENT1_WIDTH (1)
                             8347 ; 116  |#define HW_BATT_RESULT_GT_EVENT0_WIDTH (1)
                             8348 ; 117  |#define HW_BATT_RESULT_LT_EVENT1_WIDTH (1)
                             8349 ; 118  |#define HW_BATT_RESULT_LT_EVENT0_WIDTH (1)
                             8350 ; 119  |#define HW_BATT_RESULT_RSVD0_WIDTH (2)
                             8351 ; 120  |#define HW_BATT_RESULT_DATA_OUT_WIDTH (9)
                             8352 ; 121  |#define HW_BATT_RESULT_RSVD1_WIDTH (3)
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page  34

M:ADDR CODE           CYCLES LINE SOURCELINE
                             8353 ; 122  |#define HW_BATT_RESULT_IRQ_EVENT0_WIDTH (1)
                             8354 ; 123  |#define HW_BATT_RESULT_IRQ_EVENT1_WIDTH (1)
                             8355 ; 124  |#define HW_BATT_RESULT_RSVD2_WIDTH (2)
                             8356 ; 125  |
                             8357 ; 126  |#define HW_BATT_RESULT_EQ_EVENT1_BITPOS (0)
                             8358 ; 127  |#define HW_BATT_RESULT_EQ_EVENT0_BITPOS (1)
                             8359 ; 128  |#define HW_BATT_RESULT_GT_EVENT1_BITPOS (2)
                             8360 ; 129  |#define HW_BATT_RESULT_GT_EVENT0_BITPOS (3)
                             8361 ; 130  |#define HW_BATT_RESULT_LT_EVENT1_BITPOS (4)
                             8362 ; 131  |#define HW_BATT_RESULT_LT_EVENT0_BITPOS (5)
                             8363 ; 132  |#define HW_BATT_RESULT_RSVD0_BITPOS (6)
                             8364 ; 133  |#define HW_BATT_RESULT_DATA_OUT_BITPOS (8)
                             8365 ; 134  |#define HW_BATT_RESULT_RSVD1_BITPOS (17)
                             8366 ; 135  |#define HW_BATT_RESULT_IRQ_EVENT0_BITPOS (20)
                             8367 ; 136  |#define HW_BATT_RESULT_IRQ_EVENT1_BITPOS (21)
                             8368 ; 137  |#define HW_BATT_RESULT_RSVD2_BITPOS (22)
                             8369 ; 138  |
                             8370 ; 139  |
                             8371 ; 140  |
                             8372 ; 141  |#define HW_BATT_RESULT_EQ_EVENT1_SETMASK (((1<<HW_BATT_RESULT_EQ_EVENT1_WIDTH)-1)<<HW_BATT_RESULT_EQ_EVENT1_BITPOS)
                             8373 ; 142  |#define HW_BATT_RESULT_EQ_EVENT0_SETMASK (((1<<HW_BATT_RESULT_EQ_EVENT0_WIDTH)-1)<<HW_BATT_RESULT_EQ_EVENT0_BITPOS)
                             8374 ; 143  |#define HW_BATT_RESULT_GT_EVENT1_SETMASK (((1<<HW_BATT_RESULT_GT_EVENT1_WIDTH)-1)<<HW_BATT_RESULT_GT_EVENT1_BITPOS)
                             8375 ; 144  |#define HW_BATT_RESULT_GT_EVENT0_SETMASK (((1<<HW_BATT_RESULT_GT_EVENT0_WIDTH)-1)<<HW_BATT_RESULT_GT_EVENT0_BITPOS)
                             8376 ; 145  |#define HW_BATT_RESULT_LT_EVENT1_SETMASK (((1<<HW_BATT_RESULT_LT_EVENT1_WIDTH)-1)<<HW_BATT_RESULT_LT_EVENT1_BITPOS)
                             8377 ; 146  |#define HW_BATT_RESULT_LT_EVENT0_SETMASK (((1<<HW_BATT_RESULT_LT_EVENT0_WIDTH)-1)<<HW_BATT_RESULT_LT_EVENT0_BITPOS)
                             8378 ; 147  |#define HW_BATT_RESULT_RSVD0_SETMASK (((1<<HW_BATT_RESULT_RSVD0_WIDTH)-1)<<HW_BATT_RESULT_RSVD0_BITPOS)
                             8379 ; 148  |#define HW_BATT_RESULT_DATA_OUT_SETMASK (((1<<HW_BATT_RESULT_DATA_OUT_WIDTH)-1)<<HW_BATT_RESULT_DATA_OUT_BITPOS)
                             8380 ; 149  |#define HW_BATT_RESULT_RSVD1_SETMASK (((1<<HW_BATT_RESULT_RSVD1_WIDTH)-1)<<HW_BATT_RESULT_RSVD1_BITPOS)
                             8381 ; 150  |#define HW_BATT_RESULT_IRQ_EVENT0_SETMASK (((1<<HW_BATT_RESULT_IRQ_EVENT0_WIDTH)-1)<<HW_BATT_RESULT_IRQ_EVENT0_BITPOS)
                             8382 ; 151  |#define HW_BATT_RESULT_IRQ_EVENT1_SETMASK (((1<<HW_BATT_RESULT_IRQ_EVENT1_WIDTH)-1)<<HW_BATT_RESULT_IRQ_EVENT1_BITPOS)
                             8383 ; 152  |#define HW_BATT_RESULT_RSVD2_SETMASK (((1<<HW_BATT_RESULT_RSVD2_WIDTH)-1)<<HW_BATT_RESULT_RSVD2_BITPOS)
                             8384 ; 153  |
                             8385 ; 154  |
                             8386 ; 155  |#define HW_BATT_RESULT_EQ_EVENT1_CLRMASK (~(WORD)HW_BATT_RESULT_EQ_EVENT1_SETMASK)
                             8387 ; 156  |#define HW_BATT_RESULT_EQ_EVENT0_CLRMASK (~(WORD)HW_BATT_RESULT_EQ_EVENT0_SETMASK)
                             8388 ; 157  |#define HW_BATT_RESULT_GT_EVENT1_CLRMASK (~(WORD)HW_BATT_RESULT_GT_EVENT1_SETMASK)
                             8389 ; 158  |#define HW_BATT_RESULT_GT_EVENT0_CLRMASK (~(WORD)HW_BATT_RESULT_GT_EVENT0_SETMASK)
                             8390 ; 159  |#define HW_BATT_RESULT_LT_EVENT1_CLRMASK (~(WORD)HW_BATT_RESULT_LT_EVENT1_SETMASK)
                             8391 ; 160  |#define HW_BATT_RESULT_LT_EVENT0_CLRMASK (~(WORD)HW_BATT_RESULT_LT_EVENT0_SETMASK)
                             8392 ; 161  |#define HW_BATT_RESULT_RSVD0_CLRMASK (~(WORD)HW_BATT_RESULT_RSVD0_SETMASK)
                             8393 ; 162  |#define HW_BATT_RESULT_DATA_OUT_CLRMASK (~(WORD)HW_BATT_RESULT_DATA_OUT_SETMASK)
                             8394 ; 163  |#define HW_BATT_RESULT_RSVD1_CLRMASK (~(WORD)HW_BATT_RESULT_RSVD1_SETMASK)
                             8395 ; 164  |#define HW_BATT_RESULT_IRQ_EVENT0_CLRMASK (~(WORD)HW_BATT_RESULT_IRQ_EVENT0_SETMASK)
                             8396 ; 165  |#define HW_BATT_RESULT_IRQ_EVENT1_CLRMASK (~(WORD)HW_BATT_RESULT_IRQ_EVENT1_SETMASK)
                             8397 ; 166  |#define HW_BATT_RESULT_RSVD2_CLRMASK (~(WORD)HW_BATT_RESULT_RSVD2_SETMASK)
                             8398 ; 167  |
                             8399 ; 168  |typedef union               
                             8400 ; 169  |{
                             8401 ; 170  |    struct {
                             8402 ; 171  |        unsigned int EQ_EVENT1                  : HW_BATT_RESULT_EQ_EVENT1_WIDTH;
                             8403 ; 172  |        unsigned int EQ_EVENT0                  : HW_BATT_RESULT_EQ_EVENT0_WIDTH;
                             8404 ; 173  |        unsigned int GT_EVENT1                  : HW_BATT_RESULT_GT_EVENT1_WIDTH;
                             8405 ; 174  |        unsigned int GT_EVENT0                  : HW_BATT_RESULT_GT_EVENT0_WIDTH;
                             8406 ; 175  |        unsigned int LT_EVENT1                  : HW_BATT_RESULT_LT_EVENT1_WIDTH;
                             8407 ; 176  |        unsigned int LT_EVENT0                  : HW_BATT_RESULT_LT_EVENT0_WIDTH;
                             8408 ; 177  |        unsigned int RSVD0                     : HW_BATT_RESULT_RSVD0_WIDTH;
                             8409 ; 178  |        unsigned int DATA_OUT                  : HW_BATT_RESULT_DATA_OUT_WIDTH;
                             8410 ; 179  |        unsigned int RSVD1                     : HW_BATT_RESULT_RSVD1_WIDTH;
                             8411 ; 180  |                 unsigned int IRQ_EVENT0                                : HW_BATT_RESULT_IRQ_EVENT0_WIDTH;
                             8412 ; 181  |                 unsigned int IRQ_EVENT1                                : HW_BATT_RESULT_IRQ_EVENT1_WIDTH;                      
                             8413 ; 182  |                 unsigned int RSVD2                                         : HW_BATT_RESULT_RSVD2_WIDTH;
                             8414 ; 183  |    } B;
                             8415 ; 184  |    unsigned int I;
                             8416 ; 185  |} lradc_result_type;
                             8417 ; 186  |#define HW_BATT_RESULT      (*(volatile lradc_result_type _X*) (HW_LRADC_BASEADDR+2))    /* Battery LRADC Result Register */
                             8418 ; 187  |
                             8419 ; 188  |
                             8420 ; 189  |
                             8421 ; 190  |/////////////////////////////////////////////////////////////////////////////////
                             8422 ; 191  |//  LRADC1 Control Register (HW_LRADC1_CTRL) Bit Definitions
                             8423 ; 192  |#define HW_LRADC1_CTRL_INPUT_OFFSET_WIDTH (7)
                             8424 ; 193  |#define HW_LRADC1_CTRL_RSVD0_WIDTH (1)
                             8425 ; 194  |#define HW_LRADC1_CTRL_HALF_CMP_PWR_WIDTH (1)
                             8426 ; 195  |#define HW_LRADC1_CTRL_INPUT_DIV2_WIDTH (1)
                             8427 ; 196  |#define HW_LRADC1_CTRL_CLEAR_WIDTH (1)
                             8428 ; 197  |#define HW_LRADC1_CTRL_PWD_WIDTH (1)
                             8429 ; 198  |#define HW_LRADC1_CTRL_CLK_DIV_WIDTH (2)
                             8430 ; 199  |#define HW_LRADC1_CTRL_RSVD1_WIDTH (2)
                             8431 ; 200  |#define HW_LRADC1_CTRL_REF_VAL_WIDTH (2)
                             8432 ; 201  |#define HW_LRADC1_CTRL_RSVD2_WIDTH (6)
                             8433 ; 202  |
                             8434 ; 203  |#define HW_LRADC1_CTRL_INPUT_OFFSET_BITPOS (0)
                             8435 ; 204  |#define HW_LRADC1_CTRL_HALF_CMP_PWR_BITPOS (8)
                             8436 ; 205  |#define HW_LRADC1_CTRL_INPUT_DIV2_BITPOS (9)
                             8437 ; 206  |#define HW_LRADC1_CTRL_CLEAR_BITPOS (10)
                             8438 ; 207  |#define HW_LRADC1_CTRL_PWD_BITPOS (11)
                             8439 ; 208  |#define HW_LRADC1_CTRL_CLK_DIV_BITPOS (12)
                             8440 ; 209  |#define HW_LRADC1_CTRL_REF_VAL_BITPOS (16)
                             8441 ; 210  |
                             8442 ; 211  |#define HW_LRADC1_CTRL_INPUT_OFFSET_SETMASK (((1<<HW_LRADC1_CTRL_INPUT_OFFSET_WIDTH)-1)<<HW_LRADC1_CTRL_INPUT_OFFSET_BITPOS)        
                             8443 ; 212  |#define HW_LRADC1_CTRL_HALF_CMP_PWR_SETMASK (((1<<HW_LRADC1_CTRL_HALF_CMP_PWR_WIDTH)-1)<<HW_LRADC1_CTRL_HALF_CMP_PWR_BITPOS)        
                             8444 ; 213  |#define HW_LRADC1_CTRL_INPUT_DIV2_SETMASK (((1<<HW_LRADC1_CTRL_INPUT_DIV2_WIDTH)-1)<<HW_LRADC1_CTRL_INPUT_DIV2_BITPOS) 
                             8445 ; 214  |#define HW_LRADC1_CTRL_CLEAR_SETMASK (((1<<HW_LRADC1_CTRL_CLEAR_WIDTH)-1)<<HW_LRADC1_CTRL_CLEAR_BITPOS) 
                             8446 ; 215  |#define HW_LRADC1_CTRL_PWD_SETMASK (((1<<HW_LRADC1_CTRL_PWD_WIDTH)-1)<<HW_LRADC1_CTRL_PWD_BITPOS) 
                             8447 ; 216  |#define HW_LRADC1_CTRL_CLK_DIV_SETMASK (((1<<HW_LRADC1_CTRL_CLK_DIV_WIDTH)-1)<<HW_LRADC1_CTRL_CLK_DIV_BITPOS)        
                             8448 ; 217  |#define HW_LRADC1_CTRL_REF_VAL_SETMASK (((1<<HW_LRADC1_CTRL_REF_VAL_WIDTH)-1)<<HW_LRADC1_CTRL_REF_VAL_BITPOS)        
                             8449 ; 218  |
                             8450 ; 219  |#define HW_LRADC1_CTRL_INPUT_OFFSET_CLRMASK (~(WORD)HW_LRADC1_CTRL_INPUT_OFFSET_SETMASK)     
                             8451 ; 220  |#define HW_LRADC1_CTRL_HALF_CMP_PWR_CLRMASK (~(WORD)HW_LRADC1_CTRL_HALF_CMP_PWR_SETMASK)     
                             8452 ; 221  |#define HW_LRADC1_CTRL_INPUT_DIV2_CLRMASK (~(WORD)HW_LRADC1_CTRL_INPUT_DIV2_SETMASK) 
                             8453 ; 222  |#define HW_LRADC1_CTRL_CLEAR_CLRMASK (~(WORD)HW_LRADC1_CTRL_CLEAR_SETMASK) 
                             8454 ; 223  |#define HW_LRADC1_CTRL_PWD_CLRMASK (~(WORD)HW_LRADC1_CTRL_PWD_SETMASK) 
                             8455 ; 224  |#define HW_LRADC1_CTRL_CLK_DIV_CLRMASK (~(WORD)HW_LRADC1_CTRL_CLK_DIV_SETMASK)     
                             8456 ; 225  |#define HW_LRADC1_CTRL_REF_VAL_CLRMASK (~(WORD)HW_LRADC1_CTRL_REF_VAL_SETMASK)     
                             8457 ; 226  |
                             8458 ; 227  |#define HW_LRADC1_CTRL      (*(volatile lradc_ctrl_type _X*) (HW_LRADC_BASEADDR+3))    /* LRADC1 Control Register */
                             8459 ; 228  |
                             8460 ; 229  |
                             8461 ; 230  |
                             8462 ; 231  |/////////////////////////////////////////////////////////////////////////////////
                             8463 ; 232  |//  LRADC1 Threshold Register (HW_LRADC1_THRSH) Bit Definitions
                             8464 ; 233  |#define HW_LRADC1_THRSH_MIN_THRESHOLD_WIDTH (9)
                             8465 ; 234  |#define HW_LRADC1_THRSH_RSVD0_WIDTH (3)
                             8466 ; 235  |#define HW_LRADC1_THRSH_MAX_THRESHOLD_WIDTH (9)
                             8467 ; 236  |#define HW_LRADC1_THRSH_RSVD1_WIDTH (3)
                             8468 ; 237  |
                             8469 ; 238  |#define HW_LRADC1_THRSH_MIN_THRESHOLD_BITPOS (0)
                             8470 ; 239  |#define HW_LRADC1_THRSH_MAX_THRESHOLD_BITPOS (12)
                             8471 ; 240  |
                             8472 ; 241  |#define HW_LRADC1_THRSH_MIN_THRESHOLD_SETMASK (((1<<HW_LRADC1_THRSH_MIN_THRESHOLD_WIDTH)-1)<<HW_LRADC1_THRSH_MIN_THRESHOLD_BITPOS)        
                             8473 ; 242  |#define HW_LRADC1_THRSH_MAX_THRESHOLD_SETMASK (((1<<HW_LRADC1_THRSH_MAX_THRESHOLD_WIDTH)-1)<<HW_LRADC1_THRSH_MAX_THRESHOLD_BITPOS)        
                             8474 ; 243  |
                             8475 ; 244  |#define HW_LRADC1_THRSH_MIN_THRESHOLD_CLRMASK (~(WORD)HW_LRADC1_THRSH_MIN_THRESHOLD_SETMASK)     
                             8476 ; 245  |#define HW_LRADC1_THRSH_MAX_THRESHOLD_CLRMASK (~(WORD)HW_LRADC1_THRSH_MAX_THRESHOLD_SETMASK)     
                             8477 ; 246  |
                             8478 ; 247  |#define HW_LRADC1_THRSH      (*(volatile lradc_thrsh_type _X*) (HW_LRADC_BASEADDR+4))    /* LRADC1 Threshold Register */
                             8479 ; 248  |
                             8480 ; 249  |/////////////////////////////////////////////////////////////////////////////////
                             8481 ; 250  |//  LRADC1 Result Register (HW_LRADC1_RESULT) Bit Definitions
                             8482 ; 251  |#define HW_LRADC1_RESULT_EQ_EVENT1_WIDTH (1)
                             8483 ; 252  |#define HW_LRADC1_RESULT_EQ_EVENT0_WIDTH (1)
                             8484 ; 253  |#define HW_LRADC1_RESULT_GT_EVENT1_WIDTH (1)
                             8485 ; 254  |#define HW_LRADC1_RESULT_GT_EVENT0_WIDTH (1)
                             8486 ; 255  |#define HW_LRADC1_RESULT_LT_EVENT1_WIDTH (1)
                             8487 ; 256  |#define HW_LRADC1_RESULT_LT_EVENT0_WIDTH (1)
                             8488 ; 257  |#define HW_LRADC1_RESULT_RSVD0_WIDTH (2)
                             8489 ; 258  |#define HW_LRADC1_RESULT_DATA_OUT_WIDTH (9)
                             8490 ; 259  |#define HW_LRADC1_RESULT_RSVD1_WIDTH (3)
                             8491 ; 260  |#define HW_LRADC1_RESULT_IRQ_EVENT0_WIDTH (1)
                             8492 ; 261  |#define HW_LRADC1_RESULT_IRQ_EVENT1_WIDTH (1)
                             8493 ; 262  |#define HW_LRADC1_RESULT_RSVD2_WIDTH (2)
                             8494 ; 263  |
                             8495 ; 264  |#define HW_LRADC1_RESULT_EQ_EVENT1_BITPOS (0)
                             8496 ; 265  |#define HW_LRADC1_RESULT_EQ_EVENT0_BITPOS (1)
                             8497 ; 266  |#define HW_LRADC1_RESULT_GT_EVENT1_BITPOS (2)
                             8498 ; 267  |#define HW_LRADC1_RESULT_GT_EVENT0_BITPOS (3)
                             8499 ; 268  |#define HW_LRADC1_RESULT_LT_EVENT1_BITPOS (4)
                             8500 ; 269  |#define HW_LRADC1_RESULT_LT_EVENT0_BITPOS (5)
                             8501 ; 270  |#define HW_LRADC1_RESULT_RSVD0_BITPOS (6)
                             8502 ; 271  |#define HW_LRADC1_RESULT_DATA_OUT_BITPOS (8)
                             8503 ; 272  |#define HW_LRADC1_RESULT_RSVD1_BITPOS (17)
                             8504 ; 273  |#define HW_LRADC1_RESULT_IRQ_EVENT0_BITPOS (20)
                             8505 ; 274  |#define HW_LRADC1_RESULT_IRQ_EVENT1_BITPOS (21)
                             8506 ; 275  |#define HW_LRADC1_RESULT_RSVD2_BITPOS (22)
                             8507 ; 276  |
                             8508 ; 277  |#define HW_LRADC1_RESULT_EQ_EVENT1_SETMASK (((1<<HW_LRADC1_RESULT_EQ_EVENT1_WIDTH)-1)<<HW_LRADC1_RESULT_EQ_EVENT1_BITPOS)
                             8509 ; 278  |#define HW_LRADC1_RESULT_EQ_EVENT0_SETMASK (((1<<HW_LRADC1_RESULT_EQ_EVENT0_WIDTH)-1)<<HW_LRADC1_RESULT_EQ_EVENT0_BITPOS)
                             8510 ; 279  |#define HW_LRADC1_RESULT_GT_EVENT1_SETMASK (((1<<HW_LRADC1_RESULT_GT_EVENT1_WIDTH)-1)<<HW_LRADC1_RESULT_GT_EVENT1_BITPOS)
                             8511 ; 280  |#define HW_LRADC1_RESULT_GT_EVENT0_SETMASK (((1<<HW_LRADC1_RESULT_GT_EVENT0_WIDTH)-1)<<HW_LRADC1_RESULT_GT_EVENT0_BITPOS)
                             8512 ; 281  |#define HW_LRADC1_RESULT_LT_EVENT1_SETMASK (((1<<HW_LRADC1_RESULT_LT_EVENT1_WIDTH)-1)<<HW_LRADC1_RESULT_LT_EVENT1_BITPOS)
                             8513 ; 282  |#define HW_LRADC1_RESULT_LT_EVENT0_SETMASK (((1<<HW_LRADC1_RESULT_LT_EVENT0_WIDTH)-1)<<HW_LRADC1_RESULT_LT_EVENT0_BITPOS)
                             8514 ; 283  |#define HW_LRADC1_RESULT_RSVD0_SETMASK (((1<<HW_LRADC1_RESULT_RSVD0_WIDTH)-1)<<HW_LRADC1_RESULT_RSVD0_BITPOS)
                             8515 ; 284  |#define HW_LRADC1_RESULT_DATA_OUT_SETMASK (((1<<HW_LRADC1_RESULT_DATA_OUT_WIDTH)-1)<<HW_LRADC1_RESULT_DATA_OUT_BITPOS)
                             8516 ; 285  |#define HW_LRADC1_RESULT_RSVD1_SETMASK (((1<<HW_LRADC1_RESULT_RSVD1_WIDTH)-1)<<HW_LRADC1_RESULT_RSVD1_BITPOS)
                             8517 ; 286  |#define HW_LRADC1_RESULT_IRQ_EVENT0_SETMASK (((1<<HW_LRADC1_RESULT_IRQ_EVENT0_WIDTH)-1)<<HW_LRADC1_RESULT_IRQ_EVENT0_BITPOS)
                             8518 ; 287  |#define HW_LRADC1_RESULT_IRQ_EVENT1_SETMASK (((1<<HW_LRADC1_RESULT_IRQ_EVENT1_WIDTH)-1)<<HW_LRADC1_RESULT_IRQ_EVENT1_BITPOS)
                             8519 ; 288  |#define HW_LRADC1_RESULT_RSVD2_SETMASK (((1<<HW_LRADC1_RESULT_RSVD2_WIDTH)-1)<<HW_LRADC1_RESULT_RSVD2_BITPOS)
                             8520 ; 289  |
                             8521 ; 290  |
                             8522 ; 291  |#define HW_LRADC1_RESULT_EQ_EVENT1_CLRMASK (~(WORD)HW_LRADC1_RESULT_EQ_EVENT1_SETMASK)
                             8523 ; 292  |#define HW_LRADC1_RESULT_EQ_EVENT0_CLRMASK (~(WORD)HW_LRADC1_RESULT_EQ_EVENT0_SETMASK)
                             8524 ; 293  |#define HW_LRADC1_RESULT_GT_EVENT1_CLRMASK (~(WORD)HW_LRADC1_RESULT_GT_EVENT1_SETMASK)
                             8525 ; 294  |#define HW_LRADC1_RESULT_GT_EVENT0_CLRMASK (~(WORD)HW_LRADC1_RESULT_GT_EVENT0_SETMASK)
                             8526 ; 295  |#define HW_LRADC1_RESULT_LT_EVENT1_CLRMASK (~(WORD)HW_LRADC1_RESULT_LT_EVENT1_SETMASK)
                             8527 ; 296  |#define HW_LRADC1_RESULT_LT_EVENT0_CLRMASK (~(WORD)HW_LRADC1_RESULT_LT_EVENT0_SETMASK)
                             8528 ; 297  |#define HW_LRADC1_RESULT_RSVD0_CLRMASK (~(WORD)HW_LRADC1_RESULT_RSVD0_SETMASK)
                             8529 ; 298  |#define HW_LRADC1_RESULT_DATA_OUT_CLRMASK (~(WORD)HW_LRADC1_RESULT_DATA_OUT_SETMASK)
                             8530 ; 299  |#define HW_LRADC1_RESULT_RSVD1_CLRMASK (~(WORD)HW_LRADC1_RESULT_RSVD1_SETMASK)
                             8531 ; 300  |#define HW_LRADC1_RESULT_IRQ_EVENT0_CLRMASK (~(WORD)HW_LRADC1_RESULT_IRQ_EVENT0_SETMASK)
                             8532 ; 301  |#define HW_LRADC1_RESULT_IRQ_EVENT1_CLRMASK (~(WORD)HW_LRADC1_RESULT_IRQ_EVENT1_SETMASK)
                             8533 ; 302  |#define HW_LRADC1_RESULT_RSVD2_CLRMASK (~(WORD)HW_LRADC1_RESULT_RSVD2_SETMASK)
                             8534 ; 303  |
                             8535 ; 304  |#define HW_LRADC1_RESULT      (*(volatile lradc_result_type _X*) (HW_LRADC_BASEADDR+5))    /* LRADC1 Result Register */
                             8536 ; 305  |
                             8537 ; 306  |/////////////////////////////////////////////////////////////////////////////////
                             8538 ; 307  |//  LRADC2_CTRL Control Register (HW_LRADC2_CTRL_CTRL) Bit Definitions
                             8539 ; 308  |#define HW_LRADC2_CTRL_CTRL_INPUT_OFFSET_WIDTH (7)
                             8540 ; 309  |#define HW_LRADC2_CTRL_CTRL_RSVD0_WIDTH (1)
                             8541 ; 310  |#define HW_LRADC2_CTRL_CTRL_HALF_CMP_PWR_WIDTH (1)
                             8542 ; 311  |#define HW_LRADC2_CTRL_CTRL_INPUT_DIV2_WIDTH (1)
                             8543 ; 312  |#define HW_LRADC2_CTRL_CTRL_CLEAR_WIDTH (1)
                             8544 ; 313  |#define HW_LRADC2_CTRL_CTRL_PWD_WIDTH (1)
                             8545 ; 314  |#define HW_LRADC2_CTRL_CTRL_CLK_DIV_WIDTH (2)
                             8546 ; 315  |#define HW_LRADC2_CTRL_CTRL_RSVD1_WIDTH (2)
                             8547 ; 316  |#define HW_LRADC2_CTRL_CTRL_REF_VAL_WIDTH (2)
                             8548 ; 317  |#define HW_LRADC2_CTRL_CTRL_RSVD2_WIDTH (6)
                             8549 ; 318  |
                             8550 ; 319  |#define HW_LRADC2_CTRL_CTRL_INPUT_OFFSET_BITPOS (0)
                             8551 ; 320  |#define HW_LRADC2_CTRL_CTRL_HALF_CMP_PWR_BITPOS (8)
                             8552 ; 321  |#define HW_LRADC2_CTRL_CTRL_INPUT_DIV2_BITPOS (9)
                             8553 ; 322  |#define HW_LRADC2_CTRL_CTRL_CLEAR_BITPOS (10)
                             8554 ; 323  |#define HW_LRADC2_CTRL_CTRL_PWD_BITPOS (11)
                             8555 ; 324  |#define HW_LRADC2_CTRL_CTRL_CLK_DIV_BITPOS (12)
                             8556 ; 325  |#define HW_LRADC2_CTRL_CTRL_REF_VAL_BITPOS (16)
                             8557 ; 326  |
                             8558 ; 327  |#define HW_LRADC2_CTRL_CTRL_INPUT_OFFSET_SETMASK (((1<<HW_LRADC2_CTRL_CTRL_INPUT_OFFSET_WIDTH)-1)<<HW_LRADC2_CTRL_CTRL_INPUT_OFFSET_BITPOS)        
                             8559 ; 328  |#define HW_LRADC2_CTRL_CTRL_HALF_CMP_PWR_SETMASK (((1<<HW_LRADC2_CTRL_CTRL_HALF_CMP_PWR_WIDTH)-1)<<HW_LRADC2_CTRL_CTRL_HALF_CMP_PWR_BITPOS)        
                             8560 ; 329  |#define HW_LRADC2_CTRL_CTRL_INPUT_DIV2_SETMASK (((1<<HW_LRADC2_CTRL_CTRL_INPUT_DIV2_WIDTH)-1)<<HW_LRADC2_CTRL_CTRL_INPUT_DIV2_BITPOS) 
                             8561 ; 330  |#define HW_LRADC2_CTRL_CTRL_CLEAR_SETMASK (((1<<HW_LRADC2_CTRL_CTRL_CLEAR_WIDTH)-1)<<HW_LRADC2_CTRL_CTRL_CLEAR_BITPOS) 
                             8562 ; 331  |#define HW_LRADC2_CTRL_CTRL_PWD_SETMASK (((1<<HW_LRADC2_CTRL_CTRL_PWD_WIDTH)-1)<<HW_LRADC2_CTRL_CTRL_PWD_BITPOS) 
                             8563 ; 332  |#define HW_LRADC2_CTRL_CTRL_CLK_DIV_SETMASK (((1<<HW_LRADC2_CTRL_CTRL_CLK_DIV_WIDTH)-1)<<HW_LRADC2_CTRL_CTRL_CLK_DIV_BITPOS)        
                             8564 ; 333  |#define HW_LRADC2_CTRL_CTRL_REF_VAL_SETMASK (((1<<HW_LRADC2_CTRL_CTRL_REF_VAL_WIDTH)-1)<<HW_LRADC2_CTRL_CTRL_REF_VAL_BITPOS)        
                             8565 ; 334  |
                             8566 ; 335  |#define HW_LRADC2_CTRL_CTRL_INPUT_OFFSET_CLRMASK (~(WORD)HW_LRADC2_CTRL_CTRL_INPUT_OFFSET_SETMASK)     
                             8567 ; 336  |#define HW_LRADC2_CTRL_CTRL_HALF_CMP_PWR_CLRMASK (~(WORD)HW_LRADC2_CTRL_CTRL_HALF_CMP_PWR_SETMASK)     
                             8568 ; 337  |#define HW_LRADC2_CTRL_CTRL_INPUT_DIV2_CLRMASK (~(WORD)HW_LRADC2_CTRL_CTRL_INPUT_DIV2_SETMASK) 
                             8569 ; 338  |#define HW_LRADC2_CTRL_CTRL_CLEAR_CLRMASK (~(WORD)HW_LRADC2_CTRL_CTRL_CLEAR_SETMASK) 
                             8570 ; 339  |#define HW_LRADC2_CTRL_CTRL_PWD_CLRMASK (~(WORD)HW_LRADC2_CTRL_CTRL_PWD_SETMASK) 
                             8571 ; 340  |#define HW_LRADC2_CTRL_CTRL_CLK_DIV_CLRMASK (~(WORD)HW_LRADC2_CTRL_CTRL_CLK_DIV_SETMASK)     
                             8572 ; 341  |#define HW_LRADC2_CTRL_CTRL_REF_VAL_CLRMASK (~(WORD)HW_LRADC2_CTRL_CTRL_REF_VAL_SETMASK)     
                             8573 ; 342  |
                             8574 ; 343  |
                             8575 ; 344  |#define HW_LRADC2_CTRL      (*(volatile lradc_ctrl_type _X*) (HW_LRADC_BASEADDR+6))    /* LRADC2_CTRL Control Register */
                             8576 ; 345  |
                             8577 ; 346  |
                             8578 ; 347  |
                             8579 ; 348  |/////////////////////////////////////////////////////////////////////////////////
                             8580 ; 349  |//  LRADC2 Threshold Register (HW_LRADC2_THRSH) Bit Definitions
                             8581 ; 350  |#define HW_LRADC2_THRSH_MIN_THRESHOLD_WIDTH (9)
                             8582 ; 351  |#define HW_LRADC2_THRSH_RSVD0_WIDTH (3)
                             8583 ; 352  |#define HW_LRADC2_THRSH_MAX_THRESHOLD_WIDTH (9)
                             8584 ; 353  |#define HW_LRADC2_THRSH_RSVD1_WIDTH (3)
                             8585 ; 354  |
                             8586 ; 355  |#define HW_LRADC2_THRSH_MIN_THRESHOLD_BITPOS (0)
                             8587 ; 356  |#define HW_LRADC2_THRSH_MAX_THRESHOLD_BITPOS (12)
                             8588 ; 357  |
                             8589 ; 358  |#define HW_LRADC2_THRSH_MIN_THRESHOLD_SETMASK (((1<<HW_LRADC2_THRSH_MIN_THRESHOLD_WIDTH)-1)<<HW_LRADC2_THRSH_MIN_THRESHOLD_BITPOS)        
                             8590 ; 359  |#define HW_LRADC2_THRSH_MAX_THRESHOLD_SETMASK (((1<<HW_LRADC2_THRSH_MAX_THRESHOLD_WIDTH)-1)<<HW_LRADC2_THRSH_MAX_THRESHOLD_BITPOS)        
                             8591 ; 360  |
                             8592 ; 361  |#define HW_LRADC2_THRSH_MIN_THRESHOLD_CLRMASK (~(WORD)HW_LRADC2_THRSH_MIN_THRESHOLD_SETMASK)     
                             8593 ; 362  |#define HW_LRADC2_THRSH_MAX_THRESHOLD_CLRMASK (~(WORD)HW_LRADC2_THRSH_MAX_THRESHOLD_SETMASK)     
                             8594 ; 363  |
                             8595 ; 364  |#define HW_LRADC2_THRSH      (*(volatile lradc_thrsh_type _X*) (HW_LRADC_BASEADDR+7))    /* LRADC2 Threshold Register */
                             8596 ; 365  |
                             8597 ; 366  |
                             8598 ; 367  |
                             8599 ; 368  |/////////////////////////////////////////////////////////////////////////////////
                             8600 ; 369  |//  LRADC2 Result Register (HW_LRADC2_RESULT) Bit Definitions
                             8601 ; 370  |#define HW_LRADC2_RESULT_EQ_EVENT1_WIDTH (1)
                             8602 ; 371  |#define HW_LRADC2_RESULT_EQ_EVENT0_WIDTH (1)
                             8603 ; 372  |#define HW_LRADC2_RESULT_GT_EVENT1_WIDTH (1)
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page  35

M:ADDR CODE           CYCLES LINE SOURCELINE
                             8604 ; 373  |#define HW_LRADC2_RESULT_GT_EVENT0_WIDTH (1)
                             8605 ; 374  |#define HW_LRADC2_RESULT_LT_EVENT1_WIDTH (1)
                             8606 ; 375  |#define HW_LRADC2_RESULT_LT_EVENT0_WIDTH (1)
                             8607 ; 376  |#define HW_LRADC2_RESULT_RSVD0_WIDTH (2)
                             8608 ; 377  |#define HW_LRADC2_RESULT_DATA_OUT_WIDTH (9)
                             8609 ; 378  |#define HW_LRADC2_RESULT_RSVD1_WIDTH (3)
                             8610 ; 379  |#define HW_LRADC2_RESULT_IRQ_EVENT0_WIDTH (1)
                             8611 ; 380  |#define HW_LRADC2_RESULT_IRQ_EVENT1_WIDTH (1)
                             8612 ; 381  |#define HW_LRADC2_RESULT_RSVD2_WIDTH (2)
                             8613 ; 382  |
                             8614 ; 383  |#define HW_LRADC2_RESULT_EQ_EVENT1_BITPOS (0)
                             8615 ; 384  |#define HW_LRADC2_RESULT_EQ_EVENT0_BITPOS (1)
                             8616 ; 385  |#define HW_LRADC2_RESULT_GT_EVENT1_BITPOS (2)
                             8617 ; 386  |#define HW_LRADC2_RESULT_GT_EVENT0_BITPOS (3)
                             8618 ; 387  |#define HW_LRADC2_RESULT_LT_EVENT1_BITPOS (4)
                             8619 ; 388  |#define HW_LRADC2_RESULT_LT_EVENT0_BITPOS (5)
                             8620 ; 389  |#define HW_LRADC2_RESULT_RSVD0_BITPOS (6)
                             8621 ; 390  |#define HW_LRADC2_RESULT_DATA_OUT_BITPOS (8)
                             8622 ; 391  |#define HW_LRADC2_RESULT_RSVD1_BITPOS (17)
                             8623 ; 392  |#define HW_LRADC2_RESULT_IRQ_EVENT0_BITPOS (20)
                             8624 ; 393  |#define HW_LRADC2_RESULT_IRQ_EVENT1_BITPOS (21)
                             8625 ; 394  |#define HW_LRADC2_RESULT_RSVD2_BITPOS (22)
                             8626 ; 395  |
                             8627 ; 396  |#define HW_LRADC2_RESULT_EQ_EVENT1_SETMASK (((1<<HW_LRADC2_RESULT_EQ_EVENT1_WIDTH)-1)<<HW_LRADC2_RESULT_EQ_EVENT1_BITPOS)
                             8628 ; 397  |#define HW_LRADC2_RESULT_EQ_EVENT0_SETMASK (((1<<HW_LRADC2_RESULT_EQ_EVENT0_WIDTH)-1)<<HW_LRADC2_RESULT_EQ_EVENT0_BITPOS)
                             8629 ; 398  |#define HW_LRADC2_RESULT_GT_EVENT1_SETMASK (((1<<HW_LRADC2_RESULT_GT_EVENT1_WIDTH)-1)<<HW_LRADC2_RESULT_GT_EVENT1_BITPOS)
                             8630 ; 399  |#define HW_LRADC2_RESULT_GT_EVENT0_SETMASK (((1<<HW_LRADC2_RESULT_GT_EVENT0_WIDTH)-1)<<HW_LRADC2_RESULT_GT_EVENT0_BITPOS)
                             8631 ; 400  |#define HW_LRADC2_RESULT_LT_EVENT1_SETMASK (((1<<HW_LRADC2_RESULT_LT_EVENT1_WIDTH)-1)<<HW_LRADC2_RESULT_LT_EVENT1_BITPOS)
                             8632 ; 401  |#define HW_LRADC2_RESULT_LT_EVENT0_SETMASK (((1<<HW_LRADC2_RESULT_LT_EVENT0_WIDTH)-1)<<HW_LRADC2_RESULT_LT_EVENT0_BITPOS)
                             8633 ; 402  |#define HW_LRADC2_RESULT_RSVD0_SETMASK (((1<<HW_LRADC2_RESULT_RSVD0_WIDTH)-1)<<HW_LRADC2_RESULT_RSVD0_BITPOS)
                             8634 ; 403  |#define HW_LRADC2_RESULT_DATA_OUT_SETMASK (((1<<HW_LRADC2_RESULT_DATA_OUT_WIDTH)-1)<<HW_LRADC2_RESULT_DATA_OUT_BITPOS)
                             8635 ; 404  |#define HW_LRADC2_RESULT_RSVD1_SETMASK (((1<<HW_LRADC2_RESULT_RSVD1_WIDTH)-1)<<HW_LRADC2_RESULT_RSVD1_BITPOS)
                             8636 ; 405  |#define HW_LRADC2_RESULT_IRQ_EVENT0_SETMASK (((1<<HW_LRADC2_RESULT_IRQ_EVENT0_WIDTH)-1)<<HW_LRADC2_RESULT_IRQ_EVENT0_BITPOS)
                             8637 ; 406  |#define HW_LRADC2_RESULT_IRQ_EVENT1_SETMASK (((1<<HW_LRADC2_RESULT_IRQ_EVENT1_WIDTH)-1)<<HW_LRADC2_RESULT_IRQ_EVENT1_BITPOS)
                             8638 ; 407  |#define HW_LRADC2_RESULT_RSVD2_SETMASK (((1<<HW_LRADC2_RESULT_RSVD2_WIDTH)-1)<<HW_LRADC2_RESULT_RSVD2_BITPOS)
                             8639 ; 408  |
                             8640 ; 409  |#define HW_LRADC2_RESULT_EQ_EVENT1_CLRMASK (~(WORD)HW_LRADC2_RESULT_EQ_EVENT1_SETMASK)
                             8641 ; 410  |#define HW_LRADC2_RESULT_EQ_EVENT0_CLRMASK (~(WORD)HW_LRADC2_RESULT_EQ_EVENT0_SETMASK)
                             8642 ; 411  |#define HW_LRADC2_RESULT_GT_EVENT1_CLRMASK (~(WORD)HW_LRADC2_RESULT_GT_EVENT1_SETMASK)
                             8643 ; 412  |#define HW_LRADC2_RESULT_GT_EVENT0_CLRMASK (~(WORD)HW_LRADC2_RESULT_GT_EVENT0_SETMASK)
                             8644 ; 413  |#define HW_LRADC2_RESULT_LT_EVENT1_CLRMASK (~(WORD)HW_LRADC2_RESULT_LT_EVENT1_SETMASK)
                             8645 ; 414  |#define HW_LRADC2_RESULT_LT_EVENT0_CLRMASK (~(WORD)HW_LRADC2_RESULT_LT_EVENT0_SETMASK)
                             8646 ; 415  |#define HW_LRADC2_RESULT_RSVD0_CLRMASK (~(WORD)HW_LRADC2_RESULT_RSVD0_SETMASK)
                             8647 ; 416  |#define HW_LRADC2_RESULT_DATA_OUT_CLRMASK (~(WORD)HW_LRADC2_RESULT_DATA_OUT_SETMASK)
                             8648 ; 417  |#define HW_LRADC2_RESULT_RSVD1_CLRMASK (~(WORD)HW_LRADC2_RESULT_RSVD1_SETMASK)
                             8649 ; 418  |#define HW_LRADC2_RESULT_IRQ_EVENT0_CLRMASK (~(WORD)HW_LRADC2_RESULT_IRQ_EVENT0_SETMASK)
                             8650 ; 419  |#define HW_LRADC2_RESULT_IRQ_EVENT1_CLRMASK (~(WORD)HW_LRADC2_RESULT_IRQ_EVENT1_SETMASK)
                             8651 ; 420  |#define HW_LRADC2_RESULT_RSVD2_CLRMASK (~(WORD)HW_LRADC2_RESULT_RSVD2_SETMASK)
                             8652 ; 421  |
                             8653 ; 422  |#define HW_LRADC2_RESULT      (*(volatile lradc_result_type _X*) (HW_LRADC_BASEADDR+8))    /* LRADC2 Result Register */
                             8654 ; 423  |#define HW_LRADC_REF_0_SETMASK                  0x0<<HW_BATT_CTRL_REF_VAL_BITPOS
                             8655 ; 424  |#define HW_LRADC_REF_1_SETMASK                  0x1<<HW_BATT_CTRL_REF_VAL_BITPOS
                             8656 ; 425  |#define HW_LRADC_REF_2_SETMASK                  0x2<<HW_BATT_CTRL_REF_VAL_BITPOS
                             8657 ; 426  |#define HW_LRADC_REF_3_SETMASK                  0x3<<HW_BATT_CTRL_REF_VAL_BITPOS
                             8658 ; 427  |#define HW_LRADC_REF_4_SETMASK                  HW_LRADC_REF_0_SETMASK|HW_BATT_CTRL_INPUT_DIV2_SETMASK
                             8659 ; 428  |#define HW_LRADC_REF_5_SETMASK                  HW_LRADC_REF_1_SETMASK|HW_BATT_CTRL_INPUT_DIV2_SETMASK
                             8660 ; 429  |#define HW_LRADC_REF_6_SETMASK                  HW_LRADC_REF_2_SETMASK|HW_BATT_CTRL_INPUT_DIV2_SETMASK
                             8661 ; 430  |#define HW_LRADC_REF_7_SETMASK                  HW_LRADC_REF_3_SETMASK|HW_BATT_CTRL_INPUT_DIV2_SETMASK
                             8662 ; 431  |#define HW_LRADC_RES_REF_0                              80
                             8663 ; 432  |#define HW_LRADC_RES_REF_1                              77
                             8664 ; 433  |#define HW_LRADC_RES_REF_2                              100
                             8665 ; 434  |#define HW_LRADC_RES_REF_3                              129
                             8666 ; 435  |#define HW_LRADC_RES_REF_4                              160
                             8667 ; 436  |#define HW_LRADC_RES_REF_5                              154
                             8668 ; 437  |#define HW_LRADC_RES_REF_6                              200
                             8669 ; 438  |#define HW_LRADC_RES_REF_7                              258
                             8670 ; 439  |#define LRADC_HALF_POWER_SETMASK                HW_BATT_CTRL_HALF_CMP_PWR_SETMASK          
                             8671 ; 440  |// Translate the generic API enumerations into more meaningful labels for the implementation
                             8672 ; 441  |#define REF_2700MV                      HW_LRADC_REF_0_SETMASK
                             8673 ; 442  |#define REF_2600MV              HW_LRADC_REF_1_SETMASK
                             8674 ; 443  |#define REF_2560MV              HW_LRADC_REF_2_SETMASK
                             8675 ; 444  |#define REF_VDDIO               HW_LRADC_REF_3_SETMASK
                             8676 ; 445  |#define REF_5400MV              HW_LRADC_REF_4_SETMASK
                             8677 ; 446  |#define REF_5200MV              HW_LRADC_REF_5_SETMASK
                             8678 ; 447  |#define REF_5120MV              HW_LRADC_REF_6_SETMASK
                             8679 ; 448  |#define REF_VDDIOx2             HW_LRADC_REF_7_SETMASK
                             8680 ; 449  |#define RES_REF_2700MV  HW_LRADC_RES_REF_0
                             8681 ; 450  |#define RES_REF_2600MV  HW_LRADC_RES_REF_1
                             8682 ; 451  |#define RES_REF_2560MV  HW_LRADC_RES_REF_2
                             8683 ; 452  |#define RES_REF_VDDIO   HW_LRADC_RES_REF_3
                             8684 ; 453  |#define RES_REF_5400MV  HW_LRADC_RES_REF_4
                             8685 ; 454  |#define RES_REF_5200MV  HW_LRADC_RES_REF_5
                             8686 ; 455  |#define RES_REF_5120MV  HW_LRADC_RES_REF_6
                             8687 ; 456  |#define RES_REF_VDDIOx2         HW_LRADC_RES_REF_7
                             8688 ; 457  |
                             8689 ; 458  |//Needed by button.asm
                             8690 ; 459  |#define LOW_RES_ADC_BATT_READ_MASK 0x01FF00
                             8691 ; 460  |#define LOW_RES_ADC_AUX_READ_MASK 0x01FF00
                             8692 ; 461  |#define LOW_RES_ADC_AUX2_READ_MASK 0x01FF00
                             8693 ; 462  |
                             8694 ; 463  |#define HW_LRADC_CTRL_AUXADC_SETMASK 3<<HW_BATT_CTRL_REF_VAL_BITPOS
                             8695 ; 464  |
                             8696 ; 465  |#endif
                             8697 ; 466  |
                             8698 ; 467  |
                             8699 
                             8701 
                             8702 ; 27   |#include "regspwm.h"
                             8703 
                             8705 
                             8706 ; 1    |/////////////////////////////////////////////////////////////////////////////////
                             8707 ; 2    |// Copyright(C) SigmaTel, Inc. 2000-2001
                             8708 ; 3    |// Filename: regspwm.inc
                             8709 ; 4    |// Description: Register definitions for PWM interface
                             8710 ; 5    |/////////////////////////////////////////////////////////////////////////////////
                             8711 ; 6    |// The following naming conventions are followed in this file.
                             8712 ; 7    |// All registers are named using the format...
                             8713 ; 8    |//     HW_<module>_<regname>
                             8714 ; 9    |// where <module> is the module name which can be any of the following...
                             8715 ; 10   |//     USB20
                             8716 ; 11   |// (Note that when there is more than one copy of a particular module, the
                             8717 ; 12   |// module name includes a number starting from 0 for the first instance of
                             8718 ; 13   |// that module)
                             8719 ; 14   |// <regname> is the specific register within that module
                             8720 ; 15   |// We also define the following...
                             8721 ; 16   |//     HW_<module>_<regname>_BITPOS
                             8722 ; 17   |// which defines the starting bit (i.e. LSB) of a multi bit field
                             8723 ; 18   |//     HW_<module>_<regname>_SETMASK
                             8724 ; 19   |// which does something else, and
                             8725 ; 20   |//     HW_<module>_<regname>_CLRMASK
                             8726 ; 21   |// which does something else.
                             8727 ; 22   |// Other rules
                             8728 ; 23   |//     All caps
                             8729 ; 24   |//     Numeric identifiers start at 0
                             8730 ; 25   |#if !(defined(regspwminc))
                             8731 ; 26   |#define regspwminc 1
                             8732 ; 27   |
                             8733 ; 28   |#include "types.h"
                             8734 
                             8736 
                             8737 ; 1    |////////////////////////////////////////////////////////////////////////////////
                             8738 ; 2    |// Copyright(C) SigmaTel, Inc. 2000-2004
                             8739 ; 3    |//
                             8740 ; 4    |// Filename: types.h
                             8741 ; 5    |// Description: Standard data types
                             8742 ; 6    |////////////////////////////////////////////////////////////////////////////////
                             8743 ; 7    |
                             8744 ; 8    |#ifndef _TYPES_H
                             8745 ; 9    |#define _TYPES_H
                             8746 ; 10   |
                             8747 ; 11   |// TODO:  move this outta here!
                             8748 ; 12   |#if !defined(NOERROR)
                             8749 ; 13   |#define NOERROR 0
                             8750 ; 14   |#define SUCCESS 0
                             8751 ; 15   |#endif 
                             8752 ; 16   |#if !defined(SUCCESS)
                             8753 ; 17   |#define SUCCESS  0
                             8754 ; 18   |#endif
                             8755 ; 19   |#if !defined(ERROR)
                             8756 ; 20   |#define ERROR   -1
                             8757 ; 21   |#endif
                             8758 ; 22   |#if !defined(FALSE)
                             8759 ; 23   |#define FALSE 0
                             8760 ; 24   |#endif
                             8761 ; 25   |#if !defined(TRUE)
                             8762 ; 26   |#define TRUE  1
                             8763 ; 27   |#endif
                             8764 ; 28   |
                             8765 ; 29   |#if !defined(NULL)
                             8766 ; 30   |#define NULL 0
                             8767 ; 31   |#endif
                             8768 ; 32   |
                             8769 ; 33   |#define MAX_INT     0x7FFFFF
                             8770 ; 34   |#define MAX_LONG    0x7FFFFFffffff
                             8771 ; 35   |        // max positive unsigned long value: -1 == 0xFFFFFFffffff
                             8772 ; 36   |#define MAX_ULONG   (-1) 
                             8773 ; 37   |
                             8774 ; 38   |#define WORD_SIZE   24              // word size in bits
                             8775 ; 39   |#define BYTES_PER_WORD 3            // 8 bit bytes
                             8776 ; 40   |
                             8777 ; 41   |
                             8778 ; 42   |#define BYTE    unsigned char       // btVarName
                             8779 ; 43   |#define CHAR    signed char         // cVarName
                             8780 ; 44   |#define USHORT  unsigned short      // usVarName
                             8781 ; 45   |#define SHORT   unsigned short      // sVarName
                             8782 ; 46   |#define WORD    unsigned int        // wVarName
                             8783 ; 47   |#define INT     signed int          // iVarName
                             8784 ; 48   |#define DWORD   unsigned long       // dwVarName
                             8785 ; 49   |#define LONG    signed long         // lVarName
                             8786 ; 50   |#define BOOL    unsigned int        // bVarName
                             8787 ; 51   |#define FRACT   _fract              // frVarName
                             8788 ; 52   |#define LFRACT  long _fract         // lfrVarName
                             8789 ; 53   |#define CIRC    _circ               // cp<type prefix>VarName (see below)
                             8790 ; 54   |#define FLOAT   float               // fVarName
                             8791 ; 55   |#define DBL     double              // dVarName
                             8792 ; 56   |#define ENUM    enum                // eVarName
                             8793 ; 57   |#define CMX     _complex            // cmxVarName
                             8794 ; 58   |typedef WORD UCS3;                   // 
                             8795 ; 59   |
                             8796 ; 60   |#define UINT16  unsigned short
                             8797 ; 61   |#define UINT8   unsigned char   
                             8798 ; 62   |#define UINT32  unsigned long
                             8799 ; 63   |#define UINT64  unsigned long   // need to figure out how to do 64 bit values.  Or port exisiting code to only use 48 bit
                             8800 ; 64   |#define INT64   unsigned long   // need to figure out how to do 64 bit values.  Or port exisiting code to only use 48 bit
                             8801 ; 65   |#define WCHAR   UINT16
                             8802 ; 66   |
                             8803 ; 67   |//UINT128 is 16 bytes or 6 words
                             8804 ; 68   |typedef struct UINT128_3500 {   
                             8805 ; 69   |    int val[6];     
                             8806 ; 70   |} UINT128_3500;
                             8807 ; 71   |
                             8808 ; 72   |#define UINT128   UINT128_3500
                             8809 ; 73   |
                             8810 ; 74   |// Little endian word packed byte strings:   
                             8811 ; 75   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                             8812 ; 76   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                             8813 ; 77   |// Little endian word packed byte strings:   
                             8814 ; 78   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                             8815 ; 79   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                             8816 ; 80   |
                             8817 ; 81   |// Declare Memory Spaces To Use When Coding
                             8818 ; 82   |// A. Sector Buffers
                             8819 ; 83   |#define SECTOR_BUFFER_MEM_X _X
                             8820 ; 84   |#define SECTOR_BUFFER_MEM_Y _Y
                             8821 ; 85   |#define SECTOR_BUFFER_MEM SECTOR_BUFFER_MEM_X
                             8822 ; 86   |typedef WORD SECTOR_BUFFER_MEM SECTOR_BUFFER;
                             8823 ; 87   |typedef SECTOR_BUFFER * P_SECTOR_BUFFER;
                             8824 ; 88   |// B. Media DDI Memory
                             8825 ; 89   |#define MEDIA_DDI_MEM _Y
                             8826 ; 90   |
                             8827 ; 91   |
                             8828 ; 92   |
                             8829 ; 93   |// Pointers to linear structures are labeled as: p<type prefix>VarName
                             8830 ; 94   |// Examples of circular pointers:
                             8831 ; 95   |//    INT CIRC cpiVarName
                             8832 ; 96   |//    DWORD CIRC cpdwVarName
                             8833 ; 97   |
                             8834 ; 98   |#define RETCODE INT                 // rcVarName
                             8835 ; 99   |
                             8836 ; 100  |// generic bitfield structure
                             8837 ; 101  |struct Bitfield {
                             8838 ; 102  |    unsigned int B0  :1;
                             8839 ; 103  |    unsigned int B1  :1;
                             8840 ; 104  |    unsigned int B2  :1;
                             8841 ; 105  |    unsigned int B3  :1;
                             8842 ; 106  |    unsigned int B4  :1;
                             8843 ; 107  |    unsigned int B5  :1;
                             8844 ; 108  |    unsigned int B6  :1;
                             8845 ; 109  |    unsigned int B7  :1;
                             8846 ; 110  |    unsigned int B8  :1;
                             8847 ; 111  |    unsigned int B9  :1;
                             8848 ; 112  |    unsigned int B10 :1;
                             8849 ; 113  |    unsigned int B11 :1;
                             8850 ; 114  |    unsigned int B12 :1;
                             8851 ; 115  |    unsigned int B13 :1;
                             8852 ; 116  |    unsigned int B14 :1;
                             8853 ; 117  |    unsigned int B15 :1;
                             8854 ; 118  |    unsigned int B16 :1;
                             8855 ; 119  |    unsigned int B17 :1;
                             8856 ; 120  |    unsigned int B18 :1;
                             8857 ; 121  |    unsigned int B19 :1;
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page  36

M:ADDR CODE           CYCLES LINE SOURCELINE
                             8858 ; 122  |    unsigned int B20 :1;
                             8859 ; 123  |    unsigned int B21 :1;
                             8860 ; 124  |    unsigned int B22 :1;
                             8861 ; 125  |    unsigned int B23 :1;
                             8862 ; 126  |};
                             8863 ; 127  |
                             8864 ; 128  |union BitInt {
                             8865 ; 129  |        struct Bitfield B;
                             8866 ; 130  |        int        I;
                             8867 ; 131  |};
                             8868 ; 132  |
                             8869 ; 133  |#define MAX_MSG_LENGTH 10
                             8870 ; 134  |struct CMessage
                             8871 ; 135  |{
                             8872 ; 136  |        unsigned int m_uLength;
                             8873 ; 137  |        unsigned int m_uMsg[MAX_MSG_LENGTH];
                             8874 ; 138  |};
                             8875 ; 139  |
                             8876 ; 140  |typedef struct {
                             8877 ; 141  |    WORD m_wLength;
                             8878 ; 142  |    WORD m_wMessage;
                             8879 ; 143  |    WORD m_wParams[MAX_MSG_LENGTH];
                             8880 ; 144  |} Message;
                             8881 ; 145  |
                             8882 ; 146  |struct MessageQueueDescriptor
                             8883 ; 147  |{
                             8884 ; 148  |        int *m_pBase;
                             8885 ; 149  |        int m_iModulo;
                             8886 ; 150  |        int m_iSize;
                             8887 ; 151  |        int *m_pHead;
                             8888 ; 152  |        int *m_pTail;
                             8889 ; 153  |};
                             8890 ; 154  |
                             8891 ; 155  |struct ModuleEntry
                             8892 ; 156  |{
                             8893 ; 157  |    int m_iSignaledEventMask;
                             8894 ; 158  |    int m_iWaitEventMask;
                             8895 ; 159  |    int m_iResourceOfCode;
                             8896 ; 160  |    struct MessageQueueDescriptor *m_pMessageQueue;
                             8897 ; 161  |    int _asmfunc (*m_pProcessEntryPoint)(union WaitMask Signals,struct MessageQueueDescriptor *);
                             8898 ; 162  |    int _asmfunc (*m_pInitFunction)(struct MessageQueueDescriptor *);
                             8899 ; 163  |    int m_uTimeOutHigh;
                             8900 ; 164  |    int m_uTimeOutLow;
                             8901 ; 165  |    int _asmfunc (*m_pBackgroundFunction)(struct MessageQueueDescriptor *);
                             8902 ; 166  |};
                             8903 ; 167  |
                             8904 ; 168  |union WaitMask{
                             8905 ; 169  |    struct B{
                             8906 ; 170  |        unsigned int m_bNone     :1;
                             8907 ; 171  |        unsigned int m_bMessage  :1;
                             8908 ; 172  |        unsigned int m_bTimer    :1;
                             8909 ; 173  |        unsigned int m_bButton   :1;
                             8910 ; 174  |    } B;
                             8911 ; 175  |    int I;
                             8912 ; 176  |} ;
                             8913 ; 177  |
                             8914 ; 178  |
                             8915 ; 179  |struct Button {
                             8916 ; 180  |        WORD wButtonEvent;
                             8917 ; 181  |        WORD wUnused[MAX_MSG_LENGTH];   
                             8918 ; 182  |};
                             8919 ; 183  |
                             8920 ; 184  |struct Message {
                             8921 ; 185  |        WORD wMsgLength;
                             8922 ; 186  |        WORD wMsgCommand;
                             8923 ; 187  |        WORD wMsgParms[MAX_MSG_LENGTH-1];
                             8924 ; 188  |};
                             8925 ; 189  |
                             8926 ; 190  |union EventTypes {
                             8927 ; 191  |        struct CMessage msg;
                             8928 ; 192  |        struct Button Button ;
                             8929 ; 193  |        struct Message Message;
                             8930 ; 194  |};
                             8931 ; 195  |
                             8932 ; 196  |// next 2 used to get updater build to return correct protocol ver in scsi response.
                             8933 ; 197  |#define BUILD_TYPE_UPDATER  0x100
                             8934 ; 198  |#define BUILD_TYPE_HOSTLINK 0x101
                             8935 ; 199  |#define BUILD_TYPE_PLAYER   0x102
                             8936 ; 200  |
                             8937 ; 201  |// Resets part if RETAIL build. DEBUG build executes debug instruction to halt.
                             8938 ; 202  |#define SystemHalt() __asm(" include 'sysmacro.asm' \n error") 
                             8939 ; 203  |#define assert(x)    if(!(x)) __asm(" include 'sysmacro.asm' \n error")
                             8940 ; 204  |
                             8941 ; 205  |#if DEBUG
                             8942 ; 206  |// For DEBUG builds, DebugBuildAssert(condition) halts if condition evaluates to FALSE. 
                             8943 ; 207  |#define DebugBuildAssert(x)    if(!(x)) __asm(" debug ")
                             8944 ; 208  |#else 
                             8945 ; 209  |// For RETAIL builds, DebugBuildAssert(condition) does nothing & execution continues rather than halt or reset. 
                             8946 ; 210  |#define DebugBuildAssert(x)    
                             8947 ; 211  |#endif
                             8948 ; 212  |
                             8949 ; 213  |// Do this in your C files to make a reminder that's displayed during the build.
                             8950 ; 214  |//  #pragma asm
                             8951 ; 215  |//  WARN 'Note to builder: reminder to do this after verifying that'
                             8952 ; 216  |//  #pragma endasm
                             8953 ; 217  |
                             8954 ; 218  |
                             8955 ; 219  |#ifdef COLOR_262K
                             8956 ; 220  |#define RGB(r,g,b)    ((0x0000FC & (r)) << 10) | ((0x0000FC & (g)) << 4) | ((0x0000FC & (b)) >> 2)    //262k
                             8957 ; 221  |#elif defined(COLOR_65K)
                             8958 ; 222  |#define RGB(r,g,b)    ((0x0000F8 & (r)) << 8) | ((0x0000FC & (g)) << 3) | ((0x0000F8 & (b)) >> 3)  //65k
                             8959 ; 223  |#else
                             8960 ; 224  |#define RGB(r,g,b)       ((0x0000F0 & (r)) << 4) | (0x0000F0 & (g)) | ((0x0000F0 & (b)) >> 4)
                             8961 ; 225  |#endif
                             8962 ; 226  |    
                             8963 ; 227  |#endif // #ifndef _TYPES_H
                             8964 
                             8966 
                             8967 ; 29   |
                             8968 ; 30   |//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                             8969 ; 31   |//   Pulse Width Modulator STMP Registers 
                             8970 ; 32   |//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                             8971 ; 33   |#define HW_PWM_BASEADDR (0xFA31)
                             8972 ; 34   |
                             8973 ; 35   |
                             8974 ; 36   |/////////////////////////////////////////////////////////////////////////////////
                             8975 ; 37   |//  PWM CSR register (HW_PWM_CSR) Bit Definitions
                             8976 ; 38   |#define HW_PWM_CSR_PWM0_EN_BITPOS (0)
                             8977 ; 39   |#define HW_PWM_CSR_PWM1_EN_BITPOS (1) 
                             8978 ; 40   |#define HW_PWM_CSR_PWM2_EN_BITPOS (2)
                             8979 ; 41   |#define HW_PWM_CSR_PWM3_EN_BITPOS (3)
                             8980 ; 42   |#define HW_PWM_CSR_CDIV_BITPOS (8)
                             8981 ; 43   |#define HW_PWM_CSR_MSTR_EN_BITPOS (23)
                             8982 ; 44   |
                             8983 ; 45   |#define HW_PWM_CSR_PWM0_EN_WIDTH (1)
                             8984 ; 46   |#define HW_PWM_CSR_PWM1_EN_WIDTH (1) 
                             8985 ; 47   |#define HW_PWM_CSR_PWM2_EN_WIDTH (1)
                             8986 ; 48   |#define HW_PWM_CSR_PWM3_EN_WIDTH (1)
                             8987 ; 49   |#define HW_PWM_CSR_CDIV_WIDTH (2)
                             8988 ; 50   |#define HW_PWM_CSR_MSTR_EN_WIDTH (1)
                             8989 ; 51   |
                             8990 ; 52   |#define HW_PWM_CSR_PWM0_EN_SETMASK (((1<<HW_PWM_CSR_PWM0_EN_WIDTH)-1)<<HW_PWM_CSR_PWM0_EN_BITPOS)
                             8991 ; 53   |#define HW_PWM_CSR_PWM1_EN_SETMASK (((1<<HW_PWM_CSR_PWM1_EN_WIDTH)-1)<<HW_PWM_CSR_PWM1_EN_BITPOS)
                             8992 ; 54   |#define HW_PWM_CSR_PWM2_EN_SETMASK (((1<<HW_PWM_CSR_PWM2_EN_WIDTH)-1)<<HW_PWM_CSR_PWM2_EN_BITPOS)
                             8993 ; 55   |#define HW_PWM_CSR_PWM3_EN_SETMASK (((1<<HW_PWM_CSR_PWM3_EN_WIDTH)-1)<<HW_PWM_CSR_PWM3_EN_BITPOS)
                             8994 ; 56   |#define HW_PWM_CSR_CDIV_SETMASK (((1<<HW_PWM_CSR_CDIV_WIDTH)-1)<<HW_PWM_CSR_CDIV_BITPOS)
                             8995 ; 57   |#define HW_PWM_CSR_MSTR_EN_SETMASK (((1<<HW_PWM_CSR_MSTR_EN_WIDTH)-1)<<HW_PWM_CSR_MSTR_EN_BITPOS)
                             8996 ; 58   |
                             8997 ; 59   |#define HW_PWM_CSR_PWM0_EN_CLRMASK (~(WORD)HW_PWM_CSR_PWM0_EN_SETMASK)
                             8998 ; 60   |#define HW_PWM_CSR_PWM1_EN_CLRMASK (~(WORD)HW_PWM_CSR_PWM1_EN_SETMASK)
                             8999 ; 61   |#define HW_PWM_CSR_PWM2_EN_CLRMASK (~(WORD)HW_PWM_CSR_PWM2_EN_SETMASK)
                             9000 ; 62   |#define HW_PWM_CSR_PWM3_EN_CLRMASK (~(WORD)HW_PWM_CSR_PWM3_EN_SETMASK)
                             9001 ; 63   |#define HW_PWM_CSR_CDIV_CLRMASK (~(WORD)HW_PWM_CSR_CDIV_SETMASK)   
                             9002 ; 64   |#define HW_PWM_CSR_MSTR_EN_CLRMASK (~(WORD)HW_PWM_CSR_MSTR_EN_SETMASK)
                             9003 ; 65   |
                             9004 ; 66   |typedef union               
                             9005 ; 67   |{
                             9006 ; 68   |    struct {
                             9007 ; 69   |        int PWM0_EN                    :1;
                             9008 ; 70   |        int PWM1_EN                    :1;
                             9009 ; 71   |        int PWM2_EN                    :1;
                             9010 ; 72   |        int PWM3_EN                    :1;
                             9011 ; 73   |        int RSVD0                      :4;
                             9012 ; 74   |        int CDIV                       :2;
                             9013 ; 75   |        int RSVD1                      :13;
                             9014 ; 76   |        int MSTR_EN                    :1;
                             9015 ; 77   |    } B;
                             9016 ; 78   |    int I;
                             9017 ; 79   |} pwmcsr_type;
                             9018 ; 80   |#define HW_PWM_CSR        (*(volatile pwmcsr_type _X*) (HW_PWM_BASEADDR))  /* PWM Control Status Register */
                             9019 ; 81   |
                             9020 ; 82   |/////////////////////////////////////////////////////////////////////////////////
                             9021 ; 83   |//  PWM CHANNEL 0 A  (HW_PWM_CH0AR) Bit Definitions
                             9022 ; 84   |#define HW_PWM_CH0AR_ACTIVE_BITPOS (0)
                             9023 ; 85   |#define HW_PWM_CH0AR_INACTIVE_BITPOS (12)
                             9024 ; 86   |
                             9025 ; 87   |#define HW_PWM_CH0AR_ACTIVE_WIDTH (12)
                             9026 ; 88   |#define HW_PWM_CH0AR_INACTIVE_WIDTH (12)
                             9027 ; 89   |
                             9028 ; 90   |#define HW_PWM_CH0AR_ACTIVE_SETMASK (((1<<HW_PWM_CH0AR_ACTIVE_WIDTH)-1)<<HW_PWM_CH0AR_ACTIVE_BITPOS)
                             9029 ; 91   |#define HW_PWM_CH0AR_INACTIVE_SETMASK (((1<<HW_PWM_CH0AR_INACTIVE_WIDTH)-1)<<HW_PWM_CH0AR_INACTIVE_BITPOS)
                             9030 ; 92   |
                             9031 ; 93   |#define HW_PWM_CH0AR_ACTIVE_CLRMASK (~(WORD)HW_PWM_CH0AR_ACTIVE_SETMASK)
                             9032 ; 94   |#define HW_PWM_CH0AR_INACTIVE_CLRMASK (~(WORD)HW_PWM_CH0AR_INACTIVE_SETMASK)
                             9033 ; 95   |
                             9034 ; 96   |/////////////////////////////////////////////////////////////////////////////////
                             9035 ; 97   |//  PWM CHANNEL 0 B  (HW_PWM_CH0BR) Bit Definitions
                             9036 ; 98   |#define HW_PWM_CH0BR_ACTIVE_BITPOS (0)
                             9037 ; 99   |#define HW_PWM_CH0BR_INACTIVE_BITPOS (12)
                             9038 ; 100  |
                             9039 ; 101  |#define HW_PWM_CH0BR_ACTIVE_WIDTH (12)
                             9040 ; 102  |#define HW_PWM_CH0BR_INACTIVE_WIDTH (12)
                             9041 ; 103  |
                             9042 ; 104  |#define HW_PWM_CH0BR_ACTIVE_SETMASK (((1<<HW_PWM_CH0BR_ACTIVE_WIDTH)-1)<<HW_PWM_CH0BR_ACTIVE_BITPOS)
                             9043 ; 105  |#define HW_PWM_CH0BR_INACTIVE_SETMASK (((1<<HW_PWM_CH0BR_INACTIVE_WIDTH)-1)<<HW_PWM_CH0BR_INACTIVE_BITPOS)
                             9044 ; 106  |
                             9045 ; 107  |#define HW_PWM_CH0BR_ACTIVE_CLRMASK (~(WORD)HW_PWM_CH0BR_ACTIVE_SETMASK)
                             9046 ; 108  |#define HW_PWM_CH0BR_INACTIVE_CLRMASK (~(WORD)HW_PWM_CH0BR_INACTIVE_SETMASK)
                             9047 ; 109  |
                             9048 ; 110  |/////////////////////////////////////////////////////////////////////////////////
                             9049 ; 111  |//  PWM CHANNEL 1 A  (HW_PWM_CH1AR) Bit Definitions
                             9050 ; 112  |#define HW_PWM_CH1AR_ACTIVE_BITPOS (0)
                             9051 ; 113  |#define HW_PWM_CH1AR_INACTIVE_BITPOS (12)
                             9052 ; 114  |
                             9053 ; 115  |#define HW_PWM_CH1AR_ACTIVE_WIDTH (12)
                             9054 ; 116  |#define HW_PWM_CH1AR_INACTIVE_WIDTH (12)
                             9055 ; 117  |
                             9056 ; 118  |#define HW_PWM_CH1AR_ACTIVE_SETMASK (((1<<HW_PWM_CH1AR_ACTIVE_WIDTH)-1)<<HW_PWM_CH1AR_ACTIVE_BITPOS)
                             9057 ; 119  |#define HW_PWM_CH1AR_INACTIVE_SETMASK (((1<<HW_PWM_CH1AR_INACTIVE_WIDTH)-1)<<HW_PWM_CH1AR_INACTIVE_BITPOS)
                             9058 ; 120  |
                             9059 ; 121  |#define HW_PWM_CH1AR_ACTIVE_CLRMASK (~(WORD)HW_PWM_CH1AR_ACTIVE_SETMASK)
                             9060 ; 122  |#define HW_PWM_CH1AR_INACTIVE_CLRMASK (~(WORD)HW_PWM_CH1AR_INACTIVE_SETMASK)
                             9061 ; 123  |
                             9062 ; 124  |/////////////////////////////////////////////////////////////////////////////////
                             9063 ; 125  |//  PWM CHANNEL 1 B  (HW_PWM_CH1BR) Bit Definitions
                             9064 ; 126  |#define HW_PWM_CH1BR_ACTIVE_BITPOS (0)
                             9065 ; 127  |#define HW_PWM_CH1BR_INACTIVE_BITPOS (12)
                             9066 ; 128  |
                             9067 ; 129  |#define HW_PWM_CH1BR_ACTIVE_WIDTH (12)
                             9068 ; 130  |#define HW_PWM_CH1BR_INACTIVE_WIDTH (12)
                             9069 ; 131  |
                             9070 ; 132  |#define HW_PWM_CH1BR_ACTIVE_SETMASK (((1<<HW_PWM_CH1BR_ACTIVE_WIDTH)-1)<<HW_PWM_CH1BR_ACTIVE_BITPOS)
                             9071 ; 133  |#define HW_PWM_CH1BR_INACTIVE_SETMASK (((1<<HW_PWM_CH1BR_INACTIVE_WIDTH)-1)<<HW_PWM_CH1BR_INACTIVE_BITPOS)
                             9072 ; 134  |
                             9073 ; 135  |#define HW_PWM_CH1BR_ACTIVE_CLRMASK (~(WORD)HW_PWM_CH1BR_ACTIVE_SETMASK)
                             9074 ; 136  |#define HW_PWM_CH1BR_INACTIVE_CLRMASK (~(WORD)HW_PWM_CH1BR_INACTIVE_SETMASK)
                             9075 ; 137  |
                             9076 ; 138  |/////////////////////////////////////////////////////////////////////////////////
                             9077 ; 139  |//  PWM CHANNEL 2 A  (HW_PWM_CH2AR) Bit Definitions
                             9078 ; 140  |#define HW_PWM_CH2AR_ACTIVE_BITPOS (0)
                             9079 ; 141  |#define HW_PWM_CH2AR_INACTIVE_BITPOS (12)
                             9080 ; 142  |
                             9081 ; 143  |#define HW_PWM_CH2AR_ACTIVE_WIDTH (12)
                             9082 ; 144  |#define HW_PWM_CH2AR_INACTIVE_WIDTH (12)
                             9083 ; 145  |
                             9084 ; 146  |#define HW_PWM_CH2AR_ACTIVE_SETMASK (((1<<HW_PWM_CH2AR_ACTIVE_WIDTH)-1)<<HW_PWM_CH2AR_ACTIVE_BITPOS)
                             9085 ; 147  |#define HW_PWM_CH2AR_INACTIVE_SETMASK (((1<<HW_PWM_CH2AR_INACTIVE_WIDTH)-1)<<HW_PWM_CH2AR_INACTIVE_BITPOS)
                             9086 ; 148  |
                             9087 ; 149  |#define HW_PWM_CH2AR_ACTIVE_CLRMASK (~(WORD)HW_PWM_CH2AR_ACTIVE_SETMASK)
                             9088 ; 150  |#define HW_PWM_CH2AR_INACTIVE_CLRMASK (~(WORD)HW_PWM_CH2AR_INACTIVE_SETMASK)
                             9089 ; 151  |
                             9090 ; 152  |/////////////////////////////////////////////////////////////////////////////////
                             9091 ; 153  |//  PWM CHANNEL 2 B  (HW_PWM_CH2BR) Bit Definitions
                             9092 ; 154  |#define HW_PWM_CH2BR_ACTIVE_BITPOS (0)
                             9093 ; 155  |#define HW_PWM_CH2BR_INACTIVE_BITPOS (12)
                             9094 ; 156  |
                             9095 ; 157  |#define HW_PWM_CH2BR_ACTIVE_WIDTH (12)
                             9096 ; 158  |#define HW_PWM_CH2BR_INACTIVE_WIDTH (12)
                             9097 ; 159  |
                             9098 ; 160  |#define HW_PWM_CH2BR_ACTIVE_SETMASK (((1<<HW_PWM_CH2BR_ACTIVE_WIDTH)-1)<<HW_PWM_CH2BR_ACTIVE_BITPOS)
                             9099 ; 161  |#define HW_PWM_CH2BR_INACTIVE_SETMASK (((1<<HW_PWM_CH2BR_INACTIVE_WIDTH)-1)<<HW_PWM_CH2BR_INACTIVE_BITPOS)
                             9100 ; 162  |
                             9101 ; 163  |#define HW_PWM_CH2BR_ACTIVE_CLRMASK (~(WORD)HW_PWM_CH2BR_ACTIVE_SETMASK)
                             9102 ; 164  |#define HW_PWM_CH2BR_INACTIVE_CLRMASK (~(WORD)HW_PWM_CH2BR_INACTIVE_SETMASK)
                             9103 ; 165  |
                             9104 ; 166  |/////////////////////////////////////////////////////////////////////////////////
                             9105 ; 167  |//  PWM CHANNEL 3 A  (HW_PWM_CH3AR) Bit Definitions
                             9106 ; 168  |#define HW_PWM_CH3AR_ACTIVE_BITPOS (0)
                             9107 ; 169  |#define HW_PWM_CH3AR_INACTIVE_BITPOS (12)
                             9108 ; 170  |
                             9109 ; 171  |#define HW_PWM_CH3AR_ACTIVE_WIDTH (12)
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page  37

M:ADDR CODE           CYCLES LINE SOURCELINE
                             9110 ; 172  |#define HW_PWM_CH3AR_INACTIVE_WIDTH (12)
                             9111 ; 173  |
                             9112 ; 174  |#define HW_PWM_CH3AR_ACTIVE_SETMASK (((1<<HW_PWM_CH3AR_ACTIVE_WIDTH)-1)<<HW_PWM_CH3AR_ACTIVE_BITPOS)
                             9113 ; 175  |#define HW_PWM_CH3AR_INACTIVE_SETMASK (((1<<HW_PWM_CH3AR_INACTIVE_WIDTH)-1)<<HW_PWM_CH3AR_INACTIVE_BITPOS)
                             9114 ; 176  |
                             9115 ; 177  |#define HW_PWM_CH3AR_ACTIVE_CLRMASK (~(WORD)HW_PWM_CH3AR_ACTIVE_SETMASK)
                             9116 ; 178  |#define HW_PWM_CH3AR_INACTIVE_CLRMASK (~(WORD)HW_PWM_CH3AR_INACTIVE_SETMASK)
                             9117 ; 179  |
                             9118 ; 180  |/////////////////////////////////////////////////////////////////////////////////
                             9119 ; 181  |//  PWM CHANNEL 3 B  (HW_PWM_CH3BR) Bit Definitions
                             9120 ; 182  |#define HW_PWM_CH3BR_ACTIVE_BITPOS (0)
                             9121 ; 183  |#define HW_PWM_CH3BR_INACTIVE_BITPOS (12)
                             9122 ; 184  |
                             9123 ; 185  |#define HW_PWM_CH3BR_ACTIVE_WIDTH (12)
                             9124 ; 186  |#define HW_PWM_CH3BR_INACTIVE_WIDTH (12)
                             9125 ; 187  |
                             9126 ; 188  |#define HW_PWM_CH3BR_ACTIVE_SETMASK (((1<<HW_PWM_CH3BR_ACTIVE_WIDTH)-1)<<HW_PWM_CH3BR_ACTIVE_BITPOS)
                             9127 ; 189  |#define HW_PWM_CH3BR_INACTIVE_SETMASK (((1<<HW_PWM_CH3BR_INACTIVE_WIDTH)-1)<<HW_PWM_CH3BR_INACTIVE_BITPOS)
                             9128 ; 190  |
                             9129 ; 191  |#define HW_PWM_CH3BR_ACTIVE_CLRMASK (~(WORD)HW_PWM_CH3BR_ACTIVE_SETMASK)
                             9130 ; 192  |#define HW_PWM_CH3BR_INACTIVE_CLRMASK (~(WORD)HW_PWM_CH3BR_INACTIVE_SETMASK)
                             9131 ; 193  |
                             9132 ; 194  |typedef union               
                             9133 ; 195  |{
                             9134 ; 196  |    struct {
                             9135 ; 197  |       int ACTIVE                    :12;
                             9136 ; 198  |       int INACTIVE                  :12;
                             9137 ; 199  |    } B;
                             9138 ; 200  |    int I;
                             9139 ; 201  |} pwmchan_type;
                             9140 ; 202  |#define HW_PWM_CH0AR        (*(volatile pwmchan_type _X*) (HW_PWM_BASEADDR+1))  /* PWM Channel 0 A Register */
                             9141 ; 203  |#define HW_PWM_CH0BR        (*(volatile pwmchan_type _X*) (HW_PWM_BASEADDR+2))  /* PWM Channel 0 B Register */
                             9142 ; 204  |#define HW_PWM_CH1AR        (*(volatile pwmchan_type _X*) (HW_PWM_BASEADDR+3))  /* PWM Channel 1 A Register */
                             9143 ; 205  |#define HW_PWM_CH1BR        (*(volatile pwmchan_type _X*) (HW_PWM_BASEADDR+4))  /* PWM Channel 1 B Register */
                             9144 ; 206  |#define HW_PWM_CH2AR        (*(volatile pwmchan_type _X*) (HW_PWM_BASEADDR+5))  /* PWM Channel 2 A Register */
                             9145 ; 207  |#define HW_PWM_CH2BR        (*(volatile pwmchan_type _X*) (HW_PWM_BASEADDR+6))  /* PWM Channel 2 B Register */
                             9146 ; 208  |#define HW_PWM_CH3AR        (*(volatile pwmchan_type _X*) (HW_PWM_BASEADDR+7))  /* PWM Channel 3 A Register */
                             9147 ; 209  |#define HW_PWM_CH3BR        (*(volatile pwmchan_type _X*) (HW_PWM_BASEADDR+8))  /* PWM Channel 3 B Register */
                             9148 ; 210  |
                             9149 ; 211  |#endif
                             9150 ; 212  |
                             9151 ; 213  |
                             9152 ; 214  |
                             9153 ; 215  |
                             9154 
                             9156 
                             9157 ; 28   |#include "regsrevision.h"
                             9158 
                             9160 
                             9161 ; 1    |#if !(defined(__HW_REVR))
                             9162 ; 2    |#define __HW_REVR 1
                             9163 ; 3    |
                             9164 ; 4    |
                             9165 ; 5    |#define HW_GLUE_BASEADDR 0xFA00
                             9166 ; 6    |
                             9167 ; 7    |#define HW_REVR_RMN_BITPOS (0)
                             9168 ; 8    |#define HW_REVR_DCDCMODE_BITPOS (5)
                             9169 ; 9    |#define HW_REVR_RMJ_BITPOS (8)
                             9170 ; 10   |
                             9171 ; 11   |#define HW_REVR_RMN_WIDTH (5)
                             9172 ; 12   |#define HW_REVR_DCDCMODE_WIDTH (3)
                             9173 ; 13   |
                             9174 ; 14   |#define HW_REVR_DCDCMODE_SETMASK (((1<<HW_REVR_DCDCMODE_WIDTH)-1)<<HW_REVR_DCDCMODE_BITPOS)
                             9175 ; 15   |
                             9176 ; 16   |#define HW_REVR_DCDCMODE_CLRMASK (~(WORD)HW_REVR_DCDCMODE_SETMASK)
                             9177 ; 17   |
                             9178 ; 18   |
                             9179 ; 19   |/////////////////////////////////////////////////////////////////////////////////
                             9180 ; 20   |//  Revision Register (HW_REVR) bitfields and values. (read only)
                             9181 ; 21   |//  June15 2004: C struct updated to be correct: 
                             9182 ; 22   |//   Added DCDCMODE bitfield. Removed RMP bitfield. Reduced size of RMN bitfield to 5 bits.
                             9183 ; 23   |typedef union               
                             9184 ; 24   |{
                             9185 ; 25   |    struct {
                             9186 ; 26   |        unsigned RMN    :5;     //Minor Revision
                             9187 ; 27   |        unsigned DCDCMODE : 3;  //DCDC mode field function depends on DCDC mode pin strapping
                             9188 ; 28   |           #define DCDCMODE_7_CONVERTER1_2CH_BOOST_CONVERTER2_OFF      7
                             9189 ; 29   |           #define DCDCMODE_6_RESERVED                                 6
                             9190 ; 30   |           #define DCDCMODE_5_CONVERTER1_3CH_BOOST_CONVERTER2_OFF      5
                             9191 ; 31   |           #define DCDCMODE_4_RESERVED                                 4
                             9192 ; 32   |           #define DCDCMODE_3_CONVERTER1_1CH_BUCK_CONVERTER2_OFF       3
                             9193 ; 33   |           #define DCDCMODE_2_CONVERTER1_OFF_CONVERTER2_OFF            2
                             9194 ; 34   |           #define DCDCMODE_1_CONVERTER1_1CH_BUCK_CONVERTER2_1CH_BOOST 1
                             9195 ; 35   |           #define DCDCMODE_0_CONVERTER1_1CH_BUCK_CONVERTER2_1CH_BUCK  0
                             9196 ; 36   |           #define DCDCMODE_X_BUCK_MASKED_SETMASK 0x4
                             9197 ; 37   |        unsigned RMJ    :16;    //Major Revision
                             9198 ; 38   |    } B;
                             9199 ; 39   |
                             9200 ; 40   |    int I;
                             9201 ; 41   |
                             9202 ; 42   |} revr_type;
                             9203 ; 43   |#define HW_REVR (*(volatile revr_type _X*) (HW_GLUE_BASEADDR+2))
                             9204 ; 44   |
                             9205 ; 45   |#define HW_REVR_DCDCMODE_B0_BITPOS 5
                             9206 ; 46   |#define HW_REVR_DCDCMODE_B1_BITPOS 6
                             9207 ; 47   |#define HW_REVR_DCDCMODE_B2_BITPOS 7
                             9208 ; 48   |
                             9209 ; 49   |#define HW_REVR_DCDCMODE_BUCK_MASK_POS HW_REVR_DCDCMODE_B2_BITPOS
                             9210 ; 50   |// 3 bit bitfield: (HW_REVR_DCDCMODE_B2_BITPOS|HW_REVR_DCDCMODE_B1_BITPOS|HW_REVR_DCDCMODE_B0_BITPOS)
                             9211 ; 51   |#define HW_REVR_DCDC_MODE_SETMASK 0x0000E0
                             9212 ; 52   |#define HW_REVR_RMN_SETMASK 0xFF<<HW_REVR_RMN_BITPOS
                             9213 ; 53   |#define HW_REVR_RMJ_SETMASK 0xFFFF<<HW_REVR_RMJ_BITPOS
                             9214 ; 54   |
                             9215 ; 55   |#define HW_REVR_RMN_CLRMASK ~(WORD)HW_REVR_RMN_SETMASK
                             9216 ; 56   |#define HW_REVR_RMJ_CLRMASK ~(WORD)HW_REVR_RMJ_SETMASK
                             9217 ; 57   |
                             9218 ; 58   |#endif //!@def(__HW_REVR)
                             9219 ; 59   |
                             9220 
                             9222 
                             9223 ; 29   |#include "regsrtc.h"
                             9224 
                             9226 
                             9227 ; 1    |/////////////////////////////////////////////////////////////////////////////////
                             9228 ; 2    |// Copyright(C) SigmaTel, Inc. 2000-2004
                             9229 ; 3    |// Filename: regsrtc.inc
                             9230 ; 4    |// Description: Register definitions for RTC interface
                             9231 ; 5    |/////////////////////////////////////////////////////////////////////////////////
                             9232 ; 6    |// The following naming conventions are followed in this file.
                             9233 ; 7    |// All registers are named using the format...
                             9234 ; 8    |//     HW_<module>_<regname>
                             9235 ; 9    |// where <module> is the module name which can be any of the following...
                             9236 ; 10   |//     USB20
                             9237 ; 11   |// (Note that when there is more than one copy of a particular module, the
                             9238 ; 12   |// module name includes a number starting from 0 for the first instance of
                             9239 ; 13   |// that module)
                             9240 ; 14   |// <regname> is the specific register within that module
                             9241 ; 15   |// We also define the following...
                             9242 ; 16   |//     HW_<module>_<regname>_BITPOS
                             9243 ; 17   |// which defines the starting bit (i.e. LSB) of a multi bit field
                             9244 ; 18   |//     HW_<module>_<regname>_SETMASK
                             9245 ; 19   |// which does something else, and
                             9246 ; 20   |//     HW_<module>_<regname>_CLRMASK
                             9247 ; 21   |// which does something else.
                             9248 ; 22   |// Other rules
                             9249 ; 23   |//     All caps
                             9250 ; 24   |//     Numeric identifiers start at 0
                             9251 ; 25   |#if !(defined(regsrtcinc))
                             9252 ; 26   |#define regsrtcinc 1
                             9253 ; 27   |
                             9254 ; 28   |#include "types.h"
                             9255 
                             9257 
                             9258 ; 1    |////////////////////////////////////////////////////////////////////////////////
                             9259 ; 2    |// Copyright(C) SigmaTel, Inc. 2000-2004
                             9260 ; 3    |//
                             9261 ; 4    |// Filename: types.h
                             9262 ; 5    |// Description: Standard data types
                             9263 ; 6    |////////////////////////////////////////////////////////////////////////////////
                             9264 ; 7    |
                             9265 ; 8    |#ifndef _TYPES_H
                             9266 ; 9    |#define _TYPES_H
                             9267 ; 10   |
                             9268 ; 11   |// TODO:  move this outta here!
                             9269 ; 12   |#if !defined(NOERROR)
                             9270 ; 13   |#define NOERROR 0
                             9271 ; 14   |#define SUCCESS 0
                             9272 ; 15   |#endif 
                             9273 ; 16   |#if !defined(SUCCESS)
                             9274 ; 17   |#define SUCCESS  0
                             9275 ; 18   |#endif
                             9276 ; 19   |#if !defined(ERROR)
                             9277 ; 20   |#define ERROR   -1
                             9278 ; 21   |#endif
                             9279 ; 22   |#if !defined(FALSE)
                             9280 ; 23   |#define FALSE 0
                             9281 ; 24   |#endif
                             9282 ; 25   |#if !defined(TRUE)
                             9283 ; 26   |#define TRUE  1
                             9284 ; 27   |#endif
                             9285 ; 28   |
                             9286 ; 29   |#if !defined(NULL)
                             9287 ; 30   |#define NULL 0
                             9288 ; 31   |#endif
                             9289 ; 32   |
                             9290 ; 33   |#define MAX_INT     0x7FFFFF
                             9291 ; 34   |#define MAX_LONG    0x7FFFFFffffff
                             9292 ; 35   |        // max positive unsigned long value: -1 == 0xFFFFFFffffff
                             9293 ; 36   |#define MAX_ULONG   (-1) 
                             9294 ; 37   |
                             9295 ; 38   |#define WORD_SIZE   24              // word size in bits
                             9296 ; 39   |#define BYTES_PER_WORD 3            // 8 bit bytes
                             9297 ; 40   |
                             9298 ; 41   |
                             9299 ; 42   |#define BYTE    unsigned char       // btVarName
                             9300 ; 43   |#define CHAR    signed char         // cVarName
                             9301 ; 44   |#define USHORT  unsigned short      // usVarName
                             9302 ; 45   |#define SHORT   unsigned short      // sVarName
                             9303 ; 46   |#define WORD    unsigned int        // wVarName
                             9304 ; 47   |#define INT     signed int          // iVarName
                             9305 ; 48   |#define DWORD   unsigned long       // dwVarName
                             9306 ; 49   |#define LONG    signed long         // lVarName
                             9307 ; 50   |#define BOOL    unsigned int        // bVarName
                             9308 ; 51   |#define FRACT   _fract              // frVarName
                             9309 ; 52   |#define LFRACT  long _fract         // lfrVarName
                             9310 ; 53   |#define CIRC    _circ               // cp<type prefix>VarName (see below)
                             9311 ; 54   |#define FLOAT   float               // fVarName
                             9312 ; 55   |#define DBL     double              // dVarName
                             9313 ; 56   |#define ENUM    enum                // eVarName
                             9314 ; 57   |#define CMX     _complex            // cmxVarName
                             9315 ; 58   |typedef WORD UCS3;                   // 
                             9316 ; 59   |
                             9317 ; 60   |#define UINT16  unsigned short
                             9318 ; 61   |#define UINT8   unsigned char   
                             9319 ; 62   |#define UINT32  unsigned long
                             9320 ; 63   |#define UINT64  unsigned long   // need to figure out how to do 64 bit values.  Or port exisiting code to only use 48 bit
                             9321 ; 64   |#define INT64   unsigned long   // need to figure out how to do 64 bit values.  Or port exisiting code to only use 48 bit
                             9322 ; 65   |#define WCHAR   UINT16
                             9323 ; 66   |
                             9324 ; 67   |//UINT128 is 16 bytes or 6 words
                             9325 ; 68   |typedef struct UINT128_3500 {   
                             9326 ; 69   |    int val[6];     
                             9327 ; 70   |} UINT128_3500;
                             9328 ; 71   |
                             9329 ; 72   |#define UINT128   UINT128_3500
                             9330 ; 73   |
                             9331 ; 74   |// Little endian word packed byte strings:   
                             9332 ; 75   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                             9333 ; 76   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                             9334 ; 77   |// Little endian word packed byte strings:   
                             9335 ; 78   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                             9336 ; 79   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                             9337 ; 80   |
                             9338 ; 81   |// Declare Memory Spaces To Use When Coding
                             9339 ; 82   |// A. Sector Buffers
                             9340 ; 83   |#define SECTOR_BUFFER_MEM_X _X
                             9341 ; 84   |#define SECTOR_BUFFER_MEM_Y _Y
                             9342 ; 85   |#define SECTOR_BUFFER_MEM SECTOR_BUFFER_MEM_X
                             9343 ; 86   |typedef WORD SECTOR_BUFFER_MEM SECTOR_BUFFER;
                             9344 ; 87   |typedef SECTOR_BUFFER * P_SECTOR_BUFFER;
                             9345 ; 88   |// B. Media DDI Memory
                             9346 ; 89   |#define MEDIA_DDI_MEM _Y
                             9347 ; 90   |
                             9348 ; 91   |
                             9349 ; 92   |
                             9350 ; 93   |// Pointers to linear structures are labeled as: p<type prefix>VarName
                             9351 ; 94   |// Examples of circular pointers:
                             9352 ; 95   |//    INT CIRC cpiVarName
                             9353 ; 96   |//    DWORD CIRC cpdwVarName
                             9354 ; 97   |
                             9355 ; 98   |#define RETCODE INT                 // rcVarName
                             9356 ; 99   |
                             9357 ; 100  |// generic bitfield structure
                             9358 ; 101  |struct Bitfield {
                             9359 ; 102  |    unsigned int B0  :1;
                             9360 ; 103  |    unsigned int B1  :1;
                             9361 ; 104  |    unsigned int B2  :1;
                             9362 ; 105  |    unsigned int B3  :1;
                             9363 ; 106  |    unsigned int B4  :1;
                             9364 ; 107  |    unsigned int B5  :1;
                             9365 ; 108  |    unsigned int B6  :1;
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page  38

M:ADDR CODE           CYCLES LINE SOURCELINE
                             9366 ; 109  |    unsigned int B7  :1;
                             9367 ; 110  |    unsigned int B8  :1;
                             9368 ; 111  |    unsigned int B9  :1;
                             9369 ; 112  |    unsigned int B10 :1;
                             9370 ; 113  |    unsigned int B11 :1;
                             9371 ; 114  |    unsigned int B12 :1;
                             9372 ; 115  |    unsigned int B13 :1;
                             9373 ; 116  |    unsigned int B14 :1;
                             9374 ; 117  |    unsigned int B15 :1;
                             9375 ; 118  |    unsigned int B16 :1;
                             9376 ; 119  |    unsigned int B17 :1;
                             9377 ; 120  |    unsigned int B18 :1;
                             9378 ; 121  |    unsigned int B19 :1;
                             9379 ; 122  |    unsigned int B20 :1;
                             9380 ; 123  |    unsigned int B21 :1;
                             9381 ; 124  |    unsigned int B22 :1;
                             9382 ; 125  |    unsigned int B23 :1;
                             9383 ; 126  |};
                             9384 ; 127  |
                             9385 ; 128  |union BitInt {
                             9386 ; 129  |        struct Bitfield B;
                             9387 ; 130  |        int        I;
                             9388 ; 131  |};
                             9389 ; 132  |
                             9390 ; 133  |#define MAX_MSG_LENGTH 10
                             9391 ; 134  |struct CMessage
                             9392 ; 135  |{
                             9393 ; 136  |        unsigned int m_uLength;
                             9394 ; 137  |        unsigned int m_uMsg[MAX_MSG_LENGTH];
                             9395 ; 138  |};
                             9396 ; 139  |
                             9397 ; 140  |typedef struct {
                             9398 ; 141  |    WORD m_wLength;
                             9399 ; 142  |    WORD m_wMessage;
                             9400 ; 143  |    WORD m_wParams[MAX_MSG_LENGTH];
                             9401 ; 144  |} Message;
                             9402 ; 145  |
                             9403 ; 146  |struct MessageQueueDescriptor
                             9404 ; 147  |{
                             9405 ; 148  |        int *m_pBase;
                             9406 ; 149  |        int m_iModulo;
                             9407 ; 150  |        int m_iSize;
                             9408 ; 151  |        int *m_pHead;
                             9409 ; 152  |        int *m_pTail;
                             9410 ; 153  |};
                             9411 ; 154  |
                             9412 ; 155  |struct ModuleEntry
                             9413 ; 156  |{
                             9414 ; 157  |    int m_iSignaledEventMask;
                             9415 ; 158  |    int m_iWaitEventMask;
                             9416 ; 159  |    int m_iResourceOfCode;
                             9417 ; 160  |    struct MessageQueueDescriptor *m_pMessageQueue;
                             9418 ; 161  |    int _asmfunc (*m_pProcessEntryPoint)(union WaitMask Signals,struct MessageQueueDescriptor *);
                             9419 ; 162  |    int _asmfunc (*m_pInitFunction)(struct MessageQueueDescriptor *);
                             9420 ; 163  |    int m_uTimeOutHigh;
                             9421 ; 164  |    int m_uTimeOutLow;
                             9422 ; 165  |    int _asmfunc (*m_pBackgroundFunction)(struct MessageQueueDescriptor *);
                             9423 ; 166  |};
                             9424 ; 167  |
                             9425 ; 168  |union WaitMask{
                             9426 ; 169  |    struct B{
                             9427 ; 170  |        unsigned int m_bNone     :1;
                             9428 ; 171  |        unsigned int m_bMessage  :1;
                             9429 ; 172  |        unsigned int m_bTimer    :1;
                             9430 ; 173  |        unsigned int m_bButton   :1;
                             9431 ; 174  |    } B;
                             9432 ; 175  |    int I;
                             9433 ; 176  |} ;
                             9434 ; 177  |
                             9435 ; 178  |
                             9436 ; 179  |struct Button {
                             9437 ; 180  |        WORD wButtonEvent;
                             9438 ; 181  |        WORD wUnused[MAX_MSG_LENGTH];   
                             9439 ; 182  |};
                             9440 ; 183  |
                             9441 ; 184  |struct Message {
                             9442 ; 185  |        WORD wMsgLength;
                             9443 ; 186  |        WORD wMsgCommand;
                             9444 ; 187  |        WORD wMsgParms[MAX_MSG_LENGTH-1];
                             9445 ; 188  |};
                             9446 ; 189  |
                             9447 ; 190  |union EventTypes {
                             9448 ; 191  |        struct CMessage msg;
                             9449 ; 192  |        struct Button Button ;
                             9450 ; 193  |        struct Message Message;
                             9451 ; 194  |};
                             9452 ; 195  |
                             9453 ; 196  |// next 2 used to get updater build to return correct protocol ver in scsi response.
                             9454 ; 197  |#define BUILD_TYPE_UPDATER  0x100
                             9455 ; 198  |#define BUILD_TYPE_HOSTLINK 0x101
                             9456 ; 199  |#define BUILD_TYPE_PLAYER   0x102
                             9457 ; 200  |
                             9458 ; 201  |// Resets part if RETAIL build. DEBUG build executes debug instruction to halt.
                             9459 ; 202  |#define SystemHalt() __asm(" include 'sysmacro.asm' \n error") 
                             9460 ; 203  |#define assert(x)    if(!(x)) __asm(" include 'sysmacro.asm' \n error")
                             9461 ; 204  |
                             9462 ; 205  |#if DEBUG
                             9463 ; 206  |// For DEBUG builds, DebugBuildAssert(condition) halts if condition evaluates to FALSE. 
                             9464 ; 207  |#define DebugBuildAssert(x)    if(!(x)) __asm(" debug ")
                             9465 ; 208  |#else 
                             9466 ; 209  |// For RETAIL builds, DebugBuildAssert(condition) does nothing & execution continues rather than halt or reset. 
                             9467 ; 210  |#define DebugBuildAssert(x)    
                             9468 ; 211  |#endif
                             9469 ; 212  |
                             9470 ; 213  |// Do this in your C files to make a reminder that's displayed during the build.
                             9471 ; 214  |//  #pragma asm
                             9472 ; 215  |//  WARN 'Note to builder: reminder to do this after verifying that'
                             9473 ; 216  |//  #pragma endasm
                             9474 ; 217  |
                             9475 ; 218  |
                             9476 ; 219  |#ifdef COLOR_262K
                             9477 ; 220  |#define RGB(r,g,b)    ((0x0000FC & (r)) << 10) | ((0x0000FC & (g)) << 4) | ((0x0000FC & (b)) >> 2)    //262k
                             9478 ; 221  |#elif defined(COLOR_65K)
                             9479 ; 222  |#define RGB(r,g,b)    ((0x0000F8 & (r)) << 8) | ((0x0000FC & (g)) << 3) | ((0x0000F8 & (b)) >> 3)  //65k
                             9480 ; 223  |#else
                             9481 ; 224  |#define RGB(r,g,b)       ((0x0000F0 & (r)) << 4) | (0x0000F0 & (g)) | ((0x0000F0 & (b)) >> 4)
                             9482 ; 225  |#endif
                             9483 ; 226  |    
                             9484 ; 227  |#endif // #ifndef _TYPES_H
                             9485 
                             9487 
                             9488 ; 29   |
                             9489 ; 30   |//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                             9490 ; 31   |
                             9491 ; 32   |//   RTC STMP Registers 
                             9492 ; 33   |//   Edited 2/26/2002 J. Ferrara
                             9493 ; 34   |//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                             9494 ; 35   |
                             9495 ; 36   |#define HW_RTC_BASEADDR (0xF500)
                             9496 ; 37   |
                             9497 ; 38   |
                             9498 ; 39   |
                             9499 ; 40   |
                             9500 ; 41   |
                             9501 ; 42   |/////////////////////////////////////////////////////////////////////////////////
                             9502 ; 43   |
                             9503 ; 44   |////  RTC Control Status Register (HW_RTC_CSR) Bit Definitions
                             9504 ; 45   |
                             9505 ; 46   |#define HW_RTC_CSR_ALARMINTEN_BITPOS (0)
                             9506 ; 47   |#define HW_RTC_CSR_ALARMINT_BITPOS (1)
                             9507 ; 48   |#define HW_RTC_CSR_WATCHDOGEN_BITPOS (2)
                             9508 ; 49   |#define HW_RTC_CSR_RSVD0_BITPOS (3)
                             9509 ; 50   |#define HW_RTC_CSR_STALEREGS_BITPOS (4)
                             9510 ; 51   |#define HW_RTC_CSR_RSVD1_BITPOS (9)
                             9511 ; 52   |#define HW_RTC_CSR_NEWREGS_BITPOS (12)
                             9512 ; 53   |#define HW_RTC_CSR_NEWREGS_XTALDIV_BITPOS (12)
                             9513 ; 54   |#define HW_RTC_CSR_NEWREGS_MSCOUNT_BITPOS (13)
                             9514 ; 55   |#define HW_RTC_CSR_NEWREGS_ALRMCOUNT_BITPOS (14)
                             9515 ; 56   |#define HW_RTC_CSR_NEWREGS_PERSIST0_BITPOS (15)
                             9516 ; 57   |#define HW_RTC_CSR_NEWREGS_PERSIST1_BITPOS (16)
                             9517 ; 58   |#define HW_RTC_CSR_RSVD2_BITPOS (17)
                             9518 ; 59   |#define HW_RTC_CSR_FORCE_BITPOS (20)
                             9519 ; 60   |#define HW_RTC_CSR_RSVD3_BITPOS (21)
                             9520 ; 61   |#define HW_RTC_CSR_SFTRST_BITPOS (23)                                                                           
                             9521 ; 62   |#define HW_RTC_CSR_ALARMINTEN_WIDTH (1)
                             9522 ; 63   |#define HW_RTC_CSR_ALARMINT_WIDTH (1)
                             9523 ; 64   |#define HW_RTC_CSR_WATCHDOGEN_WIDTH (1)
                             9524 ; 65   |#define HW_RTC_CSR_RSVD0_WIDTH (1)
                             9525 ; 66   |#define HW_RTC_CSR_STALEREGS_WIDTH (5)
                             9526 ; 67   |#define HW_RTC_CSR_RSVD1_WIDTH (3)
                             9527 ; 68   |#define HW_RTC_CSR_NEWREGS_WIDTH (5)
                             9528 ; 69   |#define HW_RTC_CSR_NEWREGS_XTALDIV_WIDTH (1)
                             9529 ; 70   |#define HW_RTC_CSR_NEWREGS_MSCOUNT_WIDTH (1)
                             9530 ; 71   |#define HW_RTC_CSR_NEWREGS_ALRMCOUNT_WIDTH (1)
                             9531 ; 72   |#define HW_RTC_CSR_NEWREGS_PERSIST0_WIDTH (1)
                             9532 ; 73   |#define HW_RTC_CSR_NEWREGS_PERSIST1_WIDTH (1)
                             9533 ; 74   |#define HW_RTC_CSR_RSVD2_WIDTH (3)
                             9534 ; 75   |#define HW_RTC_CSR_FORCE_WIDTH (1)
                             9535 ; 76   |#define HW_RTC_CSR_RSVD3_WIDTH (2)
                             9536 ; 77   |#define HW_RTC_CSR_SFTRST_WIDTH (1)
                             9537 ; 78   |
                             9538 ; 79   |#define HW_RTC_CSR_ALARMINT_SETMASK (((1<<HW_RTC_CSR_ALARMINT_WIDTH)-1)<<HW_RTC_CSR_ALARMINT_BITPOS) 
                             9539 ; 80   |#define HW_RTC_CSR_ALARMINTEN_SETMASK (((1<<HW_RTC_CSR_ALARMINTEN_WIDTH)-1)<<HW_RTC_CSR_ALARMINTEN_BITPOS) 
                             9540 ; 81   |#define HW_RTC_CSR_WATCHDOGEN_SETMASK (((1<<HW_RTC_CSR_WATCHDOGEN_WIDTH)-1)<<HW_RTC_CSR_WATCHDOGEN_BITPOS) 
                             9541 ; 82   |#define HW_RTC_CSR_RSVD0_SETMASK (((1<<HW_RTC_CSR_RSVD0_WIDTH)-1)<<HW_RTC_CSR_RSVD0_BITPOS) 
                             9542 ; 83   |#define HW_RTC_CSR_STALEREGS_SETMASK (((1<<HW_RTC_CSR_STALEREGS_WIDTH)-1)<<HW_RTC_CSR_STALEREGS_BITPOS) 
                             9543 ; 84   |#define HW_RTC_CSR_RSVD1_SETMASK (((1<<HW_RTC_CSR_RSVD1_WIDTH)-1)<<HW_RTC_CSR_RSVD1_BITPOS) 
                             9544 ; 85   |#define HW_RTC_CSR_NEWREGS_SETMASK (((1<<HW_RTC_CSR_NEWREGS_WIDTH)-1)<<HW_RTC_CSR_NEWREGS_BITPOS) 
                             9545 ; 86   |#define HW_RTC_CSR_NEWREGS_XTALDIV_SETMASK (((1<<HW_RTC_CSR_NEWREGS_XTALDIV_WIDTH)-1)<<HW_RTC_CSR_NEWREGS_XTALDIV_BITPOS)   
                             9546 ; 87   |#define HW_RTC_CSR_NEWREGS_MSCOUNT_SETMASK (((1<<HW_RTC_CSR_NEWREGS_MSCOUNT_WIDTH)-1)<<HW_RTC_CSR_NEWREGS_MSCOUNT_BITPOS)
                             9547 ; 88   |#define HW_RTC_CSR_NEWREGS_ALRMCOUNT_SETMASK (((1<<HW_RTC_CSR_NEWREGS_ALRMCOUNT_WIDTH)-1)<<HW_RTC_CSR_NEWREGS_ALRMCOUNT_BITPOS)
                             9548 ; 89   |#define HW_RTC_CSR_NEWREGS_PERSIST0_SETMASK (((1<<HW_RTC_CSR_NEWREGS_PERSIST0_WIDTH)-1)<<HW_RTC_CSR_NEWREGS_PERSIST0_BITPOS)
                             9549 ; 90   |#define HW_RTC_CSR_NEWREGS_PERSIST1_SETMASK (((1<<HW_RTC_CSR_NEWREGS_PERSIST1_WIDTH)-1)<<HW_RTC_CSR_NEWREGS_PERSIST1_BITPOS)
                             9550 ; 91   |#define HW_RTC_CSR_RSVD2_SETMASK (((1<<HW_RTC_CSR_RSVD2_WIDTH)-1)<<HW_RTC_CSR_RSVD2_BITPOS) 
                             9551 ; 92   |#define HW_RTC_CSR_FORCE_SETMASK (((1<<HW_RTC_CSR_FORCE_WIDTH)-1)<<HW_RTC_CSR_FORCE_BITPOS) 
                             9552 ; 93   |#define HW_RTC_CSR_RSVD3_SETMASK (((1<<HW_RTC_CSR_RSVD3_WIDTH)-1)<<HW_RTC_CSR_RSVD3_BITPOS) 
                             9553 ; 94   |#define HW_RTC_CSR_SFTRST_SETMASK (((1<<HW_RTC_CSR_SFTRST_WIDTH)-1)<<HW_RTC_CSR_SFTRST_BITPOS) 
                             9554 ; 95   |
                             9555 ; 96   |#define HW_RTC_CSR_ALARMINTEN_CLRMASK (~(WORD)HW_RTC_CSR_ALARMINTEN_SETMASK)
                             9556 ; 97   |#define HW_RTC_CSR_ALARMINT_CLRMASK (~(WORD)HW_RTC_CSR_ALARMINT_SETMASK)
                             9557 ; 98   |#define HW_RTC_CSR_WATCHDOGEN_CLRMASK (~(WORD)HW_RTC_CSR_WATCHDOGEN_SETMASK)
                             9558 ; 99   |#define HW_RTC_CSR_RSVD0_CLRMASK (~(WORD)HW_RTC_CSR_RSVD0_SETMASK)
                             9559 ; 100  |#define HW_RTC_CSR_STALEREGS_CLRMASK (~(WORD)HW_RTC_CSR_STALEREGS_SETMASK)
                             9560 ; 101  |#define HW_RTC_CSR_RSVD1_CLRMASK (~(WORD)HW_RTC_CSR_RSVD1_SETMASK)
                             9561 ; 102  |#define HW_RTC_CSR_NEWREGS_CLRMASK (~(WORD)HW_RTC_CSR_NEWREGS_SETMASK)
                             9562 ; 103  |#define HW_RTC_CSR_NEWREGS_XTALDIV_CLRMASK (~(WORD)HW_RTC_CSR_NEWREGS_XTALDIV_SETMASK)   
                             9563 ; 104  |#define HW_RTC_CSR_NEWREGS_MSCOUNT_CLRMASK (~(WORD)HW_RTC_CSR_NEWREGS_MSCOUNT_SETMASK)
                             9564 ; 105  |#define HW_RTC_CSR_NEWREGS_ALRMCOUNT_CLRMASK (~(WORD)HW_RTC_CSR_NEWREGS_ALRMCOUNT_SETMASK)
                             9565 ; 106  |#define HW_RTC_CSR_NEWREGS_PERSIST0_CLRMASK (~(WORD)HW_RTC_CSR_NEWREGS_PERSIST0_SETMASK)
                             9566 ; 107  |#define HW_RTC_CSR_NEWREGS_PERSIST1_CLRMASK (~(WORD)HW_RTC_CSR_NEWREGS_PERSIST1_SETMASK)
                             9567 ; 108  |
                             9568 ; 109  |#define HW_RTC_CSR_RSVD2_CLRMASK (~(WORD)HW_RTC_CSR_RSVD2_SETMASK)
                             9569 ; 110  |#define HW_RTC_CSR_FORCE_CLRMASK (~(WORD)HW_RTC_CSR_FORCE_SETMASK)
                             9570 ; 111  |#define HW_RTC_CSR_RSVD3_CLRMASK (~(WORD)HW_RTC_CSR_RSVD3_SETMASK)
                             9571 ; 112  |#define HW_RTC_CSR_SFTRST_CLRMASK (~(WORD)HW_RTC_CSR_SFTRST_SETMASK)
                             9572 ; 113  |
                             9573 ; 114  |
                             9574 ; 115  |typedef union               
                             9575 ; 116  |{
                             9576 ; 117  |    struct {
                             9577 ; 118  |         int ALARMINTEN         : HW_RTC_CSR_ALARMINTEN_WIDTH;
                             9578 ; 119  |         int ALARMINT           : HW_RTC_CSR_ALARMINT_WIDTH;
                             9579 ; 120  |         int WATCHDOGEN         : HW_RTC_CSR_WATCHDOGEN_WIDTH;
                             9580 ; 121  |         int RSVD0              : HW_RTC_CSR_RSVD0_WIDTH;
                             9581 ; 122  |         unsigned int STALEREGS : HW_RTC_CSR_STALEREGS_WIDTH;
                             9582 ; 123  |         int RSVD1              : HW_RTC_CSR_RSVD1_WIDTH;
                             9583 ; 124  |         unsigned int NEWREGS   : HW_RTC_CSR_NEWREGS_WIDTH;
                             9584 ; 125  |         int RSVD2              : HW_RTC_CSR_RSVD2_WIDTH;
                             9585 ; 126  |         int FORCE             : HW_RTC_CSR_FORCE_WIDTH;
                             9586 ; 127  |         int RSVD3              : HW_RTC_CSR_RSVD3_WIDTH;
                             9587 ; 128  |         unsigned int SFTRST    : HW_RTC_CSR_SFTRST_WIDTH;
                             9588 ; 129  |    } B;
                             9589 ; 130  |    int I;
                             9590 ; 131  |    unsigned int U;
                             9591 ; 132  |} rtc_csr_type;
                             9592 ; 133  |#define HW_RTC_CSR      (*(volatile rtc_csr_type _X*) (HW_RTC_BASEADDR+0))    /* RTC Control / Status Register */
                             9593 ; 134  |
                             9594 ; 135  |/////////////////////////////////////////////////////////////////////////////////
                             9595 ; 136  |
                             9596 ; 137  |//  RTC Milliseconds Register0 (HW_RTC_MSECONDS0) Bit Definitions
                             9597 ; 138  |
                             9598 ; 139  |#define HW_RTC_MSECONDS0_MSECONDSLOW_BITPOS (0)
                             9599 ; 140  |
                             9600 ; 141  |#define HW_RTC_MSECONDS0_MSECONDSLOW_WIDTH (24)
                             9601 ; 142  |
                             9602 ; 143  |#define HW_RTC_MSECONDS0_MSECONDSLOW_SETMASK (((1<<HW_RTC_MSECONDS0_MSECONDSLOW_WIDTH)-1)<<HW_RTC_MSECONDS0_MSECONDSLOW_BITPOS) 
                             9603 ; 144  |
                             9604 ; 145  |#define HW_RTC_MSECONDS0_MSECONDSLOW_CLRMASK (~(WORD)HW_RTC_MSECONDS0_MSECONDSLOW_SETMASK)
                             9605 ; 146  |
                             9606 ; 147  |typedef union               
                             9607 ; 148  |{
                             9608 ; 149  |    struct {
                             9609 ; 150  |         int MSECONDSLOW        : HW_RTC_MSECONDS0_MSECONDSLOW_WIDTH;
                             9610 ; 151  |    } B;
                             9611 ; 152  |    int I;
                             9612 ; 153  |    unsigned int U;
                             9613 ; 154  |} rtc_mseconds0_type;
                             9614 ; 155  |#define HW_RTC_MSECONDS0      (*(volatile rtc_mseconds0_type _X*) (HW_RTC_BASEADDR+1))    /* RTC MSECONDS Lower Word Register */
                             9615 ; 156  |#define HW_RTCLOWR            HW_RTC_MSECONDS0
                             9616 ; 157  |/////////////////////////////////////////////////////////////////////////////////
                             9617 ; 158  |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page  39

M:ADDR CODE           CYCLES LINE SOURCELINE
                             9618 ; 159  |//  RTC Milliseconds Register1 (HW_RTC_MSECONDS1) Bit Definitions
                             9619 ; 160  |
                             9620 ; 161  |#define HW_RTC_MSECONDS1_MSECONDSHIGH_BITPOS (0)
                             9621 ; 162  |
                             9622 ; 163  |#define HW_RTC_MSECONDS1_MSECONDSHIGH_WIDTH (24)
                             9623 ; 164  |
                             9624 ; 165  |#define HW_RTC_MSECONDS1_MSECONDSHIGH_SETMASK (((1<<HW_RTC_MSECONDS1_MSECONDSHIGH_WIDTH)-1)<<HW_RTC_MSECONDS1_MSECONDSHIGH_BITPOS) 
                             9625 ; 166  |
                             9626 ; 167  |#define HW_RTC_MSECONDS1_MSECONDSHIGH_CLRMASK (~(WORD)HW_RTC_MSECONDS1_MSECONDSHIGH_SETMASK)
                             9627 ; 168  |
                             9628 ; 169  |typedef union               
                             9629 ; 170  |{
                             9630 ; 171  |    struct {
                             9631 ; 172  |         int MSECONDSHIGH       : HW_RTC_MSECONDS1_MSECONDSHIGH_WIDTH;
                             9632 ; 173  |    } B;
                             9633 ; 174  |    int I;
                             9634 ; 175  |    unsigned int U;
                             9635 ; 176  |} rtc_mseconds1_type;
                             9636 ; 177  |#define HW_RTC_MSECONDS1      (*(volatile rtc_mseconds1_type _X*) (HW_RTC_BASEADDR+2))    /* RTC MSECONDS Upper Word Register */
                             9637 ; 178  |#define HW_RTCUPR             HW_RTC_MSECONDS1
                             9638 ; 179  |
                             9639 ; 180  |#define HW_RTC_LOWER_OFFSET 1
                             9640 ; 181  |#define HW_RTC_UP_OFFSET 2
                             9641 ; 182  |
                             9642 ; 183  |
                             9643 ; 184  |/////////////////////////////////////////////////////////////////////////////////
                             9644 ; 185  |
                             9645 ; 186  |//  RTC Watchdog Count (HW_RTC_WATCHDOG) Bit Definitions
                             9646 ; 187  |
                             9647 ; 188  |#define HW_RTC_WATCHDOG_TIMEOUTCNT_BITPOS (0)
                             9648 ; 189  |
                             9649 ; 190  |#define HW_RTC_WATCHDOG_TIMEOUTCNT_WIDTH (24)
                             9650 ; 191  |
                             9651 ; 192  |#define HW_RTC_WATCHDOG_TIMEOUTCNT_SETMASK (((1<<HW_RTC_WATCHDOG_TIMEOUTCNT_WIDTH)-1)<<HW_RTC_WATCHDOG_TIMEOUTCNT_BITPOS) 
                             9652 ; 193  |
                             9653 ; 194  |#define HW_RTC_WATCHDOG_TIMEOUTCNT_CLRMASK (~(WORD)HW_RTC_WATCHDOG_TIMEOUTCNT_SETMASK)
                             9654 ; 195  |
                             9655 ; 196  |typedef union               
                             9656 ; 197  |{
                             9657 ; 198  |    struct {
                             9658 ; 199  |         int TIMEOUTCNT         : HW_RTC_WATCHDOG_TIMEOUTCNT_WIDTH;
                             9659 ; 200  |    } B;
                             9660 ; 201  |    int I;
                             9661 ; 202  |    unsigned int U;
                             9662 ; 203  |} rtc_watchdog_type;
                             9663 ; 204  |#define HW_RTC_WATCHDOG     (*(volatile rtc_watchdog_type _X*) (HW_RTC_BASEADDR+3))    /* RTC Watchdog Timeout Register */
                             9664 ; 205  |/////////////////////////////////////////////////////////////////////////////////
                             9665 ; 206  |
                             9666 ; 207  |//  RTC Alarm Register0 (HW_RTC_ALARM0) Bit Definitions
                             9667 ; 208  |
                             9668 ; 209  |#define HW_RTC_ALARM0_ALARMLOW_BITPOS (0)
                             9669 ; 210  |
                             9670 ; 211  |#define HW_RTC_ALARM0_ALARMLOW_WIDTH (24)
                             9671 ; 212  |
                             9672 ; 213  |#define HW_RTC_ALARM0_ALARMLOW_SETMASK (((1<<HW_RTC_ALARM0_ALARMLOW_WIDTH)-1)<<HW_RTC_ALARM0_ALARMLOW_BITPOS) 
                             9673 ; 214  |
                             9674 ; 215  |#define HW_RTC_ALARM0_ALARMLOW_CLRMASK (~(WORD)HW_RTC_ALARM0_ALARMLOW_SETMASK)
                             9675 ; 216  |
                             9676 ; 217  |typedef union               
                             9677 ; 218  |{
                             9678 ; 219  |    struct {
                             9679 ; 220  |         int ALARMLOW   : HW_RTC_ALARM0_ALARMLOW_WIDTH;
                             9680 ; 221  |    } B;
                             9681 ; 222  |    int I;
                             9682 ; 223  |    unsigned int U;
                             9683 ; 224  |} rtc_alarm0_type;
                             9684 ; 225  |#define HW_RTC_ALARM0      (*(volatile rtc_alarm0_type _X*) (HW_RTC_BASEADDR+4))    /* RTC ALARM Lower Word Register */
                             9685 ; 226  |/////////////////////////////////////////////////////////////////////////////////
                             9686 ; 227  |
                             9687 ; 228  |//  RTC Alarm Register1 (HW_RTC_ALARM1) Bit Definitions
                             9688 ; 229  |
                             9689 ; 230  |#define HW_RTC_ALARM1_ALARMHIGH_BITPOS (0)
                             9690 ; 231  |
                             9691 ; 232  |#define HW_RTC_ALARM1_ALARMHIGH_WIDTH (24)
                             9692 ; 233  |
                             9693 ; 234  |#define HW_RTC_ALARM1_ALARMHIGH_SETMASK (((1<<HW_RTC_ALARM1_ALARMHIGH_WIDTH)-1)<<HW_RTC_ALARM1_ALARMHIGH_BITPOS) 
                             9694 ; 235  |
                             9695 ; 236  |#define HW_RTC_ALARM1_ALARMHIGH_CLRMASK (~(WORD)HW_RTC_ALARM1_ALARMHIGH_SETMASK)
                             9696 ; 237  |
                             9697 ; 238  |typedef union               
                             9698 ; 239  |{
                             9699 ; 240  |    struct {
                             9700 ; 241  |         int ALARMHIGH  : HW_RTC_ALARM1_ALARMHIGH_WIDTH;
                             9701 ; 242  |    } B;
                             9702 ; 243  |    int I;
                             9703 ; 244  |    unsigned int U;
                             9704 ; 245  |} rtc_alarm1_type;
                             9705 ; 246  |#define HW_RTC_ALARM1      (*(volatile rtc_alarm1_type _X*) (HW_RTC_BASEADDR+5))    /* RTC ALARM Upper Word Register */
                             9706 ; 247  |/////////////////////////////////////////////////////////////////////////////////
                             9707 ; 248  |
                             9708 ; 249  |//  RTC Xtal-Clock Divide Register (HW_RTC_XTALDIVIDE) Bit Definitions
                             9709 ; 250  |
                             9710 ; 251  |#define HW_RTC_XTALDIVIDE_DIVCOUNT_BITPOS (0)
                             9711 ; 252  |#define HW_RTC_XTALDIVIDE_RSVD0_BITPOS (16)
                             9712 ; 253  |
                             9713 ; 254  |#define HW_RTC_XTALDIVIDE_DIVCOUNT_WIDTH (16)
                             9714 ; 255  |#define HW_RTC_XTALDIVIDE_RSVD0_WIDTH (8)
                             9715 ; 256  |
                             9716 ; 257  |#define HW_RTC_XTALDIVIDE_DIVCOUNT_SETMASK (((1<<HW_RTC_XTALDIVIDE_DIVCOUNT_WIDTH)-1)<<HW_RTC_XTALDIVIDE_DIVCOUNT_BITPOS) 
                             9717 ; 258  |#define HW_RTC_XTALDIVIDE_RSVD0_SETMASK (((1<<HW_RTC_XTALDIVIDE_RSVD0_BITPOS)-1)<<HW_RTC_XTALDIVIDE_RSVD0_BITPOS) 
                             9718 ; 259  |
                             9719 ; 260  |#define HW_RTC_XTALDIVIDE_DIVCOUNT_CLRMASK (~(WORD)HW_RTC_XTALDIVIDE_DIVCOUNT_SETMASK)
                             9720 ; 261  |#define HW_RTC_XTALDIVIDE_RSVD0_CLRMASK (~(WORD)HW_RTC_XTALDIVIDE_RSVD0_SETMASK)
                             9721 ; 262  |
                             9722 ; 263  |typedef union               
                             9723 ; 264  |{
                             9724 ; 265  |    struct {
                             9725 ; 266  |         int DIVCOUNT   : HW_RTC_XTALDIVIDE_DIVCOUNT_WIDTH;
                             9726 ; 267  |         int RSVD0      : HW_RTC_XTALDIVIDE_RSVD0_WIDTH;
                             9727 ; 268  |    } B;
                             9728 ; 269  |    int I;
                             9729 ; 270  |    unsigned int U;
                             9730 ; 271  |} rtc_xtaldivide_type;
                             9731 ; 272  |#define HW_RTC_XTALDIVIDE   (*(volatile rtc_xtaldivide_type _X*) (HW_RTC_BASEADDR+6))  /* RTC Xtal-clock Pre-Divider Word Register */
                             9732 ; 273  |/////////////////////////////////////////////////////////////////////////////////
                             9733 ; 274  |
                             9734 ; 275  |//  RTC PERSISTENT Register0 (HW_RTC_PERSISTENT0) Bit Definitions
                             9735 ; 276  |
                             9736 ; 277  |#define HW_RTC_PERSISTENT0_ALARMEN_BITPOS (0)
                             9737 ; 278  |#define HW_RTC_PERSISTENT0_ALARMWAKE_EN_BITPOS (1)
                             9738 ; 279  |#define HW_RTC_PERSISTENT0_ALARMWAKE_BITPOS (2)
                             9739 ; 280  |#define HW_RTC_PERSISTENT0_XTALPDOWN_BITPOS (3)
                             9740 ; 281  |#define HW_RTC_PERSISTENT0_RSVD0_BITPOS (4)
                             9741 ; 282  |
                             9742 ; 283  |#define HW_RTC_PERSISTENT0_ALARMEN_WIDTH (1)
                             9743 ; 284  |#define HW_RTC_PERSISTENT0_ALARMWAKE_EN_WIDTH (1)
                             9744 ; 285  |#define HW_RTC_PERSISTENT0_ALARMWAKE_WIDTH (1)
                             9745 ; 286  |#define HW_RTC_PERSISTENT0_XTALPDOWN_WIDTH (1)
                             9746 ; 287  |#define HW_RTC_PERSISTENT0_RSVD0_WIDTH (21)
                             9747 ; 288  |
                             9748 ; 289  |#define HW_RTC_PERSISTENT0_ALARMEN_SETMASK (((1<<HW_RTC_PERSISTENT0_ALARMEN_WIDTH)-1)<<HW_RTC_PERSISTENT0_ALARMEN_BITPOS) 
                             9749 ; 290  |#define HW_RTC_PERSISTENT0_ALARMWAKE_EN_SETMASK (((1<<HW_RTC_PERSISTENT0_ALARMWAKE_EN_WIDTH)-1)<<HW_RTC_PERSISTENT0_ALARMWAKE_EN_BITPOS)
                             9750 ; 291  |#define HW_RTC_PERSISTENT0_ALARMWAKE_SETMASK (((1<<HW_RTC_PERSISTENT0_ALARMWAKE_WIDTH)-1)<<HW_RTC_PERSISTENT0_ALARMWAKE_BITPOS) 
                             9751 ; 292  |#define HW_RTC_PERSISTENT0_XTALPDOWN_SETMASK (((1<<HW_RTC_PERSISTENT0_XTALPDOWN_WIDTH)-1)<<HW_RTC_PERSISTENT0_XTALPDOWN_BITPOS) 
                             9752 ; 293  |#define HW_RTC_PERSISTENT0_RSVD0_SETMASK (((1<<HW_RTC_PERSISTENT0_RSVD0_WIDTH)-1)<<HW_RTC_PERSISTENT0_RSVD0_BITPOS) 
                             9753 ; 294  |
                             9754 ; 295  |#define HW_RTC_PERSISTENT0_ALARMEN_CLRMASK (~(WORD)HW_RTC_PERSISTENT0_ALARMEN_SETMASK)
                             9755 ; 296  |#define HW_RTC_PERSISTENT0_ALARMWAKE_EN_CLRMASK (~(WORD)HW_RTC_PERSISTENT0_ALARMWAKE_EN_SETMASK)
                             9756 ; 297  |#define HW_RTC_PERSISTENT0_ALARMWAKE_CLRMASK (~(WORD)HW_RTC_PERSISTENT0_ALARMWAKE_SETMASK)
                             9757 ; 298  |#define HW_RTC_PERSISTENT0_XTALPDOWN_CLRMASK (~(WORD)HW_RTC_PERSISTENT0_XTALPDOWN_SETMASK)
                             9758 ; 299  |#define HW_RTC_PERSISTENT0_RSVD0_CLRMASK (~(WORD)HW_RTC_PERSISTENT0_RSVD0_SETMASK)
                             9759 ; 300  |
                             9760 ; 301  |typedef union               
                             9761 ; 302  |{
                             9762 ; 303  |   struct {
                             9763 ; 304  |      int ALARMEN   : HW_RTC_PERSISTENT0_ALARMEN_WIDTH;
                             9764 ; 305  |           int ALARMWAKE_EN  :  HW_RTC_PERSISTENT0_ALARMWAKE_EN_WIDTH;
                             9765 ; 306  |      int ALARMWAKE : HW_RTC_PERSISTENT0_ALARMWAKE_WIDTH;
                             9766 ; 307  |      int XTALPDOWN : HW_RTC_PERSISTENT0_XTALPDOWN_WIDTH;
                             9767 ; 308  |      int RSVD0     : HW_RTC_PERSISTENT0_RSVD0_WIDTH;
                             9768 ; 309  |   } B;
                             9769 ; 310  |    int I;
                             9770 ; 311  |    unsigned int U;
                             9771 ; 312  |} rtc_PERSISTENT0_type;
                             9772 ; 313  |#define HW_RTC_PERSISTENT0   (*(volatile rtc_PERSISTENT0_type _X*) (HW_RTC_BASEADDR+7))  /* RTC PERSISTENT Register0 */
                             9773 ; 314  |
                             9774 ; 315  |/////////////////////////////////////////////////////////////////////////////////
                             9775 ; 316  |
                             9776 ; 317  |//  RTC PERSISTENT Register1 (HW_RTC_PERSISTENT1) Bit Definitions
                             9777 ; 318  |
                             9778 ; 319  |#define HW_RTC_PERSISTENT1_RSVD0_BITPOS (0)
                             9779 ; 320  |
                             9780 ; 321  |#define HW_RTC_PERSISTENT1_RSVD0_WIDTH (24)
                             9781 ; 322  |
                             9782 ; 323  |#define HW_RTC_PERSISTENT1_RSVD0_SETMASK (((1<<HW_RTC_PERSISTENT1_RSVD0_WIDTH)-1)<<HW_RTC_PERSISTENT1_RSVD0_BITPOS) 
                             9783 ; 324  |
                             9784 ; 325  |#define HW_RTC_PERSISTENT1_RSVD0_CLRMASK (~(WORD)HW_RTC_PERSISTENT1_RSVD0_SETMASK)
                             9785 ; 326  |
                             9786 ; 327  |
                             9787 ; 328  |typedef union               
                             9788 ; 329  |{
                             9789 ; 330  |    struct {
                             9790 ; 331  |         int RSVD0      : HW_RTC_PERSISTENT1_RSVD0_WIDTH;
                             9791 ; 332  |    } B;
                             9792 ; 333  |    int I;
                             9793 ; 334  |    unsigned int U;
                             9794 ; 335  |} rtc_PERSISTENT1_type;
                             9795 ; 336  |#define HW_RTC_PERSISTENT1   (*(volatile rtc_PERSISTENT1_type _X*) (HW_RTC_BASEADDR+8))  /* RTC PERSISTENT Register1 */
                             9796 ; 337  |
                             9797 ; 338  |
                             9798 ; 339  |#endif
                             9799 ; 340  |
                             9800 ; 341  |
                             9801 ; 342  |
                             9802 ; 343  |
                             9803 ; 344  |
                             9804 ; 345  |
                             9805 ; 346  |
                             9806 ; 347  |
                             9807 ; 348  |
                             9808 ; 349  |
                             9809 ; 350  |
                             9810 ; 351  |
                             9811 ; 352  |
                             9812 ; 353  |
                             9813 
                             9815 
                             9816 ; 30   |#include "regsspare.h"
                             9817 
                             9819 
                             9820 ; 1    |#if !(defined(RESGSSPARE_INC))
                             9821 ; 2    |#define RESGSSPARE_INC 1
                             9822 ; 3    |
                             9823 ; 4    |#define HW_SPARER_BASEADDR (0xFA16)
                             9824 ; 5    |
                             9825 ; 6    |
                             9826 ; 7    |#define HW_SPARER_I2SS_BITPOS 0
                             9827 ; 8    |#define HW_SPARER_USB_SELECT_BITPOS 1
                             9828 ; 9    |#define HW_SPARER_USB_PLUGIN_BITPOS 8
                             9829 ; 10   |#define HW_SPARER_PSWITCH_BITPOS 9
                             9830 ; 11   |
                             9831 ; 12   |#define HW_SPARER_I2SS_SETMASK 1<<HW_SPARER_I2SS_BITPOS
                             9832 ; 13   |#define HW_SPARER_USB_SELECT_SETMASK 1<<HW_SPARER_USB_SELECT_BITPOS
                             9833 ; 14   |
                             9834 ; 15   |#define HW_SPARER_I2SS_CLRMASK ~(WORD)HW_SPARER_I2SS_SETMASK
                             9835 ; 16   |#define HW_SPARER_USB_SELECT_CLRMASK ~(WORD)HW_SPARER_USB_SELECT_SETMASK
                             9836 ; 17   |
                             9837 ; 18   |
                             9838 ; 19   |
                             9839 ; 20   |typedef union               
                             9840 ; 21   |{
                             9841 ; 22   |    struct {
                             9842 ; 23   |        int      I2SS       :1;     
                             9843 ; 24   |        int      USBSELECT  :1;     
                             9844 ; 25   |        unsigned            :6;
                             9845 ; 26   |        int      USBPLUGIN  :1;     
                             9846 ; 27   |        int      PSWITCH    :1;     
                             9847 ; 28   |    } B;
                             9848 ; 29   |
                             9849 ; 30   |    int I;
                             9850 ; 31   |
                             9851 ; 32   |} spare_type;
                             9852 ; 33   |#define HW_SPARER      (*(volatile spare_type _X*) (HW_SPARER_BASEADDR))
                             9853 ; 34   |
                             9854 ; 35   |
                             9855 ; 36   |
                             9856 ; 37   |#endif
                             9857 
                             9859 
                             9860 ; 31   |#include "regsspi.h"
                             9861 
                             9863 
                             9864 ; 1    |//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                             9865 ; 2    |//;; Copyright(C) SigmaTel, Inc. 2002-2003
                             9866 ; 3    |//;; Filename    : regsspi.inc
                             9867 ; 4    |//;; Description : Register definitions for SPI interface
                             9868 ; 5    |//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                             9869 ; 6    |
                             9870 ; 7    |/////////////////////////////////////////////////////////////////////////////////
                             9871 ; 8    |// The following naming conventions are followed in this file.
                             9872 ; 9    |// All registers are named using the format...
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page  40

M:ADDR CODE           CYCLES LINE SOURCELINE
                             9873 ; 10   |//     HW_<module>_<regname>
                             9874 ; 11   |// where <module> is the module name which can be any of the following...
                             9875 ; 12   |//     USB20
                             9876 ; 13   |// (Note that when there is more than one copy of a particular module, the
                             9877 ; 14   |// module name includes a number starting from 0 for the first instance of
                             9878 ; 15   |// that module)
                             9879 ; 16   |// <regname> is the specific register within that module
                             9880 ; 17   |// We also define the following...
                             9881 ; 18   |//     HW_<module>_<regname>_BITPOS
                             9882 ; 19   |// which defines the starting bit (i.e. LSB) of a multi bit field
                             9883 ; 20   |//     HW_<module>_<regname>_SETMASK
                             9884 ; 21   |// which does something else, and
                             9885 ; 22   |//     HW_<module>_<regname>_CLRMASK
                             9886 ; 23   |// which does something else.
                             9887 ; 24   |// Other rules
                             9888 ; 25   |//     All caps
                             9889 ; 26   |//     Numeric identifiers start at 0
                             9890 ; 27   |#if !(defined(regsspiinc))
                             9891 ; 28   |#define regsspiinc 1
                             9892 ; 29   |
                             9893 ; 30   |#include "types.h"
                             9894 
                             9896 
                             9897 ; 1    |////////////////////////////////////////////////////////////////////////////////
                             9898 ; 2    |// Copyright(C) SigmaTel, Inc. 2000-2004
                             9899 ; 3    |//
                             9900 ; 4    |// Filename: types.h
                             9901 ; 5    |// Description: Standard data types
                             9902 ; 6    |////////////////////////////////////////////////////////////////////////////////
                             9903 ; 7    |
                             9904 ; 8    |#ifndef _TYPES_H
                             9905 ; 9    |#define _TYPES_H
                             9906 ; 10   |
                             9907 ; 11   |// TODO:  move this outta here!
                             9908 ; 12   |#if !defined(NOERROR)
                             9909 ; 13   |#define NOERROR 0
                             9910 ; 14   |#define SUCCESS 0
                             9911 ; 15   |#endif 
                             9912 ; 16   |#if !defined(SUCCESS)
                             9913 ; 17   |#define SUCCESS  0
                             9914 ; 18   |#endif
                             9915 ; 19   |#if !defined(ERROR)
                             9916 ; 20   |#define ERROR   -1
                             9917 ; 21   |#endif
                             9918 ; 22   |#if !defined(FALSE)
                             9919 ; 23   |#define FALSE 0
                             9920 ; 24   |#endif
                             9921 ; 25   |#if !defined(TRUE)
                             9922 ; 26   |#define TRUE  1
                             9923 ; 27   |#endif
                             9924 ; 28   |
                             9925 ; 29   |#if !defined(NULL)
                             9926 ; 30   |#define NULL 0
                             9927 ; 31   |#endif
                             9928 ; 32   |
                             9929 ; 33   |#define MAX_INT     0x7FFFFF
                             9930 ; 34   |#define MAX_LONG    0x7FFFFFffffff
                             9931 ; 35   |        // max positive unsigned long value: -1 == 0xFFFFFFffffff
                             9932 ; 36   |#define MAX_ULONG   (-1) 
                             9933 ; 37   |
                             9934 ; 38   |#define WORD_SIZE   24              // word size in bits
                             9935 ; 39   |#define BYTES_PER_WORD 3            // 8 bit bytes
                             9936 ; 40   |
                             9937 ; 41   |
                             9938 ; 42   |#define BYTE    unsigned char       // btVarName
                             9939 ; 43   |#define CHAR    signed char         // cVarName
                             9940 ; 44   |#define USHORT  unsigned short      // usVarName
                             9941 ; 45   |#define SHORT   unsigned short      // sVarName
                             9942 ; 46   |#define WORD    unsigned int        // wVarName
                             9943 ; 47   |#define INT     signed int          // iVarName
                             9944 ; 48   |#define DWORD   unsigned long       // dwVarName
                             9945 ; 49   |#define LONG    signed long         // lVarName
                             9946 ; 50   |#define BOOL    unsigned int        // bVarName
                             9947 ; 51   |#define FRACT   _fract              // frVarName
                             9948 ; 52   |#define LFRACT  long _fract         // lfrVarName
                             9949 ; 53   |#define CIRC    _circ               // cp<type prefix>VarName (see below)
                             9950 ; 54   |#define FLOAT   float               // fVarName
                             9951 ; 55   |#define DBL     double              // dVarName
                             9952 ; 56   |#define ENUM    enum                // eVarName
                             9953 ; 57   |#define CMX     _complex            // cmxVarName
                             9954 ; 58   |typedef WORD UCS3;                   // 
                             9955 ; 59   |
                             9956 ; 60   |#define UINT16  unsigned short
                             9957 ; 61   |#define UINT8   unsigned char   
                             9958 ; 62   |#define UINT32  unsigned long
                             9959 ; 63   |#define UINT64  unsigned long   // need to figure out how to do 64 bit values.  Or port exisiting code to only use 48 bit
                             9960 ; 64   |#define INT64   unsigned long   // need to figure out how to do 64 bit values.  Or port exisiting code to only use 48 bit
                             9961 ; 65   |#define WCHAR   UINT16
                             9962 ; 66   |
                             9963 ; 67   |//UINT128 is 16 bytes or 6 words
                             9964 ; 68   |typedef struct UINT128_3500 {   
                             9965 ; 69   |    int val[6];     
                             9966 ; 70   |} UINT128_3500;
                             9967 ; 71   |
                             9968 ; 72   |#define UINT128   UINT128_3500
                             9969 ; 73   |
                             9970 ; 74   |// Little endian word packed byte strings:   
                             9971 ; 75   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                             9972 ; 76   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                             9973 ; 77   |// Little endian word packed byte strings:   
                             9974 ; 78   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                             9975 ; 79   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                             9976 ; 80   |
                             9977 ; 81   |// Declare Memory Spaces To Use When Coding
                             9978 ; 82   |// A. Sector Buffers
                             9979 ; 83   |#define SECTOR_BUFFER_MEM_X _X
                             9980 ; 84   |#define SECTOR_BUFFER_MEM_Y _Y
                             9981 ; 85   |#define SECTOR_BUFFER_MEM SECTOR_BUFFER_MEM_X
                             9982 ; 86   |typedef WORD SECTOR_BUFFER_MEM SECTOR_BUFFER;
                             9983 ; 87   |typedef SECTOR_BUFFER * P_SECTOR_BUFFER;
                             9984 ; 88   |// B. Media DDI Memory
                             9985 ; 89   |#define MEDIA_DDI_MEM _Y
                             9986 ; 90   |
                             9987 ; 91   |
                             9988 ; 92   |
                             9989 ; 93   |// Pointers to linear structures are labeled as: p<type prefix>VarName
                             9990 ; 94   |// Examples of circular pointers:
                             9991 ; 95   |//    INT CIRC cpiVarName
                             9992 ; 96   |//    DWORD CIRC cpdwVarName
                             9993 ; 97   |
                             9994 ; 98   |#define RETCODE INT                 // rcVarName
                             9995 ; 99   |
                             9996 ; 100  |// generic bitfield structure
                             9997 ; 101  |struct Bitfield {
                             9998 ; 102  |    unsigned int B0  :1;
                             9999 ; 103  |    unsigned int B1  :1;
                            10000 ; 104  |    unsigned int B2  :1;
                            10001 ; 105  |    unsigned int B3  :1;
                            10002 ; 106  |    unsigned int B4  :1;
                            10003 ; 107  |    unsigned int B5  :1;
                            10004 ; 108  |    unsigned int B6  :1;
                            10005 ; 109  |    unsigned int B7  :1;
                            10006 ; 110  |    unsigned int B8  :1;
                            10007 ; 111  |    unsigned int B9  :1;
                            10008 ; 112  |    unsigned int B10 :1;
                            10009 ; 113  |    unsigned int B11 :1;
                            10010 ; 114  |    unsigned int B12 :1;
                            10011 ; 115  |    unsigned int B13 :1;
                            10012 ; 116  |    unsigned int B14 :1;
                            10013 ; 117  |    unsigned int B15 :1;
                            10014 ; 118  |    unsigned int B16 :1;
                            10015 ; 119  |    unsigned int B17 :1;
                            10016 ; 120  |    unsigned int B18 :1;
                            10017 ; 121  |    unsigned int B19 :1;
                            10018 ; 122  |    unsigned int B20 :1;
                            10019 ; 123  |    unsigned int B21 :1;
                            10020 ; 124  |    unsigned int B22 :1;
                            10021 ; 125  |    unsigned int B23 :1;
                            10022 ; 126  |};
                            10023 ; 127  |
                            10024 ; 128  |union BitInt {
                            10025 ; 129  |        struct Bitfield B;
                            10026 ; 130  |        int        I;
                            10027 ; 131  |};
                            10028 ; 132  |
                            10029 ; 133  |#define MAX_MSG_LENGTH 10
                            10030 ; 134  |struct CMessage
                            10031 ; 135  |{
                            10032 ; 136  |        unsigned int m_uLength;
                            10033 ; 137  |        unsigned int m_uMsg[MAX_MSG_LENGTH];
                            10034 ; 138  |};
                            10035 ; 139  |
                            10036 ; 140  |typedef struct {
                            10037 ; 141  |    WORD m_wLength;
                            10038 ; 142  |    WORD m_wMessage;
                            10039 ; 143  |    WORD m_wParams[MAX_MSG_LENGTH];
                            10040 ; 144  |} Message;
                            10041 ; 145  |
                            10042 ; 146  |struct MessageQueueDescriptor
                            10043 ; 147  |{
                            10044 ; 148  |        int *m_pBase;
                            10045 ; 149  |        int m_iModulo;
                            10046 ; 150  |        int m_iSize;
                            10047 ; 151  |        int *m_pHead;
                            10048 ; 152  |        int *m_pTail;
                            10049 ; 153  |};
                            10050 ; 154  |
                            10051 ; 155  |struct ModuleEntry
                            10052 ; 156  |{
                            10053 ; 157  |    int m_iSignaledEventMask;
                            10054 ; 158  |    int m_iWaitEventMask;
                            10055 ; 159  |    int m_iResourceOfCode;
                            10056 ; 160  |    struct MessageQueueDescriptor *m_pMessageQueue;
                            10057 ; 161  |    int _asmfunc (*m_pProcessEntryPoint)(union WaitMask Signals,struct MessageQueueDescriptor *);
                            10058 ; 162  |    int _asmfunc (*m_pInitFunction)(struct MessageQueueDescriptor *);
                            10059 ; 163  |    int m_uTimeOutHigh;
                            10060 ; 164  |    int m_uTimeOutLow;
                            10061 ; 165  |    int _asmfunc (*m_pBackgroundFunction)(struct MessageQueueDescriptor *);
                            10062 ; 166  |};
                            10063 ; 167  |
                            10064 ; 168  |union WaitMask{
                            10065 ; 169  |    struct B{
                            10066 ; 170  |        unsigned int m_bNone     :1;
                            10067 ; 171  |        unsigned int m_bMessage  :1;
                            10068 ; 172  |        unsigned int m_bTimer    :1;
                            10069 ; 173  |        unsigned int m_bButton   :1;
                            10070 ; 174  |    } B;
                            10071 ; 175  |    int I;
                            10072 ; 176  |} ;
                            10073 ; 177  |
                            10074 ; 178  |
                            10075 ; 179  |struct Button {
                            10076 ; 180  |        WORD wButtonEvent;
                            10077 ; 181  |        WORD wUnused[MAX_MSG_LENGTH];   
                            10078 ; 182  |};
                            10079 ; 183  |
                            10080 ; 184  |struct Message {
                            10081 ; 185  |        WORD wMsgLength;
                            10082 ; 186  |        WORD wMsgCommand;
                            10083 ; 187  |        WORD wMsgParms[MAX_MSG_LENGTH-1];
                            10084 ; 188  |};
                            10085 ; 189  |
                            10086 ; 190  |union EventTypes {
                            10087 ; 191  |        struct CMessage msg;
                            10088 ; 192  |        struct Button Button ;
                            10089 ; 193  |        struct Message Message;
                            10090 ; 194  |};
                            10091 ; 195  |
                            10092 ; 196  |// next 2 used to get updater build to return correct protocol ver in scsi response.
                            10093 ; 197  |#define BUILD_TYPE_UPDATER  0x100
                            10094 ; 198  |#define BUILD_TYPE_HOSTLINK 0x101
                            10095 ; 199  |#define BUILD_TYPE_PLAYER   0x102
                            10096 ; 200  |
                            10097 ; 201  |// Resets part if RETAIL build. DEBUG build executes debug instruction to halt.
                            10098 ; 202  |#define SystemHalt() __asm(" include 'sysmacro.asm' \n error") 
                            10099 ; 203  |#define assert(x)    if(!(x)) __asm(" include 'sysmacro.asm' \n error")
                            10100 ; 204  |
                            10101 ; 205  |#if DEBUG
                            10102 ; 206  |// For DEBUG builds, DebugBuildAssert(condition) halts if condition evaluates to FALSE. 
                            10103 ; 207  |#define DebugBuildAssert(x)    if(!(x)) __asm(" debug ")
                            10104 ; 208  |#else 
                            10105 ; 209  |// For RETAIL builds, DebugBuildAssert(condition) does nothing & execution continues rather than halt or reset. 
                            10106 ; 210  |#define DebugBuildAssert(x)    
                            10107 ; 211  |#endif
                            10108 ; 212  |
                            10109 ; 213  |// Do this in your C files to make a reminder that's displayed during the build.
                            10110 ; 214  |//  #pragma asm
                            10111 ; 215  |//  WARN 'Note to builder: reminder to do this after verifying that'
                            10112 ; 216  |//  #pragma endasm
                            10113 ; 217  |
                            10114 ; 218  |
                            10115 ; 219  |#ifdef COLOR_262K
                            10116 ; 220  |#define RGB(r,g,b)    ((0x0000FC & (r)) << 10) | ((0x0000FC & (g)) << 4) | ((0x0000FC & (b)) >> 2)    //262k
                            10117 ; 221  |#elif defined(COLOR_65K)
                            10118 ; 222  |#define RGB(r,g,b)    ((0x0000F8 & (r)) << 8) | ((0x0000FC & (g)) << 3) | ((0x0000F8 & (b)) >> 3)  //65k
                            10119 ; 223  |#else
                            10120 ; 224  |#define RGB(r,g,b)       ((0x0000F0 & (r)) << 4) | (0x0000F0 & (g)) | ((0x0000F0 & (b)) >> 4)
                            10121 ; 225  |#endif
                            10122 ; 226  |    
                            10123 ; 227  |#endif // #ifndef _TYPES_H
                            10124 
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page  41

M:ADDR CODE           CYCLES LINE SOURCELINE
                            10126 
                            10127 ; 31   |
                            10128 ; 32   |//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                            10129 ; 33   |
                            10130 ; 34   |//   SPI STMP3500 Registers 
                            10131 ; 35   |//   Last Updated 7.7.2003 Dave Dyches
                            10132 ; 36   |//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                            10133 ; 37   |
                            10134 ; 38   |#define HW_SPI_BASEADDR (0xFFF9)
                            10135 ; 39   |
                            10136 ; 40   |
                            10137 ; 41   |
                            10138 ; 42   |// /////////////////////////////////////////////
                            10139 ; 43   |// //  SPI Control/Status Register Bit Definitions
                            10140 ; 44   |#define HW_SPCSR_SPE_BITPOS (0)
                            10141 ; 45   |#define HW_SPCSR_MSTR_BITPOS (1)
                            10142 ; 46   |#define HW_SPCSR_SPIE_BITPOS (2)
                            10143 ; 47   |#define HW_SPCSR_CPOL_BITPOS (3)
                            10144 ; 48   |#define HW_SPCSR_CPHA_BITPOS (4)
                            10145 ; 49   |#define HW_SPCSR_SPIF_BITPOS (5)
                            10146 ; 50   |#define HW_SPCSR_WCOL_BITPOS (6)
                            10147 ; 51   |#define HW_SPCSR_MODF_BITPOS (7)
                            10148 ; 52   |#define HW_SPCSR_DIV_BITPOS (8)
                            10149 ; 53   |#define HW_SPCSR_RSVD_BITPOS (16)
                            10150 ; 54   |
                            10151 ; 55   |#define HW_SPCSR_SPE_WIDTH (1)
                            10152 ; 56   |#define HW_SPCSR_MSTR_WIDTH (1)
                            10153 ; 57   |#define HW_SPCSR_SPIE_WIDTH (1)
                            10154 ; 58   |#define HW_SPCSR_CPOL_WIDTH (1)
                            10155 ; 59   |#define HW_SPCSR_CPHA_WIDTH (1)
                            10156 ; 60   |#define HW_SPCSR_SPIF_WIDTH (1)
                            10157 ; 61   |#define HW_SPCSR_WCOL_WIDTH (1)
                            10158 ; 62   |#define HW_SPCSR_MODF_WIDTH (1)
                            10159 ; 63   |#define HW_SPCSR_DIV_WIDTH (8)
                            10160 ; 64   |#define HW_SPCSR_RSVD_WIDTH (8)
                            10161 ; 65   |
                            10162 ; 66   |#define HW_SPCSR_SPE_SETMASK (((1<<HW_SPCSR_SPE_WIDTH)-1)<<HW_SPCSR_SPE_BITPOS)
                            10163 ; 67   |#define HW_SPCSR_MSTR_SETMASK (((1<<HW_SPCSR_MSTR_WIDTH)-1)<<HW_SPCSR_MSTR_BITPOS)
                            10164 ; 68   |#define HW_SPCSR_SPIE_SETMASK (((1<<HW_SPCSR_SPIE_WIDTH)-1)<<HW_SPCSR_SPIE_BITPOS)
                            10165 ; 69   |#define HW_SPCSR_CPOL_SETMASK (((1<<HW_SPCSR_CPOL_WIDTH)-1)<<HW_SPCSR_CPOL_BITPOS)
                            10166 ; 70   |#define HW_SPCSR_CPHA_SETMASK (((1<<HW_SPCSR_CPHA_WIDTH)-1)<<HW_SPCSR_CPHA_BITPOS)
                            10167 ; 71   |#define HW_SPCSR_SPIF_SETMASK (((1<<HW_SPCSR_SPIF_WIDTH)-1)<<HW_SPCSR_SPIF_BITPOS)
                            10168 ; 72   |#define HW_SPCSR_WCOL_SETMASK (((1<<HW_SPCSR_WCOL_WIDTH)-1)<<HW_SPCSR_WCOL_BITPOS)
                            10169 ; 73   |#define HW_SPCSR_MODF_SETMASK (((1<<HW_SPCSR_MODF_WIDTH)-1)<<HW_SPCSR_MODF_BITPOS)
                            10170 ; 74   |#define HW_SPCSR_DIV_SETMASK (((1<<HW_SPCSR_DIV_WIDTH)-1)<<HW_SPCSR_DIV_BITPOS)
                            10171 ; 75   |#define HW_SPCSR_RSVD_SETMASK (((1<<HW_SPCSR_RSVD_WIDTH)-1)<<HW_SPCSR_RSVD_BITPOS)
                            10172 ; 76   |
                            10173 ; 77   |#define HW_SPCSR_SPE_CLRMASK (~(WORD)HW_SPCSR_SPE_SETMASK)
                            10174 ; 78   |#define HW_SPCSR_MSTR_CLRMASK (~(WORD)HW_SPCSR_MSTR_SETMASK)
                            10175 ; 79   |#define HW_SPCSR_SPIE_CLRMASK (~(WORD)HW_SPCSR_SPIE_SETMASK)
                            10176 ; 80   |#define HW_SPCSR_CPOL_CLRMASK (~(WORD)HW_SPCSR_CPOL_SETMASK)
                            10177 ; 81   |#define HW_SPCSR_CPHA_CLRMASK (~(WORD)HW_SPCSR_CPHA_SETMASK)
                            10178 ; 82   |#define HW_SPCSR_SPIF_CLRMASK (~(WORD)HW_SPCSR_SPIF_SETMASK)
                            10179 ; 83   |#define HW_SPCSR_WCOL_CLRMASK (~(WORD)HW_SPCSR_WCOL_SETMASK)
                            10180 ; 84   |#define HW_SPCSR_MODF_CLRMASK (~(WORD)HW_SPCSR_MODF_SETMASK)
                            10181 ; 85   |#define HW_SPCSR_DIV_CLRMASK (~(WORD)HW_SPCSR_DIV_SETMASK)
                            10182 ; 86   |#define HW_SPCSR_RSVD_CLRMASK (~(WORD)HW_SPCSR_RSVD_SETMASK)
                            10183 ; 87   |
                            10184 ; 88   |typedef union               
                            10185 ; 89   |{
                            10186 ; 90   |    struct {
                            10187 ; 91   |        int SPE                 : HW_SPCSR_SPE_WIDTH;    
                            10188 ; 92   |        int MSTR                : HW_SPCSR_MSTR_WIDTH;
                            10189 ; 93   |        int SPIE                    : HW_SPCSR_SPIE_WIDTH;
                            10190 ; 94   |        int CPOL                : HW_SPCSR_CPOL_WIDTH;
                            10191 ; 95   |        int CPHA                : HW_SPCSR_CPHA_WIDTH;
                            10192 ; 96   |        int SPIF                : HW_SPCSR_SPIF_WIDTH;
                            10193 ; 97   |        int WCOL                    : HW_SPCSR_WCOL_WIDTH;
                            10194 ; 98   |        int MODF                : HW_SPCSR_MODF_WIDTH;
                            10195 ; 99   |        int DIV                 : HW_SPCSR_DIV_WIDTH;
                            10196 ; 100  |    } B;
                            10197 ; 101  |
                            10198 ; 102  |    int I;
                            10199 ; 103  |    unsigned int U;
                            10200 ; 104  |} spcsr_type;
                            10201 ; 105  |#define HW_SPCSR      (*(volatile spcsr_type _X*) (HW_SPI_BASEADDR))    /* SPI Control / Status Register */
                            10202 ; 106  |
                            10203 ; 107  |// /////////////////////////////////////////////
                            10204 ; 108  |// //  SPI Data Register Bit Definitions
                            10205 ; 109  |#define HW_SPDR_SPIDATA_BITPOS (0)
                            10206 ; 110  |#define HW_SPDR_RSVD_BITPOS (8)
                            10207 ; 111  |
                            10208 ; 112  |#define HW_SPDR_SPIDATA_WIDTH (8)
                            10209 ; 113  |#define HW_SPDR_RSVD_WIDTH (16)
                            10210 ; 114  |
                            10211 ; 115  |#define HW_SPDR_SPIDATA_SETMASK (((1<<HW_SPDR_SPIDATA_WIDTH)-1)<<HW_SPDR_SPIDATA_BITPOS)
                            10212 ; 116  |#define HW_SPDR_RSVD_SETMASK (((1<<HW_SPDR_RSVD_WIDTH)-1)<<HW_SPDR_RSVD_BITPOS)
                            10213 ; 117  |
                            10214 ; 118  |#define HW_SPDR_SPIDATA_CLRMASK (~(WORD)HW_SPDR_SPIDATA_SETMASK) 
                            10215 ; 119  |#define HW_SPDR_RSVD_CLRMASK (~(WORD)HW_SPDR_RSVD_SETMASK)
                            10216 ; 120  |
                            10217 ; 121  |typedef union               
                            10218 ; 122  |{
                            10219 ; 123  |    struct {
                            10220 ; 124  |        int SPIDATA                     : HW_SPDR_SPIDATA_WIDTH;
                            10221 ; 125  |    } B;
                            10222 ; 126  |
                            10223 ; 127  |    int I;
                            10224 ; 128  |    unsigned int U;
                            10225 ; 129  |} spdr_type;
                            10226 ; 130  |#define HW_SPDR      (*(volatile spdr_type _X*) (HW_SPI_BASEADDR+1))    /* SPI Data Register */
                            10227 ; 131  |
                            10228 ; 132  |
                            10229 ; 133  |#endif
                            10230 ; 134  |
                            10231 ; 135  |
                            10232 
                            10234 
                            10235 ; 32   |#include "regsswizzle.h"
                            10236 
                            10238 
                            10239 ; 1    |//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                            10240 ; 2    |//;; Copyright(C) SigmaTel, Inc. 2002-2003
                            10241 ; 3    |//;; Filename    : regsswizzle.inc
                            10242 ; 4    |//;; Description : Register definitions for Swizzle interface
                            10243 ; 5    |//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                            10244 ; 6    |
                            10245 ; 7    |/////////////////////////////////////////////////////////////////////////////////
                            10246 ; 8    |// The following naming conventions are followed in this file.
                            10247 ; 9    |// All registers are named using the format...
                            10248 ; 10   |//     HW_<module>_<regname>
                            10249 ; 11   |// where <module> is the module name which can be any of the following...
                            10250 ; 12   |//     USB20
                            10251 ; 13   |// (Note that when there is more than one copy of a particular module, the
                            10252 ; 14   |// module name includes a number starting from 0 for the first instance of
                            10253 ; 15   |// that module)
                            10254 ; 16   |// <regname> is the specific register within that module
                            10255 ; 17   |// We also define the following...
                            10256 ; 18   |//     HW_<module>_<regname>_BITPOS
                            10257 ; 19   |// which defines the starting bit (i.e. LSB) of a multi bit field
                            10258 ; 20   |//     HW_<module>_<regname>_SETMASK
                            10259 ; 21   |// which does something else, and
                            10260 ; 22   |//     HW_<module>_<regname>_CLRMASK
                            10261 ; 23   |// which does something else.
                            10262 ; 24   |// Other rules
                            10263 ; 25   |//     All caps
                            10264 ; 26   |//     Numeric identifiers start at 0
                            10265 ; 27   |#if !(defined(regsswizzleinc))
                            10266 ; 28   |#define regsswizzleinc 1
                            10267 ; 29   |
                            10268 ; 30   |#include "types.h"
                            10269 
                            10271 
                            10272 ; 1    |////////////////////////////////////////////////////////////////////////////////
                            10273 ; 2    |// Copyright(C) SigmaTel, Inc. 2000-2004
                            10274 ; 3    |//
                            10275 ; 4    |// Filename: types.h
                            10276 ; 5    |// Description: Standard data types
                            10277 ; 6    |////////////////////////////////////////////////////////////////////////////////
                            10278 ; 7    |
                            10279 ; 8    |#ifndef _TYPES_H
                            10280 ; 9    |#define _TYPES_H
                            10281 ; 10   |
                            10282 ; 11   |// TODO:  move this outta here!
                            10283 ; 12   |#if !defined(NOERROR)
                            10284 ; 13   |#define NOERROR 0
                            10285 ; 14   |#define SUCCESS 0
                            10286 ; 15   |#endif 
                            10287 ; 16   |#if !defined(SUCCESS)
                            10288 ; 17   |#define SUCCESS  0
                            10289 ; 18   |#endif
                            10290 ; 19   |#if !defined(ERROR)
                            10291 ; 20   |#define ERROR   -1
                            10292 ; 21   |#endif
                            10293 ; 22   |#if !defined(FALSE)
                            10294 ; 23   |#define FALSE 0
                            10295 ; 24   |#endif
                            10296 ; 25   |#if !defined(TRUE)
                            10297 ; 26   |#define TRUE  1
                            10298 ; 27   |#endif
                            10299 ; 28   |
                            10300 ; 29   |#if !defined(NULL)
                            10301 ; 30   |#define NULL 0
                            10302 ; 31   |#endif
                            10303 ; 32   |
                            10304 ; 33   |#define MAX_INT     0x7FFFFF
                            10305 ; 34   |#define MAX_LONG    0x7FFFFFffffff
                            10306 ; 35   |        // max positive unsigned long value: -1 == 0xFFFFFFffffff
                            10307 ; 36   |#define MAX_ULONG   (-1) 
                            10308 ; 37   |
                            10309 ; 38   |#define WORD_SIZE   24              // word size in bits
                            10310 ; 39   |#define BYTES_PER_WORD 3            // 8 bit bytes
                            10311 ; 40   |
                            10312 ; 41   |
                            10313 ; 42   |#define BYTE    unsigned char       // btVarName
                            10314 ; 43   |#define CHAR    signed char         // cVarName
                            10315 ; 44   |#define USHORT  unsigned short      // usVarName
                            10316 ; 45   |#define SHORT   unsigned short      // sVarName
                            10317 ; 46   |#define WORD    unsigned int        // wVarName
                            10318 ; 47   |#define INT     signed int          // iVarName
                            10319 ; 48   |#define DWORD   unsigned long       // dwVarName
                            10320 ; 49   |#define LONG    signed long         // lVarName
                            10321 ; 50   |#define BOOL    unsigned int        // bVarName
                            10322 ; 51   |#define FRACT   _fract              // frVarName
                            10323 ; 52   |#define LFRACT  long _fract         // lfrVarName
                            10324 ; 53   |#define CIRC    _circ               // cp<type prefix>VarName (see below)
                            10325 ; 54   |#define FLOAT   float               // fVarName
                            10326 ; 55   |#define DBL     double              // dVarName
                            10327 ; 56   |#define ENUM    enum                // eVarName
                            10328 ; 57   |#define CMX     _complex            // cmxVarName
                            10329 ; 58   |typedef WORD UCS3;                   // 
                            10330 ; 59   |
                            10331 ; 60   |#define UINT16  unsigned short
                            10332 ; 61   |#define UINT8   unsigned char   
                            10333 ; 62   |#define UINT32  unsigned long
                            10334 ; 63   |#define UINT64  unsigned long   // need to figure out how to do 64 bit values.  Or port exisiting code to only use 48 bit
                            10335 ; 64   |#define INT64   unsigned long   // need to figure out how to do 64 bit values.  Or port exisiting code to only use 48 bit
                            10336 ; 65   |#define WCHAR   UINT16
                            10337 ; 66   |
                            10338 ; 67   |//UINT128 is 16 bytes or 6 words
                            10339 ; 68   |typedef struct UINT128_3500 {   
                            10340 ; 69   |    int val[6];     
                            10341 ; 70   |} UINT128_3500;
                            10342 ; 71   |
                            10343 ; 72   |#define UINT128   UINT128_3500
                            10344 ; 73   |
                            10345 ; 74   |// Little endian word packed byte strings:   
                            10346 ; 75   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                            10347 ; 76   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                            10348 ; 77   |// Little endian word packed byte strings:   
                            10349 ; 78   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                            10350 ; 79   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                            10351 ; 80   |
                            10352 ; 81   |// Declare Memory Spaces To Use When Coding
                            10353 ; 82   |// A. Sector Buffers
                            10354 ; 83   |#define SECTOR_BUFFER_MEM_X _X
                            10355 ; 84   |#define SECTOR_BUFFER_MEM_Y _Y
                            10356 ; 85   |#define SECTOR_BUFFER_MEM SECTOR_BUFFER_MEM_X
                            10357 ; 86   |typedef WORD SECTOR_BUFFER_MEM SECTOR_BUFFER;
                            10358 ; 87   |typedef SECTOR_BUFFER * P_SECTOR_BUFFER;
                            10359 ; 88   |// B. Media DDI Memory
                            10360 ; 89   |#define MEDIA_DDI_MEM _Y
                            10361 ; 90   |
                            10362 ; 91   |
                            10363 ; 92   |
                            10364 ; 93   |// Pointers to linear structures are labeled as: p<type prefix>VarName
                            10365 ; 94   |// Examples of circular pointers:
                            10366 ; 95   |//    INT CIRC cpiVarName
                            10367 ; 96   |//    DWORD CIRC cpdwVarName
                            10368 ; 97   |
                            10369 ; 98   |#define RETCODE INT                 // rcVarName
                            10370 ; 99   |
                            10371 ; 100  |// generic bitfield structure
                            10372 ; 101  |struct Bitfield {
                            10373 ; 102  |    unsigned int B0  :1;
                            10374 ; 103  |    unsigned int B1  :1;
                            10375 ; 104  |    unsigned int B2  :1;
                            10376 ; 105  |    unsigned int B3  :1;
                            10377 ; 106  |    unsigned int B4  :1;
                            10378 ; 107  |    unsigned int B5  :1;
                            10379 ; 108  |    unsigned int B6  :1;
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page  42

M:ADDR CODE           CYCLES LINE SOURCELINE
                            10380 ; 109  |    unsigned int B7  :1;
                            10381 ; 110  |    unsigned int B8  :1;
                            10382 ; 111  |    unsigned int B9  :1;
                            10383 ; 112  |    unsigned int B10 :1;
                            10384 ; 113  |    unsigned int B11 :1;
                            10385 ; 114  |    unsigned int B12 :1;
                            10386 ; 115  |    unsigned int B13 :1;
                            10387 ; 116  |    unsigned int B14 :1;
                            10388 ; 117  |    unsigned int B15 :1;
                            10389 ; 118  |    unsigned int B16 :1;
                            10390 ; 119  |    unsigned int B17 :1;
                            10391 ; 120  |    unsigned int B18 :1;
                            10392 ; 121  |    unsigned int B19 :1;
                            10393 ; 122  |    unsigned int B20 :1;
                            10394 ; 123  |    unsigned int B21 :1;
                            10395 ; 124  |    unsigned int B22 :1;
                            10396 ; 125  |    unsigned int B23 :1;
                            10397 ; 126  |};
                            10398 ; 127  |
                            10399 ; 128  |union BitInt {
                            10400 ; 129  |        struct Bitfield B;
                            10401 ; 130  |        int        I;
                            10402 ; 131  |};
                            10403 ; 132  |
                            10404 ; 133  |#define MAX_MSG_LENGTH 10
                            10405 ; 134  |struct CMessage
                            10406 ; 135  |{
                            10407 ; 136  |        unsigned int m_uLength;
                            10408 ; 137  |        unsigned int m_uMsg[MAX_MSG_LENGTH];
                            10409 ; 138  |};
                            10410 ; 139  |
                            10411 ; 140  |typedef struct {
                            10412 ; 141  |    WORD m_wLength;
                            10413 ; 142  |    WORD m_wMessage;
                            10414 ; 143  |    WORD m_wParams[MAX_MSG_LENGTH];
                            10415 ; 144  |} Message;
                            10416 ; 145  |
                            10417 ; 146  |struct MessageQueueDescriptor
                            10418 ; 147  |{
                            10419 ; 148  |        int *m_pBase;
                            10420 ; 149  |        int m_iModulo;
                            10421 ; 150  |        int m_iSize;
                            10422 ; 151  |        int *m_pHead;
                            10423 ; 152  |        int *m_pTail;
                            10424 ; 153  |};
                            10425 ; 154  |
                            10426 ; 155  |struct ModuleEntry
                            10427 ; 156  |{
                            10428 ; 157  |    int m_iSignaledEventMask;
                            10429 ; 158  |    int m_iWaitEventMask;
                            10430 ; 159  |    int m_iResourceOfCode;
                            10431 ; 160  |    struct MessageQueueDescriptor *m_pMessageQueue;
                            10432 ; 161  |    int _asmfunc (*m_pProcessEntryPoint)(union WaitMask Signals,struct MessageQueueDescriptor *);
                            10433 ; 162  |    int _asmfunc (*m_pInitFunction)(struct MessageQueueDescriptor *);
                            10434 ; 163  |    int m_uTimeOutHigh;
                            10435 ; 164  |    int m_uTimeOutLow;
                            10436 ; 165  |    int _asmfunc (*m_pBackgroundFunction)(struct MessageQueueDescriptor *);
                            10437 ; 166  |};
                            10438 ; 167  |
                            10439 ; 168  |union WaitMask{
                            10440 ; 169  |    struct B{
                            10441 ; 170  |        unsigned int m_bNone     :1;
                            10442 ; 171  |        unsigned int m_bMessage  :1;
                            10443 ; 172  |        unsigned int m_bTimer    :1;
                            10444 ; 173  |        unsigned int m_bButton   :1;
                            10445 ; 174  |    } B;
                            10446 ; 175  |    int I;
                            10447 ; 176  |} ;
                            10448 ; 177  |
                            10449 ; 178  |
                            10450 ; 179  |struct Button {
                            10451 ; 180  |        WORD wButtonEvent;
                            10452 ; 181  |        WORD wUnused[MAX_MSG_LENGTH];   
                            10453 ; 182  |};
                            10454 ; 183  |
                            10455 ; 184  |struct Message {
                            10456 ; 185  |        WORD wMsgLength;
                            10457 ; 186  |        WORD wMsgCommand;
                            10458 ; 187  |        WORD wMsgParms[MAX_MSG_LENGTH-1];
                            10459 ; 188  |};
                            10460 ; 189  |
                            10461 ; 190  |union EventTypes {
                            10462 ; 191  |        struct CMessage msg;
                            10463 ; 192  |        struct Button Button ;
                            10464 ; 193  |        struct Message Message;
                            10465 ; 194  |};
                            10466 ; 195  |
                            10467 ; 196  |// next 2 used to get updater build to return correct protocol ver in scsi response.
                            10468 ; 197  |#define BUILD_TYPE_UPDATER  0x100
                            10469 ; 198  |#define BUILD_TYPE_HOSTLINK 0x101
                            10470 ; 199  |#define BUILD_TYPE_PLAYER   0x102
                            10471 ; 200  |
                            10472 ; 201  |// Resets part if RETAIL build. DEBUG build executes debug instruction to halt.
                            10473 ; 202  |#define SystemHalt() __asm(" include 'sysmacro.asm' \n error") 
                            10474 ; 203  |#define assert(x)    if(!(x)) __asm(" include 'sysmacro.asm' \n error")
                            10475 ; 204  |
                            10476 ; 205  |#if DEBUG
                            10477 ; 206  |// For DEBUG builds, DebugBuildAssert(condition) halts if condition evaluates to FALSE. 
                            10478 ; 207  |#define DebugBuildAssert(x)    if(!(x)) __asm(" debug ")
                            10479 ; 208  |#else 
                            10480 ; 209  |// For RETAIL builds, DebugBuildAssert(condition) does nothing & execution continues rather than halt or reset. 
                            10481 ; 210  |#define DebugBuildAssert(x)    
                            10482 ; 211  |#endif
                            10483 ; 212  |
                            10484 ; 213  |// Do this in your C files to make a reminder that's displayed during the build.
                            10485 ; 214  |//  #pragma asm
                            10486 ; 215  |//  WARN 'Note to builder: reminder to do this after verifying that'
                            10487 ; 216  |//  #pragma endasm
                            10488 ; 217  |
                            10489 ; 218  |
                            10490 ; 219  |#ifdef COLOR_262K
                            10491 ; 220  |#define RGB(r,g,b)    ((0x0000FC & (r)) << 10) | ((0x0000FC & (g)) << 4) | ((0x0000FC & (b)) >> 2)    //262k
                            10492 ; 221  |#elif defined(COLOR_65K)
                            10493 ; 222  |#define RGB(r,g,b)    ((0x0000F8 & (r)) << 8) | ((0x0000FC & (g)) << 3) | ((0x0000F8 & (b)) >> 3)  //65k
                            10494 ; 223  |#else
                            10495 ; 224  |#define RGB(r,g,b)       ((0x0000F0 & (r)) << 4) | (0x0000F0 & (g)) | ((0x0000F0 & (b)) >> 4)
                            10496 ; 225  |#endif
                            10497 ; 226  |    
                            10498 ; 227  |#endif // #ifndef _TYPES_H
                            10499 
                            10501 
                            10502 ; 31   |
                            10503 ; 32   |//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                            10504 ; 33   |
                            10505 ; 34   |//   SWIZZLE STMP3500 Registers 
                            10506 ; 35   |//   Last Updated 7.11.2003 Dave Dyches
                            10507 ; 36   |//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                            10508 ; 37   |
                            10509 ; 38   |
                            10510 ; 39   |
                            10511 ; 40   |
                            10512 ; 41   |
                            10513 ; 42   |#define HW_SWIZZLE_BASEADDR 0xF380
                            10514 ; 43   |
                            10515 ; 44   |
                            10516 ; 45   |
                            10517 ; 46   |////  Swizzle CSR1 (HW_SWIZZLECSR1) Bit Definitions
                            10518 ; 47   |#define HW_SWIZZLECSR1_EN_BITPOS (0)
                            10519 ; 48   |#define HW_SWIZZLECSR1_LA_BITPOS (1)
                            10520 ; 49   |#define HW_SWIZZLECSR1_LNR_BITPOS (2)
                            10521 ; 50   |#define HW_SWIZZLECSR1_SIGN_BITPOS (3)
                            10522 ; 51   |#define HW_SWIZZLECSR1_SHIFT_BITPOS (4)
                            10523 ; 52   |#define HW_SWIZZLECSR1_MEM_BITPOS (8)
                            10524 ; 53   |#define HW_SWIZZLECSR1_CLK_OFF_BITPOS (9)
                            10525 ; 54   |#define HW_SWIZZLECSR1_NEWADD_BITPOS (10)
                            10526 ; 55   |#define HW_SWIZZLECSR1_RSVD_BITPOS (11)
                            10527 ; 56   |
                            10528 ; 57   |#define HW_SWIZZLECSR1_EN_WIDTH (1)
                            10529 ; 58   |#define HW_SWIZZLECSR1_LA_WIDTH (1)
                            10530 ; 59   |#define HW_SWIZZLECSR1_LNR_WIDTH (1)
                            10531 ; 60   |#define HW_SWIZZLECSR1_SIGN_WIDTH (1)
                            10532 ; 61   |#define HW_SWIZZLECSR1_SHIFT_WIDTH (4)
                            10533 ; 62   |#define HW_SWIZZLECSR1_MEM_WIDTH (1)
                            10534 ; 63   |#define HW_SWIZZLECSR1_CLK_OFF_WIDTH (1)
                            10535 ; 64   |#define HW_SWIZZLECSR1_NEWADD_WIDTH (1)
                            10536 ; 65   |#define HW_SWIZZLECSR1_RSVD_WIDTH (13)
                            10537 ; 66   |
                            10538 ; 67   |#define HW_SWIZZLECSR1_EN_SETMASK (((1<HW_SWIZZLECSR1_EN_WIDTH)-1)<<HW_SWIZZLECSR1_EN_BITPOS)
                            10539 ; 68   |#define HW_SWIZZLECSR1_LA_SETMASK (((1<HW_SWIZZLECSR1_LA_WIDTH)-1)<<HW_SWIZZLECSR1_LA_BITPOS)
                            10540 ; 69   |#define HW_SWIZZLECSR1_LNR_SETMASK (((1<HW_SWIZZLECSR1_LNR_WIDTH)-1)<<HW_SWIZZLECSR1_LNR_BITPOS)
                            10541 ; 70   |#define HW_SWIZZLECSR1_SIGN_SETMASK (((1<HW_SWIZZLECSR1_SIGN_WIDTH)-1)<<HW_SWIZZLECSR1_SIGN_BITPOS)
                            10542 ; 71   |#define HW_SWIZZLECSR1_SHIFT_SETMASK (((1<HW_SWIZZLECSR1_SHIFT_WIDTH)-1)<<HW_SWIZZLECSR1_SHIFT_BITPOS)
                            10543 ; 72   |#define HW_SWIZZLECSR1_MEM_SETMASK (((1<HW_SWIZZLECSR1_MEM_WIDTH)-1)<<HW_SWIZZLECSR1_MEM_BITPOS)
                            10544 ; 73   |#define HW_SWIZZLECSR1_CLK_OFF_SETMASK (((1<HW_SWIZZLECSR1_CLK_OFF_WIDTH)-1)<<HW_SWIZZLECSR1_CLK_OFF_BITPOS)
                            10545 ; 74   |#define HW_SWIZZLECSR1_NEWADD_SETMASK (((1<HW_SWIZZLECSR1_NEWADD_WIDTH)-1)<<HW_SWIZZLECSR1_NEWADD_BITPOS)
                            10546 ; 75   |#define HW_SWIZZLECSR1_RSVD_SETMASK (((1<HW_SWIZZLECSR1_RSVD_WIDTH)-1)<<HW_SWIZZLECSR1_RSVD_BITPOS)
                            10547 ; 76   |
                            10548 ; 77   |#define HW_SWIZZLECSR1_EN_CLRMASK (~(WORD)HW_SWIZZLECSR1_EN_SETMASK)
                            10549 ; 78   |#define HW_SWIZZLECSR1_LA_CLRMASK (~(WORD)HW_SWIZZLECSR1_LA_SETMASK)
                            10550 ; 79   |#define HW_SWIZZLECSR1_LNR_CLRMASK (~(WORD)HW_SWIZZLECSR1_LNR_SETMASK)
                            10551 ; 80   |#define HW_SWIZZLECSR1_SIGN_CLRMASK (~(WORD)HW_SWIZZLECSR1_SIGN_SETMASK)
                            10552 ; 81   |#define HW_SWIZZLECSR1_SHIFT_CLRMASK (~(WORD)HW_SWIZZLECSR1_SHIFT_SETMASK)
                            10553 ; 82   |#define HW_SWIZZLECSR1_MEM_CLRMASK (~(WORD)HW_SWIZZLECSR1_MEM_SETMASK)
                            10554 ; 83   |#define HW_SWIZZLECSR1_CLK_OFF_CLRMASK (~(WORD)HW_SWIZZLECSR1_CLK_OFF_SETMASK)
                            10555 ; 84   |#define HW_SWIZZLECSR1_NEWADD_CLRMASK (~(WORD)HW_SWIZZLECSR1_NEWADD_SETMASK)
                            10556 ; 85   |#define HW_SWIZZLECSR1_RSVD_CLRMASK (~(WORD)HW_SWIZZLECSR1_RSVD_SETMASK)
                            10557 ; 86   |
                            10558 ; 87   |////////////////////////////////////////////////////////////////////////////////
                            10559 ; 88   |//  Bit Manipulation Unit Registers
                            10560 ; 89   |////////////////////////////////////////////////////////////////////////////////
                            10561 ; 90   |typedef union
                            10562 ; 91   |{
                            10563 ; 92   |    struct
                            10564 ; 93   |    {
                            10565 ; 94   |    int EN      :1;     /* Swizzle Enable                           */
                            10566 ; 95   |    int LA      :1;     /* Left Align Data                          */
                            10567 ; 96   |    int LNR     :1;     /* Left Barrel Shift                        */
                            10568 ; 97   |    int SIGN    :1;     /* Sign Extend Data                         */
                            10569 ; 98   |    unsigned SHIFT :4;          /* Number of positions to shift (0 to 23)   */
                            10570 ; 99   |    int MEM     :1;     /* Manipulate in Memory (not in registers)  */
                            10571 ; 100  |    int CLK_OFF :1;     /* Gate the Clock, Power Off                */
                            10572 ; 101  |    int NEWADD  :1;     /* Place the data into a new location       */     
                            10573 ; 102  |    } B;
                            10574 ; 103  |    int I;
                            10575 ; 104  |    unsigned U;
                            10576 ; 105  |} swizzlecsr1_type;
                            10577 ; 106  |////////////////////////////////////////////////////////////////////////////////
                            10578 ; 107  |#define HW_SWIZZLECS1R (*(volatile swizzlecsr1_type _X*) (HW_SWIZZLE_BASEADDR))       /* Swizzle Control & Status Register 1 */
                            10579 ; 108  |
                            10580 ; 109  |////  Swizzle CSR2 (HW_SWIZZLECSR2) Bit Definitions
                            10581 ; 110  |#define HW_SWIZZLECSR2_KICK_BITPOS (0)
                            10582 ; 111  |#define HW_SWIZZLECSR2_SASEL_BITPOS (1)
                            10583 ; 112  |#define HW_SWIZZLECSR2_DESASEL_BITPOS (3)
                            10584 ; 113  |#define HW_SWIZZLECSR2_BIGE_BITPOS (5)
                            10585 ; 114  |#define HW_SWIZZLECSR2_BITREV_BITPOS (6)
                            10586 ; 115  |#define HW_SWIZZLECSR2_PLSB_BITPOS (7)
                            10587 ; 116  |#define HW_SWIZZLECSR2_PISB_OFF_BITPOS (8)
                            10588 ; 117  |#define HW_SWIZZLECSR2_PMSB_BITPOS (9)
                            10589 ; 118  |#define HW_SWIZZLECSR2_P16L_BITPOS (10)
                            10590 ; 119  |#define HW_SWIZZLECSR2_P16I_BITPOS (11)
                            10591 ; 120  |#define HW_SWIZZLECSR2_BS_EN_BITPOS (12)
                            10592 ; 121  |#define HW_SWIZZLECSR2_SBYTEDEST_BITPOS (13)
                            10593 ; 122  |#define HW_SWIZZLECSR2_UNKICK_BITPOS (15)
                            10594 ; 123  |#define HW_SWIZZLECSR2_RSVD_BITPOS (16)
                            10595 ; 124  |
                            10596 ; 125  |#define HW_SWIZZLECSR2_KICK_WIDTH (1)
                            10597 ; 126  |#define HW_SWIZZLECSR2_SASEL_WIDTH (2)
                            10598 ; 127  |#define HW_SWIZZLECSR2_DESASEL_WIDTH (2)
                            10599 ; 128  |#define HW_SWIZZLECSR2_BIGE_WIDTH (1)
                            10600 ; 129  |#define HW_SWIZZLECSR2_BITREV_WIDTH (1)
                            10601 ; 130  |#define HW_SWIZZLECSR2_PLSB_WIDTH (1)
                            10602 ; 131  |#define HW_SWIZZLECSR2_PMSB_WIDTH (1)
                            10603 ; 132  |#define HW_SWIZZLECSR2_P16L_WIDTH (1)
                            10604 ; 133  |#define HW_SWIZZLECSR2_P16I_WIDTH (1)
                            10605 ; 134  |#define HW_SWIZZLECSR2_BS_EN_WIDTH (1)
                            10606 ; 135  |#define HW_SWIZZLECSR2_SBYTEDEST_WIDTH (2)
                            10607 ; 136  |#define HW_SWIZZLECSR2_UNKICK_WIDTH (1)
                            10608 ; 137  |#define HW_SWIZZLECSR2_RSVD_WIDTH (8)
                            10609 ; 138  |
                            10610 ; 139  |#define HW_SWIZZLECSR2_KICK_SETMASK (((1<HW_SWIZZLECSR2_KICK_WIDTH)-1)<<HW_SWIZZLECSR2_KICK_BITPOS)
                            10611 ; 140  |#define HW_SWIZZLECSR2_SASEL_SETMASK (((1<HW_SWIZZLECSR2_SASEL_WIDTH)-1)<<HW_SWIZZLECSR2_SASEL_BITPOS)
                            10612 ; 141  |#define HW_SWIZZLECSR2_DESASEL_SETMASK (((1<HW_SWIZZLECSR2_DESASEL_WIDTH)-1)<<HW_SWIZZLECSR2_DESASEL_BITPOS)
                            10613 ; 142  |#define HW_SWIZZLECSR2_BIGE_SETMASK (((1<HW_SWIZZLECSR2_BIGE_WIDTH)-1)<<HW_SWIZZLECSR2_BIGE_BITPOS)
                            10614 ; 143  |#define HW_SWIZZLECSR2_BITREV_SETMASK (((1<HW_SWIZZLECSR2_BITREV_WIDTH)-1)<<HW_SWIZZLECSR2_BITREV_BITPOS)
                            10615 ; 144  |#define HW_SWIZZLECSR2_PLSB_SETMASK (((1<HW_SWIZZLECSR2_PLSB_WIDTH)-1)<<HW_SWIZZLECSR2_PLSB_BITPOS)
                            10616 ; 145  |#define HW_SWIZZLECSR2_PMSB_SETMASK (((1<HW_SWIZZLECSR2_PMSB_WIDTH)-1)<<HW_SWIZZLECSR2_PMSB_BITPOS)
                            10617 ; 146  |#define HW_SWIZZLECSR2_P16L_SETMASK (((1<HW_SWIZZLECSR2_P16L_WIDTH)-1)<<HW_SWIZZLECSR2_P16L_BITPOS)
                            10618 ; 147  |#define HW_SWIZZLECSR2_P16I_SETMASK (((1<HW_SWIZZLECSR2_P16I_WIDTH)-1)<<HW_SWIZZLECSR2_P16I_BITPOS)
                            10619 ; 148  |#define HW_SWIZZLECSR2_BS_EN_SETMASK (((1<HW_SWIZZLECSR2_BS_EN_WIDTH)-1)<<HW_SWIZZLECSR2_BS_EN_BITPOS)
                            10620 ; 149  |#define HW_SWIZZLECSR2_SBYTEDEST_SETMASK (((1<HW_SWIZZLECSR2_SBYTEDEST_WIDTH)-1)<<HW_SWIZZLECSR2_SBYTEDEST_BITPOS)
                            10621 ; 150  |#define HW_SWIZZLECSR2_UNKICK_SETMASK (((1<HW_SWIZZLECSR2_UNKICK_WIDTH)-1)<<HW_SWIZZLECSR2_UNKICK_BITPOS)
                            10622 ; 151  |#define HW_SWIZZLECSR2_RSVD_SETMASK (((1<HW_SWIZZLECSR2_RSVD_WIDTH)-1)<<HW_SWIZZLECSR2_RSVD_BITPOS)
                            10623 ; 152  |
                            10624 ; 153  |#define HW_SWIZZLECSR2_KICK_CLRMASK (~(WORD)HW_SWIZZLECSR2_KICK_SETMASK)
                            10625 ; 154  |#define HW_SWIZZLECSR2_SASEL_CLRMASK (~(WORD)HW_SWIZZLECSR2_SASEL_SETMASK)
                            10626 ; 155  |#define HW_SWIZZLECSR2_DESASEL_CLRMASK (~(WORD)HW_SWIZZLECSR2_DESASEL_SETMASK)
                            10627 ; 156  |#define HW_SWIZZLECSR2_BIGE_CLRMASK (~(WORD)HW_SWIZZLECSR2_BIGE_SETMASK)
                            10628 ; 157  |#define HW_SWIZZLECSR2_BITREV_CLRMASK (~(WORD)HW_SWIZZLECSR2_BITREV_SETMASK)
                            10629 ; 158  |#define HW_SWIZZLECSR2_PLSB_CLRMASK (~(WORD)HW_SWIZZLECSR2_PLSB_SETMASK)
                            10630 ; 159  |#define HW_SWIZZLECSR2_PMSB_CLRMASK (~(WORD)HW_SWIZZLECSR2_PMSB_SETMASK)
                            10631 ; 160  |#define HW_SWIZZLECSR2_P16L_CLRMASK (~(WORD)HW_SWIZZLECSR2_P16L_SETMASK)
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page  43

M:ADDR CODE           CYCLES LINE SOURCELINE
                            10632 ; 161  |#define HW_SWIZZLECSR2_P16I_CLRMASK (~(WORD)HW_SWIZZLECSR2_P16I_SETMASK)
                            10633 ; 162  |#define HW_SWIZZLECSR2_BS_EN_CLRMASK (~(WORD)HW_SWIZZLECSR2_BS_EN_SETMASK)
                            10634 ; 163  |#define HW_SWIZZLECSR2_SBYTEDEST_CLRMASK (~(WORD)HW_SWIZZLECSR2_SBYTEDEST_SETMASK)
                            10635 ; 164  |#define HW_SWIZZLECSR2_UNKICK_CLRMASK (~(WORD)HW_SWIZZLECSR2_UNKICK_SETMASK)
                            10636 ; 165  |#define HW_SWIZZLECSR2_RSVD_CLRMASK (~(WORD)HW_SWIZZLECSR2_RSVD_SETMASK)
                            10637 ; 166  |
                            10638 ; 167  |///////////////////////////////////////////////////////////////////////////////
                            10639 ; 168  |typedef union
                            10640 ; 169  |{
                            10641 ; 170  |    struct
                            10642 ; 171  |    {
                            10643 ; 172  |    int KICK    :1;         /* Start transfer                      */
                            10644 ; 173  |    unsigned SASEL :2;              /* Source memory Select                */
                            10645 ; 174  |    unsigned DESASEL :2;                    /* Destination memory Select           */
                            10646 ; 175  |    int BIGE        :1;             /* Big Endian Enable                   */
                            10647 ; 176  |    int BITREV      :1;     /* Bit reverse the data                */
                            10648 ; 177  |    int PLSB        :1;             /* Pass Least Significant Byte         */
                            10649 ; 178  |    int PISB        :1;     /* Pass Intermediate Byte              */
                            10650 ; 179  |    int PMSB        :1;     /* Pass Most Significant Byte          */
                            10651 ; 180  |    int P16L        :1;     /* Pass Least Significant word         */
                            10652 ; 181  |    int P16I        :1;     /* Pass Intermediate significant word  */
                            10653 ; 182  |    int BS_EN       :1;     /* Barrel Shift Enable                 */
                            10654 ; 183  |    unsigned SBYTE  :2;                     /* Start byte                          */
                            10655 ; 184  |    int UNKICK      :1;     /* Halt transfer                       */  
                            10656 ; 185  |    } B;
                            10657 ; 186  |    unsigned int I;
                            10658 ; 187  |    unsigned int U;
                            10659 ; 188  |} swizzlecsr2_type;
                            10660 ; 189  |///////////////////////////////////////////////////////////////////////////////
                            10661 ; 190  |#define HW_SWIZZLECS2R (*(volatile swizzlecsr2_type _X*) (HW_SWIZZLE_BASEADDR+1))     /* Swizzle Control & Status Register 2 */
                            10662 ; 191  |
                            10663 ; 192  |////  Swizzle SIZER (HW_SWIZZLESIZER) Bit Definitions
                            10664 ; 193  |#define HW_SWIZZLESIZER_SIZE_BITPOS (0)
                            10665 ; 194  |#define HW_SWIZZLESIZER_NEW_SHIFT_BITPOS (16)
                            10666 ; 195  |#define HW_SWIZZLESIZER_RSVD_BITPOS (21)
                            10667 ; 196  |
                            10668 ; 197  |#define HW_SWIZZLESIZER_SIZE_WIDTH (16)
                            10669 ; 198  |#define HW_SWIZZLESIZER_NEW_SHIFT_WIDTH (5)
                            10670 ; 199  |#define HW_SWIZZLESIZER_RSVD_WIDTH (3)
                            10671 ; 200  |
                            10672 ; 201  |#define HW_SWIZZLESIZER_SIZE_SETMASK (((1<HW_SWIZZLESIZER_SIZE_WIDTH)-1)<<HW_SWIZZLESIZER_SIZE_BITPOS)
                            10673 ; 202  |#define HW_SWIZZLESIZER_NEW_SHIFT_SETMASK (((1<HW_SWIZZLESIZER_NEW_SHIFT_WIDTH)-1)<<HW_SWIZZLESIZER_NEW_SHIFT_BITPOS)
                            10674 ; 203  |#define HW_SWIZZLESIZER_RSVD_SETMASK (((1<HW_SWIZZLESIZER_RSVD_WIDTH)-1)<<HW_SWIZZLESIZER_RSVD_BITPOS)
                            10675 ; 204  |
                            10676 ; 205  |#define HW_SWIZZLESIZER_SIZE_CLRMASK (~(WORD)HW_SWIZZLESIZER_SIZE_SETMASK)
                            10677 ; 206  |#define HW_SWIZZLESIZER_NEW_SHIFT_CLRMASK (~(WORD)HW_SWIZZLESIZER_NEW_SHIFT_SETMASK)
                            10678 ; 207  |#define HW_SWIZZLESIZER_RSVD_CLRMASK (~(WORD)HW_SWIZZLESIZER_RSVD_SETMASK)
                            10679 ; 208  |
                            10680 ; 209  |///////////////////////////////////////////////////////////////////////////////
                            10681 ; 210  |typedef union
                            10682 ; 211  |{
                            10683 ; 212  |    struct
                            10684 ; 213  |    {
                            10685 ; 214  |    unsigned SIZE      :16;        /* Number of memory words to manipulate */
                            10686 ; 215  |    unsigned NEW_SHIFT :5;         /* Source memory Select                 */
                            10687 ; 216  |    } B;
                            10688 ; 217  |    int I;
                            10689 ; 218  |    unsigned U;
                            10690 ; 219  |} swizzlesizer_type;
                            10691 ; 220  |///////////////////////////////////////////////////////////////////////////////
                            10692 ; 221  |#define HW_SWIZZLESIZER (*(volatile swizzlesizer_type _X*) (HW_SWIZZLE_BASEADDR+2))        /* Swizzle Transfer Size Register */
                            10693 ; 222  |#define HW_SWIZZLESOURCER (*(volatile unsigned int _X*) (HW_SWIZZLE_BASEADDR+3))      /* Swizzle Source Address Register */
                            10694 ; 223  |#define HW_SWIZZLEDATA1R (*(volatile unsigned int _X*) (HW_SWIZZLE_BASEADDR+4))       /* Swizzle Data1 Register */
                            10695 ; 224  |#define HW_SWIZZLEDATA2R (*(volatile unsigned int _X*) (HW_SWIZZLE_BASEADDR+5))       /* Swizzle Data2 Register */
                            10696 ; 225  |#define HW_SWIZZLEDESTADDRR (*(volatile unsigned int _X*) (HW_SWIZZLE_BASEADDR+6))    /* Swizzle Destination Address Register */
                            10697 ; 226  |#define HW_SWIZZLEBIGENDIANR (*(volatile unsigned int _X*) (HW_SWIZZLE_BASEADDR+7))   /* Swizzle Big Endian Register */
                            10698 ; 227  |#define HW_SWIZZLEBITREVR (*(volatile unsigned int _X*) (HW_SWIZZLE_BASEADDR+8))      /* Swizzle BITREV Register */
                            10699 ; 228  |#define HW_SWIZZLEPASSLSBR (*(volatile unsigned int _X*) (HW_SWIZZLE_BASEADDR+9))     /* Swizzle Pass Least Significant Byte Register */
                            10700 ; 229  |#define HW_SWIZZLEPASSISBR (*(volatile unsigned int _X*) (HW_SWIZZLE_BASEADDR+10))    /* Swizzle Pass Intermediate Byte Register */
                            10701 ; 230  |#define HW_SWIZZLEPASSMSBR (*(volatile unsigned int _X*) (HW_SWIZZLE_BASEADDR+11))    /* Swizzle Pass Most Significant Byte Register */
                            10702 ; 231  |#define HW_SWIZZLEPASSLSWR (*(volatile unsigned int _X*) (HW_SWIZZLE_BASEADDR+12))    /* Swizzle Pass Least Significant Word Register */
                            10703 ; 232  |#define HW_SWIZZLEPASSISWR (*(volatile unsigned int _X*) (HW_SWIZZLE_BASEADDR+13))    /* Swizzle Pass Intermediate Significant Word Register */
                            10704 ; 233  |#define HW_SWIZZLEPASSMSWR (*(volatile unsigned int _X*) (HW_SWIZZLE_BASEADDR+14))    /* Swizzle Pass Most Significant Word Register */
                            10705 ; 234  |#define HW_SWIZZLEBARRELR (*(volatile unsigned int _X*) (HW_SWIZZLE_BASEADDR+15))    /* Swizzle Barrel Shift Register */
                            10706 ; 235  |#define HW_SWIZZLEDIV3LR (*(volatile unsigned int _X*) (HW_SWIZZLE_BASEADDR+16))    /* Swizzle Divide By 3 Lower Register */
                            10707 ; 236  |
                            10708 ; 237  |
                            10709 ; 238  |////  Swizzle DIV3UR (HW_SWIZZLEDIV3UR) Bit Definitions
                            10710 ; 239  |#define HW_SWIZZLEDIV3UR_DIV3_UPPER_BITPOS (0)
                            10711 ; 240  |#define HW_SWIZZLEDIV3UR_RSVD0_BITPOS (8)
                            10712 ; 241  |#define HW_SWIZZLEDIV3UR_REMAINDER_BITPOS (20)
                            10713 ; 242  |#define HW_SWIZZLEDIV3UR_RSVD1_BITPOS (22)
                            10714 ; 243  |
                            10715 ; 244  |#define HW_SWIZZLEDIV3UR_DIV3_UPPER_WIDTH (8)
                            10716 ; 245  |#define HW_SWIZZLEDIV3UR_RSVD0_WIDTH (12)
                            10717 ; 246  |#define HW_SWIZZLEDIV3UR_REMAINDER_WIDTH (2)
                            10718 ; 247  |#define HW_SWIZZLEDIV3UR_RSVD1_WIDTH (2)
                            10719 ; 248  |
                            10720 ; 249  |#define HW_SWIZZLEDIV3UR_DIV3_UPPER_SETMASK (((1<HW_SWIZZLEDIV3UR_DIV3_UPPER_WIDTH)-1)<<HW_SWIZZLEDIV3UR_DIV3_UPPER_BITPOS)
                            10721 ; 250  |#define HW_SWIZZLEDIV3UR_RSVD0_SETMASK (((1<HW_SWIZZLEDIV3UR_RSVD0_WIDTH)-1)<<HW_SWIZZLEDIV3UR_RSVD0_BITPOS)
                            10722 ; 251  |#define HW_SWIZZLEDIV3UR_REMAINDER_SETMASK (((1<HW_SWIZZLEDIV3UR_REMAINDER_WIDTH)-1)<<HW_SWIZZLEDIV3UR_REMAINDER_BITPOS)
                            10723 ; 252  |#define HW_SWIZZLEDIV3UR_RSVD1_SETMASK (((1<HW_SWIZZLEDIV3UR_RSVD1_WIDTH)-1)<<HW_SWIZZLEDIV3UR_RSVD1_BITPOS)
                            10724 ; 253  |
                            10725 ; 254  |#define HW_SWIZZLEDIV3UR_DIV3_UPPER_CLRMASK (~(WORD)HW_SWIZZLEDIV3UR_DIV3_UPPER_SETMASK)
                            10726 ; 255  |#define HW_SWIZZLEDIV3UR_RSVD0_CLRMASK (~(WORD)HW_SWIZZLEDIV3UR_RSVD0_SETMASK)
                            10727 ; 256  |#define HW_SWIZZLEDIV3UR_REMAINDER_CLRMASK (~(WORD)HW_SWIZZLEDIV3UR_REMAINDER_SETMASK)
                            10728 ; 257  |#define HW_SWIZZLEDIV3UR_RSVD1_CLRMASK (~(WORD)HW_SWIZZLEDIV3UR_RSVD1_SETMASK)
                            10729 ; 258  |
                            10730 ; 259  |///////////////////////////////////////////////////////////////////////////////
                            10731 ; 260  |typedef union
                            10732 ; 261  |{
                            10733 ; 262  |    struct
                            10734 ; 263  |    {
                            10735 ; 264  |    unsigned DIV3_UPPER    :8;     /* Number of memory words to manipulate */
                            10736 ; 265  |    unsigned RSVD0         :12;         /* Source memory Select                 */
                            10737 ; 266  |    unsigned REMAINDER     :2;         /* Source memory Select                 */
                            10738 ; 267  |    } B;
                            10739 ; 268  |    int I;
                            10740 ; 269  |    unsigned U;
                            10741 ; 270  |} swizzlediv3ur_type;
                            10742 ; 271  |///////////////////////////////////////////////////////////////////////////////
                            10743 ; 272  |#define HW_SWIZZLEDIV3UR (*(volatile swizzlediv3ur_type _X*) (HW_SWIZZLE_BASEADDR+17))    /* Swizzle Divide By 3 Upper Register */
                            10744 ; 273  |
                            10745 ; 274  |#endif
                            10746 ; 275  |
                            10747 
                            10749 
                            10750 ; 33   |#include "regssdram.h"
                            10751 
                            10753 
                            10754 ; 1    |//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                            10755 ; 2    |//;  Copyright(C) SigmaTel, Inc. 2002-2003
                            10756 ; 3    |//;  File        : regssdram.inc
                            10757 ; 4    |//;  Description : Mixed Signal IP Register definition
                            10758 ; 5    |//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                            10759 ; 6    |
                            10760 ; 7    |// The following naming conventions are followed in this file.
                            10761 ; 8    |// All registers are named using the format...
                            10762 ; 9    |//     HW_<module>_<regname>
                            10763 ; 10   |// where <module> is the module name which can be any of the following...
                            10764 ; 11   |//     SYSTEM
                            10765 ; 12   |// (Note that when there is more than one copy of a particular module, the
                            10766 ; 13   |// module name includes a number starting from 0 for the first instance of
                            10767 ; 14   |// that module)
                            10768 ; 15   |// <regname> is the specific register within that module
                            10769 ; 16   |// We also define the following...
                            10770 ; 17   |//     HW_<module>_<regname>_BITPOS
                            10771 ; 18   |// which defines the starting bit (i.e. LSB) of a multi bit field
                            10772 ; 19   |//     HW_<module>_<regname>_SETMASK
                            10773 ; 20   |// which does something else, and
                            10774 ; 21   |//     HW_<module>_<regname>_CLRMASK
                            10775 ; 22   |// which does something else.
                            10776 ; 23   |// Other rules
                            10777 ; 24   |//     All caps
                            10778 ; 25   |//     Numeric identifiers start at 0
                            10779 ; 26   |
                            10780 ; 27   |#if !(defined(regssdraminc))
                            10781 ; 28   |#define regssdraminc 1
                            10782 ; 29   |
                            10783 ; 30   |#include "types.h"
                            10784 
                            10786 
                            10787 ; 1    |////////////////////////////////////////////////////////////////////////////////
                            10788 ; 2    |// Copyright(C) SigmaTel, Inc. 2000-2004
                            10789 ; 3    |//
                            10790 ; 4    |// Filename: types.h
                            10791 ; 5    |// Description: Standard data types
                            10792 ; 6    |////////////////////////////////////////////////////////////////////////////////
                            10793 ; 7    |
                            10794 ; 8    |#ifndef _TYPES_H
                            10795 ; 9    |#define _TYPES_H
                            10796 ; 10   |
                            10797 ; 11   |// TODO:  move this outta here!
                            10798 ; 12   |#if !defined(NOERROR)
                            10799 ; 13   |#define NOERROR 0
                            10800 ; 14   |#define SUCCESS 0
                            10801 ; 15   |#endif 
                            10802 ; 16   |#if !defined(SUCCESS)
                            10803 ; 17   |#define SUCCESS  0
                            10804 ; 18   |#endif
                            10805 ; 19   |#if !defined(ERROR)
                            10806 ; 20   |#define ERROR   -1
                            10807 ; 21   |#endif
                            10808 ; 22   |#if !defined(FALSE)
                            10809 ; 23   |#define FALSE 0
                            10810 ; 24   |#endif
                            10811 ; 25   |#if !defined(TRUE)
                            10812 ; 26   |#define TRUE  1
                            10813 ; 27   |#endif
                            10814 ; 28   |
                            10815 ; 29   |#if !defined(NULL)
                            10816 ; 30   |#define NULL 0
                            10817 ; 31   |#endif
                            10818 ; 32   |
                            10819 ; 33   |#define MAX_INT     0x7FFFFF
                            10820 ; 34   |#define MAX_LONG    0x7FFFFFffffff
                            10821 ; 35   |        // max positive unsigned long value: -1 == 0xFFFFFFffffff
                            10822 ; 36   |#define MAX_ULONG   (-1) 
                            10823 ; 37   |
                            10824 ; 38   |#define WORD_SIZE   24              // word size in bits
                            10825 ; 39   |#define BYTES_PER_WORD 3            // 8 bit bytes
                            10826 ; 40   |
                            10827 ; 41   |
                            10828 ; 42   |#define BYTE    unsigned char       // btVarName
                            10829 ; 43   |#define CHAR    signed char         // cVarName
                            10830 ; 44   |#define USHORT  unsigned short      // usVarName
                            10831 ; 45   |#define SHORT   unsigned short      // sVarName
                            10832 ; 46   |#define WORD    unsigned int        // wVarName
                            10833 ; 47   |#define INT     signed int          // iVarName
                            10834 ; 48   |#define DWORD   unsigned long       // dwVarName
                            10835 ; 49   |#define LONG    signed long         // lVarName
                            10836 ; 50   |#define BOOL    unsigned int        // bVarName
                            10837 ; 51   |#define FRACT   _fract              // frVarName
                            10838 ; 52   |#define LFRACT  long _fract         // lfrVarName
                            10839 ; 53   |#define CIRC    _circ               // cp<type prefix>VarName (see below)
                            10840 ; 54   |#define FLOAT   float               // fVarName
                            10841 ; 55   |#define DBL     double              // dVarName
                            10842 ; 56   |#define ENUM    enum                // eVarName
                            10843 ; 57   |#define CMX     _complex            // cmxVarName
                            10844 ; 58   |typedef WORD UCS3;                   // 
                            10845 ; 59   |
                            10846 ; 60   |#define UINT16  unsigned short
                            10847 ; 61   |#define UINT8   unsigned char   
                            10848 ; 62   |#define UINT32  unsigned long
                            10849 ; 63   |#define UINT64  unsigned long   // need to figure out how to do 64 bit values.  Or port exisiting code to only use 48 bit
                            10850 ; 64   |#define INT64   unsigned long   // need to figure out how to do 64 bit values.  Or port exisiting code to only use 48 bit
                            10851 ; 65   |#define WCHAR   UINT16
                            10852 ; 66   |
                            10853 ; 67   |//UINT128 is 16 bytes or 6 words
                            10854 ; 68   |typedef struct UINT128_3500 {   
                            10855 ; 69   |    int val[6];     
                            10856 ; 70   |} UINT128_3500;
                            10857 ; 71   |
                            10858 ; 72   |#define UINT128   UINT128_3500
                            10859 ; 73   |
                            10860 ; 74   |// Little endian word packed byte strings:   
                            10861 ; 75   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                            10862 ; 76   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                            10863 ; 77   |// Little endian word packed byte strings:   
                            10864 ; 78   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                            10865 ; 79   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                            10866 ; 80   |
                            10867 ; 81   |// Declare Memory Spaces To Use When Coding
                            10868 ; 82   |// A. Sector Buffers
                            10869 ; 83   |#define SECTOR_BUFFER_MEM_X _X
                            10870 ; 84   |#define SECTOR_BUFFER_MEM_Y _Y
                            10871 ; 85   |#define SECTOR_BUFFER_MEM SECTOR_BUFFER_MEM_X
                            10872 ; 86   |typedef WORD SECTOR_BUFFER_MEM SECTOR_BUFFER;
                            10873 ; 87   |typedef SECTOR_BUFFER * P_SECTOR_BUFFER;
                            10874 ; 88   |// B. Media DDI Memory
                            10875 ; 89   |#define MEDIA_DDI_MEM _Y
                            10876 ; 90   |
                            10877 ; 91   |
                            10878 ; 92   |
                            10879 ; 93   |// Pointers to linear structures are labeled as: p<type prefix>VarName
                            10880 ; 94   |// Examples of circular pointers:
                            10881 ; 95   |//    INT CIRC cpiVarName
                            10882 ; 96   |//    DWORD CIRC cpdwVarName
                            10883 ; 97   |
                            10884 ; 98   |#define RETCODE INT                 // rcVarName
                            10885 ; 99   |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page  44

M:ADDR CODE           CYCLES LINE SOURCELINE
                            10886 ; 100  |// generic bitfield structure
                            10887 ; 101  |struct Bitfield {
                            10888 ; 102  |    unsigned int B0  :1;
                            10889 ; 103  |    unsigned int B1  :1;
                            10890 ; 104  |    unsigned int B2  :1;
                            10891 ; 105  |    unsigned int B3  :1;
                            10892 ; 106  |    unsigned int B4  :1;
                            10893 ; 107  |    unsigned int B5  :1;
                            10894 ; 108  |    unsigned int B6  :1;
                            10895 ; 109  |    unsigned int B7  :1;
                            10896 ; 110  |    unsigned int B8  :1;
                            10897 ; 111  |    unsigned int B9  :1;
                            10898 ; 112  |    unsigned int B10 :1;
                            10899 ; 113  |    unsigned int B11 :1;
                            10900 ; 114  |    unsigned int B12 :1;
                            10901 ; 115  |    unsigned int B13 :1;
                            10902 ; 116  |    unsigned int B14 :1;
                            10903 ; 117  |    unsigned int B15 :1;
                            10904 ; 118  |    unsigned int B16 :1;
                            10905 ; 119  |    unsigned int B17 :1;
                            10906 ; 120  |    unsigned int B18 :1;
                            10907 ; 121  |    unsigned int B19 :1;
                            10908 ; 122  |    unsigned int B20 :1;
                            10909 ; 123  |    unsigned int B21 :1;
                            10910 ; 124  |    unsigned int B22 :1;
                            10911 ; 125  |    unsigned int B23 :1;
                            10912 ; 126  |};
                            10913 ; 127  |
                            10914 ; 128  |union BitInt {
                            10915 ; 129  |        struct Bitfield B;
                            10916 ; 130  |        int        I;
                            10917 ; 131  |};
                            10918 ; 132  |
                            10919 ; 133  |#define MAX_MSG_LENGTH 10
                            10920 ; 134  |struct CMessage
                            10921 ; 135  |{
                            10922 ; 136  |        unsigned int m_uLength;
                            10923 ; 137  |        unsigned int m_uMsg[MAX_MSG_LENGTH];
                            10924 ; 138  |};
                            10925 ; 139  |
                            10926 ; 140  |typedef struct {
                            10927 ; 141  |    WORD m_wLength;
                            10928 ; 142  |    WORD m_wMessage;
                            10929 ; 143  |    WORD m_wParams[MAX_MSG_LENGTH];
                            10930 ; 144  |} Message;
                            10931 ; 145  |
                            10932 ; 146  |struct MessageQueueDescriptor
                            10933 ; 147  |{
                            10934 ; 148  |        int *m_pBase;
                            10935 ; 149  |        int m_iModulo;
                            10936 ; 150  |        int m_iSize;
                            10937 ; 151  |        int *m_pHead;
                            10938 ; 152  |        int *m_pTail;
                            10939 ; 153  |};
                            10940 ; 154  |
                            10941 ; 155  |struct ModuleEntry
                            10942 ; 156  |{
                            10943 ; 157  |    int m_iSignaledEventMask;
                            10944 ; 158  |    int m_iWaitEventMask;
                            10945 ; 159  |    int m_iResourceOfCode;
                            10946 ; 160  |    struct MessageQueueDescriptor *m_pMessageQueue;
                            10947 ; 161  |    int _asmfunc (*m_pProcessEntryPoint)(union WaitMask Signals,struct MessageQueueDescriptor *);
                            10948 ; 162  |    int _asmfunc (*m_pInitFunction)(struct MessageQueueDescriptor *);
                            10949 ; 163  |    int m_uTimeOutHigh;
                            10950 ; 164  |    int m_uTimeOutLow;
                            10951 ; 165  |    int _asmfunc (*m_pBackgroundFunction)(struct MessageQueueDescriptor *);
                            10952 ; 166  |};
                            10953 ; 167  |
                            10954 ; 168  |union WaitMask{
                            10955 ; 169  |    struct B{
                            10956 ; 170  |        unsigned int m_bNone     :1;
                            10957 ; 171  |        unsigned int m_bMessage  :1;
                            10958 ; 172  |        unsigned int m_bTimer    :1;
                            10959 ; 173  |        unsigned int m_bButton   :1;
                            10960 ; 174  |    } B;
                            10961 ; 175  |    int I;
                            10962 ; 176  |} ;
                            10963 ; 177  |
                            10964 ; 178  |
                            10965 ; 179  |struct Button {
                            10966 ; 180  |        WORD wButtonEvent;
                            10967 ; 181  |        WORD wUnused[MAX_MSG_LENGTH];   
                            10968 ; 182  |};
                            10969 ; 183  |
                            10970 ; 184  |struct Message {
                            10971 ; 185  |        WORD wMsgLength;
                            10972 ; 186  |        WORD wMsgCommand;
                            10973 ; 187  |        WORD wMsgParms[MAX_MSG_LENGTH-1];
                            10974 ; 188  |};
                            10975 ; 189  |
                            10976 ; 190  |union EventTypes {
                            10977 ; 191  |        struct CMessage msg;
                            10978 ; 192  |        struct Button Button ;
                            10979 ; 193  |        struct Message Message;
                            10980 ; 194  |};
                            10981 ; 195  |
                            10982 ; 196  |// next 2 used to get updater build to return correct protocol ver in scsi response.
                            10983 ; 197  |#define BUILD_TYPE_UPDATER  0x100
                            10984 ; 198  |#define BUILD_TYPE_HOSTLINK 0x101
                            10985 ; 199  |#define BUILD_TYPE_PLAYER   0x102
                            10986 ; 200  |
                            10987 ; 201  |// Resets part if RETAIL build. DEBUG build executes debug instruction to halt.
                            10988 ; 202  |#define SystemHalt() __asm(" include 'sysmacro.asm' \n error") 
                            10989 ; 203  |#define assert(x)    if(!(x)) __asm(" include 'sysmacro.asm' \n error")
                            10990 ; 204  |
                            10991 ; 205  |#if DEBUG
                            10992 ; 206  |// For DEBUG builds, DebugBuildAssert(condition) halts if condition evaluates to FALSE. 
                            10993 ; 207  |#define DebugBuildAssert(x)    if(!(x)) __asm(" debug ")
                            10994 ; 208  |#else 
                            10995 ; 209  |// For RETAIL builds, DebugBuildAssert(condition) does nothing & execution continues rather than halt or reset. 
                            10996 ; 210  |#define DebugBuildAssert(x)    
                            10997 ; 211  |#endif
                            10998 ; 212  |
                            10999 ; 213  |// Do this in your C files to make a reminder that's displayed during the build.
                            11000 ; 214  |//  #pragma asm
                            11001 ; 215  |//  WARN 'Note to builder: reminder to do this after verifying that'
                            11002 ; 216  |//  #pragma endasm
                            11003 ; 217  |
                            11004 ; 218  |
                            11005 ; 219  |#ifdef COLOR_262K
                            11006 ; 220  |#define RGB(r,g,b)    ((0x0000FC & (r)) << 10) | ((0x0000FC & (g)) << 4) | ((0x0000FC & (b)) >> 2)    //262k
                            11007 ; 221  |#elif defined(COLOR_65K)
                            11008 ; 222  |#define RGB(r,g,b)    ((0x0000F8 & (r)) << 8) | ((0x0000FC & (g)) << 3) | ((0x0000F8 & (b)) >> 3)  //65k
                            11009 ; 223  |#else
                            11010 ; 224  |#define RGB(r,g,b)       ((0x0000F0 & (r)) << 4) | (0x0000F0 & (g)) | ((0x0000F0 & (b)) >> 4)
                            11011 ; 225  |#endif
                            11012 ; 226  |    
                            11013 ; 227  |#endif // #ifndef _TYPES_H
                            11014 
                            11016 
                            11017 ; 31   |
                            11018 ; 32   |#define HW_SDRAM_BASEADDR 0xF900
                            11019 ; 33   |
                            11020 ; 34   |
                            11021 ; 35   |/////////////////////////////////////////////////////////////////////////////////
                            11022 ; 36   |//  SDRAM CSR (HW_SDRAM_CSR) Bit Definitions
                            11023 ; 37   |#define HW_SDRAM_CSR_SDRAMEN_BITPOS 0
                            11024 ; 38   |#define HW_SDRAM_CSR_IE_BITPOS 1
                            11025 ; 39   |#define HW_SDRAM_CSR_RNW_BITPOS 2
                            11026 ; 40   |#define HW_SDRAM_CSR_KICK_BITPOS 3
                            11027 ; 41   |#define HW_SDRAM_CSR_LM_BITPOS 4
                            11028 ; 42   |#define HW_SDRAM_CSR_ISTAT_BITPOS 5
                            11029 ; 43   |#define HW_SDRAM_CSR_PWDN_BITPOS 6
                            11030 ; 44   |#define HW_SDRAM_CSR_SBYTE_BITPOS 8
                            11031 ; 45   |#define HW_SDRAM_CSR_MEM_BITPOS 10
                            11032 ; 46   |#define HW_SDRAM_CSR_BIGE_BITPOS 12
                            11033 ; 47   |#define HW_SDRAM_CSR_ASIZE_BITPOS 13
                            11034 ; 48   |#define HW_SDRAM_CSR_UKICK_BITPOS 16
                            11035 ; 49   |#define HW_SDRAM_CSR_DIV_BITPOS 17
                            11036 ; 50   |#define HW_SDRAM_CSR_MULTI_BITPOS 21
                            11037 ; 51   |#define HW_SDRAM_CSR_SDRAM_BITPOS 22
                            11038 ; 52   |#define HW_SDRAM_CSR_SIGN_BITPOS 23
                            11039 ; 53   |
                            11040 ; 54   |#define HW_SDRAM_CSR_SDRAMEN_WIDTH 1
                            11041 ; 55   |#define HW_SDRAM_CSR_IE_WIDTH 1
                            11042 ; 56   |#define HW_SDRAM_CSR_RNW_WIDTH 1
                            11043 ; 57   |#define HW_SDRAM_CSR_KICK_WIDTH 1
                            11044 ; 58   |#define HW_SDRAM_CSR_LM_WIDTH 1
                            11045 ; 59   |#define HW_SDRAM_CSR_ISTAT_WIDTH 1
                            11046 ; 60   |#define HW_SDRAM_CSR_PWDN_WIDTH 1
                            11047 ; 61   |#define HW_SDRAM_CSR_SBYTE_WIDTH 2
                            11048 ; 62   |#define HW_SDRAM_CSR_MEM_WIDTH 2
                            11049 ; 63   |#define HW_SDRAM_CSR_BIGE_WIDTH 1
                            11050 ; 64   |#define HW_SDRAM_CSR_ASIZE_WIDTH 3
                            11051 ; 65   |#define HW_SDRAM_CSR_UKICK_WIDTH 1
                            11052 ; 66   |#define HW_SDRAM_CSR_DIV_WIDTH 4
                            11053 ; 67   |#define HW_SDRAM_CSR_MULTI_WIDTH 1
                            11054 ; 68   |#define HW_SDRAM_CSR_SDRAM_WIDTH 1
                            11055 ; 69   |#define HW_SDRAM_CSR_SIGN_WIDTH 1
                            11056 ; 70   |
                            11057 ; 71   |#define HW_SDRAM_CSR_SDRAMEN_SETMASK (((1<<HW_SDRAM_CSR_SDRAMEN_WIDTH)-1)<<HW_SDRAM_CSR_SDRAMEN_BITPOS)
                            11058 ; 72   |#define HW_SDRAM_CSR_IE_SETMASK (((1<<HW_SDRAM_CSR_IE_WIDTH)-1)<<HW_SDRAM_CSR_IE_BITPOS)
                            11059 ; 73   |#define HW_SDRAM_CSR_RNW_SETMASK (((1<<HW_SDRAM_CSR_RNW_WIDTH)-1)<<HW_SDRAM_CSR_RNW_BITPOS)
                            11060 ; 74   |#define HW_SDRAM_CSR_KICK_SETMASK (((1<<HW_SDRAM_CSR_KICK_WIDTH)-1)<<HW_SDRAM_CSR_KICK_BITPOS)
                            11061 ; 75   |#define HW_SDRAM_CSR_LM_SETMASK (((1<<HW_SDRAM_CSR_LM_WIDTH)-1)<<HW_SDRAM_CSR_LM_BITPOS)
                            11062 ; 76   |#define HW_SDRAM_CSR_ISTAT_SETMASK (((1<<HW_SDRAM_CSR_ISTAT_WIDTH)-1)<<HW_SDRAM_CSR_ISTAT_BITPOS)
                            11063 ; 77   |#define HW_SDRAM_CSR_PWDN_SETMASK (((1<<HW_SDRAM_CSR_PWDN_WIDTH)-1)<<HW_SDRAM_CSR_PWDN_BITPOS)
                            11064 ; 78   |#define HW_SDRAM_CSR_SBYTE_SETMASK (((1<<HW_SDRAM_CSR_SBYTE_WIDTH)-1)<<HW_SDRAM_CSR_SBYTE_BITPOS)
                            11065 ; 79   |#define HW_SDRAM_CSR_MEM_SETMASK (((1<<HW_SDRAM_CSR_MEM_WIDTH)-1)<<HW_SDRAM_CSR_MEM_BITPOS)
                            11066 ; 80   |#define HW_SDRAM_CSR_BIGE_SETMASK (((1<<HW_SDRAM_CSR_BIGE_WIDTH)-1)<<HW_SDRAM_CSR_BIGE_BITPOS)
                            11067 ; 81   |#define HW_SDRAM_CSR_ASIZE_SETMASK (((1<<HW_SDRAM_CSR_ASIZE_WIDTH)-1)<<HW_SDRAM_CSR_ASIZE_BITPOS)
                            11068 ; 82   |#define HW_SDRAM_CSR_UKICK_SETMASK (((1<<HW_SDRAM_CSR_UKICK_WIDTH)-1)<<HW_SDRAM_CSR_UKICK_BITPOS)
                            11069 ; 83   |#define HW_SDRAM_CSR_DIV_SETMASK (((1<<HW_SDRAM_CSR_DIV_WIDTH)-1)<<HW_SDRAM_CSR_DIV_BITPOS)
                            11070 ; 84   |#define HW_SDRAM_CSR_MULTI_SETMASK (((1<<HW_SDRAM_CSR_MULTI_WIDTH)-1)<<HW_SDRAM_CSR_MULTI_BITPOS)
                            11071 ; 85   |#define HW_SDRAM_CSR_SDRAM_SETMASK (((1<<HW_SDRAM_CSR_SDRAM_WIDTH)-1)<<HW_SDRAM_CSR_SDRAM_BITPOS)
                            11072 ; 86   |#define HW_SDRAM_CSR_SIGN_SETMASK (((1<<HW_SDRAM_CSR_SIGN_WIDTH)-1)<<HW_SDRAM_CSR_SIGN_BITPOS)
                            11073 ; 87   |
                            11074 ; 88   |#define HW_SDRAM_CSR_SDRAMEN_CLRMASK ~(WORD)HW_SDRAM_CSR_SDRAMEN_SETMASK
                            11075 ; 89   |#define HW_SDRAM_CSR_IE_CLRMASK ~(WORD)HW_SDRAM_CSR_IE_SETMASK
                            11076 ; 90   |#define HW_SDRAM_CSR_RNW_CLRMASK ~(WORD)HW_SDRAM_CSR_RNW_SETMASK
                            11077 ; 91   |#define HW_SDRAM_CSR_KICK_CLRMASK ~(WORD)HW_SDRAM_CSR_KICK_SETMASK
                            11078 ; 92   |#define HW_SDRAM_CSR_LM_CLRMASK ~(WORD)HW_SDRAM_CSR_LM_SETMASK
                            11079 ; 93   |#define HW_SDRAM_CSR_ISTAT_CLRMASK ~(WORD)HW_SDRAM_CSR_ISTAT_SETMASK
                            11080 ; 94   |#define HW_SDRAM_CSR_PWDN_CLRMASK ~(WORD)HW_SDRAM_CSR_PWDN_SETMASK
                            11081 ; 95   |#define HW_SDRAM_CSR_SBYTE_CLRMASK ~(WORD)HW_SDRAM_CSR_SBYTE_SETMASK
                            11082 ; 96   |#define HW_SDRAM_CSR_MEM_CLRMASK ~(WORD)HW_SDRAM_CSR_MEM_SETMASK
                            11083 ; 97   |#define HW_SDRAM_CSR_BIGE_CLRMASK ~(WORD)HW_SDRAM_CSR_BIGE_SETMASK
                            11084 ; 98   |#define HW_SDRAM_CSR_ASIZE_CLRMASK ~(WORD)HW_SDRAM_CSR_ASIZE_SETMASK
                            11085 ; 99   |#define HW_SDRAM_CSR_UKICK_CLRMASK ~(WORD)HW_SDRAM_CSR_UKICK_SETMASK
                            11086 ; 100  |#define HW_SDRAM_CSR_DIV_CLRMASK ~(WORD)HW_SDRAM_CSR_DIV_SETMASK
                            11087 ; 101  |#define HW_SDRAM_CSR_MULTI_CLRMASK ~(WORD)HW_SDRAM_CSR_MULTI_SETMASK
                            11088 ; 102  |#define HW_SDRAM_CSR_SDRAM_CLRMASK ~(WORD)HW_SDRAM_CSR_SDRAM_SETMASK
                            11089 ; 103  |#define HW_SDRAM_CSR_SIGN_CLRMASK ~(WORD)HW_SDRAM_CSR_SIGN_SETMASK
                            11090 ; 104  |
                            11091 ; 105  |typedef union               
                            11092 ; 106  |{
                            11093 ; 107  |    struct {
                            11094 ; 108  |        int SDRAMEN                     :1;
                            11095 ; 109  |        int IE                          :1;
                            11096 ; 110  |        int RNW                         :1;
                            11097 ; 111  |        int KICK                        :1;
                            11098 ; 112  |        int LM                          :1;
                            11099 ; 113  |        int ISTAT                       :1;
                            11100 ; 114  |        int PWDN                        :1;
                            11101 ; 115  |        int RSVD                        :1;
                            11102 ; 116  |        int SBYTE                       :2;
                            11103 ; 117  |        int MEM                         :2;
                            11104 ; 118  |        int BIGE                        :1;
                            11105 ; 119  |        int ASIZE                       :3;
                            11106 ; 120  |        int UKICK                       :1;
                            11107 ; 121  |        int DIV                         :4;
                            11108 ; 122  |        int MULTI                       :1;
                            11109 ; 123  |        int SDRAM                       :1;
                            11110 ; 124  |        int SIGN                        :1;
                            11111 ; 125  |    } B;
                            11112 ; 126  |    int I;
                            11113 ; 127  |} sdramcsr_type;
                            11114 ; 128  |#define HW_SDRAM_CSR (*(volatile sdramcsr_type _X*) (HW_SDRAM_BASEADDR))        
                            11115 ; 129  |#define HW_SDRAM_ADDR1 (*(volatile unsigned int _X*) (HW_SDRAM_BASEADDR+1))
                            11116 ; 130  |#define HW_SDRAM_ADDR2 (*(volatile unsigned int _X*) (HW_SDRAM_BASEADDR+2))
                            11117 ; 131  |#define HW_SDRAM_SYSADDR (*(volatile unsigned int _X*) (HW_SDRAM_BASEADDR+3))
                            11118 ; 132  |#define HW_SDRAM_SIZE (*(volatile unsigned int _X*) (HW_SDRAM_BASEADDR+4))
                            11119 ; 133  |#define HW_SDRAM_BAR (*(volatile unsigned int _X*) (HW_SDRAM_BASEADDR+7))
                            11120 ; 134  |#define HW_SDRAM_MR (*(volatile unsigned int _X*) (HW_SDRAM_BASEADDR+8))
                            11121 ; 135  |#define HW_SDRAM_DBAR1 (*(volatile unsigned int _X*) (HW_SDRAM_BASEADDR+9))
                            11122 ; 136  |#define HW_SDRAM_DBAR2 (*(volatile unsigned int _X*) (HW_SDRAM_BASEADDR+10))
                            11123 ; 137  |#define HW_SDRAM_DMR1 (*(volatile unsigned int _X*) (HW_SDRAM_BASEADDR+11))
                            11124 ; 138  |#define HW_SDRAM_DMR2 (*(volatile unsigned int _X*) (HW_SDRAM_BASEADDR+12))
                            11125 ; 139  |
                            11126 ; 140  |/////////////////////////////////////////////////////////////////////////////////
                            11127 ; 141  |//  SDRAM Start Address Low Register (HW_SDRAM_ADDR1) Bit Definitions
                            11128 ; 142  |#define HW_SDRAM_ADDR1_XA_BITPOS 0
                            11129 ; 143  |
                            11130 ; 144  |#define HW_SDRAM_ADDR1_XA_SETMASK 0xFFFFFF<<HW_SDRAM_ADDR1_XA_BITPOS
                            11131 ; 145  |
                            11132 ; 146  |#define HW_SDRAM_ADDR1_XA_CLRMASK ~(WORD)HW_SDRAM_ADDR1_XA_SETMASK
                            11133 ; 147  |
                            11134 ; 148  |/////////////////////////////////////////////////////////////////////////////////
                            11135 ; 149  |//  SDRAM Start Address High Register (HW_SDRAM_ADDR2) Bit Definitions
                            11136 ; 150  |#define HW_SDRAM_ADDR2_XA_BITPOS 0
                            11137 ; 151  |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page  45

M:ADDR CODE           CYCLES LINE SOURCELINE
                            11138 ; 152  |#define HW_SDRAM_ADDR2_XA_SETMASK 0x1F<<HW_SDRAM_ADDR2_XA_BITPOS
                            11139 ; 153  |
                            11140 ; 154  |#define HW_SDRAM_ADDR2_XA_CLRMASK ~(WORD)HW_SDRAM_ADDR2_XA_SETMASK
                            11141 ; 155  |
                            11142 ; 156  |/////////////////////////////////////////////////////////////////////////////////
                            11143 ; 157  |//  System Start Address Register (HW_SDRAM_SYSADDR) Bit Definitions
                            11144 ; 158  |#define HW_SDRAM_SYSADDR_XA_BITPOS 0
                            11145 ; 159  |
                            11146 ; 160  |#define HW_SDRAM_SYSADDR_XA_SETMASK 0xFFFF<<HW_SDRAM_SYSADDR_XA_BITPOS
                            11147 ; 161  |
                            11148 ; 162  |#define HW_SDRAM_SYSADDR_XA_CLRMASK ~(WORD)HW_SDRAM_SYSADDR_XA_SETMASK
                            11149 ; 163  |
                            11150 ; 164  |/////////////////////////////////////////////////////////////////////////////////
                            11151 ; 165  |//  Number of Bytes to be transfered Register (HW_SDRAM_SIZE) Bit Definitions
                            11152 ; 166  |#define HW_SDRAM_SIZE_XA_BITPOS 0
                            11153 ; 167  |
                            11154 ; 168  |#define HW_SDRAM_SIZE_XA_SETMASK 0x3FFFF<<HW_SDRAM_SIZE_XA_BITPOS
                            11155 ; 169  |
                            11156 ; 170  |#define HW_SDRAM_SIZE_XA_CLRMASK ~(WORD)HW_SDRAM_SIZE_XA_SETMASK
                            11157 ; 171  |
                            11158 ; 172  |/////////////////////////////////////////////////////////////////////////////////
                            11159 ; 173  |//  SDRAM Timer1 Register (HW_SDRAM_TIMER1) Bit Definitions
                            11160 ; 174  |#define HW_SDRAM_TIMER1_INIT_BITPOS 0
                            11161 ; 175  |#define HW_SDRAM_TIMER1_TRP_BITPOS 16
                            11162 ; 176  |#define HW_SDRAM_TIMER1_TRFC_BITPOS 20
                            11163 ; 177  |
                            11164 ; 178  |#define HW_SDRAM_TIMER1_INIT_WIDTH 16
                            11165 ; 179  |#define HW_SDRAM_TIMER1_TRP_WIDTH 4
                            11166 ; 180  |#define HW_SDRAM_TIMER1_TRFC_WIDTH 4
                            11167 ; 181  |
                            11168 ; 182  |#define HW_SDRAM_TIMER1_INIT_SETMASK (((1<<HW_SDRAM_TIMER1_INIT_WIDTH)-1)<<HW_SDRAM_TIMER1_INIT_BITPOS)
                            11169 ; 183  |#define HW_SDRAM_TIMER1_TRP_SETMASK (((1<<HW_SDRAM_TIMER1_TRP_WIDTH)-1)<<HW_SDRAM_TIMER1_TRP_BITPOS)
                            11170 ; 184  |#define HW_SDRAM_TIMER1_TRFC_SETMASK (((1<<HW_SDRAM_TIMER1_TRFC_WIDTH)-1)<<HW_SDRAM_TIMER1_TRFC_BITPOS)
                            11171 ; 185  |
                            11172 ; 186  |#define HW_SDRAM_TIMER1_INIT_CLRMASK ~(WORD)HW_SDRAM_TIMER1_INIT_SETMASK
                            11173 ; 187  |#define HW_SDRAM_TIMER1_TRP_CLRMASK ~(WORD)HW_SDRAM_TIMER1_TRP_SETMASK
                            11174 ; 188  |#define HW_SDRAM_TIMER1_TRFC_CLRMASK ~(WORD)HW_SDRAM_TIMER1_TRFC_SETMASK
                            11175 ; 189  |
                            11176 ; 190  |typedef union               
                            11177 ; 191  |{
                            11178 ; 192  |    struct {
                            11179 ; 193  |        int INIT                :16;
                            11180 ; 194  |        int TRP                 :4;
                            11181 ; 195  |        int TRFC                :4;
                            11182 ; 196  |    } B;
                            11183 ; 197  |    int I;
                            11184 ; 198  |} sdramtimer1_type;
                            11185 ; 199  |#define HW_SDRAM_TIMER1 (*(volatile sdramtimer1_type _X*) (HW_SDRAM_BASEADDR+5))
                            11186 ; 200  |
                            11187 ; 201  |/////////////////////////////////////////////////////////////////////////////////
                            11188 ; 202  |//  SDRAM Timer2 Register (HW_SDRAM_TIMER2) Bit Definitions
                            11189 ; 203  |#define HW_SDRAM_TIMER2_TXSR_BITPOS 0
                            11190 ; 204  |#define HW_SDRAM_TIMER2_TREF_BITPOS 4
                            11191 ; 205  |#define HW_SDRAM_TIMER2_TRCD_BITPOS 16
                            11192 ; 206  |
                            11193 ; 207  |#define HW_SDRAM_TIMER2_TXSR_WIDTH 4
                            11194 ; 208  |#define HW_SDRAM_TIMER2_TREF_WIDTH 12
                            11195 ; 209  |#define HW_SDRAM_TIMER2_TRCD_WIDTH 4
                            11196 ; 210  |
                            11197 ; 211  |#define HW_SDRAM_TIMER2_TXSR_SETMASK (((1<<HW_SDRAM_TIMER2_TXSR_WIDTH)-1)<<HW_SDRAM_TIMER2_TXSR_BITPOS)
                            11198 ; 212  |#define HW_SDRAM_TIMER2_TREF_SETMASK (((1<<HW_SDRAM_TIMER2_TREF_WIDTH)-1)<<HW_SDRAM_TIMER2_TREF_BITPOS)
                            11199 ; 213  |#define HW_SDRAM_TIMER2_TRCD_SETMASK (((1<<HW_SDRAM_TIMER2_TRCD_WIDTH)-1)<<HW_SDRAM_TIMER2_TRCD_BITPOS)
                            11200 ; 214  |
                            11201 ; 215  |#define HW_SDRAM_TIMER2_TXSR_CLRMASK ~(WORD)HW_SDRAM_TIMER2_TXSR_SETMASK
                            11202 ; 216  |#define HW_SDRAM_TIMER2_TREF_CLRMASK ~(WORD)HW_SDRAM_TIMER2_TREF_SETMASK
                            11203 ; 217  |#define HW_SDRAM_TIMER2_TRCD_CLRMASK ~(WORD)HW_SDRAM_TIMER2_TRCD_SETMASK
                            11204 ; 218  |
                            11205 ; 219  |typedef union               
                            11206 ; 220  |{
                            11207 ; 221  |    struct {
                            11208 ; 222  |        int TXSR                :4;
                            11209 ; 223  |        int TREF                :12;
                            11210 ; 224  |        int TRCD                :4;
                            11211 ; 225  |        int RSVD                :4; 
                            11212 ; 226  |    } B;
                            11213 ; 227  |    int I;
                            11214 ; 228  |} sdramtimer2_type;
                            11215 ; 229  |#define HW_SDRAM_TIMER2 (*(volatile sdramtimer2_type _X*) (HW_SDRAM_BASEADDR+6))
                            11216 ; 230  |
                            11217 ; 231  |/////////////////////////////////////////////////////////////////////////////////
                            11218 ; 232  |//  System Modulo Base Address Register (HW_SDRAM_BAR) Bit Definitions
                            11219 ; 233  |#define HW_SDRAM_BAR_XA_BITPOS 0
                            11220 ; 234  |
                            11221 ; 235  |#define HW_SDRAM_BAR_XA_SETMASK 0xFFFF<<HW_SDRAM_BAR_XA_BITPOS
                            11222 ; 236  |
                            11223 ; 237  |#define HW_SDRAM_BAR_XA_CLRMASK ~(WORD)HW_SDRAM_BAR_XA_SETMASK
                            11224 ; 238  |
                            11225 ; 239  |/////////////////////////////////////////////////////////////////////////////////
                            11226 ; 240  |//  System Modulo Register (HW_SDRAM_MR) Bit Definitions
                            11227 ; 241  |#define HW_SDRAM_MR_XA_BITPOS 0
                            11228 ; 242  |
                            11229 ; 243  |#define HW_SDRAM_MR_XA_SETMASK 0xFFFF<<HW_SDRAM_MR_XA_BITPOS
                            11230 ; 244  |
                            11231 ; 245  |#define HW_SDRAM_MR_XA_CLRMASK ~(WORD)HW_SDRAM_MR_XA_SETMASK
                            11232 ; 246  |
                            11233 ; 247  |/////////////////////////////////////////////////////////////////////////////////
                            11234 ; 248  |//  SDRAM Mode Register (HW_SDRAM_MODE) Bit Definitions
                            11235 ; 249  |#define HW_SDRAM_MODE_XA_BITPOS 0
                            11236 ; 250  |
                            11237 ; 251  |#define HW_SDRAM_MODE_XA_WIDTH 14
                            11238 ; 252  |
                            11239 ; 253  |#define HW_SDRAM_MODE_XA_SETMASK (((1<<HW_SDRAM_MODE_XA_WIDTH)-1)<<HW_SDRAM_MODE_XA_BITPOS)
                            11240 ; 254  |
                            11241 ; 255  |#define HW_SDRAM_MODE_XA_CLRMASK ~(WORD)HW_SDRAM_MODE_XA_SETMASK
                            11242 ; 256  |
                            11243 ; 257  |typedef union               
                            11244 ; 258  |{
                            11245 ; 259  |    struct {
                            11246 ; 260  |        int VALUE               :14;
                            11247 ; 261  |        int RSVD                :10; 
                            11248 ; 262  |    } B;
                            11249 ; 263  |    int I;
                            11250 ; 264  |} sdrammode_type;
                            11251 ; 265  |#define HW_SDRAM_MODE (*(volatile sdrammode_type _X*) (HW_SDRAM_BASEADDR+14))
                            11252 ; 266  |
                            11253 ; 267  |/////////////////////////////////////////////////////////////////////////////////
                            11254 ; 268  |//  SDRAM Type Register (HW_SDRAM_TYPE) Bit Definitions
                            11255 ; 269  |#define HW_SDRAM_TYPE_COLWIDTH_BITPOS 0
                            11256 ; 270  |#define HW_SDRAM_TYPE_ROWWIDTH_BITPOS 4
                            11257 ; 271  |
                            11258 ; 272  |#define HW_SDRAM_TYPE_COLWIDTH_WIDTH 4
                            11259 ; 273  |#define HW_SDRAM_TYPE_ROWWIDTH_WIDTH 4
                            11260 ; 274  |
                            11261 ; 275  |#define HW_SDRAM_TYPE_COLWIDTH_SETMASK (((1<<HW_SDRAM_TYPE_COLWIDTH_WIDTH)-1)<<HW_SDRAM_TYPE_COLWIDTH_BITPOS)
                            11262 ; 276  |#define HW_SDRAM_TYPE_ROWWIDTH_SETMASK (((1<<HW_SDRAM_TYPE_ROWWIDTH_WIDTH)-1)<<HW_SDRAM_TYPE_ROWWIDTH_BITPOS)
                            11263 ; 277  |
                            11264 ; 278  |#define HW_SDRAM_TYPE_COLWIDTH_CLRMASK (~(WORD)HW_SDRAM_TYPE_COLWIDTH_SETMASK)
                            11265 ; 279  |#define HW_SDRAM_TYPE_ROWWIDTH_CLRMASK (~(WORD)HW_SDRAM_TYPE_ROWWIDTH_SETMASK)
                            11266 ; 280  |
                            11267 ; 281  |typedef union               
                            11268 ; 282  |{
                            11269 ; 283  |    struct {
                            11270 ; 284  |        int COLWIDTH               :4;
                            11271 ; 285  |        int ROWWIDTH               :4; 
                            11272 ; 286  |    } B;
                            11273 ; 287  |    int I;
                            11274 ; 288  |} sdramtype_type;
                            11275 ; 289  |#define HW_SDRAM_TYPE (*(volatile sdramtype_type _X*) (HW_SDRAM_BASEADDR+14))
                            11276 ; 290  |
                            11277 ; 291  |#endif
                            11278 ; 292  |
                            11279 ; 293  |
                            11280 ; 294  |
                            11281 ; 295  |
                            11282 ; 296  |
                            11283 ; 297  |
                            11284 
                            11286 
                            11287 ; 34   |#include "regstb.h"
                            11288 
                            11290 
                            11291 ; 1    |/////////////////////////////////////////////////////////////////////////////////
                            11292 ; 2    |// Copyright(C) SigmaTel, Inc. 2000-2003
                            11293 ; 3    |// Filename: regstb.inc
                            11294 ; 4    |// Description: Register definitions for Trace Buffer
                            11295 ; 5    |/////////////////////////////////////////////////////////////////////////////////
                            11296 ; 6    |// The following naming conventions are followed in this file.
                            11297 ; 7    |// All registers are named using the format...
                            11298 ; 8    |//     HW_<module>_<regname>
                            11299 ; 9    |// where <module> is the module name which can be any of the following...
                            11300 ; 10   |//     USB20
                            11301 ; 11   |// (Note that when there is more than one copy of a particular module, the
                            11302 ; 12   |// module name includes a number starting from 0 for the first instance of
                            11303 ; 13   |// that module)
                            11304 ; 14   |// <regname> is the specific register within that module
                            11305 ; 15   |// We also define the following...
                            11306 ; 16   |//     HW_<module>_<regname>_BITPOS
                            11307 ; 17   |// which defines the starting bit (i.e. LSB) of a multi bit field
                            11308 ; 18   |//     HW_<module>_<regname>_SETMASK
                            11309 ; 19   |// which does something else, and
                            11310 ; 20   |//     HW_<module>_<regname>_CLRMASK
                            11311 ; 21   |// which does something else.
                            11312 ; 22   |// Other rules
                            11313 ; 23   |//     All caps
                            11314 ; 24   |//     Numeric identifiers start at 0
                            11315 ; 25   |#if !(defined(regstbinc))
                            11316 ; 26   |#define regstbinc 1
                            11317 ; 27   |
                            11318 ; 28   |#include "types.h"
                            11319 
                            11321 
                            11322 ; 1    |////////////////////////////////////////////////////////////////////////////////
                            11323 ; 2    |// Copyright(C) SigmaTel, Inc. 2000-2004
                            11324 ; 3    |//
                            11325 ; 4    |// Filename: types.h
                            11326 ; 5    |// Description: Standard data types
                            11327 ; 6    |////////////////////////////////////////////////////////////////////////////////
                            11328 ; 7    |
                            11329 ; 8    |#ifndef _TYPES_H
                            11330 ; 9    |#define _TYPES_H
                            11331 ; 10   |
                            11332 ; 11   |// TODO:  move this outta here!
                            11333 ; 12   |#if !defined(NOERROR)
                            11334 ; 13   |#define NOERROR 0
                            11335 ; 14   |#define SUCCESS 0
                            11336 ; 15   |#endif 
                            11337 ; 16   |#if !defined(SUCCESS)
                            11338 ; 17   |#define SUCCESS  0
                            11339 ; 18   |#endif
                            11340 ; 19   |#if !defined(ERROR)
                            11341 ; 20   |#define ERROR   -1
                            11342 ; 21   |#endif
                            11343 ; 22   |#if !defined(FALSE)
                            11344 ; 23   |#define FALSE 0
                            11345 ; 24   |#endif
                            11346 ; 25   |#if !defined(TRUE)
                            11347 ; 26   |#define TRUE  1
                            11348 ; 27   |#endif
                            11349 ; 28   |
                            11350 ; 29   |#if !defined(NULL)
                            11351 ; 30   |#define NULL 0
                            11352 ; 31   |#endif
                            11353 ; 32   |
                            11354 ; 33   |#define MAX_INT     0x7FFFFF
                            11355 ; 34   |#define MAX_LONG    0x7FFFFFffffff
                            11356 ; 35   |        // max positive unsigned long value: -1 == 0xFFFFFFffffff
                            11357 ; 36   |#define MAX_ULONG   (-1) 
                            11358 ; 37   |
                            11359 ; 38   |#define WORD_SIZE   24              // word size in bits
                            11360 ; 39   |#define BYTES_PER_WORD 3            // 8 bit bytes
                            11361 ; 40   |
                            11362 ; 41   |
                            11363 ; 42   |#define BYTE    unsigned char       // btVarName
                            11364 ; 43   |#define CHAR    signed char         // cVarName
                            11365 ; 44   |#define USHORT  unsigned short      // usVarName
                            11366 ; 45   |#define SHORT   unsigned short      // sVarName
                            11367 ; 46   |#define WORD    unsigned int        // wVarName
                            11368 ; 47   |#define INT     signed int          // iVarName
                            11369 ; 48   |#define DWORD   unsigned long       // dwVarName
                            11370 ; 49   |#define LONG    signed long         // lVarName
                            11371 ; 50   |#define BOOL    unsigned int        // bVarName
                            11372 ; 51   |#define FRACT   _fract              // frVarName
                            11373 ; 52   |#define LFRACT  long _fract         // lfrVarName
                            11374 ; 53   |#define CIRC    _circ               // cp<type prefix>VarName (see below)
                            11375 ; 54   |#define FLOAT   float               // fVarName
                            11376 ; 55   |#define DBL     double              // dVarName
                            11377 ; 56   |#define ENUM    enum                // eVarName
                            11378 ; 57   |#define CMX     _complex            // cmxVarName
                            11379 ; 58   |typedef WORD UCS3;                   // 
                            11380 ; 59   |
                            11381 ; 60   |#define UINT16  unsigned short
                            11382 ; 61   |#define UINT8   unsigned char   
                            11383 ; 62   |#define UINT32  unsigned long
                            11384 ; 63   |#define UINT64  unsigned long   // need to figure out how to do 64 bit values.  Or port exisiting code to only use 48 bit
                            11385 ; 64   |#define INT64   unsigned long   // need to figure out how to do 64 bit values.  Or port exisiting code to only use 48 bit
                            11386 ; 65   |#define WCHAR   UINT16
                            11387 ; 66   |
                            11388 ; 67   |//UINT128 is 16 bytes or 6 words
                            11389 ; 68   |typedef struct UINT128_3500 {   
                            11390 ; 69   |    int val[6];     
                            11391 ; 70   |} UINT128_3500;
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page  46

M:ADDR CODE           CYCLES LINE SOURCELINE
                            11392 ; 71   |
                            11393 ; 72   |#define UINT128   UINT128_3500
                            11394 ; 73   |
                            11395 ; 74   |// Little endian word packed byte strings:   
                            11396 ; 75   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                            11397 ; 76   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                            11398 ; 77   |// Little endian word packed byte strings:   
                            11399 ; 78   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                            11400 ; 79   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                            11401 ; 80   |
                            11402 ; 81   |// Declare Memory Spaces To Use When Coding
                            11403 ; 82   |// A. Sector Buffers
                            11404 ; 83   |#define SECTOR_BUFFER_MEM_X _X
                            11405 ; 84   |#define SECTOR_BUFFER_MEM_Y _Y
                            11406 ; 85   |#define SECTOR_BUFFER_MEM SECTOR_BUFFER_MEM_X
                            11407 ; 86   |typedef WORD SECTOR_BUFFER_MEM SECTOR_BUFFER;
                            11408 ; 87   |typedef SECTOR_BUFFER * P_SECTOR_BUFFER;
                            11409 ; 88   |// B. Media DDI Memory
                            11410 ; 89   |#define MEDIA_DDI_MEM _Y
                            11411 ; 90   |
                            11412 ; 91   |
                            11413 ; 92   |
                            11414 ; 93   |// Pointers to linear structures are labeled as: p<type prefix>VarName
                            11415 ; 94   |// Examples of circular pointers:
                            11416 ; 95   |//    INT CIRC cpiVarName
                            11417 ; 96   |//    DWORD CIRC cpdwVarName
                            11418 ; 97   |
                            11419 ; 98   |#define RETCODE INT                 // rcVarName
                            11420 ; 99   |
                            11421 ; 100  |// generic bitfield structure
                            11422 ; 101  |struct Bitfield {
                            11423 ; 102  |    unsigned int B0  :1;
                            11424 ; 103  |    unsigned int B1  :1;
                            11425 ; 104  |    unsigned int B2  :1;
                            11426 ; 105  |    unsigned int B3  :1;
                            11427 ; 106  |    unsigned int B4  :1;
                            11428 ; 107  |    unsigned int B5  :1;
                            11429 ; 108  |    unsigned int B6  :1;
                            11430 ; 109  |    unsigned int B7  :1;
                            11431 ; 110  |    unsigned int B8  :1;
                            11432 ; 111  |    unsigned int B9  :1;
                            11433 ; 112  |    unsigned int B10 :1;
                            11434 ; 113  |    unsigned int B11 :1;
                            11435 ; 114  |    unsigned int B12 :1;
                            11436 ; 115  |    unsigned int B13 :1;
                            11437 ; 116  |    unsigned int B14 :1;
                            11438 ; 117  |    unsigned int B15 :1;
                            11439 ; 118  |    unsigned int B16 :1;
                            11440 ; 119  |    unsigned int B17 :1;
                            11441 ; 120  |    unsigned int B18 :1;
                            11442 ; 121  |    unsigned int B19 :1;
                            11443 ; 122  |    unsigned int B20 :1;
                            11444 ; 123  |    unsigned int B21 :1;
                            11445 ; 124  |    unsigned int B22 :1;
                            11446 ; 125  |    unsigned int B23 :1;
                            11447 ; 126  |};
                            11448 ; 127  |
                            11449 ; 128  |union BitInt {
                            11450 ; 129  |        struct Bitfield B;
                            11451 ; 130  |        int        I;
                            11452 ; 131  |};
                            11453 ; 132  |
                            11454 ; 133  |#define MAX_MSG_LENGTH 10
                            11455 ; 134  |struct CMessage
                            11456 ; 135  |{
                            11457 ; 136  |        unsigned int m_uLength;
                            11458 ; 137  |        unsigned int m_uMsg[MAX_MSG_LENGTH];
                            11459 ; 138  |};
                            11460 ; 139  |
                            11461 ; 140  |typedef struct {
                            11462 ; 141  |    WORD m_wLength;
                            11463 ; 142  |    WORD m_wMessage;
                            11464 ; 143  |    WORD m_wParams[MAX_MSG_LENGTH];
                            11465 ; 144  |} Message;
                            11466 ; 145  |
                            11467 ; 146  |struct MessageQueueDescriptor
                            11468 ; 147  |{
                            11469 ; 148  |        int *m_pBase;
                            11470 ; 149  |        int m_iModulo;
                            11471 ; 150  |        int m_iSize;
                            11472 ; 151  |        int *m_pHead;
                            11473 ; 152  |        int *m_pTail;
                            11474 ; 153  |};
                            11475 ; 154  |
                            11476 ; 155  |struct ModuleEntry
                            11477 ; 156  |{
                            11478 ; 157  |    int m_iSignaledEventMask;
                            11479 ; 158  |    int m_iWaitEventMask;
                            11480 ; 159  |    int m_iResourceOfCode;
                            11481 ; 160  |    struct MessageQueueDescriptor *m_pMessageQueue;
                            11482 ; 161  |    int _asmfunc (*m_pProcessEntryPoint)(union WaitMask Signals,struct MessageQueueDescriptor *);
                            11483 ; 162  |    int _asmfunc (*m_pInitFunction)(struct MessageQueueDescriptor *);
                            11484 ; 163  |    int m_uTimeOutHigh;
                            11485 ; 164  |    int m_uTimeOutLow;
                            11486 ; 165  |    int _asmfunc (*m_pBackgroundFunction)(struct MessageQueueDescriptor *);
                            11487 ; 166  |};
                            11488 ; 167  |
                            11489 ; 168  |union WaitMask{
                            11490 ; 169  |    struct B{
                            11491 ; 170  |        unsigned int m_bNone     :1;
                            11492 ; 171  |        unsigned int m_bMessage  :1;
                            11493 ; 172  |        unsigned int m_bTimer    :1;
                            11494 ; 173  |        unsigned int m_bButton   :1;
                            11495 ; 174  |    } B;
                            11496 ; 175  |    int I;
                            11497 ; 176  |} ;
                            11498 ; 177  |
                            11499 ; 178  |
                            11500 ; 179  |struct Button {
                            11501 ; 180  |        WORD wButtonEvent;
                            11502 ; 181  |        WORD wUnused[MAX_MSG_LENGTH];   
                            11503 ; 182  |};
                            11504 ; 183  |
                            11505 ; 184  |struct Message {
                            11506 ; 185  |        WORD wMsgLength;
                            11507 ; 186  |        WORD wMsgCommand;
                            11508 ; 187  |        WORD wMsgParms[MAX_MSG_LENGTH-1];
                            11509 ; 188  |};
                            11510 ; 189  |
                            11511 ; 190  |union EventTypes {
                            11512 ; 191  |        struct CMessage msg;
                            11513 ; 192  |        struct Button Button ;
                            11514 ; 193  |        struct Message Message;
                            11515 ; 194  |};
                            11516 ; 195  |
                            11517 ; 196  |// next 2 used to get updater build to return correct protocol ver in scsi response.
                            11518 ; 197  |#define BUILD_TYPE_UPDATER  0x100
                            11519 ; 198  |#define BUILD_TYPE_HOSTLINK 0x101
                            11520 ; 199  |#define BUILD_TYPE_PLAYER   0x102
                            11521 ; 200  |
                            11522 ; 201  |// Resets part if RETAIL build. DEBUG build executes debug instruction to halt.
                            11523 ; 202  |#define SystemHalt() __asm(" include 'sysmacro.asm' \n error") 
                            11524 ; 203  |#define assert(x)    if(!(x)) __asm(" include 'sysmacro.asm' \n error")
                            11525 ; 204  |
                            11526 ; 205  |#if DEBUG
                            11527 ; 206  |// For DEBUG builds, DebugBuildAssert(condition) halts if condition evaluates to FALSE. 
                            11528 ; 207  |#define DebugBuildAssert(x)    if(!(x)) __asm(" debug ")
                            11529 ; 208  |#else 
                            11530 ; 209  |// For RETAIL builds, DebugBuildAssert(condition) does nothing & execution continues rather than halt or reset. 
                            11531 ; 210  |#define DebugBuildAssert(x)    
                            11532 ; 211  |#endif
                            11533 ; 212  |
                            11534 ; 213  |// Do this in your C files to make a reminder that's displayed during the build.
                            11535 ; 214  |//  #pragma asm
                            11536 ; 215  |//  WARN 'Note to builder: reminder to do this after verifying that'
                            11537 ; 216  |//  #pragma endasm
                            11538 ; 217  |
                            11539 ; 218  |
                            11540 ; 219  |#ifdef COLOR_262K
                            11541 ; 220  |#define RGB(r,g,b)    ((0x0000FC & (r)) << 10) | ((0x0000FC & (g)) << 4) | ((0x0000FC & (b)) >> 2)    //262k
                            11542 ; 221  |#elif defined(COLOR_65K)
                            11543 ; 222  |#define RGB(r,g,b)    ((0x0000F8 & (r)) << 8) | ((0x0000FC & (g)) << 3) | ((0x0000F8 & (b)) >> 3)  //65k
                            11544 ; 223  |#else
                            11545 ; 224  |#define RGB(r,g,b)       ((0x0000F0 & (r)) << 4) | (0x0000F0 & (g)) | ((0x0000F0 & (b)) >> 4)
                            11546 ; 225  |#endif
                            11547 ; 226  |    
                            11548 ; 227  |#endif // #ifndef _TYPES_H
                            11549 
                            11551 
                            11552 ; 29   |
                            11553 ; 30   |//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                            11554 ; 31   |
                            11555 ; 32   |//   Trace Buffer STMP Registers 
                            11556 ; 33   |//   Last Updated 6.30.2003 D. Baker
                            11557 ; 34   |//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                            11558 ; 35   |
                            11559 ; 36   |#define HW_TB_BASEADDR (0xF080)
                            11560 ; 37   |
                            11561 ; 38   |
                            11562 ; 39   |
                            11563 ; 40   |
                            11564 ; 41   |/////////////////////////////////////////////////////////////////////////////////
                            11565 ; 42   |
                            11566 ; 43   |//  Trace Buffer Configuration Register (HW_TB_CFG) Bit Definitions
                            11567 ; 44   |
                            11568 ; 45   |#define HW_TB_CFG_CLK_ENABLE_BITPOS (0)
                            11569 ; 46   |#define HW_TB_CFG_ENABLE_BITPOS (1)
                            11570 ; 47   |#define HW_TB_CFG_DONE_BITPOS (3)
                            11571 ; 48   |#define HW_TB_CFG_DMA_ASEL_BITPOS (4)
                            11572 ; 49   |#define HW_TB_CFG_TRIG_EVENT_BITPOS (6)
                            11573 ; 50   |
                            11574 ; 51   |#define HW_TB_CFG_CLK_ENABLE_WIDTH (1)
                            11575 ; 52   |#define HW_TB_CFG_ENABLE_WIDTH (1)
                            11576 ; 53   |#define HW_TB_CFG_RSVD1_WIDTH (1)
                            11577 ; 54   |#define HW_TB_CFG_DONE_WIDTH (1)
                            11578 ; 55   |#define HW_TB_CFG_DMA_ASEL_WIDTH (2)
                            11579 ; 56   |#define HW_TB_CFG_TRIG_EVENT_WIDTH (1)
                            11580 ; 57   |#define HW_TB_CFG_RSVD2_WIDTH (17)
                            11581 ; 58   |
                            11582 ; 59   |#define HW_TB_CFG_CLK_ENABLE_SETMASK (((1<<HW_TB_CFG_CLK_ENABLE_WIDTH)-1)<<HW_TB_CFG_CLK_ENABLE_BITPOS) 
                            11583 ; 60   |#define HW_TB_CFG_ENABLE_SETMASK (((1<<HW_TB_CFG_ENABLE_WIDTH)-1)<<HW_TB_CFG_ENABLE_BITPOS) 
                            11584 ; 61   |#define HW_TB_CFG_DONE_SETMASK (((1<<HW_TB_CFG_DONE_WIDTH)-1)<<HW_TB_CFG_DONE_BITPOS) 
                            11585 ; 62   |#define HW_TB_CFG_DMA_ASEL_SETMASK (((1<<HW_TB_CFG_DMA_ASEL_WIDTH)-1)<<HW_TB_CFG_DMA_ASEL_BITPOS) 
                            11586 ; 63   |#define HW_TB_CFG_TRIG_EVENT_SETMASK (((1<<HW_TB_CFG_TRIG_EVENT_WIDTH)-1)<<HW_TB_CFG_TRIG_EVENT_BITPOS) 
                            11587 ; 64   |
                            11588 ; 65   |#define HW_TB_CFG_CLK_ENABLE_CLRMASK (~(WORD)HW_TB_CFG_CLK_ENABLE_SETMASK)
                            11589 ; 66   |#define HW_TB_CFG_ENABLE_CLRMASK (~(WORD)HW_TB_CFG_ENABLE_SETMASK)
                            11590 ; 67   |#define HW_TB_CFG_DONE_CLRMASK (~(WORD)HW_TB_CFG_DONE_SETMASK)
                            11591 ; 68   |#define HW_TB_CFG_DMA_ASEL_CLRMASK (~(WORD)HW_TB_CFG_DMA_ASEL_SETMASK)
                            11592 ; 69   |#define HW_TB_CFG_TRIG_EVENT_CLRMASK (~(WORD)HW_TB_CFG_TRIG_EVENT_SETMASK)
                            11593 ; 70   |
                            11594 ; 71   |typedef union               
                            11595 ; 72   |{
                            11596 ; 73   |    struct {
                            11597 ; 74   |         int CLK_ENABLE      : HW_TB_CFG_CLK_ENABLE_WIDTH;
                            11598 ; 75   |         int ENABLE          : HW_TB_CFG_ENABLE_WIDTH;
                            11599 ; 76   |        int rsvd1           : HW_TB_CFG_RSVD1_WIDTH;
                            11600 ; 77   |         int DONE            : HW_TB_CFG_DONE_WIDTH;
                            11601 ; 78   |         int DMA_ASEL        : HW_TB_CFG_DMA_ASEL_WIDTH;
                            11602 ; 79   |         int TRIG_EVENT      : HW_TB_CFG_TRIG_EVENT_WIDTH;
                            11603 ; 80   |        int rsvd2           : HW_TB_CFG_RSVD2_WIDTH;
                            11604 ; 81   |    } B;
                            11605 ; 82   |    int I;
                            11606 ; 83   |    unsigned int U;
                            11607 ; 84   |} tb_cfg_type;
                            11608 ; 85   |#define HW_TB_CFG      (*(volatile tb_cfg_type _X*) (HW_TB_BASEADDR+0))    /* Trace Buffer Configuration Register */
                            11609 ; 86   |
                            11610 ; 87   |/////////////////////////////////////////////////////////////////////////////////
                            11611 ; 88   |
                            11612 ; 89   |//  Trace Buffer Base Address Register (HW_TB_BAR) Bit Definitions
                            11613 ; 90   |
                            11614 ; 91   |#define HW_TB_BAR_ADDRESS_BITPOS (0)
                            11615 ; 92   |
                            11616 ; 93   |#define HW_TB_BAR_ADDRESS_WIDTH (16)        
                            11617 ; 94   |#define HW_TB_BAR_RSVD_WIDTH (8)
                            11618 ; 95   |
                            11619 ; 96   |#define HW_TB_BAR_ADDRESS_SETMASK (((1<<HW_TB_BAR_ADDRESS_WIDTH)-1)<<HW_TB_BAR_ADDRESS_BITPOS) 
                            11620 ; 97   |
                            11621 ; 98   |#define HW_TB_BAR_ADDRESS_CLRMASK (~(WORD)HW_TB_BAR_ADDRESS_SETMASK)
                            11622 ; 99   |
                            11623 ; 100  |typedef union               
                            11624 ; 101  |{
                            11625 ; 102  |    struct {
                            11626 ; 103  |         int ADDRESS      : HW_TB_BAR_ADDRESS_WIDTH;
                            11627 ; 104  |        int reserved     : HW_TB_BAR_RSVD_WIDTH;
                            11628 ; 105  |    } B;
                            11629 ; 106  |    int I;
                            11630 ; 107  |    unsigned int U;
                            11631 ; 108  |} tb_bar_type;
                            11632 ; 109  |#define HW_TB_BAR      (*(volatile tb_bar_type _X*) (HW_TB_BASEADDR+1))    /* Trace Buffer Base Address Register */
                            11633 ; 110  |
                            11634 ; 111  |/////////////////////////////////////////////////////////////////////////////////
                            11635 ; 112  |
                            11636 ; 113  |//  Trace Buffer Modulo Register (HW_TB_MOD) Bit Definitions
                            11637 ; 114  |
                            11638 ; 115  |#define HW_TB_MOD_MODULUS_BITPOS (0)
                            11639 ; 116  |
                            11640 ; 117  |#define HW_TB_MOD_MODULUS_WIDTH (14)        
                            11641 ; 118  |#define HW_TB_MOD_RSVD_WIDTH (10)
                            11642 ; 119  |
                            11643 ; 120  |#define HW_TB_MOD_MODULUS_SETMASK (((1<<HW_TB_MOD_MODULUS_WIDTH)-1)<<HW_TB_MOD_MODULUS_BITPOS) 
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page  47

M:ADDR CODE           CYCLES LINE SOURCELINE
                            11644 ; 121  |
                            11645 ; 122  |#define HW_TB_MOD_MODULUS_CLRMASK (~(WORD)HW_TB_MOD_MODULUS_SETMASK)
                            11646 ; 123  |
                            11647 ; 124  |typedef union               
                            11648 ; 125  |{
                            11649 ; 126  |    struct {
                            11650 ; 127  |         int MODULUS      : HW_TB_MOD_MODULUS_WIDTH;
                            11651 ; 128  |        int reserved        : HW_TB_MOD_RSVD_WIDTH;
                            11652 ; 129  |    } B;
                            11653 ; 130  |    int I;
                            11654 ; 131  |    unsigned int U;
                            11655 ; 132  |} tb_mod_type;
                            11656 ; 133  |#define HW_TB_MOD      (*(volatile tb_mod_type _X*) (HW_TB_BASEADDR+2))    /* Trace Buffer Modulus Register */
                            11657 ; 134  |
                            11658 ; 135  |/////////////////////////////////////////////////////////////////////////////////
                            11659 ; 136  |
                            11660 ; 137  |//  Trace Buffer Current Index Register (HW_TB_CIR) Bit Definitions
                            11661 ; 138  |
                            11662 ; 139  |#define HW_TB_CIR_INDEX_BITPOS (0)
                            11663 ; 140  |
                            11664 ; 141  |#define HW_TB_CIR_INDEX_WIDTH (14)        
                            11665 ; 142  |#define HW_TB_CIR_RSVD_WIDTH (10)
                            11666 ; 143  |
                            11667 ; 144  |#define HW_TB_CIR_INDEX_SETMASK (((1<<HW_TB_CIR_INDEX_WIDTH)-1)<<HW_TB_CIR_INDEX_BITPOS) 
                            11668 ; 145  |
                            11669 ; 146  |#define HW_TB_CIR_INDEX_CLRMASK (~(WORD)HW_TB_CIR_INDEX_SETMASK)
                            11670 ; 147  |
                            11671 ; 148  |typedef union               
                            11672 ; 149  |{
                            11673 ; 150  |    struct {
                            11674 ; 151  |         int INDEX        : HW_TB_CIR_INDEX_WIDTH;
                            11675 ; 152  |        int reserved     : HW_TB_CIR_RSVD_WIDTH;
                            11676 ; 153  |    } B;
                            11677 ; 154  |    int I;
                            11678 ; 155  |    unsigned int U;
                            11679 ; 156  |} tb_cir_type;
                            11680 ; 157  |#define HW_TB_CIR      (*(volatile tb_cir_type _X*) (HW_TB_BASEADDR+3))    /* Trace Buffer Current Index Register */
                            11681 ; 158  |
                            11682 ; 159  |/////////////////////////////////////////////////////////////////////////////////
                            11683 ; 160  |
                            11684 ; 161  |//  Trace Buffer One Byte Code Register (HW_TB_OBC) Bit Definitions
                            11685 ; 162  |
                            11686 ; 163  |#define HW_TB_OBC_CODE_BITPOS (0)
                            11687 ; 164  |
                            11688 ; 165  |#define HW_TB_OBC_CODE_WIDTH (8)        
                            11689 ; 166  |#define HW_TB_OBC_RSVD_WIDTH (16)
                            11690 ; 167  |
                            11691 ; 168  |#define HW_TB_OBC_CODE_SETMASK (((1<<HW_TB_OBC_CODE_WIDTH)-1)<<HW_TB_OBC_CODE_BITPOS) 
                            11692 ; 169  |
                            11693 ; 170  |#define HW_TB_OBC_CODE_CLRMASK (~(WORD)HW_TB_OBC_CODE_SETMASK)
                            11694 ; 171  |
                            11695 ; 172  |typedef union               
                            11696 ; 173  |{
                            11697 ; 174  |    struct {
                            11698 ; 175  |         int CODE        : HW_TB_OBC_CODE_WIDTH;
                            11699 ; 176  |        int reserved    : HW_TB_OBC_RSVD_WIDTH;
                            11700 ; 177  |    } B;
                            11701 ; 178  |    int I;
                            11702 ; 179  |    unsigned int U;
                            11703 ; 180  |} tb_obc_type;
                            11704 ; 181  |#define HW_TB_OBC      (*(volatile tb_obc_type _X*) (HW_TB_BASEADDR+4))    /* Trace Buffer one byte code Register */
                            11705 ; 182  |
                            11706 ; 183  |/////////////////////////////////////////////////////////////////////////////////
                            11707 ; 184  |
                            11708 ; 185  |//  Trace Buffer Trigger Command Register (HW_TB_TCS) Bit Definitions
                            11709 ; 186  |
                            11710 ; 187  |#define HW_TB_TCS_TRG_STYLE_BITPOS (0)
                            11711 ; 188  |#define HW_TB_TCS_CAP_CLASS_BITPOS (1)
                            11712 ; 189  |#define HW_TB_TCS_TRG_CLASS_BITPOS (3)
                            11713 ; 190  |#define HW_TB_TCS_FREEZE_BITPOS (5)
                            11714 ; 191  |
                            11715 ; 192  |#define HW_TB_TCS_TRG_STYLE_WIDTH (1)        
                            11716 ; 193  |#define HW_TB_TCS_CAP_CLASS_WIDTH (2)        
                            11717 ; 194  |#define HW_TB_TCS_TRG_CLASS_WIDTH (2)        
                            11718 ; 195  |#define HW_TB_TCS_FREEZE_WIDTH (1)        
                            11719 ; 196  |#define HW_TB_TCS_RSVD_WIDTH (18)
                            11720 ; 197  |
                            11721 ; 198  |#define HW_TB_TCS_TRG_STYLE_SETMASK (((1<<HW_TB_TCS_TRG_STYLE_WIDTH)-1)<<HW_TB_TCS_TRG_STYLE_BITPOS) 
                            11722 ; 199  |#define HW_TB_TCS_CAP_CLASS_SETMASK (((1<<HW_TB_TCS_CAP_CLASS_WIDTH)-1)<<HW_TB_TCS_CAP_CLASS_BITPOS) 
                            11723 ; 200  |#define HW_TB_TCS_TRG_CLASS_SETMASK (((1<<HW_TB_TCS_TRG_CLASS_WIDTH)-1)<<HW_TB_TCS_TRG_CLASS_BITPOS) 
                            11724 ; 201  |#define HW_TB_TCS_FREEZE_SETMASK (((1<<HW_TB_TCS_FREEZE_WIDTH)-1)<<HW_TB_TCS_FREEZE_BITPOS) 
                            11725 ; 202  |
                            11726 ; 203  |#define HW_TB_TCS_TRG_STYLE_CLRMASK (~(WORD)HW_TB_TCS_TRG_STYLE_SETMASK)
                            11727 ; 204  |#define HW_TB_TCS_CAP_CLASS_CLRMASK (~(WORD)HW_TB_TCS_CAP_CLASS_SETMASK)
                            11728 ; 205  |#define HW_TB_TCS_TRG_CLASS_CLRMASK (~(WORD)HW_TB_TCS_TRG_CLASS_SETMASK)
                            11729 ; 206  |#define HW_TB_TCS_FREEZE_CLRMASK (~(WORD)HW_TB_TCS_FREEZE_SETMASK)
                            11730 ; 207  |
                            11731 ; 208  |typedef union               
                            11732 ; 209  |{
                            11733 ; 210  |    struct {
                            11734 ; 211  |         int TRG_STYLE       : HW_TB_TCS_TRG_STYLE_WIDTH;
                            11735 ; 212  |         int CAP_CLASS       : HW_TB_TCS_CAP_CLASS_WIDTH;
                            11736 ; 213  |         int TRG_CLASS       : HW_TB_TCS_TRG_CLASS_WIDTH;
                            11737 ; 214  |         int FREEZE          : HW_TB_TCS_FREEZE_WIDTH;
                            11738 ; 215  |        int reserved        : HW_TB_TCS_RSVD_WIDTH;
                            11739 ; 216  |    } B;
                            11740 ; 217  |    int I;
                            11741 ; 218  |    unsigned int U;
                            11742 ; 219  |} tb_tcs_type;
                            11743 ; 220  |#define HW_TB_TCS      (*(volatile tb_tcs_type _X*) (HW_TB_BASEADDR+16))    /* Trace Buffer Trigger Command Register */
                            11744 ; 221  |
                            11745 ; 222  |/////////////////////////////////////////////////////////////////////////////////
                            11746 ; 223  |
                            11747 ; 224  |//  Trace Buffer Trigger Value Register (HW_TB_TVR) Bit Definitions
                            11748 ; 225  |
                            11749 ; 226  |#define HW_TB_TVR_MATCH_ADDR_BITPOS (0)
                            11750 ; 227  |
                            11751 ; 228  |#define HW_TB_TVR_MATCH_ADDR_WIDTH (16)        
                            11752 ; 229  |#define HW_TB_TVR_RSVD_WIDTH (8)
                            11753 ; 230  |
                            11754 ; 231  |#define HW_TB_TVR_MATCH_ADDR_SETMASK (((1<<HW_TB_TVR_MATCH_ADDR_WIDTH)-1)<<HW_TB_TVR_MATCH_ADDR_BITPOS) 
                            11755 ; 232  |
                            11756 ; 233  |#define HW_TB_TVR_MATCH_ADDR_CLRMASK (~(WORD)HW_TB_TVR_MATCH_ADDR_SETMASK)
                            11757 ; 234  |
                            11758 ; 235  |typedef union               
                            11759 ; 236  |{
                            11760 ; 237  |    struct {
                            11761 ; 238  |         int MATCH_ADDR      : HW_TB_TVR_MATCH_ADDR_WIDTH;
                            11762 ; 239  |        int reserved        : HW_TB_TVR_RSVD_WIDTH;
                            11763 ; 240  |    } B;
                            11764 ; 241  |    int I;
                            11765 ; 242  |    unsigned int U;
                            11766 ; 243  |} tb_tvr_type;
                            11767 ; 244  |#define HW_TB_TVR      (*(volatile tb_tvr_type _X*) (HW_TB_BASEADDR+24))    /* Trace Buffer Trigger Value Register */
                            11768 ; 245  |
                            11769 ; 246  |
                            11770 ; 247  |
                            11771 ; 248  |#endif
                            11772 ; 249  |
                            11773 ; 250  |
                            11774 ; 251  |
                            11775 ; 252  |
                            11776 ; 253  |
                            11777 ; 254  |
                            11778 ; 255  |
                            11779 ; 256  |
                            11780 ; 257  |
                            11781 ; 258  |
                            11782 ; 259  |
                            11783 ; 260  |
                            11784 ; 261  |
                            11785 ; 262  |
                            11786 ; 263  |
                            11787 ; 264  |
                            11788 ; 265  |
                            11789 
                            11791 
                            11792 ; 35   |#include "regstimer.h"
                            11793 
                            11795 
                            11796 ; 1    |/////////////////////////////////////////////////////////////////////////////////
                            11797 ; 2    |// Copyright(C) SigmaTel, Inc. 2000-2001
                            11798 ; 3    |// Filename: regstimer.inc
                            11799 ; 4    |// Description: Register definitions for  Timers interface
                            11800 ; 5    |/////////////////////////////////////////////////////////////////////////////////
                            11801 ; 6    |// The following naming conventions are followed in this file.
                            11802 ; 7    |// All registers are named using the format...
                            11803 ; 8    |//     HW_<module>_<regname>
                            11804 ; 9    |// where <module> is the module name which can be any of the following...
                            11805 ; 10   |//     USB20
                            11806 ; 11   |// (Note that when there is more than one copy of a particular module, the
                            11807 ; 12   |// module name includes a number starting from 0 for the first instance of
                            11808 ; 13   |// that module)
                            11809 ; 14   |// <regname> is the specific register within that module
                            11810 ; 15   |// We also define the following...
                            11811 ; 16   |//     HW_<module>_<regname>_BITPOS
                            11812 ; 17   |// which defines the starting bit (i.e. LSB) of a multi bit field
                            11813 ; 18   |//     HW_<module>_<regname>_SETMASK
                            11814 ; 19   |// which does something else, and
                            11815 ; 20   |//     HW_<module>_<regname>_CLRMASK
                            11816 ; 21   |// which does something else.
                            11817 ; 22   |// Other rules
                            11818 ; 23   |//     All caps
                            11819 ; 24   |//     Numeric identifiers start at 0
                            11820 ; 25   |#if !(defined(regstimerinc))
                            11821 ; 26   |#define regstimerinc 1
                            11822 ; 27   |
                            11823 ; 28   |#include "types.h"
                            11824 
                            11826 
                            11827 ; 1    |////////////////////////////////////////////////////////////////////////////////
                            11828 ; 2    |// Copyright(C) SigmaTel, Inc. 2000-2004
                            11829 ; 3    |//
                            11830 ; 4    |// Filename: types.h
                            11831 ; 5    |// Description: Standard data types
                            11832 ; 6    |////////////////////////////////////////////////////////////////////////////////
                            11833 ; 7    |
                            11834 ; 8    |#ifndef _TYPES_H
                            11835 ; 9    |#define _TYPES_H
                            11836 ; 10   |
                            11837 ; 11   |// TODO:  move this outta here!
                            11838 ; 12   |#if !defined(NOERROR)
                            11839 ; 13   |#define NOERROR 0
                            11840 ; 14   |#define SUCCESS 0
                            11841 ; 15   |#endif 
                            11842 ; 16   |#if !defined(SUCCESS)
                            11843 ; 17   |#define SUCCESS  0
                            11844 ; 18   |#endif
                            11845 ; 19   |#if !defined(ERROR)
                            11846 ; 20   |#define ERROR   -1
                            11847 ; 21   |#endif
                            11848 ; 22   |#if !defined(FALSE)
                            11849 ; 23   |#define FALSE 0
                            11850 ; 24   |#endif
                            11851 ; 25   |#if !defined(TRUE)
                            11852 ; 26   |#define TRUE  1
                            11853 ; 27   |#endif
                            11854 ; 28   |
                            11855 ; 29   |#if !defined(NULL)
                            11856 ; 30   |#define NULL 0
                            11857 ; 31   |#endif
                            11858 ; 32   |
                            11859 ; 33   |#define MAX_INT     0x7FFFFF
                            11860 ; 34   |#define MAX_LONG    0x7FFFFFffffff
                            11861 ; 35   |        // max positive unsigned long value: -1 == 0xFFFFFFffffff
                            11862 ; 36   |#define MAX_ULONG   (-1) 
                            11863 ; 37   |
                            11864 ; 38   |#define WORD_SIZE   24              // word size in bits
                            11865 ; 39   |#define BYTES_PER_WORD 3            // 8 bit bytes
                            11866 ; 40   |
                            11867 ; 41   |
                            11868 ; 42   |#define BYTE    unsigned char       // btVarName
                            11869 ; 43   |#define CHAR    signed char         // cVarName
                            11870 ; 44   |#define USHORT  unsigned short      // usVarName
                            11871 ; 45   |#define SHORT   unsigned short      // sVarName
                            11872 ; 46   |#define WORD    unsigned int        // wVarName
                            11873 ; 47   |#define INT     signed int          // iVarName
                            11874 ; 48   |#define DWORD   unsigned long       // dwVarName
                            11875 ; 49   |#define LONG    signed long         // lVarName
                            11876 ; 50   |#define BOOL    unsigned int        // bVarName
                            11877 ; 51   |#define FRACT   _fract              // frVarName
                            11878 ; 52   |#define LFRACT  long _fract         // lfrVarName
                            11879 ; 53   |#define CIRC    _circ               // cp<type prefix>VarName (see below)
                            11880 ; 54   |#define FLOAT   float               // fVarName
                            11881 ; 55   |#define DBL     double              // dVarName
                            11882 ; 56   |#define ENUM    enum                // eVarName
                            11883 ; 57   |#define CMX     _complex            // cmxVarName
                            11884 ; 58   |typedef WORD UCS3;                   // 
                            11885 ; 59   |
                            11886 ; 60   |#define UINT16  unsigned short
                            11887 ; 61   |#define UINT8   unsigned char   
                            11888 ; 62   |#define UINT32  unsigned long
                            11889 ; 63   |#define UINT64  unsigned long   // need to figure out how to do 64 bit values.  Or port exisiting code to only use 48 bit
                            11890 ; 64   |#define INT64   unsigned long   // need to figure out how to do 64 bit values.  Or port exisiting code to only use 48 bit
                            11891 ; 65   |#define WCHAR   UINT16
                            11892 ; 66   |
                            11893 ; 67   |//UINT128 is 16 bytes or 6 words
                            11894 ; 68   |typedef struct UINT128_3500 {   
                            11895 ; 69   |    int val[6];     
                            11896 ; 70   |} UINT128_3500;
                            11897 ; 71   |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page  48

M:ADDR CODE           CYCLES LINE SOURCELINE
                            11898 ; 72   |#define UINT128   UINT128_3500
                            11899 ; 73   |
                            11900 ; 74   |// Little endian word packed byte strings:   
                            11901 ; 75   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                            11902 ; 76   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                            11903 ; 77   |// Little endian word packed byte strings:   
                            11904 ; 78   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                            11905 ; 79   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                            11906 ; 80   |
                            11907 ; 81   |// Declare Memory Spaces To Use When Coding
                            11908 ; 82   |// A. Sector Buffers
                            11909 ; 83   |#define SECTOR_BUFFER_MEM_X _X
                            11910 ; 84   |#define SECTOR_BUFFER_MEM_Y _Y
                            11911 ; 85   |#define SECTOR_BUFFER_MEM SECTOR_BUFFER_MEM_X
                            11912 ; 86   |typedef WORD SECTOR_BUFFER_MEM SECTOR_BUFFER;
                            11913 ; 87   |typedef SECTOR_BUFFER * P_SECTOR_BUFFER;
                            11914 ; 88   |// B. Media DDI Memory
                            11915 ; 89   |#define MEDIA_DDI_MEM _Y
                            11916 ; 90   |
                            11917 ; 91   |
                            11918 ; 92   |
                            11919 ; 93   |// Pointers to linear structures are labeled as: p<type prefix>VarName
                            11920 ; 94   |// Examples of circular pointers:
                            11921 ; 95   |//    INT CIRC cpiVarName
                            11922 ; 96   |//    DWORD CIRC cpdwVarName
                            11923 ; 97   |
                            11924 ; 98   |#define RETCODE INT                 // rcVarName
                            11925 ; 99   |
                            11926 ; 100  |// generic bitfield structure
                            11927 ; 101  |struct Bitfield {
                            11928 ; 102  |    unsigned int B0  :1;
                            11929 ; 103  |    unsigned int B1  :1;
                            11930 ; 104  |    unsigned int B2  :1;
                            11931 ; 105  |    unsigned int B3  :1;
                            11932 ; 106  |    unsigned int B4  :1;
                            11933 ; 107  |    unsigned int B5  :1;
                            11934 ; 108  |    unsigned int B6  :1;
                            11935 ; 109  |    unsigned int B7  :1;
                            11936 ; 110  |    unsigned int B8  :1;
                            11937 ; 111  |    unsigned int B9  :1;
                            11938 ; 112  |    unsigned int B10 :1;
                            11939 ; 113  |    unsigned int B11 :1;
                            11940 ; 114  |    unsigned int B12 :1;
                            11941 ; 115  |    unsigned int B13 :1;
                            11942 ; 116  |    unsigned int B14 :1;
                            11943 ; 117  |    unsigned int B15 :1;
                            11944 ; 118  |    unsigned int B16 :1;
                            11945 ; 119  |    unsigned int B17 :1;
                            11946 ; 120  |    unsigned int B18 :1;
                            11947 ; 121  |    unsigned int B19 :1;
                            11948 ; 122  |    unsigned int B20 :1;
                            11949 ; 123  |    unsigned int B21 :1;
                            11950 ; 124  |    unsigned int B22 :1;
                            11951 ; 125  |    unsigned int B23 :1;
                            11952 ; 126  |};
                            11953 ; 127  |
                            11954 ; 128  |union BitInt {
                            11955 ; 129  |        struct Bitfield B;
                            11956 ; 130  |        int        I;
                            11957 ; 131  |};
                            11958 ; 132  |
                            11959 ; 133  |#define MAX_MSG_LENGTH 10
                            11960 ; 134  |struct CMessage
                            11961 ; 135  |{
                            11962 ; 136  |        unsigned int m_uLength;
                            11963 ; 137  |        unsigned int m_uMsg[MAX_MSG_LENGTH];
                            11964 ; 138  |};
                            11965 ; 139  |
                            11966 ; 140  |typedef struct {
                            11967 ; 141  |    WORD m_wLength;
                            11968 ; 142  |    WORD m_wMessage;
                            11969 ; 143  |    WORD m_wParams[MAX_MSG_LENGTH];
                            11970 ; 144  |} Message;
                            11971 ; 145  |
                            11972 ; 146  |struct MessageQueueDescriptor
                            11973 ; 147  |{
                            11974 ; 148  |        int *m_pBase;
                            11975 ; 149  |        int m_iModulo;
                            11976 ; 150  |        int m_iSize;
                            11977 ; 151  |        int *m_pHead;
                            11978 ; 152  |        int *m_pTail;
                            11979 ; 153  |};
                            11980 ; 154  |
                            11981 ; 155  |struct ModuleEntry
                            11982 ; 156  |{
                            11983 ; 157  |    int m_iSignaledEventMask;
                            11984 ; 158  |    int m_iWaitEventMask;
                            11985 ; 159  |    int m_iResourceOfCode;
                            11986 ; 160  |    struct MessageQueueDescriptor *m_pMessageQueue;
                            11987 ; 161  |    int _asmfunc (*m_pProcessEntryPoint)(union WaitMask Signals,struct MessageQueueDescriptor *);
                            11988 ; 162  |    int _asmfunc (*m_pInitFunction)(struct MessageQueueDescriptor *);
                            11989 ; 163  |    int m_uTimeOutHigh;
                            11990 ; 164  |    int m_uTimeOutLow;
                            11991 ; 165  |    int _asmfunc (*m_pBackgroundFunction)(struct MessageQueueDescriptor *);
                            11992 ; 166  |};
                            11993 ; 167  |
                            11994 ; 168  |union WaitMask{
                            11995 ; 169  |    struct B{
                            11996 ; 170  |        unsigned int m_bNone     :1;
                            11997 ; 171  |        unsigned int m_bMessage  :1;
                            11998 ; 172  |        unsigned int m_bTimer    :1;
                            11999 ; 173  |        unsigned int m_bButton   :1;
                            12000 ; 174  |    } B;
                            12001 ; 175  |    int I;
                            12002 ; 176  |} ;
                            12003 ; 177  |
                            12004 ; 178  |
                            12005 ; 179  |struct Button {
                            12006 ; 180  |        WORD wButtonEvent;
                            12007 ; 181  |        WORD wUnused[MAX_MSG_LENGTH];   
                            12008 ; 182  |};
                            12009 ; 183  |
                            12010 ; 184  |struct Message {
                            12011 ; 185  |        WORD wMsgLength;
                            12012 ; 186  |        WORD wMsgCommand;
                            12013 ; 187  |        WORD wMsgParms[MAX_MSG_LENGTH-1];
                            12014 ; 188  |};
                            12015 ; 189  |
                            12016 ; 190  |union EventTypes {
                            12017 ; 191  |        struct CMessage msg;
                            12018 ; 192  |        struct Button Button ;
                            12019 ; 193  |        struct Message Message;
                            12020 ; 194  |};
                            12021 ; 195  |
                            12022 ; 196  |// next 2 used to get updater build to return correct protocol ver in scsi response.
                            12023 ; 197  |#define BUILD_TYPE_UPDATER  0x100
                            12024 ; 198  |#define BUILD_TYPE_HOSTLINK 0x101
                            12025 ; 199  |#define BUILD_TYPE_PLAYER   0x102
                            12026 ; 200  |
                            12027 ; 201  |// Resets part if RETAIL build. DEBUG build executes debug instruction to halt.
                            12028 ; 202  |#define SystemHalt() __asm(" include 'sysmacro.asm' \n error") 
                            12029 ; 203  |#define assert(x)    if(!(x)) __asm(" include 'sysmacro.asm' \n error")
                            12030 ; 204  |
                            12031 ; 205  |#if DEBUG
                            12032 ; 206  |// For DEBUG builds, DebugBuildAssert(condition) halts if condition evaluates to FALSE. 
                            12033 ; 207  |#define DebugBuildAssert(x)    if(!(x)) __asm(" debug ")
                            12034 ; 208  |#else 
                            12035 ; 209  |// For RETAIL builds, DebugBuildAssert(condition) does nothing & execution continues rather than halt or reset. 
                            12036 ; 210  |#define DebugBuildAssert(x)    
                            12037 ; 211  |#endif
                            12038 ; 212  |
                            12039 ; 213  |// Do this in your C files to make a reminder that's displayed during the build.
                            12040 ; 214  |//  #pragma asm
                            12041 ; 215  |//  WARN 'Note to builder: reminder to do this after verifying that'
                            12042 ; 216  |//  #pragma endasm
                            12043 ; 217  |
                            12044 ; 218  |
                            12045 ; 219  |#ifdef COLOR_262K
                            12046 ; 220  |#define RGB(r,g,b)    ((0x0000FC & (r)) << 10) | ((0x0000FC & (g)) << 4) | ((0x0000FC & (b)) >> 2)    //262k
                            12047 ; 221  |#elif defined(COLOR_65K)
                            12048 ; 222  |#define RGB(r,g,b)    ((0x0000F8 & (r)) << 8) | ((0x0000FC & (g)) << 3) | ((0x0000F8 & (b)) >> 3)  //65k
                            12049 ; 223  |#else
                            12050 ; 224  |#define RGB(r,g,b)       ((0x0000F0 & (r)) << 4) | (0x0000F0 & (g)) | ((0x0000F0 & (b)) >> 4)
                            12051 ; 225  |#endif
                            12052 ; 226  |    
                            12053 ; 227  |#endif // #ifndef _TYPES_H
                            12054 
                            12056 
                            12057 ; 29   |
                            12058 ; 30   |//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                            12059 ; 31   |//   TIMER STMP Registers 
                            12060 ; 32   |//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                            12061 ; 33   |#define HW_TMR_BASEADDR (0xF100)
                            12062 ; 34   |
                            12063 ; 35   |#define HW_TMR0_BASEADDR HW_TMR_BASEADDR
                            12064 ; 36   |#define HW_TMR1_BASEADDR HW_TMR_BASEADDR+0x40
                            12065 ; 37   |#define HW_TMR2_BASEADDR HW_TMR_BASEADDR+0x80
                            12066 ; 38   |#define HW_TMR3_BASEADDR HW_TMR_BASEADDR+0xC0
                            12067 ; 39   |
                            12068 ; 40   |#define HW_TIMER_NUMBER_0 0
                            12069 ; 41   |#define HW_TIMER_NUMBER_1 1
                            12070 ; 42   |#define HW_TIMER_NUMBER_2 2
                            12071 ; 43   |#define HW_TIMER_NUMBER_3 3
                            12072 ; 44   |
                            12073 ; 45   |#define HW_TMRCSR 0
                            12074 ; 46   |#define HW_TMRCNTR 1
                            12075 ; 47   |
                            12076 ; 48   |
                            12077 ; 49   |/////////////////////////////////////////////////////////////////////////////////
                            12078 ; 50   |//  TIMER CSR (HW_TMR0CSR) Bit Definitions
                            12079 ; 51   |#define HW_TMR0CSR_TIMER_ENABLE_BITPOS (0)
                            12080 ; 52   |#define HW_TMR0CSR_TIMER_INT_EN_BITPOS (1)
                            12081 ; 53   |#define HW_TMR0CSR_INVERT_BITPOS (2)
                            12082 ; 54   |#define HW_TMR0CSR_TIMER_CONTROL_BITPOS (3)
                            12083 ; 55   |#define HW_TMR0CSR_TIMER_STATUS_BITPOS (7)
                            12084 ; 56   |#define HW_TMR0CSR_TIMER_MODE_BITPOS (8)
                            12085 ; 57   |#define HW_TMR0CSR_CLKGT_BITPOS (23)
                            12086 ; 58   |
                            12087 ; 59   |#define HW_TMR0CSR_TIMER_ENABLE_WIDTH (1)
                            12088 ; 60   |#define HW_TMR0CSR_TIMER_INT_EN_WIDTH (1)
                            12089 ; 61   |#define HW_TMR0CSR_INVERT_WIDTH (1)
                            12090 ; 62   |#define HW_TMR0CSR_TIMER_CONTROL_WIDTH (3)
                            12091 ; 63   |#define HW_TMR0CSR_TIMER_STATUS_WIDTH (1)
                            12092 ; 64   |#define HW_TMR0CSR_TIMER_MODE_WIDTH (2)
                            12093 ; 65   |#define HW_TMR0CSR_CLKGT_WIDTH (1)
                            12094 ; 66   |
                            12095 ; 67   |#define HW_TMR0CSR_TIMER_ENABLE_SETMASK (((1<<HW_TMR0CSR_TIMER_ENABLE_WIDTH)-1)<<HW_TMR0CSR_TIMER_ENABLE_BITPOS)
                            12096 ; 68   |#define HW_TMR0CSR_TIMER_INT_EN_SETMASK (((1<<HW_TMR0CSR_TIMER_INT_EN_WIDTH)-1)<<HW_TMR0CSR_TIMER_INT_EN_BITPOS)
                            12097 ; 69   |#define HW_TMR0CSR_INVERT_SETMASK (((1<<HW_TMR0CSR_INVERT_WIDTH)-1)<<HW_TMR0CSR_INVERT_BITPOS)
                            12098 ; 70   |#define HW_TMR0CSR_TIMER_CONTROL_SETMASK (((1<<HW_TMR0CSR_TIMER_CONTROL_WIDTH)-1)<<HW_TMR0CSR_TIMER_CONTROL_BITPOS)
                            12099 ; 71   |#define HW_TMR0CSR_TIMER_STATUS_SETMASK (((1<<HW_TMR0CSR_TIMER_STATUS_WIDTH)-1)<<HW_TMR0CSR_TIMER_STATUS_BITPOS)
                            12100 ; 72   |#define HW_TMR0CSR_TIMER_MODE_SETMASK (((1<<HW_TMR0CSR_TIMER_MODE_WIDTH)-1)<<HW_TMR0CSR_TIMER_MODE_BITPOS)
                            12101 ; 73   |#define HW_TMR0CSR_CLKGT_SETMASK (((1<<HW_TMR0CSR_CLKGT_WIDTH)-1)<<HW_TMR0CSR_CLKGT_BITPOS)
                            12102 ; 74   |
                            12103 ; 75   |#define HW_TMR0CSR_TIMER_ENABLE_CLRMASK (~(WORD)HW_TMR0CSR_TIMER_ENABLE_SETMASK)
                            12104 ; 76   |#define HW_TMR0CSR_TIMER_INT_EN_CLRMASK (~(WORD)HW_TMR0CSR_TIMER_INT_EN_SETMASK)
                            12105 ; 77   |#define HW_TMR0CSR_INVERT_CLRMASK (~(WORD)HW_TMR0CSR_INVERT_SETMASK)
                            12106 ; 78   |#define HW_TMR0CSR_TIMER_CONTROL_CLRMASK (~(WORD)HW_TMR0CSR_TIMER_CONTROL_SETMASK)
                            12107 ; 79   |#define HW_TMR0CSR_TIMER_STATUS_CLRMASK (~(WORD)HW_TMR0CSR_TIMER_STATUS_SETMASK)
                            12108 ; 80   |#define HW_TMR0CSR_TIMER_MODE_CLRMASK (~(WORD)HW_TMR0CSR_TIMER_MODE_SETMASK)
                            12109 ; 81   |#define HW_TMR0CSR_CLKGT_CLRMASK (~(WORD)HW_TMR0CSR_CLKGT_SETMASK)
                            12110 ; 82   |
                            12111 ; 83   |/////////////////////////////////////////////////////////////////////////////////
                            12112 ; 84   |//  TIMER CSR (HW_TMR1CSR) Bit Definitions
                            12113 ; 85   |#define HW_TMR1CSR_TIMER_ENABLE_BITPOS (0)
                            12114 ; 86   |#define HW_TMR1CSR_TIMER_INT_EN_BITPOS (1)
                            12115 ; 87   |#define HW_TMR1CSR_INVERT_BITPOS (2)
                            12116 ; 88   |#define HW_TMR1CSR_TIMER_CONTROL_BITPOS (3)
                            12117 ; 89   |#define HW_TMR1CSR_TIMER_STATUS_BITPOS (7)
                            12118 ; 90   |#define HW_TMR1CSR_TIMER_MODE_BITPOS (8)
                            12119 ; 91   |#define HW_TMR1CSR_CLKGT_BITPOS (23)
                            12120 ; 92   |
                            12121 ; 93   |#define HW_TMR1CSR_TIMER_ENABLE_WIDTH (1)
                            12122 ; 94   |#define HW_TMR1CSR_TIMER_INT_EN_WIDTH (1)
                            12123 ; 95   |#define HW_TMR1CSR_INVERT_WIDTH (1)
                            12124 ; 96   |#define HW_TMR1CSR_TIMER_CONTROL_WIDTH (3)
                            12125 ; 97   |#define HW_TMR1CSR_TIMER_STATUS_WIDTH (1)
                            12126 ; 98   |#define HW_TMR1CSR_TIMER_MODE_WIDTH (2)
                            12127 ; 99   |#define HW_TMR1CSR_CLKGT_WIDTH (1)
                            12128 ; 100  |
                            12129 ; 101  |#define HW_TMR1CSR_TIMER_ENABLE_SETMASK (((1<<HW_TMR1CSR_TIMER_ENABLE_WIDTH)-1)<<HW_TMR1CSR_TIMER_ENABLE_BITPOS)
                            12130 ; 102  |#define HW_TMR1CSR_TIMER_INT_EN_SETMASK (((1<<HW_TMR1CSR_TIMER_INT_EN_WIDTH)-1)<<HW_TMR1CSR_TIMER_INT_EN_BITPOS)
                            12131 ; 103  |#define HW_TMR1CSR_INVERT_SETMASK (((1<<HW_TMR1CSR_INVERT_WIDTH)-1)<<HW_TMR1CSR_INVERT_BITPOS)
                            12132 ; 104  |#define HW_TMR1CSR_TIMER_CONTROL_SETMASK (((1<<HW_TMR1CSR_TIMER_CONTROL_WIDTH)-1)<<HW_TMR1CSR_TIMER_CONTROL_BITPOS)
                            12133 ; 105  |#define HW_TMR1CSR_TIMER_STATUS_SETMASK (((1<<HW_TMR1CSR_TIMER_STATUS_WIDTH)-1)<<HW_TMR1CSR_TIMER_STATUS_BITPOS)
                            12134 ; 106  |#define HW_TMR1CSR_TIMER_MODE_SETMASK (((1<<HW_TMR1CSR_TIMER_MODE_WIDTH)-1)<<HW_TMR1CSR_TIMER_MODE_BITPOS)
                            12135 ; 107  |#define HW_TMR1CSR_CLKGT_SETMASK (((1<<HW_TMR1CSR_CLKGT_WIDTH)-1)<<HW_TMR1CSR_CLKGT_BITPOS)
                            12136 ; 108  |
                            12137 ; 109  |#define HW_TMR1CSR_TIMER_ENABLE_CLRMASK (~(WORD)HW_TMR1CSR_TIMER_ENABLE_SETMASK)
                            12138 ; 110  |#define HW_TMR1CSR_TIMER_INT_EN_CLRMASK (~(WORD)HW_TMR1CSR_TIMER_INT_EN_SETMASK)
                            12139 ; 111  |#define HW_TMR1CSR_INVERT_CLRMASK (~(WORD)HW_TMR1CSR_INVERT_SETMASK)
                            12140 ; 112  |#define HW_TMR1CSR_TIMER_CONTROL_CLRMASK (~(WORD)HW_TMR1CSR_TIMER_CONTROL_SETMASK)
                            12141 ; 113  |#define HW_TMR1CSR_TIMER_STATUS_CLRMASK (~(WORD)HW_TMR1CSR_TIMER_STATUS_SETMASK)
                            12142 ; 114  |#define HW_TMR1CSR_TIMER_MODE_CLRMASK (~(WORD)HW_TMR1CSR_TIMER_MODE_SETMASK)
                            12143 ; 115  |#define HW_TMR1CSR_CLKGT_CLRMASK (~(WORD)HW_TMR1CSR_CLKGT_SETMASK)
                            12144 ; 116  |
                            12145 ; 117  |/////////////////////////////////////////////////////////////////////////////////
                            12146 ; 118  |//  TIMER CSR (HW_TMR2CSR) Bit Definitions
                            12147 ; 119  |#define HW_TMR2CSR_TIMER_ENABLE_BITPOS (0)
                            12148 ; 120  |#define HW_TMR2CSR_TIMER_INT_EN_BITPOS (1)
                            12149 ; 121  |#define HW_TMR2CSR_INVERT_BITPOS (2)
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page  49

M:ADDR CODE           CYCLES LINE SOURCELINE
                            12150 ; 122  |#define HW_TMR2CSR_TIMER_CONTROL_BITPOS (3)
                            12151 ; 123  |#define HW_TMR2CSR_TIMER_STATUS_BITPOS (7)
                            12152 ; 124  |#define HW_TMR2CSR_TIMER_MODE_BITPOS (8)
                            12153 ; 125  |#define HW_TMR2CSR_CLKGT_BITPOS (23)
                            12154 ; 126  |
                            12155 ; 127  |#define HW_TMR2CSR_TIMER_ENABLE_WIDTH (1)
                            12156 ; 128  |#define HW_TMR2CSR_TIMER_INT_EN_WIDTH (1)
                            12157 ; 129  |#define HW_TMR2CSR_INVERT_WIDTH (1)
                            12158 ; 130  |#define HW_TMR2CSR_TIMER_CONTROL_WIDTH (3)
                            12159 ; 131  |#define HW_TMR2CSR_TIMER_STATUS_WIDTH (1)
                            12160 ; 132  |#define HW_TMR2CSR_TIMER_MODE_WIDTH (2)
                            12161 ; 133  |#define HW_TMR2CSR_CLKGT_WIDTH (1)
                            12162 ; 134  |
                            12163 ; 135  |#define HW_TMR2CSR_TIMER_ENABLE_SETMASK (((1<<HW_TMR2CSR_TIMER_ENABLE_WIDTH)-1)<<HW_TMR2CSR_TIMER_ENABLE_BITPOS)
                            12164 ; 136  |#define HW_TMR2CSR_TIMER_INT_EN_SETMASK (((1<<HW_TMR2CSR_TIMER_INT_EN_WIDTH)-1)<<HW_TMR2CSR_TIMER_INT_EN_BITPOS)
                            12165 ; 137  |#define HW_TMR2CSR_INVERT_SETMASK (((1<<HW_TMR2CSR_INVERT_WIDTH)-1)<<HW_TMR2CSR_INVERT_BITPOS)
                            12166 ; 138  |#define HW_TMR2CSR_TIMER_CONTROL_SETMASK (((1<<HW_TMR2CSR_TIMER_CONTROL_WIDTH)-1)<<HW_TMR2CSR_TIMER_CONTROL_BITPOS)
                            12167 ; 139  |#define HW_TMR2CSR_TIMER_STATUS_SETMASK (((1<<HW_TMR2CSR_TIMER_STATUS_WIDTH)-1)<<HW_TMR2CSR_TIMER_STATUS_BITPOS)
                            12168 ; 140  |#define HW_TMR2CSR_TIMER_MODE_SETMASK (((1<<HW_TMR2CSR_TIMER_MODE_WIDTH)-1)<<HW_TMR2CSR_TIMER_MODE_BITPOS)
                            12169 ; 141  |#define HW_TMR2CSR_CLKGT_SETMASK (((1<<HW_TMR2CSR_CLKGT_WIDTH)-1)<<HW_TMR2CSR_CLKGT_BITPOS)
                            12170 ; 142  |
                            12171 ; 143  |#define HW_TMR2CSR_TIMER_ENABLE_CLRMASK (~(WORD)HW_TMR2CSR_TIMER_ENABLE_SETMASK)
                            12172 ; 144  |#define HW_TMR2CSR_TIMER_INT_EN_CLRMASK (~(WORD)HW_TMR2CSR_TIMER_INT_EN_SETMASK)
                            12173 ; 145  |#define HW_TMR2CSR_INVERT_CLRMASK (~(WORD)HW_TMR2CSR_INVERT_SETMASK)
                            12174 ; 146  |#define HW_TMR2CSR_TIMER_CONTROL_CLRMASK (~(WORD)HW_TMR2CSR_TIMER_CONTROL_SETMASK)
                            12175 ; 147  |#define HW_TMR2CSR_TIMER_STATUS_CLRMASK (~(WORD)HW_TMR2CSR_TIMER_STATUS_SETMASK)
                            12176 ; 148  |#define HW_TMR2CSR_TIMER_MODE_CLRMASK (~(WORD)HW_TMR2CSR_TIMER_MODE_SETMASK)
                            12177 ; 149  |#define HW_TMR2CSR_CLKGT_CLRMASK (~(WORD)HW_TMR2CSR_CLKGT_SETMASK)
                            12178 ; 150  |
                            12179 ; 151  |/////////////////////////////////////////////////////////////////////////////////
                            12180 ; 152  |//  TIMER CSR (HW_TMR3CSR) Bit Definitions
                            12181 ; 153  |#define HW_TMR3CSR_TIMER_ENABLE_BITPOS (0)
                            12182 ; 154  |#define HW_TMR3CSR_TIMER_INT_EN_BITPOS (1)
                            12183 ; 155  |#define HW_TMR3CSR_INVERT_BITPOS (2)
                            12184 ; 156  |#define HW_TMR3CSR_TIMER_CONTROL_BITPOS (3)
                            12185 ; 157  |#define HW_TMR3CSR_TIMER_STATUS_BITPOS (7)
                            12186 ; 158  |#define HW_TMR3CSR_TIMER_MODE_BITPOS (8)
                            12187 ; 159  |#define HW_TMR3CSR_CLKGT_BITPOS (23)
                            12188 ; 160  |
                            12189 ; 161  |#define HW_TMR3CSR_TIMER_ENABLE_WIDTH (1)
                            12190 ; 162  |#define HW_TMR3CSR_TIMER_INT_EN_WIDTH (1)
                            12191 ; 163  |#define HW_TMR3CSR_INVERT_WIDTH (1)
                            12192 ; 164  |#define HW_TMR3CSR_TIMER_CONTROL_WIDTH (3)
                            12193 ; 165  |#define HW_TMR3CSR_TIMER_STATUS_WIDTH (1)
                            12194 ; 166  |#define HW_TMR3CSR_TIMER_MODE_WIDTH (2)
                            12195 ; 167  |#define HW_TMR3CSR_CLKGT_WIDTH (1)
                            12196 ; 168  |
                            12197 ; 169  |#define HW_TMR3CSR_TIMER_ENABLE_SETMASK (((1<<HW_TMR3CSR_TIMER_ENABLE_WIDTH)-1)<<HW_TMR3CSR_TIMER_ENABLE_BITPOS)
                            12198 ; 170  |#define HW_TMR3CSR_TIMER_INT_EN_SETMASK (((1<<HW_TMR3CSR_TIMER_INT_EN_WIDTH)-1)<<HW_TMR3CSR_TIMER_INT_EN_BITPOS)
                            12199 ; 171  |#define HW_TMR3CSR_INVERT_SETMASK (((1<<HW_TMR3CSR_INVERT_WIDTH)-1)<<HW_TMR3CSR_INVERT_BITPOS)
                            12200 ; 172  |#define HW_TMR3CSR_TIMER_CONTROL_SETMASK (((1<<HW_TMR3CSR_TIMER_CONTROL_WIDTH)-1)<<HW_TMR3CSR_TIMER_CONTROL_BITPOS)
                            12201 ; 173  |#define HW_TMR3CSR_TIMER_STATUS_SETMASK (((1<<HW_TMR3CSR_TIMER_STATUS_WIDTH)-1)<<HW_TMR3CSR_TIMER_STATUS_BITPOS)
                            12202 ; 174  |#define HW_TMR3CSR_TIMER_MODE_SETMASK (((1<<HW_TMR3CSR_TIMER_MODE_WIDTH)-1)<<HW_TMR3CSR_TIMER_MODE_BITPOS)
                            12203 ; 175  |#define HW_TMR3CSR_CLKGT_SETMASK (((1<<HW_TMR3CSR_CLKGT_WIDTH)-1)<<HW_TMR3CSR_CLKGT_BITPOS)
                            12204 ; 176  |
                            12205 ; 177  |#define HW_TMR3CSR_TIMER_ENABLE_CLRMASK (~(WORD)HW_TMR3CSR_TIMER_ENABLE_SETMASK)
                            12206 ; 178  |#define HW_TMR3CSR_TIMER_INT_EN_CLRMASK (~(WORD)HW_TMR3CSR_TIMER_INT_EN_SETMASK)
                            12207 ; 179  |#define HW_TMR3CSR_INVERT_CLRMASK (~(WORD)HW_TMR3CSR_INVERT_SETMASK)
                            12208 ; 180  |#define HW_TMR3CSR_TIMER_CONTROL_CLRMASK (~(WORD)HW_TMR3CSR_TIMER_CONTROL_SETMASK)
                            12209 ; 181  |#define HW_TMR3CSR_TIMER_STATUS_CLRMASK (~(WORD)HW_TMR3CSR_TIMER_STATUS_SETMASK)
                            12210 ; 182  |#define HW_TMR3CSR_TIMER_MODE_CLRMASK (~(WORD)HW_TMR3CSR_TIMER_MODE_SETMASK)
                            12211 ; 183  |#define HW_TMR3CSR_CLKGT_CLRMASK (~(WORD)HW_TMR3CSR_CLKGT_SETMASK)
                            12212 ; 184  |
                            12213 ; 185  |typedef union               
                            12214 ; 186  |{
                            12215 ; 187  |    struct {
                            12216 ; 188  |       int TIMER_ENABLE              :1;
                            12217 ; 189  |       int TIMER_INT_EN              :1;
                            12218 ; 190  |       int INVERT                    :1;
                            12219 ; 191  |       int TIMER_CONTROL             :3;
                            12220 ; 192  |       int RSVD0                     :1;
                            12221 ; 193  |       int TIMER_STATUS              :1;
                            12222 ; 194  |       int TIMER_MODE                :2;
                            12223 ; 195  |       int RSVD1                     :13;
                            12224 ; 196  |       int CLKGT                     :1;
                            12225 ; 197  |    } B;
                            12226 ; 198  |    int I;
                            12227 ; 199  |} timercsr_type;
                            12228 ; 200  |#define HW_TMR0CSR        (*(volatile timercsr_type _X*) (HW_TMR0_BASEADDR+HW_TMRCSR))  /* Timer0 Control Status Register */
                            12229 ; 201  |#define HW_TMR1CSR        (*(volatile timercsr_type _X*) (HW_TMR1_BASEADDR+HW_TMRCSR))  /* Timer1 Control Status Register */
                            12230 ; 202  |#define HW_TMR2CSR        (*(volatile timercsr_type _X*) (HW_TMR2_BASEADDR+HW_TMRCSR))  /* Timer2 Control Status Register */
                            12231 ; 203  |#define HW_TMR3CSR        (*(volatile timercsr_type _X*) (HW_TMR3_BASEADDR+HW_TMRCSR))  /* Timer3 Control Status Register */
                            12232 ; 204  |
                            12233 ; 205  |/////////////////////////////////////////////////////////////////////////////////
                            12234 ; 206  |//  TIMER CNTR register (HW_TMR0CNTR) Bit Definitions
                            12235 ; 207  |#define HW_TMR0CNTR_COUNT_BITPOS 0
                            12236 ; 208  |#define HW_TMR0CNTR_COUNT_WIDTH 24
                            12237 ; 209  |#define HW_TMR0CNTR_COUNT_SETMASK (((1<<HW_TMR0CNTR_COUNT_WIDTH)-1)<<HW_TMR0CNTR_COUNT_BITPOS)
                            12238 ; 210  |#define HW_TMR0CNTR_COUNT_CLRMASK (~(WORD)HW_TMR0CNTR_COUNT_SETMASK)
                            12239 ; 211  |
                            12240 ; 212  |/////////////////////////////////////////////////////////////////////////////////
                            12241 ; 213  |//  TIMER CNTR register (HW_TMR1CNTR) Bit Definitions
                            12242 ; 214  |#define HW_TMR1CNTR_COUNT_BITPOS 0
                            12243 ; 215  |#define HW_TMR1CNTR_COUNT_WIDTH 24
                            12244 ; 216  |#define HW_TMR1CNTR_COUNT_SETMASK (((1<<HW_TMR1CNTR_COUNT_WIDTH)-1)<<HW_TMR1CNTR_COUNT_BITPOS)
                            12245 ; 217  |#define HW_TMR1CNTR_COUNT_CLRMASK (~(WORD)HW_TMR1CNTR_COUNT_SETMASK)
                            12246 ; 218  |
                            12247 ; 219  |/////////////////////////////////////////////////////////////////////////////////
                            12248 ; 220  |//  TIMER CNTR register (HW_TMR2CNTR) Bit Definitions
                            12249 ; 221  |#define HW_TMR2CNTR_COUNT_BITPOS 0
                            12250 ; 222  |#define HW_TMR2CNTR_COUNT_WIDTH 24
                            12251 ; 223  |#define HW_TMR2CNTR_COUNT_SETMASK (((1<<HW_TMR2CNTR_COUNT_WIDTH)-1)<<HW_TMR2CNTR_COUNT_BITPOS)
                            12252 ; 224  |#define HW_TMR2CNTR_COUNT_CLRMASK (~(WORD)HW_TMR2CNTR_COUNT_SETMASK)
                            12253 ; 225  |
                            12254 ; 226  |typedef union               
                            12255 ; 227  |{
                            12256 ; 228  |    struct {
                            12257 ; 229  |       int COUNT                    :24;
                            12258 ; 230  |    } B;
                            12259 ; 231  |    int I;
                            12260 ; 232  |} tmrcntr_type;
                            12261 ; 233  |#define HW_TMR0CNTR        (*(volatile tmrcntr_type _X*) (HW_TMR0_BASEADDR+HW_TMRCNTR))  /* Timer0 Count Register */
                            12262 ; 234  |#define HW_TMR1CNTR        (*(volatile tmrcntr_type _X*) (HW_TMR1_BASEADDR+HW_TMRCNTR))  /* Timer1 Count Register */
                            12263 ; 235  |#define HW_TMR2CNTR        (*(volatile tmrcntr_type _X*) (HW_TMR2_BASEADDR+HW_TMRCNTR))  /* Timer2 Count Register */
                            12264 ; 236  |#define HW_TMR3CNTR        (*(volatile tmrcntr_type _X*) (HW_TMR3_BASEADDR+HW_TMRCNTR))  /* Timer3 Count Register */
                            12265 ; 237  |
                            12266 ; 238  |
                            12267 ; 239  |//*********************  REGISTER ALIAS DEFINES TO MATCH LEGACY CODE *******************************
                            12268 ; 240  |// The following defines were added to match regs3410.inc definition to build SDK2XXX code without needing 
                            12269 ; 241  |// to update the actual files. Only the defines needed to build SDK2.400 were added.   
                            12270 ; 242  |#define HW_TIMER_BASEADDR 0xF100
                            12271 ; 243  |
                            12272 ; 244  |#define HW_TIMER0_BASEADDR HW_TIMER_BASEADDR
                            12273 ; 245  |#define HW_TIMER1_BASEADDR HW_TIMER0_BASEADDR+0x40
                            12274 ; 246  |#define HW_TIMER2_BASEADDR HW_TIMER1_BASEADDR+0x40
                            12275 ; 247  |#define HW_TIMER3_BASEADDR HW_TIMER2_BASEADDR+0x40
                            12276 ; 248  |
                            12277 ; 249  |#define HW_TMR0CR HW_TMR0_BASEADDR
                            12278 ; 250  |#define HW_TMR1CR HW_TMR1_BASEADDR
                            12279 ; 251  |#define HW_TMR2CR HW_TMR2_BASEADDR
                            12280 ; 252  |#define HW_TMR3CR HW_TIMER3_BASEADDR
                            12281 ; 253  |
                            12282 ; 254  |// Timer enable
                            12283 ; 255  |#define HW_TMRCR_TE_BITPOS 0   
                            12284 ; 256  |// Timer clock gating control
                            12285 ; 257  |#define HW_TMR3CR_CG_BITPOS 23  
                            12286 ; 258  |#define HW_TMR3CR_CG_SETMASK 1<<HW_TMR3CR_CG_BITPOS
                            12287 ; 259  |#define HW_TMR3CR_CG_CLRMASK ~(WORD)HW_TMR3CR_CG_SETMASK
                            12288 ; 260  |#endif
                            12289 ; 261  |
                            12290 ; 262  |
                            12291 ; 263  |
                            12292 ; 264  |
                            12293 
                            12295 
                            12296 ; 36   |#include "regsusb20.h"
                            12297 
                            12299 
                            12300 ; 1    |//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                            12301 ; 2    |//;  Copyright(C) SigmaTel, Inc. 2002-2003
                            12302 ; 3    |//;  File        : regsusb20ip.inc
                            12303 ; 4    |//;  Description : USB20 IP Register definition
                            12304 ; 5    |//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                            12305 ; 6    |
                            12306 ; 7    |// The following naming conventions are followed in this file.
                            12307 ; 8    |// All registers are named using the format...
                            12308 ; 9    |//     HW_<module>_<regname>
                            12309 ; 10   |// where <module> is the module name which can be any of the following...
                            12310 ; 11   |//     USB20
                            12311 ; 12   |// (Note that when there is more than one copy of a particular module, the
                            12312 ; 13   |// module name includes a number starting from 0 for the first instance of
                            12313 ; 14   |// that module)
                            12314 ; 15   |// <regname> is the specific register within that module
                            12315 ; 16   |// We also define the following...
                            12316 ; 17   |//     HW_<module>_<regname>_BITPOS
                            12317 ; 18   |// which defines the starting bit (i.e. LSB) of a multi bit field
                            12318 ; 19   |//     HW_<module>_<regname>_SETMASK
                            12319 ; 20   |// which does something else, and
                            12320 ; 21   |//     HW_<module>_<regname>_CLRMASK
                            12321 ; 22   |// which does something else.
                            12322 ; 23   |// Other rules
                            12323 ; 24   |//     All caps
                            12324 ; 25   |//     Numeric identifiers start at 0
                            12325 ; 26   |
                            12326 ; 27   |#if !(defined(regsusb20inc))
                            12327 ; 28   |#define regsusb20inc 1
                            12328 ; 29   |
                            12329 ; 30   |#include "types.h"
                            12330 
                            12332 
                            12333 ; 1    |////////////////////////////////////////////////////////////////////////////////
                            12334 ; 2    |// Copyright(C) SigmaTel, Inc. 2000-2004
                            12335 ; 3    |//
                            12336 ; 4    |// Filename: types.h
                            12337 ; 5    |// Description: Standard data types
                            12338 ; 6    |////////////////////////////////////////////////////////////////////////////////
                            12339 ; 7    |
                            12340 ; 8    |#ifndef _TYPES_H
                            12341 ; 9    |#define _TYPES_H
                            12342 ; 10   |
                            12343 ; 11   |// TODO:  move this outta here!
                            12344 ; 12   |#if !defined(NOERROR)
                            12345 ; 13   |#define NOERROR 0
                            12346 ; 14   |#define SUCCESS 0
                            12347 ; 15   |#endif 
                            12348 ; 16   |#if !defined(SUCCESS)
                            12349 ; 17   |#define SUCCESS  0
                            12350 ; 18   |#endif
                            12351 ; 19   |#if !defined(ERROR)
                            12352 ; 20   |#define ERROR   -1
                            12353 ; 21   |#endif
                            12354 ; 22   |#if !defined(FALSE)
                            12355 ; 23   |#define FALSE 0
                            12356 ; 24   |#endif
                            12357 ; 25   |#if !defined(TRUE)
                            12358 ; 26   |#define TRUE  1
                            12359 ; 27   |#endif
                            12360 ; 28   |
                            12361 ; 29   |#if !defined(NULL)
                            12362 ; 30   |#define NULL 0
                            12363 ; 31   |#endif
                            12364 ; 32   |
                            12365 ; 33   |#define MAX_INT     0x7FFFFF
                            12366 ; 34   |#define MAX_LONG    0x7FFFFFffffff
                            12367 ; 35   |        // max positive unsigned long value: -1 == 0xFFFFFFffffff
                            12368 ; 36   |#define MAX_ULONG   (-1) 
                            12369 ; 37   |
                            12370 ; 38   |#define WORD_SIZE   24              // word size in bits
                            12371 ; 39   |#define BYTES_PER_WORD 3            // 8 bit bytes
                            12372 ; 40   |
                            12373 ; 41   |
                            12374 ; 42   |#define BYTE    unsigned char       // btVarName
                            12375 ; 43   |#define CHAR    signed char         // cVarName
                            12376 ; 44   |#define USHORT  unsigned short      // usVarName
                            12377 ; 45   |#define SHORT   unsigned short      // sVarName
                            12378 ; 46   |#define WORD    unsigned int        // wVarName
                            12379 ; 47   |#define INT     signed int          // iVarName
                            12380 ; 48   |#define DWORD   unsigned long       // dwVarName
                            12381 ; 49   |#define LONG    signed long         // lVarName
                            12382 ; 50   |#define BOOL    unsigned int        // bVarName
                            12383 ; 51   |#define FRACT   _fract              // frVarName
                            12384 ; 52   |#define LFRACT  long _fract         // lfrVarName
                            12385 ; 53   |#define CIRC    _circ               // cp<type prefix>VarName (see below)
                            12386 ; 54   |#define FLOAT   float               // fVarName
                            12387 ; 55   |#define DBL     double              // dVarName
                            12388 ; 56   |#define ENUM    enum                // eVarName
                            12389 ; 57   |#define CMX     _complex            // cmxVarName
                            12390 ; 58   |typedef WORD UCS3;                   // 
                            12391 ; 59   |
                            12392 ; 60   |#define UINT16  unsigned short
                            12393 ; 61   |#define UINT8   unsigned char   
                            12394 ; 62   |#define UINT32  unsigned long
                            12395 ; 63   |#define UINT64  unsigned long   // need to figure out how to do 64 bit values.  Or port exisiting code to only use 48 bit
                            12396 ; 64   |#define INT64   unsigned long   // need to figure out how to do 64 bit values.  Or port exisiting code to only use 48 bit
                            12397 ; 65   |#define WCHAR   UINT16
                            12398 ; 66   |
                            12399 ; 67   |//UINT128 is 16 bytes or 6 words
                            12400 ; 68   |typedef struct UINT128_3500 {   
                            12401 ; 69   |    int val[6];     
                            12402 ; 70   |} UINT128_3500;
                            12403 ; 71   |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page  50

M:ADDR CODE           CYCLES LINE SOURCELINE
                            12404 ; 72   |#define UINT128   UINT128_3500
                            12405 ; 73   |
                            12406 ; 74   |// Little endian word packed byte strings:   
                            12407 ; 75   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                            12408 ; 76   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                            12409 ; 77   |// Little endian word packed byte strings:   
                            12410 ; 78   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                            12411 ; 79   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                            12412 ; 80   |
                            12413 ; 81   |// Declare Memory Spaces To Use When Coding
                            12414 ; 82   |// A. Sector Buffers
                            12415 ; 83   |#define SECTOR_BUFFER_MEM_X _X
                            12416 ; 84   |#define SECTOR_BUFFER_MEM_Y _Y
                            12417 ; 85   |#define SECTOR_BUFFER_MEM SECTOR_BUFFER_MEM_X
                            12418 ; 86   |typedef WORD SECTOR_BUFFER_MEM SECTOR_BUFFER;
                            12419 ; 87   |typedef SECTOR_BUFFER * P_SECTOR_BUFFER;
                            12420 ; 88   |// B. Media DDI Memory
                            12421 ; 89   |#define MEDIA_DDI_MEM _Y
                            12422 ; 90   |
                            12423 ; 91   |
                            12424 ; 92   |
                            12425 ; 93   |// Pointers to linear structures are labeled as: p<type prefix>VarName
                            12426 ; 94   |// Examples of circular pointers:
                            12427 ; 95   |//    INT CIRC cpiVarName
                            12428 ; 96   |//    DWORD CIRC cpdwVarName
                            12429 ; 97   |
                            12430 ; 98   |#define RETCODE INT                 // rcVarName
                            12431 ; 99   |
                            12432 ; 100  |// generic bitfield structure
                            12433 ; 101  |struct Bitfield {
                            12434 ; 102  |    unsigned int B0  :1;
                            12435 ; 103  |    unsigned int B1  :1;
                            12436 ; 104  |    unsigned int B2  :1;
                            12437 ; 105  |    unsigned int B3  :1;
                            12438 ; 106  |    unsigned int B4  :1;
                            12439 ; 107  |    unsigned int B5  :1;
                            12440 ; 108  |    unsigned int B6  :1;
                            12441 ; 109  |    unsigned int B7  :1;
                            12442 ; 110  |    unsigned int B8  :1;
                            12443 ; 111  |    unsigned int B9  :1;
                            12444 ; 112  |    unsigned int B10 :1;
                            12445 ; 113  |    unsigned int B11 :1;
                            12446 ; 114  |    unsigned int B12 :1;
                            12447 ; 115  |    unsigned int B13 :1;
                            12448 ; 116  |    unsigned int B14 :1;
                            12449 ; 117  |    unsigned int B15 :1;
                            12450 ; 118  |    unsigned int B16 :1;
                            12451 ; 119  |    unsigned int B17 :1;
                            12452 ; 120  |    unsigned int B18 :1;
                            12453 ; 121  |    unsigned int B19 :1;
                            12454 ; 122  |    unsigned int B20 :1;
                            12455 ; 123  |    unsigned int B21 :1;
                            12456 ; 124  |    unsigned int B22 :1;
                            12457 ; 125  |    unsigned int B23 :1;
                            12458 ; 126  |};
                            12459 ; 127  |
                            12460 ; 128  |union BitInt {
                            12461 ; 129  |        struct Bitfield B;
                            12462 ; 130  |        int        I;
                            12463 ; 131  |};
                            12464 ; 132  |
                            12465 ; 133  |#define MAX_MSG_LENGTH 10
                            12466 ; 134  |struct CMessage
                            12467 ; 135  |{
                            12468 ; 136  |        unsigned int m_uLength;
                            12469 ; 137  |        unsigned int m_uMsg[MAX_MSG_LENGTH];
                            12470 ; 138  |};
                            12471 ; 139  |
                            12472 ; 140  |typedef struct {
                            12473 ; 141  |    WORD m_wLength;
                            12474 ; 142  |    WORD m_wMessage;
                            12475 ; 143  |    WORD m_wParams[MAX_MSG_LENGTH];
                            12476 ; 144  |} Message;
                            12477 ; 145  |
                            12478 ; 146  |struct MessageQueueDescriptor
                            12479 ; 147  |{
                            12480 ; 148  |        int *m_pBase;
                            12481 ; 149  |        int m_iModulo;
                            12482 ; 150  |        int m_iSize;
                            12483 ; 151  |        int *m_pHead;
                            12484 ; 152  |        int *m_pTail;
                            12485 ; 153  |};
                            12486 ; 154  |
                            12487 ; 155  |struct ModuleEntry
                            12488 ; 156  |{
                            12489 ; 157  |    int m_iSignaledEventMask;
                            12490 ; 158  |    int m_iWaitEventMask;
                            12491 ; 159  |    int m_iResourceOfCode;
                            12492 ; 160  |    struct MessageQueueDescriptor *m_pMessageQueue;
                            12493 ; 161  |    int _asmfunc (*m_pProcessEntryPoint)(union WaitMask Signals,struct MessageQueueDescriptor *);
                            12494 ; 162  |    int _asmfunc (*m_pInitFunction)(struct MessageQueueDescriptor *);
                            12495 ; 163  |    int m_uTimeOutHigh;
                            12496 ; 164  |    int m_uTimeOutLow;
                            12497 ; 165  |    int _asmfunc (*m_pBackgroundFunction)(struct MessageQueueDescriptor *);
                            12498 ; 166  |};
                            12499 ; 167  |
                            12500 ; 168  |union WaitMask{
                            12501 ; 169  |    struct B{
                            12502 ; 170  |        unsigned int m_bNone     :1;
                            12503 ; 171  |        unsigned int m_bMessage  :1;
                            12504 ; 172  |        unsigned int m_bTimer    :1;
                            12505 ; 173  |        unsigned int m_bButton   :1;
                            12506 ; 174  |    } B;
                            12507 ; 175  |    int I;
                            12508 ; 176  |} ;
                            12509 ; 177  |
                            12510 ; 178  |
                            12511 ; 179  |struct Button {
                            12512 ; 180  |        WORD wButtonEvent;
                            12513 ; 181  |        WORD wUnused[MAX_MSG_LENGTH];   
                            12514 ; 182  |};
                            12515 ; 183  |
                            12516 ; 184  |struct Message {
                            12517 ; 185  |        WORD wMsgLength;
                            12518 ; 186  |        WORD wMsgCommand;
                            12519 ; 187  |        WORD wMsgParms[MAX_MSG_LENGTH-1];
                            12520 ; 188  |};
                            12521 ; 189  |
                            12522 ; 190  |union EventTypes {
                            12523 ; 191  |        struct CMessage msg;
                            12524 ; 192  |        struct Button Button ;
                            12525 ; 193  |        struct Message Message;
                            12526 ; 194  |};
                            12527 ; 195  |
                            12528 ; 196  |// next 2 used to get updater build to return correct protocol ver in scsi response.
                            12529 ; 197  |#define BUILD_TYPE_UPDATER  0x100
                            12530 ; 198  |#define BUILD_TYPE_HOSTLINK 0x101
                            12531 ; 199  |#define BUILD_TYPE_PLAYER   0x102
                            12532 ; 200  |
                            12533 ; 201  |// Resets part if RETAIL build. DEBUG build executes debug instruction to halt.
                            12534 ; 202  |#define SystemHalt() __asm(" include 'sysmacro.asm' \n error") 
                            12535 ; 203  |#define assert(x)    if(!(x)) __asm(" include 'sysmacro.asm' \n error")
                            12536 ; 204  |
                            12537 ; 205  |#if DEBUG
                            12538 ; 206  |// For DEBUG builds, DebugBuildAssert(condition) halts if condition evaluates to FALSE. 
                            12539 ; 207  |#define DebugBuildAssert(x)    if(!(x)) __asm(" debug ")
                            12540 ; 208  |#else 
                            12541 ; 209  |// For RETAIL builds, DebugBuildAssert(condition) does nothing & execution continues rather than halt or reset. 
                            12542 ; 210  |#define DebugBuildAssert(x)    
                            12543 ; 211  |#endif
                            12544 ; 212  |
                            12545 ; 213  |// Do this in your C files to make a reminder that's displayed during the build.
                            12546 ; 214  |//  #pragma asm
                            12547 ; 215  |//  WARN 'Note to builder: reminder to do this after verifying that'
                            12548 ; 216  |//  #pragma endasm
                            12549 ; 217  |
                            12550 ; 218  |
                            12551 ; 219  |#ifdef COLOR_262K
                            12552 ; 220  |#define RGB(r,g,b)    ((0x0000FC & (r)) << 10) | ((0x0000FC & (g)) << 4) | ((0x0000FC & (b)) >> 2)    //262k
                            12553 ; 221  |#elif defined(COLOR_65K)
                            12554 ; 222  |#define RGB(r,g,b)    ((0x0000F8 & (r)) << 8) | ((0x0000FC & (g)) << 3) | ((0x0000F8 & (b)) >> 3)  //65k
                            12555 ; 223  |#else
                            12556 ; 224  |#define RGB(r,g,b)       ((0x0000F0 & (r)) << 4) | (0x0000F0 & (g)) | ((0x0000F0 & (b)) >> 4)
                            12557 ; 225  |#endif
                            12558 ; 226  |    
                            12559 ; 227  |#endif // #ifndef _TYPES_H
                            12560 
                            12562 
                            12563 ; 31   |
                            12564 ; 32   |//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                            12565 ; 33   |//   USB2.0 STMP Registers 
                            12566 ; 34   |//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                            12567 ; 35   |#define HW_USB_BASEADDR (0xF200)
                            12568 ; 36   |
                            12569 ; 37   |
                            12570 ; 38   |/////////////////////////////////////////////////////////////////////////////////
                            12571 ; 39   |//  USB Control Status Register (HW_USBCSR) Bit Definitions
                            12572 ; 40   |#define HW_USBCSR_USBEN_BITPOS (0)
                            12573 ; 41   |#define HW_USBCSR_WAKEUPIRQ_BITPOS (1)
                            12574 ; 42   |#define HW_USBCSR_WAKEUPIE_BITPOS (2)
                            12575 ; 43   |#define HW_USBCSR_VBUSCXIRQ_BITPOS (3)
                            12576 ; 44   |#define HW_USBCSR_VBUSCXIE_BITPOS (4)
                            12577 ; 45   |#define HW_USBCSR_VBUSDISCXIRQ_BITPOS (5)
                            12578 ; 46   |#define HW_USBCSR_VBUSDISCXIE_BITPOS (6)
                            12579 ; 47   |#define HW_USBCSR_CLKOFF_BITPOS (7)
                            12580 ; 48   |#define HW_USBCSR_SUSP_BITPOS (8)
                            12581 ; 49   |#define HW_USBCSR_SUSPF_BITPOS (9)
                            12582 ; 50   |#define HW_USBCSR_UTMITST_BITPOS (10)
                            12583 ; 51   |#define HW_USBCSR_UTMI_EXT_BITPOS (11)
                            12584 ; 52   |#define HW_USBCSR_PLUGGEDIN_EN_BITPOS (12)
                            12585 ; 53   |#define HW_USBCSR_PLUGGEDIN_BITPOS (13)
                            12586 ; 54   |#define HW_USBCSR_HOSTDISCONNECT_BITPOS (22)
                            12587 ; 55   |#define HW_USBCSR_VBUSSENSE_BITPOS (23)
                            12588 ; 56   |
                            12589 ; 57   |#define HW_USBCSR_USBEN_SETMASK (1<<HW_USBCSR_USBEN_BITPOS)        
                            12590 ; 58   |#define HW_USBCSR_WAKEUPIRQ_SETMASK (1<<HW_USBCSR_WAKEUPIRQ_BITPOS) 
                            12591 ; 59   |#define HW_USBCSR_WAKEUPIE_SETMASK (1<<HW_USBCSR_WAKEUPIE_BITPOS)  
                            12592 ; 60   |#define HW_USBCSR_VBUSCXIRQ_SETMASK (1<<HW_USBCSR_VBUSCXIRQ_BITPOS)
                            12593 ; 61   |#define HW_USBCSR_VBUSCXIE_SETMASK (1<<HW_USBCSR_VBUSCXIE_BITPOS)
                            12594 ; 62   |#define HW_USBCSR_VBUSDISCXIRQ_SETMASK (1<<HW_USBCSR_VBUSDISCXIRQ_BITPOS)
                            12595 ; 63   |#define HW_USBCSR_VBUSDISCXIE_SETMASK (1<<HW_USBCSR_VBUSDISCXIE_BITPOS)
                            12596 ; 64   |#define HW_USBCSR_CLKOFF_SETMASK (1<<HW_USBCSR_CLKOFF_BITPOS)    
                            12597 ; 65   |#define HW_USBCSR_SUSP_SETMASK (1<<HW_USBCSR_SUSP_BITPOS)      
                            12598 ; 66   |#define HW_USBCSR_SUSPF_SETMASK (1<<HW_USBCSR_SUSPF_BITPOS)     
                            12599 ; 67   |#define HW_USBCSR_UTMITST_SETMASK (1<<HW_USBCSR_UTMITST_BITPOS)   
                            12600 ; 68   |#define HW_USBCSR_UTMI_EXT_SETMASK (1<<HW_USBCSR_UTMI_EXT_BITPOS)
                            12601 ; 69   |#define HW_USBCSR_VBUSSENSE_SETMASK (1<<HW_USBCSR_VBUSSENSE_BITPOS)
                            12602 ; 70   |
                            12603 ; 71   |
                            12604 ; 72   |#define HW_USBCSR_USBEN_CLRMASK (~(WORD)HW_USBCSR_USBEN_SETMASK)     
                            12605 ; 73   |#define HW_USBCSR_WAKEUPIRQ_CLRMASK (~(WORD)HW_USBCSR_WAKEUPIRQ_SETMASK) 
                            12606 ; 74   |#define HW_USBCSR_WAKEUPIE_CLRMASK (~(WORD)HW_USBCSR_WAKEUPIE_SETMASK)  
                            12607 ; 75   |#define HW_USBCSR_VBUSCXIRQ_CLRMASK (~(WORD)HW_USBCSR_VBUSCXIRQ_SETMASK)
                            12608 ; 76   |#define HW_USBCSR_VBUSCXIE_CLRMASK (~(WORD)HW_USBCSR_VBUSCXIE_SETMASK)
                            12609 ; 77   |#define HW_USBCSR_VBUSDISCXIRQ_CLRMASK (~(WORD)HW_USBCSR_VBUSDISCXIRQ_SETMASK)
                            12610 ; 78   |#define HW_USBCSR_VBUSDISCXIE_CLRMASK (~(WORD)HW_USBCSR_VBUSDISCXIE_SETMASK) 
                            12611 ; 79   |#define HW_USBCSR_CLKOFF_CLRMASK (~(WORD)HW_USBCSR_CLKOFF_SETMASK)    
                            12612 ; 80   |#define HW_USBCSR_SUSP_CLRMASK (~(WORD)HW_USBCSR_SUSP_SETMASK)      
                            12613 ; 81   |#define HW_USBCSR_SUSPF_CLRMASK (~(WORD)HW_USBCSR_SUSPF_SETMASK)     
                            12614 ; 82   |#define HW_USBCSR_UTMITST_CLRMASK (~(WORD)HW_USBCSR_UTMITST_SETMASK)   
                            12615 ; 83   |#define HW_USBCSR_UTMI_EXT_CLRMASK (~(WORD)HW_USBCSR_UTMI_EXT_SETMASK) 
                            12616 ; 84   |#define HW_USBCSR_VBUSSENSE_CLRMASK (~(WORD)HW_USBCSR_VBUSSENSE_SETMASK) 
                            12617 ; 85   |
                            12618 ; 86   |typedef union               
                            12619 ; 87   |{
                            12620 ; 88   |    struct {
                            12621 ; 89   |        int USBEN          :1;
                            12622 ; 90   |        int WAKEUPIRQ      :1;
                            12623 ; 91   |        int WAKEUPIE       :1;
                            12624 ; 92   |        int VBUSCXIRQ      :1;
                            12625 ; 93   |        int VBUSCXIE       :1;
                            12626 ; 94   |        int VBUSDISCXIRQ   :1;
                            12627 ; 95   |        int VBUSDISCXIE    :1;
                            12628 ; 96   |        int CLKOFF         :1;
                            12629 ; 97   |        int SUSP           :1;
                            12630 ; 98   |        int SUSPF          :1;
                            12631 ; 99   |        int UTMITST        :1;
                            12632 ; 100  |        int ARCCONNECT     :1;
                            12633 ; 101  |        int PLUGGEDIN_EN   :1;
                            12634 ; 102  |        int PLUGGEDIN      :1;
                            12635 ; 103  |        int                :8;
                            12636 ; 104  |        int HOSTDISCONNECT :1;
                            12637 ; 105  |        int VBUSSENSE      :1;
                            12638 ; 106  |    } B;
                            12639 ; 107  |    int I;
                            12640 ; 108  |} usbcsr_type;
                            12641 ; 109  |#define HW_USBCSR      (*(volatile usbcsr_type _X*) (HW_USB_BASEADDR))    /* USB Control / Status Register */
                            12642 ; 110  |
                            12643 ; 111  |/////////////////////////////////////////////////////////////////////////////////
                            12644 ; 112  |//  USB DMA OFFSET register (HW_USBDMAOFF) Bit Definitions
                            12645 ; 113  |#define HW_USBDMAOFF_MEM_BITPOS (16)
                            12646 ; 114  |
                            12647 ; 115  |#define HW_USBDMAOFF_ADD_SETMASK (0x00FFFF)
                            12648 ; 116  |#define HW_USBDMAOFF_MEM_SETMASK (3<<HW_USBDMAOFF_MEM_BITPOS)
                            12649 ; 117  |
                            12650 ; 118  |#define HW_USBDMAOFF_ADD_CLRMASK (~(WORD)HW_USBDMAOFF_ADD_SETMASK)
                            12651 ; 119  |#define HW_USBDMAOFF_MEM_CLRMASK (~(WORD)HW_USBDMAOFF_MEM_SETMASK)
                            12652 ; 120  |
                            12653 ; 121  |typedef union               
                            12654 ; 122  |{
                            12655 ; 123  |    struct {
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page  51

M:ADDR CODE           CYCLES LINE SOURCELINE
                            12656 ; 124  |        int ADD            :16;
                            12657 ; 125  |        int MEM            :2;
                            12658 ; 126  |        int                :6;
                            12659 ; 127  |    } B;
                            12660 ; 128  |    int I;
                            12661 ; 129  |} usbdmaoff_type;
                            12662 ; 130  |#define HW_USBDMAOFF      (*(volatile usbdmaoff_type _X*) (HW_USB_BASEADDR+1))    
                            12663 ; 131  |
                            12664 ; 132  |/////////////////////////////////////////////////////////////////////////////////
                            12665 ; 133  |//  USB ARC ACCESS register (HW_USBARCACCESS) Bit Definitions
                            12666 ; 134  |#define HW_USBARCACCESS_RWB_BITPOS (16)
                            12667 ; 135  |#define HW_USBARCACCESS_KICK_BITPOS (23)
                            12668 ; 136  |
                            12669 ; 137  |#define HW_USBARCACCESS_ADD_SETMASK (0x0001FF)
                            12670 ; 138  |#define HW_USBARCACCESS_RWB_SETMASK (1<<HW_USBARCACCESS_RWB_BITPOS)
                            12671 ; 139  |#define HW_USBARCACCESS_KICK_SETMASK (23<<HW_USBDMAOFF_MEM_BITPOS)
                            12672 ; 140  |
                            12673 ; 141  |#define HW_USBARCACCESS_ADD_CLRMASK (~(WORD)HW_USBARCACCESS_ADD_SETMASK)
                            12674 ; 142  |#define HW_USBARCACCESS_RWB_CLRMASK (~(WORD)HW_USBARCACCESS_RWB_SETMASK) 
                            12675 ; 143  |#define HW_USBARCACCESS_KICK_CLRMASK (~(WORD)HW_USBARCACCESS_KICK_SETMASK)
                            12676 ; 144  |
                            12677 ; 145  |typedef union               
                            12678 ; 146  |{
                            12679 ; 147  |    struct {
                            12680 ; 148  |        int ADD            :9;
                            12681 ; 149  |        int                :7;
                            12682 ; 150  |        int RWB            :1;
                            12683 ; 151  |        int                :14;
                            12684 ; 152  |        int KICK           :1;
                            12685 ; 153  |    } B;
                            12686 ; 154  |    int I;
                            12687 ; 155  |} usbarcaccess_type;
                            12688 ; 156  |#define HW_USBARCACCESS      (*(volatile usbarcaccess_type _X*) (HW_USB_BASEADDR+2))    
                            12689 ; 157  |
                            12690 ; 158  |/////////////////////////////////////////////////////////////////////////////////
                            12691 ; 159  |//  USB ARC DATA LOW register (HW_USBARCDATALOW) Bit Definitions
                            12692 ; 160  |#define HW_USBARCDATALOW_DATA_SETMASK (0x00FFFF)
                            12693 ; 161  |
                            12694 ; 162  |#define HW_USBARCDATALOW_ADD_CLRMASK (~(WORD)HW_USBARCDATALOW_DATA_SETMASK)
                            12695 ; 163  |
                            12696 ; 164  |typedef union               
                            12697 ; 165  |{
                            12698 ; 166  |    struct {
                            12699 ; 167  |        int DATA           :16;
                            12700 ; 168  |        int                :8;
                            12701 ; 169  |    } B;
                            12702 ; 170  |    int I;
                            12703 ; 171  |} usbarcdatalow_type;
                            12704 ; 172  |#define HW_USBARCDATALOW      (*(volatile usbarcdatalow_type _X*) (HW_USB_BASEADDR+3))    
                            12705 ; 173  |
                            12706 ; 174  |/////////////////////////////////////////////////////////////////////////////////
                            12707 ; 175  |//  USB ARC DATA HIGH register (HW_USBARCDATAHIGH) Bit Definitions
                            12708 ; 176  |#define HW_USBARCDATAHIGH_DATA_SETMASK (0x00FFFF)
                            12709 ; 177  |
                            12710 ; 178  |#define HW_USBARCDATAHIGH_ADD_CLRMASK (~(WORD)HW_USBARCDATAHIGH_DATA_SETMASK)
                            12711 ; 179  |
                            12712 ; 180  |typedef union               
                            12713 ; 181  |{
                            12714 ; 182  |    struct {
                            12715 ; 183  |        int DATA           :16;
                            12716 ; 184  |        int                :8;
                            12717 ; 185  |    } B;
                            12718 ; 186  |    int I;
                            12719 ; 187  |} usbarcdatahigh_type;
                            12720 ; 188  |#define HW_USBARCDATAHIGH     (*(volatile usbarcdatahigh_type _X*) (HW_USB_BASEADDR+4))    
                            12721 ; 189  |
                            12722 ; 190  |
                            12723 ; 191  |//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                            12724 ; 192  |//   USB2.0 ARC Registers 
                            12725 ; 193  |//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                            12726 ; 194  |#define HW_ARC_BASE_ADDR (0x0000)
                            12727 ; 195  |
                            12728 ; 196  |#define HW_ARC_HCSPARAMS (HW_ARC_BASE_ADDR+0x104)
                            12729 ; 197  |#define HW_ARC_USBCMD (HW_ARC_BASE_ADDR+0x140)
                            12730 ; 198  |#define HW_ARC_USBSTS (HW_ARC_BASE_ADDR+0x144)
                            12731 ; 199  |#define HW_ARC_USBINTR (HW_ARC_BASE_ADDR+0x148)
                            12732 ; 200  |#define HW_ARC_DEVADDR (HW_ARC_BASE_ADDR+0x154)
                            12733 ; 201  |#define HW_ARC_ENDPTLISTADDR (HW_ARC_BASE_ADDR+0x158)
                            12734 ; 202  |#define HW_ARC_PORTSC1 (HW_ARC_BASE_ADDR+0x184)
                            12735 ; 203  |#define HW_ARC_USBMODE (HW_ARC_BASE_ADDR+0x1a8)
                            12736 ; 204  |#define HW_ARC_ENDPTSETUPSTAT (HW_ARC_BASE_ADDR+0x1ac)
                            12737 ; 205  |#define HW_ARC_ENDPTPRIME (HW_ARC_BASE_ADDR+0x1b0)
                            12738 ; 206  |#define HW_ARC_ENDPTFLUSH (HW_ARC_BASE_ADDR+0x1b4)
                            12739 ; 207  |#define HW_ARC_ENDPTSTATUS (HW_ARC_BASE_ADDR+0x1b8)
                            12740 ; 208  |#define HW_ARC_ENDPTCOMPLETE (HW_ARC_BASE_ADDR+0x1bc)
                            12741 ; 209  |#define HW_ARC_ENDPTCTRL0 (HW_ARC_BASE_ADDR+0x1c0)
                            12742 ; 210  |#define HW_ARC_ENDPTCTRL1 (HW_ARC_BASE_ADDR+0x1c4)
                            12743 ; 211  |#define HW_ARC_ENDPTCTRL2 (HW_ARC_BASE_ADDR+0x1c8)
                            12744 ; 212  |#define HW_ARC_ENDPTCTRL3 (HW_ARC_BASE_ADDR+0x1cc)
                            12745 ; 213  |#define HW_ARC_ENDPTCTRL4 (HW_ARC_BASE_ADDR+0x1d0)
                            12746 ; 214  |#define HW_ARC_ENDPTCTRL5 (HW_ARC_BASE_ADDR+0x1d4)
                            12747 ; 215  |#define HW_ARC_ENDPTCTRL6 (HW_ARC_BASE_ADDR+0x1d8)
                            12748 ; 216  |#define HW_ARC_ENDPTCTRL7 (HW_ARC_BASE_ADDR+0x1dc)
                            12749 ; 217  |#define HW_ARC_ENDPTCTRL8 (HW_ARC_BASE_ADDR+0x1e0)
                            12750 ; 218  |#define HW_ARC_ENDPTCTRL9 (HW_ARC_BASE_ADDR+0x1e4)
                            12751 ; 219  |#define HW_ARC_ENDPTCTRL10 (HW_ARC_BASE_ADDR+0x1e8)
                            12752 ; 220  |#define HW_ARC_ENDPTCTRL11 (HW_ARC_BASE_ADDR+0x1ec)
                            12753 ; 221  |#define HW_ARC_ENDPTCTRL12 (HW_ARC_BASE_ADDR+0x1f0)
                            12754 ; 222  |#define HW_ARC_ENDPTCTRL13 (HW_ARC_BASE_ADDR+0x1f4)
                            12755 ; 223  |#define HW_ARC_ENDPTCTRL14 (HW_ARC_BASE_ADDR+0x1f8)
                            12756 ; 224  |#define HW_ARC_ENDPTCTRL15 (HW_ARC_BASE_ADDR+0x1fc)
                            12757 ; 225  |
                            12758 ; 226  |#define HW_ARC_ENDPTCTRL(n) (HW_ARC_ENDPTCTRL0+((n)*4))    
                            12759 ; 227  |/////////////////////////////////////////////////////////////////////////////////
                            12760 ; 228  |//  USB ARC Register Host Control Structural Parameters (HW_ARC_HCSPARAMS)
                            12761 ; 229  |
                            12762 ; 230  |#define HW_ARC_HCSPARAMS_NPORTS_BITPOS (0)
                            12763 ; 231  |#define HW_ARC_HCSPARAMS_PPC_BITPOS (4)
                            12764 ; 232  |#define HW_ARC_HCSPARAMS_NPCC_BITPOS (8)
                            12765 ; 233  |#define HW_ARC_HCSPARAMS_NCC_BITPOS (12)
                            12766 ; 234  |#define HW_ARC_HCSPARAMS_PI_BITPOS (16)
                            12767 ; 235  |#define HW_ARC_HCSPARAMS_NPTT_BITPOS (20)
                            12768 ; 236  |#define HW_ARC_HCSPARAMS_NTT_BITPOS (24)
                            12769 ; 237  |
                            12770 ; 238  |#define HW_ARC_HCSPARAMS_NPORTS_SETMASK (15<<HW_ARC_HCSPARAMS_NPORTS_BITPOS)
                            12771 ; 239  |#define HW_ARC_HCSPARAMS_PPC_SETMASK (1<<HW_ARC_HCSPARAMS_PPC_BITPOS)        
                            12772 ; 240  |#define HW_ARC_HCSPARAMS_NPCC_SETMASK (15<<HW_ARC_HCSPARAMS_NPCC_BITPOS)  
                            12773 ; 241  |#define HW_ARC_HCSPARAMS_NCC_SETMASK (15<<HW_ARC_HCSPARAMS_NCC_BITPOS)       
                            12774 ; 242  |#define HW_ARC_HCSPARAMS_PI_SETMASK (1<<HW_ARC_HCSPARAMS_PI_BITPOS)     
                            12775 ; 243  |#define HW_ARC_HCSPARAMS_NPTT_SETMASK (15<<HW_ARC_HCSPARAMS_NPTT_BITPOS)  
                            12776 ; 244  |#define HW_ARC_HCSPARAMS_NTT_SETMASK (15<<HW_ARC_HCSPARAMS_NTT_BITPOS)       
                            12777 ; 245  |
                            12778 ; 246  |#define HW_ARC_HCSPARAMS_NPORTS_CLRMASK (~(WORD)HW_ARC_HCSPARAMS_NPORTS_SETMASK)
                            12779 ; 247  |#define HW_ARC_HCSPARAMS_PPC_CLRMASK (~(WORD)HW_ARC_HCSPARAMS_PPC_SETMASK)
                            12780 ; 248  |#define HW_ARC_HCSPARAMS_NPCC_CLRMASK (~(WORD)HW_ARC_HCSPARAMS_NPCC_SETMASK)
                            12781 ; 249  |#define HW_ARC_HCSPARAMS_NCC_CLRMASK (~(WORD)HW_ARC_HCSPARAMS_NCC_SETMASK)
                            12782 ; 250  |#define HW_ARC_HCSPARAMS_PI_CLRMASK (~(WORD)HW_ARC_HCSPARAMS_PI_SETMASK)  
                            12783 ; 251  |#define HW_ARC_HCSPARAMS_NPTT_CLRMASK (~(WORD)HW_ARC_HCSPARAMS_NPTT_SETMASK)
                            12784 ; 252  |#define HW_ARC_HCSPARAMS_NTT_CLRMASK (~(WORD)HW_ARC_HCSPARAMS_NTT_SETMASK)
                            12785 ; 253  |
                            12786 ; 254  |typedef union               
                            12787 ; 255  |{
                            12788 ; 256  |    struct {
                            12789 ; 257  |        int N_PORTS         :4;
                            12790 ; 258  |        int PPC             :1;
                            12791 ; 259  |        int                 :3;
                            12792 ; 260  |        int N_PCC           :4;
                            12793 ; 261  |        int N_CC            :4;
                            12794 ; 262  |        int PI              :1;
                            12795 ; 263  |        int                 :3;
                            12796 ; 264  |        int N_PTT           :4;
                            12797 ; 265  |        int N_TT            :4;
                            12798 ; 266  |        int                 :20;
                            12799 ; 267  |    } B;
                            12800 ; 268  |    DWORD I;
                            12801 ; 269  |} hcsparams_type;
                            12802 ; 270  |// #define HW_ARC_HCSPARAMS (*(volatile hcsparams_type _X*) (HW_ARC_BASEADDR))    
                            12803 ; 271  |
                            12804 ; 272  |/////////////////////////////////////////////////////////////////////////////////
                            12805 ; 273  |//  USB ARC Register USB Command (HW_ARC_USBCMD)
                            12806 ; 274  |
                            12807 ; 275  |#define HW_ARC_USBCMD_RS_BITPOS (0)
                            12808 ; 276  |#define HW_ARC_USBCMD_RST_BITPOS (1)
                            12809 ; 277  |#define HW_ARC_USBCMD_FS0_BITPOS (2)
                            12810 ; 278  |#define HW_ARC_USBCMD_FS1_BITPOS (3)
                            12811 ; 279  |#define HW_ARC_USBCMD_PSE_BITPOS (4)
                            12812 ; 280  |#define HW_ARC_USBCMD_ASE_BITPOS (5)
                            12813 ; 281  |#define HW_ARC_USBCMD_IAA_BITPOS (6)
                            12814 ; 282  |#define HW_ARC_USBCMD_LR_BITPOS (7)
                            12815 ; 283  |#define HW_ARC_USBCMD_ASP0_BITPOS (8)
                            12816 ; 284  |#define HW_ARC_USBCMD_ASP1_BITPOS (9)
                            12817 ; 285  |#define HW_ARC_USBCMD_ASPE_BITPOS (11)
                            12818 ; 286  |#define HW_ARC_USBCMD_FS2_BITPOS (15)
                            12819 ; 287  |#define HW_ARC_USBCMD_ITC_BITPOS (16)
                            12820 ; 288  |
                            12821 ; 289  |#define HW_ARC_USBCMD_RS_SETMASK (1<<HW_ARC_USBCMD_RS_BITPOS)                
                            12822 ; 290  |#define HW_ARC_USBCMD_RST_SETMASK (1<<HW_ARC_USBCMD_RST_BITPOS)   
                            12823 ; 291  |#define HW_ARC_USBCMD_FS0_SETMASK (1<<HW_ARC_USBCMD_FS0_BITPOS)   
                            12824 ; 292  |#define HW_ARC_USBCMD_FS1_SETMASK (1<<HW_ARC_USBCMD_FS1_BITPOS)   
                            12825 ; 293  |#define HW_ARC_USBCMD_PSE_SETMASK (1<<HW_ARC_USBCMD_PSE_BITPOS)   
                            12826 ; 294  |#define HW_ARC_USBCMD_ASE_SETMASK (1<<HW_ARC_USBCMD_ASE_BITPOS)   
                            12827 ; 295  |#define HW_ARC_USBCMD_IAA_SETMASK (1<<HW_ARC_USBCMD_IAA_BITPOS)   
                            12828 ; 296  |#define HW_ARC_USBCMD_LR_SETMASK (1<<HW_ARC_USBCMD_LR_BITPOS)        
                            12829 ; 297  |#define HW_ARC_USBCMD_ASP0_SETMASK (1<<HW_ARC_USBCMD_ASP0_BITPOS)
                            12830 ; 298  |#define HW_ARC_USBCMD_ASP1_SETMASK (1<<HW_ARC_USBCMD_ASP1_BITPOS)
                            12831 ; 299  |#define HW_ARC_USBCMD_ASPE_SETMASK (1<<HW_ARC_USBCMD_ASPE_BITPOS)
                            12832 ; 300  |#define HW_ARC_USBCMD_FS2_SETMASK (1<<HW_ARC_USBCMD_FS2_BITPOS)    
                            12833 ; 301  |#define HW_ARC_USBCMD_ITC_SETMASK (255<<HW_ARC_USBCMD_ITC_BITPOS)
                            12834 ; 302  |
                            12835 ; 303  |#define HW_ARC_USBCMD_RS_CLRMASK (~(WORD)HW_ARC_USBCMD_RS_SETMASK)     
                            12836 ; 304  |#define HW_ARC_USBCMD_RST_CLRMASK (~(WORD)HW_ARC_USBCMD_RST_SETMASK)    
                            12837 ; 305  |#define HW_ARC_USBCMD_FS0_CLRMASK (~(WORD)HW_ARC_USBCMD_FS0_SETMASK)    
                            12838 ; 306  |#define HW_ARC_USBCMD_FS1_CLRMASK (~(WORD)HW_ARC_USBCMD_FS1_SETMASK)    
                            12839 ; 307  |#define HW_ARC_USBCMD_PSE_CLRMASK (~(WORD)HW_ARC_USBCMD_PSE_SETMASK)    
                            12840 ; 308  |#define HW_ARC_USBCMD_ASE_CLRMASK (~(WORD)HW_ARC_USBCMD_ASE_SETMASK)    
                            12841 ; 309  |#define HW_ARC_USBCMD_IAA_CLRMASK (~(WORD)HW_ARC_USBCMD_IAA_SETMASK)    
                            12842 ; 310  |#define HW_ARC_USBCMD_LR_CLRMASK (~(WORD)HW_ARC_USBCMD_LR_SETMASK) 
                            12843 ; 311  |#define HW_ARC_USBCMD_ASP0_CLRMASK (~(WORD)HW_ARC_USBCMD_ASP0_SETMASK)
                            12844 ; 312  |#define HW_ARC_USBCMD_ASP1_CLRMASK (~(WORD)HW_ARC_USBCMD_ASP1_SETMASK)
                            12845 ; 313  |#define HW_ARC_USBCMD_ASPE_CLRMASK (~(WORD)HW_ARC_USBCMD_ASPE_SETMASK)
                            12846 ; 314  |#define HW_ARC_USBCMD_FS2_CLRMASK (~(WORD)HW_ARC_USBCMD_FS2_SETMASK)    
                            12847 ; 315  |#define HW_ARC_USBCMD_ITC_CLRMASK (~(WORD)HW_ARC_USBCMD_ITC_SETMASK)    
                            12848 ; 316  |
                            12849 ; 317  |typedef union               
                            12850 ; 318  |{
                            12851 ; 319  |    struct {
                            12852 ; 320  |        int RS              :1;
                            12853 ; 321  |        int RST             :1;
                            12854 ; 322  |        int FS0             :1;
                            12855 ; 323  |        int FS1             :1;
                            12856 ; 324  |        int PSE             :1;
                            12857 ; 325  |        int ASE             :1;
                            12858 ; 326  |        int IAA             :1;
                            12859 ; 327  |        int LR              :1;
                            12860 ; 328  |        int ASP0            :1;
                            12861 ; 329  |        int ASP1            :1;
                            12862 ; 330  |        int                 :1;
                            12863 ; 331  |        int ASPE            :1;
                            12864 ; 332  |        int                 :3;
                            12865 ; 333  |        int FS2             :1;
                            12866 ; 334  |        int ITC             :8;
                            12867 ; 335  |        int                 :24;
                            12868 ; 336  |    } B;
                            12869 ; 337  |    DWORD I;
                            12870 ; 338  |} usbcmd_type;
                            12871 ; 339  |//#define HW_ARC_USBCMD ((volatile usbcmd_type _X*) (HW_ARC_BASEADDR+0x140))    
                            12872 ; 340  |
                            12873 ; 341  |/////////////////////////////////////////////////////////////////////////////////
                            12874 ; 342  |//  USB ARC Register USB Status (HW_ARC_USBSTS)
                            12875 ; 343  |
                            12876 ; 344  |#define HW_ARC_USBSTS_UI_BITPOS (0)
                            12877 ; 345  |#define HW_ARC_USBSTS_UEI_BITPOS (1)
                            12878 ; 346  |#define HW_ARC_USBSTS_PCI_BITPOS (2)
                            12879 ; 347  |#define HW_ARC_USBSTS_FRI_BITPOS (3)
                            12880 ; 348  |#define HW_ARC_USBSTS_SEI_BITPOS (4)
                            12881 ; 349  |#define HW_ARC_USBSTS_AAI_BITPOS (5)
                            12882 ; 350  |#define HW_ARC_USBSTS_URI_BITPOS (6)
                            12883 ; 351  |#define HW_ARC_USBSTS_SRI_BITPOS (7)
                            12884 ; 352  |#define HW_ARC_USBSTS_SLI_BITPOS (8)
                            12885 ; 353  |#define HW_ARC_USBSTS_HCH_BITPOS (12)
                            12886 ; 354  |#define HW_ARC_USBSTS_RCL_BITPOS (13)
                            12887 ; 355  |#define HW_ARC_USBSTS_PS_BITPOS (14)
                            12888 ; 356  |#define HW_ARC_USBSTS_AS_BITPOS (15)
                            12889 ; 357  |
                            12890 ; 358  |#define HW_ARC_USBSTS_UI_SETMASK (1<<HW_ARC_USBSTS_UI_BITPOS)    
                            12891 ; 359  |#define HW_ARC_USBSTS_UEI_SETMASK (1<<HW_ARC_USBSTS_UEI_BITPOS)
                            12892 ; 360  |#define HW_ARC_USBSTS_PCI_SETMASK (1<<HW_ARC_USBSTS_PCI_BITPOS)
                            12893 ; 361  |#define HW_ARC_USBSTS_FRI_SETMASK (1<<HW_ARC_USBSTS_FRI_BITPOS)
                            12894 ; 362  |#define HW_ARC_USBSTS_SEI_SETMASK (1<<HW_ARC_USBSTS_SEI_BITPOS)
                            12895 ; 363  |#define HW_ARC_USBSTS_AAI_SETMASK (1<<HW_ARC_USBSTS_AAI_BITPOS)
                            12896 ; 364  |#define HW_ARC_USBSTS_URI_SETMASK (1<<HW_ARC_USBSTS_URI_BITPOS)
                            12897 ; 365  |#define HW_ARC_USBSTS_SRI_SETMASK (1<<HW_ARC_USBSTS_SRI_BITPOS)
                            12898 ; 366  |#define HW_ARC_USBSTS_SLI_SETMASK (1<<HW_ARC_USBSTS_SLI_BITPOS)
                            12899 ; 367  |#define HW_ARC_USBSTS_HCH_SETMASK (1<<HW_ARC_USBSTS_HCH_BITPOS)
                            12900 ; 368  |#define HW_ARC_USBSTS_RCL_SETMASK (1<<HW_ARC_USBSTS_RCL_BITPOS)
                            12901 ; 369  |#define HW_ARC_USBSTS_PS_SETMASK (1<<HW_ARC_USBSTS_PS_BITPOS)    
                            12902 ; 370  |#define HW_ARC_USBSTS_AS_SETMASK (1<<HW_ARC_USBSTS_AS_BITPOS)    
                            12903 ; 371  |
                            12904 ; 372  |#define HW_ARC_USBSTS_UI_CLRMASK (~(WORD)HW_ARC_USBSTS_UI_SETMASK)
                            12905 ; 373  |#define HW_ARC_USBSTS_UEI_CLRMASK (~(WORD)HW_ARC_USBSTS_UEI_SETMASK)
                            12906 ; 374  |#define HW_ARC_USBSTS_PCI_CLRMASK (~(WORD)HW_ARC_USBSTS_PCI_SETMASK)
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page  52

M:ADDR CODE           CYCLES LINE SOURCELINE
                            12907 ; 375  |#define HW_ARC_USBSTS_FRI_CLRMASK (~(WORD)HW_ARC_USBSTS_FRI_SETMASK)
                            12908 ; 376  |#define HW_ARC_USBSTS_SEI_CLRMASK (~(WORD)HW_ARC_USBSTS_SEI_SETMASK)
                            12909 ; 377  |#define HW_ARC_USBSTS_AAI_CLRMASK (~(WORD)HW_ARC_USBSTS_AAI_SETMASK)
                            12910 ; 378  |#define HW_ARC_USBSTS_URI_CLRMASK (~(WORD)HW_ARC_USBSTS_URI_SETMASK)
                            12911 ; 379  |#define HW_ARC_USBSTS_SRI_CLRMASK (~(WORD)HW_ARC_USBSTS_SRI_SETMASK)
                            12912 ; 380  |#define HW_ARC_USBSTS_SLI_CLRMASK (~(WORD)HW_ARC_USBSTS_SLI_SETMASK)
                            12913 ; 381  |#define HW_ARC_USBSTS_HCH_CLRMASK (~(WORD)HW_ARC_USBSTS_HCH_SETMASK)
                            12914 ; 382  |#define HW_ARC_USBSTS_RCL_CLRMASK (~(WORD)HW_ARC_USBSTS_RCL_SETMASK)
                            12915 ; 383  |#define HW_ARC_USBSTS_PS_CLRMASK (~(WORD)HW_ARC_USBSTS_PS_SETMASK)
                            12916 ; 384  |#define HW_ARC_USBSTS_AS_CLRMASK (~(WORD)HW_ARC_USBSTS_AS_SETMASK)
                            12917 ; 385  |
                            12918 ; 386  |
                            12919 ; 387  |typedef union               
                            12920 ; 388  |{
                            12921 ; 389  |    struct {
                            12922 ; 390  |        int UI              :1;
                            12923 ; 391  |        int UEI             :1;
                            12924 ; 392  |        int PCI             :1;
                            12925 ; 393  |        int FRI             :1;
                            12926 ; 394  |        int SEI             :1;
                            12927 ; 395  |        int AAI             :1;
                            12928 ; 396  |        int URI             :1;
                            12929 ; 397  |        int STI             :1;
                            12930 ; 398  |        int SLI             :1;
                            12931 ; 399  |        int                 :3;
                            12932 ; 400  |        int HCH             :1;
                            12933 ; 401  |        int RCL             :1;
                            12934 ; 402  |        int PS              :1;
                            12935 ; 403  |        int AS              :1;
                            12936 ; 404  |        int                 :24;
                            12937 ; 405  |    } B;
                            12938 ; 406  |    DWORD I;
                            12939 ; 407  |} usbsts_type;
                            12940 ; 408  |//#define HW_ARC_USBSTS (*(volatile usbsts_type _X*) (HW_ARC_BASEADDR+0x144))    
                            12941 ; 409  |
                            12942 ; 410  |/////////////////////////////////////////////////////////////////////////////////
                            12943 ; 411  |//  USB ARC Register USB Interrupt Enable (HW_ARC_USBINTR)
                            12944 ; 412  |
                            12945 ; 413  |#define HW_ARC_USBINTR_UE_BITPOS (0)
                            12946 ; 414  |#define HW_ARC_USBINTR_UEE_BITPOS (1)
                            12947 ; 415  |#define HW_ARC_USBINTR_PCE_BITPOS (2)
                            12948 ; 416  |#define HW_ARC_USBINTR_FRE_BITPOS (3)
                            12949 ; 417  |#define HW_ARC_USBINTR_SEE_BITPOS (4)
                            12950 ; 418  |#define HW_ARC_USBINTR_AAE_BITPOS (5)
                            12951 ; 419  |#define HW_ARC_USBINTR_URE_BITPOS (6)
                            12952 ; 420  |#define HW_ARC_USBINTR_SRE_BITPOS (7)
                            12953 ; 421  |#define HW_ARC_USBINTR_SLE_BITPOS (8)
                            12954 ; 422  |
                            12955 ; 423  |#define HW_ARC_USBINTR_UE_SETMASK (1<<HW_ARC_USBINTR_UE_BITPOS)   
                            12956 ; 424  |#define HW_ARC_USBINTR_UEE_SETMASK (1<<HW_ARC_USBINTR_UEE_BITPOS)
                            12957 ; 425  |#define HW_ARC_USBINTR_PCE_SETMASK (1<<HW_ARC_USBINTR_PCE_BITPOS)
                            12958 ; 426  |#define HW_ARC_USBINTR_FRE_SETMASK (1<<HW_ARC_USBINTR_FRE_BITPOS)
                            12959 ; 427  |#define HW_ARC_USBINTR_SEE_SETMASK (1<<HW_ARC_USBINTR_SEE_BITPOS)
                            12960 ; 428  |#define HW_ARC_USBINTR_AAE_SETMASK (1<<HW_ARC_USBINTR_AAE_BITPOS)
                            12961 ; 429  |#define HW_ARC_USBINTR_URE_SETMASK (1<<HW_ARC_USBINTR_URE_BITPOS)
                            12962 ; 430  |#define HW_ARC_USBINTR_SRE_SETMASK (1<<HW_ARC_USBINTR_SRE_BITPOS)
                            12963 ; 431  |#define HW_ARC_USBINTR_SLE_SETMASK (1<<HW_ARC_USBINTR_SLE_BITPOS)
                            12964 ; 432  |
                            12965 ; 433  |#define HW_ARC_USBINTR_UE_CLRMASK (~(WORD)HW_ARC_USBINTR_UE_SETMASK)
                            12966 ; 434  |#define HW_ARC_USBINTR_UEE_CLRMASK (~(WORD)HW_ARC_USBINTR_UEE_SETMASK)
                            12967 ; 435  |#define HW_ARC_USBINTR_PCE_CLRMASK (~(WORD)HW_ARC_USBINTR_PCE_SETMASK)
                            12968 ; 436  |#define HW_ARC_USBINTR_FRE_CLRMASK (~(WORD)HW_ARC_USBINTR_FRE_SETMASK)
                            12969 ; 437  |#define HW_ARC_USBINTR_SEE_CLRMASK (~(WORD)HW_ARC_USBINTR_SEE_SETMASK)
                            12970 ; 438  |#define HW_ARC_USBINTR_AAE_CLRMASK (~(WORD)HW_ARC_USBINTR_AAE_SETMASK)
                            12971 ; 439  |#define HW_ARC_USBINTR_URE_CLRMASK (~(WORD)HW_ARC_USBINTR_URE_SETMASK)
                            12972 ; 440  |#define HW_ARC_USBINTR_SRE_CLRMASK (~(WORD)HW_ARC_USBINTR_SRE_SETMASK)
                            12973 ; 441  |#define HW_ARC_USBINTR_SLE_CLRMASK (~(WORD)HW_ARC_USBINTR_SLE_SETMASK)
                            12974 ; 442  |
                            12975 ; 443  |
                            12976 ; 444  |typedef union               
                            12977 ; 445  |{
                            12978 ; 446  |    struct {
                            12979 ; 447  |        int UE              :1;
                            12980 ; 448  |        int UEE             :1;
                            12981 ; 449  |        int PCE             :1;
                            12982 ; 450  |        int FRE             :1;
                            12983 ; 451  |        int SEE             :1;
                            12984 ; 452  |        int AAE             :1;
                            12985 ; 453  |        int URE             :1;
                            12986 ; 454  |        int STE             :1;
                            12987 ; 455  |        int SLE             :1;
                            12988 ; 456  |        int                 :39;
                            12989 ; 457  |    } B;
                            12990 ; 458  |    DWORD I;
                            12991 ; 459  |} usbintr_type;
                            12992 ; 460  |//#define HW_ARC_USBINTR (*(volatile usbintr_type _X*) (HW_ARC_BASEADDR+0x148))    
                            12993 ; 461  |
                            12994 ; 462  |
                            12995 ; 463  |/////////////////////////////////////////////////////////////////////////////////
                            12996 ; 464  |//  USB ARC Register USB Device Controller Device Address (HW_ARC_DEVADDR)
                            12997 ; 465  |
                            12998 ; 466  |#define HW_ARC_DEVADDR_ADD_BITPOS (25)
                            12999 ; 467  |
                            13000 ; 468  |#define HW_ARC_DEVADDR_ADD_SETMASK (127<<HW_ARC_DEVADDR_ADD_BITPOS)    
                            13001 ; 469  |
                            13002 ; 470  |#define HW_ARC_DEVEADDR_ADD_CLRMASK (~(WORD)HW_ARC_DEVADDR_ADD_SETMASK)   
                            13003 ; 471  |
                            13004 ; 472  |typedef union               
                            13005 ; 473  |{
                            13006 ; 474  |    struct {
                            13007 ; 475  |        int                 :25;
                            13008 ; 476  |        int ADD             :7;
                            13009 ; 477  |        int                 :16;
                            13010 ; 478  |    } B;
                            13011 ; 479  |    DWORD I;
                            13012 ; 480  |} devaddr_type;
                            13013 ; 481  |//#define HW_ARC_DEVADDR (*(volatile devaddr_type _X*) (HW_ARC_BASEADDR+0x154))    
                            13014 ; 482  |
                            13015 ; 483  |
                            13016 ; 484  |/////////////////////////////////////////////////////////////////////////////////
                            13017 ; 485  |//  USB ARC Register USB Device Controller Endpoint List Address (HW_ARC_ENDPTLISTADDR)
                            13018 ; 486  |
                            13019 ; 487  |#define HW_ARC_ENDPTLISTADDR_ADD_BITPOS (11)
                            13020 ; 488  |
                            13021 ; 489  |#define HW_ARC_ENDPTLISTADDR_ADD_SETMASK (0x400000<<HW_ARC_ENDPTLISTADDR_ADD_BITPOS) 
                            13022 ; 490  |
                            13023 ; 491  |#define HW_ARC_ENDPTLISTADDR_ADD_CLRMASK (~(WORD)HW_ARC_ENDPTLISTADDR_ADD_SETMASK) 
                            13024 ; 492  |
                            13025 ; 493  |typedef union               
                            13026 ; 494  |{
                            13027 ; 495  |    struct {
                            13028 ; 496  |        int                 :10;
                            13029 ; 497  |        int ADD             :22;
                            13030 ; 498  |        int                 :16;
                            13031 ; 499  |    } B;
                            13032 ; 500  |    DWORD I;
                            13033 ; 501  |} endptlistaddr_type;
                            13034 ; 502  |//#define HW_ARC_ENDPTLISTADDR (*(volatile endptlistaddr_type _X*) (HW_ARC_BASEADDR+0x158))    
                            13035 ; 503  |
                            13036 ; 504  |
                            13037 ; 505  |/////////////////////////////////////////////////////////////////////////////////
                            13038 ; 506  |//  USB ARC Register USB Port Status Control 1 (HW_ARC_PORTSC1)
                            13039 ; 507  |
                            13040 ; 508  |#define HW_ARC_PORTSC1_CCS_BITPOS (0)
                            13041 ; 509  |#define HW_ARC_PORTSC1_CSC_BITPOS (1)
                            13042 ; 510  |#define HW_ARC_PORTSC1_PE_BITPOS (2)
                            13043 ; 511  |#define HW_ARC_PORTSC1_PEC_BITPOS (3)
                            13044 ; 512  |#define HW_ARC_PORTSC1_OCA_BITPOS (4)
                            13045 ; 513  |#define HW_ARC_PORTSC1_OCC_BITPOS (5)
                            13046 ; 514  |#define HW_ARC_PORTSC1_FPR_BITPOS (6)
                            13047 ; 515  |#define HW_ARC_PORTSC1_SUSP_BITPOS (7)
                            13048 ; 516  |#define HW_ARC_PORTSC1_PR_BITPOS (8)
                            13049 ; 517  |#define HW_ARC_PORTSC1_HSP_BITPOS (9)
                            13050 ; 518  |#define HW_ARC_PORTSC1_LS_BITPOS (10)
                            13051 ; 519  |#define HW_ARC_PORTSC1_PP_BITPOS (12)
                            13052 ; 520  |#define HW_ARC_PORTSC1_PO_BITPOS (13)
                            13053 ; 521  |#define HW_ARC_PORTSC1_PIC_BITPOS (14)
                            13054 ; 522  |#define HW_ARC_PORTSC1_PTC_BITPOS (16)
                            13055 ; 523  |#define HW_ARC_PORTSC1_WKCN_BITPOS (20)
                            13056 ; 524  |#define HW_ARC_PORTSC1_WKDS_BITPOS (21)
                            13057 ; 525  |#define HW_ARC_PORTSC1_WKOC_BITPOS (22)
                            13058 ; 526  |#define HW_ARC_PORTSC1_PHCD_BITPOS (23)
                            13059 ; 527  |#define HW_ARC_PORTSC1_PFSC_BITPOS (24)
                            13060 ; 528  |#define HW_ARC_PORTSC1_PSPD_BITPOS (26)
                            13061 ; 529  |#define HW_ARC_PORTSC1_PTW_BITPOS (29)
                            13062 ; 530  |#define HW_ARC_PORTSC1_STS_BITPOS (30)
                            13063 ; 531  |#define HW_ARC_PORTSC1_PTS_BITPOS (31)
                            13064 ; 532  |
                            13065 ; 533  |#define HW_ARC_PORTSC1_CCS_SETMASK (1<<HW_ARC_PORTSC1_CCS_BITPOS)  
                            13066 ; 534  |#define HW_ARC_PORTSC1_CSC_SETMASK (1<<HW_ARC_PORTSC1_CSC_BITPOS)  
                            13067 ; 535  |#define HW_ARC_PORTSC1_PE_SETMASK (1<<HW_ARC_PORTSC1_PE_BITPOS)   
                            13068 ; 536  |#define HW_ARC_PORTSC1_PEC_SETMASK (1<<HW_ARC_PORTSC1_PEC_BITPOS)  
                            13069 ; 537  |#define HW_ARC_PORTSC1_OCA_SETMASK (1<<HW_ARC_PORTSC1_OCA_BITPOS)  
                            13070 ; 538  |#define HW_ARC_PORTSC1_OCC_SETMASK (1<<HW_ARC_PORTSC1_OCC_BITPOS)  
                            13071 ; 539  |#define HW_ARC_PORTSC1_FPR_SETMASK (1<<HW_ARC_PORTSC1_FPR_BITPOS)  
                            13072 ; 540  |#define HW_ARC_PORTSC1_SUSP_SETMASK (1<<HW_ARC_PORTSC1_SUSP_BITPOS)
                            13073 ; 541  |#define HW_ARC_PORTSC1_PR_SETMASK (1<<HW_ARC_PORTSC1_PR_BITPOS)   
                            13074 ; 542  |#define HW_ARC_PORTSC1_HSP_SETMASK (1<<HW_ARC_PORTSC1_HSP_BITPOS)  
                            13075 ; 543  |#define HW_ARC_PORTSC1_LS_SETMASK (3<<HW_ARC_PORTSC1_LS_BITPOS)   
                            13076 ; 544  |#define HW_ARC_PORTSC1_PP_SETMASK (1<<HW_ARC_PORTSC1_PP_BITPOS)   
                            13077 ; 545  |#define HW_ARC_PORTSC1_PO_SETMASK (1<<HW_ARC_PORTSC1_PO_BITPOS)   
                            13078 ; 546  |#define HW_ARC_PORTSC1_PIC_SETMASK (3<<HW_ARC_PORTSC1_PIC_BITPOS)  
                            13079 ; 547  |#define HW_ARC_PORTSC1_PTC_SETMASK (15<<HW_ARC_PORTSC1_PTC_BITPOS) 
                            13080 ; 548  |#define HW_ARC_PORTSC1_WKCN_SETMASK (1<<HW_ARC_PORTSC1_WKCN_BITPOS)
                            13081 ; 549  |#define HW_ARC_PORTSC1_WKDS_SETMASK (1<<HW_ARC_PORTSC1_WKDS_BITPOS)
                            13082 ; 550  |#define HW_ARC_PORTSC1_WKOC_SETMASK (1<<HW_ARC_PORTSC1_WKOC_BITPOS)
                            13083 ; 551  |#define HW_ARC_PORTSC1_PHCD_SETMASK (1<<HW_ARC_PORTSC1_PHCD_BITPOS)
                            13084 ; 552  |
                            13085 ; 553  |// We need to equate the following label like this due to a sign extension problem
                            13086 ; 554  |// if equated like so (1<<HW_ARC_PORTSC1_PFSC_SETMASK)
                            13087 ; 555  |#define HW_ARC_PORTSC1_PFSC_SETMASK (0x01000000)
                            13088 ; 556  |
                            13089 ; 557  |#define HW_ARC_PORTSC1_PSPD_SETMASK (3<<HW_ARC_PORTSC1_PSPD_BITPOS)
                            13090 ; 558  |#define HW_ARC_PORTSC1_PTW_SETMASK (1<<HW_ARC_PORTSC1_PTW_BITPOS)  
                            13091 ; 559  |#define HW_ARC_PORTSC1_STS_SETMASK (1<<HW_ARC_PORTSC1_STS_BITPOS)  
                            13092 ; 560  |#define HW_ARC_PORTSC1_PTS_SETMASK (1<<HW_ARC_PORTSC1_PTS_BITPOS)  
                            13093 ; 561  |
                            13094 ; 562  |#define HW_ARC_PORTSC1_CCS_CLRMASK (~(WORD)HW_ARC_PORTSC1_CCS_SETMASK)   
                            13095 ; 563  |#define HW_ARC_PORTSC1_CSC_CLRMASK (~(WORD)HW_ARC_PORTSC1_CSC_SETMASK)   
                            13096 ; 564  |#define HW_ARC_PORTSC1_PE_CLRMASK (~(WORD)HW_ARC_PORTSC1_PE_SETMASK)    
                            13097 ; 565  |#define HW_ARC_PORTSC1_PEC_CLRMASK (~(WORD)HW_ARC_PORTSC1_PEC_SETMASK)   
                            13098 ; 566  |#define HW_ARC_PORTSC1_OCA_CLRMASK (~(WORD)HW_ARC_PORTSC1_OCA_SETMASK)   
                            13099 ; 567  |#define HW_ARC_PORTSC1_OCC_CLRMASK (~(WORD)HW_ARC_PORTSC1_OCC_SETMASK)   
                            13100 ; 568  |#define HW_ARC_PORTSC1_FPR_CLRMASK (~(WORD)HW_ARC_PORTSC1_FPR_SETMASK)   
                            13101 ; 569  |#define HW_ARC_PORTSC1_SUSP_CLRMASK (~(WORD)HW_ARC_PORTSC1_SUSP_SETMASK)
                            13102 ; 570  |#define HW_ARC_PORTSC1_PR_CLRMASK (~(WORD)HW_ARC_PORTSC1_PR_SETMASK)    
                            13103 ; 571  |#define HW_ARC_PORTSC1_HSP_CLRMASK (~(WORD)HW_ARC_PORTSC1_HSP_SETMASK)   
                            13104 ; 572  |#define HW_ARC_PORTSC1_LS_CLRMASK (~(WORD)HW_ARC_PORTSC1_LS_SETMASK)    
                            13105 ; 573  |#define HW_ARC_PORTSC1_PP_CLRMASK (~(WORD)HW_ARC_PORTSC1_PP_SETMASK)    
                            13106 ; 574  |#define HW_ARC_PORTSC1_PO_CLRMASK (~(WORD)HW_ARC_PORTSC1_PO_SETMASK)    
                            13107 ; 575  |#define HW_ARC_PORTSC1_PIC_CLRMASK (~(WORD)HW_ARC_PORTSC1_PIC_SETMASK)   
                            13108 ; 576  |#define HW_ARC_PORTSC1_PTC_CLRMASK (~(WORD)HW_ARC_PORTSC1_PTC_SETMASK)   
                            13109 ; 577  |#define HW_ARC_PORTSC1_WKCN_CLRMASK (~(WORD)HW_ARC_PORTSC1_WKCN_SETMASK)
                            13110 ; 578  |#define HW_ARC_PORTSC1_WKDS_CLRMASK (~(WORD)HW_ARC_PORTSC1_WKDS_SETMASK)
                            13111 ; 579  |#define HW_ARC_PORTSC1_WKOC_CLRMASK (~(WORD)HW_ARC_PORTSC1_WKOC_SETMASK)
                            13112 ; 580  |#define HW_ARC_PORTSC1_PHCD_CLRMASK (~(WORD)HW_ARC_PORTSC1_PHCD_SETMASK)
                            13113 ; 581  |#define HW_ARC_PORTSC1_PFSC_CLRMASK (~(WORD)HW_ARC_PORTSC1_PFSC_SETMASK)
                            13114 ; 582  |#define HW_ARC_PORTSC1_PSPD_CLRMASK (~(WORD)HW_ARC_PORTSC1_PSPD_SETMASK)
                            13115 ; 583  |#define HW_ARC_PORTSC1_PTW_CLRMASK (~(WORD)HW_ARC_PORTSC1_PTW_SETMASK)   
                            13116 ; 584  |#define HW_ARC_PORTSC1_STS_CLRMASK (~(WORD)HW_ARC_PORTSC1_STS_SETMASK)   
                            13117 ; 585  |#define HW_ARC_PORTSC1_PTS_CLRMASK (~(WORD)HW_ARC_PORTSC1_PTS_SETMASK)   
                            13118 ; 586  |
                            13119 ; 587  |typedef union               
                            13120 ; 588  |{
                            13121 ; 589  |    struct {
                            13122 ; 590  |        int CCS             :1;
                            13123 ; 591  |        int CSC             :1;
                            13124 ; 592  |        int PE              :1;
                            13125 ; 593  |        int PEC             :1;
                            13126 ; 594  |        int OCA             :1;
                            13127 ; 595  |        int OCC             :1;
                            13128 ; 596  |        int FPR             :1;
                            13129 ; 597  |        int SUSP            :1;
                            13130 ; 598  |        int PR              :1;
                            13131 ; 599  |        int HSP             :1;
                            13132 ; 600  |        int LS              :2;
                            13133 ; 601  |        int PP              :1;
                            13134 ; 602  |        int PO              :1;
                            13135 ; 603  |        int PIC             :2;
                            13136 ; 604  |        int PTC             :4;
                            13137 ; 605  |        int WKCN            :1;
                            13138 ; 606  |        int WKDS            :1;
                            13139 ; 607  |        int WKOC            :1;
                            13140 ; 608  |        int PHCD            :1;
                            13141 ; 609  |        int PFSC            :1;
                            13142 ; 610  |        int                 :1;
                            13143 ; 611  |        int PSPD            :2;
                            13144 ; 612  |        int                 :1;
                            13145 ; 613  |        int PTW             :1;
                            13146 ; 614  |        int STS             :1;
                            13147 ; 615  |        int PTS             :1;
                            13148 ; 616  |        int                 :16;
                            13149 ; 617  |    } B;
                            13150 ; 618  |    DWORD I;
                            13151 ; 619  |} portsc1_type;
                            13152 ; 620  |//#define HW_ARC_PORTSC1 (*(volatile portsc1_type _X*) (HW_ARC_BASEADDR+0x184))    
                            13153 ; 621  |
                            13154 ; 622  |
                            13155 ; 623  |/////////////////////////////////////////////////////////////////////////////////
                            13156 ; 624  |//  USB ARC Register USB Device Mode (HW_ARC_USBMODE)
                            13157 ; 625  |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page  53

M:ADDR CODE           CYCLES LINE SOURCELINE
                            13158 ; 626  |#define HW_ARC_USBMODE_CM_BITPOS (0)
                            13159 ; 627  |#define HW_ARC_USBMODE_ES_BITPOS (2)
                            13160 ; 628  |
                            13161 ; 629  |#define HW_ARC_USBMODE_CM_SETMASK (3<<HW_ARC_USBMODE_CM_BITPOS)   
                            13162 ; 630  |#define HW_ARC_USBMODE_ES_SETMASK (1<<HW_ARC_USBMODE_ES_BITPOS)   
                            13163 ; 631  |
                            13164 ; 632  |#define HW_ARC_USBMODE_CM_CLRMASK (~(WORD)HW_ARC_USBMODE_CM_SETMASK) 
                            13165 ; 633  |#define HW_ARC_USBMODE_ES_CLRMASK (~(WORD)HW_ARC_USBMODE_ES_SETMASK)    
                            13166 ; 634  |
                            13167 ; 635  |typedef union               
                            13168 ; 636  |{
                            13169 ; 637  |    struct {
                            13170 ; 638  |        int CM              :2;
                            13171 ; 639  |        int ES              :1;
                            13172 ; 640  |        int                 :46;
                            13173 ; 641  |    } B;
                            13174 ; 642  |    DWORD I;
                            13175 ; 643  |} usbmode_type;
                            13176 ; 644  |//#define HW_ARC_USBMODE (*(volatile usbmode_type _X*) (HW_ARC_BASEADDR+0x1a8))    
                            13177 ; 645  |
                            13178 ; 646  |
                            13179 ; 647  |/////////////////////////////////////////////////////////////////////////////////
                            13180 ; 648  |//  The following endpoint equates are common for the following registers
                            13181 ; 649  |
                            13182 ; 650  |#define ENDPOINT0_BITPOS (0)
                            13183 ; 651  |#define ENDPOINT1_BITPOS (1)
                            13184 ; 652  |#define ENDPOINT2_BITPOS (2)
                            13185 ; 653  |#define ENDPOINT3_BITPOS (3)
                            13186 ; 654  |#define ENDPOINT4_BITPOS (4)
                            13187 ; 655  |#define ENDPOINT5_BITPOS (5)
                            13188 ; 656  |#define ENDPOINT6_BITPOS (6)
                            13189 ; 657  |#define ENDPOINT7_BITPOS (7)
                            13190 ; 658  |#define ENDPOINT8_BITPOS (8)
                            13191 ; 659  |#define ENDPOINT9_BITPOS (9)
                            13192 ; 660  |#define ENDPOINT10_BITPOS (10)
                            13193 ; 661  |#define ENDPOINT11_BITPOS (11)
                            13194 ; 662  |#define ENDPOINT12_BITPOS (12)
                            13195 ; 663  |#define ENDPOINT13_BITPOS (13)
                            13196 ; 664  |#define ENDPOINT14_BITPOS (14)
                            13197 ; 665  |#define ENDPOINT15_BITPOS (15)
                            13198 ; 666  |
                            13199 ; 667  |#define ENDPOINT0_SETMASK (1<<ENDPOINT0_BITPOS)
                            13200 ; 668  |#define ENDPOINT1_SETMASK (1<<ENDPOINT1_BITPOS)
                            13201 ; 669  |#define ENDPOINT2_SETMASK (1<<ENDPOINT2_BITPOS)
                            13202 ; 670  |#define ENDPOINT3_SETMASK (1<<ENDPOINT3_BITPOS)
                            13203 ; 671  |#define ENDPOINT4_SETMASK (1<<ENDPOINT4_BITPOS)
                            13204 ; 672  |#define ENDPOINT5_SETMASK (1<<ENDPOINT5_BITPOS)
                            13205 ; 673  |#define ENDPOINT6_SETMASK (1<<ENDPOINT6_BITPOS)
                            13206 ; 674  |#define ENDPOINT7_SETMASK (1<<ENDPOINT7_BITPOS)
                            13207 ; 675  |#define ENDPOINT8_SETMASK (1<<ENDPOINT8_BITPOS)
                            13208 ; 676  |#define ENDPOINT9_SETMASK (1<<ENDPOINT9_BITPOS)
                            13209 ; 677  |#define ENDPOINT10_SETMASK (1<<ENDPOINT10_BITPOS)
                            13210 ; 678  |#define ENDPOINT11_SETMASK (1<<ENDPOINT11_BITPOS)
                            13211 ; 679  |#define ENDPOINT12_SETMASK (1<<ENDPOINT12_BITPOS)
                            13212 ; 680  |#define ENDPOINT13_SETMASK (1<<ENDPOINT13_BITPOS)
                            13213 ; 681  |#define ENDPOINT14_SETMASK (1<<ENDPOINT14_BITPOS)
                            13214 ; 682  |#define ENDPOINT15_SETMASK (1<<ENDPOINT15_BITPOS)
                            13215 ; 683  |
                            13216 ; 684  |#define ENDPOINT0_CLRMASK (~(WORD)ENDPOINT0_SETMASK)    
                            13217 ; 685  |#define ENDPOINT1_CLRMASK (~(WORD)ENDPOINT1_SETMASK)    
                            13218 ; 686  |#define ENDPOINT2_CLRMASK (~(WORD)ENDPOINT2_SETMASK)    
                            13219 ; 687  |#define ENDPOINT3_CLRMASK (~(WORD)ENDPOINT3_SETMASK)    
                            13220 ; 688  |#define ENDPOINT4_CLRMASK (~(WORD)ENDPOINT4_SETMASK)    
                            13221 ; 689  |#define ENDPOINT5_CLRMASK (~(WORD)ENDPOINT5_SETMASK)    
                            13222 ; 690  |#define ENDPOINT6_CLRMASK (~(WORD)ENDPOINT6_SETMASK)    
                            13223 ; 691  |#define ENDPOINT7_CLRMASK (~(WORD)ENDPOINT7_SETMASK)    
                            13224 ; 692  |#define ENDPOINT8_CLRMASK (~(WORD)ENDPOINT8_SETMASK)    
                            13225 ; 693  |#define ENDPOINT9_CLRMASK (~(WORD)ENDPOINT9_SETMASK)    
                            13226 ; 694  |#define ENDPOINT10_CLRMASK (~(WORD)ENDPOINT10_SETMASK)
                            13227 ; 695  |#define ENDPOINT11_CLRMASK (~(WORD)ENDPOINT11_SETMASK)
                            13228 ; 696  |#define ENDPOINT12_CLRMASK (~(WORD)ENDPOINT12_SETMASK)
                            13229 ; 697  |#define ENDPOINT13_CLRMASK (~(WORD)ENDPOINT13_SETMASK)
                            13230 ; 698  |#define ENDPOINT14_CLRMASK (~(WORD)ENDPOINT14_SETMASK)
                            13231 ; 699  |#define ENDPOINT15_CLRMASK (~(WORD)ENDPOINT15_SETMASK)
                            13232 ; 700  |
                            13233 ; 701  |typedef union               
                            13234 ; 702  |{
                            13235 ; 703  |    struct {
                            13236 ; 704  |        int EP0              :1;
                            13237 ; 705  |        int EP1              :1;
                            13238 ; 706  |        int EP2              :1;
                            13239 ; 707  |        int EP3              :1;
                            13240 ; 708  |        int EP4              :1;
                            13241 ; 709  |        int EP5              :1;
                            13242 ; 710  |        int EP6              :1;
                            13243 ; 711  |        int EP7              :1;
                            13244 ; 712  |        int EP8              :1;
                            13245 ; 713  |        int EP9              :1;
                            13246 ; 714  |        int EP10             :1;
                            13247 ; 715  |        int EP11             :1;
                            13248 ; 716  |        int EP12             :1;
                            13249 ; 717  |        int EP13             :1;
                            13250 ; 718  |        int EP14             :1;
                            13251 ; 719  |        int EP15             :1;
                            13252 ; 720  |        int                  :32;
                            13253 ; 721  |    } B;
                            13254 ; 722  |    DWORD I;
                            13255 ; 723  |} endpsetupstat_type;
                            13256 ; 724  |
                            13257 ; 725  |//#define HW_ARC_ENDPTSETUPSTAT (*(volatile endpsetupstat_type _X*) (HW_ARC_BASEADDR+0x1ac))    
                            13258 ; 726  |
                            13259 ; 727  |typedef union               
                            13260 ; 728  |{
                            13261 ; 729  |    struct {
                            13262 ; 730  |        int EP0              :1;
                            13263 ; 731  |        int EP1              :1;
                            13264 ; 732  |        int EP2              :1;
                            13265 ; 733  |        int EP3              :1;
                            13266 ; 734  |        int EP4              :1;
                            13267 ; 735  |        int EP5              :1;
                            13268 ; 736  |        int EP6              :1;
                            13269 ; 737  |        int EP7              :1;
                            13270 ; 738  |        int EP8              :1;
                            13271 ; 739  |        int EP9              :1;
                            13272 ; 740  |        int EP10             :1;
                            13273 ; 741  |        int EP11             :1;
                            13274 ; 742  |        int EP12             :1;
                            13275 ; 743  |        int EP13             :1;
                            13276 ; 744  |        int EP14             :1;
                            13277 ; 745  |        int EP15             :1;
                            13278 ; 746  |        int                  :8;
                            13279 ; 747  |    } B;
                            13280 ; 748  |    WORD I;
                            13281 ; 749  |} endpt_type;
                            13282 
                            13320 
                            13321 ; 750  |
                            13322 ; 751  |typedef union
                            13323 ; 752  |{
                            13324 ; 753  |   struct {
                            13325 ; 754  |       endpt_type  RX;
                            13326 ; 755  |       endpt_type  TX;
                            13327 ; 756  |   } W;
                            13328 ; 757  |   DWORD DW;
                            13329 ; 758  |} endptrxtx_type;
                            13330 ; 759  |
                            13331 ; 760  |//#define HW_ARC_ENDPTPRIME    (*(volatile endptrxtx_type _X*) (HW_ARC_BASEADDR+0x1b0))    
                            13332 ; 761  |//#define HW_ARC_ENDPTFLUSH    (*(volatile endptrxtx_type _X*) (HW_ARC_BASEADDR+0x1b4))    
                            13333 ; 762  |//#define HW_ARC_ENDPTSTAT     (*(volatile endptrxtx_type _X*) (HW_ARC_BASEADDR+0x1b8))    
                            13334 ; 763  |//#define HW_ARC_ENDPTCOMPLETE (*(volatile endptrxtx_type _X*) (HW_ARC_BASEADDR+0x1bc))    
                            13335 ; 764  |
                            13336 ; 765  |
                            13337 ; 766  |
                            13338 ; 767  |/////////////////////////////////////////////////////////////////////////////////
                            13339 ; 768  |//  USB ARC Register Endpoint control (HW_ARC_ENDPTCTRL)
                            13340 ; 769  |
                            13341 ; 770  |#define HW_ARC_ENDPTCTRL_RXS_BITPOS (0)
                            13342 ; 771  |#define HW_ARC_ENDPTCTRL_RXD_BITPOS (1)
                            13343 ; 772  |#define HW_ARC_ENDPTCTRL_RXT_BITPOS (2)
                            13344 ; 773  |#define HW_ARC_ENDPTCTRL_RXI_BITPOS (5)
                            13345 ; 774  |#define HW_ARC_ENDPTCTRL_RXR_BITPOS (6)
                            13346 ; 775  |#define HW_ARC_ENDPTCTRL_RXE_BITPOS (7)
                            13347 ; 776  |#define HW_ARC_ENDPTCTRL_TXS_BITPOS (16)
                            13348 ; 777  |#define HW_ARC_ENDPTCTRL_TXD_BITPOS (17)
                            13349 ; 778  |#define HW_ARC_ENDPTCTRL_TXT_BITPOS (18)
                            13350 ; 779  |#define HW_ARC_ENDPTCTRL_TXI_BITPOS (21)
                            13351 ; 780  |#define HW_ARC_ENDPTCTRL_TXR_BITPOS (22)
                            13352 ; 781  |#define HW_ARC_ENDPTCTRL_TXE_BITPOS (23)
                            13353 ; 782  |
                            13354 ; 783  |#define HW_ARC_ENDPTCTRL_RXS_SETMASK (1<<HW_ARC_ENDPTCTRL_RXS_BITPOS)
                            13355 ; 784  |#define HW_ARC_ENDPTCTRL_RXD_SETMASK (1<<HW_ARC_ENDPTCTRL_RXD_BITPOS)
                            13356 ; 785  |#define HW_ARC_ENDPTCTRL_RXT_SETMASK (3<<HW_ARC_ENDPTCTRL_RXT_BITPOS)
                            13357 ; 786  |#define HW_ARC_ENDPTCTRL_RXI_SETMASK (1<<HW_ARC_ENDPTCTRL_RXI_BITPOS)
                            13358 ; 787  |#define HW_ARC_ENDPTCTRL_RXR_SETMASK (1<<HW_ARC_ENDPTCTRL_RXR_BITPOS)
                            13359 ; 788  |#define HW_ARC_ENDPTCTRL_RXE_SETMASK (1<<HW_ARC_ENDPTCTRL_RXE_BITPOS)
                            13360 ; 789  |#define HW_ARC_ENDPTCTRL_TXS_SETMASK (1<<HW_ARC_ENDPTCTRL_TXS_BITPOS)
                            13361 ; 790  |#define HW_ARC_ENDPTCTRL_TXD_SETMASK (1<<HW_ARC_ENDPTCTRL_TXD_BITPOS)
                            13362 ; 791  |#define HW_ARC_ENDPTCTRL_TXT_SETMASK (3<<HW_ARC_ENDPTCTRL_TXT_BITPOS)
                            13363 ; 792  |#define HW_ARC_ENDPTCTRL_TXI_SETMASK (1<<HW_ARC_ENDPTCTRL_TXI_BITPOS)
                            13364 ; 793  |#define HW_ARC_ENDPTCTRL_TXR_SETMASK (1<<HW_ARC_ENDPTCTRL_TXR_BITPOS)
                            13365 ; 794  |
                            13366 ; 795  |// We need to equate the following label like this due to a sign extension problem
                            13367 ; 796  |// if equated like so (1<<HW_ARC_ENDPTCTRL_TXE_BITPOS)
                            13368 ; 797  |#define HW_ARC_ENDPTCTRL_TXE_SETMASK (0x00800000)
                            13369 ; 798  |//HW_ARC_ENDPTCTRL_TXE_SETMASK    equ     (1<<HW_ARC_ENDPTCTRL_TXE_BITPOS)
                            13370 ; 799  |
                            13371 ; 800  |#define HW_ARC_ENDPTCTRL_RXS_CLRMASK (~(WORD)HW_ARC_ENDPTCTRL_RXS_SETMASK)
                            13372 ; 801  |#define HW_ARC_ENDPTCTRL_RXD_CLRMASK (~(WORD)HW_ARC_ENDPTCTRL_RXD_SETMASK)
                            13373 ; 802  |#define HW_ARC_ENDPTCTRL_RXT_CLRMASK (~(WORD)HW_ARC_ENDPTCTRL_RXT_SETMASK)
                            13374 ; 803  |#define HW_ARC_ENDPTCTRL_RXI_CLRMASK (~(WORD)HW_ARC_ENDPTCTRL_RXI_SETMASK)
                            13375 ; 804  |#define HW_ARC_ENDPTCTRL_RXR_CLRMASK (~(WORD)HW_ARC_ENDPTCTRL_RXR_SETMASK)
                            13376 ; 805  |#define HW_ARC_ENDPTCTRL_RXE_CLRMASK (~(WORD)HW_ARC_ENDPTCTRL_RXE_SETMASK)
                            13377 ; 806  |#define HW_ARC_ENDPTCTRL_TXS_CLRMASK (~(WORD)HW_ARC_ENDPTCTRL_TXS_SETMASK)
                            13378 ; 807  |#define HW_ARC_ENDPTCTRL_TXD_CLRMASK (~(WORD)HW_ARC_ENDPTCTRL_TXD_SETMASK)
                            13379 ; 808  |#define HW_ARC_ENDPTCTRL_TXT_CLRMASK (~(WORD)HW_ARC_ENDPTCTRL_TXT_SETMASK)
                            13380 ; 809  |#define HW_ARC_ENDPTCTRL_TXI_CLRMASK (~(WORD)HW_ARC_ENDPTCTRL_TXI_SETMASK)
                            13381 ; 810  |#define HW_ARC_ENDPTCTRL_TXR_CLRMASK (~(WORD)HW_ARC_ENDPTCTRL_TXR_SETMASK)
                            13382 ; 811  |#define HW_ARC_ENDPTCTRL_TXE_CLRMASK (~(WORD)HW_ARC_ENDPTCTRL_TXE_SETMASK)
                            13383 ; 812  |
                            13384 ; 813  |
                            13385 ; 814  |typedef union               
                            13386 ; 815  |{
                            13387 ; 816  |    struct {
                            13388 ; 817  |        int RXS             :1;
                            13389 ; 818  |        int RXD             :1;
                            13390 ; 819  |        int RXT             :2;
                            13391 ; 820  |        int                 :1;
                            13392 ; 821  |        int RXI             :1;
                            13393 ; 822  |        int RXR             :1;
                            13394 ; 823  |        int RXE             :1;
                            13395 ; 824  |        int                 :8;
                            13396 ; 825  |        int TXS             :1;
                            13397 ; 826  |        int TXD             :1;
                            13398 ; 827  |        int TXT             :2;
                            13399 ; 828  |        int                 :1;
                            13400 ; 829  |        int TXI             :1;
                            13401 ; 830  |        int TXR             :1;
                            13402 ; 831  |        int TXE             :1;
                            13403 ; 832  |        int                 :24;
                            13404 ; 833  |    } B;
                            13405 ; 834  |    DWORD I;
                            13406 ; 835  |} endptctrl_type;
                            13407 ; 836  |//#define HW_ARC_ENDPTCTRL[n] (*(volatile usbintr_type _X*) (HW_ARC_BASEADDR+0x1c0+((n)*4)))    
                            13408 ; 837  |
                            13409 ; 838  |#endif
                            13410 ; 839  |
                            13411 ; 840  |
                            13412 
                            13414 
                            13415 ; 37   |#include "regsusb20phy.h"
                            13416 
                            13418 
                            13419 ; 1    |//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                            13420 ; 2    |//;  Copyright(C) SigmaTel, Inc. 2002-2005
                            13421 ; 3    |//;  File        : regsusbphy.inc
                            13422 ; 4    |//;  Description : USB20 PHY Register definition
                            13423 ; 5    |//;  Updated 2.23.2003 By M. Henson
                            13424 ; 6    |//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                            13425 ; 7    |
                            13426 ; 8    |// The following naming conventions are followed in this file.
                            13427 ; 9    |// All registers are named using the format...
                            13428 ; 10   |//     HW_<module>_<regname>
                            13429 ; 11   |// where <module> is the module name which can be any of the following...
                            13430 ; 12   |//     USB20
                            13431 ; 13   |// (Note that when there is more than one copy of a particular module, the
                            13432 ; 14   |// module name includes a number starting from 0 for the first instance of
                            13433 ; 15   |// that module)
                            13434 ; 16   |// <regname> is the specific register within that module
                            13435 ; 17   |// We also define the following...
                            13436 ; 18   |//     HW_<module>_<regname>_BITPOS
                            13437 ; 19   |// which defines the starting bit (i.e. LSB) of a multi bit field
                            13438 ; 20   |//     HW_<module>_<regname>_SETMASK
                            13439 ; 21   |// which does something else, and
                            13440 ; 22   |//     HW_<module>_<regname>_CLRMASK
                            13441 ; 23   |// which does something else.
                            13442 ; 24   |// Other rules
                            13443 ; 25   |//     All caps
                            13444 ; 26   |//     Numeric identifiers start at 0
                            13445 ; 27   |
                            13446 ; 28   |#if !(defined(regsusbphyinc))
                            13447 ; 29   |#define regsusbphyinc 1
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page  54

M:ADDR CODE           CYCLES LINE SOURCELINE
                            13448 ; 30   |
                            13449 ; 31   |#include "types.h"
                            13450 
                            13452 
                            13453 ; 1    |////////////////////////////////////////////////////////////////////////////////
                            13454 ; 2    |// Copyright(C) SigmaTel, Inc. 2000-2004
                            13455 ; 3    |//
                            13456 ; 4    |// Filename: types.h
                            13457 ; 5    |// Description: Standard data types
                            13458 ; 6    |////////////////////////////////////////////////////////////////////////////////
                            13459 ; 7    |
                            13460 ; 8    |#ifndef _TYPES_H
                            13461 ; 9    |#define _TYPES_H
                            13462 ; 10   |
                            13463 ; 11   |// TODO:  move this outta here!
                            13464 ; 12   |#if !defined(NOERROR)
                            13465 ; 13   |#define NOERROR 0
                            13466 ; 14   |#define SUCCESS 0
                            13467 ; 15   |#endif 
                            13468 ; 16   |#if !defined(SUCCESS)
                            13469 ; 17   |#define SUCCESS  0
                            13470 ; 18   |#endif
                            13471 ; 19   |#if !defined(ERROR)
                            13472 ; 20   |#define ERROR   -1
                            13473 ; 21   |#endif
                            13474 ; 22   |#if !defined(FALSE)
                            13475 ; 23   |#define FALSE 0
                            13476 ; 24   |#endif
                            13477 ; 25   |#if !defined(TRUE)
                            13478 ; 26   |#define TRUE  1
                            13479 ; 27   |#endif
                            13480 ; 28   |
                            13481 ; 29   |#if !defined(NULL)
                            13482 ; 30   |#define NULL 0
                            13483 ; 31   |#endif
                            13484 ; 32   |
                            13485 ; 33   |#define MAX_INT     0x7FFFFF
                            13486 ; 34   |#define MAX_LONG    0x7FFFFFffffff
                            13487 ; 35   |        // max positive unsigned long value: -1 == 0xFFFFFFffffff
                            13488 ; 36   |#define MAX_ULONG   (-1) 
                            13489 ; 37   |
                            13490 ; 38   |#define WORD_SIZE   24              // word size in bits
                            13491 ; 39   |#define BYTES_PER_WORD 3            // 8 bit bytes
                            13492 ; 40   |
                            13493 ; 41   |
                            13494 ; 42   |#define BYTE    unsigned char       // btVarName
                            13495 ; 43   |#define CHAR    signed char         // cVarName
                            13496 ; 44   |#define USHORT  unsigned short      // usVarName
                            13497 ; 45   |#define SHORT   unsigned short      // sVarName
                            13498 ; 46   |#define WORD    unsigned int        // wVarName
                            13499 ; 47   |#define INT     signed int          // iVarName
                            13500 ; 48   |#define DWORD   unsigned long       // dwVarName
                            13501 ; 49   |#define LONG    signed long         // lVarName
                            13502 ; 50   |#define BOOL    unsigned int        // bVarName
                            13503 ; 51   |#define FRACT   _fract              // frVarName
                            13504 ; 52   |#define LFRACT  long _fract         // lfrVarName
                            13505 ; 53   |#define CIRC    _circ               // cp<type prefix>VarName (see below)
                            13506 ; 54   |#define FLOAT   float               // fVarName
                            13507 ; 55   |#define DBL     double              // dVarName
                            13508 ; 56   |#define ENUM    enum                // eVarName
                            13509 ; 57   |#define CMX     _complex            // cmxVarName
                            13510 ; 58   |typedef WORD UCS3;                   // 
                            13511 ; 59   |
                            13512 ; 60   |#define UINT16  unsigned short
                            13513 ; 61   |#define UINT8   unsigned char   
                            13514 ; 62   |#define UINT32  unsigned long
                            13515 ; 63   |#define UINT64  unsigned long   // need to figure out how to do 64 bit values.  Or port exisiting code to only use 48 bit
                            13516 ; 64   |#define INT64   unsigned long   // need to figure out how to do 64 bit values.  Or port exisiting code to only use 48 bit
                            13517 ; 65   |#define WCHAR   UINT16
                            13518 ; 66   |
                            13519 ; 67   |//UINT128 is 16 bytes or 6 words
                            13520 ; 68   |typedef struct UINT128_3500 {   
                            13521 ; 69   |    int val[6];     
                            13522 ; 70   |} UINT128_3500;
                            13523 ; 71   |
                            13524 ; 72   |#define UINT128   UINT128_3500
                            13525 ; 73   |
                            13526 ; 74   |// Little endian word packed byte strings:   
                            13527 ; 75   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                            13528 ; 76   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                            13529 ; 77   |// Little endian word packed byte strings:   
                            13530 ; 78   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                            13531 ; 79   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                            13532 ; 80   |
                            13533 ; 81   |// Declare Memory Spaces To Use When Coding
                            13534 ; 82   |// A. Sector Buffers
                            13535 ; 83   |#define SECTOR_BUFFER_MEM_X _X
                            13536 ; 84   |#define SECTOR_BUFFER_MEM_Y _Y
                            13537 ; 85   |#define SECTOR_BUFFER_MEM SECTOR_BUFFER_MEM_X
                            13538 ; 86   |typedef WORD SECTOR_BUFFER_MEM SECTOR_BUFFER;
                            13539 ; 87   |typedef SECTOR_BUFFER * P_SECTOR_BUFFER;
                            13540 ; 88   |// B. Media DDI Memory
                            13541 ; 89   |#define MEDIA_DDI_MEM _Y
                            13542 ; 90   |
                            13543 ; 91   |
                            13544 ; 92   |
                            13545 ; 93   |// Pointers to linear structures are labeled as: p<type prefix>VarName
                            13546 ; 94   |// Examples of circular pointers:
                            13547 ; 95   |//    INT CIRC cpiVarName
                            13548 ; 96   |//    DWORD CIRC cpdwVarName
                            13549 ; 97   |
                            13550 ; 98   |#define RETCODE INT                 // rcVarName
                            13551 ; 99   |
                            13552 ; 100  |// generic bitfield structure
                            13553 ; 101  |struct Bitfield {
                            13554 ; 102  |    unsigned int B0  :1;
                            13555 ; 103  |    unsigned int B1  :1;
                            13556 ; 104  |    unsigned int B2  :1;
                            13557 ; 105  |    unsigned int B3  :1;
                            13558 ; 106  |    unsigned int B4  :1;
                            13559 ; 107  |    unsigned int B5  :1;
                            13560 ; 108  |    unsigned int B6  :1;
                            13561 ; 109  |    unsigned int B7  :1;
                            13562 ; 110  |    unsigned int B8  :1;
                            13563 ; 111  |    unsigned int B9  :1;
                            13564 ; 112  |    unsigned int B10 :1;
                            13565 ; 113  |    unsigned int B11 :1;
                            13566 ; 114  |    unsigned int B12 :1;
                            13567 ; 115  |    unsigned int B13 :1;
                            13568 ; 116  |    unsigned int B14 :1;
                            13569 ; 117  |    unsigned int B15 :1;
                            13570 ; 118  |    unsigned int B16 :1;
                            13571 ; 119  |    unsigned int B17 :1;
                            13572 ; 120  |    unsigned int B18 :1;
                            13573 ; 121  |    unsigned int B19 :1;
                            13574 ; 122  |    unsigned int B20 :1;
                            13575 ; 123  |    unsigned int B21 :1;
                            13576 ; 124  |    unsigned int B22 :1;
                            13577 ; 125  |    unsigned int B23 :1;
                            13578 ; 126  |};
                            13579 ; 127  |
                            13580 ; 128  |union BitInt {
                            13581 ; 129  |        struct Bitfield B;
                            13582 ; 130  |        int        I;
                            13583 ; 131  |};
                            13584 ; 132  |
                            13585 ; 133  |#define MAX_MSG_LENGTH 10
                            13586 ; 134  |struct CMessage
                            13587 ; 135  |{
                            13588 ; 136  |        unsigned int m_uLength;
                            13589 ; 137  |        unsigned int m_uMsg[MAX_MSG_LENGTH];
                            13590 ; 138  |};
                            13591 ; 139  |
                            13592 ; 140  |typedef struct {
                            13593 ; 141  |    WORD m_wLength;
                            13594 ; 142  |    WORD m_wMessage;
                            13595 ; 143  |    WORD m_wParams[MAX_MSG_LENGTH];
                            13596 ; 144  |} Message;
                            13597 ; 145  |
                            13598 ; 146  |struct MessageQueueDescriptor
                            13599 ; 147  |{
                            13600 ; 148  |        int *m_pBase;
                            13601 ; 149  |        int m_iModulo;
                            13602 ; 150  |        int m_iSize;
                            13603 ; 151  |        int *m_pHead;
                            13604 ; 152  |        int *m_pTail;
                            13605 ; 153  |};
                            13606 ; 154  |
                            13607 ; 155  |struct ModuleEntry
                            13608 ; 156  |{
                            13609 ; 157  |    int m_iSignaledEventMask;
                            13610 ; 158  |    int m_iWaitEventMask;
                            13611 ; 159  |    int m_iResourceOfCode;
                            13612 ; 160  |    struct MessageQueueDescriptor *m_pMessageQueue;
                            13613 ; 161  |    int _asmfunc (*m_pProcessEntryPoint)(union WaitMask Signals,struct MessageQueueDescriptor *);
                            13614 ; 162  |    int _asmfunc (*m_pInitFunction)(struct MessageQueueDescriptor *);
                            13615 ; 163  |    int m_uTimeOutHigh;
                            13616 ; 164  |    int m_uTimeOutLow;
                            13617 ; 165  |    int _asmfunc (*m_pBackgroundFunction)(struct MessageQueueDescriptor *);
                            13618 ; 166  |};
                            13619 ; 167  |
                            13620 ; 168  |union WaitMask{
                            13621 ; 169  |    struct B{
                            13622 ; 170  |        unsigned int m_bNone     :1;
                            13623 ; 171  |        unsigned int m_bMessage  :1;
                            13624 ; 172  |        unsigned int m_bTimer    :1;
                            13625 ; 173  |        unsigned int m_bButton   :1;
                            13626 ; 174  |    } B;
                            13627 ; 175  |    int I;
                            13628 ; 176  |} ;
                            13629 ; 177  |
                            13630 ; 178  |
                            13631 ; 179  |struct Button {
                            13632 ; 180  |        WORD wButtonEvent;
                            13633 ; 181  |        WORD wUnused[MAX_MSG_LENGTH];   
                            13634 ; 182  |};
                            13635 ; 183  |
                            13636 ; 184  |struct Message {
                            13637 ; 185  |        WORD wMsgLength;
                            13638 ; 186  |        WORD wMsgCommand;
                            13639 ; 187  |        WORD wMsgParms[MAX_MSG_LENGTH-1];
                            13640 ; 188  |};
                            13641 ; 189  |
                            13642 ; 190  |union EventTypes {
                            13643 ; 191  |        struct CMessage msg;
                            13644 ; 192  |        struct Button Button ;
                            13645 ; 193  |        struct Message Message;
                            13646 ; 194  |};
                            13647 ; 195  |
                            13648 ; 196  |// next 2 used to get updater build to return correct protocol ver in scsi response.
                            13649 ; 197  |#define BUILD_TYPE_UPDATER  0x100
                            13650 ; 198  |#define BUILD_TYPE_HOSTLINK 0x101
                            13651 ; 199  |#define BUILD_TYPE_PLAYER   0x102
                            13652 ; 200  |
                            13653 ; 201  |// Resets part if RETAIL build. DEBUG build executes debug instruction to halt.
                            13654 ; 202  |#define SystemHalt() __asm(" include 'sysmacro.asm' \n error") 
                            13655 ; 203  |#define assert(x)    if(!(x)) __asm(" include 'sysmacro.asm' \n error")
                            13656 ; 204  |
                            13657 ; 205  |#if DEBUG
                            13658 ; 206  |// For DEBUG builds, DebugBuildAssert(condition) halts if condition evaluates to FALSE. 
                            13659 ; 207  |#define DebugBuildAssert(x)    if(!(x)) __asm(" debug ")
                            13660 ; 208  |#else 
                            13661 ; 209  |// For RETAIL builds, DebugBuildAssert(condition) does nothing & execution continues rather than halt or reset. 
                            13662 ; 210  |#define DebugBuildAssert(x)    
                            13663 ; 211  |#endif
                            13664 ; 212  |
                            13665 ; 213  |// Do this in your C files to make a reminder that's displayed during the build.
                            13666 ; 214  |//  #pragma asm
                            13667 ; 215  |//  WARN 'Note to builder: reminder to do this after verifying that'
                            13668 ; 216  |//  #pragma endasm
                            13669 ; 217  |
                            13670 ; 218  |
                            13671 ; 219  |#ifdef COLOR_262K
                            13672 ; 220  |#define RGB(r,g,b)    ((0x0000FC & (r)) << 10) | ((0x0000FC & (g)) << 4) | ((0x0000FC & (b)) >> 2)    //262k
                            13673 ; 221  |#elif defined(COLOR_65K)
                            13674 ; 222  |#define RGB(r,g,b)    ((0x0000F8 & (r)) << 8) | ((0x0000FC & (g)) << 3) | ((0x0000F8 & (b)) >> 3)  //65k
                            13675 ; 223  |#else
                            13676 ; 224  |#define RGB(r,g,b)       ((0x0000F0 & (r)) << 4) | (0x0000F0 & (g)) | ((0x0000F0 & (b)) >> 4)
                            13677 ; 225  |#endif
                            13678 ; 226  |    
                            13679 ; 227  |#endif // #ifndef _TYPES_H
                            13680 
                            13682 
                            13683 ; 32   |
                            13684 ; 33   |//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                            13685 ; 34   |//   USB2.0 PHY STMP Registers 
                            13686 ; 35   |//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                            13687 ; 36   |#define HW_USBPHY_BASEADDR (0xF210)
                            13688 ; 37   |
                            13689 ; 38   |
                            13690 ; 39   |/////////////////////////////////////////////////////////////////////////////////
                            13691 ; 40   |//  USB PHY Powerdown Register (HW_USBPHYPWD) Bit Definitions
                            13692 ; 41   |
                            13693 ; 42   |#define HW_USBPHYPWD_TXDISCON1500_BITPOS (5)
                            13694 ; 43   |#define HW_USBPHYPWD_PLLVCOPWD_BITPOS (6)
                            13695 ; 44   |#define HW_USBPHYPWD_PLLVCPPWD_BITPOS (7)
                            13696 ; 45   |#define HW_USBPHYPWD_TXPWDFS_BITPOS (10)
                            13697 ; 46   |#define HW_USBPHYPWD_TXPWDIBIAS_BITPOS (11)
                            13698 ; 47   |#define HW_USBPHYPWD_TXPWDV2I_BITPOS (12)
                            13699 ; 48   |#define HW_USBPHYPWD_TXPWDVBG_BITPOS (13)
                            13700 ; 49   |#define HW_USBPHYPWD_TXPWDCOMP_BITPOS (14)
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page  55

M:ADDR CODE           CYCLES LINE SOURCELINE
                            13701 ; 50   |#define HW_USBPHYPWD_RXPWDDISCONDET_BITPOS (16)
                            13702 ; 51   |#define HW_USBPHYPWD_RXPWDENV_BITPOS (17)
                            13703 ; 52   |#define HW_USBPHYPWD_RXPWD1PT1_BITPOS (18)
                            13704 ; 53   |#define HW_USBPHYPWD_RXPWDDIFF_BITPOS (19)
                            13705 ; 54   |#define HW_USBPHYPWD_RXPWDRX_BITPOS (20)
                            13706 ; 55   |#define HW_USBPHYPWD_PWDIBIAS_BITPOS (22)
                            13707 ; 56   |#define HW_USBPHYPWD_REGRESET_BITPOS (23)
                            13708 ; 57   |
                            13709 ; 58   |#define HW_USBPHYPWD_TXDISCON1500_SETMASK (1<<HW_USBPHYPWD_TXDISCON1500_BITPOS)
                            13710 ; 59   |#define HW_USBPHYPWD_PLLVCOPWD_SETMASK (1<<HW_USBPHYPWD_PLLVCOPWD_BITPOS)
                            13711 ; 60   |#define HW_USBPHYPWD_PLLVCPPWD_SETMASK (1<<HW_USBPHYPWD_PLLVCPPWD_BITPOS)
                            13712 ; 61   |#define HW_USBPHYPWD_TXPWDFS_SETMASK (1<<HW_USBPHYPWD_TXPWDFS_BITPOS)
                            13713 ; 62   |#define HW_USBPHYPWD_TXPWDIBIAS_SETMASK (1<<HW_USBPHYPWD_TXPWDIBIAS_BITPOS)
                            13714 ; 63   |#define HW_USBPHYPWD_TXPWDV2I_SETMASK (1<<HW_USBPHYPWD_TXPWDV2I_BITPOS)
                            13715 ; 64   |#define HW_USBPHYPWD_TXPWDVBG_SETMASK (1<<HW_USBPHYPWD_TXPWDVBG_BITPOS)
                            13716 ; 65   |#define HW_USBPHYPWD_TXPWDCOMP_SETMASK (1<<HW_USBPHYPWD_TXPWDCOMP_BITPOS)
                            13717 ; 66   |#define HW_USBPHYPWD_RXPWDDISCONDET_SETMASK (1<<HW_USBPHYPWD_RXPWDDISCONDET_BITPOS)
                            13718 ; 67   |#define HW_USBPHYPWD_RXPWDENV_SETMASK (1<<HW_USBPHYPWD_RXPWDENV_BITPOS)
                            13719 ; 68   |#define HW_USBPHYPWD_RXPWD1PT1_SETMASK (1<<HW_USBPHYPWD_RXPWD1PT1_BITPOS)
                            13720 ; 69   |#define HW_USBPHYPWD_RXPWDDIFF_SETMASK (1<<HW_USBPHYPWD_RXPWDDIFF_BITPOS)
                            13721 ; 70   |#define HW_USBPHYPWD_RXPWDRX_SETMASK (1<<HW_USBPHYPWD_RXPWDRX_BITPOS)
                            13722 ; 71   |#define HW_USBPHYPWD_PWDIBIAS_SETMASK (1<<HW_USBPHYPWD_PWDIBIAS_BITPOS)
                            13723 ; 72   |#define HW_USBPHYPWD_REGRESET_SETMASK (1<<HW_USBPHYPWD_REGRESET_BITPOS)
                            13724 ; 73   |
                            13725 ; 74   |#define HW_USBPHYPWD_TXDISCON1500_CLRMASK (~(WORD)HW_USBPHYPWD_TXDISCON1500_SETMASK)
                            13726 ; 75   |#define HW_USBPHYPWD_PLLVCOPWD_CLRMASK (~(WORD)HW_USBPHYPWD_PLLVCOPWD_SETMASK)
                            13727 ; 76   |#define HW_USBPHYPWD_PLLVCPPWD_CLRMASK (~(WORD)HW_USBPHYPWD_PLLVCPPWD_SETMASK)
                            13728 ; 77   |#define HW_USBPHYPWD_TXPWDFS_CLRMASK (~(WORD)HW_USBPHYPWD_TXPWDFS_SETMASK)
                            13729 ; 78   |#define HW_USBPHYPWD_TXPWDIBIAS_CLRMASK (~(WORD)HW_USBPHYPWD_TXPWDIBIAS_SETMASK)
                            13730 ; 79   |#define HW_USBPHYPWD_TXPWDV2I_CLRMASK (~(WORD)HW_USBPHYPWD_TXPWDV2I_SETMASK)
                            13731 ; 80   |#define HW_USBPHYPWD_TXPWDVBG_CLRMASK (~(WORD)HW_USBPHYPWD_TXPWDVBG_SETMASK)
                            13732 ; 81   |#define HW_USBPHYPWD_TXPWDCOMP_CLRMASK (~(WORD)HW_USBPHYPWD_TXPWDCOMP_SETMASK)
                            13733 ; 82   |#define HW_USBPHYPWD_RXPWDDISCONDET_CLRMASK (~(WORD)HW_USBPHYPWD_RXPWDDISCONDET_SETMASK)
                            13734 ; 83   |#define HW_USBPHYPWD_RXPWDENV_CLRMASK (~(WORD)HW_USBPHYPWD_RXPWDENV_SETMASK)
                            13735 ; 84   |#define HW_USBPHYPWD_RXPWD1PT1_CLRMASK (~(WORD)HW_USBPHYPWD_RXPWD1PT1_SETMASK)
                            13736 ; 85   |#define HW_USBPHYPWD_RXPWDDIFF_CLRMASK (~(WORD)HW_USBPHYPWD_RXPWDDIFF_SETMASK)
                            13737 ; 86   |#define HW_USBPHYPWD_RXPWDRX_CLRMASK (~(WORD)HW_USBPHYPWD_RXPWDRX_SETMASK)
                            13738 ; 87   |#define HW_USBPHYPWD_PWDIBIAS_CLRMASK (~(WORD)HW_USBPHYPWD_PWDIBIAS_SETMASK)
                            13739 ; 88   |#define HW_USBPHYPWD_REGRESET_CLRMASK (~(WORD)HW_USBPHYPWD_REGRESET_SETMASK)
                            13740 ; 89   |
                            13741 ; 90   |typedef union               
                            13742 ; 91   |{
                            13743 ; 92   |    struct {
                            13744 ; 93   |        int RSVD0          :5;
                            13745 ; 94   |        int TXDISCON1500   :1;
                            13746 ; 95   |        int PLLVCOPWD      :1;
                            13747 ; 96   |        int PLLVCPPWD      :1;
                            13748 ; 97   |        int RSVD1          :2;
                            13749 ; 98   |        int TXPWDFS        :1;
                            13750 ; 99   |        int TXPWDIBIAS     :1;
                            13751 ; 100  |        int TXPWDV2I       :1;
                            13752 ; 101  |        int TXPWDVBG       :1;
                            13753 ; 102  |        int TXPWDCOMP      :1;
                            13754 ; 103  |        int RSVD2          :1;
                            13755 ; 104  |        int RXPWDDISCONDET :1;
                            13756 ; 105  |        int RXPWDENV       :1;
                            13757 ; 106  |        int RXPWD1PT1      :1;
                            13758 ; 107  |        int RXPWDDIFF      :1;
                            13759 ; 108  |        int RXPWDRX        :1;
                            13760 ; 109  |        int RSVD3          :1;
                            13761 ; 110  |        int PWDIBIAS       :1;
                            13762 ; 111  |        int REGRESET       :1;
                            13763 ; 112  |    } B;
                            13764 ; 113  |    int I;
                            13765 ; 114  |} usbphypwd_type;
                            13766 ; 115  |#define HW_USBPHYPWD      (*(volatile usbphypwd_type _X*) (HW_USBPHY_BASEADDR))    /* USB PHY Powerdown Register */
                            13767 ; 116  |
                            13768 ; 117  |/////////////////////////////////////////////////////////////////////////////////
                            13769 ; 118  |//  USB PHY Transmit register (HW_USBPHYTX) Bit Definitions
                            13770 ; 119  |#define HW_USBPHYTX_TXCAL1500_BITPOS (0)
                            13771 ; 120  |#define HW_USBPHYTX_TXENCAL1500_BITPOS (5)
                            13772 ; 121  |#define HW_USBPHYTX_TXHSXCVR_BITPOS (6)
                            13773 ; 122  |#define HW_USBPHYTX_TXCALIBRATE_BITPOS (7)
                            13774 ; 123  |#define HW_USBPHYTX_TXCAL45DN_BITPOS (8)
                            13775 ; 124  |#define HW_USBPHYTX_TXENCAL45DN_BITPOS (13)
                            13776 ; 125  |#define HW_USBPHYTX_TXHSTERM_BITPOS (14)
                            13777 ; 126  |#define HW_USBPHYTX_TXSKEW_BITPOS (15)
                            13778 ; 127  |#define HW_USBPHYTX_TXCAL45DP_BITPOS (16)
                            13779 ; 128  |#define HW_USBPHYTX_TXENCAL45DP_BITPOS (21)
                            13780 ; 129  |#define HW_USBPHYTX_TXFSHIZ_BITPOS (22)
                            13781 ; 130  |#define HW_USBPHYTX_TXCOMPOUT_BITPOS (23)
                            13782 ; 131  |
                            13783 ; 132  |#define HW_USBPHYTX_TXCAL1500_WIDTH (4)
                            13784 ; 133  |#define HW_USBPHYTX_TXENCAL1500_WIDTH (1)
                            13785 ; 134  |#define HW_USBPHYTX_TXHSXCVR_WIDTH (1)
                            13786 ; 135  |#define HW_USBPHYTX_TXCALIBRATE_WIDTH (1)
                            13787 ; 136  |#define HW_USBPHYTX_TXCAL45DN_WIDTH (4)
                            13788 ; 137  |#define HW_USBPHYTX_TXENCAL45DN_WIDTH (1)
                            13789 ; 138  |#define HW_USBPHYTX_TXHSTERM_WIDTH (1)
                            13790 ; 139  |#define HW_USBPHYTX_TXSKEW_WIDTH (1)
                            13791 ; 140  |#define HW_USBPHYTX_TXCAL45DP_WIDTH (4)
                            13792 ; 141  |#define HW_USBPHYTX_TXENCAL45DP_WIDTH (1)
                            13793 ; 142  |#define HW_USBPHYTX_TXFSHIZ_WIDTH (1)
                            13794 ; 143  |#define HW_USBPHYTX_TXCOMPOUT_WIDTH (1)
                            13795 ; 144  |
                            13796 ; 145  |#define HW_USBPHYTX_TXCAL1500_SETMASK (((1<<HW_USBPHYTX_TXCAL1500_WIDTH)-1)<<HW_USBPHYTX_TXCAL1500_BITPOS)
                            13797 ; 146  |#define HW_USBPHYTX_TXENCAL1500_SETMASK (((1<<HW_USBPHYTX_TXENCAL1500_WIDTH)-1)<<HW_USBPHYTX_TXENCAL1500_BITPOS)
                            13798 ; 147  |#define HW_USBPHYTX_TXHSXCVR_SETMASK (((1<<HW_USBPHYTX_TXHSXCVR_WIDTH)-1)<<HW_USBPHYTX_TXHSXCVR_BITPOS)
                            13799 ; 148  |#define HW_USBPHYTX_TXCALIBRATE_SETMASK (((1<<HW_USBPHYTX_TXCALIBRATE_WIDTH)-1)<<HW_USBPHYTX_TXCALIBRATE_BITPOS)
                            13800 ; 149  |#define HW_USBPHYTX_TXCAL45DN_SETMASK (((1<<HW_USBPHYTX_TXCAL45DN_WIDTH)-1)<<HW_USBPHYTX_TXCAL45DN_BITPOS)
                            13801 ; 150  |#define HW_USBPHYTX_TXENCAL45DN_SETMASK (((1<<HW_USBPHYTX_TXENCAL45DN_WIDTH)-1)<<HW_USBPHYTX_TXENCAL45DN_BITPOS)
                            13802 ; 151  |#define HW_USBPHYTX_TXHSTERM_SETMASK (((1<<HW_USBPHYTX_TXHSTERM_WIDTH)-1)<<HW_USBPHYTX_TXHSTERM_BITPOS)
                            13803 ; 152  |#define HW_USBPHYTX_TXSKEW_SETMASK (((1<<HW_USBPHYTX_TXSKEW_WIDTH)-1)<<HW_USBPHYTX_TXSKEW_BITPOS)
                            13804 ; 153  |#define HW_USBPHYTX_TXCAL45DP_SETMASK (((1<<HW_USBPHYTX_TXCAL45DP_WIDTH)-1)<<HW_USBPHYTX_TXCAL45DP_BITPOS)
                            13805 ; 154  |#define HW_USBPHYTX_TXENCAL45DP_SETMASK (((1<<HW_USBPHYTX_TXENCAL45DP_WIDTH)-1)<<HW_USBPHYTX_TXENCAL45DP_BITPOS)
                            13806 ; 155  |#define HW_USBPHYTX_TXFSHIZ_SETMASK (((1<<HW_USBPHYTX_TXFSHIZ_WIDTH)-1)<<HW_USBPHYTX_TXFSHIZ_BITPOS)
                            13807 ; 156  |#define HW_USBPHYTX_TXCOMPOUT_SETMASK (((1<<HW_USBPHYTX_TXCOMPOUT_WIDTH)-1)<<HW_USBPHYTX_TXCOMPOUT_BITPOS)
                            13808 ; 157  |
                            13809 ; 158  |#define HW_USBPHYTX_TXCAL1500_CLRMASK (~(WORD)HW_USBPHYTX_TXCAL1500_SETMASK)
                            13810 ; 159  |#define HW_USBPHYTX_TXENCAL1500_CLRMASK (~(WORD)HW_USBPHYTX_TXENCAL1500_SETMASK)
                            13811 ; 160  |#define HW_USBPHYTX_TXHSXCVR_CLRMASK (~(WORD)HW_USBPHYTX_TXHSXCVR_SETMASK)
                            13812 ; 161  |#define HW_USBPHYTX_TXCALIBRATE_CLRMASK (~(WORD)HW_USBPHYTX_TXCALIBRATE_SETMASK)
                            13813 ; 162  |#define HW_USBPHYTX_TXCAL45DN_CLRMASK (~(WORD)HW_USBPHYTX_TXCAL45DN_SETMASK)
                            13814 ; 163  |#define HW_USBPHYTX_TXENCAL45DN_CLRMASK (~(WORD)HW_USBPHYTX_TXENCAL45DN_SETMASK)
                            13815 ; 164  |#define HW_USBPHYTX_TXHSTERM_CLRMASK (~(WORD)HW_USBPHYTX_TXHSTERM_SETMASK)
                            13816 ; 165  |#define HW_USBPHYTX_TXSKEW_CLRMASK (~(WORD)HW_USBPHYTX_TXSKEW_SETMASK)
                            13817 ; 166  |#define HW_USBPHYTX_TXCAL45DP_CLRMASK (~(WORD)HW_USBPHYTX_TXCAL45DP_SETMASK)
                            13818 ; 167  |#define HW_USBPHYTX_TXENCAL45DP_CLRMASK (~(WORD)HW_USBPHYTX_TXENCAL45DP_SETMASK)
                            13819 ; 168  |#define HW_USBPHYTX_TXFSHIZ_CLRMASK (~(WORD)HW_USBPHYTX_TXFSHIZ_SETMASK)
                            13820 ; 169  |#define HW_USBPHYTX_TXCOMPOUT_CLRMASK (~(WORD)HW_USBPHYTX_TXCOMPOUT_SETMASK)
                            13821 ; 170  |
                            13822 ; 171  |typedef union               
                            13823 ; 172  |{
                            13824 ; 173  |    struct {
                            13825 ; 174  |        int TXCAL1500          :4;
                            13826 ; 175  |        int RSVD0              :1;
                            13827 ; 176  |        int TXENCAL1500        :1;
                            13828 ; 177  |        int TXHSXCVR           :1;
                            13829 ; 178  |        int TXCALIBRATE        :1;
                            13830 ; 179  |        int TXCAL45DN          :4;
                            13831 ; 180  |        int RSVD1              :1;
                            13832 ; 181  |        int TXENCAL45DN        :1;
                            13833 ; 182  |        int TXHSTERM           :1;
                            13834 ; 183  |        int TXSKEW             :1;
                            13835 ; 184  |        int TXCAL45DP          :4;
                            13836 ; 185  |        int RSVD2              :1;
                            13837 ; 186  |        int TXENCAL45DP        :1;
                            13838 ; 187  |        int TXFSHIZ            :1;
                            13839 ; 188  |        int TXCOMPOUT          :1;
                            13840 ; 189  |    } B;
                            13841 ; 190  |    int I;
                            13842 ; 191  |} usbphytx_type;
                            13843 ; 192  |#define HW_USBPHYTX      (*(volatile usbphytx_type _X*) (HW_USBPHY_BASEADDR+1))    
                            13844 ; 193  |
                            13845 ; 194  |/////////////////////////////////////////////////////////////////////////////////
                            13846 ; 195  |//  USB PHY PLL register (HW_USBPHYPLL) Bit Definitions
                            13847 ; 196  |#define HW_USBPHYPLL_PLLV2ISEL_BITPOS (0)
                            13848 ; 197  |#define HW_USBPHYPLL_PLLCPDBLIP_BITPOS (5)
                            13849 ; 198  |#define HW_USBPHYPLL_PLLVCOCLK2_BITPOS (6)
                            13850 ; 199  |#define HW_USBPHYPLL_PLLVCOCLK24_BITPOS (7)
                            13851 ; 200  |#define HW_USBPHYPLL_PLLCPNSEL_BITPOS (8)
                            13852 ; 201  |#define HW_USBPHYPLL_PLLCLKDIVSEL_BITPOS (12)
                            13853 ; 202  |#define HW_USBPHYPLL_PLLPFDRST_BITPOS (20)
                            13854 ; 203  |#define HW_USBPHYPLL_PLLCPSHORTLFR_BITPOS (21)
                            13855 ; 204  |#define HW_USBPHYPLL_PLLVCOKSTART_BITPOS (22)
                            13856 ; 205  |#define HW_USBPHYPLL_PLLCLKDIVRSTZ_BITPOS (23)
                            13857 ; 206  |
                            13858 ; 207  |#define HW_USBPHYPLL_PLLV2ISEL_WIDTH (4)
                            13859 ; 208  |#define HW_USBPHYPLL_PLLCPDBLIP_WIDTH (1)
                            13860 ; 209  |#define HW_USBPHYPLL_PLLVCOCLK2_WIDTH (1)
                            13861 ; 210  |#define HW_USBPHYPLL_PLLVCOCLK24_WIDTH (1)
                            13862 ; 211  |#define HW_USBPHYPLL_PLLCPNSEL_WIDTH (4)
                            13863 ; 212  |#define HW_USBPHYPLL_PLLCLKDIVSEL_WIDTH (4)
                            13864 ; 213  |#define HW_USBPHYPLL_PLLPFDRST_WIDTH (1)
                            13865 ; 214  |#define HW_USBPHYPLL_PLLCPSHORTLFR_WIDTH (1)
                            13866 ; 215  |#define HW_USBPHYPLL_PLLVCOKSTART_WIDTH (1)
                            13867 ; 216  |#define HW_USBPHYPLL_PLLCLKDIVRSTZ_WIDTH (1)
                            13868 ; 217  |
                            13869 ; 218  |#define HW_USBPHYPLL_PLLV2ISEL_SETMASK (((1<<HW_USBPHYPLL_PLLV2ISEL_WIDTH)-1)<<HW_USBPHYPLL_PLLV2ISEL_BITPOS)
                            13870 ; 219  |#define HW_USBPHYPLL_PLLCPDBLIP_SETMASK (((1<<HW_USBPHYPLL_PLLCPDBLIP_WIDTH)-1)<<HW_USBPHYPLL_PLLCPDBLIP_BITPOS)
                            13871 ; 220  |#define HW_USBPHYPLL_PLLVCOCLK2_SETMASK (((1<<HW_USBPHYPLL_PLLVCOCLK2_WIDTH)-1)<<HW_USBPHYPLL_PLLVCOCLK2_BITPOS)
                            13872 ; 221  |#define HW_USBPHYPLL_PLLVCOCLK24_SETMASK (((1<<HW_USBPHYPLL_PLLVCOCLK24_WIDTH)-1)<<HW_USBPHYPLL_PLLVCOCLK24_BITPOS)
                            13873 ; 222  |#define HW_USBPHYPLL_PLLCPNSEL_SETMASK (((1<<HW_USBPHYPLL_PLLCPNSEL_WIDTH)-1)<<HW_USBPHYPLL_PLLCPNSEL_BITPOS)
                            13874 ; 223  |#define HW_USBPHYPLL_PLLCLKDIVSEL_SETMASK (((1<<HW_USBPHYPLL_PLLCLKDIVSEL_WIDTH)-1)<<HW_USBPHYPLL_PLLCLKDIVSEL_BITPOS)
                            13875 ; 224  |#define HW_USBPHYPLL_PLLPFDRST_SETMASK (((1<<HW_USBPHYPLL_PLLPFDRST_WIDTH)-1)<<HW_USBPHYPLL_PLLPFDRST_BITPOS)
                            13876 ; 225  |#define HW_USBPHYPLL_PLLCPSHORTLFR_SETMASK (((1<<HW_USBPHYPLL_PLLCPSHORTLFR_WIDTH)-1)<<HW_USBPHYPLL_PLLCPSHORTLFR_BITPOS)
                            13877 ; 226  |#define HW_USBPHYPLL_PLLVCOKSTART_SETMASK (((1<<HW_USBPHYPLL_PLLVCOKSTART_WIDTH)-1)<<HW_USBPHYPLL_PLLVCOKSTART_BITPOS)
                            13878 ; 227  |#define HW_USBPHYPLL_PLLCLKDIVRSTZ_SETMASK (((1<<HW_USBPHYPLL_PLLCLKDIVRSTZ_WIDTH)-1)<<HW_USBPHYPLL_PLLCLKDIVRSTZ_BITPOS)
                            13879 ; 228  |
                            13880 ; 229  |#define HW_USBPHYPLL_PLLV2ISEL_CLRMASK (~(WORD)HW_USBPHYPLL_PLLV2ISEL_SETMASK)
                            13881 ; 230  |#define HW_USBPHYPLL_PLLCPDBLIP_CLRMASK (~(WORD)HW_USBPHYPLL_PLLCPDBLIP_SETMASK)
                            13882 ; 231  |#define HW_USBPHYPLL_PLLVCOCLK2_CLRMASK (~(WORD)HW_USBPHYPLL_PLLVCOCLK2_SETMASK)
                            13883 ; 232  |#define HW_USBPHYPLL_PLLVCOCLK24_CLRMASK (~(WORD)HW_USBPHYPLL_PLLVCOCLK24_SETMASK)
                            13884 ; 233  |#define HW_USBPHYPLL_PLLCPNSEL_CLRMASK (~(WORD)HW_USBPHYPLL_PLLCPNSEL_SETMASK)
                            13885 ; 234  |#define HW_USBPHYPLL_PLLCLKDIVSEL_CLRMASK (~(WORD)HW_USBPHYPLL_PLLCLKDIVSEL_SETMASK)
                            13886 ; 235  |#define HW_USBPHYPLL_PLLPFDRST_CLRMASK (~(WORD)HW_USBPHYPLL_PLLPFDRST_SETMASK)
                            13887 ; 236  |#define HW_USBPHYPLL_PLLCPSHORTLFR_CLRMASK (~(WORD)HW_USBPHYPLL_PLLCPSHORTLFR_SETMASK)
                            13888 ; 237  |#define HW_USBPHYPLL_PLLVCOKSTART_CLRMASK (~(WORD)HW_USBPHYPLL_PLLVCOKSTART_SETMASK)
                            13889 ; 238  |#define HW_USBPHYPLL_PLLCLKDIVRSTZ_CLRMASK (~(WORD)HW_USBPHYPLL_PLLCLKDIVRSTZ_SETMASK)
                            13890 ; 239  |
                            13891 ; 240  |typedef union               
                            13892 ; 241  |{
                            13893 ; 242  |    struct {
                            13894 ; 243  |        int PLLV2ISEL        :4;
                            13895 ; 244  |        int RSVD0            :1;
                            13896 ; 245  |        int PLLCPDBLIP       :1;
                            13897 ; 246  |        int PLLVCOCLK2       :1;
                            13898 ; 247  |        int PLLVCOCLK24      :1;
                            13899 ; 248  |        int PLLCPNSEL        :4;
                            13900 ; 249  |        int PLLCLKDIVSEL     :4;
                            13901 ; 250  |        int RSVD1            :4;
                            13902 ; 251  |        int PLLPFDRST        :1;
                            13903 ; 252  |        int PLLCPSHORTLFR    :1;
                            13904 ; 253  |        int PLLVCOKSTART     :1;
                            13905 ; 254  |        int PLLCLKDIVRSTZ    :1;
                            13906 ; 255  |    } B;
                            13907 ; 256  |    int I;
                            13908 ; 257  |} usbphypll_type;
                            13909 ; 258  |#define HW_USBPHYPLL      (*(volatile usbphypll_type _X*) (HW_USBPHY_BASEADDR+2))    
                            13910 ; 259  |
                            13911 ; 260  |/////////////////////////////////////////////////////////////////////////////////
                            13912 ; 261  |//  USB PHY PLL register (HW_USBPHYRX) Bit Definitions
                            13913 ; 262  |#define HW_USBRX_ENVADJ_BITPOS (0)
                            13914 ; 263  |#define HW_USBRX_DISCONADJ_BITPOS (4)
                            13915 ; 264  |#define HW_USBRX_DEBUGMODE_BITPOS (8)
                            13916 ; 265  |#define HW_USBRX_PLLLKTIMECTL_BITPOS (12)
                            13917 ; 266  |#define HW_USBRX_PLLCKDIVCTL_BITPOS (16)
                            13918 ; 267  |#define HW_USBRX_HOSTMODETEST_BITPOS (20)
                            13919 ; 268  |#define HW_USBRX_FSCKSOURCESEL_BITPOS (21)
                            13920 ; 269  |#define HW_USBRX_REGRXDBYPASS_BITPOS (22)
                            13921 ; 270  |#define HW_USBRX_PLLLOCKED_BITPOS (23)
                            13922 ; 271  |
                            13923 ; 272  |#define HW_USBRX_ENVADJ_WIDTH (4)
                            13924 ; 273  |#define HW_USBRX_DISCONADJ_WIDTH (4)
                            13925 ; 274  |#define HW_USBRX_DEBUGMODE_WIDTH (4)
                            13926 ; 275  |#define HW_USBRX_PLLLKTIMECTL_WIDTH (4)
                            13927 ; 276  |#define HW_USBRX_PLLCKDIVCTL_WIDTH (4)
                            13928 ; 277  |#define HW_USBRX_HOSTMODETEST_WIDTH (1)
                            13929 ; 278  |#define HW_USBRX_FSCKSOURCESEL_WIDTH (1)
                            13930 ; 279  |#define HW_USBRX_REGRXDBYPASS_WIDTH (1)
                            13931 ; 280  |#define HW_USBRX_PLLLOCKED_WIDTH (1)
                            13932 ; 281  |
                            13933 ; 282  |#define HW_USBRX_ENVADJ_SETMASK (((1<<HW_USBRX_ENVADJ_WIDTH)-1)<<HW_USBRX_ENVADJ_BITPOS)
                            13934 ; 283  |#define HW_USBRX_DISCONADJ_SETMASK (((1<<HW_USBRX_DISCONADJ_WIDTH)-1)<<HW_USBRX_DISCONADJ_BITPOS)
                            13935 ; 284  |#define HW_USBRX_DEBUGMODE_SETMASK (((1<<HW_USBRX_DEBUGMODE_WIDTH)-1)<<HW_USBRX_DEBUGMODE_BITPOS)
                            13936 ; 285  |#define HW_USBRX_PLLLKTIMECTL_SETMASK (((1<<HW_USBRX_PLLLKTIMECTL_WIDTH)-1)<<HW_USBRX_PLLLKTIMECTL_BITPOS)
                            13937 ; 286  |#define HW_USBRX_PLLCKDIVCTL_SETMASK (((1<<HW_USBRX_PLLCKDIVCTL_WIDTH)-1)<<HW_USBRX_PLLCKDIVCTL_BITPOS)
                            13938 ; 287  |// 480 MHz PLL is divided by named number here. Setmask divider field nibble of 7 gives actual divider of 8 and so on. (8 gives 9, 9 gives 10)
                            13939 ; 288  |//              480Mhz/7 =68.57Mhz
                            13940 ; 289  |#define HW_USBPHYRX_PLLDIV_BY_7 0x060000
                            13941 ; 290  |
                            13942 ; 291  |//              480Mhz/8 ~60Mhz
                            13943 ; 292  |#define HW_USBPHYRX_PLLDIV_BY_8 0x070000
                            13944 ; 293  |
                            13945 ; 294  |//              480Mhz/9 =53.3Mhz
                            13946 ; 295  |#define HW_USBPHYRX_PLLDIV_BY_9 0x080000
                            13947 ; 296  |
                            13948 ; 297  |//              480Mhz/10 =48Mhz
                            13949 ; 298  |#define HW_USBPHYRX_PLLDIV_BY_10 0x090000
                            13950 ; 299  |
                            13951 ; 300  |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page  56

M:ADDR CODE           CYCLES LINE SOURCELINE
                            13952 ; 301  |#define HW_USBRX_HOSTMODETEST_SETMASK (((1<<HW_USBRX_HOSTMODETEST_WIDTH)-1)<<HW_USBRX_HOSTMODETEST_BITPOS)
                            13953 ; 302  |#define HW_USBRX_FSCKSOURCESEL_SETMASK (((1<<HW_USBRX_FSCKSOURCESEL_WIDTH)-1)<<HW_USBRX_FSCKSOURCESEL_BITPOS)
                            13954 ; 303  |#define HW_USBRX_REGRXDBYPASS_SETMASK (((1<<HW_USBRX_REGRXDBYPASS_WIDTH)-1)<<HW_USBRX_REGRXDBYPASS_BITPOS)
                            13955 ; 304  |#define HW_USBRX_PLLLOCKED_SETMASK (((1<<HW_USBRX_PLLLOCKED_WIDTH)-1)<<HW_USBRX_PLLLOCKED_BITPOS)
                            13956 ; 305  |
                            13957 ; 306  |#define HW_USBRX_ENVADJ_CLRMASK (~(WORD)HW_USBRX_ENVADJ_SETMASK)
                            13958 ; 307  |#define HW_USBRX_DISCONADJ_CLRMASK (~(WORD)HW_USBRX_DISCONADJ_SETMASK)
                            13959 ; 308  |#define HW_USBRX_DEBUGMODE_CLRMASK (~(WORD)HW_USBRX_DEBUGMODE_SETMASK)
                            13960 ; 309  |#define HW_USBRX_PLLLKTIMECTL_CLRMASK (~(WORD)HW_USBRX_PLLLKTIMECTL_SETMASK)
                            13961 ; 310  |#define HW_USBRX_PLLCKDIVCTL_CLRMASK (~(WORD)HW_USBRX_PLLCKDIVCTL_SETMASK)
                            13962 ; 311  |#define HW_USBRX_HOSTMODETEST_CLRMASK (~(WORD)HW_USBRX_HOSTMODETEST_SETMASK)
                            13963 ; 312  |#define HW_USBRX_FSCKSOURCESEL_CLRMASK (~(WORD)HW_USBRX_FSCKSOURCESEL_SETMASK)
                            13964 ; 313  |#define HW_USBRX_REGRXDBYPASS_CLRMASK (~(WORD)HW_USBRX_REGRXDBYPASS_SETMASK)
                            13965 ; 314  |#define HW_USBRX_PLLLOCKED_CLRMASK (~(WORD)HW_USBRX_PLLLOCKED_SETMASK)
                            13966 ; 315  |
                            13967 ; 316  |typedef union               
                            13968 ; 317  |{
                            13969 ; 318  |    struct {
                            13970 ; 319  |     int ENVADJ               :4;
                            13971 ; 320  |     int DISCONADJ            :4;
                            13972 ; 321  |     int DEBUGMODE            :4;
                            13973 ; 322  |     int PLLLKTIMECTL         :4;
                            13974 ; 323  |     int PLLCKDIVCTL          :4;
                            13975 ; 324  |     int HOSTMODETEST         :1;
                            13976 ; 325  |     int FSCKSOURCESEL        :1;
                            13977 ; 326  |     int REGRXDBYPASS         :1;
                            13978 ; 327  |     int PLLLOCKED            :1;
                            13979 ; 328  |    } B;
                            13980 ; 329  |    int I;
                            13981 ; 330  |} usbphyrx_type;
                            13982 ; 331  |#define HW_USBPHYRX      (*(volatile usbphyrx_type _X*) (HW_USBPHY_BASEADDR+3))    
                            13983 ; 332  |
                            13984 ; 333  |#endif
                            13985 ; 334  |
                            13986 
                            13988 
                            13989 ; 38   |
                            13990 ; 39   |
                            13991 ; 40   |#endif // if (!@def(hwequ))
                            13992 ; 41   |
                            13993 
                            13995 
                            13996 ; 12   |#else 
                            13997 ; 13   |//include "regscodec.inc"
                            13998 ; 14   |#endif
                            13999 ; 15   |
                            14000 ; 16   |//////////////////////////////////////////////////////////////////////////////////
                            14001 ; 17   |// Uncomment next define to allow player boot if you have stfm1000 macro enabled (defaults ON) & 
                            14002 ; 18   |// your board crystal is not able to output nominal voltage range. Used in player main.asm. STMP00012148
                            14003 ; 19   |// Defining this will result in lower battery life (price of using a lower quality crystal). 
                            14004 ; 20   |// Those that want to save battery life and have good crystals that meet our HW team's specs can 
                            14005 ; 21   |// comment out this line to reduce crystal bias current and so battery current in player mode.  
                            14006 ; 22   |#define SUPPORT_MARGINAL_XTALS 1
                            14007 ; 23   |
                            14008 ; 24   |/////////////////////////////////////////////////////////////////////////////////
                            14009 ; 25   |// BOOT SPEED CONFIG & ASSOCIATED BATTERY VOLTAGE CHECK ENABLE
                            14010 ; 26   |/////////////////////////////////////////////////////////////////////////////////
                            14011 ; 27   |// Users can enable one of ATTEMPT_FAST_BOOT or FASTEST boot or neither project define below by defining
                            14012 ; 28   |// values as 0 or 1, else it defaults to the boot speed used in previous SDKs.
                            14013 ; 29   |#define ATTEMPT_FAST_BOOT 1
                            14014 ; 30   |#define ATTEMPT_FASTEST_BOOT 0   
                            14015 ; 31   |// Changing this define to 0 removes Vbat threshholding & unconditionally gives fast boot config above- 
                            14016 ; 32   |// disabling this check is suggested for profiling if you want to try to tweak down threshholds by maybe 50mV.
                            14017 ; 33   |// Also the tests should clear the fast boot config defines to link & boot at normal speed.
                            14018 ; 34   |#define SPEED_BOOT_BATTERY_CHECK 1
                            14019 ; 35   |
                            14020 ; 36   |/////////////////////////////////////////////////////////////////////////////////
                            14021 ; 37   |// MEDIA DEFINITIONS
                            14022 ; 38   |/////////////////////////////////////////////////////////////////////////////////
                            14023 ; 39   |
                            14024 ; 40   |/////////////////////////////////////////////////////////////////////////////////
                            14025 ; 41   |// MNAND - Number of chips forming the internal physical device (i.e. # of NANDs)
                            14026 ; 42   |#if defined(NAND1)
                            14027 ; 43   |#define SM_INTERNAL_CHIPS 1
                            14028 ; 44   |#else 
                            14029 ; 45   |#if defined(NAND2)
                            14030 ; 46   |#define SM_INTERNAL_CHIPS 2
                            14031 ; 47   |#else 
                            14032 ; 48   |#if defined(NAND3)
                            14033 ; 49   |#define SM_INTERNAL_CHIPS 3
                            14034 ; 50   |#else 
                            14035 ; 51   |#if defined(NAND4)
                            14036 ; 52   |#define SM_INTERNAL_CHIPS 4
                            14037 ; 53   |#else 
                            14038 ; 54   |#define SM_INTERNAL_CHIPS 1
                            14039 ; 55   |#endif
                            14040 ; 56   |#endif
                            14041 ; 57   |#endif
                            14042 ; 58   |#endif
                            14043 ; 59   |
                            14044 ; 60   |/////////////////////////////////////////////////////////////////////////////////
                            14045 ; 61   |// If SMARTMEDIA_DETECT_ACTIVE_HIGH is defined:
                            14046 ; 62   |//   SmartMedia will be detected as inserted if the GPIO pin reads 1 and removed if it reads 0.  
                            14047 ; 63   |// If SMARTMEDIA_DETECT_ACTIVE_HIGH is not defined ** comment out next line **
                            14048 ; 64   |//   SmartMedia will be detected as inserted if the GPIO pin reads 0 and removed if it reads 1.
                            14049 ; 65   |//*** comment out if active high ****
                            14050 ; 66   |//SMARTMEDIA_DETECT_ACTIVE_HIGH  equ     1
                            14051 ; 67   |
                            14052 ; 68   |#if defined(SMEDIA)
                            14053 ; 69   |#define NUM_REMOVABLE_MEDIA 1
                            14054 ; 70   |#define NUM_SM_EXTERNAL 1
                            14055 ; 71   |#define MMC_MAX_PHYSICAL_DEVICES 0
                            14056 ; 72   |#define SM_MAX_LOGICAL_DEVICES 2
                            14057 ; 73   |#else 
                            14058 ; 74   |#if defined(MMC)
                            14059 ; 75   |#define NUM_REMOVABLE_MEDIA 1
                            14060 ; 76   |#define NUM_SM_EXTERNAL 0
                            14061 ; 77   |#define MMC_MAX_PHYSICAL_DEVICES 1
                            14062 ; 78   |#define SM_MAX_LOGICAL_DEVICES 1
                            14063 ; 79   |#else 
                            14064 ; 80   |#define NUM_REMOVABLE_MEDIA 0
                            14065 ; 81   |#define NUM_SM_EXTERNAL 0
                            14066 ; 82   |#define MMC_MAX_PHYSICAL_DEVICES 0
                            14067 ; 83   |#define SM_MAX_LOGICAL_DEVICES 1
                            14068 ; 84   |#endif
                            14069 ; 85   |#endif
                            14070 ; 86   |
                            14071 ; 87   |/////////////////////////////////////////////////////////////////////////////////
                            14072 ; 88   |// Mass Storage Class definitions
                            14073 ; 89   |/////////////////////////////////////////////////////////////////////////////////
                            14074 ; 90   |// Set to 0 if Composite Device build is desired.    
                            14075 ; 91   |#define MULTI_LUN_BUILD 1   
                            14076 ; 92   |
                            14077 ; 93   |////////////////////////////////////////////////////////////////////////////////
                            14078 ; 94   |//  SCSI
                            14079 ; 95   |#if (MULTI_LUN_BUILD==0)
                            14080 ; 96   |  #if (NUM_REMOVABLE_MEDIA == 1)
                            14081 ; 97   |    #define SCSI_NUM_TARGETS                        2
                            14082 ; 98   |    #define SCSI_DEVICE_NUM_LUNS_DEV_0              1
                            14083 ; 99   |    #define SCSI_DEVICE_NUM_LUNS_DEV_1              1
                            14084 ; 100  |  #else
                            14085 ; 101  |    #define SCSI_NUM_TARGETS                        1
                            14086 ; 102  |    #define SCSI_DEVICE_NUM_LUNS_DEV_0              1
                            14087 ; 103  |  #endif
                            14088 ; 104  |#else
                            14089 ; 105  |    #define SCSI_NUM_TARGETS                        1
                            14090 ; 106  |  #if (NUM_REMOVABLE_MEDIA == 1)
                            14091 ; 107  |    #define SCSI_DEVICE_NUM_LUNS_DEV_0              2
                            14092 ; 108  |  #else
                            14093 ; 109  |    #define SCSI_DEVICE_NUM_LUNS_DEV_0              1  
                            14094 ; 110  |  #endif
                            14095 ; 111  |#endif
                            14096 ; 112  |
                            14097 ; 113  |
                            14098 ; 114  |#define USBMSC_NUM_DEVICES                      SCSI_NUM_TARGETS
                            14099 ; 115  |
                            14100 ; 116  |
                            14101 ; 117  |////////////////////////////////////////////////////////////////////////////////
                            14102 ; 118  |// Define number of logical medias and drives for three builds (MTP, USBMSC, and Player)
                            14103 ; 119  |////////////////////////////////////////////////////////////////////////////////
                            14104 ; 120  |#ifdef MMC
                            14105 ; 121  |#ifdef MTP_BUILD
                            14106 ; 122  |// --------------------
                            14107 ; 123  |// MTP and MMC
                            14108 ; 124  |// --------------------
                            14109 ; 125  |#define NUM_LOGICAL_MEDIA       2
                            14110 ; 126  |#define NUM_LOGICAL_DRIVES      8
                            14111 ; 127  |#else  // ifndef MTP_BUILD
                            14112 ; 128  |#ifdef STMP_BUILD_PLAYER
                            14113 ; 129  |// --------------------
                            14114 ; 130  |// Player and MMC
                            14115 ; 131  |// --------------------
                            14116 ; 132  |#else
                            14117 ; 133  |// --------------------
                            14118 ; 134  |// USBMSC and MMC
                            14119 ; 135  |// --------------------
                            14120 ; 136  |#define NUM_LOGICAL_MEDIA       3
                            14121 ; 137  |#define NUM_LOGICAL_DRIVES      8
                            14122 ; 138  |#endif // ifdef STMP_BUILD_PLAYER
                            14123 ; 139  |#endif // ifdef MTP_BUILD
                            14124 ; 140  |#else  // ifndef MMC
                            14125 ; 141  |#ifdef MTP_BUILD
                            14126 ; 142  |// --------------------
                            14127 ; 143  |// MTP and NAND only
                            14128 ; 144  |// --------------------
                            14129 ; 145  |#define NUM_LOGICAL_MEDIA       1
                            14130 ; 146  |#define NUM_LOGICAL_DRIVES      7
                            14131 ; 147  |#else  // ifndef MTP_BUILD
                            14132 ; 148  |#ifdef STMP_BUILD_PLAYER
                            14133 ; 149  |// --------------------
                            14134 ; 150  |// Player and NAND only
                            14135 ; 151  |// --------------------
                            14136 ; 152  |#else
                            14137 ; 153  |// --------------------
                            14138 ; 154  |// USBMSC and NAND only
                            14139 ; 155  |// --------------------
                            14140 ; 156  |#define NUM_LOGICAL_MEDIA       2
                            14141 ; 157  |#define NUM_LOGICAL_DRIVES      7
                            14142 ; 158  |#endif // ifdef STMP_BUILD_PLAYER
                            14143 ; 159  |#endif // ifdef MTP_BUILD
                            14144 ; 160  |#endif // ifdef MMC 
                            14145 ; 161  |
                            14146 ; 162  |// If we are in an MTP build then we don't use as many transfers buffers.
                            14147 ; 163  |#if (defined(MTP_BUILD))
                            14148 ; 164  |#define MAX_USB_TRANSFERS_QUEUED 16
                            14149 ; 165  |
                            14150 ; 166  |////!
                            14151 ; 167  |////! This varible holds the watchdog count for the store flush.
                            14152 ; 168  |////!
                            14153 ; 169  |///
                            14154 ; 170  |#include <types.h>
                            14155 ; 171  |extern volatile INT g_StoreWatchDogCount;
                            14156 ; 172  |extern const INT g_StoreWatchDogTimeout;
                            14157 ; 173  |#endif
                            14158 ; 174  |
                            14159 ; 175  |////////////////////////////////////////////////////////////////////////////////
                            14160 ; 176  |// These are needed here for Mass Storage Class
                            14161 ; 177  |// Needs to be cleaned up
                            14162 ; 178  |////////////////////////////////////////////////////////////////////////////////
                            14163 ; 179  |#if (!defined(STMP_BUILD_PLAYER))
                            14164 ; 180  |#define SCRATCH_USER_Y_SIZE 512
                            14165 ; 181  |#define SCRATCH_USER_X_SIZE 512
                            14166 ; 182  |
                            14167 ; 183  |#define BROWNOUT_LEVEL1_DETECTED                0x000001
                            14168 ; 184  |
                            14169 ; 185  |#endif
                            14170 ; 186  |
                            14171 ; 187  |
                            14172 ; 188  |/////////////////////////////////////////////////////////////////////////////////
                            14173 ; 189  |// SmartMedia/NAND defs
                            14174 ; 190  |#define SM_MAX_PHYSICAL_DEVICES SM_INTERNAL_CHIPS+NUM_SM_EXTERNAL
                            14175 ; 191  |#define SM_REMOVABLE_DEVICE_NUM SM_INTERNAL_CHIPS
                            14176 ; 192  |
                            14177 ; 193  |/////////////////////////////////////////////////////////////////////////////////
                            14178 ; 194  |// Sysloadresources defs
                            14179 ; 195  |#define SM_MAX_RESOURCE_DEVICES SM_INTERNAL_CHIPS+NUM_SM_EXTERNAL
                            14180 ; 196  |
                            14181 ; 197  |/////////////////////////////////////////////////////////////////////////////////
                            14182 ; 198  |// MMC defs
                            14183 ; 199  |#define MMC_MAX_PARTITIONS 1
                            14184 ; 200  |#define MMC_MAX_LOGICAL_DEVICES MMC_MAX_PHYSICAL_DEVICES*MMC_MAX_PARTITIONS
                            14185 ; 201  |
                            14186 ; 202  |/////////////////////////////////////////////////////////////////////////////////
                            14187 ; 203  |// SPI defs
                            14188 ; 204  |#define SPI_MAX_DEVICES MMC_MAX_PHYSICAL_DEVICES
                            14189 ; 205  |
                            14190 ; 206  |/////////////////////////////////////////////////////////////////////////////////
                            14191 ; 207  |// Global media defs
                            14192 ; 208  |#define MAX_PHYSICAL_DEVICES SM_MAX_PHYSICAL_DEVICES+MMC_MAX_PHYSICAL_DEVICES
                            14193 ; 209  |#define MAX_LOGICAL_DEVICES SM_MAX_LOGICAL_DEVICES+MMC_MAX_LOGICAL_DEVICES
                            14194 ; 210  |
                            14195 ; 211  |/////////////////////////////////////////////////////////////////////////////////
                            14196 ; 212  |// DO NOT CHANGE THESE!!!
                            14197 ; 213  |#define SM_MAX_PARTITIONS 4
                            14198 ; 214  |#define MAX_HANDLES 2
                            14199 ; 215  |/////////////////////////////////////////////////////////////////////////////////
                            14200 ; 216  |
                            14201 ; 217  |
                            14202 ; 218  |/////////////////////////////////////////////////////////////////////////////////
                            14203 ; 219  |// Battery LRADC Values 
                            14204 ; 220  |/////////////////////////////////////////////////////////////////////////////////
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page  57

M:ADDR CODE           CYCLES LINE SOURCELINE
                            14205 ; 221  |// brownout trip point in mV (moved by RS)
                            14206 ; 222  |// BATT_SAFETY_MARGIN:  percentage value used by:
                            14207 ; 223  |//   * SysSaveSettings to determine if enough power is left to attempt a settings save. 
                            14208 ; 224  |//   * Recorder to conditionally prevent the start or continuation of 
                            14209 ; 225  |//     audio recording to media.
                            14210 ; 226  |#define BATT_SAFETY_MARGIN 10
                            14211 ; 227  |
                            14212 ; 228  |//; player resource drive refresh allowed only when battery usable % is above this value. 
                            14213 ; 229  |//; 50% of usable range [0.9V to 1.5V] is around 1.2V This is the safe target alkaline voltage to do a refresh.
                            14214 ; 230  |//; LIION will also require 50% which will work but that could be changed in the future. 
                            14215 ; 231  |//RESOURCE_REFRESH_MIN_BATT_PCT equ 50
                            14216 ; 232  |
                            14217 ; 233  |// stmp00005071 adds these for mp3 encode stability at low battery per battery type & mmc presence.
                            14218 ; 234  |
                            14219 ; 235  |//// Vbat threshholds empirically tuned by profiling max bat current for 3 HW cases: 
                            14220 ; 236  |//// 1 GigaByte MMC, NAND flash only, & LiIon Buck mode. See voicemenu pre-encode Vbat check.
                            14221 ; 237  |#if (!defined(CLCD))
                            14222 ; 238  |#define MP3_ENC_MMC_MIN_V_BAT_MV 1100
                            14223 ; 239  |#define MP3_ENC_NANDONLY_MIN_V_BAT_MV 1000
                            14224 ; 240  |#else 
                            14225 ; 241  |#define MP3_ENC_MMC_MIN_V_BAT_MV 1250
                            14226 ; 242  |#define MP3_ENC_NANDONLY_MIN_V_BAT_MV 1150
                            14227 ; 243  |#endif
                            14228 ; 244  |#define MP3_ENC_BUCKMODE_MIN_V_BAT_MV 3300
                            14229 ; 245  |
                            14230 ; 246  |// These Vbat use-range-percentages are derived to correspond with target battery 
                            14231 ; 247  |// voltages of 1.10V for MMC, 1.0V for nand only (alkaline or nimh), and 3.3V for any LiIon.
                            14232 ; 248  |// See mp3 encoder overlay.
                            14233 ; 249  |#define MP3_ENC_MMC_MIN_V_BAT_RANGE_PCT 33
                            14234 ; 250  |#define MP3_ENC_NANDONLY_MIN_V_BAT_RANGE_PCT 17
                            14235 ; 251  |#define MP3_ENC_BUCKMODE_MIN_V_BAT_RANGE_PCT 25
                            14236 ; 252  |
                            14237 ; 253  |/////////////////////////////////////////////////////////////////////////////////
                            14238 ; 254  |// Voice recording filenames
                            14239 ; 255  |// number of digits in filename Vxxx.wav
                            14240 ; 256  |/////////////////////////////////////////////////////////////////////////////////
                            14241 ; 257  |#define DIGITS_IN_VOICE_FILENAME 3   
                            14242 ; 258  |
                            14243 ; 259  |/////////////////////////////////////////////////////////////////////////////////
                            14244 ; 260  |// Mic Bias: Set this enable to 1 to internally generate mic bias voltage. 
                            14245 ; 261  |// Also below, must configure internal resistor value and pin to use for DC bias. 
                            14246 ; 262  |// Can set to 0 to disable internally generated mic bias voltage at pin lradc1/2.
                            14247 ; 263  |#if defined(DEVICE_3500)
                            14248 ; 264  |#define ENABLE_INTERNALLY_GENERATED_MICBIAS 1 
                            14249 ; 265  |// MIC BIAS circuit source selection: use Low Resolution ADC pin 2 or 1 to bias mic. 
                            14250 ; 266  |// Per your layout: select LRADC 2 or 1 below 
                            14251 ; 267  |//   (pin LRADC 2 for 35xx cpu card revB, LRADC 1 for 35xx cpu card revC, ref schematics, & demo player)
                            14252 ; 268  |#define LRADC_NUM_FOR_MIC_BIAS 1 
                            14253 ; 269  |// Sets internal mic bias R to value 2, 4, or 8 (in kOhms).
                            14254 ; 270  |#define MICBIAS_CONFIGURED_RESISTOR_KOHMS 8
                            14255 ; 271  |
                            14256 ; 272  |// Allows mic bias to settle before sampling. This delay currently unused. For rec btn when bias not yet ready.
                            14257 ; 273  |#define REC_BTN_INTERNAL_MIC_BIAS_SETTLING_DELAY_MS 400 
                            14258 ; 274  |// Option always keeps bias enabled after mainmenu init. This allows for start pop prevention if you use rec button from outside voice menu.
                            14259 ; 275  |// This selection costs 1 mWatt but gains the desired low record button to sampling latency in the record-from-music-menu use-case.
                            14260 ; 276  |#define KEEP_MIC_BIAS_ENABLED 0
                            14261 ; 277  |
                            14262 ; 278  |#else 
                            14263 ; 279  |// STMP3410
                            14264 ; 280  |#define ENABLE_INTERNALLY_GENERATED_MICBIAS 0
                            14265 ; 281  |#define LRADC_NUM_FOR_MIC_BIAS 1 
                            14266 ; 282  |#define MICBIAS_CONFIGURED_RESISTOR_KOHMS 2
                            14267 ; 283  |#endif
                            14268 ; 284  |
                            14269 ; 285  |/////////////////////////////////////////////////////////////////////////////////
                            14270 ; 286  |// Number of available soft timers
                            14271 ; 287  |/////////////////////////////////////////////////////////////////////////////////
                            14272 ; 288  |#if defined(SYNC_LYRICS)
                            14273 ; 289  |#define SOFT_TIMERS 10
                            14274 ; 290  |#else 
                            14275 ; 291  |#if defined(JPEG_DECODER)
                            14276 ; 292  |#define SOFT_TIMERS 10
                            14277 ; 293  |#else 
                            14278 ; 294  |#define SOFT_TIMERS 9
                            14279 ; 295  |#endif
                            14280 ; 296  |#endif
                            14281 ; 297  |
                            14282 ; 298  |/////////////////////////////////////////////////////////////////////////////////
                            14283 ; 299  |//  sizes
                            14284 ; 300  |/////////////////////////////////////////////////////////////////////////////////
                            14285 ; 301  |#if defined(MMC)
                            14286 ; 302  |#if defined(USE_PLAYLIST5)
                            14287 ; 303  |#define MENU_STACK_SIZE 1500
                            14288 ; 304  |#else 
                            14289 ; 305  |#define MENU_STACK_SIZE 1250
                            14290 ; 306  |#endif //if @def('USE_PLAYLIST5')
                            14291 ; 307  |#else 
                            14292 ; 308  |#if defined(USE_PLAYLIST5)
                            14293 ; 309  |#define MENU_STACK_SIZE 1500
                            14294 ; 310  |#else 
                            14295 ; 311  |#define MENU_STACK_SIZE 1250
                            14296 ; 312  |#endif //if @def('USE_PLAYLIST5')
                            14297 ; 313  |#endif //if @def('MMC')
                            14298 ; 314  |
                            14299 ; 315  |// NOTE: SDK2.6 USED 550 FOR NEXT LINE, BUT SDK3.0BETA USED 750. Should it be ifdef MTP 750 else 550 for other builds? TOVERIFY. MYALLOC
                            14300 ; 316  |// 
                            14301 ; 317  |#define STACK_L1_SIZE 750
                            14302 ; 318  |#define STACK_L2_SIZE 100
                            14303 ; 319  |#define STACK_L3_SIZE 160
                            14304 ; 320  |
                            14305 ; 321  |// If we are in MTP mode the overlay task stack can shrink.
                            14306 ; 322  |// TODO shrink this stack for MTP, I will leave it at 500 until we verify that it 
                            14307 ; 323  |// is ok with switching code.
                            14308 ; 324  |#if defined(MTP_BUILD)
                            14309 ; 325  |#define OVERLAY_MANAGER_STACK_SIZE 300
                            14310 ; 326  |#endif
                            14311 ; 327  |
                            14312 ; 328  |/////////////////////////////////////////////////////////////////////////////////
                            14313 ; 329  |// maximum number of nested funclets 
                            14314 ; 330  |/////////////////////////////////////////////////////////////////////////////////
                            14315 ; 331  |#define MAX_NESTED_FUNCLET 6 
                            14316 ; 332  |
                            14317 ; 333  |/////////////////////////////////////////////////////////////////////////////////
                            14318 ; 334  |//    LCD DEFINITIONS
                            14319 ; 335  |/////////////////////////////////////////////////////////////////////////////////
                            14320 ; 336  |
                            14321 ; 337  |#define SPACE_CHAR 0x000020          
                            14322 ; 338  |#define ZERO_CHAR 0x000030
                            14323 ; 339  |#define COLON_CHAR 0x00003A
                            14324 ; 340  |#define PERIOD_CHAR 0x00002E
                            14325 ; 341  |
                            14326 ; 342  |#if (defined(S6B33B0A_LCD))
                            14327 ; 343  |#define LCD_X_SIZE 128
                            14328 ; 344  |#define LCD_Y_SIZE 159
                            14329 ; 345  |#endif
                            14330 ; 346  |
                            14331 ; 347  |#if (defined(SED15XX_LCD))
                            14332 ; 348  |#define LCD_X_SIZE 128
                            14333 ; 349  |#define LCD_Y_SIZE 64
                            14334 ; 350  |#endif
                            14335 ; 351  |
                            14336 ; 352  |
                            14337 ; 353  |//////////////////////////////////////////////////////////////////////////////////
                            14338 ; 354  |//   Details on Customizing Contrast
                            14339 ; 355  |/////////////////////////////////////////////////////////////////////////////////
                            14340 ; 356  |//   Max supported LCD range is 0 - 3F; however due to hardware/voltage differences
                            14341 ; 357  |//   the range of visibility is usually smaller than this.  It is important to 
                            14342 ; 358  |//   calibrate the visible range, because the contrast setting is saved.
                            14343 ; 359  |//   If the user shuts off the player while lcd is not visible, the player is useless
                            14344 ; 360  |//   unless the ezact sequence is remembered.
                            14345 ; 361  |//   To find out what range your player supports: 
                            14346 ; 362  |//   change these equs to full range or comment out (full range is default)
                            14347 ; 363  |//;;;;;;
                            14348 ; 364  |// uncomment the line below to build code that will provide raw contrast value
                            14349 ; 365  |// recommended calibration using player -- uncomment 
                            14350 ; 366  |//;;;;;;
                            14351 ; 367  |//CONTRAST_CALIBRATION    equ  1
                            14352 ; 368  |////////////////////////////
                            14353 ; 369  |#if (defined(DEMO_HW))
                            14354 ; 370  |// this is the setting for ET301 demos; Next 2 line have not been updated for new Shingyi LCD (June6'05)
                            14355 ; 371  |#define LCD_MAX_CONTRAST 0x32 
                            14356 ; 372  |#define LCD_MIN_CONTRAST 0x1E
                            14357 ; 373  |#else 
                            14358 ; 374  |
                            14359 ; 375  |#if (defined(S6B33B0A_LCD))
                            14360 ; 376  |#define LCD_MAX_CONTRAST 210
                            14361 ; 377  |#define LCD_MIN_CONTRAST 160    
                            14362 ; 378  |#endif
                            14363 ; 379  |
                            14364 ; 380  |#if (defined(SED15XX_LCD))
                            14365 ; 381  |// Next 3 line comment was for OLD shingyi LCD: (default LCD before sdk2.6)
                            14366 ; 382  |// Engineering board regs support range [17-37].
                            14367 ; 383  |//   Engineering board DC/DC support range [24-46]. 
                            14368 ; 384  |//   One default contrast range [24-42] works for both.
                            14369 ; 385  |// The 3 sets of contrast ranges below are updated for SDK2.6 to support either 
                            14370 ; 386  |// new or old ShingYih LCDs. "File" refers to \resource\shingyih\system_lcd_init_seq.src
                            14371 ; 387  |// 3/10/05 - Use one of the 2 next contrast ranges depending on which
                            14372 ; 388  |// ShingYih LCD you have.  See \resources\shingyi\readme.txt 
                            14373 ; 389  |// Optimal for NEW LCD with NEW file (SDK2.6 default)  
                            14374 ; 390  |// G098064-41 LCD module (present on engr board revH LCD card)
                            14375 ; 391  |
                            14376 ; 392  |#if (defined(NEWSHINGYIH))
                            14377 ; 393  |#define LCD_MAX_CONTRAST 250
                            14378 ; 394  |#define LCD_MIN_CONTRAST 0
                            14379 ; 395  |#else 
                            14380 ; 396  |//-----
                            14381 ; 397  |// Near optimal for OLD LCD with NEW file. 
                            14382 ; 398  |// NOT optimal for the new lcd but pretty good. So u may use this if u want 1 build for both LCDs.
                            14383 ; 399  |#define LCD_MAX_CONTRAST 250
                            14384 ; 400  |#define LCD_MIN_CONTRAST 0
                            14385 ; 401  |
                            14386 ; 402  |//=====
                            14387 ; 403  |// Optimal for OLD ShingYih LCD with OLD file (as sdk2.521)
                            14388 ; 404  |// Suggest going with default new init file & values above for your LCD instead of this historic ver.
                            14389 ; 405  |//LCD_MAX_CONTRAST equ 42
                            14390 ; 406  |//LCD_MIN_CONTRAST equ 24 
                            14391 ; 407  |
                            14392 ; 408  |#endif
                            14393 ; 409  |#endif
                            14394 ; 410  |
                            14395 ; 411  |#endif
                            14396 ; 412  |
                            14397 ; 413  |//////////////////////////////////////////////////////////////////////////////////
                            14398 ; 414  |// The default value of the lcd contrast in % of range
                            14399 ; 415  |//   the default value is used when no settings.dat is available
                            14400 ; 416  |//////////////////////////////////////////////////////////////////////////////////
                            14401 ; 417  |
                            14402 ; 418  |#if (defined(S6B33B0A_LCD))
                            14403 ; 419  |// 60% of range is default value
                            14404 ; 420  |#define DEFAULT_CONTRAST 50 
                            14405 ; 421  |#endif
                            14406 ; 422  |
                            14407 ; 423  |#if (defined(SED15XX_LCD))
                            14408 ; 424  |// % of range is default value (was 60%)
                            14409 ; 425  |#define DEFAULT_CONTRAST 50 
                            14410 ; 426  |#endif
                            14411 ; 427  |
                            14412 ; 428  |
                            14413 ; 429  |// percentage change per increment/decrement message (LCD_DEC_CONTRAST/LCD_INC_CONTRAST)
                            14414 ; 430  |// make lower when doing calibration
                            14415 ; 431  |#define LCD_STEPSIZE_CONTRAST 10  
                            14416 ; 432  |
                            14417 ; 433  |
                            14418 ; 434  |/////////////////////////////////////////////////////////////////////////////////
                            14419 ; 435  |// For FFWD and RWND
                            14420 ; 436  |/////////////////////////////////////////////////////////////////////////////////
                            14421 ; 437  |#define SECONDS_TO_SKIP 1
                            14422 ; 438  |#define SECONDS_TO_SKIP1 3
                            14423 ; 439  |#define SECONDS_TO_SKIP2 6
                            14424 ; 440  |// number of seconds to cause reset to begin of song for PREV push
                            14425 ; 441  |#define PREV_SONG_THRESHOLD 5  
                            14426 ; 442  |// number of 300 mSec periods before the numbers of seconds to skip increases
                            14427 ; 443  |#define FIRST_TIME_BOUNDARY 15 
                            14428 ; 444  |// number of 300 mSec periods before the numbers of seconds to skip increases
                            14429 ; 445  |#define SECOND_TIME_BOUNDARY 30 
                            14430 ; 446  |
                            14431 ; 447  |// For audible FFW/RWD
                            14432 ; 448  |#define SECONDS_TO_SKIP_FOR_3X_RATE 1
                            14433 ; 449  |#define SECONDS_TO_SKIP_FOR_60X_RATE 18
                            14434 ; 450  |#define SECONDS_TO_SKIP_FOR_600X_RATE 180
                            14435 ; 451  |#define SECONDS_TO_SKIP_FOR_1800X_RATE 540
                            14436 ; 452  |// number of 300 mSec periods before the numbers of seconds to skip increases
                            14437 ; 453  |#define LEVEL1_BOUNDARY 17 
                            14438 ; 454  |// number of 300 mSec periods before the numbers of seconds to skip increases
                            14439 ; 455  |#define LEVEL2_BOUNDARY 33 
                            14440 ; 456  |// number of 300 mSec periods before the numbers of seconds to skip increases
                            14441 ; 457  |#define LEVEL3_BOUNDARY 50 
                            14442 ; 458  |// Stmp00010296 Ticket #71685:  for song shorter than the min. skip size
                            14443 ; 459  |// if song_time < skip_size, bCurrentSongShort=>TRUE (ignore FWD/RWD commands)
                            14444 ; 460  |// Short Song Time, songs too short to play.
                            14445 ; 461  |#define SHORT_SONG_TIME SECONDS_TO_SKIP         
                            14446 ; 462  |
                            14447 ; 463  |/////////////////////////////////////////////////////////////////////////////////
                            14448 ; 464  |// MP3 Sync Values
                            14449 ; 465  |/////////////////////////////////////////////////////////////////////////////////
                            14450 ; 466  |// # bytes to look for sync before marking it bad
                            14451 ; 467  |#define MP3_SYNC_THRESHOLD 70000 
                            14452 ; 468  |// # bytes to look for sync before slowing decoder isr frequency (to let menus run)
                            14453 ; 469  |#define MP3_SYNC_THRESHOLD1 10000 
                            14454 ; 470  |// once we have sync'd, the isr should be called this frequently
                            14455 ; 471  |#define MP3_DECODERISR_FAST 7500  
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page  58

M:ADDR CODE           CYCLES LINE SOURCELINE
                            14456 ; 472  |// if decoder is having difficulty syncing, switch isr to be called less frequently
                            14457 ; 473  |#define MP3_DECODERISR_SLOW 50000 
                            14458 ; 474  |
                            14459 ; 475  |
                            14460 ; 476  |/////////////////////////////////////////////////////////////////////////////////
                            14461 ; 477  |//// Multi-Stage Volume Control Definitions
                            14462 ; 478  |/////////////////////////////////////////////////////////////////////////////////
                            14463 ; 479  |//// Use Multi-Stage Volume
                            14464 ; 480  |#define MULTI_STAGE_VOLUME 0x1                  
                            14465 ; 481  |
                            14466 ; 482  |//// Master Volume definitions
                            14467 ; 483  |#define MIX_MSTR_MAX_VOL 0x0
                            14468 ; 484  |#define NUM_MSTR_ATT_STEPS (0x1F-MIX_MSTR_MAX_VOL)
                            14469 ; 485  |
                            14470 ; 486  |//// DAC-Mode definitions
                            14471 ; 487  |//// Adjusts 0dB point
                            14472 ; 488  |#define MIX_DAC_NOM_VOL 0x6                  
                            14473 ; 489  |#define MIX_DAC_MIN_VOL 0x1F
                            14474 ; 490  |// For minimum clipping: Set MIX_DAC_MAX_VOL below to match MIX_DAC_NOM_VOL value 2 lines above.
                            14475 ; 491  |// For additional gain (with possible clipping): Set MIX_DAC_MAX_VOL in range below. 
                            14476 ; 492  |//                                               Each integer below MIX_DAC_NOM_VOL provides 1.5 dB gain on Stmp34x0; 
                            14477 ; 493  |//                                               Max gain possible: 8 step diff would provide +12dB gain.   
                            14478 ; 494  |// range: [0 to MIX_DAC_NOM_VOL] (0 for loudest volume)
                            14479 ; 495  |#define MIX_DAC_MAX_VOL 0x0  
                            14480 ; 496  |
                            14481 ; 497  |#define NUM_DAC_ATT_STEPS (MIX_DAC_MIN_VOL-MIX_DAC_NOM_VOL+1)
                            14482 ; 498  |#define NUM_DAC_GAIN_STEPS (MIX_DAC_NOM_VOL-MIX_DAC_MAX_VOL)
                            14483 ; 499  |#define NUM_DAC_MODE_VOL_STEPS (NUM_DAC_ATT_STEPS+NUM_MSTR_ATT_STEPS+NUM_DAC_GAIN_STEPS+1)
                            14484 ; 500  |
                            14485 ; 501  |//// If there is no stored volume, set to 50% of DAC-Mode max; change if DAC Mode is not the default
                            14486 ; 502  |//// STMP35xx has 2dB attenuation per step so default needs a few more steps above midpoint.
                            14487 ; 503  |#define DEFAULT_VOLUME ((NUM_DAC_MODE_VOL_STEPS/2)+6)         
                            14488 ; 504  |
                            14489 ; 505  |//// Set maximum restored volume to 75% of DAC-Mode max; change if DAC Mode is not the default
                            14490 ; 506  |#define MAX_RESTORED_VOLUME ((3*NUM_DAC_MODE_VOL_STEPS)/4)   
                            14491 ; 507  |
                            14492 ; 508  |
                            14493 ; 509  |//// Line In definitions (used for Line-In 1)
                            14494 ; 510  |//// 0dB point of the Line In
                            14495 ; 511  |#define MIX_LINE_NOM_VOL 0x8                  
                            14496 ; 512  |//// Minimum volume of Line In
                            14497 ; 513  |#define MIX_LINE_MIN_VOL 0x1F                 
                            14498 ; 514  |//// Maximum volume of Line In (can adjust extra gain)
                            14499 ; 515  |#define MIX_LINE_MAX_VOL 0x6                  
                            14500 ; 516  |#define NUM_LINE_ATT_STEPS (MIX_LINE_MIN_VOL-MIX_LINE_NOM_VOL+1)
                            14501 ; 517  |#define NUM_LINE_GAIN_STEPS (MIX_LINE_NOM_VOL-MIX_LINE_MAX_VOL)
                            14502 ; 518  |#define NUM_LINE_MODE_VOL_STEPS (NUM_LINE_ATT_STEPS+NUM_MSTR_ATT_STEPS+NUM_LINE_GAIN_STEPS+1)
                            14503 ; 519  |
                            14504 ; 520  |//// Line In definitions (used for FM tuner with 144 pin package)
                            14505 ; 521  |//// 0dB point of the Line In
                            14506 ; 522  |#define MIX_FM_NOM_VOL 0x8                  
                            14507 ; 523  |//// Minimum volume of Line In
                            14508 ; 524  |#define MIX_FM_MIN_VOL 0x1F                 
                            14509 ; 525  |//// Maximum volume of Line In (can adjust extra gain)
                            14510 ; 526  |#define MIX_FM_MAX_VOL 0x6                  
                            14511 ; 527  |#define NUM_FM_ATT_STEPS (MIX_FM_MIN_VOL-MIX_FM_NOM_VOL+1)
                            14512 ; 528  |#define NUM_FM_GAIN_STEPS (MIX_FM_NOM_VOL-MIX_FM_MAX_VOL)
                            14513 ; 529  |#define NUM_FM_MODE_VOL_STEPS (NUM_FM_ATT_STEPS+NUM_MSTR_ATT_STEPS+NUM_FM_GAIN_STEPS+1)
                            14514 ; 530  |
                            14515 ; 531  |/////////////////////////////////////////////////////////////////////////////////
                            14516 ; 532  |//// When enabled (1), periodically checks for one of several FM state machine invalid deadlock states & recovers. 
                            14517 ; 533  |//// Define as 0 to disable FM-deadlock-state checking and recovery.
                            14518 ; 534  |#define FM_WATCHDOG_ENABLE 1
                            14519 ; 535  |
                            14520 ; 536  |#if !defined(STMP_BUILD_PLAYER)
                            14521 ; 537  |////
                            14522 ; 538  |////! This varible holds the lcd display state for the mtp project.
                            14523 ; 539  |////
                            14524 ; 540  |///
                            14525 ; 541  |#include <types.h>
                            14526 ; 542  |extern volatile WORD g_wActivityState;
                            14527 ; 543  |#endif // if !@def('STMP_BUILD_PLAYER')
                            14528 ; 544  |
                            14529 ; 545  |void _reentrant Init5VSense(void);
                            14530 ; 546  |void _reentrant ServiceDCDC(void);
                            14531 ; 547  |
                            14532 ; 548  |////////////////////////////////////////////////////////////////////////////
                            14533 ; 549  |//// JPEG Thumbnail Mode Setting
                            14534 ; 550  |//// number of column in thumbnail mode
                            14535 ; 551  |#define THUMBNAIL_X 2           
                            14536 ; 552  |//// number of row in  thumbnail mode
                            14537 ; 553  |#define THUMBNAIL_Y 2           
                            14538 ; 554  |//// thumbnail boundary offset x
                            14539 ; 555  |#define THUMBNAIL_X_OFFSET 4            
                            14540 ; 556  |//// thumbnail boundary offset y
                            14541 ; 557  |#define THUMBNAIL_Y_OFFSET 4            
                            14542 ; 558  |
                            14543 ; 559  |#endif // if (!@def(_PROJECT_INC))
                            14544 ; 560  |
                            14545 
                            14547 
                            14548 ; 15   |#include "stringlib.h"
                            14549 
                            14551 
                            14552 ; 1    |#ifndef STRINGLIB_H
                            14553 ; 2    |#define STRINGLIB_H
                            14554 ; 3    |_asmfunc int pack_string(UCS3 _Y * _Y pUnpacked, _packed BYTE _Y * _Y pPacked);
                            14555 ; 4    |_asmfunc int unpack_string( _packed BYTE _Y * _Y pPacked,  UCS3 _Y * _Y pUnpacked);
                            14556 ; 5    |_asmfunc int unpack_data( _packed BYTE _Y * _Y pPacked,  BYTE _Y * _Y pUnpacked, INT iCount);
                            14557 ; 6    |
                            14558 ; 7    |_asmfunc BYTE GetByteFromArrayInX( void _X * p,int n);
                            14559 ; 8    |_asmfunc void PutByteInArrayInX( void _X * p,int n, int newchar);
                            14560 ; 9    |_asmfunc BYTE GetByteFromArrayInY( void _Y * p,int n);
                            14561 ; 10   |_asmfunc void PutByteInArrayInY( void _Y * p,int n, int newchar);
                            14562 ; 11   |
                            14563 ; 12   |_asmfunc BYTE packed_get( _packed BYTE _Y * p,int n);
                            14564 ; 13   |_asmfunc void packed_set( _packed BYTE _Y * p,int n, int newchar);
                            14565 ; 14   |
                            14566 ; 15   |_asmfunc int packed_strlen( _packed BYTE _Y * _Y p);
                            14567 ; 16   |
                            14568 ; 17   |_asmfunc _packed BYTE _Y * packed_strncpy( _packed BYTE _Y * _Y pDest,_packed BYTE _Y * _Y pSrc, int iCount);
                            14569 ; 18   |_asmfunc _packed BYTE _Y * packed_strcpy ( _packed BYTE _Y * _Y pDest,_packed BYTE _Y * _Y pSrc);
                            14570 ; 19   |
                            14571 ; 20   |
                            14572 ; 21   |_asmfunc int packed_strncmp( _packed BYTE _Y * _Y pLeft,_packed BYTE _Y * _Y pRight, int iCount);
                            14573 ; 22   |_asmfunc int packed_strcmp ( _packed BYTE _Y * _Y pLeft,_packed BYTE _Y * _Y pRight);
                            14574 ; 23   |
                            14575 ; 24   |_asmfunc int packed_strncat( _packed BYTE _Y * _Y pDest,_packed BYTE _Y * _Y pSource, int iCount);
                            14576 ; 25   |_asmfunc int packed_strcat ( _packed BYTE _Y * _Y pDest,_packed BYTE _Y * _Y pSource);
                            14577 ; 26   |
                            14578 ; 27   |
                            14579 ; 28   |_asmfunc int strlen(UCS3 _Y * _Y p);
                            14580 ; 29   |
                            14581 ; 30   |_asmfunc UCS3 *strchr(UCS3 _Y * _Y pUnpacked, UCS3 CharToFind);
                            14582 ; 31   |_asmfunc UCS3 *strrchr(UCS3 _Y * _Y pUnpacked, UCS3 CharToFind);
                            14583 ; 32   |
                            14584 ; 33   |_asmfunc void strncpy(UCS3 _Y * _Y pDest, UCS3 _Y * _Y pSource, BYTE iCount);
                            14585 ; 34   |_asmfunc void strcpy(UCS3 _Y * _Y pDest, UCS3 _Y * _Y pSource);
                            14586 ; 35   |
                            14587 ; 36   |_asmfunc char *strncat(UCS3 _Y * _Y pDest, UCS3 _Y * _Y pSource, int iCount);
                            14588 ; 37   |_asmfunc char *strcat(UCS3 _Y * _Y pDest, UCS3 _Y * _Y pSource);
                            14589 ; 38   |
                            14590 ; 39   |_asmfunc int strncmp(UCS3 _Y * _Y pDest, UCS3 _Y * _Y pSource, int iCount);
                            14591 ; 40   |_asmfunc int strcmp(UCS3 _Y * _Y pDest, UCS3 _Y * _Y pSource);
                            14592 ; 41   |
                            14593 ; 42   |#endif
                            14594 
                            14596 
                            14597 ; 16   |#include "resource.h"
                            14598 
                            14600 
                            14601 ; 1    |//  NOTE: This file was generated automatically by rscrenum.pl
                            14602 ; 2    |//  Do not edit it directly.
                            14603 ; 3    |//  Created on Sat Jun 28 16:37:44 2008 using resource.inc as input.
                            14604 ; 4    |
                            14605 ; 5    |
                            14606 ; 6    |
                            14607 ; 7    |//  NOTE: This file was generated automatically by rscrenum.pl
                            14608 ; 8    |//  Do not edit it directly.
                            14609 ; 9    |//  Created on Sat Jun 28 16:13:49 2008 using resource.inc as input.
                            14610 ; 10   |
                            14611 ; 11   |
                            14612 ; 12   |
                            14613 ; 13   |//  NOTE: This file was generated automatically by rscrenum.pl
                            14614 ; 14   |//  Do not edit it directly.
                            14615 ; 15   |//  Created on Sat Jun 28 15:55:53 2008 using resource.inc as input.
                            14616 ; 16   |
                            14617 ; 17   |
                            14618 ; 18   |
                            14619 ; 19   |//  NOTE: This file was generated automatically by rscrenum.pl
                            14620 ; 20   |//  Do not edit it directly.
                            14621 ; 21   |//  Created on Thu Jun 26 08:58:05 2008 using resource.inc as input.
                            14622 ; 22   |
                            14623 ; 23   |
                            14624 ; 24   |
                            14625 ; 25   |//  NOTE: This file was generated automatically by rscrenum.pl
                            14626 ; 26   |//  Do not edit it directly.
                            14627 ; 27   |//  Created on Wed Jun 25 17:00:35 2008 using resource.inc as input.
                            14628 ; 28   |
                            14629 ; 29   |
                            14630 ; 30   |
                            14631 ; 31   |//  NOTE: This file was generated automatically by rscrenum.pl
                            14632 ; 32   |//  Do not edit it directly.
                            14633 ; 33   |//  Created on Wed Jun 25 11:42:38 2008 using resource.inc as input.
                            14634 ; 34   |
                            14635 ; 35   |
                            14636 ; 36   |
                            14637 ; 37   |//  NOTE: This file was generated automatically by rscrenum.pl
                            14638 ; 38   |//  Do not edit it directly.
                            14639 ; 39   |//  Created on Wed Jun 25 11:17:50 2008 using resource.inc as input.
                            14640 ; 40   |
                            14641 ; 41   |
                            14642 ; 42   |
                            14643 ; 43   |//  NOTE: This file was generated automatically by rscrenum.pl
                            14644 ; 44   |//  Do not edit it directly.
                            14645 ; 45   |//  Created on Wed Jun 25 11:17:05 2008 using resource.inc as input.
                            14646 ; 46   |
                            14647 ; 47   |
                            14648 ; 48   |
                            14649 ; 49   |//  NOTE: This file was generated automatically by rscrenum.pl
                            14650 ; 50   |//  Do not edit it directly.
                            14651 ; 51   |//  Created on Tue Jun 24 15:21:11 2008 using resource.inc as input.
                            14652 ; 52   |
                            14653 ; 53   |
                            14654 ; 54   |
                            14655 ; 55   |//  NOTE: This file was generated automatically by rscrenum.pl
                            14656 ; 56   |//  Do not edit it directly.
                            14657 ; 57   |//  Created on Sun Jun 22 02:54:01 2008 using resource.inc as input.
                            14658 ; 58   |
                            14659 ; 59   |
                            14660 ; 60   |
                            14661 ; 61   |//  NOTE: This file was generated automatically by rscrenum.pl
                            14662 ; 62   |//  Do not edit it directly.
                            14663 ; 63   |//  Created on Sun Jun 22 00:47:39 2008 using resource.inc as input.
                            14664 ; 64   |
                            14665 ; 65   |
                            14666 ; 66   |
                            14667 ; 67   |//  NOTE: This file was generated automatically by rscrenum.pl
                            14668 ; 68   |//  Do not edit it directly.
                            14669 ; 69   |//  Created on Fri Jun 20 16:15:57 2008 using resource.inc as input.
                            14670 ; 70   |
                            14671 ; 71   |
                            14672 ; 72   |
                            14673 ; 73   |//  NOTE: This file was generated automatically by rscrenum.pl
                            14674 ; 74   |//  Do not edit it directly.
                            14675 ; 75   |//  Created on Thu Jun 19 09:47:30 2008 using resource.inc as input.
                            14676 ; 76   |
                            14677 ; 77   |
                            14678 ; 78   |
                            14679 ; 79   |//  NOTE: This file was generated automatically by rscrenum.pl
                            14680 ; 80   |//  Do not edit it directly.
                            14681 ; 81   |//  Created on Wed Jun 18 23:11:16 2008 using resource.inc as input.
                            14682 ; 82   |
                            14683 ; 83   |
                            14684 ; 84   |
                            14685 ; 85   |//  NOTE: This file was generated automatically by rscrenum.pl
                            14686 ; 86   |//  Do not edit it directly.
                            14687 ; 87   |//  Created on Wed Jun 18 22:57:19 2008 using resource.inc as input.
                            14688 ; 88   |
                            14689 ; 89   |
                            14690 ; 90   |
                            14691 ; 91   |//  NOTE: This file was generated automatically by rscrenum.pl
                            14692 ; 92   |//  Do not edit it directly.
                            14693 ; 93   |//  Created on Wed Jun 18 22:49:16 2008 using resource.inc as input.
                            14694 ; 94   |
                            14695 ; 95   |
                            14696 ; 96   |
                            14697 ; 97   |//  NOTE: This file was generated automatically by rscrenum.pl
                            14698 ; 98   |//  Do not edit it directly.
                            14699 ; 99   |//  Created on Wed Jun 18 11:53:38 2008 using resource.inc as input.
                            14700 ; 100  |
                            14701 ; 101  |
                            14702 ; 102  |
                            14703 ; 103  |//  NOTE: This file was generated automatically by rscrenum.pl
                            14704 ; 104  |//  Do not edit it directly.
                            14705 ; 105  |//  Created on Wed Jun 18 10:45:13 2008 using resource.inc as input.
                            14706 ; 106  |
                            14707 ; 107  |
                            14708 ; 108  |
                            14709 ; 109  |//  NOTE: This file was generated automatically by rscrenum.pl
                            14710 ; 110  |//  Do not edit it directly.
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page  59

M:ADDR CODE           CYCLES LINE SOURCELINE
                            14711 ; 111  |//  Created on Wed Jun 18 09:54:56 2008 using resource.inc as input.
                            14712 ; 112  |
                            14713 ; 113  |
                            14714 ; 114  |
                            14715 ; 115  |//  NOTE: This file was generated automatically by rscrenum.pl
                            14716 ; 116  |//  Do not edit it directly.
                            14717 ; 117  |//  Created on Tue Jun 17 16:47:21 2008 using resource.inc as input.
                            14718 ; 118  |
                            14719 ; 119  |
                            14720 ; 120  |
                            14721 ; 121  |//  NOTE: This file was generated automatically by rscrenum.pl
                            14722 ; 122  |//  Do not edit it directly.
                            14723 ; 123  |//  Created on Tue Jun 17 11:30:49 2008 using resource.inc as input.
                            14724 ; 124  |
                            14725 ; 125  |
                            14726 ; 126  |
                            14727 ; 127  |/////////////////////////////////////////////////////////////////////////////////
                            14728 ; 128  |// Copyright(C) SigmaTel, Inc. 2001-2007
                            14729 ; 129  |// Reviews: DanhNguyen (06-2008) for X8iTF/STFM1000
                            14730 ; 130  |// LCD example resource listing
                            14731 ; 131  |/////////////////////////////////////////////////////////////////////////////////
                            14732 ; 132  |
                            14733 ; 133  |#if (!defined(resources))
                            14734 ; 134  |#define resources 1
                            14735 ; 135  |
                            14736 ; 136  |/////////////////////////////////////////////////////////////////////////////////
                            14737 ; 137  |//  Player version number  no leading zeros in version number!!!!!
                            14738 ; 138  |/////////////////////////////////////////////////////////////////////////////////
                            14739 ; 139  |
                            14740 ; 140  |#define VERSION_MAJOR 3
                            14741 ; 141  |#define VERSION_MIDDLE 200
                            14742 ; 142  |#define VERSION_MINOR 910
                            14743 ; 143  |
                            14744 ; 144  |#define LCD_SEG_OFFSET 0x000000
                            14745 ; 145  |#define NUMBER_OF_PRESETS 10
                            14746 ; 146  |
                            14747 ; 147  |
                            14748 ; 148  |/////////////////////////////////////////////////////////////////////////////////
                            14749 ; 149  |//  High usage resource. These have been moved here to take maximum advantage of
                            14750 ; 150  |//  the resource index cache if it was added.
                            14751 ; 151  |//  This block is sorted by frequency of use while loading a new song.
                            14752 ; 152  |/////////////////////////////////////////////////////////////////////////////////
                            14753 ; 153  |
                            14754 ; 154  |//$FILENAME searchdirectory.src
                            14755 ; 155  |#define RSRC_FUNCLET_SEARCHDIRECTORY 1    
                            14756 ; 156  |//$FILENAME shortdirmatch.src
                            14757 ; 157  |#define RSRC_FUNCLET_SHORTDIRMATCH 2    
                            14758 ; 158  |//$FILENAME fopen.src
                            14759 ; 159  |#define RSRC_FUNCLET_FOPEN 3    
                            14760 ; 160  |//$FILENAME musicmenu.src
                            14761 ; 161  |#define RSRC_MUSIC_MENU_CODE_BANK 4    
                            14762 ; 162  |//$FILENAME changepath.src
                            14763 ; 163  |#define RSRC_FUNCLET_CHANGEPATH 5    
                            14764 ; 164  |//$FILENAME _openandverifyslot.src
                            14765 ; 165  |#define RSRC_FUNCLET__OPENANDVERIFYSLOT 6    
                            14766 ; 166  |//$FILENAME _loadslot.src
                            14767 ; 167  |#define RSRC_FUNCLET__LOADSLOT 7    
                            14768 ; 168  |//$FILENAME getname.src
                            14769 ; 169  |#define RSRC_FUNCLET_GETNAME 8    
                            14770 ; 170  |//$FILENAME Funclet_SteppingVoltageSet.src
                            14771 ; 171  |#define RSRC_FUNCLET_STEPPINGVOLTAGESET 9    
                            14772 ; 172  |//$FILENAME sethandleforsearch.src
                            14773 ; 173  |#define RSRC_FUNCLET_SETHANDLEFORSEARCH 10    
                            14774 ; 174  |//$FILENAME wmaWrap.src
                            14775 ; 175  |#define RSRC_WMADEC_CODE 11    
                            14776 ; 176  |//$FILENAME extractfilename.src
                            14777 ; 177  |#define RSRC_FUNCLET_EXTRACTFILENAME 12    
                            14778 ; 178  |//$FILENAME oem_getgroupcertprivatekey.src
                            14779 ; 179  |#define RSRC_FUNCLET_OEM_GETGROUPCERTPRIVATEKEY 13    
                            14780 ; 180  |//$FILENAME SoftTimerMod.src
                            14781 ; 181  |#define RSRC_SOFT_TIMER_MODULE_CODE 14    
                            14782 ; 182  |//$FILENAME GetShortfilename.src
                            14783 ; 183  |#define RSRC_FUNCLET_GETSHORTFILENAME 15    
                            14784 ; 184  |//$FILENAME drm_dcp_loadpropertiescache.src
                            14785 ; 185  |#define RSRC_FUNCLET_DRM_DCP_LOADPROPERTIESCACHE 16    
                            14786 ; 186  |//$FILENAME playerstatemachine.src
                            14787 ; 187  |#define RSRC_PLAY_STATE_MACHINE_CODE_BANK 17    
                            14788 ; 188  |//$FILENAME SysMod.src
                            14789 ; 189  |#define RSRC_SYSMOD_CODE 18    
                            14790 ; 190  |//$FILENAME drm_b64_decodew.src
                            14791 ; 191  |#define RSRC_FUNCLET_DRM_B64_DECODEW 19    
                            14792 ; 192  |//$FILENAME discardtrailigperiods.src
                            14793 ; 193  |#define RSRC_FUNCLET_DISCARDTRAILIGPERIODS 20    
                            14794 ; 194  |//$FILENAME uppercase.src
                            14795 ; 195  |#define RSRC_FUNCLET_UPPERCASE 21    
                            14796 ; 196  |//$FILENAME strlength.src
                            14797 ; 197  |#define RSRC_FUNCLET_STRLENGTH 22    
                            14798 ; 198  |//$FILENAME ConverToShortname.src
                            14799 ; 199  |#define RSRC_FUNCLET_CONVERTOSHORTNAME 23    
                            14800 ; 200  |//$FILENAME drm_bbx_hashvalue.src
                            14801 ; 201  |#define RSRC_FUNCLET_DRM_BBX_HASHVALUE 24    
                            14802 ; 202  |//$FILENAME drm_expr_evaluateexpression.src
                            14803 ; 203  |#define RSRC_FUNCLET_DRM_EXPR_EVALUATEEXPRESSION 25    
                            14804 ; 204  |//$FILENAME drm_sst_closekey.src
                            14805 ; 205  |#define RSRC_FUNCLET_DRM_SST_CLOSEKEY 26    
                            14806 ; 206  |//$FILENAME Funclet_SysSetSpeed.src
                            14807 ; 207  |#define RSRC_FUNCLET_SYSSETSPEED 27    
                            14808 ; 208  |//$FILENAME freehandle.src
                            14809 ; 209  |#define RSRC_FUNCLET_FREEHANDLE 28    
                            14810 ; 210  |//$FILENAME searchfreehandleallocate.src
                            14811 ; 211  |#define RSRC_FUNCLET_SEARCHFREEHANDLEALLOCATE 29    
                            14812 ; 212  |//$FILENAME _parselicenseattributes.src
                            14813 ; 213  |#define RSRC_FUNCLET__PARSELICENSEATTRIBUTES 30    
                            14814 ; 214  |//$FILENAME variablesecstategetorset.src
                            14815 ; 215  |#define RSRC_FUNCLET_VARIABLESECSTATEGETORSET 31    
                            14816 ; 216  |//$FILENAME _setuplicevalobjecttoshare.src
                            14817 ; 217  |#define RSRC_FUNCLET__SETUPLICEVALOBJECTTOSHARE 32    
                            14818 ; 218  |//$FILENAME drm_mgr_initialize.src
                            14819 ; 219  |#define RSRC_FUNCLET_DRM_MGR_INITIALIZE 33    
                            14820 ; 220  |//$FILENAME display.src
                            14821 ; 221  |#define RSRC_DISPLAY_CODE_BANK 34    
                            14822 ; 222  |//$FILENAME DisplayModule.src
                            14823 ; 223  |#define RSRC_DISPLAY_MODULE 35    
                            14824 ; 224  |//$FILENAME extractpath.src
                            14825 ; 225  |#define RSRC_FUNCLET_EXTRACTPATH 36    
                            14826 ; 226  |//$FILENAME drm_sst_createglobalstorepassword.src
                            14827 ; 227  |#define RSRC_FUNCLET_DRM_SST_CREATEGLOBALSTOREPASSWORD 37    
                            14828 ; 228  |//$FILENAME _getprivatekey.src
                            14829 ; 229  |#define RSRC_FUNCLET__GETPRIVATEKEY 38    
                            14830 ; 230  |//$FILENAME drm_hds_opennamespace.src
                            14831 ; 231  |#define RSRC_FUNCLET_DRM_HDS_OPENNAMESPACE 39    
                            14832 ; 232  |//$FILENAME drm_hds_openslot.src
                            14833 ; 233  |#define RSRC_FUNCLET_DRM_HDS_OPENSLOT 40    
                            14834 ; 234  |//$FILENAME fclose.src
                            14835 ; 235  |#define RSRC_FUNCLET_FCLOSE 41    
                            14836 ; 236  |//$FILENAME drm_cphr_init.src
                            14837 ; 237  |#define RSRC_FUNCLET_DRM_CPHR_INIT 42    
                            14838 ; 238  |//$FILENAME drm_pk_symmetriccrypt.src
                            14839 ; 239  |#define RSRC_FUNCLET_DRM_PK_SYMMETRICCRYPT 43    
                            14840 ; 240  |//$FILENAME drm_mgr_bind.src
                            14841 ; 241  |#define RSRC_FUNCLET_DRM_MGR_BIND 44    
                            14842 ; 242  |//$FILENAME _decryptcontentkey.src
                            14843 ; 243  |#define RSRC_FUNCLET__DECRYPTCONTENTKEY 45    
                            14844 ; 244  |//$FILENAME drm_mac_inv32.src
                            14845 ; 245  |#define RSRC_FUNCLET_DRM_MAC_INV32 46    
                            14846 ; 246  |//$FILENAME drm_lic_getattribute.src
                            14847 ; 247  |#define RSRC_FUNCLET_DRM_LIC_GETATTRIBUTE 47    
                            14848 ; 248  |//$FILENAME drm_utl_getversionasstring.src
                            14849 ; 249  |#define RSRC_FUNCLET_DRM_UTL_GETVERSIONASSTRING 48    
                            14850 ; 250  |//$FILENAME drm_dcp_getattribute.src
                            14851 ; 251  |#define RSRC_FUNCLET_DRM_DCP_GETATTRIBUTE 49    
                            14852 ; 252  |//$FILENAME effectsmodules.src
                            14853 ; 253  |#define RSRC_EFFECTS_MODULES_P 50    
                            14854 ; 254  |//$FILENAME janusx.src
                            14855 ; 255  |#define RSRC_JANUSX_CODE 51    
                            14856 ; 256  |//$FILENAME drm_sst_openkeytokens.src
                            14857 ; 257  |#define RSRC_FUNCLET_DRM_SST_OPENKEYTOKENS 52    
                            14858 ; 258  |//$FILENAME eval.src
                            14859 ; 259  |#define RSRC_FUNCLET_EVAL 53    
                            14860 ; 260  |//$FILENAME _verifyslothash.src
                            14861 ; 261  |#define RSRC_FUNCLET__VERIFYSLOTHASH 54    
                            14862 ; 262  |//$FILENAME januscommon.src
                            14863 ; 263  |#define RSRC_JANUS_COMMON 55    
                            14864 ; 264  |//$FILENAME changecase.src
                            14865 ; 265  |#define RSRC_FUNCLET_CHANGECASE 56    
                            14866 ; 266  |//$FILENAME drm_bbx_symmetricverify.src
                            14867 ; 267  |#define RSRC_FUNCLET_DRM_BBX_SYMMETRICVERIFY 57    
                            14868 ; 268  |//$FILENAME _loadlicenseattributes.src
                            14869 ; 269  |#define RSRC_FUNCLET__LOADLICENSEATTRIBUTES 58    
                            14870 ; 270  |//$FILENAME drm_hds_slotseek.src
                            14871 ; 271  |#define RSRC_FUNCLET_DRM_HDS_SLOTSEEK 59    
                            14872 ; 272  |//$FILENAME drm_hds_slotwrite.src
                            14873 ; 273  |#define RSRC_FUNCLET_DRM_HDS_SLOTWRITE 60    
                            14874 ; 274  |//$FILENAME drm_levl_performoperations.src
                            14875 ; 275  |#define RSRC_FUNCLET_DRM_LEVL_PERFORMOPERATIONS 61    
                            14876 ; 276  |//$FILENAME drm_lic_verifysignature.src
                            14877 ; 277  |#define RSRC_FUNCLET_DRM_LIC_VERIFYSIGNATURE 62    
                            14878 ; 278  |//$FILENAME drm_lst_getlicense.src
                            14879 ; 279  |#define RSRC_FUNCLET_DRM_LST_GETLICENSE 63    
                            14880 ; 280  |//$FILENAME drm_utl_numbertostring.src
                            14881 ; 281  |#define RSRC_FUNCLET_DRM_UTL_NUMBERTOSTRING 64    
                            14882 ; 282  |//$FILENAME oem_writefile.src
                            14883 ; 283  |#define RSRC_FUNCLET_OEM_WRITEFILE 65    
                            14884 ; 284  |//$FILENAME drm_sst_getdata.src
                            14885 ; 285  |#define RSRC_FUNCLET_DRM_SST_GETDATA 66    
                            14886 ; 286  |//$FILENAME updatehandlemode.src
                            14887 ; 287  |#define RSRC_FUNCLET_UPDATEHANDLEMODE 67    
                            14888 ; 288  |//$FILENAME _getlicenseinfoandsetup.src
                            14889 ; 289  |#define RSRC_FUNCLET__GETLICENSEINFOANDSETUP 68    
                            14890 ; 290  |//$FILENAME drm_lic_completelicensechain.src
                            14891 ; 291  |#define RSRC_FUNCLET_DRM_LIC_COMPLETELICENSECHAIN 69    
                            14892 ; 292  |//$FILENAME doplay_p.src
                            14893 ; 293  |#define RSRC_DOPLAY_P 70    
                            14894 ; 294  |//$FILENAME fatwritep.src
                            14895 ; 295  |#define RSRC_FATWRITE_P_CODE 71    
                            14896 ; 296  |//$FILENAME findfirst.src
                            14897 ; 297  |#define RSRC_FUNCLET_FINDFIRST 72    
                            14898 ; 298  |//$FILENAME Funclet_SysLoadFatWrite.src
                            14899 ; 299  |#define RSRC_FUNCLET_SYSLOADFATWRITE 73    
                            14900 ; 300  |//$FILENAME changetorootdirectory.src
                            14901 ; 301  |#define RSRC_FUNCLET_CHANGETOROOTDIRECTORY 74    
                            14902 ; 302  |//$FILENAME _findkeypair.src
                            14903 ; 303  |#define RSRC_FUNCLET__FINDKEYPAIR 75    
                            14904 ; 304  |//$FILENAME variablemachinegetorset.src
                            14905 ; 305  |#define RSRC_FUNCLET_VARIABLEMACHINEGETORSET 76    
                            14906 ; 306  |//$FILENAME _hdsslotenumnext.src
                            14907 ; 307  |#define RSRC_FUNCLET__HDSSLOTENUMNEXT 77    
                            14908 ; 308  |//$FILENAME getlspubkey.src
                            14909 ; 309  |#define RSRC_FUNCLET_GETLSPUBKEY 78    
                            14910 ; 310  |//$FILENAME drm_sst_gettokenvalue.src
                            14911 ; 311  |#define RSRC_FUNCLET_DRM_SST_GETTOKENVALUE 79    
                            14912 ; 312  |//$FILENAME drm_utl_decodekid.src
                            14913 ; 313  |#define RSRC_FUNCLET_DRM_UTL_DECODEKID 80    
                            14914 ; 314  |//$FILENAME drm_xml_getnodecdata.src
                            14915 ; 315  |#define RSRC_FUNCLET_DRM_XML_GETNODECDATA 81    
                            14916 ; 316  |//$FILENAME _freedrmmanagerinternalcontexts.src
                            14917 ; 317  |#define RSRC_FUNCLET__FREEDRMMANAGERINTERNALCONTEXTS 82    
                            14918 ; 318  |//$FILENAME drm_clk_initchecksecureclock.src
                            14919 ; 319  |#define RSRC_FUNCLET_DRM_CLK_INITCHECKSECURECLOCK 83    
                            14920 ; 320  |//$FILENAME drm_sst_openandlockslot.src
                            14921 ; 321  |#define RSRC_FUNCLET_DRM_SST_OPENANDLOCKSLOT 84    
                            14922 ; 322  |//$FILENAME aes_enc.src
                            14923 ; 323  |#define RSRC_AES_ENC 85    
                            14924 ; 324  |//$FILENAME getprivkey.src
                            14925 ; 325  |#define RSRC_FUNCLET_GETPRIVKEY 86    
                            14926 ; 326  |//$FILENAME Funclet_GetUnicodeCharacterBitmap.src
                            14927 ; 327  |#define RSRC_FUNCLET_GET_UNICODE_CHARACTER_BITMAP 87    
                            14928 ; 328  |//$FILENAME playlist_codebank.src
                            14929 ; 329  |#define RSRC_PLAYLIST_CODEBANK 88    
                            14930 ; 330  |//$FILENAME drm_lic_getenablingbits.src
                            14931 ; 331  |#define RSRC_FUNCLET_DRM_LIC_GETENABLINGBITS 89    
                            14932 ; 332  |//$FILENAME drm_mgr_uninitialize.src
                            14933 ; 333  |#define RSRC_FUNCLET_DRM_MGR_UNINITIALIZE 90    
                            14934 ; 334  |//$FILENAME _getdevicecert.src
                            14935 ; 335  |#define RSRC_FUNCLET__GETDEVICECERT 91    
                            14936 ; 336  |//$FILENAME drm_lic_reportactions.src
                            14937 ; 337  |#define RSRC_FUNCLET_DRM_LIC_REPORTACTIONS 92    
                            14938 ; 338  |//$FILENAME drmcrt_wcsntol.src
                            14939 ; 339  |#define RSRC_FUNCLET_DRMCRT_WCSNTOL 93    
                            14940 ; 340  |//$FILENAME _basicheaderchecks.src
                            14941 ; 341  |#define RSRC_FUNCLET__BASICHEADERCHECKS 94    
                            14942 ; 342  |//$FILENAME drm_hdr_getattribute.src
                            14943 ; 343  |#define RSRC_FUNCLET_DRM_HDR_GETATTRIBUTE 95    
                            14944 ; 344  |//$FILENAME drm_hds_slotenumnext.src
                            14945 ; 345  |#define RSRC_FUNCLET_DRM_HDS_SLOTENUMNEXT 96    
                            14946 ; 346  |//$FILENAME drm_levl_evaluateexpression.src
                            14947 ; 347  |#define RSRC_FUNCLET_DRM_LEVL_EVALUATEEXPRESSION 97    
                            14948 ; 348  |//$FILENAME drm_lst_open.src
                            14949 ; 349  |#define RSRC_FUNCLET_DRM_LST_OPEN 98    
                            14950 ; 350  |//$FILENAME drm_xml_getnodeattribute.src
                            14951 ; 351  |#define RSRC_FUNCLET_DRM_XML_GETNODEATTRIBUTE 99    
                            14952 ; 352  |//$FILENAME _verifysymmerticsignature.src
                            14953 ; 353  |#define RSRC_FUNCLET__VERIFYSYMMERTICSIGNATURE 100    
                            14954 ; 354  |//$FILENAME oem_openfile.src
                            14955 ; 355  |#define RSRC_FUNCLET_OEM_OPENFILE 101    
                            14956 ; 356  |//$FILENAME _getdrmfullpathname.src
                            14957 ; 357  |#define RSRC_FUNCLET__GETDRMFULLPATHNAME 102    
                            14958 ; 358  |//$FILENAME oem_getsecurestoreglobalpasswordseed.src
                            14959 ; 359  |#define RSRC_FUNCLET_OEM_GETSECURESTOREGLOBALPASSWORDSEED 103    
                            14960 ; 360  |//$FILENAME _applydiffstostore.src
                            14961 ; 361  |#define RSRC_FUNCLET__APPLYDIFFSTOSTORE 104    
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page  60

M:ADDR CODE           CYCLES LINE SOURCELINE
                            14962 ; 362  |//$FILENAME drm_sst_setdata.src
                            14963 ; 363  |#define RSRC_FUNCLET_DRM_SST_SETDATA 105    
                            14964 ; 364  |//$FILENAME drm_sst_getlockeddata.src
                            14965 ; 365  |#define RSRC_FUNCLET_DRM_SST_GETLOCKEDDATA 106    
                            14966 ; 366  |//$FILENAME drm_sst_setlockeddata.src
                            14967 ; 367  |#define RSRC_FUNCLET_DRM_SST_SETLOCKEDDATA 107    
                            14968 ; 368  |//$FILENAME playerlib_extra.src
                            14969 ; 369  |#define RSRC_PLAYERLIB_EXTRA_CODE_BANK 108    
                            14970 ; 370  |//$FILENAME wmaCommon.src
                            14971 ; 371  |#define RSRC_WMA_COMMON 109    
                            14972 ; 372  |//$FILENAME wmainit.src
                            14973 ; 373  |#define RSRC_WMA_INIT 110    
                            14974 ; 374  |//$FILENAME playlist2traverse_codebank.src
                            14975 ; 375  |#define RSRC_PLAYLIST2TRAVERSE_CODEBANK 111    
                            14976 ; 376  |//$FILENAME drm_bbx_cipherkeysetup.src
                            14977 ; 377  |#define RSRC_FUNCLET_DRM_BBX_CIPHERKEYSETUP 112    
                            14978 ; 378  |//$FILENAME drm_lic_checkclockrollback.src
                            14979 ; 379  |#define RSRC_FUNCLET_DRM_LIC_CHECKCLOCKROLLBACK 113    
                            14980 ; 380  |//$FILENAME drm_hds_closestore.src
                            14981 ; 381  |#define RSRC_FUNCLET_DRM_HDS_CLOSESTORE 114    
                            14982 ; 382  |//$FILENAME _hdsloadsrn.src
                            14983 ; 383  |#define RSRC_FUNCLET__HDSLOADSRN 115    
                            14984 ; 384  |//$FILENAME _loadproritizedlist.src
                            14985 ; 385  |#define RSRC_FUNCLET__LOADPRORITIZEDLIST 116    
                            14986 ; 386  |//$FILENAME drm_lst_initenum.src
                            14987 ; 387  |#define RSRC_FUNCLET_DRM_LST_INITENUM 117    
                            14988 ; 388  |//$FILENAME _loadattributesintocache.src
                            14989 ; 389  |#define RSRC_FUNCLET__LOADATTRIBUTESINTOCACHE 118    
                            14990 ; 390  |//$FILENAME drm_pk_symmetricverify.src
                            14991 ; 391  |#define RSRC_FUNCLET_DRM_PK_SYMMETRICVERIFY 119    
                            14992 ; 392  |
                            14993 ; 393  |/////////////////////////////////////////////////////////////////////////////////
                            14994 ; 394  |//  Menu Modules (codebanks)
                            14995 ; 395  |/////////////////////////////////////////////////////////////////////////////////
                            14996 ; 396  |//$FILENAME mainmenu.src
                            14997 ; 397  |#define RSRC_MAIN_MENU_CODE_BANK 120    
                            14998 ; 398  |//$FILENAME displaylists.src
                            14999 ; 399  |#define RSRC_DISPLAY_LISTS_CODE_BANK 121    
                            15000 ; 400  |
                            15001 ; 401  |//$FILENAME voicemenu.src
                            15002 ; 402  |#define RSRC_VOICE_MENU_CODE_BANK 122    
                            15003 ; 403  |//$FILENAME fmtunermenu.src
                            15004 ; 404  |#define RSRC_FMTUNER_MENU_CODE_BANK 123    
                            15005 ; 405  |//$FILENAME recorderstatemachine.src
                            15006 ; 406  |#define RSRC_RECORDER_STATE_MACHINE_CODE_BANK 124    
                            15007 ; 407  |
                            15008 ; 408  |//$FILENAME eqmenu.src
                            15009 ; 409  |#define RSRC_EQ_MENU_CODE_BANK 125    
                            15010 ; 410  |//$FILENAME playmodemenu.src
                            15011 ; 411  |#define RSRC_PLAYMODE_MENU_CODE_BANK 126    
                            15012 ; 412  |//$FILENAME contrastmenu.src
                            15013 ; 413  |#define RSRC_CONTRAST_MENU_CODE_BANK 127    
                            15014 ; 414  |//$FILENAME pwrsettingsmenu.src
                            15015 ; 415  |#define RSRC_PWRSETTINGS_MENU_CODE_BANK 128    
                            15016 ; 416  |//$FILENAME timedatemenu.src
                            15017 ; 417  |#define RSRC_TIMEDATE_MENU_CODE_BANK 129    
                            15018 ; 418  |//$FILENAME settimemenu.src
                            15019 ; 419  |#define RSRC_SETTIME_MENU_CODE_BANK 130    
                            15020 ; 420  |//$FILENAME setdatemenu.src
                            15021 ; 421  |#define RSRC_SETDATE_MENU_CODE_BANK 131    
                            15022 ; 422  |//$FILENAME settingsmenu.src
                            15023 ; 423  |#define RSRC_SETTINGS_MENU_CODE_BANK 132    
                            15024 ; 424  |//$FILENAME string_system_menu.src
                            15025 ; 425  |#define RSRC_SYSTEM_MENU_CODE_BANK 133    
                            15026 ; 426  |//$FILENAME deletemenu.src
                            15027 ; 427  |#define RSRC_DELETE_MENU_CODE_BANK 134    
                            15028 ; 428  |//$FILENAME aboutmenu.src
                            15029 ; 429  |#define RSRC_ABOUT_MENU_CODE_BANK 135    
                            15030 ; 430  |
                            15031 ; 431  |//$FILENAME spectrogram.src
                            15032 ; 432  |#define RSRC_SPECTROGRAM_MENU_CODE_BANK 136    
                            15033 ; 433  |
                            15034 ; 434  |//$FILENAME motionvideomenu.src
                            15035 ; 435  |#define RSRC_MOTION_VIDEO_MENU_CODE_BANK 137    
                            15036 ; 436  |//$FILENAME motionvideomenuinitstate.src
                            15037 ; 437  |#define RSRC_MOTION_VIDEO_MENU_INITSTATE_CODE_BANK 138    
                            15038 ; 438  |//$FILENAME jpegdisplaymenu.src
                            15039 ; 439  |#define RSRC_JPEG_DISPLAY_MENU_CODE_BANK 139    
                            15040 ; 440  |//$FILENAME jpegmanualmenu.src
                            15041 ; 441  |#define RSRC_JPEG_MANUAL_MENU_CODE_BANK 140    
                            15042 ; 442  |//$FILENAME jpegthumbnailmenu.src
                            15043 ; 443  |#define RSRC_JPEG_THUMBNAIL_MENU_CODE_BANK 141    
                            15044 ; 444  |//$FILENAME jpegslideshowmenu.src
                            15045 ; 445  |#define RSRC_JPEG_SLIDESHOW_MENU_CODE_BANK 142    
                            15046 ; 446  |//$FILENAME albumartmenu.src
                            15047 ; 447  |#define RSRC_ALBUM_ART_MENU_CODE_BANK 143    
                            15048 ; 448  |//$FILENAME jpegfileutilextra.src
                            15049 ; 449  |#define RSRC_JPEG_FILEUTIL_EXTRA_MENU_CODE_BANK 144    
                            15050 ; 450  |
                            15051 ; 451  |////////////////////////////////////////////////////////////////////////////////////////////////////
                            15052 ; 452  |// General Modules
                            15053 ; 453  |////////////////////////////////////////////////////////////////////////////////////////////////////
                            15054 ; 454  |//$FILENAME MixMod.src
                            15055 ; 455  |#define RSRC_MIXMOD_CODE 145    
                            15056 ; 456  |//$FILENAME TunerModule.src
                            15057 ; 457  |#define RSRC_TUNER_MODULE 146    
                            15058 ; 458  |//$FILENAME geqoverlay.src
                            15059 ; 459  |#define RSRC_GEQOVERLAY_CODE 147    
                            15060 ; 460  |
                            15061 ; 461  |////////////////////////////////////////////////////////////////////////////////////////////////////
                            15062 ; 462  |// Decoders/Encoders
                            15063 ; 463  |////////////////////////////////////////////////////////////////////////////////////////////////////
                            15064 ; 464  |//$FILENAME DecMod.src
                            15065 ; 465  |#define RSRC_DECMOD_CODE 148    
                            15066 ; 466  |//$FILENAME mp3p.src
                            15067 ; 467  |#define RSRC_MP3P_CODE 149    
                            15068 ; 468  |//$FILENAME mp3x.src
                            15069 ; 469  |#define RSRC_MP3X_CODE 150    
                            15070 ; 470  |//$FILENAME mp3y.src
                            15071 ; 471  |#define RSRC_MP3Y_CODE 151    
                            15072 ; 472  |//$FILENAME janusp.src
                            15073 ; 473  |#define RSRC_JANUSP_CODE 152    
                            15074 ; 474  |//RSRC_JANUSY_CODE        equ       29    ;$FILENAME janusy.src
                            15075 ; 475  |
                            15076 ; 476  |//$FILENAME decadpcmimamod.src
                            15077 ; 477  |#define RSRC_DEC_ADPCM_MOD_CODE 153    
                            15078 ; 478  |//$FILENAME dec_adpcmp.src
                            15079 ; 479  |#define RSRC_DEC_ADPCMP_CODE 154    
                            15080 ; 480  |//$FILENAME dec_adpcmx.src
                            15081 ; 481  |#define RSRC_DEC_ADPCMX_CODE 155    
                            15082 ; 482  |//$FILENAME dec_adpcmy.src
                            15083 ; 483  |#define RSRC_DEC_ADPCMY_CODE 156    
                            15084 ; 484  |
                            15085 ; 485  |//$FILENAME decadpcmsmvmod.src
                            15086 ; 486  |#define RSRC_DEC_SMVADPCM_MOD_CODE 157    
                            15087 ; 487  |//$FILENAME dec_smvadpcmp.src
                            15088 ; 488  |#define RSRC_DEC_SMVADPCMP_CODE 158    
                            15089 ; 489  |//$FILENAME dec_smvadpcmx.src
                            15090 ; 490  |#define RSRC_DEC_SMVADPCMX_CODE 159    
                            15091 ; 491  |//$FILENAME dec_smvadpcmy.src
                            15092 ; 492  |#define RSRC_DEC_SMVADPCMY_CODE 160    
                            15093 ; 493  |
                            15094 ; 494  |//$FILENAME encadpcmimamod.src
                            15095 ; 495  |#define RSRC_ENC_ADPCM_MOD_CODE 161    
                            15096 ; 496  |//$FILENAME enc_adpcmp.src
                            15097 ; 497  |#define RSRC_ENC_ADPCMP_CODE 162    
                            15098 ; 498  |//$FILENAME enc_adpcmx.src
                            15099 ; 499  |#define RSRC_ENC_ADPCMX_CODE 163    
                            15100 ; 500  |//$FILENAME enc_adpcmy.src
                            15101 ; 501  |#define RSRC_ENC_ADPCMY_CODE 164    
                            15102 ; 502  |
                            15103 ; 503  |//$FILENAME jpeg_p.src
                            15104 ; 504  |#define RSRC_JPEG_DECODER_P 165    
                            15105 ; 505  |//$FILENAME jpeg_x.src
                            15106 ; 506  |#define RSRC_JPEG_DECODER_X 166    
                            15107 ; 507  |//$FILENAME jpeg_y.src
                            15108 ; 508  |#define RSRC_JPEG_DECODER_Y 167    
                            15109 ; 509  |//$FILENAME jpeg2_y.src
                            15110 ; 510  |#define RSRC_JPEG_DECODER_Y_2 168    
                            15111 ; 511  |//$FILENAME bmp2_y.src
                            15112 ; 512  |#define RSRC_BMP_DECODER_Y_2 169    
                            15113 ; 513  |//$FILENAME bmp_p.src
                            15114 ; 514  |#define RSRC_BMP_DECODER_P 170    
                            15115 ; 515  |
                            15116 ; 516  |//RSRC_SMVJPEG_DECODER_P    equ       57    ;$FILENAME smvjpeg_p.src
                            15117 ; 517  |//$FILENAME smvjpeg_x.src
                            15118 ; 518  |#define RSRC_SMVJPEG_DECODER_X 171    
                            15119 ; 519  |//$FILENAME smvjpeg_y.src
                            15120 ; 520  |#define RSRC_SMVJPEG_DECODER_Y 172    
                            15121 ; 521  |
                            15122 ; 522  |
                            15123 ; 523  |////////////////////////////////////////////////////////////////////////////////////////////////////
                            15124 ; 524  |// System Settings
                            15125 ; 525  |////////////////////////////////////////////////////////////////////////////////////////////////////
                            15126 ; 526  |//$FILENAME settings.src
                            15127 ; 527  |#define RSRC_SETTINGS_COMMANDS 173    
                            15128 ; 528  |
                            15129 ; 529  |////////////////////////////////////////////////////////////////////////////////////////////////////
                            15130 ; 530  |// Media Device Drivers
                            15131 ; 531  |////////////////////////////////////////////////////////////////////////////////////////////////////
                            15132 ; 532  |//This resource is filled with garbage unless it is the MMC build
                            15133 ; 533  |//$FILENAME null.src
                            15134 ; 534  |#define RSRC_MMCDD_CODE 174    
                            15135 ; 535  |//$FILENAME null.src
                            15136 ; 536  |#define RSRC_SMDD_HIGH_CODE 175    
                            15137 ; 537  |
                            15138 ; 538  |/////////////////////////////////////////////////////////////////////////////////
                            15139 ; 539  |//  PlayState resources
                            15140 ; 540  |/////////////////////////////////////////////////////////////////////////////////
                            15141 ; 541  |//$FILENAME play_icon_with_border.src
                            15142 ; 542  |#define RSRC_PLAY_ICON_WITH_BORDER 176    
                            15143 ; 543  |//$FILENAME pause_icon_with_border.src
                            15144 ; 544  |#define RSRC_PAUSE_ICON_WITH_BORDER 177    
                            15145 ; 545  |//$FILENAME stop_icon_with_border.src
                            15146 ; 546  |#define RSRC_STOP_ICON_WITH_BORDER 178    
                            15147 ; 547  |//$FILENAME record_icon_with_border.src
                            15148 ; 548  |#define RSRC_RECORD_ICON_WITH_BORDER 179    
                            15149 ; 549  |//$FILENAME paused_record_icon_with_border.src
                            15150 ; 550  |#define RSRC_PAUSED_RECORD_ICON_BORDER 180    
                            15151 ; 551  |//$FILENAME ffwd_icon_with_border.src
                            15152 ; 552  |#define RSRC_FFWD_ICON_WITH_BORDER 181    
                            15153 ; 553  |//$FILENAME rwnd_icon_with_border.src
                            15154 ; 554  |#define RSRC_RWND_ICON_WITH_BORDER 182    
                            15155 ; 555  |
                            15156 ; 556  |/////////////////////////////////////////////////////////////////////////////////
                            15157 ; 557  |//  PlayMode resources
                            15158 ; 558  |/////////////////////////////////////////////////////////////////////////////////
                            15159 ; 559  |//$FILENAME repeatall_icon.src
                            15160 ; 560  |#define RSRC_REPEAT_ALL_ICON 183    
                            15161 ; 561  |//$FILENAME repeatsong_icon.src
                            15162 ; 562  |#define RSRC_REPEAT_SONG_ICON 184    
                            15163 ; 563  |//$FILENAME shuffle_icon.src
                            15164 ; 564  |#define RSRC_SHUFFLE_ICON 185    
                            15165 ; 565  |//$FILENAME random_icon.src
                            15166 ; 566  |#define RSRC_RANDOM_ICON 186    
                            15167 ; 567  |//$FILENAME repeatallclear_icon.src
                            15168 ; 568  |#define RSRC_REPEAT_ALL_CLEAR_ICON 187    
                            15169 ; 569  |//$FILENAME repeatsongclear_icon.src
                            15170 ; 570  |#define RSRC_REPEAT_SONG_CLEAR_ICON 188    
                            15171 ; 571  |//$FILENAME shuffleclear_icon.src
                            15172 ; 572  |#define RSRC_SHUFFLE_CLEAR_ICON 189    
                            15173 ; 573  |
                            15174 ; 574  |/////////////////////////////////////////////////////////////////////////////////
                            15175 ; 575  |//  Battery Status
                            15176 ; 576  |/////////////////////////////////////////////////////////////////////////////////
                            15177 ; 577  |//$FILENAME battery_00.src
                            15178 ; 578  |#define RSRC_BATTERY_00 190    
                            15179 ; 579  |//$FILENAME battery_01.src
                            15180 ; 580  |#define RSRC_BATTERY_01 191    
                            15181 ; 581  |//$FILENAME battery_02.src
                            15182 ; 582  |#define RSRC_BATTERY_02 192    
                            15183 ; 583  |//$FILENAME battery_03.src
                            15184 ; 584  |#define RSRC_BATTERY_03 193    
                            15185 ; 585  |//$FILENAME battery_04.src
                            15186 ; 586  |#define RSRC_BATTERY_04 194    
                            15187 ; 587  |//$FILENAME battery_05.src
                            15188 ; 588  |#define RSRC_BATTERY_05 195    
                            15189 ; 589  |//$FILENAME battery_06.src
                            15190 ; 590  |#define RSRC_BATTERY_06 196    
                            15191 ; 591  |//$FILENAME battery_07.src
                            15192 ; 592  |#define RSRC_BATTERY_07 197    
                            15193 ; 593  |//$FILENAME battery_08.src
                            15194 ; 594  |#define RSRC_BATTERY_08 198    
                            15195 ; 595  |//$FILENAME battery_09.src
                            15196 ; 596  |#define RSRC_BATTERY_09 199    
                            15197 ; 597  |//$FILENAME battery_10.src
                            15198 ; 598  |#define RSRC_BATTERY_10 200    
                            15199 ; 599  |
                            15200 ; 600  |/////////////////////////////////////////////////////////////////////////////////
                            15201 ; 601  |//  System Icons
                            15202 ; 602  |/////////////////////////////////////////////////////////////////////////////////
                            15203 ; 603  |//$FILENAME disk_small.src
                            15204 ; 604  |#define RSRC_DISK_ICON 201    
                            15205 ; 605  |//$FILENAME lock_small.src
                            15206 ; 606  |#define RSRC_LOCK_ICON 202    
                            15207 ; 607  |//$FILENAME icon_music_mode.src
                            15208 ; 608  |#define RSRC_MUSIC_MODE_ICON 203    
                            15209 ; 609  |//$FILENAME icon_voice_mode.src
                            15210 ; 610  |#define RSRC_VOICE_MODE_ICON 204    
                            15211 ; 611  |
                            15212 ; 612  |////////////////////////////////////////////////////////////////////////////////////////////////////
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page  61

M:ADDR CODE           CYCLES LINE SOURCELINE
                            15213 ; 613  |// Volume Bitmaps
                            15214 ; 614  |////////////////////////////////////////////////////////////////////////////////////////////////////
                            15215 ; 615  |//$FILENAME icon_vol_00.src
                            15216 ; 616  |#define RSRC_ICON_VOL_00 205    
                            15217 ; 617  |//$FILENAME icon_vol_01.src
                            15218 ; 618  |#define RSRC_ICON_VOL_01 206    
                            15219 ; 619  |//$FILENAME icon_vol_02.src
                            15220 ; 620  |#define RSRC_ICON_VOL_02 207    
                            15221 ; 621  |//$FILENAME icon_vol_03.src
                            15222 ; 622  |#define RSRC_ICON_VOL_03 208    
                            15223 ; 623  |//$FILENAME icon_vol_04.src
                            15224 ; 624  |#define RSRC_ICON_VOL_04 209    
                            15225 ; 625  |//$FILENAME icon_vol_05.src
                            15226 ; 626  |#define RSRC_ICON_VOL_05 210    
                            15227 ; 627  |//$FILENAME icon_vol_06.src
                            15228 ; 628  |#define RSRC_ICON_VOL_06 211    
                            15229 ; 629  |//$FILENAME icon_vol_07.src
                            15230 ; 630  |#define RSRC_ICON_VOL_07 212    
                            15231 ; 631  |//$FILENAME icon_vol_08.src
                            15232 ; 632  |#define RSRC_ICON_VOL_08 213    
                            15233 ; 633  |//$FILENAME icon_vol_09.src
                            15234 ; 634  |#define RSRC_ICON_VOL_09 214    
                            15235 ; 635  |//$FILENAME icon_vol_10.src
                            15236 ; 636  |#define RSRC_ICON_VOL_10 215    
                            15237 ; 637  |//$FILENAME icon_vol_11.src
                            15238 ; 638  |#define RSRC_ICON_VOL_11 216    
                            15239 ; 639  |//$FILENAME icon_vol_12.src
                            15240 ; 640  |#define RSRC_ICON_VOL_12 217    
                            15241 ; 641  |//$FILENAME icon_vol_13.src
                            15242 ; 642  |#define RSRC_ICON_VOL_13 218    
                            15243 ; 643  |//$FILENAME icon_vol_14.src
                            15244 ; 644  |#define RSRC_ICON_VOL_14 219    
                            15245 ; 645  |//$FILENAME icon_vol_15.src
                            15246 ; 646  |#define RSRC_ICON_VOL_15 220    
                            15247 ; 647  |//$FILENAME icon_vol_16.src
                            15248 ; 648  |#define RSRC_ICON_VOL_16 221    
                            15249 ; 649  |//$FILENAME icon_vol_17.src
                            15250 ; 650  |#define RSRC_ICON_VOL_17 222    
                            15251 ; 651  |//$FILENAME icon_vol_18.src
                            15252 ; 652  |#define RSRC_ICON_VOL_18 223    
                            15253 ; 653  |//$FILENAME icon_vol_19.src
                            15254 ; 654  |#define RSRC_ICON_VOL_19 224    
                            15255 ; 655  |//$FILENAME icon_vol_20.src
                            15256 ; 656  |#define RSRC_ICON_VOL_20 225    
                            15257 ; 657  |//$FILENAME icon_vol_21.src
                            15258 ; 658  |#define RSRC_ICON_VOL_21 226    
                            15259 ; 659  |//$FILENAME icon_vol_22.src
                            15260 ; 660  |#define RSRC_ICON_VOL_22 227    
                            15261 ; 661  |//$FILENAME icon_vol_23.src
                            15262 ; 662  |#define RSRC_ICON_VOL_23 228    
                            15263 ; 663  |//$FILENAME icon_vol_24.src
                            15264 ; 664  |#define RSRC_ICON_VOL_24 229    
                            15265 ; 665  |//$FILENAME icon_vol_25.src
                            15266 ; 666  |#define RSRC_ICON_VOL_25 230    
                            15267 ; 667  |//$FILENAME icon_vol_26.src
                            15268 ; 668  |#define RSRC_ICON_VOL_26 231    
                            15269 ; 669  |//$FILENAME icon_vol_27.src
                            15270 ; 670  |#define RSRC_ICON_VOL_27 232    
                            15271 ; 671  |//$FILENAME icon_vol_28.src
                            15272 ; 672  |#define RSRC_ICON_VOL_28 233    
                            15273 ; 673  |//$FILENAME icon_vol_29.src
                            15274 ; 674  |#define RSRC_ICON_VOL_29 234    
                            15275 ; 675  |//$FILENAME icon_vol_30.src
                            15276 ; 676  |#define RSRC_ICON_VOL_30 235    
                            15277 ; 677  |//$FILENAME icon_vol_31.src
                            15278 ; 678  |#define RSRC_ICON_VOL_31 236    
                            15279 ; 679  |
                            15280 ; 680  |/////////////////////////////////////////////////////////////////////////////////////////////////////
                            15281 ; 681  |// Splash Screen Stuff
                            15282 ; 682  |/////////////////////////////////////////////////////////////////////////////////////////////////////
                            15283 ; 683  |//$FILENAME st_bw1.src
                            15284 ; 684  |#define RSRC_SPLASH_SCREEN 237    
                            15285 ; 685  |//$FILENAME siglogo1.src
                            15286 ; 686  |#define RSRC_SPLASH_SCREEN_1 238    
                            15287 ; 687  |//$FILENAME siglogo2.src
                            15288 ; 688  |#define RSRC_SPLASH_SCREEN_2 239    
                            15289 ; 689  |//$FILENAME siglogo3.src
                            15290 ; 690  |#define RSRC_SPLASH_SCREEN_3 240    
                            15291 ; 691  |//$FILENAME siglogo4.src
                            15292 ; 692  |#define RSRC_SPLASH_SCREEN_4 241    
                            15293 ; 693  |//$FILENAME siglogo5.src
                            15294 ; 694  |#define RSRC_SPLASH_SCREEN_5 242    
                            15295 ; 695  |//$FILENAME siglogo6.src
                            15296 ; 696  |#define RSRC_SPLASH_SCREEN_6 243    
                            15297 ; 697  |//$FILENAME siglogo7.src
                            15298 ; 698  |#define RSRC_SPLASH_SCREEN_7 244    
                            15299 ; 699  |//$FILENAME siglogo8.src
                            15300 ; 700  |#define RSRC_SPLASH_SCREEN_8 245    
                            15301 ; 701  |//$FILENAME siglogo9.src
                            15302 ; 702  |#define RSRC_SPLASH_SCREEN_9 246    
                            15303 ; 703  |//$FILENAME siglogo10.src
                            15304 ; 704  |#define RSRC_SPLASH_SCREEN_10 247    
                            15305 ; 705  |//$FILENAME siglogo11.src
                            15306 ; 706  |#define RSRC_SPLASH_SCREEN_11 248    
                            15307 ; 707  |//$FILENAME siglogo12.src
                            15308 ; 708  |#define RSRC_SPLASH_SCREEN_12 249    
                            15309 ; 709  |//$FILENAME siglogo13.src
                            15310 ; 710  |#define RSRC_SPLASH_SCREEN_13 250    
                            15311 ; 711  |//$FILENAME siglogo.src
                            15312 ; 712  |#define RSRC_SPLASH_SCREEN_ALL 251    
                            15313 ; 713  |
                            15314 ; 714  |//$FILENAME locked.src
                            15315 ; 715  |#define RSRC_LOCKED_SCREEN 252    
                            15316 ; 716  |
                            15317 ; 717  |/////////////////////////////////////////////////////////////////////////////////
                            15318 ; 718  |//  Shutdown
                            15319 ; 719  |/////////////////////////////////////////////////////////////////////////////////
                            15320 ; 720  |//$FILENAME string_arial_8_continue_holding_to_power_off.src
                            15321 ; 721  |#define RSRC_PDOWN_HOLD_STRING 253    
                            15322 ; 722  |//$FILENAME status_16_6_steps_0.src
                            15323 ; 723  |#define RSRC_PDOWN_STATUS_0 254    
                            15324 ; 724  |//$FILENAME status_16_6_steps_1.src
                            15325 ; 725  |#define RSRC_PDOWN_STATUS_1 255    
                            15326 ; 726  |//$FILENAME status_16_6_steps_2.src
                            15327 ; 727  |#define RSRC_PDOWN_STATUS_2 256    
                            15328 ; 728  |//$FILENAME status_16_6_steps_3.src
                            15329 ; 729  |#define RSRC_PDOWN_STATUS_3 257    
                            15330 ; 730  |//$FILENAME status_16_6_steps_4.src
                            15331 ; 731  |#define RSRC_PDOWN_STATUS_4 258    
                            15332 ; 732  |//$FILENAME status_16_6_steps_5.src
                            15333 ; 733  |#define RSRC_PDOWN_STATUS_5 259    
                            15334 ; 734  |//$FILENAME status_16_6_steps_6.src
                            15335 ; 735  |#define RSRC_PDOWN_STATUS_6 260    
                            15336 ; 736  |
                            15337 ; 737  |/////////////////////////////////////////////////////////////////////////////////////////////////////
                            15338 ; 738  |// EQ
                            15339 ; 739  |/////////////////////////////////////////////////////////////////////////////////////////////////////
                            15340 ; 740  |//$FILENAME eq_clear_icon.src
                            15341 ; 741  |#define RSRC_EQ_CLEAR_ICON 261    
                            15342 ; 742  |//$FILENAME rock_icon.src
                            15343 ; 743  |#define RSRC_ROCK_ICON 262    
                            15344 ; 744  |//$FILENAME jazz_icon.src
                            15345 ; 745  |#define RSRC_JAZZ_ICON 263    
                            15346 ; 746  |//$FILENAME classic_icon.src
                            15347 ; 747  |#define RSRC_CLASSIC_ICON 264    
                            15348 ; 748  |//$FILENAME pop_icon.src
                            15349 ; 749  |#define RSRC_POP_ICON 265    
                            15350 ; 750  |//$FILENAME custom_icon.src
                            15351 ; 751  |#define RSRC_CUSTOM_ICON 266    
                            15352 ; 752  |
                            15353 ; 753  |/////////////////////////////////////////////////////////////////////////////////////////////////////
                            15354 ; 754  |// AB
                            15355 ; 755  |/////////////////////////////////////////////////////////////////////////////////////////////////////
                            15356 ; 756  |//$FILENAME ab_mark_a.src
                            15357 ; 757  |#define RSRC_AB_MARK_A_ICON 267    
                            15358 ; 758  |//$FILENAME ab_mark_b.src
                            15359 ; 759  |#define RSRC_AB_MARK_B_ICON 268    
                            15360 ; 760  |
                            15361 ; 761  |/////////////////////////////////////////////////////////////////////////////////////////////////////
                            15362 ; 762  |// Menu Display Resources
                            15363 ; 763  |/////////////////////////////////////////////////////////////////////////////////////////////////////
                            15364 ; 764  |//$FILENAME string_music_menu.src
                            15365 ; 765  |#define RSRC_STRING_MUSIC_MENU 269    
                            15366 ; 766  |//$FILENAME string_mvideo_menu.src
                            15367 ; 767  |#define RSRC_STRING_MVIDEO_MENU 270    
                            15368 ; 768  |//$FILENAME string_jpeg_display_menu.src
                            15369 ; 769  |#define RSRC_STRING_JPEG_DISPLAY_MENU 271    
                            15370 ; 770  |//$FILENAME string_jpeg_manual_menu.src
                            15371 ; 771  |#define RSRC_STRING_JPEG_MANUAL_MENU 272    
                            15372 ; 772  |//$FILENAME string_jpeg_slideshow_menu.src
                            15373 ; 773  |#define RSRC_STRING_JPEG_SLIDESHOW_MENU 273    
                            15374 ; 774  |//$FILENAME string_jpeg_thumbnail_menu.src
                            15375 ; 775  |#define RSRC_STRING_JPEG_THUMBNAIL_MENU 274    
                            15376 ; 776  |//$FILENAME string_voice_menu.src
                            15377 ; 777  |#define RSRC_STRING_VOICE_MENU 275    
                            15378 ; 778  |//$FILENAME string_audible_menu.src
                            15379 ; 779  |#define RSRC_STRING_AUDIBLE_MENU 276    
                            15380 ; 780  |//$FILENAME string_fmtuner_menu.src
                            15381 ; 781  |#define RSRC_STRING_FMTUNER_MENU 277    
                            15382 ; 782  |//$FILENAME string_settings_menu.src
                            15383 ; 783  |#define RSRC_STRING_SETTINGS_MENU 278    
                            15384 ; 784  |//$FILENAME string_eq_menu.src
                            15385 ; 785  |#define RSRC_STRING_EQ_MENU 279    
                            15386 ; 786  |//$FILENAME string_playmode_menu.src
                            15387 ; 787  |#define RSRC_STRING_PLAYMODE_MENU 280    
                            15388 ; 788  |//$FILENAME string_contrast_menu.src
                            15389 ; 789  |#define RSRC_STRING_CONTRAST_MENU 281    
                            15390 ; 790  |//$FILENAME string_pwrsavings_menu.src
                            15391 ; 791  |#define RSRC_STRING_PWRSAVINGS_MENU 282    
                            15392 ; 792  |//$FILENAME string_time_date_menu.src
                            15393 ; 793  |#define RSRC_STRING_TIME_DATE_MENU 283    
                            15394 ; 794  |//$FILENAME string_set_time_menu.src
                            15395 ; 795  |#define RSRC_STRING_SET_TIME_MENU 284    
                            15396 ; 796  |//$FILENAME string_set_date_menu.src
                            15397 ; 797  |#define RSRC_STRING_SET_DATE_MENU 285    
                            15398 ; 798  |//$FILENAME string_exit_menu.src
                            15399 ; 799  |#define RSRC_STRING_EXIT_MENU 286    
                            15400 ; 800  |//$FILENAME string_rock_menu.src
                            15401 ; 801  |#define RSRC_STRING_ROCK_MENU 287    
                            15402 ; 802  |//$FILENAME string_pop_menu.src
                            15403 ; 803  |#define RSRC_STRING_POP_MENU 288    
                            15404 ; 804  |//$FILENAME string_classic_menu.src
                            15405 ; 805  |#define RSRC_STRING_CLASSIC_MENU 289    
                            15406 ; 806  |//$FILENAME string_normal_menu.src
                            15407 ; 807  |#define RSRC_STRING_NORMAL_MENU 290    
                            15408 ; 808  |//$FILENAME string_jazz_menu.src
                            15409 ; 809  |#define RSRC_STRING_JAZZ_MENU 291    
                            15410 ; 810  |//$FILENAME string_repeat1_menu.src
                            15411 ; 811  |#define RSRC_STRING_REPEAT1_MENU 292    
                            15412 ; 812  |//$FILENAME string_repeatall_menu.src
                            15413 ; 813  |#define RSRC_STRING_REPEATALL_MENU 293    
                            15414 ; 814  |//$FILENAME string_shuffle_menu.src
                            15415 ; 815  |#define RSRC_STRING_SHUFFLE_MENU 294    
                            15416 ; 816  |//$FILENAME string_repeatshuffle_menu.src
                            15417 ; 817  |#define RSRC_STRING_SHUFFLEREPEAT_MENU 295    
                            15418 ; 818  |//$FILENAME string_disable_menu.src
                            15419 ; 819  |#define RSRC_STRING_DISABLE_MENU 296    
                            15420 ; 820  |//$FILENAME string_1min_menu.src
                            15421 ; 821  |#define RSRC_STRING_1MIN_MENU 297    
                            15422 ; 822  |//$FILENAME string_2min_menu.src
                            15423 ; 823  |#define RSRC_STRING_2MIN_MENU 298    
                            15424 ; 824  |//$FILENAME string_5min_menu.src
                            15425 ; 825  |#define RSRC_STRING_5MIN_MENU 299    
                            15426 ; 826  |//$FILENAME string_10min_menu.src
                            15427 ; 827  |#define RSRC_STRING_10MIN_MENU 300    
                            15428 ; 828  |//$FILENAME string_system_menu.src
                            15429 ; 829  |#define RSRC_STRING_SYSTEM_MENU 301    
                            15430 ; 830  |//$FILENAME string_about_menu.src
                            15431 ; 831  |#define RSRC_STRING_ABOUT_MENU 302    
                            15432 ; 832  |//$FILENAME string_delete_menu.src
                            15433 ; 833  |#define RSRC_STRING_DELETE_MENU 303    
                            15434 ; 834  |//$FILENAME string_record_menu.src
                            15435 ; 835  |#define RSRC_STRING_RECORD_MENU 304    
                            15436 ; 836  |//$FILENAME string_spectrogram_menu.src
                            15437 ; 837  |#define RSRC_STRING_SPECTROGRAM_MENU 305    
                            15438 ; 838  |
                            15439 ; 839  |//$FILENAME string_end_of_slide_show.src
                            15440 ; 840  |#define RSRC_STRING_END_OF_SLIDE_SHOW 306    
                            15441 ; 841  |
                            15442 ; 842  |//$FILENAME string_mb.src
                            15443 ; 843  |#define RSRC_STRING_MB 307    
                            15444 ; 844  |
                            15445 ; 845  |//$FILENAME internal_media.src
                            15446 ; 846  |#define RSRC_INT_MEDIA 308    
                            15447 ; 847  |//$FILENAME external_media.src
                            15448 ; 848  |#define RSRC_EXT_MEDIA 309    
                            15449 ; 849  |
                            15450 ; 850  |//$FILENAME about_title.src
                            15451 ; 851  |#define RSRC_ABOUT_TITLE 310    
                            15452 ; 852  |//$FILENAME player_name.src
                            15453 ; 853  |#define RSRC_PLAYER_NAME_VER 311    
                            15454 ; 854  |
                            15455 ; 855  |//$FILENAME settings_title.src
                            15456 ; 856  |#define RSRC_SETTINGS_TITLE 312    
                            15457 ; 857  |//$FILENAME jpeg_display_title.src
                            15458 ; 858  |#define RSRC_JPEG_DISPLAY_TITLE 313    
                            15459 ; 859  |//$FILENAME erase_title.src
                            15460 ; 860  |#define RSRC_ERASE_TITLE 314    
                            15461 ; 861  |
                            15462 ; 862  |//$FILENAME del_warning_no.src
                            15463 ; 863  |#define RSRC_DELETE_NO 315    
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page  62

M:ADDR CODE           CYCLES LINE SOURCELINE
                            15464 ; 864  |//$FILENAME del_warning_yes.src
                            15465 ; 865  |#define RSRC_DELETE_YES 316    
                            15466 ; 866  |//$FILENAME del_warning_line1.src
                            15467 ; 867  |#define RSRC_WARNING_MSG_LINE1 317    
                            15468 ; 868  |//$FILENAME del_warning_line2.src
                            15469 ; 869  |#define RSRC_WARNING_MSG_LINE2 318    
                            15470 ; 870  |//$FILENAME lowbattery.src
                            15471 ; 871  |#define RSRC_BROWNOUT_BITMAP 319    
                            15472 ; 872  |//$FILENAME vbr.src
                            15473 ; 873  |#define RSRC_VBR_BITMAP 320    
                            15474 ; 874  |
                            15475 ; 875  |//$FILENAME string_song.src
                            15476 ; 876  |#define RSRC_STRING_SONG_COLON 321    
                            15477 ; 877  |//$FILENAME string_voice.src
                            15478 ; 878  |#define RSRC_STRING_VOICE_COLON 322    
                            15479 ; 879  |
                            15480 ; 880  |//$FILENAME time_date_title.src
                            15481 ; 881  |#define RSRC_TIME_DATE_TITLE 323    
                            15482 ; 882  |//$FILENAME set_time_title.src
                            15483 ; 883  |#define RSRC_SET_TIME_TITLE 324    
                            15484 ; 884  |//$FILENAME set_date_title.src
                            15485 ; 885  |#define RSRC_SET_DATE_TITLE 325    
                            15486 ; 886  |//$FILENAME string_searching.src
                            15487 ; 887  |#define RSRC_STRING_SEARCHING 326    
                            15488 ; 888  |/////////////////////////////////////////////////////////////////////////////////
                            15489 ; 889  |//  Save Changes
                            15490 ; 890  |/////////////////////////////////////////////////////////////////////////////////
                            15491 ; 891  |//$FILENAME save_changes_yes.src
                            15492 ; 892  |#define RSRC_SAVE_CHANGES_YES 327    
                            15493 ; 893  |//$FILENAME save_changes_no.src
                            15494 ; 894  |#define RSRC_SAVE_CHANGES_NO 328    
                            15495 ; 895  |//$FILENAME save_changes_cancel.src
                            15496 ; 896  |#define RSRC_SAVE_CHANGES_CANCEL 329    
                            15497 ; 897  |//$FILENAME save_changes_clear.src
                            15498 ; 898  |#define RSRC_SAVE_CHANGES_CLEAR 330    
                            15499 ; 899  |/////////////////////////////////////////////////////////////////////////////////
                            15500 ; 900  |//  Contrast
                            15501 ; 901  |/////////////////////////////////////////////////////////////////////////////////
                            15502 ; 902  |//$FILENAME contrast_title.src
                            15503 ; 903  |#define RSRC_CONTRAST_TITLE 331    
                            15504 ; 904  |//$FILENAME contrast_frame.src
                            15505 ; 905  |#define RSRC_CONTRAST_FRAME 332    
                            15506 ; 906  |//$FILENAME contrast_level0.src
                            15507 ; 907  |#define RSRC_CONTRAST_LEVEL_0 333    
                            15508 ; 908  |//$FILENAME contrast_level1.src
                            15509 ; 909  |#define RSRC_CONTRAST_LEVEL_1 334    
                            15510 ; 910  |//$FILENAME contrast_level2.src
                            15511 ; 911  |#define RSRC_CONTRAST_LEVEL_2 335    
                            15512 ; 912  |//$FILENAME contrast_level3.src
                            15513 ; 913  |#define RSRC_CONTRAST_LEVEL_3 336    
                            15514 ; 914  |//$FILENAME contrast_level4.src
                            15515 ; 915  |#define RSRC_CONTRAST_LEVEL_4 337    
                            15516 ; 916  |//$FILENAME contrast_level5.src
                            15517 ; 917  |#define RSRC_CONTRAST_LEVEL_5 338    
                            15518 ; 918  |//$FILENAME contrast_level6.src
                            15519 ; 919  |#define RSRC_CONTRAST_LEVEL_6 339    
                            15520 ; 920  |//$FILENAME contrast_level7.src
                            15521 ; 921  |#define RSRC_CONTRAST_LEVEL_7 340    
                            15522 ; 922  |//$FILENAME contrast_level8.src
                            15523 ; 923  |#define RSRC_CONTRAST_LEVEL_8 341    
                            15524 ; 924  |//$FILENAME contrast_level9.src
                            15525 ; 925  |#define RSRC_CONTRAST_LEVEL_9 342    
                            15526 ; 926  |//$FILENAME contrast_level10.src
                            15527 ; 927  |#define RSRC_CONTRAST_LEVEL_10 343    
                            15528 ; 928  |
                            15529 ; 929  |////////////////////////////////////////////////////////////////////////////////////////////////////
                            15530 ; 930  |// Funclets
                            15531 ; 931  |////////////////////////////////////////////////////////////////////////////////////////////////////
                            15532 ; 932  |//$FILENAME Funclet_SetRTC.src
                            15533 ; 933  |#define RSRC_FUNCLET_SET_RTC 344    
                            15534 ; 934  |//$FILENAME Funclet_InitRTC.src
                            15535 ; 935  |#define RSRC_FUNCLET_INIT_RTC 345    
                            15536 ; 936  |//$FILENAME Funclet_ReadRTC.src
                            15537 ; 937  |#define RSRC_FUNCLET_READ_RTC 346    
                            15538 ; 938  |//$FILENAME Funclet_SysResetAllInt.src
                            15539 ; 939  |#define RSRC_FUNCLET_SYSRESETALLINT 347    
                            15540 ; 940  |//$FILENAME Funclet_SysSetupDecVec.src
                            15541 ; 941  |#define RSRC_FUNCLET_SYSSETUPDECVEC 348    
                            15542 ; 942  |//$FILENAME Funclet_SysSetupEncVec.src
                            15543 ; 943  |#define RSRC_FUNCLET_SYSSETUPENCVEC 349    
                            15544 ; 944  |//$FILENAME Funclet_SysTimeInit.src
                            15545 ; 945  |#define RSRC_FUNCLET_SYSTIMEINIT 350    
                            15546 ; 946  |//$FILENAME Funclet_AnalogInit.src
                            15547 ; 947  |#define RSRC_FUNCLET_ANALOGINIT 351    
                            15548 ; 948  |//$FILENAME Funclet_UsbConnected.src
                            15549 ; 949  |#define RSRC_FUNCLET_USBCONNECTED 352    
                            15550 ; 950  |//$FILENAME Funclet_ButtonInit.src
                            15551 ; 951  |#define RSRC_FUNCLET_BUTTONINIT 353    
                            15552 ; 952  |//$FILENAME Funclet_PowerUpHeadPhones.src
                            15553 ; 953  |#define RSRC_FUNCLET_POWERUPHEADPHONES 354    
                            15554 ; 954  |//$FILENAME Funclet_PowerDownHeadPhones.src
                            15555 ; 955  |#define RSRC_FUNCLET_POWERDOWNHEADPHONES 355    
                            15556 ; 956  |//$FILENAME Funclet_StartProject.src
                            15557 ; 957  |#define RSRC_FUNCLET_STARTPROJECT 356    
                            15558 ; 958  |//$FILENAME Funclet_ModuleSetTimer.src
                            15559 ; 959  |#define RSRC_FUNCLET_MODULESETTIMER 357    
                            15560 ; 960  |//$FILENAME null.src
                            15561 ; 961  |#define RSRC_FUNCLET_MEDIADETECTION 358    
                            15562 ; 962  |//$FILENAME Funclet_SysStopDecoder.src
                            15563 ; 963  |#define RSRC_FUNCLET_SYSSTOPDECODER 359    
                            15564 ; 964  |//$FILENAME Funclet_SysStopEncoder.src
                            15565 ; 965  |#define RSRC_FUNCLET_SYSSTOPENCODER 360    
                            15566 ; 966  |//$FILENAME Funclet_SysSetDecoder.src
                            15567 ; 967  |#define RSRC_FUNCLET_SYSSETDECODER 361    
                            15568 ; 968  |//$FILENAME Funclet_SysSetEncoder.src
                            15569 ; 969  |#define RSRC_FUNCLET_SYSSETENCODER 362    
                            15570 ; 970  |//$FILENAME null.src
                            15571 ; 971  |#define RSRC_FUNCLET_PROCESSPT 363    
                            15572 ; 972  |//$FILENAME Funclet_DisplaySplashScreen.src
                            15573 ; 973  |#define RSRC_FUNCLET_DISPLAYSPLASHSCREEN 364    
                            15574 ; 974  |//$FILENAME Funclet_SysGetVolume.src
                            15575 ; 975  |#define RSRC_FUNCLET_SYSGETVOLUME 365    
                            15576 ; 976  |//$FILENAME null.src
                            15577 ; 977  |#define RSRC_FUNCLET_MMCENUMERATEPHYSICALDEVICE 366    
                            15578 ; 978  |//$FILENAME null.src
                            15579 ; 979  |#define RSRC_FUNCLET_RESETDEVICE 367    
                            15580 ; 980  |//$FILENAME null.src
                            15581 ; 981  |#define RSRC_FUNCLET_PROCESSCSD 368    
                            15582 ; 982  |//$FILENAME null.src
                            15583 ; 983  |#define RSRC_FUNCLET_PROCESSPARTITION 369    
                            15584 ; 984  |//$FILENAME null.src
                            15585 ; 985  |#define RSRC_FUNCLET_PARTITIONENTRYCOPY 370    
                            15586 ; 986  |//$FILENAME Funclet_MixerMasterFadeOut.src
                            15587 ; 987  |#define RSRC_FUNCLET_MIXER_MASTER_FADE_OUT 371    
                            15588 ; 988  |//$FILENAME Funclet_MixerMasterFadeIn.src
                            15589 ; 989  |#define RSRC_FUNCLET_MIXER_MASTER_FADE_IN 372    
                            15590 ; 990  |//$FILENAME Funclet_EncSetProperties.src
                            15591 ; 991  |#define RSRC_FUNCLET_ENCSETPROPERTIES 373    
                            15592 ; 992  |//$FILENAME null.src
                            15593 ; 993  |#define RSRC_FUNCLET_DOESMBREXIST 374    
                            15594 ; 994  |//$FILENAME null.src
                            15595 ; 995  |#define RSRC_FUNCLET_EXTRACTPARTITIONPARAMETERS 375    
                            15596 ; 996  |//$FILENAME Funclet_SaveSettings.src
                            15597 ; 997  |#define RSRC_FUNCLET_SYSSAVESETTINGS 376    
                            15598 ; 998  |//$FILENAME Funclet_LoadSettings.src
                            15599 ; 999  |#define RSRC_FUNCLET_SYSLOADSETTINGS 377    
                            15600 ; 1000 |///////////////////////////////////////////////////////////////
                            15601 ; 1001 |// Sanyo FM Tuner Fuclet
                            15602 ; 1002 |///////////////////////////////////////////////////////////////
                            15603 ; 1003 |//RSRC_FUNCLET_TUNER_DRIVER_INIT    equ      334    ;$FILENAME Funclet_TunerDriverInit.src
                            15604 ; 1004 |//RSRC_FUNCLET_TUNER_SCAN_STATIONS    equ      335    ;$FILENAME Funclet_TunerScanStations.src
                            15605 ; 1005 |//RSRC_FUNCLET_TUNER_SET_TO_PRESET    equ      336    ;$FILENAME Funclet_TunerSetToPreset.src
                            15606 ; 1006 |//RSRC_FUNCLET_TUNER_SET_MONO_STEREO    equ      337    ;$FILENAME Funclet_TunerSetMonoStereo.src
                            15607 ; 1007 |//RSRC_FUNCLET_TUNER_SET_STANDBY    equ      338    ;$FILENAME Funclet_TunerSetStandby.src
                            15608 ; 1008 |//RSRC_FUNCLET_TUNER_SET_PRESET    equ      339    ;$FILENAME Funclet_TunerSetPreset.src
                            15609 ; 1009 |//RSRC_FUNCLET_TUNER_ERASE_PRESET    equ      340    ;$FILENAME Funclet_TunerErasePreset.src
                            15610 ; 1010 |//RSRC_FUNCLET_TUNER_SET_IF    equ      341    ;$FILENAME Funclet_TunerSetIf.src
                            15611 ; 1011 |//RSRC_FUNCLET_TUNER_WRITE_IF_OSC    equ      342    ;$FILENAME Funclet_TunerWriteIfOSc.src
                            15612 ; 1012 |//RSRC_FUNCLET_TUNER_GET_FIELD_STRENGTH    equ      343    ;$FILENAME Funclet_TunerGetFieldStrength.src
                            15613 ; 1013 |//RSRC_FUNCLET_TUNER_INIT_RF_CAP_OSC    equ      344    ;$FILENAME Funclet_TunerInitRfCapOsc.src
                            15614 ; 1014 |//RSRC_FUNCLET_TUNER_STORE_FM_STATION    equ      345    ;$FILENAME Funclet_TunerStoreFmStation.src
                            15615 ; 1015 |//RSRC_FUNCLET_TUNER_STORE_FM_PRESET    equ      346    ;$FILENAME Funclet_TunerStoreFmPreset.src
                            15616 ; 1016 |//RSRC_FUNCLET_TUNER_SET_REGION    equ      347    ;$FILENAME Funclet_TunerSetRegion.src
                            15617 ; 1017 |
                            15618 ; 1018 |////////////////////////////////////////////////////////////////////////////////////////////////////
                            15619 ; 1019 |// WMA Resources
                            15620 ; 1020 |////////////////////////////////////////////////////////////////////////////////////////////////////
                            15621 ; 1021 |//$FILENAME wmaCore.src
                            15622 ; 1022 |#define RSRC_WMA_CORE 378    
                            15623 ; 1023 |//$FILENAME wmaMidLow.src
                            15624 ; 1024 |#define RSRC_WMA_MIDLOW 379    
                            15625 ; 1025 |//$FILENAME wmaHigh.src
                            15626 ; 1026 |#define RSRC_WMA_HIGH 380    
                            15627 ; 1027 |//$FILENAME wmaHighMid.src
                            15628 ; 1028 |#define RSRC_WMA_HIGHMID 381    
                            15629 ; 1029 |//$FILENAME wmaMid.src
                            15630 ; 1030 |#define RSRC_WMA_MID 382    
                            15631 ; 1031 |//$FILENAME wmaLow.src
                            15632 ; 1032 |#define RSRC_WMA_LOW 383    
                            15633 ; 1033 |//$FILENAME wmaX1mem.src
                            15634 ; 1034 |#define RSRC_WMA_DATA_X1 384    
                            15635 ; 1035 |//$FILENAME wmaYmem.src
                            15636 ; 1036 |#define RSRC_WMA_DATA_Y 385    
                            15637 ; 1037 |//$FILENAME wmaLXmem.src
                            15638 ; 1038 |#define RSRC_WMA_DATA_L_X 386    
                            15639 ; 1039 |//$FILENAME wmaLYmem.src
                            15640 ; 1040 |#define RSRC_WMA_DATA_L_Y 387    
                            15641 ; 1041 |//$FILENAME wmaHuff44Qb.src
                            15642 ; 1042 |#define RSRC_WMA_HUFF44QB 388    
                            15643 ; 1043 |//$FILENAME wmaHuff44Ob.src
                            15644 ; 1044 |#define RSRC_WMA_HUFF44OB 389    
                            15645 ; 1045 |//$FILENAME wmaHuff16Ob.src
                            15646 ; 1046 |#define RSRC_WMA_HUFF16OB 390    
                            15647 ; 1047 |//$FILENAME drmpdcommon.src
                            15648 ; 1048 |#define RSRC_DRMPD_COMMON 391    
                            15649 ; 1049 |//$FILENAME januswmasupport.src
                            15650 ; 1050 |#define RSRC_JANUS_WMASUPPORT 392    
                            15651 ; 1051 |//$FILENAME wmalicenseinit.src
                            15652 ; 1052 |#define RSRC_WMA_LICENSEINIT 393    
                            15653 ; 1053 |//$FILENAME wma_tables.src
                            15654 ; 1054 |#define RSRC_WMA_TABLES 394    
                            15655 ; 1055 |//$FILENAME janus_tables.src
                            15656 ; 1056 |#define RSRC_JANUS_TABLES 395    
                            15657 ; 1057 |//$FILENAME wma_constants.src
                            15658 ; 1058 |#define RSRC_WMA_CONSTANTS 396    
                            15659 ; 1059 |//$FILENAME janus_constants.src
                            15660 ; 1060 |#define RSRC_JANUS_CONSTANTS 397    
                            15661 ; 1061 |//$FILENAME janus_xmem.src
                            15662 ; 1062 |#define RSRC_JANUS_X 398    
                            15663 ; 1063 |//$FILENAME janusy_data.src
                            15664 ; 1064 |#define RSRC_JANUSY_DATA 399    
                            15665 ; 1065 |
                            15666 ; 1066 |////////////////////////////////////////////////////////////////////////////////////////////////////
                            15667 ; 1067 |// Fonts -- these are last because they are very large
                            15668 ; 1068 |////////////////////////////////////////////////////////////////////////////////////////////////////
                            15669 ; 1069 |//$FILENAME font_table.src
                            15670 ; 1070 |#define RSRC_FONT_TABLE 400    
                            15671 ; 1071 |//$FILENAME font_PGM.src
                            15672 ; 1072 |#define RSRC_PGM_8 401    
                            15673 ; 1073 |//$FILENAME font_SGMs.src
                            15674 ; 1074 |#define RSRC_SGMS_8 402    
                            15675 ; 1075 |//$FILENAME font_script_00.src
                            15676 ; 1076 |#define RSRC_SCRIPT_00_8 403    
                            15677 ; 1077 |//$FILENAME font_scripts.src
                            15678 ; 1078 |#define RSRC_SCRIPTS_8 404    
                            15679 ; 1079 |//$FILENAME font_PDM.src
                            15680 ; 1080 |#define RSRC_PDM 405    
                            15681 ; 1081 |//$FILENAME font_SDMs.src
                            15682 ; 1082 |#define RSRC_SDMS 406    
                            15683 ; 1083 |//$FILENAME bitmap_warning.src
                            15684 ; 1084 |#define RSRC_WARNING 407    
                            15685 ; 1085 |//$FILENAME bitmap_device_full.src
                            15686 ; 1086 |#define RSRC_DEVICE_FULL 408    
                            15687 ; 1087 |
                            15688 ; 1088 |
                            15689 ; 1089 |//$FILENAME lcd_controller_init.src
                            15690 ; 1090 |#define RSRC_LCD_INIT_SEQ 409    
                            15691 ; 1091 |
                            15692 ; 1092 |//$FILENAME Funclet_DBCSToUnicode.src
                            15693 ; 1093 |#define RSRC_FUNCLET_DBCS_TO_UNICODE 410    
                            15694 ; 1094 |//$FILENAME Funclet_DBCSToUnicodeDstXSrcY.src
                            15695 ; 1095 |#define RSRC_FUNCLET_DBCS_TO_UNICODE_DSTX_SRCY 411    
                            15696 ; 1096 |//$FILENAME Funclet_LCDSetFont.src
                            15697 ; 1097 |#define RSRC_FUNCLET_SET_FONT 412    
                            15698 ; 1098 |//$FILENAME Funclet_GetTextWidthAddressUnicode.src
                            15699 ; 1099 |#define RSRC_FUNCLET_GET_TEXT_WIDTH_ADDRESS_UNICODE 413    
                            15700 ; 1100 |//$FILENAME Funclet_GetTextWidthResourceUnicode.src
                            15701 ; 1101 |#define RSRC_FUNCLET_GET_TEXT_WIDTH_RESOURCE_UNICODE 414    
                            15702 ; 1102 |//$FILENAME Funclet_GetTextWidthAddressDBCS.src
                            15703 ; 1103 |#define RSRC_FUNCLET_GET_TEXT_WIDTH_ADDRESS_DBCS 415    
                            15704 ; 1104 |//$FILENAME Funclet_GetTextWidthResourceDBCS.src
                            15705 ; 1105 |#define RSRC_FUNCLET_GET_TEXT_WIDTH_RESOURCE_DBCS 416    
                            15706 ; 1106 |//$FILENAME Funclet_ChipSerialNumberInit.src
                            15707 ; 1107 |#define RSRC_FUNCLET_CHIPSERIALNUMBERINIT 417    
                            15708 ; 1108 |//$FILENAME Funclet_InternalMediaSerialNumberInit.src
                            15709 ; 1109 |#define RSRC_FUNCLET_INTERNALMEDIASERIALNUMBERINIT 418    
                            15710 ; 1110 |//$FILENAME Funclet_ChipGetSerialNumber.src
                            15711 ; 1111 |#define RSRC_FUNCLET_CHIPGETSERIALNUMBER 419    
                            15712 ; 1112 |//$FILENAME Funclet_CreateNullSerialNumber.src
                            15713 ; 1113 |#define RSRC_FUNCLET_CREATENULLSERIALNUMBER 420    
                            15714 ; 1114 |//$FILENAME Funclet_ConvertHexToASCII.src
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page  63

M:ADDR CODE           CYCLES LINE SOURCELINE
                            15715 ; 1115 |#define RSRC_FUNCLET_CONVERTHEXTOASCII 421    
                            15716 ; 1116 |//$FILENAME Funclet_LowResolutionAdcInit.src
                            15717 ; 1117 |#define RSRC_FUNCLET_LOWRESOLUTIONADCINIT 422    
                            15718 ; 1118 |
                            15719 ; 1119 |
                            15720 ; 1120 |//$FILENAME sysrecord.src
                            15721 ; 1121 |#define RSRC_SYSRECORD_CODE 423    
                            15722 ; 1122 |
                            15723 ; 1123 |//$FILENAME string_record_settings.src
                            15724 ; 1124 |#define RSRC_STRING_RECORD_SETTINGS 424    
                            15725 ; 1125 |//$FILENAME string_sample_rate.src
                            15726 ; 1126 |#define RSRC_STRING_SAMPLE_RATE 425    
                            15727 ; 1127 |//$FILENAME string_encoder.src
                            15728 ; 1128 |#define RSRC_STRING_ENCODER 426    
                            15729 ; 1129 |//$FILENAME string_adpcm.src
                            15730 ; 1130 |#define RSRC_STRING_ADPCM 427    
                            15731 ; 1131 |//$FILENAME string_msadpcm.src
                            15732 ; 1132 |#define RSRC_STRING_MSADPCM 428    
                            15733 ; 1133 |//$FILENAME string_imadpcm.src
                            15734 ; 1134 |#define RSRC_STRING_IMADPCM 429    
                            15735 ; 1135 |//$FILENAME string_pcm.src
                            15736 ; 1136 |#define RSRC_STRING_PCM 430    
                            15737 ; 1137 |//$FILENAME string_internal.src
                            15738 ; 1138 |#define RSRC_STRING_INTERNAL 431    
                            15739 ; 1139 |//$FILENAME string_external.src
                            15740 ; 1140 |#define RSRC_STRING_EXTERNAL 432    
                            15741 ; 1141 |//$FILENAME string_device.src
                            15742 ; 1142 |#define RSRC_STRING_DEVICE 433    
                            15743 ; 1143 |//$FILENAME string_source.src
                            15744 ; 1144 |#define RSRC_STRING_SOURCE 434    
                            15745 ; 1145 |//$FILENAME string_microphone.src
                            15746 ; 1146 |#define RSRC_STRING_MICROPHONE 435    
                            15747 ; 1147 |//$FILENAME string_linein.src
                            15748 ; 1148 |#define RSRC_STRING_LINEIN 436    
                            15749 ; 1149 |//$FILENAME string_bits.src
                            15750 ; 1150 |#define RSRC_STRING_BITS 437    
                            15751 ; 1151 |//$FILENAME string_4.src
                            15752 ; 1152 |#define RSRC_STRING_4 438    
                            15753 ; 1153 |//$FILENAME string_8.src
                            15754 ; 1154 |#define RSRC_STRING_8 439    
                            15755 ; 1155 |//$FILENAME string_16.src
                            15756 ; 1156 |#define RSRC_STRING_16 440    
                            15757 ; 1157 |//$FILENAME string_24.src
                            15758 ; 1158 |#define RSRC_STRING_24 441    
                            15759 ; 1159 |//$FILENAME string_fm.src
                            15760 ; 1160 |#define RSRC_STRING_FM 442    
                            15761 ; 1161 |//$FILENAME string_mono.src
                            15762 ; 1162 |#define RSRC_STRING_MONO 443    
                            15763 ; 1163 |//$FILENAME string_stereo.src
                            15764 ; 1164 |#define RSRC_STRING_STEREO 444    
                            15765 ; 1165 |//$FILENAME string_8000hz.src
                            15766 ; 1166 |#define RSRC_STRING_8000HZ 445    
                            15767 ; 1167 |//$FILENAME string_11025hz.src
                            15768 ; 1168 |#define RSRC_STRING_11025HZ 446    
                            15769 ; 1169 |//$FILENAME string_16000hz.src
                            15770 ; 1170 |#define RSRC_STRING_16000HZ 447    
                            15771 ; 1171 |//$FILENAME string_22050hz.src
                            15772 ; 1172 |#define RSRC_STRING_22050HZ 448    
                            15773 ; 1173 |//$FILENAME string_32000hz.src
                            15774 ; 1174 |#define RSRC_STRING_32000HZ 449    
                            15775 ; 1175 |//$FILENAME string_44100hz.src
                            15776 ; 1176 |#define RSRC_STRING_44100HZ 450    
                            15777 ; 1177 |//$FILENAME string_48000hz.src
                            15778 ; 1178 |#define RSRC_STRING_48000HZ 451    
                            15779 ; 1179 |//$FILENAME string_channels.src
                            15780 ; 1180 |#define RSRC_STRING_CHANNELS 452    
                            15781 ; 1181 |//$FILENAME string_spaces.src
                            15782 ; 1182 |#define RSRC_STRING_SPACES 453    
                            15783 ; 1183 |//$FILENAME slider_bar.src
                            15784 ; 1184 |#define RSRC_SLIDER_BAR 454    
                            15785 ; 1185 |//$FILENAME slider_bar_inv.src
                            15786 ; 1186 |#define RSRC_SLIDER_BAR_INV 455    
                            15787 ; 1187 |//$FILENAME slider_track.src
                            15788 ; 1188 |#define RSRC_SLIDER_TRACK 456    
                            15789 ; 1189 |//$FILENAME string_no_files.src
                            15790 ; 1190 |#define RSRC_STRING_NO_FILES 457    
                            15791 ; 1191 |
                            15792 ; 1192 |/////////////////////////////////////////////////////////////////////
                            15793 ; 1193 |//  Time and Date Resource Strings
                            15794 ; 1194 |/////////////////////////////////////////////////////////////////////
                            15795 ; 1195 |//$FILENAME string_sunday.src
                            15796 ; 1196 |#define RSRC_STRING_SUNDAY 458    
                            15797 ; 1197 |//$FILENAME string_monday.src
                            15798 ; 1198 |#define RSRC_STRING_MONDAY 459    
                            15799 ; 1199 |//$FILENAME string_tuesday.src
                            15800 ; 1200 |#define RSRC_STRING_TUESDAY 460    
                            15801 ; 1201 |//$FILENAME string_wednesday.src
                            15802 ; 1202 |#define RSRC_STRING_WEDNESDAY 461    
                            15803 ; 1203 |//$FILENAME string_thursday.src
                            15804 ; 1204 |#define RSRC_STRING_THURSDAY 462    
                            15805 ; 1205 |//$FILENAME string_friday.src
                            15806 ; 1206 |#define RSRC_STRING_FRIDAY 463    
                            15807 ; 1207 |//$FILENAME string_saturday.src
                            15808 ; 1208 |#define RSRC_STRING_SATURDAY 464    
                            15809 ; 1209 |//$FILENAME string_am.src
                            15810 ; 1210 |#define RSRC_STRING_AM 465    
                            15811 ; 1211 |//$FILENAME string_pm.src
                            15812 ; 1212 |#define RSRC_STRING_PM 466    
                            15813 ; 1213 |//$FILENAME string_amclear.src
                            15814 ; 1214 |#define RSRC_STRING_AMCLEAR 467    
                            15815 ; 1215 |//$FILENAME string_slash.src
                            15816 ; 1216 |#define RSRC_STRING_SLASH 468    
                            15817 ; 1217 |//$FILENAME string_colon.src
                            15818 ; 1218 |#define RSRC_STRING_COLON 469    
                            15819 ; 1219 |//$FILENAME string_12hour.src
                            15820 ; 1220 |#define RSRC_STRING_12HOUR 470    
                            15821 ; 1221 |//$FILENAME string_24hour.src
                            15822 ; 1222 |#define RSRC_STRING_24HOUR 471    
                            15823 ; 1223 |//$FILENAME string_format.src
                            15824 ; 1224 |#define RSRC_STRING_FORMAT 472    
                            15825 ; 1225 |//$FILENAME string_mmddyyyy.src
                            15826 ; 1226 |#define RSRC_STRING_MMDDYYYY 473    
                            15827 ; 1227 |//$FILENAME string_ddmmyyyy.src
                            15828 ; 1228 |#define RSRC_STRING_DDMMYYYY 474    
                            15829 ; 1229 |//$FILENAME string_yyyymmdd.src
                            15830 ; 1230 |#define RSRC_STRING_YYYYMMDD 475    
                            15831 ; 1231 |//$FILENAME string_ok.src
                            15832 ; 1232 |#define RSRC_STRING_OK 476    
                            15833 ; 1233 |//$FILENAME string_cancel.src
                            15834 ; 1234 |#define RSRC_STRING_CANCEL 477    
                            15835 ; 1235 |//$FILENAME negative_sign.src
                            15836 ; 1236 |#define RSRC_NEGATIVE_SIGN 478    
                            15837 ; 1237 |//$FILENAME string_dec_pt5.src
                            15838 ; 1238 |#define RSRC_DEC_PT5_STRING 479    
                            15839 ; 1239 |//$FILENAME string_dec_pt0.src
                            15840 ; 1240 |#define RSRC_DEC_PT0_STRING 480    
                            15841 ; 1241 |//$FILENAME string_db.src
                            15842 ; 1242 |#define RSRC_DB_STRING 481    
                            15843 ; 1243 |//$FILENAME string_hz2.src
                            15844 ; 1244 |#define RSRC_HZ2_STRING 482    
                            15845 ; 1245 |
                            15846 ; 1246 |
                            15847 ; 1247 |//$FILENAME record_settings_menu_code_bank.src
                            15848 ; 1248 |#define RSRC_RECORD_SETTINGS_MENU_CODE_BANK 483    
                            15849 ; 1249 |//$FILENAME metadata_codebank.src
                            15850 ; 1250 |#define RSRC_METADATA_CODEBANK 484    
                            15851 ; 1251 |//$FILENAME mp3metadata_codebank.src
                            15852 ; 1252 |#define RSRC_MP3_METADATA_CODEBANK 485    
                            15853 ; 1253 |//$FILENAME wmametadata_codebank.src
                            15854 ; 1254 |#define RSRC_WMA_METADATA_CODEBANK 486    
                            15855 ; 1255 |//$FILENAME wavmetadata_codebank.src
                            15856 ; 1256 |#define RSRC_WAV_METADATA_CODEBANK 487    
                            15857 ; 1257 |//$FILENAME smvmetadata_codebank.src
                            15858 ; 1258 |#define RSRC_SMV_METADATA_CODEBANK 488    
                            15859 ; 1259 |//$FILENAME playlist2init_codebank.src
                            15860 ; 1260 |#define RSRC_PLAYLIST2INIT_CODEBANK 489    
                            15861 ; 1261 |
                            15862 ; 1262 |//$FILENAME delete_successful.src
                            15863 ; 1263 |#define RSRC_DELETE_SUCCESSFUL 490    
                            15864 ; 1264 |//$FILENAME delete_error.src
                            15865 ; 1265 |#define RSRC_DELETE_ERROR 491    
                            15866 ; 1266 |//$FILENAME lic_expired.src
                            15867 ; 1267 |#define RSRC_LIC_EXPIRED 492    
                            15868 ; 1268 |//$FILENAME id3v2_codebank.src
                            15869 ; 1269 |#define RSRC_ID3V2_CODEBANK 493    
                            15870 ; 1270 |//$FILENAME id3v2lyrics_codebank.src
                            15871 ; 1271 |#define RSRC_ID3V2_LYRICS_CODEBANK 494    
                            15872 ; 1272 |//$FILENAME lyrics3_codebank.src
                            15873 ; 1273 |#define RSRC_LYRICS3_CODEBANK 495    
                            15874 ; 1274 |//$FILENAME lrc_codebank.src
                            15875 ; 1275 |#define RSRC_LRC_CODEBANK 496    
                            15876 ; 1276 |//$FILENAME lyrics_api_codebank.src
                            15877 ; 1277 |#define RSRC_LYRICS_API_CODEBANK 497    
                            15878 ; 1278 |//$FILENAME wmalyrics_codebank.src
                            15879 ; 1279 |#define RSRC_WMA_LYRICS_CODEBANK 498    
                            15880 ; 1280 |//$FILENAME apicframe_codebank.src
                            15881 ; 1281 |#define RSRC_APIC_FRAME_CODEBANK 499    
                            15882 ; 1282 |
                            15883 ; 1283 |//$FILENAME exmediaerror1.src
                            15884 ; 1284 |#define RSRC_EXTERNAL_MEDIA_ERROR1 500    
                            15885 ; 1285 |//$FILENAME exmediaerror2.src
                            15886 ; 1286 |#define RSRC_EXTERNAL_MEDIA_ERROR2 501    
                            15887 ; 1287 |//$FILENAME inmediaerror1.src
                            15888 ; 1288 |#define RSRC_INTERNAL_MEDIA_ERROR1 502    
                            15889 ; 1289 |
                            15890 ; 1290 |//$FILENAME backlight_title.src
                            15891 ; 1291 |#define RSRC_BACKLIGHT_TITLE 503    
                            15892 ; 1292 |//$FILENAME backlight_state_on.src
                            15893 ; 1293 |#define RSRC_BACKLIGHT_STATE_ON 504    
                            15894 ; 1294 |//$FILENAME backlight_state_off.src
                            15895 ; 1295 |#define RSRC_BACKLIGHT_STATE_OFF 505    
                            15896 ; 1296 |//$FILENAME backlightmenu.src
                            15897 ; 1297 |#define RSRC_BACKLIGHT_MENU_CODE_BANK 506    
                            15898 ; 1298 |//$FILENAME string_backlight_menu.src
                            15899 ; 1299 |#define RSRC_STRING_BACKLIGHT_MENU 507    
                            15900 ; 1300 |
                            15901 ; 1301 |//$FILENAME enc_mp3mod.src
                            15902 ; 1302 |#define RSRC_ENC_MP3_MOD_CODE 508    
                            15903 ; 1303 |//$FILENAME enc_mp3p.src
                            15904 ; 1304 |#define RSRC_ENC_MP3P_CODE 509    
                            15905 ; 1305 |//$FILENAME enc_mp3x.src
                            15906 ; 1306 |#define RSRC_ENC_MP3X_CODE 510    
                            15907 ; 1307 |//$FILENAME enc_mp3y.src
                            15908 ; 1308 |#define RSRC_ENC_MP3Y_CODE 511    
                            15909 ; 1309 |//$FILENAME mp3_implementation.src
                            15910 ; 1310 |#define RSRC_MP3_IMPLEMENTATION 512    
                            15911 ; 1311 |//$FILENAME string_mp3.src
                            15912 ; 1312 |#define RSRC_STRING_MP3 513    
                            15913 ; 1313 |//$FILENAME string_all.src
                            15914 ; 1314 |#define RSRC_STRING_ALL 514    
                            15915 ; 1315 |
                            15916 ; 1316 |//$FILENAME mediastartup.src
                            15917 ; 1317 |#define RSRC_NANDMEDIAINIT 515    
                            15918 ; 1318 |#define RSRC_NANDMEDIAALLOCATE 0
                            15919 ; 1319 |#define RSRC_NANDMEDIADISCOVERALLOCATION 0
                            15920 ; 1320 |#define RSRC_NANDMEDIAGETMEDIATABLE RSRC_NANDMEDIAINIT
                            15921 ; 1321 |#define RSRC_NANDMEDIAGETINFO RSRC_NANDMEDIAINIT
                            15922 ; 1322 |#define RSRC_NANDMEDIAERASE 0
                            15923 ; 1323 |
                            15924 ; 1324 |//$FILENAME nanddatadriveinit.src
                            15925 ; 1325 |#define RSRC_NANDDATADRIVEINIT 516    
                            15926 ; 1326 |#define RSRC_NANDDATADRIVEGETINFO RSRC_NANDDATADRIVEREADSECTOR
                            15927 ; 1327 |#define RSRC_NANDDATADRIVESETINFO 0
                            15928 ; 1328 |//$FILENAME nanddatadrivereadsector.src
                            15929 ; 1329 |#define RSRC_NANDDATADRIVEREADSECTOR 517    
                            15930 ; 1330 |#define RSRC_NANDDATADRIVEWRITESECTOR RSRC_NANDDATADRIVEREADSECTOR
                            15931 ; 1331 |#define RSRC_NANDDATADRIVEDUMBMULTIWRITESETUP 0
                            15932 ; 1332 |#define RSRC_NANDDATADRIVEDUMBMULTIWRITESECTOR 0
                            15933 ; 1333 |#define RSRC_NANDDATADRIVECACHEMULTIWRITESETUP 0
                            15934 ; 1334 |#define RSRC_NANDDATADRIVECACHEMULTIWRITESECTOR 0
                            15935 ; 1335 |#define RSRC_NANDDATADRIVEERASE 0
                            15936 ; 1336 |#define RSRC_NANDDATADRIVEFLUSH RSRC_NANDDATADRIVEREADSECTOR
                            15937 ; 1337 |
                            15938 ; 1338 |#define RSRC_NANDSYSTEMDRIVEINIT RSRC_NANDMEDIAINIT
                            15939 ; 1339 |#define RSRC_NANDSYSTEMDRIVEGETINFO RSRC_NANDMEDIAINIT
                            15940 ; 1340 |#define RSRC_NANDSYSTEMDRIVESETINFO 0
                            15941 ; 1341 |#define RSRC_NANDSYSTEMDRIVEREADSECTOR 0
                            15942 ; 1342 |#define RSRC_NANDSYSTEMDRIVEWRITESECTOR 0
                            15943 ; 1343 |#define RSRC_NANDSYSTEMDRIVEMULTIWRITESETUP 0
                            15944 ; 1344 |#define RSRC_NANDSYSTEMDRIVEMULTIWRITESECTOR 0
                            15945 ; 1345 |#define RSRC_NANDSYSTEMDRIVEERASE 0
                            15946 ; 1346 |#define RSRC_NANDSYSTEMDRIVEFLUSH 0
                            15947 ; 1347 |
                            15948 ; 1348 |//$FILENAME vbr_codebank.src
                            15949 ; 1349 |#define RSRC_VBR_CODEBANK 518    
                            15950 ; 1350 |
                            15951 ; 1351 |//$FILENAME string_recordtest_menu.src
                            15952 ; 1352 |#define RSRC_STRING_RECORDTEST_MENU 519    
                            15953 ; 1353 |//$FILENAME string_recordtest_duration.src
                            15954 ; 1354 |#define RSRC_STRING_DURATION 520    
                            15955 ; 1355 |//$FILENAME string_recordtest_time5.src
                            15956 ; 1356 |#define RSRC_STRING_TIME5 521    
                            15957 ; 1357 |//$FILENAME string_recordtest_time10.src
                            15958 ; 1358 |#define RSRC_STRING_TIME10 522    
                            15959 ; 1359 |//$FILENAME string_recordtest_time30.src
                            15960 ; 1360 |#define RSRC_STRING_TIME30 523    
                            15961 ; 1361 |//$FILENAME string_recordtest_time60.src
                            15962 ; 1362 |#define RSRC_STRING_TIME60 524    
                            15963 ; 1363 |//$FILENAME string_recordtest_time300.src
                            15964 ; 1364 |#define RSRC_STRING_TIME300 525    
                            15965 ; 1365 |//$FILENAME string_recordtest_time600.src
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page  64

M:ADDR CODE           CYCLES LINE SOURCELINE
                            15966 ; 1366 |#define RSRC_STRING_TIME600 526    
                            15967 ; 1367 |
                            15968 ; 1368 |//$FILENAME test_title.src
                            15969 ; 1369 |#define RSRC_TEST_TITLE 527    
                            15970 ; 1370 |//$FILENAME testmenu.src
                            15971 ; 1371 |#define RSRC_TEST_MENU_CODE_BANK 528    
                            15972 ; 1372 |
                            15973 ; 1373 |
                            15974 ; 1374 |//$FILENAME mmcmediastartup.src
                            15975 ; 1375 |#define RSRC_MMCDATADRIVEINIT 529    
                            15976 ; 1376 |#define RSRC_MMCMEDIAALLOCATE RSRC_MMCDATADRIVEINIT
                            15977 ; 1377 |#define RSRC_MMCMEDIADISCOVERALLOCATION RSRC_MMCDATADRIVEINIT
                            15978 ; 1378 |//$FILENAME mmcinfo.src
                            15979 ; 1379 |#define RSRC_MMCMEDIAGETINFO 530    
                            15980 ; 1380 |#define RSRC_MMCMEDIAGETMEDIATABLE RSRC_MMCMEDIAGETINFO
                            15981 ; 1381 |//$FILENAME mmcerase.src
                            15982 ; 1382 |#define RSRC_MMCMEDIAERASE 531    
                            15983 ; 1383 |
                            15984 ; 1384 |
                            15985 ; 1385 |#define RSRC_MMCDATADRIVEFLUSH RSRC_MMCDATADRIVEINIT
                            15986 ; 1386 |
                            15987 ; 1387 |//$FILENAME mmcenumerate.src
                            15988 ; 1388 |#define RSRC_MMCENUMERATE 532    
                            15989 ; 1389 |//$FILENAME mmcresetdevice.src
                            15990 ; 1390 |#define RSRC_MMC_RESETDEVICE 533    
                            15991 ; 1391 |//$FILENAME mmcprocesscsd.src
                            15992 ; 1392 |#define RSRC_MMC_PROCESSCSD 534    
                            15993 ; 1393 |//$FILENAME mmcprocesscid.src
                            15994 ; 1394 |#define RSRC_MMC_PROCESSCID 535    
                            15995 ; 1395 |//$FILENAME mmcprocesscid2.src
                            15996 ; 1396 |#define RSRC_FUNCLET_MMCPROCESSCID2 536    
                            15997 ; 1397 |//$FILENAME mmcdetectpresence.src
                            15998 ; 1398 |#define RSRC_MMC_DETECTPRESENCE 537    
                            15999 ; 1399 |//$FILENAME mmcserialnumberinit.src
                            16000 ; 1400 |#define RSRC_MMCSERIALNUMBERINIT 538    
                            16001 ; 1401 |//$FILENAME mmccheckwriteprotect.src
                            16002 ; 1402 |#define RSRC_MMC_CHECKWRITEPROTECT 539    
                            16003 ; 1403 |
                            16004 ; 1404 |//$FILENAME mmcread.src
                            16005 ; 1405 |#define RSRC_MMCDATADRIVEREADSECTOR 540    
                            16006 ; 1406 |//$FILENAME mmcmediainit.src
                            16007 ; 1407 |#define RSRC_MMCMEDIAINIT 541    
                            16008 ; 1408 |//$FILENAME mmcdatadriveinfo.src
                            16009 ; 1409 |#define RSRC_MMCDATADRIVESETINFO 542    
                            16010 ; 1410 |#define RSRC_MMCDATADRIVEGETINFO RSRC_MMCDATADRIVESETINFO
                            16011 ; 1411 |//$FILENAME mmcdatadriveerase.src
                            16012 ; 1412 |#define RSRC_MMCDATADRIVEERASE 543    
                            16013 ; 1413 |
                            16014 ; 1414 |#define RSRC_MMCDATADRIVEWRITESECTOR RSRC_MMCDATADRIVEREADSECTOR
                            16015 ; 1415 |#define RSRC_MMCDATADRIVEMULTIWRITESETUP RSRC_MMCDATADRIVEWRITESECTOR
                            16016 ; 1416 |#define RSRC_MMCDATADRIVEMULTIWRITESECTOR RSRC_MMCDATADRIVEWRITESECTOR
                            16017 ; 1417 |
                            16018 ; 1418 |
                            16019 ; 1419 |/////////////////////////////////////////////////////////////////////////////////
                            16020 ; 1420 |//  File system
                            16021 ; 1421 |/////////////////////////////////////////////////////////////////////////////////
                            16022 ; 1422 |//$FILENAME arrangefilename.src
                            16023 ; 1423 |#define RSRC_FUNCLET_ARRANGEFILENAME 544    
                            16024 ; 1424 |//$FILENAME clearcluster.src
                            16025 ; 1425 |#define RSRC_FUNCLET_CLEARCLUSTER 545    
                            16026 ; 1426 |//$FILENAME createdirectory.src
                            16027 ; 1427 |#define RSRC_FUNCLET_CREATEDIRECTORY 546    
                            16028 ; 1428 |//$FILENAME deletecontent.src
                            16029 ; 1429 |#define RSRC_FUNCLET_DELETECONTENT 547    
                            16030 ; 1430 |//$FILENAME deleterecord.src
                            16031 ; 1431 |#define RSRC_FUNCLET_DELETERECORD 548    
                            16032 ; 1432 |//$FILENAME fastopen.src
                            16033 ; 1433 |#define RSRC_FUNCLET_FASTOPEN 549    
                            16034 ; 1434 |//$FILENAME fcreate.src
                            16035 ; 1435 |#define RSRC_FUNCLET_FCREATE 550    
                            16036 ; 1436 |//$FILENAME filegetattrib.src
                            16037 ; 1437 |#define RSRC_FUNCLET_FILEGETATTRIB 551    
                            16038 ; 1438 |//$FILENAME filegetdate.src
                            16039 ; 1439 |#define RSRC_FUNCLET_FILEGETDATE 552    
                            16040 ; 1440 |//$FILENAME filesetattrib.src
                            16041 ; 1441 |#define RSRC_FUNCLET_FILESETATTRIB 553    
                            16042 ; 1442 |//$FILENAME filesetdate.src
                            16043 ; 1443 |#define RSRC_FUNCLET_FILESETDATE 554    
                            16044 ; 1444 |//$FILENAME fsinit.src
                            16045 ; 1445 |#define RSRC_FUNCLET_FSINIT 555    
                            16046 ; 1446 |//$FILENAME fsshutdown.src
                            16047 ; 1447 |#define RSRC_FUNCLET_FSSHUTDOWN 556    
                            16048 ; 1448 |//$FILENAME readdevicerecord.src
                            16049 ; 1449 |#define RSRC_FUNCLET_READDEVICERECORD 557    
                            16050 ; 1450 |//$FILENAME checkspaceinrootdir.src
                            16051 ; 1451 |#define RSRC_FUNCLET_CHECKSPACEINROOTDIR 558    
                            16052 ; 1452 |//$FILENAME setcwdhandle.src
                            16053 ; 1453 |#define RSRC_FUNCLET_SETCWDHANDLE 559    
                            16054 ; 1454 |//$FILENAME fsdriveinit.src
                            16055 ; 1455 |#define RSRC_FUNCLET_FSDRIVEINIT 560    
                            16056 ; 1456 |//$FILENAME fsclearBuf.src
                            16057 ; 1457 |#define RSRC_FUNCLET_FSCLEARDRIVEBUF 561    
                            16058 ; 1458 |//RSRC_FUNCLET_TOTALFREECLUSTER    equ      328    ;$FILENAME totalfreecluster.src
                            16059 ; 1459 |//RSRC_FUNCLET_TOTALFREECLUSTERFAT16    equ      328    ;$FILENAME totalfreeclusterfat16.src
                            16060 ; 1460 |//$FILENAME fgetfasthandle.src
                            16061 ; 1461 |#define RSRC_FUNCLET_FGETFASTHANDLE 562    
                            16062 ; 1462 |//$FILENAME ishandlewriteallocated.src
                            16063 ; 1463 |#define RSRC_FUNCLET_ISHANDLEWRITEALLOCATED 563    
                            16064 ; 1464 |//$FILENAME isfileopen.src
                            16065 ; 1465 |#define RSRC_FUNCLET_ISFILEOPEN 564    
                            16066 ; 1466 |//$FILENAME iscurrworkdir.src
                            16067 ; 1467 |#define RSRC_FUNCLET_ISCURRWORKDIR 565    
                            16068 ; 1468 |//$FILENAME chdir.src
                            16069 ; 1469 |#define RSRC_FUNCLET_CHDIR 566    
                            16070 ; 1470 |//$FILENAME chdirFromOffset.src
                            16071 ; 1471 |#define RSRC_FUNCLET_CHDIR_FROM_OFFSET 567    
                            16072 ; 1472 |//$FILENAME deletetree.src
                            16073 ; 1473 |#define RSRC_FUNCLET_DELETETREE 568    
                            16074 ; 1474 |//$FILENAME deleteallrecords.src
                            16075 ; 1475 |#define RSRC_FUNCLET_DELETEALLRECORDS 569    
                            16076 ; 1476 |//$FILENAME cleardata.src
                            16077 ; 1477 |#define RSRC_FUNCLET_CLEARDATA 570    
                            16078 ; 1478 |//$FILENAME changetolowleveldir.src
                            16079 ; 1479 |#define RSRC_FUNCLET_CHANGETOLOWLEVELDIR 571    
                            16080 ; 1480 |//$FILENAME getrecordnumber.src
                            16081 ; 1481 |#define RSRC_FUNCLET_GETRECORDNUMBER 572    
                            16082 ; 1482 |//$FILENAME fileremove.src
                            16083 ; 1483 |#define RSRC_FUNCLET_FILEREMOVE 573    
                            16084 ; 1484 |//$FILENAME charactersearch.src
                            16085 ; 1485 |#define RSRC_FUNCLET_CHARACTERSEARCH 574    
                            16086 ; 1486 |//$FILENAME stringcompare.src
                            16087 ; 1487 |#define RSRC_FUNCLET_STRINGCOMPARE 575    
                            16088 ; 1488 |//$FILENAME fopenw.src
                            16089 ; 1489 |#define RSRC_FUNCLET_FOPENW 576    
                            16090 ; 1490 |//$FILENAME fremove.src
                            16091 ; 1491 |#define RSRC_FUNCLET_FREMOVE 577    
                            16092 ; 1492 |//$FILENAME fremovew.src
                            16093 ; 1493 |#define RSRC_FUNCLET_FREMOVEW 578    
                            16094 ; 1494 |//$FILENAME mkdir.src
                            16095 ; 1495 |#define RSRC_FUNCLET_MKDIR 579    
                            16096 ; 1496 |//$FILENAME mkdirw.src
                            16097 ; 1497 |#define RSRC_FUNCLET_MKDIRW 580    
                            16098 ; 1498 |//$FILENAME rmdir.src
                            16099 ; 1499 |#define RSRC_FUNCLET_RMDIR 581    
                            16100 ; 1500 |//$FILENAME rmdirw.src
                            16101 ; 1501 |#define RSRC_FUNCLET_RMDIRW 582    
                            16102 ; 1502 |//$FILENAME fgetc.src
                            16103 ; 1503 |#define RSRC_FUNCLET_FGETC 583    
                            16104 ; 1504 |//$FILENAME fgets.src
                            16105 ; 1505 |#define RSRC_FUNCLET_FGETS 584    
                            16106 ; 1506 |//$FILENAME fputc.src
                            16107 ; 1507 |#define RSRC_FUNCLET_FPUTC 585    
                            16108 ; 1508 |//$FILENAME fputs.src
                            16109 ; 1509 |#define RSRC_FUNCLET_FPUTS 586    
                            16110 ; 1510 |//$FILENAME arrangelongfilename.src
                            16111 ; 1511 |#define RSRC_FUNCLET_ARRANGELONGFILENAME 587    
                            16112 ; 1512 |//$FILENAME convert_itoa.src
                            16113 ; 1513 |#define RSRC_FUNCLET_CONVERT_ITOA 588    
                            16114 ; 1514 |//$FILENAME createdirrecord.src
                            16115 ; 1515 |#define RSRC_FUNCLET_CREATEDIRRECORD 589    
                            16116 ; 1516 |//$FILENAME chksum.src
                            16117 ; 1517 |#define RSRC_FUNCLET_CHKSUM 590    
                            16118 ; 1518 |//$FILENAME createshortdirrecord.src
                            16119 ; 1519 |#define RSRC_FUNCLET_CREATESHORTDIRRECORD 591    
                            16120 ; 1520 |//$FILENAME discardtrailigperiodsucs3.src
                            16121 ; 1521 |#define RSRC_FUNCLET_DISCARDTRAILIGPERIODSUCS3 592    
                            16122 ; 1522 |//$FILENAME discardtrailigperiodsw.src
                            16123 ; 1523 |#define RSRC_FUNCLET_DISCARDTRAILIGPERIODSW 593    
                            16124 ; 1524 |//$FILENAME extractfilenamew.src
                            16125 ; 1525 |#define RSRC_FUNCLET_EXTRACTFILENAMEW 594    
                            16126 ; 1526 |//$FILENAME extractpathw.src
                            16127 ; 1527 |#define RSRC_FUNCLET_EXTRACTPATHW 595    
                            16128 ; 1528 |//$FILENAME findfreerecord.src
                            16129 ; 1529 |#define RSRC_FUNCLET_FINDFREERECORD 596    
                            16130 ; 1530 |//$FILENAME getnamew.src
                            16131 ; 1531 |#define RSRC_FUNCLET_GETNAMEW 597    
                            16132 ; 1532 |//$FILENAME isdirectoryempty.src
                            16133 ; 1533 |#define RSRC_FUNCLET_ISDIRECTORYEMPTY 598    
                            16134 ; 1534 |//$FILENAME isshortnamevalid.src
                            16135 ; 1535 |#define RSRC_FUNCLET_ISSHORTNAMEVALID 599    
                            16136 ; 1536 |//$FILENAME longdirmatch.src
                            16137 ; 1537 |#define RSRC_FUNCLET_LONGDIRMATCH 600    
                            16138 ; 1538 |//$FILENAME unicodetooem.src
                            16139 ; 1539 |#define RSRC_FUNCLET_UNICODETOOEM 601    
                            16140 ; 1540 |//$FILENAME matchdirrecordw.src
                            16141 ; 1541 |#define RSRC_FUNCLET_MATCHDIRRECORDW 602    
                            16142 ; 1542 |//$FILENAME setcwd.src
                            16143 ; 1543 |#define RSRC_FUNCLET_SETCWD 603    
                            16144 ; 1544 |//$FILENAME setshortfilename.src
                            16145 ; 1545 |#define RSRC_FUNCLET_SETSHORTFILENAME 604    
                            16146 ; 1546 |//$FILENAME generatefilenametail.src
                            16147 ; 1547 |#define RSRC_FUNCLET_GENERATEFILENAMETAIL 605    
                            16148 ; 1548 |//$FILENAME dbcstounicode.src
                            16149 ; 1549 |#define RSRC_FUNCLET_DBCSTOUNICODE 606    
                            16150 ; 1550 |//$FILENAME strcpy.src
                            16151 ; 1551 |#define RSRC_FUNCLET_STRCPY 607    
                            16152 ; 1552 |//$FILENAME strcpyw.src
                            16153 ; 1553 |#define RSRC_FUNCLET_STRCPYW 608    
                            16154 ; 1554 |//$FILENAME strlengthw.src
                            16155 ; 1555 |#define RSRC_FUNCLET_STRLENGTHW 609    
                            16156 ; 1556 |//$FILENAME filesystempresent.src
                            16157 ; 1557 |#define RSRC_FUNCLET_FILESYSTEMPRESENT 610    
                            16158 ; 1558 |//$FILENAME DataDriveInit.src
                            16159 ; 1559 |#define RSRC_FUNCLET_DATADRIVEINIT 611    
                            16160 ; 1560 |//$FILENAME FSGetDataDrivePbsLocation.src
                            16161 ; 1561 |#define RSRC_FUNCLET_FSGETDATADRIVEPBSLOCATION 612    
                            16162 ; 1562 |//$FILENAME FSPartitionEntryCopy.src
                            16163 ; 1563 |#define RSRC_FUNCLET_FSPARTITIONENTRYCOPYFSDD 613    
                            16164 ; 1564 |//$FILENAME DataDriveGetSize.src
                            16165 ; 1565 |#define RSRC_FUNCLET_DATADRIVEGETSIZE 614    
                            16166 ; 1566 |//$FILENAME ConstructLongFileName.src
                            16167 ; 1567 |#define RSRC_FUNCLET_CONSTRUCTLONGFILENAME 615    
                            16168 ; 1568 |//$FILENAME strcpyucs3_2.src
                            16169 ; 1569 |#define RSRC_FUNCLET_STRCPYUCS3_2 616    
                            16170 ; 1570 |//$FILENAME getvolumelabel.src
                            16171 ; 1571 |#define RSRC_FUNCLET_GETVOLUMELABEL 617    
                            16172 ; 1572 |//$FILENAME setvolumelabel.src
                            16173 ; 1573 |#define RSRC_FUNCLET_SETVOLUMELABEL 618    
                            16174 ; 1574 |//$FILENAME disk_full.src
                            16175 ; 1575 |#define RSRC_DISK_FULL 619    
                            16176 ; 1576 |//$FILENAME chkdskstartup.src
                            16177 ; 1577 |#define RSRC_CHECKDISK 620    
                            16178 ; 1578 |//$FILENAME chkdskstartupy.src
                            16179 ; 1579 |#define RSRC_CHKDSK_YMEM 621    
                            16180 ; 1580 |//$FILENAME low_level_pwr_line1.src
                            16181 ; 1581 |#define RSRC_LOW_PWR_EXT_DEV_LINE1 622    
                            16182 ; 1582 |//$FILENAME low_level_pwr_line2.src
                            16183 ; 1583 |#define RSRC_LOW_PWR_EXT_DEV_LINE2 623    
                            16184 ; 1584 |//$FILENAME string_bit_rate.src
                            16185 ; 1585 |#define RSRC_STRING_BIT_RATE 624    
                            16186 ; 1586 |//$FILENAME string_96000hz.src
                            16187 ; 1587 |#define RSRC_STRING_96KBPS 625    
                            16188 ; 1588 |//$FILENAME string_112000hz.src
                            16189 ; 1589 |#define RSRC_STRING_112KBPS 626    
                            16190 ; 1590 |//$FILENAME string_128000hz.src
                            16191 ; 1591 |#define RSRC_STRING_128KBPS 627    
                            16192 ; 1592 |//$FILENAME string_160000hz.src
                            16193 ; 1593 |#define RSRC_STRING_160KBPS 628    
                            16194 ; 1594 |//$FILENAME string_192000hz.src
                            16195 ; 1595 |#define RSRC_STRING_192KBPS 629    
                            16196 ; 1596 |//$FILENAME string_224000hz.src
                            16197 ; 1597 |#define RSRC_STRING_224KBPS 630    
                            16198 ; 1598 |//$FILENAME string_256000hz.src
                            16199 ; 1599 |#define RSRC_STRING_256KBPS 631    
                            16200 ; 1600 |//$FILENAME string_320000hz.src
                            16201 ; 1601 |#define RSRC_STRING_320KBPS 632    
                            16202 ; 1602 |//$FILENAME string_hz.src
                            16203 ; 1603 |#define RSRC_STRING_HZ 633    
                            16204 ; 1604 |//$FILENAME EncCommonp.src
                            16205 ; 1605 |#define RSRC_ENCODERCOMMON_P_CODE 634    
                            16206 ; 1606 |//$FILENAME adc_adcx.src
                            16207 ; 1607 |#define RSRC_ADC_ADCX_CODE 635    
                            16208 ; 1608 |//$FILENAME adc_adcy.src
                            16209 ; 1609 |#define RSRC_ADC_ADCY_CODE 636    
                            16210 ; 1610 |//$FILENAME Funclet_encodercommon.src
                            16211 ; 1611 |#define RSRC_FUNCLET_LOADENCODERCOMMON 637    
                            16212 ; 1612 |//$FILENAME string_album.src
                            16213 ; 1613 |#define RSRC_STRING_ALBUM 638    
                            16214 ; 1614 |//$FILENAME string_encoder_song.src
                            16215 ; 1615 |#define RSRC_STRING_SONG 639    
                            16216 ; 1616 |//$FILENAME string_mode.src
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page  65

M:ADDR CODE           CYCLES LINE SOURCELINE
                            16217 ; 1617 |#define RSRC_STRING_MODE 640    
                            16218 ; 1618 |
                            16219 ; 1619 |//////////////////////////////////////////////////////////////////////////////////
                            16220 ; 1620 |// display related
                            16221 ; 1621 |//////////////////////////////////////////////////////////////////////////////////
                            16222 ; 1622 |//$FILENAME Funclet_HalDisplayInit.src
                            16223 ; 1623 |#define RSRC_FUNCLET_HAL_DISPLAY_INIT 641    
                            16224 ; 1624 |//$FILENAME Funclet_SalDisplayInit.src
                            16225 ; 1625 |#define RSRC_FUNCLET_SAL_DISPLAY_INIT 642    
                            16226 ; 1626 |//$FILENAME Funclet_SalHandleMessage.src
                            16227 ; 1627 |#define RSRC_FUNCLET_SAL_HANDLE_MSG 643    
                            16228 ; 1628 |//$FILENAME Funclet_FixBitmapHeader.src
                            16229 ; 1629 |#define RSRC_FUNCLET_FIXBITMAPHEADER 644    
                            16230 ; 1630 |//$FILENAME Funclet_BitmapReadHeader.src
                            16231 ; 1631 |#define RSRC_FUNCLET_BITMAPREADHEADER 645    
                            16232 ; 1632 |//$FILENAME Funclet_BitmapReadPalette.src
                            16233 ; 1633 |#define RSRC_FUNCLET_BITMAPREADPALETTE 646    
                            16234 ; 1634 |//$FILENAME Funclet_BitmapReadBitMask.src
                            16235 ; 1635 |#define RSRC_FUNCLET_BITMAPREADBITMASK 647    
                            16236 ; 1636 |//$FILENAME Funclet_BitmapPrintNonPalette.src
                            16237 ; 1637 |#define RSRC_FUNCLET_BITMAPPRINTNONPALETTE 648    
                            16238 ; 1638 |//$FILENAME Funclet_BitmapPrintPalette.src
                            16239 ; 1639 |#define RSRC_FUNCLET_BITMAPPRINTPALETTE 649    
                            16240 ; 1640 |//$FILENAME Funclet_DisplayPrintBitmapFile.src
                            16241 ; 1641 |#define RSRC_FUNCLET_DISPLAYPRINTBITMAPFILE 650    
                            16242 ; 1642 |//$FILENAME Funclet_DisplayPrintBitmapResource.src
                            16243 ; 1643 |#define RSRC_FUNCLET_DISPLAYPRINTBITMAPRESOURCE 651    
                            16244 ; 1644 |
                            16245 ; 1645 |//////////////////////////////////////////////////////////////////////////////////
                            16246 ; 1646 |//WMDRM Related
                            16247 ; 1647 |//////////////////////////////////////////////////////////////////////////////////
                            16248 ; 1648 |//$FILENAME legacy_decryptcontentkey.src
                            16249 ; 1649 |#define RSRC_FUNCLET_LEGACY_DECRYPTCONTENTKEY 652    
                            16250 ; 1650 |//$FILENAME drm_bbx_legacycipherkeysetup.src
                            16251 ; 1651 |#define RSRC_FUNCLET_DRM_BBX_LEGACYCIPHERKEYSETUP 653    
                            16252 ; 1652 |//$FILENAME drm_bbx_initialize.src
                            16253 ; 1653 |#define RSRC_FUNCLET_DRM_BBX_INITIALIZE 654    
                            16254 ; 1654 |//$FILENAME drm_bbx_canbind.src
                            16255 ; 1655 |#define RSRC_FUNCLET_DRM_BBX_CANBIND 655    
                            16256 ; 1656 |//$FILENAME verifychecksum.src
                            16257 ; 1657 |#define RSRC_FUNCLET_VERIFYCHECKSUM 656    
                            16258 ; 1658 |//$FILENAME drm_b64_encodew.src
                            16259 ; 1659 |#define RSRC_FUNCLET_DRM_B64_ENCODEW 657    
                            16260 ; 1660 |//$FILENAME _performactions.src
                            16261 ; 1661 |#define RSRC_FUNCLET__PERFORMACTIONS 658    
                            16262 ; 1662 |//$FILENAME _processendofchain.src
                            16263 ; 1663 |#define RSRC_FUNCLET__PROCESSENDOFCHAIN 659    
                            16264 ; 1664 |//$FILENAME drmcrt_iswxdigit.src
                            16265 ; 1665 |#define RSRC_FUNCLET_DRMCRT_ISWXDIGIT 660    
                            16266 ; 1666 |//$FILENAME drmcrt_towlower.src
                            16267 ; 1667 |#define RSRC_FUNCLET_DRMCRT_TOWLOWER 661    
                            16268 ; 1668 |//$FILENAME drmcrt_wcslen.src
                            16269 ; 1669 |#define RSRC_FUNCLET_DRMCRT_WCSLEN 662    
                            16270 ; 1670 |//$FILENAME drmcrt_wcsncpy.src
                            16271 ; 1671 |#define RSRC_FUNCLET_DRMCRT_WCSNCPY 663    
                            16272 ; 1672 |//$FILENAME drmcrt_memmove.src
                            16273 ; 1673 |#define RSRC_FUNCLET_DRMCRT_MEMMOVE 664    
                            16274 ; 1674 |//$FILENAME performoperation_part1.src
                            16275 ; 1675 |#define RSRC_FUNCLET_PERFORMOPERATION_PART1 665    
                            16276 ; 1676 |//$FILENAME performoperation_part2.src
                            16277 ; 1677 |#define RSRC_FUNCLET_PERFORMOPERATION_PART2 666    
                            16278 ; 1678 |//$FILENAME performoperation_part3.src
                            16279 ; 1679 |#define RSRC_FUNCLET_PERFORMOPERATION_PART3 667    
                            16280 ; 1680 |//$FILENAME performoperation_part4.src
                            16281 ; 1681 |#define RSRC_FUNCLET_PERFORMOPERATION_PART4 668    
                            16282 ; 1682 |//$FILENAME performoperation_part5.src
                            16283 ; 1683 |#define RSRC_FUNCLET_PERFORMOPERATION_PART5 669    
                            16284 ; 1684 |//$FILENAME performoperation_part6.src
                            16285 ; 1685 |#define RSRC_FUNCLET_PERFORMOPERATION_PART6 670    
                            16286 ; 1686 |//$FILENAME isvalidfunction.src
                            16287 ; 1687 |#define RSRC_FUNCLET_ISVALIDFUNCTION 671    
                            16288 ; 1688 |//$FILENAME functiongetvalue.src
                            16289 ; 1689 |#define RSRC_FUNCLET_FUNCTIONGETVALUE 672    
                            16290 ; 1690 |//$FILENAME globalsetvariable.src
                            16291 ; 1691 |#define RSRC_FUNCLET_GLOBALSETVARIABLE 673    
                            16292 ; 1692 |//$FILENAME variabledrmkgetorset.src
                            16293 ; 1693 |#define RSRC_FUNCLET_VARIABLEDRMKGETORSET 674    
                            16294 ; 1694 |//$FILENAME variabledrmgetorset.src
                            16295 ; 1695 |#define RSRC_FUNCLET_VARIABLEDRMGETORSET 675    
                            16296 ; 1696 |//$FILENAME variableappgetorset.src
                            16297 ; 1697 |#define RSRC_FUNCLET_VARIABLEAPPGETORSET 676    
                            16298 ; 1698 |//$FILENAME variablelicensegetorset.src
                            16299 ; 1699 |#define RSRC_FUNCLET_VARIABLELICENSEGETORSET 677    
                            16300 ; 1700 |//$FILENAME variablecontentgetorset.src
                            16301 ; 1701 |#define RSRC_FUNCLET_VARIABLECONTENTGETORSET 678    
                            16302 ; 1702 |//$FILENAME variabledevicegetorset.src
                            16303 ; 1703 |#define RSRC_FUNCLET_VARIABLEDEVICEGETORSET 679    
                            16304 ; 1704 |//$FILENAME variablepmlicensegetorset.src
                            16305 ; 1705 |#define RSRC_FUNCLET_VARIABLEPMLICENSEGETORSET 680    
                            16306 ; 1706 |//$FILENAME drm_hds_createstore.src
                            16307 ; 1707 |#define RSRC_FUNCLET_DRM_HDS_CREATESTORE 681    
                            16308 ; 1708 |//$FILENAME drm_hds_init.src
                            16309 ; 1709 |#define RSRC_FUNCLET_DRM_HDS_INIT 682    
                            16310 ; 1710 |//$FILENAME drm_hds_uninit.src
                            16311 ; 1711 |#define RSRC_FUNCLET_DRM_HDS_UNINIT 683    
                            16312 ; 1712 |//$FILENAME drm_hds_openstore.src
                            16313 ; 1713 |#define RSRC_FUNCLET_DRM_HDS_OPENSTORE 684    
                            16314 ; 1714 |//$FILENAME drm_hds_deleteslot.src
                            16315 ; 1715 |#define RSRC_FUNCLET_DRM_HDS_DELETESLOT 685    
                            16316 ; 1716 |//$FILENAME drm_hds_slotresize.src
                            16317 ; 1717 |#define RSRC_FUNCLET_DRM_HDS_SLOTRESIZE 686    
                            16318 ; 1718 |//$FILENAME drm_hds_initslotenum.src
                            16319 ; 1719 |#define RSRC_FUNCLET_DRM_HDS_INITSLOTENUM 687    
                            16320 ; 1720 |//$FILENAME drm_hds_cleanupstore.src
                            16321 ; 1721 |#define RSRC_FUNCLET_DRM_HDS_CLEANUPSTORE 688    
                            16322 ; 1722 |//$FILENAME _hdscopyslot_child2child.src
                            16323 ; 1723 |#define RSRC_FUNCLET__HDSCOPYSLOT_CHILD2CHILD 689    
                            16324 ; 1724 |//$FILENAME _hdscopychildpayload.src
                            16325 ; 1725 |#define RSRC_FUNCLET__HDSCOPYCHILDPAYLOAD 690    
                            16326 ; 1726 |//$FILENAME _hdsdefragmentfile.src
                            16327 ; 1727 |#define RSRC_FUNCLET__HDSDEFRAGMENTFILE 691    
                            16328 ; 1728 |//$FILENAME _hdscleanupnamespace.src
                            16329 ; 1729 |#define RSRC_FUNCLET__HDSCLEANUPNAMESPACE 692    
                            16330 ; 1730 |//$FILENAME _hdscleanupstore.src
                            16331 ; 1731 |#define RSRC_FUNCLET__HDSCLEANUPSTORE 693    
                            16332 ; 1732 |//$FILENAME drm_lst_clean.src
                            16333 ; 1733 |#define RSRC_FUNCLET_DRM_LST_CLEAN 694    
                            16334 ; 1734 |//$FILENAME _hdslocatefreeblockforslot.src
                            16335 ; 1735 |#define RSRC_FUNCLET__HDSLOCATEFREEBLOCKFORSLOT 695    
                            16336 ; 1736 |//$FILENAME _hdslockblock2deleteslot.src
                            16337 ; 1737 |#define RSRC_FUNCLET__HDSLOCKBLOCK2DELETESLOT 696    
                            16338 ; 1738 |//$FILENAME _hdsunlockblock2deleteslot.src
                            16339 ; 1739 |#define RSRC_FUNCLET__HDSUNLOCKBLOCK2DELETESLOT 697    
                            16340 ; 1740 |//$FILENAME _hdscreatenamespace.src
                            16341 ; 1741 |#define RSRC_FUNCLET__HDSCREATENAMESPACE 698    
                            16342 ; 1742 |//$FILENAME _hdsfilepos2blocknum.src
                            16343 ; 1743 |#define RSRC_FUNCLET__HDSFILEPOS2BLOCKNUM 699    
                            16344 ; 1744 |//$FILENAME _writesrn.src
                            16345 ; 1745 |#define RSRC_FUNCLET__WRITESRN 700    
                            16346 ; 1746 |//$FILENAME _writecommonblockheader.src
                            16347 ; 1747 |#define RSRC_FUNCLET__WRITECOMMONBLOCKHEADER 701    
                            16348 ; 1748 |//$FILENAME _writechildblockheader.src
                            16349 ; 1749 |#define RSRC_FUNCLET__WRITECHILDBLOCKHEADER 702    
                            16350 ; 1750 |//$FILENAME _readdatablockheader.src
                            16351 ; 1751 |#define RSRC_FUNCLET__READDATABLOCKHEADER 703    
                            16352 ; 1752 |//$FILENAME _writedatablockheader.src
                            16353 ; 1753 |#define RSRC_FUNCLET__WRITEDATABLOCKHEADER 704    
                            16354 ; 1754 |//$FILENAME _hdsexpandstore.src
                            16355 ; 1755 |#define RSRC_FUNCLET__HDSEXPANDSTORE 705    
                            16356 ; 1756 |//$FILENAME _hdsallocblock.src
                            16357 ; 1757 |#define RSRC_FUNCLET__HDSALLOCBLOCK 706    
                            16358 ; 1758 |//$FILENAME _hdsfreeblock.src
                            16359 ; 1759 |#define RSRC_FUNCLET__HDSFREEBLOCK 707    
                            16360 ; 1760 |//$FILENAME _hdscreateoversizedslot.src
                            16361 ; 1761 |#define RSRC_FUNCLET__HDSCREATEOVERSIZEDSLOT 708    
                            16362 ; 1762 |//$FILENAME _hdsallocslotinfile.src
                            16363 ; 1763 |#define RSRC_FUNCLET__HDSALLOCSLOTINFILE 709    
                            16364 ; 1764 |//$FILENAME _hdswriteblockhdr.src
                            16365 ; 1765 |#define RSRC_FUNCLET__HDSWRITEBLOCKHDR 710    
                            16366 ; 1766 |//$FILENAME _hdsadjustchildpayload.src
                            16367 ; 1767 |#define RSRC_FUNCLET__HDSADJUSTCHILDPAYLOAD 711    
                            16368 ; 1768 |//$FILENAME _hdsfindleftmostleafblock.src
                            16369 ; 1769 |#define RSRC_FUNCLET__HDSFINDLEFTMOSTLEAFBLOCK 712    
                            16370 ; 1770 |//$FILENAME _hdscreateandopenslot.src
                            16371 ; 1771 |#define RSRC_FUNCLET__HDSCREATEANDOPENSLOT 713    
                            16372 ; 1772 |//$FILENAME _hdsremoveslot.src
                            16373 ; 1773 |#define RSRC_FUNCLET__HDSREMOVESLOT 714    
                            16374 ; 1774 |//$FILENAME _hdscopyandlocknewslot.src
                            16375 ; 1775 |#define RSRC_FUNCLET__HDSCOPYANDLOCKNEWSLOT 715    
                            16376 ; 1776 |//$FILENAME _hdsrelocateslotandkeepcurrlock.src
                            16377 ; 1777 |#define RSRC_FUNCLET__HDSRELOCATESLOTANDKEEPCURRLOCK 716    
                            16378 ; 1778 |//$FILENAME _hdstraversenextrightsiblingblock.src
                            16379 ; 1779 |#define RSRC_FUNCLET__HDSTRAVERSENEXTRIGHTSIBLINGBLOCK 717    
                            16380 ; 1780 |//$FILENAME _hdstraverseblocksinpostorder.src
                            16381 ; 1781 |#define RSRC_FUNCLET__HDSTRAVERSEBLOCKSINPOSTORDER 718    
                            16382 ; 1782 |//$FILENAME _hdsslotresize.src
                            16383 ; 1783 |#define RSRC_FUNCLET__HDSSLOTRESIZE 719    
                            16384 ; 1784 |//$FILENAME _isnull.src
                            16385 ; 1785 |#define RSRC_FUNCLET__ISNULL 720    
                            16386 ; 1786 |//$FILENAME _hdsgensrnhash.src
                            16387 ; 1787 |#define RSRC_FUNCLET__HDSGENSRNHASH 721    
                            16388 ; 1788 |//$FILENAME _hdsallocblockbuffer.src
                            16389 ; 1789 |#define RSRC_FUNCLET__HDSALLOCBLOCKBUFFER 722    
                            16390 ; 1790 |//$FILENAME _readsrn.src
                            16391 ; 1791 |#define RSRC_FUNCLET__READSRN 723    
                            16392 ; 1792 |//$FILENAME _hdsgetputchildblocknum.src
                            16393 ; 1793 |#define RSRC_FUNCLET__HDSGETPUTCHILDBLOCKNUM 724    
                            16394 ; 1794 |//$FILENAME _hdshashkeytoindex.src
                            16395 ; 1795 |#define RSRC_FUNCLET__HDSHASHKEYTOINDEX 725    
                            16396 ; 1796 |//$FILENAME _hdsslotwrite.src
                            16397 ; 1797 |#define RSRC_FUNCLET__HDSSLOTWRITE 726    
                            16398 ; 1798 |//$FILENAME _hdsinitslotenum.src
                            16399 ; 1799 |#define RSRC_FUNCLET__HDSINITSLOTENUM 727    
                            16400 ; 1800 |//$FILENAME drm_lst_close.src
                            16401 ; 1801 |#define RSRC_FUNCLET_DRM_LST_CLOSE 728    
                            16402 ; 1802 |//$FILENAME drm_lst_enumnext.src
                            16403 ; 1803 |#define RSRC_FUNCLET_DRM_LST_ENUMNEXT 729    
                            16404 ; 1804 |//$FILENAME drm_lst_enumdelete.src
                            16405 ; 1805 |#define RSRC_FUNCLET_DRM_LST_ENUMDELETE 730    
                            16406 ; 1806 |//$FILENAME _processextensions.src
                            16407 ; 1807 |#define RSRC_FUNCLET__PROCESSEXTENSIONS 731    
                            16408 ; 1808 |//$FILENAME _processidlist.src
                            16409 ; 1809 |#define RSRC_FUNCLET__PROCESSIDLIST 732    
                            16410 ; 1810 |//$FILENAME _processexclusions.src
                            16411 ; 1811 |#define RSRC_FUNCLET__PROCESSEXCLUSIONS 733    
                            16412 ; 1812 |//$FILENAME _processinclusions.src
                            16413 ; 1813 |#define RSRC_FUNCLET__PROCESSINCLUSIONS 734    
                            16414 ; 1814 |//$FILENAME drm_opl_processcopyoutputleveldata.src
                            16415 ; 1815 |#define RSRC_FUNCLET_DRM_OPL_PROCESSCOPYOUTPUTLEVELDATA 735    
                            16416 ; 1816 |//$FILENAME _getopllevel.src
                            16417 ; 1817 |#define RSRC_FUNCLET__GETOPLLEVEL 736    
                            16418 ; 1818 |//$FILENAME drm_opl_processplayoutputleveldata.src
                            16419 ; 1819 |#define RSRC_FUNCLET_DRM_OPL_PROCESSPLAYOUTPUTLEVELDATA 737    
                            16420 ; 1820 |//$FILENAME _updateattributetokeninslot.src
                            16421 ; 1821 |#define RSRC_FUNCLET__UPDATEATTRIBUTETOKENINSLOT 738    
                            16422 ; 1822 |//$FILENAME drm_sst_settokenvalue.src
                            16423 ; 1823 |#define RSRC_FUNCLET_DRM_SST_SETTOKENVALUE 739    
                            16424 ; 1824 |//$FILENAME drm_sst_createlicensestatepassword.src
                            16425 ; 1825 |#define RSRC_FUNCLET_DRM_SST_CREATELICENSESTATEPASSWORD 740    
                            16426 ; 1826 |//$FILENAME drm_utl_promoteansitounicode.src
                            16427 ; 1827 |#define RSRC_FUNCLET_DRM_UTL_PROMOTEANSITOUNICODE 741    
                            16428 ; 1828 |//$FILENAME drm_pk_symmetricsign.src
                            16429 ; 1829 |#define RSRC_FUNCLET_DRM_PK_SYMMETRICSIGN 742    
                            16430 ; 1830 |//$FILENAME drm_utl_getversionfromstring.src
                            16431 ; 1831 |#define RSRC_FUNCLET_DRM_UTL_GETVERSIONFROMSTRING 743    
                            16432 ; 1832 |//$FILENAME drm_utl_stringinsertblanksubstring.src
                            16433 ; 1833 |#define RSRC_FUNCLET_DRM_UTL_STRINGINSERTBLANKSUBSTRING 744    
                            16434 ; 1834 |//$FILENAME drm_utl_stringremovesubstring.src
                            16435 ; 1835 |#define RSRC_FUNCLET_DRM_UTL_STRINGREMOVESUBSTRING 745    
                            16436 ; 1836 |//$FILENAME drm_utl_dstrsearch.src
                            16437 ; 1837 |#define RSRC_FUNCLET_DRM_UTL_DSTRSEARCH 746    
                            16438 ; 1838 |//$FILENAME drm_utl_dstrsearchreverse.src
                            16439 ; 1839 |#define RSRC_FUNCLET_DRM_UTL_DSTRSEARCHREVERSE 747    
                            16440 ; 1840 |//$FILENAME drm_utl_stringtoguid.src
                            16441 ; 1841 |#define RSRC_FUNCLET_DRM_UTL_STRINGTOGUID 748    
                            16442 ; 1842 |//$FILENAME drm_utl_ensuredataalignment.src
                            16443 ; 1843 |#define RSRC_FUNCLET_DRM_UTL_ENSUREDATAALIGNMENT 749    
                            16444 ; 1844 |//$FILENAME overlappingdates.src
                            16445 ; 1845 |#define RSRC_FUNCLET_OVERLAPPINGDATES 750    
                            16446 ; 1846 |//$FILENAME drm_asd_parsev2license.src
                            16447 ; 1847 |#define RSRC_FUNCLET_DRM_ASD_PARSEV2LICENSE 751    
                            16448 ; 1848 |//$FILENAME neginfdate.src
                            16449 ; 1849 |#define RSRC_FUNCLET_NEGINFDATE 752    
                            16450 ; 1850 |//$FILENAME infdate.src
                            16451 ; 1851 |#define RSRC_FUNCLET_INFDATE 753    
                            16452 ; 1852 |//$FILENAME isexpired.src
                            16453 ; 1853 |#define RSRC_FUNCLET_ISEXPIRED 754    
                            16454 ; 1854 |//$FILENAME getsecstateattr.src
                            16455 ; 1855 |#define RSRC_FUNCLET_GETSECSTATEATTR 755    
                            16456 ; 1856 |//$FILENAME setexpirycategory.src
                            16457 ; 1857 |#define RSRC_FUNCLET_SETEXPIRYCATEGORY 756    
                            16458 ; 1858 |//$FILENAME getv2licenseinfo.src
                            16459 ; 1859 |#define RSRC_FUNCLET_GETV2LICENSEINFO 757    
                            16460 ; 1860 |//$FILENAME getnextlicense.src
                            16461 ; 1861 |#define RSRC_FUNCLET_GETNEXTLICENSE 758    
                            16462 ; 1862 |//$FILENAME aggregate.src
                            16463 ; 1863 |#define RSRC_FUNCLET_AGGREGATE 759    
                            16464 ; 1864 |//$FILENAME drm_asd_getlicenseaggregatedata.src
                            16465 ; 1865 |#define RSRC_FUNCLET_DRM_ASD_GETLICENSEAGGREGATEDATA 760    
                            16466 ; 1866 |//$FILENAME _scannodeforattributew.src
                            16467 ; 1867 |#define RSRC_FUNCLET__SCANNODEFORATTRIBUTEW 761    
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page  66

M:ADDR CODE           CYCLES LINE SOURCELINE
                            16468 ; 1868 |//$FILENAME _getxmlnodecdataw.src
                            16469 ; 1869 |#define RSRC_FUNCLET__GETXMLNODECDATAW 762    
                            16470 ; 1870 |//$FILENAME drm_ddc_getdevicecertificate.src
                            16471 ; 1871 |#define RSRC_FUNCLET_DRM_DDC_GETDEVICECERTIFICATE 763    
                            16472 ; 1872 |//$FILENAME _createdevicestore.src
                            16473 ; 1873 |#define RSRC_FUNCLET__CREATEDEVICESTORE 764    
                            16474 ; 1874 |//$FILENAME _mapdrmerror.src
                            16475 ; 1875 |#define RSRC_FUNCLET__MAPDRMERROR 765    
                            16476 ; 1876 |//$FILENAME _comparemachineid.src
                            16477 ; 1877 |#define RSRC_FUNCLET__COMPAREMACHINEID 766    
                            16478 ; 1878 |//$FILENAME initmgrcontext.src
                            16479 ; 1879 |#define RSRC_FUNCLET_INITMGRCONTEXT 767    
                            16480 ; 1880 |//$FILENAME drm_mgr_setv2header.src
                            16481 ; 1881 |#define RSRC_FUNCLET_DRM_MGR_SETV2HEADER 768    
                            16482 ; 1882 |//$FILENAME drm_mgr_commit.src
                            16483 ; 1883 |#define RSRC_FUNCLET_DRM_MGR_COMMIT 769    
                            16484 ; 1884 |//$FILENAME drm_mgr_cleanuplicensestore.src
                            16485 ; 1885 |#define RSRC_FUNCLET_DRM_MGR_CLEANUPLICENSESTORE 770    
                            16486 ; 1886 |//$FILENAME januscleandatastore.src
                            16487 ; 1887 |#define RSRC_FUNCLET_JANUSCLEANDATASTORE 771    
                            16488 ; 1888 |//$FILENAME drm_mtr_openid.src
                            16489 ; 1889 |#define RSRC_FUNCLET_DRM_MTR_OPENID 772    
                            16490 ; 1890 |//$FILENAME drm_mtr_incrementcount.src
                            16491 ; 1891 |#define RSRC_FUNCLET_DRM_MTR_INCREMENTCOUNT 773    
                            16492 ; 1892 |//$FILENAME drm_mtr_closecontext.src
                            16493 ; 1893 |#define RSRC_FUNCLET_DRM_MTR_CLOSECONTEXT 774    
                            16494 ; 1894 |//$FILENAME oem_setendoffile.src
                            16495 ; 1895 |#define RSRC_FUNCLET_OEM_SETENDOFFILE 775    
                            16496 ; 1896 |//$FILENAME oem_genrandombytes.src
                            16497 ; 1897 |#define RSRC_FUNCLET_OEM_GENRANDOMBYTES 776    
                            16498 ; 1898 |//$FILENAME oem_getfallbacksigningkey.src
                            16499 ; 1899 |#define RSRC_FUNCLET_OEM_GETFALLBACKSIGNINGKEY 777    
                            16500 ; 1900 |//$FILENAME oem_getdevicecerttemplate.src
                            16501 ; 1901 |#define RSRC_FUNCLET_OEM_GETDEVICECERTTEMPLATE 778    
                            16502 ; 1902 |//$FILENAME oem_setdevicecert.src
                            16503 ; 1903 |#define RSRC_FUNCLET_OEM_SETDEVICECERT 779    
                            16504 ; 1904 |//$FILENAME oem_getclockresetstate.src
                            16505 ; 1905 |#define RSRC_FUNCLET_OEM_GETCLOCKRESETSTATE 780    
                            16506 ; 1906 |//$FILENAME oem_setclockresetstate.src
                            16507 ; 1907 |#define RSRC_FUNCLET_OEM_SETCLOCKRESETSTATE 781    
                            16508 ; 1908 |//$FILENAME oem_getuniqueid.src
                            16509 ; 1909 |#define RSRC_FUNCLET_OEM_GETUNIQUEID 782    
                            16510 ; 1910 |//$FILENAME oem_getdevicecert.src
                            16511 ; 1911 |#define RSRC_FUNCLET_OEM_GETDEVICECERT 783    
                            16512 ; 1912 |//$FILENAME drm_snc_openstore.src
                            16513 ; 1913 |#define RSRC_FUNCLET_DRM_SNC_OPENSTORE 784    
                            16514 ; 1914 |//$FILENAME drm_snc_closestore.src
                            16515 ; 1915 |#define RSRC_FUNCLET_DRM_SNC_CLOSESTORE 785    
                            16516 ; 1916 |//$FILENAME _setkidstoredata.src
                            16517 ; 1917 |#define RSRC_FUNCLET__SETKIDSTOREDATA 786    
                            16518 ; 1918 |//$FILENAME drm_snc_deletekid.src
                            16519 ; 1919 |#define RSRC_FUNCLET_DRM_SNC_DELETEKID 787    
                            16520 ; 1920 |//$FILENAME drm_snc_updatekid.src
                            16521 ; 1921 |#define RSRC_FUNCLET_DRM_SNC_UPDATEKID 788    
                            16522 ; 1922 |//$FILENAME drm_mgr_setv1header.src
                            16523 ; 1923 |#define RSRC_FUNCLET_DRM_MGR_SETV1HEADER 789    
                            16524 ; 1924 |//$FILENAME functiongetvalue_part1.src
                            16525 ; 1925 |#define RSRC_FUNCLET_FUNCTIONGETVALUE_PART1 790    
                            16526 ; 1926 |//$FILENAME functiongetvalue_fn_datediff.src
                            16527 ; 1927 |#define RSRC_FUNCLET_FUNCTIONGETVALUE_FN_DATEDIFF 791    
                            16528 ; 1928 |//$FILENAME _hdscreatenamespacestore.src
                            16529 ; 1929 |#define RSRC_FUNCLET__HDSCREATENAMESPACESTORE 792    
                            16530 ; 1930 |//$FILENAME drm_hds_createstore2.src
                            16531 ; 1931 |#define RSRC_FUNCLET_DRM_HDS_CREATESTORE2 793    
                            16532 ; 1932 |//$FILENAME drm_hds_openstore2.src
                            16533 ; 1933 |#define RSRC_FUNCLET_DRM_HDS_OPENSTORE2 794    
                            16534 ; 1934 |//$FILENAME _hdsprealloc.src
                            16535 ; 1935 |#define RSRC_FUNCLET__HDSPREALLOC 795    
                            16536 ; 1936 |//$FILENAME oem_systemtimetofiletime.src
                            16537 ; 1937 |#define RSRC_FUNCLET_OEM_SYSTEMTIMETOFILETIME 796    
                            16538 ; 1938 |//$FILENAME oem_filetimetosystemtime.src
                            16539 ; 1939 |#define RSRC_FUNCLET_OEM_FILETIMETOSYSTEMTIME 797    
                            16540 ; 1940 |//$FILENAME gendevicecertificate.src
                            16541 ; 1941 |#define RSRC_FUNCLET_GENDEVICECERTIFICATE 798    
                            16542 ; 1942 |//$FILENAME drmcrt_memmove_mem.src
                            16543 ; 1943 |#define RSRC_FUNCLET_DRMCRT_MEMMOVE_MEM 799    
                            16544 ; 1944 |//$FILENAME copyhdsdtore.src
                            16545 ; 1945 |#define RSRC_FUNCLET_COPYHDSDTORE 800    
                            16546 ; 1946 |//$FILENAME generatedevicecert.src
                            16547 ; 1947 |#define RSRC_FUNCLET_GENERATEDEVICECERT 801    
                            16548 ; 1948 |//$FILENAME oem_getdevicedatetime.src
                            16549 ; 1949 |#define RSRC_FUNCLET_OEM_GETDEVICEDATETIME 802    
                            16550 ; 1950 |//$FILENAME drm_mtr_updatedata.src
                            16551 ; 1951 |#define RSRC_FUNCLET_DRM_MTR_UPDATEDATA 803    
                            16552 ; 1952 |//$FILENAME _hdsupdatesrn.src
                            16553 ; 1953 |#define RSRC_FUNCLET__HDSUPDATESRN 804    
                            16554 ; 1954 |//$FILENAME drm_b64_decodew_inplace.src
                            16555 ; 1955 |#define RSRC_FUNCLET_DRM_B64_DECODEW_INPLACE 805    
                            16556 ; 1956 |//$FILENAME _checksecureclock.src
                            16557 ; 1957 |#define RSRC_FUNCLET__CHECKSECURECLOCK 806    
                            16558 ; 1958 |//$FILENAME _preparesecureclockdataforwriting.src
                            16559 ; 1959 |#define RSRC_FUNCLET__PREPARESECURECLOCKDATAFORWRITING 807    
                            16560 ; 1960 |//$FILENAME _preparesecureclockdataforreading.src
                            16561 ; 1961 |#define RSRC_FUNCLET__PREPARESECURECLOCKDATAFORREADING 808    
                            16562 ; 1962 |//$FILENAME drm_sst_closelockedslot.src
                            16563 ; 1963 |#define RSRC_FUNCLET_DRM_SST_CLOSELOCKEDSLOT 809    
                            16564 ; 1964 |//$FILENAME variablesecuretimegetorset.src
                            16565 ; 1965 |#define RSRC_FUNCLET_VARIABLESECURETIMEGETORSET 810    
                            16566 ; 1966 |//$FILENAME strtol.src
                            16567 ; 1967 |#define RSRC_FUNCLET_STRTOL 811    
                            16568 ; 1968 |//$FILENAME mktime.src
                            16569 ; 1969 |#define RSRC_FUNCLET_MKTIME 812    
                            16570 ; 1970 |//$FILENAME gmtime.src
                            16571 ; 1971 |#define RSRC_FUNCLET_GMTIME 813    
                            16572 ; 1972 |//$FILENAME localtime.src
                            16573 ; 1973 |#define RSRC_FUNCLET_LOCALTIME 814    
                            16574 ; 1974 |//$FILENAME _struct_tm_to_systemtime.src
                            16575 ; 1975 |#define RSRC_FUNCLET__STRUCT_TM_TO_SYSTEMTIME 815    
                            16576 ; 1976 |//$FILENAME _systemtime_to_struct_tm.src
                            16577 ; 1977 |#define RSRC_FUNCLET__SYSTEMTIME_TO_STRUCT_TM 816    
                            16578 ; 1978 |//$FILENAME _systemtimetotime_t.src
                            16579 ; 1979 |#define RSRC_FUNCLET__SYSTEMTIMETOTIME_T 817    
                            16580 ; 1980 |//$FILENAME oem_setsystemtime.src
                            16581 ; 1981 |#define RSRC_FUNCLET_OEM_SETSYSTEMTIME 818    
                            16582 ; 1982 |//$FILENAME const_pkcrypto.src
                            16583 ; 1983 |#define RSRC_CONST_PKCRYPTO 819    
                            16584 ; 1984 |//$FILENAME const_y.src
                            16585 ; 1985 |#define RSRC_CONST_Y 820    
                            16586 ; 1986 |//$FILENAME aes_dec_table.src
                            16587 ; 1987 |#define RSRC_AES_DEC_TABLE 821    
                            16588 ; 1988 |//$FILENAME aes_key_table.src
                            16589 ; 1989 |#define RSRC_AES_KEY_TABLE 822    
                            16590 ; 1990 |//$FILENAME aes_enc_table.src
                            16591 ; 1991 |#define RSRC_AES_ENC_TABLE 823    
                            16592 ; 1992 |//$FILENAME device_cert.src
                            16593 ; 1993 |#define RSRC_DEVCERT 824    
                            16594 ; 1994 |//$FILENAME devcert_template.src
                            16595 ; 1995 |#define RSRC_DEVCERT_TEMPLATE 825    
                            16596 ; 1996 |//$FILENAME getbase64decodedkey.src
                            16597 ; 1997 |#define RSRC_FUNCLET_GETBASE64DECODEDKEY 826    
                            16598 ; 1998 |//$FILENAME _initslot.src
                            16599 ; 1999 |#define RSRC_FUNCLET__INITSLOT 827    
                            16600 ; 2000 |//$FILENAME hdsimplcommon.src
                            16601 ; 2001 |#define RSRC_HDSIMPLCOMMON_P 828    
                            16602 ; 2002 |//$FILENAME hdsimpl_p.src
                            16603 ; 2003 |#define RSRC_HDSIMPL_P 829    
                            16604 ; 2004 |
                            16605 ; 2005 |
                            16606 ; 2006 |//////////////////////////////////////////////////////////////////////////////////
                            16607 ; 2007 |//pkcrypto Related
                            16608 ; 2008 |//////////////////////////////////////////////////////////////////////////////////
                            16609 ; 2009 |//$FILENAME two_adic_inverse.src
                            16610 ; 2010 |#define RSRC_FUNCLET_TWO_ADIC_INVERSE 830    
                            16611 ; 2011 |//$FILENAME mp_shift.src
                            16612 ; 2012 |#define RSRC_FUNCLET_MP_SHIFT 831    
                            16613 ; 2013 |//$FILENAME mp_significant_bit_count.src
                            16614 ; 2014 |#define RSRC_FUNCLET_MP_SIGNIFICANT_BIT_COUNT 832    
                            16615 ; 2015 |//$FILENAME set_immediate.src
                            16616 ; 2016 |#define RSRC_FUNCLET_SET_IMMEDIATE 833    
                            16617 ; 2017 |//$FILENAME multiply_immediate.src
                            16618 ; 2018 |#define RSRC_FUNCLET_MULTIPLY_IMMEDIATE 834    
                            16619 ; 2019 |//$FILENAME multiply.src
                            16620 ; 2020 |#define RSRC_FUNCLET_MULTIPLY 835    
                            16621 ; 2021 |//$FILENAME divide_precondition_1.src
                            16622 ; 2022 |#define RSRC_FUNCLET_DIVIDE_PRECONDITION_1 836    
                            16623 ; 2023 |//$FILENAME divide_immediate.src
                            16624 ; 2024 |#define RSRC_FUNCLET_DIVIDE_IMMEDIATE 837    
                            16625 ; 2025 |//$FILENAME ecaffine_exponentiation_tabular.src
                            16626 ; 2026 |#define RSRC_FUNCLET_ECAFFINE_EXPONENTIATION_TABULAR 838    
                            16627 ; 2027 |//$FILENAME ecaffine_table_construction.src
                            16628 ; 2028 |#define RSRC_FUNCLET_ECAFFINE_TABLE_CONSTRUCTION 839    
                            16629 ; 2029 |//$FILENAME ecproj5_to_ecaffine.src
                            16630 ; 2030 |#define RSRC_FUNCLET_ECPROJ5_TO_ECAFFINE 840    
                            16631 ; 2031 |//$FILENAME ecproj5_set_infinite.src
                            16632 ; 2032 |#define RSRC_FUNCLET_ECPROJ5_SET_INFINITE 841    
                            16633 ; 2033 |//$FILENAME ecaffine_on_curve.src
                            16634 ; 2034 |#define RSRC_FUNCLET_ECAFFINE_ON_CURVE 842    
                            16635 ; 2035 |//$FILENAME ecaffine_addition.src
                            16636 ; 2036 |#define RSRC_FUNCLET_ECAFFINE_ADDITION 843    
                            16637 ; 2037 |//$FILENAME ecaffine_addition_subtraction.src
                            16638 ; 2038 |#define RSRC_FUNCLET_ECAFFINE_ADDITION_SUBTRACTION 844    
                            16639 ; 2039 |//$FILENAME ecaffine_attributes2.src
                            16640 ; 2040 |#define RSRC_FUNCLET_ECAFFINE_ATTRIBUTES2 845    
                            16641 ; 2041 |//$FILENAME kfdesc_initialize.src
                            16642 ; 2042 |#define RSRC_FUNCLET_KFDESC_INITIALIZE 846    
                            16643 ; 2043 |//$FILENAME kimmediate.src
                            16644 ; 2044 |#define RSRC_FUNCLET_KIMMEDIATE 847    
                            16645 ; 2045 |//$FILENAME kprime_immediater.src
                            16646 ; 2046 |#define RSRC_FUNCLET_KPRIME_IMMEDIATER 848    
                            16647 ; 2047 |//$FILENAME kprime_sqrter.src
                            16648 ; 2048 |#define RSRC_FUNCLET_KPRIME_SQRTER 849    
                            16649 ; 2049 |//$FILENAME kinitialize_prime.src
                            16650 ; 2050 |#define RSRC_FUNCLET_KINITIALIZE_PRIME 850    
                            16651 ; 2051 |//$FILENAME mod_lucasuv.src
                            16652 ; 2052 |#define RSRC_FUNCLET_MOD_LUCASUV 851    
                            16653 ; 2053 |//$FILENAME mod_lucas.src
                            16654 ; 2054 |#define RSRC_FUNCLET_MOD_LUCAS 852    
                            16655 ; 2055 |//$FILENAME bucket_multiply.src
                            16656 ; 2056 |#define RSRC_FUNCLET_BUCKET_MULTIPLY 853    
                            16657 ; 2057 |//$FILENAME mod_exp2000.src
                            16658 ; 2058 |#define RSRC_FUNCLET_MOD_EXP2000 854    
                            16659 ; 2059 |//$FILENAME mod_exp.src
                            16660 ; 2060 |#define RSRC_FUNCLET_MOD_EXP 855    
                            16661 ; 2061 |//$FILENAME modmul_choices1.src
                            16662 ; 2062 |#define RSRC_FUNCLET_MODMUL_CHOICES1 856    
                            16663 ; 2063 |//$FILENAME mod_sqrt.src
                            16664 ; 2064 |#define RSRC_FUNCLET_MOD_SQRT 857    
                            16665 ; 2065 |//$FILENAME create_modulus.src
                            16666 ; 2066 |#define RSRC_FUNCLET_CREATE_MODULUS 858    
                            16667 ; 2067 |//$FILENAME from_modular.src
                            16668 ; 2068 |#define RSRC_FUNCLET_FROM_MODULAR 859    
                            16669 ; 2069 |//$FILENAME add_immediate.src
                            16670 ; 2070 |#define RSRC_FUNCLET_ADD_IMMEDIATE 860    
                            16671 ; 2071 |//$FILENAME add_diff.src
                            16672 ; 2072 |#define RSRC_FUNCLET_ADD_DIFF 861    
                            16673 ; 2073 |//$FILENAME add_full.src
                            16674 ; 2074 |#define RSRC_FUNCLET_ADD_FULL 862    
                            16675 ; 2075 |//$FILENAME compare_sum_same.src
                            16676 ; 2076 |#define RSRC_FUNCLET_COMPARE_SUM_SAME 863    
                            16677 ; 2077 |//$FILENAME sub_immediate.src
                            16678 ; 2078 |#define RSRC_FUNCLET_SUB_IMMEDIATE 864    
                            16679 ; 2079 |//$FILENAME mp_initialization.src
                            16680 ; 2080 |#define RSRC_FUNCLET_MP_INITIALIZATION 865    
                            16681 ; 2081 |//$FILENAME new_random_bytes.src
                            16682 ; 2082 |#define RSRC_FUNCLET_NEW_RANDOM_BYTES 866    
                            16683 ; 2083 |//$FILENAME new_random_dword_interval.src
                            16684 ; 2084 |#define RSRC_FUNCLET_NEW_RANDOM_DWORD_INTERVAL 867    
                            16685 ; 2085 |//$FILENAME new_random_digit_interval.src
                            16686 ; 2086 |#define RSRC_FUNCLET_NEW_RANDOM_DIGIT_INTERVAL 868    
                            16687 ; 2087 |//$FILENAME new_random_mod.src
                            16688 ; 2088 |#define RSRC_FUNCLET_NEW_RANDOM_MOD 869    
                            16689 ; 2089 |//$FILENAME new_random_mod_nonzero.src
                            16690 ; 2090 |#define RSRC_FUNCLET_NEW_RANDOM_MOD_NONZERO 870    
                            16691 ; 2091 |//$FILENAME new_random_digits.src
                            16692 ; 2092 |#define RSRC_FUNCLET_NEW_RANDOM_DIGITS 871    
                            16693 ; 2093 |//$FILENAME words_to_ecaffine.src
                            16694 ; 2094 |#define RSRC_FUNCLET_WORDS_TO_ECAFFINE 872    
                            16695 ; 2095 |//$FILENAME ecaffine_to_dwords.src
                            16696 ; 2096 |#define RSRC_FUNCLET_ECAFFINE_TO_DWORDS 873    
                            16697 ; 2097 |//$FILENAME _threadunsafepkinit.src
                            16698 ; 2098 |#define RSRC_FUNCLET__THREADUNSAFEPKINIT 874    
                            16699 ; 2099 |//$FILENAME pkinit.src
                            16700 ; 2100 |#define RSRC_FUNCLET_PKINIT 875    
                            16701 ; 2101 |//$FILENAME drm_pk_genkeypair.src
                            16702 ; 2102 |#define RSRC_FUNCLET_DRM_PK_GENKEYPAIR 876    
                            16703 ; 2103 |//$FILENAME drm_pk_encrypt.src
                            16704 ; 2104 |#define RSRC_FUNCLET_DRM_PK_ENCRYPT 877    
                            16705 ; 2105 |//$FILENAME drm_pk_decrypt.src
                            16706 ; 2106 |#define RSRC_FUNCLET_DRM_PK_DECRYPT 878    
                            16707 ; 2107 |//$FILENAME byte_array_mod_bignum.src
                            16708 ; 2108 |#define RSRC_FUNCLET_BYTE_ARRAY_MOD_BIGNUM 879    
                            16709 ; 2109 |//$FILENAME fe2ipmod.src
                            16710 ; 2110 |#define RSRC_FUNCLET_FE2IPMOD 880    
                            16711 ; 2111 |//$FILENAME drm_pk_sign.src
                            16712 ; 2112 |#define RSRC_FUNCLET_DRM_PK_SIGN 881    
                            16713 ; 2113 |//$FILENAME drm_pk_verify.src
                            16714 ; 2114 |#define RSRC_FUNCLET_DRM_PK_VERIFY 882    
                            16715 ; 2115 |//$FILENAME random_bytes.src
                            16716 ; 2116 |#define RSRC_FUNCLET_RANDOM_BYTES 883    
                            16717 ; 2117 |//$FILENAME mp_gcdex.src
                            16718 ; 2118 |#define RSRC_FUNCLET_MP_GCDEX 884    
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page  67

M:ADDR CODE           CYCLES LINE SOURCELINE
                            16719 ; 2119 |//$FILENAME mp_gcdex_split1.src
                            16720 ; 2120 |#define RSRC_FUNCLET_MP_GCDEX_SPLIT1 885    
                            16721 ; 2121 |//$FILENAME pkcrypto_p.src
                            16722 ; 2122 |#define RSRC_PKCRYPTO_P 886    
                            16723 ; 2123 |//$FILENAME pkcrypto_ovl_p.src
                            16724 ; 2124 |#define RSRC_PKCRYPTO_OVL_P 887    
                            16725 ; 2125 |//$FILENAME del_all_warning_line2.src
                            16726 ; 2126 |#define RSRC_WARNING_MSG_ALL_LINE2 888    
                            16727 ; 2127 |//$FILENAME del_all_file_star.src
                            16728 ; 2128 |#define RSRC_FILE_DELETE_STAR 889    
                            16729 ; 2129 |//$FILENAME string_voice_menu_delete_all.src
                            16730 ; 2130 |#define RSRC_STRING_VOICE_MENU_DELETE_ALL 890    
                            16731 ; 2131 |//$FILENAME Funclet_Init5VSense.src
                            16732 ; 2132 |#define RSRC_FUNCLET_INIT5VSENSE 891    
                            16733 ; 2133 |//$FILENAME Funclet_UpdateDCDCDutyCycle.src
                            16734 ; 2134 |#define RSRC_FUNCLET_UPDATEDCDCDUTYCYCLE 892    
                            16735 ; 2135 |//$FILENAME Funclet_changeplayset.src
                            16736 ; 2136 |#define RSRC_FUNCLET_CHANGE_PLAYSET 893    
                            16737 ; 2137 |
                            16738 ; 2138 |//$FILENAME Funclet_mmctesterase.src
                            16739 ; 2139 |#define RSRC_FUNCLET_MMC_TEST_ERASE 894    
                            16740 ; 2140 |//$FILENAME Funclet_mmchalinit.src
                            16741 ; 2141 |#define RSRC_FUNCLET_MMC_HALINIT 895    
                            16742 ; 2142 |
                            16743 ; 2143 |
                            16744 ; 2144 |// Added to allow rechargeable battery configurations to build
                            16745 ; 2145 |//$FILENAME battery_charging.src
                            16746 ; 2146 |#define RSRC_BATTERY_CHARGING 896    
                            16747 ; 2147 |//$FILENAME batterychargecodebank.src
                            16748 ; 2148 |#define RSRC_BATTERY_CHARGE_CODEBANK 897    
                            16749 ; 2149 |//$FILENAME updatevolume.src
                            16750 ; 2150 |#define RSRC_FUNCLET_SYSUPDATEVOLUME 898    
                            16751 ; 2151 |//$FILENAME Funclet_TestSkipCheckDisk.src
                            16752 ; 2152 |#define RSRC_FUNCLET_TESTSKIPCHECKDISK 899    
                            16753 ; 2153 |//$FILENAME Funclet_DisableStmpGeneratedMicBias.src
                            16754 ; 2154 |#define RSRC_FUNCLET_DISABLE_STMP_GENERATED_MICBIAS 900    
                            16755 ; 2155 |//$FILENAME Funclet_EnableStmpGeneratedMicBias.src
                            16756 ; 2156 |#define RSRC_FUNCLET_ENABLE_STMP_GENERATED_MICBIAS 901    
                            16757 ; 2157 |//$FILENAME Funclet_SetSkipCheckDisk.src
                            16758 ; 2158 |#define RSRC_FUNCLET_SETSKIPCHECKDISK 902    
                            16759 ; 2159 |//$FILENAME drm_expr_evaluateexpression_no_more_tokens.src
                            16760 ; 2160 |#define RSRC_FUNCLET_DRM_EXPR_EVALUATEEXPRESSION_NO_MORE_TOKENS 903    
                            16761 ; 2161 |//$FILENAME _iscachedevent.src
                            16762 ; 2162 |#define RSRC_FUNCLET__ISCACHEDEVENT 904    
                            16763 ; 2163 |//$FILENAME setcountedexpirycategory.src
                            16764 ; 2164 |#define RSRC_FUNCLET_SETCOUNTEDEXPIRYCATEGORY 905    
                            16765 ; 2165 |//$FILENAME oem_data.src
                            16766 ; 2166 |#define RSRC_OEM_DATA 906    
                            16767 ; 2167 |//$FILENAME gpk_p.src
                            16768 ; 2168 |#define RSRC_GPK_P 907    
                            16769 ; 2169 |//$FILENAME key_data.src
                            16770 ; 2170 |#define RSRC_KEY_DATA 908    
                            16771 ; 2171 |//$FILENAME string_arial_8_defragmenting_store.src
                            16772 ; 2172 |#define RSRC_DEFRAGMENT_STORE_STRING 909    
                            16773 ; 2173 |//$FILENAME string_working.src
                            16774 ; 2174 |#define RSRC_STRING_WORKING 910    
                            16775 ; 2175 |//$FILENAME Funclet_loadusertime.src
                            16776 ; 2176 |#define RSRC_FUNCLET_LOADUSERTIME 911    
                            16777 ; 2177 |//$FILENAME Funclet_saveusertime.src
                            16778 ; 2178 |#define RSRC_FUNCLET_SAVEUSERTIME 912    
                            16779 ; 2179 |
                            16780 ; 2180 |//$FILENAME Funclet_SysLRADCBrownoutInit.src
                            16781 ; 2181 |#define RSRC_FUNCLET_SYSLRADCBROWNOUTINIT 913    
                            16782 ; 2182 |//$FILENAME Funclet_SysBatteryGetLevel.src
                            16783 ; 2183 |#define RSRC_FUNCLET_SYSBATTERYGETLEVEL 914    
                            16784 ; 2184 |
                            16785 ; 2185 |////////////////////////////////////////////////////////////////////////////////////////////////////
                            16786 ; 2186 |// Audible ACELP Resources
                            16787 ; 2187 |////////////////////////////////////////////////////////////////////////////////////////////////////
                            16788 ; 2188 |//$FILENAME AudibleAcelpDec.src
                            16789 ; 2189 |#define RSRC_AUDIBLE_ACELPDEC_CODE 915    
                            16790 ; 2190 |//$FILENAME AudibleAcelpP.src
                            16791 ; 2191 |#define RSRC_AUDIBLE_ACELP_CODE_P 916    
                            16792 ; 2192 |//$FILENAME AudibleAcelpX.src
                            16793 ; 2193 |#define RSRC_AUDIBLE_ACELP_DATA_X 917    
                            16794 ; 2194 |//$FILENAME AudibleAcelpY.src
                            16795 ; 2195 |#define RSRC_AUDIBLE_ACELP_DATA_Y 918    
                            16796 ; 2196 |
                            16797 ; 2197 |//$FILENAME AudibleDecMod.src
                            16798 ; 2198 |#define RSRC_AUDIBLE_DECMOD_CODE 919    
                            16799 ; 2199 |//$FILENAME audiblemp3p.src
                            16800 ; 2200 |#define RSRC_AUDIBLE_MP3P_CODE 920    
                            16801 ; 2201 |//$FILENAME audiblemp3x.src
                            16802 ; 2202 |#define RSRC_AUDIBLE_MP3X_CODE 921    
                            16803 ; 2203 |//$FILENAME audiblemp3y.src
                            16804 ; 2204 |#define RSRC_AUDIBLE_MP3Y_CODE 922    
                            16805 ; 2205 |
                            16806 ; 2206 |//$FILENAME audiblemetadata_p.src
                            16807 ; 2207 |#define RSRC_AUDIBLE_METADATA_P 923    
                            16808 ; 2208 |//$FILENAME audiblemetadata_y.src
                            16809 ; 2209 |#define RSRC_AUDIBLE_METADATA_Y 924    
                            16810 ; 2210 |//$FILENAME audiblesongposition_p.src
                            16811 ; 2211 |#define RSRC_AUDIBLE_SONG_POSITION_P 925    
                            16812 ; 2212 |//$FILENAME audibletargetcheck_p.src
                            16813 ; 2213 |#define RSRC_AUDIBLE_TARGET_CHECK_P 926    
                            16814 ; 2214 |//$FILENAME audiblefillfileinfo_p.src
                            16815 ; 2215 |#define RSRC_AUDIBLE_FILLFILEINFO_P 927    
                            16816 ; 2216 |//$FILENAME audibledsa_p.src
                            16817 ; 2217 |#define RSRC_AUDIBLE_DSA_P 928    
                            16818 ; 2218 |//$FILENAME audiblefillmetadata_p.src
                            16819 ; 2219 |#define RSRC_AUDIBLE_FILLMETADATA_P 929    
                            16820 ; 2220 |//$FILENAME audiblemetastrings_p.src
                            16821 ; 2221 |#define RSRC_AUDIBLE_METASTRINGS_P 930    
                            16822 ; 2222 |//$FILENAME aaactivationrecords_p.src
                            16823 ; 2223 |#define RSRC_AUDIBLE_ACTIVATION_P 931    
                            16824 ; 2224 |
                            16825 ; 2225 |////////////////////////////////////////////////////////////////////////////////////////////////////
                            16826 ; 2226 |// Effects and SRS Resources
                            16827 ; 2227 |////////////////////////////////////////////////////////////////////////////////////////////////////
                            16828 ; 2228 |//$FILENAME srs_effectsmodules_p.src
                            16829 ; 2229 |#define RSRC_SRS_EFFECTS_MODULES_P 932    
                            16830 ; 2230 |//$FILENAME srs_effectsmodules_x.src
                            16831 ; 2231 |#define RSRC_SRS_EFFECTS_MODULES_X 933    
                            16832 ; 2232 |//$FILENAME wowctrl.src
                            16833 ; 2233 |#define RSRC_WOW_CTRL 934    
                            16834 ; 2234 |
                            16835 ; 2235 |//$FILENAME wowmenu.src
                            16836 ; 2236 |#define RSRC_WOW_MENU_CODE_BANK 935    
                            16837 ; 2237 |//$FILENAME string_wowbrightness_menu.src
                            16838 ; 2238 |#define RSRC_STRING_WOW_BRIGHTNESS 936    
                            16839 ; 2239 |//$FILENAME string_wow_menu.src
                            16840 ; 2240 |#define RSRC_STRING_WOW_MENU 937    
                            16841 ; 2241 |//$FILENAME string_wowtrubass_menu.src
                            16842 ; 2242 |#define RSRC_STRING_WOW_TRUBASS 938    
                            16843 ; 2243 |//$FILENAME string_wowvolume_menu.src
                            16844 ; 2244 |#define RSRC_STRING_WOW_VOLUME 939    
                            16845 ; 2245 |//$FILENAME string_wowbrightness_low_menu.src
                            16846 ; 2246 |#define RSRC_STRING_WOW_BRIGHT_LOW 940    
                            16847 ; 2247 |//$FILENAME string_wowbrightness_mid_menu.src
                            16848 ; 2248 |#define RSRC_STRING_WOW_BRIGHT_MID 941    
                            16849 ; 2249 |//$FILENAME string_wowbrightness_high_menu.src
                            16850 ; 2250 |#define RSRC_STRING_WOW_BRIGHT_HIGH 942    
                            16851 ; 2251 |//$FILENAME wow_icon.src
                            16852 ; 2252 |#define RSRC_WOW_ICON 943    
                            16853 ; 2253 |
                            16854 ; 2254 |//$FILENAME wow16k.src
                            16855 ; 2255 |#define RSRC_WOW16K 944    
                            16856 ; 2256 |//$FILENAME wow32k.src
                            16857 ; 2257 |#define RSRC_WOW32K 945    
                            16858 ; 2258 |//$FILENAME wow8k.src
                            16859 ; 2259 |#define RSRC_WOW8K 946    
                            16860 ; 2260 |//$FILENAME wow11k.src
                            16861 ; 2261 |#define RSRC_WOW11K 947    
                            16862 ; 2262 |//$FILENAME wow22k.src
                            16863 ; 2263 |#define RSRC_WOW22K 948    
                            16864 ; 2264 |//$FILENAME wow24k.src
                            16865 ; 2265 |#define RSRC_WOW24K 949    
                            16866 ; 2266 |//$FILENAME wow44k.src
                            16867 ; 2267 |#define RSRC_WOW44K 950    
                            16868 ; 2268 |//$FILENAME wow48k.src
                            16869 ; 2269 |#define RSRC_WOW48K 951    
                            16870 ; 2270 |
                            16871 ; 2271 |//$FILENAME wow16k_Y.src
                            16872 ; 2272 |#define RSRC_WOW16K_Y 952    
                            16873 ; 2273 |//$FILENAME wow32k_Y.src
                            16874 ; 2274 |#define RSRC_WOW32K_Y 953    
                            16875 ; 2275 |//$FILENAME wow8k_Y.src
                            16876 ; 2276 |#define RSRC_WOW8K_Y 954    
                            16877 ; 2277 |//$FILENAME wow11k_Y.src
                            16878 ; 2278 |#define RSRC_WOW11K_Y 955    
                            16879 ; 2279 |//$FILENAME wow22k_Y.src
                            16880 ; 2280 |#define RSRC_WOW22K_Y 956    
                            16881 ; 2281 |//$FILENAME wow24k_Y.src
                            16882 ; 2282 |#define RSRC_WOW24K_Y 957    
                            16883 ; 2283 |//$FILENAME wow44k_Y.src
                            16884 ; 2284 |#define RSRC_WOW44K_Y 958    
                            16885 ; 2285 |//$FILENAME wow48k_Y.src
                            16886 ; 2286 |#define RSRC_WOW48K_Y 959    
                            16887 ; 2287 |
                            16888 ; 2288 |/////////////////////////////////////////////////////////////////////////////////////////////////////
                            16889 ; 2289 |// Audible Section Navigation
                            16890 ; 2290 |/////////////////////////////////////////////////////////////////////////////////////////////////////
                            16891 ; 2291 |//$FILENAME audible_secnav.src
                            16892 ; 2292 |#define RSRC_AUDIBLE_SECNAV_ICON 960    
                            16893 ; 2293 |
                            16894 ; 2294 |////////////////////////////////////////////////////////////////////////////////////////////////////
                            16895 ; 2295 |// PLAYLIST3 and Music Library
                            16896 ; 2296 |////////////////////////////////////////////////////////////////////////////////////////////////////
                            16897 ; 2297 |
                            16898 ; 2298 |//$FILENAME build_ml.src
                            16899 ; 2299 |#define RSRC_BUILD_ML 961    
                            16900 ; 2300 |//$FILENAME build_ml_warning.src
                            16901 ; 2301 |#define RSRC_BUILD_ML_WARNING 962    
                            16902 ; 2302 |//$FILENAME build_ml_warning2.src
                            16903 ; 2303 |#define RSRC_BUILD_ML_WARNING2 963    
                            16904 ; 2304 |//$FILENAME build_flash1.src
                            16905 ; 2305 |#define RSRC_BUILD_FLASH1 964    
                            16906 ; 2306 |//$FILENAME build_flash2.src
                            16907 ; 2307 |#define RSRC_BUILD_FLASH2 965    
                            16908 ; 2308 |//$FILENAME build_flash3.src
                            16909 ; 2309 |#define RSRC_BUILD_FLASH3 966    
                            16910 ; 2310 |//$FILENAME build_sd1.src
                            16911 ; 2311 |#define RSRC_BUILD_SD1 967    
                            16912 ; 2312 |//$FILENAME build_sd2.src
                            16913 ; 2313 |#define RSRC_BUILD_SD2 968    
                            16914 ; 2314 |//$FILENAME build_sd3.src
                            16915 ; 2315 |#define RSRC_BUILD_SD3 969    
                            16916 ; 2316 |//$FILENAME build_newmusic.src
                            16917 ; 2317 |#define RSRC_BUILD_NEWMUSIC 970    
                            16918 ; 2318 |//$FILENAME sdmd.src
                            16919 ; 2319 |#define RSRC_SDMD_MENU_CODE_BANK 971    
                            16920 ; 2320 |//$FILENAME musiclib_build_function_sec.src
                            16921 ; 2321 |#define RSRC_MUSICLIB_BUILD_FUNCTION_SEC 972    
                            16922 ; 2322 |//$FILENAME musiclib_build_function_flush.src
                            16923 ; 2323 |#define RSRC_MUSICLIB_BUILD_FUNCTION_FLUSH 973    
                            16924 ; 2324 |//$FILENAME MusicLibBuildModule.src
                            16925 ; 2325 |#define RSRC_MUSICLIB_BUILD_MODULE 974    
                            16926 ; 2326 |//$FILENAME MusicLibBuildGenreTable.src
                            16927 ; 2327 |#define RSRC_MUSICLIB_BUILD_GENRE_TABLE 975    
                            16928 ; 2328 |//$FILENAME MusicLibBuildFlushMem.src
                            16929 ; 2329 |#define RSRC_MUSICLIB_BUILD_FLUSH_MEM 976    
                            16930 ; 2330 |//$FILENAME MusicLibBrowseModule.src
                            16931 ; 2331 |#define RSRC_MUSICLIB_BROWSE_MODULE 977    
                            16932 ; 2332 |//$FILENAME MusicLibPlayModule.src
                            16933 ; 2333 |#define RSRC_MUSICLIB_PLAY_MODULE 978    
                            16934 ; 2334 |//$FILENAME MusicLibPlayAllNextModule.src
                            16935 ; 2335 |#define RSRC_MUSICLIB_PLAYALLNEXT_MODULE 979    
                            16936 ; 2336 |//$FILENAME MusicLibPlayAllPrevModule.src
                            16937 ; 2337 |#define RSRC_MUSICLIB_PLAYALLPREV_MODULE 980    
                            16938 ; 2338 |//$FILENAME MusicLibShuffleModule.src
                            16939 ; 2339 |#define RSRC_MUSICLIB_SHUFFLE_MODULE 981    
                            16940 ; 2340 |//$FILENAME Funclet_write_detection_access.src
                            16941 ; 2341 |#define RSRC_FUNCLET_WRITE_DETECTION_ACCESS 982    
                            16942 ; 2342 |//$FILENAME Funclet_LOCAL_GetLvlOneItem_info.src
                            16943 ; 2343 |#define RSRC_FUNCLET_LOCAL_GET_LVL_ONE_ITEM_INFO 983    
                            16944 ; 2344 |//$FILENAME Funclet_LOCAL_GetFlashAssociatedList_info.src
                            16945 ; 2345 |#define RSRC_FUNCLET_LOCAL_GET_FLASH_ASSOCIATED_LIST_INFO 984    
                            16946 ; 2346 |//$FILENAME Funclet_ML_ResumePlayState.src
                            16947 ; 2347 |#define RSRC_FUNCLET_ML_RESUMEPLAYSTATE 985    
                            16948 ; 2348 |//$FILENAME Funclet_ML_UpdateOnTheGo.src
                            16949 ; 2349 |#define RSRC_FUNCLET_ML_UPDATE_ON_THE_GO 986    
                            16950 ; 2350 |//$FILENAME Funclet_ML_ChOnTheGo.src
                            16951 ; 2351 |#define RSRC_FUNCLET_ML_CH_ON_THE_GO 987    
                            16952 ; 2352 |//$FILENAME Funclet_ML_LoadOnTheGo.src
                            16953 ; 2353 |#define RSRC_FUNCLET_ML_LOAD_ON_THE_GO 988    
                            16954 ; 2354 |//$FILENAME Funclet_Build_InitandUseCache.src
                            16955 ; 2355 |#define RSRC_FUNCLET_BUILD_INIT_AND_USE_CACHE 989    
                            16956 ; 2356 |//$FILENAME Funclet_Build_FlushAndCloseCache.src
                            16957 ; 2357 |#define RSRC_FUNCLET_BUILD_FLUSH_AND_CLOSE_CACHE 990    
                            16958 ; 2358 |//$FILENAME Funclet_ML_movePointerBackward.src
                            16959 ; 2359 |#define RSRC_FUNCLET_ML_MOVE_POINTER_BACKWARD 991    
                            16960 ; 2360 |//$FILENAME Funclet_ML_findLastItemPointer.src
                            16961 ; 2361 |#define RSRC_FUNCLET_ML_FIND_LAST_ITEM_POINTER 992    
                            16962 ; 2362 |//$FILENAME Funclet_ML_startShuffle.src
                            16963 ; 2363 |#define RSRC_FUNCLET_ML_START_SHUFFLE 993    
                            16964 ; 2364 |//$FILENAME Funclet_ML_GetFlashDirAssocListId.src
                            16965 ; 2365 |#define RSRC_FUNCLET_ML_GET_FLASH_DIR_ASSOC_LIST_ID 994    
                            16966 ; 2366 |//$FILENAME Funclet_ML_GetFlashDirAssocListRootId.src
                            16967 ; 2367 |#define RSRC_FUNCLET_ML_GET_FLASH_DIR_ASSOC_LIST_ROOT_ID 995    
                            16968 ; 2368 |//$FILENAME Funclet_ML_GetFlashDirAssocListSize.src
                            16969 ; 2369 |#define RSRC_FUNCLET_ML_GET_FLASH_DIR_ASSOC_LIST_SIZE 996    
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page  68

M:ADDR CODE           CYCLES LINE SOURCELINE
                            16970 ; 2370 |//$FILENAME Funclet_ML_GetIdByStateAndPosition.src
                            16971 ; 2371 |#define RSRC_FUNCLET_ML_GET_ID_BY_STATE_AND_POSITION 997    
                            16972 ; 2372 |//$FILENAME Funclet_ML_StartPlayDirSongInit.src
                            16973 ; 2373 |#define RSRC_FUNCLET_ML_START_PLAY_DIR_SONG_INIT 998    
                            16974 ; 2374 |//$FILENAME Funclet_ML_ShuffleNextDirSong.src
                            16975 ; 2375 |#define RSRC_FUNCLET_ML_SHUFFLE_NEXT_DIR_SONG 999    
                            16976 ; 2376 |//$FILENAME Funclet_ML_BrowseMenu.src
                            16977 ; 2377 |#define RSRC_FUNCLET_ML_BROWSE_MENU 1000    
                            16978 ; 2378 |//$FILENAME Funclet_ML_StartPlayAllSong.src
                            16979 ; 2379 |#define RSRC_FUNCLET_ML_START_PLAY_ALL_SONG 1001    
                            16980 ; 2380 |//$FILENAME Funclet_ML_PlayAllNextSong.src
                            16981 ; 2381 |#define RSRC_FUNCLET_ML_PLAY_ALL_NEXT_SONG 1002    
                            16982 ; 2382 |//$FILENAME Funclet_ML_PlayAllPreviousSong.src
                            16983 ; 2383 |#define RSRC_FUNCLET_ML_PLAY_ALL_PREVIOUS_SONG 1003    
                            16984 ; 2384 |//$FILENAME Funclet_ML_PlayPreviousDirSong.src
                            16985 ; 2385 |#define RSRC_FUNCLET_ML_PLAY_PREVIOUS_DIR_SONG 1004    
                            16986 ; 2386 |//$FILENAME Funclet_ML_ShuffleNextSong.src
                            16987 ; 2387 |#define RSRC_FUNCLET_ML_SHUFFLE_NEXT_SONG 1005    
                            16988 ; 2388 |//$FILENAME Funclet_ML_PlayNextSong.src
                            16989 ; 2389 |#define RSRC_FUNCLET_ML_PLAY_NEXT_SONG 1006    
                            16990 ; 2390 |//$FILENAME Funclet_ML_PlayPreviousSong.src
                            16991 ; 2391 |#define RSRC_FUNCLET_ML_PLAY_PREVIOUS_SONG 1007    
                            16992 ; 2392 |//$FILENAME Funclet_BuildVoiceFilePath.src
                            16993 ; 2393 |#define RSRC_FUNCLET_BUILDVOICEFILEPATH 1008    
                            16994 ; 2394 |//$FILENAME Funclet_BuildFMFilePath.src
                            16995 ; 2395 |#define RSRC_FUNCLET_BUILDFMFILEPATH 1009    
                            16996 ; 2396 |//$FILENAME Funclet_BuildLINEINFilePath.src
                            16997 ; 2397 |#define RSRC_FUNCLET_BUILDLINEINFILEPATH 1010    
                            16998 ; 2398 |//$FILENAME Funclet_GetVoiceFastKey.src
                            16999 ; 2399 |#define RSRC_FUNCLET_GETVOICEFASTKEY 1011    
                            17000 ; 2400 |//$FILENAME MusicLibVoiceApp.src
                            17001 ; 2401 |#define RSRC_MUSICLIB_VOICE_APP 1012    
                            17002 ; 2402 |//$FILENAME MusicLibVoiceModule.src
                            17003 ; 2403 |#define RSRC_MUSICLIB_VOICE_MODULE 1013    
                            17004 ; 2404 |//$FILENAME MusicLibVoicePlayModule.src
                            17005 ; 2405 |#define RSRC_MUSICLIB_VOICEPLAY_MODULE 1014    
                            17006 ; 2406 |//$FILENAME MusicLibMergeFunction.src
                            17007 ; 2407 |#define RSRC_MUSICLIB_MERGE_FUNCTION 1015    
                            17008 ; 2408 |//$FILENAME MusicLibMergeModule.src
                            17009 ; 2409 |#define RSRC_MUSICLIB_MERGE_MODULE 1016    
                            17010 ; 2410 |//$FILENAME MusicLibBrowseApp.src
                            17011 ; 2411 |#define RSRC_MUSICLIB_BROWSE_APP 1017    
                            17012 ; 2412 |//$FILENAME playmusicmenu.src
                            17013 ; 2413 |#define RSRC_PLAYMUSIC_MENU_CODE_BANK 1018    
                            17014 ; 2414 |//$FILENAME browsemenu.src
                            17015 ; 2415 |#define RSRC_BROWSE_MENU_CODE_BANK 1019    
                            17016 ; 2416 |//$FILENAME browsemenu_extra.src
                            17017 ; 2417 |#define RSRC_BROWSE_MENU_EXTRA_CODE_BANK 1020    
                            17018 ; 2418 |//$FILENAME string_play_all.src
                            17019 ; 2419 |#define RSRC_STRING_PLAY_ALL 1021    
                            17020 ; 2420 |//$FILENAME string_play.src
                            17021 ; 2421 |#define RSRC_STRING_PLAY 1022    
                            17022 ; 2422 |//$FILENAME string_unknown_year.src
                            17023 ; 2423 |#define RSRC_STRING_UNKNOWN_YEAR 1023    
                            17024 ; 2424 |//$FILENAME string_year_width.src
                            17025 ; 2425 |#define RSRC_STRING_YEAR_WIDTH 1024    
                            17026 ; 2426 |//$FILENAME string_artist.src
                            17027 ; 2427 |#define RSRC_STRING_ARTIST 1025    
                            17028 ; 2428 |//$FILENAME string_songs.src
                            17029 ; 2429 |#define RSRC_STRING_SONGS 1026    
                            17030 ; 2430 |//$FILENAME string_on_the_fly.src
                            17031 ; 2431 |#define RSRC_STRING_ON_THE_FLY 1027    
                            17032 ; 2432 |//$FILENAME string_new_music.src
                            17033 ; 2433 |#define RSRC_STRING_NEW_MUSIC_MENU 1028    
                            17034 ; 2434 |//$FILENAME string_genre.src
                            17035 ; 2435 |#define RSRC_STRING_GENRE 1029    
                            17036 ; 2436 |//$FILENAME string_year.src
                            17037 ; 2437 |#define RSRC_STRING_YEAR 1030    
                            17038 ; 2438 |//$FILENAME string_playlist.src
                            17039 ; 2439 |#define RSRC_STRING_PLAYLIST 1031    
                            17040 ; 2440 |//$FILENAME string_fm_rec.src
                            17041 ; 2441 |#define RSRC_STRING_FM_REC 1032    
                            17042 ; 2442 |//$FILENAME string_linein_rec.src
                            17043 ; 2443 |#define RSRC_STRING_LINEIN_REC 1033    
                            17044 ; 2444 |//$FILENAME string_play_music.src
                            17045 ; 2445 |#define RSRC_STRING_PLAY_MUSIC 1034    
                            17046 ; 2446 |//$FILENAME highlight_back.src
                            17047 ; 2447 |#define RSRC_HIGHLIGHT_BACK 1035    
                            17048 ; 2448 |//$FILENAME newmusicmenu.src
                            17049 ; 2449 |#define RSRC_NEW_MUSIC_MENU_CODE_BANK 1036    
                            17050 ; 2450 |//$FILENAME string_1_day.src
                            17051 ; 2451 |#define RSRC_STRING_1_DAY 1037    
                            17052 ; 2452 |//$FILENAME string_1_week.src
                            17053 ; 2453 |#define RSRC_STRING_1_WEEK 1038    
                            17054 ; 2454 |//$FILENAME string_1_month.src
                            17055 ; 2455 |#define RSRC_STRING_1_MONTH 1039    
                            17056 ; 2456 |//$FILENAME on_the_fly_full.src
                            17057 ; 2457 |#define RSRC_LIST_FULL_MESSAGE 1040    
                            17058 ; 2458 |//$FILENAME on_the_fly_free1.src
                            17059 ; 2459 |#define RSRC_LIST_FREE_MESSAGE 1041    
                            17060 ; 2460 |//$FILENAME on_the_fly_free2.src
                            17061 ; 2461 |#define RSRC_LIST_FREE_MESSAGE2 1042    
                            17062 ; 2462 |//$FILENAME on_the_fly_delete1.src
                            17063 ; 2463 |#define RSRC_LIST_DELETE_MESSAGE 1043    
                            17064 ; 2464 |//$FILENAME on_the_fly_delete2.src
                            17065 ; 2465 |#define RSRC_LIST_DELETE_MESSAGE2 1044    
                            17066 ; 2466 |//$FILENAME empty_favourite.src
                            17067 ; 2467 |#define RSRC_EMPTY_FAVOURITE 1045    
                            17068 ; 2468 |//$FILENAME sd_remove.src
                            17069 ; 2469 |#define RSRC_SD_REMOVE 1046    
                            17070 ; 2470 |//$FILENAME sd_insert.src
                            17071 ; 2471 |#define RSRC_SD_INSERT 1047    
                            17072 ; 2472 |//$FILENAME check_disk_1.src
                            17073 ; 2473 |#define RSRC_CHECK_DISK_1 1048    
                            17074 ; 2474 |//$FILENAME check_disk_2.src
                            17075 ; 2475 |#define RSRC_CHECK_DISK_2 1049    
                            17076 ; 2476 |//$FILENAME check_disk_3.src
                            17077 ; 2477 |#define RSRC_CHECK_DISK_3 1050    
                            17078 ; 2478 |//$FILENAME flash_error.src
                            17079 ; 2479 |#define RSRC_FLASH_ERROR 1051    
                            17080 ; 2480 |
                            17081 ; 2481 |//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                            17082 ; 2482 |// STFM1000 Tuner funclet
                            17083 ; 2483 |//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                            17084 ; 2484 |//$FILENAME Funclet_TunerDriverInit.src
                            17085 ; 2485 |#define RSRC_FUNCLET_TUNER_DRIVER_INIT 1052    
                            17086 ; 2486 |//$FILENAME Funclet_TunerDriverIncUp.src
                            17087 ; 2487 |#define RSRC_FUNCLET_TUNER_DRIVER_INC_UP 1053    
                            17088 ; 2488 |//$FILENAME Funclet_TunerDriverIncDown.src
                            17089 ; 2489 |#define RSRC_FUNCLET_TUNER_DRIVER_INC_DOWN 1054    
                            17090 ; 2490 |//$FILENAME Funclet_TunerDriverStandyby.src
                            17091 ; 2491 |#define RSRC_FUNCLET_TUNER_DRIVER_SET_STANDBY 1055    
                            17092 ; 2492 |//$FILENAME Funclet_TunerDriverReplacePreset.src
                            17093 ; 2493 |#define RSRC_FUNCLET_TUNER_DRIVER_REPLACE_PRESET 1056    
                            17094 ; 2494 |//$FILENAME Funclet_TunerDriverErasePreset.src
                            17095 ; 2495 |#define RSRC_FUNCLET_TUNER_DRIVER_ERASE_PRESET 1057    
                            17096 ; 2496 |//$FILENAME Funclet_TunerDriverTuneToPreset.src
                            17097 ; 2497 |#define RSRC_FUNCLET_TUNER_DRIVER_TUNE_TO_PRESET 1058    
                            17098 ; 2498 |//$FILENAME Funclet_TunerDriverSearchDown.src
                            17099 ; 2499 |#define RSRC_FUNCLET_TUNER_DRIVER_SEARCH_DOWN 1059    
                            17100 ; 2500 |//$FILENAME Funclet_TunerSTFM1000SafePowerDown.src
                            17101 ; 2501 |#define RSRC_FUNCLET_TUNER_SAFE_POWER_DOWN 1060    
                            17102 ; 2502 |//$FILENAME Funclet_TunerSTFM1000OptimizeChannel.src
                            17103 ; 2503 |#define RSRC_FUNCLET_STFM1000_TUNER_OPTIMIZE_CHANNEL 1061    
                            17104 ; 2504 |//$FILENAME decstfmmod.src
                            17105 ; 2505 |#define RSRC_DEC_STFM_MOD_CODE 1062    
                            17106 ; 2506 |//$FILENAME dec_stfmp.src
                            17107 ; 2507 |#define RSRC_DEC_STFMP_CODE 1063    
                            17108 ; 2508 |//$FILENAME dec_stfmx.src
                            17109 ; 2509 |#define RSRC_DEC_STFMX_CODE 1064    
                            17110 ; 2510 |//$FILENAME dec_stfmy.src
                            17111 ; 2511 |#define RSRC_DEC_STFMY_CODE 1065    
                            17112 ; 2512 |//$FILENAME Funclet_TunerSTFM1000I2CInit.src
                            17113 ; 2513 |#define RSRC_FUNCLET_STFM1000_I2C_INIT 1066    
                            17114 ; 2514 |//$FILENAME Funclet_TunerDriverScanStations.src
                            17115 ; 2515 |#define RSRC_FUNCLET_TUNER_DRIVER_SCAN_STATION 1067    
                            17116 ; 2516 |//$FILENAME Funclet_TunerDriverSetMonoStereoMode.src
                            17117 ; 2517 |#define RSRC_FUNCLET_TUNER_DRIVER_SET_MONO_STEREO_MODE 1068    
                            17118 ; 2518 |//$FILENAME Funclet_STFM1000TestPresence.src
                            17119 ; 2519 |#define RSRC_FUNCLET_STFM1000_TEST_PRESENCE 1069    
                            17120 ; 2520 |//$FILENAME Funclet_I2CWriteTunerRegister.src
                            17121 ; 2521 |#define RSRC_FUNCLET_I2C_WRITE_TUNER_REGISTER 1070    
                            17122 ; 2522 |//$FILENAME Funclet_I2CReset.src
                            17123 ; 2523 |#define RSRC_FUNCLET_I2C_RESET 1071    
                            17124 ; 2524 |//$FILENAME fmtunersecondrsrc.src
                            17125 ; 2525 |#define RSRC_FM_TUNER_SECOND_RSRC 1072    
                            17126 ; 2526 |//$FILENAME Funclet_TunerSTFM1000RegPowerUp1.src
                            17127 ; 2527 |#define RSRC_FUNCLET_STFM1000_REG_POWER_UP1 1073    
                            17128 ; 2528 |//$FILENAME Funclet_TunerSTFM1000RegPowerUp2.src
                            17129 ; 2529 |#define RSRC_FUNCLET_STFM1000_REG_POWER_UP2 1074    
                            17130 ; 2530 |//$FILENAME Funclet_TunerSTFM1000FindRssiThreshold.src
                            17131 ; 2531 |#define RSRC_FUNCLET_STFM1000_FIND_RSSI_THRESHOLD 1075    
                            17132 ; 2532 |//$FILENAME Funclet_TunerSTFM1000DataPathOff.src
                            17133 ; 2533 |#define RSRC_FUNCLET_STFM1000_DATA_PATH_OFF 1076    
                            17134 ; 2534 |//$FILENAME Funclet_TunerSTFM1000ContinueSearching.src
                            17135 ; 2535 |#define RSRC_FUNCLET_STFM1000_CONTINUE_SEARCHING 1077    
                            17136 ; 2536 |//RSRC_FUNCLET_STFM1000_SET_LNA_BIAS    equ      975    ;$FILENAME Funclet_STFM1000SetLnaBias.src
                            17137 ; 2537 |//RSRC_FUNCLET_STFM1000_LOOK_FOR_PILOT    equ      976    ;$FILENAME Funclet_STFM1000LookForPilot.src
                            17138 ; 2538 |//$FILENAME Funclet_STFM1000TunerSearchEnded.src
                            17139 ; 2539 |#define RSRC_FUNCLET_STFM1000_TUNER_SEARCH_ENDED 1078    
                            17140 ; 2540 |// for RestoreDriveFromBackup
                            17141 ; 2541 |//$FILENAME restoresysdrive.src
                            17142 ; 2542 |#define RSRC_RESTORESYSDRIVE_P_CODE 1079    
                            17143 ; 2543 |
                            17144 ; 2544 |//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                            17145 ; 2545 |// Playlist5 sources
                            17146 ; 2546 |//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                            17147 ; 2547 |//$FILENAME playlist5_browsemenu.src
                            17148 ; 2548 |#define RSRC_PL5BROWSE_MENU_CODEBANK 1080    
                            17149 ; 2549 |//$FILENAME playlist5_browsemenu_extra.src
                            17150 ; 2550 |#define RSRC_PL5_BROWSEMENU_EXTRA 1081    
                            17151 ; 2551 |//$FILENAME playlist5_browse_submenu.src
                            17152 ; 2552 |#define RSRC_PL5BROWSE_SUBMENU_CODEBANK 1082    
                            17153 ; 2553 |//$FILENAME playlist5_playback_module.src
                            17154 ; 2554 |#define RSRC_PLAYLIST5_PLAYBACK_MODULE 1083    
                            17155 ; 2555 |//$FILENAME playlist5_browse_module.src
                            17156 ; 2556 |#define RSRC_PLAYLIST5_BROWSE_MODULE 1084    
                            17157 ; 2557 |
                            17158 ; 2558 |//$FILENAME Funclet_Get_LRCDirName_PL5.src
                            17159 ; 2559 |#define RSRC_FUNCLET_GET_LRC_DIR_NAME_PL5 1085    
                            17160 ; 2560 |//$FILENAME Funclet_PL5_PL_QueuePushBack.src   
                            17161 ; 2561 |#define RSRC_FUNCLET_PL5_PL_QUEUEPUSHBACK 1086    
                            17162 ; 2562 |//$FILENAME Funclet_PL5_PL_QueuePushFront.src 
                            17163 ; 2563 |#define RSRC_FUNCLET_PL5_PL_QUEUEPUSHFRONT 1087    
                            17164 ; 2564 |
                            17165 ; 2565 |//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                            17166 ; 2566 |// DanhNguyen added bitmaps
                            17167 ; 2567 |//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                            17168 ; 2568 |//$FILENAME icon_folder.src
                            17169 ; 2569 |#define RSRC_ICON_FOLDER 1088    
                            17170 ; 2570 |//$FILENAME icon_song.src
                            17171 ; 2571 |#define RSRC_ICON_SONG 1089    
                            17172 ; 2572 |
                            17173 ; 2573 |//$FILENAME menu_music.src
                            17174 ; 2574 |#define RSRC_MENU_MUSIC 1090    
                            17175 ; 2575 |//$FILENAME vie_menu_music.src
                            17176 ; 2576 |#define RSRC_VIE_MENU_MUSIC 1091    
                            17177 ; 2577 |
                            17178 ; 2578 |//$FILENAME menu_voice.src
                            17179 ; 2579 |#define RSRC_MENU_VOICE 1092    
                            17180 ; 2580 |//$FILENAME vie_menu_voice.src
                            17181 ; 2581 |#define RSRC_VIE_MENU_VOICE 1093    
                            17182 ; 2582 |
                            17183 ; 2583 |//$FILENAME menu_fmtuner.src
                            17184 ; 2584 |#define RSRC_MENU_FMTUNER 1094    
                            17185 ; 2585 |//$FILENAME vie_menu_fmtuner.src
                            17186 ; 2586 |#define RSRC_VIE_MENU_FMTUNER 1095    
                            17187 ; 2587 |
                            17188 ; 2588 |//$FILENAME menu_record.src
                            17189 ; 2589 |#define RSRC_MENU_RECORD 1096    
                            17190 ; 2590 |//$FILENAME vie_menu_record.src
                            17191 ; 2591 |#define RSRC_VIE_MENU_RECORD 1097    
                            17192 ; 2592 |
                            17193 ; 2593 |//$FILENAME menu_settings.src
                            17194 ; 2594 |#define RSRC_MENU_SETTINGS 1098    
                            17195 ; 2595 |//$FILENAME vie_menu_settings.src
                            17196 ; 2596 |#define RSRC_VIE_MENU_SETTINGS 1099    
                            17197 ; 2597 |
                            17198 ; 2598 |//$FILENAME menu_shutdown.src
                            17199 ; 2599 |#define RSRC_MENU_SHUTDOWN 1100    
                            17200 ; 2600 |//$FILENAME vie_menu_shutdown.src
                            17201 ; 2601 |#define RSRC_VIE_MENU_SHUTDOWN 1101    
                            17202 ; 2602 |
                            17203 ; 2603 |//$FILENAME menu_clock.src
                            17204 ; 2604 |#define RSRC_MENU_CLOCK 1102    
                            17205 ; 2605 |//$FILENAME vie_menu_clock.src
                            17206 ; 2606 |#define RSRC_VIE_MENU_CLOCK 1103    
                            17207 ; 2607 |
                            17208 ; 2608 |//$FILENAME menu_ab.src
                            17209 ; 2609 |#define RSRC_MENU_AB 1104    
                            17210 ; 2610 |//$FILENAME vie_menu_ab.src
                            17211 ; 2611 |#define RSRC_VIE_MENU_AB 1105    
                            17212 ; 2612 |
                            17213 ; 2613 |//$FILENAME menu_delete.src
                            17214 ; 2614 |#define RSRC_MENU_DELETE 1106    
                            17215 ; 2615 |//$FILENAME vie_menu_delete.src
                            17216 ; 2616 |#define RSRC_VIE_MENU_DELETE 1107    
                            17217 ; 2617 |
                            17218 ; 2618 |//$FILENAME menu_about.src
                            17219 ; 2619 |#define RSRC_MENU_ABOUT 1108    
                            17220 ; 2620 |//$FILENAME vie_menu_about.src
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page  69

M:ADDR CODE           CYCLES LINE SOURCELINE
                            17221 ; 2621 |#define RSRC_VIE_MENU_ABOUT 1109    
                            17222 ; 2622 |
                            17223 ; 2623 |//$FILENAME menu_exit.src
                            17224 ; 2624 |#define RSRC_MENU_EXIT 1110    
                            17225 ; 2625 |//$FILENAME vie_menu_exit.src
                            17226 ; 2626 |#define RSRC_VIE_MENU_EXIT 1111    
                            17227 ; 2627 |
                            17228 ; 2628 |//$FILENAME music_play_all.src
                            17229 ; 2629 |#define RSRC_MUSIC_PLAY_ALL 1112    
                            17230 ; 2630 |//$FILENAME vie_music_play_all.src
                            17231 ; 2631 |#define RSRC_VIE_MUSIC_PLAY_ALL 1113    
                            17232 ; 2632 |
                            17233 ; 2633 |//$FILENAME music_folder_internal.src
                            17234 ; 2634 |#define RSRC_MUSIC_FOLDER_INTERNAL 1114    
                            17235 ; 2635 |//$FILENAME vie_music_folder_internal.src
                            17236 ; 2636 |#define RSRC_VIE_MUSIC_FOLDER_INTERNAL 1115    
                            17237 ; 2637 |
                            17238 ; 2638 |//$FILENAME music_folder_external.src
                            17239 ; 2639 |#define RSRC_MUSIC_FOLDER_EXTERNAL 1116    
                            17240 ; 2640 |//$FILENAME vie_music_folder_external.src
                            17241 ; 2641 |#define RSRC_VIE_MUSIC_FOLDER_EXTERNAL 1117    
                            17242 ; 2642 |
                            17243 ; 2643 |//$FILENAME music_songs.src
                            17244 ; 2644 |#define RSRC_MUSIC_SONGS 1118    
                            17245 ; 2645 |//$FILENAME vie_music_songs.src
                            17246 ; 2646 |#define RSRC_VIE_MUSIC_SONGS 1119    
                            17247 ; 2647 |
                            17248 ; 2648 |//$FILENAME music_favorites.src
                            17249 ; 2649 |#define RSRC_MUSIC_FAVORITES 1120    
                            17250 ; 2650 |//$FILENAME vie_music_favorites.src
                            17251 ; 2651 |#define RSRC_VIE_MUSIC_FAVORITES 1121    
                            17252 ; 2652 |
                            17253 ; 2653 |//$FILENAME music_fm_record.src
                            17254 ; 2654 |#define RSRC_MUSIC_FM_RECORD 1122    
                            17255 ; 2655 |//$FILENAME vie_music_fm_record.src
                            17256 ; 2656 |#define RSRC_VIE_MUSIC_FM_RECORD 1123    
                            17257 ; 2657 |
                            17258 ; 2658 |//$FILENAME music_exit.src
                            17259 ; 2659 |#define RSRC_MUSIC_EXIT 1124    
                            17260 ; 2660 |//$FILENAME vie_music_exit.src
                            17261 ; 2661 |#define RSRC_VIE_MUSIC_EXIT 1125    
                            17262 ; 2662 |
                            17263 ; 2663 |//$FILENAME browse_music_folder_internal.src
                            17264 ; 2664 |#define RSRC_BROWSE_MUSIC_FOLDER_INTERNAL 1126    
                            17265 ; 2665 |//$FILENAME vie_browse_music_folder_internal.src
                            17266 ; 2666 |#define RSRC_VIE_BROWSE_MUSIC_FOLDER_INTERNAL 1127    
                            17267 ; 2667 |
                            17268 ; 2668 |//$FILENAME browse_music_folder_external.src
                            17269 ; 2669 |#define RSRC_BROWSE_MUSIC_FOLDER_EXTERNAL 1128    
                            17270 ; 2670 |//$FILENAME vie_browse_music_folder_external.src
                            17271 ; 2671 |#define RSRC_VIE_BROWSE_MUSIC_FOLDER_EXTERNAL 1129    
                            17272 ; 2672 |
                            17273 ; 2673 |//$FILENAME browse_music_list_songs.src
                            17274 ; 2674 |#define RSRC_BROWSE_MUSIC_LIST_SONGS 1130    
                            17275 ; 2675 |//$FILENAME vie_browse_music_list_songs.src
                            17276 ; 2676 |#define RSRC_VIE_BROWSE_MUSIC_LIST_SONGS 1131    
                            17277 ; 2677 |
                            17278 ; 2678 |//$FILENAME browse_music_favourites.src
                            17279 ; 2679 |#define RSRC_BROWSE_MUSIC_FAVOURITES 1132    
                            17280 ; 2680 |//$FILENAME vie_browse_music_favourites.src
                            17281 ; 2681 |#define RSRC_VIE_BROWSE_MUSIC_FAVOURITES 1133    
                            17282 ; 2682 |
                            17283 ; 2683 |//$FILENAME browse_music_fm_files.src
                            17284 ; 2684 |#define RSRC_BROWSE_MUSIC_FM_FILES 1134    
                            17285 ; 2685 |//$FILENAME vie_browse_music_fm_files.src
                            17286 ; 2686 |#define RSRC_VIE_BROWSE_MUSIC_FM_FILES 1135    
                            17287 ; 2687 |
                            17288 ; 2688 |//$FILENAME browse_voice.src
                            17289 ; 2689 |#define RSRC_BROWSE_VOICE 1136    
                            17290 ; 2690 |//$FILENAME vie_browse_voice.src
                            17291 ; 2691 |#define RSRC_VIE_BROWSE_VOICE 1137    
                            17292 ; 2692 |
                            17293 ; 2693 |//$FILENAME favourites_list_add.src
                            17294 ; 2694 |#define RSRC_FAVOURITES_LIST_ADD 1138    
                            17295 ; 2695 |//$FILENAME vie_favourites_list_add.src
                            17296 ; 2696 |#define RSRC_VIE_FAVOURITES_LIST_ADD 1139    
                            17297 ; 2697 |
                            17298 ; 2698 |//$FILENAME favourites_list_remove.src
                            17299 ; 2699 |#define RSRC_FAVOURITES_LIST_REMOVE 1140    
                            17300 ; 2700 |//$FILENAME vie_favourites_list_remove.src
                            17301 ; 2701 |#define RSRC_VIE_FAVOURITES_LIST_REMOVE 1141    
                            17302 ; 2702 |
                            17303 ; 2703 |//$FILENAME favourites_list_is_full.src
                            17304 ; 2704 |#define RSRC_FAVOURITES_LIST_IS_FULL 1142    
                            17305 ; 2705 |//$FILENAME vie_favourites_list_is_full.src
                            17306 ; 2706 |#define RSRC_VIE_FAVOURITES_LIST_IS_FULL 1143    
                            17307 ; 2707 |
                            17308 ; 2708 |//$FILENAME about_screen_1.src
                            17309 ; 2709 |#define RSRC_ABOUT_SCREEN_1 1144    
                            17310 ; 2710 |//$FILENAME vie_about_screen_1.src
                            17311 ; 2711 |#define RSRC_VIE_ABOUT_SCREEN_1 1145    
                            17312 ; 2712 |
                            17313 ; 2713 |//$FILENAME about_screen_2.src
                            17314 ; 2714 |#define RSRC_ABOUT_SCREEN_2 1146    
                            17315 ; 2715 |//$FILENAME vie_about_screen_2.src
                            17316 ; 2716 |#define RSRC_VIE_ABOUT_SCREEN_2 1147    
                            17317 ; 2717 |
                            17318 ; 2718 |//$FILENAME about_screen_3.src
                            17319 ; 2719 |#define RSRC_ABOUT_SCREEN_3 1148    
                            17320 ; 2720 |//$FILENAME vie_about_screen_3.src
                            17321 ; 2721 |#define RSRC_VIE_ABOUT_SCREEN_3 1149    
                            17322 ; 2722 |
                            17323 ; 2723 |//$FILENAME about_screen_4.src
                            17324 ; 2724 |#define RSRC_ABOUT_SCREEN_4 1150    
                            17325 ; 2725 |//$FILENAME vie_about_screen_4.src
                            17326 ; 2726 |#define RSRC_VIE_ABOUT_SCREEN_4 1151    
                            17327 ; 2727 |
                            17328 ; 2728 |//$FILENAME time_date_exit_title.src
                            17329 ; 2729 |#define RSRC_TIME_DATE_EXIT_TITLE 1152    
                            17330 ; 2730 |//$FILENAME vie_time_date_exit_title.src
                            17331 ; 2731 |#define RSRC_VIE_TIME_DATE_EXIT_TITLE 1153    
                            17332 ; 2732 |
                            17333 ; 2733 |//$FILENAME time_clean_desktop.src
                            17334 ; 2734 |#define RSRC_TIME_CLEAN_DESKTOP 1154    
                            17335 ; 2735 |//$FILENAME time_dash.src
                            17336 ; 2736 |#define RSRC_TIME_DASH 1155    
                            17337 ; 2737 |
                            17338 ; 2738 |//$FILENAME time_day_7.src
                            17339 ; 2739 |#define RSRC_TIME_DAY_SAT 1156    
                            17340 ; 2740 |//$FILENAME vie_time_day_7.src
                            17341 ; 2741 |#define RSRC_VIE_TIME_DAY_SAT 1157    
                            17342 ; 2742 |//$FILENAME time_day_cn.src
                            17343 ; 2743 |#define RSRC_TIME_DAY_SUN 1158    
                            17344 ; 2744 |//$FILENAME vie_time_day_cn.src
                            17345 ; 2745 |#define RSRC_VIE_TIME_DAY_SUN 1159    
                            17346 ; 2746 |//$FILENAME time_day_2.src
                            17347 ; 2747 |#define RSRC_TIME_DAY_MON 1160    
                            17348 ; 2748 |//$FILENAME vie_time_day_2.src
                            17349 ; 2749 |#define RSRC_VIE_TIME_DAY_MON 1161    
                            17350 ; 2750 |//$FILENAME time_day_3.src
                            17351 ; 2751 |#define RSRC_TIME_DAY_TUE 1162    
                            17352 ; 2752 |//$FILENAME vie_time_day_3.src
                            17353 ; 2753 |#define RSRC_VIE_TIME_DAY_TUE 1163    
                            17354 ; 2754 |//$FILENAME time_day_4.src
                            17355 ; 2755 |#define RSRC_TIME_DAY_WED 1164    
                            17356 ; 2756 |//$FILENAME vie_time_day_4.src
                            17357 ; 2757 |#define RSRC_VIE_TIME_DAY_WED 1165    
                            17358 ; 2758 |//$FILENAME time_day_5.src
                            17359 ; 2759 |#define RSRC_TIME_DAY_THU 1166    
                            17360 ; 2760 |//$FILENAME vie_time_day_5.src
                            17361 ; 2761 |#define RSRC_VIE_TIME_DAY_THU 1167    
                            17362 ; 2762 |//$FILENAME time_day_6.src
                            17363 ; 2763 |#define RSRC_TIME_DAY_FRI 1168    
                            17364 ; 2764 |//$FILENAME vie_time_day_6.src
                            17365 ; 2765 |#define RSRC_VIE_TIME_DAY_FRI 1169    
                            17366 ; 2766 |
                            17367 ; 2767 |//$FILENAME time_month_1.src
                            17368 ; 2768 |#define RSRC_TIME_MONTH_1 1170    
                            17369 ; 2769 |//$FILENAME vie_time_month_1.src
                            17370 ; 2770 |#define RSRC_VIE_TIME_MONTH_1 1171    
                            17371 ; 2771 |//$FILENAME time_month_2.src
                            17372 ; 2772 |#define RSRC_TIME_MONTH_2 1172    
                            17373 ; 2773 |//$FILENAME vie_time_month_2.src
                            17374 ; 2774 |#define RSRC_VIE_TIME_MONTH_2 1173    
                            17375 ; 2775 |//$FILENAME time_month_3.src
                            17376 ; 2776 |#define RSRC_TIME_MONTH_3 1174    
                            17377 ; 2777 |//$FILENAME vie_time_month_3.src
                            17378 ; 2778 |#define RSRC_VIE_TIME_MONTH_3 1175    
                            17379 ; 2779 |//$FILENAME time_month_4.src
                            17380 ; 2780 |#define RSRC_TIME_MONTH_4 1176    
                            17381 ; 2781 |//$FILENAME vie_time_month_4.src
                            17382 ; 2782 |#define RSRC_VIE_TIME_MONTH_4 1177    
                            17383 ; 2783 |//$FILENAME time_month_5.src
                            17384 ; 2784 |#define RSRC_TIME_MONTH_5 1178    
                            17385 ; 2785 |//$FILENAME vie_time_month_5.src
                            17386 ; 2786 |#define RSRC_VIE_TIME_MONTH_5 1179    
                            17387 ; 2787 |//$FILENAME time_month_6.src
                            17388 ; 2788 |#define RSRC_TIME_MONTH_6 1180    
                            17389 ; 2789 |//$FILENAME vie_time_month_6.src
                            17390 ; 2790 |#define RSRC_VIE_TIME_MONTH_6 1181    
                            17391 ; 2791 |//$FILENAME time_month_7.src
                            17392 ; 2792 |#define RSRC_TIME_MONTH_7 1182    
                            17393 ; 2793 |//$FILENAME vie_time_month_7.src
                            17394 ; 2794 |#define RSRC_VIE_TIME_MONTH_7 1183    
                            17395 ; 2795 |//$FILENAME time_month_8.src
                            17396 ; 2796 |#define RSRC_TIME_MONTH_8 1184    
                            17397 ; 2797 |//$FILENAME vie_time_month_8.src
                            17398 ; 2798 |#define RSRC_VIE_TIME_MONTH_8 1185    
                            17399 ; 2799 |//$FILENAME time_month_9.src
                            17400 ; 2800 |#define RSRC_TIME_MONTH_9 1186    
                            17401 ; 2801 |//$FILENAME vie_time_month_9.src
                            17402 ; 2802 |#define RSRC_VIE_TIME_MONTH_9 1187    
                            17403 ; 2803 |//$FILENAME time_month_10.src
                            17404 ; 2804 |#define RSRC_TIME_MONTH_10 1188    
                            17405 ; 2805 |//$FILENAME vie_time_month_10.src
                            17406 ; 2806 |#define RSRC_VIE_TIME_MONTH_10 1189    
                            17407 ; 2807 |//$FILENAME time_month_11.src
                            17408 ; 2808 |#define RSRC_TIME_MONTH_11 1190    
                            17409 ; 2809 |//$FILENAME vie_time_month_11.src
                            17410 ; 2810 |#define RSRC_VIE_TIME_MONTH_11 1191    
                            17411 ; 2811 |//$FILENAME time_month_12.src
                            17412 ; 2812 |#define RSRC_TIME_MONTH_12 1192    
                            17413 ; 2813 |//$FILENAME vie_time_month_12.src
                            17414 ; 2814 |#define RSRC_VIE_TIME_MONTH_12 1193    
                            17415 ; 2815 |
                            17416 ; 2816 |//$FILENAME time_num_am.src
                            17417 ; 2817 |#define RSRC_TIME_NUM_AM 1194    
                            17418 ; 2818 |//$FILENAME time_num_am.src
                            17419 ; 2819 |#define RSRC_TIME_NUM_PM 1195    
                            17420 ; 2820 |//$FILENAME settime_format_12h.src
                            17421 ; 2821 |#define RSRC_SETTIME_FORMAT_12H 1196    
                            17422 ; 2822 |//$FILENAME settime_format_24h.src
                            17423 ; 2823 |#define RSRC_SETTIME_FORMAT_24H 1197    
                            17424 ; 2824 |//$FILENAME setdate_format_dmy.src
                            17425 ; 2825 |#define RSRC_SETDATE_FORMAT_DMY 1198    
                            17426 ; 2826 |//$FILENAME setdate_format_mdy.src
                            17427 ; 2827 |#define RSRC_SETDATE_FORMAT_MDY 1199    
                            17428 ; 2828 |//$FILENAME setdate_format_ymd.src
                            17429 ; 2829 |#define RSRC_SETDATE_FORMAT_YMD 1200    
                            17430 ; 2830 |
                            17431 ; 2831 |//$FILENAME time_num_large_0.src
                            17432 ; 2832 |#define RSRC_TIME_NUM_LARGE_0 1201    
                            17433 ; 2833 |//$FILENAME time_num_large_1.src
                            17434 ; 2834 |#define RSRC_TIME_NUM_LARGE_1 1202    
                            17435 ; 2835 |//$FILENAME time_num_large_2.src
                            17436 ; 2836 |#define RSRC_TIME_NUM_LARGE_2 1203    
                            17437 ; 2837 |//$FILENAME time_num_large_3.src
                            17438 ; 2838 |#define RSRC_TIME_NUM_LARGE_3 1204    
                            17439 ; 2839 |//$FILENAME time_num_large_4.src
                            17440 ; 2840 |#define RSRC_TIME_NUM_LARGE_4 1205    
                            17441 ; 2841 |//$FILENAME time_num_large_5.src
                            17442 ; 2842 |#define RSRC_TIME_NUM_LARGE_5 1206    
                            17443 ; 2843 |//$FILENAME time_num_large_6.src
                            17444 ; 2844 |#define RSRC_TIME_NUM_LARGE_6 1207    
                            17445 ; 2845 |//$FILENAME time_num_large_7.src
                            17446 ; 2846 |#define RSRC_TIME_NUM_LARGE_7 1208    
                            17447 ; 2847 |//$FILENAME time_num_large_8.src
                            17448 ; 2848 |#define RSRC_TIME_NUM_LARGE_8 1209    
                            17449 ; 2849 |//$FILENAME time_num_large_9.src
                            17450 ; 2850 |#define RSRC_TIME_NUM_LARGE_9 1210    
                            17451 ; 2851 |
                            17452 ; 2852 |//$FILENAME time_num_medium_0.src
                            17453 ; 2853 |#define RSRC_TIME_NUM_MEDIUM_0 1211    
                            17454 ; 2854 |//$FILENAME time_num_medium_1.src
                            17455 ; 2855 |#define RSRC_TIME_NUM_MEDIUM_1 1212    
                            17456 ; 2856 |//$FILENAME time_num_medium_2.src
                            17457 ; 2857 |#define RSRC_TIME_NUM_MEDIUM_2 1213    
                            17458 ; 2858 |//$FILENAME time_num_medium_3.src
                            17459 ; 2859 |#define RSRC_TIME_NUM_MEDIUM_3 1214    
                            17460 ; 2860 |//$FILENAME time_num_medium_4.src
                            17461 ; 2861 |#define RSRC_TIME_NUM_MEDIUM_4 1215    
                            17462 ; 2862 |//$FILENAME time_num_medium_5.src
                            17463 ; 2863 |#define RSRC_TIME_NUM_MEDIUM_5 1216    
                            17464 ; 2864 |//$FILENAME time_num_medium_6.src
                            17465 ; 2865 |#define RSRC_TIME_NUM_MEDIUM_6 1217    
                            17466 ; 2866 |//$FILENAME time_num_medium_7.src
                            17467 ; 2867 |#define RSRC_TIME_NUM_MEDIUM_7 1218    
                            17468 ; 2868 |//$FILENAME time_num_medium_8.src
                            17469 ; 2869 |#define RSRC_TIME_NUM_MEDIUM_8 1219    
                            17470 ; 2870 |//$FILENAME time_num_medium_9.src
                            17471 ; 2871 |#define RSRC_TIME_NUM_MEDIUM_9 1220    
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page  70

M:ADDR CODE           CYCLES LINE SOURCELINE
                            17472 ; 2872 |
                            17473 ; 2873 |//$FILENAME time_colon.src
                            17474 ; 2874 |#define RSRC_TIME_COLON 1221    
                            17475 ; 2875 |
                            17476 ; 2876 |//$FILENAME settings_backlight_title.src
                            17477 ; 2877 |#define RSRC_SETTINGS_BACKLIGHT_TITLE 1222    
                            17478 ; 2878 |//$FILENAME settings_auto_shutdown_title.src
                            17479 ; 2879 |#define RSRC_SETTINGS_AUTO_SHUTDOWN_TITLE 1223    
                            17480 ; 2880 |//$FILENAME settings_playmode_title.src
                            17481 ; 2881 |#define RSRC_SETTINGS_PLAYMODE_TITLE 1224    
                            17482 ; 2882 |
                            17483 ; 2883 |//$FILENAME settings_contrast_title.src
                            17484 ; 2884 |#define RSRC_SETTINGS_CONTRAST_TITLE 1225    
                            17485 ; 2885 |//$FILENAME vie_settings_contrast_title.src
                            17486 ; 2886 |#define RSRC_VIE_SETTINGS_CONTRAST_TITLE 1226    
                            17487 ; 2887 |
                            17488 ; 2888 |//$FILENAME settings_eq_title.src
                            17489 ; 2889 |#define RSRC_SETTINGS_EQ_TITLE 1227    
                            17490 ; 2890 |//$FILENAME vie_settings_eq_title.src
                            17491 ; 2891 |#define RSRC_VIE_SETTINGS_EQ_TITLE 1228    
                            17492 ; 2892 |
                            17493 ; 2893 |//$FILENAME settings_exit_title.src
                            17494 ; 2894 |#define RSRC_SETTINGS_EXIT_TITLE 1229    
                            17495 ; 2895 |//$FILENAME vie_settings_exit_title.src
                            17496 ; 2896 |#define RSRC_VIE_SETTINGS_EXIT_TITLE 1230    
                            17497 ; 2897 |
                            17498 ; 2898 |//$FILENAME settings_set_date_title.src
                            17499 ; 2899 |#define RSRC_SETTINGS_SET_DATE_TITLE 1231    
                            17500 ; 2900 |//$FILENAME vie_settings_set_date_title.src
                            17501 ; 2901 |#define RSRC_VIE_SETTINGS_SET_DATE_TITLE 1232    
                            17502 ; 2902 |
                            17503 ; 2903 |//$FILENAME settings_set_time_title.src
                            17504 ; 2904 |#define RSRC_SETTINGS_SET_TIME_TITLE 1233    
                            17505 ; 2905 |//$FILENAME vie_settings_set_time_title.src
                            17506 ; 2906 |#define RSRC_VIE_SETTINGS_SET_TIME_TITLE 1234    
                            17507 ; 2907 |
                            17508 ; 2908 |//$FILENAME settings_playmode_normal.src
                            17509 ; 2909 |#define RSRC_SETTINGS_PLAYMODE_NORMAL 1235    
                            17510 ; 2910 |//$FILENAME vie_settings_playmode_normal.src
                            17511 ; 2911 |#define RSRC_VIE_SETTINGS_PLAYMODE_NORMAL 1236    
                            17512 ; 2912 |
                            17513 ; 2913 |//$FILENAME settings_playmode_repeatone.src
                            17514 ; 2914 |#define RSRC_SETTINGS_PLAYMODE_REPEATONE 1237    
                            17515 ; 2915 |//$FILENAME vie_settings_playmode_repeatone.src
                            17516 ; 2916 |#define RSRC_VIE_SETTINGS_PLAYMODE_REPEATONE 1238    
                            17517 ; 2917 |
                            17518 ; 2918 |//$FILENAME settings_playmode_repeatall.src
                            17519 ; 2919 |#define RSRC_SETTINGS_PLAYMODE_REPEATALL 1239    
                            17520 ; 2920 |//$FILENAME vie_settings_playmode_repeatall.src
                            17521 ; 2921 |#define RSRC_VIE_SETTINGS_PLAYMODE_REPEATALL 1240    
                            17522 ; 2922 |
                            17523 ; 2923 |//$FILENAME settings_playmode_shuffle.src
                            17524 ; 2924 |#define RSRC_SETTINGS_PLAYMODE_SHUFFLE 1241    
                            17525 ; 2925 |//$FILENAME vie_settings_playmode_shuffle.src
                            17526 ; 2926 |#define RSRC_VIE_SETTINGS_PLAYMODE_SHUFFLE 1242    
                            17527 ; 2927 |
                            17528 ; 2928 |//$FILENAME settings_playmode_shuffle_repeat.src
                            17529 ; 2929 |#define RSRC_SETTINGS_PLAYMODE_SHUFFLE_REPEAT 1243    
                            17530 ; 2930 |//$FILENAME vie_settings_playmode_shuffle_repeat.src
                            17531 ; 2931 |#define RSRC_VIE_SETTINGS_PLAYMODE_SHUFFLE_REPEAT 1244    
                            17532 ; 2932 |
                            17533 ; 2933 |//$FILENAME settings_backlight_on.src
                            17534 ; 2934 |#define RSRC_SETTINGS_BACKLIGHT_ON 1245    
                            17535 ; 2935 |//$FILENAME vie_settings_backlight_on.src
                            17536 ; 2936 |#define RSRC_VIE_SETTINGS_BACKLIGHT_ON 1246    
                            17537 ; 2937 |
                            17538 ; 2938 |//$FILENAME settings_backlight_10s.src
                            17539 ; 2939 |#define RSRC_SETTINGS_BACKLIGHT_10S 1247    
                            17540 ; 2940 |//$FILENAME vie_settings_backlight_10s.src
                            17541 ; 2941 |#define RSRC_VIE_SETTINGS_BACKLIGHT_10S 1248    
                            17542 ; 2942 |
                            17543 ; 2943 |//$FILENAME settings_backlight_20s.src
                            17544 ; 2944 |#define RSRC_SETTINGS_BACKLIGHT_20S 1249    
                            17545 ; 2945 |//$FILENAME vie_settings_backlight_20s.src
                            17546 ; 2946 |#define RSRC_VIE_SETTINGS_BACKLIGHT_20s 1250    
                            17547 ; 2947 |
                            17548 ; 2948 |//$FILENAME settings_backlight_30s.src
                            17549 ; 2949 |#define RSRC_SETTINGS_BACKLIGHT_30S 1251    
                            17550 ; 2950 |//$FILENAME vie_settings_backlight_30s.src
                            17551 ; 2951 |#define RSRC_VIE_SETTINGS_BACKLIGHT_30S 1252    
                            17552 ; 2952 |
                            17553 ; 2953 |//$FILENAME settings_auto_shutdown_disable.src
                            17554 ; 2954 |#define RSRC_SETTINGS_AUTO_SHUTDOWN_DISABLE 1253    
                            17555 ; 2955 |//$FILENAME vie_settings_auto_shutdown_disable.src
                            17556 ; 2956 |#define RSRC_VIE_SETTINGS_AUTO_SHUTDOWN_DISABLE 1254    
                            17557 ; 2957 |
                            17558 ; 2958 |//$FILENAME settings_auto_shutdown_1minute.src
                            17559 ; 2959 |#define RSRC_SETTINGS_AUTO_SHUTDOWN_1MINUTE 1255    
                            17560 ; 2960 |//$FILENAME vie_settings_auto_shutdown_1min.src
                            17561 ; 2961 |#define RSRC_VIE_SETTINGS_AUTO_SHUTDOWN_1MINUTE 1256    
                            17562 ; 2962 |
                            17563 ; 2963 |//$FILENAME settings_auto_shutdown_2minutes.src
                            17564 ; 2964 |#define RSRC_SETTINGS_AUTO_SHUTDOWN_2MINUTES 1257    
                            17565 ; 2965 |//$FILENAME vie_settings_auto_shutdown_2min.src
                            17566 ; 2966 |#define RSRC_VIE_SETTINGS_AUTO_SHUTDOWN_2MINUTES 1258    
                            17567 ; 2967 |
                            17568 ; 2968 |//$FILENAME settings_auto_shutdown_5minutes.src
                            17569 ; 2969 |#define RSRC_SETTINGS_AUTO_SHUTDOWN_5MINUTES 1259    
                            17570 ; 2970 |//$FILENAME vie_settings_auto_shutdown_5min.src
                            17571 ; 2971 |#define RSRC_VIE_SETTINGS_AUTO_SHUTDOWN_5MINUTES 1260    
                            17572 ; 2972 |
                            17573 ; 2973 |//$FILENAME settings_auto_shutdown_10minutes.src
                            17574 ; 2974 |#define RSRC_SETTINGS_AUTO_SHUTDOWN_10MINUTES 1261    
                            17575 ; 2975 |//$FILENAME vie_settings_auto_shutdown_10min.src
                            17576 ; 2976 |#define RSRC_VIE_SETTINGS_AUTO_SHUTDOWN_10MINUTES 1262    
                            17577 ; 2977 |
                            17578 ; 2978 |//$FILENAME settings_languages_eng.src
                            17579 ; 2979 |#define RSRC_SETTINGS_LANGUAGES_ENG 1263    
                            17580 ; 2980 |//$FILENAME settings_languages_vie.src
                            17581 ; 2981 |#define RSRC_SETTINGS_LANGUAGES_VIE 1264    
                            17582 ; 2982 |
                            17583 ; 2983 |//$FILENAME fraction_dot.src
                            17584 ; 2984 |#define RSRC_FRACTION_DOT 1265    
                            17585 ; 2985 |
                            17586 ; 2986 |//$FILENAME fm_background.src
                            17587 ; 2987 |#define RSRC_FM_BACKGROUND 1266    
                            17588 ; 2988 |//$FILENAME vie_fm_background.src
                            17589 ; 2989 |#define RSRC_VIE_FM_BACKGROUND 1267    
                            17590 ; 2990 |
                            17591 ; 2991 |//$FILENAME searching_please_wait.src
                            17592 ; 2992 |#define RSRC_SEARCHING_PLEASE_WAIT 1268    
                            17593 ; 2993 |//$FILENAME vie_searching_please_wait.src
                            17594 ; 2994 |#define RSRC_VIE_SEARCHING_PLEASE_WAIT 1269    
                            17595 ; 2995 |
                            17596 ; 2996 |//$FILENAME fm_auto_search.src
                            17597 ; 2997 |#define RSRC_FM_AUTO_SEARCH 1270    
                            17598 ; 2998 |//$FILENAME vie_fm_auto_search.src
                            17599 ; 2999 |#define RSRC_VIE_FM_AUTO_SEARCH 1271    
                            17600 ; 3000 |
                            17601 ; 3001 |//$FILENAME jvj_shutdown_player.src
                            17602 ; 3002 |#define RSRC_JVJ_SHUTDOWN_PLAYER 1272    
                            17603 ; 3003 |//$FILENAME vie_jvj_shutdown_player.src
                            17604 ; 3004 |#define RSRC_VIE_JVJ_SHUTDOWN_PLAYER 1273    
                            17605 ; 3005 |
                            17606 ; 3006 |#endif //IF (!@def(resources))
                            17607 ; 3007 |
                            17608 
                            17610 
                            17611 ; 17   |#include "sysspeed.h"
                            17612 
                            17614 
                            17615 ; 1    |/////////////////////////////////////////////////////////////////////////////////
                            17616 ; 2    |// Copyright(C) SigmaTel, Inc. 2000-2004
                            17617 ; 3    |// Speed defs
                            17618 ; 4    |// NOTE: sysspeed.H is generated from sysspeed.INC. Only modify inc version.
                            17619 ; 5    |// Speed clients: See SPEED_CLIENT_ defines and non 3400 Speed Indeces
                            17620 ; 6    |/////////////////////////////////////////////////////////////////////////////////
                            17621 ; 7    |
                            17622 ; 8    |#if (!defined(SYSSPEED_INC))
                            17623 ; 9    |#define SYSSPEED_INC 1
                            17624 ; 10   |
                            17625 ; 11   |// PLL Frequency Divider (Assume DDIV=0)
                            17626 ; 12   |// PLL Output Frequency = (33+PDIV)*(XTAL/20)   XTAL=24 MHz
                            17627 ; 13   |// PDIV = (Speed * 20 / 24) - 33  (if DDIV=0)
                            17628 ; 14   |// Digital Clock Post Divider 
                            17629 ; 15   |// Digital Clock = PLL Output Fequency / 2^DDIV   (Speed is in MHz)
                            17630 ; 16   |// GP Flash Timing Registers
                            17631 ; 17   |// x:HW_GPFLASH_TIMING1R
                            17632 ; 18   |//      TSU = 0ns 
                            17633 ; 19   |//      TH = 10ns Min
                            17634 ; 20   |// Use Default Settings since max speed is 75.6 MHz or 13.2275 ns
                            17635 ; 21   |// Add Register if needed
                            17636 ; 22   |// x:HW_GPFLASH_TIMING2R 
                            17637 ; 23   |//      TDS = 25ns Min  data setup time
                            17638 ; 24   |//      TDH = 15ns Min  data hold  time
                            17639 ; 25   |//      TDS + TDH must be > 50 nS
                            17640 ; 26   |// Speed Indexes (into the speed table)
                            17641 ; 27   |//!!!!! ** MUST BE ORDERED FROM LOWEST TO HIGHEST FREQ ** !!!!!
                            17642 ; 28   |// NOTE: Executive speed client must only use speed index 1 or 0 (IDLE).
                            17643 ; 29   |#define SPEED_IDLE 0 
                            17644 ; 30   |#define SPEED_AUDIBLE_MP3 1
                            17645 ; 31   |#define SPEED_AUDIBLE_ACELP_SR8KHz 2
                            17646 ; 32   |#define SPEED_FM 3
                            17647 ; 33   |#define SPEED_FM_EQ 4
                            17648 ; 34   |#define SPEED_AUDIBLE_ACELP_SR16KHz 5
                            17649 ; 35   |#define SPEED_MP3 6
                            17650 ; 36   |#define SPEED_ADPCM 7
                            17651 ; 37   |#define SPEED_MIXER 8
                            17652 ; 38   |#define SPEED_ADCBASE 9
                            17653 ; 39   |#define SPEED_MAX 10
                            17654 ; 40   |#define SPEED_WMA 11
                            17655 ; 41   |#define SPEED_MP3ENCODE 12
                            17656 ; 42   |#define SPEED_PEAK 13
                            17657 ; 43   |#define SPEED_LAST SPEED_PEAK
                            17658 ; 44   |#define SPEED_UNINITIALIZED SPEED_LAST+1
                            17659 ; 45   |// SPEED_UNINITIALIZED must be the highest index value
                            17660 ; 46   |
                            17661 ; 47   |// Idle speed is 10 MHz  (98.04nS)
                            17662 ; 48   |#define IDLE_SPEED 10              
                            17663 ; 49   |// (1+33)*(24/20) = 40.8
                            17664 ; 50   |#define IDLE_PDIV 1               
                            17665 ; 51   |// 40.5504 / (2^2) = 10.2 MHz
                            17666 ; 52   |#define IDLE_DDIV 2               
                            17667 ; 53   |// 1.37v
                            17668 ; 54   |#define IDLE_VOLTAGE 0x00000B         
                            17669 ; 55   |// 1.28v 
                            17670 ; 56   |#define IDLE_BOVOLTAGE 0x000800         
                            17671 ; 57   |
                            17672 ; 58   |
                            17673 ; 59   |// tdh and tds: hold and setup times in n dclks are 6-bit fields that are right justified byte aligned
                            17674 ; 60   |// 60MHz MSC uses the following clock setup: 
                            17675 ; 61   |// NAND1     $000203 -> (2+3)/60MHz =  83.3ns   2 dclk hold and 3 dclk setup
                            17676 ; 62   |// NAND2     $000304 -> (3+4)/60MHz = 116.7ns
                            17677 ; 63   |// NAND3     $000305 -> (3+5)/60MHz = 133.3ns
                            17678 ; 64   |// NAND4     $000305 -> (3+5)/60MHz = 133.3ns
                            17679 ; 65   |// So, for 10MHz idle speed:
                            17680 ; 66   |// NAND1,2,4 may use $000101 
                            17681 ; 67   |#if (defined(DEBUG))
                            17682 ; 68   |#if (defined(NAND1))
                            17683 ; 69   |// HW_GPFLASH_TIMING2R - 1dclk/access time for both TDH and TDS
                            17684 ; 70   |#define IDLE_GPSPEED 0x000101         
                            17685 ; 71   |#else 
                            17686 ; 72   |#if (defined(NAND2))
                            17687 ; 73   |// HW_GPFLASH_TIMING2R - 1dclk/access time for both TDH and TDS
                            17688 ; 74   |#define IDLE_GPSPEED 0x000101         
                            17689 ; 75   |#else 
                            17690 ; 76   |#if (defined(NAND3))
                            17691 ; 77   |// HW_GPFLASH_TIMING2R - 1dclk/access time for both TDH and TDS
                            17692 ; 78   |#define IDLE_GPSPEED 0x000101         
                            17693 ; 79   |#else 
                            17694 ; 80   |#if (defined(NAND4))
                            17695 ; 81   |// HW_GPFLASH_TIMING2R - 1dclk/access time for both TDH and TDS
                            17696 ; 82   |#define IDLE_GPSPEED 0x000101         
                            17697 ; 83   |#else 
                            17698 ; 84   |// HW_GPFLASH_TIMING2R - 1dclk/access time for both TDH and TDS
                            17699 ; 85   |#define IDLE_GPSPEED 0x000101         
                            17700 ; 86   |#endif
                            17701 ; 87   |#endif
                            17702 ; 88   |#endif
                            17703 ; 89   |#endif
                            17704 ; 90   |#else 
                            17705 ; 91   |// HW_GPFLASH_TIMING2R - 1dclk/access time for both TDH and TDS
                            17706 ; 92   |#define IDLE_GPSPEED 0x000101         
                            17707 ; 93   |#endif
                            17708 ; 94   |//---------    
                            17709 ; 95   |
                            17710 ; 96   |// speed is 15 MHz(66.6nS)
                            17711 ; 97   |#define AUDIBLE_MP3_SPEED 15              
                            17712 ; 98   |// PLL O/P freq = (33 + PDIV)*(24/20) = (33 + 17)*(24/20) = 60MHz
                            17713 ; 99   |#define AUDIBLE_MP3_PDIV 17              
                            17714 ; 100  |// DCLK = 40.8MHz/(2^DDIV) = 15MHz
                            17715 ; 101  |#define AUDIBLE_MP3_DDIV 2               
                            17716 ; 102  |// 1.37V
                            17717 ; 103  |#define AUDIBLE_MP3_VOLTAGE 0x00000B         
                            17718 ; 104  |// 1.28V 
                            17719 ; 105  |#define AUDIBLE_MP3_BOVOLTAGE 0x000800         
                            17720 ; 106  |
                            17721 ; 107  |// NAND1     15MHz *  83.3ns = 1.249 -> $000101
                            17722 ; 108  |// NAND2     15MHz * 116.7ns = 1.750 -> $000101
                            17723 ; 109  |// NAND3|4   15MHz * 133.3ns = 1.999 -> $000101
                            17724 ; 110  |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page  71

M:ADDR CODE           CYCLES LINE SOURCELINE
                            17725 ; 111  |#if (defined(DEBUG))
                            17726 ; 112  |#if (defined(NAND1))
                            17727 ; 113  |// HW_GPFLASH_TIMING2R - 1dclk/access time for both TDH and TDS
                            17728 ; 114  |#define AUDIBLE_MP3_GPSPEED 0x000101         
                            17729 ; 115  |#else 
                            17730 ; 116  |#if (defined(NAND2))
                            17731 ; 117  |// HW_GPFLASH_TIMING2R - 1dclk/access time for TDH and 2 for TDS
                            17732 ; 118  |#define AUDIBLE_MP3_GPSPEED 0x000101         
                            17733 ; 119  |#else 
                            17734 ; 120  |#if (defined(NAND3))
                            17735 ; 121  |// HW_GPFLASH_TIMING2R - 1dclk/access time for TDH and 2 for TDS
                            17736 ; 122  |#define AUDIBLE_MP3_GPSPEED 0x000101         
                            17737 ; 123  |#else 
                            17738 ; 124  |#if (defined(NAND4))
                            17739 ; 125  |// HW_GPFLASH_TIMING2R - 1dclk/access time for TDH and 2 for TDS
                            17740 ; 126  |#define AUDIBLE_MP3_GPSPEED 0x000101         
                            17741 ; 127  |#else 
                            17742 ; 128  |// HW_GPFLASH_TIMING2R - 1dclk/access time for both TDH and TDS
                            17743 ; 129  |#define AUDIBLE_MP3_GPSPEED 0x000101         
                            17744 ; 130  |#endif
                            17745 ; 131  |#endif
                            17746 ; 132  |#endif
                            17747 ; 133  |#endif
                            17748 ; 134  |#else 
                            17749 ; 135  |// HW_GPFLASH_TIMING2R - 1dclk/access time for both TDH and TDS
                            17750 ; 136  |#define AUDIBLE_MP3_GPSPEED 0x000101         
                            17751 ; 137  |#endif
                            17752 ; 138  |//---------   
                            17753 ; 139  |
                            17754 ; 140  |// speed is 15 MHz(66.6nS)
                            17755 ; 141  |#define AUDIBLE_ACELP_SR8KHz_SPEED 15              
                            17756 ; 142  |// PLL O/P freq = (33 + PDIV)*(24/20) = (33 + 17)*(24/20) = 60MHz
                            17757 ; 143  |#define AUDIBLE_ACELP_SR8KHz_PDIV 17              
                            17758 ; 144  |// DCLK = 40.8MHz/(2^DDIV) = 15MHz
                            17759 ; 145  |#define AUDIBLE_ACELP_SR8KHz_DDIV 2               
                            17760 ; 146  |// 1.37V
                            17761 ; 147  |#define AUDIBLE_ACELP_SR8KHz_VOLTAGE 0x00000B         
                            17762 ; 148  |// 1.28V 
                            17763 ; 149  |#define AUDIBLE_ACELP_SR8KHz_BOVOLTAGE 0x000800         
                            17764 ; 150  |
                            17765 ; 151  |// NAND1     15MHz *  83.3ns = 1.249 -> $000101
                            17766 ; 152  |// NAND2     15MHz * 116.7ns = 1.750 -> $000101
                            17767 ; 153  |// NAND3|4   15MHz * 133.3ns = 1.999 -> $000101
                            17768 ; 154  |
                            17769 ; 155  |#if (defined(DEBUG))
                            17770 ; 156  |#if (defined(NAND1))
                            17771 ; 157  |// HW_GPFLASH_TIMING2R - 1dclk/access time for both TDH and TDS
                            17772 ; 158  |#define AUDIBLE_ACELP_SR8KHz_GPSPEED 0x000101         
                            17773 ; 159  |#else 
                            17774 ; 160  |#if (defined(NAND2))
                            17775 ; 161  |// HW_GPFLASH_TIMING2R - 1dclk/access time for TDH and 2 for TDS
                            17776 ; 162  |#define AUDIBLE_ACELP_SR8KHz_GPSPEED 0x000101         
                            17777 ; 163  |#else 
                            17778 ; 164  |#if (defined(NAND3))
                            17779 ; 165  |// HW_GPFLASH_TIMING2R - 1dclk/access time for TDH and 2 for TDS
                            17780 ; 166  |#define AUDIBLE_ACELP_SR8KHz_GPSPEED 0x000101         
                            17781 ; 167  |#else 
                            17782 ; 168  |#if (defined(NAND4))
                            17783 ; 169  |// HW_GPFLASH_TIMING2R - 1dclk/access time for TDH and 2 for TDS
                            17784 ; 170  |#define AUDIBLE_ACELP_SR8KHz_GPSPEED 0x000101         
                            17785 ; 171  |#else 
                            17786 ; 172  |// HW_GPFLASH_TIMING2R - 1dclk/access time for both TDH and TDS
                            17787 ; 173  |#define AUDIBLE_ACELP_SR8KHz_GPSPEED 0x000101         
                            17788 ; 174  |#endif
                            17789 ; 175  |#endif
                            17790 ; 176  |#endif
                            17791 ; 177  |#endif
                            17792 ; 178  |#else 
                            17793 ; 179  |// HW_GPFLASH_TIMING2R - 1dclk/access time for both TDH and TDS
                            17794 ; 180  |#define AUDIBLE_ACELP_SR8KHz_GPSPEED 0x000101         
                            17795 ; 181  |#endif
                            17796 ; 182  |//--------- 
                            17797 ; 183  |// Changed speed from 18Mhz to 24Mhz stmp10415
                            17798 ; 184  |// stmp10415   was 18              ; FM speed is 18 MHz, which is as low as possible for Steely Dan Tuner in sdk 2.610. In 3.110 we need >22Mhz so we use 24Mhz. 
                            17799 ; 185  |#define FM_SPEED 24 
                            17800 ; 186  |// stmp10415   was 27              ; (27+33)*(24/20) = 72 in sdk2.610.  In sdk 3.110 we use (7+33)*(24/20) = 48.
                            17801 ; 187  |#define FM_PDIV 7  
                            17802 ; 188  |// stmp10415   was  2              ; 72 / (2^2) = 18 MHz in sdk 2.610.    In 3.110 we use 48/2^1 = 24Mhz. 
                            17803 ; 189  |#define FM_DDIV 1  
                            17804 ; 190  |
                            17805 ; 191  |// 1.44V        - Steely Dan spec at 1.35V
                            17806 ; 192  |#define FM_VOLTAGE 0x00000d         
                            17807 ; 193  |// 1.28v
                            17808 ; 194  |#define FM_BOVOLTAGE 0x000800         
                            17809 ; 195  |#if (defined(DEBUG))
                            17810 ; 196  |#if (defined(NAND1))
                            17811 ; 197  |// HW_GPFLASH_TIMING2R - 1dclk/access time for TDH and 1 for TDS
                            17812 ; 198  |#define FM_GPSPEED 0x000102         
                            17813 ; 199  |#else 
                            17814 ; 200  |#if (defined(NAND2))
                            17815 ; 201  |// HW_GPFLASH_TIMING2R - 1dclk/access time for TDH and 1 for TDS
                            17816 ; 202  |#define FM_GPSPEED 0x000203         
                            17817 ; 203  |#else 
                            17818 ; 204  |#if (defined(NAND3))
                            17819 ; 205  |// HW_GPFLASH_TIMING2R - 1dclk/access time for TDH and 1 for TDS
                            17820 ; 206  |#define FM_GPSPEED 0x000203         
                            17821 ; 207  |#else 
                            17822 ; 208  |#if (defined(NAND4))
                            17823 ; 209  |// HW_GPFLASH_TIMING2R - 1dclk/access time for TDH and 1 for TDS
                            17824 ; 210  |#define FM_GPSPEED 0x000203         
                            17825 ; 211  |#else 
                            17826 ; 212  |// HW_GPFLASH_TIMING2R - 1dclk/access time for TDH and 1 for TDS
                            17827 ; 213  |#define FM_GPSPEED 0x000102         
                            17828 ; 214  |#endif
                            17829 ; 215  |#endif
                            17830 ; 216  |#endif
                            17831 ; 217  |#endif
                            17832 ; 218  |#else 
                            17833 ; 219  |// HW_GPFLASH_TIMING2R - 1dclk/access time for TDH and 1 for TDS
                            17834 ; 220  |#define FM_GPSPEED 0x000203         
                            17835 ; 221  |#endif
                            17836 ; 222  |//---------
                            17837 ; 223  |// Increase to 30 MHz to support equalizer
                            17838 ; 224  |#define FM_EQ_SPEED 30  
                            17839 ; 225  |// (17+33)*(24/20) = 60
                            17840 ; 226  |#define FM_EQ_PDIV 17  
                            17841 ; 227  |//  60 / (2^1) = 30 MHz  
                            17842 ; 228  |#define FM_EQ_DDIV 1   
                            17843 ; 229  |
                            17844 ; 230  |// Higher voltages when using equalizer and TA2 STFM1000 to prevent lockup when changing EQ settings rapidly
                            17845 ; 231  |//1.44v  - Steely Dan spec at 1.35V
                            17846 ; 232  |#define FM_EQ_VOLTAGE 0x00000D   
                            17847 ; 233  |//1.31v     
                            17848 ; 234  |#define FM_EQ_BOVOLTAGE 0x000900   
                            17849 ; 235  |
                            17850 ; 236  |#if (defined(DEBUG))
                            17851 ; 237  |#if (defined(NAND1))
                            17852 ; 238  |// HW_GPFLASH_TIMING2R - 1dclk/access time for TDH and 1 for TDS
                            17853 ; 239  |#define FM_EQ_GPSPEED 0x000102         
                            17854 ; 240  |#else 
                            17855 ; 241  |#if (defined(NAND2))
                            17856 ; 242  |// HW_GPFLASH_TIMING2R - 1dclk/access time for TDH and 1 for TDS
                            17857 ; 243  |#define FM_EQ_GPSPEED 0x000203         
                            17858 ; 244  |#else 
                            17859 ; 245  |#if (defined(NAND3))
                            17860 ; 246  |// HW_GPFLASH_TIMING2R - 1dclk/access time for TDH and 1 for TDS
                            17861 ; 247  |#define FM_EQ_GPSPEED 0x000203         
                            17862 ; 248  |#else 
                            17863 ; 249  |#if (defined(NAND4))
                            17864 ; 250  |// HW_GPFLASH_TIMING2R - 1dclk/access time for TDH and 1 for TDS
                            17865 ; 251  |#define FM_EQ_GPSPEED 0x000203         
                            17866 ; 252  |#else 
                            17867 ; 253  |// HW_GPFLASH_TIMING2R - 1dclk/access time for TDH and 1 for TDS
                            17868 ; 254  |#define FM_EQ_GPSPEED 0x000102         
                            17869 ; 255  |#endif
                            17870 ; 256  |#endif
                            17871 ; 257  |#endif
                            17872 ; 258  |#endif
                            17873 ; 259  |#else 
                            17874 ; 260  |// HW_GPFLASH_TIMING2R - 1dclk/access time for TDH and 1 for TDS
                            17875 ; 261  |#define FM_EQ_GPSPEED 0x000203         
                            17876 ; 262  |#endif
                            17877 ; 263  |//---------
                            17878 ; 264  |
                            17879 ; 265  |
                            17880 ; 266  |// Audible Acelp speed is 36 MHz(27.78nS)
                            17881 ; 267  |#define AUDIBLE_ACELP_SR16KHz_SPEED 36            
                            17882 ; 268  |// PLL O/P freq = (33 + PDIV)*(24/20)   = (33+27)*(24/20) = 72MHz
                            17883 ; 269  |#define AUDIBLE_ACELP_SR16KHz_PDIV 27              
                            17884 ; 270  |// DCLK = 60MHz/(2^DDIV) = 36MHz
                            17885 ; 271  |#define AUDIBLE_ACELP_SR16KHz_DDIV 1             
                            17886 ; 272  |// 1.37V
                            17887 ; 273  |#define AUDIBLE_ACELP_SR16KHz_VOLTAGE 0x00000B       
                            17888 ; 274  |// 1.28V 
                            17889 ; 275  |#define AUDIBLE_ACELP_SR16KHz_BOVOLTAGE 0x000800       
                            17890 ; 276  |
                            17891 ; 277  |// NAND1     36MHz *  83.3ns = 2.999 -> $000102
                            17892 ; 278  |// NAND2     36MHz * 116.7ns = 4.201 -> $000203
                            17893 ; 279  |// NAND4     36MHz * 133.3ns = 4.788 -> $000203
                            17894 ; 280  |#if (defined(DEBUG))
                            17895 ; 281  |#if (defined(NAND1))
                            17896 ; 282  |// HW_GPFLASH_TIMING2R - 1dclk/access time for both TDH and TDS
                            17897 ; 283  |#define AUDIBLE_ACELP_SR16KHz_GPSPEED 0x000102         
                            17898 ; 284  |#else 
                            17899 ; 285  |#if (defined(NAND2))
                            17900 ; 286  |// HW_GPFLASH_TIMING2R - 1dclk/access time for TDH and 2 for TDS
                            17901 ; 287  |#define AUDIBLE_ACELP_SR16KHz_GPSPEED 0x000203         
                            17902 ; 288  |#else 
                            17903 ; 289  |#if (defined(NAND3))
                            17904 ; 290  |// HW_GPFLASH_TIMING2R - 1dclk/access time for TDH and 2 for TDS
                            17905 ; 291  |#define AUDIBLE_ACELP_SR16KHz_GPSPEED 0x000203         
                            17906 ; 292  |#else 
                            17907 ; 293  |#if (defined(NAND4))
                            17908 ; 294  |// HW_GPFLASH_TIMING2R - 1dclk/access time for TDH and 2 for TDS
                            17909 ; 295  |#define AUDIBLE_ACELP_SR16KHz_GPSPEED 0x000203         
                            17910 ; 296  |#else 
                            17911 ; 297  |// HW_GPFLASH_TIMING2R - 1dclk/access time for both TDH and TDS
                            17912 ; 298  |#define AUDIBLE_ACELP_SR16KHz_GPSPEED 0x000102         
                            17913 ; 299  |#endif
                            17914 ; 300  |#endif
                            17915 ; 301  |#endif
                            17916 ; 302  |#endif
                            17917 ; 303  |#else 
                            17918 ; 304  |// HW_GPFLASH_TIMING2R - 1dclk/access time for both TDH and TDS
                            17919 ; 305  |#define AUDIBLE_ACELP_SR16KHz_GPSPEED 0x000102         
                            17920 ; 306  |#endif
                            17921 ; 307  |//---------   
                            17922 ; 308  |
                            17923 ; 309  |
                            17924 ; 310  |
                            17925 ; 311  |
                            17926 ; 312  |// MP3 speed is 36 MHz  (27.78nS)
                            17927 ; 313  |#define MP3_SPEED 36              
                            17928 ; 314  |// (27+33)*(24/20) = 72
                            17929 ; 315  |#define MP3_PDIV 27              
                            17930 ; 316  |// 72 / (2^1) = 36 MHz
                            17931 ; 317  |#define MP3_DDIV 1               
                            17932 ; 318  |// 1.37v
                            17933 ; 319  |#define MP3_VOLTAGE 0x00000B         
                            17934 ; 320  |// 1.28v
                            17935 ; 321  |#define MP3_BOVOLTAGE 0x000800         
                            17936 ; 322  |
                            17937 ; 323  |// NAND1     36MHz *  83.3ns = 2.999 -> $000102
                            17938 ; 324  |// NAND2     36MHz * 116.7ns = 4.201 -> $000203
                            17939 ; 325  |// NAND4     36MHz * 133.3ns = 4.788 -> $000203
                            17940 ; 326  |#if (defined(DEBUG))
                            17941 ; 327  |#if (defined(NAND1))
                            17942 ; 328  |// HW_GPFLASH_TIMING2R - 1dclk/access time for TDH and 2 for TDS
                            17943 ; 329  |#define MP3_GPSPEED 0x000102         
                            17944 ; 330  |#else 
                            17945 ; 331  |#if (defined(NAND2))
                            17946 ; 332  |// HW_GPFLASH_TIMING2R - 2dclk/access time for TDH and 3 for TDS
                            17947 ; 333  |#define MP3_GPSPEED 0x000203         
                            17948 ; 334  |#else 
                            17949 ; 335  |#if (defined(NAND3))
                            17950 ; 336  |// HW_GPFLASH_TIMING2R - 2dclk/access time for TDH and 3 for TDS
                            17951 ; 337  |#define MP3_GPSPEED 0x000203         
                            17952 ; 338  |#else 
                            17953 ; 339  |#if (defined(NAND4))
                            17954 ; 340  |// HW_GPFLASH_TIMING2R - 2dclk/access time for TDH and 3 for TDS
                            17955 ; 341  |#define MP3_GPSPEED 0x000203         
                            17956 ; 342  |#else 
                            17957 ; 343  |// HW_GPFLASH_TIMING2R - 1dclk/access time for TDH and 2 for TDS
                            17958 ; 344  |#define MP3_GPSPEED 0x000102         
                            17959 ; 345  |#endif
                            17960 ; 346  |#endif
                            17961 ; 347  |#endif
                            17962 ; 348  |#endif
                            17963 ; 349  |#else 
                            17964 ; 350  |// HW_GPFLASH_TIMING2R - 1dclk/access time for TDH and 2 for TDS
                            17965 ; 351  |#define MP3_GPSPEED 0x000102         
                            17966 ; 352  |#endif
                            17967 ; 353  |//---------
                            17968 ; 354  |// ADPCM speed is 36 MHz  (27.78nS)
                            17969 ; 355  |#define ADPCM_SPEED 36              
                            17970 ; 356  |// (27+33)*(24/20) = 72
                            17971 ; 357  |#define ADPCM_PDIV 27              
                            17972 ; 358  |// 72 / (2^1) = 36 MHz
                            17973 ; 359  |#define ADPCM_DDIV 1               
                            17974 ; 360  |// 1.37v
                            17975 ; 361  |#define ADPCM_VOLTAGE 0x00000B         
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page  72

M:ADDR CODE           CYCLES LINE SOURCELINE
                            17976 ; 362  |// 1.28v
                            17977 ; 363  |#define ADPCM_BOVOLTAGE 0x000800         
                            17978 ; 364  |
                            17979 ; 365  |// NAND1     36MHz *  83.3ns = 2.999 -> $000102
                            17980 ; 366  |// NAND2     36MHz * 116.7ns = 4.201 -> $000203
                            17981 ; 367  |// NAND3|4   36MHz * 133.3ns = 4.788 -> $000203
                            17982 ; 368  |#if (defined(DEBUG))
                            17983 ; 369  |#if (defined(NAND1))
                            17984 ; 370  |// HW_GPFLASH_TIMING2R - 1dclk/access time for TDH and 2 for TDS
                            17985 ; 371  |#define ADPCM_GPSPEED 0x000102         
                            17986 ; 372  |#else 
                            17987 ; 373  |#if (defined(NAND2))
                            17988 ; 374  |// HW_GPFLASH_TIMING2R - 2dclk/access time for TDH and 3 for TDS
                            17989 ; 375  |#define ADPCM_GPSPEED 0x000203         
                            17990 ; 376  |#else 
                            17991 ; 377  |#if (defined(NAND3))
                            17992 ; 378  |// HW_GPFLASH_TIMING2R - 2dclk/access time for TDH and 3 for TDS
                            17993 ; 379  |#define ADPCM_GPSPEED 0x000203         
                            17994 ; 380  |#else 
                            17995 ; 381  |#if (defined(NAND4))
                            17996 ; 382  |// HW_GPFLASH_TIMING2R - 2dclk/access time for TDH and 3 for TDS
                            17997 ; 383  |#define ADPCM_GPSPEED 0x000203         
                            17998 ; 384  |#else 
                            17999 ; 385  |// HW_GPFLASH_TIMING2R - 1dclk/access time for TDH and 2 for TDS
                            18000 ; 386  |#define ADPCM_GPSPEED 0x000102         
                            18001 ; 387  |#endif
                            18002 ; 388  |#endif
                            18003 ; 389  |#endif
                            18004 ; 390  |#endif
                            18005 ; 391  |#else 
                            18006 ; 392  |// HW_GPFLASH_TIMING2R - 1dclk/access time for TDH and 2 for TDS
                            18007 ; 393  |#define ADPCM_GPSPEED 0x000102         
                            18008 ; 394  |#endif
                            18009 ; 395  |//---------
                            18010 ; 396  |// Mixer use requires a min vddd. Reason for this: 
                            18011 ; 397  |// ************
                            18012 ; 398  |// Stmp00004930: Field failure: Distortion from the mixer. Very worst case 
                            18013 ; 399  |//           conditions (at cold) will cause the ADC to not provide any samples.
                            18014 ; 400  |//           All mixer/adc functions must run VDDD>=1.43V. This includes encoding
                            18015 ; 401  |//           and Fmtuner  operation (uses line-in via mixer) in the SDK. 
                            18016 ; 402  |// ************
                            18017 ; 403  |// same as Idle speed defined above
                            18018 ; 404  |#define MIXER_SPEED IDLE_SPEED      
                            18019 ; 405  |// same as idle case defined above
                            18020 ; 406  |#define MIXER_PDIV IDLE_PDIV       
                            18021 ; 407  |// same as idle case defined above
                            18022 ; 408  |#define MIXER_DDIV IDLE_DDIV       
                            18023 ; 409  |// 1.44v
                            18024 ; 410  |#define MIXER_VOLTAGE 0x00000D         
                            18025 ; 411  |// 1.34v as in the MAX_BOVOLTAGE case below which has same Vddd.
                            18026 ; 412  |#define MIXER_BOVOLTAGE 0x000A00         
                            18027 ; 413  |
                            18028 ; 414  |// HW_GPFLASH_TIMING2R - 1dclk/access time for both TDH and TDS
                            18029 ; 415  |#define MIXER_GPSPEED IDLE_GPSPEED    
                            18030 ; 416  |//---------
                            18031 ; 417  |// ADCBASE speed is 36 MHz  (27.78nS)
                            18032 ; 418  |#define ADCBASE_SPEED 36              
                            18033 ; 419  |// (27+33)*(24/20) = 72
                            18034 ; 420  |#define ADCBASE_PDIV 27              
                            18035 ; 421  |// 72 / (2^1) = 36 MHz
                            18036 ; 422  |#define ADCBASE_DDIV 1               
                            18037 ; 423  |// 1.44v Min vddd voltage to operate high res ADC @ low temp.
                            18038 ; 424  |#define ADCBASE_VOLTAGE 0x00000D         
                            18039 ; 425  |// 1.34v Voltages same as max case. Rest matches ADPCM case.
                            18040 ; 426  |#define ADCBASE_BOVOLTAGE 0x000A00         
                            18041 ; 427  |
                            18042 ; 428  |// NAND1     36MHz *  83.3ns = 2.999 -> $000102
                            18043 ; 429  |// NAND2     36MHz * 116.7ns = 4.201 -> $000203
                            18044 ; 430  |// NAND4     36MHz * 133.3ns = 4.788 -> $000203
                            18045 ; 431  |#if (defined(DEBUG))
                            18046 ; 432  |#if (defined(NAND1))
                            18047 ; 433  |// HW_GPFLASH_TIMING2R - 1dclk/access time for TDH and 2 for TDS
                            18048 ; 434  |#define ADCBASE_GPSPEED 0x000102         
                            18049 ; 435  |#else 
                            18050 ; 436  |#if (defined(NAND2))
                            18051 ; 437  |// HW_GPFLASH_TIMING2R - 2dclk/access time for TDH and 3 for TDS
                            18052 ; 438  |#define ADCBASE_GPSPEED 0x000203         
                            18053 ; 439  |#else 
                            18054 ; 440  |#if (defined(NAND3))
                            18055 ; 441  |// HW_GPFLASH_TIMING2R - 2dclk/access time for TDH and 3 for TDS
                            18056 ; 442  |#define ADCBASE_GPSPEED 0x000203         
                            18057 ; 443  |#else 
                            18058 ; 444  |#if (defined(NAND4))
                            18059 ; 445  |// HW_GPFLASH_TIMING2R - 2dclk/access time for TDH and 3 for TDS
                            18060 ; 446  |#define ADCBASE_GPSPEED 0x000203         
                            18061 ; 447  |#else 
                            18062 ; 448  |// HW_GPFLASH_TIMING2R - 1dclk/access time for TDH and 2 for TDS
                            18063 ; 449  |#define ADCBASE_GPSPEED 0x000102         
                            18064 ; 450  |#endif
                            18065 ; 451  |#endif
                            18066 ; 452  |#endif
                            18067 ; 453  |#endif
                            18068 ; 454  |#else 
                            18069 ; 455  |// HW_GPFLASH_TIMING2R - 1dclk/access time for TDH and 2 for TDS
                            18070 ; 456  |#define ADCBASE_GPSPEED 0x000102         
                            18071 ; 457  |#endif
                            18072 ; 458  |//---------
                            18073 ; 459  |// MAX speed is 48 MHz (20.83ns)
                            18074 ; 460  |#define MAX_SPEED 48              
                            18075 ; 461  |// (7+33)*(24/20) = 48
                            18076 ; 462  |#define MAX_PDIV 7               
                            18077 ; 463  |// 47.9232 / (2^0) = 48 MHz
                            18078 ; 464  |#define MAX_DDIV 0               
                            18079 ; 465  |// 1.44v
                            18080 ; 466  |#define MAX_VOLTAGE 0x00000D         
                            18081 ; 467  |// 1.34v
                            18082 ; 468  |#define MAX_BOVOLTAGE 0x000A00         
                            18083 ; 469  |
                            18084 ; 470  |// NAND1     48MHz *  83.3ns = 3.998 -> $000202 -> $000203 required (setup needs 3dclk)
                            18085 ; 471  |// NAND2     48MHz * 116.7ns = 5.602 -> $000303
                            18086 ; 472  |// NAND3|4   48MHz * 133.3ns = 6.398 -> $000304
                            18087 ; 473  |#if (defined(DEBUG))
                            18088 ; 474  |#if (defined(NAND1))
                            18089 ; 475  |// HW_GPFLASH_TIMING2R - 2dclk/access time for TDH and 3 for TDS
                            18090 ; 476  |#define MAX_GPSPEED 0x000203         
                            18091 ; 477  |#else 
                            18092 ; 478  |#if (defined(NAND2))
                            18093 ; 479  |// HW_GPFLASH_TIMING2R - 3dclk/access time for TDH and 3 for TDS
                            18094 ; 480  |#define MAX_GPSPEED 0x000303         
                            18095 ; 481  |#else 
                            18096 ; 482  |#if (defined(NAND3))
                            18097 ; 483  |// HW_GPFLASH_TIMING2R - 3dclk/access time for TDH and 4 for TDS
                            18098 ; 484  |#define MAX_GPSPEED 0x000304         
                            18099 ; 485  |#else 
                            18100 ; 486  |#if (defined(NAND4))
                            18101 ; 487  |// HW_GPFLASH_TIMING2R - 3dclk/access time for TDH and 4 for TDS
                            18102 ; 488  |#define MAX_GPSPEED 0x000304         
                            18103 ; 489  |#else 
                            18104 ; 490  |// HW_GPFLASH_TIMING2R - 2dclk/access time for TDH and 3 for TDS
                            18105 ; 491  |#define MAX_GPSPEED 0x000203         
                            18106 ; 492  |#endif
                            18107 ; 493  |#endif
                            18108 ; 494  |#endif
                            18109 ; 495  |#endif
                            18110 ; 496  |#else 
                            18111 ; 497  |// HW_GPFLASH_TIMING2R - 2dclk/access time for TDH and 3 for TDS
                            18112 ; 498  |#define MAX_GPSPEED 0x000203         
                            18113 ; 499  |#endif
                            18114 ; 500  |//---------
                            18115 ; 501  |// WMA speed is 60MHz   (16.67nS)
                            18116 ; 502  |#define WMA_SPEED 60              
                            18117 ; 503  |// (17+33)*(24/20) = 60
                            18118 ; 504  |#define WMA_PDIV 17              
                            18119 ; 505  |// 60 / (2^0) = 60 MHz
                            18120 ; 506  |#define WMA_DDIV 0               
                            18121 ; 507  |// 1.63V
                            18122 ; 508  |#define WMA_VOLTAGE 0x000013         
                            18123 ; 509  |// 1.54V
                            18124 ; 510  |#define WMA_BOVOLTAGE 0x001000         
                            18125 ; 511  |
                            18126 ; 512  |// Matching values for MSC (see note above for IDLE_GPSPEED)
                            18127 ; 513  |#if (defined(DEBUG))
                            18128 ; 514  |#if (defined(NAND1))
                            18129 ; 515  |// HW_GPFLASH_TIMING2R - 2dclk/access time for TDH and 3 for TDS
                            18130 ; 516  |#define WMA_GPSPEED 0x000203         
                            18131 ; 517  |#else 
                            18132 ; 518  |#if (defined(NAND2))
                            18133 ; 519  |// HW_GPFLASH_TIMING2R - 3dclk/access time for TDH and 4 for TDS
                            18134 ; 520  |#define WMA_GPSPEED 0x000304         
                            18135 ; 521  |#else 
                            18136 ; 522  |#if (defined(NAND3))
                            18137 ; 523  |// HW_GPFLASH_TIMING2R - 3dclk/access time for TDH and 5 for TDS
                            18138 ; 524  |#define WMA_GPSPEED 0x000305         
                            18139 ; 525  |#else 
                            18140 ; 526  |#if (defined(NAND4))
                            18141 ; 527  |// HW_GPFLASH_TIMING2R - 3dclk/access time for TDH and 5 for TDS
                            18142 ; 528  |#define WMA_GPSPEED 0x000305         
                            18143 ; 529  |#else 
                            18144 ; 530  |// HW_GPFLASH_TIMING2R - 2dclk/access time for TDH and 3 for TDS
                            18145 ; 531  |#define WMA_GPSPEED 0x000203         
                            18146 ; 532  |#endif
                            18147 ; 533  |#endif
                            18148 ; 534  |#endif
                            18149 ; 535  |#endif
                            18150 ; 536  |#else 
                            18151 ; 537  |// HW_GPFLASH_TIMING2R - 2dclk/access time for TDH and 3 for TDS
                            18152 ; 538  |#define WMA_GPSPEED 0x000203         
                            18153 ; 539  |#endif
                            18154 ; 540  |//---------
                            18155 ; 541  |// MP3ENCODE speed is 65MHz   (15.35nS) but see next line
                            18156 ; 542  |#define MP3ENCODE_SPEED 65              
                            18157 ; 543  |// (22+33)*(24/20) = 65; but   (20+33)*(24/20)=63.6 (T=15.723 ns)
                            18158 ; 544  |#define MP3ENCODE_PDIV 20              
                            18159 ; 545  |// 65.1264 / (2^0) = 65 MHz;   63.6 / 2^0 = 63.6 MHz
                            18160 ; 546  |#define MP3ENCODE_DDIV 0               
                            18161 ; 547  |// 1.82V
                            18162 ; 548  |#define MP3ENCODE_VOLTAGE 0x000019         
                            18163 ; 549  |// 1.76 v 
                            18164 ; 550  |#define MP3ENCODE_BOVOLTAGE 0x001700         
                            18165 ; 551  |
                            18166 ; 552  |// NAND1     65MHz *  83.3ns = 5.415 -> $000303
                            18167 ; 553  |// NAND2     65MHz * 116.7ns = 7.586 -> $000404
                            18168 ; 554  |// NAND3|4   65MHz * 133.3ns = 8.665 -> $000405
                            18169 ; 555  |#if (defined(DEBUG))
                            18170 ; 556  |#if (defined(NAND1))
                            18171 ; 557  |// HW_GPFLASH_TIMING2R - 3dclk/access time for TDH and 3 for TDS
                            18172 ; 558  |#define MP3ENCODE_GPSPEED 0x000303         
                            18173 ; 559  |#else 
                            18174 ; 560  |#if (defined(NAND2))
                            18175 ; 561  |// HW_GPFLASH_TIMING2R - 4dclk/access time for TDH and 4 for TDS
                            18176 ; 562  |#define MP3ENCODE_GPSPEED 0x000404         
                            18177 ; 563  |#else 
                            18178 ; 564  |#if (defined(NAND3))
                            18179 ; 565  |// HW_GPFLASH_TIMING2R - 4dclk/access time for TDH and 5 for TDS
                            18180 ; 566  |#define MP3ENCODE_GPSPEED 0x000405         
                            18181 ; 567  |#else 
                            18182 ; 568  |#if (defined(NAND4))
                            18183 ; 569  |// HW_GPFLASH_TIMING2R - 4dclk/access time for TDH and 5 for TDS
                            18184 ; 570  |#define MP3ENCODE_GPSPEED 0x000405         
                            18185 ; 571  |#else 
                            18186 ; 572  |// HW_GPFLASH_TIMING2R - 3dclk/access time for TDH and 3 for TDS
                            18187 ; 573  |#define MP3ENCODE_GPSPEED 0x000303         
                            18188 ; 574  |#endif
                            18189 ; 575  |#endif
                            18190 ; 576  |#endif
                            18191 ; 577  |#endif
                            18192 ; 578  |#else 
                            18193 ; 579  |// HW_GPFLASH_TIMING2R - 3dclk/access time for TDH and 3 for TDS
                            18194 ; 580  |#define MP3ENCODE_GPSPEED 0x000303         
                            18195 ; 581  |#endif
                            18196 ; 582  |//---------
                            18197 ; 583  |// x:HW_GPFLASH_TIMING2R 
                            18198 ; 584  |//      TDS = 25ns Min data setup time. Note usbmsc says 45 for min. 20ns is a typical nand flash.
                            18199 ; 585  |//      TDH = 15ns Min data hold  time. Note usbmsc says 30 for min. But has min (tds+tdh)>50ns.
                            18200 ; 586  |//      TDS + TDH must be > 50 nS
                            18201 ; 587  |// PEAK speed is 75.6MHz T=13.2275 ns  
                            18202 ; 588  |#define PEAK_SPEED 75              
                            18203 ; 589  |// (29+33)*(24/20) = 75.6          
                            18204 ; 590  |#define PEAK_PDIV 30              
                            18205 ; 591  |// 75.6 / (2^0) = 75.6 MHz     
                            18206 ; 592  |#define PEAK_DDIV 0               
                            18207 ; 593  |// 1.92V 
                            18208 ; 594  |#define PEAK_VOLTAGE 0x00001c         
                            18209 ; 595  |// 1.82V                        
                            18210 ; 596  |#define PEAK_BOVOLTAGE 0x001900         
                            18211 ; 597  |
                            18212 ; 598  |// DEBUG builds have different setup&hold due to engineering board's capacitance. RETAIL BUILDS USE ONE VALUE. 
                            18213 ; 599  |// ns times below are from usbmsc's total (tds + tdh) = setup+hold. USBMSC runs at 60 MHz.
                            18214 ; 600  |// NAND1     75.6 MHz *  83.3ns = 6.247 DCLKs so 7 -> $000304      
                            18215 ; 601  |// NAND2     75.6 MHz * 116.7ns = 8.823 DCLKs so 9 -> $000405      
                            18216 ; 602  |// NAND3|4   75.6 MHz * 133.3ns = 10.078 DCLKs     -> $000505 If issues try 000506 here (TDS=6).     
                            18217 ; 603  |#if (defined(DEBUG))
                            18218 ; 604  |#if (defined(NAND1))
                            18219 ; 605  |// HW_GPFLASH_TIMING2R - 3dclk/access time for TDH and 4 for TDS
                            18220 ; 606  |#define PEAK_GPSPEED 0x000304         
                            18221 ; 607  |#else 
                            18222 ; 608  |#if (defined(NAND2))
                            18223 ; 609  |// HW_GPFLASH_TIMING2R - 4dclk/access time for TDH and 5 for TDS; nand1 settings work on multinand if good layout.
                            18224 ; 610  |#define PEAK_GPSPEED 0x000405         
                            18225 ; 611  |#else 
                            18226 ; 612  |#if (defined(NAND3))
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page  73

M:ADDR CODE           CYCLES LINE SOURCELINE
                            18227 ; 613  |// HW_GPFLASH_TIMING2R - 5dclk/access time for TDH and 5 for TDS
                            18228 ; 614  |#define PEAK_GPSPEED 0x000505         
                            18229 ; 615  |#else 
                            18230 ; 616  |#if (defined(NAND4))
                            18231 ; 617  |// HW_GPFLASH_TIMING2R - 5dclk/access time for TDH and 5 for TDS
                            18232 ; 618  |#define PEAK_GPSPEED 0x000505         
                            18233 ; 619  |#else 
                            18234 ; 620  |// HW_GPFLASH_TIMING2R - 3dclk/access time for TDH and 4 for TDS
                            18235 ; 621  |#define PEAK_GPSPEED 0x000304         
                            18236 ; 622  |#endif
                            18237 ; 623  |#endif
                            18238 ; 624  |#endif
                            18239 ; 625  |#endif
                            18240 ; 626  |#else 
                            18241 ; 627  |// HW_GPFLASH_TIMING2R - 3dclk/access time for TDH and 4 for TDS
                            18242 ; 628  |#define PEAK_GPSPEED 0x000304         
                            18243 ; 629  |#endif
                            18244 ; 630  |
                            18245 ; 631  |//------------------------------------------
                            18246 ; 632  |//> 
                            18247 ; 633  |// Multi-Client Clock Speed Adjustment API:  
                            18248 ; 634  |// Prototypes here are exported from sysspeed.inc to sysspeed.h by incToC util
                            18249 ; 635  |_reentrant INT SysGetSpeed(void);
                            18250 ; 636  |//             or asm input params: none
                            18251 ; 637  |//             Returns the CurrentSpeedIndex
                            18252 ; 638  |_reentrant INT SysSpeedIncrease(int SpeedIndex, int clockUserId); 
                            18253 ; 639  |//             or asm input parms:            x1,              y0
                            18254 ; 640  |//       Returns resulting SpeedIndex from SysGetSpeed
                            18255 ; 641  |_reentrant INT SysSpeedClockFree(int clockUserId);  
                            18256 ; 642  |//                   or asm input:              y0
                            18257 ; 643  |//       Returns resulting SpeedIndex from SysGetSpeed
                            18258 ; 644  |// Generally, new clock adjusting modules must insert a bit equate below 
                            18259 ; 645  |// (speed ordered) and use the API calls:
                            18260 ; 646  |// SysSpeedIncrease(SpeedIndex, MY_BIT) and SysSpeedClockFree(MY_BIT) 
                            18261 ; 647  |// passing in the client's clockUserId below for these calls
                            18262 ; 648  |// which manipulate a corresponding speed client bit in clockUserFlag.
                            18263 ; 649  |// SysSpeedClockFree(MY_BIT) reduces clock speed to that of highest active client
                            18264 ; 650  |// or IDLE. Each bit here is a client active indicator managed via this speed API.
                            18265 ; 651  |// clockUserFlag  dc      0      ; Module private var defined in sysspeed.asm
                            18266 ; 652  |// ORDER MUST BE LOWEST TO HIGHEST FREQ so insert your new speed client ID and renumber.
                            18267 ; 653  |// Exec turns up the clock on button events. 
                            18268 ; 654  |#define SPEED_CLIENT_EXECUTIVE 0 
                            18269 ; 655  |#define SPEED_CLIENT_AUDIBLE_MP3 1
                            18270 ; 656  |#define SPEED_CLIENT_STFM_DEC 2
                            18271 ; 657  |#define SPEED_CLIENT_AUDIBLE_ACELP 3
                            18272 ; 658  |#define SPEED_CLIENT_STFM_EQ 4
                            18273 ; 659  |#define SPEED_CLIENT_MP3_DEC 5
                            18274 ; 660  |#define SPEED_CLIENT_ADPCM_DEC 6
                            18275 ; 661  |#define SPEED_CLIENT_ADPCM_ENC 7
                            18276 ; 662  |#define SPEED_CLIENT_MIXER 8
                            18277 ; 663  |#define SPEED_CLIENT_MP3_DEC_SYNC 9
                            18278 ; 664  |// Music and voice parser share this client
                            18279 ; 665  |#define SPEED_CLIENT_PARSER 10 
                            18280 ; 666  |// Same speed as parser.asm or higher. C client. Rename if using.
                            18281 ; 667  |#define SPEED_CLIENT_MENU_WOW 11 
                            18282 ; 668  |#define SPEED_CLIENT_MVIDEO 12
                            18283 ; 669  |#define SPEED_CLIENT_METADATA 13
                            18284 ; 670  |#define SPEED_CLIENT_PLAYERLIB 14
                            18285 ; 671  |#define SPEED_CLIENT_PLAYLIST1 15 
                            18286 ; 672  |#define SPEED_CLIENT_WMA_DEC 16
                            18287 ; 673  |// Move line when used to maintain speed order
                            18288 ; 674  |#define SPEED_CLIENT_MP3_ENC 17 
                            18289 ; 675  |#define SPEED_CLIENT_JPEG_DEC 18 
                            18290 ; 676  |// change value to match high bit pos above
                            18291 ; 677  |#define SPEED_CLIENT_HIGHEST_USER 18 
                            18292 ; 678  |
                            18293 ; 679  |// Above equates are exported to incToC utility generated sysspeed.h file.
                            18294 ; 680  |// <
                            18295 ; 681  |//-----------------------------------------
                            18296 ; 682  |
                            18297 ; 683  |
                            18298 ; 684  |#endif // IF (!@def(SYSSPEED_INC))
                            18299 ; 685  |
                            18300 ; 686  |
                            18301 ; 687  |
                            18302 
                            18304 
                            18305 ; 18   |#include "playlist3.h"
                            18306 
                            18308 
                            18309 ; 1    |#ifndef _PLAYLIST3_H
                            18310 ; 2    |#define _PLAYLIST3_H
                            18311 ; 3    |#include "playlist.h"
                            18312 
                            18314 
                            18315 ; 1    |#ifndef PLAYLIST_H
                            18316 ; 2    |#define PLAYLIST_H
                            18317 ; 3    |
                            18318 ; 4    |#include "types.h"
                            18319 ; 5    |
                            18320 ; 6    |typedef struct {
                            18321 ; 7    |    WORD    m_wTrack;                       
                            18322 ; 8    |    WORD    m_wDeviceID;
                            18323 ; 9    |    WORD    m_wBufferLength;            //this is in BYTES, not WORDS!
                            18324 ; 10   |    _packed BYTE *m_pFilename;
                            18325 ; 11   |} SONGFILEINFO;
                            18326 ; 12   |
                            18327 ; 13   |#define PLAYLIST_SUCCESS                                0
                            18328 ; 14   |#define PLAYLIST_FILE_ERROR                             1
                            18329 ; 15   |#define PLAYLIST_END_OF_LIST                    2
                            18330 ; 16   |#define PLAYLIST_TRACK_NOT_FOUND                3
                            18331 ; 17   |#define PLAYLIST_DIR_NOT_EMPTY          4 
                            18332 ; 18   |#define PLAYLIST_REBUILD                5
                            18333 ; 19   |#define PLAYLIST_LAST_RETCODE                   5               //The value should always be the same as the last RETCODE
                            18334 ; 20   |
                            18335 ; 21   |
                            18336 ; 22   |#ifdef  USE_PLAYLIST1
                            18337 ; 23   |RETCODE ChangeDIRtoFileEntryDir(struct FileEntry *pCurrentEntry, _packed BYTE * buffer);
                            18338 ; 24   |#endif
                            18339 ; 25   |RETCODE _reentrant Playlist_LFNGetFileName(int,int,UCS3*);                      //UCS3 is actually typdef WORD
                            18340 ; 26   |RETCODE _reentrant Playlist_MarkCurrentSongPlayed(int,int,int*);
                            18341 ; 27   |RETCODE _reentrant Playlist_GetCurrentSongFileInfo(int, int, int*);
                            18342 ; 28   |RETCODE _reentrant Playlist_GetNextSongFileInfo(int, int , int*);
                            18343 ; 29   |RETCODE _reentrant Playlist_GetPreviousSongFileInfo(int,int,int*);
                            18344 ; 30   |#ifdef USE_PLAYLIST1
                            18345 ; 31   |_reentrant INT Playlist_LocateEntryFromName(INT,INT,INT*);
                            18346 ; 32   |#endif
                            18347 ; 33   |
                            18348 ; 34   |#endif 
                            18349 
                            18351 
                            18352 ; 4    |#include "playlist3internal.h"
                            18353 
                            18355 
                            18356 ; 1    |#ifndef __PLAYLIST3INTERNAL_H
                            18357 ; 2    |#define __PLAYLIST3INTERNAL_H
                            18358 ; 3    |
                            18359 ; 4    |#include "project.h"
                            18360 
                            18362 
                            18363 ; 1    |/////////////////////////////////////////////////////////////////////////////////
                            18364 ; 2    |//  Copyright(C) SigmaTel, Inc. 2000-2004
                            18365 ; 3    |//  Filename: project.inc
                            18366 ; 4    |//  Description: 
                            18367 ; 5    |/////////////////////////////////////////////////////////////////////////////////
                            18368 ; 6    |
                            18369 ; 7    |#if (!defined(_PROJECT_INC))
                            18370 ; 8    |#define _PROJECT_INC 1
                            18371 ; 9    |
                            18372 ; 10   |#if defined(STMP_BUILD_PLAYER)
                            18373 ; 11   |#include "hwequ.h"
                            18374 ; 12   |#else 
                            18375 ; 13   |//include "regscodec.inc"
                            18376 ; 14   |#endif
                            18377 ; 15   |
                            18378 ; 16   |//////////////////////////////////////////////////////////////////////////////////
                            18379 ; 17   |// Uncomment next define to allow player boot if you have stfm1000 macro enabled (defaults ON) & 
                            18380 ; 18   |// your board crystal is not able to output nominal voltage range. Used in player main.asm. STMP00012148
                            18381 ; 19   |// Defining this will result in lower battery life (price of using a lower quality crystal). 
                            18382 ; 20   |// Those that want to save battery life and have good crystals that meet our HW team's specs can 
                            18383 ; 21   |// comment out this line to reduce crystal bias current and so battery current in player mode.  
                            18384 ; 22   |#define SUPPORT_MARGINAL_XTALS 1
                            18385 ; 23   |
                            18386 ; 24   |/////////////////////////////////////////////////////////////////////////////////
                            18387 ; 25   |// BOOT SPEED CONFIG & ASSOCIATED BATTERY VOLTAGE CHECK ENABLE
                            18388 ; 26   |/////////////////////////////////////////////////////////////////////////////////
                            18389 ; 27   |// Users can enable one of ATTEMPT_FAST_BOOT or FASTEST boot or neither project define below by defining
                            18390 ; 28   |// values as 0 or 1, else it defaults to the boot speed used in previous SDKs.
                            18391 ; 29   |#define ATTEMPT_FAST_BOOT 1
                            18392 ; 30   |#define ATTEMPT_FASTEST_BOOT 0   
                            18393 ; 31   |// Changing this define to 0 removes Vbat threshholding & unconditionally gives fast boot config above- 
                            18394 ; 32   |// disabling this check is suggested for profiling if you want to try to tweak down threshholds by maybe 50mV.
                            18395 ; 33   |// Also the tests should clear the fast boot config defines to link & boot at normal speed.
                            18396 ; 34   |#define SPEED_BOOT_BATTERY_CHECK 1
                            18397 ; 35   |
                            18398 ; 36   |/////////////////////////////////////////////////////////////////////////////////
                            18399 ; 37   |// MEDIA DEFINITIONS
                            18400 ; 38   |/////////////////////////////////////////////////////////////////////////////////
                            18401 ; 39   |
                            18402 ; 40   |/////////////////////////////////////////////////////////////////////////////////
                            18403 ; 41   |// MNAND - Number of chips forming the internal physical device (i.e. # of NANDs)
                            18404 ; 42   |#if defined(NAND1)
                            18405 ; 43   |#define SM_INTERNAL_CHIPS 1
                            18406 ; 44   |#else 
                            18407 ; 45   |#if defined(NAND2)
                            18408 ; 46   |#define SM_INTERNAL_CHIPS 2
                            18409 ; 47   |#else 
                            18410 ; 48   |#if defined(NAND3)
                            18411 ; 49   |#define SM_INTERNAL_CHIPS 3
                            18412 ; 50   |#else 
                            18413 ; 51   |#if defined(NAND4)
                            18414 ; 52   |#define SM_INTERNAL_CHIPS 4
                            18415 ; 53   |#else 
                            18416 ; 54   |#define SM_INTERNAL_CHIPS 1
                            18417 ; 55   |#endif
                            18418 ; 56   |#endif
                            18419 ; 57   |#endif
                            18420 ; 58   |#endif
                            18421 ; 59   |
                            18422 ; 60   |/////////////////////////////////////////////////////////////////////////////////
                            18423 ; 61   |// If SMARTMEDIA_DETECT_ACTIVE_HIGH is defined:
                            18424 ; 62   |//   SmartMedia will be detected as inserted if the GPIO pin reads 1 and removed if it reads 0.  
                            18425 ; 63   |// If SMARTMEDIA_DETECT_ACTIVE_HIGH is not defined ** comment out next line **
                            18426 ; 64   |//   SmartMedia will be detected as inserted if the GPIO pin reads 0 and removed if it reads 1.
                            18427 ; 65   |//*** comment out if active high ****
                            18428 ; 66   |//SMARTMEDIA_DETECT_ACTIVE_HIGH  equ     1
                            18429 ; 67   |
                            18430 ; 68   |#if defined(SMEDIA)
                            18431 ; 69   |#define NUM_REMOVABLE_MEDIA 1
                            18432 ; 70   |#define NUM_SM_EXTERNAL 1
                            18433 ; 71   |#define MMC_MAX_PHYSICAL_DEVICES 0
                            18434 ; 72   |#define SM_MAX_LOGICAL_DEVICES 2
                            18435 ; 73   |#else 
                            18436 ; 74   |#if defined(MMC)
                            18437 ; 75   |#define NUM_REMOVABLE_MEDIA 1
                            18438 ; 76   |#define NUM_SM_EXTERNAL 0
                            18439 ; 77   |#define MMC_MAX_PHYSICAL_DEVICES 1
                            18440 ; 78   |#define SM_MAX_LOGICAL_DEVICES 1
                            18441 ; 79   |#else 
                            18442 ; 80   |#define NUM_REMOVABLE_MEDIA 0
                            18443 ; 81   |#define NUM_SM_EXTERNAL 0
                            18444 ; 82   |#define MMC_MAX_PHYSICAL_DEVICES 0
                            18445 ; 83   |#define SM_MAX_LOGICAL_DEVICES 1
                            18446 ; 84   |#endif
                            18447 ; 85   |#endif
                            18448 ; 86   |
                            18449 ; 87   |/////////////////////////////////////////////////////////////////////////////////
                            18450 ; 88   |// Mass Storage Class definitions
                            18451 ; 89   |/////////////////////////////////////////////////////////////////////////////////
                            18452 ; 90   |// Set to 0 if Composite Device build is desired.    
                            18453 ; 91   |#define MULTI_LUN_BUILD 1   
                            18454 ; 92   |
                            18455 ; 93   |////////////////////////////////////////////////////////////////////////////////
                            18456 ; 94   |//  SCSI
                            18457 ; 95   |#if (MULTI_LUN_BUILD==0)
                            18458 ; 96   |  #if (NUM_REMOVABLE_MEDIA == 1)
                            18459 ; 97   |    #define SCSI_NUM_TARGETS                        2
                            18460 ; 98   |    #define SCSI_DEVICE_NUM_LUNS_DEV_0              1
                            18461 ; 99   |    #define SCSI_DEVICE_NUM_LUNS_DEV_1              1
                            18462 ; 100  |  #else
                            18463 ; 101  |    #define SCSI_NUM_TARGETS                        1
                            18464 ; 102  |    #define SCSI_DEVICE_NUM_LUNS_DEV_0              1
                            18465 ; 103  |  #endif
                            18466 ; 104  |#else
                            18467 ; 105  |    #define SCSI_NUM_TARGETS                        1
                            18468 ; 106  |  #if (NUM_REMOVABLE_MEDIA == 1)
                            18469 ; 107  |    #define SCSI_DEVICE_NUM_LUNS_DEV_0              2
                            18470 ; 108  |  #else
                            18471 ; 109  |    #define SCSI_DEVICE_NUM_LUNS_DEV_0              1  
                            18472 ; 110  |  #endif
                            18473 ; 111  |#endif
                            18474 ; 112  |
                            18475 ; 113  |
                            18476 ; 114  |#define USBMSC_NUM_DEVICES                      SCSI_NUM_TARGETS
                            18477 ; 115  |
                            18478 ; 116  |
                            18479 ; 117  |////////////////////////////////////////////////////////////////////////////////
                            18480 ; 118  |// Define number of logical medias and drives for three builds (MTP, USBMSC, and Player)
                            18481 ; 119  |////////////////////////////////////////////////////////////////////////////////
                            18482 ; 120  |#ifdef MMC
                            18483 ; 121  |#ifdef MTP_BUILD
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page  74

M:ADDR CODE           CYCLES LINE SOURCELINE
                            18484 ; 122  |// --------------------
                            18485 ; 123  |// MTP and MMC
                            18486 ; 124  |// --------------------
                            18487 ; 125  |#define NUM_LOGICAL_MEDIA       2
                            18488 ; 126  |#define NUM_LOGICAL_DRIVES      8
                            18489 ; 127  |#else  // ifndef MTP_BUILD
                            18490 ; 128  |#ifdef STMP_BUILD_PLAYER
                            18491 ; 129  |// --------------------
                            18492 ; 130  |// Player and MMC
                            18493 ; 131  |// --------------------
                            18494 ; 132  |#else
                            18495 ; 133  |// --------------------
                            18496 ; 134  |// USBMSC and MMC
                            18497 ; 135  |// --------------------
                            18498 ; 136  |#define NUM_LOGICAL_MEDIA       3
                            18499 ; 137  |#define NUM_LOGICAL_DRIVES      8
                            18500 ; 138  |#endif // ifdef STMP_BUILD_PLAYER
                            18501 ; 139  |#endif // ifdef MTP_BUILD
                            18502 ; 140  |#else  // ifndef MMC
                            18503 ; 141  |#ifdef MTP_BUILD
                            18504 ; 142  |// --------------------
                            18505 ; 143  |// MTP and NAND only
                            18506 ; 144  |// --------------------
                            18507 ; 145  |#define NUM_LOGICAL_MEDIA       1
                            18508 ; 146  |#define NUM_LOGICAL_DRIVES      7
                            18509 ; 147  |#else  // ifndef MTP_BUILD
                            18510 ; 148  |#ifdef STMP_BUILD_PLAYER
                            18511 ; 149  |// --------------------
                            18512 ; 150  |// Player and NAND only
                            18513 ; 151  |// --------------------
                            18514 ; 152  |#else
                            18515 ; 153  |// --------------------
                            18516 ; 154  |// USBMSC and NAND only
                            18517 ; 155  |// --------------------
                            18518 ; 156  |#define NUM_LOGICAL_MEDIA       2
                            18519 ; 157  |#define NUM_LOGICAL_DRIVES      7
                            18520 ; 158  |#endif // ifdef STMP_BUILD_PLAYER
                            18521 ; 159  |#endif // ifdef MTP_BUILD
                            18522 ; 160  |#endif // ifdef MMC 
                            18523 ; 161  |
                            18524 ; 162  |// If we are in an MTP build then we don't use as many transfers buffers.
                            18525 ; 163  |#if (defined(MTP_BUILD))
                            18526 ; 164  |#define MAX_USB_TRANSFERS_QUEUED 16
                            18527 ; 165  |
                            18528 ; 166  |////!
                            18529 ; 167  |////! This varible holds the watchdog count for the store flush.
                            18530 ; 168  |////!
                            18531 ; 169  |///
                            18532 ; 170  |#include <types.h>
                            18533 ; 171  |extern volatile INT g_StoreWatchDogCount;
                            18534 ; 172  |extern const INT g_StoreWatchDogTimeout;
                            18535 ; 173  |#endif
                            18536 ; 174  |
                            18537 ; 175  |////////////////////////////////////////////////////////////////////////////////
                            18538 ; 176  |// These are needed here for Mass Storage Class
                            18539 ; 177  |// Needs to be cleaned up
                            18540 ; 178  |////////////////////////////////////////////////////////////////////////////////
                            18541 ; 179  |#if (!defined(STMP_BUILD_PLAYER))
                            18542 ; 180  |#define SCRATCH_USER_Y_SIZE 512
                            18543 ; 181  |#define SCRATCH_USER_X_SIZE 512
                            18544 ; 182  |
                            18545 ; 183  |#define BROWNOUT_LEVEL1_DETECTED                0x000001
                            18546 ; 184  |
                            18547 ; 185  |#endif
                            18548 ; 186  |
                            18549 ; 187  |
                            18550 ; 188  |/////////////////////////////////////////////////////////////////////////////////
                            18551 ; 189  |// SmartMedia/NAND defs
                            18552 ; 190  |#define SM_MAX_PHYSICAL_DEVICES SM_INTERNAL_CHIPS+NUM_SM_EXTERNAL
                            18553 ; 191  |#define SM_REMOVABLE_DEVICE_NUM SM_INTERNAL_CHIPS
                            18554 ; 192  |
                            18555 ; 193  |/////////////////////////////////////////////////////////////////////////////////
                            18556 ; 194  |// Sysloadresources defs
                            18557 ; 195  |#define SM_MAX_RESOURCE_DEVICES SM_INTERNAL_CHIPS+NUM_SM_EXTERNAL
                            18558 ; 196  |
                            18559 ; 197  |/////////////////////////////////////////////////////////////////////////////////
                            18560 ; 198  |// MMC defs
                            18561 ; 199  |#define MMC_MAX_PARTITIONS 1
                            18562 ; 200  |#define MMC_MAX_LOGICAL_DEVICES MMC_MAX_PHYSICAL_DEVICES*MMC_MAX_PARTITIONS
                            18563 ; 201  |
                            18564 ; 202  |/////////////////////////////////////////////////////////////////////////////////
                            18565 ; 203  |// SPI defs
                            18566 ; 204  |#define SPI_MAX_DEVICES MMC_MAX_PHYSICAL_DEVICES
                            18567 ; 205  |
                            18568 ; 206  |/////////////////////////////////////////////////////////////////////////////////
                            18569 ; 207  |// Global media defs
                            18570 ; 208  |#define MAX_PHYSICAL_DEVICES SM_MAX_PHYSICAL_DEVICES+MMC_MAX_PHYSICAL_DEVICES
                            18571 ; 209  |#define MAX_LOGICAL_DEVICES SM_MAX_LOGICAL_DEVICES+MMC_MAX_LOGICAL_DEVICES
                            18572 ; 210  |
                            18573 ; 211  |/////////////////////////////////////////////////////////////////////////////////
                            18574 ; 212  |// DO NOT CHANGE THESE!!!
                            18575 ; 213  |#define SM_MAX_PARTITIONS 4
                            18576 ; 214  |#define MAX_HANDLES 2
                            18577 ; 215  |/////////////////////////////////////////////////////////////////////////////////
                            18578 ; 216  |
                            18579 ; 217  |
                            18580 ; 218  |/////////////////////////////////////////////////////////////////////////////////
                            18581 ; 219  |// Battery LRADC Values 
                            18582 ; 220  |/////////////////////////////////////////////////////////////////////////////////
                            18583 ; 221  |// brownout trip point in mV (moved by RS)
                            18584 ; 222  |// BATT_SAFETY_MARGIN:  percentage value used by:
                            18585 ; 223  |//   * SysSaveSettings to determine if enough power is left to attempt a settings save. 
                            18586 ; 224  |//   * Recorder to conditionally prevent the start or continuation of 
                            18587 ; 225  |//     audio recording to media.
                            18588 ; 226  |#define BATT_SAFETY_MARGIN 10
                            18589 ; 227  |
                            18590 ; 228  |//; player resource drive refresh allowed only when battery usable % is above this value. 
                            18591 ; 229  |//; 50% of usable range [0.9V to 1.5V] is around 1.2V This is the safe target alkaline voltage to do a refresh.
                            18592 ; 230  |//; LIION will also require 50% which will work but that could be changed in the future. 
                            18593 ; 231  |//RESOURCE_REFRESH_MIN_BATT_PCT equ 50
                            18594 ; 232  |
                            18595 ; 233  |// stmp00005071 adds these for mp3 encode stability at low battery per battery type & mmc presence.
                            18596 ; 234  |
                            18597 ; 235  |//// Vbat threshholds empirically tuned by profiling max bat current for 3 HW cases: 
                            18598 ; 236  |//// 1 GigaByte MMC, NAND flash only, & LiIon Buck mode. See voicemenu pre-encode Vbat check.
                            18599 ; 237  |#if (!defined(CLCD))
                            18600 ; 238  |#define MP3_ENC_MMC_MIN_V_BAT_MV 1100
                            18601 ; 239  |#define MP3_ENC_NANDONLY_MIN_V_BAT_MV 1000
                            18602 ; 240  |#else 
                            18603 ; 241  |#define MP3_ENC_MMC_MIN_V_BAT_MV 1250
                            18604 ; 242  |#define MP3_ENC_NANDONLY_MIN_V_BAT_MV 1150
                            18605 ; 243  |#endif
                            18606 ; 244  |#define MP3_ENC_BUCKMODE_MIN_V_BAT_MV 3300
                            18607 ; 245  |
                            18608 ; 246  |// These Vbat use-range-percentages are derived to correspond with target battery 
                            18609 ; 247  |// voltages of 1.10V for MMC, 1.0V for nand only (alkaline or nimh), and 3.3V for any LiIon.
                            18610 ; 248  |// See mp3 encoder overlay.
                            18611 ; 249  |#define MP3_ENC_MMC_MIN_V_BAT_RANGE_PCT 33
                            18612 ; 250  |#define MP3_ENC_NANDONLY_MIN_V_BAT_RANGE_PCT 17
                            18613 ; 251  |#define MP3_ENC_BUCKMODE_MIN_V_BAT_RANGE_PCT 25
                            18614 ; 252  |
                            18615 ; 253  |/////////////////////////////////////////////////////////////////////////////////
                            18616 ; 254  |// Voice recording filenames
                            18617 ; 255  |// number of digits in filename Vxxx.wav
                            18618 ; 256  |/////////////////////////////////////////////////////////////////////////////////
                            18619 ; 257  |#define DIGITS_IN_VOICE_FILENAME 3   
                            18620 ; 258  |
                            18621 ; 259  |/////////////////////////////////////////////////////////////////////////////////
                            18622 ; 260  |// Mic Bias: Set this enable to 1 to internally generate mic bias voltage. 
                            18623 ; 261  |// Also below, must configure internal resistor value and pin to use for DC bias. 
                            18624 ; 262  |// Can set to 0 to disable internally generated mic bias voltage at pin lradc1/2.
                            18625 ; 263  |#if defined(DEVICE_3500)
                            18626 ; 264  |#define ENABLE_INTERNALLY_GENERATED_MICBIAS 1 
                            18627 ; 265  |// MIC BIAS circuit source selection: use Low Resolution ADC pin 2 or 1 to bias mic. 
                            18628 ; 266  |// Per your layout: select LRADC 2 or 1 below 
                            18629 ; 267  |//   (pin LRADC 2 for 35xx cpu card revB, LRADC 1 for 35xx cpu card revC, ref schematics, & demo player)
                            18630 ; 268  |#define LRADC_NUM_FOR_MIC_BIAS 1 
                            18631 ; 269  |// Sets internal mic bias R to value 2, 4, or 8 (in kOhms).
                            18632 ; 270  |#define MICBIAS_CONFIGURED_RESISTOR_KOHMS 8
                            18633 ; 271  |
                            18634 ; 272  |// Allows mic bias to settle before sampling. This delay currently unused. For rec btn when bias not yet ready.
                            18635 ; 273  |#define REC_BTN_INTERNAL_MIC_BIAS_SETTLING_DELAY_MS 400 
                            18636 ; 274  |// Option always keeps bias enabled after mainmenu init. This allows for start pop prevention if you use rec button from outside voice menu.
                            18637 ; 275  |// This selection costs 1 mWatt but gains the desired low record button to sampling latency in the record-from-music-menu use-case.
                            18638 ; 276  |#define KEEP_MIC_BIAS_ENABLED 0
                            18639 ; 277  |
                            18640 ; 278  |#else 
                            18641 ; 279  |// STMP3410
                            18642 ; 280  |#define ENABLE_INTERNALLY_GENERATED_MICBIAS 0
                            18643 ; 281  |#define LRADC_NUM_FOR_MIC_BIAS 1 
                            18644 ; 282  |#define MICBIAS_CONFIGURED_RESISTOR_KOHMS 2
                            18645 ; 283  |#endif
                            18646 ; 284  |
                            18647 ; 285  |/////////////////////////////////////////////////////////////////////////////////
                            18648 ; 286  |// Number of available soft timers
                            18649 ; 287  |/////////////////////////////////////////////////////////////////////////////////
                            18650 ; 288  |#if defined(SYNC_LYRICS)
                            18651 ; 289  |#define SOFT_TIMERS 10
                            18652 ; 290  |#else 
                            18653 ; 291  |#if defined(JPEG_DECODER)
                            18654 ; 292  |#define SOFT_TIMERS 10
                            18655 ; 293  |#else 
                            18656 ; 294  |#define SOFT_TIMERS 9
                            18657 ; 295  |#endif
                            18658 ; 296  |#endif
                            18659 ; 297  |
                            18660 ; 298  |/////////////////////////////////////////////////////////////////////////////////
                            18661 ; 299  |//  sizes
                            18662 ; 300  |/////////////////////////////////////////////////////////////////////////////////
                            18663 ; 301  |#if defined(MMC)
                            18664 ; 302  |#if defined(USE_PLAYLIST5)
                            18665 ; 303  |#define MENU_STACK_SIZE 1500
                            18666 ; 304  |#else 
                            18667 ; 305  |#define MENU_STACK_SIZE 1250
                            18668 ; 306  |#endif //if @def('USE_PLAYLIST5')
                            18669 ; 307  |#else 
                            18670 ; 308  |#if defined(USE_PLAYLIST5)
                            18671 ; 309  |#define MENU_STACK_SIZE 1500
                            18672 ; 310  |#else 
                            18673 ; 311  |#define MENU_STACK_SIZE 1250
                            18674 ; 312  |#endif //if @def('USE_PLAYLIST5')
                            18675 ; 313  |#endif //if @def('MMC')
                            18676 ; 314  |
                            18677 ; 315  |// NOTE: SDK2.6 USED 550 FOR NEXT LINE, BUT SDK3.0BETA USED 750. Should it be ifdef MTP 750 else 550 for other builds? TOVERIFY. MYALLOC
                            18678 ; 316  |// 
                            18679 ; 317  |#define STACK_L1_SIZE 750
                            18680 ; 318  |#define STACK_L2_SIZE 100
                            18681 ; 319  |#define STACK_L3_SIZE 160
                            18682 ; 320  |
                            18683 ; 321  |// If we are in MTP mode the overlay task stack can shrink.
                            18684 ; 322  |// TODO shrink this stack for MTP, I will leave it at 500 until we verify that it 
                            18685 ; 323  |// is ok with switching code.
                            18686 ; 324  |#if defined(MTP_BUILD)
                            18687 ; 325  |#define OVERLAY_MANAGER_STACK_SIZE 300
                            18688 ; 326  |#endif
                            18689 ; 327  |
                            18690 ; 328  |/////////////////////////////////////////////////////////////////////////////////
                            18691 ; 329  |// maximum number of nested funclets 
                            18692 ; 330  |/////////////////////////////////////////////////////////////////////////////////
                            18693 ; 331  |#define MAX_NESTED_FUNCLET 6 
                            18694 ; 332  |
                            18695 ; 333  |/////////////////////////////////////////////////////////////////////////////////
                            18696 ; 334  |//    LCD DEFINITIONS
                            18697 ; 335  |/////////////////////////////////////////////////////////////////////////////////
                            18698 ; 336  |
                            18699 ; 337  |#define SPACE_CHAR 0x000020          
                            18700 ; 338  |#define ZERO_CHAR 0x000030
                            18701 ; 339  |#define COLON_CHAR 0x00003A
                            18702 ; 340  |#define PERIOD_CHAR 0x00002E
                            18703 ; 341  |
                            18704 ; 342  |#if (defined(S6B33B0A_LCD))
                            18705 ; 343  |#define LCD_X_SIZE 128
                            18706 ; 344  |#define LCD_Y_SIZE 159
                            18707 ; 345  |#endif
                            18708 ; 346  |
                            18709 ; 347  |#if (defined(SED15XX_LCD))
                            18710 ; 348  |#define LCD_X_SIZE 128
                            18711 ; 349  |#define LCD_Y_SIZE 64
                            18712 ; 350  |#endif
                            18713 ; 351  |
                            18714 ; 352  |
                            18715 ; 353  |//////////////////////////////////////////////////////////////////////////////////
                            18716 ; 354  |//   Details on Customizing Contrast
                            18717 ; 355  |/////////////////////////////////////////////////////////////////////////////////
                            18718 ; 356  |//   Max supported LCD range is 0 - 3F; however due to hardware/voltage differences
                            18719 ; 357  |//   the range of visibility is usually smaller than this.  It is important to 
                            18720 ; 358  |//   calibrate the visible range, because the contrast setting is saved.
                            18721 ; 359  |//   If the user shuts off the player while lcd is not visible, the player is useless
                            18722 ; 360  |//   unless the ezact sequence is remembered.
                            18723 ; 361  |//   To find out what range your player supports: 
                            18724 ; 362  |//   change these equs to full range or comment out (full range is default)
                            18725 ; 363  |//;;;;;;
                            18726 ; 364  |// uncomment the line below to build code that will provide raw contrast value
                            18727 ; 365  |// recommended calibration using player -- uncomment 
                            18728 ; 366  |//;;;;;;
                            18729 ; 367  |//CONTRAST_CALIBRATION    equ  1
                            18730 ; 368  |////////////////////////////
                            18731 ; 369  |#if (defined(DEMO_HW))
                            18732 ; 370  |// this is the setting for ET301 demos; Next 2 line have not been updated for new Shingyi LCD (June6'05)
                            18733 ; 371  |#define LCD_MAX_CONTRAST 0x32 
                            18734 ; 372  |#define LCD_MIN_CONTRAST 0x1E
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page  75

M:ADDR CODE           CYCLES LINE SOURCELINE
                            18735 ; 373  |#else 
                            18736 ; 374  |
                            18737 ; 375  |#if (defined(S6B33B0A_LCD))
                            18738 ; 376  |#define LCD_MAX_CONTRAST 210
                            18739 ; 377  |#define LCD_MIN_CONTRAST 160    
                            18740 ; 378  |#endif
                            18741 ; 379  |
                            18742 ; 380  |#if (defined(SED15XX_LCD))
                            18743 ; 381  |// Next 3 line comment was for OLD shingyi LCD: (default LCD before sdk2.6)
                            18744 ; 382  |// Engineering board regs support range [17-37].
                            18745 ; 383  |//   Engineering board DC/DC support range [24-46]. 
                            18746 ; 384  |//   One default contrast range [24-42] works for both.
                            18747 ; 385  |// The 3 sets of contrast ranges below are updated for SDK2.6 to support either 
                            18748 ; 386  |// new or old ShingYih LCDs. "File" refers to \resource\shingyih\system_lcd_init_seq.src
                            18749 ; 387  |// 3/10/05 - Use one of the 2 next contrast ranges depending on which
                            18750 ; 388  |// ShingYih LCD you have.  See \resources\shingyi\readme.txt 
                            18751 ; 389  |// Optimal for NEW LCD with NEW file (SDK2.6 default)  
                            18752 ; 390  |// G098064-41 LCD module (present on engr board revH LCD card)
                            18753 ; 391  |
                            18754 ; 392  |#if (defined(NEWSHINGYIH))
                            18755 ; 393  |#define LCD_MAX_CONTRAST 250
                            18756 ; 394  |#define LCD_MIN_CONTRAST 0
                            18757 ; 395  |#else 
                            18758 ; 396  |//-----
                            18759 ; 397  |// Near optimal for OLD LCD with NEW file. 
                            18760 ; 398  |// NOT optimal for the new lcd but pretty good. So u may use this if u want 1 build for both LCDs.
                            18761 ; 399  |#define LCD_MAX_CONTRAST 250
                            18762 ; 400  |#define LCD_MIN_CONTRAST 0
                            18763 ; 401  |
                            18764 ; 402  |//=====
                            18765 ; 403  |// Optimal for OLD ShingYih LCD with OLD file (as sdk2.521)
                            18766 ; 404  |// Suggest going with default new init file & values above for your LCD instead of this historic ver.
                            18767 ; 405  |//LCD_MAX_CONTRAST equ 42
                            18768 ; 406  |//LCD_MIN_CONTRAST equ 24 
                            18769 ; 407  |
                            18770 ; 408  |#endif
                            18771 ; 409  |#endif
                            18772 ; 410  |
                            18773 ; 411  |#endif
                            18774 ; 412  |
                            18775 ; 413  |//////////////////////////////////////////////////////////////////////////////////
                            18776 ; 414  |// The default value of the lcd contrast in % of range
                            18777 ; 415  |//   the default value is used when no settings.dat is available
                            18778 ; 416  |//////////////////////////////////////////////////////////////////////////////////
                            18779 ; 417  |
                            18780 ; 418  |#if (defined(S6B33B0A_LCD))
                            18781 ; 419  |// 60% of range is default value
                            18782 ; 420  |#define DEFAULT_CONTRAST 50 
                            18783 ; 421  |#endif
                            18784 ; 422  |
                            18785 ; 423  |#if (defined(SED15XX_LCD))
                            18786 ; 424  |// % of range is default value (was 60%)
                            18787 ; 425  |#define DEFAULT_CONTRAST 50 
                            18788 ; 426  |#endif
                            18789 ; 427  |
                            18790 ; 428  |
                            18791 ; 429  |// percentage change per increment/decrement message (LCD_DEC_CONTRAST/LCD_INC_CONTRAST)
                            18792 ; 430  |// make lower when doing calibration
                            18793 ; 431  |#define LCD_STEPSIZE_CONTRAST 10  
                            18794 ; 432  |
                            18795 ; 433  |
                            18796 ; 434  |/////////////////////////////////////////////////////////////////////////////////
                            18797 ; 435  |// For FFWD and RWND
                            18798 ; 436  |/////////////////////////////////////////////////////////////////////////////////
                            18799 ; 437  |#define SECONDS_TO_SKIP 1
                            18800 ; 438  |#define SECONDS_TO_SKIP1 3
                            18801 ; 439  |#define SECONDS_TO_SKIP2 6
                            18802 ; 440  |// number of seconds to cause reset to begin of song for PREV push
                            18803 ; 441  |#define PREV_SONG_THRESHOLD 5  
                            18804 ; 442  |// number of 300 mSec periods before the numbers of seconds to skip increases
                            18805 ; 443  |#define FIRST_TIME_BOUNDARY 15 
                            18806 ; 444  |// number of 300 mSec periods before the numbers of seconds to skip increases
                            18807 ; 445  |#define SECOND_TIME_BOUNDARY 30 
                            18808 ; 446  |
                            18809 ; 447  |// For audible FFW/RWD
                            18810 ; 448  |#define SECONDS_TO_SKIP_FOR_3X_RATE 1
                            18811 ; 449  |#define SECONDS_TO_SKIP_FOR_60X_RATE 18
                            18812 ; 450  |#define SECONDS_TO_SKIP_FOR_600X_RATE 180
                            18813 ; 451  |#define SECONDS_TO_SKIP_FOR_1800X_RATE 540
                            18814 ; 452  |// number of 300 mSec periods before the numbers of seconds to skip increases
                            18815 ; 453  |#define LEVEL1_BOUNDARY 17 
                            18816 ; 454  |// number of 300 mSec periods before the numbers of seconds to skip increases
                            18817 ; 455  |#define LEVEL2_BOUNDARY 33 
                            18818 ; 456  |// number of 300 mSec periods before the numbers of seconds to skip increases
                            18819 ; 457  |#define LEVEL3_BOUNDARY 50 
                            18820 ; 458  |// Stmp00010296 Ticket #71685:  for song shorter than the min. skip size
                            18821 ; 459  |// if song_time < skip_size, bCurrentSongShort=>TRUE (ignore FWD/RWD commands)
                            18822 ; 460  |// Short Song Time, songs too short to play.
                            18823 ; 461  |#define SHORT_SONG_TIME SECONDS_TO_SKIP         
                            18824 ; 462  |
                            18825 ; 463  |/////////////////////////////////////////////////////////////////////////////////
                            18826 ; 464  |// MP3 Sync Values
                            18827 ; 465  |/////////////////////////////////////////////////////////////////////////////////
                            18828 ; 466  |// # bytes to look for sync before marking it bad
                            18829 ; 467  |#define MP3_SYNC_THRESHOLD 70000 
                            18830 ; 468  |// # bytes to look for sync before slowing decoder isr frequency (to let menus run)
                            18831 ; 469  |#define MP3_SYNC_THRESHOLD1 10000 
                            18832 ; 470  |// once we have sync'd, the isr should be called this frequently
                            18833 ; 471  |#define MP3_DECODERISR_FAST 7500  
                            18834 ; 472  |// if decoder is having difficulty syncing, switch isr to be called less frequently
                            18835 ; 473  |#define MP3_DECODERISR_SLOW 50000 
                            18836 ; 474  |
                            18837 ; 475  |
                            18838 ; 476  |/////////////////////////////////////////////////////////////////////////////////
                            18839 ; 477  |//// Multi-Stage Volume Control Definitions
                            18840 ; 478  |/////////////////////////////////////////////////////////////////////////////////
                            18841 ; 479  |//// Use Multi-Stage Volume
                            18842 ; 480  |#define MULTI_STAGE_VOLUME 0x1                  
                            18843 ; 481  |
                            18844 ; 482  |//// Master Volume definitions
                            18845 ; 483  |#define MIX_MSTR_MAX_VOL 0x0
                            18846 ; 484  |#define NUM_MSTR_ATT_STEPS (0x1F-MIX_MSTR_MAX_VOL)
                            18847 ; 485  |
                            18848 ; 486  |//// DAC-Mode definitions
                            18849 ; 487  |//// Adjusts 0dB point
                            18850 ; 488  |#define MIX_DAC_NOM_VOL 0x6                  
                            18851 ; 489  |#define MIX_DAC_MIN_VOL 0x1F
                            18852 ; 490  |// For minimum clipping: Set MIX_DAC_MAX_VOL below to match MIX_DAC_NOM_VOL value 2 lines above.
                            18853 ; 491  |// For additional gain (with possible clipping): Set MIX_DAC_MAX_VOL in range below. 
                            18854 ; 492  |//                                               Each integer below MIX_DAC_NOM_VOL provides 1.5 dB gain on Stmp34x0; 
                            18855 ; 493  |//                                               Max gain possible: 8 step diff would provide +12dB gain.   
                            18856 ; 494  |// range: [0 to MIX_DAC_NOM_VOL] (0 for loudest volume)
                            18857 ; 495  |#define MIX_DAC_MAX_VOL 0x0  
                            18858 ; 496  |
                            18859 ; 497  |#define NUM_DAC_ATT_STEPS (MIX_DAC_MIN_VOL-MIX_DAC_NOM_VOL+1)
                            18860 ; 498  |#define NUM_DAC_GAIN_STEPS (MIX_DAC_NOM_VOL-MIX_DAC_MAX_VOL)
                            18861 ; 499  |#define NUM_DAC_MODE_VOL_STEPS (NUM_DAC_ATT_STEPS+NUM_MSTR_ATT_STEPS+NUM_DAC_GAIN_STEPS+1)
                            18862 ; 500  |
                            18863 ; 501  |//// If there is no stored volume, set to 50% of DAC-Mode max; change if DAC Mode is not the default
                            18864 ; 502  |//// STMP35xx has 2dB attenuation per step so default needs a few more steps above midpoint.
                            18865 ; 503  |#define DEFAULT_VOLUME ((NUM_DAC_MODE_VOL_STEPS/2)+6)         
                            18866 ; 504  |
                            18867 ; 505  |//// Set maximum restored volume to 75% of DAC-Mode max; change if DAC Mode is not the default
                            18868 ; 506  |#define MAX_RESTORED_VOLUME ((3*NUM_DAC_MODE_VOL_STEPS)/4)   
                            18869 ; 507  |
                            18870 ; 508  |
                            18871 ; 509  |//// Line In definitions (used for Line-In 1)
                            18872 ; 510  |//// 0dB point of the Line In
                            18873 ; 511  |#define MIX_LINE_NOM_VOL 0x8                  
                            18874 ; 512  |//// Minimum volume of Line In
                            18875 ; 513  |#define MIX_LINE_MIN_VOL 0x1F                 
                            18876 ; 514  |//// Maximum volume of Line In (can adjust extra gain)
                            18877 ; 515  |#define MIX_LINE_MAX_VOL 0x6                  
                            18878 ; 516  |#define NUM_LINE_ATT_STEPS (MIX_LINE_MIN_VOL-MIX_LINE_NOM_VOL+1)
                            18879 ; 517  |#define NUM_LINE_GAIN_STEPS (MIX_LINE_NOM_VOL-MIX_LINE_MAX_VOL)
                            18880 ; 518  |#define NUM_LINE_MODE_VOL_STEPS (NUM_LINE_ATT_STEPS+NUM_MSTR_ATT_STEPS+NUM_LINE_GAIN_STEPS+1)
                            18881 ; 519  |
                            18882 ; 520  |//// Line In definitions (used for FM tuner with 144 pin package)
                            18883 ; 521  |//// 0dB point of the Line In
                            18884 ; 522  |#define MIX_FM_NOM_VOL 0x8                  
                            18885 ; 523  |//// Minimum volume of Line In
                            18886 ; 524  |#define MIX_FM_MIN_VOL 0x1F                 
                            18887 ; 525  |//// Maximum volume of Line In (can adjust extra gain)
                            18888 ; 526  |#define MIX_FM_MAX_VOL 0x6                  
                            18889 ; 527  |#define NUM_FM_ATT_STEPS (MIX_FM_MIN_VOL-MIX_FM_NOM_VOL+1)
                            18890 ; 528  |#define NUM_FM_GAIN_STEPS (MIX_FM_NOM_VOL-MIX_FM_MAX_VOL)
                            18891 ; 529  |#define NUM_FM_MODE_VOL_STEPS (NUM_FM_ATT_STEPS+NUM_MSTR_ATT_STEPS+NUM_FM_GAIN_STEPS+1)
                            18892 ; 530  |
                            18893 ; 531  |/////////////////////////////////////////////////////////////////////////////////
                            18894 ; 532  |//// When enabled (1), periodically checks for one of several FM state machine invalid deadlock states & recovers. 
                            18895 ; 533  |//// Define as 0 to disable FM-deadlock-state checking and recovery.
                            18896 ; 534  |#define FM_WATCHDOG_ENABLE 1
                            18897 ; 535  |
                            18898 ; 536  |#if !defined(STMP_BUILD_PLAYER)
                            18899 ; 537  |////
                            18900 ; 538  |////! This varible holds the lcd display state for the mtp project.
                            18901 ; 539  |////
                            18902 ; 540  |///
                            18903 ; 541  |#include <types.h>
                            18904 ; 542  |extern volatile WORD g_wActivityState;
                            18905 ; 543  |#endif // if !@def('STMP_BUILD_PLAYER')
                            18906 ; 544  |
                            18907 ; 545  |void _reentrant Init5VSense(void);
                            18908 ; 546  |void _reentrant ServiceDCDC(void);
                            18909 ; 547  |
                            18910 ; 548  |////////////////////////////////////////////////////////////////////////////
                            18911 ; 549  |//// JPEG Thumbnail Mode Setting
                            18912 ; 550  |//// number of column in thumbnail mode
                            18913 ; 551  |#define THUMBNAIL_X 2           
                            18914 ; 552  |//// number of row in  thumbnail mode
                            18915 ; 553  |#define THUMBNAIL_Y 2           
                            18916 ; 554  |//// thumbnail boundary offset x
                            18917 ; 555  |#define THUMBNAIL_X_OFFSET 4            
                            18918 ; 556  |//// thumbnail boundary offset y
                            18919 ; 557  |#define THUMBNAIL_Y_OFFSET 4            
                            18920 ; 558  |
                            18921 ; 559  |#endif // if (!@def(_PROJECT_INC))
                            18922 ; 560  |
                            18923 
                            18925 
                            18926 ; 5    |
                            18927 ; 6    |#include "filesystem.h"
                            18928 
                            18930 
                            18931 ; 1    |////////////////////////////////////////////////////////////////////////////////
                            18932 ; 2    |//  Copyright(C) SigmaTel, Inc. 2001
                            18933 ; 3    |//
                            18934 ; 4    |//  File        : FileSystem.h
                            18935 ; 5    |//  Description : Header File for File System
                            18936 ; 6    |////////////////////////////////////////////////////////////////////////////////
                            18937 ; 7    |
                            18938 ; 8    |#ifndef _FILESYSTEM_H
                            18939 ; 9    |#define _FILESYSTEM_H
                            18940 ; 10   |
                            18941 ; 11   |#include "types.h"
                            18942 
                            18944 
                            18945 ; 1    |////////////////////////////////////////////////////////////////////////////////
                            18946 ; 2    |// Copyright(C) SigmaTel, Inc. 2000-2004
                            18947 ; 3    |//
                            18948 ; 4    |// Filename: types.h
                            18949 ; 5    |// Description: Standard data types
                            18950 ; 6    |////////////////////////////////////////////////////////////////////////////////
                            18951 ; 7    |
                            18952 ; 8    |#ifndef _TYPES_H
                            18953 ; 9    |#define _TYPES_H
                            18954 ; 10   |
                            18955 ; 11   |// TODO:  move this outta here!
                            18956 ; 12   |#if !defined(NOERROR)
                            18957 ; 13   |#define NOERROR 0
                            18958 ; 14   |#define SUCCESS 0
                            18959 ; 15   |#endif 
                            18960 ; 16   |#if !defined(SUCCESS)
                            18961 ; 17   |#define SUCCESS  0
                            18962 ; 18   |#endif
                            18963 ; 19   |#if !defined(ERROR)
                            18964 ; 20   |#define ERROR   -1
                            18965 ; 21   |#endif
                            18966 ; 22   |#if !defined(FALSE)
                            18967 ; 23   |#define FALSE 0
                            18968 ; 24   |#endif
                            18969 ; 25   |#if !defined(TRUE)
                            18970 ; 26   |#define TRUE  1
                            18971 ; 27   |#endif
                            18972 ; 28   |
                            18973 ; 29   |#if !defined(NULL)
                            18974 ; 30   |#define NULL 0
                            18975 ; 31   |#endif
                            18976 ; 32   |
                            18977 ; 33   |#define MAX_INT     0x7FFFFF
                            18978 ; 34   |#define MAX_LONG    0x7FFFFFffffff
                            18979 ; 35   |        // max positive unsigned long value: -1 == 0xFFFFFFffffff
                            18980 ; 36   |#define MAX_ULONG   (-1) 
                            18981 ; 37   |
                            18982 ; 38   |#define WORD_SIZE   24              // word size in bits
                            18983 ; 39   |#define BYTES_PER_WORD 3            // 8 bit bytes
                            18984 ; 40   |
                            18985 ; 41   |
                            18986 ; 42   |#define BYTE    unsigned char       // btVarName
                            18987 ; 43   |#define CHAR    signed char         // cVarName
                            18988 ; 44   |#define USHORT  unsigned short      // usVarName
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page  76

M:ADDR CODE           CYCLES LINE SOURCELINE
                            18989 ; 45   |#define SHORT   unsigned short      // sVarName
                            18990 ; 46   |#define WORD    unsigned int        // wVarName
                            18991 ; 47   |#define INT     signed int          // iVarName
                            18992 ; 48   |#define DWORD   unsigned long       // dwVarName
                            18993 ; 49   |#define LONG    signed long         // lVarName
                            18994 ; 50   |#define BOOL    unsigned int        // bVarName
                            18995 ; 51   |#define FRACT   _fract              // frVarName
                            18996 ; 52   |#define LFRACT  long _fract         // lfrVarName
                            18997 ; 53   |#define CIRC    _circ               // cp<type prefix>VarName (see below)
                            18998 ; 54   |#define FLOAT   float               // fVarName
                            18999 ; 55   |#define DBL     double              // dVarName
                            19000 ; 56   |#define ENUM    enum                // eVarName
                            19001 ; 57   |#define CMX     _complex            // cmxVarName
                            19002 ; 58   |typedef WORD UCS3;                   // 
                            19003 ; 59   |
                            19004 ; 60   |#define UINT16  unsigned short
                            19005 ; 61   |#define UINT8   unsigned char   
                            19006 ; 62   |#define UINT32  unsigned long
                            19007 ; 63   |#define UINT64  unsigned long   // need to figure out how to do 64 bit values.  Or port exisiting code to only use 48 bit
                            19008 ; 64   |#define INT64   unsigned long   // need to figure out how to do 64 bit values.  Or port exisiting code to only use 48 bit
                            19009 ; 65   |#define WCHAR   UINT16
                            19010 ; 66   |
                            19011 ; 67   |//UINT128 is 16 bytes or 6 words
                            19012 ; 68   |typedef struct UINT128_3500 {   
                            19013 ; 69   |    int val[6];     
                            19014 ; 70   |} UINT128_3500;
                            19015 ; 71   |
                            19016 ; 72   |#define UINT128   UINT128_3500
                            19017 ; 73   |
                            19018 ; 74   |// Little endian word packed byte strings:   
                            19019 ; 75   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                            19020 ; 76   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                            19021 ; 77   |// Little endian word packed byte strings:   
                            19022 ; 78   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                            19023 ; 79   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                            19024 ; 80   |
                            19025 ; 81   |// Declare Memory Spaces To Use When Coding
                            19026 ; 82   |// A. Sector Buffers
                            19027 ; 83   |#define SECTOR_BUFFER_MEM_X _X
                            19028 ; 84   |#define SECTOR_BUFFER_MEM_Y _Y
                            19029 ; 85   |#define SECTOR_BUFFER_MEM SECTOR_BUFFER_MEM_X
                            19030 ; 86   |typedef WORD SECTOR_BUFFER_MEM SECTOR_BUFFER;
                            19031 ; 87   |typedef SECTOR_BUFFER * P_SECTOR_BUFFER;
                            19032 ; 88   |// B. Media DDI Memory
                            19033 ; 89   |#define MEDIA_DDI_MEM _Y
                            19034 ; 90   |
                            19035 ; 91   |
                            19036 ; 92   |
                            19037 ; 93   |// Pointers to linear structures are labeled as: p<type prefix>VarName
                            19038 ; 94   |// Examples of circular pointers:
                            19039 ; 95   |//    INT CIRC cpiVarName
                            19040 ; 96   |//    DWORD CIRC cpdwVarName
                            19041 ; 97   |
                            19042 ; 98   |#define RETCODE INT                 // rcVarName
                            19043 ; 99   |
                            19044 ; 100  |// generic bitfield structure
                            19045 ; 101  |struct Bitfield {
                            19046 ; 102  |    unsigned int B0  :1;
                            19047 ; 103  |    unsigned int B1  :1;
                            19048 ; 104  |    unsigned int B2  :1;
                            19049 ; 105  |    unsigned int B3  :1;
                            19050 ; 106  |    unsigned int B4  :1;
                            19051 ; 107  |    unsigned int B5  :1;
                            19052 ; 108  |    unsigned int B6  :1;
                            19053 ; 109  |    unsigned int B7  :1;
                            19054 ; 110  |    unsigned int B8  :1;
                            19055 ; 111  |    unsigned int B9  :1;
                            19056 ; 112  |    unsigned int B10 :1;
                            19057 ; 113  |    unsigned int B11 :1;
                            19058 ; 114  |    unsigned int B12 :1;
                            19059 ; 115  |    unsigned int B13 :1;
                            19060 ; 116  |    unsigned int B14 :1;
                            19061 ; 117  |    unsigned int B15 :1;
                            19062 ; 118  |    unsigned int B16 :1;
                            19063 ; 119  |    unsigned int B17 :1;
                            19064 ; 120  |    unsigned int B18 :1;
                            19065 ; 121  |    unsigned int B19 :1;
                            19066 ; 122  |    unsigned int B20 :1;
                            19067 ; 123  |    unsigned int B21 :1;
                            19068 ; 124  |    unsigned int B22 :1;
                            19069 ; 125  |    unsigned int B23 :1;
                            19070 ; 126  |};
                            19071 ; 127  |
                            19072 ; 128  |union BitInt {
                            19073 ; 129  |        struct Bitfield B;
                            19074 ; 130  |        int        I;
                            19075 ; 131  |};
                            19076 ; 132  |
                            19077 ; 133  |#define MAX_MSG_LENGTH 10
                            19078 ; 134  |struct CMessage
                            19079 ; 135  |{
                            19080 ; 136  |        unsigned int m_uLength;
                            19081 ; 137  |        unsigned int m_uMsg[MAX_MSG_LENGTH];
                            19082 ; 138  |};
                            19083 ; 139  |
                            19084 ; 140  |typedef struct {
                            19085 ; 141  |    WORD m_wLength;
                            19086 ; 142  |    WORD m_wMessage;
                            19087 ; 143  |    WORD m_wParams[MAX_MSG_LENGTH];
                            19088 ; 144  |} Message;
                            19089 ; 145  |
                            19090 ; 146  |struct MessageQueueDescriptor
                            19091 ; 147  |{
                            19092 ; 148  |        int *m_pBase;
                            19093 ; 149  |        int m_iModulo;
                            19094 ; 150  |        int m_iSize;
                            19095 ; 151  |        int *m_pHead;
                            19096 ; 152  |        int *m_pTail;
                            19097 ; 153  |};
                            19098 ; 154  |
                            19099 ; 155  |struct ModuleEntry
                            19100 ; 156  |{
                            19101 ; 157  |    int m_iSignaledEventMask;
                            19102 ; 158  |    int m_iWaitEventMask;
                            19103 ; 159  |    int m_iResourceOfCode;
                            19104 ; 160  |    struct MessageQueueDescriptor *m_pMessageQueue;
                            19105 ; 161  |    int _asmfunc (*m_pProcessEntryPoint)(union WaitMask Signals,struct MessageQueueDescriptor *);
                            19106 ; 162  |    int _asmfunc (*m_pInitFunction)(struct MessageQueueDescriptor *);
                            19107 ; 163  |    int m_uTimeOutHigh;
                            19108 ; 164  |    int m_uTimeOutLow;
                            19109 ; 165  |    int _asmfunc (*m_pBackgroundFunction)(struct MessageQueueDescriptor *);
                            19110 ; 166  |};
                            19111 ; 167  |
                            19112 ; 168  |union WaitMask{
                            19113 ; 169  |    struct B{
                            19114 ; 170  |        unsigned int m_bNone     :1;
                            19115 ; 171  |        unsigned int m_bMessage  :1;
                            19116 ; 172  |        unsigned int m_bTimer    :1;
                            19117 ; 173  |        unsigned int m_bButton   :1;
                            19118 ; 174  |    } B;
                            19119 ; 175  |    int I;
                            19120 ; 176  |} ;
                            19121 ; 177  |
                            19122 ; 178  |
                            19123 ; 179  |struct Button {
                            19124 ; 180  |        WORD wButtonEvent;
                            19125 ; 181  |        WORD wUnused[MAX_MSG_LENGTH];   
                            19126 ; 182  |};
                            19127 ; 183  |
                            19128 ; 184  |struct Message {
                            19129 ; 185  |        WORD wMsgLength;
                            19130 ; 186  |        WORD wMsgCommand;
                            19131 ; 187  |        WORD wMsgParms[MAX_MSG_LENGTH-1];
                            19132 ; 188  |};
                            19133 ; 189  |
                            19134 ; 190  |union EventTypes {
                            19135 ; 191  |        struct CMessage msg;
                            19136 ; 192  |        struct Button Button ;
                            19137 ; 193  |        struct Message Message;
                            19138 ; 194  |};
                            19139 ; 195  |
                            19140 ; 196  |// next 2 used to get updater build to return correct protocol ver in scsi response.
                            19141 ; 197  |#define BUILD_TYPE_UPDATER  0x100
                            19142 ; 198  |#define BUILD_TYPE_HOSTLINK 0x101
                            19143 ; 199  |#define BUILD_TYPE_PLAYER   0x102
                            19144 ; 200  |
                            19145 ; 201  |// Resets part if RETAIL build. DEBUG build executes debug instruction to halt.
                            19146 ; 202  |#define SystemHalt() __asm(" include 'sysmacro.asm' \n error") 
                            19147 ; 203  |#define assert(x)    if(!(x)) __asm(" include 'sysmacro.asm' \n error")
                            19148 ; 204  |
                            19149 ; 205  |#if DEBUG
                            19150 ; 206  |// For DEBUG builds, DebugBuildAssert(condition) halts if condition evaluates to FALSE. 
                            19151 ; 207  |#define DebugBuildAssert(x)    if(!(x)) __asm(" debug ")
                            19152 ; 208  |#else 
                            19153 ; 209  |// For RETAIL builds, DebugBuildAssert(condition) does nothing & execution continues rather than halt or reset. 
                            19154 ; 210  |#define DebugBuildAssert(x)    
                            19155 ; 211  |#endif
                            19156 ; 212  |
                            19157 ; 213  |// Do this in your C files to make a reminder that's displayed during the build.
                            19158 ; 214  |//  #pragma asm
                            19159 ; 215  |//  WARN 'Note to builder: reminder to do this after verifying that'
                            19160 ; 216  |//  #pragma endasm
                            19161 ; 217  |
                            19162 ; 218  |
                            19163 ; 219  |#ifdef COLOR_262K
                            19164 ; 220  |#define RGB(r,g,b)    ((0x0000FC & (r)) << 10) | ((0x0000FC & (g)) << 4) | ((0x0000FC & (b)) >> 2)    //262k
                            19165 ; 221  |#elif defined(COLOR_65K)
                            19166 ; 222  |#define RGB(r,g,b)    ((0x0000F8 & (r)) << 8) | ((0x0000FC & (g)) << 3) | ((0x0000F8 & (b)) >> 3)  //65k
                            19167 ; 223  |#else
                            19168 ; 224  |#define RGB(r,g,b)       ((0x0000F0 & (r)) << 4) | (0x0000F0 & (g)) | ((0x0000F0 & (b)) >> 4)
                            19169 ; 225  |#endif
                            19170 ; 226  |    
                            19171 ; 227  |#endif // #ifndef _TYPES_H
                            19172 
                            19174 
                            19175 ; 12   |
                            19176 ; 13   |
                            19177 ; 14   |// File attributes
                            19178 ; 15   |#ifndef _FS_ATTRIBUTES
                            19179 ; 16   |#define _FS_ATTRIBUTES
                            19180 ; 17   |#define READ        1
                            19181 ; 18   |#define WRITE       2
                            19182 ; 19   |#define WRITE_PLUS  3
                            19183 ; 20   |#define APPEND      4
                            19184 ; 21   |#define TRUNCATE    8
                            19185 ; 22   |#define CREATE      16
                            19186 ; 23   |#endif
                            19187 ; 24   |
                            19188 ; 25   |//#ifndef FAT12
                            19189 ; 26   |//#define FAT12   1
                            19190 ; 27   |//#endif
                            19191 ; 28   |//
                            19192 ; 29   |#ifndef FAT16
                            19193 ; 30   |#define FAT16   2
                            19194 ; 31   |#endif
                            19195 ; 32   |
                            19196 ; 33   |#define MEM_SPACE_P 0x100000
                            19197 ; 34   |#define MEM_SPACE_Y 0x400000
                            19198 ; 35   |#define MEM_SPACE_X 0x800000
                            19199 ; 36   |
                            19200 ; 37   |#define FILE_SYS_MODE_READ  0
                            19201 ; 38   |#define FILE_SYS_MODE_WRITE 1
                            19202 ; 39   | 
                            19203 ; 40   |#define ATTR_READ_ONLY      0x01
                            19204 ; 41   |#define ATTR_HIDDEN         0x02
                            19205 ; 42   |#define ATTR_SYSTEM         0x04
                            19206 ; 43   |#define ATTR_VOLUME_ID      0x08
                            19207 ; 44   |#define ATTR_DIRECTORY      0x10
                            19208 ; 45   |#define ATTR_ARCHIVE        0x20
                            19209 ; 46   |#define ATTR_LONG_NAME      ATTR_READ_ONLY|ATTR_HIDDEN|ATTR_SYSTEM|ATTR_VOLUME_ID
                            19210 ; 47   |
                            19211 ; 48   |#define SEEK_SET           -1
                            19212 ; 49   |#define SEEK_CUR            0
                            19213 ; 50   |#define SEEK_END            1
                            19214 ; 51   |
                            19215 ; 52   |#define DEVICE_INSTALLED              (WORD)(0)
                            19216 ; 53   |#define DEVICE_NOT_FOUND              (WORD)(2)
                            19217 ; 54   |#define INVALID_FILESYSTEM                        (WORD)(3)
                            19218 ; 55   |#define DEVICE_INVALID                (WORD)(-1)
                            19219 ; 56   |#define DEVICE_ERROR_WRITE_PROTECTED  (WORD)(-2)
                            19220 ; 57   |
                            19221 ; 58   |#define MEDIA_SIZE_TOTAL_SECTORS    0
                            19222 ; 59   |#define MEDIA_SIZE_TOTAL_BYTES      1
                            19223 ; 60   |#define MEDIA_SIZE_BYTES_PER_SECTOR 2
                            19224 ; 61   |#define MEDIA_SIZE_IN_MEGABYTES     3     
                            19225 ; 62   |
                            19226 ; 63   |#define READ_TYPE_NORMAL            0
                            19227 ; 64   |#define READ_TYPE_FAT               1
                            19228 ; 65   |#define READ_TYPE_RAW               2
                            19229 ; 66   |
                            19230 ; 67   |
                            19231 ; 68   |#ifdef MEDIA_DDI_PARTIAL_SEQ_ENABLE
                            19232 ; 69   |    #define WRITE_TYPE_RANDOM                   0
                            19233 ; 70   |    #define WRITE_TYPE_SEQ_FIRST                1
                            19234 ; 71   |    #define WRITE_TYPE_SEQ_NEXT                 2
                            19235 ; 72   |    #define WRITE_TYPE_RESET_CLEAN_UP           3
                            19236 ; 73   |    #define WRITE_TYPE_PARTIAL_SEQ_FIRST        4
                            19237 ; 74   |    #define WRITE_TYPE_PARTIAL_SEQ_NEXT         5
                            19238 ; 75   |    #define WRITE_TYPE_PARTIAL_SEQ_LAST         6
                            19239 ; 76   |    #ifdef MEDIA_DDI_RAW_SECTOR_SERVER_ENABLE
                            19240 ; 77   |        #define WRITE_TYPE_RANDOM_RAW               7
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page  77

M:ADDR CODE           CYCLES LINE SOURCELINE
                            19241 ; 78   |        #define WRITE_TYPE_SEQ_FIRST_RAW            8
                            19242 ; 79   |        #define WRITE_TYPE_SEQ_NEXT_RAW             9
                            19243 ; 80   |        #define WRITE_TYPE_PARTIAL_SEQ_FIRST_RAW    10
                            19244 ; 81   |        #define WRITE_TYPE_PARTIAL_SEQ_NEXT_RAW     11
                            19245 ; 82   |        #define WRITE_TYPE_PARTIAL_SEQ_LAST_RAW     12
                            19246 ; 83   |    #endif
                            19247 ; 84   |#else
                            19248 ; 85   |    #define WRITE_TYPE_RANDOM                   0
                            19249 ; 86   |    #define WRITE_TYPE_SEQ_FIRST                1
                            19250 ; 87   |    #define WRITE_TYPE_SEQ_NEXT                 2
                            19251 ; 88   |    #ifdef MEDIA_DDI_RAW_SECTOR_SERVER_ENABLE
                            19252 ; 89   |        #define WRITE_TYPE_RANDOM_RAW               3
                            19253 ; 90   |        #define WRITE_TYPE_SEQ_FIRST_RAW            4
                            19254 ; 91   |        #define WRITE_TYPE_SEQ_NEXT_RAW             5
                            19255 ; 92   |    #endif
                            19256 ; 93   |#endif
                            19257 ; 94   |    #define WRITE_TYPE_UNDEFINED 0xFFFFFF
                            19258 ; 95   |
                            19259 ; 96   |
                            19260 ; 97   |#ifndef MAX_FILENAME_LENGTH
                            19261 ; 98   |#define MAX_FILENAME_LENGTH 256
                            19262 ; 99   |#endif
                            19263 ; 100  |
                            19264 ; 101  |typedef struct {
                            19265 ; 102  |    WORD wNumberOfZones;
                            19266 ; 103  |    WORD wSizeInMegaBytes;
                            19267 ; 104  |} SMARTMEDIA_CHIP_INFO;
                            19268 ; 105  |
                            19269 ; 106  |typedef struct {
                            19270 ; 107  |    WORD wBootIdentification;
                            19271 ; 108  |    WORD wStartHeadNumber;
                            19272 ; 109  |    WORD wStartSectorNumber;
                            19273 ; 110  |    WORD wStartCylinderNumber;
                            19274 ; 111  |    WORD wSystemIdentification;
                            19275 ; 112  |    WORD wEndHeadNumber;
                            19276 ; 113  |    WORD wEndSectorNumber;
                            19277 ; 114  |    WORD wEndCylinderNumber;
                            19278 ; 115  |    WORD wStartLogicalSectorNumberHigh;
                            19279 ; 116  |    WORD wStartLogicalSectorNumberLow;
                            19280 ; 117  |    WORD wPartitionSizeHigh;
                            19281 ; 118  |    WORD wPartitionSizeLow;
                            19282 ; 119  |} SMARTMEDIA_PARTITION_TABLE;
                            19283 ; 120  |
                            19284 ; 121  |typedef struct {
                            19285 ; 122  |    WORD wWord0;
                            19286 ; 123  |    WORD wWord1;
                            19287 ; 124  |    WORD wWord2;
                            19288 ; 125  |} SMARTMEDIA_CIS_IDI_MANUFACTURER_NAME;
                            19289 ; 126  |
                            19290 ; 127  |typedef struct {
                            19291 ; 128  |    WORD wWord0;
                            19292 ; 129  |    WORD wWord1;
                            19293 ; 130  |} SMARTMEDIA_CIS_IDI_PRODUCT_NAME;
                            19294 ; 131  |
                            19295 ; 132  |typedef struct {
                            19296 ; 133  |    WORD wWord0;
                            19297 ; 134  |    WORD wWord1;
                            19298 ; 135  |} SMARTMEDIA_CIS_IDI_PRODUCT_VERSION;
                            19299 ; 136  |
                            19300 ; 137  |typedef struct {
                            19301 ; 138  |    WORD wWord0;
                            19302 ; 139  |    WORD wWord1;
                            19303 ; 140  |    WORD wWord2;
                            19304 ; 141  |    WORD wWord3;
                            19305 ; 142  |} SMARTMEDIA_CIS_IDI_SERIAL_NUMBER;
                            19306 ; 143  |
                            19307 ; 144  |typedef struct {
                            19308 ; 145  |    WORD wWord0;
                            19309 ; 146  |} SMARTMEDIA_CIS_IDI_MODEL_NUMBER;
                            19310 
                            19333 
                            19334 ; 147  |
                            19335 ; 148  |typedef struct {
                            19336 ; 149  |    SMARTMEDIA_CIS_IDI_MANUFACTURER_NAME ManufacturerName;
                            19337 ; 150  |    SMARTMEDIA_CIS_IDI_PRODUCT_NAME ProductName;
                            19338 ; 151  |    SMARTMEDIA_CIS_IDI_PRODUCT_VERSION ProductVersion;
                            19339 ; 152  |    SMARTMEDIA_CIS_IDI_SERIAL_NUMBER SerialNumber;
                            19340 ; 153  |    SMARTMEDIA_CIS_IDI_MODEL_NUMBER ModelNumber;
                            19341 ; 154  |} SMARTMEDIA_CIS_IDI_TABLE;
                            19342 
                            19364 
                            19365 ; 155  |   
                            19366 ; 156  |typedef struct {
                            19367 ; 157  |    WORD wPageSizeInBytes;
                            19368 ; 158  |    WORD wRedundantAreaSizeInBytes;
                            19369 ; 159  |    WORD wNumberOfPagesPerBlock;
                            19370 ; 160  |    WORD wNumberOfBlocksPerZone;
                            19371 ; 161  |    WORD wNumberOfZonesInMedia;
                            19372 ; 162  |    WORD wMediaSizeInMBytes;
                            19373 ; 163  |    SMARTMEDIA_PARTITION_TABLE * pPartitionTable;
                            19374 ; 164  |    SMARTMEDIA_CIS_IDI_TABLE * pCisIdiTable;
                            19375 ; 165  |    WORD wMediaFlagStatus;
                            19376 ; 166  |    WORD wNumberOfBlocksToTheCisIdiBlock;
                            19377 ; 167  |    WORD wTotalNumberOfPhysicalBlocks;
                            19378 ; 168  |    WORD wNumberOfSystemBlocks;
                            19379 ; 169  |} SMARTMEDIA_ENTRY_TABLE;
                            19380 ; 170  |
                            19381 ; 171  |typedef struct {
                            19382 ; 172  |    WORD wDevice;        
                            19383 ; 173  |    WORD wDirtyBlockFlag;
                            19384 ; 174  |    WORD wCleanTailFlag; 
                            19385 ; 175  |    WORD wLogDOSPage;    
                            19386 ; 176  |    WORD wSrcLogBlock;   
                            19387 ; 177  |    WORD wSrcPhyBlock;   
                            19388 ; 178  |    WORD wDestPhyBlock;  
                            19389 ; 179  |    WORD wStartSrcPage;  
                            19390 ; 180  |    WORD wStartDestPage; 
                            19391 ; 181  |    WORD wPagesToCopy;   
                            19392 ; 182  |    WORD wReplaceBuff;   
                            19393 ; 183  |    WORD wReplaceRdnt;
                            19394 ; 184  |    #ifdef MEDIA_DDI_PARTIAL_SEQ_ENABLE
                            19395 ; 185  |        WORD wFirstCount;
                            19396 ; 186  |        WORD wNextCount;
                            19397 ; 187  |        WORD wLastCount;
                            19398 ; 188  |    #endif
                            19399 ; 189  |} SMARTMEDIA_FWPPS_TABLE;
                            19400 ; 190  |
                            19401 ; 191  |typedef struct {
                            19402 ; 192  |    WORD wWord0;
                            19403 ; 193  |    WORD wWord1;
                            19404 ; 194  |    WORD wWord2;
                            19405 ; 195  |    WORD wWord3;
                            19406 ; 196  |} DIRECTORY_NAME;
                            19407 ; 197  |
                            19408 ; 198  |typedef struct {
                            19409 ; 199  |    WORD wWord0;
                            19410 ; 200  |    WORD wWord1;
                            19411 ; 201  |} DIRECTORY_EXTENSION;
                            19412 ; 202  |
                            19413 ; 203  |typedef struct {
                            19414 ; 204  |    WORD wWord0;
                            19415 ; 205  |    WORD wWord1;
                            19416 ; 206  |} DIRECTORY_SIZE;
                            19417 
                            19432 
                            19433 ; 207  |
                            19434 ; 208  |typedef struct {
                            19435 ; 209  |    DIRECTORY_NAME Name;
                            19436 ; 210  |    DIRECTORY_EXTENSION Extension;
                            19437 ; 211  |    WORD wAttribute;
                            19438 ; 212  |    WORD wReserved[4];
                            19439 ; 213  |    WORD wCreationTime;
                            19440 ; 214  |    WORD wCreationData;
                            19441 ; 215  |    WORD wFirstCluster;
                            19442 ; 216  |    DIRECTORY_SIZE Size;
                            19443 ; 217  |    WORD wCurrentCluster;
                            19444 ; 218  |    WORD wPointer;
                            19445 ; 219  |    WORD wRecord;
                            19446 ; 220  |    WORD wRd;
                            19447 ; 221  |} DIRECTORY_FILE_CONTROL_BLOCK;
                            19448 ; 222  |
                            19449 ; 223  |// TODO:  clean this up.  There are two versions.
                            19450 ; 224  |struct FCB
                            19451 ; 225  |{
                            19452 ; 226  |    _packed BYTE m_szFileName[9];       //0-2
                            19453 ; 227  |    int     m_wReserved;                //3
                            19454 ; 228  |    _packed BYTE m_szExt[4];            //4-5
                            19455 ; 229  |    int     m_wAttributes;              //6
                            19456 ; 230  |    int     m_wReserved2[4];            //7,8,9,a
                            19457 ; 231  |    int     m_wTimeofCreation;          //b
                            19458 ; 232  |    int     m_wDateofCreation;          //c
                            19459 ; 233  |    int     m_wFirstCluster;            //d
                            19460 ; 234  |    int     m_wFileSizeHigh;            //e
                            19461 ; 235  |    int     m_wFileSizeLow;             //f
                            19462 ; 236  |};
                            19463 
                            19479 
                            19480 ; 237  |
                            19481 ; 238  |
                            19482 ; 239  |typedef struct {
                            19483 ; 240  |    WORD wFirstClusterCurrentDirectory;
                            19484 ; 241  |    WORD wFirstClusterParentDirectory;
                            19485 ; 242  |    WORD wAbsSectorCurrentlyCached;
                            19486 ; 243  |    WORD wCurrentRelativeSector;
                            19487 ; 244  |    WORD wNumberOfSectors;
                            19488 ; 245  |    WORD wCurrentRecordLoadedInDcb;
                            19489 ; 246  |    WORD wBufferedRecord;
                            19490 ; 247  |    WORD wMaxNumberRecordsCurrentDirectory;
                            19491 ; 248  |    WORD * pwPointerToBuffer;
                            19492 ; 249  |    WORD * pwPointerToPath;
                            19493 ; 250  |    DIRECTORY_FILE_CONTROL_BLOCK * pDirFcb;
                            19494 ; 251  |} DIRECTORY_CONTROL_BLOCK;
                            19495 ; 252  |
                            19496 ; 253  |typedef struct {
                            19497 ; 254  |    WORD wWord0;
                            19498 ; 255  |    WORD wWord1;
                            19499 ; 256  |    WORD wWord2;
                            19500 ; 257  |    WORD wWord3;
                            19501 ; 258  |} FILE_NAME;
                            19502 ; 259  |
                            19503 ; 260  |typedef struct {
                            19504 ; 261  |    WORD wWord0;
                            19505 ; 262  |    WORD wWord1;
                            19506 ; 263  |} FILE_EXTENSION;
                            19507 ; 264  |
                            19508 ; 265  |typedef struct {
                            19509 ; 266  |    WORD wWord0;
                            19510 ; 267  |    WORD wWord1;
                            19511 ; 268  |} FILE_SIZE;
                            19512 ; 269  |
                            19513 ; 270  |typedef union {
                            19514 ; 271  |    struct {
                            19515 ; 272  |        int Read        :1;
                            19516 ; 273  |        int Write       :1;
                            19517 ; 274  |        int Append      :1;
                            19518 ; 275  |        int Truncate    :1;
                            19519 ; 276  |        int Create      :1;
                            19520 ; 277  |        int Rsrv        :3;
                            19521 ; 278  |        int Mode        :8;
                            19522 ; 279  |        int Device      :8;
                            19523 ; 280  |    } B;
                            19524 ; 281  |    int I;
                            19525 ; 282  |} FILE_FLAGS;
                            19526 ; 283  |
                            19527 ; 284  |typedef struct {
                            19528 ; 285  |    WORD wWord0;
                            19529 ; 286  |    WORD wWord1;
                            19530 ; 287  |} FILE_BYTE_CURRENT;
                            19531 
                            19571 
                            19572 ; 288  |
                            19573 ; 289  |typedef struct {
                            19574 ; 290  |    FILE_NAME Name;
                            19575 ; 291  |    FILE_EXTENSION Extension;
                            19576 ; 292  |    WORD wAttributes;
                            19577 ; 293  |    WORD wReserved[4];
                            19578 ; 294  |    WORD wCreationTime;
                            19579 ; 295  |    WORD wCreationData;
                            19580 ; 296  |    WORD wFirstCluster;
                            19581 ; 297  |    FILE_SIZE Size;
                            19582 ; 298  |    WORD wCurrentCluster;
                            19583 ; 299  |    WORD wPointer;
                            19584 ; 300  |    WORD wRecord;
                            19585 ; 301  |    WORD wRd;
                            19586 ; 302  |    FILE_FLAGS Flags;
                            19587 ; 303  |    FILE_BYTE_CURRENT FcbByteCurrent;
                            19588 ; 304  |    WORD wFcbFlagEndOfCx;
                            19589 ; 305  |} FILE_CONTROL_BLOCK;    
                            19590 ; 306  |
                            19591 ; 307  |typedef struct {
                            19592 ; 308  |    WORD wWord0;
                            19593 ; 309  |    WORD wWord1;
                            19594 ; 310  |    WORD wWord2;
                            19595 ; 311  |    WORD wWord3;
                            19596 ; 312  |} VOLUME_LABEL;
                            19597 ; 313  |
                            19598 ; 314  |typedef struct {
                            19599 ; 315  |    WORD wFATPhysicalBlock1;
                            19600 ; 316  |    WORD wFATPhysicalBlock2;
                            19601 ; 317  |    WORD wFATPhysicalBlock3;
                            19602 ; 318  |    WORD wFATPhysicalBlock4;
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page  78

M:ADDR CODE           CYCLES LINE SOURCELINE
                            19603 ; 319  |} FAT_PHYSICAL_BLOCK_LIST;
                            19604 
                            19611 
                            19612 ; 320  |
                            19613 ; 321  |typedef struct {
                            19614 ; 322  |    WORD wFATSectorInCache;
                            19615 ; 323  |    WORD wLastClusterFree;
                            19616 ; 324  |    WORD wNumberOfUsedClusters;
                            19617 ; 325  |    WORD wNumberOfFreeClusters;
                            19618 ; 326  |    WORD wNumberOfBadClusters;
                            19619 ; 327  |    WORD wNumberOfReservedClusters;
                            19620 ; 328  |    WORD wControl;
                            19621 ; 329  |    WORD * pwSectorCache;
                            19622 ; 330  |    FAT_PHYSICAL_BLOCK_LIST FATPhysicalLocationList;
                            19623 ; 331  |} FAT_TABLE;
                            19624 
                            19631 
                            19632 ; 332  |
                            19633 ; 333  |typedef struct {
                            19634 ; 334  |    WORD wStateMediaTable;
                            19635 ; 335  |    WORD wTypeFs;
                            19636 ; 336  |    WORD wBytesPerSector;
                            19637 ; 337  |    WORD wSectorsPerCluster;
                            19638 ; 338  |    WORD wNumberOfReservedSectors;
                            19639 ; 339  |    WORD wMaximumNumberOfFATs;
                            19640 ; 340  |    WORD wMaxRootDirectoryEntries;
                            19641 ; 341  |    WORD wTotalSectors;
                            19642 ; 342  |    WORD wNumberOfFATSectors;
                            19643 ; 343  |    WORD wNumberOfSectorsPerTrack;
                            19644 ; 344  |    WORD wNumberOfHeads;
                            19645 ; 345  |    WORD wNumberOfHiddenSectorsMSB;
                            19646 ; 346  |    WORD wNumberOfHiddenSectorsLSB;
                            19647 ; 347  |    WORD wTotalSectors32MSB;
                            19648 ; 348  |    WORD wTotalSectors32LSB;
                            19649 ; 349  |    WORD wDriverNumber;
                            19650 ; 350  |    WORD wExtendedBootSignature;
                            19651 ; 351  |    WORD wVolumeIDMSB;
                            19652 ; 352  |    WORD wVolumeIDLSB;
                            19653 ; 353  |    VOLUME_LABEL VolumeLabel;
                            19654 ; 354  |    WORD * pwWriteBuffer;
                            19655 ; 355  |    WORD wPrimaryFATRelativeSector;
                            19656 ; 356  |    WORD wSecondaryFATRelativeSector;
                            19657 ; 357  |    WORD wRootDirectoryRelativeSector;
                            19658 ; 358  |    WORD wFirstSectorNumberDataZone;
                            19659 ; 359  |    WORD wMaxNumberOfFATEntries;
                            19660 ; 360  |    WORD wRootDirectorySizeInSectors;
                            19661 ; 361  |    WORD wDataAreaSizeInSectors;
                            19662 ; 362  |} MEDIA_TABLE;
                            19663 
                            19722 
                            19723 ; 363  |
                            19724 ; 364  |typedef struct {
                            19725 ; 365  |    MEDIA_TABLE * pMediaTable;
                            19726 ; 366  |    DIRECTORY_CONTROL_BLOCK * pDirectoryControlBlock;
                            19727 ; 367  |    FAT_TABLE * pFATTable;
                            19728 ; 368  |} DEVICE_CONTROL_TABLE;
                            19729 ; 369  |    
                            19730 ; 370  |typedef struct {
                            19731 ; 371  |    WORD dwTotalSizeInMegaBytes;        // dwTotalSizeInMegaBytes is limited
                            19732 ; 372  |                                        //  to 2-bytes for compatibility with
                            19733 ; 373  |                                        //  older host drivers.
                            19734 ; 374  |    DWORD dwTotalNumberOfSectors;
                            19735 ; 375  |    DWORD dwTotalNumberOfBytes;
                            19736 ; 376  |    WORD wSectorSizeInBytes;
                            19737 ; 377  |} MEDIA_SIZE;
                            19738 ; 378  |
                            19739 ; 379  |typedef struct {
                            19740 ; 380  |    BOOL    bInstalled;
                            19741 ; 381  |    INT     iPbsSectorOffset;   // from the beginning of the data drive 
                            19742 ; 382  |    DWORD   dwSize;
                            19743 ; 383  |} DATA_DRIVE_PBS_LOC;
                            19744 ; 384  |extern  INT _reentrant FSFileOpen(_packed BYTE *fname,INT attribute, INT DeviceNumber);
                            19745 ; 385  |extern  INT _reentrant FSFastOpen(DWORD Key, INT attribute);
                            19746 ; 386  |extern  INT FSFileDelete(_packed BYTE *fname,INT DeviceNumber);
                            19747 ; 387  |extern  INT FSFileCreate(_packed BYTE *fname,INT DeviceNumber);
                            19748 ; 388  |extern  INT _reentrant FSChangeDir(_packed BYTE *dirname,INT DeviceNumber);
                            19749 ; 389  |extern  INT _reentrant FSCreateDir(_packed BYTE *dirname,INT DeviceNumber);
                            19750 ; 390  |extern  INT _reentrant FSDeleteDir(_packed BYTE *dirname,INT DeviceNumber);
                            19751 ; 391  |extern  INT _reentrant FSFileAppend(_packed BYTE *fname,INT DeviceNumber);
                            19752 ; 392  |extern  INT _reentrant FSFileRead(INT BytestoRead, INT Handle, INT memory_type, INT modulo, WORD *buffer);
                            19753 ; 393  |extern  INT _reentrant FSFileWrite(INT wNumberBytes, INT Handle, INT memory_type, INT iModulo, WORD *buffer);
                            19754 ; 394  |extern  INT _reentrant FSFileClose(INT Handle);
                            19755 ; 395  |extern  LONG _reentrant FSFileSize(INT HandleNumber);
                            19756 ; 396  |extern  LONG  FSSize(INT DeviceNum, INT TYPE);   
                            19757 ; 397  |extern  INT FSFreeClusters(INT Device);
                            19758 ; 398  |extern  INT BytesPerCluster(INT Device);
                            19759 ; 399  |
                            19760 ; 400  |
                            19761 ; 401  |
                            19762 ; 402  |//extern  INT FSFileCreate(_packed BYTE *pbFileName, BYTE bDevice);
                            19763 ; 403  |//extern  INT FSFileDelete(_packed BYTE *pbFileName, BYTE bDevice);
                            19764 ; 404  |extern  INT FSFileRename(_packed BYTE *pbCurFilename, _packed BYTE *pbNewFilename, BYTE bDevice);
                            19765 ; 405  |//extern  INT _reentrant FSFileAttribute(_packed BYTE *pbFilename, WORD wAttributes, BYTE bDevice);
                            19766 ; 406  |//extern  INT FSFileAppend(_packed BYTE *pbFileName, BYTE bDevice);
                            19767 ; 407  |//extern  INT FSFileOpen(_packed BYTE *pbFileName, WORD wAttributes, BYTE bDevice);
                            19768 ; 408  |//extern  INT FSFileClose(INT bHandle);
                            19769 ; 409  |//extern  INT FSFileRead(WORD wNumberBytes, BYTE bHandle, WORD wMemSpace, INT iModulo, WORD *pwBuffer);
                            19770 ; 410  |//extern  INT FSFileWrite(WORD wNumberBytes, BYTE bHandle, WORD wMemSpace, INT iModulo, WORD *pwBuffer);
                            19771 ; 411  |extern  INT _reentrant fseek( INT handle , LONG offset, INT iOrigin );
                            19772 ; 412  |extern  INT _reentrant FSFileEof(INT Handle);
                            19773 ; 413  |extern INT _reentrant FSFileAttribute(INT Attributes, _packed BYTE *fname, INT DeviceNumber);
                            19774 ; 414  |extern INT _reentrant FSFileAttributeClear(INT Attributes, _packed BYTE *fname, INT DeviceNumber);
                            19775 ; 415  |//extern  LONG FSFileSize(INT bHandle);
                            19776 ; 416  |extern _asmfunc INT FSPresent(BYTE bDevice);
                            19777 ; 417  |extern _asmfunc INT FSType(BYTE bDevice);
                            19778 ; 418  |//extern LONG FSSize(WORD wDevice, WORD wReturnType);
                            19779 ; 419  |//extern INT FSChangeDir(_packed BYTE *pbDirName, BYTE bDevice);
                            19780 ; 420  |//extern INT FSCreateDir(_packed BYTE *pbDirName, BYTE bDevice);
                            19781 ; 421  |//extern INT FSDeleteDir(_packed BYTE *pbDirName, BYTE bDevice);
                            19782 ; 422  |extern _asmfunc void SysLoadFATWrite(void);
                            19783 ; 423  |extern _asmfunc INT SysUnLoadFATWrite(void);
                            19784 ; 424  |extern LONG _reentrant ftell(INT iHandle);
                            19785 ; 425  |extern _asmfunc struct FCB * ReadDirectory(int iDevice, int iEntry);
                            19786 ; 426  |
                            19787 ; 427  |#endif
                            19788 
                            19790 
                            19791 ; 7    |#include "metadata.h"
                            19792 
                            19794 
                            19795 ; 1    |////////////////////////////////////////////////////////////////////////////////
                            19796 ; 2    |// Copyright(C) SigmaTel, Inc. 2002
                            19797 ; 3    |//
                            19798 ; 4    |// Filename: metadata.h
                            19799 ; 5    |// Description:
                            19800 ; 6    |////////////////////////////////////////////////////////////////////////////////
                            19801 ; 7    |
                            19802 ; 8    |#ifndef _METADATA_H
                            19803 ; 9    |#define _METADATA_H
                            19804 ; 10   |
                            19805 ; 11   |///////////////////////////////////////////////////////////////////////////////
                            19806 ; 12   |// MetaData definitions
                            19807 ; 13   |///////////////////////////////////////////////////////////////////////////////
                            19808 ; 14   |
                            19809 ; 15   |//#define MMC_CMD59       0x40|59
                            19810 ; 16   |
                            19811 ; 17   |///////////////////////////////////////////////////////////////////////////////
                            19812 ; 18   |// Meta Data structure definitions
                            19813 ; 19   |///////////////////////////////////////////////////////////////////////////////
                            19814 ; 20   |
                            19815 ; 21   |///////////////////////////////////////////////////////////////////////////////
                            19816 ; 22   |// MetaData definitions
                            19817 ; 23   |
                            19818 ; 24   |#define META_DATA_FOUND                     (WORD)(0)
                            19819 ; 25   |#define META_DATA_NOT_FOUND                 (WORD)(0x100)
                            19820 ; 26   |#define META_DATA_FILE_NOT_SUPPORTED        (WORD)(0x101)
                            19821 ; 27   |#define META_DATA_FILEOPEN_ERROR            (WORD)(0x200)
                            19822 ; 28   |#define META_DATA_FILEREAD_ERROR            (WORD)(0x201)
                            19823 ; 29   |#define META_DATA_FILECLOSE_ERROR           (WORD)(0x202)
                            19824 ; 30   |#define META_DATA_FILESEEK_ERROR            (WORD)(0x203)
                            19825 ; 31   |#define META_DATA_FILEWRITE_ERROR           (WORD)(0x204)
                            19826 ; 32   |#define META_DATA_SUCCESS                               (WORD)(0x205)
                            19827 ; 33   |
                            19828 ; 34   |#define META_DATA_NOT_VBR_FORMAT            (WORD)(0x102)
                            19829 ; 35   |
                            19830 ; 36   |// VBR
                            19831 ; 37   |#define VBR_NOT_DETERMINED 0
                            19832 ; 38   |#define VBR_TRUE 1
                            19833 ; 39   |
                            19834 ; 40   |#ifndef TITLE_SIZE
                            19835 ; 41   |//#define TITLE_SIZE 30
                            19836 ; 42   |#ifndef USE_PLAYLIST3
                            19837 ; 43   |#define TITLE_SIZE 256          //was 30 but LFNs require up to 256!
                            19838 ; 44   |#else
                            19839 ; 45   |#define TITLE_SIZE 80           //was 256 but music library only store up to 129!
                            19840 ; 46   |#endif
                            19841 ; 47   |#endif
                            19842 ; 48   |
                            19843 ; 49   |#ifndef ARTIST_SIZE
                            19844 ; 50   |#ifndef USE_PLAYLIST3
                            19845 ; 51   |//#define ARTIST_SIZE 30
                            19846 ; 52   |#define ARTIST_SIZE 100         // increase artist size for use with ID3V2 tags (Stmp00003110)
                            19847 ; 53   |#else
                            19848 ; 54   |#define ARTIST_SIZE 48          // increase artist size for use with ID3V2 tags (Stmp00003110)
                            19849 ; 55   |#endif
                            19850 ; 56   |#endif
                            19851 ; 57   |
                            19852 ; 58   |#ifndef ALBUM_SIZE
                            19853 ; 59   |#ifndef USE_PLAYLIST3
                            19854 ; 60   |//#define ALBUM_SIZE 30
                            19855 ; 61   |#define ALBUM_SIZE 50           // increase album size (not as much) for use with ID3V2 tags (Stmp00003110)
                            19856 ; 62   |#else
                            19857 ; 63   |#define ALBUM_SIZE 48           // increase album size (not as much) for use with ID3V2 tags (Stmp00003110)
                            19858 ; 64   |#endif
                            19859 ; 65   |#endif
                            19860 ; 66   |
                            19861 ; 67   |#ifdef USE_PLAYLIST3
                            19862 ; 68   |#ifndef GENRE_SIZE
                            19863 ; 69   |#define GENRE_SIZE 20
                            19864 ; 70   |#endif
                            19865 ; 71   |
                            19866 ; 72   |#ifndef YEAR_SIZE
                            19867 ; 73   |#define YEAR_SIZE 8
                            19868 ; 74   |#endif
                            19869 ; 75   |
                            19870 ; 76   |#ifndef TRACKNUM_SIZE
                            19871 ; 77   |#define TRACKNUM_SIZE 5 // assume track number is smaller than 0xfff (12bit or 4095)
                            19872 ; 78   |#endif
                            19873 ; 79   |
                            19874 ; 80   |#define MAX_TRACK_NUMBER 0x000fff
                            19875 ; 81   |#define UNKNOWN_TRACK_NUMBER MAX_TRACK_NUMBER
                            19876 ; 82   |#endif
                            19877 ; 83   |
                            19878 ; 84   |#define XING_TOC_SIZE   100
                            19879 ; 85   |#if MTP_BUILD
                            19880 ; 86   |// This size is used to build table for FF/RW for vbr songs,
                            19881 ; 87   |// and as there is no such function in mtp mode, it is reduced to release y-memory.
                            19882 ; 88   |#define VBR_TOC_SIZE    2
                            19883 ; 89   |#else
                            19884 ; 90   |#define VBR_TOC_SIZE    200
                            19885 ; 91   |#endif
                            19886 ; 92   |
                            19887 ; 93   |extern UCS3 g_wSongTitle[TITLE_SIZE];
                            19888 ; 94   |extern UCS3 g_wSongArtist[ARTIST_SIZE];
                            19889 ; 95   |extern UCS3 g_wSongAlbum[ALBUM_SIZE];
                            19890 ; 96   |#ifdef USE_PLAYLIST3
                            19891 ; 97   |extern UCS3 g_wSongGenre[GENRE_SIZE];
                            19892 ; 98   |extern UCS3 g_wSongYear[YEAR_SIZE];
                            19893 ; 99   |extern WORD g_wSongTrackNum;
                            19894 ; 100  |#endif
                            19895 ; 101  |
                            19896 ; 102  |extern WORD g_wVBRTOCTable[VBR_TOC_SIZE];
                            19897 ; 103  |
                            19898 ; 104  |typedef struct {
                            19899 ; 105  |    WORD        iTitleBufferLength;
                            19900 ; 106  |        UCS3       *wTitle;        // Title of Song
                            19901 ; 107  |    WORD        iArtistBufferLength;
                            19902 ; 108  |    UCS3       *wArtist;
                            19903 ; 109  |    WORD        iAlbumBufferLength;
                            19904 ; 110  |    UCS3       *wAlbum;
                            19905 ; 111  |#ifdef USE_PLAYLIST3
                            19906 ; 112  |    WORD        iGenreBufferLength;
                            19907 ; 113  |    UCS3       *wGenre;
                            19908 ; 114  |    WORD        iYearBufferLength;
                            19909 ; 115  |    UCS3       *wYear;
                            19910 ; 116  |    WORD        wTrackNum;
                            19911 ; 117  |#endif
                            19912 ; 118  |    BYTE       btGenre;       // Genre of audio file -- if MP3, use the ID3v1 tag byte
                            19913 ; 119  |        WORD       wSampRate;     // Sample Rate of song (Hz)
                            19914 ; 120  |        WORD       wNumChannels;
                            19915 ; 121  |        WORD       wBitRate;      // Bitrate of song (for MP3 VBR, this will be first bitrate found)
                            19916 ; 122  |        LONG       iTime;                 // Length of song in seconds
                            19917 ; 123  |        DWORD      dwStartPos;    // Position where audio starts. (if required by the decoder)
                            19918 ; 124  |        DWORD      dwNumBytes;    // Total Bytes in audio part of song
                            19919 ; 125  |    DWORD      dwDataBytes;   // for wma; (total bytes - header bytes)
                            19920 ; 126  |        DWORD      dwNumFrames;   // See note below on frames
                            19921 ; 127  |        BOOL       bVBR;                  // 0 = CBR or does not apply , 1 = VBR (**see question below**)
                            19922 ; 128  |        INT                iFileType;     // 0 = unknown, 1 = MP3, 2 = WMA, 4 = AAC, 8 = IMA ADPCM, etc (use defines below)
                            19923 ; 129  |        INT                iResourceNum;  // Resource number of the decoder that needed for this file
                            19924 ; 130  |} FILE_META_DATA;
                            19925 ; 131  |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page  79

M:ADDR CODE           CYCLES LINE SOURCELINE
                            19926 ; 132  |// File Type Defines (use for iFileType) -- matches bit defines in sysequ.inc
                            19927 ; 133  |#define UNKNOWN_TYPE   0
                            19928 ; 134  |#define MP3_TYPE       1
                            19929 ; 135  |#define WMA_TYPE       2
                            19930 ; 136  |#define AAC_TYPE       4
                            19931 ; 137  |#define IMA_ADPCM_TYPE 8
                            19932 ; 138  |#define MS_ADPCM_TYPE  16
                            19933 ; 139  |#define PCM_WAV_TYPE   32
                            19934 ; 140  |#define ASF_TYPE       64
                            19935 ; 141  |#define AUDIBLE_ACELP_TYPE 128
                            19936 ; 142  |#define AUDIBLE_MP3_TYPE   256          // 9/28/04 mmiu
                            19937 ; 143  |
                            19938 ; 144  |#define SMV_ADPCM_TYPE 512
                            19939 ; 145  |
                            19940 ; 146  |
                            19941 ; 147  |//////SRS WOW DEFS/////////////////////////////////////////////////////////////
                            19942 ; 148  |// Sample rates
                            19943 ; 149  |#ifdef WOW
                            19944 ; 150  |#define SR_48KHZ        48000
                            19945 ; 151  |#define SR_44KHZ        44100
                            19946 ; 152  |#define SR_32KHZ        32000
                            19947 ; 153  |#define SR_24KHZ        24000
                            19948 ; 154  |#define SR_22KHZ        22050
                            19949 ; 155  |#define SR_16KHZ        16000
                            19950 ; 156  |#define SR_12KHZ        12000
                            19951 ; 157  |#define SR_11KHZ        11025
                            19952 ; 158  |#define SR_8KHZ          8000
                            19953 ; 159  |#endif
                            19954 ; 160  |
                            19955 ; 161  |
                            19956 ; 162  |///////////////////////////////////////////////////////////////////////////////
                            19957 ; 163  |// MetaData prototypes
                            19958 ; 164  |///////////////////////////////////////////////////////////////////////////////
                            19959 ; 165  |
                            19960 ; 166  |RETCODE _reentrant GetFileMetaData(INT PackedPathNameAddress, INT btCurrentDevice, FILE_META_DATA *MetaData);
                            19961 
                            19989 
                            19990 ; 167  |#ifdef USE_PLAYLIST3
                            19991 ; 168  |INT _reentrant GetRelativePath(int highlight_index, int browse_type, INT* PackedPathNameAddress);
                            19992 ; 169  |INT _reentrant RetrieveSongInfo(INT a, INT b, INT *p_path);
                            19993 ; 170  |#endif
                            19994 ; 171  |
                            19995 ; 172  |#endif // #ifndef _METADATA_H
                            19996 
                            19998 
                            19999 ; 8    |
                            20000 ; 9    |#define MAX_NUM_DIR 1           //max supported directories including all subdirectories
                            20001 ; 10   |#define MAX_NUM_FILES   1       //max supported files
                            20002 ; 11   |#define MAX_SORT_ENTRIES_PER_DIRECTORY  15
                            20003 ; 12   |
                            20004 ; 13   |#define MAX_RECORDS_PER_DIRECTORY   4096        //calculated from the bits in the m_iRecordNum field in the following data structures.
                            20005 ; 14   |                                                                                        //An entry can have multiple records in the FAT for LFNs.
                            20006 ; 15   |                                                                                        //Records more than this number will not be included in the playlist content
                            20007 ; 16   |
                            20008 ; 17   |#define SFN_LENGTH      13      //8.3\ + NULL
                            20009 ; 18   |
                            20010 ; 19   |#define  _MAX_DIR_DEPTH 8
                            20011 ; 20   |#define  MAX_DIRNAME_LENGTH ((SFN_LENGTH*_MAX_DIR_DEPTH)+1)
                            20012 ; 21   |
                            20013 ; 22   |struct Bookmark{
                            20014 ; 23   |        INT       m_iTracknum;
                            20015 ; 24   |        DWORD m_dwTrackPosBytes;
                            20016 ; 25   |}; //this will save the num and position of the song selected for bookmark
                            20017 ; 26   |
                            20018 ; 27   |
                            20019 ; 28   |typedef struct{
                            20020 ; 29   |    unsigned int    m_pNext:16;                 //points to the next inline DirEntry. 
                            20021 ; 30   |        unsigned int    m_bAllocated:1; //1=allocated, 0=free.
                            20022 ; 31   |    unsigned int    m_iDevice:1;
                            20023 ; 32   |        unsigned int    m_bIsRoot:1;    //1=ROOT directory, 0= Any directory except ROOT.
                            20024 ; 33   |////////////////////////////////////////////////////////////////////////////////////////////
                            20025 ; 34   |    unsigned int    m_pDirContents:16;  //points to the first content which is a dir.
                            20026 ; 35   |///////////////////////////////////////////////////////////////////////////////////////////
                            20027 ; 36   |        unsigned int    m_pFileContents:16; //pointer in FileEntryPool where the file contents for this directory begin.
                            20028 ; 37   |////////////////////////////////////////////////////////////////////////////////////////////
                            20029 ; 38   |        unsigned int    m_iDirSector1:21;
                            20030 ; 39   |////////////////////////////////////////////////////////////////////////////////////////////
                            20031 ; 40   |        unsigned int    m_iDirOffset:12;
                            20032 ; 41   |        unsigned int    m_iRecordNum:12;        //record number of the directory record (LFN use).
                            20033 ; 42   |
                            20034 ; 43   |        unsigned int    m_iDirSector2:11;
                            20035 ; 44   |        //!! The above are implicitly used as a struct*. Using INT bitfields to save memory !!!
                            20036 ; 45   |////////////////////////////////////////////////////////////////////////////////////////////    
                            20037 ; 46   |#ifdef DEBUG_SFN
                            20038 ; 47   |        _packed BYTE name[SFN_LENGTH];
                            20039 ; 48   |#endif
                            20040 ; 49   |}DirEntry;
                            20041 ; 50   |
                            20042 ; 51   |typedef struct{
                            20043 ; 52   |        unsigned int    m_bAllocated:1; //1=allocated, 0=free.
                            20044 ; 53   |        unsigned int    m_bCurrentPlayset:1;    //1=Belongs to the current playset.
                            20045 ; 54   |        unsigned int    m_bTrackPlayed:1;               //Indicates if the track was played atleast once. Currently not used.
                            20046 ; 55   |        unsigned int    m_iDirSector1:21;
                            20047 ; 56   |//////////////////////////////////////////////////////////////////////////////////////////////////////
                            20048 ; 57   |        unsigned int    m_iTrackOrder:10;               //Order of this track in the current playset.
                            20049 ; 58   |        unsigned int    m_iDirOffset:12;
                            20050 ; 59   |//////////////////////////////////////////////////////////////////////////////////////////////////////
                            20051 ; 60   |        unsigned int    m_iDevice:1;
                            20052 ; 61   |        unsigned int    m_iRecordNum:12;        //Record number of the file record (LFN use).
                            20053 ; 62   |        unsigned int    m_iDirSector2:11;
                            20054 ; 63   |//////////////////////////////////////////////////////////////////////////////////////////////////////
                            20055 ; 64   |        unsigned int    m_pNext:16;             // //points to the next inline file.
                            20056 ; 65   |//////////////////////////////////////////////////////////////////////////////////////////////////////
                            20057 ; 66   |#ifdef DEBUG_SFN
                            20058 ; 67   |        _packed BYTE name[SFN_LENGTH];
                            20059 ; 68   |#endif
                            20060 ; 69   |}FileEntry;
                            20061 
                            20106 
                            20107 ; 70   |
                            20108 ; 71   |typedef struct{
                            20109 ; 72   |        DirEntry _X* pDirEntry; //Start traversing from this directory entry
                            20110 ; 73   |        unsigned int    iReason;
                            20111 ; 74   |        unsigned int iDevice;
                            20112 ; 75   |        unsigned int iPlayset;
                            20113 ; 76   |        unsigned int iDepth;
                            20114 ; 77   |        unsigned int iTrackOrder;
                            20115 ; 78   |        unsigned int iTrackNum;
                            20116 ; 79   |        FileEntry* pFileEntry;
                            20117 ; 80   |        DirEntry _X* DirLinks[_MAX_DIR_DEPTH];  //maintains a dynamic list of directory links within the recursion
                            20118 ; 81   |        unsigned int    iTotalLinks;
                            20119 ; 82   |}TraverseTreeParams;
                            20120 ; 83   |
                            20121 ; 84   |typedef struct{
                            20122 ; 85   |        unsigned int EntryType;                         //TYPE_DIR or TYPE_FILE
                            20123 ; 86   |        FileEntry* pFileEntry;          //used if TYPE_FILE
                            20124 ; 87   |        DirEntry _X* pDirEntry;                 //used if TYPE_DIR
                            20125 ; 88   |        unsigned int iTrackNum;
                            20126 ; 89   |        unsigned int iTrackOrder;
                            20127 ; 90   |        DirEntry _X* DirLinks[_MAX_DIR_DEPTH];
                            20128 ; 91   |        unsigned int iTotalLinks;
                            20129 ; 92   |}EntryAccessInfo;
                            20130 ; 93   |
                            20131 ; 94   |typedef struct{
                            20132 ; 95   |        void* pEntry;
                            20133 ; 96   |        _packed BYTE name[SFN_LENGTH];
                            20134 ; 97   |}SFNStorage;
                            20135 ; 98   |
                            20136 ; 99   |extern DirEntry _X g_DirEntryPerDevice[];               //ROOT(s)
                            20137 ; 100  |extern DirEntry _X g_DirEntryPool[];            //Pool of directory entries, Does not contain files.
                            20138 ; 101  |extern FileEntry g_FileEntryPool[];
                            20139 
                            20154 
                            20155 ; 102  |extern EntryAccessInfo g_CurrentTrack;
                            20156 ; 103  |extern int g_iPlaylistRepeat;
                            20157 ; 104  |extern int g_bPlaylistShuffle;
                            20158 
                            20166 
                            20167 ; 105  |extern SFNStorage g_TempSFNSpace[];
                            20168 ; 106  |extern int g_iTotalTracks;
                            20169 ; 107  |
                            20170 ; 108  |extern int g_iPlaySet;
                            20171 ; 109  |
                            20172 ; 110  |extern struct Bookmark g_MarkerMusic, g_MarkerVoice;
                            20173 ; 111  |extern int g_iTotalDir;
                            20174 ; 112  |extern int g_iTotalFiles;
                            20175 ; 113  |
                            20176 ; 114  |void _reentrant ML_building_engine_init_playlist3(void);
                            20177 ; 115  |void _reentrant ML_voice_build_engine_init_playlist3(void);
                            20178 ; 116  |void _reentrant ML_merging_engine_init_playlist3(void);
                            20179 ; 117  |_reentrant void Rebuild_GetMetaData(WORD wMode,int ignored1,int*ignored2);
                            20180 ; 118  |_reentrant void Rebuild_GetFileMetaData(INT PackedPathNameAddress, INT btCurrentDevice, FILE_META_DATA *MetaData);
                            20181 ; 119  |_reentrant RETCODE AddDirToLibrary(INT iDrive, INT iDirDepth);
                            20182 ; 120  |RETCODE _reentrant ML_GetLFN(DWORD dwFastKey, INT iRecordNum, UCS3 *pBuf);
                            20183 ; 121  |
                            20184 ; 122  |#endif
                            20185 
                            20187 
                            20188 ; 5    |#include "musiclib_ghdr.h"
                            20189 
                            20191 
                            20192 ; 1    |#ifndef MUSICLIB_GHDR_H
                            20193 ; 2    |#define MUSICLIB_GHDR_H
                            20194 ; 3    |
                            20195 ; 4    |#ifdef __cplusplus
                            20196 ; 5    |extern "C" {
                            20197 ; 6    |#endif
                            20198 ; 7    |
                            20199 ; 8    |/*==================================================================================================
                            20200 ; 9    |
                            20201 ; 10   |                                        General Description
                            20202 ; 11   |
                            20203 ; 12   |====================================================================================================
                            20204 ; 13   |
                            20205 ; 14   |                               Sigmatel Inc Confidential Proprietary
                            20206 ; 15   |                               (c) Copyright Sigmatel Inc 2004, All Rights Reserved
                            20207 ; 16   |
                            20208 ; 17   |HEADER NAME: mf_sf_filename.h   AUTHOR: Developer Name      CREATION DATE: DD/MM/YYYY
                            20209 ; 18   |
                            20210 ; 19   |PRODUCT NAMES: All
                            20211 ; 20   |
                            20212 ; 21   |GENERAL DESCRIPTION:
                            20213 ; 22   |
                            20214 ; 23   |    General description of this grouping of functions.
                            20215 ; 24   |
                            20216 ; 25   |Portability: All
                            20217 ; 26   |
                            20218 ; 27   |
                            20219 ; 28   |Revision History:
                            20220 ; 29   |
                            20221 ; 30   |                         Modification        Tracking
                            20222 ; 31   |Author                       Date             Number           Description of Changes
                            20223 ; 32   |---------------------    ------------        ----------        -------------------------------------
                            20224 ; 33   |Developer Name            DD/MM/YYYY         PDaaaxxxxx        brief description of changes made
                            20225 ; 34   |
                            20226 ; 35   |
                            20227 ; 36   |====================================================================================================
                            20228 ; 37   |                                            DESCRIPTION
                            20229 ; 38   |====================================================================================================
                            20230 ; 39   |
                            20231 ; 40   |GLOBAL FUNCTIONS:
                            20232 ; 41   |    MF_global_func_name()
                            20233 ; 42   |
                            20234 ; 43   |TRACEABILITY MATRIX:
                            20235 ; 44   |    None
                            20236 ; 45   |
                            20237 ; 46   |==================================================================================================*/
                            20238 ; 47   |
                            20239 ; 48   |/*==================================================================================================
                            20240 ; 49   |                                                                Conditional Compilation Directives
                            20241 ; 50   |==================================================================================================*/
                            20242 ; 51   |#ifdef WIN32
                            20243 ; 52   |#define _PC_SIMULATION_
                            20244 ; 53   |#else
                            20245 ; 54   |#define _RUNNING_IN_EMBEDDED_
                            20246 ; 55   |#endif  // WIN32
                            20247 ; 56   |
                            20248 ; 57   |#if 1
                            20249 ; 58   |#define _NEWMUSIC_      /* install new music list */
                            20250 ; 59   |#endif
                            20251 ; 60   |
                            20252 ; 61   |#if 1
                            20253 ; 62   |#define _AUDIBLE_       /* install audible list */
                            20254 ; 63   |#endif
                            20255 ; 64   |
                            20256 ; 65   |#if 1
                            20257 ; 66   |#define _ONTHEGO_       /* install on the go list */
                            20258 ; 67   |#endif
                            20259 ; 68   |
                            20260 ; 69   |#ifdef PL3_FB
                            20261 ; 70   |#define _FOLDER_BROWSE_ // install folder browsing
                            20262 ; 71   |#endif
                            20263 ; 72   |
                            20264 ; 73   |#if 1
                            20265 ; 74   |#define _SUPPORT_2000_SONGS_
                            20266 ; 75   |#endif
                            20267 ; 76   |
                            20268 ; 77   |/*==================================================================================================
                            20269 ; 78   |                                           INCLUDE FILES
                            20270 ; 79   |==================================================================================================*/
                            20271 ; 80   |#ifdef _RUNNING_IN_EMBEDDED_
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page  80

M:ADDR CODE           CYCLES LINE SOURCELINE
                            20272 ; 81   |#define OEM_SEEK_CUR    SEEK_CUR
                            20273 ; 82   |#define OEM_SEEK_SET    SEEK_SET
                            20274 ; 83   |#define OEM_SEEK_END    SEEK_END
                            20275 ; 84   |#else
                            20276 ; 85   |#define _X
                            20277 ; 86   |#define _Y
                            20278 ; 87   |#define _packed
                            20279 ; 88   |
                            20280 ; 89   |#define _asmfunc
                            20281 ; 90   |#define _reentrant
                            20282 ; 91   |
                            20283 ; 92   |#define OEM_SEEK_CUR    1
                            20284 ; 93   |#define OEM_SEEK_SET    0
                            20285 ; 94   |#define OEM_SEEK_END    2
                            20286 ; 95   |#endif  // _RUNNING_IN_EMBEDDED_
                            20287 ; 96   |
                            20288 ; 97   |#include "types.h"
                            20289 
                            20291 
                            20292 ; 1    |////////////////////////////////////////////////////////////////////////////////
                            20293 ; 2    |// Copyright(C) SigmaTel, Inc. 2000-2004
                            20294 ; 3    |//
                            20295 ; 4    |// Filename: types.h
                            20296 ; 5    |// Description: Standard data types
                            20297 ; 6    |////////////////////////////////////////////////////////////////////////////////
                            20298 ; 7    |
                            20299 ; 8    |#ifndef _TYPES_H
                            20300 ; 9    |#define _TYPES_H
                            20301 ; 10   |
                            20302 ; 11   |// TODO:  move this outta here!
                            20303 ; 12   |#if !defined(NOERROR)
                            20304 ; 13   |#define NOERROR 0
                            20305 ; 14   |#define SUCCESS 0
                            20306 ; 15   |#endif 
                            20307 ; 16   |#if !defined(SUCCESS)
                            20308 ; 17   |#define SUCCESS  0
                            20309 ; 18   |#endif
                            20310 ; 19   |#if !defined(ERROR)
                            20311 ; 20   |#define ERROR   -1
                            20312 ; 21   |#endif
                            20313 ; 22   |#if !defined(FALSE)
                            20314 ; 23   |#define FALSE 0
                            20315 ; 24   |#endif
                            20316 ; 25   |#if !defined(TRUE)
                            20317 ; 26   |#define TRUE  1
                            20318 ; 27   |#endif
                            20319 ; 28   |
                            20320 ; 29   |#if !defined(NULL)
                            20321 ; 30   |#define NULL 0
                            20322 ; 31   |#endif
                            20323 ; 32   |
                            20324 ; 33   |#define MAX_INT     0x7FFFFF
                            20325 ; 34   |#define MAX_LONG    0x7FFFFFffffff
                            20326 ; 35   |        // max positive unsigned long value: -1 == 0xFFFFFFffffff
                            20327 ; 36   |#define MAX_ULONG   (-1) 
                            20328 ; 37   |
                            20329 ; 38   |#define WORD_SIZE   24              // word size in bits
                            20330 ; 39   |#define BYTES_PER_WORD 3            // 8 bit bytes
                            20331 ; 40   |
                            20332 ; 41   |
                            20333 ; 42   |#define BYTE    unsigned char       // btVarName
                            20334 ; 43   |#define CHAR    signed char         // cVarName
                            20335 ; 44   |#define USHORT  unsigned short      // usVarName
                            20336 ; 45   |#define SHORT   unsigned short      // sVarName
                            20337 ; 46   |#define WORD    unsigned int        // wVarName
                            20338 ; 47   |#define INT     signed int          // iVarName
                            20339 ; 48   |#define DWORD   unsigned long       // dwVarName
                            20340 ; 49   |#define LONG    signed long         // lVarName
                            20341 ; 50   |#define BOOL    unsigned int        // bVarName
                            20342 ; 51   |#define FRACT   _fract              // frVarName
                            20343 ; 52   |#define LFRACT  long _fract         // lfrVarName
                            20344 ; 53   |#define CIRC    _circ               // cp<type prefix>VarName (see below)
                            20345 ; 54   |#define FLOAT   float               // fVarName
                            20346 ; 55   |#define DBL     double              // dVarName
                            20347 ; 56   |#define ENUM    enum                // eVarName
                            20348 ; 57   |#define CMX     _complex            // cmxVarName
                            20349 ; 58   |typedef WORD UCS3;                   // 
                            20350 ; 59   |
                            20351 ; 60   |#define UINT16  unsigned short
                            20352 ; 61   |#define UINT8   unsigned char   
                            20353 ; 62   |#define UINT32  unsigned long
                            20354 ; 63   |#define UINT64  unsigned long   // need to figure out how to do 64 bit values.  Or port exisiting code to only use 48 bit
                            20355 ; 64   |#define INT64   unsigned long   // need to figure out how to do 64 bit values.  Or port exisiting code to only use 48 bit
                            20356 ; 65   |#define WCHAR   UINT16
                            20357 ; 66   |
                            20358 ; 67   |//UINT128 is 16 bytes or 6 words
                            20359 ; 68   |typedef struct UINT128_3500 {   
                            20360 ; 69   |    int val[6];     
                            20361 ; 70   |} UINT128_3500;
                            20362 ; 71   |
                            20363 ; 72   |#define UINT128   UINT128_3500
                            20364 ; 73   |
                            20365 ; 74   |// Little endian word packed byte strings:   
                            20366 ; 75   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                            20367 ; 76   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                            20368 ; 77   |// Little endian word packed byte strings:   
                            20369 ; 78   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                            20370 ; 79   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                            20371 ; 80   |
                            20372 ; 81   |// Declare Memory Spaces To Use When Coding
                            20373 ; 82   |// A. Sector Buffers
                            20374 ; 83   |#define SECTOR_BUFFER_MEM_X _X
                            20375 ; 84   |#define SECTOR_BUFFER_MEM_Y _Y
                            20376 ; 85   |#define SECTOR_BUFFER_MEM SECTOR_BUFFER_MEM_X
                            20377 ; 86   |typedef WORD SECTOR_BUFFER_MEM SECTOR_BUFFER;
                            20378 ; 87   |typedef SECTOR_BUFFER * P_SECTOR_BUFFER;
                            20379 ; 88   |// B. Media DDI Memory
                            20380 ; 89   |#define MEDIA_DDI_MEM _Y
                            20381 ; 90   |
                            20382 ; 91   |
                            20383 ; 92   |
                            20384 ; 93   |// Pointers to linear structures are labeled as: p<type prefix>VarName
                            20385 ; 94   |// Examples of circular pointers:
                            20386 ; 95   |//    INT CIRC cpiVarName
                            20387 ; 96   |//    DWORD CIRC cpdwVarName
                            20388 ; 97   |
                            20389 ; 98   |#define RETCODE INT                 // rcVarName
                            20390 ; 99   |
                            20391 ; 100  |// generic bitfield structure
                            20392 ; 101  |struct Bitfield {
                            20393 ; 102  |    unsigned int B0  :1;
                            20394 ; 103  |    unsigned int B1  :1;
                            20395 ; 104  |    unsigned int B2  :1;
                            20396 ; 105  |    unsigned int B3  :1;
                            20397 ; 106  |    unsigned int B4  :1;
                            20398 ; 107  |    unsigned int B5  :1;
                            20399 ; 108  |    unsigned int B6  :1;
                            20400 ; 109  |    unsigned int B7  :1;
                            20401 ; 110  |    unsigned int B8  :1;
                            20402 ; 111  |    unsigned int B9  :1;
                            20403 ; 112  |    unsigned int B10 :1;
                            20404 ; 113  |    unsigned int B11 :1;
                            20405 ; 114  |    unsigned int B12 :1;
                            20406 ; 115  |    unsigned int B13 :1;
                            20407 ; 116  |    unsigned int B14 :1;
                            20408 ; 117  |    unsigned int B15 :1;
                            20409 ; 118  |    unsigned int B16 :1;
                            20410 ; 119  |    unsigned int B17 :1;
                            20411 ; 120  |    unsigned int B18 :1;
                            20412 ; 121  |    unsigned int B19 :1;
                            20413 ; 122  |    unsigned int B20 :1;
                            20414 ; 123  |    unsigned int B21 :1;
                            20415 ; 124  |    unsigned int B22 :1;
                            20416 ; 125  |    unsigned int B23 :1;
                            20417 ; 126  |};
                            20418 ; 127  |
                            20419 ; 128  |union BitInt {
                            20420 ; 129  |        struct Bitfield B;
                            20421 ; 130  |        int        I;
                            20422 ; 131  |};
                            20423 ; 132  |
                            20424 ; 133  |#define MAX_MSG_LENGTH 10
                            20425 ; 134  |struct CMessage
                            20426 ; 135  |{
                            20427 ; 136  |        unsigned int m_uLength;
                            20428 ; 137  |        unsigned int m_uMsg[MAX_MSG_LENGTH];
                            20429 ; 138  |};
                            20430 ; 139  |
                            20431 ; 140  |typedef struct {
                            20432 ; 141  |    WORD m_wLength;
                            20433 ; 142  |    WORD m_wMessage;
                            20434 ; 143  |    WORD m_wParams[MAX_MSG_LENGTH];
                            20435 ; 144  |} Message;
                            20436 ; 145  |
                            20437 ; 146  |struct MessageQueueDescriptor
                            20438 ; 147  |{
                            20439 ; 148  |        int *m_pBase;
                            20440 ; 149  |        int m_iModulo;
                            20441 ; 150  |        int m_iSize;
                            20442 ; 151  |        int *m_pHead;
                            20443 ; 152  |        int *m_pTail;
                            20444 ; 153  |};
                            20445 ; 154  |
                            20446 ; 155  |struct ModuleEntry
                            20447 ; 156  |{
                            20448 ; 157  |    int m_iSignaledEventMask;
                            20449 ; 158  |    int m_iWaitEventMask;
                            20450 ; 159  |    int m_iResourceOfCode;
                            20451 ; 160  |    struct MessageQueueDescriptor *m_pMessageQueue;
                            20452 ; 161  |    int _asmfunc (*m_pProcessEntryPoint)(union WaitMask Signals,struct MessageQueueDescriptor *);
                            20453 ; 162  |    int _asmfunc (*m_pInitFunction)(struct MessageQueueDescriptor *);
                            20454 ; 163  |    int m_uTimeOutHigh;
                            20455 ; 164  |    int m_uTimeOutLow;
                            20456 ; 165  |    int _asmfunc (*m_pBackgroundFunction)(struct MessageQueueDescriptor *);
                            20457 ; 166  |};
                            20458 ; 167  |
                            20459 ; 168  |union WaitMask{
                            20460 ; 169  |    struct B{
                            20461 ; 170  |        unsigned int m_bNone     :1;
                            20462 ; 171  |        unsigned int m_bMessage  :1;
                            20463 ; 172  |        unsigned int m_bTimer    :1;
                            20464 ; 173  |        unsigned int m_bButton   :1;
                            20465 ; 174  |    } B;
                            20466 ; 175  |    int I;
                            20467 ; 176  |} ;
                            20468 ; 177  |
                            20469 ; 178  |
                            20470 ; 179  |struct Button {
                            20471 ; 180  |        WORD wButtonEvent;
                            20472 ; 181  |        WORD wUnused[MAX_MSG_LENGTH];   
                            20473 ; 182  |};
                            20474 ; 183  |
                            20475 ; 184  |struct Message {
                            20476 ; 185  |        WORD wMsgLength;
                            20477 ; 186  |        WORD wMsgCommand;
                            20478 ; 187  |        WORD wMsgParms[MAX_MSG_LENGTH-1];
                            20479 ; 188  |};
                            20480 ; 189  |
                            20481 ; 190  |union EventTypes {
                            20482 ; 191  |        struct CMessage msg;
                            20483 ; 192  |        struct Button Button ;
                            20484 ; 193  |        struct Message Message;
                            20485 ; 194  |};
                            20486 ; 195  |
                            20487 ; 196  |// next 2 used to get updater build to return correct protocol ver in scsi response.
                            20488 ; 197  |#define BUILD_TYPE_UPDATER  0x100
                            20489 ; 198  |#define BUILD_TYPE_HOSTLINK 0x101
                            20490 ; 199  |#define BUILD_TYPE_PLAYER   0x102
                            20491 ; 200  |
                            20492 ; 201  |// Resets part if RETAIL build. DEBUG build executes debug instruction to halt.
                            20493 ; 202  |#define SystemHalt() __asm(" include 'sysmacro.asm' \n error") 
                            20494 ; 203  |#define assert(x)    if(!(x)) __asm(" include 'sysmacro.asm' \n error")
                            20495 ; 204  |
                            20496 ; 205  |#if DEBUG
                            20497 ; 206  |// For DEBUG builds, DebugBuildAssert(condition) halts if condition evaluates to FALSE. 
                            20498 ; 207  |#define DebugBuildAssert(x)    if(!(x)) __asm(" debug ")
                            20499 ; 208  |#else 
                            20500 ; 209  |// For RETAIL builds, DebugBuildAssert(condition) does nothing & execution continues rather than halt or reset. 
                            20501 ; 210  |#define DebugBuildAssert(x)    
                            20502 ; 211  |#endif
                            20503 ; 212  |
                            20504 ; 213  |// Do this in your C files to make a reminder that's displayed during the build.
                            20505 ; 214  |//  #pragma asm
                            20506 ; 215  |//  WARN 'Note to builder: reminder to do this after verifying that'
                            20507 ; 216  |//  #pragma endasm
                            20508 ; 217  |
                            20509 ; 218  |
                            20510 ; 219  |#ifdef COLOR_262K
                            20511 ; 220  |#define RGB(r,g,b)    ((0x0000FC & (r)) << 10) | ((0x0000FC & (g)) << 4) | ((0x0000FC & (b)) >> 2)    //262k
                            20512 ; 221  |#elif defined(COLOR_65K)
                            20513 ; 222  |#define RGB(r,g,b)    ((0x0000F8 & (r)) << 8) | ((0x0000FC & (g)) << 3) | ((0x0000F8 & (b)) >> 3)  //65k
                            20514 ; 223  |#else
                            20515 ; 224  |#define RGB(r,g,b)       ((0x0000F0 & (r)) << 4) | (0x0000F0 & (g)) | ((0x0000F0 & (b)) >> 4)
                            20516 ; 225  |#endif
                            20517 ; 226  |    
                            20518 ; 227  |#endif // #ifndef _TYPES_H
                            20519 
                            20521 
                            20522 ; 98   |#include "exec.h"
                            20523 
                            20525 
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page  81

M:ADDR CODE           CYCLES LINE SOURCELINE
                            20526 ; 1    |#ifndef EXEC_H
                            20527 ; 2    |#define EXEC_H
                            20528 ; 3    |
                            20529 ; 4    |
                            20530 ; 5    |void _reentrant SysPostMessage(int iLength,...);
                            20531 ; 6    |int _asmfunc GetMessage(struct MessageQueueDescriptor*,struct CMessage * );
                            20532 ; 7    |long _asmfunc SysGetCurrentTime(void);
                            20533 ; 8    |
                            20534 ; 9    |
                            20535 ; 10   |#endif
                            20536 
                            20538 
                            20539 ; 99   |#include "messages.h"
                            20540 
                            20542 
                            20543 ; 1    |/////////////////////////////////////////////////////////////////////////////////
                            20544 ; 2    |// Copyright(C) SigmaTel, Inc. 2000
                            20545 ; 3    |// Message defs
                            20546 ; 4    |/////////////////////////////////////////////////////////////////////////////////
                            20547 ; 5    |
                            20548 ; 6    |#if (!defined(MSGEQU_INC))
                            20549 ; 7    |#define MSGEQU_INC 1
                            20550 ; 8    |
                            20551 ; 9    |
                            20552 ; 10   |#define MAX_MODULE_SIZE   (lc_u_eP_Module_overlay-lc_u_bP_Module_overlay)*3
                            20553 ; 11   |
                            20554 ; 12   |
                            20555 ; 13   |#define MSG_TYPE_DECODER 0x000000
                            20556 ; 14   |#define MSG_TYPE_ENCODER 0x010000
                            20557 ; 15   |#define MSG_TYPE_PARSER 0x020000
                            20558 ; 16   |#define MSG_TYPE_LCD 0x030000
                            20559 ; 17   |#define MSG_TYPE_MIXER 0x040000
                            20560 ; 18   |#define MSG_TYPE_SYSTEM 0x050000
                            20561 ; 19   |#define MSG_TYPE_MENU 0x060000
                            20562 ; 20   |#define MSG_TYPE_LED 0x070000
                            20563 ; 21   |#define MSG_TYPE_TUNER 0x080000
                            20564 ; 22   |#define MSG_TYPE_CHARLCD 0x030000
                            20565 ; 23   |#define MSG_TYPE_SOFT_TIMER 0x090000
                            20566 ; 24   |// Equalizer and other effects
                            20567 ; 25   |#define MSG_TYPE_GEQ 0x0a0000             
                            20568 ; 26   |#if (defined(USE_PLAYLIST3))
                            20569 ; 27   |#define MSG_TYPE_MUSICLIB_PLAY 0x0b0000
                            20570 ; 28   |#define MSG_TYPE_MUSICLIB_BROWSE 0x0c0000
                            20571 ; 29   |#define MSG_TYPE_MUSICLIB_PLAYALLNEXT 0x0d0000
                            20572 ; 30   |#define MSG_TYPE_MUSICLIB_PLAYALLPREV 0x0e0000
                            20573 ; 31   |#define MSG_TYPE_MUSICLIB_SHUFFLE 0x0f0000
                            20574 ; 32   |#define MSG_TYPE_MUSICLIB_VOICE 0x100000
                            20575 ; 33   |#define MSG_TYPE_MUSICLIB_VOICEPLAY 0x110000
                            20576 ; 34   |#define MSG_TYPE_MUSICLIB_MERGE 0x120000
                            20577 ; 35   |#endif // IF (@def(USE_PLAYLIST3))
                            20578 ; 36   |#if defined(USE_PLAYLIST5)
                            20579 ; 37   |#define MSG_TYPE_PL5_PLAYBACK 0x0b0000
                            20580 ; 38   |#define MSG_TYPE_PL5_BROWSE 0x0c0000
                            20581 ; 39   |#endif // if @def('USE_PLAYLIST5')
                            20582 ; 40   |
                            20583 ; 41   |// Message Structure Offsets
                            20584 ; 42   |#define MSG_Length 0
                            20585 ; 43   |#define MSG_ID 1
                            20586 ; 44   |#define MSG_Argument1 2
                            20587 ; 45   |#define MSG_Argument2 3
                            20588 ; 46   |#define MSG_Argument3 4
                            20589 ; 47   |#define MSG_Argument4 5
                            20590 ; 48   |#define MSG_Argument5 6
                            20591 ; 49   |#define MSG_Argument6 7
                            20592 ; 50   |
                            20593 ; 51   |
                            20594 ; 52   |
                            20595 ; 53   |// LCD Message IDs
                            20596 ; 54   |#define LCD_FIRST_MSG_ID MSG_TYPE_LCD+0
                            20597 ; 55   |#define LCD_CLEAR_RANGE MSG_TYPE_LCD+0
                            20598 ; 56   |#define LCD_PRINT_RANGE_RSRC MSG_TYPE_LCD+1
                            20599 ; 57   |#define LCD_PRINT_RANGE_ADDR MSG_TYPE_LCD+2
                            20600 ; 58   |#define LCD_PRINT_RANGE_INV_RSRC MSG_TYPE_LCD+3
                            20601 ; 59   |#define LCD_PRINT_RANGE_INV_ADDR MSG_TYPE_LCD+4
                            20602 ; 60   |#define LCD_PRINT_RANGE_FILE MSG_TYPE_LCD+5
                            20603 ; 61   |#define LCD_PRINT_RANGE_INV_FILE MSG_TYPE_LCD+6
                            20604 ; 62   |#define LCD_PRINT_STRING_RSRC MSG_TYPE_LCD+7
                            20605 ; 63   |#define LCD_PRINT_STRING_ADDR MSG_TYPE_LCD+8
                            20606 ; 64   |#define LCD_PRINT_STRING_INV_RSRC MSG_TYPE_LCD+9
                            20607 ; 65   |#define LCD_PRINT_STRING_INV_ADDR MSG_TYPE_LCD+10
                            20608 ; 66   |#define LCD_SCROLL_DISPLAY MSG_TYPE_LCD+11
                            20609 ; 67   |#define LCD_READ_LCD_ADDR MSG_TYPE_LCD+12
                            20610 ; 68   |#define LCD_SET_CONTRAST MSG_TYPE_LCD+13
                            20611 ; 69   |#define LCD_INC_CONTRAST MSG_TYPE_LCD+14
                            20612 ; 70   |#define LCD_DEC_CONTRAST MSG_TYPE_LCD+15
                            20613 ; 71   |#define LCD_BACKLIGHT_ON MSG_TYPE_LCD+16
                            20614 ; 72   |#define LCD_BACKLIGHT_OFF MSG_TYPE_LCD+17
                            20615 ; 73   |#define LCD_SET_FONT MSG_TYPE_LCD+18
                            20616 ; 74   |#define LCD_PRINT_NUMBER MSG_TYPE_LCD+19
                            20617 ; 75   |#define LCD_PRINT_TIME MSG_TYPE_LCD+20
                            20618 ; 76   |#define LCD_PRINT_TIME_LONG MSG_TYPE_LCD+21
                            20619 ; 77   |#define LCD_PRINT_STRING_UNICODE_INV_ADDR MSG_TYPE_LCD+22
                            20620 ; 78   |#define LCD_PRINT_STRING_UNICODE_ADDR MSG_TYPE_LCD+23
                            20621 ; 79   |#define LCD_PRINT_STRING_UNICODE_INV_RSRC MSG_TYPE_LCD+24
                            20622 ; 80   |#define LCD_PRINT_STRING_UNICODE_RSRC MSG_TYPE_LCD+25
                            20623 ; 81   |#define LCD_BEGIN_FRAME MSG_TYPE_LCD+26
                            20624 ; 82   |#define LCD_END_FRAME MSG_TYPE_LCD+27
                            20625 ; 83   |#define LCD_PRINT_NUMBER_INV MSG_TYPE_LCD+28
                            20626 ; 84   |#define LCD_PRINT_TIME_INV MSG_TYPE_LCD+29
                            20627 ; 85   |#define LCD_PRINT_TIME_LONG_INV MSG_TYPE_LCD+30
                            20628 ; 86   |#define LCD_SET_FRAMEBUFFER MSG_TYPE_LCD+31
                            20629 ; 87   |//send a NULL as Param1 to return to root frame buffer
                            20630 ; 88   |#define LCD_PUSH_MASK MSG_TYPE_LCD+32
                            20631 ; 89   |//Param1 = left
                            20632 ; 90   |//Param2 = top
                            20633 ; 91   |//Param3 = right
                            20634 ; 92   |//Param4 = bottom
                            20635 ; 93   |#define LCD_POP_MASK MSG_TYPE_LCD+33
                            20636 ; 94   |#define LCD_PRINT_UNICODE_CHAR MSG_TYPE_LCD+34
                            20637 ; 95   |#define LCD_PRINT_UNICODE_CHAR_INV MSG_TYPE_LCD+35
                            20638 ; 96   |#define LCD_DISPLAY_HISTOGRAM MSG_TYPE_LCD+36
                            20639 ; 97   |#define LCD_PRINT_TIME_L_1DIG_HR MSG_TYPE_LCD+37
                            20640 ; 98   |#define LCD_SET_ICON MSG_TYPE_LCD+38
                            20641 ; 99   |
                            20642 ; 100  |#define LCD_CLEAR_RANGE_BUFFER MSG_TYPE_LCD+39
                            20643 ; 101  |#define LCD_PRINT_RANGE_RSRC_BUFFER MSG_TYPE_LCD+40
                            20644 ; 102  |#define LCD_PRINT_RANGE_INV_RSRC_BUFFER MSG_TYPE_LCD+41
                            20645 ; 103  |#define LCD_PRINT_RANGE_ADDR_BUFFER MSG_TYPE_LCD+42
                            20646 ; 104  |#define LCD_PRINT_RANGE_INV_ADDR_BUFFER MSG_TYPE_LCD+43
                            20647 ; 105  |#define LCD_PRINT_STRING_RSRC_BUFFER MSG_TYPE_LCD+44
                            20648 ; 106  |#define LCD_PRINT_STRING_INV_RSRC_BUFFER MSG_TYPE_LCD+45
                            20649 ; 107  |#define LCD_PRINT_STRING_ADDR_BUFFER MSG_TYPE_LCD+46
                            20650 ; 108  |#define LCD_PRINT_STRING_INV_ADDR_BUFFER MSG_TYPE_LCD+47
                            20651 ; 109  |#define LCD_PRINT_NUMBER_BUFFER MSG_TYPE_LCD+48
                            20652 ; 110  |#define LCD_PRINT_NUMBER_INV_BUFFER MSG_TYPE_LCD+49
                            20653 ; 111  |#define LCD_PRINT_TIME_BUFFER MSG_TYPE_LCD+50
                            20654 ; 112  |#define LCD_PRINT_TIME_INV_BUFFER MSG_TYPE_LCD+51
                            20655 ; 113  |#define LCD_PRINT_TIME_LONG_BUFFER MSG_TYPE_LCD+52
                            20656 ; 114  |#define LCD_PRINT_TIME_LONG_INV_BUFFER MSG_TYPE_LCD+53
                            20657 ; 115  |#define LCD_PRINT_STRING_UNICODE_ADDR_BUFFER MSG_TYPE_LCD+54
                            20658 ; 116  |#define LCD_PRINT_STRING_UNICODE_INV_ADDR_BUFFER MSG_TYPE_LCD+55
                            20659 ; 117  |#define LCD_PRINT_STRING_UNICODE_RSRC_BUFFER MSG_TYPE_LCD+56
                            20660 ; 118  |#define LCD_PRINT_STRING_UNICODE_INV_RSRC_BUFFER MSG_TYPE_LCD+57
                            20661 ; 119  |#define LCD_PRINT_UNICODE_CHAR_BUFFER MSG_TYPE_LCD+58
                            20662 ; 120  |#define LCD_PRINT_UNICODE_CHAR_INV_BUFFER MSG_TYPE_LCD+59
                            20663 ; 121  |#define LCD_PRINT_TIME_L_1DIG_HR_BUFFER MSG_TYPE_LCD+60
                            20664 ; 122  |#define LCD_SET_BUFFER_COLOR MSG_TYPE_LCD+61
                            20665 ; 123  |#define LCD_FORCE_BUFFER_UPDATE MSG_TYPE_LCD+62
                            20666 ; 124  |#define LCD_SET_BUFFER_WINDOW MSG_TYPE_LCD+63
                            20667 ; 125  |#define LCD_SET_COLOR MSG_TYPE_LCD+64
                            20668 ; 126  |#define LCD_SET_BUFFER_POSITION MSG_TYPE_LCD+65
                            20669 ; 127  |
                            20670 ; 128  |#define LCD_TEMP_CONTRAST MSG_TYPE_LCD+66
                            20671 ; 129  |
                            20672 ; 130  |#if defined(CLCD_16BIT)
                            20673 ; 131  |#define LCD_16BIT_ON MSG_TYPE_LCD+67
                            20674 ; 132  |#define LCD_16BIT_OFF MSG_TYPE_LCD+68
                            20675 ; 133  |
                            20676 ; 134  |#define LCD_LAST_MSG_ID MSG_TYPE_LCD+68
                            20677 ; 135  |#else 
                            20678 ; 136  |#define LCD_LAST_MSG_ID MSG_TYPE_LCD+66
                            20679 ; 137  |#endif
                            20680 ; 138  |
                            20681 ; 139  |// If you change the LCD message ID's then you must
                            20682 ; 140  |// also change the jump table in lcdapi.asm
                            20683 ; 141  |
                            20684 ; 142  |// Character LCD Message IDs
                            20685 ; 143  |#define CHARLCD_FIRST_MSG_ID MSG_TYPE_CHARLCD+0
                            20686 ; 144  |#define CHARLCD_CLEAR_RANGE MSG_TYPE_CHARLCD+0
                            20687 ; 145  |#define CHARLCD_PRINT_RSRC MSG_TYPE_CHARLCD+1
                            20688 ; 146  |#define CHARLCD_PRINT_INV_RSRC MSG_TYPE_CHARLCD+2
                            20689 ; 147  |#define CHARLCD_PRINT_ASCII_CHAR MSG_TYPE_CHARLCD+3
                            20690 ; 148  |#define CHARLCD_PRINT_ASCII_INV_CHAR MSG_TYPE_CHARLCD+4
                            20691 ; 149  |#define CHARLCD_PRINT_STRING_RSRC MSG_TYPE_CHARLCD+5
                            20692 ; 150  |#define CHARLCD_PRINT_STRING_INV_RSRC MSG_TYPE_CHARLCD+6
                            20693 ; 151  |#define CHARLCD_PRINT_STRING_ADDR MSG_TYPE_CHARLCD+7
                            20694 ; 152  |#define CHARLCD_PRINT_STRING_INV_ADDR MSG_TYPE_CHARLCD+8
                            20695 ; 153  |#define CHARLCD_SCROLL_DISPLAY MSG_TYPE_CHARLCD+9
                            20696 ; 154  |#define CHARLCD_READ_LCD_ADDR MSG_TYPE_CHARLCD+10
                            20697 ; 155  |#define CHARLCD_SET_CURSOR MSG_TYPE_CHARLCD+11
                            20698 ; 156  |#define CHARLCD_SET_FONT MSG_TYPE_CHARLCD+12
                            20699 ; 157  |#define CHARLCD_PRINT_NUMBER MSG_TYPE_CHARLCD+13
                            20700 ; 158  |#define CHARLCD_PRINT_TIME MSG_TYPE_CHARLCD+14
                            20701 ; 159  |#define CHARLCD_SET_BATTERY MSG_TYPE_CHARLCD+15
                            20702 ; 160  |#define CHARLCD_SET_EQ MSG_TYPE_CHARLCD+16
                            20703 ; 161  |#define CHARLCD_SET_ICON MSG_TYPE_CHARLCD+17
                            20704 ; 162  |#define CHARLCD_SET_PLAYMODE MSG_TYPE_CHARLCD+18
                            20705 ; 163  |#define CHARLCD_SET_PLAYSTATE MSG_TYPE_CHARLCD+19
                            20706 ; 164  |#define CHARLCD_SET_VOLUME MSG_TYPE_CHARLCD+20
                            20707 ; 165  |#define CHARLCD_CLEAR_DISPLAY MSG_TYPE_CHARLCD+21
                            20708 ; 166  |#define CHARLCD_LAST_MSG_ID MSG_TYPE_CHARLCD+21
                            20709 ; 167  |// If you change the cHARACTER LCD message ID's then you must
                            20710 ; 168  |// also change the jump table in lcdapi.asm
                            20711 ; 169  |
                            20712 ; 170  |// Decoder Message IDs
                            20713 ; 171  |#define DECODER_FIRST_MSG_ID MSG_TYPE_DECODER+0
                            20714 ; 172  |#define DECODER_RESET MSG_TYPE_DECODER+0
                            20715 ; 173  |#define DECODER_SET_DIR MSG_TYPE_DECODER+1
                            20716 ; 174  |#define DECODER_PLAY MSG_TYPE_DECODER+2
                            20717 ; 175  |#define DECODER_STOP MSG_TYPE_DECODER+3
                            20718 ; 176  |#define DECODER_FFWD MSG_TYPE_DECODER+4
                            20719 ; 177  |#define DECODER_RWND MSG_TYPE_DECODER+5
                            20720 ; 178  |#define DECODER_NEXT_SONG MSG_TYPE_DECODER+6
                            20721 ; 179  |#define DECODER_PREV_SONG MSG_TYPE_DECODER+7
                            20722 ; 180  |#define DECODER_TIME_MODE MSG_TYPE_DECODER+8
                            20723 ; 181  |#define DECODER_AB_MODE MSG_TYPE_DECODER+9
                            20724 ; 182  |#define DECODER_SET_EQ MSG_TYPE_DECODER+10
                            20725 ; 183  |#define DECODER_GET_SONG_INFO MSG_TYPE_DECODER+11
                            20726 ; 184  |#define DECODER_NEXT_CHAPTER MSG_TYPE_DECODER+12
                            20727 ; 185  |#define DECODER_PREV_CHAPTER MSG_TYPE_DECODER+13
                            20728 ; 186  |#define DECODER_LAST_MSG_ID MSG_TYPE_DECODER+13
                            20729 ; 187  |// If you change the Decoder message ID's, then you must
                            20730 ; 188  |// also change the jump table in decoder_overlay.asm
                            20731 ; 189  |// and in dec_adpcm_overlay.asm.
                            20732 ; 190  |
                            20733 ; 191  |// Encoder Message IDs
                            20734 ; 192  |#define ENCODER_FIRST_MSG_ID MSG_TYPE_ENCODER+0
                            20735 ; 193  |#define ENCODER_RECORD MSG_TYPE_ENCODER+0
                            20736 ; 194  |#define ENCODER_STOP MSG_TYPE_ENCODER+1
                            20737 ; 195  |#define ENCODER_TIME_MODE MSG_TYPE_ENCODER+2
                            20738 ; 196  |#define ENCODER_LAST_MSG_ID MSG_TYPE_ENCODER+3
                            20739 ; 197  |// If you change the Encoder message ID's, then you must
                            20740 ; 198  |// also change the jump table in all encoder overlay modules.
                            20741 ; 199  |
                            20742 ; 200  |// Parser Message IDs
                            20743 ; 201  |#define PARSER_FIRST_MSG_ID MSG_TYPE_PARSER+0
                            20744 ; 202  |#define PARSER_NEXT_SONG MSG_TYPE_PARSER+0
                            20745 ; 203  |#define PARSER_PREV_SONG MSG_TYPE_PARSER+1
                            20746 ; 204  |#define PARSER_REPEAT MSG_TYPE_PARSER+2
                            20747 ; 205  |#define PARSER_RANDOM MSG_TYPE_PARSER+3
                            20748 ; 206  |#define PARSER_STOP MSG_TYPE_PARSER+4
                            20749 ; 207  |#define PARSER_DEVICE_ENUMERATE MSG_TYPE_PARSER+5
                            20750 ; 208  |#define PARSER_SET_CURRENT_SONG MSG_TYPE_PARSER+6
                            20751 ; 209  |#define PARSER_LAST_MSG_ID MSG_TYPE_PARSER+6
                            20752 ; 210  |// If you change the Parser message ID's, then you must
                            20753 ; 211  |// also change the jump table in parser.asm
                            20754 ; 212  |
                            20755 ; 213  |// Button Message IDs
                            20756 ; 214  |//BUTTON_FIRST_MSG_ID      equ     MSG_TYPE_BUTTON+0
                            20757 ; 215  |//BUTTON_BUTTONS_ON        equ     MSG_TYPE_BUTTON+0
                            20758 ; 216  |//BUTTON_BUTTONS_OFF       equ     MSG_TYPE_BUTTON+1
                            20759 ; 217  |//BUTTON_HOLD              equ     MSG_TYPE_BUTTON+2
                            20760 ; 218  |//BUTTON_HOLD_RELEASE      equ     MSG_TYPE_BUTTON+3
                            20761 ; 219  |//BUTTON_LAST_MSG_ID       equ     MSG_TYPE_BUTTON+3
                            20762 ; 220  |
                            20763 ; 221  |// Mixer Message IDs
                            20764 ; 222  |#define MIXER_FIRST_MSG_ID MSG_TYPE_MIXER+0
                            20765 ; 223  |#define MIXER_MASTER_INCR MSG_TYPE_MIXER+0
                            20766 ; 224  |#define MIXER_MASTER_DECR MSG_TYPE_MIXER+1
                            20767 ; 225  |#define MIXER_MASTER_SETLVL MSG_TYPE_MIXER+2
                            20768 ; 226  |#define MIXER_MASTER_MUTE MSG_TYPE_MIXER+3
                            20769 ; 227  |#define MIXER_MASTER_UNMUTE MSG_TYPE_MIXER+4
                            20770 ; 228  |#define MIXER_MASTER_FADE_OUT MSG_TYPE_MIXER+5
                            20771 ; 229  |#define MIXER_MASTER_FADE_IN MSG_TYPE_MIXER+6
                            20772 ; 230  |#define MIXER_MASTER_BAL_RIGHT MSG_TYPE_MIXER+7
                            20773 ; 231  |#define MIXER_MASTER_BAL_LEFT MSG_TYPE_MIXER+8
                            20774 ; 232  |#define MIXER_MIC_INCR MSG_TYPE_MIXER+9
                            20775 ; 233  |#define MIXER_MIC_DECR MSG_TYPE_MIXER+10
                            20776 ; 234  |#define MIXER_MIC_SETLVL MSG_TYPE_MIXER+11
                            20777 ; 235  |#define MIXER_MIC_MUTE MSG_TYPE_MIXER+12
                            20778 ; 236  |#define MIXER_MIC_UNMUTE MSG_TYPE_MIXER+13
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page  82

M:ADDR CODE           CYCLES LINE SOURCELINE
                            20779 ; 237  |#define MIXER_MIC_BOOST MSG_TYPE_MIXER+14
                            20780 ; 238  |#define MIXER_MIC_UNBOOST MSG_TYPE_MIXER+15
                            20781 ; 239  |#define MIXER_LINE_INCR MSG_TYPE_MIXER+16
                            20782 ; 240  |#define MIXER_LINE_DECR MSG_TYPE_MIXER+17
                            20783 ; 241  |#define MIXER_LINE_SETLVL MSG_TYPE_MIXER+18
                            20784 ; 242  |#define MIXER_LINE_MUTE MSG_TYPE_MIXER+19
                            20785 ; 243  |#define MIXER_LINE_UNMUTE MSG_TYPE_MIXER+20
                            20786 ; 244  |#define MIXER_FM_INCR MSG_TYPE_MIXER+21
                            20787 ; 245  |#define MIXER_FM_DECR MSG_TYPE_MIXER+22
                            20788 ; 246  |#define MIXER_FM_SETLVL MSG_TYPE_MIXER+23
                            20789 ; 247  |#define MIXER_FM_MUTE MSG_TYPE_MIXER+24
                            20790 ; 248  |#define MIXER_FM_UNMUTE MSG_TYPE_MIXER+25
                            20791 ; 249  |#define MIXER_DAC_INCR MSG_TYPE_MIXER+26
                            20792 ; 250  |#define MIXER_DAC_DECR MSG_TYPE_MIXER+27
                            20793 ; 251  |#define MIXER_DAC_SETLVL MSG_TYPE_MIXER+28
                            20794 ; 252  |#define MIXER_DAC_MUTE MSG_TYPE_MIXER+29
                            20795 ; 253  |#define MIXER_DAC_UNMUTE MSG_TYPE_MIXER+30
                            20796 ; 254  |#define MIXER_ADC_SELECT MSG_TYPE_MIXER+31
                            20797 ; 255  |#define MIXER_ADC_INCR MSG_TYPE_MIXER+32
                            20798 ; 256  |#define MIXER_ADC_DECR MSG_TYPE_MIXER+33
                            20799 ; 257  |#define MIXER_ADC_SETLVL MSG_TYPE_MIXER+34
                            20800 ; 258  |#define MIXER_ADC_MUTE MSG_TYPE_MIXER+35
                            20801 ; 259  |#define MIXER_ADC_UNMUTE MSG_TYPE_MIXER+36
                            20802 ; 260  |#define MIXER_REC_SELECT MSG_TYPE_MIXER+37
                            20803 ; 261  |#define MIXER_POWER_DOWN MSG_TYPE_MIXER+38
                            20804 ; 262  |#define ENABLE_RIGHT_CH MSG_TYPE_MIXER+39
                            20805 ; 263  |#define DISABLE_RIGHT_CH MSG_TYPE_MIXER+40
                            20806 ; 264  |#define MIXER_LAST_MSG_ID MSG_TYPE_MIXER+40
                            20807 ; 265  |// If you change the mixer message ID's then you must
                            20808 ; 266  |// also change the jump table in mixer.asm
                            20809 ; 267  |#define MIXER_ON 0
                            20810 ; 268  |#define MIXER_OFF 1
                            20811 ; 269  |
                            20812 ; 270  |
                            20813 ; 271  |// System Message IDs
                            20814 ; 272  |#define SYSTEM_FIRST_MSG_ID MSG_TYPE_SYSTEM+0
                            20815 ; 273  |#define SYSTEM_SHUTDOWN MSG_TYPE_SYSTEM+0
                            20816 ; 274  |#define SYSTEM_SHUTDOWN_FALSE MSG_TYPE_SYSTEM+1
                            20817 ; 275  |#define SYSTEM_SHUTDOWN_FINAL MSG_TYPE_SYSTEM+2
                            20818 ; 276  |#define SYSTEM_LAST_MSG_ID MSG_TYPE_SYSTEM+2
                            20819 ; 277  |// If you change the system message ID's then you must
                            20820 ; 278  |// also change the jump table in systemapi.asm
                            20821 ; 279  |
                            20822 ; 280  |// Menu IDs
                            20823 ; 281  |#define MENU_FIRST_MSG_ID MSG_TYPE_MENU+0
                            20824 ; 282  |#define MENU_BUTTON_EVENT MSG_TYPE_MENU+0
                            20825 ; 283  |#define MENU_DECODER_STATE_CHNG MSG_TYPE_MENU+1
                            20826 ; 284  |#define MENU_RECORDER_STATE_CHNG MSG_TYPE_MENU+2
                            20827 ; 285  |//sub parameters for this message:
                            20828 ; 286  |#define RECORDER_START 0
                            20829 ; 287  |#define RECORDER_PAUSE 0x2000
                            20830 ; 288  |#define RECORDER_RESUME 0x4000
                            20831 ; 289  |#define RECORDER_STOP_NORMAL 0x8000
                            20832 ; 290  |#define RECORDER_STOP_FILE_ERROR 0x8001
                            20833 ; 291  |#define RECORDER_STOP_OUT_OF_SPACE 0x8002
                            20834 ; 292  |#define RECORDER_STOP_LOW_BATTERY 0x8003
                            20835 ; 293  |#define MENU_SONG_TIME_CHNG MSG_TYPE_MENU+3
                            20836 ; 294  |#define MENU_AB_MODE_OFF MSG_TYPE_MENU+4
                            20837 ; 295  |#define MENU_BATTERY_CHNG MSG_TYPE_MENU+5
                            20838 ; 296  |#define MENU_SCROLL_TITLE MSG_TYPE_MENU+6
                            20839 ; 297  |#define MENU_AUTO_SHUTDOWN MSG_TYPE_MENU+7
                            20840 ; 298  |#define MENU_MSG_MEDIA_CHANGED MSG_TYPE_MENU+8
                            20841 ; 299  |#define MENU_MSG_MEDIA_OVER_CUR MSG_TYPE_MENU+9
                            20842 ; 300  |#define MENU_TUNER_TUNED MSG_TYPE_MENU+10
                            20843 ; 301  |#define MENU_MSG_ENC_LOW_SPACE MSG_TYPE_MENU+11
                            20844 ; 302  |#define MENU_MSG_EQ_SETTINGS MSG_TYPE_MENU+12
                            20845 ; 303  |#define MENU_RECORDER_WRITE_DATA MSG_TYPE_MENU+13
                            20846 ; 304  |#define MENU_SONG_TRACK_CHNG MSG_TYPE_MENU+14
                            20847 ; 305  |#define MENU_SET_SONG_POSITION MSG_TYPE_MENU+15
                            20848 ; 306  |#define MENU_UPDATE_CHAPTER_INFO MSG_TYPE_MENU+16
                            20849 ; 307  |#define MENU_USB_CONNECTED MSG_TYPE_MENU+17
                            20850 ; 308  |#define MENU_MSG_LYRICS_SYNC_AB MSG_TYPE_MENU+18
                            20851 ; 309  |#define MENU_MSG_LYRICS_UPDATE MSG_TYPE_MENU+19
                            20852 ; 310  |#define MENU_TUNER_REFRESH_DISPLAY MSG_TYPE_MENU+20
                            20853 ; 311  |#define MENU_TUNER_DIRTY_FLASH MSG_TYPE_MENU+21
                            20854 ; 312  |#define MENU_LAST_MSG_ID MSG_TYPE_MENU+21
                            20855 ; 313  |
                            20856 ; 314  |// Note that other versions of this file have different msg equates.
                            20857 ; 315  |// If you change the system message ID's then you must
                            20858 ; 316  |// also change the jump table in all menu *.asm
                            20859 ; 317  |
                            20860 ; 318  |// LED Message IDs
                            20861 ; 319  |#define LED_FIRST_MSG_ID MSG_TYPE_LED+0
                            20862 ; 320  |#define LED_CONTROL MSG_TYPE_LED+0
                            20863 ; 321  |#define LED_RESET MSG_TYPE_LED+1
                            20864 ; 322  |#define LED_DLY_ON_CONTROL MSG_TYPE_LED+2
                            20865 ; 323  |#define LED_LAST_MSG_ID MSG_TYPE_LED+2
                            20866 ; 324  |// If you change the LeD message ID's then you must
                            20867 ; 325  |// also change the jump table in ledapi.asm
                            20868 ; 326  |
                            20869 ; 327  |#if (!defined(REMOVE_FM))
                            20870 ; 328  |// FM Tuner Message IDs
                            20871 ; 329  |#define TUNER_FIRST_MSG_ID MSG_TYPE_TUNER+0
                            20872 ; 330  |#define TUNER_TUNE_FREQUENCY MSG_TYPE_TUNER+0
                            20873 ; 331  |#define TUNER_TUNE_MANUAL_UP MSG_TYPE_TUNER+1
                            20874 ; 332  |#define TUNER_TUNE_MANUAL_DOWN MSG_TYPE_TUNER+2
                            20875 ; 333  |#define TUNER_TUNE_SEARCH_UP MSG_TYPE_TUNER+3
                            20876 ; 334  |#define TUNER_TUNE_SEARCH_DOWN MSG_TYPE_TUNER+4
                            20877 ; 335  |#define TUNER_FORCED_MONO MSG_TYPE_TUNER+5
                            20878 ; 336  |#define TUNER_RESET MSG_TYPE_TUNER+6
                            20879 ; 337  |#define TUNER_POWER_ON MSG_TYPE_TUNER+7
                            20880 ; 338  |#define TUNER_POWER_OFF MSG_TYPE_TUNER+8
                            20881 ; 339  |#define TUNER_SET_SENSITIVITY MSG_TYPE_TUNER+9
                            20882 ; 340  |//one parameter--the sensitivity in uV
                            20883 ; 341  |#define TUNER_GET_STATES MSG_TYPE_TUNER+10
                            20884 ; 342  |#define TUNER_MUTE_OUTPUTS MSG_TYPE_TUNER+11
                            20885 ; 343  |#define TUNER_PRESET_STATION MSG_TYPE_TUNER+12
                            20886 ; 344  |#define TUNER_TUNE_TO_PRESET MSG_TYPE_TUNER+13
                            20887 ; 345  |#define TUNER_SET_PRESET MSG_TYPE_TUNER+14
                            20888 ; 346  |#define TUNER_ERASE_PRESET MSG_TYPE_TUNER+15
                            20889 ; 347  |#define TUNER_LAST_MSG_ID MSG_TYPE_TUNER+15
                            20890 ; 348  |#endif
                            20891 ; 349  |
                            20892 ; 350  |#define SOFT_TIMER_FIRST_MSG_ID MSG_TYPE_SOFT_TIMER+0
                            20893 ; 351  |#define SOFT_TIMER_SET_TIMER MSG_TYPE_SOFT_TIMER+1
                            20894 ; 352  |#define SOFT_TIMER_KILL_TIMER MSG_TYPE_SOFT_TIMER+2
                            20895 ; 353  |#define SOFT_TIMER_LAST_MSG_ID MSG_TYPE_SOFT_TIMER+2
                            20896 ; 354  |
                            20897 ; 355  |
                            20898 ; 356  |#define GEQ_FIRST_MSG_ID MSG_TYPE_GEQ+0
                            20899 ; 357  |#define GEQ_SET_EQ MSG_TYPE_GEQ+0
                            20900 ; 358  |#define GEQ_SET_EQ_LEGACY MSG_TYPE_GEQ+1
                            20901 ; 359  |#define GEQ_SET_ALL_BAND_GAINS MSG_TYPE_GEQ+2
                            20902 ; 360  |#define GEQ_SET_GAIN MSG_TYPE_GEQ+3
                            20903 ; 361  |#define GEQ_SET_COEFFICIENTS MSG_TYPE_GEQ+4
                            20904 ; 362  |#define GEQ_SET_PARAM MSG_TYPE_GEQ+5
                            20905 ; 363  |#define GEQ_GET_SETTINGS MSG_TYPE_GEQ+6
                            20906 ; 364  |#define GEQ_LAST_MSG_ID MSG_TYPE_GEQ+6
                            20907 ; 365  |
                            20908 ; 366  |#if (defined(USE_PLAYLIST3))
                            20909 ; 367  |// Music Library
                            20910 ; 368  |#define MUSICLIB_PLAY_FIRST_MSG_ID MSG_TYPE_MUSICLIB_PLAY+0
                            20911 ; 369  |#define MUSICLIB_START_PLAY_SONG MSG_TYPE_MUSICLIB_PLAY+0
                            20912 ; 370  |#define MUSICLIB_START_PLAY_ALL_SONG MSG_TYPE_MUSICLIB_PLAY+1
                            20913 ; 371  |#define MUSICLIB_PLAY_SETSHUFFLE MSG_TYPE_MUSICLIB_PLAY+2
                            20914 ; 372  |#define MUSICLIB_PLAY_RESUME MSG_TYPE_MUSICLIB_PLAY+3
                            20915 ; 373  |#define MUSICLIB_PLAY_CURRENT_SIZE MSG_TYPE_MUSICLIB_PLAY+4
                            20916 ; 374  |#define MUSICLIB_PLAY_LAST_MSG_ID MSG_TYPE_MUSICLIB_PLAY+4
                            20917 ; 375  |
                            20918 ; 376  |#define MUSICLIB_BROWSE_FIRST_MSG_ID MSG_TYPE_MUSICLIB_BROWSE+0
                            20919 ; 377  |#define MUSICLIB_BROWSE_SETROOT MSG_TYPE_MUSICLIB_BROWSE+0
                            20920 ; 378  |#define MUSICLIB_BROWSE_BROWSEMENU MSG_TYPE_MUSICLIB_BROWSE+1
                            20921 ; 379  |#define MUSICLIB_BROWSE_DOWNLIST MSG_TYPE_MUSICLIB_BROWSE+2
                            20922 ; 380  |#define MUSICLIB_BROWSE_UPLIST MSG_TYPE_MUSICLIB_BROWSE+3
                            20923 ; 381  |#define MUSICLIB_BROWSE_UPMENU MSG_TYPE_MUSICLIB_BROWSE+4
                            20924 ; 382  |#define MUSICLIB_BROWSE_SONGNUMBER MSG_TYPE_MUSICLIB_BROWSE+5
                            20925 ; 383  |#define MUSICLIB_BROWSE_ON_THE_FLY_GET_STATUS MSG_TYPE_MUSICLIB_BROWSE+6
                            20926 ; 384  |#define MUSICLIB_BROWSE_ON_THE_FLY_ADD_ITEM MSG_TYPE_MUSICLIB_BROWSE+7
                            20927 ; 385  |#define MUSICLIB_BROWSE_ON_THE_FLY_DELETE_ITEM MSG_TYPE_MUSICLIB_BROWSE+8
                            20928 ; 386  |#define MUSICLIB_BROWSE_ON_THE_FLY_DELETE_ALL MSG_TYPE_MUSICLIB_BROWSE+9
                            20929 ; 387  |#define MUSICLIB_BROWSE_LAST_MSG_ID MSG_TYPE_MUSICLIB_BROWSE+9
                            20930 ; 388  |
                            20931 ; 389  |#define MUSICLIB_PLAYALLNEXT_FIRST_MSG_ID MSG_TYPE_MUSICLIB_PLAYALLNEXT+0
                            20932 ; 390  |#define MUSICLIB_PLAYNEXTSONG MSG_TYPE_MUSICLIB_PLAYALLNEXT+0
                            20933 ; 391  |#define MUSICLIB_PLAYALLNEXT_LAST_MSG_ID MSG_TYPE_MUSICLIB_PLAYALLNEXT+0
                            20934 ; 392  |
                            20935 ; 393  |#define MUSICLIB_PLAYALLPREV_FIRST_MSG_ID MSG_TYPE_MUSICLIB_PLAYALLPREV+0
                            20936 ; 394  |#define MUSICLIB_PLAYPREVIOUSSONG MSG_TYPE_MUSICLIB_PLAYALLPREV+0
                            20937 ; 395  |#define MUSICLIB_PLAYALLPREV_LAST_MSG_ID MSG_TYPE_MUSICLIB_PLAYALLPREV+0
                            20938 ; 396  |
                            20939 ; 397  |#define MUSICLIB_SHUFFLE_FIRST_MSG_ID MSG_TYPE_MUSICLIB_SHUFFLE+0
                            20940 ; 398  |#define MUSICLIB_SHUFFLE_NEXT MSG_TYPE_MUSICLIB_SHUFFLE+0
                            20941 ; 399  |#define MUSICLIB_SHUFFLE_LAST_MSG_ID MSG_TYPE_MUSICLIB_SHUFFLE+0
                            20942 ; 400  |
                            20943 ; 401  |#define MUSICLIB_VOICE_FIRST_MSG_ID MSG_TYPE_MUSICLIB_VOICE+0
                            20944 ; 402  |#define MUSICLIB_VOICE_BROWSEMENU MSG_TYPE_MUSICLIB_VOICE+0
                            20945 ; 403  |#define MUSICLIB_VOICE_DOWNLIST MSG_TYPE_MUSICLIB_VOICE+1
                            20946 ; 404  |#define MUSICLIB_VOICE_UPLIST MSG_TYPE_MUSICLIB_VOICE+2
                            20947 ; 405  |#define MUSICLIB_VOICE_UPMENU MSG_TYPE_MUSICLIB_VOICE+3
                            20948 ; 406  |#define MUSICLIB_VOICE_VOICENUMBER MSG_TYPE_MUSICLIB_VOICE+4
                            20949 ; 407  |#define MUSICLIB_VOICE_LAST_MSG_ID MSG_TYPE_MUSICLIB_VOICE+4
                            20950 ; 408  |
                            20951 ; 409  |#define MUSICLIB_VOICEPLAY_FIRST_MSG_ID MSG_TYPE_MUSICLIB_VOICEPLAY+0
                            20952 ; 410  |#define MUSICLIB_START_PLAY_VOICE MSG_TYPE_MUSICLIB_VOICEPLAY+0
                            20953 ; 411  |#define MUSICLIB_VOICEPLAY_LAST_MSG_ID MSG_TYPE_MUSICLIB_VOICEPLAY+0
                            20954 ; 412  |
                            20955 ; 413  |#define MUSICLIB_MERGE_FIRST_MSG_ID MSG_TYPE_MUSICLIB_MERGE+0
                            20956 ; 414  |#define MUSICLIB_MERGE_SONG MSG_TYPE_MUSICLIB_MERGE+0
                            20957 ; 415  |#define MUSICLIB_MERGE_ALL_SONG MSG_TYPE_MUSICLIB_MERGE+1
                            20958 ; 416  |#define MUSICLIB_MERGE_RESUME MSG_TYPE_MUSICLIB_MERGE+2
                            20959 ; 417  |#define MUSICLIB_MERGE_LAST_MSG_ID MSG_TYPE_MUSICLIB_MERGE+2
                            20960 ; 418  |#endif // IF (@def(USE_PLAYLIST3))
                            20961 ; 419  |
                            20962 ; 420  |#if defined(USE_PLAYLIST5)
                            20963 ; 421  |#define PL5_PL_FIRST_MSG_ID MSG_TYPE_PL5_PLAYBACK+0
                            20964 ; 422  |#define PL5_PL_MSG_RESET MSG_TYPE_PL5_PLAYBACK+0
                            20965 ; 423  |#define PL5_PL_MSG_CDSEARCHING MSG_TYPE_PL5_PLAYBACK+1
                            20966 ; 424  |#define PL5_PL_MSG_START MSG_TYPE_PL5_PLAYBACK+2
                            20967 ; 425  |#define PL5_PL_MSG_STOP MSG_TYPE_PL5_PLAYBACK+3
                            20968 ; 426  |#define PL5_PL_MSG_PAUSE MSG_TYPE_PL5_PLAYBACK+4
                            20969 ; 427  |#define PL5_PL_MSG_RESUME MSG_TYPE_PL5_PLAYBACK+5
                            20970 ; 428  |#define PL5_PL_MSG_DELETE MSG_TYPE_PL5_PLAYBACK+6
                            20971 ; 429  |#define PL5_PL_MSG_PLAY MSG_TYPE_PL5_PLAYBACK+7
                            20972 ; 430  |#define PL5_PL_MSG_DISCNT MSG_TYPE_PL5_PLAYBACK+8
                            20973 ; 431  |#define PL5_PL_MSG_ENACNT MSG_TYPE_PL5_PLAYBACK+9
                            20974 ; 432  |#define PL5_PL_LAST_MSG_ID MSG_TYPE_PL5_PLAYBACK+9
                            20975 ; 433  |
                            20976 ; 434  |#define PL5_BR_FIRST_MSG_ID MSG_TYPE_PL5_BROWSE+0
                            20977 ; 435  |#define PL5_BR_MSG_RESET MSG_TYPE_PL5_BROWSE+0
                            20978 ; 436  |#define PL5_BR_MSG_CDBROWSING MSG_TYPE_PL5_BROWSE+1
                            20979 ; 437  |#define PL5_BR_MSG_START MSG_TYPE_PL5_BROWSE+2
                            20980 ; 438  |#define PL5_BR_MSG_STOP MSG_TYPE_PL5_BROWSE+3
                            20981 ; 439  |#define PL5_BR_MSG_PAUSE MSG_TYPE_PL5_BROWSE+4
                            20982 ; 440  |#define PL5_BR_MSG_RESUME MSG_TYPE_PL5_BROWSE+5
                            20983 ; 441  |#define PL5_BR_MSG_DELETE MSG_TYPE_PL5_BROWSE+6
                            20984 ; 442  |#define PL5_BR_LAST_MSG_ID MSG_TYPE_PL5_BROWSE+6
                            20985 ; 443  |#endif // if @def('USE_PLAYLIST5')
                            20986 ; 444  |// Events
                            20987 ; 445  |// No event
                            20988 ; 446  |#define EVENT_NONE 0x000001   
                            20989 ; 447  |// A message has been posted
                            20990 ; 448  |#define EVENT_MESSAGE 0x000002   
                            20991 ; 449  |// Run if wait time elapsed
                            20992 ; 450  |#define EVENT_TIMER 0x000004   
                            20993 ; 451  |// Run if a button event occured
                            20994 ; 452  |#define EVENT_BUTTON 0x000008   
                            20995 ; 453  |// Run if a background event occured
                            20996 ; 454  |#define EVENT_BACKGROUND 0x000010   
                            20997 ; 455  |// The executive should immediately repeat this module
                            20998 ; 456  |#define EVENT_REPEAT 0x000020   
                            20999 ; 457  |// Run the module's init routine
                            21000 ; 458  |#define EVENT_INIT 0x800000   
                            21001 ; 459  |
                            21002 ; 460  |#define EVENT_NONE_BITPOS 0
                            21003 ; 461  |#define EVENT_MESSAGE_BITPOS 1
                            21004 ; 462  |#define EVENT_TIMER_BITPOS 2
                            21005 ; 463  |#define EVENT_BUTTON_BITPOS 3
                            21006 ; 464  |#define EVENT_BACKGROUND_BITPOS 4
                            21007 ; 465  |#define EVENT_REPEAT_BITPOS 5
                            21008 ; 466  |#define EVENT_INIT_BITPOS 23
                            21009 ; 467  |
                            21010 ; 468  |// Parser Message Buffers
                            21011 ; 469  |#define ParserPlayBit 0
                            21012 ; 470  |#define ButtonPressBit 1
                            21013 ; 471  |#define ParserRwndBit 1
                            21014 ; 472  |#define ParserFfwdBit 2
                            21015 ; 473  |
                            21016 ; 474  |//NextSong Message Parameters
                            21017 ; 475  |// ButtonPressBit1 set to denote button was pressed.
                            21018 ; 476  |#define NEXT_SONG 2             
                            21019 ; 477  |// ButtonPressBit1 cleared
                            21020 ; 478  |#define NEXT_SONG_PLAY_EOF 1          
                            21021 ; 479  |// ButtonPressBit1 set
                            21022 ; 480  |#define NEXT_SONG_PLAY_BUTTON 3          
                            21023 ; 481  |// NextSong + Ffwd
                            21024 ; 482  |#define NEXT_SONG_FFWD 4          
                            21025 ; 483  |
                            21026 ; 484  |//PrevSong Message Parameters
                            21027 ; 485  |// PrevSong + Stopped
                            21028 ; 486  |#define PREV_SONG 0          
                            21029 ; 487  |// PrevSong + Play
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page  83

M:ADDR CODE           CYCLES LINE SOURCELINE
                            21030 ; 488  |#define PREV_SONG_PLAY 1          
                            21031 ; 489  |// PrevSong + Rwnd
                            21032 ; 490  |#define PREV_SONG_RWND 2          
                            21033 ; 491  |
                            21034 ; 492  |
                            21035 ; 493  |
                            21036 ; 494  |
                            21037 ; 495  |#endif // IF (!@def(MSGEQU_INC))
                            21038 ; 496  |
                            21039 ; 497  |
                            21040 
                            21042 
                            21043 ; 100  |#include "project.h"
                            21044 
                            21046 
                            21047 ; 1    |/////////////////////////////////////////////////////////////////////////////////
                            21048 ; 2    |//  Copyright(C) SigmaTel, Inc. 2000-2004
                            21049 ; 3    |//  Filename: project.inc
                            21050 ; 4    |//  Description: 
                            21051 ; 5    |/////////////////////////////////////////////////////////////////////////////////
                            21052 ; 6    |
                            21053 ; 7    |#if (!defined(_PROJECT_INC))
                            21054 ; 8    |#define _PROJECT_INC 1
                            21055 ; 9    |
                            21056 ; 10   |#if defined(STMP_BUILD_PLAYER)
                            21057 ; 11   |#include "hwequ.h"
                            21058 ; 12   |#else 
                            21059 ; 13   |//include "regscodec.inc"
                            21060 ; 14   |#endif
                            21061 ; 15   |
                            21062 ; 16   |//////////////////////////////////////////////////////////////////////////////////
                            21063 ; 17   |// Uncomment next define to allow player boot if you have stfm1000 macro enabled (defaults ON) & 
                            21064 ; 18   |// your board crystal is not able to output nominal voltage range. Used in player main.asm. STMP00012148
                            21065 ; 19   |// Defining this will result in lower battery life (price of using a lower quality crystal). 
                            21066 ; 20   |// Those that want to save battery life and have good crystals that meet our HW team's specs can 
                            21067 ; 21   |// comment out this line to reduce crystal bias current and so battery current in player mode.  
                            21068 ; 22   |#define SUPPORT_MARGINAL_XTALS 1
                            21069 ; 23   |
                            21070 ; 24   |/////////////////////////////////////////////////////////////////////////////////
                            21071 ; 25   |// BOOT SPEED CONFIG & ASSOCIATED BATTERY VOLTAGE CHECK ENABLE
                            21072 ; 26   |/////////////////////////////////////////////////////////////////////////////////
                            21073 ; 27   |// Users can enable one of ATTEMPT_FAST_BOOT or FASTEST boot or neither project define below by defining
                            21074 ; 28   |// values as 0 or 1, else it defaults to the boot speed used in previous SDKs.
                            21075 ; 29   |#define ATTEMPT_FAST_BOOT 1
                            21076 ; 30   |#define ATTEMPT_FASTEST_BOOT 0   
                            21077 ; 31   |// Changing this define to 0 removes Vbat threshholding & unconditionally gives fast boot config above- 
                            21078 ; 32   |// disabling this check is suggested for profiling if you want to try to tweak down threshholds by maybe 50mV.
                            21079 ; 33   |// Also the tests should clear the fast boot config defines to link & boot at normal speed.
                            21080 ; 34   |#define SPEED_BOOT_BATTERY_CHECK 1
                            21081 ; 35   |
                            21082 ; 36   |/////////////////////////////////////////////////////////////////////////////////
                            21083 ; 37   |// MEDIA DEFINITIONS
                            21084 ; 38   |/////////////////////////////////////////////////////////////////////////////////
                            21085 ; 39   |
                            21086 ; 40   |/////////////////////////////////////////////////////////////////////////////////
                            21087 ; 41   |// MNAND - Number of chips forming the internal physical device (i.e. # of NANDs)
                            21088 ; 42   |#if defined(NAND1)
                            21089 ; 43   |#define SM_INTERNAL_CHIPS 1
                            21090 ; 44   |#else 
                            21091 ; 45   |#if defined(NAND2)
                            21092 ; 46   |#define SM_INTERNAL_CHIPS 2
                            21093 ; 47   |#else 
                            21094 ; 48   |#if defined(NAND3)
                            21095 ; 49   |#define SM_INTERNAL_CHIPS 3
                            21096 ; 50   |#else 
                            21097 ; 51   |#if defined(NAND4)
                            21098 ; 52   |#define SM_INTERNAL_CHIPS 4
                            21099 ; 53   |#else 
                            21100 ; 54   |#define SM_INTERNAL_CHIPS 1
                            21101 ; 55   |#endif
                            21102 ; 56   |#endif
                            21103 ; 57   |#endif
                            21104 ; 58   |#endif
                            21105 ; 59   |
                            21106 ; 60   |/////////////////////////////////////////////////////////////////////////////////
                            21107 ; 61   |// If SMARTMEDIA_DETECT_ACTIVE_HIGH is defined:
                            21108 ; 62   |//   SmartMedia will be detected as inserted if the GPIO pin reads 1 and removed if it reads 0.  
                            21109 ; 63   |// If SMARTMEDIA_DETECT_ACTIVE_HIGH is not defined ** comment out next line **
                            21110 ; 64   |//   SmartMedia will be detected as inserted if the GPIO pin reads 0 and removed if it reads 1.
                            21111 ; 65   |//*** comment out if active high ****
                            21112 ; 66   |//SMARTMEDIA_DETECT_ACTIVE_HIGH  equ     1
                            21113 ; 67   |
                            21114 ; 68   |#if defined(SMEDIA)
                            21115 ; 69   |#define NUM_REMOVABLE_MEDIA 1
                            21116 ; 70   |#define NUM_SM_EXTERNAL 1
                            21117 ; 71   |#define MMC_MAX_PHYSICAL_DEVICES 0
                            21118 ; 72   |#define SM_MAX_LOGICAL_DEVICES 2
                            21119 ; 73   |#else 
                            21120 ; 74   |#if defined(MMC)
                            21121 ; 75   |#define NUM_REMOVABLE_MEDIA 1
                            21122 ; 76   |#define NUM_SM_EXTERNAL 0
                            21123 ; 77   |#define MMC_MAX_PHYSICAL_DEVICES 1
                            21124 ; 78   |#define SM_MAX_LOGICAL_DEVICES 1
                            21125 ; 79   |#else 
                            21126 ; 80   |#define NUM_REMOVABLE_MEDIA 0
                            21127 ; 81   |#define NUM_SM_EXTERNAL 0
                            21128 ; 82   |#define MMC_MAX_PHYSICAL_DEVICES 0
                            21129 ; 83   |#define SM_MAX_LOGICAL_DEVICES 1
                            21130 ; 84   |#endif
                            21131 ; 85   |#endif
                            21132 ; 86   |
                            21133 ; 87   |/////////////////////////////////////////////////////////////////////////////////
                            21134 ; 88   |// Mass Storage Class definitions
                            21135 ; 89   |/////////////////////////////////////////////////////////////////////////////////
                            21136 ; 90   |// Set to 0 if Composite Device build is desired.    
                            21137 ; 91   |#define MULTI_LUN_BUILD 1   
                            21138 ; 92   |
                            21139 ; 93   |////////////////////////////////////////////////////////////////////////////////
                            21140 ; 94   |//  SCSI
                            21141 ; 95   |#if (MULTI_LUN_BUILD==0)
                            21142 ; 96   |  #if (NUM_REMOVABLE_MEDIA == 1)
                            21143 ; 97   |    #define SCSI_NUM_TARGETS                        2
                            21144 ; 98   |    #define SCSI_DEVICE_NUM_LUNS_DEV_0              1
                            21145 ; 99   |    #define SCSI_DEVICE_NUM_LUNS_DEV_1              1
                            21146 ; 100  |  #else
                            21147 ; 101  |    #define SCSI_NUM_TARGETS                        1
                            21148 ; 102  |    #define SCSI_DEVICE_NUM_LUNS_DEV_0              1
                            21149 ; 103  |  #endif
                            21150 ; 104  |#else
                            21151 ; 105  |    #define SCSI_NUM_TARGETS                        1
                            21152 ; 106  |  #if (NUM_REMOVABLE_MEDIA == 1)
                            21153 ; 107  |    #define SCSI_DEVICE_NUM_LUNS_DEV_0              2
                            21154 ; 108  |  #else
                            21155 ; 109  |    #define SCSI_DEVICE_NUM_LUNS_DEV_0              1  
                            21156 ; 110  |  #endif
                            21157 ; 111  |#endif
                            21158 ; 112  |
                            21159 ; 113  |
                            21160 ; 114  |#define USBMSC_NUM_DEVICES                      SCSI_NUM_TARGETS
                            21161 ; 115  |
                            21162 ; 116  |
                            21163 ; 117  |////////////////////////////////////////////////////////////////////////////////
                            21164 ; 118  |// Define number of logical medias and drives for three builds (MTP, USBMSC, and Player)
                            21165 ; 119  |////////////////////////////////////////////////////////////////////////////////
                            21166 ; 120  |#ifdef MMC
                            21167 ; 121  |#ifdef MTP_BUILD
                            21168 ; 122  |// --------------------
                            21169 ; 123  |// MTP and MMC
                            21170 ; 124  |// --------------------
                            21171 ; 125  |#define NUM_LOGICAL_MEDIA       2
                            21172 ; 126  |#define NUM_LOGICAL_DRIVES      8
                            21173 ; 127  |#else  // ifndef MTP_BUILD
                            21174 ; 128  |#ifdef STMP_BUILD_PLAYER
                            21175 ; 129  |// --------------------
                            21176 ; 130  |// Player and MMC
                            21177 ; 131  |// --------------------
                            21178 ; 132  |#else
                            21179 ; 133  |// --------------------
                            21180 ; 134  |// USBMSC and MMC
                            21181 ; 135  |// --------------------
                            21182 ; 136  |#define NUM_LOGICAL_MEDIA       3
                            21183 ; 137  |#define NUM_LOGICAL_DRIVES      8
                            21184 ; 138  |#endif // ifdef STMP_BUILD_PLAYER
                            21185 ; 139  |#endif // ifdef MTP_BUILD
                            21186 ; 140  |#else  // ifndef MMC
                            21187 ; 141  |#ifdef MTP_BUILD
                            21188 ; 142  |// --------------------
                            21189 ; 143  |// MTP and NAND only
                            21190 ; 144  |// --------------------
                            21191 ; 145  |#define NUM_LOGICAL_MEDIA       1
                            21192 ; 146  |#define NUM_LOGICAL_DRIVES      7
                            21193 ; 147  |#else  // ifndef MTP_BUILD
                            21194 ; 148  |#ifdef STMP_BUILD_PLAYER
                            21195 ; 149  |// --------------------
                            21196 ; 150  |// Player and NAND only
                            21197 ; 151  |// --------------------
                            21198 ; 152  |#else
                            21199 ; 153  |// --------------------
                            21200 ; 154  |// USBMSC and NAND only
                            21201 ; 155  |// --------------------
                            21202 ; 156  |#define NUM_LOGICAL_MEDIA       2
                            21203 ; 157  |#define NUM_LOGICAL_DRIVES      7
                            21204 ; 158  |#endif // ifdef STMP_BUILD_PLAYER
                            21205 ; 159  |#endif // ifdef MTP_BUILD
                            21206 ; 160  |#endif // ifdef MMC 
                            21207 ; 161  |
                            21208 ; 162  |// If we are in an MTP build then we don't use as many transfers buffers.
                            21209 ; 163  |#if (defined(MTP_BUILD))
                            21210 ; 164  |#define MAX_USB_TRANSFERS_QUEUED 16
                            21211 ; 165  |
                            21212 ; 166  |////!
                            21213 ; 167  |////! This varible holds the watchdog count for the store flush.
                            21214 ; 168  |////!
                            21215 ; 169  |///
                            21216 ; 170  |#include <types.h>
                            21217 ; 171  |extern volatile INT g_StoreWatchDogCount;
                            21218 ; 172  |extern const INT g_StoreWatchDogTimeout;
                            21219 ; 173  |#endif
                            21220 ; 174  |
                            21221 ; 175  |////////////////////////////////////////////////////////////////////////////////
                            21222 ; 176  |// These are needed here for Mass Storage Class
                            21223 ; 177  |// Needs to be cleaned up
                            21224 ; 178  |////////////////////////////////////////////////////////////////////////////////
                            21225 ; 179  |#if (!defined(STMP_BUILD_PLAYER))
                            21226 ; 180  |#define SCRATCH_USER_Y_SIZE 512
                            21227 ; 181  |#define SCRATCH_USER_X_SIZE 512
                            21228 ; 182  |
                            21229 ; 183  |#define BROWNOUT_LEVEL1_DETECTED                0x000001
                            21230 ; 184  |
                            21231 ; 185  |#endif
                            21232 ; 186  |
                            21233 ; 187  |
                            21234 ; 188  |/////////////////////////////////////////////////////////////////////////////////
                            21235 ; 189  |// SmartMedia/NAND defs
                            21236 ; 190  |#define SM_MAX_PHYSICAL_DEVICES SM_INTERNAL_CHIPS+NUM_SM_EXTERNAL
                            21237 ; 191  |#define SM_REMOVABLE_DEVICE_NUM SM_INTERNAL_CHIPS
                            21238 ; 192  |
                            21239 ; 193  |/////////////////////////////////////////////////////////////////////////////////
                            21240 ; 194  |// Sysloadresources defs
                            21241 ; 195  |#define SM_MAX_RESOURCE_DEVICES SM_INTERNAL_CHIPS+NUM_SM_EXTERNAL
                            21242 ; 196  |
                            21243 ; 197  |/////////////////////////////////////////////////////////////////////////////////
                            21244 ; 198  |// MMC defs
                            21245 ; 199  |#define MMC_MAX_PARTITIONS 1
                            21246 ; 200  |#define MMC_MAX_LOGICAL_DEVICES MMC_MAX_PHYSICAL_DEVICES*MMC_MAX_PARTITIONS
                            21247 ; 201  |
                            21248 ; 202  |/////////////////////////////////////////////////////////////////////////////////
                            21249 ; 203  |// SPI defs
                            21250 ; 204  |#define SPI_MAX_DEVICES MMC_MAX_PHYSICAL_DEVICES
                            21251 ; 205  |
                            21252 ; 206  |/////////////////////////////////////////////////////////////////////////////////
                            21253 ; 207  |// Global media defs
                            21254 ; 208  |#define MAX_PHYSICAL_DEVICES SM_MAX_PHYSICAL_DEVICES+MMC_MAX_PHYSICAL_DEVICES
                            21255 ; 209  |#define MAX_LOGICAL_DEVICES SM_MAX_LOGICAL_DEVICES+MMC_MAX_LOGICAL_DEVICES
                            21256 ; 210  |
                            21257 ; 211  |/////////////////////////////////////////////////////////////////////////////////
                            21258 ; 212  |// DO NOT CHANGE THESE!!!
                            21259 ; 213  |#define SM_MAX_PARTITIONS 4
                            21260 ; 214  |#define MAX_HANDLES 2
                            21261 ; 215  |/////////////////////////////////////////////////////////////////////////////////
                            21262 ; 216  |
                            21263 ; 217  |
                            21264 ; 218  |/////////////////////////////////////////////////////////////////////////////////
                            21265 ; 219  |// Battery LRADC Values 
                            21266 ; 220  |/////////////////////////////////////////////////////////////////////////////////
                            21267 ; 221  |// brownout trip point in mV (moved by RS)
                            21268 ; 222  |// BATT_SAFETY_MARGIN:  percentage value used by:
                            21269 ; 223  |//   * SysSaveSettings to determine if enough power is left to attempt a settings save. 
                            21270 ; 224  |//   * Recorder to conditionally prevent the start or continuation of 
                            21271 ; 225  |//     audio recording to media.
                            21272 ; 226  |#define BATT_SAFETY_MARGIN 10
                            21273 ; 227  |
                            21274 ; 228  |//; player resource drive refresh allowed only when battery usable % is above this value. 
                            21275 ; 229  |//; 50% of usable range [0.9V to 1.5V] is around 1.2V This is the safe target alkaline voltage to do a refresh.
                            21276 ; 230  |//; LIION will also require 50% which will work but that could be changed in the future. 
                            21277 ; 231  |//RESOURCE_REFRESH_MIN_BATT_PCT equ 50
                            21278 ; 232  |
                            21279 ; 233  |// stmp00005071 adds these for mp3 encode stability at low battery per battery type & mmc presence.
                            21280 ; 234  |
                            21281 ; 235  |//// Vbat threshholds empirically tuned by profiling max bat current for 3 HW cases: 
                            21282 ; 236  |//// 1 GigaByte MMC, NAND flash only, & LiIon Buck mode. See voicemenu pre-encode Vbat check.
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page  84

M:ADDR CODE           CYCLES LINE SOURCELINE
                            21283 ; 237  |#if (!defined(CLCD))
                            21284 ; 238  |#define MP3_ENC_MMC_MIN_V_BAT_MV 1100
                            21285 ; 239  |#define MP3_ENC_NANDONLY_MIN_V_BAT_MV 1000
                            21286 ; 240  |#else 
                            21287 ; 241  |#define MP3_ENC_MMC_MIN_V_BAT_MV 1250
                            21288 ; 242  |#define MP3_ENC_NANDONLY_MIN_V_BAT_MV 1150
                            21289 ; 243  |#endif
                            21290 ; 244  |#define MP3_ENC_BUCKMODE_MIN_V_BAT_MV 3300
                            21291 ; 245  |
                            21292 ; 246  |// These Vbat use-range-percentages are derived to correspond with target battery 
                            21293 ; 247  |// voltages of 1.10V for MMC, 1.0V for nand only (alkaline or nimh), and 3.3V for any LiIon.
                            21294 ; 248  |// See mp3 encoder overlay.
                            21295 ; 249  |#define MP3_ENC_MMC_MIN_V_BAT_RANGE_PCT 33
                            21296 ; 250  |#define MP3_ENC_NANDONLY_MIN_V_BAT_RANGE_PCT 17
                            21297 ; 251  |#define MP3_ENC_BUCKMODE_MIN_V_BAT_RANGE_PCT 25
                            21298 ; 252  |
                            21299 ; 253  |/////////////////////////////////////////////////////////////////////////////////
                            21300 ; 254  |// Voice recording filenames
                            21301 ; 255  |// number of digits in filename Vxxx.wav
                            21302 ; 256  |/////////////////////////////////////////////////////////////////////////////////
                            21303 ; 257  |#define DIGITS_IN_VOICE_FILENAME 3   
                            21304 ; 258  |
                            21305 ; 259  |/////////////////////////////////////////////////////////////////////////////////
                            21306 ; 260  |// Mic Bias: Set this enable to 1 to internally generate mic bias voltage. 
                            21307 ; 261  |// Also below, must configure internal resistor value and pin to use for DC bias. 
                            21308 ; 262  |// Can set to 0 to disable internally generated mic bias voltage at pin lradc1/2.
                            21309 ; 263  |#if defined(DEVICE_3500)
                            21310 ; 264  |#define ENABLE_INTERNALLY_GENERATED_MICBIAS 1 
                            21311 ; 265  |// MIC BIAS circuit source selection: use Low Resolution ADC pin 2 or 1 to bias mic. 
                            21312 ; 266  |// Per your layout: select LRADC 2 or 1 below 
                            21313 ; 267  |//   (pin LRADC 2 for 35xx cpu card revB, LRADC 1 for 35xx cpu card revC, ref schematics, & demo player)
                            21314 ; 268  |#define LRADC_NUM_FOR_MIC_BIAS 1 
                            21315 ; 269  |// Sets internal mic bias R to value 2, 4, or 8 (in kOhms).
                            21316 ; 270  |#define MICBIAS_CONFIGURED_RESISTOR_KOHMS 8
                            21317 ; 271  |
                            21318 ; 272  |// Allows mic bias to settle before sampling. This delay currently unused. For rec btn when bias not yet ready.
                            21319 ; 273  |#define REC_BTN_INTERNAL_MIC_BIAS_SETTLING_DELAY_MS 400 
                            21320 ; 274  |// Option always keeps bias enabled after mainmenu init. This allows for start pop prevention if you use rec button from outside voice menu.
                            21321 ; 275  |// This selection costs 1 mWatt but gains the desired low record button to sampling latency in the record-from-music-menu use-case.
                            21322 ; 276  |#define KEEP_MIC_BIAS_ENABLED 0
                            21323 ; 277  |
                            21324 ; 278  |#else 
                            21325 ; 279  |// STMP3410
                            21326 ; 280  |#define ENABLE_INTERNALLY_GENERATED_MICBIAS 0
                            21327 ; 281  |#define LRADC_NUM_FOR_MIC_BIAS 1 
                            21328 ; 282  |#define MICBIAS_CONFIGURED_RESISTOR_KOHMS 2
                            21329 ; 283  |#endif
                            21330 ; 284  |
                            21331 ; 285  |/////////////////////////////////////////////////////////////////////////////////
                            21332 ; 286  |// Number of available soft timers
                            21333 ; 287  |/////////////////////////////////////////////////////////////////////////////////
                            21334 ; 288  |#if defined(SYNC_LYRICS)
                            21335 ; 289  |#define SOFT_TIMERS 10
                            21336 ; 290  |#else 
                            21337 ; 291  |#if defined(JPEG_DECODER)
                            21338 ; 292  |#define SOFT_TIMERS 10
                            21339 ; 293  |#else 
                            21340 ; 294  |#define SOFT_TIMERS 9
                            21341 ; 295  |#endif
                            21342 ; 296  |#endif
                            21343 ; 297  |
                            21344 ; 298  |/////////////////////////////////////////////////////////////////////////////////
                            21345 ; 299  |//  sizes
                            21346 ; 300  |/////////////////////////////////////////////////////////////////////////////////
                            21347 ; 301  |#if defined(MMC)
                            21348 ; 302  |#if defined(USE_PLAYLIST5)
                            21349 ; 303  |#define MENU_STACK_SIZE 1500
                            21350 ; 304  |#else 
                            21351 ; 305  |#define MENU_STACK_SIZE 1250
                            21352 ; 306  |#endif //if @def('USE_PLAYLIST5')
                            21353 ; 307  |#else 
                            21354 ; 308  |#if defined(USE_PLAYLIST5)
                            21355 ; 309  |#define MENU_STACK_SIZE 1500
                            21356 ; 310  |#else 
                            21357 ; 311  |#define MENU_STACK_SIZE 1250
                            21358 ; 312  |#endif //if @def('USE_PLAYLIST5')
                            21359 ; 313  |#endif //if @def('MMC')
                            21360 ; 314  |
                            21361 ; 315  |// NOTE: SDK2.6 USED 550 FOR NEXT LINE, BUT SDK3.0BETA USED 750. Should it be ifdef MTP 750 else 550 for other builds? TOVERIFY. MYALLOC
                            21362 ; 316  |// 
                            21363 ; 317  |#define STACK_L1_SIZE 750
                            21364 ; 318  |#define STACK_L2_SIZE 100
                            21365 ; 319  |#define STACK_L3_SIZE 160
                            21366 ; 320  |
                            21367 ; 321  |// If we are in MTP mode the overlay task stack can shrink.
                            21368 ; 322  |// TODO shrink this stack for MTP, I will leave it at 500 until we verify that it 
                            21369 ; 323  |// is ok with switching code.
                            21370 ; 324  |#if defined(MTP_BUILD)
                            21371 ; 325  |#define OVERLAY_MANAGER_STACK_SIZE 300
                            21372 ; 326  |#endif
                            21373 ; 327  |
                            21374 ; 328  |/////////////////////////////////////////////////////////////////////////////////
                            21375 ; 329  |// maximum number of nested funclets 
                            21376 ; 330  |/////////////////////////////////////////////////////////////////////////////////
                            21377 ; 331  |#define MAX_NESTED_FUNCLET 6 
                            21378 ; 332  |
                            21379 ; 333  |/////////////////////////////////////////////////////////////////////////////////
                            21380 ; 334  |//    LCD DEFINITIONS
                            21381 ; 335  |/////////////////////////////////////////////////////////////////////////////////
                            21382 ; 336  |
                            21383 ; 337  |#define SPACE_CHAR 0x000020          
                            21384 ; 338  |#define ZERO_CHAR 0x000030
                            21385 ; 339  |#define COLON_CHAR 0x00003A
                            21386 ; 340  |#define PERIOD_CHAR 0x00002E
                            21387 ; 341  |
                            21388 ; 342  |#if (defined(S6B33B0A_LCD))
                            21389 ; 343  |#define LCD_X_SIZE 128
                            21390 ; 344  |#define LCD_Y_SIZE 159
                            21391 ; 345  |#endif
                            21392 ; 346  |
                            21393 ; 347  |#if (defined(SED15XX_LCD))
                            21394 ; 348  |#define LCD_X_SIZE 128
                            21395 ; 349  |#define LCD_Y_SIZE 64
                            21396 ; 350  |#endif
                            21397 ; 351  |
                            21398 ; 352  |
                            21399 ; 353  |//////////////////////////////////////////////////////////////////////////////////
                            21400 ; 354  |//   Details on Customizing Contrast
                            21401 ; 355  |/////////////////////////////////////////////////////////////////////////////////
                            21402 ; 356  |//   Max supported LCD range is 0 - 3F; however due to hardware/voltage differences
                            21403 ; 357  |//   the range of visibility is usually smaller than this.  It is important to 
                            21404 ; 358  |//   calibrate the visible range, because the contrast setting is saved.
                            21405 ; 359  |//   If the user shuts off the player while lcd is not visible, the player is useless
                            21406 ; 360  |//   unless the ezact sequence is remembered.
                            21407 ; 361  |//   To find out what range your player supports: 
                            21408 ; 362  |//   change these equs to full range or comment out (full range is default)
                            21409 ; 363  |//;;;;;;
                            21410 ; 364  |// uncomment the line below to build code that will provide raw contrast value
                            21411 ; 365  |// recommended calibration using player -- uncomment 
                            21412 ; 366  |//;;;;;;
                            21413 ; 367  |//CONTRAST_CALIBRATION    equ  1
                            21414 ; 368  |////////////////////////////
                            21415 ; 369  |#if (defined(DEMO_HW))
                            21416 ; 370  |// this is the setting for ET301 demos; Next 2 line have not been updated for new Shingyi LCD (June6'05)
                            21417 ; 371  |#define LCD_MAX_CONTRAST 0x32 
                            21418 ; 372  |#define LCD_MIN_CONTRAST 0x1E
                            21419 ; 373  |#else 
                            21420 ; 374  |
                            21421 ; 375  |#if (defined(S6B33B0A_LCD))
                            21422 ; 376  |#define LCD_MAX_CONTRAST 210
                            21423 ; 377  |#define LCD_MIN_CONTRAST 160    
                            21424 ; 378  |#endif
                            21425 ; 379  |
                            21426 ; 380  |#if (defined(SED15XX_LCD))
                            21427 ; 381  |// Next 3 line comment was for OLD shingyi LCD: (default LCD before sdk2.6)
                            21428 ; 382  |// Engineering board regs support range [17-37].
                            21429 ; 383  |//   Engineering board DC/DC support range [24-46]. 
                            21430 ; 384  |//   One default contrast range [24-42] works for both.
                            21431 ; 385  |// The 3 sets of contrast ranges below are updated for SDK2.6 to support either 
                            21432 ; 386  |// new or old ShingYih LCDs. "File" refers to \resource\shingyih\system_lcd_init_seq.src
                            21433 ; 387  |// 3/10/05 - Use one of the 2 next contrast ranges depending on which
                            21434 ; 388  |// ShingYih LCD you have.  See \resources\shingyi\readme.txt 
                            21435 ; 389  |// Optimal for NEW LCD with NEW file (SDK2.6 default)  
                            21436 ; 390  |// G098064-41 LCD module (present on engr board revH LCD card)
                            21437 ; 391  |
                            21438 ; 392  |#if (defined(NEWSHINGYIH))
                            21439 ; 393  |#define LCD_MAX_CONTRAST 250
                            21440 ; 394  |#define LCD_MIN_CONTRAST 0
                            21441 ; 395  |#else 
                            21442 ; 396  |//-----
                            21443 ; 397  |// Near optimal for OLD LCD with NEW file. 
                            21444 ; 398  |// NOT optimal for the new lcd but pretty good. So u may use this if u want 1 build for both LCDs.
                            21445 ; 399  |#define LCD_MAX_CONTRAST 250
                            21446 ; 400  |#define LCD_MIN_CONTRAST 0
                            21447 ; 401  |
                            21448 ; 402  |//=====
                            21449 ; 403  |// Optimal for OLD ShingYih LCD with OLD file (as sdk2.521)
                            21450 ; 404  |// Suggest going with default new init file & values above for your LCD instead of this historic ver.
                            21451 ; 405  |//LCD_MAX_CONTRAST equ 42
                            21452 ; 406  |//LCD_MIN_CONTRAST equ 24 
                            21453 ; 407  |
                            21454 ; 408  |#endif
                            21455 ; 409  |#endif
                            21456 ; 410  |
                            21457 ; 411  |#endif
                            21458 ; 412  |
                            21459 ; 413  |//////////////////////////////////////////////////////////////////////////////////
                            21460 ; 414  |// The default value of the lcd contrast in % of range
                            21461 ; 415  |//   the default value is used when no settings.dat is available
                            21462 ; 416  |//////////////////////////////////////////////////////////////////////////////////
                            21463 ; 417  |
                            21464 ; 418  |#if (defined(S6B33B0A_LCD))
                            21465 ; 419  |// 60% of range is default value
                            21466 ; 420  |#define DEFAULT_CONTRAST 50 
                            21467 ; 421  |#endif
                            21468 ; 422  |
                            21469 ; 423  |#if (defined(SED15XX_LCD))
                            21470 ; 424  |// % of range is default value (was 60%)
                            21471 ; 425  |#define DEFAULT_CONTRAST 50 
                            21472 ; 426  |#endif
                            21473 ; 427  |
                            21474 ; 428  |
                            21475 ; 429  |// percentage change per increment/decrement message (LCD_DEC_CONTRAST/LCD_INC_CONTRAST)
                            21476 ; 430  |// make lower when doing calibration
                            21477 ; 431  |#define LCD_STEPSIZE_CONTRAST 10  
                            21478 ; 432  |
                            21479 ; 433  |
                            21480 ; 434  |/////////////////////////////////////////////////////////////////////////////////
                            21481 ; 435  |// For FFWD and RWND
                            21482 ; 436  |/////////////////////////////////////////////////////////////////////////////////
                            21483 ; 437  |#define SECONDS_TO_SKIP 1
                            21484 ; 438  |#define SECONDS_TO_SKIP1 3
                            21485 ; 439  |#define SECONDS_TO_SKIP2 6
                            21486 ; 440  |// number of seconds to cause reset to begin of song for PREV push
                            21487 ; 441  |#define PREV_SONG_THRESHOLD 5  
                            21488 ; 442  |// number of 300 mSec periods before the numbers of seconds to skip increases
                            21489 ; 443  |#define FIRST_TIME_BOUNDARY 15 
                            21490 ; 444  |// number of 300 mSec periods before the numbers of seconds to skip increases
                            21491 ; 445  |#define SECOND_TIME_BOUNDARY 30 
                            21492 ; 446  |
                            21493 ; 447  |// For audible FFW/RWD
                            21494 ; 448  |#define SECONDS_TO_SKIP_FOR_3X_RATE 1
                            21495 ; 449  |#define SECONDS_TO_SKIP_FOR_60X_RATE 18
                            21496 ; 450  |#define SECONDS_TO_SKIP_FOR_600X_RATE 180
                            21497 ; 451  |#define SECONDS_TO_SKIP_FOR_1800X_RATE 540
                            21498 ; 452  |// number of 300 mSec periods before the numbers of seconds to skip increases
                            21499 ; 453  |#define LEVEL1_BOUNDARY 17 
                            21500 ; 454  |// number of 300 mSec periods before the numbers of seconds to skip increases
                            21501 ; 455  |#define LEVEL2_BOUNDARY 33 
                            21502 ; 456  |// number of 300 mSec periods before the numbers of seconds to skip increases
                            21503 ; 457  |#define LEVEL3_BOUNDARY 50 
                            21504 ; 458  |// Stmp00010296 Ticket #71685:  for song shorter than the min. skip size
                            21505 ; 459  |// if song_time < skip_size, bCurrentSongShort=>TRUE (ignore FWD/RWD commands)
                            21506 ; 460  |// Short Song Time, songs too short to play.
                            21507 ; 461  |#define SHORT_SONG_TIME SECONDS_TO_SKIP         
                            21508 ; 462  |
                            21509 ; 463  |/////////////////////////////////////////////////////////////////////////////////
                            21510 ; 464  |// MP3 Sync Values
                            21511 ; 465  |/////////////////////////////////////////////////////////////////////////////////
                            21512 ; 466  |// # bytes to look for sync before marking it bad
                            21513 ; 467  |#define MP3_SYNC_THRESHOLD 70000 
                            21514 ; 468  |// # bytes to look for sync before slowing decoder isr frequency (to let menus run)
                            21515 ; 469  |#define MP3_SYNC_THRESHOLD1 10000 
                            21516 ; 470  |// once we have sync'd, the isr should be called this frequently
                            21517 ; 471  |#define MP3_DECODERISR_FAST 7500  
                            21518 ; 472  |// if decoder is having difficulty syncing, switch isr to be called less frequently
                            21519 ; 473  |#define MP3_DECODERISR_SLOW 50000 
                            21520 ; 474  |
                            21521 ; 475  |
                            21522 ; 476  |/////////////////////////////////////////////////////////////////////////////////
                            21523 ; 477  |//// Multi-Stage Volume Control Definitions
                            21524 ; 478  |/////////////////////////////////////////////////////////////////////////////////
                            21525 ; 479  |//// Use Multi-Stage Volume
                            21526 ; 480  |#define MULTI_STAGE_VOLUME 0x1                  
                            21527 ; 481  |
                            21528 ; 482  |//// Master Volume definitions
                            21529 ; 483  |#define MIX_MSTR_MAX_VOL 0x0
                            21530 ; 484  |#define NUM_MSTR_ATT_STEPS (0x1F-MIX_MSTR_MAX_VOL)
                            21531 ; 485  |
                            21532 ; 486  |//// DAC-Mode definitions
                            21533 ; 487  |//// Adjusts 0dB point
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page  85

M:ADDR CODE           CYCLES LINE SOURCELINE
                            21534 ; 488  |#define MIX_DAC_NOM_VOL 0x6                  
                            21535 ; 489  |#define MIX_DAC_MIN_VOL 0x1F
                            21536 ; 490  |// For minimum clipping: Set MIX_DAC_MAX_VOL below to match MIX_DAC_NOM_VOL value 2 lines above.
                            21537 ; 491  |// For additional gain (with possible clipping): Set MIX_DAC_MAX_VOL in range below. 
                            21538 ; 492  |//                                               Each integer below MIX_DAC_NOM_VOL provides 1.5 dB gain on Stmp34x0; 
                            21539 ; 493  |//                                               Max gain possible: 8 step diff would provide +12dB gain.   
                            21540 ; 494  |// range: [0 to MIX_DAC_NOM_VOL] (0 for loudest volume)
                            21541 ; 495  |#define MIX_DAC_MAX_VOL 0x0  
                            21542 ; 496  |
                            21543 ; 497  |#define NUM_DAC_ATT_STEPS (MIX_DAC_MIN_VOL-MIX_DAC_NOM_VOL+1)
                            21544 ; 498  |#define NUM_DAC_GAIN_STEPS (MIX_DAC_NOM_VOL-MIX_DAC_MAX_VOL)
                            21545 ; 499  |#define NUM_DAC_MODE_VOL_STEPS (NUM_DAC_ATT_STEPS+NUM_MSTR_ATT_STEPS+NUM_DAC_GAIN_STEPS+1)
                            21546 ; 500  |
                            21547 ; 501  |//// If there is no stored volume, set to 50% of DAC-Mode max; change if DAC Mode is not the default
                            21548 ; 502  |//// STMP35xx has 2dB attenuation per step so default needs a few more steps above midpoint.
                            21549 ; 503  |#define DEFAULT_VOLUME ((NUM_DAC_MODE_VOL_STEPS/2)+6)         
                            21550 ; 504  |
                            21551 ; 505  |//// Set maximum restored volume to 75% of DAC-Mode max; change if DAC Mode is not the default
                            21552 ; 506  |#define MAX_RESTORED_VOLUME ((3*NUM_DAC_MODE_VOL_STEPS)/4)   
                            21553 ; 507  |
                            21554 ; 508  |
                            21555 ; 509  |//// Line In definitions (used for Line-In 1)
                            21556 ; 510  |//// 0dB point of the Line In
                            21557 ; 511  |#define MIX_LINE_NOM_VOL 0x8                  
                            21558 ; 512  |//// Minimum volume of Line In
                            21559 ; 513  |#define MIX_LINE_MIN_VOL 0x1F                 
                            21560 ; 514  |//// Maximum volume of Line In (can adjust extra gain)
                            21561 ; 515  |#define MIX_LINE_MAX_VOL 0x6                  
                            21562 ; 516  |#define NUM_LINE_ATT_STEPS (MIX_LINE_MIN_VOL-MIX_LINE_NOM_VOL+1)
                            21563 ; 517  |#define NUM_LINE_GAIN_STEPS (MIX_LINE_NOM_VOL-MIX_LINE_MAX_VOL)
                            21564 ; 518  |#define NUM_LINE_MODE_VOL_STEPS (NUM_LINE_ATT_STEPS+NUM_MSTR_ATT_STEPS+NUM_LINE_GAIN_STEPS+1)
                            21565 ; 519  |
                            21566 ; 520  |//// Line In definitions (used for FM tuner with 144 pin package)
                            21567 ; 521  |//// 0dB point of the Line In
                            21568 ; 522  |#define MIX_FM_NOM_VOL 0x8                  
                            21569 ; 523  |//// Minimum volume of Line In
                            21570 ; 524  |#define MIX_FM_MIN_VOL 0x1F                 
                            21571 ; 525  |//// Maximum volume of Line In (can adjust extra gain)
                            21572 ; 526  |#define MIX_FM_MAX_VOL 0x6                  
                            21573 ; 527  |#define NUM_FM_ATT_STEPS (MIX_FM_MIN_VOL-MIX_FM_NOM_VOL+1)
                            21574 ; 528  |#define NUM_FM_GAIN_STEPS (MIX_FM_NOM_VOL-MIX_FM_MAX_VOL)
                            21575 ; 529  |#define NUM_FM_MODE_VOL_STEPS (NUM_FM_ATT_STEPS+NUM_MSTR_ATT_STEPS+NUM_FM_GAIN_STEPS+1)
                            21576 ; 530  |
                            21577 ; 531  |/////////////////////////////////////////////////////////////////////////////////
                            21578 ; 532  |//// When enabled (1), periodically checks for one of several FM state machine invalid deadlock states & recovers. 
                            21579 ; 533  |//// Define as 0 to disable FM-deadlock-state checking and recovery.
                            21580 ; 534  |#define FM_WATCHDOG_ENABLE 1
                            21581 ; 535  |
                            21582 ; 536  |#if !defined(STMP_BUILD_PLAYER)
                            21583 ; 537  |////
                            21584 ; 538  |////! This varible holds the lcd display state for the mtp project.
                            21585 ; 539  |////
                            21586 ; 540  |///
                            21587 ; 541  |#include <types.h>
                            21588 ; 542  |extern volatile WORD g_wActivityState;
                            21589 ; 543  |#endif // if !@def('STMP_BUILD_PLAYER')
                            21590 ; 544  |
                            21591 ; 545  |void _reentrant Init5VSense(void);
                            21592 ; 546  |void _reentrant ServiceDCDC(void);
                            21593 ; 547  |
                            21594 ; 548  |////////////////////////////////////////////////////////////////////////////
                            21595 ; 549  |//// JPEG Thumbnail Mode Setting
                            21596 ; 550  |//// number of column in thumbnail mode
                            21597 ; 551  |#define THUMBNAIL_X 2           
                            21598 ; 552  |//// number of row in  thumbnail mode
                            21599 ; 553  |#define THUMBNAIL_Y 2           
                            21600 ; 554  |//// thumbnail boundary offset x
                            21601 ; 555  |#define THUMBNAIL_X_OFFSET 4            
                            21602 ; 556  |//// thumbnail boundary offset y
                            21603 ; 557  |#define THUMBNAIL_Y_OFFSET 4            
                            21604 ; 558  |
                            21605 ; 559  |#endif // if (!@def(_PROJECT_INC))
                            21606 ; 560  |
                            21607 
                            21609 
                            21610 ; 101  |
                            21611 ; 102  |/*==================================================================================================
                            21612 ; 103  |                                             CONSTANTS
                            21613 ; 104  |==================================================================================================*/
                            21614 ; 105  |/* The bit mask for 2 bits Unicode Flag selection in "uint8 unicode".
                            21615 ; 106  |Variable Represented            Bits used in "uint8 unicode"
                            21616 ; 107  |Artistname                              1:0
                            21617 ; 108  |Albumname                               3:2
                            21618 ; 109  |Genrename                               5:4
                            21619 ; 110  |Songname                                7:6
                            21620 ; 111  |----------------------------------------------------------
                            21621 ; 112  |    Value (2 bits)                      Meanings
                            21622 ; 113  |    0                                   RAW and All ASCII
                            21623 ; 114  |    1                                   Uni-code
                            21624 ; 115  |    2                                   Mixed, non-unicode
                            21625 ; 116  |
                            21626 ; 117  |    3(Genre only)               Genre is ID3v1 spec=>number
                            21627 ; 118  |*/
                            21628 ; 119  |#define BITMASK_ARTIST  (0x03)
                            21629 ; 120  |#define BITMASK_ALBUM   (0x0C)
                            21630 ; 121  |#define BITMASK_GENRE   (0x30)
                            21631 ; 122  |#define BITMASK_SONG    (0xC0)
                            21632 ; 123  |
                            21633 ; 124  |#define BITCHK_ARTIST_ALLASCII  (0x0)
                            21634 ; 125  |#define BITCHK_ALBUM_ALLASCII   (0x0)
                            21635 ; 126  |#define BITCHK_GENRE_ALLASCII   (0x0)
                            21636 ; 127  |#define BITCHK_SONG_ALLASCII    (0x0)
                            21637 ; 128  |
                            21638 ; 129  |#define BITCHK_ARTIST_UNICODE   (0x01)
                            21639 ; 130  |#define BITCHK_ALBUM_UNICODE    (0x04)
                            21640 ; 131  |#define BITCHK_GENRE_UNICODE    (0x10)
                            21641 ; 132  |#define BITCHK_SONG_UNICODE             (0x40)
                            21642 ; 133  |
                            21643 ; 134  |#define BITCHK_ARTIST_MIXCODE   (0x02)
                            21644 ; 135  |#define BITCHK_ALBUM_MIXCODE    (0x08)
                            21645 ; 136  |#define BITCHK_GENRE_MIXCODE    (0x20)
                            21646 ; 137  |#define BITCHK_SONG_MIXCODE             (0x80)
                            21647 ; 138  |
                            21648 ; 139  |#define BITCHK_GENRE_ID3V1              (0x30)
                            21649 ; 140  |
                            21650 ; 141  |#define UNKNOWN_YEAR_CODE               (1)     /* set a very large number */
                            21651 ; 142  |
                            21652 ; 143  |#define INDEX_EOF       0xFFF
                            21653 ; 144  |#ifdef _FOLDER_BROWSE_
                            21654 ; 145  |#define INDEX_ROOT  0xffe
                            21655 ; 146  |#define UNKNOWN_RECORD  0xfff
                            21656 ; 147  |#endif  // _FOLDER_BROWSE_
                            21657 ; 148  |
                            21658 ; 149  |/* Constant for item_type */
                            21659 ; 150  |#define         ITEM_ARTIST                     0
                            21660 ; 151  |#define         ITEM_ALBUM                      1
                            21661 ; 152  |#define         ITEM_GENRE                      2
                            21662 ; 153  |#define         ITEM_TRACK                      3
                            21663 ; 154  |#define         ITEM_YEAR                       4
                            21664 ; 155  |#define         ITEM_SONG_INFO_ARTIST   5
                            21665 ; 156  |#define         ITEM_SONG_INFO_ALBUM    6
                            21666 ; 157  |#define         ITEM_SONG_INFO_GENRE    7
                            21667 ; 158  |#define         ITEM_SONG_INFO_YEAR             9
                            21668 ; 159  |#ifdef _NEWMUSIC_
                            21669 ; 160  |#define         ITEM_1DAY                       10
                            21670 ; 161  |#define         ITEM_1WEEK                      11
                            21671 ; 162  |#define         ITEM_1MONTH                     12
                            21672 ; 163  |#endif
                            21673 ; 164  |#ifdef _AUDIBLE_
                            21674 ; 165  |#define         ITEM_AUDIBLE            13
                            21675 ; 166  |#endif
                            21676 ; 167  |#define         ITEM_ON_THE_GO          14
                            21677 ; 168  |
                            21678 ; 169  |#define         ITEM_VOICE                      15
                            21679 ; 170  |#define         ITEM_FMREC                      16
                            21680 ; 171  |#define         ITEM_PHOTO                      17
                            21681 ; 172  |#ifdef _FOLDER_BROWSE_
                            21682 ; 173  |#define         ITEM_INTERNAL           18
                            21683 ; 174  |#define         ITEM_EXTERNAL       19
                            21684 ; 175  |#endif  // _FOLDER_BROWSE_
                            21685 ; 176  |#define     ITEM_UNKNOWN        0xff
                            21686 ; 177  |
                            21687 ; 178  |/*
                            21688 ; 179  |input parameter for void ML_AddEntryToLibrary(uint24 Media_type, RAM_SONG_INFO_T *song_info, int16 option);
                            21689 ; 180  |option input.
                            21690 ; 181  |*/
                            21691 ; 182  |#define         ADD_OPTION_MUSIC        (0x00)
                            21692 ; 183  |#define         ADD_OPTION_VOICE        (0x01)
                            21693 ; 184  |#define         ADD_OPTION_AUDIBLE      (0x02)
                            21694 ; 185  |#ifdef _FOLDER_BROWSE_
                            21695 ; 186  |#define     ADD_OPTION_DIR      (0x03)
                            21696 ; 187  |#endif  // _FOLDER_BROWSE_
                            21697 ; 188  |
                            21698 ; 189  |/* Constant for key action */
                            21699 ; 190  |#define         ACTION_OK                               0               /* Press OK button */
                            21700 ; 191  |#define         ACTION_BACK                             1               /* Press BACK button */
                            21701 ; 192  |#define         ACTION_UP                               2               /* Press UP button */
                            21702 ; 193  |#define         ACTION_DOWN                             3               /* Press DOWN button */
                            21703 ; 194  |#define         ACTION_PLAYALL                  4               /* Play All function */
                            21704 ; 195  |#define         ACTION_MENU                             5               /* Back the browsing tree to root */
                            21705 ; 196  |
                            21706 ; 197  |#define     PLAYMODE_CURRENT_PLAYMODE_BITPOS    0
                            21707 ; 198  |#define     PLAYMODE_LAST_PLAYMODE_BITPOS       1
                            21708 ; 199  |#define     PLAYMODE_REPEAT_BITPOS              2
                            21709 ; 200  |#define     PLAYMODE_MEDIA_BITPOS               3
                            21710 ; 201  |
                            21711 ; 202  |#define         NO_SD                                   0
                            21712 ; 203  |#define         HAS_SD                                  1
                            21713 ; 204  |
                            21714 ; 205  |#define         PLAY_NORMAL                             0
                            21715 ; 206  |#define         PLAY_SHUFFLE                    1
                            21716 ; 207  |
                            21717 ; 208  |#define     PLAY_REPEAT_OFF         0
                            21718 ; 209  |#define     PLAY_REPEAT_ON          1
                            21719 ; 210  |
                            21720 ; 211  |#define     PLAY_SELECT_FLASH       0
                            21721 ; 212  |#define     PLAY_SELECT_SD          1
                            21722 ; 213  |
                            21723 ; 214  |#define         SHUFFLE_NEXT_SONG                       0
                            21724 ; 215  |#define         SHUFFLE_PREVIOUS_SONG       1
                            21725 ; 216  |
                            21726 ; 217  |#define         ON_THE_GO_EXIST                 0
                            21727 ; 218  |#define         ON_THE_GO_FULL                  1
                            21728 ; 219  |#define         ON_THE_GO_FREE                  2
                            21729 ; 220  |#define         ON_THE_GO_DEL_PLAYING   3
                            21730 ; 221  |#define         ON_THE_GO_DEL_SMALLER_ID    4
                            21731 ; 222  |
                            21732 ; 223  |#define         REC_VOICE_TYPE                  0
                            21733 ; 224  |#define         REC_FMREC_TYPE                  1
                            21734 ; 225  |#define         REC_PHOTO_TYPE                  2
                            21735 ; 226  |#define         VOICE_FILE_ADD                  0
                            21736 ; 227  |#define         VOICE_FILE_DEL                  1
                            21737 ; 228  |
                            21738 ; 229  |#define         MAX_BROWSE_WINDOW_SIZE  (8)
                            21739 ; 230  |#define         BROWSE_WINDOW_SIZE              (4)
                            21740 ; 231  |/* maximum number of song file, should not be larger than 2048 each for on-board
                            21741 ; 232  |flash or external SD card */
                            21742 ; 233  |#ifdef _SUPPORT_2000_SONGS_
                            21743 ; 234  |#define MAX_NUM_OF_SONG (2000)
                            21744 ; 235  |#else
                            21745 ; 236  |#define MAX_NUM_OF_SONG (1000)
                            21746 ; 237  |#endif // _SUPPORT_2000_SONGS_
                            21747 ; 238  |
                            21748 ; 239  |/* number of byte in one DSP word */
                            21749 ; 240  |#define NUM_OF_BYTE_IN_ONE_WORD (3)
                            21750 ; 241  |#define LEN_OF_NAME_IN_BYTE (120) /* must be an integer multiple of 3 */
                            21751 ; 242  |/* length of file pathname in byte, assuming directory and file in 8.3 format, there
                            21752 ; 243  |are 10 level directory structure */
                            21753 ; 244  |#define LEN_OF_FILEPATH_IN_BYTE (129) /* must be an integer multiple of 3 */
                            21754 ; 245  |#define LEN_OF_LONG_FILENAME_IN_BYTE (129) /* must be an integer multiple of 3 */
                            21755 ; 246  |
                            21756 ; 247  |/* number of list in new music, 1-day, 1-week, 1-month */
                            21757 ; 248  |#define NUM_OF_LIST_IN_NEW_MUSIC (3)
                            21758 ; 249  |/* number of songs in each new music list */
                            21759 ; 250  |#define NUM_OF_SONG_IN_NEW_MUSIC (40)
                            21760 ; 251  |#define NUM_OF_SONG_IN_NEW_MUSIC_DAY (20)
                            21761 ; 252  |#define NUM_OF_SONG_IN_NEW_MUSIC_WEEK (30)
                            21762 ; 253  |#define NUM_OF_SONG_IN_NEW_MUSIC_MONTH (40)
                            21763 ; 254  |/* number of songs in the on-the-fly list */
                            21764 ; 255  |#define NUM_OF_SONG_IN_ON_THE_FLY (30)
                            21765 ; 256  |/* number of files audible list */
                            21766 ; 257  |#define NUM_OF_AUDIBLE_FILE (250)
                            21767 ; 258  |
                            21768 ; 259  |#define MAX_NUM_OF_VOICE (1000)
                            21769 ; 260  |#define LEN_OF_VOICE_NAME_IN_BYTE (LEN_OF_NAME_IN_BYTE) /* must be an integer multiple of 3 */
                            21770 ; 261  |#define LEN_OF_VOICE_FILEPATH_IN_BYTE (LEN_OF_FILEPATH_IN_BYTE) /* must be an integer multiple of 3 */
                            21771 ; 262  |
                            21772 ; 263  |#define MAX_NUM_OF_FMREC (MAX_NUM_OF_VOICE)     /* _must_be_equal_voice_num_ */
                            21773 ; 264  |#define MAX_NUM_OF_PHOTO (MAX_NUM_OF_VOICE)     /* _must_be_equal_voice_num_ */
                            21774 ; 265  |#ifdef _FOLDER_BROWSE_
                            21775 ; 266  |#define MAX_NUM_OF_DIR   (1000)
                            21776 ; 267  |#else
                            21777 ; 268  |#define MAX_NUM_OF_DIR   (1)
                            21778 ; 269  |#endif  // _FOLDER_BROWSE_
                            21779 ; 270  |#define LEN_OF_FMREC_NAME_IN_BYTE (LEN_OF_NAME_IN_BYTE) /* must be an integer multiple of 3 */
                            21780 ; 271  |#define LEN_OF_FMREC_FILEPATH_IN_BYTE (LEN_OF_FILEPATH_IN_BYTE) /* must be an integer multiple of 3 */
                            21781 ; 272  |
                            21782 ; 273  |#ifndef _MAX_DIR_DEPTH
                            21783 ; 274  |#define _MAX_DIR_DEPTH  8   // referred to "playlist3internal.h"
                            21784 ; 275  |#endif  // _MAX_DIR_DEPTH
                            21785 ; 276  |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page  86

M:ADDR CODE           CYCLES LINE SOURCELINE
                            21786 ; 277  |/*==================================================================================================*/
                            21787 ; 278  |
                            21788 ; 279  |
                            21789 ; 280  |/*==================================================================================================
                            21790 ; 281  |                                               MACROS
                            21791 ; 282  |==================================================================================================*/
                            21792 ; 283  |
                            21793 ; 284  |/*==================================================================================================
                            21794 ; 285  |                                               ENUMS
                            21795 ; 286  |==================================================================================================*/
                            21796 ; 287  |#define NUM_OF_MEDIA                            (2)
                            21797 ; 288  |#define MEDIA_TYPE_FLASH                        (0)
                            21798 ; 289  |#define MEDIA_TYPE_SD                           (1)
                            21799 ; 290  |/*==================================================================================================
                            21800 ; 291  |                                     STRUCTURES AND OTHER TYPEDEFS
                            21801 ; 292  |==================================================================================================*/
                            21802 ; 293  |
                            21803 ; 294  |typedef char    int8;
                            21804 ; 295  |typedef short   int16;
                            21805 ; 296  |typedef int     int24;
                            21806 ; 297  |typedef long    int32;
                            21807 ; 298  |
                            21808 ; 299  |typedef int     intx;
                            21809 ; 300  |
                            21810 ; 301  |typedef unsigned char   uint8;
                            21811 ; 302  |typedef unsigned short  uint16;
                            21812 ; 303  |typedef unsigned int    uint24;
                            21813 ; 304  |typedef unsigned long   uint32;
                            21814 
                            21818 
                            21819 ; 305  |
                            21820 ; 306  |/*
                            21821 ; 307  |Any missing information in the name fields will be filled with Unknown in Unicode format.
                            21822 ; 308  |artist_name[] = Unknown; unicode = 0x01;
                            21823 ; 309  |album_name[] = Unknown; unicode = 0x04;
                            21824 ; 310  |genre_name[] = Unknown; unicode = 0x08;
                            21825 ; 311  |song_name[] = Unknown; unicode = 0x0F;
                            21826 ; 312  |*/
                            21827 ; 313  |/*
                            21828 ; 314  |path_name[] _must_have_data_:
                            21829 ; 315  |path_name[] = (Max. 120 Characters);
                            21830 ; 316  |year range:
                            21831 ; 317  |year = 0x000000-0xFFFFFF;
                            21832 ; 318  |DOCUMENT CONTROL NUMBER : Version : 01.01
                            21833 ; 319  |Unknown track number:
                            21834 ; 320  |track_number = 0x7FFFFF;
                            21835 ; 321  |unicode refer to above #define BITMASK_*
                            21836 ; 322  |*/
                            21837 ; 323  |/*
                            21838 ; 324  |Interface of UI and Music Library
                            21839 ; 325  |1) If file was created in ID3V1 format genre, UI will convert it to Unicode string.
                            21840 ; 326  |
                            21841 ; 327  |2) Music Library expected to reserve 128x7 words RAM for UI mapping table.
                            21842 ; 328  |
                            21843 ; 329  |3) UI to Music Library variable passing length definition:
                            21844 ; 330  |        All ASCII Characters:
                            21845 ; 331  |                Max. Number of Bytes Stored = 120 Bytes
                            21846 ; 332  |                Max. Number of Characters Stored/Display = 40 Characters
                            21847 ; 333  |        Unicode Characters:
                            21848 ; 334  |                Max. Number of Bytes Stored = 120 Bytes
                            21849 ; 335  |                Max. Number of Characters Stored/Display = 40 Characters
                            21850 ; 336  |
                            21851 ; 337  |4) UI input data to Music Library in two formats.
                            21852 ; 338  |        Formats:        1) All ASCII (24 bits data)
                            21853 ; 339  |                                2) Unicode + Mix. Non -Unicode (16 bits data)
                            21854 ; 340  |
                            21855 ; 341  |5) UI calling function:
                            21856 ; 342  |COMP_OPT_REN void ML_AddEntryToLibrary(RAM_SONG_INFO_T *song_info, int16 option);
                            21857 ; 343  |        int16 option definition:
                            21858 ; 344  |                option  = 0 - song_info struct contains a mp3/wma format file.
                            21859 ; 345  |                                = 1 - song_info struct contains a voice format file.
                            21860 ; 346  |                                = 2 - song_info struct contains a audible format file.
                            21861 ; 347  |
                            21862 ; 348  |        i) Only mp3/wma file (option = 0, 2) files will be sorted,
                            21863 ; 349  |        ii) Voice and audible(option = 1) file will be store in a voice_list and audible_list separately.
                            21864 ; 350  |
                            21865 ; 351  |6) Modification Date:
                            21866 ; 352  |        uint24 g_file_time:
                            21867 ; 353  |                YYMMDD: 12 bits - Year, 6 bits - Month, 6 - bits Date
                            21868 ; 354  |*/
                            21869 ; 355  |
                            21870 ; 356  |/* struct to store the song information passed from UI, this struct will be placed in
                            21871 ; 357  |ghdr\musiclib_ghdr.h and included in UI files*/
                            21872 ; 358  |typedef struct _ram_song_info {
                            21873 ; 359  |        uint24 artist_name[LEN_OF_NAME_IN_BYTE/NUM_OF_BYTE_IN_ONE_WORD];
                            21874 ; 360  |        uint24 album_name[LEN_OF_NAME_IN_BYTE/NUM_OF_BYTE_IN_ONE_WORD];
                            21875 ; 361  |        uint24 genre_name[LEN_OF_NAME_IN_BYTE/NUM_OF_BYTE_IN_ONE_WORD];
                            21876 ; 362  |        uint24 song_name[LEN_OF_NAME_IN_BYTE/NUM_OF_BYTE_IN_ONE_WORD];
                            21877 ; 363  |        uint24 path_name[LEN_OF_FILEPATH_IN_BYTE/NUM_OF_BYTE_IN_ONE_WORD];
                            21878 ; 364  |    uint32 g_songFastKey;
                            21879 ; 365  |        uint24 dir_name[LEN_OF_LONG_FILENAME_IN_BYTE/NUM_OF_BYTE_IN_ONE_WORD];
                            21880 ; 366  |        uint24 year;
                            21881 ; 367  |        uint24 track_number;
                            21882 ; 368  |        uint8 unicode;
                            21883 ; 369  |} RAM_SONG_INFO_T;
                            21884 ; 370  |
                            21885 ; 371  |/* struct to store the group name: artist, album and genre, in the flash */
                            21886 ; 372  |typedef struct _flash_group_name {
                            21887 ; 373  |        uint24 name[LEN_OF_NAME_IN_BYTE/NUM_OF_BYTE_IN_ONE_WORD];
                            21888 ; 374  |        uint8 unicode;
                            21889 ; 375  |} FLASH_GROUP_NAME_T;
                            21890 ; 376  |
                            21891 ; 377  |// struct to store directories information passed from UI
                            21892 ; 378  |#ifdef _FOLDER_BROWSE_
                            21893 ; 379  |typedef struct _ml_DirInfo {
                            21894 ; 380  |        uint24  u8Unicode : 8;
                            21895 ; 381  |        uint24  u12DirDepth : 12;
                            21896 ; 382  |        uint24  u4Added : 4;            
                            21897 ; 383  |        INT     iDirRecord;
                            21898 ; 384  |        DWORD   dwFastKey;
                            21899 ; 385  |        uint24  u24PathName[LEN_OF_FILEPATH_IN_BYTE/NUM_OF_BYTE_IN_ONE_WORD];
                            21900 ; 386  |} ML_DIRINFO_T;
                            21901 ; 387  |#endif  // _FOLDER_BROWSE_
                            21902 ; 388  |
                            21903 ; 389  |/*==================================================================================================
                            21904 ; 390  |                                 GLOBAL VARIABLE DECLARATIONS
                            21905 ; 391  |==================================================================================================*/
                            21906 ; 392  |extern uint24   IsPlayOnTheGo;
                            21907 
                            21913 
                            21914 ; 393  |extern FLASH_GROUP_NAME_T   browse_item_name[];
                            21915 ; 394  |extern uint24   merge_id_list_flash[];
                            21916 ; 395  |extern uint24   merge_id_list_sd[];
                            21917 ; 396  |extern INT _X   g_iBrowseWindowSize;
                            21918 ; 397  |#ifdef _FOLDER_BROWSE_
                            21919 
                            21932 
                            21933 ; 398  |extern ML_DIRINFO_T g_tDirInfoBuffer[_MAX_DIR_DEPTH];
                            21934 ; 399  |extern uint24       g_u24DirName[LEN_OF_NAME_IN_BYTE/NUM_OF_BYTE_IN_ONE_WORD];
                            21935 ; 400  |extern uint24       g_u24BrowseNumOfDirInDir[];
                            21936 ; 401  |#endif  // _FOLDER_BROWSE_
                            21937 ; 402  |extern INT _X    *sec_temp_buf_X;
                            21938 ; 403  |extern uint24   playMode;   /* bit 0 = current play mode; bit 1 = last play mode ; bit 2 = repeat on/off(0=off/1=on) */
                            21939 ; 404  |
                            21940 ; 405  |/*==================================================================================================
                            21941 ; 406  |                                        FUNCTION PROTOTYPES
                            21942 ; 407  |==================================================================================================*/
                            21943 ; 408  |
                            21944 ; 409  |///////////////////////////////////////////////////////////////////////
                            21945 ; 410  |//! \brief
                            21946 ; 411  |//!
                            21947 ; 412  |//! \fntype Function
                            21948 ; 413  |//!
                            21949 ; 414  |//! Called by UI, to initialize the parameters before insert any item.
                            21950 ; 415  |//! Call only once before inserting items. Call once for each media.
                            21951 ; 416  |//!
                            21952 ; 417  |//! \param[in]  none
                            21953 ; 418  |//!
                            21954 ; 419  |//! \return
                            21955 ; 420  |//!
                            21956 ; 421  |///////////////////////////////////////////////////////////////////////
                            21957 ; 422  |void ML_InitLibraryParameter(void);
                            21958 ; 423  |
                            21959 ; 424  |///////////////////////////////////////////////////////////////////////
                            21960 ; 425  |//! \brief
                            21961 ; 426  |//!
                            21962 ; 427  |//! \fntype Function
                            21963 ; 428  |//!
                            21964 ; 429  |//! Called by UI, the AddEntryToLibrary is the music library building
                            21965 ; 430  |//! algorithms for the flash-type memory and SD memory by sorting the song information
                            21966 ; 431  |//! by, but not limited to, album, artist, genre, year and track. Called once for each song,
                            21967 ; 432  |//! the song information is recorded in music library.
                            21968 ; 433  |//!
                            21969 ; 434  |//! \param[in]  uint24 Media_type - Possible values: MEDIA_TYPE_FLASH(=0); MEDIA_TYPE_SD(=1)
                            21970 ; 435  |//! \param[in]  RAM_SONG_INFO_T *song_info - Structure to store the song information passed from UI, this structure is defined in ghdr\musiclib_ghdr.h and included in UI files)
                            21971 ; 436  |//! \param[in]  int16 option - option = 0 -- song_info struct contains a mp3, wma or wav format file.
                            21972 ; 437  |//!
                            21973 ; 438  |//! \return
                            21974 ; 439  |//!
                            21975 ; 440  |///////////////////////////////////////////////////////////////////////
                            21976 ; 441  |void ML_AddEntryToLibrary(uint24 Media_type, RAM_SONG_INFO_T *song_info, int16 option);
                            21977 
                            21991 
                            21992 ; 442  |
                            21993 ; 443  |///////////////////////////////////////////////////////////////////////
                            21994 ; 444  |//! \brief
                            21995 ; 445  |//!
                            21996 ; 446  |//! \fntype Function
                            21997 ; 447  |//!
                            21998 ; 448  |//! \param[in]
                            21999 ; 449  |//!
                            22000 ; 450  |//! \return
                            22001 ; 451  |//!
                            22002 ; 452  |///////////////////////////////////////////////////////////////////////
                            22003 ; 453  |#ifdef _FOLDER_BROWSE_
                            22004 ; 454  |_reentrant void ML_AddDirEntryToLibrary(uint24 u24MediaType, ML_DIRINFO_T *ptDirInfo, int16 i16Option);
                            22005 ; 455  |#endif  // _FOLDER_BROWSE_
                            22006 ; 456  |
                            22007 ; 457  |///////////////////////////////////////////////////////////////////////
                            22008 ; 458  |//! \brief
                            22009 ; 459  |//!
                            22010 ; 460  |//! \fntype Function
                            22011 ; 461  |//!
                            22012 ; 462  |//! Called by UI, flush sorted and associate list to flash when no
                            22013 ; 463  |//! more song needed to be added for that media. This function finalizes the building of
                            22014 ; 464  |//! music library for that particular media.
                            22015 ; 465  |//!
                            22016 ; 466  |//! \param[in]  uint24 Media_type - Possible values: MEDIA_TYPE_FLASH(=0); MEDIA_TYPE_SD(=1)
                            22017 ; 467  |//!
                            22018 ; 468  |//! \return
                            22019 ; 469  |//!
                            22020 ; 470  |//! \note   Bulid the library first (call ML_AddEntryToLibrary) before calling this
                            22021 ; 471  |//!         function.
                            22022 ; 472  |///////////////////////////////////////////////////////////////////////
                            22023 ; 473  |_reentrant INT ML_FlushLibraryToFlash(INT Media_type, INT b, INT *c);
                            22024 ; 474  |
                            22025 ; 475  |///////////////////////////////////////////////////////////////////////
                            22026 ; 476  |//! \brief
                            22027 ; 477  |//!
                            22028 ; 478  |//! \fntype Function
                            22029 ; 479  |//!
                            22030 ; 480  |//! \param[in]
                            22031 ; 481  |//!
                            22032 ; 482  |//! \return
                            22033 ; 483  |//!
                            22034 ; 484  |///////////////////////////////////////////////////////////////////////
                            22035 ; 485  |#ifdef _NEWMUSIC_
                            22036 ; 486  |void ML_UpdateNewMusic(void);
                            22037 ; 487  |#endif
                            22038 ; 488  |
                            22039 ; 489  |///////////////////////////////////////////////////////////////////////
                            22040 ; 490  |//! \brief
                            22041 ; 491  |//!
                            22042 ; 492  |//! \fntype Function
                            22043 ; 493  |//!
                            22044 ; 494  |//! Called by UI, to initialize the file access mechanism for all music
                            22045 ; 495  |//! library operation if the music.lib file and the music.sec file exist (call
                            22046 ; 496  |//! ML_BuildSecTableFile() if these files do not exist).
                            22047 ; 497  |//!
                            22048 ; 498  |//! \param[in]  none
                            22049 ; 499  |//!
                            22050 ; 500  |//! \return
                            22051 ; 501  |//!
                            22052 ; 502  |//! \note   Either ML_Buildl2SecTable(void) or ML_BuildSecTableFile(void)
                            22053 ; 503  |//!         must be called before calling any other music library functions.
                            22054 ; 504  |///////////////////////////////////////////////////////////////////////
                            22055 ; 505  |_reentrant INT ML_Buildl2SecTable(INT a, INT b, INT *c);
                            22056 ; 506  |
                            22057 ; 507  |///////////////////////////////////////////////////////////////////////
                            22058 ; 508  |//! \brief
                            22059 ; 509  |//!
                            22060 ; 510  |//! \fntype Function
                            22061 ; 511  |//!
                            22062 ; 512  |//! Called by UI, to initialize the file access mechanism for all music
                            22063 ; 513  |//! library operation.
                            22064 ; 514  |//! Two system files (music.lib and music.sec) is created.
                            22065 ; 515  |//! Call this only if intended to generate / refresh these files, or if the music.lib file and the
                            22066 ; 516  |//! music.sec file do not exist.
                            22067 ; 517  |//!
                            22068 ; 518  |//! \param[in]  none
                            22069 ; 519  |//!
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page  87

M:ADDR CODE           CYCLES LINE SOURCELINE
                            22070 ; 520  |//! \return
                            22071 ; 521  |//!
                            22072 ; 522  |//! \note   Either ML_Buildl2SecTable(void) or ML_BuildSecTableFile(void)
                            22073 ; 523  |//!         must be called before calling any other music library functions.
                            22074 ; 524  |///////////////////////////////////////////////////////////////////////
                            22075 ; 525  |_reentrant INT ML_BuildSecTableFile(INT a, INT b, INT *c);
                            22076 ; 526  |
                            22077 ; 527  |///////////////////////////////////////////////////////////////////////
                            22078 ; 528  |//! \brief
                            22079 ; 529  |//!
                            22080 ; 530  |//! \fntype Function
                            22081 ; 531  |//!
                            22082 ; 532  |//! Preload the list, prepare for renew.
                            22083 ; 533  |//! IsColdBoot=TRUE: loads the list content and the path name to the on_the_fly_list
                            22084 ; 534  |//! structure in RAM.
                            22085 ; 535  |//! IsColdBoot=FALSE: updates the path name only, to the on_the_fly_list structure
                            22086 ; 536  |//! in RAM.
                            22087 ; 537  |//!
                            22088 ; 538  |//! \param[in]  uint24 IsColdBoot - Possible values: TRUE or FALSE
                            22089 ; 539  |//!
                            22090 ; 540  |//! \return
                            22091 ; 541  |//!
                            22092 ; 542  |//! \note   Use IsColdBoot=TRUE only once when the machine boot-up, other
                            22093 ; 543  |//!         time when you need to renew the list, use IsColdBoot=FALSE instead.
                            22094 ; 544  |///////////////////////////////////////////////////////////////////////
                            22095 ; 545  |void ML_LoadOnTheGo(uint24 IsColdBoot);
                            22096 ; 546  |
                            22097 ; 547  |///////////////////////////////////////////////////////////////////////
                            22098 ; 548  |//! \brief
                            22099 ; 549  |//!
                            22100 ; 550  |//! \fntype Function
                            22101 ; 551  |//!
                            22102 ; 552  |//! Save the list to flash memory.
                            22103 ; 553  |//!
                            22104 ; 554  |//! \param[in]
                            22105 ; 555  |//!
                            22106 ; 556  |//! \return
                            22107 ; 557  |//!
                            22108 ; 558  |//! \note   It is recommended to save the list as soon as possible after it was
                            22109 ; 559  |//!         changed by the user.
                            22110 ; 560  |///////////////////////////////////////////////////////////////////////
                            22111 ; 561  |void ML_SaveOnTheGo(void);      /* call at shutdownmenu.c to save the list */
                            22112 ; 562  |
                            22113 ; 563  |///////////////////////////////////////////////////////////////////////
                            22114 ; 564  |//! \brief
                            22115 ; 565  |//!
                            22116 ; 566  |//! \fntype Function
                            22117 ; 567  |//! When the Music Lib is rebuilding, the path of each song is
                            22118 ; 568  |//! compared with the path stored in the on_the_fly_list structure, to decide if it was in the
                            22119 ; 569  |//! list before, if so the ID is replaced by the new songID, and the song is keep in the list.
                            22120 ; 570  |//! Otherwise the song is deleted.
                            22121 ; 571  |//!
                            22122 ; 572  |//! \param[in]  uint24 Media_type - Possible values: MEDIA_TYPE_FLASH(=0); MEDIA_TYPE_SD(=1)
                            22123 ; 573  |//! \param[in]  uint24 _X * temp_path - Input value, the path of song to be checked.
                            22124 ; 574  |//! \param[in]  uint24 newID - Input value, the new songID of the song.
                            22125 ; 575  |//!
                            22126 ; 576  |//! \return
                            22127 ; 577  |//!
                            22128 ; 578  |///////////////////////////////////////////////////////////////////////
                            22129 ; 579  |void ML_ChkOnTheGo(uint24 Media_type, uint24 _X * temp_path, uint24 newID);
                            22130 ; 580  |
                            22131 ; 581  |///////////////////////////////////////////////////////////////////////
                            22132 ; 582  |//! \brief
                            22133 ; 583  |//!
                            22134 ; 584  |//! \fntype Function
                            22135 ; 585  |//!
                            22136 ; 586  |//! Set a flag for all the songs of Media_type to be keep or delete
                            22137 ; 587  |//! in the ML_UpdateOnTheGo().
                            22138 ; 588  |//!
                            22139 ; 589  |//! \param[in]  uint24 Media_type - Possible values: MEDIA_TYPE_FLASH(=0); MEDIA_TYPE_SD(=1)
                            22140 ; 590  |//! \param[in]  uint24 value - Possible values: TRUE (song will be keep in the list); INDEX_EOF (song will be deleted)
                            22141 ; 591  |//!
                            22142 ; 592  |//! \return
                            22143 ; 593  |//!
                            22144 ; 594  |///////////////////////////////////////////////////////////////////////
                            22145 ; 595  |void ML_ChOnTheGo(uint24 Media_type, uint24 value);
                            22146 ; 596  |
                            22147 ; 597  |///////////////////////////////////////////////////////////////////////
                            22148 ; 598  |//! \brief
                            22149 ; 599  |//!
                            22150 ; 600  |//! \fntype Function
                            22151 ; 601  |//!
                            22152 ; 602  |//! Before the list can be browse, call this function to finalize the list.
                            22153 ; 603  |//!
                            22154 ; 604  |//! \param[in]  none
                            22155 ; 605  |//!
                            22156 ; 606  |//! \return
                            22157 ; 607  |//!
                            22158 ; 608  |///////////////////////////////////////////////////////////////////////
                            22159 ; 609  |void ML_UpdateOnTheGo(void);
                            22160 ; 610  |
                            22161 ; 611  |///////////////////////////////////////////////////////////////////////
                            22162 ; 612  |//! \brief
                            22163 ; 613  |//!
                            22164 ; 614  |//! \fntype Function
                            22165 ; 615  |//!
                            22166 ; 616  |//! Called by UI, to initialize the parameters before insert any item.
                            22167 ; 617  |//! Call only once before inserting items. Call once for each media.
                            22168 ; 618  |//!
                            22169 ; 619  |//! \param[in]  none
                            22170 ; 620  |//!
                            22171 ; 621  |//! \return
                            22172 ; 622  |//!
                            22173 ; 623  |///////////////////////////////////////////////////////////////////////
                            22174 ; 624  |void ML_InitVoiceParameter(void);
                            22175 ; 625  |
                            22176 ; 626  |///////////////////////////////////////////////////////////////////////
                            22177 ; 627  |//! \brief
                            22178 ; 628  |//!
                            22179 ; 629  |//! \fntype Function
                            22180 ; 630  |//!
                            22181 ; 631  |//! \param[in]
                            22182 ; 632  |//!
                            22183 ; 633  |//! \return
                            22184 ; 634  |//!
                            22185 ; 635  |///////////////////////////////////////////////////////////////////////
                            22186 ; 636  |void ML_LoadVoiceParameter(uint24 Rec_type);
                            22187 ; 637  |
                            22188 ; 638  |///////////////////////////////////////////////////////////////////////
                            22189 ; 639  |//! \brief
                            22190 ; 640  |//!
                            22191 ; 641  |//! \fntype Function
                            22192 ; 642  |//!
                            22193 ; 643  |//! Called by UI, the ML_AddEntryToVoice is the voice library
                            22194 ; 644  |//! building algorithms for the flash-type memory by sorting the voice files by file names.
                            22195 ; 645  |//! Called once for each voice file, the information is recorded in music library.
                            22196 ; 646  |//!
                            22197 ; 647  |//! \param[in]  uint24 Rec_type - Possible values: REC_VOICE_TYPE(=0); REC_FMREC_TYPE(=1)
                            22198 ; 648  |//! \param[in]  RAM_SONG_INFO_T *song_info - struct to store the song information passed from UI, this struct will be placed in ghdr\musiclib_ghdr.h and included in UI files
                            22199 ; 649  |//! \param[in]  uint24 action - option = 0 // always set zero
                            22200 ; 650  |//!
                            22201 ; 651  |//! \return
                            22202 ; 652  |//!
                            22203 ; 653  |///////////////////////////////////////////////////////////////////////
                            22204 ; 654  |void ML_AddEntryToVoice(uint24 Rec_type, RAM_SONG_INFO_T *song_info, uint24 action);
                            22205 ; 655  |
                            22206 ; 656  |///////////////////////////////////////////////////////////////////////
                            22207 ; 657  |//! \brief
                            22208 ; 658  |//!
                            22209 ; 659  |//! \fntype Function
                            22210 ; 660  |//!
                            22211 ; 661  |//! Called by UI, flush sorted and associate list to flash when no
                            22212 ; 662  |//! more voice needed to be added for that media. This function finalizes the voice building
                            22213 ; 663  |//! of music library for that particular media.
                            22214 ; 664  |//!
                            22215 ; 665  |//! \param[in]  uint24 Rec_type - Possible values: REC_VOICE_TYPE(=0); REC_FMREC_TYPE(=1)
                            22216 ; 666  |//!
                            22217 ; 667  |//! \return
                            22218 ; 668  |//!
                            22219 ; 669  |//! \note   Bulid the library first (call ML_AddEntryToVoice) before calling this
                            22220 ; 670  |//!         function.
                            22221 ; 671  |///////////////////////////////////////////////////////////////////////
                            22222 ; 672  |void ML_FlushVoiceToFlash(uint24 Rec_type);
                            22223 ; 673  |
                            22224 ; 674  |///////////////////////////////////////////////////////////////////////
                            22225 ; 675  |//! \brief
                            22226 ; 676  |//!
                            22227 ; 677  |//! \fntype Function
                            22228 ; 678  |//!
                            22229 ; 679  |//! Called by UI, the merge the music library tables album,
                            22230 ; 680  |//! artist, genre, song and year.
                            22231 ; 681  |//!
                            22232 ; 682  |//! \param[in]  none
                            22233 ; 683  |//!
                            22234 ; 684  |//! \return
                            22235 ; 685  |//!
                            22236 ; 686  |///////////////////////////////////////////////////////////////////////
                            22237 ; 687  |void ML_MergeLibraryTables(void);
                            22238 ; 688  |
                            22239 ; 689  |///////////////////////////////////////////////////////////////////////
                            22240 ; 690  |//! \brief
                            22241 ; 691  |//!
                            22242 ; 692  |//! \fntype Function
                            22243 ; 693  |//!
                            22244 ; 694  |//! Called by UI, the merge the music library tables album,
                            22245 ; 695  |//! artist, genre, song and year.
                            22246 ; 696  |//!
                            22247 ; 697  |//! \param[in]  none
                            22248 ; 698  |//!
                            22249 ; 699  |//! \return
                            22250 ; 700  |//!
                            22251 ; 701  |///////////////////////////////////////////////////////////////////////
                            22252 ; 702  |INT _reentrant PathFormationPartial(_packed BYTE* dst, _packed BYTE* src, int iDepth);
                            22253 ; 703  |INT _reentrant PathFormation(_packed BYTE* dst, _packed BYTE* src, int iDepth);
                            22254 ; 704  |_reentrant void TrimUnicodeString(UCS3* pString);
                            22255 ; 705  |_reentrant void TrimPackedString(UCS3* pString);
                            22256 ; 706  |
                            22257 ; 707  |///////////////////////////////////////////////////////////////////////
                            22258 ; 708  |//! \brief
                            22259 ; 709  |//!
                            22260 ; 710  |//! \fntype Function
                            22261 ; 711  |//!
                            22262 ; 712  |//! \param[in]
                            22263 ; 713  |//!
                            22264 ; 714  |//! \return
                            22265 ; 715  |//!
                            22266 ; 716  |///////////////////////////////////////////////////////////////////////
                            22267 ; 717  |_reentrant void ML_FlushSortedListToFlash(uint24 u24MediaType);
                            22268 ; 718  |
                            22269 ; 719  |/*================================================================================================*/
                            22270 ; 720  |
                            22271 ; 721  |// Siukoon 2005-02-28
                            22272 ; 722  |#define MUSICLIB_STDRIVE_NUMBER     (0)
                            22273 ; 723  |#ifdef _SUPPORT_2000_SONGS_
                            22274 ; 724  |#define MUSICLIB_FILESIZE_IN_BYTE   (4194304L*2) // (SINGLE_DATABASE_SIZE*BYTE_PER_SECTOR)*2
                            22275 ; 725  |#else
                            22276 ; 726  |#define MUSICLIB_FILESIZE_IN_BYTE   (2097152L*2) // (SINGLE_DATABASE_SIZE*BYTE_PER_SECTOR)*2
                            22277 ; 727  |#endif  // _SUPPORT_2000_SONGS_
                            22278 ; 728  |#define MUSICLIB_FLASHPART_FILESIZE_IN_BYTE   (MUSICLIB_FILESIZE_IN_BYTE/2)
                            22279 ; 729  |#define WORD_PER_SECTOR             (171)
                            22280 ; 730  |#define BYTE_PER_SECTOR             (512)
                            22281 ; 731  |#define MUSICLIB_FILESIZE_IN_SECTOR (MUSICLIB_FILESIZE_IN_BYTE/BYTE_PER_SECTOR)
                            22282 ; 732  |#define MUSICLIB_FLASHPART_FILESIZE_IN_SECTOR (MUSICLIB_FLASHPART_FILESIZE_IN_BYTE/BYTE_PER_SECTOR)
                            22283 ; 733  |
                            22284 ; 734  |#define LB_BYTE_PER_SECTOR          (2048)
                            22285 ; 735  |#define LB_MUSICLIB_FILESIZE_IN_SECTOR (MUSICLIB_FILESIZE_IN_BYTE/LB_BYTE_PER_SECTOR)
                            22286 ; 736  |#define LB_MUSICLIB_FLASHPART_FILESIZE_IN_SECTOR (MUSICLIB_FLASHPART_FILESIZE_IN_BYTE/LB_BYTE_PER_SECTOR)
                            22287 ; 737  |
                            22288 ; 738  |#define MUSICLIB_FAT_ERROR_NOT_ENOUGH_MEDIA_SPACE       1
                            22289 ; 739  |#define MUSICLIB_FAT_ERROR_CREATE_FILE                  2
                            22290 ; 740  |#define MUSICLIB_FAT_ERROR_DELETE_FILE                  3
                            22291 ; 741  |#define MUSICLIB_FAT_ERROR_OPEN_FILE                    4
                            22292 ; 742  |
                            22293 ; 743  |/////////////////////
                            22294 ; 744  |
                            22295 ; 745  |#define LONG_SIZE_IN_BYTE                               (6)
                            22296 ; 746  |
                            22297 ; 747  |#ifdef _SUPPORT_2000_SONGS_
                            22298 ; 748  |#define SEC_TABLE_SIZE_IN_LONG                  (16384) // DATABASE_SIZE
                            22299 ; 749  |#else
                            22300 ; 750  |#define SEC_TABLE_SIZE_IN_LONG                  (8192)  // DATABASE_SIZE
                            22301 ; 751  |#endif // _SUPPORT_2000_SONGS_
                            22302 ; 752  |#define SEC_TABLE_SIZE_IN_BYTE                  (SEC_TABLE_SIZE_IN_LONG*LONG_SIZE_IN_BYTE)
                            22303 ; 753  |
                            22304 ; 754  |#define SEC_TABLE_FLASHPART_SIZE_IN_LONG        (SEC_TABLE_SIZE_IN_LONG/2)
                            22305 ; 755  |#define SEC_TABLE_FLASHPART_SIZE_IN_BYTE        (SEC_TABLE_SIZE_IN_BYTE/2)
                            22306 ; 756  |
                            22307 ; 757  |#define NUM_OF_LONG_PER_512SEC          (85)    // 512/6=>85
                            22308 ; 758  |#ifdef _SUPPORT_2000_SONGS_
                            22309 ; 759  |#define NUM_OF_LEVEL2_SEC                               (194)   /* 97x2 */
                            22310 ; 760  |#define NUM_OF_LEVEL2_FLASHPART_SEC             (97)    /* 8192/85 */
                            22311 ; 761  |#else
                            22312 ; 762  |#define NUM_OF_LEVEL2_SEC                               (98)    /* 49x2 */
                            22313 ; 763  |#define NUM_OF_LEVEL2_FLASHPART_SEC             (49)    /* 4096/85 */
                            22314 ; 764  |#endif // _SUPPORT_2000_SONGS_
                            22315 ; 765  |#define LEVEL2_TABLE_SIZE                               (NUM_OF_LEVEL2_SEC*2)
                            22316 ; 766  |#define SEC_TABLE_FLASH_START_SEC               (0x00)
                            22317 ; 767  |#define SEC_TABLE_SD_START_SEC                  (NUM_OF_LEVEL2_FLASHPART_SEC)
                            22318 ; 768  |
                            22319 ; 769  |#define SEC_TABLE_FILESIZE_IN_BYTE              (BYTE_PER_SECTOR*NUM_OF_LEVEL2_SEC)
                            22320 ; 770  |#ifdef _SUPPORT_2000_SONGS_
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page  88

M:ADDR CODE           CYCLES LINE SOURCELINE
                            22321 ; 771  |#define BYTE_FILL_INTERDB_GAP                   (320)   // 512-((8192-(85*96))*6)
                            22322 ; 772  |#else
                            22323 ; 773  |#define BYTE_FILL_INTERDB_GAP                   (((NUM_OF_LEVEL2_FLASHPART_SEC*NUM_OF_LONG_PER_512SEC)-SEC_TABLE_FLASHPART_SIZE_IN_LONG)*LONG_SIZE_IN_BYTE+2)
                            22324 ; 774  |#endif  // _SUPPORT_2000_SONGS_
                            22325 ; 775  |
                            22326 ; 776  |#define LB_SEC_TABLE_SIZE_IN_LONG                       (LB_MUSICLIB_FILESIZE_IN_SECTOR)
                            22327 ; 777  |#define LB_SEC_TABLE_SIZE_IN_BYTE                       (LB_SEC_TABLE_SIZE_IN_LONG*LONG_SIZE_IN_BYTE)
                            22328 ; 778  |
                            22329 ; 779  |#define LB_SEC_TABLE_FLASHPART_SIZE_IN_LONG     (LB_SEC_TABLE_SIZE_IN_LONG/2)
                            22330 ; 780  |#define LB_SEC_TABLE_FLASHPART_SIZE_IN_BYTE     (LB_SEC_TABLE_SIZE_IN_BYTE/2)
                            22331 ; 781  |
                            22332 ; 782  |#define NUM_OF_LONG_PER_2048SEC                     (341)   // 2048/6=>341
                            22333 ; 783  |#ifdef _SUPPORT_2000_SONGS_
                            22334 ; 784  |#define NUM_OF_LEVEL2_2048SEC                           (49)    // 16384/341=>49
                            22335 ; 785  |#define NUM_OF_LEVEL2_FLASHPART_2048SEC         (25)    /* 8192/341=>25 */
                            22336 ; 786  |#else
                            22337 ; 787  |#define NUM_OF_LEVEL2_2048SEC                           (25)    // 8192/341=>25
                            22338 ; 788  |#define NUM_OF_LEVEL2_FLASHPART_2048SEC         (13)    /* 4096/341=>13 */
                            22339 ; 789  |#endif // _SUPPORT_2000_SONGS_
                            22340 ; 790  |
                            22341 ; 791  |#ifdef _SUPPORT_2000_SONGS_
                            22342 ; 792  |#define BYTE_FILL_INTERDB_GAP_2048                      (2000)  // 2048-((8192-(341*24))*6)
                            22343 ; 793  |#define BYTE_FILL_INTERDB_2ND_GAP_2048      (2532)  // 99328-96796
                            22344 ; 794  |#else
                            22345 ; 795  |#define BYTE_FILL_INTERDB_GAP_2048                      (((341-4)*6)+2) //2024
                            22346 ; 796  |#define BYTE_FILL_INTERDB_2ND_GAP_2048      (2556)  // 50176-47620
                            22347 ; 797  |#endif // _SUPPORT_2000_SONGS_
                            22348 ; 798  |
                            22349 ; 799  |#ifdef __cplusplus
                            22350 ; 800  |}
                            22351 ; 801  |#endif
                            22352 ; 802  |
                            22353 ; 803  |#endif  /* MUSICLIB_GHDR_H */
                            22354 
                            22356 
                            22357 ; 6    |#include "fsapi.h"
                            22358 
                            22360 
                            22361 ; 1    |#ifndef _FSAPI_H_
                            22362 ; 2    |#define _FSAPI_H_
                            22363 ; 3    |#include "filespec.h"
                            22364 
                            22366 
                            22367 ; 1    |#ifndef _FILESPEC_H_
                            22368 ; 2    |#define _FILESPEC_H_
                            22369 ; 3    |#include  "fstypes.h"
                            22370 
                            22372 
                            22373 ; 1    |#ifndef _FS_TYPE_H_
                            22374 ; 2    |#define _FS_TYPE_H_
                            22375 ; 3    |
                            22376 ; 4    |#include   "types.h"
                            22377 
                            22379 
                            22380 ; 1    |////////////////////////////////////////////////////////////////////////////////
                            22381 ; 2    |// Copyright(C) SigmaTel, Inc. 2000-2004
                            22382 ; 3    |//
                            22383 ; 4    |// Filename: types.h
                            22384 ; 5    |// Description: Standard data types
                            22385 ; 6    |////////////////////////////////////////////////////////////////////////////////
                            22386 ; 7    |
                            22387 ; 8    |#ifndef _TYPES_H
                            22388 ; 9    |#define _TYPES_H
                            22389 ; 10   |
                            22390 ; 11   |// TODO:  move this outta here!
                            22391 ; 12   |#if !defined(NOERROR)
                            22392 ; 13   |#define NOERROR 0
                            22393 ; 14   |#define SUCCESS 0
                            22394 ; 15   |#endif 
                            22395 ; 16   |#if !defined(SUCCESS)
                            22396 ; 17   |#define SUCCESS  0
                            22397 ; 18   |#endif
                            22398 ; 19   |#if !defined(ERROR)
                            22399 ; 20   |#define ERROR   -1
                            22400 ; 21   |#endif
                            22401 ; 22   |#if !defined(FALSE)
                            22402 ; 23   |#define FALSE 0
                            22403 ; 24   |#endif
                            22404 ; 25   |#if !defined(TRUE)
                            22405 ; 26   |#define TRUE  1
                            22406 ; 27   |#endif
                            22407 ; 28   |
                            22408 ; 29   |#if !defined(NULL)
                            22409 ; 30   |#define NULL 0
                            22410 ; 31   |#endif
                            22411 ; 32   |
                            22412 ; 33   |#define MAX_INT     0x7FFFFF
                            22413 ; 34   |#define MAX_LONG    0x7FFFFFffffff
                            22414 ; 35   |        // max positive unsigned long value: -1 == 0xFFFFFFffffff
                            22415 ; 36   |#define MAX_ULONG   (-1) 
                            22416 ; 37   |
                            22417 ; 38   |#define WORD_SIZE   24              // word size in bits
                            22418 ; 39   |#define BYTES_PER_WORD 3            // 8 bit bytes
                            22419 ; 40   |
                            22420 ; 41   |
                            22421 ; 42   |#define BYTE    unsigned char       // btVarName
                            22422 ; 43   |#define CHAR    signed char         // cVarName
                            22423 ; 44   |#define USHORT  unsigned short      // usVarName
                            22424 ; 45   |#define SHORT   unsigned short      // sVarName
                            22425 ; 46   |#define WORD    unsigned int        // wVarName
                            22426 ; 47   |#define INT     signed int          // iVarName
                            22427 ; 48   |#define DWORD   unsigned long       // dwVarName
                            22428 ; 49   |#define LONG    signed long         // lVarName
                            22429 ; 50   |#define BOOL    unsigned int        // bVarName
                            22430 ; 51   |#define FRACT   _fract              // frVarName
                            22431 ; 52   |#define LFRACT  long _fract         // lfrVarName
                            22432 ; 53   |#define CIRC    _circ               // cp<type prefix>VarName (see below)
                            22433 ; 54   |#define FLOAT   float               // fVarName
                            22434 ; 55   |#define DBL     double              // dVarName
                            22435 ; 56   |#define ENUM    enum                // eVarName
                            22436 ; 57   |#define CMX     _complex            // cmxVarName
                            22437 ; 58   |typedef WORD UCS3;                   // 
                            22438 ; 59   |
                            22439 ; 60   |#define UINT16  unsigned short
                            22440 ; 61   |#define UINT8   unsigned char   
                            22441 ; 62   |#define UINT32  unsigned long
                            22442 ; 63   |#define UINT64  unsigned long   // need to figure out how to do 64 bit values.  Or port exisiting code to only use 48 bit
                            22443 ; 64   |#define INT64   unsigned long   // need to figure out how to do 64 bit values.  Or port exisiting code to only use 48 bit
                            22444 ; 65   |#define WCHAR   UINT16
                            22445 ; 66   |
                            22446 ; 67   |//UINT128 is 16 bytes or 6 words
                            22447 ; 68   |typedef struct UINT128_3500 {   
                            22448 ; 69   |    int val[6];     
                            22449 ; 70   |} UINT128_3500;
                            22450 ; 71   |
                            22451 ; 72   |#define UINT128   UINT128_3500
                            22452 ; 73   |
                            22453 ; 74   |// Little endian word packed byte strings:   
                            22454 ; 75   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                            22455 ; 76   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                            22456 ; 77   |// Little endian word packed byte strings:   
                            22457 ; 78   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                            22458 ; 79   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                            22459 ; 80   |
                            22460 ; 81   |// Declare Memory Spaces To Use When Coding
                            22461 ; 82   |// A. Sector Buffers
                            22462 ; 83   |#define SECTOR_BUFFER_MEM_X _X
                            22463 ; 84   |#define SECTOR_BUFFER_MEM_Y _Y
                            22464 ; 85   |#define SECTOR_BUFFER_MEM SECTOR_BUFFER_MEM_X
                            22465 ; 86   |typedef WORD SECTOR_BUFFER_MEM SECTOR_BUFFER;
                            22466 ; 87   |typedef SECTOR_BUFFER * P_SECTOR_BUFFER;
                            22467 ; 88   |// B. Media DDI Memory
                            22468 ; 89   |#define MEDIA_DDI_MEM _Y
                            22469 ; 90   |
                            22470 ; 91   |
                            22471 ; 92   |
                            22472 ; 93   |// Pointers to linear structures are labeled as: p<type prefix>VarName
                            22473 ; 94   |// Examples of circular pointers:
                            22474 ; 95   |//    INT CIRC cpiVarName
                            22475 ; 96   |//    DWORD CIRC cpdwVarName
                            22476 ; 97   |
                            22477 ; 98   |#define RETCODE INT                 // rcVarName
                            22478 ; 99   |
                            22479 ; 100  |// generic bitfield structure
                            22480 ; 101  |struct Bitfield {
                            22481 ; 102  |    unsigned int B0  :1;
                            22482 ; 103  |    unsigned int B1  :1;
                            22483 ; 104  |    unsigned int B2  :1;
                            22484 ; 105  |    unsigned int B3  :1;
                            22485 ; 106  |    unsigned int B4  :1;
                            22486 ; 107  |    unsigned int B5  :1;
                            22487 ; 108  |    unsigned int B6  :1;
                            22488 ; 109  |    unsigned int B7  :1;
                            22489 ; 110  |    unsigned int B8  :1;
                            22490 ; 111  |    unsigned int B9  :1;
                            22491 ; 112  |    unsigned int B10 :1;
                            22492 ; 113  |    unsigned int B11 :1;
                            22493 ; 114  |    unsigned int B12 :1;
                            22494 ; 115  |    unsigned int B13 :1;
                            22495 ; 116  |    unsigned int B14 :1;
                            22496 ; 117  |    unsigned int B15 :1;
                            22497 ; 118  |    unsigned int B16 :1;
                            22498 ; 119  |    unsigned int B17 :1;
                            22499 ; 120  |    unsigned int B18 :1;
                            22500 ; 121  |    unsigned int B19 :1;
                            22501 ; 122  |    unsigned int B20 :1;
                            22502 ; 123  |    unsigned int B21 :1;
                            22503 ; 124  |    unsigned int B22 :1;
                            22504 ; 125  |    unsigned int B23 :1;
                            22505 ; 126  |};
                            22506 ; 127  |
                            22507 ; 128  |union BitInt {
                            22508 ; 129  |        struct Bitfield B;
                            22509 ; 130  |        int        I;
                            22510 ; 131  |};
                            22511 ; 132  |
                            22512 ; 133  |#define MAX_MSG_LENGTH 10
                            22513 ; 134  |struct CMessage
                            22514 ; 135  |{
                            22515 ; 136  |        unsigned int m_uLength;
                            22516 ; 137  |        unsigned int m_uMsg[MAX_MSG_LENGTH];
                            22517 ; 138  |};
                            22518 ; 139  |
                            22519 ; 140  |typedef struct {
                            22520 ; 141  |    WORD m_wLength;
                            22521 ; 142  |    WORD m_wMessage;
                            22522 ; 143  |    WORD m_wParams[MAX_MSG_LENGTH];
                            22523 ; 144  |} Message;
                            22524 ; 145  |
                            22525 ; 146  |struct MessageQueueDescriptor
                            22526 ; 147  |{
                            22527 ; 148  |        int *m_pBase;
                            22528 ; 149  |        int m_iModulo;
                            22529 ; 150  |        int m_iSize;
                            22530 ; 151  |        int *m_pHead;
                            22531 ; 152  |        int *m_pTail;
                            22532 ; 153  |};
                            22533 ; 154  |
                            22534 ; 155  |struct ModuleEntry
                            22535 ; 156  |{
                            22536 ; 157  |    int m_iSignaledEventMask;
                            22537 ; 158  |    int m_iWaitEventMask;
                            22538 ; 159  |    int m_iResourceOfCode;
                            22539 ; 160  |    struct MessageQueueDescriptor *m_pMessageQueue;
                            22540 ; 161  |    int _asmfunc (*m_pProcessEntryPoint)(union WaitMask Signals,struct MessageQueueDescriptor *);
                            22541 ; 162  |    int _asmfunc (*m_pInitFunction)(struct MessageQueueDescriptor *);
                            22542 ; 163  |    int m_uTimeOutHigh;
                            22543 ; 164  |    int m_uTimeOutLow;
                            22544 ; 165  |    int _asmfunc (*m_pBackgroundFunction)(struct MessageQueueDescriptor *);
                            22545 ; 166  |};
                            22546 ; 167  |
                            22547 ; 168  |union WaitMask{
                            22548 ; 169  |    struct B{
                            22549 ; 170  |        unsigned int m_bNone     :1;
                            22550 ; 171  |        unsigned int m_bMessage  :1;
                            22551 ; 172  |        unsigned int m_bTimer    :1;
                            22552 ; 173  |        unsigned int m_bButton   :1;
                            22553 ; 174  |    } B;
                            22554 ; 175  |    int I;
                            22555 ; 176  |} ;
                            22556 ; 177  |
                            22557 ; 178  |
                            22558 ; 179  |struct Button {
                            22559 ; 180  |        WORD wButtonEvent;
                            22560 ; 181  |        WORD wUnused[MAX_MSG_LENGTH];   
                            22561 ; 182  |};
                            22562 ; 183  |
                            22563 ; 184  |struct Message {
                            22564 ; 185  |        WORD wMsgLength;
                            22565 ; 186  |        WORD wMsgCommand;
                            22566 ; 187  |        WORD wMsgParms[MAX_MSG_LENGTH-1];
                            22567 ; 188  |};
                            22568 ; 189  |
                            22569 ; 190  |union EventTypes {
                            22570 ; 191  |        struct CMessage msg;
                            22571 ; 192  |        struct Button Button ;
                            22572 ; 193  |        struct Message Message;
                            22573 ; 194  |};
                            22574 ; 195  |
                            22575 ; 196  |// next 2 used to get updater build to return correct protocol ver in scsi response.
                            22576 ; 197  |#define BUILD_TYPE_UPDATER  0x100
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page  89

M:ADDR CODE           CYCLES LINE SOURCELINE
                            22577 ; 198  |#define BUILD_TYPE_HOSTLINK 0x101
                            22578 ; 199  |#define BUILD_TYPE_PLAYER   0x102
                            22579 ; 200  |
                            22580 ; 201  |// Resets part if RETAIL build. DEBUG build executes debug instruction to halt.
                            22581 ; 202  |#define SystemHalt() __asm(" include 'sysmacro.asm' \n error") 
                            22582 ; 203  |#define assert(x)    if(!(x)) __asm(" include 'sysmacro.asm' \n error")
                            22583 ; 204  |
                            22584 ; 205  |#if DEBUG
                            22585 ; 206  |// For DEBUG builds, DebugBuildAssert(condition) halts if condition evaluates to FALSE. 
                            22586 ; 207  |#define DebugBuildAssert(x)    if(!(x)) __asm(" debug ")
                            22587 ; 208  |#else 
                            22588 ; 209  |// For RETAIL builds, DebugBuildAssert(condition) does nothing & execution continues rather than halt or reset. 
                            22589 ; 210  |#define DebugBuildAssert(x)    
                            22590 ; 211  |#endif
                            22591 ; 212  |
                            22592 ; 213  |// Do this in your C files to make a reminder that's displayed during the build.
                            22593 ; 214  |//  #pragma asm
                            22594 ; 215  |//  WARN 'Note to builder: reminder to do this after verifying that'
                            22595 ; 216  |//  #pragma endasm
                            22596 ; 217  |
                            22597 ; 218  |
                            22598 ; 219  |#ifdef COLOR_262K
                            22599 ; 220  |#define RGB(r,g,b)    ((0x0000FC & (r)) << 10) | ((0x0000FC & (g)) << 4) | ((0x0000FC & (b)) >> 2)    //262k
                            22600 ; 221  |#elif defined(COLOR_65K)
                            22601 ; 222  |#define RGB(r,g,b)    ((0x0000F8 & (r)) << 8) | ((0x0000FC & (g)) << 3) | ((0x0000F8 & (b)) >> 3)  //65k
                            22602 ; 223  |#else
                            22603 ; 224  |#define RGB(r,g,b)       ((0x0000F0 & (r)) << 4) | (0x0000F0 & (g)) | ((0x0000F0 & (b)) >> 4)
                            22604 ; 225  |#endif
                            22605 ; 226  |    
                            22606 ; 227  |#endif // #ifndef _TYPES_H
                            22607 
                            22609 
                            22610 ; 5    |
                            22611 ; 6    |// move FSMEDIA_TABLE from devicetable.h  15Apr2005   First moved in SDK2.6.
                            22612 ; 7    |typedef struct
                            22613 ; 8    |{
                            22614 ; 9    |
                            22615 ; 10   |INT     _Y BytesPerSector;
                            22616 ; 11   |INT     _Y SectorsPerCluster;
                            22617 ; 12   |INT     _Y RsvdSectors;
                            22618 ; 13   |INT     _Y NoOfFATs;
                            22619 ; 14   |INT     _Y MaxRootDirEntries;
                            22620 ; 15   |LONG    _Y TotalSectors;
                            22621 ; 16   |LONG    _Y FATSize;
                            22622 ; 17   |LONG    _Y RootdirCluster;
                            22623 ; 18   |//INT   _Y FSInfoSector;
                            22624 ; 19   |//INT   _Y BkBootSector;
                            22625 ; 20   |LONG    _Y NextFreeCluster;
                            22626 ; 21   |LONG    _Y TotalFreeClusters;
                            22627 ; 22   |INT     _Y RootDirSectors;
                            22628 ; 23   |INT     _Y FIRSTDataSector;
                            22629 ; 24   |INT    _Y FATType;
                            22630 ; 25   |LONG   _Y TotalNoofclusters;
                            22631 ; 26   |INT    _Y ClusterMask;
                            22632 ; 27   |INT    _Y ClusterShift;
                            22633 ; 28   |INT    _Y SectorShift;
                            22634 ; 29   |INT    _Y SectorMask;
                            22635 ; 30   |INT    _Y DevicePresent;
                            22636 ; 31   |LONG   _Y FirRootdirsec;
                            22637 ; 32   |INT             _Y FSInfoSector;
                            22638 ; 33   |}FSMEDIA_TABLE;
                            22639 ; 34   |
                            22640 ; 35   |
                            22641 ; 36   |#define         MAXDEVICES              2
                            22642 ; 37   |//#define       NUMCACHES               8  // this is already in fsproj.h (2 for player 2 for mtp as of 28jun2005) TOVERIFY 2 ok for player and mtp. 
                            22643 ; 38   |
                            22644 ; 39   |// NOTE:  This offset is the same no matter what the sector actual size!  
                            22645 ; 40   |//        TOVERIFY 3.0 doesn't have this defined but uses it in filesystempresent.c. lbmlc def'd it here so I insert it here.
                            22646 ; 41   |#define         FATFS_SIGNATURE_OFFSET  510
                            22647 ; 42   |#define         BOOTSECTOR              0
                            22648 ; 43   |#define     FSINFOSECTOR        1
                            22649 ; 44   |
                            22650 ; 45   |#define     READ_MODE           1
                            22651 ; 46   |#define     WRITE_MODE          2
                            22652 ; 47   |#define     APPEND_MODE         4
                            22653 ; 48   |#define     SEQ_WRITE_MODE      8
                            22654 ; 49   |#define     DIRECTORY_MODE         16
                            22655 ; 50   |#define     CREATE_MODE        32
                            22656 ; 51   |
                            22657 ; 52   |#define     RPLUS               5
                            22658 ; 53   |#define     WPLUS                   6
                            22659 ; 54   |#define     APLUS               7
                            22660 ; 55   |
                            22661 ; 56   |
                            22662 ; 57   |
                            22663 ; 58   |#define     X_MEMORY            0
                            22664 ; 59   |#define     Y_MEMORY            2
                            22665 ; 60   |#define     P_MEMORY            4
                            22666 ; 61   |
                            22667 ; 62   |#define     FAT12               0 
                            22668 ; 63   |#define     FAT16               1   
                            22669 ; 64   |#define     FAT32               2 
                            22670 ; 65   |
                            22671 ; 66   |
                            22672 ; 67   |#define FAT12EOF            0x0FFF
                            22673 ; 68   |#define FAT16EOF            0xFFFF
                            22674 ; 69   |#define FAT32EOF            0x0FFFFFFF
                            22675 ; 70   |
                            22676 ; 71   |
                            22677 ; 72   |
                            22678 ; 73   |#define FAT12FREECX         0x000
                            22679 ; 74   |#define FAT16FREECX         0x0000
                            22680 ; 75   |#define FAT32FREECX         0x00000000
                            22681 ; 76   |
                            22682 ; 77   |
                            22683 ; 78   |#define  DBCS               1
                            22684 ; 79   |#define  UNICODE            2
                            22685 ; 80   |
                            22686 ; 81   |
                            22687 ; 82   |#define     CREATION_DATE       1
                            22688 ; 83   |#define     CREATION_TIME       2
                            22689 ; 84   |#define     MODIFICATION_DATE   3
                            22690 ; 85   |#define     MODIFICATION_TIME   4
                            22691 ; 86   |
                            22692 ; 87   |
                            22693 ; 88   |#define     READ_ONLY      0X01
                            22694 ; 89   |#define     HIDDEN         0X02
                            22695 ; 90   |#define     SYSTEM         0X04
                            22696 ; 91   |#define     VOLUME_ID      0X08
                            22697 ; 92   |#define     DIRECTORY      0X10
                            22698 ; 93   |#define     ARCHIVE        0X20
                            22699 ; 94   |
                            22700 ; 95   |#define READCOUNTER         105
                            22701 ; 96   |#define WRITECOUNTER        100
                            22702 ; 97   |#define FLUSHCOUNTER        200
                            22703 ; 98   |
                            22704 ; 99   |
                            22705 ; 100  |#define DEFAULT_MEMORY      Y_MEMORY
                            22706 ; 101  |
                            22707 ; 102  |#define  CWD_HANDLE           0
                            22708 ; 103  |#define  DIRECTORY_HANDLE     1
                            22709 ; 104  |#define  FIRST_VALID_HANDLE   2
                            22710 ; 105  |#define  END_OF_DIR_PATH      3
                            22711 ; 106  |
                            22712 ; 107  |//Constants for Sector read and write (Normal and FAT 
                            22713 ; 108  |#define         NORMALTYPE              0
                            22714 ; 109  |#define         FATTYPE                 1
                            22715 ; 110  |#define     RAWTYPE         2
                            22716 ; 111  |
                            22717 ; 112  |#define  SHORTNAMERES_CH      6
                            22718 ; 113  |#define  LONGNAMERES_CH       9
                            22719 ; 114  |#define  MAXFILENAME_CH       260
                            22720 ; 115  |
                            22721 ; 116  |#define VOLUME_TYPE          0
                            22722 ; 117  |#define DIR_TYPE             1
                            22723 ; 118  |#define FILE_TYPE            2
                            22724 ; 119  |                                           
                            22725 ; 120  |#define WRITE_TYPE_RANDOM               0
                            22726 ; 121  |#define WRITE_TYPE_SEQ_FIRST    1
                            22727 ; 122  |#define WRITE_TYPE_SEQ_NEXT             2
                            22728 ; 123  |#define WRITE_TYPE_NOREADBACK   3
                            22729 ; 124  |                  
                            22730 ; 125  |
                            22731 ; 126  |#define     HANDLEENTRYSIZE         19
                            22732 ; 127  |
                            22733 ; 128  |// DEVICERECORDSIZE is now only defined in cachedef.h so deleted from here in first 3.1 prelim 
                            22734 ; 129  |
                            22735 ; 130  |#define     CACHEDESCRSIZE          8
                            22736 ; 131  |#define     CACHEBUFSIZE            705
                            22737 ; 132  |
                            22738 ; 133  |#define     UCS2s                     0
                            22739 ; 134  |#define     UCS3s                     1
                            22740 ; 135  |
                            22741 ; 136  |#define     FAT32FSIFREECOUNTSIZE       4
                            22742 ; 137  |
                            22743 ; 138  |#endif // _FS_TYPE_H_
                            22744 ; 139  |
                            22745 
                            22747 
                            22748 ; 4    |#define MAX_FILESNAME   13
                            22749 ; 5    |
                            22750 ; 6    |typedef struct {
                            22751 ; 7    |    INT     gCurrentRecord;
                            22752 ; 8    |    INT     DirAttribute;
                            22753 ; 9    |    _packed char    FileName[9];
                            22754 ; 10   |    _packed char    FileExtension[4];
                            22755 ; 11   |}FILESPEC;
                            22756 ; 12   |
                            22757 ; 13   |typedef struct {
                            22758 ; 14   |    INT attrib;
                            22759 ; 15   |        LONG FileSize;
                            22760 ; 16   |    int  device;
                            22761 ; 17   |    INT startrecord;
                            22762 ; 18   |    _packed char name[MAX_FILESNAME];
                            22763 ; 19   |        LONG Key;
                            22764 ; 20   |}Finddata;
                            22765 ; 21   |#endif
                            22766 ; 22   |
                            22767 
                            22769 
                            22770 ; 4    |extern _reentrant LONG Ftell(INT HandleNumber);
                            22771 ; 5    |extern _reentrant LONG Feof(INT HandleNumber);
                            22772 ; 6    |extern _reentrant INT *Fputs(INT HandleNumber,INT *Buffer);
                            22773 ; 7    |extern _reentrant LONG Fread(INT HandleNumber,INT *Buffer,LONG NumBytesToRead,INT Source_Memory,INT MOdulo);
                            22774 ; 8    |extern _reentrant INT Fgetc(INT HandleNumber);
                            22775 ; 9    |extern _reentrant INT Fputc(INT HandleNumber,INT ByteToWrite);
                            22776 ; 10   |extern _reentrant LONG ReadDirectoryRecord(INT HandleNumber,INT RecordNumber,INT *Buffer);
                            22777 ; 11   |extern _reentrant INT Fseek(INT HandleNumber,LONG NumBytesToSeek,INT SeekPosition);
                            22778 ; 12   |extern _reentrant INT Fopen(_packed char *filepath,_packed char *mode);
                            22779 ; 13   |extern _reentrant LONG Fwrite(INT HandleNumber,INT  *Buffer,LONG NumBytesToWrite,INT Source_Memory,INT MOdulo);
                            22780 ; 14   |extern _reentrant LONG Totalfreecluster(INT DeviceNum);
                            22781 ; 15   |extern _reentrant INT Rmdir(_packed char *filepath);
                            22782 ; 16   |extern _reentrant INT Rmdirw(_packed char *filepath);
                            22783 ; 17   |extern _reentrant INT Mkdir(_packed char *filepath);
                            22784 ; 18   |
                            22785 ; 19   |        //      SGTL-HK 27-05-2005
                            22786 ; 20   |extern _reentrant INT Mkdirw(UCS3 *filepath);
                            22787 ; 21   |
                            22788 ; 22   |extern _reentrant INT Chdir(_packed char *filepath);
                            22789 ; 23   |extern _reentrant INT FastOpen(LONG Key,_packed char *mode);
                            22790 ; 24   |
                            22791 ; 25   |extern _reentrant INT Setcwd(_packed char *filepath, _packed char *gCworkingDir,INT index,INT length);
                            22792 ; 26   |extern _reentrant _packed char *Getcwd(void);
                            22793 ; 27   |extern  _reentrant _packed char *Fgets(INT HandleNumber,INT NumBytesToRead, _packed char *Buffer);
                            22794 ; 28   |extern INT  FSInit(INT _X *bufx, INT _Y *bufy, INT maxdevices, INT maxhandles, INT maxcaches);
                            22795 ; 29   |extern INT  FlushCache(void);
                            22796 ; 30   |extern _reentrant INT FsShutDown(void);
                            22797 ; 31   |extern _reentrant LONG GetFileSize(INT HandleNumber);
                            22798 ; 32   |
                            22799 ; 33   |extern _reentrant INT filegetattrib(_packed char *FilePath);
                            22800 ; 34   |extern _reentrant INT Fopenw(INT *filepath,_packed char *mode);
                            22801 ; 35   |extern _reentrant INT Fremove(_packed char *filepath);
                            22802 ; 36   |extern _reentrant INT Fremovew(_packed char *filepath);
                            22803 ; 37   |extern _reentrant void DBCSToUnicode(_packed unsigned char *pDBCS, WORD *pUnicode,INT iLength);
                            22804 ; 38   |extern INT FlushCache(void);
                            22805 ; 39   |extern _reentrant INT DeleteTree(_packed char *Path);
                            22806 ; 40   |extern _reentrant INT Fclose(INT HandleNumber);
                            22807 ; 41   |extern INT FSMediaPresent(INT DeviceNum);
                            22808 ; 42   |extern INT FSFATType (INT DeviceNum);
                            22809 ; 43   |extern  INT _reentrant  GetVolumeLabel(_packed char *Buffer,INT DeviceNum);
                            22810 ; 44   |extern _reentrant INT SetVolumeLabel(_packed char *Buffer,INT DeviceNum);
                            22811 ; 45   |extern _reentrant LONG FgetFastHandle(INT HandleNumber);
                            22812 ; 46   |
                            22813 ; 47   |extern _reentrant INT ConstructLongFileName(INT HandleNumber, INT RecordNumber, INT *LFNBuffer);
                            22814 ; 48   |extern _reentrant void Uppercase(_packed char *file); 
                            22815 ; 49   |extern _reentrant INT FindNext(INT HandleNumber,Finddata *_finddata);
                            22816 
                            22826 
                            22827 ; 50   |extern _reentrant INT FindFirst(Finddata *_finddata,_packed char *FileName);
                            22828 ; 51   |extern _reentrant void ClearData(Finddata *_finddata);
                            22829 ; 52   |extern _reentrant INT GetShortfilename(LONG Key,INT *Buffer);
                            22830 ; 53   |
                            22831 ; 54   |
                            22832 ; 55   |
                            22833 ; 56   |
                            22834 ; 57   |typedef struct
                            22835 ; 58   |{
                            22836 ; 59   |
                            22837 ; 60   |INT             Day;
                            22838 ; 61   |INT             Month;
                            22839 ; 62   |INT             Year;
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page  90

M:ADDR CODE           CYCLES LINE SOURCELINE
                            22840 ; 63   |}DIR_DATE;
                            22841 ; 64   |
                            22842 ; 65   |
                            22843 ; 66   |typedef struct
                            22844 ; 67   |{
                            22845 ; 68   |
                            22846 ; 69   |INT             Second;
                            22847 ; 70   |INT             Minute;
                            22848 ; 71   |INT             Hour;
                            22849 ; 72   |}DIR_TIME;
                            22850 ; 73   |
                            22851 ; 74   |
                            22852 ; 75   |typedef struct
                            22853 ; 76   |{
                            22854 ; 77   |LONG CurrentOffset;     
                            22855 ; 78   |LONG CurrentCluster;
                            22856 ; 79   |}HANDLECONTEXT;
                            22857 ; 80   |
                            22858 ; 81   |extern _reentrant INT filesetattrib(INT HandleNumber,INT dirattribute);
                            22859 ; 82   |extern _reentrant INT filesetdate(_packed char *FilePath,INT crt_mod_date_time_para,DIR_DATE *dirdate,DIR_TIME *dirtime);
                            22860 
                            22871 
                            22872 ; 83   |extern _reentrant INT filegetdate(INT HandleNumber,INT crt_mod_date_time_para,DIR_DATE *dirdate,DIR_TIME *dirtime);
                            22873 ; 84   |#endif
                            22874 
                            22876 
                            22877 ; 7    |////////////////////////////////////////////////////////////////////////////////
                            22878 ; 8    |//  Equates
                            22879 ; 9    |////////////////////////////////////////////////////////////////////////////////
                            22880 ; 10   |//Traversal return types
                            22881 ; 11   |#define PLAYLIST_END_TRAVERSAL_SUCCESS  (PLAYLIST_LAST_RETCODE + 1)
                            22882 ; 12   |#define PLAYLIST_END_TRAVERSAL_FAILURE  (PLAYLIST_LAST_RETCODE + 2)
                            22883 ; 13   |#define PLAYLIST_FILE_LOCATE_SUCCESS    (PLAYLIST_LAST_RETCODE + 3)
                            22884 ; 14   |
                            22885 ; 15   |#define PLAYSET_MUSIC 0
                            22886 ; 16   |#define PLAYSET_VOICE 1
                            22887 ; 17   |#define PLAYSET_FOLDER_PLAY 2
                            22888 ; 18   |#define PLAYSET_FAVORITES 3
                            22889 ; 19   |
                            22890 ; 20   |#define PLAYLIST_REPEAT_OFF     0
                            22891 ; 21   |#define PLAYLIST_REPEAT_ALL     1
                            22892 ; 22   |#define PLAYLIST_REPEAT_ONE     2
                            22893 ; 23   |
                            22894 ; 24   |#define SELECT_TRACKS   0
                            22895 ; 25   |#define ORDER_TRACKS    1
                            22896 ; 26   |#define BUILD_FILE_LINKS        2
                            22897 ; 27   |#define RESTORE_BOOKMARK 3
                            22898 ; 28   |        //      SGTL-HK 28-10-2004
                            22899 ; 29   |#define BUILD_DIR_LINKS         4
                            22900 ; 30   |
                            22901 ; 31   |
                            22902 ; 32   |#define ATTR_UNACCEPTABLE  (ATTR_HIDDEN|ATTR_SYSTEM|ATTR_VOLUME_ID)
                            22903 ; 33   |
                            22904 ; 34   |#define DIR_SEPARATOR   0x00002f        // "\"
                            22905 ; 35   |#define ROOT_SEPARATOR  0x002f3A        // ":\" swizzled
                            22906 ; 36   |
                            22907 ; 37   |#define DEPTH_VOICE_DIR 1       //depth of voice directory
                            22908 ; 38   |
                            22909 ; 39   |#define TYPE_DIR 0
                            22910 ; 40   |#define TYPE_FILE 1
                            22911 ; 41   |
                            22912 ; 42   |#define IS_TRASH        0
                            22913 ; 43   |#define IS_VOICE_DIR 1
                            22914 ; 44   |#define IS_VALID_AUDIO 2
                            22915 ; 45   |#define IS_VOICE_FILE  3
                            22916 ; 46   |
                            22917 ; 47   |//List containing audio file extensions
                            22918 ; 48   |#define WMA_FILE_EXT     0x414D57
                            22919 ; 49   |#define MP3_FILE_EXT     0x33504d
                            22920 ; 50   |#define WAV_FILE_EXT     0x564157
                            22921 ; 51   |#define MP4_FILE_EXT     0x34504d
                            22922 ; 52   |#define M4A_FILE_EXT     0x41344d
                            22923 ; 53   |#define ASF_FILE_EXT     0x465341
                            22924 ; 54   |#define AUDIBLE_FILE_EXT         0x004141
                            22925 ; 55   |#define JPG_FILE_EXT     0x47504a
                            22926 ; 56   |#define BMP_FILE_EXT     0x504d42
                            22927 ; 57   |#define SMV_FILE_EXT     0x564d53
                            22928 ; 58   |
                            22929 ; 59   |#define VOICE_PATH_0    0x2f3a61        // a:/ in dyslexical order
                            22930 ; 60   |#define VOICE_PATH_1    0x494f56        // VOI in dyslexical order
                            22931 ; 61   |#define VOICE_PATH_2    0x2f4543        // CE/ in dyslexical order
                            22932 ; 62   |#define VOICE_PATH_3    0x000000        // terminating 0
                            22933 ; 63   |
                            22934 ; 64   |#define FM_PATH_0               0x2f3a61        // a:/ in dyslexical order
                            22935 ; 65   |#define FM_PATH_1               0x2f4d46        // FM/ in dyslexical order
                            22936 ; 66   |#define FM_PATH_2               0x000000        // terminating 0
                            22937 ; 67   |
                            22938 ; 68   |#define LINEIN_PATH_0   0x2f3a61        // a:/ in dyslexical order
                            22939 ; 69   |#define LINEIN_PATH_1   0x4e494c        // LIN in dyslexical order
                            22940 ; 70   |#define LINEIN_PATH_2   0x492d45        // E-I in dyslexical order
                            22941 ; 71   |#define LINEIN_PATH_3   0x002f4e        // N/  in dyslexical order
                            22942 ; 72   |
                            22943 ; 73   |#define NAME_SFN        0
                            22944 ; 74   |#define NAME_LFN        1
                            22945 ; 75   |//Error code for unsupported file Names or Extensions
                            22946 ; 76   |#define META_DATA_FILE_NOT_SUPPORTED        (WORD)(0x101)
                            22947 ; 77   |
                            22948 ; 78   |#define FINDDATA_CACHE_SIZE   20
                            22949 ; 79   |
                            22950 ; 80   |// this number is used to skip mac resource fork files when loading the playlist
                            22951 ; 81   |// the resource SFN start with _ end with the same extension (i.e. mp3)
                            22952 ; 82   |// a SMALL sample of test files shows that the resource file is typically 82 bytes.
                            22953 ; 83   |#define MAC_RESOURCE_NUM_BYTES   512
                            22954 ; 84   |
                            22955 ; 85   |extern int g_iPlaylistRepeat;
                            22956 ; 86   |extern int g_bPlaylistShuffle;
                            22957 ; 87   |extern DWORD dStart, dEnd, dDiff;       //for timing measurements
                            22958 ; 88   |extern _packed BYTE DirPath[MAX_DIRNAME_LENGTH];
                            22959 ; 89   |extern BOOL g_Rebuild;
                            22960 ; 90   |extern RAM_SONG_INFO_T  song_info;
                            22961 ; 91   |extern INT  g_file_time;
                            22962 ; 92   |extern INT  g_unicode;
                            22963 ; 93   |extern DWORD    g_dwFastKey;
                            22964 ; 94   |extern INT  g_iRecordNum;
                            22965 ; 95   |extern DWORD    g_FileKey;
                            22966 ; 96   |extern DIR_DATE g_dirdate;
                            22967 ; 97   |extern DIR_TIME g_dirtime;
                            22968 ; 98   |extern INT  *pHighestNumber;
                            22969 ; 99   |extern INT  g_iHighestVoiceNumber;
                            22970 ; 100  |extern INT  g_iHighestFMNumber;
                            22971 ; 101  |extern INT  g_iHighestLineNumber;
                            22972 ; 102  |
                            22973 ; 103  |INT _reentrant Playlist_GetPlaySet(void);
                            22974 ; 104  |INT _reentrant Playlist_SetPlaySet(INT, INT, INT*);
                            22975 ; 105  |INT _reentrant Playlist_Initialize(INT, INT, INT*);
                            22976 ; 106  |INT _reentrant Playlist_BuildMusicLib(INT iIgnored1, INT iIgnored2, INT* pIgnored);
                            22977 ; 107  |_reentrant RETCODE Playlist_PopulateMusicLib(int iDevice, int iDepth, DWORD dwDirKey,INT RecordNumber);
                            22978 ; 108  |_reentrant INT Playlist_SetPlaySet(INT , INT, INT*);
                            22979 ; 109  |void _reentrant Playlist_ResetPlayset(void);
                            22980 ; 110  |BOOL _reentrant Playlist_ValidateEntry(INT iEntryType,INT iReason, INT* pPtr);
                            22981 ; 111  |
                            22982 ; 112  |///////////////////////////////////////////////////////////////////////////////////////////////////////////
                            22983 ; 113  |/////playlist3 helper functions
                            22984 ; 114  |//////////////////////////////////////////////////////////////////////////////////////////////////////////
                            22985 ; 115  |BOOL _reentrant Playlist_IsValidAudioFile(LONG lFileSize, _packed BYTE* pFileName);
                            22986 ; 116  |_reentrant INT Playlist_GetFileExtention(INT iIgnored1, INT iIgnored2, INT* pPtr);
                            22987 ; 117  |_reentrant BOOL IsTrashDir(_packed BYTE* pszName);
                            22988 ; 118  |_reentrant DWORD Playlist_GenerateFastKey(INT iDevice,LONG DirSector,INT iDirOffset);
                            22989 ; 119  |_reentrant INT ExtractDirSector1(DWORD Key);
                            22990 ; 120  |_reentrant INT ExtractDirSector2(DWORD Key);
                            22991 ; 121  |_reentrant INT ExtractDirOffset(DWORD Key);
                            22992 ; 122  |_reentrant RETCODE Playlist_GetRootString(_packed BYTE* pBuffer, INT iDevice);
                            22993 ; 123  |_reentrant RETCODE Playlist_LocateFileEntryFromName(INT iUnused1, INT iUnused2, INT* pPtr);
                            22994 ; 124  |_reentrant INT Playlist_LocateDirEntryFromName(INT iUnused1, INT iUnused2, INT* pPtr);
                            22995 ; 125  |_reentrant BOOL IsVoiceDir(DirEntry _X* pDirEntry);
                            22996 ; 126  |_reentrant RETCODE Playlist_GetSFN(INT iEntryType , INT pEntry, INT* pName);
                            22997 ; 127  |_reentrant RETCODE Playlist_GetLFN(INT iEntryType , INT pEntry, INT* pName);
                            22998 ; 128  |INT _reentrant PathFormation(_packed BYTE* dst, _packed BYTE* src, int iDepth);
                            22999 ; 129  |
                            23000 ; 130  |DWORD GetDclkCount(void);
                            23001 ; 131  |
                            23002 ; 132  |_reentrant INT CopyFindFirst(int mDirEntry, int mfinddata, int *mFileSpec);
                            23003 ; 133  |_reentrant INT CopyFindNext(INT HandleNumber,int mfinddata, int* ptr);
                            23004 ; 134  |
                            23005 ; 135  |_reentrant void BuildVoiceFilePath(void);
                            23006 ; 136  |_reentrant void BuildFMFilePath(void);
                            23007 ; 137  |_reentrant void BuildLINEINFilePath(void);
                            23008 ; 138  |_reentrant void GetVoiceFastKey(WORD wFastKeyBitField);
                            23009 ; 139  |_reentrant INT AddSongToLibrary(int a, int drive, void* b);
                            23010 ; 140  |#endif
                            23011 
                            23013 
                            23014 ; 19   |#include "playlist3internal.h"
                            23015 
                            23017 
                            23018 ; 1    |#ifndef __PLAYLIST3INTERNAL_H
                            23019 ; 2    |#define __PLAYLIST3INTERNAL_H
                            23020 ; 3    |
                            23021 ; 4    |#include "project.h"
                            23022 ; 5    |
                            23023 ; 6    |#include "filesystem.h"
                            23024 ; 7    |#include "metadata.h"
                            23025 ; 8    |
                            23026 ; 9    |#define MAX_NUM_DIR 1           //max supported directories including all subdirectories
                            23027 ; 10   |#define MAX_NUM_FILES   1       //max supported files
                            23028 ; 11   |#define MAX_SORT_ENTRIES_PER_DIRECTORY  15
                            23029 ; 12   |
                            23030 ; 13   |#define MAX_RECORDS_PER_DIRECTORY   4096        //calculated from the bits in the m_iRecordNum field in the following data structures.
                            23031 ; 14   |                                                                                        //An entry can have multiple records in the FAT for LFNs.
                            23032 ; 15   |                                                                                        //Records more than this number will not be included in the playlist content
                            23033 ; 16   |
                            23034 ; 17   |#define SFN_LENGTH      13      //8.3\ + NULL
                            23035 ; 18   |
                            23036 ; 19   |#define  _MAX_DIR_DEPTH 8
                            23037 ; 20   |#define  MAX_DIRNAME_LENGTH ((SFN_LENGTH*_MAX_DIR_DEPTH)+1)
                            23038 ; 21   |
                            23039 ; 22   |struct Bookmark{
                            23040 ; 23   |        INT       m_iTracknum;
                            23041 ; 24   |        DWORD m_dwTrackPosBytes;
                            23042 ; 25   |}; //this will save the num and position of the song selected for bookmark
                            23043 ; 26   |
                            23044 ; 27   |
                            23045 ; 28   |typedef struct{
                            23046 ; 29   |    unsigned int    m_pNext:16;                 //points to the next inline DirEntry. 
                            23047 ; 30   |        unsigned int    m_bAllocated:1; //1=allocated, 0=free.
                            23048 ; 31   |    unsigned int    m_iDevice:1;
                            23049 ; 32   |        unsigned int    m_bIsRoot:1;    //1=ROOT directory, 0= Any directory except ROOT.
                            23050 ; 33   |////////////////////////////////////////////////////////////////////////////////////////////
                            23051 ; 34   |    unsigned int    m_pDirContents:16;  //points to the first content which is a dir.
                            23052 ; 35   |///////////////////////////////////////////////////////////////////////////////////////////
                            23053 ; 36   |        unsigned int    m_pFileContents:16; //pointer in FileEntryPool where the file contents for this directory begin.
                            23054 ; 37   |////////////////////////////////////////////////////////////////////////////////////////////
                            23055 ; 38   |        unsigned int    m_iDirSector1:21;
                            23056 ; 39   |////////////////////////////////////////////////////////////////////////////////////////////
                            23057 ; 40   |        unsigned int    m_iDirOffset:12;
                            23058 ; 41   |        unsigned int    m_iRecordNum:12;        //record number of the directory record (LFN use).
                            23059 ; 42   |
                            23060 ; 43   |        unsigned int    m_iDirSector2:11;
                            23061 ; 44   |        //!! The above are implicitly used as a struct*. Using INT bitfields to save memory !!!
                            23062 ; 45   |////////////////////////////////////////////////////////////////////////////////////////////    
                            23063 ; 46   |#ifdef DEBUG_SFN
                            23064 ; 47   |        _packed BYTE name[SFN_LENGTH];
                            23065 ; 48   |#endif
                            23066 ; 49   |}DirEntry;
                            23067 ; 50   |
                            23068 ; 51   |typedef struct{
                            23069 ; 52   |        unsigned int    m_bAllocated:1; //1=allocated, 0=free.
                            23070 ; 53   |        unsigned int    m_bCurrentPlayset:1;    //1=Belongs to the current playset.
                            23071 ; 54   |        unsigned int    m_bTrackPlayed:1;               //Indicates if the track was played atleast once. Currently not used.
                            23072 ; 55   |        unsigned int    m_iDirSector1:21;
                            23073 ; 56   |//////////////////////////////////////////////////////////////////////////////////////////////////////
                            23074 ; 57   |        unsigned int    m_iTrackOrder:10;               //Order of this track in the current playset.
                            23075 ; 58   |        unsigned int    m_iDirOffset:12;
                            23076 ; 59   |//////////////////////////////////////////////////////////////////////////////////////////////////////
                            23077 ; 60   |        unsigned int    m_iDevice:1;
                            23078 ; 61   |        unsigned int    m_iRecordNum:12;        //Record number of the file record (LFN use).
                            23079 ; 62   |        unsigned int    m_iDirSector2:11;
                            23080 ; 63   |//////////////////////////////////////////////////////////////////////////////////////////////////////
                            23081 ; 64   |        unsigned int    m_pNext:16;             // //points to the next inline file.
                            23082 ; 65   |//////////////////////////////////////////////////////////////////////////////////////////////////////
                            23083 ; 66   |#ifdef DEBUG_SFN
                            23084 ; 67   |        _packed BYTE name[SFN_LENGTH];
                            23085 ; 68   |#endif
                            23086 ; 69   |}FileEntry;
                            23087 ; 70   |
                            23088 ; 71   |typedef struct{
                            23089 ; 72   |        DirEntry _X* pDirEntry; //Start traversing from this directory entry
                            23090 ; 73   |        unsigned int    iReason;
                            23091 ; 74   |        unsigned int iDevice;
                            23092 ; 75   |        unsigned int iPlayset;
                            23093 ; 76   |        unsigned int iDepth;
                            23094 ; 77   |        unsigned int iTrackOrder;
                            23095 ; 78   |        unsigned int iTrackNum;
                            23096 ; 79   |        FileEntry* pFileEntry;
                            23097 ; 80   |        DirEntry _X* DirLinks[_MAX_DIR_DEPTH];  //maintains a dynamic list of directory links within the recursion
                            23098 ; 81   |        unsigned int    iTotalLinks;
                            23099 ; 82   |}TraverseTreeParams;
                            23100 ; 83   |
                            23101 ; 84   |typedef struct{
                            23102 ; 85   |        unsigned int EntryType;                         //TYPE_DIR or TYPE_FILE
                            23103 ; 86   |        FileEntry* pFileEntry;          //used if TYPE_FILE
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page  91

M:ADDR CODE           CYCLES LINE SOURCELINE
                            23104 ; 87   |        DirEntry _X* pDirEntry;                 //used if TYPE_DIR
                            23105 ; 88   |        unsigned int iTrackNum;
                            23106 ; 89   |        unsigned int iTrackOrder;
                            23107 ; 90   |        DirEntry _X* DirLinks[_MAX_DIR_DEPTH];
                            23108 ; 91   |        unsigned int iTotalLinks;
                            23109 ; 92   |}EntryAccessInfo;
                            23110 ; 93   |
                            23111 ; 94   |typedef struct{
                            23112 ; 95   |        void* pEntry;
                            23113 ; 96   |        _packed BYTE name[SFN_LENGTH];
                            23114 ; 97   |}SFNStorage;
                            23115 ; 98   |
                            23116 ; 99   |extern DirEntry _X g_DirEntryPerDevice[];               //ROOT(s)
                            23117 ; 100  |extern DirEntry _X g_DirEntryPool[];            //Pool of directory entries, Does not contain files.
                            23118 ; 101  |extern FileEntry g_FileEntryPool[];
                            23119 ; 102  |extern EntryAccessInfo g_CurrentTrack;
                            23120 ; 103  |extern int g_iPlaylistRepeat;
                            23121 ; 104  |extern int g_bPlaylistShuffle;
                            23122 ; 105  |extern SFNStorage g_TempSFNSpace[];
                            23123 ; 106  |extern int g_iTotalTracks;
                            23124 ; 107  |
                            23125 ; 108  |extern int g_iPlaySet;
                            23126 ; 109  |
                            23127 ; 110  |extern struct Bookmark g_MarkerMusic, g_MarkerVoice;
                            23128 ; 111  |extern int g_iTotalDir;
                            23129 ; 112  |extern int g_iTotalFiles;
                            23130 ; 113  |
                            23131 ; 114  |void _reentrant ML_building_engine_init_playlist3(void);
                            23132 ; 115  |void _reentrant ML_voice_build_engine_init_playlist3(void);
                            23133 ; 116  |void _reentrant ML_merging_engine_init_playlist3(void);
                            23134 ; 117  |_reentrant void Rebuild_GetMetaData(WORD wMode,int ignored1,int*ignored2);
                            23135 ; 118  |_reentrant void Rebuild_GetFileMetaData(INT PackedPathNameAddress, INT btCurrentDevice, FILE_META_DATA *MetaData);
                            23136 ; 119  |_reentrant RETCODE AddDirToLibrary(INT iDrive, INT iDirDepth);
                            23137 ; 120  |RETCODE _reentrant ML_GetLFN(DWORD dwFastKey, INT iRecordNum, UCS3 *pBuf);
                            23138 ; 121  |
                            23139 ; 122  |#endif
                            23140 
                            23142 
                            23143 ; 20   |#include "persist_bits.h"
                            23144 
                            23146 
                            23147 ; 1    |//;///////////////////////////////////////////////////////////////////////////////
                            23148 ; 2    |//; Copyright(C) SigmaTel, Inc. 2000-2005
                            23149 ; 3    |//;
                            23150 ; 4    |//; Filename:    persist_bits.h
                            23151 ; 5    |//; Description: General purpose interface to Persistent Bits
                            23152 ; 6    |//;              Persistent bits are mapped to more generic bits in regsrtc.inc.
                            23153 ; 7    |//;///////////////////////////////////////////////////////////////////////////////
                            23154 ; 8    |
                            23155 ; 9    |#ifndef _PERSIST_BITS_H
                            23156 ; 10   |#define _PERSIST_BITS_H
                            23157 ; 11   |
                            23158 ; 12   |#include "regsrtc.h"
                            23159 
                            23161 
                            23162 ; 1    |/////////////////////////////////////////////////////////////////////////////////
                            23163 ; 2    |// Copyright(C) SigmaTel, Inc. 2000-2004
                            23164 ; 3    |// Filename: regsrtc.inc
                            23165 ; 4    |// Description: Register definitions for RTC interface
                            23166 ; 5    |/////////////////////////////////////////////////////////////////////////////////
                            23167 ; 6    |// The following naming conventions are followed in this file.
                            23168 ; 7    |// All registers are named using the format...
                            23169 ; 8    |//     HW_<module>_<regname>
                            23170 ; 9    |// where <module> is the module name which can be any of the following...
                            23171 ; 10   |//     USB20
                            23172 ; 11   |// (Note that when there is more than one copy of a particular module, the
                            23173 ; 12   |// module name includes a number starting from 0 for the first instance of
                            23174 ; 13   |// that module)
                            23175 ; 14   |// <regname> is the specific register within that module
                            23176 ; 15   |// We also define the following...
                            23177 ; 16   |//     HW_<module>_<regname>_BITPOS
                            23178 ; 17   |// which defines the starting bit (i.e. LSB) of a multi bit field
                            23179 ; 18   |//     HW_<module>_<regname>_SETMASK
                            23180 ; 19   |// which does something else, and
                            23181 ; 20   |//     HW_<module>_<regname>_CLRMASK
                            23182 ; 21   |// which does something else.
                            23183 ; 22   |// Other rules
                            23184 ; 23   |//     All caps
                            23185 ; 24   |//     Numeric identifiers start at 0
                            23186 ; 25   |#if !(defined(regsrtcinc))
                            23187 ; 26   |#define regsrtcinc 1
                            23188 ; 27   |
                            23189 ; 28   |#include "types.h"
                            23190 ; 29   |
                            23191 ; 30   |//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                            23192 ; 31   |
                            23193 ; 32   |//   RTC STMP Registers 
                            23194 ; 33   |//   Edited 2/26/2002 J. Ferrara
                            23195 ; 34   |//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                            23196 ; 35   |
                            23197 ; 36   |#define HW_RTC_BASEADDR (0xF500)
                            23198 ; 37   |
                            23199 ; 38   |
                            23200 ; 39   |
                            23201 ; 40   |
                            23202 ; 41   |
                            23203 ; 42   |/////////////////////////////////////////////////////////////////////////////////
                            23204 ; 43   |
                            23205 ; 44   |////  RTC Control Status Register (HW_RTC_CSR) Bit Definitions
                            23206 ; 45   |
                            23207 ; 46   |#define HW_RTC_CSR_ALARMINTEN_BITPOS (0)
                            23208 ; 47   |#define HW_RTC_CSR_ALARMINT_BITPOS (1)
                            23209 ; 48   |#define HW_RTC_CSR_WATCHDOGEN_BITPOS (2)
                            23210 ; 49   |#define HW_RTC_CSR_RSVD0_BITPOS (3)
                            23211 ; 50   |#define HW_RTC_CSR_STALEREGS_BITPOS (4)
                            23212 ; 51   |#define HW_RTC_CSR_RSVD1_BITPOS (9)
                            23213 ; 52   |#define HW_RTC_CSR_NEWREGS_BITPOS (12)
                            23214 ; 53   |#define HW_RTC_CSR_NEWREGS_XTALDIV_BITPOS (12)
                            23215 ; 54   |#define HW_RTC_CSR_NEWREGS_MSCOUNT_BITPOS (13)
                            23216 ; 55   |#define HW_RTC_CSR_NEWREGS_ALRMCOUNT_BITPOS (14)
                            23217 ; 56   |#define HW_RTC_CSR_NEWREGS_PERSIST0_BITPOS (15)
                            23218 ; 57   |#define HW_RTC_CSR_NEWREGS_PERSIST1_BITPOS (16)
                            23219 ; 58   |#define HW_RTC_CSR_RSVD2_BITPOS (17)
                            23220 ; 59   |#define HW_RTC_CSR_FORCE_BITPOS (20)
                            23221 ; 60   |#define HW_RTC_CSR_RSVD3_BITPOS (21)
                            23222 ; 61   |#define HW_RTC_CSR_SFTRST_BITPOS (23)                                                                           
                            23223 ; 62   |#define HW_RTC_CSR_ALARMINTEN_WIDTH (1)
                            23224 ; 63   |#define HW_RTC_CSR_ALARMINT_WIDTH (1)
                            23225 ; 64   |#define HW_RTC_CSR_WATCHDOGEN_WIDTH (1)
                            23226 ; 65   |#define HW_RTC_CSR_RSVD0_WIDTH (1)
                            23227 ; 66   |#define HW_RTC_CSR_STALEREGS_WIDTH (5)
                            23228 ; 67   |#define HW_RTC_CSR_RSVD1_WIDTH (3)
                            23229 ; 68   |#define HW_RTC_CSR_NEWREGS_WIDTH (5)
                            23230 ; 69   |#define HW_RTC_CSR_NEWREGS_XTALDIV_WIDTH (1)
                            23231 ; 70   |#define HW_RTC_CSR_NEWREGS_MSCOUNT_WIDTH (1)
                            23232 ; 71   |#define HW_RTC_CSR_NEWREGS_ALRMCOUNT_WIDTH (1)
                            23233 ; 72   |#define HW_RTC_CSR_NEWREGS_PERSIST0_WIDTH (1)
                            23234 ; 73   |#define HW_RTC_CSR_NEWREGS_PERSIST1_WIDTH (1)
                            23235 ; 74   |#define HW_RTC_CSR_RSVD2_WIDTH (3)
                            23236 ; 75   |#define HW_RTC_CSR_FORCE_WIDTH (1)
                            23237 ; 76   |#define HW_RTC_CSR_RSVD3_WIDTH (2)
                            23238 ; 77   |#define HW_RTC_CSR_SFTRST_WIDTH (1)
                            23239 ; 78   |
                            23240 ; 79   |#define HW_RTC_CSR_ALARMINT_SETMASK (((1<<HW_RTC_CSR_ALARMINT_WIDTH)-1)<<HW_RTC_CSR_ALARMINT_BITPOS) 
                            23241 ; 80   |#define HW_RTC_CSR_ALARMINTEN_SETMASK (((1<<HW_RTC_CSR_ALARMINTEN_WIDTH)-1)<<HW_RTC_CSR_ALARMINTEN_BITPOS) 
                            23242 ; 81   |#define HW_RTC_CSR_WATCHDOGEN_SETMASK (((1<<HW_RTC_CSR_WATCHDOGEN_WIDTH)-1)<<HW_RTC_CSR_WATCHDOGEN_BITPOS) 
                            23243 ; 82   |#define HW_RTC_CSR_RSVD0_SETMASK (((1<<HW_RTC_CSR_RSVD0_WIDTH)-1)<<HW_RTC_CSR_RSVD0_BITPOS) 
                            23244 ; 83   |#define HW_RTC_CSR_STALEREGS_SETMASK (((1<<HW_RTC_CSR_STALEREGS_WIDTH)-1)<<HW_RTC_CSR_STALEREGS_BITPOS) 
                            23245 ; 84   |#define HW_RTC_CSR_RSVD1_SETMASK (((1<<HW_RTC_CSR_RSVD1_WIDTH)-1)<<HW_RTC_CSR_RSVD1_BITPOS) 
                            23246 ; 85   |#define HW_RTC_CSR_NEWREGS_SETMASK (((1<<HW_RTC_CSR_NEWREGS_WIDTH)-1)<<HW_RTC_CSR_NEWREGS_BITPOS) 
                            23247 ; 86   |#define HW_RTC_CSR_NEWREGS_XTALDIV_SETMASK (((1<<HW_RTC_CSR_NEWREGS_XTALDIV_WIDTH)-1)<<HW_RTC_CSR_NEWREGS_XTALDIV_BITPOS)   
                            23248 ; 87   |#define HW_RTC_CSR_NEWREGS_MSCOUNT_SETMASK (((1<<HW_RTC_CSR_NEWREGS_MSCOUNT_WIDTH)-1)<<HW_RTC_CSR_NEWREGS_MSCOUNT_BITPOS)
                            23249 ; 88   |#define HW_RTC_CSR_NEWREGS_ALRMCOUNT_SETMASK (((1<<HW_RTC_CSR_NEWREGS_ALRMCOUNT_WIDTH)-1)<<HW_RTC_CSR_NEWREGS_ALRMCOUNT_BITPOS)
                            23250 ; 89   |#define HW_RTC_CSR_NEWREGS_PERSIST0_SETMASK (((1<<HW_RTC_CSR_NEWREGS_PERSIST0_WIDTH)-1)<<HW_RTC_CSR_NEWREGS_PERSIST0_BITPOS)
                            23251 ; 90   |#define HW_RTC_CSR_NEWREGS_PERSIST1_SETMASK (((1<<HW_RTC_CSR_NEWREGS_PERSIST1_WIDTH)-1)<<HW_RTC_CSR_NEWREGS_PERSIST1_BITPOS)
                            23252 ; 91   |#define HW_RTC_CSR_RSVD2_SETMASK (((1<<HW_RTC_CSR_RSVD2_WIDTH)-1)<<HW_RTC_CSR_RSVD2_BITPOS) 
                            23253 ; 92   |#define HW_RTC_CSR_FORCE_SETMASK (((1<<HW_RTC_CSR_FORCE_WIDTH)-1)<<HW_RTC_CSR_FORCE_BITPOS) 
                            23254 ; 93   |#define HW_RTC_CSR_RSVD3_SETMASK (((1<<HW_RTC_CSR_RSVD3_WIDTH)-1)<<HW_RTC_CSR_RSVD3_BITPOS) 
                            23255 ; 94   |#define HW_RTC_CSR_SFTRST_SETMASK (((1<<HW_RTC_CSR_SFTRST_WIDTH)-1)<<HW_RTC_CSR_SFTRST_BITPOS) 
                            23256 ; 95   |
                            23257 ; 96   |#define HW_RTC_CSR_ALARMINTEN_CLRMASK (~(WORD)HW_RTC_CSR_ALARMINTEN_SETMASK)
                            23258 ; 97   |#define HW_RTC_CSR_ALARMINT_CLRMASK (~(WORD)HW_RTC_CSR_ALARMINT_SETMASK)
                            23259 ; 98   |#define HW_RTC_CSR_WATCHDOGEN_CLRMASK (~(WORD)HW_RTC_CSR_WATCHDOGEN_SETMASK)
                            23260 ; 99   |#define HW_RTC_CSR_RSVD0_CLRMASK (~(WORD)HW_RTC_CSR_RSVD0_SETMASK)
                            23261 ; 100  |#define HW_RTC_CSR_STALEREGS_CLRMASK (~(WORD)HW_RTC_CSR_STALEREGS_SETMASK)
                            23262 ; 101  |#define HW_RTC_CSR_RSVD1_CLRMASK (~(WORD)HW_RTC_CSR_RSVD1_SETMASK)
                            23263 ; 102  |#define HW_RTC_CSR_NEWREGS_CLRMASK (~(WORD)HW_RTC_CSR_NEWREGS_SETMASK)
                            23264 ; 103  |#define HW_RTC_CSR_NEWREGS_XTALDIV_CLRMASK (~(WORD)HW_RTC_CSR_NEWREGS_XTALDIV_SETMASK)   
                            23265 ; 104  |#define HW_RTC_CSR_NEWREGS_MSCOUNT_CLRMASK (~(WORD)HW_RTC_CSR_NEWREGS_MSCOUNT_SETMASK)
                            23266 ; 105  |#define HW_RTC_CSR_NEWREGS_ALRMCOUNT_CLRMASK (~(WORD)HW_RTC_CSR_NEWREGS_ALRMCOUNT_SETMASK)
                            23267 ; 106  |#define HW_RTC_CSR_NEWREGS_PERSIST0_CLRMASK (~(WORD)HW_RTC_CSR_NEWREGS_PERSIST0_SETMASK)
                            23268 ; 107  |#define HW_RTC_CSR_NEWREGS_PERSIST1_CLRMASK (~(WORD)HW_RTC_CSR_NEWREGS_PERSIST1_SETMASK)
                            23269 ; 108  |
                            23270 ; 109  |#define HW_RTC_CSR_RSVD2_CLRMASK (~(WORD)HW_RTC_CSR_RSVD2_SETMASK)
                            23271 ; 110  |#define HW_RTC_CSR_FORCE_CLRMASK (~(WORD)HW_RTC_CSR_FORCE_SETMASK)
                            23272 ; 111  |#define HW_RTC_CSR_RSVD3_CLRMASK (~(WORD)HW_RTC_CSR_RSVD3_SETMASK)
                            23273 ; 112  |#define HW_RTC_CSR_SFTRST_CLRMASK (~(WORD)HW_RTC_CSR_SFTRST_SETMASK)
                            23274 ; 113  |
                            23275 ; 114  |
                            23276 ; 115  |typedef union               
                            23277 ; 116  |{
                            23278 ; 117  |    struct {
                            23279 ; 118  |         int ALARMINTEN         : HW_RTC_CSR_ALARMINTEN_WIDTH;
                            23280 ; 119  |         int ALARMINT           : HW_RTC_CSR_ALARMINT_WIDTH;
                            23281 ; 120  |         int WATCHDOGEN         : HW_RTC_CSR_WATCHDOGEN_WIDTH;
                            23282 ; 121  |         int RSVD0              : HW_RTC_CSR_RSVD0_WIDTH;
                            23283 ; 122  |         unsigned int STALEREGS : HW_RTC_CSR_STALEREGS_WIDTH;
                            23284 ; 123  |         int RSVD1              : HW_RTC_CSR_RSVD1_WIDTH;
                            23285 ; 124  |         unsigned int NEWREGS   : HW_RTC_CSR_NEWREGS_WIDTH;
                            23286 ; 125  |         int RSVD2              : HW_RTC_CSR_RSVD2_WIDTH;
                            23287 ; 126  |         int FORCE             : HW_RTC_CSR_FORCE_WIDTH;
                            23288 ; 127  |         int RSVD3              : HW_RTC_CSR_RSVD3_WIDTH;
                            23289 ; 128  |         unsigned int SFTRST    : HW_RTC_CSR_SFTRST_WIDTH;
                            23290 ; 129  |    } B;
                            23291 ; 130  |    int I;
                            23292 ; 131  |    unsigned int U;
                            23293 ; 132  |} rtc_csr_type;
                            23294 ; 133  |#define HW_RTC_CSR      (*(volatile rtc_csr_type _X*) (HW_RTC_BASEADDR+0))    /* RTC Control / Status Register */
                            23295 ; 134  |
                            23296 ; 135  |/////////////////////////////////////////////////////////////////////////////////
                            23297 ; 136  |
                            23298 ; 137  |//  RTC Milliseconds Register0 (HW_RTC_MSECONDS0) Bit Definitions
                            23299 ; 138  |
                            23300 ; 139  |#define HW_RTC_MSECONDS0_MSECONDSLOW_BITPOS (0)
                            23301 ; 140  |
                            23302 ; 141  |#define HW_RTC_MSECONDS0_MSECONDSLOW_WIDTH (24)
                            23303 ; 142  |
                            23304 ; 143  |#define HW_RTC_MSECONDS0_MSECONDSLOW_SETMASK (((1<<HW_RTC_MSECONDS0_MSECONDSLOW_WIDTH)-1)<<HW_RTC_MSECONDS0_MSECONDSLOW_BITPOS) 
                            23305 ; 144  |
                            23306 ; 145  |#define HW_RTC_MSECONDS0_MSECONDSLOW_CLRMASK (~(WORD)HW_RTC_MSECONDS0_MSECONDSLOW_SETMASK)
                            23307 ; 146  |
                            23308 ; 147  |typedef union               
                            23309 ; 148  |{
                            23310 ; 149  |    struct {
                            23311 ; 150  |         int MSECONDSLOW        : HW_RTC_MSECONDS0_MSECONDSLOW_WIDTH;
                            23312 ; 151  |    } B;
                            23313 ; 152  |    int I;
                            23314 ; 153  |    unsigned int U;
                            23315 ; 154  |} rtc_mseconds0_type;
                            23316 ; 155  |#define HW_RTC_MSECONDS0      (*(volatile rtc_mseconds0_type _X*) (HW_RTC_BASEADDR+1))    /* RTC MSECONDS Lower Word Register */
                            23317 ; 156  |#define HW_RTCLOWR            HW_RTC_MSECONDS0
                            23318 ; 157  |/////////////////////////////////////////////////////////////////////////////////
                            23319 ; 158  |
                            23320 ; 159  |//  RTC Milliseconds Register1 (HW_RTC_MSECONDS1) Bit Definitions
                            23321 ; 160  |
                            23322 ; 161  |#define HW_RTC_MSECONDS1_MSECONDSHIGH_BITPOS (0)
                            23323 ; 162  |
                            23324 ; 163  |#define HW_RTC_MSECONDS1_MSECONDSHIGH_WIDTH (24)
                            23325 ; 164  |
                            23326 ; 165  |#define HW_RTC_MSECONDS1_MSECONDSHIGH_SETMASK (((1<<HW_RTC_MSECONDS1_MSECONDSHIGH_WIDTH)-1)<<HW_RTC_MSECONDS1_MSECONDSHIGH_BITPOS) 
                            23327 ; 166  |
                            23328 ; 167  |#define HW_RTC_MSECONDS1_MSECONDSHIGH_CLRMASK (~(WORD)HW_RTC_MSECONDS1_MSECONDSHIGH_SETMASK)
                            23329 ; 168  |
                            23330 ; 169  |typedef union               
                            23331 ; 170  |{
                            23332 ; 171  |    struct {
                            23333 ; 172  |         int MSECONDSHIGH       : HW_RTC_MSECONDS1_MSECONDSHIGH_WIDTH;
                            23334 ; 173  |    } B;
                            23335 ; 174  |    int I;
                            23336 ; 175  |    unsigned int U;
                            23337 ; 176  |} rtc_mseconds1_type;
                            23338 ; 177  |#define HW_RTC_MSECONDS1      (*(volatile rtc_mseconds1_type _X*) (HW_RTC_BASEADDR+2))    /* RTC MSECONDS Upper Word Register */
                            23339 ; 178  |#define HW_RTCUPR             HW_RTC_MSECONDS1
                            23340 ; 179  |
                            23341 ; 180  |#define HW_RTC_LOWER_OFFSET 1
                            23342 ; 181  |#define HW_RTC_UP_OFFSET 2
                            23343 ; 182  |
                            23344 ; 183  |
                            23345 ; 184  |/////////////////////////////////////////////////////////////////////////////////
                            23346 ; 185  |
                            23347 ; 186  |//  RTC Watchdog Count (HW_RTC_WATCHDOG) Bit Definitions
                            23348 ; 187  |
                            23349 ; 188  |#define HW_RTC_WATCHDOG_TIMEOUTCNT_BITPOS (0)
                            23350 ; 189  |
                            23351 ; 190  |#define HW_RTC_WATCHDOG_TIMEOUTCNT_WIDTH (24)
                            23352 ; 191  |
                            23353 ; 192  |#define HW_RTC_WATCHDOG_TIMEOUTCNT_SETMASK (((1<<HW_RTC_WATCHDOG_TIMEOUTCNT_WIDTH)-1)<<HW_RTC_WATCHDOG_TIMEOUTCNT_BITPOS) 
                            23354 ; 193  |
                            23355 ; 194  |#define HW_RTC_WATCHDOG_TIMEOUTCNT_CLRMASK (~(WORD)HW_RTC_WATCHDOG_TIMEOUTCNT_SETMASK)
                            23356 ; 195  |
                            23357 ; 196  |typedef union               
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page  92

M:ADDR CODE           CYCLES LINE SOURCELINE
                            23358 ; 197  |{
                            23359 ; 198  |    struct {
                            23360 ; 199  |         int TIMEOUTCNT         : HW_RTC_WATCHDOG_TIMEOUTCNT_WIDTH;
                            23361 ; 200  |    } B;
                            23362 ; 201  |    int I;
                            23363 ; 202  |    unsigned int U;
                            23364 ; 203  |} rtc_watchdog_type;
                            23365 ; 204  |#define HW_RTC_WATCHDOG     (*(volatile rtc_watchdog_type _X*) (HW_RTC_BASEADDR+3))    /* RTC Watchdog Timeout Register */
                            23366 ; 205  |/////////////////////////////////////////////////////////////////////////////////
                            23367 ; 206  |
                            23368 ; 207  |//  RTC Alarm Register0 (HW_RTC_ALARM0) Bit Definitions
                            23369 ; 208  |
                            23370 ; 209  |#define HW_RTC_ALARM0_ALARMLOW_BITPOS (0)
                            23371 ; 210  |
                            23372 ; 211  |#define HW_RTC_ALARM0_ALARMLOW_WIDTH (24)
                            23373 ; 212  |
                            23374 ; 213  |#define HW_RTC_ALARM0_ALARMLOW_SETMASK (((1<<HW_RTC_ALARM0_ALARMLOW_WIDTH)-1)<<HW_RTC_ALARM0_ALARMLOW_BITPOS) 
                            23375 ; 214  |
                            23376 ; 215  |#define HW_RTC_ALARM0_ALARMLOW_CLRMASK (~(WORD)HW_RTC_ALARM0_ALARMLOW_SETMASK)
                            23377 ; 216  |
                            23378 ; 217  |typedef union               
                            23379 ; 218  |{
                            23380 ; 219  |    struct {
                            23381 ; 220  |         int ALARMLOW   : HW_RTC_ALARM0_ALARMLOW_WIDTH;
                            23382 ; 221  |    } B;
                            23383 ; 222  |    int I;
                            23384 ; 223  |    unsigned int U;
                            23385 ; 224  |} rtc_alarm0_type;
                            23386 ; 225  |#define HW_RTC_ALARM0      (*(volatile rtc_alarm0_type _X*) (HW_RTC_BASEADDR+4))    /* RTC ALARM Lower Word Register */
                            23387 ; 226  |/////////////////////////////////////////////////////////////////////////////////
                            23388 ; 227  |
                            23389 ; 228  |//  RTC Alarm Register1 (HW_RTC_ALARM1) Bit Definitions
                            23390 ; 229  |
                            23391 ; 230  |#define HW_RTC_ALARM1_ALARMHIGH_BITPOS (0)
                            23392 ; 231  |
                            23393 ; 232  |#define HW_RTC_ALARM1_ALARMHIGH_WIDTH (24)
                            23394 ; 233  |
                            23395 ; 234  |#define HW_RTC_ALARM1_ALARMHIGH_SETMASK (((1<<HW_RTC_ALARM1_ALARMHIGH_WIDTH)-1)<<HW_RTC_ALARM1_ALARMHIGH_BITPOS) 
                            23396 ; 235  |
                            23397 ; 236  |#define HW_RTC_ALARM1_ALARMHIGH_CLRMASK (~(WORD)HW_RTC_ALARM1_ALARMHIGH_SETMASK)
                            23398 ; 237  |
                            23399 ; 238  |typedef union               
                            23400 ; 239  |{
                            23401 ; 240  |    struct {
                            23402 ; 241  |         int ALARMHIGH  : HW_RTC_ALARM1_ALARMHIGH_WIDTH;
                            23403 ; 242  |    } B;
                            23404 ; 243  |    int I;
                            23405 ; 244  |    unsigned int U;
                            23406 ; 245  |} rtc_alarm1_type;
                            23407 ; 246  |#define HW_RTC_ALARM1      (*(volatile rtc_alarm1_type _X*) (HW_RTC_BASEADDR+5))    /* RTC ALARM Upper Word Register */
                            23408 ; 247  |/////////////////////////////////////////////////////////////////////////////////
                            23409 ; 248  |
                            23410 ; 249  |//  RTC Xtal-Clock Divide Register (HW_RTC_XTALDIVIDE) Bit Definitions
                            23411 ; 250  |
                            23412 ; 251  |#define HW_RTC_XTALDIVIDE_DIVCOUNT_BITPOS (0)
                            23413 ; 252  |#define HW_RTC_XTALDIVIDE_RSVD0_BITPOS (16)
                            23414 ; 253  |
                            23415 ; 254  |#define HW_RTC_XTALDIVIDE_DIVCOUNT_WIDTH (16)
                            23416 ; 255  |#define HW_RTC_XTALDIVIDE_RSVD0_WIDTH (8)
                            23417 ; 256  |
                            23418 ; 257  |#define HW_RTC_XTALDIVIDE_DIVCOUNT_SETMASK (((1<<HW_RTC_XTALDIVIDE_DIVCOUNT_WIDTH)-1)<<HW_RTC_XTALDIVIDE_DIVCOUNT_BITPOS) 
                            23419 ; 258  |#define HW_RTC_XTALDIVIDE_RSVD0_SETMASK (((1<<HW_RTC_XTALDIVIDE_RSVD0_BITPOS)-1)<<HW_RTC_XTALDIVIDE_RSVD0_BITPOS) 
                            23420 ; 259  |
                            23421 ; 260  |#define HW_RTC_XTALDIVIDE_DIVCOUNT_CLRMASK (~(WORD)HW_RTC_XTALDIVIDE_DIVCOUNT_SETMASK)
                            23422 ; 261  |#define HW_RTC_XTALDIVIDE_RSVD0_CLRMASK (~(WORD)HW_RTC_XTALDIVIDE_RSVD0_SETMASK)
                            23423 ; 262  |
                            23424 ; 263  |typedef union               
                            23425 ; 264  |{
                            23426 ; 265  |    struct {
                            23427 ; 266  |         int DIVCOUNT   : HW_RTC_XTALDIVIDE_DIVCOUNT_WIDTH;
                            23428 ; 267  |         int RSVD0      : HW_RTC_XTALDIVIDE_RSVD0_WIDTH;
                            23429 ; 268  |    } B;
                            23430 ; 269  |    int I;
                            23431 ; 270  |    unsigned int U;
                            23432 ; 271  |} rtc_xtaldivide_type;
                            23433 ; 272  |#define HW_RTC_XTALDIVIDE   (*(volatile rtc_xtaldivide_type _X*) (HW_RTC_BASEADDR+6))  /* RTC Xtal-clock Pre-Divider Word Register */
                            23434 ; 273  |/////////////////////////////////////////////////////////////////////////////////
                            23435 ; 274  |
                            23436 ; 275  |//  RTC PERSISTENT Register0 (HW_RTC_PERSISTENT0) Bit Definitions
                            23437 ; 276  |
                            23438 ; 277  |#define HW_RTC_PERSISTENT0_ALARMEN_BITPOS (0)
                            23439 ; 278  |#define HW_RTC_PERSISTENT0_ALARMWAKE_EN_BITPOS (1)
                            23440 ; 279  |#define HW_RTC_PERSISTENT0_ALARMWAKE_BITPOS (2)
                            23441 ; 280  |#define HW_RTC_PERSISTENT0_XTALPDOWN_BITPOS (3)
                            23442 ; 281  |#define HW_RTC_PERSISTENT0_RSVD0_BITPOS (4)
                            23443 ; 282  |
                            23444 ; 283  |#define HW_RTC_PERSISTENT0_ALARMEN_WIDTH (1)
                            23445 ; 284  |#define HW_RTC_PERSISTENT0_ALARMWAKE_EN_WIDTH (1)
                            23446 ; 285  |#define HW_RTC_PERSISTENT0_ALARMWAKE_WIDTH (1)
                            23447 ; 286  |#define HW_RTC_PERSISTENT0_XTALPDOWN_WIDTH (1)
                            23448 ; 287  |#define HW_RTC_PERSISTENT0_RSVD0_WIDTH (21)
                            23449 ; 288  |
                            23450 ; 289  |#define HW_RTC_PERSISTENT0_ALARMEN_SETMASK (((1<<HW_RTC_PERSISTENT0_ALARMEN_WIDTH)-1)<<HW_RTC_PERSISTENT0_ALARMEN_BITPOS) 
                            23451 ; 290  |#define HW_RTC_PERSISTENT0_ALARMWAKE_EN_SETMASK (((1<<HW_RTC_PERSISTENT0_ALARMWAKE_EN_WIDTH)-1)<<HW_RTC_PERSISTENT0_ALARMWAKE_EN_BITPOS)
                            23452 ; 291  |#define HW_RTC_PERSISTENT0_ALARMWAKE_SETMASK (((1<<HW_RTC_PERSISTENT0_ALARMWAKE_WIDTH)-1)<<HW_RTC_PERSISTENT0_ALARMWAKE_BITPOS) 
                            23453 ; 292  |#define HW_RTC_PERSISTENT0_XTALPDOWN_SETMASK (((1<<HW_RTC_PERSISTENT0_XTALPDOWN_WIDTH)-1)<<HW_RTC_PERSISTENT0_XTALPDOWN_BITPOS) 
                            23454 ; 293  |#define HW_RTC_PERSISTENT0_RSVD0_SETMASK (((1<<HW_RTC_PERSISTENT0_RSVD0_WIDTH)-1)<<HW_RTC_PERSISTENT0_RSVD0_BITPOS) 
                            23455 ; 294  |
                            23456 ; 295  |#define HW_RTC_PERSISTENT0_ALARMEN_CLRMASK (~(WORD)HW_RTC_PERSISTENT0_ALARMEN_SETMASK)
                            23457 ; 296  |#define HW_RTC_PERSISTENT0_ALARMWAKE_EN_CLRMASK (~(WORD)HW_RTC_PERSISTENT0_ALARMWAKE_EN_SETMASK)
                            23458 ; 297  |#define HW_RTC_PERSISTENT0_ALARMWAKE_CLRMASK (~(WORD)HW_RTC_PERSISTENT0_ALARMWAKE_SETMASK)
                            23459 ; 298  |#define HW_RTC_PERSISTENT0_XTALPDOWN_CLRMASK (~(WORD)HW_RTC_PERSISTENT0_XTALPDOWN_SETMASK)
                            23460 ; 299  |#define HW_RTC_PERSISTENT0_RSVD0_CLRMASK (~(WORD)HW_RTC_PERSISTENT0_RSVD0_SETMASK)
                            23461 ; 300  |
                            23462 ; 301  |typedef union               
                            23463 ; 302  |{
                            23464 ; 303  |   struct {
                            23465 ; 304  |      int ALARMEN   : HW_RTC_PERSISTENT0_ALARMEN_WIDTH;
                            23466 ; 305  |           int ALARMWAKE_EN  :  HW_RTC_PERSISTENT0_ALARMWAKE_EN_WIDTH;
                            23467 ; 306  |      int ALARMWAKE : HW_RTC_PERSISTENT0_ALARMWAKE_WIDTH;
                            23468 ; 307  |      int XTALPDOWN : HW_RTC_PERSISTENT0_XTALPDOWN_WIDTH;
                            23469 ; 308  |      int RSVD0     : HW_RTC_PERSISTENT0_RSVD0_WIDTH;
                            23470 ; 309  |   } B;
                            23471 ; 310  |    int I;
                            23472 ; 311  |    unsigned int U;
                            23473 ; 312  |} rtc_PERSISTENT0_type;
                            23474 ; 313  |#define HW_RTC_PERSISTENT0   (*(volatile rtc_PERSISTENT0_type _X*) (HW_RTC_BASEADDR+7))  /* RTC PERSISTENT Register0 */
                            23475 ; 314  |
                            23476 ; 315  |/////////////////////////////////////////////////////////////////////////////////
                            23477 ; 316  |
                            23478 ; 317  |//  RTC PERSISTENT Register1 (HW_RTC_PERSISTENT1) Bit Definitions
                            23479 ; 318  |
                            23480 ; 319  |#define HW_RTC_PERSISTENT1_RSVD0_BITPOS (0)
                            23481 ; 320  |
                            23482 ; 321  |#define HW_RTC_PERSISTENT1_RSVD0_WIDTH (24)
                            23483 ; 322  |
                            23484 ; 323  |#define HW_RTC_PERSISTENT1_RSVD0_SETMASK (((1<<HW_RTC_PERSISTENT1_RSVD0_WIDTH)-1)<<HW_RTC_PERSISTENT1_RSVD0_BITPOS) 
                            23485 ; 324  |
                            23486 ; 325  |#define HW_RTC_PERSISTENT1_RSVD0_CLRMASK (~(WORD)HW_RTC_PERSISTENT1_RSVD0_SETMASK)
                            23487 ; 326  |
                            23488 ; 327  |
                            23489 ; 328  |typedef union               
                            23490 ; 329  |{
                            23491 ; 330  |    struct {
                            23492 ; 331  |         int RSVD0      : HW_RTC_PERSISTENT1_RSVD0_WIDTH;
                            23493 ; 332  |    } B;
                            23494 ; 333  |    int I;
                            23495 ; 334  |    unsigned int U;
                            23496 ; 335  |} rtc_PERSISTENT1_type;
                            23497 ; 336  |#define HW_RTC_PERSISTENT1   (*(volatile rtc_PERSISTENT1_type _X*) (HW_RTC_BASEADDR+8))  /* RTC PERSISTENT Register1 */
                            23498 ; 337  |
                            23499 ; 338  |
                            23500 ; 339  |#endif
                            23501 ; 340  |
                            23502 ; 341  |
                            23503 ; 342  |
                            23504 ; 343  |
                            23505 ; 344  |
                            23506 ; 345  |
                            23507 ; 346  |
                            23508 ; 347  |
                            23509 ; 348  |
                            23510 ; 349  |
                            23511 ; 350  |
                            23512 ; 351  |
                            23513 ; 352  |
                            23514 ; 353  |
                            23515 
                            23517 
                            23518 ; 13   |
                            23519 ; 14   |// Reserve bit 0 for Low Power USB, if hub can't supply 500mA, need to reboot with 100mA
                            23520 ; 15   |#define HW_RTC_LOW_POWER_USB_REG                     (HW_RTC_PERSISTENT1)
                            23521 ; 16   |#define HW_RTC_PERSISTANT1_LOW_POWER_USB_BITPOS      (0)
                            23522 ; 17   |#define HW_RTC_PERSISTANT1_LOW_POWER_USB_WIDTH       (1)
                            23523 ; 18   |#define HW_RTC_PERSISTANT1_LOW_POWER_USB_SETMASK     (((1<<HW_RTC_PERSISTANT1_LOW_POWER_USB_WIDTH)-1)<<HW_RTC_PERSISTANT1_LOW_POWER_USB_BITPOS) 
                            23524 ; 19   |#define HW_RTC_PERSISTANT1_LOW_POWER_USB_CLRMASK     (~(WORD)HW_RTC_PERSISTANT1_LOW_POWER_USB_SETMASK)
                            23525 ; 20   |
                            23526 ; 21   |// Reserve bit 1 for Skip Checkdisk.  If disk hasn't changed, don't run checkdisk.
                            23527 ; 22   |#define HW_RTC_SKIP_CHECKDISK_REG                    (HW_RTC_PERSISTENT1)
                            23528 ; 23   |#define HW_RTC_PERSISTENT1_SKIP_CHECKDISK_BITPOS     (1)
                            23529 ; 24   |#define HW_RTC_PERSISTENT1_SKIP_CHECKDISK_WIDTH      (1)
                            23530 ; 25   |#define HW_RTC_PERSISTENT1_SKIP_CHECKDISK_SETMASK    (((1<<HW_RTC_PERSISTANT1_SKIP_CHECKDISK_WIDTH)-1)<<HW_RTC_PERSISTANT1_SKIP_CHECKDISK_BITPOS) 
                            23531 ; 26   |#define HW_RTC_PERSISTANT1_SKIP_CHECKDISK_CLRMASK    (~(WORD)HW_RTC_PERSISTANT1_SKIP_CHECKDISK_SETMASK)
                            23532 ; 27   |
                            23533 ; 28   |// Reserve bit 2 for Skip building music library internal flash.  If disk hasn't changed, don't run building.
                            23534 ; 29   |#define HW_RTC_SKIP_REBUILD_REG                  (HW_RTC_PERSISTENT1)
                            23535 ; 30   |#define HW_RTC_PERSISTENT1_SKIP_REBUILD_BITPOS   (2)
                            23536 ; 31   |#define HW_RTC_PERSISTENT1_SKIP_REBUILD_WIDTH    (1)
                            23537 ; 32   |#define HW_RTC_PERSISTENT1_SKIP_REBUILD_SETMASK  (((1<<HW_RTC_PERSISTENT1_SKIP_REBUILD_WIDTH)-1)<<HW_RTC_PERSISTENT1_SKIP_REBUILD_BITPOS) 
                            23538 ; 33   |#define HW_RTC_PERSISTENT1_SKIP_REBUILD_CLRMASK  (~(WORD)HW_RTC_PERSISTENT1_SKIP_REBUILD_SETMASK)
                            23539 ; 34   |
                            23540 ; 35   |// Reserve bit 3 for 2nd try Low Power USB, if hub can't supply 500mA (try 2 times)
                            23541 ; 36   |// need to reboot with 100mA
                            23542 ; 37   |#define HW_RTC_PERSISTANT1_LOW_POWER2_USB_BITPOS     (3)
                            23543 ; 38   |#define HW_RTC_PERSISTANT1_LOW_POWER2_USB_WIDTH      (1)
                            23544 ; 39   |#define HW_RTC_PERSISTANT1_LOW_POWER2_USB_SETMASK    (((1<<HW_RTC_PERSISTANT1_LOW_POWER2_USB_WIDTH)-1)<<HW_RTC_PERSISTANT1_LOW_POWER2_USB_BITPOS) 
                            23545 ; 40   |#define HW_RTC_PERSISTANT1_LOW_POWER2_USB_CLRMASK    (~(WORD)HW_RTC_PERSISTANT1_LOW_POWER2_USB_SETMASK)
                            23546 ; 41   |
                            23547 ; 42   |// Reserve bit 5 for MTP database clean flag. 1 => database "clean", 0 => database "dirty"
                            23548 ; 43   |#define HW_RTC_MTP_DB_CLEAN_FLAG_REG                 (HW_RTC_PERSISTENT1)
                            23549 ; 44   |#define HW_RTC_PERSISTANT1_MTP_DB_CLEAN_FLAG_BITPOS  (5)
                            23550 ; 45   |#define HW_RTC_PERSISTANT1_MTP_DB_CLEAN_FLAG_WIDTH   (1)
                            23551 ; 46   |#define HW_RTC_PERSISTANT1_MTP_DB_CLEAN_FLAG_SETMASK (((1<<HW_RTC_PERSISTANT1_MTP_DB_CLEAN_FLAG_WIDTH)-1)<<HW_RTC_PERSISTANT1_MTP_DB_CLEAN_FLAG_BITPOS) 
                            23552 ; 47   |#define HW_RTC_PERSISTANT1_MTP_DB_CLEAN_FLAG_CLRMASK (~(WORD)HW_RTC_PERSISTANT1_MTP_DB_CLEAN_FLAG_SETMASK)
                            23553 ; 48   |
                            23554 ; 49   |// Reserve bit 6 for when to use backup resource.bin.  1 => require resource.bat refresh, 0 => no refresh reqd.
                            23555 ; 50   |#define HW_RTC_RESOURCE_BIN_REFRESH_FLAG_REG              (HW_RTC_PERSISTENT1)
                            23556 ; 51   |#define HW_RTC_PERSISTANT1_RESOURCE_BIN_REFRESH_FLAG_BITPOS  (6)
                            23557 ; 52   |#define HW_RTC_PERSISTANT1_RESOURCE_BIN_REFRESH_FLAG_WIDTH   (1)
                            23558 ; 53   |#define HW_RTC_PERSISTANT1_RESOURCE_BIN_REFRESH_FLAG_SETMASK (((1<<HW_RTC_PERSISTANT1_RESOURCE_BIN_REFRESH_FLAG_WIDTH)-1)<<HW_RTC_PERSISTANT1_RESOURCE_BIN_REFRESH_FLAG_BITPOS) 
                            23559 ; 54   |#define HW_RTC_PERSISTANT1_RESOURCE_BIN_REFRESH_CLRMASK (~(WORD)HW_RTC_PERSISTANT1_RESOURCE_BIN_REFRESH_FLAG_SETMASK)
                            23560 ; 55   |
                            23561 ; 56   |// Reserve bit 7 for when to use backup resource.bin.  1 => require resource.bat refresh, 0 => no refresh reqd.
                            23562 ; 57   |#define HW_RTC_HOST_RESOURCE_BIN_REFRESH_FLAG_REG              (HW_RTC_PERSISTENT1)
                            23563 ; 58   |#define HW_RTC_PERSISTANT1_HOST_RESOURCE_BIN_REFRESH_FLAG_BITPOS  (7)
                            23564 ; 59   |#define HW_RTC_PERSISTANT1_HOST_RESOURCE_BIN_REFRESH_FLAG_WIDTH   (1)
                            23565 ; 60   |#define HW_RTC_PERSISTANT1_HOST_RESOURCE_BIN_REFRESH_FLAG_SETMASK (((1<<HW_RTC_PERSISTANT1_HOST_RESOURCE_BIN_REFRESH_FLAG_WIDTH)-1)<<HW_RTC_PERSISTANT1_HOST_RESOURCE_BIN_REFRESH_FLAG_BITPOS) 
                            23566 ; 61   |#define HW_RTC_PERSISTANT1_HOST_RESOURCE_BIN_REFRESH_CLRMASK (~(WORD)HW_RTC_PERSISTANT1_HOST_RESOURCE_BIN_REFRESH_FLAG_SETMASK)
                            23567 ; 62   |
                            23568 ; 63   |// Want to wait 2000 clocks before failing.
                            23569 ; 64   |#define PERSIST_WAIT_TIME                            2000
                            23570 ; 65   |
                            23571 ; 66   |void _reentrant StickyBitInit(void);
                            23572 ; 67   |RETCODE _reentrant ReadStickyBit(volatile _X WORD * pSBPointer, WORD BitPosition, BOOL * bResult);
                            23573 ; 68   |RETCODE _reentrant SetStickyBit(volatile _X WORD * pSBPointer, WORD BitPosition);
                            23574 ; 69   |RETCODE _reentrant ClearStickyBit(volatile _X WORD * pSBPointer, WORD BitPosition);
                            23575 ; 70   |void _reentrant SetBitResourceRefresh(INT bBitValue); // should this line be commented out? I think the func def was commented out since unused.
                            23576 ; 71   |INT _reentrant GetBitResourceRefresh(void);           // "
                            23577 ; 72   |void _reentrant StickyBitForceUpdate(void);
                            23578 ; 73   |
                            23579 ; 74   |#endif // _PERSIST_BITS_H
                            23580 
                            23582 
                            23583 ; 21   |#include "sysmem.h"
                            23584 
                            23586 
                            23587 ; 1    |//;******************************************************************************
                            23588 ; 2    |//; Copyright(C) SigmaTel, Inc. 2000-2003
                            23589 ; 3    |//; File: sysmem.h
                            23590 ; 4    |//; ST System Memory Externs
                            23591 ; 5    |//;******************************************************************************
                            23592 ; 6    |
                            23593 ; 7    |#ifndef SYSMEM_XREF_C
                            23594 ; 8    |#define SYSMEM_XREF_C
                            23595 ; 9    |
                            23596 ; 10   |// Variables in X
                            23597 ; 11   |extern unsigned int _X g_wDecoderCSR;
                            23598 ; 12   |extern unsigned int _X g_wDecoderSR;
                            23599 ; 13   |extern unsigned int _X g_wDecoderCSR2;  // DECODE2EOF
                            23600 ; 14   |extern unsigned int _X g_wEncoderSR;
                            23601 ; 15   |extern unsigned int _X g_wEncoderCSR;
                            23602 ; 16   |extern unsigned int _X g_wRecStartTimeHigh;
                            23603 ; 17   |extern unsigned int _X g_wRecStartTimeLow;
                            23604 ; 18   |extern unsigned int _X g_wSysError;
                            23605 ; 19   |#ifdef TRACEBUF_EN
                            23606 ; 20   |extern unsigned int _X g_wTraceBuffer; //Disabled by default.   
                            23607 ; 21   |extern unsigned int _X g_wTracePointer;
                            23608 ; 22   |#endif
                            23609 ; 23   |extern unsigned int _X g_wUserScratchX[];
                            23610 ; 24   |extern unsigned int _X g_wNextVoiceNumValue;
                            23611 ; 25   |extern unsigned int _X g_wEncAdpcmSave_r7;
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page  93

M:ADDR CODE           CYCLES LINE SOURCELINE
                            23612 ; 26   |extern unsigned int _X g_wEncAdpcmSave_m7;
                            23613 ; 27   |extern unsigned int _X g_wEncModuleState;
                            23614 ; 28   |extern unsigned int _X g_wEncoderIsrSR;
                            23615 ; 29   |extern unsigned int _X g_bAudibleNeedFileSize;          // 10/12/04 mmiu - Added for AA file navigation
                            23616 ; 30   |extern unsigned int _X g_bAudiblePlayThrough;           // 11/1/04 mmiu - Added for file position play-through indicator
                            23617 ; 31   |extern unsigned int _X g_wSongStartOffsetHigh;          // 11/1/04 mmiu - Added until confirmed we can use g_wSongByteTotalConsumedHigh/Low
                            23618 ; 32   |extern unsigned int _X g_wSongStartOffsetLow;
                            23619 ; 33   |
                            23620 ; 34   |// Variables in Y
                            23621 ; 35   |extern int          _Y g_VolumeBias;
                            23622 ; 36   |extern unsigned int _Y g_wCurrentRoutinePtr;
                            23623 ; 37   |extern unsigned int _Y g_wSystemFileHandle;
                            23624 ; 38   |extern unsigned int _Y g_wSongByteTotalHigh;
                            23625 ; 39   |extern unsigned int _Y g_wSongByteTotalLow; 
                            23626 ; 40   |extern unsigned int _Y g_wSongByteLengthHigh;
                            23627 ; 41   |extern unsigned int _Y g_wSongByteLengthLow;
                            23628 ; 42   |extern unsigned int _Y g_wInvSampleRate;
                            23629 ; 43   |extern unsigned int _Y g_wCurrentSongBad;
                            23630 ; 44   |extern unsigned int _Y g_iSongType;
                            23631 ; 45   |extern _packed BYTE _Y g_CurrentSongName[];
                            23632 ; 46   |extern unsigned int _Y g_wCurrentDirDevId;
                            23633 ; 47   |extern unsigned int _Y g_wSongInvBitRatePtr;
                            23634 ; 48   |extern unsigned int _Y g_wUserScratchXDescriptor;
                            23635 ; 49   |extern unsigned int _Y g_wUserScratchYDescriptor;
                            23636 ; 50   |extern _packed BYTE _Y g_EncFileNameString[];
                            23637 ; 51   |extern unsigned int _Y g_wEncFileHandle;
                            23638 ; 52   |extern unsigned int _Y g_wEncAdpcmOvlSave_sp;
                            23639 ; 53   |extern unsigned int _Y g_wRootDirectory;
                            23640 ; 54   |extern unsigned int _Y g_wUserScratchY[];
                            23641 ; 55   |extern unsigned int _Y g_wPrevInvBitRatePtr;
                            23642 ; 56   |
                            23643 ; 57   |#endif  // SYSMEM_XREF_C
                            23644 
                            23646 
                            23647 ; 22   |#include "FileSystem.h"
                            23648 
                            23650 
                            23651 ; 1    |////////////////////////////////////////////////////////////////////////////////
                            23652 ; 2    |//  Copyright(C) SigmaTel, Inc. 2001
                            23653 ; 3    |//
                            23654 ; 4    |//  File        : FileSystem.h
                            23655 ; 5    |//  Description : Header File for File System
                            23656 ; 6    |////////////////////////////////////////////////////////////////////////////////
                            23657 ; 7    |
                            23658 ; 8    |#ifndef _FILESYSTEM_H
                            23659 ; 9    |#define _FILESYSTEM_H
                            23660 ; 10   |
                            23661 ; 11   |#include "types.h"
                            23662 ; 12   |
                            23663 ; 13   |
                            23664 ; 14   |// File attributes
                            23665 ; 15   |#ifndef _FS_ATTRIBUTES
                            23666 ; 16   |#define _FS_ATTRIBUTES
                            23667 ; 17   |#define READ        1
                            23668 ; 18   |#define WRITE       2
                            23669 ; 19   |#define WRITE_PLUS  3
                            23670 ; 20   |#define APPEND      4
                            23671 ; 21   |#define TRUNCATE    8
                            23672 ; 22   |#define CREATE      16
                            23673 ; 23   |#endif
                            23674 ; 24   |
                            23675 ; 25   |//#ifndef FAT12
                            23676 ; 26   |//#define FAT12   1
                            23677 ; 27   |//#endif
                            23678 ; 28   |//
                            23679 ; 29   |#ifndef FAT16
                            23680 ; 30   |#define FAT16   2
                            23681 ; 31   |#endif
                            23682 ; 32   |
                            23683 ; 33   |#define MEM_SPACE_P 0x100000
                            23684 ; 34   |#define MEM_SPACE_Y 0x400000
                            23685 ; 35   |#define MEM_SPACE_X 0x800000
                            23686 ; 36   |
                            23687 ; 37   |#define FILE_SYS_MODE_READ  0
                            23688 ; 38   |#define FILE_SYS_MODE_WRITE 1
                            23689 ; 39   | 
                            23690 ; 40   |#define ATTR_READ_ONLY      0x01
                            23691 ; 41   |#define ATTR_HIDDEN         0x02
                            23692 ; 42   |#define ATTR_SYSTEM         0x04
                            23693 ; 43   |#define ATTR_VOLUME_ID      0x08
                            23694 ; 44   |#define ATTR_DIRECTORY      0x10
                            23695 ; 45   |#define ATTR_ARCHIVE        0x20
                            23696 ; 46   |#define ATTR_LONG_NAME      ATTR_READ_ONLY|ATTR_HIDDEN|ATTR_SYSTEM|ATTR_VOLUME_ID
                            23697 ; 47   |
                            23698 ; 48   |#define SEEK_SET           -1
                            23699 ; 49   |#define SEEK_CUR            0
                            23700 ; 50   |#define SEEK_END            1
                            23701 ; 51   |
                            23702 ; 52   |#define DEVICE_INSTALLED              (WORD)(0)
                            23703 ; 53   |#define DEVICE_NOT_FOUND              (WORD)(2)
                            23704 ; 54   |#define INVALID_FILESYSTEM                        (WORD)(3)
                            23705 ; 55   |#define DEVICE_INVALID                (WORD)(-1)
                            23706 ; 56   |#define DEVICE_ERROR_WRITE_PROTECTED  (WORD)(-2)
                            23707 ; 57   |
                            23708 ; 58   |#define MEDIA_SIZE_TOTAL_SECTORS    0
                            23709 ; 59   |#define MEDIA_SIZE_TOTAL_BYTES      1
                            23710 ; 60   |#define MEDIA_SIZE_BYTES_PER_SECTOR 2
                            23711 ; 61   |#define MEDIA_SIZE_IN_MEGABYTES     3     
                            23712 ; 62   |
                            23713 ; 63   |#define READ_TYPE_NORMAL            0
                            23714 ; 64   |#define READ_TYPE_FAT               1
                            23715 ; 65   |#define READ_TYPE_RAW               2
                            23716 ; 66   |
                            23717 ; 67   |
                            23718 ; 68   |#ifdef MEDIA_DDI_PARTIAL_SEQ_ENABLE
                            23719 ; 69   |    #define WRITE_TYPE_RANDOM                   0
                            23720 ; 70   |    #define WRITE_TYPE_SEQ_FIRST                1
                            23721 ; 71   |    #define WRITE_TYPE_SEQ_NEXT                 2
                            23722 ; 72   |    #define WRITE_TYPE_RESET_CLEAN_UP           3
                            23723 ; 73   |    #define WRITE_TYPE_PARTIAL_SEQ_FIRST        4
                            23724 ; 74   |    #define WRITE_TYPE_PARTIAL_SEQ_NEXT         5
                            23725 ; 75   |    #define WRITE_TYPE_PARTIAL_SEQ_LAST         6
                            23726 ; 76   |    #ifdef MEDIA_DDI_RAW_SECTOR_SERVER_ENABLE
                            23727 ; 77   |        #define WRITE_TYPE_RANDOM_RAW               7
                            23728 ; 78   |        #define WRITE_TYPE_SEQ_FIRST_RAW            8
                            23729 ; 79   |        #define WRITE_TYPE_SEQ_NEXT_RAW             9
                            23730 ; 80   |        #define WRITE_TYPE_PARTIAL_SEQ_FIRST_RAW    10
                            23731 ; 81   |        #define WRITE_TYPE_PARTIAL_SEQ_NEXT_RAW     11
                            23732 ; 82   |        #define WRITE_TYPE_PARTIAL_SEQ_LAST_RAW     12
                            23733 ; 83   |    #endif
                            23734 ; 84   |#else
                            23735 ; 85   |    #define WRITE_TYPE_RANDOM                   0
                            23736 ; 86   |    #define WRITE_TYPE_SEQ_FIRST                1
                            23737 ; 87   |    #define WRITE_TYPE_SEQ_NEXT                 2
                            23738 ; 88   |    #ifdef MEDIA_DDI_RAW_SECTOR_SERVER_ENABLE
                            23739 ; 89   |        #define WRITE_TYPE_RANDOM_RAW               3
                            23740 ; 90   |        #define WRITE_TYPE_SEQ_FIRST_RAW            4
                            23741 ; 91   |        #define WRITE_TYPE_SEQ_NEXT_RAW             5
                            23742 ; 92   |    #endif
                            23743 ; 93   |#endif
                            23744 ; 94   |    #define WRITE_TYPE_UNDEFINED 0xFFFFFF
                            23745 ; 95   |
                            23746 ; 96   |
                            23747 ; 97   |#ifndef MAX_FILENAME_LENGTH
                            23748 ; 98   |#define MAX_FILENAME_LENGTH 256
                            23749 ; 99   |#endif
                            23750 ; 100  |
                            23751 ; 101  |typedef struct {
                            23752 ; 102  |    WORD wNumberOfZones;
                            23753 ; 103  |    WORD wSizeInMegaBytes;
                            23754 ; 104  |} SMARTMEDIA_CHIP_INFO;
                            23755 ; 105  |
                            23756 ; 106  |typedef struct {
                            23757 ; 107  |    WORD wBootIdentification;
                            23758 ; 108  |    WORD wStartHeadNumber;
                            23759 ; 109  |    WORD wStartSectorNumber;
                            23760 ; 110  |    WORD wStartCylinderNumber;
                            23761 ; 111  |    WORD wSystemIdentification;
                            23762 ; 112  |    WORD wEndHeadNumber;
                            23763 ; 113  |    WORD wEndSectorNumber;
                            23764 ; 114  |    WORD wEndCylinderNumber;
                            23765 ; 115  |    WORD wStartLogicalSectorNumberHigh;
                            23766 ; 116  |    WORD wStartLogicalSectorNumberLow;
                            23767 ; 117  |    WORD wPartitionSizeHigh;
                            23768 ; 118  |    WORD wPartitionSizeLow;
                            23769 ; 119  |} SMARTMEDIA_PARTITION_TABLE;
                            23770 ; 120  |
                            23771 ; 121  |typedef struct {
                            23772 ; 122  |    WORD wWord0;
                            23773 ; 123  |    WORD wWord1;
                            23774 ; 124  |    WORD wWord2;
                            23775 ; 125  |} SMARTMEDIA_CIS_IDI_MANUFACTURER_NAME;
                            23776 ; 126  |
                            23777 ; 127  |typedef struct {
                            23778 ; 128  |    WORD wWord0;
                            23779 ; 129  |    WORD wWord1;
                            23780 ; 130  |} SMARTMEDIA_CIS_IDI_PRODUCT_NAME;
                            23781 ; 131  |
                            23782 ; 132  |typedef struct {
                            23783 ; 133  |    WORD wWord0;
                            23784 ; 134  |    WORD wWord1;
                            23785 ; 135  |} SMARTMEDIA_CIS_IDI_PRODUCT_VERSION;
                            23786 ; 136  |
                            23787 ; 137  |typedef struct {
                            23788 ; 138  |    WORD wWord0;
                            23789 ; 139  |    WORD wWord1;
                            23790 ; 140  |    WORD wWord2;
                            23791 ; 141  |    WORD wWord3;
                            23792 ; 142  |} SMARTMEDIA_CIS_IDI_SERIAL_NUMBER;
                            23793 ; 143  |
                            23794 ; 144  |typedef struct {
                            23795 ; 145  |    WORD wWord0;
                            23796 ; 146  |} SMARTMEDIA_CIS_IDI_MODEL_NUMBER;
                            23797 ; 147  |
                            23798 ; 148  |typedef struct {
                            23799 ; 149  |    SMARTMEDIA_CIS_IDI_MANUFACTURER_NAME ManufacturerName;
                            23800 ; 150  |    SMARTMEDIA_CIS_IDI_PRODUCT_NAME ProductName;
                            23801 ; 151  |    SMARTMEDIA_CIS_IDI_PRODUCT_VERSION ProductVersion;
                            23802 ; 152  |    SMARTMEDIA_CIS_IDI_SERIAL_NUMBER SerialNumber;
                            23803 ; 153  |    SMARTMEDIA_CIS_IDI_MODEL_NUMBER ModelNumber;
                            23804 ; 154  |} SMARTMEDIA_CIS_IDI_TABLE;
                            23805 ; 155  |   
                            23806 ; 156  |typedef struct {
                            23807 ; 157  |    WORD wPageSizeInBytes;
                            23808 ; 158  |    WORD wRedundantAreaSizeInBytes;
                            23809 ; 159  |    WORD wNumberOfPagesPerBlock;
                            23810 ; 160  |    WORD wNumberOfBlocksPerZone;
                            23811 ; 161  |    WORD wNumberOfZonesInMedia;
                            23812 ; 162  |    WORD wMediaSizeInMBytes;
                            23813 ; 163  |    SMARTMEDIA_PARTITION_TABLE * pPartitionTable;
                            23814 ; 164  |    SMARTMEDIA_CIS_IDI_TABLE * pCisIdiTable;
                            23815 ; 165  |    WORD wMediaFlagStatus;
                            23816 ; 166  |    WORD wNumberOfBlocksToTheCisIdiBlock;
                            23817 ; 167  |    WORD wTotalNumberOfPhysicalBlocks;
                            23818 ; 168  |    WORD wNumberOfSystemBlocks;
                            23819 ; 169  |} SMARTMEDIA_ENTRY_TABLE;
                            23820 ; 170  |
                            23821 ; 171  |typedef struct {
                            23822 ; 172  |    WORD wDevice;        
                            23823 ; 173  |    WORD wDirtyBlockFlag;
                            23824 ; 174  |    WORD wCleanTailFlag; 
                            23825 ; 175  |    WORD wLogDOSPage;    
                            23826 ; 176  |    WORD wSrcLogBlock;   
                            23827 ; 177  |    WORD wSrcPhyBlock;   
                            23828 ; 178  |    WORD wDestPhyBlock;  
                            23829 ; 179  |    WORD wStartSrcPage;  
                            23830 ; 180  |    WORD wStartDestPage; 
                            23831 ; 181  |    WORD wPagesToCopy;   
                            23832 ; 182  |    WORD wReplaceBuff;   
                            23833 ; 183  |    WORD wReplaceRdnt;
                            23834 ; 184  |    #ifdef MEDIA_DDI_PARTIAL_SEQ_ENABLE
                            23835 ; 185  |        WORD wFirstCount;
                            23836 ; 186  |        WORD wNextCount;
                            23837 ; 187  |        WORD wLastCount;
                            23838 ; 188  |    #endif
                            23839 ; 189  |} SMARTMEDIA_FWPPS_TABLE;
                            23840 ; 190  |
                            23841 ; 191  |typedef struct {
                            23842 ; 192  |    WORD wWord0;
                            23843 ; 193  |    WORD wWord1;
                            23844 ; 194  |    WORD wWord2;
                            23845 ; 195  |    WORD wWord3;
                            23846 ; 196  |} DIRECTORY_NAME;
                            23847 ; 197  |
                            23848 ; 198  |typedef struct {
                            23849 ; 199  |    WORD wWord0;
                            23850 ; 200  |    WORD wWord1;
                            23851 ; 201  |} DIRECTORY_EXTENSION;
                            23852 ; 202  |
                            23853 ; 203  |typedef struct {
                            23854 ; 204  |    WORD wWord0;
                            23855 ; 205  |    WORD wWord1;
                            23856 ; 206  |} DIRECTORY_SIZE;
                            23857 ; 207  |
                            23858 ; 208  |typedef struct {
                            23859 ; 209  |    DIRECTORY_NAME Name;
                            23860 ; 210  |    DIRECTORY_EXTENSION Extension;
                            23861 ; 211  |    WORD wAttribute;
                            23862 ; 212  |    WORD wReserved[4];
                            23863 ; 213  |    WORD wCreationTime;
                            23864 ; 214  |    WORD wCreationData;
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page  94

M:ADDR CODE           CYCLES LINE SOURCELINE
                            23865 ; 215  |    WORD wFirstCluster;
                            23866 ; 216  |    DIRECTORY_SIZE Size;
                            23867 ; 217  |    WORD wCurrentCluster;
                            23868 ; 218  |    WORD wPointer;
                            23869 ; 219  |    WORD wRecord;
                            23870 ; 220  |    WORD wRd;
                            23871 ; 221  |} DIRECTORY_FILE_CONTROL_BLOCK;
                            23872 ; 222  |
                            23873 ; 223  |// TODO:  clean this up.  There are two versions.
                            23874 ; 224  |struct FCB
                            23875 ; 225  |{
                            23876 ; 226  |    _packed BYTE m_szFileName[9];       //0-2
                            23877 ; 227  |    int     m_wReserved;                //3
                            23878 ; 228  |    _packed BYTE m_szExt[4];            //4-5
                            23879 ; 229  |    int     m_wAttributes;              //6
                            23880 ; 230  |    int     m_wReserved2[4];            //7,8,9,a
                            23881 ; 231  |    int     m_wTimeofCreation;          //b
                            23882 ; 232  |    int     m_wDateofCreation;          //c
                            23883 ; 233  |    int     m_wFirstCluster;            //d
                            23884 ; 234  |    int     m_wFileSizeHigh;            //e
                            23885 ; 235  |    int     m_wFileSizeLow;             //f
                            23886 ; 236  |};
                            23887 ; 237  |
                            23888 ; 238  |
                            23889 ; 239  |typedef struct {
                            23890 ; 240  |    WORD wFirstClusterCurrentDirectory;
                            23891 ; 241  |    WORD wFirstClusterParentDirectory;
                            23892 ; 242  |    WORD wAbsSectorCurrentlyCached;
                            23893 ; 243  |    WORD wCurrentRelativeSector;
                            23894 ; 244  |    WORD wNumberOfSectors;
                            23895 ; 245  |    WORD wCurrentRecordLoadedInDcb;
                            23896 ; 246  |    WORD wBufferedRecord;
                            23897 ; 247  |    WORD wMaxNumberRecordsCurrentDirectory;
                            23898 ; 248  |    WORD * pwPointerToBuffer;
                            23899 ; 249  |    WORD * pwPointerToPath;
                            23900 ; 250  |    DIRECTORY_FILE_CONTROL_BLOCK * pDirFcb;
                            23901 ; 251  |} DIRECTORY_CONTROL_BLOCK;
                            23902 ; 252  |
                            23903 ; 253  |typedef struct {
                            23904 ; 254  |    WORD wWord0;
                            23905 ; 255  |    WORD wWord1;
                            23906 ; 256  |    WORD wWord2;
                            23907 ; 257  |    WORD wWord3;
                            23908 ; 258  |} FILE_NAME;
                            23909 ; 259  |
                            23910 ; 260  |typedef struct {
                            23911 ; 261  |    WORD wWord0;
                            23912 ; 262  |    WORD wWord1;
                            23913 ; 263  |} FILE_EXTENSION;
                            23914 ; 264  |
                            23915 ; 265  |typedef struct {
                            23916 ; 266  |    WORD wWord0;
                            23917 ; 267  |    WORD wWord1;
                            23918 ; 268  |} FILE_SIZE;
                            23919 ; 269  |
                            23920 ; 270  |typedef union {
                            23921 ; 271  |    struct {
                            23922 ; 272  |        int Read        :1;
                            23923 ; 273  |        int Write       :1;
                            23924 ; 274  |        int Append      :1;
                            23925 ; 275  |        int Truncate    :1;
                            23926 ; 276  |        int Create      :1;
                            23927 ; 277  |        int Rsrv        :3;
                            23928 ; 278  |        int Mode        :8;
                            23929 ; 279  |        int Device      :8;
                            23930 ; 280  |    } B;
                            23931 ; 281  |    int I;
                            23932 ; 282  |} FILE_FLAGS;
                            23933 ; 283  |
                            23934 ; 284  |typedef struct {
                            23935 ; 285  |    WORD wWord0;
                            23936 ; 286  |    WORD wWord1;
                            23937 ; 287  |} FILE_BYTE_CURRENT;
                            23938 ; 288  |
                            23939 ; 289  |typedef struct {
                            23940 ; 290  |    FILE_NAME Name;
                            23941 ; 291  |    FILE_EXTENSION Extension;
                            23942 ; 292  |    WORD wAttributes;
                            23943 ; 293  |    WORD wReserved[4];
                            23944 ; 294  |    WORD wCreationTime;
                            23945 ; 295  |    WORD wCreationData;
                            23946 ; 296  |    WORD wFirstCluster;
                            23947 ; 297  |    FILE_SIZE Size;
                            23948 ; 298  |    WORD wCurrentCluster;
                            23949 ; 299  |    WORD wPointer;
                            23950 ; 300  |    WORD wRecord;
                            23951 ; 301  |    WORD wRd;
                            23952 ; 302  |    FILE_FLAGS Flags;
                            23953 ; 303  |    FILE_BYTE_CURRENT FcbByteCurrent;
                            23954 ; 304  |    WORD wFcbFlagEndOfCx;
                            23955 ; 305  |} FILE_CONTROL_BLOCK;    
                            23956 ; 306  |
                            23957 ; 307  |typedef struct {
                            23958 ; 308  |    WORD wWord0;
                            23959 ; 309  |    WORD wWord1;
                            23960 ; 310  |    WORD wWord2;
                            23961 ; 311  |    WORD wWord3;
                            23962 ; 312  |} VOLUME_LABEL;
                            23963 ; 313  |
                            23964 ; 314  |typedef struct {
                            23965 ; 315  |    WORD wFATPhysicalBlock1;
                            23966 ; 316  |    WORD wFATPhysicalBlock2;
                            23967 ; 317  |    WORD wFATPhysicalBlock3;
                            23968 ; 318  |    WORD wFATPhysicalBlock4;
                            23969 ; 319  |} FAT_PHYSICAL_BLOCK_LIST;
                            23970 ; 320  |
                            23971 ; 321  |typedef struct {
                            23972 ; 322  |    WORD wFATSectorInCache;
                            23973 ; 323  |    WORD wLastClusterFree;
                            23974 ; 324  |    WORD wNumberOfUsedClusters;
                            23975 ; 325  |    WORD wNumberOfFreeClusters;
                            23976 ; 326  |    WORD wNumberOfBadClusters;
                            23977 ; 327  |    WORD wNumberOfReservedClusters;
                            23978 ; 328  |    WORD wControl;
                            23979 ; 329  |    WORD * pwSectorCache;
                            23980 ; 330  |    FAT_PHYSICAL_BLOCK_LIST FATPhysicalLocationList;
                            23981 ; 331  |} FAT_TABLE;
                            23982 ; 332  |
                            23983 ; 333  |typedef struct {
                            23984 ; 334  |    WORD wStateMediaTable;
                            23985 ; 335  |    WORD wTypeFs;
                            23986 ; 336  |    WORD wBytesPerSector;
                            23987 ; 337  |    WORD wSectorsPerCluster;
                            23988 ; 338  |    WORD wNumberOfReservedSectors;
                            23989 ; 339  |    WORD wMaximumNumberOfFATs;
                            23990 ; 340  |    WORD wMaxRootDirectoryEntries;
                            23991 ; 341  |    WORD wTotalSectors;
                            23992 ; 342  |    WORD wNumberOfFATSectors;
                            23993 ; 343  |    WORD wNumberOfSectorsPerTrack;
                            23994 ; 344  |    WORD wNumberOfHeads;
                            23995 ; 345  |    WORD wNumberOfHiddenSectorsMSB;
                            23996 ; 346  |    WORD wNumberOfHiddenSectorsLSB;
                            23997 ; 347  |    WORD wTotalSectors32MSB;
                            23998 ; 348  |    WORD wTotalSectors32LSB;
                            23999 ; 349  |    WORD wDriverNumber;
                            24000 ; 350  |    WORD wExtendedBootSignature;
                            24001 ; 351  |    WORD wVolumeIDMSB;
                            24002 ; 352  |    WORD wVolumeIDLSB;
                            24003 ; 353  |    VOLUME_LABEL VolumeLabel;
                            24004 ; 354  |    WORD * pwWriteBuffer;
                            24005 ; 355  |    WORD wPrimaryFATRelativeSector;
                            24006 ; 356  |    WORD wSecondaryFATRelativeSector;
                            24007 ; 357  |    WORD wRootDirectoryRelativeSector;
                            24008 ; 358  |    WORD wFirstSectorNumberDataZone;
                            24009 ; 359  |    WORD wMaxNumberOfFATEntries;
                            24010 ; 360  |    WORD wRootDirectorySizeInSectors;
                            24011 ; 361  |    WORD wDataAreaSizeInSectors;
                            24012 ; 362  |} MEDIA_TABLE;
                            24013 ; 363  |
                            24014 ; 364  |typedef struct {
                            24015 ; 365  |    MEDIA_TABLE * pMediaTable;
                            24016 ; 366  |    DIRECTORY_CONTROL_BLOCK * pDirectoryControlBlock;
                            24017 ; 367  |    FAT_TABLE * pFATTable;
                            24018 ; 368  |} DEVICE_CONTROL_TABLE;
                            24019 ; 369  |    
                            24020 ; 370  |typedef struct {
                            24021 ; 371  |    WORD dwTotalSizeInMegaBytes;        // dwTotalSizeInMegaBytes is limited
                            24022 ; 372  |                                        //  to 2-bytes for compatibility with
                            24023 ; 373  |                                        //  older host drivers.
                            24024 ; 374  |    DWORD dwTotalNumberOfSectors;
                            24025 ; 375  |    DWORD dwTotalNumberOfBytes;
                            24026 ; 376  |    WORD wSectorSizeInBytes;
                            24027 ; 377  |} MEDIA_SIZE;
                            24028 ; 378  |
                            24029 ; 379  |typedef struct {
                            24030 ; 380  |    BOOL    bInstalled;
                            24031 ; 381  |    INT     iPbsSectorOffset;   // from the beginning of the data drive 
                            24032 ; 382  |    DWORD   dwSize;
                            24033 ; 383  |} DATA_DRIVE_PBS_LOC;
                            24034 ; 384  |extern  INT _reentrant FSFileOpen(_packed BYTE *fname,INT attribute, INT DeviceNumber);
                            24035 ; 385  |extern  INT _reentrant FSFastOpen(DWORD Key, INT attribute);
                            24036 ; 386  |extern  INT FSFileDelete(_packed BYTE *fname,INT DeviceNumber);
                            24037 ; 387  |extern  INT FSFileCreate(_packed BYTE *fname,INT DeviceNumber);
                            24038 ; 388  |extern  INT _reentrant FSChangeDir(_packed BYTE *dirname,INT DeviceNumber);
                            24039 ; 389  |extern  INT _reentrant FSCreateDir(_packed BYTE *dirname,INT DeviceNumber);
                            24040 ; 390  |extern  INT _reentrant FSDeleteDir(_packed BYTE *dirname,INT DeviceNumber);
                            24041 ; 391  |extern  INT _reentrant FSFileAppend(_packed BYTE *fname,INT DeviceNumber);
                            24042 ; 392  |extern  INT _reentrant FSFileRead(INT BytestoRead, INT Handle, INT memory_type, INT modulo, WORD *buffer);
                            24043 ; 393  |extern  INT _reentrant FSFileWrite(INT wNumberBytes, INT Handle, INT memory_type, INT iModulo, WORD *buffer);
                            24044 ; 394  |extern  INT _reentrant FSFileClose(INT Handle);
                            24045 ; 395  |extern  LONG _reentrant FSFileSize(INT HandleNumber);
                            24046 ; 396  |extern  LONG  FSSize(INT DeviceNum, INT TYPE);   
                            24047 ; 397  |extern  INT FSFreeClusters(INT Device);
                            24048 ; 398  |extern  INT BytesPerCluster(INT Device);
                            24049 ; 399  |
                            24050 ; 400  |
                            24051 ; 401  |
                            24052 ; 402  |//extern  INT FSFileCreate(_packed BYTE *pbFileName, BYTE bDevice);
                            24053 ; 403  |//extern  INT FSFileDelete(_packed BYTE *pbFileName, BYTE bDevice);
                            24054 ; 404  |extern  INT FSFileRename(_packed BYTE *pbCurFilename, _packed BYTE *pbNewFilename, BYTE bDevice);
                            24055 ; 405  |//extern  INT _reentrant FSFileAttribute(_packed BYTE *pbFilename, WORD wAttributes, BYTE bDevice);
                            24056 ; 406  |//extern  INT FSFileAppend(_packed BYTE *pbFileName, BYTE bDevice);
                            24057 ; 407  |//extern  INT FSFileOpen(_packed BYTE *pbFileName, WORD wAttributes, BYTE bDevice);
                            24058 ; 408  |//extern  INT FSFileClose(INT bHandle);
                            24059 ; 409  |//extern  INT FSFileRead(WORD wNumberBytes, BYTE bHandle, WORD wMemSpace, INT iModulo, WORD *pwBuffer);
                            24060 ; 410  |//extern  INT FSFileWrite(WORD wNumberBytes, BYTE bHandle, WORD wMemSpace, INT iModulo, WORD *pwBuffer);
                            24061 ; 411  |extern  INT _reentrant fseek( INT handle , LONG offset, INT iOrigin );
                            24062 ; 412  |extern  INT _reentrant FSFileEof(INT Handle);
                            24063 ; 413  |extern INT _reentrant FSFileAttribute(INT Attributes, _packed BYTE *fname, INT DeviceNumber);
                            24064 ; 414  |extern INT _reentrant FSFileAttributeClear(INT Attributes, _packed BYTE *fname, INT DeviceNumber);
                            24065 ; 415  |//extern  LONG FSFileSize(INT bHandle);
                            24066 ; 416  |extern _asmfunc INT FSPresent(BYTE bDevice);
                            24067 ; 417  |extern _asmfunc INT FSType(BYTE bDevice);
                            24068 ; 418  |//extern LONG FSSize(WORD wDevice, WORD wReturnType);
                            24069 ; 419  |//extern INT FSChangeDir(_packed BYTE *pbDirName, BYTE bDevice);
                            24070 ; 420  |//extern INT FSCreateDir(_packed BYTE *pbDirName, BYTE bDevice);
                            24071 ; 421  |//extern INT FSDeleteDir(_packed BYTE *pbDirName, BYTE bDevice);
                            24072 ; 422  |extern _asmfunc void SysLoadFATWrite(void);
                            24073 ; 423  |extern _asmfunc INT SysUnLoadFATWrite(void);
                            24074 ; 424  |extern LONG _reentrant ftell(INT iHandle);
                            24075 ; 425  |extern _asmfunc struct FCB * ReadDirectory(int iDevice, int iEntry);
                            24076 ; 426  |
                            24077 ; 427  |#endif
                            24078 
                            24080 
                            24081 ; 23   |#include "fserror.h"
                            24082 
                            24084 
                            24085 ; 1    |#define                 FS_SUCCESS                                      0
                            24086 ; 2    |#define         NOT_WRITE_MODE              0
                            24087 ; 3    |
                            24088 ; 4    |#define                 FILESYSTEM_NOT_FOUND            -32767  // 0xFFFF8001
                            24089 ; 5    |
                            24090 ; 6    |#define         FS_HANDLE_NOT_ACTIVE        -16384  // 0xFFFFC000
                            24091 ; 7    |#define         FS_MAX_HANDLES_EXCEEDED     -16385  // 0xFFFFBFFF
                            24092 ; 8    |#define         FS_NO_FREE_HANDLE           -16386  // 0xFFFFBFFE
                            24093 ; 9    |#define         FSEEK_FAILED                -16387  // 0xFFFFBFFD
                            24094 ; 10   |#define         INVALID_MODE                -16388  // 0xFFFFBFFC
                            24095 ; 11   |#define         NOSPACE_IN_ROOTDIRECTORY    -16389  // 0xFFFFBFFB
                            24096 ; 12   |#define         FS_EOF                      -16390  // 0xFFFFBFFA
                            24097 ; 13   |#define         SECTOR_FULL_OF_RECORD       -16391  // 0xFFFFBFF9
                            24098 ; 14   |#define         NO_FREE_CLUSTER             -16392  // 0xFFFFBFF8
                            24099 ; 15   |#define         FILE_FOUND                  -16393  // 0xFFFFBFF7
                            24100 ; 16   |#define         FILE_NOT_FOUND              -16394  // 0xFFFFBFF6
                            24101 ; 17   |#define         FILE_WRITE_FAILED           -16395  // 0xFFFFBFF5
                            24102 ; 18   |#define         DIRECTORY_IS_NOT_WRITABLE       -16396  // 0xFFFFBFF4
                            24103 ; 19   |#define         CACHE_BUF_RELEASE_ERR       -16397  // 0xFFFFBFF3
                            24104 ; 20   |#define         DIR_NOT_EMPTY                           -16398  // 0xFFFFBFF2
                            24105 ; 21   |#define         FILE_OPEN                       -16399  // 0xFFFFBFF1
                            24106 ; 22   |#define         FILE_DELETE_FAILED          -16400  // 0xFFFFBFF0
                            24107 ; 23   |#define         DUPLICATE_FILE_NAME         -16401  // 0xFFFFBFEF
                            24108 ; 24   |#define         INVALID_DIR_PATH            -16402  // 0xFFFFBFEE
                            24109 ; 25   |#define         CHANGEPATH_NOT_POSSIBLE     -16403  // 0xFFFFBFED
                            24110 ; 26   |#define         FS_MAX_DEVICES_EXCEEDED     -16404  // 0xFFFFBFEC
                            24111 ; 27   |#define         MEDIA_TYPE_NOT_SUPPORTED    -16405  // 0xFFFFBFEB
                            24112 ; 28   |#define         MODE_NOT_SUPPORTED          -16406  // 0xFFFFBFEA
                            24113 ; 29   |#define         INVALID_CLUSTER_NO          -16407  // 0xFFFFBFE9
                            24114 ; 30   |#define         CANNOT_DELETE_CWD           -16408  // 0xFFFFBFE8
                            24115 ; 31   |#define         CURRENT_WORK_DIR            -16409  // 0xFFFFBFE7
                            24116 ; 32   |#define         DIR_NOT_REMOVABLE           -16410  // 0xFFFFBFE6
                            24117 ; 33   |#define         INVALID_RECORD_NUMBER       -16411  // 0xFFFFBFE5
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page  95

M:ADDR CODE           CYCLES LINE SOURCELINE
                            24118 ; 34   |#define                 LONG_FILE_NAME                          -16412  // 0xFFFFBFE4
                            24119 ; 35   |#define                 NO_MATCHING_RECORD                      -16413  // 0xFFFFBFE3
                            24120 ; 36   |#define                 NOT_VALID_SECTOR                        -16414  // 0xFFFFBFE2
                            24121 ; 37   |#define                 DEVICE_NOT_SUPPORTED            -16415  // 0xFFFFBFE1
                            24122 ; 38   |#define         FS_ERROR                                        -16416  // 0xFFFFBEE0
                            24123 ; 39   |#define                 READSECTOR_FAIL                         -16417  // 0xFFFFBFDF
                            24124 ; 40   |#define                 DEVICE_NOT_ACTIVE                       -16418  // 0xFFFFBFDE
                            24125 ; 41   |#define                 ILLEGAL_FILENAME_CHARA          -16419  // 0xFFFFBFDD
                            24126 ; 42   |#define                 MEDIAREAD_FAILED                        -16420  // 0xFFFFBFDC
                            24127 ; 43   |#define                 MEDIAWRITE_FAILED                       -16421  // 0xFFFFBFDB
                            24128 ; 44   |#define                 CANNOT_OPEN_DIRECTORY           -16422  // 0xFFFFBFDA
                            24129 ; 45   |#define         VOLUMELABEL_NOT_FOUND           -16423
                            24130 ; 46   |
                            24131 ; 47   |
                            24132 ; 48   |
                            24133 ; 49   |
                            24134 
                            24136 
                            24137 ; 24   |#include "FileSpec.h"
                            24138 
                            24140 
                            24141 ; 1    |#ifndef _FILESPEC_H_
                            24142 ; 2    |#define _FILESPEC_H_
                            24143 ; 3    |#include  "fstypes.h"
                            24144 ; 4    |#define MAX_FILESNAME   13
                            24145 ; 5    |
                            24146 ; 6    |typedef struct {
                            24147 ; 7    |    INT     gCurrentRecord;
                            24148 ; 8    |    INT     DirAttribute;
                            24149 ; 9    |    _packed char    FileName[9];
                            24150 ; 10   |    _packed char    FileExtension[4];
                            24151 ; 11   |}FILESPEC;
                            24152 ; 12   |
                            24153 ; 13   |typedef struct {
                            24154 ; 14   |    INT attrib;
                            24155 ; 15   |        LONG FileSize;
                            24156 ; 16   |    int  device;
                            24157 ; 17   |    INT startrecord;
                            24158 ; 18   |    _packed char name[MAX_FILESNAME];
                            24159 ; 19   |        LONG Key;
                            24160 ; 20   |}Finddata;
                            24161 ; 21   |#endif
                            24162 ; 22   |
                            24163 
                            24165 
                            24166 ; 25   |#include "playlist.h"
                            24167 
                            24169 
                            24170 ; 1    |#ifndef PLAYLIST_H
                            24171 ; 2    |#define PLAYLIST_H
                            24172 ; 3    |
                            24173 ; 4    |#include "types.h"
                            24174 ; 5    |
                            24175 ; 6    |typedef struct {
                            24176 ; 7    |    WORD    m_wTrack;                       
                            24177 ; 8    |    WORD    m_wDeviceID;
                            24178 ; 9    |    WORD    m_wBufferLength;            //this is in BYTES, not WORDS!
                            24179 ; 10   |    _packed BYTE *m_pFilename;
                            24180 ; 11   |} SONGFILEINFO;
                            24181 ; 12   |
                            24182 ; 13   |#define PLAYLIST_SUCCESS                                0
                            24183 ; 14   |#define PLAYLIST_FILE_ERROR                             1
                            24184 ; 15   |#define PLAYLIST_END_OF_LIST                    2
                            24185 ; 16   |#define PLAYLIST_TRACK_NOT_FOUND                3
                            24186 ; 17   |#define PLAYLIST_DIR_NOT_EMPTY          4 
                            24187 ; 18   |#define PLAYLIST_REBUILD                5
                            24188 ; 19   |#define PLAYLIST_LAST_RETCODE                   5               //The value should always be the same as the last RETCODE
                            24189 ; 20   |
                            24190 ; 21   |
                            24191 ; 22   |#ifdef  USE_PLAYLIST1
                            24192 ; 23   |RETCODE ChangeDIRtoFileEntryDir(struct FileEntry *pCurrentEntry, _packed BYTE * buffer);
                            24193 ; 24   |#endif
                            24194 ; 25   |RETCODE _reentrant Playlist_LFNGetFileName(int,int,UCS3*);                      //UCS3 is actually typdef WORD
                            24195 ; 26   |RETCODE _reentrant Playlist_MarkCurrentSongPlayed(int,int,int*);
                            24196 ; 27   |RETCODE _reentrant Playlist_GetCurrentSongFileInfo(int, int, int*);
                            24197 ; 28   |RETCODE _reentrant Playlist_GetNextSongFileInfo(int, int , int*);
                            24198 ; 29   |RETCODE _reentrant Playlist_GetPreviousSongFileInfo(int,int,int*);
                            24199 ; 30   |#ifdef USE_PLAYLIST1
                            24200 ; 31   |_reentrant INT Playlist_LocateEntryFromName(INT,INT,INT*);
                            24201 ; 32   |#endif
                            24202 ; 33   |
                            24203 ; 34   |#endif 
                            24204 
                            24206 
                            24207 ; 26   |#include "syscoder.h"
                            24208 
                            24210 
                            24211 ; 1    |//;///////////////////////////////////////////////////////////////////////////////
                            24212 ; 2    |//; Copyright(C) SigmaTel, Inc. 2000-2001
                            24213 ; 3    |//;
                            24214 ; 4    |//; Filename: syscoder.xref
                            24215 ; 5    |//; Description: Global refs from syscoder.asm
                            24216 ; 6    |//;///////////////////////////////////////////////////////////////////////////////
                            24217 ; 7    |
                            24218 ; 8    |#ifndef SYSCODER_XREF_C
                            24219 ; 9    |#define SYSCODER_XREF_C
                            24220 ; 10   |
                            24221 ; 11   |typedef struct {
                            24222 ; 12   |    WORD wMinutes;
                            24223 ; 13   |    WORD wSeconds;
                            24224 ; 14   |}SONGTIME;
                            24225 ; 15   |
                            24226 ; 16   |// Functions  
                            24227 ; 17   |extern _fract       _Y g_frSongSecondsPerByte;
                            24228 ; 18   |extern unsigned int _Y g_wSongCurrentMinutes;
                            24229 ; 19   |extern unsigned int _Y g_wSongCurrentSeconds;
                            24230 ; 20   |extern unsigned int _Y g_wSongTotalMinutes;
                            24231 ; 21   |extern unsigned int _Y g_wSongTotalSeconds;
                            24232 ; 22   |extern unsigned int _Y g_wSongRemainMinutes; 
                            24233 ; 23   |extern unsigned int _Y g_wSongRemainSeconds;
                            24234 ; 24   |extern unsigned int _Y g_wCurrentSongNumber;
                            24235 ; 25   |extern unsigned int _Y g_wTotalSongCount;
                            24236 ; 26   |
                            24237 ; 27   |extern unsigned int _Y g_wAccumulatedSecs;    // Added for mp3 VBR support.
                            24238 ; 28   |extern unsigned int _Y g_wAccumulatedMSecs;
                            24239 
                            24244 
                            24245 ; 29   |
                            24246 ; 30   |extern _asmfunc SONGTIME DecGetCurrentTime(void);
                            24247 ; 31   |extern _asmfunc DWORD DecGetSongPos(void);
                            24248 ; 32   |extern _asmfunc RETCODE DecSetSongPos(DWORD);
                            24249 ; 33   |extern _asmfunc void DecSetSongPosZero(void);
                            24250 ; 34   |extern _asmfunc void DecSetSongPosEnd(void);
                            24251 ; 35   |extern _asmfunc void DecClearSongTime(void);
                            24252 ; 36   |extern _asmfunc void SysSetDecoderResource(INT);
                            24253 ; 37   |
                            24254 ; 38   |#endif // SYSCODER_XREF
                            24255 ; 39   |
                            24256 ; 40   |
                            24257 ; 41   |
                            24258 ; 42   |
                            24259 
                            24261 
                            24262 ; 27   |#include "encoderproperties.h"
                            24263 
                            24265 
                            24266 ; 1    |/////////////////////////////////////////////////////////////////////////////////
                            24267 ; 2    |// Copyright(C) SigmaTel, Inc. 2000-2006
                            24268 ; 3    |//
                            24269 ; 4    |// Filename: encoderproperties.h
                            24270 ; 5    |// Description: Definitions used in manipulating Encoder Properties
                            24271 ; 6    |/////////////////////////////////////////////////////////////////////////////////
                            24272 ; 7    |
                            24273 ; 8    |extern _Y WORD g_wEncSamplingRate;
                            24274 ; 9    |extern _Y WORD g_wEncBitRate;
                            24275 ; 10   |extern _Y WORD g_wEncADCGain;
                            24276 ; 11   |extern _Y WORD g_wEncADCSRR;
                            24277 ; 12   |extern _Y WORD g_wEncInvSampleRateScale;
                            24278 ; 13   |extern _Y WORD g_wEncNAvgBytesPerSec;
                            24279 ; 14   |extern _Y WORD g_wEncClusterTimeScale;
                            24280 ; 15   |extern _X WORD g_wEncoderSR;
                            24281 ; 16   |extern _Y WORD g_wEncCurrentDeviceNum;
                            24282 ; 17   |extern _Y WORD g_wEncFormatTag;
                            24283 ; 18   |extern _Y WORD g_wEncNumberOfChannels;
                            24284 ; 19   |extern _Y WORD g_wEncPCMBits;
                            24285 ; 20   |extern _Y _packed BYTE g_EncFileNameString[];
                            24286 ; 21   |extern _Y WORD g_wSamplingRateIndex;
                            24287 ; 22   |extern _Y WORD g_wEncSamplingRateIdx;
                            24288 ; 23   |extern _Y _fract g_wEncADCLChOffset;
                            24289 ; 24   |extern _Y _fract g_wEncADCRChOffset;
                            24290 ; 25   |extern _X _fract DCOffsetADC[2][7];
                            24291 ; 26   |
                            24292 ; 27   |                             // struct passed as argument to EncSetProperties
                            24293 ; 28   |typedef struct {
                            24294 ; 29   |  int    device;
                            24295 ; 30   |  _packed BYTE *pFilename;
                            24296 ; 31   |  int    samplingRateInHz;
                            24297 ; 32   |  int    bitRateInKbps;
                            24298 ; 33   |  int    FormatTag; // Algorithm. 1 = PCMWAVE, 2 = MS ADPCM, 0x11 = IMA ADPCM
                            24299 ; 34   |  int    EncNumberOfChannels;
                            24300 ; 35   |  int    EncPCMBits;    // Number of bits for PCMWAVE (8,16,24), else ignored
                            24301 ; 36   |  int    iSource;     // Note: Not implemeted, yet.
                            24302 ; 37   |} EncProperties;
                            24303 ; 38   |
                            24304 ; 39   |typedef struct {
                            24305 ; 40   |  WORD   wNSamplesPerSec;
                            24306 ; 41   |  WORD   wADCGain;
                            24307 ; 42   |  WORD   wADCSRR;
                            24308 ; 43   |  WORD   wInvSampleRateScale;
                            24309 ; 44   |  WORD   wNAvgBytesPerSec;
                            24310 ; 45   |  WORD   wClusterTimeScale;
                            24311 ; 46   |} EncoderSampleRateParms;
                            24312 
                            24323 
                            24324 ; 47   |
                            24325 ; 48   |RETCODE _reentrant EncSetProperties(EncProperties *pProps);
                            24326 ; 49   |
                            24327 ; 50   |// Access functions (macros)
                            24328 ; 51   |
                            24329 ; 52   |#define EncGetSampleRateInHz()  (g_wEncNSamplesPerSec)
                            24330 ; 53   |
                            24331 ; 54   |
                            24332 ; 55   |// These properties are not yet implemented
                            24333 ; 56   |
                            24334 ; 57   |#define EncGetDevice()          (0)
                            24335 ; 58   |#define EncGetFilename()        ("")
                            24336 ; 59   |#define EncGetEncodingMethod()  (0)
                            24337 ; 60   |
                            24338 ; 61   |
                            24339 ; 62   |#define ERROR_ENCODER_INVALID_SAMPLE_RATE ((RETCODE)(-1))
                            24340 ; 63   |#define ERROR_ENCODER_IS_ACTIVE           ((RETCODE)(-2))
                            24341 ; 64   |
                            24342 ; 65   |
                            24343 ; 66   |
                            24344 ; 67   |
                            24345 ; 68   |
                            24346 ; 69   |
                            24347 
                            24349 
                            24350 ; 28   |#ifdef AUDIBLE
                            24351 ; 29   |#include "..\metadata\AAMetaStrings.h"
                            24352 ; 30   |#endif
                            24353 ; 31   |#include "display.h"
                            24354 
                            24356 
                            24357 ; 1    |#ifndef _DISPLAY_H
                            24358 ; 2    |#define _DISPLAY_H
                            24359 ; 3    |
                            24360 ; 4    |//Display bits
                            24361 ; 5    |#define DISPLAY_CLEAR_DISPLAY_BITPOS        0
                            24362 ; 6    |
                            24363 ; 7    |#define DISPLAY_ENCODER_TRACK_TIME_BITPOS   1
                            24364 ; 8    |#define DISPLAY_ENCODER_TRACK_NAME_BITPOS   2
                            24365 ; 9    |#define DISPLAY_RECORD_MODE_BITPOS          3
                            24366 ; 10   |
                            24367 ; 11   |//This bit (DISPLAY_MISC_BITPOS) is set to allow DisplayHints to be non zero, but does not map
                            24368 ; 12   |//to anything in UpdateDisplay();  (meant to be used to indicate that specific
                            24369 ; 13   |//things that are specific for that menu.
                            24370 ; 14   |#define DISPLAY_MISC_BITPOS                 4
                            24371 ; 15   |
                            24372 ; 16   |#define DISPLAY_FMTUNER_FREQUENCY           5
                            24373 ; 17   |#define DISPLAY_FMTUNER_PRESET              6
                            24374 ; 18   |#define DISPLAY_FMTUNER_STRENGTH            7
                            24375 ; 19   |
                            24376 ; 20   |#define DISPLAY_PLAYSTATE_BITPOS             9
                            24377 ; 21   |#define DISPLAY_AB_ICON_BITPOS              10
                            24378 ; 22   |#define DISPLAY_PLAYMODE_BITPOS             11
                            24379 ; 23   |#define DISPLAY_PLAYSET_BITPOS              12
                            24380 ; 24   |
                            24381 ; 25   |//Playback info
                            24382 ; 26   |#define DISPLAY_EQ_BITPOS                   13
                            24383 ; 27   |#define DISPLAY_VOLUME_BITPOS               14
                            24384 ; 28   |
                            24385 ; 29   |//Track Info
                            24386 ; 30   |#define DISPLAY_SONGARTISTALBUM_BITPOS      15
                            24387 ; 31   |#define DISPLAY_SONGTITLE_BITPOS            16
                            24388 ; 32   |#define DISPLAY_CURRENTTRACK_BITPOS         17
                            24389 ; 33   |#define DISPLAY_TRACKTIME_BITPOS            18
                            24390 ; 34   |#define DISPLAY_TOTALTRACKTIME_BITPOS        8
                            24391 ; 35   |#define DISPLAY_BITRATE_BITPOS              19
                            24392 ; 36   |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page  96

M:ADDR CODE           CYCLES LINE SOURCELINE
                            24393 ; 37   |//Device status info
                            24394 ; 38   |#define DISPLAY_LOCK_BITPOS                 20
                            24395 ; 39   |#define DISPLAY_DISK_BITPOS                 21
                            24396 ; 40   |#define DISPLAY_BATTERY_BITPOS              22
                            24397 ; 41   |#define DISPLAY_ALBUMART_BITPOS              23
                            24398 ; 42   |
                            24399 ; 43   |#ifdef PLAYER_STRESS
                            24400 ; 44   |// this may not work since album art uses bit 23 so we may need a new word variable for this player stress test bit below.
                            24401 ; 45   |#define DISPLAY_STRESSTEST_BITPOS            23
                            24402 ; 46   |#endif
                            24403 ; 47   |
                            24404 ; 48   |
                            24405 ; 49   |union DisplayHints
                            24406 ; 50   |{
                            24407 ; 51   |    struct {
                            24408 ; 52   |        int ClearDisplay        :1;//0
                            24409 ; 53   |        int EncoderTrackTime    :1;//1
                            24410 ; 54   |        int EncoderTrackName    :1;//2
                            24411 ; 55   |        int RecordMode          :1;//3
                            24412 ; 56   |        int Misc                :1;//4
                            24413 ; 57   |        int FMTunerFrequency    :1;//5
                            24414 ; 58   |        int FMTunerPreset       :1;//6
                            24415 ; 59   |        int FMTunerStrength     :1;//7
                            24416 ; 60   |        int TotalTrackTime      :1;//8
                            24417 ; 61   |        int PlayState           :1;//9
                            24418 ; 62   |        int ABIcon              :1;//10
                            24419 ; 63   |        int PlayMode            :1;//11
                            24420 ; 64   |        int PlaySet             :1;//12
                            24421 ; 65   |        int EQ                  :1;//13
                            24422 ; 66   |        int Volume              :1;//14
                            24423 ; 67   |        int SongArtistAlbum     :1;//15
                            24424 ; 68   |        int SongTitle           :1;//16
                            24425 ; 69   |        int CurrentTrack        :1;//17
                            24426 ; 70   |        int TrackTime           :1;//18
                            24427 ; 71   |        int Bitrate             :1;//19
                            24428 ; 72   |        int LockIcon            :1;//20
                            24429 ; 73   |        int Disk                :1;//21
                            24430 ; 74   |        int Battery             :1;//22
                            24431 ; 75   |#ifdef PLAYER_STRESS
                            24432 ; 76   |        int StressTest         :1;//23  // this might not work since bit 23 is already taken by album art. 23 is last bit in word.
                            24433 ; 77   |#else
                            24434 ; 78   |        int AlbumArt            :1;//23
                            24435 ; 79   |#endif
                            24436 ; 80   |    } bits;
                            24437 ; 81   |    WORD I;
                            24438 ; 82   |};
                            24439 ; 83   |
                            24440 ; 84   |// setup default display for all menus
                            24441 ; 85   |// can be adjusted in each menus as required.
                            24442 ; 86   |#define COMMON_DISPLAY_ALL  (\ 
                            24443 ; 87   |                                (1<<DISPLAY_BATTERY_BITPOS)|\ 
                            24444 ; 88   |                                (1<<DISPLAY_LOCK_BITPOS)|\ 
                            24445 ; 89   |                                (1<<DISPLAY_VOLUME_BITPOS)|\ 
                            24446 ; 90   |                                (1<<DISPLAY_DISK_BITPOS)|\ 
                            24447 ; 91   |                                (1<<DISPLAY_PLAYSET_BITPOS)|\ 
                            24448 ; 92   |                                (1<<DISPLAY_AB_ICON_BITPOS)|\ 
                            24449 ; 93   |                                (1<<DISPLAY_EQ_BITPOS)|\ 
                            24450 ; 94   |                                (1<<DISPLAY_PLAYMODE_BITPOS)|\ 
                            24451 ; 95   |                                (1<<DISPLAY_PLAYSTATE_BITPOS)\ 
                            24452 ; 96   |                                )
                            24453 ; 97   |
                            24454 ; 98   |#define SPECTROGRAM_MENU_DISPLAY_ALL  (\ 
                            24455 ; 99   |                                (1<<DISPLAY_LOCK_BITPOS)|\ 
                            24456 ; 100  |                                (1<<DISPLAY_DISK_BITPOS)|\ 
                            24457 ; 101  |                                (1<<DISPLAY_PLAYSET_BITPOS)|\ 
                            24458 ; 102  |                                (1<<DISPLAY_AB_ICON_BITPOS)|\ 
                            24459 ; 103  |                                (1<<DISPLAY_EQ_BITPOS)|\ 
                            24460 ; 104  |                                (1<<DISPLAY_PLAYMODE_BITPOS)|\ 
                            24461 ; 105  |                                (1<<DISPLAY_PLAYSTATE_BITPOS)\ 
                            24462 ; 106  |                                )
                            24463 ; 107  |
                            24464 ; 108  |//-----------------------------------------------
                            24465 ; 109  |#ifdef JPEG_ALBUM_ART
                            24466 ; 110  |#define ALBUMART_SET_MASK_IF_APPROPRIATE (1<<DISPLAY_ALBUMART_BITPOS)
                            24467 ; 111  |#else
                            24468 ; 112  |#define ALBUMART_SET_MASK_IF_APPROPRIATE (0)
                            24469 ; 113  |#endif
                            24470 ; 114  |
                            24471 ; 115  |#ifdef PLAYER_STRESS
                            24472 ; 116  |#define PLAYER_STRESSTEST_SET_MASK_IF_APPROPRIATE (1<<DISPLAY_STRESSTEST_BITPOS)
                            24473 ; 117  |#else
                            24474 ; 118  |#define PLAYER_STRESSTEST_SET_MASK_IF_APPROPRIATE (0)
                            24475 ; 119  |#endif
                            24476 ; 120  |
                            24477 ; 121  |
                            24478 ; 122  |#define MUSIC_MENU_DISPLAY_ALL  (\ 
                            24479 ; 123  |                                (COMMON_DISPLAY_ALL)|\ 
                            24480 ; 124  |                                (ALBUMART_SET_MASK_IF_APPROPRIATE)|\ 
                            24481 ; 125  |                                (1<<DISPLAY_PLAYSTATE_BITPOS)|\ 
                            24482 ; 126  |                                (1<<DISPLAY_VOLUME_BITPOS)|\ 
                            24483 ; 127  |                                (1<<DISPLAY_SONGARTISTALBUM_BITPOS)|\ 
                            24484 ; 128  |                                (1<<DISPLAY_SONGTITLE_BITPOS)|\ 
                            24485 ; 129  |                                (1<<DISPLAY_CURRENTTRACK_BITPOS)|\ 
                            24486 ; 130  |                                (1<<DISPLAY_TRACKTIME_BITPOS)|\ 
                            24487 ; 131  |                                (1<<DISPLAY_TOTALTRACKTIME_BITPOS)\ 
                            24488 ; 132  |                                )
                            24489 ; 133  |
                            24490 ; 134  |#define MUSIC_MENU_DISPLAY_NEW_TRACK (\ 
                            24491 ; 135  |                                (ALBUMART_SET_MASK_IF_APPROPRIATE)|\ 
                            24492 ; 136  |                                (PLAYER_STRESSTEST_SET_MASK_IF_APPROPRIATE)|\ 
                            24493 ; 137  |                                (1<<DISPLAY_SONGARTISTALBUM_BITPOS)|\ 
                            24494 ; 138  |                                (1<<DISPLAY_SONGTITLE_BITPOS)|\ 
                            24495 ; 139  |                                (1<<DISPLAY_CURRENTTRACK_BITPOS)|\ 
                            24496 ; 140  |                                (1<<DISPLAY_TRACKTIME_BITPOS)|\ 
                            24497 ; 141  |                                (1<<DISPLAY_TOTALTRACKTIME_BITPOS)|\ 
                            24498 ; 142  |                                (1<<DISPLAY_AB_ICON_BITPOS)|\ 
                            24499 ; 143  |                                (1<<DISPLAY_PLAYSTATE_BITPOS)|\ 
                            24500 ; 144  |                                (1<<DISPLAY_PLAYSET_BITPOS)\ 
                            24501 ; 145  |                                )
                            24502 ; 146  |//-----------------------------------------------
                            24503 ; 147  |
                            24504 ; 148  |
                            24505 ; 149  |#define MVIDEO_MENU_DISPLAY_ALL ((1<<DISPLAY_CURRENTTRACK_BITPOS)|(1<<DISPLAY_SONGTITLE_BITPOS))
                            24506 ; 150  |
                            24507 ; 151  |
                            24508 ; 152  |#define VOICE_MENU_DISPLAY_ALL  (\ 
                            24509 ; 153  |                                COMMON_DISPLAY_ALL|\ 
                            24510 ; 154  |                                (1<<DISPLAY_PLAYMODE_BITPOS)|\ 
                            24511 ; 155  |                                (1<<DISPLAY_PLAYSTATE_BITPOS)|\ 
                            24512 ; 156  |                                (1<<DISPLAY_VOLUME_BITPOS)|\ 
                            24513 ; 157  |                                (1<<DISPLAY_SONGARTISTALBUM_BITPOS)|\ 
                            24514 ; 158  |                                (1<<DISPLAY_SONGTITLE_BITPOS)|\ 
                            24515 ; 159  |                                (1<<DISPLAY_CURRENTTRACK_BITPOS)|\ 
                            24516 ; 160  |                                (1<<DISPLAY_TOTALTRACKTIME_BITPOS)|\ 
                            24517 ; 161  |                                (1<<DISPLAY_TRACKTIME_BITPOS)\ 
                            24518 ; 162  |                                )
                            24519 ; 163  |
                            24520 ; 164  |
                            24521 ; 165  |#define RECORDING_DISPLAY_ALL   (\ 
                            24522 ; 166  |                                COMMON_DISPLAY_ALL|\ 
                            24523 ; 167  |                                (1<<DISPLAY_ENCODER_TRACK_TIME_BITPOS)|\ 
                            24524 ; 168  |                                (1<<DISPLAY_ENCODER_TRACK_NAME_BITPOS)|\ 
                            24525 ; 169  |                                (1<<DISPLAY_PLAYSTATE_BITPOS)|\ 
                            24526 ; 170  |                                (1<<DISPLAY_VOLUME_BITPOS)|\ 
                            24527 ; 171  |                                (1<<DISPLAY_RECORD_MODE_BITPOS)\ 
                            24528 ; 172  |                                )
                            24529 ; 173  |
                            24530 ; 174  |#ifdef USE_PLAYLIST3
                            24531 ; 175  |#define BROWSE_MENU_DISPLAY_ALL  (\ 
                            24532 ; 176  |                                (1<<DISPLAY_BATTERY_BITPOS)|\ 
                            24533 ; 177  |                                (1<<DISPLAY_LOCK_BITPOS)|\ 
                            24534 ; 178  |                                (1<<DISPLAY_DISK_BITPOS)|\ 
                            24535 ; 179  |                                (1<<DISPLAY_PLAYSET_BITPOS)|\ 
                            24536 ; 180  |                                (1<<DISPLAY_MISC_BITPOS)\ 
                            24537 ; 181  |                                )
                            24538 ; 182  |#else
                            24539 ; 183  |#ifdef USE_PLAYLIST5
                            24540 ; 184  |#if 0
                            24541 ; 185  |#define BROWSE_MENU_DISPLAY_ALL (\ 
                            24542 ; 186  |                                 COMMON_DISPLAY_ALL|\ 
                            24543 ; 187  |                                (ALBUMART_SET_MASK_IF_APPROPRIATE)|\ 
                            24544 ; 188  |                                (1<<DISPLAY_PLAYSTATE_BITPOS)|\ 
                            24545 ; 189  |                                (1<<DISPLAY_VOLUME_BITPOS)|\ 
                            24546 ; 190  |                                (1<<DISPLAY_CURRENTTRACK_BITPOS)|\ 
                            24547 ; 191  |                                (1<<DISPLAY_MISC_BITPOS)\ 
                            24548 ; 192  |                                )
                            24549 ; 193  |#else
                            24550 ; 194  |#define BROWSE_MENU_DISPLAY_ALL (\ 
                            24551 ; 195  |                                 COMMON_DISPLAY_ALL|\ 
                            24552 ; 196  |                                (ALBUMART_SET_MASK_IF_APPROPRIATE)|\ 
                            24553 ; 197  |                                (1<<DISPLAY_PLAYSTATE_BITPOS)|\ 
                            24554 ; 198  |                                (1<<DISPLAY_VOLUME_BITPOS)|\ 
                            24555 ; 199  |                                (1<<DISPLAY_MISC_BITPOS)\ 
                            24556 ; 200  |                                )
                            24557 ; 201  |#endif
                            24558 ; 202  |#endif  // #ifdef USE_PLAYLIST5
                            24559 ; 203  |#endif  // #ifdef USE_PLAYLIST3
                            24560 ; 204  |
                            24561 ; 205  |
                            24562 ; 206  |
                            24563 ; 207  |#define MAIN_MENU_DISPLAY_ALL           (COMMON_DISPLAY_ALL|(1<<DISPLAY_MISC_BITPOS))
                            24564 ; 208  |
                            24565 ; 209  |#define EQ_MENU_DISPLAY_ALL             (\ 
                            24566 ; 210  |                                        COMMON_DISPLAY_ALL|\ 
                            24567 ; 211  |                                        (1<<DISPLAY_EQ_BITPOS)|\ 
                            24568 ; 212  |                                        (1<<DISPLAY_VOLUME_BITPOS)\ 
                            24569 ; 213  |                                        )     // (SDK2.520)
                            24570 ; 214  |
                            24571 ; 215  |#define PM_MENU_DISPLAY_ALL             (COMMON_DISPLAY_ALL|(1<<DISPLAY_PLAYMODE_BITPOS)|(1<<DISPLAY_MISC_BITPOS))
                            24572 ; 216  |#define PWR_MENU_DISPLAY_ALL            (COMMON_DISPLAY_ALL|(1<<DISPLAY_MISC_BITPOS))
                            24573 ; 217  |#define SETTINGS_MENU_DISPLAY_ALL       (COMMON_DISPLAY_ALL|(1<<DISPLAY_MISC_BITPOS))
                            24574 ; 218  |#define JPEG_DISPLAY_MENU_DISPLAY_ALL       (COMMON_DISPLAY_ALL|(1<<DISPLAY_MISC_BITPOS))
                            24575 ; 219  |#define DELETE_MENU_DISPLAY_ALL         (COMMON_DISPLAY_ALL|(1<<DISPLAY_MISC_BITPOS))
                            24576 ; 220  |#define ABOUT_MENU_DISPLAY_ALL          (COMMON_DISPLAY_ALL)
                            24577 ; 221  |#define ERASE_MENU_DISPLAY_ALL          ((1<<DISPLAY_BATTERY_BITPOS)|(1<<DISPLAY_LOCK_BITPOS))
                            24578 ; 222  |
                            24579 ; 223  |#define CONTRAST_MENU_DISPLAY_ALL       (COMMON_DISPLAY_ALL|(1<<DISPLAY_MISC_BITPOS))
                            24580 ; 224  |
                            24581 ; 225  |#define TIME_DATE_MENU_DISPLAY_ALL      0
                            24582 ; 226  |#define RECORDTEST_DISPLAY_ALL       (\ 
                            24583 ; 227  |                                        (1<<DISPLAY_ENCODER_TRACK_TIME_BITPOS)|\ 
                            24584 ; 228  |                                                                        (1<<DISPLAY_ENCODER_TRACK_NAME_BITPOS)|\ 
                            24585 ; 229  |                                                                        (1<<DISPLAY_PLAYSTATE_BITPOS)|\ 
                            24586 ; 230  |                                        (1<<DISPLAY_RECORD_MODE_BITPOS)|\ 
                            24587 ; 231  |                                    (1<<DISPLAY_MISC_BITPOS)\ 
                            24588 ; 232  |                                                                        )
                            24589 ; 233  |
                            24590 ; 234  |#define SPLASH_MENU_DISPLAY_ALL         (COMMON_DISPLAY_ALL|(1<<DISPLAY_MISC_BITPOS))
                            24591 ; 235  |// used during track update to force total time update
                            24592 ; 236  |#define AUTOUPDATE              FALSE
                            24593 ; 237  |#define FORCEUPDATE             TRUE
                            24594 ; 238  |
                            24595 ; 239  |
                            24596 ; 240  |// based on font used for title/artist display
                            24597 ; 241  |#define DEFAULT_CHAR_WIDTH  5
                            24598 ; 242  |
                            24599 ; 243  |
                            24600 ; 244  |// LCD dimensions
                            24601 ; 245  |#ifdef LDS514_LCD
                            24602 ; 246  |#define   LCD_SIZE_X       96
                            24603 ; 247  |#define   LCD_SIZE_Y       64
                            24604 ; 248  |#endif
                            24605 ; 249  |
                            24606 ; 250  |#ifdef ILI814_LCD
                            24607 ; 251  |#define   LCD_SIZE_X       96
                            24608 ; 252  |#define   LCD_SIZE_Y       64
                            24609 ; 253  |#endif
                            24610 ; 254  |
                            24611 ; 255  |#ifdef ML9341_LCD
                            24612 ; 256  |#define   LCD_SIZE_X       96
                            24613 ; 257  |#define   LCD_SIZE_Y       96
                            24614 ; 258  |#endif
                            24615 ; 259  |
                            24616 ; 260  |#ifdef SSD1332_LCD
                            24617 ; 261  |#define   LCD_SIZE_X       96
                            24618 ; 262  |#define   LCD_SIZE_Y       64
                            24619 ; 263  |#endif
                            24620 ; 264  |
                            24621 ; 265  |#ifdef S6B33B0A_LCD
                            24622 ; 266  |#define   LCD_SIZE_X       128
                            24623 ; 267  |#define   LCD_SIZE_Y       159
                            24624 ; 268  |#endif
                            24625 ; 269  |
                            24626 ; 270  |#ifdef SED15XX_LCD
                            24627 ; 271  |#define LCD_SIZE_X                      128
                            24628 ; 272  |#define LCD_SIZE_Y                      64
                            24629 ; 273  |#endif
                            24630 ; 274  |
                            24631 ; 275  |#define LCD_SIZE_ROW                     8
                            24632 ; 276  |
                            24633 ; 277  |#define TOP_OF_SCREEN           0
                            24634 ; 278  |#define LEFT_OF_SCREEN          0
                            24635 ; 279  |
                            24636 ; 280  |#ifdef LDS514_LCD
                            24637 ; 281  |#define   SCREEN_WIDTH       96
                            24638 ; 282  |#define   SCREEN_HEIGHT       64
                            24639 ; 283  |#endif
                            24640 ; 284  |
                            24641 ; 285  |#ifdef ILI814_LCD
                            24642 ; 286  |#define   SCREEN_WIDTH       96
                            24643 ; 287  |#define   SCREEN_HEIGHT       64
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page  97

M:ADDR CODE           CYCLES LINE SOURCELINE
                            24644 ; 288  |#endif
                            24645 ; 289  |
                            24646 ; 290  |#ifdef ML9341_LCD
                            24647 ; 291  |#define   SCREEN_WIDTH       96
                            24648 ; 292  |#define   SCREEN_HEIGHT       96
                            24649 ; 293  |#endif
                            24650 ; 294  |
                            24651 ; 295  |#ifdef SSD1332_LCD
                            24652 ; 296  |#define   SCREEN_WIDTH       96
                            24653 ; 297  |#define   SCREEN_HEIGHT       64
                            24654 ; 298  |#endif
                            24655 ; 299  |
                            24656 ; 300  |#ifdef S6B33B0A_LCD
                            24657 ; 301  |#define   SCREEN_WIDTH       128
                            24658 ; 302  |#define   SCREEN_HEIGHT       159
                            24659 ; 303  |#endif
                            24660 ; 304  |
                            24661 ; 305  |#ifdef SED15XX_LCD
                            24662 ; 306  |#define SCREEN_WIDTH            128
                            24663 ; 307  |#define SCREEN_HEIGHT           64
                            24664 ; 308  |#endif
                            24665 ; 309  |
                            24666 ; 310  |#define CHAR_SIZE_X             6
                            24667 ; 311  |#define CHAR_SIZE_Y             8
                            24668 ; 312  |
                            24669 ; 313  |// Physical rows are numbered from 0 to LCD_SIZE_Y/LCD_SIZE_ROW
                            24670 ; 314  |#define LCD_FIRST_ROW_NUM                1
                            24671 ; 315  |#define LCD_FIRST_ROW_POS_Y=LCD_FIRST_ROW_NUM*LCD_SIZE_ROW  // skipping the first row
                            24672 ; 316  |
                            24673 ; 317  |// Top row in order from left to right
                            24674 ; 318  |#define PLAY_STATE_ICON_X_POS   LEFT_OF_SCREEN+0
                            24675 ; 319  |#define PLAY_STATE_ICON_Y_POS   TOP_OF_SCREEN+0
                            24676 ; 320  |#define PLAY_STATE_ICON_X_SIZE  12
                            24677 ; 321  |#define PLAY_STATE_ICON_Y_SIZE  8
                            24678 ; 322  |
                            24679 ; 323  |#define REPEAT_ICON_X_POS       LEFT_OF_SCREEN+13
                            24680 ; 324  |#define REPEAT_ICON_Y_POS       TOP_OF_SCREEN+0
                            24681 ; 325  |#define REPEAT_ICON_X_SIZE      12
                            24682 ; 326  |#define REPEAT_ICON_Y_SIZE      8
                            24683 ; 327  |
                            24684 ; 328  |#define SHUFFLE_ICON_X_POS      LEFT_OF_SCREEN+25
                            24685 ; 329  |#define SHUFFLE_ICON_Y_POS      TOP_OF_SCREEN+0
                            24686 ; 330  |#define SHUFFLE_ICON_X_SIZE     5     // includes white space on left side of .bmp
                            24687 ; 331  |#define SHUFFLE_ICON_Y_SIZE     8
                            24688 ; 332  |
                            24689 ; 333  |#define AB_ICON_X_POS           LEFT_OF_SCREEN+31
                            24690 ; 334  |#define AB_ICON_Y_POS           TOP_OF_SCREEN+0
                            24691 ; 335  |#define AB_ICON_X_SIZE          12
                            24692 ; 336  |#define AB_ICON_Y_SIZE          8
                            24693 ; 337  |
                            24694 ; 338  |#ifdef  AUDIBLE
                            24695 ; 339  |#define SECNAV_ICON_X_POS       LEFT_OF_SCREEN+31
                            24696 ; 340  |#define SECNAV_ICON_Y_POS       TOP_OF_SCREEN+0
                            24697 ; 341  |#define SECNAV_ICON_X_SIZE      12
                            24698 ; 342  |#define SECNAV_ICON_Y_SIZE      8
                            24699 ; 343  |#endif
                            24700 ; 344  |
                            24701 ; 345  |#define EQ_ICON_X_POS           LEFT_OF_SCREEN+44
                            24702 ; 346  |#define EQ_ICON_Y_POS           TOP_OF_SCREEN+0
                            24703 ; 347  |#define EQ_ICON_X_SIZE          22
                            24704 ; 348  |#define EQ_ICON_Y_SIZE          8
                            24705 ; 349  |
                            24706 ; 350  |#ifdef WOW
                            24707 ; 351  |#define WOW_X_POS               EQ_ICON_X_POS
                            24708 ; 352  |#define WOW_Y_POS               EQ_ICON_Y_POS
                            24709 ; 353  |#endif
                            24710 ; 354  |
                            24711 ; 355  |
                            24712 ; 356  |// Media icon
                            24713 ; 357  |#define DISK_X_POS              LEFT_OF_SCREEN+66
                            24714 ; 358  |#define DISK_Y_POS              TOP_OF_SCREEN
                            24715 ; 359  |#define DISK_X_SIZE             8
                            24716 ; 360  |#define DISK_Y_SIZE             8
                            24717 ; 361  |
                            24718 ; 362  |// Hold icon
                            24719 ; 363  |#define LOCK_ICON_X_POS         LEFT_OF_SCREEN+73
                            24720 ; 364  |#define LOCK_ICON_Y_POS         TOP_OF_SCREEN
                            24721 ; 365  |#define LOCK_ICON_X_SIZE        8
                            24722 ; 366  |#define LOCK_ICON_Y_SIZE        8
                            24723 ; 367  |
                            24724 ; 368  |#define BATTERY_ICON_X_POS      LEFT_OF_SCREEN+110
                            24725 ; 369  |#define BATTERY_ICON_Y_POS      TOP_OF_SCREEN+0
                            24726 ; 370  |#define BATTERY_ICON_X_SIZE     16
                            24727 ; 371  |#define BATTERY_ICON_Y_SIZE     8
                            24728 ; 372  |#define BATTERY_RESOURCE        RSRC_BATTERY_00
                            24729 ; 373  |
                            24730 ; 374  |// Second row from left to right
                            24731 ; 375  |#define VOLUME_ICON_X_POS       LEFT_OF_SCREEN+0
                            24732 ; 376  |#define VOLUME_ICON_Y_POS       TOP_OF_SCREEN+8
                            24733 ; 377  |#define VOLUME_ICON_X_SIZE      48
                            24734 ; 378  |#define VOLUME_ICON_Y_SIZE      8
                            24735 ; 379  |#define VOLUME_RESOURCE         RSRC_ICON_VOL_00
                            24736 ; 380  |#define VOLUME_NUM_ICONS        27
                            24737 ; 381  |
                            24738 ; 382  |#define PLAYSET_X_POS           SCREEN_WIDTH-8
                            24739 ; 383  |#define PLAYSET_Y_POS           TOP_OF_SCREEN+8
                            24740 ; 384  |
                            24741 ; 385  |//Lyrics Position
                            24742 ; 386  |#define LYRICS_DISPLAY_X_POS    LEFT_OF_SCREEN
                            24743 ; 387  |#define LYRICS_DISPLAY_Y_POS    TOP_OF_SCREEN+16
                            24744 ; 388  |#define LYRICS_DISPLAY_HEIGHT           10
                            24745 ; 389  |
                            24746 ; 390  |// Music menu
                            24747 ; 391  |#define SONG_TITLE_X_POS        LEFT_OF_SCREEN+0
                            24748 ; 392  |#define SONG_TITLE_Y_POS        TOP_OF_SCREEN+16
                            24749 ; 393  |#define SONG_TITLE_X_SIZE       SCREEN_WIDTH
                            24750 ; 394  |#define SONG_TITLE_Y_SIZE       10
                            24751 ; 395  |
                            24752 ; 396  |#define SONG_ARTIST_X_POS       LEFT_OF_SCREEN
                            24753 ; 397  |#define SONG_ARTIST_Y_POS       TOP_OF_SCREEN+26
                            24754 ; 398  |#define SONG_ARTIST_X_SIZE      SCREEN_WIDTH
                            24755 ; 399  |#define SONG_ARTIST_Y_SIZE      10
                            24756 ; 400  |
                            24757 ; 401  |#define SONG_ALBUM_X_POS       LEFT_OF_SCREEN
                            24758 ; 402  |#define SONG_ALBUM_Y_POS       TOP_OF_SCREEN+36
                            24759 ; 403  |#define SONG_ALBUM_X_SIZE      SCREEN_WIDTH
                            24760 ; 404  |#define SONG_ALBUM_Y_SIZE      10
                            24761 ; 405  |
                            24762 ; 406  |#ifdef USE_PLAYLIST5
                            24763 ; 407  |#define TRACK_NUMBER_X_POS      LEFT_OF_SCREEN+28
                            24764 ; 408  |#define TRACK_NUMBER_Y_POS      TOP_OF_SCREEN+56
                            24765 ; 409  |#define TRACK_NUMBER_X_SIZE     6*4
                            24766 ; 410  |#define TRACK_NUMBER_Y_SIZE     8
                            24767 ; 411  |
                            24768 ; 412  |#define TRACK_COUNT_X_POS       TRACK_NUMBER_X_POS+TRACK_NUMBER_X_SIZE+10
                            24769 ; 413  |#define TRACK_COUNT_Y_POS       TOP_OF_SCREEN+56
                            24770 ; 414  |#define TRACK_COUNT_X_SIZE      6*4
                            24771 ; 415  |#define TRACK_COUNT_Y_SIZE      8
                            24772 ; 416  |
                            24773 ; 417  |#define TRACK_DIVIDE_X TRACK_NUMBER_X_POS+TRACK_COUNT_X_SIZE + 2
                            24774 ; 418  |#else
                            24775 ; 419  |#define TRACK_NUMBER_X_POS      LEFT_OF_SCREEN+34
                            24776 ; 420  |#define TRACK_NUMBER_Y_POS      TOP_OF_SCREEN+56
                            24777 ; 421  |#define TRACK_NUMBER_X_SIZE     6*3
                            24778 ; 422  |#define TRACK_NUMBER_Y_SIZE     8
                            24779 ; 423  |
                            24780 ; 424  |#define TRACK_COUNT_X_POS       TRACK_NUMBER_X_POS+TRACK_NUMBER_X_SIZE+10
                            24781 ; 425  |#define TRACK_COUNT_Y_POS       TOP_OF_SCREEN+56
                            24782 ; 426  |#define TRACK_COUNT_X_SIZE      6*3
                            24783 ; 427  |#define TRACK_COUNT_Y_SIZE      8
                            24784 ; 428  |
                            24785 ; 429  |#define TRACK_DIVIDE_X  TRACK_NUMBER_X_POS+24
                            24786 ; 430  |#endif
                            24787 ; 431  |
                            24788 ; 432  |
                            24789 ; 433  |#define TRACK_CURR_TIME_X_POS       LEFT_OF_SCREEN+28
                            24790 ; 434  |#define TRACK_CURR_TIME_Y_POS       TOP_OF_SCREEN+48
                            24791 ; 435  |#define TRACK_CURR_TIME_X_SIZE      25
                            24792 ; 436  |#define TRACK_CURR_TIME_Y_SIZE      8
                            24793 ; 437  |
                            24794 ; 438  |#define TRACK_SLASH_X_SIZE          5
                            24795 ; 439  |#define TRACK_SLASH_X_POS           TRACK_TOTAL_TIME_X_POS-TRACK_SLASH_X_SIZE
                            24796 ; 440  |#define TRACK_SLASH_Y_POS           TRACK_CURR_TIME_Y_POS
                            24797 ; 441  |
                            24798 ; 442  |#define TRACK_TOTAL_TIME_X_POS      LEFT_OF_SCREEN+60
                            24799 ; 443  |#define TRACK_TOTAL_TIME_Y_POS      TRACK_CURR_TIME_Y_POS
                            24800 ; 444  |#define TRACK_TOTAL_TIME_X_SIZE     28
                            24801 ; 445  |#define TRACK_TOTAL_TIME_Y_SIZE     8
                            24802 ; 446  |
                            24803 ; 447  |#define VBR_FLAG_X_POS      LEFT_OF_SCREEN+80
                            24804 ; 448  |#define VBR_FLAG_Y_POS      8
                            24805 ; 449  |#define VBR_FLAG_X_SIZE     20
                            24806 ; 450  |#define VBR_FLAG_Y_SIZE     8
                            24807 ; 451  |#ifdef JPEG_ALBUM_ART
                            24808 ; 452  |// Album art display parameters:
                            24809 ; 453  |#define ALBUM_ART_X_POS         TOP_OF_SCREEN
                            24810 ; 454  |#define ALBUM_ART_Y_POS         80
                            24811 ; 455  |#define ALBUM_ART_X_SIZE        SCREEN_WIDTH
                            24812 ; 456  |#define ALBUM_ART_Y_SIZE        (SCREEN_HEIGHT-ALBUM_ART_Y_POS)
                            24813 ; 457  |#endif
                            24814 ; 458  |
                            24815 ; 459  |// Recording Display
                            24816 ; 460  |#define REC_CURR_TIME_X_POS       LEFT_OF_SCREEN
                            24817 ; 461  |#define REC_CURR_TIME_Y_POS       TOP_OF_SCREEN+48
                            24818 ; 462  |#define REC_CURR_TIME_X_SIZE      12
                            24819 ; 463  |#define REC_CURR_TIME_Y_SIZE      8
                            24820 ; 464  |
                            24821 ; 465  |#define REC_TOTAL_TIME_X_POS      LEFT_OF_SCREEN+45
                            24822 ; 466  |#define REC_TOTAL_TIME_Y_POS      TOP_OF_SCREEN+48
                            24823 ; 467  |#define REC_TOTAL_TIME_X_SIZE     28
                            24824 ; 468  |#define REC_TOTAL_TIME_Y_SIZE     8
                            24825 ; 469  |
                            24826 ; 470  |// Playback Display with hours added.
                            24827 ; 471  |#ifdef LDS514_LCD
                            24828 ; 472  |#define HR_TRACK_CURR_TIME_X_POS        LEFT_OF_SCREEN+16
                            24829 ; 473  |#endif
                            24830 ; 474  |
                            24831 ; 475  |#ifdef ILI814_LCD
                            24832 ; 476  |#define HR_TRACK_CURR_TIME_X_POS        LEFT_OF_SCREEN+16
                            24833 ; 477  |#endif
                            24834 ; 478  |
                            24835 ; 479  |#ifdef ML9341_LCD
                            24836 ; 480  |#define HR_TRACK_CURR_TIME_X_POS        LEFT_OF_SCREEN+16
                            24837 ; 481  |#endif
                            24838 ; 482  |
                            24839 ; 483  |#ifdef SSD1332_LCD
                            24840 ; 484  |#define HR_TRACK_CURR_TIME_X_POS        LEFT_OF_SCREEN+16
                            24841 ; 485  |#endif
                            24842 ; 486  |
                            24843 ; 487  |#ifdef S6B33B0A_LCD
                            24844 ; 488  |#define HR_TRACK_CURR_TIME_X_POS        LEFT_OF_SCREEN+16
                            24845 ; 489  |#endif
                            24846 ; 490  |
                            24847 ; 491  |#ifdef SED15XX_LCD
                            24848 ; 492  |#define HR_TRACK_CURR_TIME_X_POS        LEFT_OF_SCREEN+16
                            24849 ; 493  |#endif
                            24850 ; 494  |
                            24851 ; 495  |#define HR_TRACK_CURR_TIME_Y_POS        TOP_OF_SCREEN+48
                            24852 ; 496  |#define HR_TRACK_CURR_TIME_X_SIZE       28
                            24853 ; 497  |#define HR_TRACK_CURR_TIME_Y_SIZE       8
                            24854 ; 498  |
                            24855 ; 499  |#define HR_TRACK_TOTAL_TIME_X_POS       LEFT_OF_SCREEN+59
                            24856 ; 500  |#define HR_TRACK_TOTAL_TIME_Y_POS       TRACK_CURR_TIME_Y_POS
                            24857 ; 501  |#define HR_TRACK_TOTAL_TIME_X_SIZE      28
                            24858 ; 502  |#define HR_TRACK_TOTAL_TIME_Y_SIZE      8
                            24859 ; 503  |
                            24860 ; 504  |//Clear entire Track Time when song changes.
                            24861 ; 505  |#define CLR_TRACK_TIME_X_POS            LEFT_OF_SCREEN
                            24862 ; 506  |#define CLR_TRACK_TIME_Y_POS            TRACK_CURR_TIME_Y_POS
                            24863 ; 507  |#define CLR_TRACK_TIME_X_SIZE           SCREEN_WIDTH
                            24864 ; 508  |#define CLR_TRACK_TIME_Y_SIZE           8
                            24865 ; 509  |
                            24866 ; 510  |#define HR_TRACK_SLASH_X_SIZE           3
                            24867 ; 511  |#define HR_TRACK_SLASH_X_POS            HR_TRACK_TOTAL_TIME_X_POS-HR_TRACK_SLASH_X_SIZE
                            24868 ; 512  |#define HR_TRACK_SLASH_Y_POS            HR_TRACK_CURR_TIME_Y_POS
                            24869 ; 513  |
                            24870 ; 514  | //DVRWARN
                            24871 ; 515  |#define VOICE_SPACE_WARN_X_POS      LEFT_OF_SCREEN
                            24872 ; 516  |#define VOICE_SPACE_WARN_Y_POS      SONG_TITLE_Y_POS
                            24873 ; 517  |#define VOICE_SPACE_WARN_X_SIZE     93
                            24874 ; 518  |#define VOICE_SPACE_WARN_Y_SIZE     16
                            24875 ; 519  |
                            24876 ; 520  |//Shutdown
                            24877 ; 521  |#define SHUTDOWN_PROGRESS_X_POS     LEFT_OF_SCREEN+24
                            24878 ; 522  |#define SHUTDOWN_PROGRESS_Y_POS     TOP_OF_SCREEN+32
                            24879 ; 523  |#define SHUTDOWN_PROGRESS_X_SIZE    59
                            24880 ; 524  |#define SHUTDOWN_PROGRESS_Y_SIZE    16
                            24881 ; 525  |#define SHUTDOWN_PROGRESS_RESOURCE  RSRC_PDOWN_STATUS_0
                            24882 ; 526  |
                            24883 ; 527  |#define SHUTDOWN_STRING_X_POS       LEFT_OF_SCREEN+10
                            24884 ; 528  |#define SHUTDOWN_STRING_Y_POS       TOP_OF_SCREEN+16
                            24885 ; 529  |#define SHUTDOWN_STRING_X_SIZE      59
                            24886 ; 530  |#define SHUTDOWN_STRING_Y_SIZE      16
                            24887 ; 531  |#define SHUTDOWN_STRING_RESOURCE    RSRC_PDOWN_HOLD_STRING
                            24888 ; 532  |
                            24889 ; 533  |#define DEFRAGMENT_STRING_X_POS       LEFT_OF_SCREEN+0
                            24890 ; 534  |#define DEFRAGMENT_STRING_Y_POS       TOP_OF_SCREEN+16
                            24891 ; 535  |#define DEFRAGMENT_STRING_X_SIZE      59
                            24892 ; 536  |#define DEFRAGMENT_STRING_Y_SIZE      16
                            24893 ; 537  |#define DEFRAGMENT_STRING_RESOURCE    RSRC_DEFRAGMENT_STORE_STRING
                            24894 ; 538  |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page  98

M:ADDR CODE           CYCLES LINE SOURCELINE
                            24895 ; 539  |
                            24896 ; 540  |//Contrast Display
                            24897 ; 541  |#define CONTRAST_TITLE_X_POS        LEFT_OF_SCREEN+0
                            24898 ; 542  |#define CONTRAST_TITLE_Y_POS        TOP_OF_SCREEN+16
                            24899 ; 543  |
                            24900 ; 544  |#define CONTRAST_X_POS              LEFT_OF_SCREEN+8
                            24901 ; 545  |#define CONTRAST_Y_POS              TOP_OF_SCREEN+32
                            24902 ; 546  |#define CONTRAST_X_SIZE             96
                            24903 ; 547  |#define CONTRAST_Y_SIZE             8
                            24904 ; 548  |#define CONTRAST_RESOURCE           RSRC_CONTRAST_LEVEL_0
                            24905 ; 549  |
                            24906 ; 550  |//Backlight Display
                            24907 ; 551  |#define BACKLIGHT_TITLE_X_POS        LEFT_OF_SCREEN+0
                            24908 ; 552  |#define BACKLIGHT_TITLE_Y_POS        TOP_OF_SCREEN+24
                            24909 ; 553  |#define BACKLIGHT_STATE_X_POS        LEFT_OF_SCREEN+0
                            24910 ; 554  |#define BACKLIGHT_STATE_Y_POS        (LCD_FIRST_ROW_NUM+4)*LCD_SIZE_ROW
                            24911 ; 555  |
                            24912 ; 556  |//settings title display
                            24913 ; 557  |#define SETTINGS_TITLE_X_POS        LEFT_OF_SCREEN+0
                            24914 ; 558  |#define SETTINGS_TITLE_Y_POS        TOP_OF_SCREEN+8
                            24915 ; 559  |//jpeg display title display
                            24916 ; 560  |#define JPEG_DISPLAY_TITLE_X_POS        LEFT_OF_SCREEN+0
                            24917 ; 561  |#define JPEG_DISPLAY_TITLE_Y_POS        TOP_OF_SCREEN+8
                            24918 ; 562  |//erase files title display
                            24919 ; 563  |#define ERASE_TITLE_X_POS           LEFT_OF_SCREEN+0
                            24920 ; 564  |#define ERASE_TITLE_Y_POS           TOP_OF_SCREEN+8
                            24921 ; 565  |
                            24922 ; 566  |// Splashscreen
                            24923 ; 567  |#ifdef LDS514_LCD
                            24924 ; 568  |#define SPLASH_SCREEN_X_POS         LEFT_OF_SCREEN
                            24925 ; 569  |#define SPLASH_SCREEN_Y_POS         TOP_OF_SCREEN
                            24926 ; 570  |#define SPLASH_SCREEN_X_SIZE        96
                            24927 ; 571  |#define SPLASH_SCREEN_Y_SIZE        64
                            24928 ; 572  |#define LOCKED_SCREEN_X_POS         LEFT_OF_SCREEN+8
                            24929 ; 573  |#define LOCKED_SCREEN_Y_POS         TOP_OF_SCREEN+24
                            24930 ; 574  |#endif
                            24931 ; 575  |
                            24932 ; 576  |#ifdef ILI814_LCD
                            24933 ; 577  |#define SPLASH_SCREEN_X_POS         LEFT_OF_SCREEN
                            24934 ; 578  |#define SPLASH_SCREEN_Y_POS         TOP_OF_SCREEN
                            24935 ; 579  |#define SPLASH_SCREEN_X_SIZE        96
                            24936 ; 580  |#define SPLASH_SCREEN_Y_SIZE        64
                            24937 ; 581  |#define LOCKED_SCREEN_X_POS         LEFT_OF_SCREEN+8
                            24938 ; 582  |#define LOCKED_SCREEN_Y_POS         TOP_OF_SCREEN+24
                            24939 ; 583  |#endif
                            24940 ; 584  |
                            24941 ; 585  |#ifdef ML9341_LCD
                            24942 ; 586  |#define SPLASH_SCREEN_X_POS         LEFT_OF_SCREEN
                            24943 ; 587  |#define SPLASH_SCREEN_Y_POS         TOP_OF_SCREEN
                            24944 ; 588  |#define SPLASH_SCREEN_X_SIZE        96
                            24945 ; 589  |#define SPLASH_SCREEN_Y_SIZE        96
                            24946 ; 590  |#define LOCKED_SCREEN_X_POS         LEFT_OF_SCREEN+8
                            24947 ; 591  |#define LOCKED_SCREEN_Y_POS         TOP_OF_SCREEN+24
                            24948 ; 592  |#endif
                            24949 ; 593  |
                            24950 ; 594  |#ifdef SSD1332_LCD
                            24951 ; 595  |#define SPLASH_SCREEN_X_POS         LEFT_OF_SCREEN
                            24952 ; 596  |#define SPLASH_SCREEN_Y_POS         TOP_OF_SCREEN
                            24953 ; 597  |#define SPLASH_SCREEN_X_SIZE        96
                            24954 ; 598  |#define SPLASH_SCREEN_Y_SIZE        64
                            24955 ; 599  |#define LOCKED_SCREEN_X_POS         LEFT_OF_SCREEN+8
                            24956 ; 600  |#define LOCKED_SCREEN_Y_POS         TOP_OF_SCREEN+24
                            24957 ; 601  |#endif
                            24958 ; 602  |
                            24959 ; 603  |#ifdef S6B33B0A_LCD
                            24960 ; 604  |#define SPLASH_SCREEN_X_POS         LEFT_OF_SCREEN
                            24961 ; 605  |#define SPLASH_SCREEN_Y_POS         TOP_OF_SCREEN + 16
                            24962 ; 606  |#define SPLASH_SCREEN_X_SIZE        80
                            24963 ; 607  |#define SPLASH_SCREEN_Y_SIZE        48
                            24964 ; 608  |#define LOCKED_SCREEN_X_POS         LEFT_OF_SCREEN+8
                            24965 ; 609  |#define LOCKED_SCREEN_Y_POS         TOP_OF_SCREEN+24
                            24966 ; 610  |#endif
                            24967 ; 611  |
                            24968 ; 612  |#ifdef SED15XX_LCD
                            24969 ; 613  |#define SPLASH_SCREEN_X_POS         LEFT_OF_SCREEN
                            24970 ; 614  |#define SPLASH_SCREEN_Y_POS         TOP_OF_SCREEN 
                            24971 ; 615  |#define SPLASH_SCREEN_X_SIZE        128
                            24972 ; 616  |#define SPLASH_SCREEN_Y_SIZE        64    
                            24973 ; 617  |#define LOCKED_SCREEN_X_POS         LEFT_OF_SCREEN+8
                            24974 ; 618  |#define LOCKED_SCREEN_Y_POS         TOP_OF_SCREEN+24
                            24975 ; 619  |#endif
                            24976 ; 620  |
                            24977 ; 621  |// FM tuner
                            24978 ; 622  |#define FM_TUNER_FREQUENCY_X_POS    LEFT_OF_SCREEN+30
                            24979 ; 623  |#define FM_TUNER_FREQUENCY_Y_POS    TOP_OF_SCREEN+24
                            24980 ; 624  |#define FM_TUNER_FREQUENCY_X_SIZE   CHAR_SIZE_X*10
                            24981 ; 625  |#define FM_TUNER_FREQUENCY_Y_SIZE   CHAR_SIZE_Y
                            24982 ; 626  |#define FM_TUNER_FREQUENCY_DOT_X_POS    FM_TUNER_FREQUENCY_X_POS+CHAR_SIZE_X*3
                            24983 ; 627  |#define FM_TUNER_FRAC_FREQUENCY_X_POS    FM_TUNER_FREQUENCY_DOT_X_POS+3
                            24984 ; 628  |
                            24985 ; 629  |#define FM_TUNER_PRESET_X_POS       LEFT_OF_SCREEN+30
                            24986 ; 630  |#define FM_TUNER_PRESET_Y_POS       TOP_OF_SCREEN+34
                            24987 ; 631  |#define FM_TUNER_PRESET_X_SIZE      CHAR_SIZE_X*5
                            24988 ; 632  |#define FM_TUNER_PRESET_Y_SIZE      CHAR_SIZE_Y
                            24989 ; 633  |
                            24990 ; 634  |#define FM_TUNER_PILOT_X_POS       LEFT_OF_SCREEN+30
                            24991 ; 635  |#define FM_TUNER_PILOT_Y_POS       TOP_OF_SCREEN+44
                            24992 ; 636  |
                            24993 ; 637  |// About menu
                            24994 ; 638  |#define ABOUT_TITLE_X_POS           LEFT_OF_SCREEN+0
                            24995 ; 639  |#define ABOUT_TITLE_Y_POS           TOP_OF_SCREEN+LCD_SIZE_ROW
                            24996 ; 640  |// starting row -- use offsets for the rest
                            24997 ; 641  |#define ABOUT_LINE_LABEL_X_POS      LEFT_OF_SCREEN+0
                            24998 ; 642  |#define ABOUT_LINE_LABEL_Y_POS      ABOUT_TITLE_Y_POS+(2*LCD_SIZE_ROW)
                            24999 ; 643  |
                            25000 ; 644  |#ifdef PLAYER_STRESS
                            25001 ; 645  |#define STRESS_TEST_X_POS       LEFT_OF_SCREEN
                            25002 ; 646  |#define STRESS_TEST_Y_POS       TOP_OF_SCREEN+40
                            25003 ; 647  |#define STRESS_TEST_X_SIZE      SCREEN_WIDTH
                            25004 ; 648  |#define STRESS_TEST_Y_SIZE      8
                            25005 ; 649  |#endif
                            25006 ; 650  |
                            25007 ; 651  |
                            25008 ; 652  |// Delete Menu
                            25009 ; 653  |#define WARNING_MSG_LINE1_X         LEFT_OF_SCREEN
                            25010 ; 654  |#define WARNING_MSG_LINE1_Y         (LCD_FIRST_ROW_NUM+1)*LCD_SIZE_ROW
                            25011 ; 655  |#define WARNING_MSG_LINE2_X         LEFT_OF_SCREEN
                            25012 ; 656  |#define WARNING_MSG_LINE2_Y         (LCD_FIRST_ROW_NUM+2)*LCD_SIZE_ROW
                            25013 ; 657  |#define WARNING_MSG_FILE_X          LEFT_OF_SCREEN
                            25014 ; 658  |#define WARNING_MSG_FILE_Y          (LCD_FIRST_ROW_NUM+4)*LCD_SIZE_ROW
                            25015 ; 659  |#define WARNING_MSG_YES_X           LEFT_OF_SCREEN
                            25016 ; 660  |#define WARNING_MSG_YES_Y           (LCD_FIRST_ROW_NUM+6)*LCD_SIZE_ROW
                            25017 ; 661  |#define DELETE_FAIL_MSG_X           LEFT_OF_SCREEN
                            25018 ; 662  |#define DELETE_FAIL_MSG_Y           (LCD_FIRST_ROW_NUM+6)*LCD_SIZE_ROW
                            25019 ; 663  |
                            25020 ; 664  |_reentrant void DisplayClear (void);
                            25021 ; 665  |_reentrant void DisplayLowBattery (void);
                            25022 ; 666  |
                            25023 ; 667  |_reentrant int DisplayContrast( int bDisplay, int iIgnored1, void *pPtr);
                            25024 ; 668  |
                            25025 ; 669  |_reentrant int DisplayBacklight( int bDisplay, int iIgnored1, void *pPtr);
                            25026 ; 670  |#ifdef WOW
                            25027 ; 671  |_reentrant int DisplayBar( int bDisplay, int step, void *pPtr);
                            25028 ; 672  |#endif
                            25029 ; 673  |extern _X BOOL g_bSongStringScroll;
                            25030 ; 674  |extern _X INT  g_iSongStringOffset;
                            25031 ; 675  |extern _X INT  g_iSongStringLength;
                            25032 ; 676  |
                            25033 ; 677  |extern _X BOOL g_bArtistStringScroll;
                            25034 ; 678  |extern _X INT  g_iArtistStringOffset;
                            25035 ; 679  |extern _X INT  g_iArtistStringLength;
                            25036 ; 680  |
                            25037 ; 681  |
                            25038 ; 682  |extern _X BOOL g_bAlbumStringScroll;
                            25039 ; 683  |extern _X INT  g_iAlbumStringOffset;
                            25040 ; 684  |extern _X INT  g_iAlbumStringLength;
                            25041 ; 685  |extern int g_iVolume_Control_Mode;
                            25042 ; 686  |extern int g_iAB_Control_Mode;
                            25043 ; 687  |
                            25044 ; 688  |
                            25045 ; 689  |#endif //_DISPLAY_H
                            25046 
                            25048 
                            25049 ; 32   |#include "playerstatemachine.h"
                            25050 
                            25052 
                            25053 ; 1    |#ifndef _HANDLEPLAYERSTATEMACHINE_H
                            25054 ; 2    |#define _HANDLEPLAYERSTATEMACHINE_H
                            25055 ; 3    |
                            25056 ; 4    |#ifdef USE_PLAYLIST3
                            25057 ; 5    |#include "musiclib_ghdr.h"
                            25058 
                            25060 
                            25061 ; 1    |#ifndef MUSICLIB_GHDR_H
                            25062 ; 2    |#define MUSICLIB_GHDR_H
                            25063 ; 3    |
                            25064 ; 4    |#ifdef __cplusplus
                            25065 ; 5    |extern "C" {
                            25066 ; 6    |#endif
                            25067 ; 7    |
                            25068 ; 8    |/*==================================================================================================
                            25069 ; 9    |
                            25070 ; 10   |                                        General Description
                            25071 ; 11   |
                            25072 ; 12   |====================================================================================================
                            25073 ; 13   |
                            25074 ; 14   |                               Sigmatel Inc Confidential Proprietary
                            25075 ; 15   |                               (c) Copyright Sigmatel Inc 2004, All Rights Reserved
                            25076 ; 16   |
                            25077 ; 17   |HEADER NAME: mf_sf_filename.h   AUTHOR: Developer Name      CREATION DATE: DD/MM/YYYY
                            25078 ; 18   |
                            25079 ; 19   |PRODUCT NAMES: All
                            25080 ; 20   |
                            25081 ; 21   |GENERAL DESCRIPTION:
                            25082 ; 22   |
                            25083 ; 23   |    General description of this grouping of functions.
                            25084 ; 24   |
                            25085 ; 25   |Portability: All
                            25086 ; 26   |
                            25087 ; 27   |
                            25088 ; 28   |Revision History:
                            25089 ; 29   |
                            25090 ; 30   |                         Modification        Tracking
                            25091 ; 31   |Author                       Date             Number           Description of Changes
                            25092 ; 32   |---------------------    ------------        ----------        -------------------------------------
                            25093 ; 33   |Developer Name            DD/MM/YYYY         PDaaaxxxxx        brief description of changes made
                            25094 ; 34   |
                            25095 ; 35   |
                            25096 ; 36   |====================================================================================================
                            25097 ; 37   |                                            DESCRIPTION
                            25098 ; 38   |====================================================================================================
                            25099 ; 39   |
                            25100 ; 40   |GLOBAL FUNCTIONS:
                            25101 ; 41   |    MF_global_func_name()
                            25102 ; 42   |
                            25103 ; 43   |TRACEABILITY MATRIX:
                            25104 ; 44   |    None
                            25105 ; 45   |
                            25106 ; 46   |==================================================================================================*/
                            25107 ; 47   |
                            25108 ; 48   |/*==================================================================================================
                            25109 ; 49   |                                                                Conditional Compilation Directives
                            25110 ; 50   |==================================================================================================*/
                            25111 ; 51   |#ifdef WIN32
                            25112 ; 52   |#define _PC_SIMULATION_
                            25113 ; 53   |#else
                            25114 ; 54   |#define _RUNNING_IN_EMBEDDED_
                            25115 ; 55   |#endif  // WIN32
                            25116 ; 56   |
                            25117 ; 57   |#if 1
                            25118 ; 58   |#define _NEWMUSIC_      /* install new music list */
                            25119 ; 59   |#endif
                            25120 ; 60   |
                            25121 ; 61   |#if 1
                            25122 ; 62   |#define _AUDIBLE_       /* install audible list */
                            25123 ; 63   |#endif
                            25124 ; 64   |
                            25125 ; 65   |#if 1
                            25126 ; 66   |#define _ONTHEGO_       /* install on the go list */
                            25127 ; 67   |#endif
                            25128 ; 68   |
                            25129 ; 69   |#ifdef PL3_FB
                            25130 ; 70   |#define _FOLDER_BROWSE_ // install folder browsing
                            25131 ; 71   |#endif
                            25132 ; 72   |
                            25133 ; 73   |#if 1
                            25134 ; 74   |#define _SUPPORT_2000_SONGS_
                            25135 ; 75   |#endif
                            25136 ; 76   |
                            25137 ; 77   |/*==================================================================================================
                            25138 ; 78   |                                           INCLUDE FILES
                            25139 ; 79   |==================================================================================================*/
                            25140 ; 80   |#ifdef _RUNNING_IN_EMBEDDED_
                            25141 ; 81   |#define OEM_SEEK_CUR    SEEK_CUR
                            25142 ; 82   |#define OEM_SEEK_SET    SEEK_SET
                            25143 ; 83   |#define OEM_SEEK_END    SEEK_END
                            25144 ; 84   |#else
                            25145 ; 85   |#define _X
                            25146 ; 86   |#define _Y
                            25147 ; 87   |#define _packed
                            25148 ; 88   |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page  99

M:ADDR CODE           CYCLES LINE SOURCELINE
                            25149 ; 89   |#define _asmfunc
                            25150 ; 90   |#define _reentrant
                            25151 ; 91   |
                            25152 ; 92   |#define OEM_SEEK_CUR    1
                            25153 ; 93   |#define OEM_SEEK_SET    0
                            25154 ; 94   |#define OEM_SEEK_END    2
                            25155 ; 95   |#endif  // _RUNNING_IN_EMBEDDED_
                            25156 ; 96   |
                            25157 ; 97   |#include "types.h"
                            25158 ; 98   |#include "exec.h"
                            25159 ; 99   |#include "messages.h"
                            25160 ; 100  |#include "project.h"
                            25161 ; 101  |
                            25162 ; 102  |/*==================================================================================================
                            25163 ; 103  |                                             CONSTANTS
                            25164 ; 104  |==================================================================================================*/
                            25165 ; 105  |/* The bit mask for 2 bits Unicode Flag selection in "uint8 unicode".
                            25166 ; 106  |Variable Represented            Bits used in "uint8 unicode"
                            25167 ; 107  |Artistname                              1:0
                            25168 ; 108  |Albumname                               3:2
                            25169 ; 109  |Genrename                               5:4
                            25170 ; 110  |Songname                                7:6
                            25171 ; 111  |----------------------------------------------------------
                            25172 ; 112  |    Value (2 bits)                      Meanings
                            25173 ; 113  |    0                                   RAW and All ASCII
                            25174 ; 114  |    1                                   Uni-code
                            25175 ; 115  |    2                                   Mixed, non-unicode
                            25176 ; 116  |
                            25177 ; 117  |    3(Genre only)               Genre is ID3v1 spec=>number
                            25178 ; 118  |*/
                            25179 ; 119  |#define BITMASK_ARTIST  (0x03)
                            25180 ; 120  |#define BITMASK_ALBUM   (0x0C)
                            25181 ; 121  |#define BITMASK_GENRE   (0x30)
                            25182 ; 122  |#define BITMASK_SONG    (0xC0)
                            25183 ; 123  |
                            25184 ; 124  |#define BITCHK_ARTIST_ALLASCII  (0x0)
                            25185 ; 125  |#define BITCHK_ALBUM_ALLASCII   (0x0)
                            25186 ; 126  |#define BITCHK_GENRE_ALLASCII   (0x0)
                            25187 ; 127  |#define BITCHK_SONG_ALLASCII    (0x0)
                            25188 ; 128  |
                            25189 ; 129  |#define BITCHK_ARTIST_UNICODE   (0x01)
                            25190 ; 130  |#define BITCHK_ALBUM_UNICODE    (0x04)
                            25191 ; 131  |#define BITCHK_GENRE_UNICODE    (0x10)
                            25192 ; 132  |#define BITCHK_SONG_UNICODE             (0x40)
                            25193 ; 133  |
                            25194 ; 134  |#define BITCHK_ARTIST_MIXCODE   (0x02)
                            25195 ; 135  |#define BITCHK_ALBUM_MIXCODE    (0x08)
                            25196 ; 136  |#define BITCHK_GENRE_MIXCODE    (0x20)
                            25197 ; 137  |#define BITCHK_SONG_MIXCODE             (0x80)
                            25198 ; 138  |
                            25199 ; 139  |#define BITCHK_GENRE_ID3V1              (0x30)
                            25200 ; 140  |
                            25201 ; 141  |#define UNKNOWN_YEAR_CODE               (1)     /* set a very large number */
                            25202 ; 142  |
                            25203 ; 143  |#define INDEX_EOF       0xFFF
                            25204 ; 144  |#ifdef _FOLDER_BROWSE_
                            25205 ; 145  |#define INDEX_ROOT  0xffe
                            25206 ; 146  |#define UNKNOWN_RECORD  0xfff
                            25207 ; 147  |#endif  // _FOLDER_BROWSE_
                            25208 ; 148  |
                            25209 ; 149  |/* Constant for item_type */
                            25210 ; 150  |#define         ITEM_ARTIST                     0
                            25211 ; 151  |#define         ITEM_ALBUM                      1
                            25212 ; 152  |#define         ITEM_GENRE                      2
                            25213 ; 153  |#define         ITEM_TRACK                      3
                            25214 ; 154  |#define         ITEM_YEAR                       4
                            25215 ; 155  |#define         ITEM_SONG_INFO_ARTIST   5
                            25216 ; 156  |#define         ITEM_SONG_INFO_ALBUM    6
                            25217 ; 157  |#define         ITEM_SONG_INFO_GENRE    7
                            25218 ; 158  |#define         ITEM_SONG_INFO_YEAR             9
                            25219 ; 159  |#ifdef _NEWMUSIC_
                            25220 ; 160  |#define         ITEM_1DAY                       10
                            25221 ; 161  |#define         ITEM_1WEEK                      11
                            25222 ; 162  |#define         ITEM_1MONTH                     12
                            25223 ; 163  |#endif
                            25224 ; 164  |#ifdef _AUDIBLE_
                            25225 ; 165  |#define         ITEM_AUDIBLE            13
                            25226 ; 166  |#endif
                            25227 ; 167  |#define         ITEM_ON_THE_GO          14
                            25228 ; 168  |
                            25229 ; 169  |#define         ITEM_VOICE                      15
                            25230 ; 170  |#define         ITEM_FMREC                      16
                            25231 ; 171  |#define         ITEM_PHOTO                      17
                            25232 ; 172  |#ifdef _FOLDER_BROWSE_
                            25233 ; 173  |#define         ITEM_INTERNAL           18
                            25234 ; 174  |#define         ITEM_EXTERNAL       19
                            25235 ; 175  |#endif  // _FOLDER_BROWSE_
                            25236 ; 176  |#define     ITEM_UNKNOWN        0xff
                            25237 ; 177  |
                            25238 ; 178  |/*
                            25239 ; 179  |input parameter for void ML_AddEntryToLibrary(uint24 Media_type, RAM_SONG_INFO_T *song_info, int16 option);
                            25240 ; 180  |option input.
                            25241 ; 181  |*/
                            25242 ; 182  |#define         ADD_OPTION_MUSIC        (0x00)
                            25243 ; 183  |#define         ADD_OPTION_VOICE        (0x01)
                            25244 ; 184  |#define         ADD_OPTION_AUDIBLE      (0x02)
                            25245 ; 185  |#ifdef _FOLDER_BROWSE_
                            25246 ; 186  |#define     ADD_OPTION_DIR      (0x03)
                            25247 ; 187  |#endif  // _FOLDER_BROWSE_
                            25248 ; 188  |
                            25249 ; 189  |/* Constant for key action */
                            25250 ; 190  |#define         ACTION_OK                               0               /* Press OK button */
                            25251 ; 191  |#define         ACTION_BACK                             1               /* Press BACK button */
                            25252 ; 192  |#define         ACTION_UP                               2               /* Press UP button */
                            25253 ; 193  |#define         ACTION_DOWN                             3               /* Press DOWN button */
                            25254 ; 194  |#define         ACTION_PLAYALL                  4               /* Play All function */
                            25255 ; 195  |#define         ACTION_MENU                             5               /* Back the browsing tree to root */
                            25256 ; 196  |
                            25257 ; 197  |#define     PLAYMODE_CURRENT_PLAYMODE_BITPOS    0
                            25258 ; 198  |#define     PLAYMODE_LAST_PLAYMODE_BITPOS       1
                            25259 ; 199  |#define     PLAYMODE_REPEAT_BITPOS              2
                            25260 ; 200  |#define     PLAYMODE_MEDIA_BITPOS               3
                            25261 ; 201  |
                            25262 ; 202  |#define         NO_SD                                   0
                            25263 ; 203  |#define         HAS_SD                                  1
                            25264 ; 204  |
                            25265 ; 205  |#define         PLAY_NORMAL                             0
                            25266 ; 206  |#define         PLAY_SHUFFLE                    1
                            25267 ; 207  |
                            25268 ; 208  |#define     PLAY_REPEAT_OFF         0
                            25269 ; 209  |#define     PLAY_REPEAT_ON          1
                            25270 ; 210  |
                            25271 ; 211  |#define     PLAY_SELECT_FLASH       0
                            25272 ; 212  |#define     PLAY_SELECT_SD          1
                            25273 ; 213  |
                            25274 ; 214  |#define         SHUFFLE_NEXT_SONG                       0
                            25275 ; 215  |#define         SHUFFLE_PREVIOUS_SONG       1
                            25276 ; 216  |
                            25277 ; 217  |#define         ON_THE_GO_EXIST                 0
                            25278 ; 218  |#define         ON_THE_GO_FULL                  1
                            25279 ; 219  |#define         ON_THE_GO_FREE                  2
                            25280 ; 220  |#define         ON_THE_GO_DEL_PLAYING   3
                            25281 ; 221  |#define         ON_THE_GO_DEL_SMALLER_ID    4
                            25282 ; 222  |
                            25283 ; 223  |#define         REC_VOICE_TYPE                  0
                            25284 ; 224  |#define         REC_FMREC_TYPE                  1
                            25285 ; 225  |#define         REC_PHOTO_TYPE                  2
                            25286 ; 226  |#define         VOICE_FILE_ADD                  0
                            25287 ; 227  |#define         VOICE_FILE_DEL                  1
                            25288 ; 228  |
                            25289 ; 229  |#define         MAX_BROWSE_WINDOW_SIZE  (8)
                            25290 ; 230  |#define         BROWSE_WINDOW_SIZE              (4)
                            25291 ; 231  |/* maximum number of song file, should not be larger than 2048 each for on-board
                            25292 ; 232  |flash or external SD card */
                            25293 ; 233  |#ifdef _SUPPORT_2000_SONGS_
                            25294 ; 234  |#define MAX_NUM_OF_SONG (2000)
                            25295 ; 235  |#else
                            25296 ; 236  |#define MAX_NUM_OF_SONG (1000)
                            25297 ; 237  |#endif // _SUPPORT_2000_SONGS_
                            25298 ; 238  |
                            25299 ; 239  |/* number of byte in one DSP word */
                            25300 ; 240  |#define NUM_OF_BYTE_IN_ONE_WORD (3)
                            25301 ; 241  |#define LEN_OF_NAME_IN_BYTE (120) /* must be an integer multiple of 3 */
                            25302 ; 242  |/* length of file pathname in byte, assuming directory and file in 8.3 format, there
                            25303 ; 243  |are 10 level directory structure */
                            25304 ; 244  |#define LEN_OF_FILEPATH_IN_BYTE (129) /* must be an integer multiple of 3 */
                            25305 ; 245  |#define LEN_OF_LONG_FILENAME_IN_BYTE (129) /* must be an integer multiple of 3 */
                            25306 ; 246  |
                            25307 ; 247  |/* number of list in new music, 1-day, 1-week, 1-month */
                            25308 ; 248  |#define NUM_OF_LIST_IN_NEW_MUSIC (3)
                            25309 ; 249  |/* number of songs in each new music list */
                            25310 ; 250  |#define NUM_OF_SONG_IN_NEW_MUSIC (40)
                            25311 ; 251  |#define NUM_OF_SONG_IN_NEW_MUSIC_DAY (20)
                            25312 ; 252  |#define NUM_OF_SONG_IN_NEW_MUSIC_WEEK (30)
                            25313 ; 253  |#define NUM_OF_SONG_IN_NEW_MUSIC_MONTH (40)
                            25314 ; 254  |/* number of songs in the on-the-fly list */
                            25315 ; 255  |#define NUM_OF_SONG_IN_ON_THE_FLY (30)
                            25316 ; 256  |/* number of files audible list */
                            25317 ; 257  |#define NUM_OF_AUDIBLE_FILE (250)
                            25318 ; 258  |
                            25319 ; 259  |#define MAX_NUM_OF_VOICE (1000)
                            25320 ; 260  |#define LEN_OF_VOICE_NAME_IN_BYTE (LEN_OF_NAME_IN_BYTE) /* must be an integer multiple of 3 */
                            25321 ; 261  |#define LEN_OF_VOICE_FILEPATH_IN_BYTE (LEN_OF_FILEPATH_IN_BYTE) /* must be an integer multiple of 3 */
                            25322 ; 262  |
                            25323 ; 263  |#define MAX_NUM_OF_FMREC (MAX_NUM_OF_VOICE)     /* _must_be_equal_voice_num_ */
                            25324 ; 264  |#define MAX_NUM_OF_PHOTO (MAX_NUM_OF_VOICE)     /* _must_be_equal_voice_num_ */
                            25325 ; 265  |#ifdef _FOLDER_BROWSE_
                            25326 ; 266  |#define MAX_NUM_OF_DIR   (1000)
                            25327 ; 267  |#else
                            25328 ; 268  |#define MAX_NUM_OF_DIR   (1)
                            25329 ; 269  |#endif  // _FOLDER_BROWSE_
                            25330 ; 270  |#define LEN_OF_FMREC_NAME_IN_BYTE (LEN_OF_NAME_IN_BYTE) /* must be an integer multiple of 3 */
                            25331 ; 271  |#define LEN_OF_FMREC_FILEPATH_IN_BYTE (LEN_OF_FILEPATH_IN_BYTE) /* must be an integer multiple of 3 */
                            25332 ; 272  |
                            25333 ; 273  |#ifndef _MAX_DIR_DEPTH
                            25334 ; 274  |#define _MAX_DIR_DEPTH  8   // referred to "playlist3internal.h"
                            25335 ; 275  |#endif  // _MAX_DIR_DEPTH
                            25336 ; 276  |
                            25337 ; 277  |/*==================================================================================================*/
                            25338 ; 278  |
                            25339 ; 279  |
                            25340 ; 280  |/*==================================================================================================
                            25341 ; 281  |                                               MACROS
                            25342 ; 282  |==================================================================================================*/
                            25343 ; 283  |
                            25344 ; 284  |/*==================================================================================================
                            25345 ; 285  |                                               ENUMS
                            25346 ; 286  |==================================================================================================*/
                            25347 ; 287  |#define NUM_OF_MEDIA                            (2)
                            25348 ; 288  |#define MEDIA_TYPE_FLASH                        (0)
                            25349 ; 289  |#define MEDIA_TYPE_SD                           (1)
                            25350 ; 290  |/*==================================================================================================
                            25351 ; 291  |                                     STRUCTURES AND OTHER TYPEDEFS
                            25352 ; 292  |==================================================================================================*/
                            25353 ; 293  |
                            25354 ; 294  |typedef char    int8;
                            25355 ; 295  |typedef short   int16;
                            25356 ; 296  |typedef int     int24;
                            25357 ; 297  |typedef long    int32;
                            25358 ; 298  |
                            25359 ; 299  |typedef int     intx;
                            25360 ; 300  |
                            25361 ; 301  |typedef unsigned char   uint8;
                            25362 ; 302  |typedef unsigned short  uint16;
                            25363 ; 303  |typedef unsigned int    uint24;
                            25364 ; 304  |typedef unsigned long   uint32;
                            25365 ; 305  |
                            25366 ; 306  |/*
                            25367 ; 307  |Any missing information in the name fields will be filled with Unknown in Unicode format.
                            25368 ; 308  |artist_name[] = Unknown; unicode = 0x01;
                            25369 ; 309  |album_name[] = Unknown; unicode = 0x04;
                            25370 ; 310  |genre_name[] = Unknown; unicode = 0x08;
                            25371 ; 311  |song_name[] = Unknown; unicode = 0x0F;
                            25372 ; 312  |*/
                            25373 ; 313  |/*
                            25374 ; 314  |path_name[] _must_have_data_:
                            25375 ; 315  |path_name[] = (Max. 120 Characters);
                            25376 ; 316  |year range:
                            25377 ; 317  |year = 0x000000-0xFFFFFF;
                            25378 ; 318  |DOCUMENT CONTROL NUMBER : Version : 01.01
                            25379 ; 319  |Unknown track number:
                            25380 ; 320  |track_number = 0x7FFFFF;
                            25381 ; 321  |unicode refer to above #define BITMASK_*
                            25382 ; 322  |*/
                            25383 ; 323  |/*
                            25384 ; 324  |Interface of UI and Music Library
                            25385 ; 325  |1) If file was created in ID3V1 format genre, UI will convert it to Unicode string.
                            25386 ; 326  |
                            25387 ; 327  |2) Music Library expected to reserve 128x7 words RAM for UI mapping table.
                            25388 ; 328  |
                            25389 ; 329  |3) UI to Music Library variable passing length definition:
                            25390 ; 330  |        All ASCII Characters:
                            25391 ; 331  |                Max. Number of Bytes Stored = 120 Bytes
                            25392 ; 332  |                Max. Number of Characters Stored/Display = 40 Characters
                            25393 ; 333  |        Unicode Characters:
                            25394 ; 334  |                Max. Number of Bytes Stored = 120 Bytes
                            25395 ; 335  |                Max. Number of Characters Stored/Display = 40 Characters
                            25396 ; 336  |
                            25397 ; 337  |4) UI input data to Music Library in two formats.
                            25398 ; 338  |        Formats:        1) All ASCII (24 bits data)
                            25399 ; 339  |                                2) Unicode + Mix. Non -Unicode (16 bits data)
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page 100

M:ADDR CODE           CYCLES LINE SOURCELINE
                            25400 ; 340  |
                            25401 ; 341  |5) UI calling function:
                            25402 ; 342  |COMP_OPT_REN void ML_AddEntryToLibrary(RAM_SONG_INFO_T *song_info, int16 option);
                            25403 ; 343  |        int16 option definition:
                            25404 ; 344  |                option  = 0 - song_info struct contains a mp3/wma format file.
                            25405 ; 345  |                                = 1 - song_info struct contains a voice format file.
                            25406 ; 346  |                                = 2 - song_info struct contains a audible format file.
                            25407 ; 347  |
                            25408 ; 348  |        i) Only mp3/wma file (option = 0, 2) files will be sorted,
                            25409 ; 349  |        ii) Voice and audible(option = 1) file will be store in a voice_list and audible_list separately.
                            25410 ; 350  |
                            25411 ; 351  |6) Modification Date:
                            25412 ; 352  |        uint24 g_file_time:
                            25413 ; 353  |                YYMMDD: 12 bits - Year, 6 bits - Month, 6 - bits Date
                            25414 ; 354  |*/
                            25415 ; 355  |
                            25416 ; 356  |/* struct to store the song information passed from UI, this struct will be placed in
                            25417 ; 357  |ghdr\musiclib_ghdr.h and included in UI files*/
                            25418 ; 358  |typedef struct _ram_song_info {
                            25419 ; 359  |        uint24 artist_name[LEN_OF_NAME_IN_BYTE/NUM_OF_BYTE_IN_ONE_WORD];
                            25420 ; 360  |        uint24 album_name[LEN_OF_NAME_IN_BYTE/NUM_OF_BYTE_IN_ONE_WORD];
                            25421 ; 361  |        uint24 genre_name[LEN_OF_NAME_IN_BYTE/NUM_OF_BYTE_IN_ONE_WORD];
                            25422 ; 362  |        uint24 song_name[LEN_OF_NAME_IN_BYTE/NUM_OF_BYTE_IN_ONE_WORD];
                            25423 ; 363  |        uint24 path_name[LEN_OF_FILEPATH_IN_BYTE/NUM_OF_BYTE_IN_ONE_WORD];
                            25424 ; 364  |    uint32 g_songFastKey;
                            25425 ; 365  |        uint24 dir_name[LEN_OF_LONG_FILENAME_IN_BYTE/NUM_OF_BYTE_IN_ONE_WORD];
                            25426 ; 366  |        uint24 year;
                            25427 ; 367  |        uint24 track_number;
                            25428 ; 368  |        uint8 unicode;
                            25429 ; 369  |} RAM_SONG_INFO_T;
                            25430 ; 370  |
                            25431 ; 371  |/* struct to store the group name: artist, album and genre, in the flash */
                            25432 ; 372  |typedef struct _flash_group_name {
                            25433 ; 373  |        uint24 name[LEN_OF_NAME_IN_BYTE/NUM_OF_BYTE_IN_ONE_WORD];
                            25434 ; 374  |        uint8 unicode;
                            25435 ; 375  |} FLASH_GROUP_NAME_T;
                            25436 ; 376  |
                            25437 ; 377  |// struct to store directories information passed from UI
                            25438 ; 378  |#ifdef _FOLDER_BROWSE_
                            25439 ; 379  |typedef struct _ml_DirInfo {
                            25440 ; 380  |        uint24  u8Unicode : 8;
                            25441 ; 381  |        uint24  u12DirDepth : 12;
                            25442 ; 382  |        uint24  u4Added : 4;            
                            25443 ; 383  |        INT     iDirRecord;
                            25444 ; 384  |        DWORD   dwFastKey;
                            25445 ; 385  |        uint24  u24PathName[LEN_OF_FILEPATH_IN_BYTE/NUM_OF_BYTE_IN_ONE_WORD];
                            25446 ; 386  |} ML_DIRINFO_T;
                            25447 ; 387  |#endif  // _FOLDER_BROWSE_
                            25448 ; 388  |
                            25449 ; 389  |/*==================================================================================================
                            25450 ; 390  |                                 GLOBAL VARIABLE DECLARATIONS
                            25451 ; 391  |==================================================================================================*/
                            25452 ; 392  |extern uint24   IsPlayOnTheGo;
                            25453 ; 393  |extern FLASH_GROUP_NAME_T   browse_item_name[];
                            25454 ; 394  |extern uint24   merge_id_list_flash[];
                            25455 ; 395  |extern uint24   merge_id_list_sd[];
                            25456 ; 396  |extern INT _X   g_iBrowseWindowSize;
                            25457 ; 397  |#ifdef _FOLDER_BROWSE_
                            25458 ; 398  |extern ML_DIRINFO_T g_tDirInfoBuffer[_MAX_DIR_DEPTH];
                            25459 ; 399  |extern uint24       g_u24DirName[LEN_OF_NAME_IN_BYTE/NUM_OF_BYTE_IN_ONE_WORD];
                            25460 ; 400  |extern uint24       g_u24BrowseNumOfDirInDir[];
                            25461 ; 401  |#endif  // _FOLDER_BROWSE_
                            25462 ; 402  |extern INT _X    *sec_temp_buf_X;
                            25463 ; 403  |extern uint24   playMode;   /* bit 0 = current play mode; bit 1 = last play mode ; bit 2 = repeat on/off(0=off/1=on) */
                            25464 ; 404  |
                            25465 ; 405  |/*==================================================================================================
                            25466 ; 406  |                                        FUNCTION PROTOTYPES
                            25467 ; 407  |==================================================================================================*/
                            25468 ; 408  |
                            25469 ; 409  |///////////////////////////////////////////////////////////////////////
                            25470 ; 410  |//! \brief
                            25471 ; 411  |//!
                            25472 ; 412  |//! \fntype Function
                            25473 ; 413  |//!
                            25474 ; 414  |//! Called by UI, to initialize the parameters before insert any item.
                            25475 ; 415  |//! Call only once before inserting items. Call once for each media.
                            25476 ; 416  |//!
                            25477 ; 417  |//! \param[in]  none
                            25478 ; 418  |//!
                            25479 ; 419  |//! \return
                            25480 ; 420  |//!
                            25481 ; 421  |///////////////////////////////////////////////////////////////////////
                            25482 ; 422  |void ML_InitLibraryParameter(void);
                            25483 ; 423  |
                            25484 ; 424  |///////////////////////////////////////////////////////////////////////
                            25485 ; 425  |//! \brief
                            25486 ; 426  |//!
                            25487 ; 427  |//! \fntype Function
                            25488 ; 428  |//!
                            25489 ; 429  |//! Called by UI, the AddEntryToLibrary is the music library building
                            25490 ; 430  |//! algorithms for the flash-type memory and SD memory by sorting the song information
                            25491 ; 431  |//! by, but not limited to, album, artist, genre, year and track. Called once for each song,
                            25492 ; 432  |//! the song information is recorded in music library.
                            25493 ; 433  |//!
                            25494 ; 434  |//! \param[in]  uint24 Media_type - Possible values: MEDIA_TYPE_FLASH(=0); MEDIA_TYPE_SD(=1)
                            25495 ; 435  |//! \param[in]  RAM_SONG_INFO_T *song_info - Structure to store the song information passed from UI, this structure is defined in ghdr\musiclib_ghdr.h and included in UI files)
                            25496 ; 436  |//! \param[in]  int16 option - option = 0 -- song_info struct contains a mp3, wma or wav format file.
                            25497 ; 437  |//!
                            25498 ; 438  |//! \return
                            25499 ; 439  |//!
                            25500 ; 440  |///////////////////////////////////////////////////////////////////////
                            25501 ; 441  |void ML_AddEntryToLibrary(uint24 Media_type, RAM_SONG_INFO_T *song_info, int16 option);
                            25502 ; 442  |
                            25503 ; 443  |///////////////////////////////////////////////////////////////////////
                            25504 ; 444  |//! \brief
                            25505 ; 445  |//!
                            25506 ; 446  |//! \fntype Function
                            25507 ; 447  |//!
                            25508 ; 448  |//! \param[in]
                            25509 ; 449  |//!
                            25510 ; 450  |//! \return
                            25511 ; 451  |//!
                            25512 ; 452  |///////////////////////////////////////////////////////////////////////
                            25513 ; 453  |#ifdef _FOLDER_BROWSE_
                            25514 ; 454  |_reentrant void ML_AddDirEntryToLibrary(uint24 u24MediaType, ML_DIRINFO_T *ptDirInfo, int16 i16Option);
                            25515 ; 455  |#endif  // _FOLDER_BROWSE_
                            25516 ; 456  |
                            25517 ; 457  |///////////////////////////////////////////////////////////////////////
                            25518 ; 458  |//! \brief
                            25519 ; 459  |//!
                            25520 ; 460  |//! \fntype Function
                            25521 ; 461  |//!
                            25522 ; 462  |//! Called by UI, flush sorted and associate list to flash when no
                            25523 ; 463  |//! more song needed to be added for that media. This function finalizes the building of
                            25524 ; 464  |//! music library for that particular media.
                            25525 ; 465  |//!
                            25526 ; 466  |//! \param[in]  uint24 Media_type - Possible values: MEDIA_TYPE_FLASH(=0); MEDIA_TYPE_SD(=1)
                            25527 ; 467  |//!
                            25528 ; 468  |//! \return
                            25529 ; 469  |//!
                            25530 ; 470  |//! \note   Bulid the library first (call ML_AddEntryToLibrary) before calling this
                            25531 ; 471  |//!         function.
                            25532 ; 472  |///////////////////////////////////////////////////////////////////////
                            25533 ; 473  |_reentrant INT ML_FlushLibraryToFlash(INT Media_type, INT b, INT *c);
                            25534 ; 474  |
                            25535 ; 475  |///////////////////////////////////////////////////////////////////////
                            25536 ; 476  |//! \brief
                            25537 ; 477  |//!
                            25538 ; 478  |//! \fntype Function
                            25539 ; 479  |//!
                            25540 ; 480  |//! \param[in]
                            25541 ; 481  |//!
                            25542 ; 482  |//! \return
                            25543 ; 483  |//!
                            25544 ; 484  |///////////////////////////////////////////////////////////////////////
                            25545 ; 485  |#ifdef _NEWMUSIC_
                            25546 ; 486  |void ML_UpdateNewMusic(void);
                            25547 ; 487  |#endif
                            25548 ; 488  |
                            25549 ; 489  |///////////////////////////////////////////////////////////////////////
                            25550 ; 490  |//! \brief
                            25551 ; 491  |//!
                            25552 ; 492  |//! \fntype Function
                            25553 ; 493  |//!
                            25554 ; 494  |//! Called by UI, to initialize the file access mechanism for all music
                            25555 ; 495  |//! library operation if the music.lib file and the music.sec file exist (call
                            25556 ; 496  |//! ML_BuildSecTableFile() if these files do not exist).
                            25557 ; 497  |//!
                            25558 ; 498  |//! \param[in]  none
                            25559 ; 499  |//!
                            25560 ; 500  |//! \return
                            25561 ; 501  |//!
                            25562 ; 502  |//! \note   Either ML_Buildl2SecTable(void) or ML_BuildSecTableFile(void)
                            25563 ; 503  |//!         must be called before calling any other music library functions.
                            25564 ; 504  |///////////////////////////////////////////////////////////////////////
                            25565 ; 505  |_reentrant INT ML_Buildl2SecTable(INT a, INT b, INT *c);
                            25566 ; 506  |
                            25567 ; 507  |///////////////////////////////////////////////////////////////////////
                            25568 ; 508  |//! \brief
                            25569 ; 509  |//!
                            25570 ; 510  |//! \fntype Function
                            25571 ; 511  |//!
                            25572 ; 512  |//! Called by UI, to initialize the file access mechanism for all music
                            25573 ; 513  |//! library operation.
                            25574 ; 514  |//! Two system files (music.lib and music.sec) is created.
                            25575 ; 515  |//! Call this only if intended to generate / refresh these files, or if the music.lib file and the
                            25576 ; 516  |//! music.sec file do not exist.
                            25577 ; 517  |//!
                            25578 ; 518  |//! \param[in]  none
                            25579 ; 519  |//!
                            25580 ; 520  |//! \return
                            25581 ; 521  |//!
                            25582 ; 522  |//! \note   Either ML_Buildl2SecTable(void) or ML_BuildSecTableFile(void)
                            25583 ; 523  |//!         must be called before calling any other music library functions.
                            25584 ; 524  |///////////////////////////////////////////////////////////////////////
                            25585 ; 525  |_reentrant INT ML_BuildSecTableFile(INT a, INT b, INT *c);
                            25586 ; 526  |
                            25587 ; 527  |///////////////////////////////////////////////////////////////////////
                            25588 ; 528  |//! \brief
                            25589 ; 529  |//!
                            25590 ; 530  |//! \fntype Function
                            25591 ; 531  |//!
                            25592 ; 532  |//! Preload the list, prepare for renew.
                            25593 ; 533  |//! IsColdBoot=TRUE: loads the list content and the path name to the on_the_fly_list
                            25594 ; 534  |//! structure in RAM.
                            25595 ; 535  |//! IsColdBoot=FALSE: updates the path name only, to the on_the_fly_list structure
                            25596 ; 536  |//! in RAM.
                            25597 ; 537  |//!
                            25598 ; 538  |//! \param[in]  uint24 IsColdBoot - Possible values: TRUE or FALSE
                            25599 ; 539  |//!
                            25600 ; 540  |//! \return
                            25601 ; 541  |//!
                            25602 ; 542  |//! \note   Use IsColdBoot=TRUE only once when the machine boot-up, other
                            25603 ; 543  |//!         time when you need to renew the list, use IsColdBoot=FALSE instead.
                            25604 ; 544  |///////////////////////////////////////////////////////////////////////
                            25605 ; 545  |void ML_LoadOnTheGo(uint24 IsColdBoot);
                            25606 ; 546  |
                            25607 ; 547  |///////////////////////////////////////////////////////////////////////
                            25608 ; 548  |//! \brief
                            25609 ; 549  |//!
                            25610 ; 550  |//! \fntype Function
                            25611 ; 551  |//!
                            25612 ; 552  |//! Save the list to flash memory.
                            25613 ; 553  |//!
                            25614 ; 554  |//! \param[in]
                            25615 ; 555  |//!
                            25616 ; 556  |//! \return
                            25617 ; 557  |//!
                            25618 ; 558  |//! \note   It is recommended to save the list as soon as possible after it was
                            25619 ; 559  |//!         changed by the user.
                            25620 ; 560  |///////////////////////////////////////////////////////////////////////
                            25621 ; 561  |void ML_SaveOnTheGo(void);      /* call at shutdownmenu.c to save the list */
                            25622 ; 562  |
                            25623 ; 563  |///////////////////////////////////////////////////////////////////////
                            25624 ; 564  |//! \brief
                            25625 ; 565  |//!
                            25626 ; 566  |//! \fntype Function
                            25627 ; 567  |//! When the Music Lib is rebuilding, the path of each song is
                            25628 ; 568  |//! compared with the path stored in the on_the_fly_list structure, to decide if it was in the
                            25629 ; 569  |//! list before, if so the ID is replaced by the new songID, and the song is keep in the list.
                            25630 ; 570  |//! Otherwise the song is deleted.
                            25631 ; 571  |//!
                            25632 ; 572  |//! \param[in]  uint24 Media_type - Possible values: MEDIA_TYPE_FLASH(=0); MEDIA_TYPE_SD(=1)
                            25633 ; 573  |//! \param[in]  uint24 _X * temp_path - Input value, the path of song to be checked.
                            25634 ; 574  |//! \param[in]  uint24 newID - Input value, the new songID of the song.
                            25635 ; 575  |//!
                            25636 ; 576  |//! \return
                            25637 ; 577  |//!
                            25638 ; 578  |///////////////////////////////////////////////////////////////////////
                            25639 ; 579  |void ML_ChkOnTheGo(uint24 Media_type, uint24 _X * temp_path, uint24 newID);
                            25640 ; 580  |
                            25641 ; 581  |///////////////////////////////////////////////////////////////////////
                            25642 ; 582  |//! \brief
                            25643 ; 583  |//!
                            25644 ; 584  |//! \fntype Function
                            25645 ; 585  |//!
                            25646 ; 586  |//! Set a flag for all the songs of Media_type to be keep or delete
                            25647 ; 587  |//! in the ML_UpdateOnTheGo().
                            25648 ; 588  |//!
                            25649 ; 589  |//! \param[in]  uint24 Media_type - Possible values: MEDIA_TYPE_FLASH(=0); MEDIA_TYPE_SD(=1)
                            25650 ; 590  |//! \param[in]  uint24 value - Possible values: TRUE (song will be keep in the list); INDEX_EOF (song will be deleted)
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page 101

M:ADDR CODE           CYCLES LINE SOURCELINE
                            25651 ; 591  |//!
                            25652 ; 592  |//! \return
                            25653 ; 593  |//!
                            25654 ; 594  |///////////////////////////////////////////////////////////////////////
                            25655 ; 595  |void ML_ChOnTheGo(uint24 Media_type, uint24 value);
                            25656 ; 596  |
                            25657 ; 597  |///////////////////////////////////////////////////////////////////////
                            25658 ; 598  |//! \brief
                            25659 ; 599  |//!
                            25660 ; 600  |//! \fntype Function
                            25661 ; 601  |//!
                            25662 ; 602  |//! Before the list can be browse, call this function to finalize the list.
                            25663 ; 603  |//!
                            25664 ; 604  |//! \param[in]  none
                            25665 ; 605  |//!
                            25666 ; 606  |//! \return
                            25667 ; 607  |//!
                            25668 ; 608  |///////////////////////////////////////////////////////////////////////
                            25669 ; 609  |void ML_UpdateOnTheGo(void);
                            25670 ; 610  |
                            25671 ; 611  |///////////////////////////////////////////////////////////////////////
                            25672 ; 612  |//! \brief
                            25673 ; 613  |//!
                            25674 ; 614  |//! \fntype Function
                            25675 ; 615  |//!
                            25676 ; 616  |//! Called by UI, to initialize the parameters before insert any item.
                            25677 ; 617  |//! Call only once before inserting items. Call once for each media.
                            25678 ; 618  |//!
                            25679 ; 619  |//! \param[in]  none
                            25680 ; 620  |//!
                            25681 ; 621  |//! \return
                            25682 ; 622  |//!
                            25683 ; 623  |///////////////////////////////////////////////////////////////////////
                            25684 ; 624  |void ML_InitVoiceParameter(void);
                            25685 ; 625  |
                            25686 ; 626  |///////////////////////////////////////////////////////////////////////
                            25687 ; 627  |//! \brief
                            25688 ; 628  |//!
                            25689 ; 629  |//! \fntype Function
                            25690 ; 630  |//!
                            25691 ; 631  |//! \param[in]
                            25692 ; 632  |//!
                            25693 ; 633  |//! \return
                            25694 ; 634  |//!
                            25695 ; 635  |///////////////////////////////////////////////////////////////////////
                            25696 ; 636  |void ML_LoadVoiceParameter(uint24 Rec_type);
                            25697 ; 637  |
                            25698 ; 638  |///////////////////////////////////////////////////////////////////////
                            25699 ; 639  |//! \brief
                            25700 ; 640  |//!
                            25701 ; 641  |//! \fntype Function
                            25702 ; 642  |//!
                            25703 ; 643  |//! Called by UI, the ML_AddEntryToVoice is the voice library
                            25704 ; 644  |//! building algorithms for the flash-type memory by sorting the voice files by file names.
                            25705 ; 645  |//! Called once for each voice file, the information is recorded in music library.
                            25706 ; 646  |//!
                            25707 ; 647  |//! \param[in]  uint24 Rec_type - Possible values: REC_VOICE_TYPE(=0); REC_FMREC_TYPE(=1)
                            25708 ; 648  |//! \param[in]  RAM_SONG_INFO_T *song_info - struct to store the song information passed from UI, this struct will be placed in ghdr\musiclib_ghdr.h and included in UI files
                            25709 ; 649  |//! \param[in]  uint24 action - option = 0 // always set zero
                            25710 ; 650  |//!
                            25711 ; 651  |//! \return
                            25712 ; 652  |//!
                            25713 ; 653  |///////////////////////////////////////////////////////////////////////
                            25714 ; 654  |void ML_AddEntryToVoice(uint24 Rec_type, RAM_SONG_INFO_T *song_info, uint24 action);
                            25715 ; 655  |
                            25716 ; 656  |///////////////////////////////////////////////////////////////////////
                            25717 ; 657  |//! \brief
                            25718 ; 658  |//!
                            25719 ; 659  |//! \fntype Function
                            25720 ; 660  |//!
                            25721 ; 661  |//! Called by UI, flush sorted and associate list to flash when no
                            25722 ; 662  |//! more voice needed to be added for that media. This function finalizes the voice building
                            25723 ; 663  |//! of music library for that particular media.
                            25724 ; 664  |//!
                            25725 ; 665  |//! \param[in]  uint24 Rec_type - Possible values: REC_VOICE_TYPE(=0); REC_FMREC_TYPE(=1)
                            25726 ; 666  |//!
                            25727 ; 667  |//! \return
                            25728 ; 668  |//!
                            25729 ; 669  |//! \note   Bulid the library first (call ML_AddEntryToVoice) before calling this
                            25730 ; 670  |//!         function.
                            25731 ; 671  |///////////////////////////////////////////////////////////////////////
                            25732 ; 672  |void ML_FlushVoiceToFlash(uint24 Rec_type);
                            25733 ; 673  |
                            25734 ; 674  |///////////////////////////////////////////////////////////////////////
                            25735 ; 675  |//! \brief
                            25736 ; 676  |//!
                            25737 ; 677  |//! \fntype Function
                            25738 ; 678  |//!
                            25739 ; 679  |//! Called by UI, the merge the music library tables album,
                            25740 ; 680  |//! artist, genre, song and year.
                            25741 ; 681  |//!
                            25742 ; 682  |//! \param[in]  none
                            25743 ; 683  |//!
                            25744 ; 684  |//! \return
                            25745 ; 685  |//!
                            25746 ; 686  |///////////////////////////////////////////////////////////////////////
                            25747 ; 687  |void ML_MergeLibraryTables(void);
                            25748 ; 688  |
                            25749 ; 689  |///////////////////////////////////////////////////////////////////////
                            25750 ; 690  |//! \brief
                            25751 ; 691  |//!
                            25752 ; 692  |//! \fntype Function
                            25753 ; 693  |//!
                            25754 ; 694  |//! Called by UI, the merge the music library tables album,
                            25755 ; 695  |//! artist, genre, song and year.
                            25756 ; 696  |//!
                            25757 ; 697  |//! \param[in]  none
                            25758 ; 698  |//!
                            25759 ; 699  |//! \return
                            25760 ; 700  |//!
                            25761 ; 701  |///////////////////////////////////////////////////////////////////////
                            25762 ; 702  |INT _reentrant PathFormationPartial(_packed BYTE* dst, _packed BYTE* src, int iDepth);
                            25763 ; 703  |INT _reentrant PathFormation(_packed BYTE* dst, _packed BYTE* src, int iDepth);
                            25764 ; 704  |_reentrant void TrimUnicodeString(UCS3* pString);
                            25765 ; 705  |_reentrant void TrimPackedString(UCS3* pString);
                            25766 ; 706  |
                            25767 ; 707  |///////////////////////////////////////////////////////////////////////
                            25768 ; 708  |//! \brief
                            25769 ; 709  |//!
                            25770 ; 710  |//! \fntype Function
                            25771 ; 711  |//!
                            25772 ; 712  |//! \param[in]
                            25773 ; 713  |//!
                            25774 ; 714  |//! \return
                            25775 ; 715  |//!
                            25776 ; 716  |///////////////////////////////////////////////////////////////////////
                            25777 ; 717  |_reentrant void ML_FlushSortedListToFlash(uint24 u24MediaType);
                            25778 ; 718  |
                            25779 ; 719  |/*================================================================================================*/
                            25780 ; 720  |
                            25781 ; 721  |// Siukoon 2005-02-28
                            25782 ; 722  |#define MUSICLIB_STDRIVE_NUMBER     (0)
                            25783 ; 723  |#ifdef _SUPPORT_2000_SONGS_
                            25784 ; 724  |#define MUSICLIB_FILESIZE_IN_BYTE   (4194304L*2) // (SINGLE_DATABASE_SIZE*BYTE_PER_SECTOR)*2
                            25785 ; 725  |#else
                            25786 ; 726  |#define MUSICLIB_FILESIZE_IN_BYTE   (2097152L*2) // (SINGLE_DATABASE_SIZE*BYTE_PER_SECTOR)*2
                            25787 ; 727  |#endif  // _SUPPORT_2000_SONGS_
                            25788 ; 728  |#define MUSICLIB_FLASHPART_FILESIZE_IN_BYTE   (MUSICLIB_FILESIZE_IN_BYTE/2)
                            25789 ; 729  |#define WORD_PER_SECTOR             (171)
                            25790 ; 730  |#define BYTE_PER_SECTOR             (512)
                            25791 ; 731  |#define MUSICLIB_FILESIZE_IN_SECTOR (MUSICLIB_FILESIZE_IN_BYTE/BYTE_PER_SECTOR)
                            25792 ; 732  |#define MUSICLIB_FLASHPART_FILESIZE_IN_SECTOR (MUSICLIB_FLASHPART_FILESIZE_IN_BYTE/BYTE_PER_SECTOR)
                            25793 ; 733  |
                            25794 ; 734  |#define LB_BYTE_PER_SECTOR          (2048)
                            25795 ; 735  |#define LB_MUSICLIB_FILESIZE_IN_SECTOR (MUSICLIB_FILESIZE_IN_BYTE/LB_BYTE_PER_SECTOR)
                            25796 ; 736  |#define LB_MUSICLIB_FLASHPART_FILESIZE_IN_SECTOR (MUSICLIB_FLASHPART_FILESIZE_IN_BYTE/LB_BYTE_PER_SECTOR)
                            25797 ; 737  |
                            25798 ; 738  |#define MUSICLIB_FAT_ERROR_NOT_ENOUGH_MEDIA_SPACE       1
                            25799 ; 739  |#define MUSICLIB_FAT_ERROR_CREATE_FILE                  2
                            25800 ; 740  |#define MUSICLIB_FAT_ERROR_DELETE_FILE                  3
                            25801 ; 741  |#define MUSICLIB_FAT_ERROR_OPEN_FILE                    4
                            25802 ; 742  |
                            25803 ; 743  |/////////////////////
                            25804 ; 744  |
                            25805 ; 745  |#define LONG_SIZE_IN_BYTE                               (6)
                            25806 ; 746  |
                            25807 ; 747  |#ifdef _SUPPORT_2000_SONGS_
                            25808 ; 748  |#define SEC_TABLE_SIZE_IN_LONG                  (16384) // DATABASE_SIZE
                            25809 ; 749  |#else
                            25810 ; 750  |#define SEC_TABLE_SIZE_IN_LONG                  (8192)  // DATABASE_SIZE
                            25811 ; 751  |#endif // _SUPPORT_2000_SONGS_
                            25812 ; 752  |#define SEC_TABLE_SIZE_IN_BYTE                  (SEC_TABLE_SIZE_IN_LONG*LONG_SIZE_IN_BYTE)
                            25813 ; 753  |
                            25814 ; 754  |#define SEC_TABLE_FLASHPART_SIZE_IN_LONG        (SEC_TABLE_SIZE_IN_LONG/2)
                            25815 ; 755  |#define SEC_TABLE_FLASHPART_SIZE_IN_BYTE        (SEC_TABLE_SIZE_IN_BYTE/2)
                            25816 ; 756  |
                            25817 ; 757  |#define NUM_OF_LONG_PER_512SEC          (85)    // 512/6=>85
                            25818 ; 758  |#ifdef _SUPPORT_2000_SONGS_
                            25819 ; 759  |#define NUM_OF_LEVEL2_SEC                               (194)   /* 97x2 */
                            25820 ; 760  |#define NUM_OF_LEVEL2_FLASHPART_SEC             (97)    /* 8192/85 */
                            25821 ; 761  |#else
                            25822 ; 762  |#define NUM_OF_LEVEL2_SEC                               (98)    /* 49x2 */
                            25823 ; 763  |#define NUM_OF_LEVEL2_FLASHPART_SEC             (49)    /* 4096/85 */
                            25824 ; 764  |#endif // _SUPPORT_2000_SONGS_
                            25825 ; 765  |#define LEVEL2_TABLE_SIZE                               (NUM_OF_LEVEL2_SEC*2)
                            25826 ; 766  |#define SEC_TABLE_FLASH_START_SEC               (0x00)
                            25827 ; 767  |#define SEC_TABLE_SD_START_SEC                  (NUM_OF_LEVEL2_FLASHPART_SEC)
                            25828 ; 768  |
                            25829 ; 769  |#define SEC_TABLE_FILESIZE_IN_BYTE              (BYTE_PER_SECTOR*NUM_OF_LEVEL2_SEC)
                            25830 ; 770  |#ifdef _SUPPORT_2000_SONGS_
                            25831 ; 771  |#define BYTE_FILL_INTERDB_GAP                   (320)   // 512-((8192-(85*96))*6)
                            25832 ; 772  |#else
                            25833 ; 773  |#define BYTE_FILL_INTERDB_GAP                   (((NUM_OF_LEVEL2_FLASHPART_SEC*NUM_OF_LONG_PER_512SEC)-SEC_TABLE_FLASHPART_SIZE_IN_LONG)*LONG_SIZE_IN_BYTE+2)
                            25834 ; 774  |#endif  // _SUPPORT_2000_SONGS_
                            25835 ; 775  |
                            25836 ; 776  |#define LB_SEC_TABLE_SIZE_IN_LONG                       (LB_MUSICLIB_FILESIZE_IN_SECTOR)
                            25837 ; 777  |#define LB_SEC_TABLE_SIZE_IN_BYTE                       (LB_SEC_TABLE_SIZE_IN_LONG*LONG_SIZE_IN_BYTE)
                            25838 ; 778  |
                            25839 ; 779  |#define LB_SEC_TABLE_FLASHPART_SIZE_IN_LONG     (LB_SEC_TABLE_SIZE_IN_LONG/2)
                            25840 ; 780  |#define LB_SEC_TABLE_FLASHPART_SIZE_IN_BYTE     (LB_SEC_TABLE_SIZE_IN_BYTE/2)
                            25841 ; 781  |
                            25842 ; 782  |#define NUM_OF_LONG_PER_2048SEC                     (341)   // 2048/6=>341
                            25843 ; 783  |#ifdef _SUPPORT_2000_SONGS_
                            25844 ; 784  |#define NUM_OF_LEVEL2_2048SEC                           (49)    // 16384/341=>49
                            25845 ; 785  |#define NUM_OF_LEVEL2_FLASHPART_2048SEC         (25)    /* 8192/341=>25 */
                            25846 ; 786  |#else
                            25847 ; 787  |#define NUM_OF_LEVEL2_2048SEC                           (25)    // 8192/341=>25
                            25848 ; 788  |#define NUM_OF_LEVEL2_FLASHPART_2048SEC         (13)    /* 4096/341=>13 */
                            25849 ; 789  |#endif // _SUPPORT_2000_SONGS_
                            25850 ; 790  |
                            25851 ; 791  |#ifdef _SUPPORT_2000_SONGS_
                            25852 ; 792  |#define BYTE_FILL_INTERDB_GAP_2048                      (2000)  // 2048-((8192-(341*24))*6)
                            25853 ; 793  |#define BYTE_FILL_INTERDB_2ND_GAP_2048      (2532)  // 99328-96796
                            25854 ; 794  |#else
                            25855 ; 795  |#define BYTE_FILL_INTERDB_GAP_2048                      (((341-4)*6)+2) //2024
                            25856 ; 796  |#define BYTE_FILL_INTERDB_2ND_GAP_2048      (2556)  // 50176-47620
                            25857 ; 797  |#endif // _SUPPORT_2000_SONGS_
                            25858 ; 798  |
                            25859 ; 799  |#ifdef __cplusplus
                            25860 ; 800  |}
                            25861 ; 801  |#endif
                            25862 ; 802  |
                            25863 ; 803  |#endif  /* MUSICLIB_GHDR_H */
                            25864 
                            25866 
                            25867 ; 6    |#endif  // USE_PLAYLIST3
                            25868 ; 7    |
                            25869 ; 8    |#ifndef QUICK_SWITCH_TIMEOUT_TIME
                            25870 ; 9    |// change from 500ms t0 400ms  to reduce inter-song delay by 0.1 sec (8-11-2005)
                            25871 ; 10   |#define QUICK_SWITCH_TIMEOUT_TIME 400   
                            25872 ; 11   |#endif
                            25873 ; 12   |
                            25874 ; 13   |//These are in the DecoderSR/DecoderCSR
                            25875 ; 14   |#define DECODER_VBRFlag         1<<1
                            25876 ; 15   |#define DECODER_PAUSED          1<<5
                            25877 ; 16   |#define DECODER_STOPPED         1<<6
                            25878 ; 17   |#define DECODER_SYNCED          1<<10
                            25879 ; 18   |#define DECODER_PLAYING         1<<12
                            25880 ; 19   |#define DECODER_END_OF_SONG     1<<13           // in DecoderCSR
                            25881 ; 20   |#define DECODER_SONG_INFO       1<<15
                            25882 ; 21   |#define DECODER_FILE_IS_OPEN    1<<16
                            25883 ; 22   |#define DECODER_A_SET           1<<18
                            25884 ; 23   |#define DECODER_B_SET           1<<19
                            25885 ; 24   |#define DECODER_BAD_FILE        1<<21
                            25886 ; 25   |#define DECODER_LOOKING_FOR_SYNC 1<<22
                            25887 ; 26   |
                            25888 ; 27   |#define SEEK_NONE 0
                            25889 ; 28   |#define SEEK_FFWD 1
                            25890 ; 29   |#define SEEK_RWND -1
                            25891 ; 30   |
                            25892 ; 31   |extern _X int g_iSeeking;
                            25893 ; 32   |extern _X INT g_iPlayerState;
                            25894 ; 33   |
                            25895 ; 34   |#ifdef USE_PLAYLIST3
                            25896 ; 35   |extern BOOL bSystemInit;
                            25897 ; 36   |extern uint24   g_is_SD_inserted;
                            25898 ; 37   |extern BOOL bResume;
                            25899 ; 38   |#endif  // USE_PLAYLIST3
                            25900 ; 39   |
                            25901 ; 40   |#ifdef USE_PLAYLIST3
                            25902 ; 41   |void _reentrant ML_browsing_app_init(void);
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page 102

M:ADDR CODE           CYCLES LINE SOURCELINE
                            25903 ; 42   |#endif  // USE_PLAYLIST3
                            25904 ; 43   |
                            25905 ; 44   |#endif
                            25906 
                            25908 
                            25909 ; 33   |
                            25910 ; 34   |
                            25911 ; 35   |#ifdef MMC
                            25912 ; 36   |#include "mmcddi.h"
                            25913 
                            25915 
                            25916 ; 1    |////////////////////////////////////////////////////////////////////////////////
                            25917 ; 2    |// Copyright(C) SigmaTel, Inc. 2003
                            25918 ; 3    |//
                            25919 ; 4    |// Filename: MMCDdi.h
                            25920 ; 5    |// Description: 
                            25921 ; 6    |////////////////////////////////////////////////////////////////////////////////
                            25922 ; 7    |
                            25923 ; 8    |#ifndef _MMCDDI_H
                            25924 ; 9    |#define _MMCDDI_H
                            25925 ; 10   |
                            25926 ; 11   |///////////////////////////////////////////////////////////////////////////////
                            25927 ; 12   |// Includes
                            25928 ; 13   |///////////////////////////////////////////////////////////////////////////////
                            25929 ; 14   |
                            25930 ; 15   |#include "ddildl_internal.h"
                            25931 
                            25933 
                            25934 ; 1    |////////////////////////////////////////////////////////////////////////////////
                            25935 ; 2    |// Copyright(C) SigmaTel, Inc. 2003
                            25936 ; 3    |//
                            25937 ; 4    |// Filename: ddildl_internal.h
                            25938 ; 5    |// Description: 
                            25939 ; 6    |////////////////////////////////////////////////////////////////////////////////
                            25940 ; 7    |#ifndef _DDILDL_INTERNAL_H
                            25941 ; 8    |#define _DDILDL_INTERNAL_H
                            25942 ; 9    |
                            25943 ; 10   |#include "ddildl.h"
                            25944 
                            25946 
                            25947 ; 1    |////////////////////////////////////////////////////////////////////////////////
                            25948 ; 2    |// Copyright(C) SigmaTel, Inc. 2003-2005
                            25949 ; 3    |//
                            25950 ; 4    |// Filename: ddildl.h
                            25951 ; 5    |// Description: 
                            25952 ; 6    |////////////////////////////////////////////////////////////////////////////////
                            25953 ; 7    |
                            25954 ; 8    |#ifndef _DDILDL_H
                            25955 ; 9    |#define _DDILDL_H
                            25956 ; 10   |
                            25957 ; 11   |///////////////////////////////////////////////////////////////////////////////
                            25958 ; 12   |// Includes
                            25959 ; 13   |///////////////////////////////////////////////////////////////////////////////
                            25960 ; 14   |
                            25961 ; 15   |///////////////////////////////////////////////////////////////////////////////
                            25962 ; 16   |// Definitions
                            25963 ; 17   |///////////////////////////////////////////////////////////////////////////////
                            25964 ; 18   |// version before march 11 2005 
                            25965 ; 19   |//#ifdef PLAYER_BUILD
                            25966 ; 20   |//#define MAX_MEDIA_TABLE_ENTRIES                12
                            25967 ; 21   |//#else
                            25968 ; 22   |//#define MAX_MEDIA_TABLE_ENTRIES                14
                            25969 ; 23   |//#endif
                            25970 ; 24   |// Mar 14 2007: Only requires the maximum number of drives in one media
                            25971 ; 25   |// NAND:(2 data drives + 9 system drives + 1 extra system drive in future) = 12
                            25972 ; 26   |#define MAX_MEDIA_TABLE_ENTRIES                12
                            25973 ; 27   |
                            25974 ; 28   |#define MAX_LOGICAL_MEDIA                       2
                            25975 ; 29   |
                            25976 ; 30   |//
                            25977 ; 31   |// WARNING
                            25978 ; 32   |// The maximum number of drives needed for player, mtp and usbmsc 
                            25979 ; 33   |// builds is currently the player build which has the largest number of drives = 12(NAND)+1(MMC).
                            25980 ; 34   |// Private lib references to this change to use a ddiproject global that's init per project 
                            25981 ; 35   |// instead so those plib references are no longer fixed at lib compile time. March 1 2005
                            25982 ; 36   |#ifdef PLAYER_BUILD
                            25983 ; 37   |#define MAX_LOGICAL_DRIVES                      13
                            25984 ; 38   |#else // MTP_BUILD & USBMSC/updater need support for the ram drive used in msc
                            25985 ; 39   |/********************************************************************************
                            25986 ; 40   | * We have to define 2 more than the actually size for usbmsc case
                            25987 ; 41   | * We have totally 9 system drives, 3 data drives, 1 extra system drive in future, 
                            25988 ; 42   | * so the total number is 13. The max will be 13 + 2 = 15
                            25989 ; 43   | ********************************************************************************/
                            25990 ; 44   |#define MAX_LOGICAL_DRIVES                      15
                            25991 ; 45   |#endif
                            25992 ; 46   |
                            25993 ; 47   |#define DDI_MAGIC_NUMBER                        0xADEADE
                            25994 ; 48   |
                            25995 ; 49   |///////////////////////////////////////////////////////////////////////////////
                            25996 ; 50   |// Error codes
                            25997 ; 51   |///////////////////////////////////////////////////////////////////////////////
                            25998 ; 52   |
                            25999 ; 53   |#include "errors.h"
                            26000 
                            26002 
                            26003 ; 1    |/////////////////////////////////////////////////////////////////////////////////
                            26004 ; 2    |//// Copyright(C) SigmaTel, Inc. 2003
                            26005 ; 3    |////
                            26006 ; 4    |//// Filename: errors.inc
                            26007 ; 5    |//// Description: 
                            26008 ; 6    |/////////////////////////////////////////////////////////////////////////////////
                            26009 ; 7    |
                            26010 ; 8    |#if (!defined(ERRORS_INC))
                            26011 ; 9    |#define ERRORS_INC 1
                            26012 ; 10   |
                            26013 ; 11   |#define LDRIVE_ERROR_INVALID_DRIVE_NUMBER 0x0101
                            26014 ; 12   |#define LDRIVE_ERROR_NOT_INITIALIZED 0x0102
                            26015 ; 13   |#define LDRIVE_ERROR_HARDWARE_FAILURE 0x0103
                            26016 ; 14   |#define LDRIVE_ERROR_INVALID_DRIVE_TYPE 0x0104
                            26017 ; 15   |#define LDRIVE_ERROR_INVALID_INFO_TYPE 0x0105
                            26018 ; 16   |#define LDRIVE_ERROR_SECTOR_OUT_OF_BOUNDS 0x0106
                            26019 ; 17   |#define LDRIVE_ERROR_WRITE_FAILURE 0x0107
                            26020 ; 18   |#define LDRIVE_ERROR_WRITE_PROTECTED 0x0108
                            26021 ; 19   |#define LDRIVE_ERROR_MULTI_WRITE_IN_PROGRESS 0x0109
                            26022 ; 20   |#define LDRIVE_ERROR_MUST_HAVE_MORE_THAN_ONE_SECTOR 0x010A
                            26023 ; 21   |#define LDRIVE_ERROR_MULTI_WRITE_NOT_SETUP 0x010B
                            26024 ; 22   |// The WRITE_ABORT Error is returned when the system drive detects a bad
                            26025 ; 23   |// block in the device. The block was marked bad and tables updated.
                            26026 ; 24   |// The application must start over.
                            26027 ; 25   |#define LDRIVE_ERROR_WRITE_ABORT 0x010C
                            26028 ; 26   |#define LDRIVE_ERROR_READ_FAILURE 0x010D
                            26029 ; 27   |#define LDRIVE_ERROR_MEDIA_NOT_ALLOCATED 0x010E
                            26030 ; 28   |#define LDRIVE_ERROR_LOW_LEVEL_MEDIA_FORMAT_REQUIRED 0x010F
                            26031 ; 29   |
                            26032 ; 30   |#define LMEDIA_ERROR_HARDWARE_FAILURE 0x0200
                            26033 ; 31   |#define LMEDIA_ERROR_INVALID_MEDIA_NUMBER 0x0201
                            26034 ; 32   |#define LMEDIA_ERROR_MEDIA_NOT_INITIALIZED 0x0202
                            26035 ; 33   |#define LMEDIA_ERROR_MEDIA_NOT_DISCOVERED 0x0203
                            26036 ; 34   |#define LMEDIA_ERROR_INVALID_MEDIA_INFO_TYPE 0x0204
                            26037 ; 35   |#define LMEDIA_ERROR_ALLOCATION_TO_LARGE 0x0205
                            26038 ; 36   |#define LMEDIA_ERROR_MEDIA_NOT_ERASED 0x0206
                            26039 ; 37   |#define LMEDIA_ERROR_MEDIA_ERASED 0x0207
                            26040 ; 38   |//Specific to NAND
                            26041 ; 39   |#define LMEDIA_ERROR_NO_REGIONS_IN_MEDIA 0x0208     
                            26042 ; 40   |#define LMEDIA_ERROR_DRIVES_MAX_OUT 0x0209 
                            26043 ; 41   |#define LMEDIA_ERROR_MEDIA_WRITE_PROTECTED 0x020A
                            26044 ; 42   |#define LMEDIA_ERROR_INVALID_INFO_TYPE 0x020B
                            26045 ; 43   |#define LMEDIA_ERROR_BAD_BLOCKS_MAX_OUT 0x020C
                            26046 ; 44   |#define LMEDIA_ERROR_NOT_ALLOCATED 0x020D
                            26047 ; 45   |
                            26048 ; 46   |#define LMEDIA_ERROR_DRIVE_TYPE_NOT_SUPPORTED 0x0210
                            26049 ; 47   |
                            26050 ; 48   |#define NAND_ERROR_WRITE_PHYS_SECTOR_PROGRAM_FAILED 0x0301
                            26051 ; 49   |#define ERROR_MULTI_WRITE_SECTOR_FIFO_OVERFLOW 0x0302
                            26052 ; 50   |#define ERROR_MULTI_WRITE_SECTOR_FIFO_UNDERFLOW 0x0303
                            26053 ; 51   |
                            26054 ; 52   |#define NAND_DATA_DRIVE_ERROR_LOGICAL_SECTOR_OUT_OF_BOUNDS 0x0401
                            26055 ; 53   |#define NAND_DATA_DRIVE_ERROR_RBLOCK_NOT_FOUND 0x0402
                            26056 ; 54   |#define NAND_DATA_DRIVE_ERROR_NO_FREE_RBLOCKS 0x0403
                            26057 ; 55   |#define NAND_DATA_DRIVE_ERROR_USECTOR_LOOKUP_INTERNAL_1 0x0404
                            26058 ; 56   |#define NAND_DATA_DRIVE_SECTOR_NOT_UPDATED 0x0405
                            26059 ; 57   |#define NAND_DATA_DRIVE_ERROR_CANT_RECYCLE_USECTOR_MAP 0x0406
                            26060 ; 58   |#define NAND_DATA_DRIVE_ERROR_UBLOCK_LBAS_INCONSISTENT 0x0407
                            26061 ; 59   |#define NAND_DATA_DRIVE_ERROR_HSECTORIDX_IN_UBLOCK_OUT_OF_RANGE 0x0408
                            26062 ; 60   |#define NAND_DATA_DRIVE_ERROR_CANT_RECYCLE_UBLOCK 0x0409
                            26063 ; 61   |#define NAND_DATA_DRIVE_ERROR_BBTABLE_FULL 0x040A
                            26064 ; 62   |#define NAND_DATA_DRIVE_ERROR_UPDATE_NOT_OPEN 0x040B
                            26065 ; 63   |#define NAND_DATA_DRIVE_ERROR_ADD_USECTOR_INTERNAL_1 0x040C
                            26066 ; 64   |#define NAND_DATA_DRIVE_ERROR_CANT_GET_ERASED_UBLOCK 0x040D
                            26067 ; 65   |#define NAND_DATA_DRIVE_ERROR_NO_ERASED_UBLOCKS 0x040E
                            26068 ; 66   |#define NAND_DATA_DRIVE_ERROR_CANT_ERASE_FREE_UBLOCK 0x040F
                            26069 ; 67   |#define NAND_DATA_DRIVE_ERROR_KILLUSECTOR_INTERNAL_1 0x0410
                            26070 ; 68   |#define NAND_DATA_DRIVE_ERROR_KILLUSECTOR_INTERNAL_2 0x0411
                            26071 ; 69   |#define NAND_DATA_DRIVE_RETURN_BLOCK_NOT_UPDATED 0x0412
                            26072 ; 70   |#define NAND_DATA_DRIVE_ERROR_UBLOCK_PROTECT_TABLE_FULL 0x0413
                            26073 ; 71   |#define NAND_DATA_DRIVE_ERROR_UBLOCK_ALREADY_PROTECTED 0x0414
                            26074 ; 72   |#define NAND_DATA_DRIVE_ERROR_UBLOCK_NOT_PROTECTED 0x0415
                            26075 ; 73   |#define NAND_DATA_DRIVE_ERROR_UBLOCKPROTECT_INTERNAL_1 0x0416
                            26076 ; 74   |#define NAND_DATA_DRIVE_ERROR_RECOVERUBLOCK_INTERNAL_1 0x0417
                            26077 ; 75   |#define NAND_DATA_DRIVE_ERROR_RECOVERUBLOCK_INTERNAL_2 0x0418
                            26078 ; 76   |#define NAND_DATA_DRIVE_ERROR_UBLOCK_NOT_IN_UTABLE 0x0419
                            26079 ; 77   |#define NAND_DATA_DRIVE_ERROR_CANT_ALLOCATE_USECTORS_MAPS 0x041A
                            26080 ; 78   |#define NAND_DATA_DRIVE_ERROR_CANT_INIT_DATA_REGIONS_LIST 0x041B
                            26081 ; 79   |#define NAND_DATA_DRIVE_ERROR_TOO_MANY_UBLOCKS_IN_CONFIG 0x041C
                            26082 ; 80   |#define NAND_DATA_DRIVE_ERROR_USECTOR_INDEX_IS_NOT_NEXT 0x041D
                            26083 ; 81   |#define NAND_DATA_DRIVE_ERROR_USECTOR_ALREADY_UPDATED 0x041E
                            26084 ; 82   |#define NAND_DATA_DRIVE_ERROR_BgGC_USECTOR_ERASE_TIMEDOUT 0x041F
                            26085 ; 83   |#define NAND_DATA_DRIVE_ERROR_BgGC_HSECTOR_COPY_TIMEDOUT 0x0420
                            26086 ; 84   |#define NAND_DATA_DRIVE_ERROR_BgGC_ALREADY_ENABLED 0x0421
                            26087 ; 85   |#define NAND_DATA_DRIVE_ERROR_BgGC_HSECTOR_ERASE_TIMEDOUT 0x0422
                            26088 ; 86   |#define NAND_DATA_DRIVE_ERROR_BgGC_SECTOR_NOT_UPDATED 0x0423
                            26089 ; 87   |#define NAND_DATA_DRIVE_ERROR_NO_STALE_UBLOCKS 0x0424
                            26090 ; 88   |#define NAND_DATA_DRIVE_ERROR_NAND_IS_READY_TIMEOUT 0x0425
                            26091 ; 89   |#define NAND_DATA_DRIVE_ERROR_CANT_CLOSE_UPDATE 0x0426
                            26092 ; 90   |
                            26093 ; 91   |#define NAND_DATA_DRIVE_ERROR_CMW_S0_FETCH_FAILED 0x042C
                            26094 ; 92   |#define NAND_DATA_DRIVE_ERROR_CMW_S1_FETCH_FAILED 0x042D
                            26095 ; 93   |#define NAND_DATA_DRIVE_ERROR_CMW_S2_1_FETCH_FAILED 0x042E
                            26096 ; 94   |#define NAND_DATA_DRIVE_ERROR_CMW_S2_2_FETCH_FAILED 0x042F
                            26097 ; 95   |#define NAND_DATA_DRIVE_ERROR_CMW_S3_1_FETCH_FAILED 0x0430
                            26098 ; 96   |#define NAND_DATA_DRIVE_ERROR_CMW_S3_2_FETCH_FAILED 0x0431
                            26099 ; 97   |#define NAND_DATA_DRIVE_ERROR_CMW_S4_1_FETCH_FAILED 0x0432
                            26100 ; 98   |#define NAND_DATA_DRIVE_ERROR_CMW_S4_2_FETCH_FAILED 0x0433
                            26101 ; 99   |#define NAND_DATA_DRIVE_ERROR_CMW_S5_FETCH_FAILED 0x0434
                            26102 ; 100  |#define NAND_DATA_DRIVE_ERROR_CMW_S0_ECC_TIMEOUT 0x0435
                            26103 ; 101  |#define NAND_DATA_DRIVE_ERROR_CMW_S2_ECC_TIMEOUT 0x0436
                            26104 ; 102  |#define NAND_DATA_DRIVE_ERROR_CMW_S3_ECC_TIMEOUT 0x0437
                            26105 ; 103  |#define NAND_DATA_DRIVE_ERROR_CMW_S4_ECC_TIMEOUT 0x0438
                            26106 ; 104  |#define NAND_DATA_DRIVE_ERROR_CMW_S5_ECC_TIMEOUT 0x0439
                            26107 ; 105  |#define NAND_DATA_DRIVE_ERROR_CMW_WRITE_FAILED 0x043A
                            26108 ; 106  |#define NAND_DATA_DRIVE_ERROR_CMW_RELEASE_FAILED 0x043B
                            26109 ; 107  |
                            26110 ; 108  |#define NAND_DATA_DRIVE_ERROR_INVALID_LOGICAL_SECTOR 0x0427
                            26111 ; 109  |#define NAND_DATA_DRIVE_ERROR_INVALID_RELATIVE_SECTOR 0x0428
                            26112 ; 110  |#define NAND_DATA_DRIVE_ERROR_UBLOCK_IS_EMPTY 0x0429
                            26113 ; 111  |#define NAND_DATA_DRIVE_ERROR_USECTOR_MAP_IS_BAD 0x042A
                            26114 ; 112  |#define NAND_DATA_DRIVE_ERROR_TOO_MANY_BLOCK_RECOVERIES 0x042B
                            26115 ; 113  |
                            26116 ; 114  |// indicates that during the NandHalInit, the NandType did not
                            26117 ; 115  |// match the previously initialized Nand chip type.
                            26118 ; 116  |#define NANDHAL_ERROR_NANDTYPE_MISMATCH 0x0500 
                            26119 ; 117  |#define NANDHAL_ERROR_LOOKUP_ID_FAILED 0x0501
                            26120 ; 118  |// Errors from calling HIL functions
                            26121 ; 119  |#define NANDHAL_ERROR_INIT_PORT 0x0502
                            26122 ; 120  |#define NANDHAL_ERROR_WRITE_PORT_CMD 0x0503
                            26123 ; 121  |#define NANDHAL_ERROR_WRITE_PORT_ADDR 0x0504
                            26124 ; 122  |#define NANDHAL_ERROR_READ_PORT_DATA 0x0505
                            26125 ; 123  |#define NANDHAL_ERROR_WAIT_FOR_READY_PORT 0x0506
                            26126 ; 124  |#define NANDHAL_ERROR_POWER_UP_FLASH_PADS 0x0507
                            26127 ; 125  |#define NANDHAL_ERROR_TERMINATE_PORT 0x0508
                            26128 ; 126  |#define NANDHAL_ERROR_LOCKPORT_TIMEOUT 0x0509
                            26129 ; 127  |#define NANDHAL_ERROR_LOCKNAND_TIMEOUT 0x050A
                            26130 ; 128  |// for 3410 build
                            26131 ; 129  |#define NANDHAL_ERROR_LOCKPORT_LOCKED 0x050B
                            26132 ; 130  |// for 3410 build
                            26133 ; 131  |#define NANDHAL_ERROR_LOCKNAND_LOCKED 0x050C
                            26134 ; 132  |#define NANDHAL_ERROR_WRITE_DATA_PORT 0x050D
                            26135 ; 133  |
                            26136 ; 134  |// indicates that the GetStatus returned a FAIL
                            26137 ; 135  |#define NANDHAL_ERROR_GETSTATUS_FAILED 0x050E
                            26138 ; 136  |#define NANDHAL_ERROR_WRITE_FAILED 0x050F
                            26139 ; 137  |#define NANDHAL_ERROR_READ_FAILED 0x0510
                            26140 ; 138  |#define NANDHAL_ERROR_READID1_FAILED 0x0511
                            26141 ; 139  |#define NANDHAL_ERROR_READID2_FAILED 0x0512
                            26142 ; 140  |#define NANDHAL_ERROR_READIDEXT_FAILED 0x0513
                            26143 ; 141  |// indicates the NAND was already BUSY
                            26144 ; 142  |#define NANDHAL_ERROR_SETNANDBUSY_FAILED 0x0514
                            26145 ; 143  |#define NANDHAL_ERROR_ASYNCWAIT_CALLBACK_ERR 0x0515
                            26146 ; 144  |// ECC Error Codes
                            26147 ; 145  |// ECC Computation has successfully completed
                            26148 ; 146  |#define COMPUTE_ECC_SUCCESS 0         
                            26149 ; 147  |// ECC computation still busy
                            26150 ; 148  |#define COMPUTE_ECC_NOT_DONE 0x0516
                            26151 ; 149  |// timed out while waiting on object
                            26152 ; 150  |#define NANDHAL_ERROR_LOCKECC_TIMEOUT 0x0517
                            26153 ; 151  |// flag already set for SDK2.4 lock
                            26154 ; 152  |#define NANDHAL_ERROR_LOCKECC_LOCKED 0x0518
                            26155 ; 153  |
                            26156 ; 154  |#define NANDHAL_ECC_NOERROR 0
                            26157 ; 155  |// SKIP 0519-051B for space optimization in ECC calculate functions
                            26158 ; 156  |#define NANDHAL_ECC_ERROR_FIXED 0x051C
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page 103

M:ADDR CODE           CYCLES LINE SOURCELINE
                            26159 ; 157  |#define NANDHAL_ECC_ERROR_FIXED_REWRITE_SECTOR 0x051D
                            26160 ; 158  |#define NANDHAL_ECC_FIX_FAILED 0x051E
                            26161 ; 159  |#define NANDHAL_ECC_ERROR_FIXED_REWRITE_FAILED 0x051F
                            26162 ; 160  |
                            26163 ; 161  |// MMC Errors
                            26164 ; 162  |#define MMC_MEDIA_ERROR_DEVICE_NOT_INSERTED 0x0600
                            26165 ; 163  |#define MMC_MEDIA_ERROR_RESET_FAILED 0x0601
                            26166 ; 164  |#define MMC_MEDIA_APP_COMMAND_FAILED 0x0602
                            26167 ; 165  |#define MMC_MEDIA_ERROR_INIT_FAILED 0x0603
                            26168 ; 166  |#define MMC_MEDIA_ERROR_SEND_OP_TIMEOUT 0x0604
                            26169 ; 167  |#define MMC_MEDIA_READ_OCR_FAILED 0x0605
                            26170 ; 168  |#define MMC_MEDIA_UNSUPPORTED_OCR_VOLTAGES 0x0606
                            26171 ; 169  |#define MMC_MEDIA_READ_CSD_FAILED 0x0607
                            26172 ; 170  |#define MMC_MEDIA_INVALID_CSD_VERSION 0x0608
                            26173 ; 171  |#define MMC_MEDIA_READ_CID_FAILED 0x0609
                            26174 ; 172  |#define MMC_MEDIA_INVALID_CID 0x060A
                            26175 ; 173  |#define MMC_MEDIA_SPEC_VERSION_NOT_SUPPORTED 0x060B
                            26176 ; 174  |#define MMC_MEDIA_ERROR_NOT_FORMATTED 0x060C
                            26177 ; 175  |#define MMC_MEDIA_ERROR_NOT_ENUMERATED 0x060D
                            26178 ; 176  |
                            26179 ; 177  |#define MMC_DATA_DRIVE_ERROR_WRITE_SECTOR_FAIL 0x0700
                            26180 ; 178  |#define MMC_DATA_DRIVE_ERROR_INVALID_SECTOR 0x0701
                            26181 ; 179  |#define MMC_DATA_DRIVE_ERROR_READ_SECTOR_FAIL 0x0702
                            26182 ; 180  |#define MMC_DATA_DRIVE_ERROR_WRITE_PROTECTED 0x0703
                            26183 ; 181  |#define MMC_DATA_DRIVE_ERROR_ERASE_FAILED 0x0704
                            26184 ; 182  |#define MMC_DATA_DRIVE_ERROR_SEQUENTIAL_FIRST_FAIL 0x0705
                            26185 ; 183  |#define MMC_DATA_DRIVE_ERROR_SEQUENTIAL_NEXT_FAIL 0x0706
                            26186 ; 184  |#define MMC_DATA_DRIVE_ERROR_SEQUENTIAL_END_FAIL 0x0707
                            26187 ; 185  |#define MMC_DATA_DRIVE_ERROR_BLOCK_ALIGN_FAIL 0x0708
                            26188 ; 186  |
                            26189 ; 187  |/////////////////////////////////////////////////////////////////////////////////
                            26190 ; 188  |//// MMC HAL Error codes
                            26191 ; 189  |/////////////////////////////////////////////////////////////////////////////////
                            26192 ; 190  |#define MMC_HAL_ERROR_PHYSICAL_DEVICE_BLOCKED 0x0800
                            26193 ; 191  |#define MMC_HAL_ERROR_PHYSICAL_DEVICE_NOT_BLOCKED 0x0801
                            26194 ; 192  |#define MMC_HAL_ERROR_SPI_BUS_BLOCKED 0x0802
                            26195 ; 193  |#define MMC_HAL_ERROR_SPI_BUS_NOT_BLOCKED 0x0803
                            26196 ; 194  |#define MMC_HAL_ERROR_SPI_DRIVER_INIT_FAILED 0x0804
                            26197 ; 195  |#define MMC_HAL_ERROR_SPI_BUS_INIT_FAILED 0x0805
                            26198 ; 196  |
                            26199 ; 197  |#define MMC_HAL_ERROR_NO_COMMAND_RESPONSE 0x0810
                            26200 ; 198  |#define MMC_HAL_ERROR_BAD_START_BYTE 0x0811
                            26201 ; 199  |#define MMC_HAL_ERROR_BAD_WRITE_STATUS 0x0812
                            26202 ; 200  |#define MMC_HAL_ERROR_BAD_CSD_WRITE_STATUS 0x0813
                            26203 ; 201  |
                            26204 ; 202  |#define MMC_HAL_ERROR_START_BYTE_TIMEOUT 0x0820
                            26205 ; 203  |#define MMC_HAL_ERROR_WRITE_BUSY_TIMEOUT 0x0821
                            26206 ; 204  |#define MMC_HAL_ERROR_CSD_WRITE_BUSY_TIMEOUT 0x0822
                            26207 ; 205  |#define MMC_HAL_ERROR_ERASE_BUSY_TIMEOUT 0x0823
                            26208 ; 206  |#define MMC_HAL_ERROR_REGISTER_READ_TIMEOUT 0x0824
                            26209 ; 207  |
                            26210 ; 208  |#define MMC_HAL_ERROR_CMD_FAIL_CMD0 0x0830
                            26211 ; 209  |#define MMC_HAL_ERROR_CMD_FAIL_CMD1 0x0831
                            26212 ; 210  |#define MMC_HAL_ERROR_CMD_FAIL_CMD9 0x0832
                            26213 ; 211  |#define MMC_HAL_ERROR_CMD_FAIL_CMD10 0x0833
                            26214 ; 212  |#define MMC_HAL_ERROR_CMD_FAIL_CMD12 0x0834
                            26215 ; 213  |#define MMC_HAL_ERROR_CMD_FAIL_CMD13 0x0835
                            26216 ; 214  |#define MMC_HAL_ERROR_CMD_FAIL_CMD16 0x0836
                            26217 ; 215  |#define MMC_HAL_ERROR_CMD_FAIL_CMD17 0x0837
                            26218 ; 216  |#define MMC_HAL_ERROR_CMD_FAIL_CMD18 0x0838
                            26219 ; 217  |#define MMC_HAL_ERROR_CMD_FAIL_CMD23 0x0839
                            26220 ; 218  |#define MMC_HAL_ERROR_CMD_FAIL_CMD24 0x083A
                            26221 ; 219  |#define MMC_HAL_ERROR_CMD_FAIL_CMD25 0x083B
                            26222 ; 220  |#define MMC_HAL_ERROR_CMD_FAIL_CMD27 0x083C
                            26223 ; 221  |#define MMC_HAL_ERROR_CMD_FAIL_CMD28 0x083D
                            26224 ; 222  |#define MMC_HAL_ERROR_CMD_FAIL_CMD29 0x083E
                            26225 ; 223  |#define MMC_HAL_ERROR_CMD_FAIL_CMD30 0x083F
                            26226 ; 224  |#define MMC_HAL_ERROR_CMD_FAIL_CMD32 0x0840
                            26227 ; 225  |#define MMC_HAL_ERROR_CMD_FAIL_CMD33 0x0841
                            26228 ; 226  |#define MMC_HAL_ERROR_CMD_FAIL_CMD35 0x0842
                            26229 ; 227  |#define MMC_HAL_ERROR_CMD_FAIL_CMD36 0x0843
                            26230 ; 228  |#define MMC_HAL_ERROR_CMD_FAIL_CMD38 0x0844
                            26231 ; 229  |#define MMC_HAL_ERROR_CMD_FAIL_CMD42 0x0845
                            26232 ; 230  |#define MMC_HAL_ERROR_CMD_FAIL_CMD55 0x0846
                            26233 ; 231  |#define MMC_HAL_ERROR_CMD_FAIL_CMD56 0x0847
                            26234 ; 232  |#define MMC_HAL_ERROR_CMD_FAIL_CMD58 0x0848
                            26235 ; 233  |#define MMC_HAL_ERROR_CMD_FAIL_CMD59 0x0849
                            26236 ; 234  |
                            26237 ; 235  |#define MMC_HAL_ERROR_SD_CMD_FAIL_ACMD13 0x0850
                            26238 ; 236  |#define MMC_HAL_ERROR_SD_CMD_FAIL_ACMD22 0x0851
                            26239 ; 237  |#define MMC_HAL_ERROR_SD_CMD_FAIL_ACMD23 0x0852
                            26240 ; 238  |#define MMC_HAL_ERROR_SD_CMD_FAIL_ACMD41 0x0853
                            26241 ; 239  |#define MMC_HAL_ERROR_SD_CMD_FAIL_ACMD42 0x0854
                            26242 ; 240  |#define MMC_HAL_ERROR_SD_CMD_FAIL_ACMD51 0x0855
                            26243 ; 241  |
                            26244 ; 242  |#define MMC_HAL_ERROR_BAD_CMD_RESPONSE_CMD0 0x0860
                            26245 ; 243  |#define MMC_HAL_ERROR_BAD_CMD_RESPONSE_CMD1 0x0861
                            26246 ; 244  |#define MMC_HAL_ERROR_BAD_CMD_RESPONSE_CMD9 0x0862
                            26247 ; 245  |#define MMC_HAL_ERROR_BAD_CMD_RESPONSE_CMD10 0x0863
                            26248 ; 246  |#define MMC_HAL_ERROR_BAD_CMD_RESPONSE_CMD12 0x0864
                            26249 ; 247  |#define MMC_HAL_ERROR_BAD_CMD_RESPONSE_CMD13 0x0865
                            26250 ; 248  |#define MMC_HAL_ERROR_BAD_CMD_RESPONSE_CMD16 0x0866
                            26251 ; 249  |#define MMC_HAL_ERROR_BAD_CMD_RESPONSE_CMD17 0x0867
                            26252 ; 250  |#define MMC_HAL_ERROR_BAD_CMD_RESPONSE_CMD18 0x0868
                            26253 ; 251  |#define MMC_HAL_ERROR_BAD_CMD_RESPONSE_CMD23 0x0869
                            26254 ; 252  |#define MMC_HAL_ERROR_BAD_CMD_RESPONSE_CMD24 0x086A
                            26255 ; 253  |#define MMC_HAL_ERROR_BAD_CMD_RESPONSE_CMD25 0x086B
                            26256 ; 254  |#define MMC_HAL_ERROR_BAD_CMD_RESPONSE_CMD27 0x086C
                            26257 ; 255  |#define MMC_HAL_ERROR_BAD_CMD_RESPONSE_CMD28 0x086D
                            26258 ; 256  |#define MMC_HAL_ERROR_BAD_CMD_RESPONSE_CMD29 0x086E
                            26259 ; 257  |#define MMC_HAL_ERROR_BAD_CMD_RESPONSE_CMD30 0x086F
                            26260 ; 258  |#define MMC_HAL_ERROR_BAD_CMD_RESPONSE_CMD32 0x0870
                            26261 ; 259  |#define MMC_HAL_ERROR_BAD_CMD_RESPONSE_CMD33 0x0871
                            26262 ; 260  |#define MMC_HAL_ERROR_BAD_CMD_RESPONSE_CMD35 0x0872
                            26263 ; 261  |#define MMC_HAL_ERROR_BAD_CMD_RESPONSE_CMD36 0x0873
                            26264 ; 262  |#define MMC_HAL_ERROR_BAD_CMD_RESPONSE_CMD38 0x0874
                            26265 ; 263  |#define MMC_HAL_ERROR_BAD_CMD_RESPONSE_CMD42 0x0875
                            26266 ; 264  |#define MMC_HAL_ERROR_BAD_CMD_RESPONSE_CMD55 0x0876
                            26267 ; 265  |#define MMC_HAL_ERROR_BAD_CMD_RESPONSE_CMD56 0x0877
                            26268 ; 266  |#define MMC_HAL_ERROR_BAD_CMD_RESPONSE_CMD58 0x0878
                            26269 ; 267  |#define MMC_HAL_ERROR_BAD_CMD_RESPONSE_CMD59 0x0879
                            26270 ; 268  |
                            26271 ; 269  |#define MMC_HAL_ERROR_SD_BAD_CMD_RESPONSE_ACMD13 0x0880
                            26272 ; 270  |#define MMC_HAL_ERROR_SD_BAD_CMD_RESPONSE_ACMD22 0x0881
                            26273 ; 271  |#define MMC_HAL_ERROR_SD_BAD_CMD_RESPONSE_ACMD23 0x0882
                            26274 ; 272  |#define MMC_HAL_ERROR_SD_BAD_CMD_RESPONSE_ACMD41 0x0883
                            26275 ; 273  |#define MMC_HAL_ERROR_SD_BAD_CMD_RESPONSE_ACMD42 0x0884
                            26276 ; 274  |#define MMC_HAL_ERROR_SD_BAD_CMD_RESPONSE_ACMD51 0x0885
                            26277 ; 275  |
                            26278 ; 276  |//;;;;;;; < Library Error Codes > ;;;;;;;;
                            26279 ; 277  |//MATH errors...
                            26280 ; 278  |#define ERRZeroDivide 0x7FFFFF
                            26281 ; 279  |
                            26282 ; 280  |//Memory Pointer errors...
                            26283 ; 281  |#define INVALID_MEMORY_SPACE 0x900000
                            26284 ; 282  |//****************************************************************/
                            26285 ; 283  |#if (!defined(NOERROR))
                            26286 ; 284  |#define NOERROR 0
                            26287 ; 285  |#endif
                            26288 ; 286  |
                            26289 ; 287  |////Added by RAKS
                            26290 ; 288  |
                            26291 ; 289  |#define ERRProgram 0x911111
                            26292 ; 290  |#define ERRNoMedia 0x922222
                            26293 ; 291  |#define ERRHwFail 0x933333   
                            26294 ; 292  |#define ERRInvMedia 0x944444
                            26295 ; 293  |#define ERRBlkFail 0x955555
                            26296 ; 294  |#define ERRInvDataStatus 0x966666
                            26297 ; 295  |#define ERRWriteFail 0x977777
                            26298 ; 296  |#define ERRECCCorr 0x988888
                            26299 ; 297  |#define ERRECCFail 0x999999
                            26300 ; 298  |#define ERRZoneFull 0x9aaaaa
                            26301 ; 299  |#define ERR_PAGE_UNASSIGNED 0x9aaaaB   
                            26302 ; 300  |// Partition Table Error Codes.                 Note 9AAAAA used above and below.
                            26303 ; 301  |//invalid partition table signature. 
                            26304 ; 302  |#define ERRPartTableSignature 0x9AAAAA   
                            26305 ; 303  |//boot ID bad
                            26306 ; 304  |#define ERRBootID 0x9BBBBB   
                            26307 ; 305  |#define ERRBootTableSignature 0x9CCCCC   
                            26308 ; 306  |////Nothing was here : RAKS
                            26309 ; 307  |//JUMP instruction bad
                            26310 ; 308  |#define ERRBootJump 0x9DDDDD  
                            26311 ; 309  |//ID Byte bad
                            26312 ; 310  |#define ERRIDByte 0x9EEEEE  
                            26313 ; 311  |
                            26314 ; 312  |
                            26315 ; 313  |//****************************************************************
                            26316 ; 314  |//        < < <  EMC5600 FAT12 FileSystem  > > >
                            26317 ; 315  |//****************************************************************
                            26318 ; 316  |// Master ERROR File
                            26319 ; 317  |//****************************************************************/
                            26320 ; 318  |// FAT File System Error Codes
                            26321 ; 319  |// corrupt FAT
                            26322 ; 320  |#define FATCorrupt -1        
                            26323 ; 321  |// invalid FAT sector
                            26324 ; 322  |#define DIRInvlaidSector -2        
                            26325 ; 323  |
                            26326 ; 324  |#define FATwarningFreeCx 0x0AFCFC
                            26327 ; 325  |#define FATwarningEndOfChain 0x0AECEC
                            26328 ; 326  |#define FATwarningReservedCx 0x0A1111
                            26329 ; 327  |#define FATwarningBadCx 0x0ABCBC       
                            26330 ; 328  |//FATcxsFree==0 
                            26331 ; 329  |#define FATwarningNoFreeCxs 0x0A0F0F   
                            26332 ; 330  |#define FATwarningBoundaryCx 0x0A2222
                            26333 ; 331  |#define FATwarningWriteBackAborted 0x0A3333
                            26334 ; 332  |
                            26335 ; 333  |#define FATfailedReadPrimaryFAT 0x7F0000
                            26336 ; 334  |#define FATfailedWritePrimaryFAT 0x7FFFFF   
                            26337 ; 335  |#define FATfailedWriteSecondaryFAT 0x7F8888
                            26338 ; 336  |
                            26339 ; 337  |#define FATerrorNoFreeBlocks 0x80A0A0
                            26340 ; 338  |#define FATerrorTableOverFlow 0x80CCCC
                            26341 ; 339  |#define FATerrorClusterUnderFlow 0x80DDDD
                            26342 ; 340  |#define FATerrorClusterOverFlow 0x80EEEE
                            26343 ; 341  |//No Free Cxs on FAT Scan!
                            26344 ; 342  |#define FATerrorNoFreeCxs 0x80FFFF   
                            26345 ; 343  |
                            26346 ; 344  |#define MATHerrorNotPowerOf2 0x802222
                            26347 ; 345  |
                            26348 ; 346  |#define MEDIAerrorFSNotSupported 0x810000
                            26349 ; 347  |#define MEDIAerrorMediaNotUsable 0x811111
                            26350 ; 348  |
                            26351 ; 349  |#define CXerrorValueOverFlow 0x82AAAA
                            26352 ; 350  |#define CXerrorValueUnderFlow 0x82BBBB
                            26353 ; 351  |
                            26354 ; 352  |#define HNDLerrorNoHandles 0x83AAAA
                            26355 ; 353  |#define HNDLerrorInvalidHandle 0x83BBBB
                            26356 ; 354  |#define HNDLerrorInvalidDevice 0x830D0D
                            26357 ; 355  |#define HNDLerrorIndexSect 0x83CCCC
                            26358 ; 356  |
                            26359 ; 357  |#define FCBwarningEndOfFile 0x84EFEF
                            26360 ; 358  |#define FCBerrorCXtoSect 0x84CCCC
                            26361 ; 359  |#define FCBerrorDiskFull 0x84DFDF
                            26362 ; 360  |
                            26363 ; 361  |#define SEEKprefix 0x85
                            26364 ; 362  |#define SEEKerrorAccessDenied 0x85ADAD
                            26365 ; 363  |#define SEEKerrorPassedBeginingOfFile 0x85BFBF
                            26366 ; 364  |#define SEEKerrorCurruptFCB 0x85CCCC
                            26367 ; 365  |#define SEEKerrorPassedEndOfFile 0x85EFEF
                            26368 ; 366  |
                            26369 ; 367  |#define READprefix 0x86
                            26370 ; 368  |#define READerrorMemoryOverFlow 0x860F0F
                            26371 ; 369  |#define READerrorInvalidBufferPntr 0x86BFBF
                            26372 ; 370  |#define READerrorInvalidByteCount 0x86BCBC
                            26373 ; 371  |#define READerrorAccessDenied 0x86ADAD
                            26374 ; 372  |#define READerrorFreeCx 0x860000
                            26375 ; 373  |#define READerrorEndOfChain 0x861111
                            26376 ; 374  |#define READerrorReservedCx 0x862222
                            26377 ; 375  |#define READerrorBadCx 0x863333
                            26378 ; 376  |
                            26379 ; 377  |#define WRITEprefix 0x87
                            26380 ; 378  |#define WRITEerrorMemoryOverFlow 0x870F0F
                            26381 ; 379  |#define WRITEerrorInvalidBufferPntr 0x87BFBF
                            26382 ; 380  |#define WRITEerrorInvalidByteCount 0x87BCBC
                            26383 ; 381  |#define WRITEerrorAccessDenied 0x87ADAD
                            26384 ; 382  |#define WRITEerrorFreeCx 0x870000
                            26385 ; 383  |#define WRITEerrorEndOfChain 0x871111
                            26386 ; 384  |#define WRITEerrorReservedCx 0x872222
                            26387 ; 385  |#define WRITEerrorBadCx 0x873333
                            26388 ; 386  |
                            26389 ; 387  |#define UTILprefix 0x88
                            26390 ; 388  |#define UTILerrorDeviceInvalid 0x88BDBD
                            26391 ; 389  |
                            26392 ; 390  |// Directory Error Codes
                            26393 ; 391  |
                            26394 ; 392  |// invalid DIR sector specified
                            26395 ; 393  |#define ERR_DIRInvalidSector 0xA00000  
                            26396 ; 394  |// PATH search string has invlaid directory
                            26397 ; 395  |#define ERR_DIRInvalidPath 0xA00001  
                            26398 ; 396  |#define ERR_DIR_ALREADY_EXISTS 0xA00002
                            26399 ; 397  |#define ERR_DIR_WRITE_FAILED 0xA00003
                            26400 ; 398  |#define ERR_DIR_NOT_EMPTY 0xA00003
                            26401 ; 399  |// Bad cluster number
                            26402 ; 400  |#define ERR_CLUSTER_OUT_OF_RANGE 0xA11111  
                            26403 ; 401  |// Can't open ROOT
                            26404 ; 402  |#define ERR_OPEN_ROOT 0xA22222  
                            26405 ; 403  |#define ERR_CLUSTER_FLAGGED_BAD 0xA33333 
                            26406 ; 404  |#define ERR_CLUSTER_UNREADABLE 0xA44444 
                            26407 ; 405  |#define ERR_SECTOR_UNREADABLE 0xA44441 
                            26408 ; 406  |// bad record number to read
                            26409 ; 407  |#define ERR_INVLAID_DIR_REQUEST 0xA55555  
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page 104

M:ADDR CODE           CYCLES LINE SOURCELINE
                            26410 ; 408  |// record requeste not in range
                            26411 ; 409  |#define ERR_ReadRecordRangeError 0xA66666  
                            26412 ; 410  |// record requeste past end of ROOT
                            26413 ; 411  |#define ERR_ReadPastEndOfROOT 0xA66660  
                            26414 ; 412  |// device number invalid
                            26415 ; 413  |#define ERR_BadDeviceNumber 0xA77777  
                            26416 ; 414  |// FCB Does not popint to a sub-Directory entry
                            26417 ; 415  |#define ERR_FCB_Not_SubDir 0xA88888  
                            26418 ; 416  |// Path specified is invalid
                            26419 ; 417  |#define ERR_INVLAID_PATH 0xA99999  
                            26420 ; 418  |#define ERR_FILE_NOT_FOUND 0xAAAAAA
                            26421 ; 419  |#define ERR_FILE_EXISTS 0xABBBBB
                            26422 ; 420  |#define ERR_DISK_FULL 0xACCCCC
                            26423 ; 421  |#define ERR_DIR_DEVICE_NOT_READY 0xACCCC0
                            26424 ; 422  |#define ERR_CX_ALLOCATION 0xADDDDD
                            26425 ; 423  |#define ERR_INVALID_MODE 0xAEEEEE
                            26426 ; 424  |
                            26427 ; 425  |#define ERR_DUPLICATE_FILE_NAME 0xAFFFFC
                            26428 ; 426  |#define ERR_FAT_WRITE_FAILED 0xAFFFFD
                            26429 ; 427  |#define ERR_CANT_DELETE_CHAIN 0xAFFFFE
                            26430 ; 428  |#define ERR_FAT_CHAIN_CORRUPT 0xAFFFFF
                            26431 ; 429  |// String Manipulation Error Codes
                            26432 ; 430  |#define ERR_END_OF_STRING 0xABBBB0
                            26433 ; 431  |
                            26434 ; 432  |#endif //@DEF(ERRORS_INC)
                            26435 ; 433  |
                            26436 
                            26438 
                            26439 ; 54   |
                            26440 ; 55   |///////////////////////////////////////////////////////////////////////////////
                            26441 ; 56   |// Typedefs
                            26442 ; 57   |///////////////////////////////////////////////////////////////////////////////
                            26443 ; 58   |
                            26444 ; 59   |typedef void (*MULTI_WRITE_CALLBACK_FUNCTION)(LONG lValue);
                            26445 ; 60   |
                            26446 ; 61   |#include "ddildl\ddildl_defs.h"
                            26447 
                            26449 
                            26450 ; 1    |////////////////////////////////////////////////////////////////////////////////
                            26451 ; 2    |// Copyright(C) SigmaTel, Inc. 2003-2005
                            26452 ; 3    |//
                            26453 ; 4    |// Filename: ddildl_defs.h
                            26454 ; 5    |// Description: 
                            26455 ; 6    |////////////////////////////////////////////////////////////////////////////////
                            26456 ; 7    |
                            26457 ; 8    |#ifndef _DDILDL_DEFS_H
                            26458 ; 9    |#define _DDILDL_DEFS_H
                            26459 ; 10   |
                            26460 ; 11   |///////////////////////////////////////////////////////////////////////////////
                            26461 ; 12   |// Typedefs
                            26462 ; 13   |///////////////////////////////////////////////////////////////////////////////
                            26463 ; 14   |
                            26464 ; 15   |typedef enum {
                            26465 ; 16   |  MediaStateUnknown,
                            26466 ; 17   |  MediaStateErased,
                            26467 ; 18   |  MediaStateAllocated
                            26468 ; 19   |} MEDIA_STATE, * P_MEDIA_STATE;
                            26469 ; 20   |
                            26470 ; 21   |typedef enum {
                            26471 ; 22   |    MediaTypeNand = 0,
                            26472 ; 23   |    MediaTypeMMC = 1,
                            26473 ; 24   |    MediaTypeHDD = 2,
                            26474 ; 25   |    MediaTypeRAM = 3
                            26475 ; 26   |} PHYSICAL_MEDIA_TYPE, * P_PHYSICAL_MEDIA_TYPE;
                            26476 ; 27   |
                            26477 ; 28   |typedef enum {
                            26478 ; 29   |    MediaInfoNumberOfDrives = 0,
                            26479 ; 30   |    MediaInfoSizeInBytes = 1,
                            26480 ; 31   |    MediaInfoAllocationUnitSizeInBytes = 2,
                            26481 ; 32   |    MediaInfoIsInitialized = 3,
                            26482 ; 33   |    MediaInfoMediaState = 4,
                            26483 ; 34   |    MediaInfoIsWriteProtected = 5,
                            26484 ; 35   |    MediaInfoPhysicalMediaType = 6,
                            26485 ; 36   |    MediaInfoSizeOfSerialNumberInBytes = 7,
                            26486 ; 37   |    MediaInfoSerialNumber = 8,
                            26487 ; 38   |    MediaInfoIsSystemMedia = 9,
                            26488 ; 39   |    MediaInfoIsMediaPresent = 10
                            26489 ; 40   |} LOGICAL_MEDIA_INFO, * P_LOGICAL_MEDIA_INFO;
                            26490 ; 41   |
                            26491 ; 42   |#ifdef MFG_TOOL
                            26492 ; 43   |  
                            26493 ; 44   |typedef enum {
                            26494 ; 45   |    SerialNoInfoSizeOfSerialNumberInBytes = 0,
                            26495 ; 46   |    SerialNoInfoSerialNumber = 1
                            26496 ; 47   |} SERIAL_NO_INFO, * P_SERIAL_NO_INFO;
                            26497 ; 48   |#endif
                            26498 ; 49   |
                            26499 ; 50   |typedef enum {
                            26500 ; 51   |    DriveInfoSectorSizeInBytes = 0,
                            26501 ; 52   |    DriveInfoEraseSizeInBytes = 1,
                            26502 ; 53   |    DriveInfoSizeInBytes = 2,
                            26503 ; 54   |    DriveInfoSizeInMegaBytes = 3,
                            26504 ; 55   |    DriveInfoSizeInSectors = 4,
                            26505 ; 56   |    DriveInfoType = 5,
                            26506 ; 57   |    DriveInfoTag = 6,
                            26507 ; 58   |    DriveInfoComponentVersion = 7,
                            26508 ; 59   |    DriveInfoProjectVersion = 8,
                            26509 ; 60   |    DriveInfoIsWriteProtected = 9,
                            26510 ; 61   |    DriveInfoSizeOfSerialNumberInBytes = 10,
                            26511 ; 62   |    DriveInfoSerialNumber = 11,
                            26512 ; 63   |    DriveInfoMediaPresent = 12,
                            26513 ; 64   |    DriveInfoMediaChange = 13,
                            26514 ; 65   |    DriveInfoSectorAllocation = 14
                            26515 ; 66   |} LOGICAL_DRIVE_INFO, * P_LOGICAL_DRIVE_INFO;
                            26516 ; 67   |
                            26517 ; 68   |#define DRIVE_TAG_STMPSYS_S         0x00        //!< player drive tag.
                            26518 ; 69   |#define DRIVE_TAG_HOSTLINK_S        0x01        //!< UsbMscMtp drive tag, old name was DRIVE_TAG_USBMSC_S. 
                            26519 ; 70   |#define DRIVE_TAG_RESOURCE_BIN      0x02        //!< player resource drive tag.
                            26520 ; 71   |#define DRIVE_TAG_EXTRA_S           0x03        //!< the host has 0x03 reserved for an extra system drive.
                            26521 ; 72   |// if you change line below, also change this equ: asm_DRIVE_TAG_RESOURCE1_BIN in player main.asm!! Values must match. 
                            26522 ; 73   |#define DRIVE_TAG_RESOURCE1_BIN (DRIVE_TAG_RESOURCE_BIN+0x10)//<! was just 0x04. old comment"the host has 0x04 reserved for an extra system drive." May17'06 JLN: correction: ChrisW says 0x10+resource.bin tag is ta
                                  g for 2nd ver of resource.bin in new 2.61x post sdkrelease updater. 
                            26523 ; 74   |#define DRIVE_TAG_RESOURCE2_BIN (DRIVE_TAG_RESOURCE_BIN+0x20)// master has tag 0x22 (3rd copy)
                            26524 ; 75   |#define DRIVE_TAG_OTGHOST_S         0x05        //!< the host has 0x05 reserved for OTG drive.
                            26525 ; 76   |#define DRIVE_TAG_HOSTRSC_BIN       0x06        //!< UsbMscMtp resource drive tag, old name was DRIVE_TAG_MTP_BIN.
                            26526 ; 77   |#define DRIVE_TAG_DATA              0x0A        //!< data drive tag.
                            26527 ; 78   |#define DRIVE_TAG_DATA_HIDDEN       0x0B        //!< hidden data drive tag, old name was DRIVE_TAG_HIDDEN
                            26528 ; 79   |#define DRIVE_TAG_BOOTMANAGER_S     0x50        //!< boot manager drive tag
                            26529 ; 80   |#define DRIVE_TAG_UPDATER_S         0xFF        //!< the host has 0xFF reserved for usbmsc.sb file used in recovery mode operation only.
                            26530 ; 81   |#define DRIVE_TAG_HOSTRSC1_BIN      0x16        //!< back up resource for hostrsrc.bin.
                            26531 ; 82   |#define DRIVE_TAG_HOSTRSC2_BIN      0x26        //!< MASTER COPY resource for hostrsrc.bin.
                            26532 ; 83   |// Do not use this enum... use the defs above.  We need to use defs so customers
                            26533 ; 84   |//  may extend the system drives without DDI source code.
                            26534 ; 85   |/*
                            26535 ; 86   |typedef enum {
                            26536 ; 87   |    ResourceBinDriveTag = 0x00,
                            26537 ; 88   |    BootManagerDriveTag = 0x50,
                            26538 ; 89   |    StmpSysDriveTag = 0x01,
                            26539 ; 90   |    UsbMscDriveTag = 0x02,
                            26540 ; 91   |    DataDriveTag = 0x0A
                            26541 ; 92   |} LOGICAL_DRIVE_TAG, * P_LOGICAL_DRIVE_TAG;
                            26542 ; 93   |*/
                            26543 ; 94   |
                            26544 ; 95   |typedef enum {
                            26545 ; 96   |    DriveTypeData = 0,
                            26546 ; 97   |    DriveTypeSystem = 1,
                            26547 ; 98   |    DriveTypeHidden = 2,
                            26548 ; 99   |    DriveTypeUnknown = 3
                            26549 ; 100  |} LOGICAL_DRIVE_TYPE, * P_LOGICAL_DRIVE_TYPE;
                            26550 
                            26557 
                            26558 ; 101  |
                            26559 ; 102  |typedef struct {
                            26560 ; 103  |    WORD wDriveNumber;          // In reference to the entire system
                            26561 ; 104  |    LOGICAL_DRIVE_TYPE Type;
                            26562 ; 105  |    WORD wTag;
                            26563 ; 106  |    DWORD dwSizeInBytes;
                            26564 ; 107  |    BOOL bRequired;
                            26565 ; 108  |} MEDIA_ALLOCATION_TABLE_ENTRY, * P_MEDIA_ALLOCATION_TABLE_ENTRY;
                            26566 
                            26574 
                            26575 ; 109  |
                            26576 ; 110  |typedef struct {
                            26577 ; 111  |    WORD wNumEntries;
                            26578 ; 112  |    MEDIA_ALLOCATION_TABLE_ENTRY Entry[MAX_MEDIA_TABLE_ENTRIES];
                            26579 ; 113  |} MEDIA_ALLOCATION_TABLE, * P_MEDIA_ALLOCATION_TABLE;
                            26580 ; 114  |
                            26581 ; 115  |
                            26582 ; 116  |#define TA6_ROM_REV_ID  6
                            26583 ; 117  |#define ROM_REV_ID  (*((WORD _X *)0xFA02) & 0x0F)
                            26584 ; 118  |
                            26585 ; 119  | 
                            26586 ; 120  |typedef union {
                            26587 ; 121  |
                            26588 ; 122  |    struct {
                            26589 ; 123  |        WORD MinorL      : 8;
                            26590 ; 124  |        WORD MinorH      : 8;
                            26591 ; 125  |        WORD MiddleL     : 8;
                            26592 ; 126  |        WORD MiddleH     : 8;
                            26593 ; 127  |        WORD MajorL      : 8;
                            26594 ; 128  |        WORD MajorH      : 8;
                            26595 ; 129  |        } PARTIAL_VERSION;
                            26596 ; 130  |        
                            26597 ; 131  |    DWORD   Version;        
                            26598 ; 132  |
                            26599 ; 133  |} SYSTEM_VERSION;
                            26600 ; 134  |
                            26601 ; 135  |
                            26602 ; 136  |#endif // #ifndef _DDILDL_DEFS_H
                            26603 
                            26605 
                            26606 ; 62   |
                            26607 ; 63   |///////////////////////////////////////////////////////////////////////////////
                            26608 ; 64   |// Prototypes
                            26609 ; 65   |// Note that these are prototypes for the highest level access to the DDI.
                            26610 ; 66   |//  The LDL steering mechanism converts the wLogMediaNumber & wLogDriveNumber
                            26611 ; 67   |//  parameters & passes pointers to the media/drive desctriptrs to the DDIs.
                            26612 ; 68   |///////////////////////////////////////////////////////////////////////////////
                            26613 ; 69   |RETCODE _reentrant MediaInit(WORD wLogMediaNumber);
                            26614 ; 70   |RETCODE _reentrant MediaAllocate(WORD wLogMediaNumber,
                            26615 
                            26623 
                            26624 ; 71   |    P_MEDIA_ALLOCATION_TABLE pMediaTable);
                            26625 ; 72   |RETCODE _reentrant MediaDiscoverAllocation(WORD wLogMediaNumber);
                            26626 ; 73   |RETCODE _reentrant MediaGetMediaTable(WORD wLogMediaNumber,
                            26627 ; 74   |    P_MEDIA_ALLOCATION_TABLE *pMediaTable);
                            26628 ; 75   |RETCODE _reentrant MediaGetInfo(WORD wLogMediaNumber, LOGICAL_MEDIA_INFO Type,
                            26629 
                            26643 
                            26644 ; 76   |    void * _Y pInfo);
                            26645 ; 77   |RETCODE _reentrant MediaErase(WORD wLogMediaNumber, WORD wMagicNumber);
                            26646 ; 78   |
                            26647 ; 79   |RETCODE _reentrant DriveInit(WORD wLogDriveNumber);
                            26648 ; 80   |RETCODE _reentrant DriveGetInfo(WORD wLogDriveNumber, LOGICAL_DRIVE_INFO Type,
                            26649 
                            26667 
                            26668 ; 81   |    void * pInfo);
                            26669 ; 82   |RETCODE _reentrant DriveSetInfo(WORD wLogDriveNumber, LOGICAL_DRIVE_INFO Type,
                            26670 ; 83   |    void * pInfo);
                            26671 ; 84   |RETCODE _reentrant DriveReadSector(WORD wLogDriveNumber, DWORD dwSectorNumber,
                            26672 
                            26676 
                            26677 ; 85   |    P_SECTOR_BUFFER pSectorData);
                            26678 ; 86   |RETCODE _reentrant DriveWriteSector(WORD wLogDriveNumber, DWORD dwSectorNumber,
                            26679 ; 87   |    P_SECTOR_BUFFER pSectorData);
                            26680 ; 88   |RETCODE _reentrant DriveMultiWriteSetup(WORD wLogDriveNumber,
                            26681 ; 89   |    DWORD dwStartSectorNumber, WORD wSectorCount,
                            26682 
                            26687 
                            26688 ; 90   |    MULTI_WRITE_CALLBACK_FUNCTION pCallBackFunction);
                            26689 ; 91   |RETCODE _reentrant DriveMultiWriteSector(WORD wLogDriveNumber,
                            26690 ; 92   |    P_SECTOR_BUFFER pSectorData, LONG lCallBackPassThru);
                            26691 ; 93   |RETCODE _reentrant DriveErase(WORD wLogDriveNumber, WORD wMagicNumber);
                            26692 ; 94   |RETCODE _reentrant DriveFlush(WORD wDriveNumber);
                            26693 ; 95   |
                            26694 ; 96   |RETCODE DdiInitAll(void);
                            26695 ; 97   |
                            26696 ; 98   |
                            26697 ; 99   |#endif // #ifndef _DDILDL_H
                            26698 
                            26711 
                            26712 ; 11   |
                            26713 ; 12   |///////////////////////////////////////
                            26714 ; 13   |// Logical Media structures
                            26715 ; 14   |///////////////////////////////////////
                            26716 ; 15   |
                            26717 ; 16   |typedef struct {
                            26718 ; 17   |    // Discovered at Run Time by MediaInit:
                            26719 ; 18   |    WORD    wMediaNumber;
                            26720 ; 19   |    BOOL    bInitialized;
                            26721 ; 20   |    MEDIA_STATE eState;
                            26722 ; 21   |    BOOL    bAllocated;
                            26723 ; 22   |    BOOL    bWriteProtected;
                            26724 ; 23   |    WORD    wNumberOfDrives;//on this media
                            26725 ; 24   |    DWORD   dwSizeInBytes;
                            26726 ; 25   |    WORD    wAllocationUnitSizeInBytes;
                            26727 ; 26   |    PHYSICAL_MEDIA_TYPE PhysicalType;
                            26728 ; 27   |    void * pMediaInfo;  // same as in LOGICAL_DRIVE_DESCRIPTOR
                            26729 ; 28   |} LOGICAL_MEDIA_DESCRIPTOR, * P_LOGICAL_MEDIA_DESCRIPTOR;
                            26730 
                            26745 
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page 105

M:ADDR CODE           CYCLES LINE SOURCELINE
                            26746 ; 29   |
                            26747 ; 30   |// Logical Media API functions
                            26748 ; 31   |typedef _reentrant RETCODE (*P_MEDIA_INIT_FUNCTION)(P_LOGICAL_MEDIA_DESCRIPTOR);
                            26749 ; 32   |typedef RETCODE _reentrant (*P_MEDIA_ALLOCATE_FUNCTION)(P_LOGICAL_MEDIA_DESCRIPTOR,
                            26750 ; 33   |    P_MEDIA_ALLOCATION_TABLE);
                            26751 ; 34   |typedef RETCODE _reentrant (*P_MEDIA_DISCOVER_ALLOCATION_FUNCTION)(P_LOGICAL_MEDIA_DESCRIPTOR);
                            26752 ; 35   |typedef RETCODE _reentrant (*P_MEDIA_GET_MEDIA_TABLE_FUNCTION)(P_LOGICAL_MEDIA_DESCRIPTOR,
                            26753 ; 36   |    P_MEDIA_ALLOCATION_TABLE);
                            26754 ; 37   |typedef RETCODE _reentrant (*P_MEDIA_GET_INFO_FUNCTION)(P_LOGICAL_MEDIA_DESCRIPTOR,
                            26755 ; 38   |    LOGICAL_MEDIA_INFO, void * _Y);
                            26756 ; 39   |typedef RETCODE _reentrant (*P_MEDIA_ERASE_FUNCTION)(P_LOGICAL_MEDIA_DESCRIPTOR,
                            26757 ; 40   |    WORD wMagicNumber);
                            26758 
                            26783 
                            26784 ; 41   |
                            26785 ; 42   |typedef struct {
                            26786 ; 43   |    WORD wInitCodeBank;
                            26787 ; 44   |    P_MEDIA_INIT_FUNCTION pInit;
                            26788 ; 45   |    WORD wAllocateCodeBank;
                            26789 ; 46   |    P_MEDIA_ALLOCATE_FUNCTION pAllocate;
                            26790 ; 47   |    WORD wDiscoverAllocationCodeBank;
                            26791 ; 48   |    P_MEDIA_DISCOVER_ALLOCATION_FUNCTION pDiscoverAllocation;
                            26792 ; 49   |    WORD wGetMediaTableCodeBank;
                            26793 ; 50   |    P_MEDIA_GET_MEDIA_TABLE_FUNCTION pGetMediatable;
                            26794 ; 51   |    WORD wGetInfoCodeBank;
                            26795 ; 52   |    P_MEDIA_GET_INFO_FUNCTION pGetInfo;
                            26796 ; 53   |    WORD wEraseCodeBank;
                            26797 ; 54   |    P_MEDIA_ERASE_FUNCTION pErase;
                            26798 ; 55   |} LOGICAL_MEDIA_API, * P_LOGICAL_MEDIA_API;
                            26799 
                            26816 
                            26817 ; 56   |
                            26818 ; 57   |typedef struct {
                            26819 ; 58   |    P_LOGICAL_MEDIA_DESCRIPTOR pDescriptor;
                            26820 ; 59   |    P_LOGICAL_MEDIA_API pApi;
                            26821 ; 60   |} LOGICAL_MEDIA, * P_LOGICAL_MEDIA;
                            26822 
                            26840 
                            26841 ; 61   |
                            26842 ; 62   |///////////////////////////////////////
                            26843 ; 63   |// Logical Drive structures
                            26844 ; 64   |///////////////////////////////////////
                            26845 ; 65   |
                            26846 ; 66   |typedef struct {
                            26847 ; 67   |    // Discovered at Run Time by MediaDiscover
                            26848 ; 68   |    BOOL    bInitialized;
                            26849 ; 69   |    BOOL    bPresent;       // Indicates if a system drive is present
                            26850 ; 70   |                            // wTag from Config Block matches wTag from Drive
                            26851 ; 71   |                            // redundant area
                            26852 ; 72   |    BOOL    bErased;
                            26853 ; 73   |    BOOL    bWriteProtected;
                            26854 ; 74   |    DWORD   dwNumberOfSectors;
                            26855 ; 75   |    LOGICAL_DRIVE_TYPE Type;
                            26856 ; 76   |    WORD    wTag;
                            26857 ; 77   |    WORD    wDriveNumber;
                            26858 ; 78   |    DWORD   dwSizeInBytes;
                            26859 ; 79   |    WORD    wSectorSizeInBytes; // not included bad blocks (NAND media)
                            26860 ; 80   |    WORD    wEraseSizeInBytes;
                            26861 ; 81   |    SYSTEM_VERSION ProjectVersion;
                            26862 ; 82   |    SYSTEM_VERSION ComponentVersion;
                            26863 ; 83   |    P_LOGICAL_MEDIA_DESCRIPTOR pLogicalMediaDescriptor;
                            26864 ; 84   |    void * pMediaInfo;  // same as in LOGICAL_MEDIA_DESCRIPTOR
                            26865 ; 85   |    void * pDriveInfo;
                            26866 ; 86   |} LOGICAL_DRIVE_DESCRIPTOR, * P_LOGICAL_DRIVE_DESCRIPTOR;
                            26867 
                            26888 
                            26889 ; 87   |
                            26890 ; 88   |// Logical Drive API functions
                            26891 ; 89   |typedef RETCODE _reentrant (*P_DRIVE_INIT_FUNCTION)(P_LOGICAL_DRIVE_DESCRIPTOR);
                            26892 ; 90   |typedef RETCODE _reentrant (*P_DRIVE_GET_INFO_FUNCTION)(P_LOGICAL_DRIVE_DESCRIPTOR,
                            26893 ; 91   |    LOGICAL_DRIVE_INFO, void *);
                            26894 ; 92   |typedef RETCODE _reentrant (*P_DRIVE_SET_INFO_FUNCTION)(P_LOGICAL_DRIVE_DESCRIPTOR,
                            26895 ; 93   |    LOGICAL_DRIVE_INFO, void *);
                            26896 ; 94   |typedef RETCODE _reentrant (*P_DRIVE_READ_SECTOR_FUNCTION)(P_LOGICAL_DRIVE_DESCRIPTOR,
                            26897 ; 95   |    DWORD, P_SECTOR_BUFFER);
                            26898 ; 96   |typedef RETCODE _reentrant (*P_DRIVE_WRITE_SECTOR_FUNCTION)(P_LOGICAL_DRIVE_DESCRIPTOR,
                            26899 ; 97   |    DWORD, P_SECTOR_BUFFER);
                            26900 ; 98   |typedef RETCODE _reentrant (*P_DRIVE_MULTI_WRITE_SETUP_FUNCTION)(P_LOGICAL_DRIVE_DESCRIPTOR,
                            26901 ; 99   |    DWORD, WORD, MULTI_WRITE_CALLBACK_FUNCTION);
                            26902 ; 100  |typedef RETCODE _reentrant (*P_DRIVE_MULTI_WRITE_SECTOR_FUNCTION)(P_LOGICAL_DRIVE_DESCRIPTOR,
                            26903 ; 101  |    P_SECTOR_BUFFER, LONG);
                            26904 ; 102  |typedef RETCODE _reentrant (*P_DRIVE_ERASE_FUNCTION)(P_LOGICAL_DRIVE_DESCRIPTOR, WORD);
                            26905 ; 103  |typedef RETCODE _reentrant (*P_DRIVE_FLUSH_FUNCTION)(P_LOGICAL_DRIVE_DESCRIPTOR);
                            26906 
                            26943 
                            26944 ; 104  |
                            26945 ; 105  |typedef struct {
                            26946 ; 106  |    WORD wInitCodeBank;
                            26947 ; 107  |    P_DRIVE_INIT_FUNCTION pInit;
                            26948 ; 108  |    WORD wGetInfoCodeBank;
                            26949 ; 109  |    P_DRIVE_GET_INFO_FUNCTION pGetInfo;
                            26950 ; 110  |    WORD wSetInfoCodeBank;
                            26951 ; 111  |    P_DRIVE_SET_INFO_FUNCTION pSetInfo;
                            26952 ; 112  |    WORD wReadSectorCodeBank;
                            26953 ; 113  |    P_DRIVE_READ_SECTOR_FUNCTION pReadSector;
                            26954 ; 114  |    WORD wWriteSectorCodeBank;
                            26955 ; 115  |    P_DRIVE_WRITE_SECTOR_FUNCTION pWriteSector;
                            26956 ; 116  |    WORD wMultiWriteSetupCodeBank;
                            26957 ; 117  |    P_DRIVE_MULTI_WRITE_SETUP_FUNCTION pMultiWriteSetup;
                            26958 ; 118  |    WORD wMultiWriteSectorCodeBank;
                            26959 ; 119  |    P_DRIVE_MULTI_WRITE_SECTOR_FUNCTION pMultiWriteSector;
                            26960 ; 120  |    WORD wEraseCodeBank;
                            26961 ; 121  |    P_DRIVE_ERASE_FUNCTION pErase;
                            26962 ; 122  |    WORD wFlushCodeBank;
                            26963 ; 123  |    P_DRIVE_FLUSH_FUNCTION pFlush;
                            26964 ; 124  |} LOGICAL_DRIVE_API, * P_LOGICAL_DRIVE_API;
                            26965 
                            26988 
                            26989 ; 125  |
                            26990 ; 126  |typedef struct {
                            26991 ; 127  |    P_LOGICAL_DRIVE_DESCRIPTOR pDescriptor;
                            26992 ; 128  |    P_LOGICAL_DRIVE_API pApi;
                            26993 ; 129  |} LOGICAL_DRIVE, * P_LOGICAL_DRIVE;
                            26994 
                            26996 
                            26997 ; 130  |
                            26998 ; 131  |///////////////////////////////////////////////////////////////////////////////
                            26999 ; 132  |// Global variables
                            27000 ; 133  |///////////////////////////////////////////////////////////////////////////////
                            27001 ; 134  |extern MEDIA_ALLOCATION_TABLE g_MediaAllocationTable[];
                            27002 
                            27004 
                            27005 ; 135  |extern LOGICAL_MEDIA_DESCRIPTOR g_MediaDescriptor[];
                            27006 
                            27011 
                            27012 ; 136  |extern LOGICAL_MEDIA g_Media[];
                            27013 ; 137  |extern WORD g_wNumMedia;
                            27014 
                            27016 
                            27017 ; 138  |extern LOGICAL_DRIVE_DESCRIPTOR g_DriveDescriptor[];
                            27018 
                            27023 
                            27024 ; 139  |extern LOGICAL_DRIVE g_Drive[];
                            27025 ; 140  |extern WORD g_wNumDrives;
                            27026 ; 141  |
                            27027 ; 142  |///////////////////////////////////////////////////////////////////////////////
                            27028 ; 143  |// SysCallFunction Variants
                            27029 ; 144  |///////////////////////////////////////////////////////////////////////////////
                            27030 ; 145  |RETCODE _asmfunc SysCallFunction_P_LOGICAL_MEDIA_DESCRIPTOR_f(WORD * RESOURCE,RETCODE _reentrant (int,int,int*),  int, int, int *);
                            27031 ; 146  |#define SysCallFunction_P_LOGICAL_MEDIA_DESCRIPTOR(rsrc,func,a,b,p) SysCallFunction_P_LOGICAL_MEDIA_DESCRIPTOR_f((void*)rsrc,(func),(a),(b),(p))
                            27032 ; 147  |
                            27033 ; 148  |#endif
                            27034 
                            27036 
                            27037 ; 16   |#include "mmchal.h"
                            27038 
                            27040 
                            27041 ; 1    |////////////////////////////////////////////////////////////////////////////////
                            27042 ; 2    |// Copyright(C) SigmaTel, Inc. 2000-2001
                            27043 ; 3    |//
                            27044 ; 4    |// Filename: mmchal.h
                            27045 ; 5    |// Description: 
                            27046 ; 6    |////////////////////////////////////////////////////////////////////////////////
                            27047 ; 7    |
                            27048 ; 8    |#ifndef _MMCHAL_H
                            27049 ; 9    |#define _MMCHAL_H
                            27050 ; 10   |
                            27051 ; 11   |///////////////////////////////////////////////////////////////////////////////
                            27052 ; 12   |// MMC HAL definitions
                            27053 ; 13   |///////////////////////////////////////////////////////////////////////////////
                            27054 ; 14   |
                            27055 ; 15   |#define MMC_NULL_ARG    0
                            27056 ; 16   |
                            27057 ; 17   |// MMC commands
                            27058 ; 18   |#define MMC_CMD0        0x40|0
                            27059 ; 19   |#define MMC_CMD1        0x40|1
                            27060 ; 20   |#define MMC_CMD8                0x40|8
                            27061 ; 21   |#define MMC_CMD9        0x40|9
                            27062 ; 22   |#define MMC_CMD10       0x40|10
                            27063 ; 23   |#define MMC_CMD12       0x40|12
                            27064 ; 24   |#define MMC_CMD13       0x40|13
                            27065 ; 25   |#define MMC_CMD16       0x40|16
                            27066 ; 26   |#define MMC_CMD17       0x40|17
                            27067 ; 27   |#define MMC_CMD18       0x40|18
                            27068 ; 28   |#define MMC_CMD23       0x40|23
                            27069 ; 29   |#define MMC_CMD24       0x40|24
                            27070 ; 30   |#define MMC_CMD25       0x40|25
                            27071 ; 31   |#define MMC_CMD27       0x40|27
                            27072 ; 32   |#define MMC_CMD28       0x40|28
                            27073 ; 33   |#define MMC_CMD29       0x40|29
                            27074 ; 34   |#define MMC_CMD30       0x40|30
                            27075 ; 35   |#define MMC_CMD32       0x40|32
                            27076 ; 36   |#define MMC_CMD33       0x40|33
                            27077 ; 37   |#define MMC_CMD35       0x40|35
                            27078 ; 38   |#define MMC_CMD36       0x40|36
                            27079 ; 39   |#define MMC_CMD38       0x40|38
                            27080 ; 40   |#define MMC_CMD42       0x40|42
                            27081 ; 41   |#define MMC_CMD55       0x40|55
                            27082 ; 42   |#define MMC_CMD56       0x40|56
                            27083 ; 43   |#define MMC_CMD58       0x40|58
                            27084 ; 44   |#define MMC_CMD59       0x40|59
                            27085 ; 45   |
                            27086 ; 46   |// SD-specific commands
                            27087 ; 47   |#define SD_ACMD13       0x40|13
                            27088 ; 48   |#define SD_ACMD22       0x40|22
                            27089 ; 49   |#define SD_ACMD23       0x40|23
                            27090 ; 50   |#define SD_ACMD41       0x40|41
                            27091 ; 51   |#define SD_ACMD42       0x40|42
                            27092 ; 52   |#define SD_ACMD51       0x40|51
                            27093 ; 53   |
                            27094 ; 54   |// Responses
                            27095 ; 55   |#define MMC_RESPONSE_TYPE       WORD
                            27096 ; 56   |#define MMC_RESPONSE_TYPE_R1    0
                            27097 ; 57   |#define MMC_RESPONSE_TYPE_R2    1
                            27098 ; 58   |#define MMC_RESPONSE_TYPE_R3    2
                            27099 ; 59   |
                            27100 ; 60   |#define MMC_R1_NO_ERROR                     0x00
                            27101 ; 61   |#define MMC_R1_IDLE_NO_ERROR                0x01
                            27102 ; 62   |#define MMC_R1_IN_IDLE_STATE_BITPOS         0
                            27103 ; 63   |#define MMC_R1_ERASE_RESET_BITPOS           1
                            27104 ; 64   |#define MMC_R1_ILLEGAL_COMMAND_BITPOS       2
                            27105 ; 65   |#define MMC_R1_COM_CRC_ERROR_BITPOS         3
                            27106 ; 66   |#define MMC_R1_ERASE_SEQUENCE_ERROR_BITPOS  4
                            27107 ; 67   |#define MMC_R1_ADDRESS_ERROR                5
                            27108 ; 68   |#define MMC_R1_PARAMETER_ERROR              6
                            27109 ; 69   |
                            27110 ; 70   |#define MMC_START_BYTE          0xFE
                            27111 ; 71   |
                            27112 ; 72   |#define MMC_CSD_VERSION_10      0
                            27113 ; 73   |#define MMC_CSD_VERSION_11      1
                            27114 ; 74   |#define MMC_CSD_VERSION_12      2
                            27115 ; 75   |#define MMC_CSD_VERSION_FROM_EXT_CSD    3
                            27116 ; 76   |
                            27117 ; 77   |#define MMC_SPEC_VERSION_10     0
                            27118 ; 78   |#define MMC_SPEC_VERSION_14     1
                            27119 ; 79   |#define MMC_SPEC_VERSION_20     2
                            27120 ; 80   |#define MMC_SPEC_VERSION_31     3
                            27121 ; 81   |#define MMC_SPEC_VERSION_40     4
                            27122 ; 82   |
                            27123 ; 83   |#define SD_CSD_VERSION_10       0
                            27124 ; 84   |
                            27125 ; 85   |#define MMC_CARD_TYPE           WORD
                            27126 ; 86   |#define MMC_CARD_TYPE_MMC       (MMC_CARD_TYPE)0
                            27127 ; 87   |#define MMC_CARD_TYPE_SD        (MMC_CARD_TYPE)1
                            27128 ; 88   |
                            27129 ; 89   |#define MMC_SUPPORTED_SECTOR_SIZE   512
                            27130 ; 90   |
                            27131 ; 91   |#define MMC_OCR_SUPPORT (DWORD)0x000000020000
                            27132 ; 92   |
                            27133 ; 93   |//   The STMP3400 max SCK speed is DCLK/6, STMP3410 is DCLK/2:
                            27134 ; 94   |//   Assume a 100MHz DCLK & SCK=DCLK/2=50Mhz. It takes a minimum of 15 DCLKs
                            27135 ; 95   |//   between each SPI byte transfer, so one byte takes (8*2)+15=31 DCLKs.  This
                            27136 ; 96   |//   is a byte rate of 1.612MBytes/s.  Assume all timeouts are 1s.
                            27137 ; 97   |#define MMC_PORT_TIMEOUT            (WORD)(100000000/31)
                            27138 ; 98   |#define MMC_START_BYTE_TIMEOUT      MMC_PORT_TIMEOUT
                            27139 ; 99   |#define MMC_WRITE_BUSY_TIMEOUT      MMC_PORT_TIMEOUT
                            27140 ; 100  |#define MMC_CSD_WRITE_BUSY_TIMEOUT  MMC_PORT_TIMEOUT
                            27141 ; 101  |#define MMC_ERASE_BUSY_TIMEOUT      MMC_PORT_TIMEOUT
                            27142 ; 102  |#define MMC_REGISTER_READ_TIMEOUT   MMC_PORT_TIMEOUT
                            27143 ; 103  |
                            27144 ; 104  |///////////////////////////////////////////////////////////////////////////////
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page 106

M:ADDR CODE           CYCLES LINE SOURCELINE
                            27145 ; 105  |// MMC HAL structure definitions
                            27146 ; 106  |///////////////////////////////////////////////////////////////////////////////
                            27147 ; 107  |
                            27148 ; 108  |///////////////////////////////////////////////////////////////////////////////
                            27149 ; 109  |// MMC definitions
                            27150 ; 110  |
                            27151 ; 111  |// ifdef this struct for SPI or MMCBUS (currently only support SPI)
                            27152 ; 112  |typedef struct {
                            27153 ; 113  |    _X WORD *wGpioBase;
                            27154 ; 114  |    WORD wGpioSetMask;
                            27155 ; 115  |    WORD wGpioClearMask;
                            27156 ; 116  |    _X WORD *wWriteProtectGpioBase;
                            27157 ; 117  |    WORD wWriteProtectGpioSetMask;
                            27158 ; 118  |    WORD wWriteProtectGpioClearMask;
                            27159 ; 119  |    _X WORD *wMediaDetectGpioBase;
                            27160 ; 120  |    WORD wMediaDetectGpioSetMask;
                            27161 ; 121  |    WORD wMediaDetectGpioClearMask;
                            27162 ; 122  |    WORD wMediaDetectPolarity;
                            27163 ; 123  |    WORD wSpiDeviceNumber;
                            27164 ; 124  |    BOOL bSPIBusInitialized;
                            27165 ; 125  |} MMC_PHYSICAL_BUS;
                            27166 ; 126  |
                            27167 ; 127  |typedef struct {
                            27168 ; 128  |    WORD wCommand;
                            27169 ; 129  |    WORD wArg3;
                            27170 ; 130  |    WORD wArg2;
                            27171 ; 131  |    WORD wArg1;
                            27172 ; 132  |    WORD wArg0;
                            27173 ; 133  |    WORD wCRC7;
                            27174 ; 134  |} MMC_CMD;
                            27175 ; 135  |
                            27176 ; 136  |typedef union {
                            27177 ; 137  |    struct {
                            27178 ; 138  |        WORD Idle            : 1;
                            27179 ; 139  |        WORD EraseReset      : 1;
                            27180 ; 140  |        WORD IllCommand      : 1;
                            27181 ; 141  |        WORD ComCrcError     : 1;
                            27182 ; 142  |        WORD EraseSeqError   : 1;
                            27183 ; 143  |        WORD AddressError    : 1;
                            27184 ; 144  |        WORD ParamError      : 1;
                            27185 ; 145  |        WORD ZeroBit         : 1;
                            27186 ; 146  |    } B;
                            27187 ; 147  |    WORD I;
                            27188 ; 148  |} MMC_RESPONSE_R1;
                            27189 ; 149  |
                            27190 ; 150  |typedef union {
                            27191 ; 151  |    struct {
                            27192 ; 152  |        WORD CardLocked      : 1;
                            27193 ; 153  |        WORD WpeLucf         : 1;
                            27194 ; 154  |        WORD Error           : 1;
                            27195 ; 155  |        WORD CCError         : 1;
                            27196 ; 156  |        WORD CardEccFail     : 1;
                            27197 ; 157  |        WORD WpViolation     : 1;
                            27198 ; 158  |        WORD EraseParam      : 1;
                            27199 ; 159  |        WORD OorCsdovw       : 1;
                            27200 ; 160  |        WORD Idle            : 1;
                            27201 ; 161  |        WORD EraseReset      : 1;
                            27202 ; 162  |        WORD IllCommand      : 1;
                            27203 ; 163  |        WORD ComCrcError     : 1;
                            27204 ; 164  |        WORD EraseSeqError   : 1;
                            27205 ; 165  |        WORD AddressError    : 1;
                            27206 ; 166  |        WORD ParamError      : 1;
                            27207 ; 167  |    } B;
                            27208 ; 168  |    WORD I;
                            27209 ; 169  |} MMC_RESPONSE_R2;
                            27210 
                            27232 
                            27233 ; 170  |
                            27234 ; 171  |typedef struct {
                            27235 ; 172  |    DWORD dwOcr;
                            27236 ; 173  |    MMC_RESPONSE_R1 R1;
                            27237 ; 174  |} MMC_RESPONSE_R3;
                            27238 
                            27278 
                            27279 ; 175  |
                            27280 ; 176  |typedef union {
                            27281 ; 177  |    MMC_RESPONSE_R1 R1;
                            27282 ; 178  |    MMC_RESPONSE_R2 R2;
                            27283 ; 179  |    MMC_RESPONSE_R3 R3;
                            27284 ; 180  |} MMC_RESPONSE;
                            27285 
                            27302 
                            27303 ; 181  |    
                            27304 ; 182  |
                            27305 ; 183  |///////////////////////////////////////////////////////////////////////////////
                            27306 ; 184  |// MMC prototypes
                            27307 ; 185  |///////////////////////////////////////////////////////////////////////////////
                            27308 ; 186  |
                            27309 ; 187  |// functions that map directly to MMC commands
                            27310 ; 188  |RETCODE _reentrant HalMmcGoIdleStateSync(MMC_PHYSICAL_BUS * pBusPointer, MMC_RESPONSE * Response);
                            27311 
                            27317 
                            27318 ; 189  |RETCODE _reentrant HalMmcSendOpCondSync(MMC_PHYSICAL_BUS * pBusPointer, MMC_RESPONSE * Response);
                            27319 ; 190  |RETCODE _reentrant HalMmcSendCidSync(MMC_PHYSICAL_BUS * pBusPointer, WORD _X pwRegBuffer[],
                            27320 ; 191  |    MMC_RESPONSE * Response);
                            27321 ; 192  |RETCODE _reentrant HalMmcSendCsdSync(MMC_PHYSICAL_BUS * pBusPointer, WORD _X pwRegBuffer[],
                            27322 ; 193  |    MMC_RESPONSE * Response);
                            27323 ; 194  |RETCODE _reentrant HalMmcAppCmdSync(MMC_PHYSICAL_BUS * pBusPointer, MMC_RESPONSE * Response);
                            27324 ; 195  |RETCODE _reentrant HalMmcReadOcrSync(MMC_PHYSICAL_BUS * pBusPointer, MMC_RESPONSE * Response);
                            27325 ; 196  |RETCODE _reentrant HalMmcSendStatusSync(MMC_PHYSICAL_BUS * pBusPointer, MMC_RESPONSE * Response);
                            27326 ; 197  |RETCODE _reentrant HalMmcReadSingleBlockSync(MMC_PHYSICAL_BUS * pBusPointer, DWORD dwAddress,
                            27327 ; 198  |    WORD _X pwReadBuffer[], MMC_RESPONSE * Response);
                            27328 ; 199  |RETCODE _reentrant HalMmcProgramCsdSync(MMC_PHYSICAL_BUS * pBusPointer, WORD _X pwRegBuffer[],
                            27329 ; 200  |    MMC_RESPONSE * Response);
                            27330 ; 201  |RETCODE _reentrant HalMmcSetBlocklenSync(MMC_PHYSICAL_BUS * pBusPointer, DWORD dwLength, 
                            27331 ; 202  |    MMC_RESPONSE * Response);
                            27332 ; 203  |RETCODE _reentrant HalMmcBusInit(MMC_PHYSICAL_BUS * pBusPointer);
                            27333 ; 204  |
                            27334 ; 205  |RETCODE _reentrant HalMmcWriteBlockSync(MMC_PHYSICAL_BUS * pBusPointer, DWORD dwAddress,
                            27335 ; 206  |    WORD _X pwWriteBuffer[], MMC_RESPONSE * Response);
                            27336 ; 207  |RETCODE _reentrant HalMmcWriteMultipleBlockFirstSync(MMC_PHYSICAL_BUS * pBusPointer, DWORD dwAddress,
                            27337 ; 208  |    WORD _X pwWriteBuffer[], MMC_RESPONSE * Response);
                            27338 ; 209  |RETCODE _reentrant HalMmcWriteMultipleBlockNextSync(MMC_PHYSICAL_BUS * pBusPointer, DWORD dwAddress,
                            27339 ; 210  |    WORD _X pwWriteBuffer[], MMC_RESPONSE * Response);
                            27340 ; 211  |RETCODE _reentrant HalMmcWriteMultipleBlockEndSync(MMC_PHYSICAL_BUS * pBusPointer);
                            27341 ; 212  |RETCODE _reentrant HalMmcTagSectorStartSync(MMC_PHYSICAL_BUS * pBusPointer, DWORD dwAddress,
                            27342 ; 213  |    MMC_RESPONSE * Response);
                            27343 ; 214  |RETCODE _reentrant HalMmcTagSectorEndSync(MMC_PHYSICAL_BUS * pBusPointer, DWORD dwAddress,
                            27344 ; 215  |    MMC_RESPONSE * Response);
                            27345 ; 216  |RETCODE _reentrant HalMmcTagEraseGroupStartSync(MMC_PHYSICAL_BUS * pBusPointer, DWORD dwAddress,
                            27346 ; 217  |    MMC_RESPONSE * Response);
                            27347 ; 218  |RETCODE _reentrant HalMmcTagEraseGroupEndSync(MMC_PHYSICAL_BUS * pBusPointer, DWORD dwAddress,
                            27348 ; 219  |    MMC_RESPONSE * Response);
                            27349 ; 220  |RETCODE _reentrant HalMmcErase(MMC_PHYSICAL_BUS * pBusPointer, MMC_RESPONSE * Response);
                            27350 ; 221  |
                            27351 ; 222  |// functions that map directly to SD commands
                            27352 ; 223  |RETCODE _reentrant HalSdSendOpCondSync(MMC_PHYSICAL_BUS * pBusPointer, MMC_RESPONSE * Response);
                            27353 ; 224  |
                            27354 ; 225  |// other HAL functions
                            27355 ; 226  |#ifdef MMC_SEMAPHORE
                            27356 ; 227  |RETCODE _reentrant HalMmcPhysicalGrab(WORD wNum);
                            27357 ; 228  |RETCODE _reentrant HalMmcPhysicalRelease(WORD wNum);
                            27358 ; 229  |#endif
                            27359 ; 230  |BOOL _reentrant HalMmcIsDeviceInserted(MMC_PHYSICAL_BUS * pBusPointer);
                            27360 ; 231  |
                            27361 ; 232  |// ancillary functions
                            27362 ; 233  |RETCODE _reentrant MmcSendCommandSync(MMC_PHYSICAL_BUS * pBusPointer, WORD wCommand, 
                            27363 ; 234  |    DWORD dwArgument, MMC_RESPONSE * Response, MMC_RESPONSE_TYPE ResponseType);
                            27364 ; 235  |RETCODE _reentrant MmcWaitForRegisterSync(MMC_PHYSICAL_BUS * pBusPointer);
                            27365 ; 236  |RETCODE _reentrant MmcTransactionCompleteSync(MMC_PHYSICAL_BUS * pBusPointer);
                            27366 
                            27375 
                            27376 ; 237  |RETCODE _reentrant MmcCalcCommandCrc(MMC_CMD * pCmd);
                            27377 ; 238  |
                            27378 ; 239  |#endif // #ifndef _MMCHAL_H
                            27379 
                            27381 
                            27382 ; 17   |
                            27383 ; 18   |///////////////////////////////////////////////////////////////////////////////
                            27384 ; 19   |// Definitions
                            27385 ; 20   |///////////////////////////////////////////////////////////////////////////////
                            27386 ; 21   |
                            27387 ; 22   |#define MMC_SECTOR_SIZE_IN_BYTES            512
                            27388 ; 23   |
                            27389 ; 24   |typedef enum {
                            27390 ; 25   |  eMmcLockStateFree   = 0,
                            27391 ; 26   |  eMmcLockStateLocked = 1
                            27392 ; 27   |} MMC_LOCK_STATE;
                            27393 ; 28   |
                            27394 ; 29   |typedef BOOL    (*P_MMCBUSYDONE_CALLBACK_FUNCTION)(int, void*);
                            27395 ; 30   |
                            27396 ; 31   |/////////////////////////////////////////////////////////////////////////////////
                            27397 ; 32   |// MMC Physical Device Struct
                            27398 ; 33   |/////////////////////////////////////////////////////////////////////////////////
                            27399 ; 34   |typedef struct {
                            27400 ; 35   |    BOOL  bMMCCardPresent;
                            27401 ; 36   |        BOOL    bEnumerated;
                            27402 ; 37   |    BOOL        bWriteProtected;
                            27403 ; 38   |    BOOL        bEraseTested;
                            27404 ; 39   |    BOOL        bEraseIsFunctional;
                            27405 ; 40   |//    BOOL      bMmcMultiWriteSupported;
                            27406 ; 41   |//    BOOL      bMmcMultiWriteInProgress;
                            27407 ; 42   |} MMC_PHYSICAL_DEVICE_FLAGS, * P_MMC_PHYSICAL_DEVICE_FLAGS;
                            27408 ; 43   |
                            27409 ; 44   |
                            27410 ; 45   |/////////////////////////////////////////////////////////////////////////////////
                            27411 ; 46   |// MMC CID Struct
                            27412 ; 47   |/////////////////////////////////////////////////////////////////////////////////
                            27413 ; 48   |typedef struct {
                            27414 ; 49   |
                            27415 ; 50   |        WORD    wMID;       //Manufacturer ID
                            27416 ; 51   |    WORD        wCIN[4];        // Spec 1.4 only
                            27417 ; 52   |    WORD        wOID;       // OEM/App ID
                            27418 ; 53   |    DWORD       dwPNM;  // Product Name
                            27419 ; 54   |    WORD        wPRV;       // Product Revision
                            27420 ; 55   |    DWORD       dwPSN;  // Product Serial Number
                            27421 ; 56   |    WORD        wMDT;       // Manufacturing Date
                            27422 ; 57   |    WORD        wCRC;       // CRC checksum
                            27423 ; 58   |} MMC_CID, *P_MMC_CID;
                            27424 ; 59   |
                            27425 ; 60   |/////////////////////////////////////////////////////////////////////////////////
                            27426 ; 61   |// MMC CSD Struct
                            27427 ; 62   |/////////////////////////////////////////////////////////////////////////////////
                            27428 ; 63   |typedef struct {
                            27429 ; 64   |
                            27430 ; 65   |    WORD        wCSD_STRUCTURE;         // *
                            27431 ; 66   |    WORD        wSPEC_VERS;                 // * System Specification Version
                            27432 ; 67   |    WORD        wTAAC;                        // Data Read Access Time 1
                            27433 ; 68   |    WORD        wNSAC;                        // Data Read Access Time 2
                            27434 ; 69   |    WORD        wTRANS_SPEED;             // Max Data Transfer Rate
                            27435 ; 70   |    WORD        wCCC;                           // Card Command Classes
                            27436 ; 71   |    WORD        wREAD_BL_LEN;             // * Max Read Data block Length
                            27437 ; 72   |    WORD        wREAD_BL_PARTIAL;               // Partial Blocks for read allowed
                            27438 ; 73   |    WORD        wWRITE_BLK_MISALIGN;    // Write Block misaligned
                            27439 ; 74   |    WORD        wREAD_BLK_MISALIGN;     // Read Block misaligned
                            27440 ; 75   |    WORD        wDSR_INP;                     // DSR Implemented
                            27441 ; 76   |    WORD        wC_SIZE;                            // * Device Size
                            27442 ; 77   |    WORD        wVDD_R_CURR_MIN;        // Max Read Current at Vdd Min
                            27443 ; 78   |    WORD        wVDD_R_CURR_MAX;        // Max Read Current at Vdd Max
                            27444 ; 79   |    WORD        wVDD_W_CURR_MIN;  // Max Write Current at Vdd Min
                            27445 ; 80   |    WORD        wVDD_W_CURR_MAX;        // Max Write Current at Vdd Max
                            27446 ; 81   |    WORD        wC_SIZE_MULT;             // * Device Size Mulitplier
                            27447 ; 82   |    WORD        wERASE_BLK_EN;          // Erase Block Enable (SD 1.0)
                            27448 ; 83   |    WORD        wSECTOR_SIZE;             // Sector Size (SD 1.0)
                            27449 ; 84   |    WORD        wERASE_GRP_SIZE;        // * Erase Group Size
                            27450 ; 85   |    WORD        wERASE_GRP_MULT;        // * Erase Group Multiplier
                            27451 ; 86   |    WORD        wWP_GRP_SIZE;             // Write Protect Group Size
                            27452 ; 87   |    WORD        wWP_GROUP_ENABLE;       // Write Protect Group Enable
                            27453 ; 88   |    WORD        wDEFAULT_ECC;             // Manufacturer Default ECC
                            27454 ; 89   |    WORD        wR2W_FACTOR;              // Write Speed Factor
                            27455 ; 90   |    WORD        wWRITE_BL_LEN;    // Max Write data block length
                            27456 ; 91   |    WORD        wWRITE_BL_PARTIAL;      // Partial blocks for  Write allowed
                            27457 ; 92   |    WORD        wFILE_FORMAT_GRP;       // File format group
                            27458 ; 93   |    WORD        wCOPY;                        // Copy Flag (OTP)
                            27459 ; 94   |    WORD        wPERM_WRITE_PROTECT;    // Permanent Write Protection
                            27460 ; 95   |    WORD        wTMP_WRITE_PROTECT;     // Temporary Write Protection
                            27461 ; 96   |    WORD        wFILE_FORMAT;             // File Format
                            27462 ; 97   |    WORD        wECC;                           // ECC
                            27463 ; 98   |    WORD        wCRC;                           // CRC
                            27464 ; 99   |                            //      *  =  Spec 3.1
                            27465 ; 100  |
                            27466 ; 101  |} MMC_CSD, *P_MMC_CSD;
                            27467 ; 102  |
                            27468 ; 103  |typedef struct _MMCMultiWriteStruct
                            27469 ; 104  |{
                            27470 ; 105  |  BOOL  bMultiWriteSupported;
                            27471 ; 106  |  BOOL  bMultiWriteStarted;
                            27472 ; 107  |  BOOL  bMultiWriteInProgress;
                            27473 ; 108  |  DWORD dwMultiWriteStartSectorNumber;
                            27474 ; 109  |  DWORD dwMultiWriteCurrentSectorNumber;
                            27475 ; 110  |  WORD  wMultiWriteSectorsRemaining;
                            27476 ; 111  |  DWORD dwMMCPreviousWriteSector;
                            27477 ; 112  |  MULTI_WRITE_CALLBACK_FUNCTION pCallBackFunction;
                            27478 ; 113  |} MMCMultiWriteStruct;
                            27479 
                            27551 
                            27552 ; 114  |
                            27553 ; 115  |/////////////////////////////////////////////////////////////////////////////////
                            27554 ; 116  |// MMC Media Info Struct
                            27555 ; 117  |/////////////////////////////////////////////////////////////////////////////////
                            27556 ; 118  |typedef struct {
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page 107

M:ADDR CODE           CYCLES LINE SOURCELINE
                            27557 ; 119  |  MMC_LOCK_STATE  Lock;
                            27558 ; 120  |  BOOL            bMMCIsBusy;       // Used for SetMMCBusy and MMCIsReady
                            27559 ; 121  |  P_MMCBUSYDONE_CALLBACK_FUNCTION pMMCBusyDoneCallbackFunction;
                            27560 ; 122  |  void *          pMMCBusyArg;              // Used for SetMMCBusy and MMCIsReady
                            27561 ; 123  |  DWORD           dwTotalSectors;           //
                            27562 ; 124  |  MMC_PHYSICAL_DEVICE_FLAGS     Flags;  // operation flags
                            27563 ; 125  |  MMC_CARD_TYPE   Type;         // MMC or SD?
                            27564 ; 126  |  MMC_CID                     Cid;              // Card ID structure
                            27565 ; 127  |  MMC_CSD                     Csd;              // Card Specific Data Register
                            27566 ; 128  |  WORD                  wEraseSize;     // Erase Size
                            27567 ; 129  |  DWORD                 dwDeviceSize;
                            27568 ; 130  |  MMC_PHYSICAL_BUS * pMMCPhysicalBus;     //SPI Bus Pin definitions for Media.
                            27569 ; 131  |  MMCMultiWriteStruct MultWrite;
                            27570 ; 132  |} MMC_MEDIA_INFO, * P_MMC_MEDIA_INFO;
                            27571 
                            27573 
                            27574 ; 133  |
                            27575 ; 134  |
                            27576 ; 135  |///////////////////////////////////////////////////////////////////////////////
                            27577 ; 136  |// Error codes
                            27578 ; 137  |///////////////////////////////////////////////////////////////////////////////
                            27579 ; 138  |
                            27580 ; 139  |///////////////////////////////////////////////////////////////////////////////
                            27581 ; 140  |// Typedefs
                            27582 ; 141  |///////////////////////////////////////////////////////////////////////////////
                            27583 ; 142  |
                            27584 ; 143  |
                            27585 ; 144  |///////////////////////////////////////////////////////////////////////////////
                            27586 ; 145  |// Prototypes
                            27587 ; 146  |///////////////////////////////////////////////////////////////////////////////
                            27588 ; 147  |
                            27589 ; 148  |
                            27590 ; 149  |///////////////////////////////////////////////////////////////////////////////
                            27591 ; 150  |// Global variables
                            27592 ; 151  |///////////////////////////////////////////////////////////////////////////////
                            27593 ; 152  |extern LOGICAL_MEDIA_API MMCMediaApi;
                            27594 
                            27596 
                            27597 ; 153  |extern LOGICAL_DRIVE_API MMCDataDriveApi;
                            27598 
                            27616 
                            27617 ; 154  |extern MMC_MEDIA_INFO MEDIA_DDI_MEM MmcMediaInfo;
                            27618 ; 155  |
                            27619 ; 156  |#endif // #ifndef _MMCDDI_H
                            27620 
                            27622 
                            27623 ; 37   |#endif
                            27624 ; 38   |#include "fsapi.h"
                            27625 
                            27627 
                            27628 ; 1    |#ifndef _FSAPI_H_
                            27629 ; 2    |#define _FSAPI_H_
                            27630 ; 3    |#include "filespec.h"
                            27631 ; 4    |extern _reentrant LONG Ftell(INT HandleNumber);
                            27632 ; 5    |extern _reentrant LONG Feof(INT HandleNumber);
                            27633 ; 6    |extern _reentrant INT *Fputs(INT HandleNumber,INT *Buffer);
                            27634 ; 7    |extern _reentrant LONG Fread(INT HandleNumber,INT *Buffer,LONG NumBytesToRead,INT Source_Memory,INT MOdulo);
                            27635 ; 8    |extern _reentrant INT Fgetc(INT HandleNumber);
                            27636 ; 9    |extern _reentrant INT Fputc(INT HandleNumber,INT ByteToWrite);
                            27637 ; 10   |extern _reentrant LONG ReadDirectoryRecord(INT HandleNumber,INT RecordNumber,INT *Buffer);
                            27638 ; 11   |extern _reentrant INT Fseek(INT HandleNumber,LONG NumBytesToSeek,INT SeekPosition);
                            27639 ; 12   |extern _reentrant INT Fopen(_packed char *filepath,_packed char *mode);
                            27640 ; 13   |extern _reentrant LONG Fwrite(INT HandleNumber,INT  *Buffer,LONG NumBytesToWrite,INT Source_Memory,INT MOdulo);
                            27641 ; 14   |extern _reentrant LONG Totalfreecluster(INT DeviceNum);
                            27642 ; 15   |extern _reentrant INT Rmdir(_packed char *filepath);
                            27643 ; 16   |extern _reentrant INT Rmdirw(_packed char *filepath);
                            27644 ; 17   |extern _reentrant INT Mkdir(_packed char *filepath);
                            27645 ; 18   |
                            27646 ; 19   |        //      SGTL-HK 27-05-2005
                            27647 ; 20   |extern _reentrant INT Mkdirw(UCS3 *filepath);
                            27648 ; 21   |
                            27649 ; 22   |extern _reentrant INT Chdir(_packed char *filepath);
                            27650 ; 23   |extern _reentrant INT FastOpen(LONG Key,_packed char *mode);
                            27651 ; 24   |
                            27652 ; 25   |extern _reentrant INT Setcwd(_packed char *filepath, _packed char *gCworkingDir,INT index,INT length);
                            27653 ; 26   |extern _reentrant _packed char *Getcwd(void);
                            27654 ; 27   |extern  _reentrant _packed char *Fgets(INT HandleNumber,INT NumBytesToRead, _packed char *Buffer);
                            27655 ; 28   |extern INT  FSInit(INT _X *bufx, INT _Y *bufy, INT maxdevices, INT maxhandles, INT maxcaches);
                            27656 ; 29   |extern INT  FlushCache(void);
                            27657 ; 30   |extern _reentrant INT FsShutDown(void);
                            27658 ; 31   |extern _reentrant LONG GetFileSize(INT HandleNumber);
                            27659 ; 32   |
                            27660 ; 33   |extern _reentrant INT filegetattrib(_packed char *FilePath);
                            27661 ; 34   |extern _reentrant INT Fopenw(INT *filepath,_packed char *mode);
                            27662 ; 35   |extern _reentrant INT Fremove(_packed char *filepath);
                            27663 ; 36   |extern _reentrant INT Fremovew(_packed char *filepath);
                            27664 ; 37   |extern _reentrant void DBCSToUnicode(_packed unsigned char *pDBCS, WORD *pUnicode,INT iLength);
                            27665 ; 38   |extern INT FlushCache(void);
                            27666 ; 39   |extern _reentrant INT DeleteTree(_packed char *Path);
                            27667 ; 40   |extern _reentrant INT Fclose(INT HandleNumber);
                            27668 ; 41   |extern INT FSMediaPresent(INT DeviceNum);
                            27669 ; 42   |extern INT FSFATType (INT DeviceNum);
                            27670 ; 43   |extern  INT _reentrant  GetVolumeLabel(_packed char *Buffer,INT DeviceNum);
                            27671 ; 44   |extern _reentrant INT SetVolumeLabel(_packed char *Buffer,INT DeviceNum);
                            27672 ; 45   |extern _reentrant LONG FgetFastHandle(INT HandleNumber);
                            27673 ; 46   |
                            27674 ; 47   |extern _reentrant INT ConstructLongFileName(INT HandleNumber, INT RecordNumber, INT *LFNBuffer);
                            27675 ; 48   |extern _reentrant void Uppercase(_packed char *file); 
                            27676 ; 49   |extern _reentrant INT FindNext(INT HandleNumber,Finddata *_finddata);
                            27677 ; 50   |extern _reentrant INT FindFirst(Finddata *_finddata,_packed char *FileName);
                            27678 ; 51   |extern _reentrant void ClearData(Finddata *_finddata);
                            27679 ; 52   |extern _reentrant INT GetShortfilename(LONG Key,INT *Buffer);
                            27680 ; 53   |
                            27681 ; 54   |
                            27682 ; 55   |
                            27683 ; 56   |
                            27684 ; 57   |typedef struct
                            27685 ; 58   |{
                            27686 ; 59   |
                            27687 ; 60   |INT             Day;
                            27688 ; 61   |INT             Month;
                            27689 ; 62   |INT             Year;
                            27690 ; 63   |}DIR_DATE;
                            27691 ; 64   |
                            27692 ; 65   |
                            27693 ; 66   |typedef struct
                            27694 ; 67   |{
                            27695 ; 68   |
                            27696 ; 69   |INT             Second;
                            27697 ; 70   |INT             Minute;
                            27698 ; 71   |INT             Hour;
                            27699 ; 72   |}DIR_TIME;
                            27700 ; 73   |
                            27701 ; 74   |
                            27702 ; 75   |typedef struct
                            27703 ; 76   |{
                            27704 ; 77   |LONG CurrentOffset;     
                            27705 ; 78   |LONG CurrentCluster;
                            27706 ; 79   |}HANDLECONTEXT;
                            27707 ; 80   |
                            27708 ; 81   |extern _reentrant INT filesetattrib(INT HandleNumber,INT dirattribute);
                            27709 ; 82   |extern _reentrant INT filesetdate(_packed char *FilePath,INT crt_mod_date_time_para,DIR_DATE *dirdate,DIR_TIME *dirtime);
                            27710 ; 83   |extern _reentrant INT filegetdate(INT HandleNumber,INT crt_mod_date_time_para,DIR_DATE *dirdate,DIR_TIME *dirtime);
                            27711 ; 84   |#endif
                            27712 
                            27714 
                            27715 ; 39   |#include "metadata.h"
                            27716 
                            27718 
                            27719 ; 1    |////////////////////////////////////////////////////////////////////////////////
                            27720 ; 2    |// Copyright(C) SigmaTel, Inc. 2002
                            27721 ; 3    |//
                            27722 ; 4    |// Filename: metadata.h
                            27723 ; 5    |// Description:
                            27724 ; 6    |////////////////////////////////////////////////////////////////////////////////
                            27725 ; 7    |
                            27726 ; 8    |#ifndef _METADATA_H
                            27727 ; 9    |#define _METADATA_H
                            27728 ; 10   |
                            27729 ; 11   |///////////////////////////////////////////////////////////////////////////////
                            27730 ; 12   |// MetaData definitions
                            27731 ; 13   |///////////////////////////////////////////////////////////////////////////////
                            27732 ; 14   |
                            27733 ; 15   |//#define MMC_CMD59       0x40|59
                            27734 ; 16   |
                            27735 ; 17   |///////////////////////////////////////////////////////////////////////////////
                            27736 ; 18   |// Meta Data structure definitions
                            27737 ; 19   |///////////////////////////////////////////////////////////////////////////////
                            27738 ; 20   |
                            27739 ; 21   |///////////////////////////////////////////////////////////////////////////////
                            27740 ; 22   |// MetaData definitions
                            27741 ; 23   |
                            27742 ; 24   |#define META_DATA_FOUND                     (WORD)(0)
                            27743 ; 25   |#define META_DATA_NOT_FOUND                 (WORD)(0x100)
                            27744 ; 26   |#define META_DATA_FILE_NOT_SUPPORTED        (WORD)(0x101)
                            27745 ; 27   |#define META_DATA_FILEOPEN_ERROR            (WORD)(0x200)
                            27746 ; 28   |#define META_DATA_FILEREAD_ERROR            (WORD)(0x201)
                            27747 ; 29   |#define META_DATA_FILECLOSE_ERROR           (WORD)(0x202)
                            27748 ; 30   |#define META_DATA_FILESEEK_ERROR            (WORD)(0x203)
                            27749 ; 31   |#define META_DATA_FILEWRITE_ERROR           (WORD)(0x204)
                            27750 ; 32   |#define META_DATA_SUCCESS                               (WORD)(0x205)
                            27751 ; 33   |
                            27752 ; 34   |#define META_DATA_NOT_VBR_FORMAT            (WORD)(0x102)
                            27753 ; 35   |
                            27754 ; 36   |// VBR
                            27755 ; 37   |#define VBR_NOT_DETERMINED 0
                            27756 ; 38   |#define VBR_TRUE 1
                            27757 ; 39   |
                            27758 ; 40   |#ifndef TITLE_SIZE
                            27759 ; 41   |//#define TITLE_SIZE 30
                            27760 ; 42   |#ifndef USE_PLAYLIST3
                            27761 ; 43   |#define TITLE_SIZE 256          //was 30 but LFNs require up to 256!
                            27762 ; 44   |#else
                            27763 ; 45   |#define TITLE_SIZE 80           //was 256 but music library only store up to 129!
                            27764 ; 46   |#endif
                            27765 ; 47   |#endif
                            27766 ; 48   |
                            27767 ; 49   |#ifndef ARTIST_SIZE
                            27768 ; 50   |#ifndef USE_PLAYLIST3
                            27769 ; 51   |//#define ARTIST_SIZE 30
                            27770 ; 52   |#define ARTIST_SIZE 100         // increase artist size for use with ID3V2 tags (Stmp00003110)
                            27771 ; 53   |#else
                            27772 ; 54   |#define ARTIST_SIZE 48          // increase artist size for use with ID3V2 tags (Stmp00003110)
                            27773 ; 55   |#endif
                            27774 ; 56   |#endif
                            27775 ; 57   |
                            27776 ; 58   |#ifndef ALBUM_SIZE
                            27777 ; 59   |#ifndef USE_PLAYLIST3
                            27778 ; 60   |//#define ALBUM_SIZE 30
                            27779 ; 61   |#define ALBUM_SIZE 50           // increase album size (not as much) for use with ID3V2 tags (Stmp00003110)
                            27780 ; 62   |#else
                            27781 ; 63   |#define ALBUM_SIZE 48           // increase album size (not as much) for use with ID3V2 tags (Stmp00003110)
                            27782 ; 64   |#endif
                            27783 ; 65   |#endif
                            27784 ; 66   |
                            27785 ; 67   |#ifdef USE_PLAYLIST3
                            27786 ; 68   |#ifndef GENRE_SIZE
                            27787 ; 69   |#define GENRE_SIZE 20
                            27788 ; 70   |#endif
                            27789 ; 71   |
                            27790 ; 72   |#ifndef YEAR_SIZE
                            27791 ; 73   |#define YEAR_SIZE 8
                            27792 ; 74   |#endif
                            27793 ; 75   |
                            27794 ; 76   |#ifndef TRACKNUM_SIZE
                            27795 ; 77   |#define TRACKNUM_SIZE 5 // assume track number is smaller than 0xfff (12bit or 4095)
                            27796 ; 78   |#endif
                            27797 ; 79   |
                            27798 ; 80   |#define MAX_TRACK_NUMBER 0x000fff
                            27799 ; 81   |#define UNKNOWN_TRACK_NUMBER MAX_TRACK_NUMBER
                            27800 ; 82   |#endif
                            27801 ; 83   |
                            27802 ; 84   |#define XING_TOC_SIZE   100
                            27803 ; 85   |#if MTP_BUILD
                            27804 ; 86   |// This size is used to build table for FF/RW for vbr songs,
                            27805 ; 87   |// and as there is no such function in mtp mode, it is reduced to release y-memory.
                            27806 ; 88   |#define VBR_TOC_SIZE    2
                            27807 ; 89   |#else
                            27808 ; 90   |#define VBR_TOC_SIZE    200
                            27809 ; 91   |#endif
                            27810 ; 92   |
                            27811 ; 93   |extern UCS3 g_wSongTitle[TITLE_SIZE];
                            27812 ; 94   |extern UCS3 g_wSongArtist[ARTIST_SIZE];
                            27813 ; 95   |extern UCS3 g_wSongAlbum[ALBUM_SIZE];
                            27814 ; 96   |#ifdef USE_PLAYLIST3
                            27815 ; 97   |extern UCS3 g_wSongGenre[GENRE_SIZE];
                            27816 ; 98   |extern UCS3 g_wSongYear[YEAR_SIZE];
                            27817 ; 99   |extern WORD g_wSongTrackNum;
                            27818 ; 100  |#endif
                            27819 ; 101  |
                            27820 ; 102  |extern WORD g_wVBRTOCTable[VBR_TOC_SIZE];
                            27821 ; 103  |
                            27822 ; 104  |typedef struct {
                            27823 ; 105  |    WORD        iTitleBufferLength;
                            27824 ; 106  |        UCS3       *wTitle;        // Title of Song
                            27825 ; 107  |    WORD        iArtistBufferLength;
                            27826 ; 108  |    UCS3       *wArtist;
                            27827 ; 109  |    WORD        iAlbumBufferLength;
                            27828 ; 110  |    UCS3       *wAlbum;
                            27829 ; 111  |#ifdef USE_PLAYLIST3
                            27830 ; 112  |    WORD        iGenreBufferLength;
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page 108

M:ADDR CODE           CYCLES LINE SOURCELINE
                            27831 ; 113  |    UCS3       *wGenre;
                            27832 ; 114  |    WORD        iYearBufferLength;
                            27833 ; 115  |    UCS3       *wYear;
                            27834 ; 116  |    WORD        wTrackNum;
                            27835 ; 117  |#endif
                            27836 ; 118  |    BYTE       btGenre;       // Genre of audio file -- if MP3, use the ID3v1 tag byte
                            27837 ; 119  |        WORD       wSampRate;     // Sample Rate of song (Hz)
                            27838 ; 120  |        WORD       wNumChannels;
                            27839 ; 121  |        WORD       wBitRate;      // Bitrate of song (for MP3 VBR, this will be first bitrate found)
                            27840 ; 122  |        LONG       iTime;                 // Length of song in seconds
                            27841 ; 123  |        DWORD      dwStartPos;    // Position where audio starts. (if required by the decoder)
                            27842 ; 124  |        DWORD      dwNumBytes;    // Total Bytes in audio part of song
                            27843 ; 125  |    DWORD      dwDataBytes;   // for wma; (total bytes - header bytes)
                            27844 ; 126  |        DWORD      dwNumFrames;   // See note below on frames
                            27845 ; 127  |        BOOL       bVBR;                  // 0 = CBR or does not apply , 1 = VBR (**see question below**)
                            27846 ; 128  |        INT                iFileType;     // 0 = unknown, 1 = MP3, 2 = WMA, 4 = AAC, 8 = IMA ADPCM, etc (use defines below)
                            27847 ; 129  |        INT                iResourceNum;  // Resource number of the decoder that needed for this file
                            27848 ; 130  |} FILE_META_DATA;
                            27849 ; 131  |
                            27850 ; 132  |// File Type Defines (use for iFileType) -- matches bit defines in sysequ.inc
                            27851 ; 133  |#define UNKNOWN_TYPE   0
                            27852 ; 134  |#define MP3_TYPE       1
                            27853 ; 135  |#define WMA_TYPE       2
                            27854 ; 136  |#define AAC_TYPE       4
                            27855 ; 137  |#define IMA_ADPCM_TYPE 8
                            27856 ; 138  |#define MS_ADPCM_TYPE  16
                            27857 ; 139  |#define PCM_WAV_TYPE   32
                            27858 ; 140  |#define ASF_TYPE       64
                            27859 ; 141  |#define AUDIBLE_ACELP_TYPE 128
                            27860 ; 142  |#define AUDIBLE_MP3_TYPE   256          // 9/28/04 mmiu
                            27861 ; 143  |
                            27862 ; 144  |#define SMV_ADPCM_TYPE 512
                            27863 ; 145  |
                            27864 ; 146  |
                            27865 ; 147  |//////SRS WOW DEFS/////////////////////////////////////////////////////////////
                            27866 ; 148  |// Sample rates
                            27867 ; 149  |#ifdef WOW
                            27868 ; 150  |#define SR_48KHZ        48000
                            27869 ; 151  |#define SR_44KHZ        44100
                            27870 ; 152  |#define SR_32KHZ        32000
                            27871 ; 153  |#define SR_24KHZ        24000
                            27872 ; 154  |#define SR_22KHZ        22050
                            27873 ; 155  |#define SR_16KHZ        16000
                            27874 ; 156  |#define SR_12KHZ        12000
                            27875 ; 157  |#define SR_11KHZ        11025
                            27876 ; 158  |#define SR_8KHZ          8000
                            27877 ; 159  |#endif
                            27878 ; 160  |
                            27879 ; 161  |
                            27880 ; 162  |///////////////////////////////////////////////////////////////////////////////
                            27881 ; 163  |// MetaData prototypes
                            27882 ; 164  |///////////////////////////////////////////////////////////////////////////////
                            27883 ; 165  |
                            27884 ; 166  |RETCODE _reentrant GetFileMetaData(INT PackedPathNameAddress, INT btCurrentDevice, FILE_META_DATA *MetaData);
                            27885 ; 167  |#ifdef USE_PLAYLIST3
                            27886 ; 168  |INT _reentrant GetRelativePath(int highlight_index, int browse_type, INT* PackedPathNameAddress);
                            27887 ; 169  |INT _reentrant RetrieveSongInfo(INT a, INT b, INT *p_path);
                            27888 ; 170  |#endif
                            27889 ; 171  |
                            27890 ; 172  |#endif // #ifndef _METADATA_H
                            27891 
                            27893 
                            27894 ; 40   |#include "..\metadata\mp3metadata.h"
                            27895 
                            27897 
                            27898 ; 1    |#ifndef __MP3METADATA_H
                            27899 ; 2    |#define __MP3METADATA_H
                            27900 ; 3    |///////////////////////////////////////////////////////////////////////////////
                            27901 ; 4    |// Copyright(C) SigmaTel, Inc. 2002
                            27902 ; 5    |//
                            27903 ; 6    |// Filename: mp3metadata.h
                            27904 ; 7    |// Description: Includes header data for mp3 meta-data functions.
                            27905 ; 8    |///////////////////////////////////////////////////////////////////////////////
                            27906 ; 9    |
                            27907 ; 10   |#define READ_BUFFER_SIZE 156
                            27908 ; 11   |#define XING_BYTES_TO_READ 156
                            27909 ; 12   |#define VBR_BYTES_TO_READ 400   // must be less than READ_BUFFER_SIZE * 3
                            27910 ; 13   |#define MP3_BYTES_TO_READ 128
                            27911 ; 14   |#define ID3_BYTES_TO_READ 128
                            27912 ; 15   |#define MP3_FRAME_HEADER_BYTES_TO_READ 4
                            27913 ; 16   |#define FRAME_HEADER_SIZE 4
                            27914 ; 17   |#define FRAME_HEADER_PACKED 11
                            27915 ; 18   |
                            27916 ; 19   |// *************** XING Header Equates ************************
                            27917 ; 20   |// A Xing header may be present in the ancillary
                            27918 ; 21   |// data field of the first frame of an mp3 bitstream
                            27919 ; 22   |// The Xing header (optionally) contains
                            27920 ; 23   |//      frames      total number of audio frames in the bitstream
                            27921 ; 24   |//      bytes       total number of bytes in the bitstream
                            27922 ; 25   |//      toc         table of contents
                            27923 ; 26   |
                            27924 ; 27   |// toc (table of contents) gives seek points
                            27925 ; 28   |// for random access
                            27926 ; 29   |// the ith entry determines the seek point for
                            27927 ; 30   |// i-percent duration
                            27928 ; 31   |// seek point in bytes = (toc[i]/256.0) * total_bitstream_bytes
                            27929 ; 32   |// e.g. half duration seek point = (toc[50]/256.0) * total_bitstream_bytes
                            27930 ; 33   |
                            27931 ; 34   |#define FRAMES_FLAG     0x0001
                            27932 ; 35   |#define BYTES_FLAG      0x0002
                            27933 ; 36   |#define TOC_FLAG        0x0004
                            27934 ; 37   |#define VBR_SCALE_FLAG  0x0008
                            27935 ; 38   |#define FRAMES_AND_BYTES (FRAMES_FLAG | BYTES_FLAG)
                            27936 ; 39   |
                            27937 ; 40   |// Frame MPEG Versions (matches MP3 frame format)
                            27938 ; 41   |#define MPEGv2pt5    0x00
                            27939 ; 42   |#define MPEGvERROR   0x01
                            27940 ; 43   |#define MPEGv2       0x02
                            27941 ; 44   |#define MPEGv1       0x03
                            27942 ; 45   |// Frame Layer Info (matches MP3 frame format)
                            27943 ; 46   |#define LayerI   3  // seems backwards, but matches mp3 frame format
                            27944 ; 47   |#define LayerII  2
                            27945 ; 48   |#define LayerIII 1
                            27946 ; 49   |
                            27947 ; 50   |// Display selection on ID3V1 or ID3V2
                            27948 ; 51   |#define NO_TAG_SELECTED         0
                            27949 ; 52   |#define ID3V1_TAG_SELECTED      1
                            27950 ; 53   |#define ID3V2_TAG_SELECTED      2
                            27951 ; 54   |
                            27952 ; 55   |#define MP3L2_3FRAME_SIZE     1152    // Frame size for MPEG Layer 2 & 3 (# samples)
                            27953 ; 56   |#define MP3L1FRAME_SIZE       384     // Frame size for MPEG Layer 1
                            27954 ; 57   |#define MP3VBR_LOW_FRAME_SIZE 576     // Required constant for VBR - not sure where came from.
                            27955 ; 58   |
                            27956 ; 59   |
                            27957 ; 60   |// VBR
                            27958 ; 61   |#define MP3_FRAMES_TO_CHECK_VBR 100
                            27959 ; 62   |
                            27960 ; 63   |// structure to receive extracted header for Xing or VBR
                            27961 ; 64   |// VBRTable pointer may be NULL (but we're initializing it.)
                            27962 ; 65   |typedef struct {
                            27963 ; 66   |    WORD  VBRVersion;     // Version 0=MPEG2, 1=MPEG1
                            27964 ; 67   |    WORD  VBRSampleRate;  // Sample Rate from VBR frame
                            27965 ; 68   |    BYTE  VBRSignature;   // Xing or VBR
                            27966 ; 69   |    DWORD VBRStreamFrames;// total bit stream frames from Xing or VBR header
                            27967 ; 70   |    DWORD VBRStreamBytes; // total bit stream bytes from Xing or VBR header
                            27968 ; 71   |    WORD  VBRTableScale;  // Scale of Table (only for VBRi)
                            27969 ; 72   |    WORD  VBREntryBytes;  // Entry Bytes??
                            27970 ; 73   |    WORD  VBREntryFrames; // Entry Frames
                            27971 ; 74   |} VBR_HEADER_DATA;
                            27972 ; 75   |
                            27973 ; 76   |typedef struct {
                            27974 ; 77   |    WORD  VBRTableSize;   // Size of Table (100 for Xing, 200 for VBRi)
                            27975 ; 78   |    WORD  VBRTotalSeconds;// Total Seconds - max out at 4660 hrs.
                            27976 ; 79   |    WORD  VBRDurPerBin; // Duration per VBR Frame. x 128 for 2 digits of accuracy
                            27977 ; 80   |    WORD  * VBRTable;     // VBR Table
                            27978 ; 81   |} VBR_GLOBAL_HEADER_DATA;
                            27979 ; 82   |
                            27980 ; 83   |
                            27981 ; 84   |extern LONG         _Y Mp3DecoderStartFrameFilePosition;
                            27982 ; 85   |
                            27983 ; 86   |
                            27984 ; 87   |
                            27985 ; 88   |int SeekPoint(BYTE TOC[100], INT file_bytes, float percent);
                            27986 ; 89   |// return seekpoint in bytes (may be at eof if percent=100.0)
                            27987 ; 90   |// TOC = table of contents from Xing header
                            27988 ; 91   |// file_bytes = number of bytes in mp3 file
                            27989 ; 92   |// percent = play time percentage of total playtime. May be
                            27990 ; 93   |//           fractional (e.g. 87.245)
                            27991 ; 94   |
                            27992 ; 95   |INT _reentrant GetID3v1Tag(FILE_META_DATA * MetaData,_packed BYTE *buf);
                            27993 ; 96   |RETCODE _reentrant GetMp3FrameInfo(FILE_META_DATA * MetaData,INT iHandle);
                            27994 ; 97   |INT _reentrant ExtractMp3Frame(INT iHandle, WORD * wFrameBufferPacked, BYTE * btFrameUnpack);
                            27995 ; 98   |WORD _reentrant GetFrameLength(BYTE btMPEGVer,WORD wBitRate, WORD wSampRate, BYTE btPaddingBit, INT iLayer);
                            27996 ; 99   |INT _reentrant GetMp3Rates(BYTE btMPEGVer,BYTE btSampRate,BYTE btBitRate,INT iLayer, WORD *wSampRate,WORD *wBitRate);
                            27997 ; 100  |DWORD _reentrant ExtractI4(unsigned char *buf, INT i);  // stmp 6724  Change type from INT to DWORD to allow 4-byte storage
                            27998 ; 101  |RETCODE _reentrant GetMp3MetaData (INT PackedPathNameAddress, INT btCurrentDevice, FILE_META_DATA *MetaData);
                            27999 ; 102  |RETCODE _reentrant Mp3MetaDataReadID3V1(INT iHandle,FILE_META_DATA*pMetaData);
                            28000 ; 103  |
                            28001 ; 104  |RETCODE _reentrant ScanForFF(INT iHandle, WORD wThresholdMax, FILE_META_DATA*pMetaData);
                            28002 ; 105  |
                            28003 ; 106  |#endif
                            28004 
                            28006 
                            28007 ; 41   |#include "..\metadata\wavmetadata.h"
                            28008 
                            28010 
                            28011 ; 1    |///////////////////////////////////////////////////////////////////////////////
                            28012 ; 2    |// Copyright(C) SigmaTel, Inc. 2002
                            28013 ; 3    |//
                            28014 ; 4    |// Filename: wavmetadata.h
                            28015 ; 5    |// Description: Includes header data for wav meta-data functions.
                            28016 ; 6    |///////////////////////////////////////////////////////////////////////////////
                            28017 ; 7    |
                            28018 ; 8    |#define ADPCM_READ_BUFFER_SIZE 156
                            28019 ; 9    |
                            28020 ; 10   |
                            28021 ; 11   |/* WAVE form wFormatTag IDs */
                            28022 ; 12   |#define  WAVE_FORMAT_UNKNOWN    0x0000  /*  Microsoft Corporation  */
                            28023 ; 13   |#define  WAVE_FORMAT_PCM        0x0001  /* Microsoft PCM */
                            28024 ; 14   |#define  WAVE_FORMAT_ADPCM      0x0002  /*  Microsoft Corporation  */
                            28025 ; 15   |#define  WAVE_FORMAT_IBM_CVSD   0x0005  /*  IBM Corporation  */
                            28026 ; 16   |#define  WAVE_FORMAT_ALAW       0x0006  /*  Microsoft Corporation  */
                            28027 ; 17   |#define  WAVE_FORMAT_MULAW      0x0007  /*  Microsoft Corporation  */
                            28028 ; 18   |#define  WAVE_FORMAT_OKI_ADPCM  0x0010  /*  OKI  */
                            28029 ; 19   |#define  WAVE_FORMAT_DVI_ADPCM  0x0011  /*  Intel Corporation  */
                            28030 ; 20   |#define  WAVE_FORMAT_IMA_ADPCM  (WAVE_FORMAT_DVI_ADPCM) /*  Intel Corporation  */
                            28031 ; 21   |#define  WAVE_FORMAT_MEDIASPACE_ADPCM   0x0012  /*  Videologic  */
                            28032 ; 22   |#define  WAVE_FORMAT_SIERRA_ADPCM       0x0013  /*  Sierra Semiconductor Corp  */
                            28033 ; 23   |#define  WAVE_FORMAT_G723_ADPCM 0x0014  /*  Antex Electronics Corporation  */
                            28034 ; 24   |#define  WAVE_FORMAT_DIGISTD    0x0015  /*  DSP Solutions, Inc.  */
                            28035 ; 25   |#define  WAVE_FORMAT_DIGIFIX    0x0016  /*  DSP Solutions, Inc.  */
                            28036 ; 26   |#define  WAVE_FORMAT_DIALOGIC_OKI_ADPCM 0x0017  /*  Dialogic Corporation  */
                            28037 ; 27   |#define  WAVE_FORMAT_YAMAHA_ADPCM       0x0020  /*  Yamaha Corporation of America  */
                            28038 ; 28   |#define  WAVE_FORMAT_SONARC     0x0021  /*  Speech Compression  */
                            28039 ; 29   |#define  WAVE_FORMAT_DSPGROUP_TRUESPEECH        0x0022  /*  DSP Group, Inc  */
                            28040 ; 30   |#define  WAVE_FORMAT_ECHOSC1    0x0023  /*  Echo Speech Corporation  */
                            28041 ; 31   |#define  WAVE_FORMAT_AUDIOFILE_AF36     0x0024  /*    */
                            28042 ; 32   |#define  WAVE_FORMAT_APTX       0x0025  /*  Audio Processing Technology  */
                            28043 ; 33   |#define  WAVE_FORMAT_AUDIOFILE_AF10     0x0026  /*    */
                            28044 ; 34   |#define  WAVE_FORMAT_DOLBY_AC2  0x0030  /*  Dolby Laboratories  */
                            28045 ; 35   |#define  WAVE_FORMAT_GSM610     0x0031  /*  Microsoft Corporation  */
                            28046 ; 36   |#define  WAVE_FORMAT_ANTEX_ADPCME       0x0033  /*  Antex Electronics Corporation  */
                            28047 ; 37   |#define  WAVE_FORMAT_CONTROL_RES_VQLPC  0x0034  /*  Control Resources Limited  */
                            28048 ; 38   |#define  WAVE_FORMAT_DIGIREAL   0x0035  /*  DSP Solutions, Inc.  */
                            28049 ; 39   |#define  WAVE_FORMAT_DIGIADPCM  0x0036  /*  DSP Solutions, Inc.  */
                            28050 ; 40   |#define  WAVE_FORMAT_CONTROL_RES_CR10   0x0037  /*  Control Resources Limited  */
                            28051 ; 41   |#define  WAVE_FORMAT_NMS_VBXADPCM       0x0038  /*  Natural MicroSystems  */
                            28052 ; 42   |#define  WAVE_FORMAT_G721_ADPCM 0x0040  /*  Antex Electronics Corporation  */
                            28053 ; 43   |#define  WAVE_FORMAT_MPEG       0x0050  /*  Microsoft Corporation  */
                            28054 ; 44   |#define  WAVE_FORMAT_CREATIVE_ADPCM     0x0200  /*  Creative Labs, Inc  */
                            28055 ; 45   |#define  WAVE_FORMAT_CREATIVE_FASTSPEECH8       0x0202  /*  Creative Labs, Inc  */
                            28056 ; 46   |#define  WAVE_FORMAT_CREATIVE_FASTSPEECH10      0x0203  /*  Creative Labs, Inc  */
                            28057 ; 47   |#define  WAVE_FORMAT_FM_TOWNS_SND       0x0300  /*  Fujitsu Corp.  */
                            28058 ; 48   |#define  WAVE_FORMAT_OLIGSM     0x1000  /*  Ing C. Olivetti & C., S.p.A.  */
                            28059 ; 49   |#define  WAVE_FORMAT_OLIADPCM   0x1001  /*  Ing C. Olivetti & C., S.p.A.  */
                            28060 ; 50   |#define  WAVE_FORMAT_OLICELP    0x1002  /*  Ing C. Olivetti & C., S.p.A.  */
                            28061 ; 51   |#define  WAVE_FORMAT_OLISBC     0x1003  /*  Ing C. Olivetti & C., S.p.A.  */
                            28062 ; 52   |#define  WAVE_FORMAT_OLIOPR     0x1004  /*  Ing C. Olivetti & C., S.p.A.  */
                            28063 ; 53   |
                            28064 ; 54   |// Function Prototypes
                            28065 ; 55   |INT _reentrant GetRiffInfo(FILE_META_DATA * MetaData,  _packed BYTE *buf);
                            28066 ; 56   |RETCODE _reentrant GetWavMetaData (INT PackedPathNameAddress, INT btCurrentDevice, FILE_META_DATA *MetaData);
                            28067 ; 57   |#ifdef MOTION_VIDEO
                            28068 ; 58   |RETCODE _reentrant GetSMVMetaData(INT PackedPathNameAddress, INT btCurrentDevice, FILE_META_DATA * MetaData);
                            28069 ; 59   |#endif
                            28070 
                            28072 
                            28073 ; 42   |#include "..\metadata\wmametadata.h"
                            28074 
                            28076 
                            28077 ; 1    |#ifndef _WMAMETADATA_H
                            28078 ; 2    |#define _WMAMETADATA_H
                            28079 ; 3    |
                            28080 ; 4    |#define WMA_HEADER_OBJECT_HEADER_SIZE 30
                            28081 ; 5    |
                            28082 ; 6    |#define ASF_HEADER_GUID_0               0xb22630
                            28083 ; 7    |#define ASF_HEADER_GUID_1               0x668e75
                            28084 ; 8    |#define ASF_HEADER_GUID_2               0xa611cf
                            28085 ; 9    |#define ASF_HEADER_GUID_3               0xaa00d9
                            28086 ; 10   |#define ASF_HEADER_GUID_4               0xce6200
                            28087 ; 11   |#define ASF_HEADER_GUID_5               0x00006c
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page 109

M:ADDR CODE           CYCLES LINE SOURCELINE
                            28088 ; 12   |
                            28089 ; 13   |#define ASF_FILE_PROPERTIES_GUID_0      0xabdca1
                            28090 ; 14   |#define ASF_FILE_PROPERTIES_GUID_1      0xa9478c
                            28091 ; 15   |#define ASF_FILE_PROPERTIES_GUID_2      0x8e11cf
                            28092 ; 16   |#define ASF_FILE_PROPERTIES_GUID_3      0xc000e4
                            28093 ; 17   |#define ASF_FILE_PROPERTIES_GUID_4      0x53200c
                            28094 ; 18   |#define ASF_FILE_PROPERTIES_GUID_5      0x000065
                            28095 ; 19   |
                            28096 ; 20   |#define ASF_STREAM_PROPERTIES_GUID_0    0xdc0791
                            28097 ; 21   |#define ASF_STREAM_PROPERTIES_GUID_1    0xa9b7b7
                            28098 ; 22   |#define ASF_STREAM_PROPERTIES_GUID_2    0x8e11cf
                            28099 ; 23   |#define ASF_STREAM_PROPERTIES_GUID_3    0xc000e6
                            28100 ; 24   |#define ASF_STREAM_PROPERTIES_GUID_4    0x53200c
                            28101 ; 25   |#define ASF_STREAM_PROPERTIES_GUID_5    0x000065
                            28102 ; 26   |
                            28103 ; 27   |#define ASF_STREAM_BITRATE_GUID_0       0xf875ce
                            28104 ; 28   |#define ASF_STREAM_BITRATE_GUID_1       0x468d7b
                            28105 ; 29   |#define ASF_STREAM_BITRATE_GUID_2       0x8d11d1
                            28106 ; 30   |#define ASF_STREAM_BITRATE_GUID_3       0x600082
                            28107 ; 31   |#define ASF_STREAM_BITRATE_GUID_4       0xa2c997
                            28108 ; 32   |#define ASF_STREAM_BITRATE_GUID_5       0x0000b2
                            28109 ; 33   |
                            28110 ; 34   |#define ASF_CONTENT_DESCRIPTION_GUID_0  0xb22633
                            28111 ; 35   |#define ASF_CONTENT_DESCRIPTION_GUID_1  0x668e75
                            28112 ; 36   |#define ASF_CONTENT_DESCRIPTION_GUID_2  0xa611cf
                            28113 ; 37   |#define ASF_CONTENT_DESCRIPTION_GUID_3  0xaa00d9
                            28114 ; 38   |#define ASF_CONTENT_DESCRIPTION_GUID_4  0xce6200
                            28115 ; 39   |#define ASF_CONTENT_DESCRIPTION_GUID_5  0x00006c
                            28116 ; 40   |
                            28117 ; 41   |#define ASF_EXTENDED_CONTENT_GUID_0     0xd0a440
                            28118 ; 42   |#define ASF_EXTENDED_CONTENT_GUID_1     0xe307d2
                            28119 ; 43   |#define ASF_EXTENDED_CONTENT_GUID_2     0x9711d2
                            28120 ; 44   |#define ASF_EXTENDED_CONTENT_GUID_3     0xa000f0
                            28121 ; 45   |#define ASF_EXTENDED_CONTENT_GUID_4     0xa85ec9
                            28122 ; 46   |#define ASF_EXTENDED_CONTENT_GUID_5     0x000050
                            28123 ; 47   |
                            28124 ; 48   |#define ASF_AUDIO_MEDIA_GUID_0          0x699e40
                            28125 ; 49   |#define ASF_AUDIO_MEDIA_GUID_1          0x5b4df8
                            28126 ; 50   |#define ASF_AUDIO_MEDIA_GUID_2          0xa811cf
                            28127 ; 51   |#define ASF_AUDIO_MEDIA_GUID_3          0x8000fd
                            28128 ; 52   |#define ASF_AUDIO_MEDIA_GUID_4          0x445c5f
                            28129 ; 53   |#define ASF_AUDIO_MEDIA_GUID_5          0x00002b
                            28130 ; 54   |
                            28131 ; 55   |#ifdef JANUS
                            28132 ; 56   |#define ASF_CONTENT_ENCRYPTION_GUID_0  0x8ae614
                            28133 ; 57   |#define ASF_CONTENT_ENCRYPTION_GUID_1  0x262229
                            28134 ; 58   |#define ASF_CONTENT_ENCRYPTION_GUID_2  0xb94c17
                            28135 ; 59   |#define ASF_CONTENT_ENCRYPTION_GUID_3  0xe0da35
                            28136 ; 60   |#define ASF_CONTENT_ENCRYPTION_GUID_4  0x28e97e
                            28137 ; 61   |#define ASF_CONTENT_ENCRYPTION_GUID_5  0x00009c
                            28138 ; 62   |#endif
                            28139 ; 63   |
                            28140 ; 64   |
                            28141 ; 65   |enum Descriptor_Value_Data_Type {
                            28142 ; 66   |    TYPE_UNICODE,
                            28143 ; 67   |    TYPE_BYTEARRAY,
                            28144 ; 68   |    TYPE_BOOL,
                            28145 ; 69   |    TYPE_DWORD,
                            28146 ; 70   |    TYPE_QWORD,
                            28147 ; 71   |    TYPE_WORD
                            28148 ; 72   |};
                            28149 ; 73   |
                            28150 ; 74   |
                            28151 ; 75   |RETCODE _reentrant GetWmaMetaData (INT PackedPathNameAddress, INT btCurrentDevice, FILE_META_DATA *MetaData);
                            28152 ; 76   |
                            28153 ; 77   |#endif
                            28154 
                            28156 
                            28157 ; 43   |#include "sdmd.h"
                            28158 
                            28160 
                            28161 ; 1    |/*==================================================================================================
                            28162 ; 2    |
                            28163 ; 3    |                                         MODULE DESCRIPTION
                            28164 ; 4    |
                            28165 ; 5    |====================================================================================================
                            28166 ; 6    |                               Sigmatel Inc Confidential Proprietary
                            28167 ; 7    |                               (c) Copyright Sigmatel Inc 2005, All Rights Reserved
                            28168 ; 8    |
                            28169 ; 9    |MODULE NAME: sdmd.h        AUTHOR:      CREATION DATE:03/02/2005
                            28170 ; 10   |
                            28171 ; 11   |PRODUCT NAMES: All
                            28172 ; 12   |
                            28173 ; 13   |GENERAL DESCRIPTION:
                            28174 ; 14   |
                            28175 ; 15   |   SD Card Modification Detection
                            28176 ; 16   |
                            28177 ; 17   |Portability: All
                            28178 ; 18   |
                            28179 ; 19   |
                            28180 ; 20   |Revision History:
                            28181 ; 21   |
                            28182 ; 22   |                         Modification        Tracking
                            28183 ; 23   |Author                       Date             Number           Description of Changes
                            28184 ; 24   |---------------------    ------------        ----------        -------------------------------------
                            28185 ; 25   |
                            28186 ; 26   |*/
                            28187 ; 27   |
                            28188 ; 28   |#ifndef __SDMD_H__
                            28189 ; 29   |#define __SDMD_H__
                            28190 ; 30   |
                            28191 ; 31   |/*==================================================================================================
                            28192 ; 32   |                                           INCLUDE FILES
                            28193 ; 33   |==================================================================================================*/
                            28194 ; 34   |#include "types.h"
                            28195 
                            28197 
                            28198 ; 1    |////////////////////////////////////////////////////////////////////////////////
                            28199 ; 2    |// Copyright(C) SigmaTel, Inc. 2000-2004
                            28200 ; 3    |//
                            28201 ; 4    |// Filename: types.h
                            28202 ; 5    |// Description: Standard data types
                            28203 ; 6    |////////////////////////////////////////////////////////////////////////////////
                            28204 ; 7    |
                            28205 ; 8    |#ifndef _TYPES_H
                            28206 ; 9    |#define _TYPES_H
                            28207 ; 10   |
                            28208 ; 11   |// TODO:  move this outta here!
                            28209 ; 12   |#if !defined(NOERROR)
                            28210 ; 13   |#define NOERROR 0
                            28211 ; 14   |#define SUCCESS 0
                            28212 ; 15   |#endif 
                            28213 ; 16   |#if !defined(SUCCESS)
                            28214 ; 17   |#define SUCCESS  0
                            28215 ; 18   |#endif
                            28216 ; 19   |#if !defined(ERROR)
                            28217 ; 20   |#define ERROR   -1
                            28218 ; 21   |#endif
                            28219 ; 22   |#if !defined(FALSE)
                            28220 ; 23   |#define FALSE 0
                            28221 ; 24   |#endif
                            28222 ; 25   |#if !defined(TRUE)
                            28223 ; 26   |#define TRUE  1
                            28224 ; 27   |#endif
                            28225 ; 28   |
                            28226 ; 29   |#if !defined(NULL)
                            28227 ; 30   |#define NULL 0
                            28228 ; 31   |#endif
                            28229 ; 32   |
                            28230 ; 33   |#define MAX_INT     0x7FFFFF
                            28231 ; 34   |#define MAX_LONG    0x7FFFFFffffff
                            28232 ; 35   |        // max positive unsigned long value: -1 == 0xFFFFFFffffff
                            28233 ; 36   |#define MAX_ULONG   (-1) 
                            28234 ; 37   |
                            28235 ; 38   |#define WORD_SIZE   24              // word size in bits
                            28236 ; 39   |#define BYTES_PER_WORD 3            // 8 bit bytes
                            28237 ; 40   |
                            28238 ; 41   |
                            28239 ; 42   |#define BYTE    unsigned char       // btVarName
                            28240 ; 43   |#define CHAR    signed char         // cVarName
                            28241 ; 44   |#define USHORT  unsigned short      // usVarName
                            28242 ; 45   |#define SHORT   unsigned short      // sVarName
                            28243 ; 46   |#define WORD    unsigned int        // wVarName
                            28244 ; 47   |#define INT     signed int          // iVarName
                            28245 ; 48   |#define DWORD   unsigned long       // dwVarName
                            28246 ; 49   |#define LONG    signed long         // lVarName
                            28247 ; 50   |#define BOOL    unsigned int        // bVarName
                            28248 ; 51   |#define FRACT   _fract              // frVarName
                            28249 ; 52   |#define LFRACT  long _fract         // lfrVarName
                            28250 ; 53   |#define CIRC    _circ               // cp<type prefix>VarName (see below)
                            28251 ; 54   |#define FLOAT   float               // fVarName
                            28252 ; 55   |#define DBL     double              // dVarName
                            28253 ; 56   |#define ENUM    enum                // eVarName
                            28254 ; 57   |#define CMX     _complex            // cmxVarName
                            28255 ; 58   |typedef WORD UCS3;                   // 
                            28256 ; 59   |
                            28257 ; 60   |#define UINT16  unsigned short
                            28258 ; 61   |#define UINT8   unsigned char   
                            28259 ; 62   |#define UINT32  unsigned long
                            28260 ; 63   |#define UINT64  unsigned long   // need to figure out how to do 64 bit values.  Or port exisiting code to only use 48 bit
                            28261 ; 64   |#define INT64   unsigned long   // need to figure out how to do 64 bit values.  Or port exisiting code to only use 48 bit
                            28262 ; 65   |#define WCHAR   UINT16
                            28263 ; 66   |
                            28264 ; 67   |//UINT128 is 16 bytes or 6 words
                            28265 ; 68   |typedef struct UINT128_3500 {   
                            28266 ; 69   |    int val[6];     
                            28267 ; 70   |} UINT128_3500;
                            28268 ; 71   |
                            28269 ; 72   |#define UINT128   UINT128_3500
                            28270 ; 73   |
                            28271 ; 74   |// Little endian word packed byte strings:   
                            28272 ; 75   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                            28273 ; 76   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                            28274 ; 77   |// Little endian word packed byte strings:   
                            28275 ; 78   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                            28276 ; 79   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                            28277 ; 80   |
                            28278 ; 81   |// Declare Memory Spaces To Use When Coding
                            28279 ; 82   |// A. Sector Buffers
                            28280 ; 83   |#define SECTOR_BUFFER_MEM_X _X
                            28281 ; 84   |#define SECTOR_BUFFER_MEM_Y _Y
                            28282 ; 85   |#define SECTOR_BUFFER_MEM SECTOR_BUFFER_MEM_X
                            28283 ; 86   |typedef WORD SECTOR_BUFFER_MEM SECTOR_BUFFER;
                            28284 ; 87   |typedef SECTOR_BUFFER * P_SECTOR_BUFFER;
                            28285 ; 88   |// B. Media DDI Memory
                            28286 ; 89   |#define MEDIA_DDI_MEM _Y
                            28287 ; 90   |
                            28288 ; 91   |
                            28289 ; 92   |
                            28290 ; 93   |// Pointers to linear structures are labeled as: p<type prefix>VarName
                            28291 ; 94   |// Examples of circular pointers:
                            28292 ; 95   |//    INT CIRC cpiVarName
                            28293 ; 96   |//    DWORD CIRC cpdwVarName
                            28294 ; 97   |
                            28295 ; 98   |#define RETCODE INT                 // rcVarName
                            28296 ; 99   |
                            28297 ; 100  |// generic bitfield structure
                            28298 ; 101  |struct Bitfield {
                            28299 ; 102  |    unsigned int B0  :1;
                            28300 ; 103  |    unsigned int B1  :1;
                            28301 ; 104  |    unsigned int B2  :1;
                            28302 ; 105  |    unsigned int B3  :1;
                            28303 ; 106  |    unsigned int B4  :1;
                            28304 ; 107  |    unsigned int B5  :1;
                            28305 ; 108  |    unsigned int B6  :1;
                            28306 ; 109  |    unsigned int B7  :1;
                            28307 ; 110  |    unsigned int B8  :1;
                            28308 ; 111  |    unsigned int B9  :1;
                            28309 ; 112  |    unsigned int B10 :1;
                            28310 ; 113  |    unsigned int B11 :1;
                            28311 ; 114  |    unsigned int B12 :1;
                            28312 ; 115  |    unsigned int B13 :1;
                            28313 ; 116  |    unsigned int B14 :1;
                            28314 ; 117  |    unsigned int B15 :1;
                            28315 ; 118  |    unsigned int B16 :1;
                            28316 ; 119  |    unsigned int B17 :1;
                            28317 ; 120  |    unsigned int B18 :1;
                            28318 ; 121  |    unsigned int B19 :1;
                            28319 ; 122  |    unsigned int B20 :1;
                            28320 ; 123  |    unsigned int B21 :1;
                            28321 ; 124  |    unsigned int B22 :1;
                            28322 ; 125  |    unsigned int B23 :1;
                            28323 ; 126  |};
                            28324 ; 127  |
                            28325 ; 128  |union BitInt {
                            28326 ; 129  |        struct Bitfield B;
                            28327 ; 130  |        int        I;
                            28328 ; 131  |};
                            28329 ; 132  |
                            28330 ; 133  |#define MAX_MSG_LENGTH 10
                            28331 ; 134  |struct CMessage
                            28332 ; 135  |{
                            28333 ; 136  |        unsigned int m_uLength;
                            28334 ; 137  |        unsigned int m_uMsg[MAX_MSG_LENGTH];
                            28335 ; 138  |};
                            28336 ; 139  |
                            28337 ; 140  |typedef struct {
                            28338 ; 141  |    WORD m_wLength;
                            28339 ; 142  |    WORD m_wMessage;
                            28340 ; 143  |    WORD m_wParams[MAX_MSG_LENGTH];
                            28341 ; 144  |} Message;
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page 110

M:ADDR CODE           CYCLES LINE SOURCELINE
                            28342 ; 145  |
                            28343 ; 146  |struct MessageQueueDescriptor
                            28344 ; 147  |{
                            28345 ; 148  |        int *m_pBase;
                            28346 ; 149  |        int m_iModulo;
                            28347 ; 150  |        int m_iSize;
                            28348 ; 151  |        int *m_pHead;
                            28349 ; 152  |        int *m_pTail;
                            28350 ; 153  |};
                            28351 ; 154  |
                            28352 ; 155  |struct ModuleEntry
                            28353 ; 156  |{
                            28354 ; 157  |    int m_iSignaledEventMask;
                            28355 ; 158  |    int m_iWaitEventMask;
                            28356 ; 159  |    int m_iResourceOfCode;
                            28357 ; 160  |    struct MessageQueueDescriptor *m_pMessageQueue;
                            28358 ; 161  |    int _asmfunc (*m_pProcessEntryPoint)(union WaitMask Signals,struct MessageQueueDescriptor *);
                            28359 ; 162  |    int _asmfunc (*m_pInitFunction)(struct MessageQueueDescriptor *);
                            28360 ; 163  |    int m_uTimeOutHigh;
                            28361 ; 164  |    int m_uTimeOutLow;
                            28362 ; 165  |    int _asmfunc (*m_pBackgroundFunction)(struct MessageQueueDescriptor *);
                            28363 ; 166  |};
                            28364 ; 167  |
                            28365 ; 168  |union WaitMask{
                            28366 ; 169  |    struct B{
                            28367 ; 170  |        unsigned int m_bNone     :1;
                            28368 ; 171  |        unsigned int m_bMessage  :1;
                            28369 ; 172  |        unsigned int m_bTimer    :1;
                            28370 ; 173  |        unsigned int m_bButton   :1;
                            28371 ; 174  |    } B;
                            28372 ; 175  |    int I;
                            28373 ; 176  |} ;
                            28374 ; 177  |
                            28375 ; 178  |
                            28376 ; 179  |struct Button {
                            28377 ; 180  |        WORD wButtonEvent;
                            28378 ; 181  |        WORD wUnused[MAX_MSG_LENGTH];   
                            28379 ; 182  |};
                            28380 ; 183  |
                            28381 ; 184  |struct Message {
                            28382 ; 185  |        WORD wMsgLength;
                            28383 ; 186  |        WORD wMsgCommand;
                            28384 ; 187  |        WORD wMsgParms[MAX_MSG_LENGTH-1];
                            28385 ; 188  |};
                            28386 ; 189  |
                            28387 ; 190  |union EventTypes {
                            28388 ; 191  |        struct CMessage msg;
                            28389 ; 192  |        struct Button Button ;
                            28390 ; 193  |        struct Message Message;
                            28391 ; 194  |};
                            28392 ; 195  |
                            28393 ; 196  |// next 2 used to get updater build to return correct protocol ver in scsi response.
                            28394 ; 197  |#define BUILD_TYPE_UPDATER  0x100
                            28395 ; 198  |#define BUILD_TYPE_HOSTLINK 0x101
                            28396 ; 199  |#define BUILD_TYPE_PLAYER   0x102
                            28397 ; 200  |
                            28398 ; 201  |// Resets part if RETAIL build. DEBUG build executes debug instruction to halt.
                            28399 ; 202  |#define SystemHalt() __asm(" include 'sysmacro.asm' \n error") 
                            28400 ; 203  |#define assert(x)    if(!(x)) __asm(" include 'sysmacro.asm' \n error")
                            28401 ; 204  |
                            28402 ; 205  |#if DEBUG
                            28403 ; 206  |// For DEBUG builds, DebugBuildAssert(condition) halts if condition evaluates to FALSE. 
                            28404 ; 207  |#define DebugBuildAssert(x)    if(!(x)) __asm(" debug ")
                            28405 ; 208  |#else 
                            28406 ; 209  |// For RETAIL builds, DebugBuildAssert(condition) does nothing & execution continues rather than halt or reset. 
                            28407 ; 210  |#define DebugBuildAssert(x)    
                            28408 ; 211  |#endif
                            28409 ; 212  |
                            28410 ; 213  |// Do this in your C files to make a reminder that's displayed during the build.
                            28411 ; 214  |//  #pragma asm
                            28412 ; 215  |//  WARN 'Note to builder: reminder to do this after verifying that'
                            28413 ; 216  |//  #pragma endasm
                            28414 ; 217  |
                            28415 ; 218  |
                            28416 ; 219  |#ifdef COLOR_262K
                            28417 ; 220  |#define RGB(r,g,b)    ((0x0000FC & (r)) << 10) | ((0x0000FC & (g)) << 4) | ((0x0000FC & (b)) >> 2)    //262k
                            28418 ; 221  |#elif defined(COLOR_65K)
                            28419 ; 222  |#define RGB(r,g,b)    ((0x0000F8 & (r)) << 8) | ((0x0000FC & (g)) << 3) | ((0x0000F8 & (b)) >> 3)  //65k
                            28420 ; 223  |#else
                            28421 ; 224  |#define RGB(r,g,b)       ((0x0000F0 & (r)) << 4) | (0x0000F0 & (g)) | ((0x0000F0 & (b)) >> 4)
                            28422 ; 225  |#endif
                            28423 ; 226  |    
                            28424 ; 227  |#endif // #ifndef _TYPES_H
                            28425 
                            28427 
                            28428 ; 35   |#include "platform.h"
                            28429 
                            28431 
                            28432 ; 1    |// Plafform API
                            28433 ; 2    |
                            28434 ; 3    |extern void EnterNonReentrantSection(void);
                            28435 ; 4    |extern void LeaveNonReentrantSection(void);
                            28436 ; 5    |
                            28437 ; 6    |extern INT FSGetByte(void *buffer, INT Offset,INT MemoryType);
                            28438 ; 7    |extern INT FSGetWord(void *buffer, INT Offset,INT MemoryType);
                            28439 ; 8    |extern LONG FSGetDWord(void *buffer, INT Offset,INT MemoryType);
                            28440 ; 9    |extern void FsCopyBuffer(void *Dest_Buffer,INT Dest_Offset,void *Source_Buffer,INT Source_Offset,INT Size,INT Source_MemoryType,INT Dest_MemoryType,INT Dest_modulo,INT SourceModule);
                            28441 ; 10   |extern void PutByte(void *buffer, INT byte,INT Offset ,INT MemoryType);
                            28442 ; 11   |extern void PutWord(void *buffer, INT word, INT Offset,INT MemoryType);
                            28443 ; 12   |extern void PutDword(void *buffer,  LONG dword,INT Offset,INT MemoryType);
                            28444 ; 13   |extern LONG GetDWordY(void *buffer, INT Offset,INT MemoryType);
                            28445 
                            28447 
                            28448 ; 36   |
                            28449 ; 37   |/*==================================================================================================
                            28450 ; 38   |                                           TYPE DEFINITION
                            28451 ; 39   |==================================================================================================*/
                            28452 ; 40   |typedef struct sdmd_dir_s {
                            28453 ; 41   |        long    CurrentCluster;
                            28454 ; 42   |        int     SectorIndex;
                            28455 ; 43   |        int     EntryIndex;
                            28456 ; 44   |} sdmd_dir_t;
                            28457 ; 45   |
                            28458 ; 46   |/*==================================================================================================
                            28459 ; 47   |                                           EXTERN FUNCTION
                            28460 ; 48   |==================================================================================================*/
                            28461 ; 49   |
                            28462 ; 50   |extern _reentrant void sdmd_InitHash(void);
                            28463 ; 51   |extern _reentrant RETCODE sdmd_GetBufferHash (INT DeviceNum, LONG Sector);
                            28464 ; 52   |extern _reentrant RETCODE sdmd_GetDirHash (INT DeviceNum, LONG Cluster);
                            28465 ; 53   |extern _reentrant LONG sdmd_RootDirHash (INT DeviceNum);
                            28466 ; 54   |extern _reentrant RETCODE sdmd_GenerateHash (INT DeviceNum);
                            28467 ; 55   |extern RETCODE _reentrant sdmd_CompareHash (INT DeviceNum, INT b, INT* pPtr);
                            28468 ; 56   |extern RETCODE _reentrant sdmd_UpdateHash (INT DeviceNum, INT b, INT* pPtr);
                            28469 ; 57   |
                            28470 ; 58   |#endif /* __SDMD_H__ */
                            28471 
                            28473 
                            28474 ; 44   |#include "musiclib_ghdr.h"
                            28475 
                            28477 
                            28478 ; 1    |#ifndef MUSICLIB_GHDR_H
                            28479 ; 2    |#define MUSICLIB_GHDR_H
                            28480 ; 3    |
                            28481 ; 4    |#ifdef __cplusplus
                            28482 ; 5    |extern "C" {
                            28483 ; 6    |#endif
                            28484 ; 7    |
                            28485 ; 8    |/*==================================================================================================
                            28486 ; 9    |
                            28487 ; 10   |                                        General Description
                            28488 ; 11   |
                            28489 ; 12   |====================================================================================================
                            28490 ; 13   |
                            28491 ; 14   |                               Sigmatel Inc Confidential Proprietary
                            28492 ; 15   |                               (c) Copyright Sigmatel Inc 2004, All Rights Reserved
                            28493 ; 16   |
                            28494 ; 17   |HEADER NAME: mf_sf_filename.h   AUTHOR: Developer Name      CREATION DATE: DD/MM/YYYY
                            28495 ; 18   |
                            28496 ; 19   |PRODUCT NAMES: All
                            28497 ; 20   |
                            28498 ; 21   |GENERAL DESCRIPTION:
                            28499 ; 22   |
                            28500 ; 23   |    General description of this grouping of functions.
                            28501 ; 24   |
                            28502 ; 25   |Portability: All
                            28503 ; 26   |
                            28504 ; 27   |
                            28505 ; 28   |Revision History:
                            28506 ; 29   |
                            28507 ; 30   |                         Modification        Tracking
                            28508 ; 31   |Author                       Date             Number           Description of Changes
                            28509 ; 32   |---------------------    ------------        ----------        -------------------------------------
                            28510 ; 33   |Developer Name            DD/MM/YYYY         PDaaaxxxxx        brief description of changes made
                            28511 ; 34   |
                            28512 ; 35   |
                            28513 ; 36   |====================================================================================================
                            28514 ; 37   |                                            DESCRIPTION
                            28515 ; 38   |====================================================================================================
                            28516 ; 39   |
                            28517 ; 40   |GLOBAL FUNCTIONS:
                            28518 ; 41   |    MF_global_func_name()
                            28519 ; 42   |
                            28520 ; 43   |TRACEABILITY MATRIX:
                            28521 ; 44   |    None
                            28522 ; 45   |
                            28523 ; 46   |==================================================================================================*/
                            28524 ; 47   |
                            28525 ; 48   |/*==================================================================================================
                            28526 ; 49   |                                                                Conditional Compilation Directives
                            28527 ; 50   |==================================================================================================*/
                            28528 ; 51   |#ifdef WIN32
                            28529 ; 52   |#define _PC_SIMULATION_
                            28530 ; 53   |#else
                            28531 ; 54   |#define _RUNNING_IN_EMBEDDED_
                            28532 ; 55   |#endif  // WIN32
                            28533 ; 56   |
                            28534 ; 57   |#if 1
                            28535 ; 58   |#define _NEWMUSIC_      /* install new music list */
                            28536 ; 59   |#endif
                            28537 ; 60   |
                            28538 ; 61   |#if 1
                            28539 ; 62   |#define _AUDIBLE_       /* install audible list */
                            28540 ; 63   |#endif
                            28541 ; 64   |
                            28542 ; 65   |#if 1
                            28543 ; 66   |#define _ONTHEGO_       /* install on the go list */
                            28544 ; 67   |#endif
                            28545 ; 68   |
                            28546 ; 69   |#ifdef PL3_FB
                            28547 ; 70   |#define _FOLDER_BROWSE_ // install folder browsing
                            28548 ; 71   |#endif
                            28549 ; 72   |
                            28550 ; 73   |#if 1
                            28551 ; 74   |#define _SUPPORT_2000_SONGS_
                            28552 ; 75   |#endif
                            28553 ; 76   |
                            28554 ; 77   |/*==================================================================================================
                            28555 ; 78   |                                           INCLUDE FILES
                            28556 ; 79   |==================================================================================================*/
                            28557 ; 80   |#ifdef _RUNNING_IN_EMBEDDED_
                            28558 ; 81   |#define OEM_SEEK_CUR    SEEK_CUR
                            28559 ; 82   |#define OEM_SEEK_SET    SEEK_SET
                            28560 ; 83   |#define OEM_SEEK_END    SEEK_END
                            28561 ; 84   |#else
                            28562 ; 85   |#define _X
                            28563 ; 86   |#define _Y
                            28564 ; 87   |#define _packed
                            28565 ; 88   |
                            28566 ; 89   |#define _asmfunc
                            28567 ; 90   |#define _reentrant
                            28568 ; 91   |
                            28569 ; 92   |#define OEM_SEEK_CUR    1
                            28570 ; 93   |#define OEM_SEEK_SET    0
                            28571 ; 94   |#define OEM_SEEK_END    2
                            28572 ; 95   |#endif  // _RUNNING_IN_EMBEDDED_
                            28573 ; 96   |
                            28574 ; 97   |#include "types.h"
                            28575 ; 98   |#include "exec.h"
                            28576 ; 99   |#include "messages.h"
                            28577 ; 100  |#include "project.h"
                            28578 ; 101  |
                            28579 ; 102  |/*==================================================================================================
                            28580 ; 103  |                                             CONSTANTS
                            28581 ; 104  |==================================================================================================*/
                            28582 ; 105  |/* The bit mask for 2 bits Unicode Flag selection in "uint8 unicode".
                            28583 ; 106  |Variable Represented            Bits used in "uint8 unicode"
                            28584 ; 107  |Artistname                              1:0
                            28585 ; 108  |Albumname                               3:2
                            28586 ; 109  |Genrename                               5:4
                            28587 ; 110  |Songname                                7:6
                            28588 ; 111  |----------------------------------------------------------
                            28589 ; 112  |    Value (2 bits)                      Meanings
                            28590 ; 113  |    0                                   RAW and All ASCII
                            28591 ; 114  |    1                                   Uni-code
                            28592 ; 115  |    2                                   Mixed, non-unicode
                            28593 ; 116  |
                            28594 ; 117  |    3(Genre only)               Genre is ID3v1 spec=>number
                            28595 ; 118  |*/
                            28596 ; 119  |#define BITMASK_ARTIST  (0x03)
                            28597 ; 120  |#define BITMASK_ALBUM   (0x0C)
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page 111

M:ADDR CODE           CYCLES LINE SOURCELINE
                            28598 ; 121  |#define BITMASK_GENRE   (0x30)
                            28599 ; 122  |#define BITMASK_SONG    (0xC0)
                            28600 ; 123  |
                            28601 ; 124  |#define BITCHK_ARTIST_ALLASCII  (0x0)
                            28602 ; 125  |#define BITCHK_ALBUM_ALLASCII   (0x0)
                            28603 ; 126  |#define BITCHK_GENRE_ALLASCII   (0x0)
                            28604 ; 127  |#define BITCHK_SONG_ALLASCII    (0x0)
                            28605 ; 128  |
                            28606 ; 129  |#define BITCHK_ARTIST_UNICODE   (0x01)
                            28607 ; 130  |#define BITCHK_ALBUM_UNICODE    (0x04)
                            28608 ; 131  |#define BITCHK_GENRE_UNICODE    (0x10)
                            28609 ; 132  |#define BITCHK_SONG_UNICODE             (0x40)
                            28610 ; 133  |
                            28611 ; 134  |#define BITCHK_ARTIST_MIXCODE   (0x02)
                            28612 ; 135  |#define BITCHK_ALBUM_MIXCODE    (0x08)
                            28613 ; 136  |#define BITCHK_GENRE_MIXCODE    (0x20)
                            28614 ; 137  |#define BITCHK_SONG_MIXCODE             (0x80)
                            28615 ; 138  |
                            28616 ; 139  |#define BITCHK_GENRE_ID3V1              (0x30)
                            28617 ; 140  |
                            28618 ; 141  |#define UNKNOWN_YEAR_CODE               (1)     /* set a very large number */
                            28619 ; 142  |
                            28620 ; 143  |#define INDEX_EOF       0xFFF
                            28621 ; 144  |#ifdef _FOLDER_BROWSE_
                            28622 ; 145  |#define INDEX_ROOT  0xffe
                            28623 ; 146  |#define UNKNOWN_RECORD  0xfff
                            28624 ; 147  |#endif  // _FOLDER_BROWSE_
                            28625 ; 148  |
                            28626 ; 149  |/* Constant for item_type */
                            28627 ; 150  |#define         ITEM_ARTIST                     0
                            28628 ; 151  |#define         ITEM_ALBUM                      1
                            28629 ; 152  |#define         ITEM_GENRE                      2
                            28630 ; 153  |#define         ITEM_TRACK                      3
                            28631 ; 154  |#define         ITEM_YEAR                       4
                            28632 ; 155  |#define         ITEM_SONG_INFO_ARTIST   5
                            28633 ; 156  |#define         ITEM_SONG_INFO_ALBUM    6
                            28634 ; 157  |#define         ITEM_SONG_INFO_GENRE    7
                            28635 ; 158  |#define         ITEM_SONG_INFO_YEAR             9
                            28636 ; 159  |#ifdef _NEWMUSIC_
                            28637 ; 160  |#define         ITEM_1DAY                       10
                            28638 ; 161  |#define         ITEM_1WEEK                      11
                            28639 ; 162  |#define         ITEM_1MONTH                     12
                            28640 ; 163  |#endif
                            28641 ; 164  |#ifdef _AUDIBLE_
                            28642 ; 165  |#define         ITEM_AUDIBLE            13
                            28643 ; 166  |#endif
                            28644 ; 167  |#define         ITEM_ON_THE_GO          14
                            28645 ; 168  |
                            28646 ; 169  |#define         ITEM_VOICE                      15
                            28647 ; 170  |#define         ITEM_FMREC                      16
                            28648 ; 171  |#define         ITEM_PHOTO                      17
                            28649 ; 172  |#ifdef _FOLDER_BROWSE_
                            28650 ; 173  |#define         ITEM_INTERNAL           18
                            28651 ; 174  |#define         ITEM_EXTERNAL       19
                            28652 ; 175  |#endif  // _FOLDER_BROWSE_
                            28653 ; 176  |#define     ITEM_UNKNOWN        0xff
                            28654 ; 177  |
                            28655 ; 178  |/*
                            28656 ; 179  |input parameter for void ML_AddEntryToLibrary(uint24 Media_type, RAM_SONG_INFO_T *song_info, int16 option);
                            28657 ; 180  |option input.
                            28658 ; 181  |*/
                            28659 ; 182  |#define         ADD_OPTION_MUSIC        (0x00)
                            28660 ; 183  |#define         ADD_OPTION_VOICE        (0x01)
                            28661 ; 184  |#define         ADD_OPTION_AUDIBLE      (0x02)
                            28662 ; 185  |#ifdef _FOLDER_BROWSE_
                            28663 ; 186  |#define     ADD_OPTION_DIR      (0x03)
                            28664 ; 187  |#endif  // _FOLDER_BROWSE_
                            28665 ; 188  |
                            28666 ; 189  |/* Constant for key action */
                            28667 ; 190  |#define         ACTION_OK                               0               /* Press OK button */
                            28668 ; 191  |#define         ACTION_BACK                             1               /* Press BACK button */
                            28669 ; 192  |#define         ACTION_UP                               2               /* Press UP button */
                            28670 ; 193  |#define         ACTION_DOWN                             3               /* Press DOWN button */
                            28671 ; 194  |#define         ACTION_PLAYALL                  4               /* Play All function */
                            28672 ; 195  |#define         ACTION_MENU                             5               /* Back the browsing tree to root */
                            28673 ; 196  |
                            28674 ; 197  |#define     PLAYMODE_CURRENT_PLAYMODE_BITPOS    0
                            28675 ; 198  |#define     PLAYMODE_LAST_PLAYMODE_BITPOS       1
                            28676 ; 199  |#define     PLAYMODE_REPEAT_BITPOS              2
                            28677 ; 200  |#define     PLAYMODE_MEDIA_BITPOS               3
                            28678 ; 201  |
                            28679 ; 202  |#define         NO_SD                                   0
                            28680 ; 203  |#define         HAS_SD                                  1
                            28681 ; 204  |
                            28682 ; 205  |#define         PLAY_NORMAL                             0
                            28683 ; 206  |#define         PLAY_SHUFFLE                    1
                            28684 ; 207  |
                            28685 ; 208  |#define     PLAY_REPEAT_OFF         0
                            28686 ; 209  |#define     PLAY_REPEAT_ON          1
                            28687 ; 210  |
                            28688 ; 211  |#define     PLAY_SELECT_FLASH       0
                            28689 ; 212  |#define     PLAY_SELECT_SD          1
                            28690 ; 213  |
                            28691 ; 214  |#define         SHUFFLE_NEXT_SONG                       0
                            28692 ; 215  |#define         SHUFFLE_PREVIOUS_SONG       1
                            28693 ; 216  |
                            28694 ; 217  |#define         ON_THE_GO_EXIST                 0
                            28695 ; 218  |#define         ON_THE_GO_FULL                  1
                            28696 ; 219  |#define         ON_THE_GO_FREE                  2
                            28697 ; 220  |#define         ON_THE_GO_DEL_PLAYING   3
                            28698 ; 221  |#define         ON_THE_GO_DEL_SMALLER_ID    4
                            28699 ; 222  |
                            28700 ; 223  |#define         REC_VOICE_TYPE                  0
                            28701 ; 224  |#define         REC_FMREC_TYPE                  1
                            28702 ; 225  |#define         REC_PHOTO_TYPE                  2
                            28703 ; 226  |#define         VOICE_FILE_ADD                  0
                            28704 ; 227  |#define         VOICE_FILE_DEL                  1
                            28705 ; 228  |
                            28706 ; 229  |#define         MAX_BROWSE_WINDOW_SIZE  (8)
                            28707 ; 230  |#define         BROWSE_WINDOW_SIZE              (4)
                            28708 ; 231  |/* maximum number of song file, should not be larger than 2048 each for on-board
                            28709 ; 232  |flash or external SD card */
                            28710 ; 233  |#ifdef _SUPPORT_2000_SONGS_
                            28711 ; 234  |#define MAX_NUM_OF_SONG (2000)
                            28712 ; 235  |#else
                            28713 ; 236  |#define MAX_NUM_OF_SONG (1000)
                            28714 ; 237  |#endif // _SUPPORT_2000_SONGS_
                            28715 ; 238  |
                            28716 ; 239  |/* number of byte in one DSP word */
                            28717 ; 240  |#define NUM_OF_BYTE_IN_ONE_WORD (3)
                            28718 ; 241  |#define LEN_OF_NAME_IN_BYTE (120) /* must be an integer multiple of 3 */
                            28719 ; 242  |/* length of file pathname in byte, assuming directory and file in 8.3 format, there
                            28720 ; 243  |are 10 level directory structure */
                            28721 ; 244  |#define LEN_OF_FILEPATH_IN_BYTE (129) /* must be an integer multiple of 3 */
                            28722 ; 245  |#define LEN_OF_LONG_FILENAME_IN_BYTE (129) /* must be an integer multiple of 3 */
                            28723 ; 246  |
                            28724 ; 247  |/* number of list in new music, 1-day, 1-week, 1-month */
                            28725 ; 248  |#define NUM_OF_LIST_IN_NEW_MUSIC (3)
                            28726 ; 249  |/* number of songs in each new music list */
                            28727 ; 250  |#define NUM_OF_SONG_IN_NEW_MUSIC (40)
                            28728 ; 251  |#define NUM_OF_SONG_IN_NEW_MUSIC_DAY (20)
                            28729 ; 252  |#define NUM_OF_SONG_IN_NEW_MUSIC_WEEK (30)
                            28730 ; 253  |#define NUM_OF_SONG_IN_NEW_MUSIC_MONTH (40)
                            28731 ; 254  |/* number of songs in the on-the-fly list */
                            28732 ; 255  |#define NUM_OF_SONG_IN_ON_THE_FLY (30)
                            28733 ; 256  |/* number of files audible list */
                            28734 ; 257  |#define NUM_OF_AUDIBLE_FILE (250)
                            28735 ; 258  |
                            28736 ; 259  |#define MAX_NUM_OF_VOICE (1000)
                            28737 ; 260  |#define LEN_OF_VOICE_NAME_IN_BYTE (LEN_OF_NAME_IN_BYTE) /* must be an integer multiple of 3 */
                            28738 ; 261  |#define LEN_OF_VOICE_FILEPATH_IN_BYTE (LEN_OF_FILEPATH_IN_BYTE) /* must be an integer multiple of 3 */
                            28739 ; 262  |
                            28740 ; 263  |#define MAX_NUM_OF_FMREC (MAX_NUM_OF_VOICE)     /* _must_be_equal_voice_num_ */
                            28741 ; 264  |#define MAX_NUM_OF_PHOTO (MAX_NUM_OF_VOICE)     /* _must_be_equal_voice_num_ */
                            28742 ; 265  |#ifdef _FOLDER_BROWSE_
                            28743 ; 266  |#define MAX_NUM_OF_DIR   (1000)
                            28744 ; 267  |#else
                            28745 ; 268  |#define MAX_NUM_OF_DIR   (1)
                            28746 ; 269  |#endif  // _FOLDER_BROWSE_
                            28747 ; 270  |#define LEN_OF_FMREC_NAME_IN_BYTE (LEN_OF_NAME_IN_BYTE) /* must be an integer multiple of 3 */
                            28748 ; 271  |#define LEN_OF_FMREC_FILEPATH_IN_BYTE (LEN_OF_FILEPATH_IN_BYTE) /* must be an integer multiple of 3 */
                            28749 ; 272  |
                            28750 ; 273  |#ifndef _MAX_DIR_DEPTH
                            28751 ; 274  |#define _MAX_DIR_DEPTH  8   // referred to "playlist3internal.h"
                            28752 ; 275  |#endif  // _MAX_DIR_DEPTH
                            28753 ; 276  |
                            28754 ; 277  |/*==================================================================================================*/
                            28755 ; 278  |
                            28756 ; 279  |
                            28757 ; 280  |/*==================================================================================================
                            28758 ; 281  |                                               MACROS
                            28759 ; 282  |==================================================================================================*/
                            28760 ; 283  |
                            28761 ; 284  |/*==================================================================================================
                            28762 ; 285  |                                               ENUMS
                            28763 ; 286  |==================================================================================================*/
                            28764 ; 287  |#define NUM_OF_MEDIA                            (2)
                            28765 ; 288  |#define MEDIA_TYPE_FLASH                        (0)
                            28766 ; 289  |#define MEDIA_TYPE_SD                           (1)
                            28767 ; 290  |/*==================================================================================================
                            28768 ; 291  |                                     STRUCTURES AND OTHER TYPEDEFS
                            28769 ; 292  |==================================================================================================*/
                            28770 ; 293  |
                            28771 ; 294  |typedef char    int8;
                            28772 ; 295  |typedef short   int16;
                            28773 ; 296  |typedef int     int24;
                            28774 ; 297  |typedef long    int32;
                            28775 ; 298  |
                            28776 ; 299  |typedef int     intx;
                            28777 ; 300  |
                            28778 ; 301  |typedef unsigned char   uint8;
                            28779 ; 302  |typedef unsigned short  uint16;
                            28780 ; 303  |typedef unsigned int    uint24;
                            28781 ; 304  |typedef unsigned long   uint32;
                            28782 ; 305  |
                            28783 ; 306  |/*
                            28784 ; 307  |Any missing information in the name fields will be filled with Unknown in Unicode format.
                            28785 ; 308  |artist_name[] = Unknown; unicode = 0x01;
                            28786 ; 309  |album_name[] = Unknown; unicode = 0x04;
                            28787 ; 310  |genre_name[] = Unknown; unicode = 0x08;
                            28788 ; 311  |song_name[] = Unknown; unicode = 0x0F;
                            28789 ; 312  |*/
                            28790 ; 313  |/*
                            28791 ; 314  |path_name[] _must_have_data_:
                            28792 ; 315  |path_name[] = (Max. 120 Characters);
                            28793 ; 316  |year range:
                            28794 ; 317  |year = 0x000000-0xFFFFFF;
                            28795 ; 318  |DOCUMENT CONTROL NUMBER : Version : 01.01
                            28796 ; 319  |Unknown track number:
                            28797 ; 320  |track_number = 0x7FFFFF;
                            28798 ; 321  |unicode refer to above #define BITMASK_*
                            28799 ; 322  |*/
                            28800 ; 323  |/*
                            28801 ; 324  |Interface of UI and Music Library
                            28802 ; 325  |1) If file was created in ID3V1 format genre, UI will convert it to Unicode string.
                            28803 ; 326  |
                            28804 ; 327  |2) Music Library expected to reserve 128x7 words RAM for UI mapping table.
                            28805 ; 328  |
                            28806 ; 329  |3) UI to Music Library variable passing length definition:
                            28807 ; 330  |        All ASCII Characters:
                            28808 ; 331  |                Max. Number of Bytes Stored = 120 Bytes
                            28809 ; 332  |                Max. Number of Characters Stored/Display = 40 Characters
                            28810 ; 333  |        Unicode Characters:
                            28811 ; 334  |                Max. Number of Bytes Stored = 120 Bytes
                            28812 ; 335  |                Max. Number of Characters Stored/Display = 40 Characters
                            28813 ; 336  |
                            28814 ; 337  |4) UI input data to Music Library in two formats.
                            28815 ; 338  |        Formats:        1) All ASCII (24 bits data)
                            28816 ; 339  |                                2) Unicode + Mix. Non -Unicode (16 bits data)
                            28817 ; 340  |
                            28818 ; 341  |5) UI calling function:
                            28819 ; 342  |COMP_OPT_REN void ML_AddEntryToLibrary(RAM_SONG_INFO_T *song_info, int16 option);
                            28820 ; 343  |        int16 option definition:
                            28821 ; 344  |                option  = 0 - song_info struct contains a mp3/wma format file.
                            28822 ; 345  |                                = 1 - song_info struct contains a voice format file.
                            28823 ; 346  |                                = 2 - song_info struct contains a audible format file.
                            28824 ; 347  |
                            28825 ; 348  |        i) Only mp3/wma file (option = 0, 2) files will be sorted,
                            28826 ; 349  |        ii) Voice and audible(option = 1) file will be store in a voice_list and audible_list separately.
                            28827 ; 350  |
                            28828 ; 351  |6) Modification Date:
                            28829 ; 352  |        uint24 g_file_time:
                            28830 ; 353  |                YYMMDD: 12 bits - Year, 6 bits - Month, 6 - bits Date
                            28831 ; 354  |*/
                            28832 ; 355  |
                            28833 ; 356  |/* struct to store the song information passed from UI, this struct will be placed in
                            28834 ; 357  |ghdr\musiclib_ghdr.h and included in UI files*/
                            28835 ; 358  |typedef struct _ram_song_info {
                            28836 ; 359  |        uint24 artist_name[LEN_OF_NAME_IN_BYTE/NUM_OF_BYTE_IN_ONE_WORD];
                            28837 ; 360  |        uint24 album_name[LEN_OF_NAME_IN_BYTE/NUM_OF_BYTE_IN_ONE_WORD];
                            28838 ; 361  |        uint24 genre_name[LEN_OF_NAME_IN_BYTE/NUM_OF_BYTE_IN_ONE_WORD];
                            28839 ; 362  |        uint24 song_name[LEN_OF_NAME_IN_BYTE/NUM_OF_BYTE_IN_ONE_WORD];
                            28840 ; 363  |        uint24 path_name[LEN_OF_FILEPATH_IN_BYTE/NUM_OF_BYTE_IN_ONE_WORD];
                            28841 ; 364  |    uint32 g_songFastKey;
                            28842 ; 365  |        uint24 dir_name[LEN_OF_LONG_FILENAME_IN_BYTE/NUM_OF_BYTE_IN_ONE_WORD];
                            28843 ; 366  |        uint24 year;
                            28844 ; 367  |        uint24 track_number;
                            28845 ; 368  |        uint8 unicode;
                            28846 ; 369  |} RAM_SONG_INFO_T;
                            28847 ; 370  |
                            28848 ; 371  |/* struct to store the group name: artist, album and genre, in the flash */
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page 112

M:ADDR CODE           CYCLES LINE SOURCELINE
                            28849 ; 372  |typedef struct _flash_group_name {
                            28850 ; 373  |        uint24 name[LEN_OF_NAME_IN_BYTE/NUM_OF_BYTE_IN_ONE_WORD];
                            28851 ; 374  |        uint8 unicode;
                            28852 ; 375  |} FLASH_GROUP_NAME_T;
                            28853 ; 376  |
                            28854 ; 377  |// struct to store directories information passed from UI
                            28855 ; 378  |#ifdef _FOLDER_BROWSE_
                            28856 ; 379  |typedef struct _ml_DirInfo {
                            28857 ; 380  |        uint24  u8Unicode : 8;
                            28858 ; 381  |        uint24  u12DirDepth : 12;
                            28859 ; 382  |        uint24  u4Added : 4;            
                            28860 ; 383  |        INT     iDirRecord;
                            28861 ; 384  |        DWORD   dwFastKey;
                            28862 ; 385  |        uint24  u24PathName[LEN_OF_FILEPATH_IN_BYTE/NUM_OF_BYTE_IN_ONE_WORD];
                            28863 ; 386  |} ML_DIRINFO_T;
                            28864 ; 387  |#endif  // _FOLDER_BROWSE_
                            28865 ; 388  |
                            28866 ; 389  |/*==================================================================================================
                            28867 ; 390  |                                 GLOBAL VARIABLE DECLARATIONS
                            28868 ; 391  |==================================================================================================*/
                            28869 ; 392  |extern uint24   IsPlayOnTheGo;
                            28870 ; 393  |extern FLASH_GROUP_NAME_T   browse_item_name[];
                            28871 ; 394  |extern uint24   merge_id_list_flash[];
                            28872 ; 395  |extern uint24   merge_id_list_sd[];
                            28873 ; 396  |extern INT _X   g_iBrowseWindowSize;
                            28874 ; 397  |#ifdef _FOLDER_BROWSE_
                            28875 ; 398  |extern ML_DIRINFO_T g_tDirInfoBuffer[_MAX_DIR_DEPTH];
                            28876 ; 399  |extern uint24       g_u24DirName[LEN_OF_NAME_IN_BYTE/NUM_OF_BYTE_IN_ONE_WORD];
                            28877 ; 400  |extern uint24       g_u24BrowseNumOfDirInDir[];
                            28878 ; 401  |#endif  // _FOLDER_BROWSE_
                            28879 ; 402  |extern INT _X    *sec_temp_buf_X;
                            28880 ; 403  |extern uint24   playMode;   /* bit 0 = current play mode; bit 1 = last play mode ; bit 2 = repeat on/off(0=off/1=on) */
                            28881 ; 404  |
                            28882 ; 405  |/*==================================================================================================
                            28883 ; 406  |                                        FUNCTION PROTOTYPES
                            28884 ; 407  |==================================================================================================*/
                            28885 ; 408  |
                            28886 ; 409  |///////////////////////////////////////////////////////////////////////
                            28887 ; 410  |//! \brief
                            28888 ; 411  |//!
                            28889 ; 412  |//! \fntype Function
                            28890 ; 413  |//!
                            28891 ; 414  |//! Called by UI, to initialize the parameters before insert any item.
                            28892 ; 415  |//! Call only once before inserting items. Call once for each media.
                            28893 ; 416  |//!
                            28894 ; 417  |//! \param[in]  none
                            28895 ; 418  |//!
                            28896 ; 419  |//! \return
                            28897 ; 420  |//!
                            28898 ; 421  |///////////////////////////////////////////////////////////////////////
                            28899 ; 422  |void ML_InitLibraryParameter(void);
                            28900 ; 423  |
                            28901 ; 424  |///////////////////////////////////////////////////////////////////////
                            28902 ; 425  |//! \brief
                            28903 ; 426  |//!
                            28904 ; 427  |//! \fntype Function
                            28905 ; 428  |//!
                            28906 ; 429  |//! Called by UI, the AddEntryToLibrary is the music library building
                            28907 ; 430  |//! algorithms for the flash-type memory and SD memory by sorting the song information
                            28908 ; 431  |//! by, but not limited to, album, artist, genre, year and track. Called once for each song,
                            28909 ; 432  |//! the song information is recorded in music library.
                            28910 ; 433  |//!
                            28911 ; 434  |//! \param[in]  uint24 Media_type - Possible values: MEDIA_TYPE_FLASH(=0); MEDIA_TYPE_SD(=1)
                            28912 ; 435  |//! \param[in]  RAM_SONG_INFO_T *song_info - Structure to store the song information passed from UI, this structure is defined in ghdr\musiclib_ghdr.h and included in UI files)
                            28913 ; 436  |//! \param[in]  int16 option - option = 0 -- song_info struct contains a mp3, wma or wav format file.
                            28914 ; 437  |//!
                            28915 ; 438  |//! \return
                            28916 ; 439  |//!
                            28917 ; 440  |///////////////////////////////////////////////////////////////////////
                            28918 ; 441  |void ML_AddEntryToLibrary(uint24 Media_type, RAM_SONG_INFO_T *song_info, int16 option);
                            28919 ; 442  |
                            28920 ; 443  |///////////////////////////////////////////////////////////////////////
                            28921 ; 444  |//! \brief
                            28922 ; 445  |//!
                            28923 ; 446  |//! \fntype Function
                            28924 ; 447  |//!
                            28925 ; 448  |//! \param[in]
                            28926 ; 449  |//!
                            28927 ; 450  |//! \return
                            28928 ; 451  |//!
                            28929 ; 452  |///////////////////////////////////////////////////////////////////////
                            28930 ; 453  |#ifdef _FOLDER_BROWSE_
                            28931 ; 454  |_reentrant void ML_AddDirEntryToLibrary(uint24 u24MediaType, ML_DIRINFO_T *ptDirInfo, int16 i16Option);
                            28932 ; 455  |#endif  // _FOLDER_BROWSE_
                            28933 ; 456  |
                            28934 ; 457  |///////////////////////////////////////////////////////////////////////
                            28935 ; 458  |//! \brief
                            28936 ; 459  |//!
                            28937 ; 460  |//! \fntype Function
                            28938 ; 461  |//!
                            28939 ; 462  |//! Called by UI, flush sorted and associate list to flash when no
                            28940 ; 463  |//! more song needed to be added for that media. This function finalizes the building of
                            28941 ; 464  |//! music library for that particular media.
                            28942 ; 465  |//!
                            28943 ; 466  |//! \param[in]  uint24 Media_type - Possible values: MEDIA_TYPE_FLASH(=0); MEDIA_TYPE_SD(=1)
                            28944 ; 467  |//!
                            28945 ; 468  |//! \return
                            28946 ; 469  |//!
                            28947 ; 470  |//! \note   Bulid the library first (call ML_AddEntryToLibrary) before calling this
                            28948 ; 471  |//!         function.
                            28949 ; 472  |///////////////////////////////////////////////////////////////////////
                            28950 ; 473  |_reentrant INT ML_FlushLibraryToFlash(INT Media_type, INT b, INT *c);
                            28951 ; 474  |
                            28952 ; 475  |///////////////////////////////////////////////////////////////////////
                            28953 ; 476  |//! \brief
                            28954 ; 477  |//!
                            28955 ; 478  |//! \fntype Function
                            28956 ; 479  |//!
                            28957 ; 480  |//! \param[in]
                            28958 ; 481  |//!
                            28959 ; 482  |//! \return
                            28960 ; 483  |//!
                            28961 ; 484  |///////////////////////////////////////////////////////////////////////
                            28962 ; 485  |#ifdef _NEWMUSIC_
                            28963 ; 486  |void ML_UpdateNewMusic(void);
                            28964 ; 487  |#endif
                            28965 ; 488  |
                            28966 ; 489  |///////////////////////////////////////////////////////////////////////
                            28967 ; 490  |//! \brief
                            28968 ; 491  |//!
                            28969 ; 492  |//! \fntype Function
                            28970 ; 493  |//!
                            28971 ; 494  |//! Called by UI, to initialize the file access mechanism for all music
                            28972 ; 495  |//! library operation if the music.lib file and the music.sec file exist (call
                            28973 ; 496  |//! ML_BuildSecTableFile() if these files do not exist).
                            28974 ; 497  |//!
                            28975 ; 498  |//! \param[in]  none
                            28976 ; 499  |//!
                            28977 ; 500  |//! \return
                            28978 ; 501  |//!
                            28979 ; 502  |//! \note   Either ML_Buildl2SecTable(void) or ML_BuildSecTableFile(void)
                            28980 ; 503  |//!         must be called before calling any other music library functions.
                            28981 ; 504  |///////////////////////////////////////////////////////////////////////
                            28982 ; 505  |_reentrant INT ML_Buildl2SecTable(INT a, INT b, INT *c);
                            28983 ; 506  |
                            28984 ; 507  |///////////////////////////////////////////////////////////////////////
                            28985 ; 508  |//! \brief
                            28986 ; 509  |//!
                            28987 ; 510  |//! \fntype Function
                            28988 ; 511  |//!
                            28989 ; 512  |//! Called by UI, to initialize the file access mechanism for all music
                            28990 ; 513  |//! library operation.
                            28991 ; 514  |//! Two system files (music.lib and music.sec) is created.
                            28992 ; 515  |//! Call this only if intended to generate / refresh these files, or if the music.lib file and the
                            28993 ; 516  |//! music.sec file do not exist.
                            28994 ; 517  |//!
                            28995 ; 518  |//! \param[in]  none
                            28996 ; 519  |//!
                            28997 ; 520  |//! \return
                            28998 ; 521  |//!
                            28999 ; 522  |//! \note   Either ML_Buildl2SecTable(void) or ML_BuildSecTableFile(void)
                            29000 ; 523  |//!         must be called before calling any other music library functions.
                            29001 ; 524  |///////////////////////////////////////////////////////////////////////
                            29002 ; 525  |_reentrant INT ML_BuildSecTableFile(INT a, INT b, INT *c);
                            29003 ; 526  |
                            29004 ; 527  |///////////////////////////////////////////////////////////////////////
                            29005 ; 528  |//! \brief
                            29006 ; 529  |//!
                            29007 ; 530  |//! \fntype Function
                            29008 ; 531  |//!
                            29009 ; 532  |//! Preload the list, prepare for renew.
                            29010 ; 533  |//! IsColdBoot=TRUE: loads the list content and the path name to the on_the_fly_list
                            29011 ; 534  |//! structure in RAM.
                            29012 ; 535  |//! IsColdBoot=FALSE: updates the path name only, to the on_the_fly_list structure
                            29013 ; 536  |//! in RAM.
                            29014 ; 537  |//!
                            29015 ; 538  |//! \param[in]  uint24 IsColdBoot - Possible values: TRUE or FALSE
                            29016 ; 539  |//!
                            29017 ; 540  |//! \return
                            29018 ; 541  |//!
                            29019 ; 542  |//! \note   Use IsColdBoot=TRUE only once when the machine boot-up, other
                            29020 ; 543  |//!         time when you need to renew the list, use IsColdBoot=FALSE instead.
                            29021 ; 544  |///////////////////////////////////////////////////////////////////////
                            29022 ; 545  |void ML_LoadOnTheGo(uint24 IsColdBoot);
                            29023 ; 546  |
                            29024 ; 547  |///////////////////////////////////////////////////////////////////////
                            29025 ; 548  |//! \brief
                            29026 ; 549  |//!
                            29027 ; 550  |//! \fntype Function
                            29028 ; 551  |//!
                            29029 ; 552  |//! Save the list to flash memory.
                            29030 ; 553  |//!
                            29031 ; 554  |//! \param[in]
                            29032 ; 555  |//!
                            29033 ; 556  |//! \return
                            29034 ; 557  |//!
                            29035 ; 558  |//! \note   It is recommended to save the list as soon as possible after it was
                            29036 ; 559  |//!         changed by the user.
                            29037 ; 560  |///////////////////////////////////////////////////////////////////////
                            29038 ; 561  |void ML_SaveOnTheGo(void);      /* call at shutdownmenu.c to save the list */
                            29039 ; 562  |
                            29040 ; 563  |///////////////////////////////////////////////////////////////////////
                            29041 ; 564  |//! \brief
                            29042 ; 565  |//!
                            29043 ; 566  |//! \fntype Function
                            29044 ; 567  |//! When the Music Lib is rebuilding, the path of each song is
                            29045 ; 568  |//! compared with the path stored in the on_the_fly_list structure, to decide if it was in the
                            29046 ; 569  |//! list before, if so the ID is replaced by the new songID, and the song is keep in the list.
                            29047 ; 570  |//! Otherwise the song is deleted.
                            29048 ; 571  |//!
                            29049 ; 572  |//! \param[in]  uint24 Media_type - Possible values: MEDIA_TYPE_FLASH(=0); MEDIA_TYPE_SD(=1)
                            29050 ; 573  |//! \param[in]  uint24 _X * temp_path - Input value, the path of song to be checked.
                            29051 ; 574  |//! \param[in]  uint24 newID - Input value, the new songID of the song.
                            29052 ; 575  |//!
                            29053 ; 576  |//! \return
                            29054 ; 577  |//!
                            29055 ; 578  |///////////////////////////////////////////////////////////////////////
                            29056 ; 579  |void ML_ChkOnTheGo(uint24 Media_type, uint24 _X * temp_path, uint24 newID);
                            29057 ; 580  |
                            29058 ; 581  |///////////////////////////////////////////////////////////////////////
                            29059 ; 582  |//! \brief
                            29060 ; 583  |//!
                            29061 ; 584  |//! \fntype Function
                            29062 ; 585  |//!
                            29063 ; 586  |//! Set a flag for all the songs of Media_type to be keep or delete
                            29064 ; 587  |//! in the ML_UpdateOnTheGo().
                            29065 ; 588  |//!
                            29066 ; 589  |//! \param[in]  uint24 Media_type - Possible values: MEDIA_TYPE_FLASH(=0); MEDIA_TYPE_SD(=1)
                            29067 ; 590  |//! \param[in]  uint24 value - Possible values: TRUE (song will be keep in the list); INDEX_EOF (song will be deleted)
                            29068 ; 591  |//!
                            29069 ; 592  |//! \return
                            29070 ; 593  |//!
                            29071 ; 594  |///////////////////////////////////////////////////////////////////////
                            29072 ; 595  |void ML_ChOnTheGo(uint24 Media_type, uint24 value);
                            29073 ; 596  |
                            29074 ; 597  |///////////////////////////////////////////////////////////////////////
                            29075 ; 598  |//! \brief
                            29076 ; 599  |//!
                            29077 ; 600  |//! \fntype Function
                            29078 ; 601  |//!
                            29079 ; 602  |//! Before the list can be browse, call this function to finalize the list.
                            29080 ; 603  |//!
                            29081 ; 604  |//! \param[in]  none
                            29082 ; 605  |//!
                            29083 ; 606  |//! \return
                            29084 ; 607  |//!
                            29085 ; 608  |///////////////////////////////////////////////////////////////////////
                            29086 ; 609  |void ML_UpdateOnTheGo(void);
                            29087 ; 610  |
                            29088 ; 611  |///////////////////////////////////////////////////////////////////////
                            29089 ; 612  |//! \brief
                            29090 ; 613  |//!
                            29091 ; 614  |//! \fntype Function
                            29092 ; 615  |//!
                            29093 ; 616  |//! Called by UI, to initialize the parameters before insert any item.
                            29094 ; 617  |//! Call only once before inserting items. Call once for each media.
                            29095 ; 618  |//!
                            29096 ; 619  |//! \param[in]  none
                            29097 ; 620  |//!
                            29098 ; 621  |//! \return
                            29099 ; 622  |//!
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page 113

M:ADDR CODE           CYCLES LINE SOURCELINE
                            29100 ; 623  |///////////////////////////////////////////////////////////////////////
                            29101 ; 624  |void ML_InitVoiceParameter(void);
                            29102 ; 625  |
                            29103 ; 626  |///////////////////////////////////////////////////////////////////////
                            29104 ; 627  |//! \brief
                            29105 ; 628  |//!
                            29106 ; 629  |//! \fntype Function
                            29107 ; 630  |//!
                            29108 ; 631  |//! \param[in]
                            29109 ; 632  |//!
                            29110 ; 633  |//! \return
                            29111 ; 634  |//!
                            29112 ; 635  |///////////////////////////////////////////////////////////////////////
                            29113 ; 636  |void ML_LoadVoiceParameter(uint24 Rec_type);
                            29114 ; 637  |
                            29115 ; 638  |///////////////////////////////////////////////////////////////////////
                            29116 ; 639  |//! \brief
                            29117 ; 640  |//!
                            29118 ; 641  |//! \fntype Function
                            29119 ; 642  |//!
                            29120 ; 643  |//! Called by UI, the ML_AddEntryToVoice is the voice library
                            29121 ; 644  |//! building algorithms for the flash-type memory by sorting the voice files by file names.
                            29122 ; 645  |//! Called once for each voice file, the information is recorded in music library.
                            29123 ; 646  |//!
                            29124 ; 647  |//! \param[in]  uint24 Rec_type - Possible values: REC_VOICE_TYPE(=0); REC_FMREC_TYPE(=1)
                            29125 ; 648  |//! \param[in]  RAM_SONG_INFO_T *song_info - struct to store the song information passed from UI, this struct will be placed in ghdr\musiclib_ghdr.h and included in UI files
                            29126 ; 649  |//! \param[in]  uint24 action - option = 0 // always set zero
                            29127 ; 650  |//!
                            29128 ; 651  |//! \return
                            29129 ; 652  |//!
                            29130 ; 653  |///////////////////////////////////////////////////////////////////////
                            29131 ; 654  |void ML_AddEntryToVoice(uint24 Rec_type, RAM_SONG_INFO_T *song_info, uint24 action);
                            29132 ; 655  |
                            29133 ; 656  |///////////////////////////////////////////////////////////////////////
                            29134 ; 657  |//! \brief
                            29135 ; 658  |//!
                            29136 ; 659  |//! \fntype Function
                            29137 ; 660  |//!
                            29138 ; 661  |//! Called by UI, flush sorted and associate list to flash when no
                            29139 ; 662  |//! more voice needed to be added for that media. This function finalizes the voice building
                            29140 ; 663  |//! of music library for that particular media.
                            29141 ; 664  |//!
                            29142 ; 665  |//! \param[in]  uint24 Rec_type - Possible values: REC_VOICE_TYPE(=0); REC_FMREC_TYPE(=1)
                            29143 ; 666  |//!
                            29144 ; 667  |//! \return
                            29145 ; 668  |//!
                            29146 ; 669  |//! \note   Bulid the library first (call ML_AddEntryToVoice) before calling this
                            29147 ; 670  |//!         function.
                            29148 ; 671  |///////////////////////////////////////////////////////////////////////
                            29149 ; 672  |void ML_FlushVoiceToFlash(uint24 Rec_type);
                            29150 ; 673  |
                            29151 ; 674  |///////////////////////////////////////////////////////////////////////
                            29152 ; 675  |//! \brief
                            29153 ; 676  |//!
                            29154 ; 677  |//! \fntype Function
                            29155 ; 678  |//!
                            29156 ; 679  |//! Called by UI, the merge the music library tables album,
                            29157 ; 680  |//! artist, genre, song and year.
                            29158 ; 681  |//!
                            29159 ; 682  |//! \param[in]  none
                            29160 ; 683  |//!
                            29161 ; 684  |//! \return
                            29162 ; 685  |//!
                            29163 ; 686  |///////////////////////////////////////////////////////////////////////
                            29164 ; 687  |void ML_MergeLibraryTables(void);
                            29165 ; 688  |
                            29166 ; 689  |///////////////////////////////////////////////////////////////////////
                            29167 ; 690  |//! \brief
                            29168 ; 691  |//!
                            29169 ; 692  |//! \fntype Function
                            29170 ; 693  |//!
                            29171 ; 694  |//! Called by UI, the merge the music library tables album,
                            29172 ; 695  |//! artist, genre, song and year.
                            29173 ; 696  |//!
                            29174 ; 697  |//! \param[in]  none
                            29175 ; 698  |//!
                            29176 ; 699  |//! \return
                            29177 ; 700  |//!
                            29178 ; 701  |///////////////////////////////////////////////////////////////////////
                            29179 ; 702  |INT _reentrant PathFormationPartial(_packed BYTE* dst, _packed BYTE* src, int iDepth);
                            29180 ; 703  |INT _reentrant PathFormation(_packed BYTE* dst, _packed BYTE* src, int iDepth);
                            29181 ; 704  |_reentrant void TrimUnicodeString(UCS3* pString);
                            29182 ; 705  |_reentrant void TrimPackedString(UCS3* pString);
                            29183 ; 706  |
                            29184 ; 707  |///////////////////////////////////////////////////////////////////////
                            29185 ; 708  |//! \brief
                            29186 ; 709  |//!
                            29187 ; 710  |//! \fntype Function
                            29188 ; 711  |//!
                            29189 ; 712  |//! \param[in]
                            29190 ; 713  |//!
                            29191 ; 714  |//! \return
                            29192 ; 715  |//!
                            29193 ; 716  |///////////////////////////////////////////////////////////////////////
                            29194 ; 717  |_reentrant void ML_FlushSortedListToFlash(uint24 u24MediaType);
                            29195 ; 718  |
                            29196 ; 719  |/*================================================================================================*/
                            29197 ; 720  |
                            29198 ; 721  |// Siukoon 2005-02-28
                            29199 ; 722  |#define MUSICLIB_STDRIVE_NUMBER     (0)
                            29200 ; 723  |#ifdef _SUPPORT_2000_SONGS_
                            29201 ; 724  |#define MUSICLIB_FILESIZE_IN_BYTE   (4194304L*2) // (SINGLE_DATABASE_SIZE*BYTE_PER_SECTOR)*2
                            29202 ; 725  |#else
                            29203 ; 726  |#define MUSICLIB_FILESIZE_IN_BYTE   (2097152L*2) // (SINGLE_DATABASE_SIZE*BYTE_PER_SECTOR)*2
                            29204 ; 727  |#endif  // _SUPPORT_2000_SONGS_
                            29205 ; 728  |#define MUSICLIB_FLASHPART_FILESIZE_IN_BYTE   (MUSICLIB_FILESIZE_IN_BYTE/2)
                            29206 ; 729  |#define WORD_PER_SECTOR             (171)
                            29207 ; 730  |#define BYTE_PER_SECTOR             (512)
                            29208 ; 731  |#define MUSICLIB_FILESIZE_IN_SECTOR (MUSICLIB_FILESIZE_IN_BYTE/BYTE_PER_SECTOR)
                            29209 ; 732  |#define MUSICLIB_FLASHPART_FILESIZE_IN_SECTOR (MUSICLIB_FLASHPART_FILESIZE_IN_BYTE/BYTE_PER_SECTOR)
                            29210 ; 733  |
                            29211 ; 734  |#define LB_BYTE_PER_SECTOR          (2048)
                            29212 ; 735  |#define LB_MUSICLIB_FILESIZE_IN_SECTOR (MUSICLIB_FILESIZE_IN_BYTE/LB_BYTE_PER_SECTOR)
                            29213 ; 736  |#define LB_MUSICLIB_FLASHPART_FILESIZE_IN_SECTOR (MUSICLIB_FLASHPART_FILESIZE_IN_BYTE/LB_BYTE_PER_SECTOR)
                            29214 ; 737  |
                            29215 ; 738  |#define MUSICLIB_FAT_ERROR_NOT_ENOUGH_MEDIA_SPACE       1
                            29216 ; 739  |#define MUSICLIB_FAT_ERROR_CREATE_FILE                  2
                            29217 ; 740  |#define MUSICLIB_FAT_ERROR_DELETE_FILE                  3
                            29218 ; 741  |#define MUSICLIB_FAT_ERROR_OPEN_FILE                    4
                            29219 ; 742  |
                            29220 ; 743  |/////////////////////
                            29221 ; 744  |
                            29222 ; 745  |#define LONG_SIZE_IN_BYTE                               (6)
                            29223 ; 746  |
                            29224 ; 747  |#ifdef _SUPPORT_2000_SONGS_
                            29225 ; 748  |#define SEC_TABLE_SIZE_IN_LONG                  (16384) // DATABASE_SIZE
                            29226 ; 749  |#else
                            29227 ; 750  |#define SEC_TABLE_SIZE_IN_LONG                  (8192)  // DATABASE_SIZE
                            29228 ; 751  |#endif // _SUPPORT_2000_SONGS_
                            29229 ; 752  |#define SEC_TABLE_SIZE_IN_BYTE                  (SEC_TABLE_SIZE_IN_LONG*LONG_SIZE_IN_BYTE)
                            29230 ; 753  |
                            29231 ; 754  |#define SEC_TABLE_FLASHPART_SIZE_IN_LONG        (SEC_TABLE_SIZE_IN_LONG/2)
                            29232 ; 755  |#define SEC_TABLE_FLASHPART_SIZE_IN_BYTE        (SEC_TABLE_SIZE_IN_BYTE/2)
                            29233 ; 756  |
                            29234 ; 757  |#define NUM_OF_LONG_PER_512SEC          (85)    // 512/6=>85
                            29235 ; 758  |#ifdef _SUPPORT_2000_SONGS_
                            29236 ; 759  |#define NUM_OF_LEVEL2_SEC                               (194)   /* 97x2 */
                            29237 ; 760  |#define NUM_OF_LEVEL2_FLASHPART_SEC             (97)    /* 8192/85 */
                            29238 ; 761  |#else
                            29239 ; 762  |#define NUM_OF_LEVEL2_SEC                               (98)    /* 49x2 */
                            29240 ; 763  |#define NUM_OF_LEVEL2_FLASHPART_SEC             (49)    /* 4096/85 */
                            29241 ; 764  |#endif // _SUPPORT_2000_SONGS_
                            29242 ; 765  |#define LEVEL2_TABLE_SIZE                               (NUM_OF_LEVEL2_SEC*2)
                            29243 ; 766  |#define SEC_TABLE_FLASH_START_SEC               (0x00)
                            29244 ; 767  |#define SEC_TABLE_SD_START_SEC                  (NUM_OF_LEVEL2_FLASHPART_SEC)
                            29245 ; 768  |
                            29246 ; 769  |#define SEC_TABLE_FILESIZE_IN_BYTE              (BYTE_PER_SECTOR*NUM_OF_LEVEL2_SEC)
                            29247 ; 770  |#ifdef _SUPPORT_2000_SONGS_
                            29248 ; 771  |#define BYTE_FILL_INTERDB_GAP                   (320)   // 512-((8192-(85*96))*6)
                            29249 ; 772  |#else
                            29250 ; 773  |#define BYTE_FILL_INTERDB_GAP                   (((NUM_OF_LEVEL2_FLASHPART_SEC*NUM_OF_LONG_PER_512SEC)-SEC_TABLE_FLASHPART_SIZE_IN_LONG)*LONG_SIZE_IN_BYTE+2)
                            29251 ; 774  |#endif  // _SUPPORT_2000_SONGS_
                            29252 ; 775  |
                            29253 ; 776  |#define LB_SEC_TABLE_SIZE_IN_LONG                       (LB_MUSICLIB_FILESIZE_IN_SECTOR)
                            29254 ; 777  |#define LB_SEC_TABLE_SIZE_IN_BYTE                       (LB_SEC_TABLE_SIZE_IN_LONG*LONG_SIZE_IN_BYTE)
                            29255 ; 778  |
                            29256 ; 779  |#define LB_SEC_TABLE_FLASHPART_SIZE_IN_LONG     (LB_SEC_TABLE_SIZE_IN_LONG/2)
                            29257 ; 780  |#define LB_SEC_TABLE_FLASHPART_SIZE_IN_BYTE     (LB_SEC_TABLE_SIZE_IN_BYTE/2)
                            29258 ; 781  |
                            29259 ; 782  |#define NUM_OF_LONG_PER_2048SEC                     (341)   // 2048/6=>341
                            29260 ; 783  |#ifdef _SUPPORT_2000_SONGS_
                            29261 ; 784  |#define NUM_OF_LEVEL2_2048SEC                           (49)    // 16384/341=>49
                            29262 ; 785  |#define NUM_OF_LEVEL2_FLASHPART_2048SEC         (25)    /* 8192/341=>25 */
                            29263 ; 786  |#else
                            29264 ; 787  |#define NUM_OF_LEVEL2_2048SEC                           (25)    // 8192/341=>25
                            29265 ; 788  |#define NUM_OF_LEVEL2_FLASHPART_2048SEC         (13)    /* 4096/341=>13 */
                            29266 ; 789  |#endif // _SUPPORT_2000_SONGS_
                            29267 ; 790  |
                            29268 ; 791  |#ifdef _SUPPORT_2000_SONGS_
                            29269 ; 792  |#define BYTE_FILL_INTERDB_GAP_2048                      (2000)  // 2048-((8192-(341*24))*6)
                            29270 ; 793  |#define BYTE_FILL_INTERDB_2ND_GAP_2048      (2532)  // 99328-96796
                            29271 ; 794  |#else
                            29272 ; 795  |#define BYTE_FILL_INTERDB_GAP_2048                      (((341-4)*6)+2) //2024
                            29273 ; 796  |#define BYTE_FILL_INTERDB_2ND_GAP_2048      (2556)  // 50176-47620
                            29274 ; 797  |#endif // _SUPPORT_2000_SONGS_
                            29275 ; 798  |
                            29276 ; 799  |#ifdef __cplusplus
                            29277 ; 800  |}
                            29278 ; 801  |#endif
                            29279 ; 802  |
                            29280 ; 803  |#endif  /* MUSICLIB_GHDR_H */
                            29281 
                            29283 
                            29284 ; 45   |#include "voicemenu.h"
                            29285 
                            29287 
                            29288 ; 1    |#ifndef _VOICE_MENU_H
                            29289 ; 2    |#define _VOICE_MENU_H
                            29290 ; 3    |
                            29291 ; 4    |#ifdef USE_PLAYLIST3
                            29292 ; 5    |#include "musiclib_ghdr.h"
                            29293 
                            29295 
                            29296 ; 1    |#ifndef MUSICLIB_GHDR_H
                            29297 ; 2    |#define MUSICLIB_GHDR_H
                            29298 ; 3    |
                            29299 ; 4    |#ifdef __cplusplus
                            29300 ; 5    |extern "C" {
                            29301 ; 6    |#endif
                            29302 ; 7    |
                            29303 ; 8    |/*==================================================================================================
                            29304 ; 9    |
                            29305 ; 10   |                                        General Description
                            29306 ; 11   |
                            29307 ; 12   |====================================================================================================
                            29308 ; 13   |
                            29309 ; 14   |                               Sigmatel Inc Confidential Proprietary
                            29310 ; 15   |                               (c) Copyright Sigmatel Inc 2004, All Rights Reserved
                            29311 ; 16   |
                            29312 ; 17   |HEADER NAME: mf_sf_filename.h   AUTHOR: Developer Name      CREATION DATE: DD/MM/YYYY
                            29313 ; 18   |
                            29314 ; 19   |PRODUCT NAMES: All
                            29315 ; 20   |
                            29316 ; 21   |GENERAL DESCRIPTION:
                            29317 ; 22   |
                            29318 ; 23   |    General description of this grouping of functions.
                            29319 ; 24   |
                            29320 ; 25   |Portability: All
                            29321 ; 26   |
                            29322 ; 27   |
                            29323 ; 28   |Revision History:
                            29324 ; 29   |
                            29325 ; 30   |                         Modification        Tracking
                            29326 ; 31   |Author                       Date             Number           Description of Changes
                            29327 ; 32   |---------------------    ------------        ----------        -------------------------------------
                            29328 ; 33   |Developer Name            DD/MM/YYYY         PDaaaxxxxx        brief description of changes made
                            29329 ; 34   |
                            29330 ; 35   |
                            29331 ; 36   |====================================================================================================
                            29332 ; 37   |                                            DESCRIPTION
                            29333 ; 38   |====================================================================================================
                            29334 ; 39   |
                            29335 ; 40   |GLOBAL FUNCTIONS:
                            29336 ; 41   |    MF_global_func_name()
                            29337 ; 42   |
                            29338 ; 43   |TRACEABILITY MATRIX:
                            29339 ; 44   |    None
                            29340 ; 45   |
                            29341 ; 46   |==================================================================================================*/
                            29342 ; 47   |
                            29343 ; 48   |/*==================================================================================================
                            29344 ; 49   |                                                                Conditional Compilation Directives
                            29345 ; 50   |==================================================================================================*/
                            29346 ; 51   |#ifdef WIN32
                            29347 ; 52   |#define _PC_SIMULATION_
                            29348 ; 53   |#else
                            29349 ; 54   |#define _RUNNING_IN_EMBEDDED_
                            29350 ; 55   |#endif  // WIN32
                            29351 ; 56   |
                            29352 ; 57   |#if 1
                            29353 ; 58   |#define _NEWMUSIC_      /* install new music list */
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page 114

M:ADDR CODE           CYCLES LINE SOURCELINE
                            29354 ; 59   |#endif
                            29355 ; 60   |
                            29356 ; 61   |#if 1
                            29357 ; 62   |#define _AUDIBLE_       /* install audible list */
                            29358 ; 63   |#endif
                            29359 ; 64   |
                            29360 ; 65   |#if 1
                            29361 ; 66   |#define _ONTHEGO_       /* install on the go list */
                            29362 ; 67   |#endif
                            29363 ; 68   |
                            29364 ; 69   |#ifdef PL3_FB
                            29365 ; 70   |#define _FOLDER_BROWSE_ // install folder browsing
                            29366 ; 71   |#endif
                            29367 ; 72   |
                            29368 ; 73   |#if 1
                            29369 ; 74   |#define _SUPPORT_2000_SONGS_
                            29370 ; 75   |#endif
                            29371 ; 76   |
                            29372 ; 77   |/*==================================================================================================
                            29373 ; 78   |                                           INCLUDE FILES
                            29374 ; 79   |==================================================================================================*/
                            29375 ; 80   |#ifdef _RUNNING_IN_EMBEDDED_
                            29376 ; 81   |#define OEM_SEEK_CUR    SEEK_CUR
                            29377 ; 82   |#define OEM_SEEK_SET    SEEK_SET
                            29378 ; 83   |#define OEM_SEEK_END    SEEK_END
                            29379 ; 84   |#else
                            29380 ; 85   |#define _X
                            29381 ; 86   |#define _Y
                            29382 ; 87   |#define _packed
                            29383 ; 88   |
                            29384 ; 89   |#define _asmfunc
                            29385 ; 90   |#define _reentrant
                            29386 ; 91   |
                            29387 ; 92   |#define OEM_SEEK_CUR    1
                            29388 ; 93   |#define OEM_SEEK_SET    0
                            29389 ; 94   |#define OEM_SEEK_END    2
                            29390 ; 95   |#endif  // _RUNNING_IN_EMBEDDED_
                            29391 ; 96   |
                            29392 ; 97   |#include "types.h"
                            29393 ; 98   |#include "exec.h"
                            29394 ; 99   |#include "messages.h"
                            29395 ; 100  |#include "project.h"
                            29396 ; 101  |
                            29397 ; 102  |/*==================================================================================================
                            29398 ; 103  |                                             CONSTANTS
                            29399 ; 104  |==================================================================================================*/
                            29400 ; 105  |/* The bit mask for 2 bits Unicode Flag selection in "uint8 unicode".
                            29401 ; 106  |Variable Represented            Bits used in "uint8 unicode"
                            29402 ; 107  |Artistname                              1:0
                            29403 ; 108  |Albumname                               3:2
                            29404 ; 109  |Genrename                               5:4
                            29405 ; 110  |Songname                                7:6
                            29406 ; 111  |----------------------------------------------------------
                            29407 ; 112  |    Value (2 bits)                      Meanings
                            29408 ; 113  |    0                                   RAW and All ASCII
                            29409 ; 114  |    1                                   Uni-code
                            29410 ; 115  |    2                                   Mixed, non-unicode
                            29411 ; 116  |
                            29412 ; 117  |    3(Genre only)               Genre is ID3v1 spec=>number
                            29413 ; 118  |*/
                            29414 ; 119  |#define BITMASK_ARTIST  (0x03)
                            29415 ; 120  |#define BITMASK_ALBUM   (0x0C)
                            29416 ; 121  |#define BITMASK_GENRE   (0x30)
                            29417 ; 122  |#define BITMASK_SONG    (0xC0)
                            29418 ; 123  |
                            29419 ; 124  |#define BITCHK_ARTIST_ALLASCII  (0x0)
                            29420 ; 125  |#define BITCHK_ALBUM_ALLASCII   (0x0)
                            29421 ; 126  |#define BITCHK_GENRE_ALLASCII   (0x0)
                            29422 ; 127  |#define BITCHK_SONG_ALLASCII    (0x0)
                            29423 ; 128  |
                            29424 ; 129  |#define BITCHK_ARTIST_UNICODE   (0x01)
                            29425 ; 130  |#define BITCHK_ALBUM_UNICODE    (0x04)
                            29426 ; 131  |#define BITCHK_GENRE_UNICODE    (0x10)
                            29427 ; 132  |#define BITCHK_SONG_UNICODE             (0x40)
                            29428 ; 133  |
                            29429 ; 134  |#define BITCHK_ARTIST_MIXCODE   (0x02)
                            29430 ; 135  |#define BITCHK_ALBUM_MIXCODE    (0x08)
                            29431 ; 136  |#define BITCHK_GENRE_MIXCODE    (0x20)
                            29432 ; 137  |#define BITCHK_SONG_MIXCODE             (0x80)
                            29433 ; 138  |
                            29434 ; 139  |#define BITCHK_GENRE_ID3V1              (0x30)
                            29435 ; 140  |
                            29436 ; 141  |#define UNKNOWN_YEAR_CODE               (1)     /* set a very large number */
                            29437 ; 142  |
                            29438 ; 143  |#define INDEX_EOF       0xFFF
                            29439 ; 144  |#ifdef _FOLDER_BROWSE_
                            29440 ; 145  |#define INDEX_ROOT  0xffe
                            29441 ; 146  |#define UNKNOWN_RECORD  0xfff
                            29442 ; 147  |#endif  // _FOLDER_BROWSE_
                            29443 ; 148  |
                            29444 ; 149  |/* Constant for item_type */
                            29445 ; 150  |#define         ITEM_ARTIST                     0
                            29446 ; 151  |#define         ITEM_ALBUM                      1
                            29447 ; 152  |#define         ITEM_GENRE                      2
                            29448 ; 153  |#define         ITEM_TRACK                      3
                            29449 ; 154  |#define         ITEM_YEAR                       4
                            29450 ; 155  |#define         ITEM_SONG_INFO_ARTIST   5
                            29451 ; 156  |#define         ITEM_SONG_INFO_ALBUM    6
                            29452 ; 157  |#define         ITEM_SONG_INFO_GENRE    7
                            29453 ; 158  |#define         ITEM_SONG_INFO_YEAR             9
                            29454 ; 159  |#ifdef _NEWMUSIC_
                            29455 ; 160  |#define         ITEM_1DAY                       10
                            29456 ; 161  |#define         ITEM_1WEEK                      11
                            29457 ; 162  |#define         ITEM_1MONTH                     12
                            29458 ; 163  |#endif
                            29459 ; 164  |#ifdef _AUDIBLE_
                            29460 ; 165  |#define         ITEM_AUDIBLE            13
                            29461 ; 166  |#endif
                            29462 ; 167  |#define         ITEM_ON_THE_GO          14
                            29463 ; 168  |
                            29464 ; 169  |#define         ITEM_VOICE                      15
                            29465 ; 170  |#define         ITEM_FMREC                      16
                            29466 ; 171  |#define         ITEM_PHOTO                      17
                            29467 ; 172  |#ifdef _FOLDER_BROWSE_
                            29468 ; 173  |#define         ITEM_INTERNAL           18
                            29469 ; 174  |#define         ITEM_EXTERNAL       19
                            29470 ; 175  |#endif  // _FOLDER_BROWSE_
                            29471 ; 176  |#define     ITEM_UNKNOWN        0xff
                            29472 ; 177  |
                            29473 ; 178  |/*
                            29474 ; 179  |input parameter for void ML_AddEntryToLibrary(uint24 Media_type, RAM_SONG_INFO_T *song_info, int16 option);
                            29475 ; 180  |option input.
                            29476 ; 181  |*/
                            29477 ; 182  |#define         ADD_OPTION_MUSIC        (0x00)
                            29478 ; 183  |#define         ADD_OPTION_VOICE        (0x01)
                            29479 ; 184  |#define         ADD_OPTION_AUDIBLE      (0x02)
                            29480 ; 185  |#ifdef _FOLDER_BROWSE_
                            29481 ; 186  |#define     ADD_OPTION_DIR      (0x03)
                            29482 ; 187  |#endif  // _FOLDER_BROWSE_
                            29483 ; 188  |
                            29484 ; 189  |/* Constant for key action */
                            29485 ; 190  |#define         ACTION_OK                               0               /* Press OK button */
                            29486 ; 191  |#define         ACTION_BACK                             1               /* Press BACK button */
                            29487 ; 192  |#define         ACTION_UP                               2               /* Press UP button */
                            29488 ; 193  |#define         ACTION_DOWN                             3               /* Press DOWN button */
                            29489 ; 194  |#define         ACTION_PLAYALL                  4               /* Play All function */
                            29490 ; 195  |#define         ACTION_MENU                             5               /* Back the browsing tree to root */
                            29491 ; 196  |
                            29492 ; 197  |#define     PLAYMODE_CURRENT_PLAYMODE_BITPOS    0
                            29493 ; 198  |#define     PLAYMODE_LAST_PLAYMODE_BITPOS       1
                            29494 ; 199  |#define     PLAYMODE_REPEAT_BITPOS              2
                            29495 ; 200  |#define     PLAYMODE_MEDIA_BITPOS               3
                            29496 ; 201  |
                            29497 ; 202  |#define         NO_SD                                   0
                            29498 ; 203  |#define         HAS_SD                                  1
                            29499 ; 204  |
                            29500 ; 205  |#define         PLAY_NORMAL                             0
                            29501 ; 206  |#define         PLAY_SHUFFLE                    1
                            29502 ; 207  |
                            29503 ; 208  |#define     PLAY_REPEAT_OFF         0
                            29504 ; 209  |#define     PLAY_REPEAT_ON          1
                            29505 ; 210  |
                            29506 ; 211  |#define     PLAY_SELECT_FLASH       0
                            29507 ; 212  |#define     PLAY_SELECT_SD          1
                            29508 ; 213  |
                            29509 ; 214  |#define         SHUFFLE_NEXT_SONG                       0
                            29510 ; 215  |#define         SHUFFLE_PREVIOUS_SONG       1
                            29511 ; 216  |
                            29512 ; 217  |#define         ON_THE_GO_EXIST                 0
                            29513 ; 218  |#define         ON_THE_GO_FULL                  1
                            29514 ; 219  |#define         ON_THE_GO_FREE                  2
                            29515 ; 220  |#define         ON_THE_GO_DEL_PLAYING   3
                            29516 ; 221  |#define         ON_THE_GO_DEL_SMALLER_ID    4
                            29517 ; 222  |
                            29518 ; 223  |#define         REC_VOICE_TYPE                  0
                            29519 ; 224  |#define         REC_FMREC_TYPE                  1
                            29520 ; 225  |#define         REC_PHOTO_TYPE                  2
                            29521 ; 226  |#define         VOICE_FILE_ADD                  0
                            29522 ; 227  |#define         VOICE_FILE_DEL                  1
                            29523 ; 228  |
                            29524 ; 229  |#define         MAX_BROWSE_WINDOW_SIZE  (8)
                            29525 ; 230  |#define         BROWSE_WINDOW_SIZE              (4)
                            29526 ; 231  |/* maximum number of song file, should not be larger than 2048 each for on-board
                            29527 ; 232  |flash or external SD card */
                            29528 ; 233  |#ifdef _SUPPORT_2000_SONGS_
                            29529 ; 234  |#define MAX_NUM_OF_SONG (2000)
                            29530 ; 235  |#else
                            29531 ; 236  |#define MAX_NUM_OF_SONG (1000)
                            29532 ; 237  |#endif // _SUPPORT_2000_SONGS_
                            29533 ; 238  |
                            29534 ; 239  |/* number of byte in one DSP word */
                            29535 ; 240  |#define NUM_OF_BYTE_IN_ONE_WORD (3)
                            29536 ; 241  |#define LEN_OF_NAME_IN_BYTE (120) /* must be an integer multiple of 3 */
                            29537 ; 242  |/* length of file pathname in byte, assuming directory and file in 8.3 format, there
                            29538 ; 243  |are 10 level directory structure */
                            29539 ; 244  |#define LEN_OF_FILEPATH_IN_BYTE (129) /* must be an integer multiple of 3 */
                            29540 ; 245  |#define LEN_OF_LONG_FILENAME_IN_BYTE (129) /* must be an integer multiple of 3 */
                            29541 ; 246  |
                            29542 ; 247  |/* number of list in new music, 1-day, 1-week, 1-month */
                            29543 ; 248  |#define NUM_OF_LIST_IN_NEW_MUSIC (3)
                            29544 ; 249  |/* number of songs in each new music list */
                            29545 ; 250  |#define NUM_OF_SONG_IN_NEW_MUSIC (40)
                            29546 ; 251  |#define NUM_OF_SONG_IN_NEW_MUSIC_DAY (20)
                            29547 ; 252  |#define NUM_OF_SONG_IN_NEW_MUSIC_WEEK (30)
                            29548 ; 253  |#define NUM_OF_SONG_IN_NEW_MUSIC_MONTH (40)
                            29549 ; 254  |/* number of songs in the on-the-fly list */
                            29550 ; 255  |#define NUM_OF_SONG_IN_ON_THE_FLY (30)
                            29551 ; 256  |/* number of files audible list */
                            29552 ; 257  |#define NUM_OF_AUDIBLE_FILE (250)
                            29553 ; 258  |
                            29554 ; 259  |#define MAX_NUM_OF_VOICE (1000)
                            29555 ; 260  |#define LEN_OF_VOICE_NAME_IN_BYTE (LEN_OF_NAME_IN_BYTE) /* must be an integer multiple of 3 */
                            29556 ; 261  |#define LEN_OF_VOICE_FILEPATH_IN_BYTE (LEN_OF_FILEPATH_IN_BYTE) /* must be an integer multiple of 3 */
                            29557 ; 262  |
                            29558 ; 263  |#define MAX_NUM_OF_FMREC (MAX_NUM_OF_VOICE)     /* _must_be_equal_voice_num_ */
                            29559 ; 264  |#define MAX_NUM_OF_PHOTO (MAX_NUM_OF_VOICE)     /* _must_be_equal_voice_num_ */
                            29560 ; 265  |#ifdef _FOLDER_BROWSE_
                            29561 ; 266  |#define MAX_NUM_OF_DIR   (1000)
                            29562 ; 267  |#else
                            29563 ; 268  |#define MAX_NUM_OF_DIR   (1)
                            29564 ; 269  |#endif  // _FOLDER_BROWSE_
                            29565 ; 270  |#define LEN_OF_FMREC_NAME_IN_BYTE (LEN_OF_NAME_IN_BYTE) /* must be an integer multiple of 3 */
                            29566 ; 271  |#define LEN_OF_FMREC_FILEPATH_IN_BYTE (LEN_OF_FILEPATH_IN_BYTE) /* must be an integer multiple of 3 */
                            29567 ; 272  |
                            29568 ; 273  |#ifndef _MAX_DIR_DEPTH
                            29569 ; 274  |#define _MAX_DIR_DEPTH  8   // referred to "playlist3internal.h"
                            29570 ; 275  |#endif  // _MAX_DIR_DEPTH
                            29571 ; 276  |
                            29572 ; 277  |/*==================================================================================================*/
                            29573 ; 278  |
                            29574 ; 279  |
                            29575 ; 280  |/*==================================================================================================
                            29576 ; 281  |                                               MACROS
                            29577 ; 282  |==================================================================================================*/
                            29578 ; 283  |
                            29579 ; 284  |/*==================================================================================================
                            29580 ; 285  |                                               ENUMS
                            29581 ; 286  |==================================================================================================*/
                            29582 ; 287  |#define NUM_OF_MEDIA                            (2)
                            29583 ; 288  |#define MEDIA_TYPE_FLASH                        (0)
                            29584 ; 289  |#define MEDIA_TYPE_SD                           (1)
                            29585 ; 290  |/*==================================================================================================
                            29586 ; 291  |                                     STRUCTURES AND OTHER TYPEDEFS
                            29587 ; 292  |==================================================================================================*/
                            29588 ; 293  |
                            29589 ; 294  |typedef char    int8;
                            29590 ; 295  |typedef short   int16;
                            29591 ; 296  |typedef int     int24;
                            29592 ; 297  |typedef long    int32;
                            29593 ; 298  |
                            29594 ; 299  |typedef int     intx;
                            29595 ; 300  |
                            29596 ; 301  |typedef unsigned char   uint8;
                            29597 ; 302  |typedef unsigned short  uint16;
                            29598 ; 303  |typedef unsigned int    uint24;
                            29599 ; 304  |typedef unsigned long   uint32;
                            29600 ; 305  |
                            29601 ; 306  |/*
                            29602 ; 307  |Any missing information in the name fields will be filled with Unknown in Unicode format.
                            29603 ; 308  |artist_name[] = Unknown; unicode = 0x01;
                            29604 ; 309  |album_name[] = Unknown; unicode = 0x04;
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page 115

M:ADDR CODE           CYCLES LINE SOURCELINE
                            29605 ; 310  |genre_name[] = Unknown; unicode = 0x08;
                            29606 ; 311  |song_name[] = Unknown; unicode = 0x0F;
                            29607 ; 312  |*/
                            29608 ; 313  |/*
                            29609 ; 314  |path_name[] _must_have_data_:
                            29610 ; 315  |path_name[] = (Max. 120 Characters);
                            29611 ; 316  |year range:
                            29612 ; 317  |year = 0x000000-0xFFFFFF;
                            29613 ; 318  |DOCUMENT CONTROL NUMBER : Version : 01.01
                            29614 ; 319  |Unknown track number:
                            29615 ; 320  |track_number = 0x7FFFFF;
                            29616 ; 321  |unicode refer to above #define BITMASK_*
                            29617 ; 322  |*/
                            29618 ; 323  |/*
                            29619 ; 324  |Interface of UI and Music Library
                            29620 ; 325  |1) If file was created in ID3V1 format genre, UI will convert it to Unicode string.
                            29621 ; 326  |
                            29622 ; 327  |2) Music Library expected to reserve 128x7 words RAM for UI mapping table.
                            29623 ; 328  |
                            29624 ; 329  |3) UI to Music Library variable passing length definition:
                            29625 ; 330  |        All ASCII Characters:
                            29626 ; 331  |                Max. Number of Bytes Stored = 120 Bytes
                            29627 ; 332  |                Max. Number of Characters Stored/Display = 40 Characters
                            29628 ; 333  |        Unicode Characters:
                            29629 ; 334  |                Max. Number of Bytes Stored = 120 Bytes
                            29630 ; 335  |                Max. Number of Characters Stored/Display = 40 Characters
                            29631 ; 336  |
                            29632 ; 337  |4) UI input data to Music Library in two formats.
                            29633 ; 338  |        Formats:        1) All ASCII (24 bits data)
                            29634 ; 339  |                                2) Unicode + Mix. Non -Unicode (16 bits data)
                            29635 ; 340  |
                            29636 ; 341  |5) UI calling function:
                            29637 ; 342  |COMP_OPT_REN void ML_AddEntryToLibrary(RAM_SONG_INFO_T *song_info, int16 option);
                            29638 ; 343  |        int16 option definition:
                            29639 ; 344  |                option  = 0 - song_info struct contains a mp3/wma format file.
                            29640 ; 345  |                                = 1 - song_info struct contains a voice format file.
                            29641 ; 346  |                                = 2 - song_info struct contains a audible format file.
                            29642 ; 347  |
                            29643 ; 348  |        i) Only mp3/wma file (option = 0, 2) files will be sorted,
                            29644 ; 349  |        ii) Voice and audible(option = 1) file will be store in a voice_list and audible_list separately.
                            29645 ; 350  |
                            29646 ; 351  |6) Modification Date:
                            29647 ; 352  |        uint24 g_file_time:
                            29648 ; 353  |                YYMMDD: 12 bits - Year, 6 bits - Month, 6 - bits Date
                            29649 ; 354  |*/
                            29650 ; 355  |
                            29651 ; 356  |/* struct to store the song information passed from UI, this struct will be placed in
                            29652 ; 357  |ghdr\musiclib_ghdr.h and included in UI files*/
                            29653 ; 358  |typedef struct _ram_song_info {
                            29654 ; 359  |        uint24 artist_name[LEN_OF_NAME_IN_BYTE/NUM_OF_BYTE_IN_ONE_WORD];
                            29655 ; 360  |        uint24 album_name[LEN_OF_NAME_IN_BYTE/NUM_OF_BYTE_IN_ONE_WORD];
                            29656 ; 361  |        uint24 genre_name[LEN_OF_NAME_IN_BYTE/NUM_OF_BYTE_IN_ONE_WORD];
                            29657 ; 362  |        uint24 song_name[LEN_OF_NAME_IN_BYTE/NUM_OF_BYTE_IN_ONE_WORD];
                            29658 ; 363  |        uint24 path_name[LEN_OF_FILEPATH_IN_BYTE/NUM_OF_BYTE_IN_ONE_WORD];
                            29659 ; 364  |    uint32 g_songFastKey;
                            29660 ; 365  |        uint24 dir_name[LEN_OF_LONG_FILENAME_IN_BYTE/NUM_OF_BYTE_IN_ONE_WORD];
                            29661 ; 366  |        uint24 year;
                            29662 ; 367  |        uint24 track_number;
                            29663 ; 368  |        uint8 unicode;
                            29664 ; 369  |} RAM_SONG_INFO_T;
                            29665 ; 370  |
                            29666 ; 371  |/* struct to store the group name: artist, album and genre, in the flash */
                            29667 ; 372  |typedef struct _flash_group_name {
                            29668 ; 373  |        uint24 name[LEN_OF_NAME_IN_BYTE/NUM_OF_BYTE_IN_ONE_WORD];
                            29669 ; 374  |        uint8 unicode;
                            29670 ; 375  |} FLASH_GROUP_NAME_T;
                            29671 ; 376  |
                            29672 ; 377  |// struct to store directories information passed from UI
                            29673 ; 378  |#ifdef _FOLDER_BROWSE_
                            29674 ; 379  |typedef struct _ml_DirInfo {
                            29675 ; 380  |        uint24  u8Unicode : 8;
                            29676 ; 381  |        uint24  u12DirDepth : 12;
                            29677 ; 382  |        uint24  u4Added : 4;            
                            29678 ; 383  |        INT     iDirRecord;
                            29679 ; 384  |        DWORD   dwFastKey;
                            29680 ; 385  |        uint24  u24PathName[LEN_OF_FILEPATH_IN_BYTE/NUM_OF_BYTE_IN_ONE_WORD];
                            29681 ; 386  |} ML_DIRINFO_T;
                            29682 ; 387  |#endif  // _FOLDER_BROWSE_
                            29683 ; 388  |
                            29684 ; 389  |/*==================================================================================================
                            29685 ; 390  |                                 GLOBAL VARIABLE DECLARATIONS
                            29686 ; 391  |==================================================================================================*/
                            29687 ; 392  |extern uint24   IsPlayOnTheGo;
                            29688 ; 393  |extern FLASH_GROUP_NAME_T   browse_item_name[];
                            29689 ; 394  |extern uint24   merge_id_list_flash[];
                            29690 ; 395  |extern uint24   merge_id_list_sd[];
                            29691 ; 396  |extern INT _X   g_iBrowseWindowSize;
                            29692 ; 397  |#ifdef _FOLDER_BROWSE_
                            29693 ; 398  |extern ML_DIRINFO_T g_tDirInfoBuffer[_MAX_DIR_DEPTH];
                            29694 ; 399  |extern uint24       g_u24DirName[LEN_OF_NAME_IN_BYTE/NUM_OF_BYTE_IN_ONE_WORD];
                            29695 ; 400  |extern uint24       g_u24BrowseNumOfDirInDir[];
                            29696 ; 401  |#endif  // _FOLDER_BROWSE_
                            29697 ; 402  |extern INT _X    *sec_temp_buf_X;
                            29698 ; 403  |extern uint24   playMode;   /* bit 0 = current play mode; bit 1 = last play mode ; bit 2 = repeat on/off(0=off/1=on) */
                            29699 ; 404  |
                            29700 ; 405  |/*==================================================================================================
                            29701 ; 406  |                                        FUNCTION PROTOTYPES
                            29702 ; 407  |==================================================================================================*/
                            29703 ; 408  |
                            29704 ; 409  |///////////////////////////////////////////////////////////////////////
                            29705 ; 410  |//! \brief
                            29706 ; 411  |//!
                            29707 ; 412  |//! \fntype Function
                            29708 ; 413  |//!
                            29709 ; 414  |//! Called by UI, to initialize the parameters before insert any item.
                            29710 ; 415  |//! Call only once before inserting items. Call once for each media.
                            29711 ; 416  |//!
                            29712 ; 417  |//! \param[in]  none
                            29713 ; 418  |//!
                            29714 ; 419  |//! \return
                            29715 ; 420  |//!
                            29716 ; 421  |///////////////////////////////////////////////////////////////////////
                            29717 ; 422  |void ML_InitLibraryParameter(void);
                            29718 ; 423  |
                            29719 ; 424  |///////////////////////////////////////////////////////////////////////
                            29720 ; 425  |//! \brief
                            29721 ; 426  |//!
                            29722 ; 427  |//! \fntype Function
                            29723 ; 428  |//!
                            29724 ; 429  |//! Called by UI, the AddEntryToLibrary is the music library building
                            29725 ; 430  |//! algorithms for the flash-type memory and SD memory by sorting the song information
                            29726 ; 431  |//! by, but not limited to, album, artist, genre, year and track. Called once for each song,
                            29727 ; 432  |//! the song information is recorded in music library.
                            29728 ; 433  |//!
                            29729 ; 434  |//! \param[in]  uint24 Media_type - Possible values: MEDIA_TYPE_FLASH(=0); MEDIA_TYPE_SD(=1)
                            29730 ; 435  |//! \param[in]  RAM_SONG_INFO_T *song_info - Structure to store the song information passed from UI, this structure is defined in ghdr\musiclib_ghdr.h and included in UI files)
                            29731 ; 436  |//! \param[in]  int16 option - option = 0 -- song_info struct contains a mp3, wma or wav format file.
                            29732 ; 437  |//!
                            29733 ; 438  |//! \return
                            29734 ; 439  |//!
                            29735 ; 440  |///////////////////////////////////////////////////////////////////////
                            29736 ; 441  |void ML_AddEntryToLibrary(uint24 Media_type, RAM_SONG_INFO_T *song_info, int16 option);
                            29737 ; 442  |
                            29738 ; 443  |///////////////////////////////////////////////////////////////////////
                            29739 ; 444  |//! \brief
                            29740 ; 445  |//!
                            29741 ; 446  |//! \fntype Function
                            29742 ; 447  |//!
                            29743 ; 448  |//! \param[in]
                            29744 ; 449  |//!
                            29745 ; 450  |//! \return
                            29746 ; 451  |//!
                            29747 ; 452  |///////////////////////////////////////////////////////////////////////
                            29748 ; 453  |#ifdef _FOLDER_BROWSE_
                            29749 ; 454  |_reentrant void ML_AddDirEntryToLibrary(uint24 u24MediaType, ML_DIRINFO_T *ptDirInfo, int16 i16Option);
                            29750 ; 455  |#endif  // _FOLDER_BROWSE_
                            29751 ; 456  |
                            29752 ; 457  |///////////////////////////////////////////////////////////////////////
                            29753 ; 458  |//! \brief
                            29754 ; 459  |//!
                            29755 ; 460  |//! \fntype Function
                            29756 ; 461  |//!
                            29757 ; 462  |//! Called by UI, flush sorted and associate list to flash when no
                            29758 ; 463  |//! more song needed to be added for that media. This function finalizes the building of
                            29759 ; 464  |//! music library for that particular media.
                            29760 ; 465  |//!
                            29761 ; 466  |//! \param[in]  uint24 Media_type - Possible values: MEDIA_TYPE_FLASH(=0); MEDIA_TYPE_SD(=1)
                            29762 ; 467  |//!
                            29763 ; 468  |//! \return
                            29764 ; 469  |//!
                            29765 ; 470  |//! \note   Bulid the library first (call ML_AddEntryToLibrary) before calling this
                            29766 ; 471  |//!         function.
                            29767 ; 472  |///////////////////////////////////////////////////////////////////////
                            29768 ; 473  |_reentrant INT ML_FlushLibraryToFlash(INT Media_type, INT b, INT *c);
                            29769 ; 474  |
                            29770 ; 475  |///////////////////////////////////////////////////////////////////////
                            29771 ; 476  |//! \brief
                            29772 ; 477  |//!
                            29773 ; 478  |//! \fntype Function
                            29774 ; 479  |//!
                            29775 ; 480  |//! \param[in]
                            29776 ; 481  |//!
                            29777 ; 482  |//! \return
                            29778 ; 483  |//!
                            29779 ; 484  |///////////////////////////////////////////////////////////////////////
                            29780 ; 485  |#ifdef _NEWMUSIC_
                            29781 ; 486  |void ML_UpdateNewMusic(void);
                            29782 ; 487  |#endif
                            29783 ; 488  |
                            29784 ; 489  |///////////////////////////////////////////////////////////////////////
                            29785 ; 490  |//! \brief
                            29786 ; 491  |//!
                            29787 ; 492  |//! \fntype Function
                            29788 ; 493  |//!
                            29789 ; 494  |//! Called by UI, to initialize the file access mechanism for all music
                            29790 ; 495  |//! library operation if the music.lib file and the music.sec file exist (call
                            29791 ; 496  |//! ML_BuildSecTableFile() if these files do not exist).
                            29792 ; 497  |//!
                            29793 ; 498  |//! \param[in]  none
                            29794 ; 499  |//!
                            29795 ; 500  |//! \return
                            29796 ; 501  |//!
                            29797 ; 502  |//! \note   Either ML_Buildl2SecTable(void) or ML_BuildSecTableFile(void)
                            29798 ; 503  |//!         must be called before calling any other music library functions.
                            29799 ; 504  |///////////////////////////////////////////////////////////////////////
                            29800 ; 505  |_reentrant INT ML_Buildl2SecTable(INT a, INT b, INT *c);
                            29801 ; 506  |
                            29802 ; 507  |///////////////////////////////////////////////////////////////////////
                            29803 ; 508  |//! \brief
                            29804 ; 509  |//!
                            29805 ; 510  |//! \fntype Function
                            29806 ; 511  |//!
                            29807 ; 512  |//! Called by UI, to initialize the file access mechanism for all music
                            29808 ; 513  |//! library operation.
                            29809 ; 514  |//! Two system files (music.lib and music.sec) is created.
                            29810 ; 515  |//! Call this only if intended to generate / refresh these files, or if the music.lib file and the
                            29811 ; 516  |//! music.sec file do not exist.
                            29812 ; 517  |//!
                            29813 ; 518  |//! \param[in]  none
                            29814 ; 519  |//!
                            29815 ; 520  |//! \return
                            29816 ; 521  |//!
                            29817 ; 522  |//! \note   Either ML_Buildl2SecTable(void) or ML_BuildSecTableFile(void)
                            29818 ; 523  |//!         must be called before calling any other music library functions.
                            29819 ; 524  |///////////////////////////////////////////////////////////////////////
                            29820 ; 525  |_reentrant INT ML_BuildSecTableFile(INT a, INT b, INT *c);
                            29821 ; 526  |
                            29822 ; 527  |///////////////////////////////////////////////////////////////////////
                            29823 ; 528  |//! \brief
                            29824 ; 529  |//!
                            29825 ; 530  |//! \fntype Function
                            29826 ; 531  |//!
                            29827 ; 532  |//! Preload the list, prepare for renew.
                            29828 ; 533  |//! IsColdBoot=TRUE: loads the list content and the path name to the on_the_fly_list
                            29829 ; 534  |//! structure in RAM.
                            29830 ; 535  |//! IsColdBoot=FALSE: updates the path name only, to the on_the_fly_list structure
                            29831 ; 536  |//! in RAM.
                            29832 ; 537  |//!
                            29833 ; 538  |//! \param[in]  uint24 IsColdBoot - Possible values: TRUE or FALSE
                            29834 ; 539  |//!
                            29835 ; 540  |//! \return
                            29836 ; 541  |//!
                            29837 ; 542  |//! \note   Use IsColdBoot=TRUE only once when the machine boot-up, other
                            29838 ; 543  |//!         time when you need to renew the list, use IsColdBoot=FALSE instead.
                            29839 ; 544  |///////////////////////////////////////////////////////////////////////
                            29840 ; 545  |void ML_LoadOnTheGo(uint24 IsColdBoot);
                            29841 ; 546  |
                            29842 ; 547  |///////////////////////////////////////////////////////////////////////
                            29843 ; 548  |//! \brief
                            29844 ; 549  |//!
                            29845 ; 550  |//! \fntype Function
                            29846 ; 551  |//!
                            29847 ; 552  |//! Save the list to flash memory.
                            29848 ; 553  |//!
                            29849 ; 554  |//! \param[in]
                            29850 ; 555  |//!
                            29851 ; 556  |//! \return
                            29852 ; 557  |//!
                            29853 ; 558  |//! \note   It is recommended to save the list as soon as possible after it was
                            29854 ; 559  |//!         changed by the user.
                            29855 ; 560  |///////////////////////////////////////////////////////////////////////
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page 116

M:ADDR CODE           CYCLES LINE SOURCELINE
                            29856 ; 561  |void ML_SaveOnTheGo(void);      /* call at shutdownmenu.c to save the list */
                            29857 ; 562  |
                            29858 ; 563  |///////////////////////////////////////////////////////////////////////
                            29859 ; 564  |//! \brief
                            29860 ; 565  |//!
                            29861 ; 566  |//! \fntype Function
                            29862 ; 567  |//! When the Music Lib is rebuilding, the path of each song is
                            29863 ; 568  |//! compared with the path stored in the on_the_fly_list structure, to decide if it was in the
                            29864 ; 569  |//! list before, if so the ID is replaced by the new songID, and the song is keep in the list.
                            29865 ; 570  |//! Otherwise the song is deleted.
                            29866 ; 571  |//!
                            29867 ; 572  |//! \param[in]  uint24 Media_type - Possible values: MEDIA_TYPE_FLASH(=0); MEDIA_TYPE_SD(=1)
                            29868 ; 573  |//! \param[in]  uint24 _X * temp_path - Input value, the path of song to be checked.
                            29869 ; 574  |//! \param[in]  uint24 newID - Input value, the new songID of the song.
                            29870 ; 575  |//!
                            29871 ; 576  |//! \return
                            29872 ; 577  |//!
                            29873 ; 578  |///////////////////////////////////////////////////////////////////////
                            29874 ; 579  |void ML_ChkOnTheGo(uint24 Media_type, uint24 _X * temp_path, uint24 newID);
                            29875 ; 580  |
                            29876 ; 581  |///////////////////////////////////////////////////////////////////////
                            29877 ; 582  |//! \brief
                            29878 ; 583  |//!
                            29879 ; 584  |//! \fntype Function
                            29880 ; 585  |//!
                            29881 ; 586  |//! Set a flag for all the songs of Media_type to be keep or delete
                            29882 ; 587  |//! in the ML_UpdateOnTheGo().
                            29883 ; 588  |//!
                            29884 ; 589  |//! \param[in]  uint24 Media_type - Possible values: MEDIA_TYPE_FLASH(=0); MEDIA_TYPE_SD(=1)
                            29885 ; 590  |//! \param[in]  uint24 value - Possible values: TRUE (song will be keep in the list); INDEX_EOF (song will be deleted)
                            29886 ; 591  |//!
                            29887 ; 592  |//! \return
                            29888 ; 593  |//!
                            29889 ; 594  |///////////////////////////////////////////////////////////////////////
                            29890 ; 595  |void ML_ChOnTheGo(uint24 Media_type, uint24 value);
                            29891 ; 596  |
                            29892 ; 597  |///////////////////////////////////////////////////////////////////////
                            29893 ; 598  |//! \brief
                            29894 ; 599  |//!
                            29895 ; 600  |//! \fntype Function
                            29896 ; 601  |//!
                            29897 ; 602  |//! Before the list can be browse, call this function to finalize the list.
                            29898 ; 603  |//!
                            29899 ; 604  |//! \param[in]  none
                            29900 ; 605  |//!
                            29901 ; 606  |//! \return
                            29902 ; 607  |//!
                            29903 ; 608  |///////////////////////////////////////////////////////////////////////
                            29904 ; 609  |void ML_UpdateOnTheGo(void);
                            29905 ; 610  |
                            29906 ; 611  |///////////////////////////////////////////////////////////////////////
                            29907 ; 612  |//! \brief
                            29908 ; 613  |//!
                            29909 ; 614  |//! \fntype Function
                            29910 ; 615  |//!
                            29911 ; 616  |//! Called by UI, to initialize the parameters before insert any item.
                            29912 ; 617  |//! Call only once before inserting items. Call once for each media.
                            29913 ; 618  |//!
                            29914 ; 619  |//! \param[in]  none
                            29915 ; 620  |//!
                            29916 ; 621  |//! \return
                            29917 ; 622  |//!
                            29918 ; 623  |///////////////////////////////////////////////////////////////////////
                            29919 ; 624  |void ML_InitVoiceParameter(void);
                            29920 ; 625  |
                            29921 ; 626  |///////////////////////////////////////////////////////////////////////
                            29922 ; 627  |//! \brief
                            29923 ; 628  |//!
                            29924 ; 629  |//! \fntype Function
                            29925 ; 630  |//!
                            29926 ; 631  |//! \param[in]
                            29927 ; 632  |//!
                            29928 ; 633  |//! \return
                            29929 ; 634  |//!
                            29930 ; 635  |///////////////////////////////////////////////////////////////////////
                            29931 ; 636  |void ML_LoadVoiceParameter(uint24 Rec_type);
                            29932 ; 637  |
                            29933 ; 638  |///////////////////////////////////////////////////////////////////////
                            29934 ; 639  |//! \brief
                            29935 ; 640  |//!
                            29936 ; 641  |//! \fntype Function
                            29937 ; 642  |//!
                            29938 ; 643  |//! Called by UI, the ML_AddEntryToVoice is the voice library
                            29939 ; 644  |//! building algorithms for the flash-type memory by sorting the voice files by file names.
                            29940 ; 645  |//! Called once for each voice file, the information is recorded in music library.
                            29941 ; 646  |//!
                            29942 ; 647  |//! \param[in]  uint24 Rec_type - Possible values: REC_VOICE_TYPE(=0); REC_FMREC_TYPE(=1)
                            29943 ; 648  |//! \param[in]  RAM_SONG_INFO_T *song_info - struct to store the song information passed from UI, this struct will be placed in ghdr\musiclib_ghdr.h and included in UI files
                            29944 ; 649  |//! \param[in]  uint24 action - option = 0 // always set zero
                            29945 ; 650  |//!
                            29946 ; 651  |//! \return
                            29947 ; 652  |//!
                            29948 ; 653  |///////////////////////////////////////////////////////////////////////
                            29949 ; 654  |void ML_AddEntryToVoice(uint24 Rec_type, RAM_SONG_INFO_T *song_info, uint24 action);
                            29950 ; 655  |
                            29951 ; 656  |///////////////////////////////////////////////////////////////////////
                            29952 ; 657  |//! \brief
                            29953 ; 658  |//!
                            29954 ; 659  |//! \fntype Function
                            29955 ; 660  |//!
                            29956 ; 661  |//! Called by UI, flush sorted and associate list to flash when no
                            29957 ; 662  |//! more voice needed to be added for that media. This function finalizes the voice building
                            29958 ; 663  |//! of music library for that particular media.
                            29959 ; 664  |//!
                            29960 ; 665  |//! \param[in]  uint24 Rec_type - Possible values: REC_VOICE_TYPE(=0); REC_FMREC_TYPE(=1)
                            29961 ; 666  |//!
                            29962 ; 667  |//! \return
                            29963 ; 668  |//!
                            29964 ; 669  |//! \note   Bulid the library first (call ML_AddEntryToVoice) before calling this
                            29965 ; 670  |//!         function.
                            29966 ; 671  |///////////////////////////////////////////////////////////////////////
                            29967 ; 672  |void ML_FlushVoiceToFlash(uint24 Rec_type);
                            29968 ; 673  |
                            29969 ; 674  |///////////////////////////////////////////////////////////////////////
                            29970 ; 675  |//! \brief
                            29971 ; 676  |//!
                            29972 ; 677  |//! \fntype Function
                            29973 ; 678  |//!
                            29974 ; 679  |//! Called by UI, the merge the music library tables album,
                            29975 ; 680  |//! artist, genre, song and year.
                            29976 ; 681  |//!
                            29977 ; 682  |//! \param[in]  none
                            29978 ; 683  |//!
                            29979 ; 684  |//! \return
                            29980 ; 685  |//!
                            29981 ; 686  |///////////////////////////////////////////////////////////////////////
                            29982 ; 687  |void ML_MergeLibraryTables(void);
                            29983 ; 688  |
                            29984 ; 689  |///////////////////////////////////////////////////////////////////////
                            29985 ; 690  |//! \brief
                            29986 ; 691  |//!
                            29987 ; 692  |//! \fntype Function
                            29988 ; 693  |//!
                            29989 ; 694  |//! Called by UI, the merge the music library tables album,
                            29990 ; 695  |//! artist, genre, song and year.
                            29991 ; 696  |//!
                            29992 ; 697  |//! \param[in]  none
                            29993 ; 698  |//!
                            29994 ; 699  |//! \return
                            29995 ; 700  |//!
                            29996 ; 701  |///////////////////////////////////////////////////////////////////////
                            29997 ; 702  |INT _reentrant PathFormationPartial(_packed BYTE* dst, _packed BYTE* src, int iDepth);
                            29998 ; 703  |INT _reentrant PathFormation(_packed BYTE* dst, _packed BYTE* src, int iDepth);
                            29999 ; 704  |_reentrant void TrimUnicodeString(UCS3* pString);
                            30000 ; 705  |_reentrant void TrimPackedString(UCS3* pString);
                            30001 ; 706  |
                            30002 ; 707  |///////////////////////////////////////////////////////////////////////
                            30003 ; 708  |//! \brief
                            30004 ; 709  |//!
                            30005 ; 710  |//! \fntype Function
                            30006 ; 711  |//!
                            30007 ; 712  |//! \param[in]
                            30008 ; 713  |//!
                            30009 ; 714  |//! \return
                            30010 ; 715  |//!
                            30011 ; 716  |///////////////////////////////////////////////////////////////////////
                            30012 ; 717  |_reentrant void ML_FlushSortedListToFlash(uint24 u24MediaType);
                            30013 ; 718  |
                            30014 ; 719  |/*================================================================================================*/
                            30015 ; 720  |
                            30016 ; 721  |// Siukoon 2005-02-28
                            30017 ; 722  |#define MUSICLIB_STDRIVE_NUMBER     (0)
                            30018 ; 723  |#ifdef _SUPPORT_2000_SONGS_
                            30019 ; 724  |#define MUSICLIB_FILESIZE_IN_BYTE   (4194304L*2) // (SINGLE_DATABASE_SIZE*BYTE_PER_SECTOR)*2
                            30020 ; 725  |#else
                            30021 ; 726  |#define MUSICLIB_FILESIZE_IN_BYTE   (2097152L*2) // (SINGLE_DATABASE_SIZE*BYTE_PER_SECTOR)*2
                            30022 ; 727  |#endif  // _SUPPORT_2000_SONGS_
                            30023 ; 728  |#define MUSICLIB_FLASHPART_FILESIZE_IN_BYTE   (MUSICLIB_FILESIZE_IN_BYTE/2)
                            30024 ; 729  |#define WORD_PER_SECTOR             (171)
                            30025 ; 730  |#define BYTE_PER_SECTOR             (512)
                            30026 ; 731  |#define MUSICLIB_FILESIZE_IN_SECTOR (MUSICLIB_FILESIZE_IN_BYTE/BYTE_PER_SECTOR)
                            30027 ; 732  |#define MUSICLIB_FLASHPART_FILESIZE_IN_SECTOR (MUSICLIB_FLASHPART_FILESIZE_IN_BYTE/BYTE_PER_SECTOR)
                            30028 ; 733  |
                            30029 ; 734  |#define LB_BYTE_PER_SECTOR          (2048)
                            30030 ; 735  |#define LB_MUSICLIB_FILESIZE_IN_SECTOR (MUSICLIB_FILESIZE_IN_BYTE/LB_BYTE_PER_SECTOR)
                            30031 ; 736  |#define LB_MUSICLIB_FLASHPART_FILESIZE_IN_SECTOR (MUSICLIB_FLASHPART_FILESIZE_IN_BYTE/LB_BYTE_PER_SECTOR)
                            30032 ; 737  |
                            30033 ; 738  |#define MUSICLIB_FAT_ERROR_NOT_ENOUGH_MEDIA_SPACE       1
                            30034 ; 739  |#define MUSICLIB_FAT_ERROR_CREATE_FILE                  2
                            30035 ; 740  |#define MUSICLIB_FAT_ERROR_DELETE_FILE                  3
                            30036 ; 741  |#define MUSICLIB_FAT_ERROR_OPEN_FILE                    4
                            30037 ; 742  |
                            30038 ; 743  |/////////////////////
                            30039 ; 744  |
                            30040 ; 745  |#define LONG_SIZE_IN_BYTE                               (6)
                            30041 ; 746  |
                            30042 ; 747  |#ifdef _SUPPORT_2000_SONGS_
                            30043 ; 748  |#define SEC_TABLE_SIZE_IN_LONG                  (16384) // DATABASE_SIZE
                            30044 ; 749  |#else
                            30045 ; 750  |#define SEC_TABLE_SIZE_IN_LONG                  (8192)  // DATABASE_SIZE
                            30046 ; 751  |#endif // _SUPPORT_2000_SONGS_
                            30047 ; 752  |#define SEC_TABLE_SIZE_IN_BYTE                  (SEC_TABLE_SIZE_IN_LONG*LONG_SIZE_IN_BYTE)
                            30048 ; 753  |
                            30049 ; 754  |#define SEC_TABLE_FLASHPART_SIZE_IN_LONG        (SEC_TABLE_SIZE_IN_LONG/2)
                            30050 ; 755  |#define SEC_TABLE_FLASHPART_SIZE_IN_BYTE        (SEC_TABLE_SIZE_IN_BYTE/2)
                            30051 ; 756  |
                            30052 ; 757  |#define NUM_OF_LONG_PER_512SEC          (85)    // 512/6=>85
                            30053 ; 758  |#ifdef _SUPPORT_2000_SONGS_
                            30054 ; 759  |#define NUM_OF_LEVEL2_SEC                               (194)   /* 97x2 */
                            30055 ; 760  |#define NUM_OF_LEVEL2_FLASHPART_SEC             (97)    /* 8192/85 */
                            30056 ; 761  |#else
                            30057 ; 762  |#define NUM_OF_LEVEL2_SEC                               (98)    /* 49x2 */
                            30058 ; 763  |#define NUM_OF_LEVEL2_FLASHPART_SEC             (49)    /* 4096/85 */
                            30059 ; 764  |#endif // _SUPPORT_2000_SONGS_
                            30060 ; 765  |#define LEVEL2_TABLE_SIZE                               (NUM_OF_LEVEL2_SEC*2)
                            30061 ; 766  |#define SEC_TABLE_FLASH_START_SEC               (0x00)
                            30062 ; 767  |#define SEC_TABLE_SD_START_SEC                  (NUM_OF_LEVEL2_FLASHPART_SEC)
                            30063 ; 768  |
                            30064 ; 769  |#define SEC_TABLE_FILESIZE_IN_BYTE              (BYTE_PER_SECTOR*NUM_OF_LEVEL2_SEC)
                            30065 ; 770  |#ifdef _SUPPORT_2000_SONGS_
                            30066 ; 771  |#define BYTE_FILL_INTERDB_GAP                   (320)   // 512-((8192-(85*96))*6)
                            30067 ; 772  |#else
                            30068 ; 773  |#define BYTE_FILL_INTERDB_GAP                   (((NUM_OF_LEVEL2_FLASHPART_SEC*NUM_OF_LONG_PER_512SEC)-SEC_TABLE_FLASHPART_SIZE_IN_LONG)*LONG_SIZE_IN_BYTE+2)
                            30069 ; 774  |#endif  // _SUPPORT_2000_SONGS_
                            30070 ; 775  |
                            30071 ; 776  |#define LB_SEC_TABLE_SIZE_IN_LONG                       (LB_MUSICLIB_FILESIZE_IN_SECTOR)
                            30072 ; 777  |#define LB_SEC_TABLE_SIZE_IN_BYTE                       (LB_SEC_TABLE_SIZE_IN_LONG*LONG_SIZE_IN_BYTE)
                            30073 ; 778  |
                            30074 ; 779  |#define LB_SEC_TABLE_FLASHPART_SIZE_IN_LONG     (LB_SEC_TABLE_SIZE_IN_LONG/2)
                            30075 ; 780  |#define LB_SEC_TABLE_FLASHPART_SIZE_IN_BYTE     (LB_SEC_TABLE_SIZE_IN_BYTE/2)
                            30076 ; 781  |
                            30077 ; 782  |#define NUM_OF_LONG_PER_2048SEC                     (341)   // 2048/6=>341
                            30078 ; 783  |#ifdef _SUPPORT_2000_SONGS_
                            30079 ; 784  |#define NUM_OF_LEVEL2_2048SEC                           (49)    // 16384/341=>49
                            30080 ; 785  |#define NUM_OF_LEVEL2_FLASHPART_2048SEC         (25)    /* 8192/341=>25 */
                            30081 ; 786  |#else
                            30082 ; 787  |#define NUM_OF_LEVEL2_2048SEC                           (25)    // 8192/341=>25
                            30083 ; 788  |#define NUM_OF_LEVEL2_FLASHPART_2048SEC         (13)    /* 4096/341=>13 */
                            30084 ; 789  |#endif // _SUPPORT_2000_SONGS_
                            30085 ; 790  |
                            30086 ; 791  |#ifdef _SUPPORT_2000_SONGS_
                            30087 ; 792  |#define BYTE_FILL_INTERDB_GAP_2048                      (2000)  // 2048-((8192-(341*24))*6)
                            30088 ; 793  |#define BYTE_FILL_INTERDB_2ND_GAP_2048      (2532)  // 99328-96796
                            30089 ; 794  |#else
                            30090 ; 795  |#define BYTE_FILL_INTERDB_GAP_2048                      (((341-4)*6)+2) //2024
                            30091 ; 796  |#define BYTE_FILL_INTERDB_2ND_GAP_2048      (2556)  // 50176-47620
                            30092 ; 797  |#endif // _SUPPORT_2000_SONGS_
                            30093 ; 798  |
                            30094 ; 799  |#ifdef __cplusplus
                            30095 ; 800  |}
                            30096 ; 801  |#endif
                            30097 ; 802  |
                            30098 ; 803  |#endif  /* MUSICLIB_GHDR_H */
                            30099 
                            30101 
                            30102 ; 6    |#endif
                            30103 ; 7    |
                            30104 ; 8    |#define MAX_FOLDER_SIZE 12              //# of max bytes
                            30105 ; 9    |
                            30106 ; 10   |#define DIRECTORY_SEPARATOR 0x2f
                            30107 ; 11   |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page 117

M:ADDR CODE           CYCLES LINE SOURCELINE
                            30108 ; 12   |#define VOICEDIR_0              0x494f56  //   i o v 
                            30109 ; 13   |#define VOICEDIR_1              0x004543  //     e c
                            30110 ; 14   |
                            30111 ; 15   |#define FMDIR_0         0x004d46  //    m f
                            30112 ; 16   |
                            30113 ; 17   |#define LINE1DIR_0              0x4e494c  //    n i l 
                            30114 ; 18   |#define LINE1DIR_1              0x492d45  //    i - e 
                            30115 ; 19   |#define LINE1DIR_2              0x00004e  //        n          
                            30116 ; 20   |
                            30117 ; 21   |#define REC_TEST_0              0x534554  //    S E T 
                            30118 ; 22   |#define REC_TEST_1              0x000054  //        T       
                            30119 ; 23   |
                            30120 ; 24   |#ifdef USE_PLAYLIST3
                            30121 ; 25   |extern _packed BYTE g_LastEncName[30];
                            30122 ; 26   |#endif  // _VOICE_MENU_H
                            30123 ; 27   |#ifdef USE_PLAYLIST3
                            30124 ; 28   |void _reentrant AddVoiceEntry(uint24);
                            30125 ; 29   |#endif
                            30126 ; 30   |#endif
                            30127 ; 31   |
                            30128 ; 32   |
                            30129 ; 33   |
                            30130 ; 34   |
                            30131 
                            30133 
                            30134 ; 46   |
                            30135 ; 47   |#pragma optimize 2
                            30136 ; 48   |
                            30137 ; 49   |#pragma asm
                            30142 ; 54   |#pragma endasm
                            30143 ; 55   |
                            30144 ; 56   |///////////////Extern FAT32 functions/////////////////////////////////
                            30145 ; 57   |extern _reentrant INT Chdir(_packed char *filepath);
                            30146 ; 58   |extern _reentrant INT FindFirst(Finddata *_finddata,_packed char *FileName);
                            30147 ; 59   |extern _reentrant INT FindNext(INT HandleNumber,Finddata *_finddata);
                            30148 ; 60   |extern _reentrant INT Fclose(INT HandleNumber);
                            30149 ; 61   |extern _reentrant INT GetShortfilename(LONG Key,INT *Buffer);
                            30150 ; 62   |extern _reentrant LONG GetRootdirkey(INT DeviceNumber);
                            30151 ; 63   |extern _reentrant INT FastOpen(LONG Key,_packed char *mode);
                            30152 ; 64   |extern _reentrant INT ConstructLongFileName(INT HandleNumber, INT RecordNumber, INT *LFNBuffer);
                            30153 ; 65   |extern _reentrant INT ChdirFromOffset(_packed char *filepath,INT RecordNumber) ;
                            30154 ; 66   |extern _reentrant INT GetCWDHandle(void);
                            30155 ; 67   |extern _reentrant INT ConstructLongFileName(INT HandleNumber, INT RecordNumber, INT *LFNBuffer);
                            30156 ; 68   |extern _reentrant INT GetChar(_packed char *Buffer,INT *offset);
                            30157 ; 69   |extern _reentrant void PutChar(_packed char *Buffer,INT *offset,INT Char);
                            30158 ; 70   |extern _reentrant int write_detection_access(int option);               //added by samuel on 31/1/05 for flash write detection
                            30159 ; 71   |#ifdef JANUS_BUILD
                            30160 ; 72   |extern _reentrant RETCODE Fast_Playlist_GetLFN(INT iEntryType,INT pEntry,INT* pName);
                            30161 ; 73   |#endif
                            30162 ; 74   |extern _reentrant INT SaveSortedRecords(void);
                            30163 ; 75   |extern _reentrant INT LoadSortedRecords(void);
                            30164 ; 76   |extern INT DriveLetter[];
                            30165 ; 77   |//////////////////////////////////////////////////////////////////////
                            30166 ; 78   |int g_iTotalDir=0;
                            30167 
                            30168 
Y:0000                      30169         org     y,".ydataplaylist3init",init:
                            30170 Fg_iTotalDir:
Y:0000 000000               30171         dc      $000000
                            30174 
                            30175 ; 79   |int g_iTotalFiles=0;
                            30176 
                            30177 Fg_iTotalFiles:
Y:0001 000000               30178         dc      $000000
                            30181 
                            30182 ; 80   |int g_iNumStoredSFN = 0;
                            30183 
                            30184 Fg_iNumStoredSFN:
Y:0002 000000               30185         dc      $000000
                            30196 
                            30197 ; 81   |extern FILESPEC         FileSpec;
                            30198 ; 82   |
                            30199 ; 83   |extern UCS3 g_wSongGenre[];
                            30200 ; 84   |extern UCS3 g_wSongYear[];
                            30201 ; 85   |extern BOOL g_bMMCPreviousTest;
                            30202 ; 86   |extern _packed BYTE g_shortname[MAX_FILESNAME];
                            30203 ; 87   |
                            30204 ; 88   |
                            30205 ; 89   |_asmfunc MMCDetectPresenceWrapper(void*);
                            30206 ; 90   |_reentrant void Rebuild_GetFileMetaData(INT PackedPathNameAddress, INT btCurrentDevice, FILE_META_DATA *MetaData);
                            30207 ; 91   |_reentrant INT AddSongToLibrary(int a, int drive, void* b);
                            30208 ; 92   |_reentrant INT AddSingleFolderSongToLibrary(INT a, INT drive, void * b);
                            30209 ; 93   |_reentrant void Rebuild_GetMetaData(WORD wMode,int ignored1,int*ignored2);
                            30210 ; 94   |#ifdef JANUS_BUILD
                            30211 ; 95   |_reentrant INT FastAddSongToLib(int iDevice);
                            30212 ; 96   |#endif
                            30213 ; 97   |
                            30214 ; 98   |DWORD g_dwFastKey = 0;
                            30215 
                            30216 Fg_dwFastKey:
Y:0003 000000 000000        30217         dc      $000000,$000000
                            30220 
                            30221 ; 99   |DWORD g_FileKey = 0;
                            30222 
                            30223 Fg_FileKey:
Y:0005 000000 000000        30224         dc      $000000,$000000
                            30227 
                            30228 ; 100  |int g_iRecordNum = 0;
                            30229 
                            30230 Fg_iRecordNum:
Y:0007 000000               30231         dc      $000000
                            30234 
                            30235 ; 101  |BOOL g_Rebuild = FALSE;
                            30236 
                            30237 Fg_Rebuild:
Y:0008 000000               30238         dc      $000000
                            30241 
                            30242 ; 102  |int g_unicode = 0;
                            30243 
                            30244 Fg_unicode:
Y:0009 000000               30245         dc      $000000
                            30248 
                            30249 ; 103  |int g_total_song = 0;
                            30250 
                            30251 Fg_total_song:
Y:000A 000000               30252         dc      $000000
                            30255 
                            30256 ; 104  |RAM_SONG_INFO_T song_info;
                            30257 ; 105  |DIR_DATE g_dirdate;
                            30258 ; 106  |DIR_TIME g_dirtime;
                            30259 ; 107  |int g_file_time;
                            30260 ; 108  |
                            30261 ; 109  |////////////////////////////////////////////////////////////////
                            30262 ; 110  |// Enable sort by track number under album level (PLAYLIST3 only)
                            30263 ; 111  |//      0:  disble
                            30264 ; 112  |//      1:  enable
                            30265 ; 113  |BOOL g_SortByTracknum = TRUE;
                            30266 
                            30267 Fg_SortByTracknum:
Y:000B 000001               30268         dc      $000001
                            30271 
                            30272 ; 114  |////////////////////////////////////////////////////////////////
                            30273 ; 115  |
                            30274 ; 116  |int g_option = ADD_OPTION_MUSIC;
                            30275 
                            30276 Fg_option:
Y:000C 000000               30277         dc      $000000
                            30280 
                            30281 ; 117  |BOOL SD_state_change = FALSE;
                            30282 
                            30283 FSD_state_change:
Y:000D 000000               30284         dc      $000000
                            30287 
                            30288 ; 118  |BOOL SD_build_success = FALSE;
                            30289 
                            30290 FSD_build_success:
Y:000E 000000               30291         dc      $000000
                            30294 
                            30295 ; 119  |_packed BYTE DirPath[MAX_DIRNAME_LENGTH];
                            30296 ; 120  |extern uint24 g_is_SD_inserted;
                            30297 ; 121  |extern BOOL bResume;
                            30298 ; 122  |extern BOOL bSystemInit;
                            30299 ; 123  |int g_iTotalPath;
                            30300 ; 124  |
                            30301 ; 125  |//added by Raymond for CR5xx
                            30302 ; 126  |BOOL g_build_voice_file = FALSE;
                            30303 
                            30304 Fg_build_voice_file:
Y:000F 000000               30305         dc      $000000
                            30308 
                            30309 ; 127  |BOOL g_build_fm_file = FALSE;
                            30310 
                            30311 Fg_build_fm_file:
Y:0010 000000               30312         dc      $000000
                            30315 
                            30316 ; 128  |BOOL g_build_linein_file = FALSE;
                            30317 
                            30318 Fg_build_linein_file:
Y:0011 000000               30319         dc      $000000
                            30322 
                            30323 ; 129  |DWORD g_dwVoiceFastKey = 0;
                            30324 
                            30325 Fg_dwVoiceFastKey:
Y:0012 000000 000000        30326         dc      $000000,$000000
                            30329 
                            30330 ; 130  |DWORD g_dwFmFastKey = 0;
                            30331 
                            30332 Fg_dwFmFastKey:
Y:0014 000000 000000        30333         dc      $000000,$000000
                            30336 
                            30337 ; 131  |DWORD g_dwLineinFastKey = 0;
                            30338 
                            30339 Fg_dwLineinFastKey:
Y:0016 000000 000000        30340         dc      $000000,$000000
                            30343 
                            30344 ; 132  |_packed BYTE g_MusicAdd_FilePath[] = "/:ASUMACI.DDTAD\0\0\0"; //open file on a:\musicadd.dat
                            30345 
                            30347 Fg_MusicAdd_FilePath:
Y:0018 2F3A41 53554D        30348         dc      "/:ASUMACI.DDTAD"++$00++$00++$00++$00
       414349 2E4444              
       544144 000000              
       000000                     
                            30352 
                            30353 ; 133  |
                            30354 ; 134  |_packed BYTE g_recordfile_path[12];
                            30355 ; 135  |int g_iHighestVoiceNumber = 0;
                            30356 
                            30357 Fg_iHighestVoiceNumber:
Y:001F 000000               30358         dc      $000000
                            30361 
                            30362 ; 136  |int g_iHighestFMNumber = 0;
                            30363 
                            30364 Fg_iHighestFMNumber:
Y:0020 000000               30365         dc      $000000
                            30368 
                            30369 ; 137  |int g_iHighestLineNumber = 0;
                            30370 
                            30371 Fg_iHighestLineNumber:
Y:0021 000000               30372         dc      $000000
                            30375 
                            30376 ; 138  |int* pHighestNumber;
                            30377 ; 139  |extern _packed BYTE g_RecordDirectory[];
                            30378 ; 140  |Finddata _X g_AddToLibraryData[FINDDATA_CACHE_SIZE];
                            30379 ; 141  |int _X g_NumAddToLibrary = 0;
                            30380 
                            30381 
X:0000                      30382         org     x,".xdataplaylist3init",init:
                            30383 Fg_NumAddToLibrary:
X:0000 000000               30384         dc      $000000
                            30387 
                            30388 ; 142  |
                            30389 ; 143  |// Forward declarations
                            30390 ; 144  |// Ken 2005/7/20 12:09
                            30391 ; 145  |void _reentrant ML_building_engine_init_playlist3(void);
                            30392 ; 146  |void _reentrant ML_voice_build_engine_init_playlist3(void);
                            30393 ; 147  |void _reentrant ML_merging_engine_init_playlist3(void);
                            30394 ; 148  |_reentrant void ML_BuildingEngineInitPlaylist3For1stPass(void);
                            30395 ; 149  |_reentrant void ML_BuildingEngineInitPlaylist3For2ndPass(void);
                            30396 ; 150  |// Ken 2005/7/20 12:09
                            30397 ; 151  |// Ken 2005/7/15 04:44
                            30398 ; 152  |#define PATHARRAYSLOT_BYTELEN 15
                            30399 ; 153  |#define PATHARRAYSLOT_WORDLEN PATHARRAYSLOT_BYTELEN/3
                            30400 ; 154  |_packed BYTE TempPathArray[_MAX_DIR_DEPTH*PATHARRAYSLOT_BYTELEN];
                            30401 ; 155  |_packed BYTE TempPath[MAX_DIRNAME_LENGTH];
                            30402 ; 156  |
                            30403 ; 157  |#define FAST_KEY_BIT_POS_VOICE  0
                            30404 ; 158  |#define FAST_KEY_BIT_POS_FM             1
                            30405 ; 159  |#define FAST_KEY_BIT_POS_LINEIN 2
                            30406 ; 160  |
                            30407 ; 161  |//////////////////////////////////////////////////////
                            30408 ; 162  |//
                            30409 ; 163  |//>  Name:          void _reentrant PathFormationPartial(_packed BYTE* dst, _packed BYTE* src)
                            30410 ; 164  |//
                            30411 ; 165  |//   Type:          Function
                            30412 ; 166  |//
                            30413 ; 167  |//   Description:   Forming a path from the TempPathArray according to the Depth
                            30414 ; 168  |//
                            30415 ; 169  |//   Inputs:        dst - Pointer to destination of path
                            30416 ; 170  |//                  src - Pointer to the source path array
                            30417 ; 171  |//                  iDepth - Depth of path to build
                            30418 ; 172  |//
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page 118

M:ADDR CODE           CYCLES LINE SOURCELINE
                            30419 ; 173  |//   Outputs:       None
                            30420 ; 174  |//
                            30421 ; 175  |//   Notes:         It's assumed that the directory separator is already appended in each slot of the array
                            30422 ; 176  |//<
                            30423 ; 177  |//////////////////////////////////////////////////////
                            30424 ; 178  |INT _reentrant PathFormationPartial(_packed BYTE* dst, _packed BYTE* src, int iDepth)
                            30425 ; 179  |{
                            30426 
P:0000                      30427         org     p,".ptextplaylist3init":
                            30432 FPathFormationPartial:
P:0000 055F7C         2    230433         movec   ssh,y:(r7)+
                            30442 
                            30443 ; 180  |    // Initialize the destination buffer
                            30444 ; 181  |    *((WORD*)dst) = 0x000000;
                            30445 
P:0001 221600         2    430447         move    r0,r6
P:0002 20001B         2    630448         clr     b   
P:0003 5D6600         2    830449         move    b1,y:(r6)
                            30450 
                            30451 ; 182  |    packed_strcat(dst,(src+(iDepth*PATHARRAYSLOT_WORDLEN)));
                            30452 
P:0004 218600         2   1030454         move    a1,y0
P:0005 44F400 00000F  3   1330455         move    #>15,x0
P:0007 2000D0         2   1530456         mpy     y0,x0,a
P:0008 200022         2   1730457         asr     a
P:0009 210E00         2   1930460         move    a0,a
P:000A 44F400 000003  3   2230461         move    #>3,x0
P:000C 0BF080 rrrrrr  6   2830462         jsr     Rdiv_iii
P:000E 21DC00         2   3030463         move    a,n4
P:000F 000000         2   3230464         nop
P:0010 204C00         2   3430465         move    (r4)+n4
P:0011 0BF080 rrrrrr  6   4030467         jsr     packed_strcat
                            30470 
                            30471 ; 183  |
                            30472 ; 184  |    return 0;
                            30473 
P:0013 200013         2   4230475         clr     a   
P:0014 218E00         2   4430476         move    a1,a
                            30477 
                            30478 ; 185  |}
                            30479 
P:0015 05FF7C         4   4830481         movec   y:-(r7),ssh
P:0016 000000         2   5030484         nop
P:0017 00000C         4   5430485         rts
                            30487 
                            30488 ; 186  |
                            30489 ; 187  |//////////////////////////////////////////////////////
                            30490 ; 188  |//
                            30491 ; 189  |//>  Name:          INT _reentrant PathFormation(_packed BYTE* dst, _packed BYTE* src, int iDepth)
                            30492 ; 190  |//
                            30493 ; 191  |//   Type:          Function
                            30494 ; 192  |//
                            30495 ; 193  |//   Description:   Forming a path from the TempPathArray according to the Depth
                            30496 ; 194  |//
                            30497 ; 195  |//   Inputs:        dst - Pointer to destination of path
                            30498 ; 196  |//                  src - Pointer to the source path array
                            30499 ; 197  |//                  iDepth - Depth of path to build
                            30500 ; 198  |//
                            30501 ; 199  |//   Outputs:       None
                            30502 ; 200  |//
                            30503 ; 201  |//   Notes:         It's assumed that the directory separator is already appended in each slot of the array
                            30504 ; 202  |//<
                            30505 ; 203  |//////////////////////////////////////////////////////
                            30506 ; 204  |INT _reentrant PathFormation(_packed BYTE* dst, _packed BYTE* src, int iDepth)
                            30507 ; 205  |{
                            30508 
                            30513 FPathFormation:
P:0018 055F7C         2   5630514         movec   ssh,y:(r7)+
P:0019 3F0400         2   5830517         move    #4,n7
P:001A 000000         2   6030518         nop
P:001B 204F00         2   6230519         move    (r7)+n7
                            30529 
                            30530 ; 206  |        int i;
                            30531 
P:001C 77F400 FFFFFE  3   6530533         move    #-2,n7
P:001E 000000         2   6730534         nop
P:001F 5C6F00         4   7130535         move    a1,y:(r7+n7)
P:0020 77F400 FFFFFD  3   7430538         move    #-3,n7
P:0022 000000         2   7630539         nop
P:0023 6C6F00         4   8030540         move    r4,y:(r7+n7)
                            30543 
                            30544 ; 207  |
                            30545 ; 208  |        // Initialize the destination buffer
                            30546 ; 209  |        *((WORD*)dst) = 0x000000;
                            30547 
P:0024 77F400 FFFFFC  3   8330549         move    #-4,n7
P:0026 000000         2   8530550         nop
P:0027 686F00         4   8930551         move    r0,y:(r7+n7)
P:0028 20001B         2   9130554         clr     b   
P:0029 5D6000         2   9330555         move    b1,y:(r0)
                            30556 
                            30557 ; 210  |        for(i=0;i<iDepth;i++)
                            30558 
P:002A 250000         2   9530560         move    #0,x1
P:002B 0AF080 rrrrrr  6  10130562         jmp     L4
                            30563 
                            30564 ; 211  |        {
                            30565 ; 212  |                packed_strcat(dst,(src+(i*PATHARRAYSLOT_WORDLEN)));
                            30566 
P:002D 045FA0         2  10330568 L3:     movec   m0,n7
P:002E 000000         2  10530569         nop
P:002F 4D6F00         4  10930570         move    x1,y:(r7+n7)
P:0030 46F400 00000F  3  11230571         move    #>15,y0
P:0032 2000E0         2  11430572         mpy     x1,y0,a
P:0033 200022         2  11630573         asr     a
P:0034 210E00         2  11830576         move    a0,a
P:0035 44F400 000003  3  12130577         move    #>3,x0
P:0037 0BF080 rrrrrr  6  12730578         jsr     Rdiv_iii
P:0039 21DC00         2  12930579         move    a,n4
P:003A 77F400 FFFFFD  3  13230580         move    #-3,n7
P:003C 000000         2  13430581         nop
P:003D 6CEF00         4  13830582         move    y:(r7+n7),r4
P:003E 000000         2  14030583         nop
P:003F 204C00         2  14230584         move    (r4)+n4
P:0040 77F400 FFFFFC  3  14530585         move    #-4,n7
P:0042 000000         2  14730586         nop
P:0043 68EF00         4  15130587         move    y:(r7+n7),r0
P:0044 0BF080 rrrrrr  6  15730590         jsr     packed_strcat
P:0046 045FA0         2  15930594         movec   m0,n7
P:0047 000000         2  16130595         nop
P:0048 5FEF00         4  16530596         move    y:(r7+n7),b
P:0049 44F400 000001  3  16830597         move    #>1,x0
P:004B 200048         2  17030598         add     x0,b
P:004C 21A500         2  17230601         move    b1,x1
P:004D 77F400 FFFFFE  3  17530604 L4:     move    #-2,n7
P:004F 000000         2  17730605         nop
P:0050 4CEF00         4  18130606         move    y:(r7+n7),x0
P:0051 200069         2  18330607         tfr     x1,b
P:0052 20004D         2  18530608         cmp     x0,b
P:0053 0AF0A9 rrrrrr  6  19130609         jlt     L3
                            30610 
                            30611 ; 213  |        }
                            30612 ; 214  |
                            30613 ; 215  |        return 0;
                            30614 
P:0055 200013         2  19330616         clr     a   
P:0056 218E00         2  19530617         move    a1,a
                            30618 
                            30619 ; 216  |}
                            30620 
P:0057 77F400 FFFFFB  3  19830622         move    #-5,n7
P:0059 000000         2  20030623         nop
P:005A 05EF7C         4  20430624         movec   y:(r7+n7),ssh
P:005B 204F00         2  20630626         move    (r7)+n7
P:005C 00000C         4  21030628         rts
                            30634 
                            30635 ; 217  |
                            30636 ; 218  |_reentrant BOOL IsMusicPath (_packed BYTE * path)
                            30637 ; 219  |{
                            30638 
                            30643 FIsMusicPath:
P:005D 055F7C         2  21230644         movec   ssh,y:(r7)+
P:005E 3F1200         2  21430647         move    #18,n7
P:005F 000000         2  21630648         nop
P:0060 204F00         2  21830649         move    (r7)+n7
                            30663 
                            30664 ; 220  |        INT i,j;
                            30665 ; 221  |        INT tmpchar;
                            30666 ; 222  |        _packed BYTE szVoice[12];
                            30667 ; 223  |        _packed BYTE szFM[6];
                            30668 ; 224  |        _packed BYTE szLinein[12];
                            30669 ; 225  |        _packed BYTE tmpstr[12];
                            30670 
P:0061 77F400 FFFFFE  3  22130672         move    #-2,n7
P:0063 000000         2  22330673         nop
P:0064 686F00         4  22730674         move    r0,y:(r7+n7)
                            30677 
                            30678 ; 226  |
                            30679 ; 227  |        ((int*)szVoice)[0] = VOICE_PATH_1;  //VOICE/
                            30680 
P:0065 54F400 494F56  3  23030682         move    #4804438,a1
P:0067 77F400 FFFFF8  3  23330683         move    #-8,n7
P:0069 000000         2  23530684         nop
P:006A 5C6F00         4  23930685         move    a1,y:(r7+n7)
                            30686 
                            30687 ; 228  |        ((int*)szVoice)[1] = VOICE_PATH_2;
                            30688 
P:006B 46F400 2F4543  3  24230690         move    #3097923,y0
P:006D 77F400 FFFFF9  3  24530691         move    #-7,n7
P:006F 000000         2  24730692         nop
P:0070 4E6F00         4  25130693         move    y0,y:(r7+n7)
                            30694 
                            30695 ; 229  |        ((int*)szVoice)[2] = VOICE_PATH_3;
                            30696 
P:0071 20001B         2  25330698         clr     b   
P:0072 77F400 FFFFFA  3  25630699         move    #-6,n7
P:0074 000000         2  25830700         nop
P:0075 5F6F00         4  26230701         move    b,y:(r7+n7)
                            30702 
                            30703 ; 230  |
                            30704 ; 231  |        ((int*)szFM)[0] = FM_PATH_1;        //FM/
                            30705 
P:0076 44F400 2F4D46  3  26530707         move    #3099974,x0
P:0078 77F400 FFFFF6  3  26830708         move    #-10,n7
P:007A 000000         2  27030709         nop
P:007B 4C6F00         4  27430710         move    x0,y:(r7+n7)
                            30711 
                            30712 ; 232  |        ((int*)szFM)[1] = FM_PATH_2;
                            30713 
P:007C 77F400 FFFFF7  3  27730715         move    #-9,n7
P:007E 000000         2  27930716         nop
P:007F 5F6F00         4  28330717         move    b,y:(r7+n7)
                            30718 
                            30719 ; 233  |
                            30720 ; 234  |        ((int*)szLinein)[0] = LINEIN_PATH_1;    //LINE-IN/
                            30721 
P:0080 54F400 4E494C  3  28630723         move    #5130572,a1
P:0082 77F400 FFFFF2  3  28930724         move    #-14,n7
P:0084 000000         2  29130725         nop
P:0085 5C6F00         4  29530726         move    a1,y:(r7+n7)
                            30727 
                            30728 ; 235  |        ((int*)szLinein)[1] = LINEIN_PATH_2;
                            30729 
P:0086 46F400 492D45  3  29830731         move    #4795717,y0
P:0088 77F400 FFFFF3  3  30130732         move    #-13,n7
P:008A 000000         2  30330733         nop
P:008B 4E6F00         4  30730734         move    y0,y:(r7+n7)
                            30735 
                            30736 ; 236  |        ((int*)szLinein)[2] = LINEIN_PATH_3;
                            30737 
P:008C 44F400 002F4E  3  31030739         move    #12110,x0
P:008E 77F400 FFFFF4  3  31330740         move    #-12,n7
P:0090 000000         2  31530741         nop
P:0091 4C6F00         4  31930742         move    x0,y:(r7+n7)
                            30743 
                            30744 ; 237  |
                            30745 ; 238  |    i=0;j=0;
                            30746 
P:0092 77F400 FFFFFD  3  32230748         move    #-3,n7
P:0094 000000         2  32430749         nop
P:0095 5F6F00         4  32830750         move    b,y:(r7+n7)
P:0096 77F400 FFFFFC  3  33130751         move    #-4,n7
P:0098 000000         2  33330752         nop
P:0099 5F6F00         4  33730753         move    b,y:(r7+n7)
                            30754 
                            30755 ; 239  |        while ((tmpchar = GetChar((_packed char*)path, &i)) != 0)
                            30756 
P:009A 0AF080 rrrrrr  6  34330758         jmp     L7
                            30759 
                            30760 ; 240  |        {
                            30761 ; 241  |        if (i>3)
                            30762 
                            30764 L5:
P:009C 77F400 FFFFFD  3  34630766         move    #-3,n7
P:009E 000000         2  34830767         nop
P:009F 5FEF00         4  35230768         move    y:(r7+n7),b
P:00A0 46F400 000003  3  35530769         move    #>3,y0
P:00A2 20005D         2  35730770         cmp     y0,b
P:00A3 0AF0AF rrrrrr  6  36330771         jle     L7
                            30772 
                            30773 ; 242  |        {
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page 119

M:ADDR CODE           CYCLES LINE SOURCELINE
                            30774 ; 243  |            PutChar((_packed char*)tmpstr,&j,tmpchar);
                            30775 
P:00A5 77F400 FFFFEE  3  36630777         move    #-18,n7
P:00A7 000000         2  36830778         nop
P:00A8 044F10         4  37230779         lua     (r7)+n7,r0
P:00A9 77F400 FFFFFC  3  37530780         move    #-4,n7
P:00AB 000000         2  37730781         nop
P:00AC 044F14         4  38130782         lua     (r7)+n7,r4
P:00AD 045FA0         2  38330783         movec   m0,n7
P:00AE 000000         2  38530784         nop
P:00AF 5C6F00         4  38930785         move    a1,y:(r7+n7)
P:00B0 0BF080 rrrrrr  6  39530790         jsr     FPutChar
                            30792 
                            30793 ; 244  |            if (tmpchar == 0x2f)
                            30794 
P:00B2 45F400 00002F  3  39830796         move    #>47,x1
P:00B4 045FA0         2  40030797         movec   m0,n7
P:00B5 000000         2  40230798         nop
P:00B6 5FEF00         4  40630799         move    y:(r7+n7),b
P:00B7 20006D         2  40830800         cmp     x1,b
P:00B8 0AF0AA rrrrrr  6  41430801         jeq     L8
P:00BA 77F400 FFFFFE  3  41730803 L7:     move    #-2,n7
P:00BC 000000         2  41930804         nop
P:00BD 68EF00         4  42330805         move    y:(r7+n7),r0
P:00BE 77F400 FFFFFD  3  42630806         move    #-3,n7
P:00C0 000000         2  42830807         nop
P:00C1 044F14         4  43230808         lua     (r7)+n7,r4
P:00C2 0BF080 rrrrrr  6  43830809         jsr     FGetChar
P:00C4 200003         2  44030811         tst     a
P:00C5 0AF0A2 rrrrrr  6  44630812         jne     L5
                            30813 
                            30814 ; 245  |                break;
                            30815 ; 246  |        }
                            30816 ; 247  |    }
                            30817 ; 248  |    PutChar((_packed char*)tmpstr,&j,0);
                            30818 
P:00C7 77F400 FFFFEE  3  44930820 L8:     move    #-18,n7
P:00C9 000000         2  45130821         nop
P:00CA 044F1E         4  45530822         lua     (r7)+n7,n6
P:00CB 23D000         2  45730823         move    n6,r0
P:00CC 77F400 FFFFFC  3  46030824         move    #-4,n7
P:00CE 000000         2  46230825         nop
P:00CF 044F14         4  46630826         lua     (r7)+n7,r4
P:00D0 200013         2  46830827         clr     a   
P:00D1 0BF080 rrrrrr  6  47430829         jsr     FPutChar
                            30830 
                            30831 ; 249  |
                            30832 ; 250  |    if((packed_strcmp(tmpstr,szVoice) == 0) || (packed_strcmp(tmpstr,szFM) == 0) || (packed_strcmp(tmpstr,szLinein) == 0))
                            30833 
P:00D3 77F400 FFFFF8  3  47730835         move    #-8,n7
P:00D5 000000         2  47930836         nop
P:00D6 044F14         4  48330837         lua     (r7)+n7,r4
P:00D7 77F400 FFFFEE  3  48630838         move    #-18,n7
P:00D9 000000         2  48830839         nop
P:00DA 044F10         4  49230840         lua     (r7)+n7,r0
P:00DB 0BF080 rrrrrr  6  49830841         jsr     packed_strcmp
P:00DD 200003         2  50030842         tst     a
P:00DE 0AF0AA rrrrrr  6  50630843         jeq     L10
P:00E0 77F400 FFFFF6  3  50930844         move    #-10,n7
P:00E2 000000         2  51130845         nop
P:00E3 044F14         4  51530846         lua     (r7)+n7,r4
P:00E4 77F400 FFFFEE  3  51830847         move    #-18,n7
P:00E6 000000         2  52030848         nop
P:00E7 044F10         4  52430849         lua     (r7)+n7,r0
P:00E8 0BF080 rrrrrr  6  53030850         jsr     packed_strcmp
P:00EA 200003         2  53230851         tst     a
P:00EB 0AF0AA rrrrrr  6  53830852         jeq     L10
P:00ED 77F400 FFFFF2  3  54130853         move    #-14,n7
P:00EF 000000         2  54330854         nop
P:00F0 044F14         4  54730855         lua     (r7)+n7,r4
P:00F1 77F400 FFFFEE  3  55030856         move    #-18,n7
P:00F3 000000         2  55230857         nop
P:00F4 044F10         4  55630858         lua     (r7)+n7,r0
P:00F5 0BF080 rrrrrr  6  56230859         jsr     packed_strcmp
P:00F7 200003         2  56430860         tst     a
P:00F8 0AF0A2 rrrrrr  6  57030861         jne     L11
                            30862 
                            30863 ; 251  |        return FALSE;
                            30864 
P:00FA 200013         2  57230866 L10:    clr     a   
P:00FB 0AF080 rrrrrr  6  57830867         jmp     L12
                            30868 
                            30869 ; 252  |
                            30870 ; 253  |    return TRUE;
                            30871 
P:00FD 56F400 000001  3  58130873 L11:    move    #>1,a
                            30874 
                            30875 ; 254  |}
                            30876 
P:00FF 77F400 FFFFED  3  58430878 L12:    move    #-19,n7
P:0101 000000         2  58630879         nop
P:0102 05EF7C         4  59030880         movec   y:(r7+n7),ssh
P:0103 204F00         2  59230882         move    (r7)+n7
P:0104 00000C         4  59630884         rts
                            30887 
                            30888 ; 255  |
                            30889 ; 256  |
                            30890 ; 257  |//////////////////////////////////////////////////////
                            30891 ; 258  |//
                            30892 ; 259  |//>  Name:          INT _reentrant Playlist_BuildMusicLib(INT iIgnored1, INT iIgnored2, INT* pIgnored)
                            30893 ; 260  |//
                            30894 ; 261  |//   Type:          Function
                            30895 ; 262  |//
                            30896 ; 263  |//   Description:   Calling Playlist_PopulateMusicLib(void) to build the
                            30897 ; 264  |//                  music library
                            30898 ; 265  |//
                            30899 ; 266  |//   Inputs:
                            30900 ; 267  |//
                            30901 ; 268  |//   Outputs:
                            30902 ; 269  |//
                            30903 ; 270  |//   Notes:
                            30904 ; 271  |//<
                            30905 ; 272  |//////////////////////////////////////////////////////
                            30906 ; 273  |INT _reentrant Playlist_BuildMusicLib(INT iIgnored1, INT iIgnored2, INT* pIgnored)
                            30907 ; 274  |{
                            30908 
                            30915 FPlaylist_BuildMusicLib:
P:0105 055F7C         2  59830916         movec   ssh,y:(r7)+
                            30935 
                            30936 ; 275  |        int i;
                            30937 ; 276  |        int iDepth=0;
                            30938 ; 277  |        DWORD dwFastKey;
                            30939 ; 278  |        BOOL Build_Flash = FALSE;
                            30940 ; 279  |        INT Hash_Result = -1;
                            30941 ; 280  |#ifdef JANUS_BUILD
                            30942 ; 281  |        RETCODE returnCode;
                            30943 ; 282  |        BOOL bBitResult = FALSE;
                            30944 ; 283  |    //_packed BYTE g_MusicAdd_FilePath[] = "/:ASUMACI.DDTAD\0\0\0"; //open file on a:\musicadd.dat
                            30945 ; 284  |
                            30946 ; 285  |
                            30947 ; 286  |        returnCode = ReadStickyBit((volatile _X WORD *)&HW_RTC_SKIP_REBUILD_REG,
                            30948 ; 287  |                HW_RTC_PERSISTENT1_SKIP_REBUILD_BITPOS,
                            30949 ; 288  |                &bBitResult);
                            30950 ; 289  |#endif
                            30951 ; 290  |
                            30952 ; 291  |        // Use C Speed client  Increase call. Defines are in SysSpeed.inc. Sysspeed.h is generated
                            30953 ; 292  |    //increased the speed to speed_peak(75 mhz) for building the music lib.
                            30954 ; 293  |    SysSpeedIncrease(SPEED_PEAK, SPEED_CLIENT_PLAYLIST1);
                            30955 
P:0106 57F400 00000F  3  60130957         move    #>15,b
P:0108 56F400 00000D  3  60430959         move    #>13,a
P:010A 0BF080 rrrrrr  6  61030960         jsr     FSysSpeedIncrease
                            30963 
                            30964 ; 294  |
                            30965 ; 295  |        // Make sure that the other message queues are cleared before proceeding to
                            30966 ; 296  |        //  music library rebuild, because code is supposed to be overwriting the
                            30967 ; 297  |        //  same area as the decoder/encoder processes.
                            30968 ; 298  |        SysWaitOnEvent(0,0,0);
                            30969 
P:010C 20001B         2  61230971         clr     b   
P:010D 200013         2  61430972         clr     a   
P:010E 21B000         2  61630973         move    b1,r0
P:010F 0BF080 rrrrrr  6  62230974         jsr     SysWaitOnEvent
                            30975 
                            30976 ; 299  |
                            30977 ; 300  |        // Loading music library building engine and FAT write functions
                            30978 ; 301  |        ML_building_engine_init_playlist3();
                            30979 
P:0111 0BF080 rrrrrr  6  62830981         jsr     FML_building_engine_init_playlist3
                            30982 
                            30983 ; 302  |        SysLoadFATWrite();
                            30984 
P:0113 0BF080 rrrrrr  6  63430986         jsr     SysLoadFATWrite
                            30987 
                            30988 ; 303  |        ML_InitLibraryParameter();
                            30989 
P:0115 0BF080 rrrrrr  6  64030991         jsr     FML_InitLibraryParameter
                            30992 
                            30993 ; 304  |
                            30994 ; 305  |    // for clear screen before rendering message
                            30995 ; 306  |    SysPostMessage(6,LCD_CLEAR_RANGE,0,0,LCD_SIZE_X,LCD_SIZE_Y);
                            30996 
P:0117 2D0000         2  64230998         move    #0,b1
P:0118 200013         2  64430999         clr     a   
P:0119 294000         2  64631000         move    #$40,b0
P:011A 595F00         2  64831001         move    b0,y:(r7)+
P:011B 298000         2  65031003         move    #$80,b0
P:011C 595F00         2  65231004         move    b0,y:(r7)+
P:011D 5C5F00         2  65431006         move    a1,y:(r7)+
P:011E 5D5F00         2  65631008         move    b1,y:(r7)+
P:011F 260300         2  65831010         move    #<3,y0
P:0120 4E5F00         2  66031011         move    y0,y:(r7)+
P:0121 290600         2  66231013         move    #6,b0
P:0122 595F00         2  66431014         move    b0,y:(r7)+
P:0123 0BF080 rrrrrr  6  67031016         jsr     FSysPostMessage
P:0125 3F0600         2  67231017         move    #6,n7
P:0126 000000         2  67431018         nop
P:0127 204700         2  67631019         move    (r7)-n7
                            31021 
                            31022 ; 307  |
                            31023 ; 308  |        ////// Let's build the music library for files on FLASH first
                            31024 ; 309  |        // do once only during system bootup
                            31025 ; 310  |        if (!bSystemInit)
                            31026 
P:0128 5FF000 rrrrrr  3  67931028         move    y:FbSystemInit,b
P:012A 2B0000         2  68131029         move    #0,b2
P:012B 20000B         2  68331030         tst     b
P:012C 0AF0A2 rrrrrr  6  68931031         jne     L50
                            31032 
                            31033 ; 311  |        {
                            31034 ; 312  |                // Show a message
                            31035 ; 313  |                SysPostMessage(5,LCD_PRINT_RANGE_RSRC,0,0,RSRC_BUILD_FLASH1);
                            31036 
P:012E 240000         2  69131038         move    #0,x0
P:012F 290500         2  69331039         move    #5,b0
P:0130 54F400 030001  3  69631040         move    #$30001,a1
P:0132 270000         2  69831041         move    #0,y1
P:0133 46F400 0003C4  3  70131042         move    #964,y0
P:0135 4E5F00         2  70331043         move    y0,y:(r7)+
P:0136 4F5F00         2  70531045         move    y1,y:(r7)+
P:0137 4C5F00         2  70731047         move    x0,y:(r7)+
P:0138 5C5F00         2  70931049         move    a1,y:(r7)+
P:0139 595F00         2  71131051         move    b0,y:(r7)+
P:013A 0BF080 rrrrrr  6  71731053         jsr     FSysPostMessage
P:013C 3F0500         2  71931054         move    #5,n7
P:013D 000000         2  72131055         nop
P:013E 204700         2  72331056         move    (r7)-n7
                            31058 
                            31059 ; 314  |                SysWaitOnEvent(0,0,100);
                            31060 
P:013F 57F400 000064  3  72631062         move    #>100,b
P:0141 300000         2  72831063         move    #0,r0
P:0142 200013         2  73031064         clr     a   
P:0143 0BF080 rrrrrr  6  73631065         jsr     SysWaitOnEvent
                            31066 
                            31067 ; 315  |
                            31068 ; 316  |                ML_LoadOnTheGo(TRUE);
                            31069 
P:0145 56F400 000001  3  73931071         move    #>1,a
P:0147 0BF080 rrrrrr  6  74531072         jsr     FML_LoadOnTheGo
P:0149 200013         2  74731073         clr     a   
                            31074 
                            31075 ; 317  |
                            31076 ; 318  |                ML_ChOnTheGo(MEDIA_TYPE_FLASH, TRUE);
                            31077 
P:014A 57F400 000001  3  75031079         move    #>1,b
P:014C 0BF080 rrrrrr  6  75631080         jsr     FML_ChOnTheGo
P:014E 200013         2  75831081         clr     a   
                            31082 
                            31083 ; 319  |
                            31084 ; 320  |#ifdef JANUS_BUILD
                            31085 ; 321  |                //detect the write occurred thru MTP before
                            31086 ; 322  |        if ( (bBitResult == TRUE) && (returnCode == SUCCESS) && !write_detection_access(0))
                            31087 ; 323  |        {
                            31088 ; 324  |            //clear the sticky bit at the start of the incremental build.
                            31089 ; 325  |            //so if user inserts the USB while building the incremental build ,it rebuilds the whole music library next time.
                            31090 ; 326  |            ClearStickyBit((volatile _X WORD *)&HW_RTC_SKIP_REBUILD_REG,
                            31091 ; 327  |                                HW_RTC_PERSISTENT1_SKIP_REBUILD_BITPOS);
                            31092 ; 328  |
                            31093 ; 329  |                        returnCode = FastAddSongToLib(0);
                            31094 ; 330  |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page 120

M:ADDR CODE           CYCLES LINE SOURCELINE
                            31095 ; 331  |                        //set  the sticky bit indicate that Incremental build is successfull and next time we can again go for incremental build.
                            31096 ; 332  |
                            31097 ; 333  |                        SetStickyBit((volatile _X WORD *)&HW_RTC_SKIP_REBUILD_REG,
                            31098 ; 334  |                                HW_RTC_PERSISTENT1_SKIP_REBUILD_BITPOS);
                            31099 ; 335  |
                            31100 ; 336  |
                            31101 ; 337  |        }
                            31102 ; 338  |#endif  // JANUS_BUILD
                            31103 ; 339  |
                            31104 ; 340  |                //detect the write occurred before
                            31105 ; 341  |                if(write_detection_access(0)
                            31106 ; 342  |#ifdef JANUS_BUILD
                            31107 ; 343  |                        || (returnCode != SUCCESS) || (bBitResult == FALSE)
                            31108 ; 344  |#endif
                            31109 ; 345  |                  )
                            31110 
P:014F 0BF080 rrrrrr  6  76431112         jsr     Fwrite_detection_access
P:0151 200003         2  76631113         tst     a
P:0152 0AF0AA rrrrrr  6  77231114         jeq     L49
                            31115 
                            31116 ; 346  |                {
                            31117 ; 347  |#ifdef JANUS_BUILD
                            31118 ; 348  |            FSFileAttributeClear(ATTR_SYSTEM|ATTR_HIDDEN,g_MusicAdd_FilePath,0);
                            31119 ; 349  |            Fremove((_packed char *)g_MusicAdd_FilePath);
                            31120 ; 350  |#endif
                            31121 ; 351  |                        // Show a message
                            31122 ; 352  |                        SysPostMessage(5,LCD_PRINT_RANGE_RSRC,0,0,RSRC_BUILD_FLASH2);
                            31123 
P:0154 240000         2  77431125         move    #0,x0
P:0155 290500         2  77631126         move    #5,b0
P:0156 54F400 030001  3  77931127         move    #$30001,a1
P:0158 260000         2  78131128         move    #0,y0
P:0159 47F400 0003C5  3  78431129         move    #965,y1
P:015B 4F5F00         2  78631130         move    y1,y:(r7)+
P:015C 4E5F00         2  78831132         move    y0,y:(r7)+
P:015D 4C5F00         2  79031134         move    x0,y:(r7)+
P:015E 5C5F00         2  79231136         move    a1,y:(r7)+
P:015F 595F00         2  79431138         move    b0,y:(r7)+
P:0160 0BF080 rrrrrr  6  80031140         jsr     FSysPostMessage
P:0162 3F0500         2  80231141         move    #5,n7
P:0163 000000         2  80431142         nop
P:0164 204700         2  80631143         move    (r7)-n7
P:0165 300000         2  80831145         move    #0,r0
P:0166 200013         2  81031146         clr     a   
                            31147 
                            31148 ; 353  |                        SysWaitOnEvent(0,0,100);
                            31149 
P:0167 57F400 000064  3  81331151         move    #>100,b
P:0169 0BF080 rrrrrr  6  81931152         jsr     SysWaitOnEvent
                            31153 
                            31154 ; 354  |                        bResume = FALSE;
                            31155 
P:016B 20001B         2  82131157         clr     b   
P:016C 5D7000 rrrrrr  3  82431158         move    b1,y:FbResume
                            31159 
                            31160 ; 355  |
                            31161 ; 356  |            // Clear on the go list
                            31162 ; 357  |#ifdef MMC
                            31163 ; 358  |                        ML_ChOnTheGo(MEDIA_TYPE_FLASH, INDEX_EOF);
                            31164 
P:016E 200013         2  82631166         clr     a   
P:016F 57F400 000FFF  3  82931167         move    #$FFF,b
P:0171 0BF080 rrrrrr  6  83531168         jsr     FML_ChOnTheGo
                            31169 
                            31170 ; 359  |                        // Initialize the *TempPathArray to the root string
                            31171 ; 360  |                        Playlist_GetRootString(TempPathArray,0);
                            31172 
P:0173 200013         2  83731174         clr     a   
P:0174 60F400 rrrrrr  3  84031175         move    #FTempPathArray,r0
P:0176 0BF080 rrrrrr  6  84631176         jsr     FPlaylist_GetRootString
                            31177 
                            31178 ; 361  |#else
                            31179 ; 362  |                        ML_ChOnTheGo(MEDIA_TYPE_FLASH, INDEX_EOF);
                            31180 ; 363  |                        // Initialize the *TempPathArray to the root string
                            31181 ; 364  |                        // To save space, hardcode it instead
                            31182 ; 365  |                        ((int*)TempPathArray)[0]=0x2F3A61;      // "/:A"
                            31183 ; 366  |                        ((int*)TempPathArray)[1]=0x000000;      // Terminating zero
                            31184 ; 367  |#endif
                            31185 ; 368  |
                            31186 ; 369  |            // Load intermediate memory for 1st pass
                            31187 ; 370  |            ML_BuildingEngineInitPlaylist3For1stPass();
                            31188 
P:0178 0BF080 rrrrrr  6  85231190         jsr     FML_BuildingEngineInitPlaylist3For1stPass
P:017A 200013         2  85431191         clr     a   
                            31192 
                            31193 ; 371  |
                            31194 ; 372  |                        // Get the fast key of root directory
                            31195 ; 373  |                        dwFastKey=GetRootdirkey(0);
                            31196 
P:017B 0BF080 rrrrrr  6  86031198         jsr     FGetRootdirkey
                            31200 
                            31201 ; 374  |                        // Call Playlist_PopulateMusicLib() to add files in sub-folders to music library recursively
                            31202 ; 375  |
                            31203 ; 376  |#ifdef _FOLDER_BROWSE_
                            31204 ; 377  |                                                g_tDirInfoBuffer[iDepth].iDirRecord = 0;
                            31205 
P:017D 250000         2  86231207         move    #0,x1
P:017E 4D7000 rrrrrr  3  86531208         move    x1,y:Fg_tDirInfoBuffer+1
                            31209 
                            31210 ; 378  |                                                g_tDirInfoBuffer[iDepth].dwFastKey = dwFastKey;
                            31211 
P:0180 5C7000 rrrrrr  3  86831213         move    a1,y:Fg_tDirInfoBuffer+3
P:0182 587000 rrrrrr  3  87131214         move    a0,y:Fg_tDirInfoBuffer+2
                            31215 
                            31216 ; 379  |                                                g_tDirInfoBuffer[iDepth].u4Added = FALSE;
                            31217 
P:0184 5FF000 rrrrrr  3  87431219         move    y:Fg_tDirInfoBuffer,b
P:0186 46F400 0FFFFF  3  87731220         move    #$FFFFF,y0
P:0188 20005E         2  87931221         and     y0,b
P:0189 5D7000 rrrrrr  3  88231222         move    b1,y:Fg_tDirInfoBuffer
                            31223 
                            31224 ; 380  |#endif  // _FOLDER_BROWSE_
                            31225 ; 381  |
                            31226 ; 382  |                        g_total_song = 0;
                            31227 
P:018B 4D7000 rrrrrr  3  88531229         move    x1,y:Fg_total_song
                            31230 
                            31231 ; 383  |            Playlist_PopulateMusicLib(0,iDepth,dwFastKey,0);
                            31232 
P:018D 200069         2  88731234         tfr     x1,b
P:018E 20A400         2  88931235         move    x1,x0
P:018F 260000         2  89131236         move    #0,y0
P:0190 0BF080 rrrrrr  6  89731237         jsr     FPlaylist_PopulateMusicLib
                            31239 
                            31240 ; 384  |                        // Showing a message
                            31241 ; 385  |                        SysPostMessage(5,LCD_PRINT_RANGE_RSRC,0,0,RSRC_BUILD_FLASH3);
                            31242 
P:0192 250000         2  89931244         move    #0,x1
P:0193 20001B         2  90131245         clr     b   
P:0194 46F400 0003C6  3  90431246         move    #966,y0
P:0196 4E5F00         2  90631247         move    y0,y:(r7)+
P:0197 5D5F00         2  90831249         move    b1,y:(r7)+
P:0198 4D5F00         2  91031251         move    x1,y:(r7)+
P:0199 47F400 030001  3  91331253         move    #$30001,y1
P:019B 4F5F00         2  91531254         move    y1,y:(r7)+
P:019C 290500         2  91731256         move    #5,b0
P:019D 595F00         2  91931257         move    b0,y:(r7)+
P:019E 0BF080 rrrrrr  6  92531259         jsr     FSysPostMessage
P:01A0 3F0500         2  92731260         move    #5,n7
P:01A1 000000         2  92931261         nop
P:01A2 204700         2  93131262         move    (r7)-n7
                            31264 
                            31265 ; 386  |                        SysWaitOnEvent(0,0,0);
                            31266 
P:01A3 200013         2  93331268         clr     a   
P:01A4 300000         2  93531269         move    #0,r0
P:01A5 20001B         2  93731270         clr     b   
P:01A6 0BF080 rrrrrr  6  94331271         jsr     SysWaitOnEvent
                            31272 
                            31273 ; 387  |            // Flush the updated music library and sorted records onto flash
                            31274 ; 388  |            SaveSortedRecords();
                            31275 
P:01A8 0BF080 rrrrrr  6  94931277         jsr     FSaveSortedRecords
P:01AA 200013         2  95131278         clr     a   
                            31279 
                            31280 ; 389  |
                            31281 ; 390  |            // Flush sorted list
                            31282 ; 391  |            ML_FlushSortedListToFlash(MEDIA_TYPE_FLASH);
                            31283 
P:01AB 0BF080 rrrrrr  6  95731285         jsr     FML_FlushSortedListToFlash
                            31286 
                            31287 ; 392  |
                            31288 ; 393  |            // Load intermediate memory for 2nd pass
                            31289 ; 394  |            ML_BuildingEngineInitPlaylist3For2ndPass();
                            31290 
P:01AD 0BF080 rrrrrr  6  96331292         jsr     FML_BuildingEngineInitPlaylist3For2ndPass
                            31293 
                            31294 ; 395  |
                            31295 ; 396  |            // Flush the updated music library to flash
                            31296 ; 397  |                        SysCallFunction(RSRC_MUSICLIB_BUILD_FUNCTION_FLUSH,ML_FlushLibraryToFlash,MEDIA_TYPE_FLASH,0,NULL);
                            31297 
P:01AF 20001B         2  96531299         clr     b   
P:01B0 340000         2  96731300         move    #0,r4
P:01B1 240000         2  96931301         move    #0,x0
P:01B2 56F400 0003CD  3  97231302         move    #973,a
P:01B4 60F400 rrrrrr  3  97531303         move    #FML_FlushLibraryToFlash,r0
P:01B6 0BF080 rrrrrr  6  98131304         jsr     SysCallFunction
                            31305 
                            31306 ; 398  |
                            31307 ; 399  |                        //clear the write detection so that next time we can detect it again
                            31308 ; 400  |                        write_detection_access(4);
                            31309 
P:01B8 56F400 000004  3  98431311         move    #>4,a
P:01BA 0BF080 rrrrrr  6  99031312         jsr     Fwrite_detection_access
                            31313 
                            31314 ; 401  |                        write_detection_access(2);
                            31315 
P:01BC 56F400 000002  3  99331317         move    #>2,a
P:01BE 0BF080 rrrrrr  6  99931318         jsr     Fwrite_detection_access
                            31319 
                            31320 ; 402  |
                            31321 ; 403  |#ifdef JANUS_BUILD
                            31322 ; 404  |                        SetStickyBit((volatile _X WORD *)&HW_RTC_SKIP_REBUILD_REG,
                            31323 ; 405  |                                HW_RTC_PERSISTENT1_SKIP_REBUILD_BITPOS);
                            31324 ; 406  |#endif
                            31325 ; 407  |
                            31326 ; 408  |                        Build_Flash = TRUE;
                            31327 ; 409  |                }
                            31328 
P:01C0 0AF080 rrrrrr  6 100531330         jmp     L52
                            31331 
                            31332 ; 410  |                else
                            31333 ; 411  |                {
                            31334 ; 412  |                        // Retrieve voice, fm and line-in directory fast key
                            31335 ; 413  |                        GetVoiceFastKey(((1<<FAST_KEY_BIT_POS_VOICE) | (1<<FAST_KEY_BIT_POS_FM) | (1<<FAST_KEY_BIT_POS_LINEIN)));
                            31336 
P:01C2 56F400 000007  3 100831338 L49:    move    #>7,a
P:01C4 0BF080 rrrrrr  6 101431339         jsr     FGetVoiceFastKey
                            31340 
                            31341 ; 414  |                }
                            31342 ; 415  |        }
                            31343 
P:01C6 0AF080 rrrrrr  6 102031345         jmp     L52
P:01C8 200013         2 102231346 L50:    clr     a   
                            31347 
                            31348 ; 416  |        else // (!bSystemInit)
                            31349 ; 417  |        {
                            31350 ; 418  |                ML_LoadOnTheGo(FALSE);
                            31351 
P:01C9 0BF080 rrrrrr  6 102831353         jsr     FML_LoadOnTheGo
                            31354 
                            31355 ; 419  |#ifdef MMC
                            31356 ; 420  |                ML_ChOnTheGo(MEDIA_TYPE_FLASH, TRUE);
                            31357 
P:01CB 200013         2 103031359         clr     a   
P:01CC 57F400 000001  3 103331360         move    #>1,b
P:01CE 0BF080 rrrrrr  6 103931361         jsr     FML_ChOnTheGo
                            31362 
                            31363 ; 421  |#else
                            31364 ; 422  |                ML_ChOnTheGo(MEDIA_TYPE_FLASH, TRUE);
                            31365 ; 423  |#endif
                            31366 ; 424  |        }
                            31367 ; 425  |
                            31368 ; 426  |        //disable the write detection because the MMC database want to rebuild and write to flash
                            31369 ; 427  |        write_detection_access(3);
                            31370 
P:01D0 56F400 000003  3 104231372 L52:    move    #>3,a
P:01D2 0BF080 rrrrrr  6 104831373         jsr     Fwrite_detection_access
                            31374 
                            31375 ; 428  |
                            31376 ; 429  |        ////// Building the music library for files on FLASH first completed upon reaching this point
                            31377 ; 430  |        ////// Let's build the music library for files on MMC now, if there is any
                            31378 ; 431  |#ifdef MMC
                            31379 ; 432  |        if (g_is_SD_inserted == HAS_SD)
                            31380 
P:01D4 5FF000 rrrrrr  3 105131382         move    y:Fg_is_SD_inserted,b
P:01D6 46F400 000001  3 105431383         move    #>1,y0
P:01D8 2B0000         2 105631384         move    #0,b2
P:01D9 20005D         2 105831385         cmp     y0,b
P:01DA 0AF0A2 rrrrrr  6 106431386         jne     L56
                            31387 
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page 121

M:ADDR CODE           CYCLES LINE SOURCELINE
                            31388 ; 433  |        {
                            31389 ; 434  |                ML_ChOnTheGo(MEDIA_TYPE_SD, TRUE);
                            31390 
P:01DC 200051         2 106631392         tfr     y0,a
P:01DD 200009         2 106831393         tfr     a,b
P:01DE 0BF080 rrrrrr  6 107431394         jsr     FML_ChOnTheGo
                            31395 
                            31396 ; 435  |
                            31397 ; 436  |                SD_build_success = TRUE;
                            31398 
P:01E0 290100         2 107631400         move    #1,b0
P:01E1 597000 rrrrrr  3 107931401         move    b0,y:FSD_build_success
                            31402 
                            31403 ; 437  |                g_wCurrentDirDevId = 1;
                            31404 
P:01E3 597000 rrrrrr  3 108231406         move    b0,y:Fg_wCurrentDirDevId
                            31407 
                            31408 ; 438  |
                            31409 ; 439  |                // Showing a message
                            31410 ; 440  |                SysPostMessage(5,LCD_PRINT_RANGE_RSRC,0,0,RSRC_BUILD_SD1);
                            31411 
P:01E5 260000         2 108431413         move    #0,y0
P:01E6 47F400 030001  3 108731414         move    #$30001,y1
P:01E8 290500         2 108931415         move    #5,b0
P:01E9 200013         2 109131416         clr     a   
P:01EA 45F400 0003C7  3 109431417         move    #967,x1
P:01EC 4D5F00         2 109631418         move    x1,y:(r7)+
P:01ED 5C5F00         2 109831420         move    a1,y:(r7)+
P:01EE 4E5F00         2 110031422         move    y0,y:(r7)+
P:01EF 4F5F00         2 110231424         move    y1,y:(r7)+
P:01F0 595F00         2 110431426         move    b0,y:(r7)+
P:01F1 0BF080 rrrrrr  6 111031428         jsr     FSysPostMessage
P:01F3 3F0500         2 111231429         move    #5,n7
P:01F4 000000         2 111431430         nop
P:01F5 204700         2 111631431         move    (r7)-n7
                            31433 
                            31434 ; 441  |                SysWaitOnEvent(0,0,100);
                            31435 
P:01F6 57F400 000064  3 111931437         move    #>100,b
P:01F8 300000         2 112131438         move    #0,r0
P:01F9 200013         2 112331439         clr     a   
P:01FA 0BF080 rrrrrr  6 112931440         jsr     SysWaitOnEvent
                            31441 
                            31442 ; 442  |
                            31443 ; 443  |                // Comparing the hash value stored in music library with that computed from the current SD
                            31444 ; 444  |                Hash_Result = SysCallFunction(RSRC_SDMD_MENU_CODE_BANK,sdmd_CompareHash,g_wCurrentDirDevId,0,0);
                            31445 
P:01FC 5FF000 rrrrrr  3 113231447         move    y:Fg_wCurrentDirDevId,b
P:01FE 350000         2 113431448         move    #0,r5
P:01FF 56F400 0003CB  3 113731449         move    #971,a
P:0201 240000         2 113931450         move    #0,x0
P:0202 22B400         2 114131451         move    r5,r4
P:0203 60F400 rrrrrr  3 114431452         move    #Fsdmd_CompareHash,r0
P:0205 21AF00         2 114631453         move    b1,b
P:0206 0BF080 rrrrrr  6 115231454         jsr     SysCallFunction
                            31456 
                            31457 ; 445  |
                            31458 ; 446  |                // If the hash values doesn't match, start a rebuild for files on SD
                            31459 ; 447  |                if(Hash_Result == 1)
                            31460 
P:0208 47F400 000001  3 115531462         move    #>1,y1
P:020A 200075         2 115731463         cmp     y1,a
P:020B 0AF0A2 rrrrrr  6 116331464         jne     L53
                            31465 
                            31466 ; 448  |                {
                            31467 ; 449  |                        // Showing a message
                            31468 ; 450  |                        SysPostMessage(5,LCD_PRINT_RANGE_RSRC,0,0,RSRC_BUILD_SD2);
                            31469 
P:020D 270000         2 116531471         move    #0,y1
P:020E 50F400 030001  3 116831472         move    #$30001,a0
P:0210 2D0500         2 117031474         move    #5,b1
P:0211 260000         2 117231475         move    #0,y0
P:0212 51F400 0003C8  3 117531476         move    #968,b0
P:0214 595F00         2 117731477         move    b0,y:(r7)+
P:0215 4E5F00         2 117931479         move    y0,y:(r7)+
P:0216 4F5F00         2 118131481         move    y1,y:(r7)+
P:0217 585F00         2 118331483         move    a0,y:(r7)+
P:0218 5D5F00         2 118531485         move    b1,y:(r7)+
P:0219 0BF080 rrrrrr  6 119131487         jsr     FSysPostMessage
P:021B 3F0500         2 119331488         move    #5,n7
P:021C 000000         2 119531489         nop
P:021D 204700         2 119731490         move    (r7)-n7
P:021E 300000         2 119931492         move    #0,r0
P:021F 200013         2 120131493         clr     a   
                            31494 
                            31495 ; 451  |                        SysWaitOnEvent(0,0,100);
                            31496 
P:0220 57F400 000064  3 120431498         move    #>100,b
P:0222 0BF080 rrrrrr  6 121031499         jsr     SysWaitOnEvent
                            31500 
                            31501 ; 452  |
                            31502 ; 453  |
                            31503 ; 454  |                        ML_InitLibraryParameter();
                            31504 
P:0224 0BF080 rrrrrr  6 121631506         jsr     FML_InitLibraryParameter
                            31507 
                            31508 ; 455  |                        ML_ChOnTheGo(MEDIA_TYPE_SD, INDEX_EOF);
                            31509 
P:0226 56F400 000001  3 121931511         move    #>1,a
P:0228 57F400 000FFF  3 122231512         move    #$FFF,b
P:022A 0BF080 rrrrrr  6 122831513         jsr     FML_ChOnTheGo
                            31514 
                            31515 ; 456  |
                            31516 ; 457  |            // Load intermediate memory for 1st pass
                            31517 ; 458  |            ML_BuildingEngineInitPlaylist3For1stPass();
                            31518 
P:022C 0BF080 rrrrrr  6 123431520         jsr     FML_BuildingEngineInitPlaylist3For1stPass
                            31521 
                            31522 ; 459  |
                            31523 ; 460  |                        // Initialize the *TempPathArray to the root string
                            31524 ; 461  |                        Playlist_GetRootString(TempPathArray,1);
                            31525 
P:022E 56F400 000001  3 123731527         move    #>1,a
P:0230 60F400 rrrrrr  3 124031528         move    #FTempPathArray,r0
P:0232 0BF080 rrrrrr  6 124631529         jsr     FPlaylist_GetRootString
P:0234 56F400 000001  3 124931530         move    #>1,a
                            31531 
                            31532 ; 462  |                        // Get the fast key of root directory
                            31533 ; 463  |                        dwFastKey=GetRootdirkey(1);
                            31534 
P:0236 0BF080 rrrrrr  6 125531536         jsr     FGetRootdirkey
                            31538 
                            31539 ; 464  |#ifdef _FOLDER_BROWSE_
                            31540 ; 465  |                        g_tDirInfoBuffer[iDepth].dwFastKey = dwFastKey;
                            31541 
P:0238 5C7000 rrrrrr  3 125831543         move    a1,y:Fg_tDirInfoBuffer+3
P:023A 587000 rrrrrr  3 126131544         move    a0,y:Fg_tDirInfoBuffer+2
                            31545 
                            31546 ; 466  |#endif  // _FOLDER_BROWSE_
                            31547 ; 467  |                        // Call Playlist_PopulateMusicLib() to add files in sub-folders to music library recursively
                            31548 ; 468  |                        g_total_song = 0;
                            31549 
P:023C 20001B         2 126331551         clr     b   
P:023D 5D7000 rrrrrr  3 126631552         move    b1,y:Fg_total_song
                            31553 
                            31554 ; 469  |            Playlist_PopulateMusicLib(1,iDepth,dwFastKey,0);
                            31555 
P:023F 21A400         2 126831557         move    b1,x0
P:0240 260000         2 127031558         move    #0,y0
P:0241 57F400 000001  3 127331559         move    #>1,b
P:0243 0BF080 rrrrrr  6 127931560         jsr     FPlaylist_PopulateMusicLib
                            31562 
                            31563 ; 470  |
                            31564 ; 471  |                        SysWaitOnEvent(0,0,50);
                            31565 
P:0245 300000         2 128131567         move    #0,r0
P:0246 200013         2 128331568         clr     a   
P:0247 57F400 000032  3 128631569         move    #>50,b
P:0249 0BF080 rrrrrr  6 129231570         jsr     SysWaitOnEvent
                            31571 
                            31572 ; 472  |                        // should add some delay here to make sure if the removal of card is too fast that the add
                            31573 ; 473  |                        // songto library quit but the SD_state_change have not updated to FALSE due to that the
                            31574 ; 474  |                        // button_isr has not yet served.
                            31575 ; 475  |
                            31576 ; 476  |                        if ((SD_state_change == FALSE) && (SD_build_success == TRUE))
                            31577 
P:024B 5FF000 rrrrrr  3 129531579         move    y:FSD_state_change,b
P:024D 2B0000         2 129731580         move    #0,b2
P:024E 20000B         2 129931581         tst     b
P:024F 0AF0A2 rrrrrr  6 130531582         jne     L55
P:0251 5EF000 rrrrrr  3 130831583         move    y:FSD_build_success,a
P:0253 46F400 000001  3 131131584         move    #>1,y0
P:0255 2A0000         2 131331585         move    #0,a2
P:0256 200055         2 131531586         cmp     y0,a
P:0257 0AF0A2 rrrrrr  6 132131587         jne     L55
                            31588 
                            31589 ; 477  |                        {
                            31590 ; 478  |                                SysPostMessage(5,LCD_PRINT_RANGE_RSRC,0,0,RSRC_BUILD_SD3);
                            31591 
P:0259 200013         2 132331593         clr     a   
P:025A 20001B         2 132531594         clr     b   
P:025B 46F400 0003C9  3 132831595         move    #969,y0
P:025D 4E5F00         2 133031596         move    y0,y:(r7)+
P:025E 5D5F00         2 133231598         move    b1,y:(r7)+
P:025F 5C5F00         2 133431600         move    a1,y:(r7)+
P:0260 47F400 030001  3 133731602         move    #$30001,y1
P:0262 4F5F00         2 133931603         move    y1,y:(r7)+
P:0263 290500         2 134131605         move    #5,b0
P:0264 595F00         2 134331606         move    b0,y:(r7)+
P:0265 0BF080 rrrrrr  6 134931608         jsr     FSysPostMessage
P:0267 3F0500         2 135131609         move    #5,n7
P:0268 000000         2 135331610         nop
P:0269 204700         2 135531611         move    (r7)-n7
                            31613 
                            31614 ; 479  |                                SysWaitOnEvent(0,0,0);
                            31615 
P:026A 200013         2 135731617         clr     a   
P:026B 20001B         2 135931618         clr     b   
P:026C 300000         2 136131619         move    #0,r0
P:026D 0BF080 rrrrrr  6 136731620         jsr     SysWaitOnEvent
P:026F 56F400 000001  3 137031621         move    #>1,a
                            31622 
                            31623 ; 480  |
                            31624 ; 481  |                // Flush sorted list
                            31625 ; 482  |                ML_FlushSortedListToFlash(MEDIA_TYPE_SD);
                            31626 
P:0271 0BF080 rrrrrr  6 137631628         jsr     FML_FlushSortedListToFlash
                            31629 
                            31630 ; 483  |
                            31631 ; 484  |                // Load intermediate memory for 2nd pass
                            31632 ; 485  |                ML_BuildingEngineInitPlaylist3For2ndPass();
                            31633 
P:0273 0BF080 rrrrrr  6 138231635         jsr     FML_BuildingEngineInitPlaylist3For2ndPass
                            31636 
                            31637 ; 486  |
                            31638 ; 487  |                                SysCallFunction(RSRC_MUSICLIB_BUILD_FUNCTION_FLUSH,ML_FlushLibraryToFlash,MEDIA_TYPE_SD,0,NULL);
                            31639 
P:0275 240000         2 138431641         move    #0,x0
P:0276 340000         2 138631642         move    #0,r4
P:0277 57F400 000001  3 138931643         move    #>1,b
P:0279 60F400 rrrrrr  3 139231644         move    #FML_FlushLibraryToFlash,r0
P:027B 56F400 0003CD  3 139531645         move    #973,a
P:027D 0BF080 rrrrrr  6 140131646         jsr     SysCallFunction
                            31647 
                            31648 ; 488  |                                SysCallFunction(RSRC_SDMD_MENU_CODE_BANK,sdmd_UpdateHash,g_wCurrentDirDevId,0,0);
                            31649 
P:027F 5FF000 rrrrrr  3 140431651         move    y:Fg_wCurrentDirDevId,b
P:0281 240000         2 140631652         move    #0,x0
P:0282 56F400 0003CB  3 140931653         move    #971,a
P:0284 60F400 rrrrrr  3 141231654         move    #Fsdmd_UpdateHash,r0
P:0286 340000         2 141431655         move    #0,r4
P:0287 21AF00         2 141631656         move    b1,b
P:0288 0BF080 rrrrrr  6 142231657         jsr     SysCallFunction
                            31658 
                            31659 ; 489  |                        }
                            31660 
P:028A 0AF080 rrrrrr  6 142831662         jmp     L59
                            31663 
                            31664 ; 490  |                        else
                            31665 ; 491  |                        {
                            31666 ; 492  |                                SD_build_success = FALSE;
                            31667 ; 493  |                        }
                            31668 ; 494  |
                            31669 ; 495  |                        //end of building SD card
                            31670 ; 496  |                }
                            31671 ; 497  |                else if (Hash_Result != 0)
                            31672 
P:028C 200003         2 143031674 L53:    tst     a
P:028D 0AF0AA rrrrrr  6 143631675         jeq     L59
                            31676 
                            31677 ; 498  |                {
                            31678 ; 499  |                        SD_build_success = FALSE;
                            31679 
P:028F 20001B         2 143831681 L55:    clr     b   
P:0290 5D7000 rrrrrr  3 144131682         move    b1,y:FSD_build_success
                            31683 
                            31684 ; 500  |                }
                            31685 ; 501  |        }
                            31686 
P:0292 0AF080 rrrrrr  6 144731688         jmp     L59
                            31689 
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page 122

M:ADDR CODE           CYCLES LINE SOURCELINE
                            31690 ; 502  |        else
                            31691 ; 503  |        {
                            31692 ; 504  |                ML_ChOnTheGo(MEDIA_TYPE_SD, INDEX_EOF);
                            31693 
P:0294 200051         2 144931695 L56:    tfr     y0,a
P:0295 57F400 000FFF  3 145231696         move    #$FFF,b
P:0297 0BF080 rrrrrr  6 145831697         jsr     FML_ChOnTheGo
                            31698 
                            31699 ; 505  |        }
                            31700 ; 506  |#endif
                            31701 ; 507  |
                            31702 ; 508  |        // Update the new music and on-the-go lists according to the new libraries
                            31703 ; 509  |        if ((!bSystemInit) || (g_is_SD_inserted == NO_SD) || (SD_build_success))
                            31704 
P:0299 5FF000 rrrrrr  3 146131706 L59:    move    y:FbSystemInit,b
P:029B 2B0000         2 146331707         move    #0,b2
P:029C 20000B         2 146531708         tst     b
P:029D 0AF0AA rrrrrr  6 147131709         jeq     L61
P:029F 5FF000 rrrrrr  3 147431710         move    y:Fg_is_SD_inserted,b
P:02A1 2B0000         2 147631711         move    #0,b2
P:02A2 20000B         2 147831712         tst     b
P:02A3 0AF0AA rrrrrr  6 148431713         jeq     L61
P:02A5 5EF000 rrrrrr  3 148731714         move    y:FSD_build_success,a
P:02A7 2A0000         2 148931715         move    #0,a2
P:02A8 200003         2 149131716         tst     a
P:02A9 0AF0AA rrrrrr  6 149731717         jeq     L63
                            31718 
                            31719 ; 510  |        {
                            31720 ; 511  |                if (!SD_build_success)
                            31721 
P:02AB 5FF000 rrrrrr  3 150031723 L61:    move    y:FSD_build_success,b
P:02AD 2B0000         2 150231724         move    #0,b2
P:02AE 20000B         2 150431725         tst     b
P:02AF 0AF0A2 rrrrrr  6 151031726         jne     L62
                            31727 
                            31728 ; 512  |                        g_is_SD_inserted = NO_SD;
                            31729 
P:02B1 20001B         2 151231731         clr     b   
P:02B2 5D7000 rrrrrr  3 151531732         move    b1,y:Fg_is_SD_inserted
                            31733 
                            31734 ; 513  |                // show create new music screen
                            31735 ; 514  |                SysPostMessage(5,LCD_PRINT_RANGE_RSRC,0,0,RSRC_BUILD_NEWMUSIC);
                            31736 
P:02B4 200013         2 151731738 L62:    clr     a   
P:02B5 20001B         2 151931739         clr     b   
P:02B6 46F400 0003CA  3 152231740         move    #970,y0
P:02B8 4E5F00         2 152431741         move    y0,y:(r7)+
P:02B9 5D5F00         2 152631743         move    b1,y:(r7)+
P:02BA 5C5F00         2 152831745         move    a1,y:(r7)+
P:02BB 47F400 030001  3 153131747         move    #$30001,y1
P:02BD 4F5F00         2 153331748         move    y1,y:(r7)+
P:02BE 290500         2 153531750         move    #5,b0
P:02BF 595F00         2 153731751         move    b0,y:(r7)+
P:02C0 0BF080 rrrrrr  6 154331753         jsr     FSysPostMessage
P:02C2 3F0500         2 154531754         move    #5,n7
P:02C3 000000         2 154731755         nop
P:02C4 204700         2 154931756         move    (r7)-n7
                            31758 
                            31759 ; 515  |                ML_UpdateNewMusic();
                            31760 
P:02C5 0BF080 rrrrrr  6 155531762         jsr     FML_UpdateNewMusic
                            31763 
                            31764 ; 516  |                ML_UpdateOnTheGo();
                            31765 
P:02C7 0BF080 rrrrrr  6 156131767         jsr     FML_UpdateOnTheGo
                            31768 
                            31769 ; 517  |                ML_SaveOnTheGo();
                            31770 
P:02C9 0BF080 rrrrrr  6 156731772         jsr     FML_SaveOnTheGo
                            31773 
                            31774 ; 518  |        }
                            31775 ; 519  |
                            31776 ; 520  |        // If VOICE folder is found, build the library
                            31777 ; 521  |        BuildVoiceFilePath();
                            31778 
P:02CB 0BF080 rrrrrr  6 157331780 L63:    jsr     FBuildVoiceFilePath
                            31781 
                            31782 ; 522  |        // Build the library for VOICE completed
                            31783 ; 523  |
                            31784 ; 524  |        // If FM folder is found, build the library
                            31785 ; 525  |        BuildFMFilePath();
                            31786 
P:02CD 0BF080 rrrrrr  6 157931788         jsr     FBuildFMFilePath
                            31789 
                            31790 ; 526  |        // Build the library for FM completed
                            31791 ; 527  |
                            31792 ; 528  |    // If LINE-IN folder is found, build the library
                            31793 ; 529  |    BuildLINEINFilePath();
                            31794 
P:02CF 0BF080 rrrrrr  6 158531796         jsr     FBuildLINEINFilePath
                            31797 
                            31798 ; 530  |    // Build the library for LINEIN completed
                            31799 ; 531  |#ifdef MMC
                            31800 ; 532  |        ////// Building the music library for files on MMC completed upon reaching this point
                            31801 ; 533  |
                            31802 ; 534  |        if ((SD_state_change == FALSE) && (SD_build_success == TRUE))
                            31803 
P:02D1 5FF000 rrrrrr  3 158831805         move    y:FSD_state_change,b
P:02D3 2B0000         2 159031806         move    #0,b2
P:02D4 20000B         2 159231807         tst     b
P:02D5 0AF0A2 rrrrrr  6 159831808         jne     L65
P:02D7 5FF000 rrrrrr  3 160131809         move    y:FSD_build_success,b
P:02D9 46F400 000001  3 160431810         move    #>1,y0
P:02DB 2B0000         2 160631811         move    #0,b2
P:02DC 20005D         2 160831812         cmp     y0,b
P:02DD 0AF0A2 rrrrrr  6 161431813         jne     L65
                            31814 
                            31815 ; 535  |        {
                            31816 ; 536  |                ML_merging_engine_init_playlist3();
                            31817 
P:02DF 0BF080 rrrrrr  6 162031819         jsr     FML_merging_engine_init_playlist3
                            31820 
                            31821 ; 537  |                ML_MergeLibraryTables();
                            31822 
P:02E1 0BF080 rrrrrr  6 162631824         jsr     FML_MergeLibraryTables
                            31825 
                            31826 ; 538  |        }
                            31827 ; 539  |#endif
                            31828 ; 540  |
                            31829 ; 541  |        // Rebuild completed
                            31830 ; 542  |        g_Rebuild = FALSE;
                            31831 
P:02E3 20001B         2 162831833 L65:    clr     b   
P:02E4 5D7000 rrrrrr  3 163131834         move    b1,y:Fg_Rebuild
                            31835 
                            31836 ; 543  |
                            31837 ; 544  |        // Clean up the mess before leaving
                            31838 ; 545  |        SysUnLoadFATWrite();
                            31839 
P:02E6 0BF080 rrrrrr  6 163731841         jsr     SysUnLoadFATWrite
                            31842 
                            31843 ; 546  |
                            31844 ; 547  |        //SET SPEED BACK TO NORMAL HERE
                            31845 ; 548  |        SysSpeedClockFree(SPEED_CLIENT_PLAYLIST1); // C Speed client frees the shared speed resource
                            31846 
P:02E8 56F400 00000F  3 164031848         move    #>15,a
P:02EA 0BF080 rrrrrr  6 164631849         jsr     FSysSpeedClockFree
                            31850 
                            31851 ; 549  |        return PLAYLIST_SUCCESS;
                            31852 
P:02EC 200013         2 164831854         clr     a   
P:02ED 218E00         2 165031855         move    a1,a
                            31856 
                            31857 ; 550  |}
                            31858 
P:02EE 05FF7C         4 165431860         movec   y:-(r7),ssh
P:02EF 000000         2 165631863         nop
P:02F0 00000C         4 166031864         rts
                            31866 
                            31867 ; 551  |
                            31868 ; 552  |//////////////////////////////////////////////////////
                            31869 ; 553  |//
                            31870 ; 554  |//>  Name:          _reentrant RETCODE Playlist_PopulateMusicLib(int iDevice, int iDepth, DWORD dwDirKey,INT RecordNumber,INT FindNextRecord)
                            31871 ; 555  |//
                            31872 ; 556  |//   Type:          Function
                            31873 ; 557  |//
                            31874 ; 558  |//   Description:   recursively populates the Music Library starting from the root directory of the device
                            31875 ; 559  |//
                            31876 ; 560  |//   Inputs:        int iDevice        The number of the device being scanned
                            31877 ; 561  |//                  int iDepth           Used to limit the depth of sub-folder to be added to music library
                            31878 ; 562  |//
                            31879 ; 563  |//   Outputs:       if the input has any contents, they will be added to the music library with function
                            31880 ; 564  |//                  AddSongToMusicLibrary
                            31881 ; 565  |//
                            31882 ; 566  |//   Notes:
                            31883 ; 567  |//      The process in original Playlist_PopulateMusicLib has been divided into three parts 
                            31884 ; 568  |//      New version of Playlist_PopulateMusicLib
                            31885 ; 569  |//              - located in this c file 
                            31886 ; 570  |//              - search file through folder structure and copy the finddata into the cache
                            31887 ; 571  |//              - Call AddSongToLibrary in MP3 metadata codebank if cache is full or change processing to another folder
                            31888 ; 572  |//      AddSongToLibrary in the beginning of MP3, WMA and WAV metadata codebank 
                            31889 ; 573  |//              - located in playlist3init_metadata.c
                            31890 ; 574  |//              - detect file type and select correct metadata codebank
                            31891 ; 575  |//              - if correct is selected in previous file, no codebank switch will be performed.
                            31892 ; 576  |//      AddSongToLibraryStatic in P App cluster
                            31893 ; 577  |//              - located in playlist3init_static.c
                            31894 ; 578  |//              - Call metadata extraction in menu codebank
                            31895 ; 579  |//              - Add file into music library
                            31896 ; 580  |//<
                            31897 ; 581  |//////////////////////////////////////////////////////
                            31898 ; 582  |_reentrant RETCODE Playlist_PopulateMusicLib(int iDevice, int iDepth, DWORD dwDirKey,INT DirRecordNumber)
                            31899 ; 583  |{
                            31900 
                            31905 FPlaylist_PopulateMusicLib:
P:02F1 055F7C         2 166231906         movec   ssh,y:(r7)+
P:02F2 3F1D00         2 166431909         move    #29,n7
P:02F3 000000         2 166631910         nop
P:02F4 204F00         2 166831911         move    (r7)+n7
                            31923 
                            31924 ; 584  |        RETCODE rtn = PLAYLIST_FILE_ERROR;
                            31925 
P:02F5 77F400 FFFFF6  3 167131927         move    #-10,n7
P:02F7 000000         2 167331928         nop
P:02F8 4E6F00         4 167731929         move    y0,y:(r7+n7)
P:02F9 77F400 FFFFF2  3 168031932         move    #-14,n7
P:02FB 000000         2 168231933         nop
P:02FC 5D6F00         4 168631934         move    b1,y:(r7+n7)
P:02FD 47F400 000001  3 168931937         move    #>1,y1
P:02FF 20E600         2 169131938         move    y1,y0
P:0300 77F400 FFFFF7  3 169431940         move    #-9,n7
P:0302 000000         2 169631941         nop
P:0303 4E6F00         4 170031942         move    y0,y:(r7+n7)
                            31950 
                            31951 ; 585  |        int RecordNo=0;
                            31952 ; 586  |        DWORD dwFastKey;
                            31953 ; 587  |        int b;
                            31954 ; 588  |
                            31955 ; 589  |        // Preparing the fast key and DirPath[] for the music library building phase
                            31956 ; 590  |        g_dwFastKey=dwDirKey;
                            31957 
P:0304 77F400 FFFFF4  3 170331959         move    #-12,n7
P:0306 205F00         2 170531960         move    (r7)+
P:0307 5C6F00         4 170931962         move    a1,y:(r7+n7)
P:0308 205700         2 171131963         move    (r7)-
P:0309 586F00         4 171531965         move    a0,y:(r7+n7)
P:030A 5C7000 rrrrrr  3 171831966         move    a1,y:Fg_dwFastKey+1
P:030C 587000 rrrrrr  3 172131967         move    a0,y:Fg_dwFastKey
                            31970 
                            31971 ; 591  |    PathFormation(DirPath,TempPathArray,iDepth+1);
                            31972 
P:030E 200041         2 172331974         tfr     x0,a
P:030F 77F400 FFFFF3  3 172631975         move    #-13,n7
P:0311 000000         2 172831976         nop
P:0312 5E6F00         4 173231977         move    a,y:(r7+n7)
P:0313 200070         2 173431978         add     y1,a
P:0314 60F400 rrrrrr  3 173731981         move    #FDirPath,r0
P:0316 77F400 FFFFF8  3 174031982         move    #-8,n7
P:0318 000000         2 174231983         nop
P:0319 5C6F00         4 174631984         move    a1,y:(r7+n7)
P:031A 64F400 rrrrrr  3 174931985         move    #FTempPathArray,r4
P:031C 0BF080 rrrrrr  6 175531986         jsr     FPathFormation
                            31987 
                            31988 ; 592  |    //build the relative path instead of absolute path
                            31989 ; 593  |    PathFormationPartial(TempPath,TempPathArray,iDepth);
                            31990 
P:031E 77F400 FFFFF3  3 175831992         move    #-13,n7
P:0320 000000         2 176031993         nop
P:0321 5EEF00         4 176431994         move    y:(r7+n7),a
P:0322 60F400 rrrrrr  3 176731997         move    #FTempPath,r0
P:0324 64F400 rrrrrr  3 177031998         move    #FTempPathArray,r4
P:0326 0BF080 rrrrrr  6 177631999         jsr     FPathFormationPartial
                            32002 
                            32003 ; 594  |
                            32004 ; 595  |        if( iDepth == 1 )
                            32005 
P:0328 77F400 FFFFF3  3 177932007         move    #-13,n7
P:032A 000000         2 178132008         nop
P:032B 5FEF00         4 178532009         move    y:(r7+n7),b
P:032C 45F400 000001  3 178832010         move    #>1,x1
P:032E 20006D         2 179032011         cmp     x1,b
P:032F 0AF0A2 rrrrrr  6 179632012         jne     L105
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page 123

M:ADDR CODE           CYCLES LINE SOURCELINE
P:0331 60F400 rrrrrr  3 179932013         move    #FDirPath,r0
                            32014 
                            32015 ; 596  |        {
                            32016 ; 597  |#if 1
                            32017 ; 598  |        if (!IsMusicPath(DirPath)) 
                            32018 
P:0333 0BF080 rrrrrr  6 180532020         jsr     FIsMusicPath
P:0335 2A0000         2 180732021         move    #0,a2
P:0336 200003         2 180932022         tst     a
P:0337 0AF0A2 rrrrrr  6 181532023         jne     L105
                            32024 
                            32025 ; 599  |                return PLAYLIST_SUCCESS;
                            32026 
P:0339 200013         2 181732028         clr     a   
P:033A 0AF080 rrrrrr  6 182332029         jmp     L122
                            32030 
                            32031 ; 600  |#else           
                            32032 ; 601  |                if( ((INT *)DirPath)[1] == VOICE_PATH_1 &&
                            32033 ; 602  |                        ((INT *)DirPath)[2] == VOICE_PATH_2 &&
                            32034 ; 603  |                        (((INT *)DirPath)[3]&0xff0000) == VOICE_PATH_3 )
                            32035 ; 604  |                {
                            32036 ; 605  |                        g_dwVoiceFastKey = dwDirKey;
                            32037 ; 606  |                        return PLAYLIST_SUCCESS;
                            32038 ; 607  |                }
                            32039 ; 608  |                if( ((INT *)DirPath)[1] == FM_PATH_1 &&
                            32040 ; 609  |                        (((INT *)DirPath)[2]&0xff0000) == FM_PATH_2 )
                            32041 ; 610  |                {
                            32042 ; 611  |                        g_dwFmFastKey = dwDirKey;
                            32043 ; 612  |                        return PLAYLIST_SUCCESS;
                            32044 ; 613  |                }
                            32045 ; 614  |                if( ((INT *)DirPath)[1] == LINEIN_PATH_1 &&
                            32046 ; 615  |                        ((INT *)DirPath)[2] == LINEIN_PATH_2 &&
                            32047 ; 616  |                        ((INT *)DirPath)[3] == LINEIN_PATH_3 )
                            32048 ; 617  |                {
                            32049 ; 618  |                        g_dwLineinFastKey = dwDirKey;
                            32050 ; 619  |                        return PLAYLIST_SUCCESS;
                            32051 ; 620  |                }
                            32052 ; 621  |#endif          
                            32053 ; 622  |        }
                            32054 ; 623  |
                            32055 ; 624  |        if(ChdirFromOffset((_packed char*)TempPath,DirRecordNumber) == FS_SUCCESS)
                            32056 
P:033C 60F400 rrrrrr  3 182632058 L105:   move    #FTempPath,r0
P:033E 77F400 FFFFF9  3 182932059         move    #-7,n7
P:0340 000000         2 183132060         nop
P:0341 686F00         4 183532061         move    r0,y:(r7+n7)
P:0342 77F400 FFFFF6  3 183832062         move    #-10,n7
P:0344 000000         2 184032063         nop
P:0345 5EEF00         4 184432064         move    y:(r7+n7),a
P:0346 0BF080 rrrrrr  6 185032065         jsr     FChdirFromOffset
P:0348 200003         2 185232069         tst     a
P:0349 0AF0A2 rrrrrr  6 185832070         jne     L121
                            32072 
                            32073 ; 625  |        {
                            32074 ; 626  |                _packed BYTE sFileSpec[4];
                            32075 ; 627  |                Finddata finddata;
                            32076 ; 628  |                int i;
                            32077 ; 629  |                int find_handle ;
                            32078 ; 630  |                ((int*)(sFileSpec))[0]=0x2a2e2a; //*.*
                            32079 
P:034B 44F400 2A2E2A  3 186132088         move    #2764330,x0
P:034D 77F400 FFFFEF  3 186432089         move    #-17,n7
P:034F 000000         2 186632090         nop
P:0350 4C6F00         4 187032091         move    x0,y:(r7+n7)
                            32092 
                            32093 ; 631  |                ((int*)(sFileSpec))[1]=0; //null terminator
                            32094 
P:0351 20001B         2 187232096         clr     b   
P:0352 77F400 FFFFF0  3 187532097         move    #-16,n7
P:0354 000000         2 187732098         nop
P:0355 5F6F00         4 188132099         move    b,y:(r7+n7)
                            32100 
                            32101 ; 632  |                _memset(&finddata,0,sizeof(finddata));
                            32102 
P:0356 77F400 FFFFE3  3 188432104         move    #-29,n7
P:0358 000000         2 188632105         nop
P:0359 044F14         4 189032106         lua     (r7)+n7,r4
P:035A 229000         2 189232107         move    r4,r0
P:035B 060C80 rrrrrr  6 189832108         do      #12,L125
P:035D 5F5C00         2 190032110         move    b,y:(r4)+
P:035E 000000         2 190232111         nop
                         (4)32112 L125:
                            32114 
                            32115 ; 633  |                finddata.device = iDevice;
                            32116 
P:035F 77F400 FFFFF2  3 190532118         move    #-14,n7
P:0361 000000         2 190732119         nop
P:0362 5CEF00         4 191132120         move    y:(r7+n7),a1
P:0363 77F400 FFFFE6  3 191432121         move    #-26,n7
P:0365 000000         2 191632122         nop
P:0366 5C6F00         4 192032123         move    a1,y:(r7+n7)
                            32126 
                            32127 ; 634  |                finddata.startrecord = 0;
                            32128 
P:0367 77F400 FFFFE7  3 192332130         move    #-25,n7
P:0369 000000         2 192532131         nop
P:036A 5F6F00         4 192932132         move    b,y:(r7+n7)
                            32133 
                            32134 ; 635  |
                            32135 ; 636  |                // Get the first that matches our specifications
                            32136 ; 637  |                find_handle = FindFirst(&finddata,(_packed char*) sFileSpec);
                            32137 
P:036B 77F400 FFFFF3  3 193232139         move    #-13,n7
P:036D 000000         2 193432140         nop
P:036E 4EEF00         4 193832141         move    y:(r7+n7),y0
P:036F 45F400 00002F  3 194132142         move    #>47,x1
P:0371 2000E8         2 194332143         mpy     y0,x1,b
P:0372 20002A         2 194532144         asr     b
P:0373 77F400 FFFFFA  3 194832147         move    #-6,n7
P:0375 000000         2 195032148         nop
P:0376 596F00         4 195432149         move    b0,y:(r7+n7)
P:0377 0AF080 rrrrrr  6 196032150         jmp     L109
                            32151 
                            32152 ; 638  |                RecordNo=finddata.startrecord-1;
                            32153 ; 639  |
                            32154 ; 640  |                while(find_handle > 0)
                            32155 ; 641  |                {
                            32156 ; 642  |                        if((!(finddata.attrib & ATTR_UNACCEPTABLE)))
                            32157 
                            32159 L106:
P:0379 77F400 FFFFE3  3 196332165         move    #-29,n7
P:037B 000000         2 196532166         nop
P:037C 5FEF00         4 196932167         move    y:(r7+n7),b
P:037D 46F400 00000E  3 197232168         move    #>14,y0
P:037F 20005E         2 197432169         and     y0,b
P:0380 0AF0A2 rrrrrr  6 198032170         jne     L116
                            32171 
                            32172 ; 643  |                        {
                            32173 ; 644  |                                if(finddata.attrib & (ATTR_DIRECTORY))
                            32174 
P:0382 4DEF00         4 198432176         move    y:(r7+n7),x1
P:0383 0AC504 rrrrrr  6 199032177         jclr    #4,x1,L110
                            32178 
                            32179 ; 645  |                                {
                            32180 ; 646  |                                        if((iDepth+1) < _MAX_DIR_DEPTH)
                            32181 
P:0385 47F400 000008  3 199332183         move    #>8,y1
P:0387 77F400 FFFFF8  3 199632184         move    #-8,n7
P:0389 000000         2 199832185         nop
P:038A 5FEF00         4 200232186         move    y:(r7+n7),b
P:038B 20007D         2 200432187         cmp     y1,b
P:038C 0AF0A1 rrrrrr  6 201032188         jge     L116
                            32189 
                            32190 ; 647  |                                        {
                            32191 ; 648  |                                                RecordNo = finddata.startrecord - 1;
                            32192 
P:038E 77F400 FFFFE7  3 201332194         move    #-25,n7
P:0390 000000         2 201532195         nop
P:0391 5FEF00         4 201932196         move    y:(r7+n7),b
P:0392 46F400 000001  3 202232197         move    #>1,y0
P:0394 20005C         2 202432198         sub     y0,b
P:0395 77F400 FFFFFC  3 202732199         move    #-4,n7
P:0397 000000         2 202932200         nop
P:0398 5D6F00         4 203332201         move    b1,y:(r7+n7)
                            32203 
                            32204 ; 649  |                                                dwFastKey = finddata.Key;
                            32205 
P:0399 77F400 FFFFED  3 203632207         move    #-19,n7
P:039B 205F00         2 203832208         move    (r7)+
P:039C 4DEF00         4 204232210         move    y:(r7+n7),x1
P:039D 205700         2 204432211         move    (r7)-
P:039E 4CEF00         4 204832213         move    y:(r7+n7),x0
P:039F 77F400 FFFFFD  3 205132214         move    #-3,n7
P:03A1 205F00         2 205332215         move    (r7)+
P:03A2 4D6F00         4 205732217         move    x1,y:(r7+n7)
P:03A3 205700         2 205932218         move    (r7)-
P:03A4 4C6F00         4 206332220         move    x0,y:(r7+n7)
                            32222 
                            32223 ; 650  |
                            32224 ; 651  |                                        // Jot down the folder name for further exploration or library building
                            32225 ; 652  |                        packed_strcpy((TempPathArray+((iDepth+1)*PATHARRAYSLOT_WORDLEN)), (_packed BYTE*) finddata.name);
                            32226 
P:03A5 280F00         2 206532228         move    #15,a0
P:03A6 210400         2 206732229         move    a0,x0
P:03A7 77F400 FFFFF3  3 207032230         move    #-13,n7
P:03A9 000000         2 207232231         nop
P:03AA 4DEF00         4 207632232         move    y:(r7+n7),x1
P:03AB 200032         2 207832233         asl     a
P:03AC 2000A2         2 208032234         mac     x1,x0,a
P:03AD 200022         2 208232235         asr     a
P:03AE 44F400 000003  3 208532236         move    #>3,x0
P:03B0 210E00         2 208732237         move    a0,a
P:03B1 0BF080 rrrrrr  6 209332238         jsr     Rdiv_iii
P:03B3 21DA00         2 209532239         move    a,n2
P:03B4 62F400 rrrrrr  3 209832240         move    #FTempPathArray,r2
P:03B6 000000         2 210032241         nop
P:03B7 044A1A         4 210432242         lua     (r2)+n2,n2
P:03B8 77F400 FFFFE8  3 210732243         move    #-24,n7
P:03BA 000000         2 210932244         nop
P:03BB 044F14         4 211332245         lua     (r7)+n7,r4
P:03BC 045FA0         2 211532246         movec   m0,n7
P:03BD 000000         2 211732247         nop
P:03BE 7A6F00         4 212132248         move    n2,y:(r7+n7)
P:03BF 235000         2 212332249         move    n2,r0
P:03C0 0BF080 rrrrrr  6 212932250         jsr     packed_strcpy
P:03C2 045FA0         2 213132251         movec   m0,n7
P:03C3 000000         2 213332252         nop
P:03C4 68EF00         4 213732253         move    y:(r7+n7),r0
                            32254 
                            32255 ; 653  |                                            b = DIR_SEPARATOR ; // "\" Never ever forget to do this
                            32256 
P:03C5 292F00         2 213932258         move    #47,b0
P:03C6 77F400 FFFFF1  3 214232259         move    #-15,n7
P:03C8 000000         2 214432260         nop
P:03C9 596F00         4 214832261         move    b0,y:(r7+n7)
                            32262 
                            32263 ; 654  |                        packed_strcat((TempPathArray+((iDepth+1)*PATHARRAYSLOT_WORDLEN)), (_packed BYTE*) &b);
                            32264 
P:03CA 044F14         4 215232266         lua     (r7)+n7,r4
P:03CB 0BF080 rrrrrr  6 215832267         jsr     packed_strcat
P:03CD 77F400 FFFFFB  3 216132268         move    #-5,n7
P:03CF 000000         2 216332269         nop
P:03D0 5EEF00         4 216732270         move    y:(r7+n7),a
                            32273 
                            32274 ; 655  |                                                Fclose(find_handle);
                            32275 
P:03D1 0BF080 rrrrrr  6 217332277         jsr     FFclose
P:03D3 77F400 FFFFFD  3 217632279         move    #-3,n7
P:03D5 205F00         2 217832280         move    (r7)+
P:03D6 5EEF00         4 218232282         move    y:(r7+n7),a
P:03D7 205700         2 218432283         move    (r7)-
P:03D8 58EF00         4 218832285         move    y:(r7+n7),a0
P:03D9 77F400 FFFFFC  3 219132288         move    #-4,n7
P:03DB 000000         2 219332289         nop
P:03DC 4EEF00         4 219732290         move    y:(r7+n7),y0
P:03DD 77F400 FFFFF3  3 220032293         move    #-13,n7
P:03DF 000000         2 220232294         nop
P:03E0 4DEF00         4 220632295         move    y:(r7+n7),x1
P:03E1 77F400 FFFFF2  3 220932298         move    #-14,n7
P:03E3 000000         2 221132299         nop
P:03E4 4CEF00         4 221532300         move    y:(r7+n7),x0
                            32303 
                            32304 ; 656  |                                                find_handle = -1;
                            32305 ; 657  |
                            32306 ; 658  |#ifdef _FOLDER_BROWSE_
                            32307 ; 659  |                                                g_tDirInfoBuffer[iDepth+1].iDirRecord = RecordNo;
                            32308 
P:03E5 77F400 FFFFFA  3 221832310         move    #-6,n7
P:03E7 000000         2 222032311         nop
P:03E8 4FEF00         4 222432312         move    y:(r7+n7),y1
P:03E9 20FD00         2 222632313         move    y1,n5
P:03EA 65F400 rrrrrr  3 222932314         move    #Fg_tDirInfoBuffer+48,r5
P:03EC 000000         2 223132315         nop
P:03ED 4E6D00         4 223532316         move    y0,y:(r5+n5)
                            32317 
                            32318 ; 660  |                                                g_tDirInfoBuffer[iDepth+1].dwFastKey = dwFastKey;
                            32319 
P:03EE 65F400 rrrrrr  3 223832321         move    #Fg_tDirInfoBuffer+49,r5
P:03F0 000000         2 224032322         nop
P:03F1 044D16         4 224432323         lua     (r5)+n5,r6
P:03F2 000000         2 224632324         nop
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page 124

M:ADDR CODE           CYCLES LINE SOURCELINE
P:03F3 585E00         2 224832325         move    a0,y:(r6)+
P:03F4 5C5600         2 225032326         move    a1,y:(r6)-
                            32327 
                            32328 ; 661  |                                                g_tDirInfoBuffer[iDepth+1].u4Added = FALSE;
                            32329 
P:03F5 66F400 rrrrrr  3 225332331         move    #Fg_tDirInfoBuffer+47,r6
P:03F7 23BE00         2 225532332         move    n5,n6
P:03F8 000000         2 225732333         nop
P:03F9 204E00         2 225932334         move    (r6)+n6
P:03FA 22D300         2 226132335         move    r6,r3
P:03FB 5FE600         2 226332336         move    y:(r6),b
P:03FC 47F400 0FFFFF  3 226632337         move    #$FFFFF,y1
P:03FE 20007E         2 226832338         and     y1,b
P:03FF 5D6300         2 227032339         move    b1,y:(r3)
                            32340 
                            32341 ; 662  |#endif  // _FOLDER_BROWSE_
                            32342 ; 663  |
                            32343 ; 664  |                        //Process the files found in the current before go into subdirectory
                            32344 ; 665  |                                        if( g_NumAddToLibrary != 0 )
                            32345 
P:0400 57F000 rrrrrr  3 227332347         move    x:Fg_NumAddToLibrary,b
P:0402 20000B         2 227532348         tst     b
P:0403 0AF0AA rrrrrr  6 228132349         jeq     L108
                            32350 
                            32351 ; 666  |                                                {
                            32352 ; 667  |#ifdef _FOLDER_BROWSE_
                            32353 ; 668  |                                                        if( g_tDirInfoBuffer[iDepth].u4Added == FALSE )
                            32354 
P:0405 66F400 rrrrrr  3 228432356         move    #Fg_tDirInfoBuffer,r6
P:0407 000000         2 228632357         nop
P:0408 5FEE00         4 229032358         move    y:(r6+n6),b
P:0409 27F000         2 229232359         move    #<$F0,y1
P:040A 20007E         2 229432360         and     y1,b
P:040B 0AF0A2 rrrrrr  6 230032361         jne     L107
P:040D 200041         2 230232366         tfr     x0,a
P:040E 200069         2 230432371         tfr     x1,b
                            32376 
                            32377 ; 669  |                                                                AddDirToLibrary( iDevice, iDepth );
                            32378 
P:040F 0BF080 rrrrrr  6 231032380         jsr     FAddDirToLibrary
P:0411 77F400 FFFFFD  3 231332385         move    #-3,n7
P:0413 205F00         2 231532386         move    (r7)+
P:0414 5EEF00         4 231932388         move    y:(r7+n7),a
P:0415 205700         2 232132389         move    (r7)-
P:0416 58EF00         4 232532391         move    y:(r7+n7),a0
P:0417 77F400 FFFFFC  3 232832394         move    #-4,n7
P:0419 000000         2 233032395         nop
P:041A 4EEF00         4 233432396         move    y:(r7+n7),y0
P:041B 77F400 FFFFF3  3 233732399         move    #-13,n7
P:041D 000000         2 233932400         nop
P:041E 4DEF00         4 234332401         move    y:(r7+n7),x1
P:041F 77F400 FFFFF2  3 234632404         move    #-14,n7
P:0421 000000         2 234832405         nop
P:0422 4CEF00         4 235232406         move    y:(r7+n7),x0
P:0423 77F400 FFFFFD  3 235532409 L107:   move    #-3,n7
P:0425 205F00         2 235732410         move    (r7)+
P:0426 5C6F00         4 236132412         move    a1,y:(r7+n7)
P:0427 205700         2 236332413         move    (r7)-
P:0428 586F00         4 236732415         move    a0,y:(r7+n7)
P:0429 77F400 FFFFFC  3 237032418         move    #-4,n7
P:042B 000000         2 237232419         nop
P:042C 4E6F00         4 237632420         move    y0,y:(r7+n7)
P:042D 77F400 FFFFF3  3 237932423         move    #-13,n7
P:042F 000000         2 238132424         nop
P:0430 4D6F00         4 238532425         move    x1,y:(r7+n7)
                            32428 
                            32429 ; 670  |#endif  // _FOLDER_BROWSE_
                            32430 ; 671  |                                                SysCallFunction(RSRC_MP3_METADATA_CODEBANK,AddSongToLibrary,0,iDevice,0);
                            32431 
P:0431 340000         2 238732433         move    #0,r4
P:0432 77F400 FFFFF2  3 239032434         move    #-14,n7
P:0434 000000         2 239232435         nop
P:0435 4C6F00         4 239632436         move    x0,y:(r7+n7)
P:0436 20001B         2 239832441         clr     b   
P:0437 60F400 rrrrrr  3 240132442         move    #FAddSongToLibrary,r0
P:0439 56F400 0001E5  3 240432443         move    #485,a
P:043B 0BF080 rrrrrr  6 241032444         jsr     SysCallFunction
P:043D 77F400 FFFFFD  3 241332447         move    #-3,n7
P:043F 205F00         2 241532448         move    (r7)+
P:0440 5EEF00         4 241932450         move    y:(r7+n7),a
P:0441 205700         2 242132451         move    (r7)-
P:0442 58EF00         4 242532453         move    y:(r7+n7),a0
P:0443 77F400 FFFFFC  3 242832456         move    #-4,n7
P:0445 000000         2 243032457         nop
P:0446 4EEF00         4 243432458         move    y:(r7+n7),y0
P:0447 77F400 FFFFF3  3 243732461         move    #-13,n7
P:0449 000000         2 243932462         nop
P:044A 4DEF00         4 244332463         move    y:(r7+n7),x1
P:044B 77F400 FFFFF2  3 244632466         move    #-14,n7
P:044D 000000         2 244832467         nop
P:044E 4CEF00         4 245232468         move    y:(r7+n7),x0
                            32471 
                            32472 ; 672  |                                                }
                            32473 
P:044F 77F400 FFFFF3  3 245532475 L108:   move    #-13,n7
P:0451 000000         2 245732476         nop
P:0452 4D6F00         4 246132477         move    x1,y:(r7+n7)
P:0453 77F400 FFFFF2  3 246432480         move    #-14,n7
P:0455 000000         2 246632481         nop
P:0456 4C6F00         4 247032482         move    x0,y:(r7+n7)
P:0457 200049         2 247232483         tfr     x0,b
P:0458 77F400 FFFFF8  3 247532488         move    #-8,n7
P:045A 000000         2 247732489         nop
P:045B 4CEF00         4 248132490         move    y:(r7+n7),x0
                            32491 
                            32492 ; 673  |                                                
                            32493 ; 674  |                                            Playlist_PopulateMusicLib(iDevice,iDepth+1,dwFastKey,RecordNo);
                            32494 
P:045C 0BF080 rrrrrr  6 248732496         jsr     FPlaylist_PopulateMusicLib
P:045E 64F400 rrrrrr  3 249032501         move    #FTempPathArray,r4
P:0460 77F400 FFFFF8  3 249332502         move    #-8,n7
P:0462 000000         2 249532503         nop
P:0463 5EEF00         4 249932504         move    y:(r7+n7),a
                            32505 
                            32506 ; 675  |
                            32507 ; 676  |                                                // Preparing the fast key and DirPath[] for the music library building phase
                            32508 ; 677  |                                                g_dwFastKey=dwDirKey;
                            32509 
P:0464 77F400 FFFFF4  3 250232511         move    #-12,n7
P:0466 205F00         2 250432512         move    (r7)+
P:0467 4FEF00         4 250832514         move    y:(r7+n7),y1
P:0468 205700         2 251032515         move    (r7)-
P:0469 4EEF00         4 251432517         move    y:(r7+n7),y0
P:046A 4F7000 rrrrrr  3 251732518         move    y1,y:Fg_dwFastKey+1
P:046C 4E7000 rrrrrr  3 252032519         move    y0,y:Fg_dwFastKey
P:046E 60F400 rrrrrr  3 252332520         move    #FDirPath,r0
                            32521 
                            32522 ; 678  |                                                PathFormation(DirPath,TempPathArray,iDepth+1);
                            32523 
P:0470 0BF080 rrrrrr  6 252932525         jsr     FPathFormation
P:0472 77F400 FFFFE3  3 253232526         move    #-29,n7
P:0474 000000         2 253432527         nop
P:0475 044F10         4 253832528         lua     (r7)+n7,r0
P:0476 77F400 FFFFF3  3 254132529         move    #-13,n7
P:0478 000000         2 254332530         nop
P:0479 4EEF00         4 254732531         move    y:(r7+n7),y0
P:047A 77F400 FFFFF2  3 255032534         move    #-14,n7
P:047C 000000         2 255232535         nop
P:047D 5CEF00         4 255632536         move    y:(r7+n7),a1
                            32539 
                            32540 ; 679  |
                            32541 ; 680  |                                                finddata.startrecord;
                            32542 ; 681  |                                                find_handle = FindFirst(&finddata,(_packed char*) sFileSpec);
                            32543 
P:047E 77F400 FFFFF3  3 255932545 L109:   move    #-13,n7
P:0480 000000         2 256132546         nop
P:0481 4E6F00         4 256532547         move    y0,y:(r7+n7)
P:0482 77F400 FFFFF2  3 256832550         move    #-14,n7
P:0484 000000         2 257032551         nop
P:0485 5C6F00         4 257432552         move    a1,y:(r7+n7)
P:0486 77F400 FFFFEF  3 257732555         move    #-17,n7
P:0488 000000         2 257932556         nop
P:0489 044F14         4 258332557         lua     (r7)+n7,r4
P:048A 0BF080 rrrrrr  6 258932558         jsr     FFindFirst
                            32560 
                            32561 ; 682  |                                                continue;
                            32562 
P:048C 0AF080 rrrrrr  6 259532564         jmp     L118
                            32565 
                            32566 ; 683  |                                        }
                            32567 ; 684  |                                }
                            32568 ; 685  |                                else
                            32569 ; 686  |                                {
                            32570 ; 687  |                                        //file
                            32571 ; 688  |                                        if(Playlist_ValidateEntry(TYPE_FILE, IS_VALID_AUDIO, (INT *)&finddata))
                            32572 
                            32574 L110:
P:048E 56F400 000001  3 259832577         move    #>1,a
P:0490 044F10         4 260232578         lua     (r7)+n7,r0
P:0491 57F400 000002  3 260532579         move    #>2,b
P:0493 0BF080 rrrrrr  6 261132580         jsr     FPlaylist_ValidateEntry
P:0495 77F400 FFFFE3  3 261432581         move    #-29,n7
P:0497 000000         2 261632582         nop
P:0498 044F11         4 262032583         lua     (r7)+n7,r1
P:0499 46F400 00000C  3 262332584         move    #>12,y0
P:049B 2A0000         2 262532585         move    #0,a2
P:049C 200003         2 262732586         tst     a
P:049D 0AF0AA rrrrrr  6 263332587         jeq     L112
                            32589 
                            32590 ; 689  |                                        {
                            32591 ; 690  |                                                //backup the finddata into the cache
                            32592 ; 691  |                                                int j;
                            32593 ; 692  |                                                WORD *src = (WORD*)&finddata;
                            32594 
P:049F 223600         2 263532600         move    r1,r6
                            32604 
                            32605 ; 693  |                                                WORD _X * dst = (WORD _X *)&g_AddToLibraryData[g_NumAddToLibrary];
                            32606 
P:04A0 45F000 rrrrrr  3 263832608         move    x:Fg_NumAddToLibrary,x1
P:04A2 2000E0         2 264032609         mpy     x1,y0,a
P:04A3 200022         2 264232610         asr     a
P:04A4 211B00         2 264432611         move    a0,n3
P:04A5 63F400 rrrrrr  3 264732612         move    #Fg_AddToLibraryData,r3
P:04A7 000000         2 264932613         nop
P:04A8 204B00         2 265132614         move    (r3)+n3
                            32616 
                            32617 ; 694  |                                                
                            32618 ; 695  |                                                for( j = 0; j < (int)sizeof(Finddata); j++ )
                            32619 
P:04A9 060C80 rrrrrr  6 265732621         do      #12,L123
                            32623 
                            32624 ; 696  |                                                        *dst++ = *src++;
                            32625 
P:04AB 4FDE00         2 265932627         move    y:(r6)+,y1
P:04AC 475B00         2 266132628         move    y1,x:(r3)+
                         (4)32630 L123:
                            32632 
                            32633 ; 697  |                                                g_NumAddToLibrary++;
                            32634 
P:04AD 57F000 rrrrrr  3 266432636         move    x:Fg_NumAddToLibrary,b
P:04AF 44F400 000001  3 266732637         move    #>1,x0
P:04B1 200048         2 266932638         add     x0,b
P:04B2 557000 rrrrrr  3 267232639         move    b1,x:Fg_NumAddToLibrary
                            32643 
                            32644 ; 698  |                                        }
                            32645 
                            32647 
                            32648 ; 699  |                                        //cache is full, process the files found in the current folder
                            32649 ; 700  |                                        if( g_NumAddToLibrary >= FINDDATA_CACHE_SIZE )
                            32650 
P:04B4 57F000 rrrrrr  3 267532652 L112:   move    x:Fg_NumAddToLibrary,b
P:04B6 46F400 000014  3 267832653         move    #>20,y0
P:04B8 20005D         2 268032654         cmp     y0,b
P:04B9 0AF0A9 rrrrrr  6 268632655         jlt     L116
                            32656 
                            32657 ; 701  |                                        {
                            32658 ; 702  |#ifdef _FOLDER_BROWSE_
                            32659 ; 703  |                                                if( g_tDirInfoBuffer[iDepth].u4Added == FALSE )
                            32660 
P:04BB 77F400 FFFFFA  3 268932662         move    #-6,n7
P:04BD 000000         2 269132663         nop
P:04BE 5DEF00         4 269532664         move    y:(r7+n7),b1
P:04BF 21BE00         2 269732665         move    b1,n6
P:04C0 66F400 rrrrrr  3 270032666         move    #Fg_tDirInfoBuffer,r6
P:04C2 000000         2 270232667         nop
P:04C3 5FEE00         4 270632668         move    y:(r6+n6),b
P:04C4 26F000         2 270832669         move    #<$F0,y0
P:04C5 20005E         2 271032670         and     y0,b
P:04C6 0AF0A2 rrrrrr  6 271632671         jne     L113
P:04C8 77F400 FFFFF2  3 271932672         move    #-14,n7
P:04CA 000000         2 272132673         nop
P:04CB 5EEF00         4 272532674         move    y:(r7+n7),a
P:04CC 77F400 FFFFF3  3 272832677         move    #-13,n7
P:04CE 000000         2 273032678         nop
P:04CF 5FEF00         4 273432679         move    y:(r7+n7),b
                            32682 
                            32683 ; 704  |                                                        AddDirToLibrary( iDevice, iDepth );
                            32684 
P:04D0 0BF080 rrrrrr  6 274032686         jsr     FAddDirToLibrary
                            32691 
                            32692 ; 705  |#endif  // _FOLDER_BROWSE_
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page 125

M:ADDR CODE           CYCLES LINE SOURCELINE
                            32693 ; 706  |                                    SysCallFunction(RSRC_MP3_METADATA_CODEBANK,AddSongToLibrary,0,iDevice,0);
                            32694 
P:04D2 340000         2 274232696 L113:   move    #0,r4
P:04D3 77F400 FFFFF2  3 274532697         move    #-14,n7
P:04D5 000000         2 274732698         nop
P:04D6 4CEF00         4 275132699         move    y:(r7+n7),x0
P:04D7 20001B         2 275332702         clr     b   
P:04D8 60F400 rrrrrr  3 275632703         move    #FAddSongToLibrary,r0
P:04DA 56F400 0001E5  3 275932704         move    #485,a
P:04DC 0BF080 rrrrrr  6 276532705         jsr     SysCallFunction
                            32708 
                            32709 ; 707  |                                        }
                            32710 ; 708  |                                }
                            32711 ; 709  |                        }
                            32712 ; 710  |
                            32713 ; 711  |                        if((FindNext(find_handle,&finddata)<0))
                            32714 
P:04DE 77F400 FFFFFB  3 276832716 L116:   move    #-5,n7
P:04E0 000000         2 277032717         nop
P:04E1 5EEF00         4 277432718         move    y:(r7+n7),a
P:04E2 77F400 FFFFE3  3 277732721         move    #-29,n7
P:04E4 000000         2 277932722         nop
P:04E5 044F10         4 278332723         lua     (r7)+n7,r0
P:04E6 0BF080 rrrrrr  6 278932724         jsr     FFindNext
P:04E8 200003         2 279132727         tst     a
P:04E9 77F400 FFFFFB  3 279432728         move    #-5,n7
P:04EB 000000         2 279632729         nop
P:04EC 5EEF00         4 280032730         move    y:(r7+n7),a
P:04ED 0AF0A1 rrrrrr  6 280632733         jge     L118
                            32734 
                            32735 ; 712  |                        {
                            32736 ; 713  |                                //if there's no next entry, lets close it out.
                            32737 ; 714  |                                Fclose(find_handle);
                            32738 
P:04EF 0BF080 rrrrrr  6 281232740         jsr     FFclose
                            32742 
                            32743 ; 715  |                                find_handle = -1;
                            32744 
P:04F1 56F400 FFFFFF  3 281532746         move    #>-1,a
                            32748 
                            32749 ; 716  |                                rtn = PLAYLIST_SUCCESS;
                            32750 
P:04F3 260000         2 281732752         move    #0,y0
P:04F4 77F400 FFFFF7  3 282032755         move    #-9,n7
P:04F6 000000         2 282232756         nop
P:04F7 4E6F00         4 282632757         move    y0,y:(r7+n7)
P:04F8 77F400 FFFFFB  3 282932761 L118:   move    #-5,n7
P:04FA 000000         2 283132762         nop
P:04FB 5C6F00         4 283532763         move    a1,y:(r7+n7)
P:04FC 200003         2 283732764         tst     a
P:04FD 0AF0A7 rrrrrr  6 284332767         jgt     L106
                            32768 
                            32769 ; 717  |                        }
                            32770 ; 718  |                }
                            32771 ; 719  |        //Process the files found in the current before go into subdirectory
                            32772 ; 720  |        if( g_NumAddToLibrary != 0 )
                            32773 
P:04FF 57F000 rrrrrr  3 284632775         move    x:Fg_NumAddToLibrary,b
P:0501 20000B         2 284832776         tst     b
P:0502 0AF0AA rrrrrr  6 285432777         jeq     L120
                            32778 
                            32779 ; 721  |                {
                            32780 ; 722  |#ifdef _FOLDER_BROWSE_
                            32781 ; 723  |                        if( g_tDirInfoBuffer[iDepth].u4Added == FALSE )
                            32782 
P:0504 77F400 FFFFFA  3 285732784         move    #-6,n7
P:0506 000000         2 285932785         nop
P:0507 59EF00         4 286332786         move    y:(r7+n7),b0
P:0508 213E00         2 286532787         move    b0,n6
P:0509 66F400 rrrrrr  3 286832788         move    #Fg_tDirInfoBuffer,r6
P:050B 000000         2 287032789         nop
P:050C 5FEE00         4 287432790         move    y:(r6+n6),b
P:050D 27F000         2 287632791         move    #<$F0,y1
P:050E 20007E         2 287832792         and     y1,b
P:050F 0AF0A2 rrrrrr  6 288432793         jne     L119
P:0511 77F400 FFFFF2  3 288732794         move    #-14,n7
P:0513 000000         2 288932795         nop
P:0514 5EEF00         4 289332796         move    y:(r7+n7),a
                            32799 
                            32800 ; 724  |                                AddDirToLibrary( iDevice, iDepth );
                            32801 
P:0515 77F400 FFFFF3  3 289632803         move    #-13,n7
P:0517 000000         2 289832804         nop
P:0518 5FEF00         4 290232805         move    y:(r7+n7),b
P:0519 0BF080 rrrrrr  6 290832806         jsr     FAddDirToLibrary
                            32812 
                            32813 ; 725  |#endif  // _FOLDER_BROWSE_
                            32814 ; 726  |            SysCallFunction(RSRC_MP3_METADATA_CODEBANK,AddSongToLibrary,0,iDevice,0);
                            32815 
P:051B 340000         2 291032817 L119:   move    #0,r4
P:051C 77F400 FFFFF2  3 291332818         move    #-14,n7
P:051E 000000         2 291532819         nop
P:051F 4CEF00         4 291932820         move    y:(r7+n7),x0
P:0520 56F400 0001E5  3 292232821         move    #485,a
P:0522 20001B         2 292432822         clr     b   
P:0523 60F400 rrrrrr  3 292732823         move    #FAddSongToLibrary,r0
P:0525 0BF080 rrrrrr  6 293332824         jsr     SysCallFunction
                            32828 
                            32829 ; 727  |                }
                            32830 ; 728  |
                            32831 ; 729  |                ((int*)TempPath)[0]=0x002e2e;//change dir to one level up(..).
                            32832 
P:0527 44F400 002E2E  3 293632834 L120:   move    #11822,x0
P:0529 4C7000 rrrrrr  3 293932835         move    x0,y:FTempPath
                            32836 
                            32837 ; 730  |                Chdir((_packed char*)TempPath);
                            32838 
P:052B 77F400 FFFFF9  3 294232840         move    #-7,n7
P:052D 000000         2 294432841         nop
P:052E 68EF00         4 294832842         move    y:(r7+n7),r0
P:052F 0BF080 rrrrrr  6 295432843         jsr     FChdir
                            32846 
                            32847 ; 731  |        }
                            32848 
                            32850 
                            32851 ; 732  |        return rtn;
                            32852 
P:0531 77F400 FFFFF7  3 295732854 L121:   move    #-9,n7
P:0533 000000         2 295932855         nop
P:0534 5EEF00         4 296332856         move    y:(r7+n7),a
                            32859 
                            32860 ; 733  |}
                            32861 
P:0535 77F400 FFFFE2  3 296632863 L122:   move    #-30,n7
P:0537 000000         2 296832864         nop
P:0538 05EF7C         4 297232865         movec   y:(r7+n7),ssh
P:0539 204F00         2 297432867         move    (r7)+n7
P:053A 00000C         4 297832869         rts
                            32873 
                            32874 ; 734  |// Ken 2005/7/15 04:44
                            32875 ; 735  |
                            32876 ; 736  |//////////////////////////////////////////////////////
                            32877 ; 737  |//
                            32878 ; 738  |//>  Name:          BOOL _reentrant Playlist_IsValidAudioFile(LONG lFileSize, _packed BYTE* pFileName)
                            32879 ; 739  |//
                            32880 ; 740  |//   Type:          Function
                            32881 ; 741  |//
                            32882 ; 742  |//   Description:   Determine if the file is an audio file
                            32883 ; 743  |//
                            32884 ; 744  |//   Inputs:        LONG File Size; _packed BYTE* File Name String
                            32885 ; 745  |//
                            32886 ; 746  |//   Outputs:       BOOL True/False
                            32887 ; 747  |//
                            32888 ; 748  |//   Notes:      Function will check for a valid file extension and will
                            32889 ; 749  |//                               check for MAC resources
                            32890 ; 750  |//<
                            32891 ; 751  |//////////////////////////////////////////////////////
                            32892 ; 752  |BOOL _reentrant Playlist_IsValidAudioFile(LONG lFileSize, _packed BYTE* pFileName)
                            32893 ; 753  |{
                            32894 
                            32899 FPlaylist_IsValidAudioFile:
P:053B 055F7C         2 298032900         movec   ssh,y:(r7)+
P:053C 3F0400         2 298232903         move    #4,n7
P:053D 000000         2 298432904         nop
P:053E 204F00         2 298632905         move    (r7)+n7
                            32913 
                            32914 ; 754  |        BOOL rtn = FALSE;
                            32915 
P:053F 77F400 FFFFFC  3 298932917         move    #-4,n7
P:0541 205F00         2 299132918         move    (r7)+
P:0542 5C6F00         4 299532920         move    a1,y:(r7+n7)
P:0543 205700         2 299732921         move    (r7)-
P:0544 586F00         4 300132923         move    a0,y:(r7+n7)
P:0545 2C0000         2 300332926         move    #0,a1
P:0546 045FA0         2 300532928         movec   m0,n7
P:0547 000000         2 300732929         nop
P:0548 5C6F00         4 301132930         move    a1,y:(r7+n7)
                            32935 
                            32936 ; 755  |        WORD wFileExtension;
                            32937 ; 756  |
                            32938 ; 757  |        //Get the file extension
                            32939 ; 758  |        wFileExtension = Playlist_GetFileExtention(0,0,(INT*)pFileName);
                            32940 
P:0549 200013         2 301332942         clr     a   
P:054A 77F400 FFFFFE  3 301632943         move    #-2,n7
P:054C 000000         2 301832944         nop
P:054D 686F00         4 302232945         move    r0,y:(r7+n7)
P:054E 20001B         2 302432948         clr     b   
P:054F 0BF080 rrrrrr  6 303032949         jsr     FPlaylist_GetFileExtention
                            32951 
                            32952 ; 759  |
                            32953 ; 760  |        //Check the extension for a valid case
                            32954 ; 761  |        if((wFileExtension==MP3_FILE_EXT) ||
                            32955 ; 762  |                (wFileExtension==WMA_FILE_EXT) ||
                            32956 ; 763  |#ifdef AUDIBLE
                            32957 ; 764  |                (wFileExtension==WAV_FILE_EXT) ||
                            32958 ; 765  |                (wFileExtension==AUDIBLE_FILE_EXT))
                            32959 ; 766  |#else
                            32960 ; 767  |                (wFileExtension==WAV_FILE_EXT))
                            32961 
P:0551 45F400 33504D  3 303332963         move    #3362893,x1
P:0553 200065         2 303532964         cmp     x1,a
P:0554 0AF0AA rrrrrr  6 304132965         jeq     L130
P:0556 46F400 414D57  3 304432966         move    #4279639,y0
P:0558 200055         2 304632967         cmp     y0,a
P:0559 0AF0AA rrrrrr  6 305232968         jeq     L130
P:055B 47F400 564157  3 305532969         move    #5652823,y1
P:055D 200075         2 305732970         cmp     y1,a
P:055E 0AF0A2 rrrrrr  6 306332971         jne     L131
                            32972 
                            32973 ; 768  |#endif
                            32974 ; 769  |    {
                            32975 ; 770  |        //Valid Extension
                            32976 ; 771  |                rtn = TRUE;
                            32977 
P:0560 56F400 000001  3 306632979 L130:   move    #>1,a
P:0562 045FA0         2 306832982         movec   m0,n7
P:0563 000000         2 307032983         nop
P:0564 5C6F00         4 307432984         move    a1,y:(r7+n7)
                            32987 
                            32988 ; 772  |        }
                            32989 
P:0565 200013         2 307632991 L131:   clr     a   
                            32993 
                            32994 ; 773  |        //Check for MAC Resource
                            32995 ; 774  |        if (packed_get(pFileName,0) == '_')
                            32996 
P:0566 77F400 FFFFFE  3 307932998         move    #-2,n7
P:0568 000000         2 308132999         nop
P:0569 68EF00         4 308533000         move    y:(r7+n7),r0
P:056A 0BF080 rrrrrr  6 309133001         jsr     packed_get
P:056C 218F00         2 309333005         move    a1,b
P:056D 45F400 00005F  3 309633006         move    #>95,x1
P:056F 20006D         2 309833007         cmp     x1,b
P:0570 0AF0A2 rrrrrr  6 310433008         jne     L133
                            33009 
                            33010 ; 775  |    {
                            33011 ; 776  |        // first character is _, so check size
                            33012 ; 777  |                if (lFileSize <= MAC_RESOURCE_NUM_BYTES)
                            33013 
P:0572 77F400 FFFFFC  3 310733015         move    #-4,n7
P:0574 205F00         2 310933016         move    (r7)+
P:0575 5FEF00         4 311333018         move    y:(r7+n7),b
P:0576 205700         2 311533019         move    (r7)-
P:0577 59EF00         4 311933021         move    y:(r7+n7),b0
P:0578 200013         2 312133022         clr     a   
P:0579 50F400 000200  3 312433023         move    #$200,a0
P:057B 20000D         2 312633024         cmp     a,b
P:057C 0AF0A7 rrrrrr  6 313233027         jgt     L133
                            33028 
                            33029 ; 778  |        {
                            33030 ; 779  |            // if <= 1kB, remove from playlist
                            33031 ; 780  |                        rtn = FALSE;
                            33032 
P:057E 260000         2 313433034         move    #0,y0
P:057F 045FA0         2 313633037         movec   m0,n7
P:0580 000000         2 313833038         nop
P:0581 4E6F00         4 314233039         move    y0,y:(r7+n7)
                            33042 
                            33043 ; 781  |                }
                            33044 ; 782  |        }
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page 126

M:ADDR CODE           CYCLES LINE SOURCELINE
                            33045 ; 783  |
                            33046 ; 784  |        return rtn;
                            33047 
P:0582 045FA0         2 314433049 L133:   movec   m0,n7
P:0583 000000         2 314633050         nop
P:0584 5EEF00         4 315033051         move    y:(r7+n7),a
                            33054 
                            33055 ; 785  |}
                            33056 
P:0585 77F400 FFFFFB  3 315333058         move    #-5,n7
P:0587 000000         2 315533059         nop
P:0588 05EF7C         4 315933060         movec   y:(r7+n7),ssh
P:0589 204F00         2 316133062         move    (r7)+n7
P:058A 00000C         4 316533064         rts
                            33068 
                            33069 ; 786  |
                            33070 ; 787  |//////////////////////////////////////////////////////
                            33071 ; 788  |//
                            33072 ; 789  |//>  Name:          WORD _reentrant Playlist_GetFileExtention(_packed BYTE* pFileName)
                            33073 ; 790  |//
                            33074 ; 791  |//   Type:          Function
                            33075 ; 792  |//
                            33076 ; 793  |//   Description:   Finds the file extension
                            33077 ; 794  |//
                            33078 ; 795  |//   Inputs:        _packed BYTE*   File Name String
                            33079 ; 796  |//
                            33080 ; 797  |//   Outputs:       WORD   File Extension
                            33081 ; 798  |//
                            33082 ; 799  |//   Notes:     Routine
                            33083 ; 800  |//                              1 - Find length of file
                            33084 ; 801  |//                              2 - Find the "." by traversing backwards from the end of the string
                            33085 ; 802  |//                              3 - Fill File Extention string
                            33086 ; 803  |//                              4 - Return the file extention as a word
                            33087 ; 804  |//<
                            33088 ; 805  |//////////////////////////////////////////////////////
                            33089 ; 806  |_reentrant INT Playlist_GetFileExtention(INT iIgnored1, INT iIgnored2, INT* pPtr)
                            33090 ; 807  |{
                            33091 
                            33096 FPlaylist_GetFileExtention:
P:058B 055F7C         2 316733097         movec   ssh,y:(r7)+
P:058C 3F0400         2 316933100         move    #4,n7
P:058D 000000         2 317133101         nop
P:058E 204F00         2 317333102         move    (r7)+n7
                            33118 
                            33119 ; 808  |        WORD wFileExtension;
                            33120 ; 809  |        WORD wStrLen;
                            33121 ; 810  |        int i;
                            33122 ; 811  |        _packed BYTE* pFileName = (_packed BYTE*) pPtr;
                            33123 
P:058F 77F400 FFFFFD  3 317633125         move    #-3,n7
P:0591 000000         2 317833126         nop
P:0592 686F00         4 318233127         move    r0,y:(r7+n7)
                            33134 
                            33135 ; 812  |
                            33136 ; 813  |        //Get length of file name
                            33137 ; 814  |        wStrLen= packed_strlen(pFileName);
                            33138 
P:0593 0BF080 rrrrrr  6 318833140         jsr     packed_strlen
                            33146 
                            33147 ; 815  |
                            33148 ; 816  |        //Check File Length, return error if too long
                            33149 ; 817  |        if(wStrLen>(MAX_FILENAME_LENGTH-1))
                            33150 
P:0595 57F400 0000FF  3 319133152         move    #>$FF,b
P:0597 200005         2 319333153         cmp     b,a
                            33154 
                            33155 ; 818  |                return META_DATA_FILE_NOT_SUPPORTED;
                            33156 
P:0598 0AF0A7 rrrrrr  6 319933158         jgt     L153
                            33162 
                            33163 ; 819  |
                            33164 ; 820  |        //Find the "."; Traverse backwards from EOF
                            33165 ; 821  |        while(wStrLen--)
                            33166 
P:059A 0AF080 rrrrrr  6 320533168         jmp     L151
                            33169 
                            33170 ; 822  |        {
                            33171 ; 823  |                wFileExtension = packed_get(pFileName,wStrLen);
                            33172 
P:059C 77F400 FFFFFE  3 320833174 L150:   move    #-2,n7
P:059E 000000         2 321033175         nop
P:059F 5C6F00         4 321433176         move    a1,y:(r7+n7)
P:05A0 77F400 FFFFFD  3 321733179         move    #-3,n7
P:05A2 000000         2 321933180         nop
P:05A3 68EF00         4 322333181         move    y:(r7+n7),r0
P:05A4 218E00         2 322533184         move    a1,a
P:05A5 0BF080 rrrrrr  6 323133185         jsr     packed_get
P:05A7 77F400 FFFFFC  3 323433188         move    #-4,n7
P:05A9 000000         2 323633189         nop
P:05AA 5C6F00         4 324033190         move    a1,y:(r7+n7)
                            33191 
                            33192 ; 824  |                if(wFileExtension=='.')
                            33193 
P:05AB 218F00         2 324233195         move    a1,b
P:05AC 47F400 00002E  3 324533196         move    #>46,y1
P:05AE 2B0000         2 324733197         move    #0,b2
P:05AF 20007D         2 324933198         cmp     y1,b
P:05B0 77F400 FFFFFE  3 325233199         move    #-2,n7
P:05B2 000000         2 325433200         nop
P:05B3 5EEF00         4 325833201         move    y:(r7+n7),a
P:05B4 0AF0AA rrrrrr  6 326433204         jeq     L152
P:05B6 218F00         2 326633206 L151:   move    a1,b
P:05B7 45F400 000001  3 326933209         move    #>1,x1
P:05B9 200064         2 327133210         sub     x1,a
P:05BA 2B0000         2 327333213         move    #0,b2
P:05BB 20000B         2 327533214         tst     b
P:05BC 0AF0A2 rrrrrr  6 328133215         jne     L150
                            33216 
                            33217 ; 825  |                        break;
                            33218 ; 826  |        }
                            33219 ; 827  |
                            33220 ; 828  |        //if the '.' could not be found return an error; else fill up wFileExtension
                            33221 ; 829  |        if(!wStrLen)
                            33222 
P:05BE 2A0000         2 328333224 L152:   move    #0,a2
P:05BF 200003         2 328533225         tst     a
P:05C0 0AF0A2 rrrrrr  6 329133226         jne     L154
                            33227 
                            33228 ; 830  |                return META_DATA_FILE_NOT_SUPPORTED;
                            33229 
P:05C2 56F400 000101  3 329433231 L153:   move    #$101,a
P:05C4 0AF080 rrrrrr  6 330033233         jmp     L156
                            33234 
                            33235 ; 831  |        else
                            33236 ; 832  |        {
                            33237 ; 833  |                //Pack 1st 3 characters after '.' for the extension
                            33238 ; 834  |                for(i=0;i<3;i++)
                            33239 
                            33241 L154:
P:05C6 250000         2 330233243         move    #0,x1
P:05C7 045FA0         2 330433245 L155:   movec   m0,n7
P:05C8 000000         2 330633246         nop
P:05C9 4D6F00         4 331033247         move    x1,y:(r7+n7)
                            33250 
                            33251 ; 835  |                {
                            33252 ; 836  |                        packed_set((void*)&wFileExtension,i,packed_get(pFileName,++wStrLen));
                            33253 
P:05CA 45F400 000001  3 331333255         move    #>1,x1
P:05CC 200060         2 331533256         add     x1,a
P:05CD 77F400 FFFFFE  3 331833257         move    #-2,n7
P:05CF 000000         2 332033258         nop
P:05D0 5C6F00         4 332433259         move    a1,y:(r7+n7)
P:05D1 77F400 FFFFFD  3 332733262         move    #-3,n7
P:05D3 000000         2 332933263         nop
P:05D4 68EF00         4 333333264         move    y:(r7+n7),r0
P:05D5 218E00         2 333533267         move    a1,a
P:05D6 0BF080 rrrrrr  6 334133268         jsr     packed_get
P:05D8 218F00         2 334333271         move    a1,b
P:05D9 77F400 FFFFFC  3 334633272         move    #-4,n7
P:05DB 000000         2 334833273         nop
P:05DC 044F16         4 335233274         lua     (r7)+n7,r6
P:05DD 22D000         2 335433275         move    r6,r0
P:05DE 045FA0         2 335633276         movec   m0,n7
P:05DF 000000         2 335833277         nop
P:05E0 5EEF00         4 336233278         move    y:(r7+n7),a
P:05E1 0BF080 rrrrrr  6 336833281         jsr     packed_set
P:05E3 045FA0         2 337033285         movec   m0,n7
P:05E4 000000         2 337233286         nop
P:05E5 5EEF00         4 337633287         move    y:(r7+n7),a
P:05E6 46F400 000001  3 337933288         move    #>1,y0
P:05E8 200050         2 338133289         add     y0,a
P:05E9 218500         2 338333292         move    a1,x1
P:05EA 200069         2 338533295         tfr     x1,b
P:05EB 47F400 000003  3 338833296         move    #>3,y1
P:05ED 20007D         2 339033297         cmp     y1,b
P:05EE 77F400 FFFFFE  3 339333298         move    #-2,n7
P:05F0 000000         2 339533299         nop
P:05F1 5EEF00         4 339933300         move    y:(r7+n7),a
P:05F2 0AF0A9 rrrrrr  6 340533303         jlt     L155
                            33304 
                            33305 ; 837  |                }
                            33306 ; 838  |        }
                            33307 ; 839  |
                            33308 ; 840  |        //If we got here, a valid file extension was found.
                            33309 ; 841  |        return wFileExtension;
                            33310 
P:05F4 77F400 FFFFFC  3 340833312         move    #-4,n7
P:05F6 000000         2 341033313         nop
P:05F7 5EEF00         4 341433314         move    y:(r7+n7),a
P:05F8 218E00         2 341633315         move    a1,a
                            33316 
                            33317 ; 842  |}
                            33318 
P:05F9 77F400 FFFFFB  3 341933320 L156:   move    #-5,n7
P:05FB 000000         2 342133321         nop
P:05FC 05EF7C         4 342533322         movec   y:(r7+n7),ssh
P:05FD 204F00         2 342733324         move    (r7)+n7
P:05FE 00000C         4 343133326         rts
                            33331 
                            33332 ; 843  |
                            33333 ; 844  |/////////////////////////////////////////////////////////
                            33334 ; 845  |//playlist3 helper functions
                            33335 ; 846  |/////////////////////////////////////////////////////////
                            33336 ; 847  |BOOL _reentrant Playlist_ValidateEntry(INT iEntryType,INT iReason, INT* pPtr)
                            33337 ; 848  |{
                            33338 
                            33343 FPlaylist_ValidateEntry:
P:05FF 055F7C         2 343333344         movec   ssh,y:(r7)+
P:0600 205F00         2 343533347         move    (r7)+
                            33361 
                            33362 ; 849  |        Finddata* pFinddata;
                            33363 ; 850  |        BOOL rtn = FALSE;
                            33364 
P:0601 260000         2 343733366         move    #0,y0
P:0602 045FA0         2 343933368         movec   m0,n7
P:0603 000000         2 344133369         nop
P:0604 4E6F00         4 344533370         move    y0,y:(r7+n7)
                            33373 
                            33374 ; 851  |        pFinddata = (Finddata*) pPtr;
                            33375 
P:0605 221600         2 344733377         move    r0,r6
                            33379 
                            33380 ; 852  |        switch(iEntryType)
                            33381 
P:0606 46F400 000001  3 345033383         move    #>1,y0
P:0608 200055         2 345233384         cmp     y0,a
P:0609 0AF0A2 rrrrrr  6 345833385         jne     L161
                            33386 
                            33387 ; 853  |        {
                            33388 ; 854  |        case TYPE_FILE:
                            33389 ; 855  |                switch(iReason)
                            33390 
P:060B 46F400 000002  3 346133392         move    #>2,y0
P:060D 20005D         2 346333393         cmp     y0,b
P:060E 0AF0A2 rrrrrr  6 346933394         jne     L161
                            33395 
                            33396 ; 856  |                {
                            33397 ; 857  |                case IS_VALID_AUDIO:
                            33398 ; 858  |                        if(Playlist_IsValidAudioFile(pFinddata->FileSize,(_packed BYTE*)pFinddata->name))
                            33399 
P:0610 045E15         4 347333401         lua     (r6)+,r5
P:0611 000000         2 347533402         nop
P:0612 205D00         2 347733403         move    (r5)+
P:0613 5ED500         2 347933404         move    y:(r5)-,a
P:0614 58E500         2 348133405         move    y:(r5),a0
P:0615 3E0500         2 348333407         move    #5,n6
P:0616 000000         2 348533408         nop
P:0617 204E00         2 348733409         move    (r6)+n6
P:0618 22D000         2 348933411         move    r6,r0
P:0619 0BF080 rrrrrr  6 349533413         jsr     FPlaylist_IsValidAudioFile
P:061B 2A0000         2 349733415         move    #0,a2
P:061C 200003         2 349933416         tst     a
P:061D 0AF0AA rrrrrr  6 350533417         jeq     L161
                            33418 
                            33419 ; 859  |                                rtn = TRUE;
                            33420 
P:061F 47F400 000001  3 350833422         move    #>1,y1
P:0621 045FA0         2 351033425         movec   m0,n7
P:0622 000000         2 351233426         nop
P:0623 4F6F00         4 351633427         move    y1,y:(r7+n7)
                            33430 
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page 127

M:ADDR CODE           CYCLES LINE SOURCELINE
                            33431 ; 860  |                        break;
                            33432 ; 861  |                }
                            33433 ; 862  |                break;
                            33434 ; 863  |        }
                            33435 ; 864  |        return rtn;
                            33436 
P:0624 045FA0         2 351833438 L161:   movec   m0,n7
P:0625 000000         2 352033439         nop
P:0626 5EEF00         4 352433440         move    y:(r7+n7),a
                            33443 
                            33444 ; 865  |}
                            33445 
P:0627 204F00         2 352633447         move    (r7)+n7
P:0628 05FF7C         4 353033449         movec   y:-(r7),ssh
P:0629 000000         2 353233452         nop
P:062A 00000C         4 353633453         rts
                            33456 
                            33457 ; 866  |
                            33458 ; 867  |
                            33459 ; 868  |_reentrant void TrimUnicodeString(UCS3* pString)
                            33460 ; 869  |{
                            33461 
                            33466 FTrimUnicodeString:
P:062B 055F7C         2 353833467         movec   ssh,y:(r7)+
P:062C 205F00         2 354033470         move    (r7)+
                            33476 
                            33477 ; 870  |        int i;
                            33478 
P:062D 045FA0         2 354233480         movec   m0,n7
P:062E 000000         2 354433481         nop
P:062F 686F00         4 354833482         move    r0,y:(r7+n7)
                            33487 
                            33488 ; 871  |        i = strlen(pString)-1;
                            33489 
P:0630 0BF080 rrrrrr  6 355433491         jsr     strlen
P:0632 47F400 000001  3 355733494         move    #>1,y1
P:0634 200074         2 355933495         sub     y1,a
P:0635 218F00         2 356133496         move    a1,b
P:0636 219E00         2 356333498         move    a1,n6
P:0637 045FA0         2 356533499         movec   m0,n7
P:0638 000000         2 356733500         nop
P:0639 6EEF00         4 357133501         move    y:(r7+n7),r6
P:063A 000000         2 357333502         nop
P:063B 204E00         2 357533503         move    (r6)+n6
                            33507 
                            33508 ; 872  |        while((i>=0) && (pString[i]==' '))
                            33509 
P:063C 240000         2 357733511         move    #0,x0
P:063D 46F400 000020  3 358033512         move    #>$20,y0
P:063F 0AF080 rrrrrr  6 358633513         jmp     L163
                            33514 
                            33515 ; 873  |        {
                            33516 ; 874  |                pString[i]=0;
                            33517 
P:0641 4C5600         2 358833519 L162:   move    x0,y:(r6)-
                            33520 
                            33521 ; 875  |                i--;
                            33522 
P:0642 20007C         2 359033524         sub     y1,b
P:0643 20000B         2 359233526 L163:   tst     b
P:0644 0AF0A9 rrrrrr  6 359833527         jlt     L164
P:0646 5EE600         2 360033528         move    y:(r6),a
P:0647 2A0000         2 360233529         move    #0,a2
P:0648 200055         2 360433530         cmp     y0,a
P:0649 0AF0AA rrrrrr  6 361033531         jeq     L162
                            33532 L164:
                            33533 
                            33534 ; 876  |        }
                            33535 ; 877  |}
                            33536 
P:064B 205700         2 361233538         move    (r7)-
P:064C 05FF7C         4 361633540         movec   y:-(r7),ssh
P:064D 000000         2 361833543         nop
P:064E 00000C         4 362233544         rts
                            33547 
                            33548 ; 878  |
                            33549 ; 879  |_reentrant void TrimPackedString(UCS3* pString)
                            33550 ; 880  |{
                            33551 
                            33556 FTrimPackedString:
                            33561 
                            33562 ; 881  |
                            33563 ; 882  |        int i=0;
                            33564 
P:064F 280000         2 362433566         move    #0,a0
P:0650 380000         2 362633568         move    #0,n0
P:0651 000000         2 362833569         nop
P:0652 044816         4 363233570         lua     (r0)+n0,r6
                            33573 
                            33574 ; 883  |        int check_char=0;
                            33575 ; 884  |
                            33576 ; 885  |        while ( (pString[i] != 0) && (i < 40))
                            33577 
P:0653 062880 rrrrrr  6 363833579         do      #40,L210
P:0655 5FE600         2 364033581         move    y:(r6),b
P:0656 2B0000         2 364233582         move    #0,b2
P:0657 20000B         2 364433583         tst     b
P:0658 0AF0A2 rrrrrr  6 365033584         jne     L211
P:065A 00008C         2 365233585         enddo
P:065B 0AF080 rrrrrr  6 365833587         jmp     L201
                            33588 
                            33589 ; 886  |        {
                            33590 ; 887  |                i++;
                            33591 
P:065D 205E00         2 366033593 L211:   move    (r6)+
P:065E 210E00         2 366233594         move    a0,a
P:065F 57F400 000001  3 366533595         move    #>1,b
P:0661 200010         2 366733596         add     b,a
P:0662 218800         2 366933599         move    a1,a0
                        (31)33603 L210:
                            33605 
                            33606 ; 888  |        }
                            33607 ; 889  |        i--;
                            33608 ; 890  |
                            33609 ; 891  |    while (i>=0)
                            33610 ; 892  |        {
                            33611 ; 893  |                check_char = pString[i] & 0xFF0000;
                            33612 ; 894  |                if ((check_char) && (check_char != 0x200000))
                            33613 ; 895  |                        break;
                            33614 ; 896  |                else
                            33615 ; 897  |                        pString[i] = pString[i] & 0x00FFFF;
                            33616 ; 898  |
                            33617 ; 899  |                check_char = pString[i] & 0x00FF00;
                            33618 ; 900  |                if ((check_char) && (check_char != 0x002000))
                            33619 ; 901  |                        break;
                            33620 ; 902  |                else
                            33621 ; 903  |                        pString[i] = pString[i] & 0x0000FF;
                            33622 ; 904  |
                            33623 ; 905  |                check_char = pString[i] & 0x0000FF;
                            33624 ; 906  |                if ((check_char) && (check_char != 0x000020))
                            33625 ; 907  |                        break;
                            33626 ; 908  |                else
                            33627 ; 909  |                        pString[i] = 0;
                            33628 ; 910  |
                            33629 ; 911  |            i--;
                            33630 
P:0663 211800         2 367133632 L201:   move    a0,n0
P:0664 000000         2 367333633         nop
P:0665 044816         4 367733634         lua     (r0)+n0,r6
P:0666 45F400 002000  3 368033635         move    #$2000,x1
P:0668 47F400 0000FF  3 368333636         move    #>$FF,y1
P:066A 46F400 000020  3 368633637         move    #>$20,y0
P:066C 0AF080 rrrrrr  6 369233638         jmp     L206
P:066E 5FE600         2 369433640 L202:   move    y:(r6),b
P:066F 24FF00         2 369633641         move    #<$FF,x0
P:0670 21AC00         2 369833642         move    b1,a1
P:0671 20004E         2 370033643         and     x0,b
P:0672 20000B         2 370233646         tst     b
P:0673 0AF0AA rrrrrr  6 370833647         jeq     L203
P:0675 242000         2 371033648         move    #<$20,x0
P:0676 20004D         2 371233649         cmp     x0,b
P:0677 0AF0A2 rrrrrr  6 371833650         jne     L209
P:0679 44F400 00FFFF  3 372133652 L203:   move    #$FFFF,x0
P:067B 200046         2 372333653         and     x0,a
P:067C 5C6600         2 372533654         move    a1,y:(r6)
P:067D 44F400 00FF00  3 372833656         move    #$FF00,x0
P:067F 218F00         2 373033657         move    a1,b
P:0680 20004E         2 373233658         and     x0,b
P:0681 20000B         2 373433660         tst     b
P:0682 0AF0AA rrrrrr  6 374033661         jeq     L204
P:0684 20006D         2 374233662         cmp     x1,b
P:0685 0AF0A2 rrrrrr  6 374833663         jne     L209
P:0687 200076         2 375033665 L204:   and     y1,a
P:0688 218F00         2 375233666         move    a1,b
P:0689 5D6600         2 375433667         move    b1,y:(r6)
P:068A 20007E         2 375633669         and     y1,b
P:068B 20000B         2 375833671         tst     b
P:068C 0AF0AA rrrrrr  6 376433672         jeq     L205
P:068E 20005D         2 376633673         cmp     y0,b
P:068F 0AF0A2 rrrrrr  6 377233674         jne     L209
P:0691 20001B         2 377433676 L205:   clr     b   
P:0692 5F6600         2 377633677         move    b,y:(r6)
P:0693 205600         2 377833679 L206:   move    (r6)-
P:0694 210F00         2 378033680         move    a0,b
P:0695 56F400 000001  3 378333681         move    #>1,a
P:0697 20001C         2 378533682         sub     a,b
P:0698 21A800         2 378733687         move    b1,a0
P:0699 0AF0A1 rrrrrr  6 379333690         jge     L202
                            33691 
                            33692 ; 912  |        }
                            33693 
                            33695 L209:
                            33696 
                            33697 ; 913  |}
                            33698 
P:069B 00000C         4 379733700         rts
                            33704 
                            33705 ; 914  |
                            33706 ; 915  |
                            33707 ; 916  |void _reentrant ML_building_engine_init_playlist3(void)
                            33708 ; 917  |{
                            33709 
                            33714 FML_building_engine_init_playlist3:
                            33715 
                            33716 ; 918  |#pragma asm
                            33717 
P:069C                      33721         org     p,".ptextplaylist3init":
                            33722         extern  F_lc_u_e_MusicLibBuild_P
                            33723         extern  F_lc_u_b_MusicLibBuild_P
                            33724         extern  SysLoadResource
                            33725 
                            33726         ; Load the MusicLib building engine into P memory
P:069C 44F400 0003CE  3 380033727         move    #>RSRC_MUSICLIB_BUILD_MODULE,x0                      ; Resource number
P:069E 45F400 000002  3 380333728         move    #>RSRC_TYPE_DATA,x1                        ; Resource type is data
P:06A0 47F400 rrrrrr  3 380633729         move    #>(F_lc_u_e_MusicLibBuild_P-F_lc_u_b_MusicLibBuild_P)*3,y1 ; overlay area sz
P:06A2 46F400 rrrrrr  3 380933730         move    #>F_lc_u_b_MusicLibBuild_P,y0                      ; Address of the overlay area
P:06A4 54F400 100000  3 381233731         move    #TARGET_MEM_P,a1                           ; Overlay area is in P memory
P:06A6 0BF080 rrrrrr  6 381833732         jsr     SysLoadResource
                            33733 
                            33734 
                            33735 
                            33736 ; 934  |#pragma endasm
                            33737 ; 935  |}
                            33738 
P:06A8 00000C         4 382233740         rts
                            33742 
                            33743 ; 936  |
                            33744 ; 937  |void _reentrant ML_voice_build_engine_init_playlist3(void)
                            33745 ; 938  |{
                            33746 
                            33751 FML_voice_build_engine_init_playlist3:
                            33752 
                            33753 ; 939  |#pragma asm
                            33754 
P:06A9                      33758         org     p,".ptextplaylist3init":
                            33759         extern  F_lc_u_e_MusicLibVoice_P
                            33760         extern  F_lc_u_b_MusicLibVoice_P
                            33761         extern  SysLoadResource
                            33762 
                            33763         ; Load the MusicLib voice build engine into P memory
P:06A9 44F400 0003F4  3 382533764         move    #>RSRC_MUSICLIB_VOICE_APP,x0                      ; Resource number
P:06AB 45F400 000002  3 382833765         move    #>RSRC_TYPE_DATA,x1                        ; Resource type is data
P:06AD 47F400 rrrrrr  3 383133766         move    #>(F_lc_u_e_MusicLibVoice_P-F_lc_u_b_MusicLibVoice_P)*3,y1 ; overlay area sz
P:06AF 46F400 rrrrrr  3 383433767         move    #>F_lc_u_b_MusicLibVoice_P,y0                      ; Address of the overlay area
P:06B1 54F400 100000  3 383733768         move    #TARGET_MEM_P,a1                           ; Overlay area is in P memory
P:06B3 0BF080 rrrrrr  6 384333769         jsr     SysLoadResource
                            33770 
                            33771 
                            33772 ; 954  |#pragma endasm
                            33773 ; 955  |}
                            33774 
P:06B5 00000C         4 384733776         rts
                            33778 
                            33779 ; 956  |
                            33780 ; 957  |#ifdef MMC
                            33781 ; 958  |void _reentrant ML_merging_engine_init_playlist3(void)
                            33782 ; 959  |{
                            33783 
                            33788 FML_merging_engine_init_playlist3:
                            33789 
                            33790 ; 960  |#pragma asm
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page 128

M:ADDR CODE           CYCLES LINE SOURCELINE
                            33791 
P:06B6                      33795         org     p,".ptextplaylist3init":
                            33796         extern  F_lc_u_e_MusicLibMerge_P
                            33797         extern  F_lc_u_b_MusicLibMerge_P
                            33798         extern  SysLoadResource
                            33799 
                            33800         ; Load the MusicLib merging engine into P memory
P:06B6 44F400 0003F7  3 385033801         move    #>RSRC_MUSICLIB_MERGE_FUNCTION,x0                      ; Resource number
P:06B8 45F400 000002  3 385333802         move    #>RSRC_TYPE_DATA,x1                        ; Resource type is data
P:06BA 47F400 rrrrrr  3 385633803         move    #>(F_lc_u_e_MusicLibMerge_P-F_lc_u_b_MusicLibMerge_P)*3,y1 ; overlay area sz
P:06BC 46F400 rrrrrr  3 385933804         move    #>F_lc_u_b_MusicLibMerge_P,y0                      ; Address of the overlay area
P:06BE 54F400 100000  3 386233805         move    #TARGET_MEM_P,a1                           ; Overlay area is in P memory
P:06C0 0BF080 rrrrrr  6 386833806         jsr     SysLoadResource
                            33807 
                            33808 
                            33809 ; 975  |#pragma endasm
                            33810 ; 976  |}
                            33811 
P:06C2 00000C         4 387233813         rts
                            33815 
                            33816 ; 977  |#endif // #ifdef MMC
                            33817 ; 978  |
                            33818 ; 979  |#if 0
                            33819 ; 980  |_reentrant void GetFileNum(int iDevice)
                            33820 ; 981  |{
                            33821 ; 982  |        WORD wHighestNumber=0;
                            33822 ; 983  |        WORD wCurrentNumber=0;
                            33823 ; 984  |
                            33824 ; 985  |        if( Chdir((_packed char*)g_RecordDirectory) == FS_SUCCESS )
                            33825 ; 986  |        {
                            33826 ; 987  |                Finddata finddata;
                            33827 ; 988  |                _packed BYTE sFileSpec[4];
                            33828 ; 989  |                int i;
                            33829 ; 990  |                int iFileNameLength;
                            33830 ; 991  |                int iDotIndex;
                            33831 ; 992  |                int find_handle;
                            33832 ; 993  |                ((int*)(sFileSpec))[0]=0x2a2e2a; //*.*
                            33833 ; 994  |                ((int*)(sFileSpec))[1]=0; //null terminator
                            33834 ; 995  |
                            33835 ; 996  |                _memset(&finddata,0,sizeof(finddata));
                            33836 ; 997  |
                            33837 ; 998  |                finddata.device = iDevice;
                            33838 ; 999  |                finddata.startrecord = 0;//start at the 0th record.
                            33839 ; 1000 |
                            33840 ; 1001 |                //get the first that matches our specifications
                            33841 ; 1002 |                find_handle = FindFirst(&finddata,(_packed char*) sFileSpec);
                            33842 ; 1003 |
                            33843 ; 1004 |                while((find_handle > 0))
                            33844 ; 1005 |                {//while our find handle is valid, keep getting more files
                            33845 ; 1006 |                        if(!(finddata.attrib &(ATTR_UNACCEPTABLE)))
                            33846 ; 1007 |                        {//if the attributes of the file found are acceptable (this will skip hidden, system, or volume id entries.  It also skips long file entries
                            33847 ; 1008 |                                if(!(finddata.attrib&ATTR_DIRECTORY))
                            33848 ; 1009 |                                {
                            33849 ; 1010 |                                        //lets guess about the dot index
                            33850 ; 1011 |                                        if(Playlist_ValidateEntry(TYPE_FILE, IS_VALID_AUDIO, (INT*)&finddata))
                            33851 ; 1012 |                                        {
                            33852 ; 1013 |                                                packed_strcpy(g_recordfile_path,finddata.name);
                            33853 ; 1014 |                                                wCurrentNumber = SysCallFunction(RSRC_PLAYLIST_CODEBANK,Playlist_GetFileNumber,0,0x56,g_recordfile_path);
                            33854 ; 1015 |                                                if(wCurrentNumber > wHighestNumber)
                            33855 ; 1016 |                                                        wHighestNumber = wCurrentNumber;
                            33856 ; 1017 |                                        }
                            33857 ; 1018 |                                }
                            33858 ; 1019 |                        }
                            33859 ; 1020 |
                            33860 ; 1021 |                        //now get the next record
                            33861 ; 1022 |                        _memset(&finddata,0,sizeof(finddata));
                            33862 ; 1023 |
                            33863 ; 1024 |                        //now get the next FCB entry
                            33864 ; 1025 |                        if((FindNext(find_handle,&finddata)<0))
                            33865 ; 1026 |                        {//if there's no next entry, lets close it out.
                            33866 ; 1027 |                                Fclose(find_handle);
                            33867 ; 1028 |                                find_handle = -1;
                            33868 ; 1029 |                        }
                            33869 ; 1030 |                }
                            33870 ; 1031 |        }
                            33871 ; 1032 |
                            33872 ; 1033 |        g_iHighestNumber = wHighestNumber;
                            33873 ; 1034 |}
                            33874 ; 1035 |#endif
                            33875 ; 1036 |
                            33876 ; 1037 |_reentrant INT AddSingleFolderSongToLibrary(INT a, INT drive, void * b)
                            33877 ; 1038 |{
                            33878 
                            33883 FAddSingleFolderSongToLibrary:
P:06C3 055F7C         2 387433884         movec   ssh,y:(r7)+
P:06C4 3F1100         2 387633887         move    #17,n7
P:06C5 000000         2 387833888         nop
P:06C6 204F00         2 388033889         move    (r7)+n7
                            33901 
                            33902 ; 1039 |    //change into the directory named in the Dirname string
                            33903 ; 1040 |        _packed BYTE sFileSpec[4];
                            33904 ; 1041 |        Finddata finddata;
                            33905 ; 1042 |        int iSongCount = 0;
                            33906 
P:06C7 200013         2 388233908         clr     a   
P:06C8 260000         2 388433909         move    #0,y0
P:06C9 77F400 FFFFFE  3 388733912         move    #-2,n7
P:06CB 000000         2 388933913         nop
P:06CC 4E6F00         4 389333914         move    y0,y:(r7+n7)
                            33919 
                            33920 ; 1043 |
                            33921 ; 1044 |        int find_handle ;
                            33922 ; 1045 |        ((int*)(sFileSpec))[0]=0x2a2e2a; //*.*
                            33923 
P:06CD 44F400 2A2E2A  3 389633925         move    #2764330,x0
P:06CF 77F400 FFFFFB  3 389933926         move    #-5,n7
P:06D1 000000         2 390133927         nop
P:06D2 4C6F00         4 390533928         move    x0,y:(r7+n7)
                            33929 
                            33930 ; 1046 |        ((int*)(sFileSpec))[1]=0; //null terminator
                            33931 
P:06D3 77F400 FFFFFC  3 390833933         move    #-4,n7
P:06D5 000000         2 391033934         nop
P:06D6 5E6F00         4 391433935         move    a,y:(r7+n7)
                            33936 
                            33937 ; 1047 |        _memset(&finddata,0,sizeof(finddata));
                            33938 
P:06D7 77F400 FFFFEF  3 391733940         move    #-17,n7
P:06D9 000000         2 391933941         nop
P:06DA 044F16         4 392333942         lua     (r7)+n7,r6
P:06DB 22D000         2 392533943         move    r6,r0
P:06DC 060C80 rrrrrr  6 393133944         do      #12,L220
P:06DE 5E5E00         2 393333946         move    a,y:(r6)+
P:06DF 000000         2 393533947         nop
                         (4)33948 L220:
                            33951 
                            33952 ; 1048 |        finddata.device = drive;
                            33953 
P:06E0 77F400 FFFFFD  3 393833955         move    #-3,n7
P:06E2 000000         2 394033956         nop
P:06E3 5D6F00         4 394433957         move    b1,y:(r7+n7)
P:06E4 77F400 FFFFF2  3 394733958         move    #-14,n7
P:06E6 000000         2 394933959         nop
P:06E7 5D6F00         4 395333960         move    b1,y:(r7+n7)
                            33963 
                            33964 ; 1049 |        finddata.startrecord = 0;
                            33965 
P:06E8 77F400 FFFFF3  3 395633967         move    #-13,n7
P:06EA 000000         2 395833968         nop
P:06EB 5E6F00         4 396233969         move    a,y:(r7+n7)
                            33970 
                            33971 ; 1050 |
                            33972 ; 1051 |        // Get the first that matches our specifications
                            33973 ; 1052 |        find_handle = FindFirst(&finddata,(_packed char*) sFileSpec);
                            33974 
P:06EC 77F400 FFFFFB  3 396533976         move    #-5,n7
P:06EE 000000         2 396733977         nop
P:06EF 044F14         4 397133978         lua     (r7)+n7,r4
P:06F0 0BF080 rrrrrr  6 397733979         jsr     FFindFirst
                            33981 
                            33982 ; 1053 |        while( find_handle > 0 )
                            33983 
P:06F2 0AF080 rrrrrr  6 398333985         jmp     L217
                            33986 
                            33987 ; 1054 |        {
                            33988 ; 1055 |                if( Playlist_ValidateEntry(TYPE_FILE, IS_VALID_AUDIO, (INT *)&finddata) )
                            33989 
                            33991 L212:
P:06F4 77F400 FFFFEF  3 398633994         move    #-17,n7
P:06F6 000000         2 398833995         nop
P:06F7 044F10         4 399233996         lua     (r7)+n7,r0
P:06F8 56F400 000001  3 399533997         move    #>1,a
P:06FA 57F400 000002  3 399833998         move    #>2,b
P:06FC 0BF080 rrrrrr  6 400433999         jsr     FPlaylist_ValidateEntry
P:06FE 77F400 FFFFEF  3 400734000         move    #-17,n7
P:0700 000000         2 400934001         nop
P:0701 044F1D         4 401334002         lua     (r7)+n7,n5
P:0702 2A0000         2 401534003         move    #0,a2
P:0703 200003         2 401734004         tst     a
P:0704 0AF0AA rrrrrr  6 402334005         jeq     L214
                            34007 
                            34008 ; 1056 |                {
                            34009 ; 1057 |                        //backup the finddata into the cache
                            34010 ; 1058 |                        int j;
                            34011 ; 1059 |                        WORD *src = (WORD*)&finddata;
                            34012 
P:0706 23B600         2 402534018         move    n5,r6
                            34022 
                            34023 ; 1060 |                        WORD _X * dst = (WORD _X *)&g_AddToLibraryData[g_NumAddToLibrary];
                            34024 
P:0707 47F000 rrrrrr  3 402834026         move    x:Fg_NumAddToLibrary,y1
P:0709 45F400 00000C  3 403134027         move    #>12,x1
P:070B 2000F8         2 403334028         mpy     y1,x1,b
P:070C 20002A         2 403534029         asr     b
P:070D 213B00         2 403734030         move    b0,n3
P:070E 63F400 rrrrrr  3 404034031         move    #Fg_AddToLibraryData,r3
P:0710 000000         2 404234032         nop
P:0711 204B00         2 404434033         move    (r3)+n3
                            34035 
                            34036 ; 1061 |                        
                            34037 ; 1062 |                        for( j = 0; j < (int)sizeof(Finddata); j++ )
                            34038 
P:0712 060C80 rrrrrr  6 405034040         do      #12,L219
                            34042 
                            34043 ; 1063 |                                *dst++ = *src++;
                            34044 
P:0714 4EDE00         2 405234046         move    y:(r6)+,y0
P:0715 465B00         2 405434047         move    y0,x:(r3)+
                         (4)34049 L219:
                            34051 
                            34052 ; 1064 |                        g_NumAddToLibrary++;
                            34053 
P:0716 56F000 rrrrrr  3 405734055         move    x:Fg_NumAddToLibrary,a
P:0718 46F400 000001  3 406034056         move    #>1,y0
P:071A 200050         2 406234057         add     y0,a
P:071B 547000 rrrrrr  3 406534058         move    a1,x:Fg_NumAddToLibrary
                            34062 
                            34063 ; 1065 |                }
                            34064 
                            34066 
                            34067 ; 1066 |                if( g_NumAddToLibrary >= FINDDATA_CACHE_SIZE )
                            34068 
P:071D 57F000 rrrrrr  3 406834070 L214:   move    x:Fg_NumAddToLibrary,b
P:071F 46F400 000014  3 407134071         move    #>20,y0
P:0721 20005D         2 407334072         cmp     y0,b
P:0722 0AF0A9 rrrrrr  6 407934073         jlt     L215
                            34074 
                            34075 ; 1067 |                {
                            34076 ; 1068 |                iSongCount += SysCallFunction(RSRC_MP3_METADATA_CODEBANK,AddSongToLibrary,0,drive,0);
                            34077 
P:0724 340000         2 408134079         move    #0,r4
P:0725 77F400 FFFFFD  3 408434080         move    #-3,n7
P:0727 000000         2 408634081         nop
P:0728 4CEF00         4 409034082         move    y:(r7+n7),x0
P:0729 20001B         2 409234085         clr     b   
P:072A 56F400 0001E5  3 409534086         move    #485,a
P:072C 60F400 rrrrrr  3 409834087         move    #FAddSongToLibrary,r0
P:072E 0BF080 rrrrrr  6 410434088         jsr     SysCallFunction
P:0730 77F400 FFFFFE  3 410734091         move    #-2,n7
P:0732 000000         2 410934092         nop
P:0733 5FEF00         4 411334093         move    y:(r7+n7),b
P:0734 200010         2 411534094         add     b,a
P:0735 5C6F00         4 411934099         move    a1,y:(r7+n7)
                            34102 
                            34103 ; 1069 |                }                                                               
                            34104 ; 1070 |                if( FindNext(find_handle,&finddata) < 0 )
                            34105 
P:0736 77F400 FFFFEF  3 412234107 L215:   move    #-17,n7
P:0738 000000         2 412434108         nop
P:0739 044F10         4 412834109         lua     (r7)+n7,r0
P:073A 045FA0         2 413034110         movec   m0,n7
P:073B 000000         2 413234111         nop
P:073C 5EEF00         4 413634112         move    y:(r7+n7),a
P:073D 0BF080 rrrrrr  6 414234115         jsr     FFindNext
P:073F 200003         2 414434118         tst     a
P:0740 045FA0         2 414634119         movec   m0,n7
P:0741 000000         2 414834120         nop
P:0742 5EEF00         4 415234121         move    y:(r7+n7),a
P:0743 0AF0A1 rrrrrr  6 415834124         jge     L217
                            34125 
                            34126 ; 1071 |                {
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page 129

M:ADDR CODE           CYCLES LINE SOURCELINE
                            34127 ; 1072 |                        Fclose(find_handle);
                            34128 
P:0745 0BF080 rrrrrr  6 416434130         jsr     FFclose
                            34132 
                            34133 ; 1073 |                        find_handle = -1;
                            34134 
P:0747 56F400 FFFFFF  3 416734136         move    #>-1,a
P:0749 045FA0         2 416934139 L217:   movec   m0,n7
P:074A 000000         2 417134140         nop
P:074B 5C6F00         4 417534141         move    a1,y:(r7+n7)
P:074C 200003         2 417734142         tst     a
P:074D 0AF0A7 rrrrrr  6 418334145         jgt     L212
                            34146 
                            34147 ; 1074 |                }
                            34148 ; 1075 |        }
                            34149 ; 1076 |        if( g_NumAddToLibrary > 0 )
                            34150 
P:074F 56F000 rrrrrr  3 418634152         move    x:Fg_NumAddToLibrary,a
P:0751 20001B         2 418834153         clr     b   
P:0752 200003         2 419034154         tst     a
P:0753 0AF0AF rrrrrr  6 419634155         jle     L218
                            34156 
                            34157 ; 1077 |        {
                            34158 ; 1078 |        iSongCount += SysCallFunction(RSRC_MP3_METADATA_CODEBANK,AddSongToLibrary,0,drive,0);
                            34159 
P:0755 340000         2 419834161         move    #0,r4
P:0756 77F400 FFFFFD  3 420134162         move    #-3,n7
P:0758 000000         2 420334163         nop
P:0759 4CEF00         4 420734164         move    y:(r7+n7),x0
P:075A 60F400 rrrrrr  3 421034165         move    #FAddSongToLibrary,r0
P:075C 56F400 0001E5  3 421334166         move    #485,a
P:075E 0BF080 rrrrrr  6 421934167         jsr     SysCallFunction
P:0760 77F400 FFFFFE  3 422234171         move    #-2,n7
P:0762 000000         2 422434172         nop
P:0763 4EEF00         4 422834173         move    y:(r7+n7),y0
P:0764 200050         2 423034174         add     y0,a
P:0765 5C6F00         4 423434179         move    a1,y:(r7+n7)
                            34182 
                            34183 ; 1079 |        }                                                               
                            34184 ; 1080 |        return iSongCount;
                            34185 
P:0766 77F400 FFFFFE  3 423734187 L218:   move    #-2,n7
P:0768 000000         2 423934188         nop
P:0769 5EEF00         4 424334189         move    y:(r7+n7),a
                            34192 
                            34193 ; 1081 |}
                            34194 
P:076A 77F400 FFFFEE  3 424634196         move    #-18,n7
P:076C 000000         2 424834197         nop
P:076D 05EF7C         4 425234198         movec   y:(r7+n7),ssh
P:076E 204F00         2 425434200         move    (r7)+n7
P:076F 00000C         4 425834202         rts
                            34206 
                            34207 ; 1082 |
                            34208 ; 1083 |#ifdef FUNCLET
                            34209 ; 1084 |
                            34210 ; 1085 |    #pragma asm
                            34211         extern SysCallFunclet
                            34212 
                            34213         FBuildVoiceFilePath:
                            34214 
                            34218 
                            34219         ;If using funclet, function will be executed via funclet kernel
                            34220         extern RSRC_FUNCLET_BUILDVOICEFILEPATH
                            34221         CallFunclet RSRC_FUNCLET_BUILDVOICEFILEPATH
P:0770 0D0080         4 426234221     jsr       $80
P:0771 0003F0               34221     DC       RSRC_FUNCLET_BUILDVOICEFILEPATH  ; 1 word
                            34222 
P:0000                      34223         org p,"SYSFUNCLET_BUILDVOICEFILEPATH_P":
P:0000 0003F0               34224         dc      RSRC_FUNCLET_BUILDVOICEFILEPATH
                            34225 ; 1100 |    #pragma endasm
                            34226 ; 1101 |
                            34227 ; 1102 |_reentrant void BuildVoiceFilePath_Funclet(void)
                            34228 ; 1103 |#else
                            34229 ; 1104 |_reentrant void BuildVoiceFilePath(void)
                            34230 ; 1105 |#endif
                            34231 ; 1106 |{
                            34232 
                            34237 FBuildVoiceFilePath_Funclet:
P:0001 055F7C         2    234238         movec   ssh,y:(r7)+
P:0002 205F00         2    434241         move    (r7)+
                            34243 
                            34244 ; 1107 |        ML_voice_build_engine_init_playlist3();
                            34245 
P:0003 0BF080 rrrrrr  6   1034247         jsr     FML_voice_build_engine_init_playlist3
                            34248 
                            34249 ; 1108 |        ML_InitVoiceParameter();
                            34250 
P:0005 0BF080 rrrrrr  6   1634252         jsr     FML_InitVoiceParameter
                            34253 
                            34254 ; 1109 |
                            34255 ; 1110 |        ((int*)DirPath)[0] = VOICE_PATH_0;
                            34256 
P:0007 47F400 2F3A61  3   1934258         move    #3095137,y1
P:0009 4F7000 rrrrrr  3   2234259         move    y1,y:FDirPath
                            34260 
                            34261 ; 1111 |        ((int*)DirPath)[1] = VOICE_PATH_1;
                            34262 
P:000B 51F400 494F56  3   2534264         move    #4804438,b0
P:000D 597000 rrrrrr  3   2834265         move    b0,y:FDirPath+1
                            34266 
                            34267 ; 1112 |        ((int*)DirPath)[2] = VOICE_PATH_2;
                            34268 
P:000F 50F400 2F4543  3   3134270         move    #3097923,a0
P:0011 587000 rrrrrr  3   3434271         move    a0,y:FDirPath+2
                            34272 
                            34273 ; 1113 |        ((int*)DirPath)[3] = VOICE_PATH_3;
                            34274 
P:0013 20001B         2   3634276         clr     b   
P:0014 5F7000 rrrrrr  3   3934277         move    b,y:FDirPath+3
                            34278 
                            34279 ; 1114 |
                            34280 ; 1115 |        g_dwFastKey = g_dwVoiceFastKey;
                            34281 
P:0016 4EF000 rrrrrr  3   4234283         move    y:Fg_dwVoiceFastKey,y0
P:0018 4FF000 rrrrrr  3   4534284         move    y:Fg_dwVoiceFastKey+1,y1
P:001A 4F7000 rrrrrr  3   4834285         move    y1,y:Fg_dwFastKey+1
P:001C 4E7000 rrrrrr  3   5134286         move    y0,y:Fg_dwFastKey
                            34287 
                            34288 ; 1116 |        g_build_voice_file = TRUE;      // Voice folder to be processed, set the flag so correct add function will be called
                            34289 
P:001E 290100         2   5334291         move    #1,b0
P:001F 597000 rrrrrr  3   5634292         move    b0,y:Fg_build_voice_file
                            34293 
                            34294 ; 1117 |    if(Chdir((_packed char*)DirPath) == FS_SUCCESS)
                            34295 
P:0021 60F400 rrrrrr  3   5934297         move    #FDirPath,r0
P:0023 045FA0         2   6134298         movec   m0,n7
P:0024 000000         2   6334299         nop
P:0025 686F00         4   6734300         move    r0,y:(r7+n7)
P:0026 0BF080 rrrrrr  6   7334301         jsr     FChdir
P:0028 200003         2   7534302         tst     a
P:0029 0AF0A2 rrrrrr  6   8134303         jne     L223
                            34304 
                            34305 ; 1118 |    {
                            34306 ; 1119 |            g_total_song = 0;
                            34307 
P:002B 20001B         2   8334309         clr     b   
P:002C 5F7000 rrrrrr  3   8634310         move    b,y:Fg_total_song
                            34311 
                            34312 ; 1120 |            //popuplate voice file
                            34313 ; 1121 |                AddSingleFolderSongToLibrary(0,0,0);
                            34314 
P:002E 200001         2   8834316         tfr     b,a
P:002F 300000         2   9034317         move    #0,r0
P:0030 0BF080 rrrrrr  6   9634318         jsr     FAddSingleFolderSongToLibrary
                            34319 
                            34320 ; 1122 |    }
                            34321 ; 1123 |#ifdef MMC
                            34322 ; 1124 |    ((int*)DirPath)[0] &= ~(0xFF);
                            34323 
P:0032 5EF000 rrrrrr  3   9934325 L223:   move    y:FDirPath,a
P:0034 46F400 FFFF00  3  10234326         move    #-256,y0
P:0036 200056         2  10434327         and     y0,a
P:0037 5C7000 rrrrrr  3  10734328         move    a1,y:FDirPath
                            34329 
                            34330 ; 1125 |    ((int*)DirPath)[0] |= 0x62; // changed to b:/
                            34331 
P:0039 0ACC61         4  11134333         bset    #1,a1
P:003A 0ACC65         4  11534334         bset    #5,a1
P:003B 0ACC66         4  11934335         bset    #6,a1
P:003C 5C7000 rrrrrr  3  12234336         move    a1,y:FDirPath
                            34337 
                            34338 ; 1126 |    if(Chdir((_packed char*)DirPath) == FS_SUCCESS)
                            34339 
P:003E 045FA0         2  12434341         movec   m0,n7
P:003F 000000         2  12634342         nop
P:0040 68EF00         4  13034343         move    y:(r7+n7),r0
P:0041 0BF080 rrrrrr  6  13634344         jsr     FChdir
P:0043 200003         2  13834345         tst     a
P:0044 0AF0A2 rrrrrr  6  14434346         jne     L224
                            34347 
                            34348 ; 1127 |    {
                            34349 ; 1128 |        g_total_song = 0;
                            34350 
P:0046 20001B         2  14634352         clr     b   
P:0047 5F7000 rrrrrr  3  14934353         move    b,y:Fg_total_song
                            34354 
                            34355 ; 1129 |            //popuplate voice file
                            34356 ; 1130 |                AddSingleFolderSongToLibrary(0,1,0);
                            34357 
P:0049 300000         2  15134359         move    #0,r0
P:004A 200013         2  15334360         clr     a   
P:004B 57F400 000001  3  15634361         move    #>1,b
P:004D 0BF080 rrrrrr  6  16234362         jsr     FAddSingleFolderSongToLibrary
                            34363 
                            34364 ; 1131 |    }
                            34365 ; 1132 |#endif
                            34366 ; 1133 |        g_build_voice_file = FALSE;     // Voice folder processed, we should reset the flag
                            34367 
P:004F 200013         2  16434369 L224:   clr     a   
P:0050 5E7000 rrrrrr  3  16734370         move    a,y:Fg_build_voice_file
                            34371 
                            34372 ; 1134 |        ML_FlushVoiceToFlash(REC_VOICE_TYPE);   // Flush built library to the FLASH
                            34373 ; 1135 |}
                            34374 
P:0052 205700         2  16934376         move    (r7)-
P:0053 0BF080 rrrrrr  6  17534378         jsr     FML_FlushVoiceToFlash
P:0055 05FF7C         4  17934381         movec   y:-(r7),ssh
P:0056 000000         2  18134384         nop
P:0057 00000C         4  18534385         rts
                            34387 
                            34388 ; 1136 |
                            34389 ; 1137 |#ifdef FUNCLET
                            34390 ; 1138 |    #pragma asm
P:0772                      34391         org p,".ptextplaylist3init":
                            34392 ; 1140 |    #pragma endasm
                            34393 ; 1141 |#endif
                            34394 ; 1142 |
                            34395 ; 1143 |#ifdef FUNCLET
                            34396 ; 1144 |
                            34397 ; 1145 |    #pragma asm
                            34398 
                            34399         FBuildFMFilePath:
                            34400 
                            34404 
                            34405         ;If using funclet, function will be executed via funclet kernel
                            34406         extern RSRC_FUNCLET_BUILDFMFILEPATH
                            34407         CallFunclet RSRC_FUNCLET_BUILDFMFILEPATH
P:0772 0D0080         4 426634407     jsr       $80
P:0773 0003F1               34407     DC       RSRC_FUNCLET_BUILDFMFILEPATH  ; 1 word
                            34408 
P:0000                      34409         org p,"SYSFUNCLET_BUILDFMFILEPATH_P":
P:0000 0003F1               34410         dc      RSRC_FUNCLET_BUILDFMFILEPATH
                            34411 ; 1159 |    #pragma endasm
                            34412 ; 1160 |
                            34413 ; 1161 |_reentrant void BuildFMFilePath_Funclet(void)
                            34414 ; 1162 |#else
                            34415 ; 1163 |_reentrant void BuildFMFilePath(void)
                            34416 ; 1164 |#endif
                            34417 ; 1165 |{
                            34418 
                            34423 FBuildFMFilePath_Funclet:
P:0001 055F7C         2    234424         movec   ssh,y:(r7)+
P:0002 205F00         2    434427         move    (r7)+
                            34429 
                            34430 ; 1166 |        ML_voice_build_engine_init_playlist3();
                            34431 
P:0003 0BF080 rrrrrr  6   1034433         jsr     FML_voice_build_engine_init_playlist3
                            34434 
                            34435 ; 1167 |        ML_InitVoiceParameter();
                            34436 
P:0005 0BF080 rrrrrr  6   1634438         jsr     FML_InitVoiceParameter
                            34439 
                            34440 ; 1168 |
                            34441 ; 1169 |        ((int*)DirPath)[0] = FM_PATH_0;
                            34442 
P:0007 47F400 2F3A61  3   1934444         move    #3095137,y1
P:0009 4F7000 rrrrrr  3   2234445         move    y1,y:FDirPath
                            34446 
                            34447 ; 1170 |        ((int*)DirPath)[1] = FM_PATH_1;
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page 130

M:ADDR CODE           CYCLES LINE SOURCELINE
                            34448 
P:000B 51F400 2F4D46  3   2534450         move    #3099974,b0
P:000D 597000 rrrrrr  3   2834451         move    b0,y:FDirPath+1
                            34452 
                            34453 ; 1171 |        ((int*)DirPath)[2] = FM_PATH_2;
                            34454 
P:000F 20001B         2   3034456         clr     b   
P:0010 5F7000 rrrrrr  3   3334457         move    b,y:FDirPath+2
                            34458 
                            34459 ; 1172 |
                            34460 ; 1173 |        g_dwFastKey = g_dwFmFastKey;
                            34461 
P:0012 4EF000 rrrrrr  3   3634463         move    y:Fg_dwFmFastKey,y0
P:0014 4FF000 rrrrrr  3   3934464         move    y:Fg_dwFmFastKey+1,y1
P:0016 4F7000 rrrrrr  3   4234465         move    y1,y:Fg_dwFastKey+1
P:0018 4E7000 rrrrrr  3   4534466         move    y0,y:Fg_dwFastKey
                            34467 
                            34468 ; 1174 |        g_build_fm_file = TRUE; // FM folder to be processed, set the flag so correct add function will be called
                            34469 
P:001A 290100         2   4734471         move    #1,b0
P:001B 597000 rrrrrr  3   5034472         move    b0,y:Fg_build_fm_file
                            34473 
                            34474 ; 1175 |        //record must add to HDD
                            34475 ; 1176 |    if(Chdir((_packed char*)DirPath) == FS_SUCCESS)
                            34476 
P:001D 60F400 rrrrrr  3   5334478         move    #FDirPath,r0
P:001F 045FA0         2   5534479         movec   m0,n7
P:0020 000000         2   5734480         nop
P:0021 686F00         4   6134481         move    r0,y:(r7+n7)
P:0022 0BF080 rrrrrr  6   6734482         jsr     FChdir
P:0024 200003         2   6934483         tst     a
P:0025 0AF0A2 rrrrrr  6   7534484         jne     L225
                            34485 
                            34486 ; 1177 |    {
                            34487 ; 1178 |        g_total_song = 0;
                            34488 
P:0027 20001B         2   7734490         clr     b   
P:0028 5F7000 rrrrrr  3   8034491         move    b,y:Fg_total_song
                            34492 
                            34493 ; 1179 |            //popuplate voice file
                            34494 ; 1180 |                AddSingleFolderSongToLibrary(0,0,0);
                            34495 
P:002A 200001         2   8234497         tfr     b,a
P:002B 300000         2   8434498         move    #0,r0
P:002C 0BF080 rrrrrr  6   9034499         jsr     FAddSingleFolderSongToLibrary
                            34500 
                            34501 ; 1181 |    }
                            34502 ; 1182 |#ifdef MMC
                            34503 ; 1183 |    ((int*)DirPath)[0] &= ~(0xFF);
                            34504 
P:002E 5FF000 rrrrrr  3   9334506 L225:   move    y:FDirPath,b
P:0030 46F400 FFFF00  3   9634507         move    #-256,y0
P:0032 20005E         2   9834508         and     y0,b
P:0033 5D7000 rrrrrr  3  10134509         move    b1,y:FDirPath
                            34510 
                            34511 ; 1184 |    ((int*)DirPath)[0] |= 0x62; // changed to b:/
                            34512 
P:0035 0ACD61         4  10534514         bset    #1,b1
P:0036 0ACD65         4  10934515         bset    #5,b1
P:0037 0ACD66         4  11334516         bset    #6,b1
P:0038 5D7000 rrrrrr  3  11634517         move    b1,y:FDirPath
                            34518 
                            34519 ; 1185 |    if(Chdir((_packed char*)DirPath) == FS_SUCCESS)
                            34520 
P:003A 045FA0         2  11834522         movec   m0,n7
P:003B 000000         2  12034523         nop
P:003C 68EF00         4  12434524         move    y:(r7+n7),r0
P:003D 0BF080 rrrrrr  6  13034525         jsr     FChdir
P:003F 200003         2  13234526         tst     a
P:0040 0AF0A2 rrrrrr  6  13834527         jne     L226
                            34528 
                            34529 ; 1186 |    {
                            34530 ; 1187 |        g_total_song = 0;
                            34531 
P:0042 200013         2  14034533         clr     a   
P:0043 5E7000 rrrrrr  3  14334534         move    a,y:Fg_total_song
                            34535 
                            34536 ; 1188 |            //popuplate voice file
                            34537 ; 1189 |                AddSingleFolderSongToLibrary(0,1,0);
                            34538 
P:0045 300000         2  14534540         move    #0,r0
P:0046 57F400 000001  3  14834541         move    #>1,b
P:0048 0BF080 rrrrrr  6  15434542         jsr     FAddSingleFolderSongToLibrary
                            34543 
                            34544 ; 1190 |    }
                            34545 ; 1191 |#endif
                            34546 ; 1192 |        g_build_fm_file = FALSE;        // FM folder processed, we should reset the flag
                            34547 
P:004A 260000         2  15634549 L226:   move    #0,y0
P:004B 4E7000 rrrrrr  3  15934550         move    y0,y:Fg_build_fm_file
                            34551 
                            34552 ; 1193 |        ML_FlushVoiceToFlash(REC_FMREC_TYPE);   // Flush built library to the FLASH
                            34553 
P:004D 56F400 000001  3  16234555         move    #>1,a
                            34556 
                            34557 ; 1194 |}
                            34558 
P:004F 205700         2  16434560         move    (r7)-
P:0050 0BF080 rrrrrr  6  17034562         jsr     FML_FlushVoiceToFlash
P:0052 05FF7C         4  17434565         movec   y:-(r7),ssh
P:0053 000000         2  17634568         nop
P:0054 00000C         4  18034569         rts
                            34571 
                            34572 ; 1195 |
                            34573 ; 1196 |#ifdef FUNCLET
                            34574 ; 1197 |    #pragma asm
P:0774                      34575         org p,".ptextplaylist3init":
                            34576 ; 1199 |    #pragma endasm
                            34577 ; 1200 |#endif
                            34578 ; 1201 |
                            34579 ; 1202 |
                            34580 ; 1203 |#ifdef FUNCLET
                            34581 ; 1204 |
                            34582 ; 1205 |    #pragma asm
                            34583 
                            34584         FBuildLINEINFilePath:
                            34585 
                            34589 
                            34590         ;If using funclet, function will be executed via funclet kernel
                            34591         extern RSRC_FUNCLET_BUILDLINEINFILEPATH
                            34592         CallFunclet RSRC_FUNCLET_BUILDLINEINFILEPATH
P:0774 0D0080         4 427034592     jsr       $80
P:0775 0003F2               34592     DC       RSRC_FUNCLET_BUILDLINEINFILEPATH  ; 1 word
                            34593 
P:0000                      34594         org p,"SYSFUNCLET_BUILDLINEINFILEPATH_P":
P:0000 0003F2               34595         dc      RSRC_FUNCLET_BUILDLINEINFILEPATH
                            34596 ; 1219 |    #pragma endasm
                            34597 ; 1220 |
                            34598 ; 1221 |_reentrant void BuildLINEINFilePath_Funclet(void)
                            34599 ; 1222 |#else
                            34600 ; 1223 |_reentrant void BuildLINEINFilePath(void)
                            34601 ; 1224 |#endif
                            34602 ; 1225 |{
                            34603 
                            34608 FBuildLINEINFilePath_Funclet:
P:0001 055F7C         2    234609         movec   ssh,y:(r7)+
P:0002 205F00         2    434612         move    (r7)+
                            34614 
                            34615 ; 1226 |        ML_voice_build_engine_init_playlist3();
                            34616 
P:0003 0BF080 rrrrrr  6   1034618         jsr     FML_voice_build_engine_init_playlist3
                            34619 
                            34620 ; 1227 |        ML_InitVoiceParameter();
                            34621 
P:0005 0BF080 rrrrrr  6   1634623         jsr     FML_InitVoiceParameter
                            34624 
                            34625 ; 1228 |
                            34626 ; 1229 |        ((int*)DirPath)[0] = LINEIN_PATH_0;
                            34627 
P:0007 56F400 2F3A61  3   1934629         move    #3095137,a
P:0009 5E7000 rrrrrr  3   2234630         move    a,y:FDirPath
                            34631 
                            34632 ; 1230 |        ((int*)DirPath)[1] = LINEIN_PATH_1;
                            34633 
P:000B 47F400 4E494C  3   2534635         move    #5130572,y1
P:000D 4F7000 rrrrrr  3   2834636         move    y1,y:FDirPath+1
                            34637 
                            34638 ; 1231 |        ((int*)DirPath)[2] = LINEIN_PATH_2;
                            34639 
P:000F 51F400 492D45  3   3134641         move    #4795717,b0
P:0011 597000 rrrrrr  3   3434642         move    b0,y:FDirPath+2
                            34643 
                            34644 ; 1232 |        ((int*)DirPath)[3] = LINEIN_PATH_3;
                            34645 
P:0013 50F400 002F4E  3   3734647         move    #12110,a0
P:0015 587000 rrrrrr  3   4034648         move    a0,y:FDirPath+3
                            34649 
                            34650 ; 1233 |
                            34651 ; 1234 |        g_dwFastKey = g_dwLineinFastKey;
                            34652 
P:0017 4EF000 rrrrrr  3   4334654         move    y:Fg_dwLineinFastKey,y0
P:0019 4FF000 rrrrrr  3   4634655         move    y:Fg_dwLineinFastKey+1,y1
P:001B 4F7000 rrrrrr  3   4934656         move    y1,y:Fg_dwFastKey+1
P:001D 4E7000 rrrrrr  3   5234657         move    y0,y:Fg_dwFastKey
                            34658 
                            34659 ; 1235 |        g_build_linein_file = TRUE;     // Line-in folder to be processed, set the flag so correct add function will be called
                            34660 
P:001F 290100         2   5434662         move    #1,b0
P:0020 597000 rrrrrr  3   5734663         move    b0,y:Fg_build_linein_file
                            34664 
                            34665 ; 1236 |        //record must add to HDD
                            34666 ; 1237 |    if(Chdir((_packed char*)DirPath) == FS_SUCCESS)
                            34667 
P:0022 60F400 rrrrrr  3   6034669         move    #FDirPath,r0
P:0024 045FA0         2   6234670         movec   m0,n7
P:0025 000000         2   6434671         nop
P:0026 686F00         4   6834672         move    r0,y:(r7+n7)
P:0027 0BF080 rrrrrr  6   7434673         jsr     FChdir
P:0029 200003         2   7634674         tst     a
P:002A 0AF0A2 rrrrrr  6   8234675         jne     L227
                            34676 
                            34677 ; 1238 |    {
                            34678 ; 1239 |        g_total_song = 0;
                            34679 
P:002C 20001B         2   8434681         clr     b   
P:002D 5F7000 rrrrrr  3   8734682         move    b,y:Fg_total_song
                            34683 
                            34684 ; 1240 |            //popuplate voice file
                            34685 ; 1241 |                AddSingleFolderSongToLibrary(0,0,0);
                            34686 
P:002F 200001         2   8934688         tfr     b,a
P:0030 300000         2   9134689         move    #0,r0
P:0031 0BF080 rrrrrr  6   9734690         jsr     FAddSingleFolderSongToLibrary
                            34691 
                            34692 ; 1242 |    }
                            34693 ; 1243 |#ifdef MMC
                            34694 ; 1244 |    ((int*)DirPath)[0] &= ~(0xFF);
                            34695 
P:0033 5FF000 rrrrrr  3  10034697 L227:   move    y:FDirPath,b
P:0035 46F400 FFFF00  3  10334698         move    #-256,y0
P:0037 20005E         2  10534699         and     y0,b
P:0038 5D7000 rrrrrr  3  10834700         move    b1,y:FDirPath
                            34701 
                            34702 ; 1245 |    ((int*)DirPath)[0] |= 0x62; // changed to b:/
                            34703 
P:003A 0ACD61         4  11234705         bset    #1,b1
P:003B 0ACD65         4  11634706         bset    #5,b1
P:003C 0ACD66         4  12034707         bset    #6,b1
P:003D 5D7000 rrrrrr  3  12334708         move    b1,y:FDirPath
                            34709 
                            34710 ; 1246 |    if(Chdir((_packed char*)DirPath) == FS_SUCCESS)
                            34711 
P:003F 045FA0         2  12534713         movec   m0,n7
P:0040 000000         2  12734714         nop
P:0041 68EF00         4  13134715         move    y:(r7+n7),r0
P:0042 0BF080 rrrrrr  6  13734716         jsr     FChdir
P:0044 200003         2  13934717         tst     a
P:0045 0AF0A2 rrrrrr  6  14534718         jne     L228
                            34719 
                            34720 ; 1247 |    {
                            34721 ; 1248 |        g_total_song = 0;
                            34722 
P:0047 200013         2  14734724         clr     a   
P:0048 5E7000 rrrrrr  3  15034725         move    a,y:Fg_total_song
                            34726 
                            34727 ; 1249 |            //popuplate voice file
                            34728 ; 1250 |                AddSingleFolderSongToLibrary(0,1,0);
                            34729 
P:004A 300000         2  15234731         move    #0,r0
P:004B 57F400 000001  3  15534732         move    #>1,b
P:004D 0BF080 rrrrrr  6  16134733         jsr     FAddSingleFolderSongToLibrary
                            34734 
                            34735 ; 1251 |    }
                            34736 ; 1252 |#endif
                            34737 ; 1253 |        g_build_linein_file = FALSE;    // Line-in folder processed, we should reset the flag
                            34738 
P:004F 270000         2  16334740 L228:   move    #0,y1
P:0050 4F7000 rrrrrr  3  16634741         move    y1,y:Fg_build_linein_file
                            34742 
                            34743 ; 1254 |        ML_FlushVoiceToFlash(REC_PHOTO_TYPE);   // Flush built library to the FLASH
                            34744 
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page 131

M:ADDR CODE           CYCLES LINE SOURCELINE
P:0052 56F400 000002  3  16934746         move    #>2,a
                            34747 
                            34748 ; 1255 |}
                            34749 
P:0054 205700         2  17134751         move    (r7)-
P:0055 0BF080 rrrrrr  6  17734753         jsr     FML_FlushVoiceToFlash
P:0057 05FF7C         4  18134756         movec   y:-(r7),ssh
P:0058 000000         2  18334759         nop
P:0059 00000C         4  18734760         rts
                            34762 
                            34763 ; 1256 |
                            34764 ; 1257 |#ifdef FUNCLET
                            34765 ; 1258 |    #pragma asm
P:0776                      34766         org p,".ptextplaylist3init":
                            34767 ; 1260 |    #pragma endasm
                            34768 ; 1261 |#endif
                            34769 ; 1262 |
                            34770 ; 1263 |#ifdef FUNCLET
                            34771 ; 1264 |
                            34772 ; 1265 |    #pragma asm
                            34773 
                            34774         FGetVoiceFastKey:
                            34775 
                            34779 
                            34780         ;If using funclet, function will be executed via funclet kernel
                            34781         extern RSRC_FUNCLET_GETVOICEFASTKEY
                            34782         CallFunclet RSRC_FUNCLET_GETVOICEFASTKEY
P:0776 0D0080         4 427434782     jsr       $80
P:0777 0003F3               34782     DC       RSRC_FUNCLET_GETVOICEFASTKEY  ; 1 word
                            34783 
P:0000                      34784         org p,"SYSFUNCLET_GETVOICEFASTKEY_P":
P:0000 0003F3               34785         dc      RSRC_FUNCLET_GETVOICEFASTKEY
                            34786 ; 1279 |    #pragma endasm
                            34787 ; 1280 |
                            34788 ; 1281 |_reentrant void GetVoiceFastKey_Funclet(WORD wFastKeyBitField)
                            34789 ; 1282 |#else
                            34790 ; 1283 |_reentrant void GetVoiceFastKey(WORD wFastKeyBitField)
                            34791 ; 1284 |#endif
                            34792 ; 1285 |{
                            34793 
                            34798 FGetVoiceFastKey_Funclet:
P:0001 055F7C         2    234799         movec   ssh,y:(r7)+
P:0002 3F1600         2    434802         move    #22,n7
P:0003 000000         2    634803         nop
P:0004 204F00         2    834804         move    (r7)+n7
                            34817 
                            34818 ; 1286 |        _packed BYTE    sFileSpec[4];
                            34819 ; 1287 |        _packed BYTE    szVoice[6];
                            34820 ; 1288 |        _packed BYTE    szFM[3];
                            34821 ; 1289 |        _packed BYTE    szLinein[9];
                            34822 ; 1290 |        Finddata                finddata;
                            34823 ; 1291 |        INT                             find_handle;
                            34824 ; 1292 |
                            34825 ; 1293 |        ((int*)TempPathArray)[0] = 0x2f3a61;    // "/:a"
                            34826 
P:0005 45F400 2F3A61  3   1134828         move    #3095137,x1
P:0007 4D7000 rrrrrr  3   1434829         move    x1,y:FTempPathArray
                            34830 
                            34831 ; 1294 |        ((int*)TempPathArray)[1] = 0x000000;    // Terminating zero
                            34832 
P:0009 20001B         2   1634834         clr     b   
P:000A 5F7000 rrrrrr  3   1934835         move    b,y:FTempPathArray+1
                            34836 
                            34837 ; 1295 |
                            34838 ; 1296 |        ((int*)szVoice)[0] = VOICEDIR_0;
                            34839 
P:000C 57F400 494F56  3   2234841         move    #4804438,b
P:000E 77F400 FFFFFA  3   2534842         move    #-6,n7
P:0010 000000         2   2734843         nop
P:0011 5F6F00         4   3134844         move    b,y:(r7+n7)
                            34845 
                            34846 ; 1297 |        ((int*)szVoice)[1] = VOICEDIR_1;
                            34847 
P:0012 47F400 004543  3   3434849         move    #17731,y1
P:0014 77F400 FFFFFB  3   3734850         move    #-5,n7
P:0016 000000         2   3934851         nop
P:0017 4F6F00         4   4334852         move    y1,y:(r7+n7)
                            34853 
                            34854 ; 1298 |
                            34855 ; 1299 |        ((int*)szFM)[0] = FMDIR_0;
                            34856 
P:0018 51F400 004D46  3   4634858         move    #19782,b0
P:001A 77F400 FFFFF9  3   4934859         move    #-7,n7
P:001C 000000         2   5134860         nop
P:001D 596F00         4   5534861         move    b0,y:(r7+n7)
                            34862 
                            34863 ; 1300 |
                            34864 ; 1301 |        ((int*)szLinein)[0] = LINE1DIR_0;
                            34865 
P:001E 46F400 4E494C  3   5834867         move    #5130572,y0
P:0020 77F400 FFFFF6  3   6134868         move    #-10,n7
P:0022 000000         2   6334869         nop
P:0023 4E6F00         4   6734870         move    y0,y:(r7+n7)
                            34871 
                            34872 ; 1302 |        ((int*)szLinein)[1] = LINE1DIR_1;
                            34873 
P:0024 44F400 492D45  3   7034875         move    #4795717,x0
P:0026 77F400 FFFFF7  3   7334876         move    #-9,n7
P:0028 000000         2   7534877         nop
P:0029 4C6F00         4   7934878         move    x0,y:(r7+n7)
                            34879 
                            34880 ; 1303 |        ((int*)szLinein)[2] = LINE1DIR_2;
                            34881 
P:002A 2D4E00         2   8134883         move    #78,b1
P:002B 77F400 FFFFF8  3   8434884         move    #-8,n7
P:002D 000000         2   8634885         nop
P:002E 5D6F00         4   9034886         move    b1,y:(r7+n7)
                            34887 
                            34888 ; 1304 |
                            34889 ; 1305 |        wFastKeyBitField &= ((1<<FAST_KEY_BIT_POS_VOICE) | (1<<FAST_KEY_BIT_POS_FM) | (1<<FAST_KEY_BIT_POS_LINEIN));
                            34890 
P:002F 45F400 000007  3   9334892         move    #>7,x1
P:0031 200066         2   9534893         and     x1,a
P:0032 77F400 FFFFFE  3   9834894         move    #-2,n7
P:0034 000000         2  10034895         nop
P:0035 5C6F00         4  10434896         move    a1,y:(r7+n7)
                            34899 
                            34900 ; 1306 |
                            34901 ; 1307 |        if (Chdir((_packed char*)TempPathArray) == FS_SUCCESS)
                            34902 
P:0036 60F400 rrrrrr  3  10734904         move    #FTempPathArray,r0
P:0038 0BF080 rrrrrr  6  11334905         jsr     FChdir
P:003A 200003         2  11534906         tst     a
P:003B 0AF0A2 rrrrrr  6  12134907         jne     L243
                            34908 
                            34909 ; 1308 |        {
                            34910 ; 1309 |                ((INT *)(sFileSpec))[0] = 0x2a2e2a;     // *.*
                            34911 
P:003D 54F400 2A2E2A  3  12434913         move    #2764330,a1
P:003F 77F400 FFFFFC  3  12734914         move    #-4,n7
P:0041 000000         2  12934915         nop
P:0042 5C6F00         4  13334916         move    a1,y:(r7+n7)
                            34917 
                            34918 ; 1310 |                ((INT *)(sFileSpec))[1] = 0;            // null terminator
                            34919 
P:0043 20001B         2  13534921         clr     b   
P:0044 77F400 FFFFFD  3  13834922         move    #-3,n7
P:0046 000000         2  14034923         nop
P:0047 5F6F00         4  14434924         move    b,y:(r7+n7)
                            34925 
                            34926 ; 1311 |
                            34927 ; 1312 |                _memset(&finddata, 0, sizeof(finddata));
                            34928 
P:0048 77F400 FFFFEA  3  14734930         move    #-22,n7
P:004A 000000         2  14934931         nop
P:004B 044F15         4  15334932         lua     (r7)+n7,r5
P:004C 22B000         2  15534933         move    r5,r0
P:004D 060C80 rrrrrr  6  16134934         do      #12,L244
P:004F 5F5D00         2  16334936         move    b,y:(r5)+
P:0050 000000         2  16534937         nop
                         (4)34938 L244:
                            34940 
                            34941 ; 1313 |
                            34942 ; 1314 |                finddata.device = 0;
                            34943 
P:0051 77F400 FFFFED  3  16834945         move    #-19,n7
P:0053 000000         2  17034946         nop
P:0054 5F6F00         4  17434947         move    b,y:(r7+n7)
                            34948 
                            34949 ; 1315 |                finddata.startrecord = 0;       //start at the 0th record.
                            34950 
P:0055 77F400 FFFFEE  3  17734952         move    #-18,n7
P:0057 000000         2  17934953         nop
P:0058 5F6F00         4  18334954         move    b,y:(r7+n7)
                            34955 
                            34956 ; 1316 |
                            34957 ; 1317 |                // get the first that matches our specifications
                            34958 ; 1318 |                find_handle = FindFirst(&finddata, (_packed char*)sFileSpec);
                            34959 
P:0059 77F400 FFFFFC  3  18634961         move    #-4,n7
P:005B 000000         2  18834962         nop
P:005C 044F14         4  19234963         lua     (r7)+n7,r4
P:005D 0BF080 rrrrrr  6  19834964         jsr     FFindFirst
                            34966 
                            34967 ; 1319 |
                            34968 ; 1320 |                while (find_handle > 0)
                            34969 
P:005F 0AF080 rrrrrr  6  20434971         jmp     L242
                            34972 
                            34973 ; 1321 |                {
                            34974 ; 1322 |                        // while our find handle is valid, keep getting more files
                            34975 ; 1323 |                        if (!(finddata.attrib &(ATTR_UNACCEPTABLE)))
                            34976 
P:0061 46F400 00000E  3  20734978 L229:   move    #>14,y0
P:0063 77F400 FFFFEA  3  21034979         move    #-22,n7
P:0065 000000         2  21234980         nop
P:0066 5DEF00         4  21634981         move    y:(r7+n7),b1
P:0067 20005E         2  21834982         and     y0,b
P:0068 0AF0A2 rrrrrr  6  22434983         jne     L239
                            34984 
                            34985 ; 1324 |                        {
                            34986 ; 1325 |                                // if the attributes of the file found are acceptable (this will skip hidden, system, or volume id entries.  It also skips long file entries
                            34987 ; 1326 |                                if (finddata.attrib & (ATTR_DIRECTORY))
                            34988 
P:006A 4EEF00         4  22834990         move    y:(r7+n7),y0
P:006B 0AC604 rrrrrr  6  23434991         jclr    #4,y0,L239
                            34992 
                            34993 ; 1327 |                                {
                            34994 ; 1328 |                                        if (wFastKeyBitField & (1<<FAST_KEY_BIT_POS_VOICE))
                            34995 
P:006D 77F400 FFFFFE  3  23734997         move    #-2,n7
P:006F 000000         2  23934998         nop
P:0070 4CEF00         4  24334999         move    y:(r7+n7),x0
P:0071 0AC400 rrrrrr  6  24935000         jclr    #0,x0,L230
P:0073 045FA0         2  25135001         movec   m0,n7
P:0074 000000         2  25335002         nop
P:0075 5C6F00         4  25735003         move    a1,y:(r7+n7)
                            35006 
                            35007 ; 1329 |                                        {
                            35008 ; 1330 |                                                if (packed_strcmp((_packed BYTE *)finddata.name, szVoice)==0)
                            35009 
P:0076 77F400 FFFFEF  3  26035011         move    #-17,n7
P:0078 000000         2  26235012         nop
P:0079 044F10         4  26635013         lua     (r7)+n7,r0
P:007A 77F400 FFFFFA  3  26935014         move    #-6,n7
P:007C 000000         2  27135015         nop
P:007D 044F14         4  27535016         lua     (r7)+n7,r4
P:007E 0BF080 rrrrrr  6  28135017         jsr     packed_strcmp
P:0080 200003         2  28335018         tst     a
P:0081 045FA0         2  28535019         movec   m0,n7
P:0082 000000         2  28735020         nop
P:0083 5EEF00         4  29135021         move    y:(r7+n7),a
P:0084 0AF0A2 rrrrrr  6  29735024         jne     L239
                            35025 
                            35026 ; 1331 |                                                {
                            35027 ; 1332 |                                                        g_dwVoiceFastKey = finddata.Key;
                            35028 
P:0086 77F400 FFFFF4  3  30035030         move    #-12,n7
P:0088 205F00         2  30235031         move    (r7)+
P:0089 4FEF00         4  30635033         move    y:(r7+n7),y1
P:008A 205700         2  30835034         move    (r7)-
P:008B 4EEF00         4  31235036         move    y:(r7+n7),y0
P:008C 4F7000 rrrrrr  3  31535037         move    y1,y:Fg_dwVoiceFastKey+1
P:008E 4E7000 rrrrrr  3  31835038         move    y0,y:Fg_dwVoiceFastKey
                            35039 
                            35040 ; 1333 |                                                        wFastKeyBitField &= ~((WORD)(1<<FAST_KEY_BIT_POS_VOICE));
                            35041 
P:0090 77F400 FFFFFE  3  32135043         move    #-2,n7
P:0092 000000         2  32335044         nop
P:0093 0A6F40         6  32935045         bclr    #0,y:(r7+n7)
                            35050 
                            35051 ; 1334 |                                                }
                            35052 ; 1335 |                                        }
                            35053 
P:0094 0AF080 rrrrrr  6  33535055         jmp     L239
                            35056 
                            35057 ; 1336 |                                        else if (wFastKeyBitField & (1<<FAST_KEY_BIT_POS_FM))
                            35058 
P:0096 5FEF00         4  33935060 L230:   move    y:(r7+n7),b
P:0097 0ACD01 rrrrrr  6  34535061         jclr    #1,b1,L231
P:0099 045FA0         2  34735062         movec   m0,n7
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page 132

M:ADDR CODE           CYCLES LINE SOURCELINE
P:009A 000000         2  34935063         nop
P:009B 5C6F00         4  35335064         move    a1,y:(r7+n7)
                            35067 
                            35068 ; 1337 |                                        {
                            35069 ; 1338 |                                                if (packed_strcmp((_packed BYTE *)finddata.name, szFM)==0)
                            35070 
P:009C 77F400 FFFFEF  3  35635072         move    #-17,n7
P:009E 000000         2  35835073         nop
P:009F 044F10         4  36235074         lua     (r7)+n7,r0
P:00A0 77F400 FFFFF9  3  36535075         move    #-7,n7
P:00A2 000000         2  36735076         nop
P:00A3 044F14         4  37135077         lua     (r7)+n7,r4
P:00A4 0BF080 rrrrrr  6  37735078         jsr     packed_strcmp
P:00A6 200003         2  37935079         tst     a
P:00A7 045FA0         2  38135080         movec   m0,n7
P:00A8 000000         2  38335081         nop
P:00A9 5EEF00         4  38735082         move    y:(r7+n7),a
P:00AA 0AF0A2 rrrrrr  6  39335085         jne     L239
                            35086 
                            35087 ; 1339 |                                                {
                            35088 ; 1340 |                                                        g_dwFmFastKey = finddata.Key;
                            35089 
P:00AC 77F400 FFFFF4  3  39635091         move    #-12,n7
P:00AE 205F00         2  39835092         move    (r7)+
P:00AF 5FEF00         4  40235094         move    y:(r7+n7),b
P:00B0 205700         2  40435095         move    (r7)-
P:00B1 59EF00         4  40835097         move    y:(r7+n7),b0
P:00B2 5D7000 rrrrrr  3  41135098         move    b1,y:Fg_dwFmFastKey+1
P:00B4 597000 rrrrrr  3  41435099         move    b0,y:Fg_dwFmFastKey
                            35100 
                            35101 ; 1341 |                                                        wFastKeyBitField &= ~((WORD)(1<<FAST_KEY_BIT_POS_FM));
                            35102 
P:00B6 77F400 FFFFFE  3  41735104         move    #-2,n7
P:00B8 000000         2  41935105         nop
P:00B9 0A6F41         6  42535106         bclr    #1,y:(r7+n7)
                            35111 
                            35112 ; 1342 |                                                }
                            35113 ; 1343 |                                        }
                            35114 
P:00BA 0AF080 rrrrrr  6  43135116         jmp     L239
                            35117 
                            35118 ; 1344 |                                        else if (wFastKeyBitField & (1<<FAST_KEY_BIT_POS_LINEIN))
                            35119 
P:00BC 4CEF00         4  43535121 L231:   move    y:(r7+n7),x0
P:00BD 0AC402 rrrrrr  6  44135122         jclr    #2,x0,L239
P:00BF 045FA0         2  44335123         movec   m0,n7
P:00C0 000000         2  44535124         nop
P:00C1 5C6F00         4  44935125         move    a1,y:(r7+n7)
                            35128 
                            35129 ; 1345 |                                        {
                            35130 ; 1346 |                                                if (packed_strcmp((_packed BYTE *)finddata.name, szLinein)==0)
                            35131 
P:00C2 77F400 FFFFEF  3  45235133         move    #-17,n7
P:00C4 000000         2  45435134         nop
P:00C5 044F10         4  45835135         lua     (r7)+n7,r0
P:00C6 77F400 FFFFF6  3  46135136         move    #-10,n7
P:00C8 000000         2  46335137         nop
P:00C9 044F14         4  46735138         lua     (r7)+n7,r4
P:00CA 0BF080 rrrrrr  6  47335139         jsr     packed_strcmp
P:00CC 200003         2  47535140         tst     a
P:00CD 045FA0         2  47735141         movec   m0,n7
P:00CE 000000         2  47935142         nop
P:00CF 5EEF00         4  48335143         move    y:(r7+n7),a
P:00D0 0AF0A2 rrrrrr  6  48935146         jne     L239
                            35147 
                            35148 ; 1347 |                                                {
                            35149 ; 1348 |                                                        g_dwLineinFastKey = finddata.Key;
                            35150 
P:00D2 77F400 FFFFF4  3  49235152         move    #-12,n7
P:00D4 205F00         2  49435153         move    (r7)+
P:00D5 4FEF00         4  49835155         move    y:(r7+n7),y1
P:00D6 205700         2  50035156         move    (r7)-
P:00D7 4EEF00         4  50435158         move    y:(r7+n7),y0
P:00D8 4F7000 rrrrrr  3  50735159         move    y1,y:Fg_dwLineinFastKey+1
P:00DA 4E7000 rrrrrr  3  51035160         move    y0,y:Fg_dwLineinFastKey
                            35161 
                            35162 ; 1349 |                                                        wFastKeyBitField &= ~((WORD)(1<<FAST_KEY_BIT_POS_LINEIN));
                            35163 
P:00DC 77F400 FFFFFE  3  51335165         move    #-2,n7
P:00DE 000000         2  51535166         nop
P:00DF 0A6F42         6  52135167         bclr    #2,y:(r7+n7)
                            35172 
                            35173 ; 1350 |                                                }
                            35174 ; 1351 |                                        }
                            35175 ; 1352 |                                }
                            35176 ; 1353 |                        }
                            35177 ; 1354 |
                            35178 ; 1355 |                        // now get the next record
                            35179 ; 1356 |                        _memset(&finddata, 0, sizeof(finddata));
                            35180 
P:00E0 77F400 FFFFEA  3  52435182 L239:   move    #-22,n7
P:00E2 000000         2  52635183         nop
P:00E3 044F16         4  53035184         lua     (r7)+n7,r6
P:00E4 20001B         2  53235185         clr     b   
P:00E5 060C80 rrrrrr  6  53835186         do      #12,L245
P:00E7 5F5E00         2  54035188         move    b,y:(r6)+
P:00E8 000000         2  54235189         nop
                         (4)35190 L245:
                            35192 
                            35193 ; 1357 |
                            35194 ; 1358 |                        // now get the next FCB entry
                            35195 ; 1359 |                        if (!wFastKeyBitField || (FindNext(find_handle,&finddata)<0))
                            35196 
P:00E9 77F400 FFFFFE  3  54535198         move    #-2,n7
P:00EB 000000         2  54735199         nop
P:00EC 5FEF00         4  55135200         move    y:(r7+n7),b
P:00ED 2B0000         2  55335201         move    #0,b2
P:00EE 20000B         2  55535202         tst     b
P:00EF 0AF0AA rrrrrr  6  56135203         jeq     L240
P:00F1 77F400 FFFFEA  3  56435204         move    #-22,n7
P:00F3 000000         2  56635205         nop
P:00F4 044F10         4  57035206         lua     (r7)+n7,r0
P:00F5 045FA0         2  57235207         movec   m0,n7
P:00F6 000000         2  57435208         nop
P:00F7 5C6F00         4  57835209         move    a1,y:(r7+n7)
P:00F8 0BF080 rrrrrr  6  58435214         jsr     FFindNext
P:00FA 200003         2  58635217         tst     a
P:00FB 045FA0         2  58835218         movec   m0,n7
P:00FC 000000         2  59035219         nop
P:00FD 5EEF00         4  59435220         move    y:(r7+n7),a
P:00FE 0AF0A1 rrrrrr  6  60035223         jge     L242
                            35224 
                            35225 ; 1360 |                        {
                            35226 ; 1361 |                                // if there's no next entry, lets close it out.
                            35227 ; 1362 |                                Fclose(find_handle);
                            35228 
P:0100 0BF080 rrrrrr  6  60635230 L240:   jsr     FFclose
                            35232 
                            35233 ; 1363 |                                find_handle = -1;
                            35234 
P:0102 56F400 FFFFFF  3  60935236         move    #>-1,a
P:0104 200003         2  61135239 L242:   tst     a
P:0105 0AF0A7 rrrrrr  6  61735240         jgt     L229
                            35241 
                            35242 ; 1364 |                        }
                            35243 ; 1365 |                }
                            35244 ; 1366 |        }
                            35245 
                            35247 L243:
                            35248 
                            35249 ; 1367 |}
                            35250 
P:0107 77F400 FFFFE9  3  62035252         move    #-23,n7
P:0109 000000         2  62235253         nop
P:010A 05EF7C         4  62635254         movec   y:(r7+n7),ssh
P:010B 204F00         2  62835256         move    (r7)+n7
P:010C 00000C         4  63235258         rts
                            35262 
                            35263 ; 1368 |
                            35264 ; 1369 |#ifdef FUNCLET
                            35265 ; 1370 |    #pragma asm
P:0778                      35266         org p,".ptextplaylist3init":
                            35267 ; 1372 |    #pragma endasm
                            35268 ; 1373 |#endif
                            35269 ; 1374 |
                            35270 ; 1375 |#ifdef JANUS_BUILD
                            35271 ; 1376 |//////////////////////////////////////////////////////
                            35272 ; 1377 |//
                            35273 ; 1378 |//>  Name:          _reentrant INT FastAddSongToLib(int iDevice)
                            35274 ; 1379 |//
                            35275 ; 1380 |//   Type:          Function
                            35276 ; 1381 |//
                            35277 ; 1382 |//   Description:   This function add the song to library by doing incremental build.it only adds the entry for the recently transfer songs
                            35278 ; 1383 |//                  in to the library.This function adds 10 to 15 songs in incremental build.if more songs are transferred then it returns with
                            35279 ; 1384 |//                  PLAYLIST_REBUILD.
                            35280 ; 1385 |//
                            35281 ; 1386 |//   Inputs:        int iDevice        The number of the device being scanned
                            35282 ; 1387 |//
                            35283 ; 1388 |//   Outputs:       Returns with SUCCESS if all songs entry added in to music lib
                            35284 ; 1389 |//                  Returns with  PLAYLIST_REBUILD if the file size is greater then 1024 bytes.
                            35285 ; 1390 |//
                            35286 ; 1391 |//   Notes:
                            35287 ; 1392 |//
                            35288 ; 1393 |//<
                            35289 ; 1394 |//////////////////////////////////////////////////////
                            35290 ; 1395 |_reentrant INT FastAddSongToLib(int iDevice)
                            35291 ; 1396 |{
                            35292 ; 1397 |    INT String_len=0;
                            35293 ; 1398 |    INT FileHandle=0;
                            35294 ; 1399 |    INT Attrib=0;
                            35295 ; 1400 |    INT Bytesread,i;
                            35296 ; 1401 |    int year;  //for add entry
                            35297 ; 1402 |    _packed BYTE genre[15]; // for add entry
                            35298 ; 1403 |
                            35299 ; 1404 |    int temp_conversion=0;
                            35300 ; 1405 |    int comp1=0;
                            35301 ; 1406 |    int comp2=0;
                            35302 ; 1407 |
                            35303 ; 1408 |    ((int*)(genre))[0]=0x6b6e55; // Unk
                            35304 ; 1409 |    ((int*)(genre))[1]=0x776f6e; // now
                            35305 ; 1410 |    ((int*)(genre))[2]=0x47206e; // n G
                            35306 ; 1411 |    ((int*)(genre))[3]=0x726e65; // enr
                            35307 ; 1412 |    ((int*)(genre))[4]=0x000065; // e
                            35308 ; 1413 |
                            35309 ; 1414 |    //_packed BYTE g_MusicAdd_FilePath[] = "/:ASUMACI.DDTAD\0\0\0"; //open file on a:\musicadd.dat
                            35310 ; 1415 |    FileHandle = Fopen((_packed char *)g_MusicAdd_FilePath, (_packed char *) "r");
                            35311 ; 1416 |    if(FileHandle < 0 )
                            35312 ; 1417 |    {
                            35313 ; 1418 |        return SUCCESS ;
                            35314 ; 1419 |    }
                            35315 ; 1420 |    //get the file size and checks if it is greater then 1024 bytes then go for rebuilding the music lib otherwise
                            35316 ; 1421 |    //do incremental build.
                            35317 ; 1422 |#ifndef _FOLDER_BROWSE_
                            35318 ; 1423 |    if (GetFileSize(FileHandle) > 1024)
                            35319 ; 1424 |#endif
                            35320 ; 1425 |    {
                            35321 ; 1426 |        Fclose(FileHandle);
                            35322 ; 1427 |        Attrib= ATTR_SYSTEM|ATTR_HIDDEN;
                            35323 ; 1428 |        FSFileAttributeClear(Attrib,g_MusicAdd_FilePath,0);
                            35324 ; 1429 |        Fremove((_packed char *)g_MusicAdd_FilePath);
                            35325 ; 1430 |        return PLAYLIST_REBUILD;
                            35326 ; 1431 |    }
                            35327 ; 1432 |#ifndef _FOLDER_BROWSE_
                            35328 ; 1433 |        //StoreFromFlash();
                            35329 ; 1434 |    //load the sorted records in to memory for further sorting of newly added songs.
                            35330 ; 1435 |    LoadSortedRecords();
                            35331 ; 1436 |    while(1)
                            35332 ; 1437 |    {
                            35333 ; 1438 |        //read the path length
                            35334 ; 1439 |        Bytesread = Fread(FileHandle,&String_len,3, Y_MEMORY, -1);
                            35335 ; 1440 |        //fread returns 0 means all the song entry are processed so return with SUCCESS.
                            35336 ; 1441 |        if(Bytesread==0)
                            35337 ; 1442 |        {
                            35338 ; 1443 |            // Flush the updated music library and sorted records onto flash
                            35339 ; 1444 |            //StoreToFlash();
                            35340 ; 1445 |            SaveSortedRecords();
                            35341 ; 1446 |            //ML_FlushLibraryToFlash();
                            35342 ; 1447 |                        SysCallFunction(RSRC_MUSICLIB_BUILD_FUNCTION_FLUSH,ML_FlushLibraryToFlash,MEDIA_TYPE_FLASH,0,NULL);
                            35343 ; 1448 |            Fclose(FileHandle);
                            35344 ; 1449 |            Attrib= ATTR_SYSTEM|ATTR_HIDDEN;
                            35345 ; 1450 |            FSFileAttributeClear(Attrib,g_MusicAdd_FilePath,0);
                            35346 ; 1451 |            Fremove((_packed char *)g_MusicAdd_FilePath);
                            35347 ; 1452 |            return SUCCESS;
                            35348 ; 1453 |        }
                            35349 ; 1454 |        //read the song path
                            35350 ; 1455 |        Bytesread = Fread(FileHandle,(INT *)g_CurrentSongName,String_len, Y_MEMORY, -1);
                            35351 ; 1456 |        PutByte((void *)g_CurrentSongName,0,String_len,Y_MEMORY);
                            35352 ; 1457 |        song_info.dir_name[0] = '\0';
                            35353 ; 1458 |        g_wCurrentDirDevId = iDevice;
                            35354 ; 1459 |
                            35355 ; 1460 |        if (!IsMusicPath((_packed BYTE *)g_CurrentSongName))
                            35356 ; 1461 |            ;
                            35357 ; 1462 |        else
                            35358 ; 1463 |        if (Playlist_IsValidAudioFile(MAC_RESOURCE_NUM_BYTES+1,(_packed BYTE *)g_CurrentSongName))
                            35359 ; 1464 |        {
                            35360 ; 1465 |            SysCallFunction(RSRC_PLAYLIST_CODEBANK,Fast_Playlist_GetLFN, 0, 0, (INT *)song_info.dir_name);
                            35361 ; 1466 |            Rebuild_GetMetaData(0,0,0);
                            35362 ; 1467 |            //fill the song information in song_info stucture.
                            35363 ; 1468 |            /* The bit mask for 2 bits Unicode Flag selection in "uint8 unicode".
                            35364 ; 1469 |            Variable Represented Bits used in "uint8 unicode"
                            35365 ; 1470 |            Artistname 1:0
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page 133

M:ADDR CODE           CYCLES LINE SOURCELINE
                            35366 ; 1471 |            Albumname 3:2
                            35367 ; 1472 |            Genrename 5:4
                            35368 ; 1473 |            Songname 7:6
                            35369 ; 1474 |            ----------------------------------------------------------
                            35370 ; 1475 |            Value (2 bits) Meanings
                            35371 ; 1476 |            0 RAW and All ASCII
                            35372 ; 1477 |            1 Uni-code
                            35373 ; 1478 |            2 Mixed, non-unicode
                            35374 ; 1479 |            */
                            35375 ; 1480 |            //Stmp00013555
                            35376 ; 1481 |            g_wSongArtist[ARTIST_SIZE-1] = 0;
                            35377 ; 1482 |            g_wSongAlbum[ALBUM_SIZE-1]  = 0;
                            35378 ; 1483 |            g_wSongTitle[TITLE_SIZE-1]  = 0;
                            35379 ; 1484 |
                            35380 ; 1485 |            if (g_unicode > 0) //non mp3 case
                            35381 ; 1486 |            {
                            35382 ; 1487 |                if (g_wSongTitle[0] == 0) {
                            35383 ; 1488 |                    song_info.unicode = 0x15; //0x00010101;
                            35384 ; 1489 |                    packed_strcpy((_packed BYTE *)g_wSongTitle, (_packed BYTE *)g_shortname);
                            35385 ; 1490 |                }
                            35386 ; 1491 |                else {
                            35387 ; 1492 |                    song_info.unicode = 0x55; //0x01010101;
                            35388 ; 1493 |                }
                            35389 ; 1494 |                TrimUnicodeString(g_wSongArtist);
                            35390 ; 1495 |                TrimUnicodeString(g_wSongAlbum);
                            35391 ; 1496 |                TrimUnicodeString(g_wSongGenre);
                            35392 ; 1497 |                TrimUnicodeString(g_wSongTitle);
                            35393 ; 1498 |                strcpy(song_info.artist_name, g_wSongArtist);
                            35394 ; 1499 |                strcpy(song_info.album_name, g_wSongAlbum);
                            35395 ; 1500 |                strcpy(song_info.genre_name, g_wSongGenre);
                            35396 ; 1501 |                //packed_strcpy(song_info.genre_name, genre); // temp approach
                            35397 ; 1502 |                strcpy(song_info.song_name, g_wSongTitle);
                            35398 ; 1503 |                if(g_wSongYear[0] != 0)
                            35399 ; 1504 |                {
                            35400 ; 1505 |                    year = 0;
                            35401 ; 1506 |
                            35402 ; 1507 |                    for (i=0; i<4; i++)
                            35403 ; 1508 |                    {
                            35404 ; 1509 |                        temp_conversion = g_wSongYear[i];
                            35405 ; 1510 |                        year = year + (temp_conversion-48); //perform hex range shift
                            35406 ; 1511 |
                            35407 ; 1512 |                        if (i != 3)
                            35408 ; 1513 |                            year = year * 10;
                            35409 ; 1514 |                    }
                            35410 ; 1515 |                    song_info.year = year;
                            35411 ; 1516 |                }
                            35412 ; 1517 |                else
                            35413 ; 1518 |                    song_info.year = UNKNOWN_YEAR_CODE; // Unknown Year
                            35414 ; 1519 |            }
                            35415 ; 1520 |            else
                            35416 ; 1521 |            {
                            35417 ; 1522 |
                            35418 ; 1523 |                song_info.unicode = 0;  //0x00000000;
                            35419 ; 1524 |                if (g_wSongTitle[0] == 0) {
                            35420 ; 1525 |                    packed_strcpy((_packed BYTE *)g_wSongTitle, (_packed BYTE *)g_shortname);
                            35421 ; 1526 |                }
                            35422 ; 1527 |                if (g_wSongArtist[0] < 65536)
                            35423 ; 1528 |                {
                            35424 ; 1529 |                    TrimUnicodeString(g_wSongArtist);
                            35425 ; 1530 |                    strcpy(song_info.artist_name, g_wSongArtist);
                            35426 ; 1531 |                    song_info.unicode = song_info.unicode | 0x00000001;
                            35427 ; 1532 |                }
                            35428 ; 1533 |                else
                            35429 ; 1534 |                {
                            35430 ; 1535 |                    TrimPackedString(g_wSongArtist);
                            35431 ; 1536 |                    packed_strcpy((_packed BYTE *)song_info.artist_name, (_packed BYTE *)g_wSongArtist);
                            35432 ; 1537 |                }
                            35433 ; 1538 |
                            35434 ; 1539 |                if (g_wSongAlbum[0] < 65536)
                            35435 ; 1540 |                {
                            35436 ; 1541 |                    TrimUnicodeString(g_wSongAlbum);
                            35437 ; 1542 |                    strcpy(song_info.album_name, g_wSongAlbum);
                            35438 ; 1543 |                    song_info.unicode = song_info.unicode | 0x00000004;
                            35439 ; 1544 |                }
                            35440 ; 1545 |                else
                            35441 ; 1546 |                {
                            35442 ; 1547 |                    TrimPackedString(g_wSongAlbum);
                            35443 ; 1548 |                    packed_strcpy((_packed BYTE *)song_info.album_name, (_packed BYTE *)g_wSongAlbum);
                            35444 ; 1549 |                }
                            35445 ; 1550 |
                            35446 ; 1551 |                if (g_wSongGenre[0] != 0)
                            35447 ; 1552 |                {
                            35448 ; 1553 |                    TrimPackedString(g_wSongGenre);
                            35449 ; 1554 |                    packed_strcpy((_packed BYTE *)song_info.genre_name, (_packed BYTE *)g_wSongGenre);
                            35450 ; 1555 |                }
                            35451 ; 1556 |                else
                            35452 ; 1557 |                {
                            35453 ; 1558 |                    packed_strcpy((_packed BYTE *)song_info.genre_name, genre);
                            35454 ; 1559 |                }
                            35455 ; 1560 |
                            35456 ; 1561 |
                            35457 ; 1562 |                if      (g_wSongTitle[0] < 65536)
                            35458 ; 1563 |                {
                            35459 ; 1564 |                    TrimUnicodeString(g_wSongTitle);
                            35460 ; 1565 |                    strcpy(song_info.song_name, g_wSongTitle);
                            35461 ; 1566 |                    if (!strlen(song_info.song_name)) {
                            35462 ; 1567 |                        // if the string length is zero then check if LFN or SFN is present.
                            35463 ; 1568 |                        if (!strlen(song_info.dir_name)) {
                            35464 ; 1569 |                            packed_strcpy((_packed BYTE *)song_info.song_name, (_packed BYTE *)g_shortname);
                            35465 ; 1570 |                        }
                            35466 ; 1571 |                        else {
                            35467 ; 1572 |                            strcpy(song_info.song_name, song_info.dir_name);
                            35468 ; 1573 |                            song_info.unicode = song_info.unicode | 0x0000040;
                            35469 ; 1574 |                        }
                            35470 ; 1575 |                    }
                            35471 ; 1576 |                    else {
                            35472 ; 1577 |                        song_info.unicode = song_info.unicode | 0x0000040;
                            35473 ; 1578 |                    }
                            35474 ; 1579 |                }
                            35475 ; 1580 |                else
                            35476 ; 1581 |                {
                            35477 ; 1582 |                    TrimPackedString(g_wSongTitle);
                            35478 ; 1583 |                    packed_strcpy((_packed BYTE *)song_info.song_name, (_packed BYTE *)g_wSongTitle);
                            35479 ; 1584 |                    if (!packed_strlen((_packed BYTE *)song_info.song_name)) {
                            35480 ; 1585 |                        // if the string length is zero then check if LFN or SFN is present.
                            35481 ; 1586 |                        if (!strlen(song_info.dir_name)) {
                            35482 ; 1587 |                            packed_strcpy((_packed BYTE *)song_info.song_name, (_packed BYTE *)g_shortname);
                            35483 ; 1588 |                        }
                            35484 ; 1589 |                        else {
                            35485 ; 1590 |                            strcpy(song_info.song_name, song_info.dir_name);
                            35486 ; 1591 |                            song_info.unicode = song_info.unicode | 0x0000040;
                            35487 ; 1592 |                        }
                            35488 ; 1593 |                    }
                            35489 ; 1594 |                }
                            35490 ; 1595 |
                            35491 ; 1596 |                if(g_wSongYear[0] != 0)
                            35492 ; 1597 |                {
                            35493 ; 1598 |                    year = 0;
                            35494 ; 1599 |                    temp_conversion = g_wSongYear[0];
                            35495 ; 1600 |                    for (i=0; i<3; i++)
                            35496 ; 1601 |                    {
                            35497 ; 1602 |                        year = year + ((temp_conversion & 0x0000ff)-48); //perform hex range shift
                            35498 ; 1603 |                        year = year * 10;
                            35499 ; 1604 |                        temp_conversion = temp_conversion >> 8;
                            35500 ; 1605 |                    }
                            35501 ; 1606 |
                            35502 ; 1607 |                    temp_conversion = g_wSongYear[1] & 0x0000ff;
                            35503 ; 1608 |                    year = year + (temp_conversion-48); //perform hex range shift
                            35504 ; 1609 |
                            35505 ; 1610 |                    song_info.year = year;
                            35506 ; 1611 |                }
                            35507 ; 1612 |                else
                            35508 ; 1613 |                    song_info.year = UNKNOWN_YEAR_CODE;
                            35509 ; 1614 |            }
                            35510 ; 1615 |            g_file_time = 0;
                            35511 ; 1616 |            g_file_time |= g_dirdate.Day;
                            35512 ; 1617 |            g_file_time |= g_dirdate.Year << 12;
                            35513 ; 1618 |            g_file_time |= g_dirdate.Month << 6;
                            35514 ; 1619 |            packed_strcpy((_packed BYTE *)song_info.path_name, (_packed BYTE *)g_CurrentSongName);
                            35515 ; 1620 |            song_info.track_number = g_wSongTrackNum;
                            35516 ; 1621 |            //call this API to add the song entry in to music library.
                            35517 ; 1622 |            //ML_AddEntryToLibrary(&song_info, g_option);
                            35518 ; 1623 |            ML_AddEntryToLibrary(iDevice, &song_info, g_option);
                            35519 ; 1624 |            bResume = FALSE;
                            35520 ; 1625 |        }
                            35521 ; 1626 |    }
                            35522 ; 1627 |#endif //_FOLDER_BROWSE_
                            35523 ; 1628 |}
                            35524 ; 1629 |#endif
                            35525 ; 1630 |
                            35526 ; 1631 |
                            35527 ; 1632 |
                            35528 ; 1633 |///////////////////////////////////////////////////////////////////////
                            35529 ; 1634 |//! \brief
                            35530 ; 1635 |//!
                            35531 ; 1636 |//! \fntype Function
                            35532 ; 1637 |//!
                            35533 ; 1638 |//! \param[in]
                            35534 ; 1639 |//!
                            35535 ; 1640 |//! \return
                            35536 ; 1641 |//!
                            35537 ; 1642 |///////////////////////////////////////////////////////////////////////
                            35538 ; 1643 |#ifdef _FOLDER_BROWSE_
                            35539 ; 1644 |_reentrant RETCODE AddDirToLibrary(INT iDrive, INT iDirDepth)
                            35540 ; 1645 |{
                            35541 
                            35546 FAddDirToLibrary:
P:0778 055F7C         2 427635547         movec   ssh,y:(r7)+
P:0779 3F0700         2 427835550         move    #7,n7
P:077A 000000         2 428035551         nop
P:077B 204F00         2 428235552         move    (r7)+n7
                            35564 
                            35565 ; 1646 |    ML_DIRINFO_T    *ptDirInfo;
                            35566 ; 1647 |    INT i;
                            35567 
P:077C 77F400 FFFFFA  3 428535569         move    #-6,n7
P:077E 000000         2 428735570         nop
P:077F 5D6F00         4 429135571         move    b1,y:(r7+n7)
P:0780 77F400 FFFFF9  3 429435574         move    #-7,n7
P:0782 000000         2 429635575         nop
P:0783 5C6F00         4 430035576         move    a1,y:(r7+n7)
                            35579 
                            35580 ; 1648 |
                            35581 ; 1649 |        ((int*)TempPath)[0]=0x002e2e;//change dir to one level up(..).
                            35582 
P:0784 51F400 002E2E  3 430335584         move    #11822,b0
P:0786 597000 rrrrrr  3 430635585         move    b0,y:FTempPath
                            35586 
                            35587 ; 1650 |        Chdir((_packed char*)TempPath);
                            35588 
P:0788 60F400 rrrrrr  3 430935590         move    #FTempPath,r0
P:078A 77F400 FFFFFB  3 431235591         move    #-5,n7
P:078C 000000         2 431435592         nop
P:078D 686F00         4 431835593         move    r0,y:(r7+n7)
P:078E 0BF080 rrrrrr  6 432435594         jsr     FChdir
                            35595 
                            35596 ; 1651 |
                            35597 ; 1652 |    if ((iDrive == 0) || (iDrive == 1))
                            35598 
P:0790 77F400 FFFFF9  3 432735600         move    #-7,n7
P:0792 000000         2 432935601         nop
P:0793 5EEF00         4 433335602         move    y:(r7+n7),a
P:0794 200003         2 433535603         tst     a
P:0795 0AF0AA rrrrrr  6 434135604         jeq     L246
P:0797 200009         2 434335605         tfr     a,b
P:0798 47F400 000001  3 434635606         move    #>1,y1
P:079A 20007D         2 434835607         cmp     y1,b
P:079B 0AF0A2 rrrrrr  6 435435608         jne     L258
                            35609 
                            35610 ; 1653 |    {
                            35611 ; 1654 |        if ((((INT *)DirPath)[1] != 0x454641) || (((INT *)DirPath)[2] != 0x545341))   // no AFEAST
                            35612 
P:079D 5FF000 rrrrrr  3 435735614 L246:   move    y:FDirPath+1,b
P:079F 46F400 454641  3 436035615         move    #4539969,y0
P:07A1 20005D         2 436235616         cmp     y0,b
P:07A2 0AF0A2 rrrrrr  6 436835617         jne     L247
P:07A4 5FF000 rrrrrr  3 437135618         move    y:FDirPath+2,b
P:07A6 47F400 545341  3 437435619         move    #5526337,y1
P:07A8 20007D         2 437635620         cmp     y1,b
P:07A9 0AF0AA rrrrrr  6 438235621         jeq     L258
                            35622 
                            35623 ; 1655 |        {
                            35624 ; 1656 |                        ML_DIRINFO_T    *ptDirInfo;
                            35625 
                            35627 L247:
                            35629 
                            35630 ; 1657 |                        int iCurrent = iDirDepth;
                            35631 
P:07AB 77F400 FFFFFA  3 438535637         move    #-6,n7
P:07AD 000000         2 438735638         nop
P:07AE 5DEF00         4 439135639         move    y:(r7+n7),b1
P:07AF 77F400 FFFFFC  3 439435641         move    #-4,n7
P:07B1 000000         2 439635642         nop
P:07B2 5D6F00         4 440035643         move    b1,y:(r7+n7)
                            35646 
                            35647 ; 1658 |                        
                            35648 ; 1659 |                        while( TRUE )
                            35649 
P:07B3 46F400 00002F  3 440335651 L248:   move    #>47,y0
P:07B5 56F400 000001  3 440635652         move    #>1,a
                            35653 
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page 134

M:ADDR CODE           CYCLES LINE SOURCELINE
                            35654 ; 1660 |                        {
                            35655 ; 1661 |                                if( iCurrent == 0 || g_tDirInfoBuffer[iCurrent-1].u4Added == TRUE )
                            35656 
P:07B7 77F400 FFFFFC  3 440935658 L249:   move    #-4,n7
P:07B9 000000         2 441135659         nop
P:07BA 5FEF00         4 441535660         move    y:(r7+n7),b
P:07BB 20000B         2 441735661         tst     b
P:07BC 0AF0AA rrrrrr  6 442335662         jeq     L256
P:07BE 21E500         2 442535663         move    b,x1
P:07BF 2000E8         2 442735664         mpy     x1,y0,b
P:07C0 20002A         2 442935665         asr     b
P:07C1 213E00         2 443135666         move    b0,n6
P:07C2 66F400 rrrrrr  3 443435667         move    #Fg_tDirInfoBuffer-47,r6
P:07C4 000000         2 443635668         nop
P:07C5 4FEE00         4 444035669         move    y:(r6+n6),y1
P:07C6 0114C8         2 444235670         mpy     y1,#20,b
P:07C7 47F400 00000F  3 444535671         move    #>$F,y1
P:07C9 20007E         2 444735672         and     y1,b
P:07CA 21AF00         2 444935673         move    b1,b
P:07CB 2A0000         2 445135674         move    #0,a2
P:07CC 2B0000         2 445335675         move    #0,b2
P:07CD 20000D         2 445535676         cmp     a,b
P:07CE 0AF0AA rrrrrr  6 446135677         jeq     L256
                            35678 
                            35679 ; 1662 |                                        break;
                            35680 ; 1663 |                                iCurrent = iCurrent - 1;
                            35681 
P:07D0 5FEF00         4 446535683         move    y:(r7+n7),b
P:07D1 20001C         2 446735684         sub     a,b
                            35687 
                            35688 ; 1664 |                                if( iCurrent > 0 )
                            35689 
P:07D2 5D6F00         4 447135691         move    b1,y:(r7+n7)
P:07D3 0AF0AF rrrrrr  6 447735694         jle     L249
P:07D5 77F400 FFFFFB  3 448035695         move    #-5,n7
P:07D7 000000         2 448235696         nop
P:07D8 68EF00         4 448635697         move    y:(r7+n7),r0
                            35698 
                            35699 ; 1665 |                                        Chdir((_packed char*)TempPath);
                            35700 
P:07D9 0BF080 rrrrrr  6 449235702         jsr     FChdir
P:07DB 0AF080 rrrrrr  6 449835704         jmp     L248
                            35705 
                            35706 ; 1666 |                        }
                            35707 ; 1667 |
                            35708 ; 1668 |                        while( iCurrent <= iDirDepth )
                            35709 ; 1669 |                        {
                            35710 ; 1670 |                                ptDirInfo = &g_tDirInfoBuffer[iCurrent];
                            35711 
                            35713 L250:
P:07DD 21A600         2 450035716         move    b1,y0
P:07DE 44F400 00002F  3 450335717         move    #>47,x0
P:07E0 2000D0         2 450535718         mpy     y0,x0,a
P:07E1 200022         2 450735719         asr     a
P:07E2 211D00         2 450935720         move    a0,n5
P:07E3 77F400 FFFFFD  3 451235721         move    #-3,n7
P:07E5 000000         2 451435722         nop
P:07E6 7D6F00         4 451835723         move    n5,y:(r7+n7)
P:07E7 65F400 rrrrrr  3 452135724         move    #Fg_tDirInfoBuffer,r5
P:07E9 000000         2 452335725         nop
P:07EA 204D00         2 452535726         move    (r5)+n5
P:07EB 22B600         2 452735727         move    r5,r6
                            35729 
                            35730 ; 1671 |                                PathFormation((_packed BYTE *)ptDirInfo->u24PathName,TempPathArray,iCurrent+1);
                            35731 
P:07EC 3E0400         2 452935733         move    #4,n6
P:07ED 77F400 FFFFFE  3 453235734         move    #-2,n7
P:07EF 000000         2 453435735         nop
P:07F0 6E6F00         4 453835736         move    r6,y:(r7+n7)
P:07F1 044E10         4 454235737         lua     (r6)+n6,r0
P:07F2 77F400 FFFFFC  3 454535740         move    #-4,n7
P:07F4 000000         2 454735741         nop
P:07F5 5D6F00         4 455135742         move    b1,y:(r7+n7)
P:07F6 46F400 000001  3 455435743         move    #>1,y0
P:07F8 200058         2 455635744         add     y0,b
P:07F9 64F400 rrrrrr  3 455935747         move    #FTempPathArray,r4
P:07FB 045FA0         2 456135748         movec   m0,n7
P:07FC 000000         2 456335749         nop
P:07FD 5D6F00         4 456735750         move    b1,y:(r7+n7)
P:07FE 21AE00         2 456935751         move    b1,a
P:07FF 0BF080 rrrrrr  6 457535752         jsr     FPathFormation
P:0801 77F400 FFFFFE  3 457835753         move    #-2,n7
P:0803 000000         2 458035754         nop
P:0804 68EF00         4 458435755         move    y:(r7+n7),r0
P:0805 77F400 FFFFFD  3 458735758         move    #-3,n7
P:0807 000000         2 458935759         nop
P:0808 7CEF00         4 459335760         move    y:(r7+n7),n4
P:0809 64F400 rrrrrr  3 459635761         move    #FTempPathArray,r4
                            35762 
                            35763 ; 1672 |                                if( iCurrent > 0 && ML_GetLFN(g_tDirInfoBuffer[iCurrent-1].dwFastKey, ptDirInfo->iDirRecord, g_u24DirName) == PLAYLIST_SUCCESS )
                            35764 
P:080B 77F400 FFFFFC  3 459935766         move    #-4,n7
P:080D 000000         2 460135767         nop
P:080E 5EEF00         4 460535768         move    y:(r7+n7),a
P:080F 200003         2 460735769         tst     a
P:0810 0AF0AF rrrrrr  6 461335772         jle     L252
P:0812 64F400 rrrrrr  3 461635775         move    #Fg_tDirInfoBuffer-45,r4
P:0814 000000         2 461835776         nop
P:0815 044C16         4 462235777         lua     (r4)+n4,r6
P:0816 000000         2 462435778         nop
P:0817 205E00         2 462635779         move    (r6)+
P:0818 5ED600         2 462835780         move    y:(r6)-,a
P:0819 58E600         2 463035781         move    y:(r6),a0
P:081A 205800         2 463235782         move    (r0)+
P:081B 5FD000         2 463435783         move    y:(r0)-,b
P:081C 60F400 rrrrrr  3 463735786         move    #Fg_u24DirName,r0
P:081E 0BF080 rrrrrr  6 464335787         jsr     FML_GetLFN
P:0820 77F400 FFFFFE  3 464635788         move    #-2,n7
P:0822 000000         2 464835789         nop
P:0823 68EF00         4 465235790         move    y:(r7+n7),r0
P:0824 64F400 rrrrrr  3 465535793         move    #FTempPathArray,r4
P:0826 200003         2 465735794         tst     a
P:0827 77F400 FFFFFC  3 466035795         move    #-4,n7
P:0829 000000         2 466235796         nop
P:082A 5EEF00         4 466635797         move    y:(r7+n7),a
P:082B 0AF0A2 rrrrrr  6 467235800         jne     L252
                            35801 
                            35802 ; 1673 |                                {
                            35803 ; 1674 |                                        ptDirInfo->u8Unicode = BITCHK_SONG_UNICODE;
                            35804 
P:082D 221600         2 467435806         move    r0,r6
P:082E 5FE000         2 467635807         move    y:(r0),b
P:082F 46F400 FFFF00  3 467935808         move    #$FFFF00,y0
P:0831 20005E         2 468135809         and     y0,b
P:0832 46F400 000040  3 468435810         move    #>$40,y0
P:0834 20005A         2 468635811         or      y0,b
P:0835 5D6600         2 468835812         move    b1,y:(r6)
                            35813 
                            35814 ; 1675 |                                }
                            35815 
P:0836 0AF080 rrrrrr  6 469435817         jmp     L253
P:0838 77F400 FFFFFE  3 469735818 L252:   move    #-2,n7
P:083A 000000         2 469935819         nop
P:083B 686F00         4 470335820         move    r0,y:(r7+n7)
                            35823 
                            35824 ; 1676 |                                else
                            35825 ; 1677 |                                {
                            35826 ; 1678 |                                        PathFormationPartial((_packed BYTE *)g_u24DirName,TempPathArray,iCurrent);
                            35827 
P:083C 60F400 rrrrrr  3 470635829         move    #Fg_u24DirName,r0
P:083E 0BF080 rrrrrr  6 471235830         jsr     FPathFormationPartial
P:0840 77F400 FFFFFE  3 471535832         move    #-2,n7
P:0842 000000         2 471735833         nop
P:0843 68EF00         4 472135834         move    y:(r7+n7),r0
P:0844 64F400 rrrrrr  3 472435837         move    #FTempPathArray,r4
                            35838 
                            35839 ; 1679 |                                        ptDirInfo->u8Unicode = BITCHK_SONG_ALLASCII;
                            35840 
P:0846 221500         2 472635842         move    r0,r5
P:0847 5FE000         2 472835843         move    y:(r0),b
P:0848 44F400 FFFF00  3 473135844         move    #$FFFF00,x0
P:084A 20004E         2 473335845         and     x0,b
P:084B 5D6500         2 473535846         move    b1,y:(r5)
                            35847 
                            35848 ; 1680 |                                }
                            35849 ; 1681 |
                            35850 ; 1682 |                                ML_AddDirEntryToLibrary(iDrive, ptDirInfo, ADD_OPTION_DIR);
                            35851 
P:084C 77F400 FFFFF9  3 473835853 L253:   move    #-7,n7
P:084E 000000         2 474035854         nop
P:084F 5EEF00         4 474435855         move    y:(r7+n7),a
P:0850 57F400 000003  3 474735856         move    #>3,b
P:0852 0BF080 rrrrrr  6 475335857         jsr     FML_AddDirEntryToLibrary
P:0854 045FA0         2 475535859         movec   m0,n7
P:0855 000000         2 475735860         nop
P:0856 5FEF00         4 476135861         move    y:(r7+n7),b
P:0857 44F400 000001  3 476435862         move    #>1,x0
P:0859 64F400 rrrrrr  3 476735863         move    #FTempPathArray,r4
                            35865 
                            35866 ; 1683 |                                iCurrent++;
                            35867 ; 1684 |                                if( iCurrent > 1 )
                            35868 
P:085B 77F400 FFFFFC  3 477035870         move    #-4,n7
P:085D 000000         2 477235871         nop
P:085E 5F6F00         4 477635872         move    b,y:(r7+n7)
P:085F 20004D         2 477835873         cmp     x0,b
P:0860 0AF0AF rrrrrr  6 478435876         jle     L256
                            35877 
                            35878 ; 1685 |                                {
                            35879 ; 1686 |                                        //build the relative path instead of absolute path
                            35880 ; 1687 |                                        PathFormationPartial(TempPath,TempPathArray,iCurrent-1);
                            35881 
P:0862 5EEF00         4 478835883         move    y:(r7+n7),a
P:0863 200044         2 479035884         sub     x0,a
P:0864 60F400 rrrrrr  3 479335885         move    #FTempPath,r0
P:0866 0BF080 rrrrrr  6 479935886         jsr     FPathFormationPartial
P:0868 46F400 00002F  3 480235887         move    #>47,y0
                            35888 
                            35889 ; 1688 |                                        ChdirFromOffset((_packed char*)TempPath,g_tDirInfoBuffer[iCurrent-1].iDirRecord);
                            35890 
P:086A 60F400 rrrrrr  3 480535892         move    #FTempPath,r0
P:086C 77F400 FFFFFC  3 480835893         move    #-4,n7
P:086E 000000         2 481035894         nop
P:086F 4FEF00         4 481435895         move    y:(r7+n7),y1
P:0870 2000B8         2 481635896         mpy     y1,y0,b
P:0871 20002A         2 481835897         asr     b
P:0872 213E00         2 482035898         move    b0,n6
P:0873 66F400 rrrrrr  3 482335899         move    #Fg_tDirInfoBuffer-46,r6
P:0875 000000         2 482535900         nop
P:0876 5EEE00         4 482935901         move    y:(r6+n6),a
P:0877 0BF080 rrrrrr  6 483535902         jsr     FChdirFromOffset
P:0879 77F400 FFFFFC  3 483835904 L256:   move    #-4,n7
P:087B 000000         2 484035905         nop
P:087C 5FEF00         4 484435906         move    y:(r7+n7),b
P:087D 77F400 FFFFFA  3 484735907         move    #-6,n7
P:087F 000000         2 484935908         nop
P:0880 5EEF00         4 485335909         move    y:(r7+n7),a
P:0881 20000D         2 485535910         cmp     a,b
P:0882 0AF0AF rrrrrr  6 486135913         jle     L250
                            35916 
                            35917 ; 1689 |                                }
                            35918 ; 1690 |                        }
                            35919 ; 1691 |                }
                            35920 ; 1692 |    }
                            35921 
                            35923 
                            35924 ; 1693 |
                            35925 ; 1694 |    return SUCCESS;
                            35926 
P:0884 200013         2 486335928 L258:   clr     a   
                            35929 
                            35930 ; 1695 |}
                            35931 
P:0885 77F400 FFFFF8  3 486635933         move    #-8,n7
P:0887 000000         2 486835934         nop
P:0888 05EF7C         4 487235935         movec   y:(r7+n7),ssh
P:0889 204F00         2 487435937         move    (r7)+n7
P:088A 00000C         4 487835939         rts
                            35943 
                            35944 ; 1696 |#endif  // _FOLDER_BROWSE_
                            35945 ; 1697 |
                            35946 ; 1698 |///////////////////////////////////////////////////////////////////////
                            35947 ; 1699 |//! \brief  Load intermediate memory
                            35948 ; 1700 |//!
                            35949 ; 1701 |//! \fntype Function
                            35950 ; 1702 |//!
                            35951 ; 1703 |//! \param[in]
                            35952 ; 1704 |//!
                            35953 ; 1705 |//! \return
                            35954 ; 1706 |//!
                            35955 ; 1707 |///////////////////////////////////////////////////////////////////////
                            35956 ; 1708 |_reentrant void ML_BuildingEngineInitPlaylist3For1stPass(void)
                            35957 ; 1709 |{
                            35958 
                            35963 FML_BuildingEngineInitPlaylist3For1stPass:
                            35964 
                            35965 ; 1710 |#pragma asm
                            35966 
P:088B                      35970     org     p,".ptextplaylist3init":
                            35971     extern  F_lc_u_e_MusicLibBuild_X
                            35972     extern  F_lc_u_b_MusicLibBuild_X
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                                                                                                                                                       Page 135

M:ADDR CODE           CYCLES LINE SOURCELINE
                            35973     extern  SysLoadResource
                            35974 
                            35975     ; Load the MusicLib genre table into X memory
P:088B 44F400 0003CF  3 488135976     move    #>RSRC_MUSICLIB_BUILD_GENRE_TABLE,x0                        ; Resource number
P:088D 45F400 000002  3 488435977     move    #>RSRC_TYPE_DATA,x1                                         ; Resource type is data
P:088F 47F400 rrrrrr  3 488735978     move    #>(F_lc_u_e_MusicLibBuild_X-F_lc_u_b_MusicLibBuild_X)*3,y1  ; overlay area sz
P:0891 46F400 rrrrrr  3 489035979     move    #>F_lc_u_b_MusicLibBuild_X,y0                               ; Address of the overlay area
P:0893 54F400 800000  3 489335980     move    #TARGET_MEM_X,a1                                            ; Overlay area is in X memory
P:0895 0BF080 rrrrrr  6 489935981     jsr     SysLoadResource
                            35982 
                            35983 ; 1724 |#pragma endasm
                            35984 ; 1725 |}
                            35985 
P:0897 00000C         4 490335987         rts
                            35989 
                            35990 ; 1726 |
                            35991 ; 1727 |///////////////////////////////////////////////////////////////////////
                            35992 ; 1728 |//! \brief  Load intermediate memory
                            35993 ; 1729 |//!
                            35994 ; 1730 |//! \fntype Function
                            35995 ; 1731 |//!
                            35996 ; 1732 |//! \param[in]
                            35997 ; 1733 |//!
                            35998 ; 1734 |//! \return
                            35999 ; 1735 |//!
                            36000 ; 1736 |///////////////////////////////////////////////////////////////////////
                            36001 ; 1737 |_reentrant void ML_BuildingEngineInitPlaylist3For2ndPass(void)
                            36002 ; 1738 |{
                            36003 
                            36008 FML_BuildingEngineInitPlaylist3For2ndPass:
                            36009 
                            36010 ; 1739 |#pragma asm
                            36011 
P:0898                      36015     org     p,".ptextplaylist3init":
                            36016     extern  F_lc_u_e_MusicLibBuildFlushMem_X
                            36017     extern  F_lc_u_b_MusicLibBuildFlushMem_X
                            36018     extern  SysLoadResource
                            36019 
                            36020     ; Load the MusicLib flush memory into X memory
P:0898 44F400 0003D0  3 490636021     move    #>RSRC_MUSICLIB_BUILD_FLUSH_MEM,x0                                          ; Resource number
P:089A 45F400 000002  3 490936022     move    #>RSRC_TYPE_DATA,x1                                                         ; Resource type is data
P:089C 47F400 rrrrrr  3 491236023     move    #>(F_lc_u_e_MusicLibBuildFlushMem_X-F_lc_u_b_MusicLibBuildFlushMem_X)*3,y1  ; overlay area sz
P:089E 46F400 rrrrrr  3 491536024     move    #>F_lc_u_b_MusicLibBuildFlushMem_X,y0                                       ; Address of the overlay area
P:08A0 54F400 800000  3 491836025     move    #TARGET_MEM_X,a1                                                            ; Overlay area is in X memory
P:08A2 0BF080 rrrrrr  6 492436026     jsr     SysLoadResource
                            36027 
                            36028 ; 1753 |#pragma endasm
                            36029 ; 1754 |}
                            36030 
P:08A4 00000C         4 492836032         rts
                            36034 
                            36035 ; 1755 |
                            36036 ; 1756 |////////////////////////////////////////////////////////////////////////////////
                            36037 ; 1757 |// End of file
                            36038 ; 1758 |////////////////////////////////////////////////////////////////////////////////
                            36039 ; 1759 |//! @}
                            36040 
                            36044 
                            36048 
Y:0000                      36049         org     y,".ybssplaylist3init",bss:
                            36050 FTempPathArray:
Y:0000                      36051         ds      40
   |   RESERVED                   
Y:0027
                            36062 FpHighestNumber:
Y:0028 RESERVED             36063         ds      1
Y:0028
                            36068 Fg_recordfile_path:
Y:0029                      36069         ds      4
   |   RESERVED                   
Y:002C
                            36078 Fg_dirtime:
Y:002D                      36079         ds      3
   |   RESERVED                   
Y:002F
                            36084 Fsong_info:
Y:0030                      36085         ds      251
   |   RESERVED                   
Y:012A
                            36090 Fg_dirdate:
Y:012B                      36091         ds      3
   |   RESERVED                   
Y:012D
                            36101 FTempPath:
Y:012E                      36102         ds      35
   |   RESERVED                   
Y:0150
                            36114 
X:0000                      36115         org     x,".xbssplaylist3init",bss:
                            36116 Fg_AddToLibraryData:
X:0000                      36117         ds      240
   |   RESERVED                   
X:00EF
                            36142 
Y:0151                      36143         org     y,".ybssplaylist3init",bss:
                            36144 FDirPath:
Y:0151                      36145         ds      35
   |   RESERVED                   
Y:0173
                            36152 Fg_iTotalPath:
Y:0174 RESERVED             36153         ds      1
Y:0174
                            36170 Fg_file_time:
Y:0175 RESERVED             36171         ds      1
Y:0175
                            36174 
                            36175         extern  Rdiv_iii, SysCallFunction, SysLoadFATWrite
                            36176         extern  SysUnLoadFATWrite, SysWaitOnEvent, packed_get, packed_set
                            36177         extern  packed_strcat, packed_strcmp, packed_strcpy, packed_strlen
                            36178         extern  strlen, FAddSongToLibrary, FBuildFMFilePath
                            36179         extern  FBuildLINEINFilePath, FBuildVoiceFilePath, FChdir
                            36180         extern  FChdirFromOffset, FFclose, FFindFirst, FFindNext, FGetChar
                            36181         extern  FGetRootdirkey, FGetVoiceFastKey, FML_AddDirEntryToLibrary
                            36182         extern  FML_ChOnTheGo, FML_FlushLibraryToFlash
                            36183         extern  FML_FlushSortedListToFlash, FML_FlushVoiceToFlash
                            36184         extern  FML_GetLFN, FML_InitLibraryParameter
                            36185         extern  FML_InitVoiceParameter, FML_LoadOnTheGo
                            36186         extern  FML_MergeLibraryTables, FML_SaveOnTheGo
                            36187         extern  FML_UpdateNewMusic, FML_UpdateOnTheGo
                            36188         extern  FPlaylist_GetRootString, FPutChar, FSaveSortedRecords
                            36189         extern  FSysPostMessage, FSysSpeedClockFree, FSysSpeedIncrease
                            36190         extern  y:FbResume, y:FbSystemInit, y:Fg_is_SD_inserted
                            36191         extern  y:Fg_tDirInfoBuffer, y:Fg_u24DirName
                            36192         extern  y:Fg_wCurrentDirDevId, Fsdmd_CompareHash, Fsdmd_UpdateHash
                            36193         extern  Fwrite_detection_access
                            36194 
                            36195         global  FAddDirToLibrary, FAddSingleFolderSongToLibrary
                            36196         global  FBuildFMFilePath_Funclet, FBuildLINEINFilePath_Funclet
                            36197         global  FBuildVoiceFilePath_Funclet, FDirPath
                            36198         global  FGetVoiceFastKey_Funclet, FIsMusicPath
                            36199         global  FML_BuildingEngineInitPlaylist3For1stPass
                            36200         global  FML_BuildingEngineInitPlaylist3For2ndPass
                            36201         global  FML_building_engine_init_playlist3
                            36202         global  FML_merging_engine_init_playlist3
                            36203         global  FML_voice_build_engine_init_playlist3, FPathFormation
                            36204         global  FPathFormationPartial, FPlaylist_BuildMusicLib
                            36205         global  FPlaylist_GetFileExtention, FPlaylist_IsValidAudioFile
                            36206         global  FPlaylist_PopulateMusicLib, FPlaylist_ValidateEntry
                            36207         global  FSD_build_success, FSD_state_change, FTempPath
                            36208         global  FTempPathArray, FTrimPackedString, FTrimUnicodeString
                            36209         global  Fg_AddToLibraryData, Fg_FileKey, Fg_MusicAdd_FilePath
                            36210         global  Fg_NumAddToLibrary, Fg_Rebuild, Fg_SortByTracknum
                            36211         global  Fg_build_fm_file, Fg_build_linein_file
                            36212         global  Fg_build_voice_file, Fg_dirdate, Fg_dirtime, Fg_dwFastKey
                            36213         global  Fg_dwFmFastKey, Fg_dwLineinFastKey, Fg_dwVoiceFastKey
                            36214         global  Fg_file_time, Fg_iHighestFMNumber, Fg_iHighestLineNumber
                            36215         global  Fg_iHighestVoiceNumber, Fg_iNumStoredSFN, Fg_iRecordNum
                            36216         global  Fg_iTotalDir, Fg_iTotalFiles, Fg_iTotalPath, Fg_option
                            36217         global  Fg_recordfile_path, Fg_total_song, Fg_unicode
                            36218         global  FpHighestNumber, Fsong_info
                            36219 
                            36220         local   L3, L4, L5, L7, L8, L10, L11, L12, L49, L50, L52, L53, L55
                            36221         local   L56, L59, L61, L62, L63, L65, L105, L106, L107, L108, L109
                            36222         local   L110, L112, L113, L116, L118, L119, L120, L121, L122, L123
                            36223         local   L125, L130, L131, L133, L150, L151, L152, L153, L154, L155
                            36224         local   L156, L161, L162, L163, L164, L201, L202, L203, L204, L205
                            36225         local   L206, L209, L210, L211, L212, L214, L215, L217, L218, L219
                            36226         local   L220, L223, L224, L225, L226, L227, L228, L229, L230, L231
                            36227         local   L239, L240, L242, L243, L244, L245, L246, L247, L248, L249
                            36228         local   L250, L252, L253, L256, L258
                            36229 
                            36230         calls   "AddDirToLibrary", "Chdir", "ChdirFromOffset"
                            36231         calls   "AddDirToLibrary", "ML_AddDirEntryToLibrary", "ML_GetLFN"
                            36232         calls   "AddDirToLibrary", "PathFormation", "PathFormationPartial"
                            36233         calls   "AddSingleFolderSongToLibrary", "Fclose", "FindFirst"
                            36234         calls   "AddSingleFolderSongToLibrary", "FindNext"
                            36235         calls   "AddSingleFolderSongToLibrary", "Playlist_ValidateEntry"
                            36236         calls   "AddSingleFolderSongToLibrary", "SysCallFunction"
                            36237         calls   "BuildFMFilePath_Funclet", "AddSingleFolderSongToLibrary"
                            36238         calls   "BuildFMFilePath_Funclet", "Chdir", "ML_FlushVoiceToFlash"
                            36239         calls   "BuildFMFilePath_Funclet", "ML_InitVoiceParameter"
                            36240         calls   "BuildFMFilePath_Funclet", "ML_voice_build_engine_init_playlist3"
                            36241         calls   "BuildLINEINFilePath_Funclet", "AddSingleFolderSongToLibrary"
                            36242         calls   "BuildLINEINFilePath_Funclet", "Chdir"
                            36243         calls   "BuildLINEINFilePath_Funclet", "ML_FlushVoiceToFlash"
                            36244         calls   "BuildLINEINFilePath_Funclet", "ML_InitVoiceParameter"
                            36245         calls   "BuildLINEINFilePath_Funclet", "ML_voice_build_engine_init_playlist3"
                            36246         calls   "BuildVoiceFilePath_Funclet", "AddSingleFolderSongToLibrary"
                            36247         calls   "BuildVoiceFilePath_Funclet", "Chdir"
                            36248         calls   "BuildVoiceFilePath_Funclet", "ML_FlushVoiceToFlash"
                            36249         calls   "BuildVoiceFilePath_Funclet", "ML_InitVoiceParameter"
                            36250         calls   "BuildVoiceFilePath_Funclet", "ML_voice_build_engine_init_playlist3"
                            36251         calls   "GetVoiceFastKey_Funclet", "Chdir", "Fclose", "FindFirst"
                            36252         calls   "GetVoiceFastKey_Funclet", "FindNext", "packed_strcmp"
                            36253         calls   "IsMusicPath", "GetChar", "PutChar", "packed_strcmp"
                            36254         calls   "PathFormation", "Rdiv_iii", "packed_strcat"
                            36255         calls   "PathFormationPartial", "Rdiv_iii", "packed_strcat"
                            36256         calls   "Playlist_BuildMusicLib", "BuildFMFilePath"
                            36257         calls   "Playlist_BuildMusicLib", "BuildLINEINFilePath"
                            36258         calls   "Playlist_BuildMusicLib", "BuildVoiceFilePath"
                            36259         calls   "Playlist_BuildMusicLib", "GetRootdirkey"
                            36260         calls   "Playlist_BuildMusicLib", "GetVoiceFastKey"
                            36261         calls   "Playlist_BuildMusicLib", "ML_BuildingEngineInitPlaylist3For1stPass"
                            36262         calls   "Playlist_BuildMusicLib", "ML_BuildingEngineInitPlaylist3For2ndPass"
                            36263         calls   "Playlist_BuildMusicLib", "ML_ChOnTheGo"
                            36264         calls   "Playlist_BuildMusicLib", "ML_FlushSortedListToFlash"
                            36265         calls   "Playlist_BuildMusicLib", "ML_InitLibraryParameter"
                            36266         calls   "Playlist_BuildMusicLib", "ML_LoadOnTheGo"
                            36267         calls   "Playlist_BuildMusicLib", "ML_MergeLibraryTables"
                            36268         calls   "Playlist_BuildMusicLib", "ML_SaveOnTheGo"
                            36269         calls   "Playlist_BuildMusicLib", "ML_UpdateNewMusic"
                            36270         calls   "Playlist_BuildMusicLib", "ML_UpdateOnTheGo"
                            36271         calls   "Playlist_BuildMusicLib", "ML_building_engine_init_playlist3"
                            36272         calls   "Playlist_BuildMusicLib", "ML_merging_engine_init_playlist3"
                            36273         calls   "Playlist_BuildMusicLib", "Playlist_GetRootString"
                            36274         calls   "Playlist_BuildMusicLib", "Playlist_PopulateMusicLib"
                            36275         calls   "Playlist_BuildMusicLib", "SaveSortedRecords"
                            36276         calls   "Playlist_BuildMusicLib", "SysCallFunction"
                            36277         calls   "Playlist_BuildMusicLib", "SysLoadFATWrite"
                            36278         calls   "Playlist_BuildMusicLib", "SysPostMessage"
                            36279         calls   "Playlist_BuildMusicLib", "SysSpeedClockFree"
                            36280         calls   "Playlist_BuildMusicLib", "SysSpeedIncrease"
                            36281         calls   "Playlist_BuildMusicLib", "SysUnLoadFATWrite"
                            36282         calls   "Playlist_BuildMusicLib", "SysWaitOnEvent"
                            36283         calls   "Playlist_BuildMusicLib", "write_detection_access"
                            36284         calls   "Playlist_GetFileExtention", "packed_get", "packed_set"
                            36285         calls   "Playlist_GetFileExtention", "packed_strlen"
                            36286         calls   "Playlist_IsValidAudioFile", "Playlist_GetFileExtention"
                            36287         calls   "Playlist_IsValidAudioFile", "packed_get"
                            36288         calls   "Playlist_PopulateMusicLib", "AddDirToLibrary", "Chdir"
                            36289         calls   "Playlist_PopulateMusicLib", "ChdirFromOffset", "Fclose"
                            36290         calls   "Playlist_PopulateMusicLib", "FindFirst", "FindNext"
                            36291         calls   "Playlist_PopulateMusicLib", "IsMusicPath", "PathFormation"
                            36292         calls   "Playlist_PopulateMusicLib", "PathFormationPartial"
                            36293         calls   "Playlist_PopulateMusicLib", "Playlist_PopulateMusicLib"
                            36294         calls   "Playlist_PopulateMusicLib", "Playlist_ValidateEntry"
                            36295         calls   "Playlist_PopulateMusicLib", "Rdiv_iii", "SysCallFunction"
                            36296         calls   "Playlist_PopulateMusicLib", "packed_strcat"
                            36297         calls   "Playlist_PopulateMusicLib", "packed_strcpy"
                            36298         calls   "Playlist_ValidateEntry", "Playlist_IsValidAudioFile"
                            36299         calls   "TrimUnicodeString", "strlen"
                            36300 
