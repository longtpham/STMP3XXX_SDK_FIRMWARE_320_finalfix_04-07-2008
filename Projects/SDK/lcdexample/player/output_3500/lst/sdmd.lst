TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page   1
C:\STMP3XXX_SDK_FIRMWARE_320_finalfix\Projects\SDK\lcdexample\player\make\ccfd0b1b.src
M:ADDR CODE           CYCLES LINE SOURCELINE
                                1 ; TASKING DSP2410 C compiler v1.5r1 Build 208 SN 00100122
                                2 ; options: -OG -si -DPLAYER -DALL -DD3500 -DMMC -DLIION -DPL3_FB
                                3 ;          -DSTMP_BUILD_PLAYER -DPLAYER_BUILD -DPLAYER -DSTFM1000_LCD
                                4 ;          -DFULL_PLAYER_KERNEL -DDCDC_POWER_TRANSFER -DBACKLIGHT
                                5 ;          -DWMAAPI_NO_DRM -DREVB_ENGR_BD -DSED15XX_LCD -DSYNC_LYRICS
                                6 ;          -DTUNER_STFM1000 -DFM_EUROPE_REGION -DSD_USE_100KHZ_TUNING_GRID
                                7 ;          -DNEWSHINGYIH -DREAL_I2S_DATA -DFUNCLET
                                8 ;          -DMEDIA_DDI_COUNT_HIDDEN_SYSTEM_BLOCKS -DFMTUNER -DMP3_ENCODE
                                9 ;          -DCHKDSK -DFAT16 -DDEBUG -DDEVICE_3500 -DSDK2400 -DENGR_BD
                               10 ;          -DUSE_PLAYLIST3 -DBATTERY_TYPE_LI_ION -DBATTERY_CHARGE -w68 -w66
                               11 ;          -I..\output_3500\include
                               12 ;          -I..\..\..\..\..\Projects\sdk\lcdexample\Player
                               13 ;          -I..\..\..\..\..\Projects\sdk\lcdexample\Player\Menus -I..\..
                               14 ;          -I..\..\..\..\..\inc -I..\..\..\..\..\System\Common
                               15 ;          -I..\..\..\..\..\System\Common\symbols
                               16 ;          -I..\..\..\..\..\Projects\sdk\lcdexample\Player\Display
                               17 ;          -I..\..\..\..\..\Algorithms\DRM\janus\src\h
                               18 ;          -I..\..\..\..\..\FileSystem\Fat32\h
                               19 ;          -I..\..\..\..\..\FileSystem\Fat32\cmp\cmp_stdtype
                               20 ;          -I..\..\..\..\..\FileSystem\Fat32\cmp\cmp_debug
                               21 ;          -I..\..\..\..\..\FileSystem\Fat32\cmp\cmp_file_system
                               22 ;          -I..\..\..\..\..\DeviceDriver\Media\cmp\cmp_media_nand -I -I
                               23 ;          -I..\..\..\..\..\system\common\resourcemanager -I..\..\..\..\..\inc
                               24 ;          -I..\..\..\..\..\devicedriver\media\MediaTypeNAND\include
                               25 ;          -I..\..\..\..\..\devicedriver\media\MediaTypeNAND\DDI\DataDrive\include
                               26 ;          -I..\..\..\..\..\devicedriver\media\MediaTypeNAND\DDI\include
                               27 ;          -I..\..\..\..\..\devicedriver\media\MediaTypeNAND\HAL\include
                               28 ;          -I..\..\..\..\..\devicedriver\media\MediaTypeNAND\DDI\DataDrive
                               29 ;          -I..\..\..\..\..\devicedriver\media\ddildl\include
                               30 ;          -I..\..\..\..\..\FileSystem\Fat32\h
                               31 ;          -I..\..\..\..\..\FileSystem\Fat32\cmp\cmp_stdtype
                               32 ;          -I..\..\..\..\..\FileSystem\Fat32\cmp\cmp_debug
                               33 ;          -I..\..\..\..\..\FileSystem\Fat32\cmp\cmp_file_system
                               34 ;          -I..\..\..\..\..\DeviceDriver\Media\cmp\cmp_media_nand
                               35 ;          -I..\..\..\..\..\devicedriver\media\MediaTypeNAND\include
                               36 ;          -I..\..\..\..\..\devicedriver\media\MediaTypeNAND\DDI\Common\include
                               37 ;          -I..\..\..\..\..\devicedriver\media\MediaTypeNAND\DDI\include
                               38 ;          -I..\..\..\..\..\devicedriver\media\MediaTypeNAND\HAL\include
                               39 ;          -I..\..\..\..\..\devicedriver\media\MediaTypeNAND\DDI\Common
                               40 ;          -I..\..\..\..\..\devicedriver\media\MediaTypeNAND\include
                               41 ;          -I..\..\..\..\..\devicedriver\media\MediaTypeNAND\DDI\SystemDrive\include
                               42 ;          -I..\..\..\..\..\devicedriver\media\MediaTypeNAND\DDI\include
                               43 ;          -I..\..\..\..\..\devicedriver\media\MediaTypeNAND\HAL\include
                               44 ;          -I..\..\..\..\..\devicedriver\media\MediaTypeNAND\DDI\SystemDrive
                               45 ;          -I..\..\..\..\..\devicedriver\media\MediaTypeNAND\include
                               46 ;          -I..\..\..\..\..\devicedriver\media\MediaTypeNAND\DDI\Media\include
                               47 ;          -I..\..\..\..\..\devicedriver\media\MediaTypeNAND\DDI\include
                               48 ;          -I..\..\..\..\..\devicedriver\media\MediaTypeNAND\HAL\include
                               49 ;          -I..\..\..\..\..\devicedriver\media\MediaTypeNAND\DDI\Media
                               50 ;          -I..\..\..\..\..\devicedriver\media\include
                               51 ;          -I..\..\..\..\..\devicedriver\media\ddildl
                               52 ;          -I..\..\..\..\..\devicedriver\media\ddildl\include
                               53 ;          -I..\..\..\..\..\devicedriver\media\MediaTypeNAND\DDI\Common\include
                               54 ;          -I..\..\..\..\..\devicedriver\media\MediaTypeNAND\DDI\include
                               55 ;          -I..\..\..\..\..\DeviceDriver\Media\MediaTypeNAND\HAL
                               56 ;          -I..\..\..\..\..\DeviceDriver\Media\MediaTypeNAND\HAL\include
                               57 ;          -I..\..\..\..\..\DeviceDriver\Media\include
                               58 ;          -I..\..\..\..\..\DeviceDriver\Media\PortHIL\GPFlash\include
                               59 ;          -I..\..\..\..\..\DeviceDriver\Media\PortHIL\GPFlash
                               60 ;          -I..\..\..\..\..\devicedriver\media\ddildl
                               61 ;          -I..\..\..\..\..\devicedriver\media\ddildl\include
                               62 ;          -I..\..\..\..\..\libsource\sysserialnumber
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page   2

M:ADDR CODE           CYCLES LINE SOURCELINE
                               63 ;          -I..\..\..\..\..\devicedriver\media\MediaTypeMMC\DDI\include
                               64 ;          -I..\..\..\..\..\devicedriver\media\ddildl\include
                               65 ;          -I..\..\..\..\..\devicedriver\media\MediaTypeMMC\DDI\include
                               66 ;          -I..\..\..\..\..\devicedriver\media\MediaTypeMMC\DDI\Media
                               67 ;          -I..\..\..\..\..\devicedriver\media\MediaTypeMMC\HAL\include
                               68 ;          -I..\..\..\..\..\FileSystem\Fat32\h
                               69 ;          -I..\..\..\..\..\FileSystem\Fat32\cmp\cmp_stdtype
                               70 ;          -I..\..\..\..\..\FileSystem\Fat32\cmp\cmp_debug
                               71 ;          -I..\..\..\..\..\FileSystem\Fat32\cmp\cmp_file_system
                               72 ;          -I..\..\..\..\..\DeviceDriver\Media\cmp\cmp_media_nand
                               73 ;          -I..\..\..\..\..\DeviceDriver\Media\MediaTypeNAND\HAL\include
                               74 ;          -I..\..\..\..\..\System\MsgModules\Software\Effects\srswow
                               75 ;          -I..\..\..\..\..\System\Common\rtcaccess
                               76 ;          -I..\..\..\..\..\System\Common\playlist3
                               77 ;          -I..\..\..\..\..\System\Common\record
                               78 ;          -I..\..\..\..\..\System\Common\mp3filename
                               79 ;          -I..\..\..\..\..\FileSystem\chkdsk\include
                               80 ;          -I..\..\..\..\..\FileSystem\Fat32\h -DFULL_PLAYER_KERNEL
                               81 ;          -DSYNC_LYRICS -DMP3_ENCODE -DBATTERY_TYPE_LI_ION -Dk_opt_single_fat
                               82 ;          -DPL3_FB -g -O2 -R -Cs -DMS_ADPCM -DIMA_ADPCM -DWINDOWS_PCM
                               83 ;          -I..\..\..\..\..\System\MsgModules\Software\musiclib\ghdr
                               84 ;          -I..\..\..\..\..\devicedriver\display
                               85 ;          -I..\..\..\..\..\System\MsgModules\Hardware\Display -MmyL
                               86 
                               94 
                               95 ;         sdmd.c:
                               96 ; 1    |/*========================================================================================
                                  ========                                         MODULE DESCRIPTION
                               97 ; 2    |
                               98 ; 3    |==========================================================================================
                                  =========                               Perception Digital Confidential Proprietary
                               99 ; 4    |                               (c) Copyright Sigmatel Inc 2005, All Rights Reserved
                              100 ; 5    |
                              101 ; 6    |MODULE NAME: sdmd.c        AUTHOR:      CREATION DATE:02/02/2005
                              102 ; 7    |
                              103 ; 8    |PRODUCT NAMES: All
                              104 ; 9    |
                              105 ; 10   |GENERAL DESCRIPTION:
                              106 ; 11   |
                              107 ; 12   |   SD Card Modification Detection
                              108 ; 13   |
                              109 ; 14   |Portability: All
                              110 ; 15   |
                              111 ; 16   |
                              112 ; 17   |Revision History:
                              113 ; 18   |
                              114 ; 19   |                         Modification        Tracking
                              115 ; 20   |Author                       Date             Number           Description of Changes
                              116 ; 21   |---------------------    ------------        ----------        ---------------------------
                                  ----------
                              117 ; 22   |
                              118 ; 23   |*/
                              119 ; 24   |/*========================================================================================
                                  =========                                           INCLUDE FILES
                              120 ; 25   |==========================================================================================
                                  ========*/
                              121 ; 26   |#include "types.h"
                              122 
                              124 
                              125 ; 1    |////////////////////////////////////////////////////////////////////////////////
                              126 ; 2    |// Copyright(C) SigmaTel, Inc. 2000-2004
                              127 ; 3    |//
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page   3

M:ADDR CODE           CYCLES LINE SOURCELINE
                              128 ; 4    |// Filename: types.h
                              129 ; 5    |// Description: Standard data types
                              130 ; 6    |////////////////////////////////////////////////////////////////////////////////
                              131 ; 7    |
                              132 ; 8    |#ifndef _TYPES_H
                              133 ; 9    |#define _TYPES_H
                              134 ; 10   |
                              135 ; 11   |// TODO:  move this outta here!
                              136 ; 12   |#if !defined(NOERROR)
                              137 ; 13   |#define NOERROR 0
                              138 ; 14   |#define SUCCESS 0
                              139 ; 15   |#endif 
                              140 ; 16   |#if !defined(SUCCESS)
                              141 ; 17   |#define SUCCESS  0
                              142 ; 18   |#endif
                              143 ; 19   |#if !defined(ERROR)
                              144 ; 20   |#define ERROR   -1
                              145 ; 21   |#endif
                              146 ; 22   |#if !defined(FALSE)
                              147 ; 23   |#define FALSE 0
                              148 ; 24   |#endif
                              149 ; 25   |#if !defined(TRUE)
                              150 ; 26   |#define TRUE  1
                              151 ; 27   |#endif
                              152 ; 28   |
                              153 ; 29   |#if !defined(NULL)
                              154 ; 30   |#define NULL 0
                              155 ; 31   |#endif
                              156 ; 32   |
                              157 ; 33   |#define MAX_INT     0x7FFFFF
                              158 ; 34   |#define MAX_LONG    0x7FFFFFffffff
                              159 ; 35   |        // max positive unsigned long value: -1 == 0xFFFFFFffffff
                              160 ; 36   |#define MAX_ULONG   (-1) 
                              161 ; 37   |
                              162 ; 38   |#define WORD_SIZE   24              // word size in bits
                              163 ; 39   |#define BYTES_PER_WORD 3            // 8 bit bytes
                              164 ; 40   |
                              165 ; 41   |
                              166 ; 42   |#define BYTE    unsigned char       // btVarName
                              167 ; 43   |#define CHAR    signed char         // cVarName
                              168 ; 44   |#define USHORT  unsigned short      // usVarName
                              169 ; 45   |#define SHORT   unsigned short      // sVarName
                              170 ; 46   |#define WORD    unsigned int        // wVarName
                              171 ; 47   |#define INT     signed int          // iVarName
                              172 ; 48   |#define DWORD   unsigned long       // dwVarName
                              173 ; 49   |#define LONG    signed long         // lVarName
                              174 ; 50   |#define BOOL    unsigned int        // bVarName
                              175 ; 51   |#define FRACT   _fract              // frVarName
                              176 ; 52   |#define LFRACT  long _fract         // lfrVarName
                              177 ; 53   |#define CIRC    _circ               // cp<type prefix>VarName (see below)
                              178 ; 54   |#define FLOAT   float               // fVarName
                              179 ; 55   |#define DBL     double              // dVarName
                              180 ; 56   |#define ENUM    enum                // eVarName
                              181 ; 57   |#define CMX     _complex            // cmxVarName
                              182 ; 58   |typedef WORD UCS3;                   // 
                              183 ; 59   |
                              184 ; 60   |#define UINT16  unsigned short
                              185 ; 61   |#define UINT8   unsigned char   
                              186 ; 62   |#define UINT32  unsigned long
                              187 ; 63   |#define UINT64  unsigned long   // need to figure out how to do 64 bit values.  Or port ex
                                  isiting code to only use 48 bit
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page   4

M:ADDR CODE           CYCLES LINE SOURCELINE
                              188 ; 64   |#define INT64   unsigned long   // need to figure out how to do 64 bit values.  Or port ex
                                  isiting code to only use 48 bit
                              189 ; 65   |#define WCHAR   UINT16
                              190 ; 66   |
                              191 ; 67   |//UINT128 is 16 bytes or 6 words
                              192 ; 68   |typedef struct UINT128_3500 {   
                              193 ; 69   |    int val[6];     
                              194 ; 70   |} UINT128_3500;
                              195 ; 71   |
                              196 ; 72   |#define UINT128   UINT128_3500
                              197 ; 73   |
                              198 ; 74   |// Little endian word packed byte strings:   
                              199 ; 75   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                              200 ; 76   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                              201 ; 77   |// Little endian word packed byte strings:   
                              202 ; 78   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                              203 ; 79   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                              204 ; 80   |
                              205 ; 81   |// Declare Memory Spaces To Use When Coding
                              206 ; 82   |// A. Sector Buffers
                              207 ; 83   |#define SECTOR_BUFFER_MEM_X _X
                              208 ; 84   |#define SECTOR_BUFFER_MEM_Y _Y
                              209 ; 85   |#define SECTOR_BUFFER_MEM SECTOR_BUFFER_MEM_X
                              210 ; 86   |typedef WORD SECTOR_BUFFER_MEM SECTOR_BUFFER;
                              211 
                              213 
                              214 ; 87   |typedef SECTOR_BUFFER * P_SECTOR_BUFFER;
                              215 ; 88   |// B. Media DDI Memory
                              216 ; 89   |#define MEDIA_DDI_MEM _Y
                              217 ; 90   |
                              218 ; 91   |
                              219 ; 92   |
                              220 ; 93   |// Pointers to linear structures are labeled as: p<type prefix>VarName
                              221 ; 94   |// Examples of circular pointers:
                              222 ; 95   |//    INT CIRC cpiVarName
                              223 ; 96   |//    DWORD CIRC cpdwVarName
                              224 ; 97   |
                              225 ; 98   |#define RETCODE INT                 // rcVarName
                              226 ; 99   |
                              227 ; 100  |// generic bitfield structure
                              228 ; 101  |struct Bitfield {
                              229 ; 102  |    unsigned int B0  :1;
                              230 ; 103  |    unsigned int B1  :1;
                              231 ; 104  |    unsigned int B2  :1;
                              232 ; 105  |    unsigned int B3  :1;
                              233 ; 106  |    unsigned int B4  :1;
                              234 ; 107  |    unsigned int B5  :1;
                              235 ; 108  |    unsigned int B6  :1;
                              236 ; 109  |    unsigned int B7  :1;
                              237 ; 110  |    unsigned int B8  :1;
                              238 ; 111  |    unsigned int B9  :1;
                              239 ; 112  |    unsigned int B10 :1;
                              240 ; 113  |    unsigned int B11 :1;
                              241 ; 114  |    unsigned int B12 :1;
                              242 ; 115  |    unsigned int B13 :1;
                              243 ; 116  |    unsigned int B14 :1;
                              244 ; 117  |    unsigned int B15 :1;
                              245 ; 118  |    unsigned int B16 :1;
                              246 ; 119  |    unsigned int B17 :1;
                              247 ; 120  |    unsigned int B18 :1;
                              248 ; 121  |    unsigned int B19 :1;
                              249 ; 122  |    unsigned int B20 :1;
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page   5

M:ADDR CODE           CYCLES LINE SOURCELINE
                              250 ; 123  |    unsigned int B21 :1;
                              251 ; 124  |    unsigned int B22 :1;
                              252 ; 125  |    unsigned int B23 :1;
                              253 ; 126  |};
                              254 ; 127  |
                              255 ; 128  |union BitInt {
                              256 ; 129  |        struct Bitfield B;
                              257 ; 130  |        int        I;
                              258 ; 131  |};
                              259 ; 132  |
                              260 ; 133  |#define MAX_MSG_LENGTH 10
                              261 ; 134  |struct CMessage
                              262 ; 135  |{
                              263 ; 136  |        unsigned int m_uLength;
                              264 ; 137  |        unsigned int m_uMsg[MAX_MSG_LENGTH];
                              265 ; 138  |};
                              266 ; 139  |
                              267 ; 140  |typedef struct {
                              268 ; 141  |    WORD m_wLength;
                              269 ; 142  |    WORD m_wMessage;
                              270 ; 143  |    WORD m_wParams[MAX_MSG_LENGTH];
                              271 ; 144  |} Message;
                              272 ; 145  |
                              273 ; 146  |struct MessageQueueDescriptor
                              274 ; 147  |{
                              275 ; 148  |        int *m_pBase;
                              276 ; 149  |        int m_iModulo;
                              277 ; 150  |        int m_iSize;
                              278 ; 151  |        int *m_pHead;
                              279 ; 152  |        int *m_pTail;
                              280 ; 153  |};
                              281 ; 154  |
                              282 ; 155  |struct ModuleEntry
                              283 ; 156  |{
                              284 ; 157  |    int m_iSignaledEventMask;
                              285 ; 158  |    int m_iWaitEventMask;
                              286 ; 159  |    int m_iResourceOfCode;
                              287 ; 160  |    struct MessageQueueDescriptor *m_pMessageQueue;
                              288 ; 161  |    int _asmfunc (*m_pProcessEntryPoint)(union WaitMask Signals,struct MessageQueueDescrip
                                  tor *);
                              289 ; 162  |    int _asmfunc (*m_pInitFunction)(struct MessageQueueDescriptor *);
                              290 ; 163  |    int m_uTimeOutHigh;
                              291 ; 164  |    int m_uTimeOutLow;
                              292 ; 165  |    int _asmfunc (*m_pBackgroundFunction)(struct MessageQueueDescriptor *);
                              293 ; 166  |};
                              294 ; 167  |
                              295 ; 168  |union WaitMask{
                              296 ; 169  |    struct B{
                              297 ; 170  |        unsigned int m_bNone     :1;
                              298 ; 171  |        unsigned int m_bMessage  :1;
                              299 ; 172  |        unsigned int m_bTimer    :1;
                              300 ; 173  |        unsigned int m_bButton   :1;
                              301 ; 174  |    } B;
                              302 ; 175  |    int I;
                              303 ; 176  |} ;
                              304 ; 177  |
                              305 ; 178  |
                              306 ; 179  |struct Button {
                              307 ; 180  |        WORD wButtonEvent;
                              308 ; 181  |        WORD wUnused[MAX_MSG_LENGTH];   
                              309 ; 182  |};
                              310 ; 183  |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page   6

M:ADDR CODE           CYCLES LINE SOURCELINE
                              311 ; 184  |struct Message {
                              312 ; 185  |        WORD wMsgLength;
                              313 ; 186  |        WORD wMsgCommand;
                              314 ; 187  |        WORD wMsgParms[MAX_MSG_LENGTH-1];
                              315 ; 188  |};
                              316 ; 189  |
                              317 ; 190  |union EventTypes {
                              318 ; 191  |        struct CMessage msg;
                              319 ; 192  |        struct Button Button ;
                              320 ; 193  |        struct Message Message;
                              321 ; 194  |};
                              322 ; 195  |
                              323 ; 196  |// next 2 used to get updater build to return correct protocol ver in scsi response.
                              324 ; 197  |#define BUILD_TYPE_UPDATER  0x100
                              325 ; 198  |#define BUILD_TYPE_HOSTLINK 0x101
                              326 ; 199  |#define BUILD_TYPE_PLAYER   0x102
                              327 ; 200  |
                              328 ; 201  |// Resets part if RETAIL build. DEBUG build executes debug instruction to halt.
                              329 ; 202  |#define SystemHalt() __asm(" include 'sysmacro.asm' \n error") 
                              330 ; 203  |#define assert(x)    if(!(x)) __asm(" include 'sysmacro.asm' \n error")
                              331 ; 204  |
                              332 ; 205  |#if DEBUG
                              333 ; 206  |// For DEBUG builds, DebugBuildAssert(condition) halts if condition evaluates to FALSE. 
                              334 ; 207  |#define DebugBuildAssert(x)    if(!(x)) __asm(" debug ")
                              335 ; 208  |#else 
                              336 ; 209  |// For RETAIL builds, DebugBuildAssert(condition) does nothing & execution continues rathe
                                  r than halt or reset. 
                              337 ; 210  |#define DebugBuildAssert(x)    
                              338 ; 211  |#endif
                              339 ; 212  |
                              340 ; 213  |// Do this in your C files to make a reminder that's displayed during the build.
                              341 ; 214  |//  #pragma asm
                              342 ; 215  |//  WARN 'Note to builder: reminder to do this after verifying that'
                              343 ; 216  |//  #pragma endasm
                              344 ; 217  |
                              345 ; 218  |
                              346 ; 219  |#ifdef COLOR_262K
                              347 ; 220  |#define RGB(r,g,b)    ((0x0000FC & (r)) << 10) | ((0x0000FC & (g)) << 4) | ((0x0000FC & (b
                                  )) >> 2)    //262k
                              348 ; 221  |#elif defined(COLOR_65K)
                              349 ; 222  |#define RGB(r,g,b)    ((0x0000F8 & (r)) << 8) | ((0x0000FC & (g)) << 3) | ((0x0000F8 & (b)
                                  ) >> 3)  //65k
                              350 ; 223  |#else
                              351 ; 224  |#define RGB(r,g,b)       ((0x0000F0 & (r)) << 4) | (0x0000F0 & (g)) | ((0x0000F0 & (b)) >>
                                   4)
                              352 ; 225  |#endif
                              353 ; 226  |    
                              354 ; 227  |#endif // #ifndef _TYPES_H
                              355 
                              357 
                              358 ; 27   |#include "platform.h"
                              359 
                              361 
                              362 ; 1    |// Plafform API
                              363 ; 2    |
                              364 ; 3    |extern void EnterNonReentrantSection(void);
                              365 ; 4    |extern void LeaveNonReentrantSection(void);
                              366 ; 5    |
                              367 ; 6    |extern INT FSGetByte(void *buffer, INT Offset,INT MemoryType);
                              368 ; 7    |extern INT FSGetWord(void *buffer, INT Offset,INT MemoryType);
                              369 ; 8    |extern LONG FSGetDWord(void *buffer, INT Offset,INT MemoryType);
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page   7

M:ADDR CODE           CYCLES LINE SOURCELINE
                              370 ; 9    |extern void FsCopyBuffer(void *Dest_Buffer,INT Dest_Offset,void *Source_Buffer,INT Source_
                                  Offset,INT Size,INT Source_MemoryType,INT Dest_MemoryType,INT Dest_modulo,INT SourceModule);
                              371 ; 10   |extern void PutByte(void *buffer, INT byte,INT Offset ,INT MemoryType);
                              372 ; 11   |extern void PutWord(void *buffer, INT word, INT Offset,INT MemoryType);
                              373 ; 12   |extern void PutDword(void *buffer,  LONG dword,INT Offset,INT MemoryType);
                              374 ; 13   |extern LONG GetDWordY(void *buffer, INT Offset,INT MemoryType);
                              375 
                              377 
                              378 ; 28   |#include "extern.h"
                              379 
                              381 
                              382 ; 1    |#include "handletable.h"
                              383 
                              385 
                              386 ; 1    |#include "types.h"
                              387 
                              389 
                              390 ; 1    |////////////////////////////////////////////////////////////////////////////////
                              391 ; 2    |// Copyright(C) SigmaTel, Inc. 2000-2004
                              392 ; 3    |//
                              393 ; 4    |// Filename: types.h
                              394 ; 5    |// Description: Standard data types
                              395 ; 6    |////////////////////////////////////////////////////////////////////////////////
                              396 ; 7    |
                              397 ; 8    |#ifndef _TYPES_H
                              398 ; 9    |#define _TYPES_H
                              399 ; 10   |
                              400 ; 11   |// TODO:  move this outta here!
                              401 ; 12   |#if !defined(NOERROR)
                              402 ; 13   |#define NOERROR 0
                              403 ; 14   |#define SUCCESS 0
                              404 ; 15   |#endif 
                              405 ; 16   |#if !defined(SUCCESS)
                              406 ; 17   |#define SUCCESS  0
                              407 ; 18   |#endif
                              408 ; 19   |#if !defined(ERROR)
                              409 ; 20   |#define ERROR   -1
                              410 ; 21   |#endif
                              411 ; 22   |#if !defined(FALSE)
                              412 ; 23   |#define FALSE 0
                              413 ; 24   |#endif
                              414 ; 25   |#if !defined(TRUE)
                              415 ; 26   |#define TRUE  1
                              416 ; 27   |#endif
                              417 ; 28   |
                              418 ; 29   |#if !defined(NULL)
                              419 ; 30   |#define NULL 0
                              420 ; 31   |#endif
                              421 ; 32   |
                              422 ; 33   |#define MAX_INT     0x7FFFFF
                              423 ; 34   |#define MAX_LONG    0x7FFFFFffffff
                              424 ; 35   |        // max positive unsigned long value: -1 == 0xFFFFFFffffff
                              425 ; 36   |#define MAX_ULONG   (-1) 
                              426 ; 37   |
                              427 ; 38   |#define WORD_SIZE   24              // word size in bits
                              428 ; 39   |#define BYTES_PER_WORD 3            // 8 bit bytes
                              429 ; 40   |
                              430 ; 41   |
                              431 ; 42   |#define BYTE    unsigned char       // btVarName
                              432 ; 43   |#define CHAR    signed char         // cVarName
                              433 ; 44   |#define USHORT  unsigned short      // usVarName
                              434 ; 45   |#define SHORT   unsigned short      // sVarName
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page   8

M:ADDR CODE           CYCLES LINE SOURCELINE
                              435 ; 46   |#define WORD    unsigned int        // wVarName
                              436 ; 47   |#define INT     signed int          // iVarName
                              437 ; 48   |#define DWORD   unsigned long       // dwVarName
                              438 ; 49   |#define LONG    signed long         // lVarName
                              439 ; 50   |#define BOOL    unsigned int        // bVarName
                              440 ; 51   |#define FRACT   _fract              // frVarName
                              441 ; 52   |#define LFRACT  long _fract         // lfrVarName
                              442 ; 53   |#define CIRC    _circ               // cp<type prefix>VarName (see below)
                              443 ; 54   |#define FLOAT   float               // fVarName
                              444 ; 55   |#define DBL     double              // dVarName
                              445 ; 56   |#define ENUM    enum                // eVarName
                              446 ; 57   |#define CMX     _complex            // cmxVarName
                              447 ; 58   |typedef WORD UCS3;                   // 
                              448 ; 59   |
                              449 ; 60   |#define UINT16  unsigned short
                              450 ; 61   |#define UINT8   unsigned char   
                              451 ; 62   |#define UINT32  unsigned long
                              452 ; 63   |#define UINT64  unsigned long   // need to figure out how to do 64 bit values.  Or port ex
                                  isiting code to only use 48 bit
                              453 ; 64   |#define INT64   unsigned long   // need to figure out how to do 64 bit values.  Or port ex
                                  isiting code to only use 48 bit
                              454 ; 65   |#define WCHAR   UINT16
                              455 ; 66   |
                              456 ; 67   |//UINT128 is 16 bytes or 6 words
                              457 ; 68   |typedef struct UINT128_3500 {   
                              458 ; 69   |    int val[6];     
                              459 ; 70   |} UINT128_3500;
                              460 ; 71   |
                              461 ; 72   |#define UINT128   UINT128_3500
                              462 ; 73   |
                              463 ; 74   |// Little endian word packed byte strings:   
                              464 ; 75   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                              465 ; 76   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                              466 ; 77   |// Little endian word packed byte strings:   
                              467 ; 78   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                              468 ; 79   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                              469 ; 80   |
                              470 ; 81   |// Declare Memory Spaces To Use When Coding
                              471 ; 82   |// A. Sector Buffers
                              472 ; 83   |#define SECTOR_BUFFER_MEM_X _X
                              473 ; 84   |#define SECTOR_BUFFER_MEM_Y _Y
                              474 ; 85   |#define SECTOR_BUFFER_MEM SECTOR_BUFFER_MEM_X
                              475 ; 86   |typedef WORD SECTOR_BUFFER_MEM SECTOR_BUFFER;
                              476 ; 87   |typedef SECTOR_BUFFER * P_SECTOR_BUFFER;
                              477 ; 88   |// B. Media DDI Memory
                              478 ; 89   |#define MEDIA_DDI_MEM _Y
                              479 ; 90   |
                              480 ; 91   |
                              481 ; 92   |
                              482 ; 93   |// Pointers to linear structures are labeled as: p<type prefix>VarName
                              483 ; 94   |// Examples of circular pointers:
                              484 ; 95   |//    INT CIRC cpiVarName
                              485 ; 96   |//    DWORD CIRC cpdwVarName
                              486 ; 97   |
                              487 ; 98   |#define RETCODE INT                 // rcVarName
                              488 ; 99   |
                              489 ; 100  |// generic bitfield structure
                              490 ; 101  |struct Bitfield {
                              491 ; 102  |    unsigned int B0  :1;
                              492 ; 103  |    unsigned int B1  :1;
                              493 ; 104  |    unsigned int B2  :1;
                              494 ; 105  |    unsigned int B3  :1;
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page   9

M:ADDR CODE           CYCLES LINE SOURCELINE
                              495 ; 106  |    unsigned int B4  :1;
                              496 ; 107  |    unsigned int B5  :1;
                              497 ; 108  |    unsigned int B6  :1;
                              498 ; 109  |    unsigned int B7  :1;
                              499 ; 110  |    unsigned int B8  :1;
                              500 ; 111  |    unsigned int B9  :1;
                              501 ; 112  |    unsigned int B10 :1;
                              502 ; 113  |    unsigned int B11 :1;
                              503 ; 114  |    unsigned int B12 :1;
                              504 ; 115  |    unsigned int B13 :1;
                              505 ; 116  |    unsigned int B14 :1;
                              506 ; 117  |    unsigned int B15 :1;
                              507 ; 118  |    unsigned int B16 :1;
                              508 ; 119  |    unsigned int B17 :1;
                              509 ; 120  |    unsigned int B18 :1;
                              510 ; 121  |    unsigned int B19 :1;
                              511 ; 122  |    unsigned int B20 :1;
                              512 ; 123  |    unsigned int B21 :1;
                              513 ; 124  |    unsigned int B22 :1;
                              514 ; 125  |    unsigned int B23 :1;
                              515 ; 126  |};
                              516 ; 127  |
                              517 ; 128  |union BitInt {
                              518 ; 129  |        struct Bitfield B;
                              519 ; 130  |        int        I;
                              520 ; 131  |};
                              521 ; 132  |
                              522 ; 133  |#define MAX_MSG_LENGTH 10
                              523 ; 134  |struct CMessage
                              524 ; 135  |{
                              525 ; 136  |        unsigned int m_uLength;
                              526 ; 137  |        unsigned int m_uMsg[MAX_MSG_LENGTH];
                              527 ; 138  |};
                              528 ; 139  |
                              529 ; 140  |typedef struct {
                              530 ; 141  |    WORD m_wLength;
                              531 ; 142  |    WORD m_wMessage;
                              532 ; 143  |    WORD m_wParams[MAX_MSG_LENGTH];
                              533 ; 144  |} Message;
                              534 ; 145  |
                              535 ; 146  |struct MessageQueueDescriptor
                              536 ; 147  |{
                              537 ; 148  |        int *m_pBase;
                              538 ; 149  |        int m_iModulo;
                              539 ; 150  |        int m_iSize;
                              540 ; 151  |        int *m_pHead;
                              541 ; 152  |        int *m_pTail;
                              542 ; 153  |};
                              543 ; 154  |
                              544 ; 155  |struct ModuleEntry
                              545 ; 156  |{
                              546 ; 157  |    int m_iSignaledEventMask;
                              547 ; 158  |    int m_iWaitEventMask;
                              548 ; 159  |    int m_iResourceOfCode;
                              549 ; 160  |    struct MessageQueueDescriptor *m_pMessageQueue;
                              550 ; 161  |    int _asmfunc (*m_pProcessEntryPoint)(union WaitMask Signals,struct MessageQueueDescrip
                                  tor *);
                              551 ; 162  |    int _asmfunc (*m_pInitFunction)(struct MessageQueueDescriptor *);
                              552 ; 163  |    int m_uTimeOutHigh;
                              553 ; 164  |    int m_uTimeOutLow;
                              554 ; 165  |    int _asmfunc (*m_pBackgroundFunction)(struct MessageQueueDescriptor *);
                              555 ; 166  |};
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  10

M:ADDR CODE           CYCLES LINE SOURCELINE
                              556 ; 167  |
                              557 ; 168  |union WaitMask{
                              558 ; 169  |    struct B{
                              559 ; 170  |        unsigned int m_bNone     :1;
                              560 ; 171  |        unsigned int m_bMessage  :1;
                              561 ; 172  |        unsigned int m_bTimer    :1;
                              562 ; 173  |        unsigned int m_bButton   :1;
                              563 ; 174  |    } B;
                              564 ; 175  |    int I;
                              565 ; 176  |} ;
                              566 ; 177  |
                              567 ; 178  |
                              568 ; 179  |struct Button {
                              569 ; 180  |        WORD wButtonEvent;
                              570 ; 181  |        WORD wUnused[MAX_MSG_LENGTH];   
                              571 ; 182  |};
                              572 ; 183  |
                              573 ; 184  |struct Message {
                              574 ; 185  |        WORD wMsgLength;
                              575 ; 186  |        WORD wMsgCommand;
                              576 ; 187  |        WORD wMsgParms[MAX_MSG_LENGTH-1];
                              577 ; 188  |};
                              578 ; 189  |
                              579 ; 190  |union EventTypes {
                              580 ; 191  |        struct CMessage msg;
                              581 ; 192  |        struct Button Button ;
                              582 ; 193  |        struct Message Message;
                              583 ; 194  |};
                              584 ; 195  |
                              585 ; 196  |// next 2 used to get updater build to return correct protocol ver in scsi response.
                              586 ; 197  |#define BUILD_TYPE_UPDATER  0x100
                              587 ; 198  |#define BUILD_TYPE_HOSTLINK 0x101
                              588 ; 199  |#define BUILD_TYPE_PLAYER   0x102
                              589 ; 200  |
                              590 ; 201  |// Resets part if RETAIL build. DEBUG build executes debug instruction to halt.
                              591 ; 202  |#define SystemHalt() __asm(" include 'sysmacro.asm' \n error") 
                              592 ; 203  |#define assert(x)    if(!(x)) __asm(" include 'sysmacro.asm' \n error")
                              593 ; 204  |
                              594 ; 205  |#if DEBUG
                              595 ; 206  |// For DEBUG builds, DebugBuildAssert(condition) halts if condition evaluates to FALSE. 
                              596 ; 207  |#define DebugBuildAssert(x)    if(!(x)) __asm(" debug ")
                              597 ; 208  |#else 
                              598 ; 209  |// For RETAIL builds, DebugBuildAssert(condition) does nothing & execution continues rathe
                                  r than halt or reset. 
                              599 ; 210  |#define DebugBuildAssert(x)    
                              600 ; 211  |#endif
                              601 ; 212  |
                              602 ; 213  |// Do this in your C files to make a reminder that's displayed during the build.
                              603 ; 214  |//  #pragma asm
                              604 ; 215  |//  WARN 'Note to builder: reminder to do this after verifying that'
                              605 ; 216  |//  #pragma endasm
                              606 ; 217  |
                              607 ; 218  |
                              608 ; 219  |#ifdef COLOR_262K
                              609 ; 220  |#define RGB(r,g,b)    ((0x0000FC & (r)) << 10) | ((0x0000FC & (g)) << 4) | ((0x0000FC & (b
                                  )) >> 2)    //262k
                              610 ; 221  |#elif defined(COLOR_65K)
                              611 ; 222  |#define RGB(r,g,b)    ((0x0000F8 & (r)) << 8) | ((0x0000FC & (g)) << 3) | ((0x0000F8 & (b)
                                  ) >> 3)  //65k
                              612 ; 223  |#else
                              613 ; 224  |#define RGB(r,g,b)       ((0x0000F0 & (r)) << 4) | (0x0000F0 & (g)) | ((0x0000F0 & (b)) >>
                                   4)
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  11

M:ADDR CODE           CYCLES LINE SOURCELINE
                              614 ; 225  |#endif
                              615 ; 226  |    
                              616 ; 227  |#endif // #ifndef _TYPES_H
                              617 
                              619 
                              620 ; 2    |#include "fstypes.h"
                              621 
                              623 
                              624 ; 1    |#ifndef _FS_TYPE_H_
                              625 ; 2    |#define _FS_TYPE_H_
                              626 ; 3    |
                              627 ; 4    |#include   "types.h"
                              628 
                              630 
                              631 ; 1    |////////////////////////////////////////////////////////////////////////////////
                              632 ; 2    |// Copyright(C) SigmaTel, Inc. 2000-2004
                              633 ; 3    |//
                              634 ; 4    |// Filename: types.h
                              635 ; 5    |// Description: Standard data types
                              636 ; 6    |////////////////////////////////////////////////////////////////////////////////
                              637 ; 7    |
                              638 ; 8    |#ifndef _TYPES_H
                              639 ; 9    |#define _TYPES_H
                              640 ; 10   |
                              641 ; 11   |// TODO:  move this outta here!
                              642 ; 12   |#if !defined(NOERROR)
                              643 ; 13   |#define NOERROR 0
                              644 ; 14   |#define SUCCESS 0
                              645 ; 15   |#endif 
                              646 ; 16   |#if !defined(SUCCESS)
                              647 ; 17   |#define SUCCESS  0
                              648 ; 18   |#endif
                              649 ; 19   |#if !defined(ERROR)
                              650 ; 20   |#define ERROR   -1
                              651 ; 21   |#endif
                              652 ; 22   |#if !defined(FALSE)
                              653 ; 23   |#define FALSE 0
                              654 ; 24   |#endif
                              655 ; 25   |#if !defined(TRUE)
                              656 ; 26   |#define TRUE  1
                              657 ; 27   |#endif
                              658 ; 28   |
                              659 ; 29   |#if !defined(NULL)
                              660 ; 30   |#define NULL 0
                              661 ; 31   |#endif
                              662 ; 32   |
                              663 ; 33   |#define MAX_INT     0x7FFFFF
                              664 ; 34   |#define MAX_LONG    0x7FFFFFffffff
                              665 ; 35   |        // max positive unsigned long value: -1 == 0xFFFFFFffffff
                              666 ; 36   |#define MAX_ULONG   (-1) 
                              667 ; 37   |
                              668 ; 38   |#define WORD_SIZE   24              // word size in bits
                              669 ; 39   |#define BYTES_PER_WORD 3            // 8 bit bytes
                              670 ; 40   |
                              671 ; 41   |
                              672 ; 42   |#define BYTE    unsigned char       // btVarName
                              673 ; 43   |#define CHAR    signed char         // cVarName
                              674 ; 44   |#define USHORT  unsigned short      // usVarName
                              675 ; 45   |#define SHORT   unsigned short      // sVarName
                              676 ; 46   |#define WORD    unsigned int        // wVarName
                              677 ; 47   |#define INT     signed int          // iVarName
                              678 ; 48   |#define DWORD   unsigned long       // dwVarName
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  12

M:ADDR CODE           CYCLES LINE SOURCELINE
                              679 ; 49   |#define LONG    signed long         // lVarName
                              680 ; 50   |#define BOOL    unsigned int        // bVarName
                              681 ; 51   |#define FRACT   _fract              // frVarName
                              682 ; 52   |#define LFRACT  long _fract         // lfrVarName
                              683 ; 53   |#define CIRC    _circ               // cp<type prefix>VarName (see below)
                              684 ; 54   |#define FLOAT   float               // fVarName
                              685 ; 55   |#define DBL     double              // dVarName
                              686 ; 56   |#define ENUM    enum                // eVarName
                              687 ; 57   |#define CMX     _complex            // cmxVarName
                              688 ; 58   |typedef WORD UCS3;                   // 
                              689 ; 59   |
                              690 ; 60   |#define UINT16  unsigned short
                              691 ; 61   |#define UINT8   unsigned char   
                              692 ; 62   |#define UINT32  unsigned long
                              693 ; 63   |#define UINT64  unsigned long   // need to figure out how to do 64 bit values.  Or port ex
                                  isiting code to only use 48 bit
                              694 ; 64   |#define INT64   unsigned long   // need to figure out how to do 64 bit values.  Or port ex
                                  isiting code to only use 48 bit
                              695 ; 65   |#define WCHAR   UINT16
                              696 ; 66   |
                              697 ; 67   |//UINT128 is 16 bytes or 6 words
                              698 ; 68   |typedef struct UINT128_3500 {   
                              699 ; 69   |    int val[6];     
                              700 ; 70   |} UINT128_3500;
                              701 ; 71   |
                              702 ; 72   |#define UINT128   UINT128_3500
                              703 ; 73   |
                              704 ; 74   |// Little endian word packed byte strings:   
                              705 ; 75   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                              706 ; 76   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                              707 ; 77   |// Little endian word packed byte strings:   
                              708 ; 78   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                              709 ; 79   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                              710 ; 80   |
                              711 ; 81   |// Declare Memory Spaces To Use When Coding
                              712 ; 82   |// A. Sector Buffers
                              713 ; 83   |#define SECTOR_BUFFER_MEM_X _X
                              714 ; 84   |#define SECTOR_BUFFER_MEM_Y _Y
                              715 ; 85   |#define SECTOR_BUFFER_MEM SECTOR_BUFFER_MEM_X
                              716 ; 86   |typedef WORD SECTOR_BUFFER_MEM SECTOR_BUFFER;
                              717 ; 87   |typedef SECTOR_BUFFER * P_SECTOR_BUFFER;
                              718 ; 88   |// B. Media DDI Memory
                              719 ; 89   |#define MEDIA_DDI_MEM _Y
                              720 ; 90   |
                              721 ; 91   |
                              722 ; 92   |
                              723 ; 93   |// Pointers to linear structures are labeled as: p<type prefix>VarName
                              724 ; 94   |// Examples of circular pointers:
                              725 ; 95   |//    INT CIRC cpiVarName
                              726 ; 96   |//    DWORD CIRC cpdwVarName
                              727 ; 97   |
                              728 ; 98   |#define RETCODE INT                 // rcVarName
                              729 ; 99   |
                              730 ; 100  |// generic bitfield structure
                              731 ; 101  |struct Bitfield {
                              732 ; 102  |    unsigned int B0  :1;
                              733 ; 103  |    unsigned int B1  :1;
                              734 ; 104  |    unsigned int B2  :1;
                              735 ; 105  |    unsigned int B3  :1;
                              736 ; 106  |    unsigned int B4  :1;
                              737 ; 107  |    unsigned int B5  :1;
                              738 ; 108  |    unsigned int B6  :1;
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  13

M:ADDR CODE           CYCLES LINE SOURCELINE
                              739 ; 109  |    unsigned int B7  :1;
                              740 ; 110  |    unsigned int B8  :1;
                              741 ; 111  |    unsigned int B9  :1;
                              742 ; 112  |    unsigned int B10 :1;
                              743 ; 113  |    unsigned int B11 :1;
                              744 ; 114  |    unsigned int B12 :1;
                              745 ; 115  |    unsigned int B13 :1;
                              746 ; 116  |    unsigned int B14 :1;
                              747 ; 117  |    unsigned int B15 :1;
                              748 ; 118  |    unsigned int B16 :1;
                              749 ; 119  |    unsigned int B17 :1;
                              750 ; 120  |    unsigned int B18 :1;
                              751 ; 121  |    unsigned int B19 :1;
                              752 ; 122  |    unsigned int B20 :1;
                              753 ; 123  |    unsigned int B21 :1;
                              754 ; 124  |    unsigned int B22 :1;
                              755 ; 125  |    unsigned int B23 :1;
                              756 ; 126  |};
                              757 ; 127  |
                              758 ; 128  |union BitInt {
                              759 ; 129  |        struct Bitfield B;
                              760 ; 130  |        int        I;
                              761 ; 131  |};
                              762 ; 132  |
                              763 ; 133  |#define MAX_MSG_LENGTH 10
                              764 ; 134  |struct CMessage
                              765 ; 135  |{
                              766 ; 136  |        unsigned int m_uLength;
                              767 ; 137  |        unsigned int m_uMsg[MAX_MSG_LENGTH];
                              768 ; 138  |};
                              769 ; 139  |
                              770 ; 140  |typedef struct {
                              771 ; 141  |    WORD m_wLength;
                              772 ; 142  |    WORD m_wMessage;
                              773 ; 143  |    WORD m_wParams[MAX_MSG_LENGTH];
                              774 ; 144  |} Message;
                              775 ; 145  |
                              776 ; 146  |struct MessageQueueDescriptor
                              777 ; 147  |{
                              778 ; 148  |        int *m_pBase;
                              779 ; 149  |        int m_iModulo;
                              780 ; 150  |        int m_iSize;
                              781 ; 151  |        int *m_pHead;
                              782 ; 152  |        int *m_pTail;
                              783 ; 153  |};
                              784 ; 154  |
                              785 ; 155  |struct ModuleEntry
                              786 ; 156  |{
                              787 ; 157  |    int m_iSignaledEventMask;
                              788 ; 158  |    int m_iWaitEventMask;
                              789 ; 159  |    int m_iResourceOfCode;
                              790 ; 160  |    struct MessageQueueDescriptor *m_pMessageQueue;
                              791 ; 161  |    int _asmfunc (*m_pProcessEntryPoint)(union WaitMask Signals,struct MessageQueueDescrip
                                  tor *);
                              792 ; 162  |    int _asmfunc (*m_pInitFunction)(struct MessageQueueDescriptor *);
                              793 ; 163  |    int m_uTimeOutHigh;
                              794 ; 164  |    int m_uTimeOutLow;
                              795 ; 165  |    int _asmfunc (*m_pBackgroundFunction)(struct MessageQueueDescriptor *);
                              796 ; 166  |};
                              797 ; 167  |
                              798 ; 168  |union WaitMask{
                              799 ; 169  |    struct B{
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  14

M:ADDR CODE           CYCLES LINE SOURCELINE
                              800 ; 170  |        unsigned int m_bNone     :1;
                              801 ; 171  |        unsigned int m_bMessage  :1;
                              802 ; 172  |        unsigned int m_bTimer    :1;
                              803 ; 173  |        unsigned int m_bButton   :1;
                              804 ; 174  |    } B;
                              805 ; 175  |    int I;
                              806 ; 176  |} ;
                              807 ; 177  |
                              808 ; 178  |
                              809 ; 179  |struct Button {
                              810 ; 180  |        WORD wButtonEvent;
                              811 ; 181  |        WORD wUnused[MAX_MSG_LENGTH];   
                              812 ; 182  |};
                              813 ; 183  |
                              814 ; 184  |struct Message {
                              815 ; 185  |        WORD wMsgLength;
                              816 ; 186  |        WORD wMsgCommand;
                              817 ; 187  |        WORD wMsgParms[MAX_MSG_LENGTH-1];
                              818 ; 188  |};
                              819 ; 189  |
                              820 ; 190  |union EventTypes {
                              821 ; 191  |        struct CMessage msg;
                              822 ; 192  |        struct Button Button ;
                              823 ; 193  |        struct Message Message;
                              824 ; 194  |};
                              825 ; 195  |
                              826 ; 196  |// next 2 used to get updater build to return correct protocol ver in scsi response.
                              827 ; 197  |#define BUILD_TYPE_UPDATER  0x100
                              828 ; 198  |#define BUILD_TYPE_HOSTLINK 0x101
                              829 ; 199  |#define BUILD_TYPE_PLAYER   0x102
                              830 ; 200  |
                              831 ; 201  |// Resets part if RETAIL build. DEBUG build executes debug instruction to halt.
                              832 ; 202  |#define SystemHalt() __asm(" include 'sysmacro.asm' \n error") 
                              833 ; 203  |#define assert(x)    if(!(x)) __asm(" include 'sysmacro.asm' \n error")
                              834 ; 204  |
                              835 ; 205  |#if DEBUG
                              836 ; 206  |// For DEBUG builds, DebugBuildAssert(condition) halts if condition evaluates to FALSE. 
                              837 ; 207  |#define DebugBuildAssert(x)    if(!(x)) __asm(" debug ")
                              838 ; 208  |#else 
                              839 ; 209  |// For RETAIL builds, DebugBuildAssert(condition) does nothing & execution continues rathe
                                  r than halt or reset. 
                              840 ; 210  |#define DebugBuildAssert(x)    
                              841 ; 211  |#endif
                              842 ; 212  |
                              843 ; 213  |// Do this in your C files to make a reminder that's displayed during the build.
                              844 ; 214  |//  #pragma asm
                              845 ; 215  |//  WARN 'Note to builder: reminder to do this after verifying that'
                              846 ; 216  |//  #pragma endasm
                              847 ; 217  |
                              848 ; 218  |
                              849 ; 219  |#ifdef COLOR_262K
                              850 ; 220  |#define RGB(r,g,b)    ((0x0000FC & (r)) << 10) | ((0x0000FC & (g)) << 4) | ((0x0000FC & (b
                                  )) >> 2)    //262k
                              851 ; 221  |#elif defined(COLOR_65K)
                              852 ; 222  |#define RGB(r,g,b)    ((0x0000F8 & (r)) << 8) | ((0x0000FC & (g)) << 3) | ((0x0000F8 & (b)
                                  ) >> 3)  //65k
                              853 ; 223  |#else
                              854 ; 224  |#define RGB(r,g,b)       ((0x0000F0 & (r)) << 4) | (0x0000F0 & (g)) | ((0x0000F0 & (b)) >>
                                   4)
                              855 ; 225  |#endif
                              856 ; 226  |    
                              857 ; 227  |#endif // #ifndef _TYPES_H
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  15

M:ADDR CODE           CYCLES LINE SOURCELINE
                              858 
                              860 
                              861 ; 5    |
                              862 ; 6    |// move FSMEDIA_TABLE from devicetable.h  15Apr2005   First moved in SDK2.6.
                              863 ; 7    |typedef struct
                              864 ; 8    |{
                              865 ; 9    |
                              866 ; 10   |INT     _Y BytesPerSector;
                              867 ; 11   |INT     _Y SectorsPerCluster;
                              868 ; 12   |INT     _Y RsvdSectors;
                              869 ; 13   |INT     _Y NoOfFATs;
                              870 ; 14   |INT     _Y MaxRootDirEntries;
                              871 ; 15   |LONG    _Y TotalSectors;
                              872 ; 16   |LONG    _Y FATSize;
                              873 ; 17   |LONG    _Y RootdirCluster;
                              874 ; 18   |//INT   _Y FSInfoSector;
                              875 ; 19   |//INT   _Y BkBootSector;
                              876 ; 20   |LONG    _Y NextFreeCluster;
                              877 ; 21   |LONG    _Y TotalFreeClusters;
                              878 ; 22   |INT     _Y RootDirSectors;
                              879 ; 23   |INT     _Y FIRSTDataSector;
                              880 ; 24   |INT    _Y FATType;
                              881 ; 25   |LONG   _Y TotalNoofclusters;
                              882 ; 26   |INT    _Y ClusterMask;
                              883 ; 27   |INT    _Y ClusterShift;
                              884 ; 28   |INT    _Y SectorShift;
                              885 ; 29   |INT    _Y SectorMask;
                              886 ; 30   |INT    _Y DevicePresent;
                              887 ; 31   |LONG   _Y FirRootdirsec;
                              888 ; 32   |INT             _Y FSInfoSector;
                              889 ; 33   |}FSMEDIA_TABLE;
                              890 ; 34   |
                              891 ; 35   |
                              892 ; 36   |#define         MAXDEVICES              2
                              893 ; 37   |//#define       NUMCACHES               8  // this is already in fsproj.h (2 for player 2 
                                  for mtp as of 28jun2005) TOVERIFY 2 ok for player and mtp. 
                              894 ; 38   |
                              895 ; 39   |// NOTE:  This offset is the same no matter what the sector actual size!  
                              896 ; 40   |//        TOVERIFY 3.0 doesn't have this defined but uses it in filesystempresent.c. lbmlc
                                   def'd it here so I insert it here.
                              897 ; 41   |#define         FATFS_SIGNATURE_OFFSET  510
                              898 ; 42   |#define         BOOTSECTOR              0
                              899 ; 43   |#define     FSINFOSECTOR        1
                              900 ; 44   |
                              901 ; 45   |#define     READ_MODE           1
                              902 ; 46   |#define     WRITE_MODE          2
                              903 ; 47   |#define     APPEND_MODE         4
                              904 ; 48   |#define     SEQ_WRITE_MODE      8
                              905 ; 49   |#define     DIRECTORY_MODE         16
                              906 ; 50   |#define     CREATE_MODE        32
                              907 ; 51   |
                              908 ; 52   |#define     RPLUS               5
                              909 ; 53   |#define     WPLUS                   6
                              910 ; 54   |#define     APLUS               7
                              911 ; 55   |
                              912 ; 56   |
                              913 ; 57   |
                              914 ; 58   |#define     X_MEMORY            0
                              915 ; 59   |#define     Y_MEMORY            2
                              916 ; 60   |#define     P_MEMORY            4
                              917 ; 61   |
                              918 ; 62   |#define     FAT12               0 
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  16

M:ADDR CODE           CYCLES LINE SOURCELINE
                              919 ; 63   |#define     FAT16               1   
                              920 ; 64   |#define     FAT32               2 
                              921 ; 65   |
                              922 ; 66   |
                              923 ; 67   |#define FAT12EOF            0x0FFF
                              924 ; 68   |#define FAT16EOF            0xFFFF
                              925 ; 69   |#define FAT32EOF            0x0FFFFFFF
                              926 ; 70   |
                              927 ; 71   |
                              928 ; 72   |
                              929 ; 73   |#define FAT12FREECX         0x000
                              930 ; 74   |#define FAT16FREECX         0x0000
                              931 ; 75   |#define FAT32FREECX         0x00000000
                              932 ; 76   |
                              933 ; 77   |
                              934 ; 78   |#define  DBCS               1
                              935 ; 79   |#define  UNICODE            2
                              936 ; 80   |
                              937 ; 81   |
                              938 ; 82   |#define     CREATION_DATE       1
                              939 ; 83   |#define     CREATION_TIME       2
                              940 ; 84   |#define     MODIFICATION_DATE   3
                              941 ; 85   |#define     MODIFICATION_TIME   4
                              942 ; 86   |
                              943 ; 87   |
                              944 ; 88   |#define     READ_ONLY      0X01
                              945 ; 89   |#define     HIDDEN         0X02
                              946 ; 90   |#define     SYSTEM         0X04
                              947 ; 91   |#define     VOLUME_ID      0X08
                              948 ; 92   |#define     DIRECTORY      0X10
                              949 ; 93   |#define     ARCHIVE        0X20
                              950 ; 94   |
                              951 ; 95   |#define READCOUNTER         105
                              952 ; 96   |#define WRITECOUNTER        100
                              953 ; 97   |#define FLUSHCOUNTER        200
                              954 ; 98   |
                              955 ; 99   |
                              956 ; 100  |#define DEFAULT_MEMORY      Y_MEMORY
                              957 ; 101  |
                              958 ; 102  |#define  CWD_HANDLE           0
                              959 ; 103  |#define  DIRECTORY_HANDLE     1
                              960 ; 104  |#define  FIRST_VALID_HANDLE   2
                              961 ; 105  |#define  END_OF_DIR_PATH      3
                              962 ; 106  |
                              963 ; 107  |//Constants for Sector read and write (Normal and FAT 
                              964 ; 108  |#define         NORMALTYPE              0
                              965 ; 109  |#define         FATTYPE                 1
                              966 ; 110  |#define     RAWTYPE         2
                              967 ; 111  |
                              968 ; 112  |#define  SHORTNAMERES_CH      6
                              969 ; 113  |#define  LONGNAMERES_CH       9
                              970 ; 114  |#define  MAXFILENAME_CH       260
                              971 ; 115  |
                              972 ; 116  |#define VOLUME_TYPE          0
                              973 ; 117  |#define DIR_TYPE             1
                              974 ; 118  |#define FILE_TYPE            2
                              975 ; 119  |                                           
                              976 ; 120  |#define WRITE_TYPE_RANDOM               0
                              977 ; 121  |#define WRITE_TYPE_SEQ_FIRST    1
                              978 ; 122  |#define WRITE_TYPE_SEQ_NEXT             2
                              979 ; 123  |#define WRITE_TYPE_NOREADBACK   3
                              980 ; 124  |                  
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  17

M:ADDR CODE           CYCLES LINE SOURCELINE
                              981 ; 125  |
                              982 ; 126  |#define     HANDLEENTRYSIZE         19
                              983 ; 127  |
                              984 ; 128  |// DEVICERECORDSIZE is now only defined in cachedef.h so deleted from here in first 3.1 pr
                                  elim 
                              985 ; 129  |
                              986 ; 130  |#define     CACHEDESCRSIZE          8
                              987 ; 131  |#define     CACHEBUFSIZE            705
                              988 ; 132  |
                              989 ; 133  |#define     UCS2s                     0
                              990 ; 134  |#define     UCS3s                     1
                              991 ; 135  |
                              992 ; 136  |#define     FAT32FSIFREECOUNTSIZE       4
                              993 ; 137  |
                              994 ; 138  |#endif // _FS_TYPE_H_
                              995 ; 139  |
                              996 
                              998 
                              999 ; 3    |typedef struct  
                             1000 ; 4    |{
                             1001 ; 5    |INT             HandleActive;
                             1002 ; 6    |INT             Device;
                             1003 ; 7    |INT             Mode;
                             1004 ; 8    |LONG       StartingCluster;
                             1005 ; 9    |LONG            CurrentOffset;
                             1006 ; 10   |LONG            CurrentCluster;
                             1007 ; 11   |LONG            CurrentSector;
                             1008 ; 12   |INT             BytePosInSector;
                             1009 ; 13   |INT             SectorPosInCluster;
                             1010 ; 14   |LONG            DirSector;
                             1011 ; 15   |INT             DirOffset;
                             1012 ; 16   |INT             ErrorCode;
                             1013 ; 17   |LONG            FileSize;
                             1014 ; 18   |}HANDLETABLE;
                             1015 ; 19   |
                             1016 ; 20   |
                             1017 ; 21   |
                             1018 ; 22   |
                             1019 ; 23   |
                             1020 ; 24   |
                             1021 ; 25   |
                             1022 
                             1024 
                             1025 ; 2    |#include "devicetable.h"
                             1026 
                             1028 
                             1029 ; 1    |#include "types.h"
                             1030 
                             1032 
                             1033 ; 1    |////////////////////////////////////////////////////////////////////////////////
                             1034 ; 2    |// Copyright(C) SigmaTel, Inc. 2000-2004
                             1035 ; 3    |//
                             1036 ; 4    |// Filename: types.h
                             1037 ; 5    |// Description: Standard data types
                             1038 ; 6    |////////////////////////////////////////////////////////////////////////////////
                             1039 ; 7    |
                             1040 ; 8    |#ifndef _TYPES_H
                             1041 ; 9    |#define _TYPES_H
                             1042 ; 10   |
                             1043 ; 11   |// TODO:  move this outta here!
                             1044 ; 12   |#if !defined(NOERROR)
                             1045 ; 13   |#define NOERROR 0
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  18

M:ADDR CODE           CYCLES LINE SOURCELINE
                             1046 ; 14   |#define SUCCESS 0
                             1047 ; 15   |#endif 
                             1048 ; 16   |#if !defined(SUCCESS)
                             1049 ; 17   |#define SUCCESS  0
                             1050 ; 18   |#endif
                             1051 ; 19   |#if !defined(ERROR)
                             1052 ; 20   |#define ERROR   -1
                             1053 ; 21   |#endif
                             1054 ; 22   |#if !defined(FALSE)
                             1055 ; 23   |#define FALSE 0
                             1056 ; 24   |#endif
                             1057 ; 25   |#if !defined(TRUE)
                             1058 ; 26   |#define TRUE  1
                             1059 ; 27   |#endif
                             1060 ; 28   |
                             1061 ; 29   |#if !defined(NULL)
                             1062 ; 30   |#define NULL 0
                             1063 ; 31   |#endif
                             1064 ; 32   |
                             1065 ; 33   |#define MAX_INT     0x7FFFFF
                             1066 ; 34   |#define MAX_LONG    0x7FFFFFffffff
                             1067 ; 35   |        // max positive unsigned long value: -1 == 0xFFFFFFffffff
                             1068 ; 36   |#define MAX_ULONG   (-1) 
                             1069 ; 37   |
                             1070 ; 38   |#define WORD_SIZE   24              // word size in bits
                             1071 ; 39   |#define BYTES_PER_WORD 3            // 8 bit bytes
                             1072 ; 40   |
                             1073 ; 41   |
                             1074 ; 42   |#define BYTE    unsigned char       // btVarName
                             1075 ; 43   |#define CHAR    signed char         // cVarName
                             1076 ; 44   |#define USHORT  unsigned short      // usVarName
                             1077 ; 45   |#define SHORT   unsigned short      // sVarName
                             1078 ; 46   |#define WORD    unsigned int        // wVarName
                             1079 ; 47   |#define INT     signed int          // iVarName
                             1080 ; 48   |#define DWORD   unsigned long       // dwVarName
                             1081 ; 49   |#define LONG    signed long         // lVarName
                             1082 ; 50   |#define BOOL    unsigned int        // bVarName
                             1083 ; 51   |#define FRACT   _fract              // frVarName
                             1084 ; 52   |#define LFRACT  long _fract         // lfrVarName
                             1085 ; 53   |#define CIRC    _circ               // cp<type prefix>VarName (see below)
                             1086 ; 54   |#define FLOAT   float               // fVarName
                             1087 ; 55   |#define DBL     double              // dVarName
                             1088 ; 56   |#define ENUM    enum                // eVarName
                             1089 ; 57   |#define CMX     _complex            // cmxVarName
                             1090 ; 58   |typedef WORD UCS3;                   // 
                             1091 ; 59   |
                             1092 ; 60   |#define UINT16  unsigned short
                             1093 ; 61   |#define UINT8   unsigned char   
                             1094 ; 62   |#define UINT32  unsigned long
                             1095 ; 63   |#define UINT64  unsigned long   // need to figure out how to do 64 bit values.  Or port ex
                                  isiting code to only use 48 bit
                             1096 ; 64   |#define INT64   unsigned long   // need to figure out how to do 64 bit values.  Or port ex
                                  isiting code to only use 48 bit
                             1097 ; 65   |#define WCHAR   UINT16
                             1098 ; 66   |
                             1099 ; 67   |//UINT128 is 16 bytes or 6 words
                             1100 ; 68   |typedef struct UINT128_3500 {   
                             1101 ; 69   |    int val[6];     
                             1102 ; 70   |} UINT128_3500;
                             1103 ; 71   |
                             1104 ; 72   |#define UINT128   UINT128_3500
                             1105 ; 73   |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  19

M:ADDR CODE           CYCLES LINE SOURCELINE
                             1106 ; 74   |// Little endian word packed byte strings:   
                             1107 ; 75   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                             1108 ; 76   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                             1109 ; 77   |// Little endian word packed byte strings:   
                             1110 ; 78   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                             1111 ; 79   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                             1112 ; 80   |
                             1113 ; 81   |// Declare Memory Spaces To Use When Coding
                             1114 ; 82   |// A. Sector Buffers
                             1115 ; 83   |#define SECTOR_BUFFER_MEM_X _X
                             1116 ; 84   |#define SECTOR_BUFFER_MEM_Y _Y
                             1117 ; 85   |#define SECTOR_BUFFER_MEM SECTOR_BUFFER_MEM_X
                             1118 ; 86   |typedef WORD SECTOR_BUFFER_MEM SECTOR_BUFFER;
                             1119 ; 87   |typedef SECTOR_BUFFER * P_SECTOR_BUFFER;
                             1120 ; 88   |// B. Media DDI Memory
                             1121 ; 89   |#define MEDIA_DDI_MEM _Y
                             1122 ; 90   |
                             1123 ; 91   |
                             1124 ; 92   |
                             1125 ; 93   |// Pointers to linear structures are labeled as: p<type prefix>VarName
                             1126 ; 94   |// Examples of circular pointers:
                             1127 ; 95   |//    INT CIRC cpiVarName
                             1128 ; 96   |//    DWORD CIRC cpdwVarName
                             1129 ; 97   |
                             1130 ; 98   |#define RETCODE INT                 // rcVarName
                             1131 ; 99   |
                             1132 ; 100  |// generic bitfield structure
                             1133 ; 101  |struct Bitfield {
                             1134 ; 102  |    unsigned int B0  :1;
                             1135 ; 103  |    unsigned int B1  :1;
                             1136 ; 104  |    unsigned int B2  :1;
                             1137 ; 105  |    unsigned int B3  :1;
                             1138 ; 106  |    unsigned int B4  :1;
                             1139 ; 107  |    unsigned int B5  :1;
                             1140 ; 108  |    unsigned int B6  :1;
                             1141 ; 109  |    unsigned int B7  :1;
                             1142 ; 110  |    unsigned int B8  :1;
                             1143 ; 111  |    unsigned int B9  :1;
                             1144 ; 112  |    unsigned int B10 :1;
                             1145 ; 113  |    unsigned int B11 :1;
                             1146 ; 114  |    unsigned int B12 :1;
                             1147 ; 115  |    unsigned int B13 :1;
                             1148 ; 116  |    unsigned int B14 :1;
                             1149 ; 117  |    unsigned int B15 :1;
                             1150 ; 118  |    unsigned int B16 :1;
                             1151 ; 119  |    unsigned int B17 :1;
                             1152 ; 120  |    unsigned int B18 :1;
                             1153 ; 121  |    unsigned int B19 :1;
                             1154 ; 122  |    unsigned int B20 :1;
                             1155 ; 123  |    unsigned int B21 :1;
                             1156 ; 124  |    unsigned int B22 :1;
                             1157 ; 125  |    unsigned int B23 :1;
                             1158 ; 126  |};
                             1159 ; 127  |
                             1160 ; 128  |union BitInt {
                             1161 ; 129  |        struct Bitfield B;
                             1162 ; 130  |        int        I;
                             1163 ; 131  |};
                             1164 ; 132  |
                             1165 ; 133  |#define MAX_MSG_LENGTH 10
                             1166 ; 134  |struct CMessage
                             1167 ; 135  |{
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  20

M:ADDR CODE           CYCLES LINE SOURCELINE
                             1168 ; 136  |        unsigned int m_uLength;
                             1169 ; 137  |        unsigned int m_uMsg[MAX_MSG_LENGTH];
                             1170 ; 138  |};
                             1171 ; 139  |
                             1172 ; 140  |typedef struct {
                             1173 ; 141  |    WORD m_wLength;
                             1174 ; 142  |    WORD m_wMessage;
                             1175 ; 143  |    WORD m_wParams[MAX_MSG_LENGTH];
                             1176 ; 144  |} Message;
                             1177 ; 145  |
                             1178 ; 146  |struct MessageQueueDescriptor
                             1179 ; 147  |{
                             1180 ; 148  |        int *m_pBase;
                             1181 ; 149  |        int m_iModulo;
                             1182 ; 150  |        int m_iSize;
                             1183 ; 151  |        int *m_pHead;
                             1184 ; 152  |        int *m_pTail;
                             1185 ; 153  |};
                             1186 ; 154  |
                             1187 ; 155  |struct ModuleEntry
                             1188 ; 156  |{
                             1189 ; 157  |    int m_iSignaledEventMask;
                             1190 ; 158  |    int m_iWaitEventMask;
                             1191 ; 159  |    int m_iResourceOfCode;
                             1192 ; 160  |    struct MessageQueueDescriptor *m_pMessageQueue;
                             1193 ; 161  |    int _asmfunc (*m_pProcessEntryPoint)(union WaitMask Signals,struct MessageQueueDescrip
                                  tor *);
                             1194 ; 162  |    int _asmfunc (*m_pInitFunction)(struct MessageQueueDescriptor *);
                             1195 ; 163  |    int m_uTimeOutHigh;
                             1196 ; 164  |    int m_uTimeOutLow;
                             1197 ; 165  |    int _asmfunc (*m_pBackgroundFunction)(struct MessageQueueDescriptor *);
                             1198 ; 166  |};
                             1199 ; 167  |
                             1200 ; 168  |union WaitMask{
                             1201 ; 169  |    struct B{
                             1202 ; 170  |        unsigned int m_bNone     :1;
                             1203 ; 171  |        unsigned int m_bMessage  :1;
                             1204 ; 172  |        unsigned int m_bTimer    :1;
                             1205 ; 173  |        unsigned int m_bButton   :1;
                             1206 ; 174  |    } B;
                             1207 ; 175  |    int I;
                             1208 ; 176  |} ;
                             1209 ; 177  |
                             1210 ; 178  |
                             1211 ; 179  |struct Button {
                             1212 ; 180  |        WORD wButtonEvent;
                             1213 ; 181  |        WORD wUnused[MAX_MSG_LENGTH];   
                             1214 ; 182  |};
                             1215 ; 183  |
                             1216 ; 184  |struct Message {
                             1217 ; 185  |        WORD wMsgLength;
                             1218 ; 186  |        WORD wMsgCommand;
                             1219 ; 187  |        WORD wMsgParms[MAX_MSG_LENGTH-1];
                             1220 ; 188  |};
                             1221 ; 189  |
                             1222 ; 190  |union EventTypes {
                             1223 ; 191  |        struct CMessage msg;
                             1224 ; 192  |        struct Button Button ;
                             1225 ; 193  |        struct Message Message;
                             1226 ; 194  |};
                             1227 ; 195  |
                             1228 ; 196  |// next 2 used to get updater build to return correct protocol ver in scsi response.
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  21

M:ADDR CODE           CYCLES LINE SOURCELINE
                             1229 ; 197  |#define BUILD_TYPE_UPDATER  0x100
                             1230 ; 198  |#define BUILD_TYPE_HOSTLINK 0x101
                             1231 ; 199  |#define BUILD_TYPE_PLAYER   0x102
                             1232 ; 200  |
                             1233 ; 201  |// Resets part if RETAIL build. DEBUG build executes debug instruction to halt.
                             1234 ; 202  |#define SystemHalt() __asm(" include 'sysmacro.asm' \n error") 
                             1235 ; 203  |#define assert(x)    if(!(x)) __asm(" include 'sysmacro.asm' \n error")
                             1236 ; 204  |
                             1237 ; 205  |#if DEBUG
                             1238 ; 206  |// For DEBUG builds, DebugBuildAssert(condition) halts if condition evaluates to FALSE. 
                             1239 ; 207  |#define DebugBuildAssert(x)    if(!(x)) __asm(" debug ")
                             1240 ; 208  |#else 
                             1241 ; 209  |// For RETAIL builds, DebugBuildAssert(condition) does nothing & execution continues rathe
                                  r than halt or reset. 
                             1242 ; 210  |#define DebugBuildAssert(x)    
                             1243 ; 211  |#endif
                             1244 ; 212  |
                             1245 ; 213  |// Do this in your C files to make a reminder that's displayed during the build.
                             1246 ; 214  |//  #pragma asm
                             1247 ; 215  |//  WARN 'Note to builder: reminder to do this after verifying that'
                             1248 ; 216  |//  #pragma endasm
                             1249 ; 217  |
                             1250 ; 218  |
                             1251 ; 219  |#ifdef COLOR_262K
                             1252 ; 220  |#define RGB(r,g,b)    ((0x0000FC & (r)) << 10) | ((0x0000FC & (g)) << 4) | ((0x0000FC & (b
                                  )) >> 2)    //262k
                             1253 ; 221  |#elif defined(COLOR_65K)
                             1254 ; 222  |#define RGB(r,g,b)    ((0x0000F8 & (r)) << 8) | ((0x0000FC & (g)) << 3) | ((0x0000F8 & (b)
                                  ) >> 3)  //65k
                             1255 ; 223  |#else
                             1256 ; 224  |#define RGB(r,g,b)       ((0x0000F0 & (r)) << 4) | (0x0000F0 & (g)) | ((0x0000F0 & (b)) >>
                                   4)
                             1257 ; 225  |#endif
                             1258 ; 226  |    
                             1259 ; 227  |#endif // #ifndef _TYPES_H
                             1260 
                             1262 
                             1263 ; 2    |#include "fstypes.h"
                             1264 
                             1266 
                             1267 ; 1    |#ifndef _FS_TYPE_H_
                             1268 ; 2    |#define _FS_TYPE_H_
                             1269 ; 3    |
                             1270 ; 4    |#include   "types.h"
                             1271 ; 5    |
                             1272 ; 6    |// move FSMEDIA_TABLE from devicetable.h  15Apr2005   First moved in SDK2.6.
                             1273 ; 7    |typedef struct
                             1274 ; 8    |{
                             1275 ; 9    |
                             1276 ; 10   |INT     _Y BytesPerSector;
                             1277 ; 11   |INT     _Y SectorsPerCluster;
                             1278 ; 12   |INT     _Y RsvdSectors;
                             1279 ; 13   |INT     _Y NoOfFATs;
                             1280 ; 14   |INT     _Y MaxRootDirEntries;
                             1281 ; 15   |LONG    _Y TotalSectors;
                             1282 ; 16   |LONG    _Y FATSize;
                             1283 ; 17   |LONG    _Y RootdirCluster;
                             1284 ; 18   |//INT   _Y FSInfoSector;
                             1285 ; 19   |//INT   _Y BkBootSector;
                             1286 ; 20   |LONG    _Y NextFreeCluster;
                             1287 ; 21   |LONG    _Y TotalFreeClusters;
                             1288 ; 22   |INT     _Y RootDirSectors;
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  22

M:ADDR CODE           CYCLES LINE SOURCELINE
                             1289 ; 23   |INT     _Y FIRSTDataSector;
                             1290 ; 24   |INT    _Y FATType;
                             1291 ; 25   |LONG   _Y TotalNoofclusters;
                             1292 ; 26   |INT    _Y ClusterMask;
                             1293 ; 27   |INT    _Y ClusterShift;
                             1294 ; 28   |INT    _Y SectorShift;
                             1295 ; 29   |INT    _Y SectorMask;
                             1296 ; 30   |INT    _Y DevicePresent;
                             1297 ; 31   |LONG   _Y FirRootdirsec;
                             1298 ; 32   |INT             _Y FSInfoSector;
                             1299 ; 33   |}FSMEDIA_TABLE;
                             1300 ; 34   |
                             1301 ; 35   |
                             1302 ; 36   |#define         MAXDEVICES              2
                             1303 ; 37   |//#define       NUMCACHES               8  // this is already in fsproj.h (2 for player 2 
                                  for mtp as of 28jun2005) TOVERIFY 2 ok for player and mtp. 
                             1304 ; 38   |
                             1305 ; 39   |// NOTE:  This offset is the same no matter what the sector actual size!  
                             1306 ; 40   |//        TOVERIFY 3.0 doesn't have this defined but uses it in filesystempresent.c. lbmlc
                                   def'd it here so I insert it here.
                             1307 ; 41   |#define         FATFS_SIGNATURE_OFFSET  510
                             1308 ; 42   |#define         BOOTSECTOR              0
                             1309 ; 43   |#define     FSINFOSECTOR        1
                             1310 ; 44   |
                             1311 ; 45   |#define     READ_MODE           1
                             1312 ; 46   |#define     WRITE_MODE          2
                             1313 ; 47   |#define     APPEND_MODE         4
                             1314 ; 48   |#define     SEQ_WRITE_MODE      8
                             1315 ; 49   |#define     DIRECTORY_MODE         16
                             1316 ; 50   |#define     CREATE_MODE        32
                             1317 ; 51   |
                             1318 ; 52   |#define     RPLUS               5
                             1319 ; 53   |#define     WPLUS                   6
                             1320 ; 54   |#define     APLUS               7
                             1321 ; 55   |
                             1322 ; 56   |
                             1323 ; 57   |
                             1324 ; 58   |#define     X_MEMORY            0
                             1325 ; 59   |#define     Y_MEMORY            2
                             1326 ; 60   |#define     P_MEMORY            4
                             1327 ; 61   |
                             1328 ; 62   |#define     FAT12               0 
                             1329 ; 63   |#define     FAT16               1   
                             1330 ; 64   |#define     FAT32               2 
                             1331 ; 65   |
                             1332 ; 66   |
                             1333 ; 67   |#define FAT12EOF            0x0FFF
                             1334 ; 68   |#define FAT16EOF            0xFFFF
                             1335 ; 69   |#define FAT32EOF            0x0FFFFFFF
                             1336 ; 70   |
                             1337 ; 71   |
                             1338 ; 72   |
                             1339 ; 73   |#define FAT12FREECX         0x000
                             1340 ; 74   |#define FAT16FREECX         0x0000
                             1341 ; 75   |#define FAT32FREECX         0x00000000
                             1342 ; 76   |
                             1343 ; 77   |
                             1344 ; 78   |#define  DBCS               1
                             1345 ; 79   |#define  UNICODE            2
                             1346 ; 80   |
                             1347 ; 81   |
                             1348 ; 82   |#define     CREATION_DATE       1
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  23

M:ADDR CODE           CYCLES LINE SOURCELINE
                             1349 ; 83   |#define     CREATION_TIME       2
                             1350 ; 84   |#define     MODIFICATION_DATE   3
                             1351 ; 85   |#define     MODIFICATION_TIME   4
                             1352 ; 86   |
                             1353 ; 87   |
                             1354 ; 88   |#define     READ_ONLY      0X01
                             1355 ; 89   |#define     HIDDEN         0X02
                             1356 ; 90   |#define     SYSTEM         0X04
                             1357 ; 91   |#define     VOLUME_ID      0X08
                             1358 ; 92   |#define     DIRECTORY      0X10
                             1359 ; 93   |#define     ARCHIVE        0X20
                             1360 ; 94   |
                             1361 ; 95   |#define READCOUNTER         105
                             1362 ; 96   |#define WRITECOUNTER        100
                             1363 ; 97   |#define FLUSHCOUNTER        200
                             1364 ; 98   |
                             1365 ; 99   |
                             1366 ; 100  |#define DEFAULT_MEMORY      Y_MEMORY
                             1367 ; 101  |
                             1368 ; 102  |#define  CWD_HANDLE           0
                             1369 ; 103  |#define  DIRECTORY_HANDLE     1
                             1370 ; 104  |#define  FIRST_VALID_HANDLE   2
                             1371 ; 105  |#define  END_OF_DIR_PATH      3
                             1372 ; 106  |
                             1373 ; 107  |//Constants for Sector read and write (Normal and FAT 
                             1374 ; 108  |#define         NORMALTYPE              0
                             1375 ; 109  |#define         FATTYPE                 1
                             1376 ; 110  |#define     RAWTYPE         2
                             1377 ; 111  |
                             1378 ; 112  |#define  SHORTNAMERES_CH      6
                             1379 ; 113  |#define  LONGNAMERES_CH       9
                             1380 ; 114  |#define  MAXFILENAME_CH       260
                             1381 ; 115  |
                             1382 ; 116  |#define VOLUME_TYPE          0
                             1383 ; 117  |#define DIR_TYPE             1
                             1384 ; 118  |#define FILE_TYPE            2
                             1385 ; 119  |                                           
                             1386 ; 120  |#define WRITE_TYPE_RANDOM               0
                             1387 ; 121  |#define WRITE_TYPE_SEQ_FIRST    1
                             1388 ; 122  |#define WRITE_TYPE_SEQ_NEXT             2
                             1389 ; 123  |#define WRITE_TYPE_NOREADBACK   3
                             1390 ; 124  |                  
                             1391 ; 125  |
                             1392 ; 126  |#define     HANDLEENTRYSIZE         19
                             1393 ; 127  |
                             1394 ; 128  |// DEVICERECORDSIZE is now only defined in cachedef.h so deleted from here in first 3.1 pr
                                  elim 
                             1395 ; 129  |
                             1396 ; 130  |#define     CACHEDESCRSIZE          8
                             1397 ; 131  |#define     CACHEBUFSIZE            705
                             1398 ; 132  |
                             1399 ; 133  |#define     UCS2s                     0
                             1400 ; 134  |#define     UCS3s                     1
                             1401 ; 135  |
                             1402 ; 136  |#define     FAT32FSIFREECOUNTSIZE       4
                             1403 ; 137  |
                             1404 ; 138  |#endif // _FS_TYPE_H_
                             1405 ; 139  |
                             1406 
                             1408 
                             1409 ; 3    |
                             1410 ; 4    |/* moved FSMEDIA_TABLE to fstypes.h   15Apr2005 */
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  24

M:ADDR CODE           CYCLES LINE SOURCELINE
                             1411 ; 5    |/*
                             1412 ; 6    |typedef struct
                             1413 ; 7    |{
                             1414 ; 8    |
                             1415 ; 9    |INT     _Y BytesPerSector;
                             1416 ; 10   |INT     _Y SectorsPerCluster;
                             1417 ; 11   |INT     _Y RsvdSectors;
                             1418 ; 12   |INT     _Y NoOfFATs;
                             1419 ; 13   |INT     _Y MaxRootDirEntries;
                             1420 ; 14   |LONG    _Y TotalSectors;
                             1421 ; 15   |LONG    _Y FATSize;
                             1422 ; 16   |LONG    _Y RootdirCluster;
                             1423 ; 17   |//INT   _Y FSInfoSector;
                             1424 ; 18   |//INT   _Y BkBootSector;
                             1425 ; 19   |LONG    _Y NextFreeCluster;
                             1426 ; 20   |LONG    _Y TotalFreeClusters;
                             1427 ; 21   |INT     _Y RootDirSectors;
                             1428 ; 22   |INT     _Y FIRSTDataSector;
                             1429 ; 23   |INT    _Y FATType;
                             1430 ; 24   |LONG   _Y TotalNoofclusters;
                             1431 ; 25   |INT    _Y ClusterMask;
                             1432 ; 26   |INT    _Y ClusterShift;
                             1433 ; 27   |INT    _Y SectorShift;
                             1434 ; 28   |INT    _Y SectorMask;
                             1435 ; 29   |INT    _Y DevicePresent;
                             1436 ; 30   |LONG   _Y FirRootdirsec;
                             1437 ; 31   |INT             _Y FSInfoSector;
                             1438 ; 32   |}FSMEDIA_TABLE;
                             1439 ; 33   |*/
                             1440 ; 34   |
                             1441 ; 35   |
                             1442 
                             1444 
                             1445 ; 3    |#include "cachemem.h"
                             1446 
                             1448 
                             1449 ; 1    |#include "types.h"
                             1450 
                             1452 
                             1453 ; 1    |////////////////////////////////////////////////////////////////////////////////
                             1454 ; 2    |// Copyright(C) SigmaTel, Inc. 2000-2004
                             1455 ; 3    |//
                             1456 ; 4    |// Filename: types.h
                             1457 ; 5    |// Description: Standard data types
                             1458 ; 6    |////////////////////////////////////////////////////////////////////////////////
                             1459 ; 7    |
                             1460 ; 8    |#ifndef _TYPES_H
                             1461 ; 9    |#define _TYPES_H
                             1462 ; 10   |
                             1463 ; 11   |// TODO:  move this outta here!
                             1464 ; 12   |#if !defined(NOERROR)
                             1465 ; 13   |#define NOERROR 0
                             1466 ; 14   |#define SUCCESS 0
                             1467 ; 15   |#endif 
                             1468 ; 16   |#if !defined(SUCCESS)
                             1469 ; 17   |#define SUCCESS  0
                             1470 ; 18   |#endif
                             1471 ; 19   |#if !defined(ERROR)
                             1472 ; 20   |#define ERROR   -1
                             1473 ; 21   |#endif
                             1474 ; 22   |#if !defined(FALSE)
                             1475 ; 23   |#define FALSE 0
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  25

M:ADDR CODE           CYCLES LINE SOURCELINE
                             1476 ; 24   |#endif
                             1477 ; 25   |#if !defined(TRUE)
                             1478 ; 26   |#define TRUE  1
                             1479 ; 27   |#endif
                             1480 ; 28   |
                             1481 ; 29   |#if !defined(NULL)
                             1482 ; 30   |#define NULL 0
                             1483 ; 31   |#endif
                             1484 ; 32   |
                             1485 ; 33   |#define MAX_INT     0x7FFFFF
                             1486 ; 34   |#define MAX_LONG    0x7FFFFFffffff
                             1487 ; 35   |        // max positive unsigned long value: -1 == 0xFFFFFFffffff
                             1488 ; 36   |#define MAX_ULONG   (-1) 
                             1489 ; 37   |
                             1490 ; 38   |#define WORD_SIZE   24              // word size in bits
                             1491 ; 39   |#define BYTES_PER_WORD 3            // 8 bit bytes
                             1492 ; 40   |
                             1493 ; 41   |
                             1494 ; 42   |#define BYTE    unsigned char       // btVarName
                             1495 ; 43   |#define CHAR    signed char         // cVarName
                             1496 ; 44   |#define USHORT  unsigned short      // usVarName
                             1497 ; 45   |#define SHORT   unsigned short      // sVarName
                             1498 ; 46   |#define WORD    unsigned int        // wVarName
                             1499 ; 47   |#define INT     signed int          // iVarName
                             1500 ; 48   |#define DWORD   unsigned long       // dwVarName
                             1501 ; 49   |#define LONG    signed long         // lVarName
                             1502 ; 50   |#define BOOL    unsigned int        // bVarName
                             1503 ; 51   |#define FRACT   _fract              // frVarName
                             1504 ; 52   |#define LFRACT  long _fract         // lfrVarName
                             1505 ; 53   |#define CIRC    _circ               // cp<type prefix>VarName (see below)
                             1506 ; 54   |#define FLOAT   float               // fVarName
                             1507 ; 55   |#define DBL     double              // dVarName
                             1508 ; 56   |#define ENUM    enum                // eVarName
                             1509 ; 57   |#define CMX     _complex            // cmxVarName
                             1510 ; 58   |typedef WORD UCS3;                   // 
                             1511 ; 59   |
                             1512 ; 60   |#define UINT16  unsigned short
                             1513 ; 61   |#define UINT8   unsigned char   
                             1514 ; 62   |#define UINT32  unsigned long
                             1515 ; 63   |#define UINT64  unsigned long   // need to figure out how to do 64 bit values.  Or port ex
                                  isiting code to only use 48 bit
                             1516 ; 64   |#define INT64   unsigned long   // need to figure out how to do 64 bit values.  Or port ex
                                  isiting code to only use 48 bit
                             1517 ; 65   |#define WCHAR   UINT16
                             1518 ; 66   |
                             1519 ; 67   |//UINT128 is 16 bytes or 6 words
                             1520 ; 68   |typedef struct UINT128_3500 {   
                             1521 ; 69   |    int val[6];     
                             1522 ; 70   |} UINT128_3500;
                             1523 ; 71   |
                             1524 ; 72   |#define UINT128   UINT128_3500
                             1525 ; 73   |
                             1526 ; 74   |// Little endian word packed byte strings:   
                             1527 ; 75   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                             1528 ; 76   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                             1529 ; 77   |// Little endian word packed byte strings:   
                             1530 ; 78   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                             1531 ; 79   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                             1532 ; 80   |
                             1533 ; 81   |// Declare Memory Spaces To Use When Coding
                             1534 ; 82   |// A. Sector Buffers
                             1535 ; 83   |#define SECTOR_BUFFER_MEM_X _X
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  26

M:ADDR CODE           CYCLES LINE SOURCELINE
                             1536 ; 84   |#define SECTOR_BUFFER_MEM_Y _Y
                             1537 ; 85   |#define SECTOR_BUFFER_MEM SECTOR_BUFFER_MEM_X
                             1538 ; 86   |typedef WORD SECTOR_BUFFER_MEM SECTOR_BUFFER;
                             1539 ; 87   |typedef SECTOR_BUFFER * P_SECTOR_BUFFER;
                             1540 ; 88   |// B. Media DDI Memory
                             1541 ; 89   |#define MEDIA_DDI_MEM _Y
                             1542 ; 90   |
                             1543 ; 91   |
                             1544 ; 92   |
                             1545 ; 93   |// Pointers to linear structures are labeled as: p<type prefix>VarName
                             1546 ; 94   |// Examples of circular pointers:
                             1547 ; 95   |//    INT CIRC cpiVarName
                             1548 ; 96   |//    DWORD CIRC cpdwVarName
                             1549 ; 97   |
                             1550 ; 98   |#define RETCODE INT                 // rcVarName
                             1551 ; 99   |
                             1552 ; 100  |// generic bitfield structure
                             1553 ; 101  |struct Bitfield {
                             1554 ; 102  |    unsigned int B0  :1;
                             1555 ; 103  |    unsigned int B1  :1;
                             1556 ; 104  |    unsigned int B2  :1;
                             1557 ; 105  |    unsigned int B3  :1;
                             1558 ; 106  |    unsigned int B4  :1;
                             1559 ; 107  |    unsigned int B5  :1;
                             1560 ; 108  |    unsigned int B6  :1;
                             1561 ; 109  |    unsigned int B7  :1;
                             1562 ; 110  |    unsigned int B8  :1;
                             1563 ; 111  |    unsigned int B9  :1;
                             1564 ; 112  |    unsigned int B10 :1;
                             1565 ; 113  |    unsigned int B11 :1;
                             1566 ; 114  |    unsigned int B12 :1;
                             1567 ; 115  |    unsigned int B13 :1;
                             1568 ; 116  |    unsigned int B14 :1;
                             1569 ; 117  |    unsigned int B15 :1;
                             1570 ; 118  |    unsigned int B16 :1;
                             1571 ; 119  |    unsigned int B17 :1;
                             1572 ; 120  |    unsigned int B18 :1;
                             1573 ; 121  |    unsigned int B19 :1;
                             1574 ; 122  |    unsigned int B20 :1;
                             1575 ; 123  |    unsigned int B21 :1;
                             1576 ; 124  |    unsigned int B22 :1;
                             1577 ; 125  |    unsigned int B23 :1;
                             1578 ; 126  |};
                             1579 ; 127  |
                             1580 ; 128  |union BitInt {
                             1581 ; 129  |        struct Bitfield B;
                             1582 ; 130  |        int        I;
                             1583 ; 131  |};
                             1584 ; 132  |
                             1585 ; 133  |#define MAX_MSG_LENGTH 10
                             1586 ; 134  |struct CMessage
                             1587 ; 135  |{
                             1588 ; 136  |        unsigned int m_uLength;
                             1589 ; 137  |        unsigned int m_uMsg[MAX_MSG_LENGTH];
                             1590 ; 138  |};
                             1591 ; 139  |
                             1592 ; 140  |typedef struct {
                             1593 ; 141  |    WORD m_wLength;
                             1594 ; 142  |    WORD m_wMessage;
                             1595 ; 143  |    WORD m_wParams[MAX_MSG_LENGTH];
                             1596 ; 144  |} Message;
                             1597 ; 145  |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  27

M:ADDR CODE           CYCLES LINE SOURCELINE
                             1598 ; 146  |struct MessageQueueDescriptor
                             1599 ; 147  |{
                             1600 ; 148  |        int *m_pBase;
                             1601 ; 149  |        int m_iModulo;
                             1602 ; 150  |        int m_iSize;
                             1603 ; 151  |        int *m_pHead;
                             1604 ; 152  |        int *m_pTail;
                             1605 ; 153  |};
                             1606 ; 154  |
                             1607 ; 155  |struct ModuleEntry
                             1608 ; 156  |{
                             1609 ; 157  |    int m_iSignaledEventMask;
                             1610 ; 158  |    int m_iWaitEventMask;
                             1611 ; 159  |    int m_iResourceOfCode;
                             1612 ; 160  |    struct MessageQueueDescriptor *m_pMessageQueue;
                             1613 ; 161  |    int _asmfunc (*m_pProcessEntryPoint)(union WaitMask Signals,struct MessageQueueDescrip
                                  tor *);
                             1614 ; 162  |    int _asmfunc (*m_pInitFunction)(struct MessageQueueDescriptor *);
                             1615 ; 163  |    int m_uTimeOutHigh;
                             1616 ; 164  |    int m_uTimeOutLow;
                             1617 ; 165  |    int _asmfunc (*m_pBackgroundFunction)(struct MessageQueueDescriptor *);
                             1618 ; 166  |};
                             1619 ; 167  |
                             1620 ; 168  |union WaitMask{
                             1621 ; 169  |    struct B{
                             1622 ; 170  |        unsigned int m_bNone     :1;
                             1623 ; 171  |        unsigned int m_bMessage  :1;
                             1624 ; 172  |        unsigned int m_bTimer    :1;
                             1625 ; 173  |        unsigned int m_bButton   :1;
                             1626 ; 174  |    } B;
                             1627 ; 175  |    int I;
                             1628 ; 176  |} ;
                             1629 ; 177  |
                             1630 ; 178  |
                             1631 ; 179  |struct Button {
                             1632 ; 180  |        WORD wButtonEvent;
                             1633 ; 181  |        WORD wUnused[MAX_MSG_LENGTH];   
                             1634 ; 182  |};
                             1635 ; 183  |
                             1636 ; 184  |struct Message {
                             1637 ; 185  |        WORD wMsgLength;
                             1638 ; 186  |        WORD wMsgCommand;
                             1639 ; 187  |        WORD wMsgParms[MAX_MSG_LENGTH-1];
                             1640 ; 188  |};
                             1641 ; 189  |
                             1642 ; 190  |union EventTypes {
                             1643 ; 191  |        struct CMessage msg;
                             1644 ; 192  |        struct Button Button ;
                             1645 ; 193  |        struct Message Message;
                             1646 ; 194  |};
                             1647 ; 195  |
                             1648 ; 196  |// next 2 used to get updater build to return correct protocol ver in scsi response.
                             1649 ; 197  |#define BUILD_TYPE_UPDATER  0x100
                             1650 ; 198  |#define BUILD_TYPE_HOSTLINK 0x101
                             1651 ; 199  |#define BUILD_TYPE_PLAYER   0x102
                             1652 ; 200  |
                             1653 ; 201  |// Resets part if RETAIL build. DEBUG build executes debug instruction to halt.
                             1654 ; 202  |#define SystemHalt() __asm(" include 'sysmacro.asm' \n error") 
                             1655 ; 203  |#define assert(x)    if(!(x)) __asm(" include 'sysmacro.asm' \n error")
                             1656 ; 204  |
                             1657 ; 205  |#if DEBUG
                             1658 ; 206  |// For DEBUG builds, DebugBuildAssert(condition) halts if condition evaluates to FALSE. 
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  28

M:ADDR CODE           CYCLES LINE SOURCELINE
                             1659 ; 207  |#define DebugBuildAssert(x)    if(!(x)) __asm(" debug ")
                             1660 ; 208  |#else 
                             1661 ; 209  |// For RETAIL builds, DebugBuildAssert(condition) does nothing & execution continues rathe
                                  r than halt or reset. 
                             1662 ; 210  |#define DebugBuildAssert(x)    
                             1663 ; 211  |#endif
                             1664 ; 212  |
                             1665 ; 213  |// Do this in your C files to make a reminder that's displayed during the build.
                             1666 ; 214  |//  #pragma asm
                             1667 ; 215  |//  WARN 'Note to builder: reminder to do this after verifying that'
                             1668 ; 216  |//  #pragma endasm
                             1669 ; 217  |
                             1670 ; 218  |
                             1671 ; 219  |#ifdef COLOR_262K
                             1672 ; 220  |#define RGB(r,g,b)    ((0x0000FC & (r)) << 10) | ((0x0000FC & (g)) << 4) | ((0x0000FC & (b
                                  )) >> 2)    //262k
                             1673 ; 221  |#elif defined(COLOR_65K)
                             1674 ; 222  |#define RGB(r,g,b)    ((0x0000F8 & (r)) << 8) | ((0x0000FC & (g)) << 3) | ((0x0000F8 & (b)
                                  ) >> 3)  //65k
                             1675 ; 223  |#else
                             1676 ; 224  |#define RGB(r,g,b)       ((0x0000F0 & (r)) << 4) | (0x0000F0 & (g)) | ((0x0000F0 & (b)) >>
                                   4)
                             1677 ; 225  |#endif
                             1678 ; 226  |    
                             1679 ; 227  |#endif // #ifndef _TYPES_H
                             1680 
                             1682 
                             1683 ; 2    |#include "fstypes.h"
                             1684 
                             1686 
                             1687 ; 1    |#ifndef _FS_TYPE_H_
                             1688 ; 2    |#define _FS_TYPE_H_
                             1689 ; 3    |
                             1690 ; 4    |#include   "types.h"
                             1691 ; 5    |
                             1692 ; 6    |// move FSMEDIA_TABLE from devicetable.h  15Apr2005   First moved in SDK2.6.
                             1693 ; 7    |typedef struct
                             1694 ; 8    |{
                             1695 ; 9    |
                             1696 ; 10   |INT     _Y BytesPerSector;
                             1697 ; 11   |INT     _Y SectorsPerCluster;
                             1698 ; 12   |INT     _Y RsvdSectors;
                             1699 ; 13   |INT     _Y NoOfFATs;
                             1700 ; 14   |INT     _Y MaxRootDirEntries;
                             1701 ; 15   |LONG    _Y TotalSectors;
                             1702 ; 16   |LONG    _Y FATSize;
                             1703 ; 17   |LONG    _Y RootdirCluster;
                             1704 ; 18   |//INT   _Y FSInfoSector;
                             1705 ; 19   |//INT   _Y BkBootSector;
                             1706 ; 20   |LONG    _Y NextFreeCluster;
                             1707 ; 21   |LONG    _Y TotalFreeClusters;
                             1708 ; 22   |INT     _Y RootDirSectors;
                             1709 ; 23   |INT     _Y FIRSTDataSector;
                             1710 ; 24   |INT    _Y FATType;
                             1711 ; 25   |LONG   _Y TotalNoofclusters;
                             1712 ; 26   |INT    _Y ClusterMask;
                             1713 ; 27   |INT    _Y ClusterShift;
                             1714 ; 28   |INT    _Y SectorShift;
                             1715 ; 29   |INT    _Y SectorMask;
                             1716 ; 30   |INT    _Y DevicePresent;
                             1717 ; 31   |LONG   _Y FirRootdirsec;
                             1718 ; 32   |INT             _Y FSInfoSector;
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  29

M:ADDR CODE           CYCLES LINE SOURCELINE
                             1719 ; 33   |}FSMEDIA_TABLE;
                             1720 ; 34   |
                             1721 ; 35   |
                             1722 ; 36   |#define         MAXDEVICES              2
                             1723 ; 37   |//#define       NUMCACHES               8  // this is already in fsproj.h (2 for player 2 
                                  for mtp as of 28jun2005) TOVERIFY 2 ok for player and mtp. 
                             1724 ; 38   |
                             1725 ; 39   |// NOTE:  This offset is the same no matter what the sector actual size!  
                             1726 ; 40   |//        TOVERIFY 3.0 doesn't have this defined but uses it in filesystempresent.c. lbmlc
                                   def'd it here so I insert it here.
                             1727 ; 41   |#define         FATFS_SIGNATURE_OFFSET  510
                             1728 ; 42   |#define         BOOTSECTOR              0
                             1729 ; 43   |#define     FSINFOSECTOR        1
                             1730 ; 44   |
                             1731 ; 45   |#define     READ_MODE           1
                             1732 ; 46   |#define     WRITE_MODE          2
                             1733 ; 47   |#define     APPEND_MODE         4
                             1734 ; 48   |#define     SEQ_WRITE_MODE      8
                             1735 ; 49   |#define     DIRECTORY_MODE         16
                             1736 ; 50   |#define     CREATE_MODE        32
                             1737 ; 51   |
                             1738 ; 52   |#define     RPLUS               5
                             1739 ; 53   |#define     WPLUS                   6
                             1740 ; 54   |#define     APLUS               7
                             1741 ; 55   |
                             1742 ; 56   |
                             1743 ; 57   |
                             1744 ; 58   |#define     X_MEMORY            0
                             1745 ; 59   |#define     Y_MEMORY            2
                             1746 ; 60   |#define     P_MEMORY            4
                             1747 ; 61   |
                             1748 ; 62   |#define     FAT12               0 
                             1749 ; 63   |#define     FAT16               1   
                             1750 ; 64   |#define     FAT32               2 
                             1751 ; 65   |
                             1752 ; 66   |
                             1753 ; 67   |#define FAT12EOF            0x0FFF
                             1754 ; 68   |#define FAT16EOF            0xFFFF
                             1755 ; 69   |#define FAT32EOF            0x0FFFFFFF
                             1756 ; 70   |
                             1757 ; 71   |
                             1758 ; 72   |
                             1759 ; 73   |#define FAT12FREECX         0x000
                             1760 ; 74   |#define FAT16FREECX         0x0000
                             1761 ; 75   |#define FAT32FREECX         0x00000000
                             1762 ; 76   |
                             1763 ; 77   |
                             1764 ; 78   |#define  DBCS               1
                             1765 ; 79   |#define  UNICODE            2
                             1766 ; 80   |
                             1767 ; 81   |
                             1768 ; 82   |#define     CREATION_DATE       1
                             1769 ; 83   |#define     CREATION_TIME       2
                             1770 ; 84   |#define     MODIFICATION_DATE   3
                             1771 ; 85   |#define     MODIFICATION_TIME   4
                             1772 ; 86   |
                             1773 ; 87   |
                             1774 ; 88   |#define     READ_ONLY      0X01
                             1775 ; 89   |#define     HIDDEN         0X02
                             1776 ; 90   |#define     SYSTEM         0X04
                             1777 ; 91   |#define     VOLUME_ID      0X08
                             1778 ; 92   |#define     DIRECTORY      0X10
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  30

M:ADDR CODE           CYCLES LINE SOURCELINE
                             1779 ; 93   |#define     ARCHIVE        0X20
                             1780 ; 94   |
                             1781 ; 95   |#define READCOUNTER         105
                             1782 ; 96   |#define WRITECOUNTER        100
                             1783 ; 97   |#define FLUSHCOUNTER        200
                             1784 ; 98   |
                             1785 ; 99   |
                             1786 ; 100  |#define DEFAULT_MEMORY      Y_MEMORY
                             1787 ; 101  |
                             1788 ; 102  |#define  CWD_HANDLE           0
                             1789 ; 103  |#define  DIRECTORY_HANDLE     1
                             1790 ; 104  |#define  FIRST_VALID_HANDLE   2
                             1791 ; 105  |#define  END_OF_DIR_PATH      3
                             1792 ; 106  |
                             1793 ; 107  |//Constants for Sector read and write (Normal and FAT 
                             1794 ; 108  |#define         NORMALTYPE              0
                             1795 ; 109  |#define         FATTYPE                 1
                             1796 ; 110  |#define     RAWTYPE         2
                             1797 ; 111  |
                             1798 ; 112  |#define  SHORTNAMERES_CH      6
                             1799 ; 113  |#define  LONGNAMERES_CH       9
                             1800 ; 114  |#define  MAXFILENAME_CH       260
                             1801 ; 115  |
                             1802 ; 116  |#define VOLUME_TYPE          0
                             1803 ; 117  |#define DIR_TYPE             1
                             1804 ; 118  |#define FILE_TYPE            2
                             1805 ; 119  |                                           
                             1806 ; 120  |#define WRITE_TYPE_RANDOM               0
                             1807 ; 121  |#define WRITE_TYPE_SEQ_FIRST    1
                             1808 ; 122  |#define WRITE_TYPE_SEQ_NEXT             2
                             1809 ; 123  |#define WRITE_TYPE_NOREADBACK   3
                             1810 ; 124  |                  
                             1811 ; 125  |
                             1812 ; 126  |#define     HANDLEENTRYSIZE         19
                             1813 ; 127  |
                             1814 ; 128  |// DEVICERECORDSIZE is now only defined in cachedef.h so deleted from here in first 3.1 pr
                                  elim 
                             1815 ; 129  |
                             1816 ; 130  |#define     CACHEDESCRSIZE          8
                             1817 ; 131  |#define     CACHEBUFSIZE            705
                             1818 ; 132  |
                             1819 ; 133  |#define     UCS2s                     0
                             1820 ; 134  |#define     UCS3s                     1
                             1821 ; 135  |
                             1822 ; 136  |#define     FAT32FSIFREECOUNTSIZE       4
                             1823 ; 137  |
                             1824 ; 138  |#endif // _FS_TYPE_H_
                             1825 ; 139  |
                             1826 
                             1828 
                             1829 ; 3    |
                             1830 ; 4    |typedef struct {
                             1831 ; 5    |        INT CacheValid;
                             1832 ; 6    |    INT DeviceNum;
                             1833 ; 7    |        LONG SectorNumber;
                             1834 ; 8    |        INT WriteAttribute;
                             1835 ; 9    |        INT Mode;
                             1836 ; 10   |        INT CacheCounter;
                             1837 ; 11   |        INT _X *CacheMem;
                             1838 ; 12   |} tCACHEDESCR;
                             1839 ; 13   |
                             1840 
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  31

M:ADDR CODE           CYCLES LINE SOURCELINE
                             1842 
                             1843 ; 4    |//#include "dirrecord.h"
                             1844 ; 5    |
                             1845 ; 6    |extern INT maxhandles;
                             1846 ; 7    |extern INT maxdevices;
                             1847 ; 8    |extern INT maxcaches;
                             1848 ; 9    |extern INT device[];
                             1849 ; 10   |extern INT gCurrentRecord;
                             1850 
                             1866 
                             1867 ; 11   |extern HANDLETABLE *Handle;
                             1868 
                             1892 
                             1893 ; 12   |extern FSMEDIA_TABLE *MediaTable;
                             1894 ; 13   |extern _packed char gCurrentWorkingdirectory[]; // use blank instead of 80 here. actually 
                                  256 multiple now
                             1895 
                             1907 
                             1908 ; 14   |extern tCACHEDESCR *CacheDesc;
                             1909 ; 15   |extern ss_FsCopyBuffer;
                             1910 ; 16   |
                             1911 ; 17   |//Non-reentrant
                             1912 ; 18   |
                             1913 ; 19   |        //      SGTL-HK 27-05-2005
                             1914 ; 20   |extern _reentrant INT CreateDirectory(INT HandleNumber,_packed char *Buffer,INT length,INT
                                   index,INT stringtype);
                             1915 ; 21   |
                             1916 ; 22   |extern _reentrant LONG Ftell(INT HandleNumber);//Non _reentrant 
                             1917 ; 23   |extern _reentrant INT Fcreate(INT HandleNumber,_packed char *FileName,INT stringtype,INT l
                                  ength,INT index);
                             1918 ; 24   |extern _reentrant LONG GetFileSize(INT HandleNumber);
                             1919 ; 25   |extern _reentrant INT UpdateFileSize(INT HandleNumber,INT flag);
                             1920 ; 26   |extern _reentrant INT GetNewcluster(INT Handlenumber);
                             1921 ; 27   |extern _reentrant INT IsHandleWriteAllocated(INT HandleNumber);
                             1922 ; 28   |extern _reentrant INT Searchfreehandleallocate(void);
                             1923 ; 29   |extern _reentrant LONG FirstfreeAndallocate(INT DeviceNum);
                             1924 ; 30   |extern _reentrant LONG FindnextFreecurrentcluster(INT DeviceNum,LONG clusterno);
                             1925 ; 31   |extern _reentrant INT _X *FirstfreeAndallocateFAT32(INT DeviceNum,LONG FATsectrono,INT FAT
                                  offset ,INT _X *buf, LONG *ClusterNo);
                             1926 ; 32   |extern _reentrant INT  WriteFATentry(INT DeviceNum,LONG FATsector,INT FATNtryoffset,LONG c
                                  lusterno,LONG writentry);
                             1927 ; 33   |extern _reentrant INT WriteSector(INT deviceNumber, LONG sectorNumber, INT Offset, INT *So
                                  urcebuffer,INT SourceOffset,INT size,INT Source_Memory, INT SectorType,INT Modulo);
                             1928 ; 34   |extern _reentrant INT FlushSector(INT deviceNumber, LONG sectorNumber,INT SectorType);
                             1929 ; 35   |#ifdef k_opt_dynamic_cache
                             1930 ; 36   |extern _reentrant INT _X *ReadSector(INT DeviceNum, LONG sectorNum,INT SectorType);
                             1931 ; 37   |#else
                             1932 ; 38   |extern INT _X *ReadSector(INT DeviceNum, LONG sectorNum,INT SectorType);
                             1933 ; 39   |#endif
                             1934 ; 40   |extern _reentrant INT EraseSector(INT deviceNumber, LONG sectorNumber);
                             1935 ; 41   |
                             1936 ; 42   |
                             1937 ; 43   |//extern INT filesetattrib(INT HandleNumber,INT dirattribute); TOVERIFY2. 3.05 commented t
                                  his ln out. 2.600 had is present.
                             1938 ; 44   |//extern INT filesetdate(INT HandleNumber,INT crt_mod_date_time_para,DIR_DATE *dirdate,DIR
                                  _TIME *dirtime);
                             1939 ; 45   |//Reentrant
                             1940 ; 46   |//extern INT ReleaseBuffer(INT deviceNumber, LONG sectorNumber);
                             1941 ; 47   |extern _reentrant LONG Firstsectorofcluster(INT DeviceNum,LONG clusterno);
                             1942 ; 48   |extern _reentrant LONG ReadFATentry(INT Devicenum,LONG FATsector,INT FATNtryoffset,LONG cl
                                  usterno);
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  32

M:ADDR CODE           CYCLES LINE SOURCELINE
                             1943 ; 49   |extern _reentrant INT _X *ReadFAT12Entry(INT DeviceNum,INT *FATsectorNo,INT FATntryoffset,
                                  LONG clusterNum,INT _X *buf,INT *FATentry);
                             1944 ; 50   |extern INT  FSInit(INT _X *bufx, INT _Y *bufy, INT maxdevices, INT maxhandles, INT maxcach
                                  es);
                             1945 ; 51   |
                             1946 ; 52   |extern RETCODE _reentrant MediaInit(WORD wLogMediaNumber);
                             1947 ; 53   |extern _reentrant INT Handleactive(INT HandleNumber);
                             1948 ; 54   |extern INT DriveLetter[];
                             1949 ; 55   |extern _reentrant LONG Findnextcluster(INT DeviceNum,LONG clusterno);
                             1950 ; 56   |
                             1951 ; 57   |extern _reentrant INT UpdateHandleOffsets(INT HandleNumber);
                             1952 ; 58   |extern _reentrant INT FindNextSector(INT Device,INT HandleNumber);
                             1953 ; 59   |extern _reentrant INT Updatehandlemode(INT HandleNumber,INT Mode);
                             1954 ; 60   |
                             1955 ; 61   |extern _reentrant LONG Feof(INT HandleNumber);
                             1956 ; 62   |extern _reentrant INT *Fputs(INT HandleNumber,INT *Buffer);
                             1957 ; 63   |extern _reentrant LONG Fread(INT HandleNumber,INT *Buffer,LONG NumBytesToRead,INT Source_M
                                  emory, INT modulo);
                             1958 ; 64   |extern  _reentrant INT Fgetc(INT HandleNumber);
                             1959 ; 65   |extern _reentrant INT Fputc(INT HandleNumber,INT ByteToWrite);
                             1960 ; 66   |extern _reentrant INT Stringlength(INT *Buffer);
                             1961 ; 67   |extern _reentrant LONG ReadDirectoryRecord(INT HandleNumber,INT RecordNumber,INT *Buffer);
                                  
                             1962 ; 68   |extern _reentrant INT Fseek(INT HandleNumber,LONG NumBytesToSeek,INT SeekPosition);
                             1963 ; 69   |extern _reentrant INT CreateDirRecord(_packed char *Buffer,INT HandleNumber,LONG ClusterNu
                                  mber,INT DirAttr,INT stringtype,INT length,INT index,INT *unicodebuffer);
                             1964 ; 70   |extern _reentrant INT FindfreeRecord(INT Handlenumber,INT count);
                             1965 ; 71   |extern _reentrant LONG Firstrootdirsector(INT DeviceNum);
                             1966 ; 72   |//extern _reentrant INT Searchfreerecord(INT DeviceNum ,LONG sectorNum);
                             1967 ; 73   |
                             1968 ; 74   |extern _reentrant INT  Readdevicerecord(INT DeviceNum);
                             1969 ; 75   |extern INT MediaRead(INT deviceNumber, LONG sectorNumber,int _X *readbuf,INT SectorType);
                             1970 ; 76   |extern INT MediaWrite(INT deviceNumber,LONG sectorNumber, int _X *readbuf,INT SectorType);
                                  
                             1971 ; 77   |extern _reentrant INT Shortdirmatch(INT HandleNumber,INT RecordNo,_packed char *shortname,
                                  _packed char *file,INT *buf,INT Flag,INT lenght,INT index,INT *Buffer);
                             1972 ; 78   |extern _reentrant INT UpdateHandle(INT HandleNumber,LONG clusterno);
                             1973 ; 79   |extern _reentrant void Uppercase(_packed char *file); 
                             1974 ; 80   |extern _reentrant void ArrangeFileName(INT *Buffer,INT *ShortFileName);
                             1975 ; 81   |extern _reentrant INT ClearCluster(INT HandleNumber);
                             1976 ; 82   |
                             1977 ; 83   |extern _reentrant INT Fopen(_packed char *filepath,_packed char *mode);
                             1978 ; 84   |extern _reentrant LONG FATsectorno(INT DeviceNum,LONG clusterno,INT *FATNtryoffset);
                             1979 ; 85   |
                             1980 ; 86   |extern _reentrant LONG Fwrite(INT HandleNumber,INT  *Buffer,LONG NumBytesToWrite,INT Sourc
                                  e_Memory,INT modulo);
                             1981 ; 87   |
                             1982 ; 88   |extern _reentrant INT ExtractPath(_packed char *filepath,INT *index);
                             1983 ; 89   |extern _reentrant INT ExtractPathW(_packed char *filepath,INT *index);
                             1984 ; 90   |extern _reentrant INT SetHandleforsearch(INT HandleNumber,_packed char *filepath,INT strin
                                  gtype,INT *index);
                             1985 ; 91   |extern _reentrant INT Changepath(INT HandleNumber,_packed char *filepath,INT stringtype,IN
                                  T startposition,INT index,INT RecordNumber);
                             1986 ; 92   |extern _reentrant INT Longdirmatch(INT HandleNumber,INT RecordNo,_packed char *file,INT le
                                  ngth,INT index,INT stringtype);
                             1987 ; 93   |extern _reentrant INT Getname(_packed char *filepath, INT currentPosition);
                             1988 ; 94   |extern _reentrant INT Strlength(_packed char *filepath);
                             1989 ; 95   |extern _reentrant INT StrlengthW(_packed char *filepath);                        
                             1990 ; 96   |extern _reentrant INT MatchdirRecordW(INT HandleNumber,INT RecordNo,_packed char *file,INT
                                   *buf,INT length,INT index);
                             1991 ; 97   |extern _reentrant INT MatchdirRecord(INT HandleNumber,INT RecordNo,_packed char *file,INT 
                                  *buf,INT Flag,INT lenght,INT index,INT *Buffer);
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  33

M:ADDR CODE           CYCLES LINE SOURCELINE
                             1992 ; 98   |extern _reentrant LONG Searchdirectory(INT HandleNumber,_packed char *file,INT stringtype,
                                  INT Flag,INT lenght,INT index,INT *Buffer,BOOL *Ptr); // sdk3.05 ver at left; ,BOOL bInputIsSFN,BO
                                  OL *Ptr); extra end param in 2.600 ver. TOVERIFY2
                             1993 ; 99   |extern _reentrant INT GetnameW(_packed char *filepath,INT currentPosition);
                             1994 ; 100  |extern _reentrant INT Extractfilename(_packed char *filepath,INT length, INT *index);
                             1995 ; 101  |extern _reentrant INT Changecase(INT wordno);
                             1996 ; 102  |extern _reentrant INT ReadRootdirRecord(INT HandleNumber,INT RecordNumber,INT *Buffer);
                             1997 ; 103  |extern _reentrant LONG Totalfreecluster(INT DeviceNum);
                             1998 ; 104  |
                             1999 ; 105  |extern INT maxhandles;
                             2000 ; 106  |extern INT maxdevices;
                             2001 ; 107  |
                             2002 ; 108  |extern _reentrant INT Isfileopen(INT HandleNumber);
                             2003 ; 109  |extern _reentrant INT Freehandle(INT HandleNumber);
                             2004 ; 110  |extern _reentrant INT DeleteRecord(INT HandleNumber, INT RecordNo);
                             2005 ; 111  |extern _reentrant INT Isdirectoryempty( INT Handlenumber);
                             2006 ; 112  |extern _reentrant INT Strcpy(_packed char *filepath, _packed char *file_path1,INT length, 
                                  INT index);
                             2007 ; 113  |extern _reentrant INT Strcpyw(_packed char *filepath, _packed char *file_path1,INT length,
                                   INT index);
                             2008 ; 114  |extern _reentrant void Setfilename(_packed char *buf, _packed char *buffer_1);
                             2009 ; 115  |extern _reentrant INT Chdir(_packed char *filepath);
                             2010 ; 116  |extern _reentrant INT Rmdir(_packed char *filepath);
                             2011 ; 117  |extern _reentrant INT Rmdirw(_packed char *filepath);
                             2012 ; 118  |
                             2013 ; 119  |extern _reentrant INT Mkdir(_packed char *filepath);
                             2014 
                             2016 
                             2017 ; 120  |
                             2018 ; 121  |        //      SGTL-HK 27-05-2005
                             2019 ; 122  |extern _reentrant INT Mkdirw(UCS3 *filepath);
                             2020 ; 123  |
                             2021 ; 124  |extern _reentrant INT Setcwd(_packed char *filepath, _packed char *gCworkingDir,INT index,
                                  INT length);
                             2022 ; 125  |extern _reentrant INT DeleteContent(INT HandleNumber, INT flag);
                             2023 ; 126  |
                             2024 ; 127  |extern _reentrant _packed char *Getcwd(void);
                             2025 ; 128  |
                             2026 ; 129  |extern _reentrant _packed char *Fgets(INT HandleNumber,INT NumBytes,_packed char *Buffer);
                                  
                             2027 ; 130  |extern _reentrant INT Fopenw(INT  *filepath,_packed char *mode);
                             2028 ; 131  |extern _reentrant INT SetcurrentPos(INT HandleNumber,INT RecordNumber);
                             2029 ; 132  |extern _reentrant INT Fremove(_packed char *filepath);
                             2030 ; 133  |extern _reentrant INT Fremovew(_packed char *filepath);
                             2031 ; 134  |
                             2032 ; 135  |extern  _reentrant  INT ChangeToRootdirectory(INT HandleNumber);
                             2033 ; 136  |                                                  
                             2034 ; 137  |extern _reentrant void DBCSToUnicode(_packed unsigned char *pDBCS, WORD *pUnicode,INT iLen
                                  gth);
                             2035 ; 138  |extern _reentrant LONG TotalfreeclusterFAT16(INT DeviceNum);
                             2036 ; 139  |extern _reentrant Ferror(INT HandleNumber);
                             2037 ; 140  |extern _reentrant INT Fclose(INT HandleNumber);
                             2038 ; 141  |extern _reentrant Fflush(INT HandleNumber);
                             2039 ; 142  |extern _reentrant INT FastOpen(LONG Key,_packed char *mode);
                             2040 ; 143  |//extern _reentrant INT filegetdate(INT HandleNumber,INT crt_mod_date_time_para,DIR_DATE *
                                  dirdate,DIR_TIME *dirtime);
                             2041 ; 144  |extern _reentrant INT filegetattrib(_packed char *FilePath);
                             2042 ; 145  |extern _reentrant INT FileSystemPresent(INT DeviceNum);
                             2043 ; 146  |extern _reentrant INT CheckspaceinRootdir(INT Handlenumber,INT count);
                             2044 ; 147  |extern _reentrant LONG FgetFastHandle(INT HandleNumber);
                             2045 ; 148  |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  34

M:ADDR CODE           CYCLES LINE SOURCELINE
                             2046 ; 149  |extern  _reentrant void Setshortfilename(INT HandleNumber,INT *Buffer,_packed char *shortf
                                  ilename);
                             2047 ; 150  |extern _reentrant INT ArrangeLongFileName(INT HandleNumber,_packed char *filename,INT coun
                                  t,INT chksum);
                             2048 ; 151  |extern  _reentrant INT IsShortNameValid(_packed char *Buffer,INT length,INT index);
                             2049 ; 152  |
                             2050 ; 153  |extern _reentrant INT ChkSum(_packed char *filename);
                             2051 ; 154  |extern INT Short_NameRes_Ch[];  // sdk3.05 moved these from explicit _X to default Y mem s
                                  pace. TOVERIFY2 ensure that references don't refer to _X now.
                             2052 ; 155  |extern INT Long_NameRes_Ch[];   // "
                             2053 ; 156  |extern _reentrant void UnicodeToOEM(_packed char *file,_packed char *shortname,INT length,
                                  INT index);
                             2054 ; 157  |
                             2055 ; 158  |extern _reentrant INT getcontentcode(INT Type,_packed char *filepath,INT OUTcode);
                             2056 ; 159  |
                             2057 ; 160  |extern _reentrant INT Checkcode(_packed char *buf,INT Count);
                             2058 ; 161  |extern _reentrant INT CreateShortDirRecord(INT *filename,INT HandleNumber,LONG ClusterNumb
                                  er,INT DirAttr);
                             2059 ; 162  |extern _reentrant INT CheckVolumeCode(INT HandleNumber);
                             2060 ; 163  |extern _reentrant INT Convert_itoa(INT Number,_packed char *string);
                             2061 ; 164  |extern _reentrant INT GetChar(_packed char *Buffer,INT *offset);
                             2062 ; 165  |extern _reentrant void PutChar(_packed char *Buffer,INT *offset,INT Char);
                             2063 ; 166  |extern _reentrant void DBCStoTwoByteString(_packed char *filename,INT *string,INT length,I
                                  NT index);
                             2064 ; 167  |extern _reentrant INT DiscardTrailigPeriods(_packed char *Buffer,INT length,INT index,INT 
                                  flag);
                             2065 ; 168  |extern _reentrant void GetDBCSstring(_packed char *filename,INT *string);
                             2066 ; 169  |extern _reentrant INT  DiscardTrailigPeriodsw(_packed char *Buffer,INT length,INT index);
                             2067 ; 170  |extern _reentrant  INT Extractfilenamew(_packed char *filepath, INT *index);
                             2068 ; 171  |extern _reentrant INT IsCurrWorkDir(INT HandleNumber);
                             2069 ; 172  |extern INT _reentrant ConstructLongFileName(INT HandleNumber, INT RecordNumber, INT *LFNBu
                                  ffer);
                             2070 ; 173  |extern _reentrant INT GetUnicodeWord(INT *Buffer,INT LFNOffset);
                             2071 ; 174  |extern _reentrant INT GetShortfilename(LONG Key,INT *Buffer);
                             2072 ; 175  |extern _reentrant LONG GetRootdirkey(INT DeviceNumber);
                             2073 ; 176  |extern _reentrant INT strcpyUCS3_2(INT *filepath_UCS3,INT *filepath_UCS2, INT index, INT l
                                  ength);
                             2074 ; 177  |extern _reentrant INT StrlengthUCS3(_packed char *filepath);
                             2075 ; 178  |extern _reentrant INT  DiscardTrailigPeriodsUCS3(_packed char *Buffer,INT length,INT index
                                  );
                             2076 ; 179  |extern  INT _reentrant  GetVolumeLabel(_packed char *Buffer,INT DeviceNum);
                             2077 ; 180  |extern _reentrant INT SetVolumeLabel(_packed char *Buffer,INT DeviceNum);
                             2078 ; 181  |
                             2079 ; 182  |extern _reentrant void UpdateFSInfo (void); // sdk2.600 had this line but sdk3.05 did not.
                                   New func from TH.
                             2080 
                             2082 
                             2083 ; 29   |#include "filesystem.h"
                             2084 
                             2086 
                             2087 ; 1    |////////////////////////////////////////////////////////////////////////////////
                             2088 ; 2    |//  Copyright(C) SigmaTel, Inc. 2001
                             2089 ; 3    |//
                             2090 ; 4    |//  File        : FileSystem.h
                             2091 ; 5    |//  Description : Header File for File System
                             2092 ; 6    |////////////////////////////////////////////////////////////////////////////////
                             2093 ; 7    |
                             2094 ; 8    |#ifndef _FILESYSTEM_H
                             2095 ; 9    |#define _FILESYSTEM_H
                             2096 ; 10   |
                             2097 ; 11   |#include "types.h"
                             2098 
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  35

M:ADDR CODE           CYCLES LINE SOURCELINE
                             2100 
                             2101 ; 1    |////////////////////////////////////////////////////////////////////////////////
                             2102 ; 2    |// Copyright(C) SigmaTel, Inc. 2000-2004
                             2103 ; 3    |//
                             2104 ; 4    |// Filename: types.h
                             2105 ; 5    |// Description: Standard data types
                             2106 ; 6    |////////////////////////////////////////////////////////////////////////////////
                             2107 ; 7    |
                             2108 ; 8    |#ifndef _TYPES_H
                             2109 ; 9    |#define _TYPES_H
                             2110 ; 10   |
                             2111 ; 11   |// TODO:  move this outta here!
                             2112 ; 12   |#if !defined(NOERROR)
                             2113 ; 13   |#define NOERROR 0
                             2114 ; 14   |#define SUCCESS 0
                             2115 ; 15   |#endif 
                             2116 ; 16   |#if !defined(SUCCESS)
                             2117 ; 17   |#define SUCCESS  0
                             2118 ; 18   |#endif
                             2119 ; 19   |#if !defined(ERROR)
                             2120 ; 20   |#define ERROR   -1
                             2121 ; 21   |#endif
                             2122 ; 22   |#if !defined(FALSE)
                             2123 ; 23   |#define FALSE 0
                             2124 ; 24   |#endif
                             2125 ; 25   |#if !defined(TRUE)
                             2126 ; 26   |#define TRUE  1
                             2127 ; 27   |#endif
                             2128 ; 28   |
                             2129 ; 29   |#if !defined(NULL)
                             2130 ; 30   |#define NULL 0
                             2131 ; 31   |#endif
                             2132 ; 32   |
                             2133 ; 33   |#define MAX_INT     0x7FFFFF
                             2134 ; 34   |#define MAX_LONG    0x7FFFFFffffff
                             2135 ; 35   |        // max positive unsigned long value: -1 == 0xFFFFFFffffff
                             2136 ; 36   |#define MAX_ULONG   (-1) 
                             2137 ; 37   |
                             2138 ; 38   |#define WORD_SIZE   24              // word size in bits
                             2139 ; 39   |#define BYTES_PER_WORD 3            // 8 bit bytes
                             2140 ; 40   |
                             2141 ; 41   |
                             2142 ; 42   |#define BYTE    unsigned char       // btVarName
                             2143 ; 43   |#define CHAR    signed char         // cVarName
                             2144 ; 44   |#define USHORT  unsigned short      // usVarName
                             2145 ; 45   |#define SHORT   unsigned short      // sVarName
                             2146 ; 46   |#define WORD    unsigned int        // wVarName
                             2147 ; 47   |#define INT     signed int          // iVarName
                             2148 ; 48   |#define DWORD   unsigned long       // dwVarName
                             2149 ; 49   |#define LONG    signed long         // lVarName
                             2150 ; 50   |#define BOOL    unsigned int        // bVarName
                             2151 ; 51   |#define FRACT   _fract              // frVarName
                             2152 ; 52   |#define LFRACT  long _fract         // lfrVarName
                             2153 ; 53   |#define CIRC    _circ               // cp<type prefix>VarName (see below)
                             2154 ; 54   |#define FLOAT   float               // fVarName
                             2155 ; 55   |#define DBL     double              // dVarName
                             2156 ; 56   |#define ENUM    enum                // eVarName
                             2157 ; 57   |#define CMX     _complex            // cmxVarName
                             2158 ; 58   |typedef WORD UCS3;                   // 
                             2159 ; 59   |
                             2160 ; 60   |#define UINT16  unsigned short
                             2161 ; 61   |#define UINT8   unsigned char   
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  36

M:ADDR CODE           CYCLES LINE SOURCELINE
                             2162 ; 62   |#define UINT32  unsigned long
                             2163 ; 63   |#define UINT64  unsigned long   // need to figure out how to do 64 bit values.  Or port ex
                                  isiting code to only use 48 bit
                             2164 ; 64   |#define INT64   unsigned long   // need to figure out how to do 64 bit values.  Or port ex
                                  isiting code to only use 48 bit
                             2165 ; 65   |#define WCHAR   UINT16
                             2166 ; 66   |
                             2167 ; 67   |//UINT128 is 16 bytes or 6 words
                             2168 ; 68   |typedef struct UINT128_3500 {   
                             2169 ; 69   |    int val[6];     
                             2170 ; 70   |} UINT128_3500;
                             2171 ; 71   |
                             2172 ; 72   |#define UINT128   UINT128_3500
                             2173 ; 73   |
                             2174 ; 74   |// Little endian word packed byte strings:   
                             2175 ; 75   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                             2176 ; 76   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                             2177 ; 77   |// Little endian word packed byte strings:   
                             2178 ; 78   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                             2179 ; 79   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                             2180 ; 80   |
                             2181 ; 81   |// Declare Memory Spaces To Use When Coding
                             2182 ; 82   |// A. Sector Buffers
                             2183 ; 83   |#define SECTOR_BUFFER_MEM_X _X
                             2184 ; 84   |#define SECTOR_BUFFER_MEM_Y _Y
                             2185 ; 85   |#define SECTOR_BUFFER_MEM SECTOR_BUFFER_MEM_X
                             2186 ; 86   |typedef WORD SECTOR_BUFFER_MEM SECTOR_BUFFER;
                             2187 ; 87   |typedef SECTOR_BUFFER * P_SECTOR_BUFFER;
                             2188 ; 88   |// B. Media DDI Memory
                             2189 ; 89   |#define MEDIA_DDI_MEM _Y
                             2190 ; 90   |
                             2191 ; 91   |
                             2192 ; 92   |
                             2193 ; 93   |// Pointers to linear structures are labeled as: p<type prefix>VarName
                             2194 ; 94   |// Examples of circular pointers:
                             2195 ; 95   |//    INT CIRC cpiVarName
                             2196 ; 96   |//    DWORD CIRC cpdwVarName
                             2197 ; 97   |
                             2198 ; 98   |#define RETCODE INT                 // rcVarName
                             2199 ; 99   |
                             2200 ; 100  |// generic bitfield structure
                             2201 ; 101  |struct Bitfield {
                             2202 ; 102  |    unsigned int B0  :1;
                             2203 ; 103  |    unsigned int B1  :1;
                             2204 ; 104  |    unsigned int B2  :1;
                             2205 ; 105  |    unsigned int B3  :1;
                             2206 ; 106  |    unsigned int B4  :1;
                             2207 ; 107  |    unsigned int B5  :1;
                             2208 ; 108  |    unsigned int B6  :1;
                             2209 ; 109  |    unsigned int B7  :1;
                             2210 ; 110  |    unsigned int B8  :1;
                             2211 ; 111  |    unsigned int B9  :1;
                             2212 ; 112  |    unsigned int B10 :1;
                             2213 ; 113  |    unsigned int B11 :1;
                             2214 ; 114  |    unsigned int B12 :1;
                             2215 ; 115  |    unsigned int B13 :1;
                             2216 ; 116  |    unsigned int B14 :1;
                             2217 ; 117  |    unsigned int B15 :1;
                             2218 ; 118  |    unsigned int B16 :1;
                             2219 ; 119  |    unsigned int B17 :1;
                             2220 ; 120  |    unsigned int B18 :1;
                             2221 ; 121  |    unsigned int B19 :1;
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  37

M:ADDR CODE           CYCLES LINE SOURCELINE
                             2222 ; 122  |    unsigned int B20 :1;
                             2223 ; 123  |    unsigned int B21 :1;
                             2224 ; 124  |    unsigned int B22 :1;
                             2225 ; 125  |    unsigned int B23 :1;
                             2226 ; 126  |};
                             2227 ; 127  |
                             2228 ; 128  |union BitInt {
                             2229 ; 129  |        struct Bitfield B;
                             2230 ; 130  |        int        I;
                             2231 ; 131  |};
                             2232 ; 132  |
                             2233 ; 133  |#define MAX_MSG_LENGTH 10
                             2234 ; 134  |struct CMessage
                             2235 ; 135  |{
                             2236 ; 136  |        unsigned int m_uLength;
                             2237 ; 137  |        unsigned int m_uMsg[MAX_MSG_LENGTH];
                             2238 ; 138  |};
                             2239 ; 139  |
                             2240 ; 140  |typedef struct {
                             2241 ; 141  |    WORD m_wLength;
                             2242 ; 142  |    WORD m_wMessage;
                             2243 ; 143  |    WORD m_wParams[MAX_MSG_LENGTH];
                             2244 ; 144  |} Message;
                             2245 ; 145  |
                             2246 ; 146  |struct MessageQueueDescriptor
                             2247 ; 147  |{
                             2248 ; 148  |        int *m_pBase;
                             2249 ; 149  |        int m_iModulo;
                             2250 ; 150  |        int m_iSize;
                             2251 ; 151  |        int *m_pHead;
                             2252 ; 152  |        int *m_pTail;
                             2253 ; 153  |};
                             2254 ; 154  |
                             2255 ; 155  |struct ModuleEntry
                             2256 ; 156  |{
                             2257 ; 157  |    int m_iSignaledEventMask;
                             2258 ; 158  |    int m_iWaitEventMask;
                             2259 ; 159  |    int m_iResourceOfCode;
                             2260 ; 160  |    struct MessageQueueDescriptor *m_pMessageQueue;
                             2261 ; 161  |    int _asmfunc (*m_pProcessEntryPoint)(union WaitMask Signals,struct MessageQueueDescrip
                                  tor *);
                             2262 ; 162  |    int _asmfunc (*m_pInitFunction)(struct MessageQueueDescriptor *);
                             2263 ; 163  |    int m_uTimeOutHigh;
                             2264 ; 164  |    int m_uTimeOutLow;
                             2265 ; 165  |    int _asmfunc (*m_pBackgroundFunction)(struct MessageQueueDescriptor *);
                             2266 ; 166  |};
                             2267 ; 167  |
                             2268 ; 168  |union WaitMask{
                             2269 ; 169  |    struct B{
                             2270 ; 170  |        unsigned int m_bNone     :1;
                             2271 ; 171  |        unsigned int m_bMessage  :1;
                             2272 ; 172  |        unsigned int m_bTimer    :1;
                             2273 ; 173  |        unsigned int m_bButton   :1;
                             2274 ; 174  |    } B;
                             2275 ; 175  |    int I;
                             2276 ; 176  |} ;
                             2277 ; 177  |
                             2278 ; 178  |
                             2279 ; 179  |struct Button {
                             2280 ; 180  |        WORD wButtonEvent;
                             2281 ; 181  |        WORD wUnused[MAX_MSG_LENGTH];   
                             2282 ; 182  |};
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  38

M:ADDR CODE           CYCLES LINE SOURCELINE
                             2283 ; 183  |
                             2284 ; 184  |struct Message {
                             2285 ; 185  |        WORD wMsgLength;
                             2286 ; 186  |        WORD wMsgCommand;
                             2287 ; 187  |        WORD wMsgParms[MAX_MSG_LENGTH-1];
                             2288 ; 188  |};
                             2289 ; 189  |
                             2290 ; 190  |union EventTypes {
                             2291 ; 191  |        struct CMessage msg;
                             2292 ; 192  |        struct Button Button ;
                             2293 ; 193  |        struct Message Message;
                             2294 ; 194  |};
                             2295 ; 195  |
                             2296 ; 196  |// next 2 used to get updater build to return correct protocol ver in scsi response.
                             2297 ; 197  |#define BUILD_TYPE_UPDATER  0x100
                             2298 ; 198  |#define BUILD_TYPE_HOSTLINK 0x101
                             2299 ; 199  |#define BUILD_TYPE_PLAYER   0x102
                             2300 ; 200  |
                             2301 ; 201  |// Resets part if RETAIL build. DEBUG build executes debug instruction to halt.
                             2302 ; 202  |#define SystemHalt() __asm(" include 'sysmacro.asm' \n error") 
                             2303 ; 203  |#define assert(x)    if(!(x)) __asm(" include 'sysmacro.asm' \n error")
                             2304 ; 204  |
                             2305 ; 205  |#if DEBUG
                             2306 ; 206  |// For DEBUG builds, DebugBuildAssert(condition) halts if condition evaluates to FALSE. 
                             2307 ; 207  |#define DebugBuildAssert(x)    if(!(x)) __asm(" debug ")
                             2308 ; 208  |#else 
                             2309 ; 209  |// For RETAIL builds, DebugBuildAssert(condition) does nothing & execution continues rathe
                                  r than halt or reset. 
                             2310 ; 210  |#define DebugBuildAssert(x)    
                             2311 ; 211  |#endif
                             2312 ; 212  |
                             2313 ; 213  |// Do this in your C files to make a reminder that's displayed during the build.
                             2314 ; 214  |//  #pragma asm
                             2315 ; 215  |//  WARN 'Note to builder: reminder to do this after verifying that'
                             2316 ; 216  |//  #pragma endasm
                             2317 ; 217  |
                             2318 ; 218  |
                             2319 ; 219  |#ifdef COLOR_262K
                             2320 ; 220  |#define RGB(r,g,b)    ((0x0000FC & (r)) << 10) | ((0x0000FC & (g)) << 4) | ((0x0000FC & (b
                                  )) >> 2)    //262k
                             2321 ; 221  |#elif defined(COLOR_65K)
                             2322 ; 222  |#define RGB(r,g,b)    ((0x0000F8 & (r)) << 8) | ((0x0000FC & (g)) << 3) | ((0x0000F8 & (b)
                                  ) >> 3)  //65k
                             2323 ; 223  |#else
                             2324 ; 224  |#define RGB(r,g,b)       ((0x0000F0 & (r)) << 4) | (0x0000F0 & (g)) | ((0x0000F0 & (b)) >>
                                   4)
                             2325 ; 225  |#endif
                             2326 ; 226  |    
                             2327 ; 227  |#endif // #ifndef _TYPES_H
                             2328 
                             2330 
                             2331 ; 12   |
                             2332 ; 13   |
                             2333 ; 14   |// File attributes
                             2334 ; 15   |#ifndef _FS_ATTRIBUTES
                             2335 ; 16   |#define _FS_ATTRIBUTES
                             2336 ; 17   |#define READ        1
                             2337 ; 18   |#define WRITE       2
                             2338 ; 19   |#define WRITE_PLUS  3
                             2339 ; 20   |#define APPEND      4
                             2340 ; 21   |#define TRUNCATE    8
                             2341 ; 22   |#define CREATE      16
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  39

M:ADDR CODE           CYCLES LINE SOURCELINE
                             2342 ; 23   |#endif
                             2343 ; 24   |
                             2344 ; 25   |//#ifndef FAT12
                             2345 ; 26   |//#define FAT12   1
                             2346 ; 27   |//#endif
                             2347 ; 28   |//
                             2348 ; 29   |#ifndef FAT16
                             2349 ; 30   |#define FAT16   2
                             2350 ; 31   |#endif
                             2351 ; 32   |
                             2352 ; 33   |#define MEM_SPACE_P 0x100000
                             2353 ; 34   |#define MEM_SPACE_Y 0x400000
                             2354 ; 35   |#define MEM_SPACE_X 0x800000
                             2355 ; 36   |
                             2356 ; 37   |#define FILE_SYS_MODE_READ  0
                             2357 ; 38   |#define FILE_SYS_MODE_WRITE 1
                             2358 ; 39   | 
                             2359 ; 40   |#define ATTR_READ_ONLY      0x01
                             2360 ; 41   |#define ATTR_HIDDEN         0x02
                             2361 ; 42   |#define ATTR_SYSTEM         0x04
                             2362 ; 43   |#define ATTR_VOLUME_ID      0x08
                             2363 ; 44   |#define ATTR_DIRECTORY      0x10
                             2364 ; 45   |#define ATTR_ARCHIVE        0x20
                             2365 ; 46   |#define ATTR_LONG_NAME      ATTR_READ_ONLY|ATTR_HIDDEN|ATTR_SYSTEM|ATTR_VOLUME_ID
                             2366 ; 47   |
                             2367 ; 48   |#define SEEK_SET           -1
                             2368 ; 49   |#define SEEK_CUR            0
                             2369 ; 50   |#define SEEK_END            1
                             2370 ; 51   |
                             2371 ; 52   |#define DEVICE_INSTALLED              (WORD)(0)
                             2372 ; 53   |#define DEVICE_NOT_FOUND              (WORD)(2)
                             2373 ; 54   |#define INVALID_FILESYSTEM                        (WORD)(3)
                             2374 ; 55   |#define DEVICE_INVALID                (WORD)(-1)
                             2375 ; 56   |#define DEVICE_ERROR_WRITE_PROTECTED  (WORD)(-2)
                             2376 ; 57   |
                             2377 ; 58   |#define MEDIA_SIZE_TOTAL_SECTORS    0
                             2378 ; 59   |#define MEDIA_SIZE_TOTAL_BYTES      1
                             2379 ; 60   |#define MEDIA_SIZE_BYTES_PER_SECTOR 2
                             2380 ; 61   |#define MEDIA_SIZE_IN_MEGABYTES     3     
                             2381 ; 62   |
                             2382 ; 63   |#define READ_TYPE_NORMAL            0
                             2383 ; 64   |#define READ_TYPE_FAT               1
                             2384 ; 65   |#define READ_TYPE_RAW               2
                             2385 ; 66   |
                             2386 ; 67   |
                             2387 ; 68   |#ifdef MEDIA_DDI_PARTIAL_SEQ_ENABLE
                             2388 ; 69   |    #define WRITE_TYPE_RANDOM                   0
                             2389 ; 70   |    #define WRITE_TYPE_SEQ_FIRST                1
                             2390 ; 71   |    #define WRITE_TYPE_SEQ_NEXT                 2
                             2391 ; 72   |    #define WRITE_TYPE_RESET_CLEAN_UP           3
                             2392 ; 73   |    #define WRITE_TYPE_PARTIAL_SEQ_FIRST        4
                             2393 ; 74   |    #define WRITE_TYPE_PARTIAL_SEQ_NEXT         5
                             2394 ; 75   |    #define WRITE_TYPE_PARTIAL_SEQ_LAST         6
                             2395 ; 76   |    #ifdef MEDIA_DDI_RAW_SECTOR_SERVER_ENABLE
                             2396 ; 77   |        #define WRITE_TYPE_RANDOM_RAW               7
                             2397 ; 78   |        #define WRITE_TYPE_SEQ_FIRST_RAW            8
                             2398 ; 79   |        #define WRITE_TYPE_SEQ_NEXT_RAW             9
                             2399 ; 80   |        #define WRITE_TYPE_PARTIAL_SEQ_FIRST_RAW    10
                             2400 ; 81   |        #define WRITE_TYPE_PARTIAL_SEQ_NEXT_RAW     11
                             2401 ; 82   |        #define WRITE_TYPE_PARTIAL_SEQ_LAST_RAW     12
                             2402 ; 83   |    #endif
                             2403 ; 84   |#else
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  40

M:ADDR CODE           CYCLES LINE SOURCELINE
                             2404 ; 85   |    #define WRITE_TYPE_RANDOM                   0
                             2405 ; 86   |    #define WRITE_TYPE_SEQ_FIRST                1
                             2406 ; 87   |    #define WRITE_TYPE_SEQ_NEXT                 2
                             2407 ; 88   |    #ifdef MEDIA_DDI_RAW_SECTOR_SERVER_ENABLE
                             2408 ; 89   |        #define WRITE_TYPE_RANDOM_RAW               3
                             2409 ; 90   |        #define WRITE_TYPE_SEQ_FIRST_RAW            4
                             2410 ; 91   |        #define WRITE_TYPE_SEQ_NEXT_RAW             5
                             2411 ; 92   |    #endif
                             2412 ; 93   |#endif
                             2413 ; 94   |    #define WRITE_TYPE_UNDEFINED 0xFFFFFF
                             2414 ; 95   |
                             2415 ; 96   |
                             2416 ; 97   |#ifndef MAX_FILENAME_LENGTH
                             2417 ; 98   |#define MAX_FILENAME_LENGTH 256
                             2418 ; 99   |#endif
                             2419 ; 100  |
                             2420 ; 101  |typedef struct {
                             2421 ; 102  |    WORD wNumberOfZones;
                             2422 ; 103  |    WORD wSizeInMegaBytes;
                             2423 ; 104  |} SMARTMEDIA_CHIP_INFO;
                             2424 ; 105  |
                             2425 ; 106  |typedef struct {
                             2426 ; 107  |    WORD wBootIdentification;
                             2427 ; 108  |    WORD wStartHeadNumber;
                             2428 ; 109  |    WORD wStartSectorNumber;
                             2429 ; 110  |    WORD wStartCylinderNumber;
                             2430 ; 111  |    WORD wSystemIdentification;
                             2431 ; 112  |    WORD wEndHeadNumber;
                             2432 ; 113  |    WORD wEndSectorNumber;
                             2433 ; 114  |    WORD wEndCylinderNumber;
                             2434 ; 115  |    WORD wStartLogicalSectorNumberHigh;
                             2435 ; 116  |    WORD wStartLogicalSectorNumberLow;
                             2436 ; 117  |    WORD wPartitionSizeHigh;
                             2437 ; 118  |    WORD wPartitionSizeLow;
                             2438 ; 119  |} SMARTMEDIA_PARTITION_TABLE;
                             2439 ; 120  |
                             2440 ; 121  |typedef struct {
                             2441 ; 122  |    WORD wWord0;
                             2442 ; 123  |    WORD wWord1;
                             2443 ; 124  |    WORD wWord2;
                             2444 ; 125  |} SMARTMEDIA_CIS_IDI_MANUFACTURER_NAME;
                             2445 ; 126  |
                             2446 ; 127  |typedef struct {
                             2447 ; 128  |    WORD wWord0;
                             2448 ; 129  |    WORD wWord1;
                             2449 ; 130  |} SMARTMEDIA_CIS_IDI_PRODUCT_NAME;
                             2450 ; 131  |
                             2451 ; 132  |typedef struct {
                             2452 ; 133  |    WORD wWord0;
                             2453 ; 134  |    WORD wWord1;
                             2454 ; 135  |} SMARTMEDIA_CIS_IDI_PRODUCT_VERSION;
                             2455 ; 136  |
                             2456 ; 137  |typedef struct {
                             2457 ; 138  |    WORD wWord0;
                             2458 ; 139  |    WORD wWord1;
                             2459 ; 140  |    WORD wWord2;
                             2460 ; 141  |    WORD wWord3;
                             2461 ; 142  |} SMARTMEDIA_CIS_IDI_SERIAL_NUMBER;
                             2462 ; 143  |
                             2463 ; 144  |typedef struct {
                             2464 ; 145  |    WORD wWord0;
                             2465 ; 146  |} SMARTMEDIA_CIS_IDI_MODEL_NUMBER;
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  41

M:ADDR CODE           CYCLES LINE SOURCELINE
                             2466 
                             2489 
                             2490 ; 147  |
                             2491 ; 148  |typedef struct {
                             2492 ; 149  |    SMARTMEDIA_CIS_IDI_MANUFACTURER_NAME ManufacturerName;
                             2493 ; 150  |    SMARTMEDIA_CIS_IDI_PRODUCT_NAME ProductName;
                             2494 ; 151  |    SMARTMEDIA_CIS_IDI_PRODUCT_VERSION ProductVersion;
                             2495 ; 152  |    SMARTMEDIA_CIS_IDI_SERIAL_NUMBER SerialNumber;
                             2496 ; 153  |    SMARTMEDIA_CIS_IDI_MODEL_NUMBER ModelNumber;
                             2497 ; 154  |} SMARTMEDIA_CIS_IDI_TABLE;
                             2498 
                             2520 
                             2521 ; 155  |   
                             2522 ; 156  |typedef struct {
                             2523 ; 157  |    WORD wPageSizeInBytes;
                             2524 ; 158  |    WORD wRedundantAreaSizeInBytes;
                             2525 ; 159  |    WORD wNumberOfPagesPerBlock;
                             2526 ; 160  |    WORD wNumberOfBlocksPerZone;
                             2527 ; 161  |    WORD wNumberOfZonesInMedia;
                             2528 ; 162  |    WORD wMediaSizeInMBytes;
                             2529 ; 163  |    SMARTMEDIA_PARTITION_TABLE * pPartitionTable;
                             2530 ; 164  |    SMARTMEDIA_CIS_IDI_TABLE * pCisIdiTable;
                             2531 ; 165  |    WORD wMediaFlagStatus;
                             2532 ; 166  |    WORD wNumberOfBlocksToTheCisIdiBlock;
                             2533 ; 167  |    WORD wTotalNumberOfPhysicalBlocks;
                             2534 ; 168  |    WORD wNumberOfSystemBlocks;
                             2535 ; 169  |} SMARTMEDIA_ENTRY_TABLE;
                             2536 ; 170  |
                             2537 ; 171  |typedef struct {
                             2538 ; 172  |    WORD wDevice;        
                             2539 ; 173  |    WORD wDirtyBlockFlag;
                             2540 ; 174  |    WORD wCleanTailFlag; 
                             2541 ; 175  |    WORD wLogDOSPage;    
                             2542 ; 176  |    WORD wSrcLogBlock;   
                             2543 ; 177  |    WORD wSrcPhyBlock;   
                             2544 ; 178  |    WORD wDestPhyBlock;  
                             2545 ; 179  |    WORD wStartSrcPage;  
                             2546 ; 180  |    WORD wStartDestPage; 
                             2547 ; 181  |    WORD wPagesToCopy;   
                             2548 ; 182  |    WORD wReplaceBuff;   
                             2549 ; 183  |    WORD wReplaceRdnt;
                             2550 ; 184  |    #ifdef MEDIA_DDI_PARTIAL_SEQ_ENABLE
                             2551 ; 185  |        WORD wFirstCount;
                             2552 ; 186  |        WORD wNextCount;
                             2553 ; 187  |        WORD wLastCount;
                             2554 ; 188  |    #endif
                             2555 ; 189  |} SMARTMEDIA_FWPPS_TABLE;
                             2556 ; 190  |
                             2557 ; 191  |typedef struct {
                             2558 ; 192  |    WORD wWord0;
                             2559 ; 193  |    WORD wWord1;
                             2560 ; 194  |    WORD wWord2;
                             2561 ; 195  |    WORD wWord3;
                             2562 ; 196  |} DIRECTORY_NAME;
                             2563 ; 197  |
                             2564 ; 198  |typedef struct {
                             2565 ; 199  |    WORD wWord0;
                             2566 ; 200  |    WORD wWord1;
                             2567 ; 201  |} DIRECTORY_EXTENSION;
                             2568 ; 202  |
                             2569 ; 203  |typedef struct {
                             2570 ; 204  |    WORD wWord0;
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  42

M:ADDR CODE           CYCLES LINE SOURCELINE
                             2571 ; 205  |    WORD wWord1;
                             2572 ; 206  |} DIRECTORY_SIZE;
                             2573 
                             2588 
                             2589 ; 207  |
                             2590 ; 208  |typedef struct {
                             2591 ; 209  |    DIRECTORY_NAME Name;
                             2592 ; 210  |    DIRECTORY_EXTENSION Extension;
                             2593 ; 211  |    WORD wAttribute;
                             2594 ; 212  |    WORD wReserved[4];
                             2595 ; 213  |    WORD wCreationTime;
                             2596 ; 214  |    WORD wCreationData;
                             2597 ; 215  |    WORD wFirstCluster;
                             2598 ; 216  |    DIRECTORY_SIZE Size;
                             2599 ; 217  |    WORD wCurrentCluster;
                             2600 ; 218  |    WORD wPointer;
                             2601 ; 219  |    WORD wRecord;
                             2602 ; 220  |    WORD wRd;
                             2603 ; 221  |} DIRECTORY_FILE_CONTROL_BLOCK;
                             2604 ; 222  |
                             2605 ; 223  |// TODO:  clean this up.  There are two versions.
                             2606 ; 224  |struct FCB
                             2607 ; 225  |{
                             2608 ; 226  |    _packed BYTE m_szFileName[9];       //0-2
                             2609 ; 227  |    int     m_wReserved;                //3
                             2610 ; 228  |    _packed BYTE m_szExt[4];            //4-5
                             2611 ; 229  |    int     m_wAttributes;              //6
                             2612 ; 230  |    int     m_wReserved2[4];            //7,8,9,a
                             2613 ; 231  |    int     m_wTimeofCreation;          //b
                             2614 ; 232  |    int     m_wDateofCreation;          //c
                             2615 ; 233  |    int     m_wFirstCluster;            //d
                             2616 ; 234  |    int     m_wFileSizeHigh;            //e
                             2617 ; 235  |    int     m_wFileSizeLow;             //f
                             2618 ; 236  |};
                             2619 
                             2635 
                             2636 ; 237  |
                             2637 ; 238  |
                             2638 ; 239  |typedef struct {
                             2639 ; 240  |    WORD wFirstClusterCurrentDirectory;
                             2640 ; 241  |    WORD wFirstClusterParentDirectory;
                             2641 ; 242  |    WORD wAbsSectorCurrentlyCached;
                             2642 ; 243  |    WORD wCurrentRelativeSector;
                             2643 ; 244  |    WORD wNumberOfSectors;
                             2644 ; 245  |    WORD wCurrentRecordLoadedInDcb;
                             2645 ; 246  |    WORD wBufferedRecord;
                             2646 ; 247  |    WORD wMaxNumberRecordsCurrentDirectory;
                             2647 ; 248  |    WORD * pwPointerToBuffer;
                             2648 ; 249  |    WORD * pwPointerToPath;
                             2649 ; 250  |    DIRECTORY_FILE_CONTROL_BLOCK * pDirFcb;
                             2650 ; 251  |} DIRECTORY_CONTROL_BLOCK;
                             2651 ; 252  |
                             2652 ; 253  |typedef struct {
                             2653 ; 254  |    WORD wWord0;
                             2654 ; 255  |    WORD wWord1;
                             2655 ; 256  |    WORD wWord2;
                             2656 ; 257  |    WORD wWord3;
                             2657 ; 258  |} FILE_NAME;
                             2658 ; 259  |
                             2659 ; 260  |typedef struct {
                             2660 ; 261  |    WORD wWord0;
                             2661 ; 262  |    WORD wWord1;
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  43

M:ADDR CODE           CYCLES LINE SOURCELINE
                             2662 ; 263  |} FILE_EXTENSION;
                             2663 ; 264  |
                             2664 ; 265  |typedef struct {
                             2665 ; 266  |    WORD wWord0;
                             2666 ; 267  |    WORD wWord1;
                             2667 ; 268  |} FILE_SIZE;
                             2668 ; 269  |
                             2669 ; 270  |typedef union {
                             2670 ; 271  |    struct {
                             2671 ; 272  |        int Read        :1;
                             2672 ; 273  |        int Write       :1;
                             2673 ; 274  |        int Append      :1;
                             2674 ; 275  |        int Truncate    :1;
                             2675 ; 276  |        int Create      :1;
                             2676 ; 277  |        int Rsrv        :3;
                             2677 ; 278  |        int Mode        :8;
                             2678 ; 279  |        int Device      :8;
                             2679 ; 280  |    } B;
                             2680 ; 281  |    int I;
                             2681 ; 282  |} FILE_FLAGS;
                             2682 ; 283  |
                             2683 ; 284  |typedef struct {
                             2684 ; 285  |    WORD wWord0;
                             2685 ; 286  |    WORD wWord1;
                             2686 ; 287  |} FILE_BYTE_CURRENT;
                             2687 
                             2727 
                             2728 ; 288  |
                             2729 ; 289  |typedef struct {
                             2730 ; 290  |    FILE_NAME Name;
                             2731 ; 291  |    FILE_EXTENSION Extension;
                             2732 ; 292  |    WORD wAttributes;
                             2733 ; 293  |    WORD wReserved[4];
                             2734 ; 294  |    WORD wCreationTime;
                             2735 ; 295  |    WORD wCreationData;
                             2736 ; 296  |    WORD wFirstCluster;
                             2737 ; 297  |    FILE_SIZE Size;
                             2738 ; 298  |    WORD wCurrentCluster;
                             2739 ; 299  |    WORD wPointer;
                             2740 ; 300  |    WORD wRecord;
                             2741 ; 301  |    WORD wRd;
                             2742 ; 302  |    FILE_FLAGS Flags;
                             2743 ; 303  |    FILE_BYTE_CURRENT FcbByteCurrent;
                             2744 ; 304  |    WORD wFcbFlagEndOfCx;
                             2745 ; 305  |} FILE_CONTROL_BLOCK;    
                             2746 ; 306  |
                             2747 ; 307  |typedef struct {
                             2748 ; 308  |    WORD wWord0;
                             2749 ; 309  |    WORD wWord1;
                             2750 ; 310  |    WORD wWord2;
                             2751 ; 311  |    WORD wWord3;
                             2752 ; 312  |} VOLUME_LABEL;
                             2753 ; 313  |
                             2754 ; 314  |typedef struct {
                             2755 ; 315  |    WORD wFATPhysicalBlock1;
                             2756 ; 316  |    WORD wFATPhysicalBlock2;
                             2757 ; 317  |    WORD wFATPhysicalBlock3;
                             2758 ; 318  |    WORD wFATPhysicalBlock4;
                             2759 ; 319  |} FAT_PHYSICAL_BLOCK_LIST;
                             2760 
                             2767 
                             2768 ; 320  |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  44

M:ADDR CODE           CYCLES LINE SOURCELINE
                             2769 ; 321  |typedef struct {
                             2770 ; 322  |    WORD wFATSectorInCache;
                             2771 ; 323  |    WORD wLastClusterFree;
                             2772 ; 324  |    WORD wNumberOfUsedClusters;
                             2773 ; 325  |    WORD wNumberOfFreeClusters;
                             2774 ; 326  |    WORD wNumberOfBadClusters;
                             2775 ; 327  |    WORD wNumberOfReservedClusters;
                             2776 ; 328  |    WORD wControl;
                             2777 ; 329  |    WORD * pwSectorCache;
                             2778 ; 330  |    FAT_PHYSICAL_BLOCK_LIST FATPhysicalLocationList;
                             2779 ; 331  |} FAT_TABLE;
                             2780 
                             2787 
                             2788 ; 332  |
                             2789 ; 333  |typedef struct {
                             2790 ; 334  |    WORD wStateMediaTable;
                             2791 ; 335  |    WORD wTypeFs;
                             2792 ; 336  |    WORD wBytesPerSector;
                             2793 ; 337  |    WORD wSectorsPerCluster;
                             2794 ; 338  |    WORD wNumberOfReservedSectors;
                             2795 ; 339  |    WORD wMaximumNumberOfFATs;
                             2796 ; 340  |    WORD wMaxRootDirectoryEntries;
                             2797 ; 341  |    WORD wTotalSectors;
                             2798 ; 342  |    WORD wNumberOfFATSectors;
                             2799 ; 343  |    WORD wNumberOfSectorsPerTrack;
                             2800 ; 344  |    WORD wNumberOfHeads;
                             2801 ; 345  |    WORD wNumberOfHiddenSectorsMSB;
                             2802 ; 346  |    WORD wNumberOfHiddenSectorsLSB;
                             2803 ; 347  |    WORD wTotalSectors32MSB;
                             2804 ; 348  |    WORD wTotalSectors32LSB;
                             2805 ; 349  |    WORD wDriverNumber;
                             2806 ; 350  |    WORD wExtendedBootSignature;
                             2807 ; 351  |    WORD wVolumeIDMSB;
                             2808 ; 352  |    WORD wVolumeIDLSB;
                             2809 ; 353  |    VOLUME_LABEL VolumeLabel;
                             2810 ; 354  |    WORD * pwWriteBuffer;
                             2811 ; 355  |    WORD wPrimaryFATRelativeSector;
                             2812 ; 356  |    WORD wSecondaryFATRelativeSector;
                             2813 ; 357  |    WORD wRootDirectoryRelativeSector;
                             2814 ; 358  |    WORD wFirstSectorNumberDataZone;
                             2815 ; 359  |    WORD wMaxNumberOfFATEntries;
                             2816 ; 360  |    WORD wRootDirectorySizeInSectors;
                             2817 ; 361  |    WORD wDataAreaSizeInSectors;
                             2818 ; 362  |} MEDIA_TABLE;
                             2819 
                             2878 
                             2879 ; 363  |
                             2880 ; 364  |typedef struct {
                             2881 ; 365  |    MEDIA_TABLE * pMediaTable;
                             2882 ; 366  |    DIRECTORY_CONTROL_BLOCK * pDirectoryControlBlock;
                             2883 ; 367  |    FAT_TABLE * pFATTable;
                             2884 ; 368  |} DEVICE_CONTROL_TABLE;
                             2885 ; 369  |    
                             2886 ; 370  |typedef struct {
                             2887 ; 371  |    WORD dwTotalSizeInMegaBytes;        // dwTotalSizeInMegaBytes is limited
                             2888 ; 372  |                                        //  to 2-bytes for compatibility with
                             2889 ; 373  |                                        //  older host drivers.
                             2890 ; 374  |    DWORD dwTotalNumberOfSectors;
                             2891 ; 375  |    DWORD dwTotalNumberOfBytes;
                             2892 ; 376  |    WORD wSectorSizeInBytes;
                             2893 ; 377  |} MEDIA_SIZE;
                             2894 ; 378  |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  45

M:ADDR CODE           CYCLES LINE SOURCELINE
                             2895 ; 379  |typedef struct {
                             2896 ; 380  |    BOOL    bInstalled;
                             2897 ; 381  |    INT     iPbsSectorOffset;   // from the beginning of the data drive 
                             2898 ; 382  |    DWORD   dwSize;
                             2899 ; 383  |} DATA_DRIVE_PBS_LOC;
                             2900 ; 384  |extern  INT _reentrant FSFileOpen(_packed BYTE *fname,INT attribute, INT DeviceNumber);
                             2901 ; 385  |extern  INT _reentrant FSFastOpen(DWORD Key, INT attribute);
                             2902 ; 386  |extern  INT FSFileDelete(_packed BYTE *fname,INT DeviceNumber);
                             2903 ; 387  |extern  INT FSFileCreate(_packed BYTE *fname,INT DeviceNumber);
                             2904 ; 388  |extern  INT _reentrant FSChangeDir(_packed BYTE *dirname,INT DeviceNumber);
                             2905 ; 389  |extern  INT _reentrant FSCreateDir(_packed BYTE *dirname,INT DeviceNumber);
                             2906 ; 390  |extern  INT _reentrant FSDeleteDir(_packed BYTE *dirname,INT DeviceNumber);
                             2907 ; 391  |extern  INT _reentrant FSFileAppend(_packed BYTE *fname,INT DeviceNumber);
                             2908 ; 392  |extern  INT _reentrant FSFileRead(INT BytestoRead, INT Handle, INT memory_type, INT modulo
                                  , WORD *buffer);
                             2909 ; 393  |extern  INT _reentrant FSFileWrite(INT wNumberBytes, INT Handle, INT memory_type, INT iMod
                                  ulo, WORD *buffer);
                             2910 ; 394  |extern  INT _reentrant FSFileClose(INT Handle);
                             2911 ; 395  |extern  LONG _reentrant FSFileSize(INT HandleNumber);
                             2912 ; 396  |extern  LONG  FSSize(INT DeviceNum, INT TYPE);   
                             2913 ; 397  |extern  INT FSFreeClusters(INT Device);
                             2914 ; 398  |extern  INT BytesPerCluster(INT Device);
                             2915 ; 399  |
                             2916 ; 400  |
                             2917 ; 401  |
                             2918 ; 402  |//extern  INT FSFileCreate(_packed BYTE *pbFileName, BYTE bDevice);
                             2919 ; 403  |//extern  INT FSFileDelete(_packed BYTE *pbFileName, BYTE bDevice);
                             2920 ; 404  |extern  INT FSFileRename(_packed BYTE *pbCurFilename, _packed BYTE *pbNewFilename, BYTE bD
                                  evice);
                             2921 ; 405  |//extern  INT _reentrant FSFileAttribute(_packed BYTE *pbFilename, WORD wAttributes, BYTE 
                                  bDevice);
                             2922 ; 406  |//extern  INT FSFileAppend(_packed BYTE *pbFileName, BYTE bDevice);
                             2923 ; 407  |//extern  INT FSFileOpen(_packed BYTE *pbFileName, WORD wAttributes, BYTE bDevice);
                             2924 ; 408  |//extern  INT FSFileClose(INT bHandle);
                             2925 ; 409  |//extern  INT FSFileRead(WORD wNumberBytes, BYTE bHandle, WORD wMemSpace, INT iModulo, WOR
                                  D *pwBuffer);
                             2926 ; 410  |//extern  INT FSFileWrite(WORD wNumberBytes, BYTE bHandle, WORD wMemSpace, INT iModulo, WO
                                  RD *pwBuffer);
                             2927 ; 411  |extern  INT _reentrant fseek( INT handle , LONG offset, INT iOrigin );
                             2928 ; 412  |extern  INT _reentrant FSFileEof(INT Handle);
                             2929 ; 413  |extern INT _reentrant FSFileAttribute(INT Attributes, _packed BYTE *fname, INT DeviceNumbe
                                  r);
                             2930 ; 414  |extern INT _reentrant FSFileAttributeClear(INT Attributes, _packed BYTE *fname, INT Device
                                  Number);
                             2931 ; 415  |//extern  LONG FSFileSize(INT bHandle);
                             2932 ; 416  |extern _asmfunc INT FSPresent(BYTE bDevice);
                             2933 ; 417  |extern _asmfunc INT FSType(BYTE bDevice);
                             2934 ; 418  |//extern LONG FSSize(WORD wDevice, WORD wReturnType);
                             2935 ; 419  |//extern INT FSChangeDir(_packed BYTE *pbDirName, BYTE bDevice);
                             2936 ; 420  |//extern INT FSCreateDir(_packed BYTE *pbDirName, BYTE bDevice);
                             2937 ; 421  |//extern INT FSDeleteDir(_packed BYTE *pbDirName, BYTE bDevice);
                             2938 ; 422  |extern _asmfunc void SysLoadFATWrite(void);
                             2939 ; 423  |extern _asmfunc INT SysUnLoadFATWrite(void);
                             2940 ; 424  |extern LONG _reentrant ftell(INT iHandle);
                             2941 ; 425  |extern _asmfunc struct FCB * ReadDirectory(int iDevice, int iEntry);
                             2942 ; 426  |
                             2943 ; 427  |#endif
                             2944 
                             2946 
                             2947 ; 30   |#include "fserror.h"
                             2948 
                             2950 
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  46

M:ADDR CODE           CYCLES LINE SOURCELINE
                             2951 ; 1    |#define                 FS_SUCCESS                                      0
                             2952 ; 2    |#define         NOT_WRITE_MODE              0
                             2953 ; 3    |
                             2954 ; 4    |#define                 FILESYSTEM_NOT_FOUND            -32767  // 0xFFFF8001
                             2955 ; 5    |
                             2956 ; 6    |#define         FS_HANDLE_NOT_ACTIVE        -16384  // 0xFFFFC000
                             2957 ; 7    |#define         FS_MAX_HANDLES_EXCEEDED     -16385  // 0xFFFFBFFF
                             2958 ; 8    |#define         FS_NO_FREE_HANDLE           -16386  // 0xFFFFBFFE
                             2959 ; 9    |#define         FSEEK_FAILED                -16387  // 0xFFFFBFFD
                             2960 ; 10   |#define         INVALID_MODE                -16388  // 0xFFFFBFFC
                             2961 ; 11   |#define         NOSPACE_IN_ROOTDIRECTORY    -16389  // 0xFFFFBFFB
                             2962 ; 12   |#define         FS_EOF                      -16390  // 0xFFFFBFFA
                             2963 ; 13   |#define         SECTOR_FULL_OF_RECORD       -16391  // 0xFFFFBFF9
                             2964 ; 14   |#define         NO_FREE_CLUSTER             -16392  // 0xFFFFBFF8
                             2965 ; 15   |#define         FILE_FOUND                  -16393  // 0xFFFFBFF7
                             2966 ; 16   |#define         FILE_NOT_FOUND              -16394  // 0xFFFFBFF6
                             2967 ; 17   |#define         FILE_WRITE_FAILED           -16395  // 0xFFFFBFF5
                             2968 ; 18   |#define         DIRECTORY_IS_NOT_WRITABLE       -16396  // 0xFFFFBFF4
                             2969 ; 19   |#define         CACHE_BUF_RELEASE_ERR       -16397  // 0xFFFFBFF3
                             2970 ; 20   |#define         DIR_NOT_EMPTY                           -16398  // 0xFFFFBFF2
                             2971 ; 21   |#define         FILE_OPEN                       -16399  // 0xFFFFBFF1
                             2972 ; 22   |#define         FILE_DELETE_FAILED          -16400  // 0xFFFFBFF0
                             2973 ; 23   |#define         DUPLICATE_FILE_NAME         -16401  // 0xFFFFBFEF
                             2974 ; 24   |#define         INVALID_DIR_PATH            -16402  // 0xFFFFBFEE
                             2975 ; 25   |#define         CHANGEPATH_NOT_POSSIBLE     -16403  // 0xFFFFBFED
                             2976 ; 26   |#define         FS_MAX_DEVICES_EXCEEDED     -16404  // 0xFFFFBFEC
                             2977 ; 27   |#define         MEDIA_TYPE_NOT_SUPPORTED    -16405  // 0xFFFFBFEB
                             2978 ; 28   |#define         MODE_NOT_SUPPORTED          -16406  // 0xFFFFBFEA
                             2979 ; 29   |#define         INVALID_CLUSTER_NO          -16407  // 0xFFFFBFE9
                             2980 ; 30   |#define         CANNOT_DELETE_CWD           -16408  // 0xFFFFBFE8
                             2981 ; 31   |#define         CURRENT_WORK_DIR            -16409  // 0xFFFFBFE7
                             2982 ; 32   |#define         DIR_NOT_REMOVABLE           -16410  // 0xFFFFBFE6
                             2983 ; 33   |#define         INVALID_RECORD_NUMBER       -16411  // 0xFFFFBFE5
                             2984 ; 34   |#define                 LONG_FILE_NAME                          -16412  // 0xFFFFBFE4
                             2985 ; 35   |#define                 NO_MATCHING_RECORD                      -16413  // 0xFFFFBFE3
                             2986 ; 36   |#define                 NOT_VALID_SECTOR                        -16414  // 0xFFFFBFE2
                             2987 ; 37   |#define                 DEVICE_NOT_SUPPORTED            -16415  // 0xFFFFBFE1
                             2988 ; 38   |#define         FS_ERROR                                        -16416  // 0xFFFFBEE0
                             2989 ; 39   |#define                 READSECTOR_FAIL                         -16417  // 0xFFFFBFDF
                             2990 ; 40   |#define                 DEVICE_NOT_ACTIVE                       -16418  // 0xFFFFBFDE
                             2991 ; 41   |#define                 ILLEGAL_FILENAME_CHARA          -16419  // 0xFFFFBFDD
                             2992 ; 42   |#define                 MEDIAREAD_FAILED                        -16420  // 0xFFFFBFDC
                             2993 ; 43   |#define                 MEDIAWRITE_FAILED                       -16421  // 0xFFFFBFDB
                             2994 ; 44   |#define                 CANNOT_OPEN_DIRECTORY           -16422  // 0xFFFFBFDA
                             2995 ; 45   |#define         VOLUMELABEL_NOT_FOUND           -16423
                             2996 ; 46   |
                             2997 ; 47   |
                             2998 ; 48   |
                             2999 ; 49   |
                             3000 
                             3002 
                             3003 ; 31   |#include "sdmd.h"
                             3004 
                             3006 
                             3007 ; 1    |/*========================================================================================
                                  ==========
                             3008 ; 2    |
                             3009 ; 3    |                                         MODULE DESCRIPTION
                             3010 ; 4    |
                             3011 ; 5    |==========================================================================================
                                  ==========
                             3012 ; 6    |                               Sigmatel Inc Confidential Proprietary
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  47

M:ADDR CODE           CYCLES LINE SOURCELINE
                             3013 ; 7    |                               (c) Copyright Sigmatel Inc 2005, All Rights Reserved
                             3014 ; 8    |
                             3015 ; 9    |MODULE NAME: sdmd.h        AUTHOR:      CREATION DATE:03/02/2005
                             3016 ; 10   |
                             3017 ; 11   |PRODUCT NAMES: All
                             3018 ; 12   |
                             3019 ; 13   |GENERAL DESCRIPTION:
                             3020 ; 14   |
                             3021 ; 15   |   SD Card Modification Detection
                             3022 ; 16   |
                             3023 ; 17   |Portability: All
                             3024 ; 18   |
                             3025 ; 19   |
                             3026 ; 20   |Revision History:
                             3027 ; 21   |
                             3028 ; 22   |                         Modification        Tracking
                             3029 ; 23   |Author                       Date             Number           Description of Changes
                             3030 ; 24   |---------------------    ------------        ----------        ---------------------------
                                  ----------
                             3031 ; 25   |
                             3032 ; 26   |*/
                             3033 ; 27   |
                             3034 ; 28   |#ifndef __SDMD_H__
                             3035 ; 29   |#define __SDMD_H__
                             3036 ; 30   |
                             3037 ; 31   |/*========================================================================================
                                  ==========
                             3038 ; 32   |                                           INCLUDE FILES
                             3039 ; 33   |==========================================================================================
                                  ========*/
                             3040 ; 34   |#include "types.h"
                             3041 
                             3043 
                             3044 ; 1    |////////////////////////////////////////////////////////////////////////////////
                             3045 ; 2    |// Copyright(C) SigmaTel, Inc. 2000-2004
                             3046 ; 3    |//
                             3047 ; 4    |// Filename: types.h
                             3048 ; 5    |// Description: Standard data types
                             3049 ; 6    |////////////////////////////////////////////////////////////////////////////////
                             3050 ; 7    |
                             3051 ; 8    |#ifndef _TYPES_H
                             3052 ; 9    |#define _TYPES_H
                             3053 ; 10   |
                             3054 ; 11   |// TODO:  move this outta here!
                             3055 ; 12   |#if !defined(NOERROR)
                             3056 ; 13   |#define NOERROR 0
                             3057 ; 14   |#define SUCCESS 0
                             3058 ; 15   |#endif 
                             3059 ; 16   |#if !defined(SUCCESS)
                             3060 ; 17   |#define SUCCESS  0
                             3061 ; 18   |#endif
                             3062 ; 19   |#if !defined(ERROR)
                             3063 ; 20   |#define ERROR   -1
                             3064 ; 21   |#endif
                             3065 ; 22   |#if !defined(FALSE)
                             3066 ; 23   |#define FALSE 0
                             3067 ; 24   |#endif
                             3068 ; 25   |#if !defined(TRUE)
                             3069 ; 26   |#define TRUE  1
                             3070 ; 27   |#endif
                             3071 ; 28   |
                             3072 ; 29   |#if !defined(NULL)
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  48

M:ADDR CODE           CYCLES LINE SOURCELINE
                             3073 ; 30   |#define NULL 0
                             3074 ; 31   |#endif
                             3075 ; 32   |
                             3076 ; 33   |#define MAX_INT     0x7FFFFF
                             3077 ; 34   |#define MAX_LONG    0x7FFFFFffffff
                             3078 ; 35   |        // max positive unsigned long value: -1 == 0xFFFFFFffffff
                             3079 ; 36   |#define MAX_ULONG   (-1) 
                             3080 ; 37   |
                             3081 ; 38   |#define WORD_SIZE   24              // word size in bits
                             3082 ; 39   |#define BYTES_PER_WORD 3            // 8 bit bytes
                             3083 ; 40   |
                             3084 ; 41   |
                             3085 ; 42   |#define BYTE    unsigned char       // btVarName
                             3086 ; 43   |#define CHAR    signed char         // cVarName
                             3087 ; 44   |#define USHORT  unsigned short      // usVarName
                             3088 ; 45   |#define SHORT   unsigned short      // sVarName
                             3089 ; 46   |#define WORD    unsigned int        // wVarName
                             3090 ; 47   |#define INT     signed int          // iVarName
                             3091 ; 48   |#define DWORD   unsigned long       // dwVarName
                             3092 ; 49   |#define LONG    signed long         // lVarName
                             3093 ; 50   |#define BOOL    unsigned int        // bVarName
                             3094 ; 51   |#define FRACT   _fract              // frVarName
                             3095 ; 52   |#define LFRACT  long _fract         // lfrVarName
                             3096 ; 53   |#define CIRC    _circ               // cp<type prefix>VarName (see below)
                             3097 ; 54   |#define FLOAT   float               // fVarName
                             3098 ; 55   |#define DBL     double              // dVarName
                             3099 ; 56   |#define ENUM    enum                // eVarName
                             3100 ; 57   |#define CMX     _complex            // cmxVarName
                             3101 ; 58   |typedef WORD UCS3;                   // 
                             3102 ; 59   |
                             3103 ; 60   |#define UINT16  unsigned short
                             3104 ; 61   |#define UINT8   unsigned char   
                             3105 ; 62   |#define UINT32  unsigned long
                             3106 ; 63   |#define UINT64  unsigned long   // need to figure out how to do 64 bit values.  Or port ex
                                  isiting code to only use 48 bit
                             3107 ; 64   |#define INT64   unsigned long   // need to figure out how to do 64 bit values.  Or port ex
                                  isiting code to only use 48 bit
                             3108 ; 65   |#define WCHAR   UINT16
                             3109 ; 66   |
                             3110 ; 67   |//UINT128 is 16 bytes or 6 words
                             3111 ; 68   |typedef struct UINT128_3500 {   
                             3112 ; 69   |    int val[6];     
                             3113 ; 70   |} UINT128_3500;
                             3114 ; 71   |
                             3115 ; 72   |#define UINT128   UINT128_3500
                             3116 ; 73   |
                             3117 ; 74   |// Little endian word packed byte strings:   
                             3118 ; 75   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                             3119 ; 76   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                             3120 ; 77   |// Little endian word packed byte strings:   
                             3121 ; 78   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                             3122 ; 79   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                             3123 ; 80   |
                             3124 ; 81   |// Declare Memory Spaces To Use When Coding
                             3125 ; 82   |// A. Sector Buffers
                             3126 ; 83   |#define SECTOR_BUFFER_MEM_X _X
                             3127 ; 84   |#define SECTOR_BUFFER_MEM_Y _Y
                             3128 ; 85   |#define SECTOR_BUFFER_MEM SECTOR_BUFFER_MEM_X
                             3129 ; 86   |typedef WORD SECTOR_BUFFER_MEM SECTOR_BUFFER;
                             3130 ; 87   |typedef SECTOR_BUFFER * P_SECTOR_BUFFER;
                             3131 ; 88   |// B. Media DDI Memory
                             3132 ; 89   |#define MEDIA_DDI_MEM _Y
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  49

M:ADDR CODE           CYCLES LINE SOURCELINE
                             3133 ; 90   |
                             3134 ; 91   |
                             3135 ; 92   |
                             3136 ; 93   |// Pointers to linear structures are labeled as: p<type prefix>VarName
                             3137 ; 94   |// Examples of circular pointers:
                             3138 ; 95   |//    INT CIRC cpiVarName
                             3139 ; 96   |//    DWORD CIRC cpdwVarName
                             3140 ; 97   |
                             3141 ; 98   |#define RETCODE INT                 // rcVarName
                             3142 ; 99   |
                             3143 ; 100  |// generic bitfield structure
                             3144 ; 101  |struct Bitfield {
                             3145 ; 102  |    unsigned int B0  :1;
                             3146 ; 103  |    unsigned int B1  :1;
                             3147 ; 104  |    unsigned int B2  :1;
                             3148 ; 105  |    unsigned int B3  :1;
                             3149 ; 106  |    unsigned int B4  :1;
                             3150 ; 107  |    unsigned int B5  :1;
                             3151 ; 108  |    unsigned int B6  :1;
                             3152 ; 109  |    unsigned int B7  :1;
                             3153 ; 110  |    unsigned int B8  :1;
                             3154 ; 111  |    unsigned int B9  :1;
                             3155 ; 112  |    unsigned int B10 :1;
                             3156 ; 113  |    unsigned int B11 :1;
                             3157 ; 114  |    unsigned int B12 :1;
                             3158 ; 115  |    unsigned int B13 :1;
                             3159 ; 116  |    unsigned int B14 :1;
                             3160 ; 117  |    unsigned int B15 :1;
                             3161 ; 118  |    unsigned int B16 :1;
                             3162 ; 119  |    unsigned int B17 :1;
                             3163 ; 120  |    unsigned int B18 :1;
                             3164 ; 121  |    unsigned int B19 :1;
                             3165 ; 122  |    unsigned int B20 :1;
                             3166 ; 123  |    unsigned int B21 :1;
                             3167 ; 124  |    unsigned int B22 :1;
                             3168 ; 125  |    unsigned int B23 :1;
                             3169 ; 126  |};
                             3170 ; 127  |
                             3171 ; 128  |union BitInt {
                             3172 ; 129  |        struct Bitfield B;
                             3173 ; 130  |        int        I;
                             3174 ; 131  |};
                             3175 ; 132  |
                             3176 ; 133  |#define MAX_MSG_LENGTH 10
                             3177 ; 134  |struct CMessage
                             3178 ; 135  |{
                             3179 ; 136  |        unsigned int m_uLength;
                             3180 ; 137  |        unsigned int m_uMsg[MAX_MSG_LENGTH];
                             3181 ; 138  |};
                             3182 ; 139  |
                             3183 ; 140  |typedef struct {
                             3184 ; 141  |    WORD m_wLength;
                             3185 ; 142  |    WORD m_wMessage;
                             3186 ; 143  |    WORD m_wParams[MAX_MSG_LENGTH];
                             3187 ; 144  |} Message;
                             3188 ; 145  |
                             3189 ; 146  |struct MessageQueueDescriptor
                             3190 ; 147  |{
                             3191 ; 148  |        int *m_pBase;
                             3192 ; 149  |        int m_iModulo;
                             3193 ; 150  |        int m_iSize;
                             3194 ; 151  |        int *m_pHead;
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  50

M:ADDR CODE           CYCLES LINE SOURCELINE
                             3195 ; 152  |        int *m_pTail;
                             3196 ; 153  |};
                             3197 ; 154  |
                             3198 ; 155  |struct ModuleEntry
                             3199 ; 156  |{
                             3200 ; 157  |    int m_iSignaledEventMask;
                             3201 ; 158  |    int m_iWaitEventMask;
                             3202 ; 159  |    int m_iResourceOfCode;
                             3203 ; 160  |    struct MessageQueueDescriptor *m_pMessageQueue;
                             3204 ; 161  |    int _asmfunc (*m_pProcessEntryPoint)(union WaitMask Signals,struct MessageQueueDescrip
                                  tor *);
                             3205 ; 162  |    int _asmfunc (*m_pInitFunction)(struct MessageQueueDescriptor *);
                             3206 ; 163  |    int m_uTimeOutHigh;
                             3207 ; 164  |    int m_uTimeOutLow;
                             3208 ; 165  |    int _asmfunc (*m_pBackgroundFunction)(struct MessageQueueDescriptor *);
                             3209 ; 166  |};
                             3210 ; 167  |
                             3211 ; 168  |union WaitMask{
                             3212 ; 169  |    struct B{
                             3213 ; 170  |        unsigned int m_bNone     :1;
                             3214 ; 171  |        unsigned int m_bMessage  :1;
                             3215 ; 172  |        unsigned int m_bTimer    :1;
                             3216 ; 173  |        unsigned int m_bButton   :1;
                             3217 ; 174  |    } B;
                             3218 ; 175  |    int I;
                             3219 ; 176  |} ;
                             3220 ; 177  |
                             3221 ; 178  |
                             3222 ; 179  |struct Button {
                             3223 ; 180  |        WORD wButtonEvent;
                             3224 ; 181  |        WORD wUnused[MAX_MSG_LENGTH];   
                             3225 ; 182  |};
                             3226 ; 183  |
                             3227 ; 184  |struct Message {
                             3228 ; 185  |        WORD wMsgLength;
                             3229 ; 186  |        WORD wMsgCommand;
                             3230 ; 187  |        WORD wMsgParms[MAX_MSG_LENGTH-1];
                             3231 ; 188  |};
                             3232 ; 189  |
                             3233 ; 190  |union EventTypes {
                             3234 ; 191  |        struct CMessage msg;
                             3235 ; 192  |        struct Button Button ;
                             3236 ; 193  |        struct Message Message;
                             3237 ; 194  |};
                             3238 ; 195  |
                             3239 ; 196  |// next 2 used to get updater build to return correct protocol ver in scsi response.
                             3240 ; 197  |#define BUILD_TYPE_UPDATER  0x100
                             3241 ; 198  |#define BUILD_TYPE_HOSTLINK 0x101
                             3242 ; 199  |#define BUILD_TYPE_PLAYER   0x102
                             3243 ; 200  |
                             3244 ; 201  |// Resets part if RETAIL build. DEBUG build executes debug instruction to halt.
                             3245 ; 202  |#define SystemHalt() __asm(" include 'sysmacro.asm' \n error") 
                             3246 ; 203  |#define assert(x)    if(!(x)) __asm(" include 'sysmacro.asm' \n error")
                             3247 ; 204  |
                             3248 ; 205  |#if DEBUG
                             3249 ; 206  |// For DEBUG builds, DebugBuildAssert(condition) halts if condition evaluates to FALSE. 
                             3250 ; 207  |#define DebugBuildAssert(x)    if(!(x)) __asm(" debug ")
                             3251 ; 208  |#else 
                             3252 ; 209  |// For RETAIL builds, DebugBuildAssert(condition) does nothing & execution continues rathe
                                  r than halt or reset. 
                             3253 ; 210  |#define DebugBuildAssert(x)    
                             3254 ; 211  |#endif
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  51

M:ADDR CODE           CYCLES LINE SOURCELINE
                             3255 ; 212  |
                             3256 ; 213  |// Do this in your C files to make a reminder that's displayed during the build.
                             3257 ; 214  |//  #pragma asm
                             3258 ; 215  |//  WARN 'Note to builder: reminder to do this after verifying that'
                             3259 ; 216  |//  #pragma endasm
                             3260 ; 217  |
                             3261 ; 218  |
                             3262 ; 219  |#ifdef COLOR_262K
                             3263 ; 220  |#define RGB(r,g,b)    ((0x0000FC & (r)) << 10) | ((0x0000FC & (g)) << 4) | ((0x0000FC & (b
                                  )) >> 2)    //262k
                             3264 ; 221  |#elif defined(COLOR_65K)
                             3265 ; 222  |#define RGB(r,g,b)    ((0x0000F8 & (r)) << 8) | ((0x0000FC & (g)) << 3) | ((0x0000F8 & (b)
                                  ) >> 3)  //65k
                             3266 ; 223  |#else
                             3267 ; 224  |#define RGB(r,g,b)       ((0x0000F0 & (r)) << 4) | (0x0000F0 & (g)) | ((0x0000F0 & (b)) >>
                                   4)
                             3268 ; 225  |#endif
                             3269 ; 226  |    
                             3270 ; 227  |#endif // #ifndef _TYPES_H
                             3271 
                             3273 
                             3274 ; 35   |#include "platform.h"
                             3275 
                             3277 
                             3278 ; 1    |// Plafform API
                             3279 ; 2    |
                             3280 ; 3    |extern void EnterNonReentrantSection(void);
                             3281 ; 4    |extern void LeaveNonReentrantSection(void);
                             3282 ; 5    |
                             3283 ; 6    |extern INT FSGetByte(void *buffer, INT Offset,INT MemoryType);
                             3284 ; 7    |extern INT FSGetWord(void *buffer, INT Offset,INT MemoryType);
                             3285 ; 8    |extern LONG FSGetDWord(void *buffer, INT Offset,INT MemoryType);
                             3286 ; 9    |extern void FsCopyBuffer(void *Dest_Buffer,INT Dest_Offset,void *Source_Buffer,INT Source_
                                  Offset,INT Size,INT Source_MemoryType,INT Dest_MemoryType,INT Dest_modulo,INT SourceModule);
                             3287 ; 10   |extern void PutByte(void *buffer, INT byte,INT Offset ,INT MemoryType);
                             3288 ; 11   |extern void PutWord(void *buffer, INT word, INT Offset,INT MemoryType);
                             3289 ; 12   |extern void PutDword(void *buffer,  LONG dword,INT Offset,INT MemoryType);
                             3290 ; 13   |extern LONG GetDWordY(void *buffer, INT Offset,INT MemoryType);
                             3291 
                             3293 
                             3294 ; 36   |
                             3295 ; 37   |/*========================================================================================
                                  ==========
                             3296 ; 38   |                                           TYPE DEFINITION
                             3297 ; 39   |==========================================================================================
                                  ========*/
                             3298 ; 40   |typedef struct sdmd_dir_s {
                             3299 ; 41   |        long    CurrentCluster;
                             3300 ; 42   |        int     SectorIndex;
                             3301 ; 43   |        int     EntryIndex;
                             3302 ; 44   |} sdmd_dir_t;
                             3303 ; 45   |
                             3304 ; 46   |/*========================================================================================
                                  ==========
                             3305 ; 47   |                                           EXTERN FUNCTION
                             3306 ; 48   |==========================================================================================
                                  ========*/
                             3307 ; 49   |
                             3308 ; 50   |extern _reentrant void sdmd_InitHash(void);
                             3309 ; 51   |extern _reentrant RETCODE sdmd_GetBufferHash (INT DeviceNum, LONG Sector);
                             3310 ; 52   |extern _reentrant RETCODE sdmd_GetDirHash (INT DeviceNum, LONG Cluster);
                             3311 ; 53   |extern _reentrant LONG sdmd_RootDirHash (INT DeviceNum);
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  52

M:ADDR CODE           CYCLES LINE SOURCELINE
                             3312 ; 54   |extern _reentrant RETCODE sdmd_GenerateHash (INT DeviceNum);
                             3313 ; 55   |extern RETCODE _reentrant sdmd_CompareHash (INT DeviceNum, INT b, INT* pPtr);
                             3314 ; 56   |extern RETCODE _reentrant sdmd_UpdateHash (INT DeviceNum, INT b, INT* pPtr);
                             3315 ; 57   |
                             3316 ; 58   |#endif /* __SDMD_H__ */
                             3317 
                             3319 
                             3320 ; 32   |
                             3321 ; 33   |// added 05/03/17 for music.lib file
                             3322 ; 34   |#define COMP_OPT _reentrant
                             3323 ; 35   |#include "..\..\..\..\..\..\System\MsgModules\Software\MusicLib\hdr\musiclib_flash_functio
                                  n.h"
                             3324 
                             3326 
                             3327 ; 1    |#ifndef MUSICLIB_FLASH_FUNCTION_H
                             3328 ; 2    |#define MUSICLIB_FLASH_FUNCTION_H
                             3329 ; 3    |
                             3330 ; 4    |#ifdef __cplusplus
                             3331 ; 5    |extern "C" {
                             3332 ; 6    |#endif
                             3333 ; 7    |
                             3334 ; 8    |/*========================================================================================
                                  ==========
                             3335 ; 9    |
                             3336 ; 10   |                                        General Description
                             3337 ; 11   |
                             3338 ; 12   |==========================================================================================
                                  ==========
                             3339 ; 13   |
                             3340 ; 14   |                               Sigmatel Inc Confidential Proprietary
                             3341 ; 15   |                               (c) Copyright Sigmatel Inc 2004, All Rights Reserved
                             3342 ; 16   |
                             3343 ; 17   |HEADER NAME: mf_sf_filename.h   AUTHOR: Developer Name      CREATION DATE: DD/MM/YYYY
                             3344 ; 18   |
                             3345 ; 19   |PRODUCT NAMES: All
                             3346 ; 20   |
                             3347 ; 21   |GENERAL DESCRIPTION:
                             3348 ; 22   |
                             3349 ; 23   |   General description of this grouping of functions.
                             3350 ; 24   |
                             3351 ; 25   |Portability: All
                             3352 ; 26   |
                             3353 ; 27   |
                             3354 ; 28   |Revision History:
                             3355 ; 29   |
                             3356 ; 30   |                         Modification        Tracking
                             3357 ; 31   |Author                       Date             Number           Description of Changes
                             3358 ; 32   |---------------------    ------------        ----------        ---------------------------
                                  ----------
                             3359 ; 33   |Developer Name            DD/MM/YYYY         PDaaaxxxxx        brief description of change
                                  s made
                             3360 ; 34   |
                             3361 ; 35   |
                             3362 ; 36   |==========================================================================================
                                  ==========
                             3363 ; 37   |                                            DESCRIPTION
                             3364 ; 38   |==========================================================================================
                                  ==========
                             3365 ; 39   |
                             3366 ; 40   |GLOBAL FUNCTIONS:
                             3367 ; 41   |   MF_global_func_name()
                             3368 ; 42   |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  53

M:ADDR CODE           CYCLES LINE SOURCELINE
                             3369 ; 43   |TRACEABILITY MATRIX:
                             3370 ; 44   |   None
                             3371 ; 45   |
                             3372 ; 46   |==========================================================================================
                                  ========*/
                             3373 ; 47   |
                             3374 ; 48   |/*========================================================================================
                                  ==========
                             3375 ; 49   |                                           INCLUDE FILES
                             3376 ; 50   |==========================================================================================
                                  ========*/
                             3377 ; 51   |#include "..\hdr\musiclib_hdr.h"
                             3378 
                             3380 
                             3381 ; 1    |#ifndef MUSICLIB_HDR_H
                             3382 ; 2    |#define MUSICLIB_HDR_H
                             3383 ; 3    |
                             3384 ; 4    |#ifdef __cplusplus
                             3385 ; 5    |extern "C" {
                             3386 ; 6    |#endif
                             3387 ; 7    |
                             3388 ; 8    |/*========================================================================================
                                  ==========
                             3389 ; 9    |
                             3390 ; 10   |                                        General Description
                             3391 ; 11   |
                             3392 ; 12   |==========================================================================================
                                  ==========
                             3393 ; 13   |
                             3394 ; 14   |                               Sigmatel Inc Confidential Proprietary
                             3395 ; 15   |                               (c) Copyright Sigmatel Inc 2004, All Rights Reserved
                             3396 ; 16   |
                             3397 ; 17   |HEADER NAME: mf_sf_filename.h   AUTHOR: Developer Name      CREATION DATE: DD/MM/YYYY
                             3398 ; 18   |
                             3399 ; 19   |PRODUCT NAMES: All
                             3400 ; 20   |
                             3401 ; 21   |GENERAL DESCRIPTION:
                             3402 ; 22   |
                             3403 ; 23   |   General description of this grouping of functions.
                             3404 ; 24   |
                             3405 ; 25   |Portability: All
                             3406 ; 26   |
                             3407 ; 27   |
                             3408 ; 28   |Revision History:
                             3409 ; 29   |
                             3410 ; 30   |                         Modification        Tracking
                             3411 ; 31   |Author                       Date             Number           Description of Changes
                             3412 ; 32   |---------------------    ------------        ----------        ---------------------------
                                  ----------
                             3413 ; 33   |Developer Name            DD/MM/YYYY         PDaaaxxxxx        brief description of change
                                  s made
                             3414 ; 34   |
                             3415 ; 35   |
                             3416 ; 36   |==========================================================================================
                                  ==========
                             3417 ; 37   |                                            DESCRIPTION
                             3418 ; 38   |==========================================================================================
                                  ==========
                             3419 ; 39   |
                             3420 ; 40   |GLOBAL FUNCTIONS:
                             3421 ; 41   |   MF_global_func_name()
                             3422 ; 42   |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  54

M:ADDR CODE           CYCLES LINE SOURCELINE
                             3423 ; 43   |TRACEABILITY MATRIX:
                             3424 ; 44   |   None
                             3425 ; 45   |
                             3426 ; 46   |==========================================================================================
                                  ========*/
                             3427 ; 47   |
                             3428 ; 48   |/*========================================================================================
                                  ==========
                             3429 ; 49   |                                           INCLUDE FILES
                             3430 ; 50   |==========================================================================================
                                  ========*/
                             3431 ; 51   |#include "..\ghdr\musiclib_ghdr.h"
                             3432 
                             3434 
                             3435 ; 1    |#ifndef MUSICLIB_GHDR_H
                             3436 ; 2    |#define MUSICLIB_GHDR_H
                             3437 ; 3    |
                             3438 ; 4    |#ifdef __cplusplus
                             3439 ; 5    |extern "C" {
                             3440 ; 6    |#endif
                             3441 ; 7    |
                             3442 ; 8    |/*========================================================================================
                                  ==========
                             3443 ; 9    |
                             3444 ; 10   |                                        General Description
                             3445 ; 11   |
                             3446 ; 12   |==========================================================================================
                                  ==========
                             3447 ; 13   |
                             3448 ; 14   |                               Sigmatel Inc Confidential Proprietary
                             3449 ; 15   |                               (c) Copyright Sigmatel Inc 2004, All Rights Reserved
                             3450 ; 16   |
                             3451 ; 17   |HEADER NAME: mf_sf_filename.h   AUTHOR: Developer Name      CREATION DATE: DD/MM/YYYY
                             3452 ; 18   |
                             3453 ; 19   |PRODUCT NAMES: All
                             3454 ; 20   |
                             3455 ; 21   |GENERAL DESCRIPTION:
                             3456 ; 22   |
                             3457 ; 23   |    General description of this grouping of functions.
                             3458 ; 24   |
                             3459 ; 25   |Portability: All
                             3460 ; 26   |
                             3461 ; 27   |
                             3462 ; 28   |Revision History:
                             3463 ; 29   |
                             3464 ; 30   |                         Modification        Tracking
                             3465 ; 31   |Author                       Date             Number           Description of Changes
                             3466 ; 32   |---------------------    ------------        ----------        ---------------------------
                                  ----------
                             3467 ; 33   |Developer Name            DD/MM/YYYY         PDaaaxxxxx        brief description of change
                                  s made
                             3468 ; 34   |
                             3469 ; 35   |
                             3470 ; 36   |==========================================================================================
                                  ==========
                             3471 ; 37   |                                            DESCRIPTION
                             3472 ; 38   |==========================================================================================
                                  ==========
                             3473 ; 39   |
                             3474 ; 40   |GLOBAL FUNCTIONS:
                             3475 ; 41   |    MF_global_func_name()
                             3476 ; 42   |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  55

M:ADDR CODE           CYCLES LINE SOURCELINE
                             3477 ; 43   |TRACEABILITY MATRIX:
                             3478 ; 44   |    None
                             3479 ; 45   |
                             3480 ; 46   |==========================================================================================
                                  ========*/
                             3481 ; 47   |
                             3482 ; 48   |/*========================================================================================
                                  ==========
                             3483 ; 49   |                                                                Conditional Compilation Di
                                  rectives
                             3484 ; 50   |==========================================================================================
                                  ========*/
                             3485 ; 51   |#ifdef WIN32
                             3486 ; 52   |#define _PC_SIMULATION_
                             3487 ; 53   |#else
                             3488 ; 54   |#define _RUNNING_IN_EMBEDDED_
                             3489 ; 55   |#endif  // WIN32
                             3490 ; 56   |
                             3491 ; 57   |#if 1
                             3492 ; 58   |#define _NEWMUSIC_      /* install new music list */
                             3493 ; 59   |#endif
                             3494 ; 60   |
                             3495 ; 61   |#if 1
                             3496 ; 62   |#define _AUDIBLE_       /* install audible list */
                             3497 ; 63   |#endif
                             3498 ; 64   |
                             3499 ; 65   |#if 1
                             3500 ; 66   |#define _ONTHEGO_       /* install on the go list */
                             3501 ; 67   |#endif
                             3502 ; 68   |
                             3503 ; 69   |#ifdef PL3_FB
                             3504 ; 70   |#define _FOLDER_BROWSE_ // install folder browsing
                             3505 ; 71   |#endif
                             3506 ; 72   |
                             3507 ; 73   |#if 1
                             3508 ; 74   |#define _SUPPORT_2000_SONGS_
                             3509 ; 75   |#endif
                             3510 ; 76   |
                             3511 ; 77   |/*========================================================================================
                                  ==========
                             3512 ; 78   |                                           INCLUDE FILES
                             3513 ; 79   |==========================================================================================
                                  ========*/
                             3514 ; 80   |#ifdef _RUNNING_IN_EMBEDDED_
                             3515 ; 81   |#define OEM_SEEK_CUR    SEEK_CUR
                             3516 ; 82   |#define OEM_SEEK_SET    SEEK_SET
                             3517 ; 83   |#define OEM_SEEK_END    SEEK_END
                             3518 ; 84   |#else
                             3519 ; 85   |#define _X
                             3520 ; 86   |#define _Y
                             3521 ; 87   |#define _packed
                             3522 ; 88   |
                             3523 ; 89   |#define _asmfunc
                             3524 ; 90   |#define _reentrant
                             3525 ; 91   |
                             3526 ; 92   |#define OEM_SEEK_CUR    1
                             3527 ; 93   |#define OEM_SEEK_SET    0
                             3528 ; 94   |#define OEM_SEEK_END    2
                             3529 ; 95   |#endif  // _RUNNING_IN_EMBEDDED_
                             3530 ; 96   |
                             3531 ; 97   |#include "types.h"
                             3532 
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  56

M:ADDR CODE           CYCLES LINE SOURCELINE
                             3534 
                             3535 ; 1    |////////////////////////////////////////////////////////////////////////////////
                             3536 ; 2    |// Copyright(C) SigmaTel, Inc. 2000-2004
                             3537 ; 3    |//
                             3538 ; 4    |// Filename: types.h
                             3539 ; 5    |// Description: Standard data types
                             3540 ; 6    |////////////////////////////////////////////////////////////////////////////////
                             3541 ; 7    |
                             3542 ; 8    |#ifndef _TYPES_H
                             3543 ; 9    |#define _TYPES_H
                             3544 ; 10   |
                             3545 ; 11   |// TODO:  move this outta here!
                             3546 ; 12   |#if !defined(NOERROR)
                             3547 ; 13   |#define NOERROR 0
                             3548 ; 14   |#define SUCCESS 0
                             3549 ; 15   |#endif 
                             3550 ; 16   |#if !defined(SUCCESS)
                             3551 ; 17   |#define SUCCESS  0
                             3552 ; 18   |#endif
                             3553 ; 19   |#if !defined(ERROR)
                             3554 ; 20   |#define ERROR   -1
                             3555 ; 21   |#endif
                             3556 ; 22   |#if !defined(FALSE)
                             3557 ; 23   |#define FALSE 0
                             3558 ; 24   |#endif
                             3559 ; 25   |#if !defined(TRUE)
                             3560 ; 26   |#define TRUE  1
                             3561 ; 27   |#endif
                             3562 ; 28   |
                             3563 ; 29   |#if !defined(NULL)
                             3564 ; 30   |#define NULL 0
                             3565 ; 31   |#endif
                             3566 ; 32   |
                             3567 ; 33   |#define MAX_INT     0x7FFFFF
                             3568 ; 34   |#define MAX_LONG    0x7FFFFFffffff
                             3569 ; 35   |        // max positive unsigned long value: -1 == 0xFFFFFFffffff
                             3570 ; 36   |#define MAX_ULONG   (-1) 
                             3571 ; 37   |
                             3572 ; 38   |#define WORD_SIZE   24              // word size in bits
                             3573 ; 39   |#define BYTES_PER_WORD 3            // 8 bit bytes
                             3574 ; 40   |
                             3575 ; 41   |
                             3576 ; 42   |#define BYTE    unsigned char       // btVarName
                             3577 ; 43   |#define CHAR    signed char         // cVarName
                             3578 ; 44   |#define USHORT  unsigned short      // usVarName
                             3579 ; 45   |#define SHORT   unsigned short      // sVarName
                             3580 ; 46   |#define WORD    unsigned int        // wVarName
                             3581 ; 47   |#define INT     signed int          // iVarName
                             3582 ; 48   |#define DWORD   unsigned long       // dwVarName
                             3583 ; 49   |#define LONG    signed long         // lVarName
                             3584 ; 50   |#define BOOL    unsigned int        // bVarName
                             3585 ; 51   |#define FRACT   _fract              // frVarName
                             3586 ; 52   |#define LFRACT  long _fract         // lfrVarName
                             3587 ; 53   |#define CIRC    _circ               // cp<type prefix>VarName (see below)
                             3588 ; 54   |#define FLOAT   float               // fVarName
                             3589 ; 55   |#define DBL     double              // dVarName
                             3590 ; 56   |#define ENUM    enum                // eVarName
                             3591 ; 57   |#define CMX     _complex            // cmxVarName
                             3592 ; 58   |typedef WORD UCS3;                   // 
                             3593 ; 59   |
                             3594 ; 60   |#define UINT16  unsigned short
                             3595 ; 61   |#define UINT8   unsigned char   
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  57

M:ADDR CODE           CYCLES LINE SOURCELINE
                             3596 ; 62   |#define UINT32  unsigned long
                             3597 ; 63   |#define UINT64  unsigned long   // need to figure out how to do 64 bit values.  Or port ex
                                  isiting code to only use 48 bit
                             3598 ; 64   |#define INT64   unsigned long   // need to figure out how to do 64 bit values.  Or port ex
                                  isiting code to only use 48 bit
                             3599 ; 65   |#define WCHAR   UINT16
                             3600 ; 66   |
                             3601 ; 67   |//UINT128 is 16 bytes or 6 words
                             3602 ; 68   |typedef struct UINT128_3500 {   
                             3603 ; 69   |    int val[6];     
                             3604 ; 70   |} UINT128_3500;
                             3605 ; 71   |
                             3606 ; 72   |#define UINT128   UINT128_3500
                             3607 ; 73   |
                             3608 ; 74   |// Little endian word packed byte strings:   
                             3609 ; 75   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                             3610 ; 76   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                             3611 ; 77   |// Little endian word packed byte strings:   
                             3612 ; 78   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                             3613 ; 79   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                             3614 ; 80   |
                             3615 ; 81   |// Declare Memory Spaces To Use When Coding
                             3616 ; 82   |// A. Sector Buffers
                             3617 ; 83   |#define SECTOR_BUFFER_MEM_X _X
                             3618 ; 84   |#define SECTOR_BUFFER_MEM_Y _Y
                             3619 ; 85   |#define SECTOR_BUFFER_MEM SECTOR_BUFFER_MEM_X
                             3620 ; 86   |typedef WORD SECTOR_BUFFER_MEM SECTOR_BUFFER;
                             3621 ; 87   |typedef SECTOR_BUFFER * P_SECTOR_BUFFER;
                             3622 ; 88   |// B. Media DDI Memory
                             3623 ; 89   |#define MEDIA_DDI_MEM _Y
                             3624 ; 90   |
                             3625 ; 91   |
                             3626 ; 92   |
                             3627 ; 93   |// Pointers to linear structures are labeled as: p<type prefix>VarName
                             3628 ; 94   |// Examples of circular pointers:
                             3629 ; 95   |//    INT CIRC cpiVarName
                             3630 ; 96   |//    DWORD CIRC cpdwVarName
                             3631 ; 97   |
                             3632 ; 98   |#define RETCODE INT                 // rcVarName
                             3633 ; 99   |
                             3634 ; 100  |// generic bitfield structure
                             3635 ; 101  |struct Bitfield {
                             3636 ; 102  |    unsigned int B0  :1;
                             3637 ; 103  |    unsigned int B1  :1;
                             3638 ; 104  |    unsigned int B2  :1;
                             3639 ; 105  |    unsigned int B3  :1;
                             3640 ; 106  |    unsigned int B4  :1;
                             3641 ; 107  |    unsigned int B5  :1;
                             3642 ; 108  |    unsigned int B6  :1;
                             3643 ; 109  |    unsigned int B7  :1;
                             3644 ; 110  |    unsigned int B8  :1;
                             3645 ; 111  |    unsigned int B9  :1;
                             3646 ; 112  |    unsigned int B10 :1;
                             3647 ; 113  |    unsigned int B11 :1;
                             3648 ; 114  |    unsigned int B12 :1;
                             3649 ; 115  |    unsigned int B13 :1;
                             3650 ; 116  |    unsigned int B14 :1;
                             3651 ; 117  |    unsigned int B15 :1;
                             3652 ; 118  |    unsigned int B16 :1;
                             3653 ; 119  |    unsigned int B17 :1;
                             3654 ; 120  |    unsigned int B18 :1;
                             3655 ; 121  |    unsigned int B19 :1;
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  58

M:ADDR CODE           CYCLES LINE SOURCELINE
                             3656 ; 122  |    unsigned int B20 :1;
                             3657 ; 123  |    unsigned int B21 :1;
                             3658 ; 124  |    unsigned int B22 :1;
                             3659 ; 125  |    unsigned int B23 :1;
                             3660 ; 126  |};
                             3661 ; 127  |
                             3662 ; 128  |union BitInt {
                             3663 ; 129  |        struct Bitfield B;
                             3664 ; 130  |        int        I;
                             3665 ; 131  |};
                             3666 ; 132  |
                             3667 ; 133  |#define MAX_MSG_LENGTH 10
                             3668 ; 134  |struct CMessage
                             3669 ; 135  |{
                             3670 ; 136  |        unsigned int m_uLength;
                             3671 ; 137  |        unsigned int m_uMsg[MAX_MSG_LENGTH];
                             3672 ; 138  |};
                             3673 ; 139  |
                             3674 ; 140  |typedef struct {
                             3675 ; 141  |    WORD m_wLength;
                             3676 ; 142  |    WORD m_wMessage;
                             3677 ; 143  |    WORD m_wParams[MAX_MSG_LENGTH];
                             3678 ; 144  |} Message;
                             3679 ; 145  |
                             3680 ; 146  |struct MessageQueueDescriptor
                             3681 ; 147  |{
                             3682 ; 148  |        int *m_pBase;
                             3683 ; 149  |        int m_iModulo;
                             3684 ; 150  |        int m_iSize;
                             3685 ; 151  |        int *m_pHead;
                             3686 ; 152  |        int *m_pTail;
                             3687 ; 153  |};
                             3688 ; 154  |
                             3689 ; 155  |struct ModuleEntry
                             3690 ; 156  |{
                             3691 ; 157  |    int m_iSignaledEventMask;
                             3692 ; 158  |    int m_iWaitEventMask;
                             3693 ; 159  |    int m_iResourceOfCode;
                             3694 ; 160  |    struct MessageQueueDescriptor *m_pMessageQueue;
                             3695 ; 161  |    int _asmfunc (*m_pProcessEntryPoint)(union WaitMask Signals,struct MessageQueueDescrip
                                  tor *);
                             3696 ; 162  |    int _asmfunc (*m_pInitFunction)(struct MessageQueueDescriptor *);
                             3697 ; 163  |    int m_uTimeOutHigh;
                             3698 ; 164  |    int m_uTimeOutLow;
                             3699 ; 165  |    int _asmfunc (*m_pBackgroundFunction)(struct MessageQueueDescriptor *);
                             3700 ; 166  |};
                             3701 ; 167  |
                             3702 ; 168  |union WaitMask{
                             3703 ; 169  |    struct B{
                             3704 ; 170  |        unsigned int m_bNone     :1;
                             3705 ; 171  |        unsigned int m_bMessage  :1;
                             3706 ; 172  |        unsigned int m_bTimer    :1;
                             3707 ; 173  |        unsigned int m_bButton   :1;
                             3708 ; 174  |    } B;
                             3709 ; 175  |    int I;
                             3710 ; 176  |} ;
                             3711 ; 177  |
                             3712 ; 178  |
                             3713 ; 179  |struct Button {
                             3714 ; 180  |        WORD wButtonEvent;
                             3715 ; 181  |        WORD wUnused[MAX_MSG_LENGTH];   
                             3716 ; 182  |};
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  59

M:ADDR CODE           CYCLES LINE SOURCELINE
                             3717 ; 183  |
                             3718 ; 184  |struct Message {
                             3719 ; 185  |        WORD wMsgLength;
                             3720 ; 186  |        WORD wMsgCommand;
                             3721 ; 187  |        WORD wMsgParms[MAX_MSG_LENGTH-1];
                             3722 ; 188  |};
                             3723 ; 189  |
                             3724 ; 190  |union EventTypes {
                             3725 ; 191  |        struct CMessage msg;
                             3726 ; 192  |        struct Button Button ;
                             3727 ; 193  |        struct Message Message;
                             3728 ; 194  |};
                             3729 ; 195  |
                             3730 ; 196  |// next 2 used to get updater build to return correct protocol ver in scsi response.
                             3731 ; 197  |#define BUILD_TYPE_UPDATER  0x100
                             3732 ; 198  |#define BUILD_TYPE_HOSTLINK 0x101
                             3733 ; 199  |#define BUILD_TYPE_PLAYER   0x102
                             3734 ; 200  |
                             3735 ; 201  |// Resets part if RETAIL build. DEBUG build executes debug instruction to halt.
                             3736 ; 202  |#define SystemHalt() __asm(" include 'sysmacro.asm' \n error") 
                             3737 ; 203  |#define assert(x)    if(!(x)) __asm(" include 'sysmacro.asm' \n error")
                             3738 ; 204  |
                             3739 ; 205  |#if DEBUG
                             3740 ; 206  |// For DEBUG builds, DebugBuildAssert(condition) halts if condition evaluates to FALSE. 
                             3741 ; 207  |#define DebugBuildAssert(x)    if(!(x)) __asm(" debug ")
                             3742 ; 208  |#else 
                             3743 ; 209  |// For RETAIL builds, DebugBuildAssert(condition) does nothing & execution continues rathe
                                  r than halt or reset. 
                             3744 ; 210  |#define DebugBuildAssert(x)    
                             3745 ; 211  |#endif
                             3746 ; 212  |
                             3747 ; 213  |// Do this in your C files to make a reminder that's displayed during the build.
                             3748 ; 214  |//  #pragma asm
                             3749 ; 215  |//  WARN 'Note to builder: reminder to do this after verifying that'
                             3750 ; 216  |//  #pragma endasm
                             3751 ; 217  |
                             3752 ; 218  |
                             3753 ; 219  |#ifdef COLOR_262K
                             3754 ; 220  |#define RGB(r,g,b)    ((0x0000FC & (r)) << 10) | ((0x0000FC & (g)) << 4) | ((0x0000FC & (b
                                  )) >> 2)    //262k
                             3755 ; 221  |#elif defined(COLOR_65K)
                             3756 ; 222  |#define RGB(r,g,b)    ((0x0000F8 & (r)) << 8) | ((0x0000FC & (g)) << 3) | ((0x0000F8 & (b)
                                  ) >> 3)  //65k
                             3757 ; 223  |#else
                             3758 ; 224  |#define RGB(r,g,b)       ((0x0000F0 & (r)) << 4) | (0x0000F0 & (g)) | ((0x0000F0 & (b)) >>
                                   4)
                             3759 ; 225  |#endif
                             3760 ; 226  |    
                             3761 ; 227  |#endif // #ifndef _TYPES_H
                             3762 
                             3764 
                             3765 ; 98   |#include "exec.h"
                             3766 
                             3768 
                             3769 ; 1    |#ifndef EXEC_H
                             3770 ; 2    |#define EXEC_H
                             3771 ; 3    |
                             3772 ; 4    |
                             3773 ; 5    |void _reentrant SysPostMessage(int iLength,...);
                             3774 ; 6    |int _asmfunc GetMessage(struct MessageQueueDescriptor*,struct CMessage * );
                             3775 ; 7    |long _asmfunc SysGetCurrentTime(void);
                             3776 ; 8    |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  60

M:ADDR CODE           CYCLES LINE SOURCELINE
                             3777 ; 9    |
                             3778 ; 10   |#endif
                             3779 
                             3781 
                             3782 ; 99   |#include "messages.h"
                             3783 
                             3785 
                             3786 ; 1    |/////////////////////////////////////////////////////////////////////////////////
                             3787 ; 2    |// Copyright(C) SigmaTel, Inc. 2000
                             3788 ; 3    |// Message defs
                             3789 ; 4    |/////////////////////////////////////////////////////////////////////////////////
                             3790 ; 5    |
                             3791 ; 6    |#if (!defined(MSGEQU_INC))
                             3792 ; 7    |#define MSGEQU_INC 1
                             3793 ; 8    |
                             3794 ; 9    |
                             3795 ; 10   |#define MAX_MODULE_SIZE   (lc_u_eP_Module_overlay-lc_u_bP_Module_overlay)*3
                             3796 ; 11   |
                             3797 ; 12   |
                             3798 ; 13   |#define MSG_TYPE_DECODER 0x000000
                             3799 ; 14   |#define MSG_TYPE_ENCODER 0x010000
                             3800 ; 15   |#define MSG_TYPE_PARSER 0x020000
                             3801 ; 16   |#define MSG_TYPE_LCD 0x030000
                             3802 ; 17   |#define MSG_TYPE_MIXER 0x040000
                             3803 ; 18   |#define MSG_TYPE_SYSTEM 0x050000
                             3804 ; 19   |#define MSG_TYPE_MENU 0x060000
                             3805 ; 20   |#define MSG_TYPE_LED 0x070000
                             3806 ; 21   |#define MSG_TYPE_TUNER 0x080000
                             3807 ; 22   |#define MSG_TYPE_CHARLCD 0x030000
                             3808 ; 23   |#define MSG_TYPE_SOFT_TIMER 0x090000
                             3809 ; 24   |// Equalizer and other effects
                             3810 ; 25   |#define MSG_TYPE_GEQ 0x0a0000             
                             3811 ; 26   |#if (defined(USE_PLAYLIST3))
                             3812 ; 27   |#define MSG_TYPE_MUSICLIB_PLAY 0x0b0000
                             3813 ; 28   |#define MSG_TYPE_MUSICLIB_BROWSE 0x0c0000
                             3814 ; 29   |#define MSG_TYPE_MUSICLIB_PLAYALLNEXT 0x0d0000
                             3815 ; 30   |#define MSG_TYPE_MUSICLIB_PLAYALLPREV 0x0e0000
                             3816 ; 31   |#define MSG_TYPE_MUSICLIB_SHUFFLE 0x0f0000
                             3817 ; 32   |#define MSG_TYPE_MUSICLIB_VOICE 0x100000
                             3818 ; 33   |#define MSG_TYPE_MUSICLIB_VOICEPLAY 0x110000
                             3819 ; 34   |#define MSG_TYPE_MUSICLIB_MERGE 0x120000
                             3820 ; 35   |#endif // IF (@def(USE_PLAYLIST3))
                             3821 ; 36   |#if defined(USE_PLAYLIST5)
                             3822 ; 37   |#define MSG_TYPE_PL5_PLAYBACK 0x0b0000
                             3823 ; 38   |#define MSG_TYPE_PL5_BROWSE 0x0c0000
                             3824 ; 39   |#endif // if @def('USE_PLAYLIST5')
                             3825 ; 40   |
                             3826 ; 41   |// Message Structure Offsets
                             3827 ; 42   |#define MSG_Length 0
                             3828 ; 43   |#define MSG_ID 1
                             3829 ; 44   |#define MSG_Argument1 2
                             3830 ; 45   |#define MSG_Argument2 3
                             3831 ; 46   |#define MSG_Argument3 4
                             3832 ; 47   |#define MSG_Argument4 5
                             3833 ; 48   |#define MSG_Argument5 6
                             3834 ; 49   |#define MSG_Argument6 7
                             3835 ; 50   |
                             3836 ; 51   |
                             3837 ; 52   |
                             3838 ; 53   |// LCD Message IDs
                             3839 ; 54   |#define LCD_FIRST_MSG_ID MSG_TYPE_LCD+0
                             3840 ; 55   |#define LCD_CLEAR_RANGE MSG_TYPE_LCD+0
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  61

M:ADDR CODE           CYCLES LINE SOURCELINE
                             3841 ; 56   |#define LCD_PRINT_RANGE_RSRC MSG_TYPE_LCD+1
                             3842 ; 57   |#define LCD_PRINT_RANGE_ADDR MSG_TYPE_LCD+2
                             3843 ; 58   |#define LCD_PRINT_RANGE_INV_RSRC MSG_TYPE_LCD+3
                             3844 ; 59   |#define LCD_PRINT_RANGE_INV_ADDR MSG_TYPE_LCD+4
                             3845 ; 60   |#define LCD_PRINT_RANGE_FILE MSG_TYPE_LCD+5
                             3846 ; 61   |#define LCD_PRINT_RANGE_INV_FILE MSG_TYPE_LCD+6
                             3847 ; 62   |#define LCD_PRINT_STRING_RSRC MSG_TYPE_LCD+7
                             3848 ; 63   |#define LCD_PRINT_STRING_ADDR MSG_TYPE_LCD+8
                             3849 ; 64   |#define LCD_PRINT_STRING_INV_RSRC MSG_TYPE_LCD+9
                             3850 ; 65   |#define LCD_PRINT_STRING_INV_ADDR MSG_TYPE_LCD+10
                             3851 ; 66   |#define LCD_SCROLL_DISPLAY MSG_TYPE_LCD+11
                             3852 ; 67   |#define LCD_READ_LCD_ADDR MSG_TYPE_LCD+12
                             3853 ; 68   |#define LCD_SET_CONTRAST MSG_TYPE_LCD+13
                             3854 ; 69   |#define LCD_INC_CONTRAST MSG_TYPE_LCD+14
                             3855 ; 70   |#define LCD_DEC_CONTRAST MSG_TYPE_LCD+15
                             3856 ; 71   |#define LCD_BACKLIGHT_ON MSG_TYPE_LCD+16
                             3857 ; 72   |#define LCD_BACKLIGHT_OFF MSG_TYPE_LCD+17
                             3858 ; 73   |#define LCD_SET_FONT MSG_TYPE_LCD+18
                             3859 ; 74   |#define LCD_PRINT_NUMBER MSG_TYPE_LCD+19
                             3860 ; 75   |#define LCD_PRINT_TIME MSG_TYPE_LCD+20
                             3861 ; 76   |#define LCD_PRINT_TIME_LONG MSG_TYPE_LCD+21
                             3862 ; 77   |#define LCD_PRINT_STRING_UNICODE_INV_ADDR MSG_TYPE_LCD+22
                             3863 ; 78   |#define LCD_PRINT_STRING_UNICODE_ADDR MSG_TYPE_LCD+23
                             3864 ; 79   |#define LCD_PRINT_STRING_UNICODE_INV_RSRC MSG_TYPE_LCD+24
                             3865 ; 80   |#define LCD_PRINT_STRING_UNICODE_RSRC MSG_TYPE_LCD+25
                             3866 ; 81   |#define LCD_BEGIN_FRAME MSG_TYPE_LCD+26
                             3867 ; 82   |#define LCD_END_FRAME MSG_TYPE_LCD+27
                             3868 ; 83   |#define LCD_PRINT_NUMBER_INV MSG_TYPE_LCD+28
                             3869 ; 84   |#define LCD_PRINT_TIME_INV MSG_TYPE_LCD+29
                             3870 ; 85   |#define LCD_PRINT_TIME_LONG_INV MSG_TYPE_LCD+30
                             3871 ; 86   |#define LCD_SET_FRAMEBUFFER MSG_TYPE_LCD+31
                             3872 ; 87   |//send a NULL as Param1 to return to root frame buffer
                             3873 ; 88   |#define LCD_PUSH_MASK MSG_TYPE_LCD+32
                             3874 ; 89   |//Param1 = left
                             3875 ; 90   |//Param2 = top
                             3876 ; 91   |//Param3 = right
                             3877 ; 92   |//Param4 = bottom
                             3878 ; 93   |#define LCD_POP_MASK MSG_TYPE_LCD+33
                             3879 ; 94   |#define LCD_PRINT_UNICODE_CHAR MSG_TYPE_LCD+34
                             3880 ; 95   |#define LCD_PRINT_UNICODE_CHAR_INV MSG_TYPE_LCD+35
                             3881 ; 96   |#define LCD_DISPLAY_HISTOGRAM MSG_TYPE_LCD+36
                             3882 ; 97   |#define LCD_PRINT_TIME_L_1DIG_HR MSG_TYPE_LCD+37
                             3883 ; 98   |#define LCD_SET_ICON MSG_TYPE_LCD+38
                             3884 ; 99   |
                             3885 ; 100  |#define LCD_CLEAR_RANGE_BUFFER MSG_TYPE_LCD+39
                             3886 ; 101  |#define LCD_PRINT_RANGE_RSRC_BUFFER MSG_TYPE_LCD+40
                             3887 ; 102  |#define LCD_PRINT_RANGE_INV_RSRC_BUFFER MSG_TYPE_LCD+41
                             3888 ; 103  |#define LCD_PRINT_RANGE_ADDR_BUFFER MSG_TYPE_LCD+42
                             3889 ; 104  |#define LCD_PRINT_RANGE_INV_ADDR_BUFFER MSG_TYPE_LCD+43
                             3890 ; 105  |#define LCD_PRINT_STRING_RSRC_BUFFER MSG_TYPE_LCD+44
                             3891 ; 106  |#define LCD_PRINT_STRING_INV_RSRC_BUFFER MSG_TYPE_LCD+45
                             3892 ; 107  |#define LCD_PRINT_STRING_ADDR_BUFFER MSG_TYPE_LCD+46
                             3893 ; 108  |#define LCD_PRINT_STRING_INV_ADDR_BUFFER MSG_TYPE_LCD+47
                             3894 ; 109  |#define LCD_PRINT_NUMBER_BUFFER MSG_TYPE_LCD+48
                             3895 ; 110  |#define LCD_PRINT_NUMBER_INV_BUFFER MSG_TYPE_LCD+49
                             3896 ; 111  |#define LCD_PRINT_TIME_BUFFER MSG_TYPE_LCD+50
                             3897 ; 112  |#define LCD_PRINT_TIME_INV_BUFFER MSG_TYPE_LCD+51
                             3898 ; 113  |#define LCD_PRINT_TIME_LONG_BUFFER MSG_TYPE_LCD+52
                             3899 ; 114  |#define LCD_PRINT_TIME_LONG_INV_BUFFER MSG_TYPE_LCD+53
                             3900 ; 115  |#define LCD_PRINT_STRING_UNICODE_ADDR_BUFFER MSG_TYPE_LCD+54
                             3901 ; 116  |#define LCD_PRINT_STRING_UNICODE_INV_ADDR_BUFFER MSG_TYPE_LCD+55
                             3902 ; 117  |#define LCD_PRINT_STRING_UNICODE_RSRC_BUFFER MSG_TYPE_LCD+56
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  62

M:ADDR CODE           CYCLES LINE SOURCELINE
                             3903 ; 118  |#define LCD_PRINT_STRING_UNICODE_INV_RSRC_BUFFER MSG_TYPE_LCD+57
                             3904 ; 119  |#define LCD_PRINT_UNICODE_CHAR_BUFFER MSG_TYPE_LCD+58
                             3905 ; 120  |#define LCD_PRINT_UNICODE_CHAR_INV_BUFFER MSG_TYPE_LCD+59
                             3906 ; 121  |#define LCD_PRINT_TIME_L_1DIG_HR_BUFFER MSG_TYPE_LCD+60
                             3907 ; 122  |#define LCD_SET_BUFFER_COLOR MSG_TYPE_LCD+61
                             3908 ; 123  |#define LCD_FORCE_BUFFER_UPDATE MSG_TYPE_LCD+62
                             3909 ; 124  |#define LCD_SET_BUFFER_WINDOW MSG_TYPE_LCD+63
                             3910 ; 125  |#define LCD_SET_COLOR MSG_TYPE_LCD+64
                             3911 ; 126  |#define LCD_SET_BUFFER_POSITION MSG_TYPE_LCD+65
                             3912 ; 127  |
                             3913 ; 128  |#define LCD_TEMP_CONTRAST MSG_TYPE_LCD+66
                             3914 ; 129  |
                             3915 ; 130  |#if defined(CLCD_16BIT)
                             3916 ; 131  |#define LCD_16BIT_ON MSG_TYPE_LCD+67
                             3917 ; 132  |#define LCD_16BIT_OFF MSG_TYPE_LCD+68
                             3918 ; 133  |
                             3919 ; 134  |#define LCD_LAST_MSG_ID MSG_TYPE_LCD+68
                             3920 ; 135  |#else 
                             3921 ; 136  |#define LCD_LAST_MSG_ID MSG_TYPE_LCD+66
                             3922 ; 137  |#endif
                             3923 ; 138  |
                             3924 ; 139  |// If you change the LCD message ID's then you must
                             3925 ; 140  |// also change the jump table in lcdapi.asm
                             3926 ; 141  |
                             3927 ; 142  |// Character LCD Message IDs
                             3928 ; 143  |#define CHARLCD_FIRST_MSG_ID MSG_TYPE_CHARLCD+0
                             3929 ; 144  |#define CHARLCD_CLEAR_RANGE MSG_TYPE_CHARLCD+0
                             3930 ; 145  |#define CHARLCD_PRINT_RSRC MSG_TYPE_CHARLCD+1
                             3931 ; 146  |#define CHARLCD_PRINT_INV_RSRC MSG_TYPE_CHARLCD+2
                             3932 ; 147  |#define CHARLCD_PRINT_ASCII_CHAR MSG_TYPE_CHARLCD+3
                             3933 ; 148  |#define CHARLCD_PRINT_ASCII_INV_CHAR MSG_TYPE_CHARLCD+4
                             3934 ; 149  |#define CHARLCD_PRINT_STRING_RSRC MSG_TYPE_CHARLCD+5
                             3935 ; 150  |#define CHARLCD_PRINT_STRING_INV_RSRC MSG_TYPE_CHARLCD+6
                             3936 ; 151  |#define CHARLCD_PRINT_STRING_ADDR MSG_TYPE_CHARLCD+7
                             3937 ; 152  |#define CHARLCD_PRINT_STRING_INV_ADDR MSG_TYPE_CHARLCD+8
                             3938 ; 153  |#define CHARLCD_SCROLL_DISPLAY MSG_TYPE_CHARLCD+9
                             3939 ; 154  |#define CHARLCD_READ_LCD_ADDR MSG_TYPE_CHARLCD+10
                             3940 ; 155  |#define CHARLCD_SET_CURSOR MSG_TYPE_CHARLCD+11
                             3941 ; 156  |#define CHARLCD_SET_FONT MSG_TYPE_CHARLCD+12
                             3942 ; 157  |#define CHARLCD_PRINT_NUMBER MSG_TYPE_CHARLCD+13
                             3943 ; 158  |#define CHARLCD_PRINT_TIME MSG_TYPE_CHARLCD+14
                             3944 ; 159  |#define CHARLCD_SET_BATTERY MSG_TYPE_CHARLCD+15
                             3945 ; 160  |#define CHARLCD_SET_EQ MSG_TYPE_CHARLCD+16
                             3946 ; 161  |#define CHARLCD_SET_ICON MSG_TYPE_CHARLCD+17
                             3947 ; 162  |#define CHARLCD_SET_PLAYMODE MSG_TYPE_CHARLCD+18
                             3948 ; 163  |#define CHARLCD_SET_PLAYSTATE MSG_TYPE_CHARLCD+19
                             3949 ; 164  |#define CHARLCD_SET_VOLUME MSG_TYPE_CHARLCD+20
                             3950 ; 165  |#define CHARLCD_CLEAR_DISPLAY MSG_TYPE_CHARLCD+21
                             3951 ; 166  |#define CHARLCD_LAST_MSG_ID MSG_TYPE_CHARLCD+21
                             3952 ; 167  |// If you change the cHARACTER LCD message ID's then you must
                             3953 ; 168  |// also change the jump table in lcdapi.asm
                             3954 ; 169  |
                             3955 ; 170  |// Decoder Message IDs
                             3956 ; 171  |#define DECODER_FIRST_MSG_ID MSG_TYPE_DECODER+0
                             3957 ; 172  |#define DECODER_RESET MSG_TYPE_DECODER+0
                             3958 ; 173  |#define DECODER_SET_DIR MSG_TYPE_DECODER+1
                             3959 ; 174  |#define DECODER_PLAY MSG_TYPE_DECODER+2
                             3960 ; 175  |#define DECODER_STOP MSG_TYPE_DECODER+3
                             3961 ; 176  |#define DECODER_FFWD MSG_TYPE_DECODER+4
                             3962 ; 177  |#define DECODER_RWND MSG_TYPE_DECODER+5
                             3963 ; 178  |#define DECODER_NEXT_SONG MSG_TYPE_DECODER+6
                             3964 ; 179  |#define DECODER_PREV_SONG MSG_TYPE_DECODER+7
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  63

M:ADDR CODE           CYCLES LINE SOURCELINE
                             3965 ; 180  |#define DECODER_TIME_MODE MSG_TYPE_DECODER+8
                             3966 ; 181  |#define DECODER_AB_MODE MSG_TYPE_DECODER+9
                             3967 ; 182  |#define DECODER_SET_EQ MSG_TYPE_DECODER+10
                             3968 ; 183  |#define DECODER_GET_SONG_INFO MSG_TYPE_DECODER+11
                             3969 ; 184  |#define DECODER_NEXT_CHAPTER MSG_TYPE_DECODER+12
                             3970 ; 185  |#define DECODER_PREV_CHAPTER MSG_TYPE_DECODER+13
                             3971 ; 186  |#define DECODER_LAST_MSG_ID MSG_TYPE_DECODER+13
                             3972 ; 187  |// If you change the Decoder message ID's, then you must
                             3973 ; 188  |// also change the jump table in decoder_overlay.asm
                             3974 ; 189  |// and in dec_adpcm_overlay.asm.
                             3975 ; 190  |
                             3976 ; 191  |// Encoder Message IDs
                             3977 ; 192  |#define ENCODER_FIRST_MSG_ID MSG_TYPE_ENCODER+0
                             3978 ; 193  |#define ENCODER_RECORD MSG_TYPE_ENCODER+0
                             3979 ; 194  |#define ENCODER_STOP MSG_TYPE_ENCODER+1
                             3980 ; 195  |#define ENCODER_TIME_MODE MSG_TYPE_ENCODER+2
                             3981 ; 196  |#define ENCODER_LAST_MSG_ID MSG_TYPE_ENCODER+3
                             3982 ; 197  |// If you change the Encoder message ID's, then you must
                             3983 ; 198  |// also change the jump table in all encoder overlay modules.
                             3984 ; 199  |
                             3985 ; 200  |// Parser Message IDs
                             3986 ; 201  |#define PARSER_FIRST_MSG_ID MSG_TYPE_PARSER+0
                             3987 ; 202  |#define PARSER_NEXT_SONG MSG_TYPE_PARSER+0
                             3988 ; 203  |#define PARSER_PREV_SONG MSG_TYPE_PARSER+1
                             3989 ; 204  |#define PARSER_REPEAT MSG_TYPE_PARSER+2
                             3990 ; 205  |#define PARSER_RANDOM MSG_TYPE_PARSER+3
                             3991 ; 206  |#define PARSER_STOP MSG_TYPE_PARSER+4
                             3992 ; 207  |#define PARSER_DEVICE_ENUMERATE MSG_TYPE_PARSER+5
                             3993 ; 208  |#define PARSER_SET_CURRENT_SONG MSG_TYPE_PARSER+6
                             3994 ; 209  |#define PARSER_LAST_MSG_ID MSG_TYPE_PARSER+6
                             3995 ; 210  |// If you change the Parser message ID's, then you must
                             3996 ; 211  |// also change the jump table in parser.asm
                             3997 ; 212  |
                             3998 ; 213  |// Button Message IDs
                             3999 ; 214  |//BUTTON_FIRST_MSG_ID      equ     MSG_TYPE_BUTTON+0
                             4000 ; 215  |//BUTTON_BUTTONS_ON        equ     MSG_TYPE_BUTTON+0
                             4001 ; 216  |//BUTTON_BUTTONS_OFF       equ     MSG_TYPE_BUTTON+1
                             4002 ; 217  |//BUTTON_HOLD              equ     MSG_TYPE_BUTTON+2
                             4003 ; 218  |//BUTTON_HOLD_RELEASE      equ     MSG_TYPE_BUTTON+3
                             4004 ; 219  |//BUTTON_LAST_MSG_ID       equ     MSG_TYPE_BUTTON+3
                             4005 ; 220  |
                             4006 ; 221  |// Mixer Message IDs
                             4007 ; 222  |#define MIXER_FIRST_MSG_ID MSG_TYPE_MIXER+0
                             4008 ; 223  |#define MIXER_MASTER_INCR MSG_TYPE_MIXER+0
                             4009 ; 224  |#define MIXER_MASTER_DECR MSG_TYPE_MIXER+1
                             4010 ; 225  |#define MIXER_MASTER_SETLVL MSG_TYPE_MIXER+2
                             4011 ; 226  |#define MIXER_MASTER_MUTE MSG_TYPE_MIXER+3
                             4012 ; 227  |#define MIXER_MASTER_UNMUTE MSG_TYPE_MIXER+4
                             4013 ; 228  |#define MIXER_MASTER_FADE_OUT MSG_TYPE_MIXER+5
                             4014 ; 229  |#define MIXER_MASTER_FADE_IN MSG_TYPE_MIXER+6
                             4015 ; 230  |#define MIXER_MASTER_BAL_RIGHT MSG_TYPE_MIXER+7
                             4016 ; 231  |#define MIXER_MASTER_BAL_LEFT MSG_TYPE_MIXER+8
                             4017 ; 232  |#define MIXER_MIC_INCR MSG_TYPE_MIXER+9
                             4018 ; 233  |#define MIXER_MIC_DECR MSG_TYPE_MIXER+10
                             4019 ; 234  |#define MIXER_MIC_SETLVL MSG_TYPE_MIXER+11
                             4020 ; 235  |#define MIXER_MIC_MUTE MSG_TYPE_MIXER+12
                             4021 ; 236  |#define MIXER_MIC_UNMUTE MSG_TYPE_MIXER+13
                             4022 ; 237  |#define MIXER_MIC_BOOST MSG_TYPE_MIXER+14
                             4023 ; 238  |#define MIXER_MIC_UNBOOST MSG_TYPE_MIXER+15
                             4024 ; 239  |#define MIXER_LINE_INCR MSG_TYPE_MIXER+16
                             4025 ; 240  |#define MIXER_LINE_DECR MSG_TYPE_MIXER+17
                             4026 ; 241  |#define MIXER_LINE_SETLVL MSG_TYPE_MIXER+18
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  64

M:ADDR CODE           CYCLES LINE SOURCELINE
                             4027 ; 242  |#define MIXER_LINE_MUTE MSG_TYPE_MIXER+19
                             4028 ; 243  |#define MIXER_LINE_UNMUTE MSG_TYPE_MIXER+20
                             4029 ; 244  |#define MIXER_FM_INCR MSG_TYPE_MIXER+21
                             4030 ; 245  |#define MIXER_FM_DECR MSG_TYPE_MIXER+22
                             4031 ; 246  |#define MIXER_FM_SETLVL MSG_TYPE_MIXER+23
                             4032 ; 247  |#define MIXER_FM_MUTE MSG_TYPE_MIXER+24
                             4033 ; 248  |#define MIXER_FM_UNMUTE MSG_TYPE_MIXER+25
                             4034 ; 249  |#define MIXER_DAC_INCR MSG_TYPE_MIXER+26
                             4035 ; 250  |#define MIXER_DAC_DECR MSG_TYPE_MIXER+27
                             4036 ; 251  |#define MIXER_DAC_SETLVL MSG_TYPE_MIXER+28
                             4037 ; 252  |#define MIXER_DAC_MUTE MSG_TYPE_MIXER+29
                             4038 ; 253  |#define MIXER_DAC_UNMUTE MSG_TYPE_MIXER+30
                             4039 ; 254  |#define MIXER_ADC_SELECT MSG_TYPE_MIXER+31
                             4040 ; 255  |#define MIXER_ADC_INCR MSG_TYPE_MIXER+32
                             4041 ; 256  |#define MIXER_ADC_DECR MSG_TYPE_MIXER+33
                             4042 ; 257  |#define MIXER_ADC_SETLVL MSG_TYPE_MIXER+34
                             4043 ; 258  |#define MIXER_ADC_MUTE MSG_TYPE_MIXER+35
                             4044 ; 259  |#define MIXER_ADC_UNMUTE MSG_TYPE_MIXER+36
                             4045 ; 260  |#define MIXER_REC_SELECT MSG_TYPE_MIXER+37
                             4046 ; 261  |#define MIXER_POWER_DOWN MSG_TYPE_MIXER+38
                             4047 ; 262  |#define ENABLE_RIGHT_CH MSG_TYPE_MIXER+39
                             4048 ; 263  |#define DISABLE_RIGHT_CH MSG_TYPE_MIXER+40
                             4049 ; 264  |#define MIXER_LAST_MSG_ID MSG_TYPE_MIXER+40
                             4050 ; 265  |// If you change the mixer message ID's then you must
                             4051 ; 266  |// also change the jump table in mixer.asm
                             4052 ; 267  |#define MIXER_ON 0
                             4053 ; 268  |#define MIXER_OFF 1
                             4054 ; 269  |
                             4055 ; 270  |
                             4056 ; 271  |// System Message IDs
                             4057 ; 272  |#define SYSTEM_FIRST_MSG_ID MSG_TYPE_SYSTEM+0
                             4058 ; 273  |#define SYSTEM_SHUTDOWN MSG_TYPE_SYSTEM+0
                             4059 ; 274  |#define SYSTEM_SHUTDOWN_FALSE MSG_TYPE_SYSTEM+1
                             4060 ; 275  |#define SYSTEM_SHUTDOWN_FINAL MSG_TYPE_SYSTEM+2
                             4061 ; 276  |#define SYSTEM_LAST_MSG_ID MSG_TYPE_SYSTEM+2
                             4062 ; 277  |// If you change the system message ID's then you must
                             4063 ; 278  |// also change the jump table in systemapi.asm
                             4064 ; 279  |
                             4065 ; 280  |// Menu IDs
                             4066 ; 281  |#define MENU_FIRST_MSG_ID MSG_TYPE_MENU+0
                             4067 ; 282  |#define MENU_BUTTON_EVENT MSG_TYPE_MENU+0
                             4068 ; 283  |#define MENU_DECODER_STATE_CHNG MSG_TYPE_MENU+1
                             4069 ; 284  |#define MENU_RECORDER_STATE_CHNG MSG_TYPE_MENU+2
                             4070 ; 285  |//sub parameters for this message:
                             4071 ; 286  |#define RECORDER_START 0
                             4072 ; 287  |#define RECORDER_PAUSE 0x2000
                             4073 ; 288  |#define RECORDER_RESUME 0x4000
                             4074 ; 289  |#define RECORDER_STOP_NORMAL 0x8000
                             4075 ; 290  |#define RECORDER_STOP_FILE_ERROR 0x8001
                             4076 ; 291  |#define RECORDER_STOP_OUT_OF_SPACE 0x8002
                             4077 ; 292  |#define RECORDER_STOP_LOW_BATTERY 0x8003
                             4078 ; 293  |#define MENU_SONG_TIME_CHNG MSG_TYPE_MENU+3
                             4079 ; 294  |#define MENU_AB_MODE_OFF MSG_TYPE_MENU+4
                             4080 ; 295  |#define MENU_BATTERY_CHNG MSG_TYPE_MENU+5
                             4081 ; 296  |#define MENU_SCROLL_TITLE MSG_TYPE_MENU+6
                             4082 ; 297  |#define MENU_AUTO_SHUTDOWN MSG_TYPE_MENU+7
                             4083 ; 298  |#define MENU_MSG_MEDIA_CHANGED MSG_TYPE_MENU+8
                             4084 ; 299  |#define MENU_MSG_MEDIA_OVER_CUR MSG_TYPE_MENU+9
                             4085 ; 300  |#define MENU_TUNER_TUNED MSG_TYPE_MENU+10
                             4086 ; 301  |#define MENU_MSG_ENC_LOW_SPACE MSG_TYPE_MENU+11
                             4087 ; 302  |#define MENU_MSG_EQ_SETTINGS MSG_TYPE_MENU+12
                             4088 ; 303  |#define MENU_RECORDER_WRITE_DATA MSG_TYPE_MENU+13
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  65

M:ADDR CODE           CYCLES LINE SOURCELINE
                             4089 ; 304  |#define MENU_SONG_TRACK_CHNG MSG_TYPE_MENU+14
                             4090 ; 305  |#define MENU_SET_SONG_POSITION MSG_TYPE_MENU+15
                             4091 ; 306  |#define MENU_UPDATE_CHAPTER_INFO MSG_TYPE_MENU+16
                             4092 ; 307  |#define MENU_USB_CONNECTED MSG_TYPE_MENU+17
                             4093 ; 308  |#define MENU_MSG_LYRICS_SYNC_AB MSG_TYPE_MENU+18
                             4094 ; 309  |#define MENU_MSG_LYRICS_UPDATE MSG_TYPE_MENU+19
                             4095 ; 310  |#define MENU_TUNER_REFRESH_DISPLAY MSG_TYPE_MENU+20
                             4096 ; 311  |#define MENU_TUNER_DIRTY_FLASH MSG_TYPE_MENU+21
                             4097 ; 312  |#define MENU_LAST_MSG_ID MSG_TYPE_MENU+21
                             4098 ; 313  |
                             4099 ; 314  |// Note that other versions of this file have different msg equates.
                             4100 ; 315  |// If you change the system message ID's then you must
                             4101 ; 316  |// also change the jump table in all menu *.asm
                             4102 ; 317  |
                             4103 ; 318  |// LED Message IDs
                             4104 ; 319  |#define LED_FIRST_MSG_ID MSG_TYPE_LED+0
                             4105 ; 320  |#define LED_CONTROL MSG_TYPE_LED+0
                             4106 ; 321  |#define LED_RESET MSG_TYPE_LED+1
                             4107 ; 322  |#define LED_DLY_ON_CONTROL MSG_TYPE_LED+2
                             4108 ; 323  |#define LED_LAST_MSG_ID MSG_TYPE_LED+2
                             4109 ; 324  |// If you change the LeD message ID's then you must
                             4110 ; 325  |// also change the jump table in ledapi.asm
                             4111 ; 326  |
                             4112 ; 327  |#if (!defined(REMOVE_FM))
                             4113 ; 328  |// FM Tuner Message IDs
                             4114 ; 329  |#define TUNER_FIRST_MSG_ID MSG_TYPE_TUNER+0
                             4115 ; 330  |#define TUNER_TUNE_FREQUENCY MSG_TYPE_TUNER+0
                             4116 ; 331  |#define TUNER_TUNE_MANUAL_UP MSG_TYPE_TUNER+1
                             4117 ; 332  |#define TUNER_TUNE_MANUAL_DOWN MSG_TYPE_TUNER+2
                             4118 ; 333  |#define TUNER_TUNE_SEARCH_UP MSG_TYPE_TUNER+3
                             4119 ; 334  |#define TUNER_TUNE_SEARCH_DOWN MSG_TYPE_TUNER+4
                             4120 ; 335  |#define TUNER_FORCED_MONO MSG_TYPE_TUNER+5
                             4121 ; 336  |#define TUNER_RESET MSG_TYPE_TUNER+6
                             4122 ; 337  |#define TUNER_POWER_ON MSG_TYPE_TUNER+7
                             4123 ; 338  |#define TUNER_POWER_OFF MSG_TYPE_TUNER+8
                             4124 ; 339  |#define TUNER_SET_SENSITIVITY MSG_TYPE_TUNER+9
                             4125 ; 340  |//one parameter--the sensitivity in uV
                             4126 ; 341  |#define TUNER_GET_STATES MSG_TYPE_TUNER+10
                             4127 ; 342  |#define TUNER_MUTE_OUTPUTS MSG_TYPE_TUNER+11
                             4128 ; 343  |#define TUNER_PRESET_STATION MSG_TYPE_TUNER+12
                             4129 ; 344  |#define TUNER_TUNE_TO_PRESET MSG_TYPE_TUNER+13
                             4130 ; 345  |#define TUNER_SET_PRESET MSG_TYPE_TUNER+14
                             4131 ; 346  |#define TUNER_ERASE_PRESET MSG_TYPE_TUNER+15
                             4132 ; 347  |#define TUNER_LAST_MSG_ID MSG_TYPE_TUNER+15
                             4133 ; 348  |#endif
                             4134 ; 349  |
                             4135 ; 350  |#define SOFT_TIMER_FIRST_MSG_ID MSG_TYPE_SOFT_TIMER+0
                             4136 ; 351  |#define SOFT_TIMER_SET_TIMER MSG_TYPE_SOFT_TIMER+1
                             4137 ; 352  |#define SOFT_TIMER_KILL_TIMER MSG_TYPE_SOFT_TIMER+2
                             4138 ; 353  |#define SOFT_TIMER_LAST_MSG_ID MSG_TYPE_SOFT_TIMER+2
                             4139 ; 354  |
                             4140 ; 355  |
                             4141 ; 356  |#define GEQ_FIRST_MSG_ID MSG_TYPE_GEQ+0
                             4142 ; 357  |#define GEQ_SET_EQ MSG_TYPE_GEQ+0
                             4143 ; 358  |#define GEQ_SET_EQ_LEGACY MSG_TYPE_GEQ+1
                             4144 ; 359  |#define GEQ_SET_ALL_BAND_GAINS MSG_TYPE_GEQ+2
                             4145 ; 360  |#define GEQ_SET_GAIN MSG_TYPE_GEQ+3
                             4146 ; 361  |#define GEQ_SET_COEFFICIENTS MSG_TYPE_GEQ+4
                             4147 ; 362  |#define GEQ_SET_PARAM MSG_TYPE_GEQ+5
                             4148 ; 363  |#define GEQ_GET_SETTINGS MSG_TYPE_GEQ+6
                             4149 ; 364  |#define GEQ_LAST_MSG_ID MSG_TYPE_GEQ+6
                             4150 ; 365  |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  66

M:ADDR CODE           CYCLES LINE SOURCELINE
                             4151 ; 366  |#if (defined(USE_PLAYLIST3))
                             4152 ; 367  |// Music Library
                             4153 ; 368  |#define MUSICLIB_PLAY_FIRST_MSG_ID MSG_TYPE_MUSICLIB_PLAY+0
                             4154 ; 369  |#define MUSICLIB_START_PLAY_SONG MSG_TYPE_MUSICLIB_PLAY+0
                             4155 ; 370  |#define MUSICLIB_START_PLAY_ALL_SONG MSG_TYPE_MUSICLIB_PLAY+1
                             4156 ; 371  |#define MUSICLIB_PLAY_SETSHUFFLE MSG_TYPE_MUSICLIB_PLAY+2
                             4157 ; 372  |#define MUSICLIB_PLAY_RESUME MSG_TYPE_MUSICLIB_PLAY+3
                             4158 ; 373  |#define MUSICLIB_PLAY_CURRENT_SIZE MSG_TYPE_MUSICLIB_PLAY+4
                             4159 ; 374  |#define MUSICLIB_PLAY_LAST_MSG_ID MSG_TYPE_MUSICLIB_PLAY+4
                             4160 ; 375  |
                             4161 ; 376  |#define MUSICLIB_BROWSE_FIRST_MSG_ID MSG_TYPE_MUSICLIB_BROWSE+0
                             4162 ; 377  |#define MUSICLIB_BROWSE_SETROOT MSG_TYPE_MUSICLIB_BROWSE+0
                             4163 ; 378  |#define MUSICLIB_BROWSE_BROWSEMENU MSG_TYPE_MUSICLIB_BROWSE+1
                             4164 ; 379  |#define MUSICLIB_BROWSE_DOWNLIST MSG_TYPE_MUSICLIB_BROWSE+2
                             4165 ; 380  |#define MUSICLIB_BROWSE_UPLIST MSG_TYPE_MUSICLIB_BROWSE+3
                             4166 ; 381  |#define MUSICLIB_BROWSE_UPMENU MSG_TYPE_MUSICLIB_BROWSE+4
                             4167 ; 382  |#define MUSICLIB_BROWSE_SONGNUMBER MSG_TYPE_MUSICLIB_BROWSE+5
                             4168 ; 383  |#define MUSICLIB_BROWSE_ON_THE_FLY_GET_STATUS MSG_TYPE_MUSICLIB_BROWSE+6
                             4169 ; 384  |#define MUSICLIB_BROWSE_ON_THE_FLY_ADD_ITEM MSG_TYPE_MUSICLIB_BROWSE+7
                             4170 ; 385  |#define MUSICLIB_BROWSE_ON_THE_FLY_DELETE_ITEM MSG_TYPE_MUSICLIB_BROWSE+8
                             4171 ; 386  |#define MUSICLIB_BROWSE_ON_THE_FLY_DELETE_ALL MSG_TYPE_MUSICLIB_BROWSE+9
                             4172 ; 387  |#define MUSICLIB_BROWSE_LAST_MSG_ID MSG_TYPE_MUSICLIB_BROWSE+9
                             4173 ; 388  |
                             4174 ; 389  |#define MUSICLIB_PLAYALLNEXT_FIRST_MSG_ID MSG_TYPE_MUSICLIB_PLAYALLNEXT+0
                             4175 ; 390  |#define MUSICLIB_PLAYNEXTSONG MSG_TYPE_MUSICLIB_PLAYALLNEXT+0
                             4176 ; 391  |#define MUSICLIB_PLAYALLNEXT_LAST_MSG_ID MSG_TYPE_MUSICLIB_PLAYALLNEXT+0
                             4177 ; 392  |
                             4178 ; 393  |#define MUSICLIB_PLAYALLPREV_FIRST_MSG_ID MSG_TYPE_MUSICLIB_PLAYALLPREV+0
                             4179 ; 394  |#define MUSICLIB_PLAYPREVIOUSSONG MSG_TYPE_MUSICLIB_PLAYALLPREV+0
                             4180 ; 395  |#define MUSICLIB_PLAYALLPREV_LAST_MSG_ID MSG_TYPE_MUSICLIB_PLAYALLPREV+0
                             4181 ; 396  |
                             4182 ; 397  |#define MUSICLIB_SHUFFLE_FIRST_MSG_ID MSG_TYPE_MUSICLIB_SHUFFLE+0
                             4183 ; 398  |#define MUSICLIB_SHUFFLE_NEXT MSG_TYPE_MUSICLIB_SHUFFLE+0
                             4184 ; 399  |#define MUSICLIB_SHUFFLE_LAST_MSG_ID MSG_TYPE_MUSICLIB_SHUFFLE+0
                             4185 ; 400  |
                             4186 ; 401  |#define MUSICLIB_VOICE_FIRST_MSG_ID MSG_TYPE_MUSICLIB_VOICE+0
                             4187 ; 402  |#define MUSICLIB_VOICE_BROWSEMENU MSG_TYPE_MUSICLIB_VOICE+0
                             4188 ; 403  |#define MUSICLIB_VOICE_DOWNLIST MSG_TYPE_MUSICLIB_VOICE+1
                             4189 ; 404  |#define MUSICLIB_VOICE_UPLIST MSG_TYPE_MUSICLIB_VOICE+2
                             4190 ; 405  |#define MUSICLIB_VOICE_UPMENU MSG_TYPE_MUSICLIB_VOICE+3
                             4191 ; 406  |#define MUSICLIB_VOICE_VOICENUMBER MSG_TYPE_MUSICLIB_VOICE+4
                             4192 ; 407  |#define MUSICLIB_VOICE_LAST_MSG_ID MSG_TYPE_MUSICLIB_VOICE+4
                             4193 ; 408  |
                             4194 ; 409  |#define MUSICLIB_VOICEPLAY_FIRST_MSG_ID MSG_TYPE_MUSICLIB_VOICEPLAY+0
                             4195 ; 410  |#define MUSICLIB_START_PLAY_VOICE MSG_TYPE_MUSICLIB_VOICEPLAY+0
                             4196 ; 411  |#define MUSICLIB_VOICEPLAY_LAST_MSG_ID MSG_TYPE_MUSICLIB_VOICEPLAY+0
                             4197 ; 412  |
                             4198 ; 413  |#define MUSICLIB_MERGE_FIRST_MSG_ID MSG_TYPE_MUSICLIB_MERGE+0
                             4199 ; 414  |#define MUSICLIB_MERGE_SONG MSG_TYPE_MUSICLIB_MERGE+0
                             4200 ; 415  |#define MUSICLIB_MERGE_ALL_SONG MSG_TYPE_MUSICLIB_MERGE+1
                             4201 ; 416  |#define MUSICLIB_MERGE_RESUME MSG_TYPE_MUSICLIB_MERGE+2
                             4202 ; 417  |#define MUSICLIB_MERGE_LAST_MSG_ID MSG_TYPE_MUSICLIB_MERGE+2
                             4203 ; 418  |#endif // IF (@def(USE_PLAYLIST3))
                             4204 ; 419  |
                             4205 ; 420  |#if defined(USE_PLAYLIST5)
                             4206 ; 421  |#define PL5_PL_FIRST_MSG_ID MSG_TYPE_PL5_PLAYBACK+0
                             4207 ; 422  |#define PL5_PL_MSG_RESET MSG_TYPE_PL5_PLAYBACK+0
                             4208 ; 423  |#define PL5_PL_MSG_CDSEARCHING MSG_TYPE_PL5_PLAYBACK+1
                             4209 ; 424  |#define PL5_PL_MSG_START MSG_TYPE_PL5_PLAYBACK+2
                             4210 ; 425  |#define PL5_PL_MSG_STOP MSG_TYPE_PL5_PLAYBACK+3
                             4211 ; 426  |#define PL5_PL_MSG_PAUSE MSG_TYPE_PL5_PLAYBACK+4
                             4212 ; 427  |#define PL5_PL_MSG_RESUME MSG_TYPE_PL5_PLAYBACK+5
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  67

M:ADDR CODE           CYCLES LINE SOURCELINE
                             4213 ; 428  |#define PL5_PL_MSG_DELETE MSG_TYPE_PL5_PLAYBACK+6
                             4214 ; 429  |#define PL5_PL_MSG_PLAY MSG_TYPE_PL5_PLAYBACK+7
                             4215 ; 430  |#define PL5_PL_MSG_DISCNT MSG_TYPE_PL5_PLAYBACK+8
                             4216 ; 431  |#define PL5_PL_MSG_ENACNT MSG_TYPE_PL5_PLAYBACK+9
                             4217 ; 432  |#define PL5_PL_LAST_MSG_ID MSG_TYPE_PL5_PLAYBACK+9
                             4218 ; 433  |
                             4219 ; 434  |#define PL5_BR_FIRST_MSG_ID MSG_TYPE_PL5_BROWSE+0
                             4220 ; 435  |#define PL5_BR_MSG_RESET MSG_TYPE_PL5_BROWSE+0
                             4221 ; 436  |#define PL5_BR_MSG_CDBROWSING MSG_TYPE_PL5_BROWSE+1
                             4222 ; 437  |#define PL5_BR_MSG_START MSG_TYPE_PL5_BROWSE+2
                             4223 ; 438  |#define PL5_BR_MSG_STOP MSG_TYPE_PL5_BROWSE+3
                             4224 ; 439  |#define PL5_BR_MSG_PAUSE MSG_TYPE_PL5_BROWSE+4
                             4225 ; 440  |#define PL5_BR_MSG_RESUME MSG_TYPE_PL5_BROWSE+5
                             4226 ; 441  |#define PL5_BR_MSG_DELETE MSG_TYPE_PL5_BROWSE+6
                             4227 ; 442  |#define PL5_BR_LAST_MSG_ID MSG_TYPE_PL5_BROWSE+6
                             4228 ; 443  |#endif // if @def('USE_PLAYLIST5')
                             4229 ; 444  |// Events
                             4230 ; 445  |// No event
                             4231 ; 446  |#define EVENT_NONE 0x000001   
                             4232 ; 447  |// A message has been posted
                             4233 ; 448  |#define EVENT_MESSAGE 0x000002   
                             4234 ; 449  |// Run if wait time elapsed
                             4235 ; 450  |#define EVENT_TIMER 0x000004   
                             4236 ; 451  |// Run if a button event occured
                             4237 ; 452  |#define EVENT_BUTTON 0x000008   
                             4238 ; 453  |// Run if a background event occured
                             4239 ; 454  |#define EVENT_BACKGROUND 0x000010   
                             4240 ; 455  |// The executive should immediately repeat this module
                             4241 ; 456  |#define EVENT_REPEAT 0x000020   
                             4242 ; 457  |// Run the module's init routine
                             4243 ; 458  |#define EVENT_INIT 0x800000   
                             4244 ; 459  |
                             4245 ; 460  |#define EVENT_NONE_BITPOS 0
                             4246 ; 461  |#define EVENT_MESSAGE_BITPOS 1
                             4247 ; 462  |#define EVENT_TIMER_BITPOS 2
                             4248 ; 463  |#define EVENT_BUTTON_BITPOS 3
                             4249 ; 464  |#define EVENT_BACKGROUND_BITPOS 4
                             4250 ; 465  |#define EVENT_REPEAT_BITPOS 5
                             4251 ; 466  |#define EVENT_INIT_BITPOS 23
                             4252 ; 467  |
                             4253 ; 468  |// Parser Message Buffers
                             4254 ; 469  |#define ParserPlayBit 0
                             4255 ; 470  |#define ButtonPressBit 1
                             4256 ; 471  |#define ParserRwndBit 1
                             4257 ; 472  |#define ParserFfwdBit 2
                             4258 ; 473  |
                             4259 ; 474  |//NextSong Message Parameters
                             4260 ; 475  |// ButtonPressBit1 set to denote button was pressed.
                             4261 ; 476  |#define NEXT_SONG 2             
                             4262 ; 477  |// ButtonPressBit1 cleared
                             4263 ; 478  |#define NEXT_SONG_PLAY_EOF 1          
                             4264 ; 479  |// ButtonPressBit1 set
                             4265 ; 480  |#define NEXT_SONG_PLAY_BUTTON 3          
                             4266 ; 481  |// NextSong + Ffwd
                             4267 ; 482  |#define NEXT_SONG_FFWD 4          
                             4268 ; 483  |
                             4269 ; 484  |//PrevSong Message Parameters
                             4270 ; 485  |// PrevSong + Stopped
                             4271 ; 486  |#define PREV_SONG 0          
                             4272 ; 487  |// PrevSong + Play
                             4273 ; 488  |#define PREV_SONG_PLAY 1          
                             4274 ; 489  |// PrevSong + Rwnd
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  68

M:ADDR CODE           CYCLES LINE SOURCELINE
                             4275 ; 490  |#define PREV_SONG_RWND 2          
                             4276 ; 491  |
                             4277 ; 492  |
                             4278 ; 493  |
                             4279 ; 494  |
                             4280 ; 495  |#endif // IF (!@def(MSGEQU_INC))
                             4281 ; 496  |
                             4282 ; 497  |
                             4283 
                             4285 
                             4286 ; 100  |#include "project.h"
                             4287 
                             4289 
                             4290 ; 1    |/////////////////////////////////////////////////////////////////////////////////
                             4291 ; 2    |//  Copyright(C) SigmaTel, Inc. 2000-2004
                             4292 ; 3    |//  Filename: project.inc
                             4293 ; 4    |//  Description: 
                             4294 ; 5    |/////////////////////////////////////////////////////////////////////////////////
                             4295 ; 6    |
                             4296 ; 7    |#if (!defined(_PROJECT_INC))
                             4297 ; 8    |#define _PROJECT_INC 1
                             4298 ; 9    |
                             4299 ; 10   |#if defined(STMP_BUILD_PLAYER)
                             4300 ; 11   |#include "hwequ.h"
                             4301 
                             4303 
                             4304 ; 1    |/////////////////////////////////////////////////////////////////////////////////
                             4305 ; 2    |//  Copyright(C) SigmaTel, Inc. 2000-2001
                             4306 ; 3    |//  File        : hwequ.inc
                             4307 ; 4    |//  Description : STMP Hardware Constants
                             4308 ; 5    |/////////////////////////////////////////////////////////////////////////////////
                             4309 ; 6    |
                             4310 ; 7    |// ////////////////////////////////////////////////////////////////////////////////
                             4311 ; 8    |// hwequ is being eliminated for SDK3XXX.  For SDK2.5XX it will now reside in the   
                             4312 ; 9    |// local folder instead of ..\inc.  All register includes are converted to .h by 
                             4313 ; 10   |// registers.mk placed in the ..\lcdexample\player\output_XXXX folder.
                             4314 ; 11   |// ////////////////////////////////////////////////////////////////////////////////
                             4315 ; 12   |
                             4316 ; 13   |#if (!defined(HWEQU_INC))
                             4317 ; 14   |#define HWEQU_INC 1
                             4318 ; 15   |
                             4319 ; 16   |#include "types.h"
                             4320 
                             4322 
                             4323 ; 1    |////////////////////////////////////////////////////////////////////////////////
                             4324 ; 2    |// Copyright(C) SigmaTel, Inc. 2000-2004
                             4325 ; 3    |//
                             4326 ; 4    |// Filename: types.h
                             4327 ; 5    |// Description: Standard data types
                             4328 ; 6    |////////////////////////////////////////////////////////////////////////////////
                             4329 ; 7    |
                             4330 ; 8    |#ifndef _TYPES_H
                             4331 ; 9    |#define _TYPES_H
                             4332 ; 10   |
                             4333 ; 11   |// TODO:  move this outta here!
                             4334 ; 12   |#if !defined(NOERROR)
                             4335 ; 13   |#define NOERROR 0
                             4336 ; 14   |#define SUCCESS 0
                             4337 ; 15   |#endif 
                             4338 ; 16   |#if !defined(SUCCESS)
                             4339 ; 17   |#define SUCCESS  0
                             4340 ; 18   |#endif
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  69

M:ADDR CODE           CYCLES LINE SOURCELINE
                             4341 ; 19   |#if !defined(ERROR)
                             4342 ; 20   |#define ERROR   -1
                             4343 ; 21   |#endif
                             4344 ; 22   |#if !defined(FALSE)
                             4345 ; 23   |#define FALSE 0
                             4346 ; 24   |#endif
                             4347 ; 25   |#if !defined(TRUE)
                             4348 ; 26   |#define TRUE  1
                             4349 ; 27   |#endif
                             4350 ; 28   |
                             4351 ; 29   |#if !defined(NULL)
                             4352 ; 30   |#define NULL 0
                             4353 ; 31   |#endif
                             4354 ; 32   |
                             4355 ; 33   |#define MAX_INT     0x7FFFFF
                             4356 ; 34   |#define MAX_LONG    0x7FFFFFffffff
                             4357 ; 35   |        // max positive unsigned long value: -1 == 0xFFFFFFffffff
                             4358 ; 36   |#define MAX_ULONG   (-1) 
                             4359 ; 37   |
                             4360 ; 38   |#define WORD_SIZE   24              // word size in bits
                             4361 ; 39   |#define BYTES_PER_WORD 3            // 8 bit bytes
                             4362 ; 40   |
                             4363 ; 41   |
                             4364 ; 42   |#define BYTE    unsigned char       // btVarName
                             4365 ; 43   |#define CHAR    signed char         // cVarName
                             4366 ; 44   |#define USHORT  unsigned short      // usVarName
                             4367 ; 45   |#define SHORT   unsigned short      // sVarName
                             4368 ; 46   |#define WORD    unsigned int        // wVarName
                             4369 ; 47   |#define INT     signed int          // iVarName
                             4370 ; 48   |#define DWORD   unsigned long       // dwVarName
                             4371 ; 49   |#define LONG    signed long         // lVarName
                             4372 ; 50   |#define BOOL    unsigned int        // bVarName
                             4373 ; 51   |#define FRACT   _fract              // frVarName
                             4374 ; 52   |#define LFRACT  long _fract         // lfrVarName
                             4375 ; 53   |#define CIRC    _circ               // cp<type prefix>VarName (see below)
                             4376 ; 54   |#define FLOAT   float               // fVarName
                             4377 ; 55   |#define DBL     double              // dVarName
                             4378 ; 56   |#define ENUM    enum                // eVarName
                             4379 ; 57   |#define CMX     _complex            // cmxVarName
                             4380 ; 58   |typedef WORD UCS3;                   // 
                             4381 ; 59   |
                             4382 ; 60   |#define UINT16  unsigned short
                             4383 ; 61   |#define UINT8   unsigned char   
                             4384 ; 62   |#define UINT32  unsigned long
                             4385 ; 63   |#define UINT64  unsigned long   // need to figure out how to do 64 bit values.  Or port ex
                                  isiting code to only use 48 bit
                             4386 ; 64   |#define INT64   unsigned long   // need to figure out how to do 64 bit values.  Or port ex
                                  isiting code to only use 48 bit
                             4387 ; 65   |#define WCHAR   UINT16
                             4388 ; 66   |
                             4389 ; 67   |//UINT128 is 16 bytes or 6 words
                             4390 ; 68   |typedef struct UINT128_3500 {   
                             4391 ; 69   |    int val[6];     
                             4392 ; 70   |} UINT128_3500;
                             4393 ; 71   |
                             4394 ; 72   |#define UINT128   UINT128_3500
                             4395 ; 73   |
                             4396 ; 74   |// Little endian word packed byte strings:   
                             4397 ; 75   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                             4398 ; 76   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                             4399 ; 77   |// Little endian word packed byte strings:   
                             4400 ; 78   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  70

M:ADDR CODE           CYCLES LINE SOURCELINE
                             4401 ; 79   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                             4402 ; 80   |
                             4403 ; 81   |// Declare Memory Spaces To Use When Coding
                             4404 ; 82   |// A. Sector Buffers
                             4405 ; 83   |#define SECTOR_BUFFER_MEM_X _X
                             4406 ; 84   |#define SECTOR_BUFFER_MEM_Y _Y
                             4407 ; 85   |#define SECTOR_BUFFER_MEM SECTOR_BUFFER_MEM_X
                             4408 ; 86   |typedef WORD SECTOR_BUFFER_MEM SECTOR_BUFFER;
                             4409 ; 87   |typedef SECTOR_BUFFER * P_SECTOR_BUFFER;
                             4410 ; 88   |// B. Media DDI Memory
                             4411 ; 89   |#define MEDIA_DDI_MEM _Y
                             4412 ; 90   |
                             4413 ; 91   |
                             4414 ; 92   |
                             4415 ; 93   |// Pointers to linear structures are labeled as: p<type prefix>VarName
                             4416 ; 94   |// Examples of circular pointers:
                             4417 ; 95   |//    INT CIRC cpiVarName
                             4418 ; 96   |//    DWORD CIRC cpdwVarName
                             4419 ; 97   |
                             4420 ; 98   |#define RETCODE INT                 // rcVarName
                             4421 ; 99   |
                             4422 ; 100  |// generic bitfield structure
                             4423 ; 101  |struct Bitfield {
                             4424 ; 102  |    unsigned int B0  :1;
                             4425 ; 103  |    unsigned int B1  :1;
                             4426 ; 104  |    unsigned int B2  :1;
                             4427 ; 105  |    unsigned int B3  :1;
                             4428 ; 106  |    unsigned int B4  :1;
                             4429 ; 107  |    unsigned int B5  :1;
                             4430 ; 108  |    unsigned int B6  :1;
                             4431 ; 109  |    unsigned int B7  :1;
                             4432 ; 110  |    unsigned int B8  :1;
                             4433 ; 111  |    unsigned int B9  :1;
                             4434 ; 112  |    unsigned int B10 :1;
                             4435 ; 113  |    unsigned int B11 :1;
                             4436 ; 114  |    unsigned int B12 :1;
                             4437 ; 115  |    unsigned int B13 :1;
                             4438 ; 116  |    unsigned int B14 :1;
                             4439 ; 117  |    unsigned int B15 :1;
                             4440 ; 118  |    unsigned int B16 :1;
                             4441 ; 119  |    unsigned int B17 :1;
                             4442 ; 120  |    unsigned int B18 :1;
                             4443 ; 121  |    unsigned int B19 :1;
                             4444 ; 122  |    unsigned int B20 :1;
                             4445 ; 123  |    unsigned int B21 :1;
                             4446 ; 124  |    unsigned int B22 :1;
                             4447 ; 125  |    unsigned int B23 :1;
                             4448 ; 126  |};
                             4449 ; 127  |
                             4450 ; 128  |union BitInt {
                             4451 ; 129  |        struct Bitfield B;
                             4452 ; 130  |        int        I;
                             4453 ; 131  |};
                             4454 ; 132  |
                             4455 ; 133  |#define MAX_MSG_LENGTH 10
                             4456 ; 134  |struct CMessage
                             4457 ; 135  |{
                             4458 ; 136  |        unsigned int m_uLength;
                             4459 ; 137  |        unsigned int m_uMsg[MAX_MSG_LENGTH];
                             4460 ; 138  |};
                             4461 ; 139  |
                             4462 ; 140  |typedef struct {
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  71

M:ADDR CODE           CYCLES LINE SOURCELINE
                             4463 ; 141  |    WORD m_wLength;
                             4464 ; 142  |    WORD m_wMessage;
                             4465 ; 143  |    WORD m_wParams[MAX_MSG_LENGTH];
                             4466 ; 144  |} Message;
                             4467 ; 145  |
                             4468 ; 146  |struct MessageQueueDescriptor
                             4469 ; 147  |{
                             4470 ; 148  |        int *m_pBase;
                             4471 ; 149  |        int m_iModulo;
                             4472 ; 150  |        int m_iSize;
                             4473 ; 151  |        int *m_pHead;
                             4474 ; 152  |        int *m_pTail;
                             4475 ; 153  |};
                             4476 ; 154  |
                             4477 ; 155  |struct ModuleEntry
                             4478 ; 156  |{
                             4479 ; 157  |    int m_iSignaledEventMask;
                             4480 ; 158  |    int m_iWaitEventMask;
                             4481 ; 159  |    int m_iResourceOfCode;
                             4482 ; 160  |    struct MessageQueueDescriptor *m_pMessageQueue;
                             4483 ; 161  |    int _asmfunc (*m_pProcessEntryPoint)(union WaitMask Signals,struct MessageQueueDescrip
                                  tor *);
                             4484 ; 162  |    int _asmfunc (*m_pInitFunction)(struct MessageQueueDescriptor *);
                             4485 ; 163  |    int m_uTimeOutHigh;
                             4486 ; 164  |    int m_uTimeOutLow;
                             4487 ; 165  |    int _asmfunc (*m_pBackgroundFunction)(struct MessageQueueDescriptor *);
                             4488 ; 166  |};
                             4489 ; 167  |
                             4490 ; 168  |union WaitMask{
                             4491 ; 169  |    struct B{
                             4492 ; 170  |        unsigned int m_bNone     :1;
                             4493 ; 171  |        unsigned int m_bMessage  :1;
                             4494 ; 172  |        unsigned int m_bTimer    :1;
                             4495 ; 173  |        unsigned int m_bButton   :1;
                             4496 ; 174  |    } B;
                             4497 ; 175  |    int I;
                             4498 ; 176  |} ;
                             4499 ; 177  |
                             4500 ; 178  |
                             4501 ; 179  |struct Button {
                             4502 ; 180  |        WORD wButtonEvent;
                             4503 ; 181  |        WORD wUnused[MAX_MSG_LENGTH];   
                             4504 ; 182  |};
                             4505 ; 183  |
                             4506 ; 184  |struct Message {
                             4507 ; 185  |        WORD wMsgLength;
                             4508 ; 186  |        WORD wMsgCommand;
                             4509 ; 187  |        WORD wMsgParms[MAX_MSG_LENGTH-1];
                             4510 ; 188  |};
                             4511 ; 189  |
                             4512 ; 190  |union EventTypes {
                             4513 ; 191  |        struct CMessage msg;
                             4514 ; 192  |        struct Button Button ;
                             4515 ; 193  |        struct Message Message;
                             4516 ; 194  |};
                             4517 ; 195  |
                             4518 ; 196  |// next 2 used to get updater build to return correct protocol ver in scsi response.
                             4519 ; 197  |#define BUILD_TYPE_UPDATER  0x100
                             4520 ; 198  |#define BUILD_TYPE_HOSTLINK 0x101
                             4521 ; 199  |#define BUILD_TYPE_PLAYER   0x102
                             4522 ; 200  |
                             4523 ; 201  |// Resets part if RETAIL build. DEBUG build executes debug instruction to halt.
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  72

M:ADDR CODE           CYCLES LINE SOURCELINE
                             4524 ; 202  |#define SystemHalt() __asm(" include 'sysmacro.asm' \n error") 
                             4525 ; 203  |#define assert(x)    if(!(x)) __asm(" include 'sysmacro.asm' \n error")
                             4526 ; 204  |
                             4527 ; 205  |#if DEBUG
                             4528 ; 206  |// For DEBUG builds, DebugBuildAssert(condition) halts if condition evaluates to FALSE. 
                             4529 ; 207  |#define DebugBuildAssert(x)    if(!(x)) __asm(" debug ")
                             4530 ; 208  |#else 
                             4531 ; 209  |// For RETAIL builds, DebugBuildAssert(condition) does nothing & execution continues rathe
                                  r than halt or reset. 
                             4532 ; 210  |#define DebugBuildAssert(x)    
                             4533 ; 211  |#endif
                             4534 ; 212  |
                             4535 ; 213  |// Do this in your C files to make a reminder that's displayed during the build.
                             4536 ; 214  |//  #pragma asm
                             4537 ; 215  |//  WARN 'Note to builder: reminder to do this after verifying that'
                             4538 ; 216  |//  #pragma endasm
                             4539 ; 217  |
                             4540 ; 218  |
                             4541 ; 219  |#ifdef COLOR_262K
                             4542 ; 220  |#define RGB(r,g,b)    ((0x0000FC & (r)) << 10) | ((0x0000FC & (g)) << 4) | ((0x0000FC & (b
                                  )) >> 2)    //262k
                             4543 ; 221  |#elif defined(COLOR_65K)
                             4544 ; 222  |#define RGB(r,g,b)    ((0x0000F8 & (r)) << 8) | ((0x0000FC & (g)) << 3) | ((0x0000F8 & (b)
                                  ) >> 3)  //65k
                             4545 ; 223  |#else
                             4546 ; 224  |#define RGB(r,g,b)       ((0x0000F0 & (r)) << 4) | (0x0000F0 & (g)) | ((0x0000F0 & (b)) >>
                                   4)
                             4547 ; 225  |#endif
                             4548 ; 226  |    
                             4549 ; 227  |#endif // #ifndef _TYPES_H
                             4550 
                             4552 
                             4553 ; 17   |#include "regsclkctrl.h"
                             4554 
                             4556 
                             4557 ; 1    |#if !(defined(__REGS_CLK_CONTROL_INC))
                             4558 ; 2    |#define __REGS_CLK_CONTROL_INC 1
                             4559 ; 3    |
                             4560 ; 4    |
                             4561 ; 5    |/////////////////////////////////////////////////////////////////////////////////
                             4562 ; 6    |//  Clock Control Register (HW_CCR) Bit Positions
                             4563 ; 7    |#define HW_CCR_CKRST_BITPOS 0
                             4564 ; 8    |#define HW_CCR_LTC_BITPOS 1
                             4565 ; 9    |#define HW_CCR_PLLEN_BITPOS 2
                             4566 ; 10   |#define HW_CCR_XTLEN_BITPOS 3
                             4567 ; 11   |#define HW_CCR_PLL_SOURCE_SEL_BITPOS 4
                             4568 ; 12   |#define HW_CCR_ADIV_B0_BITPOS 5
                             4569 ; 13   |#define HW_CCR_ADIV_B1_BITPOS 6
                             4570 ; 14   |#define HW_CCR_ADIV_B2_BITPOS 7
                             4571 ; 15   |#define HW_CCR_CKSRC_BITPOS 8
                             4572 ; 16   |#define HW_CCR_DDIV_BITPOS 9
                             4573 ; 17   |#define HW_CCR_DDIV_B0_BITPOS 9
                             4574 ; 18   |#define HW_CCR_DDIV_B1_BITPOS 10
                             4575 ; 19   |#define HW_CCR_DDIV_B2_BITPOS 11
                             4576 ; 20   |#define HW_CCR_PDIV_BITPOS 12
                             4577 ; 21   |#define HW_CCR_PDIV_B0_BITPOS 12
                             4578 ; 22   |#define HW_CCR_PDIV_B1_BITPOS 13
                             4579 ; 23   |#define HW_CCR_PDIV_B2_BITPOS 14
                             4580 ; 24   |#define HW_CCR_PDIV_B3_BITPOS 15
                             4581 ; 25   |#define HW_CCR_PDIV_B4_BITPOS 16
                             4582 ; 26   |#define HW_CCR_PWDN_BITPOS 17
                             4583 ; 27   |#define HW_CCR_ACKEN_BITPOS 18
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  73

M:ADDR CODE           CYCLES LINE SOURCELINE
                             4584 ; 28   |#define HW_CCR_LOCK_BITPOS 19
                             4585 ; 29   |#define HW_CCR_DACDIV_BITPOS 20
                             4586 ; 30   |#define HW_CCR_ADIV1_B0_BITPOS 20
                             4587 ; 31   |#define HW_CCR_ADIV1_B1_BITPOS 21
                             4588 ; 32   |#define HW_CCR_ADIV1_B2_BITPOS 22
                             4589 ; 33   |#define HW_CCR_DDIV_MSB_BITPOS 23
                             4590 ; 34   |
                             4591 ; 35   |#define HW_CCR_CKRST_SETMASK 1<<HW_CCR_CKRST_BITPOS
                             4592 ; 36   |#define HW_CCR_LTC_SETMASK 1<<HW_CCR_LTC_BITPOS
                             4593 ; 37   |#define HW_CCR_PLLEN_SETMASK 1<<HW_CCR_PLLEN_BITPOS
                             4594 ; 38   |#define HW_CCR_XTLEN_SETMASK 1<<HW_CCR_XTLEN_BITPOS
                             4595 ; 39   |#define HW_CCR_ADCDIV_SETMASK 0x7<<HW_CCR_ADIV_B0_BITPOS
                             4596 ; 40   |#define HW_CCR_CKSRC_SETMASK 1<<HW_CCR_CKSRC_BITPOS
                             4597 ; 41   |#define HW_CCR_DDIV_SETMASK 0x7<<HW_CCR_DDIV_BITPOS
                             4598 ; 42   |#define HW_CCR_PDIV_SETMASK 0x1F<<HW_CCR_PDIV_BITPOS
                             4599 ; 43   |#define HW_CCR_PWDN_SETMASK 1<<HW_CCR_PWDN_BITPOS
                             4600 ; 44   |#define HW_CCR_ACKEN_SETMASK 1<<HW_CCR_ACKEN_BITPOS
                             4601 ; 45   |#define HW_CCR_LOCK_SETMASK 1<<HW_CCR_LOCK_BITPOS
                             4602 ; 46   |#define HW_CCR_DACDIV_SETMASK 0x7<<HW_CCR_DACDIV_BITPOS
                             4603 ; 47   |
                             4604 ; 48   |#define HW_CCR_CKRST_CLRMASK ~(WORD)HW_CCR_CKRST_SETMASK
                             4605 ; 49   |#define HW_CCR_LTC_CLRMASK ~(WORD)HW_CCR_LTC_SETMASK
                             4606 ; 50   |#define HW_CCR_PLLEN_CLRMASK ~(WORD)HW_CCR_PLLEN_SETMASK
                             4607 ; 51   |#define HW_CCR_XTLEN_CLRMASK ~(WORD)HW_CCR_XTLEN_SETMASK
                             4608 ; 52   |#define HW_CCR_ADCDIV_CLRMASK ~(WORD)HW_CCR_ADCDIV_SETMASK
                             4609 ; 53   |#define HW_CCR_CKSRC_CLRMASK ~(WORD)HW_CCR_CKSRC_SETMASK
                             4610 ; 54   |#define HW_CCR_DDIV_CLRMASK ~(WORD)HW_CCR_DDIV_SETMASK
                             4611 ; 55   |#define HW_CCR_PDIV_CLRMASK ~(WORD)HW_CCR_PDIV_SETMASK
                             4612 ; 56   |#define HW_CCR_PWDN_CLRMASK ~(WORD)HW_CCR_PWDN_SETMASK
                             4613 ; 57   |#define HW_CCR_ACKEN_CLRMASK ~(WORD)HW_CCR_ACKEN_SETMASK
                             4614 ; 58   |#define HW_CCR_LOCK_CLRMASK ~(WORD)HW_CCR_LOCK_SETMASK
                             4615 ; 59   |#define HW_CCR_DACDIV_CLRMASK ~(WORD)HW_CCR_DACDIV_SETMASK
                             4616 ; 60   |
                             4617 ; 61   |typedef union               
                             4618 ; 62   |{
                             4619 ; 63   |    struct
                             4620 ; 64   |    {
                             4621 ; 65   |        int CKRST       :1; // Clock Reset
                             4622 ; 66   |        int LTC         :1;
                             4623 ; 67   |        int PLLEN       :1;
                             4624 ; 68   |        int XTLEN       :1;
                             4625 ; 69   |        int FLB         :1;
                             4626 ; 70   |        unsigned ADIV   :3;
                             4627 ; 71   |        int CKSRC       :1;
                             4628 ; 72   |        unsigned DDIV   :3;
                             4629 ; 73   |        unsigned PDIV   :5;
                             4630 ; 74   |        int PWDN        :1;
                             4631 ; 75   |        int ACKEN       :1;
                             4632 ; 76   |        int LOCK        :1;
                             4633 ; 77   |        unsigned ADIV1  :3;
                             4634 ; 78   |        unsigned DDIV_MSB:1;
                             4635 ; 79   |    } B;
                             4636 ; 80   |
                             4637 ; 81   |    int I;
                             4638 ; 82   |    unsigned int U;
                             4639 ; 83   |
                             4640 ; 84   |} ccr_type;
                             4641 ; 85   |#define HW_CCR     (*(volatile ccr_type _X*) (0xFA00))
                             4642 ; 86   |
                             4643 ; 87   |/////////////////////////////////////////////////////////////////////////////////
                             4644 ; 88   |//  Reset Control Register (HW_RCR) Bit Positions
                             4645 ; 89   |#define HW_RCR_STKLVL_BITPOS 0
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  74

M:ADDR CODE           CYCLES LINE SOURCELINE
                             4646 ; 90   |#define HW_RCR_SRST_BITPOS 4
                             4647 ; 91   |#define HW_RCR_IRQA_BITPOS 8
                             4648 ; 92   |#define HW_RCR_IRQB_BITPOS 9
                             4649 ; 93   |#define HW_RCR_NMI_BITPOS 10
                             4650 ; 94   |#define HW_RCR_SUNFLLVL_BITPOS 11
                             4651 ; 95   |#define HW_RCR_SUNFLEN_BITPOS 15
                             4652 ; 96   |#define HW_RCR_SOVFLLVL_BITPOS 16
                             4653 ; 97   |#define HW_RCR_SOVFLEN_BITPOS 20
                             4654 ; 98   |#define HW_RCR_IRQB2NMI_BITPOS 21
                             4655 ; 99   |#define HW_RCR_SUNFL_BITPOS 22
                             4656 ; 100  |#define HW_RCR_SOVFL_BITPOS 23
                             4657 ; 101  |
                             4658 ; 102  |#define HW_RCR_STKLVL_WIDTH (4)
                             4659 ; 103  |#define HW_RCR_SRST_WIDTH (4)
                             4660 ; 104  |#define HW_RCR_IRQA_WIDTH (1)
                             4661 ; 105  |#define HW_RCR_IRQB_WIDTH (1)
                             4662 ; 106  |#define HW_RCR_NMI_WIDTH (1)
                             4663 ; 107  |#define HW_RCR_SUNFLLVL_WIDTH (4)
                             4664 ; 108  |#define HW_RCR_SUNFLEN_WIDTH (1)
                             4665 ; 109  |#define HW_RCR_SOVFLLVL_WIDTH (4)
                             4666 ; 110  |#define HW_RCR_SOVFLEN_WIDTH (1)
                             4667 ; 111  |#define HW_RCR_IRQB2NMI_WIDTH (1)
                             4668 ; 112  |#define HW_RCR_SUNFL_WIDTH (1)
                             4669 ; 113  |#define HW_RCR_SOVFL_WIDTH (1)
                             4670 ; 114  |
                             4671 ; 115  |#define HW_RCR_STKLVL_SETMASK (((1<<HW_RCR_STKLVL_WIDTH)-1)<<HW_RCR_STKLVL_BITPOS)
                             4672 ; 116  |#define HW_RCR_SRST_SETMASK (((1<<HW_RCR_SRST_WIDTH)-1)<<HW_RCR_SRST_BITPOS)
                             4673 ; 117  |#define HW_RCR_IRQA_SETMASK (((1<<HW_RCR_IRQA_WIDTH)-1)<<HW_RCR_IRQA_BITPOS)
                             4674 ; 118  |#define HW_RCR_IRQB_SETMASK (((1<<HW_RCR_IRQB_WIDTH)-1)<<HW_RCR_IRQB_BITPOS)
                             4675 ; 119  |#define HW_RCR_NMI_SETMASK (((1<<HW_RCR_NMI_WIDTH)-1)<<HW_RCR_NMI_BITPOS)
                             4676 ; 120  |#define HW_RCR_SUNFLLVL_SETMASK (((1<<HW_RCR_SUNFLLVL_WIDTH)-1)<<HW_RCR_SUNFLLVL_BITPOS)
                             4677 ; 121  |#define HW_RCR_SUNFLEN_SETMASK (((1<<HW_RCR_SUNFLEN_WIDTH)-1)<<HW_RCR_SUNFLEN_BITPOS)
                             4678 ; 122  |#define HW_RCR_SOVFLLVL_SETMASK (((1<<HW_RCR_SOVFLLVL_WIDTH)-1)<<HW_RCR_SOVFLLVL_BITPOS)
                             4679 ; 123  |#define HW_RCR_SOVFLEN_SETMASK (((1<<HW_RCR_SOVFLEN_WIDTH)-1)<<HW_RCR_SOVFLEN_BITPOS)
                             4680 ; 124  |#define HW_RCR_IRQB2NMI_SETMASK (((1<<HW_RCR_IRQB2NMI_WIDTH)-1)<<HW_RCR_IRQB2NMI_BITPOS)
                             4681 ; 125  |#define HW_RCR_SUNFL_SETMASK (((1<<HW_RCR_SUNFL_WIDTH)-1)<<HW_RCR_SUNFL_BITPOS)
                             4682 ; 126  |#define HW_RCR_SOVFL_SETMASK (((1<<HW_RCR_SOVFL_WIDTH)-1)<<HW_RCR_SOVFL_BITPOS)
                             4683 ; 127  |
                             4684 ; 128  |#define HW_RCR_STKLVL_CLRMASK ~(WORD)HW_RCR_STKLVL_SETMASK
                             4685 ; 129  |#define HW_RCR_SRST_CLRMASK ~(WORD)HW_RCR_SRST_SETMASK
                             4686 ; 130  |#define HW_RCR_IRQA_CLRMASK ~(WORD)HW_RCR_IRQA_SETMASK
                             4687 ; 131  |#define HW_RCR_IRQB_CLRMASK ~(WORD)HW_RCR_IRQB_SETMASK
                             4688 ; 132  |#define HW_RCR_NMI_CLRMASK ~(WORD)HW_RCR_NMI_SETMASK
                             4689 ; 133  |#define HW_RCR_SUNFLLVL_CLRMASK ~(WORD)HW_RCR_SUNFLLVL_SETMASK
                             4690 ; 134  |#define HW_RCR_SUNFLEN_CLRMASK ~(WORD)HW_RCR_SUNFLEN_SETMASK
                             4691 ; 135  |#define HW_RCR_SOVFLLVL_CLRMASK ~(WORD)HW_RCR_SOVFLLVL_SETMASK
                             4692 ; 136  |#define HW_RCR_SOVFLEN_CLRMASK ~(WORD)HW_RCR_SOVFLEN_SETMASK
                             4693 ; 137  |#define HW_RCR_IRQB2NMI_CLRMASK ~(WORD)HW_RCR_IRQB2NMI_SETMASK
                             4694 ; 138  |#define HW_RCR_SUNFL_CLRMASK ~(WORD)HW_RCR_SUNFL_SETMASK
                             4695 ; 139  |#define HW_RCR_SOVFL_CLRMASK ~(WORD)HW_RCR_SOVFL_SETMASK
                             4696 ; 140  |
                             4697 ; 141  |typedef union               
                             4698 ; 142  |{
                             4699 ; 143  |    struct
                             4700 ; 144  |   {
                             4701 ; 145  |        int STKLVL   : HW_RCR_STKLVL_WIDTH;
                             4702 ; 146  |        int SRST     : HW_RCR_SRST_WIDTH;
                             4703 ; 147  |        int IRQA     : HW_RCR_IRQA_WIDTH;
                             4704 ; 148  |        int IRQB     : HW_RCR_IRQB_WIDTH;
                             4705 ; 149  |        int NMI      : HW_RCR_NMI_WIDTH;
                             4706 ; 150  |        int SUNFLLVL : HW_RCR_SUNFLLVL_WIDTH;
                             4707 ; 151  |        int SUNFLEN  : HW_RCR_SUNFLEN_WIDTH;
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  75

M:ADDR CODE           CYCLES LINE SOURCELINE
                             4708 ; 152  |        int SOVFLLVL : HW_RCR_SOVFLLVL_WIDTH;
                             4709 ; 153  |        int SOVFLEN  : HW_RCR_SOVFLEN_WIDTH;
                             4710 ; 154  |        int IRQB2NMI : HW_RCR_IRQB2NMI_WIDTH;
                             4711 ; 155  |        int SUNFL    : HW_RCR_SUNFL_WIDTH;
                             4712 ; 156  |        int SOVFL    : HW_RCR_SOVFL_WIDTH;
                             4713 ; 157  |    } B;
                             4714 ; 158  |
                             4715 ; 159  |    int I;
                             4716 ; 160  |    unsigned int U;
                             4717 ; 161  |
                             4718 ; 162  |} rcr_type;
                             4719 ; 163  |#define HW_RCR     (*(volatile rcr_type _X*) (0xFA01))
                             4720 ; 164  |
                             4721 ; 165  |
                             4722 ; 166  |/////////////////////////////////////////////////////////////////////////////////
                             4723 ; 167  |//  DCLK Count Lower register (HW_DCLKCNTL) Bit Positions
                             4724 ; 168  |#define HW_DCLKCNTL_LOW_BITPOS 0
                             4725 ; 169  |
                             4726 ; 170  |#define HW_DCLKCNTL_LOW_WIDTH (24)        
                             4727 ; 171  |
                             4728 ; 172  |#define HW_DCLKCNTL_LOW_SETMASK (((1<<HW_DCLKCNTL_LOW_WIDTH)-1)<<HW_DCLKCNTL_LOW_BITPOS) 
                             4729 ; 173  |#define HW_DCLKCNTL_LOW_CLRMASK ~(WORD)HW_DCLKCNTL_LOW_SETMASK
                             4730 ; 174  |typedef union               
                             4731 ; 175  |{
                             4732 ; 176  |    struct
                             4733 ; 177  |   {
                             4734 ; 178  |        int LOW;
                             4735 ; 179  |    } B;
                             4736 ; 180  |
                             4737 ; 181  |    int I;
                             4738 ; 182  |    unsigned int U;
                             4739 ; 183  |
                             4740 ; 184  |} dclkcntl_type;
                             4741 ; 185  |#define HW_DCLKCNTL (*(volatile dclkcntl_type _X*) (0xFFEA))
                             4742 ; 186  |
                             4743 ; 187  |/////////////////////////////////////////////////////////////////////////////////
                             4744 ; 188  |//  DCLK Count UPPER register (HW_DCLKCNTU) Bit Positions
                             4745 ; 189  |#define HW_DCLKCNTU_HIGH_BITPOS 0
                             4746 ; 190  |
                             4747 ; 191  |#define HW_DCLKCNTU_HIGH_WIDTH (24)        
                             4748 ; 192  |
                             4749 ; 193  |#define HW_DCLKCNTU_HIGH_SETMASK (((1<<HW_DCLKCNTU_HIGH_WIDTH)-1)<<HW_DCLKCNTU_HIGH_BITPOS
                                  ) 
                             4750 ; 194  |#define HW_DCLKCNTU_HIGH_CLRMASK ~(WORD)HW_DCLKCNTU_HIGH_SETMASK
                             4751 ; 195  |typedef union               
                             4752 ; 196  |{
                             4753 ; 197  |    struct
                             4754 ; 198  |   {
                             4755 ; 199  |        int HIGH;
                             4756 ; 200  |    } B;
                             4757 ; 201  |
                             4758 ; 202  |    int I;
                             4759 ; 203  |    unsigned int U;
                             4760 ; 204  |
                             4761 ; 205  |} dclkcntu_type;
                             4762 ; 206  |#define HW_DCLKCNTU (*(volatile dclkcntu_type _X*) (0xFFEB))
                             4763 ; 207  |
                             4764 ; 208  |//*********************  REGISTER ALIAS DEFINES TO MATCH LEGACY CODE *********************
                                  **********
                             4765 ; 209  |// The following defines were added to match regs3410.inc definition to build SDK2XXX code
                                   without needing 
                             4766 ; 210  |// to update the actual files. Only the defines needed to build SDK2.400 were added. 
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  76

M:ADDR CODE           CYCLES LINE SOURCELINE
                             4767 ; 211  |
                             4768 ; 212  |// Clock count register (lower)
                             4769 ; 213  |#define HW_CLK_CNT_L 0x00FFEA         
                             4770 ; 214  |// Clock count register (upper)
                             4771 ; 215  |#define HW_CLK_CNT_U 0x00FFEB         
                             4772 ; 216  |// Cycle steal count register
                             4773 ; 217  |#define HW_CYC_STEAL 0x00FFEC         
                             4774 ; 218  |
                             4775 ; 219  |#endif
                             4776 ; 220  |
                             4777 ; 221  |
                             4778 
                             4780 
                             4781 ; 18   |#include "regscore.h"
                             4782 
                             4784 
                             4785 ; 1    |#if !(defined(__REGS_STATUS_INC))
                             4786 ; 2    |#define __REGS_STATUS_INC 1
                             4787 ; 3    |
                             4788 ; 4    |
                             4789 ; 5    |/////////////////////////////////////////////////////////////////////////////////
                             4790 ; 6    |//  OMR Register (HW_OMR) Bit Positions
                             4791 ; 7    |#define HW_OMR_MA_BITPOS 0
                             4792 ; 8    |#define HW_OMR_MB_BITPOS 1
                             4793 ; 9    |#define HW_OMR_DE_BITPOS 2
                             4794 ; 10   |#define HW_OMR_YE_BITPOS 3
                             4795 ; 11   |#define HW_OMR_MC_BITPOS 4
                             4796 ; 12   |#define HW_OMR_SD_BITPOS 6
                             4797 ; 13   |
                             4798 ; 14   |#define HW_OMR_MA_SETMASK 1<<HW_OMR_MA_BITPOS
                             4799 ; 15   |#define HW_OMR_MB_SETMASK 1<<HW_OMR_MB_BITPOS
                             4800 ; 16   |#define HW_OMR_DE_SETMASK 1<<HW_OMR_DE_BITPOS
                             4801 ; 17   |#define HW_OMR_YE_SETMASK 1<<HW_OMR_YE_BITPOS
                             4802 ; 18   |#define HW_OMR_MC_SETMASK 1<<HW_OMR_MC_BITPOS
                             4803 ; 19   |#define HW_OMR_SD_SETMASK 1<<HW_OMR_SD_BITPOS
                             4804 ; 20   |
                             4805 ; 21   |#define HW_OMR_MA_CLRMASK ~(WORD)HW_OMR_MA_SETMASK
                             4806 ; 22   |#define HW_OMR_MB_CLRMASK ~(WORD)HW_OMR_MB_SETMASK
                             4807 ; 23   |#define HW_OMR_DE_CLRMASK ~(WORD)HW_OMR_DE_SETMASK
                             4808 ; 24   |#define HW_OMR_YE_CLRMASK ~(WORD)HW_OMR_YE_SETMASK
                             4809 ; 25   |#define HW_OMR_MC_CLRMASK ~(WORD)HW_OMR_MC_SETMASK
                             4810 ; 26   |#define HW_OMR_SD_CLRMASK ~(WORD)HW_OMR_SD_SETMASK
                             4811 ; 27   |
                             4812 ; 28   |
                             4813 ; 29   |/////////////////////////////////////////////////////////////////////////////////
                             4814 ; 30   |//  Status Register (HW_SR) Bit Positions
                             4815 ; 31   |#define HW_SR_C_BITPOS 0
                             4816 ; 32   |#define HW_SR_O_BITPOS 1
                             4817 ; 33   |#define HW_SR_Z_BITPOS 2
                             4818 ; 34   |#define HW_SR_N_BITPOS 3
                             4819 ; 35   |#define HW_SR_U_BITPOS 4
                             4820 ; 36   |#define HW_SR_E_BITPOS 5
                             4821 ; 37   |#define HW_SR_L_BITPOS 6
                             4822 ; 38   |#define HW_SR_IM_BITPOS 8
                             4823 ; 39   |#define HW_SR_IM0_BITPOS 8
                             4824 ; 40   |#define HW_SR_IM1_BITPOS 9
                             4825 ; 41   |#define HW_SR_SM_BITPOS 10
                             4826 ; 42   |#define HW_SR_SM0_BITPOS 10
                             4827 ; 43   |#define HW_SR_SM1_BITPOS 11
                             4828 ; 44   |#define HW_SR_TM_BITPOS 13
                             4829 ; 45   |#define HW_SR_DP_BITPOS 14
                             4830 ; 46   |#define HW_SR_LOOP_BITPOS 15
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  77

M:ADDR CODE           CYCLES LINE SOURCELINE
                             4831 ; 47   |
                             4832 ; 48   |#define HW_SR_C_SETMASK 1<<HW_SR_C_BITPOS
                             4833 ; 49   |#define HW_SR_O_SETMASK 1<<HW_SR_O_BITPOS
                             4834 ; 50   |#define HW_SR_Z_SETMASK 1<<HW_SR_Z_BITPOS
                             4835 ; 51   |#define HW_SR_N_SETMASK 1<<HW_SR_N_BITPOS
                             4836 ; 52   |#define HW_SR_U_SETMASK 1<<HW_SR_U_BITPOS
                             4837 ; 53   |#define HW_SR_E_SETMASK 1<<HW_SR_E_BITPOS
                             4838 ; 54   |#define HW_SR_L_SETMASK 1<<HW_SR_L_BITPOS
                             4839 ; 55   |#define HW_SR_IM_SETMASK 3<<HW_SR_IM_BITPOS
                             4840 ; 56   |#define HW_SR_IM0_SETMASK 1<<HW_SR_IM0_BITPOS
                             4841 ; 57   |#define HW_SR_IM1_SETMASK 1<<HW_SR_IM1_BITPOS
                             4842 ; 58   |#define HW_SR_IM_L0_SETMASK 0<<HW_SR_IM_BITPOS
                             4843 ; 59   |#define HW_SR_IM_L1_SETMASK 1<<HW_SR_IM_BITPOS
                             4844 ; 60   |#define HW_SR_IM_L2_SETMASK 2<<HW_SR_IM_BITPOS
                             4845 ; 61   |#define HW_SR_IM_L3_SETMASK 3<<HW_SR_IM_BITPOS
                             4846 ; 62   |#define HW_SR_SM_SETMASK 3<<HW_SR_SM_BITPOS
                             4847 ; 63   |#define HW_SR_SM0_SETMASK 1<<HW_SR_SM0_BITPOS
                             4848 ; 64   |#define HW_SR_SM1_SETMASK 1<<HW_SR_SM1_BITPOS
                             4849 ; 65   |#define HW_SR_TM_SETMASK 1<<HW_SR_TM_BITPOS
                             4850 ; 66   |#define HW_SR_DP_SETMASK 1<<HW_SR_DP_BITPOS
                             4851 ; 67   |#define HW_SR_LOOP_SETMASK 1<<HW_SR_LOOP_BITPOS
                             4852 ; 68   |
                             4853 ; 69   |#define HW_SR_C_CLRMASK ~(WORD)HW_SR_C_SETMASK
                             4854 ; 70   |#define HW_SR_O_CLRMASK ~(WORD)HW_SR_O_SETMASK
                             4855 ; 71   |#define HW_SR_Z_CLRMASK ~(WORD)HW_SR_Z_SETMASK
                             4856 ; 72   |#define HW_SR_N_CLRMASK ~(WORD)HW_SR_N_SETMASK
                             4857 ; 73   |#define HW_SR_U_CLRMASK ~(WORD)HW_SR_U_SETMASK
                             4858 ; 74   |#define HW_SR_E_CLRMASK ~(WORD)HW_SR_E_SETMASK
                             4859 ; 75   |#define HW_SR_L_CLRMASK ~(WORD)HW_SR_L_SETMASK
                             4860 ; 76   |#define HW_SR_IM_CLRMASK (0x00FFFF)&(~(WORD)HW_SR_IM_SETMASK)
                             4861 ; 77   |#define HW_SR_IM0_CLRMASK ~(WORD)HW_SR_IM0_SETMASK
                             4862 ; 78   |#define HW_SR_IM1_CLRMASK ~(WORD)HW_SR_IM1_SETMASK
                             4863 ; 79   |#define HW_SR_SM_CLRMASK ~(WORD)HW_SR_SM_SETMASK
                             4864 ; 80   |#define HW_SR_SM0_CLRMASK ~(WORD)HW_SR_SM0_SETMASK
                             4865 ; 81   |#define HW_SR_SM1_CLRMASK ~(WORD)HW_SR_SM1_SETMASK
                             4866 ; 82   |#define HW_SR_TM_CLRMASK ~(WORD)HW_SR_TM_SETMASK
                             4867 ; 83   |#define HW_SR_DP_CLRMASK ~(WORD)HW_SR_DP_SETMASK
                             4868 ; 84   |#define HW_SR_LOOP_CLRMASK ~(WORD)HW_SR_LOOP_SETMASK
                             4869 ; 85   |
                             4870 ; 86   |/////////////////////////////////////////////////////////////////////////////////
                             4871 ; 87   |//  RAM/ROM Config Register Bit Positions
                             4872 ; 88   |#define HW_RAM_ROM_CFG_ROM_IMAGE_EN_BITPOS 18
                             4873 ; 89   |#define HW_RAM_ROM_CFG_ROM_CLK_EN_BITPOS 19
                             4874 ; 90   |#define HW_RAM_ROM_CFG_PXRAM_CLK_EN_BITPOS 20
                             4875 ; 91   |#define HW_RAM_ROM_CFG_PYRAM_CLK_EN_BITPOS 21
                             4876 ; 92   |#endif
                             4877 ; 93   |
                             4878 ; 94   |
                             4879 
                             4881 
                             4882 ; 19   |#include "regscodec.h"
                             4883 
                             4885 
                             4886 ; 1    |#if !(defined(regscodecinc))
                             4887 ; 2    |#define regscodecinc 1
                             4888 ; 3    |
                             4889 ; 4    |
                             4890 ; 5    |
                             4891 ; 6    |#include "types.h"
                             4892 
                             4894 
                             4895 ; 1    |////////////////////////////////////////////////////////////////////////////////
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  78

M:ADDR CODE           CYCLES LINE SOURCELINE
                             4896 ; 2    |// Copyright(C) SigmaTel, Inc. 2000-2004
                             4897 ; 3    |//
                             4898 ; 4    |// Filename: types.h
                             4899 ; 5    |// Description: Standard data types
                             4900 ; 6    |////////////////////////////////////////////////////////////////////////////////
                             4901 ; 7    |
                             4902 ; 8    |#ifndef _TYPES_H
                             4903 ; 9    |#define _TYPES_H
                             4904 ; 10   |
                             4905 ; 11   |// TODO:  move this outta here!
                             4906 ; 12   |#if !defined(NOERROR)
                             4907 ; 13   |#define NOERROR 0
                             4908 ; 14   |#define SUCCESS 0
                             4909 ; 15   |#endif 
                             4910 ; 16   |#if !defined(SUCCESS)
                             4911 ; 17   |#define SUCCESS  0
                             4912 ; 18   |#endif
                             4913 ; 19   |#if !defined(ERROR)
                             4914 ; 20   |#define ERROR   -1
                             4915 ; 21   |#endif
                             4916 ; 22   |#if !defined(FALSE)
                             4917 ; 23   |#define FALSE 0
                             4918 ; 24   |#endif
                             4919 ; 25   |#if !defined(TRUE)
                             4920 ; 26   |#define TRUE  1
                             4921 ; 27   |#endif
                             4922 ; 28   |
                             4923 ; 29   |#if !defined(NULL)
                             4924 ; 30   |#define NULL 0
                             4925 ; 31   |#endif
                             4926 ; 32   |
                             4927 ; 33   |#define MAX_INT     0x7FFFFF
                             4928 ; 34   |#define MAX_LONG    0x7FFFFFffffff
                             4929 ; 35   |        // max positive unsigned long value: -1 == 0xFFFFFFffffff
                             4930 ; 36   |#define MAX_ULONG   (-1) 
                             4931 ; 37   |
                             4932 ; 38   |#define WORD_SIZE   24              // word size in bits
                             4933 ; 39   |#define BYTES_PER_WORD 3            // 8 bit bytes
                             4934 ; 40   |
                             4935 ; 41   |
                             4936 ; 42   |#define BYTE    unsigned char       // btVarName
                             4937 ; 43   |#define CHAR    signed char         // cVarName
                             4938 ; 44   |#define USHORT  unsigned short      // usVarName
                             4939 ; 45   |#define SHORT   unsigned short      // sVarName
                             4940 ; 46   |#define WORD    unsigned int        // wVarName
                             4941 ; 47   |#define INT     signed int          // iVarName
                             4942 ; 48   |#define DWORD   unsigned long       // dwVarName
                             4943 ; 49   |#define LONG    signed long         // lVarName
                             4944 ; 50   |#define BOOL    unsigned int        // bVarName
                             4945 ; 51   |#define FRACT   _fract              // frVarName
                             4946 ; 52   |#define LFRACT  long _fract         // lfrVarName
                             4947 ; 53   |#define CIRC    _circ               // cp<type prefix>VarName (see below)
                             4948 ; 54   |#define FLOAT   float               // fVarName
                             4949 ; 55   |#define DBL     double              // dVarName
                             4950 ; 56   |#define ENUM    enum                // eVarName
                             4951 ; 57   |#define CMX     _complex            // cmxVarName
                             4952 ; 58   |typedef WORD UCS3;                   // 
                             4953 ; 59   |
                             4954 ; 60   |#define UINT16  unsigned short
                             4955 ; 61   |#define UINT8   unsigned char   
                             4956 ; 62   |#define UINT32  unsigned long
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  79

M:ADDR CODE           CYCLES LINE SOURCELINE
                             4957 ; 63   |#define UINT64  unsigned long   // need to figure out how to do 64 bit values.  Or port ex
                                  isiting code to only use 48 bit
                             4958 ; 64   |#define INT64   unsigned long   // need to figure out how to do 64 bit values.  Or port ex
                                  isiting code to only use 48 bit
                             4959 ; 65   |#define WCHAR   UINT16
                             4960 ; 66   |
                             4961 ; 67   |//UINT128 is 16 bytes or 6 words
                             4962 ; 68   |typedef struct UINT128_3500 {   
                             4963 ; 69   |    int val[6];     
                             4964 ; 70   |} UINT128_3500;
                             4965 ; 71   |
                             4966 ; 72   |#define UINT128   UINT128_3500
                             4967 ; 73   |
                             4968 ; 74   |// Little endian word packed byte strings:   
                             4969 ; 75   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                             4970 ; 76   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                             4971 ; 77   |// Little endian word packed byte strings:   
                             4972 ; 78   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                             4973 ; 79   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                             4974 ; 80   |
                             4975 ; 81   |// Declare Memory Spaces To Use When Coding
                             4976 ; 82   |// A. Sector Buffers
                             4977 ; 83   |#define SECTOR_BUFFER_MEM_X _X
                             4978 ; 84   |#define SECTOR_BUFFER_MEM_Y _Y
                             4979 ; 85   |#define SECTOR_BUFFER_MEM SECTOR_BUFFER_MEM_X
                             4980 ; 86   |typedef WORD SECTOR_BUFFER_MEM SECTOR_BUFFER;
                             4981 ; 87   |typedef SECTOR_BUFFER * P_SECTOR_BUFFER;
                             4982 ; 88   |// B. Media DDI Memory
                             4983 ; 89   |#define MEDIA_DDI_MEM _Y
                             4984 ; 90   |
                             4985 ; 91   |
                             4986 ; 92   |
                             4987 ; 93   |// Pointers to linear structures are labeled as: p<type prefix>VarName
                             4988 ; 94   |// Examples of circular pointers:
                             4989 ; 95   |//    INT CIRC cpiVarName
                             4990 ; 96   |//    DWORD CIRC cpdwVarName
                             4991 ; 97   |
                             4992 ; 98   |#define RETCODE INT                 // rcVarName
                             4993 ; 99   |
                             4994 ; 100  |// generic bitfield structure
                             4995 ; 101  |struct Bitfield {
                             4996 ; 102  |    unsigned int B0  :1;
                             4997 ; 103  |    unsigned int B1  :1;
                             4998 ; 104  |    unsigned int B2  :1;
                             4999 ; 105  |    unsigned int B3  :1;
                             5000 ; 106  |    unsigned int B4  :1;
                             5001 ; 107  |    unsigned int B5  :1;
                             5002 ; 108  |    unsigned int B6  :1;
                             5003 ; 109  |    unsigned int B7  :1;
                             5004 ; 110  |    unsigned int B8  :1;
                             5005 ; 111  |    unsigned int B9  :1;
                             5006 ; 112  |    unsigned int B10 :1;
                             5007 ; 113  |    unsigned int B11 :1;
                             5008 ; 114  |    unsigned int B12 :1;
                             5009 ; 115  |    unsigned int B13 :1;
                             5010 ; 116  |    unsigned int B14 :1;
                             5011 ; 117  |    unsigned int B15 :1;
                             5012 ; 118  |    unsigned int B16 :1;
                             5013 ; 119  |    unsigned int B17 :1;
                             5014 ; 120  |    unsigned int B18 :1;
                             5015 ; 121  |    unsigned int B19 :1;
                             5016 ; 122  |    unsigned int B20 :1;
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  80

M:ADDR CODE           CYCLES LINE SOURCELINE
                             5017 ; 123  |    unsigned int B21 :1;
                             5018 ; 124  |    unsigned int B22 :1;
                             5019 ; 125  |    unsigned int B23 :1;
                             5020 ; 126  |};
                             5021 ; 127  |
                             5022 ; 128  |union BitInt {
                             5023 ; 129  |        struct Bitfield B;
                             5024 ; 130  |        int        I;
                             5025 ; 131  |};
                             5026 ; 132  |
                             5027 ; 133  |#define MAX_MSG_LENGTH 10
                             5028 ; 134  |struct CMessage
                             5029 ; 135  |{
                             5030 ; 136  |        unsigned int m_uLength;
                             5031 ; 137  |        unsigned int m_uMsg[MAX_MSG_LENGTH];
                             5032 ; 138  |};
                             5033 ; 139  |
                             5034 ; 140  |typedef struct {
                             5035 ; 141  |    WORD m_wLength;
                             5036 ; 142  |    WORD m_wMessage;
                             5037 ; 143  |    WORD m_wParams[MAX_MSG_LENGTH];
                             5038 ; 144  |} Message;
                             5039 ; 145  |
                             5040 ; 146  |struct MessageQueueDescriptor
                             5041 ; 147  |{
                             5042 ; 148  |        int *m_pBase;
                             5043 ; 149  |        int m_iModulo;
                             5044 ; 150  |        int m_iSize;
                             5045 ; 151  |        int *m_pHead;
                             5046 ; 152  |        int *m_pTail;
                             5047 ; 153  |};
                             5048 ; 154  |
                             5049 ; 155  |struct ModuleEntry
                             5050 ; 156  |{
                             5051 ; 157  |    int m_iSignaledEventMask;
                             5052 ; 158  |    int m_iWaitEventMask;
                             5053 ; 159  |    int m_iResourceOfCode;
                             5054 ; 160  |    struct MessageQueueDescriptor *m_pMessageQueue;
                             5055 ; 161  |    int _asmfunc (*m_pProcessEntryPoint)(union WaitMask Signals,struct MessageQueueDescrip
                                  tor *);
                             5056 ; 162  |    int _asmfunc (*m_pInitFunction)(struct MessageQueueDescriptor *);
                             5057 ; 163  |    int m_uTimeOutHigh;
                             5058 ; 164  |    int m_uTimeOutLow;
                             5059 ; 165  |    int _asmfunc (*m_pBackgroundFunction)(struct MessageQueueDescriptor *);
                             5060 ; 166  |};
                             5061 ; 167  |
                             5062 ; 168  |union WaitMask{
                             5063 ; 169  |    struct B{
                             5064 ; 170  |        unsigned int m_bNone     :1;
                             5065 ; 171  |        unsigned int m_bMessage  :1;
                             5066 ; 172  |        unsigned int m_bTimer    :1;
                             5067 ; 173  |        unsigned int m_bButton   :1;
                             5068 ; 174  |    } B;
                             5069 ; 175  |    int I;
                             5070 ; 176  |} ;
                             5071 ; 177  |
                             5072 ; 178  |
                             5073 ; 179  |struct Button {
                             5074 ; 180  |        WORD wButtonEvent;
                             5075 ; 181  |        WORD wUnused[MAX_MSG_LENGTH];   
                             5076 ; 182  |};
                             5077 ; 183  |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  81

M:ADDR CODE           CYCLES LINE SOURCELINE
                             5078 ; 184  |struct Message {
                             5079 ; 185  |        WORD wMsgLength;
                             5080 ; 186  |        WORD wMsgCommand;
                             5081 ; 187  |        WORD wMsgParms[MAX_MSG_LENGTH-1];
                             5082 ; 188  |};
                             5083 ; 189  |
                             5084 ; 190  |union EventTypes {
                             5085 ; 191  |        struct CMessage msg;
                             5086 ; 192  |        struct Button Button ;
                             5087 ; 193  |        struct Message Message;
                             5088 ; 194  |};
                             5089 ; 195  |
                             5090 ; 196  |// next 2 used to get updater build to return correct protocol ver in scsi response.
                             5091 ; 197  |#define BUILD_TYPE_UPDATER  0x100
                             5092 ; 198  |#define BUILD_TYPE_HOSTLINK 0x101
                             5093 ; 199  |#define BUILD_TYPE_PLAYER   0x102
                             5094 ; 200  |
                             5095 ; 201  |// Resets part if RETAIL build. DEBUG build executes debug instruction to halt.
                             5096 ; 202  |#define SystemHalt() __asm(" include 'sysmacro.asm' \n error") 
                             5097 ; 203  |#define assert(x)    if(!(x)) __asm(" include 'sysmacro.asm' \n error")
                             5098 ; 204  |
                             5099 ; 205  |#if DEBUG
                             5100 ; 206  |// For DEBUG builds, DebugBuildAssert(condition) halts if condition evaluates to FALSE. 
                             5101 ; 207  |#define DebugBuildAssert(x)    if(!(x)) __asm(" debug ")
                             5102 ; 208  |#else 
                             5103 ; 209  |// For RETAIL builds, DebugBuildAssert(condition) does nothing & execution continues rathe
                                  r than halt or reset. 
                             5104 ; 210  |#define DebugBuildAssert(x)    
                             5105 ; 211  |#endif
                             5106 ; 212  |
                             5107 ; 213  |// Do this in your C files to make a reminder that's displayed during the build.
                             5108 ; 214  |//  #pragma asm
                             5109 ; 215  |//  WARN 'Note to builder: reminder to do this after verifying that'
                             5110 ; 216  |//  #pragma endasm
                             5111 ; 217  |
                             5112 ; 218  |
                             5113 ; 219  |#ifdef COLOR_262K
                             5114 ; 220  |#define RGB(r,g,b)    ((0x0000FC & (r)) << 10) | ((0x0000FC & (g)) << 4) | ((0x0000FC & (b
                                  )) >> 2)    //262k
                             5115 ; 221  |#elif defined(COLOR_65K)
                             5116 ; 222  |#define RGB(r,g,b)    ((0x0000F8 & (r)) << 8) | ((0x0000FC & (g)) << 3) | ((0x0000F8 & (b)
                                  ) >> 3)  //65k
                             5117 ; 223  |#else
                             5118 ; 224  |#define RGB(r,g,b)       ((0x0000F0 & (r)) << 4) | (0x0000F0 & (g)) | ((0x0000F0 & (b)) >>
                                   4)
                             5119 ; 225  |#endif
                             5120 ; 226  |    
                             5121 ; 227  |#endif // #ifndef _TYPES_H
                             5122 
                             5124 
                             5125 ; 7    |
                             5126 ; 8    |
                             5127 ; 9    |
                             5128 ; 10   |//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                             5129 ; 11   |
                             5130 ; 12   |//   SYSTEM STMP Registers 
                             5131 ; 13   |//      Last Edited 7.17.2003 M. Henson
                             5132 ; 14   |//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                             5133 ; 15   |
                             5134 ; 16   |#define HW_CODEC_BASEADDR (0xFA00)
                             5135 ; 17   |
                             5136 ; 18   |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  82

M:ADDR CODE           CYCLES LINE SOURCELINE
                             5137 ; 19   |
                             5138 ; 20   |
                             5139 ; 21   |
                             5140 ; 22   |
                             5141 ; 23   |/////////////////////////////////////////////////////////////////////////////////
                             5142 ; 24   |//   Headphone Control Register (HW_HPCTRL) Bit Definitions
                             5143 ; 25   |#define HW_HPCTRL_TESTIALL_BITPOS 0
                             5144 ; 26   |#define HW_HPCTRL_TESTI1_BITPOS 2
                             5145 ; 27   |#define HW_HPCTRL_POP0_BITPOS 4
                             5146 ; 28   |#define HW_HPCTRL_POP1_BITPOS 5
                             5147 ; 29   |#define HW_HPCTRL_POP2_BITPOS 6
                             5148 ; 30   |#define HW_HPCTRL_RSVD0_BITPOS 7
                             5149 ; 31   |#define HW_HPCTRL_HPPWD_BITPOS 8
                             5150 ; 32   |#define HW_HPCTRL_HPCLASSAB_BITPOS 9
                             5151 ; 33   |#define HW_HPCTRL_CAPLESS_BITPOS 10
                             5152 ; 34   |#define HW_HPCTRL_RSRVD1_BITPOS 11
                             5153 ; 35   |#define HW_HPCTRL_SHORTMODE_LR_BITPOS 12
                             5154 ; 36   |#define HW_HPCTRL_SHORTMODE_CM_BITPOS 14
                             5155 ; 37   |#define HW_HPCTRL_SHORT_LVLADJ_BITPOS 16
                             5156 ; 38   |#define HW_HPCTRL_RSRVD2_BITPOS 19
                             5157 ; 39   |#define HW_HPCTRL_CHOP_CLK_BITPOS 20
                             5158 ; 40   |#define HW_HPCTRL_SHORT_LR_BITPOS 22
                             5159 ; 41   |#define HW_HPCTRL_SHORT_CM_BITPOS 23
                             5160 ; 42   |
                             5161 ; 43   |#define HW_HPCTRL_TESTIALL_WIDTH 2
                             5162 ; 44   |#define HW_HPCTRL_TESTI1_WIDTH 2
                             5163 ; 45   |#define HW_HPCTRL_POP0_WIDTH 1
                             5164 ; 46   |#define HW_HPCTRL_POP1_WIDTH 1
                             5165 ; 47   |#define HW_HPCTRL_POP2_WIDTH 1
                             5166 ; 48   |#define HW_HPCTRL_RSVD0_WIDTH 1
                             5167 ; 49   |#define HW_HPCTRL_HPPWD_WIDTH 1
                             5168 ; 50   |#define HW_HPCTRL_HPCLASSAB_WIDTH 1
                             5169 ; 51   |#define HW_HPCTRL_CAPLESS_WIDTH 1
                             5170 ; 52   |#define HW_HPCTRL_RSRVD1_WIDTH 1
                             5171 ; 53   |#define HW_HPCTRL_SHORTMODE_LR_WIDTH 2
                             5172 ; 54   |#define HW_HPCTRL_SHORTMODE_CM_WIDTH 2
                             5173 ; 55   |#define HW_HPCTRL_SHORT_LVLADJ_WIDTH 3
                             5174 ; 56   |#define HW_HPCTRL_RSRVD2_WIDTH 1
                             5175 ; 57   |#define HW_HPCTRL_CHOP_CLK_WIDTH 2
                             5176 ; 58   |#define HW_HPCTRL_SHORT_LR_WIDTH 1
                             5177 ; 59   |#define HW_HPCTRL_SHORT_CM_WIDTH 1
                             5178 ; 60   |
                             5179 ; 61   |#define HW_HPCTRL_POP_SETMASK 0x7<<HW_HPCTRL_POP0_BITPOS
                             5180 ; 62   |#define HW_HPCTRL_POP_CLRMASK ~(WORD)HW_HPCTRL_POP_SETMASK
                             5181 ; 63   |
                             5182 ; 64   |#define HW_HPCTRL_SHORT_LVLADJ_0_25X_SETMASK 0x3<<HW_HPCTRL_SHORT_LVLADJ_BITPOS
                             5183 ; 65   |#define HW_HPCTRL_SHORT_LVLADJ_0_50X_SETMASK 0x2<<HW_HPCTRL_SHORT_LVLADJ_BITPOS
                             5184 ; 66   |#define HW_HPCTRL_SHORT_LVLADJ_0_75X_SETMASK 0x1<<HW_HPCTRL_SHORT_LVLADJ_BITPOS
                             5185 ; 67   |#define HW_HPCTRL_SHORT_LVLADJ_1_00X_SETMASK 0x0<<HW_HPCTRL_SHORT_LVLADJ_BITPOS
                             5186 ; 68   |#define HW_HPCTRL_SHORT_LVLADJ_1_25X_SETMASK 0x4<<HW_HPCTRL_SHORT_LVLADJ_BITPOS
                             5187 ; 69   |#define HW_HPCTRL_SHORT_LVLADJ_1_50X_SETMASK 0x5<<HW_HPCTRL_SHORT_LVLADJ_BITPOS
                             5188 ; 70   |#define HW_HPCTRL_SHORT_LVLADJ_1_75X_SETMASK 0x6<<HW_HPCTRL_SHORT_LVLADJ_BITPOS
                             5189 ; 71   |#define HW_HPCTRL_SHORT_LVLADJ_2_00X_SETMASK 0x7<<HW_HPCTRL_SHORT_LVLADJ_BITPOS
                             5190 ; 72   |
                             5191 ; 73   |#if defined(CAPLESS_HP)
                             5192 ; 74   |#define HP_SHORT_TRIP_POINT HW_HPCTRL_SHORT_LVLADJ_0_75X_SETMASK
                             5193 ; 75   |#else 
                             5194 ; 76   |#define HP_SHORT_TRIP_POINT HW_HPCTRL_SHORT_LVLADJ_1_00X_SETMASK
                             5195 ; 77   |#endif
                             5196 ; 78   |
                             5197 ; 79   |// Headphone control register
                             5198 ; 80   |#define HW_HPCTRL (*(volatile hpctrl_type _X*)(HW_GLUE_BASEADDR+21))
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  83

M:ADDR CODE           CYCLES LINE SOURCELINE
                             5199 ; 81   |/////////////////////////////////////////////////////////////////////////////////
                             5200 ; 82   |//   Headphone Conrol Volume Register (HW_HPCTRL) Bit Definitions
                             5201 ; 83   |typedef union               
                             5202 ; 84   |{
                             5203 ; 85   |    struct {
                             5204 ; 86   |        unsigned TESTIALL :HW_HPCTRL_TESTIALL_WIDTH;
                             5205 ; 87   |        unsigned TESTI1 :HW_HPCTRL_TESTI1_WIDTH;
                             5206 ; 88   |        unsigned POP0 :HW_HPCTRL_POP0_WIDTH; 
                             5207 ; 89   |        unsigned POP1 :HW_HPCTRL_POP1_WIDTH; 
                             5208 ; 90   |        unsigned POP2 :HW_HPCTRL_POP2_WIDTH; 
                             5209 ; 91   |        unsigned RSVD0 :HW_HPCTRL_RSVD0_WIDTH;
                             5210 ; 92   |        unsigned HPPWD :HW_HPCTRL_HPPWD_WIDTH;
                             5211 ; 93   |        unsigned HPCLASSAB :HW_HPCTRL_HPCLASSAB_WIDTH;
                             5212 ; 94   |        unsigned CAPLESS :HW_HPCTRL_CAPLESS_WIDTH; 
                             5213 ; 95   |        unsigned RSRVD1 :HW_HPCTRL_RSRVD1_WIDTH;
                             5214 ; 96   |        unsigned SHORTMODE_LR :HW_HPCTRL_SHORTMODE_LR_WIDTH; 
                             5215 ; 97   |        unsigned SHORTMODE_CM :HW_HPCTRL_SHORTMODE_CM_WIDTH;
                             5216 ; 98   |        unsigned SHORT_LVLADJ :HW_HPCTRL_SHORT_LVLADJ_WIDTH; 
                             5217 ; 99   |        unsigned RSRVD2 :HW_HPCTRL_RSRVD2_WIDTH;
                             5218 ; 100  |        unsigned CHOP_CLK :HW_HPCTRL_CHOP_CLK_WIDTH; 
                             5219 ; 101  |        unsigned SHORT_LR :HW_HPCTRL_SHORT_LR_WIDTH;
                             5220 ; 102  |        unsigned SHORT_CM :HW_HPCTRL_SHORT_CM_WIDTH;
                             5221 ; 103  |    } B;
                             5222 ; 104  |    int I;
                             5223 ; 105  |    unsigned int U;
                             5224 ; 106  |} hpctrl_type;
                             5225 ; 107  |// Headphone control short mode 2 bit values for above short bitfield.
                             5226 ; 108  |#define HW_AUTO_HEADAMP_SHUTDOWN_HOLD_RESET   0
                             5227 ; 109  |#define HW_AUTO_HEADAMP_SHUTDOWN_EN           1 
                             5228 ; 110  |#define HW_AUTO_HEADAMP_SHUTDOWN_DIS          2
                             5229 ; 111  |#define HW_AUTO_HEADAMP_SHUTDOWN_DIRECT       3
                             5230 ; 112  |
                             5231 ; 113  |
                             5232 ; 114  |/////////////////////////////////////////////////////////////////////////////////
                             5233 ; 115  |/////////////////////////////////////////////////////////////////////////////////
                             5234 ; 116  |/////////////////////////////////////////////////////////////////////////////////
                             5235 ; 117  |/////////////////////////////////////////////////////////////////////////////////
                             5236 ; 118  |///////   MIXER REGISTERS ///////////////////////////////////////////////////////
                             5237 ; 119  |/////////////////////////////////////////////////////////////////////////////////
                             5238 ; 120  |/////////////////////////////////////////////////////////////////////////////////
                             5239 ; 121  |/////////////////////////////////////////////////////////////////////////////////
                             5240 ; 122  |
                             5241 ; 123  |
                             5242 ; 124  |/////////////////////////////////////////////////////////////////////////////////
                             5243 ; 125  |//   Codec/Mixer Test Register (HW_MIXTBR) Bit Definitions 
                             5244 ; 126  |#define HW_MIXTBR_INV_USB_CLK_BITPOS 0
                             5245 ; 127  |#define HW_MIXTBR_USB_DFF_BYPASS_BITPOS 1
                             5246 ; 128  |#define HW_MIXTBR_HOLD_GND_BITPOS 2
                             5247 ; 129  |#define HW_MIXTBR_ACKI_BITPOS 3
                             5248 ; 130  |#define HW_MIXTBR_ASD2X_BITPOS 4
                             5249 ; 131  |#define HW_MIXTBR_PCPCU_BITPOS 5
                             5250 ; 132  |#define HW_MIXTBR_PCPCD_BITPOS 6
                             5251 ; 133  |#define HW_MIXTBR_DCKI_BITPOS 7
                             5252 ; 134  |#define HW_MIXTBR_MIC_BIAS_OUT_SEL_BITPOS 8
                             5253 ; 135  |#define HW_MIXTBR_PSRN_BITPOS 9
                             5254 ; 136  |#define HW_MIXTBR_FX2_BITPOS 10
                             5255 ; 137  |#define HW_MIXTBR_VCOS_BITPOS 11
                             5256 ; 138  |#define HW_MIXTBR_XBCO_BITPOS 12
                             5257 ; 139  |#define HW_MIXTBR_XBGC_BITPOS 13
                             5258 ; 140  |#define HW_MIXTBR_ADTHD_BITPOS 14
                             5259 ; 141  |#define HW_MIXTBR_MICBIAS_LSBITPOS 15
                             5260 ; 142  |#define HW_MIXTBR_PWDADC_BITPOS 16
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  84

M:ADDR CODE           CYCLES LINE SOURCELINE
                             5261 ; 143  |#define HW_MIXTBR_MICBIAS1_BITPOS 17
                             5262 ; 144  |#define HW_MIXTBR_EZD_BITPOS 18
                             5263 ; 145  |#define HW_MIXTBR_DZCDA_BITPOS 19
                             5264 ; 146  |#define HW_MIXTBR_DZCFM_BITPOS 20
                             5265 ; 147  |#define HW_MIXTBR_DZCLI_BITPOS 21
                             5266 ; 148  |#define HW_MIXTBR_DZCMI_BITPOS 22
                             5267 ; 149  |#define HW_MIXTBR_DZCMA_BITPOS 23
                             5268 ; 150  |
                             5269 ; 151  |#define HW_MIXTBR_INV_USB_CLK_WIDTH (1)
                             5270 ; 152  |#define HW_MIXTBR_USB_DFF_BYPASS_WIDTH (1)
                             5271 ; 153  |#define HW_MIXTBR_HOLD_GND_WIDTH (1)
                             5272 ; 154  |#define HW_MIXTBR_ACKI_WIDTH (1)
                             5273 ; 155  |#define HW_MIXTBR_ASD2X_WIDTH (1)
                             5274 ; 156  |#define HW_MIXTBR_PCPCU_WIDTH (1)
                             5275 ; 157  |#define HW_MIXTBR_PCPCD_WIDTH (1)
                             5276 ; 158  |#define HW_MIXTBR_DCKI_WIDTH (1)
                             5277 ; 159  |#define HW_MIXTBR_MIC_BIAS_OUT_SEL_WIDTH (1)
                             5278 ; 160  |#define HW_MIXTBR_PSRN_WIDTH (1)
                             5279 ; 161  |#define HW_MIXTBR_FX2_WIDTH (1)
                             5280 ; 162  |#define HW_MIXTBR_VCOS_WIDTH (1)
                             5281 ; 163  |#define HW_MIXTBR_XBCO_WIDTH (1)
                             5282 ; 164  |#define HW_MIXTBR_XBGC_WIDTH (1)
                             5283 ; 165  |#define HW_MIXTBR_ADTHD_WIDTH (1)
                             5284 ; 166  |#define HW_MIXTBR_MICBIAS_LSWIDTH (1)
                             5285 ; 167  |#define HW_MIXTBR_PWDADC_WIDTH (1)
                             5286 ; 168  |#define HW_MIXTBR_MICBIAS1_WIDTH (1)
                             5287 ; 169  |#define HW_MIXTBR_EZD_WIDTH (1)
                             5288 ; 170  |#define HW_MIXTBR_DZCDA_WIDTH (1)
                             5289 ; 171  |#define HW_MIXTBR_DZCFM_WIDTH (1)
                             5290 ; 172  |#define HW_MIXTBR_DZCLI_WIDTH (1)
                             5291 ; 173  |#define HW_MIXTBR_DZCMI_WIDTH (1)
                             5292 ; 174  |#define HW_MIXTBR_DZCMA_WIDTH (1)
                             5293 ; 175  |
                             5294 ; 176  |
                             5295 ; 177  |#define HW_MIXTBR_INV_USB_CLK_SETMASK 1<<HW_MIXTBR_INV_USB_CLK_BITPOS
                             5296 ; 178  |#define HW_MIXTBR_USB_DFF_BYPASS_SETMASK 1<<HW_MIXTBR_USB_DFF_BYPASS_BITPOS
                             5297 ; 179  |#define HW_MIXTBR_HOLD_GND_SETMASK 1<<HW_MIXTBR_HOLD_GND_BITPOS
                             5298 ; 180  |#define HW_MIXTBR_ACKI_SETMASK 1<<HW_MIXTBR_ACKI_BITPOS
                             5299 ; 181  |#define HW_MIXTBR_ASD2X_SETMASK 1<<HW_MIXTBR_ASD2X_BITPOS
                             5300 ; 182  |#define HW_MIXTBR_PCPCU_SETMASK 1<<HW_MIXTBR_PCPCU_BITPOS
                             5301 ; 183  |#define HW_MIXTBR_PCPCD_SETMASK 1<<HW_MIXTBR_PCPCD_BITPOS
                             5302 ; 184  |#define HW_MIXTBR_DCKI_SETMASK 1<<HW_MIXTBR_DCKI_BITPOS
                             5303 ; 185  |#define HW_MIXTBR_MIC_BIAS_OUT_SEL_SETMASK 1<<HW_MIXTBR_MIC_BIAS_OUT_SEL_BITPOS
                             5304 ; 186  |#define HW_MIXTBR_PSRN_SETMASK 1<<HW_MIXTBR_PSRN_BITPOS
                             5305 ; 187  |#define HW_MIXTBR_FX2_SETMASK 1<<HW_MIXTBR_FX2_BITPOS
                             5306 ; 188  |#define HW_MIXTBR_VCOS_SETMASK 1<<HW_MIXTBR_VCOS_BITPOS
                             5307 ; 189  |#define HW_MIXTBR_XBCO_SETMASK 1<<HW_MIXTBR_XBCO_BITPOS
                             5308 ; 190  |#define HW_MIXTBR_XBGC_SETMASK 1<<HW_MIXTBR_XBGC_BITPOS
                             5309 ; 191  |#define HW_MIXTBR_ADTHD_SETMASK 1<<HW_MIXTBR_ADTHD_BITPOS
                             5310 ; 192  |#define HW_MIXTBR_MICBIAS_LSSETMASK 1<<HW_MIXTBR_MICBIAS_LSBITPOS
                             5311 ; 193  |#define HW_MIXTBR_PWDADC_SETMASK 1<<HW_MIXTBR_PWDADC_BITPOS
                             5312 ; 194  |#define HW_MIXTBR_MICBIAS1_SETMASK 1<<HW_MIXTBR_MICBIAS1_BITPOS
                             5313 ; 195  |#define HW_MIXTBR_EZD_SETMASK 1<<HW_MIXTBR_EZD_BITPOS
                             5314 ; 196  |#define HW_MIXTBR_DZCDA_SETMASK 1<<HW_MIXTBR_DZCDA_BITPOS
                             5315 ; 197  |#define HW_MIXTBR_DZCFM_SETMASK 1<<HW_MIXTBR_DZCFM_BITPOS
                             5316 ; 198  |#define HW_MIXTBR_DZCLI_SETMASK 1<<HW_MIXTBR_DZCLI_BITPOS
                             5317 ; 199  |#define HW_MIXTBR_DZCMI_SETMASK 1<<HW_MIXTBR_DZCMI_BITPOS
                             5318 ; 200  |#define HW_MIXTBR_DZCMA_SETMASK 1<<HW_MIXTBR_DZCMA_BITPOS
                             5319 ; 201  |
                             5320 ; 202  |#define HW_MIXTBR_INV_USB_CLK_CLRMASK ~(WORD)HW_MIXTBR_INV_USB_CLK_SETMASK
                             5321 ; 203  |#define HW_MIXTBR_USB_DFF_BYPASS_CLRMASK ~(WORD)HW_MIXTBR_USB_DFF_BYPASS_SETMASK
                             5322 ; 204  |#define HW_MIXTBR_HOLD_GND_CLRMASK ~(WORD)HW_MIXTBR_HOLD_GND_SETMASK
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  85

M:ADDR CODE           CYCLES LINE SOURCELINE
                             5323 ; 205  |#define HW_MIXTBR_ACKI_CLRMASK ~(WORD)HW_MIXTBR_ACKI_SETMASK
                             5324 ; 206  |#define HW_MIXTBR_ASD2X_CLRMASK ~(WORD)HW_MIXTBR_ASD2X_SETMASK
                             5325 ; 207  |#define HW_MIXTBR_PCPCU_CLRMASK ~(WORD)HW_MIXTBR_PCPCU_SETMASK
                             5326 ; 208  |#define HW_MIXTBR_PCPCD_CLRMASK ~(WORD)HW_MIXTBR_PCPCD_SETMASK
                             5327 ; 209  |#define HW_MIXTBR_DCKI_CLRMASK ~(WORD)HW_MIXTBR_DCKI_SETMASK
                             5328 ; 210  |#define HW_MIXTBR_MIC_BIAS_OUT_SEL_CLRMASK ~(WORD)HW_MIXTBR_MIC_BIAS_OUT_SEL_SETMASK
                             5329 ; 211  |#define HW_MIXTBR_PSRN_CLRMASK ~(WORD)HW_MIXTBR_PSRN_SETMASK
                             5330 ; 212  |#define HW_MIXTBR_FX2_CLRMASK ~(WORD)HW_MIXTBR_FX2_SETMASK
                             5331 ; 213  |#define HW_MIXTBR_VCOS_CLRMASK ~(WORD)HW_MIXTBR_VCOS_SETMASK
                             5332 ; 214  |#define HW_MIXTBR_XBCO_CLRMASK ~(WORD)HW_MIXTBR_XBCO_SETMASK
                             5333 ; 215  |#define HW_MIXTBR_XBGC_CLRMASK ~(WORD)HW_MIXTBR_XBGC_SETMASK
                             5334 ; 216  |#define HW_MIXTBR_ADTHD_CLRMASK ~(WORD)HW_MIXTBR_ADTHD_SETMASK
                             5335 ; 217  |#define HW_MIXTBR_MICBIAS_LSCLRMASK ~(WORD)HW_MIXTBR_MICBIAS_LSSETMASK
                             5336 ; 218  |#define HW_MIXTBR_PWDADC_CLRMASK ~(WORD)HW_MIXTBR_PWDADC_SETMASK
                             5337 ; 219  |#define HW_MIXTBR_MICBIAS1_CLRMASK ~(WORD)HW_MIXTBR_MICBIAS1_SETMASK
                             5338 ; 220  |#define HW_MIXTBR_EZD_CLRMASK ~(WORD)HW_MIXTBR_EZD_SETMASK
                             5339 ; 221  |#define HW_MIXTBR_DZCDA_CLRMASK ~(WORD)HW_MIXTBR_DZCDA_SETMASK
                             5340 ; 222  |#define HW_MIXTBR_DZCFM_CLRMASK ~(WORD)HW_MIXTBR_DZCFM_SETMASK
                             5341 ; 223  |#define HW_MIXTBR_DZCLI_CLRMASK ~(WORD)HW_MIXTBR_DZCLI_SETMASK
                             5342 ; 224  |#define HW_MIXTBR_DZCMI_CLRMASK ~(WORD)HW_MIXTBR_DZCMI_SETMASK
                             5343 ; 225  |#define HW_MIXTBR_DZCMA_CLRMASK ~(WORD)HW_MIXTBR_DZCMA_SETMASK
                             5344 ; 226  |
                             5345 ; 227  |typedef union               
                             5346 ; 228  |{
                             5347 ; 229  |    struct {
                             5348 ; 230  |        int INV_USB_CLK            : 1;
                             5349 ; 231  |        int USB_DFF_BYPASS         : 1;
                             5350 ; 232  |        int HOLD_GND               : 1;
                             5351 ; 233  |        int ACKI                   : 1;
                             5352 ; 234  |        int ASD2X                  : 1;
                             5353 ; 235  |        int PCPCU                  : 1;
                             5354 ; 236  |        int PCPCD                  : 1;
                             5355 ; 237  |        int DCKI                   : 1;
                             5356 ; 238  |        int MIC_BIAS_OUT_SEL       : 1;
                             5357 ; 239  |        int PSRN                   : 1;
                             5358 ; 240  |        int FX2                    : 1;
                             5359 ; 241  |        int VCOS                   : 1;
                             5360 ; 242  |        int XBCO                   : 1;
                             5361 ; 243  |        int XBGC                   : 1;
                             5362 ; 244  |        int ADTHD                  : 1;
                             5363 ; 245  |        int MICBIAS_LSBITPOS       : 1;
                             5364 ; 246  |        int PWDADC                 : 1;
                             5365 ; 247  |        int MICBIAS1               : 1;
                             5366 ; 248  |        int EZD                    : 1;
                             5367 ; 249  |        int DZCDA                  : 1;
                             5368 ; 250  |        int DZCFM                  : 1;
                             5369 ; 251  |        int DZCLI                  : 1;
                             5370 ; 252  |        int DZCMI                  : 1;
                             5371 ; 253  |        int DZCMA                  : 1;
                             5372 ; 254  |    } B;
                             5373 ; 255  |    int I;
                             5374 ; 256  |    unsigned int U;
                             5375 ; 257  |} mix_tbr_type;
                             5376 ; 258  |#define HW_MIXTBR      (*(volatile mix_tbr_type _X*) (HW_CODEC_BASEADDR+3))
                             5377 ; 259  |
                             5378 ; 260  |
                             5379 ; 261  |/////////////////////////////////////////////////////////////////////////////////
                             5380 ; 262  |//   Generic Volume Register (HW_MIXMASTERVR) Bit Definitions
                             5381 ; 263  |#define HW_MIXVOLUMER_MR_BITPOS 0
                             5382 ; 264  |#define HW_MIXVOLUMER_ML_BITPOS 8
                             5383 ; 265  |#define HW_MIXVOLUMER_MUTE_BITPOS 15
                             5384 ; 266  |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  86

M:ADDR CODE           CYCLES LINE SOURCELINE
                             5385 ; 267  |#define HW_MIXVOLUMER_MR_WIDTH (5)
                             5386 ; 268  |#define HW_MIXVOLUMER_ML_WIDTH (5)
                             5387 ; 269  |#define HW_MIXVOLUMER_MUTE_WIDTH 1
                             5388 ; 270  |
                             5389 ; 271  |#define HW_MIXVOLUMER_MR_SETMASK 0x1F<<HW_MIXVOLUMER_MR_BITPOS
                             5390 ; 272  |#define HW_MIXVOLUMER_ML_SETMASK 0x1F<<HW_MIXVOLUMER_ML_BITPOS
                             5391 ; 273  |#define HW_MIXVOLUMER_MUTE_SETMASK 1<<HW_MIXVOLUMER_MUTE_BITPOS
                             5392 ; 274  |
                             5393 ; 275  |#define HW_MIXVOLUMER_MR_CLRMASK ~(WORD)HW_MIXVOLUMER_MR_SETMASK
                             5394 ; 276  |#define HW_MIXVOLUMER_ML_CLRMASK ~(WORD)HW_MIXVOLUMER_ML_SETMASK
                             5395 ; 277  |#define HW_MIXVOLUMER_MUTE_CLRMASK ~(WORD)HW_MIXVOLUMER_MUTE_SETMASK
                             5396 ; 278  |
                             5397 ; 279  |#define HW_MIXVOLUMER_ML_PLUS_12P0_SETMASK 0<<HW_MIXVOLUMER_ML_BITPOS
                             5398 ; 280  |#define HW_MIXVOLUMER_ML_PLUS_10P5_SETMASK 1<<HW_MIXVOLUMER_ML_BITPOS
                             5399 ; 281  |#define HW_MIXVOLUMER_ML_PLUS_09P0_SETMASK 2<<HW_MIXVOLUMER_ML_BITPOS
                             5400 ; 282  |#define HW_MIXVOLUMER_ML_PLUS_07P5_SETMASK 3<<HW_MIXVOLUMER_ML_BITPOS
                             5401 ; 283  |#define HW_MIXVOLUMER_ML_PLUS_06P0_SETMASK 4<<HW_MIXVOLUMER_ML_BITPOS
                             5402 ; 284  |#define HW_MIXVOLUMER_ML_PLUS_04P5_SETMASK 5<<HW_MIXVOLUMER_ML_BITPOS
                             5403 ; 285  |#define HW_MIXVOLUMER_ML_PLUS_03P0_SETMASK 6<<HW_MIXVOLUMER_ML_BITPOS
                             5404 ; 286  |#define HW_MIXVOLUMER_ML_PLUS_01P5_SETMASK 7<<HW_MIXVOLUMER_ML_BITPOS
                             5405 ; 287  |#define HW_MIXVOLUMER_ML_ZERO_SETMASK 8<<HW_MIXVOLUMER_ML_BITPOS
                             5406 ; 288  |#define HW_MIXVOLUMER_ML_MINUS_01P5_SETMASK 9<<HW_MIXVOLUMER_ML_BITPOS
                             5407 ; 289  |#define HW_MIXVOLUMER_ML_MINUS_03P0_SETMASK 10<<HW_MIXVOLUMER_ML_BITPOS
                             5408 ; 290  |#define HW_MIXVOLUMER_ML_MINUS_04P5_SETMASK 11<<HW_MIXVOLUMER_ML_BITPOS
                             5409 ; 291  |#define HW_MIXVOLUMER_ML_MINUS_06P0_SETMASK 12<<HW_MIXVOLUMER_ML_BITPOS
                             5410 ; 292  |#define HW_MIXVOLUMER_ML_MINUS_07P5_SETMASK 13<<HW_MIXVOLUMER_ML_BITPOS
                             5411 ; 293  |#define HW_MIXVOLUMER_ML_MINUS_09P0_SETMASK 14<<HW_MIXVOLUMER_ML_BITPOS
                             5412 ; 294  |#define HW_MIXVOLUMER_ML_MINUS_10P5_SETMASK 15<<HW_MIXVOLUMER_ML_BITPOS
                             5413 ; 295  |#define HW_MIXVOLUMER_ML_MINUS_12P0_SETMASK 16<<HW_MIXVOLUMER_ML_BITPOS
                             5414 ; 296  |#define HW_MIXVOLUMER_ML_MINUS_13P5_SETMASK 17<<HW_MIXVOLUMER_ML_BITPOS
                             5415 ; 297  |#define HW_MIXVOLUMER_ML_MINUS_15P0_SETMASK 18<<HW_MIXVOLUMER_ML_BITPOS
                             5416 ; 298  |#define HW_MIXVOLUMER_ML_MINUS_16P5_SETMASK 19<<HW_MIXVOLUMER_ML_BITPOS
                             5417 ; 299  |#define HW_MIXVOLUMER_ML_MINUS_18P0_SETMASK 20<<HW_MIXVOLUMER_ML_BITPOS
                             5418 ; 300  |#define HW_MIXVOLUMER_ML_MINUS_19P5_SETMASK 21<<HW_MIXVOLUMER_ML_BITPOS
                             5419 ; 301  |#define HW_MIXVOLUMER_ML_MINUS_21P0_SETMASK 22<<HW_MIXVOLUMER_ML_BITPOS
                             5420 ; 302  |#define HW_MIXVOLUMER_ML_MINUS_22P5_SETMASK 23<<HW_MIXVOLUMER_ML_BITPOS
                             5421 ; 303  |#define HW_MIXVOLUMER_ML_MINUS_24P0_SETMASK 24<<HW_MIXVOLUMER_ML_BITPOS
                             5422 ; 304  |#define HW_MIXVOLUMER_ML_MINUS_25P5_SETMASK 25<<HW_MIXVOLUMER_ML_BITPOS
                             5423 ; 305  |#define HW_MIXVOLUMER_ML_MINUS_27P0_SETMASK 26<<HW_MIXVOLUMER_ML_BITPOS
                             5424 ; 306  |#define HW_MIXVOLUMER_ML_MINUS_28P5_SETMASK 27<<HW_MIXVOLUMER_ML_BITPOS
                             5425 ; 307  |#define HW_MIXVOLUMER_ML_MINUS_30P0_SETMASK 28<<HW_MIXVOLUMER_ML_BITPOS
                             5426 ; 308  |#define HW_MIXVOLUMER_ML_MINUS_31P5_SETMASK 29<<HW_MIXVOLUMER_ML_BITPOS
                             5427 ; 309  |#define HW_MIXVOLUMER_ML_MINUS_33P0_SETMASK 30<<HW_MIXVOLUMER_ML_BITPOS
                             5428 ; 310  |#define HW_MIXVOLUMER_ML_MINUS_34P5_SETMASK 31<<HW_MIXVOLUMER_ML_BITPOS
                             5429 ; 311  |
                             5430 ; 312  |#define HW_MIXVOLUMER_MR_PLUS_12P0_SETMASK 0
                             5431 ; 313  |#define HW_MIXVOLUMER_MR_PLUS_10P5_SETMASK 1
                             5432 ; 314  |#define HW_MIXVOLUMER_MR_PLUS_09P0_SETMASK 2
                             5433 ; 315  |#define HW_MIXVOLUMER_MR_PLUS_07P5_SETMASK 3
                             5434 ; 316  |#define HW_MIXVOLUMER_MR_PLUS_06P0_SETMASK 4
                             5435 ; 317  |#define HW_MIXVOLUMER_MR_PLUS_04P5_SETMASK 5
                             5436 ; 318  |#define HW_MIXVOLUMER_MR_PLUS_03P0_SETMASK 6
                             5437 ; 319  |#define HW_MIXVOLUMER_MR_PLUS_01P5_SETMASK 7
                             5438 ; 320  |#define HW_MIXVOLUMER_MR_ZERO_SETMASK 8
                             5439 ; 321  |#define HW_MIXVOLUMER_MR_MINUS_01P5_SETMASK 9
                             5440 ; 322  |#define HW_MIXVOLUMER_MR_MINUS_03P0_SETMASK 10
                             5441 ; 323  |#define HW_MIXVOLUMER_MR_MINUS_04P5_SETMASK 11
                             5442 ; 324  |#define HW_MIXVOLUMER_MR_MINUS_06P0_SETMASK 12
                             5443 ; 325  |#define HW_MIXVOLUMER_MR_MINUS_07P5_SETMASK 13
                             5444 ; 326  |#define HW_MIXVOLUMER_MR_MINUS_09P0_SETMASK 14
                             5445 ; 327  |#define HW_MIXVOLUMER_MR_MINUS_10P5_SETMASK 15
                             5446 ; 328  |#define HW_MIXVOLUMER_MR_MINUS_12P0_SETMASK 16
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  87

M:ADDR CODE           CYCLES LINE SOURCELINE
                             5447 ; 329  |#define HW_MIXVOLUMER_MR_MINUS_13P5_SETMASK 17
                             5448 ; 330  |#define HW_MIXVOLUMER_MR_MINUS_15P0_SETMASK 18
                             5449 ; 331  |#define HW_MIXVOLUMER_MR_MINUS_16P5_SETMASK 19
                             5450 ; 332  |#define HW_MIXVOLUMER_MR_MINUS_18P0_SETMASK 20
                             5451 ; 333  |#define HW_MIXVOLUMER_MR_MINUS_19P5_SETMASK 21
                             5452 ; 334  |#define HW_MIXVOLUMER_MR_MINUS_21P0_SETMASK 22
                             5453 ; 335  |#define HW_MIXVOLUMER_MR_MINUS_22P5_SETMASK 23
                             5454 ; 336  |#define HW_MIXVOLUMER_MR_MINUS_24P0_SETMASK 24
                             5455 ; 337  |#define HW_MIXVOLUMER_MR_MINUS_25P5_SETMASK 25
                             5456 ; 338  |#define HW_MIXVOLUMER_MR_MINUS_27P0_SETMASK 26
                             5457 ; 339  |#define HW_MIXVOLUMER_MR_MINUS_28P5_SETMASK 27
                             5458 ; 340  |#define HW_MIXVOLUMER_MR_MINUS_30P0_SETMASK 28
                             5459 ; 341  |#define HW_MIXVOLUMER_MR_MINUS_31P5_SETMASK 29
                             5460 ; 342  |#define HW_MIXVOLUMER_MR_MINUS_33P0_SETMASK 30
                             5461 ; 343  |#define HW_MIXVOLUMER_MR_MINUS_34P5_SETMASK 31
                             5462 ; 344  |
                             5463 ; 345  |/////////////////////////////////////////////////////////////////////////////////
                             5464 ; 346  |//   Mixer Master Volume Register (HW_MIXMASTERVR) Bit Definitions
                             5465 ; 347  |#define HW_MIXMASTERVR_MR_BITPOS 0
                             5466 ; 348  |#define HW_MIXMASTERVR_ML_BITPOS 8
                             5467 ; 349  |#define HW_MIXMASTERVR_MUTE_BITPOS 15
                             5468 ; 350  |
                             5469 ; 351  |#define HW_MIXMASTERVR_MR_WIDTH (5)
                             5470 ; 352  |#define HW_MIXMASTERVR_ML_WIDTH (5)
                             5471 ; 353  |#define HW_MIXMASTERVR_MUTE_WIDTH (1)
                             5472 ; 354  |
                             5473 ; 355  |#define HW_MIXMASTERVR_MR_SETMASK 0x1F<<HW_MIXMASTERVR_MR_BITPOS
                             5474 ; 356  |#define HW_MIXMASTERVR_ML_SETMASK 0x1F<<HW_MIXMASTERVR_ML_BITPOS
                             5475 ; 357  |#define HW_MIXMASTERVR_MUTE_SETMASK 1<<HW_MIXMASTERVR_MUTE_BITPOS
                             5476 ; 358  |
                             5477 ; 359  |#define HW_MIXMASTERVR_MR_CLRMASK ~(WORD)HW_MIXMASTERVR_MR_SETMASK
                             5478 ; 360  |#define HW_MIXMASTERVR_ML_CLRMASK ~(WORD)HW_MIXMASTERVR_ML_SETMASK
                             5479 ; 361  |#define HW_MIXMASTERVR_MUTE_CLRMASK ~(WORD)HW_MIXMASTERVR_MUTE_SETMASK
                             5480 ; 362  |
                             5481 ; 363  |
                             5482 ; 364  |typedef union               
                             5483 ; 365  |{
                             5484 ; 366  |    struct
                             5485 ; 367  |    {
                             5486 ; 368  |        unsigned MR :5;
                             5487 ; 369  |        int         :3;
                             5488 ; 370  |        unsigned ML :5;
                             5489 ; 371  |        int         :2;
                             5490 ; 372  |        int MUTE    :1;
                             5491 ; 373  |    } B;
                             5492 ; 374  |    int I;
                             5493 ; 375  |    unsigned int U;
                             5494 ; 376  |} mix_mastervr_type;
                             5495 ; 377  |#define HW_MIXMASTERVR (*(volatile mix_mastervr_type _X*) (HW_CODEC_BASEADDR+4))
                             5496 ; 378  |
                             5497 ; 379  |
                             5498 ; 380  |/////////////////////////////////////////////////////////////////////////////////
                             5499 ; 381  |//   Mixer Mic In Volume Register (HW_MIXMICINVR) Bit Definitions
                             5500 ; 382  |#define HW_MIXMICINVR_GN_BITPOS 0
                             5501 ; 383  |#define HW_MIXMICINVR_P20DB_BITPOS 6
                             5502 ; 384  |#define HW_MIXMICINVR_MUTE_BITPOS 15
                             5503 ; 385  |
                             5504 ; 386  |#define HW_MIXMICINVR_GN_WIDTH 5
                             5505 ; 387  |#define HW_MIXMICINVR_RSVD1_WIDTH 1
                             5506 ; 388  |#define HW_MIXMICINVR_P20DB_WIDTH 1
                             5507 ; 389  |#define HW_MIXMICINVR_RSVD2_WIDTH 8
                             5508 ; 390  |#define HW_MIXMICINVR_MUTE_WIDTH 1
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  88

M:ADDR CODE           CYCLES LINE SOURCELINE
                             5509 ; 391  |#define HW_MIXMICINVR_RSVD3_WIDTH 8
                             5510 ; 392  |
                             5511 ; 393  |#define HW_MIXMICINVR_GN_SETMASK 0x1F<<HW_MIXMICINVR_GN_BITPOS
                             5512 ; 394  |#define HW_MIXMICINVR_P20DB_SETMASK 1<<HW_MIXMICINVR_P20DB_BITPOS
                             5513 ; 395  |#define HW_MIXMICINVR_MUTE_SETMASK 1<<HW_MIXMICINVR_MUTE_BITPOS
                             5514 ; 396  |
                             5515 ; 397  |#define HW_MIXMICINVR_GN_CLRMASK ~(WORD)HW_MIXMICINVR_GN_SETMASK
                             5516 ; 398  |#define HW_MIXMICINVR_P20DB_CLRMASK ~(WORD)HW_MIXMICINVR_P20DB_SETMASK
                             5517 ; 399  |#define HW_MIXMICINVR_MUTE_CLRMASK ~(WORD)HW_MIXMICINVR_MUTE_SETMASK
                             5518 ; 400  |
                             5519 ; 401  |#define HW_MIXMICINVR_GN_PLUS_12P0_SETMASK 0
                             5520 ; 402  |#define HW_MIXMICINVR_GN_PLUS_10P5_SETMASK 1
                             5521 ; 403  |#define HW_MIXMICINVR_GN_PLUS_09P0_SETMASK 2
                             5522 ; 404  |#define HW_MIXMICINVR_GN_PLUS_07P5_SETMASK 3
                             5523 ; 405  |#define HW_MIXMICINVR_GN_PLUS_06P0_SETMASK 4
                             5524 ; 406  |#define HW_MIXMICINVR_GN_PLUS_04P5_SETMASK 5
                             5525 ; 407  |#define HW_MIXMICINVR_GN_PLUS_03P0_SETMASK 6
                             5526 ; 408  |#define HW_MIXMICINVR_GN_PLUS_01P5_SETMASK 7
                             5527 ; 409  |#define HW_MIXMICINVR_GN_ZERO_SETMASK 8
                             5528 ; 410  |#define HW_MIXMICINVR_GN_MINUS_01P5_SETMASK 9
                             5529 ; 411  |#define HW_MIXMICINVR_GN_MINUS_03P0_SETMASK 10
                             5530 ; 412  |#define HW_MIXMICINVR_GN_MINUS_04P5_SETMASK 11
                             5531 ; 413  |#define HW_MIXMICINVR_GN_MINUS_06P0_SETMASK 12
                             5532 ; 414  |#define HW_MIXMICINVR_GN_MINUS_07P5_SETMASK 13
                             5533 ; 415  |#define HW_MIXMICINVR_GN_MINUS_09P0_SETMASK 14
                             5534 ; 416  |#define HW_MIXMICINVR_GN_MINUS_10P5_SETMASK 15
                             5535 ; 417  |#define HW_MIXMICINVR_GN_MINUS_12P0_SETMASK 16
                             5536 ; 418  |#define HW_MIXMICINVR_GN_MINUS_13P5_SETMASK 17
                             5537 ; 419  |#define HW_MIXMICINVR_GN_MINUS_15P0_SETMASK 18
                             5538 ; 420  |#define HW_MIXMICINVR_GN_MINUS_16P5_SETMASK 19
                             5539 ; 421  |#define HW_MIXMICINVR_GN_MINUS_18P0_SETMASK 20
                             5540 ; 422  |#define HW_MIXMICINVR_GN_MINUS_19P5_SETMASK 21
                             5541 ; 423  |#define HW_MIXMICINVR_GN_MINUS_21P0_SETMASK 22
                             5542 ; 424  |#define HW_MIXMICINVR_GN_MINUS_22P5_SETMASK 23
                             5543 ; 425  |#define HW_MIXMICINVR_GN_MINUS_24P0_SETMASK 24
                             5544 ; 426  |#define HW_MIXMICINVR_GN_MINUS_25P5_SETMASK 25
                             5545 ; 427  |#define HW_MIXMICINVR_GN_MINUS_27P0_SETMASK 26
                             5546 ; 428  |#define HW_MIXMICINVR_GN_MINUS_28P5_SETMASK 27
                             5547 ; 429  |#define HW_MIXMICINVR_GN_MINUS_30P0_SETMASK 28
                             5548 ; 430  |#define HW_MIXMICINVR_GN_MINUS_31P5_SETMASK 29
                             5549 ; 431  |#define HW_MIXMICINVR_GN_MINUS_33P0_SETMASK 30
                             5550 ; 432  |#define HW_MIXMICINVR_GN_MINUS_34P5_SETMASK 31
                             5551 ; 433  |
                             5552 ; 434  |typedef union               
                             5553 ; 435  |{
                             5554 ; 436  |    struct {
                             5555 ; 437  |        int GN          : HW_MIXMICINVR_GN_WIDTH;
                             5556 ; 438  |        int RSVD1       : HW_MIXMICINVR_RSVD1_WIDTH;
                             5557 ; 439  |        int P20DB       : HW_MIXMICINVR_P20DB_WIDTH;
                             5558 ; 440  |        int RSVD2       : HW_MIXMICINVR_RSVD2_WIDTH;
                             5559 ; 441  |        int MUTE        : HW_MIXMICINVR_MUTE_WIDTH;
                             5560 ; 442  |        int RSVD3       : HW_MIXMICINVR_RSVD3_WIDTH;
                             5561 ; 443  |    } B;
                             5562 ; 444  |    int I;
                             5563 ; 445  |    unsigned int U;
                             5564 ; 446  |} mix_micinvr_type;
                             5565 ; 447  |#define HW_MIXMICINVR (*(volatile mix_micinvr_type _X*) (HW_CODEC_BASEADDR+5))
                             5566 ; 448  |
                             5567 ; 449  |
                             5568 ; 450  |
                             5569 ; 451  |
                             5570 ; 452  |/////////////////////////////////////////////////////////////////////////////////
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  89

M:ADDR CODE           CYCLES LINE SOURCELINE
                             5571 ; 453  |//   Mixer Line1 In Volume Register (HW_MIXLINE1INVR) Bit Definitions
                             5572 ; 454  |#define HW_MIXLINE1INVR_GR_BITPOS 0
                             5573 ; 455  |#define HW_MIXLINE1INVR_GL_BITPOS 8
                             5574 ; 456  |#define HW_MIXLINE1INVR_MUTE_BITPOS 15
                             5575 ; 457  |
                             5576 ; 458  |#define HW_MIXLINE1INVR_GR_WIDTH 5
                             5577 ; 459  |#define HW_MIXLINE1INVR_RSVD1_WIDTH 3
                             5578 ; 460  |#define HW_MIXLINE1INVR_GL_WIDTH 5
                             5579 ; 461  |#define HW_MIXLINE1INVR_RSVD2_WIDTH 2
                             5580 ; 462  |#define HW_MIXLINE1INVR_MUTE_WIDTH 1
                             5581 ; 463  |#define HW_MIXLINE1INVR_RSVD3_WIDTH 8
                             5582 ; 464  |
                             5583 ; 465  |#define HW_MIXLINE1INVR_GR_SETMASK 0x1F<<HW_MIXLINE1INVR_GR_BITPOS
                             5584 ; 466  |#define HW_MIXLINE1INVR_GL_SETMASK 0x1F<<HW_MIXLINE1INVR_GL_BITPOS
                             5585 ; 467  |#define HW_MIXLINE1INVR_MUTE_SETMASK 1<<HW_MIXLINE1INVR_MUTE_BITPOS
                             5586 ; 468  |
                             5587 ; 469  |#define HW_MIXLINE1INVR_GR_CLRMASK ~(WORD)HW_MIXLINE1INVR_GR_SETMASK
                             5588 ; 470  |#define HW_MIXLINE1INVR_GL_CLRMASK ~(WORD)HW_MIXLINE1INVR_GL_SETMASK
                             5589 ; 471  |#define HW_MIXLINE1INVR_MUTE_CLRMASK ~(WORD)HW_MIXLINE1INVR_MUTE_SETMASK
                             5590 ; 472  |
                             5591 ; 473  |typedef union               
                             5592 ; 474  |{
                             5593 ; 475  |    struct {
                             5594 ; 476  |        int GR          : HW_MIXLINE1INVR_GR_WIDTH;
                             5595 ; 477  |        int RSVD1       : HW_MIXLINE1INVR_RSVD1_WIDTH;
                             5596 ; 478  |        int GL          : HW_MIXLINE1INVR_GL_WIDTH;
                             5597 ; 479  |        int RSVD2       : HW_MIXLINE1INVR_RSVD2_WIDTH;
                             5598 ; 480  |        int MUTE        : HW_MIXLINE1INVR_MUTE_WIDTH;
                             5599 ; 481  |        int RSVD3       : HW_MIXLINE1INVR_RSVD3_WIDTH;
                             5600 ; 482  |    } B;
                             5601 ; 483  |    int I;
                             5602 ; 484  |    unsigned int U;
                             5603 ; 485  |} mix_line1invr_type;
                             5604 ; 486  |#define HW_MIXLINE1INVR (*(volatile mix_line1invr_type _X*) (HW_CODEC_BASEADDR+6))
                             5605 ; 487  |
                             5606 ; 488  |
                             5607 ; 489  |
                             5608 ; 490  |/////////////////////////////////////////////////////////////////////////////////
                             5609 ; 491  |//   Mixer Line2 In Volume Register (HW_MIXLINE2INVR) Bit Definitions
                             5610 ; 492  |#define HW_MIXLINE2INVR_GR_BITPOS 0
                             5611 ; 493  |#define HW_MIXLINE2INVR_GL_BITPOS 8
                             5612 ; 494  |#define HW_MIXLINE2INVR_MUTE_BITPOS 15
                             5613 ; 495  |
                             5614 ; 496  |#define HW_MIXLINE2INVR_GR_WIDTH 5
                             5615 ; 497  |#define HW_MIXLINE2INVR_RSVD1_WIDTH 3
                             5616 ; 498  |#define HW_MIXLINE2INVR_GL_WIDTH 5
                             5617 ; 499  |#define HW_MIXLINE2INVR_RSVD2_WIDTH 2
                             5618 ; 500  |#define HW_MIXLINE2INVR_MUTE_WIDTH 1
                             5619 ; 501  |#define HW_MIXLINE2INVR_RSVD3_WIDTH 8
                             5620 ; 502  |
                             5621 ; 503  |
                             5622 ; 504  |#define HW_MIXLINE2INVR_GR_SETMASK 0x1F<<HW_MIXLINE2INVR_GR_BITPOS
                             5623 ; 505  |#define HW_MIXLINE2INVR_GL_SETMASK 0x1F<<HW_MIXLINE2INVR_GL_BITPOS
                             5624 ; 506  |#define HW_MIXLINE2INVR_MUTE_SETMASK 1<<HW_MIXLINE2INVR_MUTE_BITPOS
                             5625 ; 507  |
                             5626 ; 508  |#define HW_MIXLINE2INVR_GR_CLRMASK ~(WORD)HW_MIXLINE2INVR_GR_SETMASK
                             5627 ; 509  |#define HW_MIXLINE2INVR_GL_CLRMASK ~(WORD)HW_MIXLINE2INVR_GL_SETMASK
                             5628 ; 510  |#define HW_MIXLINE2INVR_MUTE_CLRMASK ~(WORD)HW_MIXLINE2INVR_MUTE_SETMASK
                             5629 ; 511  |
                             5630 ; 512  |typedef union               
                             5631 ; 513  |{
                             5632 ; 514  |    struct {
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  90

M:ADDR CODE           CYCLES LINE SOURCELINE
                             5633 ; 515  |        int GR          : HW_MIXLINE2INVR_GR_WIDTH;
                             5634 ; 516  |        int RSVD1       : HW_MIXLINE2INVR_RSVD1_WIDTH;
                             5635 ; 517  |        int GL          : HW_MIXLINE2INVR_GL_WIDTH;
                             5636 ; 518  |        int RSVD2       : HW_MIXLINE2INVR_RSVD2_WIDTH;
                             5637 ; 519  |        int MUTE        : HW_MIXLINE2INVR_MUTE_WIDTH;
                             5638 ; 520  |        int RSVD3       : HW_MIXLINE2INVR_RSVD3_WIDTH;
                             5639 ; 521  |    } B;
                             5640 ; 522  |    int I;
                             5641 ; 523  |    unsigned int U;
                             5642 ; 524  |} mix_line2invr_type;
                             5643 ; 525  |#define HW_MIXLINE2INVR (*(volatile mix_line2invr_type _X*) (HW_CODEC_BASEADDR+7))
                             5644 ; 526  |
                             5645 ; 527  |
                             5646 ; 528  |
                             5647 ; 529  |/////////////////////////////////////////////////////////////////////////////////
                             5648 ; 530  |//   Mixer DAC In Volume Register (HW_MIXDACINVR) Bit Definitions
                             5649 ; 531  |#define HW_MIXDACINVR_MR_BITPOS 0
                             5650 ; 532  |#define HW_MIXDACINVR_ML_BITPOS 8
                             5651 ; 533  |#define HW_MIXDACINVR_MUTE_BITPOS 15
                             5652 ; 534  |
                             5653 ; 535  |#define HW_MIXDACINVR_MR_WIDTH (5)
                             5654 ; 536  |#define HW_MIXDACINVR_ML_WIDTH (5)
                             5655 ; 537  |#define HW_MIXDACINVR_MUTE_WIDTH (1)
                             5656 ; 538  |
                             5657 ; 539  |#define HW_MIXDACINVR_MR_SETMASK 0x1F<<HW_MIXDACINVR_MR_BITPOS
                             5658 ; 540  |#define HW_MIXDACINVR_ML_SETMASK 0x1F<<HW_MIXDACINVR_ML_BITPOS
                             5659 ; 541  |#define HW_MIXDACINVR_MUTE_SETMASK 1<<HW_MIXDACINVR_MUTE_BITPOS
                             5660 ; 542  |
                             5661 ; 543  |#define HW_MIXDACINVR_MR_CLRMASK ~(WORD)HW_MIXDACINVR_MR_SETMASK
                             5662 ; 544  |#define HW_MIXDACINVR_ML_CLRMASK ~(WORD)HW_MIXDACINVR_ML_SETMASK
                             5663 ; 545  |#define HW_MIXDACINVR_MUTE_CLRMASK ~(WORD)HW_MIXDACINVR_MUTE_SETMASK
                             5664 ; 546  |
                             5665 ; 547  |typedef union               
                             5666 ; 548  |{
                             5667 ; 549  |    struct {
                             5668 ; 550  |        int MR   : HW_MIXDACINVR_MR_WIDTH;
                             5669 ; 551  |        int ML   : HW_MIXDACINVR_ML_WIDTH;
                             5670 ; 552  |        int MUTE : HW_MIXDACINVR_MUTE_WIDTH;
                             5671 ; 553  |    } B;
                             5672 ; 554  |    int I;
                             5673 ; 555  |    unsigned int U;
                             5674 ; 556  |} mix_dacinvr_type;
                             5675 ; 557  |#define HW_MIXDACINVR (*(volatile mix_dacinvr_type _X*) (HW_CODEC_BASEADDR+8))
                             5676 ; 558  |
                             5677 ; 559  |
                             5678 ; 560  |/////////////////////////////////////////////////////////////////////////////////
                             5679 ; 561  |//   Mixer Record Select Register (HW_MIXRECSELR) Bit Definitions
                             5680 ; 562  |#define HW_MIXRECSELR_SR_BITPOS 0
                             5681 ; 563  |#define HW_MIXRECSELR_SL_BITPOS 8
                             5682 ; 564  |#define HW_MIXRECSELR_X_BITPOS 11
                             5683 ; 565  |
                             5684 ; 566  |#define HW_MIXRECSELR_SR_WIDTH 3
                             5685 ; 567  |#define HW_MIXRECSELR_RSVD1_WIDTH 5
                             5686 ; 568  |#define HW_MIXRECSELR_SL_WIDTH 3
                             5687 ; 569  |#define HW_MIXRECSELR_X_WIDTH 1
                             5688 ; 570  |#define HW_MIXRECSELR_RSVD2_WIDTH 12
                             5689 ; 571  |
                             5690 ; 572  |#define HW_MIXRECSELR_SR_SETMASK 7<<HW_MIXRECSELR_SR_BITPOS
                             5691 ; 573  |#define HW_MIXRECSELR_SL_SETMASK 7<<HW_MIXRECSELR_SL_BITPOS
                             5692 ; 574  |#define HW_MIXRECSELR_X_SETMASK 1<<HW_MIXRECSELR_X_BITPOS
                             5693 ; 575  |
                             5694 ; 576  |#define HW_MIXRECSELR_SR_MIC_SETMASK 0<<HW_MIXRECSELR_SR_BITPOS
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  91

M:ADDR CODE           CYCLES LINE SOURCELINE
                             5695 ; 577  |#define HW_MIXRECSELR_SR_LINEIN2_SETMASK 3<<HW_MIXRECSELR_SR_BITPOS
                             5696 ; 578  |#define HW_MIXRECSELR_SR_LINEIN1_SETMASK 4<<HW_MIXRECSELR_SR_BITPOS
                             5697 ; 579  |#define HW_MIXRECSELR_SR_MIX_SETMASK 5<<HW_MIXRECSELR_SR_BITPOS
                             5698 ; 580  |
                             5699 ; 581  |#define HW_MIXRECSELR_SL_MIC_SETMASK 0<<HW_MIXRECSELR_SL_BITPOS
                             5700 ; 582  |#define HW_MIXRECSELR_SL_LINEIN2_SETMASK 3<<HW_MIXRECSELR_SL_BITPOS
                             5701 ; 583  |#define HW_MIXRECSELR_SL_LINEIN1_SETMASK 4<<HW_MIXRECSELR_SL_BITPOS
                             5702 ; 584  |#define HW_MIXRECSELR_SL_MIX_SETMASK 5<<HW_MIXRECSELR_SL_BITPOS
                             5703 ; 585  |
                             5704 ; 586  |#define HW_MIXRECSELR_SR_CLRMASK ~(WORD)HW_MIXRECSELR_SR_SETMASK
                             5705 ; 587  |#define HW_MIXRECSELR_SL_CLRMASK ~(WORD)HW_MIXRECSELR_SL_SETMASK
                             5706 ; 588  |#define HW_MIXRECSELR_SR_SL_CLRMASK ~(WORD)(HW_MIXRECSELR_SR_SETMASK|HW_MIXRECSELR_SL_SETM
                                  ASK)
                             5707 ; 589  |#define HW_MIXRECSELR_X_CLRMASK ~(WORD)HW_MIXRECSELR_X_SETMASK
                             5708 ; 590  |
                             5709 ; 591  |typedef union               
                             5710 ; 592  |{
                             5711 ; 593  |    struct {
                             5712 ; 594  |        int SR          : HW_MIXRECSELR_SR_WIDTH;
                             5713 ; 595  |        int RSVD1       : HW_MIXRECSELR_RSVD1_WIDTH;
                             5714 ; 596  |        int SL          : HW_MIXRECSELR_SL_WIDTH;
                             5715 ; 597  |        int X           : HW_MIXRECSELR_X_WIDTH;
                             5716 ; 598  |        int RSVD2       : HW_MIXRECSELR_RSVD2_WIDTH;
                             5717 ; 599  |    } B;
                             5718 ; 600  |    int I;
                             5719 ; 601  |    unsigned int U;
                             5720 ; 602  |} mix_recselr_type;
                             5721 ; 603  |#define HW_MIXRECSELR (*(volatile mix_recselr_type _X*) (HW_CODEC_BASEADDR+9))
                             5722 ; 604  |
                             5723 ; 605  |
                             5724 ; 606  |
                             5725 ; 607  |/////////////////////////////////////////////////////////////////////////////////
                             5726 ; 608  |//   Mixer ADC In Gain Register (HW_MIXADCGAINR) Bit Definitions
                             5727 ; 609  |#define HW_MIXADCGAINR_GR_BITPOS 0
                             5728 ; 610  |#define HW_MIXADCGAINR_GL_BITPOS 8
                             5729 ; 611  |#define HW_MIXADCGAINR_MUTE_BITPOS 15
                             5730 ; 612  |
                             5731 ; 613  |#define HW_MIXADCGAINR_GR_WIDTH 4
                             5732 ; 614  |#define HW_MIXADCGAINR_RSVD1_WIDTH 4
                             5733 ; 615  |#define HW_MIXADCGAINR_GL_WIDTH 4
                             5734 ; 616  |#define HW_MIXADCGAINR_RSVD2_WIDTH 3
                             5735 ; 617  |#define HW_MIXADCGAINR_MUTE_WIDTH 1
                             5736 ; 618  |#define HW_MIXADCGAINR_RSVD3_WIDTH 8
                             5737 ; 619  |
                             5738 ; 620  |#define HW_MIXADCGAINR_GR_SETMASK 0x1F<<HW_MIXADCGAINR_GR_BITPOS
                             5739 ; 621  |#define HW_MIXADCGAINR_GL_SETMASK 0x1F<<HW_MIXADCGAINR_GL_BITPOS
                             5740 ; 622  |#define HW_MIXADCGAINR_MUTE_SETMASK 1<<HW_MIXADCGAINR_MUTE_BITPOS
                             5741 ; 623  |
                             5742 ; 624  |#define HW_MIXADCGAINR_GR_CLRMASK ~(WORD)HW_MIXADCGAINR_GR_SETMASK
                             5743 ; 625  |#define HW_MIXADCGAINR_GL_CLRMASK ~(WORD)HW_MIXADCGAINR_GL_SETMASK
                             5744 ; 626  |#define HW_MIXADCGAINR_MUTE_CLRMASK ~(WORD)HW_MIXADCGAINR_MUTE_SETMASK
                             5745 ; 627  |
                             5746 ; 628  |#define HW_MIXADCGAINR_GL_00P0_SETMASK 0<<HW_MIXADCGAINR_GL_BITPOS
                             5747 ; 629  |#define HW_MIXADCGAINR_GL_01P5_SETMASK 1<<HW_MIXADCGAINR_GL_BITPOS
                             5748 ; 630  |#define HW_MIXADCGAINR_GL_03P0_SETMASK 2<<HW_MIXADCGAINR_GL_BITPOS
                             5749 ; 631  |#define HW_MIXADCGAINR_GL_04P5_SETMASK 3<<HW_MIXADCGAINR_GL_BITPOS
                             5750 ; 632  |#define HW_MIXADCGAINR_GL_06P0_SETMASK 4<<HW_MIXADCGAINR_GL_BITPOS
                             5751 ; 633  |#define HW_MIXADCGAINR_GL_07P5_SETMASK 5<<HW_MIXADCGAINR_GL_BITPOS
                             5752 ; 634  |#define HW_MIXADCGAINR_GL_09P0_SETMASK 6<<HW_MIXADCGAINR_GL_BITPOS
                             5753 ; 635  |#define HW_MIXADCGAINR_GL_10P5_SETMASK 7<<HW_MIXADCGAINR_GL_BITPOS
                             5754 ; 636  |#define HW_MIXADCGAINR_GL_12P0_SETMASK 8<<HW_MIXADCGAINR_GL_BITPOS
                             5755 ; 637  |#define HW_MIXADCGAINR_GL_13P5_SETMASK 9<<HW_MIXADCGAINR_GL_BITPOS
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  92

M:ADDR CODE           CYCLES LINE SOURCELINE
                             5756 ; 638  |#define HW_MIXADCGAINR_GL_15P0_SETMASK 10<<HW_MIXADCGAINR_GL_BITPOS
                             5757 ; 639  |#define HW_MIXADCGAINR_GL_16P5_SETMASK 11<<HW_MIXADCGAINR_GL_BITPOS
                             5758 ; 640  |#define HW_MIXADCGAINR_GL_18P0_SETMASK 12<<HW_MIXADCGAINR_GL_BITPOS
                             5759 ; 641  |#define HW_MIXADCGAINR_GL_19P5_SETMASK 13<<HW_MIXADCGAINR_GL_BITPOS
                             5760 ; 642  |#define HW_MIXADCGAINR_GL_21P0_SETMASK 14<<HW_MIXADCGAINR_GL_BITPOS
                             5761 ; 643  |#define HW_MIXADCGAINR_GL_22P5_SETMASK 15<<HW_MIXADCGAINR_GL_BITPOS
                             5762 ; 644  |
                             5763 ; 645  |#define HW_MIXADCGAINR_GR_00P0_SETMASK 0
                             5764 ; 646  |#define HW_MIXADCGAINR_GR_01P5_SETMASK 1
                             5765 ; 647  |#define HW_MIXADCGAINR_GR_03P0_SETMASK 2
                             5766 ; 648  |#define HW_MIXADCGAINR_GR_04P5_SETMASK 3
                             5767 ; 649  |#define HW_MIXADCGAINR_GR_06P0_SETMASK 4
                             5768 ; 650  |#define HW_MIXADCGAINR_GR_07P5_SETMASK 5
                             5769 ; 651  |#define HW_MIXADCGAINR_GR_09P0_SETMASK 6
                             5770 ; 652  |#define HW_MIXADCGAINR_GR_10P5_SETMASK 7
                             5771 ; 653  |#define HW_MIXADCGAINR_GR_12P0_SETMASK 8
                             5772 ; 654  |#define HW_MIXADCGAINR_GR_13P5_SETMASK 9
                             5773 ; 655  |#define HW_MIXADCGAINR_GR_15P0_SETMASK 10
                             5774 ; 656  |#define HW_MIXADCGAINR_GR_16P5_SETMASK 11
                             5775 ; 657  |#define HW_MIXADCGAINR_GR_18P0_SETMASK 12
                             5776 ; 658  |#define HW_MIXADCGAINR_GR_19P5_SETMASK 13
                             5777 ; 659  |#define HW_MIXADCGAINR_GR_21P0_SETMASK 14
                             5778 ; 660  |#define HW_MIXADCGAINR_GR_22P5_SETMASK 15
                             5779 ; 661  |
                             5780 ; 662  |typedef union               
                             5781 ; 663  |{
                             5782 ; 664  |    struct {
                             5783 ; 665  |        int GR          : HW_MIXADCGAINR_GR_WIDTH;
                             5784 ; 666  |        int RSVD1       : HW_MIXADCGAINR_RSVD1_WIDTH;
                             5785 ; 667  |        int GL          : HW_MIXADCGAINR_GL_WIDTH;
                             5786 ; 668  |        int RSVD2       : HW_MIXADCGAINR_RSVD2_WIDTH;
                             5787 ; 669  |        int MUTE        : HW_MIXADCGAINR_MUTE_WIDTH;
                             5788 ; 670  |        int RSVD3       : HW_MIXADCGAINR_RSVD3_WIDTH;
                             5789 ; 671  |    } B;
                             5790 ; 672  |    int I;
                             5791 ; 673  |    unsigned int U;
                             5792 ; 674  |} mix_adcgainr_type;
                             5793 ; 675  |#define HW_MIXADCGAINR (*(volatile mix_adcgainr_type _X*) (HW_CODEC_BASEADDR+10))
                             5794 ; 676  |
                             5795 ; 677  |
                             5796 ; 678  |
                             5797 ; 679  |/////////////////////////////////////////////////////////////////////////////////
                             5798 ; 680  |//   Mixer Power Down Register (HW_MIXPWRDNR) Bit Definitions
                             5799 ; 681  |#define HW_MIXPWRDNR_PR0_BITPOS 9
                             5800 ; 682  |#define HW_MIXPWRDNR_PR1_BITPOS 10
                             5801 ; 683  |#define HW_MIXPWRDNR_PR2_BITPOS 11
                             5802 ; 684  |
                             5803 ; 685  |#define HW_MIXPWRDNR_PR0_WIDTH (1)
                             5804 ; 686  |#define HW_MIXPWRDNR_PR1_WIDTH (1)
                             5805 ; 687  |#define HW_MIXPWRDNR_PR2_WIDTH (1)
                             5806 ; 688  |#define HW_MIXPWRDNR_RSVD_WIDTH (12)
                             5807 ; 689  |
                             5808 ; 690  |#define HW_MIXPWRDNR_PR_SETMASK 7<<HW_MIXPWRDNR_PR0_BITPOS
                             5809 ; 691  |
                             5810 ; 692  |#define HW_MIXPWRDNR_PR_CLRMASK ~(WORD)HW_MIXPWRDNR_PR_SETMASK
                             5811 ; 693  |
                             5812 ; 694  |typedef union               
                             5813 ; 695  |{
                             5814 ; 696  |    struct {
                             5815 ; 697  |                int                     : 9;
                             5816 ; 698  |       int PR0          : HW_MIXPWRDNR_PR0_WIDTH;
                             5817 ; 699  |       int PR1          : HW_MIXPWRDNR_PR1_WIDTH;
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  93

M:ADDR CODE           CYCLES LINE SOURCELINE
                             5818 ; 700  |       int PR2          : HW_MIXPWRDNR_PR2_WIDTH;
                             5819 ; 701  |       int RSVD         : HW_MIXPWRDNR_RSVD_WIDTH;
                             5820 ; 702  |    } B;
                             5821 ; 703  |    int I;
                             5822 ; 704  |    unsigned int U;
                             5823 ; 705  |} mix_pwrdnr_type;
                             5824 ; 706  |#define HW_MIXPWRDNR (*(volatile mix_pwrdnr_type _X*) (HW_CODEC_BASEADDR+11))
                             5825 ; 707  |
                             5826 ; 708  |
                             5827 ; 709  |/////////////////////////////////////////////////////////////////////////////////
                             5828 ; 710  |
                             5829 ; 711  |//  Mixer Test Register (HW_MIX_TEST) Bit Definitions
                             5830 ; 712  |
                             5831 ; 713  |#define HW_MIX_TEST_DAC_CHOP_CLK_WIDTH (2)
                             5832 ; 714  |
                             5833 ; 715  |#define HW_MIX_TEST_RSVD0_WIDTH (2)
                             5834 ; 716  |
                             5835 ; 717  |#define HW_MIX_TEST_DAC_DISABLE_RTZ_WIDTH (1)
                             5836 ; 718  |
                             5837 ; 719  |#define HW_MIX_TEST_DAC_MORE_AMP_I_WIDTH (1)
                             5838 ; 720  |
                             5839 ; 721  |#define HW_MIX_TEST_RSVD1_WIDTH (2)
                             5840 ; 722  |
                             5841 ; 723  |#define HW_MIX_TEST_TMP_CFG_WIDTH (4)
                             5842 ; 724  |
                             5843 ; 725  |#define HW_MIX_TEST_TMPPWD_WIDTH (1)
                             5844 ; 726  |
                             5845 ; 727  |#define HW_MIX_TEST_RSVD2_WIDTH (11)
                             5846 ; 728  |
                             5847 ; 729  |
                             5848 ; 730  |
                             5849 ; 731  |#define HW_MIX_TEST_DAC_CHOP_CLK_BITPOS (0)
                             5850 ; 732  |
                             5851 ; 733  |#define HW_MIX_TEST_DAC_DISABLE_RTZ_BITPOS (4)
                             5852 ; 734  |
                             5853 ; 735  |#define HW_MIX_TEST_DAC_MORE_AMP_I_BITPOS (5)
                             5854 ; 736  |
                             5855 ; 737  |#define HW_MIX_TEST_TMP_CFG_BITPOS (8)
                             5856 ; 738  |
                             5857 ; 739  |#define HW_MIX_TEST_TMPPWD_BITPOS (12)
                             5858 ; 740  |
                             5859 ; 741  |
                             5860 ; 742  |
                             5861 ; 743  |#define HW_MIX_TEST_DAC_CHOP_CLK_SETMASK (((1<<HW_MIX_TEST_DAC_CHOP_CLK_WIDTH)-1)<<HW_MIX_
                                  TEST_DAC_CHOP_CLK_BITPOS)        
                             5862 ; 744  |
                             5863 ; 745  |#define HW_MIX_TEST_DAC_DISABLE_RTZ_SETMASK (((1<<HW_MIX_TEST_DAC_DISABLE_RTZ_WIDTH)-1)<<H
                                  W_MIX_TEST_DAC_DISABLE_RTZ_BITPOS)        
                             5864 ; 746  |
                             5865 ; 747  |#define HW_MIX_TEST_DAC_MORE_AMP_I_SETMASK (((1<<HW_MIX_TEST_DAC_MORE_AMP_I_WIDTH)-1)<<HW_
                                  MIX_TEST_DAC_MORE_AMP_I_BITPOS) 
                             5866 ; 748  |
                             5867 ; 749  |#define HW_MIX_TEST_TMP_CFG_SETMASK (((1<<HW_MIX_TEST_TMP_CFG_WIDTH)-1)<<HW_MIX_TEST_TMP_C
                                  FG_BITPOS) 
                             5868 ; 750  |
                             5869 ; 751  |#define HW_MIX_TEST_TMPPWD_SETMASK (((1<<HW_MIX_TEST_TMPPWD_WIDTH)-1)<<HW_MIX_TEST_TMPPWD_
                                  BITPOS) 
                             5870 ; 752  |
                             5871 ; 753  |
                             5872 ; 754  |#define HW_MIX_TEST_DAC_CHOP_CLK_CLRMASK (~(WORD)HW_MIX_TEST_DAC_CHOP_CLK_SETMASK)     
                             5873 ; 755  |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  94

M:ADDR CODE           CYCLES LINE SOURCELINE
                             5874 ; 756  |#define HW_MIX_TEST_DAC_DISABLE_RTZ_CLRMASK (~(WORD)HW_MIX_TEST_DAC_DISABLE_RTZ_SETMASK)  
                                     
                             5875 ; 757  |
                             5876 ; 758  |#define HW_MIX_TEST_DAC_MORE_AMP_I_CLRMASK (~(WORD)HW_MIX_TEST_DAC_MORE_AMP_I_SETMASK) 
                             5877 ; 759  |
                             5878 ; 760  |#define HW_MIX_TEST_TMP_CFG_CLRMASK (~(WORD)HW_MIX_TEST_TMP_CFG_SETMASK) 
                             5879 ; 761  |
                             5880 ; 762  |#define HW_MIX_TEST_TMPPWD_CLRMASK (~(WORD)HW_MIX_TEST_TMPPWD_SETMASK) 
                             5881 ; 763  |
                             5882 ; 764  |
                             5883 ; 765  |typedef union               
                             5884 ; 766  |{
                             5885 ; 767  |    struct {
                             5886 ; 768  |        int DAC_CHOP_CLK                   : HW_MIX_TEST_DAC_CHOP_CLK_WIDTH;
                             5887 ; 769  |        int RSVD0                          : HW_MIX_TEST_RSVD0_WIDTH;
                             5888 ; 770  |        int DAC_DISABLE_RTZ                : HW_MIX_TEST_DAC_DISABLE_RTZ_WIDTH;
                             5889 ; 771  |        int DAC_MORE_AMP_I                 : HW_MIX_TEST_DAC_MORE_AMP_I_WIDTH;
                             5890 ; 772  |        int RSVD1                          : HW_MIX_TEST_RSVD1_WIDTH;
                             5891 ; 773  |        int TMP_CFG                        : HW_MIX_TEST_TMP_CFG_WIDTH;
                             5892 ; 774  |        int TMPPWD                         : HW_MIX_TEST_TMPPWD_WIDTH;
                             5893 ; 775  |        int RSVD2                          : HW_MIX_TEST_RSVD2_WIDTH;
                             5894 ; 776  |    } B;
                             5895 ; 777  |    int I;
                             5896 ; 778  |    unsigned int U;
                             5897 ; 779  |} mix_test_type;
                             5898 ; 780  |#define HW_MIX_TEST      (*(volatile mix_test_type _X*) (HW_CODEC_BASEADDR+28))    /* Anal
                                  og Persistent Config Register */
                             5899 ; 781  |
                             5900 ; 782  |
                             5901 ; 783  |/////////////////////////////////////////////////////////////////////////////////
                             5902 ; 784  |//   Reference Control Register (HW_REF_CTRL) Bit Definitions
                             5903 ; 785  |#define HW_REF_CTRL_DACVBGVAL_BITPOS 0
                             5904 ; 786  |#define HW_REF_CTRL_ADJDAC_BITPOS 4
                             5905 ; 787  |#define HW_REF_CTRL_VAGVAL_BITPOS 5
                             5906 ; 788  |#define HW_REF_CTRL_ADJV_BITPOS 9
                             5907 ; 789  |#define HW_REF_CTRL_ADCREFV_BITPOS 10
                             5908 ; 790  |#define HW_REF_CTRL_ADJADC_BITPOS 14
                             5909 ; 791  |#define HW_REF_CTRL_PWRDWNS_BITPOS 15
                             5910 ; 792  |#define HW_REF_CTRL_BIASC_BITPOS 16
                             5911 ; 793  |#define HW_REF_CTRL_LWREF_BITPOS 18
                             5912 ; 794  |#define HW_REF_CTRL_LOW_PWR_BITPOS 19 
                             5913 ; 795  |
                             5914 ; 796  |#define HW_REF_CTRL_DACVBGVAL_WIDTH (4)
                             5915 ; 797  |#define HW_REF_CTRL_ADJDAC_WIDTH (1)
                             5916 ; 798  |#define HW_REF_CTRL_VAGVAL_WIDTH (4)
                             5917 ; 799  |#define HW_REF_CTRL_ADJV_WIDTH (1)
                             5918 ; 800  |#define HW_REF_CTRL_ADCREFV_WIDTH (4)
                             5919 ; 801  |#define HW_REF_CTRL_ADJADC_WIDTH (1)
                             5920 ; 802  |#define HW_REF_CTRL_PWRDWNS_WIDTH (1)
                             5921 ; 803  |#define HW_REF_CTRL_BIASC_WIDTH (2)
                             5922 ; 804  |#define HW_REF_CTRL_LWREF_WIDTH (1)
                             5923 ; 805  |#define HW_REF_CTRL_LOW_PWR_WIDTH (1) 
                             5924 ; 806  |#define HW_REF_CTRL_RSVD_WIDTH (4)
                             5925 ; 807  |
                             5926 ; 808  |#define HW_REF_CTRL_DACVBGVAL_SETMASK (((1<<HW_REF_CTRL_DACVBGVAL_WIDTH)-1)<<HW_REF_CTRL_D
                                  ACVBGVAL_BITPOS)
                             5927 ; 809  |#define HW_REF_CTRL_ADJDAC_SETMASK (((1<<HW_REF_CTRL_ADJDAC_WIDTH)-1)<<HW_REF_CTRL_ADJDAC_
                                  BITPOS)
                             5928 ; 810  |#define HW_REF_CTRL_VAGVAL_SETMASK (((1<<HW_REF_CTRL_VAGVAL_WIDTH)-1)<<HW_REF_CTRL_VAGVAL_
                                  BITPOS)
                             5929 ; 811  |#define HW_REF_CTRL_ADJV_SETMASK (((1<<HW_REF_CTRL_ADJV_WIDTH)-1)<<HW_REF_CTRL_ADJV_BITPOS
                                  )
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  95

M:ADDR CODE           CYCLES LINE SOURCELINE
                             5930 ; 812  |#define HW_REF_CTRL_ADCREFV_SETMASK (((1<<HW_REF_CTRL_ADCREFV_WIDTH)-1)<<HW_REF_CTRL_ADCRE
                                  FV_BITPOS)
                             5931 ; 813  |#define HW_REF_CTRL_ADJADC_SETMASK (((1<<HW_REF_CTRL_ADJADC_WIDTH)-1)<<HW_REF_CTRL_ADJADC_
                                  BITPOS)
                             5932 ; 814  |#define HW_REF_CTRL_PWRDWNS_SETMASK (((1<<HW_REF_CTRL_PWRDWNS_WIDTH)-1)<<HW_REF_CTRL_PWRDW
                                  NS_BITPOS)
                             5933 ; 815  |#define HW_REF_CTRL_BIASC_SETMASK (((1<<HW_REF_CTRL_BIASC_WIDTH)-1)<<HW_REF_CTRL_BIASC_BIT
                                  POS)
                             5934 ; 816  |#define HW_REF_CTRL_LWREF_SETMASK (((1<<HW_REF_CTRL_LWREF_WIDTH)-1)<<HW_REF_CTRL_LWREF_BIT
                                  POS)
                             5935 ; 817  |#define HW_REF_CTRL_LOW_PWR_SETMASK (((1<<HW_REF_CTRL_LOW_PWR_WIDTH)-1)<<HW_REF_CTRL_LOW_P
                                  WR_BITPOS)
                             5936 ; 818  |
                             5937 ; 819  |#define HW_REF_CTRL_DACVBGVAL_CLRMASK ~(WORD)HW_REF_CTRL_DACVBGVAL_SETMASK
                             5938 ; 820  |#define HW_REF_CTRL_ADJDAC_CLRMASK ~(WORD)HW_REF_CTRL_ADJDAC_SETMASK
                             5939 ; 821  |#define HW_REF_CTRL_VAGVAL_CLRMASK ~(WORD)HW_REF_CTRL_VAGVAL_SETMASK
                             5940 ; 822  |#define HW_REF_CTRL_ADJV_CLRMASK ~(WORD)HW_REF_CTRL_ADJV_SETMASK
                             5941 ; 823  |#define HW_REF_CTRL_ADCREFV_CLRMASK ~(WORD)HW_REF_CTRL_ADCREFV_SETMASK
                             5942 ; 824  |#define HW_REF_CTRL_ADJADC_CLRMASK ~(WORD)HW_REF_CTRL_ADJADC_SETMASK
                             5943 ; 825  |#define HW_REF_CTRL_PWRDWNS_CLRMASK ~(WORD)HW_REF_CTRL_PWRDWNS_SETMASK
                             5944 ; 826  |#define HW_REF_CTRL_BIASC_CLRMASK ~(WORD)HW_REF_CTRL_BIASC_SETMASK
                             5945 ; 827  |#define HW_REF_CTRL_LWREF_CLRMASK ~(WORD)HW_REF_CTRL_LWREF_SETMASK
                             5946 ; 828  |#define HW_REF_CTRL_LOW_PWR_CLRMASK ~(WORD)HW_REF_CTRL_LOW_PWR_SETMASK
                             5947 ; 829  |
                             5948 ; 830  |typedef union               
                             5949 ; 831  |{
                             5950 ; 832  |    struct {
                             5951 ; 833  |        int DACVBGVAL      : HW_REF_CTRL_DACVBGVAL_WIDTH;
                             5952 ; 834  |        int ADJDAC                 : HW_REF_CTRL_ADJDAC_WIDTH;
                             5953 ; 835  |        int VAGVAL                 : HW_REF_CTRL_VAGVAL_WIDTH;
                             5954 ; 836  |        int ADJV                   : HW_REF_CTRL_ADJV_WIDTH;
                             5955 ; 837  |        int ADCREFV       : HW_REF_CTRL_ADCREFV_WIDTH;
                             5956 ; 838  |        int ADJADC                 : HW_REF_CTRL_ADJADC_WIDTH;
                             5957 ; 839  |        int PWRDWNS       : HW_REF_CTRL_PWRDWNS_WIDTH;
                             5958 ; 840  |        int BIASC         : HW_REF_CTRL_BIASC_WIDTH;
                             5959 ; 841  |        int LWREF         : HW_REF_CTRL_LWREF_WIDTH;
                             5960 ; 842  |        int LOW_PWR       : HW_REF_CTRL_LOW_PWR_WIDTH;
                             5961 ; 843  |        int RSVD               : HW_REF_CTRL_RSVD_WIDTH;
                             5962 ; 844  |    } B;
                             5963 ; 845  |    int I;
                             5964 ; 846  |    unsigned int U;
                             5965 ; 847  |} ref_ctrl_type;
                             5966 ; 848  |#define HW_REF_CTRL (*(volatile ref_ctrl_type _X*) (HW_CODEC_BASEADDR+25))
                             5967 ; 849  |
                             5968 ; 850  |
                             5969 ; 851  |
                             5970 ; 852  |/////////////////////////////////////////////////////////////////////////////////
                             5971 ; 853  |/////////////////////////////////////////////////////////////////////////////////
                             5972 ; 854  |/////////////////////////////////////////////////////////////////////////////////
                             5973 ; 855  |//////  DAC Registers
                             5974 ; 856  |/////////////////////////////////////////////////////////////////////////////////
                             5975 ; 857  |/////////////////////////////////////////////////////////////////////////////////
                             5976 ; 858  |/////////////////////////////////////////////////////////////////////////////////
                             5977 ; 859  |#define HW_DAC_BASEADDR 0xF800
                             5978 ; 860  |
                             5979 ; 861  |
                             5980 ; 862  |
                             5981 ; 863  |/////////////////////////////////////////////////////////////////////////////////
                             5982 ; 864  |//  DAC Control Status Register (HW_DACCSR) Bit Definitions
                             5983 ; 865  |#define HW_DACCSR_TXEN_BITPOS 0
                             5984 ; 866  |#define HW_DACCSR_TXIEN_BITPOS 1
                             5985 ; 867  |#define HW_DACCSR_TXI_BITPOS 2
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  96

M:ADDR CODE           CYCLES LINE SOURCELINE
                             5986 ; 868  |#define HW_DACCSR_TXEXC_BITPOS 3
                             5987 ; 869  |#define HW_DACCSR_LPBK_BITPOS 4
                             5988 ; 870  |#define HW_DACCSR_DMASEL_BITPOS 5
                             5989 ; 871  |#define HW_DACCSR_DAC_HIPPOP_EN_BITPOS 7
                             5990 ; 872  |#define HW_DACCSR_LVUP_BITPOS 8
                             5991 ; 873  |#define HW_DACCSR_RVUP_BITPOS 9
                             5992 ; 874  |#define HW_DACCSR_VUP_BITPOS 10
                             5993 ; 875  |#define HW_DACCSR_RSRVD_BITPOS 11
                             5994 ; 876  |#define HW_DACCSR_CLKGT_BITPOS 23
                             5995 ; 877  |
                             5996 ; 878  |#define HW_DACCSR_TXEN_WIDTH (1)
                             5997 ; 879  |#define HW_DACCSR_TXIEN_WIDTH (1)
                             5998 ; 880  |#define HW_DACCSR_TXI_WIDTH (1)
                             5999 ; 881  |#define HW_DACCSR_TXEXC_WIDTH (1)
                             6000 ; 882  |#define HW_DACCSR_LPBK_WIDTH (1)
                             6001 ; 883  |#define HW_DACCSR_DMASEL_WIDTH (2)
                             6002 ; 884  |#define HW_DACCSR_DAC_HIPPOP_EN_WIDTH (1)
                             6003 ; 885  |#define HW_DACCSR_LVUP_WIDTH (1)
                             6004 ; 886  |#define HW_DACCSR_RVUP_WIDTH (1)
                             6005 ; 887  |#define HW_DACCSR_VUP_WIDTH (1)
                             6006 ; 888  |#define HW_DACCSR_RSRVD_WIDTH (12)
                             6007 ; 889  |#define HW_DACCSR_CLKGT_WIDTH (1)
                             6008 ; 890  |
                             6009 ; 891  |#define HW_DACCSR_TXEN_SETMASK 1<<HW_DACCSR_TXEN_BITPOS
                             6010 ; 892  |#define HW_DACCSR_TXIEN_SETMASK 1<<HW_DACCSR_TXIEN_BITPOS
                             6011 ; 893  |#define HW_DACCSR_TXI_SETMASK 1<<HW_DACCSR_TXI_BITPOS
                             6012 ; 894  |#define HW_DACCSR_TXEXC_SETMASK 1<<HW_DACCSR_TXEXC_BITPOS
                             6013 ; 895  |#define HW_DACCSR_LPBK_SETMASK 1<<HW_DACCSR_LPBK_BITPOS
                             6014 ; 896  |#define HW_DACCSR_DMASEL_P_SETMASK ((2)<<(HW_DACCSR_DMASEL_BITPOS))
                             6015 ; 897  |#define HW_DACCSR_DMASEL_Y_SETMASK (1<<(HW_DACCSR_DMASEL_BITPOS))
                             6016 ; 898  |//         DMASEL_X has no asm setmask since X config value is 00 binary.
                             6017 ; 899  |#define HW_DACCSR_DAC_HIPPOP_EN_SETMASK (1<<HW_DACCSR_DAC_HIPPOP_EN_BITPOS)
                             6018 ; 900  |#define HW_DACCSR_LVUP_SETMASK (1<<HW_DACCSR_LVUP_BITPOS)
                             6019 ; 901  |#define HW_DACCSR_RVUP_SETMASK (1<<HW_DACCSR_RVUP_BITPOS)
                             6020 ; 902  |#define HW_DACCSR_VUP_SETMASK (1<<HW_DACCSR_VUP_BITPOS)
                             6021 ; 903  |#define HW_DACCSR_CLKGT_SETMASK (1<<HW_DACCSR_CLKGT_BITPOS)
                             6022 ; 904  |
                             6023 ; 905  |#define HW_DACCSR_TXEN_CLRMASK ~(WORD)HW_DACCSR_TXEN_SETMASK
                             6024 ; 906  |#define HW_DACCSR_TXIEN_CLRMASK ~(WORD)HW_DACCSR_TXIEN_SETMASK
                             6025 ; 907  |#define HW_DACCSR_TXI_CLRMASK ~(WORD)HW_DACCSR_TXI_SETMASK
                             6026 ; 908  |#define HW_DACCSR_TXEXC_CLRMASK ~(WORD)HW_DACCSR_TXEXC_SETMASK
                             6027 ; 909  |#define HW_DACCSR_LPBK_CLRMASK ~(WORD)HW_DACCSR_LPBK_SETMASK
                             6028 ; 910  |// No asm clrmask for 2 bit bitfield DMASEL
                             6029 ; 911  |#define HW_DACCSR_DAC_HIPPOP_EN_CLRMASK ~(WORD)HW_DACCSR_DAC_HIPPOP_EN_SETMASK
                             6030 ; 912  |#define HW_DACCSR_LVUP_CLRMASK ~(WORD)HW_DACCSR_LVUP_SETMASK
                             6031 ; 913  |#define HW_DACCSR_RVUP_CLRMASK ~(WORD)HW_DACCSR_RVUP_SETMASK
                             6032 ; 914  |#define HW_DACCSR_VUP_CLRMASK ~(WORD)HW_DACCSR_VUP_SETMASK
                             6033 ; 915  |#define HW_DACCSR_CLKGT_CLRMASK ~(WORD)HW_DACCSR_CLKGT_SETMASK 
                             6034 ; 916  |
                             6035 ; 917  |
                             6036 ; 918  |typedef union               
                             6037 ; 919  |{
                             6038 ; 920  |    struct {
                             6039 ; 921  |        int TXEN                        : HW_DACCSR_TXEN_WIDTH;
                             6040 ; 922  |        int TXIEN                       : HW_DACCSR_TXIEN_WIDTH;
                             6041 ; 923  |        int TXI                         : HW_DACCSR_TXI_WIDTH;
                             6042 ; 924  |        int TXEXC                       : HW_DACCSR_TXEXC_WIDTH;
                             6043 ; 925  |        int LPBK                        : HW_DACCSR_LPBK_WIDTH;
                             6044 ; 926  |        int DMASEL                      : HW_DACCSR_DMASEL_WIDTH;
                             6045 ; 927  |             #define HW_DACCSR_DMASEL_X_BITFIELD_VAL    0
                             6046 ; 928  |             #define HW_DACCSR_DMASEL_Y_BITFIELD_VAL    1
                             6047 ; 929  |             #define HW_DACCSR_DMASEL_P_BITFIELD_VAL    2       
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  97

M:ADDR CODE           CYCLES LINE SOURCELINE
                             6048 ; 930  |        int DAC_HIPPOP_EN               : HW_DACCSR_DAC_HIPPOP_EN_WIDTH;
                             6049 ; 931  |        int LVUP                        : HW_DACCSR_LVUP_WIDTH;
                             6050 ; 932  |        int RVUP                        : HW_DACCSR_RVUP_WIDTH;
                             6051 ; 933  |        int VUP                         : HW_DACCSR_VUP_WIDTH;
                             6052 ; 934  |        int RSVD                        : HW_DACCSR_RSRVD_WIDTH;
                             6053 ; 935  |        int CLKGT                       : HW_DACCSR_CLKGT_WIDTH;
                             6054 ; 936  |    } B;
                             6055 ; 937  |    int I;
                             6056 ; 938  |    unsigned int U;
                             6057 ; 939  |} dac_csr_type;
                             6058 ; 940  |#define HW_DACCSR      (*(volatile dac_csr_type _X*) (HW_DAC_BASEADDR))
                             6059 ; 941  |
                             6060 ; 942  |
                             6061 ; 943  |
                             6062 ; 944  |/////////////////////////////////////////////////////////////////////////////////
                             6063 ; 945  |//  DAC Sample Rate Register (HW_DACSRR) Bit Definitions
                             6064 ; 946  |#define HW_DACSRR_SR_BITPOS 0
                             6065 ; 947  |
                             6066 ; 948  |#define HW_DACSRR_SR_WIDTH (23)
                             6067 ; 949  |#define HW_DACSRR_RSVD_WIDTH (1)
                             6068 ; 950  |
                             6069 ; 951  |//HW_DACSRR_SR_SETMASK                    equ     $FFFFFF<<HW_DACSRR_SR_BITPOS
                             6070 ; 952  |#define HW_DACSRR_SR_SETMASK (((1<<HW_DACSRR_SR_WIDTH)-1)<<HW_DACSRR_SR_BITPOS)        
                             6071 ; 953  |
                             6072 ; 954  |#define HW_DACSRR_SR_CLRMASK ~(WORD)HW_DACSRR_SR_SETMASK
                             6073 ; 955  |
                             6074 ; 956  |typedef union               
                             6075 ; 957  |{
                             6076 ; 958  |    struct {
                             6077 ; 959  |        int SR                          : HW_DACSRR_SR_WIDTH;
                             6078 ; 960  |        int RSVD                        : HW_DACSRR_RSVD_WIDTH;
                             6079 ; 961  |    } B;
                             6080 ; 962  |    int I;
                             6081 ; 963  |    unsigned int U;
                             6082 ; 964  |} dac_srr_type;
                             6083 ; 965  |#define HW_DACSRR      (*(volatile dac_srr_type _X*) (HW_DAC_BASEADDR+1))
                             6084 ; 966  |
                             6085 ; 967  |
                             6086 ; 968  |
                             6087 ; 969  |/////////////////////////////////////////////////////////////////////////////////
                             6088 ; 970  |//  DAC Word Count Register (HW_DACWCR) Bit Definitions
                             6089 ; 971  |#define HW_DACWCR_WCR_BITPOS 0
                             6090 ; 972  |
                             6091 ; 973  |#define HW_DACWCR_WCR_WIDTH (10)
                             6092 ; 974  |#define HW_DACWCR_RSVD_WIDTH (12)
                             6093 ; 975  |
                             6094 ; 976  |//HW_DACWCR_WCR_SETMASK                   equ     $3FF<<HW_DACWCR_WCR_BITPOS
                             6095 ; 977  |#define HW_DACWCR_WCR_SETMASK (((1<<HW_DACWCR_WCR_WIDTH)-1)<<HW_DACWCR_WCR_BITPOS)        
                                  
                             6096 ; 978  |
                             6097 ; 979  |#define HW_DACWCR_WCR_CLRMASK ~(WORD)HW_DACWCR_WCR_SETMASK
                             6098 ; 980  |
                             6099 ; 981  |typedef union               
                             6100 ; 982  |{
                             6101 ; 983  |    struct {
                             6102 ; 984  |        int WCR                         : HW_DACWCR_WCR_WIDTH;
                             6103 ; 985  |        int RSVD                        : HW_DACWCR_RSVD_WIDTH;
                             6104 ; 986  |    } B;
                             6105 ; 987  |    int I;
                             6106 ; 988  |    unsigned int U;
                             6107 ; 989  |} dac_wcr_type;
                             6108 ; 990  |#define HW_DACWCR      (*(volatile dac_wcr_type _X*) (HW_DAC_BASEADDR+2))
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  98

M:ADDR CODE           CYCLES LINE SOURCELINE
                             6109 ; 991  |
                             6110 ; 992  |
                             6111 ; 993  |
                             6112 ; 994  |/////////////////////////////////////////////////////////////////////////////////
                             6113 ; 995  |//  DAC Current Position Register (HW_DACCPR) Bit Definitions
                             6114 ; 996  |#define HW_DACCPR_CPR_BITPOS 0
                             6115 ; 997  |
                             6116 ; 998  |#define HW_DACCPR_CPR_WIDTH (10)
                             6117 ; 999  |#define HW_DACCPR_RSVD_WIDTH (14)
                             6118 ; 1000 |
                             6119 ; 1001 |//HW_DACCPR_CPR_SETMASK                   equ     $3FF<<HW_DACCPR_CPR_BITPOS
                             6120 ; 1002 |#define HW_DACCPR_CPR_SETMASK (((1<<HW_DACCPR_CPR_WIDTH)-1)<<HW_DACCPR_CPR_BITPOS)        
                                  
                             6121 ; 1003 |
                             6122 ; 1004 |#define HW_DACCPR_CPR_CLRMASK ~(WORD)HW_DACCPR_CPR_SETMASK
                             6123 ; 1005 |
                             6124 ; 1006 |typedef union               
                             6125 ; 1007 |{
                             6126 ; 1008 |    struct {
                             6127 ; 1009 |        int CPR                         : HW_DACCPR_CPR_WIDTH;
                             6128 ; 1010 |        int RSVD                        : HW_DACCPR_RSVD_WIDTH;
                             6129 ; 1011 |    } B;
                             6130 ; 1012 |    int I;
                             6131 ; 1013 |    unsigned int U;
                             6132 ; 1014 |} dac_cpr_type;
                             6133 ; 1015 |#define HW_DACCPR      (*(volatile dac_cpr_type _X*) (HW_DAC_BASEADDR+3))
                             6134 ; 1016 |
                             6135 ; 1017 |
                             6136 ; 1018 |
                             6137 ; 1019 |/////////////////////////////////////////////////////////////////////////////////
                             6138 ; 1020 |//  DAC Modulo Register (HW_DACMR) Bit Definitions
                             6139 ; 1021 |#define HW_DACMR_MR_BITPOS 0
                             6140 ; 1022 |#define HW_DACMR_MR_WIDTH (10)
                             6141 ; 1023 |#define HW_DACMR_RSVD_WIDTH (14)
                             6142 ; 1024 |
                             6143 ; 1025 |//HW_DACMR_MR_SETMASK                     equ     $3FF<<HW_DACMR_MR_BITPOS
                             6144 ; 1026 |#define HW_DACMR_MR_SETMASK (((1<<HW_DACMR_MR_WIDTH)-1)<<HW_DACMR_MR_BITPOS)        
                             6145 ; 1027 |
                             6146 ; 1028 |#define HW_DACMR_MR_CLRMASK ~(WORD)HW_DACMR_MR_SETMASK
                             6147 ; 1029 |
                             6148 ; 1030 |typedef union               
                             6149 ; 1031 |{
                             6150 ; 1032 |    struct {
                             6151 ; 1033 |        int MR                         : HW_DACMR_MR_WIDTH;
                             6152 ; 1034 |        int RSVD                       : HW_DACMR_RSVD_WIDTH;
                             6153 ; 1035 |    } B;
                             6154 ; 1036 |    int I;
                             6155 ; 1037 |    unsigned int U;
                             6156 ; 1038 |} dac_mr_type;
                             6157 ; 1039 |#define HW_DACMR      (*(volatile dac_mr_type _X*) (HW_DAC_BASEADDR+4))
                             6158 ; 1040 |
                             6159 ; 1041 |
                             6160 ; 1042 |
                             6161 ; 1043 |/////////////////////////////////////////////////////////////////////////////////
                             6162 ; 1044 |//   DAC Base Address Register (HW_DACBAR) Bit Definitions
                             6163 ; 1045 |#define HW_DACBAR_BAR_BITPOS 0
                             6164 ; 1046 |#define HW_DACBAR_BAR_WIDTH (16)
                             6165 ; 1047 |#define HW_DACBAR_RSVD_WIDTH (8)
                             6166 ; 1048 |
                             6167 ; 1049 |//HW_DACBAR_BAR_SETMASK                   equ     $FFFF<<HW_DACBAR_BAR_BITPOS
                             6168 ; 1050 |#define HW_DACBAR_BAR_SETMASK (((1<<HW_DACBAR_BAR_WIDTH)-1)<<HW_DACBAR_BAR_BITPOS)        
                                  
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  99

M:ADDR CODE           CYCLES LINE SOURCELINE
                             6169 ; 1051 |
                             6170 ; 1052 |#define HW_DACBAR_BAR_CLRMASK ~(WORD)HW_DACBAR_BAR_SETMASK
                             6171 ; 1053 |
                             6172 ; 1054 |typedef union               
                             6173 ; 1055 |{
                             6174 ; 1056 |    struct {
                             6175 ; 1057 |        int BAR                        : HW_DACBAR_BAR_WIDTH;
                             6176 ; 1058 |        int RSVD                       : HW_DACBAR_RSVD_WIDTH;
                             6177 ; 1059 |    } B;
                             6178 ; 1060 |    int I;
                             6179 ; 1061 |    unsigned int U;
                             6180 ; 1062 |} dac_bar_type;
                             6181 ; 1063 |#define HW_DACBAR      (*(volatile dac_bar_type _X*) (HW_DAC_BASEADDR+5))
                             6182 ; 1064 |
                             6183 ; 1065 |
                             6184 ; 1066 |
                             6185 ; 1067 |/////////////////////////////////////////////////////////////////////////////////
                             6186 ; 1068 |//  DAC Interrupt Control Register (HW_DACICR) Bit Definitions
                             6187 ; 1069 |#define HW_DACICR_IPT_BITPOS 0
                             6188 ; 1070 |
                             6189 ; 1071 |#define HW_DACICR_IPT_WIDTH (10)
                             6190 ; 1072 |#define HW_DACICR_RSVD_WIDTH (12)
                             6191 ; 1073 |
                             6192 ; 1074 |#define HW_DACICR_IPT_SETMASK (((1<<HW_DACICR_IPT_WIDTH)-1)<<HW_DACICR_IPT_BITPOS)        
                                  
                             6193 ; 1075 |
                             6194 ; 1076 |#define HW_DACICR_IPT_CLRMASK ~(WORD)HW_DACICR_IPT_SETMASK
                             6195 ; 1077 |
                             6196 ; 1078 |typedef union               
                             6197 ; 1079 |{
                             6198 ; 1080 |    struct {
                             6199 ; 1081 |        int IPT                         : HW_DACICR_IPT_WIDTH;
                             6200 ; 1082 |        int RSVD                        : HW_DACICR_RSVD_WIDTH;
                             6201 ; 1083 |    } B;
                             6202 ; 1084 |    int I;
                             6203 ; 1085 |    unsigned int U;
                             6204 ; 1086 |} dac_icr_type;
                             6205 ; 1087 |#define HW_DACICR      (*(volatile dac_icr_type _X*) (HW_DAC_BASEADDR+6))
                             6206 ; 1088 |
                             6207 ; 1089 |
                             6208 ; 1090 |
                             6209 ; 1091 |
                             6210 ; 1092 |
                             6211 ; 1093 |/////////////////////////////////////////////////////////////////////////////////
                             6212 ; 1094 |/////////////////////////////////////////////////////////////////////////////////
                             6213 ; 1095 |/////////////////////////////////////////////////////////////////////////////////
                             6214 ; 1096 |//////  ADC Registers
                             6215 ; 1097 |/////////////////////////////////////////////////////////////////////////////////
                             6216 ; 1098 |/////////////////////////////////////////////////////////////////////////////////
                             6217 ; 1099 |/////////////////////////////////////////////////////////////////////////////////
                             6218 ; 1100 |#define HW_ADC_BASEADDR 0xFB00
                             6219 ; 1101 |
                             6220 ; 1102 |
                             6221 ; 1103 |
                             6222 ; 1104 |/////////////////////////////////////////////////////////////////////////////////
                             6223 ; 1105 |//  ADC Control Status Register (HW_ADCCSR) Bit Definitions
                             6224 ; 1106 |#define HW_ADCCSR_TXEN_BITPOS 0
                             6225 ; 1107 |#define HW_ADCCSR_TXIEN_BITPOS 1
                             6226 ; 1108 |#define HW_ADCCSR_TXI_BITPOS 2
                             6227 ; 1109 |#define HW_ADCCSR_TXEXC_BITPOS 3
                             6228 ; 1110 |#define HW_ADCCSR_LPBK_BITPOS 4
                             6229 ; 1111 |#define HW_ADCCSR_DMASEL_BITPOS 5
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 100

M:ADDR CODE           CYCLES LINE SOURCELINE
                             6230 ; 1112 |#define HW_ADCCSR_LPFMODE_BITPOS 8
                             6231 ; 1113 |#define HW_ADCCSR_CLKGT_BITPOS 23
                             6232 ; 1114 |
                             6233 ; 1115 |#define HW_ADCCSR_TXEN_WIDTH (1)
                             6234 ; 1116 |#define HW_ADCCSR_TXIEN_WIDTH (1)
                             6235 ; 1117 |#define HW_ADCCSR_TXI_WIDTH (1)
                             6236 ; 1118 |#define HW_ADCCSR_TXEXC_WIDTH (1)
                             6237 ; 1119 |#define HW_ADCCSR_LPBK_WIDTH (1)
                             6238 ; 1120 |#define HW_ADCCSR_DMASEL_WIDTH (2)
                             6239 ; 1121 |#define HW_ADCCSR_RSVD1_WIDTH (1)
                             6240 ; 1122 |#define HW_ADCCSR_LPFMODE_WIDTH (4)
                             6241 ; 1123 |#define HW_ADCCSR_RSVD2_WIDTH (11)
                             6242 ; 1124 |#define HW_ADCCSR_CLKGT_WIDTH (1)
                             6243 ; 1125 |
                             6244 ; 1126 |#define HW_ADCCSR_TXEN_SETMASK 1<<HW_ADCCSR_TXEN_BITPOS
                             6245 ; 1127 |#define HW_ADCCSR_TXIEN_SETMASK 1<<HW_ADCCSR_TXIEN_BITPOS
                             6246 ; 1128 |#define HW_ADCCSR_TXI_SETMASK 1<<HW_ADCCSR_TXI_BITPOS
                             6247 ; 1129 |#define HW_ADCCSR_TXEXC_SETMASK 1<<HW_ADCCSR_TXEXC_BITPOS
                             6248 ; 1130 |#define HW_ADCCSR_LPBK_SETMASK 1<<HW_ADCCSR_LPBK_BITPOS
                             6249 ; 1131 |#define HW_ADCCSR_DMASEL_SETMASK (((1<<HW_ADCCSR_DMASEL_WIDTH)-1)<<HW_ADCCSR_DMASEL_BITPOS
                                  )        
                             6250 ; 1132 |#define HW_ADCCSR_LPFMODE_SETMASK (((1<<HW_ADCCSR_LPFMODE_WIDTH)-1)<<HW_ADCCSR_LPFMODE_BIT
                                  POS)        
                             6251 ; 1133 |#define HW_ADCCSR_CLKGT_SETMASK 1<<HW_ADCCSR_CLKGT_BITPOS
                             6252 ; 1134 |
                             6253 ; 1135 |#define HW_ADCCSR_TXEN_CLRMASK ~(WORD)HW_ADCCSR_TXEN_SETMASK
                             6254 ; 1136 |#define HW_ADCCSR_TXIEN_CLRMASK ~(WORD)HW_ADCCSR_TXIEN_SETMASK
                             6255 ; 1137 |#define HW_ADCCSR_TXI_CLRMASK ~(WORD)HW_ADCCSR_TXI_SETMASK
                             6256 ; 1138 |#define HW_ADCCSR_TXEXC_CLRMASK ~(WORD)HW_ADCCSR_TXEXC_SETMASK
                             6257 ; 1139 |#define HW_ADCCSR_LPBK_CLRMASK ~(WORD)HW_ADCCSR_LPBK_SETMASK
                             6258 ; 1140 |#define HW_ADCCSR_DMASEL_CLRMASK ~(WORD)HW_ADCCSR_DMASEL_SETMASK
                             6259 ; 1141 |#define HW_ADCCSR_LPFMODE_CLRMASK ~(WORD)HW_ADCCSR_LPFMODE_SETMASK
                             6260 ; 1142 |#define HW_ADCCSR_CLKGT_CLRMASK ~(WORD)HW_ADCCSR_CLKGT_SETMASK
                             6261 ; 1143 |
                             6262 ; 1144 |typedef union               
                             6263 ; 1145 |{
                             6264 ; 1146 |    struct {
                             6265 ; 1147 |        int TXEN                        : HW_ADCCSR_TXEN_WIDTH;
                             6266 ; 1148 |        int TXIEN                       : HW_ADCCSR_TXIEN_WIDTH;
                             6267 ; 1149 |        int TXI                         : HW_ADCCSR_TXI_WIDTH;
                             6268 ; 1150 |        int TXEXC                       : HW_ADCCSR_TXEXC_WIDTH;
                             6269 ; 1151 |        int LPBK                        : HW_ADCCSR_LPBK_WIDTH;
                             6270 ; 1152 |        int RSVD1                       : HW_ADCCSR_RSVD1_WIDTH;
                             6271 ; 1153 |        int DMASEL                      : HW_ADCCSR_DMASEL_WIDTH;
                             6272 ; 1154 |        int LPFMODE                     : HW_ADCCSR_LPFMODE_WIDTH;
                             6273 ; 1155 |        int RSVD2                       : HW_ADCCSR_RSVD2_WIDTH;
                             6274 ; 1156 |        int CLKGT                       : HW_ADCCSR_CLKGT_WIDTH;
                             6275 ; 1157 |    } B;
                             6276 ; 1158 |    int I;
                             6277 ; 1159 |    unsigned int U;
                             6278 ; 1160 |} adc_csr_type;
                             6279 ; 1161 |#define HW_ADCCSR (*(volatile adc_csr_type _X*) (HW_ADC_BASEADDR+0))
                             6280 ; 1162 |
                             6281 ; 1163 |
                             6282 ; 1164 |/////////////////////////////////////////////////////////////////////////////////
                             6283 ; 1165 |//  ADC Word Count Register (HW_ADCWCR) Bit Definitions
                             6284 ; 1166 |#define HW_ADCWCR_WCR_BITPOS 0
                             6285 ; 1167 |
                             6286 ; 1168 |#define HW_ADCWCR_WCR_WIDTH (10)
                             6287 ; 1169 |#define HW_ADCWCR_RSVD_WIDTH (14)
                             6288 ; 1170 |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 101

M:ADDR CODE           CYCLES LINE SOURCELINE
                             6289 ; 1171 |#define HW_ADCWCR_WCR_SETMASK (((1<<HW_ADCWCR_WCR_WIDTH)-1)<<HW_ADCWCR_WCR_BITPOS)        
                                  
                             6290 ; 1172 |
                             6291 ; 1173 |#define HW_ADCWCR_WCR_CLRMASK ~(WORD)HW_ADCWCR_WCR_SETMASK
                             6292 ; 1174 |
                             6293 ; 1175 |typedef union               
                             6294 ; 1176 |{
                             6295 ; 1177 |    struct {
                             6296 ; 1178 |        int WCR                         : HW_ADCWCR_WCR_WIDTH;
                             6297 ; 1179 |        int RSVD                        : HW_ADCWCR_RSVD_WIDTH;
                             6298 ; 1180 |    } B;
                             6299 ; 1181 |    int I;
                             6300 ; 1182 |    unsigned int U;
                             6301 ; 1183 |} adc_wcr_type;
                             6302 ; 1184 |#define HW_ADCWCR (*(volatile adc_wcr_type _X*) (HW_ADC_BASEADDR+2))
                             6303 ; 1185 |
                             6304 ; 1186 |
                             6305 ; 1187 |
                             6306 ; 1188 |/////////////////////////////////////////////////////////////////////////////////
                             6307 ; 1189 |//   ADC Base Address Register (HW_ADCBAR) Bit Definitions
                             6308 ; 1190 |#define HW_ADCBAR_BAR_BITPOS 0
                             6309 ; 1191 |#define HW_ADCBAR_BAR_WIDTH (16)
                             6310 ; 1192 |#define HW_ADCBAR_RSVD_WIDTH (8)
                             6311 ; 1193 |
                             6312 ; 1194 |//HW_ADCBAR_BAR_SETMASK                   equ     $FFFF<<HW_ADCBAR_BAR_BITPOS
                             6313 ; 1195 |#define HW_ADCBAR_BAR_SETMASK (((1<<HW_ADCBAR_BAR_WIDTH)-1)<<HW_ADCBAR_BAR_BITPOS)        
                                  
                             6314 ; 1196 |
                             6315 ; 1197 |#define HW_ADCBAR_BAR_CLRMASK ~(WORD)HW_ADCBAR_BAR_SETMASK
                             6316 ; 1198 |
                             6317 ; 1199 |typedef union               
                             6318 ; 1200 |{
                             6319 ; 1201 |    struct {
                             6320 ; 1202 |        int BAR                        : HW_ADCBAR_BAR_WIDTH;
                             6321 ; 1203 |        int RSVD                       : HW_ADCBAR_RSVD_WIDTH;
                             6322 ; 1204 |    } B;
                             6323 ; 1205 |    int I;
                             6324 ; 1206 |    unsigned int U;
                             6325 ; 1207 |} adc_bar_type;
                             6326 ; 1208 |#define HW_ADCBAR (*(volatile adc_bar_type _X*) (HW_ADC_BASEADDR+5))
                             6327 ; 1209 |
                             6328 ; 1210 |
                             6329 ; 1211 |
                             6330 ; 1212 |
                             6331 ; 1213 |
                             6332 ; 1214 |/////////////////////////////////////////////////////////////////////////////////
                             6333 ; 1215 |//  DAC Current Position Register (HW_ADCCPR) Bit Definitions
                             6334 ; 1216 |#define HW_ADCCPR_CPR_BITPOS 0
                             6335 ; 1217 |
                             6336 ; 1218 |#define HW_ADCCPR_CPR_WIDTH (10)
                             6337 ; 1219 |#define HW_ADCCPR_RSVD_WIDTH (14)
                             6338 ; 1220 |
                             6339 ; 1221 |#define HW_ADCCPR_CPR_SETMASK (((1<<HW_ADCCPR_CPR_WIDTH)-1)<<HW_ADCCPR_CPR_BITPOS)        
                                  
                             6340 ; 1222 |
                             6341 ; 1223 |#define HW_ADCCPR_CPR_CLRMASK ~(WORD)HW_ADCCPR_CPR_SETMASK
                             6342 ; 1224 |
                             6343 ; 1225 |typedef union               
                             6344 ; 1226 |{
                             6345 ; 1227 |    struct {
                             6346 ; 1228 |        int CPR                         : HW_ADCCPR_CPR_WIDTH;
                             6347 ; 1229 |        int RSVD                        : HW_ADCCPR_RSVD_WIDTH;
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 102

M:ADDR CODE           CYCLES LINE SOURCELINE
                             6348 ; 1230 |    } B;
                             6349 ; 1231 |    int I;
                             6350 ; 1232 |    unsigned int U;
                             6351 ; 1233 |} adc_cpr_type;
                             6352 ; 1234 |#define HW_ADCCPR (*(volatile adc_cpr_type _X*) (HW_ADC_BASEADDR+3))
                             6353 ; 1235 |
                             6354 ; 1236 |
                             6355 ; 1237 |/////////////////////////////////////////////////////////////////////////////////
                             6356 ; 1238 |//  ADC Modulo Register (HW_ADCMR) Bit Definitions
                             6357 ; 1239 |#define HW_ADCMR_MR_BITPOS 0
                             6358 ; 1240 |#define HW_ADCMR_MR_WIDTH (10)
                             6359 ; 1241 |#define HW_ADCMR_RSVD_WIDTH (14)
                             6360 ; 1242 |
                             6361 ; 1243 |//HW_ADCMR_MR_SETMASK                     equ     $3FF<<HW_ADCMR_MR_BITPOS
                             6362 ; 1244 |#define HW_ADCMR_MR_SETMASK (((1<<HW_ADCMR_MR_WIDTH)-1)<<HW_ADCMR_MR_BITPOS)        
                             6363 ; 1245 |
                             6364 ; 1246 |#define HW_ADCMR_MR_CLRMASK ~(WORD)HW_ADCMR_MR_SETMASK
                             6365 ; 1247 |
                             6366 ; 1248 |typedef union               
                             6367 ; 1249 |{
                             6368 ; 1250 |    struct {
                             6369 ; 1251 |        int MR                         : HW_ADCMR_MR_WIDTH;
                             6370 ; 1252 |        int RSVD                       : HW_ADCMR_RSVD_WIDTH;
                             6371 ; 1253 |    } B;
                             6372 ; 1254 |    int I;
                             6373 ; 1255 |    unsigned int U;
                             6374 ; 1256 |} adc_mr_type;
                             6375 ; 1257 |#define HW_ADCMR (*(volatile adc_mr_type _X*) (HW_ADC_BASEADDR+4))
                             6376 ; 1258 |
                             6377 ; 1259 |/////////////////////////////////////////////////////////////////////////////////
                             6378 ; 1260 |//  ADC Sample Rate Register (HW_ADCSRR) Bit Definitions
                             6379 ; 1261 |#define HW_ADCSRR_SR_BITPOS 0
                             6380 ; 1262 |
                             6381 ; 1263 |#define HW_ADCSRR_SR_WIDTH (23)
                             6382 ; 1264 |#define HW_ADCSRR_RSVD_WIDTH (1)
                             6383 ; 1265 |
                             6384 ; 1266 |//HW_ADCSRR_SR_SETMASK                    equ     $FFFFFF<<HW_ADCSRR_SR_BITPOS
                             6385 ; 1267 |#define HW_ADCSRR_SR_SETMASK (((1<<HW_ADCSRR_SR_WIDTH)-1)<<HW_ADCSRR_SR_BITPOS)        
                             6386 ; 1268 |
                             6387 ; 1269 |#define HW_ADCSRR_SR_CLRMASK ~(WORD)HW_ADCSRR_SR_SETMASK
                             6388 ; 1270 |
                             6389 ; 1271 |typedef union               
                             6390 ; 1272 |{
                             6391 ; 1273 |    struct {
                             6392 ; 1274 |        int SR                          : HW_ADCSRR_SR_WIDTH;
                             6393 ; 1275 |        int RSVD                        : HW_ADCSRR_RSVD_WIDTH;
                             6394 ; 1276 |    } B;
                             6395 ; 1277 |    int I;
                             6396 ; 1278 |    unsigned int U;
                             6397 ; 1279 |} adc_srr_type;
                             6398 ; 1280 |#define HW_ADCSRR (*(volatile adc_srr_type _X*) (HW_ADC_BASEADDR+1))
                             6399 ; 1281 |
                             6400 ; 1282 |/////////////////////////////////////////////////////////////////////////////////
                             6401 ; 1283 |//  ADC Interrupt Control Register (HW_ADCICR) Bit Definitions
                             6402 ; 1284 |#define HW_ADCICR_IPT_BITPOS 0
                             6403 ; 1285 |
                             6404 ; 1286 |#define HW_ADCICR_IPT_WIDTH (10)
                             6405 ; 1287 |#define HW_ADCICR_RSVD_WIDTH (12)
                             6406 ; 1288 |
                             6407 ; 1289 |#define HW_ADCICR_IPT_SETMASK (((1<<HW_ADCICR_IPT_WIDTH)-1)<<HW_ADCICR_IPT_BITPOS)        
                                  
                             6408 ; 1290 |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 103

M:ADDR CODE           CYCLES LINE SOURCELINE
                             6409 ; 1291 |#define HW_ADCICR_IPT_CLRMASK ~(WORD)HW_ADCICR_IPT_SETMASK
                             6410 ; 1292 |
                             6411 ; 1293 |typedef union               
                             6412 ; 1294 |{
                             6413 ; 1295 |    struct {
                             6414 ; 1296 |        int IPT                         : HW_ADCICR_IPT_WIDTH;
                             6415 ; 1297 |        int RSVD                        : HW_ADCICR_RSVD_WIDTH;
                             6416 ; 1298 |    } B;
                             6417 ; 1299 |    int I;
                             6418 ; 1300 |    unsigned int U;
                             6419 ; 1301 |} adc_icr_type;
                             6420 ; 1302 |#define HW_ADCICR (*(volatile adc_icr_type _X*) (HW_ADC_BASEADDR+6))
                             6421 ; 1303 |
                             6422 ; 1304 |//*********************  REGISTER ALIAS DEFINES TO MATCH LEGACY CODE *********************
                                  **********
                             6423 ; 1305 |// The following defines were added to match regs3410.inc definition to build SDK2XXX code
                                   without needing 
                             6424 ; 1306 |// to update the actual files. Only the defines needed to build SDK2.400 were added.
                             6425 ; 1307 |
                             6426 ; 1308 |#define HW_MIXTBR_PW_ADC_RIGHT_CH_BITPOS 16
                             6427 ; 1309 |
                             6428 ; 1310 |#define HW_MIXLINE1INVR_GN_ZERO_SETMASK 0x808
                             6429 ; 1311 |
                             6430 ; 1312 |#endif
                             6431 ; 1313 |
                             6432 
                             6434 
                             6435 ; 20   |#include "regsdcdc.h"
                             6436 
                             6438 
                             6439 ; 1    |#if !(defined(regsdcdcinc))
                             6440 ; 2    |
                             6441 ; 3    |#define regssysteminc 1
                             6442 ; 4    |
                             6443 ; 5    |
                             6444 ; 6    |
                             6445 ; 7    |#include "types.h"
                             6446 
                             6448 
                             6449 ; 1    |////////////////////////////////////////////////////////////////////////////////
                             6450 ; 2    |// Copyright(C) SigmaTel, Inc. 2000-2004
                             6451 ; 3    |//
                             6452 ; 4    |// Filename: types.h
                             6453 ; 5    |// Description: Standard data types
                             6454 ; 6    |////////////////////////////////////////////////////////////////////////////////
                             6455 ; 7    |
                             6456 ; 8    |#ifndef _TYPES_H
                             6457 ; 9    |#define _TYPES_H
                             6458 ; 10   |
                             6459 ; 11   |// TODO:  move this outta here!
                             6460 ; 12   |#if !defined(NOERROR)
                             6461 ; 13   |#define NOERROR 0
                             6462 ; 14   |#define SUCCESS 0
                             6463 ; 15   |#endif 
                             6464 ; 16   |#if !defined(SUCCESS)
                             6465 ; 17   |#define SUCCESS  0
                             6466 ; 18   |#endif
                             6467 ; 19   |#if !defined(ERROR)
                             6468 ; 20   |#define ERROR   -1
                             6469 ; 21   |#endif
                             6470 ; 22   |#if !defined(FALSE)
                             6471 ; 23   |#define FALSE 0
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 104

M:ADDR CODE           CYCLES LINE SOURCELINE
                             6472 ; 24   |#endif
                             6473 ; 25   |#if !defined(TRUE)
                             6474 ; 26   |#define TRUE  1
                             6475 ; 27   |#endif
                             6476 ; 28   |
                             6477 ; 29   |#if !defined(NULL)
                             6478 ; 30   |#define NULL 0
                             6479 ; 31   |#endif
                             6480 ; 32   |
                             6481 ; 33   |#define MAX_INT     0x7FFFFF
                             6482 ; 34   |#define MAX_LONG    0x7FFFFFffffff
                             6483 ; 35   |        // max positive unsigned long value: -1 == 0xFFFFFFffffff
                             6484 ; 36   |#define MAX_ULONG   (-1) 
                             6485 ; 37   |
                             6486 ; 38   |#define WORD_SIZE   24              // word size in bits
                             6487 ; 39   |#define BYTES_PER_WORD 3            // 8 bit bytes
                             6488 ; 40   |
                             6489 ; 41   |
                             6490 ; 42   |#define BYTE    unsigned char       // btVarName
                             6491 ; 43   |#define CHAR    signed char         // cVarName
                             6492 ; 44   |#define USHORT  unsigned short      // usVarName
                             6493 ; 45   |#define SHORT   unsigned short      // sVarName
                             6494 ; 46   |#define WORD    unsigned int        // wVarName
                             6495 ; 47   |#define INT     signed int          // iVarName
                             6496 ; 48   |#define DWORD   unsigned long       // dwVarName
                             6497 ; 49   |#define LONG    signed long         // lVarName
                             6498 ; 50   |#define BOOL    unsigned int        // bVarName
                             6499 ; 51   |#define FRACT   _fract              // frVarName
                             6500 ; 52   |#define LFRACT  long _fract         // lfrVarName
                             6501 ; 53   |#define CIRC    _circ               // cp<type prefix>VarName (see below)
                             6502 ; 54   |#define FLOAT   float               // fVarName
                             6503 ; 55   |#define DBL     double              // dVarName
                             6504 ; 56   |#define ENUM    enum                // eVarName
                             6505 ; 57   |#define CMX     _complex            // cmxVarName
                             6506 ; 58   |typedef WORD UCS3;                   // 
                             6507 ; 59   |
                             6508 ; 60   |#define UINT16  unsigned short
                             6509 ; 61   |#define UINT8   unsigned char   
                             6510 ; 62   |#define UINT32  unsigned long
                             6511 ; 63   |#define UINT64  unsigned long   // need to figure out how to do 64 bit values.  Or port ex
                                  isiting code to only use 48 bit
                             6512 ; 64   |#define INT64   unsigned long   // need to figure out how to do 64 bit values.  Or port ex
                                  isiting code to only use 48 bit
                             6513 ; 65   |#define WCHAR   UINT16
                             6514 ; 66   |
                             6515 ; 67   |//UINT128 is 16 bytes or 6 words
                             6516 ; 68   |typedef struct UINT128_3500 {   
                             6517 ; 69   |    int val[6];     
                             6518 ; 70   |} UINT128_3500;
                             6519 ; 71   |
                             6520 ; 72   |#define UINT128   UINT128_3500
                             6521 ; 73   |
                             6522 ; 74   |// Little endian word packed byte strings:   
                             6523 ; 75   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                             6524 ; 76   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                             6525 ; 77   |// Little endian word packed byte strings:   
                             6526 ; 78   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                             6527 ; 79   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                             6528 ; 80   |
                             6529 ; 81   |// Declare Memory Spaces To Use When Coding
                             6530 ; 82   |// A. Sector Buffers
                             6531 ; 83   |#define SECTOR_BUFFER_MEM_X _X
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 105

M:ADDR CODE           CYCLES LINE SOURCELINE
                             6532 ; 84   |#define SECTOR_BUFFER_MEM_Y _Y
                             6533 ; 85   |#define SECTOR_BUFFER_MEM SECTOR_BUFFER_MEM_X
                             6534 ; 86   |typedef WORD SECTOR_BUFFER_MEM SECTOR_BUFFER;
                             6535 ; 87   |typedef SECTOR_BUFFER * P_SECTOR_BUFFER;
                             6536 ; 88   |// B. Media DDI Memory
                             6537 ; 89   |#define MEDIA_DDI_MEM _Y
                             6538 ; 90   |
                             6539 ; 91   |
                             6540 ; 92   |
                             6541 ; 93   |// Pointers to linear structures are labeled as: p<type prefix>VarName
                             6542 ; 94   |// Examples of circular pointers:
                             6543 ; 95   |//    INT CIRC cpiVarName
                             6544 ; 96   |//    DWORD CIRC cpdwVarName
                             6545 ; 97   |
                             6546 ; 98   |#define RETCODE INT                 // rcVarName
                             6547 ; 99   |
                             6548 ; 100  |// generic bitfield structure
                             6549 ; 101  |struct Bitfield {
                             6550 ; 102  |    unsigned int B0  :1;
                             6551 ; 103  |    unsigned int B1  :1;
                             6552 ; 104  |    unsigned int B2  :1;
                             6553 ; 105  |    unsigned int B3  :1;
                             6554 ; 106  |    unsigned int B4  :1;
                             6555 ; 107  |    unsigned int B5  :1;
                             6556 ; 108  |    unsigned int B6  :1;
                             6557 ; 109  |    unsigned int B7  :1;
                             6558 ; 110  |    unsigned int B8  :1;
                             6559 ; 111  |    unsigned int B9  :1;
                             6560 ; 112  |    unsigned int B10 :1;
                             6561 ; 113  |    unsigned int B11 :1;
                             6562 ; 114  |    unsigned int B12 :1;
                             6563 ; 115  |    unsigned int B13 :1;
                             6564 ; 116  |    unsigned int B14 :1;
                             6565 ; 117  |    unsigned int B15 :1;
                             6566 ; 118  |    unsigned int B16 :1;
                             6567 ; 119  |    unsigned int B17 :1;
                             6568 ; 120  |    unsigned int B18 :1;
                             6569 ; 121  |    unsigned int B19 :1;
                             6570 ; 122  |    unsigned int B20 :1;
                             6571 ; 123  |    unsigned int B21 :1;
                             6572 ; 124  |    unsigned int B22 :1;
                             6573 ; 125  |    unsigned int B23 :1;
                             6574 ; 126  |};
                             6575 ; 127  |
                             6576 ; 128  |union BitInt {
                             6577 ; 129  |        struct Bitfield B;
                             6578 ; 130  |        int        I;
                             6579 ; 131  |};
                             6580 ; 132  |
                             6581 ; 133  |#define MAX_MSG_LENGTH 10
                             6582 ; 134  |struct CMessage
                             6583 ; 135  |{
                             6584 ; 136  |        unsigned int m_uLength;
                             6585 ; 137  |        unsigned int m_uMsg[MAX_MSG_LENGTH];
                             6586 ; 138  |};
                             6587 ; 139  |
                             6588 ; 140  |typedef struct {
                             6589 ; 141  |    WORD m_wLength;
                             6590 ; 142  |    WORD m_wMessage;
                             6591 ; 143  |    WORD m_wParams[MAX_MSG_LENGTH];
                             6592 ; 144  |} Message;
                             6593 ; 145  |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 106

M:ADDR CODE           CYCLES LINE SOURCELINE
                             6594 ; 146  |struct MessageQueueDescriptor
                             6595 ; 147  |{
                             6596 ; 148  |        int *m_pBase;
                             6597 ; 149  |        int m_iModulo;
                             6598 ; 150  |        int m_iSize;
                             6599 ; 151  |        int *m_pHead;
                             6600 ; 152  |        int *m_pTail;
                             6601 ; 153  |};
                             6602 ; 154  |
                             6603 ; 155  |struct ModuleEntry
                             6604 ; 156  |{
                             6605 ; 157  |    int m_iSignaledEventMask;
                             6606 ; 158  |    int m_iWaitEventMask;
                             6607 ; 159  |    int m_iResourceOfCode;
                             6608 ; 160  |    struct MessageQueueDescriptor *m_pMessageQueue;
                             6609 ; 161  |    int _asmfunc (*m_pProcessEntryPoint)(union WaitMask Signals,struct MessageQueueDescrip
                                  tor *);
                             6610 ; 162  |    int _asmfunc (*m_pInitFunction)(struct MessageQueueDescriptor *);
                             6611 ; 163  |    int m_uTimeOutHigh;
                             6612 ; 164  |    int m_uTimeOutLow;
                             6613 ; 165  |    int _asmfunc (*m_pBackgroundFunction)(struct MessageQueueDescriptor *);
                             6614 ; 166  |};
                             6615 ; 167  |
                             6616 ; 168  |union WaitMask{
                             6617 ; 169  |    struct B{
                             6618 ; 170  |        unsigned int m_bNone     :1;
                             6619 ; 171  |        unsigned int m_bMessage  :1;
                             6620 ; 172  |        unsigned int m_bTimer    :1;
                             6621 ; 173  |        unsigned int m_bButton   :1;
                             6622 ; 174  |    } B;
                             6623 ; 175  |    int I;
                             6624 ; 176  |} ;
                             6625 ; 177  |
                             6626 ; 178  |
                             6627 ; 179  |struct Button {
                             6628 ; 180  |        WORD wButtonEvent;
                             6629 ; 181  |        WORD wUnused[MAX_MSG_LENGTH];   
                             6630 ; 182  |};
                             6631 ; 183  |
                             6632 ; 184  |struct Message {
                             6633 ; 185  |        WORD wMsgLength;
                             6634 ; 186  |        WORD wMsgCommand;
                             6635 ; 187  |        WORD wMsgParms[MAX_MSG_LENGTH-1];
                             6636 ; 188  |};
                             6637 ; 189  |
                             6638 ; 190  |union EventTypes {
                             6639 ; 191  |        struct CMessage msg;
                             6640 ; 192  |        struct Button Button ;
                             6641 ; 193  |        struct Message Message;
                             6642 ; 194  |};
                             6643 ; 195  |
                             6644 ; 196  |// next 2 used to get updater build to return correct protocol ver in scsi response.
                             6645 ; 197  |#define BUILD_TYPE_UPDATER  0x100
                             6646 ; 198  |#define BUILD_TYPE_HOSTLINK 0x101
                             6647 ; 199  |#define BUILD_TYPE_PLAYER   0x102
                             6648 ; 200  |
                             6649 ; 201  |// Resets part if RETAIL build. DEBUG build executes debug instruction to halt.
                             6650 ; 202  |#define SystemHalt() __asm(" include 'sysmacro.asm' \n error") 
                             6651 ; 203  |#define assert(x)    if(!(x)) __asm(" include 'sysmacro.asm' \n error")
                             6652 ; 204  |
                             6653 ; 205  |#if DEBUG
                             6654 ; 206  |// For DEBUG builds, DebugBuildAssert(condition) halts if condition evaluates to FALSE. 
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 107

M:ADDR CODE           CYCLES LINE SOURCELINE
                             6655 ; 207  |#define DebugBuildAssert(x)    if(!(x)) __asm(" debug ")
                             6656 ; 208  |#else 
                             6657 ; 209  |// For RETAIL builds, DebugBuildAssert(condition) does nothing & execution continues rathe
                                  r than halt or reset. 
                             6658 ; 210  |#define DebugBuildAssert(x)    
                             6659 ; 211  |#endif
                             6660 ; 212  |
                             6661 ; 213  |// Do this in your C files to make a reminder that's displayed during the build.
                             6662 ; 214  |//  #pragma asm
                             6663 ; 215  |//  WARN 'Note to builder: reminder to do this after verifying that'
                             6664 ; 216  |//  #pragma endasm
                             6665 ; 217  |
                             6666 ; 218  |
                             6667 ; 219  |#ifdef COLOR_262K
                             6668 ; 220  |#define RGB(r,g,b)    ((0x0000FC & (r)) << 10) | ((0x0000FC & (g)) << 4) | ((0x0000FC & (b
                                  )) >> 2)    //262k
                             6669 ; 221  |#elif defined(COLOR_65K)
                             6670 ; 222  |#define RGB(r,g,b)    ((0x0000F8 & (r)) << 8) | ((0x0000FC & (g)) << 3) | ((0x0000F8 & (b)
                                  ) >> 3)  //65k
                             6671 ; 223  |#else
                             6672 ; 224  |#define RGB(r,g,b)       ((0x0000F0 & (r)) << 4) | (0x0000F0 & (g)) | ((0x0000F0 & (b)) >>
                                   4)
                             6673 ; 225  |#endif
                             6674 ; 226  |    
                             6675 ; 227  |#endif // #ifndef _TYPES_H
                             6676 
                             6678 
                             6679 ; 8    |
                             6680 ; 9    |
                             6681 ; 10   |
                             6682 ; 11   |//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                             6683 ; 12   |
                             6684 ; 13   |//   SYSTEM STMP Registers 
                             6685 ; 14   |//      Last Edited 2.19.2003 M. May
                             6686 ; 15   |//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                             6687 ; 16   |
                             6688 ; 17   |#define HW_DCDC_BASEADDR (0xFA0C)
                             6689 ; 18   |
                             6690 ; 19   |
                             6691 ; 20   |
                             6692 ; 21   |
                             6693 ; 22   |
                             6694 ; 23   |
                             6695 ; 24   |/////////////////////////////////////////////////////////////////////////////////
                             6696 ; 25   |
                             6697 ; 26   |//  DcDc#1 Control Register (HW_DCDC1_CTRL0) Bit Definitions
                             6698 ; 27   |
                             6699 ; 28   |#define HW_DCDC1_CTRL0_PLEVBU_WIDTH (5)
                             6700 ; 29   |#define HW_DCDC1_CTRL0_RSVD0_WIDTH (3)
                             6701 ; 30   |#define HW_DCDC1_CTRL0_PLEVBO_WIDTH (5)
                             6702 ; 31   |#define HW_DCDC1_CTRL0_RSVD1_WIDTH (3)
                             6703 ; 32   |#define HW_DCDC1_CTRL0_NLEV_WIDTH (5)
                             6704 ; 33   |
                             6705 ; 34   |#define HW_DCDC1_CTRL0_RSVD2_WIDTH (3)
                             6706 ; 35   |
                             6707 ; 36   |
                             6708 ; 37   |
                             6709 ; 38   |#define HW_DCDC1_CTRL0_PLEVBU_BITPOS (0)
                             6710 ; 39   |#define HW_DCDC1_CTRL0_PLEVBO_BITPOS (8)
                             6711 ; 40   |#define HW_DCDC1_CTRL0_NLEV_BITPOS (16)
                             6712 ; 41   |
                             6713 ; 42   |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 108

M:ADDR CODE           CYCLES LINE SOURCELINE
                             6714 ; 43   |
                             6715 ; 44   |#define HW_DCDC1_CTRL0_PLEVBU_SETMASK (((1<<HW_DCDC1_CTRL0_PLEVBU_WIDTH)-1)<<HW_DCDC1_CTRL
                                  0_PLEVBU_BITPOS)        
                             6716 ; 45   |#define HW_DCDC1_CTRL0_PLEVBO_SETMASK (((1<<HW_DCDC1_CTRL0_PLEVBO_WIDTH)-1)<<HW_DCDC1_CTRL
                                  0_PLEVBO_BITPOS) 
                             6717 ; 46   |#define HW_DCDC1_CTRL0_NLEV_SETMASK (((1<<HW_DCDC1_CTRL0_NLEV_WIDTH)-1)<<HW_DCDC1_CTRL0_NL
                                  EV_BITPOS)  
                             6718 ; 47   |
                             6719 ; 48   |
                             6720 ; 49   |
                             6721 ; 50   |#define HW_DCDC1_CTRL0_PLEVBU_CLRMASK (~(WORD)HW_DCDC1_CTRL0_PLEVBU_SETMASK)     
                             6722 ; 51   |#define HW_DCDC1_CTRL0_PLEVBO_CLRMASK (~(WORD)HW_DCDC1_CTRL0_PLEVBO_SETMASK) 
                             6723 ; 52   |#define HW_DCDC1_CTRL0_NLEV_CLRMASK (~(WORD)HW_DCDC1_CTRL0_NLEV_SETMASK)  
                             6724 ; 53   |
                             6725 ; 54   |
                             6726 ; 55   |
                             6727 ; 56   |
                             6728 ; 57   |
                             6729 ; 58   |typedef union               
                             6730 ; 59   |{
                             6731 ; 60   |    struct {
                             6732 ; 61   |        unsigned int PLEVBU           : HW_DCDC1_CTRL0_PLEVBU_WIDTH;
                             6733 ; 62   |        unsigned int RSVD0            : HW_DCDC1_CTRL0_RSVD0_WIDTH;
                             6734 ; 63   |        unsigned int PLEVBO           : HW_DCDC1_CTRL0_PLEVBO_WIDTH;
                             6735 ; 64   |        unsigned int RSVD1            : HW_DCDC1_CTRL0_RSVD1_WIDTH;
                             6736 ; 65   |        unsigned int NLEV             : HW_DCDC1_CTRL0_NLEV_WIDTH;
                             6737 ; 66   |        unsigned int RSVD2            : HW_DCDC1_CTRL0_RSVD2_WIDTH;
                             6738 ; 67   |    } B;
                             6739 ; 68   |    unsigned int I;
                             6740 ; 69   |} dcdc1_ctrl0_type;
                             6741 ; 70   |#define HW_DCDC1_CTRL0      (*(volatile dcdc1_ctrl0_type _X*) (HW_DCDC_BASEADDR))    /* Dc
                                  Dc#1 Limit Level Register */
                             6742 ; 71   |
                             6743 ; 72   |
                             6744 ; 73   |
                             6745 ; 74   |
                             6746 ; 75   |/////////////////////////////////////////////////////////////////////////////////
                             6747 ; 76   |
                             6748 ; 77   |//  DCDc#1 Control Register1 (HW_DCDC1_CTRL1) Bit Definitions
                             6749 ; 78   |
                             6750 ; 79   |#define HW_DCDC1_CTRL1_C_WIDTH (4)
                             6751 ; 80   |#define HW_DCDC1_CTRL1_R_WIDTH (4)
                             6752 ; 81   |#define HW_DCDC1_CTRL1_FFOR_WIDTH (3)
                             6753 ; 82   |#define HW_DCDC1_CTRL1_RSVD0_WIDTH (1)
                             6754 ; 83   |#define HW_DCDC1_CTRL1_PFMCTRL_WIDTH (12)
                             6755 ; 84   |
                             6756 ; 85   |
                             6757 ; 86   |
                             6758 ; 87   |#define HW_DCDC1_CTRL1_C_BITPOS (0)
                             6759 ; 88   |#define HW_DCDC1_CTRL1_R_BITPOS (4)
                             6760 ; 89   |#define HW_DCDC1_CTRL1_FFOR_BITPOS (8)
                             6761 ; 90   |#define HW_DCDC1_CTRL1_PFMCTRL_BITPOS (12) 
                             6762 ; 91   |
                             6763 ; 92   |#define HW_DCDC1_CTRL1_C_SETMASK (((1<<HW_DCDC1_CTRL1_C_WIDTH)-1)<<HW_DCDC1_CTRL1_C_BITPOS
                                  )        
                             6764 ; 93   |#define HW_DCDC1_CTRL1_R_SETMASK (((1<<HW_DCDC1_CTRL1_R_WIDTH)-1)<<HW_DCDC1_CTRL1_R_BITPOS
                                  ) 
                             6765 ; 94   |#define HW_DCDC1_CTRL1_FFOR_SETMASK (((1<<HW_DCDC1_CTRL1_FFOR_WIDTH)-1)<<HW_DCDC1_CTRL1_FF
                                  OR_BITPOS)  
                             6766 ; 95   |#define HW_DCDC1_CTRL1_PFMCTRL_SETMASK (((1<<HW_DCDC1_CTRL1_PFMCTRL_WIDTH)-1)<<HW_DCDC1_CT
                                  RL1_PFMCTRL_BITPOS)   
                             6767 ; 96   |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 109

M:ADDR CODE           CYCLES LINE SOURCELINE
                             6768 ; 97   |#define HW_DCDC1_CTRL1_C_CLRMASK (~(WORD)HW_DCDC1_CTRL1_C_SETMASK)     
                             6769 ; 98   |#define HW_DCDC1_CTRL1_R_CLRMASK (~(WORD)HW_DCDC1_CTRL1_R_SETMASK) 
                             6770 ; 99   |#define HW_DCDC1_CTRL1_FFOR_CLRMASK (~(WORD)HW_DCDC1_CTRL1_FFOR_SETMASK)  
                             6771 ; 100  |#define HW_DCDC1_CTRL1_PFMCTRL_CLRMASK (~(WORD)HW_DCDC1_CTRL1_PFMCTRL_SETMASK)  
                             6772 ; 101  |
                             6773 ; 102  |
                             6774 ; 103  |typedef union               
                             6775 ; 104  |{
                             6776 ; 105  |    struct {
                             6777 ; 106  |        unsigned int C       : HW_DCDC1_CTRL1_C_WIDTH;
                             6778 ; 107  |        unsigned int R                : HW_DCDC1_CTRL1_R_WIDTH;
                             6779 ; 108  |        unsigned int FFOR             : HW_DCDC1_CTRL1_FFOR_WIDTH;
                             6780 ; 109  |        unsigned int RSVD0            : HW_DCDC1_CTRL1_RSVD0_WIDTH;
                             6781 ; 110  |        unsigned int PFMCTRL          : HW_DCDC1_CTRL1_FFOR_WIDTH;
                             6782 ; 111  |    } B;
                             6783 ; 112  |    unsigned int I;
                             6784 ; 113  |} dcdc1_ctrl1_type;
                             6785 ; 114  |#define HW_DCDC1_CTRL1      (*(volatile dcdc1_ctrl1_type _X*) (HW_DCDC_BASEADDR+1))    /* 
                                  DcDc#1 Ctrl #1 Register */
                             6786 ; 115  |
                             6787 ; 116  |
                             6788 ; 117  |
                             6789 ; 118  |
                             6790 ; 119  |/////////////////////////////////////////////////////////////////////////////////
                             6791 ; 120  |
                             6792 ; 121  |//  DcDc VDDIO Register (HW_DCDC_VDDIO) Bit Definitions
                             6793 ; 122  |
                             6794 ; 123  |#define HW_DCDC_VDDIO_VOLTAGE_LEVEL_WIDTH (5)
                             6795 ; 124  |#define HW_DCDC_VDDIO_RSVD0_WIDTH (3)
                             6796 ; 125  |#define HW_DCDC_VDDIO_BROWNOUT_LEVEL_WIDTH (5)
                             6797 ; 126  |#define HW_DCDC_VDDIO_RSVD1_WIDTH (3)
                             6798 ; 127  |#define HW_DCDC_VDDIO_BROWNOUT_ENABLE_WIDTH (1)
                             6799 ; 128  |#define HW_DCDC_VDDIO_RSVD2_WIDTH (3)
                             6800 ; 129  |#define HW_DCDC_VDDIO_BROWNOUT_STATUS_WIDTH (1)
                             6801 ; 130  |#define HW_DCDC_VDDIO_OK_WIDTH (1)
                             6802 ; 131  |#define HW_DCDC_VDDIO_RSVD3_WIDTH (2)
                             6803 ; 132  |
                             6804 ; 133  |
                             6805 ; 134  |
                             6806 ; 135  |#define HW_DCDC_VDDIO_VOLTAGE_LEVEL_BITPOS (0)
                             6807 ; 136  |#define HW_DCDC_VDDIO_BROWNOUT_LEVEL_BITPOS (8)
                             6808 ; 137  |#define HW_DCDC_VDDIO_BROWNOUT_ENABLE_BITPOS (16)
                             6809 ; 138  |#define HW_DCDC_VDDIO_BROWNOUT_STATUS_BITPOS (20)
                             6810 ; 139  |#define HW_DCDC_VDDIO_OK_BITPOS (21)
                             6811 ; 140  |
                             6812 ; 141  |
                             6813 ; 142  |#define HW_DCDC_VDDIO_VOLTAGE_LEVEL_SETMASK (((1<<HW_DCDC_VDDIO_VOLTAGE_LEVEL_WIDTH)-1)<<H
                                  W_DCDC_VDDIO_VOLTAGE_LEVEL_BITPOS)        
                             6814 ; 143  |#define HW_DCDC_VDDIO_BROWNOUT_LEVEL_SETMASK (((1<<HW_DCDC_VDDIO_BROWNOUT_LEVEL_WIDTH)-1)<
                                  <HW_DCDC_VDDIO_BROWNOUT_LEVEL_BITPOS) 
                             6815 ; 144  |#define HW_DCDC_VDDIO_BROWNOUT_ENABLE_SETMASK (((1<<HW_DCDC_VDDIO_BROWNOUT_ENABLE_WIDTH)-1
                                  )<<HW_DCDC_VDDIO_BROWNOUT_ENABLE_BITPOS)  
                             6816 ; 145  |#define HW_DCDC_VDDIO_BROWNOUT_STATUS_SETMASK (((1<<HW_DCDC_VDDIO_BROWNOUT_STATUS_WIDTH)-1
                                  )<<HW_DCDC_VDDIO_BROWNOUT_STATUS_BITPOS)  
                             6817 ; 146  |
                             6818 ; 147  |
                             6819 ; 148  |
                             6820 ; 149  |#define HW_DCDC_VDDIO_VOLTAGE_LEVEL_CLRMASK (~(WORD)HW_DCDC_VDDIO_VOLTAGE_LEVEL_SETMASK)  
                                     
                             6821 ; 150  |#define HW_DCDC_VDDIO_BROWNOUT_LEVEL_CLRMASK (~(WORD)HW_DCDC_VDDIO_BROWNOUT_LEVEL_SETMASK)
                                   
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 110

M:ADDR CODE           CYCLES LINE SOURCELINE
                             6822 ; 151  |#define HW_DCDC_VDDIO_BROWNOUT_ENABLE_CLRMASK (~(WORD)HW_DCDC_VDDIO_BROWNOUT_ENABLE_SETMAS
                                  K)  
                             6823 ; 152  |#define HW_DCDC_VDDIO_BROWNOUT_STATUS_CLRMASK (~(WORD)HW_DCDC_VDDIO_BROWNOUT_STATUS_SETMAS
                                  K)  
                             6824 ; 153  |
                             6825 ; 154  |
                             6826 ; 155  |typedef union               
                             6827 ; 156  |{
                             6828 ; 157  |    struct {
                             6829 ; 158  |        unsigned int VOLTAGE_LEVEL    : HW_DCDC_VDDIO_VOLTAGE_LEVEL_WIDTH;
                             6830 ; 159  |        unsigned int RSVD0            : HW_DCDC_VDDIO_RSVD0_WIDTH;
                             6831 ; 160  |        unsigned int BROWNOUT_LEVEL   : HW_DCDC_VDDIO_BROWNOUT_LEVEL_WIDTH;
                             6832 ; 161  |        unsigned int RSVD1            : HW_DCDC_VDDIO_RSVD1_WIDTH;
                             6833 ; 162  |        unsigned int BROWNOUT_ENABLE  : HW_DCDC_VDDIO_BROWNOUT_ENABLE_WIDTH;
                             6834 ; 163  |        unsigned int RSVD2            : HW_DCDC_VDDIO_RSVD2_WIDTH;
                             6835 ; 164  |        unsigned int BROWNOUT_STATUS  : HW_DCDC_VDDIO_BROWNOUT_STATUS_WIDTH;
                             6836 ; 165  |                 unsigned int VDDIO_OK        : HW_DCDC_VDDIO_OK_WIDTH;
                             6837 ; 166  |        unsigned int RSVD3            : HW_DCDC_VDDIO_RSVD3_WIDTH;
                             6838 ; 167  |    } B;
                             6839 ; 168  |    unsigned int I;
                             6840 ; 169  |} dcdc_vddio_type;
                             6841 ; 170  |#define HW_DCDC_VDDIO      (*(volatile dcdc_vddio_type _X*) (HW_DCDC_BASEADDR+2))    /* Dc
                                  Dc VDDIO Register */
                             6842 ; 171  |
                             6843 ; 172  |
                             6844 ; 173  |
                             6845 ; 174  |/////////////////////////////////////////////////////////////////////////////////
                             6846 ; 175  |//  DcDc VDDD Register (HW_DCDC_VDDD) Bit Definitions
                             6847 ; 176  |
                             6848 ; 177  |#define HW_DCDC_VDDD_VOLTAGE_LEVEL_WIDTH (5)
                             6849 ; 178  |#define HW_DCDC_VDDD_RSVD0_WIDTH (3)
                             6850 ; 179  |#define HW_DCDC_VDDD_BROWNOUT_LEVEL_WIDTH (5)
                             6851 ; 180  |#define HW_DCDC_VDDD_RSVD1_WIDTH (3)
                             6852 ; 181  |#define HW_DCDC_VDDD_BROWNOUT_ENABLE_WIDTH (1)
                             6853 ; 182  |#define HW_DCDC_VDDD_RSVD2_WIDTH (3)
                             6854 ; 183  |#define HW_DCDC_VDDD_BROWNOUT_STATUS_WIDTH (1)
                             6855 ; 184  |#define HW_DCDC_VDDD_OK_WIDTH (1)
                             6856 ; 185  |#define HW_DCDC_VDDD_RSVD3_WIDTH (2)
                             6857 ; 186  |
                             6858 ; 187  |#define HW_DCDC_VDDD_VOLTAGE_LEVEL_BITPOS (0)
                             6859 ; 188  |#define HW_DCDC_VDDD_BROWNOUT_LEVEL_BITPOS (8)
                             6860 ; 189  |#define HW_DCDC_VDDD_BROWNOUT_ENABLE_BITPOS (16)
                             6861 ; 190  |#define HW_DCDC_VDDD_BROWNOUT_STATUS_BITPOS (20)
                             6862 ; 191  |#define HW_DCDC_VDDD_OK_BITPOS (21)
                             6863 ; 192  |#define HW_DCDC_VDDD_VOLTAGE_LEVEL_SETMASK (((1<<HW_DCDC_VDDD_VOLTAGE_LEVEL_WIDTH)-1)<<HW_
                                  DCDC_VDDD_VOLTAGE_LEVEL_BITPOS)        
                             6864 ; 193  |#define HW_DCDC_VDDD_BROWNOUT_LEVEL_SETMASK (((1<<HW_DCDC_VDDD_BROWNOUT_LEVEL_WIDTH)-1)<<H
                                  W_DCDC_VDDD_BROWNOUT_LEVEL_BITPOS) 
                             6865 ; 194  |#define HW_DCDC_VDDD_BROWNOUT_ENABLE_SETMASK (((1<<HW_DCDC_VDDD_BROWNOUT_ENABLE_WIDTH)-1)<
                                  <HW_DCDC_VDDD_BROWNOUT_ENABLE_BITPOS)  
                             6866 ; 195  |#define HW_DCDC_VDDD_BROWNOUT_STATUS_SETMASK (((1<<HW_DCDC_VDDD_BROWNOUT_STATUS_WIDTH)-1)<
                                  <HW_DCDC_VDDD_BROWNOUT_STATUS_BITPOS)  
                             6867 ; 196  |
                             6868 ; 197  |#define HW_DCDC_VDDD_VOLTAGE_LEVEL_CLRMASK (~(WORD)HW_DCDC_VDDD_VOLTAGE_LEVEL_SETMASK)    
                                   
                             6869 ; 198  |#define HW_DCDC_VDDD_BROWNOUT_LEVEL_CLRMASK (~(WORD)HW_DCDC_VDDD_BROWNOUT_LEVEL_SETMASK) 
                             6870 ; 199  |#define HW_DCDC_VDDD_BROWNOUT_ENABLE_CLRMASK (~(WORD)HW_DCDC_VDDD_BROWNOUT_ENABLE_SETMASK)
                                    
                             6871 ; 200  |#define HW_DCDC_VDDD_BROWNOUT_STATUS_CLRMASK (~(WORD)HW_DCDC_VDDD_BROWNOUT_STATUS_SETMASK)
                                    
                             6872 ; 201  |
                             6873 ; 202  |typedef union               
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 111

M:ADDR CODE           CYCLES LINE SOURCELINE
                             6874 ; 203  |{
                             6875 ; 204  |    struct {
                             6876 ; 205  |        unsigned int VOLTAGE_LEVEL    : HW_DCDC_VDDD_VOLTAGE_LEVEL_WIDTH;
                             6877 ; 206  |        unsigned int RSVD0            : HW_DCDC_VDDD_RSVD0_WIDTH;
                             6878 ; 207  |        unsigned int BROWNOUT_LEVEL   : HW_DCDC_VDDD_BROWNOUT_LEVEL_WIDTH;
                             6879 ; 208  |        unsigned int RSVD1            : HW_DCDC_VDDD_RSVD1_WIDTH;
                             6880 ; 209  |        unsigned int BROWNOUT_ENABLE  : HW_DCDC_VDDD_BROWNOUT_ENABLE_WIDTH;
                             6881 ; 210  |        unsigned int RSVD2            : HW_DCDC_VDDD_RSVD2_WIDTH;
                             6882 ; 211  |        unsigned int BROWNOUT_STATUS  : HW_DCDC_VDDD_BROWNOUT_STATUS_WIDTH;
                             6883 ; 212  |                 unsigned int VDD_OK           : HW_DCDC_VDDD_OK_WIDTH;
                             6884 ; 213  |        unsigned int RSVD3            : HW_DCDC_VDDD_RSVD3_WIDTH;
                             6885 ; 214  |    } B;
                             6886 ; 215  |   unsigned int I;
                             6887 ; 216  |        unsigned U;
                             6888 ; 217  |} dcdc_vddd_type;
                             6889 ; 218  |#define HW_DCDC_VDDD      (*(volatile dcdc_vddd_type _X*) (HW_DCDC_BASEADDR+3))    /* DcDc
                                   VDDD Register */
                             6890 ; 219  |
                             6891 ; 220  |
                             6892 ; 221  |
                             6893 ; 222  |
                             6894 ; 223  |/////////////////////////////////////////////////////////////////////////////////
                             6895 ; 224  |
                             6896 ; 225  |//  DcDc Vdda Register (HW_DCDC_VDDA) Bit Definitions
                             6897 ; 226  |
                             6898 ; 227  |#define HW_DCDC_VDDA_VOLTAGE_LEVEL_WIDTH (5)
                             6899 ; 228  |#define HW_DCDC_VDDA_RSVD0_WIDTH (3)
                             6900 ; 229  |#define HW_DCDC_VDDA_BROWNOUT_LEVEL_WIDTH (5)
                             6901 ; 230  |#define HW_DCDC_VDDA_RSVD1_WIDTH (3)
                             6902 ; 231  |#define HW_DCDC_VDDA_BROWNOUT_ENABLE_WIDTH (1)
                             6903 ; 232  |#define HW_DCDC_VDDA_RSVD2_WIDTH (3)
                             6904 ; 233  |#define HW_DCDC_VDDA_BROWNOUT_STATUS_WIDTH (1)
                             6905 ; 234  |#define HW_DCDC_VDDA_OK_WIDTH (1)
                             6906 ; 235  |#define HW_DCDC_VDDA_RSVD3_WIDTH (2)
                             6907 ; 236  |
                             6908 ; 237  |
                             6909 ; 238  |
                             6910 ; 239  |#define HW_DCDC_VDDA_VOLTAGE_LEVEL_BITPOS (0)
                             6911 ; 240  |#define HW_DCDC_VDDA_BROWNOUT_LEVEL_BITPOS (8)
                             6912 ; 241  |#define HW_DCDC_VDDA_BROWNOUT_ENABLE_BITPOS (16)
                             6913 ; 242  |#define HW_DCDC_VDDA_BROWNOUT_STATUS_BITPOS (20)
                             6914 ; 243  |#define HW_DCDC_VDDA_OK_BITPOS (21)
                             6915 ; 244  |
                             6916 ; 245  |
                             6917 ; 246  |#define HW_DCDC_VDDA_VOLTAGE_LEVEL_SETMASK (((1<<HW_DCDC_VDDA_VOLTAGE_LEVEL_WIDTH)-1)<<HW_
                                  DCDC_VDDA_VOLTAGE_LEVEL_BITPOS)        
                             6918 ; 247  |#define HW_DCDC_VDDA_BROWNOUT_LEVEL_SETMASK (((1<<HW_DCDC_VDDA_BROWNOUT_LEVEL_WIDTH)-1)<<H
                                  W_DCDC_VDDA_BROWNOUT_LEVEL_BITPOS) 
                             6919 ; 248  |#define HW_DCDC_VDDA_BROWNOUT_ENABLE_SETMASK (((1<<HW_DCDC_VDDA_BROWNOUT_ENABLE_WIDTH)-1)<
                                  <HW_DCDC_VDDA_BROWNOUT_ENABLE_BITPOS)  
                             6920 ; 249  |#define HW_DCDC_VDDA_BROWNOUT_STATUS_SETMASK (((1<<HW_DCDC_VDDA_BROWNOUT_STATUS_WIDTH)-1)<
                                  <HW_DCDC_VDDA_BROWNOUT_STATUS_BITPOS)  
                             6921 ; 250  |
                             6922 ; 251  |
                             6923 ; 252  |
                             6924 ; 253  |#define HW_DCDC_VDDA_VOLTAGE_LEVEL_CLRMASK (~(WORD)HW_DCDC_VDDA_VOLTAGE_LEVEL_SETMASK)    
                                   
                             6925 ; 254  |#define HW_DCDC_VDDA_BROWNOUT_LEVEL_CLRMASK (~(WORD)HW_DCDC_VDDA_BROWNOUT_LEVEL_SETMASK) 
                             6926 ; 255  |#define HW_DCDC_VDDA_BROWNOUT_ENABLE_CLRMASK (~(WORD)HW_DCDC_VDDA_BROWNOUT_ENABLE_SETMASK)
                                    
                             6927 ; 256  |#define HW_DCDC_VDDA_BROWNOUT_STATUS_CLRMASK (~(WORD)HW_DCDC_VDDA_BROWNOUT_STATUS_SETMASK)
                                    
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 112

M:ADDR CODE           CYCLES LINE SOURCELINE
                             6928 ; 257  |
                             6929 ; 258  |
                             6930 ; 259  |typedef union               
                             6931 ; 260  |{
                             6932 ; 261  |    struct {
                             6933 ; 262  |        unsigned int VOLTAGE_LEVEL    : HW_DCDC_VDDA_VOLTAGE_LEVEL_WIDTH;
                             6934 ; 263  |        unsigned int RSVD0            : HW_DCDC_VDDA_RSVD0_WIDTH;
                             6935 ; 264  |        unsigned int BROWNOUT_LEVEL   : HW_DCDC_VDDA_BROWNOUT_LEVEL_WIDTH;
                             6936 ; 265  |        unsigned int RSVD1            : HW_DCDC_VDDA_RSVD1_WIDTH;
                             6937 ; 266  |        unsigned int BROWNOUT_ENABLE  : HW_DCDC_VDDA_BROWNOUT_ENABLE_WIDTH;
                             6938 ; 267  |        unsigned int RSVD2            : HW_DCDC_VDDA_RSVD2_WIDTH;
                             6939 ; 268  |        unsigned int BROWNOUT_STATUS  : HW_DCDC_VDDA_BROWNOUT_STATUS_WIDTH;
                             6940 ; 269  |             unsigned int VDDA_OK          : HW_DCDC_VDDA_OK_WIDTH;
                             6941 ; 270  |        unsigned int RSVD3            : HW_DCDC_VDDA_RSVD3_WIDTH;
                             6942 ; 271  |    } B;
                             6943 ; 272  |    unsigned int I;
                             6944 ; 273  |} dcdc_vdda_type;
                             6945 ; 274  |#define HW_DCDC_VDDA      (*(volatile dcdc_vdda_type _X*) (HW_DCDC_BASEADDR+4))    /* DcDc
                                   VDDA Register */
                             6946 ; 275  |
                             6947 ; 276  |
                             6948 ; 277  |
                             6949 ; 278  |
                             6950 ; 279  |/////////////////////////////////////////////////////////////////////////////////
                             6951 ; 280  |
                             6952 ; 281  |//  DcDc#2 Control Register 0 (HW_DCDC2_CTRL0) Bit Definitions
                             6953 ; 282  |
                             6954 ; 283  |#define HW_DCDC2_CTRL0_PLEVBU_WIDTH (5)
                             6955 ; 284  |#define HW_DCDC2_CTRL0_RSVD0_WIDTH (3)
                             6956 ; 285  |#define HW_DCDC2_CTRL0_PLEVBO_WIDTH (5)
                             6957 ; 286  |#define HW_DCDC2_CTRL0_RSVD1_WIDTH (3)
                             6958 ; 287  |#define HW_DCDC2_CTRL0_NLEV_WIDTH (5)
                             6959 ; 288  |#define HW_DCDC2_CTRL0_RSVD2_WIDTH (3)
                             6960 ; 289  |
                             6961 ; 290  |
                             6962 ; 291  |
                             6963 ; 292  |#define HW_DCDC2_CTRL0_PLEVBU_BITPOS (0)
                             6964 ; 293  |#define HW_DCDC2_CTRL0_PLEVBO_BITPOS (8)
                             6965 ; 294  |#define HW_DCDC2_CTRL0_NLEV_BITPOS (16)
                             6966 ; 295  |
                             6967 ; 296  |#define HW_DCDC2_CTRL0_PLEVBU_SETMASK (((1<<HW_DCDC2_CTRL0_PLEVBU_WIDTH)-1)<<HW_DCDC2_CTRL
                                  0_PLEVBU_BITPOS)        
                             6968 ; 297  |#define HW_DCDC2_CTRL0_PLEVBO_SETMASK (((1<<HW_DCDC2_CTRL0_PLEVBO_WIDTH)-1)<<HW_DCDC2_CTRL
                                  0_PLEVBO_BITPOS) 
                             6969 ; 298  |#define HW_DCDC2_CTRL0_NLEV_SETMASK (((1<<HW_DCDC2_CTRL0_NLEV_WIDTH)-1)<<HW_DCDC2_CTRL0_NL
                                  EV_BITPOS)  
                             6970 ; 299  |
                             6971 ; 300  |#define HW_DCDC2_CTRL0_PLEVBU_CLRMASK (~(WORD)HW_DCDC2_CTRL0_PLEVBU_SETMASK)     
                             6972 ; 301  |#define HW_DCDC2_CTRL0_PLEVBO_CLRMASK (~(WORD)HW_DCDC2_CTRL0_PLEVBO_SETMASK) 
                             6973 ; 302  |#define HW_DCDC2_CTRL0_NLEV_CLRMASK (~(WORD)HW_DCDC2_CTRL0_NLEV_SETMASK)  
                             6974 ; 303  |
                             6975 ; 304  |
                             6976 ; 305  |typedef union               
                             6977 ; 306  |{
                             6978 ; 307  |    struct {
                             6979 ; 308  |        unsigned int PLEVBU           : HW_DCDC2_CTRL0_PLEVBU_WIDTH;
                             6980 ; 309  |        unsigned int RSVD0            : HW_DCDC2_CTRL0_RSVD0_WIDTH;
                             6981 ; 310  |        unsigned int PLEVBO           : HW_DCDC2_CTRL0_PLEVBO_WIDTH;
                             6982 ; 311  |        unsigned int RSVD1            : HW_DCDC2_CTRL0_RSVD1_WIDTH;
                             6983 ; 312  |        unsigned int NLEV             : HW_DCDC2_CTRL0_NLEV_WIDTH;
                             6984 ; 313  |        unsigned int RSVD2            : HW_DCDC2_CTRL0_RSVD2_WIDTH;
                             6985 ; 314  |    } B;
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 113

M:ADDR CODE           CYCLES LINE SOURCELINE
                             6986 ; 315  |    unsigned int I;
                             6987 ; 316  |} dcdc2_ctrl0_type; 
                             6988 ; 317  |#define HW_DCDC2_CTRL0      (*(volatile dcdc2_ctrl0_type _X*) (HW_DCDC_BASEADDR+5))    /* 
                                  DcDc#2 Limit Level Register */
                             6989 ; 318  |
                             6990 ; 319  |
                             6991 ; 320  |
                             6992 ; 321  |
                             6993 ; 322  |/////////////////////////////////////////////////////////////////////////////////
                             6994 ; 323  |
                             6995 ; 324  |//  DcDc#2 Control Register #1 (HW_DCDC2_CTRL1) Bit Definitions
                             6996 ; 325  |
                             6997 ; 326  |#define HW_DCDC2_CTRL1_C_WIDTH (4)
                             6998 ; 327  |#define HW_DCDC2_CTRL1_R_WIDTH (4)
                             6999 ; 328  |#define HW_DCDC2_CTRL1_FFOR_WIDTH (3)
                             7000 ; 329  |#define HW_DCDC2_CTRL1_RSVD0_WIDTH (1)
                             7001 ; 330  |#define HW_DCDC2_CTRL1_PFMCTRL_WIDTH (12)
                             7002 ; 331  |
                             7003 ; 332  |
                             7004 ; 333  |#define HW_DCDC2_CTRL1_C_BITPOS (0)
                             7005 ; 334  |#define HW_DCDC2_CTRL1_R_BITPOS (4)
                             7006 ; 335  |#define HW_DCDC2_CTRL1_FFOR_BITPOS (8)
                             7007 ; 336  |#define HW_DCDC2_CTRL1_PFMCTRL_BITPOS (12)
                             7008 ; 337  |
                             7009 ; 338  |
                             7010 ; 339  |
                             7011 ; 340  |#define HW_DCDC2_CTRL1_C_SETMASK (((1<<HW_DCDC2_CTRL1_C_WIDTH)-1)<<HW_DCDC2_CTRL1_C_BITPOS
                                  )        
                             7012 ; 341  |#define HW_DCDC2_CTRL1_R_SETMASK (((1<<HW_DCDC2_CTRL1_R_WIDTH)-1)<<HW_DCDC2_CTRL1_R_BITPOS
                                  ) 
                             7013 ; 342  |#define HW_DCDC2_CTRL1_FFOR_SETMASK (((1<<HW_DCDC2_CTRL1_FFOR_WIDTH)-1)<<HW_DCDC2_CTRL1_FF
                                  OR_BITPOS)  
                             7014 ; 343  |#define HW_DCDC2_CTRL1_PFMCTRL_SETMASK (((1<<HW_DCDC2_CTRL1_PFMCTRL_WIDTH)-1)<<HW_DCDC2_CT
                                  RL1_PFMCTRL_BITPOS)  
                             7015 ; 344  |
                             7016 ; 345  |
                             7017 ; 346  |
                             7018 ; 347  |#define HW_DCDC2_CTRL1_C_CLRMASK (~(WORD)HW_DCDC2_CTRL1_C_SETMASK)     
                             7019 ; 348  |#define HW_DCDC2_CTRL1_R_CLRMASK (~(WORD)HW_DCDC2_CTRL1_R_SETMASK) 
                             7020 ; 349  |#define HW_DCDC2_CTRL1_FFOR_CLRMASK (~(WORD)HW_DCDC2_CTRL1_FFOR_SETMASK)  
                             7021 ; 350  |#define HW_DCDC2_CTRL1_PFMCTRL_CLRMASK (~(WORD)HW_DCDC2_CTRL1_PFMCTRL_SETMASK)  
                             7022 ; 351  |
                             7023 ; 352  |
                             7024 ; 353  |typedef union               
                             7025 ; 354  |{
                             7026 ; 355  |    struct {
                             7027 ; 356  |        unsigned int C                : HW_DCDC2_CTRL1_C_WIDTH;
                             7028 ; 357  |        unsigned int R                : HW_DCDC2_CTRL1_R_WIDTH;
                             7029 ; 358  |        unsigned int FFOR             : HW_DCDC2_CTRL1_FFOR_WIDTH;
                             7030 ; 359  |        unsigned int RSVD0            : HW_DCDC2_CTRL1_RSVD0_WIDTH;
                             7031 ; 360  |        unsigned int PFMCTRL          : HW_DCDC2_CTRL1_FFOR_WIDTH;
                             7032 ; 361  |    } B;
                             7033 ; 362  |    unsigned int I;
                             7034 ; 363  |} dcdc2_ctrl1_type;
                             7035 ; 364  |#define HW_DCDC2_CTRL1      (*(volatile dcdc2_ctrl1_type _X*) (HW_DCDC_BASEADDR+6))    /* 
                                  DcDc#2 Ctrl Register #1 */
                             7036 ; 365  |
                             7037 ; 366  |
                             7038 ; 367  |
                             7039 ; 368  |
                             7040 ; 369  |/////////////////////////////////////////////////////////////////////////////////
                             7041 ; 370  |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 114

M:ADDR CODE           CYCLES LINE SOURCELINE
                             7042 ; 371  |//  Speed Monitoring Register (HW_SPEED) Bit Definitions
                             7043 ; 372  |
                             7044 ; 373  |#define HW_SPEED_OSC1_PWRUP_WIDTH (1)
                             7045 ; 374  |#define HW_SPEED_OSC1_START_COUNT_WIDTH (1)
                             7046 ; 375  |#define HW_SPEED_RSVD0_WIDTH (2)
                             7047 ; 376  |#define HW_SPEED_RINGOSC1_WIDTH (7)
                             7048 ; 377  |#define HW_SPEED_RSVD1_WIDTH (1)
                             7049 ; 378  |#define HW_SPEED_OSC2_PWRUP_WIDTH (1)
                             7050 ; 379  |#define HW_SPEED_OSC2_START_COUNT_WIDTH (1)
                             7051 ; 380  |#define HW_SPEED_RSVD2_WIDTH (2)
                             7052 ; 381  |#define HW_SPEED_RINGOSC2_WIDTH (7)
                             7053 ; 382  |#define HW_SPEED_RSVD3_WIDTH (1)
                             7054 ; 383  |
                             7055 ; 384  |
                             7056 ; 385  |
                             7057 ; 386  |#define HW_SPEED_OSC1_PWRUP_BITPOS (0)
                             7058 ; 387  |#define HW_SPEED_OSC1_START_COUNT_BITPOS (1)
                             7059 ; 388  |#define HW_SPEED_RINGOSC1_BITPOS (4)
                             7060 ; 389  |#define HW_SPEED_OSC2_PWRUP_BITPOS (12)
                             7061 ; 390  |#define HW_SPEED_OSC2_START_COUNT_BITPOS (13)
                             7062 ; 391  |#define HW_SPEED_RINGOSC2_BITPOS (16)
                             7063 ; 392  |
                             7064 ; 393  |
                             7065 ; 394  |#define HW_SPEED_OSC1_PWRUP_SETMASK (((1<<HW_SPEED_OSC1_PWRUP_WIDTH)-1)<<HW_SPEED_OSC1_PWR
                                  UP_BITPOS)        
                             7066 ; 395  |#define HW_SPEED_OSC1_START_COUNT_SETMASK (((1<<HW_SPEED_OSC1_START_COUNT_WIDTH)-1)<<HW_SP
                                  EED_OSC1_START_COUNT_BITPOS)        
                             7067 ; 396  |#define HW_SPEED_RINGOSC1_SETMASK (((1<<HW_SPEED_RINGOSC1_WIDTH)-1)<<HW_SPEED_RINGOSC1_BIT
                                  POS) 
                             7068 ; 397  |#define HW_SPEED_OSC2_PWRUP_SETMASK (((1<<HW_SPEED_OSC2_PWRUP_WIDTH)-1)<<HW_SPEED_OSC2_PWR
                                  UP_BITPOS)        
                             7069 ; 398  |
                             7070 ; 399  |#define HW_SPEED_OSC2_START_COUNT_SETMASK (((1<<HW_SPEED_OSC2_START_COUNT_WIDTH)-1)<<HW_SP
                                  EED_OSC2_START_COUNT_BITPOS)        
                             7071 ; 400  |#define HW_SPEED_RINGOSC2_SETMASK (((1<<HW_SPEED_RINGOSC2_WIDTH)-1)<<HW_SPEED_RINGOSC2_BIT
                                  POS) 
                             7072 ; 401  |
                             7073 ; 402  |
                             7074 ; 403  |
                             7075 ; 404  |#define HW_SPEED_OSC1_PWRUP_CLRMASK (~(WORD)HW_SPEED_OSC1_PWRUP_SETMASK)     
                             7076 ; 405  |#define HW_SPEED_OSC1_START_COUNT_CLRMASK (~(WORD)HW_SPEED_OSC1_START_COUNT_SETMASK)     
                             7077 ; 406  |#define HW_SPEED_RINGOSC1_CLRMASK (~(WORD)HW_SPEED_RINGOSC1_SETMASK) 
                             7078 ; 407  |#define HW_SPEED_OSC2_PWRUP_CLRMASK (~(WORD)HW_SPEED_OSC2_PWRUP_SETMASK)   
                             7079 ; 408  |#define HW_SPEED_OSC2_START_COUNT_CLRMASK (~(WORD)HW_SPEED_OSC2_START_COUNT_SETMASK)     
                             7080 ; 409  |#define HW_SPEED_RINGOSC2_CLRMASK (~(WORD)HW_SPEED_RINGOSC2_SETMASK) 
                             7081 ; 410  |
                             7082 ; 411  |
                             7083 ; 412  |typedef union               
                             7084 ; 413  |{
                             7085 ; 414  |    struct {
                             7086 ; 415  |        unsigned int OSC1_PWRUP          : HW_SPEED_OSC1_PWRUP_WIDTH;
                             7087 ; 416  |        unsigned int OSC1_START_COUNT    : HW_SPEED_OSC1_START_COUNT_WIDTH;
                             7088 ; 417  |        unsigned int RSVD0               : HW_SPEED_RSVD0_WIDTH;
                             7089 ; 418  |        unsigned int RINGOSC1            : HW_SPEED_RINGOSC1_WIDTH;
                             7090 ; 419  |        unsigned int RSVD1               : HW_SPEED_RSVD1_WIDTH;
                             7091 ; 420  |        unsigned int OSC2_PWRUP          : HW_SPEED_OSC2_PWRUP_WIDTH;
                             7092 ; 421  |        unsigned int OSC2_START_COUNT    : HW_SPEED_OSC2_START_COUNT_WIDTH;
                             7093 ; 422  |        unsigned int RSVD2               : HW_SPEED_RSVD2_WIDTH;
                             7094 ; 423  |        unsigned int RINGOSC2            : HW_SPEED_RINGOSC2_WIDTH;
                             7095 ; 424  |        unsigned int RSVD3               : HW_SPEED_RSVD3_WIDTH;
                             7096 ; 425  |    } B;
                             7097 ; 426  |    unsigned int I;
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 115

M:ADDR CODE           CYCLES LINE SOURCELINE
                             7098 ; 427  |} speed_type;
                             7099 ; 428  |#define HW_SPEED      (*(volatile speed_type _X*) (HW_DCDC_BASEADDR+7))    /* Speed Measur
                                  ement Register */
                             7100 ; 429  |
                             7101 ; 430  |
                             7102 ; 431  |
                             7103 ; 432  |
                             7104 ; 433  |
                             7105 ; 434  |
                             7106 ; 435  |
                             7107 ; 436  |// DC DC Test Bit Register (HW_DCDCTBR) Definitions
                             7108 ; 437  |#define HW_DCDC_TBR_DCDC1_ADJ_TN_WIDTH 4
                             7109 ; 438  |#define HW_DCDC_TBR_DCDC1_DIS_5BIT_WIDTH 1
                             7110 ; 439  |#define HW_DCDC_TBR_DCDC1_BAT_ADJ_WIDTH 1
                             7111 ; 440  |#define HW_DCDC_TBR_DCDC1_CLK4X_WIDTH 1
                             7112 ; 441  |#define HW_DCDC_TBR_DCDC1_CLK2X_WIDTH 1
                             7113 ; 442  |#define HW_DCDC_TBR_DCDC1_NOZERO_WIDTH 1
                             7114 ; 443  |#define HW_DCDC_TBR_DCDC1_VDD5V_ACTIVE_WIDTH 1
                             7115 ; 444  |#define HW_DCDC_TBR_DCDC1_PFM_WIDTH 1
                             7116 ; 445  |#define HW_DCDC_TBR_DCDC1_STOPCLK_WIDTH 1
                             7117 ; 446  |#define HW_DCDC_TBR_PWRUP_VDDIO_BRNOUT_WIDTH 1
                             7118 ; 447  |#define HW_DCDC_TBR_DCDC_ANA_LESSI_WIDTH 1
                             7119 ; 448  |#define HW_DCDC_TBR_DCDC_MORE_CAP_WIDTH 1
                             7120 ; 449  |#define HW_DCDC_TBR_DCDC_ANA_BGR_BIAS_WIDTH 1
                             7121 ; 450  |#define HW_DCDC_TBR_DCDC1_NEW_SCHEME_WIDTH 1
                             7122 ; 451  |#define HW_DCDC_TBR_DCDC1_HALF_FETS_WIDTH 1
                             7123 ; 452  |#define HW_DCDC_TBR_DCDC2_DIS_5BIT_WIDTH 1
                             7124 ; 453  |#define HW_DCDC_TBR_DCDC2_CLK4X_WIDTH 1
                             7125 ; 454  |#define HW_DCDC_TBR_DCDC2_CLK2X_WIDTH 1
                             7126 ; 455  |#define HW_DCDC_TBR_DCDC2_VDD5V_ACTIVE_WIDTH 1
                             7127 ; 456  |#define HW_DCDC_TBR_DCDC2_PFM_WIDTH 1
                             7128 ; 457  |#define HW_DCDC_TBR_DCDC2_STOPCLK_WIDTH 1
                             7129 ; 458  |
                             7130 ; 459  |#define HW_DCDC_TBR_DCDC1_ADJ_TN_BITPOS (0)
                             7131 ; 460  |#define HW_DCDC_TBR_DCDC1_DIS_5BIT_BITPOS (4)
                             7132 ; 461  |#define HW_DCDC_TBR_DCDC1_BAT_ADJ_BITPOS (5)
                             7133 ; 462  |#define HW_DCDC_TBR_DCDC1_CLK4X_BITPOS (6)
                             7134 ; 463  |#define HW_DCDC_TBR_DCDC1_CLK2X_BITPOS (7)
                             7135 ; 464  |#define HW_DCDC_TBR_DCDC1_NOZERO_BITPOS (8)
                             7136 ; 465  |#define HW_DCDC_TBR_DCDC1_VDD5V_ACTIVE_BITPOS (9)
                             7137 ; 466  |#define HW_DCDC_TBR_DCDC1_PFM_BITPOS (10)
                             7138 ; 467  |#define HW_DCDC_TBR_DCDC1_STOPCLK_BITPOS (11)
                             7139 ; 468  |#define HW_DCDC_TBR_PWRUP_VDDIO_BRNOUT_BITPOS (12)
                             7140 ; 469  |#define HW_DCDC_TBR_DCDC_ANA_LESSI_BITPOS (13)
                             7141 ; 470  |#define HW_DCDC_TBR_DCDC_MORE_CAP_BITPOS (14)
                             7142 ; 471  |#define HW_DCDC_TBR_DCDC_DCDC_ANA_BGR_BIAS_BITPOS (15)
                             7143 ; 472  |#define HW_DCDC_TBR_DCDC1_NEW_SCHEME_BITPOS (16)
                             7144 ; 473  |#define HW_DCDC_TBR_DCDC1_HALF_FETS_BITPOS (17)
                             7145 ; 474  |#define HW_DCDC_TBR_DCDC2_DIS_5BIT_BITPOS (18)
                             7146 ; 475  |#define HW_DCDC_TBR_DCDC2_CLK4X_BITPOS (19)
                             7147 ; 476  |#define HW_DCDC_TBR_DCDC2_CLK2X_BITPOS (20)
                             7148 ; 477  |#define HW_DCDC_TBR_DCDC2_VDD5V_ACTIVE_BITPOS (21)
                             7149 ; 478  |#define HW_DCDC_TBR_DCDC2_PFM_BITPOS (22)
                             7150 ; 479  |#define HW_DCDC_TBR_DCDC2_STOPCLK_BITPOS (23)
                             7151 ; 480  |
                             7152 ; 481  |#define HW_DCDC_TBR_DCDC1_ADJ_TN_SETMASK (((1<<HW_DCDC_TBR_DCDC1_ADJ_TN_WIDTH)-1)<<HW_DCDC
                                  _TBR_DCDC1_ADJ_TN_BITPOS)
                             7153 ; 482  |#define HW_DCDC_TBR_DCDC1_BAT_ADJ_SETMASK (((1<<HW_DCDC_TBR_DCDC1_BAT_ADJ_WIDTH)-1)<<HW_DC
                                  DC_TBR_DCDC1_BAT_ADJ_BITPOS)
                             7154 ; 483  |#define HW_DCDC_TBR_DCDC_ANA_BGR_BIAS_SETMASK (((1<<HW_DCDC_TBR_DCDC_ANA_BGR_BIAS_WIDTH)-1
                                  )<<HW_DCDC_TBR_DCDC_DCDC_ANA_BGR_BIAS_BITPOS)
                             7155 ; 484  |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 116

M:ADDR CODE           CYCLES LINE SOURCELINE
                             7156 ; 485  |#define HW_DCDC_TBR_DCDC1_ADJ_TN_CLRMASK (~(WORD)HW_DCDC_TBR_DCDC1_ADJ_TN_SETMASK)
                             7157 ; 486  |#define HW_DCDC_TBR_DCDC1_BAT_ADJ_CLRMASK (~(WORD)HW_DCDC_TBR_DCDC1_BAT_ADJ_SETMASK)
                             7158 ; 487  |#define HW_DCDC_TBR_DCDC_ANA_BGR_BIAS_CLRMASK (~(WORD)HW_DCDC_TBR_DCDC_ANA_BGR_BIAS_SETMAS
                                  K)
                             7159 ; 488  |
                             7160 ; 489  |// Defines for What needs to change to be able to use a higher Core voltage and when the c
                                  hange should happen
                             7161 ; 490  |#define HW_DCDC_VDDD_CHANGE_TBR_CUTOFF_VALUE ((18<<HW_DCDC_VDDD_VOLTAGE_LEVEL_BITPOS)&HW_D
                                  CDC_VDDD_VOLTAGE_LEVEL_SETMASK)
                             7162 ; 491  |#define HW_DCDC_TBR_VDDD_HI_VALUE ((1<<HW_DCDC_TBR_DCDC_DCDC_ANA_BGR_BIAS_BITPOS)&HW_DCDC_
                                  TBR_DCDC_ANA_BGR_BIAS_SETMASK)
                             7163 ; 492  |#define HW_DCDC_TBR_VDDD_LO_VALUE (((1<<HW_DCDC_TBR_DCDC_DCDC_ANA_BGR_BIAS_BITPOS)&HW_DCDC
                                  _TBR_DCDC_ANA_BGR_BIAS_SETMASK)+((2<<HW_DCDC_TBR_DCDC1_ADJ_TN_BITPOS)&HW_DCDC_TBR_DCDC1_ADJ_TN_SET
                                  MASK)+((1<<HW_DCDC_TBR_DCDC1_BAT_ADJ_BITPOS)&HW_DCDC_TBR_DCDC1_BAT_ADJ_SETMASK))
                             7164 ; 493  |
                             7165 ; 494  |typedef union               
                             7166 ; 495  |{
                             7167 ; 496  |    struct {
                             7168 ; 497  |        unsigned int DCDC1_ADJ_TN               : HW_DCDC_TBR_DCDC1_ADJ_TN_WIDTH;
                             7169 ; 498  |        unsigned int DCDC1_DIS_5BIT             : HW_DCDC_TBR_DCDC1_DIS_5BIT_WIDTH;
                             7170 ; 499  |        unsigned int DCDC1_BAT_ADJ              : HW_DCDC_TBR_DCDC1_BAT_ADJ_WIDTH;
                             7171 ; 500  |        unsigned int DCDC1_CLK4X                : HW_DCDC_TBR_DCDC1_CLK4X_WIDTH;
                             7172 ; 501  |        unsigned int DCDC1_CLK2X                : HW_DCDC_TBR_DCDC1_CLK2X_WIDTH;
                             7173 ; 502  |        unsigned int DCDC1_NOZERO               : HW_DCDC_TBR_DCDC1_NOZERO_WIDTH;
                             7174 ; 503  |        unsigned int DCDC1_VDD5V_ACTIVE         : HW_DCDC_TBR_DCDC1_VDD5V_ACTIVE_WIDTH;
                             7175 ; 504  |        unsigned int DCDC1_PFM                  : HW_DCDC_TBR_DCDC1_PFM_WIDTH;
                             7176 ; 505  |        unsigned int DCDC1_STOPCLK              : HW_DCDC_TBR_DCDC1_STOPCLK_WIDTH;
                             7177 ; 506  |        unsigned int PWRUP_VDDIO_BRNOUT         : HW_DCDC_TBR_PWRUP_VDDIO_BRNOUT_WIDTH;
                             7178 ; 507  |        unsigned int DCDC_ANA_LESSI             : HW_DCDC_TBR_DCDC_ANA_LESSI_WIDTH;
                             7179 ; 508  |        unsigned int DCDC_MORE_CAP              : HW_DCDC_TBR_DCDC_MORE_CAP_WIDTH;
                             7180 ; 509  |        unsigned int DCDC_ANA_BGR_BIAS          : HW_DCDC_TBR_DCDC_ANA_BGR_BIAS_WIDTH;
                             7181 ; 510  |        unsigned int DCDC1_NEW_SCHEME           : HW_DCDC_TBR_DCDC1_NEW_SCHEME_WIDTH;
                             7182 ; 511  |        unsigned int DCDC1_HALF_FETS            : HW_DCDC_TBR_DCDC1_HALF_FETS_WIDTH;
                             7183 ; 512  |        unsigned int DCDC2_DIS_5BIT             : HW_DCDC_TBR_DCDC2_DIS_5BIT_WIDTH;
                             7184 ; 513  |        unsigned int DCDC2_CLK4X                : HW_DCDC_TBR_DCDC2_CLK4X_WIDTH;
                             7185 ; 514  |        unsigned int DCDC2_CLK2X                : HW_DCDC_TBR_DCDC2_CLK2X_WIDTH;
                             7186 ; 515  |        unsigned int DCDC2_VDD5V_ACTIVE         : HW_DCDC_TBR_DCDC2_VDD5V_ACTIVE_WIDTH;
                             7187 ; 516  |        unsigned int DCDC2_PFM                  : HW_DCDC_TBR_DCDC2_PFM_WIDTH;
                             7188 ; 517  |        unsigned int DCDC2_STOPCLK              : HW_DCDC_TBR_DCDC2_STOPCLK_WIDTH;
                             7189 ; 518  |    } B;
                             7190 ; 519  |    unsigned int I;
                             7191 ; 520  |} usb_dcdctbr_type;
                             7192 ; 521  |#define HW_DCDC_TBR                     (*(volatile usb_dcdctbr_type _X*) (HW_DCDC_BASEADD
                                  R+8))    /* Analog test bit register*/
                             7193 ; 522  |
                             7194 ; 523  |
                             7195 ; 524  |/////////////////////////////////////////////////////////////////////////////////
                             7196 ; 525  |
                             7197 ; 526  |//  Analog Persistent Config (HW_VDD5V_PWR_CHARGE) Bit Definitions
                             7198 ; 527  |
                             7199 ; 528  |#define HW_VDD5V_PWR_CHARGE_BATT_CURRENT_WIDTH (6)
                             7200 ; 529  |#define HW_VDD5V_PWR_CHARGE_RSVD0_WIDTH (2)
                             7201 ; 530  |#define HW_VDD5V_PWR_CHARGE_PWD_WIDTH (1)
                             7202 ; 531  |#define HW_VDD5V_PWR_CHARGE_RES_WIDTH (1)
                             7203 ; 532  |#define HW_VDD5V_PWR_CHARGE_NIMH_WIDTH (1)
                             7204 ; 533  |#define HW_VDD5V_PWR_CHARGE_LI_TYPE_WIDTH (1)
                             7205 ; 534  |#define HW_VDD5V_PWR_CHARGE_DISABLE_ILIMIT_WIDTH (1)
                             7206 ; 535  |#define HW_VDD5V_PWR_CHARGE_PWDN_ON_IOBRNOUT_WIDTH (1)
                             7207 ; 536  |#define HW_VDD5V_PWR_CHARGE_DCANA_LP_WIDTH (1)
                             7208 ; 537  |#define HW_VDD5V_PWR_CHARGE_TEST_USBREGS_WIDTH (1)
                             7209 ; 538  |#define HW_VDD5V_PWR_CHARGE_DRV_BATT_WIDTH (1)
                             7210 ; 539  |#define HW_VDD5V_PWR_CHARGE_SWCHRG_BAT_WIDTH (1)
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 117

M:ADDR CODE           CYCLES LINE SOURCELINE
                             7211 ; 540  |#define HW_VDD5V_PWR_CHARGE_RSVD1_WIDTH (2)
                             7212 ; 541  |#define HW_VDD5V_PWR_CHARGE_VDD5V_PRESENT_WIDTH (1)
                             7213 ; 542  |#define HW_VDD5V_PWR_CHARGE_BATT_INFO_WIDTH (2)
                             7214 ; 543  |#define HW_VDD5V_PWR_CHARGE_RSVD2_WIDTH (3)
                             7215 ; 544  |
                             7216 ; 545  |#define HW_VDD5V_PWR_CHARGE_BATT_CURRENT_BITPOS (0)
                             7217 ; 546  |#define HW_VDD5V_PWR_CHARGE_PWD_BITPOS (8)
                             7218 ; 547  |#define HW_VDD5V_PWR_CHARGE_RES_BITPOS (9)
                             7219 ; 548  |#define HW_VDD5V_PWR_CHARGE_NIMH_BITPOS (10)
                             7220 ; 549  |
                             7221 ; 550  |#define HW_VDD5V_PWR_CHARGE_LI_TYPE_BITPOS (11)
                             7222 ; 551  |#define HW_VDD5V_PWR_CHARGE_DISABLE_ILIMIT_BITPOS (12)
                             7223 ; 552  |#define HW_VDD5V_PWR_CHARGE_PWDN_ON_IOBRNOUT_BITPOS (13)
                             7224 ; 553  |#define HW_VDD5V_PWR_CHARGE_DCANA_LP_BITPOS (14)
                             7225 ; 554  |#define HW_VDD5V_PWR_CHARGE_TEST_USBREGS_BITPOS (15)
                             7226 ; 555  |#define HW_VDD5V_PWR_CHARGE_DRV_BATT_BITPOS (16)
                             7227 ; 556  |#define HW_VDD5V_PWR_CHARGE_SWCHRG_BAT_BITPOS (17)
                             7228 ; 557  |#define HW_VDD5V_PWR_CHARGE_VDD5V_PRESENT_BITPOS (20)
                             7229 ; 558  |#define HW_VDD5V_PWR_CHARGE_BATT_INFO_BITPOS (21)
                             7230 ; 559  |
                             7231 ; 560  |#define HW_VDD5V_PWR_CHARGE_BATT_CURRENT_SETMASK (((1<<HW_VDD5V_PWR_CHARGE_BATT_CURRENT_WI
                                  DTH)-1)<<HW_VDD5V_PWR_CHARGE_BATT_CURRENT_BITPOS)        
                             7232 ; 561  |#define HW_VDD5V_PWR_CHARGE_PWD_SETMASK (((1<<HW_VDD5V_PWR_CHARGE_PWD_WIDTH)-1)<<HW_VDD5V_
                                  PWR_CHARGE_PWD_BITPOS)        
                             7233 ; 562  |#define HW_VDD5V_PWR_CHARGE_RES_SETMASK (((1<<HW_VDD5V_PWR_CHARGE_RES_WIDTH)-1)<<HW_VDD5V_
                                  PWR_CHARGE_RES_BITPOS) 
                             7234 ; 563  |#define HW_VDD5V_PWR_CHARGE_NIMH_SETMASK (((1<<HW_VDD5V_PWR_CHARGE_NIMH_WIDTH)-1)<<HW_VDD5
                                  V_PWR_CHARGE_NIMH_BITPOS) 
                             7235 ; 564  |#define HW_VDD5V_PWR_CHARGE_LI_TYPE_SETMASK (((1<<HW_VDD5V_PWR_CHARGE_LI_TYPE_WIDTH)-1)<<H
                                  W_VDD5V_PWR_CHARGE_LI_TYPE_BITPOS) 
                             7236 ; 565  |#define HW_VDD5V_PWR_CHARGE_DISABLE_ILIMIT_SETMASK (((1<<HW_VDD5V_PWR_CHARGE_DISABLE_ILIMI
                                  T_WIDTH)-1)<<HW_VDD5V_PWR_CHARGE_DISABLE_ILIMIT_BITPOS)        
                             7237 ; 566  |#define HW_VDD5V_PWR_CHARGE_PWDN_ON_IOBRNOUT_SETMASK (((1<<HW_VDD5V_PWR_CHARGE_PWDN_ON_IOB
                                  RNOUT_WIDTH)-1)<<HW_VDD5V_PWR_CHARGE_PWDN_ON_IOBRNOUT_BITPOS)        
                             7238 ; 567  |#define HW_VDD5V_PWR_CHARGE_DCANA_LP_SETMASK (((1<<HW_VDD5V_PWR_CHARGE_DCANA_LP_WIDTH)-1)<
                                  <HW_VDD5V_PWR_CHARGE_DCANA_LP_BITPOS) 
                             7239 ; 568  |#define HW_VDD5V_PWR_CHARGE_TEST_USBREGS_SETMASK (((1<<HW_VDD5V_PWR_CHARGE_TEST_USBREGS_WI
                                  DTH)-1)<<HW_VDD5V_PWR_CHARGE_TEST_USBREGS_BITPOS) 
                             7240 ; 569  |#define HW_VDD5V_PWR_CHARGE_DRV_BATT_SETMASK (((1<<HW_VDD5V_PWR_CHARGE_DRV_BATT_WIDTH)-1)<
                                  <HW_VDD5V_PWR_CHARGE_DRV_BATT_BITPOS) 
                             7241 ; 570  |#define HW_VDD5V_PWR_CHARGE_SWCHRG_BAT_SETMASK (((1<<HW_VDD5V_PWR_CHARGE_SWCHRG_BAT_WIDTH)
                                  -1)<<HW_VDD5V_PWR_CHARGE_SWCHRG_BAT_BITPOS) 
                             7242 ; 571  |#define HW_VDD5V_PWR_CHARGE_VDD5V_PRESENT_SETMASK (((1<<HW_VDD5V_PWR_CHARGE_VDD5V_PRESENT_
                                  WIDTH)-1)<<HW_VDD5V_PWR_CHARGE_VDD5V_PRESENT_BITPOS) 
                             7243 ; 572  |#define HW_VDD5V_PWR_CHARGE_BATT_INFO_SETMASK (((1<<HW_VDD5V_PWR_CHARGE_BATT_INFO_WIDTH)-1
                                  )<<HW_VDD5V_PWR_CHARGE_BATT_INFO_BITPOS) 
                             7244 ; 573  |
                             7245 ; 574  |
                             7246 ; 575  |#define HW_VDD5V_PWR_CHARGE_BATT_CURRENT_CLRMASK (~(WORD)HW_VDD5V_PWR_CHARGE_BATT_CURRENT_
                                  SETMASK)     
                             7247 ; 576  |#define HW_VDD5V_PWR_CHARGE_PWD_CLRMASK (~(WORD)HW_VDD5V_PWR_CHARGE_PWD_SETMASK)     
                             7248 ; 577  |#define HW_VDD5V_PWR_CHARGE_RES_CLRMASK (~(WORD)HW_VDD5V_PWR_CHARGE_RES_SETMASK) 
                             7249 ; 578  |#define HW_VDD5V_PWR_CHARGE_NIMH_CLRMASK (~(WORD)HW_VDD5V_PWR_CHARGE_NIMH_SETMASK) 
                             7250 ; 579  |#define HW_VDD5V_PWR_CHARGE_LI_TYPE_CLRMASK (~(WORD)HW_VDD5V_PWR_CHARGE_LI_TYPE_SETMASK) 
                             7251 ; 580  |#define HW_VDD5V_PWR_CHARGE_DISABLE_ILIMIT_CLRMASK (~(WORD)HW_VDD5V_PWR_CHARGE_DISABLE_ILI
                                  MIT_SETMASK)     
                             7252 ; 581  |#define HW_VDD5V_PWR_CHARGE_PWDN_ON_IOBRNOUT_CLRMASK (~(WORD)HW_VDD5V_PWR_CHARGE_PWDN_ON_I
                                  OBRNOUT_SETMASK)     
                             7253 ; 582  |#define HW_VDD5V_PWR_CHARGE_DCANA_LP_CLRMASK (~(WORD)HW_VDD5V_PWR_CHARGE_DCANA_LP_SETMASK)
                                   
                             7254 ; 583  |#define HW_VDD5V_PWR_CHARGE_TEST_USBREGS_CLRMASK (~(WORD)HW_VDD5V_PWR_CHARGE_TEST_USBREGS_
                                  SETMASK) 
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 118

M:ADDR CODE           CYCLES LINE SOURCELINE
                             7255 ; 584  |#define HW_VDD5V_PWR_CHARGE_DRV_BATT_CLRMASK (~(WORD)HW_VDD5V_PWR_CHARGE_DRV_BATT_SETMASK)
                                   
                             7256 ; 585  |#define HW_VDD5V_PWR_CHARGE_SWCHRG_BAT_CLRMASK (~(WORD)HW_VDD5V_PWR_CHARGE_SWCHRG_BAT_SETM
                                  ASK) 
                             7257 ; 586  |#define HW_VDD5V_PWR_CHARGE_VDD5V_PRESENT_CLRMASK (~(WORD)HW_VDD5V_PWR_CHARGE_VDD5V_PRESEN
                                  T_SETMASK) 
                             7258 ; 587  |#define HW_VDD5V_PWR_CHARGE_BATT_INFO_CLRMASK (~(WORD)HW_VDD5V_PWR_CHARGE_BATT_INFO_SETMAS
                                  K) 
                             7259 ; 588  |
                             7260 ; 589  |typedef union               
                             7261 ; 590  |{
                             7262 ; 591  |    struct {
                             7263 ; 592  |        unsigned int BATT_CURRENT               : HW_VDD5V_PWR_CHARGE_BATT_CURRENT_WIDTH;
                             7264 ; 593  |        unsigned int RSVD0                      : HW_VDD5V_PWR_CHARGE_RSVD0_WIDTH;
                             7265 ; 594  |        unsigned int PWD                        : HW_VDD5V_PWR_CHARGE_PWD_WIDTH;
                             7266 ; 595  |        unsigned int RES                        : HW_VDD5V_PWR_CHARGE_RES_WIDTH;
                             7267 ; 596  |        unsigned int NIMH                       : HW_VDD5V_PWR_CHARGE_NIMH_WIDTH;
                             7268 ; 597  |        unsigned int LI_TYPE                    : HW_VDD5V_PWR_CHARGE_LI_TYPE_WIDTH;
                             7269 ; 598  |        unsigned int DISABLE_ILIMIT             : HW_VDD5V_PWR_CHARGE_DISABLE_ILIMIT_WIDTH
                                  ;
                             7270 ; 599  |        unsigned int PWDN_ON_IOBRNOUT           : HW_VDD5V_PWR_CHARGE_PWDN_ON_IOBRNOUT_WID
                                  TH;
                             7271 ; 600  |        unsigned int DCANA_LP                   : HW_VDD5V_PWR_CHARGE_DCANA_LP_WIDTH;
                             7272 ; 601  |        unsigned int TEST_USBREGS               : HW_VDD5V_PWR_CHARGE_TEST_USBREGS_WIDTH;
                             7273 ; 602  |        unsigned int DRV_BATT                   : HW_VDD5V_PWR_CHARGE_DRV_BATT_WIDTH;
                             7274 ; 603  |        unsigned int SWCHRG_BAT                 : HW_VDD5V_PWR_CHARGE_SWCHRG_BAT_WIDTH;
                             7275 ; 604  |        unsigned int RSVD1                      : HW_VDD5V_PWR_CHARGE_RSVD1_WIDTH;
                             7276 ; 605  |        unsigned int VDD5V_PRESENT              : HW_VDD5V_PWR_CHARGE_VDD5V_PRESENT_WIDTH;
                                  
                             7277 ; 606  |        unsigned int RSVD2                      : HW_VDD5V_PWR_CHARGE_RSVD2_WIDTH;
                             7278 ; 607  |    } B;
                             7279 ; 608  |    unsigned int I;
                             7280 ; 609  |} usb_pwr_charge_type;
                             7281 ; 610  |#define HW_VDD5V_PWR_CHARGE      (*(volatile usb_pwr_charge_type _X*) (HW_DCDC_BASEADDR+17
                                  ))    /* Analog Persistent Config Register */
                             7282 ; 611  |
                             7283 ; 612  |#define HW_DCDC_PERSIST_AUTO_RESTART_STAT_WIDTH 1
                             7284 ; 613  |#define HW_DCDC_PERSIST_DELAY_5V_AUTO_RESTART_STAT_WIDTH 1
                             7285 ; 614  |#define HW_DCDC_PERSIST_UPDATE_WIDTH 1
                             7286 ; 615  |#define HW_DCDC_PERSIST_AUTO_RESTART_WIDTH 1
                             7287 ; 616  |#define HW_DCDC_PERSIST_DELAY_5V_AUTO_RESTART_WIDTH 1
                             7288 ; 617  |#define HW_DCDC_PERSIST_LOW_BATT_TYPE_WIDTH 1
                             7289 ; 618  |#define HW_DCDC_PERSIST_LOW_BATTERY_ENABLE_WIDTH 1
                             7290 ; 619  |#define HW_DCDC_PERSIST_SLEEP_XTAL_ENABLE_WIDTH 1
                             7291 ; 620  |#define HW_DCDC_PERSIST_XTAL_TRIM1_WIDTH 1
                             7292 ; 621  |#define HW_DCDC_PERSIST_XTAL_TRIM0_WIDTH 1
                             7293 ; 622  |#define HW_DCDC_PERSIST_XTAL_BIAS_DOWN1_WIDTH 1
                             7294 ; 623  |#define HW_DCDC_PERSIST_XTAL_BIAS_DOWN0_WIDTH 1
                             7295 ; 624  |#define HW_DCDC_PERSIST_XTAL_TRM_ENABLE_WIDTH 1
                             7296 ; 625  |#define HW_DCDC_PERSIST_RSRVD_WIDTH 2
                             7297 ; 626  |
                             7298 ; 627  |#define HW_DCDC_PERSIST_AUTO_RESTART_STAT_BITPOS 12
                             7299 ; 628  |#define HW_DCDC_PERSIST_DELAY_5V_AUTO_RESTART_STAT_BITPOS 11
                             7300 ; 629  |#define HW_DCDC_PERSIST_UPDATE_BITPOS 10
                             7301 ; 630  |#define HW_DCDC_PERSIST_AUTO_RESTART_BITPOS 9
                             7302 ; 631  |#define HW_DCDC_PERSIST_DELAY_5V_AUTO_RESTART_BITPOS 8 
                             7303 ; 632  |#define HW_DCDC_PERSIST_LOW_BATT_TYPE_BITPOS 7
                             7304 ; 633  |#define HW_DCDC_PERSIST_LOW_BATTERY_ENABLE_BITPOS 6
                             7305 ; 634  |#define HW_DCDC_PERSIST_SLEEP_XTAL_ENABLE_BITPOS 5
                             7306 ; 635  |#define HW_DCDC_PERSIST_XTAL_TRIM1_BITPOS 4
                             7307 ; 636  |#define HW_DCDC_PERSIST_XTAL_TRIM0_BITPOS 3
                             7308 ; 637  |#define HW_DCDC_PERSIST_XTAL_BIAS_DOWN1_BITPOS 2
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 119

M:ADDR CODE           CYCLES LINE SOURCELINE
                             7309 ; 638  |#define HW_DCDC_PERSIST_XTAL_BIAS_DOWN0_BITPOS 1
                             7310 ; 639  |#define HW_DCDC_PERSIST_XTAL_TRM_ENABLE_BITPOS 0
                             7311 ; 640  |
                             7312 ; 641  |typedef union               
                             7313 ; 642  |{
                             7314 ; 643  |    struct {       
                             7315 ; 644  |       int XTAL_TRM_ENABLE             : HW_DCDC_PERSIST_XTAL_TRM_ENABLE_WIDTH;
                             7316 ; 645  |       int XTAL_BIAS_DOWN0             : HW_DCDC_PERSIST_XTAL_BIAS_DOWN0_WIDTH;
                             7317 ; 646  |       int XTAL_BIAS_DOWN1             : HW_DCDC_PERSIST_XTAL_BIAS_DOWN1_WIDTH;
                             7318 ; 647  |       int XTAL_TRIM0                  : HW_DCDC_PERSIST_XTAL_TRIM0_WIDTH;
                             7319 ; 648  |       int XTAL_TRIM1                  : HW_DCDC_PERSIST_XTAL_TRIM1_WIDTH;
                             7320 ; 649  |       int SLEEP_XTAL_ENABLE           : HW_DCDC_PERSIST_SLEEP_XTAL_ENABLE_WIDTH;
                             7321 ; 650  |       int LOW_BATTERY_ENABLE          : HW_DCDC_PERSIST_LOW_BATTERY_ENABLE_WIDTH;
                             7322 ; 651  |       int LOW_BATT_TYPE               : HW_DCDC_PERSIST_LOW_BATT_TYPE_WIDTH;
                             7323 ; 652  |       int DELAY_5V_AUTO_RESTART       : HW_DCDC_PERSIST_DELAY_5V_AUTO_RESTART_WIDTH;
                             7324 ; 653  |       int AUTO_RESTART                : HW_DCDC_PERSIST_AUTO_RESTART_WIDTH;
                             7325 ; 654  |       int UPDATE                      : HW_DCDC_PERSIST_UPDATE_WIDTH;
                             7326 ; 655  |       int DELAY_5V_AUTO_RESTART_STAT  : HW_DCDC_PERSIST_DELAY_5V_AUTO_RESTART_STAT_WIDTH;
                                  
                             7327 ; 656  |       int AUTO_RESTART_STAT           : HW_DCDC_PERSIST_AUTO_RESTART_STAT_WIDTH;
                             7328 ; 657  |       int RSRVD                       : HW_DCDC_PERSIST_RSRVD_WIDTH;
                             7329 ; 658  |    } B;
                             7330 ; 659  |    int I;
                             7331 ; 660  |} usb_dcdcpersist_type;
                             7332 ; 661  |#define HW_DCDC_PERSIST                (*(volatile usb_dcdcpersist_type _X*) (HW_DCDC_BASE
                                  ADDR+15))    /* Analog test bit register*/
                             7333 ; 662  |
                             7334 ; 663  |
                             7335 ; 664  |
                             7336 ; 665  |#endif
                             7337 ; 666  |
                             7338 ; 667  |
                             7339 ; 668  |
                             7340 
                             7342 
                             7343 ; 21   |#include "regsemc.h"
                             7344 
                             7346 
                             7347 ; 1    |#if !(defined(__REGS_EMC_INC))
                             7348 ; 2    |#define __REGS_EMC_INC 1
                             7349 ; 3    |
                             7350 ; 4    |/////////////////////////////////////////////////////////////////////////////////
                             7351 ; 5    |//   Module base addresses
                             7352 ; 6    |/////////////////////////////////////////////////////////////////////////////////
                             7353 ; 7    |#define HW_EMC_BASEADDR 0xF000
                             7354 ; 8    |
                             7355 ; 9    |/////////////////////////////////////////////////////////////////////////////////
                             7356 ; 10   |//  EMC Registers
                             7357 ; 11   |/////////////////////////////////////////////////////////////////////////////////
                             7358 ; 12   |
                             7359 ; 13   |
                             7360 ; 14   |/////////////////////////////////////////////////////////////////////////////////
                             7361 ; 15   |//  Flash Control Register (HW_FLCR) Bit Definitions
                             7362 ; 16   |
                             7363 ; 17   |typedef union               /*Flash Control Register*/
                             7364 ; 18   |{
                             7365 ; 19   |    struct
                             7366 ; 20   |    {
                             7367 ; 21   |    int KICK        :1;
                             7368 ; 22   |    int RW          :1;
                             7369 ; 23   |    int TCIE        :1;
                             7370 ; 24   |    int IRQP        :1;
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 120

M:ADDR CODE           CYCLES LINE SOURCELINE
                             7371 ; 25   |    unsigned MMD    :2;
                             7372 ; 26   |    unsigned NB     :11;
                             7373 ; 27   |    unsigned RSVD   :4;
                             7374 ; 28   |    int SRST        :1;
                             7375 ; 29   |    } B;
                             7376 ; 30   |    int I;
                             7377 ; 31   |} flcr_type;
                             7378 ; 32   |
                             7379 ; 33   |#define HW_FLCR_KICK_BITPOS 0
                             7380 ; 34   |#define HW_FLCR_RW_BITPOS 1
                             7381 ; 35   |#define HW_FLCR_TCIE_BITPOS 2
                             7382 ; 36   |#define HW_FLCR_IRQP_BITPOS 3
                             7383 ; 37   |#define HW_FLCR_MMD_BITPOS 4
                             7384 ; 38   |#define HW_FLCR_NB_BITPOS 6
                             7385 ; 39   |#define HW_FLCR_SRST_BITPOS 21
                             7386 ; 40   |
                             7387 ; 41   |#define HW_FLCR_KICK_SETMASK 1<<HW_FLCR_KICK_BITPOS
                             7388 ; 42   |#define HW_FLCR_RW_SETMASK 1<<HW_FLCR_RW_BITPOS
                             7389 ; 43   |#define HW_FLCR_READ_KICK_SETMASK HW_FLCR_KICK_SETMASK|HW_FLCR_RW_SETMASK
                             7390 ; 44   |#define HW_FLCR_WRITE_KICK_SETMASK HW_FLCR_KICK_SETMASK
                             7391 ; 45   |#define HW_FLCR_TCIE_SETMASK 1<<HW_FLCR_TCIE_BITPOS
                             7392 ; 46   |#define HW_FLCR_IRQP_SETMASK 1<<HW_FLCR_IRQP_BITPOS
                             7393 ; 47   |#define HW_FLCR_MMD_SETMASK 3<<HW_FLCR_MMD_BITPOS
                             7394 ; 48   |#define HW_FLCR_NB_SETMASK 0x7FF<<HW_FLCR_NB_BITPOS
                             7395 ; 49   |#define HW_FLCR_SRST_SETMASK 1<<HW_FLCR_SRST_BITPOS
                             7396 ; 50   |
                             7397 ; 51   |#define HW_FLCR_KICK_CLRMASK ~(WORD)HW_FLCR_KICK_SETMASK
                             7398 ; 52   |#define HW_FLCR_RW_CLRMASK ~(WORD)HW_FLCR_RW_SETMASK
                             7399 ; 53   |#define HW_FLCR_TCIE_CLRMASK ~(WORD)HW_FLCR_TCIE_SETMASK
                             7400 ; 54   |#define HW_FLCR_IRQP_CLRMASK ~(WORD)HW_FLCR_IRQP_SETMASK
                             7401 ; 55   |#define HW_FLCR_MMD_CLRMASK ~(WORD)HW_FLCR_MMD_SETMASK
                             7402 ; 56   |#define HW_FLCR_NB_CLRMASK ~(WORD)HW_FLCR_NB_SETMASK
                             7403 ; 57   |#define HW_FLCR_SRST_CLRMASK ~(WORD)HW_FLCR_SRST_SETMASK
                             7404 ; 58   |
                             7405 ; 59   |
                             7406 ; 60   |/////////////////////////////////////////////////////////////////////////////////
                             7407 ; 61   |//  Flash Start Address Low Register (HW_FLSALR) Bit Definitions
                             7408 ; 62   |
                             7409 ; 63   |typedef union           /* Flash Start Address Low*/
                             7410 ; 64   |{
                             7411 ; 65   |    struct
                             7412 ; 66   |    {
                             7413 ; 67   |    unsigned XA     : 24;
                             7414 ; 68   |    } B;
                             7415 ; 69   |    int I;
                             7416 ; 70   |} flsalr_type;
                             7417 ; 71   |
                             7418 ; 72   |#define HW_FLSALR_XA_BITPOS 0
                             7419 ; 73   |
                             7420 ; 74   |#define HW_FLSALR_XA_SETMASK 0xFFFFFF<<HW_FLSALR_XA_BITPOS
                             7421 ; 75   |
                             7422 ; 76   |#define HW_FLSALR_XA_CLRMASK ~(WORD)HW_FLSALR_XA_SETMASK
                             7423 ; 77   |
                             7424 ; 78   |
                             7425 ; 79   |/////////////////////////////////////////////////////////////////////////////////
                             7426 ; 80   |//  Flash Start Address High Register (HW_FLSAHR) Bit Definitions
                             7427 ; 81   |
                             7428 ; 82   |typedef union           /* Flash Start Address High*/
                             7429 ; 83   |{
                             7430 ; 84   |    struct
                             7431 ; 85   |    {
                             7432 ; 86   |    unsigned XA     :8;
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 121

M:ADDR CODE           CYCLES LINE SOURCELINE
                             7433 ; 87   |    unsigned DA     :16;
                             7434 ; 88   |    } B;
                             7435 ; 89   |    int I;
                             7436 ; 90   |} flsahr_type;
                             7437 ; 91   |
                             7438 ; 92   |#define HW_FLSAHR_XA_BITPOS 0
                             7439 ; 93   |
                             7440 ; 94   |#define HW_FLSAHR_XA_SETMASK 0xFFFFFF<<HW_FLSAHR_XA_BITPOS
                             7441 ; 95   |
                             7442 ; 96   |#define HW_FLSAHR_XA_CLRMASK ~(WORD)HW_FLSAHR_XA_SETMASK
                             7443 ; 97   |
                             7444 ; 98   |
                             7445 ; 99   |/////////////////////////////////////////////////////////////////////////////////
                             7446 ; 100  |//  EMC Flash CompactFlash Control Register (HW_FLCFCR) Bit Definitions
                             7447 ; 101  |
                             7448 ; 102  |typedef union           /* Flash CompactFlash Control Register*/
                             7449 ; 103  |{
                             7450 ; 104  |    struct
                             7451 ; 105  |    {
                             7452 ; 106  |        int WP          :1;
                             7453 ; 107  |        int CDP         :1;
                             7454 ; 108  |        unsigned SM     :2;
                             7455 ; 109  |        int XATTR       :1;
                             7456 ; 110  |        int CRST        :1;
                             7457 ; 111  |        int XWT         :1;
                             7458 ; 112  |        int RI          :1;
                             7459 ; 113  |        int IFCE        :1;
                             7460 ; 114  |        int ISCE        :1;
                             7461 ; 115  |        int INCE        :1;
                             7462 ; 116  |        int IFCS        :1;
                             7463 ; 117  |        int ISCS        :1;
                             7464 ; 118  |        int INCS        :1;
                             7465 ; 119  |        unsigned CFAI   :2;
                             7466 ; 120  |        int XDDI        :1;
                             7467 ; 121  |        unsigned CS     :2;
                             7468 ; 122  |        int CRE         :1;
                             7469 ; 123  |        unsigned VS     :2;
                             7470 ; 124  |        int DASP        :1;
                             7471 ; 125  |        int MODE16      :1; 
                             7472 ; 126  |    } B;
                             7473 ; 127  |    int I;
                             7474 ; 128  |} flcfcr_type;
                             7475 ; 129  |
                             7476 ; 130  |#define HW_FLCFCR_WP_BITPOS 0
                             7477 ; 131  |#define HW_FLCFCR_CDP_BITPOS 1
                             7478 ; 132  |#define HW_FLCFCR_SM_BITPOS 2
                             7479 ; 133  |#define HW_FLCFCR_XATTR_BITPOS 4
                             7480 ; 134  |#define HW_FLCFCR_CRST_BITPOS 5
                             7481 ; 135  |#define HW_FLCFCR_XWT_BITPOS 6
                             7482 ; 136  |#define HW_FLCFCR_RI_BITPOS 7
                             7483 ; 137  |#define HW_FLCFCR_IFCE_BITPOS 8
                             7484 ; 138  |#define HW_FLCFCR_ISCE_BITPOS 9
                             7485 ; 139  |#define HW_FLCFCR_INCE_BITPOS 10
                             7486 ; 140  |#define HW_FLCFCR_IFCS_BITPOS 11
                             7487 ; 141  |#define HW_FLCFCR_ISCS_BITPOS 12
                             7488 ; 142  |#define HW_FLCFCR_INCS_BITPOS 13
                             7489 ; 143  |#define HW_FLCFCR_CFAI_BITPOS 14
                             7490 ; 144  |#define HW_FLCFCR_XDDI_BITPOS 16
                             7491 ; 145  |#define HW_FLCFCR_CS_BITPOS 17
                             7492 ; 146  |#define HW_FLCFCR_CRE_BITPOS 19
                             7493 ; 147  |#define HW_FLCFCR_VS_BITPOS 20
                             7494 ; 148  |#define HW_FLCFCR_DASP_BITPOS 22
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 122

M:ADDR CODE           CYCLES LINE SOURCELINE
                             7495 ; 149  |
                             7496 ; 150  |#define HW_FLCFCR_WP_SETMASK 1<<HW_FLCFCR_WP_BITPOS
                             7497 ; 151  |#define HW_FLCFCR_CDP_SETMASK 1<<HW_FLCFCR_CDP_BITPOS
                             7498 ; 152  |#define HW_FLCFCR_SM_SETMASK 3<<HW_FLCFCR_SM_BITPOS
                             7499 ; 153  |#define HW_FLCFCR_XATTR_SETMASK 1<<HW_FLCFCR_XATTR_BITPOS
                             7500 ; 154  |#define HW_FLCFCR_CRST_SETMASK 1<<HW_FLCFCR_CRST_BITPOS
                             7501 ; 155  |#define HW_FLCFCR_XWT_SETMASK 1<<HW_FLCFCR_XWT_BITPOS
                             7502 ; 156  |#define HW_FLCFCR_RI_SETMASK 1<<HW_FLCFCR_RI_BITPOS
                             7503 ; 157  |#define HW_FLCFCR_IFCE_SETMASK 1<<HW_FLCFCR_IFCE_BITPOS
                             7504 ; 158  |#define HW_FLCFCR_ISCE_SETMASK 1<<HW_FLCFCR_ISCE_BITPOS
                             7505 ; 159  |#define HW_FLCFCR_INCE_SETMASK 1<<HW_FLCFCR_INCE_BITPOS
                             7506 ; 160  |#define HW_FLCFCR_IFCS_SETMASK 1<<HW_FLCFCR_IFCS_BITPOS
                             7507 ; 161  |#define HW_FLCFCR_ISCS_SETMASK 1<<HW_FLCFCR_ISCS_BITPOS
                             7508 ; 162  |#define HW_FLCFCR_INCS_SETMASK 1<<HW_FLCFCR_INCS_BITPOS
                             7509 ; 163  |#define HW_FLCFCR_CFAI_SETMASK 3<<HW_FLCFCR_CFAI_BITPOS
                             7510 ; 164  |#define HW_FLCFCR_XDDI_SETMASK 1<<HW_FLCFCR_XDDI_BITPOS
                             7511 ; 165  |#define HW_FLCFCR_CS_SETMASK 3<<HW_FLCFCR_CS_BITPOS
                             7512 ; 166  |#define HW_FLCFCR_CRE_SETMASK 1<<HW_FLCFCR_CRE_BITPOS
                             7513 ; 167  |#define HW_FLCFCR_VS_SETMASK 3<<HW_FLCFCR_VS_BITPOS
                             7514 ; 168  |#define HW_FLCFCR_DASP_SETMASK 1<<HW_FLCFCR_DASP_BITPOS
                             7515 ; 169  |
                             7516 ; 170  |#define HW_FLCFCR_WP_CLRMASK ~(WORD)HW_FLCFCR_WP_SETMASK
                             7517 ; 171  |#define HW_FLCFCR_CDP_CLRMASK ~(WORD)HW_FLCFCR_CDP_SETMASK
                             7518 ; 172  |#define HW_FLCFCR_SM_CLRMASK ~(WORD)HW_FLCFCR_SM_SETMASK
                             7519 ; 173  |#define HW_FLCFCR_XATTR_CLRMASK ~(WORD)HW_FLCFCR_XATTR_SETMASK
                             7520 ; 174  |#define HW_FLCFCR_CRST_CLRMASK ~(WORD)HW_FLCFCR_CRST_SETMASK
                             7521 ; 175  |#define HW_FLCFCR_XWT_CLRMASK ~(WORD)HW_FLCFCR_XWT_SETMASK
                             7522 ; 176  |#define HW_FLCFCR_RI_CLRMASK ~(WORD)HW_FLCFCR_RI_SETMASK
                             7523 ; 177  |#define HW_FLCFCR_IFCE_CLRMASK ~(WORD)HW_FLCFCR_IFCE_SETMASK
                             7524 ; 178  |#define HW_FLCFCR_ISCE_CLRMASK ~(WORD)HW_FLCFCR_ISCE_SETMASK
                             7525 ; 179  |#define HW_FLCFCR_INCE_CLRMASK ~(WORD)HW_FLCFCR_INCE_SETMASK
                             7526 ; 180  |#define HW_FLCFCR_IFCS_CLRMASK ~(WORD)HW_FLCFCR_IFCS_SETMASK
                             7527 ; 181  |#define HW_FLCFCR_ISCS_CLRMASK ~(WORD)HW_FLCFCR_ISCS_SETMASK
                             7528 ; 182  |#define HW_FLCFCR_INCS_CLRMASK ~(WORD)HW_FLCFCR_INCS_SETMASK
                             7529 ; 183  |#define HW_FLCFCR_CFAI_CLRMASK ~(WORD)HW_FLCFCR_CFAI_SETMASK
                             7530 ; 184  |#define HW_FLCFCR_XDDI_CLRMASK ~(WORD)HW_FLCFCR_XDDI_SETMASK
                             7531 ; 185  |#define HW_FLCFCR_CS_CLRMASK ~(WORD)HW_FLCFCR_CS_SETMASK
                             7532 ; 186  |#define HW_FLCFCR_CRE_CLRMASK ~(WORD)HW_FLCFCR_CRE_SETMASK
                             7533 ; 187  |#define HW_FLCFCR_VS_CLRMASK ~(WORD)HW_FLCFCR_VS_SETMASK
                             7534 ; 188  |#define HW_FLCFCR_DASP_CLRMASK ~(WORD)HW_FLCFCR_DASP_SETMASK
                             7535 ; 189  |
                             7536 ; 190  |
                             7537 ; 191  |/////////////////////////////////////////////////////////////////////////////////
                             7538 ; 192  |//  EMC Flash Compact Flash Timer1 Register (HW_FLCFTMR1R) Bit Definitions
                             7539 ; 193  |
                             7540 ; 194  |typedef union           /* Flash CompactFlash Timer1 Register*/
                             7541 ; 195  |{
                             7542 ; 196  |    struct
                             7543 ; 197  |    {
                             7544 ; 198  |        unsigned TRWSU  :5;
                             7545 ; 199  |        unsigned TRPW   :7;
                             7546 ; 200  |        unsigned TWPW   :7;
                             7547 ; 201  |        unsigned TRWH   :5;
                             7548 ; 202  |    } B;
                             7549 ; 203  |    int I;
                             7550 ; 204  |} flcftmr1r_type;
                             7551 ; 205  |
                             7552 ; 206  |#define HW_FLCFTMR1R_TRWSU_BITPOS 0
                             7553 ; 207  |#define HW_FLCFTMR1R_TRPW_BITPOS 5
                             7554 ; 208  |#define HW_FLCFTMR1R_TWPW_BITPOS 12
                             7555 ; 209  |#define HW_FLCFTMR1R_TRWH_BITPOS 19
                             7556 ; 210  |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 123

M:ADDR CODE           CYCLES LINE SOURCELINE
                             7557 ; 211  |#define HW_FLCFTMR1R_TRWSU_SETMASK 0x1F<<HW_FLCFTMR1R_TRWSU_BITPOS
                             7558 ; 212  |#define HW_FLCFTMR1R_TRPW_SETMASK 0x7F<<HW_FLCFTMR1R_TRPW_BITPOS
                             7559 ; 213  |#define HW_FLCFTMR1R_TWPW_SETMASK 0x7F<<HW_FLCFTMR1R_TWPW_BITPOS
                             7560 ; 214  |#define HW_FLCFTMR1R_TRWH_SETMASK 0x1F<<HW_FLCFTMR1R_TRWH_BITPOS
                             7561 ; 215  |
                             7562 ; 216  |#define HW_FLCFTMR1R_TRWSU_CLRMASK ~(WORD)HW_FLCFTMR1R_TRWSU_SETMASK
                             7563 ; 217  |#define HW_FLCFTMR1R_TRPW_CLRMASK ~(WORD)HW_FLCFTMR1R_TRPW_SETMASK
                             7564 ; 218  |#define HW_FLCFTMR1R_TWPW_CLRMASK ~(WORD)HW_FLCFTMR1R_TWPW_SETMASK
                             7565 ; 219  |#define HW_FLCFTMR1R_TRWH_CLRMASK ~(WORD)HW_FLCFTMR1R_TRWH_SETMASK
                             7566 ; 220  |
                             7567 ; 221  |
                             7568 ; 222  |/////////////////////////////////////////////////////////////////////////////////
                             7569 ; 223  |//  EMC Flash Compact Flash Timer1 Register (HW_FLCFTMR2R) Bit Definitions
                             7570 ; 224  |
                             7571 ; 225  |typedef union           /* Flash CompactFlash Timer2 Register*/
                             7572 ; 226  |{
                             7573 ; 227  |    struct
                             7574 ; 228  |    {
                             7575 ; 229  |        unsigned TWW    :4;
                             7576 ; 230  |        unsigned TWTO   :10;
                             7577 ; 231  |        unsigned THW    :5; 
                             7578 ; 232  |        unsigned TRAQ   :5;
                             7579 ; 233  |    } B;
                             7580 ; 234  |    int I;
                             7581 ; 235  |} flcftmr2r_type;
                             7582 ; 236  |
                             7583 ; 237  |#define HW_FLCFTMR2R_TWW_BITPOS 0
                             7584 ; 238  |#define HW_FLCFTMR2R_TWTO_BITPOS 4
                             7585 ; 239  |#define HW_FLCFTMR2R_THW_BITPOS 14
                             7586 ; 240  |#define HW_FLCFTMR2R_TRAQ_BITPOS 19
                             7587 ; 241  |
                             7588 ; 242  |#define HW_FLCFTMR2R_TWW_SETMASK 0xF<<HW_FLCFTMR2R_TWW_BITPOS
                             7589 ; 243  |#define HW_FLCFTMR2R_TWTO_SETMASK 0x3FF<<HW_FLCFTMR2R_TWTO_BITPOS
                             7590 ; 244  |#define HW_FLCFTMR2R_THW_SETMASK 0x1F<<HW_FLCFTMR2R_THW_BITPOS
                             7591 ; 245  |#define HW_FLCFTMR2R_TRAQ_SETMASK 0x1F<<HW_FLCFTMR2R_TRAQ_BITPOS
                             7592 ; 246  |
                             7593 ; 247  |#define HW_FLCFTMR2R_TWW_CLRMASK ~(WORD)HW_FLCFTMR2R_TWW_SETMASK
                             7594 ; 248  |#define HW_FLCFTMR2R_TWTO_CLRMASK ~(WORD)HW_FLCFTMR2R_TWTO_SETMASK
                             7595 ; 249  |#define HW_FLCFTMR2R_THW_CLRMASK ~(WORD)HW_FLCFTMR2R_THW_SETMASK
                             7596 ; 250  |#define HW_FLCFTMR2R_TRAQ_CLRMASK ~(WORD)HW_FLCFTMR2R_TRAQ_SETMASK
                             7597 ; 251  |
                             7598 ; 252  |
                             7599 ; 253  |/////////////////////////////////////////////////////////////////////////////////
                             7600 ; 254  |//  EMC Flash SmartMedia Control Register (HW_FLSMCR) Bit Definitions
                             7601 ; 255  |
                             7602 ; 256  |typedef union           /* Flash SmartMedia Control Register*/
                             7603 ; 257  |{
                             7604 ; 258  |    struct
                             7605 ; 259  |    {
                             7606 ; 260  |        unsigned CS     :2;
                             7607 ; 261  |        int SE          :1;
                             7608 ; 262  |        int WP          :1;
                             7609 ; 263  |        int SIZE        :1;
                             7610 ; 264  |        int ICMD        :8;
                             7611 ; 265  |        int TOIE        :1;
                             7612 ; 266  |        int BPIE        :1;
                             7613 ; 267  |        int TOIRQ       :1;
                             7614 ; 268  |        int BPIRQ       :1;
                             7615 ; 269  |    } B;
                             7616 ; 270  |    int I;
                             7617 ; 271  |} flsmcr_type;
                             7618 ; 272  |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 124

M:ADDR CODE           CYCLES LINE SOURCELINE
                             7619 ; 273  |#define HW_FLSMCR_CS_BITPOS 0
                             7620 ; 274  |#define HW_FLSMCR_SE_BITPOS 2
                             7621 ; 275  |#define HW_FLSMCR_WP_BITPOS 3
                             7622 ; 276  |#define HW_FLSMCR_SIZE_BITPOS 4
                             7623 ; 277  |#define HW_FLSMCR_ICMD_BITPOS 5
                             7624 ; 278  |#define HW_FLSMCR_TOIE_BITPOS 13
                             7625 ; 279  |#define HW_FLSMCR_BPIE_BITPOS 14
                             7626 ; 280  |#define HW_FLSMCR_TOIRQ_BITPOS 15
                             7627 ; 281  |#define HW_FLSMCR_BPIRQ_BITPOS 16
                             7628 ; 282  |
                             7629 ; 283  |#define HW_FLSMCR_CS_SETMASK 1<<HW_FLSMCR_CS_BITPOS
                             7630 ; 284  |#define HW_FLSMCR_SE_SETMASK 1<<HW_FLSMCR_SE_BITPOS
                             7631 ; 285  |#define HW_FLSMCR_WP_SETMASK 1<<HW_FLSMCR_WP_BITPOS
                             7632 ; 286  |#define HW_FLSMCR_SIZE_SETMASK 1<<HW_FLSMCR_SIZE_BITPOS
                             7633 ; 287  |#define HW_FLSMCR_ICMD_SETMASK (0xFF)<<HW_FLSMCR_ICMD_BITPOS
                             7634 ; 288  |#define HW_FLSMCR_TOIE_SETMASK 1<<HW_FLSMCR_TOIE_BITPOS
                             7635 ; 289  |#define HW_FLSMCR_BPIE_SETMASK 1<<HW_FLSMCR_BPIE_BITPOS
                             7636 ; 290  |#define HW_FLSMCR_TOIRQ_SETMASK 1<<HW_FLSMCR_TOIRQ_BITPOS
                             7637 ; 291  |#define HW_FLSMCR_BPIRQ_SETMASK 1<<HW_FLSMCR_BPIRQ_BITPOS
                             7638 ; 292  |
                             7639 ; 293  |#define HW_FLSMCR_SE_ASSERT_SETMASK 0x000000
                             7640 ; 294  |#define HW_FLSMCR_SE_DEASSERT_SETMASK 0x000004
                             7641 ; 295  |#define HW_FLSMCR_WP_ASSERT_SETMASK 0x000000
                             7642 ; 296  |#define HW_FLSMCR_WP_DEASSERT_SETMASK 0x000008
                             7643 ; 297  |#define HW_FLSMCR_SIZE_SMALL_SETMASK 0x000000
                             7644 ; 298  |#define HW_FLSMCR_SIZE_LARGE_SETMASK 0x000010
                             7645 ; 299  |#define HW_FLSMCR_ICMD_RESET_SETMASK 0x001FE0
                             7646 ; 300  |#define HW_FLSMCR_ICMD_READ_STATUS_SETMASK 0x000E00
                             7647 ; 301  |#define HW_FLSMCR_ICMD_BLOCK_ERASE_SETMASK 0x000C00
                             7648 ; 302  |#define HW_FLSMCR_ICMD_ERASE_SETMASK 0x001A00
                             7649 ; 303  |#define HW_FLSMCR_ICMD_RP_FIRST_SETMASK 0x000000
                             7650 ; 304  |#define HW_FLSMCR_ICMD_RP_SECOND_SETMASK 0x000020
                             7651 ; 305  |#define HW_FLSMCR_ICMD_RP_SPARE_SETMASK 0x000A00
                             7652 ; 306  |#define HW_FLSMCR_ICMD_READ_ID_SETMASK 0x001200
                             7653 ; 307  |
                             7654 ; 308  |#define HW_FLSMCR_CS_CLRMASK ~(WORD)HW_FLSMCR_CS_SETMASK
                             7655 ; 309  |#define HW_FLSMCR_SE_CLRMASK ~(WORD)HW_FLSMCR_SE_SETMASK
                             7656 ; 310  |#define HW_FLSMCR_WP_CLRMASK ~(WORD)HW_FLSMCR_WP_SETMASK
                             7657 ; 311  |#define HW_FLSMCR_SIZE_CLRMASK ~(WORD)HW_FLSMCR_SIZE_SETMASK
                             7658 ; 312  |#define HW_FLSMCR_ICMD_CLRMASK ~(WORD)HW_FLSMCR_ICMD_SETMASK
                             7659 ; 313  |#define HW_FLSMCR_TOIE_CLRMASK ~(WORD)HW_FLSMCR_TOIE_SETMASK
                             7660 ; 314  |#define HW_FLSMCR_BPIE_CLRMASK ~(WORD)HW_FLSMCR_BPIE_SETMASK
                             7661 ; 315  |#define HW_FLSMCR_TOIRQ_CLRMASK ~(WORD)HW_FLSMCR_TOIRQ_SETMASK
                             7662 ; 316  |#define HW_FLSMCR_BPIRQ_CLRMASK ~(WORD)HW_FLSMCR_BPIRQ_SETMASK
                             7663 ; 317  |
                             7664 ; 318  |
                             7665 ; 319  |/////////////////////////////////////////////////////////////////////////////////
                             7666 ; 320  |//  EMC Flash SmartMedia Timer1 Register (HW_FLSMTMR1R) Bit Definitions
                             7667 ; 321  |
                             7668 ; 322  |typedef union           /* Flash SmartMedia Timer1 Register*/
                             7669 ; 323  |{
                             7670 ; 324  |    struct
                             7671 ; 325  |    {
                             7672 ; 326  |        unsigned TRWSU  :5;
                             7673 ; 327  |        unsigned TRPW   :6;
                             7674 ; 328  |        unsigned TWPW   :6;
                             7675 ; 329  |        unsigned TRWH   :5;
                             7676 ; 330  |    } B;
                             7677 ; 331  |    int I;
                             7678 ; 332  |} flsmtmr1r_type;
                             7679 ; 333  |
                             7680 ; 334  |#define HW_FLSMTMR1R_TRWSU_BITPOS 0
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 125

M:ADDR CODE           CYCLES LINE SOURCELINE
                             7681 ; 335  |#define HW_FLSMTMR1R_TRPW_BITPOS 5
                             7682 ; 336  |#define HW_FLSMTMR1R_TWPW_BITPOS 11
                             7683 ; 337  |#define HW_FLSMTMR1R_TRWH_BITPOS 17
                             7684 ; 338  |
                             7685 ; 339  |#define HW_FLSMTMR1R_TRWSU_SETMASK 0x1F<<HW_FLSMTMR1R_TRWSU_BITPOS
                             7686 ; 340  |#define HW_FLSMTMR1R_TRPW_SETMASK 0x3F<<HW_FLSMTMR1R_TRPW_BITPOS
                             7687 ; 341  |#define HW_FLSMTMR1R_TWPW_SETMASK 0x3F<<HW_FLSMTMR1R_TWPW_BITPOS
                             7688 ; 342  |#define HW_FLSMTMR1R_TRWH_SETMASK 0x1F<<HW_FLSMTMR1R_TRWH_BITPOS
                             7689 ; 343  |
                             7690 ; 344  |#define HW_FLSMTMR1R_TRWSU_CLRMASK ~(WORD)HW_FLSMTMR1R_TRWSU_SETMASK
                             7691 ; 345  |#define HW_FLSMTMR1R_TRPW_CLRMASK ~(WORD)HW_FLSMTMR1R_TRPW_SETMASK
                             7692 ; 346  |#define HW_FLSMTMR1R_TWPW_CLRMASK ~(WORD)HW_FLSMTMR1R_TWPW_SETMASK
                             7693 ; 347  |#define HW_FLSMTMR1R_TRWH_CLRMASK ~(WORD)HW_FLSMTMR1R_TRWH_SETMASK
                             7694 ; 348  |
                             7695 ; 349  |
                             7696 ; 350  |/////////////////////////////////////////////////////////////////////////////////
                             7697 ; 351  |//  EMC Flash SmartMedia Timer2 Register (HW_FLSMTMR2R) Bit Definitions
                             7698 ; 352  |
                             7699 ; 353  |typedef union           /* Flash SmartMedia Timer2 Register*/
                             7700 ; 354  |{
                             7701 ; 355  |    struct
                             7702 ; 356  |    {
                             7703 ; 357  |        unsigned TWT    :6;
                             7704 ; 358  |        unsigned TWTO   :18;
                             7705 ; 359  |    } B;
                             7706 ; 360  |    int I;
                             7707 ; 361  |} flsmtmr2r_type;
                             7708 ; 362  |
                             7709 ; 363  |#define HW_FLSMTMR2R_TWT_BITPOS 0
                             7710 ; 364  |#define HW_FLSMTMR2R_TWTO_BITPOS 6
                             7711 ; 365  |
                             7712 ; 366  |#define HW_FLSMTMR2R_TWT_SETMASK 0x3F<<HW_FLSMTMR2R_TWT_BITPOS
                             7713 ; 367  |#define HW_FLSMTMR2R_TWTO_SETMASK 0x3FF<<HW_FLSMTMR2R_TWTO_BITPOS
                             7714 ; 368  |
                             7715 ; 369  |#define HW_FLSMTMR2R_TWT_CLRMASK ~(WORD)HW_FLSMTMR2R_TWT_SETMASK
                             7716 ; 370  |#define HW_FLSMTMR2R_TWTO_CLRMASK ~(WORD)HW_FLSMTMR2R_TWTO_SETMASK
                             7717 ; 371  |
                             7718 ; 372  |/*//////////////////////////////////////////////////////////////////////////////
                             7719 ; 373  |  //  EMC Flash Control Status Register2 (HW_FLCR2) Bit Definitions     */
                             7720 ; 374  |typedef union 
                             7721 ; 375  |{
                             7722 ; 376  |  struct
                             7723 ; 377  |  {
                             7724 ; 378  |    unsigned ASEL     :2;        /* Memory Select */
                             7725 ; 379  |    unsigned RA       :1;        /* Right Align word into 24bit memory for True IDE  xfers
                                   */
                             7726 ; 380  |    unsigned LA       :1;        /* Left  Align word into 24bit memory for True IDE  xfers
                                   */
                             7727 ; 381  |    unsigned NEGDMA   :1;        /* Inverts data from Flash to memory */
                             7728 ; 382  |    unsigned NEGFL    :1;        /* Inverts data from memory to Flash */
                             7729 ; 383  |    unsigned CLKOFF   :1;        /* Power down - turns clk off */
                             7730 ; 384  |    int PAD0          :17;    
                             7731 ; 385  |  } B;
                             7732 ; 386  |  int I;
                             7733 ; 387  |} flcr2_type;
                             7734 ; 388  |
                             7735 ; 389  |/////////////////////////////////////////////////////////////////////////////////
                             7736 ; 390  |//  EMC Flash SmartMedia Status Register (HW_FLSMSR) Bit Definitions
                             7737 ; 391  |#define HW_FLSMSR_RDY_BITPOS 0
                             7738 ; 392  |#define HW_FLSMSR_BUSY_BITPOS 7
                             7739 ; 393  |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 126

M:ADDR CODE           CYCLES LINE SOURCELINE
                             7740 ; 394  |#define HW_FLCR      (*(volatile flcr_type      _X*) (HW_EMC_BASEADDR))    /* EMC Flash Co
                                  ntrol Register */
                             7741 ; 395  |#define HW_FLSALR    (*(volatile flsalr_type    _X*) (HW_EMC_BASEADDR+1))  /* EMC Flash St
                                  art Address Low Register */
                             7742 ; 396  |#define HW_FLSAHR    (*(volatile flsahr_type    _X*) (HW_EMC_BASEADDR+2))  /* EMC Flash St
                                  art Address High Register */
                             7743 ; 397  |#define HW_FLSSMPR   (*(volatile flssmpr_type   _X*) (HW_EMC_BASEADDR+3))  /*  */
                             7744 ; 398  |#define HW_FLCR2     (*(volatile flcr2_type     _X*) (HW_EMC_BASEADDR+4))  /* EMC Flash Co
                                  ntrol Register2 */
                             7745 ; 399  |#define HW_FLCFCR    (*(volatile flcfcr_type    _X*) (HW_EMC_BASEADDR+8))  /* EMC Flash Co
                                  mpactFlash Control Register*/
                             7746 ; 400  |#define HW_FLCFTMR1R (*(volatile flcftmr1r_type _X*) (HW_EMC_BASEADDR+9))  /* EMC Flash Co
                                  mpact Flash Timer1 Register*/
                             7747 ; 401  |#define HW_FLCFTMR2R (*(volatile flcftmr2r_type _X*) (HW_EMC_BASEADDR+10)) /* EMC Flash Co
                                  mpact Flash Timer2 Register*/
                             7748 ; 402  |#define HW_FLSMCR    (*(volatile flsmcr_type    _X*) (HW_EMC_BASEADDR+16)) /* EMC Flash Sm
                                  artMedia Control Register*/
                             7749 ; 403  |#define HW_FLSMTMR1R (*(volatile flsmtmr1r_type _X*) (HW_EMC_BASEADDR+17)) /* EMC Flash Sm
                                  artMedia Timer1 Register*/
                             7750 ; 404  |#define HW_FLSMTMR2R (*(volatile flsmtmr2r_type _X*) (HW_EMC_BASEADDR+18)) /* EMC Flash Sm
                                  artMedia Timer2 Register*/
                             7751 ; 405  |#define HW_FLSMSR    (*(volatile flssmsr_type   _X*) (HW_EMC_BASEADDR+19)) /*  */
                             7752 ; 406  |
                             7753 ; 407  |//*********************  REGISTER ALIAS DEFINES TO MATCH LEGACY CODE *********************
                                  **********
                             7754 ; 408  |// The following defines were added to match regs3410.inc definition to build SDK2XXX code
                                   without needing 
                             7755 ; 409  |// to update the actual files. Only the defines needed to build SDK2.400 were added.
                             7756 ; 410  |
                             7757 ; 411  |#define HW_FLC2R HW_EMC_BASEADDR+4
                             7758 ; 412  |
                             7759 ; 413  |#endif
                             7760 ; 414  |
                             7761 
                             7763 
                             7764 ; 22   |#include "regsgpio.h"
                             7765 
                             7767 
                             7768 ; 1    |#if !(defined(__REGS_GPIO_INC))
                             7769 ; 2    |#define __REGS_GPIO_INC 1
                             7770 ; 3    |
                             7771 ; 4    |#include "types.h"
                             7772 
                             7774 
                             7775 ; 1    |////////////////////////////////////////////////////////////////////////////////
                             7776 ; 2    |// Copyright(C) SigmaTel, Inc. 2000-2004
                             7777 ; 3    |//
                             7778 ; 4    |// Filename: types.h
                             7779 ; 5    |// Description: Standard data types
                             7780 ; 6    |////////////////////////////////////////////////////////////////////////////////
                             7781 ; 7    |
                             7782 ; 8    |#ifndef _TYPES_H
                             7783 ; 9    |#define _TYPES_H
                             7784 ; 10   |
                             7785 ; 11   |// TODO:  move this outta here!
                             7786 ; 12   |#if !defined(NOERROR)
                             7787 ; 13   |#define NOERROR 0
                             7788 ; 14   |#define SUCCESS 0
                             7789 ; 15   |#endif 
                             7790 ; 16   |#if !defined(SUCCESS)
                             7791 ; 17   |#define SUCCESS  0
                             7792 ; 18   |#endif
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 127

M:ADDR CODE           CYCLES LINE SOURCELINE
                             7793 ; 19   |#if !defined(ERROR)
                             7794 ; 20   |#define ERROR   -1
                             7795 ; 21   |#endif
                             7796 ; 22   |#if !defined(FALSE)
                             7797 ; 23   |#define FALSE 0
                             7798 ; 24   |#endif
                             7799 ; 25   |#if !defined(TRUE)
                             7800 ; 26   |#define TRUE  1
                             7801 ; 27   |#endif
                             7802 ; 28   |
                             7803 ; 29   |#if !defined(NULL)
                             7804 ; 30   |#define NULL 0
                             7805 ; 31   |#endif
                             7806 ; 32   |
                             7807 ; 33   |#define MAX_INT     0x7FFFFF
                             7808 ; 34   |#define MAX_LONG    0x7FFFFFffffff
                             7809 ; 35   |        // max positive unsigned long value: -1 == 0xFFFFFFffffff
                             7810 ; 36   |#define MAX_ULONG   (-1) 
                             7811 ; 37   |
                             7812 ; 38   |#define WORD_SIZE   24              // word size in bits
                             7813 ; 39   |#define BYTES_PER_WORD 3            // 8 bit bytes
                             7814 ; 40   |
                             7815 ; 41   |
                             7816 ; 42   |#define BYTE    unsigned char       // btVarName
                             7817 ; 43   |#define CHAR    signed char         // cVarName
                             7818 ; 44   |#define USHORT  unsigned short      // usVarName
                             7819 ; 45   |#define SHORT   unsigned short      // sVarName
                             7820 ; 46   |#define WORD    unsigned int        // wVarName
                             7821 ; 47   |#define INT     signed int          // iVarName
                             7822 ; 48   |#define DWORD   unsigned long       // dwVarName
                             7823 ; 49   |#define LONG    signed long         // lVarName
                             7824 ; 50   |#define BOOL    unsigned int        // bVarName
                             7825 ; 51   |#define FRACT   _fract              // frVarName
                             7826 ; 52   |#define LFRACT  long _fract         // lfrVarName
                             7827 ; 53   |#define CIRC    _circ               // cp<type prefix>VarName (see below)
                             7828 ; 54   |#define FLOAT   float               // fVarName
                             7829 ; 55   |#define DBL     double              // dVarName
                             7830 ; 56   |#define ENUM    enum                // eVarName
                             7831 ; 57   |#define CMX     _complex            // cmxVarName
                             7832 ; 58   |typedef WORD UCS3;                   // 
                             7833 ; 59   |
                             7834 ; 60   |#define UINT16  unsigned short
                             7835 ; 61   |#define UINT8   unsigned char   
                             7836 ; 62   |#define UINT32  unsigned long
                             7837 ; 63   |#define UINT64  unsigned long   // need to figure out how to do 64 bit values.  Or port ex
                                  isiting code to only use 48 bit
                             7838 ; 64   |#define INT64   unsigned long   // need to figure out how to do 64 bit values.  Or port ex
                                  isiting code to only use 48 bit
                             7839 ; 65   |#define WCHAR   UINT16
                             7840 ; 66   |
                             7841 ; 67   |//UINT128 is 16 bytes or 6 words
                             7842 ; 68   |typedef struct UINT128_3500 {   
                             7843 ; 69   |    int val[6];     
                             7844 ; 70   |} UINT128_3500;
                             7845 ; 71   |
                             7846 ; 72   |#define UINT128   UINT128_3500
                             7847 ; 73   |
                             7848 ; 74   |// Little endian word packed byte strings:   
                             7849 ; 75   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                             7850 ; 76   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                             7851 ; 77   |// Little endian word packed byte strings:   
                             7852 ; 78   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 128

M:ADDR CODE           CYCLES LINE SOURCELINE
                             7853 ; 79   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                             7854 ; 80   |
                             7855 ; 81   |// Declare Memory Spaces To Use When Coding
                             7856 ; 82   |// A. Sector Buffers
                             7857 ; 83   |#define SECTOR_BUFFER_MEM_X _X
                             7858 ; 84   |#define SECTOR_BUFFER_MEM_Y _Y
                             7859 ; 85   |#define SECTOR_BUFFER_MEM SECTOR_BUFFER_MEM_X
                             7860 ; 86   |typedef WORD SECTOR_BUFFER_MEM SECTOR_BUFFER;
                             7861 ; 87   |typedef SECTOR_BUFFER * P_SECTOR_BUFFER;
                             7862 ; 88   |// B. Media DDI Memory
                             7863 ; 89   |#define MEDIA_DDI_MEM _Y
                             7864 ; 90   |
                             7865 ; 91   |
                             7866 ; 92   |
                             7867 ; 93   |// Pointers to linear structures are labeled as: p<type prefix>VarName
                             7868 ; 94   |// Examples of circular pointers:
                             7869 ; 95   |//    INT CIRC cpiVarName
                             7870 ; 96   |//    DWORD CIRC cpdwVarName
                             7871 ; 97   |
                             7872 ; 98   |#define RETCODE INT                 // rcVarName
                             7873 ; 99   |
                             7874 ; 100  |// generic bitfield structure
                             7875 ; 101  |struct Bitfield {
                             7876 ; 102  |    unsigned int B0  :1;
                             7877 ; 103  |    unsigned int B1  :1;
                             7878 ; 104  |    unsigned int B2  :1;
                             7879 ; 105  |    unsigned int B3  :1;
                             7880 ; 106  |    unsigned int B4  :1;
                             7881 ; 107  |    unsigned int B5  :1;
                             7882 ; 108  |    unsigned int B6  :1;
                             7883 ; 109  |    unsigned int B7  :1;
                             7884 ; 110  |    unsigned int B8  :1;
                             7885 ; 111  |    unsigned int B9  :1;
                             7886 ; 112  |    unsigned int B10 :1;
                             7887 ; 113  |    unsigned int B11 :1;
                             7888 ; 114  |    unsigned int B12 :1;
                             7889 ; 115  |    unsigned int B13 :1;
                             7890 ; 116  |    unsigned int B14 :1;
                             7891 ; 117  |    unsigned int B15 :1;
                             7892 ; 118  |    unsigned int B16 :1;
                             7893 ; 119  |    unsigned int B17 :1;
                             7894 ; 120  |    unsigned int B18 :1;
                             7895 ; 121  |    unsigned int B19 :1;
                             7896 ; 122  |    unsigned int B20 :1;
                             7897 ; 123  |    unsigned int B21 :1;
                             7898 ; 124  |    unsigned int B22 :1;
                             7899 ; 125  |    unsigned int B23 :1;
                             7900 ; 126  |};
                             7901 ; 127  |
                             7902 ; 128  |union BitInt {
                             7903 ; 129  |        struct Bitfield B;
                             7904 ; 130  |        int        I;
                             7905 ; 131  |};
                             7906 ; 132  |
                             7907 ; 133  |#define MAX_MSG_LENGTH 10
                             7908 ; 134  |struct CMessage
                             7909 ; 135  |{
                             7910 ; 136  |        unsigned int m_uLength;
                             7911 ; 137  |        unsigned int m_uMsg[MAX_MSG_LENGTH];
                             7912 ; 138  |};
                             7913 ; 139  |
                             7914 ; 140  |typedef struct {
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 129

M:ADDR CODE           CYCLES LINE SOURCELINE
                             7915 ; 141  |    WORD m_wLength;
                             7916 ; 142  |    WORD m_wMessage;
                             7917 ; 143  |    WORD m_wParams[MAX_MSG_LENGTH];
                             7918 ; 144  |} Message;
                             7919 ; 145  |
                             7920 ; 146  |struct MessageQueueDescriptor
                             7921 ; 147  |{
                             7922 ; 148  |        int *m_pBase;
                             7923 ; 149  |        int m_iModulo;
                             7924 ; 150  |        int m_iSize;
                             7925 ; 151  |        int *m_pHead;
                             7926 ; 152  |        int *m_pTail;
                             7927 ; 153  |};
                             7928 ; 154  |
                             7929 ; 155  |struct ModuleEntry
                             7930 ; 156  |{
                             7931 ; 157  |    int m_iSignaledEventMask;
                             7932 ; 158  |    int m_iWaitEventMask;
                             7933 ; 159  |    int m_iResourceOfCode;
                             7934 ; 160  |    struct MessageQueueDescriptor *m_pMessageQueue;
                             7935 ; 161  |    int _asmfunc (*m_pProcessEntryPoint)(union WaitMask Signals,struct MessageQueueDescrip
                                  tor *);
                             7936 ; 162  |    int _asmfunc (*m_pInitFunction)(struct MessageQueueDescriptor *);
                             7937 ; 163  |    int m_uTimeOutHigh;
                             7938 ; 164  |    int m_uTimeOutLow;
                             7939 ; 165  |    int _asmfunc (*m_pBackgroundFunction)(struct MessageQueueDescriptor *);
                             7940 ; 166  |};
                             7941 ; 167  |
                             7942 ; 168  |union WaitMask{
                             7943 ; 169  |    struct B{
                             7944 ; 170  |        unsigned int m_bNone     :1;
                             7945 ; 171  |        unsigned int m_bMessage  :1;
                             7946 ; 172  |        unsigned int m_bTimer    :1;
                             7947 ; 173  |        unsigned int m_bButton   :1;
                             7948 ; 174  |    } B;
                             7949 ; 175  |    int I;
                             7950 ; 176  |} ;
                             7951 ; 177  |
                             7952 ; 178  |
                             7953 ; 179  |struct Button {
                             7954 ; 180  |        WORD wButtonEvent;
                             7955 ; 181  |        WORD wUnused[MAX_MSG_LENGTH];   
                             7956 ; 182  |};
                             7957 ; 183  |
                             7958 ; 184  |struct Message {
                             7959 ; 185  |        WORD wMsgLength;
                             7960 ; 186  |        WORD wMsgCommand;
                             7961 ; 187  |        WORD wMsgParms[MAX_MSG_LENGTH-1];
                             7962 ; 188  |};
                             7963 ; 189  |
                             7964 ; 190  |union EventTypes {
                             7965 ; 191  |        struct CMessage msg;
                             7966 ; 192  |        struct Button Button ;
                             7967 ; 193  |        struct Message Message;
                             7968 ; 194  |};
                             7969 ; 195  |
                             7970 ; 196  |// next 2 used to get updater build to return correct protocol ver in scsi response.
                             7971 ; 197  |#define BUILD_TYPE_UPDATER  0x100
                             7972 ; 198  |#define BUILD_TYPE_HOSTLINK 0x101
                             7973 ; 199  |#define BUILD_TYPE_PLAYER   0x102
                             7974 ; 200  |
                             7975 ; 201  |// Resets part if RETAIL build. DEBUG build executes debug instruction to halt.
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 130

M:ADDR CODE           CYCLES LINE SOURCELINE
                             7976 ; 202  |#define SystemHalt() __asm(" include 'sysmacro.asm' \n error") 
                             7977 ; 203  |#define assert(x)    if(!(x)) __asm(" include 'sysmacro.asm' \n error")
                             7978 ; 204  |
                             7979 ; 205  |#if DEBUG
                             7980 ; 206  |// For DEBUG builds, DebugBuildAssert(condition) halts if condition evaluates to FALSE. 
                             7981 ; 207  |#define DebugBuildAssert(x)    if(!(x)) __asm(" debug ")
                             7982 ; 208  |#else 
                             7983 ; 209  |// For RETAIL builds, DebugBuildAssert(condition) does nothing & execution continues rathe
                                  r than halt or reset. 
                             7984 ; 210  |#define DebugBuildAssert(x)    
                             7985 ; 211  |#endif
                             7986 ; 212  |
                             7987 ; 213  |// Do this in your C files to make a reminder that's displayed during the build.
                             7988 ; 214  |//  #pragma asm
                             7989 ; 215  |//  WARN 'Note to builder: reminder to do this after verifying that'
                             7990 ; 216  |//  #pragma endasm
                             7991 ; 217  |
                             7992 ; 218  |
                             7993 ; 219  |#ifdef COLOR_262K
                             7994 ; 220  |#define RGB(r,g,b)    ((0x0000FC & (r)) << 10) | ((0x0000FC & (g)) << 4) | ((0x0000FC & (b
                                  )) >> 2)    //262k
                             7995 ; 221  |#elif defined(COLOR_65K)
                             7996 ; 222  |#define RGB(r,g,b)    ((0x0000F8 & (r)) << 8) | ((0x0000FC & (g)) << 3) | ((0x0000F8 & (b)
                                  ) >> 3)  //65k
                             7997 ; 223  |#else
                             7998 ; 224  |#define RGB(r,g,b)       ((0x0000F0 & (r)) << 4) | (0x0000F0 & (g)) | ((0x0000F0 & (b)) >>
                                   4)
                             7999 ; 225  |#endif
                             8000 ; 226  |    
                             8001 ; 227  |#endif // #ifndef _TYPES_H
                             8002 
                             8004 
                             8005 ; 5    |
                             8006 ; 6    |/////////////////////////////////////////////////////////////////////////////////
                             8007 ; 7    |//  Interrupt Collector Registers
                             8008 ; 8    |/////////////////////////////////////////////////////////////////////////////////
                             8009 ; 9    |
                             8010 ; 10   |#define HW_GPIO_BASEADDR 0xF400
                             8011 ; 11   |
                             8012 ; 12   |#define HW_GPB0_BASEADDR HW_GPIO_BASEADDR
                             8013 ; 13   |#define HW_GPB1_BASEADDR HW_GPIO_BASEADDR+0x10
                             8014 ; 14   |#define HW_GPB2_BASEADDR HW_GPIO_BASEADDR+0x20
                             8015 ; 15   |#define HW_GPB3_BASEADDR HW_GPIO_BASEADDR+0x30
                             8016 ; 16   |
                             8017 ; 17   |#define HW_GPB0_BLOCKNUM 0
                             8018 ; 18   |#define HW_GPB1_BLOCKNUM 1
                             8019 ; 19   |#define HW_GPB2_BLOCKNUM 2
                             8020 ; 20   |#define HW_GPB3_BLOCKNUM 3
                             8021 ; 21   |
                             8022 ; 22   |#define HW_GPB_GPENR 0
                             8023 ; 23   |#define HW_GPB_GPDOR 1
                             8024 ; 24   |#define HW_GPB_GPDIR 2
                             8025 ; 25   |#define HW_GPB_GPDOER 3
                             8026 ; 26   |#define HW_GPB_GPIPENR 4
                             8027 ; 27   |#define HW_GPB_GPIENR 5
                             8028 ; 28   |#define HW_GPB_GPILVLR 6
                             8029 ; 29   |#define HW_GPB_GPIPOLR 7
                             8030 ; 30   |#define HW_GPB_GPISTATR 8
                             8031 ; 31   |#define HW_GPB_GPPWR 9
                             8032 ; 32   |#define HW_GPB_GP8MA 10
                             8033 ; 33   |
                             8034 ; 34   |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 131

M:ADDR CODE           CYCLES LINE SOURCELINE
                             8035 ; 35   |
                             8036 ; 36   |/////////////////////////////////////////////////////////////////////////////////
                             8037 ; 37   |//  GPIO Register Bit Positions
                             8038 ; 38   |typedef union               /* GPIO Pin Register Bank 0 */
                             8039 ; 39   |{
                             8040 ; 40   |    struct Bitfield B;      // Bitfield is generic structure B0 - B23 in types.h
                             8041 ; 41   |    unsigned int I;
                             8042 ; 42   |    unsigned int U;
                             8043 ; 43   |} gpr_type;
                             8044 ; 44   |
                             8045 ; 45   |#define HW_GP_B0_BITPOS 0
                             8046 ; 46   |#define HW_GP_B1_BITPOS 1
                             8047 ; 47   |#define HW_GP_B2_BITPOS 2
                             8048 ; 48   |#define HW_GP_B3_BITPOS 3
                             8049 ; 49   |#define HW_GP_B4_BITPOS 4
                             8050 ; 50   |#define HW_GP_B5_BITPOS 5
                             8051 ; 51   |#define HW_GP_B6_BITPOS 6
                             8052 ; 52   |#define HW_GP_B7_BITPOS 7
                             8053 ; 53   |#define HW_GP_B8_BITPOS 8
                             8054 ; 54   |#define HW_GP_B9_BITPOS 9
                             8055 ; 55   |#define HW_GP_B10_BITPOS 10
                             8056 ; 56   |#define HW_GP_B11_BITPOS 11
                             8057 ; 57   |#define HW_GP_B12_BITPOS 12
                             8058 ; 58   |#define HW_GP_B13_BITPOS 13
                             8059 ; 59   |#define HW_GP_B14_BITPOS 14
                             8060 ; 60   |#define HW_GP_B15_BITPOS 15
                             8061 ; 61   |#define HW_GP_B16_BITPOS 16
                             8062 ; 62   |#define HW_GP_B17_BITPOS 17
                             8063 ; 63   |#define HW_GP_B18_BITPOS 18
                             8064 ; 64   |#define HW_GP_B19_BITPOS 19
                             8065 ; 65   |#define HW_GP_B20_BITPOS 20
                             8066 ; 66   |#define HW_GP_B21_BITPOS 21
                             8067 ; 67   |#define HW_GP_B22_BITPOS 22
                             8068 ; 68   |#define HW_GP_B23_BITPOS 23
                             8069 ; 69   |
                             8070 ; 70   |#define HW_GP_B0_SETMASK (1<<HW_GP_B0_BITPOS)
                             8071 ; 71   |#define HW_GP_B1_SETMASK (1<<HW_GP_B1_BITPOS)
                             8072 ; 72   |#define HW_GP_B2_SETMASK (1<<HW_GP_B2_BITPOS)
                             8073 ; 73   |#define HW_GP_B3_SETMASK (1<<HW_GP_B3_BITPOS)
                             8074 ; 74   |#define HW_GP_B4_SETMASK (1<<HW_GP_B4_BITPOS)
                             8075 ; 75   |#define HW_GP_B5_SETMASK (1<<HW_GP_B5_BITPOS)
                             8076 ; 76   |#define HW_GP_B6_SETMASK (1<<HW_GP_B6_BITPOS)
                             8077 ; 77   |#define HW_GP_B7_SETMASK (1<<HW_GP_B7_BITPOS)
                             8078 ; 78   |#define HW_GP_B8_SETMASK (1<<HW_GP_B8_BITPOS)
                             8079 ; 79   |#define HW_GP_B9_SETMASK (1<<HW_GP_B9_BITPOS)
                             8080 ; 80   |#define HW_GP_B10_SETMASK (1<<HW_GP_B10_BITPOS)
                             8081 ; 81   |#define HW_GP_B11_SETMASK (1<<HW_GP_B11_BITPOS)
                             8082 ; 82   |#define HW_GP_B12_SETMASK (1<<HW_GP_B12_BITPOS)
                             8083 ; 83   |#define HW_GP_B13_SETMASK (1<<HW_GP_B13_BITPOS)
                             8084 ; 84   |#define HW_GP_B14_SETMASK (1<<HW_GP_B14_BITPOS)
                             8085 ; 85   |#define HW_GP_B15_SETMASK (1<<HW_GP_B15_BITPOS)
                             8086 ; 86   |#define HW_GP_B16_SETMASK (1<<HW_GP_B16_BITPOS)
                             8087 ; 87   |#define HW_GP_B17_SETMASK (1<<HW_GP_B17_BITPOS)
                             8088 ; 88   |#define HW_GP_B18_SETMASK (1<<HW_GP_B18_BITPOS)
                             8089 ; 89   |#define HW_GP_B19_SETMASK (1<<HW_GP_B19_BITPOS)
                             8090 ; 90   |#define HW_GP_B20_SETMASK (1<<HW_GP_B20_BITPOS)
                             8091 ; 91   |#define HW_GP_B21_SETMASK (1<<HW_GP_B21_BITPOS)
                             8092 ; 92   |#define HW_GP_B22_SETMASK (1<<HW_GP_B22_BITPOS)
                             8093 ; 93   |#define HW_GP_B23_SETMASK (1<<HW_GP_B23_BITPOS)
                             8094 ; 94   |
                             8095 ; 95   |#define HW_GP_B0_CLRMASK (~(WORD)HW_GP_B0_SETMASK)
                             8096 ; 96   |#define HW_GP_B1_CLRMASK (~(WORD)HW_GP_B1_SETMASK)
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 132

M:ADDR CODE           CYCLES LINE SOURCELINE
                             8097 ; 97   |#define HW_GP_B2_CLRMASK (~(WORD)HW_GP_B2_SETMASK)
                             8098 ; 98   |#define HW_GP_B3_CLRMASK (~(WORD)HW_GP_B3_SETMASK)
                             8099 ; 99   |#define HW_GP_B4_CLRMASK (~(WORD)HW_GP_B4_SETMASK)
                             8100 ; 100  |#define HW_GP_B5_CLRMASK (~(WORD)HW_GP_B5_SETMASK)
                             8101 ; 101  |#define HW_GP_B6_CLRMASK (~(WORD)HW_GP_B6_SETMASK)
                             8102 ; 102  |#define HW_GP_B7_CLRMASK (~(WORD)HW_GP_B7_SETMASK)
                             8103 ; 103  |#define HW_GP_B8_CLRMASK (~(WORD)HW_GP_B8_SETMASK)
                             8104 ; 104  |#define HW_GP_B9_CLRMASK (~(WORD)HW_GP_B9_SETMASK)
                             8105 ; 105  |#define HW_GP_B10_CLRMASK (~(WORD)HW_GP_B10_SETMASK)
                             8106 ; 106  |#define HW_GP_B11_CLRMASK (~(WORD)HW_GP_B11_SETMASK)
                             8107 ; 107  |#define HW_GP_B12_CLRMASK (~(WORD)HW_GP_B12_SETMASK)
                             8108 ; 108  |#define HW_GP_B13_CLRMASK (~(WORD)HW_GP_B13_SETMASK)
                             8109 ; 109  |#define HW_GP_B14_CLRMASK (~(WORD)HW_GP_B14_SETMASK)
                             8110 ; 110  |#define HW_GP_B15_CLRMASK (~(WORD)HW_GP_B15_SETMASK)
                             8111 ; 111  |#define HW_GP_B16_CLRMASK (~(WORD)HW_GP_B16_SETMASK)
                             8112 ; 112  |#define HW_GP_B17_CLRMASK (~(WORD)HW_GP_B17_SETMASK)
                             8113 ; 113  |#define HW_GP_B18_CLRMASK (~(WORD)HW_GP_B18_SETMASK)
                             8114 ; 114  |#define HW_GP_B19_CLRMASK (~(WORD)HW_GP_B19_SETMASK)
                             8115 ; 115  |#define HW_GP_B20_CLRMASK (~(WORD)HW_GP_B20_SETMASK)
                             8116 ; 116  |#define HW_GP_B21_CLRMASK (~(WORD)HW_GP_B21_SETMASK)
                             8117 ; 117  |#define HW_GP_B22_CLRMASK (~(WORD)HW_GP_B22_SETMASK)
                             8118 ; 118  |#define HW_GP_B23_CLRMASK (~(WORD)HW_GP_B23_SETMASK)
                             8119 ; 119  |
                             8120 ; 120  |/////////////////////////////////////////////////////////////////////////////////
                             8121 ; 121  |//  GPIO 8mA Register Bit Positions
                             8122 ; 122  |#define HW_GP8MA_B7_B0_BITPOS 0
                             8123 ; 123  |#define HW_GP8MA_B15_B8_BITPOS 1
                             8124 ; 124  |#define HW_GP8MA_B23_B16_BITPOS 2
                             8125 ; 125  |#define HW_GP8MA_CLK_GATE_BITPOS 23
                             8126 ; 126  |
                             8127 ; 127  |
                             8128 ; 128  |/////////////////////////////////////////////////////////////////////////////////
                             8129 ; 129  |//  Logical GPIO numbers
                             8130 ; 130  |#define HW_GPIO_000 0
                             8131 ; 131  |#define HW_GPIO_001 1
                             8132 ; 132  |#define HW_GPIO_002 2
                             8133 ; 133  |#define HW_GPIO_003 3
                             8134 ; 134  |#define HW_GPIO_004 4
                             8135 ; 135  |#define HW_GPIO_005 5
                             8136 ; 136  |#define HW_GPIO_006 6
                             8137 ; 137  |#define HW_GPIO_007 7
                             8138 ; 138  |#define HW_GPIO_008 8
                             8139 ; 139  |#define HW_GPIO_009 9
                             8140 ; 140  |#define HW_GPIO_010 10
                             8141 ; 141  |#define HW_GPIO_011 11
                             8142 ; 142  |#define HW_GPIO_012 12
                             8143 ; 143  |#define HW_GPIO_013 13
                             8144 ; 144  |#define HW_GPIO_014 14
                             8145 ; 145  |#define HW_GPIO_015 15
                             8146 ; 146  |#define HW_GPIO_016 16
                             8147 ; 147  |#define HW_GPIO_017 17
                             8148 ; 148  |#define HW_GPIO_018 18
                             8149 ; 149  |#define HW_GPIO_019 19
                             8150 ; 150  |#define HW_GPIO_020 20
                             8151 ; 151  |#define HW_GPIO_021 21
                             8152 ; 152  |#define HW_GPIO_022 22
                             8153 ; 153  |#define HW_GPIO_023 23
                             8154 ; 154  |#define HW_GPIO_024 24
                             8155 ; 155  |#define HW_GPIO_025 25
                             8156 ; 156  |#define HW_GPIO_026 26
                             8157 ; 157  |#define HW_GPIO_027 27
                             8158 ; 158  |#define HW_GPIO_028 28
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 133

M:ADDR CODE           CYCLES LINE SOURCELINE
                             8159 ; 159  |#define HW_GPIO_029 29
                             8160 ; 160  |#define HW_GPIO_030 30
                             8161 ; 161  |#define HW_GPIO_031 31
                             8162 ; 162  |#define HW_GPIO_032 32
                             8163 ; 163  |#define HW_GPIO_033 33
                             8164 ; 164  |#define HW_GPIO_034 34
                             8165 ; 165  |#define HW_GPIO_035 35
                             8166 ; 166  |#define HW_GPIO_036 36
                             8167 ; 167  |#define HW_GPIO_037 37
                             8168 ; 168  |#define HW_GPIO_038 38
                             8169 ; 169  |#define HW_GPIO_039 39
                             8170 ; 170  |#define HW_GPIO_040 40
                             8171 ; 171  |#define HW_GPIO_041 41
                             8172 ; 172  |#define HW_GPIO_042 42
                             8173 ; 173  |#define HW_GPIO_043 43
                             8174 ; 174  |#define HW_GPIO_044 44
                             8175 ; 175  |#define HW_GPIO_045 45
                             8176 ; 176  |#define HW_GPIO_046 46
                             8177 ; 177  |#define HW_GPIO_047 47
                             8178 ; 178  |#define HW_GPIO_048 48
                             8179 ; 179  |#define HW_GPIO_049 49
                             8180 ; 180  |#define HW_GPIO_050 50
                             8181 ; 181  |#define HW_GPIO_051 51
                             8182 ; 182  |#define HW_GPIO_052 52
                             8183 ; 183  |#define HW_GPIO_053 53
                             8184 ; 184  |#define HW_GPIO_054 54
                             8185 ; 185  |#define HW_GPIO_055 55
                             8186 ; 186  |#define HW_GPIO_056 56
                             8187 ; 187  |#define HW_GPIO_057 57
                             8188 ; 188  |#define HW_GPIO_058 58
                             8189 ; 189  |#define HW_GPIO_059 59
                             8190 ; 190  |#define HW_GPIO_060 60
                             8191 ; 191  |#define HW_GPIO_061 61
                             8192 ; 192  |#define HW_GPIO_062 62
                             8193 ; 193  |#define HW_GPIO_063 63
                             8194 ; 194  |#define HW_GPIO_064 64
                             8195 ; 195  |#define HW_GPIO_065 65
                             8196 ; 196  |#define HW_GPIO_066 66
                             8197 ; 197  |#define HW_GPIO_067 67
                             8198 ; 198  |#define HW_GPIO_068 68
                             8199 ; 199  |#define HW_GPIO_069 69
                             8200 ; 200  |#define HW_GPIO_070 70
                             8201 ; 201  |#define HW_GPIO_071 71
                             8202 ; 202  |#define HW_GPIO_072 72
                             8203 ; 203  |#define HW_GPIO_073 73
                             8204 ; 204  |#define HW_GPIO_074 74
                             8205 ; 205  |#define HW_GPIO_075 75
                             8206 ; 206  |#define HW_GPIO_076 76
                             8207 ; 207  |#define HW_GPIO_077 77
                             8208 ; 208  |#define HW_GPIO_078 78
                             8209 ; 209  |#define HW_GPIO_079 79
                             8210 ; 210  |#define HW_GPIO_080 80
                             8211 ; 211  |#define HW_GPIO_081 81
                             8212 ; 212  |#define HW_GPIO_082 82
                             8213 ; 213  |#define HW_GPIO_083 83
                             8214 ; 214  |#define HW_GPIO_084 84
                             8215 ; 215  |#define HW_GPIO_085 85
                             8216 ; 216  |#define HW_GPIO_086 86
                             8217 ; 217  |#define HW_GPIO_087 87
                             8218 ; 218  |#define HW_GPIO_088 88
                             8219 ; 219  |#define HW_GPIO_089 89
                             8220 ; 220  |#define HW_GPIO_090 90
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 134

M:ADDR CODE           CYCLES LINE SOURCELINE
                             8221 ; 221  |#define HW_GPIO_091 91
                             8222 ; 222  |#define HW_GPIO_092 92
                             8223 ; 223  |#define HW_GPIO_093 93
                             8224 ; 224  |#define HW_GPIO_094 94
                             8225 ; 225  |#define HW_GPIO_095 95
                             8226 ; 226  |#define HW_GPIO_LAST HW_GPIO_095
                             8227 ; 227  |
                             8228 ; 228  |#define HW_GP0ENR      (*(volatile gpr_type _X*) (HW_GPB0_BASEADDR+HW_GPB_GPENR))  /* GPIO
                                   0 Enable Register   */
                             8229 ; 229  |#define HW_GP0DOR      (*(volatile gpr_type _X*) (HW_GPB0_BASEADDR+HW_GPB_GPDOR)) /* GPIO 
                                  0 Data Out Register */
                             8230 ; 230  |#define HW_GP0DIR      (*(volatile gpr_type _X*) (HW_GPB0_BASEADDR+HW_GPB_GPDIR)) /* GPIO 
                                  0 Dait In Register  */
                             8231 ; 231  |#define HW_GP0DOER     (*(volatile gpr_type _X*) (HW_GPB0_BASEADDR+HW_GPB_GPDOER)) /* GPIO
                                   0 Dait Out Enable Register  */
                             8232 ; 232  |#define HW_GP0IPENR    (*(volatile gpr_type _X*) (HW_GPB0_BASEADDR+HW_GPB_GPIPENR)) /* GPI
                                  O 0 Interrupt Pin Enable Register */
                             8233 ; 233  |#define HW_GP0IENR     (*(volatile gpr_type _X*) (HW_GPB0_BASEADDR+HW_GPB_GPIENR)) /* GPIO
                                   0 Interrupt Enable Register */
                             8234 ; 234  |#define HW_GP0ILVLR    (*(volatile gpr_type _X*) (HW_GPB0_BASEADDR+HW_GPB_GPILVLR)) /* GPI
                                  O 0 Interrupt Level Register  */
                             8235 ; 235  |#define HW_GP0IPOLR    (*(volatile gpr_type _X*) (HW_GPB0_BASEADDR+HW_GPB_GPIPOLR)) /* GPI
                                  O 0 Interrupt Polarity Register   */
                             8236 ; 236  |#define HW_GP0ISTATR   (*(volatile gpr_type _X*) (HW_GPB0_BASEADDR+HW_GPB_GPISTATR)) /* GP
                                  IO 0 Interrupt Status Register */
                             8237 ; 237  |#define HW_GP0PWR      (*(volatile gpr_type _X*) (HW_GPB0_BASEADDR+HW_GPB_GPPWR)) /* GPIO 
                                  0 Power Register */
                             8238 ; 238  |#define HW_GP08MA      (*(volatile gpr_type _X*) (HW_GPB0_BASEADDR+HW_GPB_GP8MA)) 
                             8239 ; 239  |#define HW_GP1ENR      (*(volatile gpr_type _X*) (HW_GPB1_BASEADDR+HW_GPB_GPENR))     /* G
                                  PIO 1 Enable Register   */
                             8240 ; 240  |#define HW_GP1DOR      (*(volatile gpr_type _X*) (HW_GPB1_BASEADDR+HW_GPB_GPDOR)) /* GPIO 
                                  1 Data Out Register */
                             8241 ; 241  |#define HW_GP1DIR      (*(volatile gpr_type _X*) (HW_GPB1_BASEADDR+HW_GPB_GPDIR)) /* GPIO 
                                  1 Dait In Register  */
                             8242 ; 242  |#define HW_GP1DOER     (*(volatile gpr_type _X*) (HW_GPB1_BASEADDR+HW_GPB_GPDOER)) /* GPIO
                                   1 Dait Out Enable Register  */
                             8243 ; 243  |#define HW_GP1IPENR    (*(volatile gpr_type _X*) (HW_GPB1_BASEADDR+HW_GPB_GPIPENR)) /* GPI
                                  O 1 Interrupt Pin Enable Register */
                             8244 ; 244  |#define HW_GP1IENR     (*(volatile gpr_type _X*) (HW_GPB1_BASEADDR+HW_GPB_GPIENR)) /* GPIO
                                   1 Interrupt Enable Register */
                             8245 ; 245  |#define HW_GP1ILVLR    (*(volatile gpr_type _X*) (HW_GPB1_BASEADDR+HW_GPB_GPILVLR)) /* GPI
                                  O 1 Interrupt Level Register  */
                             8246 ; 246  |#define HW_GP1IPOLR    (*(volatile gpr_type _X*) (HW_GPB1_BASEADDR+HW_GPB_GPIPOLR)) /* GPI
                                  O 1 Interrupt Polarity Register   */
                             8247 ; 247  |#define HW_GP1ISTATR   (*(volatile gpr_type _X*) (HW_GPB1_BASEADDR+HW_GPB_GPISTATR)) /* GP
                                  IO 1 Interrupt Status Register */
                             8248 ; 248  |#define HW_GP1PWR      (*(volatile gpr_type _X*) (HW_GPB1_BASEADDR+HW_GPB_GPPWR)) /* GPIO 
                                  0 Power Register */
                             8249 ; 249  |#define HW_GP18MA      (*(volatile gpr_type _X*) (HW_GPB1_BASEADDR+HW_GPB_GP8MA)) 
                             8250 ; 250  |#define HW_GP2ENR      (*(volatile gpr_type _X*) (HW_GPB2_BASEADDR+HW_GPB_GPENR))     /* G
                                  PIO 2 Enable Register   */
                             8251 ; 251  |#define HW_GP2DOR      (*(volatile gpr_type _X*) (HW_GPB2_BASEADDR+HW_GPB_GPDOR)) /* GPIO 
                                  2 Data Out Register */
                             8252 ; 252  |#define HW_GP2DIR      (*(volatile gpr_type _X*) (HW_GPB2_BASEADDR+HW_GPB_GPDIR)) /* GPIO 
                                  2 Dait In Register  */
                             8253 ; 253  |#define HW_GP2DOER     (*(volatile gpr_type _X*) (HW_GPB2_BASEADDR+HW_GPB_GPDOER)) /* GPIO
                                   2 Dait Out Enable Register  */
                             8254 ; 254  |#define HW_GP2IPENR    (*(volatile gpr_type _X*) (HW_GPB2_BASEADDR+HW_GPB_GPIPENR)) /* GPI
                                  O 2 Interrupt Pin Enable Register */
                             8255 ; 255  |#define HW_GP2IENR     (*(volatile gpr_type _X*) (HW_GPB2_BASEADDR+HW_GPB_GPIENR)) /* GPIO
                                   2 Interrupt Enable Register */
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 135

M:ADDR CODE           CYCLES LINE SOURCELINE
                             8256 ; 256  |#define HW_GP2ILVLR    (*(volatile gpr_type _X*) (HW_GPB2_BASEADDR+HW_GPB_GPILVLR)) /* GPI
                                  O 2 Interrupt Level Register  */
                             8257 ; 257  |#define HW_GP2IPOLR    (*(volatile gpr_type _X*) (HW_GPB2_BASEADDR+HW_GPB_GPIPOLR)) /* GPI
                                  O 2 Interrupt Polarity Register   */
                             8258 ; 258  |#define HW_GP2ISTATR   (*(volatile gpr_type _X*) (HW_GPB2_BASEADDR+HW_GPB_GPISTATR)) /* GP
                                  IO 2 Interrupt Status Register */
                             8259 ; 259  |#define HW_GP2PWR      (*(volatile gpr_type _X*) (HW_GPB2_BASEADDR+HW_GPB_GPPWR)) /* GPIO 
                                  0 Power Register */
                             8260 ; 260  |#define HW_GP28MA      (*(volatile gpr_type _X*) (HW_GPB2_BASEADDR+HW_GPB_GP8MA)) 
                             8261 ; 261  |#define HW_GP3ENR      (*(volatile gpr_type _X*) (HW_GPB3_BASEADDR+HW_GPB_GPENR))     /* G
                                  PIO 2 Enable Register   */
                             8262 ; 262  |#define HW_GP3DOR      (*(volatile gpr_type _X*) (HW_GPB3_BASEADDR+HW_GPB_GPDOR)) /* GPIO 
                                  2 Data Out Register */
                             8263 ; 263  |#define HW_GP3DIR      (*(volatile gpr_type _X*) (HW_GPB3_BASEADDR+HW_GPB_GPDIR)) /* GPIO 
                                  2 Dait In Register  */
                             8264 ; 264  |#define HW_GP3DOER     (*(volatile gpr_type _X*) (HW_GPB3_BASEADDR+HW_GPB_GPDOER)) /* GPIO
                                   2 Dait Out Enable Register  */
                             8265 ; 265  |#define HW_GP3IPENR    (*(volatile gpr_type _X*) (HW_GPB3_BASEADDR+HW_GPB_GPIPENR)) /* GPI
                                  O 2 Interrupt Pin Enable Register */
                             8266 ; 266  |#define HW_GP3IENR     (*(volatile gpr_type _X*) (HW_GPB3_BASEADDR+HW_GPB_GPIENR)) /* GPIO
                                   2 Interrupt Enable Register */
                             8267 ; 267  |#define HW_GP3ILVLR    (*(volatile gpr_type _X*) (HW_GPB3_BASEADDR+HW_GPB_GPILVLR)) /* GPI
                                  O 2 Interrupt Level Register  */
                             8268 ; 268  |#define HW_GP3IPOLR    (*(volatile gpr_type _X*) (HW_GPB3_BASEADDR+HW_GPB_GPIPOLR)) /* GPI
                                  O 2 Interrupt Polarity Register   */
                             8269 ; 269  |#define HW_GP3ISTATR   (*(volatile gpr_type _X*) (HW_GPB3_BASEADDR+HW_GPB_GPISTATR)) /* GP
                                  IO 2 Interrupt Status Register */
                             8270 ; 270  |#define HW_GP3PWR      (*(volatile gpr_type _X*) (HW_GPB3_BASEADDR+HW_GPB_GPPWR)) /* GPIO 
                                  0 Power Register */
                             8271 ; 271  |#define HW_GP38MA      (*(volatile gpr_type _X*) (HW_GPB3_BASEADDR+HW_GPB_GP8MA)) 
                             8272 ; 272  |
                             8273 ; 273  |#endif
                             8274 ; 274  |
                             8275 
                             8277 
                             8278 ; 23   |#include "regsi2c.h"
                             8279 
                             8281 
                             8282 ; 1    |/////////////////////////////////////////////////////////////////////////////////
                             8283 ; 2    |// Copyright(C) SigmaTel, Inc. 2000-2003
                             8284 ; 3    |// Filename: regsI2C.inc
                             8285 ; 4    |// Description: Register definitions for GPFLASH interface
                             8286 ; 5    |/////////////////////////////////////////////////////////////////////////////////
                             8287 ; 6    |// The following naming conventions are followed in this file.
                             8288 ; 7    |// All registers are named using the format...
                             8289 ; 8    |//     HW_<module>_<regname>
                             8290 ; 9    |// where <module> is the module name which can be any of the following...
                             8291 ; 10   |//     USB20
                             8292 ; 11   |// (Note that when there is more than one copy of a particular module, the
                             8293 ; 12   |// module name includes a number starting from 0 for the first instance of
                             8294 ; 13   |// that module)
                             8295 ; 14   |// <regname> is the specific register within that module
                             8296 ; 15   |// We also define the following...
                             8297 ; 16   |//     HW_<module>_<regname>_BITPOS
                             8298 ; 17   |// which defines the starting bit (i.e. LSB) of a multi bit field
                             8299 ; 18   |//     HW_<module>_<regname>_SETMASK
                             8300 ; 19   |// which does something else, and
                             8301 ; 20   |//     HW_<module>_<regname>_CLRMASK
                             8302 ; 21   |// which does something else.
                             8303 ; 22   |// Other rules
                             8304 ; 23   |//     All caps
                             8305 ; 24   |//     Numeric identifiers start at 0
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 136

M:ADDR CODE           CYCLES LINE SOURCELINE
                             8306 ; 25   |#if !(defined(regsi2cinc))
                             8307 ; 26   |#define regsi2cinc 1
                             8308 ; 27   |
                             8309 ; 28   |#include "types.h"
                             8310 
                             8312 
                             8313 ; 1    |////////////////////////////////////////////////////////////////////////////////
                             8314 ; 2    |// Copyright(C) SigmaTel, Inc. 2000-2004
                             8315 ; 3    |//
                             8316 ; 4    |// Filename: types.h
                             8317 ; 5    |// Description: Standard data types
                             8318 ; 6    |////////////////////////////////////////////////////////////////////////////////
                             8319 ; 7    |
                             8320 ; 8    |#ifndef _TYPES_H
                             8321 ; 9    |#define _TYPES_H
                             8322 ; 10   |
                             8323 ; 11   |// TODO:  move this outta here!
                             8324 ; 12   |#if !defined(NOERROR)
                             8325 ; 13   |#define NOERROR 0
                             8326 ; 14   |#define SUCCESS 0
                             8327 ; 15   |#endif 
                             8328 ; 16   |#if !defined(SUCCESS)
                             8329 ; 17   |#define SUCCESS  0
                             8330 ; 18   |#endif
                             8331 ; 19   |#if !defined(ERROR)
                             8332 ; 20   |#define ERROR   -1
                             8333 ; 21   |#endif
                             8334 ; 22   |#if !defined(FALSE)
                             8335 ; 23   |#define FALSE 0
                             8336 ; 24   |#endif
                             8337 ; 25   |#if !defined(TRUE)
                             8338 ; 26   |#define TRUE  1
                             8339 ; 27   |#endif
                             8340 ; 28   |
                             8341 ; 29   |#if !defined(NULL)
                             8342 ; 30   |#define NULL 0
                             8343 ; 31   |#endif
                             8344 ; 32   |
                             8345 ; 33   |#define MAX_INT     0x7FFFFF
                             8346 ; 34   |#define MAX_LONG    0x7FFFFFffffff
                             8347 ; 35   |        // max positive unsigned long value: -1 == 0xFFFFFFffffff
                             8348 ; 36   |#define MAX_ULONG   (-1) 
                             8349 ; 37   |
                             8350 ; 38   |#define WORD_SIZE   24              // word size in bits
                             8351 ; 39   |#define BYTES_PER_WORD 3            // 8 bit bytes
                             8352 ; 40   |
                             8353 ; 41   |
                             8354 ; 42   |#define BYTE    unsigned char       // btVarName
                             8355 ; 43   |#define CHAR    signed char         // cVarName
                             8356 ; 44   |#define USHORT  unsigned short      // usVarName
                             8357 ; 45   |#define SHORT   unsigned short      // sVarName
                             8358 ; 46   |#define WORD    unsigned int        // wVarName
                             8359 ; 47   |#define INT     signed int          // iVarName
                             8360 ; 48   |#define DWORD   unsigned long       // dwVarName
                             8361 ; 49   |#define LONG    signed long         // lVarName
                             8362 ; 50   |#define BOOL    unsigned int        // bVarName
                             8363 ; 51   |#define FRACT   _fract              // frVarName
                             8364 ; 52   |#define LFRACT  long _fract         // lfrVarName
                             8365 ; 53   |#define CIRC    _circ               // cp<type prefix>VarName (see below)
                             8366 ; 54   |#define FLOAT   float               // fVarName
                             8367 ; 55   |#define DBL     double              // dVarName
                             8368 ; 56   |#define ENUM    enum                // eVarName
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 137

M:ADDR CODE           CYCLES LINE SOURCELINE
                             8369 ; 57   |#define CMX     _complex            // cmxVarName
                             8370 ; 58   |typedef WORD UCS3;                   // 
                             8371 ; 59   |
                             8372 ; 60   |#define UINT16  unsigned short
                             8373 ; 61   |#define UINT8   unsigned char   
                             8374 ; 62   |#define UINT32  unsigned long
                             8375 ; 63   |#define UINT64  unsigned long   // need to figure out how to do 64 bit values.  Or port ex
                                  isiting code to only use 48 bit
                             8376 ; 64   |#define INT64   unsigned long   // need to figure out how to do 64 bit values.  Or port ex
                                  isiting code to only use 48 bit
                             8377 ; 65   |#define WCHAR   UINT16
                             8378 ; 66   |
                             8379 ; 67   |//UINT128 is 16 bytes or 6 words
                             8380 ; 68   |typedef struct UINT128_3500 {   
                             8381 ; 69   |    int val[6];     
                             8382 ; 70   |} UINT128_3500;
                             8383 ; 71   |
                             8384 ; 72   |#define UINT128   UINT128_3500
                             8385 ; 73   |
                             8386 ; 74   |// Little endian word packed byte strings:   
                             8387 ; 75   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                             8388 ; 76   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                             8389 ; 77   |// Little endian word packed byte strings:   
                             8390 ; 78   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                             8391 ; 79   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                             8392 ; 80   |
                             8393 ; 81   |// Declare Memory Spaces To Use When Coding
                             8394 ; 82   |// A. Sector Buffers
                             8395 ; 83   |#define SECTOR_BUFFER_MEM_X _X
                             8396 ; 84   |#define SECTOR_BUFFER_MEM_Y _Y
                             8397 ; 85   |#define SECTOR_BUFFER_MEM SECTOR_BUFFER_MEM_X
                             8398 ; 86   |typedef WORD SECTOR_BUFFER_MEM SECTOR_BUFFER;
                             8399 ; 87   |typedef SECTOR_BUFFER * P_SECTOR_BUFFER;
                             8400 ; 88   |// B. Media DDI Memory
                             8401 ; 89   |#define MEDIA_DDI_MEM _Y
                             8402 ; 90   |
                             8403 ; 91   |
                             8404 ; 92   |
                             8405 ; 93   |// Pointers to linear structures are labeled as: p<type prefix>VarName
                             8406 ; 94   |// Examples of circular pointers:
                             8407 ; 95   |//    INT CIRC cpiVarName
                             8408 ; 96   |//    DWORD CIRC cpdwVarName
                             8409 ; 97   |
                             8410 ; 98   |#define RETCODE INT                 // rcVarName
                             8411 ; 99   |
                             8412 ; 100  |// generic bitfield structure
                             8413 ; 101  |struct Bitfield {
                             8414 ; 102  |    unsigned int B0  :1;
                             8415 ; 103  |    unsigned int B1  :1;
                             8416 ; 104  |    unsigned int B2  :1;
                             8417 ; 105  |    unsigned int B3  :1;
                             8418 ; 106  |    unsigned int B4  :1;
                             8419 ; 107  |    unsigned int B5  :1;
                             8420 ; 108  |    unsigned int B6  :1;
                             8421 ; 109  |    unsigned int B7  :1;
                             8422 ; 110  |    unsigned int B8  :1;
                             8423 ; 111  |    unsigned int B9  :1;
                             8424 ; 112  |    unsigned int B10 :1;
                             8425 ; 113  |    unsigned int B11 :1;
                             8426 ; 114  |    unsigned int B12 :1;
                             8427 ; 115  |    unsigned int B13 :1;
                             8428 ; 116  |    unsigned int B14 :1;
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 138

M:ADDR CODE           CYCLES LINE SOURCELINE
                             8429 ; 117  |    unsigned int B15 :1;
                             8430 ; 118  |    unsigned int B16 :1;
                             8431 ; 119  |    unsigned int B17 :1;
                             8432 ; 120  |    unsigned int B18 :1;
                             8433 ; 121  |    unsigned int B19 :1;
                             8434 ; 122  |    unsigned int B20 :1;
                             8435 ; 123  |    unsigned int B21 :1;
                             8436 ; 124  |    unsigned int B22 :1;
                             8437 ; 125  |    unsigned int B23 :1;
                             8438 ; 126  |};
                             8439 ; 127  |
                             8440 ; 128  |union BitInt {
                             8441 ; 129  |        struct Bitfield B;
                             8442 ; 130  |        int        I;
                             8443 ; 131  |};
                             8444 ; 132  |
                             8445 ; 133  |#define MAX_MSG_LENGTH 10
                             8446 ; 134  |struct CMessage
                             8447 ; 135  |{
                             8448 ; 136  |        unsigned int m_uLength;
                             8449 ; 137  |        unsigned int m_uMsg[MAX_MSG_LENGTH];
                             8450 ; 138  |};
                             8451 ; 139  |
                             8452 ; 140  |typedef struct {
                             8453 ; 141  |    WORD m_wLength;
                             8454 ; 142  |    WORD m_wMessage;
                             8455 ; 143  |    WORD m_wParams[MAX_MSG_LENGTH];
                             8456 ; 144  |} Message;
                             8457 ; 145  |
                             8458 ; 146  |struct MessageQueueDescriptor
                             8459 ; 147  |{
                             8460 ; 148  |        int *m_pBase;
                             8461 ; 149  |        int m_iModulo;
                             8462 ; 150  |        int m_iSize;
                             8463 ; 151  |        int *m_pHead;
                             8464 ; 152  |        int *m_pTail;
                             8465 ; 153  |};
                             8466 ; 154  |
                             8467 ; 155  |struct ModuleEntry
                             8468 ; 156  |{
                             8469 ; 157  |    int m_iSignaledEventMask;
                             8470 ; 158  |    int m_iWaitEventMask;
                             8471 ; 159  |    int m_iResourceOfCode;
                             8472 ; 160  |    struct MessageQueueDescriptor *m_pMessageQueue;
                             8473 ; 161  |    int _asmfunc (*m_pProcessEntryPoint)(union WaitMask Signals,struct MessageQueueDescrip
                                  tor *);
                             8474 ; 162  |    int _asmfunc (*m_pInitFunction)(struct MessageQueueDescriptor *);
                             8475 ; 163  |    int m_uTimeOutHigh;
                             8476 ; 164  |    int m_uTimeOutLow;
                             8477 ; 165  |    int _asmfunc (*m_pBackgroundFunction)(struct MessageQueueDescriptor *);
                             8478 ; 166  |};
                             8479 ; 167  |
                             8480 ; 168  |union WaitMask{
                             8481 ; 169  |    struct B{
                             8482 ; 170  |        unsigned int m_bNone     :1;
                             8483 ; 171  |        unsigned int m_bMessage  :1;
                             8484 ; 172  |        unsigned int m_bTimer    :1;
                             8485 ; 173  |        unsigned int m_bButton   :1;
                             8486 ; 174  |    } B;
                             8487 ; 175  |    int I;
                             8488 ; 176  |} ;
                             8489 ; 177  |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 139

M:ADDR CODE           CYCLES LINE SOURCELINE
                             8490 ; 178  |
                             8491 ; 179  |struct Button {
                             8492 ; 180  |        WORD wButtonEvent;
                             8493 ; 181  |        WORD wUnused[MAX_MSG_LENGTH];   
                             8494 ; 182  |};
                             8495 ; 183  |
                             8496 ; 184  |struct Message {
                             8497 ; 185  |        WORD wMsgLength;
                             8498 ; 186  |        WORD wMsgCommand;
                             8499 ; 187  |        WORD wMsgParms[MAX_MSG_LENGTH-1];
                             8500 ; 188  |};
                             8501 ; 189  |
                             8502 ; 190  |union EventTypes {
                             8503 ; 191  |        struct CMessage msg;
                             8504 ; 192  |        struct Button Button ;
                             8505 ; 193  |        struct Message Message;
                             8506 ; 194  |};
                             8507 ; 195  |
                             8508 ; 196  |// next 2 used to get updater build to return correct protocol ver in scsi response.
                             8509 ; 197  |#define BUILD_TYPE_UPDATER  0x100
                             8510 ; 198  |#define BUILD_TYPE_HOSTLINK 0x101
                             8511 ; 199  |#define BUILD_TYPE_PLAYER   0x102
                             8512 ; 200  |
                             8513 ; 201  |// Resets part if RETAIL build. DEBUG build executes debug instruction to halt.
                             8514 ; 202  |#define SystemHalt() __asm(" include 'sysmacro.asm' \n error") 
                             8515 ; 203  |#define assert(x)    if(!(x)) __asm(" include 'sysmacro.asm' \n error")
                             8516 ; 204  |
                             8517 ; 205  |#if DEBUG
                             8518 ; 206  |// For DEBUG builds, DebugBuildAssert(condition) halts if condition evaluates to FALSE. 
                             8519 ; 207  |#define DebugBuildAssert(x)    if(!(x)) __asm(" debug ")
                             8520 ; 208  |#else 
                             8521 ; 209  |// For RETAIL builds, DebugBuildAssert(condition) does nothing & execution continues rathe
                                  r than halt or reset. 
                             8522 ; 210  |#define DebugBuildAssert(x)    
                             8523 ; 211  |#endif
                             8524 ; 212  |
                             8525 ; 213  |// Do this in your C files to make a reminder that's displayed during the build.
                             8526 ; 214  |//  #pragma asm
                             8527 ; 215  |//  WARN 'Note to builder: reminder to do this after verifying that'
                             8528 ; 216  |//  #pragma endasm
                             8529 ; 217  |
                             8530 ; 218  |
                             8531 ; 219  |#ifdef COLOR_262K
                             8532 ; 220  |#define RGB(r,g,b)    ((0x0000FC & (r)) << 10) | ((0x0000FC & (g)) << 4) | ((0x0000FC & (b
                                  )) >> 2)    //262k
                             8533 ; 221  |#elif defined(COLOR_65K)
                             8534 ; 222  |#define RGB(r,g,b)    ((0x0000F8 & (r)) << 8) | ((0x0000FC & (g)) << 3) | ((0x0000F8 & (b)
                                  ) >> 3)  //65k
                             8535 ; 223  |#else
                             8536 ; 224  |#define RGB(r,g,b)       ((0x0000F0 & (r)) << 4) | (0x0000F0 & (g)) | ((0x0000F0 & (b)) >>
                                   4)
                             8537 ; 225  |#endif
                             8538 ; 226  |    
                             8539 ; 227  |#endif // #ifndef _TYPES_H
                             8540 
                             8542 
                             8543 ; 29   |
                             8544 ; 30   |/////////////////////////////////////////////////////////////////////////////////
                             8545 ; 31   |////   I2C STMP Registers
                             8546 ; 32   |/////////////////////////////////////////////////////////////////////////////////
                             8547 ; 33   |
                             8548 ; 34   |#define HW_I2C_BASEADDR (0xFFE5)
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 140

M:ADDR CODE           CYCLES LINE SOURCELINE
                             8549 ; 35   |
                             8550 ; 36   |
                             8551 ; 37   |/////////////////////////////////////////////////////////////////////////////////
                             8552 ; 38   |////  I2C Clock Divider Register (HW_I2CDIV) Bit Definitions
                             8553 ; 39   |
                             8554 ; 40   |#define HW_I2CDIV_FACT_BITPOS (1)
                             8555 ; 41   |
                             8556 ; 42   |#define HW_I2CDIV_FACT_SETMASK (0xFF<<HW_I2CDIV_FACT_BITPOS)
                             8557 ; 43   |
                             8558 ; 44   |#define HW_I2CDIV_FACT_CLRMASK (~(WORD)HW_I2CDIV_FACT_SETMASK)
                             8559 ; 45   |
                             8560 ; 46   |typedef union               /* I2C Clock Divider Register */
                             8561 ; 47   |{
                             8562 ; 48   |    struct {
                             8563 ; 49   |        int                :1; 
                             8564 ; 50   |        unsigned FACT      :8;
                             8565 ; 51   |    } B;
                             8566 ; 52   |    int I;
                             8567 ; 53   |    unsigned U;
                             8568 ; 54   |} i2cdivr_type;
                             8569 ; 55   |#define HW_I2CDIV (*(volatile i2cdivr_type _X*) (HW_I2C_BASEADDR))       /* I2C Divfact Re
                                  gisters        */
                             8570 ; 56   |
                             8571 ; 57   |
                             8572 ; 58   |/////////////////////////////////////////////////////////////////////////////////
                             8573 ; 59   |////  I2C Data Register (HW_I2CDAT) Bit Definitions
                             8574 ; 60   |
                             8575 ; 61   |#define HW_I2CDAT_DATA_BITPOS (0)
                             8576 ; 62   |
                             8577 ; 63   |#define HW_I2CDAT_DATA_SETMASK (0xFFFFFF)
                             8578 ; 64   |
                             8579 ; 65   |#define HW_I2CDAT_DATA_CLRMASK (~(WORD)HW_I2CDAT_DATA_SETMASK)
                             8580 ; 66   |
                             8581 ; 67   |typedef union               /* I2C Data Register */
                             8582 ; 68   |{
                             8583 ; 69   |    struct {
                             8584 ; 70   |         unsigned DATA :24; 
                             8585 ; 71   |    } B;
                             8586 ; 72   |    int I;
                             8587 ; 73   |    unsigned U;
                             8588 ; 74   |} i2cdatr_type;
                             8589 ; 75   |#define HW_I2CDAT (*(volatile i2cdatr_type _X*) (HW_I2C_BASEADDR+1)) /* I2C Data Registers
                                   (I2CDAT)      */
                             8590 ; 76   |
                             8591 ; 77   |
                             8592 ; 78   |/////////////////////////////////////////////////////////////////////////////////
                             8593 ; 79   |////  I2C Control Status Register (HW_I2CCSR) Bit Definitions
                             8594 ; 80   |#define HW_I2CCSR_I2C_EN_BITPOS (0)
                             8595 ; 81   |#define HW_I2CCSR_RIE_BITPOS (1)
                             8596 ; 82   |#define HW_I2CCSR_BUSY_BITPOS (2)
                             8597 ; 83   |#define HW_I2CCSR_ARB_LOST_BITPOS (3)
                             8598 ; 84   |#define HW_I2CCSR_TIE_BITPOS (4)
                             8599 ; 85   |#define HW_I2CCSR_MODE_BITPOS (5)
                             8600 ; 86   |#define HW_I2CCSR_RDR_BITPOS (6)
                             8601 ; 87   |#define HW_I2CCSR_TDE_BITPOS (7)
                             8602 ; 88   |#define HW_I2CCSR_RWN_BITPOS (8)
                             8603 ; 89   |#define HW_I2CCSR_WL_BITPOS (9)
                             8604 ; 90   |#define HW_I2CCSR_WL0_BITPOS (9)
                             8605 ; 91   |#define HW_I2CCSR_WL1_BITPOS (10)
                             8606 ; 92   |#define HW_I2CCSR_TREQ_BITPOS (11)
                             8607 ; 93   |#define HW_I2CCSR_ROFL_BITPOS (12)
                             8608 ; 94   |#define HW_I2CCSR_TUFL_BITPOS (13)
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 141

M:ADDR CODE           CYCLES LINE SOURCELINE
                             8609 ; 95   |#define HW_I2CCSR_ACKF_BITPOS (14)
                             8610 ; 96   |#define HW_I2CCSR_B_CNT_BITPOS (15)
                             8611 ; 97   |#define HW_I2CCSR_B_CNT0_BITPOS (15)
                             8612 ; 98   |#define HW_I2CCSR_B_CNT1_BITPOS (16)
                             8613 ; 99   |#define HW_I2CCSR_L_WORD_BITPOS (17)
                             8614 ; 100  |#define HW_I2CCSR_SUBA_BITPOS (18)
                             8615 ; 101  |#define HW_I2CCSR_ROFLCL_BITPOS (19)
                             8616 ; 102  |#define HW_I2CCSR_TUFLCL_BITPOS (20)
                             8617 ; 103  |#define HW_I2CCSR_ONEBYTE_BITPOS (21)
                             8618 ; 104  |
                             8619 ; 105  |#define HW_I2CCSR_I2C_EN_SETMASK (1<<HW_I2CCSR_I2C_EN_BITPOS)
                             8620 ; 106  |#define HW_I2CCSR_RIE_SETMASK (1<<HW_I2CCSR_RIE_BITPOS)
                             8621 ; 107  |#define HW_I2CCSR_BUSY_SETMASK (1<<HW_I2CCSR_BUSY_BITPOS)
                             8622 ; 108  |#define HW_I2CCSR_ARB_LOST_SETMASK (1<<HW_I2CCSR_ARB_LOST_BITPOS)
                             8623 ; 109  |#define HW_I2CCSR_TIE_SETMASK (1<<HW_I2CCSR_TIE_BITPOS)
                             8624 ; 110  |#define HW_I2CCSR_MODE_SETMASK (1<<HW_I2CCSR_MODE_BITPOS)
                             8625 ; 111  |#define HW_I2CCSR_RDR_SETMASK (1<<HW_I2CCSR_RDR_BITPOS)
                             8626 ; 112  |#define HW_I2CCSR_TDE_SETMASK (1<<HW_I2CCSR_TDE_BITPOS)
                             8627 ; 113  |#define HW_I2CCSR_RWN_SETMASK (1<<HW_I2CCSR_RWN_BITPOS)
                             8628 ; 114  |#define HW_I2CCSR_WL_SETMASK (3<<HW_I2CCSR_WL_BITPOS)
                             8629 ; 115  |#define HW_I2CCSR_WL0_SETMASK (1<<HW_I2CCSR_WL0_BITPOS)
                             8630 ; 116  |#define HW_I2CCSR_WL1_SETMASK (1<<HW_I2CCSR_WL1_BITPOS)
                             8631 ; 117  |#define HW_I2CCSR_TREQ_SETMASK (1<<HW_I2CCSR_TREQ_BITPOS)
                             8632 ; 118  |#define HW_I2CCSR_ROFL_SETMASK (1<<HW_I2CCSR_ROFL_BITPOS)
                             8633 ; 119  |#define HW_I2CCSR_TUFL_SETMASK (1<<HW_I2CCSR_TUFL_BITPOS)
                             8634 ; 120  |#define HW_I2CCSR_ACKF_SETMASK (1<<HW_I2CCSR_ACKF_BITPOS)
                             8635 ; 121  |#define HW_I2CCSR_B_CNT_SETMASK (3<<HW_I2CCSR_B_CNT_BITPOS)
                             8636 ; 122  |#define HW_I2CCSR_B_CNT0_SETMASK (1<<HW_I2CCSR_B_CNT0_BITPOS)
                             8637 ; 123  |#define HW_I2CCSR_B_CNT1_SETMASK (1<<HW_I2CCSR_B_CNT1_BITPOS)
                             8638 ; 124  |#define HW_I2CCSR_L_WORD_SETMASK (1<<HW_I2CCSR_L_WORD_BITPOS)
                             8639 ; 125  |#define HW_I2CCSR_SUBA_SETMASK (1<<HW_I2CCSR_SUBA_BITPOS)
                             8640 ; 126  |#define HW_I2CCSR_ROFLCL_SETMASK (1<<HW_I2CCSR_ROFLCL_BITPOS)
                             8641 ; 127  |#define HW_I2CCSR_TUFLCL_SETMASK (1<<HW_I2CCSR_TUFLCL_BITPOS)
                             8642 ; 128  |#define HW_I2CCSR_ONEBYTE_SETMASK (1<<HW_I2CCSR_ONEBYTE_BITPOS)
                             8643 ; 129  |
                             8644 ; 130  |#define HW_I2CCSR_I2C_EN_CLRMASK (~(WORD)HW_I2CCSR_I2C_EN_SETMASK)
                             8645 ; 131  |#define HW_I2CCSR_RIE_CLRMASK (~(WORD)HW_I2CCSR_RIE_SETMASK)
                             8646 ; 132  |#define HW_I2CCSR_BUSY_CLRMASK (~(WORD)HW_I2CCSR_BUSY_SETMASK)
                             8647 ; 133  |#define HW_I2CCSR_ARB_LOST_CLRMASK (~(WORD)HW_I2CCSR_ARB_LOST_SETMASK)
                             8648 ; 134  |#define HW_I2CCSR_TIE_CLRMASK (~(WORD)HW_I2CCSR_TIE_SETMASK)
                             8649 ; 135  |#define HW_I2CCSR_MODE_CLRMASK (~(WORD)HW_I2CCSR_MODE_SETMASK)
                             8650 ; 136  |#define HW_I2CCSR_RDR_CLRMASK (~(WORD)HW_I2CCSR_RDR_SETMASK)
                             8651 ; 137  |#define HW_I2CCSR_TDE_CLRMASK (~(WORD)HW_I2CCSR_TDE_SETMASK)
                             8652 ; 138  |#define HW_I2CCSR_RWN_CLRMASK (~(WORD)HW_I2CCSR_RWN_SETMASK)
                             8653 ; 139  |#define HW_I2CCSR_WL_CLRMASK (~(WORD)HW_I2CCSR_WL_SETMASK)
                             8654 ; 140  |#define HW_I2CCSR_WL0_CLRMASK (~(WORD)HW_I2CCSR_WL0_SETMASK)
                             8655 ; 141  |#define HW_I2CCSR_WL1_CLRMASK (~(WORD)HW_I2CCSR_WL1_SETMASK)
                             8656 ; 142  |#define HW_I2CCSR_TREQ_CLRMASK (~(WORD)HW_I2CCSR_TREQ_SETMASK)
                             8657 ; 143  |#define HW_I2CCSR_ROFL_CLRMASK (~(WORD)HW_I2CCSR_ROFL_SETMASK)
                             8658 ; 144  |#define HW_I2CCSR_TUFL_CLRMASK (~(WORD)HW_I2CCSR_TUFL_SETMASK)
                             8659 ; 145  |#define HW_I2CCSR_ACKF_CLRMASK (~(WORD)HW_I2CCSR_ACKF_SETMASK)
                             8660 ; 146  |#define HW_I2CCSR_B_CNT_CLRMASK (~(WORD)HW_I2CCSR_B_CNT_SETMASK)
                             8661 ; 147  |#define HW_I2CCSR_B_CNT0_CLRMASK (~(WORD)HW_I2CCSR_B_CNT0_SETMASK)
                             8662 ; 148  |#define HW_I2CCSR_B_CNT1_CLRMASK (~(WORD)HW_I2CCSR_B_CNT1_SETMASK)
                             8663 ; 149  |#define HW_I2CCSR_L_WORD_CLRMASK (~(WORD)HW_I2CCSR_L_WORD_SETMASK)
                             8664 ; 150  |#define HW_I2CCSR_SUBA_CLRMASK (~(WORD)HW_I2CCSR_SUBA_SETMASK)
                             8665 ; 151  |#define HW_I2CCSR_ROFLCL_CLRMASK (~(WORD)HW_I2CCSR_ROFLCL_SETMASK)
                             8666 ; 152  |#define HW_I2CCSR_TUFLCL_CLRMASK (~(WORD)HW_I2CCSR_TUFLCL_SETMASK)
                             8667 ; 153  |#define HW_I2CCSR_ONEBYTE_CLRMASK (~(WORD)HW_I2CCSR_ONEBYTE_SETMASK)
                             8668 ; 154  |
                             8669 ; 155  |typedef union               /* I2C Control Register         */
                             8670 ; 156  |{
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 142

M:ADDR CODE           CYCLES LINE SOURCELINE
                             8671 ; 157  |    struct {
                             8672 ; 158  |        int I2C_EN      :1; /* Peripheral Enable            */
                             8673 ; 159  |        int RIE         :1; /* Receiver Interrupt Enable        */
                             8674 ; 160  |        int BUSY        :1; /* I2C Bus Busy             */
                             8675 ; 161  |        int ARBLOST     :1; /* Aritration lost          */
                             8676 ; 162  |        int TIE         :1; /* Transmitter Interrupt Enable     */
                             8677 ; 163  |        int MODE        :1; /* Operating Mode Bit           */
                             8678 ; 164  |        int RDR         :1; /* Receiver Data Ready          */
                             8679 ; 165  |       int TDE         :1; /* Transmitter Data Empty       */
                             8680 ; 166  |       int RWN         :1; /* Read/Not Write           */
                             8681 ; 167  |       unsigned WL     :2; /* Word Length              */
                             8682 ; 168  |        int TREQ        :1; /* DSP Transmit Request         */
                             8683 ; 169  |        int ROFL        :1; /* Receiver Overflow            */
                             8684 ; 170  |        int TUFL        :1; /* Transmitter Underflow        */
                             8685 ; 171  |        int ACKF        :1; /* Acknowledge Failure          */
                             8686 ; 172  |        unsigned BCNT   :2; /* Byte Count               */
                             8687 ; 173  |        int LWORD       :1; /* Last Word                */
                             8688 ; 174  |        int SUBA        :1; /* Sub Address              */
                             8689 ; 175  |        int ROFLCL      :1; /* Receiver Overflow Clear      */
                             8690 ; 176  |        int TUFLCL      :1; /* Transmitter Underflow Clear      */
                             8691 ; 177  |        int ONEBYTE     :1; /* Special One Data Byte Transmission Mode */
                             8692 ; 178  |    } B;
                             8693 ; 179  |    int I;
                             8694 ; 180  |    unsigned U;
                             8695 ; 181  |} i2ccsr_type;
                             8696 ; 182  |#define HW_I2CCSR (*(volatile i2ccsr_type _X*) (HW_I2C_BASEADDR+2)) /* I2C Control/Status 
                                  Register (I2CCSR) */
                             8697 ; 183  |
                             8698 ; 184  |#endif
                             8699 
                             8701 
                             8702 ; 24   |#include "regsi2s.h"
                             8703 
                             8705 
                             8706 ; 1    |/////////////////////////////////////////////////////////////////////////////////
                             8707 ; 2    |// Copyright(C) SigmaTel, Inc. 2000-2003
                             8708 ; 3    |// Filename: regsi2s.inc
                             8709 ; 4    |// Description: Register definitions for I2S interface
                             8710 ; 5    |/////////////////////////////////////////////////////////////////////////////////
                             8711 ; 6    |// The following naming conventions are followed in this file.
                             8712 ; 7    |// All registers are named using the format...
                             8713 ; 8    |//     HW_<module>_<regname>
                             8714 ; 9    |// where <module> is the module name which can be any of the following...
                             8715 ; 10   |//     USB20
                             8716 ; 11   |// (Note that when there is more than one copy of a particular module, the
                             8717 ; 12   |// module name includes a number starting from 0 for the first instance of
                             8718 ; 13   |// that module)
                             8719 ; 14   |// <regname> is the specific register within that module
                             8720 ; 15   |// We also define the following...
                             8721 ; 16   |//     HW_<module>_<regname>_BITPOS
                             8722 ; 17   |// which defines the starting bit (i.e. LSB) of a multi bit field
                             8723 ; 18   |//     HW_<module>_<regname>_SETMASK
                             8724 ; 19   |// which does something else, and
                             8725 ; 20   |//     HW_<module>_<regname>_CLRMASK
                             8726 ; 21   |// which does something else.
                             8727 ; 22   |// Other rules
                             8728 ; 23   |//     All caps
                             8729 ; 24   |//     Numeric identifiers start at 0
                             8730 ; 25   |#if !(defined(regsi2sinc))
                             8731 ; 26   |#define regsi2sinc 1
                             8732 ; 27   |
                             8733 ; 28   |#include "types.h"
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 143

M:ADDR CODE           CYCLES LINE SOURCELINE
                             8734 
                             8736 
                             8737 ; 1    |////////////////////////////////////////////////////////////////////////////////
                             8738 ; 2    |// Copyright(C) SigmaTel, Inc. 2000-2004
                             8739 ; 3    |//
                             8740 ; 4    |// Filename: types.h
                             8741 ; 5    |// Description: Standard data types
                             8742 ; 6    |////////////////////////////////////////////////////////////////////////////////
                             8743 ; 7    |
                             8744 ; 8    |#ifndef _TYPES_H
                             8745 ; 9    |#define _TYPES_H
                             8746 ; 10   |
                             8747 ; 11   |// TODO:  move this outta here!
                             8748 ; 12   |#if !defined(NOERROR)
                             8749 ; 13   |#define NOERROR 0
                             8750 ; 14   |#define SUCCESS 0
                             8751 ; 15   |#endif 
                             8752 ; 16   |#if !defined(SUCCESS)
                             8753 ; 17   |#define SUCCESS  0
                             8754 ; 18   |#endif
                             8755 ; 19   |#if !defined(ERROR)
                             8756 ; 20   |#define ERROR   -1
                             8757 ; 21   |#endif
                             8758 ; 22   |#if !defined(FALSE)
                             8759 ; 23   |#define FALSE 0
                             8760 ; 24   |#endif
                             8761 ; 25   |#if !defined(TRUE)
                             8762 ; 26   |#define TRUE  1
                             8763 ; 27   |#endif
                             8764 ; 28   |
                             8765 ; 29   |#if !defined(NULL)
                             8766 ; 30   |#define NULL 0
                             8767 ; 31   |#endif
                             8768 ; 32   |
                             8769 ; 33   |#define MAX_INT     0x7FFFFF
                             8770 ; 34   |#define MAX_LONG    0x7FFFFFffffff
                             8771 ; 35   |        // max positive unsigned long value: -1 == 0xFFFFFFffffff
                             8772 ; 36   |#define MAX_ULONG   (-1) 
                             8773 ; 37   |
                             8774 ; 38   |#define WORD_SIZE   24              // word size in bits
                             8775 ; 39   |#define BYTES_PER_WORD 3            // 8 bit bytes
                             8776 ; 40   |
                             8777 ; 41   |
                             8778 ; 42   |#define BYTE    unsigned char       // btVarName
                             8779 ; 43   |#define CHAR    signed char         // cVarName
                             8780 ; 44   |#define USHORT  unsigned short      // usVarName
                             8781 ; 45   |#define SHORT   unsigned short      // sVarName
                             8782 ; 46   |#define WORD    unsigned int        // wVarName
                             8783 ; 47   |#define INT     signed int          // iVarName
                             8784 ; 48   |#define DWORD   unsigned long       // dwVarName
                             8785 ; 49   |#define LONG    signed long         // lVarName
                             8786 ; 50   |#define BOOL    unsigned int        // bVarName
                             8787 ; 51   |#define FRACT   _fract              // frVarName
                             8788 ; 52   |#define LFRACT  long _fract         // lfrVarName
                             8789 ; 53   |#define CIRC    _circ               // cp<type prefix>VarName (see below)
                             8790 ; 54   |#define FLOAT   float               // fVarName
                             8791 ; 55   |#define DBL     double              // dVarName
                             8792 ; 56   |#define ENUM    enum                // eVarName
                             8793 ; 57   |#define CMX     _complex            // cmxVarName
                             8794 ; 58   |typedef WORD UCS3;                   // 
                             8795 ; 59   |
                             8796 ; 60   |#define UINT16  unsigned short
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 144

M:ADDR CODE           CYCLES LINE SOURCELINE
                             8797 ; 61   |#define UINT8   unsigned char   
                             8798 ; 62   |#define UINT32  unsigned long
                             8799 ; 63   |#define UINT64  unsigned long   // need to figure out how to do 64 bit values.  Or port ex
                                  isiting code to only use 48 bit
                             8800 ; 64   |#define INT64   unsigned long   // need to figure out how to do 64 bit values.  Or port ex
                                  isiting code to only use 48 bit
                             8801 ; 65   |#define WCHAR   UINT16
                             8802 ; 66   |
                             8803 ; 67   |//UINT128 is 16 bytes or 6 words
                             8804 ; 68   |typedef struct UINT128_3500 {   
                             8805 ; 69   |    int val[6];     
                             8806 ; 70   |} UINT128_3500;
                             8807 ; 71   |
                             8808 ; 72   |#define UINT128   UINT128_3500
                             8809 ; 73   |
                             8810 ; 74   |// Little endian word packed byte strings:   
                             8811 ; 75   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                             8812 ; 76   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                             8813 ; 77   |// Little endian word packed byte strings:   
                             8814 ; 78   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                             8815 ; 79   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                             8816 ; 80   |
                             8817 ; 81   |// Declare Memory Spaces To Use When Coding
                             8818 ; 82   |// A. Sector Buffers
                             8819 ; 83   |#define SECTOR_BUFFER_MEM_X _X
                             8820 ; 84   |#define SECTOR_BUFFER_MEM_Y _Y
                             8821 ; 85   |#define SECTOR_BUFFER_MEM SECTOR_BUFFER_MEM_X
                             8822 ; 86   |typedef WORD SECTOR_BUFFER_MEM SECTOR_BUFFER;
                             8823 ; 87   |typedef SECTOR_BUFFER * P_SECTOR_BUFFER;
                             8824 ; 88   |// B. Media DDI Memory
                             8825 ; 89   |#define MEDIA_DDI_MEM _Y
                             8826 ; 90   |
                             8827 ; 91   |
                             8828 ; 92   |
                             8829 ; 93   |// Pointers to linear structures are labeled as: p<type prefix>VarName
                             8830 ; 94   |// Examples of circular pointers:
                             8831 ; 95   |//    INT CIRC cpiVarName
                             8832 ; 96   |//    DWORD CIRC cpdwVarName
                             8833 ; 97   |
                             8834 ; 98   |#define RETCODE INT                 // rcVarName
                             8835 ; 99   |
                             8836 ; 100  |// generic bitfield structure
                             8837 ; 101  |struct Bitfield {
                             8838 ; 102  |    unsigned int B0  :1;
                             8839 ; 103  |    unsigned int B1  :1;
                             8840 ; 104  |    unsigned int B2  :1;
                             8841 ; 105  |    unsigned int B3  :1;
                             8842 ; 106  |    unsigned int B4  :1;
                             8843 ; 107  |    unsigned int B5  :1;
                             8844 ; 108  |    unsigned int B6  :1;
                             8845 ; 109  |    unsigned int B7  :1;
                             8846 ; 110  |    unsigned int B8  :1;
                             8847 ; 111  |    unsigned int B9  :1;
                             8848 ; 112  |    unsigned int B10 :1;
                             8849 ; 113  |    unsigned int B11 :1;
                             8850 ; 114  |    unsigned int B12 :1;
                             8851 ; 115  |    unsigned int B13 :1;
                             8852 ; 116  |    unsigned int B14 :1;
                             8853 ; 117  |    unsigned int B15 :1;
                             8854 ; 118  |    unsigned int B16 :1;
                             8855 ; 119  |    unsigned int B17 :1;
                             8856 ; 120  |    unsigned int B18 :1;
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 145

M:ADDR CODE           CYCLES LINE SOURCELINE
                             8857 ; 121  |    unsigned int B19 :1;
                             8858 ; 122  |    unsigned int B20 :1;
                             8859 ; 123  |    unsigned int B21 :1;
                             8860 ; 124  |    unsigned int B22 :1;
                             8861 ; 125  |    unsigned int B23 :1;
                             8862 ; 126  |};
                             8863 ; 127  |
                             8864 ; 128  |union BitInt {
                             8865 ; 129  |        struct Bitfield B;
                             8866 ; 130  |        int        I;
                             8867 ; 131  |};
                             8868 ; 132  |
                             8869 ; 133  |#define MAX_MSG_LENGTH 10
                             8870 ; 134  |struct CMessage
                             8871 ; 135  |{
                             8872 ; 136  |        unsigned int m_uLength;
                             8873 ; 137  |        unsigned int m_uMsg[MAX_MSG_LENGTH];
                             8874 ; 138  |};
                             8875 ; 139  |
                             8876 ; 140  |typedef struct {
                             8877 ; 141  |    WORD m_wLength;
                             8878 ; 142  |    WORD m_wMessage;
                             8879 ; 143  |    WORD m_wParams[MAX_MSG_LENGTH];
                             8880 ; 144  |} Message;
                             8881 ; 145  |
                             8882 ; 146  |struct MessageQueueDescriptor
                             8883 ; 147  |{
                             8884 ; 148  |        int *m_pBase;
                             8885 ; 149  |        int m_iModulo;
                             8886 ; 150  |        int m_iSize;
                             8887 ; 151  |        int *m_pHead;
                             8888 ; 152  |        int *m_pTail;
                             8889 ; 153  |};
                             8890 ; 154  |
                             8891 ; 155  |struct ModuleEntry
                             8892 ; 156  |{
                             8893 ; 157  |    int m_iSignaledEventMask;
                             8894 ; 158  |    int m_iWaitEventMask;
                             8895 ; 159  |    int m_iResourceOfCode;
                             8896 ; 160  |    struct MessageQueueDescriptor *m_pMessageQueue;
                             8897 ; 161  |    int _asmfunc (*m_pProcessEntryPoint)(union WaitMask Signals,struct MessageQueueDescrip
                                  tor *);
                             8898 ; 162  |    int _asmfunc (*m_pInitFunction)(struct MessageQueueDescriptor *);
                             8899 ; 163  |    int m_uTimeOutHigh;
                             8900 ; 164  |    int m_uTimeOutLow;
                             8901 ; 165  |    int _asmfunc (*m_pBackgroundFunction)(struct MessageQueueDescriptor *);
                             8902 ; 166  |};
                             8903 ; 167  |
                             8904 ; 168  |union WaitMask{
                             8905 ; 169  |    struct B{
                             8906 ; 170  |        unsigned int m_bNone     :1;
                             8907 ; 171  |        unsigned int m_bMessage  :1;
                             8908 ; 172  |        unsigned int m_bTimer    :1;
                             8909 ; 173  |        unsigned int m_bButton   :1;
                             8910 ; 174  |    } B;
                             8911 ; 175  |    int I;
                             8912 ; 176  |} ;
                             8913 ; 177  |
                             8914 ; 178  |
                             8915 ; 179  |struct Button {
                             8916 ; 180  |        WORD wButtonEvent;
                             8917 ; 181  |        WORD wUnused[MAX_MSG_LENGTH];   
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 146

M:ADDR CODE           CYCLES LINE SOURCELINE
                             8918 ; 182  |};
                             8919 ; 183  |
                             8920 ; 184  |struct Message {
                             8921 ; 185  |        WORD wMsgLength;
                             8922 ; 186  |        WORD wMsgCommand;
                             8923 ; 187  |        WORD wMsgParms[MAX_MSG_LENGTH-1];
                             8924 ; 188  |};
                             8925 ; 189  |
                             8926 ; 190  |union EventTypes {
                             8927 ; 191  |        struct CMessage msg;
                             8928 ; 192  |        struct Button Button ;
                             8929 ; 193  |        struct Message Message;
                             8930 ; 194  |};
                             8931 ; 195  |
                             8932 ; 196  |// next 2 used to get updater build to return correct protocol ver in scsi response.
                             8933 ; 197  |#define BUILD_TYPE_UPDATER  0x100
                             8934 ; 198  |#define BUILD_TYPE_HOSTLINK 0x101
                             8935 ; 199  |#define BUILD_TYPE_PLAYER   0x102
                             8936 ; 200  |
                             8937 ; 201  |// Resets part if RETAIL build. DEBUG build executes debug instruction to halt.
                             8938 ; 202  |#define SystemHalt() __asm(" include 'sysmacro.asm' \n error") 
                             8939 ; 203  |#define assert(x)    if(!(x)) __asm(" include 'sysmacro.asm' \n error")
                             8940 ; 204  |
                             8941 ; 205  |#if DEBUG
                             8942 ; 206  |// For DEBUG builds, DebugBuildAssert(condition) halts if condition evaluates to FALSE. 
                             8943 ; 207  |#define DebugBuildAssert(x)    if(!(x)) __asm(" debug ")
                             8944 ; 208  |#else 
                             8945 ; 209  |// For RETAIL builds, DebugBuildAssert(condition) does nothing & execution continues rathe
                                  r than halt or reset. 
                             8946 ; 210  |#define DebugBuildAssert(x)    
                             8947 ; 211  |#endif
                             8948 ; 212  |
                             8949 ; 213  |// Do this in your C files to make a reminder that's displayed during the build.
                             8950 ; 214  |//  #pragma asm
                             8951 ; 215  |//  WARN 'Note to builder: reminder to do this after verifying that'
                             8952 ; 216  |//  #pragma endasm
                             8953 ; 217  |
                             8954 ; 218  |
                             8955 ; 219  |#ifdef COLOR_262K
                             8956 ; 220  |#define RGB(r,g,b)    ((0x0000FC & (r)) << 10) | ((0x0000FC & (g)) << 4) | ((0x0000FC & (b
                                  )) >> 2)    //262k
                             8957 ; 221  |#elif defined(COLOR_65K)
                             8958 ; 222  |#define RGB(r,g,b)    ((0x0000F8 & (r)) << 8) | ((0x0000FC & (g)) << 3) | ((0x0000F8 & (b)
                                  ) >> 3)  //65k
                             8959 ; 223  |#else
                             8960 ; 224  |#define RGB(r,g,b)       ((0x0000F0 & (r)) << 4) | (0x0000F0 & (g)) | ((0x0000F0 & (b)) >>
                                   4)
                             8961 ; 225  |#endif
                             8962 ; 226  |    
                             8963 ; 227  |#endif // #ifndef _TYPES_H
                             8964 
                             8966 
                             8967 ; 29   |
                             8968 ; 30   |///////////////////////////////////////////////////////////////////////////////////
                             8969 ; 31   |////  I2S Registers (SAI)
                             8970 ; 32   |///////////////////////////////////////////////////////////////////////////////////
                             8971 ; 33   |
                             8972 ; 34   |
                             8973 ; 35   |#define HW_SAI_BASEADDR (0xFFF0)
                             8974 ; 36   |
                             8975 ; 37   |
                             8976 ; 38   |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 147

M:ADDR CODE           CYCLES LINE SOURCELINE
                             8977 ; 39   |
                             8978 ; 40   |#define HW_SAIRCSR_REN0_BITPOS (0)
                             8979 ; 41   |#define HW_SAIRCSR_REN1_BITPOS (1)
                             8980 ; 42   |#define HW_SAIRCSR_REN2_BITPOS (2)
                             8981 ; 43   |#define HW_SAIRCSR_RMME_BITPOS (3)
                             8982 ; 44   |#define HW_SAIRCSR_RSVD0_BITPOS (4)
                             8983 ; 45   |#define HW_SAIRCSR_RWL_BITPOS (5)
                             8984 ; 46   |#define HW_SAIRCSR_RDIR_BITPOS (7)
                             8985 ; 47   |#define HW_SAIRCSR_RLRS_BITPOS (8)
                             8986 ; 48   |#define HW_SAIRCSR_RCKP_BITPOS (9)
                             8987 ; 49   |#define HW_SAIRCSR_RREL_BITPOS (10)
                             8988 ; 50   |#define HW_SAIRCSR_RDWJ_BITPOS (11)
                             8989 ; 51   |#define HW_SAIRCSR_RXIE_BITPOS (12)
                             8990 ; 52   |#define HW_SAIRCSR_RSVD1_BITPOS (13)
                             8991 ; 53   |#define HW_SAIRCSR_ROFL_BITPOS (14)
                             8992 ; 54   |#define HW_SAIRCSR_RDR_BITPOS (15)
                             8993 ; 55   |#define HW_SAIRCSR_ROFCL_BITPOS (16)
                             8994 ; 56   |#define HW_SAIRCSR_RSVD2_BITPOS (17)
                             8995 ; 57   |
                             8996 ; 58   |
                             8997 ; 59   |#define HW_SAIRCSR_REN0_WIDTH (1)
                             8998 ; 60   |#define HW_SAIRCSR_REN1_WIDTH (1)
                             8999 ; 61   |#define HW_SAIRCSR_REN2_WIDTH (1)
                             9000 ; 62   |#define HW_SAIRCSR_RMME_WIDTH (1)
                             9001 ; 63   |#define HW_SAIRCSR_RSVD0_WIDTH (1)
                             9002 ; 64   |#define HW_SAIRCSR_RWL_WIDTH (2)
                             9003 ; 65   |#define HW_SAIRCSR_RDIR_WIDTH (1)
                             9004 ; 66   |#define HW_SAIRCSR_RLRS_WIDTH (1)
                             9005 ; 67   |#define HW_SAIRCSR_RCKP_WIDTH (1)
                             9006 ; 68   |#define HW_SAIRCSR_RREL_WIDTH (1)
                             9007 ; 69   |#define HW_SAIRCSR_RDWJ_WIDTH (1)
                             9008 ; 70   |#define HW_SAIRCSR_RXIE_WIDTH (1)
                             9009 ; 71   |#define HW_SAIRCSR_RSVD1_WIDTH (1)
                             9010 ; 72   |#define HW_SAIRCSR_ROFL_WIDTH (1)
                             9011 ; 73   |#define HW_SAIRCSR_RDR_WIDTH (1)
                             9012 ; 74   |#define HW_SAIRCSR_ROFCL_WIDTH (1)
                             9013 ; 75   |#define HW_SAIRCSR_RSVD2_WIDTH (7)
                             9014 ; 76   |
                             9015 ; 77   |
                             9016 ; 78   |#define HW_SAIRCSR_REN0_SETMASK (((1<HW_SAIRCSR_REN0_WIDTH)-1)<<HW_SAIRCSR_REN0_BITPOS)
                             9017 ; 79   |#define HW_SAIRCSR_REN1_SETMASK (((1<HW_SAIRCSR_REN1_WIDTH)-1)<<HW_SAIRCSR_REN1_BITPOS)
                             9018 ; 80   |#define HW_SAIRCSR_REN2_SETMASK (((1<HW_SAIRCSR_REN2_WIDTH)-1)<<HW_SAIRCSR_REN2_BITPOS)
                             9019 ; 81   |#define HW_SAIRCSR_RMME_SETMASK (((1<HW_SAIRCSR_RMME_WIDTH)-1)<<HW_SAIRCSR_RMME_BITPOS)
                             9020 ; 82   |#define HW_SAIRCSR_RSVD0_SETMASK (((1<HW_SAIRCSR_RSVD0_WIDTH)-1)<<HW_SAIRCSR_RSVD0_BITPOS)
                                  
                             9021 ; 83   |#define HW_SAIRCSR_RWL_SETMASK (((1<HW_SAIRCSR_RWL_WIDTH)-1)<<HW_SAIRCSR_RWL_BITPOS)
                             9022 ; 84   |#define HW_SAIRCSR_RDIR_SETMASK (((1<HW_SAIRCSR_RDIR_WIDTH)-1)<<HW_SAIRCSR_RDIR_BITPOS)
                             9023 ; 85   |#define HW_SAIRCSR_RLRS_SETMASK (((1<HW_SAIRCSR_RLRS_WIDTH)-1)<<HW_SAIRCSR_RLRS_BITPOS)
                             9024 ; 86   |#define HW_SAIRCSR_RCKP_SETMASK (((1<HW_SAIRCSR_RCKP_WIDTH)-1)<<HW_SAIRCSR_RCKP_BITPOS)
                             9025 ; 87   |#define HW_SAIRCSR_RREL_SETMASK (((1<HW_SAIRCSR_RREL_WIDTH)-1)<<HW_SAIRCSR_RREL_BITPOS)
                             9026 ; 88   |#define HW_SAIRCSR_RDWJ_SETMASK (((1<HW_SAIRCSR_RDWJ_WIDTH)-1)<<HW_SAIRCSR_RDWJ_BITPOS)
                             9027 ; 89   |#define HW_SAIRCSR_RXIE_SETMASK (((1<HW_SAIRCSR_RXIE_WIDTH)-1)<<HW_SAIRCSR_RXIE_BITPOS)
                             9028 ; 90   |#define HW_SAIRCSR_RSVD1_SETMASK (((1<HW_SAIRCSR_RSVD1_WIDTH)-1)<<HW_SAIRCSR_RSVD1_BITPOS)
                                  
                             9029 ; 91   |#define HW_SAIRCSR_ROFL_SETMASK (((1<HW_SAIRCSR_ROFL_WIDTH)-1)<<HW_SAIRCSR_ROFL_BITPOS)
                             9030 ; 92   |#define HW_SAIRCSR_RDR_SETMASK (((1<HW_SAIRCSR_RDR_WIDTH)-1)<<HW_SAIRCSR_RDR_BITPOS)
                             9031 ; 93   |#define HW_SAIRCSR_ROFCL_SETMASK (((1<HW_SAIRCSR_ROFCL_WIDTH)-1)<<HW_SAIRCSR_ROFCL_BITPOS)
                                  
                             9032 ; 94   |#define HW_SAIRCSR_RSVD2_SETMASK (((1<HW_SAIRCSR_RSVD2_WIDTH)-1)<<HW_SAIRCSR_RSVD2_BITPOS)
                                  
                             9033 ; 95   |
                             9034 ; 96   |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 148

M:ADDR CODE           CYCLES LINE SOURCELINE
                             9035 ; 97   |#define HW_SAIRCSR_REN0_CLRMASK (~(WORD)HW_SAIRCSR_REN0_SETMASK)
                             9036 ; 98   |#define HW_SAIRCSR_REN1_CLRMASK (~(WORD)HW_SAIRCSR_REN1_SETMASK)
                             9037 ; 99   |#define HW_SAIRCSR_REN2_CLRMASK (~(WORD)HW_SAIRCSR_REN2_SETMASK)
                             9038 ; 100  |#define HW_SAIRCSR_RMME_CLRMASK (~(WORD)HW_SAIRCSR_RMME_SETMASK)
                             9039 ; 101  |#define HW_SAIRCSR_RSVD0_CLRMASK (~(WORD)HW_SAIRCSR_RSVD0_SETMASK)
                             9040 ; 102  |#define HW_SAIRCSR_RWL_CLRMASK (~(WORD)HW_SAIRCSR_RWL_SETMASK)
                             9041 ; 103  |#define HW_SAIRCSR_RDIR_CLRMASK (~(WORD)HW_SAIRCSR_RDIR_SETMASK)
                             9042 ; 104  |#define HW_SAIRCSR_RLRS_CLRMASK (~(WORD)HW_SAIRCSR_RLRS_SETMASK)
                             9043 ; 105  |#define HW_SAIRCSR_RCKP_CLRMASK (~(WORD)HW_SAIRCSR_RCKP_SETMASK)
                             9044 ; 106  |#define HW_SAIRCSR_RREL_CLRMASK (~(WORD)HW_SAIRCSR_RREL_SETMASK)
                             9045 ; 107  |#define HW_SAIRCSR_RDWJ_CLRMASK (~(WORD)HW_SAIRCSR_RDWJ_SETMASK)
                             9046 ; 108  |#define HW_SAIRCSR_RXIE_CLRMASK (~(WORD)HW_SAIRCSR_RXIE_SETMASK)
                             9047 ; 109  |#define HW_SAIRCSR_RSVD1_CLRMASK (~(WORD)HW_SAIRCSR_RSVD1_SETMASK)
                             9048 ; 110  |#define HW_SAIRCSR_ROFL_CLRMASK (~(WORD)HW_SAIRCSR_ROFL_SETMASK)
                             9049 ; 111  |#define HW_SAIRCSR_RDR_CLRMASK (~(WORD)HW_SAIRCSR_RDR_SETMASK)
                             9050 ; 112  |#define HW_SAIRCSR_ROFCL_CLRMASK (~(WORD)HW_SAIRCSR_ROFCL_SETMASK)
                             9051 ; 113  |#define HW_SAIRCSR_RSVD2_CLRMASK (~(WORD)HW_SAIRCSR_RSVD2_SETMASK)
                             9052 ; 114  |
                             9053 ; 115  |typedef union
                             9054 ; 116  |{
                             9055 ; 117  |    struct {
                             9056 ; 118  |        int REN0        :HW_SAIRCSR_REN0_WIDTH;        // Receiver 0 enable
                             9057 ; 119  |        int REN1        :HW_SAIRCSR_REN1_WIDTH;        // Receiver 1 enable
                             9058 ; 120  |        int REN2        :HW_SAIRCSR_REN2_WIDTH;        // Receiver 2 enable
                             9059 ; 121  |        int RMME        :HW_SAIRCSR_RMME_WIDTH;        // Receiver master mode enable
                             9060 ; 122  |        int RSVD0       :HW_SAIRCSR_RSVD0_WIDTH;       // Reserved
                             9061 ; 123  |        unsigned RWL    :HW_SAIRCSR_RWL_WIDTH;         // Receiver word length control
                             9062 ; 124  |        int RDIR        :HW_SAIRCSR_RDIR_WIDTH;        // Receiver data shift direction 
                             9063 ; 125  |        int RLRS        :HW_SAIRCSR_RLRS_WIDTH;        // Receiver left right select
                             9064 ; 126  |        int RCKP        :HW_SAIRCSR_RCKP_WIDTH;        // Receiver clock polarity
                             9065 ; 127  |        int RREL        :HW_SAIRCSR_RREL_WIDTH;        // Receiver relative timing
                             9066 ; 128  |        int RDWJ        :HW_SAIRCSR_RDWJ_WIDTH;        // Receiver data word justification
                                  
                             9067 ; 129  |        int RXIE        :HW_SAIRCSR_RXIE_WIDTH;        // Receiver interrupt enable
                             9068 ; 130  |        int RSVD1       :HW_SAIRCSR_RSVD1_WIDTH;       // Reserved
                             9069 ; 131  |        int ROFL        :HW_SAIRCSR_ROFL_WIDTH;        // Receiver data overflow
                             9070 ; 132  |        int RDR         :HW_SAIRCSR_RDR_WIDTH;         // Receiver data ready flag
                             9071 ; 133  |        int ROFCL       :HW_SAIRCSR_ROFCL_WIDTH;       // Receiver data overflow clear
                             9072 ; 134  |        unsigned RSVD2  :HW_SAIRCSR_RSVD2_WIDTH;       // Reserved
                             9073 ; 135  |    } B;
                             9074 ; 136  |    int I;
                             9075 ; 137  |    unsigned U;
                             9076 ; 138  |} saircsr_type;
                             9077 ; 139  |
                             9078 ; 140  |#define HW_SAIRCSR (*(volatile saircsr_type _X*) (HW_SAI_BASEADDR))       /* I2S Receive C
                                  SR         */
                             9079 ; 141  |
                             9080 ; 142  |typedef union
                             9081 ; 143  |{
                             9082 ; 144  |    struct {
                             9083 ; 145  |        unsigned SAI :24;
                             9084 ; 146  |    } B;
                             9085 ; 147  |    int I;
                             9086 ; 148  |    unsigned U;
                             9087 ; 149  |} saixr_type;
                             9088 ; 150  |
                             9089 ; 151  |#define HW_SAIRX0R (*(volatile saixr_type _X*)  (HW_SAI_BASEADDR+1))       /* I2S Received
                                   data reg 0 */
                             9090 ; 152  |#define HW_SAIRX1R (*(volatile saixr_type _X*)  (HW_SAI_BASEADDR+2))       /* I2S Received
                                   data reg 1 */
                             9091 ; 153  |#define HW_SAIRX2R (*(volatile saixr_type _X*)  (HW_SAI_BASEADDR+3))       /* I2S Received
                                   data reg 2 */
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 149

M:ADDR CODE           CYCLES LINE SOURCELINE
                             9092 ; 154  |
                             9093 ; 155  |
                             9094 ; 156  |#define HW_SAITCSR_TEN0_BITPOS (0)
                             9095 ; 157  |#define HW_SAITCSR_TEN1_BITPOS (1)
                             9096 ; 158  |#define HW_SAITCSR_TEN2_BITPOS (2)
                             9097 ; 159  |#define HW_SAITCSR_TMME_BITPOS (3)
                             9098 ; 160  |#define HW_SAITCSR_RSVD0_BITPOS (4)
                             9099 ; 161  |#define HW_SAITCSR_TWL_BITPOS (5)
                             9100 ; 162  |#define HW_SAITCSR_TDIR_BITPOS (7)
                             9101 ; 163  |#define HW_SAITCSR_TLRS_BITPOS (8)
                             9102 ; 164  |#define HW_SAITCSR_TCKP_BITPOS (9)
                             9103 ; 165  |#define HW_SAITCSR_TREL_BITPOS (10)
                             9104 ; 166  |#define HW_SAITCSR_TDWE_BITPOS (11)
                             9105 ; 167  |#define HW_SAITCSR_TXIE_BITPOS (12)
                             9106 ; 168  |#define HW_SAITCSR_RSVD1_BITPOS (13)
                             9107 ; 169  |#define HW_SAITCSR_TUFL_BITPOS (14)
                             9108 ; 170  |#define HW_SAITCSR_TDE_BITPOS (15)
                             9109 ; 171  |#define HW_SAITCSR_TUFCL_BITPOS (16)
                             9110 ; 172  |#define HW_SAITCSR_RSVD2_BITPOS (17)
                             9111 ; 173  |
                             9112 ; 174  |
                             9113 ; 175  |#define HW_SAITCSR_TEN0_WIDTH (1)
                             9114 ; 176  |#define HW_SAITCSR_TEN1_WIDTH (1)
                             9115 ; 177  |#define HW_SAITCSR_TEN2_WIDTH (1)
                             9116 ; 178  |#define HW_SAITCSR_TMME_WIDTH (1)
                             9117 ; 179  |#define HW_SAITCSR_RSVD0_WIDTH (1)
                             9118 ; 180  |#define HW_SAITCSR_TWL_WIDTH (2)
                             9119 ; 181  |#define HW_SAITCSR_TDIR_WIDTH (1)
                             9120 ; 182  |#define HW_SAITCSR_TLRS_WIDTH (1)
                             9121 ; 183  |#define HW_SAITCSR_TCKP_WIDTH (1)
                             9122 ; 184  |#define HW_SAITCSR_TREL_WIDTH (1)
                             9123 ; 185  |#define HW_SAITCSR_TDWE_WIDTH (1)
                             9124 ; 186  |#define HW_SAITCSR_TXIE_WIDTH (1)
                             9125 ; 187  |#define HW_SAITCSR_RSVD1_WIDTH (1)
                             9126 ; 188  |#define HW_SAITCSR_TUFL_WIDTH (1)
                             9127 ; 189  |#define HW_SAITCSR_TDE_WIDTH (1)
                             9128 ; 190  |#define HW_SAITCSR_TUFCL_WIDTH (1)
                             9129 ; 191  |#define HW_SAITCSR_RSVD2_WIDTH (7)
                             9130 ; 192  |
                             9131 ; 193  |
                             9132 ; 194  |#define HW_SAITCSR_TEN0_SETMASK (((1<HW_SAITCSR_TEN0_WIDTH)-1)<<HW_SAITCSR_TEN0_BITPOS)
                             9133 ; 195  |#define HW_SAITCSR_TEN1_SETMASK (((1<HW_SAITCSR_TEN1_WIDTH)-1)<<HW_SAITCSR_TEN1_BITPOS)
                             9134 ; 196  |#define HW_SAITCSR_TEN2_SETMASK (((1<HW_SAITCSR_TEN2_WIDTH)-1)<<HW_SAITCSR_TEN2_BITPOS)
                             9135 ; 197  |#define HW_SAITCSR_TMME_SETMASK (((1<HW_SAITCSR_TMME_WIDTH)-1)<<HW_SAITCSR_TMME_BITPOS)
                             9136 ; 198  |#define HW_SAITCSR_RSVD0_SETMASK (((1<HW_SAITCSR_RSVD0_WIDTH)-1)<<HW_SAITCSR_RSVD0_BITPOS)
                                  
                             9137 ; 199  |#define HW_SAITCSR_TWL_SETMASK (((1<HW_SAITCSR_TWL_WIDTH)-1)<<HW_SAITCSR_TWL_BITPOS)
                             9138 ; 200  |#define HW_SAITCSR_TDIR_SETMASK (((1<HW_SAITCSR_TDIR_WIDTH)-1)<<HW_SAITCSR_TDIR_BITPOS)
                             9139 ; 201  |#define HW_SAITCSR_TLRS_SETMASK (((1<HW_SAITCSR_TLRS_WIDTH)-1)<<HW_SAITCSR_TLRS_BITPOS)
                             9140 ; 202  |#define HW_SAITCSR_TCKP_SETMASK (((1<HW_SAITCSR_TCKP_WIDTH)-1)<<HW_SAITCSR_TCKP_BITPOS)
                             9141 ; 203  |#define HW_SAITCSR_TREL_SETMASK (((1<HW_SAITCSR_TREL_WIDTH)-1)<<HW_SAITCSR_TREL_BITPOS)
                             9142 ; 204  |#define HW_SAITCSR_TDWE_SETMASK (((1<HW_SAITCSR_TDWE_WIDTH)-1)<<HW_SAITCSR_TDWE_BITPOS)
                             9143 ; 205  |#define HW_SAITCSR_TXIE_SETMASK (((1<HW_SAITCSR_TXIE_WIDTH)-1)<<HW_SAITCSR_TXIE_BITPOS)
                             9144 ; 206  |#define HW_SAITCSR_RSVD1_SETMASK (((1<HW_SAITCSR_RSVD1_WIDTH)-1)<<HW_SAITCSR_RSVD1_BITPOS)
                                  
                             9145 ; 207  |#define HW_SAITCSR_TUFL_SETMASK (((1<HW_SAITCSR_TUFL_WIDTH)-1)<<HW_SAITCSR_TUFL_BITPOS)
                             9146 ; 208  |#define HW_SAITCSR_TDE_SETMASK (((1<HW_SAITCSR_TDE_WIDTH)-1)<<HW_SAITCSR_TDE_BITPOS)
                             9147 ; 209  |#define HW_SAITCSR_TUFCL_SETMASK (((1<HW_SAITCSR_TUFCL_WIDTH)-1)<<HW_SAITCSR_TUFCL_BITPOS)
                                  
                             9148 ; 210  |#define HW_SAITCSR_RSVD2_SETMASK (((1<HW_SAITCSR_RSVD2_WIDTH)-1)<<HW_SAITCSR_RSVD2_BITPOS)
                                  
                             9149 ; 211  |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 150

M:ADDR CODE           CYCLES LINE SOURCELINE
                             9150 ; 212  |
                             9151 ; 213  |#define HW_SAITCSR_TEN0_CLRMASK (~(WORD)HW_SAITCSR_TEN0_SETMASK)
                             9152 ; 214  |#define HW_SAITCSR_TEN1_CLRMASK (~(WORD)HW_SAITCSR_TEN1_SETMASK)
                             9153 ; 215  |#define HW_SAITCSR_TEN2_CLRMASK (~(WORD)HW_SAITCSR_TEN2_SETMASK)
                             9154 ; 216  |#define HW_SAITCSR_TMME_CLRMASK (~(WORD)HW_SAITCSR_TMME_SETMASK)
                             9155 ; 217  |#define HW_SAITCSR_RSVD0_CLRMASK (~(WORD)HW_SAITCSR_RSVD0_SETMASK)
                             9156 ; 218  |#define HW_SAITCSR_TWL_CLRMASK (~(WORD)HW_SAITCSR_TWL_SETMASK)
                             9157 ; 219  |#define HW_SAITCSR_TDIR_CLRMASK (~(WORD)HW_SAITCSR_TDIR_SETMASK)
                             9158 ; 220  |#define HW_SAITCSR_TLRS_CLRMASK (~(WORD)HW_SAITCSR_TLRS_SETMASK)
                             9159 ; 221  |#define HW_SAITCSR_TCKP_CLRMASK (~(WORD)HW_SAITCSR_TCKP_SETMASK)
                             9160 ; 222  |#define HW_SAITCSR_TREL_CLRMASK (~(WORD)HW_SAITCSR_TREL_SETMASK)
                             9161 ; 223  |#define HW_SAITCSR_TDWE_CLRMASK (~(WORD)HW_SAITCSR_TDWE_SETMASK)
                             9162 ; 224  |#define HW_SAITCSR_TXIE_CLRMASK (~(WORD)HW_SAITCSR_TXIE_SETMASK)
                             9163 ; 225  |#define HW_SAITCSR_RSVD1_CLRMASK (~(WORD)HW_SAITCSR_RSVD1_SETMASK)
                             9164 ; 226  |#define HW_SAITCSR_TUFL_CLRMASK (~(WORD)HW_SAITCSR_TUFL_SETMASK)
                             9165 ; 227  |#define HW_SAITCSR_TDE_CLRMASK (~(WORD)HW_SAITCSR_TDE_SETMASK)
                             9166 ; 228  |#define HW_SAITCSR_TUFCL_CLRMASK (~(WORD)HW_SAITCSR_TUFCL_SETMASK)
                             9167 ; 229  |#define HW_SAITCSR_RSVD2_CLRMASK (~(WORD)HW_SAITCSR_RSVD2_SETMASK)
                             9168 ; 230  |
                             9169 ; 231  |
                             9170 ; 232  |typedef union
                             9171 ; 233  |{
                             9172 ; 234  |    struct {
                             9173 ; 235  |        int TEN0       :HW_SAITCSR_TEN0_WIDTH;         // Transmitter 0 enable
                             9174 ; 236  |        int TEN1       :HW_SAITCSR_TEN1_WIDTH;         // Transmitter 1 enable
                             9175 ; 237  |        int TEN2       :HW_SAITCSR_TEN2_WIDTH;         // Transmitter 2 enable
                             9176 ; 238  |        int TMME       :HW_SAITCSR_TMME_WIDTH;         // Transmitter master mode enable
                             9177 ; 239  |        int RSVD0      :HW_SAITCSR_RSVD0_WIDTH;        // Reserved
                             9178 ; 240  |        unsigned TWL   :HW_SAITCSR_TWL_WIDTH;          // Transmitter word length control
                             9179 ; 241  |        int TDIR       :HW_SAITCSR_TDIR_WIDTH;         // Transmitter data shift direction
                                   
                             9180 ; 242  |        int TLRS       :HW_SAITCSR_TLRS_WIDTH;         // Transmitter left right select
                             9181 ; 243  |        int TCKP       :HW_SAITCSR_TCKP_WIDTH;         // Transmitter clock polarity
                             9182 ; 244  |        int TREL       :HW_SAITCSR_TREL_WIDTH;         // Transmitter relative timing
                             9183 ; 245  |        int TDWE       :HW_SAITCSR_TDWE_WIDTH;         // Transmitter data word justificat
                                  ion
                             9184 ; 246  |        int TXIE       :HW_SAITCSR_TXIE_WIDTH;         // Transmitter interrupt enable
                             9185 ; 247  |        int RSVD1      :HW_SAITCSR_RSVD1_WIDTH;        // Reserved
                             9186 ; 248  |        int TUFL       :HW_SAITCSR_TUFL_WIDTH;         // Transmitter data overflow
                             9187 ; 249  |        int TDE        :HW_SAITCSR_TDE_WIDTH;          // Transmitter data ready flag
                             9188 ; 250  |        int TUFCL      :HW_SAITCSR_TUFCL_WIDTH;        // Transmitter data overflow clear
                             9189 ; 251  |        unsigned RSVD2 :HW_SAITCSR_RSVD2_WIDTH;        // Reserved
                             9190 ; 252  |    } B;
                             9191 ; 253  |    int I;
                             9192 ; 254  |    unsigned U;
                             9193 ; 255  |} saitcsr_type;
                             9194 ; 256  |
                             9195 ; 257  |#define HW_SAITCSR (*(volatile saitcsr_type _X*) (HW_SAI_BASEADDR+5)) /* I2S Transmit CSR 
                                       */
                             9196 ; 258  |
                             9197 ; 259  |#define HW_SAITX0R (*(volatile saixr_type _X*)  (HW_SAI_BASEADDR+6))       /* I2S Transmit
                                   data reg 0 */
                             9198 ; 260  |#define HW_SAITX1R (*(volatile saixr_type _X*)  (HW_SAI_BASEADDR+7))       /* I2S Transmit
                                   data reg 1 */
                             9199 ; 261  |#define HW_SAITX2R (*(volatile saixr_type _X*)  (HW_SAI_BASEADDR+8))       /* I2S Transmit
                                   data reg 2 */
                             9200 ; 262  |
                             9201 ; 263  |#endif
                             9202 
                             9204 
                             9205 ; 25   |#include "regsicoll.h"
                             9206 
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 151

M:ADDR CODE           CYCLES LINE SOURCELINE
                             9208 
                             9209 ; 1    |#if !defined(__REGS_ICOLL_INC)
                             9210 ; 2    |#define __REGS_ICOLL_INC 1
                             9211 ; 3    |
                             9212 ; 4    |/////////////////////////////////////////////////////////////////////////////////
                             9213 ; 5    |//  Interrupt Collector Registers
                             9214 ; 6    |/////////////////////////////////////////////////////////////////////////////////
                             9215 ; 7    |
                             9216 ; 8    |#define HW_ICOLL_BASEADDR 0xF300
                             9217 ; 9    |
                             9218 ; 10   |
                             9219 ; 11   |
                             9220 ; 12   |/////////////////////////////////////////////////////////////////////////////////
                             9221 ; 13   |//  Interrupt Collector 0 Enable Register (HW_ICLENABLE0R) Bit Positions
                             9222 ; 14   |
                             9223 ; 15   |typedef union
                             9224 ; 16   |{
                             9225 ; 17   |    struct {
                             9226 ; 18   |        int SEN0        :1;
                             9227 ; 19   |        int SEN1        :1;
                             9228 ; 20   |        int SEN2        :1;
                             9229 ; 21   |        int SEN3        :1;
                             9230 ; 22   |        int SEN4        :1;
                             9231 ; 23   |        int SEN5        :1;
                             9232 ; 24   |        int SEN6        :1;
                             9233 ; 25   |        int SEN7        :1;
                             9234 ; 26   |        int SEN8        :1;
                             9235 ; 27   |        int SEN9        :1;
                             9236 ; 28   |        int SEN10       :1;
                             9237 ; 29   |        int SEN11       :1;
                             9238 ; 30   |        int SEN12       :1;
                             9239 ; 31   |        int SEN13       :1;
                             9240 ; 32   |        int SEN14       :1;
                             9241 ; 33   |        int SEN15       :1;
                             9242 ; 34   |        int SEN16       :1;
                             9243 ; 35   |        int SEN17       :1;
                             9244 ; 36   |        int SEN18       :1;
                             9245 ; 37   |        int SEN19       :1;
                             9246 ; 38   |        int SEN20       :1;
                             9247 ; 39   |        int SEN21       :1;
                             9248 ; 40   |        int SEN22       :1;
                             9249 ; 41   |        int SEN23       :1;
                             9250 ; 42   |    } B;
                             9251 ; 43   |    int I;
                             9252 ; 44   |} iclenable0_type;
                             9253 ; 45   |#define HW_ICLENABLE0R  (*(volatile iclenable0_type _X*) (HW_ICOLL_BASEADDR)) /* Interrupt
                                   Priority Register Core   */
                             9254 ; 46   |
                             9255 ; 47   |
                             9256 ; 48   |#define HW_ICLENABLE0R_SEN0_BITPOS 0
                             9257 ; 49   |#define HW_ICLENABLE0R_SEN1_BITPOS 1
                             9258 ; 50   |#define HW_ICLENABLE0R_SEN2_BITPOS 2
                             9259 ; 51   |#define HW_ICLENABLE0R_SEN3_BITPOS 3
                             9260 ; 52   |#define HW_ICLENABLE0R_SEN4_BITPOS 4
                             9261 ; 53   |#define HW_ICLENABLE0R_SEN5_BITPOS 5
                             9262 ; 54   |#define HW_ICLENABLE0R_SEN6_BITPOS 6
                             9263 ; 55   |#define HW_ICLENABLE0R_SEN7_BITPOS 7
                             9264 ; 56   |#define HW_ICLENABLE0R_SEN8_BITPOS 8
                             9265 ; 57   |#define HW_ICLENABLE0R_SEN9_BITPOS 9
                             9266 ; 58   |#define HW_ICLENABLE0R_SEN10_BITPOS 10
                             9267 ; 59   |#define HW_ICLENABLE0R_SEN11_BITPOS 11
                             9268 ; 60   |#define HW_ICLENABLE0R_SEN12_BITPOS 12
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 152

M:ADDR CODE           CYCLES LINE SOURCELINE
                             9269 ; 61   |#define HW_ICLENABLE0R_SEN13_BITPOS 13
                             9270 ; 62   |#define HW_ICLENABLE0R_SEN14_BITPOS 14
                             9271 ; 63   |#define HW_ICLENABLE0R_SEN15_BITPOS 15
                             9272 ; 64   |#define HW_ICLENABLE0R_SEN16_BITPOS 16
                             9273 ; 65   |#define HW_ICLENABLE0R_SEN17_BITPOS 17
                             9274 ; 66   |#define HW_ICLENABLE0R_SEN18_BITPOS 18
                             9275 ; 67   |#define HW_ICLENABLE0R_SEN19_BITPOS 19
                             9276 ; 68   |#define HW_ICLENABLE0R_SEN20_BITPOS 20
                             9277 ; 69   |#define HW_ICLENABLE0R_SEN21_BITPOS 21
                             9278 ; 70   |#define HW_ICLENABLE0R_SEN22_BITPOS 22
                             9279 ; 71   |#define HW_ICLENABLE0R_SEN23_BITPOS 23
                             9280 ; 72   |
                             9281 ; 73   |#define HW_ICLENABLE0R_SEN0_SETMASK 1<<HW_ICLENABLE0R_SEN0_BITPOS
                             9282 ; 74   |#define HW_ICLENABLE0R_SEN1_SETMASK 1<<HW_ICLENABLE0R_SEN1_BITPOS
                             9283 ; 75   |#define HW_ICLENABLE0R_SEN2_SETMASK 1<<HW_ICLENABLE0R_SEN2_BITPOS
                             9284 ; 76   |#define HW_ICLENABLE0R_SEN3_SETMASK 1<<HW_ICLENABLE0R_SEN3_BITPOS
                             9285 ; 77   |#define HW_ICLENABLE0R_SEN4_SETMASK 1<<HW_ICLENABLE0R_SEN4_BITPOS
                             9286 ; 78   |#define HW_ICLENABLE0R_SEN5_SETMASK 1<<HW_ICLENABLE0R_SEN5_BITPOS
                             9287 ; 79   |#define HW_ICLENABLE0R_SEN6_SETMASK 1<<HW_ICLENABLE0R_SEN6_BITPOS
                             9288 ; 80   |#define HW_ICLENABLE0R_SEN7_SETMASK 1<<HW_ICLENABLE0R_SEN7_BITPOS
                             9289 ; 81   |#define HW_ICLENABLE0R_SEN8_SETMASK 1<<HW_ICLENABLE0R_SEN8_BITPOS
                             9290 ; 82   |#define HW_ICLENABLE0R_SEN9_SETMASK 1<<HW_ICLENABLE0R_SEN9_BITPOS
                             9291 ; 83   |#define HW_ICLENABLE0R_SEN10_SETMASK 1<<HW_ICLENABLE0R_SEN10_BITPOS
                             9292 ; 84   |#define HW_ICLENABLE0R_SEN11_SETMASK 1<<HW_ICLENABLE0R_SEN11_BITPOS
                             9293 ; 85   |#define HW_ICLENABLE0R_SEN12_SETMASK 1<<HW_ICLENABLE0R_SEN12_BITPOS
                             9294 ; 86   |#define HW_ICLENABLE0R_SEN13_SETMASK 1<<HW_ICLENABLE0R_SEN13_BITPOS
                             9295 ; 87   |#define HW_ICLENABLE0R_SEN14_SETMASK 1<<HW_ICLENABLE0R_SEN14_BITPOS
                             9296 ; 88   |#define HW_ICLENABLE0R_SEN15_SETMASK 1<<HW_ICLENABLE0R_SEN15_BITPOS
                             9297 ; 89   |#define HW_ICLENABLE0R_SEN16_SETMASK 1<<HW_ICLENABLE0R_SEN16_BITPOS
                             9298 ; 90   |#define HW_ICLENABLE0R_SEN17_SETMASK 1<<HW_ICLENABLE0R_SEN17_BITPOS
                             9299 ; 91   |#define HW_ICLENABLE0R_SEN18_SETMASK 1<<HW_ICLENABLE0R_SEN18_BITPOS
                             9300 ; 92   |#define HW_ICLENABLE0R_SEN19_SETMASK 1<<HW_ICLENABLE0R_SEN19_BITPOS
                             9301 ; 93   |#define HW_ICLENABLE0R_SEN20_SETMASK 1<<HW_ICLENABLE0R_SEN20_BITPOS
                             9302 ; 94   |#define HW_ICLENABLE0R_SEN21_SETMASK 1<<HW_ICLENABLE0R_SEN21_BITPOS
                             9303 ; 95   |#define HW_ICLENABLE0R_SEN22_SETMASK 1<<HW_ICLENABLE0R_SEN22_BITPOS
                             9304 ; 96   |#define HW_ICLENABLE0R_SEN23_SETMASK 1<<HW_ICLENABLE0R_SEN23_BITPOS
                             9305 ; 97   |
                             9306 ; 98   |#define HW_ICLENABLE0R_SEN0_CLRMASK ~(WORD)HW_ICLENABLE0R_SEN0_SETMASK
                             9307 ; 99   |#define HW_ICLENABLE0R_SEN1_CLRMASK ~(WORD)HW_ICLENABLE0R_SEN1_SETMASK
                             9308 ; 100  |#define HW_ICLENABLE0R_SEN2_CLRMASK ~(WORD)HW_ICLENABLE0R_SEN2_SETMASK
                             9309 ; 101  |#define HW_ICLENABLE0R_SEN3_CLRMASK ~(WORD)HW_ICLENABLE0R_SEN3_SETMASK
                             9310 ; 102  |#define HW_ICLENABLE0R_SEN4_CLRMASK ~(WORD)HW_ICLENABLE0R_SEN4_SETMASK
                             9311 ; 103  |#define HW_ICLENABLE0R_SEN5_CLRMASK ~(WORD)HW_ICLENABLE0R_SEN5_SETMASK
                             9312 ; 104  |#define HW_ICLENABLE0R_SEN6_CLRMASK ~(WORD)HW_ICLENABLE0R_SEN6_SETMASK
                             9313 ; 105  |#define HW_ICLENABLE0R_SEN7_CLRMASK ~(WORD)HW_ICLENABLE0R_SEN7_SETMASK
                             9314 ; 106  |#define HW_ICLENABLE0R_SEN8_CLRMASK ~(WORD)HW_ICLENABLE0R_SEN8_SETMASK
                             9315 ; 107  |#define HW_ICLENABLE0R_SEN9_CLRMASK ~(WORD)HW_ICLENABLE0R_SEN9_SETMASK
                             9316 ; 108  |#define HW_ICLENABLE0R_SEN10_CLRMASK ~(WORD)HW_ICLENABLE0R_SEN10_SETMASK
                             9317 ; 109  |#define HW_ICLENABLE0R_SEN11_CLRMASK ~(WORD)HW_ICLENABLE0R_SEN11_SETMASK
                             9318 ; 110  |#define HW_ICLENABLE0R_SEN12_CLRMASK ~(WORD)HW_ICLENABLE0R_SEN12_SETMASK
                             9319 ; 111  |#define HW_ICLENABLE0R_SEN13_CLRMASK ~(WORD)HW_ICLENABLE0R_SEN13_SETMASK
                             9320 ; 112  |#define HW_ICLENABLE0R_SEN14_CLRMASK ~(WORD)HW_ICLENABLE0R_SEN14_SETMASK
                             9321 ; 113  |#define HW_ICLENABLE0R_SEN15_CLRMASK ~(WORD)HW_ICLENABLE0R_SEN15_SETMASK
                             9322 ; 114  |#define HW_ICLENABLE0R_SEN16_CLRMASK ~(WORD)HW_ICLENABLE0R_SEN16_SETMASK
                             9323 ; 115  |#define HW_ICLENABLE0R_SEN17_CLRMASK ~(WORD)HW_ICLENABLE0R_SEN17_SETMASK
                             9324 ; 116  |#define HW_ICLENABLE0R_SEN18_CLRMASK ~(WORD)HW_ICLENABLE0R_SEN18_SETMASK
                             9325 ; 117  |#define HW_ICLENABLE0R_SEN19_CLRMASK ~(WORD)HW_ICLENABLE0R_SEN19_SETMASK
                             9326 ; 118  |#define HW_ICLENABLE0R_SEN20_CLRMASK ~(WORD)HW_ICLENABLE0R_SEN20_SETMASK
                             9327 ; 119  |#define HW_ICLENABLE0R_SEN21_CLRMASK ~(WORD)HW_ICLENABLE0R_SEN21_SETMASK
                             9328 ; 120  |#define HW_ICLENABLE0R_SEN22_CLRMASK ~(WORD)HW_ICLENABLE0R_SEN22_SETMASK
                             9329 ; 121  |#define HW_ICLENABLE0R_SEN23_CLRMASK ~(WORD)HW_ICLENABLE0R_SEN23_SETMASK
                             9330 ; 122  |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 153

M:ADDR CODE           CYCLES LINE SOURCELINE
                             9331 ; 123  |
                             9332 ; 124  |/////////////////////////////////////////////////////////////////////////////////
                             9333 ; 125  |//  Interrupt Collector 1 Enable Register (HW_ICLENABLE1R) Bit Positions
                             9334 ; 126  |typedef union
                             9335 ; 127  |{
                             9336 ; 128  |    struct {
                             9337 ; 129  |        
                             9338 ; 130  |        int SEN24       :1;
                             9339 ; 131  |        int SEN25       :1;
                             9340 ; 132  |        int SEN26       :1;
                             9341 ; 133  |        int SEN27       :1;
                             9342 ; 134  |        int SEN28       :1;
                             9343 ; 135  |        int SEN29       :1;
                             9344 ; 136  |        int SEN30       :1;
                             9345 ; 137  |        int SEN31       :1;
                             9346 ; 138  |        int SEN32       :1;
                             9347 ; 139  |        int SEN33       :1;
                             9348 ; 140  |    } B;
                             9349 ; 141  |    int I;
                             9350 ; 142  |} iclenable1_type;
                             9351 ; 143  |
                             9352 ; 144  |#define HW_ICLENABLE1R  (*(volatile iclenable1_type _X*) (HW_ICOLL_BASEADDR+1)) /* Interru
                                  pt Priority Register Core    */
                             9353 ; 145  |
                             9354 ; 146  |#define HW_ICLENABLE1R_SEN24_BITPOS 0
                             9355 ; 147  |#define HW_ICLENABLE1R_SEN25_BITPOS 1
                             9356 ; 148  |#define HW_ICLENABLE1R_SEN26_BITPOS 2
                             9357 ; 149  |#define HW_ICLENABLE1R_SEN27_BITPOS 3
                             9358 ; 150  |#define HW_ICLENABLE1R_SEN28_BITPOS 4
                             9359 ; 151  |#define HW_ICLENABLE1R_SEN29_BITPOS 5
                             9360 ; 152  |#define HW_ICLENABLE1R_SEN30_BITPOS 6
                             9361 ; 153  |#define HW_ICLENABLE1R_SEN31_BITPOS 7
                             9362 ; 154  |#define HW_ICLENABLE1R_SEN32_BITPOS 8
                             9363 ; 155  |#define HW_ICLENABLE1R_SEN33_BITPOS 9
                             9364 ; 156  |
                             9365 ; 157  |#define HW_ICLENABLE1R_SEN24_SETMASK 1<<HW_ICLENABLE1R_SEN24_BITPOS
                             9366 ; 158  |#define HW_ICLENABLE1R_SEN25_SETMASK 1<<HW_ICLENABLE1R_SEN25_BITPOS
                             9367 ; 159  |#define HW_ICLENABLE1R_SEN26_SETMASK 1<<HW_ICLENABLE1R_SEN26_BITPOS
                             9368 ; 160  |#define HW_ICLENABLE1R_SEN27_SETMASK 1<<HW_ICLENABLE1R_SEN27_BITPOS
                             9369 ; 161  |#define HW_ICLENABLE1R_SEN28_SETMASK 1<<HW_ICLENABLE1R_SEN28_BITPOS
                             9370 ; 162  |#define HW_ICLENABLE1R_SEN29_SETMASK 1<<HW_ICLENABLE1R_SEN29_BITPOS
                             9371 ; 163  |#define HW_ICLENABLE1R_SEN30_SETMASK 1<<HW_ICLENABLE1R_SEN30_BITPOS
                             9372 ; 164  |#define HW_ICLENABLE1R_SEN31_SETMASK 1<<HW_ICLENABLE1R_SEN31_BITPOS
                             9373 ; 165  |#define HW_ICLENABLE1R_SEN32_SETMASK 1<<HW_ICLENABLE1R_SEN32_BITPOS
                             9374 ; 166  |#define HW_ICLENABLE1R_SEN33_SETMASK 1<<HW_ICLENABLE1R_SEN33_BITPOS
                             9375 ; 167  |
                             9376 ; 168  |#define HW_ICLENABLE1R_SEN24_CLRMASK ~(WORD)HW_ICLENABLE1R_SEN24_SETMASK
                             9377 ; 169  |#define HW_ICLENABLE1R_SEN25_CLRMASK ~(WORD)HW_ICLENABLE1R_SEN25_SETMASK
                             9378 ; 170  |#define HW_ICLENABLE1R_SEN26_CLRMASK ~(WORD)HW_ICLENABLE1R_SEN26_SETMASK
                             9379 ; 171  |#define HW_ICLENABLE1R_SEN27_CLRMASK ~(WORD)HW_ICLENABLE1R_SEN27_SETMASK
                             9380 ; 172  |#define HW_ICLENABLE1R_SEN28_CLRMASK ~(WORD)HW_ICLENABLE1R_SEN28_SETMASK
                             9381 ; 173  |#define HW_ICLENABLE1R_SEN29_CLRMASK ~(WORD)HW_ICLENABLE1R_SEN29_SETMASK
                             9382 ; 174  |#define HW_ICLENABLE1R_SEN30_CLRMASK ~(WORD)HW_ICLENABLE1R_SEN30_SETMASK
                             9383 ; 175  |#define HW_ICLENABLE1R_SEN31_CLRMASK ~(WORD)HW_ICLENABLE1R_SEN31_SETMASK
                             9384 ; 176  |#define HW_ICLENABLE1R_SEN32_CLRMASK ~(WORD)HW_ICLENABLE1R_SEN32_SETMASK
                             9385 ; 177  |#define HW_ICLENABLE1R_SEN33_CLRMASK ~(WORD)HW_ICLENABLE1R_SEN33_SETMASK
                             9386 ; 178  |
                             9387 ; 179  |
                             9388 ; 180  |/////////////////////////////////////////////////////////////////////////////////
                             9389 ; 181  |//  Interrupt Collector Status 0 Register (HW_ICLSTATUS0R) Bit Positions
                             9390 ; 182  |typedef union
                             9391 ; 183  |{
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 154

M:ADDR CODE           CYCLES LINE SOURCELINE
                             9392 ; 184  |    struct {
                             9393 ; 185  |        int SST0        :1;
                             9394 ; 186  |        int SST1        :1;
                             9395 ; 187  |        int SST2        :1;
                             9396 ; 188  |        int SST3        :1;
                             9397 ; 189  |        int SST4        :1;
                             9398 ; 190  |        int SST5        :1;
                             9399 ; 191  |        int SST6        :1;
                             9400 ; 192  |        int SST7        :1;
                             9401 ; 193  |        int SST8        :1;
                             9402 ; 194  |        int SST9        :1;
                             9403 ; 195  |        int SST10       :1;
                             9404 ; 196  |        int SST11       :1;
                             9405 ; 197  |        int SST12       :1;
                             9406 ; 198  |        int SST13       :1;
                             9407 ; 199  |        int SST14       :1;
                             9408 ; 200  |        int SST15       :1;
                             9409 ; 201  |        int SST16       :1;
                             9410 ; 202  |        int SST17       :1;
                             9411 ; 203  |        int SST18       :1;
                             9412 ; 204  |        int SST19       :1;
                             9413 ; 205  |        int SST20       :1;
                             9414 ; 206  |        int SST21       :1;
                             9415 ; 207  |        int SST22       :1;
                             9416 ; 208  |        int SST23       :1;
                             9417 ; 209  |    } B;
                             9418 ; 210  |    int I;
                             9419 ; 211  |} iclstatus0_type;
                             9420 ; 212  |#define HW_ICLSTATUS0R  (*(volatile iclstatus0_type _X*) (HW_ICOLL_BASEADDR+2)) /* Interru
                                  pt Priority Register Core */
                             9421 ; 213  |#define HW_ICLSTATUS0R_SST0_BITPOS 0
                             9422 ; 214  |#define HW_ICLSTATUS0R_SST1_BITPOS 1
                             9423 ; 215  |#define HW_ICLSTATUS0R_SST2_BITPOS 2
                             9424 ; 216  |#define HW_ICLSTATUS0R_SST3_BITPOS 3
                             9425 ; 217  |#define HW_ICLSTATUS0R_SST4_BITPOS 4
                             9426 ; 218  |#define HW_ICLSTATUS0R_SST5_BITPOS 5
                             9427 ; 219  |#define HW_ICLSTATUS0R_SST6_BITPOS 6
                             9428 ; 220  |#define HW_ICLSTATUS0R_SST7_BITPOS 7
                             9429 ; 221  |#define HW_ICLSTATUS0R_SST8_BITPOS 8
                             9430 ; 222  |#define HW_ICLSTATUS0R_SST9_BITPOS 9
                             9431 ; 223  |#define HW_ICLSTATUS0R_SST10_BITPOS 10
                             9432 ; 224  |#define HW_ICLSTATUS0R_SST11_BITPOS 11
                             9433 ; 225  |#define HW_ICLSTATUS0R_SST12_BITPOS 12
                             9434 ; 226  |#define HW_ICLSTATUS0R_SST13_BITPOS 13
                             9435 ; 227  |#define HW_ICLSTATUS0R_SST14_BITPOS 14
                             9436 ; 228  |#define HW_ICLSTATUS0R_SST15_BITPOS 15
                             9437 ; 229  |#define HW_ICLSTATUS0R_SST16_BITPOS 16
                             9438 ; 230  |#define HW_ICLSTATUS0R_SST17_BITPOS 17
                             9439 ; 231  |#define HW_ICLSTATUS0R_SST18_BITPOS 18
                             9440 ; 232  |#define HW_ICLSTATUS0R_SST19_BITPOS 19
                             9441 ; 233  |#define HW_ICLSTATUS0R_SST20_BITPOS 20
                             9442 ; 234  |#define HW_ICLSTATUS0R_SST21_BITPOS 21
                             9443 ; 235  |#define HW_ICLSTATUS0R_SST22_BITPOS 22
                             9444 ; 236  |#define HW_ICLSTATUS0R_SST23_BITPOS 23
                             9445 ; 237  |
                             9446 ; 238  |#define HW_ICLSTATUS0R_SST0_SETMASK 1<<HW_ICLSTATUS0R_SST0_BITPOS
                             9447 ; 239  |#define HW_ICLSTATUS0R_SST1_SETMASK 1<<HW_ICLSTATUS0R_SST1_BITPOS
                             9448 ; 240  |#define HW_ICLSTATUS0R_SST2_SETMASK 1<<HW_ICLSTATUS0R_SST2_BITPOS
                             9449 ; 241  |#define HW_ICLSTATUS0R_SST3_SETMASK 1<<HW_ICLSTATUS0R_SST3_BITPOS
                             9450 ; 242  |#define HW_ICLSTATUS0R_SST4_SETMASK 1<<HW_ICLSTATUS0R_SST4_BITPOS
                             9451 ; 243  |#define HW_ICLSTATUS0R_SST5_SETMASK 1<<HW_ICLSTATUS0R_SST5_BITPOS
                             9452 ; 244  |#define HW_ICLSTATUS0R_SST6_SETMASK 1<<HW_ICLSTATUS0R_SST6_BITPOS
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 155

M:ADDR CODE           CYCLES LINE SOURCELINE
                             9453 ; 245  |#define HW_ICLSTATUS0R_SST7_SETMASK 1<<HW_ICLSTATUS0R_SST7_BITPOS
                             9454 ; 246  |#define HW_ICLSTATUS0R_SST8_SETMASK 1<<HW_ICLSTATUS0R_SST8_BITPOS
                             9455 ; 247  |#define HW_ICLSTATUS0R_SST9_SETMASK 1<<HW_ICLSTATUS0R_SST9_BITPOS
                             9456 ; 248  |#define HW_ICLSTATUS0R_SST10_SETMASK 1<<HW_ICLSTATUS0R_SST10_BITPOS
                             9457 ; 249  |#define HW_ICLSTATUS0R_SST11_SETMASK 1<<HW_ICLSTATUS0R_SST11_BITPOS
                             9458 ; 250  |#define HW_ICLSTATUS0R_SST12_SETMASK 1<<HW_ICLSTATUS0R_SST12_BITPOS
                             9459 ; 251  |#define HW_ICLSTATUS0R_SST13_SETMASK 1<<HW_ICLSTATUS0R_SST13_BITPOS
                             9460 ; 252  |#define HW_ICLSTATUS0R_SST14_SETMASK 1<<HW_ICLSTATUS0R_SST14_BITPOS
                             9461 ; 253  |#define HW_ICLSTATUS0R_SST15_SETMASK 1<<HW_ICLSTATUS0R_SST15_BITPOS
                             9462 ; 254  |#define HW_ICLSTATUS0R_SST16_SETMASK 1<<HW_ICLSTATUS0R_SST16_BITPOS
                             9463 ; 255  |#define HW_ICLSTATUS0R_SST17_SETMASK 1<<HW_ICLSTATUS0R_SST17_BITPOS
                             9464 ; 256  |#define HW_ICLSTATUS0R_SST18_SETMASK 1<<HW_ICLSTATUS0R_SST18_BITPOS
                             9465 ; 257  |#define HW_ICLSTATUS0R_SST19_SETMASK 1<<HW_ICLSTATUS0R_SST19_BITPOS
                             9466 ; 258  |#define HW_ICLSTATUS0R_SST20_SETMASK 1<<HW_ICLSTATUS0R_SST20_BITPOS
                             9467 ; 259  |#define HW_ICLSTATUS0R_SST21_SETMASK 1<<HW_ICLSTATUS0R_SST21_BITPOS
                             9468 ; 260  |#define HW_ICLSTATUS0R_SST22_SETMASK 1<<HW_ICLSTATUS0R_SST22_BITPOS
                             9469 ; 261  |#define HW_ICLSTATUS0R_SST23_SETMASK 1<<HW_ICLSTATUS0R_SST23_BITPOS
                             9470 ; 262  |
                             9471 ; 263  |#define HW_ICLSTATUS0R_SST0_CLRMASK ~(WORD)HW_ICLSTATUS0R_SST0_SETMASK
                             9472 ; 264  |#define HW_ICLSTATUS0R_SST1_CLRMASK ~(WORD)HW_ICLSTATUS0R_SST1_SETMASK
                             9473 ; 265  |#define HW_ICLSTATUS0R_SST2_CLRMASK ~(WORD)HW_ICLSTATUS0R_SST2_SETMASK
                             9474 ; 266  |#define HW_ICLSTATUS0R_SST3_CLRMASK ~(WORD)HW_ICLSTATUS0R_SST3_SETMASK
                             9475 ; 267  |#define HW_ICLSTATUS0R_SST4_CLRMASK ~(WORD)HW_ICLSTATUS0R_SST4_SETMASK
                             9476 ; 268  |#define HW_ICLSTATUS0R_SST5_CLRMASK ~(WORD)HW_ICLSTATUS0R_SST5_SETMASK
                             9477 ; 269  |#define HW_ICLSTATUS0R_SST6_CLRMASK ~(WORD)HW_ICLSTATUS0R_SST6_SETMASK
                             9478 ; 270  |#define HW_ICLSTATUS0R_SST7_CLRMASK ~(WORD)HW_ICLSTATUS0R_SST7_SETMASK
                             9479 ; 271  |#define HW_ICLSTATUS0R_SST8_CLRMASK ~(WORD)HW_ICLSTATUS0R_SST8_SETMASK
                             9480 ; 272  |#define HW_ICLSTATUS0R_SST9_CLRMASK ~(WORD)HW_ICLSTATUS0R_SST9_SETMASK
                             9481 ; 273  |#define HW_ICLSTATUS0R_SST10_CLRMASK ~(WORD)HW_ICLSTATUS0R_SST10_SETMASK
                             9482 ; 274  |#define HW_ICLSTATUS0R_SST11_CLRMASK ~(WORD)HW_ICLSTATUS0R_SST11_SETMASK
                             9483 ; 275  |#define HW_ICLSTATUS0R_SST12_CLRMASK ~(WORD)HW_ICLSTATUS0R_SST12_SETMASK
                             9484 ; 276  |#define HW_ICLSTATUS0R_SST13_CLRMASK ~(WORD)HW_ICLSTATUS0R_SST13_SETMASK
                             9485 ; 277  |#define HW_ICLSTATUS0R_SST14_CLRMASK ~(WORD)HW_ICLSTATUS0R_SST14_SETMASK
                             9486 ; 278  |#define HW_ICLSTATUS0R_SST15_CLRMASK ~(WORD)HW_ICLSTATUS0R_SST15_SETMASK
                             9487 ; 279  |#define HW_ICLSTATUS0R_SST16_CLRMASK ~(WORD)HW_ICLSTATUS0R_SST16_SETMASK
                             9488 ; 280  |#define HW_ICLSTATUS0R_SST17_CLRMASK ~(WORD)HW_ICLSTATUS0R_SST17_SETMASK
                             9489 ; 281  |#define HW_ICLSTATUS0R_SST18_CLRMASK ~(WORD)HW_ICLSTATUS0R_SST18_SETMASK
                             9490 ; 282  |#define HW_ICLSTATUS0R_SST19_CLRMASK ~(WORD)HW_ICLSTATUS0R_SST19_SETMASK
                             9491 ; 283  |#define HW_ICLSTATUS0R_SST20_CLRMASK ~(WORD)HW_ICLSTATUS0R_SST20_SETMASK
                             9492 ; 284  |#define HW_ICLSTATUS0R_SST21_CLRMASK ~(WORD)HW_ICLSTATUS0R_SST21_SETMASK
                             9493 ; 285  |#define HW_ICLSTATUS0R_SST22_CLRMASK ~(WORD)HW_ICLSTATUS0R_SST22_SETMASK
                             9494 ; 286  |#define HW_ICLSTATUS0R_SST23_CLRMASK ~(WORD)HW_ICLSTATUS0R_SST23_SETMASK
                             9495 ; 287  |
                             9496 ; 288  |
                             9497 ; 289  |/////////////////////////////////////////////////////////////////////////////////
                             9498 ; 290  |//  Interrupt Collector Status 1 Register (HW_ICLSTATUS1R) Bit Positions
                             9499 ; 291  |typedef union
                             9500 ; 292  |{
                             9501 ; 293  |    struct {
                             9502 ; 294  |        int SST24       :1;
                             9503 ; 295  |        int SST25       :1;
                             9504 ; 296  |        int SST26       :1;
                             9505 ; 297  |        int SST27       :1;
                             9506 ; 298  |        int SST28       :1;
                             9507 ; 299  |        int SST29       :1;
                             9508 ; 300  |        int SST30       :1;
                             9509 ; 301  |        int SST31       :1;
                             9510 ; 302  |        int SST32       :1;
                             9511 ; 303  |        int SST33       :1;
                             9512 ; 304  |    } B;
                             9513 ; 305  |    int I;
                             9514 ; 306  |} iclstatus1_type;
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 156

M:ADDR CODE           CYCLES LINE SOURCELINE
                             9515 ; 307  |#define HW_ICLSTATUS1R  (*(volatile iclstatus1_type _X*) (HW_ICOLL_BASEADDR+3)) /* Interru
                                  pt Priority Register Core */
                             9516 ; 308  |#define HW_ICLSTATUS1R_SST24_BITPOS 0
                             9517 ; 309  |#define HW_ICLSTATUS1R_SST25_BITPOS 1
                             9518 ; 310  |#define HW_ICLSTATUS1R_SST26_BITPOS 2
                             9519 ; 311  |#define HW_ICLSTATUS1R_SST27_BITPOS 3
                             9520 ; 312  |#define HW_ICLSTATUS1R_SST28_BITPOS 4
                             9521 ; 313  |#define HW_ICLSTATUS1R_SST29_BITPOS 5
                             9522 ; 314  |#define HW_ICLSTATUS1R_SST30_BITPOS 6
                             9523 ; 315  |#define HW_ICLSTATUS1R_SST31_BITPOS 7
                             9524 ; 316  |#define HW_ICLSTATUS1R_SST32_BITPOS 8
                             9525 ; 317  |#define HW_ICLSTATUS1R_SST33_BITPOS 9
                             9526 ; 318  |
                             9527 ; 319  |#define HW_ICLSTATUS1R_SST24_SETMASK 1<<HW_ICLSTATUS1R_SST24_BITPOS
                             9528 ; 320  |#define HW_ICLSTATUS1R_SST25_SETMASK 1<<HW_ICLSTATUS1R_SST25_BITPOS
                             9529 ; 321  |#define HW_ICLSTATUS1R_SST26_SETMASK 1<<HW_ICLSTATUS1R_SST26_BITPOS
                             9530 ; 322  |#define HW_ICLSTATUS1R_SST27_SETMASK 1<<HW_ICLSTATUS1R_SST27_BITPOS
                             9531 ; 323  |#define HW_ICLSTATUS1R_SST28_SETMASK 1<<HW_ICLSTATUS1R_SST28_BITPOS
                             9532 ; 324  |#define HW_ICLSTATUS1R_SST29_SETMASK 1<<HW_ICLSTATUS1R_SST29_BITPOS
                             9533 ; 325  |#define HW_ICLSTATUS1R_SST30_SETMASK 1<<HW_ICLSTATUS1R_SST30_BITPOS
                             9534 ; 326  |#define HW_ICLSTATUS1R_SST31_SETMASK 1<<HW_ICLSTATUS1R_SST31_BITPOS
                             9535 ; 327  |#define HW_ICLSTATUS1R_SST32_SETMASK 1<<HW_ICLSTATUS1R_SST32_BITPOS
                             9536 ; 328  |#define HW_ICLSTATUS1R_SST33_SETMASK 1<<HW_ICLSTATUS1R_SST33_BITPOS
                             9537 ; 329  |
                             9538 ; 330  |#define HW_ICLSTATUS1R_SST24_CLRMASK ~(WORD)HW_ICLSTATUS1R_SST24_SETMASK
                             9539 ; 331  |#define HW_ICLSTATUS1R_SST25_CLRMASK ~(WORD)HW_ICLSTATUS1R_SST25_SETMASK
                             9540 ; 332  |#define HW_ICLSTATUS1R_SST26_CLRMASK ~(WORD)HW_ICLSTATUS1R_SST26_SETMASK
                             9541 ; 333  |#define HW_ICLSTATUS1R_SST27_CLRMASK ~(WORD)HW_ICLSTATUS1R_SST27_SETMASK
                             9542 ; 334  |#define HW_ICLSTATUS1R_SST28_CLRMASK ~(WORD)HW_ICLSTATUS1R_SST28_SETMASK
                             9543 ; 335  |#define HW_ICLSTATUS1R_SST29_CLRMASK ~(WORD)HW_ICLSTATUS1R_SST29_SETMASK
                             9544 ; 336  |#define HW_ICLSTATUS1R_SST30_CLRMASK ~(WORD)HW_ICLSTATUS1R_SST30_SETMASK
                             9545 ; 337  |#define HW_ICLSTATUS1R_SST31_CLRMASK ~(WORD)HW_ICLSTATUS1R_SST31_SETMASK
                             9546 ; 338  |#define HW_ICLSTATUS1R_SST32_CLRMASK ~(WORD)HW_ICLSTATUS1R_SST32_SETMASK
                             9547 ; 339  |#define HW_ICLSTATUS1R_SST33_CLRMASK ~(WORD)HW_ICLSTATUS1R_SST33_SETMASK
                             9548 ; 340  |
                             9549 ; 341  |
                             9550 ; 342  |/////////////////////////////////////////////////////////////////////////////////
                             9551 ; 343  |//  Interrupt Collector Priority Defs
                             9552 ; 344  |typedef union
                             9553 ; 345  |{
                             9554 ; 346  |    struct {
                             9555 ; 347  |        unsigned S0P    :3;
                             9556 ; 348  |        unsigned S1P    :3;
                             9557 ; 349  |        unsigned S2P    :3;
                             9558 ; 350  |        unsigned S3P    :3;
                             9559 ; 351  |        unsigned S4P    :3;
                             9560 ; 352  |        unsigned S5P    :3;
                             9561 ; 353  |        unsigned S6P    :3;
                             9562 ; 354  |        unsigned S7P    :3;
                             9563 ; 355  |    } B;
                             9564 ; 356  |    int I;
                             9565 ; 357  |
                             9566 ; 358  |} iclprior0_type;
                             9567 ; 359  |
                             9568 ; 360  |#define HW_ICLPRIOR0R   (*(volatile iclprior0_type _X*) (HW_ICOLL_BASEADDR+4)) /* Interrup
                                  t Collector Register 0 Priority   */
                             9569 ; 361  |
                             9570 ; 362  |#define HW_ICLPRIORR_SP_0 0
                             9571 ; 363  |#define HW_ICLPRIORR_SP_1 1
                             9572 ; 364  |#define HW_ICLPRIORR_SP_2 2
                             9573 ; 365  |#define HW_ICLPRIORR_SP_3 3
                             9574 ; 366  |#define HW_ICLPRIORR_SP_4 4
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 157

M:ADDR CODE           CYCLES LINE SOURCELINE
                             9575 ; 367  |#define HW_ICLPRIORR_SP_5 5
                             9576 ; 368  |#define HW_ICLPRIORR_SP_6 6
                             9577 ; 369  |#define HW_ICLPRIORR_SP_7 7
                             9578 ; 370  |
                             9579 ; 371  |
                             9580 ; 372  |/////////////////////////////////////////////////////////////////////////////////
                             9581 ; 373  |//  Interrupt Collector Priority 0 Register (HW_ICLPRIOR0R) Bit Positions
                             9582 ; 374  |#define HW_ICLPRIOR0R_S0P_BITPOS 0
                             9583 ; 375  |#define HW_ICLPRIOR0R_S1P_BITPOS 3
                             9584 ; 376  |#define HW_ICLPRIOR0R_S2P_BITPOS 6
                             9585 ; 377  |#define HW_ICLPRIOR0R_S3P_BITPOS 9
                             9586 ; 378  |#define HW_ICLPRIOR0R_S4P_BITPOS 12
                             9587 ; 379  |#define HW_ICLPRIOR0R_S5P_BITPOS 15
                             9588 ; 380  |#define HW_ICLPRIOR0R_S6P_BITPOS 18
                             9589 ; 381  |#define HW_ICLPRIOR0R_S7P_BITPOS 21
                             9590 ; 382  |
                             9591 ; 383  |#define HW_ICLPRIOR0R_S0P_SETMASK 7<<HW_ICLPRIOR0R_S0P_BITPOS
                             9592 ; 384  |#define HW_ICLPRIOR0R_S1P_SETMASK 7<<HW_ICLPRIOR0R_S1P_BITPOS
                             9593 ; 385  |#define HW_ICLPRIOR0R_S2P_SETMASK 7<<HW_ICLPRIOR0R_S2P_BITPOS
                             9594 ; 386  |#define HW_ICLPRIOR0R_S3P_SETMASK 7<<HW_ICLPRIOR0R_S3P_BITPOS
                             9595 ; 387  |#define HW_ICLPRIOR0R_S4P_SETMASK 7<<HW_ICLPRIOR0R_S4P_BITPOS
                             9596 ; 388  |#define HW_ICLPRIOR0R_S5P_SETMASK 7<<HW_ICLPRIOR0R_S5P_BITPOS
                             9597 ; 389  |#define HW_ICLPRIOR0R_S6P_SETMASK 7<<HW_ICLPRIOR0R_S6P_BITPOS
                             9598 ; 390  |#define HW_ICLPRIOR0R_S7P_SETMASK 7<<HW_ICLPRIOR0R_S7P_BITPOS
                             9599 ; 391  |
                             9600 ; 392  |#define HW_ICLPRIOR0R_S0P_CLRMASK ~(WORD)HW_ICLPRIOR0R_S0P_SETMASK
                             9601 ; 393  |#define HW_ICLPRIOR0R_S1P_CLRMASK ~(WORD)HW_ICLPRIOR0R_S1P_SETMASK
                             9602 ; 394  |#define HW_ICLPRIOR0R_S2P_CLRMASK ~(WORD)HW_ICLPRIOR0R_S2P_SETMASK
                             9603 ; 395  |#define HW_ICLPRIOR0R_S3P_CLRMASK ~(WORD)HW_ICLPRIOR0R_S3P_SETMASK
                             9604 ; 396  |#define HW_ICLPRIOR0R_S4P_CLRMASK ~(WORD)HW_ICLPRIOR0R_S4P_SETMASK
                             9605 ; 397  |#define HW_ICLPRIOR0R_S5P_CLRMASK ~(WORD)HW_ICLPRIOR0R_S5P_SETMASK
                             9606 ; 398  |#define HW_ICLPRIOR0R_S6P_CLRMASK ~(WORD)HW_ICLPRIOR0R_S6P_SETMASK
                             9607 ; 399  |#define HW_ICLPRIOR0R_S7P_CLRMASK ~(WORD)HW_ICLPRIOR0R_S7P_SETMASK
                             9608 ; 400  |
                             9609 ; 401  |
                             9610 ; 402  |/////////////////////////////////////////////////////////////////////////////////
                             9611 ; 403  |//  Interrupt Collector Priority 1 Register (HW_ICLPRIOR1R) Bit Positions
                             9612 ; 404  |typedef union
                             9613 ; 405  |{
                             9614 ; 406  |    struct {
                             9615 ; 407  |        unsigned S8P    :3;
                             9616 ; 408  |        unsigned S9P    :3;
                             9617 ; 409  |        unsigned S10P   :3;
                             9618 ; 410  |        unsigned S11P   :3;
                             9619 ; 411  |        unsigned S12P   :3;
                             9620 ; 412  |        unsigned S13P   :3;
                             9621 ; 413  |        unsigned S14P   :3;
                             9622 ; 414  |        unsigned S15P   :3;
                             9623 ; 415  |    } B;
                             9624 ; 416  |    int I;
                             9625 ; 417  |} iclprior1_type;
                             9626 ; 418  |
                             9627 ; 419  |#define HW_ICLPRIOR1R   (*(volatile iclprior1_type _X*) (HW_ICOLL_BASEADDR+5)) /* Interrup
                                  t Collector Register 1 Priority   */
                             9628 ; 420  |
                             9629 ; 421  |#define HW_ICLPRIOR1R_S8P_BITPOS 0
                             9630 ; 422  |#define HW_ICLPRIOR1R_S9P_BITPOS 3
                             9631 ; 423  |#define HW_ICLPRIOR1R_S10P_BITPOS 6
                             9632 ; 424  |#define HW_ICLPRIOR1R_S11P_BITPOS 9
                             9633 ; 425  |#define HW_ICLPRIOR1R_S12P_BITPOS 12
                             9634 ; 426  |#define HW_ICLPRIOR1R_S13P_BITPOS 15
                             9635 ; 427  |#define HW_ICLPRIOR1R_S14P_BITPOS 18
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 158

M:ADDR CODE           CYCLES LINE SOURCELINE
                             9636 ; 428  |#define HW_ICLPRIOR1R_S15P_BITPOS 21
                             9637 ; 429  |
                             9638 ; 430  |#define HW_ICLPRIOR1R_S8P_SETMASK 7<<HW_ICLPRIOR1R_S8P_BITPOS
                             9639 ; 431  |#define HW_ICLPRIOR1R_S9P_SETMASK 7<<HW_ICLPRIOR1R_S9P_BITPOS
                             9640 ; 432  |#define HW_ICLPRIOR1R_S10P_SETMASK 7<<HW_ICLPRIOR1R_S10P_BITPOS
                             9641 ; 433  |#define HW_ICLPRIOR1R_S11P_SETMASK 7<<HW_ICLPRIOR1R_S11P_BITPOS
                             9642 ; 434  |#define HW_ICLPRIOR1R_S12P_SETMASK 7<<HW_ICLPRIOR1R_S12P_BITPOS
                             9643 ; 435  |#define HW_ICLPRIOR1R_S13P_SETMASK 7<<HW_ICLPRIOR1R_S13P_BITPOS
                             9644 ; 436  |#define HW_ICLPRIOR1R_S14P_SETMASK 7<<HW_ICLPRIOR1R_S14P_BITPOS
                             9645 ; 437  |#define HW_ICLPRIOR1R_S15P_SETMASK 7<<HW_ICLPRIOR1R_S15P_BITPOS
                             9646 ; 438  |
                             9647 ; 439  |#define HW_ICLPRIOR1R_S8P_CLRMASK ~(WORD)HW_ICLPRIOR1R_S8P_SETMASK
                             9648 ; 440  |#define HW_ICLPRIOR1R_S9P_CLRMASK ~(WORD)HW_ICLPRIOR1R_S9P_SETMASK
                             9649 ; 441  |#define HW_ICLPRIOR1R_S10P_CLRMASK ~(WORD)HW_ICLPRIOR1R_S10P_SETMASK
                             9650 ; 442  |#define HW_ICLPRIOR1R_S11P_CLRMASK ~(WORD)HW_ICLPRIOR1R_S11P_SETMASK
                             9651 ; 443  |#define HW_ICLPRIOR1R_S12P_CLRMASK ~(WORD)HW_ICLPRIOR1R_S12P_SETMASK
                             9652 ; 444  |#define HW_ICLPRIOR1R_S13P_CLRMASK ~(WORD)HW_ICLPRIOR1R_S13P_SETMASK
                             9653 ; 445  |#define HW_ICLPRIOR1R_S14P_CLRMASK ~(WORD)HW_ICLPRIOR1R_S14P_SETMASK
                             9654 ; 446  |#define HW_ICLPRIOR1R_S15P_CLRMASK ~(WORD)HW_ICLPRIOR1R_S15P_SETMASK
                             9655 ; 447  |
                             9656 ; 448  |
                             9657 ; 449  |/////////////////////////////////////////////////////////////////////////////////
                             9658 ; 450  |//  Interrupt Collector Priority 2 Register (HW_ICLPRI2R) Bit Positions
                             9659 ; 451  |typedef union               /* Interrupt Collector Priority 2 Register      */
                             9660 ; 452  |{
                             9661 ; 453  |    struct {
                             9662 ; 454  |        unsigned S16P   :3;
                             9663 ; 455  |        unsigned S17P   :3;
                             9664 ; 456  |        unsigned S18P   :3;
                             9665 ; 457  |        unsigned S19P   :3;
                             9666 ; 458  |        unsigned S20P   :3;
                             9667 ; 459  |        unsigned S21P   :3;
                             9668 ; 460  |        unsigned S22P   :3;
                             9669 ; 461  |        unsigned S23P   :3;
                             9670 ; 462  |    } B;
                             9671 ; 463  |    int I;
                             9672 ; 464  |} iclprior2_type;
                             9673 ; 465  |#define HW_ICLPRIOR2R   (*(volatile iclprior2_type _X*) (HW_ICOLL_BASEADDR+6)) /* Interrup
                                  t Collector Register 2 Priority   */
                             9674 ; 466  |#define HW_ICLPRIOR2R_S16P_BITPOS 0
                             9675 ; 467  |#define HW_ICLPRIOR2R_S17P_BITPOS 3
                             9676 ; 468  |#define HW_ICLPRIOR2R_S18P_BITPOS 6
                             9677 ; 469  |#define HW_ICLPRIOR2R_S19P_BITPOS 9
                             9678 ; 470  |#define HW_ICLPRIOR2R_S20P_BITPOS 12
                             9679 ; 471  |#define HW_ICLPRIOR2R_S21P_BITPOS 15
                             9680 ; 472  |#define HW_ICLPRIOR2R_S22P_BITPOS 18
                             9681 ; 473  |#define HW_ICLPRIOR2R_S23P_BITPOS 21
                             9682 ; 474  |
                             9683 ; 475  |#define HW_ICLPRIOR2R_S16P_SETMASK 7<<HW_ICLPRIOR2R_S16P_BITPOS
                             9684 ; 476  |#define HW_ICLPRIOR2R_S17P_SETMASK 7<<HW_ICLPRIOR2R_S17P_BITPOS
                             9685 ; 477  |#define HW_ICLPRIOR2R_S18P_SETMASK 7<<HW_ICLPRIOR2R_S18P_BITPOS
                             9686 ; 478  |#define HW_ICLPRIOR2R_S19P_SETMASK 7<<HW_ICLPRIOR2R_S19P_BITPOS
                             9687 ; 479  |#define HW_ICLPRIOR2R_S20P_SETMASK 7<<HW_ICLPRIOR2R_S20P_BITPOS
                             9688 ; 480  |#define HW_ICLPRIOR2R_S21P_SETMASK 7<<HW_ICLPRIOR2R_S21P_BITPOS
                             9689 ; 481  |#define HW_ICLPRIOR2R_S22P_SETMASK 7<<HW_ICLPRIOR2R_S22P_BITPOS
                             9690 ; 482  |#define HW_ICLPRIOR2R_S23P_SETMASK 7<<HW_ICLPRIOR2R_S23P_BITPOS
                             9691 ; 483  |
                             9692 ; 484  |#define HW_ICLPRIOR2R_S16P_CLRMASK ~(WORD)HW_ICLPRIOR2R_S16P_SETMASK
                             9693 ; 485  |#define HW_ICLPRIOR2R_S17P_CLRMASK ~(WORD)HW_ICLPRIOR2R_S17P_SETMASK
                             9694 ; 486  |#define HW_ICLPRIOR2R_S18P_CLRMASK ~(WORD)HW_ICLPRIOR2R_S18P_SETMASK
                             9695 ; 487  |#define HW_ICLPRIOR2R_S19P_CLRMASK ~(WORD)HW_ICLPRIOR2R_S19P_SETMASK
                             9696 ; 488  |#define HW_ICLPRIOR2R_S20P_CLRMASK ~(WORD)HW_ICLPRIOR2R_S20P_SETMASK
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 159

M:ADDR CODE           CYCLES LINE SOURCELINE
                             9697 ; 489  |#define HW_ICLPRIOR2R_S21P_CLRMASK ~(WORD)HW_ICLPRIOR2R_S21P_SETMASK
                             9698 ; 490  |#define HW_ICLPRIOR2R_S22P_CLRMASK ~(WORD)HW_ICLPRIOR2R_S22P_SETMASK
                             9699 ; 491  |#define HW_ICLPRIOR2R_S23P_CLRMASK ~(WORD)HW_ICLPRIOR2R_S23P_SETMASK
                             9700 ; 492  |
                             9701 ; 493  |
                             9702 ; 494  |/////////////////////////////////////////////////////////////////////////////////
                             9703 ; 495  |//  Interrupt Collector Priority 3 Register (HW_ICLPRI3R) Bit Positions
                             9704 ; 496  |typedef union               /* Interrupt Collector Priority 3 Register      */
                             9705 ; 497  |{
                             9706 ; 498  |    struct {
                             9707 ; 499  |        unsigned S24P   :3;
                             9708 ; 500  |        unsigned S25P   :3;
                             9709 ; 501  |        unsigned S26P   :3;
                             9710 ; 502  |        unsigned S27P   :3;
                             9711 ; 503  |        unsigned S28P   :3;
                             9712 ; 504  |        unsigned S29P   :3;
                             9713 ; 505  |        unsigned S30P   :3;
                             9714 ; 506  |        unsigned S31P   :3;
                             9715 ; 507  |    } B;
                             9716 ; 508  |    int I;
                             9717 ; 509  |} iclprior3_type;
                             9718 ; 510  |#define HW_ICLPRIOR3R   (*(volatile iclprior3_type _X*) (HW_ICOLL_BASEADDR+7)) /* Interrup
                                  t Collector Register 3 Priority   */
                             9719 ; 511  |
                             9720 ; 512  |#define HW_ICLPRIOR3R_S24P_BITPOS 0
                             9721 ; 513  |#define HW_ICLPRIOR3R_S25P_BITPOS 3
                             9722 ; 514  |#define HW_ICLPRIOR3R_S26P_BITPOS 6
                             9723 ; 515  |#define HW_ICLPRIOR3R_S27P_BITPOS 9
                             9724 ; 516  |#define HW_ICLPRIOR3R_S28P_BITPOS 12
                             9725 ; 517  |#define HW_ICLPRIOR3R_S29P_BITPOS 15
                             9726 ; 518  |#define HW_ICLPRIOR3R_S30P_BITPOS 18
                             9727 ; 519  |#define HW_ICLPRIOR3R_S31P_BITPOS 21
                             9728 ; 520  |
                             9729 ; 521  |#define HW_ICLPRIOR3R_S24P_SETMASK 7<<HW_ICLPRIOR3R_S24P_BITPOS
                             9730 ; 522  |#define HW_ICLPRIOR3R_S25P_SETMASK 7<<HW_ICLPRIOR3R_S25P_BITPOS
                             9731 ; 523  |#define HW_ICLPRIOR3R_S26P_SETMASK 7<<HW_ICLPRIOR3R_S26P_BITPOS
                             9732 ; 524  |#define HW_ICLPRIOR3R_S27P_SETMASK 7<<HW_ICLPRIOR3R_S27P_BITPOS
                             9733 ; 525  |#define HW_ICLPRIOR3R_S28P_SETMASK 7<<HW_ICLPRIOR3R_S28P_BITPOS
                             9734 ; 526  |#define HW_ICLPRIOR3R_S29P_SETMASK 7<<HW_ICLPRIOR3R_S29P_BITPOS
                             9735 ; 527  |#define HW_ICLPRIOR3R_S30P_SETMASK 7<<HW_ICLPRIOR3R_S30P_BITPOS
                             9736 ; 528  |#define HW_ICLPRIOR3R_S31P_SETMASK 7<<HW_ICLPRIOR3R_S31P_BITPOS
                             9737 ; 529  |
                             9738 ; 530  |#define HW_ICLPRIOR3R_S24P_CLRMASK ~(WORD)HW_ICLPRIOR3R_S24P_SETMASK
                             9739 ; 531  |#define HW_ICLPRIOR3R_S25P_CLRMASK ~(WORD)HW_ICLPRIOR3R_S25P_SETMASK
                             9740 ; 532  |#define HW_ICLPRIOR3R_S26P_CLRMASK ~(WORD)HW_ICLPRIOR3R_S26P_SETMASK
                             9741 ; 533  |#define HW_ICLPRIOR3R_S27P_CLRMASK ~(WORD)HW_ICLPRIOR3R_S27P_SETMASK
                             9742 ; 534  |#define HW_ICLPRIOR3R_S28P_CLRMASK ~(WORD)HW_ICLPRIOR3R_S28P_SETMASK
                             9743 ; 535  |#define HW_ICLPRIOR3R_S29P_CLRMASK ~(WORD)HW_ICLPRIOR3R_S29P_SETMASK
                             9744 ; 536  |#define HW_ICLPRIOR3R_S30P_CLRMASK ~(WORD)HW_ICLPRIOR3R_S30P_SETMASK
                             9745 ; 537  |#define HW_ICLPRIOR3R_S31P_CLRMASK ~(WORD)HW_ICLPRIOR3R_S31P_SETMASK
                             9746 ; 538  |
                             9747 ; 539  |
                             9748 ; 540  |/////////////////////////////////////////////////////////////////////////////////
                             9749 ; 541  |//  Interrupt Collector Priority 4 Register (HW_ICLPRI4R) Bit Positions
                             9750 ; 542  |typedef union               /* Interrupt Collector Priority 3 Register      */
                             9751 ; 543  |{
                             9752 ; 544  |    struct {
                             9753 ; 545  |        unsigned S32P   :3;
                             9754 ; 546  |        unsigned S33P   :3;
                             9755 ; 547  |    } B;
                             9756 ; 548  |    int I;
                             9757 ; 549  |} iclprior4_type;
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 160

M:ADDR CODE           CYCLES LINE SOURCELINE
                             9758 ; 550  |#define HW_ICLPRIOR4R (*(volatile iclprior4_type _X*) (HW_ICOLL_BASEADDR+17)) /* Interrupt
                                   Collector Register 4 Priority   */
                             9759 ; 551  |
                             9760 ; 552  |#define HW_ICLPRIOR4R_S32P_BITPOS 0
                             9761 ; 553  |#define HW_ICLPRIOR4R_S33P_BITPOS 3
                             9762 ; 554  |
                             9763 ; 555  |#define HW_ICLPRIOR4R_S32P_SETMASK 7<<HW_ICLPRIOR4R_S32P_BITPOS
                             9764 ; 556  |#define HW_ICLPRIOR4R_S33P_SETMASK 7<<HW_ICLPRIOR4R_S33P_BITPOS
                             9765 ; 557  |
                             9766 ; 558  |#define HW_ICLPRIOR4R_S32P_CLRMASK ~(WORD)HW_ICLPRIOR4R_S32P_SETMASK
                             9767 ; 559  |#define HW_ICLPRIOR4R_S33P_CLRMASK ~(WORD)HW_ICLPRIOR4R_S33P_SETMASK
                             9768 ; 560  |
                             9769 ; 561  |
                             9770 ; 562  |/////////////////////////////////////////////////////////////////////////////////
                             9771 ; 563  |//  Interrupt Collector Steering 0 Register (HW_ICLSTEER0R) Bit Positions
                             9772 ; 564  |typedef union               /* Interrupt Collector Steering 0 Register      */
                             9773 ; 565  |{
                             9774 ; 566  |    struct {
                             9775 ; 567  |        unsigned S0S    :2;
                             9776 ; 568  |        unsigned S1S    :2;
                             9777 ; 569  |        unsigned S2S    :2;
                             9778 ; 570  |        unsigned S3S    :2;
                             9779 ; 571  |        unsigned S4S    :2;
                             9780 ; 572  |        unsigned S5S    :2;
                             9781 ; 573  |        unsigned S6S    :2;
                             9782 ; 574  |        unsigned S7S    :2;
                             9783 ; 575  |        unsigned S8S    :2;
                             9784 ; 576  |        unsigned S9S    :2;
                             9785 ; 577  |        unsigned S10S   :2;
                             9786 ; 578  |        unsigned S11S   :2;
                             9787 ; 579  |    } B;
                             9788 ; 580  |    int I;
                             9789 ; 581  |} iclsteer0_type;
                             9790 ; 582  |#define HW_ICLSTEER0R   (*(volatile iclsteer0_type _X*) (HW_ICOLL_BASEADDR+8)) /* Interrup
                                  t Collector Steering Register 0   */
                             9791 ; 583  |
                             9792 ; 584  |#define HW_ICLSTEER0R_S0P_BITPOS 0
                             9793 ; 585  |#define HW_ICLSTEER0R_S1P_BITPOS 2
                             9794 ; 586  |#define HW_ICLSTEER0R_S2P_BITPOS 4
                             9795 ; 587  |#define HW_ICLSTEER0R_S3P_BITPOS 6
                             9796 ; 588  |#define HW_ICLSTEER0R_S4P_BITPOS 8
                             9797 ; 589  |#define HW_ICLSTEER0R_S5P_BITPOS 10
                             9798 ; 590  |#define HW_ICLSTEER0R_S6P_BITPOS 12
                             9799 ; 591  |#define HW_ICLSTEER0R_S7P_BITPOS 14
                             9800 ; 592  |#define HW_ICLSTEER0R_S8P_BITPOS 16
                             9801 ; 593  |#define HW_ICLSTEER0R_S9P_BITPOS 18
                             9802 ; 594  |#define HW_ICLSTEER0R_S10P_BITPOS 20
                             9803 ; 595  |#define HW_ICLSTEER0R_S11P_BITPOS 22
                             9804 ; 596  |
                             9805 ; 597  |#define HW_ICLSTEER0R_S0P_SETMASK 3<<HW_ICLSTEER0R_S0P_BITPOS
                             9806 ; 598  |#define HW_ICLSTEER0R_S1P_SETMASK 3<<HW_ICLSTEER0R_S1P_BITPOS
                             9807 ; 599  |#define HW_ICLSTEER0R_S2P_SETMASK 3<<HW_ICLSTEER0R_S2P_BITPOS
                             9808 ; 600  |#define HW_ICLSTEER0R_S3P_SETMASK 3<<HW_ICLSTEER0R_S3P_BITPOS
                             9809 ; 601  |#define HW_ICLSTEER0R_S4P_SETMASK 3<<HW_ICLSTEER0R_S4P_BITPOS
                             9810 ; 602  |#define HW_ICLSTEER0R_S5P_SETMASK 3<<HW_ICLSTEER0R_S5P_BITPOS
                             9811 ; 603  |#define HW_ICLSTEER0R_S6P_SETMASK 3<<HW_ICLSTEER0R_S6P_BITPOS
                             9812 ; 604  |#define HW_ICLSTEER0R_S7P_SETMASK 3<<HW_ICLSTEER0R_S7P_BITPOS
                             9813 ; 605  |#define HW_ICLSTEER0R_S8P_SETMASK 3<<HW_ICLSTEER0R_S8P_BITPOS
                             9814 ; 606  |#define HW_ICLSTEER0R_S9P_SETMASK 3<<HW_ICLSTEER0R_S9P_BITPOS
                             9815 ; 607  |#define HW_ICLSTEER0R_S10P_SETMASK 3<<HW_ICLSTEER0R_S10P_BITPOS
                             9816 ; 608  |#define HW_ICLSTEER0R_S11P_SETMASK 3<<HW_ICLSTEER0R_S11P_BITPOS
                             9817 ; 609  |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 161

M:ADDR CODE           CYCLES LINE SOURCELINE
                             9818 ; 610  |#define HW_ICLSTEER0R_S0P_CLRMASK ~(WORD)HW_ICLSTEER0R_S0P_SETMASK
                             9819 ; 611  |#define HW_ICLSTEER0R_S1P_CLRMASK ~(WORD)HW_ICLSTEER0R_S1P_SETMASK
                             9820 ; 612  |#define HW_ICLSTEER0R_S2P_CLRMASK ~(WORD)HW_ICLSTEER0R_S2P_SETMASK
                             9821 ; 613  |#define HW_ICLSTEER0R_S3P_CLRMASK ~(WORD)HW_ICLSTEER0R_S3P_SETMASK
                             9822 ; 614  |#define HW_ICLSTEER0R_S4P_CLRMASK ~(WORD)HW_ICLSTEER0R_S4P_SETMASK
                             9823 ; 615  |#define HW_ICLSTEER0R_S5P_CLRMASK ~(WORD)HW_ICLSTEER0R_S5P_SETMASK
                             9824 ; 616  |#define HW_ICLSTEER0R_S6P_CLRMASK ~(WORD)HW_ICLSTEER0R_S6P_SETMASK
                             9825 ; 617  |#define HW_ICLSTEER0R_S7P_CLRMASK ~(WORD)HW_ICLSTEER0R_S7P_SETMASK
                             9826 ; 618  |#define HW_ICLSTEER0R_S8P_CLRMASK ~(WORD)HW_ICLSTEER0R_S8P_SETMASK
                             9827 ; 619  |#define HW_ICLSTEER0R_S9P_CLRMASK ~(WORD)HW_ICLSTEER0R_S9P_SETMASK
                             9828 ; 620  |#define HW_ICLSTEER0R_S10P_CLRMASK ~(WORD)HW_ICLSTEER0R_S10P_SETMASK
                             9829 ; 621  |#define HW_ICLSTEER0R_S11P_CLRMASK ~(WORD)HW_ICLSTEER0R_S11P_SETMASK
                             9830 ; 622  |
                             9831 ; 623  |
                             9832 ; 624  |/////////////////////////////////////////////////////////////////////////////////
                             9833 ; 625  |//  Interrupt Collector Steering 1 Register (HW_ICLSTEER1R) Bit Positions
                             9834 ; 626  |typedef union               /* Interrupt Collector Steering 1 Register      */
                             9835 ; 627  |{
                             9836 ; 628  |    struct {
                             9837 ; 629  |        unsigned S12S   :2;
                             9838 ; 630  |        unsigned S13S   :2;
                             9839 ; 631  |        unsigned S14S   :2;
                             9840 ; 632  |        unsigned S15S   :2;
                             9841 ; 633  |        unsigned S16S   :2;
                             9842 ; 634  |        unsigned S17S   :2;
                             9843 ; 635  |        unsigned S18S   :2;
                             9844 ; 636  |        unsigned S19S   :2;
                             9845 ; 637  |        unsigned S20S   :2;
                             9846 ; 638  |        unsigned S21S   :2;
                             9847 ; 639  |        unsigned S22S   :2;
                             9848 ; 640  |        unsigned S23S   :2;
                             9849 ; 641  |    } B;
                             9850 ; 642  |    int I;
                             9851 ; 643  |} iclsteer1_type;
                             9852 ; 644  |#define HW_ICLSTEER1R   (*(volatile iclsteer1_type _X*) (HW_ICOLL_BASEADDR+9)) /* Interrup
                                  t Collector Steering Register 1   */
                             9853 ; 645  |#define HW_ICLSTEER1R_S12P_BITPOS 0
                             9854 ; 646  |#define HW_ICLSTEER1R_S13P_BITPOS 2
                             9855 ; 647  |#define HW_ICLSTEER1R_S14P_BITPOS 4
                             9856 ; 648  |#define HW_ICLSTEER1R_S15P_BITPOS 6
                             9857 ; 649  |#define HW_ICLSTEER1R_S16P_BITPOS 8
                             9858 ; 650  |#define HW_ICLSTEER1R_S17P_BITPOS 10
                             9859 ; 651  |#define HW_ICLSTEER1R_S18P_BITPOS 12
                             9860 ; 652  |#define HW_ICLSTEER1R_S19P_BITPOS 14
                             9861 ; 653  |#define HW_ICLSTEER1R_S20P_BITPOS 16
                             9862 ; 654  |#define HW_ICLSTEER1R_S21P_BITPOS 18
                             9863 ; 655  |#define HW_ICLSTEER1R_S22P_BITPOS 20
                             9864 ; 656  |#define HW_ICLSTEER1R_S23P_BITPOS 22
                             9865 ; 657  |
                             9866 ; 658  |#define HW_ICLSTEER1R_S12P_SETMASK 3<<HW_ICLSTEER1R_S12P_BITPOS
                             9867 ; 659  |#define HW_ICLSTEER1R_S13P_SETMASK 3<<HW_ICLSTEER1R_S13P_BITPOS
                             9868 ; 660  |#define HW_ICLSTEER1R_S14P_SETMASK 3<<HW_ICLSTEER1R_S14P_BITPOS
                             9869 ; 661  |#define HW_ICLSTEER1R_S15P_SETMASK 3<<HW_ICLSTEER1R_S15P_BITPOS
                             9870 ; 662  |#define HW_ICLSTEER1R_S16P_SETMASK 3<<HW_ICLSTEER1R_S16P_BITPOS
                             9871 ; 663  |#define HW_ICLSTEER1R_S17P_SETMASK 3<<HW_ICLSTEER1R_S17P_BITPOS
                             9872 ; 664  |#define HW_ICLSTEER1R_S18P_SETMASK 3<<HW_ICLSTEER1R_S18P_BITPOS
                             9873 ; 665  |#define HW_ICLSTEER1R_S19P_SETMASK 3<<HW_ICLSTEER1R_S19P_BITPOS
                             9874 ; 666  |#define HW_ICLSTEER1R_S20P_SETMASK 3<<HW_ICLSTEER1R_S20P_BITPOS
                             9875 ; 667  |#define HW_ICLSTEER1R_S21P_SETMASK 3<<HW_ICLSTEER1R_S21P_BITPOS
                             9876 ; 668  |#define HW_ICLSTEER1R_S22P_SETMASK 3<<HW_ICLSTEER1R_S22P_BITPOS
                             9877 ; 669  |#define HW_ICLSTEER1R_S23P_SETMASK 3<<HW_ICLSTEER1R_S23P_BITPOS
                             9878 ; 670  |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 162

M:ADDR CODE           CYCLES LINE SOURCELINE
                             9879 ; 671  |#define HW_ICLSTEER1R_S12P_CLRMASK ~(WORD)HW_ICLSTEER1R_S12P_SETMASK
                             9880 ; 672  |#define HW_ICLSTEER1R_S13P_CLRMASK ~(WORD)HW_ICLSTEER1R_S13P_SETMASK
                             9881 ; 673  |#define HW_ICLSTEER1R_S14P_CLRMASK ~(WORD)HW_ICLSTEER1R_S14P_SETMASK
                             9882 ; 674  |#define HW_ICLSTEER1R_S15P_CLRMASK ~(WORD)HW_ICLSTEER1R_S15P_SETMASK
                             9883 ; 675  |#define HW_ICLSTEER1R_S16P_CLRMASK ~(WORD)HW_ICLSTEER1R_S16P_SETMASK
                             9884 ; 676  |#define HW_ICLSTEER1R_S17P_CLRMASK ~(WORD)HW_ICLSTEER1R_S17P_SETMASK
                             9885 ; 677  |#define HW_ICLSTEER1R_S18P_CLRMASK ~(WORD)HW_ICLSTEER1R_S18P_SETMASK
                             9886 ; 678  |#define HW_ICLSTEER1R_S19P_CLRMASK ~(WORD)HW_ICLSTEER1R_S19P_SETMASK
                             9887 ; 679  |#define HW_ICLSTEER1R_S20P_CLRMASK ~(WORD)HW_ICLSTEER1R_S20P_SETMASK
                             9888 ; 680  |#define HW_ICLSTEER1R_S21P_CLRMASK ~(WORD)HW_ICLSTEER1R_S21P_SETMASK
                             9889 ; 681  |#define HW_ICLSTEER1R_S22P_CLRMASK ~(WORD)HW_ICLSTEER1R_S22P_SETMASK
                             9890 ; 682  |#define HW_ICLSTEER1R_S23P_CLRMASK ~(WORD)HW_ICLSTEER1R_S23P_SETMASK
                             9891 ; 683  |
                             9892 ; 684  |
                             9893 ; 685  |/////////////////////////////////////////////////////////////////////////////////
                             9894 ; 686  |//  Interrupt Collector Steering 2 Register (HW_ICLSTEER2R) Bit Positions
                             9895 ; 687  |typedef union               /* Interrupt Collector Steering 2 Register      */
                             9896 ; 688  |{
                             9897 ; 689  |    struct {
                             9898 ; 690  |        unsigned S24S   :2;
                             9899 ; 691  |        unsigned S25S   :2;
                             9900 ; 692  |        unsigned S26S   :2;
                             9901 ; 693  |        unsigned S27S   :2;
                             9902 ; 694  |        unsigned S28S   :2;
                             9903 ; 695  |        unsigned S29S   :2;
                             9904 ; 696  |        unsigned S30S   :2;
                             9905 ; 697  |        unsigned S31S   :2;
                             9906 ; 698  |        unsigned S32S   :2;
                             9907 ; 699  |        unsigned S33S   :2;
                             9908 ; 700  |    } B;
                             9909 ; 701  |    int I;
                             9910 ; 702  |} iclsteer2_type;
                             9911 ; 703  |#define HW_ICLSTEER2R   (*(volatile iclsteer2_type _X*) (HW_ICOLL_BASEADDR+10)) /* Interru
                                  pt Collector Steering Register 2  */
                             9912 ; 704  |
                             9913 ; 705  |#define HW_ICLSTEER2R_S24P_BITPOS 0
                             9914 ; 706  |#define HW_ICLSTEER2R_S25P_BITPOS 2
                             9915 ; 707  |#define HW_ICLSTEER2R_S26P_BITPOS 4
                             9916 ; 708  |#define HW_ICLSTEER2R_S27P_BITPOS 6
                             9917 ; 709  |#define HW_ICLSTEER2R_S28P_BITPOS 8
                             9918 ; 710  |#define HW_ICLSTEER2R_S29P_BITPOS 10
                             9919 ; 711  |#define HW_ICLSTEER2R_S30P_BITPOS 12
                             9920 ; 712  |#define HW_ICLSTEER2R_S31P_BITPOS 14
                             9921 ; 713  |#define HW_ICLSTEER2R_S32P_BITPOS 16
                             9922 ; 714  |#define HW_ICLSTEER2R_S33P_BITPOS 18
                             9923 ; 715  |
                             9924 ; 716  |#define HW_ICLSTEER2R_S24P_SETMASK 3<<HW_ICLSTEER2R_S24P_BITPOS
                             9925 ; 717  |#define HW_ICLSTEER2R_S25P_SETMASK 3<<HW_ICLSTEER2R_S25P_BITPOS
                             9926 ; 718  |#define HW_ICLSTEER2R_S26P_SETMASK 3<<HW_ICLSTEER2R_S26P_BITPOS
                             9927 ; 719  |#define HW_ICLSTEER2R_S27P_SETMASK 3<<HW_ICLSTEER2R_S27P_BITPOS
                             9928 ; 720  |#define HW_ICLSTEER2R_S28P_SETMASK 3<<HW_ICLSTEER2R_S28P_BITPOS
                             9929 ; 721  |#define HW_ICLSTEER2R_S29P_SETMASK 3<<HW_ICLSTEER2R_S29P_BITPOS
                             9930 ; 722  |#define HW_ICLSTEER2R_S30P_SETMASK 3<<HW_ICLSTEER2R_S30P_BITPOS
                             9931 ; 723  |#define HW_ICLSTEER2R_S31P_SETMASK 3<<HW_ICLSTEER2R_S31P_BITPOS
                             9932 ; 724  |#define HW_ICLSTEER2R_S32P_SETMASK 3<<HW_ICLSTEER2R_S32P_BITPOS
                             9933 ; 725  |#define HW_ICLSTEER2R_S33P_SETMASK 3<<HW_ICLSTEER2R_S33P_BITPOS
                             9934 ; 726  |
                             9935 ; 727  |#define HW_ICLSTEER2R_S24P_CLRMASK ~(WORD)HW_ICLSTEER2R_S24P_SETMASK
                             9936 ; 728  |#define HW_ICLSTEER2R_S25P_CLRMASK ~(WORD)HW_ICLSTEER2R_S25P_SETMASK
                             9937 ; 729  |#define HW_ICLSTEER2R_S26P_CLRMASK ~(WORD)HW_ICLSTEER2R_S26P_SETMASK
                             9938 ; 730  |#define HW_ICLSTEER2R_S27P_CLRMASK ~(WORD)HW_ICLSTEER2R_S27P_SETMASK
                             9939 ; 731  |#define HW_ICLSTEER2R_S28P_CLRMASK ~(WORD)HW_ICLSTEER2R_S28P_SETMASK
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 163

M:ADDR CODE           CYCLES LINE SOURCELINE
                             9940 ; 732  |#define HW_ICLSTEER2R_S29P_CLRMASK ~(WORD)HW_ICLSTEER2R_S29P_SETMASK
                             9941 ; 733  |#define HW_ICLSTEER2R_S30P_CLRMASK ~(WORD)HW_ICLSTEER2R_S30P_SETMASK
                             9942 ; 734  |#define HW_ICLSTEER2R_S31P_CLRMASK ~(WORD)HW_ICLSTEER2R_S31P_SETMASK
                             9943 ; 735  |#define HW_ICLSTEER2R_S32P_CLRMASK ~(WORD)HW_ICLSTEER2R_S32P_SETMASK
                             9944 ; 736  |#define HW_ICLSTEER2R_S33P_CLRMASK ~(WORD)HW_ICLSTEER2R_S33P_SETMASK
                             9945 ; 737  |
                             9946 ; 738  |
                             9947 ; 739  |/////////////////////////////////////////////////////////////////////////////////
                             9948 ; 740  |//  Interrupt Collector Debug Force 0 Register (HW_ICLFORCE0R) Bit Positions
                             9949 ; 741  |typedef union               /* Interrupt Collector Debug Force 0 Register       */
                             9950 ; 742  |{
                             9951 ; 743  |    struct {
                             9952 ; 744  |        int S0FV        :1;
                             9953 ; 745  |        int S1FV        :1;
                             9954 ; 746  |        int S2FV        :1;
                             9955 ; 747  |        int S3FV        :1;
                             9956 ; 748  |        int S4FV        :1;
                             9957 ; 749  |        int S5FV        :1;
                             9958 ; 750  |        int S6FV        :1;
                             9959 ; 751  |        int S7FV        :1;
                             9960 ; 752  |        int S8FV        :1;
                             9961 ; 753  |        int S9FV        :1;
                             9962 ; 754  |        int S10FV       :1;
                             9963 ; 755  |        int S11FV       :1;
                             9964 ; 756  |        int S12FV       :1;
                             9965 ; 757  |        int S13FV       :1;
                             9966 ; 758  |        int S14FV       :1;
                             9967 ; 759  |        int S15FV       :1;
                             9968 ; 760  |        int S16FV       :1;
                             9969 ; 761  |        int S17FV       :1;
                             9970 ; 762  |        int S18FV       :1;
                             9971 ; 763  |        int S19FV       :1;
                             9972 ; 764  |        int S20FV       :1;
                             9973 ; 765  |        int S21FV       :1;
                             9974 ; 766  |        int S22FV       :1;
                             9975 ; 767  |        int S23FV       :1;
                             9976 ; 768  |    } B;
                             9977 ; 769  |    int I;
                             9978 ; 770  |} iclforce0_type;
                             9979 ; 771  |#define HW_ICLFORCE0R   (*(volatile iclforce0_type _X*) (HW_ICOLL_BASEADDR+11)) /* Interru
                                  pt Collector Debug Force Register 0   */
                             9980 ; 772  |#define HW_ICLFORCE0R_S0FV_BITPOS 0
                             9981 ; 773  |#define HW_ICLFORCE0R_S1FV_BITPOS 1
                             9982 ; 774  |#define HW_ICLFORCE0R_S2FV_BITPOS 2
                             9983 ; 775  |#define HW_ICLFORCE0R_S3FV_BITPOS 3
                             9984 ; 776  |#define HW_ICLFORCE0R_S4FV_BITPOS 4
                             9985 ; 777  |#define HW_ICLFORCE0R_S5FV_BITPOS 5
                             9986 ; 778  |#define HW_ICLFORCE0R_S6FV_BITPOS 6
                             9987 ; 779  |#define HW_ICLFORCE0R_S7FV_BITPOS 7
                             9988 ; 780  |#define HW_ICLFORCE0R_S8FV_BITPOS 8
                             9989 ; 781  |#define HW_ICLFORCE0R_S9FV_BITPOS 9
                             9990 ; 782  |#define HW_ICLFORCE0R_S10FV_BITPOS 10
                             9991 ; 783  |#define HW_ICLFORCE0R_S11FV_BITPOS 11
                             9992 ; 784  |#define HW_ICLFORCE0R_S12FV_BITPOS 12
                             9993 ; 785  |#define HW_ICLFORCE0R_S13FV_BITPOS 13
                             9994 ; 786  |#define HW_ICLFORCE0R_S14FV_BITPOS 14
                             9995 ; 787  |#define HW_ICLFORCE0R_S15FV_BITPOS 15
                             9996 ; 788  |#define HW_ICLFORCE0R_S16FV_BITPOS 16
                             9997 ; 789  |#define HW_ICLFORCE0R_S17FV_BITPOS 17
                             9998 ; 790  |#define HW_ICLFORCE0R_S18FV_BITPOS 18
                             9999 ; 791  |#define HW_ICLFORCE0R_S19FV_BITPOS 19
                            10000 ; 792  |#define HW_ICLFORCE0R_S20FV_BITPOS 20
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 164

M:ADDR CODE           CYCLES LINE SOURCELINE
                            10001 ; 793  |#define HW_ICLFORCE0R_S21FV_BITPOS 21
                            10002 ; 794  |#define HW_ICLFORCE0R_S22FV_BITPOS 22
                            10003 ; 795  |#define HW_ICLFORCE0R_S23FV_BITPOS 23
                            10004 ; 796  |
                            10005 ; 797  |#define HW_ICLFORCE0R_S0FV_SETMASK 1<<HW_ICLFORCE0R_S0FV_BITPOS
                            10006 ; 798  |#define HW_ICLFORCE0R_S1FV_SETMASK 1<<HW_ICLFORCE0R_S1FV_BITPOS
                            10007 ; 799  |#define HW_ICLFORCE0R_S2FV_SETMASK 1<<HW_ICLFORCE0R_S2FV_BITPOS
                            10008 ; 800  |#define HW_ICLFORCE0R_S3FV_SETMASK 1<<HW_ICLFORCE0R_S3FV_BITPOS
                            10009 ; 801  |#define HW_ICLFORCE0R_S4FV_SETMASK 1<<HW_ICLFORCE0R_S4FV_BITPOS
                            10010 ; 802  |#define HW_ICLFORCE0R_S5FV_SETMASK 1<<HW_ICLFORCE0R_S5FV_BITPOS
                            10011 ; 803  |#define HW_ICLFORCE0R_S6FV_SETMASK 1<<HW_ICLFORCE0R_S6FV_BITPOS
                            10012 ; 804  |#define HW_ICLFORCE0R_S7FV_SETMASK 1<<HW_ICLFORCE0R_S7FV_BITPOS
                            10013 ; 805  |#define HW_ICLFORCE0R_S8FV_SETMASK 1<<HW_ICLFORCE0R_S8FV_BITPOS
                            10014 ; 806  |#define HW_ICLFORCE0R_S9FV_SETMASK 1<<HW_ICLFORCE0R_S9FV_BITPOS
                            10015 ; 807  |#define HW_ICLFORCE0R_S10FV_SETMASK 1<<HW_ICLFORCE0R_S10FV_BITPOS
                            10016 ; 808  |#define HW_ICLFORCE0R_S11FV_SETMASK 1<<HW_ICLFORCE0R_S11FV_BITPOS
                            10017 ; 809  |#define HW_ICLFORCE0R_S12FV_SETMASK 1<<HW_ICLFORCE0R_S12FV_BITPOS
                            10018 ; 810  |#define HW_ICLFORCE0R_S13FV_SETMASK 1<<HW_ICLFORCE0R_S13FV_BITPOS
                            10019 ; 811  |#define HW_ICLFORCE0R_S14FV_SETMASK 1<<HW_ICLFORCE0R_S14FV_BITPOS
                            10020 ; 812  |#define HW_ICLFORCE0R_S15FV_SETMASK 1<<HW_ICLFORCE0R_S15FV_BITPOS
                            10021 ; 813  |#define HW_ICLFORCE0R_S16FV_SETMASK 1<<HW_ICLFORCE0R_S16FV_BITPOS
                            10022 ; 814  |#define HW_ICLFORCE0R_S17FV_SETMASK 1<<HW_ICLFORCE0R_S17FV_BITPOS
                            10023 ; 815  |#define HW_ICLFORCE0R_S18FV_SETMASK 1<<HW_ICLFORCE0R_S18FV_BITPOS
                            10024 ; 816  |#define HW_ICLFORCE0R_S19FV_SETMASK 1<<HW_ICLFORCE0R_S19FV_BITPOS
                            10025 ; 817  |#define HW_ICLFORCE0R_S20FV_SETMASK 1<<HW_ICLFORCE0R_S20FV_BITPOS
                            10026 ; 818  |#define HW_ICLFORCE0R_S21FV_SETMASK 1<<HW_ICLFORCE0R_S21FV_BITPOS
                            10027 ; 819  |#define HW_ICLFORCE0R_S22FV_SETMASK 1<<HW_ICLFORCE0R_S22FV_BITPOS
                            10028 ; 820  |#define HW_ICLFORCE0R_S23FV_SETMASK 1<<HW_ICLFORCE0R_S23FV_BITPOS
                            10029 ; 821  |
                            10030 ; 822  |#define HW_ICLFORCE0R_S0FV_CLRMASK ~(WORD)HW_ICLFORCE0R_S0FV_SETMASK
                            10031 ; 823  |#define HW_ICLFORCE0R_S1FV_CLRMASK ~(WORD)HW_ICLFORCE0R_S1FV_SETMASK
                            10032 ; 824  |#define HW_ICLFORCE0R_S2FV_CLRMASK ~(WORD)HW_ICLFORCE0R_S2FV_SETMASK
                            10033 ; 825  |#define HW_ICLFORCE0R_S3FV_CLRMASK ~(WORD)HW_ICLFORCE0R_S3FV_SETMASK
                            10034 ; 826  |#define HW_ICLFORCE0R_S4FV_CLRMASK ~(WORD)HW_ICLFORCE0R_S4FV_SETMASK
                            10035 ; 827  |#define HW_ICLFORCE0R_S5FV_CLRMASK ~(WORD)HW_ICLFORCE0R_S5FV_SETMASK
                            10036 ; 828  |#define HW_ICLFORCE0R_S6FV_CLRMASK ~(WORD)HW_ICLFORCE0R_S6FV_SETMASK
                            10037 ; 829  |#define HW_ICLFORCE0R_S7FV_CLRMASK ~(WORD)HW_ICLFORCE0R_S7FV_SETMASK
                            10038 ; 830  |#define HW_ICLFORCE0R_S8FV_CLRMASK ~(WORD)HW_ICLFORCE0R_S8FV_SETMASK
                            10039 ; 831  |#define HW_ICLFORCE0R_S9FV_CLRMASK ~(WORD)HW_ICLFORCE0R_S9FV_SETMASK
                            10040 ; 832  |#define HW_ICLFORCE0R_S10FV_CLRMASK ~(WORD)HW_ICLFORCE0R_S10FV_SETMASK
                            10041 ; 833  |#define HW_ICLFORCE0R_S11FV_CLRMASK ~(WORD)HW_ICLFORCE0R_S11FV_SETMASK
                            10042 ; 834  |#define HW_ICLFORCE0R_S12FV_CLRMASK ~(WORD)HW_ICLFORCE0R_S12FV_SETMASK
                            10043 ; 835  |#define HW_ICLFORCE0R_S13FV_CLRMASK ~(WORD)HW_ICLFORCE0R_S13FV_SETMASK
                            10044 ; 836  |#define HW_ICLFORCE0R_S14FV_CLRMASK ~(WORD)HW_ICLFORCE0R_S14FV_SETMASK
                            10045 ; 837  |#define HW_ICLFORCE0R_S15FV_CLRMASK ~(WORD)HW_ICLFORCE0R_S15FV_SETMASK
                            10046 ; 838  |#define HW_ICLFORCE0R_S16FV_CLRMASK ~(WORD)HW_ICLFORCE0R_S16FV_SETMASK
                            10047 ; 839  |#define HW_ICLFORCE0R_S17FV_CLRMASK ~(WORD)HW_ICLFORCE0R_S17FV_SETMASK
                            10048 ; 840  |#define HW_ICLFORCE0R_S18FV_CLRMASK ~(WORD)HW_ICLFORCE0R_S18FV_SETMASK
                            10049 ; 841  |#define HW_ICLFORCE0R_S19FV_CLRMASK ~(WORD)HW_ICLFORCE0R_S19FV_SETMASK
                            10050 ; 842  |#define HW_ICLFORCE0R_S20FV_CLRMASK ~(WORD)HW_ICLFORCE0R_S20FV_SETMASK
                            10051 ; 843  |#define HW_ICLFORCE0R_S21FV_CLRMASK ~(WORD)HW_ICLFORCE0R_S21FV_SETMASK
                            10052 ; 844  |#define HW_ICLFORCE0R_S22FV_CLRMASK ~(WORD)HW_ICLFORCE0R_S22FV_SETMASK
                            10053 ; 845  |#define HW_ICLFORCE0R_S23FV_CLRMASK ~(WORD)HW_ICLFORCE0R_S23FV_SETMASK
                            10054 ; 846  |
                            10055 ; 847  |
                            10056 ; 848  |/////////////////////////////////////////////////////////////////////////////////
                            10057 ; 849  |//  Interrupt Collector Debug Force 1 Register (HW_ICLFORCE1R) Bit Positions
                            10058 ; 850  |typedef union               /* Interrupt Debug Force 1 Register     */
                            10059 ; 851  |{
                            10060 ; 852  |    struct {
                            10061 ; 853  |        int S24FV       :1;
                            10062 ; 854  |        int S25FV       :1;
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 165

M:ADDR CODE           CYCLES LINE SOURCELINE
                            10063 ; 855  |        int S26FV       :1;
                            10064 ; 856  |        int S27FV       :1;
                            10065 ; 857  |        int S28FV       :1;
                            10066 ; 858  |        int S29FV       :1;
                            10067 ; 859  |        int S30FV       :1;
                            10068 ; 860  |        int S31FV       :1;
                            10069 ; 861  |        int S32FV       :1;
                            10070 ; 862  |        int S33FV       :1;
                            10071 ; 863  |    } B;
                            10072 ; 864  |    int I;
                            10073 ; 865  |} iclforce1_type;
                            10074 ; 866  |#define HW_ICLFORCE1R   (*(volatile iclforce1_type _X*) (HW_ICOLL_BASEADDR+12)) /* Interru
                                  pt Collector Debug Force Register 1   */
                            10075 ; 867  |
                            10076 ; 868  |#define HW_ICLFORCE1R_S24FV_BITPOS 0
                            10077 ; 869  |#define HW_ICLFORCE1R_S25FV_BITPOS 1
                            10078 ; 870  |#define HW_ICLFORCE1R_S26FV_BITPOS 2
                            10079 ; 871  |#define HW_ICLFORCE1R_S27FV_BITPOS 3
                            10080 ; 872  |#define HW_ICLFORCE1R_S28FV_BITPOS 4
                            10081 ; 873  |#define HW_ICLFORCE1R_S29FV_BITPOS 5
                            10082 ; 874  |#define HW_ICLFORCE1R_S30FV_BITPOS 6
                            10083 ; 875  |#define HW_ICLFORCE1R_S31FV_BITPOS 7
                            10084 ; 876  |#define HW_ICLFORCE1R_S32FV_BITPOS 8
                            10085 ; 877  |#define HW_ICLFORCE1R_S33FV_BITPOS 9
                            10086 ; 878  |
                            10087 ; 879  |#define HW_ICLFORCE1R_S24FV_SETMASK 1<<HW_ICLFORCE1R_S24FV_BITPOS
                            10088 ; 880  |#define HW_ICLFORCE1R_S25FV_SETMASK 1<<HW_ICLFORCE1R_S25FV_BITPOS
                            10089 ; 881  |#define HW_ICLFORCE1R_S26FV_SETMASK 1<<HW_ICLFORCE1R_S26FV_BITPOS
                            10090 ; 882  |#define HW_ICLFORCE1R_S27FV_SETMASK 1<<HW_ICLFORCE1R_S27FV_BITPOS
                            10091 ; 883  |#define HW_ICLFORCE1R_S28FV_SETMASK 1<<HW_ICLFORCE1R_S28FV_BITPOS
                            10092 ; 884  |#define HW_ICLFORCE1R_S29FV_SETMASK 1<<HW_ICLFORCE1R_S29FV_BITPOS
                            10093 ; 885  |#define HW_ICLFORCE1R_S30FV_SETMASK 1<<HW_ICLFORCE1R_S30FV_BITPOS
                            10094 ; 886  |#define HW_ICLFORCE1R_S31FV_SETMASK 1<<HW_ICLFORCE1R_S31FV_BITPOS
                            10095 ; 887  |#define HW_ICLFORCE1R_S32FV_SETMASK 1<<HW_ICLFORCE1R_S32FV_BITPOS
                            10096 ; 888  |#define HW_ICLFORCE1R_S33FV_SETMASK 1<<HW_ICLFORCE1R_S33FV_BITPOS
                            10097 ; 889  |
                            10098 ; 890  |#define HW_ICLFORCE1R_S24FV_CLRMASK ~(WORD)HW_ICLFORCE1R_S24FV_SETMASK
                            10099 ; 891  |#define HW_ICLFORCE1R_S25FV_CLRMASK ~(WORD)HW_ICLFORCE1R_S25FV_SETMASK
                            10100 ; 892  |#define HW_ICLFORCE1R_S26FV_CLRMASK ~(WORD)HW_ICLFORCE1R_S26FV_SETMASK
                            10101 ; 893  |#define HW_ICLFORCE1R_S27FV_CLRMASK ~(WORD)HW_ICLFORCE1R_S27FV_SETMASK
                            10102 ; 894  |#define HW_ICLFORCE1R_S28FV_CLRMASK ~(WORD)HW_ICLFORCE1R_S28FV_SETMASK
                            10103 ; 895  |#define HW_ICLFORCE1R_S29FV_CLRMASK ~(WORD)HW_ICLFORCE1R_S29FV_SETMASK
                            10104 ; 896  |#define HW_ICLFORCE1R_S30FV_CLRMASK ~(WORD)HW_ICLFORCE1R_S30FV_SETMASK
                            10105 ; 897  |#define HW_ICLFORCE1R_S31FV_CLRMASK ~(WORD)HW_ICLFORCE1R_S31FV_SETMASK
                            10106 ; 898  |#define HW_ICLFORCE1R_S32FV_CLRMASK ~(WORD)HW_ICLFORCE1R_S32FV_SETMASK
                            10107 ; 899  |#define HW_ICLFORCE1R_S33FV_CLRMASK ~(WORD)HW_ICLFORCE1R_S33FV_SETMASK
                            10108 ; 900  |
                            10109 ; 901  |
                            10110 ; 902  |/////////////////////////////////////////////////////////////////////////////////
                            10111 ; 903  |//  Interrupt Collector Force Enable 0 Register (HW_ICLFENABLE0R) Bit Positions
                            10112 ; 904  |typedef union               /* Interrupt Collector Force Enable 0 Register      */
                            10113 ; 905  |{
                            10114 ; 906  |    struct {
                            10115 ; 907  |        int S0FE        :1;
                            10116 ; 908  |        int S1FE        :1;
                            10117 ; 909  |        int S2FE        :1;
                            10118 ; 910  |        int S3FE        :1;
                            10119 ; 911  |        int S4FE        :1;
                            10120 ; 912  |        int S5FE        :1;
                            10121 ; 913  |        int S6FE        :1;
                            10122 ; 914  |        int S7FE        :1;
                            10123 ; 915  |        int S8FE        :1;
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 166

M:ADDR CODE           CYCLES LINE SOURCELINE
                            10124 ; 916  |        int S9FE        :1;
                            10125 ; 917  |        int S10FE       :1;
                            10126 ; 918  |        int S11FE       :1;
                            10127 ; 919  |        int S12FE       :1;
                            10128 ; 920  |        int S13FE       :1;
                            10129 ; 921  |        int S14FE       :1;
                            10130 ; 922  |        int S15FE       :1;
                            10131 ; 923  |        int S16FE       :1;
                            10132 ; 924  |        int S17FE       :1;
                            10133 ; 925  |        int S18FE       :1;
                            10134 ; 926  |        int S19FE       :1;
                            10135 ; 927  |        int S20FE       :1;
                            10136 ; 928  |        int S21FE       :1;
                            10137 ; 929  |        int S22FE       :1;
                            10138 ; 930  |        int S23FE       :1;
                            10139 ; 931  |    } B;
                            10140 ; 932  |    int I;
                            10141 ; 933  |} iclfenable0_type;
                            10142 ; 934  |#define HW_ICLFENABLE0R (*(volatile iclfenable0_type _X*) (HW_ICOLL_BASEADDR+13)) /* Inter
                                  rupt Collector Force Enable Register 0    */
                            10143 ; 935  |
                            10144 ; 936  |#define HW_ICLFENABLE0R_S0FE_BITPOS 0
                            10145 ; 937  |#define HW_ICLFENABLE0R_S1FE_BITPOS 1
                            10146 ; 938  |#define HW_ICLFENABLE0R_S2FE_BITPOS 2
                            10147 ; 939  |#define HW_ICLFENABLE0R_S3FE_BITPOS 3
                            10148 ; 940  |#define HW_ICLFENABLE0R_S4FE_BITPOS 4
                            10149 ; 941  |#define HW_ICLFENABLE0R_S5FE_BITPOS 5
                            10150 ; 942  |#define HW_ICLFENABLE0R_S6FE_BITPOS 6
                            10151 ; 943  |#define HW_ICLFENABLE0R_S7FE_BITPOS 7
                            10152 ; 944  |#define HW_ICLFENABLE0R_S8FE_BITPOS 8
                            10153 ; 945  |#define HW_ICLFENABLE0R_S9FE_BITPOS 9
                            10154 ; 946  |#define HW_ICLFENABLE0R_S10FE_BITPOS 10
                            10155 ; 947  |#define HW_ICLFENABLE0R_S11FE_BITPOS 11
                            10156 ; 948  |#define HW_ICLFENABLE0R_S12FE_BITPOS 12
                            10157 ; 949  |#define HW_ICLFENABLE0R_S13FE_BITPOS 13
                            10158 ; 950  |#define HW_ICLFENABLE0R_S14FE_BITPOS 14
                            10159 ; 951  |#define HW_ICLFENABLE0R_S15FE_BITPOS 15
                            10160 ; 952  |#define HW_ICLFENABLE0R_S16FE_BITPOS 16
                            10161 ; 953  |#define HW_ICLFENABLE0R_S17FE_BITPOS 17
                            10162 ; 954  |#define HW_ICLFENABLE0R_S18FE_BITPOS 18
                            10163 ; 955  |#define HW_ICLFENABLE0R_S19FE_BITPOS 19
                            10164 ; 956  |#define HW_ICLFENABLE0R_S20FE_BITPOS 20
                            10165 ; 957  |#define HW_ICLFENABLE0R_S21FE_BITPOS 21
                            10166 ; 958  |#define HW_ICLFENABLE0R_S22FE_BITPOS 22
                            10167 ; 959  |#define HW_ICLFENABLE0R_S23FE_BITPOS 23
                            10168 ; 960  |
                            10169 ; 961  |#define HW_ICLFENABLE0R_S0FE_SETMASK 1<<HW_ICLFENABLE0R_S0FE_BITPOS
                            10170 ; 962  |#define HW_ICLFENABLE0R_S1FE_SETMASK 1<<HW_ICLFENABLE0R_S1FE_BITPOS
                            10171 ; 963  |#define HW_ICLFENABLE0R_S2FE_SETMASK 1<<HW_ICLFENABLE0R_S2FE_BITPOS
                            10172 ; 964  |#define HW_ICLFENABLE0R_S3FE_SETMASK 1<<HW_ICLFENABLE0R_S3FE_BITPOS
                            10173 ; 965  |#define HW_ICLFENABLE0R_S4FE_SETMASK 1<<HW_ICLFENABLE0R_S4FE_BITPOS
                            10174 ; 966  |#define HW_ICLFENABLE0R_S5FE_SETMASK 1<<HW_ICLFENABLE0R_S5FE_BITPOS
                            10175 ; 967  |#define HW_ICLFENABLE0R_S6FE_SETMASK 1<<HW_ICLFENABLE0R_S6FE_BITPOS
                            10176 ; 968  |#define HW_ICLFENABLE0R_S7FE_SETMASK 1<<HW_ICLFENABLE0R_S7FE_BITPOS
                            10177 ; 969  |#define HW_ICLFENABLE0R_S8FE_SETMASK 1<<HW_ICLFENABLE0R_S8FE_BITPOS
                            10178 ; 970  |#define HW_ICLFENABLE0R_S9FE_SETMASK 1<<HW_ICLFENABLE0R_S9FE_BITPOS
                            10179 ; 971  |#define HW_ICLFENABLE0R_S10FE_SETMASK 1<<HW_ICLFENABLE0R_S10FE_BITPOS
                            10180 ; 972  |#define HW_ICLFENABLE0R_S11FE_SETMASK 1<<HW_ICLFENABLE0R_S11FE_BITPOS
                            10181 ; 973  |#define HW_ICLFENABLE0R_S12FE_SETMASK 1<<HW_ICLFENABLE0R_S12FE_BITPOS
                            10182 ; 974  |#define HW_ICLFENABLE0R_S13FE_SETMASK 1<<HW_ICLFENABLE0R_S13FE_BITPOS
                            10183 ; 975  |#define HW_ICLFENABLE0R_S14FE_SETMASK 1<<HW_ICLFENABLE0R_S14FE_BITPOS
                            10184 ; 976  |#define HW_ICLFENABLE0R_S15FE_SETMASK 1<<HW_ICLFENABLE0R_S15FE_BITPOS
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 167

M:ADDR CODE           CYCLES LINE SOURCELINE
                            10185 ; 977  |#define HW_ICLFENABLE0R_S16FE_SETMASK 1<<HW_ICLFENABLE0R_S16FE_BITPOS
                            10186 ; 978  |#define HW_ICLFENABLE0R_S17FE_SETMASK 1<<HW_ICLFENABLE0R_S17FE_BITPOS
                            10187 ; 979  |#define HW_ICLFENABLE0R_S18FE_SETMASK 1<<HW_ICLFENABLE0R_S18FE_BITPOS
                            10188 ; 980  |#define HW_ICLFENABLE0R_S19FE_SETMASK 1<<HW_ICLFENABLE0R_S19FE_BITPOS
                            10189 ; 981  |#define HW_ICLFENABLE0R_S20FE_SETMASK 1<<HW_ICLFENABLE0R_S20FE_BITPOS
                            10190 ; 982  |#define HW_ICLFENABLE0R_S21FE_SETMASK 1<<HW_ICLFENABLE0R_S21FE_BITPOS
                            10191 ; 983  |#define HW_ICLFENABLE0R_S22FE_SETMASK 1<<HW_ICLFENABLE0R_S22FE_BITPOS
                            10192 ; 984  |#define HW_ICLFENABLE0R_S23FE_SETMASK 1<<HW_ICLFENABLE0R_S23FE_BITPOS
                            10193 ; 985  |
                            10194 ; 986  |#define HW_ICLFENABLE0R_S0FE_CLRMASK ~(WORD)HW_ICLFENABLE0R_S0FE_SETMASK
                            10195 ; 987  |#define HW_ICLFENABLE0R_S1FE_CLRMASK ~(WORD)HW_ICLFENABLE0R_S1FE_SETMASK
                            10196 ; 988  |#define HW_ICLFENABLE0R_S2FE_CLRMASK ~(WORD)HW_ICLFENABLE0R_S2FE_SETMASK
                            10197 ; 989  |#define HW_ICLFENABLE0R_S3FE_CLRMASK ~(WORD)HW_ICLFENABLE0R_S3FE_SETMASK
                            10198 ; 990  |#define HW_ICLFENABLE0R_S4FE_CLRMASK ~(WORD)HW_ICLFENABLE0R_S4FE_SETMASK
                            10199 ; 991  |#define HW_ICLFENABLE0R_S5FE_CLRMASK ~(WORD)HW_ICLFENABLE0R_S5FE_SETMASK
                            10200 ; 992  |#define HW_ICLFENABLE0R_S6FE_CLRMASK ~(WORD)HW_ICLFENABLE0R_S6FE_SETMASK
                            10201 ; 993  |#define HW_ICLFENABLE0R_S7FE_CLRMASK ~(WORD)HW_ICLFENABLE0R_S7FE_SETMASK
                            10202 ; 994  |#define HW_ICLFENABLE0R_S8FE_CLRMASK ~(WORD)HW_ICLFENABLE0R_S8FE_SETMASK
                            10203 ; 995  |#define HW_ICLFENABLE0R_S9FE_CLRMASK ~(WORD)HW_ICLFENABLE0R_S9FE_SETMASK
                            10204 ; 996  |#define HW_ICLFENABLE0R_S10FE_CLRMASK ~(WORD)HW_ICLFENABLE0R_S10FE_SETMASK
                            10205 ; 997  |#define HW_ICLFENABLE0R_S11FE_CLRMASK ~(WORD)HW_ICLFENABLE0R_S11FE_SETMASK
                            10206 ; 998  |#define HW_ICLFENABLE0R_S12FE_CLRMASK ~(WORD)HW_ICLFENABLE0R_S12FE_SETMASK
                            10207 ; 999  |#define HW_ICLFENABLE0R_S13FE_CLRMASK ~(WORD)HW_ICLFENABLE0R_S13FE_SETMASK
                            10208 ; 1000 |#define HW_ICLFENABLE0R_S14FE_CLRMASK ~(WORD)HW_ICLFENABLE0R_S14FE_SETMASK
                            10209 ; 1001 |#define HW_ICLFENABLE0R_S15FE_CLRMASK ~(WORD)HW_ICLFENABLE0R_S15FE_SETMASK
                            10210 ; 1002 |#define HW_ICLFENABLE0R_S16FE_CLRMASK ~(WORD)HW_ICLFENABLE0R_S16FE_SETMASK
                            10211 ; 1003 |#define HW_ICLFENABLE0R_S17FE_CLRMASK ~(WORD)HW_ICLFENABLE0R_S17FE_SETMASK
                            10212 ; 1004 |#define HW_ICLFENABLE0R_S18FE_CLRMASK ~(WORD)HW_ICLFENABLE0R_S18FE_SETMASK
                            10213 ; 1005 |#define HW_ICLFENABLE0R_S19FE_CLRMASK ~(WORD)HW_ICLFENABLE0R_S19FE_SETMASK
                            10214 ; 1006 |#define HW_ICLFENABLE0R_S20FE_CLRMASK ~(WORD)HW_ICLFENABLE0R_S20FE_SETMASK
                            10215 ; 1007 |#define HW_ICLFENABLE0R_S21FE_CLRMASK ~(WORD)HW_ICLFENABLE0R_S21FE_SETMASK
                            10216 ; 1008 |#define HW_ICLFENABLE0R_S22FE_CLRMASK ~(WORD)HW_ICLFENABLE0R_S22FE_SETMASK
                            10217 ; 1009 |#define HW_ICLFENABLE0R_S23FE_CLRMASK ~(WORD)HW_ICLFENABLE0R_S23FE_SETMASK
                            10218 ; 1010 |
                            10219 ; 1011 |
                            10220 ; 1012 |/////////////////////////////////////////////////////////////////////////////////
                            10221 ; 1013 |//  Interrupt Collector Force Enable 1 Register (HW_ICLFENABLE1R) Bit Positions
                            10222 ; 1014 |typedef union               /* Interrupt Collector Force Enable 1 Register      */
                            10223 ; 1015 |{
                            10224 ; 1016 |    struct {
                            10225 ; 1017 |        int S24FE       :1;
                            10226 ; 1018 |        int S25FE       :1;
                            10227 ; 1019 |        int S26FE       :1;
                            10228 ; 1020 |        int S27FE       :1;
                            10229 ; 1021 |        int S28FE       :1;
                            10230 ; 1022 |        int S29FE       :1;
                            10231 ; 1023 |        int S30FE       :1;
                            10232 ; 1024 |        int S31FE       :1;
                            10233 ; 1025 |        int S32FE       :1;
                            10234 ; 1026 |        int S33FE       :1;
                            10235 ; 1027 |    } B;
                            10236 ; 1028 |    int I;
                            10237 ; 1029 |} iclfenable1_type;
                            10238 ; 1030 |#define HW_ICLFENABLE1R (*(volatile iclfenable1_type _X*) (HW_ICOLL_BASEADDR+14)) /* Inter
                                  rupt Collector Force Enable Register 1    */
                            10239 ; 1031 |#define HW_ICLFENABLE1R_S24FE_BITPOS 0
                            10240 ; 1032 |#define HW_ICLFENABLE1R_S25FE_BITPOS 1
                            10241 ; 1033 |#define HW_ICLFENABLE1R_S26FE_BITPOS 2
                            10242 ; 1034 |#define HW_ICLFENABLE1R_S27FE_BITPOS 3
                            10243 ; 1035 |#define HW_ICLFENABLE1R_S28FE_BITPOS 4
                            10244 ; 1036 |#define HW_ICLFENABLE1R_S29FE_BITPOS 5
                            10245 ; 1037 |#define HW_ICLFENABLE1R_S30FE_BITPOS 6
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 168

M:ADDR CODE           CYCLES LINE SOURCELINE
                            10246 ; 1038 |#define HW_ICLFENABLE1R_S31FE_BITPOS 7
                            10247 ; 1039 |#define HW_ICLFENABLE1R_S32FE_BITPOS 8
                            10248 ; 1040 |#define HW_ICLFENABLE1R_S33FE_BITPOS 9
                            10249 ; 1041 |
                            10250 ; 1042 |#define HW_ICLFENABLE1R_S24FE_SETMASK 1<<HW_ICLFENABLE1R_S24FE_BITPOS
                            10251 ; 1043 |#define HW_ICLFENABLE1R_S25FE_SETMASK 1<<HW_ICLFENABLE1R_S25FE_BITPOS
                            10252 ; 1044 |#define HW_ICLFENABLE1R_S26FE_SETMASK 1<<HW_ICLFENABLE1R_S26FE_BITPOS
                            10253 ; 1045 |#define HW_ICLFENABLE1R_S27FE_SETMASK 1<<HW_ICLFENABLE1R_S27FE_BITPOS
                            10254 ; 1046 |#define HW_ICLFENABLE1R_S28FE_SETMASK 1<<HW_ICLFENABLE1R_S28FE_BITPOS
                            10255 ; 1047 |#define HW_ICLFENABLE1R_S29FE_SETMASK 1<<HW_ICLFENABLE1R_S29FE_BITPOS
                            10256 ; 1048 |#define HW_ICLFENABLE1R_S30FE_SETMASK 1<<HW_ICLFENABLE1R_S30FE_BITPOS
                            10257 ; 1049 |#define HW_ICLFENABLE1R_S31FE_SETMASK 1<<HW_ICLFENABLE1R_S31FE_BITPOS
                            10258 ; 1050 |#define HW_ICLFENABLE1R_S32FE_SETMASK 1<<HW_ICLFENABLE1R_S32FE_BITPOS
                            10259 ; 1051 |#define HW_ICLFENABLE1R_S33FE_SETMASK 1<<HW_ICLFENABLE1R_S33FE_BITPOS
                            10260 ; 1052 |
                            10261 ; 1053 |#define HW_ICLFENABLE1R_S24FE_CLRMASK ~(WORD)HW_ICLFENABLE1R_S24FE_SETMASK
                            10262 ; 1054 |#define HW_ICLFENABLE1R_S25FE_CLRMASK ~(WORD)HW_ICLFENABLE1R_S25FE_SETMASK
                            10263 ; 1055 |#define HW_ICLFENABLE1R_S26FE_CLRMASK ~(WORD)HW_ICLFENABLE1R_S26FE_SETMASK
                            10264 ; 1056 |#define HW_ICLFENABLE1R_S27FE_CLRMASK ~(WORD)HW_ICLFENABLE1R_S27FE_SETMASK
                            10265 ; 1057 |#define HW_ICLFENABLE1R_S28FE_CLRMASK ~(WORD)HW_ICLFENABLE1R_S28FE_SETMASK
                            10266 ; 1058 |#define HW_ICLFENABLE1R_S29FE_CLRMASK ~(WORD)HW_ICLFENABLE1R_S29FE_SETMASK
                            10267 ; 1059 |#define HW_ICLFENABLE1R_S30FE_CLRMASK ~(WORD)HW_ICLFENABLE1R_S30FE_SETMASK
                            10268 ; 1060 |#define HW_ICLFENABLE1R_S31FE_CLRMASK ~(WORD)HW_ICLFENABLE1R_S31FE_SETMASK
                            10269 ; 1061 |#define HW_ICLFENABLE1R_S32FE_CLRMASK ~(WORD)HW_ICLFENABLE1R_S32FE_SETMASK
                            10270 ; 1062 |#define HW_ICLFENABLE1R_S33FE_CLRMASK ~(WORD)HW_ICLFENABLE1R_S33FE_SETMASK
                            10271 ; 1063 |
                            10272 ; 1064 |
                            10273 ; 1065 |/////////////////////////////////////////////////////////////////////////////////
                            10274 ; 1066 |//  Interrupt Collector Observation Register 0 Register (HW_ICLOBSVZ0R) Bit Positions
                            10275 ; 1067 |typedef union               /* Interrupt Collector Observation Register 0       */
                            10276 ; 1068 |{
                            10277 ; 1069 |    struct {
                            10278 ; 1070 |        unsigned RQ     :7;
                            10279 ; 1071 |        unsigned IVA    :7;
                            10280 ; 1072 |        unsigned IVB    :7;
                            10281 ; 1073 |    } B;
                            10282 ; 1074 |    int I;
                            10283 ; 1075 |} iclobsvz0_type;
                            10284 ; 1076 |#define HW_ICLOBSVZ0R   (*(volatile iclobsvz0_type _X*) (HW_ICOLL_BASEADDR+15)) /* Interru
                                  pt Collector Observation Register 0   */
                            10285 ; 1077 |
                            10286 ; 1078 |#define HW_ICLOBSVZ0R_RQ_BITPOS 0
                            10287 ; 1079 |#define HW_ICLOBSVZ0R_IVA_BITPOS 7
                            10288 ; 1080 |#define HW_ICLOBSVZ0R_IVB_BITPOS 14
                            10289 ; 1081 |
                            10290 ; 1082 |#define HW_ICLOBSVZ0R_RQ_SETMASK 0x3F<<HW_ICLOBSVZ0R_RQ_BITPOS
                            10291 ; 1083 |#define HW_ICLOBSVZ0R_IVA_SETMASK 0x3F<<HW_ICLOBSVZ0R_IVA_BITPOS
                            10292 ; 1084 |#define HW_ICLOBSVZ0R_IVB_SETMASK 0x3F<<HW_ICLOBSVZ0R_IVB_BITPOS
                            10293 ; 1085 |
                            10294 ; 1086 |#define HW_ICLOBSVZ0R_RQ_CLRMASK ~(WORD)HW_ICLOBSVZ0R_RQ_SETMASK
                            10295 ; 1087 |#define HW_ICLOBSVZ0R_IVA_CLRMASK ~(WORD)HW_ICLOBSVZ0R_IVA_SETMASK
                            10296 ; 1088 |#define HW_ICLOBSVZ0R_IVB_CLRMASK ~(WORD)HW_ICLOBSVZ0R_IVB_SETMASK
                            10297 ; 1089 |
                            10298 ; 1090 |
                            10299 ; 1091 |/////////////////////////////////////////////////////////////////////////////////
                            10300 ; 1092 |//  Interrupt Collector Observation Register 1 Register (HW_ICL1BSVZ0R) Bit Positions
                            10301 ; 1093 |#define HW_ICL1BSVZ0R_IVC_BITPOS 0
                            10302 ; 1094 |#define HW_ICL1BSVZ0R_IVD_BITPOS 7
                            10303 ; 1095 |
                            10304 ; 1096 |#define HW_ICL1BSVZ0R_IVC_SETMASK 0x3F<<HW_ICL1BSVZ0R_IVC_BITPOS
                            10305 ; 1097 |#define HW_ICL1BSVZ0R_IVD_SETMASK 0x3F<<HW_ICL1BSVZ0R_IVD_BITPOS
                            10306 ; 1098 |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 169

M:ADDR CODE           CYCLES LINE SOURCELINE
                            10307 ; 1099 |#define HW_ICL1BSVZ0R_IVC_CLRMASK ~(WORD)HW_ICL1BSVZ0R_IVC_SETMASK
                            10308 ; 1100 |#define HW_ICL1BSVZ0R_IVD_CLRMASK ~(WORD)HW_ICL1BSVZ0R_IVD_SETMASK
                            10309 ; 1101 |
                            10310 ; 1102 |
                            10311 ; 1103 |
                            10312 ; 1104 |
                            10313 ; 1105 |/////////////////////////////////////////////////////////////////////////////////
                            10314 ; 1106 |//  Interrupt Vectors
                            10315 ; 1107 |/////////////////////////////////////////////////////////////////////////////////
                            10316 ; 1108 |// Reset Vector
                            10317 ; 1109 |#define HW_IVECRESET 0x0000           
                            10318 ; 1110 |// Stack Error
                            10319 ; 1111 |#define HW_IVECSTERR 0x0002           
                            10320 ; 1112 |// Trace
                            10321 ; 1113 |#define HW_IVECTRAC 0x0004           
                            10322 ; 1114 |// SWI
                            10323 ; 1115 |#define HW_IVECSWI 0x0006           
                            10324 ; 1116 |// ~IRQA
                            10325 ; 1117 |#define HW_IVECIRQA 0x0008           
                            10326 ; 1118 |// ~IRQB - BROWNOUT
                            10327 ; 1119 |#define HW_IVECIRQB 0x000A           
                            10328 ; 1120 |// Fatal Error
                            10329 ; 1121 |#define HW_IVECERROR 0x000C           
                            10330 ; 1122 |// SPI
                            10331 ; 1123 |#define HW_IVECSPI 0x000E           
                            10332 ; 1124 |// I2S TX Data Empty
                            10333 ; 1125 |#define HW_IVECI2STXDE 0x0010           
                            10334 ; 1126 |// I2S TX Underflow
                            10335 ; 1127 |#define HW_IVECI2STXUF 0x0012           
                            10336 ; 1128 |// I2S RX Data Full
                            10337 ; 1129 |#define HW_IVECI2SRXDF 0x0014           
                            10338 ; 1130 |// I2S RX Overflow
                            10339 ; 1131 |#define HW_IVECI2SRXOF 0x0016           
                            10340 ; 1132 |//                                       equ     $0018           ; Error, nothing vectors 
                                  here
                            10341 ; 1133 |//                                       equ     $001A           ; Error, nothing vectors 
                                  here
                            10342 ; 1134 |//                                       equ     $001C           ; Error, nothing vectors 
                                  here
                            10343 ; 1135 |//                                       equ     $001E           ; Non-Maskable Interrupt
                            10344 ; 1136 |// GPIO1
                            10345 ; 1137 |#define HW_IVECGPIO1 0x0020           
                            10346 ; 1138 |// GPIO2
                            10347 ; 1139 |#define HW_IVECGPIO2 0x0022           
                            10348 ; 1140 |// GPIO0
                            10349 ; 1141 |#define HW_IVECGPIO0 0x0024           
                            10350 ; 1142 |// TIMER0
                            10351 ; 1143 |#define HW_IVECTIMER0 0x0026           
                            10352 ; 1144 |// TIMER1
                            10353 ; 1145 |#define HW_IVECTIMER1 0x0028           
                            10354 ; 1146 |// TIMER2
                            10355 ; 1147 |#define HW_IVECTIMER2 0x002A           
                            10356 ; 1148 |//                                       equ     $002C           ; Error, nothing vectors 
                                  here
                            10357 ; 1149 |//                                       equ     $002E           ; Error, nothing vectors 
                                  here
                            10358 ; 1150 |// I2C RX Data Ready
                            10359 ; 1151 |#define HW_IVECI2CRXDR 0x0030           
                            10360 ; 1152 |// I2C RX Overflow
                            10361 ; 1153 |#define HW_IVECI2CRXOF 0x0032           
                            10362 ; 1154 |// I2C TX Data Empty
                            10363 ; 1155 |#define HW_IVECI2CTXDE 0x0034           
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 170

M:ADDR CODE           CYCLES LINE SOURCELINE
                            10364 ; 1156 |// I2C TX Underflow
                            10365 ; 1157 |#define HW_IVECI2CTXUF 0x0036           
                            10366 ; 1158 |// Illegal Instruction
                            10367 ; 1159 |#define HW_IVECILI 0x0038           
                            10368 ; 1160 |//                                       equ     $003A           ; Error, nothing vectors 
                                  here
                            10369 ; 1161 |// DAC Empty ISR (DAC Request to Fill Buffer)
                            10370 ; 1162 |#define HW_IVECDACE 0x003C           
                            10371 ; 1163 |// DAC Underflow ISR
                            10372 ; 1164 |#define HW_IVECDACUF 0x003E           
                            10373 ; 1165 |//                                       equ     $0040           ; Error, nothing vectors 
                                  here
                            10374 ; 1166 |// ADC Full ISR
                            10375 ; 1167 |#define HW_IVECADCF 0x0042           
                            10376 ; 1168 |// ADC Overflow ISR
                            10377 ; 1169 |#define HW_IVECADCOF 0x0044           
                            10378 ; 1170 |//                                       equ     $0046           ; Error, nothing vectors 
                                  here
                            10379 ; 1171 |// TIMER3
                            10380 ; 1172 |#define HW_IVECTIMER3 0x0048           
                            10381 ; 1173 |// GPIO3
                            10382 ; 1174 |#define HW_IVECGPIO3 0x004A           
                            10383 ; 1175 |// SDRAM
                            10384 ; 1176 |#define HW_IVECSDRAM 0x004C           
                            10385 ; 1177 |//                                       equ     $004E           ; Error, nothing vectors 
                                  here
                            10386 ; 1178 |// 5 volt power connected
                            10387 ; 1179 |#define HW_IVECVDD5VCONN 0x0050           
                            10388 ; 1180 |// USB Controller
                            10389 ; 1181 |#define HW_IVECUSBCTLR 0x0052           
                            10390 ; 1182 |// USB Wakeup 
                            10391 ; 1183 |#define HW_IVECUSBWAKEUP 0x0054           
                            10392 ; 1184 |// 5 volt power disconnected
                            10393 ; 1185 |#define HW_IVECVDD5VDISC 0x0056           
                            10394 ; 1186 |// enhanced SPI
                            10395 ; 1187 |#define HW_IVECESPI 0x0058           
                            10396 ; 1188 |// filter coprocessor
                            10397 ; 1189 |#define HW_IVECFILCO 0x005A           
                            10398 ; 1190 |// low res ADC #1
                            10399 ; 1191 |#define HW_IVECLRADC1 0x005C           
                            10400 ; 1192 |// real time clock alarm
                            10401 ; 1193 |#define HW_IVECRTCALARM 0x005E           
                            10402 ; 1194 |// low res ADC #2
                            10403 ; 1195 |#define HW_IVECLRADC2 0x0060           
                            10404 ; 1196 |// flash hardware ECC
                            10405 ; 1197 |#define HW_IVECHWECC 0x0062           
                            10406 ; 1198 |//                                       equ     $0064           ; Error, nothing vectors 
                                  here
                            10407 ; 1199 |// CDSYNC Interrupt
                            10408 ; 1200 |#define HW_IVECCDSYNC 0x0066           
                            10409 ; 1201 |// CDSYNC Exception
                            10410 ; 1202 |#define HW_IVECCDSYNCEX 0x0068           
                            10411 ; 1203 |// RS
                            10412 ; 1204 |#define HW_IVECRS 0x006A           
                            10413 ; 1205 |//                                       equ     $006C           ; Error, nothing vectors 
                                  here
                            10414 ; 1206 |// Flash Done ISR
                            10415 ; 1207 |#define HW_IVECFD 0x006E           
                            10416 ; 1208 |// CompactFlash ISR
                            10417 ; 1209 |#define HW_IVECCF 0x0070           
                            10418 ; 1210 |// SmartMedia Timeout ISR
                            10419 ; 1211 |#define HW_IVECSMTO 0x0072           
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 171

M:ADDR CODE           CYCLES LINE SOURCELINE
                            10420 ; 1212 |// SmartMedia Invalid Programming
                            10421 ; 1213 |#define HW_IVECSMIP 0x0074           
                            10422 ; 1214 |// CompactFlash No Card ISR
                            10423 ; 1215 |#define HW_IVECCFNC 0x0076           
                            10424 ; 1216 |// CompactFlash Status Change ISR
                            10425 ; 1217 |#define HW_IVECCFSC 0x0078           
                            10426 ; 1218 |//                                       equ     $007A           ; Error, nothing vectors 
                                  here
                            10427 ; 1219 |//                                       equ     $007C           ; Error, nothing vectors 
                                  here
                            10428 ; 1220 |// CDI
                            10429 ; 1221 |#define HW_IVECCDI 0x007E           
                            10430 ; 1222 |
                            10431 ; 1223 |/////////////////////////////////////////////////////////////////////////////////
                            10432 ; 1224 |//  Interrupt Vectors
                            10433 ; 1225 |/////////////////////////////////////////////////////////////////////////////////
                            10434 ; 1226 |// macro to allow setting vectors from C. Hex const below is jsr opcode.
                            10435 ; 1227 |#define VECTOR(address,isr) \ 
                            10436 ; 1228 |    (*(volatile int _P *)(address))=0x0BF080; \ 
                            10437 ; 1229 |    (*(volatile int _P *)(address+1))=(isr)
                            10438 ; 1230 |
                            10439 ; 1231 |
                            10440 ; 1232 |/////////////////////////////////////////////////////////////////////////////////
                            10441 ; 1233 |//  Interrupt Priority Register (HW_IPR) Bit Positions
                            10442 ; 1234 |#define HW_IPR_IRQA_BITPOS 0
                            10443 ; 1235 |#define HW_IPR_IRQA_ET_BITPOS 2
                            10444 ; 1236 |#define HW_IPR_IRQB_BITPOS 3
                            10445 ; 1237 |#define HW_IPR_IRQB_ET_BITPOS 5
                            10446 ; 1238 |#define HW_IPR_L0P_BITPOS 10
                            10447 ; 1239 |#define HW_IPR_L1P_BITPOS 12
                            10448 ; 1240 |#define HW_IPR_L2P_BITPOS 14
                            10449 ; 1241 |#define HW_IPR_L3P_BITPOS 16
                            10450 ; 1242 |#define HW_IPR_L4P_BITPOS 18
                            10451 ; 1243 |#define HW_IPR_L5P_BITPOS 20
                            10452 ; 1244 |#define HW_IPR_L6P_BITPOS 22
                            10453 ; 1245 |
                            10454 ; 1246 |// Interrupt Disabled
                            10455 ; 1247 |#define HW_IPR_LP_0_SETMASK 0   
                            10456 ; 1248 |// Interrupt Priority Level 0
                            10457 ; 1249 |#define HW_IPR_LP_1_SETMASK 1   
                            10458 ; 1250 |// Interrupt Priority Level 1
                            10459 ; 1251 |#define HW_IPR_LP_2_SETMASK 2   
                            10460 ; 1252 |// Interrupt Priority Level 2
                            10461 ; 1253 |#define HW_IPR_LP_3_SETMASK 3   
                            10462 ; 1254 |
                            10463 ; 1255 |#define HW_IPR_IRQA_SETMASK 3<<HW_IPR_IRQA_BITPOS
                            10464 ; 1256 |#define HW_IPR_IRQA_ET_SETMASK 1<<HW_IPR_IRQA_ET_BITPOS
                            10465 ; 1257 |#define HW_IPR_IRQB_SETMASK 3<<HW_IPR_IRQB_BITPOS
                            10466 ; 1258 |#define HW_IPR_IRQB_ET_SETMASK 1<<HW_IPR_IRQB_ET_BITPOS
                            10467 ; 1259 |#define HW_IPR_L0P_SETMASK 3<<HW_IPR_L0P_BITPOS
                            10468 ; 1260 |#define HW_IPR_L1P_SETMASK 3<<HW_IPR_L1P_BITPOS
                            10469 ; 1261 |#define HW_IPR_L2P_SETMASK 3<<HW_IPR_L2P_BITPOS
                            10470 ; 1262 |#define HW_IPR_L3P_SETMASK 3<<HW_IPR_L3P_BITPOS
                            10471 ; 1263 |#define HW_IPR_L4P_SETMASK 3<<HW_IPR_L4P_BITPOS
                            10472 ; 1264 |#define HW_IPR_L5P_SETMASK 3<<HW_IPR_L5P_BITPOS
                            10473 ; 1265 |#define HW_IPR_L6P_SETMASK 3<<HW_IPR_L6P_BITPOS
                            10474 ; 1266 |
                            10475 ; 1267 |#define HW_IPR_IRQA_CLRMASK ~(WORD)HW_IPR_IRQA_SETMASK
                            10476 ; 1268 |#define HW_IPR_IRQA_ET_CLRMASK ~(WORD)HW_IPR_IRQA_ET_SETMASK
                            10477 ; 1269 |#define HW_IPR_IRQB_CLRMASK ~(WORD)HW_IPR_IRQB_SETMASK
                            10478 ; 1270 |#define HW_IPR_IRQB_ET_CLRMASK ~(WORD)HW_IPR_IRQB_ET_SETMASK
                            10479 ; 1271 |#define HW_IPR_L0P_CLRMASK ~(WORD)HW_IPR_L0P_SETMASK
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 172

M:ADDR CODE           CYCLES LINE SOURCELINE
                            10480 ; 1272 |#define HW_IPR_L1P_CLRMASK ~(WORD)HW_IPR_L1P_SETMASK
                            10481 ; 1273 |#define HW_IPR_L2P_CLRMASK ~(WORD)HW_IPR_L2P_SETMASK
                            10482 ; 1274 |#define HW_IPR_L3P_CLRMASK ~(WORD)HW_IPR_L3P_SETMASK
                            10483 ; 1275 |#define HW_IPR_L4P_CLRMASK ~(WORD)HW_IPR_L4P_SETMASK
                            10484 ; 1276 |#define HW_IPR_L5P_CLRMASK ~(WORD)HW_IPR_L5P_SETMASK
                            10485 ; 1277 |#define HW_IPR_L6P_CLRMASK ~(WORD)HW_IPR_L6P_SETMASK
                            10486 ; 1278 |
                            10487 ; 1279 |// Interrupt Priority register
                            10488 ; 1280 |typedef union               
                            10489 ; 1281 |{
                            10490 ; 1282 |    struct {
                            10491 ; 1283 |        unsigned int IRQAP  :2; /* IRQ A Priority: 00 disable, 01 10 11 enable  */
                            10492 ; 1284 |        unsigned int IRQAT  :1; /* IRQ A Type: 0 level, 1 negative edge         */
                            10493 ; 1285 |        unsigned int IRQBP  :2; /* IRQ B Priority: 00 disable, 01 10 11 enable  */
                            10494 ; 1286 |        unsigned int IRQBT  :1; /* IRQ B Type: 0 level, 1 negative edge.        */
                            10495 ; 1287 |        int                 :4; /* Reserved */
                            10496 ; 1288 |        unsigned int L0P    :2; /* Interrupt Priority for priority 0 (SAI)      */
                            10497 ; 1289 |        unsigned int L1P    :2; /* Interrupt Priority for priority 1 (IColl)    */
                            10498 ; 1290 |        unsigned int L2P    :2; /* Interrupt Priority for priority 2 (IColl)    */
                            10499 ; 1291 |        unsigned int L3P    :2; /* Interrupt Priority for priority 3 (IColl)    */
                            10500 ; 1292 |        unsigned int L4P    :2; /* Interrupt Priority for priority 4 (I2C)      */
                            10501 ; 1293 |        unsigned int L5P    :2; /* Interrupt Priority for priority 5 (SPI)      */
                            10502 ; 1294 |        unsigned int L6P    :2; /* Interrupt Priority for priority 6 (IColl)    */
                            10503 ; 1295 |    } B;
                            10504 ; 1296 |
                            10505 ; 1297 |    int I;
                            10506 ; 1298 |
                            10507 ; 1299 |} ipr_type;
                            10508 ; 1300 |#define HW_IPR         (*(volatile ipr_type _X*) 0x00FFFF)
                            10509 ; 1301 |
                            10510 ; 1302 |//*********************  REGISTER ALIAS DEFINES TO MATCH LEGACY CODE *********************
                                  **********
                            10511 ; 1303 |// The following defines were added to match regs3410.inc definition to build SDK2XXX code
                                   without needing 
                            10512 ; 1304 |// to update the actual files. Only the defines needed to build SDK2.400 were added.
                            10513 ; 1305 |
                            10514 ; 1306 |#define HW_IPR_L1P0_BITPOS 12
                            10515 ; 1307 |#define HW_IPR_L2P0_BITPOS 14
                            10516 ; 1308 |#define HW_IPR_L3P0_BITPOS 16
                            10517 ; 1309 |#define HW_IPR_L6P0_BITPOS 22
                            10518 ; 1310 |
                            10519 ; 1311 |/////////////////////////////////////////////////////////////////////////////////
                            10520 ; 1312 |//  Interrupt Collector Steering 0 Register (HW_ICLSTEER0R) Bit Positions
                            10521 ; 1313 |#define HW_ICLSTEERR_SS_1 0
                            10522 ; 1314 |#define HW_ICLSTEERR_SS_2 1
                            10523 ; 1315 |#define HW_ICLSTEERR_SS_3 2
                            10524 ; 1316 |#define HW_ICLSTEERR_SS_6 3
                            10525 ; 1317 |
                            10526 ; 1318 |#endif
                            10527 ; 1319 |
                            10528 
                            10530 
                            10531 ; 26   |#include "regslradc.h"
                            10532 
                            10534 
                            10535 ; 1    |#if !(defined(regslradcinc))
                            10536 ; 2    |
                            10537 ; 3    |#define regslradcinc 1
                            10538 ; 4    |
                            10539 ; 5    |#include "types.h"
                            10540 
                            10542 
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 173

M:ADDR CODE           CYCLES LINE SOURCELINE
                            10543 ; 1    |////////////////////////////////////////////////////////////////////////////////
                            10544 ; 2    |// Copyright(C) SigmaTel, Inc. 2000-2004
                            10545 ; 3    |//
                            10546 ; 4    |// Filename: types.h
                            10547 ; 5    |// Description: Standard data types
                            10548 ; 6    |////////////////////////////////////////////////////////////////////////////////
                            10549 ; 7    |
                            10550 ; 8    |#ifndef _TYPES_H
                            10551 ; 9    |#define _TYPES_H
                            10552 ; 10   |
                            10553 ; 11   |// TODO:  move this outta here!
                            10554 ; 12   |#if !defined(NOERROR)
                            10555 ; 13   |#define NOERROR 0
                            10556 ; 14   |#define SUCCESS 0
                            10557 ; 15   |#endif 
                            10558 ; 16   |#if !defined(SUCCESS)
                            10559 ; 17   |#define SUCCESS  0
                            10560 ; 18   |#endif
                            10561 ; 19   |#if !defined(ERROR)
                            10562 ; 20   |#define ERROR   -1
                            10563 ; 21   |#endif
                            10564 ; 22   |#if !defined(FALSE)
                            10565 ; 23   |#define FALSE 0
                            10566 ; 24   |#endif
                            10567 ; 25   |#if !defined(TRUE)
                            10568 ; 26   |#define TRUE  1
                            10569 ; 27   |#endif
                            10570 ; 28   |
                            10571 ; 29   |#if !defined(NULL)
                            10572 ; 30   |#define NULL 0
                            10573 ; 31   |#endif
                            10574 ; 32   |
                            10575 ; 33   |#define MAX_INT     0x7FFFFF
                            10576 ; 34   |#define MAX_LONG    0x7FFFFFffffff
                            10577 ; 35   |        // max positive unsigned long value: -1 == 0xFFFFFFffffff
                            10578 ; 36   |#define MAX_ULONG   (-1) 
                            10579 ; 37   |
                            10580 ; 38   |#define WORD_SIZE   24              // word size in bits
                            10581 ; 39   |#define BYTES_PER_WORD 3            // 8 bit bytes
                            10582 ; 40   |
                            10583 ; 41   |
                            10584 ; 42   |#define BYTE    unsigned char       // btVarName
                            10585 ; 43   |#define CHAR    signed char         // cVarName
                            10586 ; 44   |#define USHORT  unsigned short      // usVarName
                            10587 ; 45   |#define SHORT   unsigned short      // sVarName
                            10588 ; 46   |#define WORD    unsigned int        // wVarName
                            10589 ; 47   |#define INT     signed int          // iVarName
                            10590 ; 48   |#define DWORD   unsigned long       // dwVarName
                            10591 ; 49   |#define LONG    signed long         // lVarName
                            10592 ; 50   |#define BOOL    unsigned int        // bVarName
                            10593 ; 51   |#define FRACT   _fract              // frVarName
                            10594 ; 52   |#define LFRACT  long _fract         // lfrVarName
                            10595 ; 53   |#define CIRC    _circ               // cp<type prefix>VarName (see below)
                            10596 ; 54   |#define FLOAT   float               // fVarName
                            10597 ; 55   |#define DBL     double              // dVarName
                            10598 ; 56   |#define ENUM    enum                // eVarName
                            10599 ; 57   |#define CMX     _complex            // cmxVarName
                            10600 ; 58   |typedef WORD UCS3;                   // 
                            10601 ; 59   |
                            10602 ; 60   |#define UINT16  unsigned short
                            10603 ; 61   |#define UINT8   unsigned char   
                            10604 ; 62   |#define UINT32  unsigned long
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 174

M:ADDR CODE           CYCLES LINE SOURCELINE
                            10605 ; 63   |#define UINT64  unsigned long   // need to figure out how to do 64 bit values.  Or port ex
                                  isiting code to only use 48 bit
                            10606 ; 64   |#define INT64   unsigned long   // need to figure out how to do 64 bit values.  Or port ex
                                  isiting code to only use 48 bit
                            10607 ; 65   |#define WCHAR   UINT16
                            10608 ; 66   |
                            10609 ; 67   |//UINT128 is 16 bytes or 6 words
                            10610 ; 68   |typedef struct UINT128_3500 {   
                            10611 ; 69   |    int val[6];     
                            10612 ; 70   |} UINT128_3500;
                            10613 ; 71   |
                            10614 ; 72   |#define UINT128   UINT128_3500
                            10615 ; 73   |
                            10616 ; 74   |// Little endian word packed byte strings:   
                            10617 ; 75   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                            10618 ; 76   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                            10619 ; 77   |// Little endian word packed byte strings:   
                            10620 ; 78   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                            10621 ; 79   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                            10622 ; 80   |
                            10623 ; 81   |// Declare Memory Spaces To Use When Coding
                            10624 ; 82   |// A. Sector Buffers
                            10625 ; 83   |#define SECTOR_BUFFER_MEM_X _X
                            10626 ; 84   |#define SECTOR_BUFFER_MEM_Y _Y
                            10627 ; 85   |#define SECTOR_BUFFER_MEM SECTOR_BUFFER_MEM_X
                            10628 ; 86   |typedef WORD SECTOR_BUFFER_MEM SECTOR_BUFFER;
                            10629 ; 87   |typedef SECTOR_BUFFER * P_SECTOR_BUFFER;
                            10630 ; 88   |// B. Media DDI Memory
                            10631 ; 89   |#define MEDIA_DDI_MEM _Y
                            10632 ; 90   |
                            10633 ; 91   |
                            10634 ; 92   |
                            10635 ; 93   |// Pointers to linear structures are labeled as: p<type prefix>VarName
                            10636 ; 94   |// Examples of circular pointers:
                            10637 ; 95   |//    INT CIRC cpiVarName
                            10638 ; 96   |//    DWORD CIRC cpdwVarName
                            10639 ; 97   |
                            10640 ; 98   |#define RETCODE INT                 // rcVarName
                            10641 ; 99   |
                            10642 ; 100  |// generic bitfield structure
                            10643 ; 101  |struct Bitfield {
                            10644 ; 102  |    unsigned int B0  :1;
                            10645 ; 103  |    unsigned int B1  :1;
                            10646 ; 104  |    unsigned int B2  :1;
                            10647 ; 105  |    unsigned int B3  :1;
                            10648 ; 106  |    unsigned int B4  :1;
                            10649 ; 107  |    unsigned int B5  :1;
                            10650 ; 108  |    unsigned int B6  :1;
                            10651 ; 109  |    unsigned int B7  :1;
                            10652 ; 110  |    unsigned int B8  :1;
                            10653 ; 111  |    unsigned int B9  :1;
                            10654 ; 112  |    unsigned int B10 :1;
                            10655 ; 113  |    unsigned int B11 :1;
                            10656 ; 114  |    unsigned int B12 :1;
                            10657 ; 115  |    unsigned int B13 :1;
                            10658 ; 116  |    unsigned int B14 :1;
                            10659 ; 117  |    unsigned int B15 :1;
                            10660 ; 118  |    unsigned int B16 :1;
                            10661 ; 119  |    unsigned int B17 :1;
                            10662 ; 120  |    unsigned int B18 :1;
                            10663 ; 121  |    unsigned int B19 :1;
                            10664 ; 122  |    unsigned int B20 :1;
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 175

M:ADDR CODE           CYCLES LINE SOURCELINE
                            10665 ; 123  |    unsigned int B21 :1;
                            10666 ; 124  |    unsigned int B22 :1;
                            10667 ; 125  |    unsigned int B23 :1;
                            10668 ; 126  |};
                            10669 ; 127  |
                            10670 ; 128  |union BitInt {
                            10671 ; 129  |        struct Bitfield B;
                            10672 ; 130  |        int        I;
                            10673 ; 131  |};
                            10674 ; 132  |
                            10675 ; 133  |#define MAX_MSG_LENGTH 10
                            10676 ; 134  |struct CMessage
                            10677 ; 135  |{
                            10678 ; 136  |        unsigned int m_uLength;
                            10679 ; 137  |        unsigned int m_uMsg[MAX_MSG_LENGTH];
                            10680 ; 138  |};
                            10681 ; 139  |
                            10682 ; 140  |typedef struct {
                            10683 ; 141  |    WORD m_wLength;
                            10684 ; 142  |    WORD m_wMessage;
                            10685 ; 143  |    WORD m_wParams[MAX_MSG_LENGTH];
                            10686 ; 144  |} Message;
                            10687 ; 145  |
                            10688 ; 146  |struct MessageQueueDescriptor
                            10689 ; 147  |{
                            10690 ; 148  |        int *m_pBase;
                            10691 ; 149  |        int m_iModulo;
                            10692 ; 150  |        int m_iSize;
                            10693 ; 151  |        int *m_pHead;
                            10694 ; 152  |        int *m_pTail;
                            10695 ; 153  |};
                            10696 ; 154  |
                            10697 ; 155  |struct ModuleEntry
                            10698 ; 156  |{
                            10699 ; 157  |    int m_iSignaledEventMask;
                            10700 ; 158  |    int m_iWaitEventMask;
                            10701 ; 159  |    int m_iResourceOfCode;
                            10702 ; 160  |    struct MessageQueueDescriptor *m_pMessageQueue;
                            10703 ; 161  |    int _asmfunc (*m_pProcessEntryPoint)(union WaitMask Signals,struct MessageQueueDescrip
                                  tor *);
                            10704 ; 162  |    int _asmfunc (*m_pInitFunction)(struct MessageQueueDescriptor *);
                            10705 ; 163  |    int m_uTimeOutHigh;
                            10706 ; 164  |    int m_uTimeOutLow;
                            10707 ; 165  |    int _asmfunc (*m_pBackgroundFunction)(struct MessageQueueDescriptor *);
                            10708 ; 166  |};
                            10709 ; 167  |
                            10710 ; 168  |union WaitMask{
                            10711 ; 169  |    struct B{
                            10712 ; 170  |        unsigned int m_bNone     :1;
                            10713 ; 171  |        unsigned int m_bMessage  :1;
                            10714 ; 172  |        unsigned int m_bTimer    :1;
                            10715 ; 173  |        unsigned int m_bButton   :1;
                            10716 ; 174  |    } B;
                            10717 ; 175  |    int I;
                            10718 ; 176  |} ;
                            10719 ; 177  |
                            10720 ; 178  |
                            10721 ; 179  |struct Button {
                            10722 ; 180  |        WORD wButtonEvent;
                            10723 ; 181  |        WORD wUnused[MAX_MSG_LENGTH];   
                            10724 ; 182  |};
                            10725 ; 183  |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 176

M:ADDR CODE           CYCLES LINE SOURCELINE
                            10726 ; 184  |struct Message {
                            10727 ; 185  |        WORD wMsgLength;
                            10728 ; 186  |        WORD wMsgCommand;
                            10729 ; 187  |        WORD wMsgParms[MAX_MSG_LENGTH-1];
                            10730 ; 188  |};
                            10731 ; 189  |
                            10732 ; 190  |union EventTypes {
                            10733 ; 191  |        struct CMessage msg;
                            10734 ; 192  |        struct Button Button ;
                            10735 ; 193  |        struct Message Message;
                            10736 ; 194  |};
                            10737 ; 195  |
                            10738 ; 196  |// next 2 used to get updater build to return correct protocol ver in scsi response.
                            10739 ; 197  |#define BUILD_TYPE_UPDATER  0x100
                            10740 ; 198  |#define BUILD_TYPE_HOSTLINK 0x101
                            10741 ; 199  |#define BUILD_TYPE_PLAYER   0x102
                            10742 ; 200  |
                            10743 ; 201  |// Resets part if RETAIL build. DEBUG build executes debug instruction to halt.
                            10744 ; 202  |#define SystemHalt() __asm(" include 'sysmacro.asm' \n error") 
                            10745 ; 203  |#define assert(x)    if(!(x)) __asm(" include 'sysmacro.asm' \n error")
                            10746 ; 204  |
                            10747 ; 205  |#if DEBUG
                            10748 ; 206  |// For DEBUG builds, DebugBuildAssert(condition) halts if condition evaluates to FALSE. 
                            10749 ; 207  |#define DebugBuildAssert(x)    if(!(x)) __asm(" debug ")
                            10750 ; 208  |#else 
                            10751 ; 209  |// For RETAIL builds, DebugBuildAssert(condition) does nothing & execution continues rathe
                                  r than halt or reset. 
                            10752 ; 210  |#define DebugBuildAssert(x)    
                            10753 ; 211  |#endif
                            10754 ; 212  |
                            10755 ; 213  |// Do this in your C files to make a reminder that's displayed during the build.
                            10756 ; 214  |//  #pragma asm
                            10757 ; 215  |//  WARN 'Note to builder: reminder to do this after verifying that'
                            10758 ; 216  |//  #pragma endasm
                            10759 ; 217  |
                            10760 ; 218  |
                            10761 ; 219  |#ifdef COLOR_262K
                            10762 ; 220  |#define RGB(r,g,b)    ((0x0000FC & (r)) << 10) | ((0x0000FC & (g)) << 4) | ((0x0000FC & (b
                                  )) >> 2)    //262k
                            10763 ; 221  |#elif defined(COLOR_65K)
                            10764 ; 222  |#define RGB(r,g,b)    ((0x0000F8 & (r)) << 8) | ((0x0000FC & (g)) << 3) | ((0x0000F8 & (b)
                                  ) >> 3)  //65k
                            10765 ; 223  |#else
                            10766 ; 224  |#define RGB(r,g,b)       ((0x0000F0 & (r)) << 4) | (0x0000F0 & (g)) | ((0x0000F0 & (b)) >>
                                   4)
                            10767 ; 225  |#endif
                            10768 ; 226  |    
                            10769 ; 227  |#endif // #ifndef _TYPES_H
                            10770 
                            10772 
                            10773 ; 6    |//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                            10774 ; 7    |
                            10775 ; 8    |//   SYSTEM STMP Registers 
                            10776 ; 9    |//  Last Edited 6.26.2003 M. Henson
                            10777 ; 10   |//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                            10778 ; 11   |
                            10779 ; 12   |#define HW_LRADC_BASEADDR (0xFA20)
                            10780 ; 13   |
                            10781 ; 14   |
                            10782 ; 15   |
                            10783 ; 16   |/////////////////////////////////////////////////////////////////////////////////
                            10784 ; 17   |//  Battery LRADC Control Register (HW_BATT_CTRL) Bit Definitions
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 177

M:ADDR CODE           CYCLES LINE SOURCELINE
                            10785 ; 18   |#define HW_BATT_CTRL_INPUT_OFFSET_WIDTH (7)
                            10786 ; 19   |#define HW_BATT_CTRL_RSVD0_WIDTH (1)
                            10787 ; 20   |#define HW_BATT_CTRL_HALF_CMP_PWR_WIDTH (1)
                            10788 ; 21   |#define HW_BATT_CTRL_INPUT_DIV2_WIDTH (1)
                            10789 ; 22   |#define HW_BATT_CTRL_CLEAR_WIDTH (1)
                            10790 ; 23   |#define HW_BATT_CTRL_PWD_WIDTH (1)
                            10791 ; 24   |#define HW_BATT_CTRL_CLK_DIV_WIDTH (2)
                            10792 ; 25   |#define HW_BATT_CTRL_RSVD1_WIDTH (2)
                            10793 ; 26   |#define HW_BATT_CTRL_REF_VAL_WIDTH (2)
                            10794 ; 27   |#define HW_BATT_CTRL_RSVD2_WIDTH (2)
                            10795 ; 28   |#define HW_BATT_CTRL_IRQ_EN_EVENT0_WIDTH (1)
                            10796 ; 29   |#define HW_BATT_CTRL_IRQ_EN_EVENT1_WIDTH (1)
                            10797 ; 30   |#define HW_BATT_CTRL_POLARITY_EVENT0_WIDTH (1)
                            10798 ; 31   |#define HW_BATT_CTRL_POLARITY_EVENT1_WIDTH (1)
                            10799 ; 32   |
                            10800 ; 33   |#define HW_BATT_CTRL_INPUT_OFFSET_BITPOS (0)
                            10801 ; 34   |#define HW_BATT_CTRL_HALF_CMP_PWR_BITPOS (8)
                            10802 ; 35   |#define HW_BATT_CTRL_INPUT_DIV2_BITPOS (9)
                            10803 ; 36   |#define HW_BATT_CTRL_CLEAR_BITPOS (10)
                            10804 ; 37   |#define HW_BATT_CTRL_PWD_BITPOS (11)
                            10805 ; 38   |#define HW_BATT_CTRL_CLK_DIV_BITPOS (12)
                            10806 ; 39   |#define HW_BATT_CTRL_REF_VAL_BITPOS (16)
                            10807 ; 40   |
                            10808 ; 41   |#define HW_BATT_CTRL_INPUT_OFFSET_SETMASK (((1<<HW_BATT_CTRL_INPUT_OFFSET_WIDTH)-1)<<HW_BA
                                  TT_CTRL_INPUT_OFFSET_BITPOS)        
                            10809 ; 42   |#define HW_BATT_CTRL_HALF_CMP_PWR_SETMASK (((1<<HW_BATT_CTRL_HALF_CMP_PWR_WIDTH)-1)<<HW_BA
                                  TT_CTRL_HALF_CMP_PWR_BITPOS)        
                            10810 ; 43   |#define HW_BATT_CTRL_INPUT_DIV2_SETMASK (((1<<HW_BATT_CTRL_INPUT_DIV2_WIDTH)-1)<<HW_BATT_C
                                  TRL_INPUT_DIV2_BITPOS) 
                            10811 ; 44   |#define HW_BATT_CTRL_CLEAR_SETMASK (((1<<HW_BATT_CTRL_CLEAR_WIDTH)-1)<<HW_BATT_CTRL_CLEAR_
                                  BITPOS) 
                            10812 ; 45   |#define HW_BATT_CTRL_PWD_SETMASK (((1<<HW_BATT_CTRL_PWD_WIDTH)-1)<<HW_BATT_CTRL_PWD_BITPOS
                                  ) 
                            10813 ; 46   |#define HW_BATT_CTRL_CLK_DIV_SETMASK (((1<<HW_BATT_CTRL_CLK_DIV_WIDTH)-1)<<HW_BATT_CTRL_CL
                                  K_DIV_BITPOS)        
                            10814 ; 47   |#define HW_BATT_CTRL_REF_VAL_SETMASK (((1<<HW_BATT_CTRL_REF_VAL_WIDTH)-1)<<HW_BATT_CTRL_RE
                                  F_VAL_BITPOS)        
                            10815 ; 48   |
                            10816 ; 49   |#define HW_BATT_CTRL_INPUT_OFFSET_CLRMASK (~(WORD)HW_BATT_CTRL_INPUT_OFFSET_SETMASK)     
                            10817 ; 50   |#define HW_BATT_CTRL_HALF_CMP_PWR_CLRMASK (~(WORD)HW_BATT_CTRL_HALF_CMP_PWR_SETMASK)     
                            10818 ; 51   |#define HW_BATT_CTRL_INPUT_DIV2_CLRMASK (~(WORD)HW_BATT_CTRL_INPUT_DIV2_SETMASK) 
                            10819 ; 52   |#define HW_BATT_CTRL_CLEAR_CLRMASK (~(WORD)HW_BATT_CTRL_CLEAR_SETMASK) 
                            10820 ; 53   |#define HW_BATT_CTRL_PWD_CLRMASK (~(WORD)HW_BATT_CTRL_PWD_SETMASK) 
                            10821 ; 54   |#define HW_BATT_CTRL_CLK_DIV_CLRMASK (~(WORD)HW_BATT_CTRL_CLK_DIV_SETMASK)     
                            10822 ; 55   |#define HW_BATT_CTRL_REF_VAL_CLRMASK (~(WORD)HW_BATT_CTRL_REF_VAL_SETMASK)
                            10823 ; 56   |
                            10824 ; 57   |typedef union               
                            10825 ; 58   |{
                            10826 ; 59   |    struct {
                            10827 ; 60   |        unsigned int INPUT_OFFSET                 : HW_BATT_CTRL_INPUT_OFFSET_WIDTH;
                            10828 ; 61   |        unsigned int RSVD0                        : HW_BATT_CTRL_RSVD0_WIDTH;
                            10829 ; 62   |        unsigned int HALF_CMP_PWR                 : HW_BATT_CTRL_HALF_CMP_PWR_WIDTH;
                            10830 ; 63   |        unsigned int INPUT_DIV2                   : HW_BATT_CTRL_INPUT_DIV2_WIDTH;
                            10831 ; 64   |        unsigned int CLEAR                        : HW_BATT_CTRL_CLEAR_WIDTH;
                            10832 ; 65   |        unsigned int PWD                          : HW_BATT_CTRL_PWD_WIDTH;
                            10833 ; 66   |        unsigned int CLK_DIV                      : HW_BATT_CTRL_CLK_DIV_WIDTH;
                            10834 ; 67   |        unsigned int RSVD1                        : HW_BATT_CTRL_RSVD1_WIDTH;
                            10835 ; 68   |        unsigned int REF_VAL                      : HW_BATT_CTRL_REF_VAL_WIDTH;
                            10836 ; 69   |        unsigned int RSVD2                        : HW_BATT_CTRL_RSVD2_WIDTH;
                            10837 ; 70   |                 unsigned int IRQ_EN_EVENT0                               : HW_BATT_CTRL_I
                                  RQ_EN_EVENT0_WIDTH;
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 178

M:ADDR CODE           CYCLES LINE SOURCELINE
                            10838 ; 71   |                 unsigned int IRQ_EN_EVENT1                               : HW_BATT_CTRL_I
                                  RQ_EN_EVENT1_WIDTH;
                            10839 ; 72   |             unsigned int POLARITY_EVENT0              : HW_BATT_CTRL_POLARITY_EVENT0_WIDT
                                  H;
                            10840 ; 73   |                 unsigned int POLARITY_EVENT1              : HW_BATT_CTRL_POLARITY_EVENT1_
                                  WIDTH;
                            10841 ; 74   |    } B;
                            10842 ; 75   |   unsigned int I;
                            10843 ; 76   |        unsigned int U;
                            10844 ; 77   |} lradc_ctrl_type;
                            10845 ; 78   |#define HW_BATT_CTRL      (*(volatile lradc_ctrl_type _X*) (HW_LRADC_BASEADDR))    /* Batt
                                  ery LRADC Control Register */
                            10846 ; 79   |
                            10847 ; 80   |
                            10848 ; 81   |/////////////////////////////////////////////////////////////////////////////////
                            10849 ; 82   |//  Battery LRADC Threshold Register (HW_BATT_THRSH) Bit Definitions
                            10850 ; 83   |#define HW_BATT_THRSH_THRESHOLD_EVENT0_WIDTH (9)
                            10851 ; 84   |#define HW_BATT_THRSH_RSVD0_WIDTH (3)
                            10852 ; 85   |#define HW_BATT_THRSH_THRESHOLD_EVENT1_WIDTH (9)
                            10853 ; 86   |#define HW_BATT_THRSH_RSVD1_WIDTH (3)
                            10854 ; 87   |
                            10855 ; 88   |#define HW_BATT_THRSH_THRESHOLD_EVENT0_BITPOS (0)
                            10856 ; 89   |#define HW_BATT_THRSH_THRESHOLD_EVENT1_BITPOS (12)
                            10857 ; 90   |
                            10858 ; 91   |#define HW_BATT_THRSH_THRESHOLD_EVENT0_SETMASK (((1<<HW_BATT_THRSH_THRESHOLD_EVENT0_WIDTH)
                                  -1)<<HW_BATT_THRSH_THRESHOLD_EVENT0_BITPOS)        
                            10859 ; 92   |#define HW_BATT_THRSH_THRESHOLD_EVENT1_SETMASK (((1<<HW_BATT_THRSH_THRESHOLD_EVENT1_WIDTH)
                                  -1)<<HW_BATT_THRSH_THRESHOLD_EVENT1_BITPOS)        
                            10860 ; 93   |
                            10861 ; 94   |#define HW_BATT_THRSH_THRESHOLD_EVENT0_CLRMASK (~(WORD)HW_BATT_THRSH_THRESHOLD_EVENT0_SETM
                                  ASK)     
                            10862 ; 95   |#define HW_BATT_THRSH_THRESHOLD_EVENT1_CLRMASK (~(WORD)HW_BATT_THRSH_THRESHOLD_EVENT1_SETM
                                  ASK)     
                            10863 ; 96   |
                            10864 ; 97   |
                            10865 ; 98   |typedef union               
                            10866 ; 99   |{
                            10867 ; 100  |    struct {
                            10868 ; 101  |        unsigned int THRESHOLD_EVENT0   : HW_BATT_THRSH_THRESHOLD_EVENT0_WIDTH;
                            10869 ; 102  |        unsigned int RSVD0                  : HW_BATT_THRSH_RSVD0_WIDTH;
                            10870 ; 103  |        unsigned int THRESHOLD_EVENT1   : HW_BATT_THRSH_THRESHOLD_EVENT1_WIDTH;
                            10871 ; 104  |        unsigned int RSVD1              : HW_BATT_THRSH_RSVD1_WIDTH;
                            10872 ; 105  |    } B;
                            10873 ; 106  |    unsigned int I;
                            10874 ; 107  |} lradc_thrsh_type;
                            10875 ; 108  |#define HW_BATT_THRSH      (*(volatile lradc_thrsh_type _X*) (HW_LRADC_BASEADDR+1))    /* 
                                  Battery LRADC Threshold Register */
                            10876 ; 109  |
                            10877 ; 110  |
                            10878 ; 111  |/////////////////////////////////////////////////////////////////////////////////
                            10879 ; 112  |//  Battery LRADC Result Register (HW_BATT_RESULT) Bit Definitions
                            10880 ; 113  |#define HW_BATT_RESULT_EQ_EVENT1_WIDTH (1)
                            10881 ; 114  |#define HW_BATT_RESULT_EQ_EVENT0_WIDTH (1)
                            10882 ; 115  |#define HW_BATT_RESULT_GT_EVENT1_WIDTH (1)
                            10883 ; 116  |#define HW_BATT_RESULT_GT_EVENT0_WIDTH (1)
                            10884 ; 117  |#define HW_BATT_RESULT_LT_EVENT1_WIDTH (1)
                            10885 ; 118  |#define HW_BATT_RESULT_LT_EVENT0_WIDTH (1)
                            10886 ; 119  |#define HW_BATT_RESULT_RSVD0_WIDTH (2)
                            10887 ; 120  |#define HW_BATT_RESULT_DATA_OUT_WIDTH (9)
                            10888 ; 121  |#define HW_BATT_RESULT_RSVD1_WIDTH (3)
                            10889 ; 122  |#define HW_BATT_RESULT_IRQ_EVENT0_WIDTH (1)
                            10890 ; 123  |#define HW_BATT_RESULT_IRQ_EVENT1_WIDTH (1)
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 179

M:ADDR CODE           CYCLES LINE SOURCELINE
                            10891 ; 124  |#define HW_BATT_RESULT_RSVD2_WIDTH (2)
                            10892 ; 125  |
                            10893 ; 126  |#define HW_BATT_RESULT_EQ_EVENT1_BITPOS (0)
                            10894 ; 127  |#define HW_BATT_RESULT_EQ_EVENT0_BITPOS (1)
                            10895 ; 128  |#define HW_BATT_RESULT_GT_EVENT1_BITPOS (2)
                            10896 ; 129  |#define HW_BATT_RESULT_GT_EVENT0_BITPOS (3)
                            10897 ; 130  |#define HW_BATT_RESULT_LT_EVENT1_BITPOS (4)
                            10898 ; 131  |#define HW_BATT_RESULT_LT_EVENT0_BITPOS (5)
                            10899 ; 132  |#define HW_BATT_RESULT_RSVD0_BITPOS (6)
                            10900 ; 133  |#define HW_BATT_RESULT_DATA_OUT_BITPOS (8)
                            10901 ; 134  |#define HW_BATT_RESULT_RSVD1_BITPOS (17)
                            10902 ; 135  |#define HW_BATT_RESULT_IRQ_EVENT0_BITPOS (20)
                            10903 ; 136  |#define HW_BATT_RESULT_IRQ_EVENT1_BITPOS (21)
                            10904 ; 137  |#define HW_BATT_RESULT_RSVD2_BITPOS (22)
                            10905 ; 138  |
                            10906 ; 139  |
                            10907 ; 140  |
                            10908 ; 141  |#define HW_BATT_RESULT_EQ_EVENT1_SETMASK (((1<<HW_BATT_RESULT_EQ_EVENT1_WIDTH)-1)<<HW_BATT
                                  _RESULT_EQ_EVENT1_BITPOS)
                            10909 ; 142  |#define HW_BATT_RESULT_EQ_EVENT0_SETMASK (((1<<HW_BATT_RESULT_EQ_EVENT0_WIDTH)-1)<<HW_BATT
                                  _RESULT_EQ_EVENT0_BITPOS)
                            10910 ; 143  |#define HW_BATT_RESULT_GT_EVENT1_SETMASK (((1<<HW_BATT_RESULT_GT_EVENT1_WIDTH)-1)<<HW_BATT
                                  _RESULT_GT_EVENT1_BITPOS)
                            10911 ; 144  |#define HW_BATT_RESULT_GT_EVENT0_SETMASK (((1<<HW_BATT_RESULT_GT_EVENT0_WIDTH)-1)<<HW_BATT
                                  _RESULT_GT_EVENT0_BITPOS)
                            10912 ; 145  |#define HW_BATT_RESULT_LT_EVENT1_SETMASK (((1<<HW_BATT_RESULT_LT_EVENT1_WIDTH)-1)<<HW_BATT
                                  _RESULT_LT_EVENT1_BITPOS)
                            10913 ; 146  |#define HW_BATT_RESULT_LT_EVENT0_SETMASK (((1<<HW_BATT_RESULT_LT_EVENT0_WIDTH)-1)<<HW_BATT
                                  _RESULT_LT_EVENT0_BITPOS)
                            10914 ; 147  |#define HW_BATT_RESULT_RSVD0_SETMASK (((1<<HW_BATT_RESULT_RSVD0_WIDTH)-1)<<HW_BATT_RESULT_
                                  RSVD0_BITPOS)
                            10915 ; 148  |#define HW_BATT_RESULT_DATA_OUT_SETMASK (((1<<HW_BATT_RESULT_DATA_OUT_WIDTH)-1)<<HW_BATT_R
                                  ESULT_DATA_OUT_BITPOS)
                            10916 ; 149  |#define HW_BATT_RESULT_RSVD1_SETMASK (((1<<HW_BATT_RESULT_RSVD1_WIDTH)-1)<<HW_BATT_RESULT_
                                  RSVD1_BITPOS)
                            10917 ; 150  |#define HW_BATT_RESULT_IRQ_EVENT0_SETMASK (((1<<HW_BATT_RESULT_IRQ_EVENT0_WIDTH)-1)<<HW_BA
                                  TT_RESULT_IRQ_EVENT0_BITPOS)
                            10918 ; 151  |#define HW_BATT_RESULT_IRQ_EVENT1_SETMASK (((1<<HW_BATT_RESULT_IRQ_EVENT1_WIDTH)-1)<<HW_BA
                                  TT_RESULT_IRQ_EVENT1_BITPOS)
                            10919 ; 152  |#define HW_BATT_RESULT_RSVD2_SETMASK (((1<<HW_BATT_RESULT_RSVD2_WIDTH)-1)<<HW_BATT_RESULT_
                                  RSVD2_BITPOS)
                            10920 ; 153  |
                            10921 ; 154  |
                            10922 ; 155  |#define HW_BATT_RESULT_EQ_EVENT1_CLRMASK (~(WORD)HW_BATT_RESULT_EQ_EVENT1_SETMASK)
                            10923 ; 156  |#define HW_BATT_RESULT_EQ_EVENT0_CLRMASK (~(WORD)HW_BATT_RESULT_EQ_EVENT0_SETMASK)
                            10924 ; 157  |#define HW_BATT_RESULT_GT_EVENT1_CLRMASK (~(WORD)HW_BATT_RESULT_GT_EVENT1_SETMASK)
                            10925 ; 158  |#define HW_BATT_RESULT_GT_EVENT0_CLRMASK (~(WORD)HW_BATT_RESULT_GT_EVENT0_SETMASK)
                            10926 ; 159  |#define HW_BATT_RESULT_LT_EVENT1_CLRMASK (~(WORD)HW_BATT_RESULT_LT_EVENT1_SETMASK)
                            10927 ; 160  |#define HW_BATT_RESULT_LT_EVENT0_CLRMASK (~(WORD)HW_BATT_RESULT_LT_EVENT0_SETMASK)
                            10928 ; 161  |#define HW_BATT_RESULT_RSVD0_CLRMASK (~(WORD)HW_BATT_RESULT_RSVD0_SETMASK)
                            10929 ; 162  |#define HW_BATT_RESULT_DATA_OUT_CLRMASK (~(WORD)HW_BATT_RESULT_DATA_OUT_SETMASK)
                            10930 ; 163  |#define HW_BATT_RESULT_RSVD1_CLRMASK (~(WORD)HW_BATT_RESULT_RSVD1_SETMASK)
                            10931 ; 164  |#define HW_BATT_RESULT_IRQ_EVENT0_CLRMASK (~(WORD)HW_BATT_RESULT_IRQ_EVENT0_SETMASK)
                            10932 ; 165  |#define HW_BATT_RESULT_IRQ_EVENT1_CLRMASK (~(WORD)HW_BATT_RESULT_IRQ_EVENT1_SETMASK)
                            10933 ; 166  |#define HW_BATT_RESULT_RSVD2_CLRMASK (~(WORD)HW_BATT_RESULT_RSVD2_SETMASK)
                            10934 ; 167  |
                            10935 ; 168  |typedef union               
                            10936 ; 169  |{
                            10937 ; 170  |    struct {
                            10938 ; 171  |        unsigned int EQ_EVENT1                  : HW_BATT_RESULT_EQ_EVENT1_WIDTH;
                            10939 ; 172  |        unsigned int EQ_EVENT0                  : HW_BATT_RESULT_EQ_EVENT0_WIDTH;
                            10940 ; 173  |        unsigned int GT_EVENT1                  : HW_BATT_RESULT_GT_EVENT1_WIDTH;
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 180

M:ADDR CODE           CYCLES LINE SOURCELINE
                            10941 ; 174  |        unsigned int GT_EVENT0                  : HW_BATT_RESULT_GT_EVENT0_WIDTH;
                            10942 ; 175  |        unsigned int LT_EVENT1                  : HW_BATT_RESULT_LT_EVENT1_WIDTH;
                            10943 ; 176  |        unsigned int LT_EVENT0                  : HW_BATT_RESULT_LT_EVENT0_WIDTH;
                            10944 ; 177  |        unsigned int RSVD0                     : HW_BATT_RESULT_RSVD0_WIDTH;
                            10945 ; 178  |        unsigned int DATA_OUT                  : HW_BATT_RESULT_DATA_OUT_WIDTH;
                            10946 ; 179  |        unsigned int RSVD1                     : HW_BATT_RESULT_RSVD1_WIDTH;
                            10947 ; 180  |                 unsigned int IRQ_EVENT0                                : HW_BATT_RESULT_I
                                  RQ_EVENT0_WIDTH;
                            10948 ; 181  |                 unsigned int IRQ_EVENT1                                : HW_BATT_RESULT_I
                                  RQ_EVENT1_WIDTH;                        
                            10949 ; 182  |                 unsigned int RSVD2                                         : HW_BATT_RESU
                                  LT_RSVD2_WIDTH;
                            10950 ; 183  |    } B;
                            10951 ; 184  |    unsigned int I;
                            10952 ; 185  |} lradc_result_type;
                            10953 ; 186  |#define HW_BATT_RESULT      (*(volatile lradc_result_type _X*) (HW_LRADC_BASEADDR+2))    /
                                  * Battery LRADC Result Register */
                            10954 ; 187  |
                            10955 ; 188  |
                            10956 ; 189  |
                            10957 ; 190  |/////////////////////////////////////////////////////////////////////////////////
                            10958 ; 191  |//  LRADC1 Control Register (HW_LRADC1_CTRL) Bit Definitions
                            10959 ; 192  |#define HW_LRADC1_CTRL_INPUT_OFFSET_WIDTH (7)
                            10960 ; 193  |#define HW_LRADC1_CTRL_RSVD0_WIDTH (1)
                            10961 ; 194  |#define HW_LRADC1_CTRL_HALF_CMP_PWR_WIDTH (1)
                            10962 ; 195  |#define HW_LRADC1_CTRL_INPUT_DIV2_WIDTH (1)
                            10963 ; 196  |#define HW_LRADC1_CTRL_CLEAR_WIDTH (1)
                            10964 ; 197  |#define HW_LRADC1_CTRL_PWD_WIDTH (1)
                            10965 ; 198  |#define HW_LRADC1_CTRL_CLK_DIV_WIDTH (2)
                            10966 ; 199  |#define HW_LRADC1_CTRL_RSVD1_WIDTH (2)
                            10967 ; 200  |#define HW_LRADC1_CTRL_REF_VAL_WIDTH (2)
                            10968 ; 201  |#define HW_LRADC1_CTRL_RSVD2_WIDTH (6)
                            10969 ; 202  |
                            10970 ; 203  |#define HW_LRADC1_CTRL_INPUT_OFFSET_BITPOS (0)
                            10971 ; 204  |#define HW_LRADC1_CTRL_HALF_CMP_PWR_BITPOS (8)
                            10972 ; 205  |#define HW_LRADC1_CTRL_INPUT_DIV2_BITPOS (9)
                            10973 ; 206  |#define HW_LRADC1_CTRL_CLEAR_BITPOS (10)
                            10974 ; 207  |#define HW_LRADC1_CTRL_PWD_BITPOS (11)
                            10975 ; 208  |#define HW_LRADC1_CTRL_CLK_DIV_BITPOS (12)
                            10976 ; 209  |#define HW_LRADC1_CTRL_REF_VAL_BITPOS (16)
                            10977 ; 210  |
                            10978 ; 211  |#define HW_LRADC1_CTRL_INPUT_OFFSET_SETMASK (((1<<HW_LRADC1_CTRL_INPUT_OFFSET_WIDTH)-1)<<H
                                  W_LRADC1_CTRL_INPUT_OFFSET_BITPOS)        
                            10979 ; 212  |#define HW_LRADC1_CTRL_HALF_CMP_PWR_SETMASK (((1<<HW_LRADC1_CTRL_HALF_CMP_PWR_WIDTH)-1)<<H
                                  W_LRADC1_CTRL_HALF_CMP_PWR_BITPOS)        
                            10980 ; 213  |#define HW_LRADC1_CTRL_INPUT_DIV2_SETMASK (((1<<HW_LRADC1_CTRL_INPUT_DIV2_WIDTH)-1)<<HW_LR
                                  ADC1_CTRL_INPUT_DIV2_BITPOS) 
                            10981 ; 214  |#define HW_LRADC1_CTRL_CLEAR_SETMASK (((1<<HW_LRADC1_CTRL_CLEAR_WIDTH)-1)<<HW_LRADC1_CTRL_
                                  CLEAR_BITPOS) 
                            10982 ; 215  |#define HW_LRADC1_CTRL_PWD_SETMASK (((1<<HW_LRADC1_CTRL_PWD_WIDTH)-1)<<HW_LRADC1_CTRL_PWD_
                                  BITPOS) 
                            10983 ; 216  |#define HW_LRADC1_CTRL_CLK_DIV_SETMASK (((1<<HW_LRADC1_CTRL_CLK_DIV_WIDTH)-1)<<HW_LRADC1_C
                                  TRL_CLK_DIV_BITPOS)        
                            10984 ; 217  |#define HW_LRADC1_CTRL_REF_VAL_SETMASK (((1<<HW_LRADC1_CTRL_REF_VAL_WIDTH)-1)<<HW_LRADC1_C
                                  TRL_REF_VAL_BITPOS)        
                            10985 ; 218  |
                            10986 ; 219  |#define HW_LRADC1_CTRL_INPUT_OFFSET_CLRMASK (~(WORD)HW_LRADC1_CTRL_INPUT_OFFSET_SETMASK)  
                                     
                            10987 ; 220  |#define HW_LRADC1_CTRL_HALF_CMP_PWR_CLRMASK (~(WORD)HW_LRADC1_CTRL_HALF_CMP_PWR_SETMASK)  
                                     
                            10988 ; 221  |#define HW_LRADC1_CTRL_INPUT_DIV2_CLRMASK (~(WORD)HW_LRADC1_CTRL_INPUT_DIV2_SETMASK) 
                            10989 ; 222  |#define HW_LRADC1_CTRL_CLEAR_CLRMASK (~(WORD)HW_LRADC1_CTRL_CLEAR_SETMASK) 
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 181

M:ADDR CODE           CYCLES LINE SOURCELINE
                            10990 ; 223  |#define HW_LRADC1_CTRL_PWD_CLRMASK (~(WORD)HW_LRADC1_CTRL_PWD_SETMASK) 
                            10991 ; 224  |#define HW_LRADC1_CTRL_CLK_DIV_CLRMASK (~(WORD)HW_LRADC1_CTRL_CLK_DIV_SETMASK)     
                            10992 ; 225  |#define HW_LRADC1_CTRL_REF_VAL_CLRMASK (~(WORD)HW_LRADC1_CTRL_REF_VAL_SETMASK)     
                            10993 ; 226  |
                            10994 ; 227  |#define HW_LRADC1_CTRL      (*(volatile lradc_ctrl_type _X*) (HW_LRADC_BASEADDR+3))    /* 
                                  LRADC1 Control Register */
                            10995 ; 228  |
                            10996 ; 229  |
                            10997 ; 230  |
                            10998 ; 231  |/////////////////////////////////////////////////////////////////////////////////
                            10999 ; 232  |//  LRADC1 Threshold Register (HW_LRADC1_THRSH) Bit Definitions
                            11000 ; 233  |#define HW_LRADC1_THRSH_MIN_THRESHOLD_WIDTH (9)
                            11001 ; 234  |#define HW_LRADC1_THRSH_RSVD0_WIDTH (3)
                            11002 ; 235  |#define HW_LRADC1_THRSH_MAX_THRESHOLD_WIDTH (9)
                            11003 ; 236  |#define HW_LRADC1_THRSH_RSVD1_WIDTH (3)
                            11004 ; 237  |
                            11005 ; 238  |#define HW_LRADC1_THRSH_MIN_THRESHOLD_BITPOS (0)
                            11006 ; 239  |#define HW_LRADC1_THRSH_MAX_THRESHOLD_BITPOS (12)
                            11007 ; 240  |
                            11008 ; 241  |#define HW_LRADC1_THRSH_MIN_THRESHOLD_SETMASK (((1<<HW_LRADC1_THRSH_MIN_THRESHOLD_WIDTH)-1
                                  )<<HW_LRADC1_THRSH_MIN_THRESHOLD_BITPOS)        
                            11009 ; 242  |#define HW_LRADC1_THRSH_MAX_THRESHOLD_SETMASK (((1<<HW_LRADC1_THRSH_MAX_THRESHOLD_WIDTH)-1
                                  )<<HW_LRADC1_THRSH_MAX_THRESHOLD_BITPOS)        
                            11010 ; 243  |
                            11011 ; 244  |#define HW_LRADC1_THRSH_MIN_THRESHOLD_CLRMASK (~(WORD)HW_LRADC1_THRSH_MIN_THRESHOLD_SETMAS
                                  K)     
                            11012 ; 245  |#define HW_LRADC1_THRSH_MAX_THRESHOLD_CLRMASK (~(WORD)HW_LRADC1_THRSH_MAX_THRESHOLD_SETMAS
                                  K)     
                            11013 ; 246  |
                            11014 ; 247  |#define HW_LRADC1_THRSH      (*(volatile lradc_thrsh_type _X*) (HW_LRADC_BASEADDR+4))    /
                                  * LRADC1 Threshold Register */
                            11015 ; 248  |
                            11016 ; 249  |/////////////////////////////////////////////////////////////////////////////////
                            11017 ; 250  |//  LRADC1 Result Register (HW_LRADC1_RESULT) Bit Definitions
                            11018 ; 251  |#define HW_LRADC1_RESULT_EQ_EVENT1_WIDTH (1)
                            11019 ; 252  |#define HW_LRADC1_RESULT_EQ_EVENT0_WIDTH (1)
                            11020 ; 253  |#define HW_LRADC1_RESULT_GT_EVENT1_WIDTH (1)
                            11021 ; 254  |#define HW_LRADC1_RESULT_GT_EVENT0_WIDTH (1)
                            11022 ; 255  |#define HW_LRADC1_RESULT_LT_EVENT1_WIDTH (1)
                            11023 ; 256  |#define HW_LRADC1_RESULT_LT_EVENT0_WIDTH (1)
                            11024 ; 257  |#define HW_LRADC1_RESULT_RSVD0_WIDTH (2)
                            11025 ; 258  |#define HW_LRADC1_RESULT_DATA_OUT_WIDTH (9)
                            11026 ; 259  |#define HW_LRADC1_RESULT_RSVD1_WIDTH (3)
                            11027 ; 260  |#define HW_LRADC1_RESULT_IRQ_EVENT0_WIDTH (1)
                            11028 ; 261  |#define HW_LRADC1_RESULT_IRQ_EVENT1_WIDTH (1)
                            11029 ; 262  |#define HW_LRADC1_RESULT_RSVD2_WIDTH (2)
                            11030 ; 263  |
                            11031 ; 264  |#define HW_LRADC1_RESULT_EQ_EVENT1_BITPOS (0)
                            11032 ; 265  |#define HW_LRADC1_RESULT_EQ_EVENT0_BITPOS (1)
                            11033 ; 266  |#define HW_LRADC1_RESULT_GT_EVENT1_BITPOS (2)
                            11034 ; 267  |#define HW_LRADC1_RESULT_GT_EVENT0_BITPOS (3)
                            11035 ; 268  |#define HW_LRADC1_RESULT_LT_EVENT1_BITPOS (4)
                            11036 ; 269  |#define HW_LRADC1_RESULT_LT_EVENT0_BITPOS (5)
                            11037 ; 270  |#define HW_LRADC1_RESULT_RSVD0_BITPOS (6)
                            11038 ; 271  |#define HW_LRADC1_RESULT_DATA_OUT_BITPOS (8)
                            11039 ; 272  |#define HW_LRADC1_RESULT_RSVD1_BITPOS (17)
                            11040 ; 273  |#define HW_LRADC1_RESULT_IRQ_EVENT0_BITPOS (20)
                            11041 ; 274  |#define HW_LRADC1_RESULT_IRQ_EVENT1_BITPOS (21)
                            11042 ; 275  |#define HW_LRADC1_RESULT_RSVD2_BITPOS (22)
                            11043 ; 276  |
                            11044 ; 277  |#define HW_LRADC1_RESULT_EQ_EVENT1_SETMASK (((1<<HW_LRADC1_RESULT_EQ_EVENT1_WIDTH)-1)<<HW_
                                  LRADC1_RESULT_EQ_EVENT1_BITPOS)
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 182

M:ADDR CODE           CYCLES LINE SOURCELINE
                            11045 ; 278  |#define HW_LRADC1_RESULT_EQ_EVENT0_SETMASK (((1<<HW_LRADC1_RESULT_EQ_EVENT0_WIDTH)-1)<<HW_
                                  LRADC1_RESULT_EQ_EVENT0_BITPOS)
                            11046 ; 279  |#define HW_LRADC1_RESULT_GT_EVENT1_SETMASK (((1<<HW_LRADC1_RESULT_GT_EVENT1_WIDTH)-1)<<HW_
                                  LRADC1_RESULT_GT_EVENT1_BITPOS)
                            11047 ; 280  |#define HW_LRADC1_RESULT_GT_EVENT0_SETMASK (((1<<HW_LRADC1_RESULT_GT_EVENT0_WIDTH)-1)<<HW_
                                  LRADC1_RESULT_GT_EVENT0_BITPOS)
                            11048 ; 281  |#define HW_LRADC1_RESULT_LT_EVENT1_SETMASK (((1<<HW_LRADC1_RESULT_LT_EVENT1_WIDTH)-1)<<HW_
                                  LRADC1_RESULT_LT_EVENT1_BITPOS)
                            11049 ; 282  |#define HW_LRADC1_RESULT_LT_EVENT0_SETMASK (((1<<HW_LRADC1_RESULT_LT_EVENT0_WIDTH)-1)<<HW_
                                  LRADC1_RESULT_LT_EVENT0_BITPOS)
                            11050 ; 283  |#define HW_LRADC1_RESULT_RSVD0_SETMASK (((1<<HW_LRADC1_RESULT_RSVD0_WIDTH)-1)<<HW_LRADC1_R
                                  ESULT_RSVD0_BITPOS)
                            11051 ; 284  |#define HW_LRADC1_RESULT_DATA_OUT_SETMASK (((1<<HW_LRADC1_RESULT_DATA_OUT_WIDTH)-1)<<HW_LR
                                  ADC1_RESULT_DATA_OUT_BITPOS)
                            11052 ; 285  |#define HW_LRADC1_RESULT_RSVD1_SETMASK (((1<<HW_LRADC1_RESULT_RSVD1_WIDTH)-1)<<HW_LRADC1_R
                                  ESULT_RSVD1_BITPOS)
                            11053 ; 286  |#define HW_LRADC1_RESULT_IRQ_EVENT0_SETMASK (((1<<HW_LRADC1_RESULT_IRQ_EVENT0_WIDTH)-1)<<H
                                  W_LRADC1_RESULT_IRQ_EVENT0_BITPOS)
                            11054 ; 287  |#define HW_LRADC1_RESULT_IRQ_EVENT1_SETMASK (((1<<HW_LRADC1_RESULT_IRQ_EVENT1_WIDTH)-1)<<H
                                  W_LRADC1_RESULT_IRQ_EVENT1_BITPOS)
                            11055 ; 288  |#define HW_LRADC1_RESULT_RSVD2_SETMASK (((1<<HW_LRADC1_RESULT_RSVD2_WIDTH)-1)<<HW_LRADC1_R
                                  ESULT_RSVD2_BITPOS)
                            11056 ; 289  |
                            11057 ; 290  |
                            11058 ; 291  |#define HW_LRADC1_RESULT_EQ_EVENT1_CLRMASK (~(WORD)HW_LRADC1_RESULT_EQ_EVENT1_SETMASK)
                            11059 ; 292  |#define HW_LRADC1_RESULT_EQ_EVENT0_CLRMASK (~(WORD)HW_LRADC1_RESULT_EQ_EVENT0_SETMASK)
                            11060 ; 293  |#define HW_LRADC1_RESULT_GT_EVENT1_CLRMASK (~(WORD)HW_LRADC1_RESULT_GT_EVENT1_SETMASK)
                            11061 ; 294  |#define HW_LRADC1_RESULT_GT_EVENT0_CLRMASK (~(WORD)HW_LRADC1_RESULT_GT_EVENT0_SETMASK)
                            11062 ; 295  |#define HW_LRADC1_RESULT_LT_EVENT1_CLRMASK (~(WORD)HW_LRADC1_RESULT_LT_EVENT1_SETMASK)
                            11063 ; 296  |#define HW_LRADC1_RESULT_LT_EVENT0_CLRMASK (~(WORD)HW_LRADC1_RESULT_LT_EVENT0_SETMASK)
                            11064 ; 297  |#define HW_LRADC1_RESULT_RSVD0_CLRMASK (~(WORD)HW_LRADC1_RESULT_RSVD0_SETMASK)
                            11065 ; 298  |#define HW_LRADC1_RESULT_DATA_OUT_CLRMASK (~(WORD)HW_LRADC1_RESULT_DATA_OUT_SETMASK)
                            11066 ; 299  |#define HW_LRADC1_RESULT_RSVD1_CLRMASK (~(WORD)HW_LRADC1_RESULT_RSVD1_SETMASK)
                            11067 ; 300  |#define HW_LRADC1_RESULT_IRQ_EVENT0_CLRMASK (~(WORD)HW_LRADC1_RESULT_IRQ_EVENT0_SETMASK)
                            11068 ; 301  |#define HW_LRADC1_RESULT_IRQ_EVENT1_CLRMASK (~(WORD)HW_LRADC1_RESULT_IRQ_EVENT1_SETMASK)
                            11069 ; 302  |#define HW_LRADC1_RESULT_RSVD2_CLRMASK (~(WORD)HW_LRADC1_RESULT_RSVD2_SETMASK)
                            11070 ; 303  |
                            11071 ; 304  |#define HW_LRADC1_RESULT      (*(volatile lradc_result_type _X*) (HW_LRADC_BASEADDR+5))   
                                   /* LRADC1 Result Register */
                            11072 ; 305  |
                            11073 ; 306  |/////////////////////////////////////////////////////////////////////////////////
                            11074 ; 307  |//  LRADC2_CTRL Control Register (HW_LRADC2_CTRL_CTRL) Bit Definitions
                            11075 ; 308  |#define HW_LRADC2_CTRL_CTRL_INPUT_OFFSET_WIDTH (7)
                            11076 ; 309  |#define HW_LRADC2_CTRL_CTRL_RSVD0_WIDTH (1)
                            11077 ; 310  |#define HW_LRADC2_CTRL_CTRL_HALF_CMP_PWR_WIDTH (1)
                            11078 ; 311  |#define HW_LRADC2_CTRL_CTRL_INPUT_DIV2_WIDTH (1)
                            11079 ; 312  |#define HW_LRADC2_CTRL_CTRL_CLEAR_WIDTH (1)
                            11080 ; 313  |#define HW_LRADC2_CTRL_CTRL_PWD_WIDTH (1)
                            11081 ; 314  |#define HW_LRADC2_CTRL_CTRL_CLK_DIV_WIDTH (2)
                            11082 ; 315  |#define HW_LRADC2_CTRL_CTRL_RSVD1_WIDTH (2)
                            11083 ; 316  |#define HW_LRADC2_CTRL_CTRL_REF_VAL_WIDTH (2)
                            11084 ; 317  |#define HW_LRADC2_CTRL_CTRL_RSVD2_WIDTH (6)
                            11085 ; 318  |
                            11086 ; 319  |#define HW_LRADC2_CTRL_CTRL_INPUT_OFFSET_BITPOS (0)
                            11087 ; 320  |#define HW_LRADC2_CTRL_CTRL_HALF_CMP_PWR_BITPOS (8)
                            11088 ; 321  |#define HW_LRADC2_CTRL_CTRL_INPUT_DIV2_BITPOS (9)
                            11089 ; 322  |#define HW_LRADC2_CTRL_CTRL_CLEAR_BITPOS (10)
                            11090 ; 323  |#define HW_LRADC2_CTRL_CTRL_PWD_BITPOS (11)
                            11091 ; 324  |#define HW_LRADC2_CTRL_CTRL_CLK_DIV_BITPOS (12)
                            11092 ; 325  |#define HW_LRADC2_CTRL_CTRL_REF_VAL_BITPOS (16)
                            11093 ; 326  |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 183

M:ADDR CODE           CYCLES LINE SOURCELINE
                            11094 ; 327  |#define HW_LRADC2_CTRL_CTRL_INPUT_OFFSET_SETMASK (((1<<HW_LRADC2_CTRL_CTRL_INPUT_OFFSET_WI
                                  DTH)-1)<<HW_LRADC2_CTRL_CTRL_INPUT_OFFSET_BITPOS)        
                            11095 ; 328  |#define HW_LRADC2_CTRL_CTRL_HALF_CMP_PWR_SETMASK (((1<<HW_LRADC2_CTRL_CTRL_HALF_CMP_PWR_WI
                                  DTH)-1)<<HW_LRADC2_CTRL_CTRL_HALF_CMP_PWR_BITPOS)        
                            11096 ; 329  |#define HW_LRADC2_CTRL_CTRL_INPUT_DIV2_SETMASK (((1<<HW_LRADC2_CTRL_CTRL_INPUT_DIV2_WIDTH)
                                  -1)<<HW_LRADC2_CTRL_CTRL_INPUT_DIV2_BITPOS) 
                            11097 ; 330  |#define HW_LRADC2_CTRL_CTRL_CLEAR_SETMASK (((1<<HW_LRADC2_CTRL_CTRL_CLEAR_WIDTH)-1)<<HW_LR
                                  ADC2_CTRL_CTRL_CLEAR_BITPOS) 
                            11098 ; 331  |#define HW_LRADC2_CTRL_CTRL_PWD_SETMASK (((1<<HW_LRADC2_CTRL_CTRL_PWD_WIDTH)-1)<<HW_LRADC2
                                  _CTRL_CTRL_PWD_BITPOS) 
                            11099 ; 332  |#define HW_LRADC2_CTRL_CTRL_CLK_DIV_SETMASK (((1<<HW_LRADC2_CTRL_CTRL_CLK_DIV_WIDTH)-1)<<H
                                  W_LRADC2_CTRL_CTRL_CLK_DIV_BITPOS)        
                            11100 ; 333  |#define HW_LRADC2_CTRL_CTRL_REF_VAL_SETMASK (((1<<HW_LRADC2_CTRL_CTRL_REF_VAL_WIDTH)-1)<<H
                                  W_LRADC2_CTRL_CTRL_REF_VAL_BITPOS)        
                            11101 ; 334  |
                            11102 ; 335  |#define HW_LRADC2_CTRL_CTRL_INPUT_OFFSET_CLRMASK (~(WORD)HW_LRADC2_CTRL_CTRL_INPUT_OFFSET_
                                  SETMASK)     
                            11103 ; 336  |#define HW_LRADC2_CTRL_CTRL_HALF_CMP_PWR_CLRMASK (~(WORD)HW_LRADC2_CTRL_CTRL_HALF_CMP_PWR_
                                  SETMASK)     
                            11104 ; 337  |#define HW_LRADC2_CTRL_CTRL_INPUT_DIV2_CLRMASK (~(WORD)HW_LRADC2_CTRL_CTRL_INPUT_DIV2_SETM
                                  ASK) 
                            11105 ; 338  |#define HW_LRADC2_CTRL_CTRL_CLEAR_CLRMASK (~(WORD)HW_LRADC2_CTRL_CTRL_CLEAR_SETMASK) 
                            11106 ; 339  |#define HW_LRADC2_CTRL_CTRL_PWD_CLRMASK (~(WORD)HW_LRADC2_CTRL_CTRL_PWD_SETMASK) 
                            11107 ; 340  |#define HW_LRADC2_CTRL_CTRL_CLK_DIV_CLRMASK (~(WORD)HW_LRADC2_CTRL_CTRL_CLK_DIV_SETMASK)  
                                     
                            11108 ; 341  |#define HW_LRADC2_CTRL_CTRL_REF_VAL_CLRMASK (~(WORD)HW_LRADC2_CTRL_CTRL_REF_VAL_SETMASK)  
                                     
                            11109 ; 342  |
                            11110 ; 343  |
                            11111 ; 344  |#define HW_LRADC2_CTRL      (*(volatile lradc_ctrl_type _X*) (HW_LRADC_BASEADDR+6))    /* 
                                  LRADC2_CTRL Control Register */
                            11112 ; 345  |
                            11113 ; 346  |
                            11114 ; 347  |
                            11115 ; 348  |/////////////////////////////////////////////////////////////////////////////////
                            11116 ; 349  |//  LRADC2 Threshold Register (HW_LRADC2_THRSH) Bit Definitions
                            11117 ; 350  |#define HW_LRADC2_THRSH_MIN_THRESHOLD_WIDTH (9)
                            11118 ; 351  |#define HW_LRADC2_THRSH_RSVD0_WIDTH (3)
                            11119 ; 352  |#define HW_LRADC2_THRSH_MAX_THRESHOLD_WIDTH (9)
                            11120 ; 353  |#define HW_LRADC2_THRSH_RSVD1_WIDTH (3)
                            11121 ; 354  |
                            11122 ; 355  |#define HW_LRADC2_THRSH_MIN_THRESHOLD_BITPOS (0)
                            11123 ; 356  |#define HW_LRADC2_THRSH_MAX_THRESHOLD_BITPOS (12)
                            11124 ; 357  |
                            11125 ; 358  |#define HW_LRADC2_THRSH_MIN_THRESHOLD_SETMASK (((1<<HW_LRADC2_THRSH_MIN_THRESHOLD_WIDTH)-1
                                  )<<HW_LRADC2_THRSH_MIN_THRESHOLD_BITPOS)        
                            11126 ; 359  |#define HW_LRADC2_THRSH_MAX_THRESHOLD_SETMASK (((1<<HW_LRADC2_THRSH_MAX_THRESHOLD_WIDTH)-1
                                  )<<HW_LRADC2_THRSH_MAX_THRESHOLD_BITPOS)        
                            11127 ; 360  |
                            11128 ; 361  |#define HW_LRADC2_THRSH_MIN_THRESHOLD_CLRMASK (~(WORD)HW_LRADC2_THRSH_MIN_THRESHOLD_SETMAS
                                  K)     
                            11129 ; 362  |#define HW_LRADC2_THRSH_MAX_THRESHOLD_CLRMASK (~(WORD)HW_LRADC2_THRSH_MAX_THRESHOLD_SETMAS
                                  K)     
                            11130 ; 363  |
                            11131 ; 364  |#define HW_LRADC2_THRSH      (*(volatile lradc_thrsh_type _X*) (HW_LRADC_BASEADDR+7))    /
                                  * LRADC2 Threshold Register */
                            11132 ; 365  |
                            11133 ; 366  |
                            11134 ; 367  |
                            11135 ; 368  |/////////////////////////////////////////////////////////////////////////////////
                            11136 ; 369  |//  LRADC2 Result Register (HW_LRADC2_RESULT) Bit Definitions
                            11137 ; 370  |#define HW_LRADC2_RESULT_EQ_EVENT1_WIDTH (1)
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 184

M:ADDR CODE           CYCLES LINE SOURCELINE
                            11138 ; 371  |#define HW_LRADC2_RESULT_EQ_EVENT0_WIDTH (1)
                            11139 ; 372  |#define HW_LRADC2_RESULT_GT_EVENT1_WIDTH (1)
                            11140 ; 373  |#define HW_LRADC2_RESULT_GT_EVENT0_WIDTH (1)
                            11141 ; 374  |#define HW_LRADC2_RESULT_LT_EVENT1_WIDTH (1)
                            11142 ; 375  |#define HW_LRADC2_RESULT_LT_EVENT0_WIDTH (1)
                            11143 ; 376  |#define HW_LRADC2_RESULT_RSVD0_WIDTH (2)
                            11144 ; 377  |#define HW_LRADC2_RESULT_DATA_OUT_WIDTH (9)
                            11145 ; 378  |#define HW_LRADC2_RESULT_RSVD1_WIDTH (3)
                            11146 ; 379  |#define HW_LRADC2_RESULT_IRQ_EVENT0_WIDTH (1)
                            11147 ; 380  |#define HW_LRADC2_RESULT_IRQ_EVENT1_WIDTH (1)
                            11148 ; 381  |#define HW_LRADC2_RESULT_RSVD2_WIDTH (2)
                            11149 ; 382  |
                            11150 ; 383  |#define HW_LRADC2_RESULT_EQ_EVENT1_BITPOS (0)
                            11151 ; 384  |#define HW_LRADC2_RESULT_EQ_EVENT0_BITPOS (1)
                            11152 ; 385  |#define HW_LRADC2_RESULT_GT_EVENT1_BITPOS (2)
                            11153 ; 386  |#define HW_LRADC2_RESULT_GT_EVENT0_BITPOS (3)
                            11154 ; 387  |#define HW_LRADC2_RESULT_LT_EVENT1_BITPOS (4)
                            11155 ; 388  |#define HW_LRADC2_RESULT_LT_EVENT0_BITPOS (5)
                            11156 ; 389  |#define HW_LRADC2_RESULT_RSVD0_BITPOS (6)
                            11157 ; 390  |#define HW_LRADC2_RESULT_DATA_OUT_BITPOS (8)
                            11158 ; 391  |#define HW_LRADC2_RESULT_RSVD1_BITPOS (17)
                            11159 ; 392  |#define HW_LRADC2_RESULT_IRQ_EVENT0_BITPOS (20)
                            11160 ; 393  |#define HW_LRADC2_RESULT_IRQ_EVENT1_BITPOS (21)
                            11161 ; 394  |#define HW_LRADC2_RESULT_RSVD2_BITPOS (22)
                            11162 ; 395  |
                            11163 ; 396  |#define HW_LRADC2_RESULT_EQ_EVENT1_SETMASK (((1<<HW_LRADC2_RESULT_EQ_EVENT1_WIDTH)-1)<<HW_
                                  LRADC2_RESULT_EQ_EVENT1_BITPOS)
                            11164 ; 397  |#define HW_LRADC2_RESULT_EQ_EVENT0_SETMASK (((1<<HW_LRADC2_RESULT_EQ_EVENT0_WIDTH)-1)<<HW_
                                  LRADC2_RESULT_EQ_EVENT0_BITPOS)
                            11165 ; 398  |#define HW_LRADC2_RESULT_GT_EVENT1_SETMASK (((1<<HW_LRADC2_RESULT_GT_EVENT1_WIDTH)-1)<<HW_
                                  LRADC2_RESULT_GT_EVENT1_BITPOS)
                            11166 ; 399  |#define HW_LRADC2_RESULT_GT_EVENT0_SETMASK (((1<<HW_LRADC2_RESULT_GT_EVENT0_WIDTH)-1)<<HW_
                                  LRADC2_RESULT_GT_EVENT0_BITPOS)
                            11167 ; 400  |#define HW_LRADC2_RESULT_LT_EVENT1_SETMASK (((1<<HW_LRADC2_RESULT_LT_EVENT1_WIDTH)-1)<<HW_
                                  LRADC2_RESULT_LT_EVENT1_BITPOS)
                            11168 ; 401  |#define HW_LRADC2_RESULT_LT_EVENT0_SETMASK (((1<<HW_LRADC2_RESULT_LT_EVENT0_WIDTH)-1)<<HW_
                                  LRADC2_RESULT_LT_EVENT0_BITPOS)
                            11169 ; 402  |#define HW_LRADC2_RESULT_RSVD0_SETMASK (((1<<HW_LRADC2_RESULT_RSVD0_WIDTH)-1)<<HW_LRADC2_R
                                  ESULT_RSVD0_BITPOS)
                            11170 ; 403  |#define HW_LRADC2_RESULT_DATA_OUT_SETMASK (((1<<HW_LRADC2_RESULT_DATA_OUT_WIDTH)-1)<<HW_LR
                                  ADC2_RESULT_DATA_OUT_BITPOS)
                            11171 ; 404  |#define HW_LRADC2_RESULT_RSVD1_SETMASK (((1<<HW_LRADC2_RESULT_RSVD1_WIDTH)-1)<<HW_LRADC2_R
                                  ESULT_RSVD1_BITPOS)
                            11172 ; 405  |#define HW_LRADC2_RESULT_IRQ_EVENT0_SETMASK (((1<<HW_LRADC2_RESULT_IRQ_EVENT0_WIDTH)-1)<<H
                                  W_LRADC2_RESULT_IRQ_EVENT0_BITPOS)
                            11173 ; 406  |#define HW_LRADC2_RESULT_IRQ_EVENT1_SETMASK (((1<<HW_LRADC2_RESULT_IRQ_EVENT1_WIDTH)-1)<<H
                                  W_LRADC2_RESULT_IRQ_EVENT1_BITPOS)
                            11174 ; 407  |#define HW_LRADC2_RESULT_RSVD2_SETMASK (((1<<HW_LRADC2_RESULT_RSVD2_WIDTH)-1)<<HW_LRADC2_R
                                  ESULT_RSVD2_BITPOS)
                            11175 ; 408  |
                            11176 ; 409  |#define HW_LRADC2_RESULT_EQ_EVENT1_CLRMASK (~(WORD)HW_LRADC2_RESULT_EQ_EVENT1_SETMASK)
                            11177 ; 410  |#define HW_LRADC2_RESULT_EQ_EVENT0_CLRMASK (~(WORD)HW_LRADC2_RESULT_EQ_EVENT0_SETMASK)
                            11178 ; 411  |#define HW_LRADC2_RESULT_GT_EVENT1_CLRMASK (~(WORD)HW_LRADC2_RESULT_GT_EVENT1_SETMASK)
                            11179 ; 412  |#define HW_LRADC2_RESULT_GT_EVENT0_CLRMASK (~(WORD)HW_LRADC2_RESULT_GT_EVENT0_SETMASK)
                            11180 ; 413  |#define HW_LRADC2_RESULT_LT_EVENT1_CLRMASK (~(WORD)HW_LRADC2_RESULT_LT_EVENT1_SETMASK)
                            11181 ; 414  |#define HW_LRADC2_RESULT_LT_EVENT0_CLRMASK (~(WORD)HW_LRADC2_RESULT_LT_EVENT0_SETMASK)
                            11182 ; 415  |#define HW_LRADC2_RESULT_RSVD0_CLRMASK (~(WORD)HW_LRADC2_RESULT_RSVD0_SETMASK)
                            11183 ; 416  |#define HW_LRADC2_RESULT_DATA_OUT_CLRMASK (~(WORD)HW_LRADC2_RESULT_DATA_OUT_SETMASK)
                            11184 ; 417  |#define HW_LRADC2_RESULT_RSVD1_CLRMASK (~(WORD)HW_LRADC2_RESULT_RSVD1_SETMASK)
                            11185 ; 418  |#define HW_LRADC2_RESULT_IRQ_EVENT0_CLRMASK (~(WORD)HW_LRADC2_RESULT_IRQ_EVENT0_SETMASK)
                            11186 ; 419  |#define HW_LRADC2_RESULT_IRQ_EVENT1_CLRMASK (~(WORD)HW_LRADC2_RESULT_IRQ_EVENT1_SETMASK)
                            11187 ; 420  |#define HW_LRADC2_RESULT_RSVD2_CLRMASK (~(WORD)HW_LRADC2_RESULT_RSVD2_SETMASK)
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 185

M:ADDR CODE           CYCLES LINE SOURCELINE
                            11188 ; 421  |
                            11189 ; 422  |#define HW_LRADC2_RESULT      (*(volatile lradc_result_type _X*) (HW_LRADC_BASEADDR+8))   
                                   /* LRADC2 Result Register */
                            11190 ; 423  |#define HW_LRADC_REF_0_SETMASK                  0x0<<HW_BATT_CTRL_REF_VAL_BITPOS
                            11191 ; 424  |#define HW_LRADC_REF_1_SETMASK                  0x1<<HW_BATT_CTRL_REF_VAL_BITPOS
                            11192 ; 425  |#define HW_LRADC_REF_2_SETMASK                  0x2<<HW_BATT_CTRL_REF_VAL_BITPOS
                            11193 ; 426  |#define HW_LRADC_REF_3_SETMASK                  0x3<<HW_BATT_CTRL_REF_VAL_BITPOS
                            11194 ; 427  |#define HW_LRADC_REF_4_SETMASK                  HW_LRADC_REF_0_SETMASK|HW_BATT_CTRL_INPUT_
                                  DIV2_SETMASK
                            11195 ; 428  |#define HW_LRADC_REF_5_SETMASK                  HW_LRADC_REF_1_SETMASK|HW_BATT_CTRL_INPUT_
                                  DIV2_SETMASK
                            11196 ; 429  |#define HW_LRADC_REF_6_SETMASK                  HW_LRADC_REF_2_SETMASK|HW_BATT_CTRL_INPUT_
                                  DIV2_SETMASK
                            11197 ; 430  |#define HW_LRADC_REF_7_SETMASK                  HW_LRADC_REF_3_SETMASK|HW_BATT_CTRL_INPUT_
                                  DIV2_SETMASK
                            11198 ; 431  |#define HW_LRADC_RES_REF_0                              80
                            11199 ; 432  |#define HW_LRADC_RES_REF_1                              77
                            11200 ; 433  |#define HW_LRADC_RES_REF_2                              100
                            11201 ; 434  |#define HW_LRADC_RES_REF_3                              129
                            11202 ; 435  |#define HW_LRADC_RES_REF_4                              160
                            11203 ; 436  |#define HW_LRADC_RES_REF_5                              154
                            11204 ; 437  |#define HW_LRADC_RES_REF_6                              200
                            11205 ; 438  |#define HW_LRADC_RES_REF_7                              258
                            11206 ; 439  |#define LRADC_HALF_POWER_SETMASK                HW_BATT_CTRL_HALF_CMP_PWR_SETMASK         
                                   
                            11207 ; 440  |// Translate the generic API enumerations into more meaningful labels for the implementati
                                  on
                            11208 ; 441  |#define REF_2700MV                      HW_LRADC_REF_0_SETMASK
                            11209 ; 442  |#define REF_2600MV              HW_LRADC_REF_1_SETMASK
                            11210 ; 443  |#define REF_2560MV              HW_LRADC_REF_2_SETMASK
                            11211 ; 444  |#define REF_VDDIO               HW_LRADC_REF_3_SETMASK
                            11212 ; 445  |#define REF_5400MV              HW_LRADC_REF_4_SETMASK
                            11213 ; 446  |#define REF_5200MV              HW_LRADC_REF_5_SETMASK
                            11214 ; 447  |#define REF_5120MV              HW_LRADC_REF_6_SETMASK
                            11215 ; 448  |#define REF_VDDIOx2             HW_LRADC_REF_7_SETMASK
                            11216 ; 449  |#define RES_REF_2700MV  HW_LRADC_RES_REF_0
                            11217 ; 450  |#define RES_REF_2600MV  HW_LRADC_RES_REF_1
                            11218 ; 451  |#define RES_REF_2560MV  HW_LRADC_RES_REF_2
                            11219 ; 452  |#define RES_REF_VDDIO   HW_LRADC_RES_REF_3
                            11220 ; 453  |#define RES_REF_5400MV  HW_LRADC_RES_REF_4
                            11221 ; 454  |#define RES_REF_5200MV  HW_LRADC_RES_REF_5
                            11222 ; 455  |#define RES_REF_5120MV  HW_LRADC_RES_REF_6
                            11223 ; 456  |#define RES_REF_VDDIOx2         HW_LRADC_RES_REF_7
                            11224 ; 457  |
                            11225 ; 458  |//Needed by button.asm
                            11226 ; 459  |#define LOW_RES_ADC_BATT_READ_MASK 0x01FF00
                            11227 ; 460  |#define LOW_RES_ADC_AUX_READ_MASK 0x01FF00
                            11228 ; 461  |#define LOW_RES_ADC_AUX2_READ_MASK 0x01FF00
                            11229 ; 462  |
                            11230 ; 463  |#define HW_LRADC_CTRL_AUXADC_SETMASK 3<<HW_BATT_CTRL_REF_VAL_BITPOS
                            11231 ; 464  |
                            11232 ; 465  |#endif
                            11233 ; 466  |
                            11234 ; 467  |
                            11235 
                            11237 
                            11238 ; 27   |#include "regspwm.h"
                            11239 
                            11241 
                            11242 ; 1    |/////////////////////////////////////////////////////////////////////////////////
                            11243 ; 2    |// Copyright(C) SigmaTel, Inc. 2000-2001
                            11244 ; 3    |// Filename: regspwm.inc
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 186

M:ADDR CODE           CYCLES LINE SOURCELINE
                            11245 ; 4    |// Description: Register definitions for PWM interface
                            11246 ; 5    |/////////////////////////////////////////////////////////////////////////////////
                            11247 ; 6    |// The following naming conventions are followed in this file.
                            11248 ; 7    |// All registers are named using the format...
                            11249 ; 8    |//     HW_<module>_<regname>
                            11250 ; 9    |// where <module> is the module name which can be any of the following...
                            11251 ; 10   |//     USB20
                            11252 ; 11   |// (Note that when there is more than one copy of a particular module, the
                            11253 ; 12   |// module name includes a number starting from 0 for the first instance of
                            11254 ; 13   |// that module)
                            11255 ; 14   |// <regname> is the specific register within that module
                            11256 ; 15   |// We also define the following...
                            11257 ; 16   |//     HW_<module>_<regname>_BITPOS
                            11258 ; 17   |// which defines the starting bit (i.e. LSB) of a multi bit field
                            11259 ; 18   |//     HW_<module>_<regname>_SETMASK
                            11260 ; 19   |// which does something else, and
                            11261 ; 20   |//     HW_<module>_<regname>_CLRMASK
                            11262 ; 21   |// which does something else.
                            11263 ; 22   |// Other rules
                            11264 ; 23   |//     All caps
                            11265 ; 24   |//     Numeric identifiers start at 0
                            11266 ; 25   |#if !(defined(regspwminc))
                            11267 ; 26   |#define regspwminc 1
                            11268 ; 27   |
                            11269 ; 28   |#include "types.h"
                            11270 
                            11272 
                            11273 ; 1    |////////////////////////////////////////////////////////////////////////////////
                            11274 ; 2    |// Copyright(C) SigmaTel, Inc. 2000-2004
                            11275 ; 3    |//
                            11276 ; 4    |// Filename: types.h
                            11277 ; 5    |// Description: Standard data types
                            11278 ; 6    |////////////////////////////////////////////////////////////////////////////////
                            11279 ; 7    |
                            11280 ; 8    |#ifndef _TYPES_H
                            11281 ; 9    |#define _TYPES_H
                            11282 ; 10   |
                            11283 ; 11   |// TODO:  move this outta here!
                            11284 ; 12   |#if !defined(NOERROR)
                            11285 ; 13   |#define NOERROR 0
                            11286 ; 14   |#define SUCCESS 0
                            11287 ; 15   |#endif 
                            11288 ; 16   |#if !defined(SUCCESS)
                            11289 ; 17   |#define SUCCESS  0
                            11290 ; 18   |#endif
                            11291 ; 19   |#if !defined(ERROR)
                            11292 ; 20   |#define ERROR   -1
                            11293 ; 21   |#endif
                            11294 ; 22   |#if !defined(FALSE)
                            11295 ; 23   |#define FALSE 0
                            11296 ; 24   |#endif
                            11297 ; 25   |#if !defined(TRUE)
                            11298 ; 26   |#define TRUE  1
                            11299 ; 27   |#endif
                            11300 ; 28   |
                            11301 ; 29   |#if !defined(NULL)
                            11302 ; 30   |#define NULL 0
                            11303 ; 31   |#endif
                            11304 ; 32   |
                            11305 ; 33   |#define MAX_INT     0x7FFFFF
                            11306 ; 34   |#define MAX_LONG    0x7FFFFFffffff
                            11307 ; 35   |        // max positive unsigned long value: -1 == 0xFFFFFFffffff
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 187

M:ADDR CODE           CYCLES LINE SOURCELINE
                            11308 ; 36   |#define MAX_ULONG   (-1) 
                            11309 ; 37   |
                            11310 ; 38   |#define WORD_SIZE   24              // word size in bits
                            11311 ; 39   |#define BYTES_PER_WORD 3            // 8 bit bytes
                            11312 ; 40   |
                            11313 ; 41   |
                            11314 ; 42   |#define BYTE    unsigned char       // btVarName
                            11315 ; 43   |#define CHAR    signed char         // cVarName
                            11316 ; 44   |#define USHORT  unsigned short      // usVarName
                            11317 ; 45   |#define SHORT   unsigned short      // sVarName
                            11318 ; 46   |#define WORD    unsigned int        // wVarName
                            11319 ; 47   |#define INT     signed int          // iVarName
                            11320 ; 48   |#define DWORD   unsigned long       // dwVarName
                            11321 ; 49   |#define LONG    signed long         // lVarName
                            11322 ; 50   |#define BOOL    unsigned int        // bVarName
                            11323 ; 51   |#define FRACT   _fract              // frVarName
                            11324 ; 52   |#define LFRACT  long _fract         // lfrVarName
                            11325 ; 53   |#define CIRC    _circ               // cp<type prefix>VarName (see below)
                            11326 ; 54   |#define FLOAT   float               // fVarName
                            11327 ; 55   |#define DBL     double              // dVarName
                            11328 ; 56   |#define ENUM    enum                // eVarName
                            11329 ; 57   |#define CMX     _complex            // cmxVarName
                            11330 ; 58   |typedef WORD UCS3;                   // 
                            11331 ; 59   |
                            11332 ; 60   |#define UINT16  unsigned short
                            11333 ; 61   |#define UINT8   unsigned char   
                            11334 ; 62   |#define UINT32  unsigned long
                            11335 ; 63   |#define UINT64  unsigned long   // need to figure out how to do 64 bit values.  Or port ex
                                  isiting code to only use 48 bit
                            11336 ; 64   |#define INT64   unsigned long   // need to figure out how to do 64 bit values.  Or port ex
                                  isiting code to only use 48 bit
                            11337 ; 65   |#define WCHAR   UINT16
                            11338 ; 66   |
                            11339 ; 67   |//UINT128 is 16 bytes or 6 words
                            11340 ; 68   |typedef struct UINT128_3500 {   
                            11341 ; 69   |    int val[6];     
                            11342 ; 70   |} UINT128_3500;
                            11343 ; 71   |
                            11344 ; 72   |#define UINT128   UINT128_3500
                            11345 ; 73   |
                            11346 ; 74   |// Little endian word packed byte strings:   
                            11347 ; 75   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                            11348 ; 76   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                            11349 ; 77   |// Little endian word packed byte strings:   
                            11350 ; 78   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                            11351 ; 79   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                            11352 ; 80   |
                            11353 ; 81   |// Declare Memory Spaces To Use When Coding
                            11354 ; 82   |// A. Sector Buffers
                            11355 ; 83   |#define SECTOR_BUFFER_MEM_X _X
                            11356 ; 84   |#define SECTOR_BUFFER_MEM_Y _Y
                            11357 ; 85   |#define SECTOR_BUFFER_MEM SECTOR_BUFFER_MEM_X
                            11358 ; 86   |typedef WORD SECTOR_BUFFER_MEM SECTOR_BUFFER;
                            11359 ; 87   |typedef SECTOR_BUFFER * P_SECTOR_BUFFER;
                            11360 ; 88   |// B. Media DDI Memory
                            11361 ; 89   |#define MEDIA_DDI_MEM _Y
                            11362 ; 90   |
                            11363 ; 91   |
                            11364 ; 92   |
                            11365 ; 93   |// Pointers to linear structures are labeled as: p<type prefix>VarName
                            11366 ; 94   |// Examples of circular pointers:
                            11367 ; 95   |//    INT CIRC cpiVarName
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 188

M:ADDR CODE           CYCLES LINE SOURCELINE
                            11368 ; 96   |//    DWORD CIRC cpdwVarName
                            11369 ; 97   |
                            11370 ; 98   |#define RETCODE INT                 // rcVarName
                            11371 ; 99   |
                            11372 ; 100  |// generic bitfield structure
                            11373 ; 101  |struct Bitfield {
                            11374 ; 102  |    unsigned int B0  :1;
                            11375 ; 103  |    unsigned int B1  :1;
                            11376 ; 104  |    unsigned int B2  :1;
                            11377 ; 105  |    unsigned int B3  :1;
                            11378 ; 106  |    unsigned int B4  :1;
                            11379 ; 107  |    unsigned int B5  :1;
                            11380 ; 108  |    unsigned int B6  :1;
                            11381 ; 109  |    unsigned int B7  :1;
                            11382 ; 110  |    unsigned int B8  :1;
                            11383 ; 111  |    unsigned int B9  :1;
                            11384 ; 112  |    unsigned int B10 :1;
                            11385 ; 113  |    unsigned int B11 :1;
                            11386 ; 114  |    unsigned int B12 :1;
                            11387 ; 115  |    unsigned int B13 :1;
                            11388 ; 116  |    unsigned int B14 :1;
                            11389 ; 117  |    unsigned int B15 :1;
                            11390 ; 118  |    unsigned int B16 :1;
                            11391 ; 119  |    unsigned int B17 :1;
                            11392 ; 120  |    unsigned int B18 :1;
                            11393 ; 121  |    unsigned int B19 :1;
                            11394 ; 122  |    unsigned int B20 :1;
                            11395 ; 123  |    unsigned int B21 :1;
                            11396 ; 124  |    unsigned int B22 :1;
                            11397 ; 125  |    unsigned int B23 :1;
                            11398 ; 126  |};
                            11399 ; 127  |
                            11400 ; 128  |union BitInt {
                            11401 ; 129  |        struct Bitfield B;
                            11402 ; 130  |        int        I;
                            11403 ; 131  |};
                            11404 ; 132  |
                            11405 ; 133  |#define MAX_MSG_LENGTH 10
                            11406 ; 134  |struct CMessage
                            11407 ; 135  |{
                            11408 ; 136  |        unsigned int m_uLength;
                            11409 ; 137  |        unsigned int m_uMsg[MAX_MSG_LENGTH];
                            11410 ; 138  |};
                            11411 ; 139  |
                            11412 ; 140  |typedef struct {
                            11413 ; 141  |    WORD m_wLength;
                            11414 ; 142  |    WORD m_wMessage;
                            11415 ; 143  |    WORD m_wParams[MAX_MSG_LENGTH];
                            11416 ; 144  |} Message;
                            11417 ; 145  |
                            11418 ; 146  |struct MessageQueueDescriptor
                            11419 ; 147  |{
                            11420 ; 148  |        int *m_pBase;
                            11421 ; 149  |        int m_iModulo;
                            11422 ; 150  |        int m_iSize;
                            11423 ; 151  |        int *m_pHead;
                            11424 ; 152  |        int *m_pTail;
                            11425 ; 153  |};
                            11426 ; 154  |
                            11427 ; 155  |struct ModuleEntry
                            11428 ; 156  |{
                            11429 ; 157  |    int m_iSignaledEventMask;
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 189

M:ADDR CODE           CYCLES LINE SOURCELINE
                            11430 ; 158  |    int m_iWaitEventMask;
                            11431 ; 159  |    int m_iResourceOfCode;
                            11432 ; 160  |    struct MessageQueueDescriptor *m_pMessageQueue;
                            11433 ; 161  |    int _asmfunc (*m_pProcessEntryPoint)(union WaitMask Signals,struct MessageQueueDescrip
                                  tor *);
                            11434 ; 162  |    int _asmfunc (*m_pInitFunction)(struct MessageQueueDescriptor *);
                            11435 ; 163  |    int m_uTimeOutHigh;
                            11436 ; 164  |    int m_uTimeOutLow;
                            11437 ; 165  |    int _asmfunc (*m_pBackgroundFunction)(struct MessageQueueDescriptor *);
                            11438 ; 166  |};
                            11439 ; 167  |
                            11440 ; 168  |union WaitMask{
                            11441 ; 169  |    struct B{
                            11442 ; 170  |        unsigned int m_bNone     :1;
                            11443 ; 171  |        unsigned int m_bMessage  :1;
                            11444 ; 172  |        unsigned int m_bTimer    :1;
                            11445 ; 173  |        unsigned int m_bButton   :1;
                            11446 ; 174  |    } B;
                            11447 ; 175  |    int I;
                            11448 ; 176  |} ;
                            11449 ; 177  |
                            11450 ; 178  |
                            11451 ; 179  |struct Button {
                            11452 ; 180  |        WORD wButtonEvent;
                            11453 ; 181  |        WORD wUnused[MAX_MSG_LENGTH];   
                            11454 ; 182  |};
                            11455 ; 183  |
                            11456 ; 184  |struct Message {
                            11457 ; 185  |        WORD wMsgLength;
                            11458 ; 186  |        WORD wMsgCommand;
                            11459 ; 187  |        WORD wMsgParms[MAX_MSG_LENGTH-1];
                            11460 ; 188  |};
                            11461 ; 189  |
                            11462 ; 190  |union EventTypes {
                            11463 ; 191  |        struct CMessage msg;
                            11464 ; 192  |        struct Button Button ;
                            11465 ; 193  |        struct Message Message;
                            11466 ; 194  |};
                            11467 ; 195  |
                            11468 ; 196  |// next 2 used to get updater build to return correct protocol ver in scsi response.
                            11469 ; 197  |#define BUILD_TYPE_UPDATER  0x100
                            11470 ; 198  |#define BUILD_TYPE_HOSTLINK 0x101
                            11471 ; 199  |#define BUILD_TYPE_PLAYER   0x102
                            11472 ; 200  |
                            11473 ; 201  |// Resets part if RETAIL build. DEBUG build executes debug instruction to halt.
                            11474 ; 202  |#define SystemHalt() __asm(" include 'sysmacro.asm' \n error") 
                            11475 ; 203  |#define assert(x)    if(!(x)) __asm(" include 'sysmacro.asm' \n error")
                            11476 ; 204  |
                            11477 ; 205  |#if DEBUG
                            11478 ; 206  |// For DEBUG builds, DebugBuildAssert(condition) halts if condition evaluates to FALSE. 
                            11479 ; 207  |#define DebugBuildAssert(x)    if(!(x)) __asm(" debug ")
                            11480 ; 208  |#else 
                            11481 ; 209  |// For RETAIL builds, DebugBuildAssert(condition) does nothing & execution continues rathe
                                  r than halt or reset. 
                            11482 ; 210  |#define DebugBuildAssert(x)    
                            11483 ; 211  |#endif
                            11484 ; 212  |
                            11485 ; 213  |// Do this in your C files to make a reminder that's displayed during the build.
                            11486 ; 214  |//  #pragma asm
                            11487 ; 215  |//  WARN 'Note to builder: reminder to do this after verifying that'
                            11488 ; 216  |//  #pragma endasm
                            11489 ; 217  |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 190

M:ADDR CODE           CYCLES LINE SOURCELINE
                            11490 ; 218  |
                            11491 ; 219  |#ifdef COLOR_262K
                            11492 ; 220  |#define RGB(r,g,b)    ((0x0000FC & (r)) << 10) | ((0x0000FC & (g)) << 4) | ((0x0000FC & (b
                                  )) >> 2)    //262k
                            11493 ; 221  |#elif defined(COLOR_65K)
                            11494 ; 222  |#define RGB(r,g,b)    ((0x0000F8 & (r)) << 8) | ((0x0000FC & (g)) << 3) | ((0x0000F8 & (b)
                                  ) >> 3)  //65k
                            11495 ; 223  |#else
                            11496 ; 224  |#define RGB(r,g,b)       ((0x0000F0 & (r)) << 4) | (0x0000F0 & (g)) | ((0x0000F0 & (b)) >>
                                   4)
                            11497 ; 225  |#endif
                            11498 ; 226  |    
                            11499 ; 227  |#endif // #ifndef _TYPES_H
                            11500 
                            11502 
                            11503 ; 29   |
                            11504 ; 30   |//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                            11505 ; 31   |//   Pulse Width Modulator STMP Registers 
                            11506 ; 32   |//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                            11507 ; 33   |#define HW_PWM_BASEADDR (0xFA31)
                            11508 ; 34   |
                            11509 ; 35   |
                            11510 ; 36   |/////////////////////////////////////////////////////////////////////////////////
                            11511 ; 37   |//  PWM CSR register (HW_PWM_CSR) Bit Definitions
                            11512 ; 38   |#define HW_PWM_CSR_PWM0_EN_BITPOS (0)
                            11513 ; 39   |#define HW_PWM_CSR_PWM1_EN_BITPOS (1) 
                            11514 ; 40   |#define HW_PWM_CSR_PWM2_EN_BITPOS (2)
                            11515 ; 41   |#define HW_PWM_CSR_PWM3_EN_BITPOS (3)
                            11516 ; 42   |#define HW_PWM_CSR_CDIV_BITPOS (8)
                            11517 ; 43   |#define HW_PWM_CSR_MSTR_EN_BITPOS (23)
                            11518 ; 44   |
                            11519 ; 45   |#define HW_PWM_CSR_PWM0_EN_WIDTH (1)
                            11520 ; 46   |#define HW_PWM_CSR_PWM1_EN_WIDTH (1) 
                            11521 ; 47   |#define HW_PWM_CSR_PWM2_EN_WIDTH (1)
                            11522 ; 48   |#define HW_PWM_CSR_PWM3_EN_WIDTH (1)
                            11523 ; 49   |#define HW_PWM_CSR_CDIV_WIDTH (2)
                            11524 ; 50   |#define HW_PWM_CSR_MSTR_EN_WIDTH (1)
                            11525 ; 51   |
                            11526 ; 52   |#define HW_PWM_CSR_PWM0_EN_SETMASK (((1<<HW_PWM_CSR_PWM0_EN_WIDTH)-1)<<HW_PWM_CSR_PWM0_EN_
                                  BITPOS)
                            11527 ; 53   |#define HW_PWM_CSR_PWM1_EN_SETMASK (((1<<HW_PWM_CSR_PWM1_EN_WIDTH)-1)<<HW_PWM_CSR_PWM1_EN_
                                  BITPOS)
                            11528 ; 54   |#define HW_PWM_CSR_PWM2_EN_SETMASK (((1<<HW_PWM_CSR_PWM2_EN_WIDTH)-1)<<HW_PWM_CSR_PWM2_EN_
                                  BITPOS)
                            11529 ; 55   |#define HW_PWM_CSR_PWM3_EN_SETMASK (((1<<HW_PWM_CSR_PWM3_EN_WIDTH)-1)<<HW_PWM_CSR_PWM3_EN_
                                  BITPOS)
                            11530 ; 56   |#define HW_PWM_CSR_CDIV_SETMASK (((1<<HW_PWM_CSR_CDIV_WIDTH)-1)<<HW_PWM_CSR_CDIV_BITPOS)
                            11531 ; 57   |#define HW_PWM_CSR_MSTR_EN_SETMASK (((1<<HW_PWM_CSR_MSTR_EN_WIDTH)-1)<<HW_PWM_CSR_MSTR_EN_
                                  BITPOS)
                            11532 ; 58   |
                            11533 ; 59   |#define HW_PWM_CSR_PWM0_EN_CLRMASK (~(WORD)HW_PWM_CSR_PWM0_EN_SETMASK)
                            11534 ; 60   |#define HW_PWM_CSR_PWM1_EN_CLRMASK (~(WORD)HW_PWM_CSR_PWM1_EN_SETMASK)
                            11535 ; 61   |#define HW_PWM_CSR_PWM2_EN_CLRMASK (~(WORD)HW_PWM_CSR_PWM2_EN_SETMASK)
                            11536 ; 62   |#define HW_PWM_CSR_PWM3_EN_CLRMASK (~(WORD)HW_PWM_CSR_PWM3_EN_SETMASK)
                            11537 ; 63   |#define HW_PWM_CSR_CDIV_CLRMASK (~(WORD)HW_PWM_CSR_CDIV_SETMASK)   
                            11538 ; 64   |#define HW_PWM_CSR_MSTR_EN_CLRMASK (~(WORD)HW_PWM_CSR_MSTR_EN_SETMASK)
                            11539 ; 65   |
                            11540 ; 66   |typedef union               
                            11541 ; 67   |{
                            11542 ; 68   |    struct {
                            11543 ; 69   |        int PWM0_EN                    :1;
                            11544 ; 70   |        int PWM1_EN                    :1;
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 191

M:ADDR CODE           CYCLES LINE SOURCELINE
                            11545 ; 71   |        int PWM2_EN                    :1;
                            11546 ; 72   |        int PWM3_EN                    :1;
                            11547 ; 73   |        int RSVD0                      :4;
                            11548 ; 74   |        int CDIV                       :2;
                            11549 ; 75   |        int RSVD1                      :13;
                            11550 ; 76   |        int MSTR_EN                    :1;
                            11551 ; 77   |    } B;
                            11552 ; 78   |    int I;
                            11553 ; 79   |} pwmcsr_type;
                            11554 ; 80   |#define HW_PWM_CSR        (*(volatile pwmcsr_type _X*) (HW_PWM_BASEADDR))  /* PWM Control 
                                  Status Register */
                            11555 ; 81   |
                            11556 ; 82   |/////////////////////////////////////////////////////////////////////////////////
                            11557 ; 83   |//  PWM CHANNEL 0 A  (HW_PWM_CH0AR) Bit Definitions
                            11558 ; 84   |#define HW_PWM_CH0AR_ACTIVE_BITPOS (0)
                            11559 ; 85   |#define HW_PWM_CH0AR_INACTIVE_BITPOS (12)
                            11560 ; 86   |
                            11561 ; 87   |#define HW_PWM_CH0AR_ACTIVE_WIDTH (12)
                            11562 ; 88   |#define HW_PWM_CH0AR_INACTIVE_WIDTH (12)
                            11563 ; 89   |
                            11564 ; 90   |#define HW_PWM_CH0AR_ACTIVE_SETMASK (((1<<HW_PWM_CH0AR_ACTIVE_WIDTH)-1)<<HW_PWM_CH0AR_ACTI
                                  VE_BITPOS)
                            11565 ; 91   |#define HW_PWM_CH0AR_INACTIVE_SETMASK (((1<<HW_PWM_CH0AR_INACTIVE_WIDTH)-1)<<HW_PWM_CH0AR_
                                  INACTIVE_BITPOS)
                            11566 ; 92   |
                            11567 ; 93   |#define HW_PWM_CH0AR_ACTIVE_CLRMASK (~(WORD)HW_PWM_CH0AR_ACTIVE_SETMASK)
                            11568 ; 94   |#define HW_PWM_CH0AR_INACTIVE_CLRMASK (~(WORD)HW_PWM_CH0AR_INACTIVE_SETMASK)
                            11569 ; 95   |
                            11570 ; 96   |/////////////////////////////////////////////////////////////////////////////////
                            11571 ; 97   |//  PWM CHANNEL 0 B  (HW_PWM_CH0BR) Bit Definitions
                            11572 ; 98   |#define HW_PWM_CH0BR_ACTIVE_BITPOS (0)
                            11573 ; 99   |#define HW_PWM_CH0BR_INACTIVE_BITPOS (12)
                            11574 ; 100  |
                            11575 ; 101  |#define HW_PWM_CH0BR_ACTIVE_WIDTH (12)
                            11576 ; 102  |#define HW_PWM_CH0BR_INACTIVE_WIDTH (12)
                            11577 ; 103  |
                            11578 ; 104  |#define HW_PWM_CH0BR_ACTIVE_SETMASK (((1<<HW_PWM_CH0BR_ACTIVE_WIDTH)-1)<<HW_PWM_CH0BR_ACTI
                                  VE_BITPOS)
                            11579 ; 105  |#define HW_PWM_CH0BR_INACTIVE_SETMASK (((1<<HW_PWM_CH0BR_INACTIVE_WIDTH)-1)<<HW_PWM_CH0BR_
                                  INACTIVE_BITPOS)
                            11580 ; 106  |
                            11581 ; 107  |#define HW_PWM_CH0BR_ACTIVE_CLRMASK (~(WORD)HW_PWM_CH0BR_ACTIVE_SETMASK)
                            11582 ; 108  |#define HW_PWM_CH0BR_INACTIVE_CLRMASK (~(WORD)HW_PWM_CH0BR_INACTIVE_SETMASK)
                            11583 ; 109  |
                            11584 ; 110  |/////////////////////////////////////////////////////////////////////////////////
                            11585 ; 111  |//  PWM CHANNEL 1 A  (HW_PWM_CH1AR) Bit Definitions
                            11586 ; 112  |#define HW_PWM_CH1AR_ACTIVE_BITPOS (0)
                            11587 ; 113  |#define HW_PWM_CH1AR_INACTIVE_BITPOS (12)
                            11588 ; 114  |
                            11589 ; 115  |#define HW_PWM_CH1AR_ACTIVE_WIDTH (12)
                            11590 ; 116  |#define HW_PWM_CH1AR_INACTIVE_WIDTH (12)
                            11591 ; 117  |
                            11592 ; 118  |#define HW_PWM_CH1AR_ACTIVE_SETMASK (((1<<HW_PWM_CH1AR_ACTIVE_WIDTH)-1)<<HW_PWM_CH1AR_ACTI
                                  VE_BITPOS)
                            11593 ; 119  |#define HW_PWM_CH1AR_INACTIVE_SETMASK (((1<<HW_PWM_CH1AR_INACTIVE_WIDTH)-1)<<HW_PWM_CH1AR_
                                  INACTIVE_BITPOS)
                            11594 ; 120  |
                            11595 ; 121  |#define HW_PWM_CH1AR_ACTIVE_CLRMASK (~(WORD)HW_PWM_CH1AR_ACTIVE_SETMASK)
                            11596 ; 122  |#define HW_PWM_CH1AR_INACTIVE_CLRMASK (~(WORD)HW_PWM_CH1AR_INACTIVE_SETMASK)
                            11597 ; 123  |
                            11598 ; 124  |/////////////////////////////////////////////////////////////////////////////////
                            11599 ; 125  |//  PWM CHANNEL 1 B  (HW_PWM_CH1BR) Bit Definitions
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 192

M:ADDR CODE           CYCLES LINE SOURCELINE
                            11600 ; 126  |#define HW_PWM_CH1BR_ACTIVE_BITPOS (0)
                            11601 ; 127  |#define HW_PWM_CH1BR_INACTIVE_BITPOS (12)
                            11602 ; 128  |
                            11603 ; 129  |#define HW_PWM_CH1BR_ACTIVE_WIDTH (12)
                            11604 ; 130  |#define HW_PWM_CH1BR_INACTIVE_WIDTH (12)
                            11605 ; 131  |
                            11606 ; 132  |#define HW_PWM_CH1BR_ACTIVE_SETMASK (((1<<HW_PWM_CH1BR_ACTIVE_WIDTH)-1)<<HW_PWM_CH1BR_ACTI
                                  VE_BITPOS)
                            11607 ; 133  |#define HW_PWM_CH1BR_INACTIVE_SETMASK (((1<<HW_PWM_CH1BR_INACTIVE_WIDTH)-1)<<HW_PWM_CH1BR_
                                  INACTIVE_BITPOS)
                            11608 ; 134  |
                            11609 ; 135  |#define HW_PWM_CH1BR_ACTIVE_CLRMASK (~(WORD)HW_PWM_CH1BR_ACTIVE_SETMASK)
                            11610 ; 136  |#define HW_PWM_CH1BR_INACTIVE_CLRMASK (~(WORD)HW_PWM_CH1BR_INACTIVE_SETMASK)
                            11611 ; 137  |
                            11612 ; 138  |/////////////////////////////////////////////////////////////////////////////////
                            11613 ; 139  |//  PWM CHANNEL 2 A  (HW_PWM_CH2AR) Bit Definitions
                            11614 ; 140  |#define HW_PWM_CH2AR_ACTIVE_BITPOS (0)
                            11615 ; 141  |#define HW_PWM_CH2AR_INACTIVE_BITPOS (12)
                            11616 ; 142  |
                            11617 ; 143  |#define HW_PWM_CH2AR_ACTIVE_WIDTH (12)
                            11618 ; 144  |#define HW_PWM_CH2AR_INACTIVE_WIDTH (12)
                            11619 ; 145  |
                            11620 ; 146  |#define HW_PWM_CH2AR_ACTIVE_SETMASK (((1<<HW_PWM_CH2AR_ACTIVE_WIDTH)-1)<<HW_PWM_CH2AR_ACTI
                                  VE_BITPOS)
                            11621 ; 147  |#define HW_PWM_CH2AR_INACTIVE_SETMASK (((1<<HW_PWM_CH2AR_INACTIVE_WIDTH)-1)<<HW_PWM_CH2AR_
                                  INACTIVE_BITPOS)
                            11622 ; 148  |
                            11623 ; 149  |#define HW_PWM_CH2AR_ACTIVE_CLRMASK (~(WORD)HW_PWM_CH2AR_ACTIVE_SETMASK)
                            11624 ; 150  |#define HW_PWM_CH2AR_INACTIVE_CLRMASK (~(WORD)HW_PWM_CH2AR_INACTIVE_SETMASK)
                            11625 ; 151  |
                            11626 ; 152  |/////////////////////////////////////////////////////////////////////////////////
                            11627 ; 153  |//  PWM CHANNEL 2 B  (HW_PWM_CH2BR) Bit Definitions
                            11628 ; 154  |#define HW_PWM_CH2BR_ACTIVE_BITPOS (0)
                            11629 ; 155  |#define HW_PWM_CH2BR_INACTIVE_BITPOS (12)
                            11630 ; 156  |
                            11631 ; 157  |#define HW_PWM_CH2BR_ACTIVE_WIDTH (12)
                            11632 ; 158  |#define HW_PWM_CH2BR_INACTIVE_WIDTH (12)
                            11633 ; 159  |
                            11634 ; 160  |#define HW_PWM_CH2BR_ACTIVE_SETMASK (((1<<HW_PWM_CH2BR_ACTIVE_WIDTH)-1)<<HW_PWM_CH2BR_ACTI
                                  VE_BITPOS)
                            11635 ; 161  |#define HW_PWM_CH2BR_INACTIVE_SETMASK (((1<<HW_PWM_CH2BR_INACTIVE_WIDTH)-1)<<HW_PWM_CH2BR_
                                  INACTIVE_BITPOS)
                            11636 ; 162  |
                            11637 ; 163  |#define HW_PWM_CH2BR_ACTIVE_CLRMASK (~(WORD)HW_PWM_CH2BR_ACTIVE_SETMASK)
                            11638 ; 164  |#define HW_PWM_CH2BR_INACTIVE_CLRMASK (~(WORD)HW_PWM_CH2BR_INACTIVE_SETMASK)
                            11639 ; 165  |
                            11640 ; 166  |/////////////////////////////////////////////////////////////////////////////////
                            11641 ; 167  |//  PWM CHANNEL 3 A  (HW_PWM_CH3AR) Bit Definitions
                            11642 ; 168  |#define HW_PWM_CH3AR_ACTIVE_BITPOS (0)
                            11643 ; 169  |#define HW_PWM_CH3AR_INACTIVE_BITPOS (12)
                            11644 ; 170  |
                            11645 ; 171  |#define HW_PWM_CH3AR_ACTIVE_WIDTH (12)
                            11646 ; 172  |#define HW_PWM_CH3AR_INACTIVE_WIDTH (12)
                            11647 ; 173  |
                            11648 ; 174  |#define HW_PWM_CH3AR_ACTIVE_SETMASK (((1<<HW_PWM_CH3AR_ACTIVE_WIDTH)-1)<<HW_PWM_CH3AR_ACTI
                                  VE_BITPOS)
                            11649 ; 175  |#define HW_PWM_CH3AR_INACTIVE_SETMASK (((1<<HW_PWM_CH3AR_INACTIVE_WIDTH)-1)<<HW_PWM_CH3AR_
                                  INACTIVE_BITPOS)
                            11650 ; 176  |
                            11651 ; 177  |#define HW_PWM_CH3AR_ACTIVE_CLRMASK (~(WORD)HW_PWM_CH3AR_ACTIVE_SETMASK)
                            11652 ; 178  |#define HW_PWM_CH3AR_INACTIVE_CLRMASK (~(WORD)HW_PWM_CH3AR_INACTIVE_SETMASK)
                            11653 ; 179  |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 193

M:ADDR CODE           CYCLES LINE SOURCELINE
                            11654 ; 180  |/////////////////////////////////////////////////////////////////////////////////
                            11655 ; 181  |//  PWM CHANNEL 3 B  (HW_PWM_CH3BR) Bit Definitions
                            11656 ; 182  |#define HW_PWM_CH3BR_ACTIVE_BITPOS (0)
                            11657 ; 183  |#define HW_PWM_CH3BR_INACTIVE_BITPOS (12)
                            11658 ; 184  |
                            11659 ; 185  |#define HW_PWM_CH3BR_ACTIVE_WIDTH (12)
                            11660 ; 186  |#define HW_PWM_CH3BR_INACTIVE_WIDTH (12)
                            11661 ; 187  |
                            11662 ; 188  |#define HW_PWM_CH3BR_ACTIVE_SETMASK (((1<<HW_PWM_CH3BR_ACTIVE_WIDTH)-1)<<HW_PWM_CH3BR_ACTI
                                  VE_BITPOS)
                            11663 ; 189  |#define HW_PWM_CH3BR_INACTIVE_SETMASK (((1<<HW_PWM_CH3BR_INACTIVE_WIDTH)-1)<<HW_PWM_CH3BR_
                                  INACTIVE_BITPOS)
                            11664 ; 190  |
                            11665 ; 191  |#define HW_PWM_CH3BR_ACTIVE_CLRMASK (~(WORD)HW_PWM_CH3BR_ACTIVE_SETMASK)
                            11666 ; 192  |#define HW_PWM_CH3BR_INACTIVE_CLRMASK (~(WORD)HW_PWM_CH3BR_INACTIVE_SETMASK)
                            11667 ; 193  |
                            11668 ; 194  |typedef union               
                            11669 ; 195  |{
                            11670 ; 196  |    struct {
                            11671 ; 197  |       int ACTIVE                    :12;
                            11672 ; 198  |       int INACTIVE                  :12;
                            11673 ; 199  |    } B;
                            11674 ; 200  |    int I;
                            11675 ; 201  |} pwmchan_type;
                            11676 ; 202  |#define HW_PWM_CH0AR        (*(volatile pwmchan_type _X*) (HW_PWM_BASEADDR+1))  /* PWM Cha
                                  nnel 0 A Register */
                            11677 ; 203  |#define HW_PWM_CH0BR        (*(volatile pwmchan_type _X*) (HW_PWM_BASEADDR+2))  /* PWM Cha
                                  nnel 0 B Register */
                            11678 ; 204  |#define HW_PWM_CH1AR        (*(volatile pwmchan_type _X*) (HW_PWM_BASEADDR+3))  /* PWM Cha
                                  nnel 1 A Register */
                            11679 ; 205  |#define HW_PWM_CH1BR        (*(volatile pwmchan_type _X*) (HW_PWM_BASEADDR+4))  /* PWM Cha
                                  nnel 1 B Register */
                            11680 ; 206  |#define HW_PWM_CH2AR        (*(volatile pwmchan_type _X*) (HW_PWM_BASEADDR+5))  /* PWM Cha
                                  nnel 2 A Register */
                            11681 ; 207  |#define HW_PWM_CH2BR        (*(volatile pwmchan_type _X*) (HW_PWM_BASEADDR+6))  /* PWM Cha
                                  nnel 2 B Register */
                            11682 ; 208  |#define HW_PWM_CH3AR        (*(volatile pwmchan_type _X*) (HW_PWM_BASEADDR+7))  /* PWM Cha
                                  nnel 3 A Register */
                            11683 ; 209  |#define HW_PWM_CH3BR        (*(volatile pwmchan_type _X*) (HW_PWM_BASEADDR+8))  /* PWM Cha
                                  nnel 3 B Register */
                            11684 ; 210  |
                            11685 ; 211  |#endif
                            11686 ; 212  |
                            11687 ; 213  |
                            11688 ; 214  |
                            11689 ; 215  |
                            11690 
                            11692 
                            11693 ; 28   |#include "regsrevision.h"
                            11694 
                            11696 
                            11697 ; 1    |#if !(defined(__HW_REVR))
                            11698 ; 2    |#define __HW_REVR 1
                            11699 ; 3    |
                            11700 ; 4    |
                            11701 ; 5    |#define HW_GLUE_BASEADDR 0xFA00
                            11702 ; 6    |
                            11703 ; 7    |#define HW_REVR_RMN_BITPOS (0)
                            11704 ; 8    |#define HW_REVR_DCDCMODE_BITPOS (5)
                            11705 ; 9    |#define HW_REVR_RMJ_BITPOS (8)
                            11706 ; 10   |
                            11707 ; 11   |#define HW_REVR_RMN_WIDTH (5)
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 194

M:ADDR CODE           CYCLES LINE SOURCELINE
                            11708 ; 12   |#define HW_REVR_DCDCMODE_WIDTH (3)
                            11709 ; 13   |
                            11710 ; 14   |#define HW_REVR_DCDCMODE_SETMASK (((1<<HW_REVR_DCDCMODE_WIDTH)-1)<<HW_REVR_DCDCMODE_BITPOS
                                  )
                            11711 ; 15   |
                            11712 ; 16   |#define HW_REVR_DCDCMODE_CLRMASK (~(WORD)HW_REVR_DCDCMODE_SETMASK)
                            11713 ; 17   |
                            11714 ; 18   |
                            11715 ; 19   |/////////////////////////////////////////////////////////////////////////////////
                            11716 ; 20   |//  Revision Register (HW_REVR) bitfields and values. (read only)
                            11717 ; 21   |//  June15 2004: C struct updated to be correct: 
                            11718 ; 22   |//   Added DCDCMODE bitfield. Removed RMP bitfield. Reduced size of RMN bitfield to 5 bits
                                  .
                            11719 ; 23   |typedef union               
                            11720 ; 24   |{
                            11721 ; 25   |    struct {
                            11722 ; 26   |        unsigned RMN    :5;     //Minor Revision
                            11723 ; 27   |        unsigned DCDCMODE : 3;  //DCDC mode field function depends on DCDC mode pin strapp
                                  ing
                            11724 ; 28   |           #define DCDCMODE_7_CONVERTER1_2CH_BOOST_CONVERTER2_OFF      7
                            11725 ; 29   |           #define DCDCMODE_6_RESERVED                                 6
                            11726 ; 30   |           #define DCDCMODE_5_CONVERTER1_3CH_BOOST_CONVERTER2_OFF      5
                            11727 ; 31   |           #define DCDCMODE_4_RESERVED                                 4
                            11728 ; 32   |           #define DCDCMODE_3_CONVERTER1_1CH_BUCK_CONVERTER2_OFF       3
                            11729 ; 33   |           #define DCDCMODE_2_CONVERTER1_OFF_CONVERTER2_OFF            2
                            11730 ; 34   |           #define DCDCMODE_1_CONVERTER1_1CH_BUCK_CONVERTER2_1CH_BOOST 1
                            11731 ; 35   |           #define DCDCMODE_0_CONVERTER1_1CH_BUCK_CONVERTER2_1CH_BUCK  0
                            11732 ; 36   |           #define DCDCMODE_X_BUCK_MASKED_SETMASK 0x4
                            11733 ; 37   |        unsigned RMJ    :16;    //Major Revision
                            11734 ; 38   |    } B;
                            11735 ; 39   |
                            11736 ; 40   |    int I;
                            11737 ; 41   |
                            11738 ; 42   |} revr_type;
                            11739 ; 43   |#define HW_REVR (*(volatile revr_type _X*) (HW_GLUE_BASEADDR+2))
                            11740 ; 44   |
                            11741 ; 45   |#define HW_REVR_DCDCMODE_B0_BITPOS 5
                            11742 ; 46   |#define HW_REVR_DCDCMODE_B1_BITPOS 6
                            11743 ; 47   |#define HW_REVR_DCDCMODE_B2_BITPOS 7
                            11744 ; 48   |
                            11745 ; 49   |#define HW_REVR_DCDCMODE_BUCK_MASK_POS HW_REVR_DCDCMODE_B2_BITPOS
                            11746 ; 50   |// 3 bit bitfield: (HW_REVR_DCDCMODE_B2_BITPOS|HW_REVR_DCDCMODE_B1_BITPOS|HW_REVR_DCDCMODE
                                  _B0_BITPOS)
                            11747 ; 51   |#define HW_REVR_DCDC_MODE_SETMASK 0x0000E0
                            11748 ; 52   |#define HW_REVR_RMN_SETMASK 0xFF<<HW_REVR_RMN_BITPOS
                            11749 ; 53   |#define HW_REVR_RMJ_SETMASK 0xFFFF<<HW_REVR_RMJ_BITPOS
                            11750 ; 54   |
                            11751 ; 55   |#define HW_REVR_RMN_CLRMASK ~(WORD)HW_REVR_RMN_SETMASK
                            11752 ; 56   |#define HW_REVR_RMJ_CLRMASK ~(WORD)HW_REVR_RMJ_SETMASK
                            11753 ; 57   |
                            11754 ; 58   |#endif //!@def(__HW_REVR)
                            11755 ; 59   |
                            11756 
                            11758 
                            11759 ; 29   |#include "regsrtc.h"
                            11760 
                            11762 
                            11763 ; 1    |/////////////////////////////////////////////////////////////////////////////////
                            11764 ; 2    |// Copyright(C) SigmaTel, Inc. 2000-2004
                            11765 ; 3    |// Filename: regsrtc.inc
                            11766 ; 4    |// Description: Register definitions for RTC interface
                            11767 ; 5    |/////////////////////////////////////////////////////////////////////////////////
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 195

M:ADDR CODE           CYCLES LINE SOURCELINE
                            11768 ; 6    |// The following naming conventions are followed in this file.
                            11769 ; 7    |// All registers are named using the format...
                            11770 ; 8    |//     HW_<module>_<regname>
                            11771 ; 9    |// where <module> is the module name which can be any of the following...
                            11772 ; 10   |//     USB20
                            11773 ; 11   |// (Note that when there is more than one copy of a particular module, the
                            11774 ; 12   |// module name includes a number starting from 0 for the first instance of
                            11775 ; 13   |// that module)
                            11776 ; 14   |// <regname> is the specific register within that module
                            11777 ; 15   |// We also define the following...
                            11778 ; 16   |//     HW_<module>_<regname>_BITPOS
                            11779 ; 17   |// which defines the starting bit (i.e. LSB) of a multi bit field
                            11780 ; 18   |//     HW_<module>_<regname>_SETMASK
                            11781 ; 19   |// which does something else, and
                            11782 ; 20   |//     HW_<module>_<regname>_CLRMASK
                            11783 ; 21   |// which does something else.
                            11784 ; 22   |// Other rules
                            11785 ; 23   |//     All caps
                            11786 ; 24   |//     Numeric identifiers start at 0
                            11787 ; 25   |#if !(defined(regsrtcinc))
                            11788 ; 26   |#define regsrtcinc 1
                            11789 ; 27   |
                            11790 ; 28   |#include "types.h"
                            11791 
                            11793 
                            11794 ; 1    |////////////////////////////////////////////////////////////////////////////////
                            11795 ; 2    |// Copyright(C) SigmaTel, Inc. 2000-2004
                            11796 ; 3    |//
                            11797 ; 4    |// Filename: types.h
                            11798 ; 5    |// Description: Standard data types
                            11799 ; 6    |////////////////////////////////////////////////////////////////////////////////
                            11800 ; 7    |
                            11801 ; 8    |#ifndef _TYPES_H
                            11802 ; 9    |#define _TYPES_H
                            11803 ; 10   |
                            11804 ; 11   |// TODO:  move this outta here!
                            11805 ; 12   |#if !defined(NOERROR)
                            11806 ; 13   |#define NOERROR 0
                            11807 ; 14   |#define SUCCESS 0
                            11808 ; 15   |#endif 
                            11809 ; 16   |#if !defined(SUCCESS)
                            11810 ; 17   |#define SUCCESS  0
                            11811 ; 18   |#endif
                            11812 ; 19   |#if !defined(ERROR)
                            11813 ; 20   |#define ERROR   -1
                            11814 ; 21   |#endif
                            11815 ; 22   |#if !defined(FALSE)
                            11816 ; 23   |#define FALSE 0
                            11817 ; 24   |#endif
                            11818 ; 25   |#if !defined(TRUE)
                            11819 ; 26   |#define TRUE  1
                            11820 ; 27   |#endif
                            11821 ; 28   |
                            11822 ; 29   |#if !defined(NULL)
                            11823 ; 30   |#define NULL 0
                            11824 ; 31   |#endif
                            11825 ; 32   |
                            11826 ; 33   |#define MAX_INT     0x7FFFFF
                            11827 ; 34   |#define MAX_LONG    0x7FFFFFffffff
                            11828 ; 35   |        // max positive unsigned long value: -1 == 0xFFFFFFffffff
                            11829 ; 36   |#define MAX_ULONG   (-1) 
                            11830 ; 37   |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 196

M:ADDR CODE           CYCLES LINE SOURCELINE
                            11831 ; 38   |#define WORD_SIZE   24              // word size in bits
                            11832 ; 39   |#define BYTES_PER_WORD 3            // 8 bit bytes
                            11833 ; 40   |
                            11834 ; 41   |
                            11835 ; 42   |#define BYTE    unsigned char       // btVarName
                            11836 ; 43   |#define CHAR    signed char         // cVarName
                            11837 ; 44   |#define USHORT  unsigned short      // usVarName
                            11838 ; 45   |#define SHORT   unsigned short      // sVarName
                            11839 ; 46   |#define WORD    unsigned int        // wVarName
                            11840 ; 47   |#define INT     signed int          // iVarName
                            11841 ; 48   |#define DWORD   unsigned long       // dwVarName
                            11842 ; 49   |#define LONG    signed long         // lVarName
                            11843 ; 50   |#define BOOL    unsigned int        // bVarName
                            11844 ; 51   |#define FRACT   _fract              // frVarName
                            11845 ; 52   |#define LFRACT  long _fract         // lfrVarName
                            11846 ; 53   |#define CIRC    _circ               // cp<type prefix>VarName (see below)
                            11847 ; 54   |#define FLOAT   float               // fVarName
                            11848 ; 55   |#define DBL     double              // dVarName
                            11849 ; 56   |#define ENUM    enum                // eVarName
                            11850 ; 57   |#define CMX     _complex            // cmxVarName
                            11851 ; 58   |typedef WORD UCS3;                   // 
                            11852 ; 59   |
                            11853 ; 60   |#define UINT16  unsigned short
                            11854 ; 61   |#define UINT8   unsigned char   
                            11855 ; 62   |#define UINT32  unsigned long
                            11856 ; 63   |#define UINT64  unsigned long   // need to figure out how to do 64 bit values.  Or port ex
                                  isiting code to only use 48 bit
                            11857 ; 64   |#define INT64   unsigned long   // need to figure out how to do 64 bit values.  Or port ex
                                  isiting code to only use 48 bit
                            11858 ; 65   |#define WCHAR   UINT16
                            11859 ; 66   |
                            11860 ; 67   |//UINT128 is 16 bytes or 6 words
                            11861 ; 68   |typedef struct UINT128_3500 {   
                            11862 ; 69   |    int val[6];     
                            11863 ; 70   |} UINT128_3500;
                            11864 ; 71   |
                            11865 ; 72   |#define UINT128   UINT128_3500
                            11866 ; 73   |
                            11867 ; 74   |// Little endian word packed byte strings:   
                            11868 ; 75   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                            11869 ; 76   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                            11870 ; 77   |// Little endian word packed byte strings:   
                            11871 ; 78   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                            11872 ; 79   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                            11873 ; 80   |
                            11874 ; 81   |// Declare Memory Spaces To Use When Coding
                            11875 ; 82   |// A. Sector Buffers
                            11876 ; 83   |#define SECTOR_BUFFER_MEM_X _X
                            11877 ; 84   |#define SECTOR_BUFFER_MEM_Y _Y
                            11878 ; 85   |#define SECTOR_BUFFER_MEM SECTOR_BUFFER_MEM_X
                            11879 ; 86   |typedef WORD SECTOR_BUFFER_MEM SECTOR_BUFFER;
                            11880 ; 87   |typedef SECTOR_BUFFER * P_SECTOR_BUFFER;
                            11881 ; 88   |// B. Media DDI Memory
                            11882 ; 89   |#define MEDIA_DDI_MEM _Y
                            11883 ; 90   |
                            11884 ; 91   |
                            11885 ; 92   |
                            11886 ; 93   |// Pointers to linear structures are labeled as: p<type prefix>VarName
                            11887 ; 94   |// Examples of circular pointers:
                            11888 ; 95   |//    INT CIRC cpiVarName
                            11889 ; 96   |//    DWORD CIRC cpdwVarName
                            11890 ; 97   |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 197

M:ADDR CODE           CYCLES LINE SOURCELINE
                            11891 ; 98   |#define RETCODE INT                 // rcVarName
                            11892 ; 99   |
                            11893 ; 100  |// generic bitfield structure
                            11894 ; 101  |struct Bitfield {
                            11895 ; 102  |    unsigned int B0  :1;
                            11896 ; 103  |    unsigned int B1  :1;
                            11897 ; 104  |    unsigned int B2  :1;
                            11898 ; 105  |    unsigned int B3  :1;
                            11899 ; 106  |    unsigned int B4  :1;
                            11900 ; 107  |    unsigned int B5  :1;
                            11901 ; 108  |    unsigned int B6  :1;
                            11902 ; 109  |    unsigned int B7  :1;
                            11903 ; 110  |    unsigned int B8  :1;
                            11904 ; 111  |    unsigned int B9  :1;
                            11905 ; 112  |    unsigned int B10 :1;
                            11906 ; 113  |    unsigned int B11 :1;
                            11907 ; 114  |    unsigned int B12 :1;
                            11908 ; 115  |    unsigned int B13 :1;
                            11909 ; 116  |    unsigned int B14 :1;
                            11910 ; 117  |    unsigned int B15 :1;
                            11911 ; 118  |    unsigned int B16 :1;
                            11912 ; 119  |    unsigned int B17 :1;
                            11913 ; 120  |    unsigned int B18 :1;
                            11914 ; 121  |    unsigned int B19 :1;
                            11915 ; 122  |    unsigned int B20 :1;
                            11916 ; 123  |    unsigned int B21 :1;
                            11917 ; 124  |    unsigned int B22 :1;
                            11918 ; 125  |    unsigned int B23 :1;
                            11919 ; 126  |};
                            11920 ; 127  |
                            11921 ; 128  |union BitInt {
                            11922 ; 129  |        struct Bitfield B;
                            11923 ; 130  |        int        I;
                            11924 ; 131  |};
                            11925 ; 132  |
                            11926 ; 133  |#define MAX_MSG_LENGTH 10
                            11927 ; 134  |struct CMessage
                            11928 ; 135  |{
                            11929 ; 136  |        unsigned int m_uLength;
                            11930 ; 137  |        unsigned int m_uMsg[MAX_MSG_LENGTH];
                            11931 ; 138  |};
                            11932 ; 139  |
                            11933 ; 140  |typedef struct {
                            11934 ; 141  |    WORD m_wLength;
                            11935 ; 142  |    WORD m_wMessage;
                            11936 ; 143  |    WORD m_wParams[MAX_MSG_LENGTH];
                            11937 ; 144  |} Message;
                            11938 ; 145  |
                            11939 ; 146  |struct MessageQueueDescriptor
                            11940 ; 147  |{
                            11941 ; 148  |        int *m_pBase;
                            11942 ; 149  |        int m_iModulo;
                            11943 ; 150  |        int m_iSize;
                            11944 ; 151  |        int *m_pHead;
                            11945 ; 152  |        int *m_pTail;
                            11946 ; 153  |};
                            11947 ; 154  |
                            11948 ; 155  |struct ModuleEntry
                            11949 ; 156  |{
                            11950 ; 157  |    int m_iSignaledEventMask;
                            11951 ; 158  |    int m_iWaitEventMask;
                            11952 ; 159  |    int m_iResourceOfCode;
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 198

M:ADDR CODE           CYCLES LINE SOURCELINE
                            11953 ; 160  |    struct MessageQueueDescriptor *m_pMessageQueue;
                            11954 ; 161  |    int _asmfunc (*m_pProcessEntryPoint)(union WaitMask Signals,struct MessageQueueDescrip
                                  tor *);
                            11955 ; 162  |    int _asmfunc (*m_pInitFunction)(struct MessageQueueDescriptor *);
                            11956 ; 163  |    int m_uTimeOutHigh;
                            11957 ; 164  |    int m_uTimeOutLow;
                            11958 ; 165  |    int _asmfunc (*m_pBackgroundFunction)(struct MessageQueueDescriptor *);
                            11959 ; 166  |};
                            11960 ; 167  |
                            11961 ; 168  |union WaitMask{
                            11962 ; 169  |    struct B{
                            11963 ; 170  |        unsigned int m_bNone     :1;
                            11964 ; 171  |        unsigned int m_bMessage  :1;
                            11965 ; 172  |        unsigned int m_bTimer    :1;
                            11966 ; 173  |        unsigned int m_bButton   :1;
                            11967 ; 174  |    } B;
                            11968 ; 175  |    int I;
                            11969 ; 176  |} ;
                            11970 ; 177  |
                            11971 ; 178  |
                            11972 ; 179  |struct Button {
                            11973 ; 180  |        WORD wButtonEvent;
                            11974 ; 181  |        WORD wUnused[MAX_MSG_LENGTH];   
                            11975 ; 182  |};
                            11976 ; 183  |
                            11977 ; 184  |struct Message {
                            11978 ; 185  |        WORD wMsgLength;
                            11979 ; 186  |        WORD wMsgCommand;
                            11980 ; 187  |        WORD wMsgParms[MAX_MSG_LENGTH-1];
                            11981 ; 188  |};
                            11982 ; 189  |
                            11983 ; 190  |union EventTypes {
                            11984 ; 191  |        struct CMessage msg;
                            11985 ; 192  |        struct Button Button ;
                            11986 ; 193  |        struct Message Message;
                            11987 ; 194  |};
                            11988 ; 195  |
                            11989 ; 196  |// next 2 used to get updater build to return correct protocol ver in scsi response.
                            11990 ; 197  |#define BUILD_TYPE_UPDATER  0x100
                            11991 ; 198  |#define BUILD_TYPE_HOSTLINK 0x101
                            11992 ; 199  |#define BUILD_TYPE_PLAYER   0x102
                            11993 ; 200  |
                            11994 ; 201  |// Resets part if RETAIL build. DEBUG build executes debug instruction to halt.
                            11995 ; 202  |#define SystemHalt() __asm(" include 'sysmacro.asm' \n error") 
                            11996 ; 203  |#define assert(x)    if(!(x)) __asm(" include 'sysmacro.asm' \n error")
                            11997 ; 204  |
                            11998 ; 205  |#if DEBUG
                            11999 ; 206  |// For DEBUG builds, DebugBuildAssert(condition) halts if condition evaluates to FALSE. 
                            12000 ; 207  |#define DebugBuildAssert(x)    if(!(x)) __asm(" debug ")
                            12001 ; 208  |#else 
                            12002 ; 209  |// For RETAIL builds, DebugBuildAssert(condition) does nothing & execution continues rathe
                                  r than halt or reset. 
                            12003 ; 210  |#define DebugBuildAssert(x)    
                            12004 ; 211  |#endif
                            12005 ; 212  |
                            12006 ; 213  |// Do this in your C files to make a reminder that's displayed during the build.
                            12007 ; 214  |//  #pragma asm
                            12008 ; 215  |//  WARN 'Note to builder: reminder to do this after verifying that'
                            12009 ; 216  |//  #pragma endasm
                            12010 ; 217  |
                            12011 ; 218  |
                            12012 ; 219  |#ifdef COLOR_262K
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 199

M:ADDR CODE           CYCLES LINE SOURCELINE
                            12013 ; 220  |#define RGB(r,g,b)    ((0x0000FC & (r)) << 10) | ((0x0000FC & (g)) << 4) | ((0x0000FC & (b
                                  )) >> 2)    //262k
                            12014 ; 221  |#elif defined(COLOR_65K)
                            12015 ; 222  |#define RGB(r,g,b)    ((0x0000F8 & (r)) << 8) | ((0x0000FC & (g)) << 3) | ((0x0000F8 & (b)
                                  ) >> 3)  //65k
                            12016 ; 223  |#else
                            12017 ; 224  |#define RGB(r,g,b)       ((0x0000F0 & (r)) << 4) | (0x0000F0 & (g)) | ((0x0000F0 & (b)) >>
                                   4)
                            12018 ; 225  |#endif
                            12019 ; 226  |    
                            12020 ; 227  |#endif // #ifndef _TYPES_H
                            12021 
                            12023 
                            12024 ; 29   |
                            12025 ; 30   |//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                            12026 ; 31   |
                            12027 ; 32   |//   RTC STMP Registers 
                            12028 ; 33   |//   Edited 2/26/2002 J. Ferrara
                            12029 ; 34   |//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                            12030 ; 35   |
                            12031 ; 36   |#define HW_RTC_BASEADDR (0xF500)
                            12032 ; 37   |
                            12033 ; 38   |
                            12034 ; 39   |
                            12035 ; 40   |
                            12036 ; 41   |
                            12037 ; 42   |/////////////////////////////////////////////////////////////////////////////////
                            12038 ; 43   |
                            12039 ; 44   |////  RTC Control Status Register (HW_RTC_CSR) Bit Definitions
                            12040 ; 45   |
                            12041 ; 46   |#define HW_RTC_CSR_ALARMINTEN_BITPOS (0)
                            12042 ; 47   |#define HW_RTC_CSR_ALARMINT_BITPOS (1)
                            12043 ; 48   |#define HW_RTC_CSR_WATCHDOGEN_BITPOS (2)
                            12044 ; 49   |#define HW_RTC_CSR_RSVD0_BITPOS (3)
                            12045 ; 50   |#define HW_RTC_CSR_STALEREGS_BITPOS (4)
                            12046 ; 51   |#define HW_RTC_CSR_RSVD1_BITPOS (9)
                            12047 ; 52   |#define HW_RTC_CSR_NEWREGS_BITPOS (12)
                            12048 ; 53   |#define HW_RTC_CSR_NEWREGS_XTALDIV_BITPOS (12)
                            12049 ; 54   |#define HW_RTC_CSR_NEWREGS_MSCOUNT_BITPOS (13)
                            12050 ; 55   |#define HW_RTC_CSR_NEWREGS_ALRMCOUNT_BITPOS (14)
                            12051 ; 56   |#define HW_RTC_CSR_NEWREGS_PERSIST0_BITPOS (15)
                            12052 ; 57   |#define HW_RTC_CSR_NEWREGS_PERSIST1_BITPOS (16)
                            12053 ; 58   |#define HW_RTC_CSR_RSVD2_BITPOS (17)
                            12054 ; 59   |#define HW_RTC_CSR_FORCE_BITPOS (20)
                            12055 ; 60   |#define HW_RTC_CSR_RSVD3_BITPOS (21)
                            12056 ; 61   |#define HW_RTC_CSR_SFTRST_BITPOS (23)                                                     
                                                          
                            12057 ; 62   |#define HW_RTC_CSR_ALARMINTEN_WIDTH (1)
                            12058 ; 63   |#define HW_RTC_CSR_ALARMINT_WIDTH (1)
                            12059 ; 64   |#define HW_RTC_CSR_WATCHDOGEN_WIDTH (1)
                            12060 ; 65   |#define HW_RTC_CSR_RSVD0_WIDTH (1)
                            12061 ; 66   |#define HW_RTC_CSR_STALEREGS_WIDTH (5)
                            12062 ; 67   |#define HW_RTC_CSR_RSVD1_WIDTH (3)
                            12063 ; 68   |#define HW_RTC_CSR_NEWREGS_WIDTH (5)
                            12064 ; 69   |#define HW_RTC_CSR_NEWREGS_XTALDIV_WIDTH (1)
                            12065 ; 70   |#define HW_RTC_CSR_NEWREGS_MSCOUNT_WIDTH (1)
                            12066 ; 71   |#define HW_RTC_CSR_NEWREGS_ALRMCOUNT_WIDTH (1)
                            12067 ; 72   |#define HW_RTC_CSR_NEWREGS_PERSIST0_WIDTH (1)
                            12068 ; 73   |#define HW_RTC_CSR_NEWREGS_PERSIST1_WIDTH (1)
                            12069 ; 74   |#define HW_RTC_CSR_RSVD2_WIDTH (3)
                            12070 ; 75   |#define HW_RTC_CSR_FORCE_WIDTH (1)
                            12071 ; 76   |#define HW_RTC_CSR_RSVD3_WIDTH (2)
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 200

M:ADDR CODE           CYCLES LINE SOURCELINE
                            12072 ; 77   |#define HW_RTC_CSR_SFTRST_WIDTH (1)
                            12073 ; 78   |
                            12074 ; 79   |#define HW_RTC_CSR_ALARMINT_SETMASK (((1<<HW_RTC_CSR_ALARMINT_WIDTH)-1)<<HW_RTC_CSR_ALARMI
                                  NT_BITPOS) 
                            12075 ; 80   |#define HW_RTC_CSR_ALARMINTEN_SETMASK (((1<<HW_RTC_CSR_ALARMINTEN_WIDTH)-1)<<HW_RTC_CSR_AL
                                  ARMINTEN_BITPOS) 
                            12076 ; 81   |#define HW_RTC_CSR_WATCHDOGEN_SETMASK (((1<<HW_RTC_CSR_WATCHDOGEN_WIDTH)-1)<<HW_RTC_CSR_WA
                                  TCHDOGEN_BITPOS) 
                            12077 ; 82   |#define HW_RTC_CSR_RSVD0_SETMASK (((1<<HW_RTC_CSR_RSVD0_WIDTH)-1)<<HW_RTC_CSR_RSVD0_BITPOS
                                  ) 
                            12078 ; 83   |#define HW_RTC_CSR_STALEREGS_SETMASK (((1<<HW_RTC_CSR_STALEREGS_WIDTH)-1)<<HW_RTC_CSR_STAL
                                  EREGS_BITPOS) 
                            12079 ; 84   |#define HW_RTC_CSR_RSVD1_SETMASK (((1<<HW_RTC_CSR_RSVD1_WIDTH)-1)<<HW_RTC_CSR_RSVD1_BITPOS
                                  ) 
                            12080 ; 85   |#define HW_RTC_CSR_NEWREGS_SETMASK (((1<<HW_RTC_CSR_NEWREGS_WIDTH)-1)<<HW_RTC_CSR_NEWREGS_
                                  BITPOS) 
                            12081 ; 86   |#define HW_RTC_CSR_NEWREGS_XTALDIV_SETMASK (((1<<HW_RTC_CSR_NEWREGS_XTALDIV_WIDTH)-1)<<HW_
                                  RTC_CSR_NEWREGS_XTALDIV_BITPOS)   
                            12082 ; 87   |#define HW_RTC_CSR_NEWREGS_MSCOUNT_SETMASK (((1<<HW_RTC_CSR_NEWREGS_MSCOUNT_WIDTH)-1)<<HW_
                                  RTC_CSR_NEWREGS_MSCOUNT_BITPOS)
                            12083 ; 88   |#define HW_RTC_CSR_NEWREGS_ALRMCOUNT_SETMASK (((1<<HW_RTC_CSR_NEWREGS_ALRMCOUNT_WIDTH)-1)<
                                  <HW_RTC_CSR_NEWREGS_ALRMCOUNT_BITPOS)
                            12084 ; 89   |#define HW_RTC_CSR_NEWREGS_PERSIST0_SETMASK (((1<<HW_RTC_CSR_NEWREGS_PERSIST0_WIDTH)-1)<<H
                                  W_RTC_CSR_NEWREGS_PERSIST0_BITPOS)
                            12085 ; 90   |#define HW_RTC_CSR_NEWREGS_PERSIST1_SETMASK (((1<<HW_RTC_CSR_NEWREGS_PERSIST1_WIDTH)-1)<<H
                                  W_RTC_CSR_NEWREGS_PERSIST1_BITPOS)
                            12086 ; 91   |#define HW_RTC_CSR_RSVD2_SETMASK (((1<<HW_RTC_CSR_RSVD2_WIDTH)-1)<<HW_RTC_CSR_RSVD2_BITPOS
                                  ) 
                            12087 ; 92   |#define HW_RTC_CSR_FORCE_SETMASK (((1<<HW_RTC_CSR_FORCE_WIDTH)-1)<<HW_RTC_CSR_FORCE_BITPOS
                                  ) 
                            12088 ; 93   |#define HW_RTC_CSR_RSVD3_SETMASK (((1<<HW_RTC_CSR_RSVD3_WIDTH)-1)<<HW_RTC_CSR_RSVD3_BITPOS
                                  ) 
                            12089 ; 94   |#define HW_RTC_CSR_SFTRST_SETMASK (((1<<HW_RTC_CSR_SFTRST_WIDTH)-1)<<HW_RTC_CSR_SFTRST_BIT
                                  POS) 
                            12090 ; 95   |
                            12091 ; 96   |#define HW_RTC_CSR_ALARMINTEN_CLRMASK (~(WORD)HW_RTC_CSR_ALARMINTEN_SETMASK)
                            12092 ; 97   |#define HW_RTC_CSR_ALARMINT_CLRMASK (~(WORD)HW_RTC_CSR_ALARMINT_SETMASK)
                            12093 ; 98   |#define HW_RTC_CSR_WATCHDOGEN_CLRMASK (~(WORD)HW_RTC_CSR_WATCHDOGEN_SETMASK)
                            12094 ; 99   |#define HW_RTC_CSR_RSVD0_CLRMASK (~(WORD)HW_RTC_CSR_RSVD0_SETMASK)
                            12095 ; 100  |#define HW_RTC_CSR_STALEREGS_CLRMASK (~(WORD)HW_RTC_CSR_STALEREGS_SETMASK)
                            12096 ; 101  |#define HW_RTC_CSR_RSVD1_CLRMASK (~(WORD)HW_RTC_CSR_RSVD1_SETMASK)
                            12097 ; 102  |#define HW_RTC_CSR_NEWREGS_CLRMASK (~(WORD)HW_RTC_CSR_NEWREGS_SETMASK)
                            12098 ; 103  |#define HW_RTC_CSR_NEWREGS_XTALDIV_CLRMASK (~(WORD)HW_RTC_CSR_NEWREGS_XTALDIV_SETMASK)   
                            12099 ; 104  |#define HW_RTC_CSR_NEWREGS_MSCOUNT_CLRMASK (~(WORD)HW_RTC_CSR_NEWREGS_MSCOUNT_SETMASK)
                            12100 ; 105  |#define HW_RTC_CSR_NEWREGS_ALRMCOUNT_CLRMASK (~(WORD)HW_RTC_CSR_NEWREGS_ALRMCOUNT_SETMASK)
                                  
                            12101 ; 106  |#define HW_RTC_CSR_NEWREGS_PERSIST0_CLRMASK (~(WORD)HW_RTC_CSR_NEWREGS_PERSIST0_SETMASK)
                            12102 ; 107  |#define HW_RTC_CSR_NEWREGS_PERSIST1_CLRMASK (~(WORD)HW_RTC_CSR_NEWREGS_PERSIST1_SETMASK)
                            12103 ; 108  |
                            12104 ; 109  |#define HW_RTC_CSR_RSVD2_CLRMASK (~(WORD)HW_RTC_CSR_RSVD2_SETMASK)
                            12105 ; 110  |#define HW_RTC_CSR_FORCE_CLRMASK (~(WORD)HW_RTC_CSR_FORCE_SETMASK)
                            12106 ; 111  |#define HW_RTC_CSR_RSVD3_CLRMASK (~(WORD)HW_RTC_CSR_RSVD3_SETMASK)
                            12107 ; 112  |#define HW_RTC_CSR_SFTRST_CLRMASK (~(WORD)HW_RTC_CSR_SFTRST_SETMASK)
                            12108 ; 113  |
                            12109 ; 114  |
                            12110 ; 115  |typedef union               
                            12111 ; 116  |{
                            12112 ; 117  |    struct {
                            12113 ; 118  |         int ALARMINTEN         : HW_RTC_CSR_ALARMINTEN_WIDTH;
                            12114 ; 119  |         int ALARMINT           : HW_RTC_CSR_ALARMINT_WIDTH;
                            12115 ; 120  |         int WATCHDOGEN         : HW_RTC_CSR_WATCHDOGEN_WIDTH;
                            12116 ; 121  |         int RSVD0              : HW_RTC_CSR_RSVD0_WIDTH;
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 201

M:ADDR CODE           CYCLES LINE SOURCELINE
                            12117 ; 122  |         unsigned int STALEREGS : HW_RTC_CSR_STALEREGS_WIDTH;
                            12118 ; 123  |         int RSVD1              : HW_RTC_CSR_RSVD1_WIDTH;
                            12119 ; 124  |         unsigned int NEWREGS   : HW_RTC_CSR_NEWREGS_WIDTH;
                            12120 ; 125  |         int RSVD2              : HW_RTC_CSR_RSVD2_WIDTH;
                            12121 ; 126  |         int FORCE             : HW_RTC_CSR_FORCE_WIDTH;
                            12122 ; 127  |         int RSVD3              : HW_RTC_CSR_RSVD3_WIDTH;
                            12123 ; 128  |         unsigned int SFTRST    : HW_RTC_CSR_SFTRST_WIDTH;
                            12124 ; 129  |    } B;
                            12125 ; 130  |    int I;
                            12126 ; 131  |    unsigned int U;
                            12127 ; 132  |} rtc_csr_type;
                            12128 ; 133  |#define HW_RTC_CSR      (*(volatile rtc_csr_type _X*) (HW_RTC_BASEADDR+0))    /* RTC Contr
                                  ol / Status Register */
                            12129 ; 134  |
                            12130 ; 135  |/////////////////////////////////////////////////////////////////////////////////
                            12131 ; 136  |
                            12132 ; 137  |//  RTC Milliseconds Register0 (HW_RTC_MSECONDS0) Bit Definitions
                            12133 ; 138  |
                            12134 ; 139  |#define HW_RTC_MSECONDS0_MSECONDSLOW_BITPOS (0)
                            12135 ; 140  |
                            12136 ; 141  |#define HW_RTC_MSECONDS0_MSECONDSLOW_WIDTH (24)
                            12137 ; 142  |
                            12138 ; 143  |#define HW_RTC_MSECONDS0_MSECONDSLOW_SETMASK (((1<<HW_RTC_MSECONDS0_MSECONDSLOW_WIDTH)-1)<
                                  <HW_RTC_MSECONDS0_MSECONDSLOW_BITPOS) 
                            12139 ; 144  |
                            12140 ; 145  |#define HW_RTC_MSECONDS0_MSECONDSLOW_CLRMASK (~(WORD)HW_RTC_MSECONDS0_MSECONDSLOW_SETMASK)
                                  
                            12141 ; 146  |
                            12142 ; 147  |typedef union               
                            12143 ; 148  |{
                            12144 ; 149  |    struct {
                            12145 ; 150  |         int MSECONDSLOW        : HW_RTC_MSECONDS0_MSECONDSLOW_WIDTH;
                            12146 ; 151  |    } B;
                            12147 ; 152  |    int I;
                            12148 ; 153  |    unsigned int U;
                            12149 ; 154  |} rtc_mseconds0_type;
                            12150 ; 155  |#define HW_RTC_MSECONDS0      (*(volatile rtc_mseconds0_type _X*) (HW_RTC_BASEADDR+1))    
                                  /* RTC MSECONDS Lower Word Register */
                            12151 ; 156  |#define HW_RTCLOWR            HW_RTC_MSECONDS0
                            12152 ; 157  |/////////////////////////////////////////////////////////////////////////////////
                            12153 ; 158  |
                            12154 ; 159  |//  RTC Milliseconds Register1 (HW_RTC_MSECONDS1) Bit Definitions
                            12155 ; 160  |
                            12156 ; 161  |#define HW_RTC_MSECONDS1_MSECONDSHIGH_BITPOS (0)
                            12157 ; 162  |
                            12158 ; 163  |#define HW_RTC_MSECONDS1_MSECONDSHIGH_WIDTH (24)
                            12159 ; 164  |
                            12160 ; 165  |#define HW_RTC_MSECONDS1_MSECONDSHIGH_SETMASK (((1<<HW_RTC_MSECONDS1_MSECONDSHIGH_WIDTH)-1
                                  )<<HW_RTC_MSECONDS1_MSECONDSHIGH_BITPOS) 
                            12161 ; 166  |
                            12162 ; 167  |#define HW_RTC_MSECONDS1_MSECONDSHIGH_CLRMASK (~(WORD)HW_RTC_MSECONDS1_MSECONDSHIGH_SETMAS
                                  K)
                            12163 ; 168  |
                            12164 ; 169  |typedef union               
                            12165 ; 170  |{
                            12166 ; 171  |    struct {
                            12167 ; 172  |         int MSECONDSHIGH       : HW_RTC_MSECONDS1_MSECONDSHIGH_WIDTH;
                            12168 ; 173  |    } B;
                            12169 ; 174  |    int I;
                            12170 ; 175  |    unsigned int U;
                            12171 ; 176  |} rtc_mseconds1_type;
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 202

M:ADDR CODE           CYCLES LINE SOURCELINE
                            12172 ; 177  |#define HW_RTC_MSECONDS1      (*(volatile rtc_mseconds1_type _X*) (HW_RTC_BASEADDR+2))    
                                  /* RTC MSECONDS Upper Word Register */
                            12173 ; 178  |#define HW_RTCUPR             HW_RTC_MSECONDS1
                            12174 ; 179  |
                            12175 ; 180  |#define HW_RTC_LOWER_OFFSET 1
                            12176 ; 181  |#define HW_RTC_UP_OFFSET 2
                            12177 ; 182  |
                            12178 ; 183  |
                            12179 ; 184  |/////////////////////////////////////////////////////////////////////////////////
                            12180 ; 185  |
                            12181 ; 186  |//  RTC Watchdog Count (HW_RTC_WATCHDOG) Bit Definitions
                            12182 ; 187  |
                            12183 ; 188  |#define HW_RTC_WATCHDOG_TIMEOUTCNT_BITPOS (0)
                            12184 ; 189  |
                            12185 ; 190  |#define HW_RTC_WATCHDOG_TIMEOUTCNT_WIDTH (24)
                            12186 ; 191  |
                            12187 ; 192  |#define HW_RTC_WATCHDOG_TIMEOUTCNT_SETMASK (((1<<HW_RTC_WATCHDOG_TIMEOUTCNT_WIDTH)-1)<<HW_
                                  RTC_WATCHDOG_TIMEOUTCNT_BITPOS) 
                            12188 ; 193  |
                            12189 ; 194  |#define HW_RTC_WATCHDOG_TIMEOUTCNT_CLRMASK (~(WORD)HW_RTC_WATCHDOG_TIMEOUTCNT_SETMASK)
                            12190 ; 195  |
                            12191 ; 196  |typedef union               
                            12192 ; 197  |{
                            12193 ; 198  |    struct {
                            12194 ; 199  |         int TIMEOUTCNT         : HW_RTC_WATCHDOG_TIMEOUTCNT_WIDTH;
                            12195 ; 200  |    } B;
                            12196 ; 201  |    int I;
                            12197 ; 202  |    unsigned int U;
                            12198 ; 203  |} rtc_watchdog_type;
                            12199 ; 204  |#define HW_RTC_WATCHDOG     (*(volatile rtc_watchdog_type _X*) (HW_RTC_BASEADDR+3))    /* 
                                  RTC Watchdog Timeout Register */
                            12200 ; 205  |/////////////////////////////////////////////////////////////////////////////////
                            12201 ; 206  |
                            12202 ; 207  |//  RTC Alarm Register0 (HW_RTC_ALARM0) Bit Definitions
                            12203 ; 208  |
                            12204 ; 209  |#define HW_RTC_ALARM0_ALARMLOW_BITPOS (0)
                            12205 ; 210  |
                            12206 ; 211  |#define HW_RTC_ALARM0_ALARMLOW_WIDTH (24)
                            12207 ; 212  |
                            12208 ; 213  |#define HW_RTC_ALARM0_ALARMLOW_SETMASK (((1<<HW_RTC_ALARM0_ALARMLOW_WIDTH)-1)<<HW_RTC_ALAR
                                  M0_ALARMLOW_BITPOS) 
                            12209 ; 214  |
                            12210 ; 215  |#define HW_RTC_ALARM0_ALARMLOW_CLRMASK (~(WORD)HW_RTC_ALARM0_ALARMLOW_SETMASK)
                            12211 ; 216  |
                            12212 ; 217  |typedef union               
                            12213 ; 218  |{
                            12214 ; 219  |    struct {
                            12215 ; 220  |         int ALARMLOW   : HW_RTC_ALARM0_ALARMLOW_WIDTH;
                            12216 ; 221  |    } B;
                            12217 ; 222  |    int I;
                            12218 ; 223  |    unsigned int U;
                            12219 ; 224  |} rtc_alarm0_type;
                            12220 ; 225  |#define HW_RTC_ALARM0      (*(volatile rtc_alarm0_type _X*) (HW_RTC_BASEADDR+4))    /* RTC
                                   ALARM Lower Word Register */
                            12221 ; 226  |/////////////////////////////////////////////////////////////////////////////////
                            12222 ; 227  |
                            12223 ; 228  |//  RTC Alarm Register1 (HW_RTC_ALARM1) Bit Definitions
                            12224 ; 229  |
                            12225 ; 230  |#define HW_RTC_ALARM1_ALARMHIGH_BITPOS (0)
                            12226 ; 231  |
                            12227 ; 232  |#define HW_RTC_ALARM1_ALARMHIGH_WIDTH (24)
                            12228 ; 233  |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 203

M:ADDR CODE           CYCLES LINE SOURCELINE
                            12229 ; 234  |#define HW_RTC_ALARM1_ALARMHIGH_SETMASK (((1<<HW_RTC_ALARM1_ALARMHIGH_WIDTH)-1)<<HW_RTC_AL
                                  ARM1_ALARMHIGH_BITPOS) 
                            12230 ; 235  |
                            12231 ; 236  |#define HW_RTC_ALARM1_ALARMHIGH_CLRMASK (~(WORD)HW_RTC_ALARM1_ALARMHIGH_SETMASK)
                            12232 ; 237  |
                            12233 ; 238  |typedef union               
                            12234 ; 239  |{
                            12235 ; 240  |    struct {
                            12236 ; 241  |         int ALARMHIGH  : HW_RTC_ALARM1_ALARMHIGH_WIDTH;
                            12237 ; 242  |    } B;
                            12238 ; 243  |    int I;
                            12239 ; 244  |    unsigned int U;
                            12240 ; 245  |} rtc_alarm1_type;
                            12241 ; 246  |#define HW_RTC_ALARM1      (*(volatile rtc_alarm1_type _X*) (HW_RTC_BASEADDR+5))    /* RTC
                                   ALARM Upper Word Register */
                            12242 ; 247  |/////////////////////////////////////////////////////////////////////////////////
                            12243 ; 248  |
                            12244 ; 249  |//  RTC Xtal-Clock Divide Register (HW_RTC_XTALDIVIDE) Bit Definitions
                            12245 ; 250  |
                            12246 ; 251  |#define HW_RTC_XTALDIVIDE_DIVCOUNT_BITPOS (0)
                            12247 ; 252  |#define HW_RTC_XTALDIVIDE_RSVD0_BITPOS (16)
                            12248 ; 253  |
                            12249 ; 254  |#define HW_RTC_XTALDIVIDE_DIVCOUNT_WIDTH (16)
                            12250 ; 255  |#define HW_RTC_XTALDIVIDE_RSVD0_WIDTH (8)
                            12251 ; 256  |
                            12252 ; 257  |#define HW_RTC_XTALDIVIDE_DIVCOUNT_SETMASK (((1<<HW_RTC_XTALDIVIDE_DIVCOUNT_WIDTH)-1)<<HW_
                                  RTC_XTALDIVIDE_DIVCOUNT_BITPOS) 
                            12253 ; 258  |#define HW_RTC_XTALDIVIDE_RSVD0_SETMASK (((1<<HW_RTC_XTALDIVIDE_RSVD0_BITPOS)-1)<<HW_RTC_X
                                  TALDIVIDE_RSVD0_BITPOS) 
                            12254 ; 259  |
                            12255 ; 260  |#define HW_RTC_XTALDIVIDE_DIVCOUNT_CLRMASK (~(WORD)HW_RTC_XTALDIVIDE_DIVCOUNT_SETMASK)
                            12256 ; 261  |#define HW_RTC_XTALDIVIDE_RSVD0_CLRMASK (~(WORD)HW_RTC_XTALDIVIDE_RSVD0_SETMASK)
                            12257 ; 262  |
                            12258 ; 263  |typedef union               
                            12259 ; 264  |{
                            12260 ; 265  |    struct {
                            12261 ; 266  |         int DIVCOUNT   : HW_RTC_XTALDIVIDE_DIVCOUNT_WIDTH;
                            12262 ; 267  |         int RSVD0      : HW_RTC_XTALDIVIDE_RSVD0_WIDTH;
                            12263 ; 268  |    } B;
                            12264 ; 269  |    int I;
                            12265 ; 270  |    unsigned int U;
                            12266 ; 271  |} rtc_xtaldivide_type;
                            12267 ; 272  |#define HW_RTC_XTALDIVIDE   (*(volatile rtc_xtaldivide_type _X*) (HW_RTC_BASEADDR+6))  /* 
                                  RTC Xtal-clock Pre-Divider Word Register */
                            12268 ; 273  |/////////////////////////////////////////////////////////////////////////////////
                            12269 ; 274  |
                            12270 ; 275  |//  RTC PERSISTENT Register0 (HW_RTC_PERSISTENT0) Bit Definitions
                            12271 ; 276  |
                            12272 ; 277  |#define HW_RTC_PERSISTENT0_ALARMEN_BITPOS (0)
                            12273 ; 278  |#define HW_RTC_PERSISTENT0_ALARMWAKE_EN_BITPOS (1)
                            12274 ; 279  |#define HW_RTC_PERSISTENT0_ALARMWAKE_BITPOS (2)
                            12275 ; 280  |#define HW_RTC_PERSISTENT0_XTALPDOWN_BITPOS (3)
                            12276 ; 281  |#define HW_RTC_PERSISTENT0_RSVD0_BITPOS (4)
                            12277 ; 282  |
                            12278 ; 283  |#define HW_RTC_PERSISTENT0_ALARMEN_WIDTH (1)
                            12279 ; 284  |#define HW_RTC_PERSISTENT0_ALARMWAKE_EN_WIDTH (1)
                            12280 ; 285  |#define HW_RTC_PERSISTENT0_ALARMWAKE_WIDTH (1)
                            12281 ; 286  |#define HW_RTC_PERSISTENT0_XTALPDOWN_WIDTH (1)
                            12282 ; 287  |#define HW_RTC_PERSISTENT0_RSVD0_WIDTH (21)
                            12283 ; 288  |
                            12284 ; 289  |#define HW_RTC_PERSISTENT0_ALARMEN_SETMASK (((1<<HW_RTC_PERSISTENT0_ALARMEN_WIDTH)-1)<<HW_
                                  RTC_PERSISTENT0_ALARMEN_BITPOS) 
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 204

M:ADDR CODE           CYCLES LINE SOURCELINE
                            12285 ; 290  |#define HW_RTC_PERSISTENT0_ALARMWAKE_EN_SETMASK (((1<<HW_RTC_PERSISTENT0_ALARMWAKE_EN_WIDT
                                  H)-1)<<HW_RTC_PERSISTENT0_ALARMWAKE_EN_BITPOS)
                            12286 ; 291  |#define HW_RTC_PERSISTENT0_ALARMWAKE_SETMASK (((1<<HW_RTC_PERSISTENT0_ALARMWAKE_WIDTH)-1)<
                                  <HW_RTC_PERSISTENT0_ALARMWAKE_BITPOS) 
                            12287 ; 292  |#define HW_RTC_PERSISTENT0_XTALPDOWN_SETMASK (((1<<HW_RTC_PERSISTENT0_XTALPDOWN_WIDTH)-1)<
                                  <HW_RTC_PERSISTENT0_XTALPDOWN_BITPOS) 
                            12288 ; 293  |#define HW_RTC_PERSISTENT0_RSVD0_SETMASK (((1<<HW_RTC_PERSISTENT0_RSVD0_WIDTH)-1)<<HW_RTC_
                                  PERSISTENT0_RSVD0_BITPOS) 
                            12289 ; 294  |
                            12290 ; 295  |#define HW_RTC_PERSISTENT0_ALARMEN_CLRMASK (~(WORD)HW_RTC_PERSISTENT0_ALARMEN_SETMASK)
                            12291 ; 296  |#define HW_RTC_PERSISTENT0_ALARMWAKE_EN_CLRMASK (~(WORD)HW_RTC_PERSISTENT0_ALARMWAKE_EN_SE
                                  TMASK)
                            12292 ; 297  |#define HW_RTC_PERSISTENT0_ALARMWAKE_CLRMASK (~(WORD)HW_RTC_PERSISTENT0_ALARMWAKE_SETMASK)
                                  
                            12293 ; 298  |#define HW_RTC_PERSISTENT0_XTALPDOWN_CLRMASK (~(WORD)HW_RTC_PERSISTENT0_XTALPDOWN_SETMASK)
                                  
                            12294 ; 299  |#define HW_RTC_PERSISTENT0_RSVD0_CLRMASK (~(WORD)HW_RTC_PERSISTENT0_RSVD0_SETMASK)
                            12295 ; 300  |
                            12296 ; 301  |typedef union               
                            12297 ; 302  |{
                            12298 ; 303  |   struct {
                            12299 ; 304  |      int ALARMEN   : HW_RTC_PERSISTENT0_ALARMEN_WIDTH;
                            12300 ; 305  |           int ALARMWAKE_EN  :  HW_RTC_PERSISTENT0_ALARMWAKE_EN_WIDTH;
                            12301 ; 306  |      int ALARMWAKE : HW_RTC_PERSISTENT0_ALARMWAKE_WIDTH;
                            12302 ; 307  |      int XTALPDOWN : HW_RTC_PERSISTENT0_XTALPDOWN_WIDTH;
                            12303 ; 308  |      int RSVD0     : HW_RTC_PERSISTENT0_RSVD0_WIDTH;
                            12304 ; 309  |   } B;
                            12305 ; 310  |    int I;
                            12306 ; 311  |    unsigned int U;
                            12307 ; 312  |} rtc_PERSISTENT0_type;
                            12308 ; 313  |#define HW_RTC_PERSISTENT0   (*(volatile rtc_PERSISTENT0_type _X*) (HW_RTC_BASEADDR+7))  /
                                  * RTC PERSISTENT Register0 */
                            12309 ; 314  |
                            12310 ; 315  |/////////////////////////////////////////////////////////////////////////////////
                            12311 ; 316  |
                            12312 ; 317  |//  RTC PERSISTENT Register1 (HW_RTC_PERSISTENT1) Bit Definitions
                            12313 ; 318  |
                            12314 ; 319  |#define HW_RTC_PERSISTENT1_RSVD0_BITPOS (0)
                            12315 ; 320  |
                            12316 ; 321  |#define HW_RTC_PERSISTENT1_RSVD0_WIDTH (24)
                            12317 ; 322  |
                            12318 ; 323  |#define HW_RTC_PERSISTENT1_RSVD0_SETMASK (((1<<HW_RTC_PERSISTENT1_RSVD0_WIDTH)-1)<<HW_RTC_
                                  PERSISTENT1_RSVD0_BITPOS) 
                            12319 ; 324  |
                            12320 ; 325  |#define HW_RTC_PERSISTENT1_RSVD0_CLRMASK (~(WORD)HW_RTC_PERSISTENT1_RSVD0_SETMASK)
                            12321 ; 326  |
                            12322 ; 327  |
                            12323 ; 328  |typedef union               
                            12324 ; 329  |{
                            12325 ; 330  |    struct {
                            12326 ; 331  |         int RSVD0      : HW_RTC_PERSISTENT1_RSVD0_WIDTH;
                            12327 ; 332  |    } B;
                            12328 ; 333  |    int I;
                            12329 ; 334  |    unsigned int U;
                            12330 ; 335  |} rtc_PERSISTENT1_type;
                            12331 ; 336  |#define HW_RTC_PERSISTENT1   (*(volatile rtc_PERSISTENT1_type _X*) (HW_RTC_BASEADDR+8))  /
                                  * RTC PERSISTENT Register1 */
                            12332 ; 337  |
                            12333 ; 338  |
                            12334 ; 339  |#endif
                            12335 ; 340  |
                            12336 ; 341  |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 205

M:ADDR CODE           CYCLES LINE SOURCELINE
                            12337 ; 342  |
                            12338 ; 343  |
                            12339 ; 344  |
                            12340 ; 345  |
                            12341 ; 346  |
                            12342 ; 347  |
                            12343 ; 348  |
                            12344 ; 349  |
                            12345 ; 350  |
                            12346 ; 351  |
                            12347 ; 352  |
                            12348 ; 353  |
                            12349 
                            12351 
                            12352 ; 30   |#include "regsspare.h"
                            12353 
                            12355 
                            12356 ; 1    |#if !(defined(RESGSSPARE_INC))
                            12357 ; 2    |#define RESGSSPARE_INC 1
                            12358 ; 3    |
                            12359 ; 4    |#define HW_SPARER_BASEADDR (0xFA16)
                            12360 ; 5    |
                            12361 ; 6    |
                            12362 ; 7    |#define HW_SPARER_I2SS_BITPOS 0
                            12363 ; 8    |#define HW_SPARER_USB_SELECT_BITPOS 1
                            12364 ; 9    |#define HW_SPARER_USB_PLUGIN_BITPOS 8
                            12365 ; 10   |#define HW_SPARER_PSWITCH_BITPOS 9
                            12366 ; 11   |
                            12367 ; 12   |#define HW_SPARER_I2SS_SETMASK 1<<HW_SPARER_I2SS_BITPOS
                            12368 ; 13   |#define HW_SPARER_USB_SELECT_SETMASK 1<<HW_SPARER_USB_SELECT_BITPOS
                            12369 ; 14   |
                            12370 ; 15   |#define HW_SPARER_I2SS_CLRMASK ~(WORD)HW_SPARER_I2SS_SETMASK
                            12371 ; 16   |#define HW_SPARER_USB_SELECT_CLRMASK ~(WORD)HW_SPARER_USB_SELECT_SETMASK
                            12372 ; 17   |
                            12373 ; 18   |
                            12374 ; 19   |
                            12375 ; 20   |typedef union               
                            12376 ; 21   |{
                            12377 ; 22   |    struct {
                            12378 ; 23   |        int      I2SS       :1;     
                            12379 ; 24   |        int      USBSELECT  :1;     
                            12380 ; 25   |        unsigned            :6;
                            12381 ; 26   |        int      USBPLUGIN  :1;     
                            12382 ; 27   |        int      PSWITCH    :1;     
                            12383 ; 28   |    } B;
                            12384 ; 29   |
                            12385 ; 30   |    int I;
                            12386 ; 31   |
                            12387 ; 32   |} spare_type;
                            12388 ; 33   |#define HW_SPARER      (*(volatile spare_type _X*) (HW_SPARER_BASEADDR))
                            12389 ; 34   |
                            12390 ; 35   |
                            12391 ; 36   |
                            12392 ; 37   |#endif
                            12393 
                            12395 
                            12396 ; 31   |#include "regsspi.h"
                            12397 
                            12399 
                            12400 ; 1    |//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                            12401 ; 2    |//;; Copyright(C) SigmaTel, Inc. 2002-2003
                            12402 ; 3    |//;; Filename    : regsspi.inc
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 206

M:ADDR CODE           CYCLES LINE SOURCELINE
                            12403 ; 4    |//;; Description : Register definitions for SPI interface
                            12404 ; 5    |//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                            12405 ; 6    |
                            12406 ; 7    |/////////////////////////////////////////////////////////////////////////////////
                            12407 ; 8    |// The following naming conventions are followed in this file.
                            12408 ; 9    |// All registers are named using the format...
                            12409 ; 10   |//     HW_<module>_<regname>
                            12410 ; 11   |// where <module> is the module name which can be any of the following...
                            12411 ; 12   |//     USB20
                            12412 ; 13   |// (Note that when there is more than one copy of a particular module, the
                            12413 ; 14   |// module name includes a number starting from 0 for the first instance of
                            12414 ; 15   |// that module)
                            12415 ; 16   |// <regname> is the specific register within that module
                            12416 ; 17   |// We also define the following...
                            12417 ; 18   |//     HW_<module>_<regname>_BITPOS
                            12418 ; 19   |// which defines the starting bit (i.e. LSB) of a multi bit field
                            12419 ; 20   |//     HW_<module>_<regname>_SETMASK
                            12420 ; 21   |// which does something else, and
                            12421 ; 22   |//     HW_<module>_<regname>_CLRMASK
                            12422 ; 23   |// which does something else.
                            12423 ; 24   |// Other rules
                            12424 ; 25   |//     All caps
                            12425 ; 26   |//     Numeric identifiers start at 0
                            12426 ; 27   |#if !(defined(regsspiinc))
                            12427 ; 28   |#define regsspiinc 1
                            12428 ; 29   |
                            12429 ; 30   |#include "types.h"
                            12430 
                            12432 
                            12433 ; 1    |////////////////////////////////////////////////////////////////////////////////
                            12434 ; 2    |// Copyright(C) SigmaTel, Inc. 2000-2004
                            12435 ; 3    |//
                            12436 ; 4    |// Filename: types.h
                            12437 ; 5    |// Description: Standard data types
                            12438 ; 6    |////////////////////////////////////////////////////////////////////////////////
                            12439 ; 7    |
                            12440 ; 8    |#ifndef _TYPES_H
                            12441 ; 9    |#define _TYPES_H
                            12442 ; 10   |
                            12443 ; 11   |// TODO:  move this outta here!
                            12444 ; 12   |#if !defined(NOERROR)
                            12445 ; 13   |#define NOERROR 0
                            12446 ; 14   |#define SUCCESS 0
                            12447 ; 15   |#endif 
                            12448 ; 16   |#if !defined(SUCCESS)
                            12449 ; 17   |#define SUCCESS  0
                            12450 ; 18   |#endif
                            12451 ; 19   |#if !defined(ERROR)
                            12452 ; 20   |#define ERROR   -1
                            12453 ; 21   |#endif
                            12454 ; 22   |#if !defined(FALSE)
                            12455 ; 23   |#define FALSE 0
                            12456 ; 24   |#endif
                            12457 ; 25   |#if !defined(TRUE)
                            12458 ; 26   |#define TRUE  1
                            12459 ; 27   |#endif
                            12460 ; 28   |
                            12461 ; 29   |#if !defined(NULL)
                            12462 ; 30   |#define NULL 0
                            12463 ; 31   |#endif
                            12464 ; 32   |
                            12465 ; 33   |#define MAX_INT     0x7FFFFF
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 207

M:ADDR CODE           CYCLES LINE SOURCELINE
                            12466 ; 34   |#define MAX_LONG    0x7FFFFFffffff
                            12467 ; 35   |        // max positive unsigned long value: -1 == 0xFFFFFFffffff
                            12468 ; 36   |#define MAX_ULONG   (-1) 
                            12469 ; 37   |
                            12470 ; 38   |#define WORD_SIZE   24              // word size in bits
                            12471 ; 39   |#define BYTES_PER_WORD 3            // 8 bit bytes
                            12472 ; 40   |
                            12473 ; 41   |
                            12474 ; 42   |#define BYTE    unsigned char       // btVarName
                            12475 ; 43   |#define CHAR    signed char         // cVarName
                            12476 ; 44   |#define USHORT  unsigned short      // usVarName
                            12477 ; 45   |#define SHORT   unsigned short      // sVarName
                            12478 ; 46   |#define WORD    unsigned int        // wVarName
                            12479 ; 47   |#define INT     signed int          // iVarName
                            12480 ; 48   |#define DWORD   unsigned long       // dwVarName
                            12481 ; 49   |#define LONG    signed long         // lVarName
                            12482 ; 50   |#define BOOL    unsigned int        // bVarName
                            12483 ; 51   |#define FRACT   _fract              // frVarName
                            12484 ; 52   |#define LFRACT  long _fract         // lfrVarName
                            12485 ; 53   |#define CIRC    _circ               // cp<type prefix>VarName (see below)
                            12486 ; 54   |#define FLOAT   float               // fVarName
                            12487 ; 55   |#define DBL     double              // dVarName
                            12488 ; 56   |#define ENUM    enum                // eVarName
                            12489 ; 57   |#define CMX     _complex            // cmxVarName
                            12490 ; 58   |typedef WORD UCS3;                   // 
                            12491 ; 59   |
                            12492 ; 60   |#define UINT16  unsigned short
                            12493 ; 61   |#define UINT8   unsigned char   
                            12494 ; 62   |#define UINT32  unsigned long
                            12495 ; 63   |#define UINT64  unsigned long   // need to figure out how to do 64 bit values.  Or port ex
                                  isiting code to only use 48 bit
                            12496 ; 64   |#define INT64   unsigned long   // need to figure out how to do 64 bit values.  Or port ex
                                  isiting code to only use 48 bit
                            12497 ; 65   |#define WCHAR   UINT16
                            12498 ; 66   |
                            12499 ; 67   |//UINT128 is 16 bytes or 6 words
                            12500 ; 68   |typedef struct UINT128_3500 {   
                            12501 ; 69   |    int val[6];     
                            12502 ; 70   |} UINT128_3500;
                            12503 ; 71   |
                            12504 ; 72   |#define UINT128   UINT128_3500
                            12505 ; 73   |
                            12506 ; 74   |// Little endian word packed byte strings:   
                            12507 ; 75   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                            12508 ; 76   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                            12509 ; 77   |// Little endian word packed byte strings:   
                            12510 ; 78   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                            12511 ; 79   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                            12512 ; 80   |
                            12513 ; 81   |// Declare Memory Spaces To Use When Coding
                            12514 ; 82   |// A. Sector Buffers
                            12515 ; 83   |#define SECTOR_BUFFER_MEM_X _X
                            12516 ; 84   |#define SECTOR_BUFFER_MEM_Y _Y
                            12517 ; 85   |#define SECTOR_BUFFER_MEM SECTOR_BUFFER_MEM_X
                            12518 ; 86   |typedef WORD SECTOR_BUFFER_MEM SECTOR_BUFFER;
                            12519 ; 87   |typedef SECTOR_BUFFER * P_SECTOR_BUFFER;
                            12520 ; 88   |// B. Media DDI Memory
                            12521 ; 89   |#define MEDIA_DDI_MEM _Y
                            12522 ; 90   |
                            12523 ; 91   |
                            12524 ; 92   |
                            12525 ; 93   |// Pointers to linear structures are labeled as: p<type prefix>VarName
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 208

M:ADDR CODE           CYCLES LINE SOURCELINE
                            12526 ; 94   |// Examples of circular pointers:
                            12527 ; 95   |//    INT CIRC cpiVarName
                            12528 ; 96   |//    DWORD CIRC cpdwVarName
                            12529 ; 97   |
                            12530 ; 98   |#define RETCODE INT                 // rcVarName
                            12531 ; 99   |
                            12532 ; 100  |// generic bitfield structure
                            12533 ; 101  |struct Bitfield {
                            12534 ; 102  |    unsigned int B0  :1;
                            12535 ; 103  |    unsigned int B1  :1;
                            12536 ; 104  |    unsigned int B2  :1;
                            12537 ; 105  |    unsigned int B3  :1;
                            12538 ; 106  |    unsigned int B4  :1;
                            12539 ; 107  |    unsigned int B5  :1;
                            12540 ; 108  |    unsigned int B6  :1;
                            12541 ; 109  |    unsigned int B7  :1;
                            12542 ; 110  |    unsigned int B8  :1;
                            12543 ; 111  |    unsigned int B9  :1;
                            12544 ; 112  |    unsigned int B10 :1;
                            12545 ; 113  |    unsigned int B11 :1;
                            12546 ; 114  |    unsigned int B12 :1;
                            12547 ; 115  |    unsigned int B13 :1;
                            12548 ; 116  |    unsigned int B14 :1;
                            12549 ; 117  |    unsigned int B15 :1;
                            12550 ; 118  |    unsigned int B16 :1;
                            12551 ; 119  |    unsigned int B17 :1;
                            12552 ; 120  |    unsigned int B18 :1;
                            12553 ; 121  |    unsigned int B19 :1;
                            12554 ; 122  |    unsigned int B20 :1;
                            12555 ; 123  |    unsigned int B21 :1;
                            12556 ; 124  |    unsigned int B22 :1;
                            12557 ; 125  |    unsigned int B23 :1;
                            12558 ; 126  |};
                            12559 ; 127  |
                            12560 ; 128  |union BitInt {
                            12561 ; 129  |        struct Bitfield B;
                            12562 ; 130  |        int        I;
                            12563 ; 131  |};
                            12564 ; 132  |
                            12565 ; 133  |#define MAX_MSG_LENGTH 10
                            12566 ; 134  |struct CMessage
                            12567 ; 135  |{
                            12568 ; 136  |        unsigned int m_uLength;
                            12569 ; 137  |        unsigned int m_uMsg[MAX_MSG_LENGTH];
                            12570 ; 138  |};
                            12571 ; 139  |
                            12572 ; 140  |typedef struct {
                            12573 ; 141  |    WORD m_wLength;
                            12574 ; 142  |    WORD m_wMessage;
                            12575 ; 143  |    WORD m_wParams[MAX_MSG_LENGTH];
                            12576 ; 144  |} Message;
                            12577 ; 145  |
                            12578 ; 146  |struct MessageQueueDescriptor
                            12579 ; 147  |{
                            12580 ; 148  |        int *m_pBase;
                            12581 ; 149  |        int m_iModulo;
                            12582 ; 150  |        int m_iSize;
                            12583 ; 151  |        int *m_pHead;
                            12584 ; 152  |        int *m_pTail;
                            12585 ; 153  |};
                            12586 ; 154  |
                            12587 ; 155  |struct ModuleEntry
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 209

M:ADDR CODE           CYCLES LINE SOURCELINE
                            12588 ; 156  |{
                            12589 ; 157  |    int m_iSignaledEventMask;
                            12590 ; 158  |    int m_iWaitEventMask;
                            12591 ; 159  |    int m_iResourceOfCode;
                            12592 ; 160  |    struct MessageQueueDescriptor *m_pMessageQueue;
                            12593 ; 161  |    int _asmfunc (*m_pProcessEntryPoint)(union WaitMask Signals,struct MessageQueueDescrip
                                  tor *);
                            12594 ; 162  |    int _asmfunc (*m_pInitFunction)(struct MessageQueueDescriptor *);
                            12595 ; 163  |    int m_uTimeOutHigh;
                            12596 ; 164  |    int m_uTimeOutLow;
                            12597 ; 165  |    int _asmfunc (*m_pBackgroundFunction)(struct MessageQueueDescriptor *);
                            12598 ; 166  |};
                            12599 ; 167  |
                            12600 ; 168  |union WaitMask{
                            12601 ; 169  |    struct B{
                            12602 ; 170  |        unsigned int m_bNone     :1;
                            12603 ; 171  |        unsigned int m_bMessage  :1;
                            12604 ; 172  |        unsigned int m_bTimer    :1;
                            12605 ; 173  |        unsigned int m_bButton   :1;
                            12606 ; 174  |    } B;
                            12607 ; 175  |    int I;
                            12608 ; 176  |} ;
                            12609 ; 177  |
                            12610 ; 178  |
                            12611 ; 179  |struct Button {
                            12612 ; 180  |        WORD wButtonEvent;
                            12613 ; 181  |        WORD wUnused[MAX_MSG_LENGTH];   
                            12614 ; 182  |};
                            12615 ; 183  |
                            12616 ; 184  |struct Message {
                            12617 ; 185  |        WORD wMsgLength;
                            12618 ; 186  |        WORD wMsgCommand;
                            12619 ; 187  |        WORD wMsgParms[MAX_MSG_LENGTH-1];
                            12620 ; 188  |};
                            12621 ; 189  |
                            12622 ; 190  |union EventTypes {
                            12623 ; 191  |        struct CMessage msg;
                            12624 ; 192  |        struct Button Button ;
                            12625 ; 193  |        struct Message Message;
                            12626 ; 194  |};
                            12627 ; 195  |
                            12628 ; 196  |// next 2 used to get updater build to return correct protocol ver in scsi response.
                            12629 ; 197  |#define BUILD_TYPE_UPDATER  0x100
                            12630 ; 198  |#define BUILD_TYPE_HOSTLINK 0x101
                            12631 ; 199  |#define BUILD_TYPE_PLAYER   0x102
                            12632 ; 200  |
                            12633 ; 201  |// Resets part if RETAIL build. DEBUG build executes debug instruction to halt.
                            12634 ; 202  |#define SystemHalt() __asm(" include 'sysmacro.asm' \n error") 
                            12635 ; 203  |#define assert(x)    if(!(x)) __asm(" include 'sysmacro.asm' \n error")
                            12636 ; 204  |
                            12637 ; 205  |#if DEBUG
                            12638 ; 206  |// For DEBUG builds, DebugBuildAssert(condition) halts if condition evaluates to FALSE. 
                            12639 ; 207  |#define DebugBuildAssert(x)    if(!(x)) __asm(" debug ")
                            12640 ; 208  |#else 
                            12641 ; 209  |// For RETAIL builds, DebugBuildAssert(condition) does nothing & execution continues rathe
                                  r than halt or reset. 
                            12642 ; 210  |#define DebugBuildAssert(x)    
                            12643 ; 211  |#endif
                            12644 ; 212  |
                            12645 ; 213  |// Do this in your C files to make a reminder that's displayed during the build.
                            12646 ; 214  |//  #pragma asm
                            12647 ; 215  |//  WARN 'Note to builder: reminder to do this after verifying that'
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 210

M:ADDR CODE           CYCLES LINE SOURCELINE
                            12648 ; 216  |//  #pragma endasm
                            12649 ; 217  |
                            12650 ; 218  |
                            12651 ; 219  |#ifdef COLOR_262K
                            12652 ; 220  |#define RGB(r,g,b)    ((0x0000FC & (r)) << 10) | ((0x0000FC & (g)) << 4) | ((0x0000FC & (b
                                  )) >> 2)    //262k
                            12653 ; 221  |#elif defined(COLOR_65K)
                            12654 ; 222  |#define RGB(r,g,b)    ((0x0000F8 & (r)) << 8) | ((0x0000FC & (g)) << 3) | ((0x0000F8 & (b)
                                  ) >> 3)  //65k
                            12655 ; 223  |#else
                            12656 ; 224  |#define RGB(r,g,b)       ((0x0000F0 & (r)) << 4) | (0x0000F0 & (g)) | ((0x0000F0 & (b)) >>
                                   4)
                            12657 ; 225  |#endif
                            12658 ; 226  |    
                            12659 ; 227  |#endif // #ifndef _TYPES_H
                            12660 
                            12662 
                            12663 ; 31   |
                            12664 ; 32   |//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                            12665 ; 33   |
                            12666 ; 34   |//   SPI STMP3500 Registers 
                            12667 ; 35   |//   Last Updated 7.7.2003 Dave Dyches
                            12668 ; 36   |//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                            12669 ; 37   |
                            12670 ; 38   |#define HW_SPI_BASEADDR (0xFFF9)
                            12671 ; 39   |
                            12672 ; 40   |
                            12673 ; 41   |
                            12674 ; 42   |// /////////////////////////////////////////////
                            12675 ; 43   |// //  SPI Control/Status Register Bit Definitions
                            12676 ; 44   |#define HW_SPCSR_SPE_BITPOS (0)
                            12677 ; 45   |#define HW_SPCSR_MSTR_BITPOS (1)
                            12678 ; 46   |#define HW_SPCSR_SPIE_BITPOS (2)
                            12679 ; 47   |#define HW_SPCSR_CPOL_BITPOS (3)
                            12680 ; 48   |#define HW_SPCSR_CPHA_BITPOS (4)
                            12681 ; 49   |#define HW_SPCSR_SPIF_BITPOS (5)
                            12682 ; 50   |#define HW_SPCSR_WCOL_BITPOS (6)
                            12683 ; 51   |#define HW_SPCSR_MODF_BITPOS (7)
                            12684 ; 52   |#define HW_SPCSR_DIV_BITPOS (8)
                            12685 ; 53   |#define HW_SPCSR_RSVD_BITPOS (16)
                            12686 ; 54   |
                            12687 ; 55   |#define HW_SPCSR_SPE_WIDTH (1)
                            12688 ; 56   |#define HW_SPCSR_MSTR_WIDTH (1)
                            12689 ; 57   |#define HW_SPCSR_SPIE_WIDTH (1)
                            12690 ; 58   |#define HW_SPCSR_CPOL_WIDTH (1)
                            12691 ; 59   |#define HW_SPCSR_CPHA_WIDTH (1)
                            12692 ; 60   |#define HW_SPCSR_SPIF_WIDTH (1)
                            12693 ; 61   |#define HW_SPCSR_WCOL_WIDTH (1)
                            12694 ; 62   |#define HW_SPCSR_MODF_WIDTH (1)
                            12695 ; 63   |#define HW_SPCSR_DIV_WIDTH (8)
                            12696 ; 64   |#define HW_SPCSR_RSVD_WIDTH (8)
                            12697 ; 65   |
                            12698 ; 66   |#define HW_SPCSR_SPE_SETMASK (((1<<HW_SPCSR_SPE_WIDTH)-1)<<HW_SPCSR_SPE_BITPOS)
                            12699 ; 67   |#define HW_SPCSR_MSTR_SETMASK (((1<<HW_SPCSR_MSTR_WIDTH)-1)<<HW_SPCSR_MSTR_BITPOS)
                            12700 ; 68   |#define HW_SPCSR_SPIE_SETMASK (((1<<HW_SPCSR_SPIE_WIDTH)-1)<<HW_SPCSR_SPIE_BITPOS)
                            12701 ; 69   |#define HW_SPCSR_CPOL_SETMASK (((1<<HW_SPCSR_CPOL_WIDTH)-1)<<HW_SPCSR_CPOL_BITPOS)
                            12702 ; 70   |#define HW_SPCSR_CPHA_SETMASK (((1<<HW_SPCSR_CPHA_WIDTH)-1)<<HW_SPCSR_CPHA_BITPOS)
                            12703 ; 71   |#define HW_SPCSR_SPIF_SETMASK (((1<<HW_SPCSR_SPIF_WIDTH)-1)<<HW_SPCSR_SPIF_BITPOS)
                            12704 ; 72   |#define HW_SPCSR_WCOL_SETMASK (((1<<HW_SPCSR_WCOL_WIDTH)-1)<<HW_SPCSR_WCOL_BITPOS)
                            12705 ; 73   |#define HW_SPCSR_MODF_SETMASK (((1<<HW_SPCSR_MODF_WIDTH)-1)<<HW_SPCSR_MODF_BITPOS)
                            12706 ; 74   |#define HW_SPCSR_DIV_SETMASK (((1<<HW_SPCSR_DIV_WIDTH)-1)<<HW_SPCSR_DIV_BITPOS)
                            12707 ; 75   |#define HW_SPCSR_RSVD_SETMASK (((1<<HW_SPCSR_RSVD_WIDTH)-1)<<HW_SPCSR_RSVD_BITPOS)
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 211

M:ADDR CODE           CYCLES LINE SOURCELINE
                            12708 ; 76   |
                            12709 ; 77   |#define HW_SPCSR_SPE_CLRMASK (~(WORD)HW_SPCSR_SPE_SETMASK)
                            12710 ; 78   |#define HW_SPCSR_MSTR_CLRMASK (~(WORD)HW_SPCSR_MSTR_SETMASK)
                            12711 ; 79   |#define HW_SPCSR_SPIE_CLRMASK (~(WORD)HW_SPCSR_SPIE_SETMASK)
                            12712 ; 80   |#define HW_SPCSR_CPOL_CLRMASK (~(WORD)HW_SPCSR_CPOL_SETMASK)
                            12713 ; 81   |#define HW_SPCSR_CPHA_CLRMASK (~(WORD)HW_SPCSR_CPHA_SETMASK)
                            12714 ; 82   |#define HW_SPCSR_SPIF_CLRMASK (~(WORD)HW_SPCSR_SPIF_SETMASK)
                            12715 ; 83   |#define HW_SPCSR_WCOL_CLRMASK (~(WORD)HW_SPCSR_WCOL_SETMASK)
                            12716 ; 84   |#define HW_SPCSR_MODF_CLRMASK (~(WORD)HW_SPCSR_MODF_SETMASK)
                            12717 ; 85   |#define HW_SPCSR_DIV_CLRMASK (~(WORD)HW_SPCSR_DIV_SETMASK)
                            12718 ; 86   |#define HW_SPCSR_RSVD_CLRMASK (~(WORD)HW_SPCSR_RSVD_SETMASK)
                            12719 ; 87   |
                            12720 ; 88   |typedef union               
                            12721 ; 89   |{
                            12722 ; 90   |    struct {
                            12723 ; 91   |        int SPE                 : HW_SPCSR_SPE_WIDTH;    
                            12724 ; 92   |        int MSTR                : HW_SPCSR_MSTR_WIDTH;
                            12725 ; 93   |        int SPIE                    : HW_SPCSR_SPIE_WIDTH;
                            12726 ; 94   |        int CPOL                : HW_SPCSR_CPOL_WIDTH;
                            12727 ; 95   |        int CPHA                : HW_SPCSR_CPHA_WIDTH;
                            12728 ; 96   |        int SPIF                : HW_SPCSR_SPIF_WIDTH;
                            12729 ; 97   |        int WCOL                    : HW_SPCSR_WCOL_WIDTH;
                            12730 ; 98   |        int MODF                : HW_SPCSR_MODF_WIDTH;
                            12731 ; 99   |        int DIV                 : HW_SPCSR_DIV_WIDTH;
                            12732 ; 100  |    } B;
                            12733 ; 101  |
                            12734 ; 102  |    int I;
                            12735 ; 103  |    unsigned int U;
                            12736 ; 104  |} spcsr_type;
                            12737 ; 105  |#define HW_SPCSR      (*(volatile spcsr_type _X*) (HW_SPI_BASEADDR))    /* SPI Control / S
                                  tatus Register */
                            12738 ; 106  |
                            12739 ; 107  |// /////////////////////////////////////////////
                            12740 ; 108  |// //  SPI Data Register Bit Definitions
                            12741 ; 109  |#define HW_SPDR_SPIDATA_BITPOS (0)
                            12742 ; 110  |#define HW_SPDR_RSVD_BITPOS (8)
                            12743 ; 111  |
                            12744 ; 112  |#define HW_SPDR_SPIDATA_WIDTH (8)
                            12745 ; 113  |#define HW_SPDR_RSVD_WIDTH (16)
                            12746 ; 114  |
                            12747 ; 115  |#define HW_SPDR_SPIDATA_SETMASK (((1<<HW_SPDR_SPIDATA_WIDTH)-1)<<HW_SPDR_SPIDATA_BITPOS)
                            12748 ; 116  |#define HW_SPDR_RSVD_SETMASK (((1<<HW_SPDR_RSVD_WIDTH)-1)<<HW_SPDR_RSVD_BITPOS)
                            12749 ; 117  |
                            12750 ; 118  |#define HW_SPDR_SPIDATA_CLRMASK (~(WORD)HW_SPDR_SPIDATA_SETMASK) 
                            12751 ; 119  |#define HW_SPDR_RSVD_CLRMASK (~(WORD)HW_SPDR_RSVD_SETMASK)
                            12752 ; 120  |
                            12753 ; 121  |typedef union               
                            12754 ; 122  |{
                            12755 ; 123  |    struct {
                            12756 ; 124  |        int SPIDATA                     : HW_SPDR_SPIDATA_WIDTH;
                            12757 ; 125  |    } B;
                            12758 ; 126  |
                            12759 ; 127  |    int I;
                            12760 ; 128  |    unsigned int U;
                            12761 ; 129  |} spdr_type;
                            12762 ; 130  |#define HW_SPDR      (*(volatile spdr_type _X*) (HW_SPI_BASEADDR+1))    /* SPI Data Regist
                                  er */
                            12763 ; 131  |
                            12764 ; 132  |
                            12765 ; 133  |#endif
                            12766 ; 134  |
                            12767 ; 135  |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 212

M:ADDR CODE           CYCLES LINE SOURCELINE
                            12768 
                            12770 
                            12771 ; 32   |#include "regsswizzle.h"
                            12772 
                            12774 
                            12775 ; 1    |//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                            12776 ; 2    |//;; Copyright(C) SigmaTel, Inc. 2002-2003
                            12777 ; 3    |//;; Filename    : regsswizzle.inc
                            12778 ; 4    |//;; Description : Register definitions for Swizzle interface
                            12779 ; 5    |//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                            12780 ; 6    |
                            12781 ; 7    |/////////////////////////////////////////////////////////////////////////////////
                            12782 ; 8    |// The following naming conventions are followed in this file.
                            12783 ; 9    |// All registers are named using the format...
                            12784 ; 10   |//     HW_<module>_<regname>
                            12785 ; 11   |// where <module> is the module name which can be any of the following...
                            12786 ; 12   |//     USB20
                            12787 ; 13   |// (Note that when there is more than one copy of a particular module, the
                            12788 ; 14   |// module name includes a number starting from 0 for the first instance of
                            12789 ; 15   |// that module)
                            12790 ; 16   |// <regname> is the specific register within that module
                            12791 ; 17   |// We also define the following...
                            12792 ; 18   |//     HW_<module>_<regname>_BITPOS
                            12793 ; 19   |// which defines the starting bit (i.e. LSB) of a multi bit field
                            12794 ; 20   |//     HW_<module>_<regname>_SETMASK
                            12795 ; 21   |// which does something else, and
                            12796 ; 22   |//     HW_<module>_<regname>_CLRMASK
                            12797 ; 23   |// which does something else.
                            12798 ; 24   |// Other rules
                            12799 ; 25   |//     All caps
                            12800 ; 26   |//     Numeric identifiers start at 0
                            12801 ; 27   |#if !(defined(regsswizzleinc))
                            12802 ; 28   |#define regsswizzleinc 1
                            12803 ; 29   |
                            12804 ; 30   |#include "types.h"
                            12805 
                            12807 
                            12808 ; 1    |////////////////////////////////////////////////////////////////////////////////
                            12809 ; 2    |// Copyright(C) SigmaTel, Inc. 2000-2004
                            12810 ; 3    |//
                            12811 ; 4    |// Filename: types.h
                            12812 ; 5    |// Description: Standard data types
                            12813 ; 6    |////////////////////////////////////////////////////////////////////////////////
                            12814 ; 7    |
                            12815 ; 8    |#ifndef _TYPES_H
                            12816 ; 9    |#define _TYPES_H
                            12817 ; 10   |
                            12818 ; 11   |// TODO:  move this outta here!
                            12819 ; 12   |#if !defined(NOERROR)
                            12820 ; 13   |#define NOERROR 0
                            12821 ; 14   |#define SUCCESS 0
                            12822 ; 15   |#endif 
                            12823 ; 16   |#if !defined(SUCCESS)
                            12824 ; 17   |#define SUCCESS  0
                            12825 ; 18   |#endif
                            12826 ; 19   |#if !defined(ERROR)
                            12827 ; 20   |#define ERROR   -1
                            12828 ; 21   |#endif
                            12829 ; 22   |#if !defined(FALSE)
                            12830 ; 23   |#define FALSE 0
                            12831 ; 24   |#endif
                            12832 ; 25   |#if !defined(TRUE)
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 213

M:ADDR CODE           CYCLES LINE SOURCELINE
                            12833 ; 26   |#define TRUE  1
                            12834 ; 27   |#endif
                            12835 ; 28   |
                            12836 ; 29   |#if !defined(NULL)
                            12837 ; 30   |#define NULL 0
                            12838 ; 31   |#endif
                            12839 ; 32   |
                            12840 ; 33   |#define MAX_INT     0x7FFFFF
                            12841 ; 34   |#define MAX_LONG    0x7FFFFFffffff
                            12842 ; 35   |        // max positive unsigned long value: -1 == 0xFFFFFFffffff
                            12843 ; 36   |#define MAX_ULONG   (-1) 
                            12844 ; 37   |
                            12845 ; 38   |#define WORD_SIZE   24              // word size in bits
                            12846 ; 39   |#define BYTES_PER_WORD 3            // 8 bit bytes
                            12847 ; 40   |
                            12848 ; 41   |
                            12849 ; 42   |#define BYTE    unsigned char       // btVarName
                            12850 ; 43   |#define CHAR    signed char         // cVarName
                            12851 ; 44   |#define USHORT  unsigned short      // usVarName
                            12852 ; 45   |#define SHORT   unsigned short      // sVarName
                            12853 ; 46   |#define WORD    unsigned int        // wVarName
                            12854 ; 47   |#define INT     signed int          // iVarName
                            12855 ; 48   |#define DWORD   unsigned long       // dwVarName
                            12856 ; 49   |#define LONG    signed long         // lVarName
                            12857 ; 50   |#define BOOL    unsigned int        // bVarName
                            12858 ; 51   |#define FRACT   _fract              // frVarName
                            12859 ; 52   |#define LFRACT  long _fract         // lfrVarName
                            12860 ; 53   |#define CIRC    _circ               // cp<type prefix>VarName (see below)
                            12861 ; 54   |#define FLOAT   float               // fVarName
                            12862 ; 55   |#define DBL     double              // dVarName
                            12863 ; 56   |#define ENUM    enum                // eVarName
                            12864 ; 57   |#define CMX     _complex            // cmxVarName
                            12865 ; 58   |typedef WORD UCS3;                   // 
                            12866 ; 59   |
                            12867 ; 60   |#define UINT16  unsigned short
                            12868 ; 61   |#define UINT8   unsigned char   
                            12869 ; 62   |#define UINT32  unsigned long
                            12870 ; 63   |#define UINT64  unsigned long   // need to figure out how to do 64 bit values.  Or port ex
                                  isiting code to only use 48 bit
                            12871 ; 64   |#define INT64   unsigned long   // need to figure out how to do 64 bit values.  Or port ex
                                  isiting code to only use 48 bit
                            12872 ; 65   |#define WCHAR   UINT16
                            12873 ; 66   |
                            12874 ; 67   |//UINT128 is 16 bytes or 6 words
                            12875 ; 68   |typedef struct UINT128_3500 {   
                            12876 ; 69   |    int val[6];     
                            12877 ; 70   |} UINT128_3500;
                            12878 ; 71   |
                            12879 ; 72   |#define UINT128   UINT128_3500
                            12880 ; 73   |
                            12881 ; 74   |// Little endian word packed byte strings:   
                            12882 ; 75   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                            12883 ; 76   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                            12884 ; 77   |// Little endian word packed byte strings:   
                            12885 ; 78   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                            12886 ; 79   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                            12887 ; 80   |
                            12888 ; 81   |// Declare Memory Spaces To Use When Coding
                            12889 ; 82   |// A. Sector Buffers
                            12890 ; 83   |#define SECTOR_BUFFER_MEM_X _X
                            12891 ; 84   |#define SECTOR_BUFFER_MEM_Y _Y
                            12892 ; 85   |#define SECTOR_BUFFER_MEM SECTOR_BUFFER_MEM_X
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 214

M:ADDR CODE           CYCLES LINE SOURCELINE
                            12893 ; 86   |typedef WORD SECTOR_BUFFER_MEM SECTOR_BUFFER;
                            12894 ; 87   |typedef SECTOR_BUFFER * P_SECTOR_BUFFER;
                            12895 ; 88   |// B. Media DDI Memory
                            12896 ; 89   |#define MEDIA_DDI_MEM _Y
                            12897 ; 90   |
                            12898 ; 91   |
                            12899 ; 92   |
                            12900 ; 93   |// Pointers to linear structures are labeled as: p<type prefix>VarName
                            12901 ; 94   |// Examples of circular pointers:
                            12902 ; 95   |//    INT CIRC cpiVarName
                            12903 ; 96   |//    DWORD CIRC cpdwVarName
                            12904 ; 97   |
                            12905 ; 98   |#define RETCODE INT                 // rcVarName
                            12906 ; 99   |
                            12907 ; 100  |// generic bitfield structure
                            12908 ; 101  |struct Bitfield {
                            12909 ; 102  |    unsigned int B0  :1;
                            12910 ; 103  |    unsigned int B1  :1;
                            12911 ; 104  |    unsigned int B2  :1;
                            12912 ; 105  |    unsigned int B3  :1;
                            12913 ; 106  |    unsigned int B4  :1;
                            12914 ; 107  |    unsigned int B5  :1;
                            12915 ; 108  |    unsigned int B6  :1;
                            12916 ; 109  |    unsigned int B7  :1;
                            12917 ; 110  |    unsigned int B8  :1;
                            12918 ; 111  |    unsigned int B9  :1;
                            12919 ; 112  |    unsigned int B10 :1;
                            12920 ; 113  |    unsigned int B11 :1;
                            12921 ; 114  |    unsigned int B12 :1;
                            12922 ; 115  |    unsigned int B13 :1;
                            12923 ; 116  |    unsigned int B14 :1;
                            12924 ; 117  |    unsigned int B15 :1;
                            12925 ; 118  |    unsigned int B16 :1;
                            12926 ; 119  |    unsigned int B17 :1;
                            12927 ; 120  |    unsigned int B18 :1;
                            12928 ; 121  |    unsigned int B19 :1;
                            12929 ; 122  |    unsigned int B20 :1;
                            12930 ; 123  |    unsigned int B21 :1;
                            12931 ; 124  |    unsigned int B22 :1;
                            12932 ; 125  |    unsigned int B23 :1;
                            12933 ; 126  |};
                            12934 ; 127  |
                            12935 ; 128  |union BitInt {
                            12936 ; 129  |        struct Bitfield B;
                            12937 ; 130  |        int        I;
                            12938 ; 131  |};
                            12939 ; 132  |
                            12940 ; 133  |#define MAX_MSG_LENGTH 10
                            12941 ; 134  |struct CMessage
                            12942 ; 135  |{
                            12943 ; 136  |        unsigned int m_uLength;
                            12944 ; 137  |        unsigned int m_uMsg[MAX_MSG_LENGTH];
                            12945 ; 138  |};
                            12946 ; 139  |
                            12947 ; 140  |typedef struct {
                            12948 ; 141  |    WORD m_wLength;
                            12949 ; 142  |    WORD m_wMessage;
                            12950 ; 143  |    WORD m_wParams[MAX_MSG_LENGTH];
                            12951 ; 144  |} Message;
                            12952 ; 145  |
                            12953 ; 146  |struct MessageQueueDescriptor
                            12954 ; 147  |{
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 215

M:ADDR CODE           CYCLES LINE SOURCELINE
                            12955 ; 148  |        int *m_pBase;
                            12956 ; 149  |        int m_iModulo;
                            12957 ; 150  |        int m_iSize;
                            12958 ; 151  |        int *m_pHead;
                            12959 ; 152  |        int *m_pTail;
                            12960 ; 153  |};
                            12961 ; 154  |
                            12962 ; 155  |struct ModuleEntry
                            12963 ; 156  |{
                            12964 ; 157  |    int m_iSignaledEventMask;
                            12965 ; 158  |    int m_iWaitEventMask;
                            12966 ; 159  |    int m_iResourceOfCode;
                            12967 ; 160  |    struct MessageQueueDescriptor *m_pMessageQueue;
                            12968 ; 161  |    int _asmfunc (*m_pProcessEntryPoint)(union WaitMask Signals,struct MessageQueueDescrip
                                  tor *);
                            12969 ; 162  |    int _asmfunc (*m_pInitFunction)(struct MessageQueueDescriptor *);
                            12970 ; 163  |    int m_uTimeOutHigh;
                            12971 ; 164  |    int m_uTimeOutLow;
                            12972 ; 165  |    int _asmfunc (*m_pBackgroundFunction)(struct MessageQueueDescriptor *);
                            12973 ; 166  |};
                            12974 ; 167  |
                            12975 ; 168  |union WaitMask{
                            12976 ; 169  |    struct B{
                            12977 ; 170  |        unsigned int m_bNone     :1;
                            12978 ; 171  |        unsigned int m_bMessage  :1;
                            12979 ; 172  |        unsigned int m_bTimer    :1;
                            12980 ; 173  |        unsigned int m_bButton   :1;
                            12981 ; 174  |    } B;
                            12982 ; 175  |    int I;
                            12983 ; 176  |} ;
                            12984 ; 177  |
                            12985 ; 178  |
                            12986 ; 179  |struct Button {
                            12987 ; 180  |        WORD wButtonEvent;
                            12988 ; 181  |        WORD wUnused[MAX_MSG_LENGTH];   
                            12989 ; 182  |};
                            12990 ; 183  |
                            12991 ; 184  |struct Message {
                            12992 ; 185  |        WORD wMsgLength;
                            12993 ; 186  |        WORD wMsgCommand;
                            12994 ; 187  |        WORD wMsgParms[MAX_MSG_LENGTH-1];
                            12995 ; 188  |};
                            12996 ; 189  |
                            12997 ; 190  |union EventTypes {
                            12998 ; 191  |        struct CMessage msg;
                            12999 ; 192  |        struct Button Button ;
                            13000 ; 193  |        struct Message Message;
                            13001 ; 194  |};
                            13002 ; 195  |
                            13003 ; 196  |// next 2 used to get updater build to return correct protocol ver in scsi response.
                            13004 ; 197  |#define BUILD_TYPE_UPDATER  0x100
                            13005 ; 198  |#define BUILD_TYPE_HOSTLINK 0x101
                            13006 ; 199  |#define BUILD_TYPE_PLAYER   0x102
                            13007 ; 200  |
                            13008 ; 201  |// Resets part if RETAIL build. DEBUG build executes debug instruction to halt.
                            13009 ; 202  |#define SystemHalt() __asm(" include 'sysmacro.asm' \n error") 
                            13010 ; 203  |#define assert(x)    if(!(x)) __asm(" include 'sysmacro.asm' \n error")
                            13011 ; 204  |
                            13012 ; 205  |#if DEBUG
                            13013 ; 206  |// For DEBUG builds, DebugBuildAssert(condition) halts if condition evaluates to FALSE. 
                            13014 ; 207  |#define DebugBuildAssert(x)    if(!(x)) __asm(" debug ")
                            13015 ; 208  |#else 
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 216

M:ADDR CODE           CYCLES LINE SOURCELINE
                            13016 ; 209  |// For RETAIL builds, DebugBuildAssert(condition) does nothing & execution continues rathe
                                  r than halt or reset. 
                            13017 ; 210  |#define DebugBuildAssert(x)    
                            13018 ; 211  |#endif
                            13019 ; 212  |
                            13020 ; 213  |// Do this in your C files to make a reminder that's displayed during the build.
                            13021 ; 214  |//  #pragma asm
                            13022 ; 215  |//  WARN 'Note to builder: reminder to do this after verifying that'
                            13023 ; 216  |//  #pragma endasm
                            13024 ; 217  |
                            13025 ; 218  |
                            13026 ; 219  |#ifdef COLOR_262K
                            13027 ; 220  |#define RGB(r,g,b)    ((0x0000FC & (r)) << 10) | ((0x0000FC & (g)) << 4) | ((0x0000FC & (b
                                  )) >> 2)    //262k
                            13028 ; 221  |#elif defined(COLOR_65K)
                            13029 ; 222  |#define RGB(r,g,b)    ((0x0000F8 & (r)) << 8) | ((0x0000FC & (g)) << 3) | ((0x0000F8 & (b)
                                  ) >> 3)  //65k
                            13030 ; 223  |#else
                            13031 ; 224  |#define RGB(r,g,b)       ((0x0000F0 & (r)) << 4) | (0x0000F0 & (g)) | ((0x0000F0 & (b)) >>
                                   4)
                            13032 ; 225  |#endif
                            13033 ; 226  |    
                            13034 ; 227  |#endif // #ifndef _TYPES_H
                            13035 
                            13037 
                            13038 ; 31   |
                            13039 ; 32   |//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                            13040 ; 33   |
                            13041 ; 34   |//   SWIZZLE STMP3500 Registers 
                            13042 ; 35   |//   Last Updated 7.11.2003 Dave Dyches
                            13043 ; 36   |//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                            13044 ; 37   |
                            13045 ; 38   |
                            13046 ; 39   |
                            13047 ; 40   |
                            13048 ; 41   |
                            13049 ; 42   |#define HW_SWIZZLE_BASEADDR 0xF380
                            13050 ; 43   |
                            13051 ; 44   |
                            13052 ; 45   |
                            13053 ; 46   |////  Swizzle CSR1 (HW_SWIZZLECSR1) Bit Definitions
                            13054 ; 47   |#define HW_SWIZZLECSR1_EN_BITPOS (0)
                            13055 ; 48   |#define HW_SWIZZLECSR1_LA_BITPOS (1)
                            13056 ; 49   |#define HW_SWIZZLECSR1_LNR_BITPOS (2)
                            13057 ; 50   |#define HW_SWIZZLECSR1_SIGN_BITPOS (3)
                            13058 ; 51   |#define HW_SWIZZLECSR1_SHIFT_BITPOS (4)
                            13059 ; 52   |#define HW_SWIZZLECSR1_MEM_BITPOS (8)
                            13060 ; 53   |#define HW_SWIZZLECSR1_CLK_OFF_BITPOS (9)
                            13061 ; 54   |#define HW_SWIZZLECSR1_NEWADD_BITPOS (10)
                            13062 ; 55   |#define HW_SWIZZLECSR1_RSVD_BITPOS (11)
                            13063 ; 56   |
                            13064 ; 57   |#define HW_SWIZZLECSR1_EN_WIDTH (1)
                            13065 ; 58   |#define HW_SWIZZLECSR1_LA_WIDTH (1)
                            13066 ; 59   |#define HW_SWIZZLECSR1_LNR_WIDTH (1)
                            13067 ; 60   |#define HW_SWIZZLECSR1_SIGN_WIDTH (1)
                            13068 ; 61   |#define HW_SWIZZLECSR1_SHIFT_WIDTH (4)
                            13069 ; 62   |#define HW_SWIZZLECSR1_MEM_WIDTH (1)
                            13070 ; 63   |#define HW_SWIZZLECSR1_CLK_OFF_WIDTH (1)
                            13071 ; 64   |#define HW_SWIZZLECSR1_NEWADD_WIDTH (1)
                            13072 ; 65   |#define HW_SWIZZLECSR1_RSVD_WIDTH (13)
                            13073 ; 66   |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 217

M:ADDR CODE           CYCLES LINE SOURCELINE
                            13074 ; 67   |#define HW_SWIZZLECSR1_EN_SETMASK (((1<HW_SWIZZLECSR1_EN_WIDTH)-1)<<HW_SWIZZLECSR1_EN_BITP
                                  OS)
                            13075 ; 68   |#define HW_SWIZZLECSR1_LA_SETMASK (((1<HW_SWIZZLECSR1_LA_WIDTH)-1)<<HW_SWIZZLECSR1_LA_BITP
                                  OS)
                            13076 ; 69   |#define HW_SWIZZLECSR1_LNR_SETMASK (((1<HW_SWIZZLECSR1_LNR_WIDTH)-1)<<HW_SWIZZLECSR1_LNR_B
                                  ITPOS)
                            13077 ; 70   |#define HW_SWIZZLECSR1_SIGN_SETMASK (((1<HW_SWIZZLECSR1_SIGN_WIDTH)-1)<<HW_SWIZZLECSR1_SIG
                                  N_BITPOS)
                            13078 ; 71   |#define HW_SWIZZLECSR1_SHIFT_SETMASK (((1<HW_SWIZZLECSR1_SHIFT_WIDTH)-1)<<HW_SWIZZLECSR1_S
                                  HIFT_BITPOS)
                            13079 ; 72   |#define HW_SWIZZLECSR1_MEM_SETMASK (((1<HW_SWIZZLECSR1_MEM_WIDTH)-1)<<HW_SWIZZLECSR1_MEM_B
                                  ITPOS)
                            13080 ; 73   |#define HW_SWIZZLECSR1_CLK_OFF_SETMASK (((1<HW_SWIZZLECSR1_CLK_OFF_WIDTH)-1)<<HW_SWIZZLECS
                                  R1_CLK_OFF_BITPOS)
                            13081 ; 74   |#define HW_SWIZZLECSR1_NEWADD_SETMASK (((1<HW_SWIZZLECSR1_NEWADD_WIDTH)-1)<<HW_SWIZZLECSR1
                                  _NEWADD_BITPOS)
                            13082 ; 75   |#define HW_SWIZZLECSR1_RSVD_SETMASK (((1<HW_SWIZZLECSR1_RSVD_WIDTH)-1)<<HW_SWIZZLECSR1_RSV
                                  D_BITPOS)
                            13083 ; 76   |
                            13084 ; 77   |#define HW_SWIZZLECSR1_EN_CLRMASK (~(WORD)HW_SWIZZLECSR1_EN_SETMASK)
                            13085 ; 78   |#define HW_SWIZZLECSR1_LA_CLRMASK (~(WORD)HW_SWIZZLECSR1_LA_SETMASK)
                            13086 ; 79   |#define HW_SWIZZLECSR1_LNR_CLRMASK (~(WORD)HW_SWIZZLECSR1_LNR_SETMASK)
                            13087 ; 80   |#define HW_SWIZZLECSR1_SIGN_CLRMASK (~(WORD)HW_SWIZZLECSR1_SIGN_SETMASK)
                            13088 ; 81   |#define HW_SWIZZLECSR1_SHIFT_CLRMASK (~(WORD)HW_SWIZZLECSR1_SHIFT_SETMASK)
                            13089 ; 82   |#define HW_SWIZZLECSR1_MEM_CLRMASK (~(WORD)HW_SWIZZLECSR1_MEM_SETMASK)
                            13090 ; 83   |#define HW_SWIZZLECSR1_CLK_OFF_CLRMASK (~(WORD)HW_SWIZZLECSR1_CLK_OFF_SETMASK)
                            13091 ; 84   |#define HW_SWIZZLECSR1_NEWADD_CLRMASK (~(WORD)HW_SWIZZLECSR1_NEWADD_SETMASK)
                            13092 ; 85   |#define HW_SWIZZLECSR1_RSVD_CLRMASK (~(WORD)HW_SWIZZLECSR1_RSVD_SETMASK)
                            13093 ; 86   |
                            13094 ; 87   |////////////////////////////////////////////////////////////////////////////////
                            13095 ; 88   |//  Bit Manipulation Unit Registers
                            13096 ; 89   |////////////////////////////////////////////////////////////////////////////////
                            13097 ; 90   |typedef union
                            13098 ; 91   |{
                            13099 ; 92   |    struct
                            13100 ; 93   |    {
                            13101 ; 94   |    int EN      :1;     /* Swizzle Enable                           */
                            13102 ; 95   |    int LA      :1;     /* Left Align Data                          */
                            13103 ; 96   |    int LNR     :1;     /* Left Barrel Shift                        */
                            13104 ; 97   |    int SIGN    :1;     /* Sign Extend Data                         */
                            13105 ; 98   |    unsigned SHIFT :4;          /* Number of positions to shift (0 to 23)   */
                            13106 ; 99   |    int MEM     :1;     /* Manipulate in Memory (not in registers)  */
                            13107 ; 100  |    int CLK_OFF :1;     /* Gate the Clock, Power Off                */
                            13108 ; 101  |    int NEWADD  :1;     /* Place the data into a new location       */     
                            13109 ; 102  |    } B;
                            13110 ; 103  |    int I;
                            13111 ; 104  |    unsigned U;
                            13112 ; 105  |} swizzlecsr1_type;
                            13113 ; 106  |////////////////////////////////////////////////////////////////////////////////
                            13114 ; 107  |#define HW_SWIZZLECS1R (*(volatile swizzlecsr1_type _X*) (HW_SWIZZLE_BASEADDR))       /* S
                                  wizzle Control & Status Register 1 */
                            13115 ; 108  |
                            13116 ; 109  |////  Swizzle CSR2 (HW_SWIZZLECSR2) Bit Definitions
                            13117 ; 110  |#define HW_SWIZZLECSR2_KICK_BITPOS (0)
                            13118 ; 111  |#define HW_SWIZZLECSR2_SASEL_BITPOS (1)
                            13119 ; 112  |#define HW_SWIZZLECSR2_DESASEL_BITPOS (3)
                            13120 ; 113  |#define HW_SWIZZLECSR2_BIGE_BITPOS (5)
                            13121 ; 114  |#define HW_SWIZZLECSR2_BITREV_BITPOS (6)
                            13122 ; 115  |#define HW_SWIZZLECSR2_PLSB_BITPOS (7)
                            13123 ; 116  |#define HW_SWIZZLECSR2_PISB_OFF_BITPOS (8)
                            13124 ; 117  |#define HW_SWIZZLECSR2_PMSB_BITPOS (9)
                            13125 ; 118  |#define HW_SWIZZLECSR2_P16L_BITPOS (10)
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 218

M:ADDR CODE           CYCLES LINE SOURCELINE
                            13126 ; 119  |#define HW_SWIZZLECSR2_P16I_BITPOS (11)
                            13127 ; 120  |#define HW_SWIZZLECSR2_BS_EN_BITPOS (12)
                            13128 ; 121  |#define HW_SWIZZLECSR2_SBYTEDEST_BITPOS (13)
                            13129 ; 122  |#define HW_SWIZZLECSR2_UNKICK_BITPOS (15)
                            13130 ; 123  |#define HW_SWIZZLECSR2_RSVD_BITPOS (16)
                            13131 ; 124  |
                            13132 ; 125  |#define HW_SWIZZLECSR2_KICK_WIDTH (1)
                            13133 ; 126  |#define HW_SWIZZLECSR2_SASEL_WIDTH (2)
                            13134 ; 127  |#define HW_SWIZZLECSR2_DESASEL_WIDTH (2)
                            13135 ; 128  |#define HW_SWIZZLECSR2_BIGE_WIDTH (1)
                            13136 ; 129  |#define HW_SWIZZLECSR2_BITREV_WIDTH (1)
                            13137 ; 130  |#define HW_SWIZZLECSR2_PLSB_WIDTH (1)
                            13138 ; 131  |#define HW_SWIZZLECSR2_PMSB_WIDTH (1)
                            13139 ; 132  |#define HW_SWIZZLECSR2_P16L_WIDTH (1)
                            13140 ; 133  |#define HW_SWIZZLECSR2_P16I_WIDTH (1)
                            13141 ; 134  |#define HW_SWIZZLECSR2_BS_EN_WIDTH (1)
                            13142 ; 135  |#define HW_SWIZZLECSR2_SBYTEDEST_WIDTH (2)
                            13143 ; 136  |#define HW_SWIZZLECSR2_UNKICK_WIDTH (1)
                            13144 ; 137  |#define HW_SWIZZLECSR2_RSVD_WIDTH (8)
                            13145 ; 138  |
                            13146 ; 139  |#define HW_SWIZZLECSR2_KICK_SETMASK (((1<HW_SWIZZLECSR2_KICK_WIDTH)-1)<<HW_SWIZZLECSR2_KIC
                                  K_BITPOS)
                            13147 ; 140  |#define HW_SWIZZLECSR2_SASEL_SETMASK (((1<HW_SWIZZLECSR2_SASEL_WIDTH)-1)<<HW_SWIZZLECSR2_S
                                  ASEL_BITPOS)
                            13148 ; 141  |#define HW_SWIZZLECSR2_DESASEL_SETMASK (((1<HW_SWIZZLECSR2_DESASEL_WIDTH)-1)<<HW_SWIZZLECS
                                  R2_DESASEL_BITPOS)
                            13149 ; 142  |#define HW_SWIZZLECSR2_BIGE_SETMASK (((1<HW_SWIZZLECSR2_BIGE_WIDTH)-1)<<HW_SWIZZLECSR2_BIG
                                  E_BITPOS)
                            13150 ; 143  |#define HW_SWIZZLECSR2_BITREV_SETMASK (((1<HW_SWIZZLECSR2_BITREV_WIDTH)-1)<<HW_SWIZZLECSR2
                                  _BITREV_BITPOS)
                            13151 ; 144  |#define HW_SWIZZLECSR2_PLSB_SETMASK (((1<HW_SWIZZLECSR2_PLSB_WIDTH)-1)<<HW_SWIZZLECSR2_PLS
                                  B_BITPOS)
                            13152 ; 145  |#define HW_SWIZZLECSR2_PMSB_SETMASK (((1<HW_SWIZZLECSR2_PMSB_WIDTH)-1)<<HW_SWIZZLECSR2_PMS
                                  B_BITPOS)
                            13153 ; 146  |#define HW_SWIZZLECSR2_P16L_SETMASK (((1<HW_SWIZZLECSR2_P16L_WIDTH)-1)<<HW_SWIZZLECSR2_P16
                                  L_BITPOS)
                            13154 ; 147  |#define HW_SWIZZLECSR2_P16I_SETMASK (((1<HW_SWIZZLECSR2_P16I_WIDTH)-1)<<HW_SWIZZLECSR2_P16
                                  I_BITPOS)
                            13155 ; 148  |#define HW_SWIZZLECSR2_BS_EN_SETMASK (((1<HW_SWIZZLECSR2_BS_EN_WIDTH)-1)<<HW_SWIZZLECSR2_B
                                  S_EN_BITPOS)
                            13156 ; 149  |#define HW_SWIZZLECSR2_SBYTEDEST_SETMASK (((1<HW_SWIZZLECSR2_SBYTEDEST_WIDTH)-1)<<HW_SWIZZ
                                  LECSR2_SBYTEDEST_BITPOS)
                            13157 ; 150  |#define HW_SWIZZLECSR2_UNKICK_SETMASK (((1<HW_SWIZZLECSR2_UNKICK_WIDTH)-1)<<HW_SWIZZLECSR2
                                  _UNKICK_BITPOS)
                            13158 ; 151  |#define HW_SWIZZLECSR2_RSVD_SETMASK (((1<HW_SWIZZLECSR2_RSVD_WIDTH)-1)<<HW_SWIZZLECSR2_RSV
                                  D_BITPOS)
                            13159 ; 152  |
                            13160 ; 153  |#define HW_SWIZZLECSR2_KICK_CLRMASK (~(WORD)HW_SWIZZLECSR2_KICK_SETMASK)
                            13161 ; 154  |#define HW_SWIZZLECSR2_SASEL_CLRMASK (~(WORD)HW_SWIZZLECSR2_SASEL_SETMASK)
                            13162 ; 155  |#define HW_SWIZZLECSR2_DESASEL_CLRMASK (~(WORD)HW_SWIZZLECSR2_DESASEL_SETMASK)
                            13163 ; 156  |#define HW_SWIZZLECSR2_BIGE_CLRMASK (~(WORD)HW_SWIZZLECSR2_BIGE_SETMASK)
                            13164 ; 157  |#define HW_SWIZZLECSR2_BITREV_CLRMASK (~(WORD)HW_SWIZZLECSR2_BITREV_SETMASK)
                            13165 ; 158  |#define HW_SWIZZLECSR2_PLSB_CLRMASK (~(WORD)HW_SWIZZLECSR2_PLSB_SETMASK)
                            13166 ; 159  |#define HW_SWIZZLECSR2_PMSB_CLRMASK (~(WORD)HW_SWIZZLECSR2_PMSB_SETMASK)
                            13167 ; 160  |#define HW_SWIZZLECSR2_P16L_CLRMASK (~(WORD)HW_SWIZZLECSR2_P16L_SETMASK)
                            13168 ; 161  |#define HW_SWIZZLECSR2_P16I_CLRMASK (~(WORD)HW_SWIZZLECSR2_P16I_SETMASK)
                            13169 ; 162  |#define HW_SWIZZLECSR2_BS_EN_CLRMASK (~(WORD)HW_SWIZZLECSR2_BS_EN_SETMASK)
                            13170 ; 163  |#define HW_SWIZZLECSR2_SBYTEDEST_CLRMASK (~(WORD)HW_SWIZZLECSR2_SBYTEDEST_SETMASK)
                            13171 ; 164  |#define HW_SWIZZLECSR2_UNKICK_CLRMASK (~(WORD)HW_SWIZZLECSR2_UNKICK_SETMASK)
                            13172 ; 165  |#define HW_SWIZZLECSR2_RSVD_CLRMASK (~(WORD)HW_SWIZZLECSR2_RSVD_SETMASK)
                            13173 ; 166  |
                            13174 ; 167  |///////////////////////////////////////////////////////////////////////////////
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 219

M:ADDR CODE           CYCLES LINE SOURCELINE
                            13175 ; 168  |typedef union
                            13176 ; 169  |{
                            13177 ; 170  |    struct
                            13178 ; 171  |    {
                            13179 ; 172  |    int KICK    :1;         /* Start transfer                      */
                            13180 ; 173  |    unsigned SASEL :2;              /* Source memory Select                */
                            13181 ; 174  |    unsigned DESASEL :2;                    /* Destination memory Select           */
                            13182 ; 175  |    int BIGE        :1;             /* Big Endian Enable                   */
                            13183 ; 176  |    int BITREV      :1;     /* Bit reverse the data                */
                            13184 ; 177  |    int PLSB        :1;             /* Pass Least Significant Byte         */
                            13185 ; 178  |    int PISB        :1;     /* Pass Intermediate Byte              */
                            13186 ; 179  |    int PMSB        :1;     /* Pass Most Significant Byte          */
                            13187 ; 180  |    int P16L        :1;     /* Pass Least Significant word         */
                            13188 ; 181  |    int P16I        :1;     /* Pass Intermediate significant word  */
                            13189 ; 182  |    int BS_EN       :1;     /* Barrel Shift Enable                 */
                            13190 ; 183  |    unsigned SBYTE  :2;                     /* Start byte                          */
                            13191 ; 184  |    int UNKICK      :1;     /* Halt transfer                       */  
                            13192 ; 185  |    } B;
                            13193 ; 186  |    unsigned int I;
                            13194 ; 187  |    unsigned int U;
                            13195 ; 188  |} swizzlecsr2_type;
                            13196 ; 189  |///////////////////////////////////////////////////////////////////////////////
                            13197 ; 190  |#define HW_SWIZZLECS2R (*(volatile swizzlecsr2_type _X*) (HW_SWIZZLE_BASEADDR+1))     /* S
                                  wizzle Control & Status Register 2 */
                            13198 ; 191  |
                            13199 ; 192  |////  Swizzle SIZER (HW_SWIZZLESIZER) Bit Definitions
                            13200 ; 193  |#define HW_SWIZZLESIZER_SIZE_BITPOS (0)
                            13201 ; 194  |#define HW_SWIZZLESIZER_NEW_SHIFT_BITPOS (16)
                            13202 ; 195  |#define HW_SWIZZLESIZER_RSVD_BITPOS (21)
                            13203 ; 196  |
                            13204 ; 197  |#define HW_SWIZZLESIZER_SIZE_WIDTH (16)
                            13205 ; 198  |#define HW_SWIZZLESIZER_NEW_SHIFT_WIDTH (5)
                            13206 ; 199  |#define HW_SWIZZLESIZER_RSVD_WIDTH (3)
                            13207 ; 200  |
                            13208 ; 201  |#define HW_SWIZZLESIZER_SIZE_SETMASK (((1<HW_SWIZZLESIZER_SIZE_WIDTH)-1)<<HW_SWIZZLESIZER_
                                  SIZE_BITPOS)
                            13209 ; 202  |#define HW_SWIZZLESIZER_NEW_SHIFT_SETMASK (((1<HW_SWIZZLESIZER_NEW_SHIFT_WIDTH)-1)<<HW_SWI
                                  ZZLESIZER_NEW_SHIFT_BITPOS)
                            13210 ; 203  |#define HW_SWIZZLESIZER_RSVD_SETMASK (((1<HW_SWIZZLESIZER_RSVD_WIDTH)-1)<<HW_SWIZZLESIZER_
                                  RSVD_BITPOS)
                            13211 ; 204  |
                            13212 ; 205  |#define HW_SWIZZLESIZER_SIZE_CLRMASK (~(WORD)HW_SWIZZLESIZER_SIZE_SETMASK)
                            13213 ; 206  |#define HW_SWIZZLESIZER_NEW_SHIFT_CLRMASK (~(WORD)HW_SWIZZLESIZER_NEW_SHIFT_SETMASK)
                            13214 ; 207  |#define HW_SWIZZLESIZER_RSVD_CLRMASK (~(WORD)HW_SWIZZLESIZER_RSVD_SETMASK)
                            13215 ; 208  |
                            13216 ; 209  |///////////////////////////////////////////////////////////////////////////////
                            13217 ; 210  |typedef union
                            13218 ; 211  |{
                            13219 ; 212  |    struct
                            13220 ; 213  |    {
                            13221 ; 214  |    unsigned SIZE      :16;        /* Number of memory words to manipulate */
                            13222 ; 215  |    unsigned NEW_SHIFT :5;         /* Source memory Select                 */
                            13223 ; 216  |    } B;
                            13224 ; 217  |    int I;
                            13225 ; 218  |    unsigned U;
                            13226 ; 219  |} swizzlesizer_type;
                            13227 ; 220  |///////////////////////////////////////////////////////////////////////////////
                            13228 ; 221  |#define HW_SWIZZLESIZER (*(volatile swizzlesizer_type _X*) (HW_SWIZZLE_BASEADDR+2))       
                                   /* Swizzle Transfer Size Register */
                            13229 ; 222  |#define HW_SWIZZLESOURCER (*(volatile unsigned int _X*) (HW_SWIZZLE_BASEADDR+3))      /* S
                                  wizzle Source Address Register */
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 220

M:ADDR CODE           CYCLES LINE SOURCELINE
                            13230 ; 223  |#define HW_SWIZZLEDATA1R (*(volatile unsigned int _X*) (HW_SWIZZLE_BASEADDR+4))       /* S
                                  wizzle Data1 Register */
                            13231 ; 224  |#define HW_SWIZZLEDATA2R (*(volatile unsigned int _X*) (HW_SWIZZLE_BASEADDR+5))       /* S
                                  wizzle Data2 Register */
                            13232 ; 225  |#define HW_SWIZZLEDESTADDRR (*(volatile unsigned int _X*) (HW_SWIZZLE_BASEADDR+6))    /* S
                                  wizzle Destination Address Register */
                            13233 ; 226  |#define HW_SWIZZLEBIGENDIANR (*(volatile unsigned int _X*) (HW_SWIZZLE_BASEADDR+7))   /* S
                                  wizzle Big Endian Register */
                            13234 ; 227  |#define HW_SWIZZLEBITREVR (*(volatile unsigned int _X*) (HW_SWIZZLE_BASEADDR+8))      /* S
                                  wizzle BITREV Register */
                            13235 ; 228  |#define HW_SWIZZLEPASSLSBR (*(volatile unsigned int _X*) (HW_SWIZZLE_BASEADDR+9))     /* S
                                  wizzle Pass Least Significant Byte Register */
                            13236 ; 229  |#define HW_SWIZZLEPASSISBR (*(volatile unsigned int _X*) (HW_SWIZZLE_BASEADDR+10))    /* S
                                  wizzle Pass Intermediate Byte Register */
                            13237 ; 230  |#define HW_SWIZZLEPASSMSBR (*(volatile unsigned int _X*) (HW_SWIZZLE_BASEADDR+11))    /* S
                                  wizzle Pass Most Significant Byte Register */
                            13238 ; 231  |#define HW_SWIZZLEPASSLSWR (*(volatile unsigned int _X*) (HW_SWIZZLE_BASEADDR+12))    /* S
                                  wizzle Pass Least Significant Word Register */
                            13239 ; 232  |#define HW_SWIZZLEPASSISWR (*(volatile unsigned int _X*) (HW_SWIZZLE_BASEADDR+13))    /* S
                                  wizzle Pass Intermediate Significant Word Register */
                            13240 ; 233  |#define HW_SWIZZLEPASSMSWR (*(volatile unsigned int _X*) (HW_SWIZZLE_BASEADDR+14))    /* S
                                  wizzle Pass Most Significant Word Register */
                            13241 ; 234  |#define HW_SWIZZLEBARRELR (*(volatile unsigned int _X*) (HW_SWIZZLE_BASEADDR+15))    /* Sw
                                  izzle Barrel Shift Register */
                            13242 ; 235  |#define HW_SWIZZLEDIV3LR (*(volatile unsigned int _X*) (HW_SWIZZLE_BASEADDR+16))    /* Swi
                                  zzle Divide By 3 Lower Register */
                            13243 ; 236  |
                            13244 ; 237  |
                            13245 ; 238  |////  Swizzle DIV3UR (HW_SWIZZLEDIV3UR) Bit Definitions
                            13246 ; 239  |#define HW_SWIZZLEDIV3UR_DIV3_UPPER_BITPOS (0)
                            13247 ; 240  |#define HW_SWIZZLEDIV3UR_RSVD0_BITPOS (8)
                            13248 ; 241  |#define HW_SWIZZLEDIV3UR_REMAINDER_BITPOS (20)
                            13249 ; 242  |#define HW_SWIZZLEDIV3UR_RSVD1_BITPOS (22)
                            13250 ; 243  |
                            13251 ; 244  |#define HW_SWIZZLEDIV3UR_DIV3_UPPER_WIDTH (8)
                            13252 ; 245  |#define HW_SWIZZLEDIV3UR_RSVD0_WIDTH (12)
                            13253 ; 246  |#define HW_SWIZZLEDIV3UR_REMAINDER_WIDTH (2)
                            13254 ; 247  |#define HW_SWIZZLEDIV3UR_RSVD1_WIDTH (2)
                            13255 ; 248  |
                            13256 ; 249  |#define HW_SWIZZLEDIV3UR_DIV3_UPPER_SETMASK (((1<HW_SWIZZLEDIV3UR_DIV3_UPPER_WIDTH)-1)<<HW
                                  _SWIZZLEDIV3UR_DIV3_UPPER_BITPOS)
                            13257 ; 250  |#define HW_SWIZZLEDIV3UR_RSVD0_SETMASK (((1<HW_SWIZZLEDIV3UR_RSVD0_WIDTH)-1)<<HW_SWIZZLEDI
                                  V3UR_RSVD0_BITPOS)
                            13258 ; 251  |#define HW_SWIZZLEDIV3UR_REMAINDER_SETMASK (((1<HW_SWIZZLEDIV3UR_REMAINDER_WIDTH)-1)<<HW_S
                                  WIZZLEDIV3UR_REMAINDER_BITPOS)
                            13259 ; 252  |#define HW_SWIZZLEDIV3UR_RSVD1_SETMASK (((1<HW_SWIZZLEDIV3UR_RSVD1_WIDTH)-1)<<HW_SWIZZLEDI
                                  V3UR_RSVD1_BITPOS)
                            13260 ; 253  |
                            13261 ; 254  |#define HW_SWIZZLEDIV3UR_DIV3_UPPER_CLRMASK (~(WORD)HW_SWIZZLEDIV3UR_DIV3_UPPER_SETMASK)
                            13262 ; 255  |#define HW_SWIZZLEDIV3UR_RSVD0_CLRMASK (~(WORD)HW_SWIZZLEDIV3UR_RSVD0_SETMASK)
                            13263 ; 256  |#define HW_SWIZZLEDIV3UR_REMAINDER_CLRMASK (~(WORD)HW_SWIZZLEDIV3UR_REMAINDER_SETMASK)
                            13264 ; 257  |#define HW_SWIZZLEDIV3UR_RSVD1_CLRMASK (~(WORD)HW_SWIZZLEDIV3UR_RSVD1_SETMASK)
                            13265 ; 258  |
                            13266 ; 259  |///////////////////////////////////////////////////////////////////////////////
                            13267 ; 260  |typedef union
                            13268 ; 261  |{
                            13269 ; 262  |    struct
                            13270 ; 263  |    {
                            13271 ; 264  |    unsigned DIV3_UPPER    :8;     /* Number of memory words to manipulate */
                            13272 ; 265  |    unsigned RSVD0         :12;         /* Source memory Select                 */
                            13273 ; 266  |    unsigned REMAINDER     :2;         /* Source memory Select                 */
                            13274 ; 267  |    } B;
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 221

M:ADDR CODE           CYCLES LINE SOURCELINE
                            13275 ; 268  |    int I;
                            13276 ; 269  |    unsigned U;
                            13277 ; 270  |} swizzlediv3ur_type;
                            13278 ; 271  |///////////////////////////////////////////////////////////////////////////////
                            13279 ; 272  |#define HW_SWIZZLEDIV3UR (*(volatile swizzlediv3ur_type _X*) (HW_SWIZZLE_BASEADDR+17))    
                                  /* Swizzle Divide By 3 Upper Register */
                            13280 ; 273  |
                            13281 ; 274  |#endif
                            13282 ; 275  |
                            13283 
                            13285 
                            13286 ; 33   |#include "regssdram.h"
                            13287 
                            13289 
                            13290 ; 1    |//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                            13291 ; 2    |//;  Copyright(C) SigmaTel, Inc. 2002-2003
                            13292 ; 3    |//;  File        : regssdram.inc
                            13293 ; 4    |//;  Description : Mixed Signal IP Register definition
                            13294 ; 5    |//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                            13295 ; 6    |
                            13296 ; 7    |// The following naming conventions are followed in this file.
                            13297 ; 8    |// All registers are named using the format...
                            13298 ; 9    |//     HW_<module>_<regname>
                            13299 ; 10   |// where <module> is the module name which can be any of the following...
                            13300 ; 11   |//     SYSTEM
                            13301 ; 12   |// (Note that when there is more than one copy of a particular module, the
                            13302 ; 13   |// module name includes a number starting from 0 for the first instance of
                            13303 ; 14   |// that module)
                            13304 ; 15   |// <regname> is the specific register within that module
                            13305 ; 16   |// We also define the following...
                            13306 ; 17   |//     HW_<module>_<regname>_BITPOS
                            13307 ; 18   |// which defines the starting bit (i.e. LSB) of a multi bit field
                            13308 ; 19   |//     HW_<module>_<regname>_SETMASK
                            13309 ; 20   |// which does something else, and
                            13310 ; 21   |//     HW_<module>_<regname>_CLRMASK
                            13311 ; 22   |// which does something else.
                            13312 ; 23   |// Other rules
                            13313 ; 24   |//     All caps
                            13314 ; 25   |//     Numeric identifiers start at 0
                            13315 ; 26   |
                            13316 ; 27   |#if !(defined(regssdraminc))
                            13317 ; 28   |#define regssdraminc 1
                            13318 ; 29   |
                            13319 ; 30   |#include "types.h"
                            13320 
                            13322 
                            13323 ; 1    |////////////////////////////////////////////////////////////////////////////////
                            13324 ; 2    |// Copyright(C) SigmaTel, Inc. 2000-2004
                            13325 ; 3    |//
                            13326 ; 4    |// Filename: types.h
                            13327 ; 5    |// Description: Standard data types
                            13328 ; 6    |////////////////////////////////////////////////////////////////////////////////
                            13329 ; 7    |
                            13330 ; 8    |#ifndef _TYPES_H
                            13331 ; 9    |#define _TYPES_H
                            13332 ; 10   |
                            13333 ; 11   |// TODO:  move this outta here!
                            13334 ; 12   |#if !defined(NOERROR)
                            13335 ; 13   |#define NOERROR 0
                            13336 ; 14   |#define SUCCESS 0
                            13337 ; 15   |#endif 
                            13338 ; 16   |#if !defined(SUCCESS)
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 222

M:ADDR CODE           CYCLES LINE SOURCELINE
                            13339 ; 17   |#define SUCCESS  0
                            13340 ; 18   |#endif
                            13341 ; 19   |#if !defined(ERROR)
                            13342 ; 20   |#define ERROR   -1
                            13343 ; 21   |#endif
                            13344 ; 22   |#if !defined(FALSE)
                            13345 ; 23   |#define FALSE 0
                            13346 ; 24   |#endif
                            13347 ; 25   |#if !defined(TRUE)
                            13348 ; 26   |#define TRUE  1
                            13349 ; 27   |#endif
                            13350 ; 28   |
                            13351 ; 29   |#if !defined(NULL)
                            13352 ; 30   |#define NULL 0
                            13353 ; 31   |#endif
                            13354 ; 32   |
                            13355 ; 33   |#define MAX_INT     0x7FFFFF
                            13356 ; 34   |#define MAX_LONG    0x7FFFFFffffff
                            13357 ; 35   |        // max positive unsigned long value: -1 == 0xFFFFFFffffff
                            13358 ; 36   |#define MAX_ULONG   (-1) 
                            13359 ; 37   |
                            13360 ; 38   |#define WORD_SIZE   24              // word size in bits
                            13361 ; 39   |#define BYTES_PER_WORD 3            // 8 bit bytes
                            13362 ; 40   |
                            13363 ; 41   |
                            13364 ; 42   |#define BYTE    unsigned char       // btVarName
                            13365 ; 43   |#define CHAR    signed char         // cVarName
                            13366 ; 44   |#define USHORT  unsigned short      // usVarName
                            13367 ; 45   |#define SHORT   unsigned short      // sVarName
                            13368 ; 46   |#define WORD    unsigned int        // wVarName
                            13369 ; 47   |#define INT     signed int          // iVarName
                            13370 ; 48   |#define DWORD   unsigned long       // dwVarName
                            13371 ; 49   |#define LONG    signed long         // lVarName
                            13372 ; 50   |#define BOOL    unsigned int        // bVarName
                            13373 ; 51   |#define FRACT   _fract              // frVarName
                            13374 ; 52   |#define LFRACT  long _fract         // lfrVarName
                            13375 ; 53   |#define CIRC    _circ               // cp<type prefix>VarName (see below)
                            13376 ; 54   |#define FLOAT   float               // fVarName
                            13377 ; 55   |#define DBL     double              // dVarName
                            13378 ; 56   |#define ENUM    enum                // eVarName
                            13379 ; 57   |#define CMX     _complex            // cmxVarName
                            13380 ; 58   |typedef WORD UCS3;                   // 
                            13381 ; 59   |
                            13382 ; 60   |#define UINT16  unsigned short
                            13383 ; 61   |#define UINT8   unsigned char   
                            13384 ; 62   |#define UINT32  unsigned long
                            13385 ; 63   |#define UINT64  unsigned long   // need to figure out how to do 64 bit values.  Or port ex
                                  isiting code to only use 48 bit
                            13386 ; 64   |#define INT64   unsigned long   // need to figure out how to do 64 bit values.  Or port ex
                                  isiting code to only use 48 bit
                            13387 ; 65   |#define WCHAR   UINT16
                            13388 ; 66   |
                            13389 ; 67   |//UINT128 is 16 bytes or 6 words
                            13390 ; 68   |typedef struct UINT128_3500 {   
                            13391 ; 69   |    int val[6];     
                            13392 ; 70   |} UINT128_3500;
                            13393 ; 71   |
                            13394 ; 72   |#define UINT128   UINT128_3500
                            13395 ; 73   |
                            13396 ; 74   |// Little endian word packed byte strings:   
                            13397 ; 75   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                            13398 ; 76   |// Convert to big endian words by reordering bytes from high to low using swizzle.
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 223

M:ADDR CODE           CYCLES LINE SOURCELINE
                            13399 ; 77   |// Little endian word packed byte strings:   
                            13400 ; 78   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                            13401 ; 79   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                            13402 ; 80   |
                            13403 ; 81   |// Declare Memory Spaces To Use When Coding
                            13404 ; 82   |// A. Sector Buffers
                            13405 ; 83   |#define SECTOR_BUFFER_MEM_X _X
                            13406 ; 84   |#define SECTOR_BUFFER_MEM_Y _Y
                            13407 ; 85   |#define SECTOR_BUFFER_MEM SECTOR_BUFFER_MEM_X
                            13408 ; 86   |typedef WORD SECTOR_BUFFER_MEM SECTOR_BUFFER;
                            13409 ; 87   |typedef SECTOR_BUFFER * P_SECTOR_BUFFER;
                            13410 ; 88   |// B. Media DDI Memory
                            13411 ; 89   |#define MEDIA_DDI_MEM _Y
                            13412 ; 90   |
                            13413 ; 91   |
                            13414 ; 92   |
                            13415 ; 93   |// Pointers to linear structures are labeled as: p<type prefix>VarName
                            13416 ; 94   |// Examples of circular pointers:
                            13417 ; 95   |//    INT CIRC cpiVarName
                            13418 ; 96   |//    DWORD CIRC cpdwVarName
                            13419 ; 97   |
                            13420 ; 98   |#define RETCODE INT                 // rcVarName
                            13421 ; 99   |
                            13422 ; 100  |// generic bitfield structure
                            13423 ; 101  |struct Bitfield {
                            13424 ; 102  |    unsigned int B0  :1;
                            13425 ; 103  |    unsigned int B1  :1;
                            13426 ; 104  |    unsigned int B2  :1;
                            13427 ; 105  |    unsigned int B3  :1;
                            13428 ; 106  |    unsigned int B4  :1;
                            13429 ; 107  |    unsigned int B5  :1;
                            13430 ; 108  |    unsigned int B6  :1;
                            13431 ; 109  |    unsigned int B7  :1;
                            13432 ; 110  |    unsigned int B8  :1;
                            13433 ; 111  |    unsigned int B9  :1;
                            13434 ; 112  |    unsigned int B10 :1;
                            13435 ; 113  |    unsigned int B11 :1;
                            13436 ; 114  |    unsigned int B12 :1;
                            13437 ; 115  |    unsigned int B13 :1;
                            13438 ; 116  |    unsigned int B14 :1;
                            13439 ; 117  |    unsigned int B15 :1;
                            13440 ; 118  |    unsigned int B16 :1;
                            13441 ; 119  |    unsigned int B17 :1;
                            13442 ; 120  |    unsigned int B18 :1;
                            13443 ; 121  |    unsigned int B19 :1;
                            13444 ; 122  |    unsigned int B20 :1;
                            13445 ; 123  |    unsigned int B21 :1;
                            13446 ; 124  |    unsigned int B22 :1;
                            13447 ; 125  |    unsigned int B23 :1;
                            13448 ; 126  |};
                            13449 ; 127  |
                            13450 ; 128  |union BitInt {
                            13451 ; 129  |        struct Bitfield B;
                            13452 ; 130  |        int        I;
                            13453 ; 131  |};
                            13454 ; 132  |
                            13455 ; 133  |#define MAX_MSG_LENGTH 10
                            13456 ; 134  |struct CMessage
                            13457 ; 135  |{
                            13458 ; 136  |        unsigned int m_uLength;
                            13459 ; 137  |        unsigned int m_uMsg[MAX_MSG_LENGTH];
                            13460 ; 138  |};
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 224

M:ADDR CODE           CYCLES LINE SOURCELINE
                            13461 ; 139  |
                            13462 ; 140  |typedef struct {
                            13463 ; 141  |    WORD m_wLength;
                            13464 ; 142  |    WORD m_wMessage;
                            13465 ; 143  |    WORD m_wParams[MAX_MSG_LENGTH];
                            13466 ; 144  |} Message;
                            13467 ; 145  |
                            13468 ; 146  |struct MessageQueueDescriptor
                            13469 ; 147  |{
                            13470 ; 148  |        int *m_pBase;
                            13471 ; 149  |        int m_iModulo;
                            13472 ; 150  |        int m_iSize;
                            13473 ; 151  |        int *m_pHead;
                            13474 ; 152  |        int *m_pTail;
                            13475 ; 153  |};
                            13476 ; 154  |
                            13477 ; 155  |struct ModuleEntry
                            13478 ; 156  |{
                            13479 ; 157  |    int m_iSignaledEventMask;
                            13480 ; 158  |    int m_iWaitEventMask;
                            13481 ; 159  |    int m_iResourceOfCode;
                            13482 ; 160  |    struct MessageQueueDescriptor *m_pMessageQueue;
                            13483 ; 161  |    int _asmfunc (*m_pProcessEntryPoint)(union WaitMask Signals,struct MessageQueueDescrip
                                  tor *);
                            13484 ; 162  |    int _asmfunc (*m_pInitFunction)(struct MessageQueueDescriptor *);
                            13485 ; 163  |    int m_uTimeOutHigh;
                            13486 ; 164  |    int m_uTimeOutLow;
                            13487 ; 165  |    int _asmfunc (*m_pBackgroundFunction)(struct MessageQueueDescriptor *);
                            13488 ; 166  |};
                            13489 ; 167  |
                            13490 ; 168  |union WaitMask{
                            13491 ; 169  |    struct B{
                            13492 ; 170  |        unsigned int m_bNone     :1;
                            13493 ; 171  |        unsigned int m_bMessage  :1;
                            13494 ; 172  |        unsigned int m_bTimer    :1;
                            13495 ; 173  |        unsigned int m_bButton   :1;
                            13496 ; 174  |    } B;
                            13497 ; 175  |    int I;
                            13498 ; 176  |} ;
                            13499 ; 177  |
                            13500 ; 178  |
                            13501 ; 179  |struct Button {
                            13502 ; 180  |        WORD wButtonEvent;
                            13503 ; 181  |        WORD wUnused[MAX_MSG_LENGTH];   
                            13504 ; 182  |};
                            13505 ; 183  |
                            13506 ; 184  |struct Message {
                            13507 ; 185  |        WORD wMsgLength;
                            13508 ; 186  |        WORD wMsgCommand;
                            13509 ; 187  |        WORD wMsgParms[MAX_MSG_LENGTH-1];
                            13510 ; 188  |};
                            13511 ; 189  |
                            13512 ; 190  |union EventTypes {
                            13513 ; 191  |        struct CMessage msg;
                            13514 ; 192  |        struct Button Button ;
                            13515 ; 193  |        struct Message Message;
                            13516 ; 194  |};
                            13517 ; 195  |
                            13518 ; 196  |// next 2 used to get updater build to return correct protocol ver in scsi response.
                            13519 ; 197  |#define BUILD_TYPE_UPDATER  0x100
                            13520 ; 198  |#define BUILD_TYPE_HOSTLINK 0x101
                            13521 ; 199  |#define BUILD_TYPE_PLAYER   0x102
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 225

M:ADDR CODE           CYCLES LINE SOURCELINE
                            13522 ; 200  |
                            13523 ; 201  |// Resets part if RETAIL build. DEBUG build executes debug instruction to halt.
                            13524 ; 202  |#define SystemHalt() __asm(" include 'sysmacro.asm' \n error") 
                            13525 ; 203  |#define assert(x)    if(!(x)) __asm(" include 'sysmacro.asm' \n error")
                            13526 ; 204  |
                            13527 ; 205  |#if DEBUG
                            13528 ; 206  |// For DEBUG builds, DebugBuildAssert(condition) halts if condition evaluates to FALSE. 
                            13529 ; 207  |#define DebugBuildAssert(x)    if(!(x)) __asm(" debug ")
                            13530 ; 208  |#else 
                            13531 ; 209  |// For RETAIL builds, DebugBuildAssert(condition) does nothing & execution continues rathe
                                  r than halt or reset. 
                            13532 ; 210  |#define DebugBuildAssert(x)    
                            13533 ; 211  |#endif
                            13534 ; 212  |
                            13535 ; 213  |// Do this in your C files to make a reminder that's displayed during the build.
                            13536 ; 214  |//  #pragma asm
                            13537 ; 215  |//  WARN 'Note to builder: reminder to do this after verifying that'
                            13538 ; 216  |//  #pragma endasm
                            13539 ; 217  |
                            13540 ; 218  |
                            13541 ; 219  |#ifdef COLOR_262K
                            13542 ; 220  |#define RGB(r,g,b)    ((0x0000FC & (r)) << 10) | ((0x0000FC & (g)) << 4) | ((0x0000FC & (b
                                  )) >> 2)    //262k
                            13543 ; 221  |#elif defined(COLOR_65K)
                            13544 ; 222  |#define RGB(r,g,b)    ((0x0000F8 & (r)) << 8) | ((0x0000FC & (g)) << 3) | ((0x0000F8 & (b)
                                  ) >> 3)  //65k
                            13545 ; 223  |#else
                            13546 ; 224  |#define RGB(r,g,b)       ((0x0000F0 & (r)) << 4) | (0x0000F0 & (g)) | ((0x0000F0 & (b)) >>
                                   4)
                            13547 ; 225  |#endif
                            13548 ; 226  |    
                            13549 ; 227  |#endif // #ifndef _TYPES_H
                            13550 
                            13552 
                            13553 ; 31   |
                            13554 ; 32   |#define HW_SDRAM_BASEADDR 0xF900
                            13555 ; 33   |
                            13556 ; 34   |
                            13557 ; 35   |/////////////////////////////////////////////////////////////////////////////////
                            13558 ; 36   |//  SDRAM CSR (HW_SDRAM_CSR) Bit Definitions
                            13559 ; 37   |#define HW_SDRAM_CSR_SDRAMEN_BITPOS 0
                            13560 ; 38   |#define HW_SDRAM_CSR_IE_BITPOS 1
                            13561 ; 39   |#define HW_SDRAM_CSR_RNW_BITPOS 2
                            13562 ; 40   |#define HW_SDRAM_CSR_KICK_BITPOS 3
                            13563 ; 41   |#define HW_SDRAM_CSR_LM_BITPOS 4
                            13564 ; 42   |#define HW_SDRAM_CSR_ISTAT_BITPOS 5
                            13565 ; 43   |#define HW_SDRAM_CSR_PWDN_BITPOS 6
                            13566 ; 44   |#define HW_SDRAM_CSR_SBYTE_BITPOS 8
                            13567 ; 45   |#define HW_SDRAM_CSR_MEM_BITPOS 10
                            13568 ; 46   |#define HW_SDRAM_CSR_BIGE_BITPOS 12
                            13569 ; 47   |#define HW_SDRAM_CSR_ASIZE_BITPOS 13
                            13570 ; 48   |#define HW_SDRAM_CSR_UKICK_BITPOS 16
                            13571 ; 49   |#define HW_SDRAM_CSR_DIV_BITPOS 17
                            13572 ; 50   |#define HW_SDRAM_CSR_MULTI_BITPOS 21
                            13573 ; 51   |#define HW_SDRAM_CSR_SDRAM_BITPOS 22
                            13574 ; 52   |#define HW_SDRAM_CSR_SIGN_BITPOS 23
                            13575 ; 53   |
                            13576 ; 54   |#define HW_SDRAM_CSR_SDRAMEN_WIDTH 1
                            13577 ; 55   |#define HW_SDRAM_CSR_IE_WIDTH 1
                            13578 ; 56   |#define HW_SDRAM_CSR_RNW_WIDTH 1
                            13579 ; 57   |#define HW_SDRAM_CSR_KICK_WIDTH 1
                            13580 ; 58   |#define HW_SDRAM_CSR_LM_WIDTH 1
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 226

M:ADDR CODE           CYCLES LINE SOURCELINE
                            13581 ; 59   |#define HW_SDRAM_CSR_ISTAT_WIDTH 1
                            13582 ; 60   |#define HW_SDRAM_CSR_PWDN_WIDTH 1
                            13583 ; 61   |#define HW_SDRAM_CSR_SBYTE_WIDTH 2
                            13584 ; 62   |#define HW_SDRAM_CSR_MEM_WIDTH 2
                            13585 ; 63   |#define HW_SDRAM_CSR_BIGE_WIDTH 1
                            13586 ; 64   |#define HW_SDRAM_CSR_ASIZE_WIDTH 3
                            13587 ; 65   |#define HW_SDRAM_CSR_UKICK_WIDTH 1
                            13588 ; 66   |#define HW_SDRAM_CSR_DIV_WIDTH 4
                            13589 ; 67   |#define HW_SDRAM_CSR_MULTI_WIDTH 1
                            13590 ; 68   |#define HW_SDRAM_CSR_SDRAM_WIDTH 1
                            13591 ; 69   |#define HW_SDRAM_CSR_SIGN_WIDTH 1
                            13592 ; 70   |
                            13593 ; 71   |#define HW_SDRAM_CSR_SDRAMEN_SETMASK (((1<<HW_SDRAM_CSR_SDRAMEN_WIDTH)-1)<<HW_SDRAM_CSR_SD
                                  RAMEN_BITPOS)
                            13594 ; 72   |#define HW_SDRAM_CSR_IE_SETMASK (((1<<HW_SDRAM_CSR_IE_WIDTH)-1)<<HW_SDRAM_CSR_IE_BITPOS)
                            13595 ; 73   |#define HW_SDRAM_CSR_RNW_SETMASK (((1<<HW_SDRAM_CSR_RNW_WIDTH)-1)<<HW_SDRAM_CSR_RNW_BITPOS
                                  )
                            13596 ; 74   |#define HW_SDRAM_CSR_KICK_SETMASK (((1<<HW_SDRAM_CSR_KICK_WIDTH)-1)<<HW_SDRAM_CSR_KICK_BIT
                                  POS)
                            13597 ; 75   |#define HW_SDRAM_CSR_LM_SETMASK (((1<<HW_SDRAM_CSR_LM_WIDTH)-1)<<HW_SDRAM_CSR_LM_BITPOS)
                            13598 ; 76   |#define HW_SDRAM_CSR_ISTAT_SETMASK (((1<<HW_SDRAM_CSR_ISTAT_WIDTH)-1)<<HW_SDRAM_CSR_ISTAT_
                                  BITPOS)
                            13599 ; 77   |#define HW_SDRAM_CSR_PWDN_SETMASK (((1<<HW_SDRAM_CSR_PWDN_WIDTH)-1)<<HW_SDRAM_CSR_PWDN_BIT
                                  POS)
                            13600 ; 78   |#define HW_SDRAM_CSR_SBYTE_SETMASK (((1<<HW_SDRAM_CSR_SBYTE_WIDTH)-1)<<HW_SDRAM_CSR_SBYTE_
                                  BITPOS)
                            13601 ; 79   |#define HW_SDRAM_CSR_MEM_SETMASK (((1<<HW_SDRAM_CSR_MEM_WIDTH)-1)<<HW_SDRAM_CSR_MEM_BITPOS
                                  )
                            13602 ; 80   |#define HW_SDRAM_CSR_BIGE_SETMASK (((1<<HW_SDRAM_CSR_BIGE_WIDTH)-1)<<HW_SDRAM_CSR_BIGE_BIT
                                  POS)
                            13603 ; 81   |#define HW_SDRAM_CSR_ASIZE_SETMASK (((1<<HW_SDRAM_CSR_ASIZE_WIDTH)-1)<<HW_SDRAM_CSR_ASIZE_
                                  BITPOS)
                            13604 ; 82   |#define HW_SDRAM_CSR_UKICK_SETMASK (((1<<HW_SDRAM_CSR_UKICK_WIDTH)-1)<<HW_SDRAM_CSR_UKICK_
                                  BITPOS)
                            13605 ; 83   |#define HW_SDRAM_CSR_DIV_SETMASK (((1<<HW_SDRAM_CSR_DIV_WIDTH)-1)<<HW_SDRAM_CSR_DIV_BITPOS
                                  )
                            13606 ; 84   |#define HW_SDRAM_CSR_MULTI_SETMASK (((1<<HW_SDRAM_CSR_MULTI_WIDTH)-1)<<HW_SDRAM_CSR_MULTI_
                                  BITPOS)
                            13607 ; 85   |#define HW_SDRAM_CSR_SDRAM_SETMASK (((1<<HW_SDRAM_CSR_SDRAM_WIDTH)-1)<<HW_SDRAM_CSR_SDRAM_
                                  BITPOS)
                            13608 ; 86   |#define HW_SDRAM_CSR_SIGN_SETMASK (((1<<HW_SDRAM_CSR_SIGN_WIDTH)-1)<<HW_SDRAM_CSR_SIGN_BIT
                                  POS)
                            13609 ; 87   |
                            13610 ; 88   |#define HW_SDRAM_CSR_SDRAMEN_CLRMASK ~(WORD)HW_SDRAM_CSR_SDRAMEN_SETMASK
                            13611 ; 89   |#define HW_SDRAM_CSR_IE_CLRMASK ~(WORD)HW_SDRAM_CSR_IE_SETMASK
                            13612 ; 90   |#define HW_SDRAM_CSR_RNW_CLRMASK ~(WORD)HW_SDRAM_CSR_RNW_SETMASK
                            13613 ; 91   |#define HW_SDRAM_CSR_KICK_CLRMASK ~(WORD)HW_SDRAM_CSR_KICK_SETMASK
                            13614 ; 92   |#define HW_SDRAM_CSR_LM_CLRMASK ~(WORD)HW_SDRAM_CSR_LM_SETMASK
                            13615 ; 93   |#define HW_SDRAM_CSR_ISTAT_CLRMASK ~(WORD)HW_SDRAM_CSR_ISTAT_SETMASK
                            13616 ; 94   |#define HW_SDRAM_CSR_PWDN_CLRMASK ~(WORD)HW_SDRAM_CSR_PWDN_SETMASK
                            13617 ; 95   |#define HW_SDRAM_CSR_SBYTE_CLRMASK ~(WORD)HW_SDRAM_CSR_SBYTE_SETMASK
                            13618 ; 96   |#define HW_SDRAM_CSR_MEM_CLRMASK ~(WORD)HW_SDRAM_CSR_MEM_SETMASK
                            13619 ; 97   |#define HW_SDRAM_CSR_BIGE_CLRMASK ~(WORD)HW_SDRAM_CSR_BIGE_SETMASK
                            13620 ; 98   |#define HW_SDRAM_CSR_ASIZE_CLRMASK ~(WORD)HW_SDRAM_CSR_ASIZE_SETMASK
                            13621 ; 99   |#define HW_SDRAM_CSR_UKICK_CLRMASK ~(WORD)HW_SDRAM_CSR_UKICK_SETMASK
                            13622 ; 100  |#define HW_SDRAM_CSR_DIV_CLRMASK ~(WORD)HW_SDRAM_CSR_DIV_SETMASK
                            13623 ; 101  |#define HW_SDRAM_CSR_MULTI_CLRMASK ~(WORD)HW_SDRAM_CSR_MULTI_SETMASK
                            13624 ; 102  |#define HW_SDRAM_CSR_SDRAM_CLRMASK ~(WORD)HW_SDRAM_CSR_SDRAM_SETMASK
                            13625 ; 103  |#define HW_SDRAM_CSR_SIGN_CLRMASK ~(WORD)HW_SDRAM_CSR_SIGN_SETMASK
                            13626 ; 104  |
                            13627 ; 105  |typedef union               
                            13628 ; 106  |{
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 227

M:ADDR CODE           CYCLES LINE SOURCELINE
                            13629 ; 107  |    struct {
                            13630 ; 108  |        int SDRAMEN                     :1;
                            13631 ; 109  |        int IE                          :1;
                            13632 ; 110  |        int RNW                         :1;
                            13633 ; 111  |        int KICK                        :1;
                            13634 ; 112  |        int LM                          :1;
                            13635 ; 113  |        int ISTAT                       :1;
                            13636 ; 114  |        int PWDN                        :1;
                            13637 ; 115  |        int RSVD                        :1;
                            13638 ; 116  |        int SBYTE                       :2;
                            13639 ; 117  |        int MEM                         :2;
                            13640 ; 118  |        int BIGE                        :1;
                            13641 ; 119  |        int ASIZE                       :3;
                            13642 ; 120  |        int UKICK                       :1;
                            13643 ; 121  |        int DIV                         :4;
                            13644 ; 122  |        int MULTI                       :1;
                            13645 ; 123  |        int SDRAM                       :1;
                            13646 ; 124  |        int SIGN                        :1;
                            13647 ; 125  |    } B;
                            13648 ; 126  |    int I;
                            13649 ; 127  |} sdramcsr_type;
                            13650 ; 128  |#define HW_SDRAM_CSR (*(volatile sdramcsr_type _X*) (HW_SDRAM_BASEADDR))        
                            13651 ; 129  |#define HW_SDRAM_ADDR1 (*(volatile unsigned int _X*) (HW_SDRAM_BASEADDR+1))
                            13652 ; 130  |#define HW_SDRAM_ADDR2 (*(volatile unsigned int _X*) (HW_SDRAM_BASEADDR+2))
                            13653 ; 131  |#define HW_SDRAM_SYSADDR (*(volatile unsigned int _X*) (HW_SDRAM_BASEADDR+3))
                            13654 ; 132  |#define HW_SDRAM_SIZE (*(volatile unsigned int _X*) (HW_SDRAM_BASEADDR+4))
                            13655 ; 133  |#define HW_SDRAM_BAR (*(volatile unsigned int _X*) (HW_SDRAM_BASEADDR+7))
                            13656 ; 134  |#define HW_SDRAM_MR (*(volatile unsigned int _X*) (HW_SDRAM_BASEADDR+8))
                            13657 ; 135  |#define HW_SDRAM_DBAR1 (*(volatile unsigned int _X*) (HW_SDRAM_BASEADDR+9))
                            13658 ; 136  |#define HW_SDRAM_DBAR2 (*(volatile unsigned int _X*) (HW_SDRAM_BASEADDR+10))
                            13659 ; 137  |#define HW_SDRAM_DMR1 (*(volatile unsigned int _X*) (HW_SDRAM_BASEADDR+11))
                            13660 ; 138  |#define HW_SDRAM_DMR2 (*(volatile unsigned int _X*) (HW_SDRAM_BASEADDR+12))
                            13661 ; 139  |
                            13662 ; 140  |/////////////////////////////////////////////////////////////////////////////////
                            13663 ; 141  |//  SDRAM Start Address Low Register (HW_SDRAM_ADDR1) Bit Definitions
                            13664 ; 142  |#define HW_SDRAM_ADDR1_XA_BITPOS 0
                            13665 ; 143  |
                            13666 ; 144  |#define HW_SDRAM_ADDR1_XA_SETMASK 0xFFFFFF<<HW_SDRAM_ADDR1_XA_BITPOS
                            13667 ; 145  |
                            13668 ; 146  |#define HW_SDRAM_ADDR1_XA_CLRMASK ~(WORD)HW_SDRAM_ADDR1_XA_SETMASK
                            13669 ; 147  |
                            13670 ; 148  |/////////////////////////////////////////////////////////////////////////////////
                            13671 ; 149  |//  SDRAM Start Address High Register (HW_SDRAM_ADDR2) Bit Definitions
                            13672 ; 150  |#define HW_SDRAM_ADDR2_XA_BITPOS 0
                            13673 ; 151  |
                            13674 ; 152  |#define HW_SDRAM_ADDR2_XA_SETMASK 0x1F<<HW_SDRAM_ADDR2_XA_BITPOS
                            13675 ; 153  |
                            13676 ; 154  |#define HW_SDRAM_ADDR2_XA_CLRMASK ~(WORD)HW_SDRAM_ADDR2_XA_SETMASK
                            13677 ; 155  |
                            13678 ; 156  |/////////////////////////////////////////////////////////////////////////////////
                            13679 ; 157  |//  System Start Address Register (HW_SDRAM_SYSADDR) Bit Definitions
                            13680 ; 158  |#define HW_SDRAM_SYSADDR_XA_BITPOS 0
                            13681 ; 159  |
                            13682 ; 160  |#define HW_SDRAM_SYSADDR_XA_SETMASK 0xFFFF<<HW_SDRAM_SYSADDR_XA_BITPOS
                            13683 ; 161  |
                            13684 ; 162  |#define HW_SDRAM_SYSADDR_XA_CLRMASK ~(WORD)HW_SDRAM_SYSADDR_XA_SETMASK
                            13685 ; 163  |
                            13686 ; 164  |/////////////////////////////////////////////////////////////////////////////////
                            13687 ; 165  |//  Number of Bytes to be transfered Register (HW_SDRAM_SIZE) Bit Definitions
                            13688 ; 166  |#define HW_SDRAM_SIZE_XA_BITPOS 0
                            13689 ; 167  |
                            13690 ; 168  |#define HW_SDRAM_SIZE_XA_SETMASK 0x3FFFF<<HW_SDRAM_SIZE_XA_BITPOS
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 228

M:ADDR CODE           CYCLES LINE SOURCELINE
                            13691 ; 169  |
                            13692 ; 170  |#define HW_SDRAM_SIZE_XA_CLRMASK ~(WORD)HW_SDRAM_SIZE_XA_SETMASK
                            13693 ; 171  |
                            13694 ; 172  |/////////////////////////////////////////////////////////////////////////////////
                            13695 ; 173  |//  SDRAM Timer1 Register (HW_SDRAM_TIMER1) Bit Definitions
                            13696 ; 174  |#define HW_SDRAM_TIMER1_INIT_BITPOS 0
                            13697 ; 175  |#define HW_SDRAM_TIMER1_TRP_BITPOS 16
                            13698 ; 176  |#define HW_SDRAM_TIMER1_TRFC_BITPOS 20
                            13699 ; 177  |
                            13700 ; 178  |#define HW_SDRAM_TIMER1_INIT_WIDTH 16
                            13701 ; 179  |#define HW_SDRAM_TIMER1_TRP_WIDTH 4
                            13702 ; 180  |#define HW_SDRAM_TIMER1_TRFC_WIDTH 4
                            13703 ; 181  |
                            13704 ; 182  |#define HW_SDRAM_TIMER1_INIT_SETMASK (((1<<HW_SDRAM_TIMER1_INIT_WIDTH)-1)<<HW_SDRAM_TIMER1
                                  _INIT_BITPOS)
                            13705 ; 183  |#define HW_SDRAM_TIMER1_TRP_SETMASK (((1<<HW_SDRAM_TIMER1_TRP_WIDTH)-1)<<HW_SDRAM_TIMER1_T
                                  RP_BITPOS)
                            13706 ; 184  |#define HW_SDRAM_TIMER1_TRFC_SETMASK (((1<<HW_SDRAM_TIMER1_TRFC_WIDTH)-1)<<HW_SDRAM_TIMER1
                                  _TRFC_BITPOS)
                            13707 ; 185  |
                            13708 ; 186  |#define HW_SDRAM_TIMER1_INIT_CLRMASK ~(WORD)HW_SDRAM_TIMER1_INIT_SETMASK
                            13709 ; 187  |#define HW_SDRAM_TIMER1_TRP_CLRMASK ~(WORD)HW_SDRAM_TIMER1_TRP_SETMASK
                            13710 ; 188  |#define HW_SDRAM_TIMER1_TRFC_CLRMASK ~(WORD)HW_SDRAM_TIMER1_TRFC_SETMASK
                            13711 ; 189  |
                            13712 ; 190  |typedef union               
                            13713 ; 191  |{
                            13714 ; 192  |    struct {
                            13715 ; 193  |        int INIT                :16;
                            13716 ; 194  |        int TRP                 :4;
                            13717 ; 195  |        int TRFC                :4;
                            13718 ; 196  |    } B;
                            13719 ; 197  |    int I;
                            13720 ; 198  |} sdramtimer1_type;
                            13721 ; 199  |#define HW_SDRAM_TIMER1 (*(volatile sdramtimer1_type _X*) (HW_SDRAM_BASEADDR+5))
                            13722 ; 200  |
                            13723 ; 201  |/////////////////////////////////////////////////////////////////////////////////
                            13724 ; 202  |//  SDRAM Timer2 Register (HW_SDRAM_TIMER2) Bit Definitions
                            13725 ; 203  |#define HW_SDRAM_TIMER2_TXSR_BITPOS 0
                            13726 ; 204  |#define HW_SDRAM_TIMER2_TREF_BITPOS 4
                            13727 ; 205  |#define HW_SDRAM_TIMER2_TRCD_BITPOS 16
                            13728 ; 206  |
                            13729 ; 207  |#define HW_SDRAM_TIMER2_TXSR_WIDTH 4
                            13730 ; 208  |#define HW_SDRAM_TIMER2_TREF_WIDTH 12
                            13731 ; 209  |#define HW_SDRAM_TIMER2_TRCD_WIDTH 4
                            13732 ; 210  |
                            13733 ; 211  |#define HW_SDRAM_TIMER2_TXSR_SETMASK (((1<<HW_SDRAM_TIMER2_TXSR_WIDTH)-1)<<HW_SDRAM_TIMER2
                                  _TXSR_BITPOS)
                            13734 ; 212  |#define HW_SDRAM_TIMER2_TREF_SETMASK (((1<<HW_SDRAM_TIMER2_TREF_WIDTH)-1)<<HW_SDRAM_TIMER2
                                  _TREF_BITPOS)
                            13735 ; 213  |#define HW_SDRAM_TIMER2_TRCD_SETMASK (((1<<HW_SDRAM_TIMER2_TRCD_WIDTH)-1)<<HW_SDRAM_TIMER2
                                  _TRCD_BITPOS)
                            13736 ; 214  |
                            13737 ; 215  |#define HW_SDRAM_TIMER2_TXSR_CLRMASK ~(WORD)HW_SDRAM_TIMER2_TXSR_SETMASK
                            13738 ; 216  |#define HW_SDRAM_TIMER2_TREF_CLRMASK ~(WORD)HW_SDRAM_TIMER2_TREF_SETMASK
                            13739 ; 217  |#define HW_SDRAM_TIMER2_TRCD_CLRMASK ~(WORD)HW_SDRAM_TIMER2_TRCD_SETMASK
                            13740 ; 218  |
                            13741 ; 219  |typedef union               
                            13742 ; 220  |{
                            13743 ; 221  |    struct {
                            13744 ; 222  |        int TXSR                :4;
                            13745 ; 223  |        int TREF                :12;
                            13746 ; 224  |        int TRCD                :4;
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 229

M:ADDR CODE           CYCLES LINE SOURCELINE
                            13747 ; 225  |        int RSVD                :4; 
                            13748 ; 226  |    } B;
                            13749 ; 227  |    int I;
                            13750 ; 228  |} sdramtimer2_type;
                            13751 ; 229  |#define HW_SDRAM_TIMER2 (*(volatile sdramtimer2_type _X*) (HW_SDRAM_BASEADDR+6))
                            13752 ; 230  |
                            13753 ; 231  |/////////////////////////////////////////////////////////////////////////////////
                            13754 ; 232  |//  System Modulo Base Address Register (HW_SDRAM_BAR) Bit Definitions
                            13755 ; 233  |#define HW_SDRAM_BAR_XA_BITPOS 0
                            13756 ; 234  |
                            13757 ; 235  |#define HW_SDRAM_BAR_XA_SETMASK 0xFFFF<<HW_SDRAM_BAR_XA_BITPOS
                            13758 ; 236  |
                            13759 ; 237  |#define HW_SDRAM_BAR_XA_CLRMASK ~(WORD)HW_SDRAM_BAR_XA_SETMASK
                            13760 ; 238  |
                            13761 ; 239  |/////////////////////////////////////////////////////////////////////////////////
                            13762 ; 240  |//  System Modulo Register (HW_SDRAM_MR) Bit Definitions
                            13763 ; 241  |#define HW_SDRAM_MR_XA_BITPOS 0
                            13764 ; 242  |
                            13765 ; 243  |#define HW_SDRAM_MR_XA_SETMASK 0xFFFF<<HW_SDRAM_MR_XA_BITPOS
                            13766 ; 244  |
                            13767 ; 245  |#define HW_SDRAM_MR_XA_CLRMASK ~(WORD)HW_SDRAM_MR_XA_SETMASK
                            13768 ; 246  |
                            13769 ; 247  |/////////////////////////////////////////////////////////////////////////////////
                            13770 ; 248  |//  SDRAM Mode Register (HW_SDRAM_MODE) Bit Definitions
                            13771 ; 249  |#define HW_SDRAM_MODE_XA_BITPOS 0
                            13772 ; 250  |
                            13773 ; 251  |#define HW_SDRAM_MODE_XA_WIDTH 14
                            13774 ; 252  |
                            13775 ; 253  |#define HW_SDRAM_MODE_XA_SETMASK (((1<<HW_SDRAM_MODE_XA_WIDTH)-1)<<HW_SDRAM_MODE_XA_BITPOS
                                  )
                            13776 ; 254  |
                            13777 ; 255  |#define HW_SDRAM_MODE_XA_CLRMASK ~(WORD)HW_SDRAM_MODE_XA_SETMASK
                            13778 ; 256  |
                            13779 ; 257  |typedef union               
                            13780 ; 258  |{
                            13781 ; 259  |    struct {
                            13782 ; 260  |        int VALUE               :14;
                            13783 ; 261  |        int RSVD                :10; 
                            13784 ; 262  |    } B;
                            13785 ; 263  |    int I;
                            13786 ; 264  |} sdrammode_type;
                            13787 ; 265  |#define HW_SDRAM_MODE (*(volatile sdrammode_type _X*) (HW_SDRAM_BASEADDR+14))
                            13788 ; 266  |
                            13789 ; 267  |/////////////////////////////////////////////////////////////////////////////////
                            13790 ; 268  |//  SDRAM Type Register (HW_SDRAM_TYPE) Bit Definitions
                            13791 ; 269  |#define HW_SDRAM_TYPE_COLWIDTH_BITPOS 0
                            13792 ; 270  |#define HW_SDRAM_TYPE_ROWWIDTH_BITPOS 4
                            13793 ; 271  |
                            13794 ; 272  |#define HW_SDRAM_TYPE_COLWIDTH_WIDTH 4
                            13795 ; 273  |#define HW_SDRAM_TYPE_ROWWIDTH_WIDTH 4
                            13796 ; 274  |
                            13797 ; 275  |#define HW_SDRAM_TYPE_COLWIDTH_SETMASK (((1<<HW_SDRAM_TYPE_COLWIDTH_WIDTH)-1)<<HW_SDRAM_TY
                                  PE_COLWIDTH_BITPOS)
                            13798 ; 276  |#define HW_SDRAM_TYPE_ROWWIDTH_SETMASK (((1<<HW_SDRAM_TYPE_ROWWIDTH_WIDTH)-1)<<HW_SDRAM_TY
                                  PE_ROWWIDTH_BITPOS)
                            13799 ; 277  |
                            13800 ; 278  |#define HW_SDRAM_TYPE_COLWIDTH_CLRMASK (~(WORD)HW_SDRAM_TYPE_COLWIDTH_SETMASK)
                            13801 ; 279  |#define HW_SDRAM_TYPE_ROWWIDTH_CLRMASK (~(WORD)HW_SDRAM_TYPE_ROWWIDTH_SETMASK)
                            13802 ; 280  |
                            13803 ; 281  |typedef union               
                            13804 ; 282  |{
                            13805 ; 283  |    struct {
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 230

M:ADDR CODE           CYCLES LINE SOURCELINE
                            13806 ; 284  |        int COLWIDTH               :4;
                            13807 ; 285  |        int ROWWIDTH               :4; 
                            13808 ; 286  |    } B;
                            13809 ; 287  |    int I;
                            13810 ; 288  |} sdramtype_type;
                            13811 ; 289  |#define HW_SDRAM_TYPE (*(volatile sdramtype_type _X*) (HW_SDRAM_BASEADDR+14))
                            13812 ; 290  |
                            13813 ; 291  |#endif
                            13814 ; 292  |
                            13815 ; 293  |
                            13816 ; 294  |
                            13817 ; 295  |
                            13818 ; 296  |
                            13819 ; 297  |
                            13820 
                            13822 
                            13823 ; 34   |#include "regstb.h"
                            13824 
                            13826 
                            13827 ; 1    |/////////////////////////////////////////////////////////////////////////////////
                            13828 ; 2    |// Copyright(C) SigmaTel, Inc. 2000-2003
                            13829 ; 3    |// Filename: regstb.inc
                            13830 ; 4    |// Description: Register definitions for Trace Buffer
                            13831 ; 5    |/////////////////////////////////////////////////////////////////////////////////
                            13832 ; 6    |// The following naming conventions are followed in this file.
                            13833 ; 7    |// All registers are named using the format...
                            13834 ; 8    |//     HW_<module>_<regname>
                            13835 ; 9    |// where <module> is the module name which can be any of the following...
                            13836 ; 10   |//     USB20
                            13837 ; 11   |// (Note that when there is more than one copy of a particular module, the
                            13838 ; 12   |// module name includes a number starting from 0 for the first instance of
                            13839 ; 13   |// that module)
                            13840 ; 14   |// <regname> is the specific register within that module
                            13841 ; 15   |// We also define the following...
                            13842 ; 16   |//     HW_<module>_<regname>_BITPOS
                            13843 ; 17   |// which defines the starting bit (i.e. LSB) of a multi bit field
                            13844 ; 18   |//     HW_<module>_<regname>_SETMASK
                            13845 ; 19   |// which does something else, and
                            13846 ; 20   |//     HW_<module>_<regname>_CLRMASK
                            13847 ; 21   |// which does something else.
                            13848 ; 22   |// Other rules
                            13849 ; 23   |//     All caps
                            13850 ; 24   |//     Numeric identifiers start at 0
                            13851 ; 25   |#if !(defined(regstbinc))
                            13852 ; 26   |#define regstbinc 1
                            13853 ; 27   |
                            13854 ; 28   |#include "types.h"
                            13855 
                            13857 
                            13858 ; 1    |////////////////////////////////////////////////////////////////////////////////
                            13859 ; 2    |// Copyright(C) SigmaTel, Inc. 2000-2004
                            13860 ; 3    |//
                            13861 ; 4    |// Filename: types.h
                            13862 ; 5    |// Description: Standard data types
                            13863 ; 6    |////////////////////////////////////////////////////////////////////////////////
                            13864 ; 7    |
                            13865 ; 8    |#ifndef _TYPES_H
                            13866 ; 9    |#define _TYPES_H
                            13867 ; 10   |
                            13868 ; 11   |// TODO:  move this outta here!
                            13869 ; 12   |#if !defined(NOERROR)
                            13870 ; 13   |#define NOERROR 0
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 231

M:ADDR CODE           CYCLES LINE SOURCELINE
                            13871 ; 14   |#define SUCCESS 0
                            13872 ; 15   |#endif 
                            13873 ; 16   |#if !defined(SUCCESS)
                            13874 ; 17   |#define SUCCESS  0
                            13875 ; 18   |#endif
                            13876 ; 19   |#if !defined(ERROR)
                            13877 ; 20   |#define ERROR   -1
                            13878 ; 21   |#endif
                            13879 ; 22   |#if !defined(FALSE)
                            13880 ; 23   |#define FALSE 0
                            13881 ; 24   |#endif
                            13882 ; 25   |#if !defined(TRUE)
                            13883 ; 26   |#define TRUE  1
                            13884 ; 27   |#endif
                            13885 ; 28   |
                            13886 ; 29   |#if !defined(NULL)
                            13887 ; 30   |#define NULL 0
                            13888 ; 31   |#endif
                            13889 ; 32   |
                            13890 ; 33   |#define MAX_INT     0x7FFFFF
                            13891 ; 34   |#define MAX_LONG    0x7FFFFFffffff
                            13892 ; 35   |        // max positive unsigned long value: -1 == 0xFFFFFFffffff
                            13893 ; 36   |#define MAX_ULONG   (-1) 
                            13894 ; 37   |
                            13895 ; 38   |#define WORD_SIZE   24              // word size in bits
                            13896 ; 39   |#define BYTES_PER_WORD 3            // 8 bit bytes
                            13897 ; 40   |
                            13898 ; 41   |
                            13899 ; 42   |#define BYTE    unsigned char       // btVarName
                            13900 ; 43   |#define CHAR    signed char         // cVarName
                            13901 ; 44   |#define USHORT  unsigned short      // usVarName
                            13902 ; 45   |#define SHORT   unsigned short      // sVarName
                            13903 ; 46   |#define WORD    unsigned int        // wVarName
                            13904 ; 47   |#define INT     signed int          // iVarName
                            13905 ; 48   |#define DWORD   unsigned long       // dwVarName
                            13906 ; 49   |#define LONG    signed long         // lVarName
                            13907 ; 50   |#define BOOL    unsigned int        // bVarName
                            13908 ; 51   |#define FRACT   _fract              // frVarName
                            13909 ; 52   |#define LFRACT  long _fract         // lfrVarName
                            13910 ; 53   |#define CIRC    _circ               // cp<type prefix>VarName (see below)
                            13911 ; 54   |#define FLOAT   float               // fVarName
                            13912 ; 55   |#define DBL     double              // dVarName
                            13913 ; 56   |#define ENUM    enum                // eVarName
                            13914 ; 57   |#define CMX     _complex            // cmxVarName
                            13915 ; 58   |typedef WORD UCS3;                   // 
                            13916 ; 59   |
                            13917 ; 60   |#define UINT16  unsigned short
                            13918 ; 61   |#define UINT8   unsigned char   
                            13919 ; 62   |#define UINT32  unsigned long
                            13920 ; 63   |#define UINT64  unsigned long   // need to figure out how to do 64 bit values.  Or port ex
                                  isiting code to only use 48 bit
                            13921 ; 64   |#define INT64   unsigned long   // need to figure out how to do 64 bit values.  Or port ex
                                  isiting code to only use 48 bit
                            13922 ; 65   |#define WCHAR   UINT16
                            13923 ; 66   |
                            13924 ; 67   |//UINT128 is 16 bytes or 6 words
                            13925 ; 68   |typedef struct UINT128_3500 {   
                            13926 ; 69   |    int val[6];     
                            13927 ; 70   |} UINT128_3500;
                            13928 ; 71   |
                            13929 ; 72   |#define UINT128   UINT128_3500
                            13930 ; 73   |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 232

M:ADDR CODE           CYCLES LINE SOURCELINE
                            13931 ; 74   |// Little endian word packed byte strings:   
                            13932 ; 75   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                            13933 ; 76   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                            13934 ; 77   |// Little endian word packed byte strings:   
                            13935 ; 78   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                            13936 ; 79   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                            13937 ; 80   |
                            13938 ; 81   |// Declare Memory Spaces To Use When Coding
                            13939 ; 82   |// A. Sector Buffers
                            13940 ; 83   |#define SECTOR_BUFFER_MEM_X _X
                            13941 ; 84   |#define SECTOR_BUFFER_MEM_Y _Y
                            13942 ; 85   |#define SECTOR_BUFFER_MEM SECTOR_BUFFER_MEM_X
                            13943 ; 86   |typedef WORD SECTOR_BUFFER_MEM SECTOR_BUFFER;
                            13944 ; 87   |typedef SECTOR_BUFFER * P_SECTOR_BUFFER;
                            13945 ; 88   |// B. Media DDI Memory
                            13946 ; 89   |#define MEDIA_DDI_MEM _Y
                            13947 ; 90   |
                            13948 ; 91   |
                            13949 ; 92   |
                            13950 ; 93   |// Pointers to linear structures are labeled as: p<type prefix>VarName
                            13951 ; 94   |// Examples of circular pointers:
                            13952 ; 95   |//    INT CIRC cpiVarName
                            13953 ; 96   |//    DWORD CIRC cpdwVarName
                            13954 ; 97   |
                            13955 ; 98   |#define RETCODE INT                 // rcVarName
                            13956 ; 99   |
                            13957 ; 100  |// generic bitfield structure
                            13958 ; 101  |struct Bitfield {
                            13959 ; 102  |    unsigned int B0  :1;
                            13960 ; 103  |    unsigned int B1  :1;
                            13961 ; 104  |    unsigned int B2  :1;
                            13962 ; 105  |    unsigned int B3  :1;
                            13963 ; 106  |    unsigned int B4  :1;
                            13964 ; 107  |    unsigned int B5  :1;
                            13965 ; 108  |    unsigned int B6  :1;
                            13966 ; 109  |    unsigned int B7  :1;
                            13967 ; 110  |    unsigned int B8  :1;
                            13968 ; 111  |    unsigned int B9  :1;
                            13969 ; 112  |    unsigned int B10 :1;
                            13970 ; 113  |    unsigned int B11 :1;
                            13971 ; 114  |    unsigned int B12 :1;
                            13972 ; 115  |    unsigned int B13 :1;
                            13973 ; 116  |    unsigned int B14 :1;
                            13974 ; 117  |    unsigned int B15 :1;
                            13975 ; 118  |    unsigned int B16 :1;
                            13976 ; 119  |    unsigned int B17 :1;
                            13977 ; 120  |    unsigned int B18 :1;
                            13978 ; 121  |    unsigned int B19 :1;
                            13979 ; 122  |    unsigned int B20 :1;
                            13980 ; 123  |    unsigned int B21 :1;
                            13981 ; 124  |    unsigned int B22 :1;
                            13982 ; 125  |    unsigned int B23 :1;
                            13983 ; 126  |};
                            13984 ; 127  |
                            13985 ; 128  |union BitInt {
                            13986 ; 129  |        struct Bitfield B;
                            13987 ; 130  |        int        I;
                            13988 ; 131  |};
                            13989 ; 132  |
                            13990 ; 133  |#define MAX_MSG_LENGTH 10
                            13991 ; 134  |struct CMessage
                            13992 ; 135  |{
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 233

M:ADDR CODE           CYCLES LINE SOURCELINE
                            13993 ; 136  |        unsigned int m_uLength;
                            13994 ; 137  |        unsigned int m_uMsg[MAX_MSG_LENGTH];
                            13995 ; 138  |};
                            13996 ; 139  |
                            13997 ; 140  |typedef struct {
                            13998 ; 141  |    WORD m_wLength;
                            13999 ; 142  |    WORD m_wMessage;
                            14000 ; 143  |    WORD m_wParams[MAX_MSG_LENGTH];
                            14001 ; 144  |} Message;
                            14002 ; 145  |
                            14003 ; 146  |struct MessageQueueDescriptor
                            14004 ; 147  |{
                            14005 ; 148  |        int *m_pBase;
                            14006 ; 149  |        int m_iModulo;
                            14007 ; 150  |        int m_iSize;
                            14008 ; 151  |        int *m_pHead;
                            14009 ; 152  |        int *m_pTail;
                            14010 ; 153  |};
                            14011 ; 154  |
                            14012 ; 155  |struct ModuleEntry
                            14013 ; 156  |{
                            14014 ; 157  |    int m_iSignaledEventMask;
                            14015 ; 158  |    int m_iWaitEventMask;
                            14016 ; 159  |    int m_iResourceOfCode;
                            14017 ; 160  |    struct MessageQueueDescriptor *m_pMessageQueue;
                            14018 ; 161  |    int _asmfunc (*m_pProcessEntryPoint)(union WaitMask Signals,struct MessageQueueDescrip
                                  tor *);
                            14019 ; 162  |    int _asmfunc (*m_pInitFunction)(struct MessageQueueDescriptor *);
                            14020 ; 163  |    int m_uTimeOutHigh;
                            14021 ; 164  |    int m_uTimeOutLow;
                            14022 ; 165  |    int _asmfunc (*m_pBackgroundFunction)(struct MessageQueueDescriptor *);
                            14023 ; 166  |};
                            14024 ; 167  |
                            14025 ; 168  |union WaitMask{
                            14026 ; 169  |    struct B{
                            14027 ; 170  |        unsigned int m_bNone     :1;
                            14028 ; 171  |        unsigned int m_bMessage  :1;
                            14029 ; 172  |        unsigned int m_bTimer    :1;
                            14030 ; 173  |        unsigned int m_bButton   :1;
                            14031 ; 174  |    } B;
                            14032 ; 175  |    int I;
                            14033 ; 176  |} ;
                            14034 ; 177  |
                            14035 ; 178  |
                            14036 ; 179  |struct Button {
                            14037 ; 180  |        WORD wButtonEvent;
                            14038 ; 181  |        WORD wUnused[MAX_MSG_LENGTH];   
                            14039 ; 182  |};
                            14040 ; 183  |
                            14041 ; 184  |struct Message {
                            14042 ; 185  |        WORD wMsgLength;
                            14043 ; 186  |        WORD wMsgCommand;
                            14044 ; 187  |        WORD wMsgParms[MAX_MSG_LENGTH-1];
                            14045 ; 188  |};
                            14046 ; 189  |
                            14047 ; 190  |union EventTypes {
                            14048 ; 191  |        struct CMessage msg;
                            14049 ; 192  |        struct Button Button ;
                            14050 ; 193  |        struct Message Message;
                            14051 ; 194  |};
                            14052 ; 195  |
                            14053 ; 196  |// next 2 used to get updater build to return correct protocol ver in scsi response.
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 234

M:ADDR CODE           CYCLES LINE SOURCELINE
                            14054 ; 197  |#define BUILD_TYPE_UPDATER  0x100
                            14055 ; 198  |#define BUILD_TYPE_HOSTLINK 0x101
                            14056 ; 199  |#define BUILD_TYPE_PLAYER   0x102
                            14057 ; 200  |
                            14058 ; 201  |// Resets part if RETAIL build. DEBUG build executes debug instruction to halt.
                            14059 ; 202  |#define SystemHalt() __asm(" include 'sysmacro.asm' \n error") 
                            14060 ; 203  |#define assert(x)    if(!(x)) __asm(" include 'sysmacro.asm' \n error")
                            14061 ; 204  |
                            14062 ; 205  |#if DEBUG
                            14063 ; 206  |// For DEBUG builds, DebugBuildAssert(condition) halts if condition evaluates to FALSE. 
                            14064 ; 207  |#define DebugBuildAssert(x)    if(!(x)) __asm(" debug ")
                            14065 ; 208  |#else 
                            14066 ; 209  |// For RETAIL builds, DebugBuildAssert(condition) does nothing & execution continues rathe
                                  r than halt or reset. 
                            14067 ; 210  |#define DebugBuildAssert(x)    
                            14068 ; 211  |#endif
                            14069 ; 212  |
                            14070 ; 213  |// Do this in your C files to make a reminder that's displayed during the build.
                            14071 ; 214  |//  #pragma asm
                            14072 ; 215  |//  WARN 'Note to builder: reminder to do this after verifying that'
                            14073 ; 216  |//  #pragma endasm
                            14074 ; 217  |
                            14075 ; 218  |
                            14076 ; 219  |#ifdef COLOR_262K
                            14077 ; 220  |#define RGB(r,g,b)    ((0x0000FC & (r)) << 10) | ((0x0000FC & (g)) << 4) | ((0x0000FC & (b
                                  )) >> 2)    //262k
                            14078 ; 221  |#elif defined(COLOR_65K)
                            14079 ; 222  |#define RGB(r,g,b)    ((0x0000F8 & (r)) << 8) | ((0x0000FC & (g)) << 3) | ((0x0000F8 & (b)
                                  ) >> 3)  //65k
                            14080 ; 223  |#else
                            14081 ; 224  |#define RGB(r,g,b)       ((0x0000F0 & (r)) << 4) | (0x0000F0 & (g)) | ((0x0000F0 & (b)) >>
                                   4)
                            14082 ; 225  |#endif
                            14083 ; 226  |    
                            14084 ; 227  |#endif // #ifndef _TYPES_H
                            14085 
                            14087 
                            14088 ; 29   |
                            14089 ; 30   |//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                            14090 ; 31   |
                            14091 ; 32   |//   Trace Buffer STMP Registers 
                            14092 ; 33   |//   Last Updated 6.30.2003 D. Baker
                            14093 ; 34   |//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                            14094 ; 35   |
                            14095 ; 36   |#define HW_TB_BASEADDR (0xF080)
                            14096 ; 37   |
                            14097 ; 38   |
                            14098 ; 39   |
                            14099 ; 40   |
                            14100 ; 41   |/////////////////////////////////////////////////////////////////////////////////
                            14101 ; 42   |
                            14102 ; 43   |//  Trace Buffer Configuration Register (HW_TB_CFG) Bit Definitions
                            14103 ; 44   |
                            14104 ; 45   |#define HW_TB_CFG_CLK_ENABLE_BITPOS (0)
                            14105 ; 46   |#define HW_TB_CFG_ENABLE_BITPOS (1)
                            14106 ; 47   |#define HW_TB_CFG_DONE_BITPOS (3)
                            14107 ; 48   |#define HW_TB_CFG_DMA_ASEL_BITPOS (4)
                            14108 ; 49   |#define HW_TB_CFG_TRIG_EVENT_BITPOS (6)
                            14109 ; 50   |
                            14110 ; 51   |#define HW_TB_CFG_CLK_ENABLE_WIDTH (1)
                            14111 ; 52   |#define HW_TB_CFG_ENABLE_WIDTH (1)
                            14112 ; 53   |#define HW_TB_CFG_RSVD1_WIDTH (1)
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 235

M:ADDR CODE           CYCLES LINE SOURCELINE
                            14113 ; 54   |#define HW_TB_CFG_DONE_WIDTH (1)
                            14114 ; 55   |#define HW_TB_CFG_DMA_ASEL_WIDTH (2)
                            14115 ; 56   |#define HW_TB_CFG_TRIG_EVENT_WIDTH (1)
                            14116 ; 57   |#define HW_TB_CFG_RSVD2_WIDTH (17)
                            14117 ; 58   |
                            14118 ; 59   |#define HW_TB_CFG_CLK_ENABLE_SETMASK (((1<<HW_TB_CFG_CLK_ENABLE_WIDTH)-1)<<HW_TB_CFG_CLK_E
                                  NABLE_BITPOS) 
                            14119 ; 60   |#define HW_TB_CFG_ENABLE_SETMASK (((1<<HW_TB_CFG_ENABLE_WIDTH)-1)<<HW_TB_CFG_ENABLE_BITPOS
                                  ) 
                            14120 ; 61   |#define HW_TB_CFG_DONE_SETMASK (((1<<HW_TB_CFG_DONE_WIDTH)-1)<<HW_TB_CFG_DONE_BITPOS) 
                            14121 ; 62   |#define HW_TB_CFG_DMA_ASEL_SETMASK (((1<<HW_TB_CFG_DMA_ASEL_WIDTH)-1)<<HW_TB_CFG_DMA_ASEL_
                                  BITPOS) 
                            14122 ; 63   |#define HW_TB_CFG_TRIG_EVENT_SETMASK (((1<<HW_TB_CFG_TRIG_EVENT_WIDTH)-1)<<HW_TB_CFG_TRIG_
                                  EVENT_BITPOS) 
                            14123 ; 64   |
                            14124 ; 65   |#define HW_TB_CFG_CLK_ENABLE_CLRMASK (~(WORD)HW_TB_CFG_CLK_ENABLE_SETMASK)
                            14125 ; 66   |#define HW_TB_CFG_ENABLE_CLRMASK (~(WORD)HW_TB_CFG_ENABLE_SETMASK)
                            14126 ; 67   |#define HW_TB_CFG_DONE_CLRMASK (~(WORD)HW_TB_CFG_DONE_SETMASK)
                            14127 ; 68   |#define HW_TB_CFG_DMA_ASEL_CLRMASK (~(WORD)HW_TB_CFG_DMA_ASEL_SETMASK)
                            14128 ; 69   |#define HW_TB_CFG_TRIG_EVENT_CLRMASK (~(WORD)HW_TB_CFG_TRIG_EVENT_SETMASK)
                            14129 ; 70   |
                            14130 ; 71   |typedef union               
                            14131 ; 72   |{
                            14132 ; 73   |    struct {
                            14133 ; 74   |         int CLK_ENABLE      : HW_TB_CFG_CLK_ENABLE_WIDTH;
                            14134 ; 75   |         int ENABLE          : HW_TB_CFG_ENABLE_WIDTH;
                            14135 ; 76   |        int rsvd1           : HW_TB_CFG_RSVD1_WIDTH;
                            14136 ; 77   |         int DONE            : HW_TB_CFG_DONE_WIDTH;
                            14137 ; 78   |         int DMA_ASEL        : HW_TB_CFG_DMA_ASEL_WIDTH;
                            14138 ; 79   |         int TRIG_EVENT      : HW_TB_CFG_TRIG_EVENT_WIDTH;
                            14139 ; 80   |        int rsvd2           : HW_TB_CFG_RSVD2_WIDTH;
                            14140 ; 81   |    } B;
                            14141 ; 82   |    int I;
                            14142 ; 83   |    unsigned int U;
                            14143 ; 84   |} tb_cfg_type;
                            14144 ; 85   |#define HW_TB_CFG      (*(volatile tb_cfg_type _X*) (HW_TB_BASEADDR+0))    /* Trace Buffer
                                   Configuration Register */
                            14145 ; 86   |
                            14146 ; 87   |/////////////////////////////////////////////////////////////////////////////////
                            14147 ; 88   |
                            14148 ; 89   |//  Trace Buffer Base Address Register (HW_TB_BAR) Bit Definitions
                            14149 ; 90   |
                            14150 ; 91   |#define HW_TB_BAR_ADDRESS_BITPOS (0)
                            14151 ; 92   |
                            14152 ; 93   |#define HW_TB_BAR_ADDRESS_WIDTH (16)        
                            14153 ; 94   |#define HW_TB_BAR_RSVD_WIDTH (8)
                            14154 ; 95   |
                            14155 ; 96   |#define HW_TB_BAR_ADDRESS_SETMASK (((1<<HW_TB_BAR_ADDRESS_WIDTH)-1)<<HW_TB_BAR_ADDRESS_BIT
                                  POS) 
                            14156 ; 97   |
                            14157 ; 98   |#define HW_TB_BAR_ADDRESS_CLRMASK (~(WORD)HW_TB_BAR_ADDRESS_SETMASK)
                            14158 ; 99   |
                            14159 ; 100  |typedef union               
                            14160 ; 101  |{
                            14161 ; 102  |    struct {
                            14162 ; 103  |         int ADDRESS      : HW_TB_BAR_ADDRESS_WIDTH;
                            14163 ; 104  |        int reserved     : HW_TB_BAR_RSVD_WIDTH;
                            14164 ; 105  |    } B;
                            14165 ; 106  |    int I;
                            14166 ; 107  |    unsigned int U;
                            14167 ; 108  |} tb_bar_type;
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 236

M:ADDR CODE           CYCLES LINE SOURCELINE
                            14168 ; 109  |#define HW_TB_BAR      (*(volatile tb_bar_type _X*) (HW_TB_BASEADDR+1))    /* Trace Buffer
                                   Base Address Register */
                            14169 ; 110  |
                            14170 ; 111  |/////////////////////////////////////////////////////////////////////////////////
                            14171 ; 112  |
                            14172 ; 113  |//  Trace Buffer Modulo Register (HW_TB_MOD) Bit Definitions
                            14173 ; 114  |
                            14174 ; 115  |#define HW_TB_MOD_MODULUS_BITPOS (0)
                            14175 ; 116  |
                            14176 ; 117  |#define HW_TB_MOD_MODULUS_WIDTH (14)        
                            14177 ; 118  |#define HW_TB_MOD_RSVD_WIDTH (10)
                            14178 ; 119  |
                            14179 ; 120  |#define HW_TB_MOD_MODULUS_SETMASK (((1<<HW_TB_MOD_MODULUS_WIDTH)-1)<<HW_TB_MOD_MODULUS_BIT
                                  POS) 
                            14180 ; 121  |
                            14181 ; 122  |#define HW_TB_MOD_MODULUS_CLRMASK (~(WORD)HW_TB_MOD_MODULUS_SETMASK)
                            14182 ; 123  |
                            14183 ; 124  |typedef union               
                            14184 ; 125  |{
                            14185 ; 126  |    struct {
                            14186 ; 127  |         int MODULUS      : HW_TB_MOD_MODULUS_WIDTH;
                            14187 ; 128  |        int reserved        : HW_TB_MOD_RSVD_WIDTH;
                            14188 ; 129  |    } B;
                            14189 ; 130  |    int I;
                            14190 ; 131  |    unsigned int U;
                            14191 ; 132  |} tb_mod_type;
                            14192 ; 133  |#define HW_TB_MOD      (*(volatile tb_mod_type _X*) (HW_TB_BASEADDR+2))    /* Trace Buffer
                                   Modulus Register */
                            14193 ; 134  |
                            14194 ; 135  |/////////////////////////////////////////////////////////////////////////////////
                            14195 ; 136  |
                            14196 ; 137  |//  Trace Buffer Current Index Register (HW_TB_CIR) Bit Definitions
                            14197 ; 138  |
                            14198 ; 139  |#define HW_TB_CIR_INDEX_BITPOS (0)
                            14199 ; 140  |
                            14200 ; 141  |#define HW_TB_CIR_INDEX_WIDTH (14)        
                            14201 ; 142  |#define HW_TB_CIR_RSVD_WIDTH (10)
                            14202 ; 143  |
                            14203 ; 144  |#define HW_TB_CIR_INDEX_SETMASK (((1<<HW_TB_CIR_INDEX_WIDTH)-1)<<HW_TB_CIR_INDEX_BITPOS) 
                            14204 ; 145  |
                            14205 ; 146  |#define HW_TB_CIR_INDEX_CLRMASK (~(WORD)HW_TB_CIR_INDEX_SETMASK)
                            14206 ; 147  |
                            14207 ; 148  |typedef union               
                            14208 ; 149  |{
                            14209 ; 150  |    struct {
                            14210 ; 151  |         int INDEX        : HW_TB_CIR_INDEX_WIDTH;
                            14211 ; 152  |        int reserved     : HW_TB_CIR_RSVD_WIDTH;
                            14212 ; 153  |    } B;
                            14213 ; 154  |    int I;
                            14214 ; 155  |    unsigned int U;
                            14215 ; 156  |} tb_cir_type;
                            14216 ; 157  |#define HW_TB_CIR      (*(volatile tb_cir_type _X*) (HW_TB_BASEADDR+3))    /* Trace Buffer
                                   Current Index Register */
                            14217 ; 158  |
                            14218 ; 159  |/////////////////////////////////////////////////////////////////////////////////
                            14219 ; 160  |
                            14220 ; 161  |//  Trace Buffer One Byte Code Register (HW_TB_OBC) Bit Definitions
                            14221 ; 162  |
                            14222 ; 163  |#define HW_TB_OBC_CODE_BITPOS (0)
                            14223 ; 164  |
                            14224 ; 165  |#define HW_TB_OBC_CODE_WIDTH (8)        
                            14225 ; 166  |#define HW_TB_OBC_RSVD_WIDTH (16)
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 237

M:ADDR CODE           CYCLES LINE SOURCELINE
                            14226 ; 167  |
                            14227 ; 168  |#define HW_TB_OBC_CODE_SETMASK (((1<<HW_TB_OBC_CODE_WIDTH)-1)<<HW_TB_OBC_CODE_BITPOS) 
                            14228 ; 169  |
                            14229 ; 170  |#define HW_TB_OBC_CODE_CLRMASK (~(WORD)HW_TB_OBC_CODE_SETMASK)
                            14230 ; 171  |
                            14231 ; 172  |typedef union               
                            14232 ; 173  |{
                            14233 ; 174  |    struct {
                            14234 ; 175  |         int CODE        : HW_TB_OBC_CODE_WIDTH;
                            14235 ; 176  |        int reserved    : HW_TB_OBC_RSVD_WIDTH;
                            14236 ; 177  |    } B;
                            14237 ; 178  |    int I;
                            14238 ; 179  |    unsigned int U;
                            14239 ; 180  |} tb_obc_type;
                            14240 ; 181  |#define HW_TB_OBC      (*(volatile tb_obc_type _X*) (HW_TB_BASEADDR+4))    /* Trace Buffer
                                   one byte code Register */
                            14241 ; 182  |
                            14242 ; 183  |/////////////////////////////////////////////////////////////////////////////////
                            14243 ; 184  |
                            14244 ; 185  |//  Trace Buffer Trigger Command Register (HW_TB_TCS) Bit Definitions
                            14245 ; 186  |
                            14246 ; 187  |#define HW_TB_TCS_TRG_STYLE_BITPOS (0)
                            14247 ; 188  |#define HW_TB_TCS_CAP_CLASS_BITPOS (1)
                            14248 ; 189  |#define HW_TB_TCS_TRG_CLASS_BITPOS (3)
                            14249 ; 190  |#define HW_TB_TCS_FREEZE_BITPOS (5)
                            14250 ; 191  |
                            14251 ; 192  |#define HW_TB_TCS_TRG_STYLE_WIDTH (1)        
                            14252 ; 193  |#define HW_TB_TCS_CAP_CLASS_WIDTH (2)        
                            14253 ; 194  |#define HW_TB_TCS_TRG_CLASS_WIDTH (2)        
                            14254 ; 195  |#define HW_TB_TCS_FREEZE_WIDTH (1)        
                            14255 ; 196  |#define HW_TB_TCS_RSVD_WIDTH (18)
                            14256 ; 197  |
                            14257 ; 198  |#define HW_TB_TCS_TRG_STYLE_SETMASK (((1<<HW_TB_TCS_TRG_STYLE_WIDTH)-1)<<HW_TB_TCS_TRG_STY
                                  LE_BITPOS) 
                            14258 ; 199  |#define HW_TB_TCS_CAP_CLASS_SETMASK (((1<<HW_TB_TCS_CAP_CLASS_WIDTH)-1)<<HW_TB_TCS_CAP_CLA
                                  SS_BITPOS) 
                            14259 ; 200  |#define HW_TB_TCS_TRG_CLASS_SETMASK (((1<<HW_TB_TCS_TRG_CLASS_WIDTH)-1)<<HW_TB_TCS_TRG_CLA
                                  SS_BITPOS) 
                            14260 ; 201  |#define HW_TB_TCS_FREEZE_SETMASK (((1<<HW_TB_TCS_FREEZE_WIDTH)-1)<<HW_TB_TCS_FREEZE_BITPOS
                                  ) 
                            14261 ; 202  |
                            14262 ; 203  |#define HW_TB_TCS_TRG_STYLE_CLRMASK (~(WORD)HW_TB_TCS_TRG_STYLE_SETMASK)
                            14263 ; 204  |#define HW_TB_TCS_CAP_CLASS_CLRMASK (~(WORD)HW_TB_TCS_CAP_CLASS_SETMASK)
                            14264 ; 205  |#define HW_TB_TCS_TRG_CLASS_CLRMASK (~(WORD)HW_TB_TCS_TRG_CLASS_SETMASK)
                            14265 ; 206  |#define HW_TB_TCS_FREEZE_CLRMASK (~(WORD)HW_TB_TCS_FREEZE_SETMASK)
                            14266 ; 207  |
                            14267 ; 208  |typedef union               
                            14268 ; 209  |{
                            14269 ; 210  |    struct {
                            14270 ; 211  |         int TRG_STYLE       : HW_TB_TCS_TRG_STYLE_WIDTH;
                            14271 ; 212  |         int CAP_CLASS       : HW_TB_TCS_CAP_CLASS_WIDTH;
                            14272 ; 213  |         int TRG_CLASS       : HW_TB_TCS_TRG_CLASS_WIDTH;
                            14273 ; 214  |         int FREEZE          : HW_TB_TCS_FREEZE_WIDTH;
                            14274 ; 215  |        int reserved        : HW_TB_TCS_RSVD_WIDTH;
                            14275 ; 216  |    } B;
                            14276 ; 217  |    int I;
                            14277 ; 218  |    unsigned int U;
                            14278 ; 219  |} tb_tcs_type;
                            14279 ; 220  |#define HW_TB_TCS      (*(volatile tb_tcs_type _X*) (HW_TB_BASEADDR+16))    /* Trace Buffe
                                  r Trigger Command Register */
                            14280 ; 221  |
                            14281 ; 222  |/////////////////////////////////////////////////////////////////////////////////
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 238

M:ADDR CODE           CYCLES LINE SOURCELINE
                            14282 ; 223  |
                            14283 ; 224  |//  Trace Buffer Trigger Value Register (HW_TB_TVR) Bit Definitions
                            14284 ; 225  |
                            14285 ; 226  |#define HW_TB_TVR_MATCH_ADDR_BITPOS (0)
                            14286 ; 227  |
                            14287 ; 228  |#define HW_TB_TVR_MATCH_ADDR_WIDTH (16)        
                            14288 ; 229  |#define HW_TB_TVR_RSVD_WIDTH (8)
                            14289 ; 230  |
                            14290 ; 231  |#define HW_TB_TVR_MATCH_ADDR_SETMASK (((1<<HW_TB_TVR_MATCH_ADDR_WIDTH)-1)<<HW_TB_TVR_MATCH
                                  _ADDR_BITPOS) 
                            14291 ; 232  |
                            14292 ; 233  |#define HW_TB_TVR_MATCH_ADDR_CLRMASK (~(WORD)HW_TB_TVR_MATCH_ADDR_SETMASK)
                            14293 ; 234  |
                            14294 ; 235  |typedef union               
                            14295 ; 236  |{
                            14296 ; 237  |    struct {
                            14297 ; 238  |         int MATCH_ADDR      : HW_TB_TVR_MATCH_ADDR_WIDTH;
                            14298 ; 239  |        int reserved        : HW_TB_TVR_RSVD_WIDTH;
                            14299 ; 240  |    } B;
                            14300 ; 241  |    int I;
                            14301 ; 242  |    unsigned int U;
                            14302 ; 243  |} tb_tvr_type;
                            14303 ; 244  |#define HW_TB_TVR      (*(volatile tb_tvr_type _X*) (HW_TB_BASEADDR+24))    /* Trace Buffe
                                  r Trigger Value Register */
                            14304 ; 245  |
                            14305 ; 246  |
                            14306 ; 247  |
                            14307 ; 248  |#endif
                            14308 ; 249  |
                            14309 ; 250  |
                            14310 ; 251  |
                            14311 ; 252  |
                            14312 ; 253  |
                            14313 ; 254  |
                            14314 ; 255  |
                            14315 ; 256  |
                            14316 ; 257  |
                            14317 ; 258  |
                            14318 ; 259  |
                            14319 ; 260  |
                            14320 ; 261  |
                            14321 ; 262  |
                            14322 ; 263  |
                            14323 ; 264  |
                            14324 ; 265  |
                            14325 
                            14327 
                            14328 ; 35   |#include "regstimer.h"
                            14329 
                            14331 
                            14332 ; 1    |/////////////////////////////////////////////////////////////////////////////////
                            14333 ; 2    |// Copyright(C) SigmaTel, Inc. 2000-2001
                            14334 ; 3    |// Filename: regstimer.inc
                            14335 ; 4    |// Description: Register definitions for  Timers interface
                            14336 ; 5    |/////////////////////////////////////////////////////////////////////////////////
                            14337 ; 6    |// The following naming conventions are followed in this file.
                            14338 ; 7    |// All registers are named using the format...
                            14339 ; 8    |//     HW_<module>_<regname>
                            14340 ; 9    |// where <module> is the module name which can be any of the following...
                            14341 ; 10   |//     USB20
                            14342 ; 11   |// (Note that when there is more than one copy of a particular module, the
                            14343 ; 12   |// module name includes a number starting from 0 for the first instance of
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 239

M:ADDR CODE           CYCLES LINE SOURCELINE
                            14344 ; 13   |// that module)
                            14345 ; 14   |// <regname> is the specific register within that module
                            14346 ; 15   |// We also define the following...
                            14347 ; 16   |//     HW_<module>_<regname>_BITPOS
                            14348 ; 17   |// which defines the starting bit (i.e. LSB) of a multi bit field
                            14349 ; 18   |//     HW_<module>_<regname>_SETMASK
                            14350 ; 19   |// which does something else, and
                            14351 ; 20   |//     HW_<module>_<regname>_CLRMASK
                            14352 ; 21   |// which does something else.
                            14353 ; 22   |// Other rules
                            14354 ; 23   |//     All caps
                            14355 ; 24   |//     Numeric identifiers start at 0
                            14356 ; 25   |#if !(defined(regstimerinc))
                            14357 ; 26   |#define regstimerinc 1
                            14358 ; 27   |
                            14359 ; 28   |#include "types.h"
                            14360 
                            14362 
                            14363 ; 1    |////////////////////////////////////////////////////////////////////////////////
                            14364 ; 2    |// Copyright(C) SigmaTel, Inc. 2000-2004
                            14365 ; 3    |//
                            14366 ; 4    |// Filename: types.h
                            14367 ; 5    |// Description: Standard data types
                            14368 ; 6    |////////////////////////////////////////////////////////////////////////////////
                            14369 ; 7    |
                            14370 ; 8    |#ifndef _TYPES_H
                            14371 ; 9    |#define _TYPES_H
                            14372 ; 10   |
                            14373 ; 11   |// TODO:  move this outta here!
                            14374 ; 12   |#if !defined(NOERROR)
                            14375 ; 13   |#define NOERROR 0
                            14376 ; 14   |#define SUCCESS 0
                            14377 ; 15   |#endif 
                            14378 ; 16   |#if !defined(SUCCESS)
                            14379 ; 17   |#define SUCCESS  0
                            14380 ; 18   |#endif
                            14381 ; 19   |#if !defined(ERROR)
                            14382 ; 20   |#define ERROR   -1
                            14383 ; 21   |#endif
                            14384 ; 22   |#if !defined(FALSE)
                            14385 ; 23   |#define FALSE 0
                            14386 ; 24   |#endif
                            14387 ; 25   |#if !defined(TRUE)
                            14388 ; 26   |#define TRUE  1
                            14389 ; 27   |#endif
                            14390 ; 28   |
                            14391 ; 29   |#if !defined(NULL)
                            14392 ; 30   |#define NULL 0
                            14393 ; 31   |#endif
                            14394 ; 32   |
                            14395 ; 33   |#define MAX_INT     0x7FFFFF
                            14396 ; 34   |#define MAX_LONG    0x7FFFFFffffff
                            14397 ; 35   |        // max positive unsigned long value: -1 == 0xFFFFFFffffff
                            14398 ; 36   |#define MAX_ULONG   (-1) 
                            14399 ; 37   |
                            14400 ; 38   |#define WORD_SIZE   24              // word size in bits
                            14401 ; 39   |#define BYTES_PER_WORD 3            // 8 bit bytes
                            14402 ; 40   |
                            14403 ; 41   |
                            14404 ; 42   |#define BYTE    unsigned char       // btVarName
                            14405 ; 43   |#define CHAR    signed char         // cVarName
                            14406 ; 44   |#define USHORT  unsigned short      // usVarName
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 240

M:ADDR CODE           CYCLES LINE SOURCELINE
                            14407 ; 45   |#define SHORT   unsigned short      // sVarName
                            14408 ; 46   |#define WORD    unsigned int        // wVarName
                            14409 ; 47   |#define INT     signed int          // iVarName
                            14410 ; 48   |#define DWORD   unsigned long       // dwVarName
                            14411 ; 49   |#define LONG    signed long         // lVarName
                            14412 ; 50   |#define BOOL    unsigned int        // bVarName
                            14413 ; 51   |#define FRACT   _fract              // frVarName
                            14414 ; 52   |#define LFRACT  long _fract         // lfrVarName
                            14415 ; 53   |#define CIRC    _circ               // cp<type prefix>VarName (see below)
                            14416 ; 54   |#define FLOAT   float               // fVarName
                            14417 ; 55   |#define DBL     double              // dVarName
                            14418 ; 56   |#define ENUM    enum                // eVarName
                            14419 ; 57   |#define CMX     _complex            // cmxVarName
                            14420 ; 58   |typedef WORD UCS3;                   // 
                            14421 ; 59   |
                            14422 ; 60   |#define UINT16  unsigned short
                            14423 ; 61   |#define UINT8   unsigned char   
                            14424 ; 62   |#define UINT32  unsigned long
                            14425 ; 63   |#define UINT64  unsigned long   // need to figure out how to do 64 bit values.  Or port ex
                                  isiting code to only use 48 bit
                            14426 ; 64   |#define INT64   unsigned long   // need to figure out how to do 64 bit values.  Or port ex
                                  isiting code to only use 48 bit
                            14427 ; 65   |#define WCHAR   UINT16
                            14428 ; 66   |
                            14429 ; 67   |//UINT128 is 16 bytes or 6 words
                            14430 ; 68   |typedef struct UINT128_3500 {   
                            14431 ; 69   |    int val[6];     
                            14432 ; 70   |} UINT128_3500;
                            14433 ; 71   |
                            14434 ; 72   |#define UINT128   UINT128_3500
                            14435 ; 73   |
                            14436 ; 74   |// Little endian word packed byte strings:   
                            14437 ; 75   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                            14438 ; 76   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                            14439 ; 77   |// Little endian word packed byte strings:   
                            14440 ; 78   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                            14441 ; 79   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                            14442 ; 80   |
                            14443 ; 81   |// Declare Memory Spaces To Use When Coding
                            14444 ; 82   |// A. Sector Buffers
                            14445 ; 83   |#define SECTOR_BUFFER_MEM_X _X
                            14446 ; 84   |#define SECTOR_BUFFER_MEM_Y _Y
                            14447 ; 85   |#define SECTOR_BUFFER_MEM SECTOR_BUFFER_MEM_X
                            14448 ; 86   |typedef WORD SECTOR_BUFFER_MEM SECTOR_BUFFER;
                            14449 ; 87   |typedef SECTOR_BUFFER * P_SECTOR_BUFFER;
                            14450 ; 88   |// B. Media DDI Memory
                            14451 ; 89   |#define MEDIA_DDI_MEM _Y
                            14452 ; 90   |
                            14453 ; 91   |
                            14454 ; 92   |
                            14455 ; 93   |// Pointers to linear structures are labeled as: p<type prefix>VarName
                            14456 ; 94   |// Examples of circular pointers:
                            14457 ; 95   |//    INT CIRC cpiVarName
                            14458 ; 96   |//    DWORD CIRC cpdwVarName
                            14459 ; 97   |
                            14460 ; 98   |#define RETCODE INT                 // rcVarName
                            14461 ; 99   |
                            14462 ; 100  |// generic bitfield structure
                            14463 ; 101  |struct Bitfield {
                            14464 ; 102  |    unsigned int B0  :1;
                            14465 ; 103  |    unsigned int B1  :1;
                            14466 ; 104  |    unsigned int B2  :1;
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 241

M:ADDR CODE           CYCLES LINE SOURCELINE
                            14467 ; 105  |    unsigned int B3  :1;
                            14468 ; 106  |    unsigned int B4  :1;
                            14469 ; 107  |    unsigned int B5  :1;
                            14470 ; 108  |    unsigned int B6  :1;
                            14471 ; 109  |    unsigned int B7  :1;
                            14472 ; 110  |    unsigned int B8  :1;
                            14473 ; 111  |    unsigned int B9  :1;
                            14474 ; 112  |    unsigned int B10 :1;
                            14475 ; 113  |    unsigned int B11 :1;
                            14476 ; 114  |    unsigned int B12 :1;
                            14477 ; 115  |    unsigned int B13 :1;
                            14478 ; 116  |    unsigned int B14 :1;
                            14479 ; 117  |    unsigned int B15 :1;
                            14480 ; 118  |    unsigned int B16 :1;
                            14481 ; 119  |    unsigned int B17 :1;
                            14482 ; 120  |    unsigned int B18 :1;
                            14483 ; 121  |    unsigned int B19 :1;
                            14484 ; 122  |    unsigned int B20 :1;
                            14485 ; 123  |    unsigned int B21 :1;
                            14486 ; 124  |    unsigned int B22 :1;
                            14487 ; 125  |    unsigned int B23 :1;
                            14488 ; 126  |};
                            14489 ; 127  |
                            14490 ; 128  |union BitInt {
                            14491 ; 129  |        struct Bitfield B;
                            14492 ; 130  |        int        I;
                            14493 ; 131  |};
                            14494 ; 132  |
                            14495 ; 133  |#define MAX_MSG_LENGTH 10
                            14496 ; 134  |struct CMessage
                            14497 ; 135  |{
                            14498 ; 136  |        unsigned int m_uLength;
                            14499 ; 137  |        unsigned int m_uMsg[MAX_MSG_LENGTH];
                            14500 ; 138  |};
                            14501 ; 139  |
                            14502 ; 140  |typedef struct {
                            14503 ; 141  |    WORD m_wLength;
                            14504 ; 142  |    WORD m_wMessage;
                            14505 ; 143  |    WORD m_wParams[MAX_MSG_LENGTH];
                            14506 ; 144  |} Message;
                            14507 ; 145  |
                            14508 ; 146  |struct MessageQueueDescriptor
                            14509 ; 147  |{
                            14510 ; 148  |        int *m_pBase;
                            14511 ; 149  |        int m_iModulo;
                            14512 ; 150  |        int m_iSize;
                            14513 ; 151  |        int *m_pHead;
                            14514 ; 152  |        int *m_pTail;
                            14515 ; 153  |};
                            14516 ; 154  |
                            14517 ; 155  |struct ModuleEntry
                            14518 ; 156  |{
                            14519 ; 157  |    int m_iSignaledEventMask;
                            14520 ; 158  |    int m_iWaitEventMask;
                            14521 ; 159  |    int m_iResourceOfCode;
                            14522 ; 160  |    struct MessageQueueDescriptor *m_pMessageQueue;
                            14523 ; 161  |    int _asmfunc (*m_pProcessEntryPoint)(union WaitMask Signals,struct MessageQueueDescrip
                                  tor *);
                            14524 ; 162  |    int _asmfunc (*m_pInitFunction)(struct MessageQueueDescriptor *);
                            14525 ; 163  |    int m_uTimeOutHigh;
                            14526 ; 164  |    int m_uTimeOutLow;
                            14527 ; 165  |    int _asmfunc (*m_pBackgroundFunction)(struct MessageQueueDescriptor *);
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 242

M:ADDR CODE           CYCLES LINE SOURCELINE
                            14528 ; 166  |};
                            14529 ; 167  |
                            14530 ; 168  |union WaitMask{
                            14531 ; 169  |    struct B{
                            14532 ; 170  |        unsigned int m_bNone     :1;
                            14533 ; 171  |        unsigned int m_bMessage  :1;
                            14534 ; 172  |        unsigned int m_bTimer    :1;
                            14535 ; 173  |        unsigned int m_bButton   :1;
                            14536 ; 174  |    } B;
                            14537 ; 175  |    int I;
                            14538 ; 176  |} ;
                            14539 ; 177  |
                            14540 ; 178  |
                            14541 ; 179  |struct Button {
                            14542 ; 180  |        WORD wButtonEvent;
                            14543 ; 181  |        WORD wUnused[MAX_MSG_LENGTH];   
                            14544 ; 182  |};
                            14545 ; 183  |
                            14546 ; 184  |struct Message {
                            14547 ; 185  |        WORD wMsgLength;
                            14548 ; 186  |        WORD wMsgCommand;
                            14549 ; 187  |        WORD wMsgParms[MAX_MSG_LENGTH-1];
                            14550 ; 188  |};
                            14551 ; 189  |
                            14552 ; 190  |union EventTypes {
                            14553 ; 191  |        struct CMessage msg;
                            14554 ; 192  |        struct Button Button ;
                            14555 ; 193  |        struct Message Message;
                            14556 ; 194  |};
                            14557 ; 195  |
                            14558 ; 196  |// next 2 used to get updater build to return correct protocol ver in scsi response.
                            14559 ; 197  |#define BUILD_TYPE_UPDATER  0x100
                            14560 ; 198  |#define BUILD_TYPE_HOSTLINK 0x101
                            14561 ; 199  |#define BUILD_TYPE_PLAYER   0x102
                            14562 ; 200  |
                            14563 ; 201  |// Resets part if RETAIL build. DEBUG build executes debug instruction to halt.
                            14564 ; 202  |#define SystemHalt() __asm(" include 'sysmacro.asm' \n error") 
                            14565 ; 203  |#define assert(x)    if(!(x)) __asm(" include 'sysmacro.asm' \n error")
                            14566 ; 204  |
                            14567 ; 205  |#if DEBUG
                            14568 ; 206  |// For DEBUG builds, DebugBuildAssert(condition) halts if condition evaluates to FALSE. 
                            14569 ; 207  |#define DebugBuildAssert(x)    if(!(x)) __asm(" debug ")
                            14570 ; 208  |#else 
                            14571 ; 209  |// For RETAIL builds, DebugBuildAssert(condition) does nothing & execution continues rathe
                                  r than halt or reset. 
                            14572 ; 210  |#define DebugBuildAssert(x)    
                            14573 ; 211  |#endif
                            14574 ; 212  |
                            14575 ; 213  |// Do this in your C files to make a reminder that's displayed during the build.
                            14576 ; 214  |//  #pragma asm
                            14577 ; 215  |//  WARN 'Note to builder: reminder to do this after verifying that'
                            14578 ; 216  |//  #pragma endasm
                            14579 ; 217  |
                            14580 ; 218  |
                            14581 ; 219  |#ifdef COLOR_262K
                            14582 ; 220  |#define RGB(r,g,b)    ((0x0000FC & (r)) << 10) | ((0x0000FC & (g)) << 4) | ((0x0000FC & (b
                                  )) >> 2)    //262k
                            14583 ; 221  |#elif defined(COLOR_65K)
                            14584 ; 222  |#define RGB(r,g,b)    ((0x0000F8 & (r)) << 8) | ((0x0000FC & (g)) << 3) | ((0x0000F8 & (b)
                                  ) >> 3)  //65k
                            14585 ; 223  |#else
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 243

M:ADDR CODE           CYCLES LINE SOURCELINE
                            14586 ; 224  |#define RGB(r,g,b)       ((0x0000F0 & (r)) << 4) | (0x0000F0 & (g)) | ((0x0000F0 & (b)) >>
                                   4)
                            14587 ; 225  |#endif
                            14588 ; 226  |    
                            14589 ; 227  |#endif // #ifndef _TYPES_H
                            14590 
                            14592 
                            14593 ; 29   |
                            14594 ; 30   |//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                            14595 ; 31   |//   TIMER STMP Registers 
                            14596 ; 32   |//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                            14597 ; 33   |#define HW_TMR_BASEADDR (0xF100)
                            14598 ; 34   |
                            14599 ; 35   |#define HW_TMR0_BASEADDR HW_TMR_BASEADDR
                            14600 ; 36   |#define HW_TMR1_BASEADDR HW_TMR_BASEADDR+0x40
                            14601 ; 37   |#define HW_TMR2_BASEADDR HW_TMR_BASEADDR+0x80
                            14602 ; 38   |#define HW_TMR3_BASEADDR HW_TMR_BASEADDR+0xC0
                            14603 ; 39   |
                            14604 ; 40   |#define HW_TIMER_NUMBER_0 0
                            14605 ; 41   |#define HW_TIMER_NUMBER_1 1
                            14606 ; 42   |#define HW_TIMER_NUMBER_2 2
                            14607 ; 43   |#define HW_TIMER_NUMBER_3 3
                            14608 ; 44   |
                            14609 ; 45   |#define HW_TMRCSR 0
                            14610 ; 46   |#define HW_TMRCNTR 1
                            14611 ; 47   |
                            14612 ; 48   |
                            14613 ; 49   |/////////////////////////////////////////////////////////////////////////////////
                            14614 ; 50   |//  TIMER CSR (HW_TMR0CSR) Bit Definitions
                            14615 ; 51   |#define HW_TMR0CSR_TIMER_ENABLE_BITPOS (0)
                            14616 ; 52   |#define HW_TMR0CSR_TIMER_INT_EN_BITPOS (1)
                            14617 ; 53   |#define HW_TMR0CSR_INVERT_BITPOS (2)
                            14618 ; 54   |#define HW_TMR0CSR_TIMER_CONTROL_BITPOS (3)
                            14619 ; 55   |#define HW_TMR0CSR_TIMER_STATUS_BITPOS (7)
                            14620 ; 56   |#define HW_TMR0CSR_TIMER_MODE_BITPOS (8)
                            14621 ; 57   |#define HW_TMR0CSR_CLKGT_BITPOS (23)
                            14622 ; 58   |
                            14623 ; 59   |#define HW_TMR0CSR_TIMER_ENABLE_WIDTH (1)
                            14624 ; 60   |#define HW_TMR0CSR_TIMER_INT_EN_WIDTH (1)
                            14625 ; 61   |#define HW_TMR0CSR_INVERT_WIDTH (1)
                            14626 ; 62   |#define HW_TMR0CSR_TIMER_CONTROL_WIDTH (3)
                            14627 ; 63   |#define HW_TMR0CSR_TIMER_STATUS_WIDTH (1)
                            14628 ; 64   |#define HW_TMR0CSR_TIMER_MODE_WIDTH (2)
                            14629 ; 65   |#define HW_TMR0CSR_CLKGT_WIDTH (1)
                            14630 ; 66   |
                            14631 ; 67   |#define HW_TMR0CSR_TIMER_ENABLE_SETMASK (((1<<HW_TMR0CSR_TIMER_ENABLE_WIDTH)-1)<<HW_TMR0CS
                                  R_TIMER_ENABLE_BITPOS)
                            14632 ; 68   |#define HW_TMR0CSR_TIMER_INT_EN_SETMASK (((1<<HW_TMR0CSR_TIMER_INT_EN_WIDTH)-1)<<HW_TMR0CS
                                  R_TIMER_INT_EN_BITPOS)
                            14633 ; 69   |#define HW_TMR0CSR_INVERT_SETMASK (((1<<HW_TMR0CSR_INVERT_WIDTH)-1)<<HW_TMR0CSR_INVERT_BIT
                                  POS)
                            14634 ; 70   |#define HW_TMR0CSR_TIMER_CONTROL_SETMASK (((1<<HW_TMR0CSR_TIMER_CONTROL_WIDTH)-1)<<HW_TMR0
                                  CSR_TIMER_CONTROL_BITPOS)
                            14635 ; 71   |#define HW_TMR0CSR_TIMER_STATUS_SETMASK (((1<<HW_TMR0CSR_TIMER_STATUS_WIDTH)-1)<<HW_TMR0CS
                                  R_TIMER_STATUS_BITPOS)
                            14636 ; 72   |#define HW_TMR0CSR_TIMER_MODE_SETMASK (((1<<HW_TMR0CSR_TIMER_MODE_WIDTH)-1)<<HW_TMR0CSR_TI
                                  MER_MODE_BITPOS)
                            14637 ; 73   |#define HW_TMR0CSR_CLKGT_SETMASK (((1<<HW_TMR0CSR_CLKGT_WIDTH)-1)<<HW_TMR0CSR_CLKGT_BITPOS
                                  )
                            14638 ; 74   |
                            14639 ; 75   |#define HW_TMR0CSR_TIMER_ENABLE_CLRMASK (~(WORD)HW_TMR0CSR_TIMER_ENABLE_SETMASK)
                            14640 ; 76   |#define HW_TMR0CSR_TIMER_INT_EN_CLRMASK (~(WORD)HW_TMR0CSR_TIMER_INT_EN_SETMASK)
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 244

M:ADDR CODE           CYCLES LINE SOURCELINE
                            14641 ; 77   |#define HW_TMR0CSR_INVERT_CLRMASK (~(WORD)HW_TMR0CSR_INVERT_SETMASK)
                            14642 ; 78   |#define HW_TMR0CSR_TIMER_CONTROL_CLRMASK (~(WORD)HW_TMR0CSR_TIMER_CONTROL_SETMASK)
                            14643 ; 79   |#define HW_TMR0CSR_TIMER_STATUS_CLRMASK (~(WORD)HW_TMR0CSR_TIMER_STATUS_SETMASK)
                            14644 ; 80   |#define HW_TMR0CSR_TIMER_MODE_CLRMASK (~(WORD)HW_TMR0CSR_TIMER_MODE_SETMASK)
                            14645 ; 81   |#define HW_TMR0CSR_CLKGT_CLRMASK (~(WORD)HW_TMR0CSR_CLKGT_SETMASK)
                            14646 ; 82   |
                            14647 ; 83   |/////////////////////////////////////////////////////////////////////////////////
                            14648 ; 84   |//  TIMER CSR (HW_TMR1CSR) Bit Definitions
                            14649 ; 85   |#define HW_TMR1CSR_TIMER_ENABLE_BITPOS (0)
                            14650 ; 86   |#define HW_TMR1CSR_TIMER_INT_EN_BITPOS (1)
                            14651 ; 87   |#define HW_TMR1CSR_INVERT_BITPOS (2)
                            14652 ; 88   |#define HW_TMR1CSR_TIMER_CONTROL_BITPOS (3)
                            14653 ; 89   |#define HW_TMR1CSR_TIMER_STATUS_BITPOS (7)
                            14654 ; 90   |#define HW_TMR1CSR_TIMER_MODE_BITPOS (8)
                            14655 ; 91   |#define HW_TMR1CSR_CLKGT_BITPOS (23)
                            14656 ; 92   |
                            14657 ; 93   |#define HW_TMR1CSR_TIMER_ENABLE_WIDTH (1)
                            14658 ; 94   |#define HW_TMR1CSR_TIMER_INT_EN_WIDTH (1)
                            14659 ; 95   |#define HW_TMR1CSR_INVERT_WIDTH (1)
                            14660 ; 96   |#define HW_TMR1CSR_TIMER_CONTROL_WIDTH (3)
                            14661 ; 97   |#define HW_TMR1CSR_TIMER_STATUS_WIDTH (1)
                            14662 ; 98   |#define HW_TMR1CSR_TIMER_MODE_WIDTH (2)
                            14663 ; 99   |#define HW_TMR1CSR_CLKGT_WIDTH (1)
                            14664 ; 100  |
                            14665 ; 101  |#define HW_TMR1CSR_TIMER_ENABLE_SETMASK (((1<<HW_TMR1CSR_TIMER_ENABLE_WIDTH)-1)<<HW_TMR1CS
                                  R_TIMER_ENABLE_BITPOS)
                            14666 ; 102  |#define HW_TMR1CSR_TIMER_INT_EN_SETMASK (((1<<HW_TMR1CSR_TIMER_INT_EN_WIDTH)-1)<<HW_TMR1CS
                                  R_TIMER_INT_EN_BITPOS)
                            14667 ; 103  |#define HW_TMR1CSR_INVERT_SETMASK (((1<<HW_TMR1CSR_INVERT_WIDTH)-1)<<HW_TMR1CSR_INVERT_BIT
                                  POS)
                            14668 ; 104  |#define HW_TMR1CSR_TIMER_CONTROL_SETMASK (((1<<HW_TMR1CSR_TIMER_CONTROL_WIDTH)-1)<<HW_TMR1
                                  CSR_TIMER_CONTROL_BITPOS)
                            14669 ; 105  |#define HW_TMR1CSR_TIMER_STATUS_SETMASK (((1<<HW_TMR1CSR_TIMER_STATUS_WIDTH)-1)<<HW_TMR1CS
                                  R_TIMER_STATUS_BITPOS)
                            14670 ; 106  |#define HW_TMR1CSR_TIMER_MODE_SETMASK (((1<<HW_TMR1CSR_TIMER_MODE_WIDTH)-1)<<HW_TMR1CSR_TI
                                  MER_MODE_BITPOS)
                            14671 ; 107  |#define HW_TMR1CSR_CLKGT_SETMASK (((1<<HW_TMR1CSR_CLKGT_WIDTH)-1)<<HW_TMR1CSR_CLKGT_BITPOS
                                  )
                            14672 ; 108  |
                            14673 ; 109  |#define HW_TMR1CSR_TIMER_ENABLE_CLRMASK (~(WORD)HW_TMR1CSR_TIMER_ENABLE_SETMASK)
                            14674 ; 110  |#define HW_TMR1CSR_TIMER_INT_EN_CLRMASK (~(WORD)HW_TMR1CSR_TIMER_INT_EN_SETMASK)
                            14675 ; 111  |#define HW_TMR1CSR_INVERT_CLRMASK (~(WORD)HW_TMR1CSR_INVERT_SETMASK)
                            14676 ; 112  |#define HW_TMR1CSR_TIMER_CONTROL_CLRMASK (~(WORD)HW_TMR1CSR_TIMER_CONTROL_SETMASK)
                            14677 ; 113  |#define HW_TMR1CSR_TIMER_STATUS_CLRMASK (~(WORD)HW_TMR1CSR_TIMER_STATUS_SETMASK)
                            14678 ; 114  |#define HW_TMR1CSR_TIMER_MODE_CLRMASK (~(WORD)HW_TMR1CSR_TIMER_MODE_SETMASK)
                            14679 ; 115  |#define HW_TMR1CSR_CLKGT_CLRMASK (~(WORD)HW_TMR1CSR_CLKGT_SETMASK)
                            14680 ; 116  |
                            14681 ; 117  |/////////////////////////////////////////////////////////////////////////////////
                            14682 ; 118  |//  TIMER CSR (HW_TMR2CSR) Bit Definitions
                            14683 ; 119  |#define HW_TMR2CSR_TIMER_ENABLE_BITPOS (0)
                            14684 ; 120  |#define HW_TMR2CSR_TIMER_INT_EN_BITPOS (1)
                            14685 ; 121  |#define HW_TMR2CSR_INVERT_BITPOS (2)
                            14686 ; 122  |#define HW_TMR2CSR_TIMER_CONTROL_BITPOS (3)
                            14687 ; 123  |#define HW_TMR2CSR_TIMER_STATUS_BITPOS (7)
                            14688 ; 124  |#define HW_TMR2CSR_TIMER_MODE_BITPOS (8)
                            14689 ; 125  |#define HW_TMR2CSR_CLKGT_BITPOS (23)
                            14690 ; 126  |
                            14691 ; 127  |#define HW_TMR2CSR_TIMER_ENABLE_WIDTH (1)
                            14692 ; 128  |#define HW_TMR2CSR_TIMER_INT_EN_WIDTH (1)
                            14693 ; 129  |#define HW_TMR2CSR_INVERT_WIDTH (1)
                            14694 ; 130  |#define HW_TMR2CSR_TIMER_CONTROL_WIDTH (3)
                            14695 ; 131  |#define HW_TMR2CSR_TIMER_STATUS_WIDTH (1)
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 245

M:ADDR CODE           CYCLES LINE SOURCELINE
                            14696 ; 132  |#define HW_TMR2CSR_TIMER_MODE_WIDTH (2)
                            14697 ; 133  |#define HW_TMR2CSR_CLKGT_WIDTH (1)
                            14698 ; 134  |
                            14699 ; 135  |#define HW_TMR2CSR_TIMER_ENABLE_SETMASK (((1<<HW_TMR2CSR_TIMER_ENABLE_WIDTH)-1)<<HW_TMR2CS
                                  R_TIMER_ENABLE_BITPOS)
                            14700 ; 136  |#define HW_TMR2CSR_TIMER_INT_EN_SETMASK (((1<<HW_TMR2CSR_TIMER_INT_EN_WIDTH)-1)<<HW_TMR2CS
                                  R_TIMER_INT_EN_BITPOS)
                            14701 ; 137  |#define HW_TMR2CSR_INVERT_SETMASK (((1<<HW_TMR2CSR_INVERT_WIDTH)-1)<<HW_TMR2CSR_INVERT_BIT
                                  POS)
                            14702 ; 138  |#define HW_TMR2CSR_TIMER_CONTROL_SETMASK (((1<<HW_TMR2CSR_TIMER_CONTROL_WIDTH)-1)<<HW_TMR2
                                  CSR_TIMER_CONTROL_BITPOS)
                            14703 ; 139  |#define HW_TMR2CSR_TIMER_STATUS_SETMASK (((1<<HW_TMR2CSR_TIMER_STATUS_WIDTH)-1)<<HW_TMR2CS
                                  R_TIMER_STATUS_BITPOS)
                            14704 ; 140  |#define HW_TMR2CSR_TIMER_MODE_SETMASK (((1<<HW_TMR2CSR_TIMER_MODE_WIDTH)-1)<<HW_TMR2CSR_TI
                                  MER_MODE_BITPOS)
                            14705 ; 141  |#define HW_TMR2CSR_CLKGT_SETMASK (((1<<HW_TMR2CSR_CLKGT_WIDTH)-1)<<HW_TMR2CSR_CLKGT_BITPOS
                                  )
                            14706 ; 142  |
                            14707 ; 143  |#define HW_TMR2CSR_TIMER_ENABLE_CLRMASK (~(WORD)HW_TMR2CSR_TIMER_ENABLE_SETMASK)
                            14708 ; 144  |#define HW_TMR2CSR_TIMER_INT_EN_CLRMASK (~(WORD)HW_TMR2CSR_TIMER_INT_EN_SETMASK)
                            14709 ; 145  |#define HW_TMR2CSR_INVERT_CLRMASK (~(WORD)HW_TMR2CSR_INVERT_SETMASK)
                            14710 ; 146  |#define HW_TMR2CSR_TIMER_CONTROL_CLRMASK (~(WORD)HW_TMR2CSR_TIMER_CONTROL_SETMASK)
                            14711 ; 147  |#define HW_TMR2CSR_TIMER_STATUS_CLRMASK (~(WORD)HW_TMR2CSR_TIMER_STATUS_SETMASK)
                            14712 ; 148  |#define HW_TMR2CSR_TIMER_MODE_CLRMASK (~(WORD)HW_TMR2CSR_TIMER_MODE_SETMASK)
                            14713 ; 149  |#define HW_TMR2CSR_CLKGT_CLRMASK (~(WORD)HW_TMR2CSR_CLKGT_SETMASK)
                            14714 ; 150  |
                            14715 ; 151  |/////////////////////////////////////////////////////////////////////////////////
                            14716 ; 152  |//  TIMER CSR (HW_TMR3CSR) Bit Definitions
                            14717 ; 153  |#define HW_TMR3CSR_TIMER_ENABLE_BITPOS (0)
                            14718 ; 154  |#define HW_TMR3CSR_TIMER_INT_EN_BITPOS (1)
                            14719 ; 155  |#define HW_TMR3CSR_INVERT_BITPOS (2)
                            14720 ; 156  |#define HW_TMR3CSR_TIMER_CONTROL_BITPOS (3)
                            14721 ; 157  |#define HW_TMR3CSR_TIMER_STATUS_BITPOS (7)
                            14722 ; 158  |#define HW_TMR3CSR_TIMER_MODE_BITPOS (8)
                            14723 ; 159  |#define HW_TMR3CSR_CLKGT_BITPOS (23)
                            14724 ; 160  |
                            14725 ; 161  |#define HW_TMR3CSR_TIMER_ENABLE_WIDTH (1)
                            14726 ; 162  |#define HW_TMR3CSR_TIMER_INT_EN_WIDTH (1)
                            14727 ; 163  |#define HW_TMR3CSR_INVERT_WIDTH (1)
                            14728 ; 164  |#define HW_TMR3CSR_TIMER_CONTROL_WIDTH (3)
                            14729 ; 165  |#define HW_TMR3CSR_TIMER_STATUS_WIDTH (1)
                            14730 ; 166  |#define HW_TMR3CSR_TIMER_MODE_WIDTH (2)
                            14731 ; 167  |#define HW_TMR3CSR_CLKGT_WIDTH (1)
                            14732 ; 168  |
                            14733 ; 169  |#define HW_TMR3CSR_TIMER_ENABLE_SETMASK (((1<<HW_TMR3CSR_TIMER_ENABLE_WIDTH)-1)<<HW_TMR3CS
                                  R_TIMER_ENABLE_BITPOS)
                            14734 ; 170  |#define HW_TMR3CSR_TIMER_INT_EN_SETMASK (((1<<HW_TMR3CSR_TIMER_INT_EN_WIDTH)-1)<<HW_TMR3CS
                                  R_TIMER_INT_EN_BITPOS)
                            14735 ; 171  |#define HW_TMR3CSR_INVERT_SETMASK (((1<<HW_TMR3CSR_INVERT_WIDTH)-1)<<HW_TMR3CSR_INVERT_BIT
                                  POS)
                            14736 ; 172  |#define HW_TMR3CSR_TIMER_CONTROL_SETMASK (((1<<HW_TMR3CSR_TIMER_CONTROL_WIDTH)-1)<<HW_TMR3
                                  CSR_TIMER_CONTROL_BITPOS)
                            14737 ; 173  |#define HW_TMR3CSR_TIMER_STATUS_SETMASK (((1<<HW_TMR3CSR_TIMER_STATUS_WIDTH)-1)<<HW_TMR3CS
                                  R_TIMER_STATUS_BITPOS)
                            14738 ; 174  |#define HW_TMR3CSR_TIMER_MODE_SETMASK (((1<<HW_TMR3CSR_TIMER_MODE_WIDTH)-1)<<HW_TMR3CSR_TI
                                  MER_MODE_BITPOS)
                            14739 ; 175  |#define HW_TMR3CSR_CLKGT_SETMASK (((1<<HW_TMR3CSR_CLKGT_WIDTH)-1)<<HW_TMR3CSR_CLKGT_BITPOS
                                  )
                            14740 ; 176  |
                            14741 ; 177  |#define HW_TMR3CSR_TIMER_ENABLE_CLRMASK (~(WORD)HW_TMR3CSR_TIMER_ENABLE_SETMASK)
                            14742 ; 178  |#define HW_TMR3CSR_TIMER_INT_EN_CLRMASK (~(WORD)HW_TMR3CSR_TIMER_INT_EN_SETMASK)
                            14743 ; 179  |#define HW_TMR3CSR_INVERT_CLRMASK (~(WORD)HW_TMR3CSR_INVERT_SETMASK)
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 246

M:ADDR CODE           CYCLES LINE SOURCELINE
                            14744 ; 180  |#define HW_TMR3CSR_TIMER_CONTROL_CLRMASK (~(WORD)HW_TMR3CSR_TIMER_CONTROL_SETMASK)
                            14745 ; 181  |#define HW_TMR3CSR_TIMER_STATUS_CLRMASK (~(WORD)HW_TMR3CSR_TIMER_STATUS_SETMASK)
                            14746 ; 182  |#define HW_TMR3CSR_TIMER_MODE_CLRMASK (~(WORD)HW_TMR3CSR_TIMER_MODE_SETMASK)
                            14747 ; 183  |#define HW_TMR3CSR_CLKGT_CLRMASK (~(WORD)HW_TMR3CSR_CLKGT_SETMASK)
                            14748 ; 184  |
                            14749 ; 185  |typedef union               
                            14750 ; 186  |{
                            14751 ; 187  |    struct {
                            14752 ; 188  |       int TIMER_ENABLE              :1;
                            14753 ; 189  |       int TIMER_INT_EN              :1;
                            14754 ; 190  |       int INVERT                    :1;
                            14755 ; 191  |       int TIMER_CONTROL             :3;
                            14756 ; 192  |       int RSVD0                     :1;
                            14757 ; 193  |       int TIMER_STATUS              :1;
                            14758 ; 194  |       int TIMER_MODE                :2;
                            14759 ; 195  |       int RSVD1                     :13;
                            14760 ; 196  |       int CLKGT                     :1;
                            14761 ; 197  |    } B;
                            14762 ; 198  |    int I;
                            14763 ; 199  |} timercsr_type;
                            14764 ; 200  |#define HW_TMR0CSR        (*(volatile timercsr_type _X*) (HW_TMR0_BASEADDR+HW_TMRCSR))  /*
                                   Timer0 Control Status Register */
                            14765 ; 201  |#define HW_TMR1CSR        (*(volatile timercsr_type _X*) (HW_TMR1_BASEADDR+HW_TMRCSR))  /*
                                   Timer1 Control Status Register */
                            14766 ; 202  |#define HW_TMR2CSR        (*(volatile timercsr_type _X*) (HW_TMR2_BASEADDR+HW_TMRCSR))  /*
                                   Timer2 Control Status Register */
                            14767 ; 203  |#define HW_TMR3CSR        (*(volatile timercsr_type _X*) (HW_TMR3_BASEADDR+HW_TMRCSR))  /*
                                   Timer3 Control Status Register */
                            14768 ; 204  |
                            14769 ; 205  |/////////////////////////////////////////////////////////////////////////////////
                            14770 ; 206  |//  TIMER CNTR register (HW_TMR0CNTR) Bit Definitions
                            14771 ; 207  |#define HW_TMR0CNTR_COUNT_BITPOS 0
                            14772 ; 208  |#define HW_TMR0CNTR_COUNT_WIDTH 24
                            14773 ; 209  |#define HW_TMR0CNTR_COUNT_SETMASK (((1<<HW_TMR0CNTR_COUNT_WIDTH)-1)<<HW_TMR0CNTR_COUNT_BIT
                                  POS)
                            14774 ; 210  |#define HW_TMR0CNTR_COUNT_CLRMASK (~(WORD)HW_TMR0CNTR_COUNT_SETMASK)
                            14775 ; 211  |
                            14776 ; 212  |/////////////////////////////////////////////////////////////////////////////////
                            14777 ; 213  |//  TIMER CNTR register (HW_TMR1CNTR) Bit Definitions
                            14778 ; 214  |#define HW_TMR1CNTR_COUNT_BITPOS 0
                            14779 ; 215  |#define HW_TMR1CNTR_COUNT_WIDTH 24
                            14780 ; 216  |#define HW_TMR1CNTR_COUNT_SETMASK (((1<<HW_TMR1CNTR_COUNT_WIDTH)-1)<<HW_TMR1CNTR_COUNT_BIT
                                  POS)
                            14781 ; 217  |#define HW_TMR1CNTR_COUNT_CLRMASK (~(WORD)HW_TMR1CNTR_COUNT_SETMASK)
                            14782 ; 218  |
                            14783 ; 219  |/////////////////////////////////////////////////////////////////////////////////
                            14784 ; 220  |//  TIMER CNTR register (HW_TMR2CNTR) Bit Definitions
                            14785 ; 221  |#define HW_TMR2CNTR_COUNT_BITPOS 0
                            14786 ; 222  |#define HW_TMR2CNTR_COUNT_WIDTH 24
                            14787 ; 223  |#define HW_TMR2CNTR_COUNT_SETMASK (((1<<HW_TMR2CNTR_COUNT_WIDTH)-1)<<HW_TMR2CNTR_COUNT_BIT
                                  POS)
                            14788 ; 224  |#define HW_TMR2CNTR_COUNT_CLRMASK (~(WORD)HW_TMR2CNTR_COUNT_SETMASK)
                            14789 ; 225  |
                            14790 ; 226  |typedef union               
                            14791 ; 227  |{
                            14792 ; 228  |    struct {
                            14793 ; 229  |       int COUNT                    :24;
                            14794 ; 230  |    } B;
                            14795 ; 231  |    int I;
                            14796 ; 232  |} tmrcntr_type;
                            14797 ; 233  |#define HW_TMR0CNTR        (*(volatile tmrcntr_type _X*) (HW_TMR0_BASEADDR+HW_TMRCNTR))  /
                                  * Timer0 Count Register */
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 247

M:ADDR CODE           CYCLES LINE SOURCELINE
                            14798 ; 234  |#define HW_TMR1CNTR        (*(volatile tmrcntr_type _X*) (HW_TMR1_BASEADDR+HW_TMRCNTR))  /
                                  * Timer1 Count Register */
                            14799 ; 235  |#define HW_TMR2CNTR        (*(volatile tmrcntr_type _X*) (HW_TMR2_BASEADDR+HW_TMRCNTR))  /
                                  * Timer2 Count Register */
                            14800 ; 236  |#define HW_TMR3CNTR        (*(volatile tmrcntr_type _X*) (HW_TMR3_BASEADDR+HW_TMRCNTR))  /
                                  * Timer3 Count Register */
                            14801 ; 237  |
                            14802 ; 238  |
                            14803 ; 239  |//*********************  REGISTER ALIAS DEFINES TO MATCH LEGACY CODE *********************
                                  **********
                            14804 ; 240  |// The following defines were added to match regs3410.inc definition to build SDK2XXX code
                                   without needing 
                            14805 ; 241  |// to update the actual files. Only the defines needed to build SDK2.400 were added.   
                            14806 ; 242  |#define HW_TIMER_BASEADDR 0xF100
                            14807 ; 243  |
                            14808 ; 244  |#define HW_TIMER0_BASEADDR HW_TIMER_BASEADDR
                            14809 ; 245  |#define HW_TIMER1_BASEADDR HW_TIMER0_BASEADDR+0x40
                            14810 ; 246  |#define HW_TIMER2_BASEADDR HW_TIMER1_BASEADDR+0x40
                            14811 ; 247  |#define HW_TIMER3_BASEADDR HW_TIMER2_BASEADDR+0x40
                            14812 ; 248  |
                            14813 ; 249  |#define HW_TMR0CR HW_TMR0_BASEADDR
                            14814 ; 250  |#define HW_TMR1CR HW_TMR1_BASEADDR
                            14815 ; 251  |#define HW_TMR2CR HW_TMR2_BASEADDR
                            14816 ; 252  |#define HW_TMR3CR HW_TIMER3_BASEADDR
                            14817 ; 253  |
                            14818 ; 254  |// Timer enable
                            14819 ; 255  |#define HW_TMRCR_TE_BITPOS 0   
                            14820 ; 256  |// Timer clock gating control
                            14821 ; 257  |#define HW_TMR3CR_CG_BITPOS 23  
                            14822 ; 258  |#define HW_TMR3CR_CG_SETMASK 1<<HW_TMR3CR_CG_BITPOS
                            14823 ; 259  |#define HW_TMR3CR_CG_CLRMASK ~(WORD)HW_TMR3CR_CG_SETMASK
                            14824 ; 260  |#endif
                            14825 ; 261  |
                            14826 ; 262  |
                            14827 ; 263  |
                            14828 ; 264  |
                            14829 
                            14831 
                            14832 ; 36   |#include "regsusb20.h"
                            14833 
                            14835 
                            14836 ; 1    |//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                            14837 ; 2    |//;  Copyright(C) SigmaTel, Inc. 2002-2003
                            14838 ; 3    |//;  File        : regsusb20ip.inc
                            14839 ; 4    |//;  Description : USB20 IP Register definition
                            14840 ; 5    |//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                            14841 ; 6    |
                            14842 ; 7    |// The following naming conventions are followed in this file.
                            14843 ; 8    |// All registers are named using the format...
                            14844 ; 9    |//     HW_<module>_<regname>
                            14845 ; 10   |// where <module> is the module name which can be any of the following...
                            14846 ; 11   |//     USB20
                            14847 ; 12   |// (Note that when there is more than one copy of a particular module, the
                            14848 ; 13   |// module name includes a number starting from 0 for the first instance of
                            14849 ; 14   |// that module)
                            14850 ; 15   |// <regname> is the specific register within that module
                            14851 ; 16   |// We also define the following...
                            14852 ; 17   |//     HW_<module>_<regname>_BITPOS
                            14853 ; 18   |// which defines the starting bit (i.e. LSB) of a multi bit field
                            14854 ; 19   |//     HW_<module>_<regname>_SETMASK
                            14855 ; 20   |// which does something else, and
                            14856 ; 21   |//     HW_<module>_<regname>_CLRMASK
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 248

M:ADDR CODE           CYCLES LINE SOURCELINE
                            14857 ; 22   |// which does something else.
                            14858 ; 23   |// Other rules
                            14859 ; 24   |//     All caps
                            14860 ; 25   |//     Numeric identifiers start at 0
                            14861 ; 26   |
                            14862 ; 27   |#if !(defined(regsusb20inc))
                            14863 ; 28   |#define regsusb20inc 1
                            14864 ; 29   |
                            14865 ; 30   |#include "types.h"
                            14866 
                            14868 
                            14869 ; 1    |////////////////////////////////////////////////////////////////////////////////
                            14870 ; 2    |// Copyright(C) SigmaTel, Inc. 2000-2004
                            14871 ; 3    |//
                            14872 ; 4    |// Filename: types.h
                            14873 ; 5    |// Description: Standard data types
                            14874 ; 6    |////////////////////////////////////////////////////////////////////////////////
                            14875 ; 7    |
                            14876 ; 8    |#ifndef _TYPES_H
                            14877 ; 9    |#define _TYPES_H
                            14878 ; 10   |
                            14879 ; 11   |// TODO:  move this outta here!
                            14880 ; 12   |#if !defined(NOERROR)
                            14881 ; 13   |#define NOERROR 0
                            14882 ; 14   |#define SUCCESS 0
                            14883 ; 15   |#endif 
                            14884 ; 16   |#if !defined(SUCCESS)
                            14885 ; 17   |#define SUCCESS  0
                            14886 ; 18   |#endif
                            14887 ; 19   |#if !defined(ERROR)
                            14888 ; 20   |#define ERROR   -1
                            14889 ; 21   |#endif
                            14890 ; 22   |#if !defined(FALSE)
                            14891 ; 23   |#define FALSE 0
                            14892 ; 24   |#endif
                            14893 ; 25   |#if !defined(TRUE)
                            14894 ; 26   |#define TRUE  1
                            14895 ; 27   |#endif
                            14896 ; 28   |
                            14897 ; 29   |#if !defined(NULL)
                            14898 ; 30   |#define NULL 0
                            14899 ; 31   |#endif
                            14900 ; 32   |
                            14901 ; 33   |#define MAX_INT     0x7FFFFF
                            14902 ; 34   |#define MAX_LONG    0x7FFFFFffffff
                            14903 ; 35   |        // max positive unsigned long value: -1 == 0xFFFFFFffffff
                            14904 ; 36   |#define MAX_ULONG   (-1) 
                            14905 ; 37   |
                            14906 ; 38   |#define WORD_SIZE   24              // word size in bits
                            14907 ; 39   |#define BYTES_PER_WORD 3            // 8 bit bytes
                            14908 ; 40   |
                            14909 ; 41   |
                            14910 ; 42   |#define BYTE    unsigned char       // btVarName
                            14911 ; 43   |#define CHAR    signed char         // cVarName
                            14912 ; 44   |#define USHORT  unsigned short      // usVarName
                            14913 ; 45   |#define SHORT   unsigned short      // sVarName
                            14914 ; 46   |#define WORD    unsigned int        // wVarName
                            14915 ; 47   |#define INT     signed int          // iVarName
                            14916 ; 48   |#define DWORD   unsigned long       // dwVarName
                            14917 ; 49   |#define LONG    signed long         // lVarName
                            14918 ; 50   |#define BOOL    unsigned int        // bVarName
                            14919 ; 51   |#define FRACT   _fract              // frVarName
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 249

M:ADDR CODE           CYCLES LINE SOURCELINE
                            14920 ; 52   |#define LFRACT  long _fract         // lfrVarName
                            14921 ; 53   |#define CIRC    _circ               // cp<type prefix>VarName (see below)
                            14922 ; 54   |#define FLOAT   float               // fVarName
                            14923 ; 55   |#define DBL     double              // dVarName
                            14924 ; 56   |#define ENUM    enum                // eVarName
                            14925 ; 57   |#define CMX     _complex            // cmxVarName
                            14926 ; 58   |typedef WORD UCS3;                   // 
                            14927 ; 59   |
                            14928 ; 60   |#define UINT16  unsigned short
                            14929 ; 61   |#define UINT8   unsigned char   
                            14930 ; 62   |#define UINT32  unsigned long
                            14931 ; 63   |#define UINT64  unsigned long   // need to figure out how to do 64 bit values.  Or port ex
                                  isiting code to only use 48 bit
                            14932 ; 64   |#define INT64   unsigned long   // need to figure out how to do 64 bit values.  Or port ex
                                  isiting code to only use 48 bit
                            14933 ; 65   |#define WCHAR   UINT16
                            14934 ; 66   |
                            14935 ; 67   |//UINT128 is 16 bytes or 6 words
                            14936 ; 68   |typedef struct UINT128_3500 {   
                            14937 ; 69   |    int val[6];     
                            14938 ; 70   |} UINT128_3500;
                            14939 ; 71   |
                            14940 ; 72   |#define UINT128   UINT128_3500
                            14941 ; 73   |
                            14942 ; 74   |// Little endian word packed byte strings:   
                            14943 ; 75   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                            14944 ; 76   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                            14945 ; 77   |// Little endian word packed byte strings:   
                            14946 ; 78   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                            14947 ; 79   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                            14948 ; 80   |
                            14949 ; 81   |// Declare Memory Spaces To Use When Coding
                            14950 ; 82   |// A. Sector Buffers
                            14951 ; 83   |#define SECTOR_BUFFER_MEM_X _X
                            14952 ; 84   |#define SECTOR_BUFFER_MEM_Y _Y
                            14953 ; 85   |#define SECTOR_BUFFER_MEM SECTOR_BUFFER_MEM_X
                            14954 ; 86   |typedef WORD SECTOR_BUFFER_MEM SECTOR_BUFFER;
                            14955 ; 87   |typedef SECTOR_BUFFER * P_SECTOR_BUFFER;
                            14956 ; 88   |// B. Media DDI Memory
                            14957 ; 89   |#define MEDIA_DDI_MEM _Y
                            14958 ; 90   |
                            14959 ; 91   |
                            14960 ; 92   |
                            14961 ; 93   |// Pointers to linear structures are labeled as: p<type prefix>VarName
                            14962 ; 94   |// Examples of circular pointers:
                            14963 ; 95   |//    INT CIRC cpiVarName
                            14964 ; 96   |//    DWORD CIRC cpdwVarName
                            14965 ; 97   |
                            14966 ; 98   |#define RETCODE INT                 // rcVarName
                            14967 ; 99   |
                            14968 ; 100  |// generic bitfield structure
                            14969 ; 101  |struct Bitfield {
                            14970 ; 102  |    unsigned int B0  :1;
                            14971 ; 103  |    unsigned int B1  :1;
                            14972 ; 104  |    unsigned int B2  :1;
                            14973 ; 105  |    unsigned int B3  :1;
                            14974 ; 106  |    unsigned int B4  :1;
                            14975 ; 107  |    unsigned int B5  :1;
                            14976 ; 108  |    unsigned int B6  :1;
                            14977 ; 109  |    unsigned int B7  :1;
                            14978 ; 110  |    unsigned int B8  :1;
                            14979 ; 111  |    unsigned int B9  :1;
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 250

M:ADDR CODE           CYCLES LINE SOURCELINE
                            14980 ; 112  |    unsigned int B10 :1;
                            14981 ; 113  |    unsigned int B11 :1;
                            14982 ; 114  |    unsigned int B12 :1;
                            14983 ; 115  |    unsigned int B13 :1;
                            14984 ; 116  |    unsigned int B14 :1;
                            14985 ; 117  |    unsigned int B15 :1;
                            14986 ; 118  |    unsigned int B16 :1;
                            14987 ; 119  |    unsigned int B17 :1;
                            14988 ; 120  |    unsigned int B18 :1;
                            14989 ; 121  |    unsigned int B19 :1;
                            14990 ; 122  |    unsigned int B20 :1;
                            14991 ; 123  |    unsigned int B21 :1;
                            14992 ; 124  |    unsigned int B22 :1;
                            14993 ; 125  |    unsigned int B23 :1;
                            14994 ; 126  |};
                            14995 ; 127  |
                            14996 ; 128  |union BitInt {
                            14997 ; 129  |        struct Bitfield B;
                            14998 ; 130  |        int        I;
                            14999 ; 131  |};
                            15000 ; 132  |
                            15001 ; 133  |#define MAX_MSG_LENGTH 10
                            15002 ; 134  |struct CMessage
                            15003 ; 135  |{
                            15004 ; 136  |        unsigned int m_uLength;
                            15005 ; 137  |        unsigned int m_uMsg[MAX_MSG_LENGTH];
                            15006 ; 138  |};
                            15007 ; 139  |
                            15008 ; 140  |typedef struct {
                            15009 ; 141  |    WORD m_wLength;
                            15010 ; 142  |    WORD m_wMessage;
                            15011 ; 143  |    WORD m_wParams[MAX_MSG_LENGTH];
                            15012 ; 144  |} Message;
                            15013 ; 145  |
                            15014 ; 146  |struct MessageQueueDescriptor
                            15015 ; 147  |{
                            15016 ; 148  |        int *m_pBase;
                            15017 ; 149  |        int m_iModulo;
                            15018 ; 150  |        int m_iSize;
                            15019 ; 151  |        int *m_pHead;
                            15020 ; 152  |        int *m_pTail;
                            15021 ; 153  |};
                            15022 ; 154  |
                            15023 ; 155  |struct ModuleEntry
                            15024 ; 156  |{
                            15025 ; 157  |    int m_iSignaledEventMask;
                            15026 ; 158  |    int m_iWaitEventMask;
                            15027 ; 159  |    int m_iResourceOfCode;
                            15028 ; 160  |    struct MessageQueueDescriptor *m_pMessageQueue;
                            15029 ; 161  |    int _asmfunc (*m_pProcessEntryPoint)(union WaitMask Signals,struct MessageQueueDescrip
                                  tor *);
                            15030 ; 162  |    int _asmfunc (*m_pInitFunction)(struct MessageQueueDescriptor *);
                            15031 ; 163  |    int m_uTimeOutHigh;
                            15032 ; 164  |    int m_uTimeOutLow;
                            15033 ; 165  |    int _asmfunc (*m_pBackgroundFunction)(struct MessageQueueDescriptor *);
                            15034 ; 166  |};
                            15035 ; 167  |
                            15036 ; 168  |union WaitMask{
                            15037 ; 169  |    struct B{
                            15038 ; 170  |        unsigned int m_bNone     :1;
                            15039 ; 171  |        unsigned int m_bMessage  :1;
                            15040 ; 172  |        unsigned int m_bTimer    :1;
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 251

M:ADDR CODE           CYCLES LINE SOURCELINE
                            15041 ; 173  |        unsigned int m_bButton   :1;
                            15042 ; 174  |    } B;
                            15043 ; 175  |    int I;
                            15044 ; 176  |} ;
                            15045 ; 177  |
                            15046 ; 178  |
                            15047 ; 179  |struct Button {
                            15048 ; 180  |        WORD wButtonEvent;
                            15049 ; 181  |        WORD wUnused[MAX_MSG_LENGTH];   
                            15050 ; 182  |};
                            15051 ; 183  |
                            15052 ; 184  |struct Message {
                            15053 ; 185  |        WORD wMsgLength;
                            15054 ; 186  |        WORD wMsgCommand;
                            15055 ; 187  |        WORD wMsgParms[MAX_MSG_LENGTH-1];
                            15056 ; 188  |};
                            15057 ; 189  |
                            15058 ; 190  |union EventTypes {
                            15059 ; 191  |        struct CMessage msg;
                            15060 ; 192  |        struct Button Button ;
                            15061 ; 193  |        struct Message Message;
                            15062 ; 194  |};
                            15063 ; 195  |
                            15064 ; 196  |// next 2 used to get updater build to return correct protocol ver in scsi response.
                            15065 ; 197  |#define BUILD_TYPE_UPDATER  0x100
                            15066 ; 198  |#define BUILD_TYPE_HOSTLINK 0x101
                            15067 ; 199  |#define BUILD_TYPE_PLAYER   0x102
                            15068 ; 200  |
                            15069 ; 201  |// Resets part if RETAIL build. DEBUG build executes debug instruction to halt.
                            15070 ; 202  |#define SystemHalt() __asm(" include 'sysmacro.asm' \n error") 
                            15071 ; 203  |#define assert(x)    if(!(x)) __asm(" include 'sysmacro.asm' \n error")
                            15072 ; 204  |
                            15073 ; 205  |#if DEBUG
                            15074 ; 206  |// For DEBUG builds, DebugBuildAssert(condition) halts if condition evaluates to FALSE. 
                            15075 ; 207  |#define DebugBuildAssert(x)    if(!(x)) __asm(" debug ")
                            15076 ; 208  |#else 
                            15077 ; 209  |// For RETAIL builds, DebugBuildAssert(condition) does nothing & execution continues rathe
                                  r than halt or reset. 
                            15078 ; 210  |#define DebugBuildAssert(x)    
                            15079 ; 211  |#endif
                            15080 ; 212  |
                            15081 ; 213  |// Do this in your C files to make a reminder that's displayed during the build.
                            15082 ; 214  |//  #pragma asm
                            15083 ; 215  |//  WARN 'Note to builder: reminder to do this after verifying that'
                            15084 ; 216  |//  #pragma endasm
                            15085 ; 217  |
                            15086 ; 218  |
                            15087 ; 219  |#ifdef COLOR_262K
                            15088 ; 220  |#define RGB(r,g,b)    ((0x0000FC & (r)) << 10) | ((0x0000FC & (g)) << 4) | ((0x0000FC & (b
                                  )) >> 2)    //262k
                            15089 ; 221  |#elif defined(COLOR_65K)
                            15090 ; 222  |#define RGB(r,g,b)    ((0x0000F8 & (r)) << 8) | ((0x0000FC & (g)) << 3) | ((0x0000F8 & (b)
                                  ) >> 3)  //65k
                            15091 ; 223  |#else
                            15092 ; 224  |#define RGB(r,g,b)       ((0x0000F0 & (r)) << 4) | (0x0000F0 & (g)) | ((0x0000F0 & (b)) >>
                                   4)
                            15093 ; 225  |#endif
                            15094 ; 226  |    
                            15095 ; 227  |#endif // #ifndef _TYPES_H
                            15096 
                            15098 
                            15099 ; 31   |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 252

M:ADDR CODE           CYCLES LINE SOURCELINE
                            15100 ; 32   |//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                            15101 ; 33   |//   USB2.0 STMP Registers 
                            15102 ; 34   |//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                            15103 ; 35   |#define HW_USB_BASEADDR (0xF200)
                            15104 ; 36   |
                            15105 ; 37   |
                            15106 ; 38   |/////////////////////////////////////////////////////////////////////////////////
                            15107 ; 39   |//  USB Control Status Register (HW_USBCSR) Bit Definitions
                            15108 ; 40   |#define HW_USBCSR_USBEN_BITPOS (0)
                            15109 ; 41   |#define HW_USBCSR_WAKEUPIRQ_BITPOS (1)
                            15110 ; 42   |#define HW_USBCSR_WAKEUPIE_BITPOS (2)
                            15111 ; 43   |#define HW_USBCSR_VBUSCXIRQ_BITPOS (3)
                            15112 ; 44   |#define HW_USBCSR_VBUSCXIE_BITPOS (4)
                            15113 ; 45   |#define HW_USBCSR_VBUSDISCXIRQ_BITPOS (5)
                            15114 ; 46   |#define HW_USBCSR_VBUSDISCXIE_BITPOS (6)
                            15115 ; 47   |#define HW_USBCSR_CLKOFF_BITPOS (7)
                            15116 ; 48   |#define HW_USBCSR_SUSP_BITPOS (8)
                            15117 ; 49   |#define HW_USBCSR_SUSPF_BITPOS (9)
                            15118 ; 50   |#define HW_USBCSR_UTMITST_BITPOS (10)
                            15119 ; 51   |#define HW_USBCSR_UTMI_EXT_BITPOS (11)
                            15120 ; 52   |#define HW_USBCSR_PLUGGEDIN_EN_BITPOS (12)
                            15121 ; 53   |#define HW_USBCSR_PLUGGEDIN_BITPOS (13)
                            15122 ; 54   |#define HW_USBCSR_HOSTDISCONNECT_BITPOS (22)
                            15123 ; 55   |#define HW_USBCSR_VBUSSENSE_BITPOS (23)
                            15124 ; 56   |
                            15125 ; 57   |#define HW_USBCSR_USBEN_SETMASK (1<<HW_USBCSR_USBEN_BITPOS)        
                            15126 ; 58   |#define HW_USBCSR_WAKEUPIRQ_SETMASK (1<<HW_USBCSR_WAKEUPIRQ_BITPOS) 
                            15127 ; 59   |#define HW_USBCSR_WAKEUPIE_SETMASK (1<<HW_USBCSR_WAKEUPIE_BITPOS)  
                            15128 ; 60   |#define HW_USBCSR_VBUSCXIRQ_SETMASK (1<<HW_USBCSR_VBUSCXIRQ_BITPOS)
                            15129 ; 61   |#define HW_USBCSR_VBUSCXIE_SETMASK (1<<HW_USBCSR_VBUSCXIE_BITPOS)
                            15130 ; 62   |#define HW_USBCSR_VBUSDISCXIRQ_SETMASK (1<<HW_USBCSR_VBUSDISCXIRQ_BITPOS)
                            15131 ; 63   |#define HW_USBCSR_VBUSDISCXIE_SETMASK (1<<HW_USBCSR_VBUSDISCXIE_BITPOS)
                            15132 ; 64   |#define HW_USBCSR_CLKOFF_SETMASK (1<<HW_USBCSR_CLKOFF_BITPOS)    
                            15133 ; 65   |#define HW_USBCSR_SUSP_SETMASK (1<<HW_USBCSR_SUSP_BITPOS)      
                            15134 ; 66   |#define HW_USBCSR_SUSPF_SETMASK (1<<HW_USBCSR_SUSPF_BITPOS)     
                            15135 ; 67   |#define HW_USBCSR_UTMITST_SETMASK (1<<HW_USBCSR_UTMITST_BITPOS)   
                            15136 ; 68   |#define HW_USBCSR_UTMI_EXT_SETMASK (1<<HW_USBCSR_UTMI_EXT_BITPOS)
                            15137 ; 69   |#define HW_USBCSR_VBUSSENSE_SETMASK (1<<HW_USBCSR_VBUSSENSE_BITPOS)
                            15138 ; 70   |
                            15139 ; 71   |
                            15140 ; 72   |#define HW_USBCSR_USBEN_CLRMASK (~(WORD)HW_USBCSR_USBEN_SETMASK)     
                            15141 ; 73   |#define HW_USBCSR_WAKEUPIRQ_CLRMASK (~(WORD)HW_USBCSR_WAKEUPIRQ_SETMASK) 
                            15142 ; 74   |#define HW_USBCSR_WAKEUPIE_CLRMASK (~(WORD)HW_USBCSR_WAKEUPIE_SETMASK)  
                            15143 ; 75   |#define HW_USBCSR_VBUSCXIRQ_CLRMASK (~(WORD)HW_USBCSR_VBUSCXIRQ_SETMASK)
                            15144 ; 76   |#define HW_USBCSR_VBUSCXIE_CLRMASK (~(WORD)HW_USBCSR_VBUSCXIE_SETMASK)
                            15145 ; 77   |#define HW_USBCSR_VBUSDISCXIRQ_CLRMASK (~(WORD)HW_USBCSR_VBUSDISCXIRQ_SETMASK)
                            15146 ; 78   |#define HW_USBCSR_VBUSDISCXIE_CLRMASK (~(WORD)HW_USBCSR_VBUSDISCXIE_SETMASK) 
                            15147 ; 79   |#define HW_USBCSR_CLKOFF_CLRMASK (~(WORD)HW_USBCSR_CLKOFF_SETMASK)    
                            15148 ; 80   |#define HW_USBCSR_SUSP_CLRMASK (~(WORD)HW_USBCSR_SUSP_SETMASK)      
                            15149 ; 81   |#define HW_USBCSR_SUSPF_CLRMASK (~(WORD)HW_USBCSR_SUSPF_SETMASK)     
                            15150 ; 82   |#define HW_USBCSR_UTMITST_CLRMASK (~(WORD)HW_USBCSR_UTMITST_SETMASK)   
                            15151 ; 83   |#define HW_USBCSR_UTMI_EXT_CLRMASK (~(WORD)HW_USBCSR_UTMI_EXT_SETMASK) 
                            15152 ; 84   |#define HW_USBCSR_VBUSSENSE_CLRMASK (~(WORD)HW_USBCSR_VBUSSENSE_SETMASK) 
                            15153 ; 85   |
                            15154 ; 86   |typedef union               
                            15155 ; 87   |{
                            15156 ; 88   |    struct {
                            15157 ; 89   |        int USBEN          :1;
                            15158 ; 90   |        int WAKEUPIRQ      :1;
                            15159 ; 91   |        int WAKEUPIE       :1;
                            15160 ; 92   |        int VBUSCXIRQ      :1;
                            15161 ; 93   |        int VBUSCXIE       :1;
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 253

M:ADDR CODE           CYCLES LINE SOURCELINE
                            15162 ; 94   |        int VBUSDISCXIRQ   :1;
                            15163 ; 95   |        int VBUSDISCXIE    :1;
                            15164 ; 96   |        int CLKOFF         :1;
                            15165 ; 97   |        int SUSP           :1;
                            15166 ; 98   |        int SUSPF          :1;
                            15167 ; 99   |        int UTMITST        :1;
                            15168 ; 100  |        int ARCCONNECT     :1;
                            15169 ; 101  |        int PLUGGEDIN_EN   :1;
                            15170 ; 102  |        int PLUGGEDIN      :1;
                            15171 ; 103  |        int                :8;
                            15172 ; 104  |        int HOSTDISCONNECT :1;
                            15173 ; 105  |        int VBUSSENSE      :1;
                            15174 ; 106  |    } B;
                            15175 ; 107  |    int I;
                            15176 ; 108  |} usbcsr_type;
                            15177 ; 109  |#define HW_USBCSR      (*(volatile usbcsr_type _X*) (HW_USB_BASEADDR))    /* USB Control /
                                   Status Register */
                            15178 ; 110  |
                            15179 ; 111  |/////////////////////////////////////////////////////////////////////////////////
                            15180 ; 112  |//  USB DMA OFFSET register (HW_USBDMAOFF) Bit Definitions
                            15181 ; 113  |#define HW_USBDMAOFF_MEM_BITPOS (16)
                            15182 ; 114  |
                            15183 ; 115  |#define HW_USBDMAOFF_ADD_SETMASK (0x00FFFF)
                            15184 ; 116  |#define HW_USBDMAOFF_MEM_SETMASK (3<<HW_USBDMAOFF_MEM_BITPOS)
                            15185 ; 117  |
                            15186 ; 118  |#define HW_USBDMAOFF_ADD_CLRMASK (~(WORD)HW_USBDMAOFF_ADD_SETMASK)
                            15187 ; 119  |#define HW_USBDMAOFF_MEM_CLRMASK (~(WORD)HW_USBDMAOFF_MEM_SETMASK)
                            15188 ; 120  |
                            15189 ; 121  |typedef union               
                            15190 ; 122  |{
                            15191 ; 123  |    struct {
                            15192 ; 124  |        int ADD            :16;
                            15193 ; 125  |        int MEM            :2;
                            15194 ; 126  |        int                :6;
                            15195 ; 127  |    } B;
                            15196 ; 128  |    int I;
                            15197 ; 129  |} usbdmaoff_type;
                            15198 ; 130  |#define HW_USBDMAOFF      (*(volatile usbdmaoff_type _X*) (HW_USB_BASEADDR+1))    
                            15199 ; 131  |
                            15200 ; 132  |/////////////////////////////////////////////////////////////////////////////////
                            15201 ; 133  |//  USB ARC ACCESS register (HW_USBARCACCESS) Bit Definitions
                            15202 ; 134  |#define HW_USBARCACCESS_RWB_BITPOS (16)
                            15203 ; 135  |#define HW_USBARCACCESS_KICK_BITPOS (23)
                            15204 ; 136  |
                            15205 ; 137  |#define HW_USBARCACCESS_ADD_SETMASK (0x0001FF)
                            15206 ; 138  |#define HW_USBARCACCESS_RWB_SETMASK (1<<HW_USBARCACCESS_RWB_BITPOS)
                            15207 ; 139  |#define HW_USBARCACCESS_KICK_SETMASK (23<<HW_USBDMAOFF_MEM_BITPOS)
                            15208 ; 140  |
                            15209 ; 141  |#define HW_USBARCACCESS_ADD_CLRMASK (~(WORD)HW_USBARCACCESS_ADD_SETMASK)
                            15210 ; 142  |#define HW_USBARCACCESS_RWB_CLRMASK (~(WORD)HW_USBARCACCESS_RWB_SETMASK) 
                            15211 ; 143  |#define HW_USBARCACCESS_KICK_CLRMASK (~(WORD)HW_USBARCACCESS_KICK_SETMASK)
                            15212 ; 144  |
                            15213 ; 145  |typedef union               
                            15214 ; 146  |{
                            15215 ; 147  |    struct {
                            15216 ; 148  |        int ADD            :9;
                            15217 ; 149  |        int                :7;
                            15218 ; 150  |        int RWB            :1;
                            15219 ; 151  |        int                :14;
                            15220 ; 152  |        int KICK           :1;
                            15221 ; 153  |    } B;
                            15222 ; 154  |    int I;
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 254

M:ADDR CODE           CYCLES LINE SOURCELINE
                            15223 ; 155  |} usbarcaccess_type;
                            15224 ; 156  |#define HW_USBARCACCESS      (*(volatile usbarcaccess_type _X*) (HW_USB_BASEADDR+2))    
                            15225 ; 157  |
                            15226 ; 158  |/////////////////////////////////////////////////////////////////////////////////
                            15227 ; 159  |//  USB ARC DATA LOW register (HW_USBARCDATALOW) Bit Definitions
                            15228 ; 160  |#define HW_USBARCDATALOW_DATA_SETMASK (0x00FFFF)
                            15229 ; 161  |
                            15230 ; 162  |#define HW_USBARCDATALOW_ADD_CLRMASK (~(WORD)HW_USBARCDATALOW_DATA_SETMASK)
                            15231 ; 163  |
                            15232 ; 164  |typedef union               
                            15233 ; 165  |{
                            15234 ; 166  |    struct {
                            15235 ; 167  |        int DATA           :16;
                            15236 ; 168  |        int                :8;
                            15237 ; 169  |    } B;
                            15238 ; 170  |    int I;
                            15239 ; 171  |} usbarcdatalow_type;
                            15240 ; 172  |#define HW_USBARCDATALOW      (*(volatile usbarcdatalow_type _X*) (HW_USB_BASEADDR+3))    
                                  
                            15241 ; 173  |
                            15242 ; 174  |/////////////////////////////////////////////////////////////////////////////////
                            15243 ; 175  |//  USB ARC DATA HIGH register (HW_USBARCDATAHIGH) Bit Definitions
                            15244 ; 176  |#define HW_USBARCDATAHIGH_DATA_SETMASK (0x00FFFF)
                            15245 ; 177  |
                            15246 ; 178  |#define HW_USBARCDATAHIGH_ADD_CLRMASK (~(WORD)HW_USBARCDATAHIGH_DATA_SETMASK)
                            15247 ; 179  |
                            15248 ; 180  |typedef union               
                            15249 ; 181  |{
                            15250 ; 182  |    struct {
                            15251 ; 183  |        int DATA           :16;
                            15252 ; 184  |        int                :8;
                            15253 ; 185  |    } B;
                            15254 ; 186  |    int I;
                            15255 ; 187  |} usbarcdatahigh_type;
                            15256 ; 188  |#define HW_USBARCDATAHIGH     (*(volatile usbarcdatahigh_type _X*) (HW_USB_BASEADDR+4))   
                                   
                            15257 ; 189  |
                            15258 ; 190  |
                            15259 ; 191  |//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                            15260 ; 192  |//   USB2.0 ARC Registers 
                            15261 ; 193  |//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                            15262 ; 194  |#define HW_ARC_BASE_ADDR (0x0000)
                            15263 ; 195  |
                            15264 ; 196  |#define HW_ARC_HCSPARAMS (HW_ARC_BASE_ADDR+0x104)
                            15265 ; 197  |#define HW_ARC_USBCMD (HW_ARC_BASE_ADDR+0x140)
                            15266 ; 198  |#define HW_ARC_USBSTS (HW_ARC_BASE_ADDR+0x144)
                            15267 ; 199  |#define HW_ARC_USBINTR (HW_ARC_BASE_ADDR+0x148)
                            15268 ; 200  |#define HW_ARC_DEVADDR (HW_ARC_BASE_ADDR+0x154)
                            15269 ; 201  |#define HW_ARC_ENDPTLISTADDR (HW_ARC_BASE_ADDR+0x158)
                            15270 ; 202  |#define HW_ARC_PORTSC1 (HW_ARC_BASE_ADDR+0x184)
                            15271 ; 203  |#define HW_ARC_USBMODE (HW_ARC_BASE_ADDR+0x1a8)
                            15272 ; 204  |#define HW_ARC_ENDPTSETUPSTAT (HW_ARC_BASE_ADDR+0x1ac)
                            15273 ; 205  |#define HW_ARC_ENDPTPRIME (HW_ARC_BASE_ADDR+0x1b0)
                            15274 ; 206  |#define HW_ARC_ENDPTFLUSH (HW_ARC_BASE_ADDR+0x1b4)
                            15275 ; 207  |#define HW_ARC_ENDPTSTATUS (HW_ARC_BASE_ADDR+0x1b8)
                            15276 ; 208  |#define HW_ARC_ENDPTCOMPLETE (HW_ARC_BASE_ADDR+0x1bc)
                            15277 ; 209  |#define HW_ARC_ENDPTCTRL0 (HW_ARC_BASE_ADDR+0x1c0)
                            15278 ; 210  |#define HW_ARC_ENDPTCTRL1 (HW_ARC_BASE_ADDR+0x1c4)
                            15279 ; 211  |#define HW_ARC_ENDPTCTRL2 (HW_ARC_BASE_ADDR+0x1c8)
                            15280 ; 212  |#define HW_ARC_ENDPTCTRL3 (HW_ARC_BASE_ADDR+0x1cc)
                            15281 ; 213  |#define HW_ARC_ENDPTCTRL4 (HW_ARC_BASE_ADDR+0x1d0)
                            15282 ; 214  |#define HW_ARC_ENDPTCTRL5 (HW_ARC_BASE_ADDR+0x1d4)
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 255

M:ADDR CODE           CYCLES LINE SOURCELINE
                            15283 ; 215  |#define HW_ARC_ENDPTCTRL6 (HW_ARC_BASE_ADDR+0x1d8)
                            15284 ; 216  |#define HW_ARC_ENDPTCTRL7 (HW_ARC_BASE_ADDR+0x1dc)
                            15285 ; 217  |#define HW_ARC_ENDPTCTRL8 (HW_ARC_BASE_ADDR+0x1e0)
                            15286 ; 218  |#define HW_ARC_ENDPTCTRL9 (HW_ARC_BASE_ADDR+0x1e4)
                            15287 ; 219  |#define HW_ARC_ENDPTCTRL10 (HW_ARC_BASE_ADDR+0x1e8)
                            15288 ; 220  |#define HW_ARC_ENDPTCTRL11 (HW_ARC_BASE_ADDR+0x1ec)
                            15289 ; 221  |#define HW_ARC_ENDPTCTRL12 (HW_ARC_BASE_ADDR+0x1f0)
                            15290 ; 222  |#define HW_ARC_ENDPTCTRL13 (HW_ARC_BASE_ADDR+0x1f4)
                            15291 ; 223  |#define HW_ARC_ENDPTCTRL14 (HW_ARC_BASE_ADDR+0x1f8)
                            15292 ; 224  |#define HW_ARC_ENDPTCTRL15 (HW_ARC_BASE_ADDR+0x1fc)
                            15293 ; 225  |
                            15294 ; 226  |#define HW_ARC_ENDPTCTRL(n) (HW_ARC_ENDPTCTRL0+((n)*4))    
                            15295 ; 227  |/////////////////////////////////////////////////////////////////////////////////
                            15296 ; 228  |//  USB ARC Register Host Control Structural Parameters (HW_ARC_HCSPARAMS)
                            15297 ; 229  |
                            15298 ; 230  |#define HW_ARC_HCSPARAMS_NPORTS_BITPOS (0)
                            15299 ; 231  |#define HW_ARC_HCSPARAMS_PPC_BITPOS (4)
                            15300 ; 232  |#define HW_ARC_HCSPARAMS_NPCC_BITPOS (8)
                            15301 ; 233  |#define HW_ARC_HCSPARAMS_NCC_BITPOS (12)
                            15302 ; 234  |#define HW_ARC_HCSPARAMS_PI_BITPOS (16)
                            15303 ; 235  |#define HW_ARC_HCSPARAMS_NPTT_BITPOS (20)
                            15304 ; 236  |#define HW_ARC_HCSPARAMS_NTT_BITPOS (24)
                            15305 ; 237  |
                            15306 ; 238  |#define HW_ARC_HCSPARAMS_NPORTS_SETMASK (15<<HW_ARC_HCSPARAMS_NPORTS_BITPOS)
                            15307 ; 239  |#define HW_ARC_HCSPARAMS_PPC_SETMASK (1<<HW_ARC_HCSPARAMS_PPC_BITPOS)        
                            15308 ; 240  |#define HW_ARC_HCSPARAMS_NPCC_SETMASK (15<<HW_ARC_HCSPARAMS_NPCC_BITPOS)  
                            15309 ; 241  |#define HW_ARC_HCSPARAMS_NCC_SETMASK (15<<HW_ARC_HCSPARAMS_NCC_BITPOS)       
                            15310 ; 242  |#define HW_ARC_HCSPARAMS_PI_SETMASK (1<<HW_ARC_HCSPARAMS_PI_BITPOS)     
                            15311 ; 243  |#define HW_ARC_HCSPARAMS_NPTT_SETMASK (15<<HW_ARC_HCSPARAMS_NPTT_BITPOS)  
                            15312 ; 244  |#define HW_ARC_HCSPARAMS_NTT_SETMASK (15<<HW_ARC_HCSPARAMS_NTT_BITPOS)       
                            15313 ; 245  |
                            15314 ; 246  |#define HW_ARC_HCSPARAMS_NPORTS_CLRMASK (~(WORD)HW_ARC_HCSPARAMS_NPORTS_SETMASK)
                            15315 ; 247  |#define HW_ARC_HCSPARAMS_PPC_CLRMASK (~(WORD)HW_ARC_HCSPARAMS_PPC_SETMASK)
                            15316 ; 248  |#define HW_ARC_HCSPARAMS_NPCC_CLRMASK (~(WORD)HW_ARC_HCSPARAMS_NPCC_SETMASK)
                            15317 ; 249  |#define HW_ARC_HCSPARAMS_NCC_CLRMASK (~(WORD)HW_ARC_HCSPARAMS_NCC_SETMASK)
                            15318 ; 250  |#define HW_ARC_HCSPARAMS_PI_CLRMASK (~(WORD)HW_ARC_HCSPARAMS_PI_SETMASK)  
                            15319 ; 251  |#define HW_ARC_HCSPARAMS_NPTT_CLRMASK (~(WORD)HW_ARC_HCSPARAMS_NPTT_SETMASK)
                            15320 ; 252  |#define HW_ARC_HCSPARAMS_NTT_CLRMASK (~(WORD)HW_ARC_HCSPARAMS_NTT_SETMASK)
                            15321 ; 253  |
                            15322 ; 254  |typedef union               
                            15323 ; 255  |{
                            15324 ; 256  |    struct {
                            15325 ; 257  |        int N_PORTS         :4;
                            15326 ; 258  |        int PPC             :1;
                            15327 ; 259  |        int                 :3;
                            15328 ; 260  |        int N_PCC           :4;
                            15329 ; 261  |        int N_CC            :4;
                            15330 ; 262  |        int PI              :1;
                            15331 ; 263  |        int                 :3;
                            15332 ; 264  |        int N_PTT           :4;
                            15333 ; 265  |        int N_TT            :4;
                            15334 ; 266  |        int                 :20;
                            15335 ; 267  |    } B;
                            15336 ; 268  |    DWORD I;
                            15337 ; 269  |} hcsparams_type;
                            15338 ; 270  |// #define HW_ARC_HCSPARAMS (*(volatile hcsparams_type _X*) (HW_ARC_BASEADDR))    
                            15339 ; 271  |
                            15340 ; 272  |/////////////////////////////////////////////////////////////////////////////////
                            15341 ; 273  |//  USB ARC Register USB Command (HW_ARC_USBCMD)
                            15342 ; 274  |
                            15343 ; 275  |#define HW_ARC_USBCMD_RS_BITPOS (0)
                            15344 ; 276  |#define HW_ARC_USBCMD_RST_BITPOS (1)
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 256

M:ADDR CODE           CYCLES LINE SOURCELINE
                            15345 ; 277  |#define HW_ARC_USBCMD_FS0_BITPOS (2)
                            15346 ; 278  |#define HW_ARC_USBCMD_FS1_BITPOS (3)
                            15347 ; 279  |#define HW_ARC_USBCMD_PSE_BITPOS (4)
                            15348 ; 280  |#define HW_ARC_USBCMD_ASE_BITPOS (5)
                            15349 ; 281  |#define HW_ARC_USBCMD_IAA_BITPOS (6)
                            15350 ; 282  |#define HW_ARC_USBCMD_LR_BITPOS (7)
                            15351 ; 283  |#define HW_ARC_USBCMD_ASP0_BITPOS (8)
                            15352 ; 284  |#define HW_ARC_USBCMD_ASP1_BITPOS (9)
                            15353 ; 285  |#define HW_ARC_USBCMD_ASPE_BITPOS (11)
                            15354 ; 286  |#define HW_ARC_USBCMD_FS2_BITPOS (15)
                            15355 ; 287  |#define HW_ARC_USBCMD_ITC_BITPOS (16)
                            15356 ; 288  |
                            15357 ; 289  |#define HW_ARC_USBCMD_RS_SETMASK (1<<HW_ARC_USBCMD_RS_BITPOS)                
                            15358 ; 290  |#define HW_ARC_USBCMD_RST_SETMASK (1<<HW_ARC_USBCMD_RST_BITPOS)   
                            15359 ; 291  |#define HW_ARC_USBCMD_FS0_SETMASK (1<<HW_ARC_USBCMD_FS0_BITPOS)   
                            15360 ; 292  |#define HW_ARC_USBCMD_FS1_SETMASK (1<<HW_ARC_USBCMD_FS1_BITPOS)   
                            15361 ; 293  |#define HW_ARC_USBCMD_PSE_SETMASK (1<<HW_ARC_USBCMD_PSE_BITPOS)   
                            15362 ; 294  |#define HW_ARC_USBCMD_ASE_SETMASK (1<<HW_ARC_USBCMD_ASE_BITPOS)   
                            15363 ; 295  |#define HW_ARC_USBCMD_IAA_SETMASK (1<<HW_ARC_USBCMD_IAA_BITPOS)   
                            15364 ; 296  |#define HW_ARC_USBCMD_LR_SETMASK (1<<HW_ARC_USBCMD_LR_BITPOS)        
                            15365 ; 297  |#define HW_ARC_USBCMD_ASP0_SETMASK (1<<HW_ARC_USBCMD_ASP0_BITPOS)
                            15366 ; 298  |#define HW_ARC_USBCMD_ASP1_SETMASK (1<<HW_ARC_USBCMD_ASP1_BITPOS)
                            15367 ; 299  |#define HW_ARC_USBCMD_ASPE_SETMASK (1<<HW_ARC_USBCMD_ASPE_BITPOS)
                            15368 ; 300  |#define HW_ARC_USBCMD_FS2_SETMASK (1<<HW_ARC_USBCMD_FS2_BITPOS)    
                            15369 ; 301  |#define HW_ARC_USBCMD_ITC_SETMASK (255<<HW_ARC_USBCMD_ITC_BITPOS)
                            15370 ; 302  |
                            15371 ; 303  |#define HW_ARC_USBCMD_RS_CLRMASK (~(WORD)HW_ARC_USBCMD_RS_SETMASK)     
                            15372 ; 304  |#define HW_ARC_USBCMD_RST_CLRMASK (~(WORD)HW_ARC_USBCMD_RST_SETMASK)    
                            15373 ; 305  |#define HW_ARC_USBCMD_FS0_CLRMASK (~(WORD)HW_ARC_USBCMD_FS0_SETMASK)    
                            15374 ; 306  |#define HW_ARC_USBCMD_FS1_CLRMASK (~(WORD)HW_ARC_USBCMD_FS1_SETMASK)    
                            15375 ; 307  |#define HW_ARC_USBCMD_PSE_CLRMASK (~(WORD)HW_ARC_USBCMD_PSE_SETMASK)    
                            15376 ; 308  |#define HW_ARC_USBCMD_ASE_CLRMASK (~(WORD)HW_ARC_USBCMD_ASE_SETMASK)    
                            15377 ; 309  |#define HW_ARC_USBCMD_IAA_CLRMASK (~(WORD)HW_ARC_USBCMD_IAA_SETMASK)    
                            15378 ; 310  |#define HW_ARC_USBCMD_LR_CLRMASK (~(WORD)HW_ARC_USBCMD_LR_SETMASK) 
                            15379 ; 311  |#define HW_ARC_USBCMD_ASP0_CLRMASK (~(WORD)HW_ARC_USBCMD_ASP0_SETMASK)
                            15380 ; 312  |#define HW_ARC_USBCMD_ASP1_CLRMASK (~(WORD)HW_ARC_USBCMD_ASP1_SETMASK)
                            15381 ; 313  |#define HW_ARC_USBCMD_ASPE_CLRMASK (~(WORD)HW_ARC_USBCMD_ASPE_SETMASK)
                            15382 ; 314  |#define HW_ARC_USBCMD_FS2_CLRMASK (~(WORD)HW_ARC_USBCMD_FS2_SETMASK)    
                            15383 ; 315  |#define HW_ARC_USBCMD_ITC_CLRMASK (~(WORD)HW_ARC_USBCMD_ITC_SETMASK)    
                            15384 ; 316  |
                            15385 ; 317  |typedef union               
                            15386 ; 318  |{
                            15387 ; 319  |    struct {
                            15388 ; 320  |        int RS              :1;
                            15389 ; 321  |        int RST             :1;
                            15390 ; 322  |        int FS0             :1;
                            15391 ; 323  |        int FS1             :1;
                            15392 ; 324  |        int PSE             :1;
                            15393 ; 325  |        int ASE             :1;
                            15394 ; 326  |        int IAA             :1;
                            15395 ; 327  |        int LR              :1;
                            15396 ; 328  |        int ASP0            :1;
                            15397 ; 329  |        int ASP1            :1;
                            15398 ; 330  |        int                 :1;
                            15399 ; 331  |        int ASPE            :1;
                            15400 ; 332  |        int                 :3;
                            15401 ; 333  |        int FS2             :1;
                            15402 ; 334  |        int ITC             :8;
                            15403 ; 335  |        int                 :24;
                            15404 ; 336  |    } B;
                            15405 ; 337  |    DWORD I;
                            15406 ; 338  |} usbcmd_type;
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 257

M:ADDR CODE           CYCLES LINE SOURCELINE
                            15407 ; 339  |//#define HW_ARC_USBCMD ((volatile usbcmd_type _X*) (HW_ARC_BASEADDR+0x140))    
                            15408 ; 340  |
                            15409 ; 341  |/////////////////////////////////////////////////////////////////////////////////
                            15410 ; 342  |//  USB ARC Register USB Status (HW_ARC_USBSTS)
                            15411 ; 343  |
                            15412 ; 344  |#define HW_ARC_USBSTS_UI_BITPOS (0)
                            15413 ; 345  |#define HW_ARC_USBSTS_UEI_BITPOS (1)
                            15414 ; 346  |#define HW_ARC_USBSTS_PCI_BITPOS (2)
                            15415 ; 347  |#define HW_ARC_USBSTS_FRI_BITPOS (3)
                            15416 ; 348  |#define HW_ARC_USBSTS_SEI_BITPOS (4)
                            15417 ; 349  |#define HW_ARC_USBSTS_AAI_BITPOS (5)
                            15418 ; 350  |#define HW_ARC_USBSTS_URI_BITPOS (6)
                            15419 ; 351  |#define HW_ARC_USBSTS_SRI_BITPOS (7)
                            15420 ; 352  |#define HW_ARC_USBSTS_SLI_BITPOS (8)
                            15421 ; 353  |#define HW_ARC_USBSTS_HCH_BITPOS (12)
                            15422 ; 354  |#define HW_ARC_USBSTS_RCL_BITPOS (13)
                            15423 ; 355  |#define HW_ARC_USBSTS_PS_BITPOS (14)
                            15424 ; 356  |#define HW_ARC_USBSTS_AS_BITPOS (15)
                            15425 ; 357  |
                            15426 ; 358  |#define HW_ARC_USBSTS_UI_SETMASK (1<<HW_ARC_USBSTS_UI_BITPOS)    
                            15427 ; 359  |#define HW_ARC_USBSTS_UEI_SETMASK (1<<HW_ARC_USBSTS_UEI_BITPOS)
                            15428 ; 360  |#define HW_ARC_USBSTS_PCI_SETMASK (1<<HW_ARC_USBSTS_PCI_BITPOS)
                            15429 ; 361  |#define HW_ARC_USBSTS_FRI_SETMASK (1<<HW_ARC_USBSTS_FRI_BITPOS)
                            15430 ; 362  |#define HW_ARC_USBSTS_SEI_SETMASK (1<<HW_ARC_USBSTS_SEI_BITPOS)
                            15431 ; 363  |#define HW_ARC_USBSTS_AAI_SETMASK (1<<HW_ARC_USBSTS_AAI_BITPOS)
                            15432 ; 364  |#define HW_ARC_USBSTS_URI_SETMASK (1<<HW_ARC_USBSTS_URI_BITPOS)
                            15433 ; 365  |#define HW_ARC_USBSTS_SRI_SETMASK (1<<HW_ARC_USBSTS_SRI_BITPOS)
                            15434 ; 366  |#define HW_ARC_USBSTS_SLI_SETMASK (1<<HW_ARC_USBSTS_SLI_BITPOS)
                            15435 ; 367  |#define HW_ARC_USBSTS_HCH_SETMASK (1<<HW_ARC_USBSTS_HCH_BITPOS)
                            15436 ; 368  |#define HW_ARC_USBSTS_RCL_SETMASK (1<<HW_ARC_USBSTS_RCL_BITPOS)
                            15437 ; 369  |#define HW_ARC_USBSTS_PS_SETMASK (1<<HW_ARC_USBSTS_PS_BITPOS)    
                            15438 ; 370  |#define HW_ARC_USBSTS_AS_SETMASK (1<<HW_ARC_USBSTS_AS_BITPOS)    
                            15439 ; 371  |
                            15440 ; 372  |#define HW_ARC_USBSTS_UI_CLRMASK (~(WORD)HW_ARC_USBSTS_UI_SETMASK)
                            15441 ; 373  |#define HW_ARC_USBSTS_UEI_CLRMASK (~(WORD)HW_ARC_USBSTS_UEI_SETMASK)
                            15442 ; 374  |#define HW_ARC_USBSTS_PCI_CLRMASK (~(WORD)HW_ARC_USBSTS_PCI_SETMASK)
                            15443 ; 375  |#define HW_ARC_USBSTS_FRI_CLRMASK (~(WORD)HW_ARC_USBSTS_FRI_SETMASK)
                            15444 ; 376  |#define HW_ARC_USBSTS_SEI_CLRMASK (~(WORD)HW_ARC_USBSTS_SEI_SETMASK)
                            15445 ; 377  |#define HW_ARC_USBSTS_AAI_CLRMASK (~(WORD)HW_ARC_USBSTS_AAI_SETMASK)
                            15446 ; 378  |#define HW_ARC_USBSTS_URI_CLRMASK (~(WORD)HW_ARC_USBSTS_URI_SETMASK)
                            15447 ; 379  |#define HW_ARC_USBSTS_SRI_CLRMASK (~(WORD)HW_ARC_USBSTS_SRI_SETMASK)
                            15448 ; 380  |#define HW_ARC_USBSTS_SLI_CLRMASK (~(WORD)HW_ARC_USBSTS_SLI_SETMASK)
                            15449 ; 381  |#define HW_ARC_USBSTS_HCH_CLRMASK (~(WORD)HW_ARC_USBSTS_HCH_SETMASK)
                            15450 ; 382  |#define HW_ARC_USBSTS_RCL_CLRMASK (~(WORD)HW_ARC_USBSTS_RCL_SETMASK)
                            15451 ; 383  |#define HW_ARC_USBSTS_PS_CLRMASK (~(WORD)HW_ARC_USBSTS_PS_SETMASK)
                            15452 ; 384  |#define HW_ARC_USBSTS_AS_CLRMASK (~(WORD)HW_ARC_USBSTS_AS_SETMASK)
                            15453 ; 385  |
                            15454 ; 386  |
                            15455 ; 387  |typedef union               
                            15456 ; 388  |{
                            15457 ; 389  |    struct {
                            15458 ; 390  |        int UI              :1;
                            15459 ; 391  |        int UEI             :1;
                            15460 ; 392  |        int PCI             :1;
                            15461 ; 393  |        int FRI             :1;
                            15462 ; 394  |        int SEI             :1;
                            15463 ; 395  |        int AAI             :1;
                            15464 ; 396  |        int URI             :1;
                            15465 ; 397  |        int STI             :1;
                            15466 ; 398  |        int SLI             :1;
                            15467 ; 399  |        int                 :3;
                            15468 ; 400  |        int HCH             :1;
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 258

M:ADDR CODE           CYCLES LINE SOURCELINE
                            15469 ; 401  |        int RCL             :1;
                            15470 ; 402  |        int PS              :1;
                            15471 ; 403  |        int AS              :1;
                            15472 ; 404  |        int                 :24;
                            15473 ; 405  |    } B;
                            15474 ; 406  |    DWORD I;
                            15475 ; 407  |} usbsts_type;
                            15476 ; 408  |//#define HW_ARC_USBSTS (*(volatile usbsts_type _X*) (HW_ARC_BASEADDR+0x144))    
                            15477 ; 409  |
                            15478 ; 410  |/////////////////////////////////////////////////////////////////////////////////
                            15479 ; 411  |//  USB ARC Register USB Interrupt Enable (HW_ARC_USBINTR)
                            15480 ; 412  |
                            15481 ; 413  |#define HW_ARC_USBINTR_UE_BITPOS (0)
                            15482 ; 414  |#define HW_ARC_USBINTR_UEE_BITPOS (1)
                            15483 ; 415  |#define HW_ARC_USBINTR_PCE_BITPOS (2)
                            15484 ; 416  |#define HW_ARC_USBINTR_FRE_BITPOS (3)
                            15485 ; 417  |#define HW_ARC_USBINTR_SEE_BITPOS (4)
                            15486 ; 418  |#define HW_ARC_USBINTR_AAE_BITPOS (5)
                            15487 ; 419  |#define HW_ARC_USBINTR_URE_BITPOS (6)
                            15488 ; 420  |#define HW_ARC_USBINTR_SRE_BITPOS (7)
                            15489 ; 421  |#define HW_ARC_USBINTR_SLE_BITPOS (8)
                            15490 ; 422  |
                            15491 ; 423  |#define HW_ARC_USBINTR_UE_SETMASK (1<<HW_ARC_USBINTR_UE_BITPOS)   
                            15492 ; 424  |#define HW_ARC_USBINTR_UEE_SETMASK (1<<HW_ARC_USBINTR_UEE_BITPOS)
                            15493 ; 425  |#define HW_ARC_USBINTR_PCE_SETMASK (1<<HW_ARC_USBINTR_PCE_BITPOS)
                            15494 ; 426  |#define HW_ARC_USBINTR_FRE_SETMASK (1<<HW_ARC_USBINTR_FRE_BITPOS)
                            15495 ; 427  |#define HW_ARC_USBINTR_SEE_SETMASK (1<<HW_ARC_USBINTR_SEE_BITPOS)
                            15496 ; 428  |#define HW_ARC_USBINTR_AAE_SETMASK (1<<HW_ARC_USBINTR_AAE_BITPOS)
                            15497 ; 429  |#define HW_ARC_USBINTR_URE_SETMASK (1<<HW_ARC_USBINTR_URE_BITPOS)
                            15498 ; 430  |#define HW_ARC_USBINTR_SRE_SETMASK (1<<HW_ARC_USBINTR_SRE_BITPOS)
                            15499 ; 431  |#define HW_ARC_USBINTR_SLE_SETMASK (1<<HW_ARC_USBINTR_SLE_BITPOS)
                            15500 ; 432  |
                            15501 ; 433  |#define HW_ARC_USBINTR_UE_CLRMASK (~(WORD)HW_ARC_USBINTR_UE_SETMASK)
                            15502 ; 434  |#define HW_ARC_USBINTR_UEE_CLRMASK (~(WORD)HW_ARC_USBINTR_UEE_SETMASK)
                            15503 ; 435  |#define HW_ARC_USBINTR_PCE_CLRMASK (~(WORD)HW_ARC_USBINTR_PCE_SETMASK)
                            15504 ; 436  |#define HW_ARC_USBINTR_FRE_CLRMASK (~(WORD)HW_ARC_USBINTR_FRE_SETMASK)
                            15505 ; 437  |#define HW_ARC_USBINTR_SEE_CLRMASK (~(WORD)HW_ARC_USBINTR_SEE_SETMASK)
                            15506 ; 438  |#define HW_ARC_USBINTR_AAE_CLRMASK (~(WORD)HW_ARC_USBINTR_AAE_SETMASK)
                            15507 ; 439  |#define HW_ARC_USBINTR_URE_CLRMASK (~(WORD)HW_ARC_USBINTR_URE_SETMASK)
                            15508 ; 440  |#define HW_ARC_USBINTR_SRE_CLRMASK (~(WORD)HW_ARC_USBINTR_SRE_SETMASK)
                            15509 ; 441  |#define HW_ARC_USBINTR_SLE_CLRMASK (~(WORD)HW_ARC_USBINTR_SLE_SETMASK)
                            15510 ; 442  |
                            15511 ; 443  |
                            15512 ; 444  |typedef union               
                            15513 ; 445  |{
                            15514 ; 446  |    struct {
                            15515 ; 447  |        int UE              :1;
                            15516 ; 448  |        int UEE             :1;
                            15517 ; 449  |        int PCE             :1;
                            15518 ; 450  |        int FRE             :1;
                            15519 ; 451  |        int SEE             :1;
                            15520 ; 452  |        int AAE             :1;
                            15521 ; 453  |        int URE             :1;
                            15522 ; 454  |        int STE             :1;
                            15523 ; 455  |        int SLE             :1;
                            15524 ; 456  |        int                 :39;
                            15525 ; 457  |    } B;
                            15526 ; 458  |    DWORD I;
                            15527 ; 459  |} usbintr_type;
                            15528 ; 460  |//#define HW_ARC_USBINTR (*(volatile usbintr_type _X*) (HW_ARC_BASEADDR+0x148))    
                            15529 ; 461  |
                            15530 ; 462  |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 259

M:ADDR CODE           CYCLES LINE SOURCELINE
                            15531 ; 463  |/////////////////////////////////////////////////////////////////////////////////
                            15532 ; 464  |//  USB ARC Register USB Device Controller Device Address (HW_ARC_DEVADDR)
                            15533 ; 465  |
                            15534 ; 466  |#define HW_ARC_DEVADDR_ADD_BITPOS (25)
                            15535 ; 467  |
                            15536 ; 468  |#define HW_ARC_DEVADDR_ADD_SETMASK (127<<HW_ARC_DEVADDR_ADD_BITPOS)    
                            15537 ; 469  |
                            15538 ; 470  |#define HW_ARC_DEVEADDR_ADD_CLRMASK (~(WORD)HW_ARC_DEVADDR_ADD_SETMASK)   
                            15539 ; 471  |
                            15540 ; 472  |typedef union               
                            15541 ; 473  |{
                            15542 ; 474  |    struct {
                            15543 ; 475  |        int                 :25;
                            15544 ; 476  |        int ADD             :7;
                            15545 ; 477  |        int                 :16;
                            15546 ; 478  |    } B;
                            15547 ; 479  |    DWORD I;
                            15548 ; 480  |} devaddr_type;
                            15549 ; 481  |//#define HW_ARC_DEVADDR (*(volatile devaddr_type _X*) (HW_ARC_BASEADDR+0x154))    
                            15550 ; 482  |
                            15551 ; 483  |
                            15552 ; 484  |/////////////////////////////////////////////////////////////////////////////////
                            15553 ; 485  |//  USB ARC Register USB Device Controller Endpoint List Address (HW_ARC_ENDPTLISTADDR)
                            15554 ; 486  |
                            15555 ; 487  |#define HW_ARC_ENDPTLISTADDR_ADD_BITPOS (11)
                            15556 ; 488  |
                            15557 ; 489  |#define HW_ARC_ENDPTLISTADDR_ADD_SETMASK (0x400000<<HW_ARC_ENDPTLISTADDR_ADD_BITPOS) 
                            15558 ; 490  |
                            15559 ; 491  |#define HW_ARC_ENDPTLISTADDR_ADD_CLRMASK (~(WORD)HW_ARC_ENDPTLISTADDR_ADD_SETMASK) 
                            15560 ; 492  |
                            15561 ; 493  |typedef union               
                            15562 ; 494  |{
                            15563 ; 495  |    struct {
                            15564 ; 496  |        int                 :10;
                            15565 ; 497  |        int ADD             :22;
                            15566 ; 498  |        int                 :16;
                            15567 ; 499  |    } B;
                            15568 ; 500  |    DWORD I;
                            15569 ; 501  |} endptlistaddr_type;
                            15570 ; 502  |//#define HW_ARC_ENDPTLISTADDR (*(volatile endptlistaddr_type _X*) (HW_ARC_BASEADDR+0x158)
                                  )    
                            15571 ; 503  |
                            15572 ; 504  |
                            15573 ; 505  |/////////////////////////////////////////////////////////////////////////////////
                            15574 ; 506  |//  USB ARC Register USB Port Status Control 1 (HW_ARC_PORTSC1)
                            15575 ; 507  |
                            15576 ; 508  |#define HW_ARC_PORTSC1_CCS_BITPOS (0)
                            15577 ; 509  |#define HW_ARC_PORTSC1_CSC_BITPOS (1)
                            15578 ; 510  |#define HW_ARC_PORTSC1_PE_BITPOS (2)
                            15579 ; 511  |#define HW_ARC_PORTSC1_PEC_BITPOS (3)
                            15580 ; 512  |#define HW_ARC_PORTSC1_OCA_BITPOS (4)
                            15581 ; 513  |#define HW_ARC_PORTSC1_OCC_BITPOS (5)
                            15582 ; 514  |#define HW_ARC_PORTSC1_FPR_BITPOS (6)
                            15583 ; 515  |#define HW_ARC_PORTSC1_SUSP_BITPOS (7)
                            15584 ; 516  |#define HW_ARC_PORTSC1_PR_BITPOS (8)
                            15585 ; 517  |#define HW_ARC_PORTSC1_HSP_BITPOS (9)
                            15586 ; 518  |#define HW_ARC_PORTSC1_LS_BITPOS (10)
                            15587 ; 519  |#define HW_ARC_PORTSC1_PP_BITPOS (12)
                            15588 ; 520  |#define HW_ARC_PORTSC1_PO_BITPOS (13)
                            15589 ; 521  |#define HW_ARC_PORTSC1_PIC_BITPOS (14)
                            15590 ; 522  |#define HW_ARC_PORTSC1_PTC_BITPOS (16)
                            15591 ; 523  |#define HW_ARC_PORTSC1_WKCN_BITPOS (20)
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 260

M:ADDR CODE           CYCLES LINE SOURCELINE
                            15592 ; 524  |#define HW_ARC_PORTSC1_WKDS_BITPOS (21)
                            15593 ; 525  |#define HW_ARC_PORTSC1_WKOC_BITPOS (22)
                            15594 ; 526  |#define HW_ARC_PORTSC1_PHCD_BITPOS (23)
                            15595 ; 527  |#define HW_ARC_PORTSC1_PFSC_BITPOS (24)
                            15596 ; 528  |#define HW_ARC_PORTSC1_PSPD_BITPOS (26)
                            15597 ; 529  |#define HW_ARC_PORTSC1_PTW_BITPOS (29)
                            15598 ; 530  |#define HW_ARC_PORTSC1_STS_BITPOS (30)
                            15599 ; 531  |#define HW_ARC_PORTSC1_PTS_BITPOS (31)
                            15600 ; 532  |
                            15601 ; 533  |#define HW_ARC_PORTSC1_CCS_SETMASK (1<<HW_ARC_PORTSC1_CCS_BITPOS)  
                            15602 ; 534  |#define HW_ARC_PORTSC1_CSC_SETMASK (1<<HW_ARC_PORTSC1_CSC_BITPOS)  
                            15603 ; 535  |#define HW_ARC_PORTSC1_PE_SETMASK (1<<HW_ARC_PORTSC1_PE_BITPOS)   
                            15604 ; 536  |#define HW_ARC_PORTSC1_PEC_SETMASK (1<<HW_ARC_PORTSC1_PEC_BITPOS)  
                            15605 ; 537  |#define HW_ARC_PORTSC1_OCA_SETMASK (1<<HW_ARC_PORTSC1_OCA_BITPOS)  
                            15606 ; 538  |#define HW_ARC_PORTSC1_OCC_SETMASK (1<<HW_ARC_PORTSC1_OCC_BITPOS)  
                            15607 ; 539  |#define HW_ARC_PORTSC1_FPR_SETMASK (1<<HW_ARC_PORTSC1_FPR_BITPOS)  
                            15608 ; 540  |#define HW_ARC_PORTSC1_SUSP_SETMASK (1<<HW_ARC_PORTSC1_SUSP_BITPOS)
                            15609 ; 541  |#define HW_ARC_PORTSC1_PR_SETMASK (1<<HW_ARC_PORTSC1_PR_BITPOS)   
                            15610 ; 542  |#define HW_ARC_PORTSC1_HSP_SETMASK (1<<HW_ARC_PORTSC1_HSP_BITPOS)  
                            15611 ; 543  |#define HW_ARC_PORTSC1_LS_SETMASK (3<<HW_ARC_PORTSC1_LS_BITPOS)   
                            15612 ; 544  |#define HW_ARC_PORTSC1_PP_SETMASK (1<<HW_ARC_PORTSC1_PP_BITPOS)   
                            15613 ; 545  |#define HW_ARC_PORTSC1_PO_SETMASK (1<<HW_ARC_PORTSC1_PO_BITPOS)   
                            15614 ; 546  |#define HW_ARC_PORTSC1_PIC_SETMASK (3<<HW_ARC_PORTSC1_PIC_BITPOS)  
                            15615 ; 547  |#define HW_ARC_PORTSC1_PTC_SETMASK (15<<HW_ARC_PORTSC1_PTC_BITPOS) 
                            15616 ; 548  |#define HW_ARC_PORTSC1_WKCN_SETMASK (1<<HW_ARC_PORTSC1_WKCN_BITPOS)
                            15617 ; 549  |#define HW_ARC_PORTSC1_WKDS_SETMASK (1<<HW_ARC_PORTSC1_WKDS_BITPOS)
                            15618 ; 550  |#define HW_ARC_PORTSC1_WKOC_SETMASK (1<<HW_ARC_PORTSC1_WKOC_BITPOS)
                            15619 ; 551  |#define HW_ARC_PORTSC1_PHCD_SETMASK (1<<HW_ARC_PORTSC1_PHCD_BITPOS)
                            15620 ; 552  |
                            15621 ; 553  |// We need to equate the following label like this due to a sign extension problem
                            15622 ; 554  |// if equated like so (1<<HW_ARC_PORTSC1_PFSC_SETMASK)
                            15623 ; 555  |#define HW_ARC_PORTSC1_PFSC_SETMASK (0x01000000)
                            15624 ; 556  |
                            15625 ; 557  |#define HW_ARC_PORTSC1_PSPD_SETMASK (3<<HW_ARC_PORTSC1_PSPD_BITPOS)
                            15626 ; 558  |#define HW_ARC_PORTSC1_PTW_SETMASK (1<<HW_ARC_PORTSC1_PTW_BITPOS)  
                            15627 ; 559  |#define HW_ARC_PORTSC1_STS_SETMASK (1<<HW_ARC_PORTSC1_STS_BITPOS)  
                            15628 ; 560  |#define HW_ARC_PORTSC1_PTS_SETMASK (1<<HW_ARC_PORTSC1_PTS_BITPOS)  
                            15629 ; 561  |
                            15630 ; 562  |#define HW_ARC_PORTSC1_CCS_CLRMASK (~(WORD)HW_ARC_PORTSC1_CCS_SETMASK)   
                            15631 ; 563  |#define HW_ARC_PORTSC1_CSC_CLRMASK (~(WORD)HW_ARC_PORTSC1_CSC_SETMASK)   
                            15632 ; 564  |#define HW_ARC_PORTSC1_PE_CLRMASK (~(WORD)HW_ARC_PORTSC1_PE_SETMASK)    
                            15633 ; 565  |#define HW_ARC_PORTSC1_PEC_CLRMASK (~(WORD)HW_ARC_PORTSC1_PEC_SETMASK)   
                            15634 ; 566  |#define HW_ARC_PORTSC1_OCA_CLRMASK (~(WORD)HW_ARC_PORTSC1_OCA_SETMASK)   
                            15635 ; 567  |#define HW_ARC_PORTSC1_OCC_CLRMASK (~(WORD)HW_ARC_PORTSC1_OCC_SETMASK)   
                            15636 ; 568  |#define HW_ARC_PORTSC1_FPR_CLRMASK (~(WORD)HW_ARC_PORTSC1_FPR_SETMASK)   
                            15637 ; 569  |#define HW_ARC_PORTSC1_SUSP_CLRMASK (~(WORD)HW_ARC_PORTSC1_SUSP_SETMASK)
                            15638 ; 570  |#define HW_ARC_PORTSC1_PR_CLRMASK (~(WORD)HW_ARC_PORTSC1_PR_SETMASK)    
                            15639 ; 571  |#define HW_ARC_PORTSC1_HSP_CLRMASK (~(WORD)HW_ARC_PORTSC1_HSP_SETMASK)   
                            15640 ; 572  |#define HW_ARC_PORTSC1_LS_CLRMASK (~(WORD)HW_ARC_PORTSC1_LS_SETMASK)    
                            15641 ; 573  |#define HW_ARC_PORTSC1_PP_CLRMASK (~(WORD)HW_ARC_PORTSC1_PP_SETMASK)    
                            15642 ; 574  |#define HW_ARC_PORTSC1_PO_CLRMASK (~(WORD)HW_ARC_PORTSC1_PO_SETMASK)    
                            15643 ; 575  |#define HW_ARC_PORTSC1_PIC_CLRMASK (~(WORD)HW_ARC_PORTSC1_PIC_SETMASK)   
                            15644 ; 576  |#define HW_ARC_PORTSC1_PTC_CLRMASK (~(WORD)HW_ARC_PORTSC1_PTC_SETMASK)   
                            15645 ; 577  |#define HW_ARC_PORTSC1_WKCN_CLRMASK (~(WORD)HW_ARC_PORTSC1_WKCN_SETMASK)
                            15646 ; 578  |#define HW_ARC_PORTSC1_WKDS_CLRMASK (~(WORD)HW_ARC_PORTSC1_WKDS_SETMASK)
                            15647 ; 579  |#define HW_ARC_PORTSC1_WKOC_CLRMASK (~(WORD)HW_ARC_PORTSC1_WKOC_SETMASK)
                            15648 ; 580  |#define HW_ARC_PORTSC1_PHCD_CLRMASK (~(WORD)HW_ARC_PORTSC1_PHCD_SETMASK)
                            15649 ; 581  |#define HW_ARC_PORTSC1_PFSC_CLRMASK (~(WORD)HW_ARC_PORTSC1_PFSC_SETMASK)
                            15650 ; 582  |#define HW_ARC_PORTSC1_PSPD_CLRMASK (~(WORD)HW_ARC_PORTSC1_PSPD_SETMASK)
                            15651 ; 583  |#define HW_ARC_PORTSC1_PTW_CLRMASK (~(WORD)HW_ARC_PORTSC1_PTW_SETMASK)   
                            15652 ; 584  |#define HW_ARC_PORTSC1_STS_CLRMASK (~(WORD)HW_ARC_PORTSC1_STS_SETMASK)   
                            15653 ; 585  |#define HW_ARC_PORTSC1_PTS_CLRMASK (~(WORD)HW_ARC_PORTSC1_PTS_SETMASK)   
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 261

M:ADDR CODE           CYCLES LINE SOURCELINE
                            15654 ; 586  |
                            15655 ; 587  |typedef union               
                            15656 ; 588  |{
                            15657 ; 589  |    struct {
                            15658 ; 590  |        int CCS             :1;
                            15659 ; 591  |        int CSC             :1;
                            15660 ; 592  |        int PE              :1;
                            15661 ; 593  |        int PEC             :1;
                            15662 ; 594  |        int OCA             :1;
                            15663 ; 595  |        int OCC             :1;
                            15664 ; 596  |        int FPR             :1;
                            15665 ; 597  |        int SUSP            :1;
                            15666 ; 598  |        int PR              :1;
                            15667 ; 599  |        int HSP             :1;
                            15668 ; 600  |        int LS              :2;
                            15669 ; 601  |        int PP              :1;
                            15670 ; 602  |        int PO              :1;
                            15671 ; 603  |        int PIC             :2;
                            15672 ; 604  |        int PTC             :4;
                            15673 ; 605  |        int WKCN            :1;
                            15674 ; 606  |        int WKDS            :1;
                            15675 ; 607  |        int WKOC            :1;
                            15676 ; 608  |        int PHCD            :1;
                            15677 ; 609  |        int PFSC            :1;
                            15678 ; 610  |        int                 :1;
                            15679 ; 611  |        int PSPD            :2;
                            15680 ; 612  |        int                 :1;
                            15681 ; 613  |        int PTW             :1;
                            15682 ; 614  |        int STS             :1;
                            15683 ; 615  |        int PTS             :1;
                            15684 ; 616  |        int                 :16;
                            15685 ; 617  |    } B;
                            15686 ; 618  |    DWORD I;
                            15687 ; 619  |} portsc1_type;
                            15688 ; 620  |//#define HW_ARC_PORTSC1 (*(volatile portsc1_type _X*) (HW_ARC_BASEADDR+0x184))    
                            15689 ; 621  |
                            15690 ; 622  |
                            15691 ; 623  |/////////////////////////////////////////////////////////////////////////////////
                            15692 ; 624  |//  USB ARC Register USB Device Mode (HW_ARC_USBMODE)
                            15693 ; 625  |
                            15694 ; 626  |#define HW_ARC_USBMODE_CM_BITPOS (0)
                            15695 ; 627  |#define HW_ARC_USBMODE_ES_BITPOS (2)
                            15696 ; 628  |
                            15697 ; 629  |#define HW_ARC_USBMODE_CM_SETMASK (3<<HW_ARC_USBMODE_CM_BITPOS)   
                            15698 ; 630  |#define HW_ARC_USBMODE_ES_SETMASK (1<<HW_ARC_USBMODE_ES_BITPOS)   
                            15699 ; 631  |
                            15700 ; 632  |#define HW_ARC_USBMODE_CM_CLRMASK (~(WORD)HW_ARC_USBMODE_CM_SETMASK) 
                            15701 ; 633  |#define HW_ARC_USBMODE_ES_CLRMASK (~(WORD)HW_ARC_USBMODE_ES_SETMASK)    
                            15702 ; 634  |
                            15703 ; 635  |typedef union               
                            15704 ; 636  |{
                            15705 ; 637  |    struct {
                            15706 ; 638  |        int CM              :2;
                            15707 ; 639  |        int ES              :1;
                            15708 ; 640  |        int                 :46;
                            15709 ; 641  |    } B;
                            15710 ; 642  |    DWORD I;
                            15711 ; 643  |} usbmode_type;
                            15712 ; 644  |//#define HW_ARC_USBMODE (*(volatile usbmode_type _X*) (HW_ARC_BASEADDR+0x1a8))    
                            15713 ; 645  |
                            15714 ; 646  |
                            15715 ; 647  |/////////////////////////////////////////////////////////////////////////////////
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 262

M:ADDR CODE           CYCLES LINE SOURCELINE
                            15716 ; 648  |//  The following endpoint equates are common for the following registers
                            15717 ; 649  |
                            15718 ; 650  |#define ENDPOINT0_BITPOS (0)
                            15719 ; 651  |#define ENDPOINT1_BITPOS (1)
                            15720 ; 652  |#define ENDPOINT2_BITPOS (2)
                            15721 ; 653  |#define ENDPOINT3_BITPOS (3)
                            15722 ; 654  |#define ENDPOINT4_BITPOS (4)
                            15723 ; 655  |#define ENDPOINT5_BITPOS (5)
                            15724 ; 656  |#define ENDPOINT6_BITPOS (6)
                            15725 ; 657  |#define ENDPOINT7_BITPOS (7)
                            15726 ; 658  |#define ENDPOINT8_BITPOS (8)
                            15727 ; 659  |#define ENDPOINT9_BITPOS (9)
                            15728 ; 660  |#define ENDPOINT10_BITPOS (10)
                            15729 ; 661  |#define ENDPOINT11_BITPOS (11)
                            15730 ; 662  |#define ENDPOINT12_BITPOS (12)
                            15731 ; 663  |#define ENDPOINT13_BITPOS (13)
                            15732 ; 664  |#define ENDPOINT14_BITPOS (14)
                            15733 ; 665  |#define ENDPOINT15_BITPOS (15)
                            15734 ; 666  |
                            15735 ; 667  |#define ENDPOINT0_SETMASK (1<<ENDPOINT0_BITPOS)
                            15736 ; 668  |#define ENDPOINT1_SETMASK (1<<ENDPOINT1_BITPOS)
                            15737 ; 669  |#define ENDPOINT2_SETMASK (1<<ENDPOINT2_BITPOS)
                            15738 ; 670  |#define ENDPOINT3_SETMASK (1<<ENDPOINT3_BITPOS)
                            15739 ; 671  |#define ENDPOINT4_SETMASK (1<<ENDPOINT4_BITPOS)
                            15740 ; 672  |#define ENDPOINT5_SETMASK (1<<ENDPOINT5_BITPOS)
                            15741 ; 673  |#define ENDPOINT6_SETMASK (1<<ENDPOINT6_BITPOS)
                            15742 ; 674  |#define ENDPOINT7_SETMASK (1<<ENDPOINT7_BITPOS)
                            15743 ; 675  |#define ENDPOINT8_SETMASK (1<<ENDPOINT8_BITPOS)
                            15744 ; 676  |#define ENDPOINT9_SETMASK (1<<ENDPOINT9_BITPOS)
                            15745 ; 677  |#define ENDPOINT10_SETMASK (1<<ENDPOINT10_BITPOS)
                            15746 ; 678  |#define ENDPOINT11_SETMASK (1<<ENDPOINT11_BITPOS)
                            15747 ; 679  |#define ENDPOINT12_SETMASK (1<<ENDPOINT12_BITPOS)
                            15748 ; 680  |#define ENDPOINT13_SETMASK (1<<ENDPOINT13_BITPOS)
                            15749 ; 681  |#define ENDPOINT14_SETMASK (1<<ENDPOINT14_BITPOS)
                            15750 ; 682  |#define ENDPOINT15_SETMASK (1<<ENDPOINT15_BITPOS)
                            15751 ; 683  |
                            15752 ; 684  |#define ENDPOINT0_CLRMASK (~(WORD)ENDPOINT0_SETMASK)    
                            15753 ; 685  |#define ENDPOINT1_CLRMASK (~(WORD)ENDPOINT1_SETMASK)    
                            15754 ; 686  |#define ENDPOINT2_CLRMASK (~(WORD)ENDPOINT2_SETMASK)    
                            15755 ; 687  |#define ENDPOINT3_CLRMASK (~(WORD)ENDPOINT3_SETMASK)    
                            15756 ; 688  |#define ENDPOINT4_CLRMASK (~(WORD)ENDPOINT4_SETMASK)    
                            15757 ; 689  |#define ENDPOINT5_CLRMASK (~(WORD)ENDPOINT5_SETMASK)    
                            15758 ; 690  |#define ENDPOINT6_CLRMASK (~(WORD)ENDPOINT6_SETMASK)    
                            15759 ; 691  |#define ENDPOINT7_CLRMASK (~(WORD)ENDPOINT7_SETMASK)    
                            15760 ; 692  |#define ENDPOINT8_CLRMASK (~(WORD)ENDPOINT8_SETMASK)    
                            15761 ; 693  |#define ENDPOINT9_CLRMASK (~(WORD)ENDPOINT9_SETMASK)    
                            15762 ; 694  |#define ENDPOINT10_CLRMASK (~(WORD)ENDPOINT10_SETMASK)
                            15763 ; 695  |#define ENDPOINT11_CLRMASK (~(WORD)ENDPOINT11_SETMASK)
                            15764 ; 696  |#define ENDPOINT12_CLRMASK (~(WORD)ENDPOINT12_SETMASK)
                            15765 ; 697  |#define ENDPOINT13_CLRMASK (~(WORD)ENDPOINT13_SETMASK)
                            15766 ; 698  |#define ENDPOINT14_CLRMASK (~(WORD)ENDPOINT14_SETMASK)
                            15767 ; 699  |#define ENDPOINT15_CLRMASK (~(WORD)ENDPOINT15_SETMASK)
                            15768 ; 700  |
                            15769 ; 701  |typedef union               
                            15770 ; 702  |{
                            15771 ; 703  |    struct {
                            15772 ; 704  |        int EP0              :1;
                            15773 ; 705  |        int EP1              :1;
                            15774 ; 706  |        int EP2              :1;
                            15775 ; 707  |        int EP3              :1;
                            15776 ; 708  |        int EP4              :1;
                            15777 ; 709  |        int EP5              :1;
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 263

M:ADDR CODE           CYCLES LINE SOURCELINE
                            15778 ; 710  |        int EP6              :1;
                            15779 ; 711  |        int EP7              :1;
                            15780 ; 712  |        int EP8              :1;
                            15781 ; 713  |        int EP9              :1;
                            15782 ; 714  |        int EP10             :1;
                            15783 ; 715  |        int EP11             :1;
                            15784 ; 716  |        int EP12             :1;
                            15785 ; 717  |        int EP13             :1;
                            15786 ; 718  |        int EP14             :1;
                            15787 ; 719  |        int EP15             :1;
                            15788 ; 720  |        int                  :32;
                            15789 ; 721  |    } B;
                            15790 ; 722  |    DWORD I;
                            15791 ; 723  |} endpsetupstat_type;
                            15792 ; 724  |
                            15793 ; 725  |//#define HW_ARC_ENDPTSETUPSTAT (*(volatile endpsetupstat_type _X*) (HW_ARC_BASEADDR+0x1ac
                                  ))    
                            15794 ; 726  |
                            15795 ; 727  |typedef union               
                            15796 ; 728  |{
                            15797 ; 729  |    struct {
                            15798 ; 730  |        int EP0              :1;
                            15799 ; 731  |        int EP1              :1;
                            15800 ; 732  |        int EP2              :1;
                            15801 ; 733  |        int EP3              :1;
                            15802 ; 734  |        int EP4              :1;
                            15803 ; 735  |        int EP5              :1;
                            15804 ; 736  |        int EP6              :1;
                            15805 ; 737  |        int EP7              :1;
                            15806 ; 738  |        int EP8              :1;
                            15807 ; 739  |        int EP9              :1;
                            15808 ; 740  |        int EP10             :1;
                            15809 ; 741  |        int EP11             :1;
                            15810 ; 742  |        int EP12             :1;
                            15811 ; 743  |        int EP13             :1;
                            15812 ; 744  |        int EP14             :1;
                            15813 ; 745  |        int EP15             :1;
                            15814 ; 746  |        int                  :8;
                            15815 ; 747  |    } B;
                            15816 ; 748  |    WORD I;
                            15817 ; 749  |} endpt_type;
                            15818 
                            15856 
                            15857 ; 750  |
                            15858 ; 751  |typedef union
                            15859 ; 752  |{
                            15860 ; 753  |   struct {
                            15861 ; 754  |       endpt_type  RX;
                            15862 ; 755  |       endpt_type  TX;
                            15863 ; 756  |   } W;
                            15864 ; 757  |   DWORD DW;
                            15865 ; 758  |} endptrxtx_type;
                            15866 ; 759  |
                            15867 ; 760  |//#define HW_ARC_ENDPTPRIME    (*(volatile endptrxtx_type _X*) (HW_ARC_BASEADDR+0x1b0))   
                                   
                            15868 ; 761  |//#define HW_ARC_ENDPTFLUSH    (*(volatile endptrxtx_type _X*) (HW_ARC_BASEADDR+0x1b4))   
                                   
                            15869 ; 762  |//#define HW_ARC_ENDPTSTAT     (*(volatile endptrxtx_type _X*) (HW_ARC_BASEADDR+0x1b8))   
                                   
                            15870 ; 763  |//#define HW_ARC_ENDPTCOMPLETE (*(volatile endptrxtx_type _X*) (HW_ARC_BASEADDR+0x1bc))   
                                   
                            15871 ; 764  |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 264

M:ADDR CODE           CYCLES LINE SOURCELINE
                            15872 ; 765  |
                            15873 ; 766  |
                            15874 ; 767  |/////////////////////////////////////////////////////////////////////////////////
                            15875 ; 768  |//  USB ARC Register Endpoint control (HW_ARC_ENDPTCTRL)
                            15876 ; 769  |
                            15877 ; 770  |#define HW_ARC_ENDPTCTRL_RXS_BITPOS (0)
                            15878 ; 771  |#define HW_ARC_ENDPTCTRL_RXD_BITPOS (1)
                            15879 ; 772  |#define HW_ARC_ENDPTCTRL_RXT_BITPOS (2)
                            15880 ; 773  |#define HW_ARC_ENDPTCTRL_RXI_BITPOS (5)
                            15881 ; 774  |#define HW_ARC_ENDPTCTRL_RXR_BITPOS (6)
                            15882 ; 775  |#define HW_ARC_ENDPTCTRL_RXE_BITPOS (7)
                            15883 ; 776  |#define HW_ARC_ENDPTCTRL_TXS_BITPOS (16)
                            15884 ; 777  |#define HW_ARC_ENDPTCTRL_TXD_BITPOS (17)
                            15885 ; 778  |#define HW_ARC_ENDPTCTRL_TXT_BITPOS (18)
                            15886 ; 779  |#define HW_ARC_ENDPTCTRL_TXI_BITPOS (21)
                            15887 ; 780  |#define HW_ARC_ENDPTCTRL_TXR_BITPOS (22)
                            15888 ; 781  |#define HW_ARC_ENDPTCTRL_TXE_BITPOS (23)
                            15889 ; 782  |
                            15890 ; 783  |#define HW_ARC_ENDPTCTRL_RXS_SETMASK (1<<HW_ARC_ENDPTCTRL_RXS_BITPOS)
                            15891 ; 784  |#define HW_ARC_ENDPTCTRL_RXD_SETMASK (1<<HW_ARC_ENDPTCTRL_RXD_BITPOS)
                            15892 ; 785  |#define HW_ARC_ENDPTCTRL_RXT_SETMASK (3<<HW_ARC_ENDPTCTRL_RXT_BITPOS)
                            15893 ; 786  |#define HW_ARC_ENDPTCTRL_RXI_SETMASK (1<<HW_ARC_ENDPTCTRL_RXI_BITPOS)
                            15894 ; 787  |#define HW_ARC_ENDPTCTRL_RXR_SETMASK (1<<HW_ARC_ENDPTCTRL_RXR_BITPOS)
                            15895 ; 788  |#define HW_ARC_ENDPTCTRL_RXE_SETMASK (1<<HW_ARC_ENDPTCTRL_RXE_BITPOS)
                            15896 ; 789  |#define HW_ARC_ENDPTCTRL_TXS_SETMASK (1<<HW_ARC_ENDPTCTRL_TXS_BITPOS)
                            15897 ; 790  |#define HW_ARC_ENDPTCTRL_TXD_SETMASK (1<<HW_ARC_ENDPTCTRL_TXD_BITPOS)
                            15898 ; 791  |#define HW_ARC_ENDPTCTRL_TXT_SETMASK (3<<HW_ARC_ENDPTCTRL_TXT_BITPOS)
                            15899 ; 792  |#define HW_ARC_ENDPTCTRL_TXI_SETMASK (1<<HW_ARC_ENDPTCTRL_TXI_BITPOS)
                            15900 ; 793  |#define HW_ARC_ENDPTCTRL_TXR_SETMASK (1<<HW_ARC_ENDPTCTRL_TXR_BITPOS)
                            15901 ; 794  |
                            15902 ; 795  |// We need to equate the following label like this due to a sign extension problem
                            15903 ; 796  |// if equated like so (1<<HW_ARC_ENDPTCTRL_TXE_BITPOS)
                            15904 ; 797  |#define HW_ARC_ENDPTCTRL_TXE_SETMASK (0x00800000)
                            15905 ; 798  |//HW_ARC_ENDPTCTRL_TXE_SETMASK    equ     (1<<HW_ARC_ENDPTCTRL_TXE_BITPOS)
                            15906 ; 799  |
                            15907 ; 800  |#define HW_ARC_ENDPTCTRL_RXS_CLRMASK (~(WORD)HW_ARC_ENDPTCTRL_RXS_SETMASK)
                            15908 ; 801  |#define HW_ARC_ENDPTCTRL_RXD_CLRMASK (~(WORD)HW_ARC_ENDPTCTRL_RXD_SETMASK)
                            15909 ; 802  |#define HW_ARC_ENDPTCTRL_RXT_CLRMASK (~(WORD)HW_ARC_ENDPTCTRL_RXT_SETMASK)
                            15910 ; 803  |#define HW_ARC_ENDPTCTRL_RXI_CLRMASK (~(WORD)HW_ARC_ENDPTCTRL_RXI_SETMASK)
                            15911 ; 804  |#define HW_ARC_ENDPTCTRL_RXR_CLRMASK (~(WORD)HW_ARC_ENDPTCTRL_RXR_SETMASK)
                            15912 ; 805  |#define HW_ARC_ENDPTCTRL_RXE_CLRMASK (~(WORD)HW_ARC_ENDPTCTRL_RXE_SETMASK)
                            15913 ; 806  |#define HW_ARC_ENDPTCTRL_TXS_CLRMASK (~(WORD)HW_ARC_ENDPTCTRL_TXS_SETMASK)
                            15914 ; 807  |#define HW_ARC_ENDPTCTRL_TXD_CLRMASK (~(WORD)HW_ARC_ENDPTCTRL_TXD_SETMASK)
                            15915 ; 808  |#define HW_ARC_ENDPTCTRL_TXT_CLRMASK (~(WORD)HW_ARC_ENDPTCTRL_TXT_SETMASK)
                            15916 ; 809  |#define HW_ARC_ENDPTCTRL_TXI_CLRMASK (~(WORD)HW_ARC_ENDPTCTRL_TXI_SETMASK)
                            15917 ; 810  |#define HW_ARC_ENDPTCTRL_TXR_CLRMASK (~(WORD)HW_ARC_ENDPTCTRL_TXR_SETMASK)
                            15918 ; 811  |#define HW_ARC_ENDPTCTRL_TXE_CLRMASK (~(WORD)HW_ARC_ENDPTCTRL_TXE_SETMASK)
                            15919 ; 812  |
                            15920 ; 813  |
                            15921 ; 814  |typedef union               
                            15922 ; 815  |{
                            15923 ; 816  |    struct {
                            15924 ; 817  |        int RXS             :1;
                            15925 ; 818  |        int RXD             :1;
                            15926 ; 819  |        int RXT             :2;
                            15927 ; 820  |        int                 :1;
                            15928 ; 821  |        int RXI             :1;
                            15929 ; 822  |        int RXR             :1;
                            15930 ; 823  |        int RXE             :1;
                            15931 ; 824  |        int                 :8;
                            15932 ; 825  |        int TXS             :1;
                            15933 ; 826  |        int TXD             :1;
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 265

M:ADDR CODE           CYCLES LINE SOURCELINE
                            15934 ; 827  |        int TXT             :2;
                            15935 ; 828  |        int                 :1;
                            15936 ; 829  |        int TXI             :1;
                            15937 ; 830  |        int TXR             :1;
                            15938 ; 831  |        int TXE             :1;
                            15939 ; 832  |        int                 :24;
                            15940 ; 833  |    } B;
                            15941 ; 834  |    DWORD I;
                            15942 ; 835  |} endptctrl_type;
                            15943 ; 836  |//#define HW_ARC_ENDPTCTRL[n] (*(volatile usbintr_type _X*) (HW_ARC_BASEADDR+0x1c0+((n)*4)
                                  ))    
                            15944 ; 837  |
                            15945 ; 838  |#endif
                            15946 ; 839  |
                            15947 ; 840  |
                            15948 
                            15950 
                            15951 ; 37   |#include "regsusb20phy.h"
                            15952 
                            15954 
                            15955 ; 1    |//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                            15956 ; 2    |//;  Copyright(C) SigmaTel, Inc. 2002-2005
                            15957 ; 3    |//;  File        : regsusbphy.inc
                            15958 ; 4    |//;  Description : USB20 PHY Register definition
                            15959 ; 5    |//;  Updated 2.23.2003 By M. Henson
                            15960 ; 6    |//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                            15961 ; 7    |
                            15962 ; 8    |// The following naming conventions are followed in this file.
                            15963 ; 9    |// All registers are named using the format...
                            15964 ; 10   |//     HW_<module>_<regname>
                            15965 ; 11   |// where <module> is the module name which can be any of the following...
                            15966 ; 12   |//     USB20
                            15967 ; 13   |// (Note that when there is more than one copy of a particular module, the
                            15968 ; 14   |// module name includes a number starting from 0 for the first instance of
                            15969 ; 15   |// that module)
                            15970 ; 16   |// <regname> is the specific register within that module
                            15971 ; 17   |// We also define the following...
                            15972 ; 18   |//     HW_<module>_<regname>_BITPOS
                            15973 ; 19   |// which defines the starting bit (i.e. LSB) of a multi bit field
                            15974 ; 20   |//     HW_<module>_<regname>_SETMASK
                            15975 ; 21   |// which does something else, and
                            15976 ; 22   |//     HW_<module>_<regname>_CLRMASK
                            15977 ; 23   |// which does something else.
                            15978 ; 24   |// Other rules
                            15979 ; 25   |//     All caps
                            15980 ; 26   |//     Numeric identifiers start at 0
                            15981 ; 27   |
                            15982 ; 28   |#if !(defined(regsusbphyinc))
                            15983 ; 29   |#define regsusbphyinc 1
                            15984 ; 30   |
                            15985 ; 31   |#include "types.h"
                            15986 
                            15988 
                            15989 ; 1    |////////////////////////////////////////////////////////////////////////////////
                            15990 ; 2    |// Copyright(C) SigmaTel, Inc. 2000-2004
                            15991 ; 3    |//
                            15992 ; 4    |// Filename: types.h
                            15993 ; 5    |// Description: Standard data types
                            15994 ; 6    |////////////////////////////////////////////////////////////////////////////////
                            15995 ; 7    |
                            15996 ; 8    |#ifndef _TYPES_H
                            15997 ; 9    |#define _TYPES_H
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 266

M:ADDR CODE           CYCLES LINE SOURCELINE
                            15998 ; 10   |
                            15999 ; 11   |// TODO:  move this outta here!
                            16000 ; 12   |#if !defined(NOERROR)
                            16001 ; 13   |#define NOERROR 0
                            16002 ; 14   |#define SUCCESS 0
                            16003 ; 15   |#endif 
                            16004 ; 16   |#if !defined(SUCCESS)
                            16005 ; 17   |#define SUCCESS  0
                            16006 ; 18   |#endif
                            16007 ; 19   |#if !defined(ERROR)
                            16008 ; 20   |#define ERROR   -1
                            16009 ; 21   |#endif
                            16010 ; 22   |#if !defined(FALSE)
                            16011 ; 23   |#define FALSE 0
                            16012 ; 24   |#endif
                            16013 ; 25   |#if !defined(TRUE)
                            16014 ; 26   |#define TRUE  1
                            16015 ; 27   |#endif
                            16016 ; 28   |
                            16017 ; 29   |#if !defined(NULL)
                            16018 ; 30   |#define NULL 0
                            16019 ; 31   |#endif
                            16020 ; 32   |
                            16021 ; 33   |#define MAX_INT     0x7FFFFF
                            16022 ; 34   |#define MAX_LONG    0x7FFFFFffffff
                            16023 ; 35   |        // max positive unsigned long value: -1 == 0xFFFFFFffffff
                            16024 ; 36   |#define MAX_ULONG   (-1) 
                            16025 ; 37   |
                            16026 ; 38   |#define WORD_SIZE   24              // word size in bits
                            16027 ; 39   |#define BYTES_PER_WORD 3            // 8 bit bytes
                            16028 ; 40   |
                            16029 ; 41   |
                            16030 ; 42   |#define BYTE    unsigned char       // btVarName
                            16031 ; 43   |#define CHAR    signed char         // cVarName
                            16032 ; 44   |#define USHORT  unsigned short      // usVarName
                            16033 ; 45   |#define SHORT   unsigned short      // sVarName
                            16034 ; 46   |#define WORD    unsigned int        // wVarName
                            16035 ; 47   |#define INT     signed int          // iVarName
                            16036 ; 48   |#define DWORD   unsigned long       // dwVarName
                            16037 ; 49   |#define LONG    signed long         // lVarName
                            16038 ; 50   |#define BOOL    unsigned int        // bVarName
                            16039 ; 51   |#define FRACT   _fract              // frVarName
                            16040 ; 52   |#define LFRACT  long _fract         // lfrVarName
                            16041 ; 53   |#define CIRC    _circ               // cp<type prefix>VarName (see below)
                            16042 ; 54   |#define FLOAT   float               // fVarName
                            16043 ; 55   |#define DBL     double              // dVarName
                            16044 ; 56   |#define ENUM    enum                // eVarName
                            16045 ; 57   |#define CMX     _complex            // cmxVarName
                            16046 ; 58   |typedef WORD UCS3;                   // 
                            16047 ; 59   |
                            16048 ; 60   |#define UINT16  unsigned short
                            16049 ; 61   |#define UINT8   unsigned char   
                            16050 ; 62   |#define UINT32  unsigned long
                            16051 ; 63   |#define UINT64  unsigned long   // need to figure out how to do 64 bit values.  Or port ex
                                  isiting code to only use 48 bit
                            16052 ; 64   |#define INT64   unsigned long   // need to figure out how to do 64 bit values.  Or port ex
                                  isiting code to only use 48 bit
                            16053 ; 65   |#define WCHAR   UINT16
                            16054 ; 66   |
                            16055 ; 67   |//UINT128 is 16 bytes or 6 words
                            16056 ; 68   |typedef struct UINT128_3500 {   
                            16057 ; 69   |    int val[6];     
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 267

M:ADDR CODE           CYCLES LINE SOURCELINE
                            16058 ; 70   |} UINT128_3500;
                            16059 ; 71   |
                            16060 ; 72   |#define UINT128   UINT128_3500
                            16061 ; 73   |
                            16062 ; 74   |// Little endian word packed byte strings:   
                            16063 ; 75   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                            16064 ; 76   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                            16065 ; 77   |// Little endian word packed byte strings:   
                            16066 ; 78   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                            16067 ; 79   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                            16068 ; 80   |
                            16069 ; 81   |// Declare Memory Spaces To Use When Coding
                            16070 ; 82   |// A. Sector Buffers
                            16071 ; 83   |#define SECTOR_BUFFER_MEM_X _X
                            16072 ; 84   |#define SECTOR_BUFFER_MEM_Y _Y
                            16073 ; 85   |#define SECTOR_BUFFER_MEM SECTOR_BUFFER_MEM_X
                            16074 ; 86   |typedef WORD SECTOR_BUFFER_MEM SECTOR_BUFFER;
                            16075 ; 87   |typedef SECTOR_BUFFER * P_SECTOR_BUFFER;
                            16076 ; 88   |// B. Media DDI Memory
                            16077 ; 89   |#define MEDIA_DDI_MEM _Y
                            16078 ; 90   |
                            16079 ; 91   |
                            16080 ; 92   |
                            16081 ; 93   |// Pointers to linear structures are labeled as: p<type prefix>VarName
                            16082 ; 94   |// Examples of circular pointers:
                            16083 ; 95   |//    INT CIRC cpiVarName
                            16084 ; 96   |//    DWORD CIRC cpdwVarName
                            16085 ; 97   |
                            16086 ; 98   |#define RETCODE INT                 // rcVarName
                            16087 ; 99   |
                            16088 ; 100  |// generic bitfield structure
                            16089 ; 101  |struct Bitfield {
                            16090 ; 102  |    unsigned int B0  :1;
                            16091 ; 103  |    unsigned int B1  :1;
                            16092 ; 104  |    unsigned int B2  :1;
                            16093 ; 105  |    unsigned int B3  :1;
                            16094 ; 106  |    unsigned int B4  :1;
                            16095 ; 107  |    unsigned int B5  :1;
                            16096 ; 108  |    unsigned int B6  :1;
                            16097 ; 109  |    unsigned int B7  :1;
                            16098 ; 110  |    unsigned int B8  :1;
                            16099 ; 111  |    unsigned int B9  :1;
                            16100 ; 112  |    unsigned int B10 :1;
                            16101 ; 113  |    unsigned int B11 :1;
                            16102 ; 114  |    unsigned int B12 :1;
                            16103 ; 115  |    unsigned int B13 :1;
                            16104 ; 116  |    unsigned int B14 :1;
                            16105 ; 117  |    unsigned int B15 :1;
                            16106 ; 118  |    unsigned int B16 :1;
                            16107 ; 119  |    unsigned int B17 :1;
                            16108 ; 120  |    unsigned int B18 :1;
                            16109 ; 121  |    unsigned int B19 :1;
                            16110 ; 122  |    unsigned int B20 :1;
                            16111 ; 123  |    unsigned int B21 :1;
                            16112 ; 124  |    unsigned int B22 :1;
                            16113 ; 125  |    unsigned int B23 :1;
                            16114 ; 126  |};
                            16115 ; 127  |
                            16116 ; 128  |union BitInt {
                            16117 ; 129  |        struct Bitfield B;
                            16118 ; 130  |        int        I;
                            16119 ; 131  |};
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 268

M:ADDR CODE           CYCLES LINE SOURCELINE
                            16120 ; 132  |
                            16121 ; 133  |#define MAX_MSG_LENGTH 10
                            16122 ; 134  |struct CMessage
                            16123 ; 135  |{
                            16124 ; 136  |        unsigned int m_uLength;
                            16125 ; 137  |        unsigned int m_uMsg[MAX_MSG_LENGTH];
                            16126 ; 138  |};
                            16127 ; 139  |
                            16128 ; 140  |typedef struct {
                            16129 ; 141  |    WORD m_wLength;
                            16130 ; 142  |    WORD m_wMessage;
                            16131 ; 143  |    WORD m_wParams[MAX_MSG_LENGTH];
                            16132 ; 144  |} Message;
                            16133 ; 145  |
                            16134 ; 146  |struct MessageQueueDescriptor
                            16135 ; 147  |{
                            16136 ; 148  |        int *m_pBase;
                            16137 ; 149  |        int m_iModulo;
                            16138 ; 150  |        int m_iSize;
                            16139 ; 151  |        int *m_pHead;
                            16140 ; 152  |        int *m_pTail;
                            16141 ; 153  |};
                            16142 ; 154  |
                            16143 ; 155  |struct ModuleEntry
                            16144 ; 156  |{
                            16145 ; 157  |    int m_iSignaledEventMask;
                            16146 ; 158  |    int m_iWaitEventMask;
                            16147 ; 159  |    int m_iResourceOfCode;
                            16148 ; 160  |    struct MessageQueueDescriptor *m_pMessageQueue;
                            16149 ; 161  |    int _asmfunc (*m_pProcessEntryPoint)(union WaitMask Signals,struct MessageQueueDescrip
                                  tor *);
                            16150 ; 162  |    int _asmfunc (*m_pInitFunction)(struct MessageQueueDescriptor *);
                            16151 ; 163  |    int m_uTimeOutHigh;
                            16152 ; 164  |    int m_uTimeOutLow;
                            16153 ; 165  |    int _asmfunc (*m_pBackgroundFunction)(struct MessageQueueDescriptor *);
                            16154 ; 166  |};
                            16155 ; 167  |
                            16156 ; 168  |union WaitMask{
                            16157 ; 169  |    struct B{
                            16158 ; 170  |        unsigned int m_bNone     :1;
                            16159 ; 171  |        unsigned int m_bMessage  :1;
                            16160 ; 172  |        unsigned int m_bTimer    :1;
                            16161 ; 173  |        unsigned int m_bButton   :1;
                            16162 ; 174  |    } B;
                            16163 ; 175  |    int I;
                            16164 ; 176  |} ;
                            16165 ; 177  |
                            16166 ; 178  |
                            16167 ; 179  |struct Button {
                            16168 ; 180  |        WORD wButtonEvent;
                            16169 ; 181  |        WORD wUnused[MAX_MSG_LENGTH];   
                            16170 ; 182  |};
                            16171 ; 183  |
                            16172 ; 184  |struct Message {
                            16173 ; 185  |        WORD wMsgLength;
                            16174 ; 186  |        WORD wMsgCommand;
                            16175 ; 187  |        WORD wMsgParms[MAX_MSG_LENGTH-1];
                            16176 ; 188  |};
                            16177 ; 189  |
                            16178 ; 190  |union EventTypes {
                            16179 ; 191  |        struct CMessage msg;
                            16180 ; 192  |        struct Button Button ;
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 269

M:ADDR CODE           CYCLES LINE SOURCELINE
                            16181 ; 193  |        struct Message Message;
                            16182 ; 194  |};
                            16183 ; 195  |
                            16184 ; 196  |// next 2 used to get updater build to return correct protocol ver in scsi response.
                            16185 ; 197  |#define BUILD_TYPE_UPDATER  0x100
                            16186 ; 198  |#define BUILD_TYPE_HOSTLINK 0x101
                            16187 ; 199  |#define BUILD_TYPE_PLAYER   0x102
                            16188 ; 200  |
                            16189 ; 201  |// Resets part if RETAIL build. DEBUG build executes debug instruction to halt.
                            16190 ; 202  |#define SystemHalt() __asm(" include 'sysmacro.asm' \n error") 
                            16191 ; 203  |#define assert(x)    if(!(x)) __asm(" include 'sysmacro.asm' \n error")
                            16192 ; 204  |
                            16193 ; 205  |#if DEBUG
                            16194 ; 206  |// For DEBUG builds, DebugBuildAssert(condition) halts if condition evaluates to FALSE. 
                            16195 ; 207  |#define DebugBuildAssert(x)    if(!(x)) __asm(" debug ")
                            16196 ; 208  |#else 
                            16197 ; 209  |// For RETAIL builds, DebugBuildAssert(condition) does nothing & execution continues rathe
                                  r than halt or reset. 
                            16198 ; 210  |#define DebugBuildAssert(x)    
                            16199 ; 211  |#endif
                            16200 ; 212  |
                            16201 ; 213  |// Do this in your C files to make a reminder that's displayed during the build.
                            16202 ; 214  |//  #pragma asm
                            16203 ; 215  |//  WARN 'Note to builder: reminder to do this after verifying that'
                            16204 ; 216  |//  #pragma endasm
                            16205 ; 217  |
                            16206 ; 218  |
                            16207 ; 219  |#ifdef COLOR_262K
                            16208 ; 220  |#define RGB(r,g,b)    ((0x0000FC & (r)) << 10) | ((0x0000FC & (g)) << 4) | ((0x0000FC & (b
                                  )) >> 2)    //262k
                            16209 ; 221  |#elif defined(COLOR_65K)
                            16210 ; 222  |#define RGB(r,g,b)    ((0x0000F8 & (r)) << 8) | ((0x0000FC & (g)) << 3) | ((0x0000F8 & (b)
                                  ) >> 3)  //65k
                            16211 ; 223  |#else
                            16212 ; 224  |#define RGB(r,g,b)       ((0x0000F0 & (r)) << 4) | (0x0000F0 & (g)) | ((0x0000F0 & (b)) >>
                                   4)
                            16213 ; 225  |#endif
                            16214 ; 226  |    
                            16215 ; 227  |#endif // #ifndef _TYPES_H
                            16216 
                            16218 
                            16219 ; 32   |
                            16220 ; 33   |//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                            16221 ; 34   |//   USB2.0 PHY STMP Registers 
                            16222 ; 35   |//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                            16223 ; 36   |#define HW_USBPHY_BASEADDR (0xF210)
                            16224 ; 37   |
                            16225 ; 38   |
                            16226 ; 39   |/////////////////////////////////////////////////////////////////////////////////
                            16227 ; 40   |//  USB PHY Powerdown Register (HW_USBPHYPWD) Bit Definitions
                            16228 ; 41   |
                            16229 ; 42   |#define HW_USBPHYPWD_TXDISCON1500_BITPOS (5)
                            16230 ; 43   |#define HW_USBPHYPWD_PLLVCOPWD_BITPOS (6)
                            16231 ; 44   |#define HW_USBPHYPWD_PLLVCPPWD_BITPOS (7)
                            16232 ; 45   |#define HW_USBPHYPWD_TXPWDFS_BITPOS (10)
                            16233 ; 46   |#define HW_USBPHYPWD_TXPWDIBIAS_BITPOS (11)
                            16234 ; 47   |#define HW_USBPHYPWD_TXPWDV2I_BITPOS (12)
                            16235 ; 48   |#define HW_USBPHYPWD_TXPWDVBG_BITPOS (13)
                            16236 ; 49   |#define HW_USBPHYPWD_TXPWDCOMP_BITPOS (14)
                            16237 ; 50   |#define HW_USBPHYPWD_RXPWDDISCONDET_BITPOS (16)
                            16238 ; 51   |#define HW_USBPHYPWD_RXPWDENV_BITPOS (17)
                            16239 ; 52   |#define HW_USBPHYPWD_RXPWD1PT1_BITPOS (18)
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 270

M:ADDR CODE           CYCLES LINE SOURCELINE
                            16240 ; 53   |#define HW_USBPHYPWD_RXPWDDIFF_BITPOS (19)
                            16241 ; 54   |#define HW_USBPHYPWD_RXPWDRX_BITPOS (20)
                            16242 ; 55   |#define HW_USBPHYPWD_PWDIBIAS_BITPOS (22)
                            16243 ; 56   |#define HW_USBPHYPWD_REGRESET_BITPOS (23)
                            16244 ; 57   |
                            16245 ; 58   |#define HW_USBPHYPWD_TXDISCON1500_SETMASK (1<<HW_USBPHYPWD_TXDISCON1500_BITPOS)
                            16246 ; 59   |#define HW_USBPHYPWD_PLLVCOPWD_SETMASK (1<<HW_USBPHYPWD_PLLVCOPWD_BITPOS)
                            16247 ; 60   |#define HW_USBPHYPWD_PLLVCPPWD_SETMASK (1<<HW_USBPHYPWD_PLLVCPPWD_BITPOS)
                            16248 ; 61   |#define HW_USBPHYPWD_TXPWDFS_SETMASK (1<<HW_USBPHYPWD_TXPWDFS_BITPOS)
                            16249 ; 62   |#define HW_USBPHYPWD_TXPWDIBIAS_SETMASK (1<<HW_USBPHYPWD_TXPWDIBIAS_BITPOS)
                            16250 ; 63   |#define HW_USBPHYPWD_TXPWDV2I_SETMASK (1<<HW_USBPHYPWD_TXPWDV2I_BITPOS)
                            16251 ; 64   |#define HW_USBPHYPWD_TXPWDVBG_SETMASK (1<<HW_USBPHYPWD_TXPWDVBG_BITPOS)
                            16252 ; 65   |#define HW_USBPHYPWD_TXPWDCOMP_SETMASK (1<<HW_USBPHYPWD_TXPWDCOMP_BITPOS)
                            16253 ; 66   |#define HW_USBPHYPWD_RXPWDDISCONDET_SETMASK (1<<HW_USBPHYPWD_RXPWDDISCONDET_BITPOS)
                            16254 ; 67   |#define HW_USBPHYPWD_RXPWDENV_SETMASK (1<<HW_USBPHYPWD_RXPWDENV_BITPOS)
                            16255 ; 68   |#define HW_USBPHYPWD_RXPWD1PT1_SETMASK (1<<HW_USBPHYPWD_RXPWD1PT1_BITPOS)
                            16256 ; 69   |#define HW_USBPHYPWD_RXPWDDIFF_SETMASK (1<<HW_USBPHYPWD_RXPWDDIFF_BITPOS)
                            16257 ; 70   |#define HW_USBPHYPWD_RXPWDRX_SETMASK (1<<HW_USBPHYPWD_RXPWDRX_BITPOS)
                            16258 ; 71   |#define HW_USBPHYPWD_PWDIBIAS_SETMASK (1<<HW_USBPHYPWD_PWDIBIAS_BITPOS)
                            16259 ; 72   |#define HW_USBPHYPWD_REGRESET_SETMASK (1<<HW_USBPHYPWD_REGRESET_BITPOS)
                            16260 ; 73   |
                            16261 ; 74   |#define HW_USBPHYPWD_TXDISCON1500_CLRMASK (~(WORD)HW_USBPHYPWD_TXDISCON1500_SETMASK)
                            16262 ; 75   |#define HW_USBPHYPWD_PLLVCOPWD_CLRMASK (~(WORD)HW_USBPHYPWD_PLLVCOPWD_SETMASK)
                            16263 ; 76   |#define HW_USBPHYPWD_PLLVCPPWD_CLRMASK (~(WORD)HW_USBPHYPWD_PLLVCPPWD_SETMASK)
                            16264 ; 77   |#define HW_USBPHYPWD_TXPWDFS_CLRMASK (~(WORD)HW_USBPHYPWD_TXPWDFS_SETMASK)
                            16265 ; 78   |#define HW_USBPHYPWD_TXPWDIBIAS_CLRMASK (~(WORD)HW_USBPHYPWD_TXPWDIBIAS_SETMASK)
                            16266 ; 79   |#define HW_USBPHYPWD_TXPWDV2I_CLRMASK (~(WORD)HW_USBPHYPWD_TXPWDV2I_SETMASK)
                            16267 ; 80   |#define HW_USBPHYPWD_TXPWDVBG_CLRMASK (~(WORD)HW_USBPHYPWD_TXPWDVBG_SETMASK)
                            16268 ; 81   |#define HW_USBPHYPWD_TXPWDCOMP_CLRMASK (~(WORD)HW_USBPHYPWD_TXPWDCOMP_SETMASK)
                            16269 ; 82   |#define HW_USBPHYPWD_RXPWDDISCONDET_CLRMASK (~(WORD)HW_USBPHYPWD_RXPWDDISCONDET_SETMASK)
                            16270 ; 83   |#define HW_USBPHYPWD_RXPWDENV_CLRMASK (~(WORD)HW_USBPHYPWD_RXPWDENV_SETMASK)
                            16271 ; 84   |#define HW_USBPHYPWD_RXPWD1PT1_CLRMASK (~(WORD)HW_USBPHYPWD_RXPWD1PT1_SETMASK)
                            16272 ; 85   |#define HW_USBPHYPWD_RXPWDDIFF_CLRMASK (~(WORD)HW_USBPHYPWD_RXPWDDIFF_SETMASK)
                            16273 ; 86   |#define HW_USBPHYPWD_RXPWDRX_CLRMASK (~(WORD)HW_USBPHYPWD_RXPWDRX_SETMASK)
                            16274 ; 87   |#define HW_USBPHYPWD_PWDIBIAS_CLRMASK (~(WORD)HW_USBPHYPWD_PWDIBIAS_SETMASK)
                            16275 ; 88   |#define HW_USBPHYPWD_REGRESET_CLRMASK (~(WORD)HW_USBPHYPWD_REGRESET_SETMASK)
                            16276 ; 89   |
                            16277 ; 90   |typedef union               
                            16278 ; 91   |{
                            16279 ; 92   |    struct {
                            16280 ; 93   |        int RSVD0          :5;
                            16281 ; 94   |        int TXDISCON1500   :1;
                            16282 ; 95   |        int PLLVCOPWD      :1;
                            16283 ; 96   |        int PLLVCPPWD      :1;
                            16284 ; 97   |        int RSVD1          :2;
                            16285 ; 98   |        int TXPWDFS        :1;
                            16286 ; 99   |        int TXPWDIBIAS     :1;
                            16287 ; 100  |        int TXPWDV2I       :1;
                            16288 ; 101  |        int TXPWDVBG       :1;
                            16289 ; 102  |        int TXPWDCOMP      :1;
                            16290 ; 103  |        int RSVD2          :1;
                            16291 ; 104  |        int RXPWDDISCONDET :1;
                            16292 ; 105  |        int RXPWDENV       :1;
                            16293 ; 106  |        int RXPWD1PT1      :1;
                            16294 ; 107  |        int RXPWDDIFF      :1;
                            16295 ; 108  |        int RXPWDRX        :1;
                            16296 ; 109  |        int RSVD3          :1;
                            16297 ; 110  |        int PWDIBIAS       :1;
                            16298 ; 111  |        int REGRESET       :1;
                            16299 ; 112  |    } B;
                            16300 ; 113  |    int I;
                            16301 ; 114  |} usbphypwd_type;
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 271

M:ADDR CODE           CYCLES LINE SOURCELINE
                            16302 ; 115  |#define HW_USBPHYPWD      (*(volatile usbphypwd_type _X*) (HW_USBPHY_BASEADDR))    /* USB 
                                  PHY Powerdown Register */
                            16303 ; 116  |
                            16304 ; 117  |/////////////////////////////////////////////////////////////////////////////////
                            16305 ; 118  |//  USB PHY Transmit register (HW_USBPHYTX) Bit Definitions
                            16306 ; 119  |#define HW_USBPHYTX_TXCAL1500_BITPOS (0)
                            16307 ; 120  |#define HW_USBPHYTX_TXENCAL1500_BITPOS (5)
                            16308 ; 121  |#define HW_USBPHYTX_TXHSXCVR_BITPOS (6)
                            16309 ; 122  |#define HW_USBPHYTX_TXCALIBRATE_BITPOS (7)
                            16310 ; 123  |#define HW_USBPHYTX_TXCAL45DN_BITPOS (8)
                            16311 ; 124  |#define HW_USBPHYTX_TXENCAL45DN_BITPOS (13)
                            16312 ; 125  |#define HW_USBPHYTX_TXHSTERM_BITPOS (14)
                            16313 ; 126  |#define HW_USBPHYTX_TXSKEW_BITPOS (15)
                            16314 ; 127  |#define HW_USBPHYTX_TXCAL45DP_BITPOS (16)
                            16315 ; 128  |#define HW_USBPHYTX_TXENCAL45DP_BITPOS (21)
                            16316 ; 129  |#define HW_USBPHYTX_TXFSHIZ_BITPOS (22)
                            16317 ; 130  |#define HW_USBPHYTX_TXCOMPOUT_BITPOS (23)
                            16318 ; 131  |
                            16319 ; 132  |#define HW_USBPHYTX_TXCAL1500_WIDTH (4)
                            16320 ; 133  |#define HW_USBPHYTX_TXENCAL1500_WIDTH (1)
                            16321 ; 134  |#define HW_USBPHYTX_TXHSXCVR_WIDTH (1)
                            16322 ; 135  |#define HW_USBPHYTX_TXCALIBRATE_WIDTH (1)
                            16323 ; 136  |#define HW_USBPHYTX_TXCAL45DN_WIDTH (4)
                            16324 ; 137  |#define HW_USBPHYTX_TXENCAL45DN_WIDTH (1)
                            16325 ; 138  |#define HW_USBPHYTX_TXHSTERM_WIDTH (1)
                            16326 ; 139  |#define HW_USBPHYTX_TXSKEW_WIDTH (1)
                            16327 ; 140  |#define HW_USBPHYTX_TXCAL45DP_WIDTH (4)
                            16328 ; 141  |#define HW_USBPHYTX_TXENCAL45DP_WIDTH (1)
                            16329 ; 142  |#define HW_USBPHYTX_TXFSHIZ_WIDTH (1)
                            16330 ; 143  |#define HW_USBPHYTX_TXCOMPOUT_WIDTH (1)
                            16331 ; 144  |
                            16332 ; 145  |#define HW_USBPHYTX_TXCAL1500_SETMASK (((1<<HW_USBPHYTX_TXCAL1500_WIDTH)-1)<<HW_USBPHYTX_T
                                  XCAL1500_BITPOS)
                            16333 ; 146  |#define HW_USBPHYTX_TXENCAL1500_SETMASK (((1<<HW_USBPHYTX_TXENCAL1500_WIDTH)-1)<<HW_USBPHY
                                  TX_TXENCAL1500_BITPOS)
                            16334 ; 147  |#define HW_USBPHYTX_TXHSXCVR_SETMASK (((1<<HW_USBPHYTX_TXHSXCVR_WIDTH)-1)<<HW_USBPHYTX_TXH
                                  SXCVR_BITPOS)
                            16335 ; 148  |#define HW_USBPHYTX_TXCALIBRATE_SETMASK (((1<<HW_USBPHYTX_TXCALIBRATE_WIDTH)-1)<<HW_USBPHY
                                  TX_TXCALIBRATE_BITPOS)
                            16336 ; 149  |#define HW_USBPHYTX_TXCAL45DN_SETMASK (((1<<HW_USBPHYTX_TXCAL45DN_WIDTH)-1)<<HW_USBPHYTX_T
                                  XCAL45DN_BITPOS)
                            16337 ; 150  |#define HW_USBPHYTX_TXENCAL45DN_SETMASK (((1<<HW_USBPHYTX_TXENCAL45DN_WIDTH)-1)<<HW_USBPHY
                                  TX_TXENCAL45DN_BITPOS)
                            16338 ; 151  |#define HW_USBPHYTX_TXHSTERM_SETMASK (((1<<HW_USBPHYTX_TXHSTERM_WIDTH)-1)<<HW_USBPHYTX_TXH
                                  STERM_BITPOS)
                            16339 ; 152  |#define HW_USBPHYTX_TXSKEW_SETMASK (((1<<HW_USBPHYTX_TXSKEW_WIDTH)-1)<<HW_USBPHYTX_TXSKEW_
                                  BITPOS)
                            16340 ; 153  |#define HW_USBPHYTX_TXCAL45DP_SETMASK (((1<<HW_USBPHYTX_TXCAL45DP_WIDTH)-1)<<HW_USBPHYTX_T
                                  XCAL45DP_BITPOS)
                            16341 ; 154  |#define HW_USBPHYTX_TXENCAL45DP_SETMASK (((1<<HW_USBPHYTX_TXENCAL45DP_WIDTH)-1)<<HW_USBPHY
                                  TX_TXENCAL45DP_BITPOS)
                            16342 ; 155  |#define HW_USBPHYTX_TXFSHIZ_SETMASK (((1<<HW_USBPHYTX_TXFSHIZ_WIDTH)-1)<<HW_USBPHYTX_TXFSH
                                  IZ_BITPOS)
                            16343 ; 156  |#define HW_USBPHYTX_TXCOMPOUT_SETMASK (((1<<HW_USBPHYTX_TXCOMPOUT_WIDTH)-1)<<HW_USBPHYTX_T
                                  XCOMPOUT_BITPOS)
                            16344 ; 157  |
                            16345 ; 158  |#define HW_USBPHYTX_TXCAL1500_CLRMASK (~(WORD)HW_USBPHYTX_TXCAL1500_SETMASK)
                            16346 ; 159  |#define HW_USBPHYTX_TXENCAL1500_CLRMASK (~(WORD)HW_USBPHYTX_TXENCAL1500_SETMASK)
                            16347 ; 160  |#define HW_USBPHYTX_TXHSXCVR_CLRMASK (~(WORD)HW_USBPHYTX_TXHSXCVR_SETMASK)
                            16348 ; 161  |#define HW_USBPHYTX_TXCALIBRATE_CLRMASK (~(WORD)HW_USBPHYTX_TXCALIBRATE_SETMASK)
                            16349 ; 162  |#define HW_USBPHYTX_TXCAL45DN_CLRMASK (~(WORD)HW_USBPHYTX_TXCAL45DN_SETMASK)
                            16350 ; 163  |#define HW_USBPHYTX_TXENCAL45DN_CLRMASK (~(WORD)HW_USBPHYTX_TXENCAL45DN_SETMASK)
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 272

M:ADDR CODE           CYCLES LINE SOURCELINE
                            16351 ; 164  |#define HW_USBPHYTX_TXHSTERM_CLRMASK (~(WORD)HW_USBPHYTX_TXHSTERM_SETMASK)
                            16352 ; 165  |#define HW_USBPHYTX_TXSKEW_CLRMASK (~(WORD)HW_USBPHYTX_TXSKEW_SETMASK)
                            16353 ; 166  |#define HW_USBPHYTX_TXCAL45DP_CLRMASK (~(WORD)HW_USBPHYTX_TXCAL45DP_SETMASK)
                            16354 ; 167  |#define HW_USBPHYTX_TXENCAL45DP_CLRMASK (~(WORD)HW_USBPHYTX_TXENCAL45DP_SETMASK)
                            16355 ; 168  |#define HW_USBPHYTX_TXFSHIZ_CLRMASK (~(WORD)HW_USBPHYTX_TXFSHIZ_SETMASK)
                            16356 ; 169  |#define HW_USBPHYTX_TXCOMPOUT_CLRMASK (~(WORD)HW_USBPHYTX_TXCOMPOUT_SETMASK)
                            16357 ; 170  |
                            16358 ; 171  |typedef union               
                            16359 ; 172  |{
                            16360 ; 173  |    struct {
                            16361 ; 174  |        int TXCAL1500          :4;
                            16362 ; 175  |        int RSVD0              :1;
                            16363 ; 176  |        int TXENCAL1500        :1;
                            16364 ; 177  |        int TXHSXCVR           :1;
                            16365 ; 178  |        int TXCALIBRATE        :1;
                            16366 ; 179  |        int TXCAL45DN          :4;
                            16367 ; 180  |        int RSVD1              :1;
                            16368 ; 181  |        int TXENCAL45DN        :1;
                            16369 ; 182  |        int TXHSTERM           :1;
                            16370 ; 183  |        int TXSKEW             :1;
                            16371 ; 184  |        int TXCAL45DP          :4;
                            16372 ; 185  |        int RSVD2              :1;
                            16373 ; 186  |        int TXENCAL45DP        :1;
                            16374 ; 187  |        int TXFSHIZ            :1;
                            16375 ; 188  |        int TXCOMPOUT          :1;
                            16376 ; 189  |    } B;
                            16377 ; 190  |    int I;
                            16378 ; 191  |} usbphytx_type;
                            16379 ; 192  |#define HW_USBPHYTX      (*(volatile usbphytx_type _X*) (HW_USBPHY_BASEADDR+1))    
                            16380 ; 193  |
                            16381 ; 194  |/////////////////////////////////////////////////////////////////////////////////
                            16382 ; 195  |//  USB PHY PLL register (HW_USBPHYPLL) Bit Definitions
                            16383 ; 196  |#define HW_USBPHYPLL_PLLV2ISEL_BITPOS (0)
                            16384 ; 197  |#define HW_USBPHYPLL_PLLCPDBLIP_BITPOS (5)
                            16385 ; 198  |#define HW_USBPHYPLL_PLLVCOCLK2_BITPOS (6)
                            16386 ; 199  |#define HW_USBPHYPLL_PLLVCOCLK24_BITPOS (7)
                            16387 ; 200  |#define HW_USBPHYPLL_PLLCPNSEL_BITPOS (8)
                            16388 ; 201  |#define HW_USBPHYPLL_PLLCLKDIVSEL_BITPOS (12)
                            16389 ; 202  |#define HW_USBPHYPLL_PLLPFDRST_BITPOS (20)
                            16390 ; 203  |#define HW_USBPHYPLL_PLLCPSHORTLFR_BITPOS (21)
                            16391 ; 204  |#define HW_USBPHYPLL_PLLVCOKSTART_BITPOS (22)
                            16392 ; 205  |#define HW_USBPHYPLL_PLLCLKDIVRSTZ_BITPOS (23)
                            16393 ; 206  |
                            16394 ; 207  |#define HW_USBPHYPLL_PLLV2ISEL_WIDTH (4)
                            16395 ; 208  |#define HW_USBPHYPLL_PLLCPDBLIP_WIDTH (1)
                            16396 ; 209  |#define HW_USBPHYPLL_PLLVCOCLK2_WIDTH (1)
                            16397 ; 210  |#define HW_USBPHYPLL_PLLVCOCLK24_WIDTH (1)
                            16398 ; 211  |#define HW_USBPHYPLL_PLLCPNSEL_WIDTH (4)
                            16399 ; 212  |#define HW_USBPHYPLL_PLLCLKDIVSEL_WIDTH (4)
                            16400 ; 213  |#define HW_USBPHYPLL_PLLPFDRST_WIDTH (1)
                            16401 ; 214  |#define HW_USBPHYPLL_PLLCPSHORTLFR_WIDTH (1)
                            16402 ; 215  |#define HW_USBPHYPLL_PLLVCOKSTART_WIDTH (1)
                            16403 ; 216  |#define HW_USBPHYPLL_PLLCLKDIVRSTZ_WIDTH (1)
                            16404 ; 217  |
                            16405 ; 218  |#define HW_USBPHYPLL_PLLV2ISEL_SETMASK (((1<<HW_USBPHYPLL_PLLV2ISEL_WIDTH)-1)<<HW_USBPHYPL
                                  L_PLLV2ISEL_BITPOS)
                            16406 ; 219  |#define HW_USBPHYPLL_PLLCPDBLIP_SETMASK (((1<<HW_USBPHYPLL_PLLCPDBLIP_WIDTH)-1)<<HW_USBPHY
                                  PLL_PLLCPDBLIP_BITPOS)
                            16407 ; 220  |#define HW_USBPHYPLL_PLLVCOCLK2_SETMASK (((1<<HW_USBPHYPLL_PLLVCOCLK2_WIDTH)-1)<<HW_USBPHY
                                  PLL_PLLVCOCLK2_BITPOS)
                            16408 ; 221  |#define HW_USBPHYPLL_PLLVCOCLK24_SETMASK (((1<<HW_USBPHYPLL_PLLVCOCLK24_WIDTH)-1)<<HW_USBP
                                  HYPLL_PLLVCOCLK24_BITPOS)
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 273

M:ADDR CODE           CYCLES LINE SOURCELINE
                            16409 ; 222  |#define HW_USBPHYPLL_PLLCPNSEL_SETMASK (((1<<HW_USBPHYPLL_PLLCPNSEL_WIDTH)-1)<<HW_USBPHYPL
                                  L_PLLCPNSEL_BITPOS)
                            16410 ; 223  |#define HW_USBPHYPLL_PLLCLKDIVSEL_SETMASK (((1<<HW_USBPHYPLL_PLLCLKDIVSEL_WIDTH)-1)<<HW_US
                                  BPHYPLL_PLLCLKDIVSEL_BITPOS)
                            16411 ; 224  |#define HW_USBPHYPLL_PLLPFDRST_SETMASK (((1<<HW_USBPHYPLL_PLLPFDRST_WIDTH)-1)<<HW_USBPHYPL
                                  L_PLLPFDRST_BITPOS)
                            16412 ; 225  |#define HW_USBPHYPLL_PLLCPSHORTLFR_SETMASK (((1<<HW_USBPHYPLL_PLLCPSHORTLFR_WIDTH)-1)<<HW_
                                  USBPHYPLL_PLLCPSHORTLFR_BITPOS)
                            16413 ; 226  |#define HW_USBPHYPLL_PLLVCOKSTART_SETMASK (((1<<HW_USBPHYPLL_PLLVCOKSTART_WIDTH)-1)<<HW_US
                                  BPHYPLL_PLLVCOKSTART_BITPOS)
                            16414 ; 227  |#define HW_USBPHYPLL_PLLCLKDIVRSTZ_SETMASK (((1<<HW_USBPHYPLL_PLLCLKDIVRSTZ_WIDTH)-1)<<HW_
                                  USBPHYPLL_PLLCLKDIVRSTZ_BITPOS)
                            16415 ; 228  |
                            16416 ; 229  |#define HW_USBPHYPLL_PLLV2ISEL_CLRMASK (~(WORD)HW_USBPHYPLL_PLLV2ISEL_SETMASK)
                            16417 ; 230  |#define HW_USBPHYPLL_PLLCPDBLIP_CLRMASK (~(WORD)HW_USBPHYPLL_PLLCPDBLIP_SETMASK)
                            16418 ; 231  |#define HW_USBPHYPLL_PLLVCOCLK2_CLRMASK (~(WORD)HW_USBPHYPLL_PLLVCOCLK2_SETMASK)
                            16419 ; 232  |#define HW_USBPHYPLL_PLLVCOCLK24_CLRMASK (~(WORD)HW_USBPHYPLL_PLLVCOCLK24_SETMASK)
                            16420 ; 233  |#define HW_USBPHYPLL_PLLCPNSEL_CLRMASK (~(WORD)HW_USBPHYPLL_PLLCPNSEL_SETMASK)
                            16421 ; 234  |#define HW_USBPHYPLL_PLLCLKDIVSEL_CLRMASK (~(WORD)HW_USBPHYPLL_PLLCLKDIVSEL_SETMASK)
                            16422 ; 235  |#define HW_USBPHYPLL_PLLPFDRST_CLRMASK (~(WORD)HW_USBPHYPLL_PLLPFDRST_SETMASK)
                            16423 ; 236  |#define HW_USBPHYPLL_PLLCPSHORTLFR_CLRMASK (~(WORD)HW_USBPHYPLL_PLLCPSHORTLFR_SETMASK)
                            16424 ; 237  |#define HW_USBPHYPLL_PLLVCOKSTART_CLRMASK (~(WORD)HW_USBPHYPLL_PLLVCOKSTART_SETMASK)
                            16425 ; 238  |#define HW_USBPHYPLL_PLLCLKDIVRSTZ_CLRMASK (~(WORD)HW_USBPHYPLL_PLLCLKDIVRSTZ_SETMASK)
                            16426 ; 239  |
                            16427 ; 240  |typedef union               
                            16428 ; 241  |{
                            16429 ; 242  |    struct {
                            16430 ; 243  |        int PLLV2ISEL        :4;
                            16431 ; 244  |        int RSVD0            :1;
                            16432 ; 245  |        int PLLCPDBLIP       :1;
                            16433 ; 246  |        int PLLVCOCLK2       :1;
                            16434 ; 247  |        int PLLVCOCLK24      :1;
                            16435 ; 248  |        int PLLCPNSEL        :4;
                            16436 ; 249  |        int PLLCLKDIVSEL     :4;
                            16437 ; 250  |        int RSVD1            :4;
                            16438 ; 251  |        int PLLPFDRST        :1;
                            16439 ; 252  |        int PLLCPSHORTLFR    :1;
                            16440 ; 253  |        int PLLVCOKSTART     :1;
                            16441 ; 254  |        int PLLCLKDIVRSTZ    :1;
                            16442 ; 255  |    } B;
                            16443 ; 256  |    int I;
                            16444 ; 257  |} usbphypll_type;
                            16445 ; 258  |#define HW_USBPHYPLL      (*(volatile usbphypll_type _X*) (HW_USBPHY_BASEADDR+2))    
                            16446 ; 259  |
                            16447 ; 260  |/////////////////////////////////////////////////////////////////////////////////
                            16448 ; 261  |//  USB PHY PLL register (HW_USBPHYRX) Bit Definitions
                            16449 ; 262  |#define HW_USBRX_ENVADJ_BITPOS (0)
                            16450 ; 263  |#define HW_USBRX_DISCONADJ_BITPOS (4)
                            16451 ; 264  |#define HW_USBRX_DEBUGMODE_BITPOS (8)
                            16452 ; 265  |#define HW_USBRX_PLLLKTIMECTL_BITPOS (12)
                            16453 ; 266  |#define HW_USBRX_PLLCKDIVCTL_BITPOS (16)
                            16454 ; 267  |#define HW_USBRX_HOSTMODETEST_BITPOS (20)
                            16455 ; 268  |#define HW_USBRX_FSCKSOURCESEL_BITPOS (21)
                            16456 ; 269  |#define HW_USBRX_REGRXDBYPASS_BITPOS (22)
                            16457 ; 270  |#define HW_USBRX_PLLLOCKED_BITPOS (23)
                            16458 ; 271  |
                            16459 ; 272  |#define HW_USBRX_ENVADJ_WIDTH (4)
                            16460 ; 273  |#define HW_USBRX_DISCONADJ_WIDTH (4)
                            16461 ; 274  |#define HW_USBRX_DEBUGMODE_WIDTH (4)
                            16462 ; 275  |#define HW_USBRX_PLLLKTIMECTL_WIDTH (4)
                            16463 ; 276  |#define HW_USBRX_PLLCKDIVCTL_WIDTH (4)
                            16464 ; 277  |#define HW_USBRX_HOSTMODETEST_WIDTH (1)
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 274

M:ADDR CODE           CYCLES LINE SOURCELINE
                            16465 ; 278  |#define HW_USBRX_FSCKSOURCESEL_WIDTH (1)
                            16466 ; 279  |#define HW_USBRX_REGRXDBYPASS_WIDTH (1)
                            16467 ; 280  |#define HW_USBRX_PLLLOCKED_WIDTH (1)
                            16468 ; 281  |
                            16469 ; 282  |#define HW_USBRX_ENVADJ_SETMASK (((1<<HW_USBRX_ENVADJ_WIDTH)-1)<<HW_USBRX_ENVADJ_BITPOS)
                            16470 ; 283  |#define HW_USBRX_DISCONADJ_SETMASK (((1<<HW_USBRX_DISCONADJ_WIDTH)-1)<<HW_USBRX_DISCONADJ_
                                  BITPOS)
                            16471 ; 284  |#define HW_USBRX_DEBUGMODE_SETMASK (((1<<HW_USBRX_DEBUGMODE_WIDTH)-1)<<HW_USBRX_DEBUGMODE_
                                  BITPOS)
                            16472 ; 285  |#define HW_USBRX_PLLLKTIMECTL_SETMASK (((1<<HW_USBRX_PLLLKTIMECTL_WIDTH)-1)<<HW_USBRX_PLLL
                                  KTIMECTL_BITPOS)
                            16473 ; 286  |#define HW_USBRX_PLLCKDIVCTL_SETMASK (((1<<HW_USBRX_PLLCKDIVCTL_WIDTH)-1)<<HW_USBRX_PLLCKD
                                  IVCTL_BITPOS)
                            16474 ; 287  |// 480 MHz PLL is divided by named number here. Setmask divider field nibble of 7 gives ac
                                  tual divider of 8 and so on. (8 gives 9, 9 gives 10)
                            16475 ; 288  |//              480Mhz/7 =68.57Mhz
                            16476 ; 289  |#define HW_USBPHYRX_PLLDIV_BY_7 0x060000
                            16477 ; 290  |
                            16478 ; 291  |//              480Mhz/8 ~60Mhz
                            16479 ; 292  |#define HW_USBPHYRX_PLLDIV_BY_8 0x070000
                            16480 ; 293  |
                            16481 ; 294  |//              480Mhz/9 =53.3Mhz
                            16482 ; 295  |#define HW_USBPHYRX_PLLDIV_BY_9 0x080000
                            16483 ; 296  |
                            16484 ; 297  |//              480Mhz/10 =48Mhz
                            16485 ; 298  |#define HW_USBPHYRX_PLLDIV_BY_10 0x090000
                            16486 ; 299  |
                            16487 ; 300  |
                            16488 ; 301  |#define HW_USBRX_HOSTMODETEST_SETMASK (((1<<HW_USBRX_HOSTMODETEST_WIDTH)-1)<<HW_USBRX_HOST
                                  MODETEST_BITPOS)
                            16489 ; 302  |#define HW_USBRX_FSCKSOURCESEL_SETMASK (((1<<HW_USBRX_FSCKSOURCESEL_WIDTH)-1)<<HW_USBRX_FS
                                  CKSOURCESEL_BITPOS)
                            16490 ; 303  |#define HW_USBRX_REGRXDBYPASS_SETMASK (((1<<HW_USBRX_REGRXDBYPASS_WIDTH)-1)<<HW_USBRX_REGR
                                  XDBYPASS_BITPOS)
                            16491 ; 304  |#define HW_USBRX_PLLLOCKED_SETMASK (((1<<HW_USBRX_PLLLOCKED_WIDTH)-1)<<HW_USBRX_PLLLOCKED_
                                  BITPOS)
                            16492 ; 305  |
                            16493 ; 306  |#define HW_USBRX_ENVADJ_CLRMASK (~(WORD)HW_USBRX_ENVADJ_SETMASK)
                            16494 ; 307  |#define HW_USBRX_DISCONADJ_CLRMASK (~(WORD)HW_USBRX_DISCONADJ_SETMASK)
                            16495 ; 308  |#define HW_USBRX_DEBUGMODE_CLRMASK (~(WORD)HW_USBRX_DEBUGMODE_SETMASK)
                            16496 ; 309  |#define HW_USBRX_PLLLKTIMECTL_CLRMASK (~(WORD)HW_USBRX_PLLLKTIMECTL_SETMASK)
                            16497 ; 310  |#define HW_USBRX_PLLCKDIVCTL_CLRMASK (~(WORD)HW_USBRX_PLLCKDIVCTL_SETMASK)
                            16498 ; 311  |#define HW_USBRX_HOSTMODETEST_CLRMASK (~(WORD)HW_USBRX_HOSTMODETEST_SETMASK)
                            16499 ; 312  |#define HW_USBRX_FSCKSOURCESEL_CLRMASK (~(WORD)HW_USBRX_FSCKSOURCESEL_SETMASK)
                            16500 ; 313  |#define HW_USBRX_REGRXDBYPASS_CLRMASK (~(WORD)HW_USBRX_REGRXDBYPASS_SETMASK)
                            16501 ; 314  |#define HW_USBRX_PLLLOCKED_CLRMASK (~(WORD)HW_USBRX_PLLLOCKED_SETMASK)
                            16502 ; 315  |
                            16503 ; 316  |typedef union               
                            16504 ; 317  |{
                            16505 ; 318  |    struct {
                            16506 ; 319  |     int ENVADJ               :4;
                            16507 ; 320  |     int DISCONADJ            :4;
                            16508 ; 321  |     int DEBUGMODE            :4;
                            16509 ; 322  |     int PLLLKTIMECTL         :4;
                            16510 ; 323  |     int PLLCKDIVCTL          :4;
                            16511 ; 324  |     int HOSTMODETEST         :1;
                            16512 ; 325  |     int FSCKSOURCESEL        :1;
                            16513 ; 326  |     int REGRXDBYPASS         :1;
                            16514 ; 327  |     int PLLLOCKED            :1;
                            16515 ; 328  |    } B;
                            16516 ; 329  |    int I;
                            16517 ; 330  |} usbphyrx_type;
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 275

M:ADDR CODE           CYCLES LINE SOURCELINE
                            16518 ; 331  |#define HW_USBPHYRX      (*(volatile usbphyrx_type _X*) (HW_USBPHY_BASEADDR+3))    
                            16519 ; 332  |
                            16520 ; 333  |#endif
                            16521 ; 334  |
                            16522 
                            16524 
                            16525 ; 38   |
                            16526 ; 39   |
                            16527 ; 40   |#endif // if (!@def(hwequ))
                            16528 ; 41   |
                            16529 
                            16531 
                            16532 ; 12   |#else 
                            16533 ; 13   |//include "regscodec.inc"
                            16534 ; 14   |#endif
                            16535 ; 15   |
                            16536 ; 16   |//////////////////////////////////////////////////////////////////////////////////
                            16537 ; 17   |// Uncomment next define to allow player boot if you have stfm1000 macro enabled (defaults
                                   ON) & 
                            16538 ; 18   |// your board crystal is not able to output nominal voltage range. Used in player main.asm
                                  . STMP00012148
                            16539 ; 19   |// Defining this will result in lower battery life (price of using a lower quality crystal
                                  ). 
                            16540 ; 20   |// Those that want to save battery life and have good crystals that meet our HW team's spe
                                  cs can 
                            16541 ; 21   |// comment out this line to reduce crystal bias current and so battery current in player m
                                  ode.  
                            16542 ; 22   |#define SUPPORT_MARGINAL_XTALS 1
                            16543 ; 23   |
                            16544 ; 24   |/////////////////////////////////////////////////////////////////////////////////
                            16545 ; 25   |// BOOT SPEED CONFIG & ASSOCIATED BATTERY VOLTAGE CHECK ENABLE
                            16546 ; 26   |/////////////////////////////////////////////////////////////////////////////////
                            16547 ; 27   |// Users can enable one of ATTEMPT_FAST_BOOT or FASTEST boot or neither project define bel
                                  ow by defining
                            16548 ; 28   |// values as 0 or 1, else it defaults to the boot speed used in previous SDKs.
                            16549 ; 29   |#define ATTEMPT_FAST_BOOT 1
                            16550 ; 30   |#define ATTEMPT_FASTEST_BOOT 0   
                            16551 ; 31   |// Changing this define to 0 removes Vbat threshholding & unconditionally gives fast boot 
                                  config above- 
                            16552 ; 32   |// disabling this check is suggested for profiling if you want to try to tweak down thresh
                                  holds by maybe 50mV.
                            16553 ; 33   |// Also the tests should clear the fast boot config defines to link & boot at normal speed
                                  .
                            16554 ; 34   |#define SPEED_BOOT_BATTERY_CHECK 1
                            16555 ; 35   |
                            16556 ; 36   |/////////////////////////////////////////////////////////////////////////////////
                            16557 ; 37   |// MEDIA DEFINITIONS
                            16558 ; 38   |/////////////////////////////////////////////////////////////////////////////////
                            16559 ; 39   |
                            16560 ; 40   |/////////////////////////////////////////////////////////////////////////////////
                            16561 ; 41   |// MNAND - Number of chips forming the internal physical device (i.e. # of NANDs)
                            16562 ; 42   |#if defined(NAND1)
                            16563 ; 43   |#define SM_INTERNAL_CHIPS 1
                            16564 ; 44   |#else 
                            16565 ; 45   |#if defined(NAND2)
                            16566 ; 46   |#define SM_INTERNAL_CHIPS 2
                            16567 ; 47   |#else 
                            16568 ; 48   |#if defined(NAND3)
                            16569 ; 49   |#define SM_INTERNAL_CHIPS 3
                            16570 ; 50   |#else 
                            16571 ; 51   |#if defined(NAND4)
                            16572 ; 52   |#define SM_INTERNAL_CHIPS 4
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 276

M:ADDR CODE           CYCLES LINE SOURCELINE
                            16573 ; 53   |#else 
                            16574 ; 54   |#define SM_INTERNAL_CHIPS 1
                            16575 ; 55   |#endif
                            16576 ; 56   |#endif
                            16577 ; 57   |#endif
                            16578 ; 58   |#endif
                            16579 ; 59   |
                            16580 ; 60   |/////////////////////////////////////////////////////////////////////////////////
                            16581 ; 61   |// If SMARTMEDIA_DETECT_ACTIVE_HIGH is defined:
                            16582 ; 62   |//   SmartMedia will be detected as inserted if the GPIO pin reads 1 and removed if it rea
                                  ds 0.  
                            16583 ; 63   |// If SMARTMEDIA_DETECT_ACTIVE_HIGH is not defined ** comment out next line **
                            16584 ; 64   |//   SmartMedia will be detected as inserted if the GPIO pin reads 0 and removed if it rea
                                  ds 1.
                            16585 ; 65   |//*** comment out if active high ****
                            16586 ; 66   |//SMARTMEDIA_DETECT_ACTIVE_HIGH  equ     1
                            16587 ; 67   |
                            16588 ; 68   |#if defined(SMEDIA)
                            16589 ; 69   |#define NUM_REMOVABLE_MEDIA 1
                            16590 ; 70   |#define NUM_SM_EXTERNAL 1
                            16591 ; 71   |#define MMC_MAX_PHYSICAL_DEVICES 0
                            16592 ; 72   |#define SM_MAX_LOGICAL_DEVICES 2
                            16593 ; 73   |#else 
                            16594 ; 74   |#if defined(MMC)
                            16595 ; 75   |#define NUM_REMOVABLE_MEDIA 1
                            16596 ; 76   |#define NUM_SM_EXTERNAL 0
                            16597 ; 77   |#define MMC_MAX_PHYSICAL_DEVICES 1
                            16598 ; 78   |#define SM_MAX_LOGICAL_DEVICES 1
                            16599 ; 79   |#else 
                            16600 ; 80   |#define NUM_REMOVABLE_MEDIA 0
                            16601 ; 81   |#define NUM_SM_EXTERNAL 0
                            16602 ; 82   |#define MMC_MAX_PHYSICAL_DEVICES 0
                            16603 ; 83   |#define SM_MAX_LOGICAL_DEVICES 1
                            16604 ; 84   |#endif
                            16605 ; 85   |#endif
                            16606 ; 86   |
                            16607 ; 87   |/////////////////////////////////////////////////////////////////////////////////
                            16608 ; 88   |// Mass Storage Class definitions
                            16609 ; 89   |/////////////////////////////////////////////////////////////////////////////////
                            16610 ; 90   |// Set to 0 if Composite Device build is desired.    
                            16611 ; 91   |#define MULTI_LUN_BUILD 1   
                            16612 ; 92   |
                            16613 ; 93   |////////////////////////////////////////////////////////////////////////////////
                            16614 ; 94   |//  SCSI
                            16615 ; 95   |#if (MULTI_LUN_BUILD==0)
                            16616 ; 96   |  #if (NUM_REMOVABLE_MEDIA == 1)
                            16617 ; 97   |    #define SCSI_NUM_TARGETS                        2
                            16618 ; 98   |    #define SCSI_DEVICE_NUM_LUNS_DEV_0              1
                            16619 ; 99   |    #define SCSI_DEVICE_NUM_LUNS_DEV_1              1
                            16620 ; 100  |  #else
                            16621 ; 101  |    #define SCSI_NUM_TARGETS                        1
                            16622 ; 102  |    #define SCSI_DEVICE_NUM_LUNS_DEV_0              1
                            16623 ; 103  |  #endif
                            16624 ; 104  |#else
                            16625 ; 105  |    #define SCSI_NUM_TARGETS                        1
                            16626 ; 106  |  #if (NUM_REMOVABLE_MEDIA == 1)
                            16627 ; 107  |    #define SCSI_DEVICE_NUM_LUNS_DEV_0              2
                            16628 ; 108  |  #else
                            16629 ; 109  |    #define SCSI_DEVICE_NUM_LUNS_DEV_0              1  
                            16630 ; 110  |  #endif
                            16631 ; 111  |#endif
                            16632 ; 112  |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 277

M:ADDR CODE           CYCLES LINE SOURCELINE
                            16633 ; 113  |
                            16634 ; 114  |#define USBMSC_NUM_DEVICES                      SCSI_NUM_TARGETS
                            16635 ; 115  |
                            16636 ; 116  |
                            16637 ; 117  |////////////////////////////////////////////////////////////////////////////////
                            16638 ; 118  |// Define number of logical medias and drives for three builds (MTP, USBMSC, and Player)
                            16639 ; 119  |////////////////////////////////////////////////////////////////////////////////
                            16640 ; 120  |#ifdef MMC
                            16641 ; 121  |#ifdef MTP_BUILD
                            16642 ; 122  |// --------------------
                            16643 ; 123  |// MTP and MMC
                            16644 ; 124  |// --------------------
                            16645 ; 125  |#define NUM_LOGICAL_MEDIA       2
                            16646 ; 126  |#define NUM_LOGICAL_DRIVES      8
                            16647 ; 127  |#else  // ifndef MTP_BUILD
                            16648 ; 128  |#ifdef STMP_BUILD_PLAYER
                            16649 ; 129  |// --------------------
                            16650 ; 130  |// Player and MMC
                            16651 ; 131  |// --------------------
                            16652 ; 132  |#else
                            16653 ; 133  |// --------------------
                            16654 ; 134  |// USBMSC and MMC
                            16655 ; 135  |// --------------------
                            16656 ; 136  |#define NUM_LOGICAL_MEDIA       3
                            16657 ; 137  |#define NUM_LOGICAL_DRIVES      8
                            16658 ; 138  |#endif // ifdef STMP_BUILD_PLAYER
                            16659 ; 139  |#endif // ifdef MTP_BUILD
                            16660 ; 140  |#else  // ifndef MMC
                            16661 ; 141  |#ifdef MTP_BUILD
                            16662 ; 142  |// --------------------
                            16663 ; 143  |// MTP and NAND only
                            16664 ; 144  |// --------------------
                            16665 ; 145  |#define NUM_LOGICAL_MEDIA       1
                            16666 ; 146  |#define NUM_LOGICAL_DRIVES      7
                            16667 ; 147  |#else  // ifndef MTP_BUILD
                            16668 ; 148  |#ifdef STMP_BUILD_PLAYER
                            16669 ; 149  |// --------------------
                            16670 ; 150  |// Player and NAND only
                            16671 ; 151  |// --------------------
                            16672 ; 152  |#else
                            16673 ; 153  |// --------------------
                            16674 ; 154  |// USBMSC and NAND only
                            16675 ; 155  |// --------------------
                            16676 ; 156  |#define NUM_LOGICAL_MEDIA       2
                            16677 ; 157  |#define NUM_LOGICAL_DRIVES      7
                            16678 ; 158  |#endif // ifdef STMP_BUILD_PLAYER
                            16679 ; 159  |#endif // ifdef MTP_BUILD
                            16680 ; 160  |#endif // ifdef MMC 
                            16681 ; 161  |
                            16682 ; 162  |// If we are in an MTP build then we don't use as many transfers buffers.
                            16683 ; 163  |#if (defined(MTP_BUILD))
                            16684 ; 164  |#define MAX_USB_TRANSFERS_QUEUED 16
                            16685 ; 165  |
                            16686 ; 166  |////!
                            16687 ; 167  |////! This varible holds the watchdog count for the store flush.
                            16688 ; 168  |////!
                            16689 ; 169  |///
                            16690 ; 170  |#include <types.h>
                            16691 ; 171  |extern volatile INT g_StoreWatchDogCount;
                            16692 ; 172  |extern const INT g_StoreWatchDogTimeout;
                            16693 ; 173  |#endif
                            16694 ; 174  |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 278

M:ADDR CODE           CYCLES LINE SOURCELINE
                            16695 ; 175  |////////////////////////////////////////////////////////////////////////////////
                            16696 ; 176  |// These are needed here for Mass Storage Class
                            16697 ; 177  |// Needs to be cleaned up
                            16698 ; 178  |////////////////////////////////////////////////////////////////////////////////
                            16699 ; 179  |#if (!defined(STMP_BUILD_PLAYER))
                            16700 ; 180  |#define SCRATCH_USER_Y_SIZE 512
                            16701 ; 181  |#define SCRATCH_USER_X_SIZE 512
                            16702 ; 182  |
                            16703 ; 183  |#define BROWNOUT_LEVEL1_DETECTED                0x000001
                            16704 ; 184  |
                            16705 ; 185  |#endif
                            16706 ; 186  |
                            16707 ; 187  |
                            16708 ; 188  |/////////////////////////////////////////////////////////////////////////////////
                            16709 ; 189  |// SmartMedia/NAND defs
                            16710 ; 190  |#define SM_MAX_PHYSICAL_DEVICES SM_INTERNAL_CHIPS+NUM_SM_EXTERNAL
                            16711 ; 191  |#define SM_REMOVABLE_DEVICE_NUM SM_INTERNAL_CHIPS
                            16712 ; 192  |
                            16713 ; 193  |/////////////////////////////////////////////////////////////////////////////////
                            16714 ; 194  |// Sysloadresources defs
                            16715 ; 195  |#define SM_MAX_RESOURCE_DEVICES SM_INTERNAL_CHIPS+NUM_SM_EXTERNAL
                            16716 ; 196  |
                            16717 ; 197  |/////////////////////////////////////////////////////////////////////////////////
                            16718 ; 198  |// MMC defs
                            16719 ; 199  |#define MMC_MAX_PARTITIONS 1
                            16720 ; 200  |#define MMC_MAX_LOGICAL_DEVICES MMC_MAX_PHYSICAL_DEVICES*MMC_MAX_PARTITIONS
                            16721 ; 201  |
                            16722 ; 202  |/////////////////////////////////////////////////////////////////////////////////
                            16723 ; 203  |// SPI defs
                            16724 ; 204  |#define SPI_MAX_DEVICES MMC_MAX_PHYSICAL_DEVICES
                            16725 ; 205  |
                            16726 ; 206  |/////////////////////////////////////////////////////////////////////////////////
                            16727 ; 207  |// Global media defs
                            16728 ; 208  |#define MAX_PHYSICAL_DEVICES SM_MAX_PHYSICAL_DEVICES+MMC_MAX_PHYSICAL_DEVICES
                            16729 ; 209  |#define MAX_LOGICAL_DEVICES SM_MAX_LOGICAL_DEVICES+MMC_MAX_LOGICAL_DEVICES
                            16730 ; 210  |
                            16731 ; 211  |/////////////////////////////////////////////////////////////////////////////////
                            16732 ; 212  |// DO NOT CHANGE THESE!!!
                            16733 ; 213  |#define SM_MAX_PARTITIONS 4
                            16734 ; 214  |#define MAX_HANDLES 2
                            16735 ; 215  |/////////////////////////////////////////////////////////////////////////////////
                            16736 ; 216  |
                            16737 ; 217  |
                            16738 ; 218  |/////////////////////////////////////////////////////////////////////////////////
                            16739 ; 219  |// Battery LRADC Values 
                            16740 ; 220  |/////////////////////////////////////////////////////////////////////////////////
                            16741 ; 221  |// brownout trip point in mV (moved by RS)
                            16742 ; 222  |// BATT_SAFETY_MARGIN:  percentage value used by:
                            16743 ; 223  |//   * SysSaveSettings to determine if enough power is left to attempt a settings save. 
                            16744 ; 224  |//   * Recorder to conditionally prevent the start or continuation of 
                            16745 ; 225  |//     audio recording to media.
                            16746 ; 226  |#define BATT_SAFETY_MARGIN 10
                            16747 ; 227  |
                            16748 ; 228  |//; player resource drive refresh allowed only when battery usable % is above this value. 
                                  
                            16749 ; 229  |//; 50% of usable range [0.9V to 1.5V] is around 1.2V This is the safe target alkaline vol
                                  tage to do a refresh.
                            16750 ; 230  |//; LIION will also require 50% which will work but that could be changed in the future. 
                            16751 ; 231  |//RESOURCE_REFRESH_MIN_BATT_PCT equ 50
                            16752 ; 232  |
                            16753 ; 233  |// stmp00005071 adds these for mp3 encode stability at low battery per battery type & mmc 
                                  presence.
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 279

M:ADDR CODE           CYCLES LINE SOURCELINE
                            16754 ; 234  |
                            16755 ; 235  |//// Vbat threshholds empirically tuned by profiling max bat current for 3 HW cases: 
                            16756 ; 236  |//// 1 GigaByte MMC, NAND flash only, & LiIon Buck mode. See voicemenu pre-encode Vbat che
                                  ck.
                            16757 ; 237  |#if (!defined(CLCD))
                            16758 ; 238  |#define MP3_ENC_MMC_MIN_V_BAT_MV 1100
                            16759 ; 239  |#define MP3_ENC_NANDONLY_MIN_V_BAT_MV 1000
                            16760 ; 240  |#else 
                            16761 ; 241  |#define MP3_ENC_MMC_MIN_V_BAT_MV 1250
                            16762 ; 242  |#define MP3_ENC_NANDONLY_MIN_V_BAT_MV 1150
                            16763 ; 243  |#endif
                            16764 ; 244  |#define MP3_ENC_BUCKMODE_MIN_V_BAT_MV 3300
                            16765 ; 245  |
                            16766 ; 246  |// These Vbat use-range-percentages are derived to correspond with target battery 
                            16767 ; 247  |// voltages of 1.10V for MMC, 1.0V for nand only (alkaline or nimh), and 3.3V for any LiIo
                                  n.
                            16768 ; 248  |// See mp3 encoder overlay.
                            16769 ; 249  |#define MP3_ENC_MMC_MIN_V_BAT_RANGE_PCT 33
                            16770 ; 250  |#define MP3_ENC_NANDONLY_MIN_V_BAT_RANGE_PCT 17
                            16771 ; 251  |#define MP3_ENC_BUCKMODE_MIN_V_BAT_RANGE_PCT 25
                            16772 ; 252  |
                            16773 ; 253  |/////////////////////////////////////////////////////////////////////////////////
                            16774 ; 254  |// Voice recording filenames
                            16775 ; 255  |// number of digits in filename Vxxx.wav
                            16776 ; 256  |/////////////////////////////////////////////////////////////////////////////////
                            16777 ; 257  |#define DIGITS_IN_VOICE_FILENAME 3   
                            16778 ; 258  |
                            16779 ; 259  |/////////////////////////////////////////////////////////////////////////////////
                            16780 ; 260  |// Mic Bias: Set this enable to 1 to internally generate mic bias voltage. 
                            16781 ; 261  |// Also below, must configure internal resistor value and pin to use for DC bias. 
                            16782 ; 262  |// Can set to 0 to disable internally generated mic bias voltage at pin lradc1/2.
                            16783 ; 263  |#if defined(DEVICE_3500)
                            16784 ; 264  |#define ENABLE_INTERNALLY_GENERATED_MICBIAS 1 
                            16785 ; 265  |// MIC BIAS circuit source selection: use Low Resolution ADC pin 2 or 1 to bias mic. 
                            16786 ; 266  |// Per your layout: select LRADC 2 or 1 below 
                            16787 ; 267  |//   (pin LRADC 2 for 35xx cpu card revB, LRADC 1 for 35xx cpu card revC, ref schematics, 
                                  & demo player)
                            16788 ; 268  |#define LRADC_NUM_FOR_MIC_BIAS 1 
                            16789 ; 269  |// Sets internal mic bias R to value 2, 4, or 8 (in kOhms).
                            16790 ; 270  |#define MICBIAS_CONFIGURED_RESISTOR_KOHMS 8
                            16791 ; 271  |
                            16792 ; 272  |// Allows mic bias to settle before sampling. This delay currently unused. For rec btn whe
                                  n bias not yet ready.
                            16793 ; 273  |#define REC_BTN_INTERNAL_MIC_BIAS_SETTLING_DELAY_MS 400 
                            16794 ; 274  |// Option always keeps bias enabled after mainmenu init. This allows for start pop prevent
                                  ion if you use rec button from outside voice menu.
                            16795 ; 275  |// This selection costs 1 mWatt but gains the desired low record button to sampling latenc
                                  y in the record-from-music-menu use-case.
                            16796 ; 276  |#define KEEP_MIC_BIAS_ENABLED 0
                            16797 ; 277  |
                            16798 ; 278  |#else 
                            16799 ; 279  |// STMP3410
                            16800 ; 280  |#define ENABLE_INTERNALLY_GENERATED_MICBIAS 0
                            16801 ; 281  |#define LRADC_NUM_FOR_MIC_BIAS 1 
                            16802 ; 282  |#define MICBIAS_CONFIGURED_RESISTOR_KOHMS 2
                            16803 ; 283  |#endif
                            16804 ; 284  |
                            16805 ; 285  |/////////////////////////////////////////////////////////////////////////////////
                            16806 ; 286  |// Number of available soft timers
                            16807 ; 287  |/////////////////////////////////////////////////////////////////////////////////
                            16808 ; 288  |#if defined(SYNC_LYRICS)
                            16809 ; 289  |#define SOFT_TIMERS 10
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 280

M:ADDR CODE           CYCLES LINE SOURCELINE
                            16810 ; 290  |#else 
                            16811 ; 291  |#if defined(JPEG_DECODER)
                            16812 ; 292  |#define SOFT_TIMERS 10
                            16813 ; 293  |#else 
                            16814 ; 294  |#define SOFT_TIMERS 9
                            16815 ; 295  |#endif
                            16816 ; 296  |#endif
                            16817 ; 297  |
                            16818 ; 298  |/////////////////////////////////////////////////////////////////////////////////
                            16819 ; 299  |//  sizes
                            16820 ; 300  |/////////////////////////////////////////////////////////////////////////////////
                            16821 ; 301  |#if defined(MMC)
                            16822 ; 302  |#if defined(USE_PLAYLIST5)
                            16823 ; 303  |#define MENU_STACK_SIZE 1500
                            16824 ; 304  |#else 
                            16825 ; 305  |#define MENU_STACK_SIZE 1250
                            16826 ; 306  |#endif //if @def('USE_PLAYLIST5')
                            16827 ; 307  |#else 
                            16828 ; 308  |#if defined(USE_PLAYLIST5)
                            16829 ; 309  |#define MENU_STACK_SIZE 1500
                            16830 ; 310  |#else 
                            16831 ; 311  |#define MENU_STACK_SIZE 1250
                            16832 ; 312  |#endif //if @def('USE_PLAYLIST5')
                            16833 ; 313  |#endif //if @def('MMC')
                            16834 ; 314  |
                            16835 ; 315  |// NOTE: SDK2.6 USED 550 FOR NEXT LINE, BUT SDK3.0BETA USED 750. Should it be ifdef MTP 75
                                  0 else 550 for other builds? TOVERIFY. MYALLOC
                            16836 ; 316  |// 
                            16837 ; 317  |#define STACK_L1_SIZE 750
                            16838 ; 318  |#define STACK_L2_SIZE 100
                            16839 ; 319  |#define STACK_L3_SIZE 160
                            16840 ; 320  |
                            16841 ; 321  |// If we are in MTP mode the overlay task stack can shrink.
                            16842 ; 322  |// TODO shrink this stack for MTP, I will leave it at 500 until we verify that it 
                            16843 ; 323  |// is ok with switching code.
                            16844 ; 324  |#if defined(MTP_BUILD)
                            16845 ; 325  |#define OVERLAY_MANAGER_STACK_SIZE 300
                            16846 ; 326  |#endif
                            16847 ; 327  |
                            16848 ; 328  |/////////////////////////////////////////////////////////////////////////////////
                            16849 ; 329  |// maximum number of nested funclets 
                            16850 ; 330  |/////////////////////////////////////////////////////////////////////////////////
                            16851 ; 331  |#define MAX_NESTED_FUNCLET 6 
                            16852 ; 332  |
                            16853 ; 333  |/////////////////////////////////////////////////////////////////////////////////
                            16854 ; 334  |//    LCD DEFINITIONS
                            16855 ; 335  |/////////////////////////////////////////////////////////////////////////////////
                            16856 ; 336  |
                            16857 ; 337  |#define SPACE_CHAR 0x000020          
                            16858 ; 338  |#define ZERO_CHAR 0x000030
                            16859 ; 339  |#define COLON_CHAR 0x00003A
                            16860 ; 340  |#define PERIOD_CHAR 0x00002E
                            16861 ; 341  |
                            16862 ; 342  |#if (defined(S6B33B0A_LCD))
                            16863 ; 343  |#define LCD_X_SIZE 128
                            16864 ; 344  |#define LCD_Y_SIZE 159
                            16865 ; 345  |#endif
                            16866 ; 346  |
                            16867 ; 347  |#if (defined(SED15XX_LCD))
                            16868 ; 348  |#define LCD_X_SIZE 128
                            16869 ; 349  |#define LCD_Y_SIZE 64
                            16870 ; 350  |#endif
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 281

M:ADDR CODE           CYCLES LINE SOURCELINE
                            16871 ; 351  |
                            16872 ; 352  |
                            16873 ; 353  |//////////////////////////////////////////////////////////////////////////////////
                            16874 ; 354  |//   Details on Customizing Contrast
                            16875 ; 355  |/////////////////////////////////////////////////////////////////////////////////
                            16876 ; 356  |//   Max supported LCD range is 0 - 3F; however due to hardware/voltage differences
                            16877 ; 357  |//   the range of visibility is usually smaller than this.  It is important to 
                            16878 ; 358  |//   calibrate the visible range, because the contrast setting is saved.
                            16879 ; 359  |//   If the user shuts off the player while lcd is not visible, the player is useless
                            16880 ; 360  |//   unless the ezact sequence is remembered.
                            16881 ; 361  |//   To find out what range your player supports: 
                            16882 ; 362  |//   change these equs to full range or comment out (full range is default)
                            16883 ; 363  |//;;;;;;
                            16884 ; 364  |// uncomment the line below to build code that will provide raw contrast value
                            16885 ; 365  |// recommended calibration using player -- uncomment 
                            16886 ; 366  |//;;;;;;
                            16887 ; 367  |//CONTRAST_CALIBRATION    equ  1
                            16888 ; 368  |////////////////////////////
                            16889 ; 369  |#if (defined(DEMO_HW))
                            16890 ; 370  |// this is the setting for ET301 demos; Next 2 line have not been updated for new Shingyi 
                                  LCD (June6'05)
                            16891 ; 371  |#define LCD_MAX_CONTRAST 0x32 
                            16892 ; 372  |#define LCD_MIN_CONTRAST 0x1E
                            16893 ; 373  |#else 
                            16894 ; 374  |
                            16895 ; 375  |#if (defined(S6B33B0A_LCD))
                            16896 ; 376  |#define LCD_MAX_CONTRAST 210
                            16897 ; 377  |#define LCD_MIN_CONTRAST 160    
                            16898 ; 378  |#endif
                            16899 ; 379  |
                            16900 ; 380  |#if (defined(SED15XX_LCD))
                            16901 ; 381  |// Next 3 line comment was for OLD shingyi LCD: (default LCD before sdk2.6)
                            16902 ; 382  |// Engineering board regs support range [17-37].
                            16903 ; 383  |//   Engineering board DC/DC support range [24-46]. 
                            16904 ; 384  |//   One default contrast range [24-42] works for both.
                            16905 ; 385  |// The 3 sets of contrast ranges below are updated for SDK2.6 to support either 
                            16906 ; 386  |// new or old ShingYih LCDs. "File" refers to \resource\shingyih\system_lcd_init_seq.src
                            16907 ; 387  |// 3/10/05 - Use one of the 2 next contrast ranges depending on which
                            16908 ; 388  |// ShingYih LCD you have.  See \resources\shingyi\readme.txt 
                            16909 ; 389  |// Optimal for NEW LCD with NEW file (SDK2.6 default)  
                            16910 ; 390  |// G098064-41 LCD module (present on engr board revH LCD card)
                            16911 ; 391  |
                            16912 ; 392  |#if (defined(NEWSHINGYIH))
                            16913 ; 393  |#define LCD_MAX_CONTRAST 250
                            16914 ; 394  |#define LCD_MIN_CONTRAST 0
                            16915 ; 395  |#else 
                            16916 ; 396  |//-----
                            16917 ; 397  |// Near optimal for OLD LCD with NEW file. 
                            16918 ; 398  |// NOT optimal for the new lcd but pretty good. So u may use this if u want 1 build for bo
                                  th LCDs.
                            16919 ; 399  |#define LCD_MAX_CONTRAST 250
                            16920 ; 400  |#define LCD_MIN_CONTRAST 0
                            16921 ; 401  |
                            16922 ; 402  |//=====
                            16923 ; 403  |// Optimal for OLD ShingYih LCD with OLD file (as sdk2.521)
                            16924 ; 404  |// Suggest going with default new init file & values above for your LCD instead of this hi
                                  storic ver.
                            16925 ; 405  |//LCD_MAX_CONTRAST equ 42
                            16926 ; 406  |//LCD_MIN_CONTRAST equ 24 
                            16927 ; 407  |
                            16928 ; 408  |#endif
                            16929 ; 409  |#endif
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 282

M:ADDR CODE           CYCLES LINE SOURCELINE
                            16930 ; 410  |
                            16931 ; 411  |#endif
                            16932 ; 412  |
                            16933 ; 413  |//////////////////////////////////////////////////////////////////////////////////
                            16934 ; 414  |// The default value of the lcd contrast in % of range
                            16935 ; 415  |//   the default value is used when no settings.dat is available
                            16936 ; 416  |//////////////////////////////////////////////////////////////////////////////////
                            16937 ; 417  |
                            16938 ; 418  |#if (defined(S6B33B0A_LCD))
                            16939 ; 419  |// 60% of range is default value
                            16940 ; 420  |#define DEFAULT_CONTRAST 50 
                            16941 ; 421  |#endif
                            16942 ; 422  |
                            16943 ; 423  |#if (defined(SED15XX_LCD))
                            16944 ; 424  |// % of range is default value (was 60%)
                            16945 ; 425  |#define DEFAULT_CONTRAST 50 
                            16946 ; 426  |#endif
                            16947 ; 427  |
                            16948 ; 428  |
                            16949 ; 429  |// percentage change per increment/decrement message (LCD_DEC_CONTRAST/LCD_INC_CONTRAST)
                            16950 ; 430  |// make lower when doing calibration
                            16951 ; 431  |#define LCD_STEPSIZE_CONTRAST 10  
                            16952 ; 432  |
                            16953 ; 433  |
                            16954 ; 434  |/////////////////////////////////////////////////////////////////////////////////
                            16955 ; 435  |// For FFWD and RWND
                            16956 ; 436  |/////////////////////////////////////////////////////////////////////////////////
                            16957 ; 437  |#define SECONDS_TO_SKIP 1
                            16958 ; 438  |#define SECONDS_TO_SKIP1 3
                            16959 ; 439  |#define SECONDS_TO_SKIP2 6
                            16960 ; 440  |// number of seconds to cause reset to begin of song for PREV push
                            16961 ; 441  |#define PREV_SONG_THRESHOLD 5  
                            16962 ; 442  |// number of 300 mSec periods before the numbers of seconds to skip increases
                            16963 ; 443  |#define FIRST_TIME_BOUNDARY 15 
                            16964 ; 444  |// number of 300 mSec periods before the numbers of seconds to skip increases
                            16965 ; 445  |#define SECOND_TIME_BOUNDARY 30 
                            16966 ; 446  |
                            16967 ; 447  |// For audible FFW/RWD
                            16968 ; 448  |#define SECONDS_TO_SKIP_FOR_3X_RATE 1
                            16969 ; 449  |#define SECONDS_TO_SKIP_FOR_60X_RATE 18
                            16970 ; 450  |#define SECONDS_TO_SKIP_FOR_600X_RATE 180
                            16971 ; 451  |#define SECONDS_TO_SKIP_FOR_1800X_RATE 540
                            16972 ; 452  |// number of 300 mSec periods before the numbers of seconds to skip increases
                            16973 ; 453  |#define LEVEL1_BOUNDARY 17 
                            16974 ; 454  |// number of 300 mSec periods before the numbers of seconds to skip increases
                            16975 ; 455  |#define LEVEL2_BOUNDARY 33 
                            16976 ; 456  |// number of 300 mSec periods before the numbers of seconds to skip increases
                            16977 ; 457  |#define LEVEL3_BOUNDARY 50 
                            16978 ; 458  |// Stmp00010296 Ticket #71685:  for song shorter than the min. skip size
                            16979 ; 459  |// if song_time < skip_size, bCurrentSongShort=>TRUE (ignore FWD/RWD commands)
                            16980 ; 460  |// Short Song Time, songs too short to play.
                            16981 ; 461  |#define SHORT_SONG_TIME SECONDS_TO_SKIP         
                            16982 ; 462  |
                            16983 ; 463  |/////////////////////////////////////////////////////////////////////////////////
                            16984 ; 464  |// MP3 Sync Values
                            16985 ; 465  |/////////////////////////////////////////////////////////////////////////////////
                            16986 ; 466  |// # bytes to look for sync before marking it bad
                            16987 ; 467  |#define MP3_SYNC_THRESHOLD 70000 
                            16988 ; 468  |// # bytes to look for sync before slowing decoder isr frequency (to let menus run)
                            16989 ; 469  |#define MP3_SYNC_THRESHOLD1 10000 
                            16990 ; 470  |// once we have sync'd, the isr should be called this frequently
                            16991 ; 471  |#define MP3_DECODERISR_FAST 7500  
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 283

M:ADDR CODE           CYCLES LINE SOURCELINE
                            16992 ; 472  |// if decoder is having difficulty syncing, switch isr to be called less frequently
                            16993 ; 473  |#define MP3_DECODERISR_SLOW 50000 
                            16994 ; 474  |
                            16995 ; 475  |
                            16996 ; 476  |/////////////////////////////////////////////////////////////////////////////////
                            16997 ; 477  |//// Multi-Stage Volume Control Definitions
                            16998 ; 478  |/////////////////////////////////////////////////////////////////////////////////
                            16999 ; 479  |//// Use Multi-Stage Volume
                            17000 ; 480  |#define MULTI_STAGE_VOLUME 0x1                  
                            17001 ; 481  |
                            17002 ; 482  |//// Master Volume definitions
                            17003 ; 483  |#define MIX_MSTR_MAX_VOL 0x0
                            17004 ; 484  |#define NUM_MSTR_ATT_STEPS (0x1F-MIX_MSTR_MAX_VOL)
                            17005 ; 485  |
                            17006 ; 486  |//// DAC-Mode definitions
                            17007 ; 487  |//// Adjusts 0dB point
                            17008 ; 488  |#define MIX_DAC_NOM_VOL 0x6                  
                            17009 ; 489  |#define MIX_DAC_MIN_VOL 0x1F
                            17010 ; 490  |// For minimum clipping: Set MIX_DAC_MAX_VOL below to match MIX_DAC_NOM_VOL value 2 lines 
                                  above.
                            17011 ; 491  |// For additional gain (with possible clipping): Set MIX_DAC_MAX_VOL in range below. 
                            17012 ; 492  |//                                               Each integer below MIX_DAC_NOM_VOL provid
                                  es 1.5 dB gain on Stmp34x0; 
                            17013 ; 493  |//                                               Max gain possible: 8 step diff would prov
                                  ide +12dB gain.   
                            17014 ; 494  |// range: [0 to MIX_DAC_NOM_VOL] (0 for loudest volume)
                            17015 ; 495  |#define MIX_DAC_MAX_VOL 0x0  
                            17016 ; 496  |
                            17017 ; 497  |#define NUM_DAC_ATT_STEPS (MIX_DAC_MIN_VOL-MIX_DAC_NOM_VOL+1)
                            17018 ; 498  |#define NUM_DAC_GAIN_STEPS (MIX_DAC_NOM_VOL-MIX_DAC_MAX_VOL)
                            17019 ; 499  |#define NUM_DAC_MODE_VOL_STEPS (NUM_DAC_ATT_STEPS+NUM_MSTR_ATT_STEPS+NUM_DAC_GAIN_STEPS+1)
                                  
                            17020 ; 500  |
                            17021 ; 501  |//// If there is no stored volume, set to 50% of DAC-Mode max; change if DAC Mode is not t
                                  he default
                            17022 ; 502  |//// STMP35xx has 2dB attenuation per step so default needs a few more steps above midpoin
                                  t.
                            17023 ; 503  |#define DEFAULT_VOLUME ((NUM_DAC_MODE_VOL_STEPS/2)+6)         
                            17024 ; 504  |
                            17025 ; 505  |//// Set maximum restored volume to 75% of DAC-Mode max; change if DAC Mode is not the def
                                  ault
                            17026 ; 506  |#define MAX_RESTORED_VOLUME ((3*NUM_DAC_MODE_VOL_STEPS)/4)   
                            17027 ; 507  |
                            17028 ; 508  |
                            17029 ; 509  |//// Line In definitions (used for Line-In 1)
                            17030 ; 510  |//// 0dB point of the Line In
                            17031 ; 511  |#define MIX_LINE_NOM_VOL 0x8                  
                            17032 ; 512  |//// Minimum volume of Line In
                            17033 ; 513  |#define MIX_LINE_MIN_VOL 0x1F                 
                            17034 ; 514  |//// Maximum volume of Line In (can adjust extra gain)
                            17035 ; 515  |#define MIX_LINE_MAX_VOL 0x6                  
                            17036 ; 516  |#define NUM_LINE_ATT_STEPS (MIX_LINE_MIN_VOL-MIX_LINE_NOM_VOL+1)
                            17037 ; 517  |#define NUM_LINE_GAIN_STEPS (MIX_LINE_NOM_VOL-MIX_LINE_MAX_VOL)
                            17038 ; 518  |#define NUM_LINE_MODE_VOL_STEPS (NUM_LINE_ATT_STEPS+NUM_MSTR_ATT_STEPS+NUM_LINE_GAIN_STEPS
                                  +1)
                            17039 ; 519  |
                            17040 ; 520  |//// Line In definitions (used for FM tuner with 144 pin package)
                            17041 ; 521  |//// 0dB point of the Line In
                            17042 ; 522  |#define MIX_FM_NOM_VOL 0x8                  
                            17043 ; 523  |//// Minimum volume of Line In
                            17044 ; 524  |#define MIX_FM_MIN_VOL 0x1F                 
                            17045 ; 525  |//// Maximum volume of Line In (can adjust extra gain)
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 284

M:ADDR CODE           CYCLES LINE SOURCELINE
                            17046 ; 526  |#define MIX_FM_MAX_VOL 0x6                  
                            17047 ; 527  |#define NUM_FM_ATT_STEPS (MIX_FM_MIN_VOL-MIX_FM_NOM_VOL+1)
                            17048 ; 528  |#define NUM_FM_GAIN_STEPS (MIX_FM_NOM_VOL-MIX_FM_MAX_VOL)
                            17049 ; 529  |#define NUM_FM_MODE_VOL_STEPS (NUM_FM_ATT_STEPS+NUM_MSTR_ATT_STEPS+NUM_FM_GAIN_STEPS+1)
                            17050 ; 530  |
                            17051 ; 531  |/////////////////////////////////////////////////////////////////////////////////
                            17052 ; 532  |//// When enabled (1), periodically checks for one of several FM state machine invalid dea
                                  dlock states & recovers. 
                            17053 ; 533  |//// Define as 0 to disable FM-deadlock-state checking and recovery.
                            17054 ; 534  |#define FM_WATCHDOG_ENABLE 1
                            17055 ; 535  |
                            17056 ; 536  |#if !defined(STMP_BUILD_PLAYER)
                            17057 ; 537  |////
                            17058 ; 538  |////! This varible holds the lcd display state for the mtp project.
                            17059 ; 539  |////
                            17060 ; 540  |///
                            17061 ; 541  |#include <types.h>
                            17062 ; 542  |extern volatile WORD g_wActivityState;
                            17063 ; 543  |#endif // if !@def('STMP_BUILD_PLAYER')
                            17064 ; 544  |
                            17065 ; 545  |void _reentrant Init5VSense(void);
                            17066 ; 546  |void _reentrant ServiceDCDC(void);
                            17067 ; 547  |
                            17068 ; 548  |////////////////////////////////////////////////////////////////////////////
                            17069 ; 549  |//// JPEG Thumbnail Mode Setting
                            17070 ; 550  |//// number of column in thumbnail mode
                            17071 ; 551  |#define THUMBNAIL_X 2           
                            17072 ; 552  |//// number of row in  thumbnail mode
                            17073 ; 553  |#define THUMBNAIL_Y 2           
                            17074 ; 554  |//// thumbnail boundary offset x
                            17075 ; 555  |#define THUMBNAIL_X_OFFSET 4            
                            17076 ; 556  |//// thumbnail boundary offset y
                            17077 ; 557  |#define THUMBNAIL_Y_OFFSET 4            
                            17078 ; 558  |
                            17079 ; 559  |#endif // if (!@def(_PROJECT_INC))
                            17080 ; 560  |
                            17081 
                            17083 
                            17084 ; 101  |
                            17085 ; 102  |/*========================================================================================
                                  ==========
                            17086 ; 103  |                                             CONSTANTS
                            17087 ; 104  |==========================================================================================
                                  ========*/
                            17088 ; 105  |/* The bit mask for 2 bits Unicode Flag selection in "uint8 unicode".
                            17089 ; 106  |Variable Represented            Bits used in "uint8 unicode"
                            17090 ; 107  |Artistname                              1:0
                            17091 ; 108  |Albumname                               3:2
                            17092 ; 109  |Genrename                               5:4
                            17093 ; 110  |Songname                                7:6
                            17094 ; 111  |----------------------------------------------------------
                            17095 ; 112  |    Value (2 bits)                      Meanings
                            17096 ; 113  |    0                                   RAW and All ASCII
                            17097 ; 114  |    1                                   Uni-code
                            17098 ; 115  |    2                                   Mixed, non-unicode
                            17099 ; 116  |
                            17100 ; 117  |    3(Genre only)               Genre is ID3v1 spec=>number
                            17101 ; 118  |*/
                            17102 ; 119  |#define BITMASK_ARTIST  (0x03)
                            17103 ; 120  |#define BITMASK_ALBUM   (0x0C)
                            17104 ; 121  |#define BITMASK_GENRE   (0x30)
                            17105 ; 122  |#define BITMASK_SONG    (0xC0)
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 285

M:ADDR CODE           CYCLES LINE SOURCELINE
                            17106 ; 123  |
                            17107 ; 124  |#define BITCHK_ARTIST_ALLASCII  (0x0)
                            17108 ; 125  |#define BITCHK_ALBUM_ALLASCII   (0x0)
                            17109 ; 126  |#define BITCHK_GENRE_ALLASCII   (0x0)
                            17110 ; 127  |#define BITCHK_SONG_ALLASCII    (0x0)
                            17111 ; 128  |
                            17112 ; 129  |#define BITCHK_ARTIST_UNICODE   (0x01)
                            17113 ; 130  |#define BITCHK_ALBUM_UNICODE    (0x04)
                            17114 ; 131  |#define BITCHK_GENRE_UNICODE    (0x10)
                            17115 ; 132  |#define BITCHK_SONG_UNICODE             (0x40)
                            17116 ; 133  |
                            17117 ; 134  |#define BITCHK_ARTIST_MIXCODE   (0x02)
                            17118 ; 135  |#define BITCHK_ALBUM_MIXCODE    (0x08)
                            17119 ; 136  |#define BITCHK_GENRE_MIXCODE    (0x20)
                            17120 ; 137  |#define BITCHK_SONG_MIXCODE             (0x80)
                            17121 ; 138  |
                            17122 ; 139  |#define BITCHK_GENRE_ID3V1              (0x30)
                            17123 ; 140  |
                            17124 ; 141  |#define UNKNOWN_YEAR_CODE               (1)     /* set a very large number */
                            17125 ; 142  |
                            17126 ; 143  |#define INDEX_EOF       0xFFF
                            17127 ; 144  |#ifdef _FOLDER_BROWSE_
                            17128 ; 145  |#define INDEX_ROOT  0xffe
                            17129 ; 146  |#define UNKNOWN_RECORD  0xfff
                            17130 ; 147  |#endif  // _FOLDER_BROWSE_
                            17131 ; 148  |
                            17132 ; 149  |/* Constant for item_type */
                            17133 ; 150  |#define         ITEM_ARTIST                     0
                            17134 ; 151  |#define         ITEM_ALBUM                      1
                            17135 ; 152  |#define         ITEM_GENRE                      2
                            17136 ; 153  |#define         ITEM_TRACK                      3
                            17137 ; 154  |#define         ITEM_YEAR                       4
                            17138 ; 155  |#define         ITEM_SONG_INFO_ARTIST   5
                            17139 ; 156  |#define         ITEM_SONG_INFO_ALBUM    6
                            17140 ; 157  |#define         ITEM_SONG_INFO_GENRE    7
                            17141 ; 158  |#define         ITEM_SONG_INFO_YEAR             9
                            17142 ; 159  |#ifdef _NEWMUSIC_
                            17143 ; 160  |#define         ITEM_1DAY                       10
                            17144 ; 161  |#define         ITEM_1WEEK                      11
                            17145 ; 162  |#define         ITEM_1MONTH                     12
                            17146 ; 163  |#endif
                            17147 ; 164  |#ifdef _AUDIBLE_
                            17148 ; 165  |#define         ITEM_AUDIBLE            13
                            17149 ; 166  |#endif
                            17150 ; 167  |#define         ITEM_ON_THE_GO          14
                            17151 ; 168  |
                            17152 ; 169  |#define         ITEM_VOICE                      15
                            17153 ; 170  |#define         ITEM_FMREC                      16
                            17154 ; 171  |#define         ITEM_PHOTO                      17
                            17155 ; 172  |#ifdef _FOLDER_BROWSE_
                            17156 ; 173  |#define         ITEM_INTERNAL           18
                            17157 ; 174  |#define         ITEM_EXTERNAL       19
                            17158 ; 175  |#endif  // _FOLDER_BROWSE_
                            17159 ; 176  |#define     ITEM_UNKNOWN        0xff
                            17160 ; 177  |
                            17161 ; 178  |/*
                            17162 ; 179  |input parameter for void ML_AddEntryToLibrary(uint24 Media_type, RAM_SONG_INFO_T *song_inf
                                  o, int16 option);
                            17163 ; 180  |option input.
                            17164 ; 181  |*/
                            17165 ; 182  |#define         ADD_OPTION_MUSIC        (0x00)
                            17166 ; 183  |#define         ADD_OPTION_VOICE        (0x01)
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 286

M:ADDR CODE           CYCLES LINE SOURCELINE
                            17167 ; 184  |#define         ADD_OPTION_AUDIBLE      (0x02)
                            17168 ; 185  |#ifdef _FOLDER_BROWSE_
                            17169 ; 186  |#define     ADD_OPTION_DIR      (0x03)
                            17170 ; 187  |#endif  // _FOLDER_BROWSE_
                            17171 ; 188  |
                            17172 ; 189  |/* Constant for key action */
                            17173 ; 190  |#define         ACTION_OK                               0               /* Press OK button
                                   */
                            17174 ; 191  |#define         ACTION_BACK                             1               /* Press BACK butt
                                  on */
                            17175 ; 192  |#define         ACTION_UP                               2               /* Press UP button
                                   */
                            17176 ; 193  |#define         ACTION_DOWN                             3               /* Press DOWN butt
                                  on */
                            17177 ; 194  |#define         ACTION_PLAYALL                  4               /* Play All function */
                            17178 ; 195  |#define         ACTION_MENU                             5               /* Back the browsi
                                  ng tree to root */
                            17179 ; 196  |
                            17180 ; 197  |#define     PLAYMODE_CURRENT_PLAYMODE_BITPOS    0
                            17181 ; 198  |#define     PLAYMODE_LAST_PLAYMODE_BITPOS       1
                            17182 ; 199  |#define     PLAYMODE_REPEAT_BITPOS              2
                            17183 ; 200  |#define     PLAYMODE_MEDIA_BITPOS               3
                            17184 ; 201  |
                            17185 ; 202  |#define         NO_SD                                   0
                            17186 ; 203  |#define         HAS_SD                                  1
                            17187 ; 204  |
                            17188 ; 205  |#define         PLAY_NORMAL                             0
                            17189 ; 206  |#define         PLAY_SHUFFLE                    1
                            17190 ; 207  |
                            17191 ; 208  |#define     PLAY_REPEAT_OFF         0
                            17192 ; 209  |#define     PLAY_REPEAT_ON          1
                            17193 ; 210  |
                            17194 ; 211  |#define     PLAY_SELECT_FLASH       0
                            17195 ; 212  |#define     PLAY_SELECT_SD          1
                            17196 ; 213  |
                            17197 ; 214  |#define         SHUFFLE_NEXT_SONG                       0
                            17198 ; 215  |#define         SHUFFLE_PREVIOUS_SONG       1
                            17199 ; 216  |
                            17200 ; 217  |#define         ON_THE_GO_EXIST                 0
                            17201 ; 218  |#define         ON_THE_GO_FULL                  1
                            17202 ; 219  |#define         ON_THE_GO_FREE                  2
                            17203 ; 220  |#define         ON_THE_GO_DEL_PLAYING   3
                            17204 ; 221  |#define         ON_THE_GO_DEL_SMALLER_ID    4
                            17205 ; 222  |
                            17206 ; 223  |#define         REC_VOICE_TYPE                  0
                            17207 ; 224  |#define         REC_FMREC_TYPE                  1
                            17208 ; 225  |#define         REC_PHOTO_TYPE                  2
                            17209 ; 226  |#define         VOICE_FILE_ADD                  0
                            17210 ; 227  |#define         VOICE_FILE_DEL                  1
                            17211 ; 228  |
                            17212 ; 229  |#define         MAX_BROWSE_WINDOW_SIZE  (8)
                            17213 ; 230  |#define         BROWSE_WINDOW_SIZE              (4)
                            17214 ; 231  |/* maximum number of song file, should not be larger than 2048 each for on-board
                            17215 ; 232  |flash or external SD card */
                            17216 ; 233  |#ifdef _SUPPORT_2000_SONGS_
                            17217 ; 234  |#define MAX_NUM_OF_SONG (2000)
                            17218 ; 235  |#else
                            17219 ; 236  |#define MAX_NUM_OF_SONG (1000)
                            17220 ; 237  |#endif // _SUPPORT_2000_SONGS_
                            17221 ; 238  |
                            17222 ; 239  |/* number of byte in one DSP word */
                            17223 ; 240  |#define NUM_OF_BYTE_IN_ONE_WORD (3)
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 287

M:ADDR CODE           CYCLES LINE SOURCELINE
                            17224 ; 241  |#define LEN_OF_NAME_IN_BYTE (120) /* must be an integer multiple of 3 */
                            17225 ; 242  |/* length of file pathname in byte, assuming directory and file in 8.3 format, there
                            17226 ; 243  |are 10 level directory structure */
                            17227 ; 244  |#define LEN_OF_FILEPATH_IN_BYTE (129) /* must be an integer multiple of 3 */
                            17228 ; 245  |#define LEN_OF_LONG_FILENAME_IN_BYTE (129) /* must be an integer multiple of 3 */
                            17229 ; 246  |
                            17230 ; 247  |/* number of list in new music, 1-day, 1-week, 1-month */
                            17231 ; 248  |#define NUM_OF_LIST_IN_NEW_MUSIC (3)
                            17232 ; 249  |/* number of songs in each new music list */
                            17233 ; 250  |#define NUM_OF_SONG_IN_NEW_MUSIC (40)
                            17234 ; 251  |#define NUM_OF_SONG_IN_NEW_MUSIC_DAY (20)
                            17235 ; 252  |#define NUM_OF_SONG_IN_NEW_MUSIC_WEEK (30)
                            17236 ; 253  |#define NUM_OF_SONG_IN_NEW_MUSIC_MONTH (40)
                            17237 ; 254  |/* number of songs in the on-the-fly list */
                            17238 ; 255  |#define NUM_OF_SONG_IN_ON_THE_FLY (30)
                            17239 ; 256  |/* number of files audible list */
                            17240 ; 257  |#define NUM_OF_AUDIBLE_FILE (250)
                            17241 ; 258  |
                            17242 ; 259  |#define MAX_NUM_OF_VOICE (1000)
                            17243 ; 260  |#define LEN_OF_VOICE_NAME_IN_BYTE (LEN_OF_NAME_IN_BYTE) /* must be an integer multiple of 
                                  3 */
                            17244 ; 261  |#define LEN_OF_VOICE_FILEPATH_IN_BYTE (LEN_OF_FILEPATH_IN_BYTE) /* must be an integer mult
                                  iple of 3 */
                            17245 ; 262  |
                            17246 ; 263  |#define MAX_NUM_OF_FMREC (MAX_NUM_OF_VOICE)     /* _must_be_equal_voice_num_ */
                            17247 ; 264  |#define MAX_NUM_OF_PHOTO (MAX_NUM_OF_VOICE)     /* _must_be_equal_voice_num_ */
                            17248 ; 265  |#ifdef _FOLDER_BROWSE_
                            17249 ; 266  |#define MAX_NUM_OF_DIR   (1000)
                            17250 ; 267  |#else
                            17251 ; 268  |#define MAX_NUM_OF_DIR   (1)
                            17252 ; 269  |#endif  // _FOLDER_BROWSE_
                            17253 ; 270  |#define LEN_OF_FMREC_NAME_IN_BYTE (LEN_OF_NAME_IN_BYTE) /* must be an integer multiple of 
                                  3 */
                            17254 ; 271  |#define LEN_OF_FMREC_FILEPATH_IN_BYTE (LEN_OF_FILEPATH_IN_BYTE) /* must be an integer mult
                                  iple of 3 */
                            17255 ; 272  |
                            17256 ; 273  |#ifndef _MAX_DIR_DEPTH
                            17257 ; 274  |#define _MAX_DIR_DEPTH  8   // referred to "playlist3internal.h"
                            17258 ; 275  |#endif  // _MAX_DIR_DEPTH
                            17259 ; 276  |
                            17260 ; 277  |/*========================================================================================
                                  ==========*/
                            17261 ; 278  |
                            17262 ; 279  |
                            17263 ; 280  |/*========================================================================================
                                  ==========
                            17264 ; 281  |                                               MACROS
                            17265 ; 282  |==========================================================================================
                                  ========*/
                            17266 ; 283  |
                            17267 ; 284  |/*========================================================================================
                                  ==========
                            17268 ; 285  |                                               ENUMS
                            17269 ; 286  |==========================================================================================
                                  ========*/
                            17270 ; 287  |#define NUM_OF_MEDIA                            (2)
                            17271 ; 288  |#define MEDIA_TYPE_FLASH                        (0)
                            17272 ; 289  |#define MEDIA_TYPE_SD                           (1)
                            17273 ; 290  |/*========================================================================================
                                  ==========
                            17274 ; 291  |                                     STRUCTURES AND OTHER TYPEDEFS
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 288

M:ADDR CODE           CYCLES LINE SOURCELINE
                            17275 ; 292  |==========================================================================================
                                  ========*/
                            17276 ; 293  |
                            17277 ; 294  |typedef char    int8;
                            17278 ; 295  |typedef short   int16;
                            17279 ; 296  |typedef int     int24;
                            17280 ; 297  |typedef long    int32;
                            17281 ; 298  |
                            17282 ; 299  |typedef int     intx;
                            17283 ; 300  |
                            17284 ; 301  |typedef unsigned char   uint8;
                            17285 ; 302  |typedef unsigned short  uint16;
                            17286 ; 303  |typedef unsigned int    uint24;
                            17287 ; 304  |typedef unsigned long   uint32;
                            17288 
                            17292 
                            17293 ; 305  |
                            17294 ; 306  |/*
                            17295 ; 307  |Any missing information in the name fields will be filled with Unknown in Unicode form
                                  at.
                            17296 ; 308  |artist_name[] = Unknown; unicode = 0x01;
                            17297 ; 309  |album_name[] = Unknown; unicode = 0x04;
                            17298 ; 310  |genre_name[] = Unknown; unicode = 0x08;
                            17299 ; 311  |song_name[] = Unknown; unicode = 0x0F;
                            17300 ; 312  |*/
                            17301 ; 313  |/*
                            17302 ; 314  |path_name[] _must_have_data_:
                            17303 ; 315  |path_name[] = (Max. 120 Characters);
                            17304 ; 316  |year range:
                            17305 ; 317  |year = 0x000000-0xFFFFFF;
                            17306 ; 318  |DOCUMENT CONTROL NUMBER : Version : 01.01
                            17307 ; 319  |Unknown track number:
                            17308 ; 320  |track_number = 0x7FFFFF;
                            17309 ; 321  |unicode refer to above #define BITMASK_*
                            17310 ; 322  |*/
                            17311 ; 323  |/*
                            17312 ; 324  |Interface of UI and Music Library
                            17313 ; 325  |1) If file was created in ID3V1 format genre, UI will convert it to Unicode string.
                            17314 ; 326  |
                            17315 ; 327  |2) Music Library expected to reserve 128x7 words RAM for UI mapping table.
                            17316 ; 328  |
                            17317 ; 329  |3) UI to Music Library variable passing length definition:
                            17318 ; 330  |        All ASCII Characters:
                            17319 ; 331  |                Max. Number of Bytes Stored = 120 Bytes
                            17320 ; 332  |                Max. Number of Characters Stored/Display = 40 Characters
                            17321 ; 333  |        Unicode Characters:
                            17322 ; 334  |                Max. Number of Bytes Stored = 120 Bytes
                            17323 ; 335  |                Max. Number of Characters Stored/Display = 40 Characters
                            17324 ; 336  |
                            17325 ; 337  |4) UI input data to Music Library in two formats.
                            17326 ; 338  |        Formats:        1) All ASCII (24 bits data)
                            17327 ; 339  |                                2) Unicode + Mix. Non -Unicode (16 bits data)
                            17328 ; 340  |
                            17329 ; 341  |5) UI calling function:
                            17330 ; 342  |COMP_OPT_REN void ML_AddEntryToLibrary(RAM_SONG_INFO_T *song_info, int16 option);
                            17331 ; 343  |        int16 option definition:
                            17332 ; 344  |                option  = 0 - song_info struct contains a mp3/wma format file.
                            17333 ; 345  |                                = 1 - song_info struct contains a voice format file.
                            17334 ; 346  |                                = 2 - song_info struct contains a audible format file.
                            17335 ; 347  |
                            17336 ; 348  |        i) Only mp3/wma file (option = 0, 2) files will be sorted,
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 289

M:ADDR CODE           CYCLES LINE SOURCELINE
                            17337 ; 349  |        ii) Voice and audible(option = 1) file will be store in a voice_list and audible_l
                                  ist separately.
                            17338 ; 350  |
                            17339 ; 351  |6) Modification Date:
                            17340 ; 352  |        uint24 g_file_time:
                            17341 ; 353  |                YYMMDD: 12 bits - Year, 6 bits - Month, 6 - bits Date
                            17342 ; 354  |*/
                            17343 ; 355  |
                            17344 ; 356  |/* struct to store the song information passed from UI, this struct will be placed in
                            17345 ; 357  |ghdr\musiclib_ghdr.h and included in UI files*/
                            17346 ; 358  |typedef struct _ram_song_info {
                            17347 ; 359  |        uint24 artist_name[LEN_OF_NAME_IN_BYTE/NUM_OF_BYTE_IN_ONE_WORD];
                            17348 ; 360  |        uint24 album_name[LEN_OF_NAME_IN_BYTE/NUM_OF_BYTE_IN_ONE_WORD];
                            17349 ; 361  |        uint24 genre_name[LEN_OF_NAME_IN_BYTE/NUM_OF_BYTE_IN_ONE_WORD];
                            17350 ; 362  |        uint24 song_name[LEN_OF_NAME_IN_BYTE/NUM_OF_BYTE_IN_ONE_WORD];
                            17351 ; 363  |        uint24 path_name[LEN_OF_FILEPATH_IN_BYTE/NUM_OF_BYTE_IN_ONE_WORD];
                            17352 ; 364  |    uint32 g_songFastKey;
                            17353 ; 365  |        uint24 dir_name[LEN_OF_LONG_FILENAME_IN_BYTE/NUM_OF_BYTE_IN_ONE_WORD];
                            17354 ; 366  |        uint24 year;
                            17355 ; 367  |        uint24 track_number;
                            17356 ; 368  |        uint8 unicode;
                            17357 ; 369  |} RAM_SONG_INFO_T;
                            17358 ; 370  |
                            17359 ; 371  |/* struct to store the group name: artist, album and genre, in the flash */
                            17360 ; 372  |typedef struct _flash_group_name {
                            17361 ; 373  |        uint24 name[LEN_OF_NAME_IN_BYTE/NUM_OF_BYTE_IN_ONE_WORD];
                            17362 ; 374  |        uint8 unicode;
                            17363 ; 375  |} FLASH_GROUP_NAME_T;
                            17364 ; 376  |
                            17365 ; 377  |// struct to store directories information passed from UI
                            17366 ; 378  |#ifdef _FOLDER_BROWSE_
                            17367 ; 379  |typedef struct _ml_DirInfo {
                            17368 ; 380  |        uint24  u8Unicode : 8;
                            17369 ; 381  |        uint24  u12DirDepth : 12;
                            17370 ; 382  |        uint24  u4Added : 4;            
                            17371 ; 383  |        INT     iDirRecord;
                            17372 ; 384  |        DWORD   dwFastKey;
                            17373 ; 385  |        uint24  u24PathName[LEN_OF_FILEPATH_IN_BYTE/NUM_OF_BYTE_IN_ONE_WORD];
                            17374 ; 386  |} ML_DIRINFO_T;
                            17375 ; 387  |#endif  // _FOLDER_BROWSE_
                            17376 ; 388  |
                            17377 ; 389  |/*========================================================================================
                                  ==========
                            17378 ; 390  |                                 GLOBAL VARIABLE DECLARATIONS
                            17379 ; 391  |==========================================================================================
                                  ========*/
                            17380 ; 392  |extern uint24   IsPlayOnTheGo;
                            17381 
                            17387 
                            17388 ; 393  |extern FLASH_GROUP_NAME_T   browse_item_name[];
                            17389 ; 394  |extern uint24   merge_id_list_flash[];
                            17390 ; 395  |extern uint24   merge_id_list_sd[];
                            17391 ; 396  |extern INT _X   g_iBrowseWindowSize;
                            17392 ; 397  |#ifdef _FOLDER_BROWSE_
                            17393 
                            17406 
                            17407 ; 398  |extern ML_DIRINFO_T g_tDirInfoBuffer[_MAX_DIR_DEPTH];
                            17408 ; 399  |extern uint24       g_u24DirName[LEN_OF_NAME_IN_BYTE/NUM_OF_BYTE_IN_ONE_WORD];
                            17409 ; 400  |extern uint24       g_u24BrowseNumOfDirInDir[];
                            17410 ; 401  |#endif  // _FOLDER_BROWSE_
                            17411 ; 402  |extern INT _X    *sec_temp_buf_X;
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 290

M:ADDR CODE           CYCLES LINE SOURCELINE
                            17412 ; 403  |extern uint24   playMode;   /* bit 0 = current play mode; bit 1 = last play mode ; bit 2 =
                                   repeat on/off(0=off/1=on) */
                            17413 ; 404  |
                            17414 ; 405  |/*========================================================================================
                                  ==========
                            17415 ; 406  |                                        FUNCTION PROTOTYPES
                            17416 ; 407  |==========================================================================================
                                  ========*/
                            17417 ; 408  |
                            17418 ; 409  |///////////////////////////////////////////////////////////////////////
                            17419 ; 410  |//! \brief
                            17420 ; 411  |//!
                            17421 ; 412  |//! \fntype Function
                            17422 ; 413  |//!
                            17423 ; 414  |//! Called by UI, to initialize the parameters before insert any item.
                            17424 ; 415  |//! Call only once before inserting items. Call once for each media.
                            17425 ; 416  |//!
                            17426 ; 417  |//! \param[in]  none
                            17427 ; 418  |//!
                            17428 ; 419  |//! \return
                            17429 ; 420  |//!
                            17430 ; 421  |///////////////////////////////////////////////////////////////////////
                            17431 ; 422  |void ML_InitLibraryParameter(void);
                            17432 ; 423  |
                            17433 ; 424  |///////////////////////////////////////////////////////////////////////
                            17434 ; 425  |//! \brief
                            17435 ; 426  |//!
                            17436 ; 427  |//! \fntype Function
                            17437 ; 428  |//!
                            17438 ; 429  |//! Called by UI, the AddEntryToLibrary is the music library building
                            17439 ; 430  |//! algorithms for the flash-type memory and SD memory by sorting the song information
                            17440 ; 431  |//! by, but not limited to, album, artist, genre, year and track. Called once for each son
                                  g,
                            17441 ; 432  |//! the song information is recorded in music library.
                            17442 ; 433  |//!
                            17443 ; 434  |//! \param[in]  uint24 Media_type - Possible values: MEDIA_TYPE_FLASH(=0); MEDIA_TYPE_SD(=
                                  1)
                            17444 ; 435  |//! \param[in]  RAM_SONG_INFO_T *song_info - Structure to store the song information passe
                                  d from UI, this structure is defined in ghdr\musiclib_ghdr.h and included in UI files)
                            17445 ; 436  |//! \param[in]  int16 option - option = 0 -- song_info struct contains a mp3, wma or wav f
                                  ormat file.
                            17446 ; 437  |//!
                            17447 ; 438  |//! \return
                            17448 ; 439  |//!
                            17449 ; 440  |///////////////////////////////////////////////////////////////////////
                            17450 ; 441  |void ML_AddEntryToLibrary(uint24 Media_type, RAM_SONG_INFO_T *song_info, int16 option);
                            17451 
                            17465 
                            17466 ; 442  |
                            17467 ; 443  |///////////////////////////////////////////////////////////////////////
                            17468 ; 444  |//! \brief
                            17469 ; 445  |//!
                            17470 ; 446  |//! \fntype Function
                            17471 ; 447  |//!
                            17472 ; 448  |//! \param[in]
                            17473 ; 449  |//!
                            17474 ; 450  |//! \return
                            17475 ; 451  |//!
                            17476 ; 452  |///////////////////////////////////////////////////////////////////////
                            17477 ; 453  |#ifdef _FOLDER_BROWSE_
                            17478 ; 454  |_reentrant void ML_AddDirEntryToLibrary(uint24 u24MediaType, ML_DIRINFO_T *ptDirInfo, int1
                                  6 i16Option);
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 291

M:ADDR CODE           CYCLES LINE SOURCELINE
                            17479 ; 455  |#endif  // _FOLDER_BROWSE_
                            17480 ; 456  |
                            17481 ; 457  |///////////////////////////////////////////////////////////////////////
                            17482 ; 458  |//! \brief
                            17483 ; 459  |//!
                            17484 ; 460  |//! \fntype Function
                            17485 ; 461  |//!
                            17486 ; 462  |//! Called by UI, flush sorted and associate list to flash when no
                            17487 ; 463  |//! more song needed to be added for that media. This function finalizes the building of
                            17488 ; 464  |//! music library for that particular media.
                            17489 ; 465  |//!
                            17490 ; 466  |//! \param[in]  uint24 Media_type - Possible values: MEDIA_TYPE_FLASH(=0); MEDIA_TYPE_SD(=
                                  1)
                            17491 ; 467  |//!
                            17492 ; 468  |//! \return
                            17493 ; 469  |//!
                            17494 ; 470  |//! \note   Bulid the library first (call ML_AddEntryToLibrary) before calling this
                            17495 ; 471  |//!         function.
                            17496 ; 472  |///////////////////////////////////////////////////////////////////////
                            17497 ; 473  |_reentrant INT ML_FlushLibraryToFlash(INT Media_type, INT b, INT *c);
                            17498 ; 474  |
                            17499 ; 475  |///////////////////////////////////////////////////////////////////////
                            17500 ; 476  |//! \brief
                            17501 ; 477  |//!
                            17502 ; 478  |//! \fntype Function
                            17503 ; 479  |//!
                            17504 ; 480  |//! \param[in]
                            17505 ; 481  |//!
                            17506 ; 482  |//! \return
                            17507 ; 483  |//!
                            17508 ; 484  |///////////////////////////////////////////////////////////////////////
                            17509 ; 485  |#ifdef _NEWMUSIC_
                            17510 ; 486  |void ML_UpdateNewMusic(void);
                            17511 ; 487  |#endif
                            17512 ; 488  |
                            17513 ; 489  |///////////////////////////////////////////////////////////////////////
                            17514 ; 490  |//! \brief
                            17515 ; 491  |//!
                            17516 ; 492  |//! \fntype Function
                            17517 ; 493  |//!
                            17518 ; 494  |//! Called by UI, to initialize the file access mechanism for all music
                            17519 ; 495  |//! library operation if the music.lib file and the music.sec file exist (call
                            17520 ; 496  |//! ML_BuildSecTableFile() if these files do not exist).
                            17521 ; 497  |//!
                            17522 ; 498  |//! \param[in]  none
                            17523 ; 499  |//!
                            17524 ; 500  |//! \return
                            17525 ; 501  |//!
                            17526 ; 502  |//! \note   Either ML_Buildl2SecTable(void) or ML_BuildSecTableFile(void)
                            17527 ; 503  |//!         must be called before calling any other music library functions.
                            17528 ; 504  |///////////////////////////////////////////////////////////////////////
                            17529 ; 505  |_reentrant INT ML_Buildl2SecTable(INT a, INT b, INT *c);
                            17530 ; 506  |
                            17531 ; 507  |///////////////////////////////////////////////////////////////////////
                            17532 ; 508  |//! \brief
                            17533 ; 509  |//!
                            17534 ; 510  |//! \fntype Function
                            17535 ; 511  |//!
                            17536 ; 512  |//! Called by UI, to initialize the file access mechanism for all music
                            17537 ; 513  |//! library operation.
                            17538 ; 514  |//! Two system files (music.lib and music.sec) is created.
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 292

M:ADDR CODE           CYCLES LINE SOURCELINE
                            17539 ; 515  |//! Call this only if intended to generate / refresh these files, or if the music.lib file
                                   and the
                            17540 ; 516  |//! music.sec file do not exist.
                            17541 ; 517  |//!
                            17542 ; 518  |//! \param[in]  none
                            17543 ; 519  |//!
                            17544 ; 520  |//! \return
                            17545 ; 521  |//!
                            17546 ; 522  |//! \note   Either ML_Buildl2SecTable(void) or ML_BuildSecTableFile(void)
                            17547 ; 523  |//!         must be called before calling any other music library functions.
                            17548 ; 524  |///////////////////////////////////////////////////////////////////////
                            17549 ; 525  |_reentrant INT ML_BuildSecTableFile(INT a, INT b, INT *c);
                            17550 ; 526  |
                            17551 ; 527  |///////////////////////////////////////////////////////////////////////
                            17552 ; 528  |//! \brief
                            17553 ; 529  |//!
                            17554 ; 530  |//! \fntype Function
                            17555 ; 531  |//!
                            17556 ; 532  |//! Preload the list, prepare for renew.
                            17557 ; 533  |//! IsColdBoot=TRUE: loads the list content and the path name to the on_the_fly_list
                            17558 ; 534  |//! structure in RAM.
                            17559 ; 535  |//! IsColdBoot=FALSE: updates the path name only, to the on_the_fly_list structure
                            17560 ; 536  |//! in RAM.
                            17561 ; 537  |//!
                            17562 ; 538  |//! \param[in]  uint24 IsColdBoot - Possible values: TRUE or FALSE
                            17563 ; 539  |//!
                            17564 ; 540  |//! \return
                            17565 ; 541  |//!
                            17566 ; 542  |//! \note   Use IsColdBoot=TRUE only once when the machine boot-up, other
                            17567 ; 543  |//!         time when you need to renew the list, use IsColdBoot=FALSE instead.
                            17568 ; 544  |///////////////////////////////////////////////////////////////////////
                            17569 ; 545  |void ML_LoadOnTheGo(uint24 IsColdBoot);
                            17570 ; 546  |
                            17571 ; 547  |///////////////////////////////////////////////////////////////////////
                            17572 ; 548  |//! \brief
                            17573 ; 549  |//!
                            17574 ; 550  |//! \fntype Function
                            17575 ; 551  |//!
                            17576 ; 552  |//! Save the list to flash memory.
                            17577 ; 553  |//!
                            17578 ; 554  |//! \param[in]
                            17579 ; 555  |//!
                            17580 ; 556  |//! \return
                            17581 ; 557  |//!
                            17582 ; 558  |//! \note   It is recommended to save the list as soon as possible after it was
                            17583 ; 559  |//!         changed by the user.
                            17584 ; 560  |///////////////////////////////////////////////////////////////////////
                            17585 ; 561  |void ML_SaveOnTheGo(void);      /* call at shutdownmenu.c to save the list */
                            17586 ; 562  |
                            17587 ; 563  |///////////////////////////////////////////////////////////////////////
                            17588 ; 564  |//! \brief
                            17589 ; 565  |//!
                            17590 ; 566  |//! \fntype Function
                            17591 ; 567  |//! When the Music Lib is rebuilding, the path of each song is
                            17592 ; 568  |//! compared with the path stored in the on_the_fly_list structure, to decide if it was in
                                   the
                            17593 ; 569  |//! list before, if so the ID is replaced by the new songID, and the song is keep in the l
                                  ist.
                            17594 ; 570  |//! Otherwise the song is deleted.
                            17595 ; 571  |//!
                            17596 ; 572  |//! \param[in]  uint24 Media_type - Possible values: MEDIA_TYPE_FLASH(=0); MEDIA_TYPE_SD(=
                                  1)
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 293

M:ADDR CODE           CYCLES LINE SOURCELINE
                            17597 ; 573  |//! \param[in]  uint24 _X * temp_path - Input value, the path of song to be checked.
                            17598 ; 574  |//! \param[in]  uint24 newID - Input value, the new songID of the song.
                            17599 ; 575  |//!
                            17600 ; 576  |//! \return
                            17601 ; 577  |//!
                            17602 ; 578  |///////////////////////////////////////////////////////////////////////
                            17603 ; 579  |void ML_ChkOnTheGo(uint24 Media_type, uint24 _X * temp_path, uint24 newID);
                            17604 ; 580  |
                            17605 ; 581  |///////////////////////////////////////////////////////////////////////
                            17606 ; 582  |//! \brief
                            17607 ; 583  |//!
                            17608 ; 584  |//! \fntype Function
                            17609 ; 585  |//!
                            17610 ; 586  |//! Set a flag for all the songs of Media_type to be keep or delete
                            17611 ; 587  |//! in the ML_UpdateOnTheGo().
                            17612 ; 588  |//!
                            17613 ; 589  |//! \param[in]  uint24 Media_type - Possible values: MEDIA_TYPE_FLASH(=0); MEDIA_TYPE_SD(=
                                  1)
                            17614 ; 590  |//! \param[in]  uint24 value - Possible values: TRUE (song will be keep in the list); INDE
                                  X_EOF (song will be deleted)
                            17615 ; 591  |//!
                            17616 ; 592  |//! \return
                            17617 ; 593  |//!
                            17618 ; 594  |///////////////////////////////////////////////////////////////////////
                            17619 ; 595  |void ML_ChOnTheGo(uint24 Media_type, uint24 value);
                            17620 ; 596  |
                            17621 ; 597  |///////////////////////////////////////////////////////////////////////
                            17622 ; 598  |//! \brief
                            17623 ; 599  |//!
                            17624 ; 600  |//! \fntype Function
                            17625 ; 601  |//!
                            17626 ; 602  |//! Before the list can be browse, call this function to finalize the list.
                            17627 ; 603  |//!
                            17628 ; 604  |//! \param[in]  none
                            17629 ; 605  |//!
                            17630 ; 606  |//! \return
                            17631 ; 607  |//!
                            17632 ; 608  |///////////////////////////////////////////////////////////////////////
                            17633 ; 609  |void ML_UpdateOnTheGo(void);
                            17634 ; 610  |
                            17635 ; 611  |///////////////////////////////////////////////////////////////////////
                            17636 ; 612  |//! \brief
                            17637 ; 613  |//!
                            17638 ; 614  |//! \fntype Function
                            17639 ; 615  |//!
                            17640 ; 616  |//! Called by UI, to initialize the parameters before insert any item.
                            17641 ; 617  |//! Call only once before inserting items. Call once for each media.
                            17642 ; 618  |//!
                            17643 ; 619  |//! \param[in]  none
                            17644 ; 620  |//!
                            17645 ; 621  |//! \return
                            17646 ; 622  |//!
                            17647 ; 623  |///////////////////////////////////////////////////////////////////////
                            17648 ; 624  |void ML_InitVoiceParameter(void);
                            17649 ; 625  |
                            17650 ; 626  |///////////////////////////////////////////////////////////////////////
                            17651 ; 627  |//! \brief
                            17652 ; 628  |//!
                            17653 ; 629  |//! \fntype Function
                            17654 ; 630  |//!
                            17655 ; 631  |//! \param[in]
                            17656 ; 632  |//!
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 294

M:ADDR CODE           CYCLES LINE SOURCELINE
                            17657 ; 633  |//! \return
                            17658 ; 634  |//!
                            17659 ; 635  |///////////////////////////////////////////////////////////////////////
                            17660 ; 636  |void ML_LoadVoiceParameter(uint24 Rec_type);
                            17661 ; 637  |
                            17662 ; 638  |///////////////////////////////////////////////////////////////////////
                            17663 ; 639  |//! \brief
                            17664 ; 640  |//!
                            17665 ; 641  |//! \fntype Function
                            17666 ; 642  |//!
                            17667 ; 643  |//! Called by UI, the ML_AddEntryToVoice is the voice library
                            17668 ; 644  |//! building algorithms for the flash-type memory by sorting the voice files by file names
                                  .
                            17669 ; 645  |//! Called once for each voice file, the information is recorded in music library.
                            17670 ; 646  |//!
                            17671 ; 647  |//! \param[in]  uint24 Rec_type - Possible values: REC_VOICE_TYPE(=0); REC_FMREC_TYPE(=1)
                            17672 ; 648  |//! \param[in]  RAM_SONG_INFO_T *song_info - struct to store the song information passed f
                                  rom UI, this struct will be placed in ghdr\musiclib_ghdr.h and included in UI files
                            17673 ; 649  |//! \param[in]  uint24 action - option = 0 // always set zero
                            17674 ; 650  |//!
                            17675 ; 651  |//! \return
                            17676 ; 652  |//!
                            17677 ; 653  |///////////////////////////////////////////////////////////////////////
                            17678 ; 654  |void ML_AddEntryToVoice(uint24 Rec_type, RAM_SONG_INFO_T *song_info, uint24 action);
                            17679 ; 655  |
                            17680 ; 656  |///////////////////////////////////////////////////////////////////////
                            17681 ; 657  |//! \brief
                            17682 ; 658  |//!
                            17683 ; 659  |//! \fntype Function
                            17684 ; 660  |//!
                            17685 ; 661  |//! Called by UI, flush sorted and associate list to flash when no
                            17686 ; 662  |//! more voice needed to be added for that media. This function finalizes the voice buildi
                                  ng
                            17687 ; 663  |//! of music library for that particular media.
                            17688 ; 664  |//!
                            17689 ; 665  |//! \param[in]  uint24 Rec_type - Possible values: REC_VOICE_TYPE(=0); REC_FMREC_TYPE(=1)
                            17690 ; 666  |//!
                            17691 ; 667  |//! \return
                            17692 ; 668  |//!
                            17693 ; 669  |//! \note   Bulid the library first (call ML_AddEntryToVoice) before calling this
                            17694 ; 670  |//!         function.
                            17695 ; 671  |///////////////////////////////////////////////////////////////////////
                            17696 ; 672  |void ML_FlushVoiceToFlash(uint24 Rec_type);
                            17697 ; 673  |
                            17698 ; 674  |///////////////////////////////////////////////////////////////////////
                            17699 ; 675  |//! \brief
                            17700 ; 676  |//!
                            17701 ; 677  |//! \fntype Function
                            17702 ; 678  |//!
                            17703 ; 679  |//! Called by UI, the merge the music library tables album,
                            17704 ; 680  |//! artist, genre, song and year.
                            17705 ; 681  |//!
                            17706 ; 682  |//! \param[in]  none
                            17707 ; 683  |//!
                            17708 ; 684  |//! \return
                            17709 ; 685  |//!
                            17710 ; 686  |///////////////////////////////////////////////////////////////////////
                            17711 ; 687  |void ML_MergeLibraryTables(void);
                            17712 ; 688  |
                            17713 ; 689  |///////////////////////////////////////////////////////////////////////
                            17714 ; 690  |//! \brief
                            17715 ; 691  |//!
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 295

M:ADDR CODE           CYCLES LINE SOURCELINE
                            17716 ; 692  |//! \fntype Function
                            17717 ; 693  |//!
                            17718 ; 694  |//! Called by UI, the merge the music library tables album,
                            17719 ; 695  |//! artist, genre, song and year.
                            17720 ; 696  |//!
                            17721 ; 697  |//! \param[in]  none
                            17722 ; 698  |//!
                            17723 ; 699  |//! \return
                            17724 ; 700  |//!
                            17725 ; 701  |///////////////////////////////////////////////////////////////////////
                            17726 ; 702  |INT _reentrant PathFormationPartial(_packed BYTE* dst, _packed BYTE* src, int iDepth);
                            17727 ; 703  |INT _reentrant PathFormation(_packed BYTE* dst, _packed BYTE* src, int iDepth);
                            17728 ; 704  |_reentrant void TrimUnicodeString(UCS3* pString);
                            17729 ; 705  |_reentrant void TrimPackedString(UCS3* pString);
                            17730 ; 706  |
                            17731 ; 707  |///////////////////////////////////////////////////////////////////////
                            17732 ; 708  |//! \brief
                            17733 ; 709  |//!
                            17734 ; 710  |//! \fntype Function
                            17735 ; 711  |//!
                            17736 ; 712  |//! \param[in]
                            17737 ; 713  |//!
                            17738 ; 714  |//! \return
                            17739 ; 715  |//!
                            17740 ; 716  |///////////////////////////////////////////////////////////////////////
                            17741 ; 717  |_reentrant void ML_FlushSortedListToFlash(uint24 u24MediaType);
                            17742 ; 718  |
                            17743 ; 719  |/*========================================================================================
                                  ========*/
                            17744 ; 720  |
                            17745 ; 721  |// Siukoon 2005-02-28
                            17746 ; 722  |#define MUSICLIB_STDRIVE_NUMBER     (0)
                            17747 ; 723  |#ifdef _SUPPORT_2000_SONGS_
                            17748 ; 724  |#define MUSICLIB_FILESIZE_IN_BYTE   (4194304L*2) // (SINGLE_DATABASE_SIZE*BYTE_PER_SECTOR)
                                  *2
                            17749 ; 725  |#else
                            17750 ; 726  |#define MUSICLIB_FILESIZE_IN_BYTE   (2097152L*2) // (SINGLE_DATABASE_SIZE*BYTE_PER_SECTOR)
                                  *2
                            17751 ; 727  |#endif  // _SUPPORT_2000_SONGS_
                            17752 ; 728  |#define MUSICLIB_FLASHPART_FILESIZE_IN_BYTE   (MUSICLIB_FILESIZE_IN_BYTE/2)
                            17753 ; 729  |#define WORD_PER_SECTOR             (171)
                            17754 ; 730  |#define BYTE_PER_SECTOR             (512)
                            17755 ; 731  |#define MUSICLIB_FILESIZE_IN_SECTOR (MUSICLIB_FILESIZE_IN_BYTE/BYTE_PER_SECTOR)
                            17756 ; 732  |#define MUSICLIB_FLASHPART_FILESIZE_IN_SECTOR (MUSICLIB_FLASHPART_FILESIZE_IN_BYTE/BYTE_PE
                                  R_SECTOR)
                            17757 ; 733  |
                            17758 ; 734  |#define LB_BYTE_PER_SECTOR          (2048)
                            17759 ; 735  |#define LB_MUSICLIB_FILESIZE_IN_SECTOR (MUSICLIB_FILESIZE_IN_BYTE/LB_BYTE_PER_SECTOR)
                            17760 ; 736  |#define LB_MUSICLIB_FLASHPART_FILESIZE_IN_SECTOR (MUSICLIB_FLASHPART_FILESIZE_IN_BYTE/LB_B
                                  YTE_PER_SECTOR)
                            17761 ; 737  |
                            17762 ; 738  |#define MUSICLIB_FAT_ERROR_NOT_ENOUGH_MEDIA_SPACE       1
                            17763 ; 739  |#define MUSICLIB_FAT_ERROR_CREATE_FILE                  2
                            17764 ; 740  |#define MUSICLIB_FAT_ERROR_DELETE_FILE                  3
                            17765 ; 741  |#define MUSICLIB_FAT_ERROR_OPEN_FILE                    4
                            17766 ; 742  |
                            17767 ; 743  |/////////////////////
                            17768 ; 744  |
                            17769 ; 745  |#define LONG_SIZE_IN_BYTE                               (6)
                            17770 ; 746  |
                            17771 ; 747  |#ifdef _SUPPORT_2000_SONGS_
                            17772 ; 748  |#define SEC_TABLE_SIZE_IN_LONG                  (16384) // DATABASE_SIZE
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 296

M:ADDR CODE           CYCLES LINE SOURCELINE
                            17773 ; 749  |#else
                            17774 ; 750  |#define SEC_TABLE_SIZE_IN_LONG                  (8192)  // DATABASE_SIZE
                            17775 ; 751  |#endif // _SUPPORT_2000_SONGS_
                            17776 ; 752  |#define SEC_TABLE_SIZE_IN_BYTE                  (SEC_TABLE_SIZE_IN_LONG*LONG_SIZE_IN_BYTE)
                                  
                            17777 ; 753  |
                            17778 ; 754  |#define SEC_TABLE_FLASHPART_SIZE_IN_LONG        (SEC_TABLE_SIZE_IN_LONG/2)
                            17779 ; 755  |#define SEC_TABLE_FLASHPART_SIZE_IN_BYTE        (SEC_TABLE_SIZE_IN_BYTE/2)
                            17780 ; 756  |
                            17781 ; 757  |#define NUM_OF_LONG_PER_512SEC          (85)    // 512/6=>85
                            17782 ; 758  |#ifdef _SUPPORT_2000_SONGS_
                            17783 ; 759  |#define NUM_OF_LEVEL2_SEC                               (194)   /* 97x2 */
                            17784 ; 760  |#define NUM_OF_LEVEL2_FLASHPART_SEC             (97)    /* 8192/85 */
                            17785 ; 761  |#else
                            17786 ; 762  |#define NUM_OF_LEVEL2_SEC                               (98)    /* 49x2 */
                            17787 ; 763  |#define NUM_OF_LEVEL2_FLASHPART_SEC             (49)    /* 4096/85 */
                            17788 ; 764  |#endif // _SUPPORT_2000_SONGS_
                            17789 ; 765  |#define LEVEL2_TABLE_SIZE                               (NUM_OF_LEVEL2_SEC*2)
                            17790 ; 766  |#define SEC_TABLE_FLASH_START_SEC               (0x00)
                            17791 ; 767  |#define SEC_TABLE_SD_START_SEC                  (NUM_OF_LEVEL2_FLASHPART_SEC)
                            17792 ; 768  |
                            17793 ; 769  |#define SEC_TABLE_FILESIZE_IN_BYTE              (BYTE_PER_SECTOR*NUM_OF_LEVEL2_SEC)
                            17794 ; 770  |#ifdef _SUPPORT_2000_SONGS_
                            17795 ; 771  |#define BYTE_FILL_INTERDB_GAP                   (320)   // 512-((8192-(85*96))*6)
                            17796 ; 772  |#else
                            17797 ; 773  |#define BYTE_FILL_INTERDB_GAP                   (((NUM_OF_LEVEL2_FLASHPART_SEC*NUM_OF_LONG
                                  _PER_512SEC)-SEC_TABLE_FLASHPART_SIZE_IN_LONG)*LONG_SIZE_IN_BYTE+2)
                            17798 ; 774  |#endif  // _SUPPORT_2000_SONGS_
                            17799 ; 775  |
                            17800 ; 776  |#define LB_SEC_TABLE_SIZE_IN_LONG                       (LB_MUSICLIB_FILESIZE_IN_SECTOR)
                            17801 ; 777  |#define LB_SEC_TABLE_SIZE_IN_BYTE                       (LB_SEC_TABLE_SIZE_IN_LONG*LONG_SI
                                  ZE_IN_BYTE)
                            17802 ; 778  |
                            17803 ; 779  |#define LB_SEC_TABLE_FLASHPART_SIZE_IN_LONG     (LB_SEC_TABLE_SIZE_IN_LONG/2)
                            17804 ; 780  |#define LB_SEC_TABLE_FLASHPART_SIZE_IN_BYTE     (LB_SEC_TABLE_SIZE_IN_BYTE/2)
                            17805 ; 781  |
                            17806 ; 782  |#define NUM_OF_LONG_PER_2048SEC                     (341)   // 2048/6=>341
                            17807 ; 783  |#ifdef _SUPPORT_2000_SONGS_
                            17808 ; 784  |#define NUM_OF_LEVEL2_2048SEC                           (49)    // 16384/341=>49
                            17809 ; 785  |#define NUM_OF_LEVEL2_FLASHPART_2048SEC         (25)    /* 8192/341=>25 */
                            17810 ; 786  |#else
                            17811 ; 787  |#define NUM_OF_LEVEL2_2048SEC                           (25)    // 8192/341=>25
                            17812 ; 788  |#define NUM_OF_LEVEL2_FLASHPART_2048SEC         (13)    /* 4096/341=>13 */
                            17813 ; 789  |#endif // _SUPPORT_2000_SONGS_
                            17814 ; 790  |
                            17815 ; 791  |#ifdef _SUPPORT_2000_SONGS_
                            17816 ; 792  |#define BYTE_FILL_INTERDB_GAP_2048                      (2000)  // 2048-((8192-(341*24))*6
                                  )
                            17817 ; 793  |#define BYTE_FILL_INTERDB_2ND_GAP_2048      (2532)  // 99328-96796
                            17818 ; 794  |#else
                            17819 ; 795  |#define BYTE_FILL_INTERDB_GAP_2048                      (((341-4)*6)+2) //2024
                            17820 ; 796  |#define BYTE_FILL_INTERDB_2ND_GAP_2048      (2556)  // 50176-47620
                            17821 ; 797  |#endif // _SUPPORT_2000_SONGS_
                            17822 ; 798  |
                            17823 ; 799  |#ifdef __cplusplus
                            17824 ; 800  |}
                            17825 ; 801  |#endif
                            17826 ; 802  |
                            17827 ; 803  |#endif  /* MUSICLIB_GHDR_H */
                            17828 
                            17830 
                            17831 ; 52   |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 297

M:ADDR CODE           CYCLES LINE SOURCELINE
                            17832 ; 53   |/*========================================================================================
                                  ==========
                            17833 ; 54   |                                                                Conditional Compilation Di
                                  rectives
                            17834 ; 55   |==========================================================================================
                                  ========*/
                            17835 ; 56   |/* To specify the music library is run in the player */
                            17836 ; 57   |#define _ADD_ENTRY_TO_LIBRARY_ALOG_IN_PLAYER_
                            17837 ; 58   |
                            17838 ; 59   |#define _24_bit_word_
                            17839 ; 60   |
                            17840 ; 61   |/*========================================================================================
                                  ==========
                            17841 ; 62   |                                                Debug compile only Conditional Compilation
                                   Directives
                            17842 ; 63   |==========================================================================================
                                  ========*/
                            17843 ; 64   |
                            17844 ; 65   |/*========================================================================================
                                  ==========
                            17845 ; 66   |                                             CONSTANTS
                            17846 ; 67   |==========================================================================================
                                  ========*/
                            17847 ; 68   |/* maximum number of artist */
                            17848 ; 69   |#define MAX_NUM_OF_ARTIST (MAX_NUM_OF_SONG)
                            17849 ; 70   |/* maximum number of album */
                            17850 ; 71   |#define MAX_NUM_OF_ALBUM (MAX_NUM_OF_SONG)
                            17851 ; 72   |/* maximum number of genre */
                            17852 ; 73   |#define MAX_NUM_OF_GENRE (MAX_NUM_OF_SONG)
                            17853 ; 74   |/* maximum number of year */
                            17854 ; 75   |#define MAX_NUM_OF_YEAR (MAX_NUM_OF_SONG)
                            17855 ; 76   |/* number of bit in one DSP word */
                            17856 ; 77   |#define NUM_OF_BIT_IN_ONE_WORD (24)
                            17857 ; 78   |/* number of bit for one item = log2(MAX_NUM_OF_SONG), corresponding to the absolute
                            17858 ; 79   |number of song (2048) supported set above */
                            17859 ; 80   |#define NUM_OF_BIT_FOR_ONE_ITEM (12)
                            17860 ; 81   |/* number of item in one DSP word */
                            17861 ; 82   |#define NUM_OF_ITEM_IN_ONE_WORD (NUM_OF_BIT_IN_ONE_WORD/NUM_OF_BIT_FOR_ONE_ITEM)
                            17862 ; 83   |/* in the flash child array for one group, there will be two (2) information, one is
                            17863 ; 84   |number of child for that group ID, another information is the child ID(s)*/
                            17864 ; 85   |#define NUM_OF_LIST_IN_CHILD_ARRAY (2)
                            17865 ; 86   |
                            17866 ; 87   |/* distance in mark table */
                            17867 ; 88   |#define DISTANCE_IN_MARK_TABLE (100) /* must be divisible by MAX_NUM_OF_SONG */
                            17868 ; 89   |/* number of entry in mark table */
                            17869 ; 90   |#define NUM_OF_MARK_TABLE_ENTRY (2 * (MAX_NUM_OF_SONG/DISTANCE_IN_MARK_TABLE) - 1)      /*
                                   The
                            17870 ; 91   |table entries once set will not be changed during the whole insert process, so the total
                            17871 ; 92   |number of entries is doubled */
                            17872 ; 93   |/* in mark table, one column is ID, another is distance */
                            17873 ; 94   |#define NUM_OF_MARK_TABLE_COL (2)
                            17874 ; 95   |/* length of string stored in mark table */
                            17875 ; 96   |#define LEN_OF_SUB_STRING_IN_BYTE (24) /* must be an integer multiple of 3 */
                            17876 ; 97   |
                            17877 ; 98   |/*========================================================================================
                                  ==========
                            17878 ; 99   |                                               MACROS
                            17879 ; 100  |==========================================================================================
                                  ========*/
                            17880 ; 101  |
                            17881 ; 102  |/*========================================================================================
                                  ==========
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 298

M:ADDR CODE           CYCLES LINE SOURCELINE
                            17882 ; 103  |                                               ENUMS
                            17883 ; 104  |==========================================================================================
                                  ========*/
                            17884 ; 105  |
                            17885 ; 106  |#define TRUE    1
                            17886 ; 107  |#define FALSE   0
                            17887 ; 108  |
                            17888 ; 109  |#define EOSTR   0x00
                            17889 ; 110  |
                            17890 ; 111  |#define BITSET_NAME_ALLASCII    (0x0)
                            17891 ; 112  |#define BITSET_NAME_UNICODE             (0x01)
                            17892 ; 113  |#define BITSET_NAME_MIXCODE             (0x02)
                            17893 ; 114  |
                            17894 ; 115  |/* ram_artist_marktable = id0, ram_album_marktable = id1, ram_genre_marktable = id2, id3 r
                                  eserved for song, ram_year_marktable = id4 */
                            17895 ; 116  |#define MAX_NUM_OF_GROUP        0x5     /* include ram_song_marktable */
                            17896 ; 117  |
                            17897 ; 118  |/* Constant for UI State */
                            17898 ; 119  |#define  STATE_MAIN_MENU    0xA8  /* Main Menu */
                            17899 ; 120  |#define  STATE_ARTIST_LVL_1 0x00  /* Show Aritst Name */
                            17900 ; 121  |#define  STATE_ARTIST_LVL_2 0x01  /* Show Album Name for particular Artist */
                            17901 ; 122  |#define  STATE_ARTIST_LVL_3 0x02  /* Show Song Name for particular Artist */
                            17902 ; 123  |#define  STATE_ALBUM_LVL_1  0x04  /* Show Ablum Name */
                            17903 ; 124  |#define  STATE_ALBUM_LVL_2  0x05  /* Show Song Name for particular Album */
                            17904 ; 125  |#define  STATE_GENRE_LVL_1  0x08  /* Show Genre Name */
                            17905 ; 126  |#define  STATE_GENRE_LVL_2  0x09  /* Show Song Name for particular Genre */
                            17906 ; 127  |#define  STATE_TRACK_LVL_1  0x0C  /* Show Song Name */
                            17907 ; 128  |#define  STATE_YEAR_LVL_1   0x10  /* Show Year */
                            17908 ; 129  |#define  STATE_YEAR_LVL_2   0x11  /* Show Song Name for paritcular Year */
                            17909 ; 130  |#define  STATE_1DAY             0x28  /* Show Song in New Music -- 1 Day */
                            17910 ; 131  |#define  STATE_1WEEK        0x2C  /* Show Song in New Music -- 1 Week */
                            17911 ; 132  |#define  STATE_1MONTH       0x30  /* Show Song in New Music -- 1 Month */
                            17912 ; 133  |#define  STATE_AUDIBLE      0x34  /* Show Song in Spocken Word */
                            17913 ; 134  |#define  STATE_ONTHEGO      0x38  /* Show Song in On The Go */
                            17914 ; 135  |#define  STATE_VOICE        0x3C  /* Show Song in Voice */
                            17915 ; 136  |#define  STATE_FMREC        0x40  /* Show Song in FM Rec */
                            17916 ; 137  |#define  STATE_PHOTO            0x44  /* Show Picture in Photo */
                            17917 ; 138  |#ifdef _FOLDER_BROWSE_
                            17918 ; 139  |// The definition of internal / external state depends on _MAX_DIR_DEPTH
                            17919 ; 140  |// STATE_INTERNAL_LVL_1 = ITEM_INTERNAL << 8
                            17920 ; 141  |// STATE_EXTERNAL_LVL_1 = ITEM_EXTERNAL << 8
                            17921 ; 142  |#define  STATE_INTERNAL_LVL_1   0x90  /* Show dir / song in internal media */
                            17922 ; 143  |#define  STATE_INTERNAL_LVL_2   0x91  /* Show dir / song in internal media */
                            17923 ; 144  |#define  STATE_INTERNAL_LVL_3   0x92  /* Show dir / song in internal media */
                            17924 ; 145  |#define  STATE_INTERNAL_LVL_4   0x93  /* Show dir / song in internal media */
                            17925 ; 146  |#define  STATE_INTERNAL_LVL_5   0x94  /* Show dir / song in internal media */
                            17926 ; 147  |#define  STATE_INTERNAL_LVL_6   0x95  /* Show dir / song in internal media */
                            17927 ; 148  |#define  STATE_INTERNAL_LVL_7   0x96  /* Show dir / song in internal media */
                            17928 ; 149  |#define  STATE_INTERNAL_LVL_8   0x97  /* Show dir / song in internal media */
                            17929 ; 150  |#define  STATE_EXTERNAL_LVL_1   0x98  /* Show dir / song in external media */
                            17930 ; 151  |#define  STATE_EXTERNAL_LVL_2   0x99  /* Show dir / song in external media */
                            17931 ; 152  |#define  STATE_EXTERNAL_LVL_3   0x9a  /* Show dir / song in external media */
                            17932 ; 153  |#define  STATE_EXTERNAL_LVL_4   0x9b  /* Show dir / song in external media */
                            17933 ; 154  |#define  STATE_EXTERNAL_LVL_5   0x9c  /* Show dir / song in external media */
                            17934 ; 155  |#define  STATE_EXTERNAL_LVL_6   0x9d  /* Show dir / song in external media */
                            17935 ; 156  |#define  STATE_EXTERNAL_LVL_7   0x9e  /* Show dir / song in external media */
                            17936 ; 157  |#define  STATE_EXTERNAL_LVL_8   0x9f  /* Show dir / song in external media */
                            17937 ; 158  |#endif  // _FOLDER_BROWSE_
                            17938 ; 159  |#define  STATE_PLAY_SONG    0xAB  /* Play Song */
                            17939 ; 160  |#define  STATE_PLAY_ALL     0xAC  /* Play All Song */
                            17940 ; 161  |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 299

M:ADDR CODE           CYCLES LINE SOURCELINE
                            17941 ; 162  |#define ML_SONG_NAME_STRUCT_SIZE                (LEN_OF_NAME_IN_BYTE/NUM_OF_BYTE_IN_ONE_WO
                                  RD + 1)
                            17942 ; 163  |#define ML_PATH_NAME_STRUCT_SIZE                ((LEN_OF_FILEPATH_IN_BYTE/NUM_OF_BYTE_IN_O
                                  NE_WORD)+2)
                            17943 ; 164  |#define ML_LIST_STRUCT_SIZE                             (MAX_NUM_OF_SONG)       /* this is
                                   no checked now */
                            17944 ; 165  |#define ML_INDEX_STRUCT_SIZE                    (1)     /* this is no checked now */
                            17945 ; 166  |#define ML_VALUE_STRUCT_SIZE                    (1)     /* this is no checked now */
                            17946 ; 167  |#ifdef _FOLDER_BROWSE_
                            17947 ; 168  |#define ML_DIR_LIST_STRUCT_SIZE         (MAX_NUM_OF_DIR)
                            17948 ; 169  |#endif  // _FOLDER_BROWSE_
                            17949 ; 170  |#define AUDIBLE_STRUCT_SIZE                     ((NUM_OF_AUDIBLE_FILE/NUM_OF_ITEM_IN_ONE_W
                                  ORD)+1)
                            17950 ; 171  |
                            17951 ; 172  |#define ML_VOICE_MARKTABLE_STRUCT_SIZE  ((NUM_OF_MARK_TABLE_ENTRY*NUM_OF_MARK_TABLE_COL)+(
                                  NUM_OF_MARK_TABLE_ENTRY*(LEN_OF_SUB_STRING_IN_BYTE/NUM_OF_BYTE_IN_ONE_WORD))+1) // 949 // +1 for n
                                  um_of info /* this size refer to musiclib_voice_function.c */
                            17952 ; 173  |#define ML_VOICE_INFO_STRUCT_SIZE               ((MAX_NUM_OF_VOICE/NUM_OF_ITEM_IN_ONE_WORD
                                  )+2)    // 502 /* this size refer to musiclib_voice_function.c */
                            17953 ; 174  |
                            17954 ; 175  |#define ARTIST_SORTLOOP                 (0)     /* this is the loop id of gp_count variabl
                                  e, _do_not_change_it_ */
                            17955 ; 176  |#define ALBUM_SORTLOOP                  (1)     /* this is the loop id of gp_count variabl
                                  e, _do_not_change_it_ */
                            17956 ; 177  |#define GENRE_SORTLOOP                  (2)     /* this is the loop id of gp_count variabl
                                  e, _do_not_change_it_ */
                            17957 ; 178  |#define SONG_SORTLOOP                   (3)     /* this is the loop id of gp_count variabl
                                  e, _do_not_change_it_ */
                            17958 ; 179  |#define YEAR_SORTLOOP                   (4)     /* this is the loop id of gp_count variabl
                                  e, _do_not_change_it_ */
                            17959 ; 180  |#define TRACK_SORTLOOP                  (5)     /* this is the loop id of gp_count variabl
                                  e, _do_not_change_it_ */
                            17960 ; 181  |#ifdef _FOLDER_BROWSE_
                            17961 ; 182  |#define DIR_SORTLOOP            (6)
                            17962 ; 183  |#endif  // _FOLDER_BROWSE_
                            17963 ; 184  |
                            17964 ; 185  |#define VOID_INDEX              0x00FFFFL
                            17965 ; 186  |#define UNKNOWN_INDEX   0xffffff
                            17966 ; 187  |
                            17967 ; 188  |#define LEN_OF_ID3V1_GENRE              (0xF)   /* max len of genre in table, _may_not_hav
                                  e_terminator_ */
                            17968 ; 189  |
                            17969 ; 190  |#define NumOfLevels 4
                            17970 ; 191  |
                            17971 ; 192  |#define         ON_THE_GO_TEST                  0
                            17972 ; 193  |#define         ON_THE_GO_ADD                   1
                            17973 ; 194  |#define         ON_THE_GO_DEL                   2
                            17974 ; 195  |#define         ON_THE_GO_DEL_ALL               3
                            17975 ; 196  |
                            17976 ; 197  |#ifdef _FOLDER_BROWSE_
                            17977 ; 198  |#define ML_MAX_LEVEL    _MAX_DIR_DEPTH
                            17978 ; 199  |#else
                            17979 ; 200  |#define ML_MAX_LEVEL    3
                            17980 ; 201  |#endif  // _FOLDER_BROWSE_
                            17981 ; 202  |
                            17982 ; 203  |/*========================================================================================
                                  ==========
                            17983 ; 204  |                                     STRUCTURES AND OTHER TYPEDEFS
                            17984 ; 205  |==========================================================================================
                                  ========*/
                            17985 ; 206  |/* struct to store the sorting information in ram during
                            17986 ; 207  |construction of music library */
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 300

M:ADDR CODE           CYCLES LINE SOURCELINE
                            17987 ; 208  |typedef struct _ram_marktable_info {
                            17988 ; 209  |    /* mark table: used to enhance the searching / inserting performance by locating
                            17989 ; 210  |    the search range within two nodes appeared in the mark table*/
                            17990 ; 211  |    uint24 mark_table_index[NUM_OF_MARK_TABLE_ENTRY][NUM_OF_MARK_TABLE_COL];
                            17991 ; 212  |    uint24 mark_table_string[NUM_OF_MARK_TABLE_ENTRY][LEN_OF_SUB_STRING_IN_BYTE/NUM_OF_BYT
                                  E_IN_ONE_WORD];
                            17992 ; 213  |} RAM_MARKTABLE_INFO_T;
                            17993 ; 214  |
                            17994 ; 215  |
                            17995 ; 216  |/* if you change this struct define also change #define ON_THE_FLY_STRUCT_SIZE          (N
                                  UM_OF_SONG_IN_ON_THE_FLY+1) */
                            17996 ; 217  |typedef struct _on_the_fly_list {
                            17997 ; 218  |        /* storage list, it is the list storing songID for NUM_OF_SONG_IN_ON_THE_FLY */
                            17998 ; 219  |        uint24 store_list[NUM_OF_SONG_IN_ON_THE_FLY];
                            17999 ; 220  |        uint24 num_of_id;       /* num_of_id _must_ locate at end of store_list position, 
                                  for flash_function access */
                            18000 ; 221  |} ON_THE_FLY_LIST_T;
                            18001 ; 222  |
                            18002 ; 223  |/* struct to store the group information: artist,album and genre,in ram during
                            18003 ; 224  |construction of music library */
                            18004 ; 225  |typedef struct _ram_group_info {
                            18005 ; 226  |    /* sorted list,it is the sorted link list with entry in each cell is the next
                            18006 ; 227  |    items ID*/
                            18007 ; 228  |    uint24 sorted_list[MAX_NUM_OF_SONG/NUM_OF_ITEM_IN_ONE_WORD];
                            18008 ; 229  |    uint24 sorted_list_hd;
                            18009 ; 230  |    /* associate list,for song group,it is the track number associated with that song
                            18010 ; 231  |    ID For other group,it is the group ID associated with that song ID*/
                            18011 ; 232  |    uint24 associate_list[MAX_NUM_OF_SONG/NUM_OF_ITEM_IN_ONE_WORD];
                            18012 ; 233  |} RAM_GROUP_INFO_T;
                            18013 ; 234  |
                            18014 ; 235  |#ifdef _FOLDER_BROWSE_
                            18015 ; 236  |typedef struct _ml_DirAssocList {
                            18016 ; 237  |    /* sorted list,it is the sorted link list with entry in each cell is the next
                            18017 ; 238  |    items ID*/
                            18018 ; 239  |    uint24  u24SortedList[MAX_NUM_OF_DIR/NUM_OF_ITEM_IN_ONE_WORD];
                            18019 ; 240  |    uint24  u24SortedListHd;
                            18020 ; 241  |    /* associate list,for song group,it is the track number associated with that song
                            18021 ; 242  |    ID For other group,it is the group ID associated with that song ID*/
                            18022 ; 243  |    uint24  u24AssociateList[MAX_NUM_OF_DIR/NUM_OF_ITEM_IN_ONE_WORD];
                            18023 ; 244  |} ml_DirAssocList_t;
                            18024 ; 245  |#endif  // _FOLDER_BROWSE_
                            18025 ; 246  |
                            18026 ; 247  |/*========================================================================================
                                  ==========
                            18027 ; 248  |                                 GLOBAL VARIABLE DECLARATIONS
                            18028 ; 249  |==========================================================================================
                                  ========*/
                            18029 ; 250  |/* RAM */
                            18030 ; 251  |extern uint24 _X    num_of_item[MAX_NUM_OF_GROUP];
                            18031 ; 252  |extern unsigned int g_rsrc_TimeDate_CodeBank;
                            18032 ; 253  |extern INT  g_file_time;
                            18033 ; 254  |extern uint24   g_is_SD_inserted;
                            18034 ; 255  |extern RAM_SONG_INFO_T  song_info;
                            18035 ; 256  |extern unsigned int g_rsrc_Flash_Error;
                            18036 ; 257  |extern _packed BYTE g_strMusicLib_FilePath[];
                            18037 ; 258  |extern _packed BYTE g_strMusicLib_SecTable_FilePath[];
                            18038 ; 259  |extern int  g_iFileHandle;
                            18039 ; 260  |extern BOOL g_SortByTracknum;   // set to FALSE for maybe 1-2 seconds faster player boot. 
                                  TRUE to show album songs in album order rather than alpha sorted in album gui.
                            18040 ; 261  |extern BYTE _X  genre_table[][LEN_OF_ID3V1_GENRE];
                            18041 
                            18050 
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 301

M:ADDR CODE           CYCLES LINE SOURCELINE
                            18051 ; 262  |extern RAM_MARKTABLE_INFO_T _X  ram_marktable[MAX_NUM_OF_GROUP];
                            18052 
                            18059 
                            18060 ; 263  |extern RAM_GROUP_INFO_T         ram_group[MAX_NUM_OF_GROUP];
                            18061 ; 264  |extern uint24 _X                ram_song_year[MAX_NUM_OF_SONG];
                            18062 ; 265  |extern RAM_GROUP_INFO_T _X      g_tParentDirOfFileAssocList;
                            18063 ; 266  |extern RAM_MARKTABLE_INFO_T _X  g_tDirMarktable;
                            18064 ; 267  |
                            18065 ; 268  |/*========================================================================================
                                  ========*/
                            18066 ; 269  |/*========================================================================================
                                  ==========
                            18067 ; 270  |                                        FUNCTION PROTOTYPES
                            18068 ; 271  |==========================================================================================
                                  ========*/
                            18069 ; 272  |/*========================================================================================
                                  ==========
                            18070 ; 273  |FUNCTION: utility macro functions for:
                            18071 ; 274  |                1) check string terminator
                            18072 ; 275  |                2) list array operation
                            18073 ; 276  |
                            18074 ; 277  |DESCRIPTION:
                            18075 ; 278  |                1) check string terminator
                            18076 ; 279  |                2) list array operation
                            18077 ; 280  |
                            18078 ; 281  |ARGUMENTS PASSED:
                            18079 ; 282  |
                            18080 ; 283  |RETURN VALUE:
                            18081 ; 284  |
                            18082 ; 285  |PRE-CONDITIONS:
                            18083 ; 286  |   None
                            18084 ; 287  |
                            18085 ; 288  |POST-CONDITIONS:
                            18086 ; 289  |   None
                            18087 ; 290  |
                            18088 ; 291  |IMPORTANT NOTES:
                            18089 ; 292  |   None
                            18090 ; 293  |
                            18091 ; 294  |==========================================================================================
                                  ========*/
                            18092 ; 295  |/*========================================================================================
                                  ========*/
                            18093 ; 296  |#ifdef __cplusplus
                            18094 ; 297  |}
                            18095 ; 298  |#endif
                            18096 ; 299  |#endif  /* MUSICLIB_HDR_H */
                            18097 
                            18099 
                            18100 ; 52   |
                            18101 ; 53   |#include "filesystem.h"
                            18102 
                            18104 
                            18105 ; 1    |////////////////////////////////////////////////////////////////////////////////
                            18106 ; 2    |//  Copyright(C) SigmaTel, Inc. 2001
                            18107 ; 3    |//
                            18108 ; 4    |//  File        : FileSystem.h
                            18109 ; 5    |//  Description : Header File for File System
                            18110 ; 6    |////////////////////////////////////////////////////////////////////////////////
                            18111 ; 7    |
                            18112 ; 8    |#ifndef _FILESYSTEM_H
                            18113 ; 9    |#define _FILESYSTEM_H
                            18114 ; 10   |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 302

M:ADDR CODE           CYCLES LINE SOURCELINE
                            18115 ; 11   |#include "types.h"
                            18116 ; 12   |
                            18117 ; 13   |
                            18118 ; 14   |// File attributes
                            18119 ; 15   |#ifndef _FS_ATTRIBUTES
                            18120 ; 16   |#define _FS_ATTRIBUTES
                            18121 ; 17   |#define READ        1
                            18122 ; 18   |#define WRITE       2
                            18123 ; 19   |#define WRITE_PLUS  3
                            18124 ; 20   |#define APPEND      4
                            18125 ; 21   |#define TRUNCATE    8
                            18126 ; 22   |#define CREATE      16
                            18127 ; 23   |#endif
                            18128 ; 24   |
                            18129 ; 25   |//#ifndef FAT12
                            18130 ; 26   |//#define FAT12   1
                            18131 ; 27   |//#endif
                            18132 ; 28   |//
                            18133 ; 29   |#ifndef FAT16
                            18134 ; 30   |#define FAT16   2
                            18135 ; 31   |#endif
                            18136 ; 32   |
                            18137 ; 33   |#define MEM_SPACE_P 0x100000
                            18138 ; 34   |#define MEM_SPACE_Y 0x400000
                            18139 ; 35   |#define MEM_SPACE_X 0x800000
                            18140 ; 36   |
                            18141 ; 37   |#define FILE_SYS_MODE_READ  0
                            18142 ; 38   |#define FILE_SYS_MODE_WRITE 1
                            18143 ; 39   | 
                            18144 ; 40   |#define ATTR_READ_ONLY      0x01
                            18145 ; 41   |#define ATTR_HIDDEN         0x02
                            18146 ; 42   |#define ATTR_SYSTEM         0x04
                            18147 ; 43   |#define ATTR_VOLUME_ID      0x08
                            18148 ; 44   |#define ATTR_DIRECTORY      0x10
                            18149 ; 45   |#define ATTR_ARCHIVE        0x20
                            18150 ; 46   |#define ATTR_LONG_NAME      ATTR_READ_ONLY|ATTR_HIDDEN|ATTR_SYSTEM|ATTR_VOLUME_ID
                            18151 ; 47   |
                            18152 ; 48   |#define SEEK_SET           -1
                            18153 ; 49   |#define SEEK_CUR            0
                            18154 ; 50   |#define SEEK_END            1
                            18155 ; 51   |
                            18156 ; 52   |#define DEVICE_INSTALLED              (WORD)(0)
                            18157 ; 53   |#define DEVICE_NOT_FOUND              (WORD)(2)
                            18158 ; 54   |#define INVALID_FILESYSTEM                        (WORD)(3)
                            18159 ; 55   |#define DEVICE_INVALID                (WORD)(-1)
                            18160 ; 56   |#define DEVICE_ERROR_WRITE_PROTECTED  (WORD)(-2)
                            18161 ; 57   |
                            18162 ; 58   |#define MEDIA_SIZE_TOTAL_SECTORS    0
                            18163 ; 59   |#define MEDIA_SIZE_TOTAL_BYTES      1
                            18164 ; 60   |#define MEDIA_SIZE_BYTES_PER_SECTOR 2
                            18165 ; 61   |#define MEDIA_SIZE_IN_MEGABYTES     3     
                            18166 ; 62   |
                            18167 ; 63   |#define READ_TYPE_NORMAL            0
                            18168 ; 64   |#define READ_TYPE_FAT               1
                            18169 ; 65   |#define READ_TYPE_RAW               2
                            18170 ; 66   |
                            18171 ; 67   |
                            18172 ; 68   |#ifdef MEDIA_DDI_PARTIAL_SEQ_ENABLE
                            18173 ; 69   |    #define WRITE_TYPE_RANDOM                   0
                            18174 ; 70   |    #define WRITE_TYPE_SEQ_FIRST                1
                            18175 ; 71   |    #define WRITE_TYPE_SEQ_NEXT                 2
                            18176 ; 72   |    #define WRITE_TYPE_RESET_CLEAN_UP           3
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 303

M:ADDR CODE           CYCLES LINE SOURCELINE
                            18177 ; 73   |    #define WRITE_TYPE_PARTIAL_SEQ_FIRST        4
                            18178 ; 74   |    #define WRITE_TYPE_PARTIAL_SEQ_NEXT         5
                            18179 ; 75   |    #define WRITE_TYPE_PARTIAL_SEQ_LAST         6
                            18180 ; 76   |    #ifdef MEDIA_DDI_RAW_SECTOR_SERVER_ENABLE
                            18181 ; 77   |        #define WRITE_TYPE_RANDOM_RAW               7
                            18182 ; 78   |        #define WRITE_TYPE_SEQ_FIRST_RAW            8
                            18183 ; 79   |        #define WRITE_TYPE_SEQ_NEXT_RAW             9
                            18184 ; 80   |        #define WRITE_TYPE_PARTIAL_SEQ_FIRST_RAW    10
                            18185 ; 81   |        #define WRITE_TYPE_PARTIAL_SEQ_NEXT_RAW     11
                            18186 ; 82   |        #define WRITE_TYPE_PARTIAL_SEQ_LAST_RAW     12
                            18187 ; 83   |    #endif
                            18188 ; 84   |#else
                            18189 ; 85   |    #define WRITE_TYPE_RANDOM                   0
                            18190 ; 86   |    #define WRITE_TYPE_SEQ_FIRST                1
                            18191 ; 87   |    #define WRITE_TYPE_SEQ_NEXT                 2
                            18192 ; 88   |    #ifdef MEDIA_DDI_RAW_SECTOR_SERVER_ENABLE
                            18193 ; 89   |        #define WRITE_TYPE_RANDOM_RAW               3
                            18194 ; 90   |        #define WRITE_TYPE_SEQ_FIRST_RAW            4
                            18195 ; 91   |        #define WRITE_TYPE_SEQ_NEXT_RAW             5
                            18196 ; 92   |    #endif
                            18197 ; 93   |#endif
                            18198 ; 94   |    #define WRITE_TYPE_UNDEFINED 0xFFFFFF
                            18199 ; 95   |
                            18200 ; 96   |
                            18201 ; 97   |#ifndef MAX_FILENAME_LENGTH
                            18202 ; 98   |#define MAX_FILENAME_LENGTH 256
                            18203 ; 99   |#endif
                            18204 ; 100  |
                            18205 ; 101  |typedef struct {
                            18206 ; 102  |    WORD wNumberOfZones;
                            18207 ; 103  |    WORD wSizeInMegaBytes;
                            18208 ; 104  |} SMARTMEDIA_CHIP_INFO;
                            18209 ; 105  |
                            18210 ; 106  |typedef struct {
                            18211 ; 107  |    WORD wBootIdentification;
                            18212 ; 108  |    WORD wStartHeadNumber;
                            18213 ; 109  |    WORD wStartSectorNumber;
                            18214 ; 110  |    WORD wStartCylinderNumber;
                            18215 ; 111  |    WORD wSystemIdentification;
                            18216 ; 112  |    WORD wEndHeadNumber;
                            18217 ; 113  |    WORD wEndSectorNumber;
                            18218 ; 114  |    WORD wEndCylinderNumber;
                            18219 ; 115  |    WORD wStartLogicalSectorNumberHigh;
                            18220 ; 116  |    WORD wStartLogicalSectorNumberLow;
                            18221 ; 117  |    WORD wPartitionSizeHigh;
                            18222 ; 118  |    WORD wPartitionSizeLow;
                            18223 ; 119  |} SMARTMEDIA_PARTITION_TABLE;
                            18224 ; 120  |
                            18225 ; 121  |typedef struct {
                            18226 ; 122  |    WORD wWord0;
                            18227 ; 123  |    WORD wWord1;
                            18228 ; 124  |    WORD wWord2;
                            18229 ; 125  |} SMARTMEDIA_CIS_IDI_MANUFACTURER_NAME;
                            18230 ; 126  |
                            18231 ; 127  |typedef struct {
                            18232 ; 128  |    WORD wWord0;
                            18233 ; 129  |    WORD wWord1;
                            18234 ; 130  |} SMARTMEDIA_CIS_IDI_PRODUCT_NAME;
                            18235 ; 131  |
                            18236 ; 132  |typedef struct {
                            18237 ; 133  |    WORD wWord0;
                            18238 ; 134  |    WORD wWord1;
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 304

M:ADDR CODE           CYCLES LINE SOURCELINE
                            18239 ; 135  |} SMARTMEDIA_CIS_IDI_PRODUCT_VERSION;
                            18240 ; 136  |
                            18241 ; 137  |typedef struct {
                            18242 ; 138  |    WORD wWord0;
                            18243 ; 139  |    WORD wWord1;
                            18244 ; 140  |    WORD wWord2;
                            18245 ; 141  |    WORD wWord3;
                            18246 ; 142  |} SMARTMEDIA_CIS_IDI_SERIAL_NUMBER;
                            18247 ; 143  |
                            18248 ; 144  |typedef struct {
                            18249 ; 145  |    WORD wWord0;
                            18250 ; 146  |} SMARTMEDIA_CIS_IDI_MODEL_NUMBER;
                            18251 ; 147  |
                            18252 ; 148  |typedef struct {
                            18253 ; 149  |    SMARTMEDIA_CIS_IDI_MANUFACTURER_NAME ManufacturerName;
                            18254 ; 150  |    SMARTMEDIA_CIS_IDI_PRODUCT_NAME ProductName;
                            18255 ; 151  |    SMARTMEDIA_CIS_IDI_PRODUCT_VERSION ProductVersion;
                            18256 ; 152  |    SMARTMEDIA_CIS_IDI_SERIAL_NUMBER SerialNumber;
                            18257 ; 153  |    SMARTMEDIA_CIS_IDI_MODEL_NUMBER ModelNumber;
                            18258 ; 154  |} SMARTMEDIA_CIS_IDI_TABLE;
                            18259 ; 155  |   
                            18260 ; 156  |typedef struct {
                            18261 ; 157  |    WORD wPageSizeInBytes;
                            18262 ; 158  |    WORD wRedundantAreaSizeInBytes;
                            18263 ; 159  |    WORD wNumberOfPagesPerBlock;
                            18264 ; 160  |    WORD wNumberOfBlocksPerZone;
                            18265 ; 161  |    WORD wNumberOfZonesInMedia;
                            18266 ; 162  |    WORD wMediaSizeInMBytes;
                            18267 ; 163  |    SMARTMEDIA_PARTITION_TABLE * pPartitionTable;
                            18268 ; 164  |    SMARTMEDIA_CIS_IDI_TABLE * pCisIdiTable;
                            18269 ; 165  |    WORD wMediaFlagStatus;
                            18270 ; 166  |    WORD wNumberOfBlocksToTheCisIdiBlock;
                            18271 ; 167  |    WORD wTotalNumberOfPhysicalBlocks;
                            18272 ; 168  |    WORD wNumberOfSystemBlocks;
                            18273 ; 169  |} SMARTMEDIA_ENTRY_TABLE;
                            18274 ; 170  |
                            18275 ; 171  |typedef struct {
                            18276 ; 172  |    WORD wDevice;        
                            18277 ; 173  |    WORD wDirtyBlockFlag;
                            18278 ; 174  |    WORD wCleanTailFlag; 
                            18279 ; 175  |    WORD wLogDOSPage;    
                            18280 ; 176  |    WORD wSrcLogBlock;   
                            18281 ; 177  |    WORD wSrcPhyBlock;   
                            18282 ; 178  |    WORD wDestPhyBlock;  
                            18283 ; 179  |    WORD wStartSrcPage;  
                            18284 ; 180  |    WORD wStartDestPage; 
                            18285 ; 181  |    WORD wPagesToCopy;   
                            18286 ; 182  |    WORD wReplaceBuff;   
                            18287 ; 183  |    WORD wReplaceRdnt;
                            18288 ; 184  |    #ifdef MEDIA_DDI_PARTIAL_SEQ_ENABLE
                            18289 ; 185  |        WORD wFirstCount;
                            18290 ; 186  |        WORD wNextCount;
                            18291 ; 187  |        WORD wLastCount;
                            18292 ; 188  |    #endif
                            18293 ; 189  |} SMARTMEDIA_FWPPS_TABLE;
                            18294 ; 190  |
                            18295 ; 191  |typedef struct {
                            18296 ; 192  |    WORD wWord0;
                            18297 ; 193  |    WORD wWord1;
                            18298 ; 194  |    WORD wWord2;
                            18299 ; 195  |    WORD wWord3;
                            18300 ; 196  |} DIRECTORY_NAME;
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 305

M:ADDR CODE           CYCLES LINE SOURCELINE
                            18301 ; 197  |
                            18302 ; 198  |typedef struct {
                            18303 ; 199  |    WORD wWord0;
                            18304 ; 200  |    WORD wWord1;
                            18305 ; 201  |} DIRECTORY_EXTENSION;
                            18306 ; 202  |
                            18307 ; 203  |typedef struct {
                            18308 ; 204  |    WORD wWord0;
                            18309 ; 205  |    WORD wWord1;
                            18310 ; 206  |} DIRECTORY_SIZE;
                            18311 ; 207  |
                            18312 ; 208  |typedef struct {
                            18313 ; 209  |    DIRECTORY_NAME Name;
                            18314 ; 210  |    DIRECTORY_EXTENSION Extension;
                            18315 ; 211  |    WORD wAttribute;
                            18316 ; 212  |    WORD wReserved[4];
                            18317 ; 213  |    WORD wCreationTime;
                            18318 ; 214  |    WORD wCreationData;
                            18319 ; 215  |    WORD wFirstCluster;
                            18320 ; 216  |    DIRECTORY_SIZE Size;
                            18321 ; 217  |    WORD wCurrentCluster;
                            18322 ; 218  |    WORD wPointer;
                            18323 ; 219  |    WORD wRecord;
                            18324 ; 220  |    WORD wRd;
                            18325 ; 221  |} DIRECTORY_FILE_CONTROL_BLOCK;
                            18326 ; 222  |
                            18327 ; 223  |// TODO:  clean this up.  There are two versions.
                            18328 ; 224  |struct FCB
                            18329 ; 225  |{
                            18330 ; 226  |    _packed BYTE m_szFileName[9];       //0-2
                            18331 ; 227  |    int     m_wReserved;                //3
                            18332 ; 228  |    _packed BYTE m_szExt[4];            //4-5
                            18333 ; 229  |    int     m_wAttributes;              //6
                            18334 ; 230  |    int     m_wReserved2[4];            //7,8,9,a
                            18335 ; 231  |    int     m_wTimeofCreation;          //b
                            18336 ; 232  |    int     m_wDateofCreation;          //c
                            18337 ; 233  |    int     m_wFirstCluster;            //d
                            18338 ; 234  |    int     m_wFileSizeHigh;            //e
                            18339 ; 235  |    int     m_wFileSizeLow;             //f
                            18340 ; 236  |};
                            18341 ; 237  |
                            18342 ; 238  |
                            18343 ; 239  |typedef struct {
                            18344 ; 240  |    WORD wFirstClusterCurrentDirectory;
                            18345 ; 241  |    WORD wFirstClusterParentDirectory;
                            18346 ; 242  |    WORD wAbsSectorCurrentlyCached;
                            18347 ; 243  |    WORD wCurrentRelativeSector;
                            18348 ; 244  |    WORD wNumberOfSectors;
                            18349 ; 245  |    WORD wCurrentRecordLoadedInDcb;
                            18350 ; 246  |    WORD wBufferedRecord;
                            18351 ; 247  |    WORD wMaxNumberRecordsCurrentDirectory;
                            18352 ; 248  |    WORD * pwPointerToBuffer;
                            18353 ; 249  |    WORD * pwPointerToPath;
                            18354 ; 250  |    DIRECTORY_FILE_CONTROL_BLOCK * pDirFcb;
                            18355 ; 251  |} DIRECTORY_CONTROL_BLOCK;
                            18356 ; 252  |
                            18357 ; 253  |typedef struct {
                            18358 ; 254  |    WORD wWord0;
                            18359 ; 255  |    WORD wWord1;
                            18360 ; 256  |    WORD wWord2;
                            18361 ; 257  |    WORD wWord3;
                            18362 ; 258  |} FILE_NAME;
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 306

M:ADDR CODE           CYCLES LINE SOURCELINE
                            18363 ; 259  |
                            18364 ; 260  |typedef struct {
                            18365 ; 261  |    WORD wWord0;
                            18366 ; 262  |    WORD wWord1;
                            18367 ; 263  |} FILE_EXTENSION;
                            18368 ; 264  |
                            18369 ; 265  |typedef struct {
                            18370 ; 266  |    WORD wWord0;
                            18371 ; 267  |    WORD wWord1;
                            18372 ; 268  |} FILE_SIZE;
                            18373 ; 269  |
                            18374 ; 270  |typedef union {
                            18375 ; 271  |    struct {
                            18376 ; 272  |        int Read        :1;
                            18377 ; 273  |        int Write       :1;
                            18378 ; 274  |        int Append      :1;
                            18379 ; 275  |        int Truncate    :1;
                            18380 ; 276  |        int Create      :1;
                            18381 ; 277  |        int Rsrv        :3;
                            18382 ; 278  |        int Mode        :8;
                            18383 ; 279  |        int Device      :8;
                            18384 ; 280  |    } B;
                            18385 ; 281  |    int I;
                            18386 ; 282  |} FILE_FLAGS;
                            18387 ; 283  |
                            18388 ; 284  |typedef struct {
                            18389 ; 285  |    WORD wWord0;
                            18390 ; 286  |    WORD wWord1;
                            18391 ; 287  |} FILE_BYTE_CURRENT;
                            18392 ; 288  |
                            18393 ; 289  |typedef struct {
                            18394 ; 290  |    FILE_NAME Name;
                            18395 ; 291  |    FILE_EXTENSION Extension;
                            18396 ; 292  |    WORD wAttributes;
                            18397 ; 293  |    WORD wReserved[4];
                            18398 ; 294  |    WORD wCreationTime;
                            18399 ; 295  |    WORD wCreationData;
                            18400 ; 296  |    WORD wFirstCluster;
                            18401 ; 297  |    FILE_SIZE Size;
                            18402 ; 298  |    WORD wCurrentCluster;
                            18403 ; 299  |    WORD wPointer;
                            18404 ; 300  |    WORD wRecord;
                            18405 ; 301  |    WORD wRd;
                            18406 ; 302  |    FILE_FLAGS Flags;
                            18407 ; 303  |    FILE_BYTE_CURRENT FcbByteCurrent;
                            18408 ; 304  |    WORD wFcbFlagEndOfCx;
                            18409 ; 305  |} FILE_CONTROL_BLOCK;    
                            18410 ; 306  |
                            18411 ; 307  |typedef struct {
                            18412 ; 308  |    WORD wWord0;
                            18413 ; 309  |    WORD wWord1;
                            18414 ; 310  |    WORD wWord2;
                            18415 ; 311  |    WORD wWord3;
                            18416 ; 312  |} VOLUME_LABEL;
                            18417 ; 313  |
                            18418 ; 314  |typedef struct {
                            18419 ; 315  |    WORD wFATPhysicalBlock1;
                            18420 ; 316  |    WORD wFATPhysicalBlock2;
                            18421 ; 317  |    WORD wFATPhysicalBlock3;
                            18422 ; 318  |    WORD wFATPhysicalBlock4;
                            18423 ; 319  |} FAT_PHYSICAL_BLOCK_LIST;
                            18424 ; 320  |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 307

M:ADDR CODE           CYCLES LINE SOURCELINE
                            18425 ; 321  |typedef struct {
                            18426 ; 322  |    WORD wFATSectorInCache;
                            18427 ; 323  |    WORD wLastClusterFree;
                            18428 ; 324  |    WORD wNumberOfUsedClusters;
                            18429 ; 325  |    WORD wNumberOfFreeClusters;
                            18430 ; 326  |    WORD wNumberOfBadClusters;
                            18431 ; 327  |    WORD wNumberOfReservedClusters;
                            18432 ; 328  |    WORD wControl;
                            18433 ; 329  |    WORD * pwSectorCache;
                            18434 ; 330  |    FAT_PHYSICAL_BLOCK_LIST FATPhysicalLocationList;
                            18435 ; 331  |} FAT_TABLE;
                            18436 ; 332  |
                            18437 ; 333  |typedef struct {
                            18438 ; 334  |    WORD wStateMediaTable;
                            18439 ; 335  |    WORD wTypeFs;
                            18440 ; 336  |    WORD wBytesPerSector;
                            18441 ; 337  |    WORD wSectorsPerCluster;
                            18442 ; 338  |    WORD wNumberOfReservedSectors;
                            18443 ; 339  |    WORD wMaximumNumberOfFATs;
                            18444 ; 340  |    WORD wMaxRootDirectoryEntries;
                            18445 ; 341  |    WORD wTotalSectors;
                            18446 ; 342  |    WORD wNumberOfFATSectors;
                            18447 ; 343  |    WORD wNumberOfSectorsPerTrack;
                            18448 ; 344  |    WORD wNumberOfHeads;
                            18449 ; 345  |    WORD wNumberOfHiddenSectorsMSB;
                            18450 ; 346  |    WORD wNumberOfHiddenSectorsLSB;
                            18451 ; 347  |    WORD wTotalSectors32MSB;
                            18452 ; 348  |    WORD wTotalSectors32LSB;
                            18453 ; 349  |    WORD wDriverNumber;
                            18454 ; 350  |    WORD wExtendedBootSignature;
                            18455 ; 351  |    WORD wVolumeIDMSB;
                            18456 ; 352  |    WORD wVolumeIDLSB;
                            18457 ; 353  |    VOLUME_LABEL VolumeLabel;
                            18458 ; 354  |    WORD * pwWriteBuffer;
                            18459 ; 355  |    WORD wPrimaryFATRelativeSector;
                            18460 ; 356  |    WORD wSecondaryFATRelativeSector;
                            18461 ; 357  |    WORD wRootDirectoryRelativeSector;
                            18462 ; 358  |    WORD wFirstSectorNumberDataZone;
                            18463 ; 359  |    WORD wMaxNumberOfFATEntries;
                            18464 ; 360  |    WORD wRootDirectorySizeInSectors;
                            18465 ; 361  |    WORD wDataAreaSizeInSectors;
                            18466 ; 362  |} MEDIA_TABLE;
                            18467 ; 363  |
                            18468 ; 364  |typedef struct {
                            18469 ; 365  |    MEDIA_TABLE * pMediaTable;
                            18470 ; 366  |    DIRECTORY_CONTROL_BLOCK * pDirectoryControlBlock;
                            18471 ; 367  |    FAT_TABLE * pFATTable;
                            18472 ; 368  |} DEVICE_CONTROL_TABLE;
                            18473 ; 369  |    
                            18474 ; 370  |typedef struct {
                            18475 ; 371  |    WORD dwTotalSizeInMegaBytes;        // dwTotalSizeInMegaBytes is limited
                            18476 ; 372  |                                        //  to 2-bytes for compatibility with
                            18477 ; 373  |                                        //  older host drivers.
                            18478 ; 374  |    DWORD dwTotalNumberOfSectors;
                            18479 ; 375  |    DWORD dwTotalNumberOfBytes;
                            18480 ; 376  |    WORD wSectorSizeInBytes;
                            18481 ; 377  |} MEDIA_SIZE;
                            18482 ; 378  |
                            18483 ; 379  |typedef struct {
                            18484 ; 380  |    BOOL    bInstalled;
                            18485 ; 381  |    INT     iPbsSectorOffset;   // from the beginning of the data drive 
                            18486 ; 382  |    DWORD   dwSize;
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 308

M:ADDR CODE           CYCLES LINE SOURCELINE
                            18487 ; 383  |} DATA_DRIVE_PBS_LOC;
                            18488 ; 384  |extern  INT _reentrant FSFileOpen(_packed BYTE *fname,INT attribute, INT DeviceNumber);
                            18489 ; 385  |extern  INT _reentrant FSFastOpen(DWORD Key, INT attribute);
                            18490 ; 386  |extern  INT FSFileDelete(_packed BYTE *fname,INT DeviceNumber);
                            18491 ; 387  |extern  INT FSFileCreate(_packed BYTE *fname,INT DeviceNumber);
                            18492 ; 388  |extern  INT _reentrant FSChangeDir(_packed BYTE *dirname,INT DeviceNumber);
                            18493 ; 389  |extern  INT _reentrant FSCreateDir(_packed BYTE *dirname,INT DeviceNumber);
                            18494 ; 390  |extern  INT _reentrant FSDeleteDir(_packed BYTE *dirname,INT DeviceNumber);
                            18495 ; 391  |extern  INT _reentrant FSFileAppend(_packed BYTE *fname,INT DeviceNumber);
                            18496 ; 392  |extern  INT _reentrant FSFileRead(INT BytestoRead, INT Handle, INT memory_type, INT modulo
                                  , WORD *buffer);
                            18497 ; 393  |extern  INT _reentrant FSFileWrite(INT wNumberBytes, INT Handle, INT memory_type, INT iMod
                                  ulo, WORD *buffer);
                            18498 ; 394  |extern  INT _reentrant FSFileClose(INT Handle);
                            18499 ; 395  |extern  LONG _reentrant FSFileSize(INT HandleNumber);
                            18500 ; 396  |extern  LONG  FSSize(INT DeviceNum, INT TYPE);   
                            18501 ; 397  |extern  INT FSFreeClusters(INT Device);
                            18502 ; 398  |extern  INT BytesPerCluster(INT Device);
                            18503 ; 399  |
                            18504 ; 400  |
                            18505 ; 401  |
                            18506 ; 402  |//extern  INT FSFileCreate(_packed BYTE *pbFileName, BYTE bDevice);
                            18507 ; 403  |//extern  INT FSFileDelete(_packed BYTE *pbFileName, BYTE bDevice);
                            18508 ; 404  |extern  INT FSFileRename(_packed BYTE *pbCurFilename, _packed BYTE *pbNewFilename, BYTE bD
                                  evice);
                            18509 ; 405  |//extern  INT _reentrant FSFileAttribute(_packed BYTE *pbFilename, WORD wAttributes, BYTE 
                                  bDevice);
                            18510 ; 406  |//extern  INT FSFileAppend(_packed BYTE *pbFileName, BYTE bDevice);
                            18511 ; 407  |//extern  INT FSFileOpen(_packed BYTE *pbFileName, WORD wAttributes, BYTE bDevice);
                            18512 ; 408  |//extern  INT FSFileClose(INT bHandle);
                            18513 ; 409  |//extern  INT FSFileRead(WORD wNumberBytes, BYTE bHandle, WORD wMemSpace, INT iModulo, WOR
                                  D *pwBuffer);
                            18514 ; 410  |//extern  INT FSFileWrite(WORD wNumberBytes, BYTE bHandle, WORD wMemSpace, INT iModulo, WO
                                  RD *pwBuffer);
                            18515 ; 411  |extern  INT _reentrant fseek( INT handle , LONG offset, INT iOrigin );
                            18516 ; 412  |extern  INT _reentrant FSFileEof(INT Handle);
                            18517 ; 413  |extern INT _reentrant FSFileAttribute(INT Attributes, _packed BYTE *fname, INT DeviceNumbe
                                  r);
                            18518 ; 414  |extern INT _reentrant FSFileAttributeClear(INT Attributes, _packed BYTE *fname, INT Device
                                  Number);
                            18519 ; 415  |//extern  LONG FSFileSize(INT bHandle);
                            18520 ; 416  |extern _asmfunc INT FSPresent(BYTE bDevice);
                            18521 ; 417  |extern _asmfunc INT FSType(BYTE bDevice);
                            18522 ; 418  |//extern LONG FSSize(WORD wDevice, WORD wReturnType);
                            18523 ; 419  |//extern INT FSChangeDir(_packed BYTE *pbDirName, BYTE bDevice);
                            18524 ; 420  |//extern INT FSCreateDir(_packed BYTE *pbDirName, BYTE bDevice);
                            18525 ; 421  |//extern INT FSDeleteDir(_packed BYTE *pbDirName, BYTE bDevice);
                            18526 ; 422  |extern _asmfunc void SysLoadFATWrite(void);
                            18527 ; 423  |extern _asmfunc INT SysUnLoadFATWrite(void);
                            18528 ; 424  |extern LONG _reentrant ftell(INT iHandle);
                            18529 ; 425  |extern _asmfunc struct FCB * ReadDirectory(int iDevice, int iEntry);
                            18530 ; 426  |
                            18531 ; 427  |#endif
                            18532 
                            18534 
                            18535 ; 54   |
                            18536 ; 55   |/*========================================================================================
                                  ==========
                            18537 ; 56   |                                             CONSTANTS
                            18538 ; 57   |==========================================================================================
                                  ========*/
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 309

M:ADDR CODE           CYCLES LINE SOURCELINE
                            18539 ; 58   |/* Use for all code access only, _do_not_use_for_buffer_malloc_, because read sector funct
                                  ion always return 512bytes */
                            18540 ; 59   |#define NUM_OF_BYTE_PER_SEC     (510)   /* divisible by NUM_OF_BYTE_IN_ONE_WORD */
                            18541 ; 60   |#define NUM_OF_WORD_PER_SEC                     (NUM_OF_BYTE_PER_SEC/NUM_OF_BYTE_IN_ONE_WO
                                  RD)
                            18542 ; 61   |
                            18543 ; 62   |/* select data type to R/W to */
                            18544 ; 63   |#define ARTIST_NAME_DTYPE               0x0
                            18545 ; 64   |#define ALBUM_NAME_DTYPE                0x1
                            18546 ; 65   |#define GENRE_NAME_DTYPE                0x2
                            18547 ; 66   |#define SONG_NAME_DTYPE                 0x3
                            18548 ; 67   |
                            18549 ; 68   |#define PATH_NAME_DTYPE                 0x4
                            18550 ; 69   |#define SONG_ARRAY_DTYPE                0x5
                            18551 ; 70   |#define SONG_YEAR_DTYPE                 0x6
                            18552 ; 71   |#define ARTIST_SORT_DTYPE               0x7
                            18553 ; 72   |#define ARTIST_ASSOC_COUNT_DTYPE                0x8 // ARTIST_ASSOC_COUNT_DTYPE + ITEM_ART
                                  IST * 5 => 8 + 0 * 5
                            18554 ; 73   |#define ARTIST_ASSOC_CID_DTYPE          0x9
                            18555 ; 74   |#define ARTIST_SUBASSOC_COUNT_DTYPE     0xA
                            18556 ; 75   |#define ARTIST_SUBASSOC_CID_DTYPE       0xB
                            18557 ; 76   |
                            18558 ; 77   |#define ALBUM_SORT_DTYPE                0xC
                            18559 ; 78   |#define ALBUM_ASSOC_COUNT_DTYPE         0xD // ARTIST_ASSOC_COUNT_DTYPE + ITEM_ALBUM * 5 =
                                  > 8 + 1 * 5
                            18560 ; 79   |#define ALBUM_ASSOC_CID_DTYPE           0xE
                            18561 ; 80   |
                            18562 ; 81   |#define GENRE_SORT_DTYPE                0x11
                            18563 ; 82   |#define GENRE_ASSOC_COUNT_DTYPE         0x12    // ARTIST_ASSOC_COUNT_DTYPE + ITEM_GENRE *
                                   5 => 8 + 2 * 5
                            18564 ; 83   |#define GENRE_ASSOC_CID_DTYPE           0x13
                            18565 ; 84   |
                            18566 ; 85   |#define YEAR_SORT_DTYPE                 0x1B
                            18567 ; 86   |#define YEAR_ASSOC_COUNT_DTYPE          0x1C    // ARTIST_ASSOC_COUNT_DTYPE + ITEM_YEAR * 
                                  5 => 8 + 4 * 5
                            18568 ; 87   |#define YEAR_ASSOC_CID_DTYPE            0x1D
                            18569 ; 88   |#define NEW_MUSIC_DTYPE                 0x30    /* for build call only */
                            18570 ; 89   |#define ON_THE_FLY_DTYPE                0x31
                            18571 ; 90   |#define M3U_MUSIC_DTYPE                 0x32
                            18572 ; 91   |#define NEW_1DAY_DTYPE                  0x33
                            18573 ; 92   |#define NEW_1WEEK_DTYPE                 0x34
                            18574 ; 93   |#define NEW_1MONTH_DTYPE                0x35
                            18575 ; 94   |#define AUDIBLE_DTYPE                   0x36
                            18576 ; 95   |#define AUDIBLE_NAME_DTYPE              0x37
                            18577 ; 96   |#define AUDIBLE_PATH_DTYPE              0x38
                            18578 ; 97   |#define ON_THE_FLY_PATH_DTYPE   0x39
                            18579 ; 98   |
                            18580 ; 99   |#define SONG_INFO_ARTIST_DTYPE  0x40
                            18581 ; 100  |#define SONG_INFO_ALBUM_DTYPE   0x41
                            18582 ; 101  |#define SONG_INFO_GENRE_DTYPE   0x42
                            18583 ; 102  |#define SONG_INFO_YEAR_DTYPE    0x44
                            18584 ; 103  |
                            18585 ; 104  |#define VOICE_NAME_DTYPE                0x45
                            18586 ; 105  |#define VOICE_PATH_DTYPE                0x46
                            18587 ; 106  |#define VOICE_MARKTABLE_DTYPE   0x47
                            18588 ; 107  |#define VOICE_INFO_DTYPE                0x48
                            18589 ; 108  |#define VOICE_ARRAY_DTYPE               0x49
                            18590 ; 109  |#define NUM_OF_VOICE_DTYPE              0x4A
                            18591 ; 110  |
                            18592 ; 111  |#define FMREC_NAME_DTYPE                0x4B
                            18593 ; 112  |#define FMREC_PATH_DTYPE                0x4C
                            18594 ; 113  |#define FMREC_MARKTABLE_DTYPE   0x4D
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 310

M:ADDR CODE           CYCLES LINE SOURCELINE
                            18595 ; 114  |#define FMREC_INFO_DTYPE                0x4E
                            18596 ; 115  |#define FMREC_ARRAY_DTYPE               0x4F
                            18597 ; 116  |#define NUM_OF_FMREC_DTYPE              0x50
                            18598 ; 117  |
                            18599 ; 118  |#define PHOTO_NAME_DTYPE                0x51
                            18600 ; 119  |#define PHOTO_PATH_DTYPE                0x52
                            18601 ; 120  |#define PHOTO_MARKTABLE_DTYPE   0x53
                            18602 ; 121  |#define PHOTO_INFO_DTYPE                0x54
                            18603 ; 122  |#define PHOTO_ARRAY_DTYPE               0x55
                            18604 ; 123  |#define NUM_OF_PHOTO_DTYPE              0x56
                            18605 ; 124  |
                            18606 ; 125  |#define ARTIST_MERGE_DTYPE  0x5d
                            18607 ; 126  |#define ALBUM_MERGE_DTYPE   0x5e
                            18608 ; 127  |#define GENRE_MERGE_DTYPE   0x5f
                            18609 ; 128  |#define SONG_MERGE_DTYPE    0x60
                            18610 ; 129  |#define YEAR_MERGE_DTYPE    0x61
                            18611 ; 130  |#define TRACKNUM_ARRAY_DTYPE    0x63
                            18612 ; 131  |
                            18613 ; 132  |#define NUM_OF_SONG_DTYPE               0x25
                            18614 ; 133  |#define NUM_OF_ARTIST_DTYPE             0x22
                            18615 ; 134  |#define NUM_OF_ALBUM_DTYPE              0x23
                            18616 ; 135  |#define NUM_OF_GENRE_DTYPE              0x24
                            18617 ; 136  |#define NUM_OF_YEAR_DTYPE               0x26
                            18618 ; 137  |
                            18619 ; 138  |#define NUM_OF_NEW_1DAY_DTYPE   0x27
                            18620 ; 139  |#define NUM_OF_NEW_1WEEK_DTYPE  0x28
                            18621 ; 140  |#define NUM_OF_NEW_1MONTH_DTYPE 0x29
                            18622 ; 141  |#define NUM_OF_AUDIBLE_DTYPE    0x2A
                            18623 ; 142  |
                            18624 ; 143  |#ifdef _FOLDER_BROWSE_
                            18625 ; 144  |#define DIR_NAME_DTYPE                              0x64
                            18626 ; 145  |#define DIR_PATH_DTYPE                              0x65
                            18627 ; 146  |#define DIR_ARRAY_DTYPE                             0x66
                            18628 ; 147  |#define PARENT_DIR_OF_DIR_ASSOC_COUNT_DTYPE         0x62    // ARTIST_ASSOC_COUNT_DTYPE + 
                                  ITEM_INTERNAL * 5 => 8 + 18 * 5
                            18629 ; 148  |#define PARENT_DIR_OF_DIR_TOTAL_ASSOC_COUNT_DTYPE   0x67
                            18630 ; 149  |#define NUM_OF_DIR_DTYPE                                0x68
                            18631 ; 150  |#define PARENT_DIR_OF_DIR_START_DTYPE               0x69
                            18632 ; 151  |#define PARENT_DIR_OF_FILE_START_DTYPE              0x6a
                            18633 ; 152  |#define DIR_LIST_FILE_CONTENT_CID_DTYPE             0x6b
                            18634 ; 153  |#endif  // _FOLDER_BROWSE_
                            18635 ; 154  |
                            18636 ; 155  |#define PARENT_DIR_OF_FILE_ASSOC_LIST_DTYPE         0x6c
                            18637 ; 156  |#define PARENT_DIR_OF_DIR_ASSOC_LIST_DTYPE          0x6d
                            18638 ; 157  |
                            18639 ; 158  |/*
                            18640 ; 159  | ** Use for all buffer malloc,
                            18641 ; 160  | Read function return 512 Bytes, read buffer _must_be_ 171Words or larger
                            18642 ; 161  | */
                            18643 ; 162  |#define NUM_OF_READBYTE_PER_SEC         (540)           /* the DataDriveWriteSector() will
                                   write about 10 random bytes to buffer position>512 bytes, to prevent memory data overwritten, def
                                  ine > 512 */
                            18644 ; 163  |#define LB_NUM_OF_READBYTE_PER_SEC      (540*4)         /* the DataDriveWriteSector() will
                                   write about 10 random bytes to buffer position>512 bytes, to prevent memory data overwritten, def
                                  ine > 512 */
                            18645 ; 164  |#define NUM_OF_READWORD_PER_SEC         (LB_NUM_OF_READBYTE_PER_SEC/NUM_OF_BYTE_IN_ONE_WOR
                                  D)
                            18646 ; 165  |
                            18647 ; 166  |/* locate at the highest 200 sectors of 1M */
                            18648 ; 167  |/* locate at the highest 200 sectors of 2M */
                            18649 ; 168  |/* locate at the highest 200 sectors(2048B/sec) of 4M */
                            18650 ; 169  |#ifdef _SUPPORT_2000_SONGS_
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 311

M:ADDR CODE           CYCLES LINE SOURCELINE
                            18651 ; 170  |#define HASH_DB_START   0x3CE0  /* for sdmd.c _must_use_ MEDIA_TYPE_SD(ie. 1),  SD_DATABAS
                                  E_ADR + HASH_AREA1 => 0x1000 + 0xce0 */
                            18652 ; 171  |#define HASH_AREA1      0x1CE0  /* for sdmd.c _must_use_ MEDIA_TYPE_SD(ie. 1) */
                            18653 ; 172  |#define HASH_AREA2      0x1D44  /* for sdmd.c _must_use_ MEDIA_TYPE_SD(ie. 1) */
                            18654 ; 173  |#else
                            18655 ; 174  |#define HASH_DB_START   0x1CE0  /* for sdmd.c _must_use_ MEDIA_TYPE_SD(ie. 1),  SD_DATABAS
                                  E_ADR + HASH_AREA1 => 0x1000 + 0xce0 */
                            18656 ; 175  |#define HASH_AREA1      0xCE0   /* for sdmd.c _must_use_ MEDIA_TYPE_SD(ie. 1) */
                            18657 ; 176  |#define HASH_AREA2      0xD44   /* for sdmd.c _must_use_ MEDIA_TYPE_SD(ie. 1) */
                            18658 ; 177  |#endif  // _SUPPORT_2000_SONGS_
                            18659 ; 178  |
                            18660 ; 179  |/*========================================================================================
                                  ==========
                            18661 ; 180  |                                               MACROS
                            18662 ; 181  |==========================================================================================
                                  ========*/
                            18663 ; 182  |
                            18664 ; 183  |/*========================================================================================
                                  ==========
                            18665 ; 184  |                                               ENUMS
                            18666 ; 185  |==========================================================================================
                                  ========*/
                            18667 ; 186  |
                            18668 ; 187  |/*========================================================================================
                                  ==========
                            18669 ; 188  |                                     STRUCTURES AND OTHER TYPEDEFS
                            18670 ; 189  |==========================================================================================
                                  ========*/
                            18671 ; 190  |
                            18672 ; 191  |/*========================================================================================
                                  ==========
                            18673 ; 192  |                                 GLOBAL VARIABLE DECLARATIONS
                            18674 ; 193  |==========================================================================================
                                  ========*/
                            18675 ; 194  |
                            18676 ; 195  |/*========================================================================================
                                  ==========
                            18677 ; 196  |                                        FUNCTION PROTOTYPES
                            18678 ; 197  |==========================================================================================
                                  ========*/
                            18679 ; 198  |
                            18680 ; 199  |/*========================================================================================
                                  ========*/
                            18681 ; 200  |#ifdef __cplusplus
                            18682 ; 201  |}
                            18683 ; 202  |#endif
                            18684 ; 203  |
                            18685 ; 204  |#endif  /* MUSICLIB_FLASH_FUNCTION_H */
                            18686 
                            18688 
                            18689 ; 36   |//////
                            18690 ; 37   |
                            18691 ; 38   |extern RETCODE _reentrant DataDriveReadSector(DWORD dwSectorNumber, WORD wDriveNumber, INT
                                   iType, SECTOR_BUFFER * Buffer);
                            18692 ; 39   |extern RETCODE _reentrant DataDriveWriteSector(WORD wDriveNumber, DWORD dwSectorNumber, SE
                                  CTOR_BUFFER * Buffer, INT iType);
                            18693 ; 40   |extern _reentrant void get_map_sec(uint24 Media_type, uint24 dbsec_id, LONG *sec_id);
                            18694 ; 41   |
                            18695 ; 42   |
                            18696 ; 43   |#define READ_TYPE_RANDOM 0
                            18697 ; 44   |
                            18698 ; 45   |#define HASH_KEY_SIZE   4
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 312

M:ADDR CODE           CYCLES LINE SOURCELINE
                            18699 ; 46   |#define HASH_KEY_MASK   0x03
                            18700 ; 47   |#define HASH_SEQ        191
                            18701 ; 48   |//#define HASH_AREA1    0x34000
                            18702 ; 49   |//#define HASH_AREA2    0x34200
                            18703 ; 50   |#define HASH_PER_SECTOR 42              // floor of 512/3/HASH_KEY_SIZE
                            18704 ; 51   |#define HASH_SEQ_MASK   0xBFBFBF        // 191,191,191
                            18705 ; 52   |#define BUFFER_SIZE     171
                            18706 ; 53   |#define SECTOR_BUFFER_SIZE      683
                            18707 ; 54   |#define MAX_DIR_LEVEL   15
                            18708 ; 55   |#define NAND_DRIVE              0
                            18709 ; 56   |#define HASH_MAX_SECTOR 50
                            18710 ; 57   |
                            18711 ; 58   |unsigned int    g_sdmd_Skew;
                            18712 ; 59   |unsigned int    g_sdmd_hash[HASH_KEY_SIZE];
                            18713 ; 60   |//unsigned int _X       g_sdmd_Buffer[SECTOR_BUFFER_SIZE+5];    // avoid memory corruption
                                   bug in Sigmatel SDK
                            18714 ; 61   |//unsigned int _X       g_sdmd_hashlist[SECTOR_BUFFER_SIZE+5];  // avoid memory corruption
                                   bug in Sigmatel SDK
                            18715 ; 62   |unsigned int _X g_sdmd_Buffer[SECTOR_BUFFER_SIZE+24];   // avoid memory corruption bug in 
                                  Sigmatel SDK
                            18716 ; 63   |unsigned int _X g_sdmd_hashlist[SECTOR_BUFFER_SIZE+24]; // avoid memory corruption bug in 
                                  Sigmatel SDK
                            18717 
                            18723 
                            18724 ; 64   |sdmd_dir_t      g_sdmd_dir[MAX_DIR_LEVEL];
                            18725 ; 65   |int             g_sdmd_current_level;
                            18726 ; 66   |int             g_sdmd_HashOffset;
                            18727 ; 67   |int             g_sdmd_CurLoc;
                            18728 ; 68   |int             g_sdmd_error;
                            18729 ; 69   |
                            18730 ; 70   |_reentrant void sdmd_InitHash(void) {
                            18731 
P:0000                      18732         org     p,".ptextsdmd":
                            18737 Fsdmd_InitHash:
                            18740 
                            18741 ; 71   |        int i;
                            18742 ; 72   |        
                            18743 ; 73   |        g_sdmd_Skew = 0;
                            18744 
P:0000 20001B         2    218746         clr     b   
P:0001 5D7000 rrrrrr  3    518747         move    b1,y:Fg_sdmd_Skew
                            18749 
                            18750 ; 74   |        for (i=0; i<HASH_KEY_SIZE; i++) {
                            18751 
P:0003 66F400 rrrrrr  3    818753         move    #Fg_sdmd_hash,r6
P:0005 060480 rrrrrr  6   1418755         do      #4,L4
                            18757 
                            18758 ; 75   |                g_sdmd_hash[i] = 0x000000;
                            18759 
P:0007 5D5E00         2   1618761         move    b1,y:(r6)+
P:0008 000000         2   1818763         nop
                         (4)18764 L4:
                            18766 
                            18767 ; 76   |        }
                            18768 ; 77   |}
                            18769 
P:0009 00000C         4   2218771         rts
                            18773 
                            18774 ; 78   |
                            18775 ; 79   |_reentrant RETCODE sdmd_GetBufferHash (INT DeviceNum, LONG Sector) {
                            18776 
                            18781 Fsdmd_GetBufferHash:
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 313

M:ADDR CODE           CYCLES LINE SOURCELINE
P:000A 055F7C         2   2418782         movec   ssh,y:(r7)+
P:000B 205F00         2   2618785         move    (r7)+
                            18795 
                            18796 ; 80   |
                            18797 ; 81   |        int i;  
                            18798 ; 82   |        RETCODE status;
                            18799 ; 83   |
                            18800 ; 84   |        // Pre-pack a zero at the end of read sector
                            18801 ; 85   |        g_sdmd_Buffer[BUFFER_SIZE-1] = 0; 
                            18802 
P:000C 260000         2   2818804         move    #0,y0
P:000D 467000 rrrrrr  3   3118805         move    y0,x:Fg_sdmd_Buffer+170
                            18808 
                            18809 ; 86   |        // read each sector in cluster and generate hash
                            18810 ; 87   |        status = DataDriveReadSector(Sector, DeviceNum, (INT)READ_TYPE_RANDOM, g_sdmd_Buff
                                  er);
                            18811 
P:000F 60F400 rrrrrr  3   3418813         move    #Fg_sdmd_Buffer,r0
P:0011 240000         2   3618814         move    #0,x0
P:0012 0BF080 rrrrrr  6   4218815         jsr     FDataDriveReadSector
                            18817 
                            18818 ; 88   |        if (status!=SUCCESS) {
                            18819 
P:0014 200003         2   4418821         tst     a
P:0015 0AF0AA rrrrrr  6   5018822         jeq     L5
                            18823 
                            18824 ; 89   |                g_sdmd_error++;
                            18825 
P:0017 5FF000 rrrrrr  3   5318827         move    y:Fg_sdmd_error,b
P:0019 46F400 000001  3   5618828         move    #>1,y0
P:001B 200058         2   5818829         add     y0,b
P:001C 5D7000 rrrrrr  3   6118830         move    b1,y:Fg_sdmd_error
                            18831 
                            18832 ; 90   |                return status;
                            18833 
P:001E 0AF080 rrrrrr  6   6718835         jmp     L8
                            18836 
                            18837 ; 91   |        }
                            18838 
P:0020 4DF000 rrrrrr  3   7018840 L5:     move    y:Fg_sdmd_Skew,x1
                            18841 
                            18842 ; 92   |        
                            18843 ; 93   |        // compute the hash value
                            18844 ; 94   |        for (i=0; i<BUFFER_SIZE; i++) {
                            18845 
P:0022 200013         2   7218847         clr     a   
P:0023 63F400 rrrrrr  3   7518849         move    #Fg_sdmd_Buffer,r3
P:0025 47F400 000003  3   7818850         move    #>3,y1
P:0027 75F400 rrrrrr  3   8118851         move    #Fg_sdmd_hash,n5
P:0029 44F400 000001  3   8418852         move    #>1,x0
P:002B 06AB80 rrrrrr  6   9018853         do      #171,L9
                            18855 
                            18856 ; 95   |                g_sdmd_hash[(i&HASH_KEY_MASK)] ^= (g_sdmd_Buffer[i]+g_sdmd_Skew);
                            18857 
P:002D 045FA0         2   9218859         movec   m0,n7
P:002E 000000         2   9418860         nop
P:002F 5C6F00         4   9818861         move    a1,y:(r7+n7)
P:0030 200076         2  10018862         and     y1,a
P:0031 219500         2  10218866         move    a1,r5
P:0032 000000         2  10418867         nop
P:0033 044D16         4  10818868         lua     (r5)+n5,r6
P:0034 000000         2  11018869         nop
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 314

M:ADDR CODE           CYCLES LINE SOURCELINE
P:0035 5FE600         2  11218870         move    y:(r6),b
P:0036 56DB00         2  11418871         move    x:(r3)+,a
P:0037 200060         2  11618872         add     x1,a
P:0038 218600         2  11818873         move    a1,y0
P:0039 20005B         2  12018874         eor     y0,b
P:003A 5D6600         2  12218875         move    b1,y:(r6)
                            18876 
                            18877 ; 96   |                g_sdmd_Skew += 0x010101;
                            18878 
P:003B 46F400 010101  3  12518880         move    #65793,y0
P:003D 200061         2  12718881         tfr     x1,a
P:003E 200050         2  12918882         add     y0,a
P:003F 218500         2  13118883         move    a1,x1
                            18884 
                            18885 ; 97   |                if (g_sdmd_Skew==HASH_SEQ_MASK) {
                            18886 
P:0040 56F400 BFBFBF  3  13418888         move    #12566463,a
P:0042 200069         2  13618889         tfr     x1,b
P:0043 2A0000         2  13818890         move    #0,a2
P:0044 2B0000         2  14018891         move    #0,b2
P:0045 20000D         2  14218892         cmp     a,b
P:0046 0AF0A2 rrrrrr  6  14818893         jne     L7
                            18894 
                            18895 ; 98   |                        g_sdmd_Skew = 0x000000;
                            18896 
P:0048 250000         2  15018898         move    #0,x1
                            18899 
                            18900 ; 99   |                }
                            18901 
                            18903 L7:
P:0049 045FA0         2  15218905         movec   m0,n7
P:004A 000000         2  15418906         nop
P:004B 5EEF00         4  15818907         move    y:(r7+n7),a
P:004C 200040         2  16018908         add     x0,a
                        (70)18911 L9:
                            18913 
                            18914 ; 100  |        }
                            18915 ; 101  |        return SUCCESS;
                            18916 
P:004D 200013         2  16218918         clr     a   
P:004E 218E00         2  16418919         move    a1,a
P:004F 4D7000 rrrrrr  3  16718921         move    x1,y:Fg_sdmd_Skew
                            18922 
                            18923 ; 102  |}
                            18924 
P:0051 205700         2  16918926 L8:     move    (r7)-
P:0052 05FF7C         4  17318928         movec   y:-(r7),ssh
P:0053 000000         2  17518931         nop
P:0054 00000C         4  17918932         rts
                            18934 
                            18935 ; 103  |
                            18936 ; 104  |_reentrant RETCODE sdmd_GetDirHash (INT DeviceNum, LONG Cluster) {
                            18937 
                            18942 Fsdmd_GetDirHash:
P:0055 055F7C         2  18118943         movec   ssh,y:(r7)+
P:0056 3F0900         2  18318946         move    #9,n7
P:0057 000000         2  18518947         nop
P:0058 204F00         2  18718948         move    (r7)+n7
                            18962 
                            18963 ; 105  |        LONG Sector;
                            18964 ; 106  |        LONG NumRootSectors;
                            18965 ; 107  |        int i;
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 315

M:ADDR CODE           CYCLES LINE SOURCELINE
                            18966 ; 108  |        RETCODE status;
                            18967 
P:0059 77F400 FFFFF8  3  19018969         move    #-8,n7
P:005B 205F00         2  19218970         move    (r7)+
P:005C 5C6F00         4  19618972         move    a1,y:(r7+n7)
P:005D 205700         2  19818973         move    (r7)-
P:005E 586F00         4  20218975         move    a0,y:(r7+n7)
P:005F 77F400 FFFFF7  3  20518978         move    #-9,n7
P:0061 000000         2  20718979         nop
P:0062 5D6F00         4  21118980         move    b1,y:(r7+n7)
                            18983 
                            18984 ; 109  |
                            18985 ; 110  |        sdmd_InitHash();        
                            18986 
P:0063 0BF080 rrrrrr  6  21718988         jsr     Fsdmd_InitHash
                            18989 
                            18990 ; 111  |        status = SUCCESS;
                            18991 
P:0065 20001B         2  21918993         clr     b   
P:0066 77F400 FFFFFA  3  22218995         move    #-6,n7
P:0068 000000         2  22418996         nop
P:0069 5F6F00         4  22818997         move    b,y:(r7+n7)
                            19000 
                            19001 ; 112  |
                            19002 ; 113  |        if (Cluster>0) {
                            19003 
P:006A 77F400 FFFFF8  3  23119005         move    #-8,n7
P:006C 205F00         2  23319006         move    (r7)+
P:006D 5FEF00         4  23719008         move    y:(r7+n7),b
P:006E 205700         2  23919009         move    (r7)-
P:006F 59EF00         4  24319011         move    y:(r7+n7),b0
P:0070 212600         2  24519012         move    b0,y0
P:0071 21A700         2  24719013         move    b1,y1
P:0072 20000B         2  24919014         tst     b
P:0073 0AF0AF rrrrrr  6  25519017         jle     L26
                            19018 
                            19019 ; 114  |                // If FAT type is FAT32 then find the first root directory cluster from me
                                  dia tabel 
                            19020 ; 115  |                // and then find the sector no
                            19021 ; 116  |                // Compute hash value of directory of directory
                            19022 ; 117  |                do {
                            19023 ; 118  |                        Sector = Firstsectorofcluster(DeviceNum,Cluster);
                            19024 
P:0075 77F400 FFFFF7  3  25819026 L23:    move    #-9,n7
P:0077 000000         2  26019027         nop
P:0078 5FEF00         4  26419028         move    y:(r7+n7),b
P:0079 77F400 FFFFF8  3  26719031         move    #-8,n7
P:007B 205F00         2  26919032         move    (r7)+
P:007C 4F6F00         4  27319034         move    y1,y:(r7+n7)
P:007D 205700         2  27519035         move    (r7)-
P:007E 4E6F00         4  27919037         move    y0,y:(r7+n7)
P:007F 200071         2  28119038         tfr     y1,a
P:0080 20C800         2  28319039         move    y0,a0
P:0081 0BF080 rrrrrr  6  28919044         jsr     FFirstsectorofcluster
P:0083 77F400 FFFFFB  3  29219049         move    #-5,n7
P:0085 205F00         2  29419050         move    (r7)+
P:0086 5C6F00         4  29819052         move    a1,y:(r7+n7)
P:0087 205700         2  30019053         move    (r7)-
P:0088 586F00         4  30419055         move    a0,y:(r7+n7)
                            19057 
                            19058 ; 119  |                        for (i=0; i< MediaTable[DeviceNum].SectorsPerCluster; i++) {
                            19059 
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 316

M:ADDR CODE           CYCLES LINE SOURCELINE
P:0089 20001B         2  30619061         clr     b   
P:008A 47F400 000001  3  30919063         move    #>1,y1
P:008C 77F400 FFFFF7  3  31219064         move    #-9,n7
P:008E 000000         2  31419065         nop
P:008F 4CEF00         4  31819066         move    y:(r7+n7),x0
P:0090 46F400 00001C  3  32119067         move    #>28,y0
P:0092 2000D0         2  32319068         mpy     x0,y0,a
P:0093 200022         2  32519069         asr     a
P:0094 77F400 FFFFFE  3  32819070         move    #-2,n7
P:0096 000000         2  33019071         nop
P:0097 586F00         4  33419072         move    a0,y:(r7+n7)
P:0098 0AF080 rrrrrr  6  34019073         jmp     L25
                            19074 
                            19075 ; 120  |                                // compute the hash value
                            19076 ; 121  |                                status = sdmd_GetBufferHash (DeviceNum, Sector+i);
                            19077 
P:009A 77F400 FFFFFD  3  34319079 L24:    move    #-3,n7
P:009C 000000         2  34519080         nop
P:009D 5D6F00         4  34919081         move    b1,y:(r7+n7)
P:009E 216E00         2  35119082         move    b2,a
P:009F 21A800         2  35319083         move    b1,a0
P:00A0 77F400 FFFFFB  3  35619086         move    #-5,n7
P:00A2 205F00         2  35819087         move    (r7)+
P:00A3 4FEF00         4  36219089         move    y:(r7+n7),y1
P:00A4 205700         2  36419090         move    (r7)-
P:00A5 4EEF00         4  36819092         move    y:(r7+n7),y0
P:00A6 200030         2  37019093         add     y,a
P:00A7 77F400 FFFFF7  3  37319094         move    #-9,n7
P:00A9 000000         2  37519095         nop
P:00AA 5FEF00         4  37919096         move    y:(r7+n7),b
P:00AB 0BF080 rrrrrr  6  38519099         jsr     Fsdmd_GetBufferHash
P:00AD 77F400 FFFFFA  3  38819102         move    #-6,n7
P:00AF 000000         2  39019103         nop
P:00B0 5E6F00         4  39419104         move    a,y:(r7+n7)
                            19105 
                            19106 ; 122  |                                if (status!=SUCCESS) {
                            19107 
P:00B1 200003         2  39619109         tst     a
P:00B2 0AF0A2 rrrrrr  6  40219110         jne     L28
P:00B4 77F400 FFFFFD  3  40519112         move    #-3,n7
P:00B6 000000         2  40719113         nop
P:00B7 5FEF00         4  41119114         move    y:(r7+n7),b
P:00B8 47F400 000001  3  41419115         move    #>1,y1
P:00BA 200078         2  41619116         add     y1,b
P:00BB 6EF000 rrrrrr  3  41919119 L25:    move    y:FMediaTable,r6
P:00BD 000000         2  42119120         nop
P:00BE 205E00         2  42319121         move    (r6)+
P:00BF 77F400 FFFFFE  3  42619122         move    #-2,n7
P:00C1 000000         2  42819123         nop
P:00C2 4FEF00         4  43219124         move    y:(r7+n7),y1
P:00C3 20FE00         2  43419125         move    y1,n6
P:00C4 000000         2  43619126         nop
P:00C5 204E00         2  43819127         move    (r6)+n6
P:00C6 4EE600         2  44019128         move    y:(r6),y0
P:00C7 20005D         2  44219129         cmp     y0,b
P:00C8 0AF0A9 rrrrrr  6  44819130         jlt     L24
P:00CA 77F400 FFFFF7  3  45119131         move    #-9,n7
P:00CC 000000         2  45319132         nop
P:00CD 5FEF00         4  45719133         move    y:(r7+n7),b
                            19137 
                            19138 ; 123  |                                        g_sdmd_error++;
                            19139 ; 124  |                                        return status;
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 317

M:ADDR CODE           CYCLES LINE SOURCELINE
                            19140 ; 125  |                                }
                            19141 ; 126  |                        }
                            19142 ; 127  |                        Cluster = Findnextcluster(DeviceNum, Cluster);
                            19143 
P:00CE 77F400 FFFFF8  3  46019145         move    #-8,n7
P:00D0 205F00         2  46219146         move    (r7)+
P:00D1 5EEF00         4  46619148         move    y:(r7+n7),a
P:00D2 205700         2  46819149         move    (r7)-
P:00D3 58EF00         4  47219151         move    y:(r7+n7),a0
P:00D4 0BF080 rrrrrr  6  47819152         jsr     FFindnextcluster
P:00D6 210600         2  48019158         move    a0,y0
P:00D7 218700         2  48219159         move    a1,y1
                            19161 
                            19162 ; 128  |                } while ((Cluster!=FS_EOF) && (Cluster!=NOT_VALID_SECTOR) && (status==SUCC
                                  ESS));
                            19163 
P:00D8 200079         2  48419165         tfr     y1,b
P:00D9 20C900         2  48619166         move    y0,b0
P:00DA 56F400 FFFFFF  3  48919167         move    #>$FFFFFF,a
P:00DC 50F400 FFBFFA  3  49219168         move    #$FFBFFA,a0
P:00DE 20000D         2  49419169         cmp     a,b
P:00DF 0AF0AA rrrrrr  6  50019170         jeq     L33
P:00E1 200079         2  50219171         tfr     y1,b
P:00E2 20C900         2  50419172         move    y0,b0
P:00E3 218E00         2  50619173         move    a1,a
P:00E4 50F400 FFBFE2  3  50919174         move    #$FFBFE2,a0
P:00E6 20000D         2  51119175         cmp     a,b
P:00E7 0AF0AA rrrrrr  6  51719176         jeq     L33
P:00E9 77F400 FFFFFA  3  52019177         move    #-6,n7
P:00EB 000000         2  52219178         nop
P:00EC 5EEF00         4  52619179         move    y:(r7+n7),a
P:00ED 200003         2  52819180         tst     a
P:00EE 0AF0AA rrrrrr  6  53419181         jeq     L23
                            19182 
                            19183 ; 129  |        } else {
                            19184 
P:00F0 0AF080 rrrrrr  6  54019186         jmp     L33
                            19187 
                            19188 ; 130  |                // If FAT type is FAT12 or FAT16  then  root directory starts after reserv
                                  ed sector 
                            19189 ; 131  |                // and primary and secondary FAT table
                            19190 ; 132  |                // Special case: FAT12 / FAT16 root directory is not in cluster format
                            19191 ; 133  |                Sector = MediaTable[DeviceNum].RsvdSectors +  (MediaTable[DeviceNum].NoOfF
                                  ATs * MediaTable[DeviceNum].FATSize);
                            19192 
P:00F2 6EF000 rrrrrr  3  54319194 L26:    move    y:FMediaTable,r6
P:00F4 3E0200         2  54519195         move    #2,n6
P:00F5 000000         2  54719196         nop
P:00F6 044E12         4  55119197         lua     (r6)+n6,r2
P:00F7 77F400 FFFFF7  3  55419198         move    #-9,n7
P:00F9 000000         2  55619199         nop
P:00FA 4CEF00         4  56019200         move    y:(r7+n7),x0
P:00FB 47F400 00001C  3  56319201         move    #>28,y1
P:00FD 2000C8         2  56519202         mpy     x0,y1,b
P:00FE 20002A         2  56719203         asr     b
P:00FF 213A00         2  56919205         move    b0,n2
P:0100 213C00         2  57119206         move    b0,n4
P:0101 044A15         4  57519207         lua     (r2)+n2,r5
P:0102 000000         2  57719208         nop
P:0103 5FE500         2  57919209         move    y:(r5),b
P:0104 21A900         2  58119210         move    b1,b0
P:0105 216D00         2  58319211         move    b2,b1
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 318

M:ADDR CODE           CYCLES LINE SOURCELINE
P:0106 77F400 FFFFFB  3  58619212         move    #-5,n7
P:0108 205F00         2  58819213         move    (r7)+
P:0109 5D6F00         4  59219215         move    b1,y:(r7+n7)
P:010A 205700         2  59419216         move    (r7)-
P:010B 596F00         4  59819218         move    b0,y:(r7+n7)
P:010C 3E0300         2  60019220         move    #3,n6
P:010D 000000         2  60219221         nop
P:010E 044E14         4  60619222         lua     (r6)+n6,r4
P:010F 000000         2  60819223         nop
P:0110 044C15         4  61219224         lua     (r4)+n4,r5
P:0111 000000         2  61419225         nop
P:0112 5FE500         2  61619226         move    y:(r5),b
P:0113 21A400         2  61819227         move    b1,x0
P:0114 216500         2  62019228         move    b2,x1
P:0115 3E0700         2  62219229         move    #7,n6
P:0116 000000         2  62419230         nop
P:0117 044E14         4  62819231         lua     (r6)+n6,r4
P:0118 000000         2  63019232         nop
P:0119 044C15         4  63419233         lua     (r4)+n4,r5
P:011A 000000         2  63619234         nop
P:011B 4EDD00         2  63819235         move    y:(r5)+,y0
P:011C 4FD500         2  64019236         move    y:(r5)-,y1
P:011D 0040F8         2  64219237         ori     #$40,mr
P:011E 000000         2  64419238         nop
P:011F 2000D0         2  64619239         mpy     y0,x0,a
P:0120 2109E2         2  64819240         mac     x1,y0,a a0,b0
P:0121 2000C2         2  65019241         mac     x0,y1,a
P:0122 210DF2         2  65219242         mac     y1,x1,a a0,b1
P:0123 00BFB8         2  65419243         andi    #$BF,mr
P:0124 210B00         2  65619244         move    a0,b2
P:0125 20002A         2  65819245         asr     b
P:0126 205F00         2  66019246         move    (r7)+
P:0127 4FEF00         4  66419248         move    y:(r7+n7),y1
P:0128 205700         2  66619249         move    (r7)-
P:0129 4EEF00         4  67019251         move    y:(r7+n7),y0
P:012A 200038         2  67219252         add     y,b
P:012B 205F00         2  67419253         move    (r7)+
P:012C 5D6F00         4  67819255         move    b1,y:(r7+n7)
P:012D 205700         2  68019256         move    (r7)-
P:012E 596F00         4  68419258         move    b0,y:(r7+n7)
                            19260 
                            19261 ; 134  |                NumRootSectors = MediaTable[DeviceNum].MaxRootDirEntries >> 5;
                            19262 
P:012F 3E0400         2  68619264         move    #4,n6
P:0130 000000         2  68819265         nop
P:0131 044E14         4  69219266         lua     (r6)+n6,r4
P:0132 000000         2  69419267         nop
P:0133 044C16         4  69819268         lua     (r4)+n4,r6
P:0134 000000         2  70019269         nop
P:0135 4EE600         2  70219270         move    y:(r6),y0
P:0136 0105E8         2  70419271         mpy     y0,#5,b
P:0137 21AF00         2  70619272         move    b1,b
P:0138 21A900         2  70819273         move    b1,b0
P:0139 216D00         2  71019274         move    b2,b1
P:013A 77F400 FFFFFD  3  71319275         move    #-3,n7
P:013C 205F00         2  71519276         move    (r7)+
P:013D 5D6F00         4  71919278         move    b1,y:(r7+n7)
P:013E 205700         2  72119279         move    (r7)-
P:013F 596F00         4  72519281         move    b0,y:(r7+n7)
                            19283 
                            19284 ; 135  |
                            19285 ; 136  |                // scan through the entire root directory (even if it's empty)
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 319

M:ADDR CODE           CYCLES LINE SOURCELINE
                            19286 ; 137  |                for (i=0; i<NumRootSectors; i++) {
                            19287 
P:0140 200013         2  72719289         clr     a   
P:0141 0AF080 rrrrrr  6  73319291         jmp     L30
                            19292 
                            19293 ; 138  |                        status = sdmd_GetBufferHash (DeviceNum, Sector+i);
                            19294 
                            19296 L27:
P:0143 200059         2  73519299         tfr     y0,b
P:0144 045FA0         2  73719300         movec   m0,n7
P:0145 000000         2  73919301         nop
P:0146 5F6F00         4  74319302         move    b,y:(r7+n7)
P:0147 216E00         2  74519303         move    b2,a
P:0148 21A800         2  74719304         move    b1,a0
P:0149 77F400 FFFFFB  3  75019307         move    #-5,n7
P:014B 205F00         2  75219308         move    (r7)+
P:014C 4FEF00         4  75619310         move    y:(r7+n7),y1
P:014D 205700         2  75819311         move    (r7)-
P:014E 4EEF00         4  76219313         move    y:(r7+n7),y0
P:014F 200030         2  76419314         add     y,a
P:0150 77F400 FFFFF7  3  76719315         move    #-9,n7
P:0152 000000         2  76919316         nop
P:0153 5FEF00         4  77319317         move    y:(r7+n7),b
P:0154 0BF080 rrrrrr  6  77919320         jsr     Fsdmd_GetBufferHash
P:0156 77F400 FFFFFA  3  78219323         move    #-6,n7
P:0158 000000         2  78419324         nop
P:0159 5E6F00         4  78819325         move    a,y:(r7+n7)
                            19326 
                            19327 ; 139  |                        if (status!=SUCCESS) {
                            19328 
P:015A 200003         2  79019330         tst     a
P:015B 045FA0         2  79219331         movec   m0,n7
P:015C 000000         2  79419332         nop
P:015D 5EEF00         4  79819333         move    y:(r7+n7),a
P:015E 0AF0AA rrrrrr  6  80419336         jeq     L29
                            19337 
                            19338 ; 140  |                                g_sdmd_error++;
                            19339 
P:0160 5FF000 rrrrrr  3  80719341 L28:    move    y:Fg_sdmd_error,b
P:0162 46F400 000001  3  81019342         move    #>1,y0
P:0164 200058         2  81219343         add     y0,b
P:0165 5D7000 rrrrrr  3  81519344         move    b1,y:Fg_sdmd_error
                            19345 
                            19346 ; 141  |                                return status;
                            19347 
P:0167 77F400 FFFFFA  3  81819349         move    #-6,n7
P:0169 000000         2  82019350         nop
P:016A 5EEF00         4  82419351         move    y:(r7+n7),a
P:016B 0AF080 rrrrrr  6  83019354         jmp     L34
                            19355 
                            19356 ; 142  |                        }
                            19357 
                            19359 L29:
P:016D 44F400 000001  3  83319361         move    #>1,x0
P:016F 200040         2  83519362         add     x0,a
P:0170 218600         2  83719366 L30:    move    a1,y0
P:0171 218800         2  83919367         move    a1,a0
P:0172 214C00         2  84119368         move    a2,a1
P:0173 77F400 FFFFFD  3  84419371         move    #-3,n7
P:0175 205F00         2  84619372         move    (r7)+
P:0176 5FEF00         4  85019374         move    y:(r7+n7),b
P:0177 205700         2  85219375         move    (r7)-
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 320

M:ADDR CODE           CYCLES LINE SOURCELINE
P:0178 59EF00         4  85619377         move    y:(r7+n7),b0
P:0179 200005         2  85819378         cmp     b,a
P:017A 0AF0A9 rrrrrr  6  86419379         jlt     L27
                            19380 
                            19381 ; 143  |                }
                            19382 ; 144  |        }
                            19383 ; 145  |                
                            19384 ; 146  |        return SUCCESS;
                            19385 
P:017C 200013         2  86619387 L33:    clr     a   
                            19388 
                            19389 ; 147  |}
                            19390 
P:017D 77F400 FFFFF6  3  86919392 L34:    move    #-10,n7
P:017F 000000         2  87119393         nop
P:0180 05EF7C         4  87519394         movec   y:(r7+n7),ssh
P:0181 204F00         2  87719396         move    (r7)+n7
P:0182 00000C         4  88119398         rts
                            19404 
                            19405 ; 148  |
                            19406 ; 149  |_reentrant LONG sdmd_RootDirHash (INT DeviceNum) {
                            19407 
                            19412 Fsdmd_RootDirHash:
P:0183 055F7C         2  88319413         movec   ssh,y:(r7)+
P:0184 205F00         2  88519416         move    (r7)+
P:0185 205F00         2  88719417         move    (r7)+
                            19423 
                            19424 ; 150  |        LONG Cluster = 0;
                            19425 
P:0186 270000         2  88919427         move    #0,y1
P:0187 260000         2  89119428         move    #0,y0
P:0188 77F400 FFFFFE  3  89419430         move    #-2,n7
P:018A 205F00         2  89619431         move    (r7)+
P:018B 4F6F00         4  90019433         move    y1,y:(r7+n7)
P:018C 205700         2  90219434         move    (r7)-
P:018D 4E6F00         4  90619436         move    y0,y:(r7+n7)
                            19441 
                            19442 ; 151  |        RETCODE status;
                            19443 ; 152  |        if(DeviceNum > maxdevices || DeviceNum < 0)
                            19444 
P:018E 4FF000 rrrrrr  3  90919446         move    y:Fmaxdevices,y1
P:0190 218F00         2  91119447         move    a1,b
P:0191 20007D         2  91319448         cmp     y1,b
P:0192 0AF0A7 rrrrrr  6  91919451         jgt     L46
P:0194 20000B         2  92119452         tst     b
P:0195 0AF0A1 rrrrrr  6  92719453         jge     L47
                            19454 
                            19455 ; 153  |                return FS_MAX_DEVICES_EXCEEDED;
                            19456 
P:0197 56F400 FFFFFF  3  93019458 L46:    move    #>$FFFFFF,a
P:0199 50F400 FFBFEC  3  93319459         move    #$FFBFEC,a0
P:019B 0AF080 rrrrrr  6  93919460         jmp     L55
                            19461 
                            19462 ; 154  |
                            19463 ; 155  |        if (MediaTable[DeviceNum].FATType == FAT32)
                            19464 
P:019D 68F000 rrrrrr  3  94219466 L47:    move    y:FMediaTable,r0
P:019F 3B1100         2  94419467         move    #17,n3
P:01A0 237800         2  94619468         move    n3,n0
P:01A1 000000         2  94819469         nop
P:01A2 044816         4  95219470         lua     (r0)+n0,r6
P:01A3 21A500         2  95419471         move    b1,x1
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 321

M:ADDR CODE           CYCLES LINE SOURCELINE
P:01A4 46F400 00001C  3  95719472         move    #>28,y0
P:01A6 2000E0         2  95919473         mpy     x1,y0,a
P:01A7 200022         2  96119474         asr     a
P:01A8 211C00         2  96319475         move    a0,n4
P:01A9 22D400         2  96519476         move    r6,r4
P:01AA 000000         2  96719477         nop
P:01AB 044C16         4  97119478         lua     (r4)+n4,r6
P:01AC 000000         2  97319479         nop
P:01AD 5EE600         2  97519480         move    y:(r6),a
P:01AE 46F400 000002  3  97819481         move    #>2,y0
P:01B0 200055         2  98019482         cmp     y0,a
P:01B1 0AF0A2 rrrrrr  6  98619483         jne     L48
                            19484 
                            19485 ; 156  |        {
                            19486 ; 157  |                // Compute the hash of directory starting at Cluster
                            19487 ; 158  |                Cluster = MediaTable[DeviceNum].RootdirCluster;
                            19488 
P:01B3 380900         2  98819490         move    #9,n0
P:01B4 000000         2  99019491         nop
P:01B5 044815         4  99419492         lua     (r0)+n0,r5
P:01B6 239D00         2  99619493         move    n4,n5
P:01B7 000000         2  99819494         nop
P:01B8 044D16         4 100219495         lua     (r5)+n5,r6
P:01B9 000000         2 100419496         nop
P:01BA 4CDE00         2 100619497         move    y:(r6)+,x0
P:01BB 4DD600         2 100819498         move    y:(r6)-,x1
                            19501 
                            19502 ; 159  |                status = sdmd_GetDirHash (DeviceNum, Cluster);
                            19503 
P:01BC 205F00         2 101019505         move    (r7)+
P:01BD 4D6F00         4 101419507         move    x1,y:(r7+n7)
P:01BE 205700         2 101619508         move    (r7)-
P:01BF 4C6F00         4 102019510         move    x0,y:(r7+n7)
P:01C0 200061         2 102219515         tfr     x1,a
P:01C1 208800         2 102419516         move    x0,a0
                            19517 
                            19518 ; 160  |                if (status!=SUCCESS) {
                            19519 
P:01C2 0AF080 rrrrrr  6 103019521         jmp     L50
                            19522 
                            19523 ; 161  |                        g_sdmd_error++;
                            19524 ; 162  |                }
                            19525 ; 163  |        }
                            19526 ; 164  |        else if(MediaTable[DeviceNum].FATType ==FAT12 ||  MediaTable[DeviceNum].FATType ==
                                  FAT16)
                            19527 
                            19529 L48:
P:01C4 6BF000 rrrrrr  3 103319531         move    y:FMediaTable,r3
P:01C6 000000         2 103519532         nop
P:01C7 044B14         4 103919533         lua     (r3)+n3,r4
P:01C8 000000         2 104119534         nop
P:01C9 044C16         4 104519535         lua     (r4)+n4,r6
P:01CA 000000         2 104719536         nop
P:01CB 5EE600         2 104919537         move    y:(r6),a
P:01CC 200003         2 105119539         tst     a
P:01CD 0AF0AA rrrrrr  6 105719540         jeq     L49
P:01CF 45F400 000001  3 106019541         move    #>1,x1
P:01D1 200065         2 106219542         cmp     x1,a
P:01D2 0AF0A2 rrrrrr  6 106819543         jne     L51
                            19544 
                            19545 ; 165  |        {
                            19546 ; 166  |                // Compute the hash of directory for FAT12/FAT16 system
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 322

M:ADDR CODE           CYCLES LINE SOURCELINE
                            19547 ; 167  |                status = sdmd_GetDirHash (DeviceNum, Cluster);
                            19548 
P:01D4 200013         2 107019550 L49:    clr     a   
                            19551 
                            19552 ; 168  |                if (status!=SUCCESS) {
                            19553 
                            19555 L50:
P:01D5 0BF080 rrrrrr  6 107619557         jsr     Fsdmd_GetDirHash
P:01D7 200003         2 107819561         tst     a
P:01D8 0AF0AA rrrrrr  6 108419562         jeq     L53
                            19563 
                            19564 ; 169  |                        g_sdmd_error++;
                            19565 ; 170  |                }
                            19566 ; 171  |        }
                            19567 
P:01DA 0AF080 rrrrrr  6 109019569         jmp     L52
                            19570 
                            19571 ; 172  |
                            19572 ; 173  |        else
                            19573 ; 174  |           return  MEDIA_TYPE_NOT_SUPPORTED;
                            19574 
P:01DC 56F400 FFFFFF  3 109319576 L51:    move    #>$FFFFFF,a
P:01DE 50F400 FFBFEB  3 109619577         move    #$FFBFEB,a0
P:01E0 0AF080 rrrrrr  6 110219579         jmp     L55
P:01E2 5FF000 rrrrrr  3 110519581 L52:    move    y:Fg_sdmd_error,b
P:01E4 46F400 000001  3 110819582         move    #>1,y0
P:01E6 200058         2 111019583         add     y0,b
P:01E7 5D7000 rrrrrr  3 111319584         move    b1,y:Fg_sdmd_error
                            19585 
                            19586 ; 175  |
                            19587 ; 176  |        return (Cluster);
                            19588 
P:01E9 77F400 FFFFFE  3 111619590 L53:    move    #-2,n7
P:01EB 205F00         2 111819591         move    (r7)+
P:01EC 5EEF00         4 112219593         move    y:(r7+n7),a
P:01ED 205700         2 112419594         move    (r7)-
P:01EE 58EF00         4 112819596         move    y:(r7+n7),a0
                            19599 
                            19600 ; 177  |}
                            19601 
P:01EF 205700         2 113019603 L55:    move    (r7)-
P:01F0 205700         2 113219604         move    (r7)-
P:01F1 05FF7C         4 113619606         movec   y:-(r7),ssh
P:01F2 000000         2 113819609         nop
P:01F3 00000C         4 114219610         rts
                            19613 
                            19614 ; 178  |
                            19615 ; 179  |_reentrant RETCODE sdmd_GenerateHash (INT DeviceNum) {
                            19616 
                            19621 Fsdmd_GenerateHash:
P:01F4 055F7C         2 114419622         movec   ssh,y:(r7)+
P:01F5 3F0900         2 114619625         move    #9,n7
P:01F6 000000         2 114819626         nop
P:01F7 204F00         2 115019627         move    (r7)+n7
                            19654 
                            19655 ; 180  |        int i, isfree, attr, val, ExitRecursive, index;
                            19656 ; 181  |        long cluster, sector;
                            19657 ; 182  |        long NumRootSectors;
                            19658 ; 183  |        RETCODE status;
                            19659 ; 184  |        uint24 temp_sec;
                            19660 ; 185  |        long    LibSector;
                            19661 
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 323

M:ADDR CODE           CYCLES LINE SOURCELINE
P:01F8 77F400 FFFFF9  3 115319663         move    #-7,n7
P:01FA 000000         2 115519664         nop
P:01FB 5C6F00         4 115919665         move    a1,y:(r7+n7)
                            19668 
                            19669 ; 186  |
                            19670 ; 187  |        // erase the first hash sector so that when sdmd_GenerateHash return error, the 
                            19671 ; 188  |        // CompareHash function will correctly detect the media has changed, Astley 13/3/2
                                  005 16:41
                            19672 ; 189  |        sector = HASH_AREA2;
                            19673 ; 190  |        temp_sec = sector;
                            19674 ; 191  |        get_map_sec(0x01, temp_sec, &LibSector);
                            19675 
P:01FC 77F400 FFFFF7  3 116219677         move    #-9,n7
P:01FE 000000         2 116419678         nop
P:01FF 044F10         4 116819679         lua     (r7)+n7,r0
P:0200 56F400 000001  3 117119680         move    #>1,a
P:0202 57F400 001D44  3 117419681         move    #7492,b
P:0204 0BF080 rrrrrr  6 118019682         jsr     Fget_map_sec
                            19683 
                            19684 ; 192  |        status = DataDriveWriteSector(NAND_DRIVE, LibSector, g_sdmd_hashlist, (INT)WRITE_T
                                  YPE_RANDOM);    
                            19685 
P:0206 77F400 FFFFF7  3 118319687         move    #-9,n7
P:0208 205F00         2 118519688         move    (r7)+
P:0209 5EEF00         4 118919690         move    y:(r7+n7),a
P:020A 205700         2 119119691         move    (r7)-
P:020B 58EF00         4 119519693         move    y:(r7+n7),a0
P:020C 20001B         2 119719694         clr     b   
P:020D 60F400 rrrrrr  3 120019695         move    #Fg_sdmd_hashlist,r0
P:020F 240000         2 120219696         move    #0,x0
P:0210 0BF080 rrrrrr  6 120819697         jsr     FDataDriveWriteSector
P:0212 200009         2 121019698         tfr     a,b
                            19700 
                            19701 ; 193  |        if (status!=SUCCESS) {
                            19702 
P:0213 200003         2 121219704         tst     a
P:0214 0AF0A2 rrrrrr  6 121819705         jne     L195
                            19706 
                            19707 ; 194  |                g_sdmd_error++;
                            19708 ; 195  |                return status;
                            19709 ; 196  |        }
                            19710 ; 197  |
                            19711 ; 198  |        g_sdmd_error = 0;
                            19712 
P:0216 20001B         2 122019714         clr     b   
P:0217 5D7000 rrrrrr  3 122319715         move    b1,y:Fg_sdmd_error
                            19717 
                            19718 ; 199  |        g_sdmd_current_level = 0;
                            19719 
P:0219 5D7000 rrrrrr  3 122619721         move    b1,y:Fg_sdmd_current_level
                            19722 
                            19723 ; 200  |        g_sdmd_dir[0].SectorIndex = 0;
                            19724 
P:021B 5D7000 rrrrrr  3 122919726         move    b1,y:Fg_sdmd_dir+2
                            19727 
                            19728 ; 201  |        g_sdmd_dir[0].EntryIndex = 0;
                            19729 
P:021D 5D7000 rrrrrr  3 123219731         move    b1,y:Fg_sdmd_dir+3
P:021F 77F400 FFFFF9  3 123519732         move    #-7,n7
P:0221 000000         2 123719733         nop
P:0222 5EEF00         4 124119734         move    y:(r7+n7),a
                            19737 
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 324

M:ADDR CODE           CYCLES LINE SOURCELINE
                            19738 ; 202  |        g_sdmd_dir[0].CurrentCluster = sdmd_RootDirHash(DeviceNum);
                            19739 
P:0223 0BF080 rrrrrr  6 124719741         jsr     Fsdmd_RootDirHash
P:0225 5C7000 rrrrrr  3 125019744         move    a1,y:Fg_sdmd_dir+1
P:0227 587000 rrrrrr  3 125319745         move    a0,y:Fg_sdmd_dir
                            19746 
                            19747 ; 203  |
                            19748 ; 204  |        if (g_sdmd_dir[0].CurrentCluster == NOT_VALID_SECTOR || g_sdmd_error!=0) {
                            19749 
P:0229 57F400 FFFFFF  3 125619751         move    #>$FFFFFF,b
P:022B 51F400 FFBFE2  3 125919752         move    #$FFBFE2,b0
P:022D 200005         2 126119753         cmp     b,a
P:022E 0AF0AA rrrrrr  6 126719754         jeq     L165
P:0230 5FF000 rrrrrr  3 127019755         move    y:Fg_sdmd_error,b
P:0232 20000B         2 127219756         tst     b
P:0233 0AF0A2 rrrrrr  6 127819757         jne     L165
                            19759 
                            19760 ; 205  |                return NOT_VALID_SECTOR;
                            19761 ; 206  |        }
                            19762 ; 207  |
                            19763 ; 208  |        for (i=0; i<BUFFER_SIZE; i++) {
                            19764 
P:0235 74F400 rrrrrr  3 128119766         move    #Fg_sdmd_hashlist,n4
P:0237 239300         2 128319767         move    n4,r3
P:0238 45F400 000001  3 128619768         move    #>1,x1
P:023A 240000         2 128819769         move    #0,x0
P:023B 06AB80 rrrrrr  6 129419770         do      #171,L201
                            19772 
                            19773 ; 209  |                g_sdmd_hashlist[i] = 0x000000;
                            19774 
P:023D 445B00         2 129619776         move    x0,x:(r3)+
P:023E 000000         2 129819778         nop
                         (4)19779 L201:
                            19781 
                            19782 ; 210  |        }
                            19783 ; 211  |        
                            19784 ; 212  |        NumRootSectors = MediaTable[DeviceNum].MaxRootDirEntries >> 5;
                            19785 
P:023F 6DF000 rrrrrr  3 130119787         move    y:FMediaTable,r5
P:0241 3D0400         2 130319789         move    #4,n5
P:0242 000000         2 130519790         nop
P:0243 044D14         4 130919791         lua     (r5)+n5,r4
P:0244 77F400 FFFFF9  3 131219792         move    #-7,n7
P:0246 000000         2 131419793         nop
P:0247 4EEF00         4 131819794         move    y:(r7+n7),y0
P:0248 47F400 00001C  3 132119795         move    #>28,y1
P:024A 2000B8         2 132319796         mpy     y0,y1,b
P:024B 20002A         2 132519797         asr     b
P:024C 213E00         2 132719798         move    b0,n6
P:024D 213A00         2 132919799         move    b0,n2
P:024E 229600         2 133119800         move    r4,r6
P:024F 000000         2 133319801         nop
P:0250 204E00         2 133519802         move    (r6)+n6
P:0251 4EE600         2 133719803         move    y:(r6),y0
P:0252 0105E8         2 133919804         mpy     y0,#5,b
P:0253 21AF00         2 134119805         move    b1,b
P:0254 21A900         2 134319806         move    b1,b0
P:0255 216D00         2 134519807         move    b2,b1
P:0256 77F400 FFFFFA  3 134819808         move    #-6,n7
P:0258 205F00         2 135019809         move    (r7)+
P:0259 5D6F00         4 135419811         move    b1,y:(r7+n7)
P:025A 205700         2 135619812         move    (r7)-
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 325

M:ADDR CODE           CYCLES LINE SOURCELINE
P:025B 596F00         4 136019814         move    b0,y:(r7+n7)
                            19816 
                            19817 ; 213  |        g_sdmd_HashOffset = 0;
                            19818 
P:025C 4C7000 rrrrrr  3 136319820         move    x0,y:Fg_sdmd_HashOffset
                            19821 
                            19822 ; 214  |        g_sdmd_CurLoc = 1;
                            19823 
P:025E 4D7000 rrrrrr  3 136619825         move    x1,y:Fg_sdmd_CurLoc
                            19826 
                            19827 ; 215  |        for (i=0; i<HASH_KEY_SIZE; i++) {
                            19828 
P:0260 57F400 000004  3 136919830         move    #>4,b
P:0262 239300         2 137119831         move    n4,r3
P:0263 66F400 rrrrrr  3 137419832         move    #Fg_sdmd_hash,r6
P:0265 20000B         2 137619833         tst     b
P:0266 0AF0AA rrrrrr  6 138219834         jeq     L202
P:0268 06CD00 rrrrrr  6 138819835         do      b1,L202
                            19837 
                            19838 ; 216  |                g_sdmd_hashlist[i] = g_sdmd_hash[i];
                            19839 
P:026A 4EDE00         2 139019841         move    y:(r6)+,y0
P:026B 465B00         2 139219842         move    y0,x:(r3)+
                         (4)19844 L202:
                            19846 
                            19847 ; 217  |        }
                            19848 ; 218  |        
                            19849 ; 219  |        if (g_sdmd_dir[0].CurrentCluster==0) {
                            19850 
P:026C 200003         2 139419852         tst     a
P:026D 0AF0A2 rrrrrr  6 140019853         jne     L161
                            19854 
                            19855 ; 220  |                sector = MediaTable[DeviceNum].RsvdSectors +  (MediaTable[DeviceNum].NoOfF
                                  ATs * MediaTable[DeviceNum].FATSize);
                            19856 
P:026F 3D0200         2 140219858         move    #2,n5
P:0270 000000         2 140419859         nop
P:0271 044D16         4 140819860         lua     (r5)+n5,r6
P:0272 235E00         2 141019861         move    n2,n6
P:0273 000000         2 141219862         nop
P:0274 204E00         2 141419863         move    (r6)+n6
P:0275 5FE600         2 141619864         move    y:(r6),b
P:0276 21A900         2 141819865         move    b1,b0
P:0277 216D00         2 142019866         move    b2,b1
P:0278 77F400 FFFFFC  3 142319867         move    #-4,n7
P:027A 205F00         2 142519868         move    (r7)+
P:027B 5D6F00         4 142919870         move    b1,y:(r7+n7)
P:027C 205700         2 143119871         move    (r7)-
P:027D 596F00         4 143519873         move    b0,y:(r7+n7)
P:027E 3D0300         2 143719874         move    #3,n5
P:027F 000000         2 143919875         nop
P:0280 044D16         4 144319876         lua     (r5)+n5,r6
P:0281 000000         2 144519877         nop
P:0282 204E00         2 144719878         move    (r6)+n6
P:0283 5FE600         2 144919879         move    y:(r6),b
P:0284 21A400         2 145119880         move    b1,x0
P:0285 216500         2 145319881         move    b2,x1
P:0286 3D0700         2 145519882         move    #7,n5
P:0287 000000         2 145719883         nop
P:0288 044D12         4 146119884         lua     (r5)+n5,r2
P:0289 000000         2 146319885         nop
P:028A 044A16         4 146719886         lua     (r2)+n2,r6
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 326

M:ADDR CODE           CYCLES LINE SOURCELINE
P:028B 000000         2 146919887         nop
P:028C 4EDE00         2 147119888         move    y:(r6)+,y0
P:028D 4FD600         2 147319889         move    y:(r6)-,y1
P:028E 0040F8         2 147519890         ori     #$40,mr
P:028F 000000         2 147719891         nop
P:0290 2000D8         2 147919892         mpy     y0,x0,b
P:0291 2128EA         2 148119893         mac     x1,y0,b b0,a0
P:0292 2000CA         2 148319894         mac     x0,y1,b
P:0293 212CFA         2 148519895         mac     y1,x1,b b0,a1
P:0294 00BFB8         2 148719896         andi    #$BF,mr
P:0295 212A00         2 148919897         move    b0,a2
P:0296 200022         2 149119898         asr     a
P:0297 205F00         2 149319899         move    (r7)+
P:0298 4FEF00         4 149719901         move    y:(r7+n7),y1
P:0299 205700         2 149919902         move    (r7)-
P:029A 4EEF00         4 150319904         move    y:(r7+n7),y0
P:029B 200030         2 150519905         add     y,a
                            19907 
                            19908 ; 221  |        } else {
                            19909 
P:029C 0AF080 rrrrrr  6 151119911         jmp     L162
                            19912 L161:
P:029E 77F400 FFFFF9  3 151419914         move    #-7,n7
P:02A0 000000         2 151619915         nop
P:02A1 5FEF00         4 152019916         move    y:(r7+n7),b
                            19919 
                            19920 ; 222  |                sector = Firstsectorofcluster(DeviceNum, g_sdmd_dir[0].CurrentCluster);
                            19921 
P:02A2 0BF080 rrrrrr  6 152619923         jsr     FFirstsectorofcluster
                            19927 
                            19928 ; 223  |        }
                            19929 ; 224  |        status = DataDriveReadSector(sector, DeviceNum, (INT)READ_TYPE_RANDOM, g_sdmd_Buff
                                  er);
                            19930 
                            19932 L162:
P:02A4 77F400 FFFFF9  3 152919934         move    #-7,n7
P:02A6 000000         2 153119935         nop
P:02A7 5FEF00         4 153519936         move    y:(r7+n7),b
P:02A8 60F400 rrrrrr  3 153819937         move    #Fg_sdmd_Buffer,r0
P:02AA 240000         2 154019938         move    #0,x0
P:02AB 0BF080 rrrrrr  6 154619939         jsr     FDataDriveReadSector
P:02AD 200009         2 154819940         tfr     a,b
                            19942 
                            19943 ; 225  |        if (status!=SUCCESS) {
                            19944 
P:02AE 20000B         2 155019946         tst     b
P:02AF 0AF0AA rrrrrr  6 155619947         jeq     L188
                            19948 
                            19949 ; 226  |                g_sdmd_error++;
                            19950 
P:02B1 0AF080 rrrrrr  6 156219952         jmp     L195
                            19953 
                            19954 ; 227  |                return status;
                            19955 ; 228  |        }
                            19956 ; 229  |        
                            19957 ; 230  |        // __asm("debug");
                            19958 ; 231  |        while ((g_sdmd_current_level >= 0) && (g_sdmd_HashOffset < HASH_MAX_SECTOR)) {
                            19959 ; 232  |                // scan for directory
                            19960 ; 233  |                index = g_sdmd_dir[g_sdmd_current_level].EntryIndex * 32;
                            19961 
P:02B3 4FF000 rrrrrr  3 156519963 L163:   move    y:Fg_sdmd_current_level,y1
P:02B5 0116C8         2 156719964         mpy     y1,#22,b
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 327

M:ADDR CODE           CYCLES LINE SOURCELINE
P:02B6 213E00         2 156919966         move    b0,n6
P:02B7 66F400 rrrrrr  3 157219967         move    #Fg_sdmd_dir+3,r6
P:02B9 000000         2 157419968         nop
P:02BA 204E00         2 157619969         move    (r6)+n6
P:02BB 4EE600         2 157819970         move    y:(r6),y0
P:02BC 0113E0         2 158019971         mpy     y0,#19,a
                            19973 
                            19974 ; 234  |                isfree = FSGetByte((void*)g_sdmd_Buffer, index, X_MEMORY);
                            19975 
P:02BD 60F400 rrrrrr  3 158319977         move    #Fg_sdmd_Buffer,r0
P:02BF 20001B         2 158519978         clr     b   
P:02C0 77F400 FFFFFC  3 158819979         move    #-4,n7
P:02C2 000000         2 159019980         nop
P:02C3 586F00         4 159419981         move    a0,y:(r7+n7)
P:02C4 210E00         2 159619982         move    a0,a
P:02C5 77F400 FFFFFD  3 159919985         move    #-3,n7
P:02C7 000000         2 160119986         nop
P:02C8 686F00         4 160519987         move    r0,y:(r7+n7)
P:02C9 0BF080 rrrrrr  6 161119988         jsr     FFSGetByte
P:02CB 77F400 FFFFFE  3 161419989         move    #-2,n7
P:02CD 000000         2 161619990         nop
P:02CE 5E6F00         4 162019991         move    a,y:(r7+n7)
P:02CF 77F400 FFFFFD  3 162319992         move    #-3,n7
P:02D1 000000         2 162519993         nop
P:02D2 68EF00         4 162919994         move    y:(r7+n7),r0
P:02D3 77F400 FFFFFC  3 163219995         move    #-4,n7
P:02D5 000000         2 163419996         nop
P:02D6 4CEF00         4 163819997         move    y:(r7+n7),x0
                            20001 
                            20002 ; 235  |                attr = FSGetByte((void*)g_sdmd_Buffer, index+11, X_MEMORY);
                            20003 
P:02D7 56F400 00000B  3 164120005         move    #>11,a
P:02D9 200040         2 164320006         add     x0,a
P:02DA 20001B         2 164520009         clr     b   
P:02DB 0BF080 rrrrrr  6 165120010         jsr     FFSGetByte
P:02DD 77F400 FFFFFD  3 165420011         move    #-3,n7
P:02DF 000000         2 165620012         nop
P:02E0 68EF00         4 166020013         move    y:(r7+n7),r0
P:02E1 77F400 FFFFFC  3 166320014         move    #-4,n7
P:02E3 000000         2 166520015         nop
P:02E4 4DEF00         4 166920016         move    y:(r7+n7),x1
P:02E5 77F400 FFFFFE  3 167220019         move    #-2,n7
P:02E7 000000         2 167420020         nop
P:02E8 5FEF00         4 167820021         move    y:(r7+n7),b
                            20025 
                            20026 ; 236  |
                            20027 ; 237  |                // __asm("debug");
                            20028 ; 238  |                if ((isfree!=0xe5) && ((attr&0x10)==0x10) && (attr!=0x0f) && (g_sdmd_curre
                                  nt_level < MAX_DIR_LEVEL)) {
                            20029 
P:02E9 46F400 0000E5  3 168120031         move    #>229,y0
P:02EB 20005D         2 168320032         cmp     y0,b
P:02EC 0AF0AA rrrrrr  6 168920033         jeq     L173
P:02EE 200009         2 169120034         tfr     a,b
P:02EF 47F400 000010  3 169420035         move    #>16,y1
P:02F1 20007E         2 169620036         and     y1,b
P:02F2 0AF0AA rrrrrr  6 170220038         jeq     L173
P:02F4 46F400 00000F  3 170520039         move    #>15,y0
P:02F6 200055         2 170720040         cmp     y0,a
P:02F7 0AF0AA rrrrrr  6 171320041         jeq     L173
P:02F9 5FF000 rrrrrr  3 171620042         move    y:Fg_sdmd_current_level,b
P:02FB 20005D         2 171820043         cmp     y0,b
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 328

M:ADDR CODE           CYCLES LINE SOURCELINE
P:02FC 0AF0A1 rrrrrr  6 172420044         jge     L173
                            20045 
                            20046 ; 239  |                        val = FSGetByte((void*)g_sdmd_Buffer, index+21, X_MEMORY);
                            20047 
P:02FE 56F400 000015  3 172720049         move    #>21,a
P:0300 200060         2 172920050         add     x1,a
P:0301 20001B         2 173120054         clr     b   
P:0302 0BF080 rrrrrr  6 173720055         jsr     FFSGetByte
P:0304 77F400 FFFFFD  3 174020056         move    #-3,n7
P:0306 000000         2 174220057         nop
P:0307 68EF00         4 174620058         move    y:(r7+n7),r0
P:0308 77F400 FFFFFC  3 174920059         move    #-4,n7
P:030A 000000         2 175120060         nop
P:030B 5FEF00         4 175520061         move    y:(r7+n7),b
                            20065 
                            20066 ; 240  |                        cluster = val;                  
                            20067 
P:030C 218800         2 175720069         move    a1,a0
P:030D 214C00         2 175920070         move    a2,a1
P:030E 77F400 FFFFFE  3 176220071         move    #-2,n7
P:0310 205F00         2 176420072         move    (r7)+
P:0311 5C6F00         4 176820074         move    a1,y:(r7+n7)
P:0312 205700         2 177020075         move    (r7)-
P:0313 586F00         4 177420077         move    a0,y:(r7+n7)
                            20079 
                            20080 ; 241  |                        val = FSGetByte((void*)g_sdmd_Buffer, index+20, X_MEMORY);
                            20081 
P:0314 56F400 000014  3 177720083         move    #>20,a
P:0316 200010         2 177920084         add     b,a
P:0317 20001B         2 178120088         clr     b   
P:0318 0BF080 rrrrrr  6 178720089         jsr     FFSGetByte
P:031A 77F400 FFFFFE  3 179020090         move    #-2,n7
P:031C 205F00         2 179220091         move    (r7)+
P:031D 5FEF00         4 179620093         move    y:(r7+n7),b
P:031E 205700         2 179820094         move    (r7)-
P:031F 59EF00         4 180220096         move    y:(r7+n7),b0
P:0320 77F400 FFFFFD  3 180520099         move    #-3,n7
P:0322 000000         2 180720100         nop
P:0323 68EF00         4 181120101         move    y:(r7+n7),r0
P:0324 77F400 FFFFFC  3 181420102         move    #-4,n7
P:0326 000000         2 181620103         nop
P:0327 4CEF00         4 182020104         move    y:(r7+n7),x0
                            20108 
                            20109 ; 242  |                        cluster = (cluster << 8) + val;
                            20110 
P:0328 060880 rrrrrr  6 182620112         do      #8,L206
P:032A 20003A         2 182820114         asl     b
P:032B 000000         2 183020115         nop
                         (4)20116 L206:
P:032C 218600         2 183220119         move    a1,y0
P:032D 214700         2 183420120         move    a2,y1
P:032E 200038         2 183620121         add     y,b
P:032F 77F400 FFFFFE  3 183920122         move    #-2,n7
P:0331 205F00         2 184120123         move    (r7)+
P:0332 5D6F00         4 184520125         move    b1,y:(r7+n7)
P:0333 205700         2 184720126         move    (r7)-
P:0334 596F00         4 185120128         move    b0,y:(r7+n7)
                            20130 
                            20131 ; 243  |                        val = FSGetByte((void*)g_sdmd_Buffer, index+27, X_MEMORY);
                            20132 
P:0335 56F400 00001B  3 185420134         move    #>27,a
P:0337 200040         2 185620135         add     x0,a
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 329

M:ADDR CODE           CYCLES LINE SOURCELINE
P:0338 20001B         2 185820139         clr     b   
P:0339 0BF080 rrrrrr  6 186420140         jsr     FFSGetByte
P:033B 77F400 FFFFFD  3 186720141         move    #-3,n7
P:033D 000000         2 186920142         nop
P:033E 68EF00         4 187320143         move    y:(r7+n7),r0
P:033F 77F400 FFFFFE  3 187620144         move    #-2,n7
P:0341 205F00         2 187820145         move    (r7)+
P:0342 5FEF00         4 188220147         move    y:(r7+n7),b
P:0343 205700         2 188420148         move    (r7)-
P:0344 59EF00         4 188820150         move    y:(r7+n7),b0
                            20154 
                            20155 ; 244  |                        cluster = (cluster << 8) + val;
                            20156 
P:0345 060880 rrrrrr  6 189420158         do      #8,L207
P:0347 20003A         2 189620160         asl     b
P:0348 000000         2 189820161         nop
                         (4)20162 L207:
P:0349 218600         2 190020165         move    a1,y0
P:034A 214700         2 190220166         move    a2,y1
P:034B 200038         2 190420167         add     y,b
P:034C 205F00         2 190620168         move    (r7)+
P:034D 5D6F00         4 191020170         move    b1,y:(r7+n7)
P:034E 205700         2 191220171         move    (r7)-
P:034F 596F00         4 191620173         move    b0,y:(r7+n7)
                            20175 
                            20176 ; 245  |                        val = FSGetByte((void*)g_sdmd_Buffer, index+26, X_MEMORY);
                            20177 
P:0350 56F400 00001A  3 191920179         move    #>26,a
P:0352 77F400 FFFFFC  3 192220180         move    #-4,n7
P:0354 000000         2 192420181         nop
P:0355 4EEF00         4 192820182         move    y:(r7+n7),y0
P:0356 200050         2 193020183         add     y0,a
P:0357 20001B         2 193220187         clr     b   
P:0358 0BF080 rrrrrr  6 193820188         jsr     FFSGetByte
P:035A 77F400 FFFFFE  3 194120190         move    #-2,n7
P:035C 205F00         2 194320191         move    (r7)+
P:035D 5FEF00         4 194720193         move    y:(r7+n7),b
P:035E 205700         2 194920194         move    (r7)-
P:035F 59EF00         4 195320196         move    y:(r7+n7),b0
P:0360 260000         2 195520199         move    #0,y0
                            20201 
                            20202 ; 246  |                        cluster = (cluster << 8) + val;
                            20203 
P:0361 060880 rrrrrr  6 196120205         do      #8,L208
P:0363 20003A         2 196320207         asl     b
P:0364 000000         2 196520208         nop
                         (4)20209 L208:
P:0365 218800         2 196720212         move    a1,a0
P:0366 214C00         2 196920213         move    a2,a1
P:0367 200010         2 197120215         add     b,a
                            20217 
                            20218 ; 247  |                        
                            20219 ; 248  |                        // a directory found increment level when we found one
                            20220 ; 249  |                        g_sdmd_current_level++;
                            20221 
P:0368 5FF000 rrrrrr  3 197420223         move    y:Fg_sdmd_current_level,b
P:036A 44F400 000001  3 197720224         move    #>1,x0
P:036C 200048         2 197920225         add     x0,b
P:036D 5D7000 rrrrrr  3 198220226         move    b1,y:Fg_sdmd_current_level
                            20227 
                            20228 ; 250  |                        g_sdmd_dir[g_sdmd_current_level].SectorIndex = 0;
                            20229 
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 330

M:ADDR CODE           CYCLES LINE SOURCELINE
P:036F 20003B         2 198420231         lsl     b
P:0370 20003B         2 198620232         lsl     b
P:0371 21BE00         2 198820233         move    b1,n6
P:0372 66F400 rrrrrr  3 199120234         move    #Fg_sdmd_dir+2,r6
P:0374 000000         2 199320235         nop
P:0375 204E00         2 199520236         move    (r6)+n6
P:0376 4E6600         2 199720237         move    y0,y:(r6)
                            20238 
                            20239 ; 251  |                        // skip two (as the following code will increase EntryIndex by 1) 
                                  entry as it will be "." and ".."
                            20240 ; 252  |                        g_sdmd_dir[g_sdmd_current_level].EntryIndex = 1;
                            20241 
P:0377 66F400 rrrrrr  3 200020243         move    #Fg_sdmd_dir+3,r6
P:0379 000000         2 200220244         nop
P:037A 204E00         2 200420245         move    (r6)+n6
P:037B 4C6600         2 200620246         move    x0,y:(r6)
                            20247 
                            20248 ; 253  |                        g_sdmd_dir[g_sdmd_current_level].CurrentCluster = cluster;
                            20249 
P:037C 66F400 rrrrrr  3 200920251         move    #Fg_sdmd_dir,r6
P:037E 000000         2 201120252         nop
P:037F 204E00         2 201320253         move    (r6)+n6
P:0380 585E00         2 201520254         move    a0,y:(r6)+
P:0381 5C5600         2 201720255         move    a1,y:(r6)-
                            20256 
                            20257 ; 254  |                        
                            20258 ; 255  |                        // __asm("debug");
                            20259 ; 256  |                        
                            20260 ; 257  |                        cluster = sdmd_GetDirHash(DeviceNum, cluster);
                            20261 
P:0382 77F400 FFFFF9  3 202020263         move    #-7,n7
P:0384 000000         2 202220264         nop
P:0385 5FEF00         4 202620265         move    y:(r7+n7),b
P:0386 2A0000         2 202820268         move    #0,a2
P:0387 0ACC17 rrrrrr  6 203420269         jclr    #23,a1,L209
P:0389 044AA0         2 203620270         movec   m0,a2
P:038A 0BF080 rrrrrr  6 204220271 L209:   jsr     Fsdmd_GetDirHash
P:038C 44F400 000001  3 204520275         move    #>1,x0
P:038E 218800         2 204720276         move    a1,a0
P:038F 214C00         2 204920277         move    a2,a1
                            20279 
                            20280 ; 258  |                        if (cluster == NOT_VALID_SECTOR) {
                            20281 
P:0390 57F400 FFFFFF  3 205220283         move    #>$FFFFFF,b
P:0392 51F400 FFBFE2  3 205520284         move    #$FFBFE2,b0
P:0394 200005         2 205720285         cmp     b,a
P:0395 0AF0A2 rrrrrr  6 206320286         jne     L166
                            20287 
                            20288 ; 259  |                                return NOT_VALID_SECTOR;
                            20289 
P:0397 56F400 FFBFE2  3 206620291 L165:   move    #-16414,a
P:0399 0AF080 rrrrrr  6 207220293         jmp     L200
                            20294 
                            20295 ; 260  |                        }
                            20296 
P:039B 77F400 FFFFFC  3 207520298 L166:   move    #-4,n7
P:039D 205F00         2 207720299         move    (r7)+
P:039E 5C6F00         4 208120301         move    a1,y:(r7+n7)
P:039F 205700         2 208320302         move    (r7)-
P:03A0 586F00         4 208720304         move    a0,y:(r7+n7)
                            20305 
                            20306 ; 261  |                        
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 331

M:ADDR CODE           CYCLES LINE SOURCELINE
                            20307 ; 262  |                        index = g_sdmd_CurLoc*HASH_KEY_SIZE;
                            20308 
P:03A1 4EF000 rrrrrr  3 209020310         move    y:Fg_sdmd_CurLoc,y0
P:03A3 0116E8         2 209220311         mpy     y0,#22,b
P:03A4 212500         2 209420312         move    b0,x1
                            20314 
                            20315 ; 263  |                        for (i=0; i<HASH_KEY_SIZE; i++) {
                            20316 
P:03A5 56F400 000004  3 209720318         move    #>4,a
P:03A7 20001B         2 209920319         clr     b   
P:03A8 66F400 rrrrrr  3 210220321         move    #Fg_sdmd_hash,r6
P:03AA 47F400 rrrrrr  3 210520322         move    #Fg_sdmd_hashlist,y1
P:03AC 200003         2 210720323         tst     a
P:03AD 0AF0AA rrrrrr  6 211320324         jeq     L203
P:03AF 06CC00 rrrrrr  6 211920325         do      a1,L203
                            20327 
                            20328 ; 264  |                                g_sdmd_hashlist[index + i] = g_sdmd_hash[i];
                            20329 
P:03B1 5EDE00         2 212120331         move    y:(r6)+,a
P:03B2 77F400 FFFFFE  3 212420332         move    #-2,n7
P:03B4 000000         2 212620333         nop
P:03B5 5C6F00         4 213020334         move    a1,y:(r7+n7)
P:03B6 21AE00         2 213220335         move    b1,a
P:03B7 200060         2 213420336         add     x1,a
P:03B8 219A00         2 213620337         move    a1,n2
P:03B9 20F200         2 213820338         move    y1,r2
P:03BA 000000         2 214020339         nop
P:03BB 044A13         4 214420340         lua     (r2)+n2,r3
P:03BC 5EEF00         4 214820341         move    y:(r7+n7),a
P:03BD 546300         2 215020342         move    a1,x:(r3)
P:03BE 200048         2 215220344         add     x0,b
                        (33)20345 L203:
                            20347 
                            20348 ; 265  |                        }
                            20349 ; 266  |
                            20350 ; 267  |                        g_sdmd_CurLoc++;
                            20351 
P:03BF 200059         2 215420353         tfr     y0,b
P:03C0 200048         2 215620354         add     x0,b
P:03C1 5D7000 rrrrrr  3 215920356         move    b1,y:Fg_sdmd_CurLoc
                            20357 
                            20358 ; 268  |                        if (g_sdmd_CurLoc>HASH_PER_SECTOR) {
                            20359 
P:03C3 5FF000 rrrrrr  3 216220361         move    y:Fg_sdmd_CurLoc,b
P:03C5 45F400 00002A  3 216520362         move    #>42,x1
P:03C7 20006D         2 216720363         cmp     x1,b
P:03C8 0AF0AF rrrrrr  6 217320365         jle     L169
                            20366 
                            20367 ; 269  |                                // write to disk
                            20368 ; 270  |                                sector = HASH_AREA2 + g_sdmd_HashOffset;
                            20369 
P:03CA 5FF000 rrrrrr  3 217620371         move    y:Fg_sdmd_HashOffset,b
P:03CC 46F400 001D44  3 217920372         move    #7492,y0
P:03CE 200058         2 218120373         add     y0,b
P:03CF 21A900         2 218320374         move    b1,b0
P:03D0 216D00         2 218520375         move    b2,b1
                            20377 
                            20378 ; 271  |                                temp_sec = sector;
                            20379 
P:03D1 77F400 FFFFFE  3 218820381         move    #-2,n7
P:03D3 205F00         2 219020382         move    (r7)+
P:03D4 5D6F00         4 219420384         move    b1,y:(r7+n7)
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 332

M:ADDR CODE           CYCLES LINE SOURCELINE
P:03D5 205700         2 219620385         move    (r7)-
P:03D6 596F00         4 220020387         move    b0,y:(r7+n7)
                            20391 
                            20392 ; 272  |                                get_map_sec(0x01, temp_sec, &LibSector);
                            20393 
P:03D7 77F400 FFFFF7  3 220320395         move    #-9,n7
P:03D9 000000         2 220520396         nop
P:03DA 044F1A         4 220920397         lua     (r7)+n7,n2
P:03DB 235000         2 221120398         move    n2,r0
P:03DC 56F400 000001  3 221420399         move    #>1,a
P:03DE 212F00         2 221620400         move    b0,b
P:03DF 0BF080 rrrrrr  6 222220401         jsr     Fget_map_sec
P:03E1 60F400 rrrrrr  3 222520403         move    #Fg_sdmd_hashlist,r0
                            20404 
                            20405 ; 273  |                                status = DataDriveWriteSector(NAND_DRIVE, LibSector, g_sdm
                                  d_hashlist, (INT)WRITE_TYPE_RANDOM);    
                            20406 
P:03E3 77F400 FFFFF7  3 222820408         move    #-9,n7
P:03E5 205F00         2 223020409         move    (r7)+
P:03E6 5EEF00         4 223420411         move    y:(r7+n7),a
P:03E7 205700         2 223620412         move    (r7)-
P:03E8 58EF00         4 224020414         move    y:(r7+n7),a0
P:03E9 20001B         2 224220415         clr     b   
P:03EA 240000         2 224420416         move    #0,x0
P:03EB 0BF080 rrrrrr  6 225020417         jsr     FDataDriveWriteSector
P:03ED 77F400 FFFFF7  3 225320418         move    #-9,n7
P:03EF 000000         2 225520419         nop
P:03F0 044F10         4 225920420         lua     (r7)+n7,r0
P:03F1 260000         2 226120421         move    #0,y0
P:03F2 63F400 rrrrrr  3 226420422         move    #Fg_sdmd_hashlist,r3
P:03F4 200009         2 226620423         tfr     a,b
                            20425 
                            20426 ; 274  |                                if (status!=SUCCESS) {
                            20427 
P:03F5 200003         2 226820429         tst     a
P:03F6 0AF0A2 rrrrrr  6 227420430         jne     L195
                            20431 
                            20432 ; 275  |                                        g_sdmd_error++;
                            20433 ; 276  |                                        return status;
                            20434 ; 277  |                                }
                            20435 ; 278  |                                g_sdmd_CurLoc = 0;
                            20436 
P:03F8 4E7000 rrrrrr  3 227720438         move    y0,y:Fg_sdmd_CurLoc
                            20440 
                            20441 ; 279  |                                for (i=0; i<BUFFER_SIZE; i++) {
                            20442 
P:03FA 06AB80 rrrrrr  6 228320444         do      #171,L204
                            20446 
                            20447 ; 280  |                                        g_sdmd_hashlist[i] = 0x000000;
                            20448 
P:03FC 465B00         2 228520450         move    y0,x:(r3)+
P:03FD 000000         2 228720452         nop
                         (4)20453 L204:
                            20456 
                            20457 ; 281  |                                }
                            20458 ; 282  |
                            20459 ; 283  |                                // erase the next hash sector so that when CompareHash ret
                                  urn an error, 
                            20460 ; 284  |                                // the compare hash can still correctly detect media chang
                                  e, Astley 13/3/2005 16:43                               
                            20461 ; 285  |                                sector++;
                            20462 
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 333

M:ADDR CODE           CYCLES LINE SOURCELINE
P:03FE 77F400 FFFFFE  3 229020464         move    #-2,n7
P:0400 205F00         2 229220465         move    (r7)+
P:0401 5FEF00         4 229620467         move    y:(r7+n7),b
P:0402 205700         2 229820468         move    (r7)-
P:0403 59EF00         4 230220470         move    y:(r7+n7),b0
P:0404 000009         2 230420471         inc     b
                            20478 
                            20479 ; 286  |                                temp_sec = sector;
                            20480 
P:0405 212F00         2 230620482         move    b0,b
                            20484 
                            20485 ; 287  |                                get_map_sec(0x01, temp_sec, &LibSector);
                            20486 
P:0406 56F400 000001  3 230920488         move    #>1,a
P:0408 0BF080 rrrrrr  6 231520489         jsr     Fget_map_sec
                            20491 
                            20492 ; 288  |                                status = DataDriveWriteSector(NAND_DRIVE, LibSector, g_sdm
                                  d_hashlist, (INT)WRITE_TYPE_RANDOM);    
                            20493 
P:040A 77F400 FFFFF7  3 231820495         move    #-9,n7
P:040C 205F00         2 232020496         move    (r7)+
P:040D 5EEF00         4 232420498         move    y:(r7+n7),a
P:040E 205700         2 232620499         move    (r7)-
P:040F 58EF00         4 233020501         move    y:(r7+n7),a0
P:0410 20001B         2 233220502         clr     b   
P:0411 240000         2 233420503         move    #0,x0
P:0412 60F400 rrrrrr  3 233720504         move    #Fg_sdmd_hashlist,r0
P:0414 0BF080 rrrrrr  6 234320505         jsr     FDataDriveWriteSector
P:0416 46F400 000001  3 234620506         move    #>1,y0
P:0418 200009         2 234820507         tfr     a,b
                            20509 
                            20510 ; 289  |                                if (status!=SUCCESS) {
                            20511 
P:0419 20000B         2 235020513         tst     b
P:041A 0AF0A2 rrrrrr  6 235620514         jne     L195
                            20515 
                            20516 ; 290  |                                        g_sdmd_error++;
                            20517 ; 291  |                                        return status;
                            20518 ; 292  |                                }
                            20519 ; 293  |                                
                            20520 ; 294  |                                g_sdmd_HashOffset++;
                            20521 
P:041C 5EF000 rrrrrr  3 235920523         move    y:Fg_sdmd_HashOffset,a
P:041E 200050         2 236120524         add     y0,a
P:041F 5C7000 rrrrrr  3 236420525         move    a1,y:Fg_sdmd_HashOffset
                            20526 
                            20527 ; 295  |                        }
                            20528 
P:0421 77F400 FFFFF9  3 236720530 L169:   move    #-7,n7
P:0423 000000         2 236920531         nop
P:0424 5FEF00         4 237320532         move    y:(r7+n7),b
                            20536 
                            20537 ; 296  |                        
                            20538 ; 297  |                        sector = Firstsectorofcluster(DeviceNum, cluster);
                            20539 
P:0425 77F400 FFFFFC  3 237620541         move    #-4,n7
P:0427 205F00         2 237820542         move    (r7)+
P:0428 5EEF00         4 238220544         move    y:(r7+n7),a
P:0429 205700         2 238420545         move    (r7)-
P:042A 58EF00         4 238820547         move    y:(r7+n7),a0
P:042B 0BF080 rrrrrr  6 239420548         jsr     FFirstsectorofcluster
P:042D 77F400 FFFFF9  3 239720551         move    #-7,n7
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 334

M:ADDR CODE           CYCLES LINE SOURCELINE
P:042F 000000         2 239920552         nop
P:0430 5FEF00         4 240320553         move    y:(r7+n7),b
                            20560 
                            20561 ; 298  |                        status = DataDriveReadSector(sector, DeviceNum, (INT)READ_TYPE_RAN
                                  DOM, g_sdmd_Buffer);
                            20562 
P:0431 240000         2 240520564         move    #0,x0
P:0432 60F400 rrrrrr  3 240820565         move    #Fg_sdmd_Buffer,r0
P:0434 0BF080 rrrrrr  6 241420566         jsr     FDataDriveReadSector
P:0436 200009         2 241620567         tfr     a,b
                            20569 
                            20570 ; 299  |                        if (status!=SUCCESS) {
                            20571 
P:0437 200003         2 241820573         tst     a
P:0438 0AF0A2 rrrrrr  6 242420574         jne     L195
                            20575 
                            20576 ; 300  |                                g_sdmd_error++;
                            20577 ; 301  |                                return status;
                            20578 ; 302  |                        }
                            20579 ; 303  |                        // __asm("debug");
                            20580 ; 304  |                }
                            20581 ; 305  |
                            20582 ; 306  |                do {
                            20583 
P:043A 45F400 000001  3 242720585 L173:   move    #>1,x1
P:043C 77F400 FFFFF9  3 243020586         move    #-7,n7
P:043E 000000         2 243220587         nop
P:043F 4CEF00         4 243620588         move    y:(r7+n7),x0
P:0440 46F400 00001C  3 243920589         move    #>28,y0
P:0442 2000D8         2 244120590         mpy     x0,y0,b
P:0443 20002A         2 244320591         asr     b
P:0444 77F400 FFFFFC  3 244620592         move    #-4,n7
P:0446 000000         2 244820593         nop
P:0447 596F00         4 245220594         move    b0,y:(r7+n7)
                            20595 
                            20596 ; 307  |                        ExitRecursive = 0;
                            20597 
P:0448 2D0000         2 245420599 L174:   move    #0,b1
P:0449 77F400 FFFFFD  3 245720601         move    #-3,n7
P:044B 000000         2 245920602         nop
P:044C 5D6F00         4 246320603         move    b1,y:(r7+n7)
                            20606 
                            20607 ; 308  |                        g_sdmd_dir[g_sdmd_current_level].EntryIndex++;
                            20608 
P:044D 4EF000 rrrrrr  3 246620610         move    y:Fg_sdmd_current_level,y0
P:044F 0116E8         2 246820611         mpy     y0,#22,b
P:0450 213900         2 247020613         move    b0,n1
P:0451 61F400 rrrrrr  3 247320614         move    #Fg_sdmd_dir+3,r1
P:0453 000000         2 247520615         nop
P:0454 044916         4 247920616         lua     (r1)+n1,r6
P:0455 000000         2 248120617         nop
P:0456 5EE600         2 248320618         move    y:(r6),a
P:0457 200060         2 248520619         add     x1,a
P:0458 5C6600         2 248720620         move    a1,y:(r6)
                            20621 
                            20622 ; 309  |                        if (g_sdmd_dir[g_sdmd_current_level].EntryIndex >= 512/32) {
                            20623 
P:0459 45F400 000010  3 249020625         move    #>16,x1
P:045B 200065         2 249220626         cmp     x1,a
P:045C 0AF0A9 rrrrrr  6 249820627         jlt     L177
                            20628 
                            20629 ; 310  |                                // advance to next sector
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 335

M:ADDR CODE           CYCLES LINE SOURCELINE
                            20630 ; 311  |                                g_sdmd_dir[g_sdmd_current_level].EntryIndex = 0;
                            20631 
P:045E 20001B         2 250020633         clr     b   
P:045F 5F6600         2 250220634         move    b,y:(r6)
                            20635 
                            20636 ; 312  |                                g_sdmd_dir[g_sdmd_current_level].SectorIndex++;
                            20637 
P:0460 66F400 rrrrrr  3 250520639         move    #Fg_sdmd_dir+2,r6
P:0462 233E00         2 250720640         move    n1,n6
P:0463 000000         2 250920641         nop
P:0464 204E00         2 251120642         move    (r6)+n6
P:0465 5FE600         2 251320643         move    y:(r6),b
P:0466 47F400 000001  3 251620644         move    #>1,y1
P:0468 200078         2 251820645         add     y1,b
P:0469 5D6600         2 252020646         move    b1,y:(r6)
                            20647 
                            20648 ; 313  |                                if (g_sdmd_current_level == 0 && MediaTable[DeviceNum].FAT
                                  Type != FAT32) {
                            20649 
P:046A 200051         2 252220651         tfr     y0,a
P:046B 200003         2 252420652         tst     a
P:046C 0AF0A2 rrrrrr  6 253020653         jne     L176
P:046E 6DF000 rrrrrr  3 253320654         move    y:FMediaTable,r5
P:0470 3D1100         2 253520655         move    #17,n5
P:0471 000000         2 253720656         nop
P:0472 204D00         2 253920657         move    (r5)+n5
P:0473 77F400 FFFFFC  3 254220658         move    #-4,n7
P:0475 000000         2 254420659         nop
P:0476 4EEF00         4 254820660         move    y:(r7+n7),y0
P:0477 20DD00         2 255020661         move    y0,n5
P:0478 000000         2 255220662         nop
P:0479 204D00         2 255420663         move    (r5)+n5
P:047A 5EE500         2 255620664         move    y:(r5),a
P:047B 46F400 000002  3 255920665         move    #>2,y0
P:047D 200055         2 256120666         cmp     y0,a
P:047E 0AF0AA rrrrrr  6 256720667         jeq     L176
                            20668 
                            20669 ; 314  |                                        // we're at root directory, special handle for FAT
                                  16/FAT12
                            20670 ; 315  |                                        if (g_sdmd_dir[g_sdmd_current_level].SectorIndex >
                                  = NumRootSectors) {
                            20671 
P:0480 21A900         2 256920673         move    b1,b0
P:0481 216D00         2 257120674         move    b2,b1
P:0482 77F400 FFFFFA  3 257420675         move    #-6,n7
P:0484 205F00         2 257620676         move    (r7)+
P:0485 5EEF00         4 258020678         move    y:(r7+n7),a
P:0486 205700         2 258220679         move    (r7)-
P:0487 58EF00         4 258620681         move    y:(r7+n7),a0
P:0488 20000D         2 258820682         cmp     a,b
P:0489 0AF0A1 rrrrrr  6 259420683         jge     L184
                            20684 
                            20685 ; 316  |                                                // we're at the end of the directory, go b
                                  ack one level
                            20686 ; 317  |                                                g_sdmd_current_level--;
                            20687 ; 318  |                                                continue;
                            20688 ; 319  |                                        }
                            20689 ; 320  |                                        // first root sector + index
                            20690 ; 321  |                                        sector = MediaTable[DeviceNum].RsvdSectors +  (Med
                                  iaTable[DeviceNum].NoOfFATs * MediaTable[DeviceNum].FATSize) + g_sdmd_dir[g_sdmd_current_level].Se
                                  ctorIndex;
                            20691 
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 336

M:ADDR CODE           CYCLES LINE SOURCELINE
P:048B 0AF080 rrrrrr  6 260020693         jmp     L178
                            20694 
                            20695 ; 322  |                                        status = DataDriveReadSector(sector, DeviceNum, (I
                                  NT)READ_TYPE_RANDOM, g_sdmd_Buffer);
                            20696 ; 323  |                                        if (status!=SUCCESS) {
                            20697 ; 324  |                                                g_sdmd_error++;
                            20698 ; 325  |                                                return status;
                            20699 ; 326  |                                        }
                            20700 ; 327  |                                        // __asm("debug");
                            20701 ; 328  |                                } else {
                            20702 ; 329  |                                        // using cluster concept to deal with the director
                                  y structure
                            20703 ; 330  |                                        if (g_sdmd_dir[g_sdmd_current_level].SectorIndex >
                                  = MediaTable[DeviceNum].SectorsPerCluster) {
                            20704 
P:048D 6DF000 rrrrrr  3 260320706 L176:   move    y:FMediaTable,r5
P:048F 000000         2 260520707         nop
P:0490 205D00         2 260720708         move    (r5)+
P:0491 77F400 FFFFFC  3 261020709         move    #-4,n7
P:0493 000000         2 261220710         nop
P:0494 5EEF00         4 261620711         move    y:(r7+n7),a
P:0495 21DD00         2 261820712         move    a,n5
P:0496 000000         2 262020713         nop
P:0497 204D00         2 262220714         move    (r5)+n5
P:0498 4EE500         2 262420715         move    y:(r5),y0
P:0499 20005D         2 262620716         cmp     y0,b
P:049A 0AF0A9 rrrrrr  6 263220717         jlt     L182
                            20718 
                            20719 ; 331  |                                                // advance to next cluster
                            20720 ; 332  |                                                g_sdmd_dir[g_sdmd_current_level].SectorInd
                                  ex = 0;
                            20721 
P:049C 20001B         2 263420723         clr     b   
P:049D 5F6600         2 263620724         move    b,y:(r6)
                            20725 
                            20726 ; 333  |                                                cluster = Findnextcluster(DeviceNum, g_sdm
                                  d_dir[g_sdmd_current_level].CurrentCluster);
                            20727 
P:049E 61F400 rrrrrr  3 263920729         move    #Fg_sdmd_dir,r1
P:04A0 000000         2 264120730         nop
P:04A1 044916         4 264520731         lua     (r1)+n1,r6
P:04A2 000000         2 264720732         nop
P:04A3 205E00         2 264920733         move    (r6)+
P:04A4 5ED600         2 265120734         move    y:(r6)-,a
P:04A5 58E600         2 265320735         move    y:(r6),a0
P:04A6 77F400 FFFFF9  3 265620736         move    #-7,n7
P:04A8 000000         2 265820737         nop
P:04A9 5FEF00         4 266220738         move    y:(r7+n7),b
P:04AA 0BF080 rrrrrr  6 266820741         jsr     FFindnextcluster
                            20745 
                            20746 ; 334  |                                                if (cluster == FS_EOF) {
                            20747 
P:04AC 57F400 FFFFFF  3 267120749         move    #>$FFFFFF,b
P:04AE 51F400 FFBFFA  3 267420750         move    #$FFBFFA,b0
P:04B0 200005         2 267620751         cmp     b,a
P:04B1 0AF0A2 rrrrrr  6 268220752         jne     L179
                            20753 
                            20754 ; 335  |                                                        // we're at the end of the directo
                                  ry, go back one level
                            20755 ; 336  |                                                        g_sdmd_current_level--;
                            20756 
P:04B3 5FF000 rrrrrr  3 268520758         move    y:Fg_sdmd_current_level,b
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 337

M:ADDR CODE           CYCLES LINE SOURCELINE
P:04B5 46F400 000001  3 268820759         move    #>1,y0
P:04B7 20005C         2 269020760         sub     y0,b
P:04B8 5D7000 rrrrrr  3 269320761         move    b1,y:Fg_sdmd_current_level
                            20762 
                            20763 ; 337  |                                                        ExitRecursive = 1;
                            20764 
P:04BA 200051         2 269520766         tfr     y0,a
P:04BB 77F400 FFFFFD  3 269820769         move    #-3,n7
P:04BD 000000         2 270020770         nop
P:04BE 5E6F00         4 270420771         move    a,y:(r7+n7)
                            20774 
                            20775 ; 338  |                                continue;
                            20776 
P:04BF 0AF080 rrrrrr  6 271020778         jmp     L186
                            20779 
                            20780 ; 339  |                                                }
                            20781 ; 340  |                                                g_sdmd_dir[g_sdmd_current_level].CurrentCl
                                  uster = cluster;
                            20782 ; 341  |                                        }
                            20783 ; 342  |                                        sector = Firstsectorofcluster(DeviceNum, g_sdmd_di
                                  r[g_sdmd_current_level].CurrentCluster) + g_sdmd_dir[g_sdmd_current_level].SectorIndex;
                            20784 ; 343  |                                        status = DataDriveReadSector(sector, DeviceNum, (I
                                  NT)READ_TYPE_RANDOM, g_sdmd_Buffer);
                            20785 ; 344  |                                        if (status!=SUCCESS) {
                            20786 ; 345  |                                                g_sdmd_error++;
                            20787 ; 346  |                                                return status;
                            20788 ; 347  |                                        }
                            20789 ; 348  |                                }
                            20790 ; 349  |                        } else {
                            20791 ; 350  |                                if (g_sdmd_current_level == 0 && MediaTable[DeviceNum].FAT
                                  Type != FAT32) {
                            20792 
P:04C1 5FF000 rrrrrr  3 271320794 L177:   move    y:Fg_sdmd_current_level,b
P:04C3 20000B         2 271520795         tst     b
P:04C4 0AF0A2 rrrrrr  6 272120796         jne     L182
P:04C6 6EF000 rrrrrr  3 272420797         move    y:FMediaTable,r6
P:04C8 3E1100         2 272620798         move    #17,n6
P:04C9 000000         2 272820799         nop
P:04CA 204E00         2 273020800         move    (r6)+n6
P:04CB 77F400 FFFFFC  3 273320801         move    #-4,n7
P:04CD 000000         2 273520802         nop
P:04CE 4CEF00         4 273920803         move    y:(r7+n7),x0
P:04CF 209E00         2 274120804         move    x0,n6
P:04D0 000000         2 274320805         nop
P:04D1 204E00         2 274520806         move    (r6)+n6
P:04D2 5FE600         2 274720807         move    y:(r6),b
P:04D3 44F400 000002  3 275020808         move    #>2,x0
P:04D5 20004D         2 275220809         cmp     x0,b
P:04D6 0AF0AA rrrrrr  6 275820810         jeq     L182
                            20811 
                            20812 ; 351  |                                        // first root sector + index
                            20813 ; 352  |                                        sector = MediaTable[DeviceNum].RsvdSectors +  (Med
                                  iaTable[DeviceNum].NoOfFATs * MediaTable[DeviceNum].FATSize) + g_sdmd_dir[g_sdmd_current_level].Se
                                  ctorIndex;
                            20814 
P:04D8 6EF000 rrrrrr  3 276120816 L178:   move    y:FMediaTable,r6
P:04DA 3E0200         2 276320817         move    #2,n6
P:04DB 000000         2 276520818         nop
P:04DC 044E15         4 276920819         lua     (r6)+n6,r5
P:04DD 77F400 FFFFFC  3 277220820         move    #-4,n7
P:04DF 000000         2 277420821         nop
P:04E0 59EF00         4 277820822         move    y:(r7+n7),b0
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 338

M:ADDR CODE           CYCLES LINE SOURCELINE
P:04E1 213D00         2 278020823         move    b0,n5
P:04E2 213C00         2 278220824         move    b0,n4
P:04E3 204D00         2 278420825         move    (r5)+n5
P:04E4 5FE500         2 278620826         move    y:(r5),b
P:04E5 21A900         2 278820827         move    b1,b0
P:04E6 216D00         2 279020828         move    b2,b1
P:04E7 77F400 FFFFFE  3 279320829         move    #-2,n7
P:04E9 205F00         2 279520830         move    (r7)+
P:04EA 5D6F00         4 279920832         move    b1,y:(r7+n7)
P:04EB 205700         2 280120833         move    (r7)-
P:04EC 596F00         4 280520835         move    b0,y:(r7+n7)
P:04ED 3E0300         2 280720836         move    #3,n6
P:04EE 000000         2 280920837         nop
P:04EF 044E15         4 281320838         lua     (r6)+n6,r5
P:04F0 000000         2 281520839         nop
P:04F1 204D00         2 281720840         move    (r5)+n5
P:04F2 5FE500         2 281920841         move    y:(r5),b
P:04F3 21A400         2 282120842         move    b1,x0
P:04F4 216500         2 282320843         move    b2,x1
P:04F5 3E0700         2 282520844         move    #7,n6
P:04F6 000000         2 282720845         nop
P:04F7 044E14         4 283120846         lua     (r6)+n6,r4
P:04F8 000000         2 283320847         nop
P:04F9 044C16         4 283720848         lua     (r4)+n4,r6
P:04FA 000000         2 283920849         nop
P:04FB 4EDE00         2 284120850         move    y:(r6)+,y0
P:04FC 4FD600         2 284320851         move    y:(r6)-,y1
P:04FD 0040F8         2 284520852         ori     #$40,mr
P:04FE 000000         2 284720853         nop
P:04FF 2000D0         2 284920854         mpy     y0,x0,a
P:0500 2109E2         2 285120855         mac     x1,y0,a a0,b0
P:0501 2000C2         2 285320856         mac     x0,y1,a
P:0502 210DF2         2 285520857         mac     y1,x1,a a0,b1
P:0503 00BFB8         2 285720858         andi    #$BF,mr
P:0504 210B00         2 285920859         move    a0,b2
P:0505 20002A         2 286120860         asr     b
P:0506 205F00         2 286320861         move    (r7)+
P:0507 5EEF00         4 286720863         move    y:(r7+n7),a
P:0508 205700         2 286920864         move    (r7)-
P:0509 58EF00         4 287320866         move    y:(r7+n7),a0
P:050A 200018         2 287520867         add     a,b
P:050B 212400         2 287720868         move    b0,x0
P:050C 21A500         2 287920869         move    b1,x1
P:050D 4EF000 rrrrrr  3 288220870         move    y:Fg_sdmd_current_level,y0
P:050F 0116E8         2 288420871         mpy     y0,#22,b
P:0510 213E00         2 288620872         move    b0,n6
P:0511 66F400 rrrrrr  3 288920873         move    #Fg_sdmd_dir+2,r6
P:0513 000000         2 289120874         nop
P:0514 204E00         2 289320875         move    (r6)+n6
P:0515 5EE600         2 289520876         move    y:(r6),a
P:0516 218800         2 289720878         move    a1,a0
P:0517 214C00         2 289920879         move    a2,a1
P:0518 200020         2 290120880         add     x,a
                            20882 
                            20883 ; 353  |                                        status = DataDriveReadSector(sector, DeviceNum, (I
                                  NT)READ_TYPE_RANDOM, g_sdmd_Buffer);
                            20884 
P:0519 0AF080 rrrrrr  6 290720886         jmp     L183
                            20888 L179:
P:051B 4DF000 rrrrrr  3 291020890         move    y:Fg_sdmd_current_level,x1
P:051D 0116F8         2 291220891         mpy     x1,#22,b
P:051E 213900         2 291420892         move    b0,n1
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 339

M:ADDR CODE           CYCLES LINE SOURCELINE
P:051F 61F400 rrrrrr  3 291720893         move    #Fg_sdmd_dir,r1
P:0521 000000         2 291920894         nop
P:0522 044916         4 292320895         lua     (r1)+n1,r6
P:0523 000000         2 292520896         nop
P:0524 585E00         2 292720897         move    a0,y:(r6)+
P:0525 5C5600         2 292920898         move    a1,y:(r6)-
                            20899 
                            20900 ; 354  |                                        if (status!=SUCCESS) {
                            20901 ; 355  |                                                g_sdmd_error++;
                            20902 ; 356  |                                                return status;
                            20903 ; 357  |                                        }
                            20904 ; 358  |                                } else {
                            20905 ; 359  |                                        sector = Firstsectorofcluster(DeviceNum, g_sdmd_di
                                  r[g_sdmd_current_level].CurrentCluster) + g_sdmd_dir[g_sdmd_current_level].SectorIndex;
                            20906 
P:0526 4EF000 rrrrrr  3 293220908 L182:   move    y:Fg_sdmd_current_level,y0
P:0528 0116E8         2 293420909         mpy     y0,#22,b
P:0529 213E00         2 293620910         move    b0,n6
P:052A 66F400 rrrrrr  3 293920911         move    #Fg_sdmd_dir,r6
P:052C 000000         2 294120912         nop
P:052D 204E00         2 294320913         move    (r6)+n6
P:052E 205E00         2 294520914         move    (r6)+
P:052F 5ED600         2 294720915         move    y:(r6)-,a
P:0530 58E600         2 294920916         move    y:(r6),a0
P:0531 77F400 FFFFF9  3 295220917         move    #-7,n7
P:0533 000000         2 295420918         nop
P:0534 5FEF00         4 295820919         move    y:(r7+n7),b
P:0535 0BF080 rrrrrr  6 296420922         jsr     FFirstsectorofcluster
P:0537 4EF000 rrrrrr  3 296720925         move    y:Fg_sdmd_current_level,y0
P:0539 0116E8         2 296920926         mpy     y0,#22,b
P:053A 213E00         2 297120927         move    b0,n6
P:053B 66F400 rrrrrr  3 297420928         move    #Fg_sdmd_dir+2,r6
P:053D 000000         2 297620929         nop
P:053E 204E00         2 297820930         move    (r6)+n6
P:053F 5FE600         2 298020931         move    y:(r6),b
P:0540 21A600         2 298220932         move    b1,y0
P:0541 216700         2 298420933         move    b2,y1
P:0542 200030         2 298620934         add     y,a
                            20936 
                            20937 ; 360  |                                        status = DataDriveReadSector(sector, DeviceNum, (I
                                  NT)READ_TYPE_RANDOM, g_sdmd_Buffer);
                            20938 
                            20940 L183:
P:0543 77F400 FFFFF9  3 298920942         move    #-7,n7
P:0545 000000         2 299120943         nop
P:0546 5FEF00         4 299520944         move    y:(r7+n7),b
P:0547 240000         2 299720945         move    #0,x0
P:0548 60F400 rrrrrr  3 300020946         move    #Fg_sdmd_Buffer,r0
P:054A 0BF080 rrrrrr  6 300620947         jsr     FDataDriveReadSector
P:054C 200009         2 300820948         tfr     a,b
                            20950 
                            20951 ; 361  |                                        if (status!=SUCCESS) {
                            20952 
P:054D 200003         2 301020954         tst     a
P:054E 0AF0AA rrrrrr  6 301620955         jeq     L186
                            20956 
                            20957 ; 362  |                                                g_sdmd_error++;
                            20958 
P:0550 0AF080 rrrrrr  6 302220960         jmp     L195
P:0552 5FF000 rrrrrr  3 302520962 L184:   move    y:Fg_sdmd_current_level,b
P:0554 20007C         2 302720964         sub     y1,b
P:0555 5D7000 rrrrrr  3 303020965         move    b1,y:Fg_sdmd_current_level
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 340

M:ADDR CODE           CYCLES LINE SOURCELINE
                            20966 
                            20967 ; 363  |                                                return status;
                            20968 ; 364  |                                        }
                            20969 ; 365  |                                }
                            20970 ; 366  |                        }
                            20971 ; 367  |                } while (ExitRecursive==1 && (g_sdmd_current_level >= 0));
                            20972 
P:0557 45F400 000001  3 303320974 L186:   move    #>1,x1
P:0559 77F400 FFFFFD  3 303620975         move    #-3,n7
P:055B 000000         2 303820976         nop
P:055C 5FEF00         4 304220977         move    y:(r7+n7),b
P:055D 20006D         2 304420978         cmp     x1,b
P:055E 0AF0A2 rrrrrr  6 305020981         jne     L188
P:0560 5FF000 rrrrrr  3 305320982         move    y:Fg_sdmd_current_level,b
P:0562 20000B         2 305520984         tst     b
P:0563 0AF0A1 rrrrrr  6 306120985         jge     L174
P:0565 5EF000 rrrrrr  3 306420987 L188:   move    y:Fg_sdmd_current_level,a
P:0567 200003         2 306620988         tst     a
P:0568 0AF0A9 rrrrrr  6 307220989         jlt     L189
P:056A 5FF000 rrrrrr  3 307520990         move    y:Fg_sdmd_HashOffset,b
P:056C 46F400 000032  3 307820991         move    #>50,y0
P:056E 20005D         2 308020992         cmp     y0,b
P:056F 0AF0A9 rrrrrr  6 308620993         jlt     L163
                            20994 
                            20995 ; 368  |        }
                            20996 ; 369  |
                            20997 ; 370  |        if (g_sdmd_CurLoc>0) {
                            20998 
P:0571 5EF000 rrrrrr  3 308921000 L189:   move    y:Fg_sdmd_CurLoc,a
P:0573 200003         2 309121001         tst     a
P:0574 0AF0AF rrrrrr  6 309721002         jle     L198
                            21003 
                            21004 ; 371  |                // write to disk
                            21005 ; 372  |                sector = HASH_AREA2 + g_sdmd_HashOffset;
                            21006 
P:0576 5FF000 rrrrrr  3 310021008         move    y:Fg_sdmd_HashOffset,b
P:0578 47F400 001D44  3 310321009         move    #7492,y1
P:057A 200078         2 310521010         add     y1,b
P:057B 21A900         2 310721011         move    b1,b0
P:057C 216D00         2 310921012         move    b2,b1
                            21016 
                            21017 ; 373  |                temp_sec = sector;
                            21018 ; 374  |                get_map_sec(0x01, temp_sec, &LibSector);
                            21019 
P:057D 77F400 FFFFF7  3 311221021         move    #-9,n7
P:057F 000000         2 311421022         nop
P:0580 044F10         4 311821023         lua     (r7)+n7,r0
P:0581 56F400 000001  3 312121024         move    #>1,a
P:0583 212F00         2 312321025         move    b0,b
P:0584 0BF080 rrrrrr  6 312921026         jsr     Fget_map_sec
                            21028 
                            21029 ; 375  |                status = DataDriveWriteSector(NAND_DRIVE, LibSector, g_sdmd_hashlist, (INT
                                  )WRITE_TYPE_RANDOM);
                            21030 
P:0586 77F400 FFFFF7  3 313221032         move    #-9,n7
P:0588 205F00         2 313421033         move    (r7)+
P:0589 5EEF00         4 313821035         move    y:(r7+n7),a
P:058A 205700         2 314021036         move    (r7)-
P:058B 58EF00         4 314421038         move    y:(r7+n7),a0
P:058C 20001B         2 314621039         clr     b   
P:058D 60F400 rrrrrr  3 314921040         move    #Fg_sdmd_hashlist,r0
P:058F 240000         2 315121041         move    #0,x0
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 341

M:ADDR CODE           CYCLES LINE SOURCELINE
P:0590 0BF080 rrrrrr  6 315721042         jsr     FDataDriveWriteSector
P:0592 200009         2 315921043         tfr     a,b
                            21045 
                            21046 ; 376  |                if (status!=SUCCESS) {
                            21047 
P:0593 200003         2 316121049         tst     a
P:0594 0AF0AA rrrrrr  6 316721050         jeq     L196
                            21051 
                            21052 ; 377  |                        g_sdmd_error++;
                            21053 
P:0596 5EF000 rrrrrr  3 317021055 L195:   move    y:Fg_sdmd_error,a
P:0598 44F400 000001  3 317321056         move    #>1,x0
P:059A 200040         2 317521057         add     x0,a
P:059B 5C7000 rrrrrr  3 317821058         move    a1,y:Fg_sdmd_error
                            21059 
                            21060 ; 378  |                        return status;
                            21061 
P:059D 21AE00         2 318021063         move    b1,a
P:059E 0AF080 rrrrrr  6 318621066         jmp     L200
                            21067 
                            21068 ; 379  |                }
                            21069 ; 380  |                g_sdmd_CurLoc = 0;
                            21070 
P:05A0 20001B         2 318821072 L196:   clr     b   
P:05A1 5F7000 rrrrrr  3 319121073         move    b,y:Fg_sdmd_CurLoc
                            21075 
                            21076 ; 381  |                for (i=0; i<BUFFER_SIZE; i++) {
                            21077 
P:05A3 63F400 rrrrrr  3 319421079         move    #Fg_sdmd_hashlist,r3
P:05A5 06AB80 rrrrrr  6 320021080         do      #171,L205
                            21082 
                            21083 ; 382  |                        g_sdmd_hashlist[i] = 0x000000;
                            21084 
P:05A7 20001B         2 320221086         clr     b   
P:05A8 575B00         2 320421087         move    b,x:(r3)+
                         (4)21089 L205:
                            21091 
                            21092 ; 383  |                }
                            21093 ; 384  |                g_sdmd_HashOffset++;
                            21094 
P:05A9 5FF000 rrrrrr  3 320721096         move    y:Fg_sdmd_HashOffset,b
P:05AB 46F400 000001  3 321021097         move    #>1,y0
P:05AD 200058         2 321221098         add     y0,b
P:05AE 5D7000 rrrrrr  3 321521099         move    b1,y:Fg_sdmd_HashOffset
                            21100 
                            21101 ; 385  |        }
                            21102 ; 386  |        
                            21103 ; 387  |        return SUCCESS;
                            21104 
P:05B0 200013         2 321721106 L198:   clr     a   
                            21108 
                            21109 ; 388  |}
                            21110 
P:05B1 77F400 FFFFF6  3 322021112 L200:   move    #-10,n7
P:05B3 000000         2 322221113         nop
P:05B4 05EF7C         4 322621114         movec   y:(r7+n7),ssh
P:05B5 204F00         2 322821116         move    (r7)+n7
P:05B6 00000C         4 323221118         rts
                            21123 
                            21124 ; 389  |
                            21125 ; 390  |RETCODE _reentrant sdmd_CompareHash (INT DeviceNum, INT b, INT* pPtr)
                            21126 ; 391  |{
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 342

M:ADDR CODE           CYCLES LINE SOURCELINE
                            21127 
                            21134 Fsdmd_CompareHash:
P:05B7 055F7C         2 323421135         movec   ssh,y:(r7)+
P:05B8 3F0300         2 323621138         move    #3,n7
P:05B9 000000         2 323821139         nop
P:05BA 204F00         2 324021140         move    (r7)+n7
                            21163 
                            21164 ; 392  |        int i, j, k, l;
                            21165 ; 393  |        long sector;
                            21166 ; 394  |        RETCODE status;
                            21167 ; 395  |        uint24 temp_sec;
                            21168 ; 396  |        long    LibSector;
                            21169 ; 397  |        
                            21170 ; 398  |        if (sdmd_GenerateHash(DeviceNum)!=SUCCESS) {
                            21171 
P:05BB 0BF080 rrrrrr  6 324621173         jsr     Fsdmd_GenerateHash
P:05BD 200003         2 324821177         tst     a
P:05BE 0AF0A2 rrrrrr  6 325421178         jne     L223
                            21179 
                            21180 ; 399  |                return -1;
                            21181 ; 400  |        }
                            21182 ; 401  |        for (i=0; i<g_sdmd_HashOffset; i++) {
                            21183 
P:05C0 20001B         2 325621185         clr     b   
P:05C1 0AF080 rrrrrr  6 326221187         jmp     L227
                            21188 
                            21189 ; 402  |                sector = HASH_AREA1+i;
                            21190 
P:05C3 045FA0         2 326421192 L221:   movec   m0,n7
P:05C4 000000         2 326621193         nop
P:05C5 5D6F00         4 327021194         move    b1,y:(r7+n7)
P:05C6 56F400 001CE0  3 327321195         move    #7392,a
P:05C8 200010         2 327521196         add     b,a
P:05C9 214F00         2 327721199         move    a2,b
P:05CA 218900         2 327921200         move    a1,b0
                            21204 
                            21205 ; 403  |                temp_sec = sector;
                            21206 ; 404  |                get_map_sec(0x01, temp_sec, &LibSector);
                            21207 
P:05CB 77F400 FFFFFD  3 328221209         move    #-3,n7
P:05CD 000000         2 328421210         nop
P:05CE 044F1A         4 328821211         lua     (r7)+n7,n2
P:05CF 235000         2 329021212         move    n2,r0
P:05D0 56F400 000001  3 329321213         move    #>1,a
P:05D2 212F00         2 329521214         move    b0,b
P:05D3 0BF080 rrrrrr  6 330121215         jsr     Fget_map_sec
                            21217 
                            21218 ; 405  |                status = DataDriveReadSector(LibSector, NAND_DRIVE, (INT)READ_TYPE_RANDOM,
                                   g_sdmd_Buffer);
                            21219 
P:05D5 77F400 FFFFFD  3 330421221         move    #-3,n7
P:05D7 205F00         2 330621222         move    (r7)+
P:05D8 5EEF00         4 331021224         move    y:(r7+n7),a
P:05D9 205700         2 331221225         move    (r7)-
P:05DA 58EF00         4 331621227         move    y:(r7+n7),a0
P:05DB 20001B         2 331821228         clr     b   
P:05DC 60F400 rrrrrr  3 332121229         move    #Fg_sdmd_Buffer,r0
P:05DE 240000         2 332321230         move    #0,x0
P:05DF 0BF080 rrrrrr  6 332921231         jsr     FDataDriveReadSector
P:05E1 47F400 000001  3 333221232         move    #>1,y1
P:05E3 77F400 FFFFFD  3 333521233         move    #-3,n7
P:05E5 000000         2 333721234         nop
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 343

M:ADDR CODE           CYCLES LINE SOURCELINE
P:05E6 044F10         4 334121235         lua     (r7)+n7,r0
P:05E7 045FA0         2 334321236         movec   m0,n7
P:05E8 000000         2 334521237         nop
P:05E9 4EEF00         4 334921238         move    y:(r7+n7),y0
                            21242 
                            21243 ; 406  |                if (status!=SUCCESS) {
                            21244 
P:05EA 200003         2 335121246         tst     a
P:05EB 0AF0A2 rrrrrr  6 335721247         jne     L222
                            21248 
                            21249 ; 407  |                        g_sdmd_error++;
                            21250 ; 408  |                        return -1;
                            21251 ; 409  |                }
                            21252 ; 410  |                sector = HASH_AREA2+i;
                            21253 
P:05ED 56F400 001D44  3 336021255         move    #7492,a
P:05EF 200050         2 336221256         add     y0,a
P:05F0 214F00         2 336421260         move    a2,b
P:05F1 218900         2 336621261         move    a1,b0
                            21262 
                            21263 ; 411  |                temp_sec = sector;
                            21264 
P:05F2 200071         2 336821266         tfr     y1,a
                            21270 
                            21271 ; 412  |                get_map_sec(0x01, temp_sec, &LibSector);
                            21272 
P:05F3 212F00         2 337021274         move    b0,b
P:05F4 0BF080 rrrrrr  6 337621275         jsr     Fget_map_sec
                            21277 
                            21278 ; 413  |                status = DataDriveReadSector(LibSector, NAND_DRIVE, (INT)READ_TYPE_RANDOM,
                                   g_sdmd_hashlist);
                            21279 
P:05F6 77F400 FFFFFD  3 337921281         move    #-3,n7
P:05F8 205F00         2 338121282         move    (r7)+
P:05F9 5EEF00         4 338521284         move    y:(r7+n7),a
P:05FA 205700         2 338721285         move    (r7)-
P:05FB 58EF00         4 339121287         move    y:(r7+n7),a0
P:05FC 20001B         2 339321288         clr     b   
P:05FD 60F400 rrrrrr  3 339621289         move    #Fg_sdmd_hashlist,r0
P:05FF 240000         2 339821290         move    #0,x0
P:0600 0BF080 rrrrrr  6 340421291         jsr     FDataDriveReadSector
P:0602 47F400 000001  3 340721292         move    #>1,y1
P:0604 63F400 rrrrrr  3 341021293         move    #Fg_sdmd_hashlist,r3
P:0606 62F400 rrrrrr  3 341321294         move    #Fg_sdmd_Buffer,r2
                            21296 
                            21297 ; 414  |                if (status!=SUCCESS) {
                            21298 
P:0608 200003         2 341521300         tst     a
P:0609 0AF0AA rrrrrr  6 342121301         jeq     L224
                            21302 
                            21303 ; 415  |                        g_sdmd_error++;
                            21304 
P:060B 5FF000 rrrrrr  3 342421306 L222:   move    y:Fg_sdmd_error,b
P:060D 200078         2 342621307         add     y1,b
P:060E 5D7000 rrrrrr  3 342921308         move    b1,y:Fg_sdmd_error
                            21309 
                            21310 ; 416  |                        return -1;
                            21311 
P:0610 56F400 FFFFFF  3 343221313 L223:   move    #>-1,a
P:0612 0AF080 rrrrrr  6 343821315         jmp     L229
                            21316 
                            21317 ; 417  |                }
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 344

M:ADDR CODE           CYCLES LINE SOURCELINE
                            21318 ; 418  |                for (j=0; j<HASH_PER_SECTOR*HASH_KEY_SIZE; j++) {
                            21319 
P:0614 260000         2 344021321 L224:   move    #0,y0
P:0615 06A880 rrrrrr  6 344621323         do      #168,L230
                            21325 
                            21326 ; 419  |                        if (g_sdmd_Buffer[j]!=g_sdmd_hashlist[j]) {
                            21327 
P:0617 56E200         2 344821329         move    x:(r2),a
P:0618 57E300         2 345021330         move    x:(r3),b
P:0619 2B0000         2 345221331         move    #0,b2
P:061A 2A0000         2 345421332         move    #0,a2
P:061B 200005         2 345621333         cmp     b,a
P:061C 0AF0AA rrrrrr  6 346221334         jeq     L226
                            21335 
                            21336 ; 420  |                                return 1;
                            21337 
P:061E 200071         2 346421339         tfr     y1,a
P:061F 218E00         2 346621340         move    a1,a
P:0620 00008C         2 346821341         enddo
P:0621 0AF080 rrrrrr  6 347421343         jmp     L229
                            21344 
                            21345 ; 421  |                        }
                            21346 
                            21348 L226:
P:0623 205B00         2 347621350         move    (r3)+
P:0624 205A00         2 347821351         move    (r2)+
P:0625 200059         2 348021352         tfr     y0,b
P:0626 200078         2 348221353         add     y1,b
P:0627 21A600         2 348421356         move    b1,y0
                        (38)21359 L230:
P:0628 045FA0         2 348621362         movec   m0,n7
P:0629 000000         2 348821363         nop
P:062A 5FEF00         4 349221364         move    y:(r7+n7),b
P:062B 200078         2 349421365         add     y1,b
P:062C 4EF000 rrrrrr  3 349721368 L227:   move    y:Fg_sdmd_HashOffset,y0
P:062E 20005D         2 349921370         cmp     y0,b
P:062F 0AF0A9 rrrrrr  6 350521371         jlt     L221
                            21372 
                            21373 ; 422  |                }
                            21374 ; 423  |        }
                            21375 ; 424  |        return SUCCESS;
                            21376 
P:0631 200013         2 350721378         clr     a   
                            21379 
                            21380 ; 425  |}
                            21381 
P:0632 77F400 FFFFFC  3 351021383 L229:   move    #-4,n7
P:0634 000000         2 351221384         nop
P:0635 05EF7C         4 351621385         movec   y:(r7+n7),ssh
P:0636 204F00         2 351821387         move    (r7)+n7
P:0637 00000C         4 352221389         rts
                            21392 
                            21393 ; 426  |
                            21394 ; 427  |RETCODE _reentrant sdmd_UpdateHash (INT DeviceNum, INT b, INT* pPtr)
                            21395 ; 428  |{
                            21396 
                            21401 Fsdmd_UpdateHash:
P:0638 055F7C         2 352421402         movec   ssh,y:(r7)+
P:0639 3F0300         2 352621405         move    #3,n7
P:063A 000000         2 352821406         nop
P:063B 204F00         2 353021407         move    (r7)+n7
                            21424 
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 345

M:ADDR CODE           CYCLES LINE SOURCELINE
                            21425 ; 429  |        int i;
                            21426 ; 430  |        long sector;
                            21427 ; 431  |        uint24 temp_sec;
                            21428 ; 432  |        long    LibSector;
                            21429 ; 433  |        RETCODE status;
                            21430 ; 434  |        
                            21431 ; 435  |        for (i=0; i<g_sdmd_HashOffset; i++) {
                            21432 
P:063C 200013         2 353221434         clr     a   
P:063D 20001B         2 353421435         clr     b   
P:063E 46F400 000001  3 353721438         move    #>1,y0
P:0640 0AF080 rrrrrr  6 354321439         jmp     L240
                            21440 
                            21441 ; 436  |                sector = HASH_AREA2+i;
                            21442 
P:0642 045FA0         2 354521444 L237:   movec   m0,n7
P:0643 000000         2 354721445         nop
P:0644 5D6F00         4 355121446         move    b1,y:(r7+n7)
P:0645 47F400 001D44  3 355421447         move    #7492,y1
P:0647 200078         2 355621448         add     y1,b
P:0648 21A900         2 355821452         move    b1,b0
P:0649 216D00         2 356021453         move    b2,b1
                            21457 
                            21458 ; 437  |                temp_sec = sector;
                            21459 ; 438  |                get_map_sec(0x01, temp_sec, &LibSector);
                            21460 
P:064A 77F400 FFFFFD  3 356321462         move    #-3,n7
P:064C 000000         2 356521463         nop
P:064D 044F13         4 356921464         lua     (r7)+n7,r3
P:064E 227000         2 357121465         move    r3,r0
P:064F 56F400 000001  3 357421467         move    #>1,a
P:0651 212F00         2 357621468         move    b0,b
P:0652 0BF080 rrrrrr  6 358221469         jsr     Fget_map_sec
                            21471 
                            21472 ; 439  |                status = DataDriveReadSector(LibSector, NAND_DRIVE, (INT)READ_TYPE_RANDOM,
                                   g_sdmd_Buffer);
                            21473 
P:0654 77F400 FFFFFD  3 358521475         move    #-3,n7
P:0656 205F00         2 358721476         move    (r7)+
P:0657 5EEF00         4 359121478         move    y:(r7+n7),a
P:0658 205700         2 359321479         move    (r7)-
P:0659 58EF00         4 359721481         move    y:(r7+n7),a0
P:065A 20001B         2 359921482         clr     b   
P:065B 240000         2 360121483         move    #0,x0
P:065C 60F400 rrrrrr  3 360421484         move    #Fg_sdmd_Buffer,r0
P:065E 0BF080 rrrrrr  6 361021485         jsr     FDataDriveReadSector
                            21487 
                            21488 ; 440  |                if (status!=SUCCESS) {
                            21489 
P:0660 200003         2 361221491         tst     a
P:0661 045FA0         2 361421492         movec   m0,n7
P:0662 000000         2 361621493         nop
P:0663 5FEF00         4 362021494         move    y:(r7+n7),b
P:0664 77F400 FFFFFD  3 362321497         move    #-3,n7
P:0666 000000         2 362521498         nop
P:0667 044F10         4 362921499         lua     (r7)+n7,r0
P:0668 46F400 000001  3 363221500         move    #>1,y0
P:066A 0AF0A2 rrrrrr  6 363821501         jne     L238
                            21502 
                            21503 ; 441  |                        g_sdmd_error++;
                            21504 ; 442  |                        return -1;
                            21505 ; 443  |                }
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 346

M:ADDR CODE           CYCLES LINE SOURCELINE
                            21506 ; 444  |                sector = HASH_AREA1+i;
                            21507 
P:066C 45F400 001CE0  3 364121509         move    #7392,x1
P:066E 200068         2 364321510         add     x1,b
P:066F 21A900         2 364521513         move    b1,b0
P:0670 216D00         2 364721514         move    b2,b1
                            21515 
                            21516 ; 445  |                temp_sec = sector;
                            21517 
P:0671 200051         2 364921519         tfr     y0,a
                            21524 
                            21525 ; 446  |                get_map_sec(0x01, temp_sec, &LibSector);
                            21526 
P:0672 212F00         2 365121528         move    b0,b
P:0673 0BF080 rrrrrr  6 365721529         jsr     Fget_map_sec
P:0675 60F400 rrrrrr  3 366021531         move    #Fg_sdmd_Buffer,r0
                            21532 
                            21533 ; 447  |                status = DataDriveWriteSector(NAND_DRIVE, LibSector, g_sdmd_Buffer, (INT)W
                                  RITE_TYPE_RANDOM);
                            21534 
P:0677 77F400 FFFFFD  3 366321536         move    #-3,n7
P:0679 205F00         2 366521537         move    (r7)+
P:067A 5EEF00         4 366921539         move    y:(r7+n7),a
P:067B 205700         2 367121540         move    (r7)-
P:067C 58EF00         4 367521542         move    y:(r7+n7),a0
P:067D 20001B         2 367721543         clr     b   
P:067E 240000         2 367921544         move    #0,x0
P:067F 0BF080 rrrrrr  6 368521545         jsr     FDataDriveWriteSector
                            21547 
                            21548 ; 448  |                if (status!=SUCCESS) {
                            21549 
P:0681 200003         2 368721551         tst     a
P:0682 045FA0         2 368921552         movec   m0,n7
P:0683 000000         2 369121553         nop
P:0684 5FEF00         4 369521554         move    y:(r7+n7),b
P:0685 46F400 000001  3 369821557         move    #>1,y0
P:0687 2E0000         2 370021558         move    #0,a
P:0688 0AF0AA rrrrrr  6 370621560         jeq     L239
                            21561 
                            21562 ; 449  |                        g_sdmd_error++;
                            21563 
P:068A 5FF000 rrrrrr  3 370921565 L238:   move    y:Fg_sdmd_error,b
P:068C 200058         2 371121567         add     y0,b
P:068D 5D7000 rrrrrr  3 371421568         move    b1,y:Fg_sdmd_error
                            21569 
                            21570 ; 450  |                        return -1;
                            21571 
P:068F 56F400 FFFFFF  3 371721573         move    #>-1,a
P:0691 0AF080 rrrrrr  6 372321574         jmp     L241
                            21575 
                            21576 ; 451  |                }
                            21577 
                            21579 L239:
P:0693 200058         2 372521582         add     y0,b
P:0694 4FF000 rrrrrr  3 372821583 L240:   move    y:Fg_sdmd_HashOffset,y1
P:0696 20007D         2 373021584         cmp     y1,b
P:0697 0AF0A9 rrrrrr  6 373621585         jlt     L237
                            21586 
                            21587 ; 452  |        }
                            21588 ; 453  |        return 0;
                            21589 ; 454  |}
                            21590 
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 347

M:ADDR CODE           CYCLES LINE SOURCELINE
P:0699 77F400 FFFFFC  3 373921592 L241:   move    #-4,n7
P:069B 000000         2 374121593         nop
P:069C 05EF7C         4 374521594         movec   y:(r7+n7),ssh
P:069D 204F00         2 374721596         move    (r7)+n7
P:069E 00000C         4 375121598         rts
                            21602 
                            21605 
Y:0000                      21606         org     y,".ybsssdmd",bss:
                            21607 Fg_sdmd_HashOffset:
Y:0000 RESERVED             21608         ds      1
Y:0000
                            21615 Fg_sdmd_Skew:
Y:0001 RESERVED             21616         ds      1
Y:0001
                            21623 Fg_sdmd_CurLoc:
Y:0002 RESERVED             21624         ds      1
Y:0002
                            21629 Fg_sdmd_current_level:
Y:0003 RESERVED             21630         ds      1
Y:0003
                            21634 Fg_sdmd_hash:
Y:0004                      21635         ds      4
   |   RESERVED                   
Y:0007
                            21646 
X:0000                      21647         org     x,".xbsssdmd",bss:
                            21648 Fg_sdmd_hashlist:
X:0000                      21649         ds      707
   |   RESERVED                   
X:02C2
                            21653 
Y:0008                      21654         org     y,".ybsssdmd",bss:
                            21655 Fg_sdmd_dir:
Y:0008                      21656         ds      60
   |   RESERVED                   
Y:0043
                            21663 Fg_sdmd_error:
Y:0044 RESERVED             21664         ds      1
Y:0044
                            21667 
X:02C3                      21668         org     x,".xbsssdmd",bss:
                            21669 Fg_sdmd_Buffer:
X:02C3                      21670         ds      707
   |   RESERVED                   
X:0585
                            21672 
                            21673         extern  FDataDriveReadSector, FDataDriveWriteSector, FFSGetByte
                            21674         extern  FFindnextcluster, FFirstsectorofcluster, y:FMediaTable
                            21675         extern  Fget_map_sec, y:Fmaxdevices
                            21676 
                            21677         global  Fg_sdmd_Buffer, Fg_sdmd_CurLoc, Fg_sdmd_HashOffset
                            21678         global  Fg_sdmd_Skew, Fg_sdmd_current_level, Fg_sdmd_dir
                            21679         global  Fg_sdmd_error, Fg_sdmd_hash, Fg_sdmd_hashlist
                            21680         global  Fsdmd_CompareHash, Fsdmd_GenerateHash, Fsdmd_GetBufferHash
                            21681         global  Fsdmd_GetDirHash, Fsdmd_InitHash, Fsdmd_RootDirHash
                            21682         global  Fsdmd_UpdateHash
                            21683 
                            21684         local   L4, L5, L7, L8, L9, L23, L24, L25, L26, L27, L28, L29, L30
                            21685         local   L33, L34, L46, L47, L48, L49, L50, L51, L52, L53, L55, L161
                            21686         local   L162, L163, L165, L166, L169, L173, L174, L176, L177, L178
                            21687         local   L179, L182, L183, L184, L186, L188, L189, L195, L196, L198
                            21688         local   L200, L201, L202, L203, L204, L205, L206, L207, L208, L209
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 348

M:ADDR CODE           CYCLES LINE SOURCELINE
                            21689         local   L221, L222, L223, L224, L226, L227, L229, L230, L237, L238
                            21690         local   L239, L240, L241
                            21691 
                            21692         calls   "sdmd_CompareHash", "DataDriveReadSector", "get_map_sec"
                            21693         calls   "sdmd_CompareHash", "sdmd_GenerateHash"
                            21694         calls   "sdmd_GenerateHash", "DataDriveReadSector"
                            21695         calls   "sdmd_GenerateHash", "DataDriveWriteSector", "FSGetByte"
                            21696         calls   "sdmd_GenerateHash", "Findnextcluster"
                            21697         calls   "sdmd_GenerateHash", "Firstsectorofcluster", "get_map_sec"
                            21698         calls   "sdmd_GenerateHash", "sdmd_GetDirHash", "sdmd_RootDirHash"
                            21699         calls   "sdmd_GetBufferHash", "DataDriveReadSector"
                            21700         calls   "sdmd_GetDirHash", "Findnextcluster"
                            21701         calls   "sdmd_GetDirHash", "Firstsectorofcluster"
                            21702         calls   "sdmd_GetDirHash", "sdmd_GetBufferHash", "sdmd_InitHash"
                            21703         calls   "sdmd_RootDirHash", "sdmd_GetDirHash"
                            21704         calls   "sdmd_UpdateHash", "DataDriveReadSector"
                            21705         calls   "sdmd_UpdateHash", "DataDriveWriteSector", "get_map_sec"
                            21706 
