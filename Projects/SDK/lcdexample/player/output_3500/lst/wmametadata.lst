TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page   1
C:\STMP3XXX_SDK_FIRMWARE_320_finalfix\Projects\SDK\lcdexample\player\make\ccfc71cb.src
M:ADDR CODE           CYCLES LINE SOURCELINE
                                1 ; TASKING DSP2410 C compiler v1.5r1 Build 208 SN 00100122
                                2 ; options: -OG -si -DPLAYER -DALL -DD3500 -DMMC -DLIION -DPL3_FB
                                3 ;          -DSTMP_BUILD_PLAYER -DPLAYER_BUILD -DPLAYER -DSTFM1000_LCD
                                4 ;          -DFULL_PLAYER_KERNEL -DDCDC_POWER_TRANSFER -DBACKLIGHT
                                5 ;          -DWMAAPI_NO_DRM -DREVB_ENGR_BD -DSED15XX_LCD -DSYNC_LYRICS
                                6 ;          -DTUNER_STFM1000 -DFM_EUROPE_REGION -DSD_USE_100KHZ_TUNING_GRID
                                7 ;          -DNEWSHINGYIH -DREAL_I2S_DATA -DFUNCLET
                                8 ;          -DMEDIA_DDI_COUNT_HIDDEN_SYSTEM_BLOCKS -DFMTUNER -DMP3_ENCODE
                                9 ;          -DCHKDSK -DFAT16 -DDEBUG -DDEVICE_3500 -DSDK2400 -DENGR_BD
                               10 ;          -DUSE_PLAYLIST3 -DBATTERY_TYPE_LI_ION -DBATTERY_CHARGE -w68 -w66
                               11 ;          -I..\output_3500\include
                               12 ;          -I..\..\..\..\..\Projects\sdk\lcdexample\Player
                               13 ;          -I..\..\..\..\..\Projects\sdk\lcdexample\Player\Menus -I..\..
                               14 ;          -I..\..\..\..\..\inc -I..\..\..\..\..\System\Common
                               15 ;          -I..\..\..\..\..\System\Common\symbols
                               16 ;          -I..\..\..\..\..\Projects\sdk\lcdexample\Player\Display
                               17 ;          -I..\..\..\..\..\Algorithms\DRM\janus\src\h
                               18 ;          -I..\..\..\..\..\FileSystem\Fat32\h
                               19 ;          -I..\..\..\..\..\FileSystem\Fat32\cmp\cmp_stdtype
                               20 ;          -I..\..\..\..\..\FileSystem\Fat32\cmp\cmp_debug
                               21 ;          -I..\..\..\..\..\FileSystem\Fat32\cmp\cmp_file_system
                               22 ;          -I..\..\..\..\..\DeviceDriver\Media\cmp\cmp_media_nand -I -I
                               23 ;          -I..\..\..\..\..\system\common\resourcemanager -I..\..\..\..\..\inc
                               24 ;          -I..\..\..\..\..\devicedriver\media\MediaTypeNAND\include
                               25 ;          -I..\..\..\..\..\devicedriver\media\MediaTypeNAND\DDI\DataDrive\include
                               26 ;          -I..\..\..\..\..\devicedriver\media\MediaTypeNAND\DDI\include
                               27 ;          -I..\..\..\..\..\devicedriver\media\MediaTypeNAND\HAL\include
                               28 ;          -I..\..\..\..\..\devicedriver\media\MediaTypeNAND\DDI\DataDrive
                               29 ;          -I..\..\..\..\..\devicedriver\media\ddildl\include
                               30 ;          -I..\..\..\..\..\FileSystem\Fat32\h
                               31 ;          -I..\..\..\..\..\FileSystem\Fat32\cmp\cmp_stdtype
                               32 ;          -I..\..\..\..\..\FileSystem\Fat32\cmp\cmp_debug
                               33 ;          -I..\..\..\..\..\FileSystem\Fat32\cmp\cmp_file_system
                               34 ;          -I..\..\..\..\..\DeviceDriver\Media\cmp\cmp_media_nand
                               35 ;          -I..\..\..\..\..\devicedriver\media\MediaTypeNAND\include
                               36 ;          -I..\..\..\..\..\devicedriver\media\MediaTypeNAND\DDI\Common\include
                               37 ;          -I..\..\..\..\..\devicedriver\media\MediaTypeNAND\DDI\include
                               38 ;          -I..\..\..\..\..\devicedriver\media\MediaTypeNAND\HAL\include
                               39 ;          -I..\..\..\..\..\devicedriver\media\MediaTypeNAND\DDI\Common
                               40 ;          -I..\..\..\..\..\devicedriver\media\MediaTypeNAND\include
                               41 ;          -I..\..\..\..\..\devicedriver\media\MediaTypeNAND\DDI\SystemDrive\include
                               42 ;          -I..\..\..\..\..\devicedriver\media\MediaTypeNAND\DDI\include
                               43 ;          -I..\..\..\..\..\devicedriver\media\MediaTypeNAND\HAL\include
                               44 ;          -I..\..\..\..\..\devicedriver\media\MediaTypeNAND\DDI\SystemDrive
                               45 ;          -I..\..\..\..\..\devicedriver\media\MediaTypeNAND\include
                               46 ;          -I..\..\..\..\..\devicedriver\media\MediaTypeNAND\DDI\Media\include
                               47 ;          -I..\..\..\..\..\devicedriver\media\MediaTypeNAND\DDI\include
                               48 ;          -I..\..\..\..\..\devicedriver\media\MediaTypeNAND\HAL\include
                               49 ;          -I..\..\..\..\..\devicedriver\media\MediaTypeNAND\DDI\Media
                               50 ;          -I..\..\..\..\..\devicedriver\media\include
                               51 ;          -I..\..\..\..\..\devicedriver\media\ddildl
                               52 ;          -I..\..\..\..\..\devicedriver\media\ddildl\include
                               53 ;          -I..\..\..\..\..\devicedriver\media\MediaTypeNAND\DDI\Common\include
                               54 ;          -I..\..\..\..\..\devicedriver\media\MediaTypeNAND\DDI\include
                               55 ;          -I..\..\..\..\..\DeviceDriver\Media\MediaTypeNAND\HAL
                               56 ;          -I..\..\..\..\..\DeviceDriver\Media\MediaTypeNAND\HAL\include
                               57 ;          -I..\..\..\..\..\DeviceDriver\Media\include
                               58 ;          -I..\..\..\..\..\DeviceDriver\Media\PortHIL\GPFlash\include
                               59 ;          -I..\..\..\..\..\DeviceDriver\Media\PortHIL\GPFlash
                               60 ;          -I..\..\..\..\..\devicedriver\media\ddildl
                               61 ;          -I..\..\..\..\..\devicedriver\media\ddildl\include
                               62 ;          -I..\..\..\..\..\libsource\sysserialnumber
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page   2

M:ADDR CODE           CYCLES LINE SOURCELINE
                               63 ;          -I..\..\..\..\..\devicedriver\media\MediaTypeMMC\DDI\include
                               64 ;          -I..\..\..\..\..\devicedriver\media\ddildl\include
                               65 ;          -I..\..\..\..\..\devicedriver\media\MediaTypeMMC\DDI\include
                               66 ;          -I..\..\..\..\..\devicedriver\media\MediaTypeMMC\DDI\Media
                               67 ;          -I..\..\..\..\..\devicedriver\media\MediaTypeMMC\HAL\include
                               68 ;          -I..\..\..\..\..\FileSystem\Fat32\h
                               69 ;          -I..\..\..\..\..\FileSystem\Fat32\cmp\cmp_stdtype
                               70 ;          -I..\..\..\..\..\FileSystem\Fat32\cmp\cmp_debug
                               71 ;          -I..\..\..\..\..\FileSystem\Fat32\cmp\cmp_file_system
                               72 ;          -I..\..\..\..\..\DeviceDriver\Media\cmp\cmp_media_nand
                               73 ;          -I..\..\..\..\..\DeviceDriver\Media\MediaTypeNAND\HAL\include
                               74 ;          -I..\..\..\..\..\System\MsgModules\Software\Effects\srswow
                               75 ;          -I..\..\..\..\..\System\Common\rtcaccess
                               76 ;          -I..\..\..\..\..\System\Common\playlist3
                               77 ;          -I..\..\..\..\..\System\Common\record
                               78 ;          -I..\..\..\..\..\System\Common\mp3filename
                               79 ;          -I..\..\..\..\..\FileSystem\chkdsk\include
                               80 ;          -I..\..\..\..\..\FileSystem\Fat32\h -DFULL_PLAYER_KERNEL
                               81 ;          -DSYNC_LYRICS -DMP3_ENCODE -DBATTERY_TYPE_LI_ION -Dk_opt_single_fat
                               82 ;          -DPL3_FB -g -O2 -R -Cs -DMS_ADPCM -DIMA_ADPCM -DWINDOWS_PCM
                               83 ;          -I..\..\..\..\..\System\MsgModules\Software\musiclib\ghdr
                               84 ;          -I..\..\..\..\..\devicedriver\display
                               85 ;          -I..\..\..\..\..\System\MsgModules\Hardware\Display -MmyL
                               86 
                               94 
                               95 ;  wmametadata.c:
                               96 ; 1    |///////////////////////////////////////////////////////////////////////////////
                               97 ; 2    |// Copyright(C) SigmaTel, Inc. 2002
                               98 ; 3    |//
                               99 ; 4    |// Filename: mp3metadata.c
                              100 ; 5    |// Description: Functions for extracting the mp3 meta-data.
                              101 ; 6    |///////////////////////////////////////////////////////////////////////////////
                              102 ; 7    |
                              103 ; 8    |#include "types.h"
                              104 
                              106 
                              107 ; 1    |////////////////////////////////////////////////////////////////////////////////
                              108 ; 2    |// Copyright(C) SigmaTel, Inc. 2000-2004
                              109 ; 3    |//
                              110 ; 4    |// Filename: types.h
                              111 ; 5    |// Description: Standard data types
                              112 ; 6    |////////////////////////////////////////////////////////////////////////////////
                              113 ; 7    |
                              114 ; 8    |#ifndef _TYPES_H
                              115 ; 9    |#define _TYPES_H
                              116 ; 10   |
                              117 ; 11   |// TODO:  move this outta here!
                              118 ; 12   |#if !defined(NOERROR)
                              119 ; 13   |#define NOERROR 0
                              120 ; 14   |#define SUCCESS 0
                              121 ; 15   |#endif 
                              122 ; 16   |#if !defined(SUCCESS)
                              123 ; 17   |#define SUCCESS  0
                              124 ; 18   |#endif
                              125 ; 19   |#if !defined(ERROR)
                              126 ; 20   |#define ERROR   -1
                              127 ; 21   |#endif
                              128 ; 22   |#if !defined(FALSE)
                              129 ; 23   |#define FALSE 0
                              130 ; 24   |#endif
                              131 ; 25   |#if !defined(TRUE)
                              132 ; 26   |#define TRUE  1
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page   3

M:ADDR CODE           CYCLES LINE SOURCELINE
                              133 ; 27   |#endif
                              134 ; 28   |
                              135 ; 29   |#if !defined(NULL)
                              136 ; 30   |#define NULL 0
                              137 ; 31   |#endif
                              138 ; 32   |
                              139 ; 33   |#define MAX_INT     0x7FFFFF
                              140 ; 34   |#define MAX_LONG    0x7FFFFFffffff
                              141 ; 35   |        // max positive unsigned long value: -1 == 0xFFFFFFffffff
                              142 ; 36   |#define MAX_ULONG   (-1) 
                              143 ; 37   |
                              144 ; 38   |#define WORD_SIZE   24              // word size in bits
                              145 ; 39   |#define BYTES_PER_WORD 3            // 8 bit bytes
                              146 ; 40   |
                              147 ; 41   |
                              148 ; 42   |#define BYTE    unsigned char       // btVarName
                              149 ; 43   |#define CHAR    signed char         // cVarName
                              150 ; 44   |#define USHORT  unsigned short      // usVarName
                              151 ; 45   |#define SHORT   unsigned short      // sVarName
                              152 ; 46   |#define WORD    unsigned int        // wVarName
                              153 ; 47   |#define INT     signed int          // iVarName
                              154 ; 48   |#define DWORD   unsigned long       // dwVarName
                              155 ; 49   |#define LONG    signed long         // lVarName
                              156 ; 50   |#define BOOL    unsigned int        // bVarName
                              157 ; 51   |#define FRACT   _fract              // frVarName
                              158 ; 52   |#define LFRACT  long _fract         // lfrVarName
                              159 ; 53   |#define CIRC    _circ               // cp<type prefix>VarName (see below)
                              160 ; 54   |#define FLOAT   float               // fVarName
                              161 ; 55   |#define DBL     double              // dVarName
                              162 ; 56   |#define ENUM    enum                // eVarName
                              163 ; 57   |#define CMX     _complex            // cmxVarName
                              164 ; 58   |typedef WORD UCS3;                   // 
                              165 ; 59   |
                              166 ; 60   |#define UINT16  unsigned short
                              167 ; 61   |#define UINT8   unsigned char   
                              168 ; 62   |#define UINT32  unsigned long
                              169 ; 63   |#define UINT64  unsigned long   // need to figure out how to do 64 bit values.  Or port ex
                                  isiting code to only use 48 bit
                              170 ; 64   |#define INT64   unsigned long   // need to figure out how to do 64 bit values.  Or port ex
                                  isiting code to only use 48 bit
                              171 ; 65   |#define WCHAR   UINT16
                              172 ; 66   |
                              173 ; 67   |//UINT128 is 16 bytes or 6 words
                              174 ; 68   |typedef struct UINT128_3500 {   
                              175 ; 69   |    int val[6];     
                              176 ; 70   |} UINT128_3500;
                              177 ; 71   |
                              178 ; 72   |#define UINT128   UINT128_3500
                              179 ; 73   |
                              180 ; 74   |// Little endian word packed byte strings:   
                              181 ; 75   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                              182 ; 76   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                              183 ; 77   |// Little endian word packed byte strings:   
                              184 ; 78   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                              185 ; 79   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                              186 ; 80   |
                              187 ; 81   |// Declare Memory Spaces To Use When Coding
                              188 ; 82   |// A. Sector Buffers
                              189 ; 83   |#define SECTOR_BUFFER_MEM_X _X
                              190 ; 84   |#define SECTOR_BUFFER_MEM_Y _Y
                              191 ; 85   |#define SECTOR_BUFFER_MEM SECTOR_BUFFER_MEM_X
                              192 ; 86   |typedef WORD SECTOR_BUFFER_MEM SECTOR_BUFFER;
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page   4

M:ADDR CODE           CYCLES LINE SOURCELINE
                              193 
                              195 
                              196 ; 87   |typedef SECTOR_BUFFER * P_SECTOR_BUFFER;
                              197 ; 88   |// B. Media DDI Memory
                              198 ; 89   |#define MEDIA_DDI_MEM _Y
                              199 ; 90   |
                              200 ; 91   |
                              201 ; 92   |
                              202 ; 93   |// Pointers to linear structures are labeled as: p<type prefix>VarName
                              203 ; 94   |// Examples of circular pointers:
                              204 ; 95   |//    INT CIRC cpiVarName
                              205 ; 96   |//    DWORD CIRC cpdwVarName
                              206 ; 97   |
                              207 ; 98   |#define RETCODE INT                 // rcVarName
                              208 ; 99   |
                              209 ; 100  |// generic bitfield structure
                              210 ; 101  |struct Bitfield {
                              211 ; 102  |    unsigned int B0  :1;
                              212 ; 103  |    unsigned int B1  :1;
                              213 ; 104  |    unsigned int B2  :1;
                              214 ; 105  |    unsigned int B3  :1;
                              215 ; 106  |    unsigned int B4  :1;
                              216 ; 107  |    unsigned int B5  :1;
                              217 ; 108  |    unsigned int B6  :1;
                              218 ; 109  |    unsigned int B7  :1;
                              219 ; 110  |    unsigned int B8  :1;
                              220 ; 111  |    unsigned int B9  :1;
                              221 ; 112  |    unsigned int B10 :1;
                              222 ; 113  |    unsigned int B11 :1;
                              223 ; 114  |    unsigned int B12 :1;
                              224 ; 115  |    unsigned int B13 :1;
                              225 ; 116  |    unsigned int B14 :1;
                              226 ; 117  |    unsigned int B15 :1;
                              227 ; 118  |    unsigned int B16 :1;
                              228 ; 119  |    unsigned int B17 :1;
                              229 ; 120  |    unsigned int B18 :1;
                              230 ; 121  |    unsigned int B19 :1;
                              231 ; 122  |    unsigned int B20 :1;
                              232 ; 123  |    unsigned int B21 :1;
                              233 ; 124  |    unsigned int B22 :1;
                              234 ; 125  |    unsigned int B23 :1;
                              235 ; 126  |};
                              236 ; 127  |
                              237 ; 128  |union BitInt {
                              238 ; 129  |        struct Bitfield B;
                              239 ; 130  |        int        I;
                              240 ; 131  |};
                              241 ; 132  |
                              242 ; 133  |#define MAX_MSG_LENGTH 10
                              243 ; 134  |struct CMessage
                              244 ; 135  |{
                              245 ; 136  |        unsigned int m_uLength;
                              246 ; 137  |        unsigned int m_uMsg[MAX_MSG_LENGTH];
                              247 ; 138  |};
                              248 ; 139  |
                              249 ; 140  |typedef struct {
                              250 ; 141  |    WORD m_wLength;
                              251 ; 142  |    WORD m_wMessage;
                              252 ; 143  |    WORD m_wParams[MAX_MSG_LENGTH];
                              253 ; 144  |} Message;
                              254 ; 145  |
                              255 ; 146  |struct MessageQueueDescriptor
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page   5

M:ADDR CODE           CYCLES LINE SOURCELINE
                              256 ; 147  |{
                              257 ; 148  |        int *m_pBase;
                              258 ; 149  |        int m_iModulo;
                              259 ; 150  |        int m_iSize;
                              260 ; 151  |        int *m_pHead;
                              261 ; 152  |        int *m_pTail;
                              262 ; 153  |};
                              263 ; 154  |
                              264 ; 155  |struct ModuleEntry
                              265 ; 156  |{
                              266 ; 157  |    int m_iSignaledEventMask;
                              267 ; 158  |    int m_iWaitEventMask;
                              268 ; 159  |    int m_iResourceOfCode;
                              269 ; 160  |    struct MessageQueueDescriptor *m_pMessageQueue;
                              270 ; 161  |    int _asmfunc (*m_pProcessEntryPoint)(union WaitMask Signals,struct MessageQueueDescrip
                                  tor *);
                              271 ; 162  |    int _asmfunc (*m_pInitFunction)(struct MessageQueueDescriptor *);
                              272 ; 163  |    int m_uTimeOutHigh;
                              273 ; 164  |    int m_uTimeOutLow;
                              274 ; 165  |    int _asmfunc (*m_pBackgroundFunction)(struct MessageQueueDescriptor *);
                              275 ; 166  |};
                              276 ; 167  |
                              277 ; 168  |union WaitMask{
                              278 ; 169  |    struct B{
                              279 ; 170  |        unsigned int m_bNone     :1;
                              280 ; 171  |        unsigned int m_bMessage  :1;
                              281 ; 172  |        unsigned int m_bTimer    :1;
                              282 ; 173  |        unsigned int m_bButton   :1;
                              283 ; 174  |    } B;
                              284 ; 175  |    int I;
                              285 ; 176  |} ;
                              286 ; 177  |
                              287 ; 178  |
                              288 ; 179  |struct Button {
                              289 ; 180  |        WORD wButtonEvent;
                              290 ; 181  |        WORD wUnused[MAX_MSG_LENGTH];   
                              291 ; 182  |};
                              292 ; 183  |
                              293 ; 184  |struct Message {
                              294 ; 185  |        WORD wMsgLength;
                              295 ; 186  |        WORD wMsgCommand;
                              296 ; 187  |        WORD wMsgParms[MAX_MSG_LENGTH-1];
                              297 ; 188  |};
                              298 ; 189  |
                              299 ; 190  |union EventTypes {
                              300 ; 191  |        struct CMessage msg;
                              301 ; 192  |        struct Button Button ;
                              302 ; 193  |        struct Message Message;
                              303 ; 194  |};
                              304 ; 195  |
                              305 ; 196  |// next 2 used to get updater build to return correct protocol ver in scsi response.
                              306 ; 197  |#define BUILD_TYPE_UPDATER  0x100
                              307 ; 198  |#define BUILD_TYPE_HOSTLINK 0x101
                              308 ; 199  |#define BUILD_TYPE_PLAYER   0x102
                              309 ; 200  |
                              310 ; 201  |// Resets part if RETAIL build. DEBUG build executes debug instruction to halt.
                              311 ; 202  |#define SystemHalt() __asm(" include 'sysmacro.asm' \n error") 
                              312 ; 203  |#define assert(x)    if(!(x)) __asm(" include 'sysmacro.asm' \n error")
                              313 ; 204  |
                              314 ; 205  |#if DEBUG
                              315 ; 206  |// For DEBUG builds, DebugBuildAssert(condition) halts if condition evaluates to FALSE. 
                              316 ; 207  |#define DebugBuildAssert(x)    if(!(x)) __asm(" debug ")
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page   6

M:ADDR CODE           CYCLES LINE SOURCELINE
                              317 ; 208  |#else 
                              318 ; 209  |// For RETAIL builds, DebugBuildAssert(condition) does nothing & execution continues rathe
                                  r than halt or reset. 
                              319 ; 210  |#define DebugBuildAssert(x)    
                              320 ; 211  |#endif
                              321 ; 212  |
                              322 ; 213  |// Do this in your C files to make a reminder that's displayed during the build.
                              323 ; 214  |//  #pragma asm
                              324 ; 215  |//  WARN 'Note to builder: reminder to do this after verifying that'
                              325 ; 216  |//  #pragma endasm
                              326 ; 217  |
                              327 ; 218  |
                              328 ; 219  |#ifdef COLOR_262K
                              329 ; 220  |#define RGB(r,g,b)    ((0x0000FC & (r)) << 10) | ((0x0000FC & (g)) << 4) | ((0x0000FC & (b
                                  )) >> 2)    //262k
                              330 ; 221  |#elif defined(COLOR_65K)
                              331 ; 222  |#define RGB(r,g,b)    ((0x0000F8 & (r)) << 8) | ((0x0000FC & (g)) << 3) | ((0x0000F8 & (b)
                                  ) >> 3)  //65k
                              332 ; 223  |#else
                              333 ; 224  |#define RGB(r,g,b)       ((0x0000F0 & (r)) << 4) | (0x0000F0 & (g)) | ((0x0000F0 & (b)) >>
                                   4)
                              334 ; 225  |#endif
                              335 ; 226  |    
                              336 ; 227  |#endif // #ifndef _TYPES_H
                              337 
                              339 
                              340 ; 9    |#include "stringlib.h"
                              341 
                              343 
                              344 ; 1    |#ifndef STRINGLIB_H
                              345 ; 2    |#define STRINGLIB_H
                              346 
                              348 
                              349 ; 3    |_asmfunc int pack_string(UCS3 _Y * _Y pUnpacked, _packed BYTE _Y * _Y pPacked);
                              350 ; 4    |_asmfunc int unpack_string( _packed BYTE _Y * _Y pPacked,  UCS3 _Y * _Y pUnpacked);
                              351 ; 5    |_asmfunc int unpack_data( _packed BYTE _Y * _Y pPacked,  BYTE _Y * _Y pUnpacked, INT iCoun
                                  t);
                              352 ; 6    |
                              353 ; 7    |_asmfunc BYTE GetByteFromArrayInX( void _X * p,int n);
                              354 ; 8    |_asmfunc void PutByteInArrayInX( void _X * p,int n, int newchar);
                              355 ; 9    |_asmfunc BYTE GetByteFromArrayInY( void _Y * p,int n);
                              356 ; 10   |_asmfunc void PutByteInArrayInY( void _Y * p,int n, int newchar);
                              357 ; 11   |
                              358 ; 12   |_asmfunc BYTE packed_get( _packed BYTE _Y * p,int n);
                              359 ; 13   |_asmfunc void packed_set( _packed BYTE _Y * p,int n, int newchar);
                              360 ; 14   |
                              361 ; 15   |_asmfunc int packed_strlen( _packed BYTE _Y * _Y p);
                              362 ; 16   |
                              363 ; 17   |_asmfunc _packed BYTE _Y * packed_strncpy( _packed BYTE _Y * _Y pDest,_packed BYTE _Y * _Y
                                   pSrc, int iCount);
                              364 ; 18   |_asmfunc _packed BYTE _Y * packed_strcpy ( _packed BYTE _Y * _Y pDest,_packed BYTE _Y * _Y
                                   pSrc);
                              365 ; 19   |
                              366 ; 20   |
                              367 ; 21   |_asmfunc int packed_strncmp( _packed BYTE _Y * _Y pLeft,_packed BYTE _Y * _Y pRight, int i
                                  Count);
                              368 ; 22   |_asmfunc int packed_strcmp ( _packed BYTE _Y * _Y pLeft,_packed BYTE _Y * _Y pRight);
                              369 ; 23   |
                              370 ; 24   |_asmfunc int packed_strncat( _packed BYTE _Y * _Y pDest,_packed BYTE _Y * _Y pSource, int 
                                  iCount);
                              371 ; 25   |_asmfunc int packed_strcat ( _packed BYTE _Y * _Y pDest,_packed BYTE _Y * _Y pSource);
                              372 ; 26   |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page   7

M:ADDR CODE           CYCLES LINE SOURCELINE
                              373 ; 27   |
                              374 ; 28   |_asmfunc int strlen(UCS3 _Y * _Y p);
                              375 ; 29   |
                              376 ; 30   |_asmfunc UCS3 *strchr(UCS3 _Y * _Y pUnpacked, UCS3 CharToFind);
                              377 ; 31   |_asmfunc UCS3 *strrchr(UCS3 _Y * _Y pUnpacked, UCS3 CharToFind);
                              378 ; 32   |
                              379 ; 33   |_asmfunc void strncpy(UCS3 _Y * _Y pDest, UCS3 _Y * _Y pSource, BYTE iCount);
                              380 ; 34   |_asmfunc void strcpy(UCS3 _Y * _Y pDest, UCS3 _Y * _Y pSource);
                              381 ; 35   |
                              382 ; 36   |_asmfunc char *strncat(UCS3 _Y * _Y pDest, UCS3 _Y * _Y pSource, int iCount);
                              383 ; 37   |_asmfunc char *strcat(UCS3 _Y * _Y pDest, UCS3 _Y * _Y pSource);
                              384 ; 38   |
                              385 ; 39   |_asmfunc int strncmp(UCS3 _Y * _Y pDest, UCS3 _Y * _Y pSource, int iCount);
                              386 ; 40   |_asmfunc int strcmp(UCS3 _Y * _Y pDest, UCS3 _Y * _Y pSource);
                              387 ; 41   |
                              388 ; 42   |#endif
                              389 
                              391 
                              392 ; 10   |#include "hwequ.h"
                              393 
                              395 
                              396 ; 1    |/////////////////////////////////////////////////////////////////////////////////
                              397 ; 2    |//  Copyright(C) SigmaTel, Inc. 2000-2001
                              398 ; 3    |//  File        : hwequ.inc
                              399 ; 4    |//  Description : STMP Hardware Constants
                              400 ; 5    |/////////////////////////////////////////////////////////////////////////////////
                              401 ; 6    |
                              402 ; 7    |// ////////////////////////////////////////////////////////////////////////////////
                              403 ; 8    |// hwequ is being eliminated for SDK3XXX.  For SDK2.5XX it will now reside in the   
                              404 ; 9    |// local folder instead of ..\inc.  All register includes are converted to .h by 
                              405 ; 10   |// registers.mk placed in the ..\lcdexample\player\output_XXXX folder.
                              406 ; 11   |// ////////////////////////////////////////////////////////////////////////////////
                              407 ; 12   |
                              408 ; 13   |#if (!defined(HWEQU_INC))
                              409 ; 14   |#define HWEQU_INC 1
                              410 ; 15   |
                              411 ; 16   |#include "types.h"
                              412 
                              414 
                              415 ; 1    |////////////////////////////////////////////////////////////////////////////////
                              416 ; 2    |// Copyright(C) SigmaTel, Inc. 2000-2004
                              417 ; 3    |//
                              418 ; 4    |// Filename: types.h
                              419 ; 5    |// Description: Standard data types
                              420 ; 6    |////////////////////////////////////////////////////////////////////////////////
                              421 ; 7    |
                              422 ; 8    |#ifndef _TYPES_H
                              423 ; 9    |#define _TYPES_H
                              424 ; 10   |
                              425 ; 11   |// TODO:  move this outta here!
                              426 ; 12   |#if !defined(NOERROR)
                              427 ; 13   |#define NOERROR 0
                              428 ; 14   |#define SUCCESS 0
                              429 ; 15   |#endif 
                              430 ; 16   |#if !defined(SUCCESS)
                              431 ; 17   |#define SUCCESS  0
                              432 ; 18   |#endif
                              433 ; 19   |#if !defined(ERROR)
                              434 ; 20   |#define ERROR   -1
                              435 ; 21   |#endif
                              436 ; 22   |#if !defined(FALSE)
                              437 ; 23   |#define FALSE 0
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page   8

M:ADDR CODE           CYCLES LINE SOURCELINE
                              438 ; 24   |#endif
                              439 ; 25   |#if !defined(TRUE)
                              440 ; 26   |#define TRUE  1
                              441 ; 27   |#endif
                              442 ; 28   |
                              443 ; 29   |#if !defined(NULL)
                              444 ; 30   |#define NULL 0
                              445 ; 31   |#endif
                              446 ; 32   |
                              447 ; 33   |#define MAX_INT     0x7FFFFF
                              448 ; 34   |#define MAX_LONG    0x7FFFFFffffff
                              449 ; 35   |        // max positive unsigned long value: -1 == 0xFFFFFFffffff
                              450 ; 36   |#define MAX_ULONG   (-1) 
                              451 ; 37   |
                              452 ; 38   |#define WORD_SIZE   24              // word size in bits
                              453 ; 39   |#define BYTES_PER_WORD 3            // 8 bit bytes
                              454 ; 40   |
                              455 ; 41   |
                              456 ; 42   |#define BYTE    unsigned char       // btVarName
                              457 ; 43   |#define CHAR    signed char         // cVarName
                              458 ; 44   |#define USHORT  unsigned short      // usVarName
                              459 ; 45   |#define SHORT   unsigned short      // sVarName
                              460 ; 46   |#define WORD    unsigned int        // wVarName
                              461 ; 47   |#define INT     signed int          // iVarName
                              462 ; 48   |#define DWORD   unsigned long       // dwVarName
                              463 ; 49   |#define LONG    signed long         // lVarName
                              464 ; 50   |#define BOOL    unsigned int        // bVarName
                              465 ; 51   |#define FRACT   _fract              // frVarName
                              466 ; 52   |#define LFRACT  long _fract         // lfrVarName
                              467 ; 53   |#define CIRC    _circ               // cp<type prefix>VarName (see below)
                              468 ; 54   |#define FLOAT   float               // fVarName
                              469 ; 55   |#define DBL     double              // dVarName
                              470 ; 56   |#define ENUM    enum                // eVarName
                              471 ; 57   |#define CMX     _complex            // cmxVarName
                              472 ; 58   |typedef WORD UCS3;                   // 
                              473 ; 59   |
                              474 ; 60   |#define UINT16  unsigned short
                              475 ; 61   |#define UINT8   unsigned char   
                              476 ; 62   |#define UINT32  unsigned long
                              477 ; 63   |#define UINT64  unsigned long   // need to figure out how to do 64 bit values.  Or port ex
                                  isiting code to only use 48 bit
                              478 ; 64   |#define INT64   unsigned long   // need to figure out how to do 64 bit values.  Or port ex
                                  isiting code to only use 48 bit
                              479 ; 65   |#define WCHAR   UINT16
                              480 ; 66   |
                              481 ; 67   |//UINT128 is 16 bytes or 6 words
                              482 ; 68   |typedef struct UINT128_3500 {   
                              483 ; 69   |    int val[6];     
                              484 ; 70   |} UINT128_3500;
                              485 ; 71   |
                              486 ; 72   |#define UINT128   UINT128_3500
                              487 ; 73   |
                              488 ; 74   |// Little endian word packed byte strings:   
                              489 ; 75   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                              490 ; 76   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                              491 ; 77   |// Little endian word packed byte strings:   
                              492 ; 78   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                              493 ; 79   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                              494 ; 80   |
                              495 ; 81   |// Declare Memory Spaces To Use When Coding
                              496 ; 82   |// A. Sector Buffers
                              497 ; 83   |#define SECTOR_BUFFER_MEM_X _X
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page   9

M:ADDR CODE           CYCLES LINE SOURCELINE
                              498 ; 84   |#define SECTOR_BUFFER_MEM_Y _Y
                              499 ; 85   |#define SECTOR_BUFFER_MEM SECTOR_BUFFER_MEM_X
                              500 ; 86   |typedef WORD SECTOR_BUFFER_MEM SECTOR_BUFFER;
                              501 ; 87   |typedef SECTOR_BUFFER * P_SECTOR_BUFFER;
                              502 ; 88   |// B. Media DDI Memory
                              503 ; 89   |#define MEDIA_DDI_MEM _Y
                              504 ; 90   |
                              505 ; 91   |
                              506 ; 92   |
                              507 ; 93   |// Pointers to linear structures are labeled as: p<type prefix>VarName
                              508 ; 94   |// Examples of circular pointers:
                              509 ; 95   |//    INT CIRC cpiVarName
                              510 ; 96   |//    DWORD CIRC cpdwVarName
                              511 ; 97   |
                              512 ; 98   |#define RETCODE INT                 // rcVarName
                              513 ; 99   |
                              514 ; 100  |// generic bitfield structure
                              515 ; 101  |struct Bitfield {
                              516 ; 102  |    unsigned int B0  :1;
                              517 ; 103  |    unsigned int B1  :1;
                              518 ; 104  |    unsigned int B2  :1;
                              519 ; 105  |    unsigned int B3  :1;
                              520 ; 106  |    unsigned int B4  :1;
                              521 ; 107  |    unsigned int B5  :1;
                              522 ; 108  |    unsigned int B6  :1;
                              523 ; 109  |    unsigned int B7  :1;
                              524 ; 110  |    unsigned int B8  :1;
                              525 ; 111  |    unsigned int B9  :1;
                              526 ; 112  |    unsigned int B10 :1;
                              527 ; 113  |    unsigned int B11 :1;
                              528 ; 114  |    unsigned int B12 :1;
                              529 ; 115  |    unsigned int B13 :1;
                              530 ; 116  |    unsigned int B14 :1;
                              531 ; 117  |    unsigned int B15 :1;
                              532 ; 118  |    unsigned int B16 :1;
                              533 ; 119  |    unsigned int B17 :1;
                              534 ; 120  |    unsigned int B18 :1;
                              535 ; 121  |    unsigned int B19 :1;
                              536 ; 122  |    unsigned int B20 :1;
                              537 ; 123  |    unsigned int B21 :1;
                              538 ; 124  |    unsigned int B22 :1;
                              539 ; 125  |    unsigned int B23 :1;
                              540 ; 126  |};
                              541 ; 127  |
                              542 ; 128  |union BitInt {
                              543 ; 129  |        struct Bitfield B;
                              544 ; 130  |        int        I;
                              545 ; 131  |};
                              546 ; 132  |
                              547 ; 133  |#define MAX_MSG_LENGTH 10
                              548 ; 134  |struct CMessage
                              549 ; 135  |{
                              550 ; 136  |        unsigned int m_uLength;
                              551 ; 137  |        unsigned int m_uMsg[MAX_MSG_LENGTH];
                              552 ; 138  |};
                              553 ; 139  |
                              554 ; 140  |typedef struct {
                              555 ; 141  |    WORD m_wLength;
                              556 ; 142  |    WORD m_wMessage;
                              557 ; 143  |    WORD m_wParams[MAX_MSG_LENGTH];
                              558 ; 144  |} Message;
                              559 ; 145  |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  10

M:ADDR CODE           CYCLES LINE SOURCELINE
                              560 ; 146  |struct MessageQueueDescriptor
                              561 ; 147  |{
                              562 ; 148  |        int *m_pBase;
                              563 ; 149  |        int m_iModulo;
                              564 ; 150  |        int m_iSize;
                              565 ; 151  |        int *m_pHead;
                              566 ; 152  |        int *m_pTail;
                              567 ; 153  |};
                              568 ; 154  |
                              569 ; 155  |struct ModuleEntry
                              570 ; 156  |{
                              571 ; 157  |    int m_iSignaledEventMask;
                              572 ; 158  |    int m_iWaitEventMask;
                              573 ; 159  |    int m_iResourceOfCode;
                              574 ; 160  |    struct MessageQueueDescriptor *m_pMessageQueue;
                              575 ; 161  |    int _asmfunc (*m_pProcessEntryPoint)(union WaitMask Signals,struct MessageQueueDescrip
                                  tor *);
                              576 ; 162  |    int _asmfunc (*m_pInitFunction)(struct MessageQueueDescriptor *);
                              577 ; 163  |    int m_uTimeOutHigh;
                              578 ; 164  |    int m_uTimeOutLow;
                              579 ; 165  |    int _asmfunc (*m_pBackgroundFunction)(struct MessageQueueDescriptor *);
                              580 ; 166  |};
                              581 ; 167  |
                              582 ; 168  |union WaitMask{
                              583 ; 169  |    struct B{
                              584 ; 170  |        unsigned int m_bNone     :1;
                              585 ; 171  |        unsigned int m_bMessage  :1;
                              586 ; 172  |        unsigned int m_bTimer    :1;
                              587 ; 173  |        unsigned int m_bButton   :1;
                              588 ; 174  |    } B;
                              589 ; 175  |    int I;
                              590 ; 176  |} ;
                              591 ; 177  |
                              592 ; 178  |
                              593 ; 179  |struct Button {
                              594 ; 180  |        WORD wButtonEvent;
                              595 ; 181  |        WORD wUnused[MAX_MSG_LENGTH];   
                              596 ; 182  |};
                              597 ; 183  |
                              598 ; 184  |struct Message {
                              599 ; 185  |        WORD wMsgLength;
                              600 ; 186  |        WORD wMsgCommand;
                              601 ; 187  |        WORD wMsgParms[MAX_MSG_LENGTH-1];
                              602 ; 188  |};
                              603 ; 189  |
                              604 ; 190  |union EventTypes {
                              605 ; 191  |        struct CMessage msg;
                              606 ; 192  |        struct Button Button ;
                              607 ; 193  |        struct Message Message;
                              608 ; 194  |};
                              609 ; 195  |
                              610 ; 196  |// next 2 used to get updater build to return correct protocol ver in scsi response.
                              611 ; 197  |#define BUILD_TYPE_UPDATER  0x100
                              612 ; 198  |#define BUILD_TYPE_HOSTLINK 0x101
                              613 ; 199  |#define BUILD_TYPE_PLAYER   0x102
                              614 ; 200  |
                              615 ; 201  |// Resets part if RETAIL build. DEBUG build executes debug instruction to halt.
                              616 ; 202  |#define SystemHalt() __asm(" include 'sysmacro.asm' \n error") 
                              617 ; 203  |#define assert(x)    if(!(x)) __asm(" include 'sysmacro.asm' \n error")
                              618 ; 204  |
                              619 ; 205  |#if DEBUG
                              620 ; 206  |// For DEBUG builds, DebugBuildAssert(condition) halts if condition evaluates to FALSE. 
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  11

M:ADDR CODE           CYCLES LINE SOURCELINE
                              621 ; 207  |#define DebugBuildAssert(x)    if(!(x)) __asm(" debug ")
                              622 ; 208  |#else 
                              623 ; 209  |// For RETAIL builds, DebugBuildAssert(condition) does nothing & execution continues rathe
                                  r than halt or reset. 
                              624 ; 210  |#define DebugBuildAssert(x)    
                              625 ; 211  |#endif
                              626 ; 212  |
                              627 ; 213  |// Do this in your C files to make a reminder that's displayed during the build.
                              628 ; 214  |//  #pragma asm
                              629 ; 215  |//  WARN 'Note to builder: reminder to do this after verifying that'
                              630 ; 216  |//  #pragma endasm
                              631 ; 217  |
                              632 ; 218  |
                              633 ; 219  |#ifdef COLOR_262K
                              634 ; 220  |#define RGB(r,g,b)    ((0x0000FC & (r)) << 10) | ((0x0000FC & (g)) << 4) | ((0x0000FC & (b
                                  )) >> 2)    //262k
                              635 ; 221  |#elif defined(COLOR_65K)
                              636 ; 222  |#define RGB(r,g,b)    ((0x0000F8 & (r)) << 8) | ((0x0000FC & (g)) << 3) | ((0x0000F8 & (b)
                                  ) >> 3)  //65k
                              637 ; 223  |#else
                              638 ; 224  |#define RGB(r,g,b)       ((0x0000F0 & (r)) << 4) | (0x0000F0 & (g)) | ((0x0000F0 & (b)) >>
                                   4)
                              639 ; 225  |#endif
                              640 ; 226  |    
                              641 ; 227  |#endif // #ifndef _TYPES_H
                              642 
                              644 
                              645 ; 17   |#include "regsclkctrl.h"
                              646 
                              648 
                              649 ; 1    |#if !(defined(__REGS_CLK_CONTROL_INC))
                              650 ; 2    |#define __REGS_CLK_CONTROL_INC 1
                              651 ; 3    |
                              652 ; 4    |
                              653 ; 5    |/////////////////////////////////////////////////////////////////////////////////
                              654 ; 6    |//  Clock Control Register (HW_CCR) Bit Positions
                              655 ; 7    |#define HW_CCR_CKRST_BITPOS 0
                              656 ; 8    |#define HW_CCR_LTC_BITPOS 1
                              657 ; 9    |#define HW_CCR_PLLEN_BITPOS 2
                              658 ; 10   |#define HW_CCR_XTLEN_BITPOS 3
                              659 ; 11   |#define HW_CCR_PLL_SOURCE_SEL_BITPOS 4
                              660 ; 12   |#define HW_CCR_ADIV_B0_BITPOS 5
                              661 ; 13   |#define HW_CCR_ADIV_B1_BITPOS 6
                              662 ; 14   |#define HW_CCR_ADIV_B2_BITPOS 7
                              663 ; 15   |#define HW_CCR_CKSRC_BITPOS 8
                              664 ; 16   |#define HW_CCR_DDIV_BITPOS 9
                              665 ; 17   |#define HW_CCR_DDIV_B0_BITPOS 9
                              666 ; 18   |#define HW_CCR_DDIV_B1_BITPOS 10
                              667 ; 19   |#define HW_CCR_DDIV_B2_BITPOS 11
                              668 ; 20   |#define HW_CCR_PDIV_BITPOS 12
                              669 ; 21   |#define HW_CCR_PDIV_B0_BITPOS 12
                              670 ; 22   |#define HW_CCR_PDIV_B1_BITPOS 13
                              671 ; 23   |#define HW_CCR_PDIV_B2_BITPOS 14
                              672 ; 24   |#define HW_CCR_PDIV_B3_BITPOS 15
                              673 ; 25   |#define HW_CCR_PDIV_B4_BITPOS 16
                              674 ; 26   |#define HW_CCR_PWDN_BITPOS 17
                              675 ; 27   |#define HW_CCR_ACKEN_BITPOS 18
                              676 ; 28   |#define HW_CCR_LOCK_BITPOS 19
                              677 ; 29   |#define HW_CCR_DACDIV_BITPOS 20
                              678 ; 30   |#define HW_CCR_ADIV1_B0_BITPOS 20
                              679 ; 31   |#define HW_CCR_ADIV1_B1_BITPOS 21
                              680 ; 32   |#define HW_CCR_ADIV1_B2_BITPOS 22
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  12

M:ADDR CODE           CYCLES LINE SOURCELINE
                              681 ; 33   |#define HW_CCR_DDIV_MSB_BITPOS 23
                              682 ; 34   |
                              683 ; 35   |#define HW_CCR_CKRST_SETMASK 1<<HW_CCR_CKRST_BITPOS
                              684 ; 36   |#define HW_CCR_LTC_SETMASK 1<<HW_CCR_LTC_BITPOS
                              685 ; 37   |#define HW_CCR_PLLEN_SETMASK 1<<HW_CCR_PLLEN_BITPOS
                              686 ; 38   |#define HW_CCR_XTLEN_SETMASK 1<<HW_CCR_XTLEN_BITPOS
                              687 ; 39   |#define HW_CCR_ADCDIV_SETMASK 0x7<<HW_CCR_ADIV_B0_BITPOS
                              688 ; 40   |#define HW_CCR_CKSRC_SETMASK 1<<HW_CCR_CKSRC_BITPOS
                              689 ; 41   |#define HW_CCR_DDIV_SETMASK 0x7<<HW_CCR_DDIV_BITPOS
                              690 ; 42   |#define HW_CCR_PDIV_SETMASK 0x1F<<HW_CCR_PDIV_BITPOS
                              691 ; 43   |#define HW_CCR_PWDN_SETMASK 1<<HW_CCR_PWDN_BITPOS
                              692 ; 44   |#define HW_CCR_ACKEN_SETMASK 1<<HW_CCR_ACKEN_BITPOS
                              693 ; 45   |#define HW_CCR_LOCK_SETMASK 1<<HW_CCR_LOCK_BITPOS
                              694 ; 46   |#define HW_CCR_DACDIV_SETMASK 0x7<<HW_CCR_DACDIV_BITPOS
                              695 ; 47   |
                              696 ; 48   |#define HW_CCR_CKRST_CLRMASK ~(WORD)HW_CCR_CKRST_SETMASK
                              697 ; 49   |#define HW_CCR_LTC_CLRMASK ~(WORD)HW_CCR_LTC_SETMASK
                              698 ; 50   |#define HW_CCR_PLLEN_CLRMASK ~(WORD)HW_CCR_PLLEN_SETMASK
                              699 ; 51   |#define HW_CCR_XTLEN_CLRMASK ~(WORD)HW_CCR_XTLEN_SETMASK
                              700 ; 52   |#define HW_CCR_ADCDIV_CLRMASK ~(WORD)HW_CCR_ADCDIV_SETMASK
                              701 ; 53   |#define HW_CCR_CKSRC_CLRMASK ~(WORD)HW_CCR_CKSRC_SETMASK
                              702 ; 54   |#define HW_CCR_DDIV_CLRMASK ~(WORD)HW_CCR_DDIV_SETMASK
                              703 ; 55   |#define HW_CCR_PDIV_CLRMASK ~(WORD)HW_CCR_PDIV_SETMASK
                              704 ; 56   |#define HW_CCR_PWDN_CLRMASK ~(WORD)HW_CCR_PWDN_SETMASK
                              705 ; 57   |#define HW_CCR_ACKEN_CLRMASK ~(WORD)HW_CCR_ACKEN_SETMASK
                              706 ; 58   |#define HW_CCR_LOCK_CLRMASK ~(WORD)HW_CCR_LOCK_SETMASK
                              707 ; 59   |#define HW_CCR_DACDIV_CLRMASK ~(WORD)HW_CCR_DACDIV_SETMASK
                              708 ; 60   |
                              709 ; 61   |typedef union               
                              710 ; 62   |{
                              711 ; 63   |    struct
                              712 ; 64   |    {
                              713 ; 65   |        int CKRST       :1; // Clock Reset
                              714 ; 66   |        int LTC         :1;
                              715 ; 67   |        int PLLEN       :1;
                              716 ; 68   |        int XTLEN       :1;
                              717 ; 69   |        int FLB         :1;
                              718 ; 70   |        unsigned ADIV   :3;
                              719 ; 71   |        int CKSRC       :1;
                              720 ; 72   |        unsigned DDIV   :3;
                              721 ; 73   |        unsigned PDIV   :5;
                              722 ; 74   |        int PWDN        :1;
                              723 ; 75   |        int ACKEN       :1;
                              724 ; 76   |        int LOCK        :1;
                              725 ; 77   |        unsigned ADIV1  :3;
                              726 ; 78   |        unsigned DDIV_MSB:1;
                              727 ; 79   |    } B;
                              728 ; 80   |
                              729 ; 81   |    int I;
                              730 ; 82   |    unsigned int U;
                              731 ; 83   |
                              732 ; 84   |} ccr_type;
                              733 ; 85   |#define HW_CCR     (*(volatile ccr_type _X*) (0xFA00))
                              734 ; 86   |
                              735 ; 87   |/////////////////////////////////////////////////////////////////////////////////
                              736 ; 88   |//  Reset Control Register (HW_RCR) Bit Positions
                              737 ; 89   |#define HW_RCR_STKLVL_BITPOS 0
                              738 ; 90   |#define HW_RCR_SRST_BITPOS 4
                              739 ; 91   |#define HW_RCR_IRQA_BITPOS 8
                              740 ; 92   |#define HW_RCR_IRQB_BITPOS 9
                              741 ; 93   |#define HW_RCR_NMI_BITPOS 10
                              742 ; 94   |#define HW_RCR_SUNFLLVL_BITPOS 11
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  13

M:ADDR CODE           CYCLES LINE SOURCELINE
                              743 ; 95   |#define HW_RCR_SUNFLEN_BITPOS 15
                              744 ; 96   |#define HW_RCR_SOVFLLVL_BITPOS 16
                              745 ; 97   |#define HW_RCR_SOVFLEN_BITPOS 20
                              746 ; 98   |#define HW_RCR_IRQB2NMI_BITPOS 21
                              747 ; 99   |#define HW_RCR_SUNFL_BITPOS 22
                              748 ; 100  |#define HW_RCR_SOVFL_BITPOS 23
                              749 ; 101  |
                              750 ; 102  |#define HW_RCR_STKLVL_WIDTH (4)
                              751 ; 103  |#define HW_RCR_SRST_WIDTH (4)
                              752 ; 104  |#define HW_RCR_IRQA_WIDTH (1)
                              753 ; 105  |#define HW_RCR_IRQB_WIDTH (1)
                              754 ; 106  |#define HW_RCR_NMI_WIDTH (1)
                              755 ; 107  |#define HW_RCR_SUNFLLVL_WIDTH (4)
                              756 ; 108  |#define HW_RCR_SUNFLEN_WIDTH (1)
                              757 ; 109  |#define HW_RCR_SOVFLLVL_WIDTH (4)
                              758 ; 110  |#define HW_RCR_SOVFLEN_WIDTH (1)
                              759 ; 111  |#define HW_RCR_IRQB2NMI_WIDTH (1)
                              760 ; 112  |#define HW_RCR_SUNFL_WIDTH (1)
                              761 ; 113  |#define HW_RCR_SOVFL_WIDTH (1)
                              762 ; 114  |
                              763 ; 115  |#define HW_RCR_STKLVL_SETMASK (((1<<HW_RCR_STKLVL_WIDTH)-1)<<HW_RCR_STKLVL_BITPOS)
                              764 ; 116  |#define HW_RCR_SRST_SETMASK (((1<<HW_RCR_SRST_WIDTH)-1)<<HW_RCR_SRST_BITPOS)
                              765 ; 117  |#define HW_RCR_IRQA_SETMASK (((1<<HW_RCR_IRQA_WIDTH)-1)<<HW_RCR_IRQA_BITPOS)
                              766 ; 118  |#define HW_RCR_IRQB_SETMASK (((1<<HW_RCR_IRQB_WIDTH)-1)<<HW_RCR_IRQB_BITPOS)
                              767 ; 119  |#define HW_RCR_NMI_SETMASK (((1<<HW_RCR_NMI_WIDTH)-1)<<HW_RCR_NMI_BITPOS)
                              768 ; 120  |#define HW_RCR_SUNFLLVL_SETMASK (((1<<HW_RCR_SUNFLLVL_WIDTH)-1)<<HW_RCR_SUNFLLVL_BITPOS)
                              769 ; 121  |#define HW_RCR_SUNFLEN_SETMASK (((1<<HW_RCR_SUNFLEN_WIDTH)-1)<<HW_RCR_SUNFLEN_BITPOS)
                              770 ; 122  |#define HW_RCR_SOVFLLVL_SETMASK (((1<<HW_RCR_SOVFLLVL_WIDTH)-1)<<HW_RCR_SOVFLLVL_BITPOS)
                              771 ; 123  |#define HW_RCR_SOVFLEN_SETMASK (((1<<HW_RCR_SOVFLEN_WIDTH)-1)<<HW_RCR_SOVFLEN_BITPOS)
                              772 ; 124  |#define HW_RCR_IRQB2NMI_SETMASK (((1<<HW_RCR_IRQB2NMI_WIDTH)-1)<<HW_RCR_IRQB2NMI_BITPOS)
                              773 ; 125  |#define HW_RCR_SUNFL_SETMASK (((1<<HW_RCR_SUNFL_WIDTH)-1)<<HW_RCR_SUNFL_BITPOS)
                              774 ; 126  |#define HW_RCR_SOVFL_SETMASK (((1<<HW_RCR_SOVFL_WIDTH)-1)<<HW_RCR_SOVFL_BITPOS)
                              775 ; 127  |
                              776 ; 128  |#define HW_RCR_STKLVL_CLRMASK ~(WORD)HW_RCR_STKLVL_SETMASK
                              777 ; 129  |#define HW_RCR_SRST_CLRMASK ~(WORD)HW_RCR_SRST_SETMASK
                              778 ; 130  |#define HW_RCR_IRQA_CLRMASK ~(WORD)HW_RCR_IRQA_SETMASK
                              779 ; 131  |#define HW_RCR_IRQB_CLRMASK ~(WORD)HW_RCR_IRQB_SETMASK
                              780 ; 132  |#define HW_RCR_NMI_CLRMASK ~(WORD)HW_RCR_NMI_SETMASK
                              781 ; 133  |#define HW_RCR_SUNFLLVL_CLRMASK ~(WORD)HW_RCR_SUNFLLVL_SETMASK
                              782 ; 134  |#define HW_RCR_SUNFLEN_CLRMASK ~(WORD)HW_RCR_SUNFLEN_SETMASK
                              783 ; 135  |#define HW_RCR_SOVFLLVL_CLRMASK ~(WORD)HW_RCR_SOVFLLVL_SETMASK
                              784 ; 136  |#define HW_RCR_SOVFLEN_CLRMASK ~(WORD)HW_RCR_SOVFLEN_SETMASK
                              785 ; 137  |#define HW_RCR_IRQB2NMI_CLRMASK ~(WORD)HW_RCR_IRQB2NMI_SETMASK
                              786 ; 138  |#define HW_RCR_SUNFL_CLRMASK ~(WORD)HW_RCR_SUNFL_SETMASK
                              787 ; 139  |#define HW_RCR_SOVFL_CLRMASK ~(WORD)HW_RCR_SOVFL_SETMASK
                              788 ; 140  |
                              789 ; 141  |typedef union               
                              790 ; 142  |{
                              791 ; 143  |    struct
                              792 ; 144  |   {
                              793 ; 145  |        int STKLVL   : HW_RCR_STKLVL_WIDTH;
                              794 ; 146  |        int SRST     : HW_RCR_SRST_WIDTH;
                              795 ; 147  |        int IRQA     : HW_RCR_IRQA_WIDTH;
                              796 ; 148  |        int IRQB     : HW_RCR_IRQB_WIDTH;
                              797 ; 149  |        int NMI      : HW_RCR_NMI_WIDTH;
                              798 ; 150  |        int SUNFLLVL : HW_RCR_SUNFLLVL_WIDTH;
                              799 ; 151  |        int SUNFLEN  : HW_RCR_SUNFLEN_WIDTH;
                              800 ; 152  |        int SOVFLLVL : HW_RCR_SOVFLLVL_WIDTH;
                              801 ; 153  |        int SOVFLEN  : HW_RCR_SOVFLEN_WIDTH;
                              802 ; 154  |        int IRQB2NMI : HW_RCR_IRQB2NMI_WIDTH;
                              803 ; 155  |        int SUNFL    : HW_RCR_SUNFL_WIDTH;
                              804 ; 156  |        int SOVFL    : HW_RCR_SOVFL_WIDTH;
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  14

M:ADDR CODE           CYCLES LINE SOURCELINE
                              805 ; 157  |    } B;
                              806 ; 158  |
                              807 ; 159  |    int I;
                              808 ; 160  |    unsigned int U;
                              809 ; 161  |
                              810 ; 162  |} rcr_type;
                              811 ; 163  |#define HW_RCR     (*(volatile rcr_type _X*) (0xFA01))
                              812 ; 164  |
                              813 ; 165  |
                              814 ; 166  |/////////////////////////////////////////////////////////////////////////////////
                              815 ; 167  |//  DCLK Count Lower register (HW_DCLKCNTL) Bit Positions
                              816 ; 168  |#define HW_DCLKCNTL_LOW_BITPOS 0
                              817 ; 169  |
                              818 ; 170  |#define HW_DCLKCNTL_LOW_WIDTH (24)        
                              819 ; 171  |
                              820 ; 172  |#define HW_DCLKCNTL_LOW_SETMASK (((1<<HW_DCLKCNTL_LOW_WIDTH)-1)<<HW_DCLKCNTL_LOW_BITPOS) 
                              821 ; 173  |#define HW_DCLKCNTL_LOW_CLRMASK ~(WORD)HW_DCLKCNTL_LOW_SETMASK
                              822 ; 174  |typedef union               
                              823 ; 175  |{
                              824 ; 176  |    struct
                              825 ; 177  |   {
                              826 ; 178  |        int LOW;
                              827 ; 179  |    } B;
                              828 ; 180  |
                              829 ; 181  |    int I;
                              830 ; 182  |    unsigned int U;
                              831 ; 183  |
                              832 ; 184  |} dclkcntl_type;
                              833 ; 185  |#define HW_DCLKCNTL (*(volatile dclkcntl_type _X*) (0xFFEA))
                              834 ; 186  |
                              835 ; 187  |/////////////////////////////////////////////////////////////////////////////////
                              836 ; 188  |//  DCLK Count UPPER register (HW_DCLKCNTU) Bit Positions
                              837 ; 189  |#define HW_DCLKCNTU_HIGH_BITPOS 0
                              838 ; 190  |
                              839 ; 191  |#define HW_DCLKCNTU_HIGH_WIDTH (24)        
                              840 ; 192  |
                              841 ; 193  |#define HW_DCLKCNTU_HIGH_SETMASK (((1<<HW_DCLKCNTU_HIGH_WIDTH)-1)<<HW_DCLKCNTU_HIGH_BITPOS
                                  ) 
                              842 ; 194  |#define HW_DCLKCNTU_HIGH_CLRMASK ~(WORD)HW_DCLKCNTU_HIGH_SETMASK
                              843 ; 195  |typedef union               
                              844 ; 196  |{
                              845 ; 197  |    struct
                              846 ; 198  |   {
                              847 ; 199  |        int HIGH;
                              848 ; 200  |    } B;
                              849 ; 201  |
                              850 ; 202  |    int I;
                              851 ; 203  |    unsigned int U;
                              852 ; 204  |
                              853 ; 205  |} dclkcntu_type;
                              854 ; 206  |#define HW_DCLKCNTU (*(volatile dclkcntu_type _X*) (0xFFEB))
                              855 ; 207  |
                              856 ; 208  |//*********************  REGISTER ALIAS DEFINES TO MATCH LEGACY CODE *********************
                                  **********
                              857 ; 209  |// The following defines were added to match regs3410.inc definition to build SDK2XXX code
                                   without needing 
                              858 ; 210  |// to update the actual files. Only the defines needed to build SDK2.400 were added. 
                              859 ; 211  |
                              860 ; 212  |// Clock count register (lower)
                              861 ; 213  |#define HW_CLK_CNT_L 0x00FFEA         
                              862 ; 214  |// Clock count register (upper)
                              863 ; 215  |#define HW_CLK_CNT_U 0x00FFEB         
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  15

M:ADDR CODE           CYCLES LINE SOURCELINE
                              864 ; 216  |// Cycle steal count register
                              865 ; 217  |#define HW_CYC_STEAL 0x00FFEC         
                              866 ; 218  |
                              867 ; 219  |#endif
                              868 ; 220  |
                              869 ; 221  |
                              870 
                              872 
                              873 ; 18   |#include "regscore.h"
                              874 
                              876 
                              877 ; 1    |#if !(defined(__REGS_STATUS_INC))
                              878 ; 2    |#define __REGS_STATUS_INC 1
                              879 ; 3    |
                              880 ; 4    |
                              881 ; 5    |/////////////////////////////////////////////////////////////////////////////////
                              882 ; 6    |//  OMR Register (HW_OMR) Bit Positions
                              883 ; 7    |#define HW_OMR_MA_BITPOS 0
                              884 ; 8    |#define HW_OMR_MB_BITPOS 1
                              885 ; 9    |#define HW_OMR_DE_BITPOS 2
                              886 ; 10   |#define HW_OMR_YE_BITPOS 3
                              887 ; 11   |#define HW_OMR_MC_BITPOS 4
                              888 ; 12   |#define HW_OMR_SD_BITPOS 6
                              889 ; 13   |
                              890 ; 14   |#define HW_OMR_MA_SETMASK 1<<HW_OMR_MA_BITPOS
                              891 ; 15   |#define HW_OMR_MB_SETMASK 1<<HW_OMR_MB_BITPOS
                              892 ; 16   |#define HW_OMR_DE_SETMASK 1<<HW_OMR_DE_BITPOS
                              893 ; 17   |#define HW_OMR_YE_SETMASK 1<<HW_OMR_YE_BITPOS
                              894 ; 18   |#define HW_OMR_MC_SETMASK 1<<HW_OMR_MC_BITPOS
                              895 ; 19   |#define HW_OMR_SD_SETMASK 1<<HW_OMR_SD_BITPOS
                              896 ; 20   |
                              897 ; 21   |#define HW_OMR_MA_CLRMASK ~(WORD)HW_OMR_MA_SETMASK
                              898 ; 22   |#define HW_OMR_MB_CLRMASK ~(WORD)HW_OMR_MB_SETMASK
                              899 ; 23   |#define HW_OMR_DE_CLRMASK ~(WORD)HW_OMR_DE_SETMASK
                              900 ; 24   |#define HW_OMR_YE_CLRMASK ~(WORD)HW_OMR_YE_SETMASK
                              901 ; 25   |#define HW_OMR_MC_CLRMASK ~(WORD)HW_OMR_MC_SETMASK
                              902 ; 26   |#define HW_OMR_SD_CLRMASK ~(WORD)HW_OMR_SD_SETMASK
                              903 ; 27   |
                              904 ; 28   |
                              905 ; 29   |/////////////////////////////////////////////////////////////////////////////////
                              906 ; 30   |//  Status Register (HW_SR) Bit Positions
                              907 ; 31   |#define HW_SR_C_BITPOS 0
                              908 ; 32   |#define HW_SR_O_BITPOS 1
                              909 ; 33   |#define HW_SR_Z_BITPOS 2
                              910 ; 34   |#define HW_SR_N_BITPOS 3
                              911 ; 35   |#define HW_SR_U_BITPOS 4
                              912 ; 36   |#define HW_SR_E_BITPOS 5
                              913 ; 37   |#define HW_SR_L_BITPOS 6
                              914 ; 38   |#define HW_SR_IM_BITPOS 8
                              915 ; 39   |#define HW_SR_IM0_BITPOS 8
                              916 ; 40   |#define HW_SR_IM1_BITPOS 9
                              917 ; 41   |#define HW_SR_SM_BITPOS 10
                              918 ; 42   |#define HW_SR_SM0_BITPOS 10
                              919 ; 43   |#define HW_SR_SM1_BITPOS 11
                              920 ; 44   |#define HW_SR_TM_BITPOS 13
                              921 ; 45   |#define HW_SR_DP_BITPOS 14
                              922 ; 46   |#define HW_SR_LOOP_BITPOS 15
                              923 ; 47   |
                              924 ; 48   |#define HW_SR_C_SETMASK 1<<HW_SR_C_BITPOS
                              925 ; 49   |#define HW_SR_O_SETMASK 1<<HW_SR_O_BITPOS
                              926 ; 50   |#define HW_SR_Z_SETMASK 1<<HW_SR_Z_BITPOS
                              927 ; 51   |#define HW_SR_N_SETMASK 1<<HW_SR_N_BITPOS
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  16

M:ADDR CODE           CYCLES LINE SOURCELINE
                              928 ; 52   |#define HW_SR_U_SETMASK 1<<HW_SR_U_BITPOS
                              929 ; 53   |#define HW_SR_E_SETMASK 1<<HW_SR_E_BITPOS
                              930 ; 54   |#define HW_SR_L_SETMASK 1<<HW_SR_L_BITPOS
                              931 ; 55   |#define HW_SR_IM_SETMASK 3<<HW_SR_IM_BITPOS
                              932 ; 56   |#define HW_SR_IM0_SETMASK 1<<HW_SR_IM0_BITPOS
                              933 ; 57   |#define HW_SR_IM1_SETMASK 1<<HW_SR_IM1_BITPOS
                              934 ; 58   |#define HW_SR_IM_L0_SETMASK 0<<HW_SR_IM_BITPOS
                              935 ; 59   |#define HW_SR_IM_L1_SETMASK 1<<HW_SR_IM_BITPOS
                              936 ; 60   |#define HW_SR_IM_L2_SETMASK 2<<HW_SR_IM_BITPOS
                              937 ; 61   |#define HW_SR_IM_L3_SETMASK 3<<HW_SR_IM_BITPOS
                              938 ; 62   |#define HW_SR_SM_SETMASK 3<<HW_SR_SM_BITPOS
                              939 ; 63   |#define HW_SR_SM0_SETMASK 1<<HW_SR_SM0_BITPOS
                              940 ; 64   |#define HW_SR_SM1_SETMASK 1<<HW_SR_SM1_BITPOS
                              941 ; 65   |#define HW_SR_TM_SETMASK 1<<HW_SR_TM_BITPOS
                              942 ; 66   |#define HW_SR_DP_SETMASK 1<<HW_SR_DP_BITPOS
                              943 ; 67   |#define HW_SR_LOOP_SETMASK 1<<HW_SR_LOOP_BITPOS
                              944 ; 68   |
                              945 ; 69   |#define HW_SR_C_CLRMASK ~(WORD)HW_SR_C_SETMASK
                              946 ; 70   |#define HW_SR_O_CLRMASK ~(WORD)HW_SR_O_SETMASK
                              947 ; 71   |#define HW_SR_Z_CLRMASK ~(WORD)HW_SR_Z_SETMASK
                              948 ; 72   |#define HW_SR_N_CLRMASK ~(WORD)HW_SR_N_SETMASK
                              949 ; 73   |#define HW_SR_U_CLRMASK ~(WORD)HW_SR_U_SETMASK
                              950 ; 74   |#define HW_SR_E_CLRMASK ~(WORD)HW_SR_E_SETMASK
                              951 ; 75   |#define HW_SR_L_CLRMASK ~(WORD)HW_SR_L_SETMASK
                              952 ; 76   |#define HW_SR_IM_CLRMASK (0x00FFFF)&(~(WORD)HW_SR_IM_SETMASK)
                              953 ; 77   |#define HW_SR_IM0_CLRMASK ~(WORD)HW_SR_IM0_SETMASK
                              954 ; 78   |#define HW_SR_IM1_CLRMASK ~(WORD)HW_SR_IM1_SETMASK
                              955 ; 79   |#define HW_SR_SM_CLRMASK ~(WORD)HW_SR_SM_SETMASK
                              956 ; 80   |#define HW_SR_SM0_CLRMASK ~(WORD)HW_SR_SM0_SETMASK
                              957 ; 81   |#define HW_SR_SM1_CLRMASK ~(WORD)HW_SR_SM1_SETMASK
                              958 ; 82   |#define HW_SR_TM_CLRMASK ~(WORD)HW_SR_TM_SETMASK
                              959 ; 83   |#define HW_SR_DP_CLRMASK ~(WORD)HW_SR_DP_SETMASK
                              960 ; 84   |#define HW_SR_LOOP_CLRMASK ~(WORD)HW_SR_LOOP_SETMASK
                              961 ; 85   |
                              962 ; 86   |/////////////////////////////////////////////////////////////////////////////////
                              963 ; 87   |//  RAM/ROM Config Register Bit Positions
                              964 ; 88   |#define HW_RAM_ROM_CFG_ROM_IMAGE_EN_BITPOS 18
                              965 ; 89   |#define HW_RAM_ROM_CFG_ROM_CLK_EN_BITPOS 19
                              966 ; 90   |#define HW_RAM_ROM_CFG_PXRAM_CLK_EN_BITPOS 20
                              967 ; 91   |#define HW_RAM_ROM_CFG_PYRAM_CLK_EN_BITPOS 21
                              968 ; 92   |#endif
                              969 ; 93   |
                              970 ; 94   |
                              971 
                              973 
                              974 ; 19   |#include "regscodec.h"
                              975 
                              977 
                              978 ; 1    |#if !(defined(regscodecinc))
                              979 ; 2    |#define regscodecinc 1
                              980 ; 3    |
                              981 ; 4    |
                              982 ; 5    |
                              983 ; 6    |#include "types.h"
                              984 
                              986 
                              987 ; 1    |////////////////////////////////////////////////////////////////////////////////
                              988 ; 2    |// Copyright(C) SigmaTel, Inc. 2000-2004
                              989 ; 3    |//
                              990 ; 4    |// Filename: types.h
                              991 ; 5    |// Description: Standard data types
                              992 ; 6    |////////////////////////////////////////////////////////////////////////////////
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  17

M:ADDR CODE           CYCLES LINE SOURCELINE
                              993 ; 7    |
                              994 ; 8    |#ifndef _TYPES_H
                              995 ; 9    |#define _TYPES_H
                              996 ; 10   |
                              997 ; 11   |// TODO:  move this outta here!
                              998 ; 12   |#if !defined(NOERROR)
                              999 ; 13   |#define NOERROR 0
                             1000 ; 14   |#define SUCCESS 0
                             1001 ; 15   |#endif 
                             1002 ; 16   |#if !defined(SUCCESS)
                             1003 ; 17   |#define SUCCESS  0
                             1004 ; 18   |#endif
                             1005 ; 19   |#if !defined(ERROR)
                             1006 ; 20   |#define ERROR   -1
                             1007 ; 21   |#endif
                             1008 ; 22   |#if !defined(FALSE)
                             1009 ; 23   |#define FALSE 0
                             1010 ; 24   |#endif
                             1011 ; 25   |#if !defined(TRUE)
                             1012 ; 26   |#define TRUE  1
                             1013 ; 27   |#endif
                             1014 ; 28   |
                             1015 ; 29   |#if !defined(NULL)
                             1016 ; 30   |#define NULL 0
                             1017 ; 31   |#endif
                             1018 ; 32   |
                             1019 ; 33   |#define MAX_INT     0x7FFFFF
                             1020 ; 34   |#define MAX_LONG    0x7FFFFFffffff
                             1021 ; 35   |        // max positive unsigned long value: -1 == 0xFFFFFFffffff
                             1022 ; 36   |#define MAX_ULONG   (-1) 
                             1023 ; 37   |
                             1024 ; 38   |#define WORD_SIZE   24              // word size in bits
                             1025 ; 39   |#define BYTES_PER_WORD 3            // 8 bit bytes
                             1026 ; 40   |
                             1027 ; 41   |
                             1028 ; 42   |#define BYTE    unsigned char       // btVarName
                             1029 ; 43   |#define CHAR    signed char         // cVarName
                             1030 ; 44   |#define USHORT  unsigned short      // usVarName
                             1031 ; 45   |#define SHORT   unsigned short      // sVarName
                             1032 ; 46   |#define WORD    unsigned int        // wVarName
                             1033 ; 47   |#define INT     signed int          // iVarName
                             1034 ; 48   |#define DWORD   unsigned long       // dwVarName
                             1035 ; 49   |#define LONG    signed long         // lVarName
                             1036 ; 50   |#define BOOL    unsigned int        // bVarName
                             1037 ; 51   |#define FRACT   _fract              // frVarName
                             1038 ; 52   |#define LFRACT  long _fract         // lfrVarName
                             1039 ; 53   |#define CIRC    _circ               // cp<type prefix>VarName (see below)
                             1040 ; 54   |#define FLOAT   float               // fVarName
                             1041 ; 55   |#define DBL     double              // dVarName
                             1042 ; 56   |#define ENUM    enum                // eVarName
                             1043 ; 57   |#define CMX     _complex            // cmxVarName
                             1044 ; 58   |typedef WORD UCS3;                   // 
                             1045 ; 59   |
                             1046 ; 60   |#define UINT16  unsigned short
                             1047 ; 61   |#define UINT8   unsigned char   
                             1048 ; 62   |#define UINT32  unsigned long
                             1049 ; 63   |#define UINT64  unsigned long   // need to figure out how to do 64 bit values.  Or port ex
                                  isiting code to only use 48 bit
                             1050 ; 64   |#define INT64   unsigned long   // need to figure out how to do 64 bit values.  Or port ex
                                  isiting code to only use 48 bit
                             1051 ; 65   |#define WCHAR   UINT16
                             1052 ; 66   |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  18

M:ADDR CODE           CYCLES LINE SOURCELINE
                             1053 ; 67   |//UINT128 is 16 bytes or 6 words
                             1054 ; 68   |typedef struct UINT128_3500 {   
                             1055 ; 69   |    int val[6];     
                             1056 ; 70   |} UINT128_3500;
                             1057 ; 71   |
                             1058 ; 72   |#define UINT128   UINT128_3500
                             1059 ; 73   |
                             1060 ; 74   |// Little endian word packed byte strings:   
                             1061 ; 75   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                             1062 ; 76   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                             1063 ; 77   |// Little endian word packed byte strings:   
                             1064 ; 78   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                             1065 ; 79   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                             1066 ; 80   |
                             1067 ; 81   |// Declare Memory Spaces To Use When Coding
                             1068 ; 82   |// A. Sector Buffers
                             1069 ; 83   |#define SECTOR_BUFFER_MEM_X _X
                             1070 ; 84   |#define SECTOR_BUFFER_MEM_Y _Y
                             1071 ; 85   |#define SECTOR_BUFFER_MEM SECTOR_BUFFER_MEM_X
                             1072 ; 86   |typedef WORD SECTOR_BUFFER_MEM SECTOR_BUFFER;
                             1073 ; 87   |typedef SECTOR_BUFFER * P_SECTOR_BUFFER;
                             1074 ; 88   |// B. Media DDI Memory
                             1075 ; 89   |#define MEDIA_DDI_MEM _Y
                             1076 ; 90   |
                             1077 ; 91   |
                             1078 ; 92   |
                             1079 ; 93   |// Pointers to linear structures are labeled as: p<type prefix>VarName
                             1080 ; 94   |// Examples of circular pointers:
                             1081 ; 95   |//    INT CIRC cpiVarName
                             1082 ; 96   |//    DWORD CIRC cpdwVarName
                             1083 ; 97   |
                             1084 ; 98   |#define RETCODE INT                 // rcVarName
                             1085 ; 99   |
                             1086 ; 100  |// generic bitfield structure
                             1087 ; 101  |struct Bitfield {
                             1088 ; 102  |    unsigned int B0  :1;
                             1089 ; 103  |    unsigned int B1  :1;
                             1090 ; 104  |    unsigned int B2  :1;
                             1091 ; 105  |    unsigned int B3  :1;
                             1092 ; 106  |    unsigned int B4  :1;
                             1093 ; 107  |    unsigned int B5  :1;
                             1094 ; 108  |    unsigned int B6  :1;
                             1095 ; 109  |    unsigned int B7  :1;
                             1096 ; 110  |    unsigned int B8  :1;
                             1097 ; 111  |    unsigned int B9  :1;
                             1098 ; 112  |    unsigned int B10 :1;
                             1099 ; 113  |    unsigned int B11 :1;
                             1100 ; 114  |    unsigned int B12 :1;
                             1101 ; 115  |    unsigned int B13 :1;
                             1102 ; 116  |    unsigned int B14 :1;
                             1103 ; 117  |    unsigned int B15 :1;
                             1104 ; 118  |    unsigned int B16 :1;
                             1105 ; 119  |    unsigned int B17 :1;
                             1106 ; 120  |    unsigned int B18 :1;
                             1107 ; 121  |    unsigned int B19 :1;
                             1108 ; 122  |    unsigned int B20 :1;
                             1109 ; 123  |    unsigned int B21 :1;
                             1110 ; 124  |    unsigned int B22 :1;
                             1111 ; 125  |    unsigned int B23 :1;
                             1112 ; 126  |};
                             1113 ; 127  |
                             1114 ; 128  |union BitInt {
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  19

M:ADDR CODE           CYCLES LINE SOURCELINE
                             1115 ; 129  |        struct Bitfield B;
                             1116 ; 130  |        int        I;
                             1117 ; 131  |};
                             1118 ; 132  |
                             1119 ; 133  |#define MAX_MSG_LENGTH 10
                             1120 ; 134  |struct CMessage
                             1121 ; 135  |{
                             1122 ; 136  |        unsigned int m_uLength;
                             1123 ; 137  |        unsigned int m_uMsg[MAX_MSG_LENGTH];
                             1124 ; 138  |};
                             1125 ; 139  |
                             1126 ; 140  |typedef struct {
                             1127 ; 141  |    WORD m_wLength;
                             1128 ; 142  |    WORD m_wMessage;
                             1129 ; 143  |    WORD m_wParams[MAX_MSG_LENGTH];
                             1130 ; 144  |} Message;
                             1131 ; 145  |
                             1132 ; 146  |struct MessageQueueDescriptor
                             1133 ; 147  |{
                             1134 ; 148  |        int *m_pBase;
                             1135 ; 149  |        int m_iModulo;
                             1136 ; 150  |        int m_iSize;
                             1137 ; 151  |        int *m_pHead;
                             1138 ; 152  |        int *m_pTail;
                             1139 ; 153  |};
                             1140 ; 154  |
                             1141 ; 155  |struct ModuleEntry
                             1142 ; 156  |{
                             1143 ; 157  |    int m_iSignaledEventMask;
                             1144 ; 158  |    int m_iWaitEventMask;
                             1145 ; 159  |    int m_iResourceOfCode;
                             1146 ; 160  |    struct MessageQueueDescriptor *m_pMessageQueue;
                             1147 ; 161  |    int _asmfunc (*m_pProcessEntryPoint)(union WaitMask Signals,struct MessageQueueDescrip
                                  tor *);
                             1148 ; 162  |    int _asmfunc (*m_pInitFunction)(struct MessageQueueDescriptor *);
                             1149 ; 163  |    int m_uTimeOutHigh;
                             1150 ; 164  |    int m_uTimeOutLow;
                             1151 ; 165  |    int _asmfunc (*m_pBackgroundFunction)(struct MessageQueueDescriptor *);
                             1152 ; 166  |};
                             1153 ; 167  |
                             1154 ; 168  |union WaitMask{
                             1155 ; 169  |    struct B{
                             1156 ; 170  |        unsigned int m_bNone     :1;
                             1157 ; 171  |        unsigned int m_bMessage  :1;
                             1158 ; 172  |        unsigned int m_bTimer    :1;
                             1159 ; 173  |        unsigned int m_bButton   :1;
                             1160 ; 174  |    } B;
                             1161 ; 175  |    int I;
                             1162 ; 176  |} ;
                             1163 ; 177  |
                             1164 ; 178  |
                             1165 ; 179  |struct Button {
                             1166 ; 180  |        WORD wButtonEvent;
                             1167 ; 181  |        WORD wUnused[MAX_MSG_LENGTH];   
                             1168 ; 182  |};
                             1169 ; 183  |
                             1170 ; 184  |struct Message {
                             1171 ; 185  |        WORD wMsgLength;
                             1172 ; 186  |        WORD wMsgCommand;
                             1173 ; 187  |        WORD wMsgParms[MAX_MSG_LENGTH-1];
                             1174 ; 188  |};
                             1175 ; 189  |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  20

M:ADDR CODE           CYCLES LINE SOURCELINE
                             1176 ; 190  |union EventTypes {
                             1177 ; 191  |        struct CMessage msg;
                             1178 ; 192  |        struct Button Button ;
                             1179 ; 193  |        struct Message Message;
                             1180 ; 194  |};
                             1181 ; 195  |
                             1182 ; 196  |// next 2 used to get updater build to return correct protocol ver in scsi response.
                             1183 ; 197  |#define BUILD_TYPE_UPDATER  0x100
                             1184 ; 198  |#define BUILD_TYPE_HOSTLINK 0x101
                             1185 ; 199  |#define BUILD_TYPE_PLAYER   0x102
                             1186 ; 200  |
                             1187 ; 201  |// Resets part if RETAIL build. DEBUG build executes debug instruction to halt.
                             1188 ; 202  |#define SystemHalt() __asm(" include 'sysmacro.asm' \n error") 
                             1189 ; 203  |#define assert(x)    if(!(x)) __asm(" include 'sysmacro.asm' \n error")
                             1190 ; 204  |
                             1191 ; 205  |#if DEBUG
                             1192 ; 206  |// For DEBUG builds, DebugBuildAssert(condition) halts if condition evaluates to FALSE. 
                             1193 ; 207  |#define DebugBuildAssert(x)    if(!(x)) __asm(" debug ")
                             1194 ; 208  |#else 
                             1195 ; 209  |// For RETAIL builds, DebugBuildAssert(condition) does nothing & execution continues rathe
                                  r than halt or reset. 
                             1196 ; 210  |#define DebugBuildAssert(x)    
                             1197 ; 211  |#endif
                             1198 ; 212  |
                             1199 ; 213  |// Do this in your C files to make a reminder that's displayed during the build.
                             1200 ; 214  |//  #pragma asm
                             1201 ; 215  |//  WARN 'Note to builder: reminder to do this after verifying that'
                             1202 ; 216  |//  #pragma endasm
                             1203 ; 217  |
                             1204 ; 218  |
                             1205 ; 219  |#ifdef COLOR_262K
                             1206 ; 220  |#define RGB(r,g,b)    ((0x0000FC & (r)) << 10) | ((0x0000FC & (g)) << 4) | ((0x0000FC & (b
                                  )) >> 2)    //262k
                             1207 ; 221  |#elif defined(COLOR_65K)
                             1208 ; 222  |#define RGB(r,g,b)    ((0x0000F8 & (r)) << 8) | ((0x0000FC & (g)) << 3) | ((0x0000F8 & (b)
                                  ) >> 3)  //65k
                             1209 ; 223  |#else
                             1210 ; 224  |#define RGB(r,g,b)       ((0x0000F0 & (r)) << 4) | (0x0000F0 & (g)) | ((0x0000F0 & (b)) >>
                                   4)
                             1211 ; 225  |#endif
                             1212 ; 226  |    
                             1213 ; 227  |#endif // #ifndef _TYPES_H
                             1214 
                             1216 
                             1217 ; 7    |
                             1218 ; 8    |
                             1219 ; 9    |
                             1220 ; 10   |//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                             1221 ; 11   |
                             1222 ; 12   |//   SYSTEM STMP Registers 
                             1223 ; 13   |//      Last Edited 7.17.2003 M. Henson
                             1224 ; 14   |//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                             1225 ; 15   |
                             1226 ; 16   |#define HW_CODEC_BASEADDR (0xFA00)
                             1227 ; 17   |
                             1228 ; 18   |
                             1229 ; 19   |
                             1230 ; 20   |
                             1231 ; 21   |
                             1232 ; 22   |
                             1233 ; 23   |/////////////////////////////////////////////////////////////////////////////////
                             1234 ; 24   |//   Headphone Control Register (HW_HPCTRL) Bit Definitions
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  21

M:ADDR CODE           CYCLES LINE SOURCELINE
                             1235 ; 25   |#define HW_HPCTRL_TESTIALL_BITPOS 0
                             1236 ; 26   |#define HW_HPCTRL_TESTI1_BITPOS 2
                             1237 ; 27   |#define HW_HPCTRL_POP0_BITPOS 4
                             1238 ; 28   |#define HW_HPCTRL_POP1_BITPOS 5
                             1239 ; 29   |#define HW_HPCTRL_POP2_BITPOS 6
                             1240 ; 30   |#define HW_HPCTRL_RSVD0_BITPOS 7
                             1241 ; 31   |#define HW_HPCTRL_HPPWD_BITPOS 8
                             1242 ; 32   |#define HW_HPCTRL_HPCLASSAB_BITPOS 9
                             1243 ; 33   |#define HW_HPCTRL_CAPLESS_BITPOS 10
                             1244 ; 34   |#define HW_HPCTRL_RSRVD1_BITPOS 11
                             1245 ; 35   |#define HW_HPCTRL_SHORTMODE_LR_BITPOS 12
                             1246 ; 36   |#define HW_HPCTRL_SHORTMODE_CM_BITPOS 14
                             1247 ; 37   |#define HW_HPCTRL_SHORT_LVLADJ_BITPOS 16
                             1248 ; 38   |#define HW_HPCTRL_RSRVD2_BITPOS 19
                             1249 ; 39   |#define HW_HPCTRL_CHOP_CLK_BITPOS 20
                             1250 ; 40   |#define HW_HPCTRL_SHORT_LR_BITPOS 22
                             1251 ; 41   |#define HW_HPCTRL_SHORT_CM_BITPOS 23
                             1252 ; 42   |
                             1253 ; 43   |#define HW_HPCTRL_TESTIALL_WIDTH 2
                             1254 ; 44   |#define HW_HPCTRL_TESTI1_WIDTH 2
                             1255 ; 45   |#define HW_HPCTRL_POP0_WIDTH 1
                             1256 ; 46   |#define HW_HPCTRL_POP1_WIDTH 1
                             1257 ; 47   |#define HW_HPCTRL_POP2_WIDTH 1
                             1258 ; 48   |#define HW_HPCTRL_RSVD0_WIDTH 1
                             1259 ; 49   |#define HW_HPCTRL_HPPWD_WIDTH 1
                             1260 ; 50   |#define HW_HPCTRL_HPCLASSAB_WIDTH 1
                             1261 ; 51   |#define HW_HPCTRL_CAPLESS_WIDTH 1
                             1262 ; 52   |#define HW_HPCTRL_RSRVD1_WIDTH 1
                             1263 ; 53   |#define HW_HPCTRL_SHORTMODE_LR_WIDTH 2
                             1264 ; 54   |#define HW_HPCTRL_SHORTMODE_CM_WIDTH 2
                             1265 ; 55   |#define HW_HPCTRL_SHORT_LVLADJ_WIDTH 3
                             1266 ; 56   |#define HW_HPCTRL_RSRVD2_WIDTH 1
                             1267 ; 57   |#define HW_HPCTRL_CHOP_CLK_WIDTH 2
                             1268 ; 58   |#define HW_HPCTRL_SHORT_LR_WIDTH 1
                             1269 ; 59   |#define HW_HPCTRL_SHORT_CM_WIDTH 1
                             1270 ; 60   |
                             1271 ; 61   |#define HW_HPCTRL_POP_SETMASK 0x7<<HW_HPCTRL_POP0_BITPOS
                             1272 ; 62   |#define HW_HPCTRL_POP_CLRMASK ~(WORD)HW_HPCTRL_POP_SETMASK
                             1273 ; 63   |
                             1274 ; 64   |#define HW_HPCTRL_SHORT_LVLADJ_0_25X_SETMASK 0x3<<HW_HPCTRL_SHORT_LVLADJ_BITPOS
                             1275 ; 65   |#define HW_HPCTRL_SHORT_LVLADJ_0_50X_SETMASK 0x2<<HW_HPCTRL_SHORT_LVLADJ_BITPOS
                             1276 ; 66   |#define HW_HPCTRL_SHORT_LVLADJ_0_75X_SETMASK 0x1<<HW_HPCTRL_SHORT_LVLADJ_BITPOS
                             1277 ; 67   |#define HW_HPCTRL_SHORT_LVLADJ_1_00X_SETMASK 0x0<<HW_HPCTRL_SHORT_LVLADJ_BITPOS
                             1278 ; 68   |#define HW_HPCTRL_SHORT_LVLADJ_1_25X_SETMASK 0x4<<HW_HPCTRL_SHORT_LVLADJ_BITPOS
                             1279 ; 69   |#define HW_HPCTRL_SHORT_LVLADJ_1_50X_SETMASK 0x5<<HW_HPCTRL_SHORT_LVLADJ_BITPOS
                             1280 ; 70   |#define HW_HPCTRL_SHORT_LVLADJ_1_75X_SETMASK 0x6<<HW_HPCTRL_SHORT_LVLADJ_BITPOS
                             1281 ; 71   |#define HW_HPCTRL_SHORT_LVLADJ_2_00X_SETMASK 0x7<<HW_HPCTRL_SHORT_LVLADJ_BITPOS
                             1282 ; 72   |
                             1283 ; 73   |#if defined(CAPLESS_HP)
                             1284 ; 74   |#define HP_SHORT_TRIP_POINT HW_HPCTRL_SHORT_LVLADJ_0_75X_SETMASK
                             1285 ; 75   |#else 
                             1286 ; 76   |#define HP_SHORT_TRIP_POINT HW_HPCTRL_SHORT_LVLADJ_1_00X_SETMASK
                             1287 ; 77   |#endif
                             1288 ; 78   |
                             1289 ; 79   |// Headphone control register
                             1290 ; 80   |#define HW_HPCTRL (*(volatile hpctrl_type _X*)(HW_GLUE_BASEADDR+21))
                             1291 ; 81   |/////////////////////////////////////////////////////////////////////////////////
                             1292 ; 82   |//   Headphone Conrol Volume Register (HW_HPCTRL) Bit Definitions
                             1293 ; 83   |typedef union               
                             1294 ; 84   |{
                             1295 ; 85   |    struct {
                             1296 ; 86   |        unsigned TESTIALL :HW_HPCTRL_TESTIALL_WIDTH;
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  22

M:ADDR CODE           CYCLES LINE SOURCELINE
                             1297 ; 87   |        unsigned TESTI1 :HW_HPCTRL_TESTI1_WIDTH;
                             1298 ; 88   |        unsigned POP0 :HW_HPCTRL_POP0_WIDTH; 
                             1299 ; 89   |        unsigned POP1 :HW_HPCTRL_POP1_WIDTH; 
                             1300 ; 90   |        unsigned POP2 :HW_HPCTRL_POP2_WIDTH; 
                             1301 ; 91   |        unsigned RSVD0 :HW_HPCTRL_RSVD0_WIDTH;
                             1302 ; 92   |        unsigned HPPWD :HW_HPCTRL_HPPWD_WIDTH;
                             1303 ; 93   |        unsigned HPCLASSAB :HW_HPCTRL_HPCLASSAB_WIDTH;
                             1304 ; 94   |        unsigned CAPLESS :HW_HPCTRL_CAPLESS_WIDTH; 
                             1305 ; 95   |        unsigned RSRVD1 :HW_HPCTRL_RSRVD1_WIDTH;
                             1306 ; 96   |        unsigned SHORTMODE_LR :HW_HPCTRL_SHORTMODE_LR_WIDTH; 
                             1307 ; 97   |        unsigned SHORTMODE_CM :HW_HPCTRL_SHORTMODE_CM_WIDTH;
                             1308 ; 98   |        unsigned SHORT_LVLADJ :HW_HPCTRL_SHORT_LVLADJ_WIDTH; 
                             1309 ; 99   |        unsigned RSRVD2 :HW_HPCTRL_RSRVD2_WIDTH;
                             1310 ; 100  |        unsigned CHOP_CLK :HW_HPCTRL_CHOP_CLK_WIDTH; 
                             1311 ; 101  |        unsigned SHORT_LR :HW_HPCTRL_SHORT_LR_WIDTH;
                             1312 ; 102  |        unsigned SHORT_CM :HW_HPCTRL_SHORT_CM_WIDTH;
                             1313 ; 103  |    } B;
                             1314 ; 104  |    int I;
                             1315 ; 105  |    unsigned int U;
                             1316 ; 106  |} hpctrl_type;
                             1317 ; 107  |// Headphone control short mode 2 bit values for above short bitfield.
                             1318 ; 108  |#define HW_AUTO_HEADAMP_SHUTDOWN_HOLD_RESET   0
                             1319 ; 109  |#define HW_AUTO_HEADAMP_SHUTDOWN_EN           1 
                             1320 ; 110  |#define HW_AUTO_HEADAMP_SHUTDOWN_DIS          2
                             1321 ; 111  |#define HW_AUTO_HEADAMP_SHUTDOWN_DIRECT       3
                             1322 ; 112  |
                             1323 ; 113  |
                             1324 ; 114  |/////////////////////////////////////////////////////////////////////////////////
                             1325 ; 115  |/////////////////////////////////////////////////////////////////////////////////
                             1326 ; 116  |/////////////////////////////////////////////////////////////////////////////////
                             1327 ; 117  |/////////////////////////////////////////////////////////////////////////////////
                             1328 ; 118  |///////   MIXER REGISTERS ///////////////////////////////////////////////////////
                             1329 ; 119  |/////////////////////////////////////////////////////////////////////////////////
                             1330 ; 120  |/////////////////////////////////////////////////////////////////////////////////
                             1331 ; 121  |/////////////////////////////////////////////////////////////////////////////////
                             1332 ; 122  |
                             1333 ; 123  |
                             1334 ; 124  |/////////////////////////////////////////////////////////////////////////////////
                             1335 ; 125  |//   Codec/Mixer Test Register (HW_MIXTBR) Bit Definitions 
                             1336 ; 126  |#define HW_MIXTBR_INV_USB_CLK_BITPOS 0
                             1337 ; 127  |#define HW_MIXTBR_USB_DFF_BYPASS_BITPOS 1
                             1338 ; 128  |#define HW_MIXTBR_HOLD_GND_BITPOS 2
                             1339 ; 129  |#define HW_MIXTBR_ACKI_BITPOS 3
                             1340 ; 130  |#define HW_MIXTBR_ASD2X_BITPOS 4
                             1341 ; 131  |#define HW_MIXTBR_PCPCU_BITPOS 5
                             1342 ; 132  |#define HW_MIXTBR_PCPCD_BITPOS 6
                             1343 ; 133  |#define HW_MIXTBR_DCKI_BITPOS 7
                             1344 ; 134  |#define HW_MIXTBR_MIC_BIAS_OUT_SEL_BITPOS 8
                             1345 ; 135  |#define HW_MIXTBR_PSRN_BITPOS 9
                             1346 ; 136  |#define HW_MIXTBR_FX2_BITPOS 10
                             1347 ; 137  |#define HW_MIXTBR_VCOS_BITPOS 11
                             1348 ; 138  |#define HW_MIXTBR_XBCO_BITPOS 12
                             1349 ; 139  |#define HW_MIXTBR_XBGC_BITPOS 13
                             1350 ; 140  |#define HW_MIXTBR_ADTHD_BITPOS 14
                             1351 ; 141  |#define HW_MIXTBR_MICBIAS_LSBITPOS 15
                             1352 ; 142  |#define HW_MIXTBR_PWDADC_BITPOS 16
                             1353 ; 143  |#define HW_MIXTBR_MICBIAS1_BITPOS 17
                             1354 ; 144  |#define HW_MIXTBR_EZD_BITPOS 18
                             1355 ; 145  |#define HW_MIXTBR_DZCDA_BITPOS 19
                             1356 ; 146  |#define HW_MIXTBR_DZCFM_BITPOS 20
                             1357 ; 147  |#define HW_MIXTBR_DZCLI_BITPOS 21
                             1358 ; 148  |#define HW_MIXTBR_DZCMI_BITPOS 22
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  23

M:ADDR CODE           CYCLES LINE SOURCELINE
                             1359 ; 149  |#define HW_MIXTBR_DZCMA_BITPOS 23
                             1360 ; 150  |
                             1361 ; 151  |#define HW_MIXTBR_INV_USB_CLK_WIDTH (1)
                             1362 ; 152  |#define HW_MIXTBR_USB_DFF_BYPASS_WIDTH (1)
                             1363 ; 153  |#define HW_MIXTBR_HOLD_GND_WIDTH (1)
                             1364 ; 154  |#define HW_MIXTBR_ACKI_WIDTH (1)
                             1365 ; 155  |#define HW_MIXTBR_ASD2X_WIDTH (1)
                             1366 ; 156  |#define HW_MIXTBR_PCPCU_WIDTH (1)
                             1367 ; 157  |#define HW_MIXTBR_PCPCD_WIDTH (1)
                             1368 ; 158  |#define HW_MIXTBR_DCKI_WIDTH (1)
                             1369 ; 159  |#define HW_MIXTBR_MIC_BIAS_OUT_SEL_WIDTH (1)
                             1370 ; 160  |#define HW_MIXTBR_PSRN_WIDTH (1)
                             1371 ; 161  |#define HW_MIXTBR_FX2_WIDTH (1)
                             1372 ; 162  |#define HW_MIXTBR_VCOS_WIDTH (1)
                             1373 ; 163  |#define HW_MIXTBR_XBCO_WIDTH (1)
                             1374 ; 164  |#define HW_MIXTBR_XBGC_WIDTH (1)
                             1375 ; 165  |#define HW_MIXTBR_ADTHD_WIDTH (1)
                             1376 ; 166  |#define HW_MIXTBR_MICBIAS_LSWIDTH (1)
                             1377 ; 167  |#define HW_MIXTBR_PWDADC_WIDTH (1)
                             1378 ; 168  |#define HW_MIXTBR_MICBIAS1_WIDTH (1)
                             1379 ; 169  |#define HW_MIXTBR_EZD_WIDTH (1)
                             1380 ; 170  |#define HW_MIXTBR_DZCDA_WIDTH (1)
                             1381 ; 171  |#define HW_MIXTBR_DZCFM_WIDTH (1)
                             1382 ; 172  |#define HW_MIXTBR_DZCLI_WIDTH (1)
                             1383 ; 173  |#define HW_MIXTBR_DZCMI_WIDTH (1)
                             1384 ; 174  |#define HW_MIXTBR_DZCMA_WIDTH (1)
                             1385 ; 175  |
                             1386 ; 176  |
                             1387 ; 177  |#define HW_MIXTBR_INV_USB_CLK_SETMASK 1<<HW_MIXTBR_INV_USB_CLK_BITPOS
                             1388 ; 178  |#define HW_MIXTBR_USB_DFF_BYPASS_SETMASK 1<<HW_MIXTBR_USB_DFF_BYPASS_BITPOS
                             1389 ; 179  |#define HW_MIXTBR_HOLD_GND_SETMASK 1<<HW_MIXTBR_HOLD_GND_BITPOS
                             1390 ; 180  |#define HW_MIXTBR_ACKI_SETMASK 1<<HW_MIXTBR_ACKI_BITPOS
                             1391 ; 181  |#define HW_MIXTBR_ASD2X_SETMASK 1<<HW_MIXTBR_ASD2X_BITPOS
                             1392 ; 182  |#define HW_MIXTBR_PCPCU_SETMASK 1<<HW_MIXTBR_PCPCU_BITPOS
                             1393 ; 183  |#define HW_MIXTBR_PCPCD_SETMASK 1<<HW_MIXTBR_PCPCD_BITPOS
                             1394 ; 184  |#define HW_MIXTBR_DCKI_SETMASK 1<<HW_MIXTBR_DCKI_BITPOS
                             1395 ; 185  |#define HW_MIXTBR_MIC_BIAS_OUT_SEL_SETMASK 1<<HW_MIXTBR_MIC_BIAS_OUT_SEL_BITPOS
                             1396 ; 186  |#define HW_MIXTBR_PSRN_SETMASK 1<<HW_MIXTBR_PSRN_BITPOS
                             1397 ; 187  |#define HW_MIXTBR_FX2_SETMASK 1<<HW_MIXTBR_FX2_BITPOS
                             1398 ; 188  |#define HW_MIXTBR_VCOS_SETMASK 1<<HW_MIXTBR_VCOS_BITPOS
                             1399 ; 189  |#define HW_MIXTBR_XBCO_SETMASK 1<<HW_MIXTBR_XBCO_BITPOS
                             1400 ; 190  |#define HW_MIXTBR_XBGC_SETMASK 1<<HW_MIXTBR_XBGC_BITPOS
                             1401 ; 191  |#define HW_MIXTBR_ADTHD_SETMASK 1<<HW_MIXTBR_ADTHD_BITPOS
                             1402 ; 192  |#define HW_MIXTBR_MICBIAS_LSSETMASK 1<<HW_MIXTBR_MICBIAS_LSBITPOS
                             1403 ; 193  |#define HW_MIXTBR_PWDADC_SETMASK 1<<HW_MIXTBR_PWDADC_BITPOS
                             1404 ; 194  |#define HW_MIXTBR_MICBIAS1_SETMASK 1<<HW_MIXTBR_MICBIAS1_BITPOS
                             1405 ; 195  |#define HW_MIXTBR_EZD_SETMASK 1<<HW_MIXTBR_EZD_BITPOS
                             1406 ; 196  |#define HW_MIXTBR_DZCDA_SETMASK 1<<HW_MIXTBR_DZCDA_BITPOS
                             1407 ; 197  |#define HW_MIXTBR_DZCFM_SETMASK 1<<HW_MIXTBR_DZCFM_BITPOS
                             1408 ; 198  |#define HW_MIXTBR_DZCLI_SETMASK 1<<HW_MIXTBR_DZCLI_BITPOS
                             1409 ; 199  |#define HW_MIXTBR_DZCMI_SETMASK 1<<HW_MIXTBR_DZCMI_BITPOS
                             1410 ; 200  |#define HW_MIXTBR_DZCMA_SETMASK 1<<HW_MIXTBR_DZCMA_BITPOS
                             1411 ; 201  |
                             1412 ; 202  |#define HW_MIXTBR_INV_USB_CLK_CLRMASK ~(WORD)HW_MIXTBR_INV_USB_CLK_SETMASK
                             1413 ; 203  |#define HW_MIXTBR_USB_DFF_BYPASS_CLRMASK ~(WORD)HW_MIXTBR_USB_DFF_BYPASS_SETMASK
                             1414 ; 204  |#define HW_MIXTBR_HOLD_GND_CLRMASK ~(WORD)HW_MIXTBR_HOLD_GND_SETMASK
                             1415 ; 205  |#define HW_MIXTBR_ACKI_CLRMASK ~(WORD)HW_MIXTBR_ACKI_SETMASK
                             1416 ; 206  |#define HW_MIXTBR_ASD2X_CLRMASK ~(WORD)HW_MIXTBR_ASD2X_SETMASK
                             1417 ; 207  |#define HW_MIXTBR_PCPCU_CLRMASK ~(WORD)HW_MIXTBR_PCPCU_SETMASK
                             1418 ; 208  |#define HW_MIXTBR_PCPCD_CLRMASK ~(WORD)HW_MIXTBR_PCPCD_SETMASK
                             1419 ; 209  |#define HW_MIXTBR_DCKI_CLRMASK ~(WORD)HW_MIXTBR_DCKI_SETMASK
                             1420 ; 210  |#define HW_MIXTBR_MIC_BIAS_OUT_SEL_CLRMASK ~(WORD)HW_MIXTBR_MIC_BIAS_OUT_SEL_SETMASK
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  24

M:ADDR CODE           CYCLES LINE SOURCELINE
                             1421 ; 211  |#define HW_MIXTBR_PSRN_CLRMASK ~(WORD)HW_MIXTBR_PSRN_SETMASK
                             1422 ; 212  |#define HW_MIXTBR_FX2_CLRMASK ~(WORD)HW_MIXTBR_FX2_SETMASK
                             1423 ; 213  |#define HW_MIXTBR_VCOS_CLRMASK ~(WORD)HW_MIXTBR_VCOS_SETMASK
                             1424 ; 214  |#define HW_MIXTBR_XBCO_CLRMASK ~(WORD)HW_MIXTBR_XBCO_SETMASK
                             1425 ; 215  |#define HW_MIXTBR_XBGC_CLRMASK ~(WORD)HW_MIXTBR_XBGC_SETMASK
                             1426 ; 216  |#define HW_MIXTBR_ADTHD_CLRMASK ~(WORD)HW_MIXTBR_ADTHD_SETMASK
                             1427 ; 217  |#define HW_MIXTBR_MICBIAS_LSCLRMASK ~(WORD)HW_MIXTBR_MICBIAS_LSSETMASK
                             1428 ; 218  |#define HW_MIXTBR_PWDADC_CLRMASK ~(WORD)HW_MIXTBR_PWDADC_SETMASK
                             1429 ; 219  |#define HW_MIXTBR_MICBIAS1_CLRMASK ~(WORD)HW_MIXTBR_MICBIAS1_SETMASK
                             1430 ; 220  |#define HW_MIXTBR_EZD_CLRMASK ~(WORD)HW_MIXTBR_EZD_SETMASK
                             1431 ; 221  |#define HW_MIXTBR_DZCDA_CLRMASK ~(WORD)HW_MIXTBR_DZCDA_SETMASK
                             1432 ; 222  |#define HW_MIXTBR_DZCFM_CLRMASK ~(WORD)HW_MIXTBR_DZCFM_SETMASK
                             1433 ; 223  |#define HW_MIXTBR_DZCLI_CLRMASK ~(WORD)HW_MIXTBR_DZCLI_SETMASK
                             1434 ; 224  |#define HW_MIXTBR_DZCMI_CLRMASK ~(WORD)HW_MIXTBR_DZCMI_SETMASK
                             1435 ; 225  |#define HW_MIXTBR_DZCMA_CLRMASK ~(WORD)HW_MIXTBR_DZCMA_SETMASK
                             1436 ; 226  |
                             1437 ; 227  |typedef union               
                             1438 ; 228  |{
                             1439 ; 229  |    struct {
                             1440 ; 230  |        int INV_USB_CLK            : 1;
                             1441 ; 231  |        int USB_DFF_BYPASS         : 1;
                             1442 ; 232  |        int HOLD_GND               : 1;
                             1443 ; 233  |        int ACKI                   : 1;
                             1444 ; 234  |        int ASD2X                  : 1;
                             1445 ; 235  |        int PCPCU                  : 1;
                             1446 ; 236  |        int PCPCD                  : 1;
                             1447 ; 237  |        int DCKI                   : 1;
                             1448 ; 238  |        int MIC_BIAS_OUT_SEL       : 1;
                             1449 ; 239  |        int PSRN                   : 1;
                             1450 ; 240  |        int FX2                    : 1;
                             1451 ; 241  |        int VCOS                   : 1;
                             1452 ; 242  |        int XBCO                   : 1;
                             1453 ; 243  |        int XBGC                   : 1;
                             1454 ; 244  |        int ADTHD                  : 1;
                             1455 ; 245  |        int MICBIAS_LSBITPOS       : 1;
                             1456 ; 246  |        int PWDADC                 : 1;
                             1457 ; 247  |        int MICBIAS1               : 1;
                             1458 ; 248  |        int EZD                    : 1;
                             1459 ; 249  |        int DZCDA                  : 1;
                             1460 ; 250  |        int DZCFM                  : 1;
                             1461 ; 251  |        int DZCLI                  : 1;
                             1462 ; 252  |        int DZCMI                  : 1;
                             1463 ; 253  |        int DZCMA                  : 1;
                             1464 ; 254  |    } B;
                             1465 ; 255  |    int I;
                             1466 ; 256  |    unsigned int U;
                             1467 ; 257  |} mix_tbr_type;
                             1468 ; 258  |#define HW_MIXTBR      (*(volatile mix_tbr_type _X*) (HW_CODEC_BASEADDR+3))
                             1469 ; 259  |
                             1470 ; 260  |
                             1471 ; 261  |/////////////////////////////////////////////////////////////////////////////////
                             1472 ; 262  |//   Generic Volume Register (HW_MIXMASTERVR) Bit Definitions
                             1473 ; 263  |#define HW_MIXVOLUMER_MR_BITPOS 0
                             1474 ; 264  |#define HW_MIXVOLUMER_ML_BITPOS 8
                             1475 ; 265  |#define HW_MIXVOLUMER_MUTE_BITPOS 15
                             1476 ; 266  |
                             1477 ; 267  |#define HW_MIXVOLUMER_MR_WIDTH (5)
                             1478 ; 268  |#define HW_MIXVOLUMER_ML_WIDTH (5)
                             1479 ; 269  |#define HW_MIXVOLUMER_MUTE_WIDTH 1
                             1480 ; 270  |
                             1481 ; 271  |#define HW_MIXVOLUMER_MR_SETMASK 0x1F<<HW_MIXVOLUMER_MR_BITPOS
                             1482 ; 272  |#define HW_MIXVOLUMER_ML_SETMASK 0x1F<<HW_MIXVOLUMER_ML_BITPOS
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  25

M:ADDR CODE           CYCLES LINE SOURCELINE
                             1483 ; 273  |#define HW_MIXVOLUMER_MUTE_SETMASK 1<<HW_MIXVOLUMER_MUTE_BITPOS
                             1484 ; 274  |
                             1485 ; 275  |#define HW_MIXVOLUMER_MR_CLRMASK ~(WORD)HW_MIXVOLUMER_MR_SETMASK
                             1486 ; 276  |#define HW_MIXVOLUMER_ML_CLRMASK ~(WORD)HW_MIXVOLUMER_ML_SETMASK
                             1487 ; 277  |#define HW_MIXVOLUMER_MUTE_CLRMASK ~(WORD)HW_MIXVOLUMER_MUTE_SETMASK
                             1488 ; 278  |
                             1489 ; 279  |#define HW_MIXVOLUMER_ML_PLUS_12P0_SETMASK 0<<HW_MIXVOLUMER_ML_BITPOS
                             1490 ; 280  |#define HW_MIXVOLUMER_ML_PLUS_10P5_SETMASK 1<<HW_MIXVOLUMER_ML_BITPOS
                             1491 ; 281  |#define HW_MIXVOLUMER_ML_PLUS_09P0_SETMASK 2<<HW_MIXVOLUMER_ML_BITPOS
                             1492 ; 282  |#define HW_MIXVOLUMER_ML_PLUS_07P5_SETMASK 3<<HW_MIXVOLUMER_ML_BITPOS
                             1493 ; 283  |#define HW_MIXVOLUMER_ML_PLUS_06P0_SETMASK 4<<HW_MIXVOLUMER_ML_BITPOS
                             1494 ; 284  |#define HW_MIXVOLUMER_ML_PLUS_04P5_SETMASK 5<<HW_MIXVOLUMER_ML_BITPOS
                             1495 ; 285  |#define HW_MIXVOLUMER_ML_PLUS_03P0_SETMASK 6<<HW_MIXVOLUMER_ML_BITPOS
                             1496 ; 286  |#define HW_MIXVOLUMER_ML_PLUS_01P5_SETMASK 7<<HW_MIXVOLUMER_ML_BITPOS
                             1497 ; 287  |#define HW_MIXVOLUMER_ML_ZERO_SETMASK 8<<HW_MIXVOLUMER_ML_BITPOS
                             1498 ; 288  |#define HW_MIXVOLUMER_ML_MINUS_01P5_SETMASK 9<<HW_MIXVOLUMER_ML_BITPOS
                             1499 ; 289  |#define HW_MIXVOLUMER_ML_MINUS_03P0_SETMASK 10<<HW_MIXVOLUMER_ML_BITPOS
                             1500 ; 290  |#define HW_MIXVOLUMER_ML_MINUS_04P5_SETMASK 11<<HW_MIXVOLUMER_ML_BITPOS
                             1501 ; 291  |#define HW_MIXVOLUMER_ML_MINUS_06P0_SETMASK 12<<HW_MIXVOLUMER_ML_BITPOS
                             1502 ; 292  |#define HW_MIXVOLUMER_ML_MINUS_07P5_SETMASK 13<<HW_MIXVOLUMER_ML_BITPOS
                             1503 ; 293  |#define HW_MIXVOLUMER_ML_MINUS_09P0_SETMASK 14<<HW_MIXVOLUMER_ML_BITPOS
                             1504 ; 294  |#define HW_MIXVOLUMER_ML_MINUS_10P5_SETMASK 15<<HW_MIXVOLUMER_ML_BITPOS
                             1505 ; 295  |#define HW_MIXVOLUMER_ML_MINUS_12P0_SETMASK 16<<HW_MIXVOLUMER_ML_BITPOS
                             1506 ; 296  |#define HW_MIXVOLUMER_ML_MINUS_13P5_SETMASK 17<<HW_MIXVOLUMER_ML_BITPOS
                             1507 ; 297  |#define HW_MIXVOLUMER_ML_MINUS_15P0_SETMASK 18<<HW_MIXVOLUMER_ML_BITPOS
                             1508 ; 298  |#define HW_MIXVOLUMER_ML_MINUS_16P5_SETMASK 19<<HW_MIXVOLUMER_ML_BITPOS
                             1509 ; 299  |#define HW_MIXVOLUMER_ML_MINUS_18P0_SETMASK 20<<HW_MIXVOLUMER_ML_BITPOS
                             1510 ; 300  |#define HW_MIXVOLUMER_ML_MINUS_19P5_SETMASK 21<<HW_MIXVOLUMER_ML_BITPOS
                             1511 ; 301  |#define HW_MIXVOLUMER_ML_MINUS_21P0_SETMASK 22<<HW_MIXVOLUMER_ML_BITPOS
                             1512 ; 302  |#define HW_MIXVOLUMER_ML_MINUS_22P5_SETMASK 23<<HW_MIXVOLUMER_ML_BITPOS
                             1513 ; 303  |#define HW_MIXVOLUMER_ML_MINUS_24P0_SETMASK 24<<HW_MIXVOLUMER_ML_BITPOS
                             1514 ; 304  |#define HW_MIXVOLUMER_ML_MINUS_25P5_SETMASK 25<<HW_MIXVOLUMER_ML_BITPOS
                             1515 ; 305  |#define HW_MIXVOLUMER_ML_MINUS_27P0_SETMASK 26<<HW_MIXVOLUMER_ML_BITPOS
                             1516 ; 306  |#define HW_MIXVOLUMER_ML_MINUS_28P5_SETMASK 27<<HW_MIXVOLUMER_ML_BITPOS
                             1517 ; 307  |#define HW_MIXVOLUMER_ML_MINUS_30P0_SETMASK 28<<HW_MIXVOLUMER_ML_BITPOS
                             1518 ; 308  |#define HW_MIXVOLUMER_ML_MINUS_31P5_SETMASK 29<<HW_MIXVOLUMER_ML_BITPOS
                             1519 ; 309  |#define HW_MIXVOLUMER_ML_MINUS_33P0_SETMASK 30<<HW_MIXVOLUMER_ML_BITPOS
                             1520 ; 310  |#define HW_MIXVOLUMER_ML_MINUS_34P5_SETMASK 31<<HW_MIXVOLUMER_ML_BITPOS
                             1521 ; 311  |
                             1522 ; 312  |#define HW_MIXVOLUMER_MR_PLUS_12P0_SETMASK 0
                             1523 ; 313  |#define HW_MIXVOLUMER_MR_PLUS_10P5_SETMASK 1
                             1524 ; 314  |#define HW_MIXVOLUMER_MR_PLUS_09P0_SETMASK 2
                             1525 ; 315  |#define HW_MIXVOLUMER_MR_PLUS_07P5_SETMASK 3
                             1526 ; 316  |#define HW_MIXVOLUMER_MR_PLUS_06P0_SETMASK 4
                             1527 ; 317  |#define HW_MIXVOLUMER_MR_PLUS_04P5_SETMASK 5
                             1528 ; 318  |#define HW_MIXVOLUMER_MR_PLUS_03P0_SETMASK 6
                             1529 ; 319  |#define HW_MIXVOLUMER_MR_PLUS_01P5_SETMASK 7
                             1530 ; 320  |#define HW_MIXVOLUMER_MR_ZERO_SETMASK 8
                             1531 ; 321  |#define HW_MIXVOLUMER_MR_MINUS_01P5_SETMASK 9
                             1532 ; 322  |#define HW_MIXVOLUMER_MR_MINUS_03P0_SETMASK 10
                             1533 ; 323  |#define HW_MIXVOLUMER_MR_MINUS_04P5_SETMASK 11
                             1534 ; 324  |#define HW_MIXVOLUMER_MR_MINUS_06P0_SETMASK 12
                             1535 ; 325  |#define HW_MIXVOLUMER_MR_MINUS_07P5_SETMASK 13
                             1536 ; 326  |#define HW_MIXVOLUMER_MR_MINUS_09P0_SETMASK 14
                             1537 ; 327  |#define HW_MIXVOLUMER_MR_MINUS_10P5_SETMASK 15
                             1538 ; 328  |#define HW_MIXVOLUMER_MR_MINUS_12P0_SETMASK 16
                             1539 ; 329  |#define HW_MIXVOLUMER_MR_MINUS_13P5_SETMASK 17
                             1540 ; 330  |#define HW_MIXVOLUMER_MR_MINUS_15P0_SETMASK 18
                             1541 ; 331  |#define HW_MIXVOLUMER_MR_MINUS_16P5_SETMASK 19
                             1542 ; 332  |#define HW_MIXVOLUMER_MR_MINUS_18P0_SETMASK 20
                             1543 ; 333  |#define HW_MIXVOLUMER_MR_MINUS_19P5_SETMASK 21
                             1544 ; 334  |#define HW_MIXVOLUMER_MR_MINUS_21P0_SETMASK 22
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  26

M:ADDR CODE           CYCLES LINE SOURCELINE
                             1545 ; 335  |#define HW_MIXVOLUMER_MR_MINUS_22P5_SETMASK 23
                             1546 ; 336  |#define HW_MIXVOLUMER_MR_MINUS_24P0_SETMASK 24
                             1547 ; 337  |#define HW_MIXVOLUMER_MR_MINUS_25P5_SETMASK 25
                             1548 ; 338  |#define HW_MIXVOLUMER_MR_MINUS_27P0_SETMASK 26
                             1549 ; 339  |#define HW_MIXVOLUMER_MR_MINUS_28P5_SETMASK 27
                             1550 ; 340  |#define HW_MIXVOLUMER_MR_MINUS_30P0_SETMASK 28
                             1551 ; 341  |#define HW_MIXVOLUMER_MR_MINUS_31P5_SETMASK 29
                             1552 ; 342  |#define HW_MIXVOLUMER_MR_MINUS_33P0_SETMASK 30
                             1553 ; 343  |#define HW_MIXVOLUMER_MR_MINUS_34P5_SETMASK 31
                             1554 ; 344  |
                             1555 ; 345  |/////////////////////////////////////////////////////////////////////////////////
                             1556 ; 346  |//   Mixer Master Volume Register (HW_MIXMASTERVR) Bit Definitions
                             1557 ; 347  |#define HW_MIXMASTERVR_MR_BITPOS 0
                             1558 ; 348  |#define HW_MIXMASTERVR_ML_BITPOS 8
                             1559 ; 349  |#define HW_MIXMASTERVR_MUTE_BITPOS 15
                             1560 ; 350  |
                             1561 ; 351  |#define HW_MIXMASTERVR_MR_WIDTH (5)
                             1562 ; 352  |#define HW_MIXMASTERVR_ML_WIDTH (5)
                             1563 ; 353  |#define HW_MIXMASTERVR_MUTE_WIDTH (1)
                             1564 ; 354  |
                             1565 ; 355  |#define HW_MIXMASTERVR_MR_SETMASK 0x1F<<HW_MIXMASTERVR_MR_BITPOS
                             1566 ; 356  |#define HW_MIXMASTERVR_ML_SETMASK 0x1F<<HW_MIXMASTERVR_ML_BITPOS
                             1567 ; 357  |#define HW_MIXMASTERVR_MUTE_SETMASK 1<<HW_MIXMASTERVR_MUTE_BITPOS
                             1568 ; 358  |
                             1569 ; 359  |#define HW_MIXMASTERVR_MR_CLRMASK ~(WORD)HW_MIXMASTERVR_MR_SETMASK
                             1570 ; 360  |#define HW_MIXMASTERVR_ML_CLRMASK ~(WORD)HW_MIXMASTERVR_ML_SETMASK
                             1571 ; 361  |#define HW_MIXMASTERVR_MUTE_CLRMASK ~(WORD)HW_MIXMASTERVR_MUTE_SETMASK
                             1572 ; 362  |
                             1573 ; 363  |
                             1574 ; 364  |typedef union               
                             1575 ; 365  |{
                             1576 ; 366  |    struct
                             1577 ; 367  |    {
                             1578 ; 368  |        unsigned MR :5;
                             1579 ; 369  |        int         :3;
                             1580 ; 370  |        unsigned ML :5;
                             1581 ; 371  |        int         :2;
                             1582 ; 372  |        int MUTE    :1;
                             1583 ; 373  |    } B;
                             1584 ; 374  |    int I;
                             1585 ; 375  |    unsigned int U;
                             1586 ; 376  |} mix_mastervr_type;
                             1587 ; 377  |#define HW_MIXMASTERVR (*(volatile mix_mastervr_type _X*) (HW_CODEC_BASEADDR+4))
                             1588 ; 378  |
                             1589 ; 379  |
                             1590 ; 380  |/////////////////////////////////////////////////////////////////////////////////
                             1591 ; 381  |//   Mixer Mic In Volume Register (HW_MIXMICINVR) Bit Definitions
                             1592 ; 382  |#define HW_MIXMICINVR_GN_BITPOS 0
                             1593 ; 383  |#define HW_MIXMICINVR_P20DB_BITPOS 6
                             1594 ; 384  |#define HW_MIXMICINVR_MUTE_BITPOS 15
                             1595 ; 385  |
                             1596 ; 386  |#define HW_MIXMICINVR_GN_WIDTH 5
                             1597 ; 387  |#define HW_MIXMICINVR_RSVD1_WIDTH 1
                             1598 ; 388  |#define HW_MIXMICINVR_P20DB_WIDTH 1
                             1599 ; 389  |#define HW_MIXMICINVR_RSVD2_WIDTH 8
                             1600 ; 390  |#define HW_MIXMICINVR_MUTE_WIDTH 1
                             1601 ; 391  |#define HW_MIXMICINVR_RSVD3_WIDTH 8
                             1602 ; 392  |
                             1603 ; 393  |#define HW_MIXMICINVR_GN_SETMASK 0x1F<<HW_MIXMICINVR_GN_BITPOS
                             1604 ; 394  |#define HW_MIXMICINVR_P20DB_SETMASK 1<<HW_MIXMICINVR_P20DB_BITPOS
                             1605 ; 395  |#define HW_MIXMICINVR_MUTE_SETMASK 1<<HW_MIXMICINVR_MUTE_BITPOS
                             1606 ; 396  |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  27

M:ADDR CODE           CYCLES LINE SOURCELINE
                             1607 ; 397  |#define HW_MIXMICINVR_GN_CLRMASK ~(WORD)HW_MIXMICINVR_GN_SETMASK
                             1608 ; 398  |#define HW_MIXMICINVR_P20DB_CLRMASK ~(WORD)HW_MIXMICINVR_P20DB_SETMASK
                             1609 ; 399  |#define HW_MIXMICINVR_MUTE_CLRMASK ~(WORD)HW_MIXMICINVR_MUTE_SETMASK
                             1610 ; 400  |
                             1611 ; 401  |#define HW_MIXMICINVR_GN_PLUS_12P0_SETMASK 0
                             1612 ; 402  |#define HW_MIXMICINVR_GN_PLUS_10P5_SETMASK 1
                             1613 ; 403  |#define HW_MIXMICINVR_GN_PLUS_09P0_SETMASK 2
                             1614 ; 404  |#define HW_MIXMICINVR_GN_PLUS_07P5_SETMASK 3
                             1615 ; 405  |#define HW_MIXMICINVR_GN_PLUS_06P0_SETMASK 4
                             1616 ; 406  |#define HW_MIXMICINVR_GN_PLUS_04P5_SETMASK 5
                             1617 ; 407  |#define HW_MIXMICINVR_GN_PLUS_03P0_SETMASK 6
                             1618 ; 408  |#define HW_MIXMICINVR_GN_PLUS_01P5_SETMASK 7
                             1619 ; 409  |#define HW_MIXMICINVR_GN_ZERO_SETMASK 8
                             1620 ; 410  |#define HW_MIXMICINVR_GN_MINUS_01P5_SETMASK 9
                             1621 ; 411  |#define HW_MIXMICINVR_GN_MINUS_03P0_SETMASK 10
                             1622 ; 412  |#define HW_MIXMICINVR_GN_MINUS_04P5_SETMASK 11
                             1623 ; 413  |#define HW_MIXMICINVR_GN_MINUS_06P0_SETMASK 12
                             1624 ; 414  |#define HW_MIXMICINVR_GN_MINUS_07P5_SETMASK 13
                             1625 ; 415  |#define HW_MIXMICINVR_GN_MINUS_09P0_SETMASK 14
                             1626 ; 416  |#define HW_MIXMICINVR_GN_MINUS_10P5_SETMASK 15
                             1627 ; 417  |#define HW_MIXMICINVR_GN_MINUS_12P0_SETMASK 16
                             1628 ; 418  |#define HW_MIXMICINVR_GN_MINUS_13P5_SETMASK 17
                             1629 ; 419  |#define HW_MIXMICINVR_GN_MINUS_15P0_SETMASK 18
                             1630 ; 420  |#define HW_MIXMICINVR_GN_MINUS_16P5_SETMASK 19
                             1631 ; 421  |#define HW_MIXMICINVR_GN_MINUS_18P0_SETMASK 20
                             1632 ; 422  |#define HW_MIXMICINVR_GN_MINUS_19P5_SETMASK 21
                             1633 ; 423  |#define HW_MIXMICINVR_GN_MINUS_21P0_SETMASK 22
                             1634 ; 424  |#define HW_MIXMICINVR_GN_MINUS_22P5_SETMASK 23
                             1635 ; 425  |#define HW_MIXMICINVR_GN_MINUS_24P0_SETMASK 24
                             1636 ; 426  |#define HW_MIXMICINVR_GN_MINUS_25P5_SETMASK 25
                             1637 ; 427  |#define HW_MIXMICINVR_GN_MINUS_27P0_SETMASK 26
                             1638 ; 428  |#define HW_MIXMICINVR_GN_MINUS_28P5_SETMASK 27
                             1639 ; 429  |#define HW_MIXMICINVR_GN_MINUS_30P0_SETMASK 28
                             1640 ; 430  |#define HW_MIXMICINVR_GN_MINUS_31P5_SETMASK 29
                             1641 ; 431  |#define HW_MIXMICINVR_GN_MINUS_33P0_SETMASK 30
                             1642 ; 432  |#define HW_MIXMICINVR_GN_MINUS_34P5_SETMASK 31
                             1643 ; 433  |
                             1644 ; 434  |typedef union               
                             1645 ; 435  |{
                             1646 ; 436  |    struct {
                             1647 ; 437  |        int GN          : HW_MIXMICINVR_GN_WIDTH;
                             1648 ; 438  |        int RSVD1       : HW_MIXMICINVR_RSVD1_WIDTH;
                             1649 ; 439  |        int P20DB       : HW_MIXMICINVR_P20DB_WIDTH;
                             1650 ; 440  |        int RSVD2       : HW_MIXMICINVR_RSVD2_WIDTH;
                             1651 ; 441  |        int MUTE        : HW_MIXMICINVR_MUTE_WIDTH;
                             1652 ; 442  |        int RSVD3       : HW_MIXMICINVR_RSVD3_WIDTH;
                             1653 ; 443  |    } B;
                             1654 ; 444  |    int I;
                             1655 ; 445  |    unsigned int U;
                             1656 ; 446  |} mix_micinvr_type;
                             1657 ; 447  |#define HW_MIXMICINVR (*(volatile mix_micinvr_type _X*) (HW_CODEC_BASEADDR+5))
                             1658 ; 448  |
                             1659 ; 449  |
                             1660 ; 450  |
                             1661 ; 451  |
                             1662 ; 452  |/////////////////////////////////////////////////////////////////////////////////
                             1663 ; 453  |//   Mixer Line1 In Volume Register (HW_MIXLINE1INVR) Bit Definitions
                             1664 ; 454  |#define HW_MIXLINE1INVR_GR_BITPOS 0
                             1665 ; 455  |#define HW_MIXLINE1INVR_GL_BITPOS 8
                             1666 ; 456  |#define HW_MIXLINE1INVR_MUTE_BITPOS 15
                             1667 ; 457  |
                             1668 ; 458  |#define HW_MIXLINE1INVR_GR_WIDTH 5
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  28

M:ADDR CODE           CYCLES LINE SOURCELINE
                             1669 ; 459  |#define HW_MIXLINE1INVR_RSVD1_WIDTH 3
                             1670 ; 460  |#define HW_MIXLINE1INVR_GL_WIDTH 5
                             1671 ; 461  |#define HW_MIXLINE1INVR_RSVD2_WIDTH 2
                             1672 ; 462  |#define HW_MIXLINE1INVR_MUTE_WIDTH 1
                             1673 ; 463  |#define HW_MIXLINE1INVR_RSVD3_WIDTH 8
                             1674 ; 464  |
                             1675 ; 465  |#define HW_MIXLINE1INVR_GR_SETMASK 0x1F<<HW_MIXLINE1INVR_GR_BITPOS
                             1676 ; 466  |#define HW_MIXLINE1INVR_GL_SETMASK 0x1F<<HW_MIXLINE1INVR_GL_BITPOS
                             1677 ; 467  |#define HW_MIXLINE1INVR_MUTE_SETMASK 1<<HW_MIXLINE1INVR_MUTE_BITPOS
                             1678 ; 468  |
                             1679 ; 469  |#define HW_MIXLINE1INVR_GR_CLRMASK ~(WORD)HW_MIXLINE1INVR_GR_SETMASK
                             1680 ; 470  |#define HW_MIXLINE1INVR_GL_CLRMASK ~(WORD)HW_MIXLINE1INVR_GL_SETMASK
                             1681 ; 471  |#define HW_MIXLINE1INVR_MUTE_CLRMASK ~(WORD)HW_MIXLINE1INVR_MUTE_SETMASK
                             1682 ; 472  |
                             1683 ; 473  |typedef union               
                             1684 ; 474  |{
                             1685 ; 475  |    struct {
                             1686 ; 476  |        int GR          : HW_MIXLINE1INVR_GR_WIDTH;
                             1687 ; 477  |        int RSVD1       : HW_MIXLINE1INVR_RSVD1_WIDTH;
                             1688 ; 478  |        int GL          : HW_MIXLINE1INVR_GL_WIDTH;
                             1689 ; 479  |        int RSVD2       : HW_MIXLINE1INVR_RSVD2_WIDTH;
                             1690 ; 480  |        int MUTE        : HW_MIXLINE1INVR_MUTE_WIDTH;
                             1691 ; 481  |        int RSVD3       : HW_MIXLINE1INVR_RSVD3_WIDTH;
                             1692 ; 482  |    } B;
                             1693 ; 483  |    int I;
                             1694 ; 484  |    unsigned int U;
                             1695 ; 485  |} mix_line1invr_type;
                             1696 ; 486  |#define HW_MIXLINE1INVR (*(volatile mix_line1invr_type _X*) (HW_CODEC_BASEADDR+6))
                             1697 ; 487  |
                             1698 ; 488  |
                             1699 ; 489  |
                             1700 ; 490  |/////////////////////////////////////////////////////////////////////////////////
                             1701 ; 491  |//   Mixer Line2 In Volume Register (HW_MIXLINE2INVR) Bit Definitions
                             1702 ; 492  |#define HW_MIXLINE2INVR_GR_BITPOS 0
                             1703 ; 493  |#define HW_MIXLINE2INVR_GL_BITPOS 8
                             1704 ; 494  |#define HW_MIXLINE2INVR_MUTE_BITPOS 15
                             1705 ; 495  |
                             1706 ; 496  |#define HW_MIXLINE2INVR_GR_WIDTH 5
                             1707 ; 497  |#define HW_MIXLINE2INVR_RSVD1_WIDTH 3
                             1708 ; 498  |#define HW_MIXLINE2INVR_GL_WIDTH 5
                             1709 ; 499  |#define HW_MIXLINE2INVR_RSVD2_WIDTH 2
                             1710 ; 500  |#define HW_MIXLINE2INVR_MUTE_WIDTH 1
                             1711 ; 501  |#define HW_MIXLINE2INVR_RSVD3_WIDTH 8
                             1712 ; 502  |
                             1713 ; 503  |
                             1714 ; 504  |#define HW_MIXLINE2INVR_GR_SETMASK 0x1F<<HW_MIXLINE2INVR_GR_BITPOS
                             1715 ; 505  |#define HW_MIXLINE2INVR_GL_SETMASK 0x1F<<HW_MIXLINE2INVR_GL_BITPOS
                             1716 ; 506  |#define HW_MIXLINE2INVR_MUTE_SETMASK 1<<HW_MIXLINE2INVR_MUTE_BITPOS
                             1717 ; 507  |
                             1718 ; 508  |#define HW_MIXLINE2INVR_GR_CLRMASK ~(WORD)HW_MIXLINE2INVR_GR_SETMASK
                             1719 ; 509  |#define HW_MIXLINE2INVR_GL_CLRMASK ~(WORD)HW_MIXLINE2INVR_GL_SETMASK
                             1720 ; 510  |#define HW_MIXLINE2INVR_MUTE_CLRMASK ~(WORD)HW_MIXLINE2INVR_MUTE_SETMASK
                             1721 ; 511  |
                             1722 ; 512  |typedef union               
                             1723 ; 513  |{
                             1724 ; 514  |    struct {
                             1725 ; 515  |        int GR          : HW_MIXLINE2INVR_GR_WIDTH;
                             1726 ; 516  |        int RSVD1       : HW_MIXLINE2INVR_RSVD1_WIDTH;
                             1727 ; 517  |        int GL          : HW_MIXLINE2INVR_GL_WIDTH;
                             1728 ; 518  |        int RSVD2       : HW_MIXLINE2INVR_RSVD2_WIDTH;
                             1729 ; 519  |        int MUTE        : HW_MIXLINE2INVR_MUTE_WIDTH;
                             1730 ; 520  |        int RSVD3       : HW_MIXLINE2INVR_RSVD3_WIDTH;
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  29

M:ADDR CODE           CYCLES LINE SOURCELINE
                             1731 ; 521  |    } B;
                             1732 ; 522  |    int I;
                             1733 ; 523  |    unsigned int U;
                             1734 ; 524  |} mix_line2invr_type;
                             1735 ; 525  |#define HW_MIXLINE2INVR (*(volatile mix_line2invr_type _X*) (HW_CODEC_BASEADDR+7))
                             1736 ; 526  |
                             1737 ; 527  |
                             1738 ; 528  |
                             1739 ; 529  |/////////////////////////////////////////////////////////////////////////////////
                             1740 ; 530  |//   Mixer DAC In Volume Register (HW_MIXDACINVR) Bit Definitions
                             1741 ; 531  |#define HW_MIXDACINVR_MR_BITPOS 0
                             1742 ; 532  |#define HW_MIXDACINVR_ML_BITPOS 8
                             1743 ; 533  |#define HW_MIXDACINVR_MUTE_BITPOS 15
                             1744 ; 534  |
                             1745 ; 535  |#define HW_MIXDACINVR_MR_WIDTH (5)
                             1746 ; 536  |#define HW_MIXDACINVR_ML_WIDTH (5)
                             1747 ; 537  |#define HW_MIXDACINVR_MUTE_WIDTH (1)
                             1748 ; 538  |
                             1749 ; 539  |#define HW_MIXDACINVR_MR_SETMASK 0x1F<<HW_MIXDACINVR_MR_BITPOS
                             1750 ; 540  |#define HW_MIXDACINVR_ML_SETMASK 0x1F<<HW_MIXDACINVR_ML_BITPOS
                             1751 ; 541  |#define HW_MIXDACINVR_MUTE_SETMASK 1<<HW_MIXDACINVR_MUTE_BITPOS
                             1752 ; 542  |
                             1753 ; 543  |#define HW_MIXDACINVR_MR_CLRMASK ~(WORD)HW_MIXDACINVR_MR_SETMASK
                             1754 ; 544  |#define HW_MIXDACINVR_ML_CLRMASK ~(WORD)HW_MIXDACINVR_ML_SETMASK
                             1755 ; 545  |#define HW_MIXDACINVR_MUTE_CLRMASK ~(WORD)HW_MIXDACINVR_MUTE_SETMASK
                             1756 ; 546  |
                             1757 ; 547  |typedef union               
                             1758 ; 548  |{
                             1759 ; 549  |    struct {
                             1760 ; 550  |        int MR   : HW_MIXDACINVR_MR_WIDTH;
                             1761 ; 551  |        int ML   : HW_MIXDACINVR_ML_WIDTH;
                             1762 ; 552  |        int MUTE : HW_MIXDACINVR_MUTE_WIDTH;
                             1763 ; 553  |    } B;
                             1764 ; 554  |    int I;
                             1765 ; 555  |    unsigned int U;
                             1766 ; 556  |} mix_dacinvr_type;
                             1767 ; 557  |#define HW_MIXDACINVR (*(volatile mix_dacinvr_type _X*) (HW_CODEC_BASEADDR+8))
                             1768 ; 558  |
                             1769 ; 559  |
                             1770 ; 560  |/////////////////////////////////////////////////////////////////////////////////
                             1771 ; 561  |//   Mixer Record Select Register (HW_MIXRECSELR) Bit Definitions
                             1772 ; 562  |#define HW_MIXRECSELR_SR_BITPOS 0
                             1773 ; 563  |#define HW_MIXRECSELR_SL_BITPOS 8
                             1774 ; 564  |#define HW_MIXRECSELR_X_BITPOS 11
                             1775 ; 565  |
                             1776 ; 566  |#define HW_MIXRECSELR_SR_WIDTH 3
                             1777 ; 567  |#define HW_MIXRECSELR_RSVD1_WIDTH 5
                             1778 ; 568  |#define HW_MIXRECSELR_SL_WIDTH 3
                             1779 ; 569  |#define HW_MIXRECSELR_X_WIDTH 1
                             1780 ; 570  |#define HW_MIXRECSELR_RSVD2_WIDTH 12
                             1781 ; 571  |
                             1782 ; 572  |#define HW_MIXRECSELR_SR_SETMASK 7<<HW_MIXRECSELR_SR_BITPOS
                             1783 ; 573  |#define HW_MIXRECSELR_SL_SETMASK 7<<HW_MIXRECSELR_SL_BITPOS
                             1784 ; 574  |#define HW_MIXRECSELR_X_SETMASK 1<<HW_MIXRECSELR_X_BITPOS
                             1785 ; 575  |
                             1786 ; 576  |#define HW_MIXRECSELR_SR_MIC_SETMASK 0<<HW_MIXRECSELR_SR_BITPOS
                             1787 ; 577  |#define HW_MIXRECSELR_SR_LINEIN2_SETMASK 3<<HW_MIXRECSELR_SR_BITPOS
                             1788 ; 578  |#define HW_MIXRECSELR_SR_LINEIN1_SETMASK 4<<HW_MIXRECSELR_SR_BITPOS
                             1789 ; 579  |#define HW_MIXRECSELR_SR_MIX_SETMASK 5<<HW_MIXRECSELR_SR_BITPOS
                             1790 ; 580  |
                             1791 ; 581  |#define HW_MIXRECSELR_SL_MIC_SETMASK 0<<HW_MIXRECSELR_SL_BITPOS
                             1792 ; 582  |#define HW_MIXRECSELR_SL_LINEIN2_SETMASK 3<<HW_MIXRECSELR_SL_BITPOS
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  30

M:ADDR CODE           CYCLES LINE SOURCELINE
                             1793 ; 583  |#define HW_MIXRECSELR_SL_LINEIN1_SETMASK 4<<HW_MIXRECSELR_SL_BITPOS
                             1794 ; 584  |#define HW_MIXRECSELR_SL_MIX_SETMASK 5<<HW_MIXRECSELR_SL_BITPOS
                             1795 ; 585  |
                             1796 ; 586  |#define HW_MIXRECSELR_SR_CLRMASK ~(WORD)HW_MIXRECSELR_SR_SETMASK
                             1797 ; 587  |#define HW_MIXRECSELR_SL_CLRMASK ~(WORD)HW_MIXRECSELR_SL_SETMASK
                             1798 ; 588  |#define HW_MIXRECSELR_SR_SL_CLRMASK ~(WORD)(HW_MIXRECSELR_SR_SETMASK|HW_MIXRECSELR_SL_SETM
                                  ASK)
                             1799 ; 589  |#define HW_MIXRECSELR_X_CLRMASK ~(WORD)HW_MIXRECSELR_X_SETMASK
                             1800 ; 590  |
                             1801 ; 591  |typedef union               
                             1802 ; 592  |{
                             1803 ; 593  |    struct {
                             1804 ; 594  |        int SR          : HW_MIXRECSELR_SR_WIDTH;
                             1805 ; 595  |        int RSVD1       : HW_MIXRECSELR_RSVD1_WIDTH;
                             1806 ; 596  |        int SL          : HW_MIXRECSELR_SL_WIDTH;
                             1807 ; 597  |        int X           : HW_MIXRECSELR_X_WIDTH;
                             1808 ; 598  |        int RSVD2       : HW_MIXRECSELR_RSVD2_WIDTH;
                             1809 ; 599  |    } B;
                             1810 ; 600  |    int I;
                             1811 ; 601  |    unsigned int U;
                             1812 ; 602  |} mix_recselr_type;
                             1813 ; 603  |#define HW_MIXRECSELR (*(volatile mix_recselr_type _X*) (HW_CODEC_BASEADDR+9))
                             1814 ; 604  |
                             1815 ; 605  |
                             1816 ; 606  |
                             1817 ; 607  |/////////////////////////////////////////////////////////////////////////////////
                             1818 ; 608  |//   Mixer ADC In Gain Register (HW_MIXADCGAINR) Bit Definitions
                             1819 ; 609  |#define HW_MIXADCGAINR_GR_BITPOS 0
                             1820 ; 610  |#define HW_MIXADCGAINR_GL_BITPOS 8
                             1821 ; 611  |#define HW_MIXADCGAINR_MUTE_BITPOS 15
                             1822 ; 612  |
                             1823 ; 613  |#define HW_MIXADCGAINR_GR_WIDTH 4
                             1824 ; 614  |#define HW_MIXADCGAINR_RSVD1_WIDTH 4
                             1825 ; 615  |#define HW_MIXADCGAINR_GL_WIDTH 4
                             1826 ; 616  |#define HW_MIXADCGAINR_RSVD2_WIDTH 3
                             1827 ; 617  |#define HW_MIXADCGAINR_MUTE_WIDTH 1
                             1828 ; 618  |#define HW_MIXADCGAINR_RSVD3_WIDTH 8
                             1829 ; 619  |
                             1830 ; 620  |#define HW_MIXADCGAINR_GR_SETMASK 0x1F<<HW_MIXADCGAINR_GR_BITPOS
                             1831 ; 621  |#define HW_MIXADCGAINR_GL_SETMASK 0x1F<<HW_MIXADCGAINR_GL_BITPOS
                             1832 ; 622  |#define HW_MIXADCGAINR_MUTE_SETMASK 1<<HW_MIXADCGAINR_MUTE_BITPOS
                             1833 ; 623  |
                             1834 ; 624  |#define HW_MIXADCGAINR_GR_CLRMASK ~(WORD)HW_MIXADCGAINR_GR_SETMASK
                             1835 ; 625  |#define HW_MIXADCGAINR_GL_CLRMASK ~(WORD)HW_MIXADCGAINR_GL_SETMASK
                             1836 ; 626  |#define HW_MIXADCGAINR_MUTE_CLRMASK ~(WORD)HW_MIXADCGAINR_MUTE_SETMASK
                             1837 ; 627  |
                             1838 ; 628  |#define HW_MIXADCGAINR_GL_00P0_SETMASK 0<<HW_MIXADCGAINR_GL_BITPOS
                             1839 ; 629  |#define HW_MIXADCGAINR_GL_01P5_SETMASK 1<<HW_MIXADCGAINR_GL_BITPOS
                             1840 ; 630  |#define HW_MIXADCGAINR_GL_03P0_SETMASK 2<<HW_MIXADCGAINR_GL_BITPOS
                             1841 ; 631  |#define HW_MIXADCGAINR_GL_04P5_SETMASK 3<<HW_MIXADCGAINR_GL_BITPOS
                             1842 ; 632  |#define HW_MIXADCGAINR_GL_06P0_SETMASK 4<<HW_MIXADCGAINR_GL_BITPOS
                             1843 ; 633  |#define HW_MIXADCGAINR_GL_07P5_SETMASK 5<<HW_MIXADCGAINR_GL_BITPOS
                             1844 ; 634  |#define HW_MIXADCGAINR_GL_09P0_SETMASK 6<<HW_MIXADCGAINR_GL_BITPOS
                             1845 ; 635  |#define HW_MIXADCGAINR_GL_10P5_SETMASK 7<<HW_MIXADCGAINR_GL_BITPOS
                             1846 ; 636  |#define HW_MIXADCGAINR_GL_12P0_SETMASK 8<<HW_MIXADCGAINR_GL_BITPOS
                             1847 ; 637  |#define HW_MIXADCGAINR_GL_13P5_SETMASK 9<<HW_MIXADCGAINR_GL_BITPOS
                             1848 ; 638  |#define HW_MIXADCGAINR_GL_15P0_SETMASK 10<<HW_MIXADCGAINR_GL_BITPOS
                             1849 ; 639  |#define HW_MIXADCGAINR_GL_16P5_SETMASK 11<<HW_MIXADCGAINR_GL_BITPOS
                             1850 ; 640  |#define HW_MIXADCGAINR_GL_18P0_SETMASK 12<<HW_MIXADCGAINR_GL_BITPOS
                             1851 ; 641  |#define HW_MIXADCGAINR_GL_19P5_SETMASK 13<<HW_MIXADCGAINR_GL_BITPOS
                             1852 ; 642  |#define HW_MIXADCGAINR_GL_21P0_SETMASK 14<<HW_MIXADCGAINR_GL_BITPOS
                             1853 ; 643  |#define HW_MIXADCGAINR_GL_22P5_SETMASK 15<<HW_MIXADCGAINR_GL_BITPOS
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  31

M:ADDR CODE           CYCLES LINE SOURCELINE
                             1854 ; 644  |
                             1855 ; 645  |#define HW_MIXADCGAINR_GR_00P0_SETMASK 0
                             1856 ; 646  |#define HW_MIXADCGAINR_GR_01P5_SETMASK 1
                             1857 ; 647  |#define HW_MIXADCGAINR_GR_03P0_SETMASK 2
                             1858 ; 648  |#define HW_MIXADCGAINR_GR_04P5_SETMASK 3
                             1859 ; 649  |#define HW_MIXADCGAINR_GR_06P0_SETMASK 4
                             1860 ; 650  |#define HW_MIXADCGAINR_GR_07P5_SETMASK 5
                             1861 ; 651  |#define HW_MIXADCGAINR_GR_09P0_SETMASK 6
                             1862 ; 652  |#define HW_MIXADCGAINR_GR_10P5_SETMASK 7
                             1863 ; 653  |#define HW_MIXADCGAINR_GR_12P0_SETMASK 8
                             1864 ; 654  |#define HW_MIXADCGAINR_GR_13P5_SETMASK 9
                             1865 ; 655  |#define HW_MIXADCGAINR_GR_15P0_SETMASK 10
                             1866 ; 656  |#define HW_MIXADCGAINR_GR_16P5_SETMASK 11
                             1867 ; 657  |#define HW_MIXADCGAINR_GR_18P0_SETMASK 12
                             1868 ; 658  |#define HW_MIXADCGAINR_GR_19P5_SETMASK 13
                             1869 ; 659  |#define HW_MIXADCGAINR_GR_21P0_SETMASK 14
                             1870 ; 660  |#define HW_MIXADCGAINR_GR_22P5_SETMASK 15
                             1871 ; 661  |
                             1872 ; 662  |typedef union               
                             1873 ; 663  |{
                             1874 ; 664  |    struct {
                             1875 ; 665  |        int GR          : HW_MIXADCGAINR_GR_WIDTH;
                             1876 ; 666  |        int RSVD1       : HW_MIXADCGAINR_RSVD1_WIDTH;
                             1877 ; 667  |        int GL          : HW_MIXADCGAINR_GL_WIDTH;
                             1878 ; 668  |        int RSVD2       : HW_MIXADCGAINR_RSVD2_WIDTH;
                             1879 ; 669  |        int MUTE        : HW_MIXADCGAINR_MUTE_WIDTH;
                             1880 ; 670  |        int RSVD3       : HW_MIXADCGAINR_RSVD3_WIDTH;
                             1881 ; 671  |    } B;
                             1882 ; 672  |    int I;
                             1883 ; 673  |    unsigned int U;
                             1884 ; 674  |} mix_adcgainr_type;
                             1885 ; 675  |#define HW_MIXADCGAINR (*(volatile mix_adcgainr_type _X*) (HW_CODEC_BASEADDR+10))
                             1886 ; 676  |
                             1887 ; 677  |
                             1888 ; 678  |
                             1889 ; 679  |/////////////////////////////////////////////////////////////////////////////////
                             1890 ; 680  |//   Mixer Power Down Register (HW_MIXPWRDNR) Bit Definitions
                             1891 ; 681  |#define HW_MIXPWRDNR_PR0_BITPOS 9
                             1892 ; 682  |#define HW_MIXPWRDNR_PR1_BITPOS 10
                             1893 ; 683  |#define HW_MIXPWRDNR_PR2_BITPOS 11
                             1894 ; 684  |
                             1895 ; 685  |#define HW_MIXPWRDNR_PR0_WIDTH (1)
                             1896 ; 686  |#define HW_MIXPWRDNR_PR1_WIDTH (1)
                             1897 ; 687  |#define HW_MIXPWRDNR_PR2_WIDTH (1)
                             1898 ; 688  |#define HW_MIXPWRDNR_RSVD_WIDTH (12)
                             1899 ; 689  |
                             1900 ; 690  |#define HW_MIXPWRDNR_PR_SETMASK 7<<HW_MIXPWRDNR_PR0_BITPOS
                             1901 ; 691  |
                             1902 ; 692  |#define HW_MIXPWRDNR_PR_CLRMASK ~(WORD)HW_MIXPWRDNR_PR_SETMASK
                             1903 ; 693  |
                             1904 ; 694  |typedef union               
                             1905 ; 695  |{
                             1906 ; 696  |    struct {
                             1907 ; 697  |                int                     : 9;
                             1908 ; 698  |       int PR0          : HW_MIXPWRDNR_PR0_WIDTH;
                             1909 ; 699  |       int PR1          : HW_MIXPWRDNR_PR1_WIDTH;
                             1910 ; 700  |       int PR2          : HW_MIXPWRDNR_PR2_WIDTH;
                             1911 ; 701  |       int RSVD         : HW_MIXPWRDNR_RSVD_WIDTH;
                             1912 ; 702  |    } B;
                             1913 ; 703  |    int I;
                             1914 ; 704  |    unsigned int U;
                             1915 ; 705  |} mix_pwrdnr_type;
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  32

M:ADDR CODE           CYCLES LINE SOURCELINE
                             1916 ; 706  |#define HW_MIXPWRDNR (*(volatile mix_pwrdnr_type _X*) (HW_CODEC_BASEADDR+11))
                             1917 ; 707  |
                             1918 ; 708  |
                             1919 ; 709  |/////////////////////////////////////////////////////////////////////////////////
                             1920 ; 710  |
                             1921 ; 711  |//  Mixer Test Register (HW_MIX_TEST) Bit Definitions
                             1922 ; 712  |
                             1923 ; 713  |#define HW_MIX_TEST_DAC_CHOP_CLK_WIDTH (2)
                             1924 ; 714  |
                             1925 ; 715  |#define HW_MIX_TEST_RSVD0_WIDTH (2)
                             1926 ; 716  |
                             1927 ; 717  |#define HW_MIX_TEST_DAC_DISABLE_RTZ_WIDTH (1)
                             1928 ; 718  |
                             1929 ; 719  |#define HW_MIX_TEST_DAC_MORE_AMP_I_WIDTH (1)
                             1930 ; 720  |
                             1931 ; 721  |#define HW_MIX_TEST_RSVD1_WIDTH (2)
                             1932 ; 722  |
                             1933 ; 723  |#define HW_MIX_TEST_TMP_CFG_WIDTH (4)
                             1934 ; 724  |
                             1935 ; 725  |#define HW_MIX_TEST_TMPPWD_WIDTH (1)
                             1936 ; 726  |
                             1937 ; 727  |#define HW_MIX_TEST_RSVD2_WIDTH (11)
                             1938 ; 728  |
                             1939 ; 729  |
                             1940 ; 730  |
                             1941 ; 731  |#define HW_MIX_TEST_DAC_CHOP_CLK_BITPOS (0)
                             1942 ; 732  |
                             1943 ; 733  |#define HW_MIX_TEST_DAC_DISABLE_RTZ_BITPOS (4)
                             1944 ; 734  |
                             1945 ; 735  |#define HW_MIX_TEST_DAC_MORE_AMP_I_BITPOS (5)
                             1946 ; 736  |
                             1947 ; 737  |#define HW_MIX_TEST_TMP_CFG_BITPOS (8)
                             1948 ; 738  |
                             1949 ; 739  |#define HW_MIX_TEST_TMPPWD_BITPOS (12)
                             1950 ; 740  |
                             1951 ; 741  |
                             1952 ; 742  |
                             1953 ; 743  |#define HW_MIX_TEST_DAC_CHOP_CLK_SETMASK (((1<<HW_MIX_TEST_DAC_CHOP_CLK_WIDTH)-1)<<HW_MIX_
                                  TEST_DAC_CHOP_CLK_BITPOS)        
                             1954 ; 744  |
                             1955 ; 745  |#define HW_MIX_TEST_DAC_DISABLE_RTZ_SETMASK (((1<<HW_MIX_TEST_DAC_DISABLE_RTZ_WIDTH)-1)<<H
                                  W_MIX_TEST_DAC_DISABLE_RTZ_BITPOS)        
                             1956 ; 746  |
                             1957 ; 747  |#define HW_MIX_TEST_DAC_MORE_AMP_I_SETMASK (((1<<HW_MIX_TEST_DAC_MORE_AMP_I_WIDTH)-1)<<HW_
                                  MIX_TEST_DAC_MORE_AMP_I_BITPOS) 
                             1958 ; 748  |
                             1959 ; 749  |#define HW_MIX_TEST_TMP_CFG_SETMASK (((1<<HW_MIX_TEST_TMP_CFG_WIDTH)-1)<<HW_MIX_TEST_TMP_C
                                  FG_BITPOS) 
                             1960 ; 750  |
                             1961 ; 751  |#define HW_MIX_TEST_TMPPWD_SETMASK (((1<<HW_MIX_TEST_TMPPWD_WIDTH)-1)<<HW_MIX_TEST_TMPPWD_
                                  BITPOS) 
                             1962 ; 752  |
                             1963 ; 753  |
                             1964 ; 754  |#define HW_MIX_TEST_DAC_CHOP_CLK_CLRMASK (~(WORD)HW_MIX_TEST_DAC_CHOP_CLK_SETMASK)     
                             1965 ; 755  |
                             1966 ; 756  |#define HW_MIX_TEST_DAC_DISABLE_RTZ_CLRMASK (~(WORD)HW_MIX_TEST_DAC_DISABLE_RTZ_SETMASK)  
                                     
                             1967 ; 757  |
                             1968 ; 758  |#define HW_MIX_TEST_DAC_MORE_AMP_I_CLRMASK (~(WORD)HW_MIX_TEST_DAC_MORE_AMP_I_SETMASK) 
                             1969 ; 759  |
                             1970 ; 760  |#define HW_MIX_TEST_TMP_CFG_CLRMASK (~(WORD)HW_MIX_TEST_TMP_CFG_SETMASK) 
                             1971 ; 761  |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  33

M:ADDR CODE           CYCLES LINE SOURCELINE
                             1972 ; 762  |#define HW_MIX_TEST_TMPPWD_CLRMASK (~(WORD)HW_MIX_TEST_TMPPWD_SETMASK) 
                             1973 ; 763  |
                             1974 ; 764  |
                             1975 ; 765  |typedef union               
                             1976 ; 766  |{
                             1977 ; 767  |    struct {
                             1978 ; 768  |        int DAC_CHOP_CLK                   : HW_MIX_TEST_DAC_CHOP_CLK_WIDTH;
                             1979 ; 769  |        int RSVD0                          : HW_MIX_TEST_RSVD0_WIDTH;
                             1980 ; 770  |        int DAC_DISABLE_RTZ                : HW_MIX_TEST_DAC_DISABLE_RTZ_WIDTH;
                             1981 ; 771  |        int DAC_MORE_AMP_I                 : HW_MIX_TEST_DAC_MORE_AMP_I_WIDTH;
                             1982 ; 772  |        int RSVD1                          : HW_MIX_TEST_RSVD1_WIDTH;
                             1983 ; 773  |        int TMP_CFG                        : HW_MIX_TEST_TMP_CFG_WIDTH;
                             1984 ; 774  |        int TMPPWD                         : HW_MIX_TEST_TMPPWD_WIDTH;
                             1985 ; 775  |        int RSVD2                          : HW_MIX_TEST_RSVD2_WIDTH;
                             1986 ; 776  |    } B;
                             1987 ; 777  |    int I;
                             1988 ; 778  |    unsigned int U;
                             1989 ; 779  |} mix_test_type;
                             1990 ; 780  |#define HW_MIX_TEST      (*(volatile mix_test_type _X*) (HW_CODEC_BASEADDR+28))    /* Anal
                                  og Persistent Config Register */
                             1991 ; 781  |
                             1992 ; 782  |
                             1993 ; 783  |/////////////////////////////////////////////////////////////////////////////////
                             1994 ; 784  |//   Reference Control Register (HW_REF_CTRL) Bit Definitions
                             1995 ; 785  |#define HW_REF_CTRL_DACVBGVAL_BITPOS 0
                             1996 ; 786  |#define HW_REF_CTRL_ADJDAC_BITPOS 4
                             1997 ; 787  |#define HW_REF_CTRL_VAGVAL_BITPOS 5
                             1998 ; 788  |#define HW_REF_CTRL_ADJV_BITPOS 9
                             1999 ; 789  |#define HW_REF_CTRL_ADCREFV_BITPOS 10
                             2000 ; 790  |#define HW_REF_CTRL_ADJADC_BITPOS 14
                             2001 ; 791  |#define HW_REF_CTRL_PWRDWNS_BITPOS 15
                             2002 ; 792  |#define HW_REF_CTRL_BIASC_BITPOS 16
                             2003 ; 793  |#define HW_REF_CTRL_LWREF_BITPOS 18
                             2004 ; 794  |#define HW_REF_CTRL_LOW_PWR_BITPOS 19 
                             2005 ; 795  |
                             2006 ; 796  |#define HW_REF_CTRL_DACVBGVAL_WIDTH (4)
                             2007 ; 797  |#define HW_REF_CTRL_ADJDAC_WIDTH (1)
                             2008 ; 798  |#define HW_REF_CTRL_VAGVAL_WIDTH (4)
                             2009 ; 799  |#define HW_REF_CTRL_ADJV_WIDTH (1)
                             2010 ; 800  |#define HW_REF_CTRL_ADCREFV_WIDTH (4)
                             2011 ; 801  |#define HW_REF_CTRL_ADJADC_WIDTH (1)
                             2012 ; 802  |#define HW_REF_CTRL_PWRDWNS_WIDTH (1)
                             2013 ; 803  |#define HW_REF_CTRL_BIASC_WIDTH (2)
                             2014 ; 804  |#define HW_REF_CTRL_LWREF_WIDTH (1)
                             2015 ; 805  |#define HW_REF_CTRL_LOW_PWR_WIDTH (1) 
                             2016 ; 806  |#define HW_REF_CTRL_RSVD_WIDTH (4)
                             2017 ; 807  |
                             2018 ; 808  |#define HW_REF_CTRL_DACVBGVAL_SETMASK (((1<<HW_REF_CTRL_DACVBGVAL_WIDTH)-1)<<HW_REF_CTRL_D
                                  ACVBGVAL_BITPOS)
                             2019 ; 809  |#define HW_REF_CTRL_ADJDAC_SETMASK (((1<<HW_REF_CTRL_ADJDAC_WIDTH)-1)<<HW_REF_CTRL_ADJDAC_
                                  BITPOS)
                             2020 ; 810  |#define HW_REF_CTRL_VAGVAL_SETMASK (((1<<HW_REF_CTRL_VAGVAL_WIDTH)-1)<<HW_REF_CTRL_VAGVAL_
                                  BITPOS)
                             2021 ; 811  |#define HW_REF_CTRL_ADJV_SETMASK (((1<<HW_REF_CTRL_ADJV_WIDTH)-1)<<HW_REF_CTRL_ADJV_BITPOS
                                  )
                             2022 ; 812  |#define HW_REF_CTRL_ADCREFV_SETMASK (((1<<HW_REF_CTRL_ADCREFV_WIDTH)-1)<<HW_REF_CTRL_ADCRE
                                  FV_BITPOS)
                             2023 ; 813  |#define HW_REF_CTRL_ADJADC_SETMASK (((1<<HW_REF_CTRL_ADJADC_WIDTH)-1)<<HW_REF_CTRL_ADJADC_
                                  BITPOS)
                             2024 ; 814  |#define HW_REF_CTRL_PWRDWNS_SETMASK (((1<<HW_REF_CTRL_PWRDWNS_WIDTH)-1)<<HW_REF_CTRL_PWRDW
                                  NS_BITPOS)
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  34

M:ADDR CODE           CYCLES LINE SOURCELINE
                             2025 ; 815  |#define HW_REF_CTRL_BIASC_SETMASK (((1<<HW_REF_CTRL_BIASC_WIDTH)-1)<<HW_REF_CTRL_BIASC_BIT
                                  POS)
                             2026 ; 816  |#define HW_REF_CTRL_LWREF_SETMASK (((1<<HW_REF_CTRL_LWREF_WIDTH)-1)<<HW_REF_CTRL_LWREF_BIT
                                  POS)
                             2027 ; 817  |#define HW_REF_CTRL_LOW_PWR_SETMASK (((1<<HW_REF_CTRL_LOW_PWR_WIDTH)-1)<<HW_REF_CTRL_LOW_P
                                  WR_BITPOS)
                             2028 ; 818  |
                             2029 ; 819  |#define HW_REF_CTRL_DACVBGVAL_CLRMASK ~(WORD)HW_REF_CTRL_DACVBGVAL_SETMASK
                             2030 ; 820  |#define HW_REF_CTRL_ADJDAC_CLRMASK ~(WORD)HW_REF_CTRL_ADJDAC_SETMASK
                             2031 ; 821  |#define HW_REF_CTRL_VAGVAL_CLRMASK ~(WORD)HW_REF_CTRL_VAGVAL_SETMASK
                             2032 ; 822  |#define HW_REF_CTRL_ADJV_CLRMASK ~(WORD)HW_REF_CTRL_ADJV_SETMASK
                             2033 ; 823  |#define HW_REF_CTRL_ADCREFV_CLRMASK ~(WORD)HW_REF_CTRL_ADCREFV_SETMASK
                             2034 ; 824  |#define HW_REF_CTRL_ADJADC_CLRMASK ~(WORD)HW_REF_CTRL_ADJADC_SETMASK
                             2035 ; 825  |#define HW_REF_CTRL_PWRDWNS_CLRMASK ~(WORD)HW_REF_CTRL_PWRDWNS_SETMASK
                             2036 ; 826  |#define HW_REF_CTRL_BIASC_CLRMASK ~(WORD)HW_REF_CTRL_BIASC_SETMASK
                             2037 ; 827  |#define HW_REF_CTRL_LWREF_CLRMASK ~(WORD)HW_REF_CTRL_LWREF_SETMASK
                             2038 ; 828  |#define HW_REF_CTRL_LOW_PWR_CLRMASK ~(WORD)HW_REF_CTRL_LOW_PWR_SETMASK
                             2039 ; 829  |
                             2040 ; 830  |typedef union               
                             2041 ; 831  |{
                             2042 ; 832  |    struct {
                             2043 ; 833  |        int DACVBGVAL      : HW_REF_CTRL_DACVBGVAL_WIDTH;
                             2044 ; 834  |        int ADJDAC                 : HW_REF_CTRL_ADJDAC_WIDTH;
                             2045 ; 835  |        int VAGVAL                 : HW_REF_CTRL_VAGVAL_WIDTH;
                             2046 ; 836  |        int ADJV                   : HW_REF_CTRL_ADJV_WIDTH;
                             2047 ; 837  |        int ADCREFV       : HW_REF_CTRL_ADCREFV_WIDTH;
                             2048 ; 838  |        int ADJADC                 : HW_REF_CTRL_ADJADC_WIDTH;
                             2049 ; 839  |        int PWRDWNS       : HW_REF_CTRL_PWRDWNS_WIDTH;
                             2050 ; 840  |        int BIASC         : HW_REF_CTRL_BIASC_WIDTH;
                             2051 ; 841  |        int LWREF         : HW_REF_CTRL_LWREF_WIDTH;
                             2052 ; 842  |        int LOW_PWR       : HW_REF_CTRL_LOW_PWR_WIDTH;
                             2053 ; 843  |        int RSVD               : HW_REF_CTRL_RSVD_WIDTH;
                             2054 ; 844  |    } B;
                             2055 ; 845  |    int I;
                             2056 ; 846  |    unsigned int U;
                             2057 ; 847  |} ref_ctrl_type;
                             2058 ; 848  |#define HW_REF_CTRL (*(volatile ref_ctrl_type _X*) (HW_CODEC_BASEADDR+25))
                             2059 ; 849  |
                             2060 ; 850  |
                             2061 ; 851  |
                             2062 ; 852  |/////////////////////////////////////////////////////////////////////////////////
                             2063 ; 853  |/////////////////////////////////////////////////////////////////////////////////
                             2064 ; 854  |/////////////////////////////////////////////////////////////////////////////////
                             2065 ; 855  |//////  DAC Registers
                             2066 ; 856  |/////////////////////////////////////////////////////////////////////////////////
                             2067 ; 857  |/////////////////////////////////////////////////////////////////////////////////
                             2068 ; 858  |/////////////////////////////////////////////////////////////////////////////////
                             2069 ; 859  |#define HW_DAC_BASEADDR 0xF800
                             2070 ; 860  |
                             2071 ; 861  |
                             2072 ; 862  |
                             2073 ; 863  |/////////////////////////////////////////////////////////////////////////////////
                             2074 ; 864  |//  DAC Control Status Register (HW_DACCSR) Bit Definitions
                             2075 ; 865  |#define HW_DACCSR_TXEN_BITPOS 0
                             2076 ; 866  |#define HW_DACCSR_TXIEN_BITPOS 1
                             2077 ; 867  |#define HW_DACCSR_TXI_BITPOS 2
                             2078 ; 868  |#define HW_DACCSR_TXEXC_BITPOS 3
                             2079 ; 869  |#define HW_DACCSR_LPBK_BITPOS 4
                             2080 ; 870  |#define HW_DACCSR_DMASEL_BITPOS 5
                             2081 ; 871  |#define HW_DACCSR_DAC_HIPPOP_EN_BITPOS 7
                             2082 ; 872  |#define HW_DACCSR_LVUP_BITPOS 8
                             2083 ; 873  |#define HW_DACCSR_RVUP_BITPOS 9
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  35

M:ADDR CODE           CYCLES LINE SOURCELINE
                             2084 ; 874  |#define HW_DACCSR_VUP_BITPOS 10
                             2085 ; 875  |#define HW_DACCSR_RSRVD_BITPOS 11
                             2086 ; 876  |#define HW_DACCSR_CLKGT_BITPOS 23
                             2087 ; 877  |
                             2088 ; 878  |#define HW_DACCSR_TXEN_WIDTH (1)
                             2089 ; 879  |#define HW_DACCSR_TXIEN_WIDTH (1)
                             2090 ; 880  |#define HW_DACCSR_TXI_WIDTH (1)
                             2091 ; 881  |#define HW_DACCSR_TXEXC_WIDTH (1)
                             2092 ; 882  |#define HW_DACCSR_LPBK_WIDTH (1)
                             2093 ; 883  |#define HW_DACCSR_DMASEL_WIDTH (2)
                             2094 ; 884  |#define HW_DACCSR_DAC_HIPPOP_EN_WIDTH (1)
                             2095 ; 885  |#define HW_DACCSR_LVUP_WIDTH (1)
                             2096 ; 886  |#define HW_DACCSR_RVUP_WIDTH (1)
                             2097 ; 887  |#define HW_DACCSR_VUP_WIDTH (1)
                             2098 ; 888  |#define HW_DACCSR_RSRVD_WIDTH (12)
                             2099 ; 889  |#define HW_DACCSR_CLKGT_WIDTH (1)
                             2100 ; 890  |
                             2101 ; 891  |#define HW_DACCSR_TXEN_SETMASK 1<<HW_DACCSR_TXEN_BITPOS
                             2102 ; 892  |#define HW_DACCSR_TXIEN_SETMASK 1<<HW_DACCSR_TXIEN_BITPOS
                             2103 ; 893  |#define HW_DACCSR_TXI_SETMASK 1<<HW_DACCSR_TXI_BITPOS
                             2104 ; 894  |#define HW_DACCSR_TXEXC_SETMASK 1<<HW_DACCSR_TXEXC_BITPOS
                             2105 ; 895  |#define HW_DACCSR_LPBK_SETMASK 1<<HW_DACCSR_LPBK_BITPOS
                             2106 ; 896  |#define HW_DACCSR_DMASEL_P_SETMASK ((2)<<(HW_DACCSR_DMASEL_BITPOS))
                             2107 ; 897  |#define HW_DACCSR_DMASEL_Y_SETMASK (1<<(HW_DACCSR_DMASEL_BITPOS))
                             2108 ; 898  |//         DMASEL_X has no asm setmask since X config value is 00 binary.
                             2109 ; 899  |#define HW_DACCSR_DAC_HIPPOP_EN_SETMASK (1<<HW_DACCSR_DAC_HIPPOP_EN_BITPOS)
                             2110 ; 900  |#define HW_DACCSR_LVUP_SETMASK (1<<HW_DACCSR_LVUP_BITPOS)
                             2111 ; 901  |#define HW_DACCSR_RVUP_SETMASK (1<<HW_DACCSR_RVUP_BITPOS)
                             2112 ; 902  |#define HW_DACCSR_VUP_SETMASK (1<<HW_DACCSR_VUP_BITPOS)
                             2113 ; 903  |#define HW_DACCSR_CLKGT_SETMASK (1<<HW_DACCSR_CLKGT_BITPOS)
                             2114 ; 904  |
                             2115 ; 905  |#define HW_DACCSR_TXEN_CLRMASK ~(WORD)HW_DACCSR_TXEN_SETMASK
                             2116 ; 906  |#define HW_DACCSR_TXIEN_CLRMASK ~(WORD)HW_DACCSR_TXIEN_SETMASK
                             2117 ; 907  |#define HW_DACCSR_TXI_CLRMASK ~(WORD)HW_DACCSR_TXI_SETMASK
                             2118 ; 908  |#define HW_DACCSR_TXEXC_CLRMASK ~(WORD)HW_DACCSR_TXEXC_SETMASK
                             2119 ; 909  |#define HW_DACCSR_LPBK_CLRMASK ~(WORD)HW_DACCSR_LPBK_SETMASK
                             2120 ; 910  |// No asm clrmask for 2 bit bitfield DMASEL
                             2121 ; 911  |#define HW_DACCSR_DAC_HIPPOP_EN_CLRMASK ~(WORD)HW_DACCSR_DAC_HIPPOP_EN_SETMASK
                             2122 ; 912  |#define HW_DACCSR_LVUP_CLRMASK ~(WORD)HW_DACCSR_LVUP_SETMASK
                             2123 ; 913  |#define HW_DACCSR_RVUP_CLRMASK ~(WORD)HW_DACCSR_RVUP_SETMASK
                             2124 ; 914  |#define HW_DACCSR_VUP_CLRMASK ~(WORD)HW_DACCSR_VUP_SETMASK
                             2125 ; 915  |#define HW_DACCSR_CLKGT_CLRMASK ~(WORD)HW_DACCSR_CLKGT_SETMASK 
                             2126 ; 916  |
                             2127 ; 917  |
                             2128 ; 918  |typedef union               
                             2129 ; 919  |{
                             2130 ; 920  |    struct {
                             2131 ; 921  |        int TXEN                        : HW_DACCSR_TXEN_WIDTH;
                             2132 ; 922  |        int TXIEN                       : HW_DACCSR_TXIEN_WIDTH;
                             2133 ; 923  |        int TXI                         : HW_DACCSR_TXI_WIDTH;
                             2134 ; 924  |        int TXEXC                       : HW_DACCSR_TXEXC_WIDTH;
                             2135 ; 925  |        int LPBK                        : HW_DACCSR_LPBK_WIDTH;
                             2136 ; 926  |        int DMASEL                      : HW_DACCSR_DMASEL_WIDTH;
                             2137 ; 927  |             #define HW_DACCSR_DMASEL_X_BITFIELD_VAL    0
                             2138 ; 928  |             #define HW_DACCSR_DMASEL_Y_BITFIELD_VAL    1
                             2139 ; 929  |             #define HW_DACCSR_DMASEL_P_BITFIELD_VAL    2       
                             2140 ; 930  |        int DAC_HIPPOP_EN               : HW_DACCSR_DAC_HIPPOP_EN_WIDTH;
                             2141 ; 931  |        int LVUP                        : HW_DACCSR_LVUP_WIDTH;
                             2142 ; 932  |        int RVUP                        : HW_DACCSR_RVUP_WIDTH;
                             2143 ; 933  |        int VUP                         : HW_DACCSR_VUP_WIDTH;
                             2144 ; 934  |        int RSVD                        : HW_DACCSR_RSRVD_WIDTH;
                             2145 ; 935  |        int CLKGT                       : HW_DACCSR_CLKGT_WIDTH;
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  36

M:ADDR CODE           CYCLES LINE SOURCELINE
                             2146 ; 936  |    } B;
                             2147 ; 937  |    int I;
                             2148 ; 938  |    unsigned int U;
                             2149 ; 939  |} dac_csr_type;
                             2150 ; 940  |#define HW_DACCSR      (*(volatile dac_csr_type _X*) (HW_DAC_BASEADDR))
                             2151 ; 941  |
                             2152 ; 942  |
                             2153 ; 943  |
                             2154 ; 944  |/////////////////////////////////////////////////////////////////////////////////
                             2155 ; 945  |//  DAC Sample Rate Register (HW_DACSRR) Bit Definitions
                             2156 ; 946  |#define HW_DACSRR_SR_BITPOS 0
                             2157 ; 947  |
                             2158 ; 948  |#define HW_DACSRR_SR_WIDTH (23)
                             2159 ; 949  |#define HW_DACSRR_RSVD_WIDTH (1)
                             2160 ; 950  |
                             2161 ; 951  |//HW_DACSRR_SR_SETMASK                    equ     $FFFFFF<<HW_DACSRR_SR_BITPOS
                             2162 ; 952  |#define HW_DACSRR_SR_SETMASK (((1<<HW_DACSRR_SR_WIDTH)-1)<<HW_DACSRR_SR_BITPOS)        
                             2163 ; 953  |
                             2164 ; 954  |#define HW_DACSRR_SR_CLRMASK ~(WORD)HW_DACSRR_SR_SETMASK
                             2165 ; 955  |
                             2166 ; 956  |typedef union               
                             2167 ; 957  |{
                             2168 ; 958  |    struct {
                             2169 ; 959  |        int SR                          : HW_DACSRR_SR_WIDTH;
                             2170 ; 960  |        int RSVD                        : HW_DACSRR_RSVD_WIDTH;
                             2171 ; 961  |    } B;
                             2172 ; 962  |    int I;
                             2173 ; 963  |    unsigned int U;
                             2174 ; 964  |} dac_srr_type;
                             2175 ; 965  |#define HW_DACSRR      (*(volatile dac_srr_type _X*) (HW_DAC_BASEADDR+1))
                             2176 ; 966  |
                             2177 ; 967  |
                             2178 ; 968  |
                             2179 ; 969  |/////////////////////////////////////////////////////////////////////////////////
                             2180 ; 970  |//  DAC Word Count Register (HW_DACWCR) Bit Definitions
                             2181 ; 971  |#define HW_DACWCR_WCR_BITPOS 0
                             2182 ; 972  |
                             2183 ; 973  |#define HW_DACWCR_WCR_WIDTH (10)
                             2184 ; 974  |#define HW_DACWCR_RSVD_WIDTH (12)
                             2185 ; 975  |
                             2186 ; 976  |//HW_DACWCR_WCR_SETMASK                   equ     $3FF<<HW_DACWCR_WCR_BITPOS
                             2187 ; 977  |#define HW_DACWCR_WCR_SETMASK (((1<<HW_DACWCR_WCR_WIDTH)-1)<<HW_DACWCR_WCR_BITPOS)        
                                  
                             2188 ; 978  |
                             2189 ; 979  |#define HW_DACWCR_WCR_CLRMASK ~(WORD)HW_DACWCR_WCR_SETMASK
                             2190 ; 980  |
                             2191 ; 981  |typedef union               
                             2192 ; 982  |{
                             2193 ; 983  |    struct {
                             2194 ; 984  |        int WCR                         : HW_DACWCR_WCR_WIDTH;
                             2195 ; 985  |        int RSVD                        : HW_DACWCR_RSVD_WIDTH;
                             2196 ; 986  |    } B;
                             2197 ; 987  |    int I;
                             2198 ; 988  |    unsigned int U;
                             2199 ; 989  |} dac_wcr_type;
                             2200 ; 990  |#define HW_DACWCR      (*(volatile dac_wcr_type _X*) (HW_DAC_BASEADDR+2))
                             2201 ; 991  |
                             2202 ; 992  |
                             2203 ; 993  |
                             2204 ; 994  |/////////////////////////////////////////////////////////////////////////////////
                             2205 ; 995  |//  DAC Current Position Register (HW_DACCPR) Bit Definitions
                             2206 ; 996  |#define HW_DACCPR_CPR_BITPOS 0
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  37

M:ADDR CODE           CYCLES LINE SOURCELINE
                             2207 ; 997  |
                             2208 ; 998  |#define HW_DACCPR_CPR_WIDTH (10)
                             2209 ; 999  |#define HW_DACCPR_RSVD_WIDTH (14)
                             2210 ; 1000 |
                             2211 ; 1001 |//HW_DACCPR_CPR_SETMASK                   equ     $3FF<<HW_DACCPR_CPR_BITPOS
                             2212 ; 1002 |#define HW_DACCPR_CPR_SETMASK (((1<<HW_DACCPR_CPR_WIDTH)-1)<<HW_DACCPR_CPR_BITPOS)        
                                  
                             2213 ; 1003 |
                             2214 ; 1004 |#define HW_DACCPR_CPR_CLRMASK ~(WORD)HW_DACCPR_CPR_SETMASK
                             2215 ; 1005 |
                             2216 ; 1006 |typedef union               
                             2217 ; 1007 |{
                             2218 ; 1008 |    struct {
                             2219 ; 1009 |        int CPR                         : HW_DACCPR_CPR_WIDTH;
                             2220 ; 1010 |        int RSVD                        : HW_DACCPR_RSVD_WIDTH;
                             2221 ; 1011 |    } B;
                             2222 ; 1012 |    int I;
                             2223 ; 1013 |    unsigned int U;
                             2224 ; 1014 |} dac_cpr_type;
                             2225 ; 1015 |#define HW_DACCPR      (*(volatile dac_cpr_type _X*) (HW_DAC_BASEADDR+3))
                             2226 ; 1016 |
                             2227 ; 1017 |
                             2228 ; 1018 |
                             2229 ; 1019 |/////////////////////////////////////////////////////////////////////////////////
                             2230 ; 1020 |//  DAC Modulo Register (HW_DACMR) Bit Definitions
                             2231 ; 1021 |#define HW_DACMR_MR_BITPOS 0
                             2232 ; 1022 |#define HW_DACMR_MR_WIDTH (10)
                             2233 ; 1023 |#define HW_DACMR_RSVD_WIDTH (14)
                             2234 ; 1024 |
                             2235 ; 1025 |//HW_DACMR_MR_SETMASK                     equ     $3FF<<HW_DACMR_MR_BITPOS
                             2236 ; 1026 |#define HW_DACMR_MR_SETMASK (((1<<HW_DACMR_MR_WIDTH)-1)<<HW_DACMR_MR_BITPOS)        
                             2237 ; 1027 |
                             2238 ; 1028 |#define HW_DACMR_MR_CLRMASK ~(WORD)HW_DACMR_MR_SETMASK
                             2239 ; 1029 |
                             2240 ; 1030 |typedef union               
                             2241 ; 1031 |{
                             2242 ; 1032 |    struct {
                             2243 ; 1033 |        int MR                         : HW_DACMR_MR_WIDTH;
                             2244 ; 1034 |        int RSVD                       : HW_DACMR_RSVD_WIDTH;
                             2245 ; 1035 |    } B;
                             2246 ; 1036 |    int I;
                             2247 ; 1037 |    unsigned int U;
                             2248 ; 1038 |} dac_mr_type;
                             2249 ; 1039 |#define HW_DACMR      (*(volatile dac_mr_type _X*) (HW_DAC_BASEADDR+4))
                             2250 ; 1040 |
                             2251 ; 1041 |
                             2252 ; 1042 |
                             2253 ; 1043 |/////////////////////////////////////////////////////////////////////////////////
                             2254 ; 1044 |//   DAC Base Address Register (HW_DACBAR) Bit Definitions
                             2255 ; 1045 |#define HW_DACBAR_BAR_BITPOS 0
                             2256 ; 1046 |#define HW_DACBAR_BAR_WIDTH (16)
                             2257 ; 1047 |#define HW_DACBAR_RSVD_WIDTH (8)
                             2258 ; 1048 |
                             2259 ; 1049 |//HW_DACBAR_BAR_SETMASK                   equ     $FFFF<<HW_DACBAR_BAR_BITPOS
                             2260 ; 1050 |#define HW_DACBAR_BAR_SETMASK (((1<<HW_DACBAR_BAR_WIDTH)-1)<<HW_DACBAR_BAR_BITPOS)        
                                  
                             2261 ; 1051 |
                             2262 ; 1052 |#define HW_DACBAR_BAR_CLRMASK ~(WORD)HW_DACBAR_BAR_SETMASK
                             2263 ; 1053 |
                             2264 ; 1054 |typedef union               
                             2265 ; 1055 |{
                             2266 ; 1056 |    struct {
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  38

M:ADDR CODE           CYCLES LINE SOURCELINE
                             2267 ; 1057 |        int BAR                        : HW_DACBAR_BAR_WIDTH;
                             2268 ; 1058 |        int RSVD                       : HW_DACBAR_RSVD_WIDTH;
                             2269 ; 1059 |    } B;
                             2270 ; 1060 |    int I;
                             2271 ; 1061 |    unsigned int U;
                             2272 ; 1062 |} dac_bar_type;
                             2273 ; 1063 |#define HW_DACBAR      (*(volatile dac_bar_type _X*) (HW_DAC_BASEADDR+5))
                             2274 ; 1064 |
                             2275 ; 1065 |
                             2276 ; 1066 |
                             2277 ; 1067 |/////////////////////////////////////////////////////////////////////////////////
                             2278 ; 1068 |//  DAC Interrupt Control Register (HW_DACICR) Bit Definitions
                             2279 ; 1069 |#define HW_DACICR_IPT_BITPOS 0
                             2280 ; 1070 |
                             2281 ; 1071 |#define HW_DACICR_IPT_WIDTH (10)
                             2282 ; 1072 |#define HW_DACICR_RSVD_WIDTH (12)
                             2283 ; 1073 |
                             2284 ; 1074 |#define HW_DACICR_IPT_SETMASK (((1<<HW_DACICR_IPT_WIDTH)-1)<<HW_DACICR_IPT_BITPOS)        
                                  
                             2285 ; 1075 |
                             2286 ; 1076 |#define HW_DACICR_IPT_CLRMASK ~(WORD)HW_DACICR_IPT_SETMASK
                             2287 ; 1077 |
                             2288 ; 1078 |typedef union               
                             2289 ; 1079 |{
                             2290 ; 1080 |    struct {
                             2291 ; 1081 |        int IPT                         : HW_DACICR_IPT_WIDTH;
                             2292 ; 1082 |        int RSVD                        : HW_DACICR_RSVD_WIDTH;
                             2293 ; 1083 |    } B;
                             2294 ; 1084 |    int I;
                             2295 ; 1085 |    unsigned int U;
                             2296 ; 1086 |} dac_icr_type;
                             2297 ; 1087 |#define HW_DACICR      (*(volatile dac_icr_type _X*) (HW_DAC_BASEADDR+6))
                             2298 ; 1088 |
                             2299 ; 1089 |
                             2300 ; 1090 |
                             2301 ; 1091 |
                             2302 ; 1092 |
                             2303 ; 1093 |/////////////////////////////////////////////////////////////////////////////////
                             2304 ; 1094 |/////////////////////////////////////////////////////////////////////////////////
                             2305 ; 1095 |/////////////////////////////////////////////////////////////////////////////////
                             2306 ; 1096 |//////  ADC Registers
                             2307 ; 1097 |/////////////////////////////////////////////////////////////////////////////////
                             2308 ; 1098 |/////////////////////////////////////////////////////////////////////////////////
                             2309 ; 1099 |/////////////////////////////////////////////////////////////////////////////////
                             2310 ; 1100 |#define HW_ADC_BASEADDR 0xFB00
                             2311 ; 1101 |
                             2312 ; 1102 |
                             2313 ; 1103 |
                             2314 ; 1104 |/////////////////////////////////////////////////////////////////////////////////
                             2315 ; 1105 |//  ADC Control Status Register (HW_ADCCSR) Bit Definitions
                             2316 ; 1106 |#define HW_ADCCSR_TXEN_BITPOS 0
                             2317 ; 1107 |#define HW_ADCCSR_TXIEN_BITPOS 1
                             2318 ; 1108 |#define HW_ADCCSR_TXI_BITPOS 2
                             2319 ; 1109 |#define HW_ADCCSR_TXEXC_BITPOS 3
                             2320 ; 1110 |#define HW_ADCCSR_LPBK_BITPOS 4
                             2321 ; 1111 |#define HW_ADCCSR_DMASEL_BITPOS 5
                             2322 ; 1112 |#define HW_ADCCSR_LPFMODE_BITPOS 8
                             2323 ; 1113 |#define HW_ADCCSR_CLKGT_BITPOS 23
                             2324 ; 1114 |
                             2325 ; 1115 |#define HW_ADCCSR_TXEN_WIDTH (1)
                             2326 ; 1116 |#define HW_ADCCSR_TXIEN_WIDTH (1)
                             2327 ; 1117 |#define HW_ADCCSR_TXI_WIDTH (1)
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  39

M:ADDR CODE           CYCLES LINE SOURCELINE
                             2328 ; 1118 |#define HW_ADCCSR_TXEXC_WIDTH (1)
                             2329 ; 1119 |#define HW_ADCCSR_LPBK_WIDTH (1)
                             2330 ; 1120 |#define HW_ADCCSR_DMASEL_WIDTH (2)
                             2331 ; 1121 |#define HW_ADCCSR_RSVD1_WIDTH (1)
                             2332 ; 1122 |#define HW_ADCCSR_LPFMODE_WIDTH (4)
                             2333 ; 1123 |#define HW_ADCCSR_RSVD2_WIDTH (11)
                             2334 ; 1124 |#define HW_ADCCSR_CLKGT_WIDTH (1)
                             2335 ; 1125 |
                             2336 ; 1126 |#define HW_ADCCSR_TXEN_SETMASK 1<<HW_ADCCSR_TXEN_BITPOS
                             2337 ; 1127 |#define HW_ADCCSR_TXIEN_SETMASK 1<<HW_ADCCSR_TXIEN_BITPOS
                             2338 ; 1128 |#define HW_ADCCSR_TXI_SETMASK 1<<HW_ADCCSR_TXI_BITPOS
                             2339 ; 1129 |#define HW_ADCCSR_TXEXC_SETMASK 1<<HW_ADCCSR_TXEXC_BITPOS
                             2340 ; 1130 |#define HW_ADCCSR_LPBK_SETMASK 1<<HW_ADCCSR_LPBK_BITPOS
                             2341 ; 1131 |#define HW_ADCCSR_DMASEL_SETMASK (((1<<HW_ADCCSR_DMASEL_WIDTH)-1)<<HW_ADCCSR_DMASEL_BITPOS
                                  )        
                             2342 ; 1132 |#define HW_ADCCSR_LPFMODE_SETMASK (((1<<HW_ADCCSR_LPFMODE_WIDTH)-1)<<HW_ADCCSR_LPFMODE_BIT
                                  POS)        
                             2343 ; 1133 |#define HW_ADCCSR_CLKGT_SETMASK 1<<HW_ADCCSR_CLKGT_BITPOS
                             2344 ; 1134 |
                             2345 ; 1135 |#define HW_ADCCSR_TXEN_CLRMASK ~(WORD)HW_ADCCSR_TXEN_SETMASK
                             2346 ; 1136 |#define HW_ADCCSR_TXIEN_CLRMASK ~(WORD)HW_ADCCSR_TXIEN_SETMASK
                             2347 ; 1137 |#define HW_ADCCSR_TXI_CLRMASK ~(WORD)HW_ADCCSR_TXI_SETMASK
                             2348 ; 1138 |#define HW_ADCCSR_TXEXC_CLRMASK ~(WORD)HW_ADCCSR_TXEXC_SETMASK
                             2349 ; 1139 |#define HW_ADCCSR_LPBK_CLRMASK ~(WORD)HW_ADCCSR_LPBK_SETMASK
                             2350 ; 1140 |#define HW_ADCCSR_DMASEL_CLRMASK ~(WORD)HW_ADCCSR_DMASEL_SETMASK
                             2351 ; 1141 |#define HW_ADCCSR_LPFMODE_CLRMASK ~(WORD)HW_ADCCSR_LPFMODE_SETMASK
                             2352 ; 1142 |#define HW_ADCCSR_CLKGT_CLRMASK ~(WORD)HW_ADCCSR_CLKGT_SETMASK
                             2353 ; 1143 |
                             2354 ; 1144 |typedef union               
                             2355 ; 1145 |{
                             2356 ; 1146 |    struct {
                             2357 ; 1147 |        int TXEN                        : HW_ADCCSR_TXEN_WIDTH;
                             2358 ; 1148 |        int TXIEN                       : HW_ADCCSR_TXIEN_WIDTH;
                             2359 ; 1149 |        int TXI                         : HW_ADCCSR_TXI_WIDTH;
                             2360 ; 1150 |        int TXEXC                       : HW_ADCCSR_TXEXC_WIDTH;
                             2361 ; 1151 |        int LPBK                        : HW_ADCCSR_LPBK_WIDTH;
                             2362 ; 1152 |        int RSVD1                       : HW_ADCCSR_RSVD1_WIDTH;
                             2363 ; 1153 |        int DMASEL                      : HW_ADCCSR_DMASEL_WIDTH;
                             2364 ; 1154 |        int LPFMODE                     : HW_ADCCSR_LPFMODE_WIDTH;
                             2365 ; 1155 |        int RSVD2                       : HW_ADCCSR_RSVD2_WIDTH;
                             2366 ; 1156 |        int CLKGT                       : HW_ADCCSR_CLKGT_WIDTH;
                             2367 ; 1157 |    } B;
                             2368 ; 1158 |    int I;
                             2369 ; 1159 |    unsigned int U;
                             2370 ; 1160 |} adc_csr_type;
                             2371 ; 1161 |#define HW_ADCCSR (*(volatile adc_csr_type _X*) (HW_ADC_BASEADDR+0))
                             2372 ; 1162 |
                             2373 ; 1163 |
                             2374 ; 1164 |/////////////////////////////////////////////////////////////////////////////////
                             2375 ; 1165 |//  ADC Word Count Register (HW_ADCWCR) Bit Definitions
                             2376 ; 1166 |#define HW_ADCWCR_WCR_BITPOS 0
                             2377 ; 1167 |
                             2378 ; 1168 |#define HW_ADCWCR_WCR_WIDTH (10)
                             2379 ; 1169 |#define HW_ADCWCR_RSVD_WIDTH (14)
                             2380 ; 1170 |
                             2381 ; 1171 |#define HW_ADCWCR_WCR_SETMASK (((1<<HW_ADCWCR_WCR_WIDTH)-1)<<HW_ADCWCR_WCR_BITPOS)        
                                  
                             2382 ; 1172 |
                             2383 ; 1173 |#define HW_ADCWCR_WCR_CLRMASK ~(WORD)HW_ADCWCR_WCR_SETMASK
                             2384 ; 1174 |
                             2385 ; 1175 |typedef union               
                             2386 ; 1176 |{
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  40

M:ADDR CODE           CYCLES LINE SOURCELINE
                             2387 ; 1177 |    struct {
                             2388 ; 1178 |        int WCR                         : HW_ADCWCR_WCR_WIDTH;
                             2389 ; 1179 |        int RSVD                        : HW_ADCWCR_RSVD_WIDTH;
                             2390 ; 1180 |    } B;
                             2391 ; 1181 |    int I;
                             2392 ; 1182 |    unsigned int U;
                             2393 ; 1183 |} adc_wcr_type;
                             2394 ; 1184 |#define HW_ADCWCR (*(volatile adc_wcr_type _X*) (HW_ADC_BASEADDR+2))
                             2395 ; 1185 |
                             2396 ; 1186 |
                             2397 ; 1187 |
                             2398 ; 1188 |/////////////////////////////////////////////////////////////////////////////////
                             2399 ; 1189 |//   ADC Base Address Register (HW_ADCBAR) Bit Definitions
                             2400 ; 1190 |#define HW_ADCBAR_BAR_BITPOS 0
                             2401 ; 1191 |#define HW_ADCBAR_BAR_WIDTH (16)
                             2402 ; 1192 |#define HW_ADCBAR_RSVD_WIDTH (8)
                             2403 ; 1193 |
                             2404 ; 1194 |//HW_ADCBAR_BAR_SETMASK                   equ     $FFFF<<HW_ADCBAR_BAR_BITPOS
                             2405 ; 1195 |#define HW_ADCBAR_BAR_SETMASK (((1<<HW_ADCBAR_BAR_WIDTH)-1)<<HW_ADCBAR_BAR_BITPOS)        
                                  
                             2406 ; 1196 |
                             2407 ; 1197 |#define HW_ADCBAR_BAR_CLRMASK ~(WORD)HW_ADCBAR_BAR_SETMASK
                             2408 ; 1198 |
                             2409 ; 1199 |typedef union               
                             2410 ; 1200 |{
                             2411 ; 1201 |    struct {
                             2412 ; 1202 |        int BAR                        : HW_ADCBAR_BAR_WIDTH;
                             2413 ; 1203 |        int RSVD                       : HW_ADCBAR_RSVD_WIDTH;
                             2414 ; 1204 |    } B;
                             2415 ; 1205 |    int I;
                             2416 ; 1206 |    unsigned int U;
                             2417 ; 1207 |} adc_bar_type;
                             2418 ; 1208 |#define HW_ADCBAR (*(volatile adc_bar_type _X*) (HW_ADC_BASEADDR+5))
                             2419 ; 1209 |
                             2420 ; 1210 |
                             2421 ; 1211 |
                             2422 ; 1212 |
                             2423 ; 1213 |
                             2424 ; 1214 |/////////////////////////////////////////////////////////////////////////////////
                             2425 ; 1215 |//  DAC Current Position Register (HW_ADCCPR) Bit Definitions
                             2426 ; 1216 |#define HW_ADCCPR_CPR_BITPOS 0
                             2427 ; 1217 |
                             2428 ; 1218 |#define HW_ADCCPR_CPR_WIDTH (10)
                             2429 ; 1219 |#define HW_ADCCPR_RSVD_WIDTH (14)
                             2430 ; 1220 |
                             2431 ; 1221 |#define HW_ADCCPR_CPR_SETMASK (((1<<HW_ADCCPR_CPR_WIDTH)-1)<<HW_ADCCPR_CPR_BITPOS)        
                                  
                             2432 ; 1222 |
                             2433 ; 1223 |#define HW_ADCCPR_CPR_CLRMASK ~(WORD)HW_ADCCPR_CPR_SETMASK
                             2434 ; 1224 |
                             2435 ; 1225 |typedef union               
                             2436 ; 1226 |{
                             2437 ; 1227 |    struct {
                             2438 ; 1228 |        int CPR                         : HW_ADCCPR_CPR_WIDTH;
                             2439 ; 1229 |        int RSVD                        : HW_ADCCPR_RSVD_WIDTH;
                             2440 ; 1230 |    } B;
                             2441 ; 1231 |    int I;
                             2442 ; 1232 |    unsigned int U;
                             2443 ; 1233 |} adc_cpr_type;
                             2444 ; 1234 |#define HW_ADCCPR (*(volatile adc_cpr_type _X*) (HW_ADC_BASEADDR+3))
                             2445 ; 1235 |
                             2446 ; 1236 |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  41

M:ADDR CODE           CYCLES LINE SOURCELINE
                             2447 ; 1237 |/////////////////////////////////////////////////////////////////////////////////
                             2448 ; 1238 |//  ADC Modulo Register (HW_ADCMR) Bit Definitions
                             2449 ; 1239 |#define HW_ADCMR_MR_BITPOS 0
                             2450 ; 1240 |#define HW_ADCMR_MR_WIDTH (10)
                             2451 ; 1241 |#define HW_ADCMR_RSVD_WIDTH (14)
                             2452 ; 1242 |
                             2453 ; 1243 |//HW_ADCMR_MR_SETMASK                     equ     $3FF<<HW_ADCMR_MR_BITPOS
                             2454 ; 1244 |#define HW_ADCMR_MR_SETMASK (((1<<HW_ADCMR_MR_WIDTH)-1)<<HW_ADCMR_MR_BITPOS)        
                             2455 ; 1245 |
                             2456 ; 1246 |#define HW_ADCMR_MR_CLRMASK ~(WORD)HW_ADCMR_MR_SETMASK
                             2457 ; 1247 |
                             2458 ; 1248 |typedef union               
                             2459 ; 1249 |{
                             2460 ; 1250 |    struct {
                             2461 ; 1251 |        int MR                         : HW_ADCMR_MR_WIDTH;
                             2462 ; 1252 |        int RSVD                       : HW_ADCMR_RSVD_WIDTH;
                             2463 ; 1253 |    } B;
                             2464 ; 1254 |    int I;
                             2465 ; 1255 |    unsigned int U;
                             2466 ; 1256 |} adc_mr_type;
                             2467 ; 1257 |#define HW_ADCMR (*(volatile adc_mr_type _X*) (HW_ADC_BASEADDR+4))
                             2468 ; 1258 |
                             2469 ; 1259 |/////////////////////////////////////////////////////////////////////////////////
                             2470 ; 1260 |//  ADC Sample Rate Register (HW_ADCSRR) Bit Definitions
                             2471 ; 1261 |#define HW_ADCSRR_SR_BITPOS 0
                             2472 ; 1262 |
                             2473 ; 1263 |#define HW_ADCSRR_SR_WIDTH (23)
                             2474 ; 1264 |#define HW_ADCSRR_RSVD_WIDTH (1)
                             2475 ; 1265 |
                             2476 ; 1266 |//HW_ADCSRR_SR_SETMASK                    equ     $FFFFFF<<HW_ADCSRR_SR_BITPOS
                             2477 ; 1267 |#define HW_ADCSRR_SR_SETMASK (((1<<HW_ADCSRR_SR_WIDTH)-1)<<HW_ADCSRR_SR_BITPOS)        
                             2478 ; 1268 |
                             2479 ; 1269 |#define HW_ADCSRR_SR_CLRMASK ~(WORD)HW_ADCSRR_SR_SETMASK
                             2480 ; 1270 |
                             2481 ; 1271 |typedef union               
                             2482 ; 1272 |{
                             2483 ; 1273 |    struct {
                             2484 ; 1274 |        int SR                          : HW_ADCSRR_SR_WIDTH;
                             2485 ; 1275 |        int RSVD                        : HW_ADCSRR_RSVD_WIDTH;
                             2486 ; 1276 |    } B;
                             2487 ; 1277 |    int I;
                             2488 ; 1278 |    unsigned int U;
                             2489 ; 1279 |} adc_srr_type;
                             2490 ; 1280 |#define HW_ADCSRR (*(volatile adc_srr_type _X*) (HW_ADC_BASEADDR+1))
                             2491 ; 1281 |
                             2492 ; 1282 |/////////////////////////////////////////////////////////////////////////////////
                             2493 ; 1283 |//  ADC Interrupt Control Register (HW_ADCICR) Bit Definitions
                             2494 ; 1284 |#define HW_ADCICR_IPT_BITPOS 0
                             2495 ; 1285 |
                             2496 ; 1286 |#define HW_ADCICR_IPT_WIDTH (10)
                             2497 ; 1287 |#define HW_ADCICR_RSVD_WIDTH (12)
                             2498 ; 1288 |
                             2499 ; 1289 |#define HW_ADCICR_IPT_SETMASK (((1<<HW_ADCICR_IPT_WIDTH)-1)<<HW_ADCICR_IPT_BITPOS)        
                                  
                             2500 ; 1290 |
                             2501 ; 1291 |#define HW_ADCICR_IPT_CLRMASK ~(WORD)HW_ADCICR_IPT_SETMASK
                             2502 ; 1292 |
                             2503 ; 1293 |typedef union               
                             2504 ; 1294 |{
                             2505 ; 1295 |    struct {
                             2506 ; 1296 |        int IPT                         : HW_ADCICR_IPT_WIDTH;
                             2507 ; 1297 |        int RSVD                        : HW_ADCICR_RSVD_WIDTH;
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  42

M:ADDR CODE           CYCLES LINE SOURCELINE
                             2508 ; 1298 |    } B;
                             2509 ; 1299 |    int I;
                             2510 ; 1300 |    unsigned int U;
                             2511 ; 1301 |} adc_icr_type;
                             2512 ; 1302 |#define HW_ADCICR (*(volatile adc_icr_type _X*) (HW_ADC_BASEADDR+6))
                             2513 ; 1303 |
                             2514 ; 1304 |//*********************  REGISTER ALIAS DEFINES TO MATCH LEGACY CODE *********************
                                  **********
                             2515 ; 1305 |// The following defines were added to match regs3410.inc definition to build SDK2XXX code
                                   without needing 
                             2516 ; 1306 |// to update the actual files. Only the defines needed to build SDK2.400 were added.
                             2517 ; 1307 |
                             2518 ; 1308 |#define HW_MIXTBR_PW_ADC_RIGHT_CH_BITPOS 16
                             2519 ; 1309 |
                             2520 ; 1310 |#define HW_MIXLINE1INVR_GN_ZERO_SETMASK 0x808
                             2521 ; 1311 |
                             2522 ; 1312 |#endif
                             2523 ; 1313 |
                             2524 
                             2526 
                             2527 ; 20   |#include "regsdcdc.h"
                             2528 
                             2530 
                             2531 ; 1    |#if !(defined(regsdcdcinc))
                             2532 ; 2    |
                             2533 ; 3    |#define regssysteminc 1
                             2534 ; 4    |
                             2535 ; 5    |
                             2536 ; 6    |
                             2537 ; 7    |#include "types.h"
                             2538 
                             2540 
                             2541 ; 1    |////////////////////////////////////////////////////////////////////////////////
                             2542 ; 2    |// Copyright(C) SigmaTel, Inc. 2000-2004
                             2543 ; 3    |//
                             2544 ; 4    |// Filename: types.h
                             2545 ; 5    |// Description: Standard data types
                             2546 ; 6    |////////////////////////////////////////////////////////////////////////////////
                             2547 ; 7    |
                             2548 ; 8    |#ifndef _TYPES_H
                             2549 ; 9    |#define _TYPES_H
                             2550 ; 10   |
                             2551 ; 11   |// TODO:  move this outta here!
                             2552 ; 12   |#if !defined(NOERROR)
                             2553 ; 13   |#define NOERROR 0
                             2554 ; 14   |#define SUCCESS 0
                             2555 ; 15   |#endif 
                             2556 ; 16   |#if !defined(SUCCESS)
                             2557 ; 17   |#define SUCCESS  0
                             2558 ; 18   |#endif
                             2559 ; 19   |#if !defined(ERROR)
                             2560 ; 20   |#define ERROR   -1
                             2561 ; 21   |#endif
                             2562 ; 22   |#if !defined(FALSE)
                             2563 ; 23   |#define FALSE 0
                             2564 ; 24   |#endif
                             2565 ; 25   |#if !defined(TRUE)
                             2566 ; 26   |#define TRUE  1
                             2567 ; 27   |#endif
                             2568 ; 28   |
                             2569 ; 29   |#if !defined(NULL)
                             2570 ; 30   |#define NULL 0
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  43

M:ADDR CODE           CYCLES LINE SOURCELINE
                             2571 ; 31   |#endif
                             2572 ; 32   |
                             2573 ; 33   |#define MAX_INT     0x7FFFFF
                             2574 ; 34   |#define MAX_LONG    0x7FFFFFffffff
                             2575 ; 35   |        // max positive unsigned long value: -1 == 0xFFFFFFffffff
                             2576 ; 36   |#define MAX_ULONG   (-1) 
                             2577 ; 37   |
                             2578 ; 38   |#define WORD_SIZE   24              // word size in bits
                             2579 ; 39   |#define BYTES_PER_WORD 3            // 8 bit bytes
                             2580 ; 40   |
                             2581 ; 41   |
                             2582 ; 42   |#define BYTE    unsigned char       // btVarName
                             2583 ; 43   |#define CHAR    signed char         // cVarName
                             2584 ; 44   |#define USHORT  unsigned short      // usVarName
                             2585 ; 45   |#define SHORT   unsigned short      // sVarName
                             2586 ; 46   |#define WORD    unsigned int        // wVarName
                             2587 ; 47   |#define INT     signed int          // iVarName
                             2588 ; 48   |#define DWORD   unsigned long       // dwVarName
                             2589 ; 49   |#define LONG    signed long         // lVarName
                             2590 ; 50   |#define BOOL    unsigned int        // bVarName
                             2591 ; 51   |#define FRACT   _fract              // frVarName
                             2592 ; 52   |#define LFRACT  long _fract         // lfrVarName
                             2593 ; 53   |#define CIRC    _circ               // cp<type prefix>VarName (see below)
                             2594 ; 54   |#define FLOAT   float               // fVarName
                             2595 ; 55   |#define DBL     double              // dVarName
                             2596 ; 56   |#define ENUM    enum                // eVarName
                             2597 ; 57   |#define CMX     _complex            // cmxVarName
                             2598 ; 58   |typedef WORD UCS3;                   // 
                             2599 ; 59   |
                             2600 ; 60   |#define UINT16  unsigned short
                             2601 ; 61   |#define UINT8   unsigned char   
                             2602 ; 62   |#define UINT32  unsigned long
                             2603 ; 63   |#define UINT64  unsigned long   // need to figure out how to do 64 bit values.  Or port ex
                                  isiting code to only use 48 bit
                             2604 ; 64   |#define INT64   unsigned long   // need to figure out how to do 64 bit values.  Or port ex
                                  isiting code to only use 48 bit
                             2605 ; 65   |#define WCHAR   UINT16
                             2606 ; 66   |
                             2607 ; 67   |//UINT128 is 16 bytes or 6 words
                             2608 ; 68   |typedef struct UINT128_3500 {   
                             2609 ; 69   |    int val[6];     
                             2610 ; 70   |} UINT128_3500;
                             2611 ; 71   |
                             2612 ; 72   |#define UINT128   UINT128_3500
                             2613 ; 73   |
                             2614 ; 74   |// Little endian word packed byte strings:   
                             2615 ; 75   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                             2616 ; 76   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                             2617 ; 77   |// Little endian word packed byte strings:   
                             2618 ; 78   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                             2619 ; 79   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                             2620 ; 80   |
                             2621 ; 81   |// Declare Memory Spaces To Use When Coding
                             2622 ; 82   |// A. Sector Buffers
                             2623 ; 83   |#define SECTOR_BUFFER_MEM_X _X
                             2624 ; 84   |#define SECTOR_BUFFER_MEM_Y _Y
                             2625 ; 85   |#define SECTOR_BUFFER_MEM SECTOR_BUFFER_MEM_X
                             2626 ; 86   |typedef WORD SECTOR_BUFFER_MEM SECTOR_BUFFER;
                             2627 ; 87   |typedef SECTOR_BUFFER * P_SECTOR_BUFFER;
                             2628 ; 88   |// B. Media DDI Memory
                             2629 ; 89   |#define MEDIA_DDI_MEM _Y
                             2630 ; 90   |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  44

M:ADDR CODE           CYCLES LINE SOURCELINE
                             2631 ; 91   |
                             2632 ; 92   |
                             2633 ; 93   |// Pointers to linear structures are labeled as: p<type prefix>VarName
                             2634 ; 94   |// Examples of circular pointers:
                             2635 ; 95   |//    INT CIRC cpiVarName
                             2636 ; 96   |//    DWORD CIRC cpdwVarName
                             2637 ; 97   |
                             2638 ; 98   |#define RETCODE INT                 // rcVarName
                             2639 ; 99   |
                             2640 ; 100  |// generic bitfield structure
                             2641 ; 101  |struct Bitfield {
                             2642 ; 102  |    unsigned int B0  :1;
                             2643 ; 103  |    unsigned int B1  :1;
                             2644 ; 104  |    unsigned int B2  :1;
                             2645 ; 105  |    unsigned int B3  :1;
                             2646 ; 106  |    unsigned int B4  :1;
                             2647 ; 107  |    unsigned int B5  :1;
                             2648 ; 108  |    unsigned int B6  :1;
                             2649 ; 109  |    unsigned int B7  :1;
                             2650 ; 110  |    unsigned int B8  :1;
                             2651 ; 111  |    unsigned int B9  :1;
                             2652 ; 112  |    unsigned int B10 :1;
                             2653 ; 113  |    unsigned int B11 :1;
                             2654 ; 114  |    unsigned int B12 :1;
                             2655 ; 115  |    unsigned int B13 :1;
                             2656 ; 116  |    unsigned int B14 :1;
                             2657 ; 117  |    unsigned int B15 :1;
                             2658 ; 118  |    unsigned int B16 :1;
                             2659 ; 119  |    unsigned int B17 :1;
                             2660 ; 120  |    unsigned int B18 :1;
                             2661 ; 121  |    unsigned int B19 :1;
                             2662 ; 122  |    unsigned int B20 :1;
                             2663 ; 123  |    unsigned int B21 :1;
                             2664 ; 124  |    unsigned int B22 :1;
                             2665 ; 125  |    unsigned int B23 :1;
                             2666 ; 126  |};
                             2667 ; 127  |
                             2668 ; 128  |union BitInt {
                             2669 ; 129  |        struct Bitfield B;
                             2670 ; 130  |        int        I;
                             2671 ; 131  |};
                             2672 ; 132  |
                             2673 ; 133  |#define MAX_MSG_LENGTH 10
                             2674 ; 134  |struct CMessage
                             2675 ; 135  |{
                             2676 ; 136  |        unsigned int m_uLength;
                             2677 ; 137  |        unsigned int m_uMsg[MAX_MSG_LENGTH];
                             2678 ; 138  |};
                             2679 ; 139  |
                             2680 ; 140  |typedef struct {
                             2681 ; 141  |    WORD m_wLength;
                             2682 ; 142  |    WORD m_wMessage;
                             2683 ; 143  |    WORD m_wParams[MAX_MSG_LENGTH];
                             2684 ; 144  |} Message;
                             2685 ; 145  |
                             2686 ; 146  |struct MessageQueueDescriptor
                             2687 ; 147  |{
                             2688 ; 148  |        int *m_pBase;
                             2689 ; 149  |        int m_iModulo;
                             2690 ; 150  |        int m_iSize;
                             2691 ; 151  |        int *m_pHead;
                             2692 ; 152  |        int *m_pTail;
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  45

M:ADDR CODE           CYCLES LINE SOURCELINE
                             2693 ; 153  |};
                             2694 ; 154  |
                             2695 ; 155  |struct ModuleEntry
                             2696 ; 156  |{
                             2697 ; 157  |    int m_iSignaledEventMask;
                             2698 ; 158  |    int m_iWaitEventMask;
                             2699 ; 159  |    int m_iResourceOfCode;
                             2700 ; 160  |    struct MessageQueueDescriptor *m_pMessageQueue;
                             2701 ; 161  |    int _asmfunc (*m_pProcessEntryPoint)(union WaitMask Signals,struct MessageQueueDescrip
                                  tor *);
                             2702 ; 162  |    int _asmfunc (*m_pInitFunction)(struct MessageQueueDescriptor *);
                             2703 ; 163  |    int m_uTimeOutHigh;
                             2704 ; 164  |    int m_uTimeOutLow;
                             2705 ; 165  |    int _asmfunc (*m_pBackgroundFunction)(struct MessageQueueDescriptor *);
                             2706 ; 166  |};
                             2707 ; 167  |
                             2708 ; 168  |union WaitMask{
                             2709 ; 169  |    struct B{
                             2710 ; 170  |        unsigned int m_bNone     :1;
                             2711 ; 171  |        unsigned int m_bMessage  :1;
                             2712 ; 172  |        unsigned int m_bTimer    :1;
                             2713 ; 173  |        unsigned int m_bButton   :1;
                             2714 ; 174  |    } B;
                             2715 ; 175  |    int I;
                             2716 ; 176  |} ;
                             2717 ; 177  |
                             2718 ; 178  |
                             2719 ; 179  |struct Button {
                             2720 ; 180  |        WORD wButtonEvent;
                             2721 ; 181  |        WORD wUnused[MAX_MSG_LENGTH];   
                             2722 ; 182  |};
                             2723 ; 183  |
                             2724 ; 184  |struct Message {
                             2725 ; 185  |        WORD wMsgLength;
                             2726 ; 186  |        WORD wMsgCommand;
                             2727 ; 187  |        WORD wMsgParms[MAX_MSG_LENGTH-1];
                             2728 ; 188  |};
                             2729 ; 189  |
                             2730 ; 190  |union EventTypes {
                             2731 ; 191  |        struct CMessage msg;
                             2732 ; 192  |        struct Button Button ;
                             2733 ; 193  |        struct Message Message;
                             2734 ; 194  |};
                             2735 ; 195  |
                             2736 ; 196  |// next 2 used to get updater build to return correct protocol ver in scsi response.
                             2737 ; 197  |#define BUILD_TYPE_UPDATER  0x100
                             2738 ; 198  |#define BUILD_TYPE_HOSTLINK 0x101
                             2739 ; 199  |#define BUILD_TYPE_PLAYER   0x102
                             2740 ; 200  |
                             2741 ; 201  |// Resets part if RETAIL build. DEBUG build executes debug instruction to halt.
                             2742 ; 202  |#define SystemHalt() __asm(" include 'sysmacro.asm' \n error") 
                             2743 ; 203  |#define assert(x)    if(!(x)) __asm(" include 'sysmacro.asm' \n error")
                             2744 ; 204  |
                             2745 ; 205  |#if DEBUG
                             2746 ; 206  |// For DEBUG builds, DebugBuildAssert(condition) halts if condition evaluates to FALSE. 
                             2747 ; 207  |#define DebugBuildAssert(x)    if(!(x)) __asm(" debug ")
                             2748 ; 208  |#else 
                             2749 ; 209  |// For RETAIL builds, DebugBuildAssert(condition) does nothing & execution continues rathe
                                  r than halt or reset. 
                             2750 ; 210  |#define DebugBuildAssert(x)    
                             2751 ; 211  |#endif
                             2752 ; 212  |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  46

M:ADDR CODE           CYCLES LINE SOURCELINE
                             2753 ; 213  |// Do this in your C files to make a reminder that's displayed during the build.
                             2754 ; 214  |//  #pragma asm
                             2755 ; 215  |//  WARN 'Note to builder: reminder to do this after verifying that'
                             2756 ; 216  |//  #pragma endasm
                             2757 ; 217  |
                             2758 ; 218  |
                             2759 ; 219  |#ifdef COLOR_262K
                             2760 ; 220  |#define RGB(r,g,b)    ((0x0000FC & (r)) << 10) | ((0x0000FC & (g)) << 4) | ((0x0000FC & (b
                                  )) >> 2)    //262k
                             2761 ; 221  |#elif defined(COLOR_65K)
                             2762 ; 222  |#define RGB(r,g,b)    ((0x0000F8 & (r)) << 8) | ((0x0000FC & (g)) << 3) | ((0x0000F8 & (b)
                                  ) >> 3)  //65k
                             2763 ; 223  |#else
                             2764 ; 224  |#define RGB(r,g,b)       ((0x0000F0 & (r)) << 4) | (0x0000F0 & (g)) | ((0x0000F0 & (b)) >>
                                   4)
                             2765 ; 225  |#endif
                             2766 ; 226  |    
                             2767 ; 227  |#endif // #ifndef _TYPES_H
                             2768 
                             2770 
                             2771 ; 8    |
                             2772 ; 9    |
                             2773 ; 10   |
                             2774 ; 11   |//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                             2775 ; 12   |
                             2776 ; 13   |//   SYSTEM STMP Registers 
                             2777 ; 14   |//      Last Edited 2.19.2003 M. May
                             2778 ; 15   |//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                             2779 ; 16   |
                             2780 ; 17   |#define HW_DCDC_BASEADDR (0xFA0C)
                             2781 ; 18   |
                             2782 ; 19   |
                             2783 ; 20   |
                             2784 ; 21   |
                             2785 ; 22   |
                             2786 ; 23   |
                             2787 ; 24   |/////////////////////////////////////////////////////////////////////////////////
                             2788 ; 25   |
                             2789 ; 26   |//  DcDc#1 Control Register (HW_DCDC1_CTRL0) Bit Definitions
                             2790 ; 27   |
                             2791 ; 28   |#define HW_DCDC1_CTRL0_PLEVBU_WIDTH (5)
                             2792 ; 29   |#define HW_DCDC1_CTRL0_RSVD0_WIDTH (3)
                             2793 ; 30   |#define HW_DCDC1_CTRL0_PLEVBO_WIDTH (5)
                             2794 ; 31   |#define HW_DCDC1_CTRL0_RSVD1_WIDTH (3)
                             2795 ; 32   |#define HW_DCDC1_CTRL0_NLEV_WIDTH (5)
                             2796 ; 33   |
                             2797 ; 34   |#define HW_DCDC1_CTRL0_RSVD2_WIDTH (3)
                             2798 ; 35   |
                             2799 ; 36   |
                             2800 ; 37   |
                             2801 ; 38   |#define HW_DCDC1_CTRL0_PLEVBU_BITPOS (0)
                             2802 ; 39   |#define HW_DCDC1_CTRL0_PLEVBO_BITPOS (8)
                             2803 ; 40   |#define HW_DCDC1_CTRL0_NLEV_BITPOS (16)
                             2804 ; 41   |
                             2805 ; 42   |
                             2806 ; 43   |
                             2807 ; 44   |#define HW_DCDC1_CTRL0_PLEVBU_SETMASK (((1<<HW_DCDC1_CTRL0_PLEVBU_WIDTH)-1)<<HW_DCDC1_CTRL
                                  0_PLEVBU_BITPOS)        
                             2808 ; 45   |#define HW_DCDC1_CTRL0_PLEVBO_SETMASK (((1<<HW_DCDC1_CTRL0_PLEVBO_WIDTH)-1)<<HW_DCDC1_CTRL
                                  0_PLEVBO_BITPOS) 
                             2809 ; 46   |#define HW_DCDC1_CTRL0_NLEV_SETMASK (((1<<HW_DCDC1_CTRL0_NLEV_WIDTH)-1)<<HW_DCDC1_CTRL0_NL
                                  EV_BITPOS)  
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  47

M:ADDR CODE           CYCLES LINE SOURCELINE
                             2810 ; 47   |
                             2811 ; 48   |
                             2812 ; 49   |
                             2813 ; 50   |#define HW_DCDC1_CTRL0_PLEVBU_CLRMASK (~(WORD)HW_DCDC1_CTRL0_PLEVBU_SETMASK)     
                             2814 ; 51   |#define HW_DCDC1_CTRL0_PLEVBO_CLRMASK (~(WORD)HW_DCDC1_CTRL0_PLEVBO_SETMASK) 
                             2815 ; 52   |#define HW_DCDC1_CTRL0_NLEV_CLRMASK (~(WORD)HW_DCDC1_CTRL0_NLEV_SETMASK)  
                             2816 ; 53   |
                             2817 ; 54   |
                             2818 ; 55   |
                             2819 ; 56   |
                             2820 ; 57   |
                             2821 ; 58   |typedef union               
                             2822 ; 59   |{
                             2823 ; 60   |    struct {
                             2824 ; 61   |        unsigned int PLEVBU           : HW_DCDC1_CTRL0_PLEVBU_WIDTH;
                             2825 ; 62   |        unsigned int RSVD0            : HW_DCDC1_CTRL0_RSVD0_WIDTH;
                             2826 ; 63   |        unsigned int PLEVBO           : HW_DCDC1_CTRL0_PLEVBO_WIDTH;
                             2827 ; 64   |        unsigned int RSVD1            : HW_DCDC1_CTRL0_RSVD1_WIDTH;
                             2828 ; 65   |        unsigned int NLEV             : HW_DCDC1_CTRL0_NLEV_WIDTH;
                             2829 ; 66   |        unsigned int RSVD2            : HW_DCDC1_CTRL0_RSVD2_WIDTH;
                             2830 ; 67   |    } B;
                             2831 ; 68   |    unsigned int I;
                             2832 ; 69   |} dcdc1_ctrl0_type;
                             2833 ; 70   |#define HW_DCDC1_CTRL0      (*(volatile dcdc1_ctrl0_type _X*) (HW_DCDC_BASEADDR))    /* Dc
                                  Dc#1 Limit Level Register */
                             2834 ; 71   |
                             2835 ; 72   |
                             2836 ; 73   |
                             2837 ; 74   |
                             2838 ; 75   |/////////////////////////////////////////////////////////////////////////////////
                             2839 ; 76   |
                             2840 ; 77   |//  DCDc#1 Control Register1 (HW_DCDC1_CTRL1) Bit Definitions
                             2841 ; 78   |
                             2842 ; 79   |#define HW_DCDC1_CTRL1_C_WIDTH (4)
                             2843 ; 80   |#define HW_DCDC1_CTRL1_R_WIDTH (4)
                             2844 ; 81   |#define HW_DCDC1_CTRL1_FFOR_WIDTH (3)
                             2845 ; 82   |#define HW_DCDC1_CTRL1_RSVD0_WIDTH (1)
                             2846 ; 83   |#define HW_DCDC1_CTRL1_PFMCTRL_WIDTH (12)
                             2847 ; 84   |
                             2848 ; 85   |
                             2849 ; 86   |
                             2850 ; 87   |#define HW_DCDC1_CTRL1_C_BITPOS (0)
                             2851 ; 88   |#define HW_DCDC1_CTRL1_R_BITPOS (4)
                             2852 ; 89   |#define HW_DCDC1_CTRL1_FFOR_BITPOS (8)
                             2853 ; 90   |#define HW_DCDC1_CTRL1_PFMCTRL_BITPOS (12) 
                             2854 ; 91   |
                             2855 ; 92   |#define HW_DCDC1_CTRL1_C_SETMASK (((1<<HW_DCDC1_CTRL1_C_WIDTH)-1)<<HW_DCDC1_CTRL1_C_BITPOS
                                  )        
                             2856 ; 93   |#define HW_DCDC1_CTRL1_R_SETMASK (((1<<HW_DCDC1_CTRL1_R_WIDTH)-1)<<HW_DCDC1_CTRL1_R_BITPOS
                                  ) 
                             2857 ; 94   |#define HW_DCDC1_CTRL1_FFOR_SETMASK (((1<<HW_DCDC1_CTRL1_FFOR_WIDTH)-1)<<HW_DCDC1_CTRL1_FF
                                  OR_BITPOS)  
                             2858 ; 95   |#define HW_DCDC1_CTRL1_PFMCTRL_SETMASK (((1<<HW_DCDC1_CTRL1_PFMCTRL_WIDTH)-1)<<HW_DCDC1_CT
                                  RL1_PFMCTRL_BITPOS)   
                             2859 ; 96   |
                             2860 ; 97   |#define HW_DCDC1_CTRL1_C_CLRMASK (~(WORD)HW_DCDC1_CTRL1_C_SETMASK)     
                             2861 ; 98   |#define HW_DCDC1_CTRL1_R_CLRMASK (~(WORD)HW_DCDC1_CTRL1_R_SETMASK) 
                             2862 ; 99   |#define HW_DCDC1_CTRL1_FFOR_CLRMASK (~(WORD)HW_DCDC1_CTRL1_FFOR_SETMASK)  
                             2863 ; 100  |#define HW_DCDC1_CTRL1_PFMCTRL_CLRMASK (~(WORD)HW_DCDC1_CTRL1_PFMCTRL_SETMASK)  
                             2864 ; 101  |
                             2865 ; 102  |
                             2866 ; 103  |typedef union               
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  48

M:ADDR CODE           CYCLES LINE SOURCELINE
                             2867 ; 104  |{
                             2868 ; 105  |    struct {
                             2869 ; 106  |        unsigned int C       : HW_DCDC1_CTRL1_C_WIDTH;
                             2870 ; 107  |        unsigned int R                : HW_DCDC1_CTRL1_R_WIDTH;
                             2871 ; 108  |        unsigned int FFOR             : HW_DCDC1_CTRL1_FFOR_WIDTH;
                             2872 ; 109  |        unsigned int RSVD0            : HW_DCDC1_CTRL1_RSVD0_WIDTH;
                             2873 ; 110  |        unsigned int PFMCTRL          : HW_DCDC1_CTRL1_FFOR_WIDTH;
                             2874 ; 111  |    } B;
                             2875 ; 112  |    unsigned int I;
                             2876 ; 113  |} dcdc1_ctrl1_type;
                             2877 ; 114  |#define HW_DCDC1_CTRL1      (*(volatile dcdc1_ctrl1_type _X*) (HW_DCDC_BASEADDR+1))    /* 
                                  DcDc#1 Ctrl #1 Register */
                             2878 ; 115  |
                             2879 ; 116  |
                             2880 ; 117  |
                             2881 ; 118  |
                             2882 ; 119  |/////////////////////////////////////////////////////////////////////////////////
                             2883 ; 120  |
                             2884 ; 121  |//  DcDc VDDIO Register (HW_DCDC_VDDIO) Bit Definitions
                             2885 ; 122  |
                             2886 ; 123  |#define HW_DCDC_VDDIO_VOLTAGE_LEVEL_WIDTH (5)
                             2887 ; 124  |#define HW_DCDC_VDDIO_RSVD0_WIDTH (3)
                             2888 ; 125  |#define HW_DCDC_VDDIO_BROWNOUT_LEVEL_WIDTH (5)
                             2889 ; 126  |#define HW_DCDC_VDDIO_RSVD1_WIDTH (3)
                             2890 ; 127  |#define HW_DCDC_VDDIO_BROWNOUT_ENABLE_WIDTH (1)
                             2891 ; 128  |#define HW_DCDC_VDDIO_RSVD2_WIDTH (3)
                             2892 ; 129  |#define HW_DCDC_VDDIO_BROWNOUT_STATUS_WIDTH (1)
                             2893 ; 130  |#define HW_DCDC_VDDIO_OK_WIDTH (1)
                             2894 ; 131  |#define HW_DCDC_VDDIO_RSVD3_WIDTH (2)
                             2895 ; 132  |
                             2896 ; 133  |
                             2897 ; 134  |
                             2898 ; 135  |#define HW_DCDC_VDDIO_VOLTAGE_LEVEL_BITPOS (0)
                             2899 ; 136  |#define HW_DCDC_VDDIO_BROWNOUT_LEVEL_BITPOS (8)
                             2900 ; 137  |#define HW_DCDC_VDDIO_BROWNOUT_ENABLE_BITPOS (16)
                             2901 ; 138  |#define HW_DCDC_VDDIO_BROWNOUT_STATUS_BITPOS (20)
                             2902 ; 139  |#define HW_DCDC_VDDIO_OK_BITPOS (21)
                             2903 ; 140  |
                             2904 ; 141  |
                             2905 ; 142  |#define HW_DCDC_VDDIO_VOLTAGE_LEVEL_SETMASK (((1<<HW_DCDC_VDDIO_VOLTAGE_LEVEL_WIDTH)-1)<<H
                                  W_DCDC_VDDIO_VOLTAGE_LEVEL_BITPOS)        
                             2906 ; 143  |#define HW_DCDC_VDDIO_BROWNOUT_LEVEL_SETMASK (((1<<HW_DCDC_VDDIO_BROWNOUT_LEVEL_WIDTH)-1)<
                                  <HW_DCDC_VDDIO_BROWNOUT_LEVEL_BITPOS) 
                             2907 ; 144  |#define HW_DCDC_VDDIO_BROWNOUT_ENABLE_SETMASK (((1<<HW_DCDC_VDDIO_BROWNOUT_ENABLE_WIDTH)-1
                                  )<<HW_DCDC_VDDIO_BROWNOUT_ENABLE_BITPOS)  
                             2908 ; 145  |#define HW_DCDC_VDDIO_BROWNOUT_STATUS_SETMASK (((1<<HW_DCDC_VDDIO_BROWNOUT_STATUS_WIDTH)-1
                                  )<<HW_DCDC_VDDIO_BROWNOUT_STATUS_BITPOS)  
                             2909 ; 146  |
                             2910 ; 147  |
                             2911 ; 148  |
                             2912 ; 149  |#define HW_DCDC_VDDIO_VOLTAGE_LEVEL_CLRMASK (~(WORD)HW_DCDC_VDDIO_VOLTAGE_LEVEL_SETMASK)  
                                     
                             2913 ; 150  |#define HW_DCDC_VDDIO_BROWNOUT_LEVEL_CLRMASK (~(WORD)HW_DCDC_VDDIO_BROWNOUT_LEVEL_SETMASK)
                                   
                             2914 ; 151  |#define HW_DCDC_VDDIO_BROWNOUT_ENABLE_CLRMASK (~(WORD)HW_DCDC_VDDIO_BROWNOUT_ENABLE_SETMAS
                                  K)  
                             2915 ; 152  |#define HW_DCDC_VDDIO_BROWNOUT_STATUS_CLRMASK (~(WORD)HW_DCDC_VDDIO_BROWNOUT_STATUS_SETMAS
                                  K)  
                             2916 ; 153  |
                             2917 ; 154  |
                             2918 ; 155  |typedef union               
                             2919 ; 156  |{
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  49

M:ADDR CODE           CYCLES LINE SOURCELINE
                             2920 ; 157  |    struct {
                             2921 ; 158  |        unsigned int VOLTAGE_LEVEL    : HW_DCDC_VDDIO_VOLTAGE_LEVEL_WIDTH;
                             2922 ; 159  |        unsigned int RSVD0            : HW_DCDC_VDDIO_RSVD0_WIDTH;
                             2923 ; 160  |        unsigned int BROWNOUT_LEVEL   : HW_DCDC_VDDIO_BROWNOUT_LEVEL_WIDTH;
                             2924 ; 161  |        unsigned int RSVD1            : HW_DCDC_VDDIO_RSVD1_WIDTH;
                             2925 ; 162  |        unsigned int BROWNOUT_ENABLE  : HW_DCDC_VDDIO_BROWNOUT_ENABLE_WIDTH;
                             2926 ; 163  |        unsigned int RSVD2            : HW_DCDC_VDDIO_RSVD2_WIDTH;
                             2927 ; 164  |        unsigned int BROWNOUT_STATUS  : HW_DCDC_VDDIO_BROWNOUT_STATUS_WIDTH;
                             2928 ; 165  |                 unsigned int VDDIO_OK        : HW_DCDC_VDDIO_OK_WIDTH;
                             2929 ; 166  |        unsigned int RSVD3            : HW_DCDC_VDDIO_RSVD3_WIDTH;
                             2930 ; 167  |    } B;
                             2931 ; 168  |    unsigned int I;
                             2932 ; 169  |} dcdc_vddio_type;
                             2933 ; 170  |#define HW_DCDC_VDDIO      (*(volatile dcdc_vddio_type _X*) (HW_DCDC_BASEADDR+2))    /* Dc
                                  Dc VDDIO Register */
                             2934 ; 171  |
                             2935 ; 172  |
                             2936 ; 173  |
                             2937 ; 174  |/////////////////////////////////////////////////////////////////////////////////
                             2938 ; 175  |//  DcDc VDDD Register (HW_DCDC_VDDD) Bit Definitions
                             2939 ; 176  |
                             2940 ; 177  |#define HW_DCDC_VDDD_VOLTAGE_LEVEL_WIDTH (5)
                             2941 ; 178  |#define HW_DCDC_VDDD_RSVD0_WIDTH (3)
                             2942 ; 179  |#define HW_DCDC_VDDD_BROWNOUT_LEVEL_WIDTH (5)
                             2943 ; 180  |#define HW_DCDC_VDDD_RSVD1_WIDTH (3)
                             2944 ; 181  |#define HW_DCDC_VDDD_BROWNOUT_ENABLE_WIDTH (1)
                             2945 ; 182  |#define HW_DCDC_VDDD_RSVD2_WIDTH (3)
                             2946 ; 183  |#define HW_DCDC_VDDD_BROWNOUT_STATUS_WIDTH (1)
                             2947 ; 184  |#define HW_DCDC_VDDD_OK_WIDTH (1)
                             2948 ; 185  |#define HW_DCDC_VDDD_RSVD3_WIDTH (2)
                             2949 ; 186  |
                             2950 ; 187  |#define HW_DCDC_VDDD_VOLTAGE_LEVEL_BITPOS (0)
                             2951 ; 188  |#define HW_DCDC_VDDD_BROWNOUT_LEVEL_BITPOS (8)
                             2952 ; 189  |#define HW_DCDC_VDDD_BROWNOUT_ENABLE_BITPOS (16)
                             2953 ; 190  |#define HW_DCDC_VDDD_BROWNOUT_STATUS_BITPOS (20)
                             2954 ; 191  |#define HW_DCDC_VDDD_OK_BITPOS (21)
                             2955 ; 192  |#define HW_DCDC_VDDD_VOLTAGE_LEVEL_SETMASK (((1<<HW_DCDC_VDDD_VOLTAGE_LEVEL_WIDTH)-1)<<HW_
                                  DCDC_VDDD_VOLTAGE_LEVEL_BITPOS)        
                             2956 ; 193  |#define HW_DCDC_VDDD_BROWNOUT_LEVEL_SETMASK (((1<<HW_DCDC_VDDD_BROWNOUT_LEVEL_WIDTH)-1)<<H
                                  W_DCDC_VDDD_BROWNOUT_LEVEL_BITPOS) 
                             2957 ; 194  |#define HW_DCDC_VDDD_BROWNOUT_ENABLE_SETMASK (((1<<HW_DCDC_VDDD_BROWNOUT_ENABLE_WIDTH)-1)<
                                  <HW_DCDC_VDDD_BROWNOUT_ENABLE_BITPOS)  
                             2958 ; 195  |#define HW_DCDC_VDDD_BROWNOUT_STATUS_SETMASK (((1<<HW_DCDC_VDDD_BROWNOUT_STATUS_WIDTH)-1)<
                                  <HW_DCDC_VDDD_BROWNOUT_STATUS_BITPOS)  
                             2959 ; 196  |
                             2960 ; 197  |#define HW_DCDC_VDDD_VOLTAGE_LEVEL_CLRMASK (~(WORD)HW_DCDC_VDDD_VOLTAGE_LEVEL_SETMASK)    
                                   
                             2961 ; 198  |#define HW_DCDC_VDDD_BROWNOUT_LEVEL_CLRMASK (~(WORD)HW_DCDC_VDDD_BROWNOUT_LEVEL_SETMASK) 
                             2962 ; 199  |#define HW_DCDC_VDDD_BROWNOUT_ENABLE_CLRMASK (~(WORD)HW_DCDC_VDDD_BROWNOUT_ENABLE_SETMASK)
                                    
                             2963 ; 200  |#define HW_DCDC_VDDD_BROWNOUT_STATUS_CLRMASK (~(WORD)HW_DCDC_VDDD_BROWNOUT_STATUS_SETMASK)
                                    
                             2964 ; 201  |
                             2965 ; 202  |typedef union               
                             2966 ; 203  |{
                             2967 ; 204  |    struct {
                             2968 ; 205  |        unsigned int VOLTAGE_LEVEL    : HW_DCDC_VDDD_VOLTAGE_LEVEL_WIDTH;
                             2969 ; 206  |        unsigned int RSVD0            : HW_DCDC_VDDD_RSVD0_WIDTH;
                             2970 ; 207  |        unsigned int BROWNOUT_LEVEL   : HW_DCDC_VDDD_BROWNOUT_LEVEL_WIDTH;
                             2971 ; 208  |        unsigned int RSVD1            : HW_DCDC_VDDD_RSVD1_WIDTH;
                             2972 ; 209  |        unsigned int BROWNOUT_ENABLE  : HW_DCDC_VDDD_BROWNOUT_ENABLE_WIDTH;
                             2973 ; 210  |        unsigned int RSVD2            : HW_DCDC_VDDD_RSVD2_WIDTH;
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  50

M:ADDR CODE           CYCLES LINE SOURCELINE
                             2974 ; 211  |        unsigned int BROWNOUT_STATUS  : HW_DCDC_VDDD_BROWNOUT_STATUS_WIDTH;
                             2975 ; 212  |                 unsigned int VDD_OK           : HW_DCDC_VDDD_OK_WIDTH;
                             2976 ; 213  |        unsigned int RSVD3            : HW_DCDC_VDDD_RSVD3_WIDTH;
                             2977 ; 214  |    } B;
                             2978 ; 215  |   unsigned int I;
                             2979 ; 216  |        unsigned U;
                             2980 ; 217  |} dcdc_vddd_type;
                             2981 ; 218  |#define HW_DCDC_VDDD      (*(volatile dcdc_vddd_type _X*) (HW_DCDC_BASEADDR+3))    /* DcDc
                                   VDDD Register */
                             2982 ; 219  |
                             2983 ; 220  |
                             2984 ; 221  |
                             2985 ; 222  |
                             2986 ; 223  |/////////////////////////////////////////////////////////////////////////////////
                             2987 ; 224  |
                             2988 ; 225  |//  DcDc Vdda Register (HW_DCDC_VDDA) Bit Definitions
                             2989 ; 226  |
                             2990 ; 227  |#define HW_DCDC_VDDA_VOLTAGE_LEVEL_WIDTH (5)
                             2991 ; 228  |#define HW_DCDC_VDDA_RSVD0_WIDTH (3)
                             2992 ; 229  |#define HW_DCDC_VDDA_BROWNOUT_LEVEL_WIDTH (5)
                             2993 ; 230  |#define HW_DCDC_VDDA_RSVD1_WIDTH (3)
                             2994 ; 231  |#define HW_DCDC_VDDA_BROWNOUT_ENABLE_WIDTH (1)
                             2995 ; 232  |#define HW_DCDC_VDDA_RSVD2_WIDTH (3)
                             2996 ; 233  |#define HW_DCDC_VDDA_BROWNOUT_STATUS_WIDTH (1)
                             2997 ; 234  |#define HW_DCDC_VDDA_OK_WIDTH (1)
                             2998 ; 235  |#define HW_DCDC_VDDA_RSVD3_WIDTH (2)
                             2999 ; 236  |
                             3000 ; 237  |
                             3001 ; 238  |
                             3002 ; 239  |#define HW_DCDC_VDDA_VOLTAGE_LEVEL_BITPOS (0)
                             3003 ; 240  |#define HW_DCDC_VDDA_BROWNOUT_LEVEL_BITPOS (8)
                             3004 ; 241  |#define HW_DCDC_VDDA_BROWNOUT_ENABLE_BITPOS (16)
                             3005 ; 242  |#define HW_DCDC_VDDA_BROWNOUT_STATUS_BITPOS (20)
                             3006 ; 243  |#define HW_DCDC_VDDA_OK_BITPOS (21)
                             3007 ; 244  |
                             3008 ; 245  |
                             3009 ; 246  |#define HW_DCDC_VDDA_VOLTAGE_LEVEL_SETMASK (((1<<HW_DCDC_VDDA_VOLTAGE_LEVEL_WIDTH)-1)<<HW_
                                  DCDC_VDDA_VOLTAGE_LEVEL_BITPOS)        
                             3010 ; 247  |#define HW_DCDC_VDDA_BROWNOUT_LEVEL_SETMASK (((1<<HW_DCDC_VDDA_BROWNOUT_LEVEL_WIDTH)-1)<<H
                                  W_DCDC_VDDA_BROWNOUT_LEVEL_BITPOS) 
                             3011 ; 248  |#define HW_DCDC_VDDA_BROWNOUT_ENABLE_SETMASK (((1<<HW_DCDC_VDDA_BROWNOUT_ENABLE_WIDTH)-1)<
                                  <HW_DCDC_VDDA_BROWNOUT_ENABLE_BITPOS)  
                             3012 ; 249  |#define HW_DCDC_VDDA_BROWNOUT_STATUS_SETMASK (((1<<HW_DCDC_VDDA_BROWNOUT_STATUS_WIDTH)-1)<
                                  <HW_DCDC_VDDA_BROWNOUT_STATUS_BITPOS)  
                             3013 ; 250  |
                             3014 ; 251  |
                             3015 ; 252  |
                             3016 ; 253  |#define HW_DCDC_VDDA_VOLTAGE_LEVEL_CLRMASK (~(WORD)HW_DCDC_VDDA_VOLTAGE_LEVEL_SETMASK)    
                                   
                             3017 ; 254  |#define HW_DCDC_VDDA_BROWNOUT_LEVEL_CLRMASK (~(WORD)HW_DCDC_VDDA_BROWNOUT_LEVEL_SETMASK) 
                             3018 ; 255  |#define HW_DCDC_VDDA_BROWNOUT_ENABLE_CLRMASK (~(WORD)HW_DCDC_VDDA_BROWNOUT_ENABLE_SETMASK)
                                    
                             3019 ; 256  |#define HW_DCDC_VDDA_BROWNOUT_STATUS_CLRMASK (~(WORD)HW_DCDC_VDDA_BROWNOUT_STATUS_SETMASK)
                                    
                             3020 ; 257  |
                             3021 ; 258  |
                             3022 ; 259  |typedef union               
                             3023 ; 260  |{
                             3024 ; 261  |    struct {
                             3025 ; 262  |        unsigned int VOLTAGE_LEVEL    : HW_DCDC_VDDA_VOLTAGE_LEVEL_WIDTH;
                             3026 ; 263  |        unsigned int RSVD0            : HW_DCDC_VDDA_RSVD0_WIDTH;
                             3027 ; 264  |        unsigned int BROWNOUT_LEVEL   : HW_DCDC_VDDA_BROWNOUT_LEVEL_WIDTH;
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  51

M:ADDR CODE           CYCLES LINE SOURCELINE
                             3028 ; 265  |        unsigned int RSVD1            : HW_DCDC_VDDA_RSVD1_WIDTH;
                             3029 ; 266  |        unsigned int BROWNOUT_ENABLE  : HW_DCDC_VDDA_BROWNOUT_ENABLE_WIDTH;
                             3030 ; 267  |        unsigned int RSVD2            : HW_DCDC_VDDA_RSVD2_WIDTH;
                             3031 ; 268  |        unsigned int BROWNOUT_STATUS  : HW_DCDC_VDDA_BROWNOUT_STATUS_WIDTH;
                             3032 ; 269  |             unsigned int VDDA_OK          : HW_DCDC_VDDA_OK_WIDTH;
                             3033 ; 270  |        unsigned int RSVD3            : HW_DCDC_VDDA_RSVD3_WIDTH;
                             3034 ; 271  |    } B;
                             3035 ; 272  |    unsigned int I;
                             3036 ; 273  |} dcdc_vdda_type;
                             3037 ; 274  |#define HW_DCDC_VDDA      (*(volatile dcdc_vdda_type _X*) (HW_DCDC_BASEADDR+4))    /* DcDc
                                   VDDA Register */
                             3038 ; 275  |
                             3039 ; 276  |
                             3040 ; 277  |
                             3041 ; 278  |
                             3042 ; 279  |/////////////////////////////////////////////////////////////////////////////////
                             3043 ; 280  |
                             3044 ; 281  |//  DcDc#2 Control Register 0 (HW_DCDC2_CTRL0) Bit Definitions
                             3045 ; 282  |
                             3046 ; 283  |#define HW_DCDC2_CTRL0_PLEVBU_WIDTH (5)
                             3047 ; 284  |#define HW_DCDC2_CTRL0_RSVD0_WIDTH (3)
                             3048 ; 285  |#define HW_DCDC2_CTRL0_PLEVBO_WIDTH (5)
                             3049 ; 286  |#define HW_DCDC2_CTRL0_RSVD1_WIDTH (3)
                             3050 ; 287  |#define HW_DCDC2_CTRL0_NLEV_WIDTH (5)
                             3051 ; 288  |#define HW_DCDC2_CTRL0_RSVD2_WIDTH (3)
                             3052 ; 289  |
                             3053 ; 290  |
                             3054 ; 291  |
                             3055 ; 292  |#define HW_DCDC2_CTRL0_PLEVBU_BITPOS (0)
                             3056 ; 293  |#define HW_DCDC2_CTRL0_PLEVBO_BITPOS (8)
                             3057 ; 294  |#define HW_DCDC2_CTRL0_NLEV_BITPOS (16)
                             3058 ; 295  |
                             3059 ; 296  |#define HW_DCDC2_CTRL0_PLEVBU_SETMASK (((1<<HW_DCDC2_CTRL0_PLEVBU_WIDTH)-1)<<HW_DCDC2_CTRL
                                  0_PLEVBU_BITPOS)        
                             3060 ; 297  |#define HW_DCDC2_CTRL0_PLEVBO_SETMASK (((1<<HW_DCDC2_CTRL0_PLEVBO_WIDTH)-1)<<HW_DCDC2_CTRL
                                  0_PLEVBO_BITPOS) 
                             3061 ; 298  |#define HW_DCDC2_CTRL0_NLEV_SETMASK (((1<<HW_DCDC2_CTRL0_NLEV_WIDTH)-1)<<HW_DCDC2_CTRL0_NL
                                  EV_BITPOS)  
                             3062 ; 299  |
                             3063 ; 300  |#define HW_DCDC2_CTRL0_PLEVBU_CLRMASK (~(WORD)HW_DCDC2_CTRL0_PLEVBU_SETMASK)     
                             3064 ; 301  |#define HW_DCDC2_CTRL0_PLEVBO_CLRMASK (~(WORD)HW_DCDC2_CTRL0_PLEVBO_SETMASK) 
                             3065 ; 302  |#define HW_DCDC2_CTRL0_NLEV_CLRMASK (~(WORD)HW_DCDC2_CTRL0_NLEV_SETMASK)  
                             3066 ; 303  |
                             3067 ; 304  |
                             3068 ; 305  |typedef union               
                             3069 ; 306  |{
                             3070 ; 307  |    struct {
                             3071 ; 308  |        unsigned int PLEVBU           : HW_DCDC2_CTRL0_PLEVBU_WIDTH;
                             3072 ; 309  |        unsigned int RSVD0            : HW_DCDC2_CTRL0_RSVD0_WIDTH;
                             3073 ; 310  |        unsigned int PLEVBO           : HW_DCDC2_CTRL0_PLEVBO_WIDTH;
                             3074 ; 311  |        unsigned int RSVD1            : HW_DCDC2_CTRL0_RSVD1_WIDTH;
                             3075 ; 312  |        unsigned int NLEV             : HW_DCDC2_CTRL0_NLEV_WIDTH;
                             3076 ; 313  |        unsigned int RSVD2            : HW_DCDC2_CTRL0_RSVD2_WIDTH;
                             3077 ; 314  |    } B;
                             3078 ; 315  |    unsigned int I;
                             3079 ; 316  |} dcdc2_ctrl0_type; 
                             3080 ; 317  |#define HW_DCDC2_CTRL0      (*(volatile dcdc2_ctrl0_type _X*) (HW_DCDC_BASEADDR+5))    /* 
                                  DcDc#2 Limit Level Register */
                             3081 ; 318  |
                             3082 ; 319  |
                             3083 ; 320  |
                             3084 ; 321  |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  52

M:ADDR CODE           CYCLES LINE SOURCELINE
                             3085 ; 322  |/////////////////////////////////////////////////////////////////////////////////
                             3086 ; 323  |
                             3087 ; 324  |//  DcDc#2 Control Register #1 (HW_DCDC2_CTRL1) Bit Definitions
                             3088 ; 325  |
                             3089 ; 326  |#define HW_DCDC2_CTRL1_C_WIDTH (4)
                             3090 ; 327  |#define HW_DCDC2_CTRL1_R_WIDTH (4)
                             3091 ; 328  |#define HW_DCDC2_CTRL1_FFOR_WIDTH (3)
                             3092 ; 329  |#define HW_DCDC2_CTRL1_RSVD0_WIDTH (1)
                             3093 ; 330  |#define HW_DCDC2_CTRL1_PFMCTRL_WIDTH (12)
                             3094 ; 331  |
                             3095 ; 332  |
                             3096 ; 333  |#define HW_DCDC2_CTRL1_C_BITPOS (0)
                             3097 ; 334  |#define HW_DCDC2_CTRL1_R_BITPOS (4)
                             3098 ; 335  |#define HW_DCDC2_CTRL1_FFOR_BITPOS (8)
                             3099 ; 336  |#define HW_DCDC2_CTRL1_PFMCTRL_BITPOS (12)
                             3100 ; 337  |
                             3101 ; 338  |
                             3102 ; 339  |
                             3103 ; 340  |#define HW_DCDC2_CTRL1_C_SETMASK (((1<<HW_DCDC2_CTRL1_C_WIDTH)-1)<<HW_DCDC2_CTRL1_C_BITPOS
                                  )        
                             3104 ; 341  |#define HW_DCDC2_CTRL1_R_SETMASK (((1<<HW_DCDC2_CTRL1_R_WIDTH)-1)<<HW_DCDC2_CTRL1_R_BITPOS
                                  ) 
                             3105 ; 342  |#define HW_DCDC2_CTRL1_FFOR_SETMASK (((1<<HW_DCDC2_CTRL1_FFOR_WIDTH)-1)<<HW_DCDC2_CTRL1_FF
                                  OR_BITPOS)  
                             3106 ; 343  |#define HW_DCDC2_CTRL1_PFMCTRL_SETMASK (((1<<HW_DCDC2_CTRL1_PFMCTRL_WIDTH)-1)<<HW_DCDC2_CT
                                  RL1_PFMCTRL_BITPOS)  
                             3107 ; 344  |
                             3108 ; 345  |
                             3109 ; 346  |
                             3110 ; 347  |#define HW_DCDC2_CTRL1_C_CLRMASK (~(WORD)HW_DCDC2_CTRL1_C_SETMASK)     
                             3111 ; 348  |#define HW_DCDC2_CTRL1_R_CLRMASK (~(WORD)HW_DCDC2_CTRL1_R_SETMASK) 
                             3112 ; 349  |#define HW_DCDC2_CTRL1_FFOR_CLRMASK (~(WORD)HW_DCDC2_CTRL1_FFOR_SETMASK)  
                             3113 ; 350  |#define HW_DCDC2_CTRL1_PFMCTRL_CLRMASK (~(WORD)HW_DCDC2_CTRL1_PFMCTRL_SETMASK)  
                             3114 ; 351  |
                             3115 ; 352  |
                             3116 ; 353  |typedef union               
                             3117 ; 354  |{
                             3118 ; 355  |    struct {
                             3119 ; 356  |        unsigned int C                : HW_DCDC2_CTRL1_C_WIDTH;
                             3120 ; 357  |        unsigned int R                : HW_DCDC2_CTRL1_R_WIDTH;
                             3121 ; 358  |        unsigned int FFOR             : HW_DCDC2_CTRL1_FFOR_WIDTH;
                             3122 ; 359  |        unsigned int RSVD0            : HW_DCDC2_CTRL1_RSVD0_WIDTH;
                             3123 ; 360  |        unsigned int PFMCTRL          : HW_DCDC2_CTRL1_FFOR_WIDTH;
                             3124 ; 361  |    } B;
                             3125 ; 362  |    unsigned int I;
                             3126 ; 363  |} dcdc2_ctrl1_type;
                             3127 ; 364  |#define HW_DCDC2_CTRL1      (*(volatile dcdc2_ctrl1_type _X*) (HW_DCDC_BASEADDR+6))    /* 
                                  DcDc#2 Ctrl Register #1 */
                             3128 ; 365  |
                             3129 ; 366  |
                             3130 ; 367  |
                             3131 ; 368  |
                             3132 ; 369  |/////////////////////////////////////////////////////////////////////////////////
                             3133 ; 370  |
                             3134 ; 371  |//  Speed Monitoring Register (HW_SPEED) Bit Definitions
                             3135 ; 372  |
                             3136 ; 373  |#define HW_SPEED_OSC1_PWRUP_WIDTH (1)
                             3137 ; 374  |#define HW_SPEED_OSC1_START_COUNT_WIDTH (1)
                             3138 ; 375  |#define HW_SPEED_RSVD0_WIDTH (2)
                             3139 ; 376  |#define HW_SPEED_RINGOSC1_WIDTH (7)
                             3140 ; 377  |#define HW_SPEED_RSVD1_WIDTH (1)
                             3141 ; 378  |#define HW_SPEED_OSC2_PWRUP_WIDTH (1)
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  53

M:ADDR CODE           CYCLES LINE SOURCELINE
                             3142 ; 379  |#define HW_SPEED_OSC2_START_COUNT_WIDTH (1)
                             3143 ; 380  |#define HW_SPEED_RSVD2_WIDTH (2)
                             3144 ; 381  |#define HW_SPEED_RINGOSC2_WIDTH (7)
                             3145 ; 382  |#define HW_SPEED_RSVD3_WIDTH (1)
                             3146 ; 383  |
                             3147 ; 384  |
                             3148 ; 385  |
                             3149 ; 386  |#define HW_SPEED_OSC1_PWRUP_BITPOS (0)
                             3150 ; 387  |#define HW_SPEED_OSC1_START_COUNT_BITPOS (1)
                             3151 ; 388  |#define HW_SPEED_RINGOSC1_BITPOS (4)
                             3152 ; 389  |#define HW_SPEED_OSC2_PWRUP_BITPOS (12)
                             3153 ; 390  |#define HW_SPEED_OSC2_START_COUNT_BITPOS (13)
                             3154 ; 391  |#define HW_SPEED_RINGOSC2_BITPOS (16)
                             3155 ; 392  |
                             3156 ; 393  |
                             3157 ; 394  |#define HW_SPEED_OSC1_PWRUP_SETMASK (((1<<HW_SPEED_OSC1_PWRUP_WIDTH)-1)<<HW_SPEED_OSC1_PWR
                                  UP_BITPOS)        
                             3158 ; 395  |#define HW_SPEED_OSC1_START_COUNT_SETMASK (((1<<HW_SPEED_OSC1_START_COUNT_WIDTH)-1)<<HW_SP
                                  EED_OSC1_START_COUNT_BITPOS)        
                             3159 ; 396  |#define HW_SPEED_RINGOSC1_SETMASK (((1<<HW_SPEED_RINGOSC1_WIDTH)-1)<<HW_SPEED_RINGOSC1_BIT
                                  POS) 
                             3160 ; 397  |#define HW_SPEED_OSC2_PWRUP_SETMASK (((1<<HW_SPEED_OSC2_PWRUP_WIDTH)-1)<<HW_SPEED_OSC2_PWR
                                  UP_BITPOS)        
                             3161 ; 398  |
                             3162 ; 399  |#define HW_SPEED_OSC2_START_COUNT_SETMASK (((1<<HW_SPEED_OSC2_START_COUNT_WIDTH)-1)<<HW_SP
                                  EED_OSC2_START_COUNT_BITPOS)        
                             3163 ; 400  |#define HW_SPEED_RINGOSC2_SETMASK (((1<<HW_SPEED_RINGOSC2_WIDTH)-1)<<HW_SPEED_RINGOSC2_BIT
                                  POS) 
                             3164 ; 401  |
                             3165 ; 402  |
                             3166 ; 403  |
                             3167 ; 404  |#define HW_SPEED_OSC1_PWRUP_CLRMASK (~(WORD)HW_SPEED_OSC1_PWRUP_SETMASK)     
                             3168 ; 405  |#define HW_SPEED_OSC1_START_COUNT_CLRMASK (~(WORD)HW_SPEED_OSC1_START_COUNT_SETMASK)     
                             3169 ; 406  |#define HW_SPEED_RINGOSC1_CLRMASK (~(WORD)HW_SPEED_RINGOSC1_SETMASK) 
                             3170 ; 407  |#define HW_SPEED_OSC2_PWRUP_CLRMASK (~(WORD)HW_SPEED_OSC2_PWRUP_SETMASK)   
                             3171 ; 408  |#define HW_SPEED_OSC2_START_COUNT_CLRMASK (~(WORD)HW_SPEED_OSC2_START_COUNT_SETMASK)     
                             3172 ; 409  |#define HW_SPEED_RINGOSC2_CLRMASK (~(WORD)HW_SPEED_RINGOSC2_SETMASK) 
                             3173 ; 410  |
                             3174 ; 411  |
                             3175 ; 412  |typedef union               
                             3176 ; 413  |{
                             3177 ; 414  |    struct {
                             3178 ; 415  |        unsigned int OSC1_PWRUP          : HW_SPEED_OSC1_PWRUP_WIDTH;
                             3179 ; 416  |        unsigned int OSC1_START_COUNT    : HW_SPEED_OSC1_START_COUNT_WIDTH;
                             3180 ; 417  |        unsigned int RSVD0               : HW_SPEED_RSVD0_WIDTH;
                             3181 ; 418  |        unsigned int RINGOSC1            : HW_SPEED_RINGOSC1_WIDTH;
                             3182 ; 419  |        unsigned int RSVD1               : HW_SPEED_RSVD1_WIDTH;
                             3183 ; 420  |        unsigned int OSC2_PWRUP          : HW_SPEED_OSC2_PWRUP_WIDTH;
                             3184 ; 421  |        unsigned int OSC2_START_COUNT    : HW_SPEED_OSC2_START_COUNT_WIDTH;
                             3185 ; 422  |        unsigned int RSVD2               : HW_SPEED_RSVD2_WIDTH;
                             3186 ; 423  |        unsigned int RINGOSC2            : HW_SPEED_RINGOSC2_WIDTH;
                             3187 ; 424  |        unsigned int RSVD3               : HW_SPEED_RSVD3_WIDTH;
                             3188 ; 425  |    } B;
                             3189 ; 426  |    unsigned int I;
                             3190 ; 427  |} speed_type;
                             3191 ; 428  |#define HW_SPEED      (*(volatile speed_type _X*) (HW_DCDC_BASEADDR+7))    /* Speed Measur
                                  ement Register */
                             3192 ; 429  |
                             3193 ; 430  |
                             3194 ; 431  |
                             3195 ; 432  |
                             3196 ; 433  |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  54

M:ADDR CODE           CYCLES LINE SOURCELINE
                             3197 ; 434  |
                             3198 ; 435  |
                             3199 ; 436  |// DC DC Test Bit Register (HW_DCDCTBR) Definitions
                             3200 ; 437  |#define HW_DCDC_TBR_DCDC1_ADJ_TN_WIDTH 4
                             3201 ; 438  |#define HW_DCDC_TBR_DCDC1_DIS_5BIT_WIDTH 1
                             3202 ; 439  |#define HW_DCDC_TBR_DCDC1_BAT_ADJ_WIDTH 1
                             3203 ; 440  |#define HW_DCDC_TBR_DCDC1_CLK4X_WIDTH 1
                             3204 ; 441  |#define HW_DCDC_TBR_DCDC1_CLK2X_WIDTH 1
                             3205 ; 442  |#define HW_DCDC_TBR_DCDC1_NOZERO_WIDTH 1
                             3206 ; 443  |#define HW_DCDC_TBR_DCDC1_VDD5V_ACTIVE_WIDTH 1
                             3207 ; 444  |#define HW_DCDC_TBR_DCDC1_PFM_WIDTH 1
                             3208 ; 445  |#define HW_DCDC_TBR_DCDC1_STOPCLK_WIDTH 1
                             3209 ; 446  |#define HW_DCDC_TBR_PWRUP_VDDIO_BRNOUT_WIDTH 1
                             3210 ; 447  |#define HW_DCDC_TBR_DCDC_ANA_LESSI_WIDTH 1
                             3211 ; 448  |#define HW_DCDC_TBR_DCDC_MORE_CAP_WIDTH 1
                             3212 ; 449  |#define HW_DCDC_TBR_DCDC_ANA_BGR_BIAS_WIDTH 1
                             3213 ; 450  |#define HW_DCDC_TBR_DCDC1_NEW_SCHEME_WIDTH 1
                             3214 ; 451  |#define HW_DCDC_TBR_DCDC1_HALF_FETS_WIDTH 1
                             3215 ; 452  |#define HW_DCDC_TBR_DCDC2_DIS_5BIT_WIDTH 1
                             3216 ; 453  |#define HW_DCDC_TBR_DCDC2_CLK4X_WIDTH 1
                             3217 ; 454  |#define HW_DCDC_TBR_DCDC2_CLK2X_WIDTH 1
                             3218 ; 455  |#define HW_DCDC_TBR_DCDC2_VDD5V_ACTIVE_WIDTH 1
                             3219 ; 456  |#define HW_DCDC_TBR_DCDC2_PFM_WIDTH 1
                             3220 ; 457  |#define HW_DCDC_TBR_DCDC2_STOPCLK_WIDTH 1
                             3221 ; 458  |
                             3222 ; 459  |#define HW_DCDC_TBR_DCDC1_ADJ_TN_BITPOS (0)
                             3223 ; 460  |#define HW_DCDC_TBR_DCDC1_DIS_5BIT_BITPOS (4)
                             3224 ; 461  |#define HW_DCDC_TBR_DCDC1_BAT_ADJ_BITPOS (5)
                             3225 ; 462  |#define HW_DCDC_TBR_DCDC1_CLK4X_BITPOS (6)
                             3226 ; 463  |#define HW_DCDC_TBR_DCDC1_CLK2X_BITPOS (7)
                             3227 ; 464  |#define HW_DCDC_TBR_DCDC1_NOZERO_BITPOS (8)
                             3228 ; 465  |#define HW_DCDC_TBR_DCDC1_VDD5V_ACTIVE_BITPOS (9)
                             3229 ; 466  |#define HW_DCDC_TBR_DCDC1_PFM_BITPOS (10)
                             3230 ; 467  |#define HW_DCDC_TBR_DCDC1_STOPCLK_BITPOS (11)
                             3231 ; 468  |#define HW_DCDC_TBR_PWRUP_VDDIO_BRNOUT_BITPOS (12)
                             3232 ; 469  |#define HW_DCDC_TBR_DCDC_ANA_LESSI_BITPOS (13)
                             3233 ; 470  |#define HW_DCDC_TBR_DCDC_MORE_CAP_BITPOS (14)
                             3234 ; 471  |#define HW_DCDC_TBR_DCDC_DCDC_ANA_BGR_BIAS_BITPOS (15)
                             3235 ; 472  |#define HW_DCDC_TBR_DCDC1_NEW_SCHEME_BITPOS (16)
                             3236 ; 473  |#define HW_DCDC_TBR_DCDC1_HALF_FETS_BITPOS (17)
                             3237 ; 474  |#define HW_DCDC_TBR_DCDC2_DIS_5BIT_BITPOS (18)
                             3238 ; 475  |#define HW_DCDC_TBR_DCDC2_CLK4X_BITPOS (19)
                             3239 ; 476  |#define HW_DCDC_TBR_DCDC2_CLK2X_BITPOS (20)
                             3240 ; 477  |#define HW_DCDC_TBR_DCDC2_VDD5V_ACTIVE_BITPOS (21)
                             3241 ; 478  |#define HW_DCDC_TBR_DCDC2_PFM_BITPOS (22)
                             3242 ; 479  |#define HW_DCDC_TBR_DCDC2_STOPCLK_BITPOS (23)
                             3243 ; 480  |
                             3244 ; 481  |#define HW_DCDC_TBR_DCDC1_ADJ_TN_SETMASK (((1<<HW_DCDC_TBR_DCDC1_ADJ_TN_WIDTH)-1)<<HW_DCDC
                                  _TBR_DCDC1_ADJ_TN_BITPOS)
                             3245 ; 482  |#define HW_DCDC_TBR_DCDC1_BAT_ADJ_SETMASK (((1<<HW_DCDC_TBR_DCDC1_BAT_ADJ_WIDTH)-1)<<HW_DC
                                  DC_TBR_DCDC1_BAT_ADJ_BITPOS)
                             3246 ; 483  |#define HW_DCDC_TBR_DCDC_ANA_BGR_BIAS_SETMASK (((1<<HW_DCDC_TBR_DCDC_ANA_BGR_BIAS_WIDTH)-1
                                  )<<HW_DCDC_TBR_DCDC_DCDC_ANA_BGR_BIAS_BITPOS)
                             3247 ; 484  |
                             3248 ; 485  |#define HW_DCDC_TBR_DCDC1_ADJ_TN_CLRMASK (~(WORD)HW_DCDC_TBR_DCDC1_ADJ_TN_SETMASK)
                             3249 ; 486  |#define HW_DCDC_TBR_DCDC1_BAT_ADJ_CLRMASK (~(WORD)HW_DCDC_TBR_DCDC1_BAT_ADJ_SETMASK)
                             3250 ; 487  |#define HW_DCDC_TBR_DCDC_ANA_BGR_BIAS_CLRMASK (~(WORD)HW_DCDC_TBR_DCDC_ANA_BGR_BIAS_SETMAS
                                  K)
                             3251 ; 488  |
                             3252 ; 489  |// Defines for What needs to change to be able to use a higher Core voltage and when the c
                                  hange should happen
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  55

M:ADDR CODE           CYCLES LINE SOURCELINE
                             3253 ; 490  |#define HW_DCDC_VDDD_CHANGE_TBR_CUTOFF_VALUE ((18<<HW_DCDC_VDDD_VOLTAGE_LEVEL_BITPOS)&HW_D
                                  CDC_VDDD_VOLTAGE_LEVEL_SETMASK)
                             3254 ; 491  |#define HW_DCDC_TBR_VDDD_HI_VALUE ((1<<HW_DCDC_TBR_DCDC_DCDC_ANA_BGR_BIAS_BITPOS)&HW_DCDC_
                                  TBR_DCDC_ANA_BGR_BIAS_SETMASK)
                             3255 ; 492  |#define HW_DCDC_TBR_VDDD_LO_VALUE (((1<<HW_DCDC_TBR_DCDC_DCDC_ANA_BGR_BIAS_BITPOS)&HW_DCDC
                                  _TBR_DCDC_ANA_BGR_BIAS_SETMASK)+((2<<HW_DCDC_TBR_DCDC1_ADJ_TN_BITPOS)&HW_DCDC_TBR_DCDC1_ADJ_TN_SET
                                  MASK)+((1<<HW_DCDC_TBR_DCDC1_BAT_ADJ_BITPOS)&HW_DCDC_TBR_DCDC1_BAT_ADJ_SETMASK))
                             3256 ; 493  |
                             3257 ; 494  |typedef union               
                             3258 ; 495  |{
                             3259 ; 496  |    struct {
                             3260 ; 497  |        unsigned int DCDC1_ADJ_TN               : HW_DCDC_TBR_DCDC1_ADJ_TN_WIDTH;
                             3261 ; 498  |        unsigned int DCDC1_DIS_5BIT             : HW_DCDC_TBR_DCDC1_DIS_5BIT_WIDTH;
                             3262 ; 499  |        unsigned int DCDC1_BAT_ADJ              : HW_DCDC_TBR_DCDC1_BAT_ADJ_WIDTH;
                             3263 ; 500  |        unsigned int DCDC1_CLK4X                : HW_DCDC_TBR_DCDC1_CLK4X_WIDTH;
                             3264 ; 501  |        unsigned int DCDC1_CLK2X                : HW_DCDC_TBR_DCDC1_CLK2X_WIDTH;
                             3265 ; 502  |        unsigned int DCDC1_NOZERO               : HW_DCDC_TBR_DCDC1_NOZERO_WIDTH;
                             3266 ; 503  |        unsigned int DCDC1_VDD5V_ACTIVE         : HW_DCDC_TBR_DCDC1_VDD5V_ACTIVE_WIDTH;
                             3267 ; 504  |        unsigned int DCDC1_PFM                  : HW_DCDC_TBR_DCDC1_PFM_WIDTH;
                             3268 ; 505  |        unsigned int DCDC1_STOPCLK              : HW_DCDC_TBR_DCDC1_STOPCLK_WIDTH;
                             3269 ; 506  |        unsigned int PWRUP_VDDIO_BRNOUT         : HW_DCDC_TBR_PWRUP_VDDIO_BRNOUT_WIDTH;
                             3270 ; 507  |        unsigned int DCDC_ANA_LESSI             : HW_DCDC_TBR_DCDC_ANA_LESSI_WIDTH;
                             3271 ; 508  |        unsigned int DCDC_MORE_CAP              : HW_DCDC_TBR_DCDC_MORE_CAP_WIDTH;
                             3272 ; 509  |        unsigned int DCDC_ANA_BGR_BIAS          : HW_DCDC_TBR_DCDC_ANA_BGR_BIAS_WIDTH;
                             3273 ; 510  |        unsigned int DCDC1_NEW_SCHEME           : HW_DCDC_TBR_DCDC1_NEW_SCHEME_WIDTH;
                             3274 ; 511  |        unsigned int DCDC1_HALF_FETS            : HW_DCDC_TBR_DCDC1_HALF_FETS_WIDTH;
                             3275 ; 512  |        unsigned int DCDC2_DIS_5BIT             : HW_DCDC_TBR_DCDC2_DIS_5BIT_WIDTH;
                             3276 ; 513  |        unsigned int DCDC2_CLK4X                : HW_DCDC_TBR_DCDC2_CLK4X_WIDTH;
                             3277 ; 514  |        unsigned int DCDC2_CLK2X                : HW_DCDC_TBR_DCDC2_CLK2X_WIDTH;
                             3278 ; 515  |        unsigned int DCDC2_VDD5V_ACTIVE         : HW_DCDC_TBR_DCDC2_VDD5V_ACTIVE_WIDTH;
                             3279 ; 516  |        unsigned int DCDC2_PFM                  : HW_DCDC_TBR_DCDC2_PFM_WIDTH;
                             3280 ; 517  |        unsigned int DCDC2_STOPCLK              : HW_DCDC_TBR_DCDC2_STOPCLK_WIDTH;
                             3281 ; 518  |    } B;
                             3282 ; 519  |    unsigned int I;
                             3283 ; 520  |} usb_dcdctbr_type;
                             3284 ; 521  |#define HW_DCDC_TBR                     (*(volatile usb_dcdctbr_type _X*) (HW_DCDC_BASEADD
                                  R+8))    /* Analog test bit register*/
                             3285 ; 522  |
                             3286 ; 523  |
                             3287 ; 524  |/////////////////////////////////////////////////////////////////////////////////
                             3288 ; 525  |
                             3289 ; 526  |//  Analog Persistent Config (HW_VDD5V_PWR_CHARGE) Bit Definitions
                             3290 ; 527  |
                             3291 ; 528  |#define HW_VDD5V_PWR_CHARGE_BATT_CURRENT_WIDTH (6)
                             3292 ; 529  |#define HW_VDD5V_PWR_CHARGE_RSVD0_WIDTH (2)
                             3293 ; 530  |#define HW_VDD5V_PWR_CHARGE_PWD_WIDTH (1)
                             3294 ; 531  |#define HW_VDD5V_PWR_CHARGE_RES_WIDTH (1)
                             3295 ; 532  |#define HW_VDD5V_PWR_CHARGE_NIMH_WIDTH (1)
                             3296 ; 533  |#define HW_VDD5V_PWR_CHARGE_LI_TYPE_WIDTH (1)
                             3297 ; 534  |#define HW_VDD5V_PWR_CHARGE_DISABLE_ILIMIT_WIDTH (1)
                             3298 ; 535  |#define HW_VDD5V_PWR_CHARGE_PWDN_ON_IOBRNOUT_WIDTH (1)
                             3299 ; 536  |#define HW_VDD5V_PWR_CHARGE_DCANA_LP_WIDTH (1)
                             3300 ; 537  |#define HW_VDD5V_PWR_CHARGE_TEST_USBREGS_WIDTH (1)
                             3301 ; 538  |#define HW_VDD5V_PWR_CHARGE_DRV_BATT_WIDTH (1)
                             3302 ; 539  |#define HW_VDD5V_PWR_CHARGE_SWCHRG_BAT_WIDTH (1)
                             3303 ; 540  |#define HW_VDD5V_PWR_CHARGE_RSVD1_WIDTH (2)
                             3304 ; 541  |#define HW_VDD5V_PWR_CHARGE_VDD5V_PRESENT_WIDTH (1)
                             3305 ; 542  |#define HW_VDD5V_PWR_CHARGE_BATT_INFO_WIDTH (2)
                             3306 ; 543  |#define HW_VDD5V_PWR_CHARGE_RSVD2_WIDTH (3)
                             3307 ; 544  |
                             3308 ; 545  |#define HW_VDD5V_PWR_CHARGE_BATT_CURRENT_BITPOS (0)
                             3309 ; 546  |#define HW_VDD5V_PWR_CHARGE_PWD_BITPOS (8)
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  56

M:ADDR CODE           CYCLES LINE SOURCELINE
                             3310 ; 547  |#define HW_VDD5V_PWR_CHARGE_RES_BITPOS (9)
                             3311 ; 548  |#define HW_VDD5V_PWR_CHARGE_NIMH_BITPOS (10)
                             3312 ; 549  |
                             3313 ; 550  |#define HW_VDD5V_PWR_CHARGE_LI_TYPE_BITPOS (11)
                             3314 ; 551  |#define HW_VDD5V_PWR_CHARGE_DISABLE_ILIMIT_BITPOS (12)
                             3315 ; 552  |#define HW_VDD5V_PWR_CHARGE_PWDN_ON_IOBRNOUT_BITPOS (13)
                             3316 ; 553  |#define HW_VDD5V_PWR_CHARGE_DCANA_LP_BITPOS (14)
                             3317 ; 554  |#define HW_VDD5V_PWR_CHARGE_TEST_USBREGS_BITPOS (15)
                             3318 ; 555  |#define HW_VDD5V_PWR_CHARGE_DRV_BATT_BITPOS (16)
                             3319 ; 556  |#define HW_VDD5V_PWR_CHARGE_SWCHRG_BAT_BITPOS (17)
                             3320 ; 557  |#define HW_VDD5V_PWR_CHARGE_VDD5V_PRESENT_BITPOS (20)
                             3321 ; 558  |#define HW_VDD5V_PWR_CHARGE_BATT_INFO_BITPOS (21)
                             3322 ; 559  |
                             3323 ; 560  |#define HW_VDD5V_PWR_CHARGE_BATT_CURRENT_SETMASK (((1<<HW_VDD5V_PWR_CHARGE_BATT_CURRENT_WI
                                  DTH)-1)<<HW_VDD5V_PWR_CHARGE_BATT_CURRENT_BITPOS)        
                             3324 ; 561  |#define HW_VDD5V_PWR_CHARGE_PWD_SETMASK (((1<<HW_VDD5V_PWR_CHARGE_PWD_WIDTH)-1)<<HW_VDD5V_
                                  PWR_CHARGE_PWD_BITPOS)        
                             3325 ; 562  |#define HW_VDD5V_PWR_CHARGE_RES_SETMASK (((1<<HW_VDD5V_PWR_CHARGE_RES_WIDTH)-1)<<HW_VDD5V_
                                  PWR_CHARGE_RES_BITPOS) 
                             3326 ; 563  |#define HW_VDD5V_PWR_CHARGE_NIMH_SETMASK (((1<<HW_VDD5V_PWR_CHARGE_NIMH_WIDTH)-1)<<HW_VDD5
                                  V_PWR_CHARGE_NIMH_BITPOS) 
                             3327 ; 564  |#define HW_VDD5V_PWR_CHARGE_LI_TYPE_SETMASK (((1<<HW_VDD5V_PWR_CHARGE_LI_TYPE_WIDTH)-1)<<H
                                  W_VDD5V_PWR_CHARGE_LI_TYPE_BITPOS) 
                             3328 ; 565  |#define HW_VDD5V_PWR_CHARGE_DISABLE_ILIMIT_SETMASK (((1<<HW_VDD5V_PWR_CHARGE_DISABLE_ILIMI
                                  T_WIDTH)-1)<<HW_VDD5V_PWR_CHARGE_DISABLE_ILIMIT_BITPOS)        
                             3329 ; 566  |#define HW_VDD5V_PWR_CHARGE_PWDN_ON_IOBRNOUT_SETMASK (((1<<HW_VDD5V_PWR_CHARGE_PWDN_ON_IOB
                                  RNOUT_WIDTH)-1)<<HW_VDD5V_PWR_CHARGE_PWDN_ON_IOBRNOUT_BITPOS)        
                             3330 ; 567  |#define HW_VDD5V_PWR_CHARGE_DCANA_LP_SETMASK (((1<<HW_VDD5V_PWR_CHARGE_DCANA_LP_WIDTH)-1)<
                                  <HW_VDD5V_PWR_CHARGE_DCANA_LP_BITPOS) 
                             3331 ; 568  |#define HW_VDD5V_PWR_CHARGE_TEST_USBREGS_SETMASK (((1<<HW_VDD5V_PWR_CHARGE_TEST_USBREGS_WI
                                  DTH)-1)<<HW_VDD5V_PWR_CHARGE_TEST_USBREGS_BITPOS) 
                             3332 ; 569  |#define HW_VDD5V_PWR_CHARGE_DRV_BATT_SETMASK (((1<<HW_VDD5V_PWR_CHARGE_DRV_BATT_WIDTH)-1)<
                                  <HW_VDD5V_PWR_CHARGE_DRV_BATT_BITPOS) 
                             3333 ; 570  |#define HW_VDD5V_PWR_CHARGE_SWCHRG_BAT_SETMASK (((1<<HW_VDD5V_PWR_CHARGE_SWCHRG_BAT_WIDTH)
                                  -1)<<HW_VDD5V_PWR_CHARGE_SWCHRG_BAT_BITPOS) 
                             3334 ; 571  |#define HW_VDD5V_PWR_CHARGE_VDD5V_PRESENT_SETMASK (((1<<HW_VDD5V_PWR_CHARGE_VDD5V_PRESENT_
                                  WIDTH)-1)<<HW_VDD5V_PWR_CHARGE_VDD5V_PRESENT_BITPOS) 
                             3335 ; 572  |#define HW_VDD5V_PWR_CHARGE_BATT_INFO_SETMASK (((1<<HW_VDD5V_PWR_CHARGE_BATT_INFO_WIDTH)-1
                                  )<<HW_VDD5V_PWR_CHARGE_BATT_INFO_BITPOS) 
                             3336 ; 573  |
                             3337 ; 574  |
                             3338 ; 575  |#define HW_VDD5V_PWR_CHARGE_BATT_CURRENT_CLRMASK (~(WORD)HW_VDD5V_PWR_CHARGE_BATT_CURRENT_
                                  SETMASK)     
                             3339 ; 576  |#define HW_VDD5V_PWR_CHARGE_PWD_CLRMASK (~(WORD)HW_VDD5V_PWR_CHARGE_PWD_SETMASK)     
                             3340 ; 577  |#define HW_VDD5V_PWR_CHARGE_RES_CLRMASK (~(WORD)HW_VDD5V_PWR_CHARGE_RES_SETMASK) 
                             3341 ; 578  |#define HW_VDD5V_PWR_CHARGE_NIMH_CLRMASK (~(WORD)HW_VDD5V_PWR_CHARGE_NIMH_SETMASK) 
                             3342 ; 579  |#define HW_VDD5V_PWR_CHARGE_LI_TYPE_CLRMASK (~(WORD)HW_VDD5V_PWR_CHARGE_LI_TYPE_SETMASK) 
                             3343 ; 580  |#define HW_VDD5V_PWR_CHARGE_DISABLE_ILIMIT_CLRMASK (~(WORD)HW_VDD5V_PWR_CHARGE_DISABLE_ILI
                                  MIT_SETMASK)     
                             3344 ; 581  |#define HW_VDD5V_PWR_CHARGE_PWDN_ON_IOBRNOUT_CLRMASK (~(WORD)HW_VDD5V_PWR_CHARGE_PWDN_ON_I
                                  OBRNOUT_SETMASK)     
                             3345 ; 582  |#define HW_VDD5V_PWR_CHARGE_DCANA_LP_CLRMASK (~(WORD)HW_VDD5V_PWR_CHARGE_DCANA_LP_SETMASK)
                                   
                             3346 ; 583  |#define HW_VDD5V_PWR_CHARGE_TEST_USBREGS_CLRMASK (~(WORD)HW_VDD5V_PWR_CHARGE_TEST_USBREGS_
                                  SETMASK) 
                             3347 ; 584  |#define HW_VDD5V_PWR_CHARGE_DRV_BATT_CLRMASK (~(WORD)HW_VDD5V_PWR_CHARGE_DRV_BATT_SETMASK)
                                   
                             3348 ; 585  |#define HW_VDD5V_PWR_CHARGE_SWCHRG_BAT_CLRMASK (~(WORD)HW_VDD5V_PWR_CHARGE_SWCHRG_BAT_SETM
                                  ASK) 
                             3349 ; 586  |#define HW_VDD5V_PWR_CHARGE_VDD5V_PRESENT_CLRMASK (~(WORD)HW_VDD5V_PWR_CHARGE_VDD5V_PRESEN
                                  T_SETMASK) 
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  57

M:ADDR CODE           CYCLES LINE SOURCELINE
                             3350 ; 587  |#define HW_VDD5V_PWR_CHARGE_BATT_INFO_CLRMASK (~(WORD)HW_VDD5V_PWR_CHARGE_BATT_INFO_SETMAS
                                  K) 
                             3351 ; 588  |
                             3352 ; 589  |typedef union               
                             3353 ; 590  |{
                             3354 ; 591  |    struct {
                             3355 ; 592  |        unsigned int BATT_CURRENT               : HW_VDD5V_PWR_CHARGE_BATT_CURRENT_WIDTH;
                             3356 ; 593  |        unsigned int RSVD0                      : HW_VDD5V_PWR_CHARGE_RSVD0_WIDTH;
                             3357 ; 594  |        unsigned int PWD                        : HW_VDD5V_PWR_CHARGE_PWD_WIDTH;
                             3358 ; 595  |        unsigned int RES                        : HW_VDD5V_PWR_CHARGE_RES_WIDTH;
                             3359 ; 596  |        unsigned int NIMH                       : HW_VDD5V_PWR_CHARGE_NIMH_WIDTH;
                             3360 ; 597  |        unsigned int LI_TYPE                    : HW_VDD5V_PWR_CHARGE_LI_TYPE_WIDTH;
                             3361 ; 598  |        unsigned int DISABLE_ILIMIT             : HW_VDD5V_PWR_CHARGE_DISABLE_ILIMIT_WIDTH
                                  ;
                             3362 ; 599  |        unsigned int PWDN_ON_IOBRNOUT           : HW_VDD5V_PWR_CHARGE_PWDN_ON_IOBRNOUT_WID
                                  TH;
                             3363 ; 600  |        unsigned int DCANA_LP                   : HW_VDD5V_PWR_CHARGE_DCANA_LP_WIDTH;
                             3364 ; 601  |        unsigned int TEST_USBREGS               : HW_VDD5V_PWR_CHARGE_TEST_USBREGS_WIDTH;
                             3365 ; 602  |        unsigned int DRV_BATT                   : HW_VDD5V_PWR_CHARGE_DRV_BATT_WIDTH;
                             3366 ; 603  |        unsigned int SWCHRG_BAT                 : HW_VDD5V_PWR_CHARGE_SWCHRG_BAT_WIDTH;
                             3367 ; 604  |        unsigned int RSVD1                      : HW_VDD5V_PWR_CHARGE_RSVD1_WIDTH;
                             3368 ; 605  |        unsigned int VDD5V_PRESENT              : HW_VDD5V_PWR_CHARGE_VDD5V_PRESENT_WIDTH;
                                  
                             3369 ; 606  |        unsigned int RSVD2                      : HW_VDD5V_PWR_CHARGE_RSVD2_WIDTH;
                             3370 ; 607  |    } B;
                             3371 ; 608  |    unsigned int I;
                             3372 ; 609  |} usb_pwr_charge_type;
                             3373 ; 610  |#define HW_VDD5V_PWR_CHARGE      (*(volatile usb_pwr_charge_type _X*) (HW_DCDC_BASEADDR+17
                                  ))    /* Analog Persistent Config Register */
                             3374 ; 611  |
                             3375 ; 612  |#define HW_DCDC_PERSIST_AUTO_RESTART_STAT_WIDTH 1
                             3376 ; 613  |#define HW_DCDC_PERSIST_DELAY_5V_AUTO_RESTART_STAT_WIDTH 1
                             3377 ; 614  |#define HW_DCDC_PERSIST_UPDATE_WIDTH 1
                             3378 ; 615  |#define HW_DCDC_PERSIST_AUTO_RESTART_WIDTH 1
                             3379 ; 616  |#define HW_DCDC_PERSIST_DELAY_5V_AUTO_RESTART_WIDTH 1
                             3380 ; 617  |#define HW_DCDC_PERSIST_LOW_BATT_TYPE_WIDTH 1
                             3381 ; 618  |#define HW_DCDC_PERSIST_LOW_BATTERY_ENABLE_WIDTH 1
                             3382 ; 619  |#define HW_DCDC_PERSIST_SLEEP_XTAL_ENABLE_WIDTH 1
                             3383 ; 620  |#define HW_DCDC_PERSIST_XTAL_TRIM1_WIDTH 1
                             3384 ; 621  |#define HW_DCDC_PERSIST_XTAL_TRIM0_WIDTH 1
                             3385 ; 622  |#define HW_DCDC_PERSIST_XTAL_BIAS_DOWN1_WIDTH 1
                             3386 ; 623  |#define HW_DCDC_PERSIST_XTAL_BIAS_DOWN0_WIDTH 1
                             3387 ; 624  |#define HW_DCDC_PERSIST_XTAL_TRM_ENABLE_WIDTH 1
                             3388 ; 625  |#define HW_DCDC_PERSIST_RSRVD_WIDTH 2
                             3389 ; 626  |
                             3390 ; 627  |#define HW_DCDC_PERSIST_AUTO_RESTART_STAT_BITPOS 12
                             3391 ; 628  |#define HW_DCDC_PERSIST_DELAY_5V_AUTO_RESTART_STAT_BITPOS 11
                             3392 ; 629  |#define HW_DCDC_PERSIST_UPDATE_BITPOS 10
                             3393 ; 630  |#define HW_DCDC_PERSIST_AUTO_RESTART_BITPOS 9
                             3394 ; 631  |#define HW_DCDC_PERSIST_DELAY_5V_AUTO_RESTART_BITPOS 8 
                             3395 ; 632  |#define HW_DCDC_PERSIST_LOW_BATT_TYPE_BITPOS 7
                             3396 ; 633  |#define HW_DCDC_PERSIST_LOW_BATTERY_ENABLE_BITPOS 6
                             3397 ; 634  |#define HW_DCDC_PERSIST_SLEEP_XTAL_ENABLE_BITPOS 5
                             3398 ; 635  |#define HW_DCDC_PERSIST_XTAL_TRIM1_BITPOS 4
                             3399 ; 636  |#define HW_DCDC_PERSIST_XTAL_TRIM0_BITPOS 3
                             3400 ; 637  |#define HW_DCDC_PERSIST_XTAL_BIAS_DOWN1_BITPOS 2
                             3401 ; 638  |#define HW_DCDC_PERSIST_XTAL_BIAS_DOWN0_BITPOS 1
                             3402 ; 639  |#define HW_DCDC_PERSIST_XTAL_TRM_ENABLE_BITPOS 0
                             3403 ; 640  |
                             3404 ; 641  |typedef union               
                             3405 ; 642  |{
                             3406 ; 643  |    struct {       
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  58

M:ADDR CODE           CYCLES LINE SOURCELINE
                             3407 ; 644  |       int XTAL_TRM_ENABLE             : HW_DCDC_PERSIST_XTAL_TRM_ENABLE_WIDTH;
                             3408 ; 645  |       int XTAL_BIAS_DOWN0             : HW_DCDC_PERSIST_XTAL_BIAS_DOWN0_WIDTH;
                             3409 ; 646  |       int XTAL_BIAS_DOWN1             : HW_DCDC_PERSIST_XTAL_BIAS_DOWN1_WIDTH;
                             3410 ; 647  |       int XTAL_TRIM0                  : HW_DCDC_PERSIST_XTAL_TRIM0_WIDTH;
                             3411 ; 648  |       int XTAL_TRIM1                  : HW_DCDC_PERSIST_XTAL_TRIM1_WIDTH;
                             3412 ; 649  |       int SLEEP_XTAL_ENABLE           : HW_DCDC_PERSIST_SLEEP_XTAL_ENABLE_WIDTH;
                             3413 ; 650  |       int LOW_BATTERY_ENABLE          : HW_DCDC_PERSIST_LOW_BATTERY_ENABLE_WIDTH;
                             3414 ; 651  |       int LOW_BATT_TYPE               : HW_DCDC_PERSIST_LOW_BATT_TYPE_WIDTH;
                             3415 ; 652  |       int DELAY_5V_AUTO_RESTART       : HW_DCDC_PERSIST_DELAY_5V_AUTO_RESTART_WIDTH;
                             3416 ; 653  |       int AUTO_RESTART                : HW_DCDC_PERSIST_AUTO_RESTART_WIDTH;
                             3417 ; 654  |       int UPDATE                      : HW_DCDC_PERSIST_UPDATE_WIDTH;
                             3418 ; 655  |       int DELAY_5V_AUTO_RESTART_STAT  : HW_DCDC_PERSIST_DELAY_5V_AUTO_RESTART_STAT_WIDTH;
                                  
                             3419 ; 656  |       int AUTO_RESTART_STAT           : HW_DCDC_PERSIST_AUTO_RESTART_STAT_WIDTH;
                             3420 ; 657  |       int RSRVD                       : HW_DCDC_PERSIST_RSRVD_WIDTH;
                             3421 ; 658  |    } B;
                             3422 ; 659  |    int I;
                             3423 ; 660  |} usb_dcdcpersist_type;
                             3424 ; 661  |#define HW_DCDC_PERSIST                (*(volatile usb_dcdcpersist_type _X*) (HW_DCDC_BASE
                                  ADDR+15))    /* Analog test bit register*/
                             3425 ; 662  |
                             3426 ; 663  |
                             3427 ; 664  |
                             3428 ; 665  |#endif
                             3429 ; 666  |
                             3430 ; 667  |
                             3431 ; 668  |
                             3432 
                             3434 
                             3435 ; 21   |#include "regsemc.h"
                             3436 
                             3438 
                             3439 ; 1    |#if !(defined(__REGS_EMC_INC))
                             3440 ; 2    |#define __REGS_EMC_INC 1
                             3441 ; 3    |
                             3442 ; 4    |/////////////////////////////////////////////////////////////////////////////////
                             3443 ; 5    |//   Module base addresses
                             3444 ; 6    |/////////////////////////////////////////////////////////////////////////////////
                             3445 ; 7    |#define HW_EMC_BASEADDR 0xF000
                             3446 ; 8    |
                             3447 ; 9    |/////////////////////////////////////////////////////////////////////////////////
                             3448 ; 10   |//  EMC Registers
                             3449 ; 11   |/////////////////////////////////////////////////////////////////////////////////
                             3450 ; 12   |
                             3451 ; 13   |
                             3452 ; 14   |/////////////////////////////////////////////////////////////////////////////////
                             3453 ; 15   |//  Flash Control Register (HW_FLCR) Bit Definitions
                             3454 ; 16   |
                             3455 ; 17   |typedef union               /*Flash Control Register*/
                             3456 ; 18   |{
                             3457 ; 19   |    struct
                             3458 ; 20   |    {
                             3459 ; 21   |    int KICK        :1;
                             3460 ; 22   |    int RW          :1;
                             3461 ; 23   |    int TCIE        :1;
                             3462 ; 24   |    int IRQP        :1;
                             3463 ; 25   |    unsigned MMD    :2;
                             3464 ; 26   |    unsigned NB     :11;
                             3465 ; 27   |    unsigned RSVD   :4;
                             3466 ; 28   |    int SRST        :1;
                             3467 ; 29   |    } B;
                             3468 ; 30   |    int I;
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  59

M:ADDR CODE           CYCLES LINE SOURCELINE
                             3469 ; 31   |} flcr_type;
                             3470 ; 32   |
                             3471 ; 33   |#define HW_FLCR_KICK_BITPOS 0
                             3472 ; 34   |#define HW_FLCR_RW_BITPOS 1
                             3473 ; 35   |#define HW_FLCR_TCIE_BITPOS 2
                             3474 ; 36   |#define HW_FLCR_IRQP_BITPOS 3
                             3475 ; 37   |#define HW_FLCR_MMD_BITPOS 4
                             3476 ; 38   |#define HW_FLCR_NB_BITPOS 6
                             3477 ; 39   |#define HW_FLCR_SRST_BITPOS 21
                             3478 ; 40   |
                             3479 ; 41   |#define HW_FLCR_KICK_SETMASK 1<<HW_FLCR_KICK_BITPOS
                             3480 ; 42   |#define HW_FLCR_RW_SETMASK 1<<HW_FLCR_RW_BITPOS
                             3481 ; 43   |#define HW_FLCR_READ_KICK_SETMASK HW_FLCR_KICK_SETMASK|HW_FLCR_RW_SETMASK
                             3482 ; 44   |#define HW_FLCR_WRITE_KICK_SETMASK HW_FLCR_KICK_SETMASK
                             3483 ; 45   |#define HW_FLCR_TCIE_SETMASK 1<<HW_FLCR_TCIE_BITPOS
                             3484 ; 46   |#define HW_FLCR_IRQP_SETMASK 1<<HW_FLCR_IRQP_BITPOS
                             3485 ; 47   |#define HW_FLCR_MMD_SETMASK 3<<HW_FLCR_MMD_BITPOS
                             3486 ; 48   |#define HW_FLCR_NB_SETMASK 0x7FF<<HW_FLCR_NB_BITPOS
                             3487 ; 49   |#define HW_FLCR_SRST_SETMASK 1<<HW_FLCR_SRST_BITPOS
                             3488 ; 50   |
                             3489 ; 51   |#define HW_FLCR_KICK_CLRMASK ~(WORD)HW_FLCR_KICK_SETMASK
                             3490 ; 52   |#define HW_FLCR_RW_CLRMASK ~(WORD)HW_FLCR_RW_SETMASK
                             3491 ; 53   |#define HW_FLCR_TCIE_CLRMASK ~(WORD)HW_FLCR_TCIE_SETMASK
                             3492 ; 54   |#define HW_FLCR_IRQP_CLRMASK ~(WORD)HW_FLCR_IRQP_SETMASK
                             3493 ; 55   |#define HW_FLCR_MMD_CLRMASK ~(WORD)HW_FLCR_MMD_SETMASK
                             3494 ; 56   |#define HW_FLCR_NB_CLRMASK ~(WORD)HW_FLCR_NB_SETMASK
                             3495 ; 57   |#define HW_FLCR_SRST_CLRMASK ~(WORD)HW_FLCR_SRST_SETMASK
                             3496 ; 58   |
                             3497 ; 59   |
                             3498 ; 60   |/////////////////////////////////////////////////////////////////////////////////
                             3499 ; 61   |//  Flash Start Address Low Register (HW_FLSALR) Bit Definitions
                             3500 ; 62   |
                             3501 ; 63   |typedef union           /* Flash Start Address Low*/
                             3502 ; 64   |{
                             3503 ; 65   |    struct
                             3504 ; 66   |    {
                             3505 ; 67   |    unsigned XA     : 24;
                             3506 ; 68   |    } B;
                             3507 ; 69   |    int I;
                             3508 ; 70   |} flsalr_type;
                             3509 ; 71   |
                             3510 ; 72   |#define HW_FLSALR_XA_BITPOS 0
                             3511 ; 73   |
                             3512 ; 74   |#define HW_FLSALR_XA_SETMASK 0xFFFFFF<<HW_FLSALR_XA_BITPOS
                             3513 ; 75   |
                             3514 ; 76   |#define HW_FLSALR_XA_CLRMASK ~(WORD)HW_FLSALR_XA_SETMASK
                             3515 ; 77   |
                             3516 ; 78   |
                             3517 ; 79   |/////////////////////////////////////////////////////////////////////////////////
                             3518 ; 80   |//  Flash Start Address High Register (HW_FLSAHR) Bit Definitions
                             3519 ; 81   |
                             3520 ; 82   |typedef union           /* Flash Start Address High*/
                             3521 ; 83   |{
                             3522 ; 84   |    struct
                             3523 ; 85   |    {
                             3524 ; 86   |    unsigned XA     :8;
                             3525 ; 87   |    unsigned DA     :16;
                             3526 ; 88   |    } B;
                             3527 ; 89   |    int I;
                             3528 ; 90   |} flsahr_type;
                             3529 ; 91   |
                             3530 ; 92   |#define HW_FLSAHR_XA_BITPOS 0
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  60

M:ADDR CODE           CYCLES LINE SOURCELINE
                             3531 ; 93   |
                             3532 ; 94   |#define HW_FLSAHR_XA_SETMASK 0xFFFFFF<<HW_FLSAHR_XA_BITPOS
                             3533 ; 95   |
                             3534 ; 96   |#define HW_FLSAHR_XA_CLRMASK ~(WORD)HW_FLSAHR_XA_SETMASK
                             3535 ; 97   |
                             3536 ; 98   |
                             3537 ; 99   |/////////////////////////////////////////////////////////////////////////////////
                             3538 ; 100  |//  EMC Flash CompactFlash Control Register (HW_FLCFCR) Bit Definitions
                             3539 ; 101  |
                             3540 ; 102  |typedef union           /* Flash CompactFlash Control Register*/
                             3541 ; 103  |{
                             3542 ; 104  |    struct
                             3543 ; 105  |    {
                             3544 ; 106  |        int WP          :1;
                             3545 ; 107  |        int CDP         :1;
                             3546 ; 108  |        unsigned SM     :2;
                             3547 ; 109  |        int XATTR       :1;
                             3548 ; 110  |        int CRST        :1;
                             3549 ; 111  |        int XWT         :1;
                             3550 ; 112  |        int RI          :1;
                             3551 ; 113  |        int IFCE        :1;
                             3552 ; 114  |        int ISCE        :1;
                             3553 ; 115  |        int INCE        :1;
                             3554 ; 116  |        int IFCS        :1;
                             3555 ; 117  |        int ISCS        :1;
                             3556 ; 118  |        int INCS        :1;
                             3557 ; 119  |        unsigned CFAI   :2;
                             3558 ; 120  |        int XDDI        :1;
                             3559 ; 121  |        unsigned CS     :2;
                             3560 ; 122  |        int CRE         :1;
                             3561 ; 123  |        unsigned VS     :2;
                             3562 ; 124  |        int DASP        :1;
                             3563 ; 125  |        int MODE16      :1; 
                             3564 ; 126  |    } B;
                             3565 ; 127  |    int I;
                             3566 ; 128  |} flcfcr_type;
                             3567 ; 129  |
                             3568 ; 130  |#define HW_FLCFCR_WP_BITPOS 0
                             3569 ; 131  |#define HW_FLCFCR_CDP_BITPOS 1
                             3570 ; 132  |#define HW_FLCFCR_SM_BITPOS 2
                             3571 ; 133  |#define HW_FLCFCR_XATTR_BITPOS 4
                             3572 ; 134  |#define HW_FLCFCR_CRST_BITPOS 5
                             3573 ; 135  |#define HW_FLCFCR_XWT_BITPOS 6
                             3574 ; 136  |#define HW_FLCFCR_RI_BITPOS 7
                             3575 ; 137  |#define HW_FLCFCR_IFCE_BITPOS 8
                             3576 ; 138  |#define HW_FLCFCR_ISCE_BITPOS 9
                             3577 ; 139  |#define HW_FLCFCR_INCE_BITPOS 10
                             3578 ; 140  |#define HW_FLCFCR_IFCS_BITPOS 11
                             3579 ; 141  |#define HW_FLCFCR_ISCS_BITPOS 12
                             3580 ; 142  |#define HW_FLCFCR_INCS_BITPOS 13
                             3581 ; 143  |#define HW_FLCFCR_CFAI_BITPOS 14
                             3582 ; 144  |#define HW_FLCFCR_XDDI_BITPOS 16
                             3583 ; 145  |#define HW_FLCFCR_CS_BITPOS 17
                             3584 ; 146  |#define HW_FLCFCR_CRE_BITPOS 19
                             3585 ; 147  |#define HW_FLCFCR_VS_BITPOS 20
                             3586 ; 148  |#define HW_FLCFCR_DASP_BITPOS 22
                             3587 ; 149  |
                             3588 ; 150  |#define HW_FLCFCR_WP_SETMASK 1<<HW_FLCFCR_WP_BITPOS
                             3589 ; 151  |#define HW_FLCFCR_CDP_SETMASK 1<<HW_FLCFCR_CDP_BITPOS
                             3590 ; 152  |#define HW_FLCFCR_SM_SETMASK 3<<HW_FLCFCR_SM_BITPOS
                             3591 ; 153  |#define HW_FLCFCR_XATTR_SETMASK 1<<HW_FLCFCR_XATTR_BITPOS
                             3592 ; 154  |#define HW_FLCFCR_CRST_SETMASK 1<<HW_FLCFCR_CRST_BITPOS
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  61

M:ADDR CODE           CYCLES LINE SOURCELINE
                             3593 ; 155  |#define HW_FLCFCR_XWT_SETMASK 1<<HW_FLCFCR_XWT_BITPOS
                             3594 ; 156  |#define HW_FLCFCR_RI_SETMASK 1<<HW_FLCFCR_RI_BITPOS
                             3595 ; 157  |#define HW_FLCFCR_IFCE_SETMASK 1<<HW_FLCFCR_IFCE_BITPOS
                             3596 ; 158  |#define HW_FLCFCR_ISCE_SETMASK 1<<HW_FLCFCR_ISCE_BITPOS
                             3597 ; 159  |#define HW_FLCFCR_INCE_SETMASK 1<<HW_FLCFCR_INCE_BITPOS
                             3598 ; 160  |#define HW_FLCFCR_IFCS_SETMASK 1<<HW_FLCFCR_IFCS_BITPOS
                             3599 ; 161  |#define HW_FLCFCR_ISCS_SETMASK 1<<HW_FLCFCR_ISCS_BITPOS
                             3600 ; 162  |#define HW_FLCFCR_INCS_SETMASK 1<<HW_FLCFCR_INCS_BITPOS
                             3601 ; 163  |#define HW_FLCFCR_CFAI_SETMASK 3<<HW_FLCFCR_CFAI_BITPOS
                             3602 ; 164  |#define HW_FLCFCR_XDDI_SETMASK 1<<HW_FLCFCR_XDDI_BITPOS
                             3603 ; 165  |#define HW_FLCFCR_CS_SETMASK 3<<HW_FLCFCR_CS_BITPOS
                             3604 ; 166  |#define HW_FLCFCR_CRE_SETMASK 1<<HW_FLCFCR_CRE_BITPOS
                             3605 ; 167  |#define HW_FLCFCR_VS_SETMASK 3<<HW_FLCFCR_VS_BITPOS
                             3606 ; 168  |#define HW_FLCFCR_DASP_SETMASK 1<<HW_FLCFCR_DASP_BITPOS
                             3607 ; 169  |
                             3608 ; 170  |#define HW_FLCFCR_WP_CLRMASK ~(WORD)HW_FLCFCR_WP_SETMASK
                             3609 ; 171  |#define HW_FLCFCR_CDP_CLRMASK ~(WORD)HW_FLCFCR_CDP_SETMASK
                             3610 ; 172  |#define HW_FLCFCR_SM_CLRMASK ~(WORD)HW_FLCFCR_SM_SETMASK
                             3611 ; 173  |#define HW_FLCFCR_XATTR_CLRMASK ~(WORD)HW_FLCFCR_XATTR_SETMASK
                             3612 ; 174  |#define HW_FLCFCR_CRST_CLRMASK ~(WORD)HW_FLCFCR_CRST_SETMASK
                             3613 ; 175  |#define HW_FLCFCR_XWT_CLRMASK ~(WORD)HW_FLCFCR_XWT_SETMASK
                             3614 ; 176  |#define HW_FLCFCR_RI_CLRMASK ~(WORD)HW_FLCFCR_RI_SETMASK
                             3615 ; 177  |#define HW_FLCFCR_IFCE_CLRMASK ~(WORD)HW_FLCFCR_IFCE_SETMASK
                             3616 ; 178  |#define HW_FLCFCR_ISCE_CLRMASK ~(WORD)HW_FLCFCR_ISCE_SETMASK
                             3617 ; 179  |#define HW_FLCFCR_INCE_CLRMASK ~(WORD)HW_FLCFCR_INCE_SETMASK
                             3618 ; 180  |#define HW_FLCFCR_IFCS_CLRMASK ~(WORD)HW_FLCFCR_IFCS_SETMASK
                             3619 ; 181  |#define HW_FLCFCR_ISCS_CLRMASK ~(WORD)HW_FLCFCR_ISCS_SETMASK
                             3620 ; 182  |#define HW_FLCFCR_INCS_CLRMASK ~(WORD)HW_FLCFCR_INCS_SETMASK
                             3621 ; 183  |#define HW_FLCFCR_CFAI_CLRMASK ~(WORD)HW_FLCFCR_CFAI_SETMASK
                             3622 ; 184  |#define HW_FLCFCR_XDDI_CLRMASK ~(WORD)HW_FLCFCR_XDDI_SETMASK
                             3623 ; 185  |#define HW_FLCFCR_CS_CLRMASK ~(WORD)HW_FLCFCR_CS_SETMASK
                             3624 ; 186  |#define HW_FLCFCR_CRE_CLRMASK ~(WORD)HW_FLCFCR_CRE_SETMASK
                             3625 ; 187  |#define HW_FLCFCR_VS_CLRMASK ~(WORD)HW_FLCFCR_VS_SETMASK
                             3626 ; 188  |#define HW_FLCFCR_DASP_CLRMASK ~(WORD)HW_FLCFCR_DASP_SETMASK
                             3627 ; 189  |
                             3628 ; 190  |
                             3629 ; 191  |/////////////////////////////////////////////////////////////////////////////////
                             3630 ; 192  |//  EMC Flash Compact Flash Timer1 Register (HW_FLCFTMR1R) Bit Definitions
                             3631 ; 193  |
                             3632 ; 194  |typedef union           /* Flash CompactFlash Timer1 Register*/
                             3633 ; 195  |{
                             3634 ; 196  |    struct
                             3635 ; 197  |    {
                             3636 ; 198  |        unsigned TRWSU  :5;
                             3637 ; 199  |        unsigned TRPW   :7;
                             3638 ; 200  |        unsigned TWPW   :7;
                             3639 ; 201  |        unsigned TRWH   :5;
                             3640 ; 202  |    } B;
                             3641 ; 203  |    int I;
                             3642 ; 204  |} flcftmr1r_type;
                             3643 ; 205  |
                             3644 ; 206  |#define HW_FLCFTMR1R_TRWSU_BITPOS 0
                             3645 ; 207  |#define HW_FLCFTMR1R_TRPW_BITPOS 5
                             3646 ; 208  |#define HW_FLCFTMR1R_TWPW_BITPOS 12
                             3647 ; 209  |#define HW_FLCFTMR1R_TRWH_BITPOS 19
                             3648 ; 210  |
                             3649 ; 211  |#define HW_FLCFTMR1R_TRWSU_SETMASK 0x1F<<HW_FLCFTMR1R_TRWSU_BITPOS
                             3650 ; 212  |#define HW_FLCFTMR1R_TRPW_SETMASK 0x7F<<HW_FLCFTMR1R_TRPW_BITPOS
                             3651 ; 213  |#define HW_FLCFTMR1R_TWPW_SETMASK 0x7F<<HW_FLCFTMR1R_TWPW_BITPOS
                             3652 ; 214  |#define HW_FLCFTMR1R_TRWH_SETMASK 0x1F<<HW_FLCFTMR1R_TRWH_BITPOS
                             3653 ; 215  |
                             3654 ; 216  |#define HW_FLCFTMR1R_TRWSU_CLRMASK ~(WORD)HW_FLCFTMR1R_TRWSU_SETMASK
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  62

M:ADDR CODE           CYCLES LINE SOURCELINE
                             3655 ; 217  |#define HW_FLCFTMR1R_TRPW_CLRMASK ~(WORD)HW_FLCFTMR1R_TRPW_SETMASK
                             3656 ; 218  |#define HW_FLCFTMR1R_TWPW_CLRMASK ~(WORD)HW_FLCFTMR1R_TWPW_SETMASK
                             3657 ; 219  |#define HW_FLCFTMR1R_TRWH_CLRMASK ~(WORD)HW_FLCFTMR1R_TRWH_SETMASK
                             3658 ; 220  |
                             3659 ; 221  |
                             3660 ; 222  |/////////////////////////////////////////////////////////////////////////////////
                             3661 ; 223  |//  EMC Flash Compact Flash Timer1 Register (HW_FLCFTMR2R) Bit Definitions
                             3662 ; 224  |
                             3663 ; 225  |typedef union           /* Flash CompactFlash Timer2 Register*/
                             3664 ; 226  |{
                             3665 ; 227  |    struct
                             3666 ; 228  |    {
                             3667 ; 229  |        unsigned TWW    :4;
                             3668 ; 230  |        unsigned TWTO   :10;
                             3669 ; 231  |        unsigned THW    :5; 
                             3670 ; 232  |        unsigned TRAQ   :5;
                             3671 ; 233  |    } B;
                             3672 ; 234  |    int I;
                             3673 ; 235  |} flcftmr2r_type;
                             3674 ; 236  |
                             3675 ; 237  |#define HW_FLCFTMR2R_TWW_BITPOS 0
                             3676 ; 238  |#define HW_FLCFTMR2R_TWTO_BITPOS 4
                             3677 ; 239  |#define HW_FLCFTMR2R_THW_BITPOS 14
                             3678 ; 240  |#define HW_FLCFTMR2R_TRAQ_BITPOS 19
                             3679 ; 241  |
                             3680 ; 242  |#define HW_FLCFTMR2R_TWW_SETMASK 0xF<<HW_FLCFTMR2R_TWW_BITPOS
                             3681 ; 243  |#define HW_FLCFTMR2R_TWTO_SETMASK 0x3FF<<HW_FLCFTMR2R_TWTO_BITPOS
                             3682 ; 244  |#define HW_FLCFTMR2R_THW_SETMASK 0x1F<<HW_FLCFTMR2R_THW_BITPOS
                             3683 ; 245  |#define HW_FLCFTMR2R_TRAQ_SETMASK 0x1F<<HW_FLCFTMR2R_TRAQ_BITPOS
                             3684 ; 246  |
                             3685 ; 247  |#define HW_FLCFTMR2R_TWW_CLRMASK ~(WORD)HW_FLCFTMR2R_TWW_SETMASK
                             3686 ; 248  |#define HW_FLCFTMR2R_TWTO_CLRMASK ~(WORD)HW_FLCFTMR2R_TWTO_SETMASK
                             3687 ; 249  |#define HW_FLCFTMR2R_THW_CLRMASK ~(WORD)HW_FLCFTMR2R_THW_SETMASK
                             3688 ; 250  |#define HW_FLCFTMR2R_TRAQ_CLRMASK ~(WORD)HW_FLCFTMR2R_TRAQ_SETMASK
                             3689 ; 251  |
                             3690 ; 252  |
                             3691 ; 253  |/////////////////////////////////////////////////////////////////////////////////
                             3692 ; 254  |//  EMC Flash SmartMedia Control Register (HW_FLSMCR) Bit Definitions
                             3693 ; 255  |
                             3694 ; 256  |typedef union           /* Flash SmartMedia Control Register*/
                             3695 ; 257  |{
                             3696 ; 258  |    struct
                             3697 ; 259  |    {
                             3698 ; 260  |        unsigned CS     :2;
                             3699 ; 261  |        int SE          :1;
                             3700 ; 262  |        int WP          :1;
                             3701 ; 263  |        int SIZE        :1;
                             3702 ; 264  |        int ICMD        :8;
                             3703 ; 265  |        int TOIE        :1;
                             3704 ; 266  |        int BPIE        :1;
                             3705 ; 267  |        int TOIRQ       :1;
                             3706 ; 268  |        int BPIRQ       :1;
                             3707 ; 269  |    } B;
                             3708 ; 270  |    int I;
                             3709 ; 271  |} flsmcr_type;
                             3710 ; 272  |
                             3711 ; 273  |#define HW_FLSMCR_CS_BITPOS 0
                             3712 ; 274  |#define HW_FLSMCR_SE_BITPOS 2
                             3713 ; 275  |#define HW_FLSMCR_WP_BITPOS 3
                             3714 ; 276  |#define HW_FLSMCR_SIZE_BITPOS 4
                             3715 ; 277  |#define HW_FLSMCR_ICMD_BITPOS 5
                             3716 ; 278  |#define HW_FLSMCR_TOIE_BITPOS 13
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  63

M:ADDR CODE           CYCLES LINE SOURCELINE
                             3717 ; 279  |#define HW_FLSMCR_BPIE_BITPOS 14
                             3718 ; 280  |#define HW_FLSMCR_TOIRQ_BITPOS 15
                             3719 ; 281  |#define HW_FLSMCR_BPIRQ_BITPOS 16
                             3720 ; 282  |
                             3721 ; 283  |#define HW_FLSMCR_CS_SETMASK 1<<HW_FLSMCR_CS_BITPOS
                             3722 ; 284  |#define HW_FLSMCR_SE_SETMASK 1<<HW_FLSMCR_SE_BITPOS
                             3723 ; 285  |#define HW_FLSMCR_WP_SETMASK 1<<HW_FLSMCR_WP_BITPOS
                             3724 ; 286  |#define HW_FLSMCR_SIZE_SETMASK 1<<HW_FLSMCR_SIZE_BITPOS
                             3725 ; 287  |#define HW_FLSMCR_ICMD_SETMASK (0xFF)<<HW_FLSMCR_ICMD_BITPOS
                             3726 ; 288  |#define HW_FLSMCR_TOIE_SETMASK 1<<HW_FLSMCR_TOIE_BITPOS
                             3727 ; 289  |#define HW_FLSMCR_BPIE_SETMASK 1<<HW_FLSMCR_BPIE_BITPOS
                             3728 ; 290  |#define HW_FLSMCR_TOIRQ_SETMASK 1<<HW_FLSMCR_TOIRQ_BITPOS
                             3729 ; 291  |#define HW_FLSMCR_BPIRQ_SETMASK 1<<HW_FLSMCR_BPIRQ_BITPOS
                             3730 ; 292  |
                             3731 ; 293  |#define HW_FLSMCR_SE_ASSERT_SETMASK 0x000000
                             3732 ; 294  |#define HW_FLSMCR_SE_DEASSERT_SETMASK 0x000004
                             3733 ; 295  |#define HW_FLSMCR_WP_ASSERT_SETMASK 0x000000
                             3734 ; 296  |#define HW_FLSMCR_WP_DEASSERT_SETMASK 0x000008
                             3735 ; 297  |#define HW_FLSMCR_SIZE_SMALL_SETMASK 0x000000
                             3736 ; 298  |#define HW_FLSMCR_SIZE_LARGE_SETMASK 0x000010
                             3737 ; 299  |#define HW_FLSMCR_ICMD_RESET_SETMASK 0x001FE0
                             3738 ; 300  |#define HW_FLSMCR_ICMD_READ_STATUS_SETMASK 0x000E00
                             3739 ; 301  |#define HW_FLSMCR_ICMD_BLOCK_ERASE_SETMASK 0x000C00
                             3740 ; 302  |#define HW_FLSMCR_ICMD_ERASE_SETMASK 0x001A00
                             3741 ; 303  |#define HW_FLSMCR_ICMD_RP_FIRST_SETMASK 0x000000
                             3742 ; 304  |#define HW_FLSMCR_ICMD_RP_SECOND_SETMASK 0x000020
                             3743 ; 305  |#define HW_FLSMCR_ICMD_RP_SPARE_SETMASK 0x000A00
                             3744 ; 306  |#define HW_FLSMCR_ICMD_READ_ID_SETMASK 0x001200
                             3745 ; 307  |
                             3746 ; 308  |#define HW_FLSMCR_CS_CLRMASK ~(WORD)HW_FLSMCR_CS_SETMASK
                             3747 ; 309  |#define HW_FLSMCR_SE_CLRMASK ~(WORD)HW_FLSMCR_SE_SETMASK
                             3748 ; 310  |#define HW_FLSMCR_WP_CLRMASK ~(WORD)HW_FLSMCR_WP_SETMASK
                             3749 ; 311  |#define HW_FLSMCR_SIZE_CLRMASK ~(WORD)HW_FLSMCR_SIZE_SETMASK
                             3750 ; 312  |#define HW_FLSMCR_ICMD_CLRMASK ~(WORD)HW_FLSMCR_ICMD_SETMASK
                             3751 ; 313  |#define HW_FLSMCR_TOIE_CLRMASK ~(WORD)HW_FLSMCR_TOIE_SETMASK
                             3752 ; 314  |#define HW_FLSMCR_BPIE_CLRMASK ~(WORD)HW_FLSMCR_BPIE_SETMASK
                             3753 ; 315  |#define HW_FLSMCR_TOIRQ_CLRMASK ~(WORD)HW_FLSMCR_TOIRQ_SETMASK
                             3754 ; 316  |#define HW_FLSMCR_BPIRQ_CLRMASK ~(WORD)HW_FLSMCR_BPIRQ_SETMASK
                             3755 ; 317  |
                             3756 ; 318  |
                             3757 ; 319  |/////////////////////////////////////////////////////////////////////////////////
                             3758 ; 320  |//  EMC Flash SmartMedia Timer1 Register (HW_FLSMTMR1R) Bit Definitions
                             3759 ; 321  |
                             3760 ; 322  |typedef union           /* Flash SmartMedia Timer1 Register*/
                             3761 ; 323  |{
                             3762 ; 324  |    struct
                             3763 ; 325  |    {
                             3764 ; 326  |        unsigned TRWSU  :5;
                             3765 ; 327  |        unsigned TRPW   :6;
                             3766 ; 328  |        unsigned TWPW   :6;
                             3767 ; 329  |        unsigned TRWH   :5;
                             3768 ; 330  |    } B;
                             3769 ; 331  |    int I;
                             3770 ; 332  |} flsmtmr1r_type;
                             3771 ; 333  |
                             3772 ; 334  |#define HW_FLSMTMR1R_TRWSU_BITPOS 0
                             3773 ; 335  |#define HW_FLSMTMR1R_TRPW_BITPOS 5
                             3774 ; 336  |#define HW_FLSMTMR1R_TWPW_BITPOS 11
                             3775 ; 337  |#define HW_FLSMTMR1R_TRWH_BITPOS 17
                             3776 ; 338  |
                             3777 ; 339  |#define HW_FLSMTMR1R_TRWSU_SETMASK 0x1F<<HW_FLSMTMR1R_TRWSU_BITPOS
                             3778 ; 340  |#define HW_FLSMTMR1R_TRPW_SETMASK 0x3F<<HW_FLSMTMR1R_TRPW_BITPOS
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  64

M:ADDR CODE           CYCLES LINE SOURCELINE
                             3779 ; 341  |#define HW_FLSMTMR1R_TWPW_SETMASK 0x3F<<HW_FLSMTMR1R_TWPW_BITPOS
                             3780 ; 342  |#define HW_FLSMTMR1R_TRWH_SETMASK 0x1F<<HW_FLSMTMR1R_TRWH_BITPOS
                             3781 ; 343  |
                             3782 ; 344  |#define HW_FLSMTMR1R_TRWSU_CLRMASK ~(WORD)HW_FLSMTMR1R_TRWSU_SETMASK
                             3783 ; 345  |#define HW_FLSMTMR1R_TRPW_CLRMASK ~(WORD)HW_FLSMTMR1R_TRPW_SETMASK
                             3784 ; 346  |#define HW_FLSMTMR1R_TWPW_CLRMASK ~(WORD)HW_FLSMTMR1R_TWPW_SETMASK
                             3785 ; 347  |#define HW_FLSMTMR1R_TRWH_CLRMASK ~(WORD)HW_FLSMTMR1R_TRWH_SETMASK
                             3786 ; 348  |
                             3787 ; 349  |
                             3788 ; 350  |/////////////////////////////////////////////////////////////////////////////////
                             3789 ; 351  |//  EMC Flash SmartMedia Timer2 Register (HW_FLSMTMR2R) Bit Definitions
                             3790 ; 352  |
                             3791 ; 353  |typedef union           /* Flash SmartMedia Timer2 Register*/
                             3792 ; 354  |{
                             3793 ; 355  |    struct
                             3794 ; 356  |    {
                             3795 ; 357  |        unsigned TWT    :6;
                             3796 ; 358  |        unsigned TWTO   :18;
                             3797 ; 359  |    } B;
                             3798 ; 360  |    int I;
                             3799 ; 361  |} flsmtmr2r_type;
                             3800 ; 362  |
                             3801 ; 363  |#define HW_FLSMTMR2R_TWT_BITPOS 0
                             3802 ; 364  |#define HW_FLSMTMR2R_TWTO_BITPOS 6
                             3803 ; 365  |
                             3804 ; 366  |#define HW_FLSMTMR2R_TWT_SETMASK 0x3F<<HW_FLSMTMR2R_TWT_BITPOS
                             3805 ; 367  |#define HW_FLSMTMR2R_TWTO_SETMASK 0x3FF<<HW_FLSMTMR2R_TWTO_BITPOS
                             3806 ; 368  |
                             3807 ; 369  |#define HW_FLSMTMR2R_TWT_CLRMASK ~(WORD)HW_FLSMTMR2R_TWT_SETMASK
                             3808 ; 370  |#define HW_FLSMTMR2R_TWTO_CLRMASK ~(WORD)HW_FLSMTMR2R_TWTO_SETMASK
                             3809 ; 371  |
                             3810 ; 372  |/*//////////////////////////////////////////////////////////////////////////////
                             3811 ; 373  |  //  EMC Flash Control Status Register2 (HW_FLCR2) Bit Definitions     */
                             3812 ; 374  |typedef union 
                             3813 ; 375  |{
                             3814 ; 376  |  struct
                             3815 ; 377  |  {
                             3816 ; 378  |    unsigned ASEL     :2;        /* Memory Select */
                             3817 ; 379  |    unsigned RA       :1;        /* Right Align word into 24bit memory for True IDE  xfers
                                   */
                             3818 ; 380  |    unsigned LA       :1;        /* Left  Align word into 24bit memory for True IDE  xfers
                                   */
                             3819 ; 381  |    unsigned NEGDMA   :1;        /* Inverts data from Flash to memory */
                             3820 ; 382  |    unsigned NEGFL    :1;        /* Inverts data from memory to Flash */
                             3821 ; 383  |    unsigned CLKOFF   :1;        /* Power down - turns clk off */
                             3822 ; 384  |    int PAD0          :17;    
                             3823 ; 385  |  } B;
                             3824 ; 386  |  int I;
                             3825 ; 387  |} flcr2_type;
                             3826 ; 388  |
                             3827 ; 389  |/////////////////////////////////////////////////////////////////////////////////
                             3828 ; 390  |//  EMC Flash SmartMedia Status Register (HW_FLSMSR) Bit Definitions
                             3829 ; 391  |#define HW_FLSMSR_RDY_BITPOS 0
                             3830 ; 392  |#define HW_FLSMSR_BUSY_BITPOS 7
                             3831 ; 393  |
                             3832 ; 394  |#define HW_FLCR      (*(volatile flcr_type      _X*) (HW_EMC_BASEADDR))    /* EMC Flash Co
                                  ntrol Register */
                             3833 ; 395  |#define HW_FLSALR    (*(volatile flsalr_type    _X*) (HW_EMC_BASEADDR+1))  /* EMC Flash St
                                  art Address Low Register */
                             3834 ; 396  |#define HW_FLSAHR    (*(volatile flsahr_type    _X*) (HW_EMC_BASEADDR+2))  /* EMC Flash St
                                  art Address High Register */
                             3835 ; 397  |#define HW_FLSSMPR   (*(volatile flssmpr_type   _X*) (HW_EMC_BASEADDR+3))  /*  */
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  65

M:ADDR CODE           CYCLES LINE SOURCELINE
                             3836 ; 398  |#define HW_FLCR2     (*(volatile flcr2_type     _X*) (HW_EMC_BASEADDR+4))  /* EMC Flash Co
                                  ntrol Register2 */
                             3837 ; 399  |#define HW_FLCFCR    (*(volatile flcfcr_type    _X*) (HW_EMC_BASEADDR+8))  /* EMC Flash Co
                                  mpactFlash Control Register*/
                             3838 ; 400  |#define HW_FLCFTMR1R (*(volatile flcftmr1r_type _X*) (HW_EMC_BASEADDR+9))  /* EMC Flash Co
                                  mpact Flash Timer1 Register*/
                             3839 ; 401  |#define HW_FLCFTMR2R (*(volatile flcftmr2r_type _X*) (HW_EMC_BASEADDR+10)) /* EMC Flash Co
                                  mpact Flash Timer2 Register*/
                             3840 ; 402  |#define HW_FLSMCR    (*(volatile flsmcr_type    _X*) (HW_EMC_BASEADDR+16)) /* EMC Flash Sm
                                  artMedia Control Register*/
                             3841 ; 403  |#define HW_FLSMTMR1R (*(volatile flsmtmr1r_type _X*) (HW_EMC_BASEADDR+17)) /* EMC Flash Sm
                                  artMedia Timer1 Register*/
                             3842 ; 404  |#define HW_FLSMTMR2R (*(volatile flsmtmr2r_type _X*) (HW_EMC_BASEADDR+18)) /* EMC Flash Sm
                                  artMedia Timer2 Register*/
                             3843 ; 405  |#define HW_FLSMSR    (*(volatile flssmsr_type   _X*) (HW_EMC_BASEADDR+19)) /*  */
                             3844 ; 406  |
                             3845 ; 407  |//*********************  REGISTER ALIAS DEFINES TO MATCH LEGACY CODE *********************
                                  **********
                             3846 ; 408  |// The following defines were added to match regs3410.inc definition to build SDK2XXX code
                                   without needing 
                             3847 ; 409  |// to update the actual files. Only the defines needed to build SDK2.400 were added.
                             3848 ; 410  |
                             3849 ; 411  |#define HW_FLC2R HW_EMC_BASEADDR+4
                             3850 ; 412  |
                             3851 ; 413  |#endif
                             3852 ; 414  |
                             3853 
                             3855 
                             3856 ; 22   |#include "regsgpio.h"
                             3857 
                             3859 
                             3860 ; 1    |#if !(defined(__REGS_GPIO_INC))
                             3861 ; 2    |#define __REGS_GPIO_INC 1
                             3862 ; 3    |
                             3863 ; 4    |#include "types.h"
                             3864 
                             3866 
                             3867 ; 1    |////////////////////////////////////////////////////////////////////////////////
                             3868 ; 2    |// Copyright(C) SigmaTel, Inc. 2000-2004
                             3869 ; 3    |//
                             3870 ; 4    |// Filename: types.h
                             3871 ; 5    |// Description: Standard data types
                             3872 ; 6    |////////////////////////////////////////////////////////////////////////////////
                             3873 ; 7    |
                             3874 ; 8    |#ifndef _TYPES_H
                             3875 ; 9    |#define _TYPES_H
                             3876 ; 10   |
                             3877 ; 11   |// TODO:  move this outta here!
                             3878 ; 12   |#if !defined(NOERROR)
                             3879 ; 13   |#define NOERROR 0
                             3880 ; 14   |#define SUCCESS 0
                             3881 ; 15   |#endif 
                             3882 ; 16   |#if !defined(SUCCESS)
                             3883 ; 17   |#define SUCCESS  0
                             3884 ; 18   |#endif
                             3885 ; 19   |#if !defined(ERROR)
                             3886 ; 20   |#define ERROR   -1
                             3887 ; 21   |#endif
                             3888 ; 22   |#if !defined(FALSE)
                             3889 ; 23   |#define FALSE 0
                             3890 ; 24   |#endif
                             3891 ; 25   |#if !defined(TRUE)
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  66

M:ADDR CODE           CYCLES LINE SOURCELINE
                             3892 ; 26   |#define TRUE  1
                             3893 ; 27   |#endif
                             3894 ; 28   |
                             3895 ; 29   |#if !defined(NULL)
                             3896 ; 30   |#define NULL 0
                             3897 ; 31   |#endif
                             3898 ; 32   |
                             3899 ; 33   |#define MAX_INT     0x7FFFFF
                             3900 ; 34   |#define MAX_LONG    0x7FFFFFffffff
                             3901 ; 35   |        // max positive unsigned long value: -1 == 0xFFFFFFffffff
                             3902 ; 36   |#define MAX_ULONG   (-1) 
                             3903 ; 37   |
                             3904 ; 38   |#define WORD_SIZE   24              // word size in bits
                             3905 ; 39   |#define BYTES_PER_WORD 3            // 8 bit bytes
                             3906 ; 40   |
                             3907 ; 41   |
                             3908 ; 42   |#define BYTE    unsigned char       // btVarName
                             3909 ; 43   |#define CHAR    signed char         // cVarName
                             3910 ; 44   |#define USHORT  unsigned short      // usVarName
                             3911 ; 45   |#define SHORT   unsigned short      // sVarName
                             3912 ; 46   |#define WORD    unsigned int        // wVarName
                             3913 ; 47   |#define INT     signed int          // iVarName
                             3914 ; 48   |#define DWORD   unsigned long       // dwVarName
                             3915 ; 49   |#define LONG    signed long         // lVarName
                             3916 ; 50   |#define BOOL    unsigned int        // bVarName
                             3917 ; 51   |#define FRACT   _fract              // frVarName
                             3918 ; 52   |#define LFRACT  long _fract         // lfrVarName
                             3919 ; 53   |#define CIRC    _circ               // cp<type prefix>VarName (see below)
                             3920 ; 54   |#define FLOAT   float               // fVarName
                             3921 ; 55   |#define DBL     double              // dVarName
                             3922 ; 56   |#define ENUM    enum                // eVarName
                             3923 ; 57   |#define CMX     _complex            // cmxVarName
                             3924 ; 58   |typedef WORD UCS3;                   // 
                             3925 ; 59   |
                             3926 ; 60   |#define UINT16  unsigned short
                             3927 ; 61   |#define UINT8   unsigned char   
                             3928 ; 62   |#define UINT32  unsigned long
                             3929 ; 63   |#define UINT64  unsigned long   // need to figure out how to do 64 bit values.  Or port ex
                                  isiting code to only use 48 bit
                             3930 ; 64   |#define INT64   unsigned long   // need to figure out how to do 64 bit values.  Or port ex
                                  isiting code to only use 48 bit
                             3931 ; 65   |#define WCHAR   UINT16
                             3932 ; 66   |
                             3933 ; 67   |//UINT128 is 16 bytes or 6 words
                             3934 ; 68   |typedef struct UINT128_3500 {   
                             3935 ; 69   |    int val[6];     
                             3936 ; 70   |} UINT128_3500;
                             3937 ; 71   |
                             3938 ; 72   |#define UINT128   UINT128_3500
                             3939 ; 73   |
                             3940 ; 74   |// Little endian word packed byte strings:   
                             3941 ; 75   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                             3942 ; 76   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                             3943 ; 77   |// Little endian word packed byte strings:   
                             3944 ; 78   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                             3945 ; 79   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                             3946 ; 80   |
                             3947 ; 81   |// Declare Memory Spaces To Use When Coding
                             3948 ; 82   |// A. Sector Buffers
                             3949 ; 83   |#define SECTOR_BUFFER_MEM_X _X
                             3950 ; 84   |#define SECTOR_BUFFER_MEM_Y _Y
                             3951 ; 85   |#define SECTOR_BUFFER_MEM SECTOR_BUFFER_MEM_X
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  67

M:ADDR CODE           CYCLES LINE SOURCELINE
                             3952 ; 86   |typedef WORD SECTOR_BUFFER_MEM SECTOR_BUFFER;
                             3953 ; 87   |typedef SECTOR_BUFFER * P_SECTOR_BUFFER;
                             3954 ; 88   |// B. Media DDI Memory
                             3955 ; 89   |#define MEDIA_DDI_MEM _Y
                             3956 ; 90   |
                             3957 ; 91   |
                             3958 ; 92   |
                             3959 ; 93   |// Pointers to linear structures are labeled as: p<type prefix>VarName
                             3960 ; 94   |// Examples of circular pointers:
                             3961 ; 95   |//    INT CIRC cpiVarName
                             3962 ; 96   |//    DWORD CIRC cpdwVarName
                             3963 ; 97   |
                             3964 ; 98   |#define RETCODE INT                 // rcVarName
                             3965 ; 99   |
                             3966 ; 100  |// generic bitfield structure
                             3967 ; 101  |struct Bitfield {
                             3968 ; 102  |    unsigned int B0  :1;
                             3969 ; 103  |    unsigned int B1  :1;
                             3970 ; 104  |    unsigned int B2  :1;
                             3971 ; 105  |    unsigned int B3  :1;
                             3972 ; 106  |    unsigned int B4  :1;
                             3973 ; 107  |    unsigned int B5  :1;
                             3974 ; 108  |    unsigned int B6  :1;
                             3975 ; 109  |    unsigned int B7  :1;
                             3976 ; 110  |    unsigned int B8  :1;
                             3977 ; 111  |    unsigned int B9  :1;
                             3978 ; 112  |    unsigned int B10 :1;
                             3979 ; 113  |    unsigned int B11 :1;
                             3980 ; 114  |    unsigned int B12 :1;
                             3981 ; 115  |    unsigned int B13 :1;
                             3982 ; 116  |    unsigned int B14 :1;
                             3983 ; 117  |    unsigned int B15 :1;
                             3984 ; 118  |    unsigned int B16 :1;
                             3985 ; 119  |    unsigned int B17 :1;
                             3986 ; 120  |    unsigned int B18 :1;
                             3987 ; 121  |    unsigned int B19 :1;
                             3988 ; 122  |    unsigned int B20 :1;
                             3989 ; 123  |    unsigned int B21 :1;
                             3990 ; 124  |    unsigned int B22 :1;
                             3991 ; 125  |    unsigned int B23 :1;
                             3992 ; 126  |};
                             3993 ; 127  |
                             3994 ; 128  |union BitInt {
                             3995 ; 129  |        struct Bitfield B;
                             3996 ; 130  |        int        I;
                             3997 ; 131  |};
                             3998 ; 132  |
                             3999 ; 133  |#define MAX_MSG_LENGTH 10
                             4000 ; 134  |struct CMessage
                             4001 ; 135  |{
                             4002 ; 136  |        unsigned int m_uLength;
                             4003 ; 137  |        unsigned int m_uMsg[MAX_MSG_LENGTH];
                             4004 ; 138  |};
                             4005 ; 139  |
                             4006 ; 140  |typedef struct {
                             4007 ; 141  |    WORD m_wLength;
                             4008 ; 142  |    WORD m_wMessage;
                             4009 ; 143  |    WORD m_wParams[MAX_MSG_LENGTH];
                             4010 ; 144  |} Message;
                             4011 ; 145  |
                             4012 ; 146  |struct MessageQueueDescriptor
                             4013 ; 147  |{
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  68

M:ADDR CODE           CYCLES LINE SOURCELINE
                             4014 ; 148  |        int *m_pBase;
                             4015 ; 149  |        int m_iModulo;
                             4016 ; 150  |        int m_iSize;
                             4017 ; 151  |        int *m_pHead;
                             4018 ; 152  |        int *m_pTail;
                             4019 ; 153  |};
                             4020 ; 154  |
                             4021 ; 155  |struct ModuleEntry
                             4022 ; 156  |{
                             4023 ; 157  |    int m_iSignaledEventMask;
                             4024 ; 158  |    int m_iWaitEventMask;
                             4025 ; 159  |    int m_iResourceOfCode;
                             4026 ; 160  |    struct MessageQueueDescriptor *m_pMessageQueue;
                             4027 ; 161  |    int _asmfunc (*m_pProcessEntryPoint)(union WaitMask Signals,struct MessageQueueDescrip
                                  tor *);
                             4028 ; 162  |    int _asmfunc (*m_pInitFunction)(struct MessageQueueDescriptor *);
                             4029 ; 163  |    int m_uTimeOutHigh;
                             4030 ; 164  |    int m_uTimeOutLow;
                             4031 ; 165  |    int _asmfunc (*m_pBackgroundFunction)(struct MessageQueueDescriptor *);
                             4032 ; 166  |};
                             4033 ; 167  |
                             4034 ; 168  |union WaitMask{
                             4035 ; 169  |    struct B{
                             4036 ; 170  |        unsigned int m_bNone     :1;
                             4037 ; 171  |        unsigned int m_bMessage  :1;
                             4038 ; 172  |        unsigned int m_bTimer    :1;
                             4039 ; 173  |        unsigned int m_bButton   :1;
                             4040 ; 174  |    } B;
                             4041 ; 175  |    int I;
                             4042 ; 176  |} ;
                             4043 ; 177  |
                             4044 ; 178  |
                             4045 ; 179  |struct Button {
                             4046 ; 180  |        WORD wButtonEvent;
                             4047 ; 181  |        WORD wUnused[MAX_MSG_LENGTH];   
                             4048 ; 182  |};
                             4049 ; 183  |
                             4050 ; 184  |struct Message {
                             4051 ; 185  |        WORD wMsgLength;
                             4052 ; 186  |        WORD wMsgCommand;
                             4053 ; 187  |        WORD wMsgParms[MAX_MSG_LENGTH-1];
                             4054 ; 188  |};
                             4055 ; 189  |
                             4056 ; 190  |union EventTypes {
                             4057 ; 191  |        struct CMessage msg;
                             4058 ; 192  |        struct Button Button ;
                             4059 ; 193  |        struct Message Message;
                             4060 ; 194  |};
                             4061 ; 195  |
                             4062 ; 196  |// next 2 used to get updater build to return correct protocol ver in scsi response.
                             4063 ; 197  |#define BUILD_TYPE_UPDATER  0x100
                             4064 ; 198  |#define BUILD_TYPE_HOSTLINK 0x101
                             4065 ; 199  |#define BUILD_TYPE_PLAYER   0x102
                             4066 ; 200  |
                             4067 ; 201  |// Resets part if RETAIL build. DEBUG build executes debug instruction to halt.
                             4068 ; 202  |#define SystemHalt() __asm(" include 'sysmacro.asm' \n error") 
                             4069 ; 203  |#define assert(x)    if(!(x)) __asm(" include 'sysmacro.asm' \n error")
                             4070 ; 204  |
                             4071 ; 205  |#if DEBUG
                             4072 ; 206  |// For DEBUG builds, DebugBuildAssert(condition) halts if condition evaluates to FALSE. 
                             4073 ; 207  |#define DebugBuildAssert(x)    if(!(x)) __asm(" debug ")
                             4074 ; 208  |#else 
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  69

M:ADDR CODE           CYCLES LINE SOURCELINE
                             4075 ; 209  |// For RETAIL builds, DebugBuildAssert(condition) does nothing & execution continues rathe
                                  r than halt or reset. 
                             4076 ; 210  |#define DebugBuildAssert(x)    
                             4077 ; 211  |#endif
                             4078 ; 212  |
                             4079 ; 213  |// Do this in your C files to make a reminder that's displayed during the build.
                             4080 ; 214  |//  #pragma asm
                             4081 ; 215  |//  WARN 'Note to builder: reminder to do this after verifying that'
                             4082 ; 216  |//  #pragma endasm
                             4083 ; 217  |
                             4084 ; 218  |
                             4085 ; 219  |#ifdef COLOR_262K
                             4086 ; 220  |#define RGB(r,g,b)    ((0x0000FC & (r)) << 10) | ((0x0000FC & (g)) << 4) | ((0x0000FC & (b
                                  )) >> 2)    //262k
                             4087 ; 221  |#elif defined(COLOR_65K)
                             4088 ; 222  |#define RGB(r,g,b)    ((0x0000F8 & (r)) << 8) | ((0x0000FC & (g)) << 3) | ((0x0000F8 & (b)
                                  ) >> 3)  //65k
                             4089 ; 223  |#else
                             4090 ; 224  |#define RGB(r,g,b)       ((0x0000F0 & (r)) << 4) | (0x0000F0 & (g)) | ((0x0000F0 & (b)) >>
                                   4)
                             4091 ; 225  |#endif
                             4092 ; 226  |    
                             4093 ; 227  |#endif // #ifndef _TYPES_H
                             4094 
                             4096 
                             4097 ; 5    |
                             4098 ; 6    |/////////////////////////////////////////////////////////////////////////////////
                             4099 ; 7    |//  Interrupt Collector Registers
                             4100 ; 8    |/////////////////////////////////////////////////////////////////////////////////
                             4101 ; 9    |
                             4102 ; 10   |#define HW_GPIO_BASEADDR 0xF400
                             4103 ; 11   |
                             4104 ; 12   |#define HW_GPB0_BASEADDR HW_GPIO_BASEADDR
                             4105 ; 13   |#define HW_GPB1_BASEADDR HW_GPIO_BASEADDR+0x10
                             4106 ; 14   |#define HW_GPB2_BASEADDR HW_GPIO_BASEADDR+0x20
                             4107 ; 15   |#define HW_GPB3_BASEADDR HW_GPIO_BASEADDR+0x30
                             4108 ; 16   |
                             4109 ; 17   |#define HW_GPB0_BLOCKNUM 0
                             4110 ; 18   |#define HW_GPB1_BLOCKNUM 1
                             4111 ; 19   |#define HW_GPB2_BLOCKNUM 2
                             4112 ; 20   |#define HW_GPB3_BLOCKNUM 3
                             4113 ; 21   |
                             4114 ; 22   |#define HW_GPB_GPENR 0
                             4115 ; 23   |#define HW_GPB_GPDOR 1
                             4116 ; 24   |#define HW_GPB_GPDIR 2
                             4117 ; 25   |#define HW_GPB_GPDOER 3
                             4118 ; 26   |#define HW_GPB_GPIPENR 4
                             4119 ; 27   |#define HW_GPB_GPIENR 5
                             4120 ; 28   |#define HW_GPB_GPILVLR 6
                             4121 ; 29   |#define HW_GPB_GPIPOLR 7
                             4122 ; 30   |#define HW_GPB_GPISTATR 8
                             4123 ; 31   |#define HW_GPB_GPPWR 9
                             4124 ; 32   |#define HW_GPB_GP8MA 10
                             4125 ; 33   |
                             4126 ; 34   |
                             4127 ; 35   |
                             4128 ; 36   |/////////////////////////////////////////////////////////////////////////////////
                             4129 ; 37   |//  GPIO Register Bit Positions
                             4130 ; 38   |typedef union               /* GPIO Pin Register Bank 0 */
                             4131 ; 39   |{
                             4132 ; 40   |    struct Bitfield B;      // Bitfield is generic structure B0 - B23 in types.h
                             4133 ; 41   |    unsigned int I;
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  70

M:ADDR CODE           CYCLES LINE SOURCELINE
                             4134 ; 42   |    unsigned int U;
                             4135 ; 43   |} gpr_type;
                             4136 ; 44   |
                             4137 ; 45   |#define HW_GP_B0_BITPOS 0
                             4138 ; 46   |#define HW_GP_B1_BITPOS 1
                             4139 ; 47   |#define HW_GP_B2_BITPOS 2
                             4140 ; 48   |#define HW_GP_B3_BITPOS 3
                             4141 ; 49   |#define HW_GP_B4_BITPOS 4
                             4142 ; 50   |#define HW_GP_B5_BITPOS 5
                             4143 ; 51   |#define HW_GP_B6_BITPOS 6
                             4144 ; 52   |#define HW_GP_B7_BITPOS 7
                             4145 ; 53   |#define HW_GP_B8_BITPOS 8
                             4146 ; 54   |#define HW_GP_B9_BITPOS 9
                             4147 ; 55   |#define HW_GP_B10_BITPOS 10
                             4148 ; 56   |#define HW_GP_B11_BITPOS 11
                             4149 ; 57   |#define HW_GP_B12_BITPOS 12
                             4150 ; 58   |#define HW_GP_B13_BITPOS 13
                             4151 ; 59   |#define HW_GP_B14_BITPOS 14
                             4152 ; 60   |#define HW_GP_B15_BITPOS 15
                             4153 ; 61   |#define HW_GP_B16_BITPOS 16
                             4154 ; 62   |#define HW_GP_B17_BITPOS 17
                             4155 ; 63   |#define HW_GP_B18_BITPOS 18
                             4156 ; 64   |#define HW_GP_B19_BITPOS 19
                             4157 ; 65   |#define HW_GP_B20_BITPOS 20
                             4158 ; 66   |#define HW_GP_B21_BITPOS 21
                             4159 ; 67   |#define HW_GP_B22_BITPOS 22
                             4160 ; 68   |#define HW_GP_B23_BITPOS 23
                             4161 ; 69   |
                             4162 ; 70   |#define HW_GP_B0_SETMASK (1<<HW_GP_B0_BITPOS)
                             4163 ; 71   |#define HW_GP_B1_SETMASK (1<<HW_GP_B1_BITPOS)
                             4164 ; 72   |#define HW_GP_B2_SETMASK (1<<HW_GP_B2_BITPOS)
                             4165 ; 73   |#define HW_GP_B3_SETMASK (1<<HW_GP_B3_BITPOS)
                             4166 ; 74   |#define HW_GP_B4_SETMASK (1<<HW_GP_B4_BITPOS)
                             4167 ; 75   |#define HW_GP_B5_SETMASK (1<<HW_GP_B5_BITPOS)
                             4168 ; 76   |#define HW_GP_B6_SETMASK (1<<HW_GP_B6_BITPOS)
                             4169 ; 77   |#define HW_GP_B7_SETMASK (1<<HW_GP_B7_BITPOS)
                             4170 ; 78   |#define HW_GP_B8_SETMASK (1<<HW_GP_B8_BITPOS)
                             4171 ; 79   |#define HW_GP_B9_SETMASK (1<<HW_GP_B9_BITPOS)
                             4172 ; 80   |#define HW_GP_B10_SETMASK (1<<HW_GP_B10_BITPOS)
                             4173 ; 81   |#define HW_GP_B11_SETMASK (1<<HW_GP_B11_BITPOS)
                             4174 ; 82   |#define HW_GP_B12_SETMASK (1<<HW_GP_B12_BITPOS)
                             4175 ; 83   |#define HW_GP_B13_SETMASK (1<<HW_GP_B13_BITPOS)
                             4176 ; 84   |#define HW_GP_B14_SETMASK (1<<HW_GP_B14_BITPOS)
                             4177 ; 85   |#define HW_GP_B15_SETMASK (1<<HW_GP_B15_BITPOS)
                             4178 ; 86   |#define HW_GP_B16_SETMASK (1<<HW_GP_B16_BITPOS)
                             4179 ; 87   |#define HW_GP_B17_SETMASK (1<<HW_GP_B17_BITPOS)
                             4180 ; 88   |#define HW_GP_B18_SETMASK (1<<HW_GP_B18_BITPOS)
                             4181 ; 89   |#define HW_GP_B19_SETMASK (1<<HW_GP_B19_BITPOS)
                             4182 ; 90   |#define HW_GP_B20_SETMASK (1<<HW_GP_B20_BITPOS)
                             4183 ; 91   |#define HW_GP_B21_SETMASK (1<<HW_GP_B21_BITPOS)
                             4184 ; 92   |#define HW_GP_B22_SETMASK (1<<HW_GP_B22_BITPOS)
                             4185 ; 93   |#define HW_GP_B23_SETMASK (1<<HW_GP_B23_BITPOS)
                             4186 ; 94   |
                             4187 ; 95   |#define HW_GP_B0_CLRMASK (~(WORD)HW_GP_B0_SETMASK)
                             4188 ; 96   |#define HW_GP_B1_CLRMASK (~(WORD)HW_GP_B1_SETMASK)
                             4189 ; 97   |#define HW_GP_B2_CLRMASK (~(WORD)HW_GP_B2_SETMASK)
                             4190 ; 98   |#define HW_GP_B3_CLRMASK (~(WORD)HW_GP_B3_SETMASK)
                             4191 ; 99   |#define HW_GP_B4_CLRMASK (~(WORD)HW_GP_B4_SETMASK)
                             4192 ; 100  |#define HW_GP_B5_CLRMASK (~(WORD)HW_GP_B5_SETMASK)
                             4193 ; 101  |#define HW_GP_B6_CLRMASK (~(WORD)HW_GP_B6_SETMASK)
                             4194 ; 102  |#define HW_GP_B7_CLRMASK (~(WORD)HW_GP_B7_SETMASK)
                             4195 ; 103  |#define HW_GP_B8_CLRMASK (~(WORD)HW_GP_B8_SETMASK)
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  71

M:ADDR CODE           CYCLES LINE SOURCELINE
                             4196 ; 104  |#define HW_GP_B9_CLRMASK (~(WORD)HW_GP_B9_SETMASK)
                             4197 ; 105  |#define HW_GP_B10_CLRMASK (~(WORD)HW_GP_B10_SETMASK)
                             4198 ; 106  |#define HW_GP_B11_CLRMASK (~(WORD)HW_GP_B11_SETMASK)
                             4199 ; 107  |#define HW_GP_B12_CLRMASK (~(WORD)HW_GP_B12_SETMASK)
                             4200 ; 108  |#define HW_GP_B13_CLRMASK (~(WORD)HW_GP_B13_SETMASK)
                             4201 ; 109  |#define HW_GP_B14_CLRMASK (~(WORD)HW_GP_B14_SETMASK)
                             4202 ; 110  |#define HW_GP_B15_CLRMASK (~(WORD)HW_GP_B15_SETMASK)
                             4203 ; 111  |#define HW_GP_B16_CLRMASK (~(WORD)HW_GP_B16_SETMASK)
                             4204 ; 112  |#define HW_GP_B17_CLRMASK (~(WORD)HW_GP_B17_SETMASK)
                             4205 ; 113  |#define HW_GP_B18_CLRMASK (~(WORD)HW_GP_B18_SETMASK)
                             4206 ; 114  |#define HW_GP_B19_CLRMASK (~(WORD)HW_GP_B19_SETMASK)
                             4207 ; 115  |#define HW_GP_B20_CLRMASK (~(WORD)HW_GP_B20_SETMASK)
                             4208 ; 116  |#define HW_GP_B21_CLRMASK (~(WORD)HW_GP_B21_SETMASK)
                             4209 ; 117  |#define HW_GP_B22_CLRMASK (~(WORD)HW_GP_B22_SETMASK)
                             4210 ; 118  |#define HW_GP_B23_CLRMASK (~(WORD)HW_GP_B23_SETMASK)
                             4211 ; 119  |
                             4212 ; 120  |/////////////////////////////////////////////////////////////////////////////////
                             4213 ; 121  |//  GPIO 8mA Register Bit Positions
                             4214 ; 122  |#define HW_GP8MA_B7_B0_BITPOS 0
                             4215 ; 123  |#define HW_GP8MA_B15_B8_BITPOS 1
                             4216 ; 124  |#define HW_GP8MA_B23_B16_BITPOS 2
                             4217 ; 125  |#define HW_GP8MA_CLK_GATE_BITPOS 23
                             4218 ; 126  |
                             4219 ; 127  |
                             4220 ; 128  |/////////////////////////////////////////////////////////////////////////////////
                             4221 ; 129  |//  Logical GPIO numbers
                             4222 ; 130  |#define HW_GPIO_000 0
                             4223 ; 131  |#define HW_GPIO_001 1
                             4224 ; 132  |#define HW_GPIO_002 2
                             4225 ; 133  |#define HW_GPIO_003 3
                             4226 ; 134  |#define HW_GPIO_004 4
                             4227 ; 135  |#define HW_GPIO_005 5
                             4228 ; 136  |#define HW_GPIO_006 6
                             4229 ; 137  |#define HW_GPIO_007 7
                             4230 ; 138  |#define HW_GPIO_008 8
                             4231 ; 139  |#define HW_GPIO_009 9
                             4232 ; 140  |#define HW_GPIO_010 10
                             4233 ; 141  |#define HW_GPIO_011 11
                             4234 ; 142  |#define HW_GPIO_012 12
                             4235 ; 143  |#define HW_GPIO_013 13
                             4236 ; 144  |#define HW_GPIO_014 14
                             4237 ; 145  |#define HW_GPIO_015 15
                             4238 ; 146  |#define HW_GPIO_016 16
                             4239 ; 147  |#define HW_GPIO_017 17
                             4240 ; 148  |#define HW_GPIO_018 18
                             4241 ; 149  |#define HW_GPIO_019 19
                             4242 ; 150  |#define HW_GPIO_020 20
                             4243 ; 151  |#define HW_GPIO_021 21
                             4244 ; 152  |#define HW_GPIO_022 22
                             4245 ; 153  |#define HW_GPIO_023 23
                             4246 ; 154  |#define HW_GPIO_024 24
                             4247 ; 155  |#define HW_GPIO_025 25
                             4248 ; 156  |#define HW_GPIO_026 26
                             4249 ; 157  |#define HW_GPIO_027 27
                             4250 ; 158  |#define HW_GPIO_028 28
                             4251 ; 159  |#define HW_GPIO_029 29
                             4252 ; 160  |#define HW_GPIO_030 30
                             4253 ; 161  |#define HW_GPIO_031 31
                             4254 ; 162  |#define HW_GPIO_032 32
                             4255 ; 163  |#define HW_GPIO_033 33
                             4256 ; 164  |#define HW_GPIO_034 34
                             4257 ; 165  |#define HW_GPIO_035 35
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  72

M:ADDR CODE           CYCLES LINE SOURCELINE
                             4258 ; 166  |#define HW_GPIO_036 36
                             4259 ; 167  |#define HW_GPIO_037 37
                             4260 ; 168  |#define HW_GPIO_038 38
                             4261 ; 169  |#define HW_GPIO_039 39
                             4262 ; 170  |#define HW_GPIO_040 40
                             4263 ; 171  |#define HW_GPIO_041 41
                             4264 ; 172  |#define HW_GPIO_042 42
                             4265 ; 173  |#define HW_GPIO_043 43
                             4266 ; 174  |#define HW_GPIO_044 44
                             4267 ; 175  |#define HW_GPIO_045 45
                             4268 ; 176  |#define HW_GPIO_046 46
                             4269 ; 177  |#define HW_GPIO_047 47
                             4270 ; 178  |#define HW_GPIO_048 48
                             4271 ; 179  |#define HW_GPIO_049 49
                             4272 ; 180  |#define HW_GPIO_050 50
                             4273 ; 181  |#define HW_GPIO_051 51
                             4274 ; 182  |#define HW_GPIO_052 52
                             4275 ; 183  |#define HW_GPIO_053 53
                             4276 ; 184  |#define HW_GPIO_054 54
                             4277 ; 185  |#define HW_GPIO_055 55
                             4278 ; 186  |#define HW_GPIO_056 56
                             4279 ; 187  |#define HW_GPIO_057 57
                             4280 ; 188  |#define HW_GPIO_058 58
                             4281 ; 189  |#define HW_GPIO_059 59
                             4282 ; 190  |#define HW_GPIO_060 60
                             4283 ; 191  |#define HW_GPIO_061 61
                             4284 ; 192  |#define HW_GPIO_062 62
                             4285 ; 193  |#define HW_GPIO_063 63
                             4286 ; 194  |#define HW_GPIO_064 64
                             4287 ; 195  |#define HW_GPIO_065 65
                             4288 ; 196  |#define HW_GPIO_066 66
                             4289 ; 197  |#define HW_GPIO_067 67
                             4290 ; 198  |#define HW_GPIO_068 68
                             4291 ; 199  |#define HW_GPIO_069 69
                             4292 ; 200  |#define HW_GPIO_070 70
                             4293 ; 201  |#define HW_GPIO_071 71
                             4294 ; 202  |#define HW_GPIO_072 72
                             4295 ; 203  |#define HW_GPIO_073 73
                             4296 ; 204  |#define HW_GPIO_074 74
                             4297 ; 205  |#define HW_GPIO_075 75
                             4298 ; 206  |#define HW_GPIO_076 76
                             4299 ; 207  |#define HW_GPIO_077 77
                             4300 ; 208  |#define HW_GPIO_078 78
                             4301 ; 209  |#define HW_GPIO_079 79
                             4302 ; 210  |#define HW_GPIO_080 80
                             4303 ; 211  |#define HW_GPIO_081 81
                             4304 ; 212  |#define HW_GPIO_082 82
                             4305 ; 213  |#define HW_GPIO_083 83
                             4306 ; 214  |#define HW_GPIO_084 84
                             4307 ; 215  |#define HW_GPIO_085 85
                             4308 ; 216  |#define HW_GPIO_086 86
                             4309 ; 217  |#define HW_GPIO_087 87
                             4310 ; 218  |#define HW_GPIO_088 88
                             4311 ; 219  |#define HW_GPIO_089 89
                             4312 ; 220  |#define HW_GPIO_090 90
                             4313 ; 221  |#define HW_GPIO_091 91
                             4314 ; 222  |#define HW_GPIO_092 92
                             4315 ; 223  |#define HW_GPIO_093 93
                             4316 ; 224  |#define HW_GPIO_094 94
                             4317 ; 225  |#define HW_GPIO_095 95
                             4318 ; 226  |#define HW_GPIO_LAST HW_GPIO_095
                             4319 ; 227  |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  73

M:ADDR CODE           CYCLES LINE SOURCELINE
                             4320 ; 228  |#define HW_GP0ENR      (*(volatile gpr_type _X*) (HW_GPB0_BASEADDR+HW_GPB_GPENR))  /* GPIO
                                   0 Enable Register   */
                             4321 ; 229  |#define HW_GP0DOR      (*(volatile gpr_type _X*) (HW_GPB0_BASEADDR+HW_GPB_GPDOR)) /* GPIO 
                                  0 Data Out Register */
                             4322 ; 230  |#define HW_GP0DIR      (*(volatile gpr_type _X*) (HW_GPB0_BASEADDR+HW_GPB_GPDIR)) /* GPIO 
                                  0 Dait In Register  */
                             4323 ; 231  |#define HW_GP0DOER     (*(volatile gpr_type _X*) (HW_GPB0_BASEADDR+HW_GPB_GPDOER)) /* GPIO
                                   0 Dait Out Enable Register  */
                             4324 ; 232  |#define HW_GP0IPENR    (*(volatile gpr_type _X*) (HW_GPB0_BASEADDR+HW_GPB_GPIPENR)) /* GPI
                                  O 0 Interrupt Pin Enable Register */
                             4325 ; 233  |#define HW_GP0IENR     (*(volatile gpr_type _X*) (HW_GPB0_BASEADDR+HW_GPB_GPIENR)) /* GPIO
                                   0 Interrupt Enable Register */
                             4326 ; 234  |#define HW_GP0ILVLR    (*(volatile gpr_type _X*) (HW_GPB0_BASEADDR+HW_GPB_GPILVLR)) /* GPI
                                  O 0 Interrupt Level Register  */
                             4327 ; 235  |#define HW_GP0IPOLR    (*(volatile gpr_type _X*) (HW_GPB0_BASEADDR+HW_GPB_GPIPOLR)) /* GPI
                                  O 0 Interrupt Polarity Register   */
                             4328 ; 236  |#define HW_GP0ISTATR   (*(volatile gpr_type _X*) (HW_GPB0_BASEADDR+HW_GPB_GPISTATR)) /* GP
                                  IO 0 Interrupt Status Register */
                             4329 ; 237  |#define HW_GP0PWR      (*(volatile gpr_type _X*) (HW_GPB0_BASEADDR+HW_GPB_GPPWR)) /* GPIO 
                                  0 Power Register */
                             4330 ; 238  |#define HW_GP08MA      (*(volatile gpr_type _X*) (HW_GPB0_BASEADDR+HW_GPB_GP8MA)) 
                             4331 ; 239  |#define HW_GP1ENR      (*(volatile gpr_type _X*) (HW_GPB1_BASEADDR+HW_GPB_GPENR))     /* G
                                  PIO 1 Enable Register   */
                             4332 ; 240  |#define HW_GP1DOR      (*(volatile gpr_type _X*) (HW_GPB1_BASEADDR+HW_GPB_GPDOR)) /* GPIO 
                                  1 Data Out Register */
                             4333 ; 241  |#define HW_GP1DIR      (*(volatile gpr_type _X*) (HW_GPB1_BASEADDR+HW_GPB_GPDIR)) /* GPIO 
                                  1 Dait In Register  */
                             4334 ; 242  |#define HW_GP1DOER     (*(volatile gpr_type _X*) (HW_GPB1_BASEADDR+HW_GPB_GPDOER)) /* GPIO
                                   1 Dait Out Enable Register  */
                             4335 ; 243  |#define HW_GP1IPENR    (*(volatile gpr_type _X*) (HW_GPB1_BASEADDR+HW_GPB_GPIPENR)) /* GPI
                                  O 1 Interrupt Pin Enable Register */
                             4336 ; 244  |#define HW_GP1IENR     (*(volatile gpr_type _X*) (HW_GPB1_BASEADDR+HW_GPB_GPIENR)) /* GPIO
                                   1 Interrupt Enable Register */
                             4337 ; 245  |#define HW_GP1ILVLR    (*(volatile gpr_type _X*) (HW_GPB1_BASEADDR+HW_GPB_GPILVLR)) /* GPI
                                  O 1 Interrupt Level Register  */
                             4338 ; 246  |#define HW_GP1IPOLR    (*(volatile gpr_type _X*) (HW_GPB1_BASEADDR+HW_GPB_GPIPOLR)) /* GPI
                                  O 1 Interrupt Polarity Register   */
                             4339 ; 247  |#define HW_GP1ISTATR   (*(volatile gpr_type _X*) (HW_GPB1_BASEADDR+HW_GPB_GPISTATR)) /* GP
                                  IO 1 Interrupt Status Register */
                             4340 ; 248  |#define HW_GP1PWR      (*(volatile gpr_type _X*) (HW_GPB1_BASEADDR+HW_GPB_GPPWR)) /* GPIO 
                                  0 Power Register */
                             4341 ; 249  |#define HW_GP18MA      (*(volatile gpr_type _X*) (HW_GPB1_BASEADDR+HW_GPB_GP8MA)) 
                             4342 ; 250  |#define HW_GP2ENR      (*(volatile gpr_type _X*) (HW_GPB2_BASEADDR+HW_GPB_GPENR))     /* G
                                  PIO 2 Enable Register   */
                             4343 ; 251  |#define HW_GP2DOR      (*(volatile gpr_type _X*) (HW_GPB2_BASEADDR+HW_GPB_GPDOR)) /* GPIO 
                                  2 Data Out Register */
                             4344 ; 252  |#define HW_GP2DIR      (*(volatile gpr_type _X*) (HW_GPB2_BASEADDR+HW_GPB_GPDIR)) /* GPIO 
                                  2 Dait In Register  */
                             4345 ; 253  |#define HW_GP2DOER     (*(volatile gpr_type _X*) (HW_GPB2_BASEADDR+HW_GPB_GPDOER)) /* GPIO
                                   2 Dait Out Enable Register  */
                             4346 ; 254  |#define HW_GP2IPENR    (*(volatile gpr_type _X*) (HW_GPB2_BASEADDR+HW_GPB_GPIPENR)) /* GPI
                                  O 2 Interrupt Pin Enable Register */
                             4347 ; 255  |#define HW_GP2IENR     (*(volatile gpr_type _X*) (HW_GPB2_BASEADDR+HW_GPB_GPIENR)) /* GPIO
                                   2 Interrupt Enable Register */
                             4348 ; 256  |#define HW_GP2ILVLR    (*(volatile gpr_type _X*) (HW_GPB2_BASEADDR+HW_GPB_GPILVLR)) /* GPI
                                  O 2 Interrupt Level Register  */
                             4349 ; 257  |#define HW_GP2IPOLR    (*(volatile gpr_type _X*) (HW_GPB2_BASEADDR+HW_GPB_GPIPOLR)) /* GPI
                                  O 2 Interrupt Polarity Register   */
                             4350 ; 258  |#define HW_GP2ISTATR   (*(volatile gpr_type _X*) (HW_GPB2_BASEADDR+HW_GPB_GPISTATR)) /* GP
                                  IO 2 Interrupt Status Register */
                             4351 ; 259  |#define HW_GP2PWR      (*(volatile gpr_type _X*) (HW_GPB2_BASEADDR+HW_GPB_GPPWR)) /* GPIO 
                                  0 Power Register */
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  74

M:ADDR CODE           CYCLES LINE SOURCELINE
                             4352 ; 260  |#define HW_GP28MA      (*(volatile gpr_type _X*) (HW_GPB2_BASEADDR+HW_GPB_GP8MA)) 
                             4353 ; 261  |#define HW_GP3ENR      (*(volatile gpr_type _X*) (HW_GPB3_BASEADDR+HW_GPB_GPENR))     /* G
                                  PIO 2 Enable Register   */
                             4354 ; 262  |#define HW_GP3DOR      (*(volatile gpr_type _X*) (HW_GPB3_BASEADDR+HW_GPB_GPDOR)) /* GPIO 
                                  2 Data Out Register */
                             4355 ; 263  |#define HW_GP3DIR      (*(volatile gpr_type _X*) (HW_GPB3_BASEADDR+HW_GPB_GPDIR)) /* GPIO 
                                  2 Dait In Register  */
                             4356 ; 264  |#define HW_GP3DOER     (*(volatile gpr_type _X*) (HW_GPB3_BASEADDR+HW_GPB_GPDOER)) /* GPIO
                                   2 Dait Out Enable Register  */
                             4357 ; 265  |#define HW_GP3IPENR    (*(volatile gpr_type _X*) (HW_GPB3_BASEADDR+HW_GPB_GPIPENR)) /* GPI
                                  O 2 Interrupt Pin Enable Register */
                             4358 ; 266  |#define HW_GP3IENR     (*(volatile gpr_type _X*) (HW_GPB3_BASEADDR+HW_GPB_GPIENR)) /* GPIO
                                   2 Interrupt Enable Register */
                             4359 ; 267  |#define HW_GP3ILVLR    (*(volatile gpr_type _X*) (HW_GPB3_BASEADDR+HW_GPB_GPILVLR)) /* GPI
                                  O 2 Interrupt Level Register  */
                             4360 ; 268  |#define HW_GP3IPOLR    (*(volatile gpr_type _X*) (HW_GPB3_BASEADDR+HW_GPB_GPIPOLR)) /* GPI
                                  O 2 Interrupt Polarity Register   */
                             4361 ; 269  |#define HW_GP3ISTATR   (*(volatile gpr_type _X*) (HW_GPB3_BASEADDR+HW_GPB_GPISTATR)) /* GP
                                  IO 2 Interrupt Status Register */
                             4362 ; 270  |#define HW_GP3PWR      (*(volatile gpr_type _X*) (HW_GPB3_BASEADDR+HW_GPB_GPPWR)) /* GPIO 
                                  0 Power Register */
                             4363 ; 271  |#define HW_GP38MA      (*(volatile gpr_type _X*) (HW_GPB3_BASEADDR+HW_GPB_GP8MA)) 
                             4364 ; 272  |
                             4365 ; 273  |#endif
                             4366 ; 274  |
                             4367 
                             4369 
                             4370 ; 23   |#include "regsi2c.h"
                             4371 
                             4373 
                             4374 ; 1    |/////////////////////////////////////////////////////////////////////////////////
                             4375 ; 2    |// Copyright(C) SigmaTel, Inc. 2000-2003
                             4376 ; 3    |// Filename: regsI2C.inc
                             4377 ; 4    |// Description: Register definitions for GPFLASH interface
                             4378 ; 5    |/////////////////////////////////////////////////////////////////////////////////
                             4379 ; 6    |// The following naming conventions are followed in this file.
                             4380 ; 7    |// All registers are named using the format...
                             4381 ; 8    |//     HW_<module>_<regname>
                             4382 ; 9    |// where <module> is the module name which can be any of the following...
                             4383 ; 10   |//     USB20
                             4384 ; 11   |// (Note that when there is more than one copy of a particular module, the
                             4385 ; 12   |// module name includes a number starting from 0 for the first instance of
                             4386 ; 13   |// that module)
                             4387 ; 14   |// <regname> is the specific register within that module
                             4388 ; 15   |// We also define the following...
                             4389 ; 16   |//     HW_<module>_<regname>_BITPOS
                             4390 ; 17   |// which defines the starting bit (i.e. LSB) of a multi bit field
                             4391 ; 18   |//     HW_<module>_<regname>_SETMASK
                             4392 ; 19   |// which does something else, and
                             4393 ; 20   |//     HW_<module>_<regname>_CLRMASK
                             4394 ; 21   |// which does something else.
                             4395 ; 22   |// Other rules
                             4396 ; 23   |//     All caps
                             4397 ; 24   |//     Numeric identifiers start at 0
                             4398 ; 25   |#if !(defined(regsi2cinc))
                             4399 ; 26   |#define regsi2cinc 1
                             4400 ; 27   |
                             4401 ; 28   |#include "types.h"
                             4402 
                             4404 
                             4405 ; 1    |////////////////////////////////////////////////////////////////////////////////
                             4406 ; 2    |// Copyright(C) SigmaTel, Inc. 2000-2004
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  75

M:ADDR CODE           CYCLES LINE SOURCELINE
                             4407 ; 3    |//
                             4408 ; 4    |// Filename: types.h
                             4409 ; 5    |// Description: Standard data types
                             4410 ; 6    |////////////////////////////////////////////////////////////////////////////////
                             4411 ; 7    |
                             4412 ; 8    |#ifndef _TYPES_H
                             4413 ; 9    |#define _TYPES_H
                             4414 ; 10   |
                             4415 ; 11   |// TODO:  move this outta here!
                             4416 ; 12   |#if !defined(NOERROR)
                             4417 ; 13   |#define NOERROR 0
                             4418 ; 14   |#define SUCCESS 0
                             4419 ; 15   |#endif 
                             4420 ; 16   |#if !defined(SUCCESS)
                             4421 ; 17   |#define SUCCESS  0
                             4422 ; 18   |#endif
                             4423 ; 19   |#if !defined(ERROR)
                             4424 ; 20   |#define ERROR   -1
                             4425 ; 21   |#endif
                             4426 ; 22   |#if !defined(FALSE)
                             4427 ; 23   |#define FALSE 0
                             4428 ; 24   |#endif
                             4429 ; 25   |#if !defined(TRUE)
                             4430 ; 26   |#define TRUE  1
                             4431 ; 27   |#endif
                             4432 ; 28   |
                             4433 ; 29   |#if !defined(NULL)
                             4434 ; 30   |#define NULL 0
                             4435 ; 31   |#endif
                             4436 ; 32   |
                             4437 ; 33   |#define MAX_INT     0x7FFFFF
                             4438 ; 34   |#define MAX_LONG    0x7FFFFFffffff
                             4439 ; 35   |        // max positive unsigned long value: -1 == 0xFFFFFFffffff
                             4440 ; 36   |#define MAX_ULONG   (-1) 
                             4441 ; 37   |
                             4442 ; 38   |#define WORD_SIZE   24              // word size in bits
                             4443 ; 39   |#define BYTES_PER_WORD 3            // 8 bit bytes
                             4444 ; 40   |
                             4445 ; 41   |
                             4446 ; 42   |#define BYTE    unsigned char       // btVarName
                             4447 ; 43   |#define CHAR    signed char         // cVarName
                             4448 ; 44   |#define USHORT  unsigned short      // usVarName
                             4449 ; 45   |#define SHORT   unsigned short      // sVarName
                             4450 ; 46   |#define WORD    unsigned int        // wVarName
                             4451 ; 47   |#define INT     signed int          // iVarName
                             4452 ; 48   |#define DWORD   unsigned long       // dwVarName
                             4453 ; 49   |#define LONG    signed long         // lVarName
                             4454 ; 50   |#define BOOL    unsigned int        // bVarName
                             4455 ; 51   |#define FRACT   _fract              // frVarName
                             4456 ; 52   |#define LFRACT  long _fract         // lfrVarName
                             4457 ; 53   |#define CIRC    _circ               // cp<type prefix>VarName (see below)
                             4458 ; 54   |#define FLOAT   float               // fVarName
                             4459 ; 55   |#define DBL     double              // dVarName
                             4460 ; 56   |#define ENUM    enum                // eVarName
                             4461 ; 57   |#define CMX     _complex            // cmxVarName
                             4462 ; 58   |typedef WORD UCS3;                   // 
                             4463 ; 59   |
                             4464 ; 60   |#define UINT16  unsigned short
                             4465 ; 61   |#define UINT8   unsigned char   
                             4466 ; 62   |#define UINT32  unsigned long
                             4467 ; 63   |#define UINT64  unsigned long   // need to figure out how to do 64 bit values.  Or port ex
                                  isiting code to only use 48 bit
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  76

M:ADDR CODE           CYCLES LINE SOURCELINE
                             4468 ; 64   |#define INT64   unsigned long   // need to figure out how to do 64 bit values.  Or port ex
                                  isiting code to only use 48 bit
                             4469 ; 65   |#define WCHAR   UINT16
                             4470 ; 66   |
                             4471 ; 67   |//UINT128 is 16 bytes or 6 words
                             4472 ; 68   |typedef struct UINT128_3500 {   
                             4473 ; 69   |    int val[6];     
                             4474 ; 70   |} UINT128_3500;
                             4475 ; 71   |
                             4476 ; 72   |#define UINT128   UINT128_3500
                             4477 ; 73   |
                             4478 ; 74   |// Little endian word packed byte strings:   
                             4479 ; 75   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                             4480 ; 76   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                             4481 ; 77   |// Little endian word packed byte strings:   
                             4482 ; 78   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                             4483 ; 79   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                             4484 ; 80   |
                             4485 ; 81   |// Declare Memory Spaces To Use When Coding
                             4486 ; 82   |// A. Sector Buffers
                             4487 ; 83   |#define SECTOR_BUFFER_MEM_X _X
                             4488 ; 84   |#define SECTOR_BUFFER_MEM_Y _Y
                             4489 ; 85   |#define SECTOR_BUFFER_MEM SECTOR_BUFFER_MEM_X
                             4490 ; 86   |typedef WORD SECTOR_BUFFER_MEM SECTOR_BUFFER;
                             4491 ; 87   |typedef SECTOR_BUFFER * P_SECTOR_BUFFER;
                             4492 ; 88   |// B. Media DDI Memory
                             4493 ; 89   |#define MEDIA_DDI_MEM _Y
                             4494 ; 90   |
                             4495 ; 91   |
                             4496 ; 92   |
                             4497 ; 93   |// Pointers to linear structures are labeled as: p<type prefix>VarName
                             4498 ; 94   |// Examples of circular pointers:
                             4499 ; 95   |//    INT CIRC cpiVarName
                             4500 ; 96   |//    DWORD CIRC cpdwVarName
                             4501 ; 97   |
                             4502 ; 98   |#define RETCODE INT                 // rcVarName
                             4503 ; 99   |
                             4504 ; 100  |// generic bitfield structure
                             4505 ; 101  |struct Bitfield {
                             4506 ; 102  |    unsigned int B0  :1;
                             4507 ; 103  |    unsigned int B1  :1;
                             4508 ; 104  |    unsigned int B2  :1;
                             4509 ; 105  |    unsigned int B3  :1;
                             4510 ; 106  |    unsigned int B4  :1;
                             4511 ; 107  |    unsigned int B5  :1;
                             4512 ; 108  |    unsigned int B6  :1;
                             4513 ; 109  |    unsigned int B7  :1;
                             4514 ; 110  |    unsigned int B8  :1;
                             4515 ; 111  |    unsigned int B9  :1;
                             4516 ; 112  |    unsigned int B10 :1;
                             4517 ; 113  |    unsigned int B11 :1;
                             4518 ; 114  |    unsigned int B12 :1;
                             4519 ; 115  |    unsigned int B13 :1;
                             4520 ; 116  |    unsigned int B14 :1;
                             4521 ; 117  |    unsigned int B15 :1;
                             4522 ; 118  |    unsigned int B16 :1;
                             4523 ; 119  |    unsigned int B17 :1;
                             4524 ; 120  |    unsigned int B18 :1;
                             4525 ; 121  |    unsigned int B19 :1;
                             4526 ; 122  |    unsigned int B20 :1;
                             4527 ; 123  |    unsigned int B21 :1;
                             4528 ; 124  |    unsigned int B22 :1;
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  77

M:ADDR CODE           CYCLES LINE SOURCELINE
                             4529 ; 125  |    unsigned int B23 :1;
                             4530 ; 126  |};
                             4531 ; 127  |
                             4532 ; 128  |union BitInt {
                             4533 ; 129  |        struct Bitfield B;
                             4534 ; 130  |        int        I;
                             4535 ; 131  |};
                             4536 ; 132  |
                             4537 ; 133  |#define MAX_MSG_LENGTH 10
                             4538 ; 134  |struct CMessage
                             4539 ; 135  |{
                             4540 ; 136  |        unsigned int m_uLength;
                             4541 ; 137  |        unsigned int m_uMsg[MAX_MSG_LENGTH];
                             4542 ; 138  |};
                             4543 ; 139  |
                             4544 ; 140  |typedef struct {
                             4545 ; 141  |    WORD m_wLength;
                             4546 ; 142  |    WORD m_wMessage;
                             4547 ; 143  |    WORD m_wParams[MAX_MSG_LENGTH];
                             4548 ; 144  |} Message;
                             4549 ; 145  |
                             4550 ; 146  |struct MessageQueueDescriptor
                             4551 ; 147  |{
                             4552 ; 148  |        int *m_pBase;
                             4553 ; 149  |        int m_iModulo;
                             4554 ; 150  |        int m_iSize;
                             4555 ; 151  |        int *m_pHead;
                             4556 ; 152  |        int *m_pTail;
                             4557 ; 153  |};
                             4558 ; 154  |
                             4559 ; 155  |struct ModuleEntry
                             4560 ; 156  |{
                             4561 ; 157  |    int m_iSignaledEventMask;
                             4562 ; 158  |    int m_iWaitEventMask;
                             4563 ; 159  |    int m_iResourceOfCode;
                             4564 ; 160  |    struct MessageQueueDescriptor *m_pMessageQueue;
                             4565 ; 161  |    int _asmfunc (*m_pProcessEntryPoint)(union WaitMask Signals,struct MessageQueueDescrip
                                  tor *);
                             4566 ; 162  |    int _asmfunc (*m_pInitFunction)(struct MessageQueueDescriptor *);
                             4567 ; 163  |    int m_uTimeOutHigh;
                             4568 ; 164  |    int m_uTimeOutLow;
                             4569 ; 165  |    int _asmfunc (*m_pBackgroundFunction)(struct MessageQueueDescriptor *);
                             4570 ; 166  |};
                             4571 ; 167  |
                             4572 ; 168  |union WaitMask{
                             4573 ; 169  |    struct B{
                             4574 ; 170  |        unsigned int m_bNone     :1;
                             4575 ; 171  |        unsigned int m_bMessage  :1;
                             4576 ; 172  |        unsigned int m_bTimer    :1;
                             4577 ; 173  |        unsigned int m_bButton   :1;
                             4578 ; 174  |    } B;
                             4579 ; 175  |    int I;
                             4580 ; 176  |} ;
                             4581 ; 177  |
                             4582 ; 178  |
                             4583 ; 179  |struct Button {
                             4584 ; 180  |        WORD wButtonEvent;
                             4585 ; 181  |        WORD wUnused[MAX_MSG_LENGTH];   
                             4586 ; 182  |};
                             4587 ; 183  |
                             4588 ; 184  |struct Message {
                             4589 ; 185  |        WORD wMsgLength;
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  78

M:ADDR CODE           CYCLES LINE SOURCELINE
                             4590 ; 186  |        WORD wMsgCommand;
                             4591 ; 187  |        WORD wMsgParms[MAX_MSG_LENGTH-1];
                             4592 ; 188  |};
                             4593 ; 189  |
                             4594 ; 190  |union EventTypes {
                             4595 ; 191  |        struct CMessage msg;
                             4596 ; 192  |        struct Button Button ;
                             4597 ; 193  |        struct Message Message;
                             4598 ; 194  |};
                             4599 ; 195  |
                             4600 ; 196  |// next 2 used to get updater build to return correct protocol ver in scsi response.
                             4601 ; 197  |#define BUILD_TYPE_UPDATER  0x100
                             4602 ; 198  |#define BUILD_TYPE_HOSTLINK 0x101
                             4603 ; 199  |#define BUILD_TYPE_PLAYER   0x102
                             4604 ; 200  |
                             4605 ; 201  |// Resets part if RETAIL build. DEBUG build executes debug instruction to halt.
                             4606 ; 202  |#define SystemHalt() __asm(" include 'sysmacro.asm' \n error") 
                             4607 ; 203  |#define assert(x)    if(!(x)) __asm(" include 'sysmacro.asm' \n error")
                             4608 ; 204  |
                             4609 ; 205  |#if DEBUG
                             4610 ; 206  |// For DEBUG builds, DebugBuildAssert(condition) halts if condition evaluates to FALSE. 
                             4611 ; 207  |#define DebugBuildAssert(x)    if(!(x)) __asm(" debug ")
                             4612 ; 208  |#else 
                             4613 ; 209  |// For RETAIL builds, DebugBuildAssert(condition) does nothing & execution continues rathe
                                  r than halt or reset. 
                             4614 ; 210  |#define DebugBuildAssert(x)    
                             4615 ; 211  |#endif
                             4616 ; 212  |
                             4617 ; 213  |// Do this in your C files to make a reminder that's displayed during the build.
                             4618 ; 214  |//  #pragma asm
                             4619 ; 215  |//  WARN 'Note to builder: reminder to do this after verifying that'
                             4620 ; 216  |//  #pragma endasm
                             4621 ; 217  |
                             4622 ; 218  |
                             4623 ; 219  |#ifdef COLOR_262K
                             4624 ; 220  |#define RGB(r,g,b)    ((0x0000FC & (r)) << 10) | ((0x0000FC & (g)) << 4) | ((0x0000FC & (b
                                  )) >> 2)    //262k
                             4625 ; 221  |#elif defined(COLOR_65K)
                             4626 ; 222  |#define RGB(r,g,b)    ((0x0000F8 & (r)) << 8) | ((0x0000FC & (g)) << 3) | ((0x0000F8 & (b)
                                  ) >> 3)  //65k
                             4627 ; 223  |#else
                             4628 ; 224  |#define RGB(r,g,b)       ((0x0000F0 & (r)) << 4) | (0x0000F0 & (g)) | ((0x0000F0 & (b)) >>
                                   4)
                             4629 ; 225  |#endif
                             4630 ; 226  |    
                             4631 ; 227  |#endif // #ifndef _TYPES_H
                             4632 
                             4634 
                             4635 ; 29   |
                             4636 ; 30   |/////////////////////////////////////////////////////////////////////////////////
                             4637 ; 31   |////   I2C STMP Registers
                             4638 ; 32   |/////////////////////////////////////////////////////////////////////////////////
                             4639 ; 33   |
                             4640 ; 34   |#define HW_I2C_BASEADDR (0xFFE5)
                             4641 ; 35   |
                             4642 ; 36   |
                             4643 ; 37   |/////////////////////////////////////////////////////////////////////////////////
                             4644 ; 38   |////  I2C Clock Divider Register (HW_I2CDIV) Bit Definitions
                             4645 ; 39   |
                             4646 ; 40   |#define HW_I2CDIV_FACT_BITPOS (1)
                             4647 ; 41   |
                             4648 ; 42   |#define HW_I2CDIV_FACT_SETMASK (0xFF<<HW_I2CDIV_FACT_BITPOS)
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  79

M:ADDR CODE           CYCLES LINE SOURCELINE
                             4649 ; 43   |
                             4650 ; 44   |#define HW_I2CDIV_FACT_CLRMASK (~(WORD)HW_I2CDIV_FACT_SETMASK)
                             4651 ; 45   |
                             4652 ; 46   |typedef union               /* I2C Clock Divider Register */
                             4653 ; 47   |{
                             4654 ; 48   |    struct {
                             4655 ; 49   |        int                :1; 
                             4656 ; 50   |        unsigned FACT      :8;
                             4657 ; 51   |    } B;
                             4658 ; 52   |    int I;
                             4659 ; 53   |    unsigned U;
                             4660 ; 54   |} i2cdivr_type;
                             4661 ; 55   |#define HW_I2CDIV (*(volatile i2cdivr_type _X*) (HW_I2C_BASEADDR))       /* I2C Divfact Re
                                  gisters        */
                             4662 ; 56   |
                             4663 ; 57   |
                             4664 ; 58   |/////////////////////////////////////////////////////////////////////////////////
                             4665 ; 59   |////  I2C Data Register (HW_I2CDAT) Bit Definitions
                             4666 ; 60   |
                             4667 ; 61   |#define HW_I2CDAT_DATA_BITPOS (0)
                             4668 ; 62   |
                             4669 ; 63   |#define HW_I2CDAT_DATA_SETMASK (0xFFFFFF)
                             4670 ; 64   |
                             4671 ; 65   |#define HW_I2CDAT_DATA_CLRMASK (~(WORD)HW_I2CDAT_DATA_SETMASK)
                             4672 ; 66   |
                             4673 ; 67   |typedef union               /* I2C Data Register */
                             4674 ; 68   |{
                             4675 ; 69   |    struct {
                             4676 ; 70   |         unsigned DATA :24; 
                             4677 ; 71   |    } B;
                             4678 ; 72   |    int I;
                             4679 ; 73   |    unsigned U;
                             4680 ; 74   |} i2cdatr_type;
                             4681 ; 75   |#define HW_I2CDAT (*(volatile i2cdatr_type _X*) (HW_I2C_BASEADDR+1)) /* I2C Data Registers
                                   (I2CDAT)      */
                             4682 ; 76   |
                             4683 ; 77   |
                             4684 ; 78   |/////////////////////////////////////////////////////////////////////////////////
                             4685 ; 79   |////  I2C Control Status Register (HW_I2CCSR) Bit Definitions
                             4686 ; 80   |#define HW_I2CCSR_I2C_EN_BITPOS (0)
                             4687 ; 81   |#define HW_I2CCSR_RIE_BITPOS (1)
                             4688 ; 82   |#define HW_I2CCSR_BUSY_BITPOS (2)
                             4689 ; 83   |#define HW_I2CCSR_ARB_LOST_BITPOS (3)
                             4690 ; 84   |#define HW_I2CCSR_TIE_BITPOS (4)
                             4691 ; 85   |#define HW_I2CCSR_MODE_BITPOS (5)
                             4692 ; 86   |#define HW_I2CCSR_RDR_BITPOS (6)
                             4693 ; 87   |#define HW_I2CCSR_TDE_BITPOS (7)
                             4694 ; 88   |#define HW_I2CCSR_RWN_BITPOS (8)
                             4695 ; 89   |#define HW_I2CCSR_WL_BITPOS (9)
                             4696 ; 90   |#define HW_I2CCSR_WL0_BITPOS (9)
                             4697 ; 91   |#define HW_I2CCSR_WL1_BITPOS (10)
                             4698 ; 92   |#define HW_I2CCSR_TREQ_BITPOS (11)
                             4699 ; 93   |#define HW_I2CCSR_ROFL_BITPOS (12)
                             4700 ; 94   |#define HW_I2CCSR_TUFL_BITPOS (13)
                             4701 ; 95   |#define HW_I2CCSR_ACKF_BITPOS (14)
                             4702 ; 96   |#define HW_I2CCSR_B_CNT_BITPOS (15)
                             4703 ; 97   |#define HW_I2CCSR_B_CNT0_BITPOS (15)
                             4704 ; 98   |#define HW_I2CCSR_B_CNT1_BITPOS (16)
                             4705 ; 99   |#define HW_I2CCSR_L_WORD_BITPOS (17)
                             4706 ; 100  |#define HW_I2CCSR_SUBA_BITPOS (18)
                             4707 ; 101  |#define HW_I2CCSR_ROFLCL_BITPOS (19)
                             4708 ; 102  |#define HW_I2CCSR_TUFLCL_BITPOS (20)
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  80

M:ADDR CODE           CYCLES LINE SOURCELINE
                             4709 ; 103  |#define HW_I2CCSR_ONEBYTE_BITPOS (21)
                             4710 ; 104  |
                             4711 ; 105  |#define HW_I2CCSR_I2C_EN_SETMASK (1<<HW_I2CCSR_I2C_EN_BITPOS)
                             4712 ; 106  |#define HW_I2CCSR_RIE_SETMASK (1<<HW_I2CCSR_RIE_BITPOS)
                             4713 ; 107  |#define HW_I2CCSR_BUSY_SETMASK (1<<HW_I2CCSR_BUSY_BITPOS)
                             4714 ; 108  |#define HW_I2CCSR_ARB_LOST_SETMASK (1<<HW_I2CCSR_ARB_LOST_BITPOS)
                             4715 ; 109  |#define HW_I2CCSR_TIE_SETMASK (1<<HW_I2CCSR_TIE_BITPOS)
                             4716 ; 110  |#define HW_I2CCSR_MODE_SETMASK (1<<HW_I2CCSR_MODE_BITPOS)
                             4717 ; 111  |#define HW_I2CCSR_RDR_SETMASK (1<<HW_I2CCSR_RDR_BITPOS)
                             4718 ; 112  |#define HW_I2CCSR_TDE_SETMASK (1<<HW_I2CCSR_TDE_BITPOS)
                             4719 ; 113  |#define HW_I2CCSR_RWN_SETMASK (1<<HW_I2CCSR_RWN_BITPOS)
                             4720 ; 114  |#define HW_I2CCSR_WL_SETMASK (3<<HW_I2CCSR_WL_BITPOS)
                             4721 ; 115  |#define HW_I2CCSR_WL0_SETMASK (1<<HW_I2CCSR_WL0_BITPOS)
                             4722 ; 116  |#define HW_I2CCSR_WL1_SETMASK (1<<HW_I2CCSR_WL1_BITPOS)
                             4723 ; 117  |#define HW_I2CCSR_TREQ_SETMASK (1<<HW_I2CCSR_TREQ_BITPOS)
                             4724 ; 118  |#define HW_I2CCSR_ROFL_SETMASK (1<<HW_I2CCSR_ROFL_BITPOS)
                             4725 ; 119  |#define HW_I2CCSR_TUFL_SETMASK (1<<HW_I2CCSR_TUFL_BITPOS)
                             4726 ; 120  |#define HW_I2CCSR_ACKF_SETMASK (1<<HW_I2CCSR_ACKF_BITPOS)
                             4727 ; 121  |#define HW_I2CCSR_B_CNT_SETMASK (3<<HW_I2CCSR_B_CNT_BITPOS)
                             4728 ; 122  |#define HW_I2CCSR_B_CNT0_SETMASK (1<<HW_I2CCSR_B_CNT0_BITPOS)
                             4729 ; 123  |#define HW_I2CCSR_B_CNT1_SETMASK (1<<HW_I2CCSR_B_CNT1_BITPOS)
                             4730 ; 124  |#define HW_I2CCSR_L_WORD_SETMASK (1<<HW_I2CCSR_L_WORD_BITPOS)
                             4731 ; 125  |#define HW_I2CCSR_SUBA_SETMASK (1<<HW_I2CCSR_SUBA_BITPOS)
                             4732 ; 126  |#define HW_I2CCSR_ROFLCL_SETMASK (1<<HW_I2CCSR_ROFLCL_BITPOS)
                             4733 ; 127  |#define HW_I2CCSR_TUFLCL_SETMASK (1<<HW_I2CCSR_TUFLCL_BITPOS)
                             4734 ; 128  |#define HW_I2CCSR_ONEBYTE_SETMASK (1<<HW_I2CCSR_ONEBYTE_BITPOS)
                             4735 ; 129  |
                             4736 ; 130  |#define HW_I2CCSR_I2C_EN_CLRMASK (~(WORD)HW_I2CCSR_I2C_EN_SETMASK)
                             4737 ; 131  |#define HW_I2CCSR_RIE_CLRMASK (~(WORD)HW_I2CCSR_RIE_SETMASK)
                             4738 ; 132  |#define HW_I2CCSR_BUSY_CLRMASK (~(WORD)HW_I2CCSR_BUSY_SETMASK)
                             4739 ; 133  |#define HW_I2CCSR_ARB_LOST_CLRMASK (~(WORD)HW_I2CCSR_ARB_LOST_SETMASK)
                             4740 ; 134  |#define HW_I2CCSR_TIE_CLRMASK (~(WORD)HW_I2CCSR_TIE_SETMASK)
                             4741 ; 135  |#define HW_I2CCSR_MODE_CLRMASK (~(WORD)HW_I2CCSR_MODE_SETMASK)
                             4742 ; 136  |#define HW_I2CCSR_RDR_CLRMASK (~(WORD)HW_I2CCSR_RDR_SETMASK)
                             4743 ; 137  |#define HW_I2CCSR_TDE_CLRMASK (~(WORD)HW_I2CCSR_TDE_SETMASK)
                             4744 ; 138  |#define HW_I2CCSR_RWN_CLRMASK (~(WORD)HW_I2CCSR_RWN_SETMASK)
                             4745 ; 139  |#define HW_I2CCSR_WL_CLRMASK (~(WORD)HW_I2CCSR_WL_SETMASK)
                             4746 ; 140  |#define HW_I2CCSR_WL0_CLRMASK (~(WORD)HW_I2CCSR_WL0_SETMASK)
                             4747 ; 141  |#define HW_I2CCSR_WL1_CLRMASK (~(WORD)HW_I2CCSR_WL1_SETMASK)
                             4748 ; 142  |#define HW_I2CCSR_TREQ_CLRMASK (~(WORD)HW_I2CCSR_TREQ_SETMASK)
                             4749 ; 143  |#define HW_I2CCSR_ROFL_CLRMASK (~(WORD)HW_I2CCSR_ROFL_SETMASK)
                             4750 ; 144  |#define HW_I2CCSR_TUFL_CLRMASK (~(WORD)HW_I2CCSR_TUFL_SETMASK)
                             4751 ; 145  |#define HW_I2CCSR_ACKF_CLRMASK (~(WORD)HW_I2CCSR_ACKF_SETMASK)
                             4752 ; 146  |#define HW_I2CCSR_B_CNT_CLRMASK (~(WORD)HW_I2CCSR_B_CNT_SETMASK)
                             4753 ; 147  |#define HW_I2CCSR_B_CNT0_CLRMASK (~(WORD)HW_I2CCSR_B_CNT0_SETMASK)
                             4754 ; 148  |#define HW_I2CCSR_B_CNT1_CLRMASK (~(WORD)HW_I2CCSR_B_CNT1_SETMASK)
                             4755 ; 149  |#define HW_I2CCSR_L_WORD_CLRMASK (~(WORD)HW_I2CCSR_L_WORD_SETMASK)
                             4756 ; 150  |#define HW_I2CCSR_SUBA_CLRMASK (~(WORD)HW_I2CCSR_SUBA_SETMASK)
                             4757 ; 151  |#define HW_I2CCSR_ROFLCL_CLRMASK (~(WORD)HW_I2CCSR_ROFLCL_SETMASK)
                             4758 ; 152  |#define HW_I2CCSR_TUFLCL_CLRMASK (~(WORD)HW_I2CCSR_TUFLCL_SETMASK)
                             4759 ; 153  |#define HW_I2CCSR_ONEBYTE_CLRMASK (~(WORD)HW_I2CCSR_ONEBYTE_SETMASK)
                             4760 ; 154  |
                             4761 ; 155  |typedef union               /* I2C Control Register         */
                             4762 ; 156  |{
                             4763 ; 157  |    struct {
                             4764 ; 158  |        int I2C_EN      :1; /* Peripheral Enable            */
                             4765 ; 159  |        int RIE         :1; /* Receiver Interrupt Enable        */
                             4766 ; 160  |        int BUSY        :1; /* I2C Bus Busy             */
                             4767 ; 161  |        int ARBLOST     :1; /* Aritration lost          */
                             4768 ; 162  |        int TIE         :1; /* Transmitter Interrupt Enable     */
                             4769 ; 163  |        int MODE        :1; /* Operating Mode Bit           */
                             4770 ; 164  |        int RDR         :1; /* Receiver Data Ready          */
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  81

M:ADDR CODE           CYCLES LINE SOURCELINE
                             4771 ; 165  |       int TDE         :1; /* Transmitter Data Empty       */
                             4772 ; 166  |       int RWN         :1; /* Read/Not Write           */
                             4773 ; 167  |       unsigned WL     :2; /* Word Length              */
                             4774 ; 168  |        int TREQ        :1; /* DSP Transmit Request         */
                             4775 ; 169  |        int ROFL        :1; /* Receiver Overflow            */
                             4776 ; 170  |        int TUFL        :1; /* Transmitter Underflow        */
                             4777 ; 171  |        int ACKF        :1; /* Acknowledge Failure          */
                             4778 ; 172  |        unsigned BCNT   :2; /* Byte Count               */
                             4779 ; 173  |        int LWORD       :1; /* Last Word                */
                             4780 ; 174  |        int SUBA        :1; /* Sub Address              */
                             4781 ; 175  |        int ROFLCL      :1; /* Receiver Overflow Clear      */
                             4782 ; 176  |        int TUFLCL      :1; /* Transmitter Underflow Clear      */
                             4783 ; 177  |        int ONEBYTE     :1; /* Special One Data Byte Transmission Mode */
                             4784 ; 178  |    } B;
                             4785 ; 179  |    int I;
                             4786 ; 180  |    unsigned U;
                             4787 ; 181  |} i2ccsr_type;
                             4788 ; 182  |#define HW_I2CCSR (*(volatile i2ccsr_type _X*) (HW_I2C_BASEADDR+2)) /* I2C Control/Status 
                                  Register (I2CCSR) */
                             4789 ; 183  |
                             4790 ; 184  |#endif
                             4791 
                             4793 
                             4794 ; 24   |#include "regsi2s.h"
                             4795 
                             4797 
                             4798 ; 1    |/////////////////////////////////////////////////////////////////////////////////
                             4799 ; 2    |// Copyright(C) SigmaTel, Inc. 2000-2003
                             4800 ; 3    |// Filename: regsi2s.inc
                             4801 ; 4    |// Description: Register definitions for I2S interface
                             4802 ; 5    |/////////////////////////////////////////////////////////////////////////////////
                             4803 ; 6    |// The following naming conventions are followed in this file.
                             4804 ; 7    |// All registers are named using the format...
                             4805 ; 8    |//     HW_<module>_<regname>
                             4806 ; 9    |// where <module> is the module name which can be any of the following...
                             4807 ; 10   |//     USB20
                             4808 ; 11   |// (Note that when there is more than one copy of a particular module, the
                             4809 ; 12   |// module name includes a number starting from 0 for the first instance of
                             4810 ; 13   |// that module)
                             4811 ; 14   |// <regname> is the specific register within that module
                             4812 ; 15   |// We also define the following...
                             4813 ; 16   |//     HW_<module>_<regname>_BITPOS
                             4814 ; 17   |// which defines the starting bit (i.e. LSB) of a multi bit field
                             4815 ; 18   |//     HW_<module>_<regname>_SETMASK
                             4816 ; 19   |// which does something else, and
                             4817 ; 20   |//     HW_<module>_<regname>_CLRMASK
                             4818 ; 21   |// which does something else.
                             4819 ; 22   |// Other rules
                             4820 ; 23   |//     All caps
                             4821 ; 24   |//     Numeric identifiers start at 0
                             4822 ; 25   |#if !(defined(regsi2sinc))
                             4823 ; 26   |#define regsi2sinc 1
                             4824 ; 27   |
                             4825 ; 28   |#include "types.h"
                             4826 
                             4828 
                             4829 ; 1    |////////////////////////////////////////////////////////////////////////////////
                             4830 ; 2    |// Copyright(C) SigmaTel, Inc. 2000-2004
                             4831 ; 3    |//
                             4832 ; 4    |// Filename: types.h
                             4833 ; 5    |// Description: Standard data types
                             4834 ; 6    |////////////////////////////////////////////////////////////////////////////////
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  82

M:ADDR CODE           CYCLES LINE SOURCELINE
                             4835 ; 7    |
                             4836 ; 8    |#ifndef _TYPES_H
                             4837 ; 9    |#define _TYPES_H
                             4838 ; 10   |
                             4839 ; 11   |// TODO:  move this outta here!
                             4840 ; 12   |#if !defined(NOERROR)
                             4841 ; 13   |#define NOERROR 0
                             4842 ; 14   |#define SUCCESS 0
                             4843 ; 15   |#endif 
                             4844 ; 16   |#if !defined(SUCCESS)
                             4845 ; 17   |#define SUCCESS  0
                             4846 ; 18   |#endif
                             4847 ; 19   |#if !defined(ERROR)
                             4848 ; 20   |#define ERROR   -1
                             4849 ; 21   |#endif
                             4850 ; 22   |#if !defined(FALSE)
                             4851 ; 23   |#define FALSE 0
                             4852 ; 24   |#endif
                             4853 ; 25   |#if !defined(TRUE)
                             4854 ; 26   |#define TRUE  1
                             4855 ; 27   |#endif
                             4856 ; 28   |
                             4857 ; 29   |#if !defined(NULL)
                             4858 ; 30   |#define NULL 0
                             4859 ; 31   |#endif
                             4860 ; 32   |
                             4861 ; 33   |#define MAX_INT     0x7FFFFF
                             4862 ; 34   |#define MAX_LONG    0x7FFFFFffffff
                             4863 ; 35   |        // max positive unsigned long value: -1 == 0xFFFFFFffffff
                             4864 ; 36   |#define MAX_ULONG   (-1) 
                             4865 ; 37   |
                             4866 ; 38   |#define WORD_SIZE   24              // word size in bits
                             4867 ; 39   |#define BYTES_PER_WORD 3            // 8 bit bytes
                             4868 ; 40   |
                             4869 ; 41   |
                             4870 ; 42   |#define BYTE    unsigned char       // btVarName
                             4871 ; 43   |#define CHAR    signed char         // cVarName
                             4872 ; 44   |#define USHORT  unsigned short      // usVarName
                             4873 ; 45   |#define SHORT   unsigned short      // sVarName
                             4874 ; 46   |#define WORD    unsigned int        // wVarName
                             4875 ; 47   |#define INT     signed int          // iVarName
                             4876 ; 48   |#define DWORD   unsigned long       // dwVarName
                             4877 ; 49   |#define LONG    signed long         // lVarName
                             4878 ; 50   |#define BOOL    unsigned int        // bVarName
                             4879 ; 51   |#define FRACT   _fract              // frVarName
                             4880 ; 52   |#define LFRACT  long _fract         // lfrVarName
                             4881 ; 53   |#define CIRC    _circ               // cp<type prefix>VarName (see below)
                             4882 ; 54   |#define FLOAT   float               // fVarName
                             4883 ; 55   |#define DBL     double              // dVarName
                             4884 ; 56   |#define ENUM    enum                // eVarName
                             4885 ; 57   |#define CMX     _complex            // cmxVarName
                             4886 ; 58   |typedef WORD UCS3;                   // 
                             4887 ; 59   |
                             4888 ; 60   |#define UINT16  unsigned short
                             4889 ; 61   |#define UINT8   unsigned char   
                             4890 ; 62   |#define UINT32  unsigned long
                             4891 ; 63   |#define UINT64  unsigned long   // need to figure out how to do 64 bit values.  Or port ex
                                  isiting code to only use 48 bit
                             4892 ; 64   |#define INT64   unsigned long   // need to figure out how to do 64 bit values.  Or port ex
                                  isiting code to only use 48 bit
                             4893 ; 65   |#define WCHAR   UINT16
                             4894 ; 66   |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  83

M:ADDR CODE           CYCLES LINE SOURCELINE
                             4895 ; 67   |//UINT128 is 16 bytes or 6 words
                             4896 ; 68   |typedef struct UINT128_3500 {   
                             4897 ; 69   |    int val[6];     
                             4898 ; 70   |} UINT128_3500;
                             4899 ; 71   |
                             4900 ; 72   |#define UINT128   UINT128_3500
                             4901 ; 73   |
                             4902 ; 74   |// Little endian word packed byte strings:   
                             4903 ; 75   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                             4904 ; 76   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                             4905 ; 77   |// Little endian word packed byte strings:   
                             4906 ; 78   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                             4907 ; 79   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                             4908 ; 80   |
                             4909 ; 81   |// Declare Memory Spaces To Use When Coding
                             4910 ; 82   |// A. Sector Buffers
                             4911 ; 83   |#define SECTOR_BUFFER_MEM_X _X
                             4912 ; 84   |#define SECTOR_BUFFER_MEM_Y _Y
                             4913 ; 85   |#define SECTOR_BUFFER_MEM SECTOR_BUFFER_MEM_X
                             4914 ; 86   |typedef WORD SECTOR_BUFFER_MEM SECTOR_BUFFER;
                             4915 ; 87   |typedef SECTOR_BUFFER * P_SECTOR_BUFFER;
                             4916 ; 88   |// B. Media DDI Memory
                             4917 ; 89   |#define MEDIA_DDI_MEM _Y
                             4918 ; 90   |
                             4919 ; 91   |
                             4920 ; 92   |
                             4921 ; 93   |// Pointers to linear structures are labeled as: p<type prefix>VarName
                             4922 ; 94   |// Examples of circular pointers:
                             4923 ; 95   |//    INT CIRC cpiVarName
                             4924 ; 96   |//    DWORD CIRC cpdwVarName
                             4925 ; 97   |
                             4926 ; 98   |#define RETCODE INT                 // rcVarName
                             4927 ; 99   |
                             4928 ; 100  |// generic bitfield structure
                             4929 ; 101  |struct Bitfield {
                             4930 ; 102  |    unsigned int B0  :1;
                             4931 ; 103  |    unsigned int B1  :1;
                             4932 ; 104  |    unsigned int B2  :1;
                             4933 ; 105  |    unsigned int B3  :1;
                             4934 ; 106  |    unsigned int B4  :1;
                             4935 ; 107  |    unsigned int B5  :1;
                             4936 ; 108  |    unsigned int B6  :1;
                             4937 ; 109  |    unsigned int B7  :1;
                             4938 ; 110  |    unsigned int B8  :1;
                             4939 ; 111  |    unsigned int B9  :1;
                             4940 ; 112  |    unsigned int B10 :1;
                             4941 ; 113  |    unsigned int B11 :1;
                             4942 ; 114  |    unsigned int B12 :1;
                             4943 ; 115  |    unsigned int B13 :1;
                             4944 ; 116  |    unsigned int B14 :1;
                             4945 ; 117  |    unsigned int B15 :1;
                             4946 ; 118  |    unsigned int B16 :1;
                             4947 ; 119  |    unsigned int B17 :1;
                             4948 ; 120  |    unsigned int B18 :1;
                             4949 ; 121  |    unsigned int B19 :1;
                             4950 ; 122  |    unsigned int B20 :1;
                             4951 ; 123  |    unsigned int B21 :1;
                             4952 ; 124  |    unsigned int B22 :1;
                             4953 ; 125  |    unsigned int B23 :1;
                             4954 ; 126  |};
                             4955 ; 127  |
                             4956 ; 128  |union BitInt {
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  84

M:ADDR CODE           CYCLES LINE SOURCELINE
                             4957 ; 129  |        struct Bitfield B;
                             4958 ; 130  |        int        I;
                             4959 ; 131  |};
                             4960 ; 132  |
                             4961 ; 133  |#define MAX_MSG_LENGTH 10
                             4962 ; 134  |struct CMessage
                             4963 ; 135  |{
                             4964 ; 136  |        unsigned int m_uLength;
                             4965 ; 137  |        unsigned int m_uMsg[MAX_MSG_LENGTH];
                             4966 ; 138  |};
                             4967 ; 139  |
                             4968 ; 140  |typedef struct {
                             4969 ; 141  |    WORD m_wLength;
                             4970 ; 142  |    WORD m_wMessage;
                             4971 ; 143  |    WORD m_wParams[MAX_MSG_LENGTH];
                             4972 ; 144  |} Message;
                             4973 ; 145  |
                             4974 ; 146  |struct MessageQueueDescriptor
                             4975 ; 147  |{
                             4976 ; 148  |        int *m_pBase;
                             4977 ; 149  |        int m_iModulo;
                             4978 ; 150  |        int m_iSize;
                             4979 ; 151  |        int *m_pHead;
                             4980 ; 152  |        int *m_pTail;
                             4981 ; 153  |};
                             4982 ; 154  |
                             4983 ; 155  |struct ModuleEntry
                             4984 ; 156  |{
                             4985 ; 157  |    int m_iSignaledEventMask;
                             4986 ; 158  |    int m_iWaitEventMask;
                             4987 ; 159  |    int m_iResourceOfCode;
                             4988 ; 160  |    struct MessageQueueDescriptor *m_pMessageQueue;
                             4989 ; 161  |    int _asmfunc (*m_pProcessEntryPoint)(union WaitMask Signals,struct MessageQueueDescrip
                                  tor *);
                             4990 ; 162  |    int _asmfunc (*m_pInitFunction)(struct MessageQueueDescriptor *);
                             4991 ; 163  |    int m_uTimeOutHigh;
                             4992 ; 164  |    int m_uTimeOutLow;
                             4993 ; 165  |    int _asmfunc (*m_pBackgroundFunction)(struct MessageQueueDescriptor *);
                             4994 ; 166  |};
                             4995 ; 167  |
                             4996 ; 168  |union WaitMask{
                             4997 ; 169  |    struct B{
                             4998 ; 170  |        unsigned int m_bNone     :1;
                             4999 ; 171  |        unsigned int m_bMessage  :1;
                             5000 ; 172  |        unsigned int m_bTimer    :1;
                             5001 ; 173  |        unsigned int m_bButton   :1;
                             5002 ; 174  |    } B;
                             5003 ; 175  |    int I;
                             5004 ; 176  |} ;
                             5005 ; 177  |
                             5006 ; 178  |
                             5007 ; 179  |struct Button {
                             5008 ; 180  |        WORD wButtonEvent;
                             5009 ; 181  |        WORD wUnused[MAX_MSG_LENGTH];   
                             5010 ; 182  |};
                             5011 ; 183  |
                             5012 ; 184  |struct Message {
                             5013 ; 185  |        WORD wMsgLength;
                             5014 ; 186  |        WORD wMsgCommand;
                             5015 ; 187  |        WORD wMsgParms[MAX_MSG_LENGTH-1];
                             5016 ; 188  |};
                             5017 ; 189  |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  85

M:ADDR CODE           CYCLES LINE SOURCELINE
                             5018 ; 190  |union EventTypes {
                             5019 ; 191  |        struct CMessage msg;
                             5020 ; 192  |        struct Button Button ;
                             5021 ; 193  |        struct Message Message;
                             5022 ; 194  |};
                             5023 ; 195  |
                             5024 ; 196  |// next 2 used to get updater build to return correct protocol ver in scsi response.
                             5025 ; 197  |#define BUILD_TYPE_UPDATER  0x100
                             5026 ; 198  |#define BUILD_TYPE_HOSTLINK 0x101
                             5027 ; 199  |#define BUILD_TYPE_PLAYER   0x102
                             5028 ; 200  |
                             5029 ; 201  |// Resets part if RETAIL build. DEBUG build executes debug instruction to halt.
                             5030 ; 202  |#define SystemHalt() __asm(" include 'sysmacro.asm' \n error") 
                             5031 ; 203  |#define assert(x)    if(!(x)) __asm(" include 'sysmacro.asm' \n error")
                             5032 ; 204  |
                             5033 ; 205  |#if DEBUG
                             5034 ; 206  |// For DEBUG builds, DebugBuildAssert(condition) halts if condition evaluates to FALSE. 
                             5035 ; 207  |#define DebugBuildAssert(x)    if(!(x)) __asm(" debug ")
                             5036 ; 208  |#else 
                             5037 ; 209  |// For RETAIL builds, DebugBuildAssert(condition) does nothing & execution continues rathe
                                  r than halt or reset. 
                             5038 ; 210  |#define DebugBuildAssert(x)    
                             5039 ; 211  |#endif
                             5040 ; 212  |
                             5041 ; 213  |// Do this in your C files to make a reminder that's displayed during the build.
                             5042 ; 214  |//  #pragma asm
                             5043 ; 215  |//  WARN 'Note to builder: reminder to do this after verifying that'
                             5044 ; 216  |//  #pragma endasm
                             5045 ; 217  |
                             5046 ; 218  |
                             5047 ; 219  |#ifdef COLOR_262K
                             5048 ; 220  |#define RGB(r,g,b)    ((0x0000FC & (r)) << 10) | ((0x0000FC & (g)) << 4) | ((0x0000FC & (b
                                  )) >> 2)    //262k
                             5049 ; 221  |#elif defined(COLOR_65K)
                             5050 ; 222  |#define RGB(r,g,b)    ((0x0000F8 & (r)) << 8) | ((0x0000FC & (g)) << 3) | ((0x0000F8 & (b)
                                  ) >> 3)  //65k
                             5051 ; 223  |#else
                             5052 ; 224  |#define RGB(r,g,b)       ((0x0000F0 & (r)) << 4) | (0x0000F0 & (g)) | ((0x0000F0 & (b)) >>
                                   4)
                             5053 ; 225  |#endif
                             5054 ; 226  |    
                             5055 ; 227  |#endif // #ifndef _TYPES_H
                             5056 
                             5058 
                             5059 ; 29   |
                             5060 ; 30   |///////////////////////////////////////////////////////////////////////////////////
                             5061 ; 31   |////  I2S Registers (SAI)
                             5062 ; 32   |///////////////////////////////////////////////////////////////////////////////////
                             5063 ; 33   |
                             5064 ; 34   |
                             5065 ; 35   |#define HW_SAI_BASEADDR (0xFFF0)
                             5066 ; 36   |
                             5067 ; 37   |
                             5068 ; 38   |
                             5069 ; 39   |
                             5070 ; 40   |#define HW_SAIRCSR_REN0_BITPOS (0)
                             5071 ; 41   |#define HW_SAIRCSR_REN1_BITPOS (1)
                             5072 ; 42   |#define HW_SAIRCSR_REN2_BITPOS (2)
                             5073 ; 43   |#define HW_SAIRCSR_RMME_BITPOS (3)
                             5074 ; 44   |#define HW_SAIRCSR_RSVD0_BITPOS (4)
                             5075 ; 45   |#define HW_SAIRCSR_RWL_BITPOS (5)
                             5076 ; 46   |#define HW_SAIRCSR_RDIR_BITPOS (7)
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  86

M:ADDR CODE           CYCLES LINE SOURCELINE
                             5077 ; 47   |#define HW_SAIRCSR_RLRS_BITPOS (8)
                             5078 ; 48   |#define HW_SAIRCSR_RCKP_BITPOS (9)
                             5079 ; 49   |#define HW_SAIRCSR_RREL_BITPOS (10)
                             5080 ; 50   |#define HW_SAIRCSR_RDWJ_BITPOS (11)
                             5081 ; 51   |#define HW_SAIRCSR_RXIE_BITPOS (12)
                             5082 ; 52   |#define HW_SAIRCSR_RSVD1_BITPOS (13)
                             5083 ; 53   |#define HW_SAIRCSR_ROFL_BITPOS (14)
                             5084 ; 54   |#define HW_SAIRCSR_RDR_BITPOS (15)
                             5085 ; 55   |#define HW_SAIRCSR_ROFCL_BITPOS (16)
                             5086 ; 56   |#define HW_SAIRCSR_RSVD2_BITPOS (17)
                             5087 ; 57   |
                             5088 ; 58   |
                             5089 ; 59   |#define HW_SAIRCSR_REN0_WIDTH (1)
                             5090 ; 60   |#define HW_SAIRCSR_REN1_WIDTH (1)
                             5091 ; 61   |#define HW_SAIRCSR_REN2_WIDTH (1)
                             5092 ; 62   |#define HW_SAIRCSR_RMME_WIDTH (1)
                             5093 ; 63   |#define HW_SAIRCSR_RSVD0_WIDTH (1)
                             5094 ; 64   |#define HW_SAIRCSR_RWL_WIDTH (2)
                             5095 ; 65   |#define HW_SAIRCSR_RDIR_WIDTH (1)
                             5096 ; 66   |#define HW_SAIRCSR_RLRS_WIDTH (1)
                             5097 ; 67   |#define HW_SAIRCSR_RCKP_WIDTH (1)
                             5098 ; 68   |#define HW_SAIRCSR_RREL_WIDTH (1)
                             5099 ; 69   |#define HW_SAIRCSR_RDWJ_WIDTH (1)
                             5100 ; 70   |#define HW_SAIRCSR_RXIE_WIDTH (1)
                             5101 ; 71   |#define HW_SAIRCSR_RSVD1_WIDTH (1)
                             5102 ; 72   |#define HW_SAIRCSR_ROFL_WIDTH (1)
                             5103 ; 73   |#define HW_SAIRCSR_RDR_WIDTH (1)
                             5104 ; 74   |#define HW_SAIRCSR_ROFCL_WIDTH (1)
                             5105 ; 75   |#define HW_SAIRCSR_RSVD2_WIDTH (7)
                             5106 ; 76   |
                             5107 ; 77   |
                             5108 ; 78   |#define HW_SAIRCSR_REN0_SETMASK (((1<HW_SAIRCSR_REN0_WIDTH)-1)<<HW_SAIRCSR_REN0_BITPOS)
                             5109 ; 79   |#define HW_SAIRCSR_REN1_SETMASK (((1<HW_SAIRCSR_REN1_WIDTH)-1)<<HW_SAIRCSR_REN1_BITPOS)
                             5110 ; 80   |#define HW_SAIRCSR_REN2_SETMASK (((1<HW_SAIRCSR_REN2_WIDTH)-1)<<HW_SAIRCSR_REN2_BITPOS)
                             5111 ; 81   |#define HW_SAIRCSR_RMME_SETMASK (((1<HW_SAIRCSR_RMME_WIDTH)-1)<<HW_SAIRCSR_RMME_BITPOS)
                             5112 ; 82   |#define HW_SAIRCSR_RSVD0_SETMASK (((1<HW_SAIRCSR_RSVD0_WIDTH)-1)<<HW_SAIRCSR_RSVD0_BITPOS)
                                  
                             5113 ; 83   |#define HW_SAIRCSR_RWL_SETMASK (((1<HW_SAIRCSR_RWL_WIDTH)-1)<<HW_SAIRCSR_RWL_BITPOS)
                             5114 ; 84   |#define HW_SAIRCSR_RDIR_SETMASK (((1<HW_SAIRCSR_RDIR_WIDTH)-1)<<HW_SAIRCSR_RDIR_BITPOS)
                             5115 ; 85   |#define HW_SAIRCSR_RLRS_SETMASK (((1<HW_SAIRCSR_RLRS_WIDTH)-1)<<HW_SAIRCSR_RLRS_BITPOS)
                             5116 ; 86   |#define HW_SAIRCSR_RCKP_SETMASK (((1<HW_SAIRCSR_RCKP_WIDTH)-1)<<HW_SAIRCSR_RCKP_BITPOS)
                             5117 ; 87   |#define HW_SAIRCSR_RREL_SETMASK (((1<HW_SAIRCSR_RREL_WIDTH)-1)<<HW_SAIRCSR_RREL_BITPOS)
                             5118 ; 88   |#define HW_SAIRCSR_RDWJ_SETMASK (((1<HW_SAIRCSR_RDWJ_WIDTH)-1)<<HW_SAIRCSR_RDWJ_BITPOS)
                             5119 ; 89   |#define HW_SAIRCSR_RXIE_SETMASK (((1<HW_SAIRCSR_RXIE_WIDTH)-1)<<HW_SAIRCSR_RXIE_BITPOS)
                             5120 ; 90   |#define HW_SAIRCSR_RSVD1_SETMASK (((1<HW_SAIRCSR_RSVD1_WIDTH)-1)<<HW_SAIRCSR_RSVD1_BITPOS)
                                  
                             5121 ; 91   |#define HW_SAIRCSR_ROFL_SETMASK (((1<HW_SAIRCSR_ROFL_WIDTH)-1)<<HW_SAIRCSR_ROFL_BITPOS)
                             5122 ; 92   |#define HW_SAIRCSR_RDR_SETMASK (((1<HW_SAIRCSR_RDR_WIDTH)-1)<<HW_SAIRCSR_RDR_BITPOS)
                             5123 ; 93   |#define HW_SAIRCSR_ROFCL_SETMASK (((1<HW_SAIRCSR_ROFCL_WIDTH)-1)<<HW_SAIRCSR_ROFCL_BITPOS)
                                  
                             5124 ; 94   |#define HW_SAIRCSR_RSVD2_SETMASK (((1<HW_SAIRCSR_RSVD2_WIDTH)-1)<<HW_SAIRCSR_RSVD2_BITPOS)
                                  
                             5125 ; 95   |
                             5126 ; 96   |
                             5127 ; 97   |#define HW_SAIRCSR_REN0_CLRMASK (~(WORD)HW_SAIRCSR_REN0_SETMASK)
                             5128 ; 98   |#define HW_SAIRCSR_REN1_CLRMASK (~(WORD)HW_SAIRCSR_REN1_SETMASK)
                             5129 ; 99   |#define HW_SAIRCSR_REN2_CLRMASK (~(WORD)HW_SAIRCSR_REN2_SETMASK)
                             5130 ; 100  |#define HW_SAIRCSR_RMME_CLRMASK (~(WORD)HW_SAIRCSR_RMME_SETMASK)
                             5131 ; 101  |#define HW_SAIRCSR_RSVD0_CLRMASK (~(WORD)HW_SAIRCSR_RSVD0_SETMASK)
                             5132 ; 102  |#define HW_SAIRCSR_RWL_CLRMASK (~(WORD)HW_SAIRCSR_RWL_SETMASK)
                             5133 ; 103  |#define HW_SAIRCSR_RDIR_CLRMASK (~(WORD)HW_SAIRCSR_RDIR_SETMASK)
                             5134 ; 104  |#define HW_SAIRCSR_RLRS_CLRMASK (~(WORD)HW_SAIRCSR_RLRS_SETMASK)
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  87

M:ADDR CODE           CYCLES LINE SOURCELINE
                             5135 ; 105  |#define HW_SAIRCSR_RCKP_CLRMASK (~(WORD)HW_SAIRCSR_RCKP_SETMASK)
                             5136 ; 106  |#define HW_SAIRCSR_RREL_CLRMASK (~(WORD)HW_SAIRCSR_RREL_SETMASK)
                             5137 ; 107  |#define HW_SAIRCSR_RDWJ_CLRMASK (~(WORD)HW_SAIRCSR_RDWJ_SETMASK)
                             5138 ; 108  |#define HW_SAIRCSR_RXIE_CLRMASK (~(WORD)HW_SAIRCSR_RXIE_SETMASK)
                             5139 ; 109  |#define HW_SAIRCSR_RSVD1_CLRMASK (~(WORD)HW_SAIRCSR_RSVD1_SETMASK)
                             5140 ; 110  |#define HW_SAIRCSR_ROFL_CLRMASK (~(WORD)HW_SAIRCSR_ROFL_SETMASK)
                             5141 ; 111  |#define HW_SAIRCSR_RDR_CLRMASK (~(WORD)HW_SAIRCSR_RDR_SETMASK)
                             5142 ; 112  |#define HW_SAIRCSR_ROFCL_CLRMASK (~(WORD)HW_SAIRCSR_ROFCL_SETMASK)
                             5143 ; 113  |#define HW_SAIRCSR_RSVD2_CLRMASK (~(WORD)HW_SAIRCSR_RSVD2_SETMASK)
                             5144 ; 114  |
                             5145 ; 115  |typedef union
                             5146 ; 116  |{
                             5147 ; 117  |    struct {
                             5148 ; 118  |        int REN0        :HW_SAIRCSR_REN0_WIDTH;        // Receiver 0 enable
                             5149 ; 119  |        int REN1        :HW_SAIRCSR_REN1_WIDTH;        // Receiver 1 enable
                             5150 ; 120  |        int REN2        :HW_SAIRCSR_REN2_WIDTH;        // Receiver 2 enable
                             5151 ; 121  |        int RMME        :HW_SAIRCSR_RMME_WIDTH;        // Receiver master mode enable
                             5152 ; 122  |        int RSVD0       :HW_SAIRCSR_RSVD0_WIDTH;       // Reserved
                             5153 ; 123  |        unsigned RWL    :HW_SAIRCSR_RWL_WIDTH;         // Receiver word length control
                             5154 ; 124  |        int RDIR        :HW_SAIRCSR_RDIR_WIDTH;        // Receiver data shift direction 
                             5155 ; 125  |        int RLRS        :HW_SAIRCSR_RLRS_WIDTH;        // Receiver left right select
                             5156 ; 126  |        int RCKP        :HW_SAIRCSR_RCKP_WIDTH;        // Receiver clock polarity
                             5157 ; 127  |        int RREL        :HW_SAIRCSR_RREL_WIDTH;        // Receiver relative timing
                             5158 ; 128  |        int RDWJ        :HW_SAIRCSR_RDWJ_WIDTH;        // Receiver data word justification
                                  
                             5159 ; 129  |        int RXIE        :HW_SAIRCSR_RXIE_WIDTH;        // Receiver interrupt enable
                             5160 ; 130  |        int RSVD1       :HW_SAIRCSR_RSVD1_WIDTH;       // Reserved
                             5161 ; 131  |        int ROFL        :HW_SAIRCSR_ROFL_WIDTH;        // Receiver data overflow
                             5162 ; 132  |        int RDR         :HW_SAIRCSR_RDR_WIDTH;         // Receiver data ready flag
                             5163 ; 133  |        int ROFCL       :HW_SAIRCSR_ROFCL_WIDTH;       // Receiver data overflow clear
                             5164 ; 134  |        unsigned RSVD2  :HW_SAIRCSR_RSVD2_WIDTH;       // Reserved
                             5165 ; 135  |    } B;
                             5166 ; 136  |    int I;
                             5167 ; 137  |    unsigned U;
                             5168 ; 138  |} saircsr_type;
                             5169 ; 139  |
                             5170 ; 140  |#define HW_SAIRCSR (*(volatile saircsr_type _X*) (HW_SAI_BASEADDR))       /* I2S Receive C
                                  SR         */
                             5171 ; 141  |
                             5172 ; 142  |typedef union
                             5173 ; 143  |{
                             5174 ; 144  |    struct {
                             5175 ; 145  |        unsigned SAI :24;
                             5176 ; 146  |    } B;
                             5177 ; 147  |    int I;
                             5178 ; 148  |    unsigned U;
                             5179 ; 149  |} saixr_type;
                             5180 ; 150  |
                             5181 ; 151  |#define HW_SAIRX0R (*(volatile saixr_type _X*)  (HW_SAI_BASEADDR+1))       /* I2S Received
                                   data reg 0 */
                             5182 ; 152  |#define HW_SAIRX1R (*(volatile saixr_type _X*)  (HW_SAI_BASEADDR+2))       /* I2S Received
                                   data reg 1 */
                             5183 ; 153  |#define HW_SAIRX2R (*(volatile saixr_type _X*)  (HW_SAI_BASEADDR+3))       /* I2S Received
                                   data reg 2 */
                             5184 ; 154  |
                             5185 ; 155  |
                             5186 ; 156  |#define HW_SAITCSR_TEN0_BITPOS (0)
                             5187 ; 157  |#define HW_SAITCSR_TEN1_BITPOS (1)
                             5188 ; 158  |#define HW_SAITCSR_TEN2_BITPOS (2)
                             5189 ; 159  |#define HW_SAITCSR_TMME_BITPOS (3)
                             5190 ; 160  |#define HW_SAITCSR_RSVD0_BITPOS (4)
                             5191 ; 161  |#define HW_SAITCSR_TWL_BITPOS (5)
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  88

M:ADDR CODE           CYCLES LINE SOURCELINE
                             5192 ; 162  |#define HW_SAITCSR_TDIR_BITPOS (7)
                             5193 ; 163  |#define HW_SAITCSR_TLRS_BITPOS (8)
                             5194 ; 164  |#define HW_SAITCSR_TCKP_BITPOS (9)
                             5195 ; 165  |#define HW_SAITCSR_TREL_BITPOS (10)
                             5196 ; 166  |#define HW_SAITCSR_TDWE_BITPOS (11)
                             5197 ; 167  |#define HW_SAITCSR_TXIE_BITPOS (12)
                             5198 ; 168  |#define HW_SAITCSR_RSVD1_BITPOS (13)
                             5199 ; 169  |#define HW_SAITCSR_TUFL_BITPOS (14)
                             5200 ; 170  |#define HW_SAITCSR_TDE_BITPOS (15)
                             5201 ; 171  |#define HW_SAITCSR_TUFCL_BITPOS (16)
                             5202 ; 172  |#define HW_SAITCSR_RSVD2_BITPOS (17)
                             5203 ; 173  |
                             5204 ; 174  |
                             5205 ; 175  |#define HW_SAITCSR_TEN0_WIDTH (1)
                             5206 ; 176  |#define HW_SAITCSR_TEN1_WIDTH (1)
                             5207 ; 177  |#define HW_SAITCSR_TEN2_WIDTH (1)
                             5208 ; 178  |#define HW_SAITCSR_TMME_WIDTH (1)
                             5209 ; 179  |#define HW_SAITCSR_RSVD0_WIDTH (1)
                             5210 ; 180  |#define HW_SAITCSR_TWL_WIDTH (2)
                             5211 ; 181  |#define HW_SAITCSR_TDIR_WIDTH (1)
                             5212 ; 182  |#define HW_SAITCSR_TLRS_WIDTH (1)
                             5213 ; 183  |#define HW_SAITCSR_TCKP_WIDTH (1)
                             5214 ; 184  |#define HW_SAITCSR_TREL_WIDTH (1)
                             5215 ; 185  |#define HW_SAITCSR_TDWE_WIDTH (1)
                             5216 ; 186  |#define HW_SAITCSR_TXIE_WIDTH (1)
                             5217 ; 187  |#define HW_SAITCSR_RSVD1_WIDTH (1)
                             5218 ; 188  |#define HW_SAITCSR_TUFL_WIDTH (1)
                             5219 ; 189  |#define HW_SAITCSR_TDE_WIDTH (1)
                             5220 ; 190  |#define HW_SAITCSR_TUFCL_WIDTH (1)
                             5221 ; 191  |#define HW_SAITCSR_RSVD2_WIDTH (7)
                             5222 ; 192  |
                             5223 ; 193  |
                             5224 ; 194  |#define HW_SAITCSR_TEN0_SETMASK (((1<HW_SAITCSR_TEN0_WIDTH)-1)<<HW_SAITCSR_TEN0_BITPOS)
                             5225 ; 195  |#define HW_SAITCSR_TEN1_SETMASK (((1<HW_SAITCSR_TEN1_WIDTH)-1)<<HW_SAITCSR_TEN1_BITPOS)
                             5226 ; 196  |#define HW_SAITCSR_TEN2_SETMASK (((1<HW_SAITCSR_TEN2_WIDTH)-1)<<HW_SAITCSR_TEN2_BITPOS)
                             5227 ; 197  |#define HW_SAITCSR_TMME_SETMASK (((1<HW_SAITCSR_TMME_WIDTH)-1)<<HW_SAITCSR_TMME_BITPOS)
                             5228 ; 198  |#define HW_SAITCSR_RSVD0_SETMASK (((1<HW_SAITCSR_RSVD0_WIDTH)-1)<<HW_SAITCSR_RSVD0_BITPOS)
                                  
                             5229 ; 199  |#define HW_SAITCSR_TWL_SETMASK (((1<HW_SAITCSR_TWL_WIDTH)-1)<<HW_SAITCSR_TWL_BITPOS)
                             5230 ; 200  |#define HW_SAITCSR_TDIR_SETMASK (((1<HW_SAITCSR_TDIR_WIDTH)-1)<<HW_SAITCSR_TDIR_BITPOS)
                             5231 ; 201  |#define HW_SAITCSR_TLRS_SETMASK (((1<HW_SAITCSR_TLRS_WIDTH)-1)<<HW_SAITCSR_TLRS_BITPOS)
                             5232 ; 202  |#define HW_SAITCSR_TCKP_SETMASK (((1<HW_SAITCSR_TCKP_WIDTH)-1)<<HW_SAITCSR_TCKP_BITPOS)
                             5233 ; 203  |#define HW_SAITCSR_TREL_SETMASK (((1<HW_SAITCSR_TREL_WIDTH)-1)<<HW_SAITCSR_TREL_BITPOS)
                             5234 ; 204  |#define HW_SAITCSR_TDWE_SETMASK (((1<HW_SAITCSR_TDWE_WIDTH)-1)<<HW_SAITCSR_TDWE_BITPOS)
                             5235 ; 205  |#define HW_SAITCSR_TXIE_SETMASK (((1<HW_SAITCSR_TXIE_WIDTH)-1)<<HW_SAITCSR_TXIE_BITPOS)
                             5236 ; 206  |#define HW_SAITCSR_RSVD1_SETMASK (((1<HW_SAITCSR_RSVD1_WIDTH)-1)<<HW_SAITCSR_RSVD1_BITPOS)
                                  
                             5237 ; 207  |#define HW_SAITCSR_TUFL_SETMASK (((1<HW_SAITCSR_TUFL_WIDTH)-1)<<HW_SAITCSR_TUFL_BITPOS)
                             5238 ; 208  |#define HW_SAITCSR_TDE_SETMASK (((1<HW_SAITCSR_TDE_WIDTH)-1)<<HW_SAITCSR_TDE_BITPOS)
                             5239 ; 209  |#define HW_SAITCSR_TUFCL_SETMASK (((1<HW_SAITCSR_TUFCL_WIDTH)-1)<<HW_SAITCSR_TUFCL_BITPOS)
                                  
                             5240 ; 210  |#define HW_SAITCSR_RSVD2_SETMASK (((1<HW_SAITCSR_RSVD2_WIDTH)-1)<<HW_SAITCSR_RSVD2_BITPOS)
                                  
                             5241 ; 211  |
                             5242 ; 212  |
                             5243 ; 213  |#define HW_SAITCSR_TEN0_CLRMASK (~(WORD)HW_SAITCSR_TEN0_SETMASK)
                             5244 ; 214  |#define HW_SAITCSR_TEN1_CLRMASK (~(WORD)HW_SAITCSR_TEN1_SETMASK)
                             5245 ; 215  |#define HW_SAITCSR_TEN2_CLRMASK (~(WORD)HW_SAITCSR_TEN2_SETMASK)
                             5246 ; 216  |#define HW_SAITCSR_TMME_CLRMASK (~(WORD)HW_SAITCSR_TMME_SETMASK)
                             5247 ; 217  |#define HW_SAITCSR_RSVD0_CLRMASK (~(WORD)HW_SAITCSR_RSVD0_SETMASK)
                             5248 ; 218  |#define HW_SAITCSR_TWL_CLRMASK (~(WORD)HW_SAITCSR_TWL_SETMASK)
                             5249 ; 219  |#define HW_SAITCSR_TDIR_CLRMASK (~(WORD)HW_SAITCSR_TDIR_SETMASK)
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  89

M:ADDR CODE           CYCLES LINE SOURCELINE
                             5250 ; 220  |#define HW_SAITCSR_TLRS_CLRMASK (~(WORD)HW_SAITCSR_TLRS_SETMASK)
                             5251 ; 221  |#define HW_SAITCSR_TCKP_CLRMASK (~(WORD)HW_SAITCSR_TCKP_SETMASK)
                             5252 ; 222  |#define HW_SAITCSR_TREL_CLRMASK (~(WORD)HW_SAITCSR_TREL_SETMASK)
                             5253 ; 223  |#define HW_SAITCSR_TDWE_CLRMASK (~(WORD)HW_SAITCSR_TDWE_SETMASK)
                             5254 ; 224  |#define HW_SAITCSR_TXIE_CLRMASK (~(WORD)HW_SAITCSR_TXIE_SETMASK)
                             5255 ; 225  |#define HW_SAITCSR_RSVD1_CLRMASK (~(WORD)HW_SAITCSR_RSVD1_SETMASK)
                             5256 ; 226  |#define HW_SAITCSR_TUFL_CLRMASK (~(WORD)HW_SAITCSR_TUFL_SETMASK)
                             5257 ; 227  |#define HW_SAITCSR_TDE_CLRMASK (~(WORD)HW_SAITCSR_TDE_SETMASK)
                             5258 ; 228  |#define HW_SAITCSR_TUFCL_CLRMASK (~(WORD)HW_SAITCSR_TUFCL_SETMASK)
                             5259 ; 229  |#define HW_SAITCSR_RSVD2_CLRMASK (~(WORD)HW_SAITCSR_RSVD2_SETMASK)
                             5260 ; 230  |
                             5261 ; 231  |
                             5262 ; 232  |typedef union
                             5263 ; 233  |{
                             5264 ; 234  |    struct {
                             5265 ; 235  |        int TEN0       :HW_SAITCSR_TEN0_WIDTH;         // Transmitter 0 enable
                             5266 ; 236  |        int TEN1       :HW_SAITCSR_TEN1_WIDTH;         // Transmitter 1 enable
                             5267 ; 237  |        int TEN2       :HW_SAITCSR_TEN2_WIDTH;         // Transmitter 2 enable
                             5268 ; 238  |        int TMME       :HW_SAITCSR_TMME_WIDTH;         // Transmitter master mode enable
                             5269 ; 239  |        int RSVD0      :HW_SAITCSR_RSVD0_WIDTH;        // Reserved
                             5270 ; 240  |        unsigned TWL   :HW_SAITCSR_TWL_WIDTH;          // Transmitter word length control
                             5271 ; 241  |        int TDIR       :HW_SAITCSR_TDIR_WIDTH;         // Transmitter data shift direction
                                   
                             5272 ; 242  |        int TLRS       :HW_SAITCSR_TLRS_WIDTH;         // Transmitter left right select
                             5273 ; 243  |        int TCKP       :HW_SAITCSR_TCKP_WIDTH;         // Transmitter clock polarity
                             5274 ; 244  |        int TREL       :HW_SAITCSR_TREL_WIDTH;         // Transmitter relative timing
                             5275 ; 245  |        int TDWE       :HW_SAITCSR_TDWE_WIDTH;         // Transmitter data word justificat
                                  ion
                             5276 ; 246  |        int TXIE       :HW_SAITCSR_TXIE_WIDTH;         // Transmitter interrupt enable
                             5277 ; 247  |        int RSVD1      :HW_SAITCSR_RSVD1_WIDTH;        // Reserved
                             5278 ; 248  |        int TUFL       :HW_SAITCSR_TUFL_WIDTH;         // Transmitter data overflow
                             5279 ; 249  |        int TDE        :HW_SAITCSR_TDE_WIDTH;          // Transmitter data ready flag
                             5280 ; 250  |        int TUFCL      :HW_SAITCSR_TUFCL_WIDTH;        // Transmitter data overflow clear
                             5281 ; 251  |        unsigned RSVD2 :HW_SAITCSR_RSVD2_WIDTH;        // Reserved
                             5282 ; 252  |    } B;
                             5283 ; 253  |    int I;
                             5284 ; 254  |    unsigned U;
                             5285 ; 255  |} saitcsr_type;
                             5286 ; 256  |
                             5287 ; 257  |#define HW_SAITCSR (*(volatile saitcsr_type _X*) (HW_SAI_BASEADDR+5)) /* I2S Transmit CSR 
                                       */
                             5288 ; 258  |
                             5289 ; 259  |#define HW_SAITX0R (*(volatile saixr_type _X*)  (HW_SAI_BASEADDR+6))       /* I2S Transmit
                                   data reg 0 */
                             5290 ; 260  |#define HW_SAITX1R (*(volatile saixr_type _X*)  (HW_SAI_BASEADDR+7))       /* I2S Transmit
                                   data reg 1 */
                             5291 ; 261  |#define HW_SAITX2R (*(volatile saixr_type _X*)  (HW_SAI_BASEADDR+8))       /* I2S Transmit
                                   data reg 2 */
                             5292 ; 262  |
                             5293 ; 263  |#endif
                             5294 
                             5296 
                             5297 ; 25   |#include "regsicoll.h"
                             5298 
                             5300 
                             5301 ; 1    |#if !defined(__REGS_ICOLL_INC)
                             5302 ; 2    |#define __REGS_ICOLL_INC 1
                             5303 ; 3    |
                             5304 ; 4    |/////////////////////////////////////////////////////////////////////////////////
                             5305 ; 5    |//  Interrupt Collector Registers
                             5306 ; 6    |/////////////////////////////////////////////////////////////////////////////////
                             5307 ; 7    |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  90

M:ADDR CODE           CYCLES LINE SOURCELINE
                             5308 ; 8    |#define HW_ICOLL_BASEADDR 0xF300
                             5309 ; 9    |
                             5310 ; 10   |
                             5311 ; 11   |
                             5312 ; 12   |/////////////////////////////////////////////////////////////////////////////////
                             5313 ; 13   |//  Interrupt Collector 0 Enable Register (HW_ICLENABLE0R) Bit Positions
                             5314 ; 14   |
                             5315 ; 15   |typedef union
                             5316 ; 16   |{
                             5317 ; 17   |    struct {
                             5318 ; 18   |        int SEN0        :1;
                             5319 ; 19   |        int SEN1        :1;
                             5320 ; 20   |        int SEN2        :1;
                             5321 ; 21   |        int SEN3        :1;
                             5322 ; 22   |        int SEN4        :1;
                             5323 ; 23   |        int SEN5        :1;
                             5324 ; 24   |        int SEN6        :1;
                             5325 ; 25   |        int SEN7        :1;
                             5326 ; 26   |        int SEN8        :1;
                             5327 ; 27   |        int SEN9        :1;
                             5328 ; 28   |        int SEN10       :1;
                             5329 ; 29   |        int SEN11       :1;
                             5330 ; 30   |        int SEN12       :1;
                             5331 ; 31   |        int SEN13       :1;
                             5332 ; 32   |        int SEN14       :1;
                             5333 ; 33   |        int SEN15       :1;
                             5334 ; 34   |        int SEN16       :1;
                             5335 ; 35   |        int SEN17       :1;
                             5336 ; 36   |        int SEN18       :1;
                             5337 ; 37   |        int SEN19       :1;
                             5338 ; 38   |        int SEN20       :1;
                             5339 ; 39   |        int SEN21       :1;
                             5340 ; 40   |        int SEN22       :1;
                             5341 ; 41   |        int SEN23       :1;
                             5342 ; 42   |    } B;
                             5343 ; 43   |    int I;
                             5344 ; 44   |} iclenable0_type;
                             5345 ; 45   |#define HW_ICLENABLE0R  (*(volatile iclenable0_type _X*) (HW_ICOLL_BASEADDR)) /* Interrupt
                                   Priority Register Core   */
                             5346 ; 46   |
                             5347 ; 47   |
                             5348 ; 48   |#define HW_ICLENABLE0R_SEN0_BITPOS 0
                             5349 ; 49   |#define HW_ICLENABLE0R_SEN1_BITPOS 1
                             5350 ; 50   |#define HW_ICLENABLE0R_SEN2_BITPOS 2
                             5351 ; 51   |#define HW_ICLENABLE0R_SEN3_BITPOS 3
                             5352 ; 52   |#define HW_ICLENABLE0R_SEN4_BITPOS 4
                             5353 ; 53   |#define HW_ICLENABLE0R_SEN5_BITPOS 5
                             5354 ; 54   |#define HW_ICLENABLE0R_SEN6_BITPOS 6
                             5355 ; 55   |#define HW_ICLENABLE0R_SEN7_BITPOS 7
                             5356 ; 56   |#define HW_ICLENABLE0R_SEN8_BITPOS 8
                             5357 ; 57   |#define HW_ICLENABLE0R_SEN9_BITPOS 9
                             5358 ; 58   |#define HW_ICLENABLE0R_SEN10_BITPOS 10
                             5359 ; 59   |#define HW_ICLENABLE0R_SEN11_BITPOS 11
                             5360 ; 60   |#define HW_ICLENABLE0R_SEN12_BITPOS 12
                             5361 ; 61   |#define HW_ICLENABLE0R_SEN13_BITPOS 13
                             5362 ; 62   |#define HW_ICLENABLE0R_SEN14_BITPOS 14
                             5363 ; 63   |#define HW_ICLENABLE0R_SEN15_BITPOS 15
                             5364 ; 64   |#define HW_ICLENABLE0R_SEN16_BITPOS 16
                             5365 ; 65   |#define HW_ICLENABLE0R_SEN17_BITPOS 17
                             5366 ; 66   |#define HW_ICLENABLE0R_SEN18_BITPOS 18
                             5367 ; 67   |#define HW_ICLENABLE0R_SEN19_BITPOS 19
                             5368 ; 68   |#define HW_ICLENABLE0R_SEN20_BITPOS 20
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  91

M:ADDR CODE           CYCLES LINE SOURCELINE
                             5369 ; 69   |#define HW_ICLENABLE0R_SEN21_BITPOS 21
                             5370 ; 70   |#define HW_ICLENABLE0R_SEN22_BITPOS 22
                             5371 ; 71   |#define HW_ICLENABLE0R_SEN23_BITPOS 23
                             5372 ; 72   |
                             5373 ; 73   |#define HW_ICLENABLE0R_SEN0_SETMASK 1<<HW_ICLENABLE0R_SEN0_BITPOS
                             5374 ; 74   |#define HW_ICLENABLE0R_SEN1_SETMASK 1<<HW_ICLENABLE0R_SEN1_BITPOS
                             5375 ; 75   |#define HW_ICLENABLE0R_SEN2_SETMASK 1<<HW_ICLENABLE0R_SEN2_BITPOS
                             5376 ; 76   |#define HW_ICLENABLE0R_SEN3_SETMASK 1<<HW_ICLENABLE0R_SEN3_BITPOS
                             5377 ; 77   |#define HW_ICLENABLE0R_SEN4_SETMASK 1<<HW_ICLENABLE0R_SEN4_BITPOS
                             5378 ; 78   |#define HW_ICLENABLE0R_SEN5_SETMASK 1<<HW_ICLENABLE0R_SEN5_BITPOS
                             5379 ; 79   |#define HW_ICLENABLE0R_SEN6_SETMASK 1<<HW_ICLENABLE0R_SEN6_BITPOS
                             5380 ; 80   |#define HW_ICLENABLE0R_SEN7_SETMASK 1<<HW_ICLENABLE0R_SEN7_BITPOS
                             5381 ; 81   |#define HW_ICLENABLE0R_SEN8_SETMASK 1<<HW_ICLENABLE0R_SEN8_BITPOS
                             5382 ; 82   |#define HW_ICLENABLE0R_SEN9_SETMASK 1<<HW_ICLENABLE0R_SEN9_BITPOS
                             5383 ; 83   |#define HW_ICLENABLE0R_SEN10_SETMASK 1<<HW_ICLENABLE0R_SEN10_BITPOS
                             5384 ; 84   |#define HW_ICLENABLE0R_SEN11_SETMASK 1<<HW_ICLENABLE0R_SEN11_BITPOS
                             5385 ; 85   |#define HW_ICLENABLE0R_SEN12_SETMASK 1<<HW_ICLENABLE0R_SEN12_BITPOS
                             5386 ; 86   |#define HW_ICLENABLE0R_SEN13_SETMASK 1<<HW_ICLENABLE0R_SEN13_BITPOS
                             5387 ; 87   |#define HW_ICLENABLE0R_SEN14_SETMASK 1<<HW_ICLENABLE0R_SEN14_BITPOS
                             5388 ; 88   |#define HW_ICLENABLE0R_SEN15_SETMASK 1<<HW_ICLENABLE0R_SEN15_BITPOS
                             5389 ; 89   |#define HW_ICLENABLE0R_SEN16_SETMASK 1<<HW_ICLENABLE0R_SEN16_BITPOS
                             5390 ; 90   |#define HW_ICLENABLE0R_SEN17_SETMASK 1<<HW_ICLENABLE0R_SEN17_BITPOS
                             5391 ; 91   |#define HW_ICLENABLE0R_SEN18_SETMASK 1<<HW_ICLENABLE0R_SEN18_BITPOS
                             5392 ; 92   |#define HW_ICLENABLE0R_SEN19_SETMASK 1<<HW_ICLENABLE0R_SEN19_BITPOS
                             5393 ; 93   |#define HW_ICLENABLE0R_SEN20_SETMASK 1<<HW_ICLENABLE0R_SEN20_BITPOS
                             5394 ; 94   |#define HW_ICLENABLE0R_SEN21_SETMASK 1<<HW_ICLENABLE0R_SEN21_BITPOS
                             5395 ; 95   |#define HW_ICLENABLE0R_SEN22_SETMASK 1<<HW_ICLENABLE0R_SEN22_BITPOS
                             5396 ; 96   |#define HW_ICLENABLE0R_SEN23_SETMASK 1<<HW_ICLENABLE0R_SEN23_BITPOS
                             5397 ; 97   |
                             5398 ; 98   |#define HW_ICLENABLE0R_SEN0_CLRMASK ~(WORD)HW_ICLENABLE0R_SEN0_SETMASK
                             5399 ; 99   |#define HW_ICLENABLE0R_SEN1_CLRMASK ~(WORD)HW_ICLENABLE0R_SEN1_SETMASK
                             5400 ; 100  |#define HW_ICLENABLE0R_SEN2_CLRMASK ~(WORD)HW_ICLENABLE0R_SEN2_SETMASK
                             5401 ; 101  |#define HW_ICLENABLE0R_SEN3_CLRMASK ~(WORD)HW_ICLENABLE0R_SEN3_SETMASK
                             5402 ; 102  |#define HW_ICLENABLE0R_SEN4_CLRMASK ~(WORD)HW_ICLENABLE0R_SEN4_SETMASK
                             5403 ; 103  |#define HW_ICLENABLE0R_SEN5_CLRMASK ~(WORD)HW_ICLENABLE0R_SEN5_SETMASK
                             5404 ; 104  |#define HW_ICLENABLE0R_SEN6_CLRMASK ~(WORD)HW_ICLENABLE0R_SEN6_SETMASK
                             5405 ; 105  |#define HW_ICLENABLE0R_SEN7_CLRMASK ~(WORD)HW_ICLENABLE0R_SEN7_SETMASK
                             5406 ; 106  |#define HW_ICLENABLE0R_SEN8_CLRMASK ~(WORD)HW_ICLENABLE0R_SEN8_SETMASK
                             5407 ; 107  |#define HW_ICLENABLE0R_SEN9_CLRMASK ~(WORD)HW_ICLENABLE0R_SEN9_SETMASK
                             5408 ; 108  |#define HW_ICLENABLE0R_SEN10_CLRMASK ~(WORD)HW_ICLENABLE0R_SEN10_SETMASK
                             5409 ; 109  |#define HW_ICLENABLE0R_SEN11_CLRMASK ~(WORD)HW_ICLENABLE0R_SEN11_SETMASK
                             5410 ; 110  |#define HW_ICLENABLE0R_SEN12_CLRMASK ~(WORD)HW_ICLENABLE0R_SEN12_SETMASK
                             5411 ; 111  |#define HW_ICLENABLE0R_SEN13_CLRMASK ~(WORD)HW_ICLENABLE0R_SEN13_SETMASK
                             5412 ; 112  |#define HW_ICLENABLE0R_SEN14_CLRMASK ~(WORD)HW_ICLENABLE0R_SEN14_SETMASK
                             5413 ; 113  |#define HW_ICLENABLE0R_SEN15_CLRMASK ~(WORD)HW_ICLENABLE0R_SEN15_SETMASK
                             5414 ; 114  |#define HW_ICLENABLE0R_SEN16_CLRMASK ~(WORD)HW_ICLENABLE0R_SEN16_SETMASK
                             5415 ; 115  |#define HW_ICLENABLE0R_SEN17_CLRMASK ~(WORD)HW_ICLENABLE0R_SEN17_SETMASK
                             5416 ; 116  |#define HW_ICLENABLE0R_SEN18_CLRMASK ~(WORD)HW_ICLENABLE0R_SEN18_SETMASK
                             5417 ; 117  |#define HW_ICLENABLE0R_SEN19_CLRMASK ~(WORD)HW_ICLENABLE0R_SEN19_SETMASK
                             5418 ; 118  |#define HW_ICLENABLE0R_SEN20_CLRMASK ~(WORD)HW_ICLENABLE0R_SEN20_SETMASK
                             5419 ; 119  |#define HW_ICLENABLE0R_SEN21_CLRMASK ~(WORD)HW_ICLENABLE0R_SEN21_SETMASK
                             5420 ; 120  |#define HW_ICLENABLE0R_SEN22_CLRMASK ~(WORD)HW_ICLENABLE0R_SEN22_SETMASK
                             5421 ; 121  |#define HW_ICLENABLE0R_SEN23_CLRMASK ~(WORD)HW_ICLENABLE0R_SEN23_SETMASK
                             5422 ; 122  |
                             5423 ; 123  |
                             5424 ; 124  |/////////////////////////////////////////////////////////////////////////////////
                             5425 ; 125  |//  Interrupt Collector 1 Enable Register (HW_ICLENABLE1R) Bit Positions
                             5426 ; 126  |typedef union
                             5427 ; 127  |{
                             5428 ; 128  |    struct {
                             5429 ; 129  |        
                             5430 ; 130  |        int SEN24       :1;
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  92

M:ADDR CODE           CYCLES LINE SOURCELINE
                             5431 ; 131  |        int SEN25       :1;
                             5432 ; 132  |        int SEN26       :1;
                             5433 ; 133  |        int SEN27       :1;
                             5434 ; 134  |        int SEN28       :1;
                             5435 ; 135  |        int SEN29       :1;
                             5436 ; 136  |        int SEN30       :1;
                             5437 ; 137  |        int SEN31       :1;
                             5438 ; 138  |        int SEN32       :1;
                             5439 ; 139  |        int SEN33       :1;
                             5440 ; 140  |    } B;
                             5441 ; 141  |    int I;
                             5442 ; 142  |} iclenable1_type;
                             5443 ; 143  |
                             5444 ; 144  |#define HW_ICLENABLE1R  (*(volatile iclenable1_type _X*) (HW_ICOLL_BASEADDR+1)) /* Interru
                                  pt Priority Register Core    */
                             5445 ; 145  |
                             5446 ; 146  |#define HW_ICLENABLE1R_SEN24_BITPOS 0
                             5447 ; 147  |#define HW_ICLENABLE1R_SEN25_BITPOS 1
                             5448 ; 148  |#define HW_ICLENABLE1R_SEN26_BITPOS 2
                             5449 ; 149  |#define HW_ICLENABLE1R_SEN27_BITPOS 3
                             5450 ; 150  |#define HW_ICLENABLE1R_SEN28_BITPOS 4
                             5451 ; 151  |#define HW_ICLENABLE1R_SEN29_BITPOS 5
                             5452 ; 152  |#define HW_ICLENABLE1R_SEN30_BITPOS 6
                             5453 ; 153  |#define HW_ICLENABLE1R_SEN31_BITPOS 7
                             5454 ; 154  |#define HW_ICLENABLE1R_SEN32_BITPOS 8
                             5455 ; 155  |#define HW_ICLENABLE1R_SEN33_BITPOS 9
                             5456 ; 156  |
                             5457 ; 157  |#define HW_ICLENABLE1R_SEN24_SETMASK 1<<HW_ICLENABLE1R_SEN24_BITPOS
                             5458 ; 158  |#define HW_ICLENABLE1R_SEN25_SETMASK 1<<HW_ICLENABLE1R_SEN25_BITPOS
                             5459 ; 159  |#define HW_ICLENABLE1R_SEN26_SETMASK 1<<HW_ICLENABLE1R_SEN26_BITPOS
                             5460 ; 160  |#define HW_ICLENABLE1R_SEN27_SETMASK 1<<HW_ICLENABLE1R_SEN27_BITPOS
                             5461 ; 161  |#define HW_ICLENABLE1R_SEN28_SETMASK 1<<HW_ICLENABLE1R_SEN28_BITPOS
                             5462 ; 162  |#define HW_ICLENABLE1R_SEN29_SETMASK 1<<HW_ICLENABLE1R_SEN29_BITPOS
                             5463 ; 163  |#define HW_ICLENABLE1R_SEN30_SETMASK 1<<HW_ICLENABLE1R_SEN30_BITPOS
                             5464 ; 164  |#define HW_ICLENABLE1R_SEN31_SETMASK 1<<HW_ICLENABLE1R_SEN31_BITPOS
                             5465 ; 165  |#define HW_ICLENABLE1R_SEN32_SETMASK 1<<HW_ICLENABLE1R_SEN32_BITPOS
                             5466 ; 166  |#define HW_ICLENABLE1R_SEN33_SETMASK 1<<HW_ICLENABLE1R_SEN33_BITPOS
                             5467 ; 167  |
                             5468 ; 168  |#define HW_ICLENABLE1R_SEN24_CLRMASK ~(WORD)HW_ICLENABLE1R_SEN24_SETMASK
                             5469 ; 169  |#define HW_ICLENABLE1R_SEN25_CLRMASK ~(WORD)HW_ICLENABLE1R_SEN25_SETMASK
                             5470 ; 170  |#define HW_ICLENABLE1R_SEN26_CLRMASK ~(WORD)HW_ICLENABLE1R_SEN26_SETMASK
                             5471 ; 171  |#define HW_ICLENABLE1R_SEN27_CLRMASK ~(WORD)HW_ICLENABLE1R_SEN27_SETMASK
                             5472 ; 172  |#define HW_ICLENABLE1R_SEN28_CLRMASK ~(WORD)HW_ICLENABLE1R_SEN28_SETMASK
                             5473 ; 173  |#define HW_ICLENABLE1R_SEN29_CLRMASK ~(WORD)HW_ICLENABLE1R_SEN29_SETMASK
                             5474 ; 174  |#define HW_ICLENABLE1R_SEN30_CLRMASK ~(WORD)HW_ICLENABLE1R_SEN30_SETMASK
                             5475 ; 175  |#define HW_ICLENABLE1R_SEN31_CLRMASK ~(WORD)HW_ICLENABLE1R_SEN31_SETMASK
                             5476 ; 176  |#define HW_ICLENABLE1R_SEN32_CLRMASK ~(WORD)HW_ICLENABLE1R_SEN32_SETMASK
                             5477 ; 177  |#define HW_ICLENABLE1R_SEN33_CLRMASK ~(WORD)HW_ICLENABLE1R_SEN33_SETMASK
                             5478 ; 178  |
                             5479 ; 179  |
                             5480 ; 180  |/////////////////////////////////////////////////////////////////////////////////
                             5481 ; 181  |//  Interrupt Collector Status 0 Register (HW_ICLSTATUS0R) Bit Positions
                             5482 ; 182  |typedef union
                             5483 ; 183  |{
                             5484 ; 184  |    struct {
                             5485 ; 185  |        int SST0        :1;
                             5486 ; 186  |        int SST1        :1;
                             5487 ; 187  |        int SST2        :1;
                             5488 ; 188  |        int SST3        :1;
                             5489 ; 189  |        int SST4        :1;
                             5490 ; 190  |        int SST5        :1;
                             5491 ; 191  |        int SST6        :1;
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  93

M:ADDR CODE           CYCLES LINE SOURCELINE
                             5492 ; 192  |        int SST7        :1;
                             5493 ; 193  |        int SST8        :1;
                             5494 ; 194  |        int SST9        :1;
                             5495 ; 195  |        int SST10       :1;
                             5496 ; 196  |        int SST11       :1;
                             5497 ; 197  |        int SST12       :1;
                             5498 ; 198  |        int SST13       :1;
                             5499 ; 199  |        int SST14       :1;
                             5500 ; 200  |        int SST15       :1;
                             5501 ; 201  |        int SST16       :1;
                             5502 ; 202  |        int SST17       :1;
                             5503 ; 203  |        int SST18       :1;
                             5504 ; 204  |        int SST19       :1;
                             5505 ; 205  |        int SST20       :1;
                             5506 ; 206  |        int SST21       :1;
                             5507 ; 207  |        int SST22       :1;
                             5508 ; 208  |        int SST23       :1;
                             5509 ; 209  |    } B;
                             5510 ; 210  |    int I;
                             5511 ; 211  |} iclstatus0_type;
                             5512 ; 212  |#define HW_ICLSTATUS0R  (*(volatile iclstatus0_type _X*) (HW_ICOLL_BASEADDR+2)) /* Interru
                                  pt Priority Register Core */
                             5513 ; 213  |#define HW_ICLSTATUS0R_SST0_BITPOS 0
                             5514 ; 214  |#define HW_ICLSTATUS0R_SST1_BITPOS 1
                             5515 ; 215  |#define HW_ICLSTATUS0R_SST2_BITPOS 2
                             5516 ; 216  |#define HW_ICLSTATUS0R_SST3_BITPOS 3
                             5517 ; 217  |#define HW_ICLSTATUS0R_SST4_BITPOS 4
                             5518 ; 218  |#define HW_ICLSTATUS0R_SST5_BITPOS 5
                             5519 ; 219  |#define HW_ICLSTATUS0R_SST6_BITPOS 6
                             5520 ; 220  |#define HW_ICLSTATUS0R_SST7_BITPOS 7
                             5521 ; 221  |#define HW_ICLSTATUS0R_SST8_BITPOS 8
                             5522 ; 222  |#define HW_ICLSTATUS0R_SST9_BITPOS 9
                             5523 ; 223  |#define HW_ICLSTATUS0R_SST10_BITPOS 10
                             5524 ; 224  |#define HW_ICLSTATUS0R_SST11_BITPOS 11
                             5525 ; 225  |#define HW_ICLSTATUS0R_SST12_BITPOS 12
                             5526 ; 226  |#define HW_ICLSTATUS0R_SST13_BITPOS 13
                             5527 ; 227  |#define HW_ICLSTATUS0R_SST14_BITPOS 14
                             5528 ; 228  |#define HW_ICLSTATUS0R_SST15_BITPOS 15
                             5529 ; 229  |#define HW_ICLSTATUS0R_SST16_BITPOS 16
                             5530 ; 230  |#define HW_ICLSTATUS0R_SST17_BITPOS 17
                             5531 ; 231  |#define HW_ICLSTATUS0R_SST18_BITPOS 18
                             5532 ; 232  |#define HW_ICLSTATUS0R_SST19_BITPOS 19
                             5533 ; 233  |#define HW_ICLSTATUS0R_SST20_BITPOS 20
                             5534 ; 234  |#define HW_ICLSTATUS0R_SST21_BITPOS 21
                             5535 ; 235  |#define HW_ICLSTATUS0R_SST22_BITPOS 22
                             5536 ; 236  |#define HW_ICLSTATUS0R_SST23_BITPOS 23
                             5537 ; 237  |
                             5538 ; 238  |#define HW_ICLSTATUS0R_SST0_SETMASK 1<<HW_ICLSTATUS0R_SST0_BITPOS
                             5539 ; 239  |#define HW_ICLSTATUS0R_SST1_SETMASK 1<<HW_ICLSTATUS0R_SST1_BITPOS
                             5540 ; 240  |#define HW_ICLSTATUS0R_SST2_SETMASK 1<<HW_ICLSTATUS0R_SST2_BITPOS
                             5541 ; 241  |#define HW_ICLSTATUS0R_SST3_SETMASK 1<<HW_ICLSTATUS0R_SST3_BITPOS
                             5542 ; 242  |#define HW_ICLSTATUS0R_SST4_SETMASK 1<<HW_ICLSTATUS0R_SST4_BITPOS
                             5543 ; 243  |#define HW_ICLSTATUS0R_SST5_SETMASK 1<<HW_ICLSTATUS0R_SST5_BITPOS
                             5544 ; 244  |#define HW_ICLSTATUS0R_SST6_SETMASK 1<<HW_ICLSTATUS0R_SST6_BITPOS
                             5545 ; 245  |#define HW_ICLSTATUS0R_SST7_SETMASK 1<<HW_ICLSTATUS0R_SST7_BITPOS
                             5546 ; 246  |#define HW_ICLSTATUS0R_SST8_SETMASK 1<<HW_ICLSTATUS0R_SST8_BITPOS
                             5547 ; 247  |#define HW_ICLSTATUS0R_SST9_SETMASK 1<<HW_ICLSTATUS0R_SST9_BITPOS
                             5548 ; 248  |#define HW_ICLSTATUS0R_SST10_SETMASK 1<<HW_ICLSTATUS0R_SST10_BITPOS
                             5549 ; 249  |#define HW_ICLSTATUS0R_SST11_SETMASK 1<<HW_ICLSTATUS0R_SST11_BITPOS
                             5550 ; 250  |#define HW_ICLSTATUS0R_SST12_SETMASK 1<<HW_ICLSTATUS0R_SST12_BITPOS
                             5551 ; 251  |#define HW_ICLSTATUS0R_SST13_SETMASK 1<<HW_ICLSTATUS0R_SST13_BITPOS
                             5552 ; 252  |#define HW_ICLSTATUS0R_SST14_SETMASK 1<<HW_ICLSTATUS0R_SST14_BITPOS
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  94

M:ADDR CODE           CYCLES LINE SOURCELINE
                             5553 ; 253  |#define HW_ICLSTATUS0R_SST15_SETMASK 1<<HW_ICLSTATUS0R_SST15_BITPOS
                             5554 ; 254  |#define HW_ICLSTATUS0R_SST16_SETMASK 1<<HW_ICLSTATUS0R_SST16_BITPOS
                             5555 ; 255  |#define HW_ICLSTATUS0R_SST17_SETMASK 1<<HW_ICLSTATUS0R_SST17_BITPOS
                             5556 ; 256  |#define HW_ICLSTATUS0R_SST18_SETMASK 1<<HW_ICLSTATUS0R_SST18_BITPOS
                             5557 ; 257  |#define HW_ICLSTATUS0R_SST19_SETMASK 1<<HW_ICLSTATUS0R_SST19_BITPOS
                             5558 ; 258  |#define HW_ICLSTATUS0R_SST20_SETMASK 1<<HW_ICLSTATUS0R_SST20_BITPOS
                             5559 ; 259  |#define HW_ICLSTATUS0R_SST21_SETMASK 1<<HW_ICLSTATUS0R_SST21_BITPOS
                             5560 ; 260  |#define HW_ICLSTATUS0R_SST22_SETMASK 1<<HW_ICLSTATUS0R_SST22_BITPOS
                             5561 ; 261  |#define HW_ICLSTATUS0R_SST23_SETMASK 1<<HW_ICLSTATUS0R_SST23_BITPOS
                             5562 ; 262  |
                             5563 ; 263  |#define HW_ICLSTATUS0R_SST0_CLRMASK ~(WORD)HW_ICLSTATUS0R_SST0_SETMASK
                             5564 ; 264  |#define HW_ICLSTATUS0R_SST1_CLRMASK ~(WORD)HW_ICLSTATUS0R_SST1_SETMASK
                             5565 ; 265  |#define HW_ICLSTATUS0R_SST2_CLRMASK ~(WORD)HW_ICLSTATUS0R_SST2_SETMASK
                             5566 ; 266  |#define HW_ICLSTATUS0R_SST3_CLRMASK ~(WORD)HW_ICLSTATUS0R_SST3_SETMASK
                             5567 ; 267  |#define HW_ICLSTATUS0R_SST4_CLRMASK ~(WORD)HW_ICLSTATUS0R_SST4_SETMASK
                             5568 ; 268  |#define HW_ICLSTATUS0R_SST5_CLRMASK ~(WORD)HW_ICLSTATUS0R_SST5_SETMASK
                             5569 ; 269  |#define HW_ICLSTATUS0R_SST6_CLRMASK ~(WORD)HW_ICLSTATUS0R_SST6_SETMASK
                             5570 ; 270  |#define HW_ICLSTATUS0R_SST7_CLRMASK ~(WORD)HW_ICLSTATUS0R_SST7_SETMASK
                             5571 ; 271  |#define HW_ICLSTATUS0R_SST8_CLRMASK ~(WORD)HW_ICLSTATUS0R_SST8_SETMASK
                             5572 ; 272  |#define HW_ICLSTATUS0R_SST9_CLRMASK ~(WORD)HW_ICLSTATUS0R_SST9_SETMASK
                             5573 ; 273  |#define HW_ICLSTATUS0R_SST10_CLRMASK ~(WORD)HW_ICLSTATUS0R_SST10_SETMASK
                             5574 ; 274  |#define HW_ICLSTATUS0R_SST11_CLRMASK ~(WORD)HW_ICLSTATUS0R_SST11_SETMASK
                             5575 ; 275  |#define HW_ICLSTATUS0R_SST12_CLRMASK ~(WORD)HW_ICLSTATUS0R_SST12_SETMASK
                             5576 ; 276  |#define HW_ICLSTATUS0R_SST13_CLRMASK ~(WORD)HW_ICLSTATUS0R_SST13_SETMASK
                             5577 ; 277  |#define HW_ICLSTATUS0R_SST14_CLRMASK ~(WORD)HW_ICLSTATUS0R_SST14_SETMASK
                             5578 ; 278  |#define HW_ICLSTATUS0R_SST15_CLRMASK ~(WORD)HW_ICLSTATUS0R_SST15_SETMASK
                             5579 ; 279  |#define HW_ICLSTATUS0R_SST16_CLRMASK ~(WORD)HW_ICLSTATUS0R_SST16_SETMASK
                             5580 ; 280  |#define HW_ICLSTATUS0R_SST17_CLRMASK ~(WORD)HW_ICLSTATUS0R_SST17_SETMASK
                             5581 ; 281  |#define HW_ICLSTATUS0R_SST18_CLRMASK ~(WORD)HW_ICLSTATUS0R_SST18_SETMASK
                             5582 ; 282  |#define HW_ICLSTATUS0R_SST19_CLRMASK ~(WORD)HW_ICLSTATUS0R_SST19_SETMASK
                             5583 ; 283  |#define HW_ICLSTATUS0R_SST20_CLRMASK ~(WORD)HW_ICLSTATUS0R_SST20_SETMASK
                             5584 ; 284  |#define HW_ICLSTATUS0R_SST21_CLRMASK ~(WORD)HW_ICLSTATUS0R_SST21_SETMASK
                             5585 ; 285  |#define HW_ICLSTATUS0R_SST22_CLRMASK ~(WORD)HW_ICLSTATUS0R_SST22_SETMASK
                             5586 ; 286  |#define HW_ICLSTATUS0R_SST23_CLRMASK ~(WORD)HW_ICLSTATUS0R_SST23_SETMASK
                             5587 ; 287  |
                             5588 ; 288  |
                             5589 ; 289  |/////////////////////////////////////////////////////////////////////////////////
                             5590 ; 290  |//  Interrupt Collector Status 1 Register (HW_ICLSTATUS1R) Bit Positions
                             5591 ; 291  |typedef union
                             5592 ; 292  |{
                             5593 ; 293  |    struct {
                             5594 ; 294  |        int SST24       :1;
                             5595 ; 295  |        int SST25       :1;
                             5596 ; 296  |        int SST26       :1;
                             5597 ; 297  |        int SST27       :1;
                             5598 ; 298  |        int SST28       :1;
                             5599 ; 299  |        int SST29       :1;
                             5600 ; 300  |        int SST30       :1;
                             5601 ; 301  |        int SST31       :1;
                             5602 ; 302  |        int SST32       :1;
                             5603 ; 303  |        int SST33       :1;
                             5604 ; 304  |    } B;
                             5605 ; 305  |    int I;
                             5606 ; 306  |} iclstatus1_type;
                             5607 ; 307  |#define HW_ICLSTATUS1R  (*(volatile iclstatus1_type _X*) (HW_ICOLL_BASEADDR+3)) /* Interru
                                  pt Priority Register Core */
                             5608 ; 308  |#define HW_ICLSTATUS1R_SST24_BITPOS 0
                             5609 ; 309  |#define HW_ICLSTATUS1R_SST25_BITPOS 1
                             5610 ; 310  |#define HW_ICLSTATUS1R_SST26_BITPOS 2
                             5611 ; 311  |#define HW_ICLSTATUS1R_SST27_BITPOS 3
                             5612 ; 312  |#define HW_ICLSTATUS1R_SST28_BITPOS 4
                             5613 ; 313  |#define HW_ICLSTATUS1R_SST29_BITPOS 5
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  95

M:ADDR CODE           CYCLES LINE SOURCELINE
                             5614 ; 314  |#define HW_ICLSTATUS1R_SST30_BITPOS 6
                             5615 ; 315  |#define HW_ICLSTATUS1R_SST31_BITPOS 7
                             5616 ; 316  |#define HW_ICLSTATUS1R_SST32_BITPOS 8
                             5617 ; 317  |#define HW_ICLSTATUS1R_SST33_BITPOS 9
                             5618 ; 318  |
                             5619 ; 319  |#define HW_ICLSTATUS1R_SST24_SETMASK 1<<HW_ICLSTATUS1R_SST24_BITPOS
                             5620 ; 320  |#define HW_ICLSTATUS1R_SST25_SETMASK 1<<HW_ICLSTATUS1R_SST25_BITPOS
                             5621 ; 321  |#define HW_ICLSTATUS1R_SST26_SETMASK 1<<HW_ICLSTATUS1R_SST26_BITPOS
                             5622 ; 322  |#define HW_ICLSTATUS1R_SST27_SETMASK 1<<HW_ICLSTATUS1R_SST27_BITPOS
                             5623 ; 323  |#define HW_ICLSTATUS1R_SST28_SETMASK 1<<HW_ICLSTATUS1R_SST28_BITPOS
                             5624 ; 324  |#define HW_ICLSTATUS1R_SST29_SETMASK 1<<HW_ICLSTATUS1R_SST29_BITPOS
                             5625 ; 325  |#define HW_ICLSTATUS1R_SST30_SETMASK 1<<HW_ICLSTATUS1R_SST30_BITPOS
                             5626 ; 326  |#define HW_ICLSTATUS1R_SST31_SETMASK 1<<HW_ICLSTATUS1R_SST31_BITPOS
                             5627 ; 327  |#define HW_ICLSTATUS1R_SST32_SETMASK 1<<HW_ICLSTATUS1R_SST32_BITPOS
                             5628 ; 328  |#define HW_ICLSTATUS1R_SST33_SETMASK 1<<HW_ICLSTATUS1R_SST33_BITPOS
                             5629 ; 329  |
                             5630 ; 330  |#define HW_ICLSTATUS1R_SST24_CLRMASK ~(WORD)HW_ICLSTATUS1R_SST24_SETMASK
                             5631 ; 331  |#define HW_ICLSTATUS1R_SST25_CLRMASK ~(WORD)HW_ICLSTATUS1R_SST25_SETMASK
                             5632 ; 332  |#define HW_ICLSTATUS1R_SST26_CLRMASK ~(WORD)HW_ICLSTATUS1R_SST26_SETMASK
                             5633 ; 333  |#define HW_ICLSTATUS1R_SST27_CLRMASK ~(WORD)HW_ICLSTATUS1R_SST27_SETMASK
                             5634 ; 334  |#define HW_ICLSTATUS1R_SST28_CLRMASK ~(WORD)HW_ICLSTATUS1R_SST28_SETMASK
                             5635 ; 335  |#define HW_ICLSTATUS1R_SST29_CLRMASK ~(WORD)HW_ICLSTATUS1R_SST29_SETMASK
                             5636 ; 336  |#define HW_ICLSTATUS1R_SST30_CLRMASK ~(WORD)HW_ICLSTATUS1R_SST30_SETMASK
                             5637 ; 337  |#define HW_ICLSTATUS1R_SST31_CLRMASK ~(WORD)HW_ICLSTATUS1R_SST31_SETMASK
                             5638 ; 338  |#define HW_ICLSTATUS1R_SST32_CLRMASK ~(WORD)HW_ICLSTATUS1R_SST32_SETMASK
                             5639 ; 339  |#define HW_ICLSTATUS1R_SST33_CLRMASK ~(WORD)HW_ICLSTATUS1R_SST33_SETMASK
                             5640 ; 340  |
                             5641 ; 341  |
                             5642 ; 342  |/////////////////////////////////////////////////////////////////////////////////
                             5643 ; 343  |//  Interrupt Collector Priority Defs
                             5644 ; 344  |typedef union
                             5645 ; 345  |{
                             5646 ; 346  |    struct {
                             5647 ; 347  |        unsigned S0P    :3;
                             5648 ; 348  |        unsigned S1P    :3;
                             5649 ; 349  |        unsigned S2P    :3;
                             5650 ; 350  |        unsigned S3P    :3;
                             5651 ; 351  |        unsigned S4P    :3;
                             5652 ; 352  |        unsigned S5P    :3;
                             5653 ; 353  |        unsigned S6P    :3;
                             5654 ; 354  |        unsigned S7P    :3;
                             5655 ; 355  |    } B;
                             5656 ; 356  |    int I;
                             5657 ; 357  |
                             5658 ; 358  |} iclprior0_type;
                             5659 ; 359  |
                             5660 ; 360  |#define HW_ICLPRIOR0R   (*(volatile iclprior0_type _X*) (HW_ICOLL_BASEADDR+4)) /* Interrup
                                  t Collector Register 0 Priority   */
                             5661 ; 361  |
                             5662 ; 362  |#define HW_ICLPRIORR_SP_0 0
                             5663 ; 363  |#define HW_ICLPRIORR_SP_1 1
                             5664 ; 364  |#define HW_ICLPRIORR_SP_2 2
                             5665 ; 365  |#define HW_ICLPRIORR_SP_3 3
                             5666 ; 366  |#define HW_ICLPRIORR_SP_4 4
                             5667 ; 367  |#define HW_ICLPRIORR_SP_5 5
                             5668 ; 368  |#define HW_ICLPRIORR_SP_6 6
                             5669 ; 369  |#define HW_ICLPRIORR_SP_7 7
                             5670 ; 370  |
                             5671 ; 371  |
                             5672 ; 372  |/////////////////////////////////////////////////////////////////////////////////
                             5673 ; 373  |//  Interrupt Collector Priority 0 Register (HW_ICLPRIOR0R) Bit Positions
                             5674 ; 374  |#define HW_ICLPRIOR0R_S0P_BITPOS 0
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  96

M:ADDR CODE           CYCLES LINE SOURCELINE
                             5675 ; 375  |#define HW_ICLPRIOR0R_S1P_BITPOS 3
                             5676 ; 376  |#define HW_ICLPRIOR0R_S2P_BITPOS 6
                             5677 ; 377  |#define HW_ICLPRIOR0R_S3P_BITPOS 9
                             5678 ; 378  |#define HW_ICLPRIOR0R_S4P_BITPOS 12
                             5679 ; 379  |#define HW_ICLPRIOR0R_S5P_BITPOS 15
                             5680 ; 380  |#define HW_ICLPRIOR0R_S6P_BITPOS 18
                             5681 ; 381  |#define HW_ICLPRIOR0R_S7P_BITPOS 21
                             5682 ; 382  |
                             5683 ; 383  |#define HW_ICLPRIOR0R_S0P_SETMASK 7<<HW_ICLPRIOR0R_S0P_BITPOS
                             5684 ; 384  |#define HW_ICLPRIOR0R_S1P_SETMASK 7<<HW_ICLPRIOR0R_S1P_BITPOS
                             5685 ; 385  |#define HW_ICLPRIOR0R_S2P_SETMASK 7<<HW_ICLPRIOR0R_S2P_BITPOS
                             5686 ; 386  |#define HW_ICLPRIOR0R_S3P_SETMASK 7<<HW_ICLPRIOR0R_S3P_BITPOS
                             5687 ; 387  |#define HW_ICLPRIOR0R_S4P_SETMASK 7<<HW_ICLPRIOR0R_S4P_BITPOS
                             5688 ; 388  |#define HW_ICLPRIOR0R_S5P_SETMASK 7<<HW_ICLPRIOR0R_S5P_BITPOS
                             5689 ; 389  |#define HW_ICLPRIOR0R_S6P_SETMASK 7<<HW_ICLPRIOR0R_S6P_BITPOS
                             5690 ; 390  |#define HW_ICLPRIOR0R_S7P_SETMASK 7<<HW_ICLPRIOR0R_S7P_BITPOS
                             5691 ; 391  |
                             5692 ; 392  |#define HW_ICLPRIOR0R_S0P_CLRMASK ~(WORD)HW_ICLPRIOR0R_S0P_SETMASK
                             5693 ; 393  |#define HW_ICLPRIOR0R_S1P_CLRMASK ~(WORD)HW_ICLPRIOR0R_S1P_SETMASK
                             5694 ; 394  |#define HW_ICLPRIOR0R_S2P_CLRMASK ~(WORD)HW_ICLPRIOR0R_S2P_SETMASK
                             5695 ; 395  |#define HW_ICLPRIOR0R_S3P_CLRMASK ~(WORD)HW_ICLPRIOR0R_S3P_SETMASK
                             5696 ; 396  |#define HW_ICLPRIOR0R_S4P_CLRMASK ~(WORD)HW_ICLPRIOR0R_S4P_SETMASK
                             5697 ; 397  |#define HW_ICLPRIOR0R_S5P_CLRMASK ~(WORD)HW_ICLPRIOR0R_S5P_SETMASK
                             5698 ; 398  |#define HW_ICLPRIOR0R_S6P_CLRMASK ~(WORD)HW_ICLPRIOR0R_S6P_SETMASK
                             5699 ; 399  |#define HW_ICLPRIOR0R_S7P_CLRMASK ~(WORD)HW_ICLPRIOR0R_S7P_SETMASK
                             5700 ; 400  |
                             5701 ; 401  |
                             5702 ; 402  |/////////////////////////////////////////////////////////////////////////////////
                             5703 ; 403  |//  Interrupt Collector Priority 1 Register (HW_ICLPRIOR1R) Bit Positions
                             5704 ; 404  |typedef union
                             5705 ; 405  |{
                             5706 ; 406  |    struct {
                             5707 ; 407  |        unsigned S8P    :3;
                             5708 ; 408  |        unsigned S9P    :3;
                             5709 ; 409  |        unsigned S10P   :3;
                             5710 ; 410  |        unsigned S11P   :3;
                             5711 ; 411  |        unsigned S12P   :3;
                             5712 ; 412  |        unsigned S13P   :3;
                             5713 ; 413  |        unsigned S14P   :3;
                             5714 ; 414  |        unsigned S15P   :3;
                             5715 ; 415  |    } B;
                             5716 ; 416  |    int I;
                             5717 ; 417  |} iclprior1_type;
                             5718 ; 418  |
                             5719 ; 419  |#define HW_ICLPRIOR1R   (*(volatile iclprior1_type _X*) (HW_ICOLL_BASEADDR+5)) /* Interrup
                                  t Collector Register 1 Priority   */
                             5720 ; 420  |
                             5721 ; 421  |#define HW_ICLPRIOR1R_S8P_BITPOS 0
                             5722 ; 422  |#define HW_ICLPRIOR1R_S9P_BITPOS 3
                             5723 ; 423  |#define HW_ICLPRIOR1R_S10P_BITPOS 6
                             5724 ; 424  |#define HW_ICLPRIOR1R_S11P_BITPOS 9
                             5725 ; 425  |#define HW_ICLPRIOR1R_S12P_BITPOS 12
                             5726 ; 426  |#define HW_ICLPRIOR1R_S13P_BITPOS 15
                             5727 ; 427  |#define HW_ICLPRIOR1R_S14P_BITPOS 18
                             5728 ; 428  |#define HW_ICLPRIOR1R_S15P_BITPOS 21
                             5729 ; 429  |
                             5730 ; 430  |#define HW_ICLPRIOR1R_S8P_SETMASK 7<<HW_ICLPRIOR1R_S8P_BITPOS
                             5731 ; 431  |#define HW_ICLPRIOR1R_S9P_SETMASK 7<<HW_ICLPRIOR1R_S9P_BITPOS
                             5732 ; 432  |#define HW_ICLPRIOR1R_S10P_SETMASK 7<<HW_ICLPRIOR1R_S10P_BITPOS
                             5733 ; 433  |#define HW_ICLPRIOR1R_S11P_SETMASK 7<<HW_ICLPRIOR1R_S11P_BITPOS
                             5734 ; 434  |#define HW_ICLPRIOR1R_S12P_SETMASK 7<<HW_ICLPRIOR1R_S12P_BITPOS
                             5735 ; 435  |#define HW_ICLPRIOR1R_S13P_SETMASK 7<<HW_ICLPRIOR1R_S13P_BITPOS
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  97

M:ADDR CODE           CYCLES LINE SOURCELINE
                             5736 ; 436  |#define HW_ICLPRIOR1R_S14P_SETMASK 7<<HW_ICLPRIOR1R_S14P_BITPOS
                             5737 ; 437  |#define HW_ICLPRIOR1R_S15P_SETMASK 7<<HW_ICLPRIOR1R_S15P_BITPOS
                             5738 ; 438  |
                             5739 ; 439  |#define HW_ICLPRIOR1R_S8P_CLRMASK ~(WORD)HW_ICLPRIOR1R_S8P_SETMASK
                             5740 ; 440  |#define HW_ICLPRIOR1R_S9P_CLRMASK ~(WORD)HW_ICLPRIOR1R_S9P_SETMASK
                             5741 ; 441  |#define HW_ICLPRIOR1R_S10P_CLRMASK ~(WORD)HW_ICLPRIOR1R_S10P_SETMASK
                             5742 ; 442  |#define HW_ICLPRIOR1R_S11P_CLRMASK ~(WORD)HW_ICLPRIOR1R_S11P_SETMASK
                             5743 ; 443  |#define HW_ICLPRIOR1R_S12P_CLRMASK ~(WORD)HW_ICLPRIOR1R_S12P_SETMASK
                             5744 ; 444  |#define HW_ICLPRIOR1R_S13P_CLRMASK ~(WORD)HW_ICLPRIOR1R_S13P_SETMASK
                             5745 ; 445  |#define HW_ICLPRIOR1R_S14P_CLRMASK ~(WORD)HW_ICLPRIOR1R_S14P_SETMASK
                             5746 ; 446  |#define HW_ICLPRIOR1R_S15P_CLRMASK ~(WORD)HW_ICLPRIOR1R_S15P_SETMASK
                             5747 ; 447  |
                             5748 ; 448  |
                             5749 ; 449  |/////////////////////////////////////////////////////////////////////////////////
                             5750 ; 450  |//  Interrupt Collector Priority 2 Register (HW_ICLPRI2R) Bit Positions
                             5751 ; 451  |typedef union               /* Interrupt Collector Priority 2 Register      */
                             5752 ; 452  |{
                             5753 ; 453  |    struct {
                             5754 ; 454  |        unsigned S16P   :3;
                             5755 ; 455  |        unsigned S17P   :3;
                             5756 ; 456  |        unsigned S18P   :3;
                             5757 ; 457  |        unsigned S19P   :3;
                             5758 ; 458  |        unsigned S20P   :3;
                             5759 ; 459  |        unsigned S21P   :3;
                             5760 ; 460  |        unsigned S22P   :3;
                             5761 ; 461  |        unsigned S23P   :3;
                             5762 ; 462  |    } B;
                             5763 ; 463  |    int I;
                             5764 ; 464  |} iclprior2_type;
                             5765 ; 465  |#define HW_ICLPRIOR2R   (*(volatile iclprior2_type _X*) (HW_ICOLL_BASEADDR+6)) /* Interrup
                                  t Collector Register 2 Priority   */
                             5766 ; 466  |#define HW_ICLPRIOR2R_S16P_BITPOS 0
                             5767 ; 467  |#define HW_ICLPRIOR2R_S17P_BITPOS 3
                             5768 ; 468  |#define HW_ICLPRIOR2R_S18P_BITPOS 6
                             5769 ; 469  |#define HW_ICLPRIOR2R_S19P_BITPOS 9
                             5770 ; 470  |#define HW_ICLPRIOR2R_S20P_BITPOS 12
                             5771 ; 471  |#define HW_ICLPRIOR2R_S21P_BITPOS 15
                             5772 ; 472  |#define HW_ICLPRIOR2R_S22P_BITPOS 18
                             5773 ; 473  |#define HW_ICLPRIOR2R_S23P_BITPOS 21
                             5774 ; 474  |
                             5775 ; 475  |#define HW_ICLPRIOR2R_S16P_SETMASK 7<<HW_ICLPRIOR2R_S16P_BITPOS
                             5776 ; 476  |#define HW_ICLPRIOR2R_S17P_SETMASK 7<<HW_ICLPRIOR2R_S17P_BITPOS
                             5777 ; 477  |#define HW_ICLPRIOR2R_S18P_SETMASK 7<<HW_ICLPRIOR2R_S18P_BITPOS
                             5778 ; 478  |#define HW_ICLPRIOR2R_S19P_SETMASK 7<<HW_ICLPRIOR2R_S19P_BITPOS
                             5779 ; 479  |#define HW_ICLPRIOR2R_S20P_SETMASK 7<<HW_ICLPRIOR2R_S20P_BITPOS
                             5780 ; 480  |#define HW_ICLPRIOR2R_S21P_SETMASK 7<<HW_ICLPRIOR2R_S21P_BITPOS
                             5781 ; 481  |#define HW_ICLPRIOR2R_S22P_SETMASK 7<<HW_ICLPRIOR2R_S22P_BITPOS
                             5782 ; 482  |#define HW_ICLPRIOR2R_S23P_SETMASK 7<<HW_ICLPRIOR2R_S23P_BITPOS
                             5783 ; 483  |
                             5784 ; 484  |#define HW_ICLPRIOR2R_S16P_CLRMASK ~(WORD)HW_ICLPRIOR2R_S16P_SETMASK
                             5785 ; 485  |#define HW_ICLPRIOR2R_S17P_CLRMASK ~(WORD)HW_ICLPRIOR2R_S17P_SETMASK
                             5786 ; 486  |#define HW_ICLPRIOR2R_S18P_CLRMASK ~(WORD)HW_ICLPRIOR2R_S18P_SETMASK
                             5787 ; 487  |#define HW_ICLPRIOR2R_S19P_CLRMASK ~(WORD)HW_ICLPRIOR2R_S19P_SETMASK
                             5788 ; 488  |#define HW_ICLPRIOR2R_S20P_CLRMASK ~(WORD)HW_ICLPRIOR2R_S20P_SETMASK
                             5789 ; 489  |#define HW_ICLPRIOR2R_S21P_CLRMASK ~(WORD)HW_ICLPRIOR2R_S21P_SETMASK
                             5790 ; 490  |#define HW_ICLPRIOR2R_S22P_CLRMASK ~(WORD)HW_ICLPRIOR2R_S22P_SETMASK
                             5791 ; 491  |#define HW_ICLPRIOR2R_S23P_CLRMASK ~(WORD)HW_ICLPRIOR2R_S23P_SETMASK
                             5792 ; 492  |
                             5793 ; 493  |
                             5794 ; 494  |/////////////////////////////////////////////////////////////////////////////////
                             5795 ; 495  |//  Interrupt Collector Priority 3 Register (HW_ICLPRI3R) Bit Positions
                             5796 ; 496  |typedef union               /* Interrupt Collector Priority 3 Register      */
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  98

M:ADDR CODE           CYCLES LINE SOURCELINE
                             5797 ; 497  |{
                             5798 ; 498  |    struct {
                             5799 ; 499  |        unsigned S24P   :3;
                             5800 ; 500  |        unsigned S25P   :3;
                             5801 ; 501  |        unsigned S26P   :3;
                             5802 ; 502  |        unsigned S27P   :3;
                             5803 ; 503  |        unsigned S28P   :3;
                             5804 ; 504  |        unsigned S29P   :3;
                             5805 ; 505  |        unsigned S30P   :3;
                             5806 ; 506  |        unsigned S31P   :3;
                             5807 ; 507  |    } B;
                             5808 ; 508  |    int I;
                             5809 ; 509  |} iclprior3_type;
                             5810 ; 510  |#define HW_ICLPRIOR3R   (*(volatile iclprior3_type _X*) (HW_ICOLL_BASEADDR+7)) /* Interrup
                                  t Collector Register 3 Priority   */
                             5811 ; 511  |
                             5812 ; 512  |#define HW_ICLPRIOR3R_S24P_BITPOS 0
                             5813 ; 513  |#define HW_ICLPRIOR3R_S25P_BITPOS 3
                             5814 ; 514  |#define HW_ICLPRIOR3R_S26P_BITPOS 6
                             5815 ; 515  |#define HW_ICLPRIOR3R_S27P_BITPOS 9
                             5816 ; 516  |#define HW_ICLPRIOR3R_S28P_BITPOS 12
                             5817 ; 517  |#define HW_ICLPRIOR3R_S29P_BITPOS 15
                             5818 ; 518  |#define HW_ICLPRIOR3R_S30P_BITPOS 18
                             5819 ; 519  |#define HW_ICLPRIOR3R_S31P_BITPOS 21
                             5820 ; 520  |
                             5821 ; 521  |#define HW_ICLPRIOR3R_S24P_SETMASK 7<<HW_ICLPRIOR3R_S24P_BITPOS
                             5822 ; 522  |#define HW_ICLPRIOR3R_S25P_SETMASK 7<<HW_ICLPRIOR3R_S25P_BITPOS
                             5823 ; 523  |#define HW_ICLPRIOR3R_S26P_SETMASK 7<<HW_ICLPRIOR3R_S26P_BITPOS
                             5824 ; 524  |#define HW_ICLPRIOR3R_S27P_SETMASK 7<<HW_ICLPRIOR3R_S27P_BITPOS
                             5825 ; 525  |#define HW_ICLPRIOR3R_S28P_SETMASK 7<<HW_ICLPRIOR3R_S28P_BITPOS
                             5826 ; 526  |#define HW_ICLPRIOR3R_S29P_SETMASK 7<<HW_ICLPRIOR3R_S29P_BITPOS
                             5827 ; 527  |#define HW_ICLPRIOR3R_S30P_SETMASK 7<<HW_ICLPRIOR3R_S30P_BITPOS
                             5828 ; 528  |#define HW_ICLPRIOR3R_S31P_SETMASK 7<<HW_ICLPRIOR3R_S31P_BITPOS
                             5829 ; 529  |
                             5830 ; 530  |#define HW_ICLPRIOR3R_S24P_CLRMASK ~(WORD)HW_ICLPRIOR3R_S24P_SETMASK
                             5831 ; 531  |#define HW_ICLPRIOR3R_S25P_CLRMASK ~(WORD)HW_ICLPRIOR3R_S25P_SETMASK
                             5832 ; 532  |#define HW_ICLPRIOR3R_S26P_CLRMASK ~(WORD)HW_ICLPRIOR3R_S26P_SETMASK
                             5833 ; 533  |#define HW_ICLPRIOR3R_S27P_CLRMASK ~(WORD)HW_ICLPRIOR3R_S27P_SETMASK
                             5834 ; 534  |#define HW_ICLPRIOR3R_S28P_CLRMASK ~(WORD)HW_ICLPRIOR3R_S28P_SETMASK
                             5835 ; 535  |#define HW_ICLPRIOR3R_S29P_CLRMASK ~(WORD)HW_ICLPRIOR3R_S29P_SETMASK
                             5836 ; 536  |#define HW_ICLPRIOR3R_S30P_CLRMASK ~(WORD)HW_ICLPRIOR3R_S30P_SETMASK
                             5837 ; 537  |#define HW_ICLPRIOR3R_S31P_CLRMASK ~(WORD)HW_ICLPRIOR3R_S31P_SETMASK
                             5838 ; 538  |
                             5839 ; 539  |
                             5840 ; 540  |/////////////////////////////////////////////////////////////////////////////////
                             5841 ; 541  |//  Interrupt Collector Priority 4 Register (HW_ICLPRI4R) Bit Positions
                             5842 ; 542  |typedef union               /* Interrupt Collector Priority 3 Register      */
                             5843 ; 543  |{
                             5844 ; 544  |    struct {
                             5845 ; 545  |        unsigned S32P   :3;
                             5846 ; 546  |        unsigned S33P   :3;
                             5847 ; 547  |    } B;
                             5848 ; 548  |    int I;
                             5849 ; 549  |} iclprior4_type;
                             5850 ; 550  |#define HW_ICLPRIOR4R (*(volatile iclprior4_type _X*) (HW_ICOLL_BASEADDR+17)) /* Interrupt
                                   Collector Register 4 Priority   */
                             5851 ; 551  |
                             5852 ; 552  |#define HW_ICLPRIOR4R_S32P_BITPOS 0
                             5853 ; 553  |#define HW_ICLPRIOR4R_S33P_BITPOS 3
                             5854 ; 554  |
                             5855 ; 555  |#define HW_ICLPRIOR4R_S32P_SETMASK 7<<HW_ICLPRIOR4R_S32P_BITPOS
                             5856 ; 556  |#define HW_ICLPRIOR4R_S33P_SETMASK 7<<HW_ICLPRIOR4R_S33P_BITPOS
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page  99

M:ADDR CODE           CYCLES LINE SOURCELINE
                             5857 ; 557  |
                             5858 ; 558  |#define HW_ICLPRIOR4R_S32P_CLRMASK ~(WORD)HW_ICLPRIOR4R_S32P_SETMASK
                             5859 ; 559  |#define HW_ICLPRIOR4R_S33P_CLRMASK ~(WORD)HW_ICLPRIOR4R_S33P_SETMASK
                             5860 ; 560  |
                             5861 ; 561  |
                             5862 ; 562  |/////////////////////////////////////////////////////////////////////////////////
                             5863 ; 563  |//  Interrupt Collector Steering 0 Register (HW_ICLSTEER0R) Bit Positions
                             5864 ; 564  |typedef union               /* Interrupt Collector Steering 0 Register      */
                             5865 ; 565  |{
                             5866 ; 566  |    struct {
                             5867 ; 567  |        unsigned S0S    :2;
                             5868 ; 568  |        unsigned S1S    :2;
                             5869 ; 569  |        unsigned S2S    :2;
                             5870 ; 570  |        unsigned S3S    :2;
                             5871 ; 571  |        unsigned S4S    :2;
                             5872 ; 572  |        unsigned S5S    :2;
                             5873 ; 573  |        unsigned S6S    :2;
                             5874 ; 574  |        unsigned S7S    :2;
                             5875 ; 575  |        unsigned S8S    :2;
                             5876 ; 576  |        unsigned S9S    :2;
                             5877 ; 577  |        unsigned S10S   :2;
                             5878 ; 578  |        unsigned S11S   :2;
                             5879 ; 579  |    } B;
                             5880 ; 580  |    int I;
                             5881 ; 581  |} iclsteer0_type;
                             5882 ; 582  |#define HW_ICLSTEER0R   (*(volatile iclsteer0_type _X*) (HW_ICOLL_BASEADDR+8)) /* Interrup
                                  t Collector Steering Register 0   */
                             5883 ; 583  |
                             5884 ; 584  |#define HW_ICLSTEER0R_S0P_BITPOS 0
                             5885 ; 585  |#define HW_ICLSTEER0R_S1P_BITPOS 2
                             5886 ; 586  |#define HW_ICLSTEER0R_S2P_BITPOS 4
                             5887 ; 587  |#define HW_ICLSTEER0R_S3P_BITPOS 6
                             5888 ; 588  |#define HW_ICLSTEER0R_S4P_BITPOS 8
                             5889 ; 589  |#define HW_ICLSTEER0R_S5P_BITPOS 10
                             5890 ; 590  |#define HW_ICLSTEER0R_S6P_BITPOS 12
                             5891 ; 591  |#define HW_ICLSTEER0R_S7P_BITPOS 14
                             5892 ; 592  |#define HW_ICLSTEER0R_S8P_BITPOS 16
                             5893 ; 593  |#define HW_ICLSTEER0R_S9P_BITPOS 18
                             5894 ; 594  |#define HW_ICLSTEER0R_S10P_BITPOS 20
                             5895 ; 595  |#define HW_ICLSTEER0R_S11P_BITPOS 22
                             5896 ; 596  |
                             5897 ; 597  |#define HW_ICLSTEER0R_S0P_SETMASK 3<<HW_ICLSTEER0R_S0P_BITPOS
                             5898 ; 598  |#define HW_ICLSTEER0R_S1P_SETMASK 3<<HW_ICLSTEER0R_S1P_BITPOS
                             5899 ; 599  |#define HW_ICLSTEER0R_S2P_SETMASK 3<<HW_ICLSTEER0R_S2P_BITPOS
                             5900 ; 600  |#define HW_ICLSTEER0R_S3P_SETMASK 3<<HW_ICLSTEER0R_S3P_BITPOS
                             5901 ; 601  |#define HW_ICLSTEER0R_S4P_SETMASK 3<<HW_ICLSTEER0R_S4P_BITPOS
                             5902 ; 602  |#define HW_ICLSTEER0R_S5P_SETMASK 3<<HW_ICLSTEER0R_S5P_BITPOS
                             5903 ; 603  |#define HW_ICLSTEER0R_S6P_SETMASK 3<<HW_ICLSTEER0R_S6P_BITPOS
                             5904 ; 604  |#define HW_ICLSTEER0R_S7P_SETMASK 3<<HW_ICLSTEER0R_S7P_BITPOS
                             5905 ; 605  |#define HW_ICLSTEER0R_S8P_SETMASK 3<<HW_ICLSTEER0R_S8P_BITPOS
                             5906 ; 606  |#define HW_ICLSTEER0R_S9P_SETMASK 3<<HW_ICLSTEER0R_S9P_BITPOS
                             5907 ; 607  |#define HW_ICLSTEER0R_S10P_SETMASK 3<<HW_ICLSTEER0R_S10P_BITPOS
                             5908 ; 608  |#define HW_ICLSTEER0R_S11P_SETMASK 3<<HW_ICLSTEER0R_S11P_BITPOS
                             5909 ; 609  |
                             5910 ; 610  |#define HW_ICLSTEER0R_S0P_CLRMASK ~(WORD)HW_ICLSTEER0R_S0P_SETMASK
                             5911 ; 611  |#define HW_ICLSTEER0R_S1P_CLRMASK ~(WORD)HW_ICLSTEER0R_S1P_SETMASK
                             5912 ; 612  |#define HW_ICLSTEER0R_S2P_CLRMASK ~(WORD)HW_ICLSTEER0R_S2P_SETMASK
                             5913 ; 613  |#define HW_ICLSTEER0R_S3P_CLRMASK ~(WORD)HW_ICLSTEER0R_S3P_SETMASK
                             5914 ; 614  |#define HW_ICLSTEER0R_S4P_CLRMASK ~(WORD)HW_ICLSTEER0R_S4P_SETMASK
                             5915 ; 615  |#define HW_ICLSTEER0R_S5P_CLRMASK ~(WORD)HW_ICLSTEER0R_S5P_SETMASK
                             5916 ; 616  |#define HW_ICLSTEER0R_S6P_CLRMASK ~(WORD)HW_ICLSTEER0R_S6P_SETMASK
                             5917 ; 617  |#define HW_ICLSTEER0R_S7P_CLRMASK ~(WORD)HW_ICLSTEER0R_S7P_SETMASK
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 100

M:ADDR CODE           CYCLES LINE SOURCELINE
                             5918 ; 618  |#define HW_ICLSTEER0R_S8P_CLRMASK ~(WORD)HW_ICLSTEER0R_S8P_SETMASK
                             5919 ; 619  |#define HW_ICLSTEER0R_S9P_CLRMASK ~(WORD)HW_ICLSTEER0R_S9P_SETMASK
                             5920 ; 620  |#define HW_ICLSTEER0R_S10P_CLRMASK ~(WORD)HW_ICLSTEER0R_S10P_SETMASK
                             5921 ; 621  |#define HW_ICLSTEER0R_S11P_CLRMASK ~(WORD)HW_ICLSTEER0R_S11P_SETMASK
                             5922 ; 622  |
                             5923 ; 623  |
                             5924 ; 624  |/////////////////////////////////////////////////////////////////////////////////
                             5925 ; 625  |//  Interrupt Collector Steering 1 Register (HW_ICLSTEER1R) Bit Positions
                             5926 ; 626  |typedef union               /* Interrupt Collector Steering 1 Register      */
                             5927 ; 627  |{
                             5928 ; 628  |    struct {
                             5929 ; 629  |        unsigned S12S   :2;
                             5930 ; 630  |        unsigned S13S   :2;
                             5931 ; 631  |        unsigned S14S   :2;
                             5932 ; 632  |        unsigned S15S   :2;
                             5933 ; 633  |        unsigned S16S   :2;
                             5934 ; 634  |        unsigned S17S   :2;
                             5935 ; 635  |        unsigned S18S   :2;
                             5936 ; 636  |        unsigned S19S   :2;
                             5937 ; 637  |        unsigned S20S   :2;
                             5938 ; 638  |        unsigned S21S   :2;
                             5939 ; 639  |        unsigned S22S   :2;
                             5940 ; 640  |        unsigned S23S   :2;
                             5941 ; 641  |    } B;
                             5942 ; 642  |    int I;
                             5943 ; 643  |} iclsteer1_type;
                             5944 ; 644  |#define HW_ICLSTEER1R   (*(volatile iclsteer1_type _X*) (HW_ICOLL_BASEADDR+9)) /* Interrup
                                  t Collector Steering Register 1   */
                             5945 ; 645  |#define HW_ICLSTEER1R_S12P_BITPOS 0
                             5946 ; 646  |#define HW_ICLSTEER1R_S13P_BITPOS 2
                             5947 ; 647  |#define HW_ICLSTEER1R_S14P_BITPOS 4
                             5948 ; 648  |#define HW_ICLSTEER1R_S15P_BITPOS 6
                             5949 ; 649  |#define HW_ICLSTEER1R_S16P_BITPOS 8
                             5950 ; 650  |#define HW_ICLSTEER1R_S17P_BITPOS 10
                             5951 ; 651  |#define HW_ICLSTEER1R_S18P_BITPOS 12
                             5952 ; 652  |#define HW_ICLSTEER1R_S19P_BITPOS 14
                             5953 ; 653  |#define HW_ICLSTEER1R_S20P_BITPOS 16
                             5954 ; 654  |#define HW_ICLSTEER1R_S21P_BITPOS 18
                             5955 ; 655  |#define HW_ICLSTEER1R_S22P_BITPOS 20
                             5956 ; 656  |#define HW_ICLSTEER1R_S23P_BITPOS 22
                             5957 ; 657  |
                             5958 ; 658  |#define HW_ICLSTEER1R_S12P_SETMASK 3<<HW_ICLSTEER1R_S12P_BITPOS
                             5959 ; 659  |#define HW_ICLSTEER1R_S13P_SETMASK 3<<HW_ICLSTEER1R_S13P_BITPOS
                             5960 ; 660  |#define HW_ICLSTEER1R_S14P_SETMASK 3<<HW_ICLSTEER1R_S14P_BITPOS
                             5961 ; 661  |#define HW_ICLSTEER1R_S15P_SETMASK 3<<HW_ICLSTEER1R_S15P_BITPOS
                             5962 ; 662  |#define HW_ICLSTEER1R_S16P_SETMASK 3<<HW_ICLSTEER1R_S16P_BITPOS
                             5963 ; 663  |#define HW_ICLSTEER1R_S17P_SETMASK 3<<HW_ICLSTEER1R_S17P_BITPOS
                             5964 ; 664  |#define HW_ICLSTEER1R_S18P_SETMASK 3<<HW_ICLSTEER1R_S18P_BITPOS
                             5965 ; 665  |#define HW_ICLSTEER1R_S19P_SETMASK 3<<HW_ICLSTEER1R_S19P_BITPOS
                             5966 ; 666  |#define HW_ICLSTEER1R_S20P_SETMASK 3<<HW_ICLSTEER1R_S20P_BITPOS
                             5967 ; 667  |#define HW_ICLSTEER1R_S21P_SETMASK 3<<HW_ICLSTEER1R_S21P_BITPOS
                             5968 ; 668  |#define HW_ICLSTEER1R_S22P_SETMASK 3<<HW_ICLSTEER1R_S22P_BITPOS
                             5969 ; 669  |#define HW_ICLSTEER1R_S23P_SETMASK 3<<HW_ICLSTEER1R_S23P_BITPOS
                             5970 ; 670  |
                             5971 ; 671  |#define HW_ICLSTEER1R_S12P_CLRMASK ~(WORD)HW_ICLSTEER1R_S12P_SETMASK
                             5972 ; 672  |#define HW_ICLSTEER1R_S13P_CLRMASK ~(WORD)HW_ICLSTEER1R_S13P_SETMASK
                             5973 ; 673  |#define HW_ICLSTEER1R_S14P_CLRMASK ~(WORD)HW_ICLSTEER1R_S14P_SETMASK
                             5974 ; 674  |#define HW_ICLSTEER1R_S15P_CLRMASK ~(WORD)HW_ICLSTEER1R_S15P_SETMASK
                             5975 ; 675  |#define HW_ICLSTEER1R_S16P_CLRMASK ~(WORD)HW_ICLSTEER1R_S16P_SETMASK
                             5976 ; 676  |#define HW_ICLSTEER1R_S17P_CLRMASK ~(WORD)HW_ICLSTEER1R_S17P_SETMASK
                             5977 ; 677  |#define HW_ICLSTEER1R_S18P_CLRMASK ~(WORD)HW_ICLSTEER1R_S18P_SETMASK
                             5978 ; 678  |#define HW_ICLSTEER1R_S19P_CLRMASK ~(WORD)HW_ICLSTEER1R_S19P_SETMASK
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 101

M:ADDR CODE           CYCLES LINE SOURCELINE
                             5979 ; 679  |#define HW_ICLSTEER1R_S20P_CLRMASK ~(WORD)HW_ICLSTEER1R_S20P_SETMASK
                             5980 ; 680  |#define HW_ICLSTEER1R_S21P_CLRMASK ~(WORD)HW_ICLSTEER1R_S21P_SETMASK
                             5981 ; 681  |#define HW_ICLSTEER1R_S22P_CLRMASK ~(WORD)HW_ICLSTEER1R_S22P_SETMASK
                             5982 ; 682  |#define HW_ICLSTEER1R_S23P_CLRMASK ~(WORD)HW_ICLSTEER1R_S23P_SETMASK
                             5983 ; 683  |
                             5984 ; 684  |
                             5985 ; 685  |/////////////////////////////////////////////////////////////////////////////////
                             5986 ; 686  |//  Interrupt Collector Steering 2 Register (HW_ICLSTEER2R) Bit Positions
                             5987 ; 687  |typedef union               /* Interrupt Collector Steering 2 Register      */
                             5988 ; 688  |{
                             5989 ; 689  |    struct {
                             5990 ; 690  |        unsigned S24S   :2;
                             5991 ; 691  |        unsigned S25S   :2;
                             5992 ; 692  |        unsigned S26S   :2;
                             5993 ; 693  |        unsigned S27S   :2;
                             5994 ; 694  |        unsigned S28S   :2;
                             5995 ; 695  |        unsigned S29S   :2;
                             5996 ; 696  |        unsigned S30S   :2;
                             5997 ; 697  |        unsigned S31S   :2;
                             5998 ; 698  |        unsigned S32S   :2;
                             5999 ; 699  |        unsigned S33S   :2;
                             6000 ; 700  |    } B;
                             6001 ; 701  |    int I;
                             6002 ; 702  |} iclsteer2_type;
                             6003 ; 703  |#define HW_ICLSTEER2R   (*(volatile iclsteer2_type _X*) (HW_ICOLL_BASEADDR+10)) /* Interru
                                  pt Collector Steering Register 2  */
                             6004 ; 704  |
                             6005 ; 705  |#define HW_ICLSTEER2R_S24P_BITPOS 0
                             6006 ; 706  |#define HW_ICLSTEER2R_S25P_BITPOS 2
                             6007 ; 707  |#define HW_ICLSTEER2R_S26P_BITPOS 4
                             6008 ; 708  |#define HW_ICLSTEER2R_S27P_BITPOS 6
                             6009 ; 709  |#define HW_ICLSTEER2R_S28P_BITPOS 8
                             6010 ; 710  |#define HW_ICLSTEER2R_S29P_BITPOS 10
                             6011 ; 711  |#define HW_ICLSTEER2R_S30P_BITPOS 12
                             6012 ; 712  |#define HW_ICLSTEER2R_S31P_BITPOS 14
                             6013 ; 713  |#define HW_ICLSTEER2R_S32P_BITPOS 16
                             6014 ; 714  |#define HW_ICLSTEER2R_S33P_BITPOS 18
                             6015 ; 715  |
                             6016 ; 716  |#define HW_ICLSTEER2R_S24P_SETMASK 3<<HW_ICLSTEER2R_S24P_BITPOS
                             6017 ; 717  |#define HW_ICLSTEER2R_S25P_SETMASK 3<<HW_ICLSTEER2R_S25P_BITPOS
                             6018 ; 718  |#define HW_ICLSTEER2R_S26P_SETMASK 3<<HW_ICLSTEER2R_S26P_BITPOS
                             6019 ; 719  |#define HW_ICLSTEER2R_S27P_SETMASK 3<<HW_ICLSTEER2R_S27P_BITPOS
                             6020 ; 720  |#define HW_ICLSTEER2R_S28P_SETMASK 3<<HW_ICLSTEER2R_S28P_BITPOS
                             6021 ; 721  |#define HW_ICLSTEER2R_S29P_SETMASK 3<<HW_ICLSTEER2R_S29P_BITPOS
                             6022 ; 722  |#define HW_ICLSTEER2R_S30P_SETMASK 3<<HW_ICLSTEER2R_S30P_BITPOS
                             6023 ; 723  |#define HW_ICLSTEER2R_S31P_SETMASK 3<<HW_ICLSTEER2R_S31P_BITPOS
                             6024 ; 724  |#define HW_ICLSTEER2R_S32P_SETMASK 3<<HW_ICLSTEER2R_S32P_BITPOS
                             6025 ; 725  |#define HW_ICLSTEER2R_S33P_SETMASK 3<<HW_ICLSTEER2R_S33P_BITPOS
                             6026 ; 726  |
                             6027 ; 727  |#define HW_ICLSTEER2R_S24P_CLRMASK ~(WORD)HW_ICLSTEER2R_S24P_SETMASK
                             6028 ; 728  |#define HW_ICLSTEER2R_S25P_CLRMASK ~(WORD)HW_ICLSTEER2R_S25P_SETMASK
                             6029 ; 729  |#define HW_ICLSTEER2R_S26P_CLRMASK ~(WORD)HW_ICLSTEER2R_S26P_SETMASK
                             6030 ; 730  |#define HW_ICLSTEER2R_S27P_CLRMASK ~(WORD)HW_ICLSTEER2R_S27P_SETMASK
                             6031 ; 731  |#define HW_ICLSTEER2R_S28P_CLRMASK ~(WORD)HW_ICLSTEER2R_S28P_SETMASK
                             6032 ; 732  |#define HW_ICLSTEER2R_S29P_CLRMASK ~(WORD)HW_ICLSTEER2R_S29P_SETMASK
                             6033 ; 733  |#define HW_ICLSTEER2R_S30P_CLRMASK ~(WORD)HW_ICLSTEER2R_S30P_SETMASK
                             6034 ; 734  |#define HW_ICLSTEER2R_S31P_CLRMASK ~(WORD)HW_ICLSTEER2R_S31P_SETMASK
                             6035 ; 735  |#define HW_ICLSTEER2R_S32P_CLRMASK ~(WORD)HW_ICLSTEER2R_S32P_SETMASK
                             6036 ; 736  |#define HW_ICLSTEER2R_S33P_CLRMASK ~(WORD)HW_ICLSTEER2R_S33P_SETMASK
                             6037 ; 737  |
                             6038 ; 738  |
                             6039 ; 739  |/////////////////////////////////////////////////////////////////////////////////
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 102

M:ADDR CODE           CYCLES LINE SOURCELINE
                             6040 ; 740  |//  Interrupt Collector Debug Force 0 Register (HW_ICLFORCE0R) Bit Positions
                             6041 ; 741  |typedef union               /* Interrupt Collector Debug Force 0 Register       */
                             6042 ; 742  |{
                             6043 ; 743  |    struct {
                             6044 ; 744  |        int S0FV        :1;
                             6045 ; 745  |        int S1FV        :1;
                             6046 ; 746  |        int S2FV        :1;
                             6047 ; 747  |        int S3FV        :1;
                             6048 ; 748  |        int S4FV        :1;
                             6049 ; 749  |        int S5FV        :1;
                             6050 ; 750  |        int S6FV        :1;
                             6051 ; 751  |        int S7FV        :1;
                             6052 ; 752  |        int S8FV        :1;
                             6053 ; 753  |        int S9FV        :1;
                             6054 ; 754  |        int S10FV       :1;
                             6055 ; 755  |        int S11FV       :1;
                             6056 ; 756  |        int S12FV       :1;
                             6057 ; 757  |        int S13FV       :1;
                             6058 ; 758  |        int S14FV       :1;
                             6059 ; 759  |        int S15FV       :1;
                             6060 ; 760  |        int S16FV       :1;
                             6061 ; 761  |        int S17FV       :1;
                             6062 ; 762  |        int S18FV       :1;
                             6063 ; 763  |        int S19FV       :1;
                             6064 ; 764  |        int S20FV       :1;
                             6065 ; 765  |        int S21FV       :1;
                             6066 ; 766  |        int S22FV       :1;
                             6067 ; 767  |        int S23FV       :1;
                             6068 ; 768  |    } B;
                             6069 ; 769  |    int I;
                             6070 ; 770  |} iclforce0_type;
                             6071 ; 771  |#define HW_ICLFORCE0R   (*(volatile iclforce0_type _X*) (HW_ICOLL_BASEADDR+11)) /* Interru
                                  pt Collector Debug Force Register 0   */
                             6072 ; 772  |#define HW_ICLFORCE0R_S0FV_BITPOS 0
                             6073 ; 773  |#define HW_ICLFORCE0R_S1FV_BITPOS 1
                             6074 ; 774  |#define HW_ICLFORCE0R_S2FV_BITPOS 2
                             6075 ; 775  |#define HW_ICLFORCE0R_S3FV_BITPOS 3
                             6076 ; 776  |#define HW_ICLFORCE0R_S4FV_BITPOS 4
                             6077 ; 777  |#define HW_ICLFORCE0R_S5FV_BITPOS 5
                             6078 ; 778  |#define HW_ICLFORCE0R_S6FV_BITPOS 6
                             6079 ; 779  |#define HW_ICLFORCE0R_S7FV_BITPOS 7
                             6080 ; 780  |#define HW_ICLFORCE0R_S8FV_BITPOS 8
                             6081 ; 781  |#define HW_ICLFORCE0R_S9FV_BITPOS 9
                             6082 ; 782  |#define HW_ICLFORCE0R_S10FV_BITPOS 10
                             6083 ; 783  |#define HW_ICLFORCE0R_S11FV_BITPOS 11
                             6084 ; 784  |#define HW_ICLFORCE0R_S12FV_BITPOS 12
                             6085 ; 785  |#define HW_ICLFORCE0R_S13FV_BITPOS 13
                             6086 ; 786  |#define HW_ICLFORCE0R_S14FV_BITPOS 14
                             6087 ; 787  |#define HW_ICLFORCE0R_S15FV_BITPOS 15
                             6088 ; 788  |#define HW_ICLFORCE0R_S16FV_BITPOS 16
                             6089 ; 789  |#define HW_ICLFORCE0R_S17FV_BITPOS 17
                             6090 ; 790  |#define HW_ICLFORCE0R_S18FV_BITPOS 18
                             6091 ; 791  |#define HW_ICLFORCE0R_S19FV_BITPOS 19
                             6092 ; 792  |#define HW_ICLFORCE0R_S20FV_BITPOS 20
                             6093 ; 793  |#define HW_ICLFORCE0R_S21FV_BITPOS 21
                             6094 ; 794  |#define HW_ICLFORCE0R_S22FV_BITPOS 22
                             6095 ; 795  |#define HW_ICLFORCE0R_S23FV_BITPOS 23
                             6096 ; 796  |
                             6097 ; 797  |#define HW_ICLFORCE0R_S0FV_SETMASK 1<<HW_ICLFORCE0R_S0FV_BITPOS
                             6098 ; 798  |#define HW_ICLFORCE0R_S1FV_SETMASK 1<<HW_ICLFORCE0R_S1FV_BITPOS
                             6099 ; 799  |#define HW_ICLFORCE0R_S2FV_SETMASK 1<<HW_ICLFORCE0R_S2FV_BITPOS
                             6100 ; 800  |#define HW_ICLFORCE0R_S3FV_SETMASK 1<<HW_ICLFORCE0R_S3FV_BITPOS
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 103

M:ADDR CODE           CYCLES LINE SOURCELINE
                             6101 ; 801  |#define HW_ICLFORCE0R_S4FV_SETMASK 1<<HW_ICLFORCE0R_S4FV_BITPOS
                             6102 ; 802  |#define HW_ICLFORCE0R_S5FV_SETMASK 1<<HW_ICLFORCE0R_S5FV_BITPOS
                             6103 ; 803  |#define HW_ICLFORCE0R_S6FV_SETMASK 1<<HW_ICLFORCE0R_S6FV_BITPOS
                             6104 ; 804  |#define HW_ICLFORCE0R_S7FV_SETMASK 1<<HW_ICLFORCE0R_S7FV_BITPOS
                             6105 ; 805  |#define HW_ICLFORCE0R_S8FV_SETMASK 1<<HW_ICLFORCE0R_S8FV_BITPOS
                             6106 ; 806  |#define HW_ICLFORCE0R_S9FV_SETMASK 1<<HW_ICLFORCE0R_S9FV_BITPOS
                             6107 ; 807  |#define HW_ICLFORCE0R_S10FV_SETMASK 1<<HW_ICLFORCE0R_S10FV_BITPOS
                             6108 ; 808  |#define HW_ICLFORCE0R_S11FV_SETMASK 1<<HW_ICLFORCE0R_S11FV_BITPOS
                             6109 ; 809  |#define HW_ICLFORCE0R_S12FV_SETMASK 1<<HW_ICLFORCE0R_S12FV_BITPOS
                             6110 ; 810  |#define HW_ICLFORCE0R_S13FV_SETMASK 1<<HW_ICLFORCE0R_S13FV_BITPOS
                             6111 ; 811  |#define HW_ICLFORCE0R_S14FV_SETMASK 1<<HW_ICLFORCE0R_S14FV_BITPOS
                             6112 ; 812  |#define HW_ICLFORCE0R_S15FV_SETMASK 1<<HW_ICLFORCE0R_S15FV_BITPOS
                             6113 ; 813  |#define HW_ICLFORCE0R_S16FV_SETMASK 1<<HW_ICLFORCE0R_S16FV_BITPOS
                             6114 ; 814  |#define HW_ICLFORCE0R_S17FV_SETMASK 1<<HW_ICLFORCE0R_S17FV_BITPOS
                             6115 ; 815  |#define HW_ICLFORCE0R_S18FV_SETMASK 1<<HW_ICLFORCE0R_S18FV_BITPOS
                             6116 ; 816  |#define HW_ICLFORCE0R_S19FV_SETMASK 1<<HW_ICLFORCE0R_S19FV_BITPOS
                             6117 ; 817  |#define HW_ICLFORCE0R_S20FV_SETMASK 1<<HW_ICLFORCE0R_S20FV_BITPOS
                             6118 ; 818  |#define HW_ICLFORCE0R_S21FV_SETMASK 1<<HW_ICLFORCE0R_S21FV_BITPOS
                             6119 ; 819  |#define HW_ICLFORCE0R_S22FV_SETMASK 1<<HW_ICLFORCE0R_S22FV_BITPOS
                             6120 ; 820  |#define HW_ICLFORCE0R_S23FV_SETMASK 1<<HW_ICLFORCE0R_S23FV_BITPOS
                             6121 ; 821  |
                             6122 ; 822  |#define HW_ICLFORCE0R_S0FV_CLRMASK ~(WORD)HW_ICLFORCE0R_S0FV_SETMASK
                             6123 ; 823  |#define HW_ICLFORCE0R_S1FV_CLRMASK ~(WORD)HW_ICLFORCE0R_S1FV_SETMASK
                             6124 ; 824  |#define HW_ICLFORCE0R_S2FV_CLRMASK ~(WORD)HW_ICLFORCE0R_S2FV_SETMASK
                             6125 ; 825  |#define HW_ICLFORCE0R_S3FV_CLRMASK ~(WORD)HW_ICLFORCE0R_S3FV_SETMASK
                             6126 ; 826  |#define HW_ICLFORCE0R_S4FV_CLRMASK ~(WORD)HW_ICLFORCE0R_S4FV_SETMASK
                             6127 ; 827  |#define HW_ICLFORCE0R_S5FV_CLRMASK ~(WORD)HW_ICLFORCE0R_S5FV_SETMASK
                             6128 ; 828  |#define HW_ICLFORCE0R_S6FV_CLRMASK ~(WORD)HW_ICLFORCE0R_S6FV_SETMASK
                             6129 ; 829  |#define HW_ICLFORCE0R_S7FV_CLRMASK ~(WORD)HW_ICLFORCE0R_S7FV_SETMASK
                             6130 ; 830  |#define HW_ICLFORCE0R_S8FV_CLRMASK ~(WORD)HW_ICLFORCE0R_S8FV_SETMASK
                             6131 ; 831  |#define HW_ICLFORCE0R_S9FV_CLRMASK ~(WORD)HW_ICLFORCE0R_S9FV_SETMASK
                             6132 ; 832  |#define HW_ICLFORCE0R_S10FV_CLRMASK ~(WORD)HW_ICLFORCE0R_S10FV_SETMASK
                             6133 ; 833  |#define HW_ICLFORCE0R_S11FV_CLRMASK ~(WORD)HW_ICLFORCE0R_S11FV_SETMASK
                             6134 ; 834  |#define HW_ICLFORCE0R_S12FV_CLRMASK ~(WORD)HW_ICLFORCE0R_S12FV_SETMASK
                             6135 ; 835  |#define HW_ICLFORCE0R_S13FV_CLRMASK ~(WORD)HW_ICLFORCE0R_S13FV_SETMASK
                             6136 ; 836  |#define HW_ICLFORCE0R_S14FV_CLRMASK ~(WORD)HW_ICLFORCE0R_S14FV_SETMASK
                             6137 ; 837  |#define HW_ICLFORCE0R_S15FV_CLRMASK ~(WORD)HW_ICLFORCE0R_S15FV_SETMASK
                             6138 ; 838  |#define HW_ICLFORCE0R_S16FV_CLRMASK ~(WORD)HW_ICLFORCE0R_S16FV_SETMASK
                             6139 ; 839  |#define HW_ICLFORCE0R_S17FV_CLRMASK ~(WORD)HW_ICLFORCE0R_S17FV_SETMASK
                             6140 ; 840  |#define HW_ICLFORCE0R_S18FV_CLRMASK ~(WORD)HW_ICLFORCE0R_S18FV_SETMASK
                             6141 ; 841  |#define HW_ICLFORCE0R_S19FV_CLRMASK ~(WORD)HW_ICLFORCE0R_S19FV_SETMASK
                             6142 ; 842  |#define HW_ICLFORCE0R_S20FV_CLRMASK ~(WORD)HW_ICLFORCE0R_S20FV_SETMASK
                             6143 ; 843  |#define HW_ICLFORCE0R_S21FV_CLRMASK ~(WORD)HW_ICLFORCE0R_S21FV_SETMASK
                             6144 ; 844  |#define HW_ICLFORCE0R_S22FV_CLRMASK ~(WORD)HW_ICLFORCE0R_S22FV_SETMASK
                             6145 ; 845  |#define HW_ICLFORCE0R_S23FV_CLRMASK ~(WORD)HW_ICLFORCE0R_S23FV_SETMASK
                             6146 ; 846  |
                             6147 ; 847  |
                             6148 ; 848  |/////////////////////////////////////////////////////////////////////////////////
                             6149 ; 849  |//  Interrupt Collector Debug Force 1 Register (HW_ICLFORCE1R) Bit Positions
                             6150 ; 850  |typedef union               /* Interrupt Debug Force 1 Register     */
                             6151 ; 851  |{
                             6152 ; 852  |    struct {
                             6153 ; 853  |        int S24FV       :1;
                             6154 ; 854  |        int S25FV       :1;
                             6155 ; 855  |        int S26FV       :1;
                             6156 ; 856  |        int S27FV       :1;
                             6157 ; 857  |        int S28FV       :1;
                             6158 ; 858  |        int S29FV       :1;
                             6159 ; 859  |        int S30FV       :1;
                             6160 ; 860  |        int S31FV       :1;
                             6161 ; 861  |        int S32FV       :1;
                             6162 ; 862  |        int S33FV       :1;
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 104

M:ADDR CODE           CYCLES LINE SOURCELINE
                             6163 ; 863  |    } B;
                             6164 ; 864  |    int I;
                             6165 ; 865  |} iclforce1_type;
                             6166 ; 866  |#define HW_ICLFORCE1R   (*(volatile iclforce1_type _X*) (HW_ICOLL_BASEADDR+12)) /* Interru
                                  pt Collector Debug Force Register 1   */
                             6167 ; 867  |
                             6168 ; 868  |#define HW_ICLFORCE1R_S24FV_BITPOS 0
                             6169 ; 869  |#define HW_ICLFORCE1R_S25FV_BITPOS 1
                             6170 ; 870  |#define HW_ICLFORCE1R_S26FV_BITPOS 2
                             6171 ; 871  |#define HW_ICLFORCE1R_S27FV_BITPOS 3
                             6172 ; 872  |#define HW_ICLFORCE1R_S28FV_BITPOS 4
                             6173 ; 873  |#define HW_ICLFORCE1R_S29FV_BITPOS 5
                             6174 ; 874  |#define HW_ICLFORCE1R_S30FV_BITPOS 6
                             6175 ; 875  |#define HW_ICLFORCE1R_S31FV_BITPOS 7
                             6176 ; 876  |#define HW_ICLFORCE1R_S32FV_BITPOS 8
                             6177 ; 877  |#define HW_ICLFORCE1R_S33FV_BITPOS 9
                             6178 ; 878  |
                             6179 ; 879  |#define HW_ICLFORCE1R_S24FV_SETMASK 1<<HW_ICLFORCE1R_S24FV_BITPOS
                             6180 ; 880  |#define HW_ICLFORCE1R_S25FV_SETMASK 1<<HW_ICLFORCE1R_S25FV_BITPOS
                             6181 ; 881  |#define HW_ICLFORCE1R_S26FV_SETMASK 1<<HW_ICLFORCE1R_S26FV_BITPOS
                             6182 ; 882  |#define HW_ICLFORCE1R_S27FV_SETMASK 1<<HW_ICLFORCE1R_S27FV_BITPOS
                             6183 ; 883  |#define HW_ICLFORCE1R_S28FV_SETMASK 1<<HW_ICLFORCE1R_S28FV_BITPOS
                             6184 ; 884  |#define HW_ICLFORCE1R_S29FV_SETMASK 1<<HW_ICLFORCE1R_S29FV_BITPOS
                             6185 ; 885  |#define HW_ICLFORCE1R_S30FV_SETMASK 1<<HW_ICLFORCE1R_S30FV_BITPOS
                             6186 ; 886  |#define HW_ICLFORCE1R_S31FV_SETMASK 1<<HW_ICLFORCE1R_S31FV_BITPOS
                             6187 ; 887  |#define HW_ICLFORCE1R_S32FV_SETMASK 1<<HW_ICLFORCE1R_S32FV_BITPOS
                             6188 ; 888  |#define HW_ICLFORCE1R_S33FV_SETMASK 1<<HW_ICLFORCE1R_S33FV_BITPOS
                             6189 ; 889  |
                             6190 ; 890  |#define HW_ICLFORCE1R_S24FV_CLRMASK ~(WORD)HW_ICLFORCE1R_S24FV_SETMASK
                             6191 ; 891  |#define HW_ICLFORCE1R_S25FV_CLRMASK ~(WORD)HW_ICLFORCE1R_S25FV_SETMASK
                             6192 ; 892  |#define HW_ICLFORCE1R_S26FV_CLRMASK ~(WORD)HW_ICLFORCE1R_S26FV_SETMASK
                             6193 ; 893  |#define HW_ICLFORCE1R_S27FV_CLRMASK ~(WORD)HW_ICLFORCE1R_S27FV_SETMASK
                             6194 ; 894  |#define HW_ICLFORCE1R_S28FV_CLRMASK ~(WORD)HW_ICLFORCE1R_S28FV_SETMASK
                             6195 ; 895  |#define HW_ICLFORCE1R_S29FV_CLRMASK ~(WORD)HW_ICLFORCE1R_S29FV_SETMASK
                             6196 ; 896  |#define HW_ICLFORCE1R_S30FV_CLRMASK ~(WORD)HW_ICLFORCE1R_S30FV_SETMASK
                             6197 ; 897  |#define HW_ICLFORCE1R_S31FV_CLRMASK ~(WORD)HW_ICLFORCE1R_S31FV_SETMASK
                             6198 ; 898  |#define HW_ICLFORCE1R_S32FV_CLRMASK ~(WORD)HW_ICLFORCE1R_S32FV_SETMASK
                             6199 ; 899  |#define HW_ICLFORCE1R_S33FV_CLRMASK ~(WORD)HW_ICLFORCE1R_S33FV_SETMASK
                             6200 ; 900  |
                             6201 ; 901  |
                             6202 ; 902  |/////////////////////////////////////////////////////////////////////////////////
                             6203 ; 903  |//  Interrupt Collector Force Enable 0 Register (HW_ICLFENABLE0R) Bit Positions
                             6204 ; 904  |typedef union               /* Interrupt Collector Force Enable 0 Register      */
                             6205 ; 905  |{
                             6206 ; 906  |    struct {
                             6207 ; 907  |        int S0FE        :1;
                             6208 ; 908  |        int S1FE        :1;
                             6209 ; 909  |        int S2FE        :1;
                             6210 ; 910  |        int S3FE        :1;
                             6211 ; 911  |        int S4FE        :1;
                             6212 ; 912  |        int S5FE        :1;
                             6213 ; 913  |        int S6FE        :1;
                             6214 ; 914  |        int S7FE        :1;
                             6215 ; 915  |        int S8FE        :1;
                             6216 ; 916  |        int S9FE        :1;
                             6217 ; 917  |        int S10FE       :1;
                             6218 ; 918  |        int S11FE       :1;
                             6219 ; 919  |        int S12FE       :1;
                             6220 ; 920  |        int S13FE       :1;
                             6221 ; 921  |        int S14FE       :1;
                             6222 ; 922  |        int S15FE       :1;
                             6223 ; 923  |        int S16FE       :1;
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 105

M:ADDR CODE           CYCLES LINE SOURCELINE
                             6224 ; 924  |        int S17FE       :1;
                             6225 ; 925  |        int S18FE       :1;
                             6226 ; 926  |        int S19FE       :1;
                             6227 ; 927  |        int S20FE       :1;
                             6228 ; 928  |        int S21FE       :1;
                             6229 ; 929  |        int S22FE       :1;
                             6230 ; 930  |        int S23FE       :1;
                             6231 ; 931  |    } B;
                             6232 ; 932  |    int I;
                             6233 ; 933  |} iclfenable0_type;
                             6234 ; 934  |#define HW_ICLFENABLE0R (*(volatile iclfenable0_type _X*) (HW_ICOLL_BASEADDR+13)) /* Inter
                                  rupt Collector Force Enable Register 0    */
                             6235 ; 935  |
                             6236 ; 936  |#define HW_ICLFENABLE0R_S0FE_BITPOS 0
                             6237 ; 937  |#define HW_ICLFENABLE0R_S1FE_BITPOS 1
                             6238 ; 938  |#define HW_ICLFENABLE0R_S2FE_BITPOS 2
                             6239 ; 939  |#define HW_ICLFENABLE0R_S3FE_BITPOS 3
                             6240 ; 940  |#define HW_ICLFENABLE0R_S4FE_BITPOS 4
                             6241 ; 941  |#define HW_ICLFENABLE0R_S5FE_BITPOS 5
                             6242 ; 942  |#define HW_ICLFENABLE0R_S6FE_BITPOS 6
                             6243 ; 943  |#define HW_ICLFENABLE0R_S7FE_BITPOS 7
                             6244 ; 944  |#define HW_ICLFENABLE0R_S8FE_BITPOS 8
                             6245 ; 945  |#define HW_ICLFENABLE0R_S9FE_BITPOS 9
                             6246 ; 946  |#define HW_ICLFENABLE0R_S10FE_BITPOS 10
                             6247 ; 947  |#define HW_ICLFENABLE0R_S11FE_BITPOS 11
                             6248 ; 948  |#define HW_ICLFENABLE0R_S12FE_BITPOS 12
                             6249 ; 949  |#define HW_ICLFENABLE0R_S13FE_BITPOS 13
                             6250 ; 950  |#define HW_ICLFENABLE0R_S14FE_BITPOS 14
                             6251 ; 951  |#define HW_ICLFENABLE0R_S15FE_BITPOS 15
                             6252 ; 952  |#define HW_ICLFENABLE0R_S16FE_BITPOS 16
                             6253 ; 953  |#define HW_ICLFENABLE0R_S17FE_BITPOS 17
                             6254 ; 954  |#define HW_ICLFENABLE0R_S18FE_BITPOS 18
                             6255 ; 955  |#define HW_ICLFENABLE0R_S19FE_BITPOS 19
                             6256 ; 956  |#define HW_ICLFENABLE0R_S20FE_BITPOS 20
                             6257 ; 957  |#define HW_ICLFENABLE0R_S21FE_BITPOS 21
                             6258 ; 958  |#define HW_ICLFENABLE0R_S22FE_BITPOS 22
                             6259 ; 959  |#define HW_ICLFENABLE0R_S23FE_BITPOS 23
                             6260 ; 960  |
                             6261 ; 961  |#define HW_ICLFENABLE0R_S0FE_SETMASK 1<<HW_ICLFENABLE0R_S0FE_BITPOS
                             6262 ; 962  |#define HW_ICLFENABLE0R_S1FE_SETMASK 1<<HW_ICLFENABLE0R_S1FE_BITPOS
                             6263 ; 963  |#define HW_ICLFENABLE0R_S2FE_SETMASK 1<<HW_ICLFENABLE0R_S2FE_BITPOS
                             6264 ; 964  |#define HW_ICLFENABLE0R_S3FE_SETMASK 1<<HW_ICLFENABLE0R_S3FE_BITPOS
                             6265 ; 965  |#define HW_ICLFENABLE0R_S4FE_SETMASK 1<<HW_ICLFENABLE0R_S4FE_BITPOS
                             6266 ; 966  |#define HW_ICLFENABLE0R_S5FE_SETMASK 1<<HW_ICLFENABLE0R_S5FE_BITPOS
                             6267 ; 967  |#define HW_ICLFENABLE0R_S6FE_SETMASK 1<<HW_ICLFENABLE0R_S6FE_BITPOS
                             6268 ; 968  |#define HW_ICLFENABLE0R_S7FE_SETMASK 1<<HW_ICLFENABLE0R_S7FE_BITPOS
                             6269 ; 969  |#define HW_ICLFENABLE0R_S8FE_SETMASK 1<<HW_ICLFENABLE0R_S8FE_BITPOS
                             6270 ; 970  |#define HW_ICLFENABLE0R_S9FE_SETMASK 1<<HW_ICLFENABLE0R_S9FE_BITPOS
                             6271 ; 971  |#define HW_ICLFENABLE0R_S10FE_SETMASK 1<<HW_ICLFENABLE0R_S10FE_BITPOS
                             6272 ; 972  |#define HW_ICLFENABLE0R_S11FE_SETMASK 1<<HW_ICLFENABLE0R_S11FE_BITPOS
                             6273 ; 973  |#define HW_ICLFENABLE0R_S12FE_SETMASK 1<<HW_ICLFENABLE0R_S12FE_BITPOS
                             6274 ; 974  |#define HW_ICLFENABLE0R_S13FE_SETMASK 1<<HW_ICLFENABLE0R_S13FE_BITPOS
                             6275 ; 975  |#define HW_ICLFENABLE0R_S14FE_SETMASK 1<<HW_ICLFENABLE0R_S14FE_BITPOS
                             6276 ; 976  |#define HW_ICLFENABLE0R_S15FE_SETMASK 1<<HW_ICLFENABLE0R_S15FE_BITPOS
                             6277 ; 977  |#define HW_ICLFENABLE0R_S16FE_SETMASK 1<<HW_ICLFENABLE0R_S16FE_BITPOS
                             6278 ; 978  |#define HW_ICLFENABLE0R_S17FE_SETMASK 1<<HW_ICLFENABLE0R_S17FE_BITPOS
                             6279 ; 979  |#define HW_ICLFENABLE0R_S18FE_SETMASK 1<<HW_ICLFENABLE0R_S18FE_BITPOS
                             6280 ; 980  |#define HW_ICLFENABLE0R_S19FE_SETMASK 1<<HW_ICLFENABLE0R_S19FE_BITPOS
                             6281 ; 981  |#define HW_ICLFENABLE0R_S20FE_SETMASK 1<<HW_ICLFENABLE0R_S20FE_BITPOS
                             6282 ; 982  |#define HW_ICLFENABLE0R_S21FE_SETMASK 1<<HW_ICLFENABLE0R_S21FE_BITPOS
                             6283 ; 983  |#define HW_ICLFENABLE0R_S22FE_SETMASK 1<<HW_ICLFENABLE0R_S22FE_BITPOS
                             6284 ; 984  |#define HW_ICLFENABLE0R_S23FE_SETMASK 1<<HW_ICLFENABLE0R_S23FE_BITPOS
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 106

M:ADDR CODE           CYCLES LINE SOURCELINE
                             6285 ; 985  |
                             6286 ; 986  |#define HW_ICLFENABLE0R_S0FE_CLRMASK ~(WORD)HW_ICLFENABLE0R_S0FE_SETMASK
                             6287 ; 987  |#define HW_ICLFENABLE0R_S1FE_CLRMASK ~(WORD)HW_ICLFENABLE0R_S1FE_SETMASK
                             6288 ; 988  |#define HW_ICLFENABLE0R_S2FE_CLRMASK ~(WORD)HW_ICLFENABLE0R_S2FE_SETMASK
                             6289 ; 989  |#define HW_ICLFENABLE0R_S3FE_CLRMASK ~(WORD)HW_ICLFENABLE0R_S3FE_SETMASK
                             6290 ; 990  |#define HW_ICLFENABLE0R_S4FE_CLRMASK ~(WORD)HW_ICLFENABLE0R_S4FE_SETMASK
                             6291 ; 991  |#define HW_ICLFENABLE0R_S5FE_CLRMASK ~(WORD)HW_ICLFENABLE0R_S5FE_SETMASK
                             6292 ; 992  |#define HW_ICLFENABLE0R_S6FE_CLRMASK ~(WORD)HW_ICLFENABLE0R_S6FE_SETMASK
                             6293 ; 993  |#define HW_ICLFENABLE0R_S7FE_CLRMASK ~(WORD)HW_ICLFENABLE0R_S7FE_SETMASK
                             6294 ; 994  |#define HW_ICLFENABLE0R_S8FE_CLRMASK ~(WORD)HW_ICLFENABLE0R_S8FE_SETMASK
                             6295 ; 995  |#define HW_ICLFENABLE0R_S9FE_CLRMASK ~(WORD)HW_ICLFENABLE0R_S9FE_SETMASK
                             6296 ; 996  |#define HW_ICLFENABLE0R_S10FE_CLRMASK ~(WORD)HW_ICLFENABLE0R_S10FE_SETMASK
                             6297 ; 997  |#define HW_ICLFENABLE0R_S11FE_CLRMASK ~(WORD)HW_ICLFENABLE0R_S11FE_SETMASK
                             6298 ; 998  |#define HW_ICLFENABLE0R_S12FE_CLRMASK ~(WORD)HW_ICLFENABLE0R_S12FE_SETMASK
                             6299 ; 999  |#define HW_ICLFENABLE0R_S13FE_CLRMASK ~(WORD)HW_ICLFENABLE0R_S13FE_SETMASK
                             6300 ; 1000 |#define HW_ICLFENABLE0R_S14FE_CLRMASK ~(WORD)HW_ICLFENABLE0R_S14FE_SETMASK
                             6301 ; 1001 |#define HW_ICLFENABLE0R_S15FE_CLRMASK ~(WORD)HW_ICLFENABLE0R_S15FE_SETMASK
                             6302 ; 1002 |#define HW_ICLFENABLE0R_S16FE_CLRMASK ~(WORD)HW_ICLFENABLE0R_S16FE_SETMASK
                             6303 ; 1003 |#define HW_ICLFENABLE0R_S17FE_CLRMASK ~(WORD)HW_ICLFENABLE0R_S17FE_SETMASK
                             6304 ; 1004 |#define HW_ICLFENABLE0R_S18FE_CLRMASK ~(WORD)HW_ICLFENABLE0R_S18FE_SETMASK
                             6305 ; 1005 |#define HW_ICLFENABLE0R_S19FE_CLRMASK ~(WORD)HW_ICLFENABLE0R_S19FE_SETMASK
                             6306 ; 1006 |#define HW_ICLFENABLE0R_S20FE_CLRMASK ~(WORD)HW_ICLFENABLE0R_S20FE_SETMASK
                             6307 ; 1007 |#define HW_ICLFENABLE0R_S21FE_CLRMASK ~(WORD)HW_ICLFENABLE0R_S21FE_SETMASK
                             6308 ; 1008 |#define HW_ICLFENABLE0R_S22FE_CLRMASK ~(WORD)HW_ICLFENABLE0R_S22FE_SETMASK
                             6309 ; 1009 |#define HW_ICLFENABLE0R_S23FE_CLRMASK ~(WORD)HW_ICLFENABLE0R_S23FE_SETMASK
                             6310 ; 1010 |
                             6311 ; 1011 |
                             6312 ; 1012 |/////////////////////////////////////////////////////////////////////////////////
                             6313 ; 1013 |//  Interrupt Collector Force Enable 1 Register (HW_ICLFENABLE1R) Bit Positions
                             6314 ; 1014 |typedef union               /* Interrupt Collector Force Enable 1 Register      */
                             6315 ; 1015 |{
                             6316 ; 1016 |    struct {
                             6317 ; 1017 |        int S24FE       :1;
                             6318 ; 1018 |        int S25FE       :1;
                             6319 ; 1019 |        int S26FE       :1;
                             6320 ; 1020 |        int S27FE       :1;
                             6321 ; 1021 |        int S28FE       :1;
                             6322 ; 1022 |        int S29FE       :1;
                             6323 ; 1023 |        int S30FE       :1;
                             6324 ; 1024 |        int S31FE       :1;
                             6325 ; 1025 |        int S32FE       :1;
                             6326 ; 1026 |        int S33FE       :1;
                             6327 ; 1027 |    } B;
                             6328 ; 1028 |    int I;
                             6329 ; 1029 |} iclfenable1_type;
                             6330 ; 1030 |#define HW_ICLFENABLE1R (*(volatile iclfenable1_type _X*) (HW_ICOLL_BASEADDR+14)) /* Inter
                                  rupt Collector Force Enable Register 1    */
                             6331 ; 1031 |#define HW_ICLFENABLE1R_S24FE_BITPOS 0
                             6332 ; 1032 |#define HW_ICLFENABLE1R_S25FE_BITPOS 1
                             6333 ; 1033 |#define HW_ICLFENABLE1R_S26FE_BITPOS 2
                             6334 ; 1034 |#define HW_ICLFENABLE1R_S27FE_BITPOS 3
                             6335 ; 1035 |#define HW_ICLFENABLE1R_S28FE_BITPOS 4
                             6336 ; 1036 |#define HW_ICLFENABLE1R_S29FE_BITPOS 5
                             6337 ; 1037 |#define HW_ICLFENABLE1R_S30FE_BITPOS 6
                             6338 ; 1038 |#define HW_ICLFENABLE1R_S31FE_BITPOS 7
                             6339 ; 1039 |#define HW_ICLFENABLE1R_S32FE_BITPOS 8
                             6340 ; 1040 |#define HW_ICLFENABLE1R_S33FE_BITPOS 9
                             6341 ; 1041 |
                             6342 ; 1042 |#define HW_ICLFENABLE1R_S24FE_SETMASK 1<<HW_ICLFENABLE1R_S24FE_BITPOS
                             6343 ; 1043 |#define HW_ICLFENABLE1R_S25FE_SETMASK 1<<HW_ICLFENABLE1R_S25FE_BITPOS
                             6344 ; 1044 |#define HW_ICLFENABLE1R_S26FE_SETMASK 1<<HW_ICLFENABLE1R_S26FE_BITPOS
                             6345 ; 1045 |#define HW_ICLFENABLE1R_S27FE_SETMASK 1<<HW_ICLFENABLE1R_S27FE_BITPOS
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 107

M:ADDR CODE           CYCLES LINE SOURCELINE
                             6346 ; 1046 |#define HW_ICLFENABLE1R_S28FE_SETMASK 1<<HW_ICLFENABLE1R_S28FE_BITPOS
                             6347 ; 1047 |#define HW_ICLFENABLE1R_S29FE_SETMASK 1<<HW_ICLFENABLE1R_S29FE_BITPOS
                             6348 ; 1048 |#define HW_ICLFENABLE1R_S30FE_SETMASK 1<<HW_ICLFENABLE1R_S30FE_BITPOS
                             6349 ; 1049 |#define HW_ICLFENABLE1R_S31FE_SETMASK 1<<HW_ICLFENABLE1R_S31FE_BITPOS
                             6350 ; 1050 |#define HW_ICLFENABLE1R_S32FE_SETMASK 1<<HW_ICLFENABLE1R_S32FE_BITPOS
                             6351 ; 1051 |#define HW_ICLFENABLE1R_S33FE_SETMASK 1<<HW_ICLFENABLE1R_S33FE_BITPOS
                             6352 ; 1052 |
                             6353 ; 1053 |#define HW_ICLFENABLE1R_S24FE_CLRMASK ~(WORD)HW_ICLFENABLE1R_S24FE_SETMASK
                             6354 ; 1054 |#define HW_ICLFENABLE1R_S25FE_CLRMASK ~(WORD)HW_ICLFENABLE1R_S25FE_SETMASK
                             6355 ; 1055 |#define HW_ICLFENABLE1R_S26FE_CLRMASK ~(WORD)HW_ICLFENABLE1R_S26FE_SETMASK
                             6356 ; 1056 |#define HW_ICLFENABLE1R_S27FE_CLRMASK ~(WORD)HW_ICLFENABLE1R_S27FE_SETMASK
                             6357 ; 1057 |#define HW_ICLFENABLE1R_S28FE_CLRMASK ~(WORD)HW_ICLFENABLE1R_S28FE_SETMASK
                             6358 ; 1058 |#define HW_ICLFENABLE1R_S29FE_CLRMASK ~(WORD)HW_ICLFENABLE1R_S29FE_SETMASK
                             6359 ; 1059 |#define HW_ICLFENABLE1R_S30FE_CLRMASK ~(WORD)HW_ICLFENABLE1R_S30FE_SETMASK
                             6360 ; 1060 |#define HW_ICLFENABLE1R_S31FE_CLRMASK ~(WORD)HW_ICLFENABLE1R_S31FE_SETMASK
                             6361 ; 1061 |#define HW_ICLFENABLE1R_S32FE_CLRMASK ~(WORD)HW_ICLFENABLE1R_S32FE_SETMASK
                             6362 ; 1062 |#define HW_ICLFENABLE1R_S33FE_CLRMASK ~(WORD)HW_ICLFENABLE1R_S33FE_SETMASK
                             6363 ; 1063 |
                             6364 ; 1064 |
                             6365 ; 1065 |/////////////////////////////////////////////////////////////////////////////////
                             6366 ; 1066 |//  Interrupt Collector Observation Register 0 Register (HW_ICLOBSVZ0R) Bit Positions
                             6367 ; 1067 |typedef union               /* Interrupt Collector Observation Register 0       */
                             6368 ; 1068 |{
                             6369 ; 1069 |    struct {
                             6370 ; 1070 |        unsigned RQ     :7;
                             6371 ; 1071 |        unsigned IVA    :7;
                             6372 ; 1072 |        unsigned IVB    :7;
                             6373 ; 1073 |    } B;
                             6374 ; 1074 |    int I;
                             6375 ; 1075 |} iclobsvz0_type;
                             6376 ; 1076 |#define HW_ICLOBSVZ0R   (*(volatile iclobsvz0_type _X*) (HW_ICOLL_BASEADDR+15)) /* Interru
                                  pt Collector Observation Register 0   */
                             6377 ; 1077 |
                             6378 ; 1078 |#define HW_ICLOBSVZ0R_RQ_BITPOS 0
                             6379 ; 1079 |#define HW_ICLOBSVZ0R_IVA_BITPOS 7
                             6380 ; 1080 |#define HW_ICLOBSVZ0R_IVB_BITPOS 14
                             6381 ; 1081 |
                             6382 ; 1082 |#define HW_ICLOBSVZ0R_RQ_SETMASK 0x3F<<HW_ICLOBSVZ0R_RQ_BITPOS
                             6383 ; 1083 |#define HW_ICLOBSVZ0R_IVA_SETMASK 0x3F<<HW_ICLOBSVZ0R_IVA_BITPOS
                             6384 ; 1084 |#define HW_ICLOBSVZ0R_IVB_SETMASK 0x3F<<HW_ICLOBSVZ0R_IVB_BITPOS
                             6385 ; 1085 |
                             6386 ; 1086 |#define HW_ICLOBSVZ0R_RQ_CLRMASK ~(WORD)HW_ICLOBSVZ0R_RQ_SETMASK
                             6387 ; 1087 |#define HW_ICLOBSVZ0R_IVA_CLRMASK ~(WORD)HW_ICLOBSVZ0R_IVA_SETMASK
                             6388 ; 1088 |#define HW_ICLOBSVZ0R_IVB_CLRMASK ~(WORD)HW_ICLOBSVZ0R_IVB_SETMASK
                             6389 ; 1089 |
                             6390 ; 1090 |
                             6391 ; 1091 |/////////////////////////////////////////////////////////////////////////////////
                             6392 ; 1092 |//  Interrupt Collector Observation Register 1 Register (HW_ICL1BSVZ0R) Bit Positions
                             6393 ; 1093 |#define HW_ICL1BSVZ0R_IVC_BITPOS 0
                             6394 ; 1094 |#define HW_ICL1BSVZ0R_IVD_BITPOS 7
                             6395 ; 1095 |
                             6396 ; 1096 |#define HW_ICL1BSVZ0R_IVC_SETMASK 0x3F<<HW_ICL1BSVZ0R_IVC_BITPOS
                             6397 ; 1097 |#define HW_ICL1BSVZ0R_IVD_SETMASK 0x3F<<HW_ICL1BSVZ0R_IVD_BITPOS
                             6398 ; 1098 |
                             6399 ; 1099 |#define HW_ICL1BSVZ0R_IVC_CLRMASK ~(WORD)HW_ICL1BSVZ0R_IVC_SETMASK
                             6400 ; 1100 |#define HW_ICL1BSVZ0R_IVD_CLRMASK ~(WORD)HW_ICL1BSVZ0R_IVD_SETMASK
                             6401 ; 1101 |
                             6402 ; 1102 |
                             6403 ; 1103 |
                             6404 ; 1104 |
                             6405 ; 1105 |/////////////////////////////////////////////////////////////////////////////////
                             6406 ; 1106 |//  Interrupt Vectors
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 108

M:ADDR CODE           CYCLES LINE SOURCELINE
                             6407 ; 1107 |/////////////////////////////////////////////////////////////////////////////////
                             6408 ; 1108 |// Reset Vector
                             6409 ; 1109 |#define HW_IVECRESET 0x0000           
                             6410 ; 1110 |// Stack Error
                             6411 ; 1111 |#define HW_IVECSTERR 0x0002           
                             6412 ; 1112 |// Trace
                             6413 ; 1113 |#define HW_IVECTRAC 0x0004           
                             6414 ; 1114 |// SWI
                             6415 ; 1115 |#define HW_IVECSWI 0x0006           
                             6416 ; 1116 |// ~IRQA
                             6417 ; 1117 |#define HW_IVECIRQA 0x0008           
                             6418 ; 1118 |// ~IRQB - BROWNOUT
                             6419 ; 1119 |#define HW_IVECIRQB 0x000A           
                             6420 ; 1120 |// Fatal Error
                             6421 ; 1121 |#define HW_IVECERROR 0x000C           
                             6422 ; 1122 |// SPI
                             6423 ; 1123 |#define HW_IVECSPI 0x000E           
                             6424 ; 1124 |// I2S TX Data Empty
                             6425 ; 1125 |#define HW_IVECI2STXDE 0x0010           
                             6426 ; 1126 |// I2S TX Underflow
                             6427 ; 1127 |#define HW_IVECI2STXUF 0x0012           
                             6428 ; 1128 |// I2S RX Data Full
                             6429 ; 1129 |#define HW_IVECI2SRXDF 0x0014           
                             6430 ; 1130 |// I2S RX Overflow
                             6431 ; 1131 |#define HW_IVECI2SRXOF 0x0016           
                             6432 ; 1132 |//                                       equ     $0018           ; Error, nothing vectors 
                                  here
                             6433 ; 1133 |//                                       equ     $001A           ; Error, nothing vectors 
                                  here
                             6434 ; 1134 |//                                       equ     $001C           ; Error, nothing vectors 
                                  here
                             6435 ; 1135 |//                                       equ     $001E           ; Non-Maskable Interrupt
                             6436 ; 1136 |// GPIO1
                             6437 ; 1137 |#define HW_IVECGPIO1 0x0020           
                             6438 ; 1138 |// GPIO2
                             6439 ; 1139 |#define HW_IVECGPIO2 0x0022           
                             6440 ; 1140 |// GPIO0
                             6441 ; 1141 |#define HW_IVECGPIO0 0x0024           
                             6442 ; 1142 |// TIMER0
                             6443 ; 1143 |#define HW_IVECTIMER0 0x0026           
                             6444 ; 1144 |// TIMER1
                             6445 ; 1145 |#define HW_IVECTIMER1 0x0028           
                             6446 ; 1146 |// TIMER2
                             6447 ; 1147 |#define HW_IVECTIMER2 0x002A           
                             6448 ; 1148 |//                                       equ     $002C           ; Error, nothing vectors 
                                  here
                             6449 ; 1149 |//                                       equ     $002E           ; Error, nothing vectors 
                                  here
                             6450 ; 1150 |// I2C RX Data Ready
                             6451 ; 1151 |#define HW_IVECI2CRXDR 0x0030           
                             6452 ; 1152 |// I2C RX Overflow
                             6453 ; 1153 |#define HW_IVECI2CRXOF 0x0032           
                             6454 ; 1154 |// I2C TX Data Empty
                             6455 ; 1155 |#define HW_IVECI2CTXDE 0x0034           
                             6456 ; 1156 |// I2C TX Underflow
                             6457 ; 1157 |#define HW_IVECI2CTXUF 0x0036           
                             6458 ; 1158 |// Illegal Instruction
                             6459 ; 1159 |#define HW_IVECILI 0x0038           
                             6460 ; 1160 |//                                       equ     $003A           ; Error, nothing vectors 
                                  here
                             6461 ; 1161 |// DAC Empty ISR (DAC Request to Fill Buffer)
                             6462 ; 1162 |#define HW_IVECDACE 0x003C           
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 109

M:ADDR CODE           CYCLES LINE SOURCELINE
                             6463 ; 1163 |// DAC Underflow ISR
                             6464 ; 1164 |#define HW_IVECDACUF 0x003E           
                             6465 ; 1165 |//                                       equ     $0040           ; Error, nothing vectors 
                                  here
                             6466 ; 1166 |// ADC Full ISR
                             6467 ; 1167 |#define HW_IVECADCF 0x0042           
                             6468 ; 1168 |// ADC Overflow ISR
                             6469 ; 1169 |#define HW_IVECADCOF 0x0044           
                             6470 ; 1170 |//                                       equ     $0046           ; Error, nothing vectors 
                                  here
                             6471 ; 1171 |// TIMER3
                             6472 ; 1172 |#define HW_IVECTIMER3 0x0048           
                             6473 ; 1173 |// GPIO3
                             6474 ; 1174 |#define HW_IVECGPIO3 0x004A           
                             6475 ; 1175 |// SDRAM
                             6476 ; 1176 |#define HW_IVECSDRAM 0x004C           
                             6477 ; 1177 |//                                       equ     $004E           ; Error, nothing vectors 
                                  here
                             6478 ; 1178 |// 5 volt power connected
                             6479 ; 1179 |#define HW_IVECVDD5VCONN 0x0050           
                             6480 ; 1180 |// USB Controller
                             6481 ; 1181 |#define HW_IVECUSBCTLR 0x0052           
                             6482 ; 1182 |// USB Wakeup 
                             6483 ; 1183 |#define HW_IVECUSBWAKEUP 0x0054           
                             6484 ; 1184 |// 5 volt power disconnected
                             6485 ; 1185 |#define HW_IVECVDD5VDISC 0x0056           
                             6486 ; 1186 |// enhanced SPI
                             6487 ; 1187 |#define HW_IVECESPI 0x0058           
                             6488 ; 1188 |// filter coprocessor
                             6489 ; 1189 |#define HW_IVECFILCO 0x005A           
                             6490 ; 1190 |// low res ADC #1
                             6491 ; 1191 |#define HW_IVECLRADC1 0x005C           
                             6492 ; 1192 |// real time clock alarm
                             6493 ; 1193 |#define HW_IVECRTCALARM 0x005E           
                             6494 ; 1194 |// low res ADC #2
                             6495 ; 1195 |#define HW_IVECLRADC2 0x0060           
                             6496 ; 1196 |// flash hardware ECC
                             6497 ; 1197 |#define HW_IVECHWECC 0x0062           
                             6498 ; 1198 |//                                       equ     $0064           ; Error, nothing vectors 
                                  here
                             6499 ; 1199 |// CDSYNC Interrupt
                             6500 ; 1200 |#define HW_IVECCDSYNC 0x0066           
                             6501 ; 1201 |// CDSYNC Exception
                             6502 ; 1202 |#define HW_IVECCDSYNCEX 0x0068           
                             6503 ; 1203 |// RS
                             6504 ; 1204 |#define HW_IVECRS 0x006A           
                             6505 ; 1205 |//                                       equ     $006C           ; Error, nothing vectors 
                                  here
                             6506 ; 1206 |// Flash Done ISR
                             6507 ; 1207 |#define HW_IVECFD 0x006E           
                             6508 ; 1208 |// CompactFlash ISR
                             6509 ; 1209 |#define HW_IVECCF 0x0070           
                             6510 ; 1210 |// SmartMedia Timeout ISR
                             6511 ; 1211 |#define HW_IVECSMTO 0x0072           
                             6512 ; 1212 |// SmartMedia Invalid Programming
                             6513 ; 1213 |#define HW_IVECSMIP 0x0074           
                             6514 ; 1214 |// CompactFlash No Card ISR
                             6515 ; 1215 |#define HW_IVECCFNC 0x0076           
                             6516 ; 1216 |// CompactFlash Status Change ISR
                             6517 ; 1217 |#define HW_IVECCFSC 0x0078           
                             6518 ; 1218 |//                                       equ     $007A           ; Error, nothing vectors 
                                  here
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 110

M:ADDR CODE           CYCLES LINE SOURCELINE
                             6519 ; 1219 |//                                       equ     $007C           ; Error, nothing vectors 
                                  here
                             6520 ; 1220 |// CDI
                             6521 ; 1221 |#define HW_IVECCDI 0x007E           
                             6522 ; 1222 |
                             6523 ; 1223 |/////////////////////////////////////////////////////////////////////////////////
                             6524 ; 1224 |//  Interrupt Vectors
                             6525 ; 1225 |/////////////////////////////////////////////////////////////////////////////////
                             6526 ; 1226 |// macro to allow setting vectors from C. Hex const below is jsr opcode.
                             6527 ; 1227 |#define VECTOR(address,isr) \ 
                             6528 ; 1228 |    (*(volatile int _P *)(address))=0x0BF080; \ 
                             6529 ; 1229 |    (*(volatile int _P *)(address+1))=(isr)
                             6530 ; 1230 |
                             6531 ; 1231 |
                             6532 ; 1232 |/////////////////////////////////////////////////////////////////////////////////
                             6533 ; 1233 |//  Interrupt Priority Register (HW_IPR) Bit Positions
                             6534 ; 1234 |#define HW_IPR_IRQA_BITPOS 0
                             6535 ; 1235 |#define HW_IPR_IRQA_ET_BITPOS 2
                             6536 ; 1236 |#define HW_IPR_IRQB_BITPOS 3
                             6537 ; 1237 |#define HW_IPR_IRQB_ET_BITPOS 5
                             6538 ; 1238 |#define HW_IPR_L0P_BITPOS 10
                             6539 ; 1239 |#define HW_IPR_L1P_BITPOS 12
                             6540 ; 1240 |#define HW_IPR_L2P_BITPOS 14
                             6541 ; 1241 |#define HW_IPR_L3P_BITPOS 16
                             6542 ; 1242 |#define HW_IPR_L4P_BITPOS 18
                             6543 ; 1243 |#define HW_IPR_L5P_BITPOS 20
                             6544 ; 1244 |#define HW_IPR_L6P_BITPOS 22
                             6545 ; 1245 |
                             6546 ; 1246 |// Interrupt Disabled
                             6547 ; 1247 |#define HW_IPR_LP_0_SETMASK 0   
                             6548 ; 1248 |// Interrupt Priority Level 0
                             6549 ; 1249 |#define HW_IPR_LP_1_SETMASK 1   
                             6550 ; 1250 |// Interrupt Priority Level 1
                             6551 ; 1251 |#define HW_IPR_LP_2_SETMASK 2   
                             6552 ; 1252 |// Interrupt Priority Level 2
                             6553 ; 1253 |#define HW_IPR_LP_3_SETMASK 3   
                             6554 ; 1254 |
                             6555 ; 1255 |#define HW_IPR_IRQA_SETMASK 3<<HW_IPR_IRQA_BITPOS
                             6556 ; 1256 |#define HW_IPR_IRQA_ET_SETMASK 1<<HW_IPR_IRQA_ET_BITPOS
                             6557 ; 1257 |#define HW_IPR_IRQB_SETMASK 3<<HW_IPR_IRQB_BITPOS
                             6558 ; 1258 |#define HW_IPR_IRQB_ET_SETMASK 1<<HW_IPR_IRQB_ET_BITPOS
                             6559 ; 1259 |#define HW_IPR_L0P_SETMASK 3<<HW_IPR_L0P_BITPOS
                             6560 ; 1260 |#define HW_IPR_L1P_SETMASK 3<<HW_IPR_L1P_BITPOS
                             6561 ; 1261 |#define HW_IPR_L2P_SETMASK 3<<HW_IPR_L2P_BITPOS
                             6562 ; 1262 |#define HW_IPR_L3P_SETMASK 3<<HW_IPR_L3P_BITPOS
                             6563 ; 1263 |#define HW_IPR_L4P_SETMASK 3<<HW_IPR_L4P_BITPOS
                             6564 ; 1264 |#define HW_IPR_L5P_SETMASK 3<<HW_IPR_L5P_BITPOS
                             6565 ; 1265 |#define HW_IPR_L6P_SETMASK 3<<HW_IPR_L6P_BITPOS
                             6566 ; 1266 |
                             6567 ; 1267 |#define HW_IPR_IRQA_CLRMASK ~(WORD)HW_IPR_IRQA_SETMASK
                             6568 ; 1268 |#define HW_IPR_IRQA_ET_CLRMASK ~(WORD)HW_IPR_IRQA_ET_SETMASK
                             6569 ; 1269 |#define HW_IPR_IRQB_CLRMASK ~(WORD)HW_IPR_IRQB_SETMASK
                             6570 ; 1270 |#define HW_IPR_IRQB_ET_CLRMASK ~(WORD)HW_IPR_IRQB_ET_SETMASK
                             6571 ; 1271 |#define HW_IPR_L0P_CLRMASK ~(WORD)HW_IPR_L0P_SETMASK
                             6572 ; 1272 |#define HW_IPR_L1P_CLRMASK ~(WORD)HW_IPR_L1P_SETMASK
                             6573 ; 1273 |#define HW_IPR_L2P_CLRMASK ~(WORD)HW_IPR_L2P_SETMASK
                             6574 ; 1274 |#define HW_IPR_L3P_CLRMASK ~(WORD)HW_IPR_L3P_SETMASK
                             6575 ; 1275 |#define HW_IPR_L4P_CLRMASK ~(WORD)HW_IPR_L4P_SETMASK
                             6576 ; 1276 |#define HW_IPR_L5P_CLRMASK ~(WORD)HW_IPR_L5P_SETMASK
                             6577 ; 1277 |#define HW_IPR_L6P_CLRMASK ~(WORD)HW_IPR_L6P_SETMASK
                             6578 ; 1278 |
                             6579 ; 1279 |// Interrupt Priority register
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 111

M:ADDR CODE           CYCLES LINE SOURCELINE
                             6580 ; 1280 |typedef union               
                             6581 ; 1281 |{
                             6582 ; 1282 |    struct {
                             6583 ; 1283 |        unsigned int IRQAP  :2; /* IRQ A Priority: 00 disable, 01 10 11 enable  */
                             6584 ; 1284 |        unsigned int IRQAT  :1; /* IRQ A Type: 0 level, 1 negative edge         */
                             6585 ; 1285 |        unsigned int IRQBP  :2; /* IRQ B Priority: 00 disable, 01 10 11 enable  */
                             6586 ; 1286 |        unsigned int IRQBT  :1; /* IRQ B Type: 0 level, 1 negative edge.        */
                             6587 ; 1287 |        int                 :4; /* Reserved */
                             6588 ; 1288 |        unsigned int L0P    :2; /* Interrupt Priority for priority 0 (SAI)      */
                             6589 ; 1289 |        unsigned int L1P    :2; /* Interrupt Priority for priority 1 (IColl)    */
                             6590 ; 1290 |        unsigned int L2P    :2; /* Interrupt Priority for priority 2 (IColl)    */
                             6591 ; 1291 |        unsigned int L3P    :2; /* Interrupt Priority for priority 3 (IColl)    */
                             6592 ; 1292 |        unsigned int L4P    :2; /* Interrupt Priority for priority 4 (I2C)      */
                             6593 ; 1293 |        unsigned int L5P    :2; /* Interrupt Priority for priority 5 (SPI)      */
                             6594 ; 1294 |        unsigned int L6P    :2; /* Interrupt Priority for priority 6 (IColl)    */
                             6595 ; 1295 |    } B;
                             6596 ; 1296 |
                             6597 ; 1297 |    int I;
                             6598 ; 1298 |
                             6599 ; 1299 |} ipr_type;
                             6600 ; 1300 |#define HW_IPR         (*(volatile ipr_type _X*) 0x00FFFF)
                             6601 ; 1301 |
                             6602 ; 1302 |//*********************  REGISTER ALIAS DEFINES TO MATCH LEGACY CODE *********************
                                  **********
                             6603 ; 1303 |// The following defines were added to match regs3410.inc definition to build SDK2XXX code
                                   without needing 
                             6604 ; 1304 |// to update the actual files. Only the defines needed to build SDK2.400 were added.
                             6605 ; 1305 |
                             6606 ; 1306 |#define HW_IPR_L1P0_BITPOS 12
                             6607 ; 1307 |#define HW_IPR_L2P0_BITPOS 14
                             6608 ; 1308 |#define HW_IPR_L3P0_BITPOS 16
                             6609 ; 1309 |#define HW_IPR_L6P0_BITPOS 22
                             6610 ; 1310 |
                             6611 ; 1311 |/////////////////////////////////////////////////////////////////////////////////
                             6612 ; 1312 |//  Interrupt Collector Steering 0 Register (HW_ICLSTEER0R) Bit Positions
                             6613 ; 1313 |#define HW_ICLSTEERR_SS_1 0
                             6614 ; 1314 |#define HW_ICLSTEERR_SS_2 1
                             6615 ; 1315 |#define HW_ICLSTEERR_SS_3 2
                             6616 ; 1316 |#define HW_ICLSTEERR_SS_6 3
                             6617 ; 1317 |
                             6618 ; 1318 |#endif
                             6619 ; 1319 |
                             6620 
                             6622 
                             6623 ; 26   |#include "regslradc.h"
                             6624 
                             6626 
                             6627 ; 1    |#if !(defined(regslradcinc))
                             6628 ; 2    |
                             6629 ; 3    |#define regslradcinc 1
                             6630 ; 4    |
                             6631 ; 5    |#include "types.h"
                             6632 
                             6634 
                             6635 ; 1    |////////////////////////////////////////////////////////////////////////////////
                             6636 ; 2    |// Copyright(C) SigmaTel, Inc. 2000-2004
                             6637 ; 3    |//
                             6638 ; 4    |// Filename: types.h
                             6639 ; 5    |// Description: Standard data types
                             6640 ; 6    |////////////////////////////////////////////////////////////////////////////////
                             6641 ; 7    |
                             6642 ; 8    |#ifndef _TYPES_H
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 112

M:ADDR CODE           CYCLES LINE SOURCELINE
                             6643 ; 9    |#define _TYPES_H
                             6644 ; 10   |
                             6645 ; 11   |// TODO:  move this outta here!
                             6646 ; 12   |#if !defined(NOERROR)
                             6647 ; 13   |#define NOERROR 0
                             6648 ; 14   |#define SUCCESS 0
                             6649 ; 15   |#endif 
                             6650 ; 16   |#if !defined(SUCCESS)
                             6651 ; 17   |#define SUCCESS  0
                             6652 ; 18   |#endif
                             6653 ; 19   |#if !defined(ERROR)
                             6654 ; 20   |#define ERROR   -1
                             6655 ; 21   |#endif
                             6656 ; 22   |#if !defined(FALSE)
                             6657 ; 23   |#define FALSE 0
                             6658 ; 24   |#endif
                             6659 ; 25   |#if !defined(TRUE)
                             6660 ; 26   |#define TRUE  1
                             6661 ; 27   |#endif
                             6662 ; 28   |
                             6663 ; 29   |#if !defined(NULL)
                             6664 ; 30   |#define NULL 0
                             6665 ; 31   |#endif
                             6666 ; 32   |
                             6667 ; 33   |#define MAX_INT     0x7FFFFF
                             6668 ; 34   |#define MAX_LONG    0x7FFFFFffffff
                             6669 ; 35   |        // max positive unsigned long value: -1 == 0xFFFFFFffffff
                             6670 ; 36   |#define MAX_ULONG   (-1) 
                             6671 ; 37   |
                             6672 ; 38   |#define WORD_SIZE   24              // word size in bits
                             6673 ; 39   |#define BYTES_PER_WORD 3            // 8 bit bytes
                             6674 ; 40   |
                             6675 ; 41   |
                             6676 ; 42   |#define BYTE    unsigned char       // btVarName
                             6677 ; 43   |#define CHAR    signed char         // cVarName
                             6678 ; 44   |#define USHORT  unsigned short      // usVarName
                             6679 ; 45   |#define SHORT   unsigned short      // sVarName
                             6680 ; 46   |#define WORD    unsigned int        // wVarName
                             6681 ; 47   |#define INT     signed int          // iVarName
                             6682 ; 48   |#define DWORD   unsigned long       // dwVarName
                             6683 ; 49   |#define LONG    signed long         // lVarName
                             6684 ; 50   |#define BOOL    unsigned int        // bVarName
                             6685 ; 51   |#define FRACT   _fract              // frVarName
                             6686 ; 52   |#define LFRACT  long _fract         // lfrVarName
                             6687 ; 53   |#define CIRC    _circ               // cp<type prefix>VarName (see below)
                             6688 ; 54   |#define FLOAT   float               // fVarName
                             6689 ; 55   |#define DBL     double              // dVarName
                             6690 ; 56   |#define ENUM    enum                // eVarName
                             6691 ; 57   |#define CMX     _complex            // cmxVarName
                             6692 ; 58   |typedef WORD UCS3;                   // 
                             6693 ; 59   |
                             6694 ; 60   |#define UINT16  unsigned short
                             6695 ; 61   |#define UINT8   unsigned char   
                             6696 ; 62   |#define UINT32  unsigned long
                             6697 ; 63   |#define UINT64  unsigned long   // need to figure out how to do 64 bit values.  Or port ex
                                  isiting code to only use 48 bit
                             6698 ; 64   |#define INT64   unsigned long   // need to figure out how to do 64 bit values.  Or port ex
                                  isiting code to only use 48 bit
                             6699 ; 65   |#define WCHAR   UINT16
                             6700 ; 66   |
                             6701 ; 67   |//UINT128 is 16 bytes or 6 words
                             6702 ; 68   |typedef struct UINT128_3500 {   
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 113

M:ADDR CODE           CYCLES LINE SOURCELINE
                             6703 ; 69   |    int val[6];     
                             6704 ; 70   |} UINT128_3500;
                             6705 ; 71   |
                             6706 ; 72   |#define UINT128   UINT128_3500
                             6707 ; 73   |
                             6708 ; 74   |// Little endian word packed byte strings:   
                             6709 ; 75   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                             6710 ; 76   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                             6711 ; 77   |// Little endian word packed byte strings:   
                             6712 ; 78   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                             6713 ; 79   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                             6714 ; 80   |
                             6715 ; 81   |// Declare Memory Spaces To Use When Coding
                             6716 ; 82   |// A. Sector Buffers
                             6717 ; 83   |#define SECTOR_BUFFER_MEM_X _X
                             6718 ; 84   |#define SECTOR_BUFFER_MEM_Y _Y
                             6719 ; 85   |#define SECTOR_BUFFER_MEM SECTOR_BUFFER_MEM_X
                             6720 ; 86   |typedef WORD SECTOR_BUFFER_MEM SECTOR_BUFFER;
                             6721 ; 87   |typedef SECTOR_BUFFER * P_SECTOR_BUFFER;
                             6722 ; 88   |// B. Media DDI Memory
                             6723 ; 89   |#define MEDIA_DDI_MEM _Y
                             6724 ; 90   |
                             6725 ; 91   |
                             6726 ; 92   |
                             6727 ; 93   |// Pointers to linear structures are labeled as: p<type prefix>VarName
                             6728 ; 94   |// Examples of circular pointers:
                             6729 ; 95   |//    INT CIRC cpiVarName
                             6730 ; 96   |//    DWORD CIRC cpdwVarName
                             6731 ; 97   |
                             6732 ; 98   |#define RETCODE INT                 // rcVarName
                             6733 ; 99   |
                             6734 ; 100  |// generic bitfield structure
                             6735 ; 101  |struct Bitfield {
                             6736 ; 102  |    unsigned int B0  :1;
                             6737 ; 103  |    unsigned int B1  :1;
                             6738 ; 104  |    unsigned int B2  :1;
                             6739 ; 105  |    unsigned int B3  :1;
                             6740 ; 106  |    unsigned int B4  :1;
                             6741 ; 107  |    unsigned int B5  :1;
                             6742 ; 108  |    unsigned int B6  :1;
                             6743 ; 109  |    unsigned int B7  :1;
                             6744 ; 110  |    unsigned int B8  :1;
                             6745 ; 111  |    unsigned int B9  :1;
                             6746 ; 112  |    unsigned int B10 :1;
                             6747 ; 113  |    unsigned int B11 :1;
                             6748 ; 114  |    unsigned int B12 :1;
                             6749 ; 115  |    unsigned int B13 :1;
                             6750 ; 116  |    unsigned int B14 :1;
                             6751 ; 117  |    unsigned int B15 :1;
                             6752 ; 118  |    unsigned int B16 :1;
                             6753 ; 119  |    unsigned int B17 :1;
                             6754 ; 120  |    unsigned int B18 :1;
                             6755 ; 121  |    unsigned int B19 :1;
                             6756 ; 122  |    unsigned int B20 :1;
                             6757 ; 123  |    unsigned int B21 :1;
                             6758 ; 124  |    unsigned int B22 :1;
                             6759 ; 125  |    unsigned int B23 :1;
                             6760 ; 126  |};
                             6761 ; 127  |
                             6762 ; 128  |union BitInt {
                             6763 ; 129  |        struct Bitfield B;
                             6764 ; 130  |        int        I;
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 114

M:ADDR CODE           CYCLES LINE SOURCELINE
                             6765 ; 131  |};
                             6766 ; 132  |
                             6767 ; 133  |#define MAX_MSG_LENGTH 10
                             6768 ; 134  |struct CMessage
                             6769 ; 135  |{
                             6770 ; 136  |        unsigned int m_uLength;
                             6771 ; 137  |        unsigned int m_uMsg[MAX_MSG_LENGTH];
                             6772 ; 138  |};
                             6773 ; 139  |
                             6774 ; 140  |typedef struct {
                             6775 ; 141  |    WORD m_wLength;
                             6776 ; 142  |    WORD m_wMessage;
                             6777 ; 143  |    WORD m_wParams[MAX_MSG_LENGTH];
                             6778 ; 144  |} Message;
                             6779 ; 145  |
                             6780 ; 146  |struct MessageQueueDescriptor
                             6781 ; 147  |{
                             6782 ; 148  |        int *m_pBase;
                             6783 ; 149  |        int m_iModulo;
                             6784 ; 150  |        int m_iSize;
                             6785 ; 151  |        int *m_pHead;
                             6786 ; 152  |        int *m_pTail;
                             6787 ; 153  |};
                             6788 ; 154  |
                             6789 ; 155  |struct ModuleEntry
                             6790 ; 156  |{
                             6791 ; 157  |    int m_iSignaledEventMask;
                             6792 ; 158  |    int m_iWaitEventMask;
                             6793 ; 159  |    int m_iResourceOfCode;
                             6794 ; 160  |    struct MessageQueueDescriptor *m_pMessageQueue;
                             6795 ; 161  |    int _asmfunc (*m_pProcessEntryPoint)(union WaitMask Signals,struct MessageQueueDescrip
                                  tor *);
                             6796 ; 162  |    int _asmfunc (*m_pInitFunction)(struct MessageQueueDescriptor *);
                             6797 ; 163  |    int m_uTimeOutHigh;
                             6798 ; 164  |    int m_uTimeOutLow;
                             6799 ; 165  |    int _asmfunc (*m_pBackgroundFunction)(struct MessageQueueDescriptor *);
                             6800 ; 166  |};
                             6801 ; 167  |
                             6802 ; 168  |union WaitMask{
                             6803 ; 169  |    struct B{
                             6804 ; 170  |        unsigned int m_bNone     :1;
                             6805 ; 171  |        unsigned int m_bMessage  :1;
                             6806 ; 172  |        unsigned int m_bTimer    :1;
                             6807 ; 173  |        unsigned int m_bButton   :1;
                             6808 ; 174  |    } B;
                             6809 ; 175  |    int I;
                             6810 ; 176  |} ;
                             6811 ; 177  |
                             6812 ; 178  |
                             6813 ; 179  |struct Button {
                             6814 ; 180  |        WORD wButtonEvent;
                             6815 ; 181  |        WORD wUnused[MAX_MSG_LENGTH];   
                             6816 ; 182  |};
                             6817 ; 183  |
                             6818 ; 184  |struct Message {
                             6819 ; 185  |        WORD wMsgLength;
                             6820 ; 186  |        WORD wMsgCommand;
                             6821 ; 187  |        WORD wMsgParms[MAX_MSG_LENGTH-1];
                             6822 ; 188  |};
                             6823 ; 189  |
                             6824 ; 190  |union EventTypes {
                             6825 ; 191  |        struct CMessage msg;
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 115

M:ADDR CODE           CYCLES LINE SOURCELINE
                             6826 ; 192  |        struct Button Button ;
                             6827 ; 193  |        struct Message Message;
                             6828 ; 194  |};
                             6829 ; 195  |
                             6830 ; 196  |// next 2 used to get updater build to return correct protocol ver in scsi response.
                             6831 ; 197  |#define BUILD_TYPE_UPDATER  0x100
                             6832 ; 198  |#define BUILD_TYPE_HOSTLINK 0x101
                             6833 ; 199  |#define BUILD_TYPE_PLAYER   0x102
                             6834 ; 200  |
                             6835 ; 201  |// Resets part if RETAIL build. DEBUG build executes debug instruction to halt.
                             6836 ; 202  |#define SystemHalt() __asm(" include 'sysmacro.asm' \n error") 
                             6837 ; 203  |#define assert(x)    if(!(x)) __asm(" include 'sysmacro.asm' \n error")
                             6838 ; 204  |
                             6839 ; 205  |#if DEBUG
                             6840 ; 206  |// For DEBUG builds, DebugBuildAssert(condition) halts if condition evaluates to FALSE. 
                             6841 ; 207  |#define DebugBuildAssert(x)    if(!(x)) __asm(" debug ")
                             6842 ; 208  |#else 
                             6843 ; 209  |// For RETAIL builds, DebugBuildAssert(condition) does nothing & execution continues rathe
                                  r than halt or reset. 
                             6844 ; 210  |#define DebugBuildAssert(x)    
                             6845 ; 211  |#endif
                             6846 ; 212  |
                             6847 ; 213  |// Do this in your C files to make a reminder that's displayed during the build.
                             6848 ; 214  |//  #pragma asm
                             6849 ; 215  |//  WARN 'Note to builder: reminder to do this after verifying that'
                             6850 ; 216  |//  #pragma endasm
                             6851 ; 217  |
                             6852 ; 218  |
                             6853 ; 219  |#ifdef COLOR_262K
                             6854 ; 220  |#define RGB(r,g,b)    ((0x0000FC & (r)) << 10) | ((0x0000FC & (g)) << 4) | ((0x0000FC & (b
                                  )) >> 2)    //262k
                             6855 ; 221  |#elif defined(COLOR_65K)
                             6856 ; 222  |#define RGB(r,g,b)    ((0x0000F8 & (r)) << 8) | ((0x0000FC & (g)) << 3) | ((0x0000F8 & (b)
                                  ) >> 3)  //65k
                             6857 ; 223  |#else
                             6858 ; 224  |#define RGB(r,g,b)       ((0x0000F0 & (r)) << 4) | (0x0000F0 & (g)) | ((0x0000F0 & (b)) >>
                                   4)
                             6859 ; 225  |#endif
                             6860 ; 226  |    
                             6861 ; 227  |#endif // #ifndef _TYPES_H
                             6862 
                             6864 
                             6865 ; 6    |//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                             6866 ; 7    |
                             6867 ; 8    |//   SYSTEM STMP Registers 
                             6868 ; 9    |//  Last Edited 6.26.2003 M. Henson
                             6869 ; 10   |//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                             6870 ; 11   |
                             6871 ; 12   |#define HW_LRADC_BASEADDR (0xFA20)
                             6872 ; 13   |
                             6873 ; 14   |
                             6874 ; 15   |
                             6875 ; 16   |/////////////////////////////////////////////////////////////////////////////////
                             6876 ; 17   |//  Battery LRADC Control Register (HW_BATT_CTRL) Bit Definitions
                             6877 ; 18   |#define HW_BATT_CTRL_INPUT_OFFSET_WIDTH (7)
                             6878 ; 19   |#define HW_BATT_CTRL_RSVD0_WIDTH (1)
                             6879 ; 20   |#define HW_BATT_CTRL_HALF_CMP_PWR_WIDTH (1)
                             6880 ; 21   |#define HW_BATT_CTRL_INPUT_DIV2_WIDTH (1)
                             6881 ; 22   |#define HW_BATT_CTRL_CLEAR_WIDTH (1)
                             6882 ; 23   |#define HW_BATT_CTRL_PWD_WIDTH (1)
                             6883 ; 24   |#define HW_BATT_CTRL_CLK_DIV_WIDTH (2)
                             6884 ; 25   |#define HW_BATT_CTRL_RSVD1_WIDTH (2)
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 116

M:ADDR CODE           CYCLES LINE SOURCELINE
                             6885 ; 26   |#define HW_BATT_CTRL_REF_VAL_WIDTH (2)
                             6886 ; 27   |#define HW_BATT_CTRL_RSVD2_WIDTH (2)
                             6887 ; 28   |#define HW_BATT_CTRL_IRQ_EN_EVENT0_WIDTH (1)
                             6888 ; 29   |#define HW_BATT_CTRL_IRQ_EN_EVENT1_WIDTH (1)
                             6889 ; 30   |#define HW_BATT_CTRL_POLARITY_EVENT0_WIDTH (1)
                             6890 ; 31   |#define HW_BATT_CTRL_POLARITY_EVENT1_WIDTH (1)
                             6891 ; 32   |
                             6892 ; 33   |#define HW_BATT_CTRL_INPUT_OFFSET_BITPOS (0)
                             6893 ; 34   |#define HW_BATT_CTRL_HALF_CMP_PWR_BITPOS (8)
                             6894 ; 35   |#define HW_BATT_CTRL_INPUT_DIV2_BITPOS (9)
                             6895 ; 36   |#define HW_BATT_CTRL_CLEAR_BITPOS (10)
                             6896 ; 37   |#define HW_BATT_CTRL_PWD_BITPOS (11)
                             6897 ; 38   |#define HW_BATT_CTRL_CLK_DIV_BITPOS (12)
                             6898 ; 39   |#define HW_BATT_CTRL_REF_VAL_BITPOS (16)
                             6899 ; 40   |
                             6900 ; 41   |#define HW_BATT_CTRL_INPUT_OFFSET_SETMASK (((1<<HW_BATT_CTRL_INPUT_OFFSET_WIDTH)-1)<<HW_BA
                                  TT_CTRL_INPUT_OFFSET_BITPOS)        
                             6901 ; 42   |#define HW_BATT_CTRL_HALF_CMP_PWR_SETMASK (((1<<HW_BATT_CTRL_HALF_CMP_PWR_WIDTH)-1)<<HW_BA
                                  TT_CTRL_HALF_CMP_PWR_BITPOS)        
                             6902 ; 43   |#define HW_BATT_CTRL_INPUT_DIV2_SETMASK (((1<<HW_BATT_CTRL_INPUT_DIV2_WIDTH)-1)<<HW_BATT_C
                                  TRL_INPUT_DIV2_BITPOS) 
                             6903 ; 44   |#define HW_BATT_CTRL_CLEAR_SETMASK (((1<<HW_BATT_CTRL_CLEAR_WIDTH)-1)<<HW_BATT_CTRL_CLEAR_
                                  BITPOS) 
                             6904 ; 45   |#define HW_BATT_CTRL_PWD_SETMASK (((1<<HW_BATT_CTRL_PWD_WIDTH)-1)<<HW_BATT_CTRL_PWD_BITPOS
                                  ) 
                             6905 ; 46   |#define HW_BATT_CTRL_CLK_DIV_SETMASK (((1<<HW_BATT_CTRL_CLK_DIV_WIDTH)-1)<<HW_BATT_CTRL_CL
                                  K_DIV_BITPOS)        
                             6906 ; 47   |#define HW_BATT_CTRL_REF_VAL_SETMASK (((1<<HW_BATT_CTRL_REF_VAL_WIDTH)-1)<<HW_BATT_CTRL_RE
                                  F_VAL_BITPOS)        
                             6907 ; 48   |
                             6908 ; 49   |#define HW_BATT_CTRL_INPUT_OFFSET_CLRMASK (~(WORD)HW_BATT_CTRL_INPUT_OFFSET_SETMASK)     
                             6909 ; 50   |#define HW_BATT_CTRL_HALF_CMP_PWR_CLRMASK (~(WORD)HW_BATT_CTRL_HALF_CMP_PWR_SETMASK)     
                             6910 ; 51   |#define HW_BATT_CTRL_INPUT_DIV2_CLRMASK (~(WORD)HW_BATT_CTRL_INPUT_DIV2_SETMASK) 
                             6911 ; 52   |#define HW_BATT_CTRL_CLEAR_CLRMASK (~(WORD)HW_BATT_CTRL_CLEAR_SETMASK) 
                             6912 ; 53   |#define HW_BATT_CTRL_PWD_CLRMASK (~(WORD)HW_BATT_CTRL_PWD_SETMASK) 
                             6913 ; 54   |#define HW_BATT_CTRL_CLK_DIV_CLRMASK (~(WORD)HW_BATT_CTRL_CLK_DIV_SETMASK)     
                             6914 ; 55   |#define HW_BATT_CTRL_REF_VAL_CLRMASK (~(WORD)HW_BATT_CTRL_REF_VAL_SETMASK)
                             6915 ; 56   |
                             6916 ; 57   |typedef union               
                             6917 ; 58   |{
                             6918 ; 59   |    struct {
                             6919 ; 60   |        unsigned int INPUT_OFFSET                 : HW_BATT_CTRL_INPUT_OFFSET_WIDTH;
                             6920 ; 61   |        unsigned int RSVD0                        : HW_BATT_CTRL_RSVD0_WIDTH;
                             6921 ; 62   |        unsigned int HALF_CMP_PWR                 : HW_BATT_CTRL_HALF_CMP_PWR_WIDTH;
                             6922 ; 63   |        unsigned int INPUT_DIV2                   : HW_BATT_CTRL_INPUT_DIV2_WIDTH;
                             6923 ; 64   |        unsigned int CLEAR                        : HW_BATT_CTRL_CLEAR_WIDTH;
                             6924 ; 65   |        unsigned int PWD                          : HW_BATT_CTRL_PWD_WIDTH;
                             6925 ; 66   |        unsigned int CLK_DIV                      : HW_BATT_CTRL_CLK_DIV_WIDTH;
                             6926 ; 67   |        unsigned int RSVD1                        : HW_BATT_CTRL_RSVD1_WIDTH;
                             6927 ; 68   |        unsigned int REF_VAL                      : HW_BATT_CTRL_REF_VAL_WIDTH;
                             6928 ; 69   |        unsigned int RSVD2                        : HW_BATT_CTRL_RSVD2_WIDTH;
                             6929 ; 70   |                 unsigned int IRQ_EN_EVENT0                               : HW_BATT_CTRL_I
                                  RQ_EN_EVENT0_WIDTH;
                             6930 ; 71   |                 unsigned int IRQ_EN_EVENT1                               : HW_BATT_CTRL_I
                                  RQ_EN_EVENT1_WIDTH;
                             6931 ; 72   |             unsigned int POLARITY_EVENT0              : HW_BATT_CTRL_POLARITY_EVENT0_WIDT
                                  H;
                             6932 ; 73   |                 unsigned int POLARITY_EVENT1              : HW_BATT_CTRL_POLARITY_EVENT1_
                                  WIDTH;
                             6933 ; 74   |    } B;
                             6934 ; 75   |   unsigned int I;
                             6935 ; 76   |        unsigned int U;
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 117

M:ADDR CODE           CYCLES LINE SOURCELINE
                             6936 ; 77   |} lradc_ctrl_type;
                             6937 ; 78   |#define HW_BATT_CTRL      (*(volatile lradc_ctrl_type _X*) (HW_LRADC_BASEADDR))    /* Batt
                                  ery LRADC Control Register */
                             6938 ; 79   |
                             6939 ; 80   |
                             6940 ; 81   |/////////////////////////////////////////////////////////////////////////////////
                             6941 ; 82   |//  Battery LRADC Threshold Register (HW_BATT_THRSH) Bit Definitions
                             6942 ; 83   |#define HW_BATT_THRSH_THRESHOLD_EVENT0_WIDTH (9)
                             6943 ; 84   |#define HW_BATT_THRSH_RSVD0_WIDTH (3)
                             6944 ; 85   |#define HW_BATT_THRSH_THRESHOLD_EVENT1_WIDTH (9)
                             6945 ; 86   |#define HW_BATT_THRSH_RSVD1_WIDTH (3)
                             6946 ; 87   |
                             6947 ; 88   |#define HW_BATT_THRSH_THRESHOLD_EVENT0_BITPOS (0)
                             6948 ; 89   |#define HW_BATT_THRSH_THRESHOLD_EVENT1_BITPOS (12)
                             6949 ; 90   |
                             6950 ; 91   |#define HW_BATT_THRSH_THRESHOLD_EVENT0_SETMASK (((1<<HW_BATT_THRSH_THRESHOLD_EVENT0_WIDTH)
                                  -1)<<HW_BATT_THRSH_THRESHOLD_EVENT0_BITPOS)        
                             6951 ; 92   |#define HW_BATT_THRSH_THRESHOLD_EVENT1_SETMASK (((1<<HW_BATT_THRSH_THRESHOLD_EVENT1_WIDTH)
                                  -1)<<HW_BATT_THRSH_THRESHOLD_EVENT1_BITPOS)        
                             6952 ; 93   |
                             6953 ; 94   |#define HW_BATT_THRSH_THRESHOLD_EVENT0_CLRMASK (~(WORD)HW_BATT_THRSH_THRESHOLD_EVENT0_SETM
                                  ASK)     
                             6954 ; 95   |#define HW_BATT_THRSH_THRESHOLD_EVENT1_CLRMASK (~(WORD)HW_BATT_THRSH_THRESHOLD_EVENT1_SETM
                                  ASK)     
                             6955 ; 96   |
                             6956 ; 97   |
                             6957 ; 98   |typedef union               
                             6958 ; 99   |{
                             6959 ; 100  |    struct {
                             6960 ; 101  |        unsigned int THRESHOLD_EVENT0   : HW_BATT_THRSH_THRESHOLD_EVENT0_WIDTH;
                             6961 ; 102  |        unsigned int RSVD0                  : HW_BATT_THRSH_RSVD0_WIDTH;
                             6962 ; 103  |        unsigned int THRESHOLD_EVENT1   : HW_BATT_THRSH_THRESHOLD_EVENT1_WIDTH;
                             6963 ; 104  |        unsigned int RSVD1              : HW_BATT_THRSH_RSVD1_WIDTH;
                             6964 ; 105  |    } B;
                             6965 ; 106  |    unsigned int I;
                             6966 ; 107  |} lradc_thrsh_type;
                             6967 ; 108  |#define HW_BATT_THRSH      (*(volatile lradc_thrsh_type _X*) (HW_LRADC_BASEADDR+1))    /* 
                                  Battery LRADC Threshold Register */
                             6968 ; 109  |
                             6969 ; 110  |
                             6970 ; 111  |/////////////////////////////////////////////////////////////////////////////////
                             6971 ; 112  |//  Battery LRADC Result Register (HW_BATT_RESULT) Bit Definitions
                             6972 ; 113  |#define HW_BATT_RESULT_EQ_EVENT1_WIDTH (1)
                             6973 ; 114  |#define HW_BATT_RESULT_EQ_EVENT0_WIDTH (1)
                             6974 ; 115  |#define HW_BATT_RESULT_GT_EVENT1_WIDTH (1)
                             6975 ; 116  |#define HW_BATT_RESULT_GT_EVENT0_WIDTH (1)
                             6976 ; 117  |#define HW_BATT_RESULT_LT_EVENT1_WIDTH (1)
                             6977 ; 118  |#define HW_BATT_RESULT_LT_EVENT0_WIDTH (1)
                             6978 ; 119  |#define HW_BATT_RESULT_RSVD0_WIDTH (2)
                             6979 ; 120  |#define HW_BATT_RESULT_DATA_OUT_WIDTH (9)
                             6980 ; 121  |#define HW_BATT_RESULT_RSVD1_WIDTH (3)
                             6981 ; 122  |#define HW_BATT_RESULT_IRQ_EVENT0_WIDTH (1)
                             6982 ; 123  |#define HW_BATT_RESULT_IRQ_EVENT1_WIDTH (1)
                             6983 ; 124  |#define HW_BATT_RESULT_RSVD2_WIDTH (2)
                             6984 ; 125  |
                             6985 ; 126  |#define HW_BATT_RESULT_EQ_EVENT1_BITPOS (0)
                             6986 ; 127  |#define HW_BATT_RESULT_EQ_EVENT0_BITPOS (1)
                             6987 ; 128  |#define HW_BATT_RESULT_GT_EVENT1_BITPOS (2)
                             6988 ; 129  |#define HW_BATT_RESULT_GT_EVENT0_BITPOS (3)
                             6989 ; 130  |#define HW_BATT_RESULT_LT_EVENT1_BITPOS (4)
                             6990 ; 131  |#define HW_BATT_RESULT_LT_EVENT0_BITPOS (5)
                             6991 ; 132  |#define HW_BATT_RESULT_RSVD0_BITPOS (6)
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 118

M:ADDR CODE           CYCLES LINE SOURCELINE
                             6992 ; 133  |#define HW_BATT_RESULT_DATA_OUT_BITPOS (8)
                             6993 ; 134  |#define HW_BATT_RESULT_RSVD1_BITPOS (17)
                             6994 ; 135  |#define HW_BATT_RESULT_IRQ_EVENT0_BITPOS (20)
                             6995 ; 136  |#define HW_BATT_RESULT_IRQ_EVENT1_BITPOS (21)
                             6996 ; 137  |#define HW_BATT_RESULT_RSVD2_BITPOS (22)
                             6997 ; 138  |
                             6998 ; 139  |
                             6999 ; 140  |
                             7000 ; 141  |#define HW_BATT_RESULT_EQ_EVENT1_SETMASK (((1<<HW_BATT_RESULT_EQ_EVENT1_WIDTH)-1)<<HW_BATT
                                  _RESULT_EQ_EVENT1_BITPOS)
                             7001 ; 142  |#define HW_BATT_RESULT_EQ_EVENT0_SETMASK (((1<<HW_BATT_RESULT_EQ_EVENT0_WIDTH)-1)<<HW_BATT
                                  _RESULT_EQ_EVENT0_BITPOS)
                             7002 ; 143  |#define HW_BATT_RESULT_GT_EVENT1_SETMASK (((1<<HW_BATT_RESULT_GT_EVENT1_WIDTH)-1)<<HW_BATT
                                  _RESULT_GT_EVENT1_BITPOS)
                             7003 ; 144  |#define HW_BATT_RESULT_GT_EVENT0_SETMASK (((1<<HW_BATT_RESULT_GT_EVENT0_WIDTH)-1)<<HW_BATT
                                  _RESULT_GT_EVENT0_BITPOS)
                             7004 ; 145  |#define HW_BATT_RESULT_LT_EVENT1_SETMASK (((1<<HW_BATT_RESULT_LT_EVENT1_WIDTH)-1)<<HW_BATT
                                  _RESULT_LT_EVENT1_BITPOS)
                             7005 ; 146  |#define HW_BATT_RESULT_LT_EVENT0_SETMASK (((1<<HW_BATT_RESULT_LT_EVENT0_WIDTH)-1)<<HW_BATT
                                  _RESULT_LT_EVENT0_BITPOS)
                             7006 ; 147  |#define HW_BATT_RESULT_RSVD0_SETMASK (((1<<HW_BATT_RESULT_RSVD0_WIDTH)-1)<<HW_BATT_RESULT_
                                  RSVD0_BITPOS)
                             7007 ; 148  |#define HW_BATT_RESULT_DATA_OUT_SETMASK (((1<<HW_BATT_RESULT_DATA_OUT_WIDTH)-1)<<HW_BATT_R
                                  ESULT_DATA_OUT_BITPOS)
                             7008 ; 149  |#define HW_BATT_RESULT_RSVD1_SETMASK (((1<<HW_BATT_RESULT_RSVD1_WIDTH)-1)<<HW_BATT_RESULT_
                                  RSVD1_BITPOS)
                             7009 ; 150  |#define HW_BATT_RESULT_IRQ_EVENT0_SETMASK (((1<<HW_BATT_RESULT_IRQ_EVENT0_WIDTH)-1)<<HW_BA
                                  TT_RESULT_IRQ_EVENT0_BITPOS)
                             7010 ; 151  |#define HW_BATT_RESULT_IRQ_EVENT1_SETMASK (((1<<HW_BATT_RESULT_IRQ_EVENT1_WIDTH)-1)<<HW_BA
                                  TT_RESULT_IRQ_EVENT1_BITPOS)
                             7011 ; 152  |#define HW_BATT_RESULT_RSVD2_SETMASK (((1<<HW_BATT_RESULT_RSVD2_WIDTH)-1)<<HW_BATT_RESULT_
                                  RSVD2_BITPOS)
                             7012 ; 153  |
                             7013 ; 154  |
                             7014 ; 155  |#define HW_BATT_RESULT_EQ_EVENT1_CLRMASK (~(WORD)HW_BATT_RESULT_EQ_EVENT1_SETMASK)
                             7015 ; 156  |#define HW_BATT_RESULT_EQ_EVENT0_CLRMASK (~(WORD)HW_BATT_RESULT_EQ_EVENT0_SETMASK)
                             7016 ; 157  |#define HW_BATT_RESULT_GT_EVENT1_CLRMASK (~(WORD)HW_BATT_RESULT_GT_EVENT1_SETMASK)
                             7017 ; 158  |#define HW_BATT_RESULT_GT_EVENT0_CLRMASK (~(WORD)HW_BATT_RESULT_GT_EVENT0_SETMASK)
                             7018 ; 159  |#define HW_BATT_RESULT_LT_EVENT1_CLRMASK (~(WORD)HW_BATT_RESULT_LT_EVENT1_SETMASK)
                             7019 ; 160  |#define HW_BATT_RESULT_LT_EVENT0_CLRMASK (~(WORD)HW_BATT_RESULT_LT_EVENT0_SETMASK)
                             7020 ; 161  |#define HW_BATT_RESULT_RSVD0_CLRMASK (~(WORD)HW_BATT_RESULT_RSVD0_SETMASK)
                             7021 ; 162  |#define HW_BATT_RESULT_DATA_OUT_CLRMASK (~(WORD)HW_BATT_RESULT_DATA_OUT_SETMASK)
                             7022 ; 163  |#define HW_BATT_RESULT_RSVD1_CLRMASK (~(WORD)HW_BATT_RESULT_RSVD1_SETMASK)
                             7023 ; 164  |#define HW_BATT_RESULT_IRQ_EVENT0_CLRMASK (~(WORD)HW_BATT_RESULT_IRQ_EVENT0_SETMASK)
                             7024 ; 165  |#define HW_BATT_RESULT_IRQ_EVENT1_CLRMASK (~(WORD)HW_BATT_RESULT_IRQ_EVENT1_SETMASK)
                             7025 ; 166  |#define HW_BATT_RESULT_RSVD2_CLRMASK (~(WORD)HW_BATT_RESULT_RSVD2_SETMASK)
                             7026 ; 167  |
                             7027 ; 168  |typedef union               
                             7028 ; 169  |{
                             7029 ; 170  |    struct {
                             7030 ; 171  |        unsigned int EQ_EVENT1                  : HW_BATT_RESULT_EQ_EVENT1_WIDTH;
                             7031 ; 172  |        unsigned int EQ_EVENT0                  : HW_BATT_RESULT_EQ_EVENT0_WIDTH;
                             7032 ; 173  |        unsigned int GT_EVENT1                  : HW_BATT_RESULT_GT_EVENT1_WIDTH;
                             7033 ; 174  |        unsigned int GT_EVENT0                  : HW_BATT_RESULT_GT_EVENT0_WIDTH;
                             7034 ; 175  |        unsigned int LT_EVENT1                  : HW_BATT_RESULT_LT_EVENT1_WIDTH;
                             7035 ; 176  |        unsigned int LT_EVENT0                  : HW_BATT_RESULT_LT_EVENT0_WIDTH;
                             7036 ; 177  |        unsigned int RSVD0                     : HW_BATT_RESULT_RSVD0_WIDTH;
                             7037 ; 178  |        unsigned int DATA_OUT                  : HW_BATT_RESULT_DATA_OUT_WIDTH;
                             7038 ; 179  |        unsigned int RSVD1                     : HW_BATT_RESULT_RSVD1_WIDTH;
                             7039 ; 180  |                 unsigned int IRQ_EVENT0                                : HW_BATT_RESULT_I
                                  RQ_EVENT0_WIDTH;
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 119

M:ADDR CODE           CYCLES LINE SOURCELINE
                             7040 ; 181  |                 unsigned int IRQ_EVENT1                                : HW_BATT_RESULT_I
                                  RQ_EVENT1_WIDTH;                        
                             7041 ; 182  |                 unsigned int RSVD2                                         : HW_BATT_RESU
                                  LT_RSVD2_WIDTH;
                             7042 ; 183  |    } B;
                             7043 ; 184  |    unsigned int I;
                             7044 ; 185  |} lradc_result_type;
                             7045 ; 186  |#define HW_BATT_RESULT      (*(volatile lradc_result_type _X*) (HW_LRADC_BASEADDR+2))    /
                                  * Battery LRADC Result Register */
                             7046 ; 187  |
                             7047 ; 188  |
                             7048 ; 189  |
                             7049 ; 190  |/////////////////////////////////////////////////////////////////////////////////
                             7050 ; 191  |//  LRADC1 Control Register (HW_LRADC1_CTRL) Bit Definitions
                             7051 ; 192  |#define HW_LRADC1_CTRL_INPUT_OFFSET_WIDTH (7)
                             7052 ; 193  |#define HW_LRADC1_CTRL_RSVD0_WIDTH (1)
                             7053 ; 194  |#define HW_LRADC1_CTRL_HALF_CMP_PWR_WIDTH (1)
                             7054 ; 195  |#define HW_LRADC1_CTRL_INPUT_DIV2_WIDTH (1)
                             7055 ; 196  |#define HW_LRADC1_CTRL_CLEAR_WIDTH (1)
                             7056 ; 197  |#define HW_LRADC1_CTRL_PWD_WIDTH (1)
                             7057 ; 198  |#define HW_LRADC1_CTRL_CLK_DIV_WIDTH (2)
                             7058 ; 199  |#define HW_LRADC1_CTRL_RSVD1_WIDTH (2)
                             7059 ; 200  |#define HW_LRADC1_CTRL_REF_VAL_WIDTH (2)
                             7060 ; 201  |#define HW_LRADC1_CTRL_RSVD2_WIDTH (6)
                             7061 ; 202  |
                             7062 ; 203  |#define HW_LRADC1_CTRL_INPUT_OFFSET_BITPOS (0)
                             7063 ; 204  |#define HW_LRADC1_CTRL_HALF_CMP_PWR_BITPOS (8)
                             7064 ; 205  |#define HW_LRADC1_CTRL_INPUT_DIV2_BITPOS (9)
                             7065 ; 206  |#define HW_LRADC1_CTRL_CLEAR_BITPOS (10)
                             7066 ; 207  |#define HW_LRADC1_CTRL_PWD_BITPOS (11)
                             7067 ; 208  |#define HW_LRADC1_CTRL_CLK_DIV_BITPOS (12)
                             7068 ; 209  |#define HW_LRADC1_CTRL_REF_VAL_BITPOS (16)
                             7069 ; 210  |
                             7070 ; 211  |#define HW_LRADC1_CTRL_INPUT_OFFSET_SETMASK (((1<<HW_LRADC1_CTRL_INPUT_OFFSET_WIDTH)-1)<<H
                                  W_LRADC1_CTRL_INPUT_OFFSET_BITPOS)        
                             7071 ; 212  |#define HW_LRADC1_CTRL_HALF_CMP_PWR_SETMASK (((1<<HW_LRADC1_CTRL_HALF_CMP_PWR_WIDTH)-1)<<H
                                  W_LRADC1_CTRL_HALF_CMP_PWR_BITPOS)        
                             7072 ; 213  |#define HW_LRADC1_CTRL_INPUT_DIV2_SETMASK (((1<<HW_LRADC1_CTRL_INPUT_DIV2_WIDTH)-1)<<HW_LR
                                  ADC1_CTRL_INPUT_DIV2_BITPOS) 
                             7073 ; 214  |#define HW_LRADC1_CTRL_CLEAR_SETMASK (((1<<HW_LRADC1_CTRL_CLEAR_WIDTH)-1)<<HW_LRADC1_CTRL_
                                  CLEAR_BITPOS) 
                             7074 ; 215  |#define HW_LRADC1_CTRL_PWD_SETMASK (((1<<HW_LRADC1_CTRL_PWD_WIDTH)-1)<<HW_LRADC1_CTRL_PWD_
                                  BITPOS) 
                             7075 ; 216  |#define HW_LRADC1_CTRL_CLK_DIV_SETMASK (((1<<HW_LRADC1_CTRL_CLK_DIV_WIDTH)-1)<<HW_LRADC1_C
                                  TRL_CLK_DIV_BITPOS)        
                             7076 ; 217  |#define HW_LRADC1_CTRL_REF_VAL_SETMASK (((1<<HW_LRADC1_CTRL_REF_VAL_WIDTH)-1)<<HW_LRADC1_C
                                  TRL_REF_VAL_BITPOS)        
                             7077 ; 218  |
                             7078 ; 219  |#define HW_LRADC1_CTRL_INPUT_OFFSET_CLRMASK (~(WORD)HW_LRADC1_CTRL_INPUT_OFFSET_SETMASK)  
                                     
                             7079 ; 220  |#define HW_LRADC1_CTRL_HALF_CMP_PWR_CLRMASK (~(WORD)HW_LRADC1_CTRL_HALF_CMP_PWR_SETMASK)  
                                     
                             7080 ; 221  |#define HW_LRADC1_CTRL_INPUT_DIV2_CLRMASK (~(WORD)HW_LRADC1_CTRL_INPUT_DIV2_SETMASK) 
                             7081 ; 222  |#define HW_LRADC1_CTRL_CLEAR_CLRMASK (~(WORD)HW_LRADC1_CTRL_CLEAR_SETMASK) 
                             7082 ; 223  |#define HW_LRADC1_CTRL_PWD_CLRMASK (~(WORD)HW_LRADC1_CTRL_PWD_SETMASK) 
                             7083 ; 224  |#define HW_LRADC1_CTRL_CLK_DIV_CLRMASK (~(WORD)HW_LRADC1_CTRL_CLK_DIV_SETMASK)     
                             7084 ; 225  |#define HW_LRADC1_CTRL_REF_VAL_CLRMASK (~(WORD)HW_LRADC1_CTRL_REF_VAL_SETMASK)     
                             7085 ; 226  |
                             7086 ; 227  |#define HW_LRADC1_CTRL      (*(volatile lradc_ctrl_type _X*) (HW_LRADC_BASEADDR+3))    /* 
                                  LRADC1 Control Register */
                             7087 ; 228  |
                             7088 ; 229  |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 120

M:ADDR CODE           CYCLES LINE SOURCELINE
                             7089 ; 230  |
                             7090 ; 231  |/////////////////////////////////////////////////////////////////////////////////
                             7091 ; 232  |//  LRADC1 Threshold Register (HW_LRADC1_THRSH) Bit Definitions
                             7092 ; 233  |#define HW_LRADC1_THRSH_MIN_THRESHOLD_WIDTH (9)
                             7093 ; 234  |#define HW_LRADC1_THRSH_RSVD0_WIDTH (3)
                             7094 ; 235  |#define HW_LRADC1_THRSH_MAX_THRESHOLD_WIDTH (9)
                             7095 ; 236  |#define HW_LRADC1_THRSH_RSVD1_WIDTH (3)
                             7096 ; 237  |
                             7097 ; 238  |#define HW_LRADC1_THRSH_MIN_THRESHOLD_BITPOS (0)
                             7098 ; 239  |#define HW_LRADC1_THRSH_MAX_THRESHOLD_BITPOS (12)
                             7099 ; 240  |
                             7100 ; 241  |#define HW_LRADC1_THRSH_MIN_THRESHOLD_SETMASK (((1<<HW_LRADC1_THRSH_MIN_THRESHOLD_WIDTH)-1
                                  )<<HW_LRADC1_THRSH_MIN_THRESHOLD_BITPOS)        
                             7101 ; 242  |#define HW_LRADC1_THRSH_MAX_THRESHOLD_SETMASK (((1<<HW_LRADC1_THRSH_MAX_THRESHOLD_WIDTH)-1
                                  )<<HW_LRADC1_THRSH_MAX_THRESHOLD_BITPOS)        
                             7102 ; 243  |
                             7103 ; 244  |#define HW_LRADC1_THRSH_MIN_THRESHOLD_CLRMASK (~(WORD)HW_LRADC1_THRSH_MIN_THRESHOLD_SETMAS
                                  K)     
                             7104 ; 245  |#define HW_LRADC1_THRSH_MAX_THRESHOLD_CLRMASK (~(WORD)HW_LRADC1_THRSH_MAX_THRESHOLD_SETMAS
                                  K)     
                             7105 ; 246  |
                             7106 ; 247  |#define HW_LRADC1_THRSH      (*(volatile lradc_thrsh_type _X*) (HW_LRADC_BASEADDR+4))    /
                                  * LRADC1 Threshold Register */
                             7107 ; 248  |
                             7108 ; 249  |/////////////////////////////////////////////////////////////////////////////////
                             7109 ; 250  |//  LRADC1 Result Register (HW_LRADC1_RESULT) Bit Definitions
                             7110 ; 251  |#define HW_LRADC1_RESULT_EQ_EVENT1_WIDTH (1)
                             7111 ; 252  |#define HW_LRADC1_RESULT_EQ_EVENT0_WIDTH (1)
                             7112 ; 253  |#define HW_LRADC1_RESULT_GT_EVENT1_WIDTH (1)
                             7113 ; 254  |#define HW_LRADC1_RESULT_GT_EVENT0_WIDTH (1)
                             7114 ; 255  |#define HW_LRADC1_RESULT_LT_EVENT1_WIDTH (1)
                             7115 ; 256  |#define HW_LRADC1_RESULT_LT_EVENT0_WIDTH (1)
                             7116 ; 257  |#define HW_LRADC1_RESULT_RSVD0_WIDTH (2)
                             7117 ; 258  |#define HW_LRADC1_RESULT_DATA_OUT_WIDTH (9)
                             7118 ; 259  |#define HW_LRADC1_RESULT_RSVD1_WIDTH (3)
                             7119 ; 260  |#define HW_LRADC1_RESULT_IRQ_EVENT0_WIDTH (1)
                             7120 ; 261  |#define HW_LRADC1_RESULT_IRQ_EVENT1_WIDTH (1)
                             7121 ; 262  |#define HW_LRADC1_RESULT_RSVD2_WIDTH (2)
                             7122 ; 263  |
                             7123 ; 264  |#define HW_LRADC1_RESULT_EQ_EVENT1_BITPOS (0)
                             7124 ; 265  |#define HW_LRADC1_RESULT_EQ_EVENT0_BITPOS (1)
                             7125 ; 266  |#define HW_LRADC1_RESULT_GT_EVENT1_BITPOS (2)
                             7126 ; 267  |#define HW_LRADC1_RESULT_GT_EVENT0_BITPOS (3)
                             7127 ; 268  |#define HW_LRADC1_RESULT_LT_EVENT1_BITPOS (4)
                             7128 ; 269  |#define HW_LRADC1_RESULT_LT_EVENT0_BITPOS (5)
                             7129 ; 270  |#define HW_LRADC1_RESULT_RSVD0_BITPOS (6)
                             7130 ; 271  |#define HW_LRADC1_RESULT_DATA_OUT_BITPOS (8)
                             7131 ; 272  |#define HW_LRADC1_RESULT_RSVD1_BITPOS (17)
                             7132 ; 273  |#define HW_LRADC1_RESULT_IRQ_EVENT0_BITPOS (20)
                             7133 ; 274  |#define HW_LRADC1_RESULT_IRQ_EVENT1_BITPOS (21)
                             7134 ; 275  |#define HW_LRADC1_RESULT_RSVD2_BITPOS (22)
                             7135 ; 276  |
                             7136 ; 277  |#define HW_LRADC1_RESULT_EQ_EVENT1_SETMASK (((1<<HW_LRADC1_RESULT_EQ_EVENT1_WIDTH)-1)<<HW_
                                  LRADC1_RESULT_EQ_EVENT1_BITPOS)
                             7137 ; 278  |#define HW_LRADC1_RESULT_EQ_EVENT0_SETMASK (((1<<HW_LRADC1_RESULT_EQ_EVENT0_WIDTH)-1)<<HW_
                                  LRADC1_RESULT_EQ_EVENT0_BITPOS)
                             7138 ; 279  |#define HW_LRADC1_RESULT_GT_EVENT1_SETMASK (((1<<HW_LRADC1_RESULT_GT_EVENT1_WIDTH)-1)<<HW_
                                  LRADC1_RESULT_GT_EVENT1_BITPOS)
                             7139 ; 280  |#define HW_LRADC1_RESULT_GT_EVENT0_SETMASK (((1<<HW_LRADC1_RESULT_GT_EVENT0_WIDTH)-1)<<HW_
                                  LRADC1_RESULT_GT_EVENT0_BITPOS)
                             7140 ; 281  |#define HW_LRADC1_RESULT_LT_EVENT1_SETMASK (((1<<HW_LRADC1_RESULT_LT_EVENT1_WIDTH)-1)<<HW_
                                  LRADC1_RESULT_LT_EVENT1_BITPOS)
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 121

M:ADDR CODE           CYCLES LINE SOURCELINE
                             7141 ; 282  |#define HW_LRADC1_RESULT_LT_EVENT0_SETMASK (((1<<HW_LRADC1_RESULT_LT_EVENT0_WIDTH)-1)<<HW_
                                  LRADC1_RESULT_LT_EVENT0_BITPOS)
                             7142 ; 283  |#define HW_LRADC1_RESULT_RSVD0_SETMASK (((1<<HW_LRADC1_RESULT_RSVD0_WIDTH)-1)<<HW_LRADC1_R
                                  ESULT_RSVD0_BITPOS)
                             7143 ; 284  |#define HW_LRADC1_RESULT_DATA_OUT_SETMASK (((1<<HW_LRADC1_RESULT_DATA_OUT_WIDTH)-1)<<HW_LR
                                  ADC1_RESULT_DATA_OUT_BITPOS)
                             7144 ; 285  |#define HW_LRADC1_RESULT_RSVD1_SETMASK (((1<<HW_LRADC1_RESULT_RSVD1_WIDTH)-1)<<HW_LRADC1_R
                                  ESULT_RSVD1_BITPOS)
                             7145 ; 286  |#define HW_LRADC1_RESULT_IRQ_EVENT0_SETMASK (((1<<HW_LRADC1_RESULT_IRQ_EVENT0_WIDTH)-1)<<H
                                  W_LRADC1_RESULT_IRQ_EVENT0_BITPOS)
                             7146 ; 287  |#define HW_LRADC1_RESULT_IRQ_EVENT1_SETMASK (((1<<HW_LRADC1_RESULT_IRQ_EVENT1_WIDTH)-1)<<H
                                  W_LRADC1_RESULT_IRQ_EVENT1_BITPOS)
                             7147 ; 288  |#define HW_LRADC1_RESULT_RSVD2_SETMASK (((1<<HW_LRADC1_RESULT_RSVD2_WIDTH)-1)<<HW_LRADC1_R
                                  ESULT_RSVD2_BITPOS)
                             7148 ; 289  |
                             7149 ; 290  |
                             7150 ; 291  |#define HW_LRADC1_RESULT_EQ_EVENT1_CLRMASK (~(WORD)HW_LRADC1_RESULT_EQ_EVENT1_SETMASK)
                             7151 ; 292  |#define HW_LRADC1_RESULT_EQ_EVENT0_CLRMASK (~(WORD)HW_LRADC1_RESULT_EQ_EVENT0_SETMASK)
                             7152 ; 293  |#define HW_LRADC1_RESULT_GT_EVENT1_CLRMASK (~(WORD)HW_LRADC1_RESULT_GT_EVENT1_SETMASK)
                             7153 ; 294  |#define HW_LRADC1_RESULT_GT_EVENT0_CLRMASK (~(WORD)HW_LRADC1_RESULT_GT_EVENT0_SETMASK)
                             7154 ; 295  |#define HW_LRADC1_RESULT_LT_EVENT1_CLRMASK (~(WORD)HW_LRADC1_RESULT_LT_EVENT1_SETMASK)
                             7155 ; 296  |#define HW_LRADC1_RESULT_LT_EVENT0_CLRMASK (~(WORD)HW_LRADC1_RESULT_LT_EVENT0_SETMASK)
                             7156 ; 297  |#define HW_LRADC1_RESULT_RSVD0_CLRMASK (~(WORD)HW_LRADC1_RESULT_RSVD0_SETMASK)
                             7157 ; 298  |#define HW_LRADC1_RESULT_DATA_OUT_CLRMASK (~(WORD)HW_LRADC1_RESULT_DATA_OUT_SETMASK)
                             7158 ; 299  |#define HW_LRADC1_RESULT_RSVD1_CLRMASK (~(WORD)HW_LRADC1_RESULT_RSVD1_SETMASK)
                             7159 ; 300  |#define HW_LRADC1_RESULT_IRQ_EVENT0_CLRMASK (~(WORD)HW_LRADC1_RESULT_IRQ_EVENT0_SETMASK)
                             7160 ; 301  |#define HW_LRADC1_RESULT_IRQ_EVENT1_CLRMASK (~(WORD)HW_LRADC1_RESULT_IRQ_EVENT1_SETMASK)
                             7161 ; 302  |#define HW_LRADC1_RESULT_RSVD2_CLRMASK (~(WORD)HW_LRADC1_RESULT_RSVD2_SETMASK)
                             7162 ; 303  |
                             7163 ; 304  |#define HW_LRADC1_RESULT      (*(volatile lradc_result_type _X*) (HW_LRADC_BASEADDR+5))   
                                   /* LRADC1 Result Register */
                             7164 ; 305  |
                             7165 ; 306  |/////////////////////////////////////////////////////////////////////////////////
                             7166 ; 307  |//  LRADC2_CTRL Control Register (HW_LRADC2_CTRL_CTRL) Bit Definitions
                             7167 ; 308  |#define HW_LRADC2_CTRL_CTRL_INPUT_OFFSET_WIDTH (7)
                             7168 ; 309  |#define HW_LRADC2_CTRL_CTRL_RSVD0_WIDTH (1)
                             7169 ; 310  |#define HW_LRADC2_CTRL_CTRL_HALF_CMP_PWR_WIDTH (1)
                             7170 ; 311  |#define HW_LRADC2_CTRL_CTRL_INPUT_DIV2_WIDTH (1)
                             7171 ; 312  |#define HW_LRADC2_CTRL_CTRL_CLEAR_WIDTH (1)
                             7172 ; 313  |#define HW_LRADC2_CTRL_CTRL_PWD_WIDTH (1)
                             7173 ; 314  |#define HW_LRADC2_CTRL_CTRL_CLK_DIV_WIDTH (2)
                             7174 ; 315  |#define HW_LRADC2_CTRL_CTRL_RSVD1_WIDTH (2)
                             7175 ; 316  |#define HW_LRADC2_CTRL_CTRL_REF_VAL_WIDTH (2)
                             7176 ; 317  |#define HW_LRADC2_CTRL_CTRL_RSVD2_WIDTH (6)
                             7177 ; 318  |
                             7178 ; 319  |#define HW_LRADC2_CTRL_CTRL_INPUT_OFFSET_BITPOS (0)
                             7179 ; 320  |#define HW_LRADC2_CTRL_CTRL_HALF_CMP_PWR_BITPOS (8)
                             7180 ; 321  |#define HW_LRADC2_CTRL_CTRL_INPUT_DIV2_BITPOS (9)
                             7181 ; 322  |#define HW_LRADC2_CTRL_CTRL_CLEAR_BITPOS (10)
                             7182 ; 323  |#define HW_LRADC2_CTRL_CTRL_PWD_BITPOS (11)
                             7183 ; 324  |#define HW_LRADC2_CTRL_CTRL_CLK_DIV_BITPOS (12)
                             7184 ; 325  |#define HW_LRADC2_CTRL_CTRL_REF_VAL_BITPOS (16)
                             7185 ; 326  |
                             7186 ; 327  |#define HW_LRADC2_CTRL_CTRL_INPUT_OFFSET_SETMASK (((1<<HW_LRADC2_CTRL_CTRL_INPUT_OFFSET_WI
                                  DTH)-1)<<HW_LRADC2_CTRL_CTRL_INPUT_OFFSET_BITPOS)        
                             7187 ; 328  |#define HW_LRADC2_CTRL_CTRL_HALF_CMP_PWR_SETMASK (((1<<HW_LRADC2_CTRL_CTRL_HALF_CMP_PWR_WI
                                  DTH)-1)<<HW_LRADC2_CTRL_CTRL_HALF_CMP_PWR_BITPOS)        
                             7188 ; 329  |#define HW_LRADC2_CTRL_CTRL_INPUT_DIV2_SETMASK (((1<<HW_LRADC2_CTRL_CTRL_INPUT_DIV2_WIDTH)
                                  -1)<<HW_LRADC2_CTRL_CTRL_INPUT_DIV2_BITPOS) 
                             7189 ; 330  |#define HW_LRADC2_CTRL_CTRL_CLEAR_SETMASK (((1<<HW_LRADC2_CTRL_CTRL_CLEAR_WIDTH)-1)<<HW_LR
                                  ADC2_CTRL_CTRL_CLEAR_BITPOS) 
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 122

M:ADDR CODE           CYCLES LINE SOURCELINE
                             7190 ; 331  |#define HW_LRADC2_CTRL_CTRL_PWD_SETMASK (((1<<HW_LRADC2_CTRL_CTRL_PWD_WIDTH)-1)<<HW_LRADC2
                                  _CTRL_CTRL_PWD_BITPOS) 
                             7191 ; 332  |#define HW_LRADC2_CTRL_CTRL_CLK_DIV_SETMASK (((1<<HW_LRADC2_CTRL_CTRL_CLK_DIV_WIDTH)-1)<<H
                                  W_LRADC2_CTRL_CTRL_CLK_DIV_BITPOS)        
                             7192 ; 333  |#define HW_LRADC2_CTRL_CTRL_REF_VAL_SETMASK (((1<<HW_LRADC2_CTRL_CTRL_REF_VAL_WIDTH)-1)<<H
                                  W_LRADC2_CTRL_CTRL_REF_VAL_BITPOS)        
                             7193 ; 334  |
                             7194 ; 335  |#define HW_LRADC2_CTRL_CTRL_INPUT_OFFSET_CLRMASK (~(WORD)HW_LRADC2_CTRL_CTRL_INPUT_OFFSET_
                                  SETMASK)     
                             7195 ; 336  |#define HW_LRADC2_CTRL_CTRL_HALF_CMP_PWR_CLRMASK (~(WORD)HW_LRADC2_CTRL_CTRL_HALF_CMP_PWR_
                                  SETMASK)     
                             7196 ; 337  |#define HW_LRADC2_CTRL_CTRL_INPUT_DIV2_CLRMASK (~(WORD)HW_LRADC2_CTRL_CTRL_INPUT_DIV2_SETM
                                  ASK) 
                             7197 ; 338  |#define HW_LRADC2_CTRL_CTRL_CLEAR_CLRMASK (~(WORD)HW_LRADC2_CTRL_CTRL_CLEAR_SETMASK) 
                             7198 ; 339  |#define HW_LRADC2_CTRL_CTRL_PWD_CLRMASK (~(WORD)HW_LRADC2_CTRL_CTRL_PWD_SETMASK) 
                             7199 ; 340  |#define HW_LRADC2_CTRL_CTRL_CLK_DIV_CLRMASK (~(WORD)HW_LRADC2_CTRL_CTRL_CLK_DIV_SETMASK)  
                                     
                             7200 ; 341  |#define HW_LRADC2_CTRL_CTRL_REF_VAL_CLRMASK (~(WORD)HW_LRADC2_CTRL_CTRL_REF_VAL_SETMASK)  
                                     
                             7201 ; 342  |
                             7202 ; 343  |
                             7203 ; 344  |#define HW_LRADC2_CTRL      (*(volatile lradc_ctrl_type _X*) (HW_LRADC_BASEADDR+6))    /* 
                                  LRADC2_CTRL Control Register */
                             7204 ; 345  |
                             7205 ; 346  |
                             7206 ; 347  |
                             7207 ; 348  |/////////////////////////////////////////////////////////////////////////////////
                             7208 ; 349  |//  LRADC2 Threshold Register (HW_LRADC2_THRSH) Bit Definitions
                             7209 ; 350  |#define HW_LRADC2_THRSH_MIN_THRESHOLD_WIDTH (9)
                             7210 ; 351  |#define HW_LRADC2_THRSH_RSVD0_WIDTH (3)
                             7211 ; 352  |#define HW_LRADC2_THRSH_MAX_THRESHOLD_WIDTH (9)
                             7212 ; 353  |#define HW_LRADC2_THRSH_RSVD1_WIDTH (3)
                             7213 ; 354  |
                             7214 ; 355  |#define HW_LRADC2_THRSH_MIN_THRESHOLD_BITPOS (0)
                             7215 ; 356  |#define HW_LRADC2_THRSH_MAX_THRESHOLD_BITPOS (12)
                             7216 ; 357  |
                             7217 ; 358  |#define HW_LRADC2_THRSH_MIN_THRESHOLD_SETMASK (((1<<HW_LRADC2_THRSH_MIN_THRESHOLD_WIDTH)-1
                                  )<<HW_LRADC2_THRSH_MIN_THRESHOLD_BITPOS)        
                             7218 ; 359  |#define HW_LRADC2_THRSH_MAX_THRESHOLD_SETMASK (((1<<HW_LRADC2_THRSH_MAX_THRESHOLD_WIDTH)-1
                                  )<<HW_LRADC2_THRSH_MAX_THRESHOLD_BITPOS)        
                             7219 ; 360  |
                             7220 ; 361  |#define HW_LRADC2_THRSH_MIN_THRESHOLD_CLRMASK (~(WORD)HW_LRADC2_THRSH_MIN_THRESHOLD_SETMAS
                                  K)     
                             7221 ; 362  |#define HW_LRADC2_THRSH_MAX_THRESHOLD_CLRMASK (~(WORD)HW_LRADC2_THRSH_MAX_THRESHOLD_SETMAS
                                  K)     
                             7222 ; 363  |
                             7223 ; 364  |#define HW_LRADC2_THRSH      (*(volatile lradc_thrsh_type _X*) (HW_LRADC_BASEADDR+7))    /
                                  * LRADC2 Threshold Register */
                             7224 ; 365  |
                             7225 ; 366  |
                             7226 ; 367  |
                             7227 ; 368  |/////////////////////////////////////////////////////////////////////////////////
                             7228 ; 369  |//  LRADC2 Result Register (HW_LRADC2_RESULT) Bit Definitions
                             7229 ; 370  |#define HW_LRADC2_RESULT_EQ_EVENT1_WIDTH (1)
                             7230 ; 371  |#define HW_LRADC2_RESULT_EQ_EVENT0_WIDTH (1)
                             7231 ; 372  |#define HW_LRADC2_RESULT_GT_EVENT1_WIDTH (1)
                             7232 ; 373  |#define HW_LRADC2_RESULT_GT_EVENT0_WIDTH (1)
                             7233 ; 374  |#define HW_LRADC2_RESULT_LT_EVENT1_WIDTH (1)
                             7234 ; 375  |#define HW_LRADC2_RESULT_LT_EVENT0_WIDTH (1)
                             7235 ; 376  |#define HW_LRADC2_RESULT_RSVD0_WIDTH (2)
                             7236 ; 377  |#define HW_LRADC2_RESULT_DATA_OUT_WIDTH (9)
                             7237 ; 378  |#define HW_LRADC2_RESULT_RSVD1_WIDTH (3)
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 123

M:ADDR CODE           CYCLES LINE SOURCELINE
                             7238 ; 379  |#define HW_LRADC2_RESULT_IRQ_EVENT0_WIDTH (1)
                             7239 ; 380  |#define HW_LRADC2_RESULT_IRQ_EVENT1_WIDTH (1)
                             7240 ; 381  |#define HW_LRADC2_RESULT_RSVD2_WIDTH (2)
                             7241 ; 382  |
                             7242 ; 383  |#define HW_LRADC2_RESULT_EQ_EVENT1_BITPOS (0)
                             7243 ; 384  |#define HW_LRADC2_RESULT_EQ_EVENT0_BITPOS (1)
                             7244 ; 385  |#define HW_LRADC2_RESULT_GT_EVENT1_BITPOS (2)
                             7245 ; 386  |#define HW_LRADC2_RESULT_GT_EVENT0_BITPOS (3)
                             7246 ; 387  |#define HW_LRADC2_RESULT_LT_EVENT1_BITPOS (4)
                             7247 ; 388  |#define HW_LRADC2_RESULT_LT_EVENT0_BITPOS (5)
                             7248 ; 389  |#define HW_LRADC2_RESULT_RSVD0_BITPOS (6)
                             7249 ; 390  |#define HW_LRADC2_RESULT_DATA_OUT_BITPOS (8)
                             7250 ; 391  |#define HW_LRADC2_RESULT_RSVD1_BITPOS (17)
                             7251 ; 392  |#define HW_LRADC2_RESULT_IRQ_EVENT0_BITPOS (20)
                             7252 ; 393  |#define HW_LRADC2_RESULT_IRQ_EVENT1_BITPOS (21)
                             7253 ; 394  |#define HW_LRADC2_RESULT_RSVD2_BITPOS (22)
                             7254 ; 395  |
                             7255 ; 396  |#define HW_LRADC2_RESULT_EQ_EVENT1_SETMASK (((1<<HW_LRADC2_RESULT_EQ_EVENT1_WIDTH)-1)<<HW_
                                  LRADC2_RESULT_EQ_EVENT1_BITPOS)
                             7256 ; 397  |#define HW_LRADC2_RESULT_EQ_EVENT0_SETMASK (((1<<HW_LRADC2_RESULT_EQ_EVENT0_WIDTH)-1)<<HW_
                                  LRADC2_RESULT_EQ_EVENT0_BITPOS)
                             7257 ; 398  |#define HW_LRADC2_RESULT_GT_EVENT1_SETMASK (((1<<HW_LRADC2_RESULT_GT_EVENT1_WIDTH)-1)<<HW_
                                  LRADC2_RESULT_GT_EVENT1_BITPOS)
                             7258 ; 399  |#define HW_LRADC2_RESULT_GT_EVENT0_SETMASK (((1<<HW_LRADC2_RESULT_GT_EVENT0_WIDTH)-1)<<HW_
                                  LRADC2_RESULT_GT_EVENT0_BITPOS)
                             7259 ; 400  |#define HW_LRADC2_RESULT_LT_EVENT1_SETMASK (((1<<HW_LRADC2_RESULT_LT_EVENT1_WIDTH)-1)<<HW_
                                  LRADC2_RESULT_LT_EVENT1_BITPOS)
                             7260 ; 401  |#define HW_LRADC2_RESULT_LT_EVENT0_SETMASK (((1<<HW_LRADC2_RESULT_LT_EVENT0_WIDTH)-1)<<HW_
                                  LRADC2_RESULT_LT_EVENT0_BITPOS)
                             7261 ; 402  |#define HW_LRADC2_RESULT_RSVD0_SETMASK (((1<<HW_LRADC2_RESULT_RSVD0_WIDTH)-1)<<HW_LRADC2_R
                                  ESULT_RSVD0_BITPOS)
                             7262 ; 403  |#define HW_LRADC2_RESULT_DATA_OUT_SETMASK (((1<<HW_LRADC2_RESULT_DATA_OUT_WIDTH)-1)<<HW_LR
                                  ADC2_RESULT_DATA_OUT_BITPOS)
                             7263 ; 404  |#define HW_LRADC2_RESULT_RSVD1_SETMASK (((1<<HW_LRADC2_RESULT_RSVD1_WIDTH)-1)<<HW_LRADC2_R
                                  ESULT_RSVD1_BITPOS)
                             7264 ; 405  |#define HW_LRADC2_RESULT_IRQ_EVENT0_SETMASK (((1<<HW_LRADC2_RESULT_IRQ_EVENT0_WIDTH)-1)<<H
                                  W_LRADC2_RESULT_IRQ_EVENT0_BITPOS)
                             7265 ; 406  |#define HW_LRADC2_RESULT_IRQ_EVENT1_SETMASK (((1<<HW_LRADC2_RESULT_IRQ_EVENT1_WIDTH)-1)<<H
                                  W_LRADC2_RESULT_IRQ_EVENT1_BITPOS)
                             7266 ; 407  |#define HW_LRADC2_RESULT_RSVD2_SETMASK (((1<<HW_LRADC2_RESULT_RSVD2_WIDTH)-1)<<HW_LRADC2_R
                                  ESULT_RSVD2_BITPOS)
                             7267 ; 408  |
                             7268 ; 409  |#define HW_LRADC2_RESULT_EQ_EVENT1_CLRMASK (~(WORD)HW_LRADC2_RESULT_EQ_EVENT1_SETMASK)
                             7269 ; 410  |#define HW_LRADC2_RESULT_EQ_EVENT0_CLRMASK (~(WORD)HW_LRADC2_RESULT_EQ_EVENT0_SETMASK)
                             7270 ; 411  |#define HW_LRADC2_RESULT_GT_EVENT1_CLRMASK (~(WORD)HW_LRADC2_RESULT_GT_EVENT1_SETMASK)
                             7271 ; 412  |#define HW_LRADC2_RESULT_GT_EVENT0_CLRMASK (~(WORD)HW_LRADC2_RESULT_GT_EVENT0_SETMASK)
                             7272 ; 413  |#define HW_LRADC2_RESULT_LT_EVENT1_CLRMASK (~(WORD)HW_LRADC2_RESULT_LT_EVENT1_SETMASK)
                             7273 ; 414  |#define HW_LRADC2_RESULT_LT_EVENT0_CLRMASK (~(WORD)HW_LRADC2_RESULT_LT_EVENT0_SETMASK)
                             7274 ; 415  |#define HW_LRADC2_RESULT_RSVD0_CLRMASK (~(WORD)HW_LRADC2_RESULT_RSVD0_SETMASK)
                             7275 ; 416  |#define HW_LRADC2_RESULT_DATA_OUT_CLRMASK (~(WORD)HW_LRADC2_RESULT_DATA_OUT_SETMASK)
                             7276 ; 417  |#define HW_LRADC2_RESULT_RSVD1_CLRMASK (~(WORD)HW_LRADC2_RESULT_RSVD1_SETMASK)
                             7277 ; 418  |#define HW_LRADC2_RESULT_IRQ_EVENT0_CLRMASK (~(WORD)HW_LRADC2_RESULT_IRQ_EVENT0_SETMASK)
                             7278 ; 419  |#define HW_LRADC2_RESULT_IRQ_EVENT1_CLRMASK (~(WORD)HW_LRADC2_RESULT_IRQ_EVENT1_SETMASK)
                             7279 ; 420  |#define HW_LRADC2_RESULT_RSVD2_CLRMASK (~(WORD)HW_LRADC2_RESULT_RSVD2_SETMASK)
                             7280 ; 421  |
                             7281 ; 422  |#define HW_LRADC2_RESULT      (*(volatile lradc_result_type _X*) (HW_LRADC_BASEADDR+8))   
                                   /* LRADC2 Result Register */
                             7282 ; 423  |#define HW_LRADC_REF_0_SETMASK                  0x0<<HW_BATT_CTRL_REF_VAL_BITPOS
                             7283 ; 424  |#define HW_LRADC_REF_1_SETMASK                  0x1<<HW_BATT_CTRL_REF_VAL_BITPOS
                             7284 ; 425  |#define HW_LRADC_REF_2_SETMASK                  0x2<<HW_BATT_CTRL_REF_VAL_BITPOS
                             7285 ; 426  |#define HW_LRADC_REF_3_SETMASK                  0x3<<HW_BATT_CTRL_REF_VAL_BITPOS
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 124

M:ADDR CODE           CYCLES LINE SOURCELINE
                             7286 ; 427  |#define HW_LRADC_REF_4_SETMASK                  HW_LRADC_REF_0_SETMASK|HW_BATT_CTRL_INPUT_
                                  DIV2_SETMASK
                             7287 ; 428  |#define HW_LRADC_REF_5_SETMASK                  HW_LRADC_REF_1_SETMASK|HW_BATT_CTRL_INPUT_
                                  DIV2_SETMASK
                             7288 ; 429  |#define HW_LRADC_REF_6_SETMASK                  HW_LRADC_REF_2_SETMASK|HW_BATT_CTRL_INPUT_
                                  DIV2_SETMASK
                             7289 ; 430  |#define HW_LRADC_REF_7_SETMASK                  HW_LRADC_REF_3_SETMASK|HW_BATT_CTRL_INPUT_
                                  DIV2_SETMASK
                             7290 ; 431  |#define HW_LRADC_RES_REF_0                              80
                             7291 ; 432  |#define HW_LRADC_RES_REF_1                              77
                             7292 ; 433  |#define HW_LRADC_RES_REF_2                              100
                             7293 ; 434  |#define HW_LRADC_RES_REF_3                              129
                             7294 ; 435  |#define HW_LRADC_RES_REF_4                              160
                             7295 ; 436  |#define HW_LRADC_RES_REF_5                              154
                             7296 ; 437  |#define HW_LRADC_RES_REF_6                              200
                             7297 ; 438  |#define HW_LRADC_RES_REF_7                              258
                             7298 ; 439  |#define LRADC_HALF_POWER_SETMASK                HW_BATT_CTRL_HALF_CMP_PWR_SETMASK         
                                   
                             7299 ; 440  |// Translate the generic API enumerations into more meaningful labels for the implementati
                                  on
                             7300 ; 441  |#define REF_2700MV                      HW_LRADC_REF_0_SETMASK
                             7301 ; 442  |#define REF_2600MV              HW_LRADC_REF_1_SETMASK
                             7302 ; 443  |#define REF_2560MV              HW_LRADC_REF_2_SETMASK
                             7303 ; 444  |#define REF_VDDIO               HW_LRADC_REF_3_SETMASK
                             7304 ; 445  |#define REF_5400MV              HW_LRADC_REF_4_SETMASK
                             7305 ; 446  |#define REF_5200MV              HW_LRADC_REF_5_SETMASK
                             7306 ; 447  |#define REF_5120MV              HW_LRADC_REF_6_SETMASK
                             7307 ; 448  |#define REF_VDDIOx2             HW_LRADC_REF_7_SETMASK
                             7308 ; 449  |#define RES_REF_2700MV  HW_LRADC_RES_REF_0
                             7309 ; 450  |#define RES_REF_2600MV  HW_LRADC_RES_REF_1
                             7310 ; 451  |#define RES_REF_2560MV  HW_LRADC_RES_REF_2
                             7311 ; 452  |#define RES_REF_VDDIO   HW_LRADC_RES_REF_3
                             7312 ; 453  |#define RES_REF_5400MV  HW_LRADC_RES_REF_4
                             7313 ; 454  |#define RES_REF_5200MV  HW_LRADC_RES_REF_5
                             7314 ; 455  |#define RES_REF_5120MV  HW_LRADC_RES_REF_6
                             7315 ; 456  |#define RES_REF_VDDIOx2         HW_LRADC_RES_REF_7
                             7316 ; 457  |
                             7317 ; 458  |//Needed by button.asm
                             7318 ; 459  |#define LOW_RES_ADC_BATT_READ_MASK 0x01FF00
                             7319 ; 460  |#define LOW_RES_ADC_AUX_READ_MASK 0x01FF00
                             7320 ; 461  |#define LOW_RES_ADC_AUX2_READ_MASK 0x01FF00
                             7321 ; 462  |
                             7322 ; 463  |#define HW_LRADC_CTRL_AUXADC_SETMASK 3<<HW_BATT_CTRL_REF_VAL_BITPOS
                             7323 ; 464  |
                             7324 ; 465  |#endif
                             7325 ; 466  |
                             7326 ; 467  |
                             7327 
                             7329 
                             7330 ; 27   |#include "regspwm.h"
                             7331 
                             7333 
                             7334 ; 1    |/////////////////////////////////////////////////////////////////////////////////
                             7335 ; 2    |// Copyright(C) SigmaTel, Inc. 2000-2001
                             7336 ; 3    |// Filename: regspwm.inc
                             7337 ; 4    |// Description: Register definitions for PWM interface
                             7338 ; 5    |/////////////////////////////////////////////////////////////////////////////////
                             7339 ; 6    |// The following naming conventions are followed in this file.
                             7340 ; 7    |// All registers are named using the format...
                             7341 ; 8    |//     HW_<module>_<regname>
                             7342 ; 9    |// where <module> is the module name which can be any of the following...
                             7343 ; 10   |//     USB20
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 125

M:ADDR CODE           CYCLES LINE SOURCELINE
                             7344 ; 11   |// (Note that when there is more than one copy of a particular module, the
                             7345 ; 12   |// module name includes a number starting from 0 for the first instance of
                             7346 ; 13   |// that module)
                             7347 ; 14   |// <regname> is the specific register within that module
                             7348 ; 15   |// We also define the following...
                             7349 ; 16   |//     HW_<module>_<regname>_BITPOS
                             7350 ; 17   |// which defines the starting bit (i.e. LSB) of a multi bit field
                             7351 ; 18   |//     HW_<module>_<regname>_SETMASK
                             7352 ; 19   |// which does something else, and
                             7353 ; 20   |//     HW_<module>_<regname>_CLRMASK
                             7354 ; 21   |// which does something else.
                             7355 ; 22   |// Other rules
                             7356 ; 23   |//     All caps
                             7357 ; 24   |//     Numeric identifiers start at 0
                             7358 ; 25   |#if !(defined(regspwminc))
                             7359 ; 26   |#define regspwminc 1
                             7360 ; 27   |
                             7361 ; 28   |#include "types.h"
                             7362 
                             7364 
                             7365 ; 1    |////////////////////////////////////////////////////////////////////////////////
                             7366 ; 2    |// Copyright(C) SigmaTel, Inc. 2000-2004
                             7367 ; 3    |//
                             7368 ; 4    |// Filename: types.h
                             7369 ; 5    |// Description: Standard data types
                             7370 ; 6    |////////////////////////////////////////////////////////////////////////////////
                             7371 ; 7    |
                             7372 ; 8    |#ifndef _TYPES_H
                             7373 ; 9    |#define _TYPES_H
                             7374 ; 10   |
                             7375 ; 11   |// TODO:  move this outta here!
                             7376 ; 12   |#if !defined(NOERROR)
                             7377 ; 13   |#define NOERROR 0
                             7378 ; 14   |#define SUCCESS 0
                             7379 ; 15   |#endif 
                             7380 ; 16   |#if !defined(SUCCESS)
                             7381 ; 17   |#define SUCCESS  0
                             7382 ; 18   |#endif
                             7383 ; 19   |#if !defined(ERROR)
                             7384 ; 20   |#define ERROR   -1
                             7385 ; 21   |#endif
                             7386 ; 22   |#if !defined(FALSE)
                             7387 ; 23   |#define FALSE 0
                             7388 ; 24   |#endif
                             7389 ; 25   |#if !defined(TRUE)
                             7390 ; 26   |#define TRUE  1
                             7391 ; 27   |#endif
                             7392 ; 28   |
                             7393 ; 29   |#if !defined(NULL)
                             7394 ; 30   |#define NULL 0
                             7395 ; 31   |#endif
                             7396 ; 32   |
                             7397 ; 33   |#define MAX_INT     0x7FFFFF
                             7398 ; 34   |#define MAX_LONG    0x7FFFFFffffff
                             7399 ; 35   |        // max positive unsigned long value: -1 == 0xFFFFFFffffff
                             7400 ; 36   |#define MAX_ULONG   (-1) 
                             7401 ; 37   |
                             7402 ; 38   |#define WORD_SIZE   24              // word size in bits
                             7403 ; 39   |#define BYTES_PER_WORD 3            // 8 bit bytes
                             7404 ; 40   |
                             7405 ; 41   |
                             7406 ; 42   |#define BYTE    unsigned char       // btVarName
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 126

M:ADDR CODE           CYCLES LINE SOURCELINE
                             7407 ; 43   |#define CHAR    signed char         // cVarName
                             7408 ; 44   |#define USHORT  unsigned short      // usVarName
                             7409 ; 45   |#define SHORT   unsigned short      // sVarName
                             7410 ; 46   |#define WORD    unsigned int        // wVarName
                             7411 ; 47   |#define INT     signed int          // iVarName
                             7412 ; 48   |#define DWORD   unsigned long       // dwVarName
                             7413 ; 49   |#define LONG    signed long         // lVarName
                             7414 ; 50   |#define BOOL    unsigned int        // bVarName
                             7415 ; 51   |#define FRACT   _fract              // frVarName
                             7416 ; 52   |#define LFRACT  long _fract         // lfrVarName
                             7417 ; 53   |#define CIRC    _circ               // cp<type prefix>VarName (see below)
                             7418 ; 54   |#define FLOAT   float               // fVarName
                             7419 ; 55   |#define DBL     double              // dVarName
                             7420 ; 56   |#define ENUM    enum                // eVarName
                             7421 ; 57   |#define CMX     _complex            // cmxVarName
                             7422 ; 58   |typedef WORD UCS3;                   // 
                             7423 ; 59   |
                             7424 ; 60   |#define UINT16  unsigned short
                             7425 ; 61   |#define UINT8   unsigned char   
                             7426 ; 62   |#define UINT32  unsigned long
                             7427 ; 63   |#define UINT64  unsigned long   // need to figure out how to do 64 bit values.  Or port ex
                                  isiting code to only use 48 bit
                             7428 ; 64   |#define INT64   unsigned long   // need to figure out how to do 64 bit values.  Or port ex
                                  isiting code to only use 48 bit
                             7429 ; 65   |#define WCHAR   UINT16
                             7430 ; 66   |
                             7431 ; 67   |//UINT128 is 16 bytes or 6 words
                             7432 ; 68   |typedef struct UINT128_3500 {   
                             7433 ; 69   |    int val[6];     
                             7434 ; 70   |} UINT128_3500;
                             7435 ; 71   |
                             7436 ; 72   |#define UINT128   UINT128_3500
                             7437 ; 73   |
                             7438 ; 74   |// Little endian word packed byte strings:   
                             7439 ; 75   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                             7440 ; 76   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                             7441 ; 77   |// Little endian word packed byte strings:   
                             7442 ; 78   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                             7443 ; 79   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                             7444 ; 80   |
                             7445 ; 81   |// Declare Memory Spaces To Use When Coding
                             7446 ; 82   |// A. Sector Buffers
                             7447 ; 83   |#define SECTOR_BUFFER_MEM_X _X
                             7448 ; 84   |#define SECTOR_BUFFER_MEM_Y _Y
                             7449 ; 85   |#define SECTOR_BUFFER_MEM SECTOR_BUFFER_MEM_X
                             7450 ; 86   |typedef WORD SECTOR_BUFFER_MEM SECTOR_BUFFER;
                             7451 ; 87   |typedef SECTOR_BUFFER * P_SECTOR_BUFFER;
                             7452 ; 88   |// B. Media DDI Memory
                             7453 ; 89   |#define MEDIA_DDI_MEM _Y
                             7454 ; 90   |
                             7455 ; 91   |
                             7456 ; 92   |
                             7457 ; 93   |// Pointers to linear structures are labeled as: p<type prefix>VarName
                             7458 ; 94   |// Examples of circular pointers:
                             7459 ; 95   |//    INT CIRC cpiVarName
                             7460 ; 96   |//    DWORD CIRC cpdwVarName
                             7461 ; 97   |
                             7462 ; 98   |#define RETCODE INT                 // rcVarName
                             7463 ; 99   |
                             7464 ; 100  |// generic bitfield structure
                             7465 ; 101  |struct Bitfield {
                             7466 ; 102  |    unsigned int B0  :1;
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 127

M:ADDR CODE           CYCLES LINE SOURCELINE
                             7467 ; 103  |    unsigned int B1  :1;
                             7468 ; 104  |    unsigned int B2  :1;
                             7469 ; 105  |    unsigned int B3  :1;
                             7470 ; 106  |    unsigned int B4  :1;
                             7471 ; 107  |    unsigned int B5  :1;
                             7472 ; 108  |    unsigned int B6  :1;
                             7473 ; 109  |    unsigned int B7  :1;
                             7474 ; 110  |    unsigned int B8  :1;
                             7475 ; 111  |    unsigned int B9  :1;
                             7476 ; 112  |    unsigned int B10 :1;
                             7477 ; 113  |    unsigned int B11 :1;
                             7478 ; 114  |    unsigned int B12 :1;
                             7479 ; 115  |    unsigned int B13 :1;
                             7480 ; 116  |    unsigned int B14 :1;
                             7481 ; 117  |    unsigned int B15 :1;
                             7482 ; 118  |    unsigned int B16 :1;
                             7483 ; 119  |    unsigned int B17 :1;
                             7484 ; 120  |    unsigned int B18 :1;
                             7485 ; 121  |    unsigned int B19 :1;
                             7486 ; 122  |    unsigned int B20 :1;
                             7487 ; 123  |    unsigned int B21 :1;
                             7488 ; 124  |    unsigned int B22 :1;
                             7489 ; 125  |    unsigned int B23 :1;
                             7490 ; 126  |};
                             7491 ; 127  |
                             7492 ; 128  |union BitInt {
                             7493 ; 129  |        struct Bitfield B;
                             7494 ; 130  |        int        I;
                             7495 ; 131  |};
                             7496 ; 132  |
                             7497 ; 133  |#define MAX_MSG_LENGTH 10
                             7498 ; 134  |struct CMessage
                             7499 ; 135  |{
                             7500 ; 136  |        unsigned int m_uLength;
                             7501 ; 137  |        unsigned int m_uMsg[MAX_MSG_LENGTH];
                             7502 ; 138  |};
                             7503 ; 139  |
                             7504 ; 140  |typedef struct {
                             7505 ; 141  |    WORD m_wLength;
                             7506 ; 142  |    WORD m_wMessage;
                             7507 ; 143  |    WORD m_wParams[MAX_MSG_LENGTH];
                             7508 ; 144  |} Message;
                             7509 ; 145  |
                             7510 ; 146  |struct MessageQueueDescriptor
                             7511 ; 147  |{
                             7512 ; 148  |        int *m_pBase;
                             7513 ; 149  |        int m_iModulo;
                             7514 ; 150  |        int m_iSize;
                             7515 ; 151  |        int *m_pHead;
                             7516 ; 152  |        int *m_pTail;
                             7517 ; 153  |};
                             7518 ; 154  |
                             7519 ; 155  |struct ModuleEntry
                             7520 ; 156  |{
                             7521 ; 157  |    int m_iSignaledEventMask;
                             7522 ; 158  |    int m_iWaitEventMask;
                             7523 ; 159  |    int m_iResourceOfCode;
                             7524 ; 160  |    struct MessageQueueDescriptor *m_pMessageQueue;
                             7525 ; 161  |    int _asmfunc (*m_pProcessEntryPoint)(union WaitMask Signals,struct MessageQueueDescrip
                                  tor *);
                             7526 ; 162  |    int _asmfunc (*m_pInitFunction)(struct MessageQueueDescriptor *);
                             7527 ; 163  |    int m_uTimeOutHigh;
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 128

M:ADDR CODE           CYCLES LINE SOURCELINE
                             7528 ; 164  |    int m_uTimeOutLow;
                             7529 ; 165  |    int _asmfunc (*m_pBackgroundFunction)(struct MessageQueueDescriptor *);
                             7530 ; 166  |};
                             7531 ; 167  |
                             7532 ; 168  |union WaitMask{
                             7533 ; 169  |    struct B{
                             7534 ; 170  |        unsigned int m_bNone     :1;
                             7535 ; 171  |        unsigned int m_bMessage  :1;
                             7536 ; 172  |        unsigned int m_bTimer    :1;
                             7537 ; 173  |        unsigned int m_bButton   :1;
                             7538 ; 174  |    } B;
                             7539 ; 175  |    int I;
                             7540 ; 176  |} ;
                             7541 ; 177  |
                             7542 ; 178  |
                             7543 ; 179  |struct Button {
                             7544 ; 180  |        WORD wButtonEvent;
                             7545 ; 181  |        WORD wUnused[MAX_MSG_LENGTH];   
                             7546 ; 182  |};
                             7547 ; 183  |
                             7548 ; 184  |struct Message {
                             7549 ; 185  |        WORD wMsgLength;
                             7550 ; 186  |        WORD wMsgCommand;
                             7551 ; 187  |        WORD wMsgParms[MAX_MSG_LENGTH-1];
                             7552 ; 188  |};
                             7553 ; 189  |
                             7554 ; 190  |union EventTypes {
                             7555 ; 191  |        struct CMessage msg;
                             7556 ; 192  |        struct Button Button ;
                             7557 ; 193  |        struct Message Message;
                             7558 ; 194  |};
                             7559 ; 195  |
                             7560 ; 196  |// next 2 used to get updater build to return correct protocol ver in scsi response.
                             7561 ; 197  |#define BUILD_TYPE_UPDATER  0x100
                             7562 ; 198  |#define BUILD_TYPE_HOSTLINK 0x101
                             7563 ; 199  |#define BUILD_TYPE_PLAYER   0x102
                             7564 ; 200  |
                             7565 ; 201  |// Resets part if RETAIL build. DEBUG build executes debug instruction to halt.
                             7566 ; 202  |#define SystemHalt() __asm(" include 'sysmacro.asm' \n error") 
                             7567 ; 203  |#define assert(x)    if(!(x)) __asm(" include 'sysmacro.asm' \n error")
                             7568 ; 204  |
                             7569 ; 205  |#if DEBUG
                             7570 ; 206  |// For DEBUG builds, DebugBuildAssert(condition) halts if condition evaluates to FALSE. 
                             7571 ; 207  |#define DebugBuildAssert(x)    if(!(x)) __asm(" debug ")
                             7572 ; 208  |#else 
                             7573 ; 209  |// For RETAIL builds, DebugBuildAssert(condition) does nothing & execution continues rathe
                                  r than halt or reset. 
                             7574 ; 210  |#define DebugBuildAssert(x)    
                             7575 ; 211  |#endif
                             7576 ; 212  |
                             7577 ; 213  |// Do this in your C files to make a reminder that's displayed during the build.
                             7578 ; 214  |//  #pragma asm
                             7579 ; 215  |//  WARN 'Note to builder: reminder to do this after verifying that'
                             7580 ; 216  |//  #pragma endasm
                             7581 ; 217  |
                             7582 ; 218  |
                             7583 ; 219  |#ifdef COLOR_262K
                             7584 ; 220  |#define RGB(r,g,b)    ((0x0000FC & (r)) << 10) | ((0x0000FC & (g)) << 4) | ((0x0000FC & (b
                                  )) >> 2)    //262k
                             7585 ; 221  |#elif defined(COLOR_65K)
                             7586 ; 222  |#define RGB(r,g,b)    ((0x0000F8 & (r)) << 8) | ((0x0000FC & (g)) << 3) | ((0x0000F8 & (b)
                                  ) >> 3)  //65k
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 129

M:ADDR CODE           CYCLES LINE SOURCELINE
                             7587 ; 223  |#else
                             7588 ; 224  |#define RGB(r,g,b)       ((0x0000F0 & (r)) << 4) | (0x0000F0 & (g)) | ((0x0000F0 & (b)) >>
                                   4)
                             7589 ; 225  |#endif
                             7590 ; 226  |    
                             7591 ; 227  |#endif // #ifndef _TYPES_H
                             7592 
                             7594 
                             7595 ; 29   |
                             7596 ; 30   |//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                             7597 ; 31   |//   Pulse Width Modulator STMP Registers 
                             7598 ; 32   |//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                             7599 ; 33   |#define HW_PWM_BASEADDR (0xFA31)
                             7600 ; 34   |
                             7601 ; 35   |
                             7602 ; 36   |/////////////////////////////////////////////////////////////////////////////////
                             7603 ; 37   |//  PWM CSR register (HW_PWM_CSR) Bit Definitions
                             7604 ; 38   |#define HW_PWM_CSR_PWM0_EN_BITPOS (0)
                             7605 ; 39   |#define HW_PWM_CSR_PWM1_EN_BITPOS (1) 
                             7606 ; 40   |#define HW_PWM_CSR_PWM2_EN_BITPOS (2)
                             7607 ; 41   |#define HW_PWM_CSR_PWM3_EN_BITPOS (3)
                             7608 ; 42   |#define HW_PWM_CSR_CDIV_BITPOS (8)
                             7609 ; 43   |#define HW_PWM_CSR_MSTR_EN_BITPOS (23)
                             7610 ; 44   |
                             7611 ; 45   |#define HW_PWM_CSR_PWM0_EN_WIDTH (1)
                             7612 ; 46   |#define HW_PWM_CSR_PWM1_EN_WIDTH (1) 
                             7613 ; 47   |#define HW_PWM_CSR_PWM2_EN_WIDTH (1)
                             7614 ; 48   |#define HW_PWM_CSR_PWM3_EN_WIDTH (1)
                             7615 ; 49   |#define HW_PWM_CSR_CDIV_WIDTH (2)
                             7616 ; 50   |#define HW_PWM_CSR_MSTR_EN_WIDTH (1)
                             7617 ; 51   |
                             7618 ; 52   |#define HW_PWM_CSR_PWM0_EN_SETMASK (((1<<HW_PWM_CSR_PWM0_EN_WIDTH)-1)<<HW_PWM_CSR_PWM0_EN_
                                  BITPOS)
                             7619 ; 53   |#define HW_PWM_CSR_PWM1_EN_SETMASK (((1<<HW_PWM_CSR_PWM1_EN_WIDTH)-1)<<HW_PWM_CSR_PWM1_EN_
                                  BITPOS)
                             7620 ; 54   |#define HW_PWM_CSR_PWM2_EN_SETMASK (((1<<HW_PWM_CSR_PWM2_EN_WIDTH)-1)<<HW_PWM_CSR_PWM2_EN_
                                  BITPOS)
                             7621 ; 55   |#define HW_PWM_CSR_PWM3_EN_SETMASK (((1<<HW_PWM_CSR_PWM3_EN_WIDTH)-1)<<HW_PWM_CSR_PWM3_EN_
                                  BITPOS)
                             7622 ; 56   |#define HW_PWM_CSR_CDIV_SETMASK (((1<<HW_PWM_CSR_CDIV_WIDTH)-1)<<HW_PWM_CSR_CDIV_BITPOS)
                             7623 ; 57   |#define HW_PWM_CSR_MSTR_EN_SETMASK (((1<<HW_PWM_CSR_MSTR_EN_WIDTH)-1)<<HW_PWM_CSR_MSTR_EN_
                                  BITPOS)
                             7624 ; 58   |
                             7625 ; 59   |#define HW_PWM_CSR_PWM0_EN_CLRMASK (~(WORD)HW_PWM_CSR_PWM0_EN_SETMASK)
                             7626 ; 60   |#define HW_PWM_CSR_PWM1_EN_CLRMASK (~(WORD)HW_PWM_CSR_PWM1_EN_SETMASK)
                             7627 ; 61   |#define HW_PWM_CSR_PWM2_EN_CLRMASK (~(WORD)HW_PWM_CSR_PWM2_EN_SETMASK)
                             7628 ; 62   |#define HW_PWM_CSR_PWM3_EN_CLRMASK (~(WORD)HW_PWM_CSR_PWM3_EN_SETMASK)
                             7629 ; 63   |#define HW_PWM_CSR_CDIV_CLRMASK (~(WORD)HW_PWM_CSR_CDIV_SETMASK)   
                             7630 ; 64   |#define HW_PWM_CSR_MSTR_EN_CLRMASK (~(WORD)HW_PWM_CSR_MSTR_EN_SETMASK)
                             7631 ; 65   |
                             7632 ; 66   |typedef union               
                             7633 ; 67   |{
                             7634 ; 68   |    struct {
                             7635 ; 69   |        int PWM0_EN                    :1;
                             7636 ; 70   |        int PWM1_EN                    :1;
                             7637 ; 71   |        int PWM2_EN                    :1;
                             7638 ; 72   |        int PWM3_EN                    :1;
                             7639 ; 73   |        int RSVD0                      :4;
                             7640 ; 74   |        int CDIV                       :2;
                             7641 ; 75   |        int RSVD1                      :13;
                             7642 ; 76   |        int MSTR_EN                    :1;
                             7643 ; 77   |    } B;
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 130

M:ADDR CODE           CYCLES LINE SOURCELINE
                             7644 ; 78   |    int I;
                             7645 ; 79   |} pwmcsr_type;
                             7646 ; 80   |#define HW_PWM_CSR        (*(volatile pwmcsr_type _X*) (HW_PWM_BASEADDR))  /* PWM Control 
                                  Status Register */
                             7647 ; 81   |
                             7648 ; 82   |/////////////////////////////////////////////////////////////////////////////////
                             7649 ; 83   |//  PWM CHANNEL 0 A  (HW_PWM_CH0AR) Bit Definitions
                             7650 ; 84   |#define HW_PWM_CH0AR_ACTIVE_BITPOS (0)
                             7651 ; 85   |#define HW_PWM_CH0AR_INACTIVE_BITPOS (12)
                             7652 ; 86   |
                             7653 ; 87   |#define HW_PWM_CH0AR_ACTIVE_WIDTH (12)
                             7654 ; 88   |#define HW_PWM_CH0AR_INACTIVE_WIDTH (12)
                             7655 ; 89   |
                             7656 ; 90   |#define HW_PWM_CH0AR_ACTIVE_SETMASK (((1<<HW_PWM_CH0AR_ACTIVE_WIDTH)-1)<<HW_PWM_CH0AR_ACTI
                                  VE_BITPOS)
                             7657 ; 91   |#define HW_PWM_CH0AR_INACTIVE_SETMASK (((1<<HW_PWM_CH0AR_INACTIVE_WIDTH)-1)<<HW_PWM_CH0AR_
                                  INACTIVE_BITPOS)
                             7658 ; 92   |
                             7659 ; 93   |#define HW_PWM_CH0AR_ACTIVE_CLRMASK (~(WORD)HW_PWM_CH0AR_ACTIVE_SETMASK)
                             7660 ; 94   |#define HW_PWM_CH0AR_INACTIVE_CLRMASK (~(WORD)HW_PWM_CH0AR_INACTIVE_SETMASK)
                             7661 ; 95   |
                             7662 ; 96   |/////////////////////////////////////////////////////////////////////////////////
                             7663 ; 97   |//  PWM CHANNEL 0 B  (HW_PWM_CH0BR) Bit Definitions
                             7664 ; 98   |#define HW_PWM_CH0BR_ACTIVE_BITPOS (0)
                             7665 ; 99   |#define HW_PWM_CH0BR_INACTIVE_BITPOS (12)
                             7666 ; 100  |
                             7667 ; 101  |#define HW_PWM_CH0BR_ACTIVE_WIDTH (12)
                             7668 ; 102  |#define HW_PWM_CH0BR_INACTIVE_WIDTH (12)
                             7669 ; 103  |
                             7670 ; 104  |#define HW_PWM_CH0BR_ACTIVE_SETMASK (((1<<HW_PWM_CH0BR_ACTIVE_WIDTH)-1)<<HW_PWM_CH0BR_ACTI
                                  VE_BITPOS)
                             7671 ; 105  |#define HW_PWM_CH0BR_INACTIVE_SETMASK (((1<<HW_PWM_CH0BR_INACTIVE_WIDTH)-1)<<HW_PWM_CH0BR_
                                  INACTIVE_BITPOS)
                             7672 ; 106  |
                             7673 ; 107  |#define HW_PWM_CH0BR_ACTIVE_CLRMASK (~(WORD)HW_PWM_CH0BR_ACTIVE_SETMASK)
                             7674 ; 108  |#define HW_PWM_CH0BR_INACTIVE_CLRMASK (~(WORD)HW_PWM_CH0BR_INACTIVE_SETMASK)
                             7675 ; 109  |
                             7676 ; 110  |/////////////////////////////////////////////////////////////////////////////////
                             7677 ; 111  |//  PWM CHANNEL 1 A  (HW_PWM_CH1AR) Bit Definitions
                             7678 ; 112  |#define HW_PWM_CH1AR_ACTIVE_BITPOS (0)
                             7679 ; 113  |#define HW_PWM_CH1AR_INACTIVE_BITPOS (12)
                             7680 ; 114  |
                             7681 ; 115  |#define HW_PWM_CH1AR_ACTIVE_WIDTH (12)
                             7682 ; 116  |#define HW_PWM_CH1AR_INACTIVE_WIDTH (12)
                             7683 ; 117  |
                             7684 ; 118  |#define HW_PWM_CH1AR_ACTIVE_SETMASK (((1<<HW_PWM_CH1AR_ACTIVE_WIDTH)-1)<<HW_PWM_CH1AR_ACTI
                                  VE_BITPOS)
                             7685 ; 119  |#define HW_PWM_CH1AR_INACTIVE_SETMASK (((1<<HW_PWM_CH1AR_INACTIVE_WIDTH)-1)<<HW_PWM_CH1AR_
                                  INACTIVE_BITPOS)
                             7686 ; 120  |
                             7687 ; 121  |#define HW_PWM_CH1AR_ACTIVE_CLRMASK (~(WORD)HW_PWM_CH1AR_ACTIVE_SETMASK)
                             7688 ; 122  |#define HW_PWM_CH1AR_INACTIVE_CLRMASK (~(WORD)HW_PWM_CH1AR_INACTIVE_SETMASK)
                             7689 ; 123  |
                             7690 ; 124  |/////////////////////////////////////////////////////////////////////////////////
                             7691 ; 125  |//  PWM CHANNEL 1 B  (HW_PWM_CH1BR) Bit Definitions
                             7692 ; 126  |#define HW_PWM_CH1BR_ACTIVE_BITPOS (0)
                             7693 ; 127  |#define HW_PWM_CH1BR_INACTIVE_BITPOS (12)
                             7694 ; 128  |
                             7695 ; 129  |#define HW_PWM_CH1BR_ACTIVE_WIDTH (12)
                             7696 ; 130  |#define HW_PWM_CH1BR_INACTIVE_WIDTH (12)
                             7697 ; 131  |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 131

M:ADDR CODE           CYCLES LINE SOURCELINE
                             7698 ; 132  |#define HW_PWM_CH1BR_ACTIVE_SETMASK (((1<<HW_PWM_CH1BR_ACTIVE_WIDTH)-1)<<HW_PWM_CH1BR_ACTI
                                  VE_BITPOS)
                             7699 ; 133  |#define HW_PWM_CH1BR_INACTIVE_SETMASK (((1<<HW_PWM_CH1BR_INACTIVE_WIDTH)-1)<<HW_PWM_CH1BR_
                                  INACTIVE_BITPOS)
                             7700 ; 134  |
                             7701 ; 135  |#define HW_PWM_CH1BR_ACTIVE_CLRMASK (~(WORD)HW_PWM_CH1BR_ACTIVE_SETMASK)
                             7702 ; 136  |#define HW_PWM_CH1BR_INACTIVE_CLRMASK (~(WORD)HW_PWM_CH1BR_INACTIVE_SETMASK)
                             7703 ; 137  |
                             7704 ; 138  |/////////////////////////////////////////////////////////////////////////////////
                             7705 ; 139  |//  PWM CHANNEL 2 A  (HW_PWM_CH2AR) Bit Definitions
                             7706 ; 140  |#define HW_PWM_CH2AR_ACTIVE_BITPOS (0)
                             7707 ; 141  |#define HW_PWM_CH2AR_INACTIVE_BITPOS (12)
                             7708 ; 142  |
                             7709 ; 143  |#define HW_PWM_CH2AR_ACTIVE_WIDTH (12)
                             7710 ; 144  |#define HW_PWM_CH2AR_INACTIVE_WIDTH (12)
                             7711 ; 145  |
                             7712 ; 146  |#define HW_PWM_CH2AR_ACTIVE_SETMASK (((1<<HW_PWM_CH2AR_ACTIVE_WIDTH)-1)<<HW_PWM_CH2AR_ACTI
                                  VE_BITPOS)
                             7713 ; 147  |#define HW_PWM_CH2AR_INACTIVE_SETMASK (((1<<HW_PWM_CH2AR_INACTIVE_WIDTH)-1)<<HW_PWM_CH2AR_
                                  INACTIVE_BITPOS)
                             7714 ; 148  |
                             7715 ; 149  |#define HW_PWM_CH2AR_ACTIVE_CLRMASK (~(WORD)HW_PWM_CH2AR_ACTIVE_SETMASK)
                             7716 ; 150  |#define HW_PWM_CH2AR_INACTIVE_CLRMASK (~(WORD)HW_PWM_CH2AR_INACTIVE_SETMASK)
                             7717 ; 151  |
                             7718 ; 152  |/////////////////////////////////////////////////////////////////////////////////
                             7719 ; 153  |//  PWM CHANNEL 2 B  (HW_PWM_CH2BR) Bit Definitions
                             7720 ; 154  |#define HW_PWM_CH2BR_ACTIVE_BITPOS (0)
                             7721 ; 155  |#define HW_PWM_CH2BR_INACTIVE_BITPOS (12)
                             7722 ; 156  |
                             7723 ; 157  |#define HW_PWM_CH2BR_ACTIVE_WIDTH (12)
                             7724 ; 158  |#define HW_PWM_CH2BR_INACTIVE_WIDTH (12)
                             7725 ; 159  |
                             7726 ; 160  |#define HW_PWM_CH2BR_ACTIVE_SETMASK (((1<<HW_PWM_CH2BR_ACTIVE_WIDTH)-1)<<HW_PWM_CH2BR_ACTI
                                  VE_BITPOS)
                             7727 ; 161  |#define HW_PWM_CH2BR_INACTIVE_SETMASK (((1<<HW_PWM_CH2BR_INACTIVE_WIDTH)-1)<<HW_PWM_CH2BR_
                                  INACTIVE_BITPOS)
                             7728 ; 162  |
                             7729 ; 163  |#define HW_PWM_CH2BR_ACTIVE_CLRMASK (~(WORD)HW_PWM_CH2BR_ACTIVE_SETMASK)
                             7730 ; 164  |#define HW_PWM_CH2BR_INACTIVE_CLRMASK (~(WORD)HW_PWM_CH2BR_INACTIVE_SETMASK)
                             7731 ; 165  |
                             7732 ; 166  |/////////////////////////////////////////////////////////////////////////////////
                             7733 ; 167  |//  PWM CHANNEL 3 A  (HW_PWM_CH3AR) Bit Definitions
                             7734 ; 168  |#define HW_PWM_CH3AR_ACTIVE_BITPOS (0)
                             7735 ; 169  |#define HW_PWM_CH3AR_INACTIVE_BITPOS (12)
                             7736 ; 170  |
                             7737 ; 171  |#define HW_PWM_CH3AR_ACTIVE_WIDTH (12)
                             7738 ; 172  |#define HW_PWM_CH3AR_INACTIVE_WIDTH (12)
                             7739 ; 173  |
                             7740 ; 174  |#define HW_PWM_CH3AR_ACTIVE_SETMASK (((1<<HW_PWM_CH3AR_ACTIVE_WIDTH)-1)<<HW_PWM_CH3AR_ACTI
                                  VE_BITPOS)
                             7741 ; 175  |#define HW_PWM_CH3AR_INACTIVE_SETMASK (((1<<HW_PWM_CH3AR_INACTIVE_WIDTH)-1)<<HW_PWM_CH3AR_
                                  INACTIVE_BITPOS)
                             7742 ; 176  |
                             7743 ; 177  |#define HW_PWM_CH3AR_ACTIVE_CLRMASK (~(WORD)HW_PWM_CH3AR_ACTIVE_SETMASK)
                             7744 ; 178  |#define HW_PWM_CH3AR_INACTIVE_CLRMASK (~(WORD)HW_PWM_CH3AR_INACTIVE_SETMASK)
                             7745 ; 179  |
                             7746 ; 180  |/////////////////////////////////////////////////////////////////////////////////
                             7747 ; 181  |//  PWM CHANNEL 3 B  (HW_PWM_CH3BR) Bit Definitions
                             7748 ; 182  |#define HW_PWM_CH3BR_ACTIVE_BITPOS (0)
                             7749 ; 183  |#define HW_PWM_CH3BR_INACTIVE_BITPOS (12)
                             7750 ; 184  |
                             7751 ; 185  |#define HW_PWM_CH3BR_ACTIVE_WIDTH (12)
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 132

M:ADDR CODE           CYCLES LINE SOURCELINE
                             7752 ; 186  |#define HW_PWM_CH3BR_INACTIVE_WIDTH (12)
                             7753 ; 187  |
                             7754 ; 188  |#define HW_PWM_CH3BR_ACTIVE_SETMASK (((1<<HW_PWM_CH3BR_ACTIVE_WIDTH)-1)<<HW_PWM_CH3BR_ACTI
                                  VE_BITPOS)
                             7755 ; 189  |#define HW_PWM_CH3BR_INACTIVE_SETMASK (((1<<HW_PWM_CH3BR_INACTIVE_WIDTH)-1)<<HW_PWM_CH3BR_
                                  INACTIVE_BITPOS)
                             7756 ; 190  |
                             7757 ; 191  |#define HW_PWM_CH3BR_ACTIVE_CLRMASK (~(WORD)HW_PWM_CH3BR_ACTIVE_SETMASK)
                             7758 ; 192  |#define HW_PWM_CH3BR_INACTIVE_CLRMASK (~(WORD)HW_PWM_CH3BR_INACTIVE_SETMASK)
                             7759 ; 193  |
                             7760 ; 194  |typedef union               
                             7761 ; 195  |{
                             7762 ; 196  |    struct {
                             7763 ; 197  |       int ACTIVE                    :12;
                             7764 ; 198  |       int INACTIVE                  :12;
                             7765 ; 199  |    } B;
                             7766 ; 200  |    int I;
                             7767 ; 201  |} pwmchan_type;
                             7768 ; 202  |#define HW_PWM_CH0AR        (*(volatile pwmchan_type _X*) (HW_PWM_BASEADDR+1))  /* PWM Cha
                                  nnel 0 A Register */
                             7769 ; 203  |#define HW_PWM_CH0BR        (*(volatile pwmchan_type _X*) (HW_PWM_BASEADDR+2))  /* PWM Cha
                                  nnel 0 B Register */
                             7770 ; 204  |#define HW_PWM_CH1AR        (*(volatile pwmchan_type _X*) (HW_PWM_BASEADDR+3))  /* PWM Cha
                                  nnel 1 A Register */
                             7771 ; 205  |#define HW_PWM_CH1BR        (*(volatile pwmchan_type _X*) (HW_PWM_BASEADDR+4))  /* PWM Cha
                                  nnel 1 B Register */
                             7772 ; 206  |#define HW_PWM_CH2AR        (*(volatile pwmchan_type _X*) (HW_PWM_BASEADDR+5))  /* PWM Cha
                                  nnel 2 A Register */
                             7773 ; 207  |#define HW_PWM_CH2BR        (*(volatile pwmchan_type _X*) (HW_PWM_BASEADDR+6))  /* PWM Cha
                                  nnel 2 B Register */
                             7774 ; 208  |#define HW_PWM_CH3AR        (*(volatile pwmchan_type _X*) (HW_PWM_BASEADDR+7))  /* PWM Cha
                                  nnel 3 A Register */
                             7775 ; 209  |#define HW_PWM_CH3BR        (*(volatile pwmchan_type _X*) (HW_PWM_BASEADDR+8))  /* PWM Cha
                                  nnel 3 B Register */
                             7776 ; 210  |
                             7777 ; 211  |#endif
                             7778 ; 212  |
                             7779 ; 213  |
                             7780 ; 214  |
                             7781 ; 215  |
                             7782 
                             7784 
                             7785 ; 28   |#include "regsrevision.h"
                             7786 
                             7788 
                             7789 ; 1    |#if !(defined(__HW_REVR))
                             7790 ; 2    |#define __HW_REVR 1
                             7791 ; 3    |
                             7792 ; 4    |
                             7793 ; 5    |#define HW_GLUE_BASEADDR 0xFA00
                             7794 ; 6    |
                             7795 ; 7    |#define HW_REVR_RMN_BITPOS (0)
                             7796 ; 8    |#define HW_REVR_DCDCMODE_BITPOS (5)
                             7797 ; 9    |#define HW_REVR_RMJ_BITPOS (8)
                             7798 ; 10   |
                             7799 ; 11   |#define HW_REVR_RMN_WIDTH (5)
                             7800 ; 12   |#define HW_REVR_DCDCMODE_WIDTH (3)
                             7801 ; 13   |
                             7802 ; 14   |#define HW_REVR_DCDCMODE_SETMASK (((1<<HW_REVR_DCDCMODE_WIDTH)-1)<<HW_REVR_DCDCMODE_BITPOS
                                  )
                             7803 ; 15   |
                             7804 ; 16   |#define HW_REVR_DCDCMODE_CLRMASK (~(WORD)HW_REVR_DCDCMODE_SETMASK)
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 133

M:ADDR CODE           CYCLES LINE SOURCELINE
                             7805 ; 17   |
                             7806 ; 18   |
                             7807 ; 19   |/////////////////////////////////////////////////////////////////////////////////
                             7808 ; 20   |//  Revision Register (HW_REVR) bitfields and values. (read only)
                             7809 ; 21   |//  June15 2004: C struct updated to be correct: 
                             7810 ; 22   |//   Added DCDCMODE bitfield. Removed RMP bitfield. Reduced size of RMN bitfield to 5 bits
                                  .
                             7811 ; 23   |typedef union               
                             7812 ; 24   |{
                             7813 ; 25   |    struct {
                             7814 ; 26   |        unsigned RMN    :5;     //Minor Revision
                             7815 ; 27   |        unsigned DCDCMODE : 3;  //DCDC mode field function depends on DCDC mode pin strapp
                                  ing
                             7816 ; 28   |           #define DCDCMODE_7_CONVERTER1_2CH_BOOST_CONVERTER2_OFF      7
                             7817 ; 29   |           #define DCDCMODE_6_RESERVED                                 6
                             7818 ; 30   |           #define DCDCMODE_5_CONVERTER1_3CH_BOOST_CONVERTER2_OFF      5
                             7819 ; 31   |           #define DCDCMODE_4_RESERVED                                 4
                             7820 ; 32   |           #define DCDCMODE_3_CONVERTER1_1CH_BUCK_CONVERTER2_OFF       3
                             7821 ; 33   |           #define DCDCMODE_2_CONVERTER1_OFF_CONVERTER2_OFF            2
                             7822 ; 34   |           #define DCDCMODE_1_CONVERTER1_1CH_BUCK_CONVERTER2_1CH_BOOST 1
                             7823 ; 35   |           #define DCDCMODE_0_CONVERTER1_1CH_BUCK_CONVERTER2_1CH_BUCK  0
                             7824 ; 36   |           #define DCDCMODE_X_BUCK_MASKED_SETMASK 0x4
                             7825 ; 37   |        unsigned RMJ    :16;    //Major Revision
                             7826 ; 38   |    } B;
                             7827 ; 39   |
                             7828 ; 40   |    int I;
                             7829 ; 41   |
                             7830 ; 42   |} revr_type;
                             7831 ; 43   |#define HW_REVR (*(volatile revr_type _X*) (HW_GLUE_BASEADDR+2))
                             7832 ; 44   |
                             7833 ; 45   |#define HW_REVR_DCDCMODE_B0_BITPOS 5
                             7834 ; 46   |#define HW_REVR_DCDCMODE_B1_BITPOS 6
                             7835 ; 47   |#define HW_REVR_DCDCMODE_B2_BITPOS 7
                             7836 ; 48   |
                             7837 ; 49   |#define HW_REVR_DCDCMODE_BUCK_MASK_POS HW_REVR_DCDCMODE_B2_BITPOS
                             7838 ; 50   |// 3 bit bitfield: (HW_REVR_DCDCMODE_B2_BITPOS|HW_REVR_DCDCMODE_B1_BITPOS|HW_REVR_DCDCMODE
                                  _B0_BITPOS)
                             7839 ; 51   |#define HW_REVR_DCDC_MODE_SETMASK 0x0000E0
                             7840 ; 52   |#define HW_REVR_RMN_SETMASK 0xFF<<HW_REVR_RMN_BITPOS
                             7841 ; 53   |#define HW_REVR_RMJ_SETMASK 0xFFFF<<HW_REVR_RMJ_BITPOS
                             7842 ; 54   |
                             7843 ; 55   |#define HW_REVR_RMN_CLRMASK ~(WORD)HW_REVR_RMN_SETMASK
                             7844 ; 56   |#define HW_REVR_RMJ_CLRMASK ~(WORD)HW_REVR_RMJ_SETMASK
                             7845 ; 57   |
                             7846 ; 58   |#endif //!@def(__HW_REVR)
                             7847 ; 59   |
                             7848 
                             7850 
                             7851 ; 29   |#include "regsrtc.h"
                             7852 
                             7854 
                             7855 ; 1    |/////////////////////////////////////////////////////////////////////////////////
                             7856 ; 2    |// Copyright(C) SigmaTel, Inc. 2000-2004
                             7857 ; 3    |// Filename: regsrtc.inc
                             7858 ; 4    |// Description: Register definitions for RTC interface
                             7859 ; 5    |/////////////////////////////////////////////////////////////////////////////////
                             7860 ; 6    |// The following naming conventions are followed in this file.
                             7861 ; 7    |// All registers are named using the format...
                             7862 ; 8    |//     HW_<module>_<regname>
                             7863 ; 9    |// where <module> is the module name which can be any of the following...
                             7864 ; 10   |//     USB20
                             7865 ; 11   |// (Note that when there is more than one copy of a particular module, the
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 134

M:ADDR CODE           CYCLES LINE SOURCELINE
                             7866 ; 12   |// module name includes a number starting from 0 for the first instance of
                             7867 ; 13   |// that module)
                             7868 ; 14   |// <regname> is the specific register within that module
                             7869 ; 15   |// We also define the following...
                             7870 ; 16   |//     HW_<module>_<regname>_BITPOS
                             7871 ; 17   |// which defines the starting bit (i.e. LSB) of a multi bit field
                             7872 ; 18   |//     HW_<module>_<regname>_SETMASK
                             7873 ; 19   |// which does something else, and
                             7874 ; 20   |//     HW_<module>_<regname>_CLRMASK
                             7875 ; 21   |// which does something else.
                             7876 ; 22   |// Other rules
                             7877 ; 23   |//     All caps
                             7878 ; 24   |//     Numeric identifiers start at 0
                             7879 ; 25   |#if !(defined(regsrtcinc))
                             7880 ; 26   |#define regsrtcinc 1
                             7881 ; 27   |
                             7882 ; 28   |#include "types.h"
                             7883 
                             7885 
                             7886 ; 1    |////////////////////////////////////////////////////////////////////////////////
                             7887 ; 2    |// Copyright(C) SigmaTel, Inc. 2000-2004
                             7888 ; 3    |//
                             7889 ; 4    |// Filename: types.h
                             7890 ; 5    |// Description: Standard data types
                             7891 ; 6    |////////////////////////////////////////////////////////////////////////////////
                             7892 ; 7    |
                             7893 ; 8    |#ifndef _TYPES_H
                             7894 ; 9    |#define _TYPES_H
                             7895 ; 10   |
                             7896 ; 11   |// TODO:  move this outta here!
                             7897 ; 12   |#if !defined(NOERROR)
                             7898 ; 13   |#define NOERROR 0
                             7899 ; 14   |#define SUCCESS 0
                             7900 ; 15   |#endif 
                             7901 ; 16   |#if !defined(SUCCESS)
                             7902 ; 17   |#define SUCCESS  0
                             7903 ; 18   |#endif
                             7904 ; 19   |#if !defined(ERROR)
                             7905 ; 20   |#define ERROR   -1
                             7906 ; 21   |#endif
                             7907 ; 22   |#if !defined(FALSE)
                             7908 ; 23   |#define FALSE 0
                             7909 ; 24   |#endif
                             7910 ; 25   |#if !defined(TRUE)
                             7911 ; 26   |#define TRUE  1
                             7912 ; 27   |#endif
                             7913 ; 28   |
                             7914 ; 29   |#if !defined(NULL)
                             7915 ; 30   |#define NULL 0
                             7916 ; 31   |#endif
                             7917 ; 32   |
                             7918 ; 33   |#define MAX_INT     0x7FFFFF
                             7919 ; 34   |#define MAX_LONG    0x7FFFFFffffff
                             7920 ; 35   |        // max positive unsigned long value: -1 == 0xFFFFFFffffff
                             7921 ; 36   |#define MAX_ULONG   (-1) 
                             7922 ; 37   |
                             7923 ; 38   |#define WORD_SIZE   24              // word size in bits
                             7924 ; 39   |#define BYTES_PER_WORD 3            // 8 bit bytes
                             7925 ; 40   |
                             7926 ; 41   |
                             7927 ; 42   |#define BYTE    unsigned char       // btVarName
                             7928 ; 43   |#define CHAR    signed char         // cVarName
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 135

M:ADDR CODE           CYCLES LINE SOURCELINE
                             7929 ; 44   |#define USHORT  unsigned short      // usVarName
                             7930 ; 45   |#define SHORT   unsigned short      // sVarName
                             7931 ; 46   |#define WORD    unsigned int        // wVarName
                             7932 ; 47   |#define INT     signed int          // iVarName
                             7933 ; 48   |#define DWORD   unsigned long       // dwVarName
                             7934 ; 49   |#define LONG    signed long         // lVarName
                             7935 ; 50   |#define BOOL    unsigned int        // bVarName
                             7936 ; 51   |#define FRACT   _fract              // frVarName
                             7937 ; 52   |#define LFRACT  long _fract         // lfrVarName
                             7938 ; 53   |#define CIRC    _circ               // cp<type prefix>VarName (see below)
                             7939 ; 54   |#define FLOAT   float               // fVarName
                             7940 ; 55   |#define DBL     double              // dVarName
                             7941 ; 56   |#define ENUM    enum                // eVarName
                             7942 ; 57   |#define CMX     _complex            // cmxVarName
                             7943 ; 58   |typedef WORD UCS3;                   // 
                             7944 ; 59   |
                             7945 ; 60   |#define UINT16  unsigned short
                             7946 ; 61   |#define UINT8   unsigned char   
                             7947 ; 62   |#define UINT32  unsigned long
                             7948 ; 63   |#define UINT64  unsigned long   // need to figure out how to do 64 bit values.  Or port ex
                                  isiting code to only use 48 bit
                             7949 ; 64   |#define INT64   unsigned long   // need to figure out how to do 64 bit values.  Or port ex
                                  isiting code to only use 48 bit
                             7950 ; 65   |#define WCHAR   UINT16
                             7951 ; 66   |
                             7952 ; 67   |//UINT128 is 16 bytes or 6 words
                             7953 ; 68   |typedef struct UINT128_3500 {   
                             7954 ; 69   |    int val[6];     
                             7955 ; 70   |} UINT128_3500;
                             7956 ; 71   |
                             7957 ; 72   |#define UINT128   UINT128_3500
                             7958 ; 73   |
                             7959 ; 74   |// Little endian word packed byte strings:   
                             7960 ; 75   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                             7961 ; 76   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                             7962 ; 77   |// Little endian word packed byte strings:   
                             7963 ; 78   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                             7964 ; 79   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                             7965 ; 80   |
                             7966 ; 81   |// Declare Memory Spaces To Use When Coding
                             7967 ; 82   |// A. Sector Buffers
                             7968 ; 83   |#define SECTOR_BUFFER_MEM_X _X
                             7969 ; 84   |#define SECTOR_BUFFER_MEM_Y _Y
                             7970 ; 85   |#define SECTOR_BUFFER_MEM SECTOR_BUFFER_MEM_X
                             7971 ; 86   |typedef WORD SECTOR_BUFFER_MEM SECTOR_BUFFER;
                             7972 ; 87   |typedef SECTOR_BUFFER * P_SECTOR_BUFFER;
                             7973 ; 88   |// B. Media DDI Memory
                             7974 ; 89   |#define MEDIA_DDI_MEM _Y
                             7975 ; 90   |
                             7976 ; 91   |
                             7977 ; 92   |
                             7978 ; 93   |// Pointers to linear structures are labeled as: p<type prefix>VarName
                             7979 ; 94   |// Examples of circular pointers:
                             7980 ; 95   |//    INT CIRC cpiVarName
                             7981 ; 96   |//    DWORD CIRC cpdwVarName
                             7982 ; 97   |
                             7983 ; 98   |#define RETCODE INT                 // rcVarName
                             7984 ; 99   |
                             7985 ; 100  |// generic bitfield structure
                             7986 ; 101  |struct Bitfield {
                             7987 ; 102  |    unsigned int B0  :1;
                             7988 ; 103  |    unsigned int B1  :1;
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 136

M:ADDR CODE           CYCLES LINE SOURCELINE
                             7989 ; 104  |    unsigned int B2  :1;
                             7990 ; 105  |    unsigned int B3  :1;
                             7991 ; 106  |    unsigned int B4  :1;
                             7992 ; 107  |    unsigned int B5  :1;
                             7993 ; 108  |    unsigned int B6  :1;
                             7994 ; 109  |    unsigned int B7  :1;
                             7995 ; 110  |    unsigned int B8  :1;
                             7996 ; 111  |    unsigned int B9  :1;
                             7997 ; 112  |    unsigned int B10 :1;
                             7998 ; 113  |    unsigned int B11 :1;
                             7999 ; 114  |    unsigned int B12 :1;
                             8000 ; 115  |    unsigned int B13 :1;
                             8001 ; 116  |    unsigned int B14 :1;
                             8002 ; 117  |    unsigned int B15 :1;
                             8003 ; 118  |    unsigned int B16 :1;
                             8004 ; 119  |    unsigned int B17 :1;
                             8005 ; 120  |    unsigned int B18 :1;
                             8006 ; 121  |    unsigned int B19 :1;
                             8007 ; 122  |    unsigned int B20 :1;
                             8008 ; 123  |    unsigned int B21 :1;
                             8009 ; 124  |    unsigned int B22 :1;
                             8010 ; 125  |    unsigned int B23 :1;
                             8011 ; 126  |};
                             8012 ; 127  |
                             8013 ; 128  |union BitInt {
                             8014 ; 129  |        struct Bitfield B;
                             8015 ; 130  |        int        I;
                             8016 ; 131  |};
                             8017 ; 132  |
                             8018 ; 133  |#define MAX_MSG_LENGTH 10
                             8019 ; 134  |struct CMessage
                             8020 ; 135  |{
                             8021 ; 136  |        unsigned int m_uLength;
                             8022 ; 137  |        unsigned int m_uMsg[MAX_MSG_LENGTH];
                             8023 ; 138  |};
                             8024 ; 139  |
                             8025 ; 140  |typedef struct {
                             8026 ; 141  |    WORD m_wLength;
                             8027 ; 142  |    WORD m_wMessage;
                             8028 ; 143  |    WORD m_wParams[MAX_MSG_LENGTH];
                             8029 ; 144  |} Message;
                             8030 ; 145  |
                             8031 ; 146  |struct MessageQueueDescriptor
                             8032 ; 147  |{
                             8033 ; 148  |        int *m_pBase;
                             8034 ; 149  |        int m_iModulo;
                             8035 ; 150  |        int m_iSize;
                             8036 ; 151  |        int *m_pHead;
                             8037 ; 152  |        int *m_pTail;
                             8038 ; 153  |};
                             8039 ; 154  |
                             8040 ; 155  |struct ModuleEntry
                             8041 ; 156  |{
                             8042 ; 157  |    int m_iSignaledEventMask;
                             8043 ; 158  |    int m_iWaitEventMask;
                             8044 ; 159  |    int m_iResourceOfCode;
                             8045 ; 160  |    struct MessageQueueDescriptor *m_pMessageQueue;
                             8046 ; 161  |    int _asmfunc (*m_pProcessEntryPoint)(union WaitMask Signals,struct MessageQueueDescrip
                                  tor *);
                             8047 ; 162  |    int _asmfunc (*m_pInitFunction)(struct MessageQueueDescriptor *);
                             8048 ; 163  |    int m_uTimeOutHigh;
                             8049 ; 164  |    int m_uTimeOutLow;
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 137

M:ADDR CODE           CYCLES LINE SOURCELINE
                             8050 ; 165  |    int _asmfunc (*m_pBackgroundFunction)(struct MessageQueueDescriptor *);
                             8051 ; 166  |};
                             8052 ; 167  |
                             8053 ; 168  |union WaitMask{
                             8054 ; 169  |    struct B{
                             8055 ; 170  |        unsigned int m_bNone     :1;
                             8056 ; 171  |        unsigned int m_bMessage  :1;
                             8057 ; 172  |        unsigned int m_bTimer    :1;
                             8058 ; 173  |        unsigned int m_bButton   :1;
                             8059 ; 174  |    } B;
                             8060 ; 175  |    int I;
                             8061 ; 176  |} ;
                             8062 ; 177  |
                             8063 ; 178  |
                             8064 ; 179  |struct Button {
                             8065 ; 180  |        WORD wButtonEvent;
                             8066 ; 181  |        WORD wUnused[MAX_MSG_LENGTH];   
                             8067 ; 182  |};
                             8068 ; 183  |
                             8069 ; 184  |struct Message {
                             8070 ; 185  |        WORD wMsgLength;
                             8071 ; 186  |        WORD wMsgCommand;
                             8072 ; 187  |        WORD wMsgParms[MAX_MSG_LENGTH-1];
                             8073 ; 188  |};
                             8074 ; 189  |
                             8075 ; 190  |union EventTypes {
                             8076 ; 191  |        struct CMessage msg;
                             8077 ; 192  |        struct Button Button ;
                             8078 ; 193  |        struct Message Message;
                             8079 ; 194  |};
                             8080 ; 195  |
                             8081 ; 196  |// next 2 used to get updater build to return correct protocol ver in scsi response.
                             8082 ; 197  |#define BUILD_TYPE_UPDATER  0x100
                             8083 ; 198  |#define BUILD_TYPE_HOSTLINK 0x101
                             8084 ; 199  |#define BUILD_TYPE_PLAYER   0x102
                             8085 ; 200  |
                             8086 ; 201  |// Resets part if RETAIL build. DEBUG build executes debug instruction to halt.
                             8087 ; 202  |#define SystemHalt() __asm(" include 'sysmacro.asm' \n error") 
                             8088 ; 203  |#define assert(x)    if(!(x)) __asm(" include 'sysmacro.asm' \n error")
                             8089 ; 204  |
                             8090 ; 205  |#if DEBUG
                             8091 ; 206  |// For DEBUG builds, DebugBuildAssert(condition) halts if condition evaluates to FALSE. 
                             8092 ; 207  |#define DebugBuildAssert(x)    if(!(x)) __asm(" debug ")
                             8093 ; 208  |#else 
                             8094 ; 209  |// For RETAIL builds, DebugBuildAssert(condition) does nothing & execution continues rathe
                                  r than halt or reset. 
                             8095 ; 210  |#define DebugBuildAssert(x)    
                             8096 ; 211  |#endif
                             8097 ; 212  |
                             8098 ; 213  |// Do this in your C files to make a reminder that's displayed during the build.
                             8099 ; 214  |//  #pragma asm
                             8100 ; 215  |//  WARN 'Note to builder: reminder to do this after verifying that'
                             8101 ; 216  |//  #pragma endasm
                             8102 ; 217  |
                             8103 ; 218  |
                             8104 ; 219  |#ifdef COLOR_262K
                             8105 ; 220  |#define RGB(r,g,b)    ((0x0000FC & (r)) << 10) | ((0x0000FC & (g)) << 4) | ((0x0000FC & (b
                                  )) >> 2)    //262k
                             8106 ; 221  |#elif defined(COLOR_65K)
                             8107 ; 222  |#define RGB(r,g,b)    ((0x0000F8 & (r)) << 8) | ((0x0000FC & (g)) << 3) | ((0x0000F8 & (b)
                                  ) >> 3)  //65k
                             8108 ; 223  |#else
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 138

M:ADDR CODE           CYCLES LINE SOURCELINE
                             8109 ; 224  |#define RGB(r,g,b)       ((0x0000F0 & (r)) << 4) | (0x0000F0 & (g)) | ((0x0000F0 & (b)) >>
                                   4)
                             8110 ; 225  |#endif
                             8111 ; 226  |    
                             8112 ; 227  |#endif // #ifndef _TYPES_H
                             8113 
                             8115 
                             8116 ; 29   |
                             8117 ; 30   |//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                             8118 ; 31   |
                             8119 ; 32   |//   RTC STMP Registers 
                             8120 ; 33   |//   Edited 2/26/2002 J. Ferrara
                             8121 ; 34   |//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                             8122 ; 35   |
                             8123 ; 36   |#define HW_RTC_BASEADDR (0xF500)
                             8124 ; 37   |
                             8125 ; 38   |
                             8126 ; 39   |
                             8127 ; 40   |
                             8128 ; 41   |
                             8129 ; 42   |/////////////////////////////////////////////////////////////////////////////////
                             8130 ; 43   |
                             8131 ; 44   |////  RTC Control Status Register (HW_RTC_CSR) Bit Definitions
                             8132 ; 45   |
                             8133 ; 46   |#define HW_RTC_CSR_ALARMINTEN_BITPOS (0)
                             8134 ; 47   |#define HW_RTC_CSR_ALARMINT_BITPOS (1)
                             8135 ; 48   |#define HW_RTC_CSR_WATCHDOGEN_BITPOS (2)
                             8136 ; 49   |#define HW_RTC_CSR_RSVD0_BITPOS (3)
                             8137 ; 50   |#define HW_RTC_CSR_STALEREGS_BITPOS (4)
                             8138 ; 51   |#define HW_RTC_CSR_RSVD1_BITPOS (9)
                             8139 ; 52   |#define HW_RTC_CSR_NEWREGS_BITPOS (12)
                             8140 ; 53   |#define HW_RTC_CSR_NEWREGS_XTALDIV_BITPOS (12)
                             8141 ; 54   |#define HW_RTC_CSR_NEWREGS_MSCOUNT_BITPOS (13)
                             8142 ; 55   |#define HW_RTC_CSR_NEWREGS_ALRMCOUNT_BITPOS (14)
                             8143 ; 56   |#define HW_RTC_CSR_NEWREGS_PERSIST0_BITPOS (15)
                             8144 ; 57   |#define HW_RTC_CSR_NEWREGS_PERSIST1_BITPOS (16)
                             8145 ; 58   |#define HW_RTC_CSR_RSVD2_BITPOS (17)
                             8146 ; 59   |#define HW_RTC_CSR_FORCE_BITPOS (20)
                             8147 ; 60   |#define HW_RTC_CSR_RSVD3_BITPOS (21)
                             8148 ; 61   |#define HW_RTC_CSR_SFTRST_BITPOS (23)                                                     
                                                          
                             8149 ; 62   |#define HW_RTC_CSR_ALARMINTEN_WIDTH (1)
                             8150 ; 63   |#define HW_RTC_CSR_ALARMINT_WIDTH (1)
                             8151 ; 64   |#define HW_RTC_CSR_WATCHDOGEN_WIDTH (1)
                             8152 ; 65   |#define HW_RTC_CSR_RSVD0_WIDTH (1)
                             8153 ; 66   |#define HW_RTC_CSR_STALEREGS_WIDTH (5)
                             8154 ; 67   |#define HW_RTC_CSR_RSVD1_WIDTH (3)
                             8155 ; 68   |#define HW_RTC_CSR_NEWREGS_WIDTH (5)
                             8156 ; 69   |#define HW_RTC_CSR_NEWREGS_XTALDIV_WIDTH (1)
                             8157 ; 70   |#define HW_RTC_CSR_NEWREGS_MSCOUNT_WIDTH (1)
                             8158 ; 71   |#define HW_RTC_CSR_NEWREGS_ALRMCOUNT_WIDTH (1)
                             8159 ; 72   |#define HW_RTC_CSR_NEWREGS_PERSIST0_WIDTH (1)
                             8160 ; 73   |#define HW_RTC_CSR_NEWREGS_PERSIST1_WIDTH (1)
                             8161 ; 74   |#define HW_RTC_CSR_RSVD2_WIDTH (3)
                             8162 ; 75   |#define HW_RTC_CSR_FORCE_WIDTH (1)
                             8163 ; 76   |#define HW_RTC_CSR_RSVD3_WIDTH (2)
                             8164 ; 77   |#define HW_RTC_CSR_SFTRST_WIDTH (1)
                             8165 ; 78   |
                             8166 ; 79   |#define HW_RTC_CSR_ALARMINT_SETMASK (((1<<HW_RTC_CSR_ALARMINT_WIDTH)-1)<<HW_RTC_CSR_ALARMI
                                  NT_BITPOS) 
                             8167 ; 80   |#define HW_RTC_CSR_ALARMINTEN_SETMASK (((1<<HW_RTC_CSR_ALARMINTEN_WIDTH)-1)<<HW_RTC_CSR_AL
                                  ARMINTEN_BITPOS) 
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 139

M:ADDR CODE           CYCLES LINE SOURCELINE
                             8168 ; 81   |#define HW_RTC_CSR_WATCHDOGEN_SETMASK (((1<<HW_RTC_CSR_WATCHDOGEN_WIDTH)-1)<<HW_RTC_CSR_WA
                                  TCHDOGEN_BITPOS) 
                             8169 ; 82   |#define HW_RTC_CSR_RSVD0_SETMASK (((1<<HW_RTC_CSR_RSVD0_WIDTH)-1)<<HW_RTC_CSR_RSVD0_BITPOS
                                  ) 
                             8170 ; 83   |#define HW_RTC_CSR_STALEREGS_SETMASK (((1<<HW_RTC_CSR_STALEREGS_WIDTH)-1)<<HW_RTC_CSR_STAL
                                  EREGS_BITPOS) 
                             8171 ; 84   |#define HW_RTC_CSR_RSVD1_SETMASK (((1<<HW_RTC_CSR_RSVD1_WIDTH)-1)<<HW_RTC_CSR_RSVD1_BITPOS
                                  ) 
                             8172 ; 85   |#define HW_RTC_CSR_NEWREGS_SETMASK (((1<<HW_RTC_CSR_NEWREGS_WIDTH)-1)<<HW_RTC_CSR_NEWREGS_
                                  BITPOS) 
                             8173 ; 86   |#define HW_RTC_CSR_NEWREGS_XTALDIV_SETMASK (((1<<HW_RTC_CSR_NEWREGS_XTALDIV_WIDTH)-1)<<HW_
                                  RTC_CSR_NEWREGS_XTALDIV_BITPOS)   
                             8174 ; 87   |#define HW_RTC_CSR_NEWREGS_MSCOUNT_SETMASK (((1<<HW_RTC_CSR_NEWREGS_MSCOUNT_WIDTH)-1)<<HW_
                                  RTC_CSR_NEWREGS_MSCOUNT_BITPOS)
                             8175 ; 88   |#define HW_RTC_CSR_NEWREGS_ALRMCOUNT_SETMASK (((1<<HW_RTC_CSR_NEWREGS_ALRMCOUNT_WIDTH)-1)<
                                  <HW_RTC_CSR_NEWREGS_ALRMCOUNT_BITPOS)
                             8176 ; 89   |#define HW_RTC_CSR_NEWREGS_PERSIST0_SETMASK (((1<<HW_RTC_CSR_NEWREGS_PERSIST0_WIDTH)-1)<<H
                                  W_RTC_CSR_NEWREGS_PERSIST0_BITPOS)
                             8177 ; 90   |#define HW_RTC_CSR_NEWREGS_PERSIST1_SETMASK (((1<<HW_RTC_CSR_NEWREGS_PERSIST1_WIDTH)-1)<<H
                                  W_RTC_CSR_NEWREGS_PERSIST1_BITPOS)
                             8178 ; 91   |#define HW_RTC_CSR_RSVD2_SETMASK (((1<<HW_RTC_CSR_RSVD2_WIDTH)-1)<<HW_RTC_CSR_RSVD2_BITPOS
                                  ) 
                             8179 ; 92   |#define HW_RTC_CSR_FORCE_SETMASK (((1<<HW_RTC_CSR_FORCE_WIDTH)-1)<<HW_RTC_CSR_FORCE_BITPOS
                                  ) 
                             8180 ; 93   |#define HW_RTC_CSR_RSVD3_SETMASK (((1<<HW_RTC_CSR_RSVD3_WIDTH)-1)<<HW_RTC_CSR_RSVD3_BITPOS
                                  ) 
                             8181 ; 94   |#define HW_RTC_CSR_SFTRST_SETMASK (((1<<HW_RTC_CSR_SFTRST_WIDTH)-1)<<HW_RTC_CSR_SFTRST_BIT
                                  POS) 
                             8182 ; 95   |
                             8183 ; 96   |#define HW_RTC_CSR_ALARMINTEN_CLRMASK (~(WORD)HW_RTC_CSR_ALARMINTEN_SETMASK)
                             8184 ; 97   |#define HW_RTC_CSR_ALARMINT_CLRMASK (~(WORD)HW_RTC_CSR_ALARMINT_SETMASK)
                             8185 ; 98   |#define HW_RTC_CSR_WATCHDOGEN_CLRMASK (~(WORD)HW_RTC_CSR_WATCHDOGEN_SETMASK)
                             8186 ; 99   |#define HW_RTC_CSR_RSVD0_CLRMASK (~(WORD)HW_RTC_CSR_RSVD0_SETMASK)
                             8187 ; 100  |#define HW_RTC_CSR_STALEREGS_CLRMASK (~(WORD)HW_RTC_CSR_STALEREGS_SETMASK)
                             8188 ; 101  |#define HW_RTC_CSR_RSVD1_CLRMASK (~(WORD)HW_RTC_CSR_RSVD1_SETMASK)
                             8189 ; 102  |#define HW_RTC_CSR_NEWREGS_CLRMASK (~(WORD)HW_RTC_CSR_NEWREGS_SETMASK)
                             8190 ; 103  |#define HW_RTC_CSR_NEWREGS_XTALDIV_CLRMASK (~(WORD)HW_RTC_CSR_NEWREGS_XTALDIV_SETMASK)   
                             8191 ; 104  |#define HW_RTC_CSR_NEWREGS_MSCOUNT_CLRMASK (~(WORD)HW_RTC_CSR_NEWREGS_MSCOUNT_SETMASK)
                             8192 ; 105  |#define HW_RTC_CSR_NEWREGS_ALRMCOUNT_CLRMASK (~(WORD)HW_RTC_CSR_NEWREGS_ALRMCOUNT_SETMASK)
                                  
                             8193 ; 106  |#define HW_RTC_CSR_NEWREGS_PERSIST0_CLRMASK (~(WORD)HW_RTC_CSR_NEWREGS_PERSIST0_SETMASK)
                             8194 ; 107  |#define HW_RTC_CSR_NEWREGS_PERSIST1_CLRMASK (~(WORD)HW_RTC_CSR_NEWREGS_PERSIST1_SETMASK)
                             8195 ; 108  |
                             8196 ; 109  |#define HW_RTC_CSR_RSVD2_CLRMASK (~(WORD)HW_RTC_CSR_RSVD2_SETMASK)
                             8197 ; 110  |#define HW_RTC_CSR_FORCE_CLRMASK (~(WORD)HW_RTC_CSR_FORCE_SETMASK)
                             8198 ; 111  |#define HW_RTC_CSR_RSVD3_CLRMASK (~(WORD)HW_RTC_CSR_RSVD3_SETMASK)
                             8199 ; 112  |#define HW_RTC_CSR_SFTRST_CLRMASK (~(WORD)HW_RTC_CSR_SFTRST_SETMASK)
                             8200 ; 113  |
                             8201 ; 114  |
                             8202 ; 115  |typedef union               
                             8203 ; 116  |{
                             8204 ; 117  |    struct {
                             8205 ; 118  |         int ALARMINTEN         : HW_RTC_CSR_ALARMINTEN_WIDTH;
                             8206 ; 119  |         int ALARMINT           : HW_RTC_CSR_ALARMINT_WIDTH;
                             8207 ; 120  |         int WATCHDOGEN         : HW_RTC_CSR_WATCHDOGEN_WIDTH;
                             8208 ; 121  |         int RSVD0              : HW_RTC_CSR_RSVD0_WIDTH;
                             8209 ; 122  |         unsigned int STALEREGS : HW_RTC_CSR_STALEREGS_WIDTH;
                             8210 ; 123  |         int RSVD1              : HW_RTC_CSR_RSVD1_WIDTH;
                             8211 ; 124  |         unsigned int NEWREGS   : HW_RTC_CSR_NEWREGS_WIDTH;
                             8212 ; 125  |         int RSVD2              : HW_RTC_CSR_RSVD2_WIDTH;
                             8213 ; 126  |         int FORCE             : HW_RTC_CSR_FORCE_WIDTH;
                             8214 ; 127  |         int RSVD3              : HW_RTC_CSR_RSVD3_WIDTH;
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 140

M:ADDR CODE           CYCLES LINE SOURCELINE
                             8215 ; 128  |         unsigned int SFTRST    : HW_RTC_CSR_SFTRST_WIDTH;
                             8216 ; 129  |    } B;
                             8217 ; 130  |    int I;
                             8218 ; 131  |    unsigned int U;
                             8219 ; 132  |} rtc_csr_type;
                             8220 ; 133  |#define HW_RTC_CSR      (*(volatile rtc_csr_type _X*) (HW_RTC_BASEADDR+0))    /* RTC Contr
                                  ol / Status Register */
                             8221 ; 134  |
                             8222 ; 135  |/////////////////////////////////////////////////////////////////////////////////
                             8223 ; 136  |
                             8224 ; 137  |//  RTC Milliseconds Register0 (HW_RTC_MSECONDS0) Bit Definitions
                             8225 ; 138  |
                             8226 ; 139  |#define HW_RTC_MSECONDS0_MSECONDSLOW_BITPOS (0)
                             8227 ; 140  |
                             8228 ; 141  |#define HW_RTC_MSECONDS0_MSECONDSLOW_WIDTH (24)
                             8229 ; 142  |
                             8230 ; 143  |#define HW_RTC_MSECONDS0_MSECONDSLOW_SETMASK (((1<<HW_RTC_MSECONDS0_MSECONDSLOW_WIDTH)-1)<
                                  <HW_RTC_MSECONDS0_MSECONDSLOW_BITPOS) 
                             8231 ; 144  |
                             8232 ; 145  |#define HW_RTC_MSECONDS0_MSECONDSLOW_CLRMASK (~(WORD)HW_RTC_MSECONDS0_MSECONDSLOW_SETMASK)
                                  
                             8233 ; 146  |
                             8234 ; 147  |typedef union               
                             8235 ; 148  |{
                             8236 ; 149  |    struct {
                             8237 ; 150  |         int MSECONDSLOW        : HW_RTC_MSECONDS0_MSECONDSLOW_WIDTH;
                             8238 ; 151  |    } B;
                             8239 ; 152  |    int I;
                             8240 ; 153  |    unsigned int U;
                             8241 ; 154  |} rtc_mseconds0_type;
                             8242 ; 155  |#define HW_RTC_MSECONDS0      (*(volatile rtc_mseconds0_type _X*) (HW_RTC_BASEADDR+1))    
                                  /* RTC MSECONDS Lower Word Register */
                             8243 ; 156  |#define HW_RTCLOWR            HW_RTC_MSECONDS0
                             8244 ; 157  |/////////////////////////////////////////////////////////////////////////////////
                             8245 ; 158  |
                             8246 ; 159  |//  RTC Milliseconds Register1 (HW_RTC_MSECONDS1) Bit Definitions
                             8247 ; 160  |
                             8248 ; 161  |#define HW_RTC_MSECONDS1_MSECONDSHIGH_BITPOS (0)
                             8249 ; 162  |
                             8250 ; 163  |#define HW_RTC_MSECONDS1_MSECONDSHIGH_WIDTH (24)
                             8251 ; 164  |
                             8252 ; 165  |#define HW_RTC_MSECONDS1_MSECONDSHIGH_SETMASK (((1<<HW_RTC_MSECONDS1_MSECONDSHIGH_WIDTH)-1
                                  )<<HW_RTC_MSECONDS1_MSECONDSHIGH_BITPOS) 
                             8253 ; 166  |
                             8254 ; 167  |#define HW_RTC_MSECONDS1_MSECONDSHIGH_CLRMASK (~(WORD)HW_RTC_MSECONDS1_MSECONDSHIGH_SETMAS
                                  K)
                             8255 ; 168  |
                             8256 ; 169  |typedef union               
                             8257 ; 170  |{
                             8258 ; 171  |    struct {
                             8259 ; 172  |         int MSECONDSHIGH       : HW_RTC_MSECONDS1_MSECONDSHIGH_WIDTH;
                             8260 ; 173  |    } B;
                             8261 ; 174  |    int I;
                             8262 ; 175  |    unsigned int U;
                             8263 ; 176  |} rtc_mseconds1_type;
                             8264 ; 177  |#define HW_RTC_MSECONDS1      (*(volatile rtc_mseconds1_type _X*) (HW_RTC_BASEADDR+2))    
                                  /* RTC MSECONDS Upper Word Register */
                             8265 ; 178  |#define HW_RTCUPR             HW_RTC_MSECONDS1
                             8266 ; 179  |
                             8267 ; 180  |#define HW_RTC_LOWER_OFFSET 1
                             8268 ; 181  |#define HW_RTC_UP_OFFSET 2
                             8269 ; 182  |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 141

M:ADDR CODE           CYCLES LINE SOURCELINE
                             8270 ; 183  |
                             8271 ; 184  |/////////////////////////////////////////////////////////////////////////////////
                             8272 ; 185  |
                             8273 ; 186  |//  RTC Watchdog Count (HW_RTC_WATCHDOG) Bit Definitions
                             8274 ; 187  |
                             8275 ; 188  |#define HW_RTC_WATCHDOG_TIMEOUTCNT_BITPOS (0)
                             8276 ; 189  |
                             8277 ; 190  |#define HW_RTC_WATCHDOG_TIMEOUTCNT_WIDTH (24)
                             8278 ; 191  |
                             8279 ; 192  |#define HW_RTC_WATCHDOG_TIMEOUTCNT_SETMASK (((1<<HW_RTC_WATCHDOG_TIMEOUTCNT_WIDTH)-1)<<HW_
                                  RTC_WATCHDOG_TIMEOUTCNT_BITPOS) 
                             8280 ; 193  |
                             8281 ; 194  |#define HW_RTC_WATCHDOG_TIMEOUTCNT_CLRMASK (~(WORD)HW_RTC_WATCHDOG_TIMEOUTCNT_SETMASK)
                             8282 ; 195  |
                             8283 ; 196  |typedef union               
                             8284 ; 197  |{
                             8285 ; 198  |    struct {
                             8286 ; 199  |         int TIMEOUTCNT         : HW_RTC_WATCHDOG_TIMEOUTCNT_WIDTH;
                             8287 ; 200  |    } B;
                             8288 ; 201  |    int I;
                             8289 ; 202  |    unsigned int U;
                             8290 ; 203  |} rtc_watchdog_type;
                             8291 ; 204  |#define HW_RTC_WATCHDOG     (*(volatile rtc_watchdog_type _X*) (HW_RTC_BASEADDR+3))    /* 
                                  RTC Watchdog Timeout Register */
                             8292 ; 205  |/////////////////////////////////////////////////////////////////////////////////
                             8293 ; 206  |
                             8294 ; 207  |//  RTC Alarm Register0 (HW_RTC_ALARM0) Bit Definitions
                             8295 ; 208  |
                             8296 ; 209  |#define HW_RTC_ALARM0_ALARMLOW_BITPOS (0)
                             8297 ; 210  |
                             8298 ; 211  |#define HW_RTC_ALARM0_ALARMLOW_WIDTH (24)
                             8299 ; 212  |
                             8300 ; 213  |#define HW_RTC_ALARM0_ALARMLOW_SETMASK (((1<<HW_RTC_ALARM0_ALARMLOW_WIDTH)-1)<<HW_RTC_ALAR
                                  M0_ALARMLOW_BITPOS) 
                             8301 ; 214  |
                             8302 ; 215  |#define HW_RTC_ALARM0_ALARMLOW_CLRMASK (~(WORD)HW_RTC_ALARM0_ALARMLOW_SETMASK)
                             8303 ; 216  |
                             8304 ; 217  |typedef union               
                             8305 ; 218  |{
                             8306 ; 219  |    struct {
                             8307 ; 220  |         int ALARMLOW   : HW_RTC_ALARM0_ALARMLOW_WIDTH;
                             8308 ; 221  |    } B;
                             8309 ; 222  |    int I;
                             8310 ; 223  |    unsigned int U;
                             8311 ; 224  |} rtc_alarm0_type;
                             8312 ; 225  |#define HW_RTC_ALARM0      (*(volatile rtc_alarm0_type _X*) (HW_RTC_BASEADDR+4))    /* RTC
                                   ALARM Lower Word Register */
                             8313 ; 226  |/////////////////////////////////////////////////////////////////////////////////
                             8314 ; 227  |
                             8315 ; 228  |//  RTC Alarm Register1 (HW_RTC_ALARM1) Bit Definitions
                             8316 ; 229  |
                             8317 ; 230  |#define HW_RTC_ALARM1_ALARMHIGH_BITPOS (0)
                             8318 ; 231  |
                             8319 ; 232  |#define HW_RTC_ALARM1_ALARMHIGH_WIDTH (24)
                             8320 ; 233  |
                             8321 ; 234  |#define HW_RTC_ALARM1_ALARMHIGH_SETMASK (((1<<HW_RTC_ALARM1_ALARMHIGH_WIDTH)-1)<<HW_RTC_AL
                                  ARM1_ALARMHIGH_BITPOS) 
                             8322 ; 235  |
                             8323 ; 236  |#define HW_RTC_ALARM1_ALARMHIGH_CLRMASK (~(WORD)HW_RTC_ALARM1_ALARMHIGH_SETMASK)
                             8324 ; 237  |
                             8325 ; 238  |typedef union               
                             8326 ; 239  |{
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 142

M:ADDR CODE           CYCLES LINE SOURCELINE
                             8327 ; 240  |    struct {
                             8328 ; 241  |         int ALARMHIGH  : HW_RTC_ALARM1_ALARMHIGH_WIDTH;
                             8329 ; 242  |    } B;
                             8330 ; 243  |    int I;
                             8331 ; 244  |    unsigned int U;
                             8332 ; 245  |} rtc_alarm1_type;
                             8333 ; 246  |#define HW_RTC_ALARM1      (*(volatile rtc_alarm1_type _X*) (HW_RTC_BASEADDR+5))    /* RTC
                                   ALARM Upper Word Register */
                             8334 ; 247  |/////////////////////////////////////////////////////////////////////////////////
                             8335 ; 248  |
                             8336 ; 249  |//  RTC Xtal-Clock Divide Register (HW_RTC_XTALDIVIDE) Bit Definitions
                             8337 ; 250  |
                             8338 ; 251  |#define HW_RTC_XTALDIVIDE_DIVCOUNT_BITPOS (0)
                             8339 ; 252  |#define HW_RTC_XTALDIVIDE_RSVD0_BITPOS (16)
                             8340 ; 253  |
                             8341 ; 254  |#define HW_RTC_XTALDIVIDE_DIVCOUNT_WIDTH (16)
                             8342 ; 255  |#define HW_RTC_XTALDIVIDE_RSVD0_WIDTH (8)
                             8343 ; 256  |
                             8344 ; 257  |#define HW_RTC_XTALDIVIDE_DIVCOUNT_SETMASK (((1<<HW_RTC_XTALDIVIDE_DIVCOUNT_WIDTH)-1)<<HW_
                                  RTC_XTALDIVIDE_DIVCOUNT_BITPOS) 
                             8345 ; 258  |#define HW_RTC_XTALDIVIDE_RSVD0_SETMASK (((1<<HW_RTC_XTALDIVIDE_RSVD0_BITPOS)-1)<<HW_RTC_X
                                  TALDIVIDE_RSVD0_BITPOS) 
                             8346 ; 259  |
                             8347 ; 260  |#define HW_RTC_XTALDIVIDE_DIVCOUNT_CLRMASK (~(WORD)HW_RTC_XTALDIVIDE_DIVCOUNT_SETMASK)
                             8348 ; 261  |#define HW_RTC_XTALDIVIDE_RSVD0_CLRMASK (~(WORD)HW_RTC_XTALDIVIDE_RSVD0_SETMASK)
                             8349 ; 262  |
                             8350 ; 263  |typedef union               
                             8351 ; 264  |{
                             8352 ; 265  |    struct {
                             8353 ; 266  |         int DIVCOUNT   : HW_RTC_XTALDIVIDE_DIVCOUNT_WIDTH;
                             8354 ; 267  |         int RSVD0      : HW_RTC_XTALDIVIDE_RSVD0_WIDTH;
                             8355 ; 268  |    } B;
                             8356 ; 269  |    int I;
                             8357 ; 270  |    unsigned int U;
                             8358 ; 271  |} rtc_xtaldivide_type;
                             8359 ; 272  |#define HW_RTC_XTALDIVIDE   (*(volatile rtc_xtaldivide_type _X*) (HW_RTC_BASEADDR+6))  /* 
                                  RTC Xtal-clock Pre-Divider Word Register */
                             8360 ; 273  |/////////////////////////////////////////////////////////////////////////////////
                             8361 ; 274  |
                             8362 ; 275  |//  RTC PERSISTENT Register0 (HW_RTC_PERSISTENT0) Bit Definitions
                             8363 ; 276  |
                             8364 ; 277  |#define HW_RTC_PERSISTENT0_ALARMEN_BITPOS (0)
                             8365 ; 278  |#define HW_RTC_PERSISTENT0_ALARMWAKE_EN_BITPOS (1)
                             8366 ; 279  |#define HW_RTC_PERSISTENT0_ALARMWAKE_BITPOS (2)
                             8367 ; 280  |#define HW_RTC_PERSISTENT0_XTALPDOWN_BITPOS (3)
                             8368 ; 281  |#define HW_RTC_PERSISTENT0_RSVD0_BITPOS (4)
                             8369 ; 282  |
                             8370 ; 283  |#define HW_RTC_PERSISTENT0_ALARMEN_WIDTH (1)
                             8371 ; 284  |#define HW_RTC_PERSISTENT0_ALARMWAKE_EN_WIDTH (1)
                             8372 ; 285  |#define HW_RTC_PERSISTENT0_ALARMWAKE_WIDTH (1)
                             8373 ; 286  |#define HW_RTC_PERSISTENT0_XTALPDOWN_WIDTH (1)
                             8374 ; 287  |#define HW_RTC_PERSISTENT0_RSVD0_WIDTH (21)
                             8375 ; 288  |
                             8376 ; 289  |#define HW_RTC_PERSISTENT0_ALARMEN_SETMASK (((1<<HW_RTC_PERSISTENT0_ALARMEN_WIDTH)-1)<<HW_
                                  RTC_PERSISTENT0_ALARMEN_BITPOS) 
                             8377 ; 290  |#define HW_RTC_PERSISTENT0_ALARMWAKE_EN_SETMASK (((1<<HW_RTC_PERSISTENT0_ALARMWAKE_EN_WIDT
                                  H)-1)<<HW_RTC_PERSISTENT0_ALARMWAKE_EN_BITPOS)
                             8378 ; 291  |#define HW_RTC_PERSISTENT0_ALARMWAKE_SETMASK (((1<<HW_RTC_PERSISTENT0_ALARMWAKE_WIDTH)-1)<
                                  <HW_RTC_PERSISTENT0_ALARMWAKE_BITPOS) 
                             8379 ; 292  |#define HW_RTC_PERSISTENT0_XTALPDOWN_SETMASK (((1<<HW_RTC_PERSISTENT0_XTALPDOWN_WIDTH)-1)<
                                  <HW_RTC_PERSISTENT0_XTALPDOWN_BITPOS) 
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 143

M:ADDR CODE           CYCLES LINE SOURCELINE
                             8380 ; 293  |#define HW_RTC_PERSISTENT0_RSVD0_SETMASK (((1<<HW_RTC_PERSISTENT0_RSVD0_WIDTH)-1)<<HW_RTC_
                                  PERSISTENT0_RSVD0_BITPOS) 
                             8381 ; 294  |
                             8382 ; 295  |#define HW_RTC_PERSISTENT0_ALARMEN_CLRMASK (~(WORD)HW_RTC_PERSISTENT0_ALARMEN_SETMASK)
                             8383 ; 296  |#define HW_RTC_PERSISTENT0_ALARMWAKE_EN_CLRMASK (~(WORD)HW_RTC_PERSISTENT0_ALARMWAKE_EN_SE
                                  TMASK)
                             8384 ; 297  |#define HW_RTC_PERSISTENT0_ALARMWAKE_CLRMASK (~(WORD)HW_RTC_PERSISTENT0_ALARMWAKE_SETMASK)
                                  
                             8385 ; 298  |#define HW_RTC_PERSISTENT0_XTALPDOWN_CLRMASK (~(WORD)HW_RTC_PERSISTENT0_XTALPDOWN_SETMASK)
                                  
                             8386 ; 299  |#define HW_RTC_PERSISTENT0_RSVD0_CLRMASK (~(WORD)HW_RTC_PERSISTENT0_RSVD0_SETMASK)
                             8387 ; 300  |
                             8388 ; 301  |typedef union               
                             8389 ; 302  |{
                             8390 ; 303  |   struct {
                             8391 ; 304  |      int ALARMEN   : HW_RTC_PERSISTENT0_ALARMEN_WIDTH;
                             8392 ; 305  |           int ALARMWAKE_EN  :  HW_RTC_PERSISTENT0_ALARMWAKE_EN_WIDTH;
                             8393 ; 306  |      int ALARMWAKE : HW_RTC_PERSISTENT0_ALARMWAKE_WIDTH;
                             8394 ; 307  |      int XTALPDOWN : HW_RTC_PERSISTENT0_XTALPDOWN_WIDTH;
                             8395 ; 308  |      int RSVD0     : HW_RTC_PERSISTENT0_RSVD0_WIDTH;
                             8396 ; 309  |   } B;
                             8397 ; 310  |    int I;
                             8398 ; 311  |    unsigned int U;
                             8399 ; 312  |} rtc_PERSISTENT0_type;
                             8400 ; 313  |#define HW_RTC_PERSISTENT0   (*(volatile rtc_PERSISTENT0_type _X*) (HW_RTC_BASEADDR+7))  /
                                  * RTC PERSISTENT Register0 */
                             8401 ; 314  |
                             8402 ; 315  |/////////////////////////////////////////////////////////////////////////////////
                             8403 ; 316  |
                             8404 ; 317  |//  RTC PERSISTENT Register1 (HW_RTC_PERSISTENT1) Bit Definitions
                             8405 ; 318  |
                             8406 ; 319  |#define HW_RTC_PERSISTENT1_RSVD0_BITPOS (0)
                             8407 ; 320  |
                             8408 ; 321  |#define HW_RTC_PERSISTENT1_RSVD0_WIDTH (24)
                             8409 ; 322  |
                             8410 ; 323  |#define HW_RTC_PERSISTENT1_RSVD0_SETMASK (((1<<HW_RTC_PERSISTENT1_RSVD0_WIDTH)-1)<<HW_RTC_
                                  PERSISTENT1_RSVD0_BITPOS) 
                             8411 ; 324  |
                             8412 ; 325  |#define HW_RTC_PERSISTENT1_RSVD0_CLRMASK (~(WORD)HW_RTC_PERSISTENT1_RSVD0_SETMASK)
                             8413 ; 326  |
                             8414 ; 327  |
                             8415 ; 328  |typedef union               
                             8416 ; 329  |{
                             8417 ; 330  |    struct {
                             8418 ; 331  |         int RSVD0      : HW_RTC_PERSISTENT1_RSVD0_WIDTH;
                             8419 ; 332  |    } B;
                             8420 ; 333  |    int I;
                             8421 ; 334  |    unsigned int U;
                             8422 ; 335  |} rtc_PERSISTENT1_type;
                             8423 ; 336  |#define HW_RTC_PERSISTENT1   (*(volatile rtc_PERSISTENT1_type _X*) (HW_RTC_BASEADDR+8))  /
                                  * RTC PERSISTENT Register1 */
                             8424 ; 337  |
                             8425 ; 338  |
                             8426 ; 339  |#endif
                             8427 ; 340  |
                             8428 ; 341  |
                             8429 ; 342  |
                             8430 ; 343  |
                             8431 ; 344  |
                             8432 ; 345  |
                             8433 ; 346  |
                             8434 ; 347  |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 144

M:ADDR CODE           CYCLES LINE SOURCELINE
                             8435 ; 348  |
                             8436 ; 349  |
                             8437 ; 350  |
                             8438 ; 351  |
                             8439 ; 352  |
                             8440 ; 353  |
                             8441 
                             8443 
                             8444 ; 30   |#include "regsspare.h"
                             8445 
                             8447 
                             8448 ; 1    |#if !(defined(RESGSSPARE_INC))
                             8449 ; 2    |#define RESGSSPARE_INC 1
                             8450 ; 3    |
                             8451 ; 4    |#define HW_SPARER_BASEADDR (0xFA16)
                             8452 ; 5    |
                             8453 ; 6    |
                             8454 ; 7    |#define HW_SPARER_I2SS_BITPOS 0
                             8455 ; 8    |#define HW_SPARER_USB_SELECT_BITPOS 1
                             8456 ; 9    |#define HW_SPARER_USB_PLUGIN_BITPOS 8
                             8457 ; 10   |#define HW_SPARER_PSWITCH_BITPOS 9
                             8458 ; 11   |
                             8459 ; 12   |#define HW_SPARER_I2SS_SETMASK 1<<HW_SPARER_I2SS_BITPOS
                             8460 ; 13   |#define HW_SPARER_USB_SELECT_SETMASK 1<<HW_SPARER_USB_SELECT_BITPOS
                             8461 ; 14   |
                             8462 ; 15   |#define HW_SPARER_I2SS_CLRMASK ~(WORD)HW_SPARER_I2SS_SETMASK
                             8463 ; 16   |#define HW_SPARER_USB_SELECT_CLRMASK ~(WORD)HW_SPARER_USB_SELECT_SETMASK
                             8464 ; 17   |
                             8465 ; 18   |
                             8466 ; 19   |
                             8467 ; 20   |typedef union               
                             8468 ; 21   |{
                             8469 ; 22   |    struct {
                             8470 ; 23   |        int      I2SS       :1;     
                             8471 ; 24   |        int      USBSELECT  :1;     
                             8472 ; 25   |        unsigned            :6;
                             8473 ; 26   |        int      USBPLUGIN  :1;     
                             8474 ; 27   |        int      PSWITCH    :1;     
                             8475 ; 28   |    } B;
                             8476 ; 29   |
                             8477 ; 30   |    int I;
                             8478 ; 31   |
                             8479 ; 32   |} spare_type;
                             8480 ; 33   |#define HW_SPARER      (*(volatile spare_type _X*) (HW_SPARER_BASEADDR))
                             8481 ; 34   |
                             8482 ; 35   |
                             8483 ; 36   |
                             8484 ; 37   |#endif
                             8485 
                             8487 
                             8488 ; 31   |#include "regsspi.h"
                             8489 
                             8491 
                             8492 ; 1    |//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                             8493 ; 2    |//;; Copyright(C) SigmaTel, Inc. 2002-2003
                             8494 ; 3    |//;; Filename    : regsspi.inc
                             8495 ; 4    |//;; Description : Register definitions for SPI interface
                             8496 ; 5    |//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                             8497 ; 6    |
                             8498 ; 7    |/////////////////////////////////////////////////////////////////////////////////
                             8499 ; 8    |// The following naming conventions are followed in this file.
                             8500 ; 9    |// All registers are named using the format...
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 145

M:ADDR CODE           CYCLES LINE SOURCELINE
                             8501 ; 10   |//     HW_<module>_<regname>
                             8502 ; 11   |// where <module> is the module name which can be any of the following...
                             8503 ; 12   |//     USB20
                             8504 ; 13   |// (Note that when there is more than one copy of a particular module, the
                             8505 ; 14   |// module name includes a number starting from 0 for the first instance of
                             8506 ; 15   |// that module)
                             8507 ; 16   |// <regname> is the specific register within that module
                             8508 ; 17   |// We also define the following...
                             8509 ; 18   |//     HW_<module>_<regname>_BITPOS
                             8510 ; 19   |// which defines the starting bit (i.e. LSB) of a multi bit field
                             8511 ; 20   |//     HW_<module>_<regname>_SETMASK
                             8512 ; 21   |// which does something else, and
                             8513 ; 22   |//     HW_<module>_<regname>_CLRMASK
                             8514 ; 23   |// which does something else.
                             8515 ; 24   |// Other rules
                             8516 ; 25   |//     All caps
                             8517 ; 26   |//     Numeric identifiers start at 0
                             8518 ; 27   |#if !(defined(regsspiinc))
                             8519 ; 28   |#define regsspiinc 1
                             8520 ; 29   |
                             8521 ; 30   |#include "types.h"
                             8522 
                             8524 
                             8525 ; 1    |////////////////////////////////////////////////////////////////////////////////
                             8526 ; 2    |// Copyright(C) SigmaTel, Inc. 2000-2004
                             8527 ; 3    |//
                             8528 ; 4    |// Filename: types.h
                             8529 ; 5    |// Description: Standard data types
                             8530 ; 6    |////////////////////////////////////////////////////////////////////////////////
                             8531 ; 7    |
                             8532 ; 8    |#ifndef _TYPES_H
                             8533 ; 9    |#define _TYPES_H
                             8534 ; 10   |
                             8535 ; 11   |// TODO:  move this outta here!
                             8536 ; 12   |#if !defined(NOERROR)
                             8537 ; 13   |#define NOERROR 0
                             8538 ; 14   |#define SUCCESS 0
                             8539 ; 15   |#endif 
                             8540 ; 16   |#if !defined(SUCCESS)
                             8541 ; 17   |#define SUCCESS  0
                             8542 ; 18   |#endif
                             8543 ; 19   |#if !defined(ERROR)
                             8544 ; 20   |#define ERROR   -1
                             8545 ; 21   |#endif
                             8546 ; 22   |#if !defined(FALSE)
                             8547 ; 23   |#define FALSE 0
                             8548 ; 24   |#endif
                             8549 ; 25   |#if !defined(TRUE)
                             8550 ; 26   |#define TRUE  1
                             8551 ; 27   |#endif
                             8552 ; 28   |
                             8553 ; 29   |#if !defined(NULL)
                             8554 ; 30   |#define NULL 0
                             8555 ; 31   |#endif
                             8556 ; 32   |
                             8557 ; 33   |#define MAX_INT     0x7FFFFF
                             8558 ; 34   |#define MAX_LONG    0x7FFFFFffffff
                             8559 ; 35   |        // max positive unsigned long value: -1 == 0xFFFFFFffffff
                             8560 ; 36   |#define MAX_ULONG   (-1) 
                             8561 ; 37   |
                             8562 ; 38   |#define WORD_SIZE   24              // word size in bits
                             8563 ; 39   |#define BYTES_PER_WORD 3            // 8 bit bytes
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 146

M:ADDR CODE           CYCLES LINE SOURCELINE
                             8564 ; 40   |
                             8565 ; 41   |
                             8566 ; 42   |#define BYTE    unsigned char       // btVarName
                             8567 ; 43   |#define CHAR    signed char         // cVarName
                             8568 ; 44   |#define USHORT  unsigned short      // usVarName
                             8569 ; 45   |#define SHORT   unsigned short      // sVarName
                             8570 ; 46   |#define WORD    unsigned int        // wVarName
                             8571 ; 47   |#define INT     signed int          // iVarName
                             8572 ; 48   |#define DWORD   unsigned long       // dwVarName
                             8573 ; 49   |#define LONG    signed long         // lVarName
                             8574 ; 50   |#define BOOL    unsigned int        // bVarName
                             8575 ; 51   |#define FRACT   _fract              // frVarName
                             8576 ; 52   |#define LFRACT  long _fract         // lfrVarName
                             8577 ; 53   |#define CIRC    _circ               // cp<type prefix>VarName (see below)
                             8578 ; 54   |#define FLOAT   float               // fVarName
                             8579 ; 55   |#define DBL     double              // dVarName
                             8580 ; 56   |#define ENUM    enum                // eVarName
                             8581 ; 57   |#define CMX     _complex            // cmxVarName
                             8582 ; 58   |typedef WORD UCS3;                   // 
                             8583 ; 59   |
                             8584 ; 60   |#define UINT16  unsigned short
                             8585 ; 61   |#define UINT8   unsigned char   
                             8586 ; 62   |#define UINT32  unsigned long
                             8587 ; 63   |#define UINT64  unsigned long   // need to figure out how to do 64 bit values.  Or port ex
                                  isiting code to only use 48 bit
                             8588 ; 64   |#define INT64   unsigned long   // need to figure out how to do 64 bit values.  Or port ex
                                  isiting code to only use 48 bit
                             8589 ; 65   |#define WCHAR   UINT16
                             8590 ; 66   |
                             8591 ; 67   |//UINT128 is 16 bytes or 6 words
                             8592 ; 68   |typedef struct UINT128_3500 {   
                             8593 ; 69   |    int val[6];     
                             8594 ; 70   |} UINT128_3500;
                             8595 ; 71   |
                             8596 ; 72   |#define UINT128   UINT128_3500
                             8597 ; 73   |
                             8598 ; 74   |// Little endian word packed byte strings:   
                             8599 ; 75   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                             8600 ; 76   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                             8601 ; 77   |// Little endian word packed byte strings:   
                             8602 ; 78   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                             8603 ; 79   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                             8604 ; 80   |
                             8605 ; 81   |// Declare Memory Spaces To Use When Coding
                             8606 ; 82   |// A. Sector Buffers
                             8607 ; 83   |#define SECTOR_BUFFER_MEM_X _X
                             8608 ; 84   |#define SECTOR_BUFFER_MEM_Y _Y
                             8609 ; 85   |#define SECTOR_BUFFER_MEM SECTOR_BUFFER_MEM_X
                             8610 ; 86   |typedef WORD SECTOR_BUFFER_MEM SECTOR_BUFFER;
                             8611 ; 87   |typedef SECTOR_BUFFER * P_SECTOR_BUFFER;
                             8612 ; 88   |// B. Media DDI Memory
                             8613 ; 89   |#define MEDIA_DDI_MEM _Y
                             8614 ; 90   |
                             8615 ; 91   |
                             8616 ; 92   |
                             8617 ; 93   |// Pointers to linear structures are labeled as: p<type prefix>VarName
                             8618 ; 94   |// Examples of circular pointers:
                             8619 ; 95   |//    INT CIRC cpiVarName
                             8620 ; 96   |//    DWORD CIRC cpdwVarName
                             8621 ; 97   |
                             8622 ; 98   |#define RETCODE INT                 // rcVarName
                             8623 ; 99   |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 147

M:ADDR CODE           CYCLES LINE SOURCELINE
                             8624 ; 100  |// generic bitfield structure
                             8625 ; 101  |struct Bitfield {
                             8626 ; 102  |    unsigned int B0  :1;
                             8627 ; 103  |    unsigned int B1  :1;
                             8628 ; 104  |    unsigned int B2  :1;
                             8629 ; 105  |    unsigned int B3  :1;
                             8630 ; 106  |    unsigned int B4  :1;
                             8631 ; 107  |    unsigned int B5  :1;
                             8632 ; 108  |    unsigned int B6  :1;
                             8633 ; 109  |    unsigned int B7  :1;
                             8634 ; 110  |    unsigned int B8  :1;
                             8635 ; 111  |    unsigned int B9  :1;
                             8636 ; 112  |    unsigned int B10 :1;
                             8637 ; 113  |    unsigned int B11 :1;
                             8638 ; 114  |    unsigned int B12 :1;
                             8639 ; 115  |    unsigned int B13 :1;
                             8640 ; 116  |    unsigned int B14 :1;
                             8641 ; 117  |    unsigned int B15 :1;
                             8642 ; 118  |    unsigned int B16 :1;
                             8643 ; 119  |    unsigned int B17 :1;
                             8644 ; 120  |    unsigned int B18 :1;
                             8645 ; 121  |    unsigned int B19 :1;
                             8646 ; 122  |    unsigned int B20 :1;
                             8647 ; 123  |    unsigned int B21 :1;
                             8648 ; 124  |    unsigned int B22 :1;
                             8649 ; 125  |    unsigned int B23 :1;
                             8650 ; 126  |};
                             8651 ; 127  |
                             8652 ; 128  |union BitInt {
                             8653 ; 129  |        struct Bitfield B;
                             8654 ; 130  |        int        I;
                             8655 ; 131  |};
                             8656 ; 132  |
                             8657 ; 133  |#define MAX_MSG_LENGTH 10
                             8658 ; 134  |struct CMessage
                             8659 ; 135  |{
                             8660 ; 136  |        unsigned int m_uLength;
                             8661 ; 137  |        unsigned int m_uMsg[MAX_MSG_LENGTH];
                             8662 ; 138  |};
                             8663 ; 139  |
                             8664 ; 140  |typedef struct {
                             8665 ; 141  |    WORD m_wLength;
                             8666 ; 142  |    WORD m_wMessage;
                             8667 ; 143  |    WORD m_wParams[MAX_MSG_LENGTH];
                             8668 ; 144  |} Message;
                             8669 ; 145  |
                             8670 ; 146  |struct MessageQueueDescriptor
                             8671 ; 147  |{
                             8672 ; 148  |        int *m_pBase;
                             8673 ; 149  |        int m_iModulo;
                             8674 ; 150  |        int m_iSize;
                             8675 ; 151  |        int *m_pHead;
                             8676 ; 152  |        int *m_pTail;
                             8677 ; 153  |};
                             8678 ; 154  |
                             8679 ; 155  |struct ModuleEntry
                             8680 ; 156  |{
                             8681 ; 157  |    int m_iSignaledEventMask;
                             8682 ; 158  |    int m_iWaitEventMask;
                             8683 ; 159  |    int m_iResourceOfCode;
                             8684 ; 160  |    struct MessageQueueDescriptor *m_pMessageQueue;
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 148

M:ADDR CODE           CYCLES LINE SOURCELINE
                             8685 ; 161  |    int _asmfunc (*m_pProcessEntryPoint)(union WaitMask Signals,struct MessageQueueDescrip
                                  tor *);
                             8686 ; 162  |    int _asmfunc (*m_pInitFunction)(struct MessageQueueDescriptor *);
                             8687 ; 163  |    int m_uTimeOutHigh;
                             8688 ; 164  |    int m_uTimeOutLow;
                             8689 ; 165  |    int _asmfunc (*m_pBackgroundFunction)(struct MessageQueueDescriptor *);
                             8690 ; 166  |};
                             8691 ; 167  |
                             8692 ; 168  |union WaitMask{
                             8693 ; 169  |    struct B{
                             8694 ; 170  |        unsigned int m_bNone     :1;
                             8695 ; 171  |        unsigned int m_bMessage  :1;
                             8696 ; 172  |        unsigned int m_bTimer    :1;
                             8697 ; 173  |        unsigned int m_bButton   :1;
                             8698 ; 174  |    } B;
                             8699 ; 175  |    int I;
                             8700 ; 176  |} ;
                             8701 ; 177  |
                             8702 ; 178  |
                             8703 ; 179  |struct Button {
                             8704 ; 180  |        WORD wButtonEvent;
                             8705 ; 181  |        WORD wUnused[MAX_MSG_LENGTH];   
                             8706 ; 182  |};
                             8707 ; 183  |
                             8708 ; 184  |struct Message {
                             8709 ; 185  |        WORD wMsgLength;
                             8710 ; 186  |        WORD wMsgCommand;
                             8711 ; 187  |        WORD wMsgParms[MAX_MSG_LENGTH-1];
                             8712 ; 188  |};
                             8713 ; 189  |
                             8714 ; 190  |union EventTypes {
                             8715 ; 191  |        struct CMessage msg;
                             8716 ; 192  |        struct Button Button ;
                             8717 ; 193  |        struct Message Message;
                             8718 ; 194  |};
                             8719 ; 195  |
                             8720 ; 196  |// next 2 used to get updater build to return correct protocol ver in scsi response.
                             8721 ; 197  |#define BUILD_TYPE_UPDATER  0x100
                             8722 ; 198  |#define BUILD_TYPE_HOSTLINK 0x101
                             8723 ; 199  |#define BUILD_TYPE_PLAYER   0x102
                             8724 ; 200  |
                             8725 ; 201  |// Resets part if RETAIL build. DEBUG build executes debug instruction to halt.
                             8726 ; 202  |#define SystemHalt() __asm(" include 'sysmacro.asm' \n error") 
                             8727 ; 203  |#define assert(x)    if(!(x)) __asm(" include 'sysmacro.asm' \n error")
                             8728 ; 204  |
                             8729 ; 205  |#if DEBUG
                             8730 ; 206  |// For DEBUG builds, DebugBuildAssert(condition) halts if condition evaluates to FALSE. 
                             8731 ; 207  |#define DebugBuildAssert(x)    if(!(x)) __asm(" debug ")
                             8732 ; 208  |#else 
                             8733 ; 209  |// For RETAIL builds, DebugBuildAssert(condition) does nothing & execution continues rathe
                                  r than halt or reset. 
                             8734 ; 210  |#define DebugBuildAssert(x)    
                             8735 ; 211  |#endif
                             8736 ; 212  |
                             8737 ; 213  |// Do this in your C files to make a reminder that's displayed during the build.
                             8738 ; 214  |//  #pragma asm
                             8739 ; 215  |//  WARN 'Note to builder: reminder to do this after verifying that'
                             8740 ; 216  |//  #pragma endasm
                             8741 ; 217  |
                             8742 ; 218  |
                             8743 ; 219  |#ifdef COLOR_262K
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 149

M:ADDR CODE           CYCLES LINE SOURCELINE
                             8744 ; 220  |#define RGB(r,g,b)    ((0x0000FC & (r)) << 10) | ((0x0000FC & (g)) << 4) | ((0x0000FC & (b
                                  )) >> 2)    //262k
                             8745 ; 221  |#elif defined(COLOR_65K)
                             8746 ; 222  |#define RGB(r,g,b)    ((0x0000F8 & (r)) << 8) | ((0x0000FC & (g)) << 3) | ((0x0000F8 & (b)
                                  ) >> 3)  //65k
                             8747 ; 223  |#else
                             8748 ; 224  |#define RGB(r,g,b)       ((0x0000F0 & (r)) << 4) | (0x0000F0 & (g)) | ((0x0000F0 & (b)) >>
                                   4)
                             8749 ; 225  |#endif
                             8750 ; 226  |    
                             8751 ; 227  |#endif // #ifndef _TYPES_H
                             8752 
                             8754 
                             8755 ; 31   |
                             8756 ; 32   |//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                             8757 ; 33   |
                             8758 ; 34   |//   SPI STMP3500 Registers 
                             8759 ; 35   |//   Last Updated 7.7.2003 Dave Dyches
                             8760 ; 36   |//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                             8761 ; 37   |
                             8762 ; 38   |#define HW_SPI_BASEADDR (0xFFF9)
                             8763 ; 39   |
                             8764 ; 40   |
                             8765 ; 41   |
                             8766 ; 42   |// /////////////////////////////////////////////
                             8767 ; 43   |// //  SPI Control/Status Register Bit Definitions
                             8768 ; 44   |#define HW_SPCSR_SPE_BITPOS (0)
                             8769 ; 45   |#define HW_SPCSR_MSTR_BITPOS (1)
                             8770 ; 46   |#define HW_SPCSR_SPIE_BITPOS (2)
                             8771 ; 47   |#define HW_SPCSR_CPOL_BITPOS (3)
                             8772 ; 48   |#define HW_SPCSR_CPHA_BITPOS (4)
                             8773 ; 49   |#define HW_SPCSR_SPIF_BITPOS (5)
                             8774 ; 50   |#define HW_SPCSR_WCOL_BITPOS (6)
                             8775 ; 51   |#define HW_SPCSR_MODF_BITPOS (7)
                             8776 ; 52   |#define HW_SPCSR_DIV_BITPOS (8)
                             8777 ; 53   |#define HW_SPCSR_RSVD_BITPOS (16)
                             8778 ; 54   |
                             8779 ; 55   |#define HW_SPCSR_SPE_WIDTH (1)
                             8780 ; 56   |#define HW_SPCSR_MSTR_WIDTH (1)
                             8781 ; 57   |#define HW_SPCSR_SPIE_WIDTH (1)
                             8782 ; 58   |#define HW_SPCSR_CPOL_WIDTH (1)
                             8783 ; 59   |#define HW_SPCSR_CPHA_WIDTH (1)
                             8784 ; 60   |#define HW_SPCSR_SPIF_WIDTH (1)
                             8785 ; 61   |#define HW_SPCSR_WCOL_WIDTH (1)
                             8786 ; 62   |#define HW_SPCSR_MODF_WIDTH (1)
                             8787 ; 63   |#define HW_SPCSR_DIV_WIDTH (8)
                             8788 ; 64   |#define HW_SPCSR_RSVD_WIDTH (8)
                             8789 ; 65   |
                             8790 ; 66   |#define HW_SPCSR_SPE_SETMASK (((1<<HW_SPCSR_SPE_WIDTH)-1)<<HW_SPCSR_SPE_BITPOS)
                             8791 ; 67   |#define HW_SPCSR_MSTR_SETMASK (((1<<HW_SPCSR_MSTR_WIDTH)-1)<<HW_SPCSR_MSTR_BITPOS)
                             8792 ; 68   |#define HW_SPCSR_SPIE_SETMASK (((1<<HW_SPCSR_SPIE_WIDTH)-1)<<HW_SPCSR_SPIE_BITPOS)
                             8793 ; 69   |#define HW_SPCSR_CPOL_SETMASK (((1<<HW_SPCSR_CPOL_WIDTH)-1)<<HW_SPCSR_CPOL_BITPOS)
                             8794 ; 70   |#define HW_SPCSR_CPHA_SETMASK (((1<<HW_SPCSR_CPHA_WIDTH)-1)<<HW_SPCSR_CPHA_BITPOS)
                             8795 ; 71   |#define HW_SPCSR_SPIF_SETMASK (((1<<HW_SPCSR_SPIF_WIDTH)-1)<<HW_SPCSR_SPIF_BITPOS)
                             8796 ; 72   |#define HW_SPCSR_WCOL_SETMASK (((1<<HW_SPCSR_WCOL_WIDTH)-1)<<HW_SPCSR_WCOL_BITPOS)
                             8797 ; 73   |#define HW_SPCSR_MODF_SETMASK (((1<<HW_SPCSR_MODF_WIDTH)-1)<<HW_SPCSR_MODF_BITPOS)
                             8798 ; 74   |#define HW_SPCSR_DIV_SETMASK (((1<<HW_SPCSR_DIV_WIDTH)-1)<<HW_SPCSR_DIV_BITPOS)
                             8799 ; 75   |#define HW_SPCSR_RSVD_SETMASK (((1<<HW_SPCSR_RSVD_WIDTH)-1)<<HW_SPCSR_RSVD_BITPOS)
                             8800 ; 76   |
                             8801 ; 77   |#define HW_SPCSR_SPE_CLRMASK (~(WORD)HW_SPCSR_SPE_SETMASK)
                             8802 ; 78   |#define HW_SPCSR_MSTR_CLRMASK (~(WORD)HW_SPCSR_MSTR_SETMASK)
                             8803 ; 79   |#define HW_SPCSR_SPIE_CLRMASK (~(WORD)HW_SPCSR_SPIE_SETMASK)
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 150

M:ADDR CODE           CYCLES LINE SOURCELINE
                             8804 ; 80   |#define HW_SPCSR_CPOL_CLRMASK (~(WORD)HW_SPCSR_CPOL_SETMASK)
                             8805 ; 81   |#define HW_SPCSR_CPHA_CLRMASK (~(WORD)HW_SPCSR_CPHA_SETMASK)
                             8806 ; 82   |#define HW_SPCSR_SPIF_CLRMASK (~(WORD)HW_SPCSR_SPIF_SETMASK)
                             8807 ; 83   |#define HW_SPCSR_WCOL_CLRMASK (~(WORD)HW_SPCSR_WCOL_SETMASK)
                             8808 ; 84   |#define HW_SPCSR_MODF_CLRMASK (~(WORD)HW_SPCSR_MODF_SETMASK)
                             8809 ; 85   |#define HW_SPCSR_DIV_CLRMASK (~(WORD)HW_SPCSR_DIV_SETMASK)
                             8810 ; 86   |#define HW_SPCSR_RSVD_CLRMASK (~(WORD)HW_SPCSR_RSVD_SETMASK)
                             8811 ; 87   |
                             8812 ; 88   |typedef union               
                             8813 ; 89   |{
                             8814 ; 90   |    struct {
                             8815 ; 91   |        int SPE                 : HW_SPCSR_SPE_WIDTH;    
                             8816 ; 92   |        int MSTR                : HW_SPCSR_MSTR_WIDTH;
                             8817 ; 93   |        int SPIE                    : HW_SPCSR_SPIE_WIDTH;
                             8818 ; 94   |        int CPOL                : HW_SPCSR_CPOL_WIDTH;
                             8819 ; 95   |        int CPHA                : HW_SPCSR_CPHA_WIDTH;
                             8820 ; 96   |        int SPIF                : HW_SPCSR_SPIF_WIDTH;
                             8821 ; 97   |        int WCOL                    : HW_SPCSR_WCOL_WIDTH;
                             8822 ; 98   |        int MODF                : HW_SPCSR_MODF_WIDTH;
                             8823 ; 99   |        int DIV                 : HW_SPCSR_DIV_WIDTH;
                             8824 ; 100  |    } B;
                             8825 ; 101  |
                             8826 ; 102  |    int I;
                             8827 ; 103  |    unsigned int U;
                             8828 ; 104  |} spcsr_type;
                             8829 ; 105  |#define HW_SPCSR      (*(volatile spcsr_type _X*) (HW_SPI_BASEADDR))    /* SPI Control / S
                                  tatus Register */
                             8830 ; 106  |
                             8831 ; 107  |// /////////////////////////////////////////////
                             8832 ; 108  |// //  SPI Data Register Bit Definitions
                             8833 ; 109  |#define HW_SPDR_SPIDATA_BITPOS (0)
                             8834 ; 110  |#define HW_SPDR_RSVD_BITPOS (8)
                             8835 ; 111  |
                             8836 ; 112  |#define HW_SPDR_SPIDATA_WIDTH (8)
                             8837 ; 113  |#define HW_SPDR_RSVD_WIDTH (16)
                             8838 ; 114  |
                             8839 ; 115  |#define HW_SPDR_SPIDATA_SETMASK (((1<<HW_SPDR_SPIDATA_WIDTH)-1)<<HW_SPDR_SPIDATA_BITPOS)
                             8840 ; 116  |#define HW_SPDR_RSVD_SETMASK (((1<<HW_SPDR_RSVD_WIDTH)-1)<<HW_SPDR_RSVD_BITPOS)
                             8841 ; 117  |
                             8842 ; 118  |#define HW_SPDR_SPIDATA_CLRMASK (~(WORD)HW_SPDR_SPIDATA_SETMASK) 
                             8843 ; 119  |#define HW_SPDR_RSVD_CLRMASK (~(WORD)HW_SPDR_RSVD_SETMASK)
                             8844 ; 120  |
                             8845 ; 121  |typedef union               
                             8846 ; 122  |{
                             8847 ; 123  |    struct {
                             8848 ; 124  |        int SPIDATA                     : HW_SPDR_SPIDATA_WIDTH;
                             8849 ; 125  |    } B;
                             8850 ; 126  |
                             8851 ; 127  |    int I;
                             8852 ; 128  |    unsigned int U;
                             8853 ; 129  |} spdr_type;
                             8854 ; 130  |#define HW_SPDR      (*(volatile spdr_type _X*) (HW_SPI_BASEADDR+1))    /* SPI Data Regist
                                  er */
                             8855 ; 131  |
                             8856 ; 132  |
                             8857 ; 133  |#endif
                             8858 ; 134  |
                             8859 ; 135  |
                             8860 
                             8862 
                             8863 ; 32   |#include "regsswizzle.h"
                             8864 
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 151

M:ADDR CODE           CYCLES LINE SOURCELINE
                             8866 
                             8867 ; 1    |//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                             8868 ; 2    |//;; Copyright(C) SigmaTel, Inc. 2002-2003
                             8869 ; 3    |//;; Filename    : regsswizzle.inc
                             8870 ; 4    |//;; Description : Register definitions for Swizzle interface
                             8871 ; 5    |//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                             8872 ; 6    |
                             8873 ; 7    |/////////////////////////////////////////////////////////////////////////////////
                             8874 ; 8    |// The following naming conventions are followed in this file.
                             8875 ; 9    |// All registers are named using the format...
                             8876 ; 10   |//     HW_<module>_<regname>
                             8877 ; 11   |// where <module> is the module name which can be any of the following...
                             8878 ; 12   |//     USB20
                             8879 ; 13   |// (Note that when there is more than one copy of a particular module, the
                             8880 ; 14   |// module name includes a number starting from 0 for the first instance of
                             8881 ; 15   |// that module)
                             8882 ; 16   |// <regname> is the specific register within that module
                             8883 ; 17   |// We also define the following...
                             8884 ; 18   |//     HW_<module>_<regname>_BITPOS
                             8885 ; 19   |// which defines the starting bit (i.e. LSB) of a multi bit field
                             8886 ; 20   |//     HW_<module>_<regname>_SETMASK
                             8887 ; 21   |// which does something else, and
                             8888 ; 22   |//     HW_<module>_<regname>_CLRMASK
                             8889 ; 23   |// which does something else.
                             8890 ; 24   |// Other rules
                             8891 ; 25   |//     All caps
                             8892 ; 26   |//     Numeric identifiers start at 0
                             8893 ; 27   |#if !(defined(regsswizzleinc))
                             8894 ; 28   |#define regsswizzleinc 1
                             8895 ; 29   |
                             8896 ; 30   |#include "types.h"
                             8897 
                             8899 
                             8900 ; 1    |////////////////////////////////////////////////////////////////////////////////
                             8901 ; 2    |// Copyright(C) SigmaTel, Inc. 2000-2004
                             8902 ; 3    |//
                             8903 ; 4    |// Filename: types.h
                             8904 ; 5    |// Description: Standard data types
                             8905 ; 6    |////////////////////////////////////////////////////////////////////////////////
                             8906 ; 7    |
                             8907 ; 8    |#ifndef _TYPES_H
                             8908 ; 9    |#define _TYPES_H
                             8909 ; 10   |
                             8910 ; 11   |// TODO:  move this outta here!
                             8911 ; 12   |#if !defined(NOERROR)
                             8912 ; 13   |#define NOERROR 0
                             8913 ; 14   |#define SUCCESS 0
                             8914 ; 15   |#endif 
                             8915 ; 16   |#if !defined(SUCCESS)
                             8916 ; 17   |#define SUCCESS  0
                             8917 ; 18   |#endif
                             8918 ; 19   |#if !defined(ERROR)
                             8919 ; 20   |#define ERROR   -1
                             8920 ; 21   |#endif
                             8921 ; 22   |#if !defined(FALSE)
                             8922 ; 23   |#define FALSE 0
                             8923 ; 24   |#endif
                             8924 ; 25   |#if !defined(TRUE)
                             8925 ; 26   |#define TRUE  1
                             8926 ; 27   |#endif
                             8927 ; 28   |
                             8928 ; 29   |#if !defined(NULL)
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 152

M:ADDR CODE           CYCLES LINE SOURCELINE
                             8929 ; 30   |#define NULL 0
                             8930 ; 31   |#endif
                             8931 ; 32   |
                             8932 ; 33   |#define MAX_INT     0x7FFFFF
                             8933 ; 34   |#define MAX_LONG    0x7FFFFFffffff
                             8934 ; 35   |        // max positive unsigned long value: -1 == 0xFFFFFFffffff
                             8935 ; 36   |#define MAX_ULONG   (-1) 
                             8936 ; 37   |
                             8937 ; 38   |#define WORD_SIZE   24              // word size in bits
                             8938 ; 39   |#define BYTES_PER_WORD 3            // 8 bit bytes
                             8939 ; 40   |
                             8940 ; 41   |
                             8941 ; 42   |#define BYTE    unsigned char       // btVarName
                             8942 ; 43   |#define CHAR    signed char         // cVarName
                             8943 ; 44   |#define USHORT  unsigned short      // usVarName
                             8944 ; 45   |#define SHORT   unsigned short      // sVarName
                             8945 ; 46   |#define WORD    unsigned int        // wVarName
                             8946 ; 47   |#define INT     signed int          // iVarName
                             8947 ; 48   |#define DWORD   unsigned long       // dwVarName
                             8948 ; 49   |#define LONG    signed long         // lVarName
                             8949 ; 50   |#define BOOL    unsigned int        // bVarName
                             8950 ; 51   |#define FRACT   _fract              // frVarName
                             8951 ; 52   |#define LFRACT  long _fract         // lfrVarName
                             8952 ; 53   |#define CIRC    _circ               // cp<type prefix>VarName (see below)
                             8953 ; 54   |#define FLOAT   float               // fVarName
                             8954 ; 55   |#define DBL     double              // dVarName
                             8955 ; 56   |#define ENUM    enum                // eVarName
                             8956 ; 57   |#define CMX     _complex            // cmxVarName
                             8957 ; 58   |typedef WORD UCS3;                   // 
                             8958 ; 59   |
                             8959 ; 60   |#define UINT16  unsigned short
                             8960 ; 61   |#define UINT8   unsigned char   
                             8961 ; 62   |#define UINT32  unsigned long
                             8962 ; 63   |#define UINT64  unsigned long   // need to figure out how to do 64 bit values.  Or port ex
                                  isiting code to only use 48 bit
                             8963 ; 64   |#define INT64   unsigned long   // need to figure out how to do 64 bit values.  Or port ex
                                  isiting code to only use 48 bit
                             8964 ; 65   |#define WCHAR   UINT16
                             8965 ; 66   |
                             8966 ; 67   |//UINT128 is 16 bytes or 6 words
                             8967 ; 68   |typedef struct UINT128_3500 {   
                             8968 ; 69   |    int val[6];     
                             8969 ; 70   |} UINT128_3500;
                             8970 ; 71   |
                             8971 ; 72   |#define UINT128   UINT128_3500
                             8972 ; 73   |
                             8973 ; 74   |// Little endian word packed byte strings:   
                             8974 ; 75   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                             8975 ; 76   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                             8976 ; 77   |// Little endian word packed byte strings:   
                             8977 ; 78   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                             8978 ; 79   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                             8979 ; 80   |
                             8980 ; 81   |// Declare Memory Spaces To Use When Coding
                             8981 ; 82   |// A. Sector Buffers
                             8982 ; 83   |#define SECTOR_BUFFER_MEM_X _X
                             8983 ; 84   |#define SECTOR_BUFFER_MEM_Y _Y
                             8984 ; 85   |#define SECTOR_BUFFER_MEM SECTOR_BUFFER_MEM_X
                             8985 ; 86   |typedef WORD SECTOR_BUFFER_MEM SECTOR_BUFFER;
                             8986 ; 87   |typedef SECTOR_BUFFER * P_SECTOR_BUFFER;
                             8987 ; 88   |// B. Media DDI Memory
                             8988 ; 89   |#define MEDIA_DDI_MEM _Y
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 153

M:ADDR CODE           CYCLES LINE SOURCELINE
                             8989 ; 90   |
                             8990 ; 91   |
                             8991 ; 92   |
                             8992 ; 93   |// Pointers to linear structures are labeled as: p<type prefix>VarName
                             8993 ; 94   |// Examples of circular pointers:
                             8994 ; 95   |//    INT CIRC cpiVarName
                             8995 ; 96   |//    DWORD CIRC cpdwVarName
                             8996 ; 97   |
                             8997 ; 98   |#define RETCODE INT                 // rcVarName
                             8998 ; 99   |
                             8999 ; 100  |// generic bitfield structure
                             9000 ; 101  |struct Bitfield {
                             9001 ; 102  |    unsigned int B0  :1;
                             9002 ; 103  |    unsigned int B1  :1;
                             9003 ; 104  |    unsigned int B2  :1;
                             9004 ; 105  |    unsigned int B3  :1;
                             9005 ; 106  |    unsigned int B4  :1;
                             9006 ; 107  |    unsigned int B5  :1;
                             9007 ; 108  |    unsigned int B6  :1;
                             9008 ; 109  |    unsigned int B7  :1;
                             9009 ; 110  |    unsigned int B8  :1;
                             9010 ; 111  |    unsigned int B9  :1;
                             9011 ; 112  |    unsigned int B10 :1;
                             9012 ; 113  |    unsigned int B11 :1;
                             9013 ; 114  |    unsigned int B12 :1;
                             9014 ; 115  |    unsigned int B13 :1;
                             9015 ; 116  |    unsigned int B14 :1;
                             9016 ; 117  |    unsigned int B15 :1;
                             9017 ; 118  |    unsigned int B16 :1;
                             9018 ; 119  |    unsigned int B17 :1;
                             9019 ; 120  |    unsigned int B18 :1;
                             9020 ; 121  |    unsigned int B19 :1;
                             9021 ; 122  |    unsigned int B20 :1;
                             9022 ; 123  |    unsigned int B21 :1;
                             9023 ; 124  |    unsigned int B22 :1;
                             9024 ; 125  |    unsigned int B23 :1;
                             9025 ; 126  |};
                             9026 ; 127  |
                             9027 ; 128  |union BitInt {
                             9028 ; 129  |        struct Bitfield B;
                             9029 ; 130  |        int        I;
                             9030 ; 131  |};
                             9031 ; 132  |
                             9032 ; 133  |#define MAX_MSG_LENGTH 10
                             9033 ; 134  |struct CMessage
                             9034 ; 135  |{
                             9035 ; 136  |        unsigned int m_uLength;
                             9036 ; 137  |        unsigned int m_uMsg[MAX_MSG_LENGTH];
                             9037 ; 138  |};
                             9038 ; 139  |
                             9039 ; 140  |typedef struct {
                             9040 ; 141  |    WORD m_wLength;
                             9041 ; 142  |    WORD m_wMessage;
                             9042 ; 143  |    WORD m_wParams[MAX_MSG_LENGTH];
                             9043 ; 144  |} Message;
                             9044 ; 145  |
                             9045 ; 146  |struct MessageQueueDescriptor
                             9046 ; 147  |{
                             9047 ; 148  |        int *m_pBase;
                             9048 ; 149  |        int m_iModulo;
                             9049 ; 150  |        int m_iSize;
                             9050 ; 151  |        int *m_pHead;
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 154

M:ADDR CODE           CYCLES LINE SOURCELINE
                             9051 ; 152  |        int *m_pTail;
                             9052 ; 153  |};
                             9053 ; 154  |
                             9054 ; 155  |struct ModuleEntry
                             9055 ; 156  |{
                             9056 ; 157  |    int m_iSignaledEventMask;
                             9057 ; 158  |    int m_iWaitEventMask;
                             9058 ; 159  |    int m_iResourceOfCode;
                             9059 ; 160  |    struct MessageQueueDescriptor *m_pMessageQueue;
                             9060 ; 161  |    int _asmfunc (*m_pProcessEntryPoint)(union WaitMask Signals,struct MessageQueueDescrip
                                  tor *);
                             9061 ; 162  |    int _asmfunc (*m_pInitFunction)(struct MessageQueueDescriptor *);
                             9062 ; 163  |    int m_uTimeOutHigh;
                             9063 ; 164  |    int m_uTimeOutLow;
                             9064 ; 165  |    int _asmfunc (*m_pBackgroundFunction)(struct MessageQueueDescriptor *);
                             9065 ; 166  |};
                             9066 ; 167  |
                             9067 ; 168  |union WaitMask{
                             9068 ; 169  |    struct B{
                             9069 ; 170  |        unsigned int m_bNone     :1;
                             9070 ; 171  |        unsigned int m_bMessage  :1;
                             9071 ; 172  |        unsigned int m_bTimer    :1;
                             9072 ; 173  |        unsigned int m_bButton   :1;
                             9073 ; 174  |    } B;
                             9074 ; 175  |    int I;
                             9075 ; 176  |} ;
                             9076 ; 177  |
                             9077 ; 178  |
                             9078 ; 179  |struct Button {
                             9079 ; 180  |        WORD wButtonEvent;
                             9080 ; 181  |        WORD wUnused[MAX_MSG_LENGTH];   
                             9081 ; 182  |};
                             9082 ; 183  |
                             9083 ; 184  |struct Message {
                             9084 ; 185  |        WORD wMsgLength;
                             9085 ; 186  |        WORD wMsgCommand;
                             9086 ; 187  |        WORD wMsgParms[MAX_MSG_LENGTH-1];
                             9087 ; 188  |};
                             9088 ; 189  |
                             9089 ; 190  |union EventTypes {
                             9090 ; 191  |        struct CMessage msg;
                             9091 ; 192  |        struct Button Button ;
                             9092 ; 193  |        struct Message Message;
                             9093 ; 194  |};
                             9094 ; 195  |
                             9095 ; 196  |// next 2 used to get updater build to return correct protocol ver in scsi response.
                             9096 ; 197  |#define BUILD_TYPE_UPDATER  0x100
                             9097 ; 198  |#define BUILD_TYPE_HOSTLINK 0x101
                             9098 ; 199  |#define BUILD_TYPE_PLAYER   0x102
                             9099 ; 200  |
                             9100 ; 201  |// Resets part if RETAIL build. DEBUG build executes debug instruction to halt.
                             9101 ; 202  |#define SystemHalt() __asm(" include 'sysmacro.asm' \n error") 
                             9102 ; 203  |#define assert(x)    if(!(x)) __asm(" include 'sysmacro.asm' \n error")
                             9103 ; 204  |
                             9104 ; 205  |#if DEBUG
                             9105 ; 206  |// For DEBUG builds, DebugBuildAssert(condition) halts if condition evaluates to FALSE. 
                             9106 ; 207  |#define DebugBuildAssert(x)    if(!(x)) __asm(" debug ")
                             9107 ; 208  |#else 
                             9108 ; 209  |// For RETAIL builds, DebugBuildAssert(condition) does nothing & execution continues rathe
                                  r than halt or reset. 
                             9109 ; 210  |#define DebugBuildAssert(x)    
                             9110 ; 211  |#endif
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 155

M:ADDR CODE           CYCLES LINE SOURCELINE
                             9111 ; 212  |
                             9112 ; 213  |// Do this in your C files to make a reminder that's displayed during the build.
                             9113 ; 214  |//  #pragma asm
                             9114 ; 215  |//  WARN 'Note to builder: reminder to do this after verifying that'
                             9115 ; 216  |//  #pragma endasm
                             9116 ; 217  |
                             9117 ; 218  |
                             9118 ; 219  |#ifdef COLOR_262K
                             9119 ; 220  |#define RGB(r,g,b)    ((0x0000FC & (r)) << 10) | ((0x0000FC & (g)) << 4) | ((0x0000FC & (b
                                  )) >> 2)    //262k
                             9120 ; 221  |#elif defined(COLOR_65K)
                             9121 ; 222  |#define RGB(r,g,b)    ((0x0000F8 & (r)) << 8) | ((0x0000FC & (g)) << 3) | ((0x0000F8 & (b)
                                  ) >> 3)  //65k
                             9122 ; 223  |#else
                             9123 ; 224  |#define RGB(r,g,b)       ((0x0000F0 & (r)) << 4) | (0x0000F0 & (g)) | ((0x0000F0 & (b)) >>
                                   4)
                             9124 ; 225  |#endif
                             9125 ; 226  |    
                             9126 ; 227  |#endif // #ifndef _TYPES_H
                             9127 
                             9129 
                             9130 ; 31   |
                             9131 ; 32   |//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                             9132 ; 33   |
                             9133 ; 34   |//   SWIZZLE STMP3500 Registers 
                             9134 ; 35   |//   Last Updated 7.11.2003 Dave Dyches
                             9135 ; 36   |//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                             9136 ; 37   |
                             9137 ; 38   |
                             9138 ; 39   |
                             9139 ; 40   |
                             9140 ; 41   |
                             9141 ; 42   |#define HW_SWIZZLE_BASEADDR 0xF380
                             9142 ; 43   |
                             9143 ; 44   |
                             9144 ; 45   |
                             9145 ; 46   |////  Swizzle CSR1 (HW_SWIZZLECSR1) Bit Definitions
                             9146 ; 47   |#define HW_SWIZZLECSR1_EN_BITPOS (0)
                             9147 ; 48   |#define HW_SWIZZLECSR1_LA_BITPOS (1)
                             9148 ; 49   |#define HW_SWIZZLECSR1_LNR_BITPOS (2)
                             9149 ; 50   |#define HW_SWIZZLECSR1_SIGN_BITPOS (3)
                             9150 ; 51   |#define HW_SWIZZLECSR1_SHIFT_BITPOS (4)
                             9151 ; 52   |#define HW_SWIZZLECSR1_MEM_BITPOS (8)
                             9152 ; 53   |#define HW_SWIZZLECSR1_CLK_OFF_BITPOS (9)
                             9153 ; 54   |#define HW_SWIZZLECSR1_NEWADD_BITPOS (10)
                             9154 ; 55   |#define HW_SWIZZLECSR1_RSVD_BITPOS (11)
                             9155 ; 56   |
                             9156 ; 57   |#define HW_SWIZZLECSR1_EN_WIDTH (1)
                             9157 ; 58   |#define HW_SWIZZLECSR1_LA_WIDTH (1)
                             9158 ; 59   |#define HW_SWIZZLECSR1_LNR_WIDTH (1)
                             9159 ; 60   |#define HW_SWIZZLECSR1_SIGN_WIDTH (1)
                             9160 ; 61   |#define HW_SWIZZLECSR1_SHIFT_WIDTH (4)
                             9161 ; 62   |#define HW_SWIZZLECSR1_MEM_WIDTH (1)
                             9162 ; 63   |#define HW_SWIZZLECSR1_CLK_OFF_WIDTH (1)
                             9163 ; 64   |#define HW_SWIZZLECSR1_NEWADD_WIDTH (1)
                             9164 ; 65   |#define HW_SWIZZLECSR1_RSVD_WIDTH (13)
                             9165 ; 66   |
                             9166 ; 67   |#define HW_SWIZZLECSR1_EN_SETMASK (((1<HW_SWIZZLECSR1_EN_WIDTH)-1)<<HW_SWIZZLECSR1_EN_BITP
                                  OS)
                             9167 ; 68   |#define HW_SWIZZLECSR1_LA_SETMASK (((1<HW_SWIZZLECSR1_LA_WIDTH)-1)<<HW_SWIZZLECSR1_LA_BITP
                                  OS)
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 156

M:ADDR CODE           CYCLES LINE SOURCELINE
                             9168 ; 69   |#define HW_SWIZZLECSR1_LNR_SETMASK (((1<HW_SWIZZLECSR1_LNR_WIDTH)-1)<<HW_SWIZZLECSR1_LNR_B
                                  ITPOS)
                             9169 ; 70   |#define HW_SWIZZLECSR1_SIGN_SETMASK (((1<HW_SWIZZLECSR1_SIGN_WIDTH)-1)<<HW_SWIZZLECSR1_SIG
                                  N_BITPOS)
                             9170 ; 71   |#define HW_SWIZZLECSR1_SHIFT_SETMASK (((1<HW_SWIZZLECSR1_SHIFT_WIDTH)-1)<<HW_SWIZZLECSR1_S
                                  HIFT_BITPOS)
                             9171 ; 72   |#define HW_SWIZZLECSR1_MEM_SETMASK (((1<HW_SWIZZLECSR1_MEM_WIDTH)-1)<<HW_SWIZZLECSR1_MEM_B
                                  ITPOS)
                             9172 ; 73   |#define HW_SWIZZLECSR1_CLK_OFF_SETMASK (((1<HW_SWIZZLECSR1_CLK_OFF_WIDTH)-1)<<HW_SWIZZLECS
                                  R1_CLK_OFF_BITPOS)
                             9173 ; 74   |#define HW_SWIZZLECSR1_NEWADD_SETMASK (((1<HW_SWIZZLECSR1_NEWADD_WIDTH)-1)<<HW_SWIZZLECSR1
                                  _NEWADD_BITPOS)
                             9174 ; 75   |#define HW_SWIZZLECSR1_RSVD_SETMASK (((1<HW_SWIZZLECSR1_RSVD_WIDTH)-1)<<HW_SWIZZLECSR1_RSV
                                  D_BITPOS)
                             9175 ; 76   |
                             9176 ; 77   |#define HW_SWIZZLECSR1_EN_CLRMASK (~(WORD)HW_SWIZZLECSR1_EN_SETMASK)
                             9177 ; 78   |#define HW_SWIZZLECSR1_LA_CLRMASK (~(WORD)HW_SWIZZLECSR1_LA_SETMASK)
                             9178 ; 79   |#define HW_SWIZZLECSR1_LNR_CLRMASK (~(WORD)HW_SWIZZLECSR1_LNR_SETMASK)
                             9179 ; 80   |#define HW_SWIZZLECSR1_SIGN_CLRMASK (~(WORD)HW_SWIZZLECSR1_SIGN_SETMASK)
                             9180 ; 81   |#define HW_SWIZZLECSR1_SHIFT_CLRMASK (~(WORD)HW_SWIZZLECSR1_SHIFT_SETMASK)
                             9181 ; 82   |#define HW_SWIZZLECSR1_MEM_CLRMASK (~(WORD)HW_SWIZZLECSR1_MEM_SETMASK)
                             9182 ; 83   |#define HW_SWIZZLECSR1_CLK_OFF_CLRMASK (~(WORD)HW_SWIZZLECSR1_CLK_OFF_SETMASK)
                             9183 ; 84   |#define HW_SWIZZLECSR1_NEWADD_CLRMASK (~(WORD)HW_SWIZZLECSR1_NEWADD_SETMASK)
                             9184 ; 85   |#define HW_SWIZZLECSR1_RSVD_CLRMASK (~(WORD)HW_SWIZZLECSR1_RSVD_SETMASK)
                             9185 ; 86   |
                             9186 ; 87   |////////////////////////////////////////////////////////////////////////////////
                             9187 ; 88   |//  Bit Manipulation Unit Registers
                             9188 ; 89   |////////////////////////////////////////////////////////////////////////////////
                             9189 ; 90   |typedef union
                             9190 ; 91   |{
                             9191 ; 92   |    struct
                             9192 ; 93   |    {
                             9193 ; 94   |    int EN      :1;     /* Swizzle Enable                           */
                             9194 ; 95   |    int LA      :1;     /* Left Align Data                          */
                             9195 ; 96   |    int LNR     :1;     /* Left Barrel Shift                        */
                             9196 ; 97   |    int SIGN    :1;     /* Sign Extend Data                         */
                             9197 ; 98   |    unsigned SHIFT :4;          /* Number of positions to shift (0 to 23)   */
                             9198 ; 99   |    int MEM     :1;     /* Manipulate in Memory (not in registers)  */
                             9199 ; 100  |    int CLK_OFF :1;     /* Gate the Clock, Power Off                */
                             9200 ; 101  |    int NEWADD  :1;     /* Place the data into a new location       */     
                             9201 ; 102  |    } B;
                             9202 ; 103  |    int I;
                             9203 ; 104  |    unsigned U;
                             9204 ; 105  |} swizzlecsr1_type;
                             9205 ; 106  |////////////////////////////////////////////////////////////////////////////////
                             9206 ; 107  |#define HW_SWIZZLECS1R (*(volatile swizzlecsr1_type _X*) (HW_SWIZZLE_BASEADDR))       /* S
                                  wizzle Control & Status Register 1 */
                             9207 ; 108  |
                             9208 ; 109  |////  Swizzle CSR2 (HW_SWIZZLECSR2) Bit Definitions
                             9209 ; 110  |#define HW_SWIZZLECSR2_KICK_BITPOS (0)
                             9210 ; 111  |#define HW_SWIZZLECSR2_SASEL_BITPOS (1)
                             9211 ; 112  |#define HW_SWIZZLECSR2_DESASEL_BITPOS (3)
                             9212 ; 113  |#define HW_SWIZZLECSR2_BIGE_BITPOS (5)
                             9213 ; 114  |#define HW_SWIZZLECSR2_BITREV_BITPOS (6)
                             9214 ; 115  |#define HW_SWIZZLECSR2_PLSB_BITPOS (7)
                             9215 ; 116  |#define HW_SWIZZLECSR2_PISB_OFF_BITPOS (8)
                             9216 ; 117  |#define HW_SWIZZLECSR2_PMSB_BITPOS (9)
                             9217 ; 118  |#define HW_SWIZZLECSR2_P16L_BITPOS (10)
                             9218 ; 119  |#define HW_SWIZZLECSR2_P16I_BITPOS (11)
                             9219 ; 120  |#define HW_SWIZZLECSR2_BS_EN_BITPOS (12)
                             9220 ; 121  |#define HW_SWIZZLECSR2_SBYTEDEST_BITPOS (13)
                             9221 ; 122  |#define HW_SWIZZLECSR2_UNKICK_BITPOS (15)
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 157

M:ADDR CODE           CYCLES LINE SOURCELINE
                             9222 ; 123  |#define HW_SWIZZLECSR2_RSVD_BITPOS (16)
                             9223 ; 124  |
                             9224 ; 125  |#define HW_SWIZZLECSR2_KICK_WIDTH (1)
                             9225 ; 126  |#define HW_SWIZZLECSR2_SASEL_WIDTH (2)
                             9226 ; 127  |#define HW_SWIZZLECSR2_DESASEL_WIDTH (2)
                             9227 ; 128  |#define HW_SWIZZLECSR2_BIGE_WIDTH (1)
                             9228 ; 129  |#define HW_SWIZZLECSR2_BITREV_WIDTH (1)
                             9229 ; 130  |#define HW_SWIZZLECSR2_PLSB_WIDTH (1)
                             9230 ; 131  |#define HW_SWIZZLECSR2_PMSB_WIDTH (1)
                             9231 ; 132  |#define HW_SWIZZLECSR2_P16L_WIDTH (1)
                             9232 ; 133  |#define HW_SWIZZLECSR2_P16I_WIDTH (1)
                             9233 ; 134  |#define HW_SWIZZLECSR2_BS_EN_WIDTH (1)
                             9234 ; 135  |#define HW_SWIZZLECSR2_SBYTEDEST_WIDTH (2)
                             9235 ; 136  |#define HW_SWIZZLECSR2_UNKICK_WIDTH (1)
                             9236 ; 137  |#define HW_SWIZZLECSR2_RSVD_WIDTH (8)
                             9237 ; 138  |
                             9238 ; 139  |#define HW_SWIZZLECSR2_KICK_SETMASK (((1<HW_SWIZZLECSR2_KICK_WIDTH)-1)<<HW_SWIZZLECSR2_KIC
                                  K_BITPOS)
                             9239 ; 140  |#define HW_SWIZZLECSR2_SASEL_SETMASK (((1<HW_SWIZZLECSR2_SASEL_WIDTH)-1)<<HW_SWIZZLECSR2_S
                                  ASEL_BITPOS)
                             9240 ; 141  |#define HW_SWIZZLECSR2_DESASEL_SETMASK (((1<HW_SWIZZLECSR2_DESASEL_WIDTH)-1)<<HW_SWIZZLECS
                                  R2_DESASEL_BITPOS)
                             9241 ; 142  |#define HW_SWIZZLECSR2_BIGE_SETMASK (((1<HW_SWIZZLECSR2_BIGE_WIDTH)-1)<<HW_SWIZZLECSR2_BIG
                                  E_BITPOS)
                             9242 ; 143  |#define HW_SWIZZLECSR2_BITREV_SETMASK (((1<HW_SWIZZLECSR2_BITREV_WIDTH)-1)<<HW_SWIZZLECSR2
                                  _BITREV_BITPOS)
                             9243 ; 144  |#define HW_SWIZZLECSR2_PLSB_SETMASK (((1<HW_SWIZZLECSR2_PLSB_WIDTH)-1)<<HW_SWIZZLECSR2_PLS
                                  B_BITPOS)
                             9244 ; 145  |#define HW_SWIZZLECSR2_PMSB_SETMASK (((1<HW_SWIZZLECSR2_PMSB_WIDTH)-1)<<HW_SWIZZLECSR2_PMS
                                  B_BITPOS)
                             9245 ; 146  |#define HW_SWIZZLECSR2_P16L_SETMASK (((1<HW_SWIZZLECSR2_P16L_WIDTH)-1)<<HW_SWIZZLECSR2_P16
                                  L_BITPOS)
                             9246 ; 147  |#define HW_SWIZZLECSR2_P16I_SETMASK (((1<HW_SWIZZLECSR2_P16I_WIDTH)-1)<<HW_SWIZZLECSR2_P16
                                  I_BITPOS)
                             9247 ; 148  |#define HW_SWIZZLECSR2_BS_EN_SETMASK (((1<HW_SWIZZLECSR2_BS_EN_WIDTH)-1)<<HW_SWIZZLECSR2_B
                                  S_EN_BITPOS)
                             9248 ; 149  |#define HW_SWIZZLECSR2_SBYTEDEST_SETMASK (((1<HW_SWIZZLECSR2_SBYTEDEST_WIDTH)-1)<<HW_SWIZZ
                                  LECSR2_SBYTEDEST_BITPOS)
                             9249 ; 150  |#define HW_SWIZZLECSR2_UNKICK_SETMASK (((1<HW_SWIZZLECSR2_UNKICK_WIDTH)-1)<<HW_SWIZZLECSR2
                                  _UNKICK_BITPOS)
                             9250 ; 151  |#define HW_SWIZZLECSR2_RSVD_SETMASK (((1<HW_SWIZZLECSR2_RSVD_WIDTH)-1)<<HW_SWIZZLECSR2_RSV
                                  D_BITPOS)
                             9251 ; 152  |
                             9252 ; 153  |#define HW_SWIZZLECSR2_KICK_CLRMASK (~(WORD)HW_SWIZZLECSR2_KICK_SETMASK)
                             9253 ; 154  |#define HW_SWIZZLECSR2_SASEL_CLRMASK (~(WORD)HW_SWIZZLECSR2_SASEL_SETMASK)
                             9254 ; 155  |#define HW_SWIZZLECSR2_DESASEL_CLRMASK (~(WORD)HW_SWIZZLECSR2_DESASEL_SETMASK)
                             9255 ; 156  |#define HW_SWIZZLECSR2_BIGE_CLRMASK (~(WORD)HW_SWIZZLECSR2_BIGE_SETMASK)
                             9256 ; 157  |#define HW_SWIZZLECSR2_BITREV_CLRMASK (~(WORD)HW_SWIZZLECSR2_BITREV_SETMASK)
                             9257 ; 158  |#define HW_SWIZZLECSR2_PLSB_CLRMASK (~(WORD)HW_SWIZZLECSR2_PLSB_SETMASK)
                             9258 ; 159  |#define HW_SWIZZLECSR2_PMSB_CLRMASK (~(WORD)HW_SWIZZLECSR2_PMSB_SETMASK)
                             9259 ; 160  |#define HW_SWIZZLECSR2_P16L_CLRMASK (~(WORD)HW_SWIZZLECSR2_P16L_SETMASK)
                             9260 ; 161  |#define HW_SWIZZLECSR2_P16I_CLRMASK (~(WORD)HW_SWIZZLECSR2_P16I_SETMASK)
                             9261 ; 162  |#define HW_SWIZZLECSR2_BS_EN_CLRMASK (~(WORD)HW_SWIZZLECSR2_BS_EN_SETMASK)
                             9262 ; 163  |#define HW_SWIZZLECSR2_SBYTEDEST_CLRMASK (~(WORD)HW_SWIZZLECSR2_SBYTEDEST_SETMASK)
                             9263 ; 164  |#define HW_SWIZZLECSR2_UNKICK_CLRMASK (~(WORD)HW_SWIZZLECSR2_UNKICK_SETMASK)
                             9264 ; 165  |#define HW_SWIZZLECSR2_RSVD_CLRMASK (~(WORD)HW_SWIZZLECSR2_RSVD_SETMASK)
                             9265 ; 166  |
                             9266 ; 167  |///////////////////////////////////////////////////////////////////////////////
                             9267 ; 168  |typedef union
                             9268 ; 169  |{
                             9269 ; 170  |    struct
                             9270 ; 171  |    {
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 158

M:ADDR CODE           CYCLES LINE SOURCELINE
                             9271 ; 172  |    int KICK    :1;         /* Start transfer                      */
                             9272 ; 173  |    unsigned SASEL :2;              /* Source memory Select                */
                             9273 ; 174  |    unsigned DESASEL :2;                    /* Destination memory Select           */
                             9274 ; 175  |    int BIGE        :1;             /* Big Endian Enable                   */
                             9275 ; 176  |    int BITREV      :1;     /* Bit reverse the data                */
                             9276 ; 177  |    int PLSB        :1;             /* Pass Least Significant Byte         */
                             9277 ; 178  |    int PISB        :1;     /* Pass Intermediate Byte              */
                             9278 ; 179  |    int PMSB        :1;     /* Pass Most Significant Byte          */
                             9279 ; 180  |    int P16L        :1;     /* Pass Least Significant word         */
                             9280 ; 181  |    int P16I        :1;     /* Pass Intermediate significant word  */
                             9281 ; 182  |    int BS_EN       :1;     /* Barrel Shift Enable                 */
                             9282 ; 183  |    unsigned SBYTE  :2;                     /* Start byte                          */
                             9283 ; 184  |    int UNKICK      :1;     /* Halt transfer                       */  
                             9284 ; 185  |    } B;
                             9285 ; 186  |    unsigned int I;
                             9286 ; 187  |    unsigned int U;
                             9287 ; 188  |} swizzlecsr2_type;
                             9288 ; 189  |///////////////////////////////////////////////////////////////////////////////
                             9289 ; 190  |#define HW_SWIZZLECS2R (*(volatile swizzlecsr2_type _X*) (HW_SWIZZLE_BASEADDR+1))     /* S
                                  wizzle Control & Status Register 2 */
                             9290 ; 191  |
                             9291 ; 192  |////  Swizzle SIZER (HW_SWIZZLESIZER) Bit Definitions
                             9292 ; 193  |#define HW_SWIZZLESIZER_SIZE_BITPOS (0)
                             9293 ; 194  |#define HW_SWIZZLESIZER_NEW_SHIFT_BITPOS (16)
                             9294 ; 195  |#define HW_SWIZZLESIZER_RSVD_BITPOS (21)
                             9295 ; 196  |
                             9296 ; 197  |#define HW_SWIZZLESIZER_SIZE_WIDTH (16)
                             9297 ; 198  |#define HW_SWIZZLESIZER_NEW_SHIFT_WIDTH (5)
                             9298 ; 199  |#define HW_SWIZZLESIZER_RSVD_WIDTH (3)
                             9299 ; 200  |
                             9300 ; 201  |#define HW_SWIZZLESIZER_SIZE_SETMASK (((1<HW_SWIZZLESIZER_SIZE_WIDTH)-1)<<HW_SWIZZLESIZER_
                                  SIZE_BITPOS)
                             9301 ; 202  |#define HW_SWIZZLESIZER_NEW_SHIFT_SETMASK (((1<HW_SWIZZLESIZER_NEW_SHIFT_WIDTH)-1)<<HW_SWI
                                  ZZLESIZER_NEW_SHIFT_BITPOS)
                             9302 ; 203  |#define HW_SWIZZLESIZER_RSVD_SETMASK (((1<HW_SWIZZLESIZER_RSVD_WIDTH)-1)<<HW_SWIZZLESIZER_
                                  RSVD_BITPOS)
                             9303 ; 204  |
                             9304 ; 205  |#define HW_SWIZZLESIZER_SIZE_CLRMASK (~(WORD)HW_SWIZZLESIZER_SIZE_SETMASK)
                             9305 ; 206  |#define HW_SWIZZLESIZER_NEW_SHIFT_CLRMASK (~(WORD)HW_SWIZZLESIZER_NEW_SHIFT_SETMASK)
                             9306 ; 207  |#define HW_SWIZZLESIZER_RSVD_CLRMASK (~(WORD)HW_SWIZZLESIZER_RSVD_SETMASK)
                             9307 ; 208  |
                             9308 ; 209  |///////////////////////////////////////////////////////////////////////////////
                             9309 ; 210  |typedef union
                             9310 ; 211  |{
                             9311 ; 212  |    struct
                             9312 ; 213  |    {
                             9313 ; 214  |    unsigned SIZE      :16;        /* Number of memory words to manipulate */
                             9314 ; 215  |    unsigned NEW_SHIFT :5;         /* Source memory Select                 */
                             9315 ; 216  |    } B;
                             9316 ; 217  |    int I;
                             9317 ; 218  |    unsigned U;
                             9318 ; 219  |} swizzlesizer_type;
                             9319 ; 220  |///////////////////////////////////////////////////////////////////////////////
                             9320 ; 221  |#define HW_SWIZZLESIZER (*(volatile swizzlesizer_type _X*) (HW_SWIZZLE_BASEADDR+2))       
                                   /* Swizzle Transfer Size Register */
                             9321 ; 222  |#define HW_SWIZZLESOURCER (*(volatile unsigned int _X*) (HW_SWIZZLE_BASEADDR+3))      /* S
                                  wizzle Source Address Register */
                             9322 ; 223  |#define HW_SWIZZLEDATA1R (*(volatile unsigned int _X*) (HW_SWIZZLE_BASEADDR+4))       /* S
                                  wizzle Data1 Register */
                             9323 ; 224  |#define HW_SWIZZLEDATA2R (*(volatile unsigned int _X*) (HW_SWIZZLE_BASEADDR+5))       /* S
                                  wizzle Data2 Register */
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 159

M:ADDR CODE           CYCLES LINE SOURCELINE
                             9324 ; 225  |#define HW_SWIZZLEDESTADDRR (*(volatile unsigned int _X*) (HW_SWIZZLE_BASEADDR+6))    /* S
                                  wizzle Destination Address Register */
                             9325 ; 226  |#define HW_SWIZZLEBIGENDIANR (*(volatile unsigned int _X*) (HW_SWIZZLE_BASEADDR+7))   /* S
                                  wizzle Big Endian Register */
                             9326 ; 227  |#define HW_SWIZZLEBITREVR (*(volatile unsigned int _X*) (HW_SWIZZLE_BASEADDR+8))      /* S
                                  wizzle BITREV Register */
                             9327 ; 228  |#define HW_SWIZZLEPASSLSBR (*(volatile unsigned int _X*) (HW_SWIZZLE_BASEADDR+9))     /* S
                                  wizzle Pass Least Significant Byte Register */
                             9328 ; 229  |#define HW_SWIZZLEPASSISBR (*(volatile unsigned int _X*) (HW_SWIZZLE_BASEADDR+10))    /* S
                                  wizzle Pass Intermediate Byte Register */
                             9329 ; 230  |#define HW_SWIZZLEPASSMSBR (*(volatile unsigned int _X*) (HW_SWIZZLE_BASEADDR+11))    /* S
                                  wizzle Pass Most Significant Byte Register */
                             9330 ; 231  |#define HW_SWIZZLEPASSLSWR (*(volatile unsigned int _X*) (HW_SWIZZLE_BASEADDR+12))    /* S
                                  wizzle Pass Least Significant Word Register */
                             9331 ; 232  |#define HW_SWIZZLEPASSISWR (*(volatile unsigned int _X*) (HW_SWIZZLE_BASEADDR+13))    /* S
                                  wizzle Pass Intermediate Significant Word Register */
                             9332 ; 233  |#define HW_SWIZZLEPASSMSWR (*(volatile unsigned int _X*) (HW_SWIZZLE_BASEADDR+14))    /* S
                                  wizzle Pass Most Significant Word Register */
                             9333 ; 234  |#define HW_SWIZZLEBARRELR (*(volatile unsigned int _X*) (HW_SWIZZLE_BASEADDR+15))    /* Sw
                                  izzle Barrel Shift Register */
                             9334 ; 235  |#define HW_SWIZZLEDIV3LR (*(volatile unsigned int _X*) (HW_SWIZZLE_BASEADDR+16))    /* Swi
                                  zzle Divide By 3 Lower Register */
                             9335 ; 236  |
                             9336 ; 237  |
                             9337 ; 238  |////  Swizzle DIV3UR (HW_SWIZZLEDIV3UR) Bit Definitions
                             9338 ; 239  |#define HW_SWIZZLEDIV3UR_DIV3_UPPER_BITPOS (0)
                             9339 ; 240  |#define HW_SWIZZLEDIV3UR_RSVD0_BITPOS (8)
                             9340 ; 241  |#define HW_SWIZZLEDIV3UR_REMAINDER_BITPOS (20)
                             9341 ; 242  |#define HW_SWIZZLEDIV3UR_RSVD1_BITPOS (22)
                             9342 ; 243  |
                             9343 ; 244  |#define HW_SWIZZLEDIV3UR_DIV3_UPPER_WIDTH (8)
                             9344 ; 245  |#define HW_SWIZZLEDIV3UR_RSVD0_WIDTH (12)
                             9345 ; 246  |#define HW_SWIZZLEDIV3UR_REMAINDER_WIDTH (2)
                             9346 ; 247  |#define HW_SWIZZLEDIV3UR_RSVD1_WIDTH (2)
                             9347 ; 248  |
                             9348 ; 249  |#define HW_SWIZZLEDIV3UR_DIV3_UPPER_SETMASK (((1<HW_SWIZZLEDIV3UR_DIV3_UPPER_WIDTH)-1)<<HW
                                  _SWIZZLEDIV3UR_DIV3_UPPER_BITPOS)
                             9349 ; 250  |#define HW_SWIZZLEDIV3UR_RSVD0_SETMASK (((1<HW_SWIZZLEDIV3UR_RSVD0_WIDTH)-1)<<HW_SWIZZLEDI
                                  V3UR_RSVD0_BITPOS)
                             9350 ; 251  |#define HW_SWIZZLEDIV3UR_REMAINDER_SETMASK (((1<HW_SWIZZLEDIV3UR_REMAINDER_WIDTH)-1)<<HW_S
                                  WIZZLEDIV3UR_REMAINDER_BITPOS)
                             9351 ; 252  |#define HW_SWIZZLEDIV3UR_RSVD1_SETMASK (((1<HW_SWIZZLEDIV3UR_RSVD1_WIDTH)-1)<<HW_SWIZZLEDI
                                  V3UR_RSVD1_BITPOS)
                             9352 ; 253  |
                             9353 ; 254  |#define HW_SWIZZLEDIV3UR_DIV3_UPPER_CLRMASK (~(WORD)HW_SWIZZLEDIV3UR_DIV3_UPPER_SETMASK)
                             9354 ; 255  |#define HW_SWIZZLEDIV3UR_RSVD0_CLRMASK (~(WORD)HW_SWIZZLEDIV3UR_RSVD0_SETMASK)
                             9355 ; 256  |#define HW_SWIZZLEDIV3UR_REMAINDER_CLRMASK (~(WORD)HW_SWIZZLEDIV3UR_REMAINDER_SETMASK)
                             9356 ; 257  |#define HW_SWIZZLEDIV3UR_RSVD1_CLRMASK (~(WORD)HW_SWIZZLEDIV3UR_RSVD1_SETMASK)
                             9357 ; 258  |
                             9358 ; 259  |///////////////////////////////////////////////////////////////////////////////
                             9359 ; 260  |typedef union
                             9360 ; 261  |{
                             9361 ; 262  |    struct
                             9362 ; 263  |    {
                             9363 ; 264  |    unsigned DIV3_UPPER    :8;     /* Number of memory words to manipulate */
                             9364 ; 265  |    unsigned RSVD0         :12;         /* Source memory Select                 */
                             9365 ; 266  |    unsigned REMAINDER     :2;         /* Source memory Select                 */
                             9366 ; 267  |    } B;
                             9367 ; 268  |    int I;
                             9368 ; 269  |    unsigned U;
                             9369 ; 270  |} swizzlediv3ur_type;
                             9370 ; 271  |///////////////////////////////////////////////////////////////////////////////
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 160

M:ADDR CODE           CYCLES LINE SOURCELINE
                             9371 ; 272  |#define HW_SWIZZLEDIV3UR (*(volatile swizzlediv3ur_type _X*) (HW_SWIZZLE_BASEADDR+17))    
                                  /* Swizzle Divide By 3 Upper Register */
                             9372 ; 273  |
                             9373 ; 274  |#endif
                             9374 ; 275  |
                             9375 
                             9377 
                             9378 ; 33   |#include "regssdram.h"
                             9379 
                             9381 
                             9382 ; 1    |//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                             9383 ; 2    |//;  Copyright(C) SigmaTel, Inc. 2002-2003
                             9384 ; 3    |//;  File        : regssdram.inc
                             9385 ; 4    |//;  Description : Mixed Signal IP Register definition
                             9386 ; 5    |//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                             9387 ; 6    |
                             9388 ; 7    |// The following naming conventions are followed in this file.
                             9389 ; 8    |// All registers are named using the format...
                             9390 ; 9    |//     HW_<module>_<regname>
                             9391 ; 10   |// where <module> is the module name which can be any of the following...
                             9392 ; 11   |//     SYSTEM
                             9393 ; 12   |// (Note that when there is more than one copy of a particular module, the
                             9394 ; 13   |// module name includes a number starting from 0 for the first instance of
                             9395 ; 14   |// that module)
                             9396 ; 15   |// <regname> is the specific register within that module
                             9397 ; 16   |// We also define the following...
                             9398 ; 17   |//     HW_<module>_<regname>_BITPOS
                             9399 ; 18   |// which defines the starting bit (i.e. LSB) of a multi bit field
                             9400 ; 19   |//     HW_<module>_<regname>_SETMASK
                             9401 ; 20   |// which does something else, and
                             9402 ; 21   |//     HW_<module>_<regname>_CLRMASK
                             9403 ; 22   |// which does something else.
                             9404 ; 23   |// Other rules
                             9405 ; 24   |//     All caps
                             9406 ; 25   |//     Numeric identifiers start at 0
                             9407 ; 26   |
                             9408 ; 27   |#if !(defined(regssdraminc))
                             9409 ; 28   |#define regssdraminc 1
                             9410 ; 29   |
                             9411 ; 30   |#include "types.h"
                             9412 
                             9414 
                             9415 ; 1    |////////////////////////////////////////////////////////////////////////////////
                             9416 ; 2    |// Copyright(C) SigmaTel, Inc. 2000-2004
                             9417 ; 3    |//
                             9418 ; 4    |// Filename: types.h
                             9419 ; 5    |// Description: Standard data types
                             9420 ; 6    |////////////////////////////////////////////////////////////////////////////////
                             9421 ; 7    |
                             9422 ; 8    |#ifndef _TYPES_H
                             9423 ; 9    |#define _TYPES_H
                             9424 ; 10   |
                             9425 ; 11   |// TODO:  move this outta here!
                             9426 ; 12   |#if !defined(NOERROR)
                             9427 ; 13   |#define NOERROR 0
                             9428 ; 14   |#define SUCCESS 0
                             9429 ; 15   |#endif 
                             9430 ; 16   |#if !defined(SUCCESS)
                             9431 ; 17   |#define SUCCESS  0
                             9432 ; 18   |#endif
                             9433 ; 19   |#if !defined(ERROR)
                             9434 ; 20   |#define ERROR   -1
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 161

M:ADDR CODE           CYCLES LINE SOURCELINE
                             9435 ; 21   |#endif
                             9436 ; 22   |#if !defined(FALSE)
                             9437 ; 23   |#define FALSE 0
                             9438 ; 24   |#endif
                             9439 ; 25   |#if !defined(TRUE)
                             9440 ; 26   |#define TRUE  1
                             9441 ; 27   |#endif
                             9442 ; 28   |
                             9443 ; 29   |#if !defined(NULL)
                             9444 ; 30   |#define NULL 0
                             9445 ; 31   |#endif
                             9446 ; 32   |
                             9447 ; 33   |#define MAX_INT     0x7FFFFF
                             9448 ; 34   |#define MAX_LONG    0x7FFFFFffffff
                             9449 ; 35   |        // max positive unsigned long value: -1 == 0xFFFFFFffffff
                             9450 ; 36   |#define MAX_ULONG   (-1) 
                             9451 ; 37   |
                             9452 ; 38   |#define WORD_SIZE   24              // word size in bits
                             9453 ; 39   |#define BYTES_PER_WORD 3            // 8 bit bytes
                             9454 ; 40   |
                             9455 ; 41   |
                             9456 ; 42   |#define BYTE    unsigned char       // btVarName
                             9457 ; 43   |#define CHAR    signed char         // cVarName
                             9458 ; 44   |#define USHORT  unsigned short      // usVarName
                             9459 ; 45   |#define SHORT   unsigned short      // sVarName
                             9460 ; 46   |#define WORD    unsigned int        // wVarName
                             9461 ; 47   |#define INT     signed int          // iVarName
                             9462 ; 48   |#define DWORD   unsigned long       // dwVarName
                             9463 ; 49   |#define LONG    signed long         // lVarName
                             9464 ; 50   |#define BOOL    unsigned int        // bVarName
                             9465 ; 51   |#define FRACT   _fract              // frVarName
                             9466 ; 52   |#define LFRACT  long _fract         // lfrVarName
                             9467 ; 53   |#define CIRC    _circ               // cp<type prefix>VarName (see below)
                             9468 ; 54   |#define FLOAT   float               // fVarName
                             9469 ; 55   |#define DBL     double              // dVarName
                             9470 ; 56   |#define ENUM    enum                // eVarName
                             9471 ; 57   |#define CMX     _complex            // cmxVarName
                             9472 ; 58   |typedef WORD UCS3;                   // 
                             9473 ; 59   |
                             9474 ; 60   |#define UINT16  unsigned short
                             9475 ; 61   |#define UINT8   unsigned char   
                             9476 ; 62   |#define UINT32  unsigned long
                             9477 ; 63   |#define UINT64  unsigned long   // need to figure out how to do 64 bit values.  Or port ex
                                  isiting code to only use 48 bit
                             9478 ; 64   |#define INT64   unsigned long   // need to figure out how to do 64 bit values.  Or port ex
                                  isiting code to only use 48 bit
                             9479 ; 65   |#define WCHAR   UINT16
                             9480 ; 66   |
                             9481 ; 67   |//UINT128 is 16 bytes or 6 words
                             9482 ; 68   |typedef struct UINT128_3500 {   
                             9483 ; 69   |    int val[6];     
                             9484 ; 70   |} UINT128_3500;
                             9485 ; 71   |
                             9486 ; 72   |#define UINT128   UINT128_3500
                             9487 ; 73   |
                             9488 ; 74   |// Little endian word packed byte strings:   
                             9489 ; 75   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                             9490 ; 76   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                             9491 ; 77   |// Little endian word packed byte strings:   
                             9492 ; 78   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                             9493 ; 79   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                             9494 ; 80   |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 162

M:ADDR CODE           CYCLES LINE SOURCELINE
                             9495 ; 81   |// Declare Memory Spaces To Use When Coding
                             9496 ; 82   |// A. Sector Buffers
                             9497 ; 83   |#define SECTOR_BUFFER_MEM_X _X
                             9498 ; 84   |#define SECTOR_BUFFER_MEM_Y _Y
                             9499 ; 85   |#define SECTOR_BUFFER_MEM SECTOR_BUFFER_MEM_X
                             9500 ; 86   |typedef WORD SECTOR_BUFFER_MEM SECTOR_BUFFER;
                             9501 ; 87   |typedef SECTOR_BUFFER * P_SECTOR_BUFFER;
                             9502 ; 88   |// B. Media DDI Memory
                             9503 ; 89   |#define MEDIA_DDI_MEM _Y
                             9504 ; 90   |
                             9505 ; 91   |
                             9506 ; 92   |
                             9507 ; 93   |// Pointers to linear structures are labeled as: p<type prefix>VarName
                             9508 ; 94   |// Examples of circular pointers:
                             9509 ; 95   |//    INT CIRC cpiVarName
                             9510 ; 96   |//    DWORD CIRC cpdwVarName
                             9511 ; 97   |
                             9512 ; 98   |#define RETCODE INT                 // rcVarName
                             9513 ; 99   |
                             9514 ; 100  |// generic bitfield structure
                             9515 ; 101  |struct Bitfield {
                             9516 ; 102  |    unsigned int B0  :1;
                             9517 ; 103  |    unsigned int B1  :1;
                             9518 ; 104  |    unsigned int B2  :1;
                             9519 ; 105  |    unsigned int B3  :1;
                             9520 ; 106  |    unsigned int B4  :1;
                             9521 ; 107  |    unsigned int B5  :1;
                             9522 ; 108  |    unsigned int B6  :1;
                             9523 ; 109  |    unsigned int B7  :1;
                             9524 ; 110  |    unsigned int B8  :1;
                             9525 ; 111  |    unsigned int B9  :1;
                             9526 ; 112  |    unsigned int B10 :1;
                             9527 ; 113  |    unsigned int B11 :1;
                             9528 ; 114  |    unsigned int B12 :1;
                             9529 ; 115  |    unsigned int B13 :1;
                             9530 ; 116  |    unsigned int B14 :1;
                             9531 ; 117  |    unsigned int B15 :1;
                             9532 ; 118  |    unsigned int B16 :1;
                             9533 ; 119  |    unsigned int B17 :1;
                             9534 ; 120  |    unsigned int B18 :1;
                             9535 ; 121  |    unsigned int B19 :1;
                             9536 ; 122  |    unsigned int B20 :1;
                             9537 ; 123  |    unsigned int B21 :1;
                             9538 ; 124  |    unsigned int B22 :1;
                             9539 ; 125  |    unsigned int B23 :1;
                             9540 ; 126  |};
                             9541 ; 127  |
                             9542 ; 128  |union BitInt {
                             9543 ; 129  |        struct Bitfield B;
                             9544 ; 130  |        int        I;
                             9545 ; 131  |};
                             9546 ; 132  |
                             9547 ; 133  |#define MAX_MSG_LENGTH 10
                             9548 ; 134  |struct CMessage
                             9549 ; 135  |{
                             9550 ; 136  |        unsigned int m_uLength;
                             9551 ; 137  |        unsigned int m_uMsg[MAX_MSG_LENGTH];
                             9552 ; 138  |};
                             9553 ; 139  |
                             9554 ; 140  |typedef struct {
                             9555 ; 141  |    WORD m_wLength;
                             9556 ; 142  |    WORD m_wMessage;
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 163

M:ADDR CODE           CYCLES LINE SOURCELINE
                             9557 ; 143  |    WORD m_wParams[MAX_MSG_LENGTH];
                             9558 ; 144  |} Message;
                             9559 ; 145  |
                             9560 ; 146  |struct MessageQueueDescriptor
                             9561 ; 147  |{
                             9562 ; 148  |        int *m_pBase;
                             9563 ; 149  |        int m_iModulo;
                             9564 ; 150  |        int m_iSize;
                             9565 ; 151  |        int *m_pHead;
                             9566 ; 152  |        int *m_pTail;
                             9567 ; 153  |};
                             9568 ; 154  |
                             9569 ; 155  |struct ModuleEntry
                             9570 ; 156  |{
                             9571 ; 157  |    int m_iSignaledEventMask;
                             9572 ; 158  |    int m_iWaitEventMask;
                             9573 ; 159  |    int m_iResourceOfCode;
                             9574 ; 160  |    struct MessageQueueDescriptor *m_pMessageQueue;
                             9575 ; 161  |    int _asmfunc (*m_pProcessEntryPoint)(union WaitMask Signals,struct MessageQueueDescrip
                                  tor *);
                             9576 ; 162  |    int _asmfunc (*m_pInitFunction)(struct MessageQueueDescriptor *);
                             9577 ; 163  |    int m_uTimeOutHigh;
                             9578 ; 164  |    int m_uTimeOutLow;
                             9579 ; 165  |    int _asmfunc (*m_pBackgroundFunction)(struct MessageQueueDescriptor *);
                             9580 ; 166  |};
                             9581 ; 167  |
                             9582 ; 168  |union WaitMask{
                             9583 ; 169  |    struct B{
                             9584 ; 170  |        unsigned int m_bNone     :1;
                             9585 ; 171  |        unsigned int m_bMessage  :1;
                             9586 ; 172  |        unsigned int m_bTimer    :1;
                             9587 ; 173  |        unsigned int m_bButton   :1;
                             9588 ; 174  |    } B;
                             9589 ; 175  |    int I;
                             9590 ; 176  |} ;
                             9591 ; 177  |
                             9592 ; 178  |
                             9593 ; 179  |struct Button {
                             9594 ; 180  |        WORD wButtonEvent;
                             9595 ; 181  |        WORD wUnused[MAX_MSG_LENGTH];   
                             9596 ; 182  |};
                             9597 ; 183  |
                             9598 ; 184  |struct Message {
                             9599 ; 185  |        WORD wMsgLength;
                             9600 ; 186  |        WORD wMsgCommand;
                             9601 ; 187  |        WORD wMsgParms[MAX_MSG_LENGTH-1];
                             9602 ; 188  |};
                             9603 ; 189  |
                             9604 ; 190  |union EventTypes {
                             9605 ; 191  |        struct CMessage msg;
                             9606 ; 192  |        struct Button Button ;
                             9607 ; 193  |        struct Message Message;
                             9608 ; 194  |};
                             9609 ; 195  |
                             9610 ; 196  |// next 2 used to get updater build to return correct protocol ver in scsi response.
                             9611 ; 197  |#define BUILD_TYPE_UPDATER  0x100
                             9612 ; 198  |#define BUILD_TYPE_HOSTLINK 0x101
                             9613 ; 199  |#define BUILD_TYPE_PLAYER   0x102
                             9614 ; 200  |
                             9615 ; 201  |// Resets part if RETAIL build. DEBUG build executes debug instruction to halt.
                             9616 ; 202  |#define SystemHalt() __asm(" include 'sysmacro.asm' \n error") 
                             9617 ; 203  |#define assert(x)    if(!(x)) __asm(" include 'sysmacro.asm' \n error")
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 164

M:ADDR CODE           CYCLES LINE SOURCELINE
                             9618 ; 204  |
                             9619 ; 205  |#if DEBUG
                             9620 ; 206  |// For DEBUG builds, DebugBuildAssert(condition) halts if condition evaluates to FALSE. 
                             9621 ; 207  |#define DebugBuildAssert(x)    if(!(x)) __asm(" debug ")
                             9622 ; 208  |#else 
                             9623 ; 209  |// For RETAIL builds, DebugBuildAssert(condition) does nothing & execution continues rathe
                                  r than halt or reset. 
                             9624 ; 210  |#define DebugBuildAssert(x)    
                             9625 ; 211  |#endif
                             9626 ; 212  |
                             9627 ; 213  |// Do this in your C files to make a reminder that's displayed during the build.
                             9628 ; 214  |//  #pragma asm
                             9629 ; 215  |//  WARN 'Note to builder: reminder to do this after verifying that'
                             9630 ; 216  |//  #pragma endasm
                             9631 ; 217  |
                             9632 ; 218  |
                             9633 ; 219  |#ifdef COLOR_262K
                             9634 ; 220  |#define RGB(r,g,b)    ((0x0000FC & (r)) << 10) | ((0x0000FC & (g)) << 4) | ((0x0000FC & (b
                                  )) >> 2)    //262k
                             9635 ; 221  |#elif defined(COLOR_65K)
                             9636 ; 222  |#define RGB(r,g,b)    ((0x0000F8 & (r)) << 8) | ((0x0000FC & (g)) << 3) | ((0x0000F8 & (b)
                                  ) >> 3)  //65k
                             9637 ; 223  |#else
                             9638 ; 224  |#define RGB(r,g,b)       ((0x0000F0 & (r)) << 4) | (0x0000F0 & (g)) | ((0x0000F0 & (b)) >>
                                   4)
                             9639 ; 225  |#endif
                             9640 ; 226  |    
                             9641 ; 227  |#endif // #ifndef _TYPES_H
                             9642 
                             9644 
                             9645 ; 31   |
                             9646 ; 32   |#define HW_SDRAM_BASEADDR 0xF900
                             9647 ; 33   |
                             9648 ; 34   |
                             9649 ; 35   |/////////////////////////////////////////////////////////////////////////////////
                             9650 ; 36   |//  SDRAM CSR (HW_SDRAM_CSR) Bit Definitions
                             9651 ; 37   |#define HW_SDRAM_CSR_SDRAMEN_BITPOS 0
                             9652 ; 38   |#define HW_SDRAM_CSR_IE_BITPOS 1
                             9653 ; 39   |#define HW_SDRAM_CSR_RNW_BITPOS 2
                             9654 ; 40   |#define HW_SDRAM_CSR_KICK_BITPOS 3
                             9655 ; 41   |#define HW_SDRAM_CSR_LM_BITPOS 4
                             9656 ; 42   |#define HW_SDRAM_CSR_ISTAT_BITPOS 5
                             9657 ; 43   |#define HW_SDRAM_CSR_PWDN_BITPOS 6
                             9658 ; 44   |#define HW_SDRAM_CSR_SBYTE_BITPOS 8
                             9659 ; 45   |#define HW_SDRAM_CSR_MEM_BITPOS 10
                             9660 ; 46   |#define HW_SDRAM_CSR_BIGE_BITPOS 12
                             9661 ; 47   |#define HW_SDRAM_CSR_ASIZE_BITPOS 13
                             9662 ; 48   |#define HW_SDRAM_CSR_UKICK_BITPOS 16
                             9663 ; 49   |#define HW_SDRAM_CSR_DIV_BITPOS 17
                             9664 ; 50   |#define HW_SDRAM_CSR_MULTI_BITPOS 21
                             9665 ; 51   |#define HW_SDRAM_CSR_SDRAM_BITPOS 22
                             9666 ; 52   |#define HW_SDRAM_CSR_SIGN_BITPOS 23
                             9667 ; 53   |
                             9668 ; 54   |#define HW_SDRAM_CSR_SDRAMEN_WIDTH 1
                             9669 ; 55   |#define HW_SDRAM_CSR_IE_WIDTH 1
                             9670 ; 56   |#define HW_SDRAM_CSR_RNW_WIDTH 1
                             9671 ; 57   |#define HW_SDRAM_CSR_KICK_WIDTH 1
                             9672 ; 58   |#define HW_SDRAM_CSR_LM_WIDTH 1
                             9673 ; 59   |#define HW_SDRAM_CSR_ISTAT_WIDTH 1
                             9674 ; 60   |#define HW_SDRAM_CSR_PWDN_WIDTH 1
                             9675 ; 61   |#define HW_SDRAM_CSR_SBYTE_WIDTH 2
                             9676 ; 62   |#define HW_SDRAM_CSR_MEM_WIDTH 2
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 165

M:ADDR CODE           CYCLES LINE SOURCELINE
                             9677 ; 63   |#define HW_SDRAM_CSR_BIGE_WIDTH 1
                             9678 ; 64   |#define HW_SDRAM_CSR_ASIZE_WIDTH 3
                             9679 ; 65   |#define HW_SDRAM_CSR_UKICK_WIDTH 1
                             9680 ; 66   |#define HW_SDRAM_CSR_DIV_WIDTH 4
                             9681 ; 67   |#define HW_SDRAM_CSR_MULTI_WIDTH 1
                             9682 ; 68   |#define HW_SDRAM_CSR_SDRAM_WIDTH 1
                             9683 ; 69   |#define HW_SDRAM_CSR_SIGN_WIDTH 1
                             9684 ; 70   |
                             9685 ; 71   |#define HW_SDRAM_CSR_SDRAMEN_SETMASK (((1<<HW_SDRAM_CSR_SDRAMEN_WIDTH)-1)<<HW_SDRAM_CSR_SD
                                  RAMEN_BITPOS)
                             9686 ; 72   |#define HW_SDRAM_CSR_IE_SETMASK (((1<<HW_SDRAM_CSR_IE_WIDTH)-1)<<HW_SDRAM_CSR_IE_BITPOS)
                             9687 ; 73   |#define HW_SDRAM_CSR_RNW_SETMASK (((1<<HW_SDRAM_CSR_RNW_WIDTH)-1)<<HW_SDRAM_CSR_RNW_BITPOS
                                  )
                             9688 ; 74   |#define HW_SDRAM_CSR_KICK_SETMASK (((1<<HW_SDRAM_CSR_KICK_WIDTH)-1)<<HW_SDRAM_CSR_KICK_BIT
                                  POS)
                             9689 ; 75   |#define HW_SDRAM_CSR_LM_SETMASK (((1<<HW_SDRAM_CSR_LM_WIDTH)-1)<<HW_SDRAM_CSR_LM_BITPOS)
                             9690 ; 76   |#define HW_SDRAM_CSR_ISTAT_SETMASK (((1<<HW_SDRAM_CSR_ISTAT_WIDTH)-1)<<HW_SDRAM_CSR_ISTAT_
                                  BITPOS)
                             9691 ; 77   |#define HW_SDRAM_CSR_PWDN_SETMASK (((1<<HW_SDRAM_CSR_PWDN_WIDTH)-1)<<HW_SDRAM_CSR_PWDN_BIT
                                  POS)
                             9692 ; 78   |#define HW_SDRAM_CSR_SBYTE_SETMASK (((1<<HW_SDRAM_CSR_SBYTE_WIDTH)-1)<<HW_SDRAM_CSR_SBYTE_
                                  BITPOS)
                             9693 ; 79   |#define HW_SDRAM_CSR_MEM_SETMASK (((1<<HW_SDRAM_CSR_MEM_WIDTH)-1)<<HW_SDRAM_CSR_MEM_BITPOS
                                  )
                             9694 ; 80   |#define HW_SDRAM_CSR_BIGE_SETMASK (((1<<HW_SDRAM_CSR_BIGE_WIDTH)-1)<<HW_SDRAM_CSR_BIGE_BIT
                                  POS)
                             9695 ; 81   |#define HW_SDRAM_CSR_ASIZE_SETMASK (((1<<HW_SDRAM_CSR_ASIZE_WIDTH)-1)<<HW_SDRAM_CSR_ASIZE_
                                  BITPOS)
                             9696 ; 82   |#define HW_SDRAM_CSR_UKICK_SETMASK (((1<<HW_SDRAM_CSR_UKICK_WIDTH)-1)<<HW_SDRAM_CSR_UKICK_
                                  BITPOS)
                             9697 ; 83   |#define HW_SDRAM_CSR_DIV_SETMASK (((1<<HW_SDRAM_CSR_DIV_WIDTH)-1)<<HW_SDRAM_CSR_DIV_BITPOS
                                  )
                             9698 ; 84   |#define HW_SDRAM_CSR_MULTI_SETMASK (((1<<HW_SDRAM_CSR_MULTI_WIDTH)-1)<<HW_SDRAM_CSR_MULTI_
                                  BITPOS)
                             9699 ; 85   |#define HW_SDRAM_CSR_SDRAM_SETMASK (((1<<HW_SDRAM_CSR_SDRAM_WIDTH)-1)<<HW_SDRAM_CSR_SDRAM_
                                  BITPOS)
                             9700 ; 86   |#define HW_SDRAM_CSR_SIGN_SETMASK (((1<<HW_SDRAM_CSR_SIGN_WIDTH)-1)<<HW_SDRAM_CSR_SIGN_BIT
                                  POS)
                             9701 ; 87   |
                             9702 ; 88   |#define HW_SDRAM_CSR_SDRAMEN_CLRMASK ~(WORD)HW_SDRAM_CSR_SDRAMEN_SETMASK
                             9703 ; 89   |#define HW_SDRAM_CSR_IE_CLRMASK ~(WORD)HW_SDRAM_CSR_IE_SETMASK
                             9704 ; 90   |#define HW_SDRAM_CSR_RNW_CLRMASK ~(WORD)HW_SDRAM_CSR_RNW_SETMASK
                             9705 ; 91   |#define HW_SDRAM_CSR_KICK_CLRMASK ~(WORD)HW_SDRAM_CSR_KICK_SETMASK
                             9706 ; 92   |#define HW_SDRAM_CSR_LM_CLRMASK ~(WORD)HW_SDRAM_CSR_LM_SETMASK
                             9707 ; 93   |#define HW_SDRAM_CSR_ISTAT_CLRMASK ~(WORD)HW_SDRAM_CSR_ISTAT_SETMASK
                             9708 ; 94   |#define HW_SDRAM_CSR_PWDN_CLRMASK ~(WORD)HW_SDRAM_CSR_PWDN_SETMASK
                             9709 ; 95   |#define HW_SDRAM_CSR_SBYTE_CLRMASK ~(WORD)HW_SDRAM_CSR_SBYTE_SETMASK
                             9710 ; 96   |#define HW_SDRAM_CSR_MEM_CLRMASK ~(WORD)HW_SDRAM_CSR_MEM_SETMASK
                             9711 ; 97   |#define HW_SDRAM_CSR_BIGE_CLRMASK ~(WORD)HW_SDRAM_CSR_BIGE_SETMASK
                             9712 ; 98   |#define HW_SDRAM_CSR_ASIZE_CLRMASK ~(WORD)HW_SDRAM_CSR_ASIZE_SETMASK
                             9713 ; 99   |#define HW_SDRAM_CSR_UKICK_CLRMASK ~(WORD)HW_SDRAM_CSR_UKICK_SETMASK
                             9714 ; 100  |#define HW_SDRAM_CSR_DIV_CLRMASK ~(WORD)HW_SDRAM_CSR_DIV_SETMASK
                             9715 ; 101  |#define HW_SDRAM_CSR_MULTI_CLRMASK ~(WORD)HW_SDRAM_CSR_MULTI_SETMASK
                             9716 ; 102  |#define HW_SDRAM_CSR_SDRAM_CLRMASK ~(WORD)HW_SDRAM_CSR_SDRAM_SETMASK
                             9717 ; 103  |#define HW_SDRAM_CSR_SIGN_CLRMASK ~(WORD)HW_SDRAM_CSR_SIGN_SETMASK
                             9718 ; 104  |
                             9719 ; 105  |typedef union               
                             9720 ; 106  |{
                             9721 ; 107  |    struct {
                             9722 ; 108  |        int SDRAMEN                     :1;
                             9723 ; 109  |        int IE                          :1;
                             9724 ; 110  |        int RNW                         :1;
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 166

M:ADDR CODE           CYCLES LINE SOURCELINE
                             9725 ; 111  |        int KICK                        :1;
                             9726 ; 112  |        int LM                          :1;
                             9727 ; 113  |        int ISTAT                       :1;
                             9728 ; 114  |        int PWDN                        :1;
                             9729 ; 115  |        int RSVD                        :1;
                             9730 ; 116  |        int SBYTE                       :2;
                             9731 ; 117  |        int MEM                         :2;
                             9732 ; 118  |        int BIGE                        :1;
                             9733 ; 119  |        int ASIZE                       :3;
                             9734 ; 120  |        int UKICK                       :1;
                             9735 ; 121  |        int DIV                         :4;
                             9736 ; 122  |        int MULTI                       :1;
                             9737 ; 123  |        int SDRAM                       :1;
                             9738 ; 124  |        int SIGN                        :1;
                             9739 ; 125  |    } B;
                             9740 ; 126  |    int I;
                             9741 ; 127  |} sdramcsr_type;
                             9742 ; 128  |#define HW_SDRAM_CSR (*(volatile sdramcsr_type _X*) (HW_SDRAM_BASEADDR))        
                             9743 ; 129  |#define HW_SDRAM_ADDR1 (*(volatile unsigned int _X*) (HW_SDRAM_BASEADDR+1))
                             9744 ; 130  |#define HW_SDRAM_ADDR2 (*(volatile unsigned int _X*) (HW_SDRAM_BASEADDR+2))
                             9745 ; 131  |#define HW_SDRAM_SYSADDR (*(volatile unsigned int _X*) (HW_SDRAM_BASEADDR+3))
                             9746 ; 132  |#define HW_SDRAM_SIZE (*(volatile unsigned int _X*) (HW_SDRAM_BASEADDR+4))
                             9747 ; 133  |#define HW_SDRAM_BAR (*(volatile unsigned int _X*) (HW_SDRAM_BASEADDR+7))
                             9748 ; 134  |#define HW_SDRAM_MR (*(volatile unsigned int _X*) (HW_SDRAM_BASEADDR+8))
                             9749 ; 135  |#define HW_SDRAM_DBAR1 (*(volatile unsigned int _X*) (HW_SDRAM_BASEADDR+9))
                             9750 ; 136  |#define HW_SDRAM_DBAR2 (*(volatile unsigned int _X*) (HW_SDRAM_BASEADDR+10))
                             9751 ; 137  |#define HW_SDRAM_DMR1 (*(volatile unsigned int _X*) (HW_SDRAM_BASEADDR+11))
                             9752 ; 138  |#define HW_SDRAM_DMR2 (*(volatile unsigned int _X*) (HW_SDRAM_BASEADDR+12))
                             9753 ; 139  |
                             9754 ; 140  |/////////////////////////////////////////////////////////////////////////////////
                             9755 ; 141  |//  SDRAM Start Address Low Register (HW_SDRAM_ADDR1) Bit Definitions
                             9756 ; 142  |#define HW_SDRAM_ADDR1_XA_BITPOS 0
                             9757 ; 143  |
                             9758 ; 144  |#define HW_SDRAM_ADDR1_XA_SETMASK 0xFFFFFF<<HW_SDRAM_ADDR1_XA_BITPOS
                             9759 ; 145  |
                             9760 ; 146  |#define HW_SDRAM_ADDR1_XA_CLRMASK ~(WORD)HW_SDRAM_ADDR1_XA_SETMASK
                             9761 ; 147  |
                             9762 ; 148  |/////////////////////////////////////////////////////////////////////////////////
                             9763 ; 149  |//  SDRAM Start Address High Register (HW_SDRAM_ADDR2) Bit Definitions
                             9764 ; 150  |#define HW_SDRAM_ADDR2_XA_BITPOS 0
                             9765 ; 151  |
                             9766 ; 152  |#define HW_SDRAM_ADDR2_XA_SETMASK 0x1F<<HW_SDRAM_ADDR2_XA_BITPOS
                             9767 ; 153  |
                             9768 ; 154  |#define HW_SDRAM_ADDR2_XA_CLRMASK ~(WORD)HW_SDRAM_ADDR2_XA_SETMASK
                             9769 ; 155  |
                             9770 ; 156  |/////////////////////////////////////////////////////////////////////////////////
                             9771 ; 157  |//  System Start Address Register (HW_SDRAM_SYSADDR) Bit Definitions
                             9772 ; 158  |#define HW_SDRAM_SYSADDR_XA_BITPOS 0
                             9773 ; 159  |
                             9774 ; 160  |#define HW_SDRAM_SYSADDR_XA_SETMASK 0xFFFF<<HW_SDRAM_SYSADDR_XA_BITPOS
                             9775 ; 161  |
                             9776 ; 162  |#define HW_SDRAM_SYSADDR_XA_CLRMASK ~(WORD)HW_SDRAM_SYSADDR_XA_SETMASK
                             9777 ; 163  |
                             9778 ; 164  |/////////////////////////////////////////////////////////////////////////////////
                             9779 ; 165  |//  Number of Bytes to be transfered Register (HW_SDRAM_SIZE) Bit Definitions
                             9780 ; 166  |#define HW_SDRAM_SIZE_XA_BITPOS 0
                             9781 ; 167  |
                             9782 ; 168  |#define HW_SDRAM_SIZE_XA_SETMASK 0x3FFFF<<HW_SDRAM_SIZE_XA_BITPOS
                             9783 ; 169  |
                             9784 ; 170  |#define HW_SDRAM_SIZE_XA_CLRMASK ~(WORD)HW_SDRAM_SIZE_XA_SETMASK
                             9785 ; 171  |
                             9786 ; 172  |/////////////////////////////////////////////////////////////////////////////////
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 167

M:ADDR CODE           CYCLES LINE SOURCELINE
                             9787 ; 173  |//  SDRAM Timer1 Register (HW_SDRAM_TIMER1) Bit Definitions
                             9788 ; 174  |#define HW_SDRAM_TIMER1_INIT_BITPOS 0
                             9789 ; 175  |#define HW_SDRAM_TIMER1_TRP_BITPOS 16
                             9790 ; 176  |#define HW_SDRAM_TIMER1_TRFC_BITPOS 20
                             9791 ; 177  |
                             9792 ; 178  |#define HW_SDRAM_TIMER1_INIT_WIDTH 16
                             9793 ; 179  |#define HW_SDRAM_TIMER1_TRP_WIDTH 4
                             9794 ; 180  |#define HW_SDRAM_TIMER1_TRFC_WIDTH 4
                             9795 ; 181  |
                             9796 ; 182  |#define HW_SDRAM_TIMER1_INIT_SETMASK (((1<<HW_SDRAM_TIMER1_INIT_WIDTH)-1)<<HW_SDRAM_TIMER1
                                  _INIT_BITPOS)
                             9797 ; 183  |#define HW_SDRAM_TIMER1_TRP_SETMASK (((1<<HW_SDRAM_TIMER1_TRP_WIDTH)-1)<<HW_SDRAM_TIMER1_T
                                  RP_BITPOS)
                             9798 ; 184  |#define HW_SDRAM_TIMER1_TRFC_SETMASK (((1<<HW_SDRAM_TIMER1_TRFC_WIDTH)-1)<<HW_SDRAM_TIMER1
                                  _TRFC_BITPOS)
                             9799 ; 185  |
                             9800 ; 186  |#define HW_SDRAM_TIMER1_INIT_CLRMASK ~(WORD)HW_SDRAM_TIMER1_INIT_SETMASK
                             9801 ; 187  |#define HW_SDRAM_TIMER1_TRP_CLRMASK ~(WORD)HW_SDRAM_TIMER1_TRP_SETMASK
                             9802 ; 188  |#define HW_SDRAM_TIMER1_TRFC_CLRMASK ~(WORD)HW_SDRAM_TIMER1_TRFC_SETMASK
                             9803 ; 189  |
                             9804 ; 190  |typedef union               
                             9805 ; 191  |{
                             9806 ; 192  |    struct {
                             9807 ; 193  |        int INIT                :16;
                             9808 ; 194  |        int TRP                 :4;
                             9809 ; 195  |        int TRFC                :4;
                             9810 ; 196  |    } B;
                             9811 ; 197  |    int I;
                             9812 ; 198  |} sdramtimer1_type;
                             9813 ; 199  |#define HW_SDRAM_TIMER1 (*(volatile sdramtimer1_type _X*) (HW_SDRAM_BASEADDR+5))
                             9814 ; 200  |
                             9815 ; 201  |/////////////////////////////////////////////////////////////////////////////////
                             9816 ; 202  |//  SDRAM Timer2 Register (HW_SDRAM_TIMER2) Bit Definitions
                             9817 ; 203  |#define HW_SDRAM_TIMER2_TXSR_BITPOS 0
                             9818 ; 204  |#define HW_SDRAM_TIMER2_TREF_BITPOS 4
                             9819 ; 205  |#define HW_SDRAM_TIMER2_TRCD_BITPOS 16
                             9820 ; 206  |
                             9821 ; 207  |#define HW_SDRAM_TIMER2_TXSR_WIDTH 4
                             9822 ; 208  |#define HW_SDRAM_TIMER2_TREF_WIDTH 12
                             9823 ; 209  |#define HW_SDRAM_TIMER2_TRCD_WIDTH 4
                             9824 ; 210  |
                             9825 ; 211  |#define HW_SDRAM_TIMER2_TXSR_SETMASK (((1<<HW_SDRAM_TIMER2_TXSR_WIDTH)-1)<<HW_SDRAM_TIMER2
                                  _TXSR_BITPOS)
                             9826 ; 212  |#define HW_SDRAM_TIMER2_TREF_SETMASK (((1<<HW_SDRAM_TIMER2_TREF_WIDTH)-1)<<HW_SDRAM_TIMER2
                                  _TREF_BITPOS)
                             9827 ; 213  |#define HW_SDRAM_TIMER2_TRCD_SETMASK (((1<<HW_SDRAM_TIMER2_TRCD_WIDTH)-1)<<HW_SDRAM_TIMER2
                                  _TRCD_BITPOS)
                             9828 ; 214  |
                             9829 ; 215  |#define HW_SDRAM_TIMER2_TXSR_CLRMASK ~(WORD)HW_SDRAM_TIMER2_TXSR_SETMASK
                             9830 ; 216  |#define HW_SDRAM_TIMER2_TREF_CLRMASK ~(WORD)HW_SDRAM_TIMER2_TREF_SETMASK
                             9831 ; 217  |#define HW_SDRAM_TIMER2_TRCD_CLRMASK ~(WORD)HW_SDRAM_TIMER2_TRCD_SETMASK
                             9832 ; 218  |
                             9833 ; 219  |typedef union               
                             9834 ; 220  |{
                             9835 ; 221  |    struct {
                             9836 ; 222  |        int TXSR                :4;
                             9837 ; 223  |        int TREF                :12;
                             9838 ; 224  |        int TRCD                :4;
                             9839 ; 225  |        int RSVD                :4; 
                             9840 ; 226  |    } B;
                             9841 ; 227  |    int I;
                             9842 ; 228  |} sdramtimer2_type;
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 168

M:ADDR CODE           CYCLES LINE SOURCELINE
                             9843 ; 229  |#define HW_SDRAM_TIMER2 (*(volatile sdramtimer2_type _X*) (HW_SDRAM_BASEADDR+6))
                             9844 ; 230  |
                             9845 ; 231  |/////////////////////////////////////////////////////////////////////////////////
                             9846 ; 232  |//  System Modulo Base Address Register (HW_SDRAM_BAR) Bit Definitions
                             9847 ; 233  |#define HW_SDRAM_BAR_XA_BITPOS 0
                             9848 ; 234  |
                             9849 ; 235  |#define HW_SDRAM_BAR_XA_SETMASK 0xFFFF<<HW_SDRAM_BAR_XA_BITPOS
                             9850 ; 236  |
                             9851 ; 237  |#define HW_SDRAM_BAR_XA_CLRMASK ~(WORD)HW_SDRAM_BAR_XA_SETMASK
                             9852 ; 238  |
                             9853 ; 239  |/////////////////////////////////////////////////////////////////////////////////
                             9854 ; 240  |//  System Modulo Register (HW_SDRAM_MR) Bit Definitions
                             9855 ; 241  |#define HW_SDRAM_MR_XA_BITPOS 0
                             9856 ; 242  |
                             9857 ; 243  |#define HW_SDRAM_MR_XA_SETMASK 0xFFFF<<HW_SDRAM_MR_XA_BITPOS
                             9858 ; 244  |
                             9859 ; 245  |#define HW_SDRAM_MR_XA_CLRMASK ~(WORD)HW_SDRAM_MR_XA_SETMASK
                             9860 ; 246  |
                             9861 ; 247  |/////////////////////////////////////////////////////////////////////////////////
                             9862 ; 248  |//  SDRAM Mode Register (HW_SDRAM_MODE) Bit Definitions
                             9863 ; 249  |#define HW_SDRAM_MODE_XA_BITPOS 0
                             9864 ; 250  |
                             9865 ; 251  |#define HW_SDRAM_MODE_XA_WIDTH 14
                             9866 ; 252  |
                             9867 ; 253  |#define HW_SDRAM_MODE_XA_SETMASK (((1<<HW_SDRAM_MODE_XA_WIDTH)-1)<<HW_SDRAM_MODE_XA_BITPOS
                                  )
                             9868 ; 254  |
                             9869 ; 255  |#define HW_SDRAM_MODE_XA_CLRMASK ~(WORD)HW_SDRAM_MODE_XA_SETMASK
                             9870 ; 256  |
                             9871 ; 257  |typedef union               
                             9872 ; 258  |{
                             9873 ; 259  |    struct {
                             9874 ; 260  |        int VALUE               :14;
                             9875 ; 261  |        int RSVD                :10; 
                             9876 ; 262  |    } B;
                             9877 ; 263  |    int I;
                             9878 ; 264  |} sdrammode_type;
                             9879 ; 265  |#define HW_SDRAM_MODE (*(volatile sdrammode_type _X*) (HW_SDRAM_BASEADDR+14))
                             9880 ; 266  |
                             9881 ; 267  |/////////////////////////////////////////////////////////////////////////////////
                             9882 ; 268  |//  SDRAM Type Register (HW_SDRAM_TYPE) Bit Definitions
                             9883 ; 269  |#define HW_SDRAM_TYPE_COLWIDTH_BITPOS 0
                             9884 ; 270  |#define HW_SDRAM_TYPE_ROWWIDTH_BITPOS 4
                             9885 ; 271  |
                             9886 ; 272  |#define HW_SDRAM_TYPE_COLWIDTH_WIDTH 4
                             9887 ; 273  |#define HW_SDRAM_TYPE_ROWWIDTH_WIDTH 4
                             9888 ; 274  |
                             9889 ; 275  |#define HW_SDRAM_TYPE_COLWIDTH_SETMASK (((1<<HW_SDRAM_TYPE_COLWIDTH_WIDTH)-1)<<HW_SDRAM_TY
                                  PE_COLWIDTH_BITPOS)
                             9890 ; 276  |#define HW_SDRAM_TYPE_ROWWIDTH_SETMASK (((1<<HW_SDRAM_TYPE_ROWWIDTH_WIDTH)-1)<<HW_SDRAM_TY
                                  PE_ROWWIDTH_BITPOS)
                             9891 ; 277  |
                             9892 ; 278  |#define HW_SDRAM_TYPE_COLWIDTH_CLRMASK (~(WORD)HW_SDRAM_TYPE_COLWIDTH_SETMASK)
                             9893 ; 279  |#define HW_SDRAM_TYPE_ROWWIDTH_CLRMASK (~(WORD)HW_SDRAM_TYPE_ROWWIDTH_SETMASK)
                             9894 ; 280  |
                             9895 ; 281  |typedef union               
                             9896 ; 282  |{
                             9897 ; 283  |    struct {
                             9898 ; 284  |        int COLWIDTH               :4;
                             9899 ; 285  |        int ROWWIDTH               :4; 
                             9900 ; 286  |    } B;
                             9901 ; 287  |    int I;
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 169

M:ADDR CODE           CYCLES LINE SOURCELINE
                             9902 ; 288  |} sdramtype_type;
                             9903 ; 289  |#define HW_SDRAM_TYPE (*(volatile sdramtype_type _X*) (HW_SDRAM_BASEADDR+14))
                             9904 ; 290  |
                             9905 ; 291  |#endif
                             9906 ; 292  |
                             9907 ; 293  |
                             9908 ; 294  |
                             9909 ; 295  |
                             9910 ; 296  |
                             9911 ; 297  |
                             9912 
                             9914 
                             9915 ; 34   |#include "regstb.h"
                             9916 
                             9918 
                             9919 ; 1    |/////////////////////////////////////////////////////////////////////////////////
                             9920 ; 2    |// Copyright(C) SigmaTel, Inc. 2000-2003
                             9921 ; 3    |// Filename: regstb.inc
                             9922 ; 4    |// Description: Register definitions for Trace Buffer
                             9923 ; 5    |/////////////////////////////////////////////////////////////////////////////////
                             9924 ; 6    |// The following naming conventions are followed in this file.
                             9925 ; 7    |// All registers are named using the format...
                             9926 ; 8    |//     HW_<module>_<regname>
                             9927 ; 9    |// where <module> is the module name which can be any of the following...
                             9928 ; 10   |//     USB20
                             9929 ; 11   |// (Note that when there is more than one copy of a particular module, the
                             9930 ; 12   |// module name includes a number starting from 0 for the first instance of
                             9931 ; 13   |// that module)
                             9932 ; 14   |// <regname> is the specific register within that module
                             9933 ; 15   |// We also define the following...
                             9934 ; 16   |//     HW_<module>_<regname>_BITPOS
                             9935 ; 17   |// which defines the starting bit (i.e. LSB) of a multi bit field
                             9936 ; 18   |//     HW_<module>_<regname>_SETMASK
                             9937 ; 19   |// which does something else, and
                             9938 ; 20   |//     HW_<module>_<regname>_CLRMASK
                             9939 ; 21   |// which does something else.
                             9940 ; 22   |// Other rules
                             9941 ; 23   |//     All caps
                             9942 ; 24   |//     Numeric identifiers start at 0
                             9943 ; 25   |#if !(defined(regstbinc))
                             9944 ; 26   |#define regstbinc 1
                             9945 ; 27   |
                             9946 ; 28   |#include "types.h"
                             9947 
                             9949 
                             9950 ; 1    |////////////////////////////////////////////////////////////////////////////////
                             9951 ; 2    |// Copyright(C) SigmaTel, Inc. 2000-2004
                             9952 ; 3    |//
                             9953 ; 4    |// Filename: types.h
                             9954 ; 5    |// Description: Standard data types
                             9955 ; 6    |////////////////////////////////////////////////////////////////////////////////
                             9956 ; 7    |
                             9957 ; 8    |#ifndef _TYPES_H
                             9958 ; 9    |#define _TYPES_H
                             9959 ; 10   |
                             9960 ; 11   |// TODO:  move this outta here!
                             9961 ; 12   |#if !defined(NOERROR)
                             9962 ; 13   |#define NOERROR 0
                             9963 ; 14   |#define SUCCESS 0
                             9964 ; 15   |#endif 
                             9965 ; 16   |#if !defined(SUCCESS)
                             9966 ; 17   |#define SUCCESS  0
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 170

M:ADDR CODE           CYCLES LINE SOURCELINE
                             9967 ; 18   |#endif
                             9968 ; 19   |#if !defined(ERROR)
                             9969 ; 20   |#define ERROR   -1
                             9970 ; 21   |#endif
                             9971 ; 22   |#if !defined(FALSE)
                             9972 ; 23   |#define FALSE 0
                             9973 ; 24   |#endif
                             9974 ; 25   |#if !defined(TRUE)
                             9975 ; 26   |#define TRUE  1
                             9976 ; 27   |#endif
                             9977 ; 28   |
                             9978 ; 29   |#if !defined(NULL)
                             9979 ; 30   |#define NULL 0
                             9980 ; 31   |#endif
                             9981 ; 32   |
                             9982 ; 33   |#define MAX_INT     0x7FFFFF
                             9983 ; 34   |#define MAX_LONG    0x7FFFFFffffff
                             9984 ; 35   |        // max positive unsigned long value: -1 == 0xFFFFFFffffff
                             9985 ; 36   |#define MAX_ULONG   (-1) 
                             9986 ; 37   |
                             9987 ; 38   |#define WORD_SIZE   24              // word size in bits
                             9988 ; 39   |#define BYTES_PER_WORD 3            // 8 bit bytes
                             9989 ; 40   |
                             9990 ; 41   |
                             9991 ; 42   |#define BYTE    unsigned char       // btVarName
                             9992 ; 43   |#define CHAR    signed char         // cVarName
                             9993 ; 44   |#define USHORT  unsigned short      // usVarName
                             9994 ; 45   |#define SHORT   unsigned short      // sVarName
                             9995 ; 46   |#define WORD    unsigned int        // wVarName
                             9996 ; 47   |#define INT     signed int          // iVarName
                             9997 ; 48   |#define DWORD   unsigned long       // dwVarName
                             9998 ; 49   |#define LONG    signed long         // lVarName
                             9999 ; 50   |#define BOOL    unsigned int        // bVarName
                            10000 ; 51   |#define FRACT   _fract              // frVarName
                            10001 ; 52   |#define LFRACT  long _fract         // lfrVarName
                            10002 ; 53   |#define CIRC    _circ               // cp<type prefix>VarName (see below)
                            10003 ; 54   |#define FLOAT   float               // fVarName
                            10004 ; 55   |#define DBL     double              // dVarName
                            10005 ; 56   |#define ENUM    enum                // eVarName
                            10006 ; 57   |#define CMX     _complex            // cmxVarName
                            10007 ; 58   |typedef WORD UCS3;                   // 
                            10008 ; 59   |
                            10009 ; 60   |#define UINT16  unsigned short
                            10010 ; 61   |#define UINT8   unsigned char   
                            10011 ; 62   |#define UINT32  unsigned long
                            10012 ; 63   |#define UINT64  unsigned long   // need to figure out how to do 64 bit values.  Or port ex
                                  isiting code to only use 48 bit
                            10013 ; 64   |#define INT64   unsigned long   // need to figure out how to do 64 bit values.  Or port ex
                                  isiting code to only use 48 bit
                            10014 ; 65   |#define WCHAR   UINT16
                            10015 ; 66   |
                            10016 ; 67   |//UINT128 is 16 bytes or 6 words
                            10017 ; 68   |typedef struct UINT128_3500 {   
                            10018 ; 69   |    int val[6];     
                            10019 ; 70   |} UINT128_3500;
                            10020 ; 71   |
                            10021 ; 72   |#define UINT128   UINT128_3500
                            10022 ; 73   |
                            10023 ; 74   |// Little endian word packed byte strings:   
                            10024 ; 75   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                            10025 ; 76   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                            10026 ; 77   |// Little endian word packed byte strings:   
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 171

M:ADDR CODE           CYCLES LINE SOURCELINE
                            10027 ; 78   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                            10028 ; 79   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                            10029 ; 80   |
                            10030 ; 81   |// Declare Memory Spaces To Use When Coding
                            10031 ; 82   |// A. Sector Buffers
                            10032 ; 83   |#define SECTOR_BUFFER_MEM_X _X
                            10033 ; 84   |#define SECTOR_BUFFER_MEM_Y _Y
                            10034 ; 85   |#define SECTOR_BUFFER_MEM SECTOR_BUFFER_MEM_X
                            10035 ; 86   |typedef WORD SECTOR_BUFFER_MEM SECTOR_BUFFER;
                            10036 ; 87   |typedef SECTOR_BUFFER * P_SECTOR_BUFFER;
                            10037 ; 88   |// B. Media DDI Memory
                            10038 ; 89   |#define MEDIA_DDI_MEM _Y
                            10039 ; 90   |
                            10040 ; 91   |
                            10041 ; 92   |
                            10042 ; 93   |// Pointers to linear structures are labeled as: p<type prefix>VarName
                            10043 ; 94   |// Examples of circular pointers:
                            10044 ; 95   |//    INT CIRC cpiVarName
                            10045 ; 96   |//    DWORD CIRC cpdwVarName
                            10046 ; 97   |
                            10047 ; 98   |#define RETCODE INT                 // rcVarName
                            10048 ; 99   |
                            10049 ; 100  |// generic bitfield structure
                            10050 ; 101  |struct Bitfield {
                            10051 ; 102  |    unsigned int B0  :1;
                            10052 ; 103  |    unsigned int B1  :1;
                            10053 ; 104  |    unsigned int B2  :1;
                            10054 ; 105  |    unsigned int B3  :1;
                            10055 ; 106  |    unsigned int B4  :1;
                            10056 ; 107  |    unsigned int B5  :1;
                            10057 ; 108  |    unsigned int B6  :1;
                            10058 ; 109  |    unsigned int B7  :1;
                            10059 ; 110  |    unsigned int B8  :1;
                            10060 ; 111  |    unsigned int B9  :1;
                            10061 ; 112  |    unsigned int B10 :1;
                            10062 ; 113  |    unsigned int B11 :1;
                            10063 ; 114  |    unsigned int B12 :1;
                            10064 ; 115  |    unsigned int B13 :1;
                            10065 ; 116  |    unsigned int B14 :1;
                            10066 ; 117  |    unsigned int B15 :1;
                            10067 ; 118  |    unsigned int B16 :1;
                            10068 ; 119  |    unsigned int B17 :1;
                            10069 ; 120  |    unsigned int B18 :1;
                            10070 ; 121  |    unsigned int B19 :1;
                            10071 ; 122  |    unsigned int B20 :1;
                            10072 ; 123  |    unsigned int B21 :1;
                            10073 ; 124  |    unsigned int B22 :1;
                            10074 ; 125  |    unsigned int B23 :1;
                            10075 ; 126  |};
                            10076 ; 127  |
                            10077 ; 128  |union BitInt {
                            10078 ; 129  |        struct Bitfield B;
                            10079 ; 130  |        int        I;
                            10080 ; 131  |};
                            10081 ; 132  |
                            10082 ; 133  |#define MAX_MSG_LENGTH 10
                            10083 ; 134  |struct CMessage
                            10084 ; 135  |{
                            10085 ; 136  |        unsigned int m_uLength;
                            10086 ; 137  |        unsigned int m_uMsg[MAX_MSG_LENGTH];
                            10087 ; 138  |};
                            10088 ; 139  |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 172

M:ADDR CODE           CYCLES LINE SOURCELINE
                            10089 ; 140  |typedef struct {
                            10090 ; 141  |    WORD m_wLength;
                            10091 ; 142  |    WORD m_wMessage;
                            10092 ; 143  |    WORD m_wParams[MAX_MSG_LENGTH];
                            10093 ; 144  |} Message;
                            10094 ; 145  |
                            10095 ; 146  |struct MessageQueueDescriptor
                            10096 ; 147  |{
                            10097 ; 148  |        int *m_pBase;
                            10098 ; 149  |        int m_iModulo;
                            10099 ; 150  |        int m_iSize;
                            10100 ; 151  |        int *m_pHead;
                            10101 ; 152  |        int *m_pTail;
                            10102 ; 153  |};
                            10103 ; 154  |
                            10104 ; 155  |struct ModuleEntry
                            10105 ; 156  |{
                            10106 ; 157  |    int m_iSignaledEventMask;
                            10107 ; 158  |    int m_iWaitEventMask;
                            10108 ; 159  |    int m_iResourceOfCode;
                            10109 ; 160  |    struct MessageQueueDescriptor *m_pMessageQueue;
                            10110 ; 161  |    int _asmfunc (*m_pProcessEntryPoint)(union WaitMask Signals,struct MessageQueueDescrip
                                  tor *);
                            10111 ; 162  |    int _asmfunc (*m_pInitFunction)(struct MessageQueueDescriptor *);
                            10112 ; 163  |    int m_uTimeOutHigh;
                            10113 ; 164  |    int m_uTimeOutLow;
                            10114 ; 165  |    int _asmfunc (*m_pBackgroundFunction)(struct MessageQueueDescriptor *);
                            10115 ; 166  |};
                            10116 ; 167  |
                            10117 ; 168  |union WaitMask{
                            10118 ; 169  |    struct B{
                            10119 ; 170  |        unsigned int m_bNone     :1;
                            10120 ; 171  |        unsigned int m_bMessage  :1;
                            10121 ; 172  |        unsigned int m_bTimer    :1;
                            10122 ; 173  |        unsigned int m_bButton   :1;
                            10123 ; 174  |    } B;
                            10124 ; 175  |    int I;
                            10125 ; 176  |} ;
                            10126 ; 177  |
                            10127 ; 178  |
                            10128 ; 179  |struct Button {
                            10129 ; 180  |        WORD wButtonEvent;
                            10130 ; 181  |        WORD wUnused[MAX_MSG_LENGTH];   
                            10131 ; 182  |};
                            10132 ; 183  |
                            10133 ; 184  |struct Message {
                            10134 ; 185  |        WORD wMsgLength;
                            10135 ; 186  |        WORD wMsgCommand;
                            10136 ; 187  |        WORD wMsgParms[MAX_MSG_LENGTH-1];
                            10137 ; 188  |};
                            10138 ; 189  |
                            10139 ; 190  |union EventTypes {
                            10140 ; 191  |        struct CMessage msg;
                            10141 ; 192  |        struct Button Button ;
                            10142 ; 193  |        struct Message Message;
                            10143 ; 194  |};
                            10144 ; 195  |
                            10145 ; 196  |// next 2 used to get updater build to return correct protocol ver in scsi response.
                            10146 ; 197  |#define BUILD_TYPE_UPDATER  0x100
                            10147 ; 198  |#define BUILD_TYPE_HOSTLINK 0x101
                            10148 ; 199  |#define BUILD_TYPE_PLAYER   0x102
                            10149 ; 200  |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 173

M:ADDR CODE           CYCLES LINE SOURCELINE
                            10150 ; 201  |// Resets part if RETAIL build. DEBUG build executes debug instruction to halt.
                            10151 ; 202  |#define SystemHalt() __asm(" include 'sysmacro.asm' \n error") 
                            10152 ; 203  |#define assert(x)    if(!(x)) __asm(" include 'sysmacro.asm' \n error")
                            10153 ; 204  |
                            10154 ; 205  |#if DEBUG
                            10155 ; 206  |// For DEBUG builds, DebugBuildAssert(condition) halts if condition evaluates to FALSE. 
                            10156 ; 207  |#define DebugBuildAssert(x)    if(!(x)) __asm(" debug ")
                            10157 ; 208  |#else 
                            10158 ; 209  |// For RETAIL builds, DebugBuildAssert(condition) does nothing & execution continues rathe
                                  r than halt or reset. 
                            10159 ; 210  |#define DebugBuildAssert(x)    
                            10160 ; 211  |#endif
                            10161 ; 212  |
                            10162 ; 213  |// Do this in your C files to make a reminder that's displayed during the build.
                            10163 ; 214  |//  #pragma asm
                            10164 ; 215  |//  WARN 'Note to builder: reminder to do this after verifying that'
                            10165 ; 216  |//  #pragma endasm
                            10166 ; 217  |
                            10167 ; 218  |
                            10168 ; 219  |#ifdef COLOR_262K
                            10169 ; 220  |#define RGB(r,g,b)    ((0x0000FC & (r)) << 10) | ((0x0000FC & (g)) << 4) | ((0x0000FC & (b
                                  )) >> 2)    //262k
                            10170 ; 221  |#elif defined(COLOR_65K)
                            10171 ; 222  |#define RGB(r,g,b)    ((0x0000F8 & (r)) << 8) | ((0x0000FC & (g)) << 3) | ((0x0000F8 & (b)
                                  ) >> 3)  //65k
                            10172 ; 223  |#else
                            10173 ; 224  |#define RGB(r,g,b)       ((0x0000F0 & (r)) << 4) | (0x0000F0 & (g)) | ((0x0000F0 & (b)) >>
                                   4)
                            10174 ; 225  |#endif
                            10175 ; 226  |    
                            10176 ; 227  |#endif // #ifndef _TYPES_H
                            10177 
                            10179 
                            10180 ; 29   |
                            10181 ; 30   |//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                            10182 ; 31   |
                            10183 ; 32   |//   Trace Buffer STMP Registers 
                            10184 ; 33   |//   Last Updated 6.30.2003 D. Baker
                            10185 ; 34   |//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                            10186 ; 35   |
                            10187 ; 36   |#define HW_TB_BASEADDR (0xF080)
                            10188 ; 37   |
                            10189 ; 38   |
                            10190 ; 39   |
                            10191 ; 40   |
                            10192 ; 41   |/////////////////////////////////////////////////////////////////////////////////
                            10193 ; 42   |
                            10194 ; 43   |//  Trace Buffer Configuration Register (HW_TB_CFG) Bit Definitions
                            10195 ; 44   |
                            10196 ; 45   |#define HW_TB_CFG_CLK_ENABLE_BITPOS (0)
                            10197 ; 46   |#define HW_TB_CFG_ENABLE_BITPOS (1)
                            10198 ; 47   |#define HW_TB_CFG_DONE_BITPOS (3)
                            10199 ; 48   |#define HW_TB_CFG_DMA_ASEL_BITPOS (4)
                            10200 ; 49   |#define HW_TB_CFG_TRIG_EVENT_BITPOS (6)
                            10201 ; 50   |
                            10202 ; 51   |#define HW_TB_CFG_CLK_ENABLE_WIDTH (1)
                            10203 ; 52   |#define HW_TB_CFG_ENABLE_WIDTH (1)
                            10204 ; 53   |#define HW_TB_CFG_RSVD1_WIDTH (1)
                            10205 ; 54   |#define HW_TB_CFG_DONE_WIDTH (1)
                            10206 ; 55   |#define HW_TB_CFG_DMA_ASEL_WIDTH (2)
                            10207 ; 56   |#define HW_TB_CFG_TRIG_EVENT_WIDTH (1)
                            10208 ; 57   |#define HW_TB_CFG_RSVD2_WIDTH (17)
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 174

M:ADDR CODE           CYCLES LINE SOURCELINE
                            10209 ; 58   |
                            10210 ; 59   |#define HW_TB_CFG_CLK_ENABLE_SETMASK (((1<<HW_TB_CFG_CLK_ENABLE_WIDTH)-1)<<HW_TB_CFG_CLK_E
                                  NABLE_BITPOS) 
                            10211 ; 60   |#define HW_TB_CFG_ENABLE_SETMASK (((1<<HW_TB_CFG_ENABLE_WIDTH)-1)<<HW_TB_CFG_ENABLE_BITPOS
                                  ) 
                            10212 ; 61   |#define HW_TB_CFG_DONE_SETMASK (((1<<HW_TB_CFG_DONE_WIDTH)-1)<<HW_TB_CFG_DONE_BITPOS) 
                            10213 ; 62   |#define HW_TB_CFG_DMA_ASEL_SETMASK (((1<<HW_TB_CFG_DMA_ASEL_WIDTH)-1)<<HW_TB_CFG_DMA_ASEL_
                                  BITPOS) 
                            10214 ; 63   |#define HW_TB_CFG_TRIG_EVENT_SETMASK (((1<<HW_TB_CFG_TRIG_EVENT_WIDTH)-1)<<HW_TB_CFG_TRIG_
                                  EVENT_BITPOS) 
                            10215 ; 64   |
                            10216 ; 65   |#define HW_TB_CFG_CLK_ENABLE_CLRMASK (~(WORD)HW_TB_CFG_CLK_ENABLE_SETMASK)
                            10217 ; 66   |#define HW_TB_CFG_ENABLE_CLRMASK (~(WORD)HW_TB_CFG_ENABLE_SETMASK)
                            10218 ; 67   |#define HW_TB_CFG_DONE_CLRMASK (~(WORD)HW_TB_CFG_DONE_SETMASK)
                            10219 ; 68   |#define HW_TB_CFG_DMA_ASEL_CLRMASK (~(WORD)HW_TB_CFG_DMA_ASEL_SETMASK)
                            10220 ; 69   |#define HW_TB_CFG_TRIG_EVENT_CLRMASK (~(WORD)HW_TB_CFG_TRIG_EVENT_SETMASK)
                            10221 ; 70   |
                            10222 ; 71   |typedef union               
                            10223 ; 72   |{
                            10224 ; 73   |    struct {
                            10225 ; 74   |         int CLK_ENABLE      : HW_TB_CFG_CLK_ENABLE_WIDTH;
                            10226 ; 75   |         int ENABLE          : HW_TB_CFG_ENABLE_WIDTH;
                            10227 ; 76   |        int rsvd1           : HW_TB_CFG_RSVD1_WIDTH;
                            10228 ; 77   |         int DONE            : HW_TB_CFG_DONE_WIDTH;
                            10229 ; 78   |         int DMA_ASEL        : HW_TB_CFG_DMA_ASEL_WIDTH;
                            10230 ; 79   |         int TRIG_EVENT      : HW_TB_CFG_TRIG_EVENT_WIDTH;
                            10231 ; 80   |        int rsvd2           : HW_TB_CFG_RSVD2_WIDTH;
                            10232 ; 81   |    } B;
                            10233 ; 82   |    int I;
                            10234 ; 83   |    unsigned int U;
                            10235 ; 84   |} tb_cfg_type;
                            10236 ; 85   |#define HW_TB_CFG      (*(volatile tb_cfg_type _X*) (HW_TB_BASEADDR+0))    /* Trace Buffer
                                   Configuration Register */
                            10237 ; 86   |
                            10238 ; 87   |/////////////////////////////////////////////////////////////////////////////////
                            10239 ; 88   |
                            10240 ; 89   |//  Trace Buffer Base Address Register (HW_TB_BAR) Bit Definitions
                            10241 ; 90   |
                            10242 ; 91   |#define HW_TB_BAR_ADDRESS_BITPOS (0)
                            10243 ; 92   |
                            10244 ; 93   |#define HW_TB_BAR_ADDRESS_WIDTH (16)        
                            10245 ; 94   |#define HW_TB_BAR_RSVD_WIDTH (8)
                            10246 ; 95   |
                            10247 ; 96   |#define HW_TB_BAR_ADDRESS_SETMASK (((1<<HW_TB_BAR_ADDRESS_WIDTH)-1)<<HW_TB_BAR_ADDRESS_BIT
                                  POS) 
                            10248 ; 97   |
                            10249 ; 98   |#define HW_TB_BAR_ADDRESS_CLRMASK (~(WORD)HW_TB_BAR_ADDRESS_SETMASK)
                            10250 ; 99   |
                            10251 ; 100  |typedef union               
                            10252 ; 101  |{
                            10253 ; 102  |    struct {
                            10254 ; 103  |         int ADDRESS      : HW_TB_BAR_ADDRESS_WIDTH;
                            10255 ; 104  |        int reserved     : HW_TB_BAR_RSVD_WIDTH;
                            10256 ; 105  |    } B;
                            10257 ; 106  |    int I;
                            10258 ; 107  |    unsigned int U;
                            10259 ; 108  |} tb_bar_type;
                            10260 ; 109  |#define HW_TB_BAR      (*(volatile tb_bar_type _X*) (HW_TB_BASEADDR+1))    /* Trace Buffer
                                   Base Address Register */
                            10261 ; 110  |
                            10262 ; 111  |/////////////////////////////////////////////////////////////////////////////////
                            10263 ; 112  |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 175

M:ADDR CODE           CYCLES LINE SOURCELINE
                            10264 ; 113  |//  Trace Buffer Modulo Register (HW_TB_MOD) Bit Definitions
                            10265 ; 114  |
                            10266 ; 115  |#define HW_TB_MOD_MODULUS_BITPOS (0)
                            10267 ; 116  |
                            10268 ; 117  |#define HW_TB_MOD_MODULUS_WIDTH (14)        
                            10269 ; 118  |#define HW_TB_MOD_RSVD_WIDTH (10)
                            10270 ; 119  |
                            10271 ; 120  |#define HW_TB_MOD_MODULUS_SETMASK (((1<<HW_TB_MOD_MODULUS_WIDTH)-1)<<HW_TB_MOD_MODULUS_BIT
                                  POS) 
                            10272 ; 121  |
                            10273 ; 122  |#define HW_TB_MOD_MODULUS_CLRMASK (~(WORD)HW_TB_MOD_MODULUS_SETMASK)
                            10274 ; 123  |
                            10275 ; 124  |typedef union               
                            10276 ; 125  |{
                            10277 ; 126  |    struct {
                            10278 ; 127  |         int MODULUS      : HW_TB_MOD_MODULUS_WIDTH;
                            10279 ; 128  |        int reserved        : HW_TB_MOD_RSVD_WIDTH;
                            10280 ; 129  |    } B;
                            10281 ; 130  |    int I;
                            10282 ; 131  |    unsigned int U;
                            10283 ; 132  |} tb_mod_type;
                            10284 ; 133  |#define HW_TB_MOD      (*(volatile tb_mod_type _X*) (HW_TB_BASEADDR+2))    /* Trace Buffer
                                   Modulus Register */
                            10285 ; 134  |
                            10286 ; 135  |/////////////////////////////////////////////////////////////////////////////////
                            10287 ; 136  |
                            10288 ; 137  |//  Trace Buffer Current Index Register (HW_TB_CIR) Bit Definitions
                            10289 ; 138  |
                            10290 ; 139  |#define HW_TB_CIR_INDEX_BITPOS (0)
                            10291 ; 140  |
                            10292 ; 141  |#define HW_TB_CIR_INDEX_WIDTH (14)        
                            10293 ; 142  |#define HW_TB_CIR_RSVD_WIDTH (10)
                            10294 ; 143  |
                            10295 ; 144  |#define HW_TB_CIR_INDEX_SETMASK (((1<<HW_TB_CIR_INDEX_WIDTH)-1)<<HW_TB_CIR_INDEX_BITPOS) 
                            10296 ; 145  |
                            10297 ; 146  |#define HW_TB_CIR_INDEX_CLRMASK (~(WORD)HW_TB_CIR_INDEX_SETMASK)
                            10298 ; 147  |
                            10299 ; 148  |typedef union               
                            10300 ; 149  |{
                            10301 ; 150  |    struct {
                            10302 ; 151  |         int INDEX        : HW_TB_CIR_INDEX_WIDTH;
                            10303 ; 152  |        int reserved     : HW_TB_CIR_RSVD_WIDTH;
                            10304 ; 153  |    } B;
                            10305 ; 154  |    int I;
                            10306 ; 155  |    unsigned int U;
                            10307 ; 156  |} tb_cir_type;
                            10308 ; 157  |#define HW_TB_CIR      (*(volatile tb_cir_type _X*) (HW_TB_BASEADDR+3))    /* Trace Buffer
                                   Current Index Register */
                            10309 ; 158  |
                            10310 ; 159  |/////////////////////////////////////////////////////////////////////////////////
                            10311 ; 160  |
                            10312 ; 161  |//  Trace Buffer One Byte Code Register (HW_TB_OBC) Bit Definitions
                            10313 ; 162  |
                            10314 ; 163  |#define HW_TB_OBC_CODE_BITPOS (0)
                            10315 ; 164  |
                            10316 ; 165  |#define HW_TB_OBC_CODE_WIDTH (8)        
                            10317 ; 166  |#define HW_TB_OBC_RSVD_WIDTH (16)
                            10318 ; 167  |
                            10319 ; 168  |#define HW_TB_OBC_CODE_SETMASK (((1<<HW_TB_OBC_CODE_WIDTH)-1)<<HW_TB_OBC_CODE_BITPOS) 
                            10320 ; 169  |
                            10321 ; 170  |#define HW_TB_OBC_CODE_CLRMASK (~(WORD)HW_TB_OBC_CODE_SETMASK)
                            10322 ; 171  |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 176

M:ADDR CODE           CYCLES LINE SOURCELINE
                            10323 ; 172  |typedef union               
                            10324 ; 173  |{
                            10325 ; 174  |    struct {
                            10326 ; 175  |         int CODE        : HW_TB_OBC_CODE_WIDTH;
                            10327 ; 176  |        int reserved    : HW_TB_OBC_RSVD_WIDTH;
                            10328 ; 177  |    } B;
                            10329 ; 178  |    int I;
                            10330 ; 179  |    unsigned int U;
                            10331 ; 180  |} tb_obc_type;
                            10332 ; 181  |#define HW_TB_OBC      (*(volatile tb_obc_type _X*) (HW_TB_BASEADDR+4))    /* Trace Buffer
                                   one byte code Register */
                            10333 ; 182  |
                            10334 ; 183  |/////////////////////////////////////////////////////////////////////////////////
                            10335 ; 184  |
                            10336 ; 185  |//  Trace Buffer Trigger Command Register (HW_TB_TCS) Bit Definitions
                            10337 ; 186  |
                            10338 ; 187  |#define HW_TB_TCS_TRG_STYLE_BITPOS (0)
                            10339 ; 188  |#define HW_TB_TCS_CAP_CLASS_BITPOS (1)
                            10340 ; 189  |#define HW_TB_TCS_TRG_CLASS_BITPOS (3)
                            10341 ; 190  |#define HW_TB_TCS_FREEZE_BITPOS (5)
                            10342 ; 191  |
                            10343 ; 192  |#define HW_TB_TCS_TRG_STYLE_WIDTH (1)        
                            10344 ; 193  |#define HW_TB_TCS_CAP_CLASS_WIDTH (2)        
                            10345 ; 194  |#define HW_TB_TCS_TRG_CLASS_WIDTH (2)        
                            10346 ; 195  |#define HW_TB_TCS_FREEZE_WIDTH (1)        
                            10347 ; 196  |#define HW_TB_TCS_RSVD_WIDTH (18)
                            10348 ; 197  |
                            10349 ; 198  |#define HW_TB_TCS_TRG_STYLE_SETMASK (((1<<HW_TB_TCS_TRG_STYLE_WIDTH)-1)<<HW_TB_TCS_TRG_STY
                                  LE_BITPOS) 
                            10350 ; 199  |#define HW_TB_TCS_CAP_CLASS_SETMASK (((1<<HW_TB_TCS_CAP_CLASS_WIDTH)-1)<<HW_TB_TCS_CAP_CLA
                                  SS_BITPOS) 
                            10351 ; 200  |#define HW_TB_TCS_TRG_CLASS_SETMASK (((1<<HW_TB_TCS_TRG_CLASS_WIDTH)-1)<<HW_TB_TCS_TRG_CLA
                                  SS_BITPOS) 
                            10352 ; 201  |#define HW_TB_TCS_FREEZE_SETMASK (((1<<HW_TB_TCS_FREEZE_WIDTH)-1)<<HW_TB_TCS_FREEZE_BITPOS
                                  ) 
                            10353 ; 202  |
                            10354 ; 203  |#define HW_TB_TCS_TRG_STYLE_CLRMASK (~(WORD)HW_TB_TCS_TRG_STYLE_SETMASK)
                            10355 ; 204  |#define HW_TB_TCS_CAP_CLASS_CLRMASK (~(WORD)HW_TB_TCS_CAP_CLASS_SETMASK)
                            10356 ; 205  |#define HW_TB_TCS_TRG_CLASS_CLRMASK (~(WORD)HW_TB_TCS_TRG_CLASS_SETMASK)
                            10357 ; 206  |#define HW_TB_TCS_FREEZE_CLRMASK (~(WORD)HW_TB_TCS_FREEZE_SETMASK)
                            10358 ; 207  |
                            10359 ; 208  |typedef union               
                            10360 ; 209  |{
                            10361 ; 210  |    struct {
                            10362 ; 211  |         int TRG_STYLE       : HW_TB_TCS_TRG_STYLE_WIDTH;
                            10363 ; 212  |         int CAP_CLASS       : HW_TB_TCS_CAP_CLASS_WIDTH;
                            10364 ; 213  |         int TRG_CLASS       : HW_TB_TCS_TRG_CLASS_WIDTH;
                            10365 ; 214  |         int FREEZE          : HW_TB_TCS_FREEZE_WIDTH;
                            10366 ; 215  |        int reserved        : HW_TB_TCS_RSVD_WIDTH;
                            10367 ; 216  |    } B;
                            10368 ; 217  |    int I;
                            10369 ; 218  |    unsigned int U;
                            10370 ; 219  |} tb_tcs_type;
                            10371 ; 220  |#define HW_TB_TCS      (*(volatile tb_tcs_type _X*) (HW_TB_BASEADDR+16))    /* Trace Buffe
                                  r Trigger Command Register */
                            10372 ; 221  |
                            10373 ; 222  |/////////////////////////////////////////////////////////////////////////////////
                            10374 ; 223  |
                            10375 ; 224  |//  Trace Buffer Trigger Value Register (HW_TB_TVR) Bit Definitions
                            10376 ; 225  |
                            10377 ; 226  |#define HW_TB_TVR_MATCH_ADDR_BITPOS (0)
                            10378 ; 227  |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 177

M:ADDR CODE           CYCLES LINE SOURCELINE
                            10379 ; 228  |#define HW_TB_TVR_MATCH_ADDR_WIDTH (16)        
                            10380 ; 229  |#define HW_TB_TVR_RSVD_WIDTH (8)
                            10381 ; 230  |
                            10382 ; 231  |#define HW_TB_TVR_MATCH_ADDR_SETMASK (((1<<HW_TB_TVR_MATCH_ADDR_WIDTH)-1)<<HW_TB_TVR_MATCH
                                  _ADDR_BITPOS) 
                            10383 ; 232  |
                            10384 ; 233  |#define HW_TB_TVR_MATCH_ADDR_CLRMASK (~(WORD)HW_TB_TVR_MATCH_ADDR_SETMASK)
                            10385 ; 234  |
                            10386 ; 235  |typedef union               
                            10387 ; 236  |{
                            10388 ; 237  |    struct {
                            10389 ; 238  |         int MATCH_ADDR      : HW_TB_TVR_MATCH_ADDR_WIDTH;
                            10390 ; 239  |        int reserved        : HW_TB_TVR_RSVD_WIDTH;
                            10391 ; 240  |    } B;
                            10392 ; 241  |    int I;
                            10393 ; 242  |    unsigned int U;
                            10394 ; 243  |} tb_tvr_type;
                            10395 ; 244  |#define HW_TB_TVR      (*(volatile tb_tvr_type _X*) (HW_TB_BASEADDR+24))    /* Trace Buffe
                                  r Trigger Value Register */
                            10396 ; 245  |
                            10397 ; 246  |
                            10398 ; 247  |
                            10399 ; 248  |#endif
                            10400 ; 249  |
                            10401 ; 250  |
                            10402 ; 251  |
                            10403 ; 252  |
                            10404 ; 253  |
                            10405 ; 254  |
                            10406 ; 255  |
                            10407 ; 256  |
                            10408 ; 257  |
                            10409 ; 258  |
                            10410 ; 259  |
                            10411 ; 260  |
                            10412 ; 261  |
                            10413 ; 262  |
                            10414 ; 263  |
                            10415 ; 264  |
                            10416 ; 265  |
                            10417 
                            10419 
                            10420 ; 35   |#include "regstimer.h"
                            10421 
                            10423 
                            10424 ; 1    |/////////////////////////////////////////////////////////////////////////////////
                            10425 ; 2    |// Copyright(C) SigmaTel, Inc. 2000-2001
                            10426 ; 3    |// Filename: regstimer.inc
                            10427 ; 4    |// Description: Register definitions for  Timers interface
                            10428 ; 5    |/////////////////////////////////////////////////////////////////////////////////
                            10429 ; 6    |// The following naming conventions are followed in this file.
                            10430 ; 7    |// All registers are named using the format...
                            10431 ; 8    |//     HW_<module>_<regname>
                            10432 ; 9    |// where <module> is the module name which can be any of the following...
                            10433 ; 10   |//     USB20
                            10434 ; 11   |// (Note that when there is more than one copy of a particular module, the
                            10435 ; 12   |// module name includes a number starting from 0 for the first instance of
                            10436 ; 13   |// that module)
                            10437 ; 14   |// <regname> is the specific register within that module
                            10438 ; 15   |// We also define the following...
                            10439 ; 16   |//     HW_<module>_<regname>_BITPOS
                            10440 ; 17   |// which defines the starting bit (i.e. LSB) of a multi bit field
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 178

M:ADDR CODE           CYCLES LINE SOURCELINE
                            10441 ; 18   |//     HW_<module>_<regname>_SETMASK
                            10442 ; 19   |// which does something else, and
                            10443 ; 20   |//     HW_<module>_<regname>_CLRMASK
                            10444 ; 21   |// which does something else.
                            10445 ; 22   |// Other rules
                            10446 ; 23   |//     All caps
                            10447 ; 24   |//     Numeric identifiers start at 0
                            10448 ; 25   |#if !(defined(regstimerinc))
                            10449 ; 26   |#define regstimerinc 1
                            10450 ; 27   |
                            10451 ; 28   |#include "types.h"
                            10452 
                            10454 
                            10455 ; 1    |////////////////////////////////////////////////////////////////////////////////
                            10456 ; 2    |// Copyright(C) SigmaTel, Inc. 2000-2004
                            10457 ; 3    |//
                            10458 ; 4    |// Filename: types.h
                            10459 ; 5    |// Description: Standard data types
                            10460 ; 6    |////////////////////////////////////////////////////////////////////////////////
                            10461 ; 7    |
                            10462 ; 8    |#ifndef _TYPES_H
                            10463 ; 9    |#define _TYPES_H
                            10464 ; 10   |
                            10465 ; 11   |// TODO:  move this outta here!
                            10466 ; 12   |#if !defined(NOERROR)
                            10467 ; 13   |#define NOERROR 0
                            10468 ; 14   |#define SUCCESS 0
                            10469 ; 15   |#endif 
                            10470 ; 16   |#if !defined(SUCCESS)
                            10471 ; 17   |#define SUCCESS  0
                            10472 ; 18   |#endif
                            10473 ; 19   |#if !defined(ERROR)
                            10474 ; 20   |#define ERROR   -1
                            10475 ; 21   |#endif
                            10476 ; 22   |#if !defined(FALSE)
                            10477 ; 23   |#define FALSE 0
                            10478 ; 24   |#endif
                            10479 ; 25   |#if !defined(TRUE)
                            10480 ; 26   |#define TRUE  1
                            10481 ; 27   |#endif
                            10482 ; 28   |
                            10483 ; 29   |#if !defined(NULL)
                            10484 ; 30   |#define NULL 0
                            10485 ; 31   |#endif
                            10486 ; 32   |
                            10487 ; 33   |#define MAX_INT     0x7FFFFF
                            10488 ; 34   |#define MAX_LONG    0x7FFFFFffffff
                            10489 ; 35   |        // max positive unsigned long value: -1 == 0xFFFFFFffffff
                            10490 ; 36   |#define MAX_ULONG   (-1) 
                            10491 ; 37   |
                            10492 ; 38   |#define WORD_SIZE   24              // word size in bits
                            10493 ; 39   |#define BYTES_PER_WORD 3            // 8 bit bytes
                            10494 ; 40   |
                            10495 ; 41   |
                            10496 ; 42   |#define BYTE    unsigned char       // btVarName
                            10497 ; 43   |#define CHAR    signed char         // cVarName
                            10498 ; 44   |#define USHORT  unsigned short      // usVarName
                            10499 ; 45   |#define SHORT   unsigned short      // sVarName
                            10500 ; 46   |#define WORD    unsigned int        // wVarName
                            10501 ; 47   |#define INT     signed int          // iVarName
                            10502 ; 48   |#define DWORD   unsigned long       // dwVarName
                            10503 ; 49   |#define LONG    signed long         // lVarName
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 179

M:ADDR CODE           CYCLES LINE SOURCELINE
                            10504 ; 50   |#define BOOL    unsigned int        // bVarName
                            10505 ; 51   |#define FRACT   _fract              // frVarName
                            10506 ; 52   |#define LFRACT  long _fract         // lfrVarName
                            10507 ; 53   |#define CIRC    _circ               // cp<type prefix>VarName (see below)
                            10508 ; 54   |#define FLOAT   float               // fVarName
                            10509 ; 55   |#define DBL     double              // dVarName
                            10510 ; 56   |#define ENUM    enum                // eVarName
                            10511 ; 57   |#define CMX     _complex            // cmxVarName
                            10512 ; 58   |typedef WORD UCS3;                   // 
                            10513 ; 59   |
                            10514 ; 60   |#define UINT16  unsigned short
                            10515 ; 61   |#define UINT8   unsigned char   
                            10516 ; 62   |#define UINT32  unsigned long
                            10517 ; 63   |#define UINT64  unsigned long   // need to figure out how to do 64 bit values.  Or port ex
                                  isiting code to only use 48 bit
                            10518 ; 64   |#define INT64   unsigned long   // need to figure out how to do 64 bit values.  Or port ex
                                  isiting code to only use 48 bit
                            10519 ; 65   |#define WCHAR   UINT16
                            10520 ; 66   |
                            10521 ; 67   |//UINT128 is 16 bytes or 6 words
                            10522 ; 68   |typedef struct UINT128_3500 {   
                            10523 ; 69   |    int val[6];     
                            10524 ; 70   |} UINT128_3500;
                            10525 ; 71   |
                            10526 ; 72   |#define UINT128   UINT128_3500
                            10527 ; 73   |
                            10528 ; 74   |// Little endian word packed byte strings:   
                            10529 ; 75   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                            10530 ; 76   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                            10531 ; 77   |// Little endian word packed byte strings:   
                            10532 ; 78   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                            10533 ; 79   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                            10534 ; 80   |
                            10535 ; 81   |// Declare Memory Spaces To Use When Coding
                            10536 ; 82   |// A. Sector Buffers
                            10537 ; 83   |#define SECTOR_BUFFER_MEM_X _X
                            10538 ; 84   |#define SECTOR_BUFFER_MEM_Y _Y
                            10539 ; 85   |#define SECTOR_BUFFER_MEM SECTOR_BUFFER_MEM_X
                            10540 ; 86   |typedef WORD SECTOR_BUFFER_MEM SECTOR_BUFFER;
                            10541 ; 87   |typedef SECTOR_BUFFER * P_SECTOR_BUFFER;
                            10542 ; 88   |// B. Media DDI Memory
                            10543 ; 89   |#define MEDIA_DDI_MEM _Y
                            10544 ; 90   |
                            10545 ; 91   |
                            10546 ; 92   |
                            10547 ; 93   |// Pointers to linear structures are labeled as: p<type prefix>VarName
                            10548 ; 94   |// Examples of circular pointers:
                            10549 ; 95   |//    INT CIRC cpiVarName
                            10550 ; 96   |//    DWORD CIRC cpdwVarName
                            10551 ; 97   |
                            10552 ; 98   |#define RETCODE INT                 // rcVarName
                            10553 ; 99   |
                            10554 ; 100  |// generic bitfield structure
                            10555 ; 101  |struct Bitfield {
                            10556 ; 102  |    unsigned int B0  :1;
                            10557 ; 103  |    unsigned int B1  :1;
                            10558 ; 104  |    unsigned int B2  :1;
                            10559 ; 105  |    unsigned int B3  :1;
                            10560 ; 106  |    unsigned int B4  :1;
                            10561 ; 107  |    unsigned int B5  :1;
                            10562 ; 108  |    unsigned int B6  :1;
                            10563 ; 109  |    unsigned int B7  :1;
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 180

M:ADDR CODE           CYCLES LINE SOURCELINE
                            10564 ; 110  |    unsigned int B8  :1;
                            10565 ; 111  |    unsigned int B9  :1;
                            10566 ; 112  |    unsigned int B10 :1;
                            10567 ; 113  |    unsigned int B11 :1;
                            10568 ; 114  |    unsigned int B12 :1;
                            10569 ; 115  |    unsigned int B13 :1;
                            10570 ; 116  |    unsigned int B14 :1;
                            10571 ; 117  |    unsigned int B15 :1;
                            10572 ; 118  |    unsigned int B16 :1;
                            10573 ; 119  |    unsigned int B17 :1;
                            10574 ; 120  |    unsigned int B18 :1;
                            10575 ; 121  |    unsigned int B19 :1;
                            10576 ; 122  |    unsigned int B20 :1;
                            10577 ; 123  |    unsigned int B21 :1;
                            10578 ; 124  |    unsigned int B22 :1;
                            10579 ; 125  |    unsigned int B23 :1;
                            10580 ; 126  |};
                            10581 ; 127  |
                            10582 ; 128  |union BitInt {
                            10583 ; 129  |        struct Bitfield B;
                            10584 ; 130  |        int        I;
                            10585 ; 131  |};
                            10586 ; 132  |
                            10587 ; 133  |#define MAX_MSG_LENGTH 10
                            10588 ; 134  |struct CMessage
                            10589 ; 135  |{
                            10590 ; 136  |        unsigned int m_uLength;
                            10591 ; 137  |        unsigned int m_uMsg[MAX_MSG_LENGTH];
                            10592 ; 138  |};
                            10593 ; 139  |
                            10594 ; 140  |typedef struct {
                            10595 ; 141  |    WORD m_wLength;
                            10596 ; 142  |    WORD m_wMessage;
                            10597 ; 143  |    WORD m_wParams[MAX_MSG_LENGTH];
                            10598 ; 144  |} Message;
                            10599 ; 145  |
                            10600 ; 146  |struct MessageQueueDescriptor
                            10601 ; 147  |{
                            10602 ; 148  |        int *m_pBase;
                            10603 ; 149  |        int m_iModulo;
                            10604 ; 150  |        int m_iSize;
                            10605 ; 151  |        int *m_pHead;
                            10606 ; 152  |        int *m_pTail;
                            10607 ; 153  |};
                            10608 ; 154  |
                            10609 ; 155  |struct ModuleEntry
                            10610 ; 156  |{
                            10611 ; 157  |    int m_iSignaledEventMask;
                            10612 ; 158  |    int m_iWaitEventMask;
                            10613 ; 159  |    int m_iResourceOfCode;
                            10614 ; 160  |    struct MessageQueueDescriptor *m_pMessageQueue;
                            10615 ; 161  |    int _asmfunc (*m_pProcessEntryPoint)(union WaitMask Signals,struct MessageQueueDescrip
                                  tor *);
                            10616 ; 162  |    int _asmfunc (*m_pInitFunction)(struct MessageQueueDescriptor *);
                            10617 ; 163  |    int m_uTimeOutHigh;
                            10618 ; 164  |    int m_uTimeOutLow;
                            10619 ; 165  |    int _asmfunc (*m_pBackgroundFunction)(struct MessageQueueDescriptor *);
                            10620 ; 166  |};
                            10621 ; 167  |
                            10622 ; 168  |union WaitMask{
                            10623 ; 169  |    struct B{
                            10624 ; 170  |        unsigned int m_bNone     :1;
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 181

M:ADDR CODE           CYCLES LINE SOURCELINE
                            10625 ; 171  |        unsigned int m_bMessage  :1;
                            10626 ; 172  |        unsigned int m_bTimer    :1;
                            10627 ; 173  |        unsigned int m_bButton   :1;
                            10628 ; 174  |    } B;
                            10629 ; 175  |    int I;
                            10630 ; 176  |} ;
                            10631 ; 177  |
                            10632 ; 178  |
                            10633 ; 179  |struct Button {
                            10634 ; 180  |        WORD wButtonEvent;
                            10635 ; 181  |        WORD wUnused[MAX_MSG_LENGTH];   
                            10636 ; 182  |};
                            10637 ; 183  |
                            10638 ; 184  |struct Message {
                            10639 ; 185  |        WORD wMsgLength;
                            10640 ; 186  |        WORD wMsgCommand;
                            10641 ; 187  |        WORD wMsgParms[MAX_MSG_LENGTH-1];
                            10642 ; 188  |};
                            10643 ; 189  |
                            10644 ; 190  |union EventTypes {
                            10645 ; 191  |        struct CMessage msg;
                            10646 ; 192  |        struct Button Button ;
                            10647 ; 193  |        struct Message Message;
                            10648 ; 194  |};
                            10649 ; 195  |
                            10650 ; 196  |// next 2 used to get updater build to return correct protocol ver in scsi response.
                            10651 ; 197  |#define BUILD_TYPE_UPDATER  0x100
                            10652 ; 198  |#define BUILD_TYPE_HOSTLINK 0x101
                            10653 ; 199  |#define BUILD_TYPE_PLAYER   0x102
                            10654 ; 200  |
                            10655 ; 201  |// Resets part if RETAIL build. DEBUG build executes debug instruction to halt.
                            10656 ; 202  |#define SystemHalt() __asm(" include 'sysmacro.asm' \n error") 
                            10657 ; 203  |#define assert(x)    if(!(x)) __asm(" include 'sysmacro.asm' \n error")
                            10658 ; 204  |
                            10659 ; 205  |#if DEBUG
                            10660 ; 206  |// For DEBUG builds, DebugBuildAssert(condition) halts if condition evaluates to FALSE. 
                            10661 ; 207  |#define DebugBuildAssert(x)    if(!(x)) __asm(" debug ")
                            10662 ; 208  |#else 
                            10663 ; 209  |// For RETAIL builds, DebugBuildAssert(condition) does nothing & execution continues rathe
                                  r than halt or reset. 
                            10664 ; 210  |#define DebugBuildAssert(x)    
                            10665 ; 211  |#endif
                            10666 ; 212  |
                            10667 ; 213  |// Do this in your C files to make a reminder that's displayed during the build.
                            10668 ; 214  |//  #pragma asm
                            10669 ; 215  |//  WARN 'Note to builder: reminder to do this after verifying that'
                            10670 ; 216  |//  #pragma endasm
                            10671 ; 217  |
                            10672 ; 218  |
                            10673 ; 219  |#ifdef COLOR_262K
                            10674 ; 220  |#define RGB(r,g,b)    ((0x0000FC & (r)) << 10) | ((0x0000FC & (g)) << 4) | ((0x0000FC & (b
                                  )) >> 2)    //262k
                            10675 ; 221  |#elif defined(COLOR_65K)
                            10676 ; 222  |#define RGB(r,g,b)    ((0x0000F8 & (r)) << 8) | ((0x0000FC & (g)) << 3) | ((0x0000F8 & (b)
                                  ) >> 3)  //65k
                            10677 ; 223  |#else
                            10678 ; 224  |#define RGB(r,g,b)       ((0x0000F0 & (r)) << 4) | (0x0000F0 & (g)) | ((0x0000F0 & (b)) >>
                                   4)
                            10679 ; 225  |#endif
                            10680 ; 226  |    
                            10681 ; 227  |#endif // #ifndef _TYPES_H
                            10682 
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 182

M:ADDR CODE           CYCLES LINE SOURCELINE
                            10684 
                            10685 ; 29   |
                            10686 ; 30   |//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                            10687 ; 31   |//   TIMER STMP Registers 
                            10688 ; 32   |//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                            10689 ; 33   |#define HW_TMR_BASEADDR (0xF100)
                            10690 ; 34   |
                            10691 ; 35   |#define HW_TMR0_BASEADDR HW_TMR_BASEADDR
                            10692 ; 36   |#define HW_TMR1_BASEADDR HW_TMR_BASEADDR+0x40
                            10693 ; 37   |#define HW_TMR2_BASEADDR HW_TMR_BASEADDR+0x80
                            10694 ; 38   |#define HW_TMR3_BASEADDR HW_TMR_BASEADDR+0xC0
                            10695 ; 39   |
                            10696 ; 40   |#define HW_TIMER_NUMBER_0 0
                            10697 ; 41   |#define HW_TIMER_NUMBER_1 1
                            10698 ; 42   |#define HW_TIMER_NUMBER_2 2
                            10699 ; 43   |#define HW_TIMER_NUMBER_3 3
                            10700 ; 44   |
                            10701 ; 45   |#define HW_TMRCSR 0
                            10702 ; 46   |#define HW_TMRCNTR 1
                            10703 ; 47   |
                            10704 ; 48   |
                            10705 ; 49   |/////////////////////////////////////////////////////////////////////////////////
                            10706 ; 50   |//  TIMER CSR (HW_TMR0CSR) Bit Definitions
                            10707 ; 51   |#define HW_TMR0CSR_TIMER_ENABLE_BITPOS (0)
                            10708 ; 52   |#define HW_TMR0CSR_TIMER_INT_EN_BITPOS (1)
                            10709 ; 53   |#define HW_TMR0CSR_INVERT_BITPOS (2)
                            10710 ; 54   |#define HW_TMR0CSR_TIMER_CONTROL_BITPOS (3)
                            10711 ; 55   |#define HW_TMR0CSR_TIMER_STATUS_BITPOS (7)
                            10712 ; 56   |#define HW_TMR0CSR_TIMER_MODE_BITPOS (8)
                            10713 ; 57   |#define HW_TMR0CSR_CLKGT_BITPOS (23)
                            10714 ; 58   |
                            10715 ; 59   |#define HW_TMR0CSR_TIMER_ENABLE_WIDTH (1)
                            10716 ; 60   |#define HW_TMR0CSR_TIMER_INT_EN_WIDTH (1)
                            10717 ; 61   |#define HW_TMR0CSR_INVERT_WIDTH (1)
                            10718 ; 62   |#define HW_TMR0CSR_TIMER_CONTROL_WIDTH (3)
                            10719 ; 63   |#define HW_TMR0CSR_TIMER_STATUS_WIDTH (1)
                            10720 ; 64   |#define HW_TMR0CSR_TIMER_MODE_WIDTH (2)
                            10721 ; 65   |#define HW_TMR0CSR_CLKGT_WIDTH (1)
                            10722 ; 66   |
                            10723 ; 67   |#define HW_TMR0CSR_TIMER_ENABLE_SETMASK (((1<<HW_TMR0CSR_TIMER_ENABLE_WIDTH)-1)<<HW_TMR0CS
                                  R_TIMER_ENABLE_BITPOS)
                            10724 ; 68   |#define HW_TMR0CSR_TIMER_INT_EN_SETMASK (((1<<HW_TMR0CSR_TIMER_INT_EN_WIDTH)-1)<<HW_TMR0CS
                                  R_TIMER_INT_EN_BITPOS)
                            10725 ; 69   |#define HW_TMR0CSR_INVERT_SETMASK (((1<<HW_TMR0CSR_INVERT_WIDTH)-1)<<HW_TMR0CSR_INVERT_BIT
                                  POS)
                            10726 ; 70   |#define HW_TMR0CSR_TIMER_CONTROL_SETMASK (((1<<HW_TMR0CSR_TIMER_CONTROL_WIDTH)-1)<<HW_TMR0
                                  CSR_TIMER_CONTROL_BITPOS)
                            10727 ; 71   |#define HW_TMR0CSR_TIMER_STATUS_SETMASK (((1<<HW_TMR0CSR_TIMER_STATUS_WIDTH)-1)<<HW_TMR0CS
                                  R_TIMER_STATUS_BITPOS)
                            10728 ; 72   |#define HW_TMR0CSR_TIMER_MODE_SETMASK (((1<<HW_TMR0CSR_TIMER_MODE_WIDTH)-1)<<HW_TMR0CSR_TI
                                  MER_MODE_BITPOS)
                            10729 ; 73   |#define HW_TMR0CSR_CLKGT_SETMASK (((1<<HW_TMR0CSR_CLKGT_WIDTH)-1)<<HW_TMR0CSR_CLKGT_BITPOS
                                  )
                            10730 ; 74   |
                            10731 ; 75   |#define HW_TMR0CSR_TIMER_ENABLE_CLRMASK (~(WORD)HW_TMR0CSR_TIMER_ENABLE_SETMASK)
                            10732 ; 76   |#define HW_TMR0CSR_TIMER_INT_EN_CLRMASK (~(WORD)HW_TMR0CSR_TIMER_INT_EN_SETMASK)
                            10733 ; 77   |#define HW_TMR0CSR_INVERT_CLRMASK (~(WORD)HW_TMR0CSR_INVERT_SETMASK)
                            10734 ; 78   |#define HW_TMR0CSR_TIMER_CONTROL_CLRMASK (~(WORD)HW_TMR0CSR_TIMER_CONTROL_SETMASK)
                            10735 ; 79   |#define HW_TMR0CSR_TIMER_STATUS_CLRMASK (~(WORD)HW_TMR0CSR_TIMER_STATUS_SETMASK)
                            10736 ; 80   |#define HW_TMR0CSR_TIMER_MODE_CLRMASK (~(WORD)HW_TMR0CSR_TIMER_MODE_SETMASK)
                            10737 ; 81   |#define HW_TMR0CSR_CLKGT_CLRMASK (~(WORD)HW_TMR0CSR_CLKGT_SETMASK)
                            10738 ; 82   |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 183

M:ADDR CODE           CYCLES LINE SOURCELINE
                            10739 ; 83   |/////////////////////////////////////////////////////////////////////////////////
                            10740 ; 84   |//  TIMER CSR (HW_TMR1CSR) Bit Definitions
                            10741 ; 85   |#define HW_TMR1CSR_TIMER_ENABLE_BITPOS (0)
                            10742 ; 86   |#define HW_TMR1CSR_TIMER_INT_EN_BITPOS (1)
                            10743 ; 87   |#define HW_TMR1CSR_INVERT_BITPOS (2)
                            10744 ; 88   |#define HW_TMR1CSR_TIMER_CONTROL_BITPOS (3)
                            10745 ; 89   |#define HW_TMR1CSR_TIMER_STATUS_BITPOS (7)
                            10746 ; 90   |#define HW_TMR1CSR_TIMER_MODE_BITPOS (8)
                            10747 ; 91   |#define HW_TMR1CSR_CLKGT_BITPOS (23)
                            10748 ; 92   |
                            10749 ; 93   |#define HW_TMR1CSR_TIMER_ENABLE_WIDTH (1)
                            10750 ; 94   |#define HW_TMR1CSR_TIMER_INT_EN_WIDTH (1)
                            10751 ; 95   |#define HW_TMR1CSR_INVERT_WIDTH (1)
                            10752 ; 96   |#define HW_TMR1CSR_TIMER_CONTROL_WIDTH (3)
                            10753 ; 97   |#define HW_TMR1CSR_TIMER_STATUS_WIDTH (1)
                            10754 ; 98   |#define HW_TMR1CSR_TIMER_MODE_WIDTH (2)
                            10755 ; 99   |#define HW_TMR1CSR_CLKGT_WIDTH (1)
                            10756 ; 100  |
                            10757 ; 101  |#define HW_TMR1CSR_TIMER_ENABLE_SETMASK (((1<<HW_TMR1CSR_TIMER_ENABLE_WIDTH)-1)<<HW_TMR1CS
                                  R_TIMER_ENABLE_BITPOS)
                            10758 ; 102  |#define HW_TMR1CSR_TIMER_INT_EN_SETMASK (((1<<HW_TMR1CSR_TIMER_INT_EN_WIDTH)-1)<<HW_TMR1CS
                                  R_TIMER_INT_EN_BITPOS)
                            10759 ; 103  |#define HW_TMR1CSR_INVERT_SETMASK (((1<<HW_TMR1CSR_INVERT_WIDTH)-1)<<HW_TMR1CSR_INVERT_BIT
                                  POS)
                            10760 ; 104  |#define HW_TMR1CSR_TIMER_CONTROL_SETMASK (((1<<HW_TMR1CSR_TIMER_CONTROL_WIDTH)-1)<<HW_TMR1
                                  CSR_TIMER_CONTROL_BITPOS)
                            10761 ; 105  |#define HW_TMR1CSR_TIMER_STATUS_SETMASK (((1<<HW_TMR1CSR_TIMER_STATUS_WIDTH)-1)<<HW_TMR1CS
                                  R_TIMER_STATUS_BITPOS)
                            10762 ; 106  |#define HW_TMR1CSR_TIMER_MODE_SETMASK (((1<<HW_TMR1CSR_TIMER_MODE_WIDTH)-1)<<HW_TMR1CSR_TI
                                  MER_MODE_BITPOS)
                            10763 ; 107  |#define HW_TMR1CSR_CLKGT_SETMASK (((1<<HW_TMR1CSR_CLKGT_WIDTH)-1)<<HW_TMR1CSR_CLKGT_BITPOS
                                  )
                            10764 ; 108  |
                            10765 ; 109  |#define HW_TMR1CSR_TIMER_ENABLE_CLRMASK (~(WORD)HW_TMR1CSR_TIMER_ENABLE_SETMASK)
                            10766 ; 110  |#define HW_TMR1CSR_TIMER_INT_EN_CLRMASK (~(WORD)HW_TMR1CSR_TIMER_INT_EN_SETMASK)
                            10767 ; 111  |#define HW_TMR1CSR_INVERT_CLRMASK (~(WORD)HW_TMR1CSR_INVERT_SETMASK)
                            10768 ; 112  |#define HW_TMR1CSR_TIMER_CONTROL_CLRMASK (~(WORD)HW_TMR1CSR_TIMER_CONTROL_SETMASK)
                            10769 ; 113  |#define HW_TMR1CSR_TIMER_STATUS_CLRMASK (~(WORD)HW_TMR1CSR_TIMER_STATUS_SETMASK)
                            10770 ; 114  |#define HW_TMR1CSR_TIMER_MODE_CLRMASK (~(WORD)HW_TMR1CSR_TIMER_MODE_SETMASK)
                            10771 ; 115  |#define HW_TMR1CSR_CLKGT_CLRMASK (~(WORD)HW_TMR1CSR_CLKGT_SETMASK)
                            10772 ; 116  |
                            10773 ; 117  |/////////////////////////////////////////////////////////////////////////////////
                            10774 ; 118  |//  TIMER CSR (HW_TMR2CSR) Bit Definitions
                            10775 ; 119  |#define HW_TMR2CSR_TIMER_ENABLE_BITPOS (0)
                            10776 ; 120  |#define HW_TMR2CSR_TIMER_INT_EN_BITPOS (1)
                            10777 ; 121  |#define HW_TMR2CSR_INVERT_BITPOS (2)
                            10778 ; 122  |#define HW_TMR2CSR_TIMER_CONTROL_BITPOS (3)
                            10779 ; 123  |#define HW_TMR2CSR_TIMER_STATUS_BITPOS (7)
                            10780 ; 124  |#define HW_TMR2CSR_TIMER_MODE_BITPOS (8)
                            10781 ; 125  |#define HW_TMR2CSR_CLKGT_BITPOS (23)
                            10782 ; 126  |
                            10783 ; 127  |#define HW_TMR2CSR_TIMER_ENABLE_WIDTH (1)
                            10784 ; 128  |#define HW_TMR2CSR_TIMER_INT_EN_WIDTH (1)
                            10785 ; 129  |#define HW_TMR2CSR_INVERT_WIDTH (1)
                            10786 ; 130  |#define HW_TMR2CSR_TIMER_CONTROL_WIDTH (3)
                            10787 ; 131  |#define HW_TMR2CSR_TIMER_STATUS_WIDTH (1)
                            10788 ; 132  |#define HW_TMR2CSR_TIMER_MODE_WIDTH (2)
                            10789 ; 133  |#define HW_TMR2CSR_CLKGT_WIDTH (1)
                            10790 ; 134  |
                            10791 ; 135  |#define HW_TMR2CSR_TIMER_ENABLE_SETMASK (((1<<HW_TMR2CSR_TIMER_ENABLE_WIDTH)-1)<<HW_TMR2CS
                                  R_TIMER_ENABLE_BITPOS)
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 184

M:ADDR CODE           CYCLES LINE SOURCELINE
                            10792 ; 136  |#define HW_TMR2CSR_TIMER_INT_EN_SETMASK (((1<<HW_TMR2CSR_TIMER_INT_EN_WIDTH)-1)<<HW_TMR2CS
                                  R_TIMER_INT_EN_BITPOS)
                            10793 ; 137  |#define HW_TMR2CSR_INVERT_SETMASK (((1<<HW_TMR2CSR_INVERT_WIDTH)-1)<<HW_TMR2CSR_INVERT_BIT
                                  POS)
                            10794 ; 138  |#define HW_TMR2CSR_TIMER_CONTROL_SETMASK (((1<<HW_TMR2CSR_TIMER_CONTROL_WIDTH)-1)<<HW_TMR2
                                  CSR_TIMER_CONTROL_BITPOS)
                            10795 ; 139  |#define HW_TMR2CSR_TIMER_STATUS_SETMASK (((1<<HW_TMR2CSR_TIMER_STATUS_WIDTH)-1)<<HW_TMR2CS
                                  R_TIMER_STATUS_BITPOS)
                            10796 ; 140  |#define HW_TMR2CSR_TIMER_MODE_SETMASK (((1<<HW_TMR2CSR_TIMER_MODE_WIDTH)-1)<<HW_TMR2CSR_TI
                                  MER_MODE_BITPOS)
                            10797 ; 141  |#define HW_TMR2CSR_CLKGT_SETMASK (((1<<HW_TMR2CSR_CLKGT_WIDTH)-1)<<HW_TMR2CSR_CLKGT_BITPOS
                                  )
                            10798 ; 142  |
                            10799 ; 143  |#define HW_TMR2CSR_TIMER_ENABLE_CLRMASK (~(WORD)HW_TMR2CSR_TIMER_ENABLE_SETMASK)
                            10800 ; 144  |#define HW_TMR2CSR_TIMER_INT_EN_CLRMASK (~(WORD)HW_TMR2CSR_TIMER_INT_EN_SETMASK)
                            10801 ; 145  |#define HW_TMR2CSR_INVERT_CLRMASK (~(WORD)HW_TMR2CSR_INVERT_SETMASK)
                            10802 ; 146  |#define HW_TMR2CSR_TIMER_CONTROL_CLRMASK (~(WORD)HW_TMR2CSR_TIMER_CONTROL_SETMASK)
                            10803 ; 147  |#define HW_TMR2CSR_TIMER_STATUS_CLRMASK (~(WORD)HW_TMR2CSR_TIMER_STATUS_SETMASK)
                            10804 ; 148  |#define HW_TMR2CSR_TIMER_MODE_CLRMASK (~(WORD)HW_TMR2CSR_TIMER_MODE_SETMASK)
                            10805 ; 149  |#define HW_TMR2CSR_CLKGT_CLRMASK (~(WORD)HW_TMR2CSR_CLKGT_SETMASK)
                            10806 ; 150  |
                            10807 ; 151  |/////////////////////////////////////////////////////////////////////////////////
                            10808 ; 152  |//  TIMER CSR (HW_TMR3CSR) Bit Definitions
                            10809 ; 153  |#define HW_TMR3CSR_TIMER_ENABLE_BITPOS (0)
                            10810 ; 154  |#define HW_TMR3CSR_TIMER_INT_EN_BITPOS (1)
                            10811 ; 155  |#define HW_TMR3CSR_INVERT_BITPOS (2)
                            10812 ; 156  |#define HW_TMR3CSR_TIMER_CONTROL_BITPOS (3)
                            10813 ; 157  |#define HW_TMR3CSR_TIMER_STATUS_BITPOS (7)
                            10814 ; 158  |#define HW_TMR3CSR_TIMER_MODE_BITPOS (8)
                            10815 ; 159  |#define HW_TMR3CSR_CLKGT_BITPOS (23)
                            10816 ; 160  |
                            10817 ; 161  |#define HW_TMR3CSR_TIMER_ENABLE_WIDTH (1)
                            10818 ; 162  |#define HW_TMR3CSR_TIMER_INT_EN_WIDTH (1)
                            10819 ; 163  |#define HW_TMR3CSR_INVERT_WIDTH (1)
                            10820 ; 164  |#define HW_TMR3CSR_TIMER_CONTROL_WIDTH (3)
                            10821 ; 165  |#define HW_TMR3CSR_TIMER_STATUS_WIDTH (1)
                            10822 ; 166  |#define HW_TMR3CSR_TIMER_MODE_WIDTH (2)
                            10823 ; 167  |#define HW_TMR3CSR_CLKGT_WIDTH (1)
                            10824 ; 168  |
                            10825 ; 169  |#define HW_TMR3CSR_TIMER_ENABLE_SETMASK (((1<<HW_TMR3CSR_TIMER_ENABLE_WIDTH)-1)<<HW_TMR3CS
                                  R_TIMER_ENABLE_BITPOS)
                            10826 ; 170  |#define HW_TMR3CSR_TIMER_INT_EN_SETMASK (((1<<HW_TMR3CSR_TIMER_INT_EN_WIDTH)-1)<<HW_TMR3CS
                                  R_TIMER_INT_EN_BITPOS)
                            10827 ; 171  |#define HW_TMR3CSR_INVERT_SETMASK (((1<<HW_TMR3CSR_INVERT_WIDTH)-1)<<HW_TMR3CSR_INVERT_BIT
                                  POS)
                            10828 ; 172  |#define HW_TMR3CSR_TIMER_CONTROL_SETMASK (((1<<HW_TMR3CSR_TIMER_CONTROL_WIDTH)-1)<<HW_TMR3
                                  CSR_TIMER_CONTROL_BITPOS)
                            10829 ; 173  |#define HW_TMR3CSR_TIMER_STATUS_SETMASK (((1<<HW_TMR3CSR_TIMER_STATUS_WIDTH)-1)<<HW_TMR3CS
                                  R_TIMER_STATUS_BITPOS)
                            10830 ; 174  |#define HW_TMR3CSR_TIMER_MODE_SETMASK (((1<<HW_TMR3CSR_TIMER_MODE_WIDTH)-1)<<HW_TMR3CSR_TI
                                  MER_MODE_BITPOS)
                            10831 ; 175  |#define HW_TMR3CSR_CLKGT_SETMASK (((1<<HW_TMR3CSR_CLKGT_WIDTH)-1)<<HW_TMR3CSR_CLKGT_BITPOS
                                  )
                            10832 ; 176  |
                            10833 ; 177  |#define HW_TMR3CSR_TIMER_ENABLE_CLRMASK (~(WORD)HW_TMR3CSR_TIMER_ENABLE_SETMASK)
                            10834 ; 178  |#define HW_TMR3CSR_TIMER_INT_EN_CLRMASK (~(WORD)HW_TMR3CSR_TIMER_INT_EN_SETMASK)
                            10835 ; 179  |#define HW_TMR3CSR_INVERT_CLRMASK (~(WORD)HW_TMR3CSR_INVERT_SETMASK)
                            10836 ; 180  |#define HW_TMR3CSR_TIMER_CONTROL_CLRMASK (~(WORD)HW_TMR3CSR_TIMER_CONTROL_SETMASK)
                            10837 ; 181  |#define HW_TMR3CSR_TIMER_STATUS_CLRMASK (~(WORD)HW_TMR3CSR_TIMER_STATUS_SETMASK)
                            10838 ; 182  |#define HW_TMR3CSR_TIMER_MODE_CLRMASK (~(WORD)HW_TMR3CSR_TIMER_MODE_SETMASK)
                            10839 ; 183  |#define HW_TMR3CSR_CLKGT_CLRMASK (~(WORD)HW_TMR3CSR_CLKGT_SETMASK)
                            10840 ; 184  |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 185

M:ADDR CODE           CYCLES LINE SOURCELINE
                            10841 ; 185  |typedef union               
                            10842 ; 186  |{
                            10843 ; 187  |    struct {
                            10844 ; 188  |       int TIMER_ENABLE              :1;
                            10845 ; 189  |       int TIMER_INT_EN              :1;
                            10846 ; 190  |       int INVERT                    :1;
                            10847 ; 191  |       int TIMER_CONTROL             :3;
                            10848 ; 192  |       int RSVD0                     :1;
                            10849 ; 193  |       int TIMER_STATUS              :1;
                            10850 ; 194  |       int TIMER_MODE                :2;
                            10851 ; 195  |       int RSVD1                     :13;
                            10852 ; 196  |       int CLKGT                     :1;
                            10853 ; 197  |    } B;
                            10854 ; 198  |    int I;
                            10855 ; 199  |} timercsr_type;
                            10856 ; 200  |#define HW_TMR0CSR        (*(volatile timercsr_type _X*) (HW_TMR0_BASEADDR+HW_TMRCSR))  /*
                                   Timer0 Control Status Register */
                            10857 ; 201  |#define HW_TMR1CSR        (*(volatile timercsr_type _X*) (HW_TMR1_BASEADDR+HW_TMRCSR))  /*
                                   Timer1 Control Status Register */
                            10858 ; 202  |#define HW_TMR2CSR        (*(volatile timercsr_type _X*) (HW_TMR2_BASEADDR+HW_TMRCSR))  /*
                                   Timer2 Control Status Register */
                            10859 ; 203  |#define HW_TMR3CSR        (*(volatile timercsr_type _X*) (HW_TMR3_BASEADDR+HW_TMRCSR))  /*
                                   Timer3 Control Status Register */
                            10860 ; 204  |
                            10861 ; 205  |/////////////////////////////////////////////////////////////////////////////////
                            10862 ; 206  |//  TIMER CNTR register (HW_TMR0CNTR) Bit Definitions
                            10863 ; 207  |#define HW_TMR0CNTR_COUNT_BITPOS 0
                            10864 ; 208  |#define HW_TMR0CNTR_COUNT_WIDTH 24
                            10865 ; 209  |#define HW_TMR0CNTR_COUNT_SETMASK (((1<<HW_TMR0CNTR_COUNT_WIDTH)-1)<<HW_TMR0CNTR_COUNT_BIT
                                  POS)
                            10866 ; 210  |#define HW_TMR0CNTR_COUNT_CLRMASK (~(WORD)HW_TMR0CNTR_COUNT_SETMASK)
                            10867 ; 211  |
                            10868 ; 212  |/////////////////////////////////////////////////////////////////////////////////
                            10869 ; 213  |//  TIMER CNTR register (HW_TMR1CNTR) Bit Definitions
                            10870 ; 214  |#define HW_TMR1CNTR_COUNT_BITPOS 0
                            10871 ; 215  |#define HW_TMR1CNTR_COUNT_WIDTH 24
                            10872 ; 216  |#define HW_TMR1CNTR_COUNT_SETMASK (((1<<HW_TMR1CNTR_COUNT_WIDTH)-1)<<HW_TMR1CNTR_COUNT_BIT
                                  POS)
                            10873 ; 217  |#define HW_TMR1CNTR_COUNT_CLRMASK (~(WORD)HW_TMR1CNTR_COUNT_SETMASK)
                            10874 ; 218  |
                            10875 ; 219  |/////////////////////////////////////////////////////////////////////////////////
                            10876 ; 220  |//  TIMER CNTR register (HW_TMR2CNTR) Bit Definitions
                            10877 ; 221  |#define HW_TMR2CNTR_COUNT_BITPOS 0
                            10878 ; 222  |#define HW_TMR2CNTR_COUNT_WIDTH 24
                            10879 ; 223  |#define HW_TMR2CNTR_COUNT_SETMASK (((1<<HW_TMR2CNTR_COUNT_WIDTH)-1)<<HW_TMR2CNTR_COUNT_BIT
                                  POS)
                            10880 ; 224  |#define HW_TMR2CNTR_COUNT_CLRMASK (~(WORD)HW_TMR2CNTR_COUNT_SETMASK)
                            10881 ; 225  |
                            10882 ; 226  |typedef union               
                            10883 ; 227  |{
                            10884 ; 228  |    struct {
                            10885 ; 229  |       int COUNT                    :24;
                            10886 ; 230  |    } B;
                            10887 ; 231  |    int I;
                            10888 ; 232  |} tmrcntr_type;
                            10889 ; 233  |#define HW_TMR0CNTR        (*(volatile tmrcntr_type _X*) (HW_TMR0_BASEADDR+HW_TMRCNTR))  /
                                  * Timer0 Count Register */
                            10890 ; 234  |#define HW_TMR1CNTR        (*(volatile tmrcntr_type _X*) (HW_TMR1_BASEADDR+HW_TMRCNTR))  /
                                  * Timer1 Count Register */
                            10891 ; 235  |#define HW_TMR2CNTR        (*(volatile tmrcntr_type _X*) (HW_TMR2_BASEADDR+HW_TMRCNTR))  /
                                  * Timer2 Count Register */
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 186

M:ADDR CODE           CYCLES LINE SOURCELINE
                            10892 ; 236  |#define HW_TMR3CNTR        (*(volatile tmrcntr_type _X*) (HW_TMR3_BASEADDR+HW_TMRCNTR))  /
                                  * Timer3 Count Register */
                            10893 ; 237  |
                            10894 ; 238  |
                            10895 ; 239  |//*********************  REGISTER ALIAS DEFINES TO MATCH LEGACY CODE *********************
                                  **********
                            10896 ; 240  |// The following defines were added to match regs3410.inc definition to build SDK2XXX code
                                   without needing 
                            10897 ; 241  |// to update the actual files. Only the defines needed to build SDK2.400 were added.   
                            10898 ; 242  |#define HW_TIMER_BASEADDR 0xF100
                            10899 ; 243  |
                            10900 ; 244  |#define HW_TIMER0_BASEADDR HW_TIMER_BASEADDR
                            10901 ; 245  |#define HW_TIMER1_BASEADDR HW_TIMER0_BASEADDR+0x40
                            10902 ; 246  |#define HW_TIMER2_BASEADDR HW_TIMER1_BASEADDR+0x40
                            10903 ; 247  |#define HW_TIMER3_BASEADDR HW_TIMER2_BASEADDR+0x40
                            10904 ; 248  |
                            10905 ; 249  |#define HW_TMR0CR HW_TMR0_BASEADDR
                            10906 ; 250  |#define HW_TMR1CR HW_TMR1_BASEADDR
                            10907 ; 251  |#define HW_TMR2CR HW_TMR2_BASEADDR
                            10908 ; 252  |#define HW_TMR3CR HW_TIMER3_BASEADDR
                            10909 ; 253  |
                            10910 ; 254  |// Timer enable
                            10911 ; 255  |#define HW_TMRCR_TE_BITPOS 0   
                            10912 ; 256  |// Timer clock gating control
                            10913 ; 257  |#define HW_TMR3CR_CG_BITPOS 23  
                            10914 ; 258  |#define HW_TMR3CR_CG_SETMASK 1<<HW_TMR3CR_CG_BITPOS
                            10915 ; 259  |#define HW_TMR3CR_CG_CLRMASK ~(WORD)HW_TMR3CR_CG_SETMASK
                            10916 ; 260  |#endif
                            10917 ; 261  |
                            10918 ; 262  |
                            10919 ; 263  |
                            10920 ; 264  |
                            10921 
                            10923 
                            10924 ; 36   |#include "regsusb20.h"
                            10925 
                            10927 
                            10928 ; 1    |//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                            10929 ; 2    |//;  Copyright(C) SigmaTel, Inc. 2002-2003
                            10930 ; 3    |//;  File        : regsusb20ip.inc
                            10931 ; 4    |//;  Description : USB20 IP Register definition
                            10932 ; 5    |//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                            10933 ; 6    |
                            10934 ; 7    |// The following naming conventions are followed in this file.
                            10935 ; 8    |// All registers are named using the format...
                            10936 ; 9    |//     HW_<module>_<regname>
                            10937 ; 10   |// where <module> is the module name which can be any of the following...
                            10938 ; 11   |//     USB20
                            10939 ; 12   |// (Note that when there is more than one copy of a particular module, the
                            10940 ; 13   |// module name includes a number starting from 0 for the first instance of
                            10941 ; 14   |// that module)
                            10942 ; 15   |// <regname> is the specific register within that module
                            10943 ; 16   |// We also define the following...
                            10944 ; 17   |//     HW_<module>_<regname>_BITPOS
                            10945 ; 18   |// which defines the starting bit (i.e. LSB) of a multi bit field
                            10946 ; 19   |//     HW_<module>_<regname>_SETMASK
                            10947 ; 20   |// which does something else, and
                            10948 ; 21   |//     HW_<module>_<regname>_CLRMASK
                            10949 ; 22   |// which does something else.
                            10950 ; 23   |// Other rules
                            10951 ; 24   |//     All caps
                            10952 ; 25   |//     Numeric identifiers start at 0
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 187

M:ADDR CODE           CYCLES LINE SOURCELINE
                            10953 ; 26   |
                            10954 ; 27   |#if !(defined(regsusb20inc))
                            10955 ; 28   |#define regsusb20inc 1
                            10956 ; 29   |
                            10957 ; 30   |#include "types.h"
                            10958 
                            10960 
                            10961 ; 1    |////////////////////////////////////////////////////////////////////////////////
                            10962 ; 2    |// Copyright(C) SigmaTel, Inc. 2000-2004
                            10963 ; 3    |//
                            10964 ; 4    |// Filename: types.h
                            10965 ; 5    |// Description: Standard data types
                            10966 ; 6    |////////////////////////////////////////////////////////////////////////////////
                            10967 ; 7    |
                            10968 ; 8    |#ifndef _TYPES_H
                            10969 ; 9    |#define _TYPES_H
                            10970 ; 10   |
                            10971 ; 11   |// TODO:  move this outta here!
                            10972 ; 12   |#if !defined(NOERROR)
                            10973 ; 13   |#define NOERROR 0
                            10974 ; 14   |#define SUCCESS 0
                            10975 ; 15   |#endif 
                            10976 ; 16   |#if !defined(SUCCESS)
                            10977 ; 17   |#define SUCCESS  0
                            10978 ; 18   |#endif
                            10979 ; 19   |#if !defined(ERROR)
                            10980 ; 20   |#define ERROR   -1
                            10981 ; 21   |#endif
                            10982 ; 22   |#if !defined(FALSE)
                            10983 ; 23   |#define FALSE 0
                            10984 ; 24   |#endif
                            10985 ; 25   |#if !defined(TRUE)
                            10986 ; 26   |#define TRUE  1
                            10987 ; 27   |#endif
                            10988 ; 28   |
                            10989 ; 29   |#if !defined(NULL)
                            10990 ; 30   |#define NULL 0
                            10991 ; 31   |#endif
                            10992 ; 32   |
                            10993 ; 33   |#define MAX_INT     0x7FFFFF
                            10994 ; 34   |#define MAX_LONG    0x7FFFFFffffff
                            10995 ; 35   |        // max positive unsigned long value: -1 == 0xFFFFFFffffff
                            10996 ; 36   |#define MAX_ULONG   (-1) 
                            10997 ; 37   |
                            10998 ; 38   |#define WORD_SIZE   24              // word size in bits
                            10999 ; 39   |#define BYTES_PER_WORD 3            // 8 bit bytes
                            11000 ; 40   |
                            11001 ; 41   |
                            11002 ; 42   |#define BYTE    unsigned char       // btVarName
                            11003 ; 43   |#define CHAR    signed char         // cVarName
                            11004 ; 44   |#define USHORT  unsigned short      // usVarName
                            11005 ; 45   |#define SHORT   unsigned short      // sVarName
                            11006 ; 46   |#define WORD    unsigned int        // wVarName
                            11007 ; 47   |#define INT     signed int          // iVarName
                            11008 ; 48   |#define DWORD   unsigned long       // dwVarName
                            11009 ; 49   |#define LONG    signed long         // lVarName
                            11010 ; 50   |#define BOOL    unsigned int        // bVarName
                            11011 ; 51   |#define FRACT   _fract              // frVarName
                            11012 ; 52   |#define LFRACT  long _fract         // lfrVarName
                            11013 ; 53   |#define CIRC    _circ               // cp<type prefix>VarName (see below)
                            11014 ; 54   |#define FLOAT   float               // fVarName
                            11015 ; 55   |#define DBL     double              // dVarName
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 188

M:ADDR CODE           CYCLES LINE SOURCELINE
                            11016 ; 56   |#define ENUM    enum                // eVarName
                            11017 ; 57   |#define CMX     _complex            // cmxVarName
                            11018 ; 58   |typedef WORD UCS3;                   // 
                            11019 ; 59   |
                            11020 ; 60   |#define UINT16  unsigned short
                            11021 ; 61   |#define UINT8   unsigned char   
                            11022 ; 62   |#define UINT32  unsigned long
                            11023 ; 63   |#define UINT64  unsigned long   // need to figure out how to do 64 bit values.  Or port ex
                                  isiting code to only use 48 bit
                            11024 ; 64   |#define INT64   unsigned long   // need to figure out how to do 64 bit values.  Or port ex
                                  isiting code to only use 48 bit
                            11025 ; 65   |#define WCHAR   UINT16
                            11026 ; 66   |
                            11027 ; 67   |//UINT128 is 16 bytes or 6 words
                            11028 ; 68   |typedef struct UINT128_3500 {   
                            11029 ; 69   |    int val[6];     
                            11030 ; 70   |} UINT128_3500;
                            11031 ; 71   |
                            11032 ; 72   |#define UINT128   UINT128_3500
                            11033 ; 73   |
                            11034 ; 74   |// Little endian word packed byte strings:   
                            11035 ; 75   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                            11036 ; 76   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                            11037 ; 77   |// Little endian word packed byte strings:   
                            11038 ; 78   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                            11039 ; 79   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                            11040 ; 80   |
                            11041 ; 81   |// Declare Memory Spaces To Use When Coding
                            11042 ; 82   |// A. Sector Buffers
                            11043 ; 83   |#define SECTOR_BUFFER_MEM_X _X
                            11044 ; 84   |#define SECTOR_BUFFER_MEM_Y _Y
                            11045 ; 85   |#define SECTOR_BUFFER_MEM SECTOR_BUFFER_MEM_X
                            11046 ; 86   |typedef WORD SECTOR_BUFFER_MEM SECTOR_BUFFER;
                            11047 ; 87   |typedef SECTOR_BUFFER * P_SECTOR_BUFFER;
                            11048 ; 88   |// B. Media DDI Memory
                            11049 ; 89   |#define MEDIA_DDI_MEM _Y
                            11050 ; 90   |
                            11051 ; 91   |
                            11052 ; 92   |
                            11053 ; 93   |// Pointers to linear structures are labeled as: p<type prefix>VarName
                            11054 ; 94   |// Examples of circular pointers:
                            11055 ; 95   |//    INT CIRC cpiVarName
                            11056 ; 96   |//    DWORD CIRC cpdwVarName
                            11057 ; 97   |
                            11058 ; 98   |#define RETCODE INT                 // rcVarName
                            11059 ; 99   |
                            11060 ; 100  |// generic bitfield structure
                            11061 ; 101  |struct Bitfield {
                            11062 ; 102  |    unsigned int B0  :1;
                            11063 ; 103  |    unsigned int B1  :1;
                            11064 ; 104  |    unsigned int B2  :1;
                            11065 ; 105  |    unsigned int B3  :1;
                            11066 ; 106  |    unsigned int B4  :1;
                            11067 ; 107  |    unsigned int B5  :1;
                            11068 ; 108  |    unsigned int B6  :1;
                            11069 ; 109  |    unsigned int B7  :1;
                            11070 ; 110  |    unsigned int B8  :1;
                            11071 ; 111  |    unsigned int B9  :1;
                            11072 ; 112  |    unsigned int B10 :1;
                            11073 ; 113  |    unsigned int B11 :1;
                            11074 ; 114  |    unsigned int B12 :1;
                            11075 ; 115  |    unsigned int B13 :1;
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 189

M:ADDR CODE           CYCLES LINE SOURCELINE
                            11076 ; 116  |    unsigned int B14 :1;
                            11077 ; 117  |    unsigned int B15 :1;
                            11078 ; 118  |    unsigned int B16 :1;
                            11079 ; 119  |    unsigned int B17 :1;
                            11080 ; 120  |    unsigned int B18 :1;
                            11081 ; 121  |    unsigned int B19 :1;
                            11082 ; 122  |    unsigned int B20 :1;
                            11083 ; 123  |    unsigned int B21 :1;
                            11084 ; 124  |    unsigned int B22 :1;
                            11085 ; 125  |    unsigned int B23 :1;
                            11086 ; 126  |};
                            11087 ; 127  |
                            11088 ; 128  |union BitInt {
                            11089 ; 129  |        struct Bitfield B;
                            11090 ; 130  |        int        I;
                            11091 ; 131  |};
                            11092 ; 132  |
                            11093 ; 133  |#define MAX_MSG_LENGTH 10
                            11094 ; 134  |struct CMessage
                            11095 ; 135  |{
                            11096 ; 136  |        unsigned int m_uLength;
                            11097 ; 137  |        unsigned int m_uMsg[MAX_MSG_LENGTH];
                            11098 ; 138  |};
                            11099 ; 139  |
                            11100 ; 140  |typedef struct {
                            11101 ; 141  |    WORD m_wLength;
                            11102 ; 142  |    WORD m_wMessage;
                            11103 ; 143  |    WORD m_wParams[MAX_MSG_LENGTH];
                            11104 ; 144  |} Message;
                            11105 ; 145  |
                            11106 ; 146  |struct MessageQueueDescriptor
                            11107 ; 147  |{
                            11108 ; 148  |        int *m_pBase;
                            11109 ; 149  |        int m_iModulo;
                            11110 ; 150  |        int m_iSize;
                            11111 ; 151  |        int *m_pHead;
                            11112 ; 152  |        int *m_pTail;
                            11113 ; 153  |};
                            11114 ; 154  |
                            11115 ; 155  |struct ModuleEntry
                            11116 ; 156  |{
                            11117 ; 157  |    int m_iSignaledEventMask;
                            11118 ; 158  |    int m_iWaitEventMask;
                            11119 ; 159  |    int m_iResourceOfCode;
                            11120 ; 160  |    struct MessageQueueDescriptor *m_pMessageQueue;
                            11121 ; 161  |    int _asmfunc (*m_pProcessEntryPoint)(union WaitMask Signals,struct MessageQueueDescrip
                                  tor *);
                            11122 ; 162  |    int _asmfunc (*m_pInitFunction)(struct MessageQueueDescriptor *);
                            11123 ; 163  |    int m_uTimeOutHigh;
                            11124 ; 164  |    int m_uTimeOutLow;
                            11125 ; 165  |    int _asmfunc (*m_pBackgroundFunction)(struct MessageQueueDescriptor *);
                            11126 ; 166  |};
                            11127 ; 167  |
                            11128 ; 168  |union WaitMask{
                            11129 ; 169  |    struct B{
                            11130 ; 170  |        unsigned int m_bNone     :1;
                            11131 ; 171  |        unsigned int m_bMessage  :1;
                            11132 ; 172  |        unsigned int m_bTimer    :1;
                            11133 ; 173  |        unsigned int m_bButton   :1;
                            11134 ; 174  |    } B;
                            11135 ; 175  |    int I;
                            11136 ; 176  |} ;
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 190

M:ADDR CODE           CYCLES LINE SOURCELINE
                            11137 ; 177  |
                            11138 ; 178  |
                            11139 ; 179  |struct Button {
                            11140 ; 180  |        WORD wButtonEvent;
                            11141 ; 181  |        WORD wUnused[MAX_MSG_LENGTH];   
                            11142 ; 182  |};
                            11143 ; 183  |
                            11144 ; 184  |struct Message {
                            11145 ; 185  |        WORD wMsgLength;
                            11146 ; 186  |        WORD wMsgCommand;
                            11147 ; 187  |        WORD wMsgParms[MAX_MSG_LENGTH-1];
                            11148 ; 188  |};
                            11149 ; 189  |
                            11150 ; 190  |union EventTypes {
                            11151 ; 191  |        struct CMessage msg;
                            11152 ; 192  |        struct Button Button ;
                            11153 ; 193  |        struct Message Message;
                            11154 ; 194  |};
                            11155 ; 195  |
                            11156 ; 196  |// next 2 used to get updater build to return correct protocol ver in scsi response.
                            11157 ; 197  |#define BUILD_TYPE_UPDATER  0x100
                            11158 ; 198  |#define BUILD_TYPE_HOSTLINK 0x101
                            11159 ; 199  |#define BUILD_TYPE_PLAYER   0x102
                            11160 ; 200  |
                            11161 ; 201  |// Resets part if RETAIL build. DEBUG build executes debug instruction to halt.
                            11162 ; 202  |#define SystemHalt() __asm(" include 'sysmacro.asm' \n error") 
                            11163 ; 203  |#define assert(x)    if(!(x)) __asm(" include 'sysmacro.asm' \n error")
                            11164 ; 204  |
                            11165 ; 205  |#if DEBUG
                            11166 ; 206  |// For DEBUG builds, DebugBuildAssert(condition) halts if condition evaluates to FALSE. 
                            11167 ; 207  |#define DebugBuildAssert(x)    if(!(x)) __asm(" debug ")
                            11168 ; 208  |#else 
                            11169 ; 209  |// For RETAIL builds, DebugBuildAssert(condition) does nothing & execution continues rathe
                                  r than halt or reset. 
                            11170 ; 210  |#define DebugBuildAssert(x)    
                            11171 ; 211  |#endif
                            11172 ; 212  |
                            11173 ; 213  |// Do this in your C files to make a reminder that's displayed during the build.
                            11174 ; 214  |//  #pragma asm
                            11175 ; 215  |//  WARN 'Note to builder: reminder to do this after verifying that'
                            11176 ; 216  |//  #pragma endasm
                            11177 ; 217  |
                            11178 ; 218  |
                            11179 ; 219  |#ifdef COLOR_262K
                            11180 ; 220  |#define RGB(r,g,b)    ((0x0000FC & (r)) << 10) | ((0x0000FC & (g)) << 4) | ((0x0000FC & (b
                                  )) >> 2)    //262k
                            11181 ; 221  |#elif defined(COLOR_65K)
                            11182 ; 222  |#define RGB(r,g,b)    ((0x0000F8 & (r)) << 8) | ((0x0000FC & (g)) << 3) | ((0x0000F8 & (b)
                                  ) >> 3)  //65k
                            11183 ; 223  |#else
                            11184 ; 224  |#define RGB(r,g,b)       ((0x0000F0 & (r)) << 4) | (0x0000F0 & (g)) | ((0x0000F0 & (b)) >>
                                   4)
                            11185 ; 225  |#endif
                            11186 ; 226  |    
                            11187 ; 227  |#endif // #ifndef _TYPES_H
                            11188 
                            11190 
                            11191 ; 31   |
                            11192 ; 32   |//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                            11193 ; 33   |//   USB2.0 STMP Registers 
                            11194 ; 34   |//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                            11195 ; 35   |#define HW_USB_BASEADDR (0xF200)
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 191

M:ADDR CODE           CYCLES LINE SOURCELINE
                            11196 ; 36   |
                            11197 ; 37   |
                            11198 ; 38   |/////////////////////////////////////////////////////////////////////////////////
                            11199 ; 39   |//  USB Control Status Register (HW_USBCSR) Bit Definitions
                            11200 ; 40   |#define HW_USBCSR_USBEN_BITPOS (0)
                            11201 ; 41   |#define HW_USBCSR_WAKEUPIRQ_BITPOS (1)
                            11202 ; 42   |#define HW_USBCSR_WAKEUPIE_BITPOS (2)
                            11203 ; 43   |#define HW_USBCSR_VBUSCXIRQ_BITPOS (3)
                            11204 ; 44   |#define HW_USBCSR_VBUSCXIE_BITPOS (4)
                            11205 ; 45   |#define HW_USBCSR_VBUSDISCXIRQ_BITPOS (5)
                            11206 ; 46   |#define HW_USBCSR_VBUSDISCXIE_BITPOS (6)
                            11207 ; 47   |#define HW_USBCSR_CLKOFF_BITPOS (7)
                            11208 ; 48   |#define HW_USBCSR_SUSP_BITPOS (8)
                            11209 ; 49   |#define HW_USBCSR_SUSPF_BITPOS (9)
                            11210 ; 50   |#define HW_USBCSR_UTMITST_BITPOS (10)
                            11211 ; 51   |#define HW_USBCSR_UTMI_EXT_BITPOS (11)
                            11212 ; 52   |#define HW_USBCSR_PLUGGEDIN_EN_BITPOS (12)
                            11213 ; 53   |#define HW_USBCSR_PLUGGEDIN_BITPOS (13)
                            11214 ; 54   |#define HW_USBCSR_HOSTDISCONNECT_BITPOS (22)
                            11215 ; 55   |#define HW_USBCSR_VBUSSENSE_BITPOS (23)
                            11216 ; 56   |
                            11217 ; 57   |#define HW_USBCSR_USBEN_SETMASK (1<<HW_USBCSR_USBEN_BITPOS)        
                            11218 ; 58   |#define HW_USBCSR_WAKEUPIRQ_SETMASK (1<<HW_USBCSR_WAKEUPIRQ_BITPOS) 
                            11219 ; 59   |#define HW_USBCSR_WAKEUPIE_SETMASK (1<<HW_USBCSR_WAKEUPIE_BITPOS)  
                            11220 ; 60   |#define HW_USBCSR_VBUSCXIRQ_SETMASK (1<<HW_USBCSR_VBUSCXIRQ_BITPOS)
                            11221 ; 61   |#define HW_USBCSR_VBUSCXIE_SETMASK (1<<HW_USBCSR_VBUSCXIE_BITPOS)
                            11222 ; 62   |#define HW_USBCSR_VBUSDISCXIRQ_SETMASK (1<<HW_USBCSR_VBUSDISCXIRQ_BITPOS)
                            11223 ; 63   |#define HW_USBCSR_VBUSDISCXIE_SETMASK (1<<HW_USBCSR_VBUSDISCXIE_BITPOS)
                            11224 ; 64   |#define HW_USBCSR_CLKOFF_SETMASK (1<<HW_USBCSR_CLKOFF_BITPOS)    
                            11225 ; 65   |#define HW_USBCSR_SUSP_SETMASK (1<<HW_USBCSR_SUSP_BITPOS)      
                            11226 ; 66   |#define HW_USBCSR_SUSPF_SETMASK (1<<HW_USBCSR_SUSPF_BITPOS)     
                            11227 ; 67   |#define HW_USBCSR_UTMITST_SETMASK (1<<HW_USBCSR_UTMITST_BITPOS)   
                            11228 ; 68   |#define HW_USBCSR_UTMI_EXT_SETMASK (1<<HW_USBCSR_UTMI_EXT_BITPOS)
                            11229 ; 69   |#define HW_USBCSR_VBUSSENSE_SETMASK (1<<HW_USBCSR_VBUSSENSE_BITPOS)
                            11230 ; 70   |
                            11231 ; 71   |
                            11232 ; 72   |#define HW_USBCSR_USBEN_CLRMASK (~(WORD)HW_USBCSR_USBEN_SETMASK)     
                            11233 ; 73   |#define HW_USBCSR_WAKEUPIRQ_CLRMASK (~(WORD)HW_USBCSR_WAKEUPIRQ_SETMASK) 
                            11234 ; 74   |#define HW_USBCSR_WAKEUPIE_CLRMASK (~(WORD)HW_USBCSR_WAKEUPIE_SETMASK)  
                            11235 ; 75   |#define HW_USBCSR_VBUSCXIRQ_CLRMASK (~(WORD)HW_USBCSR_VBUSCXIRQ_SETMASK)
                            11236 ; 76   |#define HW_USBCSR_VBUSCXIE_CLRMASK (~(WORD)HW_USBCSR_VBUSCXIE_SETMASK)
                            11237 ; 77   |#define HW_USBCSR_VBUSDISCXIRQ_CLRMASK (~(WORD)HW_USBCSR_VBUSDISCXIRQ_SETMASK)
                            11238 ; 78   |#define HW_USBCSR_VBUSDISCXIE_CLRMASK (~(WORD)HW_USBCSR_VBUSDISCXIE_SETMASK) 
                            11239 ; 79   |#define HW_USBCSR_CLKOFF_CLRMASK (~(WORD)HW_USBCSR_CLKOFF_SETMASK)    
                            11240 ; 80   |#define HW_USBCSR_SUSP_CLRMASK (~(WORD)HW_USBCSR_SUSP_SETMASK)      
                            11241 ; 81   |#define HW_USBCSR_SUSPF_CLRMASK (~(WORD)HW_USBCSR_SUSPF_SETMASK)     
                            11242 ; 82   |#define HW_USBCSR_UTMITST_CLRMASK (~(WORD)HW_USBCSR_UTMITST_SETMASK)   
                            11243 ; 83   |#define HW_USBCSR_UTMI_EXT_CLRMASK (~(WORD)HW_USBCSR_UTMI_EXT_SETMASK) 
                            11244 ; 84   |#define HW_USBCSR_VBUSSENSE_CLRMASK (~(WORD)HW_USBCSR_VBUSSENSE_SETMASK) 
                            11245 ; 85   |
                            11246 ; 86   |typedef union               
                            11247 ; 87   |{
                            11248 ; 88   |    struct {
                            11249 ; 89   |        int USBEN          :1;
                            11250 ; 90   |        int WAKEUPIRQ      :1;
                            11251 ; 91   |        int WAKEUPIE       :1;
                            11252 ; 92   |        int VBUSCXIRQ      :1;
                            11253 ; 93   |        int VBUSCXIE       :1;
                            11254 ; 94   |        int VBUSDISCXIRQ   :1;
                            11255 ; 95   |        int VBUSDISCXIE    :1;
                            11256 ; 96   |        int CLKOFF         :1;
                            11257 ; 97   |        int SUSP           :1;
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 192

M:ADDR CODE           CYCLES LINE SOURCELINE
                            11258 ; 98   |        int SUSPF          :1;
                            11259 ; 99   |        int UTMITST        :1;
                            11260 ; 100  |        int ARCCONNECT     :1;
                            11261 ; 101  |        int PLUGGEDIN_EN   :1;
                            11262 ; 102  |        int PLUGGEDIN      :1;
                            11263 ; 103  |        int                :8;
                            11264 ; 104  |        int HOSTDISCONNECT :1;
                            11265 ; 105  |        int VBUSSENSE      :1;
                            11266 ; 106  |    } B;
                            11267 ; 107  |    int I;
                            11268 ; 108  |} usbcsr_type;
                            11269 ; 109  |#define HW_USBCSR      (*(volatile usbcsr_type _X*) (HW_USB_BASEADDR))    /* USB Control /
                                   Status Register */
                            11270 ; 110  |
                            11271 ; 111  |/////////////////////////////////////////////////////////////////////////////////
                            11272 ; 112  |//  USB DMA OFFSET register (HW_USBDMAOFF) Bit Definitions
                            11273 ; 113  |#define HW_USBDMAOFF_MEM_BITPOS (16)
                            11274 ; 114  |
                            11275 ; 115  |#define HW_USBDMAOFF_ADD_SETMASK (0x00FFFF)
                            11276 ; 116  |#define HW_USBDMAOFF_MEM_SETMASK (3<<HW_USBDMAOFF_MEM_BITPOS)
                            11277 ; 117  |
                            11278 ; 118  |#define HW_USBDMAOFF_ADD_CLRMASK (~(WORD)HW_USBDMAOFF_ADD_SETMASK)
                            11279 ; 119  |#define HW_USBDMAOFF_MEM_CLRMASK (~(WORD)HW_USBDMAOFF_MEM_SETMASK)
                            11280 ; 120  |
                            11281 ; 121  |typedef union               
                            11282 ; 122  |{
                            11283 ; 123  |    struct {
                            11284 ; 124  |        int ADD            :16;
                            11285 ; 125  |        int MEM            :2;
                            11286 ; 126  |        int                :6;
                            11287 ; 127  |    } B;
                            11288 ; 128  |    int I;
                            11289 ; 129  |} usbdmaoff_type;
                            11290 ; 130  |#define HW_USBDMAOFF      (*(volatile usbdmaoff_type _X*) (HW_USB_BASEADDR+1))    
                            11291 ; 131  |
                            11292 ; 132  |/////////////////////////////////////////////////////////////////////////////////
                            11293 ; 133  |//  USB ARC ACCESS register (HW_USBARCACCESS) Bit Definitions
                            11294 ; 134  |#define HW_USBARCACCESS_RWB_BITPOS (16)
                            11295 ; 135  |#define HW_USBARCACCESS_KICK_BITPOS (23)
                            11296 ; 136  |
                            11297 ; 137  |#define HW_USBARCACCESS_ADD_SETMASK (0x0001FF)
                            11298 ; 138  |#define HW_USBARCACCESS_RWB_SETMASK (1<<HW_USBARCACCESS_RWB_BITPOS)
                            11299 ; 139  |#define HW_USBARCACCESS_KICK_SETMASK (23<<HW_USBDMAOFF_MEM_BITPOS)
                            11300 ; 140  |
                            11301 ; 141  |#define HW_USBARCACCESS_ADD_CLRMASK (~(WORD)HW_USBARCACCESS_ADD_SETMASK)
                            11302 ; 142  |#define HW_USBARCACCESS_RWB_CLRMASK (~(WORD)HW_USBARCACCESS_RWB_SETMASK) 
                            11303 ; 143  |#define HW_USBARCACCESS_KICK_CLRMASK (~(WORD)HW_USBARCACCESS_KICK_SETMASK)
                            11304 ; 144  |
                            11305 ; 145  |typedef union               
                            11306 ; 146  |{
                            11307 ; 147  |    struct {
                            11308 ; 148  |        int ADD            :9;
                            11309 ; 149  |        int                :7;
                            11310 ; 150  |        int RWB            :1;
                            11311 ; 151  |        int                :14;
                            11312 ; 152  |        int KICK           :1;
                            11313 ; 153  |    } B;
                            11314 ; 154  |    int I;
                            11315 ; 155  |} usbarcaccess_type;
                            11316 ; 156  |#define HW_USBARCACCESS      (*(volatile usbarcaccess_type _X*) (HW_USB_BASEADDR+2))    
                            11317 ; 157  |
                            11318 ; 158  |/////////////////////////////////////////////////////////////////////////////////
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 193

M:ADDR CODE           CYCLES LINE SOURCELINE
                            11319 ; 159  |//  USB ARC DATA LOW register (HW_USBARCDATALOW) Bit Definitions
                            11320 ; 160  |#define HW_USBARCDATALOW_DATA_SETMASK (0x00FFFF)
                            11321 ; 161  |
                            11322 ; 162  |#define HW_USBARCDATALOW_ADD_CLRMASK (~(WORD)HW_USBARCDATALOW_DATA_SETMASK)
                            11323 ; 163  |
                            11324 ; 164  |typedef union               
                            11325 ; 165  |{
                            11326 ; 166  |    struct {
                            11327 ; 167  |        int DATA           :16;
                            11328 ; 168  |        int                :8;
                            11329 ; 169  |    } B;
                            11330 ; 170  |    int I;
                            11331 ; 171  |} usbarcdatalow_type;
                            11332 ; 172  |#define HW_USBARCDATALOW      (*(volatile usbarcdatalow_type _X*) (HW_USB_BASEADDR+3))    
                                  
                            11333 ; 173  |
                            11334 ; 174  |/////////////////////////////////////////////////////////////////////////////////
                            11335 ; 175  |//  USB ARC DATA HIGH register (HW_USBARCDATAHIGH) Bit Definitions
                            11336 ; 176  |#define HW_USBARCDATAHIGH_DATA_SETMASK (0x00FFFF)
                            11337 ; 177  |
                            11338 ; 178  |#define HW_USBARCDATAHIGH_ADD_CLRMASK (~(WORD)HW_USBARCDATAHIGH_DATA_SETMASK)
                            11339 ; 179  |
                            11340 ; 180  |typedef union               
                            11341 ; 181  |{
                            11342 ; 182  |    struct {
                            11343 ; 183  |        int DATA           :16;
                            11344 ; 184  |        int                :8;
                            11345 ; 185  |    } B;
                            11346 ; 186  |    int I;
                            11347 ; 187  |} usbarcdatahigh_type;
                            11348 ; 188  |#define HW_USBARCDATAHIGH     (*(volatile usbarcdatahigh_type _X*) (HW_USB_BASEADDR+4))   
                                   
                            11349 ; 189  |
                            11350 ; 190  |
                            11351 ; 191  |//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                            11352 ; 192  |//   USB2.0 ARC Registers 
                            11353 ; 193  |//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                            11354 ; 194  |#define HW_ARC_BASE_ADDR (0x0000)
                            11355 ; 195  |
                            11356 ; 196  |#define HW_ARC_HCSPARAMS (HW_ARC_BASE_ADDR+0x104)
                            11357 ; 197  |#define HW_ARC_USBCMD (HW_ARC_BASE_ADDR+0x140)
                            11358 ; 198  |#define HW_ARC_USBSTS (HW_ARC_BASE_ADDR+0x144)
                            11359 ; 199  |#define HW_ARC_USBINTR (HW_ARC_BASE_ADDR+0x148)
                            11360 ; 200  |#define HW_ARC_DEVADDR (HW_ARC_BASE_ADDR+0x154)
                            11361 ; 201  |#define HW_ARC_ENDPTLISTADDR (HW_ARC_BASE_ADDR+0x158)
                            11362 ; 202  |#define HW_ARC_PORTSC1 (HW_ARC_BASE_ADDR+0x184)
                            11363 ; 203  |#define HW_ARC_USBMODE (HW_ARC_BASE_ADDR+0x1a8)
                            11364 ; 204  |#define HW_ARC_ENDPTSETUPSTAT (HW_ARC_BASE_ADDR+0x1ac)
                            11365 ; 205  |#define HW_ARC_ENDPTPRIME (HW_ARC_BASE_ADDR+0x1b0)
                            11366 ; 206  |#define HW_ARC_ENDPTFLUSH (HW_ARC_BASE_ADDR+0x1b4)
                            11367 ; 207  |#define HW_ARC_ENDPTSTATUS (HW_ARC_BASE_ADDR+0x1b8)
                            11368 ; 208  |#define HW_ARC_ENDPTCOMPLETE (HW_ARC_BASE_ADDR+0x1bc)
                            11369 ; 209  |#define HW_ARC_ENDPTCTRL0 (HW_ARC_BASE_ADDR+0x1c0)
                            11370 ; 210  |#define HW_ARC_ENDPTCTRL1 (HW_ARC_BASE_ADDR+0x1c4)
                            11371 ; 211  |#define HW_ARC_ENDPTCTRL2 (HW_ARC_BASE_ADDR+0x1c8)
                            11372 ; 212  |#define HW_ARC_ENDPTCTRL3 (HW_ARC_BASE_ADDR+0x1cc)
                            11373 ; 213  |#define HW_ARC_ENDPTCTRL4 (HW_ARC_BASE_ADDR+0x1d0)
                            11374 ; 214  |#define HW_ARC_ENDPTCTRL5 (HW_ARC_BASE_ADDR+0x1d4)
                            11375 ; 215  |#define HW_ARC_ENDPTCTRL6 (HW_ARC_BASE_ADDR+0x1d8)
                            11376 ; 216  |#define HW_ARC_ENDPTCTRL7 (HW_ARC_BASE_ADDR+0x1dc)
                            11377 ; 217  |#define HW_ARC_ENDPTCTRL8 (HW_ARC_BASE_ADDR+0x1e0)
                            11378 ; 218  |#define HW_ARC_ENDPTCTRL9 (HW_ARC_BASE_ADDR+0x1e4)
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 194

M:ADDR CODE           CYCLES LINE SOURCELINE
                            11379 ; 219  |#define HW_ARC_ENDPTCTRL10 (HW_ARC_BASE_ADDR+0x1e8)
                            11380 ; 220  |#define HW_ARC_ENDPTCTRL11 (HW_ARC_BASE_ADDR+0x1ec)
                            11381 ; 221  |#define HW_ARC_ENDPTCTRL12 (HW_ARC_BASE_ADDR+0x1f0)
                            11382 ; 222  |#define HW_ARC_ENDPTCTRL13 (HW_ARC_BASE_ADDR+0x1f4)
                            11383 ; 223  |#define HW_ARC_ENDPTCTRL14 (HW_ARC_BASE_ADDR+0x1f8)
                            11384 ; 224  |#define HW_ARC_ENDPTCTRL15 (HW_ARC_BASE_ADDR+0x1fc)
                            11385 ; 225  |
                            11386 ; 226  |#define HW_ARC_ENDPTCTRL(n) (HW_ARC_ENDPTCTRL0+((n)*4))    
                            11387 ; 227  |/////////////////////////////////////////////////////////////////////////////////
                            11388 ; 228  |//  USB ARC Register Host Control Structural Parameters (HW_ARC_HCSPARAMS)
                            11389 ; 229  |
                            11390 ; 230  |#define HW_ARC_HCSPARAMS_NPORTS_BITPOS (0)
                            11391 ; 231  |#define HW_ARC_HCSPARAMS_PPC_BITPOS (4)
                            11392 ; 232  |#define HW_ARC_HCSPARAMS_NPCC_BITPOS (8)
                            11393 ; 233  |#define HW_ARC_HCSPARAMS_NCC_BITPOS (12)
                            11394 ; 234  |#define HW_ARC_HCSPARAMS_PI_BITPOS (16)
                            11395 ; 235  |#define HW_ARC_HCSPARAMS_NPTT_BITPOS (20)
                            11396 ; 236  |#define HW_ARC_HCSPARAMS_NTT_BITPOS (24)
                            11397 ; 237  |
                            11398 ; 238  |#define HW_ARC_HCSPARAMS_NPORTS_SETMASK (15<<HW_ARC_HCSPARAMS_NPORTS_BITPOS)
                            11399 ; 239  |#define HW_ARC_HCSPARAMS_PPC_SETMASK (1<<HW_ARC_HCSPARAMS_PPC_BITPOS)        
                            11400 ; 240  |#define HW_ARC_HCSPARAMS_NPCC_SETMASK (15<<HW_ARC_HCSPARAMS_NPCC_BITPOS)  
                            11401 ; 241  |#define HW_ARC_HCSPARAMS_NCC_SETMASK (15<<HW_ARC_HCSPARAMS_NCC_BITPOS)       
                            11402 ; 242  |#define HW_ARC_HCSPARAMS_PI_SETMASK (1<<HW_ARC_HCSPARAMS_PI_BITPOS)     
                            11403 ; 243  |#define HW_ARC_HCSPARAMS_NPTT_SETMASK (15<<HW_ARC_HCSPARAMS_NPTT_BITPOS)  
                            11404 ; 244  |#define HW_ARC_HCSPARAMS_NTT_SETMASK (15<<HW_ARC_HCSPARAMS_NTT_BITPOS)       
                            11405 ; 245  |
                            11406 ; 246  |#define HW_ARC_HCSPARAMS_NPORTS_CLRMASK (~(WORD)HW_ARC_HCSPARAMS_NPORTS_SETMASK)
                            11407 ; 247  |#define HW_ARC_HCSPARAMS_PPC_CLRMASK (~(WORD)HW_ARC_HCSPARAMS_PPC_SETMASK)
                            11408 ; 248  |#define HW_ARC_HCSPARAMS_NPCC_CLRMASK (~(WORD)HW_ARC_HCSPARAMS_NPCC_SETMASK)
                            11409 ; 249  |#define HW_ARC_HCSPARAMS_NCC_CLRMASK (~(WORD)HW_ARC_HCSPARAMS_NCC_SETMASK)
                            11410 ; 250  |#define HW_ARC_HCSPARAMS_PI_CLRMASK (~(WORD)HW_ARC_HCSPARAMS_PI_SETMASK)  
                            11411 ; 251  |#define HW_ARC_HCSPARAMS_NPTT_CLRMASK (~(WORD)HW_ARC_HCSPARAMS_NPTT_SETMASK)
                            11412 ; 252  |#define HW_ARC_HCSPARAMS_NTT_CLRMASK (~(WORD)HW_ARC_HCSPARAMS_NTT_SETMASK)
                            11413 ; 253  |
                            11414 ; 254  |typedef union               
                            11415 ; 255  |{
                            11416 ; 256  |    struct {
                            11417 ; 257  |        int N_PORTS         :4;
                            11418 ; 258  |        int PPC             :1;
                            11419 ; 259  |        int                 :3;
                            11420 ; 260  |        int N_PCC           :4;
                            11421 ; 261  |        int N_CC            :4;
                            11422 ; 262  |        int PI              :1;
                            11423 ; 263  |        int                 :3;
                            11424 ; 264  |        int N_PTT           :4;
                            11425 ; 265  |        int N_TT            :4;
                            11426 ; 266  |        int                 :20;
                            11427 ; 267  |    } B;
                            11428 ; 268  |    DWORD I;
                            11429 ; 269  |} hcsparams_type;
                            11430 ; 270  |// #define HW_ARC_HCSPARAMS (*(volatile hcsparams_type _X*) (HW_ARC_BASEADDR))    
                            11431 ; 271  |
                            11432 ; 272  |/////////////////////////////////////////////////////////////////////////////////
                            11433 ; 273  |//  USB ARC Register USB Command (HW_ARC_USBCMD)
                            11434 ; 274  |
                            11435 ; 275  |#define HW_ARC_USBCMD_RS_BITPOS (0)
                            11436 ; 276  |#define HW_ARC_USBCMD_RST_BITPOS (1)
                            11437 ; 277  |#define HW_ARC_USBCMD_FS0_BITPOS (2)
                            11438 ; 278  |#define HW_ARC_USBCMD_FS1_BITPOS (3)
                            11439 ; 279  |#define HW_ARC_USBCMD_PSE_BITPOS (4)
                            11440 ; 280  |#define HW_ARC_USBCMD_ASE_BITPOS (5)
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 195

M:ADDR CODE           CYCLES LINE SOURCELINE
                            11441 ; 281  |#define HW_ARC_USBCMD_IAA_BITPOS (6)
                            11442 ; 282  |#define HW_ARC_USBCMD_LR_BITPOS (7)
                            11443 ; 283  |#define HW_ARC_USBCMD_ASP0_BITPOS (8)
                            11444 ; 284  |#define HW_ARC_USBCMD_ASP1_BITPOS (9)
                            11445 ; 285  |#define HW_ARC_USBCMD_ASPE_BITPOS (11)
                            11446 ; 286  |#define HW_ARC_USBCMD_FS2_BITPOS (15)
                            11447 ; 287  |#define HW_ARC_USBCMD_ITC_BITPOS (16)
                            11448 ; 288  |
                            11449 ; 289  |#define HW_ARC_USBCMD_RS_SETMASK (1<<HW_ARC_USBCMD_RS_BITPOS)                
                            11450 ; 290  |#define HW_ARC_USBCMD_RST_SETMASK (1<<HW_ARC_USBCMD_RST_BITPOS)   
                            11451 ; 291  |#define HW_ARC_USBCMD_FS0_SETMASK (1<<HW_ARC_USBCMD_FS0_BITPOS)   
                            11452 ; 292  |#define HW_ARC_USBCMD_FS1_SETMASK (1<<HW_ARC_USBCMD_FS1_BITPOS)   
                            11453 ; 293  |#define HW_ARC_USBCMD_PSE_SETMASK (1<<HW_ARC_USBCMD_PSE_BITPOS)   
                            11454 ; 294  |#define HW_ARC_USBCMD_ASE_SETMASK (1<<HW_ARC_USBCMD_ASE_BITPOS)   
                            11455 ; 295  |#define HW_ARC_USBCMD_IAA_SETMASK (1<<HW_ARC_USBCMD_IAA_BITPOS)   
                            11456 ; 296  |#define HW_ARC_USBCMD_LR_SETMASK (1<<HW_ARC_USBCMD_LR_BITPOS)        
                            11457 ; 297  |#define HW_ARC_USBCMD_ASP0_SETMASK (1<<HW_ARC_USBCMD_ASP0_BITPOS)
                            11458 ; 298  |#define HW_ARC_USBCMD_ASP1_SETMASK (1<<HW_ARC_USBCMD_ASP1_BITPOS)
                            11459 ; 299  |#define HW_ARC_USBCMD_ASPE_SETMASK (1<<HW_ARC_USBCMD_ASPE_BITPOS)
                            11460 ; 300  |#define HW_ARC_USBCMD_FS2_SETMASK (1<<HW_ARC_USBCMD_FS2_BITPOS)    
                            11461 ; 301  |#define HW_ARC_USBCMD_ITC_SETMASK (255<<HW_ARC_USBCMD_ITC_BITPOS)
                            11462 ; 302  |
                            11463 ; 303  |#define HW_ARC_USBCMD_RS_CLRMASK (~(WORD)HW_ARC_USBCMD_RS_SETMASK)     
                            11464 ; 304  |#define HW_ARC_USBCMD_RST_CLRMASK (~(WORD)HW_ARC_USBCMD_RST_SETMASK)    
                            11465 ; 305  |#define HW_ARC_USBCMD_FS0_CLRMASK (~(WORD)HW_ARC_USBCMD_FS0_SETMASK)    
                            11466 ; 306  |#define HW_ARC_USBCMD_FS1_CLRMASK (~(WORD)HW_ARC_USBCMD_FS1_SETMASK)    
                            11467 ; 307  |#define HW_ARC_USBCMD_PSE_CLRMASK (~(WORD)HW_ARC_USBCMD_PSE_SETMASK)    
                            11468 ; 308  |#define HW_ARC_USBCMD_ASE_CLRMASK (~(WORD)HW_ARC_USBCMD_ASE_SETMASK)    
                            11469 ; 309  |#define HW_ARC_USBCMD_IAA_CLRMASK (~(WORD)HW_ARC_USBCMD_IAA_SETMASK)    
                            11470 ; 310  |#define HW_ARC_USBCMD_LR_CLRMASK (~(WORD)HW_ARC_USBCMD_LR_SETMASK) 
                            11471 ; 311  |#define HW_ARC_USBCMD_ASP0_CLRMASK (~(WORD)HW_ARC_USBCMD_ASP0_SETMASK)
                            11472 ; 312  |#define HW_ARC_USBCMD_ASP1_CLRMASK (~(WORD)HW_ARC_USBCMD_ASP1_SETMASK)
                            11473 ; 313  |#define HW_ARC_USBCMD_ASPE_CLRMASK (~(WORD)HW_ARC_USBCMD_ASPE_SETMASK)
                            11474 ; 314  |#define HW_ARC_USBCMD_FS2_CLRMASK (~(WORD)HW_ARC_USBCMD_FS2_SETMASK)    
                            11475 ; 315  |#define HW_ARC_USBCMD_ITC_CLRMASK (~(WORD)HW_ARC_USBCMD_ITC_SETMASK)    
                            11476 ; 316  |
                            11477 ; 317  |typedef union               
                            11478 ; 318  |{
                            11479 ; 319  |    struct {
                            11480 ; 320  |        int RS              :1;
                            11481 ; 321  |        int RST             :1;
                            11482 ; 322  |        int FS0             :1;
                            11483 ; 323  |        int FS1             :1;
                            11484 ; 324  |        int PSE             :1;
                            11485 ; 325  |        int ASE             :1;
                            11486 ; 326  |        int IAA             :1;
                            11487 ; 327  |        int LR              :1;
                            11488 ; 328  |        int ASP0            :1;
                            11489 ; 329  |        int ASP1            :1;
                            11490 ; 330  |        int                 :1;
                            11491 ; 331  |        int ASPE            :1;
                            11492 ; 332  |        int                 :3;
                            11493 ; 333  |        int FS2             :1;
                            11494 ; 334  |        int ITC             :8;
                            11495 ; 335  |        int                 :24;
                            11496 ; 336  |    } B;
                            11497 ; 337  |    DWORD I;
                            11498 ; 338  |} usbcmd_type;
                            11499 ; 339  |//#define HW_ARC_USBCMD ((volatile usbcmd_type _X*) (HW_ARC_BASEADDR+0x140))    
                            11500 ; 340  |
                            11501 ; 341  |/////////////////////////////////////////////////////////////////////////////////
                            11502 ; 342  |//  USB ARC Register USB Status (HW_ARC_USBSTS)
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 196

M:ADDR CODE           CYCLES LINE SOURCELINE
                            11503 ; 343  |
                            11504 ; 344  |#define HW_ARC_USBSTS_UI_BITPOS (0)
                            11505 ; 345  |#define HW_ARC_USBSTS_UEI_BITPOS (1)
                            11506 ; 346  |#define HW_ARC_USBSTS_PCI_BITPOS (2)
                            11507 ; 347  |#define HW_ARC_USBSTS_FRI_BITPOS (3)
                            11508 ; 348  |#define HW_ARC_USBSTS_SEI_BITPOS (4)
                            11509 ; 349  |#define HW_ARC_USBSTS_AAI_BITPOS (5)
                            11510 ; 350  |#define HW_ARC_USBSTS_URI_BITPOS (6)
                            11511 ; 351  |#define HW_ARC_USBSTS_SRI_BITPOS (7)
                            11512 ; 352  |#define HW_ARC_USBSTS_SLI_BITPOS (8)
                            11513 ; 353  |#define HW_ARC_USBSTS_HCH_BITPOS (12)
                            11514 ; 354  |#define HW_ARC_USBSTS_RCL_BITPOS (13)
                            11515 ; 355  |#define HW_ARC_USBSTS_PS_BITPOS (14)
                            11516 ; 356  |#define HW_ARC_USBSTS_AS_BITPOS (15)
                            11517 ; 357  |
                            11518 ; 358  |#define HW_ARC_USBSTS_UI_SETMASK (1<<HW_ARC_USBSTS_UI_BITPOS)    
                            11519 ; 359  |#define HW_ARC_USBSTS_UEI_SETMASK (1<<HW_ARC_USBSTS_UEI_BITPOS)
                            11520 ; 360  |#define HW_ARC_USBSTS_PCI_SETMASK (1<<HW_ARC_USBSTS_PCI_BITPOS)
                            11521 ; 361  |#define HW_ARC_USBSTS_FRI_SETMASK (1<<HW_ARC_USBSTS_FRI_BITPOS)
                            11522 ; 362  |#define HW_ARC_USBSTS_SEI_SETMASK (1<<HW_ARC_USBSTS_SEI_BITPOS)
                            11523 ; 363  |#define HW_ARC_USBSTS_AAI_SETMASK (1<<HW_ARC_USBSTS_AAI_BITPOS)
                            11524 ; 364  |#define HW_ARC_USBSTS_URI_SETMASK (1<<HW_ARC_USBSTS_URI_BITPOS)
                            11525 ; 365  |#define HW_ARC_USBSTS_SRI_SETMASK (1<<HW_ARC_USBSTS_SRI_BITPOS)
                            11526 ; 366  |#define HW_ARC_USBSTS_SLI_SETMASK (1<<HW_ARC_USBSTS_SLI_BITPOS)
                            11527 ; 367  |#define HW_ARC_USBSTS_HCH_SETMASK (1<<HW_ARC_USBSTS_HCH_BITPOS)
                            11528 ; 368  |#define HW_ARC_USBSTS_RCL_SETMASK (1<<HW_ARC_USBSTS_RCL_BITPOS)
                            11529 ; 369  |#define HW_ARC_USBSTS_PS_SETMASK (1<<HW_ARC_USBSTS_PS_BITPOS)    
                            11530 ; 370  |#define HW_ARC_USBSTS_AS_SETMASK (1<<HW_ARC_USBSTS_AS_BITPOS)    
                            11531 ; 371  |
                            11532 ; 372  |#define HW_ARC_USBSTS_UI_CLRMASK (~(WORD)HW_ARC_USBSTS_UI_SETMASK)
                            11533 ; 373  |#define HW_ARC_USBSTS_UEI_CLRMASK (~(WORD)HW_ARC_USBSTS_UEI_SETMASK)
                            11534 ; 374  |#define HW_ARC_USBSTS_PCI_CLRMASK (~(WORD)HW_ARC_USBSTS_PCI_SETMASK)
                            11535 ; 375  |#define HW_ARC_USBSTS_FRI_CLRMASK (~(WORD)HW_ARC_USBSTS_FRI_SETMASK)
                            11536 ; 376  |#define HW_ARC_USBSTS_SEI_CLRMASK (~(WORD)HW_ARC_USBSTS_SEI_SETMASK)
                            11537 ; 377  |#define HW_ARC_USBSTS_AAI_CLRMASK (~(WORD)HW_ARC_USBSTS_AAI_SETMASK)
                            11538 ; 378  |#define HW_ARC_USBSTS_URI_CLRMASK (~(WORD)HW_ARC_USBSTS_URI_SETMASK)
                            11539 ; 379  |#define HW_ARC_USBSTS_SRI_CLRMASK (~(WORD)HW_ARC_USBSTS_SRI_SETMASK)
                            11540 ; 380  |#define HW_ARC_USBSTS_SLI_CLRMASK (~(WORD)HW_ARC_USBSTS_SLI_SETMASK)
                            11541 ; 381  |#define HW_ARC_USBSTS_HCH_CLRMASK (~(WORD)HW_ARC_USBSTS_HCH_SETMASK)
                            11542 ; 382  |#define HW_ARC_USBSTS_RCL_CLRMASK (~(WORD)HW_ARC_USBSTS_RCL_SETMASK)
                            11543 ; 383  |#define HW_ARC_USBSTS_PS_CLRMASK (~(WORD)HW_ARC_USBSTS_PS_SETMASK)
                            11544 ; 384  |#define HW_ARC_USBSTS_AS_CLRMASK (~(WORD)HW_ARC_USBSTS_AS_SETMASK)
                            11545 ; 385  |
                            11546 ; 386  |
                            11547 ; 387  |typedef union               
                            11548 ; 388  |{
                            11549 ; 389  |    struct {
                            11550 ; 390  |        int UI              :1;
                            11551 ; 391  |        int UEI             :1;
                            11552 ; 392  |        int PCI             :1;
                            11553 ; 393  |        int FRI             :1;
                            11554 ; 394  |        int SEI             :1;
                            11555 ; 395  |        int AAI             :1;
                            11556 ; 396  |        int URI             :1;
                            11557 ; 397  |        int STI             :1;
                            11558 ; 398  |        int SLI             :1;
                            11559 ; 399  |        int                 :3;
                            11560 ; 400  |        int HCH             :1;
                            11561 ; 401  |        int RCL             :1;
                            11562 ; 402  |        int PS              :1;
                            11563 ; 403  |        int AS              :1;
                            11564 ; 404  |        int                 :24;
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 197

M:ADDR CODE           CYCLES LINE SOURCELINE
                            11565 ; 405  |    } B;
                            11566 ; 406  |    DWORD I;
                            11567 ; 407  |} usbsts_type;
                            11568 ; 408  |//#define HW_ARC_USBSTS (*(volatile usbsts_type _X*) (HW_ARC_BASEADDR+0x144))    
                            11569 ; 409  |
                            11570 ; 410  |/////////////////////////////////////////////////////////////////////////////////
                            11571 ; 411  |//  USB ARC Register USB Interrupt Enable (HW_ARC_USBINTR)
                            11572 ; 412  |
                            11573 ; 413  |#define HW_ARC_USBINTR_UE_BITPOS (0)
                            11574 ; 414  |#define HW_ARC_USBINTR_UEE_BITPOS (1)
                            11575 ; 415  |#define HW_ARC_USBINTR_PCE_BITPOS (2)
                            11576 ; 416  |#define HW_ARC_USBINTR_FRE_BITPOS (3)
                            11577 ; 417  |#define HW_ARC_USBINTR_SEE_BITPOS (4)
                            11578 ; 418  |#define HW_ARC_USBINTR_AAE_BITPOS (5)
                            11579 ; 419  |#define HW_ARC_USBINTR_URE_BITPOS (6)
                            11580 ; 420  |#define HW_ARC_USBINTR_SRE_BITPOS (7)
                            11581 ; 421  |#define HW_ARC_USBINTR_SLE_BITPOS (8)
                            11582 ; 422  |
                            11583 ; 423  |#define HW_ARC_USBINTR_UE_SETMASK (1<<HW_ARC_USBINTR_UE_BITPOS)   
                            11584 ; 424  |#define HW_ARC_USBINTR_UEE_SETMASK (1<<HW_ARC_USBINTR_UEE_BITPOS)
                            11585 ; 425  |#define HW_ARC_USBINTR_PCE_SETMASK (1<<HW_ARC_USBINTR_PCE_BITPOS)
                            11586 ; 426  |#define HW_ARC_USBINTR_FRE_SETMASK (1<<HW_ARC_USBINTR_FRE_BITPOS)
                            11587 ; 427  |#define HW_ARC_USBINTR_SEE_SETMASK (1<<HW_ARC_USBINTR_SEE_BITPOS)
                            11588 ; 428  |#define HW_ARC_USBINTR_AAE_SETMASK (1<<HW_ARC_USBINTR_AAE_BITPOS)
                            11589 ; 429  |#define HW_ARC_USBINTR_URE_SETMASK (1<<HW_ARC_USBINTR_URE_BITPOS)
                            11590 ; 430  |#define HW_ARC_USBINTR_SRE_SETMASK (1<<HW_ARC_USBINTR_SRE_BITPOS)
                            11591 ; 431  |#define HW_ARC_USBINTR_SLE_SETMASK (1<<HW_ARC_USBINTR_SLE_BITPOS)
                            11592 ; 432  |
                            11593 ; 433  |#define HW_ARC_USBINTR_UE_CLRMASK (~(WORD)HW_ARC_USBINTR_UE_SETMASK)
                            11594 ; 434  |#define HW_ARC_USBINTR_UEE_CLRMASK (~(WORD)HW_ARC_USBINTR_UEE_SETMASK)
                            11595 ; 435  |#define HW_ARC_USBINTR_PCE_CLRMASK (~(WORD)HW_ARC_USBINTR_PCE_SETMASK)
                            11596 ; 436  |#define HW_ARC_USBINTR_FRE_CLRMASK (~(WORD)HW_ARC_USBINTR_FRE_SETMASK)
                            11597 ; 437  |#define HW_ARC_USBINTR_SEE_CLRMASK (~(WORD)HW_ARC_USBINTR_SEE_SETMASK)
                            11598 ; 438  |#define HW_ARC_USBINTR_AAE_CLRMASK (~(WORD)HW_ARC_USBINTR_AAE_SETMASK)
                            11599 ; 439  |#define HW_ARC_USBINTR_URE_CLRMASK (~(WORD)HW_ARC_USBINTR_URE_SETMASK)
                            11600 ; 440  |#define HW_ARC_USBINTR_SRE_CLRMASK (~(WORD)HW_ARC_USBINTR_SRE_SETMASK)
                            11601 ; 441  |#define HW_ARC_USBINTR_SLE_CLRMASK (~(WORD)HW_ARC_USBINTR_SLE_SETMASK)
                            11602 ; 442  |
                            11603 ; 443  |
                            11604 ; 444  |typedef union               
                            11605 ; 445  |{
                            11606 ; 446  |    struct {
                            11607 ; 447  |        int UE              :1;
                            11608 ; 448  |        int UEE             :1;
                            11609 ; 449  |        int PCE             :1;
                            11610 ; 450  |        int FRE             :1;
                            11611 ; 451  |        int SEE             :1;
                            11612 ; 452  |        int AAE             :1;
                            11613 ; 453  |        int URE             :1;
                            11614 ; 454  |        int STE             :1;
                            11615 ; 455  |        int SLE             :1;
                            11616 ; 456  |        int                 :39;
                            11617 ; 457  |    } B;
                            11618 ; 458  |    DWORD I;
                            11619 ; 459  |} usbintr_type;
                            11620 ; 460  |//#define HW_ARC_USBINTR (*(volatile usbintr_type _X*) (HW_ARC_BASEADDR+0x148))    
                            11621 ; 461  |
                            11622 ; 462  |
                            11623 ; 463  |/////////////////////////////////////////////////////////////////////////////////
                            11624 ; 464  |//  USB ARC Register USB Device Controller Device Address (HW_ARC_DEVADDR)
                            11625 ; 465  |
                            11626 ; 466  |#define HW_ARC_DEVADDR_ADD_BITPOS (25)
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 198

M:ADDR CODE           CYCLES LINE SOURCELINE
                            11627 ; 467  |
                            11628 ; 468  |#define HW_ARC_DEVADDR_ADD_SETMASK (127<<HW_ARC_DEVADDR_ADD_BITPOS)    
                            11629 ; 469  |
                            11630 ; 470  |#define HW_ARC_DEVEADDR_ADD_CLRMASK (~(WORD)HW_ARC_DEVADDR_ADD_SETMASK)   
                            11631 ; 471  |
                            11632 ; 472  |typedef union               
                            11633 ; 473  |{
                            11634 ; 474  |    struct {
                            11635 ; 475  |        int                 :25;
                            11636 ; 476  |        int ADD             :7;
                            11637 ; 477  |        int                 :16;
                            11638 ; 478  |    } B;
                            11639 ; 479  |    DWORD I;
                            11640 ; 480  |} devaddr_type;
                            11641 ; 481  |//#define HW_ARC_DEVADDR (*(volatile devaddr_type _X*) (HW_ARC_BASEADDR+0x154))    
                            11642 ; 482  |
                            11643 ; 483  |
                            11644 ; 484  |/////////////////////////////////////////////////////////////////////////////////
                            11645 ; 485  |//  USB ARC Register USB Device Controller Endpoint List Address (HW_ARC_ENDPTLISTADDR)
                            11646 ; 486  |
                            11647 ; 487  |#define HW_ARC_ENDPTLISTADDR_ADD_BITPOS (11)
                            11648 ; 488  |
                            11649 ; 489  |#define HW_ARC_ENDPTLISTADDR_ADD_SETMASK (0x400000<<HW_ARC_ENDPTLISTADDR_ADD_BITPOS) 
                            11650 ; 490  |
                            11651 ; 491  |#define HW_ARC_ENDPTLISTADDR_ADD_CLRMASK (~(WORD)HW_ARC_ENDPTLISTADDR_ADD_SETMASK) 
                            11652 ; 492  |
                            11653 ; 493  |typedef union               
                            11654 ; 494  |{
                            11655 ; 495  |    struct {
                            11656 ; 496  |        int                 :10;
                            11657 ; 497  |        int ADD             :22;
                            11658 ; 498  |        int                 :16;
                            11659 ; 499  |    } B;
                            11660 ; 500  |    DWORD I;
                            11661 ; 501  |} endptlistaddr_type;
                            11662 ; 502  |//#define HW_ARC_ENDPTLISTADDR (*(volatile endptlistaddr_type _X*) (HW_ARC_BASEADDR+0x158)
                                  )    
                            11663 ; 503  |
                            11664 ; 504  |
                            11665 ; 505  |/////////////////////////////////////////////////////////////////////////////////
                            11666 ; 506  |//  USB ARC Register USB Port Status Control 1 (HW_ARC_PORTSC1)
                            11667 ; 507  |
                            11668 ; 508  |#define HW_ARC_PORTSC1_CCS_BITPOS (0)
                            11669 ; 509  |#define HW_ARC_PORTSC1_CSC_BITPOS (1)
                            11670 ; 510  |#define HW_ARC_PORTSC1_PE_BITPOS (2)
                            11671 ; 511  |#define HW_ARC_PORTSC1_PEC_BITPOS (3)
                            11672 ; 512  |#define HW_ARC_PORTSC1_OCA_BITPOS (4)
                            11673 ; 513  |#define HW_ARC_PORTSC1_OCC_BITPOS (5)
                            11674 ; 514  |#define HW_ARC_PORTSC1_FPR_BITPOS (6)
                            11675 ; 515  |#define HW_ARC_PORTSC1_SUSP_BITPOS (7)
                            11676 ; 516  |#define HW_ARC_PORTSC1_PR_BITPOS (8)
                            11677 ; 517  |#define HW_ARC_PORTSC1_HSP_BITPOS (9)
                            11678 ; 518  |#define HW_ARC_PORTSC1_LS_BITPOS (10)
                            11679 ; 519  |#define HW_ARC_PORTSC1_PP_BITPOS (12)
                            11680 ; 520  |#define HW_ARC_PORTSC1_PO_BITPOS (13)
                            11681 ; 521  |#define HW_ARC_PORTSC1_PIC_BITPOS (14)
                            11682 ; 522  |#define HW_ARC_PORTSC1_PTC_BITPOS (16)
                            11683 ; 523  |#define HW_ARC_PORTSC1_WKCN_BITPOS (20)
                            11684 ; 524  |#define HW_ARC_PORTSC1_WKDS_BITPOS (21)
                            11685 ; 525  |#define HW_ARC_PORTSC1_WKOC_BITPOS (22)
                            11686 ; 526  |#define HW_ARC_PORTSC1_PHCD_BITPOS (23)
                            11687 ; 527  |#define HW_ARC_PORTSC1_PFSC_BITPOS (24)
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 199

M:ADDR CODE           CYCLES LINE SOURCELINE
                            11688 ; 528  |#define HW_ARC_PORTSC1_PSPD_BITPOS (26)
                            11689 ; 529  |#define HW_ARC_PORTSC1_PTW_BITPOS (29)
                            11690 ; 530  |#define HW_ARC_PORTSC1_STS_BITPOS (30)
                            11691 ; 531  |#define HW_ARC_PORTSC1_PTS_BITPOS (31)
                            11692 ; 532  |
                            11693 ; 533  |#define HW_ARC_PORTSC1_CCS_SETMASK (1<<HW_ARC_PORTSC1_CCS_BITPOS)  
                            11694 ; 534  |#define HW_ARC_PORTSC1_CSC_SETMASK (1<<HW_ARC_PORTSC1_CSC_BITPOS)  
                            11695 ; 535  |#define HW_ARC_PORTSC1_PE_SETMASK (1<<HW_ARC_PORTSC1_PE_BITPOS)   
                            11696 ; 536  |#define HW_ARC_PORTSC1_PEC_SETMASK (1<<HW_ARC_PORTSC1_PEC_BITPOS)  
                            11697 ; 537  |#define HW_ARC_PORTSC1_OCA_SETMASK (1<<HW_ARC_PORTSC1_OCA_BITPOS)  
                            11698 ; 538  |#define HW_ARC_PORTSC1_OCC_SETMASK (1<<HW_ARC_PORTSC1_OCC_BITPOS)  
                            11699 ; 539  |#define HW_ARC_PORTSC1_FPR_SETMASK (1<<HW_ARC_PORTSC1_FPR_BITPOS)  
                            11700 ; 540  |#define HW_ARC_PORTSC1_SUSP_SETMASK (1<<HW_ARC_PORTSC1_SUSP_BITPOS)
                            11701 ; 541  |#define HW_ARC_PORTSC1_PR_SETMASK (1<<HW_ARC_PORTSC1_PR_BITPOS)   
                            11702 ; 542  |#define HW_ARC_PORTSC1_HSP_SETMASK (1<<HW_ARC_PORTSC1_HSP_BITPOS)  
                            11703 ; 543  |#define HW_ARC_PORTSC1_LS_SETMASK (3<<HW_ARC_PORTSC1_LS_BITPOS)   
                            11704 ; 544  |#define HW_ARC_PORTSC1_PP_SETMASK (1<<HW_ARC_PORTSC1_PP_BITPOS)   
                            11705 ; 545  |#define HW_ARC_PORTSC1_PO_SETMASK (1<<HW_ARC_PORTSC1_PO_BITPOS)   
                            11706 ; 546  |#define HW_ARC_PORTSC1_PIC_SETMASK (3<<HW_ARC_PORTSC1_PIC_BITPOS)  
                            11707 ; 547  |#define HW_ARC_PORTSC1_PTC_SETMASK (15<<HW_ARC_PORTSC1_PTC_BITPOS) 
                            11708 ; 548  |#define HW_ARC_PORTSC1_WKCN_SETMASK (1<<HW_ARC_PORTSC1_WKCN_BITPOS)
                            11709 ; 549  |#define HW_ARC_PORTSC1_WKDS_SETMASK (1<<HW_ARC_PORTSC1_WKDS_BITPOS)
                            11710 ; 550  |#define HW_ARC_PORTSC1_WKOC_SETMASK (1<<HW_ARC_PORTSC1_WKOC_BITPOS)
                            11711 ; 551  |#define HW_ARC_PORTSC1_PHCD_SETMASK (1<<HW_ARC_PORTSC1_PHCD_BITPOS)
                            11712 ; 552  |
                            11713 ; 553  |// We need to equate the following label like this due to a sign extension problem
                            11714 ; 554  |// if equated like so (1<<HW_ARC_PORTSC1_PFSC_SETMASK)
                            11715 ; 555  |#define HW_ARC_PORTSC1_PFSC_SETMASK (0x01000000)
                            11716 ; 556  |
                            11717 ; 557  |#define HW_ARC_PORTSC1_PSPD_SETMASK (3<<HW_ARC_PORTSC1_PSPD_BITPOS)
                            11718 ; 558  |#define HW_ARC_PORTSC1_PTW_SETMASK (1<<HW_ARC_PORTSC1_PTW_BITPOS)  
                            11719 ; 559  |#define HW_ARC_PORTSC1_STS_SETMASK (1<<HW_ARC_PORTSC1_STS_BITPOS)  
                            11720 ; 560  |#define HW_ARC_PORTSC1_PTS_SETMASK (1<<HW_ARC_PORTSC1_PTS_BITPOS)  
                            11721 ; 561  |
                            11722 ; 562  |#define HW_ARC_PORTSC1_CCS_CLRMASK (~(WORD)HW_ARC_PORTSC1_CCS_SETMASK)   
                            11723 ; 563  |#define HW_ARC_PORTSC1_CSC_CLRMASK (~(WORD)HW_ARC_PORTSC1_CSC_SETMASK)   
                            11724 ; 564  |#define HW_ARC_PORTSC1_PE_CLRMASK (~(WORD)HW_ARC_PORTSC1_PE_SETMASK)    
                            11725 ; 565  |#define HW_ARC_PORTSC1_PEC_CLRMASK (~(WORD)HW_ARC_PORTSC1_PEC_SETMASK)   
                            11726 ; 566  |#define HW_ARC_PORTSC1_OCA_CLRMASK (~(WORD)HW_ARC_PORTSC1_OCA_SETMASK)   
                            11727 ; 567  |#define HW_ARC_PORTSC1_OCC_CLRMASK (~(WORD)HW_ARC_PORTSC1_OCC_SETMASK)   
                            11728 ; 568  |#define HW_ARC_PORTSC1_FPR_CLRMASK (~(WORD)HW_ARC_PORTSC1_FPR_SETMASK)   
                            11729 ; 569  |#define HW_ARC_PORTSC1_SUSP_CLRMASK (~(WORD)HW_ARC_PORTSC1_SUSP_SETMASK)
                            11730 ; 570  |#define HW_ARC_PORTSC1_PR_CLRMASK (~(WORD)HW_ARC_PORTSC1_PR_SETMASK)    
                            11731 ; 571  |#define HW_ARC_PORTSC1_HSP_CLRMASK (~(WORD)HW_ARC_PORTSC1_HSP_SETMASK)   
                            11732 ; 572  |#define HW_ARC_PORTSC1_LS_CLRMASK (~(WORD)HW_ARC_PORTSC1_LS_SETMASK)    
                            11733 ; 573  |#define HW_ARC_PORTSC1_PP_CLRMASK (~(WORD)HW_ARC_PORTSC1_PP_SETMASK)    
                            11734 ; 574  |#define HW_ARC_PORTSC1_PO_CLRMASK (~(WORD)HW_ARC_PORTSC1_PO_SETMASK)    
                            11735 ; 575  |#define HW_ARC_PORTSC1_PIC_CLRMASK (~(WORD)HW_ARC_PORTSC1_PIC_SETMASK)   
                            11736 ; 576  |#define HW_ARC_PORTSC1_PTC_CLRMASK (~(WORD)HW_ARC_PORTSC1_PTC_SETMASK)   
                            11737 ; 577  |#define HW_ARC_PORTSC1_WKCN_CLRMASK (~(WORD)HW_ARC_PORTSC1_WKCN_SETMASK)
                            11738 ; 578  |#define HW_ARC_PORTSC1_WKDS_CLRMASK (~(WORD)HW_ARC_PORTSC1_WKDS_SETMASK)
                            11739 ; 579  |#define HW_ARC_PORTSC1_WKOC_CLRMASK (~(WORD)HW_ARC_PORTSC1_WKOC_SETMASK)
                            11740 ; 580  |#define HW_ARC_PORTSC1_PHCD_CLRMASK (~(WORD)HW_ARC_PORTSC1_PHCD_SETMASK)
                            11741 ; 581  |#define HW_ARC_PORTSC1_PFSC_CLRMASK (~(WORD)HW_ARC_PORTSC1_PFSC_SETMASK)
                            11742 ; 582  |#define HW_ARC_PORTSC1_PSPD_CLRMASK (~(WORD)HW_ARC_PORTSC1_PSPD_SETMASK)
                            11743 ; 583  |#define HW_ARC_PORTSC1_PTW_CLRMASK (~(WORD)HW_ARC_PORTSC1_PTW_SETMASK)   
                            11744 ; 584  |#define HW_ARC_PORTSC1_STS_CLRMASK (~(WORD)HW_ARC_PORTSC1_STS_SETMASK)   
                            11745 ; 585  |#define HW_ARC_PORTSC1_PTS_CLRMASK (~(WORD)HW_ARC_PORTSC1_PTS_SETMASK)   
                            11746 ; 586  |
                            11747 ; 587  |typedef union               
                            11748 ; 588  |{
                            11749 ; 589  |    struct {
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 200

M:ADDR CODE           CYCLES LINE SOURCELINE
                            11750 ; 590  |        int CCS             :1;
                            11751 ; 591  |        int CSC             :1;
                            11752 ; 592  |        int PE              :1;
                            11753 ; 593  |        int PEC             :1;
                            11754 ; 594  |        int OCA             :1;
                            11755 ; 595  |        int OCC             :1;
                            11756 ; 596  |        int FPR             :1;
                            11757 ; 597  |        int SUSP            :1;
                            11758 ; 598  |        int PR              :1;
                            11759 ; 599  |        int HSP             :1;
                            11760 ; 600  |        int LS              :2;
                            11761 ; 601  |        int PP              :1;
                            11762 ; 602  |        int PO              :1;
                            11763 ; 603  |        int PIC             :2;
                            11764 ; 604  |        int PTC             :4;
                            11765 ; 605  |        int WKCN            :1;
                            11766 ; 606  |        int WKDS            :1;
                            11767 ; 607  |        int WKOC            :1;
                            11768 ; 608  |        int PHCD            :1;
                            11769 ; 609  |        int PFSC            :1;
                            11770 ; 610  |        int                 :1;
                            11771 ; 611  |        int PSPD            :2;
                            11772 ; 612  |        int                 :1;
                            11773 ; 613  |        int PTW             :1;
                            11774 ; 614  |        int STS             :1;
                            11775 ; 615  |        int PTS             :1;
                            11776 ; 616  |        int                 :16;
                            11777 ; 617  |    } B;
                            11778 ; 618  |    DWORD I;
                            11779 ; 619  |} portsc1_type;
                            11780 ; 620  |//#define HW_ARC_PORTSC1 (*(volatile portsc1_type _X*) (HW_ARC_BASEADDR+0x184))    
                            11781 ; 621  |
                            11782 ; 622  |
                            11783 ; 623  |/////////////////////////////////////////////////////////////////////////////////
                            11784 ; 624  |//  USB ARC Register USB Device Mode (HW_ARC_USBMODE)
                            11785 ; 625  |
                            11786 ; 626  |#define HW_ARC_USBMODE_CM_BITPOS (0)
                            11787 ; 627  |#define HW_ARC_USBMODE_ES_BITPOS (2)
                            11788 ; 628  |
                            11789 ; 629  |#define HW_ARC_USBMODE_CM_SETMASK (3<<HW_ARC_USBMODE_CM_BITPOS)   
                            11790 ; 630  |#define HW_ARC_USBMODE_ES_SETMASK (1<<HW_ARC_USBMODE_ES_BITPOS)   
                            11791 ; 631  |
                            11792 ; 632  |#define HW_ARC_USBMODE_CM_CLRMASK (~(WORD)HW_ARC_USBMODE_CM_SETMASK) 
                            11793 ; 633  |#define HW_ARC_USBMODE_ES_CLRMASK (~(WORD)HW_ARC_USBMODE_ES_SETMASK)    
                            11794 ; 634  |
                            11795 ; 635  |typedef union               
                            11796 ; 636  |{
                            11797 ; 637  |    struct {
                            11798 ; 638  |        int CM              :2;
                            11799 ; 639  |        int ES              :1;
                            11800 ; 640  |        int                 :46;
                            11801 ; 641  |    } B;
                            11802 ; 642  |    DWORD I;
                            11803 ; 643  |} usbmode_type;
                            11804 ; 644  |//#define HW_ARC_USBMODE (*(volatile usbmode_type _X*) (HW_ARC_BASEADDR+0x1a8))    
                            11805 ; 645  |
                            11806 ; 646  |
                            11807 ; 647  |/////////////////////////////////////////////////////////////////////////////////
                            11808 ; 648  |//  The following endpoint equates are common for the following registers
                            11809 ; 649  |
                            11810 ; 650  |#define ENDPOINT0_BITPOS (0)
                            11811 ; 651  |#define ENDPOINT1_BITPOS (1)
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 201

M:ADDR CODE           CYCLES LINE SOURCELINE
                            11812 ; 652  |#define ENDPOINT2_BITPOS (2)
                            11813 ; 653  |#define ENDPOINT3_BITPOS (3)
                            11814 ; 654  |#define ENDPOINT4_BITPOS (4)
                            11815 ; 655  |#define ENDPOINT5_BITPOS (5)
                            11816 ; 656  |#define ENDPOINT6_BITPOS (6)
                            11817 ; 657  |#define ENDPOINT7_BITPOS (7)
                            11818 ; 658  |#define ENDPOINT8_BITPOS (8)
                            11819 ; 659  |#define ENDPOINT9_BITPOS (9)
                            11820 ; 660  |#define ENDPOINT10_BITPOS (10)
                            11821 ; 661  |#define ENDPOINT11_BITPOS (11)
                            11822 ; 662  |#define ENDPOINT12_BITPOS (12)
                            11823 ; 663  |#define ENDPOINT13_BITPOS (13)
                            11824 ; 664  |#define ENDPOINT14_BITPOS (14)
                            11825 ; 665  |#define ENDPOINT15_BITPOS (15)
                            11826 ; 666  |
                            11827 ; 667  |#define ENDPOINT0_SETMASK (1<<ENDPOINT0_BITPOS)
                            11828 ; 668  |#define ENDPOINT1_SETMASK (1<<ENDPOINT1_BITPOS)
                            11829 ; 669  |#define ENDPOINT2_SETMASK (1<<ENDPOINT2_BITPOS)
                            11830 ; 670  |#define ENDPOINT3_SETMASK (1<<ENDPOINT3_BITPOS)
                            11831 ; 671  |#define ENDPOINT4_SETMASK (1<<ENDPOINT4_BITPOS)
                            11832 ; 672  |#define ENDPOINT5_SETMASK (1<<ENDPOINT5_BITPOS)
                            11833 ; 673  |#define ENDPOINT6_SETMASK (1<<ENDPOINT6_BITPOS)
                            11834 ; 674  |#define ENDPOINT7_SETMASK (1<<ENDPOINT7_BITPOS)
                            11835 ; 675  |#define ENDPOINT8_SETMASK (1<<ENDPOINT8_BITPOS)
                            11836 ; 676  |#define ENDPOINT9_SETMASK (1<<ENDPOINT9_BITPOS)
                            11837 ; 677  |#define ENDPOINT10_SETMASK (1<<ENDPOINT10_BITPOS)
                            11838 ; 678  |#define ENDPOINT11_SETMASK (1<<ENDPOINT11_BITPOS)
                            11839 ; 679  |#define ENDPOINT12_SETMASK (1<<ENDPOINT12_BITPOS)
                            11840 ; 680  |#define ENDPOINT13_SETMASK (1<<ENDPOINT13_BITPOS)
                            11841 ; 681  |#define ENDPOINT14_SETMASK (1<<ENDPOINT14_BITPOS)
                            11842 ; 682  |#define ENDPOINT15_SETMASK (1<<ENDPOINT15_BITPOS)
                            11843 ; 683  |
                            11844 ; 684  |#define ENDPOINT0_CLRMASK (~(WORD)ENDPOINT0_SETMASK)    
                            11845 ; 685  |#define ENDPOINT1_CLRMASK (~(WORD)ENDPOINT1_SETMASK)    
                            11846 ; 686  |#define ENDPOINT2_CLRMASK (~(WORD)ENDPOINT2_SETMASK)    
                            11847 ; 687  |#define ENDPOINT3_CLRMASK (~(WORD)ENDPOINT3_SETMASK)    
                            11848 ; 688  |#define ENDPOINT4_CLRMASK (~(WORD)ENDPOINT4_SETMASK)    
                            11849 ; 689  |#define ENDPOINT5_CLRMASK (~(WORD)ENDPOINT5_SETMASK)    
                            11850 ; 690  |#define ENDPOINT6_CLRMASK (~(WORD)ENDPOINT6_SETMASK)    
                            11851 ; 691  |#define ENDPOINT7_CLRMASK (~(WORD)ENDPOINT7_SETMASK)    
                            11852 ; 692  |#define ENDPOINT8_CLRMASK (~(WORD)ENDPOINT8_SETMASK)    
                            11853 ; 693  |#define ENDPOINT9_CLRMASK (~(WORD)ENDPOINT9_SETMASK)    
                            11854 ; 694  |#define ENDPOINT10_CLRMASK (~(WORD)ENDPOINT10_SETMASK)
                            11855 ; 695  |#define ENDPOINT11_CLRMASK (~(WORD)ENDPOINT11_SETMASK)
                            11856 ; 696  |#define ENDPOINT12_CLRMASK (~(WORD)ENDPOINT12_SETMASK)
                            11857 ; 697  |#define ENDPOINT13_CLRMASK (~(WORD)ENDPOINT13_SETMASK)
                            11858 ; 698  |#define ENDPOINT14_CLRMASK (~(WORD)ENDPOINT14_SETMASK)
                            11859 ; 699  |#define ENDPOINT15_CLRMASK (~(WORD)ENDPOINT15_SETMASK)
                            11860 ; 700  |
                            11861 ; 701  |typedef union               
                            11862 ; 702  |{
                            11863 ; 703  |    struct {
                            11864 ; 704  |        int EP0              :1;
                            11865 ; 705  |        int EP1              :1;
                            11866 ; 706  |        int EP2              :1;
                            11867 ; 707  |        int EP3              :1;
                            11868 ; 708  |        int EP4              :1;
                            11869 ; 709  |        int EP5              :1;
                            11870 ; 710  |        int EP6              :1;
                            11871 ; 711  |        int EP7              :1;
                            11872 ; 712  |        int EP8              :1;
                            11873 ; 713  |        int EP9              :1;
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 202

M:ADDR CODE           CYCLES LINE SOURCELINE
                            11874 ; 714  |        int EP10             :1;
                            11875 ; 715  |        int EP11             :1;
                            11876 ; 716  |        int EP12             :1;
                            11877 ; 717  |        int EP13             :1;
                            11878 ; 718  |        int EP14             :1;
                            11879 ; 719  |        int EP15             :1;
                            11880 ; 720  |        int                  :32;
                            11881 ; 721  |    } B;
                            11882 ; 722  |    DWORD I;
                            11883 ; 723  |} endpsetupstat_type;
                            11884 ; 724  |
                            11885 ; 725  |//#define HW_ARC_ENDPTSETUPSTAT (*(volatile endpsetupstat_type _X*) (HW_ARC_BASEADDR+0x1ac
                                  ))    
                            11886 ; 726  |
                            11887 ; 727  |typedef union               
                            11888 ; 728  |{
                            11889 ; 729  |    struct {
                            11890 ; 730  |        int EP0              :1;
                            11891 ; 731  |        int EP1              :1;
                            11892 ; 732  |        int EP2              :1;
                            11893 ; 733  |        int EP3              :1;
                            11894 ; 734  |        int EP4              :1;
                            11895 ; 735  |        int EP5              :1;
                            11896 ; 736  |        int EP6              :1;
                            11897 ; 737  |        int EP7              :1;
                            11898 ; 738  |        int EP8              :1;
                            11899 ; 739  |        int EP9              :1;
                            11900 ; 740  |        int EP10             :1;
                            11901 ; 741  |        int EP11             :1;
                            11902 ; 742  |        int EP12             :1;
                            11903 ; 743  |        int EP13             :1;
                            11904 ; 744  |        int EP14             :1;
                            11905 ; 745  |        int EP15             :1;
                            11906 ; 746  |        int                  :8;
                            11907 ; 747  |    } B;
                            11908 ; 748  |    WORD I;
                            11909 ; 749  |} endpt_type;
                            11910 
                            11948 
                            11949 ; 750  |
                            11950 ; 751  |typedef union
                            11951 ; 752  |{
                            11952 ; 753  |   struct {
                            11953 ; 754  |       endpt_type  RX;
                            11954 ; 755  |       endpt_type  TX;
                            11955 ; 756  |   } W;
                            11956 ; 757  |   DWORD DW;
                            11957 ; 758  |} endptrxtx_type;
                            11958 ; 759  |
                            11959 ; 760  |//#define HW_ARC_ENDPTPRIME    (*(volatile endptrxtx_type _X*) (HW_ARC_BASEADDR+0x1b0))   
                                   
                            11960 ; 761  |//#define HW_ARC_ENDPTFLUSH    (*(volatile endptrxtx_type _X*) (HW_ARC_BASEADDR+0x1b4))   
                                   
                            11961 ; 762  |//#define HW_ARC_ENDPTSTAT     (*(volatile endptrxtx_type _X*) (HW_ARC_BASEADDR+0x1b8))   
                                   
                            11962 ; 763  |//#define HW_ARC_ENDPTCOMPLETE (*(volatile endptrxtx_type _X*) (HW_ARC_BASEADDR+0x1bc))   
                                   
                            11963 ; 764  |
                            11964 ; 765  |
                            11965 ; 766  |
                            11966 ; 767  |/////////////////////////////////////////////////////////////////////////////////
                            11967 ; 768  |//  USB ARC Register Endpoint control (HW_ARC_ENDPTCTRL)
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 203

M:ADDR CODE           CYCLES LINE SOURCELINE
                            11968 ; 769  |
                            11969 ; 770  |#define HW_ARC_ENDPTCTRL_RXS_BITPOS (0)
                            11970 ; 771  |#define HW_ARC_ENDPTCTRL_RXD_BITPOS (1)
                            11971 ; 772  |#define HW_ARC_ENDPTCTRL_RXT_BITPOS (2)
                            11972 ; 773  |#define HW_ARC_ENDPTCTRL_RXI_BITPOS (5)
                            11973 ; 774  |#define HW_ARC_ENDPTCTRL_RXR_BITPOS (6)
                            11974 ; 775  |#define HW_ARC_ENDPTCTRL_RXE_BITPOS (7)
                            11975 ; 776  |#define HW_ARC_ENDPTCTRL_TXS_BITPOS (16)
                            11976 ; 777  |#define HW_ARC_ENDPTCTRL_TXD_BITPOS (17)
                            11977 ; 778  |#define HW_ARC_ENDPTCTRL_TXT_BITPOS (18)
                            11978 ; 779  |#define HW_ARC_ENDPTCTRL_TXI_BITPOS (21)
                            11979 ; 780  |#define HW_ARC_ENDPTCTRL_TXR_BITPOS (22)
                            11980 ; 781  |#define HW_ARC_ENDPTCTRL_TXE_BITPOS (23)
                            11981 ; 782  |
                            11982 ; 783  |#define HW_ARC_ENDPTCTRL_RXS_SETMASK (1<<HW_ARC_ENDPTCTRL_RXS_BITPOS)
                            11983 ; 784  |#define HW_ARC_ENDPTCTRL_RXD_SETMASK (1<<HW_ARC_ENDPTCTRL_RXD_BITPOS)
                            11984 ; 785  |#define HW_ARC_ENDPTCTRL_RXT_SETMASK (3<<HW_ARC_ENDPTCTRL_RXT_BITPOS)
                            11985 ; 786  |#define HW_ARC_ENDPTCTRL_RXI_SETMASK (1<<HW_ARC_ENDPTCTRL_RXI_BITPOS)
                            11986 ; 787  |#define HW_ARC_ENDPTCTRL_RXR_SETMASK (1<<HW_ARC_ENDPTCTRL_RXR_BITPOS)
                            11987 ; 788  |#define HW_ARC_ENDPTCTRL_RXE_SETMASK (1<<HW_ARC_ENDPTCTRL_RXE_BITPOS)
                            11988 ; 789  |#define HW_ARC_ENDPTCTRL_TXS_SETMASK (1<<HW_ARC_ENDPTCTRL_TXS_BITPOS)
                            11989 ; 790  |#define HW_ARC_ENDPTCTRL_TXD_SETMASK (1<<HW_ARC_ENDPTCTRL_TXD_BITPOS)
                            11990 ; 791  |#define HW_ARC_ENDPTCTRL_TXT_SETMASK (3<<HW_ARC_ENDPTCTRL_TXT_BITPOS)
                            11991 ; 792  |#define HW_ARC_ENDPTCTRL_TXI_SETMASK (1<<HW_ARC_ENDPTCTRL_TXI_BITPOS)
                            11992 ; 793  |#define HW_ARC_ENDPTCTRL_TXR_SETMASK (1<<HW_ARC_ENDPTCTRL_TXR_BITPOS)
                            11993 ; 794  |
                            11994 ; 795  |// We need to equate the following label like this due to a sign extension problem
                            11995 ; 796  |// if equated like so (1<<HW_ARC_ENDPTCTRL_TXE_BITPOS)
                            11996 ; 797  |#define HW_ARC_ENDPTCTRL_TXE_SETMASK (0x00800000)
                            11997 ; 798  |//HW_ARC_ENDPTCTRL_TXE_SETMASK    equ     (1<<HW_ARC_ENDPTCTRL_TXE_BITPOS)
                            11998 ; 799  |
                            11999 ; 800  |#define HW_ARC_ENDPTCTRL_RXS_CLRMASK (~(WORD)HW_ARC_ENDPTCTRL_RXS_SETMASK)
                            12000 ; 801  |#define HW_ARC_ENDPTCTRL_RXD_CLRMASK (~(WORD)HW_ARC_ENDPTCTRL_RXD_SETMASK)
                            12001 ; 802  |#define HW_ARC_ENDPTCTRL_RXT_CLRMASK (~(WORD)HW_ARC_ENDPTCTRL_RXT_SETMASK)
                            12002 ; 803  |#define HW_ARC_ENDPTCTRL_RXI_CLRMASK (~(WORD)HW_ARC_ENDPTCTRL_RXI_SETMASK)
                            12003 ; 804  |#define HW_ARC_ENDPTCTRL_RXR_CLRMASK (~(WORD)HW_ARC_ENDPTCTRL_RXR_SETMASK)
                            12004 ; 805  |#define HW_ARC_ENDPTCTRL_RXE_CLRMASK (~(WORD)HW_ARC_ENDPTCTRL_RXE_SETMASK)
                            12005 ; 806  |#define HW_ARC_ENDPTCTRL_TXS_CLRMASK (~(WORD)HW_ARC_ENDPTCTRL_TXS_SETMASK)
                            12006 ; 807  |#define HW_ARC_ENDPTCTRL_TXD_CLRMASK (~(WORD)HW_ARC_ENDPTCTRL_TXD_SETMASK)
                            12007 ; 808  |#define HW_ARC_ENDPTCTRL_TXT_CLRMASK (~(WORD)HW_ARC_ENDPTCTRL_TXT_SETMASK)
                            12008 ; 809  |#define HW_ARC_ENDPTCTRL_TXI_CLRMASK (~(WORD)HW_ARC_ENDPTCTRL_TXI_SETMASK)
                            12009 ; 810  |#define HW_ARC_ENDPTCTRL_TXR_CLRMASK (~(WORD)HW_ARC_ENDPTCTRL_TXR_SETMASK)
                            12010 ; 811  |#define HW_ARC_ENDPTCTRL_TXE_CLRMASK (~(WORD)HW_ARC_ENDPTCTRL_TXE_SETMASK)
                            12011 ; 812  |
                            12012 ; 813  |
                            12013 ; 814  |typedef union               
                            12014 ; 815  |{
                            12015 ; 816  |    struct {
                            12016 ; 817  |        int RXS             :1;
                            12017 ; 818  |        int RXD             :1;
                            12018 ; 819  |        int RXT             :2;
                            12019 ; 820  |        int                 :1;
                            12020 ; 821  |        int RXI             :1;
                            12021 ; 822  |        int RXR             :1;
                            12022 ; 823  |        int RXE             :1;
                            12023 ; 824  |        int                 :8;
                            12024 ; 825  |        int TXS             :1;
                            12025 ; 826  |        int TXD             :1;
                            12026 ; 827  |        int TXT             :2;
                            12027 ; 828  |        int                 :1;
                            12028 ; 829  |        int TXI             :1;
                            12029 ; 830  |        int TXR             :1;
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 204

M:ADDR CODE           CYCLES LINE SOURCELINE
                            12030 ; 831  |        int TXE             :1;
                            12031 ; 832  |        int                 :24;
                            12032 ; 833  |    } B;
                            12033 ; 834  |    DWORD I;
                            12034 ; 835  |} endptctrl_type;
                            12035 ; 836  |//#define HW_ARC_ENDPTCTRL[n] (*(volatile usbintr_type _X*) (HW_ARC_BASEADDR+0x1c0+((n)*4)
                                  ))    
                            12036 ; 837  |
                            12037 ; 838  |#endif
                            12038 ; 839  |
                            12039 ; 840  |
                            12040 
                            12042 
                            12043 ; 37   |#include "regsusb20phy.h"
                            12044 
                            12046 
                            12047 ; 1    |//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                            12048 ; 2    |//;  Copyright(C) SigmaTel, Inc. 2002-2005
                            12049 ; 3    |//;  File        : regsusbphy.inc
                            12050 ; 4    |//;  Description : USB20 PHY Register definition
                            12051 ; 5    |//;  Updated 2.23.2003 By M. Henson
                            12052 ; 6    |//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                            12053 ; 7    |
                            12054 ; 8    |// The following naming conventions are followed in this file.
                            12055 ; 9    |// All registers are named using the format...
                            12056 ; 10   |//     HW_<module>_<regname>
                            12057 ; 11   |// where <module> is the module name which can be any of the following...
                            12058 ; 12   |//     USB20
                            12059 ; 13   |// (Note that when there is more than one copy of a particular module, the
                            12060 ; 14   |// module name includes a number starting from 0 for the first instance of
                            12061 ; 15   |// that module)
                            12062 ; 16   |// <regname> is the specific register within that module
                            12063 ; 17   |// We also define the following...
                            12064 ; 18   |//     HW_<module>_<regname>_BITPOS
                            12065 ; 19   |// which defines the starting bit (i.e. LSB) of a multi bit field
                            12066 ; 20   |//     HW_<module>_<regname>_SETMASK
                            12067 ; 21   |// which does something else, and
                            12068 ; 22   |//     HW_<module>_<regname>_CLRMASK
                            12069 ; 23   |// which does something else.
                            12070 ; 24   |// Other rules
                            12071 ; 25   |//     All caps
                            12072 ; 26   |//     Numeric identifiers start at 0
                            12073 ; 27   |
                            12074 ; 28   |#if !(defined(regsusbphyinc))
                            12075 ; 29   |#define regsusbphyinc 1
                            12076 ; 30   |
                            12077 ; 31   |#include "types.h"
                            12078 
                            12080 
                            12081 ; 1    |////////////////////////////////////////////////////////////////////////////////
                            12082 ; 2    |// Copyright(C) SigmaTel, Inc. 2000-2004
                            12083 ; 3    |//
                            12084 ; 4    |// Filename: types.h
                            12085 ; 5    |// Description: Standard data types
                            12086 ; 6    |////////////////////////////////////////////////////////////////////////////////
                            12087 ; 7    |
                            12088 ; 8    |#ifndef _TYPES_H
                            12089 ; 9    |#define _TYPES_H
                            12090 ; 10   |
                            12091 ; 11   |// TODO:  move this outta here!
                            12092 ; 12   |#if !defined(NOERROR)
                            12093 ; 13   |#define NOERROR 0
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 205

M:ADDR CODE           CYCLES LINE SOURCELINE
                            12094 ; 14   |#define SUCCESS 0
                            12095 ; 15   |#endif 
                            12096 ; 16   |#if !defined(SUCCESS)
                            12097 ; 17   |#define SUCCESS  0
                            12098 ; 18   |#endif
                            12099 ; 19   |#if !defined(ERROR)
                            12100 ; 20   |#define ERROR   -1
                            12101 ; 21   |#endif
                            12102 ; 22   |#if !defined(FALSE)
                            12103 ; 23   |#define FALSE 0
                            12104 ; 24   |#endif
                            12105 ; 25   |#if !defined(TRUE)
                            12106 ; 26   |#define TRUE  1
                            12107 ; 27   |#endif
                            12108 ; 28   |
                            12109 ; 29   |#if !defined(NULL)
                            12110 ; 30   |#define NULL 0
                            12111 ; 31   |#endif
                            12112 ; 32   |
                            12113 ; 33   |#define MAX_INT     0x7FFFFF
                            12114 ; 34   |#define MAX_LONG    0x7FFFFFffffff
                            12115 ; 35   |        // max positive unsigned long value: -1 == 0xFFFFFFffffff
                            12116 ; 36   |#define MAX_ULONG   (-1) 
                            12117 ; 37   |
                            12118 ; 38   |#define WORD_SIZE   24              // word size in bits
                            12119 ; 39   |#define BYTES_PER_WORD 3            // 8 bit bytes
                            12120 ; 40   |
                            12121 ; 41   |
                            12122 ; 42   |#define BYTE    unsigned char       // btVarName
                            12123 ; 43   |#define CHAR    signed char         // cVarName
                            12124 ; 44   |#define USHORT  unsigned short      // usVarName
                            12125 ; 45   |#define SHORT   unsigned short      // sVarName
                            12126 ; 46   |#define WORD    unsigned int        // wVarName
                            12127 ; 47   |#define INT     signed int          // iVarName
                            12128 ; 48   |#define DWORD   unsigned long       // dwVarName
                            12129 ; 49   |#define LONG    signed long         // lVarName
                            12130 ; 50   |#define BOOL    unsigned int        // bVarName
                            12131 ; 51   |#define FRACT   _fract              // frVarName
                            12132 ; 52   |#define LFRACT  long _fract         // lfrVarName
                            12133 ; 53   |#define CIRC    _circ               // cp<type prefix>VarName (see below)
                            12134 ; 54   |#define FLOAT   float               // fVarName
                            12135 ; 55   |#define DBL     double              // dVarName
                            12136 ; 56   |#define ENUM    enum                // eVarName
                            12137 ; 57   |#define CMX     _complex            // cmxVarName
                            12138 ; 58   |typedef WORD UCS3;                   // 
                            12139 ; 59   |
                            12140 ; 60   |#define UINT16  unsigned short
                            12141 ; 61   |#define UINT8   unsigned char   
                            12142 ; 62   |#define UINT32  unsigned long
                            12143 ; 63   |#define UINT64  unsigned long   // need to figure out how to do 64 bit values.  Or port ex
                                  isiting code to only use 48 bit
                            12144 ; 64   |#define INT64   unsigned long   // need to figure out how to do 64 bit values.  Or port ex
                                  isiting code to only use 48 bit
                            12145 ; 65   |#define WCHAR   UINT16
                            12146 ; 66   |
                            12147 ; 67   |//UINT128 is 16 bytes or 6 words
                            12148 ; 68   |typedef struct UINT128_3500 {   
                            12149 ; 69   |    int val[6];     
                            12150 ; 70   |} UINT128_3500;
                            12151 ; 71   |
                            12152 ; 72   |#define UINT128   UINT128_3500
                            12153 ; 73   |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 206

M:ADDR CODE           CYCLES LINE SOURCELINE
                            12154 ; 74   |// Little endian word packed byte strings:   
                            12155 ; 75   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                            12156 ; 76   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                            12157 ; 77   |// Little endian word packed byte strings:   
                            12158 ; 78   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                            12159 ; 79   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                            12160 ; 80   |
                            12161 ; 81   |// Declare Memory Spaces To Use When Coding
                            12162 ; 82   |// A. Sector Buffers
                            12163 ; 83   |#define SECTOR_BUFFER_MEM_X _X
                            12164 ; 84   |#define SECTOR_BUFFER_MEM_Y _Y
                            12165 ; 85   |#define SECTOR_BUFFER_MEM SECTOR_BUFFER_MEM_X
                            12166 ; 86   |typedef WORD SECTOR_BUFFER_MEM SECTOR_BUFFER;
                            12167 ; 87   |typedef SECTOR_BUFFER * P_SECTOR_BUFFER;
                            12168 ; 88   |// B. Media DDI Memory
                            12169 ; 89   |#define MEDIA_DDI_MEM _Y
                            12170 ; 90   |
                            12171 ; 91   |
                            12172 ; 92   |
                            12173 ; 93   |// Pointers to linear structures are labeled as: p<type prefix>VarName
                            12174 ; 94   |// Examples of circular pointers:
                            12175 ; 95   |//    INT CIRC cpiVarName
                            12176 ; 96   |//    DWORD CIRC cpdwVarName
                            12177 ; 97   |
                            12178 ; 98   |#define RETCODE INT                 // rcVarName
                            12179 ; 99   |
                            12180 ; 100  |// generic bitfield structure
                            12181 ; 101  |struct Bitfield {
                            12182 ; 102  |    unsigned int B0  :1;
                            12183 ; 103  |    unsigned int B1  :1;
                            12184 ; 104  |    unsigned int B2  :1;
                            12185 ; 105  |    unsigned int B3  :1;
                            12186 ; 106  |    unsigned int B4  :1;
                            12187 ; 107  |    unsigned int B5  :1;
                            12188 ; 108  |    unsigned int B6  :1;
                            12189 ; 109  |    unsigned int B7  :1;
                            12190 ; 110  |    unsigned int B8  :1;
                            12191 ; 111  |    unsigned int B9  :1;
                            12192 ; 112  |    unsigned int B10 :1;
                            12193 ; 113  |    unsigned int B11 :1;
                            12194 ; 114  |    unsigned int B12 :1;
                            12195 ; 115  |    unsigned int B13 :1;
                            12196 ; 116  |    unsigned int B14 :1;
                            12197 ; 117  |    unsigned int B15 :1;
                            12198 ; 118  |    unsigned int B16 :1;
                            12199 ; 119  |    unsigned int B17 :1;
                            12200 ; 120  |    unsigned int B18 :1;
                            12201 ; 121  |    unsigned int B19 :1;
                            12202 ; 122  |    unsigned int B20 :1;
                            12203 ; 123  |    unsigned int B21 :1;
                            12204 ; 124  |    unsigned int B22 :1;
                            12205 ; 125  |    unsigned int B23 :1;
                            12206 ; 126  |};
                            12207 ; 127  |
                            12208 ; 128  |union BitInt {
                            12209 ; 129  |        struct Bitfield B;
                            12210 ; 130  |        int        I;
                            12211 ; 131  |};
                            12212 ; 132  |
                            12213 ; 133  |#define MAX_MSG_LENGTH 10
                            12214 ; 134  |struct CMessage
                            12215 ; 135  |{
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 207

M:ADDR CODE           CYCLES LINE SOURCELINE
                            12216 ; 136  |        unsigned int m_uLength;
                            12217 ; 137  |        unsigned int m_uMsg[MAX_MSG_LENGTH];
                            12218 ; 138  |};
                            12219 ; 139  |
                            12220 ; 140  |typedef struct {
                            12221 ; 141  |    WORD m_wLength;
                            12222 ; 142  |    WORD m_wMessage;
                            12223 ; 143  |    WORD m_wParams[MAX_MSG_LENGTH];
                            12224 ; 144  |} Message;
                            12225 ; 145  |
                            12226 ; 146  |struct MessageQueueDescriptor
                            12227 ; 147  |{
                            12228 ; 148  |        int *m_pBase;
                            12229 ; 149  |        int m_iModulo;
                            12230 ; 150  |        int m_iSize;
                            12231 ; 151  |        int *m_pHead;
                            12232 ; 152  |        int *m_pTail;
                            12233 ; 153  |};
                            12234 ; 154  |
                            12235 ; 155  |struct ModuleEntry
                            12236 ; 156  |{
                            12237 ; 157  |    int m_iSignaledEventMask;
                            12238 ; 158  |    int m_iWaitEventMask;
                            12239 ; 159  |    int m_iResourceOfCode;
                            12240 ; 160  |    struct MessageQueueDescriptor *m_pMessageQueue;
                            12241 ; 161  |    int _asmfunc (*m_pProcessEntryPoint)(union WaitMask Signals,struct MessageQueueDescrip
                                  tor *);
                            12242 ; 162  |    int _asmfunc (*m_pInitFunction)(struct MessageQueueDescriptor *);
                            12243 ; 163  |    int m_uTimeOutHigh;
                            12244 ; 164  |    int m_uTimeOutLow;
                            12245 ; 165  |    int _asmfunc (*m_pBackgroundFunction)(struct MessageQueueDescriptor *);
                            12246 ; 166  |};
                            12247 ; 167  |
                            12248 ; 168  |union WaitMask{
                            12249 ; 169  |    struct B{
                            12250 ; 170  |        unsigned int m_bNone     :1;
                            12251 ; 171  |        unsigned int m_bMessage  :1;
                            12252 ; 172  |        unsigned int m_bTimer    :1;
                            12253 ; 173  |        unsigned int m_bButton   :1;
                            12254 ; 174  |    } B;
                            12255 ; 175  |    int I;
                            12256 ; 176  |} ;
                            12257 ; 177  |
                            12258 ; 178  |
                            12259 ; 179  |struct Button {
                            12260 ; 180  |        WORD wButtonEvent;
                            12261 ; 181  |        WORD wUnused[MAX_MSG_LENGTH];   
                            12262 ; 182  |};
                            12263 ; 183  |
                            12264 ; 184  |struct Message {
                            12265 ; 185  |        WORD wMsgLength;
                            12266 ; 186  |        WORD wMsgCommand;
                            12267 ; 187  |        WORD wMsgParms[MAX_MSG_LENGTH-1];
                            12268 ; 188  |};
                            12269 ; 189  |
                            12270 ; 190  |union EventTypes {
                            12271 ; 191  |        struct CMessage msg;
                            12272 ; 192  |        struct Button Button ;
                            12273 ; 193  |        struct Message Message;
                            12274 ; 194  |};
                            12275 ; 195  |
                            12276 ; 196  |// next 2 used to get updater build to return correct protocol ver in scsi response.
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 208

M:ADDR CODE           CYCLES LINE SOURCELINE
                            12277 ; 197  |#define BUILD_TYPE_UPDATER  0x100
                            12278 ; 198  |#define BUILD_TYPE_HOSTLINK 0x101
                            12279 ; 199  |#define BUILD_TYPE_PLAYER   0x102
                            12280 ; 200  |
                            12281 ; 201  |// Resets part if RETAIL build. DEBUG build executes debug instruction to halt.
                            12282 ; 202  |#define SystemHalt() __asm(" include 'sysmacro.asm' \n error") 
                            12283 ; 203  |#define assert(x)    if(!(x)) __asm(" include 'sysmacro.asm' \n error")
                            12284 ; 204  |
                            12285 ; 205  |#if DEBUG
                            12286 ; 206  |// For DEBUG builds, DebugBuildAssert(condition) halts if condition evaluates to FALSE. 
                            12287 ; 207  |#define DebugBuildAssert(x)    if(!(x)) __asm(" debug ")
                            12288 ; 208  |#else 
                            12289 ; 209  |// For RETAIL builds, DebugBuildAssert(condition) does nothing & execution continues rathe
                                  r than halt or reset. 
                            12290 ; 210  |#define DebugBuildAssert(x)    
                            12291 ; 211  |#endif
                            12292 ; 212  |
                            12293 ; 213  |// Do this in your C files to make a reminder that's displayed during the build.
                            12294 ; 214  |//  #pragma asm
                            12295 ; 215  |//  WARN 'Note to builder: reminder to do this after verifying that'
                            12296 ; 216  |//  #pragma endasm
                            12297 ; 217  |
                            12298 ; 218  |
                            12299 ; 219  |#ifdef COLOR_262K
                            12300 ; 220  |#define RGB(r,g,b)    ((0x0000FC & (r)) << 10) | ((0x0000FC & (g)) << 4) | ((0x0000FC & (b
                                  )) >> 2)    //262k
                            12301 ; 221  |#elif defined(COLOR_65K)
                            12302 ; 222  |#define RGB(r,g,b)    ((0x0000F8 & (r)) << 8) | ((0x0000FC & (g)) << 3) | ((0x0000F8 & (b)
                                  ) >> 3)  //65k
                            12303 ; 223  |#else
                            12304 ; 224  |#define RGB(r,g,b)       ((0x0000F0 & (r)) << 4) | (0x0000F0 & (g)) | ((0x0000F0 & (b)) >>
                                   4)
                            12305 ; 225  |#endif
                            12306 ; 226  |    
                            12307 ; 227  |#endif // #ifndef _TYPES_H
                            12308 
                            12310 
                            12311 ; 32   |
                            12312 ; 33   |//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                            12313 ; 34   |//   USB2.0 PHY STMP Registers 
                            12314 ; 35   |//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                            12315 ; 36   |#define HW_USBPHY_BASEADDR (0xF210)
                            12316 ; 37   |
                            12317 ; 38   |
                            12318 ; 39   |/////////////////////////////////////////////////////////////////////////////////
                            12319 ; 40   |//  USB PHY Powerdown Register (HW_USBPHYPWD) Bit Definitions
                            12320 ; 41   |
                            12321 ; 42   |#define HW_USBPHYPWD_TXDISCON1500_BITPOS (5)
                            12322 ; 43   |#define HW_USBPHYPWD_PLLVCOPWD_BITPOS (6)
                            12323 ; 44   |#define HW_USBPHYPWD_PLLVCPPWD_BITPOS (7)
                            12324 ; 45   |#define HW_USBPHYPWD_TXPWDFS_BITPOS (10)
                            12325 ; 46   |#define HW_USBPHYPWD_TXPWDIBIAS_BITPOS (11)
                            12326 ; 47   |#define HW_USBPHYPWD_TXPWDV2I_BITPOS (12)
                            12327 ; 48   |#define HW_USBPHYPWD_TXPWDVBG_BITPOS (13)
                            12328 ; 49   |#define HW_USBPHYPWD_TXPWDCOMP_BITPOS (14)
                            12329 ; 50   |#define HW_USBPHYPWD_RXPWDDISCONDET_BITPOS (16)
                            12330 ; 51   |#define HW_USBPHYPWD_RXPWDENV_BITPOS (17)
                            12331 ; 52   |#define HW_USBPHYPWD_RXPWD1PT1_BITPOS (18)
                            12332 ; 53   |#define HW_USBPHYPWD_RXPWDDIFF_BITPOS (19)
                            12333 ; 54   |#define HW_USBPHYPWD_RXPWDRX_BITPOS (20)
                            12334 ; 55   |#define HW_USBPHYPWD_PWDIBIAS_BITPOS (22)
                            12335 ; 56   |#define HW_USBPHYPWD_REGRESET_BITPOS (23)
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 209

M:ADDR CODE           CYCLES LINE SOURCELINE
                            12336 ; 57   |
                            12337 ; 58   |#define HW_USBPHYPWD_TXDISCON1500_SETMASK (1<<HW_USBPHYPWD_TXDISCON1500_BITPOS)
                            12338 ; 59   |#define HW_USBPHYPWD_PLLVCOPWD_SETMASK (1<<HW_USBPHYPWD_PLLVCOPWD_BITPOS)
                            12339 ; 60   |#define HW_USBPHYPWD_PLLVCPPWD_SETMASK (1<<HW_USBPHYPWD_PLLVCPPWD_BITPOS)
                            12340 ; 61   |#define HW_USBPHYPWD_TXPWDFS_SETMASK (1<<HW_USBPHYPWD_TXPWDFS_BITPOS)
                            12341 ; 62   |#define HW_USBPHYPWD_TXPWDIBIAS_SETMASK (1<<HW_USBPHYPWD_TXPWDIBIAS_BITPOS)
                            12342 ; 63   |#define HW_USBPHYPWD_TXPWDV2I_SETMASK (1<<HW_USBPHYPWD_TXPWDV2I_BITPOS)
                            12343 ; 64   |#define HW_USBPHYPWD_TXPWDVBG_SETMASK (1<<HW_USBPHYPWD_TXPWDVBG_BITPOS)
                            12344 ; 65   |#define HW_USBPHYPWD_TXPWDCOMP_SETMASK (1<<HW_USBPHYPWD_TXPWDCOMP_BITPOS)
                            12345 ; 66   |#define HW_USBPHYPWD_RXPWDDISCONDET_SETMASK (1<<HW_USBPHYPWD_RXPWDDISCONDET_BITPOS)
                            12346 ; 67   |#define HW_USBPHYPWD_RXPWDENV_SETMASK (1<<HW_USBPHYPWD_RXPWDENV_BITPOS)
                            12347 ; 68   |#define HW_USBPHYPWD_RXPWD1PT1_SETMASK (1<<HW_USBPHYPWD_RXPWD1PT1_BITPOS)
                            12348 ; 69   |#define HW_USBPHYPWD_RXPWDDIFF_SETMASK (1<<HW_USBPHYPWD_RXPWDDIFF_BITPOS)
                            12349 ; 70   |#define HW_USBPHYPWD_RXPWDRX_SETMASK (1<<HW_USBPHYPWD_RXPWDRX_BITPOS)
                            12350 ; 71   |#define HW_USBPHYPWD_PWDIBIAS_SETMASK (1<<HW_USBPHYPWD_PWDIBIAS_BITPOS)
                            12351 ; 72   |#define HW_USBPHYPWD_REGRESET_SETMASK (1<<HW_USBPHYPWD_REGRESET_BITPOS)
                            12352 ; 73   |
                            12353 ; 74   |#define HW_USBPHYPWD_TXDISCON1500_CLRMASK (~(WORD)HW_USBPHYPWD_TXDISCON1500_SETMASK)
                            12354 ; 75   |#define HW_USBPHYPWD_PLLVCOPWD_CLRMASK (~(WORD)HW_USBPHYPWD_PLLVCOPWD_SETMASK)
                            12355 ; 76   |#define HW_USBPHYPWD_PLLVCPPWD_CLRMASK (~(WORD)HW_USBPHYPWD_PLLVCPPWD_SETMASK)
                            12356 ; 77   |#define HW_USBPHYPWD_TXPWDFS_CLRMASK (~(WORD)HW_USBPHYPWD_TXPWDFS_SETMASK)
                            12357 ; 78   |#define HW_USBPHYPWD_TXPWDIBIAS_CLRMASK (~(WORD)HW_USBPHYPWD_TXPWDIBIAS_SETMASK)
                            12358 ; 79   |#define HW_USBPHYPWD_TXPWDV2I_CLRMASK (~(WORD)HW_USBPHYPWD_TXPWDV2I_SETMASK)
                            12359 ; 80   |#define HW_USBPHYPWD_TXPWDVBG_CLRMASK (~(WORD)HW_USBPHYPWD_TXPWDVBG_SETMASK)
                            12360 ; 81   |#define HW_USBPHYPWD_TXPWDCOMP_CLRMASK (~(WORD)HW_USBPHYPWD_TXPWDCOMP_SETMASK)
                            12361 ; 82   |#define HW_USBPHYPWD_RXPWDDISCONDET_CLRMASK (~(WORD)HW_USBPHYPWD_RXPWDDISCONDET_SETMASK)
                            12362 ; 83   |#define HW_USBPHYPWD_RXPWDENV_CLRMASK (~(WORD)HW_USBPHYPWD_RXPWDENV_SETMASK)
                            12363 ; 84   |#define HW_USBPHYPWD_RXPWD1PT1_CLRMASK (~(WORD)HW_USBPHYPWD_RXPWD1PT1_SETMASK)
                            12364 ; 85   |#define HW_USBPHYPWD_RXPWDDIFF_CLRMASK (~(WORD)HW_USBPHYPWD_RXPWDDIFF_SETMASK)
                            12365 ; 86   |#define HW_USBPHYPWD_RXPWDRX_CLRMASK (~(WORD)HW_USBPHYPWD_RXPWDRX_SETMASK)
                            12366 ; 87   |#define HW_USBPHYPWD_PWDIBIAS_CLRMASK (~(WORD)HW_USBPHYPWD_PWDIBIAS_SETMASK)
                            12367 ; 88   |#define HW_USBPHYPWD_REGRESET_CLRMASK (~(WORD)HW_USBPHYPWD_REGRESET_SETMASK)
                            12368 ; 89   |
                            12369 ; 90   |typedef union               
                            12370 ; 91   |{
                            12371 ; 92   |    struct {
                            12372 ; 93   |        int RSVD0          :5;
                            12373 ; 94   |        int TXDISCON1500   :1;
                            12374 ; 95   |        int PLLVCOPWD      :1;
                            12375 ; 96   |        int PLLVCPPWD      :1;
                            12376 ; 97   |        int RSVD1          :2;
                            12377 ; 98   |        int TXPWDFS        :1;
                            12378 ; 99   |        int TXPWDIBIAS     :1;
                            12379 ; 100  |        int TXPWDV2I       :1;
                            12380 ; 101  |        int TXPWDVBG       :1;
                            12381 ; 102  |        int TXPWDCOMP      :1;
                            12382 ; 103  |        int RSVD2          :1;
                            12383 ; 104  |        int RXPWDDISCONDET :1;
                            12384 ; 105  |        int RXPWDENV       :1;
                            12385 ; 106  |        int RXPWD1PT1      :1;
                            12386 ; 107  |        int RXPWDDIFF      :1;
                            12387 ; 108  |        int RXPWDRX        :1;
                            12388 ; 109  |        int RSVD3          :1;
                            12389 ; 110  |        int PWDIBIAS       :1;
                            12390 ; 111  |        int REGRESET       :1;
                            12391 ; 112  |    } B;
                            12392 ; 113  |    int I;
                            12393 ; 114  |} usbphypwd_type;
                            12394 ; 115  |#define HW_USBPHYPWD      (*(volatile usbphypwd_type _X*) (HW_USBPHY_BASEADDR))    /* USB 
                                  PHY Powerdown Register */
                            12395 ; 116  |
                            12396 ; 117  |/////////////////////////////////////////////////////////////////////////////////
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 210

M:ADDR CODE           CYCLES LINE SOURCELINE
                            12397 ; 118  |//  USB PHY Transmit register (HW_USBPHYTX) Bit Definitions
                            12398 ; 119  |#define HW_USBPHYTX_TXCAL1500_BITPOS (0)
                            12399 ; 120  |#define HW_USBPHYTX_TXENCAL1500_BITPOS (5)
                            12400 ; 121  |#define HW_USBPHYTX_TXHSXCVR_BITPOS (6)
                            12401 ; 122  |#define HW_USBPHYTX_TXCALIBRATE_BITPOS (7)
                            12402 ; 123  |#define HW_USBPHYTX_TXCAL45DN_BITPOS (8)
                            12403 ; 124  |#define HW_USBPHYTX_TXENCAL45DN_BITPOS (13)
                            12404 ; 125  |#define HW_USBPHYTX_TXHSTERM_BITPOS (14)
                            12405 ; 126  |#define HW_USBPHYTX_TXSKEW_BITPOS (15)
                            12406 ; 127  |#define HW_USBPHYTX_TXCAL45DP_BITPOS (16)
                            12407 ; 128  |#define HW_USBPHYTX_TXENCAL45DP_BITPOS (21)
                            12408 ; 129  |#define HW_USBPHYTX_TXFSHIZ_BITPOS (22)
                            12409 ; 130  |#define HW_USBPHYTX_TXCOMPOUT_BITPOS (23)
                            12410 ; 131  |
                            12411 ; 132  |#define HW_USBPHYTX_TXCAL1500_WIDTH (4)
                            12412 ; 133  |#define HW_USBPHYTX_TXENCAL1500_WIDTH (1)
                            12413 ; 134  |#define HW_USBPHYTX_TXHSXCVR_WIDTH (1)
                            12414 ; 135  |#define HW_USBPHYTX_TXCALIBRATE_WIDTH (1)
                            12415 ; 136  |#define HW_USBPHYTX_TXCAL45DN_WIDTH (4)
                            12416 ; 137  |#define HW_USBPHYTX_TXENCAL45DN_WIDTH (1)
                            12417 ; 138  |#define HW_USBPHYTX_TXHSTERM_WIDTH (1)
                            12418 ; 139  |#define HW_USBPHYTX_TXSKEW_WIDTH (1)
                            12419 ; 140  |#define HW_USBPHYTX_TXCAL45DP_WIDTH (4)
                            12420 ; 141  |#define HW_USBPHYTX_TXENCAL45DP_WIDTH (1)
                            12421 ; 142  |#define HW_USBPHYTX_TXFSHIZ_WIDTH (1)
                            12422 ; 143  |#define HW_USBPHYTX_TXCOMPOUT_WIDTH (1)
                            12423 ; 144  |
                            12424 ; 145  |#define HW_USBPHYTX_TXCAL1500_SETMASK (((1<<HW_USBPHYTX_TXCAL1500_WIDTH)-1)<<HW_USBPHYTX_T
                                  XCAL1500_BITPOS)
                            12425 ; 146  |#define HW_USBPHYTX_TXENCAL1500_SETMASK (((1<<HW_USBPHYTX_TXENCAL1500_WIDTH)-1)<<HW_USBPHY
                                  TX_TXENCAL1500_BITPOS)
                            12426 ; 147  |#define HW_USBPHYTX_TXHSXCVR_SETMASK (((1<<HW_USBPHYTX_TXHSXCVR_WIDTH)-1)<<HW_USBPHYTX_TXH
                                  SXCVR_BITPOS)
                            12427 ; 148  |#define HW_USBPHYTX_TXCALIBRATE_SETMASK (((1<<HW_USBPHYTX_TXCALIBRATE_WIDTH)-1)<<HW_USBPHY
                                  TX_TXCALIBRATE_BITPOS)
                            12428 ; 149  |#define HW_USBPHYTX_TXCAL45DN_SETMASK (((1<<HW_USBPHYTX_TXCAL45DN_WIDTH)-1)<<HW_USBPHYTX_T
                                  XCAL45DN_BITPOS)
                            12429 ; 150  |#define HW_USBPHYTX_TXENCAL45DN_SETMASK (((1<<HW_USBPHYTX_TXENCAL45DN_WIDTH)-1)<<HW_USBPHY
                                  TX_TXENCAL45DN_BITPOS)
                            12430 ; 151  |#define HW_USBPHYTX_TXHSTERM_SETMASK (((1<<HW_USBPHYTX_TXHSTERM_WIDTH)-1)<<HW_USBPHYTX_TXH
                                  STERM_BITPOS)
                            12431 ; 152  |#define HW_USBPHYTX_TXSKEW_SETMASK (((1<<HW_USBPHYTX_TXSKEW_WIDTH)-1)<<HW_USBPHYTX_TXSKEW_
                                  BITPOS)
                            12432 ; 153  |#define HW_USBPHYTX_TXCAL45DP_SETMASK (((1<<HW_USBPHYTX_TXCAL45DP_WIDTH)-1)<<HW_USBPHYTX_T
                                  XCAL45DP_BITPOS)
                            12433 ; 154  |#define HW_USBPHYTX_TXENCAL45DP_SETMASK (((1<<HW_USBPHYTX_TXENCAL45DP_WIDTH)-1)<<HW_USBPHY
                                  TX_TXENCAL45DP_BITPOS)
                            12434 ; 155  |#define HW_USBPHYTX_TXFSHIZ_SETMASK (((1<<HW_USBPHYTX_TXFSHIZ_WIDTH)-1)<<HW_USBPHYTX_TXFSH
                                  IZ_BITPOS)
                            12435 ; 156  |#define HW_USBPHYTX_TXCOMPOUT_SETMASK (((1<<HW_USBPHYTX_TXCOMPOUT_WIDTH)-1)<<HW_USBPHYTX_T
                                  XCOMPOUT_BITPOS)
                            12436 ; 157  |
                            12437 ; 158  |#define HW_USBPHYTX_TXCAL1500_CLRMASK (~(WORD)HW_USBPHYTX_TXCAL1500_SETMASK)
                            12438 ; 159  |#define HW_USBPHYTX_TXENCAL1500_CLRMASK (~(WORD)HW_USBPHYTX_TXENCAL1500_SETMASK)
                            12439 ; 160  |#define HW_USBPHYTX_TXHSXCVR_CLRMASK (~(WORD)HW_USBPHYTX_TXHSXCVR_SETMASK)
                            12440 ; 161  |#define HW_USBPHYTX_TXCALIBRATE_CLRMASK (~(WORD)HW_USBPHYTX_TXCALIBRATE_SETMASK)
                            12441 ; 162  |#define HW_USBPHYTX_TXCAL45DN_CLRMASK (~(WORD)HW_USBPHYTX_TXCAL45DN_SETMASK)
                            12442 ; 163  |#define HW_USBPHYTX_TXENCAL45DN_CLRMASK (~(WORD)HW_USBPHYTX_TXENCAL45DN_SETMASK)
                            12443 ; 164  |#define HW_USBPHYTX_TXHSTERM_CLRMASK (~(WORD)HW_USBPHYTX_TXHSTERM_SETMASK)
                            12444 ; 165  |#define HW_USBPHYTX_TXSKEW_CLRMASK (~(WORD)HW_USBPHYTX_TXSKEW_SETMASK)
                            12445 ; 166  |#define HW_USBPHYTX_TXCAL45DP_CLRMASK (~(WORD)HW_USBPHYTX_TXCAL45DP_SETMASK)
                            12446 ; 167  |#define HW_USBPHYTX_TXENCAL45DP_CLRMASK (~(WORD)HW_USBPHYTX_TXENCAL45DP_SETMASK)
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 211

M:ADDR CODE           CYCLES LINE SOURCELINE
                            12447 ; 168  |#define HW_USBPHYTX_TXFSHIZ_CLRMASK (~(WORD)HW_USBPHYTX_TXFSHIZ_SETMASK)
                            12448 ; 169  |#define HW_USBPHYTX_TXCOMPOUT_CLRMASK (~(WORD)HW_USBPHYTX_TXCOMPOUT_SETMASK)
                            12449 ; 170  |
                            12450 ; 171  |typedef union               
                            12451 ; 172  |{
                            12452 ; 173  |    struct {
                            12453 ; 174  |        int TXCAL1500          :4;
                            12454 ; 175  |        int RSVD0              :1;
                            12455 ; 176  |        int TXENCAL1500        :1;
                            12456 ; 177  |        int TXHSXCVR           :1;
                            12457 ; 178  |        int TXCALIBRATE        :1;
                            12458 ; 179  |        int TXCAL45DN          :4;
                            12459 ; 180  |        int RSVD1              :1;
                            12460 ; 181  |        int TXENCAL45DN        :1;
                            12461 ; 182  |        int TXHSTERM           :1;
                            12462 ; 183  |        int TXSKEW             :1;
                            12463 ; 184  |        int TXCAL45DP          :4;
                            12464 ; 185  |        int RSVD2              :1;
                            12465 ; 186  |        int TXENCAL45DP        :1;
                            12466 ; 187  |        int TXFSHIZ            :1;
                            12467 ; 188  |        int TXCOMPOUT          :1;
                            12468 ; 189  |    } B;
                            12469 ; 190  |    int I;
                            12470 ; 191  |} usbphytx_type;
                            12471 ; 192  |#define HW_USBPHYTX      (*(volatile usbphytx_type _X*) (HW_USBPHY_BASEADDR+1))    
                            12472 ; 193  |
                            12473 ; 194  |/////////////////////////////////////////////////////////////////////////////////
                            12474 ; 195  |//  USB PHY PLL register (HW_USBPHYPLL) Bit Definitions
                            12475 ; 196  |#define HW_USBPHYPLL_PLLV2ISEL_BITPOS (0)
                            12476 ; 197  |#define HW_USBPHYPLL_PLLCPDBLIP_BITPOS (5)
                            12477 ; 198  |#define HW_USBPHYPLL_PLLVCOCLK2_BITPOS (6)
                            12478 ; 199  |#define HW_USBPHYPLL_PLLVCOCLK24_BITPOS (7)
                            12479 ; 200  |#define HW_USBPHYPLL_PLLCPNSEL_BITPOS (8)
                            12480 ; 201  |#define HW_USBPHYPLL_PLLCLKDIVSEL_BITPOS (12)
                            12481 ; 202  |#define HW_USBPHYPLL_PLLPFDRST_BITPOS (20)
                            12482 ; 203  |#define HW_USBPHYPLL_PLLCPSHORTLFR_BITPOS (21)
                            12483 ; 204  |#define HW_USBPHYPLL_PLLVCOKSTART_BITPOS (22)
                            12484 ; 205  |#define HW_USBPHYPLL_PLLCLKDIVRSTZ_BITPOS (23)
                            12485 ; 206  |
                            12486 ; 207  |#define HW_USBPHYPLL_PLLV2ISEL_WIDTH (4)
                            12487 ; 208  |#define HW_USBPHYPLL_PLLCPDBLIP_WIDTH (1)
                            12488 ; 209  |#define HW_USBPHYPLL_PLLVCOCLK2_WIDTH (1)
                            12489 ; 210  |#define HW_USBPHYPLL_PLLVCOCLK24_WIDTH (1)
                            12490 ; 211  |#define HW_USBPHYPLL_PLLCPNSEL_WIDTH (4)
                            12491 ; 212  |#define HW_USBPHYPLL_PLLCLKDIVSEL_WIDTH (4)
                            12492 ; 213  |#define HW_USBPHYPLL_PLLPFDRST_WIDTH (1)
                            12493 ; 214  |#define HW_USBPHYPLL_PLLCPSHORTLFR_WIDTH (1)
                            12494 ; 215  |#define HW_USBPHYPLL_PLLVCOKSTART_WIDTH (1)
                            12495 ; 216  |#define HW_USBPHYPLL_PLLCLKDIVRSTZ_WIDTH (1)
                            12496 ; 217  |
                            12497 ; 218  |#define HW_USBPHYPLL_PLLV2ISEL_SETMASK (((1<<HW_USBPHYPLL_PLLV2ISEL_WIDTH)-1)<<HW_USBPHYPL
                                  L_PLLV2ISEL_BITPOS)
                            12498 ; 219  |#define HW_USBPHYPLL_PLLCPDBLIP_SETMASK (((1<<HW_USBPHYPLL_PLLCPDBLIP_WIDTH)-1)<<HW_USBPHY
                                  PLL_PLLCPDBLIP_BITPOS)
                            12499 ; 220  |#define HW_USBPHYPLL_PLLVCOCLK2_SETMASK (((1<<HW_USBPHYPLL_PLLVCOCLK2_WIDTH)-1)<<HW_USBPHY
                                  PLL_PLLVCOCLK2_BITPOS)
                            12500 ; 221  |#define HW_USBPHYPLL_PLLVCOCLK24_SETMASK (((1<<HW_USBPHYPLL_PLLVCOCLK24_WIDTH)-1)<<HW_USBP
                                  HYPLL_PLLVCOCLK24_BITPOS)
                            12501 ; 222  |#define HW_USBPHYPLL_PLLCPNSEL_SETMASK (((1<<HW_USBPHYPLL_PLLCPNSEL_WIDTH)-1)<<HW_USBPHYPL
                                  L_PLLCPNSEL_BITPOS)
                            12502 ; 223  |#define HW_USBPHYPLL_PLLCLKDIVSEL_SETMASK (((1<<HW_USBPHYPLL_PLLCLKDIVSEL_WIDTH)-1)<<HW_US
                                  BPHYPLL_PLLCLKDIVSEL_BITPOS)
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 212

M:ADDR CODE           CYCLES LINE SOURCELINE
                            12503 ; 224  |#define HW_USBPHYPLL_PLLPFDRST_SETMASK (((1<<HW_USBPHYPLL_PLLPFDRST_WIDTH)-1)<<HW_USBPHYPL
                                  L_PLLPFDRST_BITPOS)
                            12504 ; 225  |#define HW_USBPHYPLL_PLLCPSHORTLFR_SETMASK (((1<<HW_USBPHYPLL_PLLCPSHORTLFR_WIDTH)-1)<<HW_
                                  USBPHYPLL_PLLCPSHORTLFR_BITPOS)
                            12505 ; 226  |#define HW_USBPHYPLL_PLLVCOKSTART_SETMASK (((1<<HW_USBPHYPLL_PLLVCOKSTART_WIDTH)-1)<<HW_US
                                  BPHYPLL_PLLVCOKSTART_BITPOS)
                            12506 ; 227  |#define HW_USBPHYPLL_PLLCLKDIVRSTZ_SETMASK (((1<<HW_USBPHYPLL_PLLCLKDIVRSTZ_WIDTH)-1)<<HW_
                                  USBPHYPLL_PLLCLKDIVRSTZ_BITPOS)
                            12507 ; 228  |
                            12508 ; 229  |#define HW_USBPHYPLL_PLLV2ISEL_CLRMASK (~(WORD)HW_USBPHYPLL_PLLV2ISEL_SETMASK)
                            12509 ; 230  |#define HW_USBPHYPLL_PLLCPDBLIP_CLRMASK (~(WORD)HW_USBPHYPLL_PLLCPDBLIP_SETMASK)
                            12510 ; 231  |#define HW_USBPHYPLL_PLLVCOCLK2_CLRMASK (~(WORD)HW_USBPHYPLL_PLLVCOCLK2_SETMASK)
                            12511 ; 232  |#define HW_USBPHYPLL_PLLVCOCLK24_CLRMASK (~(WORD)HW_USBPHYPLL_PLLVCOCLK24_SETMASK)
                            12512 ; 233  |#define HW_USBPHYPLL_PLLCPNSEL_CLRMASK (~(WORD)HW_USBPHYPLL_PLLCPNSEL_SETMASK)
                            12513 ; 234  |#define HW_USBPHYPLL_PLLCLKDIVSEL_CLRMASK (~(WORD)HW_USBPHYPLL_PLLCLKDIVSEL_SETMASK)
                            12514 ; 235  |#define HW_USBPHYPLL_PLLPFDRST_CLRMASK (~(WORD)HW_USBPHYPLL_PLLPFDRST_SETMASK)
                            12515 ; 236  |#define HW_USBPHYPLL_PLLCPSHORTLFR_CLRMASK (~(WORD)HW_USBPHYPLL_PLLCPSHORTLFR_SETMASK)
                            12516 ; 237  |#define HW_USBPHYPLL_PLLVCOKSTART_CLRMASK (~(WORD)HW_USBPHYPLL_PLLVCOKSTART_SETMASK)
                            12517 ; 238  |#define HW_USBPHYPLL_PLLCLKDIVRSTZ_CLRMASK (~(WORD)HW_USBPHYPLL_PLLCLKDIVRSTZ_SETMASK)
                            12518 ; 239  |
                            12519 ; 240  |typedef union               
                            12520 ; 241  |{
                            12521 ; 242  |    struct {
                            12522 ; 243  |        int PLLV2ISEL        :4;
                            12523 ; 244  |        int RSVD0            :1;
                            12524 ; 245  |        int PLLCPDBLIP       :1;
                            12525 ; 246  |        int PLLVCOCLK2       :1;
                            12526 ; 247  |        int PLLVCOCLK24      :1;
                            12527 ; 248  |        int PLLCPNSEL        :4;
                            12528 ; 249  |        int PLLCLKDIVSEL     :4;
                            12529 ; 250  |        int RSVD1            :4;
                            12530 ; 251  |        int PLLPFDRST        :1;
                            12531 ; 252  |        int PLLCPSHORTLFR    :1;
                            12532 ; 253  |        int PLLVCOKSTART     :1;
                            12533 ; 254  |        int PLLCLKDIVRSTZ    :1;
                            12534 ; 255  |    } B;
                            12535 ; 256  |    int I;
                            12536 ; 257  |} usbphypll_type;
                            12537 ; 258  |#define HW_USBPHYPLL      (*(volatile usbphypll_type _X*) (HW_USBPHY_BASEADDR+2))    
                            12538 ; 259  |
                            12539 ; 260  |/////////////////////////////////////////////////////////////////////////////////
                            12540 ; 261  |//  USB PHY PLL register (HW_USBPHYRX) Bit Definitions
                            12541 ; 262  |#define HW_USBRX_ENVADJ_BITPOS (0)
                            12542 ; 263  |#define HW_USBRX_DISCONADJ_BITPOS (4)
                            12543 ; 264  |#define HW_USBRX_DEBUGMODE_BITPOS (8)
                            12544 ; 265  |#define HW_USBRX_PLLLKTIMECTL_BITPOS (12)
                            12545 ; 266  |#define HW_USBRX_PLLCKDIVCTL_BITPOS (16)
                            12546 ; 267  |#define HW_USBRX_HOSTMODETEST_BITPOS (20)
                            12547 ; 268  |#define HW_USBRX_FSCKSOURCESEL_BITPOS (21)
                            12548 ; 269  |#define HW_USBRX_REGRXDBYPASS_BITPOS (22)
                            12549 ; 270  |#define HW_USBRX_PLLLOCKED_BITPOS (23)
                            12550 ; 271  |
                            12551 ; 272  |#define HW_USBRX_ENVADJ_WIDTH (4)
                            12552 ; 273  |#define HW_USBRX_DISCONADJ_WIDTH (4)
                            12553 ; 274  |#define HW_USBRX_DEBUGMODE_WIDTH (4)
                            12554 ; 275  |#define HW_USBRX_PLLLKTIMECTL_WIDTH (4)
                            12555 ; 276  |#define HW_USBRX_PLLCKDIVCTL_WIDTH (4)
                            12556 ; 277  |#define HW_USBRX_HOSTMODETEST_WIDTH (1)
                            12557 ; 278  |#define HW_USBRX_FSCKSOURCESEL_WIDTH (1)
                            12558 ; 279  |#define HW_USBRX_REGRXDBYPASS_WIDTH (1)
                            12559 ; 280  |#define HW_USBRX_PLLLOCKED_WIDTH (1)
                            12560 ; 281  |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 213

M:ADDR CODE           CYCLES LINE SOURCELINE
                            12561 ; 282  |#define HW_USBRX_ENVADJ_SETMASK (((1<<HW_USBRX_ENVADJ_WIDTH)-1)<<HW_USBRX_ENVADJ_BITPOS)
                            12562 ; 283  |#define HW_USBRX_DISCONADJ_SETMASK (((1<<HW_USBRX_DISCONADJ_WIDTH)-1)<<HW_USBRX_DISCONADJ_
                                  BITPOS)
                            12563 ; 284  |#define HW_USBRX_DEBUGMODE_SETMASK (((1<<HW_USBRX_DEBUGMODE_WIDTH)-1)<<HW_USBRX_DEBUGMODE_
                                  BITPOS)
                            12564 ; 285  |#define HW_USBRX_PLLLKTIMECTL_SETMASK (((1<<HW_USBRX_PLLLKTIMECTL_WIDTH)-1)<<HW_USBRX_PLLL
                                  KTIMECTL_BITPOS)
                            12565 ; 286  |#define HW_USBRX_PLLCKDIVCTL_SETMASK (((1<<HW_USBRX_PLLCKDIVCTL_WIDTH)-1)<<HW_USBRX_PLLCKD
                                  IVCTL_BITPOS)
                            12566 ; 287  |// 480 MHz PLL is divided by named number here. Setmask divider field nibble of 7 gives ac
                                  tual divider of 8 and so on. (8 gives 9, 9 gives 10)
                            12567 ; 288  |//              480Mhz/7 =68.57Mhz
                            12568 ; 289  |#define HW_USBPHYRX_PLLDIV_BY_7 0x060000
                            12569 ; 290  |
                            12570 ; 291  |//              480Mhz/8 ~60Mhz
                            12571 ; 292  |#define HW_USBPHYRX_PLLDIV_BY_8 0x070000
                            12572 ; 293  |
                            12573 ; 294  |//              480Mhz/9 =53.3Mhz
                            12574 ; 295  |#define HW_USBPHYRX_PLLDIV_BY_9 0x080000
                            12575 ; 296  |
                            12576 ; 297  |//              480Mhz/10 =48Mhz
                            12577 ; 298  |#define HW_USBPHYRX_PLLDIV_BY_10 0x090000
                            12578 ; 299  |
                            12579 ; 300  |
                            12580 ; 301  |#define HW_USBRX_HOSTMODETEST_SETMASK (((1<<HW_USBRX_HOSTMODETEST_WIDTH)-1)<<HW_USBRX_HOST
                                  MODETEST_BITPOS)
                            12581 ; 302  |#define HW_USBRX_FSCKSOURCESEL_SETMASK (((1<<HW_USBRX_FSCKSOURCESEL_WIDTH)-1)<<HW_USBRX_FS
                                  CKSOURCESEL_BITPOS)
                            12582 ; 303  |#define HW_USBRX_REGRXDBYPASS_SETMASK (((1<<HW_USBRX_REGRXDBYPASS_WIDTH)-1)<<HW_USBRX_REGR
                                  XDBYPASS_BITPOS)
                            12583 ; 304  |#define HW_USBRX_PLLLOCKED_SETMASK (((1<<HW_USBRX_PLLLOCKED_WIDTH)-1)<<HW_USBRX_PLLLOCKED_
                                  BITPOS)
                            12584 ; 305  |
                            12585 ; 306  |#define HW_USBRX_ENVADJ_CLRMASK (~(WORD)HW_USBRX_ENVADJ_SETMASK)
                            12586 ; 307  |#define HW_USBRX_DISCONADJ_CLRMASK (~(WORD)HW_USBRX_DISCONADJ_SETMASK)
                            12587 ; 308  |#define HW_USBRX_DEBUGMODE_CLRMASK (~(WORD)HW_USBRX_DEBUGMODE_SETMASK)
                            12588 ; 309  |#define HW_USBRX_PLLLKTIMECTL_CLRMASK (~(WORD)HW_USBRX_PLLLKTIMECTL_SETMASK)
                            12589 ; 310  |#define HW_USBRX_PLLCKDIVCTL_CLRMASK (~(WORD)HW_USBRX_PLLCKDIVCTL_SETMASK)
                            12590 ; 311  |#define HW_USBRX_HOSTMODETEST_CLRMASK (~(WORD)HW_USBRX_HOSTMODETEST_SETMASK)
                            12591 ; 312  |#define HW_USBRX_FSCKSOURCESEL_CLRMASK (~(WORD)HW_USBRX_FSCKSOURCESEL_SETMASK)
                            12592 ; 313  |#define HW_USBRX_REGRXDBYPASS_CLRMASK (~(WORD)HW_USBRX_REGRXDBYPASS_SETMASK)
                            12593 ; 314  |#define HW_USBRX_PLLLOCKED_CLRMASK (~(WORD)HW_USBRX_PLLLOCKED_SETMASK)
                            12594 ; 315  |
                            12595 ; 316  |typedef union               
                            12596 ; 317  |{
                            12597 ; 318  |    struct {
                            12598 ; 319  |     int ENVADJ               :4;
                            12599 ; 320  |     int DISCONADJ            :4;
                            12600 ; 321  |     int DEBUGMODE            :4;
                            12601 ; 322  |     int PLLLKTIMECTL         :4;
                            12602 ; 323  |     int PLLCKDIVCTL          :4;
                            12603 ; 324  |     int HOSTMODETEST         :1;
                            12604 ; 325  |     int FSCKSOURCESEL        :1;
                            12605 ; 326  |     int REGRXDBYPASS         :1;
                            12606 ; 327  |     int PLLLOCKED            :1;
                            12607 ; 328  |    } B;
                            12608 ; 329  |    int I;
                            12609 ; 330  |} usbphyrx_type;
                            12610 ; 331  |#define HW_USBPHYRX      (*(volatile usbphyrx_type _X*) (HW_USBPHY_BASEADDR+3))    
                            12611 ; 332  |
                            12612 ; 333  |#endif
                            12613 ; 334  |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 214

M:ADDR CODE           CYCLES LINE SOURCELINE
                            12614 
                            12616 
                            12617 ; 38   |
                            12618 ; 39   |
                            12619 ; 40   |#endif // if (!@def(hwequ))
                            12620 ; 41   |
                            12621 
                            12623 
                            12624 ; 11   |#include "project.h"
                            12625 
                            12627 
                            12628 ; 1    |/////////////////////////////////////////////////////////////////////////////////
                            12629 ; 2    |//  Copyright(C) SigmaTel, Inc. 2000-2004
                            12630 ; 3    |//  Filename: project.inc
                            12631 ; 4    |//  Description: 
                            12632 ; 5    |/////////////////////////////////////////////////////////////////////////////////
                            12633 ; 6    |
                            12634 ; 7    |#if (!defined(_PROJECT_INC))
                            12635 ; 8    |#define _PROJECT_INC 1
                            12636 ; 9    |
                            12637 ; 10   |#if defined(STMP_BUILD_PLAYER)
                            12638 ; 11   |#include "hwequ.h"
                            12639 
                            12641 
                            12642 ; 1    |/////////////////////////////////////////////////////////////////////////////////
                            12643 ; 2    |//  Copyright(C) SigmaTel, Inc. 2000-2001
                            12644 ; 3    |//  File        : hwequ.inc
                            12645 ; 4    |//  Description : STMP Hardware Constants
                            12646 ; 5    |/////////////////////////////////////////////////////////////////////////////////
                            12647 ; 6    |
                            12648 ; 7    |// ////////////////////////////////////////////////////////////////////////////////
                            12649 ; 8    |// hwequ is being eliminated for SDK3XXX.  For SDK2.5XX it will now reside in the   
                            12650 ; 9    |// local folder instead of ..\inc.  All register includes are converted to .h by 
                            12651 ; 10   |// registers.mk placed in the ..\lcdexample\player\output_XXXX folder.
                            12652 ; 11   |// ////////////////////////////////////////////////////////////////////////////////
                            12653 ; 12   |
                            12654 ; 13   |#if (!defined(HWEQU_INC))
                            12655 ; 14   |#define HWEQU_INC 1
                            12656 ; 15   |
                            12657 ; 16   |#include "types.h"
                            12658 ; 17   |#include "regsclkctrl.h"
                            12659 ; 18   |#include "regscore.h"
                            12660 ; 19   |#include "regscodec.h"
                            12661 ; 20   |#include "regsdcdc.h"
                            12662 ; 21   |#include "regsemc.h"
                            12663 ; 22   |#include "regsgpio.h"
                            12664 ; 23   |#include "regsi2c.h"
                            12665 ; 24   |#include "regsi2s.h"
                            12666 ; 25   |#include "regsicoll.h"
                            12667 ; 26   |#include "regslradc.h"
                            12668 ; 27   |#include "regspwm.h"
                            12669 ; 28   |#include "regsrevision.h"
                            12670 ; 29   |#include "regsrtc.h"
                            12671 ; 30   |#include "regsspare.h"
                            12672 ; 31   |#include "regsspi.h"
                            12673 ; 32   |#include "regsswizzle.h"
                            12674 ; 33   |#include "regssdram.h"
                            12675 ; 34   |#include "regstb.h"
                            12676 ; 35   |#include "regstimer.h"
                            12677 ; 36   |#include "regsusb20.h"
                            12678 ; 37   |#include "regsusb20phy.h"
                            12679 ; 38   |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 215

M:ADDR CODE           CYCLES LINE SOURCELINE
                            12680 ; 39   |
                            12681 ; 40   |#endif // if (!@def(hwequ))
                            12682 ; 41   |
                            12683 
                            12685 
                            12686 ; 12   |#else 
                            12687 ; 13   |//include "regscodec.inc"
                            12688 ; 14   |#endif
                            12689 ; 15   |
                            12690 ; 16   |//////////////////////////////////////////////////////////////////////////////////
                            12691 ; 17   |// Uncomment next define to allow player boot if you have stfm1000 macro enabled (defaults
                                   ON) & 
                            12692 ; 18   |// your board crystal is not able to output nominal voltage range. Used in player main.asm
                                  . STMP00012148
                            12693 ; 19   |// Defining this will result in lower battery life (price of using a lower quality crystal
                                  ). 
                            12694 ; 20   |// Those that want to save battery life and have good crystals that meet our HW team's spe
                                  cs can 
                            12695 ; 21   |// comment out this line to reduce crystal bias current and so battery current in player m
                                  ode.  
                            12696 ; 22   |#define SUPPORT_MARGINAL_XTALS 1
                            12697 ; 23   |
                            12698 ; 24   |/////////////////////////////////////////////////////////////////////////////////
                            12699 ; 25   |// BOOT SPEED CONFIG & ASSOCIATED BATTERY VOLTAGE CHECK ENABLE
                            12700 ; 26   |/////////////////////////////////////////////////////////////////////////////////
                            12701 ; 27   |// Users can enable one of ATTEMPT_FAST_BOOT or FASTEST boot or neither project define bel
                                  ow by defining
                            12702 ; 28   |// values as 0 or 1, else it defaults to the boot speed used in previous SDKs.
                            12703 ; 29   |#define ATTEMPT_FAST_BOOT 1
                            12704 ; 30   |#define ATTEMPT_FASTEST_BOOT 0   
                            12705 ; 31   |// Changing this define to 0 removes Vbat threshholding & unconditionally gives fast boot 
                                  config above- 
                            12706 ; 32   |// disabling this check is suggested for profiling if you want to try to tweak down thresh
                                  holds by maybe 50mV.
                            12707 ; 33   |// Also the tests should clear the fast boot config defines to link & boot at normal speed
                                  .
                            12708 ; 34   |#define SPEED_BOOT_BATTERY_CHECK 1
                            12709 ; 35   |
                            12710 ; 36   |/////////////////////////////////////////////////////////////////////////////////
                            12711 ; 37   |// MEDIA DEFINITIONS
                            12712 ; 38   |/////////////////////////////////////////////////////////////////////////////////
                            12713 ; 39   |
                            12714 ; 40   |/////////////////////////////////////////////////////////////////////////////////
                            12715 ; 41   |// MNAND - Number of chips forming the internal physical device (i.e. # of NANDs)
                            12716 ; 42   |#if defined(NAND1)
                            12717 ; 43   |#define SM_INTERNAL_CHIPS 1
                            12718 ; 44   |#else 
                            12719 ; 45   |#if defined(NAND2)
                            12720 ; 46   |#define SM_INTERNAL_CHIPS 2
                            12721 ; 47   |#else 
                            12722 ; 48   |#if defined(NAND3)
                            12723 ; 49   |#define SM_INTERNAL_CHIPS 3
                            12724 ; 50   |#else 
                            12725 ; 51   |#if defined(NAND4)
                            12726 ; 52   |#define SM_INTERNAL_CHIPS 4
                            12727 ; 53   |#else 
                            12728 ; 54   |#define SM_INTERNAL_CHIPS 1
                            12729 ; 55   |#endif
                            12730 ; 56   |#endif
                            12731 ; 57   |#endif
                            12732 ; 58   |#endif
                            12733 ; 59   |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 216

M:ADDR CODE           CYCLES LINE SOURCELINE
                            12734 ; 60   |/////////////////////////////////////////////////////////////////////////////////
                            12735 ; 61   |// If SMARTMEDIA_DETECT_ACTIVE_HIGH is defined:
                            12736 ; 62   |//   SmartMedia will be detected as inserted if the GPIO pin reads 1 and removed if it rea
                                  ds 0.  
                            12737 ; 63   |// If SMARTMEDIA_DETECT_ACTIVE_HIGH is not defined ** comment out next line **
                            12738 ; 64   |//   SmartMedia will be detected as inserted if the GPIO pin reads 0 and removed if it rea
                                  ds 1.
                            12739 ; 65   |//*** comment out if active high ****
                            12740 ; 66   |//SMARTMEDIA_DETECT_ACTIVE_HIGH  equ     1
                            12741 ; 67   |
                            12742 ; 68   |#if defined(SMEDIA)
                            12743 ; 69   |#define NUM_REMOVABLE_MEDIA 1
                            12744 ; 70   |#define NUM_SM_EXTERNAL 1
                            12745 ; 71   |#define MMC_MAX_PHYSICAL_DEVICES 0
                            12746 ; 72   |#define SM_MAX_LOGICAL_DEVICES 2
                            12747 ; 73   |#else 
                            12748 ; 74   |#if defined(MMC)
                            12749 ; 75   |#define NUM_REMOVABLE_MEDIA 1
                            12750 ; 76   |#define NUM_SM_EXTERNAL 0
                            12751 ; 77   |#define MMC_MAX_PHYSICAL_DEVICES 1
                            12752 ; 78   |#define SM_MAX_LOGICAL_DEVICES 1
                            12753 ; 79   |#else 
                            12754 ; 80   |#define NUM_REMOVABLE_MEDIA 0
                            12755 ; 81   |#define NUM_SM_EXTERNAL 0
                            12756 ; 82   |#define MMC_MAX_PHYSICAL_DEVICES 0
                            12757 ; 83   |#define SM_MAX_LOGICAL_DEVICES 1
                            12758 ; 84   |#endif
                            12759 ; 85   |#endif
                            12760 ; 86   |
                            12761 ; 87   |/////////////////////////////////////////////////////////////////////////////////
                            12762 ; 88   |// Mass Storage Class definitions
                            12763 ; 89   |/////////////////////////////////////////////////////////////////////////////////
                            12764 ; 90   |// Set to 0 if Composite Device build is desired.    
                            12765 ; 91   |#define MULTI_LUN_BUILD 1   
                            12766 ; 92   |
                            12767 ; 93   |////////////////////////////////////////////////////////////////////////////////
                            12768 ; 94   |//  SCSI
                            12769 ; 95   |#if (MULTI_LUN_BUILD==0)
                            12770 ; 96   |  #if (NUM_REMOVABLE_MEDIA == 1)
                            12771 ; 97   |    #define SCSI_NUM_TARGETS                        2
                            12772 ; 98   |    #define SCSI_DEVICE_NUM_LUNS_DEV_0              1
                            12773 ; 99   |    #define SCSI_DEVICE_NUM_LUNS_DEV_1              1
                            12774 ; 100  |  #else
                            12775 ; 101  |    #define SCSI_NUM_TARGETS                        1
                            12776 ; 102  |    #define SCSI_DEVICE_NUM_LUNS_DEV_0              1
                            12777 ; 103  |  #endif
                            12778 ; 104  |#else
                            12779 ; 105  |    #define SCSI_NUM_TARGETS                        1
                            12780 ; 106  |  #if (NUM_REMOVABLE_MEDIA == 1)
                            12781 ; 107  |    #define SCSI_DEVICE_NUM_LUNS_DEV_0              2
                            12782 ; 108  |  #else
                            12783 ; 109  |    #define SCSI_DEVICE_NUM_LUNS_DEV_0              1  
                            12784 ; 110  |  #endif
                            12785 ; 111  |#endif
                            12786 ; 112  |
                            12787 ; 113  |
                            12788 ; 114  |#define USBMSC_NUM_DEVICES                      SCSI_NUM_TARGETS
                            12789 ; 115  |
                            12790 ; 116  |
                            12791 ; 117  |////////////////////////////////////////////////////////////////////////////////
                            12792 ; 118  |// Define number of logical medias and drives for three builds (MTP, USBMSC, and Player)
                            12793 ; 119  |////////////////////////////////////////////////////////////////////////////////
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 217

M:ADDR CODE           CYCLES LINE SOURCELINE
                            12794 ; 120  |#ifdef MMC
                            12795 ; 121  |#ifdef MTP_BUILD
                            12796 ; 122  |// --------------------
                            12797 ; 123  |// MTP and MMC
                            12798 ; 124  |// --------------------
                            12799 ; 125  |#define NUM_LOGICAL_MEDIA       2
                            12800 ; 126  |#define NUM_LOGICAL_DRIVES      8
                            12801 ; 127  |#else  // ifndef MTP_BUILD
                            12802 ; 128  |#ifdef STMP_BUILD_PLAYER
                            12803 ; 129  |// --------------------
                            12804 ; 130  |// Player and MMC
                            12805 ; 131  |// --------------------
                            12806 ; 132  |#else
                            12807 ; 133  |// --------------------
                            12808 ; 134  |// USBMSC and MMC
                            12809 ; 135  |// --------------------
                            12810 ; 136  |#define NUM_LOGICAL_MEDIA       3
                            12811 ; 137  |#define NUM_LOGICAL_DRIVES      8
                            12812 ; 138  |#endif // ifdef STMP_BUILD_PLAYER
                            12813 ; 139  |#endif // ifdef MTP_BUILD
                            12814 ; 140  |#else  // ifndef MMC
                            12815 ; 141  |#ifdef MTP_BUILD
                            12816 ; 142  |// --------------------
                            12817 ; 143  |// MTP and NAND only
                            12818 ; 144  |// --------------------
                            12819 ; 145  |#define NUM_LOGICAL_MEDIA       1
                            12820 ; 146  |#define NUM_LOGICAL_DRIVES      7
                            12821 ; 147  |#else  // ifndef MTP_BUILD
                            12822 ; 148  |#ifdef STMP_BUILD_PLAYER
                            12823 ; 149  |// --------------------
                            12824 ; 150  |// Player and NAND only
                            12825 ; 151  |// --------------------
                            12826 ; 152  |#else
                            12827 ; 153  |// --------------------
                            12828 ; 154  |// USBMSC and NAND only
                            12829 ; 155  |// --------------------
                            12830 ; 156  |#define NUM_LOGICAL_MEDIA       2
                            12831 ; 157  |#define NUM_LOGICAL_DRIVES      7
                            12832 ; 158  |#endif // ifdef STMP_BUILD_PLAYER
                            12833 ; 159  |#endif // ifdef MTP_BUILD
                            12834 ; 160  |#endif // ifdef MMC 
                            12835 ; 161  |
                            12836 ; 162  |// If we are in an MTP build then we don't use as many transfers buffers.
                            12837 ; 163  |#if (defined(MTP_BUILD))
                            12838 ; 164  |#define MAX_USB_TRANSFERS_QUEUED 16
                            12839 ; 165  |
                            12840 ; 166  |////!
                            12841 ; 167  |////! This varible holds the watchdog count for the store flush.
                            12842 ; 168  |////!
                            12843 ; 169  |///
                            12844 ; 170  |#include <types.h>
                            12845 ; 171  |extern volatile INT g_StoreWatchDogCount;
                            12846 ; 172  |extern const INT g_StoreWatchDogTimeout;
                            12847 ; 173  |#endif
                            12848 ; 174  |
                            12849 ; 175  |////////////////////////////////////////////////////////////////////////////////
                            12850 ; 176  |// These are needed here for Mass Storage Class
                            12851 ; 177  |// Needs to be cleaned up
                            12852 ; 178  |////////////////////////////////////////////////////////////////////////////////
                            12853 ; 179  |#if (!defined(STMP_BUILD_PLAYER))
                            12854 ; 180  |#define SCRATCH_USER_Y_SIZE 512
                            12855 ; 181  |#define SCRATCH_USER_X_SIZE 512
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 218

M:ADDR CODE           CYCLES LINE SOURCELINE
                            12856 ; 182  |
                            12857 ; 183  |#define BROWNOUT_LEVEL1_DETECTED                0x000001
                            12858 ; 184  |
                            12859 ; 185  |#endif
                            12860 ; 186  |
                            12861 ; 187  |
                            12862 ; 188  |/////////////////////////////////////////////////////////////////////////////////
                            12863 ; 189  |// SmartMedia/NAND defs
                            12864 ; 190  |#define SM_MAX_PHYSICAL_DEVICES SM_INTERNAL_CHIPS+NUM_SM_EXTERNAL
                            12865 ; 191  |#define SM_REMOVABLE_DEVICE_NUM SM_INTERNAL_CHIPS
                            12866 ; 192  |
                            12867 ; 193  |/////////////////////////////////////////////////////////////////////////////////
                            12868 ; 194  |// Sysloadresources defs
                            12869 ; 195  |#define SM_MAX_RESOURCE_DEVICES SM_INTERNAL_CHIPS+NUM_SM_EXTERNAL
                            12870 ; 196  |
                            12871 ; 197  |/////////////////////////////////////////////////////////////////////////////////
                            12872 ; 198  |// MMC defs
                            12873 ; 199  |#define MMC_MAX_PARTITIONS 1
                            12874 ; 200  |#define MMC_MAX_LOGICAL_DEVICES MMC_MAX_PHYSICAL_DEVICES*MMC_MAX_PARTITIONS
                            12875 ; 201  |
                            12876 ; 202  |/////////////////////////////////////////////////////////////////////////////////
                            12877 ; 203  |// SPI defs
                            12878 ; 204  |#define SPI_MAX_DEVICES MMC_MAX_PHYSICAL_DEVICES
                            12879 ; 205  |
                            12880 ; 206  |/////////////////////////////////////////////////////////////////////////////////
                            12881 ; 207  |// Global media defs
                            12882 ; 208  |#define MAX_PHYSICAL_DEVICES SM_MAX_PHYSICAL_DEVICES+MMC_MAX_PHYSICAL_DEVICES
                            12883 ; 209  |#define MAX_LOGICAL_DEVICES SM_MAX_LOGICAL_DEVICES+MMC_MAX_LOGICAL_DEVICES
                            12884 ; 210  |
                            12885 ; 211  |/////////////////////////////////////////////////////////////////////////////////
                            12886 ; 212  |// DO NOT CHANGE THESE!!!
                            12887 ; 213  |#define SM_MAX_PARTITIONS 4
                            12888 ; 214  |#define MAX_HANDLES 2
                            12889 ; 215  |/////////////////////////////////////////////////////////////////////////////////
                            12890 ; 216  |
                            12891 ; 217  |
                            12892 ; 218  |/////////////////////////////////////////////////////////////////////////////////
                            12893 ; 219  |// Battery LRADC Values 
                            12894 ; 220  |/////////////////////////////////////////////////////////////////////////////////
                            12895 ; 221  |// brownout trip point in mV (moved by RS)
                            12896 ; 222  |// BATT_SAFETY_MARGIN:  percentage value used by:
                            12897 ; 223  |//   * SysSaveSettings to determine if enough power is left to attempt a settings save. 
                            12898 ; 224  |//   * Recorder to conditionally prevent the start or continuation of 
                            12899 ; 225  |//     audio recording to media.
                            12900 ; 226  |#define BATT_SAFETY_MARGIN 10
                            12901 ; 227  |
                            12902 ; 228  |//; player resource drive refresh allowed only when battery usable % is above this value. 
                                  
                            12903 ; 229  |//; 50% of usable range [0.9V to 1.5V] is around 1.2V This is the safe target alkaline vol
                                  tage to do a refresh.
                            12904 ; 230  |//; LIION will also require 50% which will work but that could be changed in the future. 
                            12905 ; 231  |//RESOURCE_REFRESH_MIN_BATT_PCT equ 50
                            12906 ; 232  |
                            12907 ; 233  |// stmp00005071 adds these for mp3 encode stability at low battery per battery type & mmc 
                                  presence.
                            12908 ; 234  |
                            12909 ; 235  |//// Vbat threshholds empirically tuned by profiling max bat current for 3 HW cases: 
                            12910 ; 236  |//// 1 GigaByte MMC, NAND flash only, & LiIon Buck mode. See voicemenu pre-encode Vbat che
                                  ck.
                            12911 ; 237  |#if (!defined(CLCD))
                            12912 ; 238  |#define MP3_ENC_MMC_MIN_V_BAT_MV 1100
                            12913 ; 239  |#define MP3_ENC_NANDONLY_MIN_V_BAT_MV 1000
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 219

M:ADDR CODE           CYCLES LINE SOURCELINE
                            12914 ; 240  |#else 
                            12915 ; 241  |#define MP3_ENC_MMC_MIN_V_BAT_MV 1250
                            12916 ; 242  |#define MP3_ENC_NANDONLY_MIN_V_BAT_MV 1150
                            12917 ; 243  |#endif
                            12918 ; 244  |#define MP3_ENC_BUCKMODE_MIN_V_BAT_MV 3300
                            12919 ; 245  |
                            12920 ; 246  |// These Vbat use-range-percentages are derived to correspond with target battery 
                            12921 ; 247  |// voltages of 1.10V for MMC, 1.0V for nand only (alkaline or nimh), and 3.3V for any LiIo
                                  n.
                            12922 ; 248  |// See mp3 encoder overlay.
                            12923 ; 249  |#define MP3_ENC_MMC_MIN_V_BAT_RANGE_PCT 33
                            12924 ; 250  |#define MP3_ENC_NANDONLY_MIN_V_BAT_RANGE_PCT 17
                            12925 ; 251  |#define MP3_ENC_BUCKMODE_MIN_V_BAT_RANGE_PCT 25
                            12926 ; 252  |
                            12927 ; 253  |/////////////////////////////////////////////////////////////////////////////////
                            12928 ; 254  |// Voice recording filenames
                            12929 ; 255  |// number of digits in filename Vxxx.wav
                            12930 ; 256  |/////////////////////////////////////////////////////////////////////////////////
                            12931 ; 257  |#define DIGITS_IN_VOICE_FILENAME 3   
                            12932 ; 258  |
                            12933 ; 259  |/////////////////////////////////////////////////////////////////////////////////
                            12934 ; 260  |// Mic Bias: Set this enable to 1 to internally generate mic bias voltage. 
                            12935 ; 261  |// Also below, must configure internal resistor value and pin to use for DC bias. 
                            12936 ; 262  |// Can set to 0 to disable internally generated mic bias voltage at pin lradc1/2.
                            12937 ; 263  |#if defined(DEVICE_3500)
                            12938 ; 264  |#define ENABLE_INTERNALLY_GENERATED_MICBIAS 1 
                            12939 ; 265  |// MIC BIAS circuit source selection: use Low Resolution ADC pin 2 or 1 to bias mic. 
                            12940 ; 266  |// Per your layout: select LRADC 2 or 1 below 
                            12941 ; 267  |//   (pin LRADC 2 for 35xx cpu card revB, LRADC 1 for 35xx cpu card revC, ref schematics, 
                                  & demo player)
                            12942 ; 268  |#define LRADC_NUM_FOR_MIC_BIAS 1 
                            12943 ; 269  |// Sets internal mic bias R to value 2, 4, or 8 (in kOhms).
                            12944 ; 270  |#define MICBIAS_CONFIGURED_RESISTOR_KOHMS 8
                            12945 ; 271  |
                            12946 ; 272  |// Allows mic bias to settle before sampling. This delay currently unused. For rec btn whe
                                  n bias not yet ready.
                            12947 ; 273  |#define REC_BTN_INTERNAL_MIC_BIAS_SETTLING_DELAY_MS 400 
                            12948 ; 274  |// Option always keeps bias enabled after mainmenu init. This allows for start pop prevent
                                  ion if you use rec button from outside voice menu.
                            12949 ; 275  |// This selection costs 1 mWatt but gains the desired low record button to sampling latenc
                                  y in the record-from-music-menu use-case.
                            12950 ; 276  |#define KEEP_MIC_BIAS_ENABLED 0
                            12951 ; 277  |
                            12952 ; 278  |#else 
                            12953 ; 279  |// STMP3410
                            12954 ; 280  |#define ENABLE_INTERNALLY_GENERATED_MICBIAS 0
                            12955 ; 281  |#define LRADC_NUM_FOR_MIC_BIAS 1 
                            12956 ; 282  |#define MICBIAS_CONFIGURED_RESISTOR_KOHMS 2
                            12957 ; 283  |#endif
                            12958 ; 284  |
                            12959 ; 285  |/////////////////////////////////////////////////////////////////////////////////
                            12960 ; 286  |// Number of available soft timers
                            12961 ; 287  |/////////////////////////////////////////////////////////////////////////////////
                            12962 ; 288  |#if defined(SYNC_LYRICS)
                            12963 ; 289  |#define SOFT_TIMERS 10
                            12964 ; 290  |#else 
                            12965 ; 291  |#if defined(JPEG_DECODER)
                            12966 ; 292  |#define SOFT_TIMERS 10
                            12967 ; 293  |#else 
                            12968 ; 294  |#define SOFT_TIMERS 9
                            12969 ; 295  |#endif
                            12970 ; 296  |#endif
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 220

M:ADDR CODE           CYCLES LINE SOURCELINE
                            12971 ; 297  |
                            12972 ; 298  |/////////////////////////////////////////////////////////////////////////////////
                            12973 ; 299  |//  sizes
                            12974 ; 300  |/////////////////////////////////////////////////////////////////////////////////
                            12975 ; 301  |#if defined(MMC)
                            12976 ; 302  |#if defined(USE_PLAYLIST5)
                            12977 ; 303  |#define MENU_STACK_SIZE 1500
                            12978 ; 304  |#else 
                            12979 ; 305  |#define MENU_STACK_SIZE 1250
                            12980 ; 306  |#endif //if @def('USE_PLAYLIST5')
                            12981 ; 307  |#else 
                            12982 ; 308  |#if defined(USE_PLAYLIST5)
                            12983 ; 309  |#define MENU_STACK_SIZE 1500
                            12984 ; 310  |#else 
                            12985 ; 311  |#define MENU_STACK_SIZE 1250
                            12986 ; 312  |#endif //if @def('USE_PLAYLIST5')
                            12987 ; 313  |#endif //if @def('MMC')
                            12988 ; 314  |
                            12989 ; 315  |// NOTE: SDK2.6 USED 550 FOR NEXT LINE, BUT SDK3.0BETA USED 750. Should it be ifdef MTP 75
                                  0 else 550 for other builds? TOVERIFY. MYALLOC
                            12990 ; 316  |// 
                            12991 ; 317  |#define STACK_L1_SIZE 750
                            12992 ; 318  |#define STACK_L2_SIZE 100
                            12993 ; 319  |#define STACK_L3_SIZE 160
                            12994 ; 320  |
                            12995 ; 321  |// If we are in MTP mode the overlay task stack can shrink.
                            12996 ; 322  |// TODO shrink this stack for MTP, I will leave it at 500 until we verify that it 
                            12997 ; 323  |// is ok with switching code.
                            12998 ; 324  |#if defined(MTP_BUILD)
                            12999 ; 325  |#define OVERLAY_MANAGER_STACK_SIZE 300
                            13000 ; 326  |#endif
                            13001 ; 327  |
                            13002 ; 328  |/////////////////////////////////////////////////////////////////////////////////
                            13003 ; 329  |// maximum number of nested funclets 
                            13004 ; 330  |/////////////////////////////////////////////////////////////////////////////////
                            13005 ; 331  |#define MAX_NESTED_FUNCLET 6 
                            13006 ; 332  |
                            13007 ; 333  |/////////////////////////////////////////////////////////////////////////////////
                            13008 ; 334  |//    LCD DEFINITIONS
                            13009 ; 335  |/////////////////////////////////////////////////////////////////////////////////
                            13010 ; 336  |
                            13011 ; 337  |#define SPACE_CHAR 0x000020          
                            13012 ; 338  |#define ZERO_CHAR 0x000030
                            13013 ; 339  |#define COLON_CHAR 0x00003A
                            13014 ; 340  |#define PERIOD_CHAR 0x00002E
                            13015 ; 341  |
                            13016 ; 342  |#if (defined(S6B33B0A_LCD))
                            13017 ; 343  |#define LCD_X_SIZE 128
                            13018 ; 344  |#define LCD_Y_SIZE 159
                            13019 ; 345  |#endif
                            13020 ; 346  |
                            13021 ; 347  |#if (defined(SED15XX_LCD))
                            13022 ; 348  |#define LCD_X_SIZE 128
                            13023 ; 349  |#define LCD_Y_SIZE 64
                            13024 ; 350  |#endif
                            13025 ; 351  |
                            13026 ; 352  |
                            13027 ; 353  |//////////////////////////////////////////////////////////////////////////////////
                            13028 ; 354  |//   Details on Customizing Contrast
                            13029 ; 355  |/////////////////////////////////////////////////////////////////////////////////
                            13030 ; 356  |//   Max supported LCD range is 0 - 3F; however due to hardware/voltage differences
                            13031 ; 357  |//   the range of visibility is usually smaller than this.  It is important to 
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 221

M:ADDR CODE           CYCLES LINE SOURCELINE
                            13032 ; 358  |//   calibrate the visible range, because the contrast setting is saved.
                            13033 ; 359  |//   If the user shuts off the player while lcd is not visible, the player is useless
                            13034 ; 360  |//   unless the ezact sequence is remembered.
                            13035 ; 361  |//   To find out what range your player supports: 
                            13036 ; 362  |//   change these equs to full range or comment out (full range is default)
                            13037 ; 363  |//;;;;;;
                            13038 ; 364  |// uncomment the line below to build code that will provide raw contrast value
                            13039 ; 365  |// recommended calibration using player -- uncomment 
                            13040 ; 366  |//;;;;;;
                            13041 ; 367  |//CONTRAST_CALIBRATION    equ  1
                            13042 ; 368  |////////////////////////////
                            13043 ; 369  |#if (defined(DEMO_HW))
                            13044 ; 370  |// this is the setting for ET301 demos; Next 2 line have not been updated for new Shingyi 
                                  LCD (June6'05)
                            13045 ; 371  |#define LCD_MAX_CONTRAST 0x32 
                            13046 ; 372  |#define LCD_MIN_CONTRAST 0x1E
                            13047 ; 373  |#else 
                            13048 ; 374  |
                            13049 ; 375  |#if (defined(S6B33B0A_LCD))
                            13050 ; 376  |#define LCD_MAX_CONTRAST 210
                            13051 ; 377  |#define LCD_MIN_CONTRAST 160    
                            13052 ; 378  |#endif
                            13053 ; 379  |
                            13054 ; 380  |#if (defined(SED15XX_LCD))
                            13055 ; 381  |// Next 3 line comment was for OLD shingyi LCD: (default LCD before sdk2.6)
                            13056 ; 382  |// Engineering board regs support range [17-37].
                            13057 ; 383  |//   Engineering board DC/DC support range [24-46]. 
                            13058 ; 384  |//   One default contrast range [24-42] works for both.
                            13059 ; 385  |// The 3 sets of contrast ranges below are updated for SDK2.6 to support either 
                            13060 ; 386  |// new or old ShingYih LCDs. "File" refers to \resource\shingyih\system_lcd_init_seq.src
                            13061 ; 387  |// 3/10/05 - Use one of the 2 next contrast ranges depending on which
                            13062 ; 388  |// ShingYih LCD you have.  See \resources\shingyi\readme.txt 
                            13063 ; 389  |// Optimal for NEW LCD with NEW file (SDK2.6 default)  
                            13064 ; 390  |// G098064-41 LCD module (present on engr board revH LCD card)
                            13065 ; 391  |
                            13066 ; 392  |#if (defined(NEWSHINGYIH))
                            13067 ; 393  |#define LCD_MAX_CONTRAST 250
                            13068 ; 394  |#define LCD_MIN_CONTRAST 0
                            13069 ; 395  |#else 
                            13070 ; 396  |//-----
                            13071 ; 397  |// Near optimal for OLD LCD with NEW file. 
                            13072 ; 398  |// NOT optimal for the new lcd but pretty good. So u may use this if u want 1 build for bo
                                  th LCDs.
                            13073 ; 399  |#define LCD_MAX_CONTRAST 250
                            13074 ; 400  |#define LCD_MIN_CONTRAST 0
                            13075 ; 401  |
                            13076 ; 402  |//=====
                            13077 ; 403  |// Optimal for OLD ShingYih LCD with OLD file (as sdk2.521)
                            13078 ; 404  |// Suggest going with default new init file & values above for your LCD instead of this hi
                                  storic ver.
                            13079 ; 405  |//LCD_MAX_CONTRAST equ 42
                            13080 ; 406  |//LCD_MIN_CONTRAST equ 24 
                            13081 ; 407  |
                            13082 ; 408  |#endif
                            13083 ; 409  |#endif
                            13084 ; 410  |
                            13085 ; 411  |#endif
                            13086 ; 412  |
                            13087 ; 413  |//////////////////////////////////////////////////////////////////////////////////
                            13088 ; 414  |// The default value of the lcd contrast in % of range
                            13089 ; 415  |//   the default value is used when no settings.dat is available
                            13090 ; 416  |//////////////////////////////////////////////////////////////////////////////////
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 222

M:ADDR CODE           CYCLES LINE SOURCELINE
                            13091 ; 417  |
                            13092 ; 418  |#if (defined(S6B33B0A_LCD))
                            13093 ; 419  |// 60% of range is default value
                            13094 ; 420  |#define DEFAULT_CONTRAST 50 
                            13095 ; 421  |#endif
                            13096 ; 422  |
                            13097 ; 423  |#if (defined(SED15XX_LCD))
                            13098 ; 424  |// % of range is default value (was 60%)
                            13099 ; 425  |#define DEFAULT_CONTRAST 50 
                            13100 ; 426  |#endif
                            13101 ; 427  |
                            13102 ; 428  |
                            13103 ; 429  |// percentage change per increment/decrement message (LCD_DEC_CONTRAST/LCD_INC_CONTRAST)
                            13104 ; 430  |// make lower when doing calibration
                            13105 ; 431  |#define LCD_STEPSIZE_CONTRAST 10  
                            13106 ; 432  |
                            13107 ; 433  |
                            13108 ; 434  |/////////////////////////////////////////////////////////////////////////////////
                            13109 ; 435  |// For FFWD and RWND
                            13110 ; 436  |/////////////////////////////////////////////////////////////////////////////////
                            13111 ; 437  |#define SECONDS_TO_SKIP 1
                            13112 ; 438  |#define SECONDS_TO_SKIP1 3
                            13113 ; 439  |#define SECONDS_TO_SKIP2 6
                            13114 ; 440  |// number of seconds to cause reset to begin of song for PREV push
                            13115 ; 441  |#define PREV_SONG_THRESHOLD 5  
                            13116 ; 442  |// number of 300 mSec periods before the numbers of seconds to skip increases
                            13117 ; 443  |#define FIRST_TIME_BOUNDARY 15 
                            13118 ; 444  |// number of 300 mSec periods before the numbers of seconds to skip increases
                            13119 ; 445  |#define SECOND_TIME_BOUNDARY 30 
                            13120 ; 446  |
                            13121 ; 447  |// For audible FFW/RWD
                            13122 ; 448  |#define SECONDS_TO_SKIP_FOR_3X_RATE 1
                            13123 ; 449  |#define SECONDS_TO_SKIP_FOR_60X_RATE 18
                            13124 ; 450  |#define SECONDS_TO_SKIP_FOR_600X_RATE 180
                            13125 ; 451  |#define SECONDS_TO_SKIP_FOR_1800X_RATE 540
                            13126 ; 452  |// number of 300 mSec periods before the numbers of seconds to skip increases
                            13127 ; 453  |#define LEVEL1_BOUNDARY 17 
                            13128 ; 454  |// number of 300 mSec periods before the numbers of seconds to skip increases
                            13129 ; 455  |#define LEVEL2_BOUNDARY 33 
                            13130 ; 456  |// number of 300 mSec periods before the numbers of seconds to skip increases
                            13131 ; 457  |#define LEVEL3_BOUNDARY 50 
                            13132 ; 458  |// Stmp00010296 Ticket #71685:  for song shorter than the min. skip size
                            13133 ; 459  |// if song_time < skip_size, bCurrentSongShort=>TRUE (ignore FWD/RWD commands)
                            13134 ; 460  |// Short Song Time, songs too short to play.
                            13135 ; 461  |#define SHORT_SONG_TIME SECONDS_TO_SKIP         
                            13136 ; 462  |
                            13137 ; 463  |/////////////////////////////////////////////////////////////////////////////////
                            13138 ; 464  |// MP3 Sync Values
                            13139 ; 465  |/////////////////////////////////////////////////////////////////////////////////
                            13140 ; 466  |// # bytes to look for sync before marking it bad
                            13141 ; 467  |#define MP3_SYNC_THRESHOLD 70000 
                            13142 ; 468  |// # bytes to look for sync before slowing decoder isr frequency (to let menus run)
                            13143 ; 469  |#define MP3_SYNC_THRESHOLD1 10000 
                            13144 ; 470  |// once we have sync'd, the isr should be called this frequently
                            13145 ; 471  |#define MP3_DECODERISR_FAST 7500  
                            13146 ; 472  |// if decoder is having difficulty syncing, switch isr to be called less frequently
                            13147 ; 473  |#define MP3_DECODERISR_SLOW 50000 
                            13148 ; 474  |
                            13149 ; 475  |
                            13150 ; 476  |/////////////////////////////////////////////////////////////////////////////////
                            13151 ; 477  |//// Multi-Stage Volume Control Definitions
                            13152 ; 478  |/////////////////////////////////////////////////////////////////////////////////
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 223

M:ADDR CODE           CYCLES LINE SOURCELINE
                            13153 ; 479  |//// Use Multi-Stage Volume
                            13154 ; 480  |#define MULTI_STAGE_VOLUME 0x1                  
                            13155 ; 481  |
                            13156 ; 482  |//// Master Volume definitions
                            13157 ; 483  |#define MIX_MSTR_MAX_VOL 0x0
                            13158 ; 484  |#define NUM_MSTR_ATT_STEPS (0x1F-MIX_MSTR_MAX_VOL)
                            13159 ; 485  |
                            13160 ; 486  |//// DAC-Mode definitions
                            13161 ; 487  |//// Adjusts 0dB point
                            13162 ; 488  |#define MIX_DAC_NOM_VOL 0x6                  
                            13163 ; 489  |#define MIX_DAC_MIN_VOL 0x1F
                            13164 ; 490  |// For minimum clipping: Set MIX_DAC_MAX_VOL below to match MIX_DAC_NOM_VOL value 2 lines 
                                  above.
                            13165 ; 491  |// For additional gain (with possible clipping): Set MIX_DAC_MAX_VOL in range below. 
                            13166 ; 492  |//                                               Each integer below MIX_DAC_NOM_VOL provid
                                  es 1.5 dB gain on Stmp34x0; 
                            13167 ; 493  |//                                               Max gain possible: 8 step diff would prov
                                  ide +12dB gain.   
                            13168 ; 494  |// range: [0 to MIX_DAC_NOM_VOL] (0 for loudest volume)
                            13169 ; 495  |#define MIX_DAC_MAX_VOL 0x0  
                            13170 ; 496  |
                            13171 ; 497  |#define NUM_DAC_ATT_STEPS (MIX_DAC_MIN_VOL-MIX_DAC_NOM_VOL+1)
                            13172 ; 498  |#define NUM_DAC_GAIN_STEPS (MIX_DAC_NOM_VOL-MIX_DAC_MAX_VOL)
                            13173 ; 499  |#define NUM_DAC_MODE_VOL_STEPS (NUM_DAC_ATT_STEPS+NUM_MSTR_ATT_STEPS+NUM_DAC_GAIN_STEPS+1)
                                  
                            13174 ; 500  |
                            13175 ; 501  |//// If there is no stored volume, set to 50% of DAC-Mode max; change if DAC Mode is not t
                                  he default
                            13176 ; 502  |//// STMP35xx has 2dB attenuation per step so default needs a few more steps above midpoin
                                  t.
                            13177 ; 503  |#define DEFAULT_VOLUME ((NUM_DAC_MODE_VOL_STEPS/2)+6)         
                            13178 ; 504  |
                            13179 ; 505  |//// Set maximum restored volume to 75% of DAC-Mode max; change if DAC Mode is not the def
                                  ault
                            13180 ; 506  |#define MAX_RESTORED_VOLUME ((3*NUM_DAC_MODE_VOL_STEPS)/4)   
                            13181 ; 507  |
                            13182 ; 508  |
                            13183 ; 509  |//// Line In definitions (used for Line-In 1)
                            13184 ; 510  |//// 0dB point of the Line In
                            13185 ; 511  |#define MIX_LINE_NOM_VOL 0x8                  
                            13186 ; 512  |//// Minimum volume of Line In
                            13187 ; 513  |#define MIX_LINE_MIN_VOL 0x1F                 
                            13188 ; 514  |//// Maximum volume of Line In (can adjust extra gain)
                            13189 ; 515  |#define MIX_LINE_MAX_VOL 0x6                  
                            13190 ; 516  |#define NUM_LINE_ATT_STEPS (MIX_LINE_MIN_VOL-MIX_LINE_NOM_VOL+1)
                            13191 ; 517  |#define NUM_LINE_GAIN_STEPS (MIX_LINE_NOM_VOL-MIX_LINE_MAX_VOL)
                            13192 ; 518  |#define NUM_LINE_MODE_VOL_STEPS (NUM_LINE_ATT_STEPS+NUM_MSTR_ATT_STEPS+NUM_LINE_GAIN_STEPS
                                  +1)
                            13193 ; 519  |
                            13194 ; 520  |//// Line In definitions (used for FM tuner with 144 pin package)
                            13195 ; 521  |//// 0dB point of the Line In
                            13196 ; 522  |#define MIX_FM_NOM_VOL 0x8                  
                            13197 ; 523  |//// Minimum volume of Line In
                            13198 ; 524  |#define MIX_FM_MIN_VOL 0x1F                 
                            13199 ; 525  |//// Maximum volume of Line In (can adjust extra gain)
                            13200 ; 526  |#define MIX_FM_MAX_VOL 0x6                  
                            13201 ; 527  |#define NUM_FM_ATT_STEPS (MIX_FM_MIN_VOL-MIX_FM_NOM_VOL+1)
                            13202 ; 528  |#define NUM_FM_GAIN_STEPS (MIX_FM_NOM_VOL-MIX_FM_MAX_VOL)
                            13203 ; 529  |#define NUM_FM_MODE_VOL_STEPS (NUM_FM_ATT_STEPS+NUM_MSTR_ATT_STEPS+NUM_FM_GAIN_STEPS+1)
                            13204 ; 530  |
                            13205 ; 531  |/////////////////////////////////////////////////////////////////////////////////
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 224

M:ADDR CODE           CYCLES LINE SOURCELINE
                            13206 ; 532  |//// When enabled (1), periodically checks for one of several FM state machine invalid dea
                                  dlock states & recovers. 
                            13207 ; 533  |//// Define as 0 to disable FM-deadlock-state checking and recovery.
                            13208 ; 534  |#define FM_WATCHDOG_ENABLE 1
                            13209 ; 535  |
                            13210 ; 536  |#if !defined(STMP_BUILD_PLAYER)
                            13211 ; 537  |////
                            13212 ; 538  |////! This varible holds the lcd display state for the mtp project.
                            13213 ; 539  |////
                            13214 ; 540  |///
                            13215 ; 541  |#include <types.h>
                            13216 ; 542  |extern volatile WORD g_wActivityState;
                            13217 ; 543  |#endif // if !@def('STMP_BUILD_PLAYER')
                            13218 ; 544  |
                            13219 ; 545  |void _reentrant Init5VSense(void);
                            13220 ; 546  |void _reentrant ServiceDCDC(void);
                            13221 ; 547  |
                            13222 ; 548  |////////////////////////////////////////////////////////////////////////////
                            13223 ; 549  |//// JPEG Thumbnail Mode Setting
                            13224 ; 550  |//// number of column in thumbnail mode
                            13225 ; 551  |#define THUMBNAIL_X 2           
                            13226 ; 552  |//// number of row in  thumbnail mode
                            13227 ; 553  |#define THUMBNAIL_Y 2           
                            13228 ; 554  |//// thumbnail boundary offset x
                            13229 ; 555  |#define THUMBNAIL_X_OFFSET 4            
                            13230 ; 556  |//// thumbnail boundary offset y
                            13231 ; 557  |#define THUMBNAIL_Y_OFFSET 4            
                            13232 ; 558  |
                            13233 ; 559  |#endif // if (!@def(_PROJECT_INC))
                            13234 ; 560  |
                            13235 
                            13237 
                            13238 ; 12   |#include "FileSystem.h"
                            13239 
                            13241 
                            13242 ; 1    |////////////////////////////////////////////////////////////////////////////////
                            13243 ; 2    |//  Copyright(C) SigmaTel, Inc. 2001
                            13244 ; 3    |//
                            13245 ; 4    |//  File        : FileSystem.h
                            13246 ; 5    |//  Description : Header File for File System
                            13247 ; 6    |////////////////////////////////////////////////////////////////////////////////
                            13248 ; 7    |
                            13249 ; 8    |#ifndef _FILESYSTEM_H
                            13250 ; 9    |#define _FILESYSTEM_H
                            13251 ; 10   |
                            13252 ; 11   |#include "types.h"
                            13253 
                            13255 
                            13256 ; 1    |////////////////////////////////////////////////////////////////////////////////
                            13257 ; 2    |// Copyright(C) SigmaTel, Inc. 2000-2004
                            13258 ; 3    |//
                            13259 ; 4    |// Filename: types.h
                            13260 ; 5    |// Description: Standard data types
                            13261 ; 6    |////////////////////////////////////////////////////////////////////////////////
                            13262 ; 7    |
                            13263 ; 8    |#ifndef _TYPES_H
                            13264 ; 9    |#define _TYPES_H
                            13265 ; 10   |
                            13266 ; 11   |// TODO:  move this outta here!
                            13267 ; 12   |#if !defined(NOERROR)
                            13268 ; 13   |#define NOERROR 0
                            13269 ; 14   |#define SUCCESS 0
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 225

M:ADDR CODE           CYCLES LINE SOURCELINE
                            13270 ; 15   |#endif 
                            13271 ; 16   |#if !defined(SUCCESS)
                            13272 ; 17   |#define SUCCESS  0
                            13273 ; 18   |#endif
                            13274 ; 19   |#if !defined(ERROR)
                            13275 ; 20   |#define ERROR   -1
                            13276 ; 21   |#endif
                            13277 ; 22   |#if !defined(FALSE)
                            13278 ; 23   |#define FALSE 0
                            13279 ; 24   |#endif
                            13280 ; 25   |#if !defined(TRUE)
                            13281 ; 26   |#define TRUE  1
                            13282 ; 27   |#endif
                            13283 ; 28   |
                            13284 ; 29   |#if !defined(NULL)
                            13285 ; 30   |#define NULL 0
                            13286 ; 31   |#endif
                            13287 ; 32   |
                            13288 ; 33   |#define MAX_INT     0x7FFFFF
                            13289 ; 34   |#define MAX_LONG    0x7FFFFFffffff
                            13290 ; 35   |        // max positive unsigned long value: -1 == 0xFFFFFFffffff
                            13291 ; 36   |#define MAX_ULONG   (-1) 
                            13292 ; 37   |
                            13293 ; 38   |#define WORD_SIZE   24              // word size in bits
                            13294 ; 39   |#define BYTES_PER_WORD 3            // 8 bit bytes
                            13295 ; 40   |
                            13296 ; 41   |
                            13297 ; 42   |#define BYTE    unsigned char       // btVarName
                            13298 ; 43   |#define CHAR    signed char         // cVarName
                            13299 ; 44   |#define USHORT  unsigned short      // usVarName
                            13300 ; 45   |#define SHORT   unsigned short      // sVarName
                            13301 ; 46   |#define WORD    unsigned int        // wVarName
                            13302 ; 47   |#define INT     signed int          // iVarName
                            13303 ; 48   |#define DWORD   unsigned long       // dwVarName
                            13304 ; 49   |#define LONG    signed long         // lVarName
                            13305 ; 50   |#define BOOL    unsigned int        // bVarName
                            13306 ; 51   |#define FRACT   _fract              // frVarName
                            13307 ; 52   |#define LFRACT  long _fract         // lfrVarName
                            13308 ; 53   |#define CIRC    _circ               // cp<type prefix>VarName (see below)
                            13309 ; 54   |#define FLOAT   float               // fVarName
                            13310 ; 55   |#define DBL     double              // dVarName
                            13311 ; 56   |#define ENUM    enum                // eVarName
                            13312 ; 57   |#define CMX     _complex            // cmxVarName
                            13313 ; 58   |typedef WORD UCS3;                   // 
                            13314 ; 59   |
                            13315 ; 60   |#define UINT16  unsigned short
                            13316 ; 61   |#define UINT8   unsigned char   
                            13317 ; 62   |#define UINT32  unsigned long
                            13318 ; 63   |#define UINT64  unsigned long   // need to figure out how to do 64 bit values.  Or port ex
                                  isiting code to only use 48 bit
                            13319 ; 64   |#define INT64   unsigned long   // need to figure out how to do 64 bit values.  Or port ex
                                  isiting code to only use 48 bit
                            13320 ; 65   |#define WCHAR   UINT16
                            13321 ; 66   |
                            13322 ; 67   |//UINT128 is 16 bytes or 6 words
                            13323 ; 68   |typedef struct UINT128_3500 {   
                            13324 ; 69   |    int val[6];     
                            13325 ; 70   |} UINT128_3500;
                            13326 ; 71   |
                            13327 ; 72   |#define UINT128   UINT128_3500
                            13328 ; 73   |
                            13329 ; 74   |// Little endian word packed byte strings:   
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 226

M:ADDR CODE           CYCLES LINE SOURCELINE
                            13330 ; 75   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                            13331 ; 76   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                            13332 ; 77   |// Little endian word packed byte strings:   
                            13333 ; 78   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                            13334 ; 79   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                            13335 ; 80   |
                            13336 ; 81   |// Declare Memory Spaces To Use When Coding
                            13337 ; 82   |// A. Sector Buffers
                            13338 ; 83   |#define SECTOR_BUFFER_MEM_X _X
                            13339 ; 84   |#define SECTOR_BUFFER_MEM_Y _Y
                            13340 ; 85   |#define SECTOR_BUFFER_MEM SECTOR_BUFFER_MEM_X
                            13341 ; 86   |typedef WORD SECTOR_BUFFER_MEM SECTOR_BUFFER;
                            13342 ; 87   |typedef SECTOR_BUFFER * P_SECTOR_BUFFER;
                            13343 ; 88   |// B. Media DDI Memory
                            13344 ; 89   |#define MEDIA_DDI_MEM _Y
                            13345 ; 90   |
                            13346 ; 91   |
                            13347 ; 92   |
                            13348 ; 93   |// Pointers to linear structures are labeled as: p<type prefix>VarName
                            13349 ; 94   |// Examples of circular pointers:
                            13350 ; 95   |//    INT CIRC cpiVarName
                            13351 ; 96   |//    DWORD CIRC cpdwVarName
                            13352 ; 97   |
                            13353 ; 98   |#define RETCODE INT                 // rcVarName
                            13354 ; 99   |
                            13355 ; 100  |// generic bitfield structure
                            13356 ; 101  |struct Bitfield {
                            13357 ; 102  |    unsigned int B0  :1;
                            13358 ; 103  |    unsigned int B1  :1;
                            13359 ; 104  |    unsigned int B2  :1;
                            13360 ; 105  |    unsigned int B3  :1;
                            13361 ; 106  |    unsigned int B4  :1;
                            13362 ; 107  |    unsigned int B5  :1;
                            13363 ; 108  |    unsigned int B6  :1;
                            13364 ; 109  |    unsigned int B7  :1;
                            13365 ; 110  |    unsigned int B8  :1;
                            13366 ; 111  |    unsigned int B9  :1;
                            13367 ; 112  |    unsigned int B10 :1;
                            13368 ; 113  |    unsigned int B11 :1;
                            13369 ; 114  |    unsigned int B12 :1;
                            13370 ; 115  |    unsigned int B13 :1;
                            13371 ; 116  |    unsigned int B14 :1;
                            13372 ; 117  |    unsigned int B15 :1;
                            13373 ; 118  |    unsigned int B16 :1;
                            13374 ; 119  |    unsigned int B17 :1;
                            13375 ; 120  |    unsigned int B18 :1;
                            13376 ; 121  |    unsigned int B19 :1;
                            13377 ; 122  |    unsigned int B20 :1;
                            13378 ; 123  |    unsigned int B21 :1;
                            13379 ; 124  |    unsigned int B22 :1;
                            13380 ; 125  |    unsigned int B23 :1;
                            13381 ; 126  |};
                            13382 ; 127  |
                            13383 ; 128  |union BitInt {
                            13384 ; 129  |        struct Bitfield B;
                            13385 ; 130  |        int        I;
                            13386 ; 131  |};
                            13387 ; 132  |
                            13388 ; 133  |#define MAX_MSG_LENGTH 10
                            13389 ; 134  |struct CMessage
                            13390 ; 135  |{
                            13391 ; 136  |        unsigned int m_uLength;
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 227

M:ADDR CODE           CYCLES LINE SOURCELINE
                            13392 ; 137  |        unsigned int m_uMsg[MAX_MSG_LENGTH];
                            13393 ; 138  |};
                            13394 ; 139  |
                            13395 ; 140  |typedef struct {
                            13396 ; 141  |    WORD m_wLength;
                            13397 ; 142  |    WORD m_wMessage;
                            13398 ; 143  |    WORD m_wParams[MAX_MSG_LENGTH];
                            13399 ; 144  |} Message;
                            13400 ; 145  |
                            13401 ; 146  |struct MessageQueueDescriptor
                            13402 ; 147  |{
                            13403 ; 148  |        int *m_pBase;
                            13404 ; 149  |        int m_iModulo;
                            13405 ; 150  |        int m_iSize;
                            13406 ; 151  |        int *m_pHead;
                            13407 ; 152  |        int *m_pTail;
                            13408 ; 153  |};
                            13409 ; 154  |
                            13410 ; 155  |struct ModuleEntry
                            13411 ; 156  |{
                            13412 ; 157  |    int m_iSignaledEventMask;
                            13413 ; 158  |    int m_iWaitEventMask;
                            13414 ; 159  |    int m_iResourceOfCode;
                            13415 ; 160  |    struct MessageQueueDescriptor *m_pMessageQueue;
                            13416 ; 161  |    int _asmfunc (*m_pProcessEntryPoint)(union WaitMask Signals,struct MessageQueueDescrip
                                  tor *);
                            13417 ; 162  |    int _asmfunc (*m_pInitFunction)(struct MessageQueueDescriptor *);
                            13418 ; 163  |    int m_uTimeOutHigh;
                            13419 ; 164  |    int m_uTimeOutLow;
                            13420 ; 165  |    int _asmfunc (*m_pBackgroundFunction)(struct MessageQueueDescriptor *);
                            13421 ; 166  |};
                            13422 ; 167  |
                            13423 ; 168  |union WaitMask{
                            13424 ; 169  |    struct B{
                            13425 ; 170  |        unsigned int m_bNone     :1;
                            13426 ; 171  |        unsigned int m_bMessage  :1;
                            13427 ; 172  |        unsigned int m_bTimer    :1;
                            13428 ; 173  |        unsigned int m_bButton   :1;
                            13429 ; 174  |    } B;
                            13430 ; 175  |    int I;
                            13431 ; 176  |} ;
                            13432 ; 177  |
                            13433 ; 178  |
                            13434 ; 179  |struct Button {
                            13435 ; 180  |        WORD wButtonEvent;
                            13436 ; 181  |        WORD wUnused[MAX_MSG_LENGTH];   
                            13437 ; 182  |};
                            13438 ; 183  |
                            13439 ; 184  |struct Message {
                            13440 ; 185  |        WORD wMsgLength;
                            13441 ; 186  |        WORD wMsgCommand;
                            13442 ; 187  |        WORD wMsgParms[MAX_MSG_LENGTH-1];
                            13443 ; 188  |};
                            13444 ; 189  |
                            13445 ; 190  |union EventTypes {
                            13446 ; 191  |        struct CMessage msg;
                            13447 ; 192  |        struct Button Button ;
                            13448 ; 193  |        struct Message Message;
                            13449 ; 194  |};
                            13450 ; 195  |
                            13451 ; 196  |// next 2 used to get updater build to return correct protocol ver in scsi response.
                            13452 ; 197  |#define BUILD_TYPE_UPDATER  0x100
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 228

M:ADDR CODE           CYCLES LINE SOURCELINE
                            13453 ; 198  |#define BUILD_TYPE_HOSTLINK 0x101
                            13454 ; 199  |#define BUILD_TYPE_PLAYER   0x102
                            13455 ; 200  |
                            13456 ; 201  |// Resets part if RETAIL build. DEBUG build executes debug instruction to halt.
                            13457 ; 202  |#define SystemHalt() __asm(" include 'sysmacro.asm' \n error") 
                            13458 ; 203  |#define assert(x)    if(!(x)) __asm(" include 'sysmacro.asm' \n error")
                            13459 ; 204  |
                            13460 ; 205  |#if DEBUG
                            13461 ; 206  |// For DEBUG builds, DebugBuildAssert(condition) halts if condition evaluates to FALSE. 
                            13462 ; 207  |#define DebugBuildAssert(x)    if(!(x)) __asm(" debug ")
                            13463 ; 208  |#else 
                            13464 ; 209  |// For RETAIL builds, DebugBuildAssert(condition) does nothing & execution continues rathe
                                  r than halt or reset. 
                            13465 ; 210  |#define DebugBuildAssert(x)    
                            13466 ; 211  |#endif
                            13467 ; 212  |
                            13468 ; 213  |// Do this in your C files to make a reminder that's displayed during the build.
                            13469 ; 214  |//  #pragma asm
                            13470 ; 215  |//  WARN 'Note to builder: reminder to do this after verifying that'
                            13471 ; 216  |//  #pragma endasm
                            13472 ; 217  |
                            13473 ; 218  |
                            13474 ; 219  |#ifdef COLOR_262K
                            13475 ; 220  |#define RGB(r,g,b)    ((0x0000FC & (r)) << 10) | ((0x0000FC & (g)) << 4) | ((0x0000FC & (b
                                  )) >> 2)    //262k
                            13476 ; 221  |#elif defined(COLOR_65K)
                            13477 ; 222  |#define RGB(r,g,b)    ((0x0000F8 & (r)) << 8) | ((0x0000FC & (g)) << 3) | ((0x0000F8 & (b)
                                  ) >> 3)  //65k
                            13478 ; 223  |#else
                            13479 ; 224  |#define RGB(r,g,b)       ((0x0000F0 & (r)) << 4) | (0x0000F0 & (g)) | ((0x0000F0 & (b)) >>
                                   4)
                            13480 ; 225  |#endif
                            13481 ; 226  |    
                            13482 ; 227  |#endif // #ifndef _TYPES_H
                            13483 
                            13485 
                            13486 ; 12   |
                            13487 ; 13   |
                            13488 ; 14   |// File attributes
                            13489 ; 15   |#ifndef _FS_ATTRIBUTES
                            13490 ; 16   |#define _FS_ATTRIBUTES
                            13491 ; 17   |#define READ        1
                            13492 ; 18   |#define WRITE       2
                            13493 ; 19   |#define WRITE_PLUS  3
                            13494 ; 20   |#define APPEND      4
                            13495 ; 21   |#define TRUNCATE    8
                            13496 ; 22   |#define CREATE      16
                            13497 ; 23   |#endif
                            13498 ; 24   |
                            13499 ; 25   |//#ifndef FAT12
                            13500 ; 26   |//#define FAT12   1
                            13501 ; 27   |//#endif
                            13502 ; 28   |//
                            13503 ; 29   |#ifndef FAT16
                            13504 ; 30   |#define FAT16   2
                            13505 ; 31   |#endif
                            13506 ; 32   |
                            13507 ; 33   |#define MEM_SPACE_P 0x100000
                            13508 ; 34   |#define MEM_SPACE_Y 0x400000
                            13509 ; 35   |#define MEM_SPACE_X 0x800000
                            13510 ; 36   |
                            13511 ; 37   |#define FILE_SYS_MODE_READ  0
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 229

M:ADDR CODE           CYCLES LINE SOURCELINE
                            13512 ; 38   |#define FILE_SYS_MODE_WRITE 1
                            13513 ; 39   | 
                            13514 ; 40   |#define ATTR_READ_ONLY      0x01
                            13515 ; 41   |#define ATTR_HIDDEN         0x02
                            13516 ; 42   |#define ATTR_SYSTEM         0x04
                            13517 ; 43   |#define ATTR_VOLUME_ID      0x08
                            13518 ; 44   |#define ATTR_DIRECTORY      0x10
                            13519 ; 45   |#define ATTR_ARCHIVE        0x20
                            13520 ; 46   |#define ATTR_LONG_NAME      ATTR_READ_ONLY|ATTR_HIDDEN|ATTR_SYSTEM|ATTR_VOLUME_ID
                            13521 ; 47   |
                            13522 ; 48   |#define SEEK_SET           -1
                            13523 ; 49   |#define SEEK_CUR            0
                            13524 ; 50   |#define SEEK_END            1
                            13525 ; 51   |
                            13526 ; 52   |#define DEVICE_INSTALLED              (WORD)(0)
                            13527 ; 53   |#define DEVICE_NOT_FOUND              (WORD)(2)
                            13528 ; 54   |#define INVALID_FILESYSTEM                        (WORD)(3)
                            13529 ; 55   |#define DEVICE_INVALID                (WORD)(-1)
                            13530 ; 56   |#define DEVICE_ERROR_WRITE_PROTECTED  (WORD)(-2)
                            13531 ; 57   |
                            13532 ; 58   |#define MEDIA_SIZE_TOTAL_SECTORS    0
                            13533 ; 59   |#define MEDIA_SIZE_TOTAL_BYTES      1
                            13534 ; 60   |#define MEDIA_SIZE_BYTES_PER_SECTOR 2
                            13535 ; 61   |#define MEDIA_SIZE_IN_MEGABYTES     3     
                            13536 ; 62   |
                            13537 ; 63   |#define READ_TYPE_NORMAL            0
                            13538 ; 64   |#define READ_TYPE_FAT               1
                            13539 ; 65   |#define READ_TYPE_RAW               2
                            13540 ; 66   |
                            13541 ; 67   |
                            13542 ; 68   |#ifdef MEDIA_DDI_PARTIAL_SEQ_ENABLE
                            13543 ; 69   |    #define WRITE_TYPE_RANDOM                   0
                            13544 ; 70   |    #define WRITE_TYPE_SEQ_FIRST                1
                            13545 ; 71   |    #define WRITE_TYPE_SEQ_NEXT                 2
                            13546 ; 72   |    #define WRITE_TYPE_RESET_CLEAN_UP           3
                            13547 ; 73   |    #define WRITE_TYPE_PARTIAL_SEQ_FIRST        4
                            13548 ; 74   |    #define WRITE_TYPE_PARTIAL_SEQ_NEXT         5
                            13549 ; 75   |    #define WRITE_TYPE_PARTIAL_SEQ_LAST         6
                            13550 ; 76   |    #ifdef MEDIA_DDI_RAW_SECTOR_SERVER_ENABLE
                            13551 ; 77   |        #define WRITE_TYPE_RANDOM_RAW               7
                            13552 ; 78   |        #define WRITE_TYPE_SEQ_FIRST_RAW            8
                            13553 ; 79   |        #define WRITE_TYPE_SEQ_NEXT_RAW             9
                            13554 ; 80   |        #define WRITE_TYPE_PARTIAL_SEQ_FIRST_RAW    10
                            13555 ; 81   |        #define WRITE_TYPE_PARTIAL_SEQ_NEXT_RAW     11
                            13556 ; 82   |        #define WRITE_TYPE_PARTIAL_SEQ_LAST_RAW     12
                            13557 ; 83   |    #endif
                            13558 ; 84   |#else
                            13559 ; 85   |    #define WRITE_TYPE_RANDOM                   0
                            13560 ; 86   |    #define WRITE_TYPE_SEQ_FIRST                1
                            13561 ; 87   |    #define WRITE_TYPE_SEQ_NEXT                 2
                            13562 ; 88   |    #ifdef MEDIA_DDI_RAW_SECTOR_SERVER_ENABLE
                            13563 ; 89   |        #define WRITE_TYPE_RANDOM_RAW               3
                            13564 ; 90   |        #define WRITE_TYPE_SEQ_FIRST_RAW            4
                            13565 ; 91   |        #define WRITE_TYPE_SEQ_NEXT_RAW             5
                            13566 ; 92   |    #endif
                            13567 ; 93   |#endif
                            13568 ; 94   |    #define WRITE_TYPE_UNDEFINED 0xFFFFFF
                            13569 ; 95   |
                            13570 ; 96   |
                            13571 ; 97   |#ifndef MAX_FILENAME_LENGTH
                            13572 ; 98   |#define MAX_FILENAME_LENGTH 256
                            13573 ; 99   |#endif
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 230

M:ADDR CODE           CYCLES LINE SOURCELINE
                            13574 ; 100  |
                            13575 ; 101  |typedef struct {
                            13576 ; 102  |    WORD wNumberOfZones;
                            13577 ; 103  |    WORD wSizeInMegaBytes;
                            13578 ; 104  |} SMARTMEDIA_CHIP_INFO;
                            13579 ; 105  |
                            13580 ; 106  |typedef struct {
                            13581 ; 107  |    WORD wBootIdentification;
                            13582 ; 108  |    WORD wStartHeadNumber;
                            13583 ; 109  |    WORD wStartSectorNumber;
                            13584 ; 110  |    WORD wStartCylinderNumber;
                            13585 ; 111  |    WORD wSystemIdentification;
                            13586 ; 112  |    WORD wEndHeadNumber;
                            13587 ; 113  |    WORD wEndSectorNumber;
                            13588 ; 114  |    WORD wEndCylinderNumber;
                            13589 ; 115  |    WORD wStartLogicalSectorNumberHigh;
                            13590 ; 116  |    WORD wStartLogicalSectorNumberLow;
                            13591 ; 117  |    WORD wPartitionSizeHigh;
                            13592 ; 118  |    WORD wPartitionSizeLow;
                            13593 ; 119  |} SMARTMEDIA_PARTITION_TABLE;
                            13594 ; 120  |
                            13595 ; 121  |typedef struct {
                            13596 ; 122  |    WORD wWord0;
                            13597 ; 123  |    WORD wWord1;
                            13598 ; 124  |    WORD wWord2;
                            13599 ; 125  |} SMARTMEDIA_CIS_IDI_MANUFACTURER_NAME;
                            13600 ; 126  |
                            13601 ; 127  |typedef struct {
                            13602 ; 128  |    WORD wWord0;
                            13603 ; 129  |    WORD wWord1;
                            13604 ; 130  |} SMARTMEDIA_CIS_IDI_PRODUCT_NAME;
                            13605 ; 131  |
                            13606 ; 132  |typedef struct {
                            13607 ; 133  |    WORD wWord0;
                            13608 ; 134  |    WORD wWord1;
                            13609 ; 135  |} SMARTMEDIA_CIS_IDI_PRODUCT_VERSION;
                            13610 ; 136  |
                            13611 ; 137  |typedef struct {
                            13612 ; 138  |    WORD wWord0;
                            13613 ; 139  |    WORD wWord1;
                            13614 ; 140  |    WORD wWord2;
                            13615 ; 141  |    WORD wWord3;
                            13616 ; 142  |} SMARTMEDIA_CIS_IDI_SERIAL_NUMBER;
                            13617 ; 143  |
                            13618 ; 144  |typedef struct {
                            13619 ; 145  |    WORD wWord0;
                            13620 ; 146  |} SMARTMEDIA_CIS_IDI_MODEL_NUMBER;
                            13621 
                            13644 
                            13645 ; 147  |
                            13646 ; 148  |typedef struct {
                            13647 ; 149  |    SMARTMEDIA_CIS_IDI_MANUFACTURER_NAME ManufacturerName;
                            13648 ; 150  |    SMARTMEDIA_CIS_IDI_PRODUCT_NAME ProductName;
                            13649 ; 151  |    SMARTMEDIA_CIS_IDI_PRODUCT_VERSION ProductVersion;
                            13650 ; 152  |    SMARTMEDIA_CIS_IDI_SERIAL_NUMBER SerialNumber;
                            13651 ; 153  |    SMARTMEDIA_CIS_IDI_MODEL_NUMBER ModelNumber;
                            13652 ; 154  |} SMARTMEDIA_CIS_IDI_TABLE;
                            13653 
                            13675 
                            13676 ; 155  |   
                            13677 ; 156  |typedef struct {
                            13678 ; 157  |    WORD wPageSizeInBytes;
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 231

M:ADDR CODE           CYCLES LINE SOURCELINE
                            13679 ; 158  |    WORD wRedundantAreaSizeInBytes;
                            13680 ; 159  |    WORD wNumberOfPagesPerBlock;
                            13681 ; 160  |    WORD wNumberOfBlocksPerZone;
                            13682 ; 161  |    WORD wNumberOfZonesInMedia;
                            13683 ; 162  |    WORD wMediaSizeInMBytes;
                            13684 ; 163  |    SMARTMEDIA_PARTITION_TABLE * pPartitionTable;
                            13685 ; 164  |    SMARTMEDIA_CIS_IDI_TABLE * pCisIdiTable;
                            13686 ; 165  |    WORD wMediaFlagStatus;
                            13687 ; 166  |    WORD wNumberOfBlocksToTheCisIdiBlock;
                            13688 ; 167  |    WORD wTotalNumberOfPhysicalBlocks;
                            13689 ; 168  |    WORD wNumberOfSystemBlocks;
                            13690 ; 169  |} SMARTMEDIA_ENTRY_TABLE;
                            13691 ; 170  |
                            13692 ; 171  |typedef struct {
                            13693 ; 172  |    WORD wDevice;        
                            13694 ; 173  |    WORD wDirtyBlockFlag;
                            13695 ; 174  |    WORD wCleanTailFlag; 
                            13696 ; 175  |    WORD wLogDOSPage;    
                            13697 ; 176  |    WORD wSrcLogBlock;   
                            13698 ; 177  |    WORD wSrcPhyBlock;   
                            13699 ; 178  |    WORD wDestPhyBlock;  
                            13700 ; 179  |    WORD wStartSrcPage;  
                            13701 ; 180  |    WORD wStartDestPage; 
                            13702 ; 181  |    WORD wPagesToCopy;   
                            13703 ; 182  |    WORD wReplaceBuff;   
                            13704 ; 183  |    WORD wReplaceRdnt;
                            13705 ; 184  |    #ifdef MEDIA_DDI_PARTIAL_SEQ_ENABLE
                            13706 ; 185  |        WORD wFirstCount;
                            13707 ; 186  |        WORD wNextCount;
                            13708 ; 187  |        WORD wLastCount;
                            13709 ; 188  |    #endif
                            13710 ; 189  |} SMARTMEDIA_FWPPS_TABLE;
                            13711 ; 190  |
                            13712 ; 191  |typedef struct {
                            13713 ; 192  |    WORD wWord0;
                            13714 ; 193  |    WORD wWord1;
                            13715 ; 194  |    WORD wWord2;
                            13716 ; 195  |    WORD wWord3;
                            13717 ; 196  |} DIRECTORY_NAME;
                            13718 ; 197  |
                            13719 ; 198  |typedef struct {
                            13720 ; 199  |    WORD wWord0;
                            13721 ; 200  |    WORD wWord1;
                            13722 ; 201  |} DIRECTORY_EXTENSION;
                            13723 ; 202  |
                            13724 ; 203  |typedef struct {
                            13725 ; 204  |    WORD wWord0;
                            13726 ; 205  |    WORD wWord1;
                            13727 ; 206  |} DIRECTORY_SIZE;
                            13728 
                            13743 
                            13744 ; 207  |
                            13745 ; 208  |typedef struct {
                            13746 ; 209  |    DIRECTORY_NAME Name;
                            13747 ; 210  |    DIRECTORY_EXTENSION Extension;
                            13748 ; 211  |    WORD wAttribute;
                            13749 ; 212  |    WORD wReserved[4];
                            13750 ; 213  |    WORD wCreationTime;
                            13751 ; 214  |    WORD wCreationData;
                            13752 ; 215  |    WORD wFirstCluster;
                            13753 ; 216  |    DIRECTORY_SIZE Size;
                            13754 ; 217  |    WORD wCurrentCluster;
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 232

M:ADDR CODE           CYCLES LINE SOURCELINE
                            13755 ; 218  |    WORD wPointer;
                            13756 ; 219  |    WORD wRecord;
                            13757 ; 220  |    WORD wRd;
                            13758 ; 221  |} DIRECTORY_FILE_CONTROL_BLOCK;
                            13759 ; 222  |
                            13760 ; 223  |// TODO:  clean this up.  There are two versions.
                            13761 ; 224  |struct FCB
                            13762 ; 225  |{
                            13763 ; 226  |    _packed BYTE m_szFileName[9];       //0-2
                            13764 ; 227  |    int     m_wReserved;                //3
                            13765 ; 228  |    _packed BYTE m_szExt[4];            //4-5
                            13766 ; 229  |    int     m_wAttributes;              //6
                            13767 ; 230  |    int     m_wReserved2[4];            //7,8,9,a
                            13768 ; 231  |    int     m_wTimeofCreation;          //b
                            13769 ; 232  |    int     m_wDateofCreation;          //c
                            13770 ; 233  |    int     m_wFirstCluster;            //d
                            13771 ; 234  |    int     m_wFileSizeHigh;            //e
                            13772 ; 235  |    int     m_wFileSizeLow;             //f
                            13773 ; 236  |};
                            13774 
                            13790 
                            13791 ; 237  |
                            13792 ; 238  |
                            13793 ; 239  |typedef struct {
                            13794 ; 240  |    WORD wFirstClusterCurrentDirectory;
                            13795 ; 241  |    WORD wFirstClusterParentDirectory;
                            13796 ; 242  |    WORD wAbsSectorCurrentlyCached;
                            13797 ; 243  |    WORD wCurrentRelativeSector;
                            13798 ; 244  |    WORD wNumberOfSectors;
                            13799 ; 245  |    WORD wCurrentRecordLoadedInDcb;
                            13800 ; 246  |    WORD wBufferedRecord;
                            13801 ; 247  |    WORD wMaxNumberRecordsCurrentDirectory;
                            13802 ; 248  |    WORD * pwPointerToBuffer;
                            13803 ; 249  |    WORD * pwPointerToPath;
                            13804 ; 250  |    DIRECTORY_FILE_CONTROL_BLOCK * pDirFcb;
                            13805 ; 251  |} DIRECTORY_CONTROL_BLOCK;
                            13806 ; 252  |
                            13807 ; 253  |typedef struct {
                            13808 ; 254  |    WORD wWord0;
                            13809 ; 255  |    WORD wWord1;
                            13810 ; 256  |    WORD wWord2;
                            13811 ; 257  |    WORD wWord3;
                            13812 ; 258  |} FILE_NAME;
                            13813 ; 259  |
                            13814 ; 260  |typedef struct {
                            13815 ; 261  |    WORD wWord0;
                            13816 ; 262  |    WORD wWord1;
                            13817 ; 263  |} FILE_EXTENSION;
                            13818 ; 264  |
                            13819 ; 265  |typedef struct {
                            13820 ; 266  |    WORD wWord0;
                            13821 ; 267  |    WORD wWord1;
                            13822 ; 268  |} FILE_SIZE;
                            13823 ; 269  |
                            13824 ; 270  |typedef union {
                            13825 ; 271  |    struct {
                            13826 ; 272  |        int Read        :1;
                            13827 ; 273  |        int Write       :1;
                            13828 ; 274  |        int Append      :1;
                            13829 ; 275  |        int Truncate    :1;
                            13830 ; 276  |        int Create      :1;
                            13831 ; 277  |        int Rsrv        :3;
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 233

M:ADDR CODE           CYCLES LINE SOURCELINE
                            13832 ; 278  |        int Mode        :8;
                            13833 ; 279  |        int Device      :8;
                            13834 ; 280  |    } B;
                            13835 ; 281  |    int I;
                            13836 ; 282  |} FILE_FLAGS;
                            13837 ; 283  |
                            13838 ; 284  |typedef struct {
                            13839 ; 285  |    WORD wWord0;
                            13840 ; 286  |    WORD wWord1;
                            13841 ; 287  |} FILE_BYTE_CURRENT;
                            13842 
                            13882 
                            13883 ; 288  |
                            13884 ; 289  |typedef struct {
                            13885 ; 290  |    FILE_NAME Name;
                            13886 ; 291  |    FILE_EXTENSION Extension;
                            13887 ; 292  |    WORD wAttributes;
                            13888 ; 293  |    WORD wReserved[4];
                            13889 ; 294  |    WORD wCreationTime;
                            13890 ; 295  |    WORD wCreationData;
                            13891 ; 296  |    WORD wFirstCluster;
                            13892 ; 297  |    FILE_SIZE Size;
                            13893 ; 298  |    WORD wCurrentCluster;
                            13894 ; 299  |    WORD wPointer;
                            13895 ; 300  |    WORD wRecord;
                            13896 ; 301  |    WORD wRd;
                            13897 ; 302  |    FILE_FLAGS Flags;
                            13898 ; 303  |    FILE_BYTE_CURRENT FcbByteCurrent;
                            13899 ; 304  |    WORD wFcbFlagEndOfCx;
                            13900 ; 305  |} FILE_CONTROL_BLOCK;    
                            13901 ; 306  |
                            13902 ; 307  |typedef struct {
                            13903 ; 308  |    WORD wWord0;
                            13904 ; 309  |    WORD wWord1;
                            13905 ; 310  |    WORD wWord2;
                            13906 ; 311  |    WORD wWord3;
                            13907 ; 312  |} VOLUME_LABEL;
                            13908 ; 313  |
                            13909 ; 314  |typedef struct {
                            13910 ; 315  |    WORD wFATPhysicalBlock1;
                            13911 ; 316  |    WORD wFATPhysicalBlock2;
                            13912 ; 317  |    WORD wFATPhysicalBlock3;
                            13913 ; 318  |    WORD wFATPhysicalBlock4;
                            13914 ; 319  |} FAT_PHYSICAL_BLOCK_LIST;
                            13915 
                            13922 
                            13923 ; 320  |
                            13924 ; 321  |typedef struct {
                            13925 ; 322  |    WORD wFATSectorInCache;
                            13926 ; 323  |    WORD wLastClusterFree;
                            13927 ; 324  |    WORD wNumberOfUsedClusters;
                            13928 ; 325  |    WORD wNumberOfFreeClusters;
                            13929 ; 326  |    WORD wNumberOfBadClusters;
                            13930 ; 327  |    WORD wNumberOfReservedClusters;
                            13931 ; 328  |    WORD wControl;
                            13932 ; 329  |    WORD * pwSectorCache;
                            13933 ; 330  |    FAT_PHYSICAL_BLOCK_LIST FATPhysicalLocationList;
                            13934 ; 331  |} FAT_TABLE;
                            13935 
                            13942 
                            13943 ; 332  |
                            13944 ; 333  |typedef struct {
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 234

M:ADDR CODE           CYCLES LINE SOURCELINE
                            13945 ; 334  |    WORD wStateMediaTable;
                            13946 ; 335  |    WORD wTypeFs;
                            13947 ; 336  |    WORD wBytesPerSector;
                            13948 ; 337  |    WORD wSectorsPerCluster;
                            13949 ; 338  |    WORD wNumberOfReservedSectors;
                            13950 ; 339  |    WORD wMaximumNumberOfFATs;
                            13951 ; 340  |    WORD wMaxRootDirectoryEntries;
                            13952 ; 341  |    WORD wTotalSectors;
                            13953 ; 342  |    WORD wNumberOfFATSectors;
                            13954 ; 343  |    WORD wNumberOfSectorsPerTrack;
                            13955 ; 344  |    WORD wNumberOfHeads;
                            13956 ; 345  |    WORD wNumberOfHiddenSectorsMSB;
                            13957 ; 346  |    WORD wNumberOfHiddenSectorsLSB;
                            13958 ; 347  |    WORD wTotalSectors32MSB;
                            13959 ; 348  |    WORD wTotalSectors32LSB;
                            13960 ; 349  |    WORD wDriverNumber;
                            13961 ; 350  |    WORD wExtendedBootSignature;
                            13962 ; 351  |    WORD wVolumeIDMSB;
                            13963 ; 352  |    WORD wVolumeIDLSB;
                            13964 ; 353  |    VOLUME_LABEL VolumeLabel;
                            13965 ; 354  |    WORD * pwWriteBuffer;
                            13966 ; 355  |    WORD wPrimaryFATRelativeSector;
                            13967 ; 356  |    WORD wSecondaryFATRelativeSector;
                            13968 ; 357  |    WORD wRootDirectoryRelativeSector;
                            13969 ; 358  |    WORD wFirstSectorNumberDataZone;
                            13970 ; 359  |    WORD wMaxNumberOfFATEntries;
                            13971 ; 360  |    WORD wRootDirectorySizeInSectors;
                            13972 ; 361  |    WORD wDataAreaSizeInSectors;
                            13973 ; 362  |} MEDIA_TABLE;
                            13974 
                            14033 
                            14034 ; 363  |
                            14035 ; 364  |typedef struct {
                            14036 ; 365  |    MEDIA_TABLE * pMediaTable;
                            14037 ; 366  |    DIRECTORY_CONTROL_BLOCK * pDirectoryControlBlock;
                            14038 ; 367  |    FAT_TABLE * pFATTable;
                            14039 ; 368  |} DEVICE_CONTROL_TABLE;
                            14040 ; 369  |    
                            14041 ; 370  |typedef struct {
                            14042 ; 371  |    WORD dwTotalSizeInMegaBytes;        // dwTotalSizeInMegaBytes is limited
                            14043 ; 372  |                                        //  to 2-bytes for compatibility with
                            14044 ; 373  |                                        //  older host drivers.
                            14045 ; 374  |    DWORD dwTotalNumberOfSectors;
                            14046 ; 375  |    DWORD dwTotalNumberOfBytes;
                            14047 ; 376  |    WORD wSectorSizeInBytes;
                            14048 ; 377  |} MEDIA_SIZE;
                            14049 ; 378  |
                            14050 ; 379  |typedef struct {
                            14051 ; 380  |    BOOL    bInstalled;
                            14052 ; 381  |    INT     iPbsSectorOffset;   // from the beginning of the data drive 
                            14053 ; 382  |    DWORD   dwSize;
                            14054 ; 383  |} DATA_DRIVE_PBS_LOC;
                            14055 ; 384  |extern  INT _reentrant FSFileOpen(_packed BYTE *fname,INT attribute, INT DeviceNumber);
                            14056 ; 385  |extern  INT _reentrant FSFastOpen(DWORD Key, INT attribute);
                            14057 ; 386  |extern  INT FSFileDelete(_packed BYTE *fname,INT DeviceNumber);
                            14058 ; 387  |extern  INT FSFileCreate(_packed BYTE *fname,INT DeviceNumber);
                            14059 ; 388  |extern  INT _reentrant FSChangeDir(_packed BYTE *dirname,INT DeviceNumber);
                            14060 ; 389  |extern  INT _reentrant FSCreateDir(_packed BYTE *dirname,INT DeviceNumber);
                            14061 ; 390  |extern  INT _reentrant FSDeleteDir(_packed BYTE *dirname,INT DeviceNumber);
                            14062 ; 391  |extern  INT _reentrant FSFileAppend(_packed BYTE *fname,INT DeviceNumber);
                            14063 ; 392  |extern  INT _reentrant FSFileRead(INT BytestoRead, INT Handle, INT memory_type, INT modulo
                                  , WORD *buffer);
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 235

M:ADDR CODE           CYCLES LINE SOURCELINE
                            14064 ; 393  |extern  INT _reentrant FSFileWrite(INT wNumberBytes, INT Handle, INT memory_type, INT iMod
                                  ulo, WORD *buffer);
                            14065 ; 394  |extern  INT _reentrant FSFileClose(INT Handle);
                            14066 ; 395  |extern  LONG _reentrant FSFileSize(INT HandleNumber);
                            14067 ; 396  |extern  LONG  FSSize(INT DeviceNum, INT TYPE);   
                            14068 ; 397  |extern  INT FSFreeClusters(INT Device);
                            14069 ; 398  |extern  INT BytesPerCluster(INT Device);
                            14070 ; 399  |
                            14071 ; 400  |
                            14072 ; 401  |
                            14073 ; 402  |//extern  INT FSFileCreate(_packed BYTE *pbFileName, BYTE bDevice);
                            14074 ; 403  |//extern  INT FSFileDelete(_packed BYTE *pbFileName, BYTE bDevice);
                            14075 ; 404  |extern  INT FSFileRename(_packed BYTE *pbCurFilename, _packed BYTE *pbNewFilename, BYTE bD
                                  evice);
                            14076 ; 405  |//extern  INT _reentrant FSFileAttribute(_packed BYTE *pbFilename, WORD wAttributes, BYTE 
                                  bDevice);
                            14077 ; 406  |//extern  INT FSFileAppend(_packed BYTE *pbFileName, BYTE bDevice);
                            14078 ; 407  |//extern  INT FSFileOpen(_packed BYTE *pbFileName, WORD wAttributes, BYTE bDevice);
                            14079 ; 408  |//extern  INT FSFileClose(INT bHandle);
                            14080 ; 409  |//extern  INT FSFileRead(WORD wNumberBytes, BYTE bHandle, WORD wMemSpace, INT iModulo, WOR
                                  D *pwBuffer);
                            14081 ; 410  |//extern  INT FSFileWrite(WORD wNumberBytes, BYTE bHandle, WORD wMemSpace, INT iModulo, WO
                                  RD *pwBuffer);
                            14082 ; 411  |extern  INT _reentrant fseek( INT handle , LONG offset, INT iOrigin );
                            14083 ; 412  |extern  INT _reentrant FSFileEof(INT Handle);
                            14084 ; 413  |extern INT _reentrant FSFileAttribute(INT Attributes, _packed BYTE *fname, INT DeviceNumbe
                                  r);
                            14085 ; 414  |extern INT _reentrant FSFileAttributeClear(INT Attributes, _packed BYTE *fname, INT Device
                                  Number);
                            14086 ; 415  |//extern  LONG FSFileSize(INT bHandle);
                            14087 ; 416  |extern _asmfunc INT FSPresent(BYTE bDevice);
                            14088 ; 417  |extern _asmfunc INT FSType(BYTE bDevice);
                            14089 ; 418  |//extern LONG FSSize(WORD wDevice, WORD wReturnType);
                            14090 ; 419  |//extern INT FSChangeDir(_packed BYTE *pbDirName, BYTE bDevice);
                            14091 ; 420  |//extern INT FSCreateDir(_packed BYTE *pbDirName, BYTE bDevice);
                            14092 ; 421  |//extern INT FSDeleteDir(_packed BYTE *pbDirName, BYTE bDevice);
                            14093 ; 422  |extern _asmfunc void SysLoadFATWrite(void);
                            14094 ; 423  |extern _asmfunc INT SysUnLoadFATWrite(void);
                            14095 ; 424  |extern LONG _reentrant ftell(INT iHandle);
                            14096 ; 425  |extern _asmfunc struct FCB * ReadDirectory(int iDevice, int iEntry);
                            14097 ; 426  |
                            14098 ; 427  |#endif
                            14099 
                            14101 
                            14102 ; 13   |#include "metadata.h"
                            14103 
                            14105 
                            14106 ; 1    |////////////////////////////////////////////////////////////////////////////////
                            14107 ; 2    |// Copyright(C) SigmaTel, Inc. 2002
                            14108 ; 3    |//
                            14109 ; 4    |// Filename: metadata.h
                            14110 ; 5    |// Description:
                            14111 ; 6    |////////////////////////////////////////////////////////////////////////////////
                            14112 ; 7    |
                            14113 ; 8    |#ifndef _METADATA_H
                            14114 ; 9    |#define _METADATA_H
                            14115 ; 10   |
                            14116 ; 11   |///////////////////////////////////////////////////////////////////////////////
                            14117 ; 12   |// MetaData definitions
                            14118 ; 13   |///////////////////////////////////////////////////////////////////////////////
                            14119 ; 14   |
                            14120 ; 15   |//#define MMC_CMD59       0x40|59
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 236

M:ADDR CODE           CYCLES LINE SOURCELINE
                            14121 ; 16   |
                            14122 ; 17   |///////////////////////////////////////////////////////////////////////////////
                            14123 ; 18   |// Meta Data structure definitions
                            14124 ; 19   |///////////////////////////////////////////////////////////////////////////////
                            14125 ; 20   |
                            14126 ; 21   |///////////////////////////////////////////////////////////////////////////////
                            14127 ; 22   |// MetaData definitions
                            14128 ; 23   |
                            14129 ; 24   |#define META_DATA_FOUND                     (WORD)(0)
                            14130 ; 25   |#define META_DATA_NOT_FOUND                 (WORD)(0x100)
                            14131 ; 26   |#define META_DATA_FILE_NOT_SUPPORTED        (WORD)(0x101)
                            14132 ; 27   |#define META_DATA_FILEOPEN_ERROR            (WORD)(0x200)
                            14133 ; 28   |#define META_DATA_FILEREAD_ERROR            (WORD)(0x201)
                            14134 ; 29   |#define META_DATA_FILECLOSE_ERROR           (WORD)(0x202)
                            14135 ; 30   |#define META_DATA_FILESEEK_ERROR            (WORD)(0x203)
                            14136 ; 31   |#define META_DATA_FILEWRITE_ERROR           (WORD)(0x204)
                            14137 ; 32   |#define META_DATA_SUCCESS                               (WORD)(0x205)
                            14138 ; 33   |
                            14139 ; 34   |#define META_DATA_NOT_VBR_FORMAT            (WORD)(0x102)
                            14140 ; 35   |
                            14141 ; 36   |// VBR
                            14142 ; 37   |#define VBR_NOT_DETERMINED 0
                            14143 ; 38   |#define VBR_TRUE 1
                            14144 ; 39   |
                            14145 ; 40   |#ifndef TITLE_SIZE
                            14146 ; 41   |//#define TITLE_SIZE 30
                            14147 ; 42   |#ifndef USE_PLAYLIST3
                            14148 ; 43   |#define TITLE_SIZE 256          //was 30 but LFNs require up to 256!
                            14149 ; 44   |#else
                            14150 ; 45   |#define TITLE_SIZE 80           //was 256 but music library only store up to 129!
                            14151 ; 46   |#endif
                            14152 ; 47   |#endif
                            14153 ; 48   |
                            14154 ; 49   |#ifndef ARTIST_SIZE
                            14155 ; 50   |#ifndef USE_PLAYLIST3
                            14156 ; 51   |//#define ARTIST_SIZE 30
                            14157 ; 52   |#define ARTIST_SIZE 100         // increase artist size for use with ID3V2 tags (Stmp00003
                                  110)
                            14158 ; 53   |#else
                            14159 ; 54   |#define ARTIST_SIZE 48          // increase artist size for use with ID3V2 tags (Stmp00003
                                  110)
                            14160 ; 55   |#endif
                            14161 ; 56   |#endif
                            14162 ; 57   |
                            14163 ; 58   |#ifndef ALBUM_SIZE
                            14164 ; 59   |#ifndef USE_PLAYLIST3
                            14165 ; 60   |//#define ALBUM_SIZE 30
                            14166 ; 61   |#define ALBUM_SIZE 50           // increase album size (not as much) for use with ID3V2 ta
                                  gs (Stmp00003110)
                            14167 ; 62   |#else
                            14168 ; 63   |#define ALBUM_SIZE 48           // increase album size (not as much) for use with ID3V2 ta
                                  gs (Stmp00003110)
                            14169 ; 64   |#endif
                            14170 ; 65   |#endif
                            14171 ; 66   |
                            14172 ; 67   |#ifdef USE_PLAYLIST3
                            14173 ; 68   |#ifndef GENRE_SIZE
                            14174 ; 69   |#define GENRE_SIZE 20
                            14175 ; 70   |#endif
                            14176 ; 71   |
                            14177 ; 72   |#ifndef YEAR_SIZE
                            14178 ; 73   |#define YEAR_SIZE 8
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 237

M:ADDR CODE           CYCLES LINE SOURCELINE
                            14179 ; 74   |#endif
                            14180 ; 75   |
                            14181 ; 76   |#ifndef TRACKNUM_SIZE
                            14182 ; 77   |#define TRACKNUM_SIZE 5 // assume track number is smaller than 0xfff (12bit or 4095)
                            14183 ; 78   |#endif
                            14184 ; 79   |
                            14185 ; 80   |#define MAX_TRACK_NUMBER 0x000fff
                            14186 ; 81   |#define UNKNOWN_TRACK_NUMBER MAX_TRACK_NUMBER
                            14187 ; 82   |#endif
                            14188 ; 83   |
                            14189 ; 84   |#define XING_TOC_SIZE   100
                            14190 ; 85   |#if MTP_BUILD
                            14191 ; 86   |// This size is used to build table for FF/RW for vbr songs,
                            14192 ; 87   |// and as there is no such function in mtp mode, it is reduced to release y-memory.
                            14193 ; 88   |#define VBR_TOC_SIZE    2
                            14194 ; 89   |#else
                            14195 ; 90   |#define VBR_TOC_SIZE    200
                            14196 ; 91   |#endif
                            14197 ; 92   |
                            14198 ; 93   |extern UCS3 g_wSongTitle[TITLE_SIZE];
                            14199 ; 94   |extern UCS3 g_wSongArtist[ARTIST_SIZE];
                            14200 ; 95   |extern UCS3 g_wSongAlbum[ALBUM_SIZE];
                            14201 ; 96   |#ifdef USE_PLAYLIST3
                            14202 ; 97   |extern UCS3 g_wSongGenre[GENRE_SIZE];
                            14203 ; 98   |extern UCS3 g_wSongYear[YEAR_SIZE];
                            14204 ; 99   |extern WORD g_wSongTrackNum;
                            14205 ; 100  |#endif
                            14206 ; 101  |
                            14207 ; 102  |extern WORD g_wVBRTOCTable[VBR_TOC_SIZE];
                            14208 ; 103  |
                            14209 ; 104  |typedef struct {
                            14210 ; 105  |    WORD        iTitleBufferLength;
                            14211 ; 106  |        UCS3       *wTitle;        // Title of Song
                            14212 ; 107  |    WORD        iArtistBufferLength;
                            14213 ; 108  |    UCS3       *wArtist;
                            14214 ; 109  |    WORD        iAlbumBufferLength;
                            14215 ; 110  |    UCS3       *wAlbum;
                            14216 ; 111  |#ifdef USE_PLAYLIST3
                            14217 ; 112  |    WORD        iGenreBufferLength;
                            14218 ; 113  |    UCS3       *wGenre;
                            14219 ; 114  |    WORD        iYearBufferLength;
                            14220 ; 115  |    UCS3       *wYear;
                            14221 ; 116  |    WORD        wTrackNum;
                            14222 ; 117  |#endif
                            14223 ; 118  |    BYTE       btGenre;       // Genre of audio file -- if MP3, use the ID3v1 tag byte
                            14224 ; 119  |        WORD       wSampRate;     // Sample Rate of song (Hz)
                            14225 ; 120  |        WORD       wNumChannels;
                            14226 ; 121  |        WORD       wBitRate;      // Bitrate of song (for MP3 VBR, this will be first bitr
                                  ate found)
                            14227 ; 122  |        LONG       iTime;                 // Length of song in seconds
                            14228 ; 123  |        DWORD      dwStartPos;    // Position where audio starts. (if required by the deco
                                  der)
                            14229 ; 124  |        DWORD      dwNumBytes;    // Total Bytes in audio part of song
                            14230 ; 125  |    DWORD      dwDataBytes;   // for wma; (total bytes - header bytes)
                            14231 ; 126  |        DWORD      dwNumFrames;   // See note below on frames
                            14232 ; 127  |        BOOL       bVBR;                  // 0 = CBR or does not apply , 1 = VBR (**see qu
                                  estion below**)
                            14233 ; 128  |        INT                iFileType;     // 0 = unknown, 1 = MP3, 2 = WMA, 4 = AAC, 8 = I
                                  MA ADPCM, etc (use defines below)
                            14234 ; 129  |        INT                iResourceNum;  // Resource number of the decoder that needed fo
                                  r this file
                            14235 ; 130  |} FILE_META_DATA;
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 238

M:ADDR CODE           CYCLES LINE SOURCELINE
                            14236 ; 131  |
                            14237 ; 132  |// File Type Defines (use for iFileType) -- matches bit defines in sysequ.inc
                            14238 ; 133  |#define UNKNOWN_TYPE   0
                            14239 ; 134  |#define MP3_TYPE       1
                            14240 ; 135  |#define WMA_TYPE       2
                            14241 ; 136  |#define AAC_TYPE       4
                            14242 ; 137  |#define IMA_ADPCM_TYPE 8
                            14243 ; 138  |#define MS_ADPCM_TYPE  16
                            14244 ; 139  |#define PCM_WAV_TYPE   32
                            14245 ; 140  |#define ASF_TYPE       64
                            14246 ; 141  |#define AUDIBLE_ACELP_TYPE 128
                            14247 ; 142  |#define AUDIBLE_MP3_TYPE   256          // 9/28/04 mmiu
                            14248 ; 143  |
                            14249 ; 144  |#define SMV_ADPCM_TYPE 512
                            14250 ; 145  |
                            14251 ; 146  |
                            14252 ; 147  |//////SRS WOW DEFS/////////////////////////////////////////////////////////////
                            14253 ; 148  |// Sample rates
                            14254 ; 149  |#ifdef WOW
                            14255 ; 150  |#define SR_48KHZ        48000
                            14256 ; 151  |#define SR_44KHZ        44100
                            14257 ; 152  |#define SR_32KHZ        32000
                            14258 ; 153  |#define SR_24KHZ        24000
                            14259 ; 154  |#define SR_22KHZ        22050
                            14260 ; 155  |#define SR_16KHZ        16000
                            14261 ; 156  |#define SR_12KHZ        12000
                            14262 ; 157  |#define SR_11KHZ        11025
                            14263 ; 158  |#define SR_8KHZ          8000
                            14264 ; 159  |#endif
                            14265 ; 160  |
                            14266 ; 161  |
                            14267 ; 162  |///////////////////////////////////////////////////////////////////////////////
                            14268 ; 163  |// MetaData prototypes
                            14269 ; 164  |///////////////////////////////////////////////////////////////////////////////
                            14270 ; 165  |
                            14271 ; 166  |RETCODE _reentrant GetFileMetaData(INT PackedPathNameAddress, INT btCurrentDevice, FILE_ME
                                  TA_DATA *MetaData);
                            14272 
                            14300 
                            14301 ; 167  |#ifdef USE_PLAYLIST3
                            14302 ; 168  |INT _reentrant GetRelativePath(int highlight_index, int browse_type, INT* PackedPathNameAd
                                  dress);
                            14303 ; 169  |INT _reentrant RetrieveSongInfo(INT a, INT b, INT *p_path);
                            14304 ; 170  |#endif
                            14305 ; 171  |
                            14306 ; 172  |#endif // #ifndef _METADATA_H
                            14307 
                            14309 
                            14310 ; 14   |#include "resource.h"
                            14311 
                            14313 
                            14314 ; 1    |//  NOTE: This file was generated automatically by rscrenum.pl
                            14315 ; 2    |//  Do not edit it directly.
                            14316 ; 3    |//  Created on Sat Jun 28 16:37:44 2008 using resource.inc as input.
                            14317 ; 4    |
                            14318 ; 5    |
                            14319 ; 6    |
                            14320 ; 7    |//  NOTE: This file was generated automatically by rscrenum.pl
                            14321 ; 8    |//  Do not edit it directly.
                            14322 ; 9    |//  Created on Sat Jun 28 16:13:49 2008 using resource.inc as input.
                            14323 ; 10   |
                            14324 ; 11   |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 239

M:ADDR CODE           CYCLES LINE SOURCELINE
                            14325 ; 12   |
                            14326 ; 13   |//  NOTE: This file was generated automatically by rscrenum.pl
                            14327 ; 14   |//  Do not edit it directly.
                            14328 ; 15   |//  Created on Sat Jun 28 15:55:53 2008 using resource.inc as input.
                            14329 ; 16   |
                            14330 ; 17   |
                            14331 ; 18   |
                            14332 ; 19   |//  NOTE: This file was generated automatically by rscrenum.pl
                            14333 ; 20   |//  Do not edit it directly.
                            14334 ; 21   |//  Created on Thu Jun 26 08:58:05 2008 using resource.inc as input.
                            14335 ; 22   |
                            14336 ; 23   |
                            14337 ; 24   |
                            14338 ; 25   |//  NOTE: This file was generated automatically by rscrenum.pl
                            14339 ; 26   |//  Do not edit it directly.
                            14340 ; 27   |//  Created on Wed Jun 25 17:00:35 2008 using resource.inc as input.
                            14341 ; 28   |
                            14342 ; 29   |
                            14343 ; 30   |
                            14344 ; 31   |//  NOTE: This file was generated automatically by rscrenum.pl
                            14345 ; 32   |//  Do not edit it directly.
                            14346 ; 33   |//  Created on Wed Jun 25 11:42:38 2008 using resource.inc as input.
                            14347 ; 34   |
                            14348 ; 35   |
                            14349 ; 36   |
                            14350 ; 37   |//  NOTE: This file was generated automatically by rscrenum.pl
                            14351 ; 38   |//  Do not edit it directly.
                            14352 ; 39   |//  Created on Wed Jun 25 11:17:50 2008 using resource.inc as input.
                            14353 ; 40   |
                            14354 ; 41   |
                            14355 ; 42   |
                            14356 ; 43   |//  NOTE: This file was generated automatically by rscrenum.pl
                            14357 ; 44   |//  Do not edit it directly.
                            14358 ; 45   |//  Created on Wed Jun 25 11:17:05 2008 using resource.inc as input.
                            14359 ; 46   |
                            14360 ; 47   |
                            14361 ; 48   |
                            14362 ; 49   |//  NOTE: This file was generated automatically by rscrenum.pl
                            14363 ; 50   |//  Do not edit it directly.
                            14364 ; 51   |//  Created on Tue Jun 24 15:21:11 2008 using resource.inc as input.
                            14365 ; 52   |
                            14366 ; 53   |
                            14367 ; 54   |
                            14368 ; 55   |//  NOTE: This file was generated automatically by rscrenum.pl
                            14369 ; 56   |//  Do not edit it directly.
                            14370 ; 57   |//  Created on Sun Jun 22 02:54:01 2008 using resource.inc as input.
                            14371 ; 58   |
                            14372 ; 59   |
                            14373 ; 60   |
                            14374 ; 61   |//  NOTE: This file was generated automatically by rscrenum.pl
                            14375 ; 62   |//  Do not edit it directly.
                            14376 ; 63   |//  Created on Sun Jun 22 00:47:39 2008 using resource.inc as input.
                            14377 ; 64   |
                            14378 ; 65   |
                            14379 ; 66   |
                            14380 ; 67   |//  NOTE: This file was generated automatically by rscrenum.pl
                            14381 ; 68   |//  Do not edit it directly.
                            14382 ; 69   |//  Created on Fri Jun 20 16:15:57 2008 using resource.inc as input.
                            14383 ; 70   |
                            14384 ; 71   |
                            14385 ; 72   |
                            14386 ; 73   |//  NOTE: This file was generated automatically by rscrenum.pl
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 240

M:ADDR CODE           CYCLES LINE SOURCELINE
                            14387 ; 74   |//  Do not edit it directly.
                            14388 ; 75   |//  Created on Thu Jun 19 09:47:30 2008 using resource.inc as input.
                            14389 ; 76   |
                            14390 ; 77   |
                            14391 ; 78   |
                            14392 ; 79   |//  NOTE: This file was generated automatically by rscrenum.pl
                            14393 ; 80   |//  Do not edit it directly.
                            14394 ; 81   |//  Created on Wed Jun 18 23:11:16 2008 using resource.inc as input.
                            14395 ; 82   |
                            14396 ; 83   |
                            14397 ; 84   |
                            14398 ; 85   |//  NOTE: This file was generated automatically by rscrenum.pl
                            14399 ; 86   |//  Do not edit it directly.
                            14400 ; 87   |//  Created on Wed Jun 18 22:57:19 2008 using resource.inc as input.
                            14401 ; 88   |
                            14402 ; 89   |
                            14403 ; 90   |
                            14404 ; 91   |//  NOTE: This file was generated automatically by rscrenum.pl
                            14405 ; 92   |//  Do not edit it directly.
                            14406 ; 93   |//  Created on Wed Jun 18 22:49:16 2008 using resource.inc as input.
                            14407 ; 94   |
                            14408 ; 95   |
                            14409 ; 96   |
                            14410 ; 97   |//  NOTE: This file was generated automatically by rscrenum.pl
                            14411 ; 98   |//  Do not edit it directly.
                            14412 ; 99   |//  Created on Wed Jun 18 11:53:38 2008 using resource.inc as input.
                            14413 ; 100  |
                            14414 ; 101  |
                            14415 ; 102  |
                            14416 ; 103  |//  NOTE: This file was generated automatically by rscrenum.pl
                            14417 ; 104  |//  Do not edit it directly.
                            14418 ; 105  |//  Created on Wed Jun 18 10:45:13 2008 using resource.inc as input.
                            14419 ; 106  |
                            14420 ; 107  |
                            14421 ; 108  |
                            14422 ; 109  |//  NOTE: This file was generated automatically by rscrenum.pl
                            14423 ; 110  |//  Do not edit it directly.
                            14424 ; 111  |//  Created on Wed Jun 18 09:54:56 2008 using resource.inc as input.
                            14425 ; 112  |
                            14426 ; 113  |
                            14427 ; 114  |
                            14428 ; 115  |//  NOTE: This file was generated automatically by rscrenum.pl
                            14429 ; 116  |//  Do not edit it directly.
                            14430 ; 117  |//  Created on Tue Jun 17 16:47:21 2008 using resource.inc as input.
                            14431 ; 118  |
                            14432 ; 119  |
                            14433 ; 120  |
                            14434 ; 121  |//  NOTE: This file was generated automatically by rscrenum.pl
                            14435 ; 122  |//  Do not edit it directly.
                            14436 ; 123  |//  Created on Tue Jun 17 11:30:49 2008 using resource.inc as input.
                            14437 ; 124  |
                            14438 ; 125  |
                            14439 ; 126  |
                            14440 ; 127  |/////////////////////////////////////////////////////////////////////////////////
                            14441 ; 128  |// Copyright(C) SigmaTel, Inc. 2001-2007
                            14442 ; 129  |// Reviews: DanhNguyen (06-2008) for X8iTF/STFM1000
                            14443 ; 130  |// LCD example resource listing
                            14444 ; 131  |/////////////////////////////////////////////////////////////////////////////////
                            14445 ; 132  |
                            14446 ; 133  |#if (!defined(resources))
                            14447 ; 134  |#define resources 1
                            14448 ; 135  |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 241

M:ADDR CODE           CYCLES LINE SOURCELINE
                            14449 ; 136  |/////////////////////////////////////////////////////////////////////////////////
                            14450 ; 137  |//  Player version number  no leading zeros in version number!!!!!
                            14451 ; 138  |/////////////////////////////////////////////////////////////////////////////////
                            14452 ; 139  |
                            14453 ; 140  |#define VERSION_MAJOR 3
                            14454 ; 141  |#define VERSION_MIDDLE 200
                            14455 ; 142  |#define VERSION_MINOR 910
                            14456 ; 143  |
                            14457 ; 144  |#define LCD_SEG_OFFSET 0x000000
                            14458 ; 145  |#define NUMBER_OF_PRESETS 10
                            14459 ; 146  |
                            14460 ; 147  |
                            14461 ; 148  |/////////////////////////////////////////////////////////////////////////////////
                            14462 ; 149  |//  High usage resource. These have been moved here to take maximum advantage of
                            14463 ; 150  |//  the resource index cache if it was added.
                            14464 ; 151  |//  This block is sorted by frequency of use while loading a new song.
                            14465 ; 152  |/////////////////////////////////////////////////////////////////////////////////
                            14466 ; 153  |
                            14467 ; 154  |//$FILENAME searchdirectory.src
                            14468 ; 155  |#define RSRC_FUNCLET_SEARCHDIRECTORY 1    
                            14469 ; 156  |//$FILENAME shortdirmatch.src
                            14470 ; 157  |#define RSRC_FUNCLET_SHORTDIRMATCH 2    
                            14471 ; 158  |//$FILENAME fopen.src
                            14472 ; 159  |#define RSRC_FUNCLET_FOPEN 3    
                            14473 ; 160  |//$FILENAME musicmenu.src
                            14474 ; 161  |#define RSRC_MUSIC_MENU_CODE_BANK 4    
                            14475 ; 162  |//$FILENAME changepath.src
                            14476 ; 163  |#define RSRC_FUNCLET_CHANGEPATH 5    
                            14477 ; 164  |//$FILENAME _openandverifyslot.src
                            14478 ; 165  |#define RSRC_FUNCLET__OPENANDVERIFYSLOT 6    
                            14479 ; 166  |//$FILENAME _loadslot.src
                            14480 ; 167  |#define RSRC_FUNCLET__LOADSLOT 7    
                            14481 ; 168  |//$FILENAME getname.src
                            14482 ; 169  |#define RSRC_FUNCLET_GETNAME 8    
                            14483 ; 170  |//$FILENAME Funclet_SteppingVoltageSet.src
                            14484 ; 171  |#define RSRC_FUNCLET_STEPPINGVOLTAGESET 9    
                            14485 ; 172  |//$FILENAME sethandleforsearch.src
                            14486 ; 173  |#define RSRC_FUNCLET_SETHANDLEFORSEARCH 10    
                            14487 ; 174  |//$FILENAME wmaWrap.src
                            14488 ; 175  |#define RSRC_WMADEC_CODE 11    
                            14489 ; 176  |//$FILENAME extractfilename.src
                            14490 ; 177  |#define RSRC_FUNCLET_EXTRACTFILENAME 12    
                            14491 ; 178  |//$FILENAME oem_getgroupcertprivatekey.src
                            14492 ; 179  |#define RSRC_FUNCLET_OEM_GETGROUPCERTPRIVATEKEY 13    
                            14493 ; 180  |//$FILENAME SoftTimerMod.src
                            14494 ; 181  |#define RSRC_SOFT_TIMER_MODULE_CODE 14    
                            14495 ; 182  |//$FILENAME GetShortfilename.src
                            14496 ; 183  |#define RSRC_FUNCLET_GETSHORTFILENAME 15    
                            14497 ; 184  |//$FILENAME drm_dcp_loadpropertiescache.src
                            14498 ; 185  |#define RSRC_FUNCLET_DRM_DCP_LOADPROPERTIESCACHE 16    
                            14499 ; 186  |//$FILENAME playerstatemachine.src
                            14500 ; 187  |#define RSRC_PLAY_STATE_MACHINE_CODE_BANK 17    
                            14501 ; 188  |//$FILENAME SysMod.src
                            14502 ; 189  |#define RSRC_SYSMOD_CODE 18    
                            14503 ; 190  |//$FILENAME drm_b64_decodew.src
                            14504 ; 191  |#define RSRC_FUNCLET_DRM_B64_DECODEW 19    
                            14505 ; 192  |//$FILENAME discardtrailigperiods.src
                            14506 ; 193  |#define RSRC_FUNCLET_DISCARDTRAILIGPERIODS 20    
                            14507 ; 194  |//$FILENAME uppercase.src
                            14508 ; 195  |#define RSRC_FUNCLET_UPPERCASE 21    
                            14509 ; 196  |//$FILENAME strlength.src
                            14510 ; 197  |#define RSRC_FUNCLET_STRLENGTH 22    
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 242

M:ADDR CODE           CYCLES LINE SOURCELINE
                            14511 ; 198  |//$FILENAME ConverToShortname.src
                            14512 ; 199  |#define RSRC_FUNCLET_CONVERTOSHORTNAME 23    
                            14513 ; 200  |//$FILENAME drm_bbx_hashvalue.src
                            14514 ; 201  |#define RSRC_FUNCLET_DRM_BBX_HASHVALUE 24    
                            14515 ; 202  |//$FILENAME drm_expr_evaluateexpression.src
                            14516 ; 203  |#define RSRC_FUNCLET_DRM_EXPR_EVALUATEEXPRESSION 25    
                            14517 ; 204  |//$FILENAME drm_sst_closekey.src
                            14518 ; 205  |#define RSRC_FUNCLET_DRM_SST_CLOSEKEY 26    
                            14519 ; 206  |//$FILENAME Funclet_SysSetSpeed.src
                            14520 ; 207  |#define RSRC_FUNCLET_SYSSETSPEED 27    
                            14521 ; 208  |//$FILENAME freehandle.src
                            14522 ; 209  |#define RSRC_FUNCLET_FREEHANDLE 28    
                            14523 ; 210  |//$FILENAME searchfreehandleallocate.src
                            14524 ; 211  |#define RSRC_FUNCLET_SEARCHFREEHANDLEALLOCATE 29    
                            14525 ; 212  |//$FILENAME _parselicenseattributes.src
                            14526 ; 213  |#define RSRC_FUNCLET__PARSELICENSEATTRIBUTES 30    
                            14527 ; 214  |//$FILENAME variablesecstategetorset.src
                            14528 ; 215  |#define RSRC_FUNCLET_VARIABLESECSTATEGETORSET 31    
                            14529 ; 216  |//$FILENAME _setuplicevalobjecttoshare.src
                            14530 ; 217  |#define RSRC_FUNCLET__SETUPLICEVALOBJECTTOSHARE 32    
                            14531 ; 218  |//$FILENAME drm_mgr_initialize.src
                            14532 ; 219  |#define RSRC_FUNCLET_DRM_MGR_INITIALIZE 33    
                            14533 ; 220  |//$FILENAME display.src
                            14534 ; 221  |#define RSRC_DISPLAY_CODE_BANK 34    
                            14535 ; 222  |//$FILENAME DisplayModule.src
                            14536 ; 223  |#define RSRC_DISPLAY_MODULE 35    
                            14537 ; 224  |//$FILENAME extractpath.src
                            14538 ; 225  |#define RSRC_FUNCLET_EXTRACTPATH 36    
                            14539 ; 226  |//$FILENAME drm_sst_createglobalstorepassword.src
                            14540 ; 227  |#define RSRC_FUNCLET_DRM_SST_CREATEGLOBALSTOREPASSWORD 37    
                            14541 ; 228  |//$FILENAME _getprivatekey.src
                            14542 ; 229  |#define RSRC_FUNCLET__GETPRIVATEKEY 38    
                            14543 ; 230  |//$FILENAME drm_hds_opennamespace.src
                            14544 ; 231  |#define RSRC_FUNCLET_DRM_HDS_OPENNAMESPACE 39    
                            14545 ; 232  |//$FILENAME drm_hds_openslot.src
                            14546 ; 233  |#define RSRC_FUNCLET_DRM_HDS_OPENSLOT 40    
                            14547 ; 234  |//$FILENAME fclose.src
                            14548 ; 235  |#define RSRC_FUNCLET_FCLOSE 41    
                            14549 ; 236  |//$FILENAME drm_cphr_init.src
                            14550 ; 237  |#define RSRC_FUNCLET_DRM_CPHR_INIT 42    
                            14551 ; 238  |//$FILENAME drm_pk_symmetriccrypt.src
                            14552 ; 239  |#define RSRC_FUNCLET_DRM_PK_SYMMETRICCRYPT 43    
                            14553 ; 240  |//$FILENAME drm_mgr_bind.src
                            14554 ; 241  |#define RSRC_FUNCLET_DRM_MGR_BIND 44    
                            14555 ; 242  |//$FILENAME _decryptcontentkey.src
                            14556 ; 243  |#define RSRC_FUNCLET__DECRYPTCONTENTKEY 45    
                            14557 ; 244  |//$FILENAME drm_mac_inv32.src
                            14558 ; 245  |#define RSRC_FUNCLET_DRM_MAC_INV32 46    
                            14559 ; 246  |//$FILENAME drm_lic_getattribute.src
                            14560 ; 247  |#define RSRC_FUNCLET_DRM_LIC_GETATTRIBUTE 47    
                            14561 ; 248  |//$FILENAME drm_utl_getversionasstring.src
                            14562 ; 249  |#define RSRC_FUNCLET_DRM_UTL_GETVERSIONASSTRING 48    
                            14563 ; 250  |//$FILENAME drm_dcp_getattribute.src
                            14564 ; 251  |#define RSRC_FUNCLET_DRM_DCP_GETATTRIBUTE 49    
                            14565 ; 252  |//$FILENAME effectsmodules.src
                            14566 ; 253  |#define RSRC_EFFECTS_MODULES_P 50    
                            14567 ; 254  |//$FILENAME janusx.src
                            14568 ; 255  |#define RSRC_JANUSX_CODE 51    
                            14569 ; 256  |//$FILENAME drm_sst_openkeytokens.src
                            14570 ; 257  |#define RSRC_FUNCLET_DRM_SST_OPENKEYTOKENS 52    
                            14571 ; 258  |//$FILENAME eval.src
                            14572 ; 259  |#define RSRC_FUNCLET_EVAL 53    
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 243

M:ADDR CODE           CYCLES LINE SOURCELINE
                            14573 ; 260  |//$FILENAME _verifyslothash.src
                            14574 ; 261  |#define RSRC_FUNCLET__VERIFYSLOTHASH 54    
                            14575 ; 262  |//$FILENAME januscommon.src
                            14576 ; 263  |#define RSRC_JANUS_COMMON 55    
                            14577 ; 264  |//$FILENAME changecase.src
                            14578 ; 265  |#define RSRC_FUNCLET_CHANGECASE 56    
                            14579 ; 266  |//$FILENAME drm_bbx_symmetricverify.src
                            14580 ; 267  |#define RSRC_FUNCLET_DRM_BBX_SYMMETRICVERIFY 57    
                            14581 ; 268  |//$FILENAME _loadlicenseattributes.src
                            14582 ; 269  |#define RSRC_FUNCLET__LOADLICENSEATTRIBUTES 58    
                            14583 ; 270  |//$FILENAME drm_hds_slotseek.src
                            14584 ; 271  |#define RSRC_FUNCLET_DRM_HDS_SLOTSEEK 59    
                            14585 ; 272  |//$FILENAME drm_hds_slotwrite.src
                            14586 ; 273  |#define RSRC_FUNCLET_DRM_HDS_SLOTWRITE 60    
                            14587 ; 274  |//$FILENAME drm_levl_performoperations.src
                            14588 ; 275  |#define RSRC_FUNCLET_DRM_LEVL_PERFORMOPERATIONS 61    
                            14589 ; 276  |//$FILENAME drm_lic_verifysignature.src
                            14590 ; 277  |#define RSRC_FUNCLET_DRM_LIC_VERIFYSIGNATURE 62    
                            14591 ; 278  |//$FILENAME drm_lst_getlicense.src
                            14592 ; 279  |#define RSRC_FUNCLET_DRM_LST_GETLICENSE 63    
                            14593 ; 280  |//$FILENAME drm_utl_numbertostring.src
                            14594 ; 281  |#define RSRC_FUNCLET_DRM_UTL_NUMBERTOSTRING 64    
                            14595 ; 282  |//$FILENAME oem_writefile.src
                            14596 ; 283  |#define RSRC_FUNCLET_OEM_WRITEFILE 65    
                            14597 ; 284  |//$FILENAME drm_sst_getdata.src
                            14598 ; 285  |#define RSRC_FUNCLET_DRM_SST_GETDATA 66    
                            14599 ; 286  |//$FILENAME updatehandlemode.src
                            14600 ; 287  |#define RSRC_FUNCLET_UPDATEHANDLEMODE 67    
                            14601 ; 288  |//$FILENAME _getlicenseinfoandsetup.src
                            14602 ; 289  |#define RSRC_FUNCLET__GETLICENSEINFOANDSETUP 68    
                            14603 ; 290  |//$FILENAME drm_lic_completelicensechain.src
                            14604 ; 291  |#define RSRC_FUNCLET_DRM_LIC_COMPLETELICENSECHAIN 69    
                            14605 ; 292  |//$FILENAME doplay_p.src
                            14606 ; 293  |#define RSRC_DOPLAY_P 70    
                            14607 ; 294  |//$FILENAME fatwritep.src
                            14608 ; 295  |#define RSRC_FATWRITE_P_CODE 71    
                            14609 ; 296  |//$FILENAME findfirst.src
                            14610 ; 297  |#define RSRC_FUNCLET_FINDFIRST 72    
                            14611 ; 298  |//$FILENAME Funclet_SysLoadFatWrite.src
                            14612 ; 299  |#define RSRC_FUNCLET_SYSLOADFATWRITE 73    
                            14613 ; 300  |//$FILENAME changetorootdirectory.src
                            14614 ; 301  |#define RSRC_FUNCLET_CHANGETOROOTDIRECTORY 74    
                            14615 ; 302  |//$FILENAME _findkeypair.src
                            14616 ; 303  |#define RSRC_FUNCLET__FINDKEYPAIR 75    
                            14617 ; 304  |//$FILENAME variablemachinegetorset.src
                            14618 ; 305  |#define RSRC_FUNCLET_VARIABLEMACHINEGETORSET 76    
                            14619 ; 306  |//$FILENAME _hdsslotenumnext.src
                            14620 ; 307  |#define RSRC_FUNCLET__HDSSLOTENUMNEXT 77    
                            14621 ; 308  |//$FILENAME getlspubkey.src
                            14622 ; 309  |#define RSRC_FUNCLET_GETLSPUBKEY 78    
                            14623 ; 310  |//$FILENAME drm_sst_gettokenvalue.src
                            14624 ; 311  |#define RSRC_FUNCLET_DRM_SST_GETTOKENVALUE 79    
                            14625 ; 312  |//$FILENAME drm_utl_decodekid.src
                            14626 ; 313  |#define RSRC_FUNCLET_DRM_UTL_DECODEKID 80    
                            14627 ; 314  |//$FILENAME drm_xml_getnodecdata.src
                            14628 ; 315  |#define RSRC_FUNCLET_DRM_XML_GETNODECDATA 81    
                            14629 ; 316  |//$FILENAME _freedrmmanagerinternalcontexts.src
                            14630 ; 317  |#define RSRC_FUNCLET__FREEDRMMANAGERINTERNALCONTEXTS 82    
                            14631 ; 318  |//$FILENAME drm_clk_initchecksecureclock.src
                            14632 ; 319  |#define RSRC_FUNCLET_DRM_CLK_INITCHECKSECURECLOCK 83    
                            14633 ; 320  |//$FILENAME drm_sst_openandlockslot.src
                            14634 ; 321  |#define RSRC_FUNCLET_DRM_SST_OPENANDLOCKSLOT 84    
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 244

M:ADDR CODE           CYCLES LINE SOURCELINE
                            14635 ; 322  |//$FILENAME aes_enc.src
                            14636 ; 323  |#define RSRC_AES_ENC 85    
                            14637 ; 324  |//$FILENAME getprivkey.src
                            14638 ; 325  |#define RSRC_FUNCLET_GETPRIVKEY 86    
                            14639 ; 326  |//$FILENAME Funclet_GetUnicodeCharacterBitmap.src
                            14640 ; 327  |#define RSRC_FUNCLET_GET_UNICODE_CHARACTER_BITMAP 87    
                            14641 ; 328  |//$FILENAME playlist_codebank.src
                            14642 ; 329  |#define RSRC_PLAYLIST_CODEBANK 88    
                            14643 ; 330  |//$FILENAME drm_lic_getenablingbits.src
                            14644 ; 331  |#define RSRC_FUNCLET_DRM_LIC_GETENABLINGBITS 89    
                            14645 ; 332  |//$FILENAME drm_mgr_uninitialize.src
                            14646 ; 333  |#define RSRC_FUNCLET_DRM_MGR_UNINITIALIZE 90    
                            14647 ; 334  |//$FILENAME _getdevicecert.src
                            14648 ; 335  |#define RSRC_FUNCLET__GETDEVICECERT 91    
                            14649 ; 336  |//$FILENAME drm_lic_reportactions.src
                            14650 ; 337  |#define RSRC_FUNCLET_DRM_LIC_REPORTACTIONS 92    
                            14651 ; 338  |//$FILENAME drmcrt_wcsntol.src
                            14652 ; 339  |#define RSRC_FUNCLET_DRMCRT_WCSNTOL 93    
                            14653 ; 340  |//$FILENAME _basicheaderchecks.src
                            14654 ; 341  |#define RSRC_FUNCLET__BASICHEADERCHECKS 94    
                            14655 ; 342  |//$FILENAME drm_hdr_getattribute.src
                            14656 ; 343  |#define RSRC_FUNCLET_DRM_HDR_GETATTRIBUTE 95    
                            14657 ; 344  |//$FILENAME drm_hds_slotenumnext.src
                            14658 ; 345  |#define RSRC_FUNCLET_DRM_HDS_SLOTENUMNEXT 96    
                            14659 ; 346  |//$FILENAME drm_levl_evaluateexpression.src
                            14660 ; 347  |#define RSRC_FUNCLET_DRM_LEVL_EVALUATEEXPRESSION 97    
                            14661 ; 348  |//$FILENAME drm_lst_open.src
                            14662 ; 349  |#define RSRC_FUNCLET_DRM_LST_OPEN 98    
                            14663 ; 350  |//$FILENAME drm_xml_getnodeattribute.src
                            14664 ; 351  |#define RSRC_FUNCLET_DRM_XML_GETNODEATTRIBUTE 99    
                            14665 ; 352  |//$FILENAME _verifysymmerticsignature.src
                            14666 ; 353  |#define RSRC_FUNCLET__VERIFYSYMMERTICSIGNATURE 100    
                            14667 ; 354  |//$FILENAME oem_openfile.src
                            14668 ; 355  |#define RSRC_FUNCLET_OEM_OPENFILE 101    
                            14669 ; 356  |//$FILENAME _getdrmfullpathname.src
                            14670 ; 357  |#define RSRC_FUNCLET__GETDRMFULLPATHNAME 102    
                            14671 ; 358  |//$FILENAME oem_getsecurestoreglobalpasswordseed.src
                            14672 ; 359  |#define RSRC_FUNCLET_OEM_GETSECURESTOREGLOBALPASSWORDSEED 103    
                            14673 ; 360  |//$FILENAME _applydiffstostore.src
                            14674 ; 361  |#define RSRC_FUNCLET__APPLYDIFFSTOSTORE 104    
                            14675 ; 362  |//$FILENAME drm_sst_setdata.src
                            14676 ; 363  |#define RSRC_FUNCLET_DRM_SST_SETDATA 105    
                            14677 ; 364  |//$FILENAME drm_sst_getlockeddata.src
                            14678 ; 365  |#define RSRC_FUNCLET_DRM_SST_GETLOCKEDDATA 106    
                            14679 ; 366  |//$FILENAME drm_sst_setlockeddata.src
                            14680 ; 367  |#define RSRC_FUNCLET_DRM_SST_SETLOCKEDDATA 107    
                            14681 ; 368  |//$FILENAME playerlib_extra.src
                            14682 ; 369  |#define RSRC_PLAYERLIB_EXTRA_CODE_BANK 108    
                            14683 ; 370  |//$FILENAME wmaCommon.src
                            14684 ; 371  |#define RSRC_WMA_COMMON 109    
                            14685 ; 372  |//$FILENAME wmainit.src
                            14686 ; 373  |#define RSRC_WMA_INIT 110    
                            14687 ; 374  |//$FILENAME playlist2traverse_codebank.src
                            14688 ; 375  |#define RSRC_PLAYLIST2TRAVERSE_CODEBANK 111    
                            14689 ; 376  |//$FILENAME drm_bbx_cipherkeysetup.src
                            14690 ; 377  |#define RSRC_FUNCLET_DRM_BBX_CIPHERKEYSETUP 112    
                            14691 ; 378  |//$FILENAME drm_lic_checkclockrollback.src
                            14692 ; 379  |#define RSRC_FUNCLET_DRM_LIC_CHECKCLOCKROLLBACK 113    
                            14693 ; 380  |//$FILENAME drm_hds_closestore.src
                            14694 ; 381  |#define RSRC_FUNCLET_DRM_HDS_CLOSESTORE 114    
                            14695 ; 382  |//$FILENAME _hdsloadsrn.src
                            14696 ; 383  |#define RSRC_FUNCLET__HDSLOADSRN 115    
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 245

M:ADDR CODE           CYCLES LINE SOURCELINE
                            14697 ; 384  |//$FILENAME _loadproritizedlist.src
                            14698 ; 385  |#define RSRC_FUNCLET__LOADPRORITIZEDLIST 116    
                            14699 ; 386  |//$FILENAME drm_lst_initenum.src
                            14700 ; 387  |#define RSRC_FUNCLET_DRM_LST_INITENUM 117    
                            14701 ; 388  |//$FILENAME _loadattributesintocache.src
                            14702 ; 389  |#define RSRC_FUNCLET__LOADATTRIBUTESINTOCACHE 118    
                            14703 ; 390  |//$FILENAME drm_pk_symmetricverify.src
                            14704 ; 391  |#define RSRC_FUNCLET_DRM_PK_SYMMETRICVERIFY 119    
                            14705 ; 392  |
                            14706 ; 393  |/////////////////////////////////////////////////////////////////////////////////
                            14707 ; 394  |//  Menu Modules (codebanks)
                            14708 ; 395  |/////////////////////////////////////////////////////////////////////////////////
                            14709 ; 396  |//$FILENAME mainmenu.src
                            14710 ; 397  |#define RSRC_MAIN_MENU_CODE_BANK 120    
                            14711 ; 398  |//$FILENAME displaylists.src
                            14712 ; 399  |#define RSRC_DISPLAY_LISTS_CODE_BANK 121    
                            14713 ; 400  |
                            14714 ; 401  |//$FILENAME voicemenu.src
                            14715 ; 402  |#define RSRC_VOICE_MENU_CODE_BANK 122    
                            14716 ; 403  |//$FILENAME fmtunermenu.src
                            14717 ; 404  |#define RSRC_FMTUNER_MENU_CODE_BANK 123    
                            14718 ; 405  |//$FILENAME recorderstatemachine.src
                            14719 ; 406  |#define RSRC_RECORDER_STATE_MACHINE_CODE_BANK 124    
                            14720 ; 407  |
                            14721 ; 408  |//$FILENAME eqmenu.src
                            14722 ; 409  |#define RSRC_EQ_MENU_CODE_BANK 125    
                            14723 ; 410  |//$FILENAME playmodemenu.src
                            14724 ; 411  |#define RSRC_PLAYMODE_MENU_CODE_BANK 126    
                            14725 ; 412  |//$FILENAME contrastmenu.src
                            14726 ; 413  |#define RSRC_CONTRAST_MENU_CODE_BANK 127    
                            14727 ; 414  |//$FILENAME pwrsettingsmenu.src
                            14728 ; 415  |#define RSRC_PWRSETTINGS_MENU_CODE_BANK 128    
                            14729 ; 416  |//$FILENAME timedatemenu.src
                            14730 ; 417  |#define RSRC_TIMEDATE_MENU_CODE_BANK 129    
                            14731 ; 418  |//$FILENAME settimemenu.src
                            14732 ; 419  |#define RSRC_SETTIME_MENU_CODE_BANK 130    
                            14733 ; 420  |//$FILENAME setdatemenu.src
                            14734 ; 421  |#define RSRC_SETDATE_MENU_CODE_BANK 131    
                            14735 ; 422  |//$FILENAME settingsmenu.src
                            14736 ; 423  |#define RSRC_SETTINGS_MENU_CODE_BANK 132    
                            14737 ; 424  |//$FILENAME string_system_menu.src
                            14738 ; 425  |#define RSRC_SYSTEM_MENU_CODE_BANK 133    
                            14739 ; 426  |//$FILENAME deletemenu.src
                            14740 ; 427  |#define RSRC_DELETE_MENU_CODE_BANK 134    
                            14741 ; 428  |//$FILENAME aboutmenu.src
                            14742 ; 429  |#define RSRC_ABOUT_MENU_CODE_BANK 135    
                            14743 ; 430  |
                            14744 ; 431  |//$FILENAME spectrogram.src
                            14745 ; 432  |#define RSRC_SPECTROGRAM_MENU_CODE_BANK 136    
                            14746 ; 433  |
                            14747 ; 434  |//$FILENAME motionvideomenu.src
                            14748 ; 435  |#define RSRC_MOTION_VIDEO_MENU_CODE_BANK 137    
                            14749 ; 436  |//$FILENAME motionvideomenuinitstate.src
                            14750 ; 437  |#define RSRC_MOTION_VIDEO_MENU_INITSTATE_CODE_BANK 138    
                            14751 ; 438  |//$FILENAME jpegdisplaymenu.src
                            14752 ; 439  |#define RSRC_JPEG_DISPLAY_MENU_CODE_BANK 139    
                            14753 ; 440  |//$FILENAME jpegmanualmenu.src
                            14754 ; 441  |#define RSRC_JPEG_MANUAL_MENU_CODE_BANK 140    
                            14755 ; 442  |//$FILENAME jpegthumbnailmenu.src
                            14756 ; 443  |#define RSRC_JPEG_THUMBNAIL_MENU_CODE_BANK 141    
                            14757 ; 444  |//$FILENAME jpegslideshowmenu.src
                            14758 ; 445  |#define RSRC_JPEG_SLIDESHOW_MENU_CODE_BANK 142    
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 246

M:ADDR CODE           CYCLES LINE SOURCELINE
                            14759 ; 446  |//$FILENAME albumartmenu.src
                            14760 ; 447  |#define RSRC_ALBUM_ART_MENU_CODE_BANK 143    
                            14761 ; 448  |//$FILENAME jpegfileutilextra.src
                            14762 ; 449  |#define RSRC_JPEG_FILEUTIL_EXTRA_MENU_CODE_BANK 144    
                            14763 ; 450  |
                            14764 ; 451  |//////////////////////////////////////////////////////////////////////////////////////////
                                  //////////
                            14765 ; 452  |// General Modules
                            14766 ; 453  |//////////////////////////////////////////////////////////////////////////////////////////
                                  //////////
                            14767 ; 454  |//$FILENAME MixMod.src
                            14768 ; 455  |#define RSRC_MIXMOD_CODE 145    
                            14769 ; 456  |//$FILENAME TunerModule.src
                            14770 ; 457  |#define RSRC_TUNER_MODULE 146    
                            14771 ; 458  |//$FILENAME geqoverlay.src
                            14772 ; 459  |#define RSRC_GEQOVERLAY_CODE 147    
                            14773 ; 460  |
                            14774 ; 461  |//////////////////////////////////////////////////////////////////////////////////////////
                                  //////////
                            14775 ; 462  |// Decoders/Encoders
                            14776 ; 463  |//////////////////////////////////////////////////////////////////////////////////////////
                                  //////////
                            14777 ; 464  |//$FILENAME DecMod.src
                            14778 ; 465  |#define RSRC_DECMOD_CODE 148    
                            14779 ; 466  |//$FILENAME mp3p.src
                            14780 ; 467  |#define RSRC_MP3P_CODE 149    
                            14781 ; 468  |//$FILENAME mp3x.src
                            14782 ; 469  |#define RSRC_MP3X_CODE 150    
                            14783 ; 470  |//$FILENAME mp3y.src
                            14784 ; 471  |#define RSRC_MP3Y_CODE 151    
                            14785 ; 472  |//$FILENAME janusp.src
                            14786 ; 473  |#define RSRC_JANUSP_CODE 152    
                            14787 ; 474  |//RSRC_JANUSY_CODE        equ       29    ;$FILENAME janusy.src
                            14788 ; 475  |
                            14789 ; 476  |//$FILENAME decadpcmimamod.src
                            14790 ; 477  |#define RSRC_DEC_ADPCM_MOD_CODE 153    
                            14791 ; 478  |//$FILENAME dec_adpcmp.src
                            14792 ; 479  |#define RSRC_DEC_ADPCMP_CODE 154    
                            14793 ; 480  |//$FILENAME dec_adpcmx.src
                            14794 ; 481  |#define RSRC_DEC_ADPCMX_CODE 155    
                            14795 ; 482  |//$FILENAME dec_adpcmy.src
                            14796 ; 483  |#define RSRC_DEC_ADPCMY_CODE 156    
                            14797 ; 484  |
                            14798 ; 485  |//$FILENAME decadpcmsmvmod.src
                            14799 ; 486  |#define RSRC_DEC_SMVADPCM_MOD_CODE 157    
                            14800 ; 487  |//$FILENAME dec_smvadpcmp.src
                            14801 ; 488  |#define RSRC_DEC_SMVADPCMP_CODE 158    
                            14802 ; 489  |//$FILENAME dec_smvadpcmx.src
                            14803 ; 490  |#define RSRC_DEC_SMVADPCMX_CODE 159    
                            14804 ; 491  |//$FILENAME dec_smvadpcmy.src
                            14805 ; 492  |#define RSRC_DEC_SMVADPCMY_CODE 160    
                            14806 ; 493  |
                            14807 ; 494  |//$FILENAME encadpcmimamod.src
                            14808 ; 495  |#define RSRC_ENC_ADPCM_MOD_CODE 161    
                            14809 ; 496  |//$FILENAME enc_adpcmp.src
                            14810 ; 497  |#define RSRC_ENC_ADPCMP_CODE 162    
                            14811 ; 498  |//$FILENAME enc_adpcmx.src
                            14812 ; 499  |#define RSRC_ENC_ADPCMX_CODE 163    
                            14813 ; 500  |//$FILENAME enc_adpcmy.src
                            14814 ; 501  |#define RSRC_ENC_ADPCMY_CODE 164    
                            14815 ; 502  |
                            14816 ; 503  |//$FILENAME jpeg_p.src
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 247

M:ADDR CODE           CYCLES LINE SOURCELINE
                            14817 ; 504  |#define RSRC_JPEG_DECODER_P 165    
                            14818 ; 505  |//$FILENAME jpeg_x.src
                            14819 ; 506  |#define RSRC_JPEG_DECODER_X 166    
                            14820 ; 507  |//$FILENAME jpeg_y.src
                            14821 ; 508  |#define RSRC_JPEG_DECODER_Y 167    
                            14822 ; 509  |//$FILENAME jpeg2_y.src
                            14823 ; 510  |#define RSRC_JPEG_DECODER_Y_2 168    
                            14824 ; 511  |//$FILENAME bmp2_y.src
                            14825 ; 512  |#define RSRC_BMP_DECODER_Y_2 169    
                            14826 ; 513  |//$FILENAME bmp_p.src
                            14827 ; 514  |#define RSRC_BMP_DECODER_P 170    
                            14828 ; 515  |
                            14829 ; 516  |//RSRC_SMVJPEG_DECODER_P    equ       57    ;$FILENAME smvjpeg_p.src
                            14830 ; 517  |//$FILENAME smvjpeg_x.src
                            14831 ; 518  |#define RSRC_SMVJPEG_DECODER_X 171    
                            14832 ; 519  |//$FILENAME smvjpeg_y.src
                            14833 ; 520  |#define RSRC_SMVJPEG_DECODER_Y 172    
                            14834 ; 521  |
                            14835 ; 522  |
                            14836 ; 523  |//////////////////////////////////////////////////////////////////////////////////////////
                                  //////////
                            14837 ; 524  |// System Settings
                            14838 ; 525  |//////////////////////////////////////////////////////////////////////////////////////////
                                  //////////
                            14839 ; 526  |//$FILENAME settings.src
                            14840 ; 527  |#define RSRC_SETTINGS_COMMANDS 173    
                            14841 ; 528  |
                            14842 ; 529  |//////////////////////////////////////////////////////////////////////////////////////////
                                  //////////
                            14843 ; 530  |// Media Device Drivers
                            14844 ; 531  |//////////////////////////////////////////////////////////////////////////////////////////
                                  //////////
                            14845 ; 532  |//This resource is filled with garbage unless it is the MMC build
                            14846 ; 533  |//$FILENAME null.src
                            14847 ; 534  |#define RSRC_MMCDD_CODE 174    
                            14848 ; 535  |//$FILENAME null.src
                            14849 ; 536  |#define RSRC_SMDD_HIGH_CODE 175    
                            14850 ; 537  |
                            14851 ; 538  |/////////////////////////////////////////////////////////////////////////////////
                            14852 ; 539  |//  PlayState resources
                            14853 ; 540  |/////////////////////////////////////////////////////////////////////////////////
                            14854 ; 541  |//$FILENAME play_icon_with_border.src
                            14855 ; 542  |#define RSRC_PLAY_ICON_WITH_BORDER 176    
                            14856 ; 543  |//$FILENAME pause_icon_with_border.src
                            14857 ; 544  |#define RSRC_PAUSE_ICON_WITH_BORDER 177    
                            14858 ; 545  |//$FILENAME stop_icon_with_border.src
                            14859 ; 546  |#define RSRC_STOP_ICON_WITH_BORDER 178    
                            14860 ; 547  |//$FILENAME record_icon_with_border.src
                            14861 ; 548  |#define RSRC_RECORD_ICON_WITH_BORDER 179    
                            14862 ; 549  |//$FILENAME paused_record_icon_with_border.src
                            14863 ; 550  |#define RSRC_PAUSED_RECORD_ICON_BORDER 180    
                            14864 ; 551  |//$FILENAME ffwd_icon_with_border.src
                            14865 ; 552  |#define RSRC_FFWD_ICON_WITH_BORDER 181    
                            14866 ; 553  |//$FILENAME rwnd_icon_with_border.src
                            14867 ; 554  |#define RSRC_RWND_ICON_WITH_BORDER 182    
                            14868 ; 555  |
                            14869 ; 556  |/////////////////////////////////////////////////////////////////////////////////
                            14870 ; 557  |//  PlayMode resources
                            14871 ; 558  |/////////////////////////////////////////////////////////////////////////////////
                            14872 ; 559  |//$FILENAME repeatall_icon.src
                            14873 ; 560  |#define RSRC_REPEAT_ALL_ICON 183    
                            14874 ; 561  |//$FILENAME repeatsong_icon.src
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 248

M:ADDR CODE           CYCLES LINE SOURCELINE
                            14875 ; 562  |#define RSRC_REPEAT_SONG_ICON 184    
                            14876 ; 563  |//$FILENAME shuffle_icon.src
                            14877 ; 564  |#define RSRC_SHUFFLE_ICON 185    
                            14878 ; 565  |//$FILENAME random_icon.src
                            14879 ; 566  |#define RSRC_RANDOM_ICON 186    
                            14880 ; 567  |//$FILENAME repeatallclear_icon.src
                            14881 ; 568  |#define RSRC_REPEAT_ALL_CLEAR_ICON 187    
                            14882 ; 569  |//$FILENAME repeatsongclear_icon.src
                            14883 ; 570  |#define RSRC_REPEAT_SONG_CLEAR_ICON 188    
                            14884 ; 571  |//$FILENAME shuffleclear_icon.src
                            14885 ; 572  |#define RSRC_SHUFFLE_CLEAR_ICON 189    
                            14886 ; 573  |
                            14887 ; 574  |/////////////////////////////////////////////////////////////////////////////////
                            14888 ; 575  |//  Battery Status
                            14889 ; 576  |/////////////////////////////////////////////////////////////////////////////////
                            14890 ; 577  |//$FILENAME battery_00.src
                            14891 ; 578  |#define RSRC_BATTERY_00 190    
                            14892 ; 579  |//$FILENAME battery_01.src
                            14893 ; 580  |#define RSRC_BATTERY_01 191    
                            14894 ; 581  |//$FILENAME battery_02.src
                            14895 ; 582  |#define RSRC_BATTERY_02 192    
                            14896 ; 583  |//$FILENAME battery_03.src
                            14897 ; 584  |#define RSRC_BATTERY_03 193    
                            14898 ; 585  |//$FILENAME battery_04.src
                            14899 ; 586  |#define RSRC_BATTERY_04 194    
                            14900 ; 587  |//$FILENAME battery_05.src
                            14901 ; 588  |#define RSRC_BATTERY_05 195    
                            14902 ; 589  |//$FILENAME battery_06.src
                            14903 ; 590  |#define RSRC_BATTERY_06 196    
                            14904 ; 591  |//$FILENAME battery_07.src
                            14905 ; 592  |#define RSRC_BATTERY_07 197    
                            14906 ; 593  |//$FILENAME battery_08.src
                            14907 ; 594  |#define RSRC_BATTERY_08 198    
                            14908 ; 595  |//$FILENAME battery_09.src
                            14909 ; 596  |#define RSRC_BATTERY_09 199    
                            14910 ; 597  |//$FILENAME battery_10.src
                            14911 ; 598  |#define RSRC_BATTERY_10 200    
                            14912 ; 599  |
                            14913 ; 600  |/////////////////////////////////////////////////////////////////////////////////
                            14914 ; 601  |//  System Icons
                            14915 ; 602  |/////////////////////////////////////////////////////////////////////////////////
                            14916 ; 603  |//$FILENAME disk_small.src
                            14917 ; 604  |#define RSRC_DISK_ICON 201    
                            14918 ; 605  |//$FILENAME lock_small.src
                            14919 ; 606  |#define RSRC_LOCK_ICON 202    
                            14920 ; 607  |//$FILENAME icon_music_mode.src
                            14921 ; 608  |#define RSRC_MUSIC_MODE_ICON 203    
                            14922 ; 609  |//$FILENAME icon_voice_mode.src
                            14923 ; 610  |#define RSRC_VOICE_MODE_ICON 204    
                            14924 ; 611  |
                            14925 ; 612  |//////////////////////////////////////////////////////////////////////////////////////////
                                  //////////
                            14926 ; 613  |// Volume Bitmaps
                            14927 ; 614  |//////////////////////////////////////////////////////////////////////////////////////////
                                  //////////
                            14928 ; 615  |//$FILENAME icon_vol_00.src
                            14929 ; 616  |#define RSRC_ICON_VOL_00 205    
                            14930 ; 617  |//$FILENAME icon_vol_01.src
                            14931 ; 618  |#define RSRC_ICON_VOL_01 206    
                            14932 ; 619  |//$FILENAME icon_vol_02.src
                            14933 ; 620  |#define RSRC_ICON_VOL_02 207    
                            14934 ; 621  |//$FILENAME icon_vol_03.src
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 249

M:ADDR CODE           CYCLES LINE SOURCELINE
                            14935 ; 622  |#define RSRC_ICON_VOL_03 208    
                            14936 ; 623  |//$FILENAME icon_vol_04.src
                            14937 ; 624  |#define RSRC_ICON_VOL_04 209    
                            14938 ; 625  |//$FILENAME icon_vol_05.src
                            14939 ; 626  |#define RSRC_ICON_VOL_05 210    
                            14940 ; 627  |//$FILENAME icon_vol_06.src
                            14941 ; 628  |#define RSRC_ICON_VOL_06 211    
                            14942 ; 629  |//$FILENAME icon_vol_07.src
                            14943 ; 630  |#define RSRC_ICON_VOL_07 212    
                            14944 ; 631  |//$FILENAME icon_vol_08.src
                            14945 ; 632  |#define RSRC_ICON_VOL_08 213    
                            14946 ; 633  |//$FILENAME icon_vol_09.src
                            14947 ; 634  |#define RSRC_ICON_VOL_09 214    
                            14948 ; 635  |//$FILENAME icon_vol_10.src
                            14949 ; 636  |#define RSRC_ICON_VOL_10 215    
                            14950 ; 637  |//$FILENAME icon_vol_11.src
                            14951 ; 638  |#define RSRC_ICON_VOL_11 216    
                            14952 ; 639  |//$FILENAME icon_vol_12.src
                            14953 ; 640  |#define RSRC_ICON_VOL_12 217    
                            14954 ; 641  |//$FILENAME icon_vol_13.src
                            14955 ; 642  |#define RSRC_ICON_VOL_13 218    
                            14956 ; 643  |//$FILENAME icon_vol_14.src
                            14957 ; 644  |#define RSRC_ICON_VOL_14 219    
                            14958 ; 645  |//$FILENAME icon_vol_15.src
                            14959 ; 646  |#define RSRC_ICON_VOL_15 220    
                            14960 ; 647  |//$FILENAME icon_vol_16.src
                            14961 ; 648  |#define RSRC_ICON_VOL_16 221    
                            14962 ; 649  |//$FILENAME icon_vol_17.src
                            14963 ; 650  |#define RSRC_ICON_VOL_17 222    
                            14964 ; 651  |//$FILENAME icon_vol_18.src
                            14965 ; 652  |#define RSRC_ICON_VOL_18 223    
                            14966 ; 653  |//$FILENAME icon_vol_19.src
                            14967 ; 654  |#define RSRC_ICON_VOL_19 224    
                            14968 ; 655  |//$FILENAME icon_vol_20.src
                            14969 ; 656  |#define RSRC_ICON_VOL_20 225    
                            14970 ; 657  |//$FILENAME icon_vol_21.src
                            14971 ; 658  |#define RSRC_ICON_VOL_21 226    
                            14972 ; 659  |//$FILENAME icon_vol_22.src
                            14973 ; 660  |#define RSRC_ICON_VOL_22 227    
                            14974 ; 661  |//$FILENAME icon_vol_23.src
                            14975 ; 662  |#define RSRC_ICON_VOL_23 228    
                            14976 ; 663  |//$FILENAME icon_vol_24.src
                            14977 ; 664  |#define RSRC_ICON_VOL_24 229    
                            14978 ; 665  |//$FILENAME icon_vol_25.src
                            14979 ; 666  |#define RSRC_ICON_VOL_25 230    
                            14980 ; 667  |//$FILENAME icon_vol_26.src
                            14981 ; 668  |#define RSRC_ICON_VOL_26 231    
                            14982 ; 669  |//$FILENAME icon_vol_27.src
                            14983 ; 670  |#define RSRC_ICON_VOL_27 232    
                            14984 ; 671  |//$FILENAME icon_vol_28.src
                            14985 ; 672  |#define RSRC_ICON_VOL_28 233    
                            14986 ; 673  |//$FILENAME icon_vol_29.src
                            14987 ; 674  |#define RSRC_ICON_VOL_29 234    
                            14988 ; 675  |//$FILENAME icon_vol_30.src
                            14989 ; 676  |#define RSRC_ICON_VOL_30 235    
                            14990 ; 677  |//$FILENAME icon_vol_31.src
                            14991 ; 678  |#define RSRC_ICON_VOL_31 236    
                            14992 ; 679  |
                            14993 ; 680  |//////////////////////////////////////////////////////////////////////////////////////////
                                  ///////////
                            14994 ; 681  |// Splash Screen Stuff
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 250

M:ADDR CODE           CYCLES LINE SOURCELINE
                            14995 ; 682  |//////////////////////////////////////////////////////////////////////////////////////////
                                  ///////////
                            14996 ; 683  |//$FILENAME st_bw1.src
                            14997 ; 684  |#define RSRC_SPLASH_SCREEN 237    
                            14998 ; 685  |//$FILENAME siglogo1.src
                            14999 ; 686  |#define RSRC_SPLASH_SCREEN_1 238    
                            15000 ; 687  |//$FILENAME siglogo2.src
                            15001 ; 688  |#define RSRC_SPLASH_SCREEN_2 239    
                            15002 ; 689  |//$FILENAME siglogo3.src
                            15003 ; 690  |#define RSRC_SPLASH_SCREEN_3 240    
                            15004 ; 691  |//$FILENAME siglogo4.src
                            15005 ; 692  |#define RSRC_SPLASH_SCREEN_4 241    
                            15006 ; 693  |//$FILENAME siglogo5.src
                            15007 ; 694  |#define RSRC_SPLASH_SCREEN_5 242    
                            15008 ; 695  |//$FILENAME siglogo6.src
                            15009 ; 696  |#define RSRC_SPLASH_SCREEN_6 243    
                            15010 ; 697  |//$FILENAME siglogo7.src
                            15011 ; 698  |#define RSRC_SPLASH_SCREEN_7 244    
                            15012 ; 699  |//$FILENAME siglogo8.src
                            15013 ; 700  |#define RSRC_SPLASH_SCREEN_8 245    
                            15014 ; 701  |//$FILENAME siglogo9.src
                            15015 ; 702  |#define RSRC_SPLASH_SCREEN_9 246    
                            15016 ; 703  |//$FILENAME siglogo10.src
                            15017 ; 704  |#define RSRC_SPLASH_SCREEN_10 247    
                            15018 ; 705  |//$FILENAME siglogo11.src
                            15019 ; 706  |#define RSRC_SPLASH_SCREEN_11 248    
                            15020 ; 707  |//$FILENAME siglogo12.src
                            15021 ; 708  |#define RSRC_SPLASH_SCREEN_12 249    
                            15022 ; 709  |//$FILENAME siglogo13.src
                            15023 ; 710  |#define RSRC_SPLASH_SCREEN_13 250    
                            15024 ; 711  |//$FILENAME siglogo.src
                            15025 ; 712  |#define RSRC_SPLASH_SCREEN_ALL 251    
                            15026 ; 713  |
                            15027 ; 714  |//$FILENAME locked.src
                            15028 ; 715  |#define RSRC_LOCKED_SCREEN 252    
                            15029 ; 716  |
                            15030 ; 717  |/////////////////////////////////////////////////////////////////////////////////
                            15031 ; 718  |//  Shutdown
                            15032 ; 719  |/////////////////////////////////////////////////////////////////////////////////
                            15033 ; 720  |//$FILENAME string_arial_8_continue_holding_to_power_off.src
                            15034 ; 721  |#define RSRC_PDOWN_HOLD_STRING 253    
                            15035 ; 722  |//$FILENAME status_16_6_steps_0.src
                            15036 ; 723  |#define RSRC_PDOWN_STATUS_0 254    
                            15037 ; 724  |//$FILENAME status_16_6_steps_1.src
                            15038 ; 725  |#define RSRC_PDOWN_STATUS_1 255    
                            15039 ; 726  |//$FILENAME status_16_6_steps_2.src
                            15040 ; 727  |#define RSRC_PDOWN_STATUS_2 256    
                            15041 ; 728  |//$FILENAME status_16_6_steps_3.src
                            15042 ; 729  |#define RSRC_PDOWN_STATUS_3 257    
                            15043 ; 730  |//$FILENAME status_16_6_steps_4.src
                            15044 ; 731  |#define RSRC_PDOWN_STATUS_4 258    
                            15045 ; 732  |//$FILENAME status_16_6_steps_5.src
                            15046 ; 733  |#define RSRC_PDOWN_STATUS_5 259    
                            15047 ; 734  |//$FILENAME status_16_6_steps_6.src
                            15048 ; 735  |#define RSRC_PDOWN_STATUS_6 260    
                            15049 ; 736  |
                            15050 ; 737  |//////////////////////////////////////////////////////////////////////////////////////////
                                  ///////////
                            15051 ; 738  |// EQ
                            15052 ; 739  |//////////////////////////////////////////////////////////////////////////////////////////
                                  ///////////
                            15053 ; 740  |//$FILENAME eq_clear_icon.src
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 251

M:ADDR CODE           CYCLES LINE SOURCELINE
                            15054 ; 741  |#define RSRC_EQ_CLEAR_ICON 261    
                            15055 ; 742  |//$FILENAME rock_icon.src
                            15056 ; 743  |#define RSRC_ROCK_ICON 262    
                            15057 ; 744  |//$FILENAME jazz_icon.src
                            15058 ; 745  |#define RSRC_JAZZ_ICON 263    
                            15059 ; 746  |//$FILENAME classic_icon.src
                            15060 ; 747  |#define RSRC_CLASSIC_ICON 264    
                            15061 ; 748  |//$FILENAME pop_icon.src
                            15062 ; 749  |#define RSRC_POP_ICON 265    
                            15063 ; 750  |//$FILENAME custom_icon.src
                            15064 ; 751  |#define RSRC_CUSTOM_ICON 266    
                            15065 ; 752  |
                            15066 ; 753  |//////////////////////////////////////////////////////////////////////////////////////////
                                  ///////////
                            15067 ; 754  |// AB
                            15068 ; 755  |//////////////////////////////////////////////////////////////////////////////////////////
                                  ///////////
                            15069 ; 756  |//$FILENAME ab_mark_a.src
                            15070 ; 757  |#define RSRC_AB_MARK_A_ICON 267    
                            15071 ; 758  |//$FILENAME ab_mark_b.src
                            15072 ; 759  |#define RSRC_AB_MARK_B_ICON 268    
                            15073 ; 760  |
                            15074 ; 761  |//////////////////////////////////////////////////////////////////////////////////////////
                                  ///////////
                            15075 ; 762  |// Menu Display Resources
                            15076 ; 763  |//////////////////////////////////////////////////////////////////////////////////////////
                                  ///////////
                            15077 ; 764  |//$FILENAME string_music_menu.src
                            15078 ; 765  |#define RSRC_STRING_MUSIC_MENU 269    
                            15079 ; 766  |//$FILENAME string_mvideo_menu.src
                            15080 ; 767  |#define RSRC_STRING_MVIDEO_MENU 270    
                            15081 ; 768  |//$FILENAME string_jpeg_display_menu.src
                            15082 ; 769  |#define RSRC_STRING_JPEG_DISPLAY_MENU 271    
                            15083 ; 770  |//$FILENAME string_jpeg_manual_menu.src
                            15084 ; 771  |#define RSRC_STRING_JPEG_MANUAL_MENU 272    
                            15085 ; 772  |//$FILENAME string_jpeg_slideshow_menu.src
                            15086 ; 773  |#define RSRC_STRING_JPEG_SLIDESHOW_MENU 273    
                            15087 ; 774  |//$FILENAME string_jpeg_thumbnail_menu.src
                            15088 ; 775  |#define RSRC_STRING_JPEG_THUMBNAIL_MENU 274    
                            15089 ; 776  |//$FILENAME string_voice_menu.src
                            15090 ; 777  |#define RSRC_STRING_VOICE_MENU 275    
                            15091 ; 778  |//$FILENAME string_audible_menu.src
                            15092 ; 779  |#define RSRC_STRING_AUDIBLE_MENU 276    
                            15093 ; 780  |//$FILENAME string_fmtuner_menu.src
                            15094 ; 781  |#define RSRC_STRING_FMTUNER_MENU 277    
                            15095 ; 782  |//$FILENAME string_settings_menu.src
                            15096 ; 783  |#define RSRC_STRING_SETTINGS_MENU 278    
                            15097 ; 784  |//$FILENAME string_eq_menu.src
                            15098 ; 785  |#define RSRC_STRING_EQ_MENU 279    
                            15099 ; 786  |//$FILENAME string_playmode_menu.src
                            15100 ; 787  |#define RSRC_STRING_PLAYMODE_MENU 280    
                            15101 ; 788  |//$FILENAME string_contrast_menu.src
                            15102 ; 789  |#define RSRC_STRING_CONTRAST_MENU 281    
                            15103 ; 790  |//$FILENAME string_pwrsavings_menu.src
                            15104 ; 791  |#define RSRC_STRING_PWRSAVINGS_MENU 282    
                            15105 ; 792  |//$FILENAME string_time_date_menu.src
                            15106 ; 793  |#define RSRC_STRING_TIME_DATE_MENU 283    
                            15107 ; 794  |//$FILENAME string_set_time_menu.src
                            15108 ; 795  |#define RSRC_STRING_SET_TIME_MENU 284    
                            15109 ; 796  |//$FILENAME string_set_date_menu.src
                            15110 ; 797  |#define RSRC_STRING_SET_DATE_MENU 285    
                            15111 ; 798  |//$FILENAME string_exit_menu.src
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 252

M:ADDR CODE           CYCLES LINE SOURCELINE
                            15112 ; 799  |#define RSRC_STRING_EXIT_MENU 286    
                            15113 ; 800  |//$FILENAME string_rock_menu.src
                            15114 ; 801  |#define RSRC_STRING_ROCK_MENU 287    
                            15115 ; 802  |//$FILENAME string_pop_menu.src
                            15116 ; 803  |#define RSRC_STRING_POP_MENU 288    
                            15117 ; 804  |//$FILENAME string_classic_menu.src
                            15118 ; 805  |#define RSRC_STRING_CLASSIC_MENU 289    
                            15119 ; 806  |//$FILENAME string_normal_menu.src
                            15120 ; 807  |#define RSRC_STRING_NORMAL_MENU 290    
                            15121 ; 808  |//$FILENAME string_jazz_menu.src
                            15122 ; 809  |#define RSRC_STRING_JAZZ_MENU 291    
                            15123 ; 810  |//$FILENAME string_repeat1_menu.src
                            15124 ; 811  |#define RSRC_STRING_REPEAT1_MENU 292    
                            15125 ; 812  |//$FILENAME string_repeatall_menu.src
                            15126 ; 813  |#define RSRC_STRING_REPEATALL_MENU 293    
                            15127 ; 814  |//$FILENAME string_shuffle_menu.src
                            15128 ; 815  |#define RSRC_STRING_SHUFFLE_MENU 294    
                            15129 ; 816  |//$FILENAME string_repeatshuffle_menu.src
                            15130 ; 817  |#define RSRC_STRING_SHUFFLEREPEAT_MENU 295    
                            15131 ; 818  |//$FILENAME string_disable_menu.src
                            15132 ; 819  |#define RSRC_STRING_DISABLE_MENU 296    
                            15133 ; 820  |//$FILENAME string_1min_menu.src
                            15134 ; 821  |#define RSRC_STRING_1MIN_MENU 297    
                            15135 ; 822  |//$FILENAME string_2min_menu.src
                            15136 ; 823  |#define RSRC_STRING_2MIN_MENU 298    
                            15137 ; 824  |//$FILENAME string_5min_menu.src
                            15138 ; 825  |#define RSRC_STRING_5MIN_MENU 299    
                            15139 ; 826  |//$FILENAME string_10min_menu.src
                            15140 ; 827  |#define RSRC_STRING_10MIN_MENU 300    
                            15141 ; 828  |//$FILENAME string_system_menu.src
                            15142 ; 829  |#define RSRC_STRING_SYSTEM_MENU 301    
                            15143 ; 830  |//$FILENAME string_about_menu.src
                            15144 ; 831  |#define RSRC_STRING_ABOUT_MENU 302    
                            15145 ; 832  |//$FILENAME string_delete_menu.src
                            15146 ; 833  |#define RSRC_STRING_DELETE_MENU 303    
                            15147 ; 834  |//$FILENAME string_record_menu.src
                            15148 ; 835  |#define RSRC_STRING_RECORD_MENU 304    
                            15149 ; 836  |//$FILENAME string_spectrogram_menu.src
                            15150 ; 837  |#define RSRC_STRING_SPECTROGRAM_MENU 305    
                            15151 ; 838  |
                            15152 ; 839  |//$FILENAME string_end_of_slide_show.src
                            15153 ; 840  |#define RSRC_STRING_END_OF_SLIDE_SHOW 306    
                            15154 ; 841  |
                            15155 ; 842  |//$FILENAME string_mb.src
                            15156 ; 843  |#define RSRC_STRING_MB 307    
                            15157 ; 844  |
                            15158 ; 845  |//$FILENAME internal_media.src
                            15159 ; 846  |#define RSRC_INT_MEDIA 308    
                            15160 ; 847  |//$FILENAME external_media.src
                            15161 ; 848  |#define RSRC_EXT_MEDIA 309    
                            15162 ; 849  |
                            15163 ; 850  |//$FILENAME about_title.src
                            15164 ; 851  |#define RSRC_ABOUT_TITLE 310    
                            15165 ; 852  |//$FILENAME player_name.src
                            15166 ; 853  |#define RSRC_PLAYER_NAME_VER 311    
                            15167 ; 854  |
                            15168 ; 855  |//$FILENAME settings_title.src
                            15169 ; 856  |#define RSRC_SETTINGS_TITLE 312    
                            15170 ; 857  |//$FILENAME jpeg_display_title.src
                            15171 ; 858  |#define RSRC_JPEG_DISPLAY_TITLE 313    
                            15172 ; 859  |//$FILENAME erase_title.src
                            15173 ; 860  |#define RSRC_ERASE_TITLE 314    
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 253

M:ADDR CODE           CYCLES LINE SOURCELINE
                            15174 ; 861  |
                            15175 ; 862  |//$FILENAME del_warning_no.src
                            15176 ; 863  |#define RSRC_DELETE_NO 315    
                            15177 ; 864  |//$FILENAME del_warning_yes.src
                            15178 ; 865  |#define RSRC_DELETE_YES 316    
                            15179 ; 866  |//$FILENAME del_warning_line1.src
                            15180 ; 867  |#define RSRC_WARNING_MSG_LINE1 317    
                            15181 ; 868  |//$FILENAME del_warning_line2.src
                            15182 ; 869  |#define RSRC_WARNING_MSG_LINE2 318    
                            15183 ; 870  |//$FILENAME lowbattery.src
                            15184 ; 871  |#define RSRC_BROWNOUT_BITMAP 319    
                            15185 ; 872  |//$FILENAME vbr.src
                            15186 ; 873  |#define RSRC_VBR_BITMAP 320    
                            15187 ; 874  |
                            15188 ; 875  |//$FILENAME string_song.src
                            15189 ; 876  |#define RSRC_STRING_SONG_COLON 321    
                            15190 ; 877  |//$FILENAME string_voice.src
                            15191 ; 878  |#define RSRC_STRING_VOICE_COLON 322    
                            15192 ; 879  |
                            15193 ; 880  |//$FILENAME time_date_title.src
                            15194 ; 881  |#define RSRC_TIME_DATE_TITLE 323    
                            15195 ; 882  |//$FILENAME set_time_title.src
                            15196 ; 883  |#define RSRC_SET_TIME_TITLE 324    
                            15197 ; 884  |//$FILENAME set_date_title.src
                            15198 ; 885  |#define RSRC_SET_DATE_TITLE 325    
                            15199 ; 886  |//$FILENAME string_searching.src
                            15200 ; 887  |#define RSRC_STRING_SEARCHING 326    
                            15201 ; 888  |/////////////////////////////////////////////////////////////////////////////////
                            15202 ; 889  |//  Save Changes
                            15203 ; 890  |/////////////////////////////////////////////////////////////////////////////////
                            15204 ; 891  |//$FILENAME save_changes_yes.src
                            15205 ; 892  |#define RSRC_SAVE_CHANGES_YES 327    
                            15206 ; 893  |//$FILENAME save_changes_no.src
                            15207 ; 894  |#define RSRC_SAVE_CHANGES_NO 328    
                            15208 ; 895  |//$FILENAME save_changes_cancel.src
                            15209 ; 896  |#define RSRC_SAVE_CHANGES_CANCEL 329    
                            15210 ; 897  |//$FILENAME save_changes_clear.src
                            15211 ; 898  |#define RSRC_SAVE_CHANGES_CLEAR 330    
                            15212 ; 899  |/////////////////////////////////////////////////////////////////////////////////
                            15213 ; 900  |//  Contrast
                            15214 ; 901  |/////////////////////////////////////////////////////////////////////////////////
                            15215 ; 902  |//$FILENAME contrast_title.src
                            15216 ; 903  |#define RSRC_CONTRAST_TITLE 331    
                            15217 ; 904  |//$FILENAME contrast_frame.src
                            15218 ; 905  |#define RSRC_CONTRAST_FRAME 332    
                            15219 ; 906  |//$FILENAME contrast_level0.src
                            15220 ; 907  |#define RSRC_CONTRAST_LEVEL_0 333    
                            15221 ; 908  |//$FILENAME contrast_level1.src
                            15222 ; 909  |#define RSRC_CONTRAST_LEVEL_1 334    
                            15223 ; 910  |//$FILENAME contrast_level2.src
                            15224 ; 911  |#define RSRC_CONTRAST_LEVEL_2 335    
                            15225 ; 912  |//$FILENAME contrast_level3.src
                            15226 ; 913  |#define RSRC_CONTRAST_LEVEL_3 336    
                            15227 ; 914  |//$FILENAME contrast_level4.src
                            15228 ; 915  |#define RSRC_CONTRAST_LEVEL_4 337    
                            15229 ; 916  |//$FILENAME contrast_level5.src
                            15230 ; 917  |#define RSRC_CONTRAST_LEVEL_5 338    
                            15231 ; 918  |//$FILENAME contrast_level6.src
                            15232 ; 919  |#define RSRC_CONTRAST_LEVEL_6 339    
                            15233 ; 920  |//$FILENAME contrast_level7.src
                            15234 ; 921  |#define RSRC_CONTRAST_LEVEL_7 340    
                            15235 ; 922  |//$FILENAME contrast_level8.src
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 254

M:ADDR CODE           CYCLES LINE SOURCELINE
                            15236 ; 923  |#define RSRC_CONTRAST_LEVEL_8 341    
                            15237 ; 924  |//$FILENAME contrast_level9.src
                            15238 ; 925  |#define RSRC_CONTRAST_LEVEL_9 342    
                            15239 ; 926  |//$FILENAME contrast_level10.src
                            15240 ; 927  |#define RSRC_CONTRAST_LEVEL_10 343    
                            15241 ; 928  |
                            15242 ; 929  |//////////////////////////////////////////////////////////////////////////////////////////
                                  //////////
                            15243 ; 930  |// Funclets
                            15244 ; 931  |//////////////////////////////////////////////////////////////////////////////////////////
                                  //////////
                            15245 ; 932  |//$FILENAME Funclet_SetRTC.src
                            15246 ; 933  |#define RSRC_FUNCLET_SET_RTC 344    
                            15247 ; 934  |//$FILENAME Funclet_InitRTC.src
                            15248 ; 935  |#define RSRC_FUNCLET_INIT_RTC 345    
                            15249 ; 936  |//$FILENAME Funclet_ReadRTC.src
                            15250 ; 937  |#define RSRC_FUNCLET_READ_RTC 346    
                            15251 ; 938  |//$FILENAME Funclet_SysResetAllInt.src
                            15252 ; 939  |#define RSRC_FUNCLET_SYSRESETALLINT 347    
                            15253 ; 940  |//$FILENAME Funclet_SysSetupDecVec.src
                            15254 ; 941  |#define RSRC_FUNCLET_SYSSETUPDECVEC 348    
                            15255 ; 942  |//$FILENAME Funclet_SysSetupEncVec.src
                            15256 ; 943  |#define RSRC_FUNCLET_SYSSETUPENCVEC 349    
                            15257 ; 944  |//$FILENAME Funclet_SysTimeInit.src
                            15258 ; 945  |#define RSRC_FUNCLET_SYSTIMEINIT 350    
                            15259 ; 946  |//$FILENAME Funclet_AnalogInit.src
                            15260 ; 947  |#define RSRC_FUNCLET_ANALOGINIT 351    
                            15261 ; 948  |//$FILENAME Funclet_UsbConnected.src
                            15262 ; 949  |#define RSRC_FUNCLET_USBCONNECTED 352    
                            15263 ; 950  |//$FILENAME Funclet_ButtonInit.src
                            15264 ; 951  |#define RSRC_FUNCLET_BUTTONINIT 353    
                            15265 ; 952  |//$FILENAME Funclet_PowerUpHeadPhones.src
                            15266 ; 953  |#define RSRC_FUNCLET_POWERUPHEADPHONES 354    
                            15267 ; 954  |//$FILENAME Funclet_PowerDownHeadPhones.src
                            15268 ; 955  |#define RSRC_FUNCLET_POWERDOWNHEADPHONES 355    
                            15269 ; 956  |//$FILENAME Funclet_StartProject.src
                            15270 ; 957  |#define RSRC_FUNCLET_STARTPROJECT 356    
                            15271 ; 958  |//$FILENAME Funclet_ModuleSetTimer.src
                            15272 ; 959  |#define RSRC_FUNCLET_MODULESETTIMER 357    
                            15273 ; 960  |//$FILENAME null.src
                            15274 ; 961  |#define RSRC_FUNCLET_MEDIADETECTION 358    
                            15275 ; 962  |//$FILENAME Funclet_SysStopDecoder.src
                            15276 ; 963  |#define RSRC_FUNCLET_SYSSTOPDECODER 359    
                            15277 ; 964  |//$FILENAME Funclet_SysStopEncoder.src
                            15278 ; 965  |#define RSRC_FUNCLET_SYSSTOPENCODER 360    
                            15279 ; 966  |//$FILENAME Funclet_SysSetDecoder.src
                            15280 ; 967  |#define RSRC_FUNCLET_SYSSETDECODER 361    
                            15281 ; 968  |//$FILENAME Funclet_SysSetEncoder.src
                            15282 ; 969  |#define RSRC_FUNCLET_SYSSETENCODER 362    
                            15283 ; 970  |//$FILENAME null.src
                            15284 ; 971  |#define RSRC_FUNCLET_PROCESSPT 363    
                            15285 ; 972  |//$FILENAME Funclet_DisplaySplashScreen.src
                            15286 ; 973  |#define RSRC_FUNCLET_DISPLAYSPLASHSCREEN 364    
                            15287 ; 974  |//$FILENAME Funclet_SysGetVolume.src
                            15288 ; 975  |#define RSRC_FUNCLET_SYSGETVOLUME 365    
                            15289 ; 976  |//$FILENAME null.src
                            15290 ; 977  |#define RSRC_FUNCLET_MMCENUMERATEPHYSICALDEVICE 366    
                            15291 ; 978  |//$FILENAME null.src
                            15292 ; 979  |#define RSRC_FUNCLET_RESETDEVICE 367    
                            15293 ; 980  |//$FILENAME null.src
                            15294 ; 981  |#define RSRC_FUNCLET_PROCESSCSD 368    
                            15295 ; 982  |//$FILENAME null.src
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 255

M:ADDR CODE           CYCLES LINE SOURCELINE
                            15296 ; 983  |#define RSRC_FUNCLET_PROCESSPARTITION 369    
                            15297 ; 984  |//$FILENAME null.src
                            15298 ; 985  |#define RSRC_FUNCLET_PARTITIONENTRYCOPY 370    
                            15299 ; 986  |//$FILENAME Funclet_MixerMasterFadeOut.src
                            15300 ; 987  |#define RSRC_FUNCLET_MIXER_MASTER_FADE_OUT 371    
                            15301 ; 988  |//$FILENAME Funclet_MixerMasterFadeIn.src
                            15302 ; 989  |#define RSRC_FUNCLET_MIXER_MASTER_FADE_IN 372    
                            15303 ; 990  |//$FILENAME Funclet_EncSetProperties.src
                            15304 ; 991  |#define RSRC_FUNCLET_ENCSETPROPERTIES 373    
                            15305 ; 992  |//$FILENAME null.src
                            15306 ; 993  |#define RSRC_FUNCLET_DOESMBREXIST 374    
                            15307 ; 994  |//$FILENAME null.src
                            15308 ; 995  |#define RSRC_FUNCLET_EXTRACTPARTITIONPARAMETERS 375    
                            15309 ; 996  |//$FILENAME Funclet_SaveSettings.src
                            15310 ; 997  |#define RSRC_FUNCLET_SYSSAVESETTINGS 376    
                            15311 ; 998  |//$FILENAME Funclet_LoadSettings.src
                            15312 ; 999  |#define RSRC_FUNCLET_SYSLOADSETTINGS 377    
                            15313 ; 1000 |///////////////////////////////////////////////////////////////
                            15314 ; 1001 |// Sanyo FM Tuner Fuclet
                            15315 ; 1002 |///////////////////////////////////////////////////////////////
                            15316 ; 1003 |//RSRC_FUNCLET_TUNER_DRIVER_INIT    equ      334    ;$FILENAME Funclet_TunerDriverInit.src
                                  
                            15317 ; 1004 |//RSRC_FUNCLET_TUNER_SCAN_STATIONS    equ      335    ;$FILENAME Funclet_TunerScanStations
                                  .src
                            15318 ; 1005 |//RSRC_FUNCLET_TUNER_SET_TO_PRESET    equ      336    ;$FILENAME Funclet_TunerSetToPreset.
                                  src
                            15319 ; 1006 |//RSRC_FUNCLET_TUNER_SET_MONO_STEREO    equ      337    ;$FILENAME Funclet_TunerSetMonoSte
                                  reo.src
                            15320 ; 1007 |//RSRC_FUNCLET_TUNER_SET_STANDBY    equ      338    ;$FILENAME Funclet_TunerSetStandby.src
                                  
                            15321 ; 1008 |//RSRC_FUNCLET_TUNER_SET_PRESET    equ      339    ;$FILENAME Funclet_TunerSetPreset.src
                            15322 ; 1009 |//RSRC_FUNCLET_TUNER_ERASE_PRESET    equ      340    ;$FILENAME Funclet_TunerErasePreset.s
                                  rc
                            15323 ; 1010 |//RSRC_FUNCLET_TUNER_SET_IF    equ      341    ;$FILENAME Funclet_TunerSetIf.src
                            15324 ; 1011 |//RSRC_FUNCLET_TUNER_WRITE_IF_OSC    equ      342    ;$FILENAME Funclet_TunerWriteIfOSc.sr
                                  c
                            15325 ; 1012 |//RSRC_FUNCLET_TUNER_GET_FIELD_STRENGTH    equ      343    ;$FILENAME Funclet_TunerGetFiel
                                  dStrength.src
                            15326 ; 1013 |//RSRC_FUNCLET_TUNER_INIT_RF_CAP_OSC    equ      344    ;$FILENAME Funclet_TunerInitRfCapO
                                  sc.src
                            15327 ; 1014 |//RSRC_FUNCLET_TUNER_STORE_FM_STATION    equ      345    ;$FILENAME Funclet_TunerStoreFmSt
                                  ation.src
                            15328 ; 1015 |//RSRC_FUNCLET_TUNER_STORE_FM_PRESET    equ      346    ;$FILENAME Funclet_TunerStoreFmPre
                                  set.src
                            15329 ; 1016 |//RSRC_FUNCLET_TUNER_SET_REGION    equ      347    ;$FILENAME Funclet_TunerSetRegion.src
                            15330 ; 1017 |
                            15331 ; 1018 |//////////////////////////////////////////////////////////////////////////////////////////
                                  //////////
                            15332 ; 1019 |// WMA Resources
                            15333 ; 1020 |//////////////////////////////////////////////////////////////////////////////////////////
                                  //////////
                            15334 ; 1021 |//$FILENAME wmaCore.src
                            15335 ; 1022 |#define RSRC_WMA_CORE 378    
                            15336 ; 1023 |//$FILENAME wmaMidLow.src
                            15337 ; 1024 |#define RSRC_WMA_MIDLOW 379    
                            15338 ; 1025 |//$FILENAME wmaHigh.src
                            15339 ; 1026 |#define RSRC_WMA_HIGH 380    
                            15340 ; 1027 |//$FILENAME wmaHighMid.src
                            15341 ; 1028 |#define RSRC_WMA_HIGHMID 381    
                            15342 ; 1029 |//$FILENAME wmaMid.src
                            15343 ; 1030 |#define RSRC_WMA_MID 382    
                            15344 ; 1031 |//$FILENAME wmaLow.src
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 256

M:ADDR CODE           CYCLES LINE SOURCELINE
                            15345 ; 1032 |#define RSRC_WMA_LOW 383    
                            15346 ; 1033 |//$FILENAME wmaX1mem.src
                            15347 ; 1034 |#define RSRC_WMA_DATA_X1 384    
                            15348 ; 1035 |//$FILENAME wmaYmem.src
                            15349 ; 1036 |#define RSRC_WMA_DATA_Y 385    
                            15350 ; 1037 |//$FILENAME wmaLXmem.src
                            15351 ; 1038 |#define RSRC_WMA_DATA_L_X 386    
                            15352 ; 1039 |//$FILENAME wmaLYmem.src
                            15353 ; 1040 |#define RSRC_WMA_DATA_L_Y 387    
                            15354 ; 1041 |//$FILENAME wmaHuff44Qb.src
                            15355 ; 1042 |#define RSRC_WMA_HUFF44QB 388    
                            15356 ; 1043 |//$FILENAME wmaHuff44Ob.src
                            15357 ; 1044 |#define RSRC_WMA_HUFF44OB 389    
                            15358 ; 1045 |//$FILENAME wmaHuff16Ob.src
                            15359 ; 1046 |#define RSRC_WMA_HUFF16OB 390    
                            15360 ; 1047 |//$FILENAME drmpdcommon.src
                            15361 ; 1048 |#define RSRC_DRMPD_COMMON 391    
                            15362 ; 1049 |//$FILENAME januswmasupport.src
                            15363 ; 1050 |#define RSRC_JANUS_WMASUPPORT 392    
                            15364 ; 1051 |//$FILENAME wmalicenseinit.src
                            15365 ; 1052 |#define RSRC_WMA_LICENSEINIT 393    
                            15366 ; 1053 |//$FILENAME wma_tables.src
                            15367 ; 1054 |#define RSRC_WMA_TABLES 394    
                            15368 ; 1055 |//$FILENAME janus_tables.src
                            15369 ; 1056 |#define RSRC_JANUS_TABLES 395    
                            15370 ; 1057 |//$FILENAME wma_constants.src
                            15371 ; 1058 |#define RSRC_WMA_CONSTANTS 396    
                            15372 ; 1059 |//$FILENAME janus_constants.src
                            15373 ; 1060 |#define RSRC_JANUS_CONSTANTS 397    
                            15374 ; 1061 |//$FILENAME janus_xmem.src
                            15375 ; 1062 |#define RSRC_JANUS_X 398    
                            15376 ; 1063 |//$FILENAME janusy_data.src
                            15377 ; 1064 |#define RSRC_JANUSY_DATA 399    
                            15378 ; 1065 |
                            15379 ; 1066 |//////////////////////////////////////////////////////////////////////////////////////////
                                  //////////
                            15380 ; 1067 |// Fonts -- these are last because they are very large
                            15381 ; 1068 |//////////////////////////////////////////////////////////////////////////////////////////
                                  //////////
                            15382 ; 1069 |//$FILENAME font_table.src
                            15383 ; 1070 |#define RSRC_FONT_TABLE 400    
                            15384 ; 1071 |//$FILENAME font_PGM.src
                            15385 ; 1072 |#define RSRC_PGM_8 401    
                            15386 ; 1073 |//$FILENAME font_SGMs.src
                            15387 ; 1074 |#define RSRC_SGMS_8 402    
                            15388 ; 1075 |//$FILENAME font_script_00.src
                            15389 ; 1076 |#define RSRC_SCRIPT_00_8 403    
                            15390 ; 1077 |//$FILENAME font_scripts.src
                            15391 ; 1078 |#define RSRC_SCRIPTS_8 404    
                            15392 ; 1079 |//$FILENAME font_PDM.src
                            15393 ; 1080 |#define RSRC_PDM 405    
                            15394 ; 1081 |//$FILENAME font_SDMs.src
                            15395 ; 1082 |#define RSRC_SDMS 406    
                            15396 ; 1083 |//$FILENAME bitmap_warning.src
                            15397 ; 1084 |#define RSRC_WARNING 407    
                            15398 ; 1085 |//$FILENAME bitmap_device_full.src
                            15399 ; 1086 |#define RSRC_DEVICE_FULL 408    
                            15400 ; 1087 |
                            15401 ; 1088 |
                            15402 ; 1089 |//$FILENAME lcd_controller_init.src
                            15403 ; 1090 |#define RSRC_LCD_INIT_SEQ 409    
                            15404 ; 1091 |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 257

M:ADDR CODE           CYCLES LINE SOURCELINE
                            15405 ; 1092 |//$FILENAME Funclet_DBCSToUnicode.src
                            15406 ; 1093 |#define RSRC_FUNCLET_DBCS_TO_UNICODE 410    
                            15407 ; 1094 |//$FILENAME Funclet_DBCSToUnicodeDstXSrcY.src
                            15408 ; 1095 |#define RSRC_FUNCLET_DBCS_TO_UNICODE_DSTX_SRCY 411    
                            15409 ; 1096 |//$FILENAME Funclet_LCDSetFont.src
                            15410 ; 1097 |#define RSRC_FUNCLET_SET_FONT 412    
                            15411 ; 1098 |//$FILENAME Funclet_GetTextWidthAddressUnicode.src
                            15412 ; 1099 |#define RSRC_FUNCLET_GET_TEXT_WIDTH_ADDRESS_UNICODE 413    
                            15413 ; 1100 |//$FILENAME Funclet_GetTextWidthResourceUnicode.src
                            15414 ; 1101 |#define RSRC_FUNCLET_GET_TEXT_WIDTH_RESOURCE_UNICODE 414    
                            15415 ; 1102 |//$FILENAME Funclet_GetTextWidthAddressDBCS.src
                            15416 ; 1103 |#define RSRC_FUNCLET_GET_TEXT_WIDTH_ADDRESS_DBCS 415    
                            15417 ; 1104 |//$FILENAME Funclet_GetTextWidthResourceDBCS.src
                            15418 ; 1105 |#define RSRC_FUNCLET_GET_TEXT_WIDTH_RESOURCE_DBCS 416    
                            15419 ; 1106 |//$FILENAME Funclet_ChipSerialNumberInit.src
                            15420 ; 1107 |#define RSRC_FUNCLET_CHIPSERIALNUMBERINIT 417    
                            15421 ; 1108 |//$FILENAME Funclet_InternalMediaSerialNumberInit.src
                            15422 ; 1109 |#define RSRC_FUNCLET_INTERNALMEDIASERIALNUMBERINIT 418    
                            15423 ; 1110 |//$FILENAME Funclet_ChipGetSerialNumber.src
                            15424 ; 1111 |#define RSRC_FUNCLET_CHIPGETSERIALNUMBER 419    
                            15425 ; 1112 |//$FILENAME Funclet_CreateNullSerialNumber.src
                            15426 ; 1113 |#define RSRC_FUNCLET_CREATENULLSERIALNUMBER 420    
                            15427 ; 1114 |//$FILENAME Funclet_ConvertHexToASCII.src
                            15428 ; 1115 |#define RSRC_FUNCLET_CONVERTHEXTOASCII 421    
                            15429 ; 1116 |//$FILENAME Funclet_LowResolutionAdcInit.src
                            15430 ; 1117 |#define RSRC_FUNCLET_LOWRESOLUTIONADCINIT 422    
                            15431 ; 1118 |
                            15432 ; 1119 |
                            15433 ; 1120 |//$FILENAME sysrecord.src
                            15434 ; 1121 |#define RSRC_SYSRECORD_CODE 423    
                            15435 ; 1122 |
                            15436 ; 1123 |//$FILENAME string_record_settings.src
                            15437 ; 1124 |#define RSRC_STRING_RECORD_SETTINGS 424    
                            15438 ; 1125 |//$FILENAME string_sample_rate.src
                            15439 ; 1126 |#define RSRC_STRING_SAMPLE_RATE 425    
                            15440 ; 1127 |//$FILENAME string_encoder.src
                            15441 ; 1128 |#define RSRC_STRING_ENCODER 426    
                            15442 ; 1129 |//$FILENAME string_adpcm.src
                            15443 ; 1130 |#define RSRC_STRING_ADPCM 427    
                            15444 ; 1131 |//$FILENAME string_msadpcm.src
                            15445 ; 1132 |#define RSRC_STRING_MSADPCM 428    
                            15446 ; 1133 |//$FILENAME string_imadpcm.src
                            15447 ; 1134 |#define RSRC_STRING_IMADPCM 429    
                            15448 ; 1135 |//$FILENAME string_pcm.src
                            15449 ; 1136 |#define RSRC_STRING_PCM 430    
                            15450 ; 1137 |//$FILENAME string_internal.src
                            15451 ; 1138 |#define RSRC_STRING_INTERNAL 431    
                            15452 ; 1139 |//$FILENAME string_external.src
                            15453 ; 1140 |#define RSRC_STRING_EXTERNAL 432    
                            15454 ; 1141 |//$FILENAME string_device.src
                            15455 ; 1142 |#define RSRC_STRING_DEVICE 433    
                            15456 ; 1143 |//$FILENAME string_source.src
                            15457 ; 1144 |#define RSRC_STRING_SOURCE 434    
                            15458 ; 1145 |//$FILENAME string_microphone.src
                            15459 ; 1146 |#define RSRC_STRING_MICROPHONE 435    
                            15460 ; 1147 |//$FILENAME string_linein.src
                            15461 ; 1148 |#define RSRC_STRING_LINEIN 436    
                            15462 ; 1149 |//$FILENAME string_bits.src
                            15463 ; 1150 |#define RSRC_STRING_BITS 437    
                            15464 ; 1151 |//$FILENAME string_4.src
                            15465 ; 1152 |#define RSRC_STRING_4 438    
                            15466 ; 1153 |//$FILENAME string_8.src
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 258

M:ADDR CODE           CYCLES LINE SOURCELINE
                            15467 ; 1154 |#define RSRC_STRING_8 439    
                            15468 ; 1155 |//$FILENAME string_16.src
                            15469 ; 1156 |#define RSRC_STRING_16 440    
                            15470 ; 1157 |//$FILENAME string_24.src
                            15471 ; 1158 |#define RSRC_STRING_24 441    
                            15472 ; 1159 |//$FILENAME string_fm.src
                            15473 ; 1160 |#define RSRC_STRING_FM 442    
                            15474 ; 1161 |//$FILENAME string_mono.src
                            15475 ; 1162 |#define RSRC_STRING_MONO 443    
                            15476 ; 1163 |//$FILENAME string_stereo.src
                            15477 ; 1164 |#define RSRC_STRING_STEREO 444    
                            15478 ; 1165 |//$FILENAME string_8000hz.src
                            15479 ; 1166 |#define RSRC_STRING_8000HZ 445    
                            15480 ; 1167 |//$FILENAME string_11025hz.src
                            15481 ; 1168 |#define RSRC_STRING_11025HZ 446    
                            15482 ; 1169 |//$FILENAME string_16000hz.src
                            15483 ; 1170 |#define RSRC_STRING_16000HZ 447    
                            15484 ; 1171 |//$FILENAME string_22050hz.src
                            15485 ; 1172 |#define RSRC_STRING_22050HZ 448    
                            15486 ; 1173 |//$FILENAME string_32000hz.src
                            15487 ; 1174 |#define RSRC_STRING_32000HZ 449    
                            15488 ; 1175 |//$FILENAME string_44100hz.src
                            15489 ; 1176 |#define RSRC_STRING_44100HZ 450    
                            15490 ; 1177 |//$FILENAME string_48000hz.src
                            15491 ; 1178 |#define RSRC_STRING_48000HZ 451    
                            15492 ; 1179 |//$FILENAME string_channels.src
                            15493 ; 1180 |#define RSRC_STRING_CHANNELS 452    
                            15494 ; 1181 |//$FILENAME string_spaces.src
                            15495 ; 1182 |#define RSRC_STRING_SPACES 453    
                            15496 ; 1183 |//$FILENAME slider_bar.src
                            15497 ; 1184 |#define RSRC_SLIDER_BAR 454    
                            15498 ; 1185 |//$FILENAME slider_bar_inv.src
                            15499 ; 1186 |#define RSRC_SLIDER_BAR_INV 455    
                            15500 ; 1187 |//$FILENAME slider_track.src
                            15501 ; 1188 |#define RSRC_SLIDER_TRACK 456    
                            15502 ; 1189 |//$FILENAME string_no_files.src
                            15503 ; 1190 |#define RSRC_STRING_NO_FILES 457    
                            15504 ; 1191 |
                            15505 ; 1192 |/////////////////////////////////////////////////////////////////////
                            15506 ; 1193 |//  Time and Date Resource Strings
                            15507 ; 1194 |/////////////////////////////////////////////////////////////////////
                            15508 ; 1195 |//$FILENAME string_sunday.src
                            15509 ; 1196 |#define RSRC_STRING_SUNDAY 458    
                            15510 ; 1197 |//$FILENAME string_monday.src
                            15511 ; 1198 |#define RSRC_STRING_MONDAY 459    
                            15512 ; 1199 |//$FILENAME string_tuesday.src
                            15513 ; 1200 |#define RSRC_STRING_TUESDAY 460    
                            15514 ; 1201 |//$FILENAME string_wednesday.src
                            15515 ; 1202 |#define RSRC_STRING_WEDNESDAY 461    
                            15516 ; 1203 |//$FILENAME string_thursday.src
                            15517 ; 1204 |#define RSRC_STRING_THURSDAY 462    
                            15518 ; 1205 |//$FILENAME string_friday.src
                            15519 ; 1206 |#define RSRC_STRING_FRIDAY 463    
                            15520 ; 1207 |//$FILENAME string_saturday.src
                            15521 ; 1208 |#define RSRC_STRING_SATURDAY 464    
                            15522 ; 1209 |//$FILENAME string_am.src
                            15523 ; 1210 |#define RSRC_STRING_AM 465    
                            15524 ; 1211 |//$FILENAME string_pm.src
                            15525 ; 1212 |#define RSRC_STRING_PM 466    
                            15526 ; 1213 |//$FILENAME string_amclear.src
                            15527 ; 1214 |#define RSRC_STRING_AMCLEAR 467    
                            15528 ; 1215 |//$FILENAME string_slash.src
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 259

M:ADDR CODE           CYCLES LINE SOURCELINE
                            15529 ; 1216 |#define RSRC_STRING_SLASH 468    
                            15530 ; 1217 |//$FILENAME string_colon.src
                            15531 ; 1218 |#define RSRC_STRING_COLON 469    
                            15532 ; 1219 |//$FILENAME string_12hour.src
                            15533 ; 1220 |#define RSRC_STRING_12HOUR 470    
                            15534 ; 1221 |//$FILENAME string_24hour.src
                            15535 ; 1222 |#define RSRC_STRING_24HOUR 471    
                            15536 ; 1223 |//$FILENAME string_format.src
                            15537 ; 1224 |#define RSRC_STRING_FORMAT 472    
                            15538 ; 1225 |//$FILENAME string_mmddyyyy.src
                            15539 ; 1226 |#define RSRC_STRING_MMDDYYYY 473    
                            15540 ; 1227 |//$FILENAME string_ddmmyyyy.src
                            15541 ; 1228 |#define RSRC_STRING_DDMMYYYY 474    
                            15542 ; 1229 |//$FILENAME string_yyyymmdd.src
                            15543 ; 1230 |#define RSRC_STRING_YYYYMMDD 475    
                            15544 ; 1231 |//$FILENAME string_ok.src
                            15545 ; 1232 |#define RSRC_STRING_OK 476    
                            15546 ; 1233 |//$FILENAME string_cancel.src
                            15547 ; 1234 |#define RSRC_STRING_CANCEL 477    
                            15548 ; 1235 |//$FILENAME negative_sign.src
                            15549 ; 1236 |#define RSRC_NEGATIVE_SIGN 478    
                            15550 ; 1237 |//$FILENAME string_dec_pt5.src
                            15551 ; 1238 |#define RSRC_DEC_PT5_STRING 479    
                            15552 ; 1239 |//$FILENAME string_dec_pt0.src
                            15553 ; 1240 |#define RSRC_DEC_PT0_STRING 480    
                            15554 ; 1241 |//$FILENAME string_db.src
                            15555 ; 1242 |#define RSRC_DB_STRING 481    
                            15556 ; 1243 |//$FILENAME string_hz2.src
                            15557 ; 1244 |#define RSRC_HZ2_STRING 482    
                            15558 ; 1245 |
                            15559 ; 1246 |
                            15560 ; 1247 |//$FILENAME record_settings_menu_code_bank.src
                            15561 ; 1248 |#define RSRC_RECORD_SETTINGS_MENU_CODE_BANK 483    
                            15562 ; 1249 |//$FILENAME metadata_codebank.src
                            15563 ; 1250 |#define RSRC_METADATA_CODEBANK 484    
                            15564 ; 1251 |//$FILENAME mp3metadata_codebank.src
                            15565 ; 1252 |#define RSRC_MP3_METADATA_CODEBANK 485    
                            15566 ; 1253 |//$FILENAME wmametadata_codebank.src
                            15567 ; 1254 |#define RSRC_WMA_METADATA_CODEBANK 486    
                            15568 ; 1255 |//$FILENAME wavmetadata_codebank.src
                            15569 ; 1256 |#define RSRC_WAV_METADATA_CODEBANK 487    
                            15570 ; 1257 |//$FILENAME smvmetadata_codebank.src
                            15571 ; 1258 |#define RSRC_SMV_METADATA_CODEBANK 488    
                            15572 ; 1259 |//$FILENAME playlist2init_codebank.src
                            15573 ; 1260 |#define RSRC_PLAYLIST2INIT_CODEBANK 489    
                            15574 ; 1261 |
                            15575 ; 1262 |//$FILENAME delete_successful.src
                            15576 ; 1263 |#define RSRC_DELETE_SUCCESSFUL 490    
                            15577 ; 1264 |//$FILENAME delete_error.src
                            15578 ; 1265 |#define RSRC_DELETE_ERROR 491    
                            15579 ; 1266 |//$FILENAME lic_expired.src
                            15580 ; 1267 |#define RSRC_LIC_EXPIRED 492    
                            15581 ; 1268 |//$FILENAME id3v2_codebank.src
                            15582 ; 1269 |#define RSRC_ID3V2_CODEBANK 493    
                            15583 ; 1270 |//$FILENAME id3v2lyrics_codebank.src
                            15584 ; 1271 |#define RSRC_ID3V2_LYRICS_CODEBANK 494    
                            15585 ; 1272 |//$FILENAME lyrics3_codebank.src
                            15586 ; 1273 |#define RSRC_LYRICS3_CODEBANK 495    
                            15587 ; 1274 |//$FILENAME lrc_codebank.src
                            15588 ; 1275 |#define RSRC_LRC_CODEBANK 496    
                            15589 ; 1276 |//$FILENAME lyrics_api_codebank.src
                            15590 ; 1277 |#define RSRC_LYRICS_API_CODEBANK 497    
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 260

M:ADDR CODE           CYCLES LINE SOURCELINE
                            15591 ; 1278 |//$FILENAME wmalyrics_codebank.src
                            15592 ; 1279 |#define RSRC_WMA_LYRICS_CODEBANK 498    
                            15593 ; 1280 |//$FILENAME apicframe_codebank.src
                            15594 ; 1281 |#define RSRC_APIC_FRAME_CODEBANK 499    
                            15595 ; 1282 |
                            15596 ; 1283 |//$FILENAME exmediaerror1.src
                            15597 ; 1284 |#define RSRC_EXTERNAL_MEDIA_ERROR1 500    
                            15598 ; 1285 |//$FILENAME exmediaerror2.src
                            15599 ; 1286 |#define RSRC_EXTERNAL_MEDIA_ERROR2 501    
                            15600 ; 1287 |//$FILENAME inmediaerror1.src
                            15601 ; 1288 |#define RSRC_INTERNAL_MEDIA_ERROR1 502    
                            15602 ; 1289 |
                            15603 ; 1290 |//$FILENAME backlight_title.src
                            15604 ; 1291 |#define RSRC_BACKLIGHT_TITLE 503    
                            15605 ; 1292 |//$FILENAME backlight_state_on.src
                            15606 ; 1293 |#define RSRC_BACKLIGHT_STATE_ON 504    
                            15607 ; 1294 |//$FILENAME backlight_state_off.src
                            15608 ; 1295 |#define RSRC_BACKLIGHT_STATE_OFF 505    
                            15609 ; 1296 |//$FILENAME backlightmenu.src
                            15610 ; 1297 |#define RSRC_BACKLIGHT_MENU_CODE_BANK 506    
                            15611 ; 1298 |//$FILENAME string_backlight_menu.src
                            15612 ; 1299 |#define RSRC_STRING_BACKLIGHT_MENU 507    
                            15613 ; 1300 |
                            15614 ; 1301 |//$FILENAME enc_mp3mod.src
                            15615 ; 1302 |#define RSRC_ENC_MP3_MOD_CODE 508    
                            15616 ; 1303 |//$FILENAME enc_mp3p.src
                            15617 ; 1304 |#define RSRC_ENC_MP3P_CODE 509    
                            15618 ; 1305 |//$FILENAME enc_mp3x.src
                            15619 ; 1306 |#define RSRC_ENC_MP3X_CODE 510    
                            15620 ; 1307 |//$FILENAME enc_mp3y.src
                            15621 ; 1308 |#define RSRC_ENC_MP3Y_CODE 511    
                            15622 ; 1309 |//$FILENAME mp3_implementation.src
                            15623 ; 1310 |#define RSRC_MP3_IMPLEMENTATION 512    
                            15624 ; 1311 |//$FILENAME string_mp3.src
                            15625 ; 1312 |#define RSRC_STRING_MP3 513    
                            15626 ; 1313 |//$FILENAME string_all.src
                            15627 ; 1314 |#define RSRC_STRING_ALL 514    
                            15628 ; 1315 |
                            15629 ; 1316 |//$FILENAME mediastartup.src
                            15630 ; 1317 |#define RSRC_NANDMEDIAINIT 515    
                            15631 ; 1318 |#define RSRC_NANDMEDIAALLOCATE 0
                            15632 ; 1319 |#define RSRC_NANDMEDIADISCOVERALLOCATION 0
                            15633 ; 1320 |#define RSRC_NANDMEDIAGETMEDIATABLE RSRC_NANDMEDIAINIT
                            15634 ; 1321 |#define RSRC_NANDMEDIAGETINFO RSRC_NANDMEDIAINIT
                            15635 ; 1322 |#define RSRC_NANDMEDIAERASE 0
                            15636 ; 1323 |
                            15637 ; 1324 |//$FILENAME nanddatadriveinit.src
                            15638 ; 1325 |#define RSRC_NANDDATADRIVEINIT 516    
                            15639 ; 1326 |#define RSRC_NANDDATADRIVEGETINFO RSRC_NANDDATADRIVEREADSECTOR
                            15640 ; 1327 |#define RSRC_NANDDATADRIVESETINFO 0
                            15641 ; 1328 |//$FILENAME nanddatadrivereadsector.src
                            15642 ; 1329 |#define RSRC_NANDDATADRIVEREADSECTOR 517    
                            15643 ; 1330 |#define RSRC_NANDDATADRIVEWRITESECTOR RSRC_NANDDATADRIVEREADSECTOR
                            15644 ; 1331 |#define RSRC_NANDDATADRIVEDUMBMULTIWRITESETUP 0
                            15645 ; 1332 |#define RSRC_NANDDATADRIVEDUMBMULTIWRITESECTOR 0
                            15646 ; 1333 |#define RSRC_NANDDATADRIVECACHEMULTIWRITESETUP 0
                            15647 ; 1334 |#define RSRC_NANDDATADRIVECACHEMULTIWRITESECTOR 0
                            15648 ; 1335 |#define RSRC_NANDDATADRIVEERASE 0
                            15649 ; 1336 |#define RSRC_NANDDATADRIVEFLUSH RSRC_NANDDATADRIVEREADSECTOR
                            15650 ; 1337 |
                            15651 ; 1338 |#define RSRC_NANDSYSTEMDRIVEINIT RSRC_NANDMEDIAINIT
                            15652 ; 1339 |#define RSRC_NANDSYSTEMDRIVEGETINFO RSRC_NANDMEDIAINIT
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 261

M:ADDR CODE           CYCLES LINE SOURCELINE
                            15653 ; 1340 |#define RSRC_NANDSYSTEMDRIVESETINFO 0
                            15654 ; 1341 |#define RSRC_NANDSYSTEMDRIVEREADSECTOR 0
                            15655 ; 1342 |#define RSRC_NANDSYSTEMDRIVEWRITESECTOR 0
                            15656 ; 1343 |#define RSRC_NANDSYSTEMDRIVEMULTIWRITESETUP 0
                            15657 ; 1344 |#define RSRC_NANDSYSTEMDRIVEMULTIWRITESECTOR 0
                            15658 ; 1345 |#define RSRC_NANDSYSTEMDRIVEERASE 0
                            15659 ; 1346 |#define RSRC_NANDSYSTEMDRIVEFLUSH 0
                            15660 ; 1347 |
                            15661 ; 1348 |//$FILENAME vbr_codebank.src
                            15662 ; 1349 |#define RSRC_VBR_CODEBANK 518    
                            15663 ; 1350 |
                            15664 ; 1351 |//$FILENAME string_recordtest_menu.src
                            15665 ; 1352 |#define RSRC_STRING_RECORDTEST_MENU 519    
                            15666 ; 1353 |//$FILENAME string_recordtest_duration.src
                            15667 ; 1354 |#define RSRC_STRING_DURATION 520    
                            15668 ; 1355 |//$FILENAME string_recordtest_time5.src
                            15669 ; 1356 |#define RSRC_STRING_TIME5 521    
                            15670 ; 1357 |//$FILENAME string_recordtest_time10.src
                            15671 ; 1358 |#define RSRC_STRING_TIME10 522    
                            15672 ; 1359 |//$FILENAME string_recordtest_time30.src
                            15673 ; 1360 |#define RSRC_STRING_TIME30 523    
                            15674 ; 1361 |//$FILENAME string_recordtest_time60.src
                            15675 ; 1362 |#define RSRC_STRING_TIME60 524    
                            15676 ; 1363 |//$FILENAME string_recordtest_time300.src
                            15677 ; 1364 |#define RSRC_STRING_TIME300 525    
                            15678 ; 1365 |//$FILENAME string_recordtest_time600.src
                            15679 ; 1366 |#define RSRC_STRING_TIME600 526    
                            15680 ; 1367 |
                            15681 ; 1368 |//$FILENAME test_title.src
                            15682 ; 1369 |#define RSRC_TEST_TITLE 527    
                            15683 ; 1370 |//$FILENAME testmenu.src
                            15684 ; 1371 |#define RSRC_TEST_MENU_CODE_BANK 528    
                            15685 ; 1372 |
                            15686 ; 1373 |
                            15687 ; 1374 |//$FILENAME mmcmediastartup.src
                            15688 ; 1375 |#define RSRC_MMCDATADRIVEINIT 529    
                            15689 ; 1376 |#define RSRC_MMCMEDIAALLOCATE RSRC_MMCDATADRIVEINIT
                            15690 ; 1377 |#define RSRC_MMCMEDIADISCOVERALLOCATION RSRC_MMCDATADRIVEINIT
                            15691 ; 1378 |//$FILENAME mmcinfo.src
                            15692 ; 1379 |#define RSRC_MMCMEDIAGETINFO 530    
                            15693 ; 1380 |#define RSRC_MMCMEDIAGETMEDIATABLE RSRC_MMCMEDIAGETINFO
                            15694 ; 1381 |//$FILENAME mmcerase.src
                            15695 ; 1382 |#define RSRC_MMCMEDIAERASE 531    
                            15696 ; 1383 |
                            15697 ; 1384 |
                            15698 ; 1385 |#define RSRC_MMCDATADRIVEFLUSH RSRC_MMCDATADRIVEINIT
                            15699 ; 1386 |
                            15700 ; 1387 |//$FILENAME mmcenumerate.src
                            15701 ; 1388 |#define RSRC_MMCENUMERATE 532    
                            15702 ; 1389 |//$FILENAME mmcresetdevice.src
                            15703 ; 1390 |#define RSRC_MMC_RESETDEVICE 533    
                            15704 ; 1391 |//$FILENAME mmcprocesscsd.src
                            15705 ; 1392 |#define RSRC_MMC_PROCESSCSD 534    
                            15706 ; 1393 |//$FILENAME mmcprocesscid.src
                            15707 ; 1394 |#define RSRC_MMC_PROCESSCID 535    
                            15708 ; 1395 |//$FILENAME mmcprocesscid2.src
                            15709 ; 1396 |#define RSRC_FUNCLET_MMCPROCESSCID2 536    
                            15710 ; 1397 |//$FILENAME mmcdetectpresence.src
                            15711 ; 1398 |#define RSRC_MMC_DETECTPRESENCE 537    
                            15712 ; 1399 |//$FILENAME mmcserialnumberinit.src
                            15713 ; 1400 |#define RSRC_MMCSERIALNUMBERINIT 538    
                            15714 ; 1401 |//$FILENAME mmccheckwriteprotect.src
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 262

M:ADDR CODE           CYCLES LINE SOURCELINE
                            15715 ; 1402 |#define RSRC_MMC_CHECKWRITEPROTECT 539    
                            15716 ; 1403 |
                            15717 ; 1404 |//$FILENAME mmcread.src
                            15718 ; 1405 |#define RSRC_MMCDATADRIVEREADSECTOR 540    
                            15719 ; 1406 |//$FILENAME mmcmediainit.src
                            15720 ; 1407 |#define RSRC_MMCMEDIAINIT 541    
                            15721 ; 1408 |//$FILENAME mmcdatadriveinfo.src
                            15722 ; 1409 |#define RSRC_MMCDATADRIVESETINFO 542    
                            15723 ; 1410 |#define RSRC_MMCDATADRIVEGETINFO RSRC_MMCDATADRIVESETINFO
                            15724 ; 1411 |//$FILENAME mmcdatadriveerase.src
                            15725 ; 1412 |#define RSRC_MMCDATADRIVEERASE 543    
                            15726 ; 1413 |
                            15727 ; 1414 |#define RSRC_MMCDATADRIVEWRITESECTOR RSRC_MMCDATADRIVEREADSECTOR
                            15728 ; 1415 |#define RSRC_MMCDATADRIVEMULTIWRITESETUP RSRC_MMCDATADRIVEWRITESECTOR
                            15729 ; 1416 |#define RSRC_MMCDATADRIVEMULTIWRITESECTOR RSRC_MMCDATADRIVEWRITESECTOR
                            15730 ; 1417 |
                            15731 ; 1418 |
                            15732 ; 1419 |/////////////////////////////////////////////////////////////////////////////////
                            15733 ; 1420 |//  File system
                            15734 ; 1421 |/////////////////////////////////////////////////////////////////////////////////
                            15735 ; 1422 |//$FILENAME arrangefilename.src
                            15736 ; 1423 |#define RSRC_FUNCLET_ARRANGEFILENAME 544    
                            15737 ; 1424 |//$FILENAME clearcluster.src
                            15738 ; 1425 |#define RSRC_FUNCLET_CLEARCLUSTER 545    
                            15739 ; 1426 |//$FILENAME createdirectory.src
                            15740 ; 1427 |#define RSRC_FUNCLET_CREATEDIRECTORY 546    
                            15741 ; 1428 |//$FILENAME deletecontent.src
                            15742 ; 1429 |#define RSRC_FUNCLET_DELETECONTENT 547    
                            15743 ; 1430 |//$FILENAME deleterecord.src
                            15744 ; 1431 |#define RSRC_FUNCLET_DELETERECORD 548    
                            15745 ; 1432 |//$FILENAME fastopen.src
                            15746 ; 1433 |#define RSRC_FUNCLET_FASTOPEN 549    
                            15747 ; 1434 |//$FILENAME fcreate.src
                            15748 ; 1435 |#define RSRC_FUNCLET_FCREATE 550    
                            15749 ; 1436 |//$FILENAME filegetattrib.src
                            15750 ; 1437 |#define RSRC_FUNCLET_FILEGETATTRIB 551    
                            15751 ; 1438 |//$FILENAME filegetdate.src
                            15752 ; 1439 |#define RSRC_FUNCLET_FILEGETDATE 552    
                            15753 ; 1440 |//$FILENAME filesetattrib.src
                            15754 ; 1441 |#define RSRC_FUNCLET_FILESETATTRIB 553    
                            15755 ; 1442 |//$FILENAME filesetdate.src
                            15756 ; 1443 |#define RSRC_FUNCLET_FILESETDATE 554    
                            15757 ; 1444 |//$FILENAME fsinit.src
                            15758 ; 1445 |#define RSRC_FUNCLET_FSINIT 555    
                            15759 ; 1446 |//$FILENAME fsshutdown.src
                            15760 ; 1447 |#define RSRC_FUNCLET_FSSHUTDOWN 556    
                            15761 ; 1448 |//$FILENAME readdevicerecord.src
                            15762 ; 1449 |#define RSRC_FUNCLET_READDEVICERECORD 557    
                            15763 ; 1450 |//$FILENAME checkspaceinrootdir.src
                            15764 ; 1451 |#define RSRC_FUNCLET_CHECKSPACEINROOTDIR 558    
                            15765 ; 1452 |//$FILENAME setcwdhandle.src
                            15766 ; 1453 |#define RSRC_FUNCLET_SETCWDHANDLE 559    
                            15767 ; 1454 |//$FILENAME fsdriveinit.src
                            15768 ; 1455 |#define RSRC_FUNCLET_FSDRIVEINIT 560    
                            15769 ; 1456 |//$FILENAME fsclearBuf.src
                            15770 ; 1457 |#define RSRC_FUNCLET_FSCLEARDRIVEBUF 561    
                            15771 ; 1458 |//RSRC_FUNCLET_TOTALFREECLUSTER    equ      328    ;$FILENAME totalfreecluster.src
                            15772 ; 1459 |//RSRC_FUNCLET_TOTALFREECLUSTERFAT16    equ      328    ;$FILENAME totalfreeclusterfat16.s
                                  rc
                            15773 ; 1460 |//$FILENAME fgetfasthandle.src
                            15774 ; 1461 |#define RSRC_FUNCLET_FGETFASTHANDLE 562    
                            15775 ; 1462 |//$FILENAME ishandlewriteallocated.src
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 263

M:ADDR CODE           CYCLES LINE SOURCELINE
                            15776 ; 1463 |#define RSRC_FUNCLET_ISHANDLEWRITEALLOCATED 563    
                            15777 ; 1464 |//$FILENAME isfileopen.src
                            15778 ; 1465 |#define RSRC_FUNCLET_ISFILEOPEN 564    
                            15779 ; 1466 |//$FILENAME iscurrworkdir.src
                            15780 ; 1467 |#define RSRC_FUNCLET_ISCURRWORKDIR 565    
                            15781 ; 1468 |//$FILENAME chdir.src
                            15782 ; 1469 |#define RSRC_FUNCLET_CHDIR 566    
                            15783 ; 1470 |//$FILENAME chdirFromOffset.src
                            15784 ; 1471 |#define RSRC_FUNCLET_CHDIR_FROM_OFFSET 567    
                            15785 ; 1472 |//$FILENAME deletetree.src
                            15786 ; 1473 |#define RSRC_FUNCLET_DELETETREE 568    
                            15787 ; 1474 |//$FILENAME deleteallrecords.src
                            15788 ; 1475 |#define RSRC_FUNCLET_DELETEALLRECORDS 569    
                            15789 ; 1476 |//$FILENAME cleardata.src
                            15790 ; 1477 |#define RSRC_FUNCLET_CLEARDATA 570    
                            15791 ; 1478 |//$FILENAME changetolowleveldir.src
                            15792 ; 1479 |#define RSRC_FUNCLET_CHANGETOLOWLEVELDIR 571    
                            15793 ; 1480 |//$FILENAME getrecordnumber.src
                            15794 ; 1481 |#define RSRC_FUNCLET_GETRECORDNUMBER 572    
                            15795 ; 1482 |//$FILENAME fileremove.src
                            15796 ; 1483 |#define RSRC_FUNCLET_FILEREMOVE 573    
                            15797 ; 1484 |//$FILENAME charactersearch.src
                            15798 ; 1485 |#define RSRC_FUNCLET_CHARACTERSEARCH 574    
                            15799 ; 1486 |//$FILENAME stringcompare.src
                            15800 ; 1487 |#define RSRC_FUNCLET_STRINGCOMPARE 575    
                            15801 ; 1488 |//$FILENAME fopenw.src
                            15802 ; 1489 |#define RSRC_FUNCLET_FOPENW 576    
                            15803 ; 1490 |//$FILENAME fremove.src
                            15804 ; 1491 |#define RSRC_FUNCLET_FREMOVE 577    
                            15805 ; 1492 |//$FILENAME fremovew.src
                            15806 ; 1493 |#define RSRC_FUNCLET_FREMOVEW 578    
                            15807 ; 1494 |//$FILENAME mkdir.src
                            15808 ; 1495 |#define RSRC_FUNCLET_MKDIR 579    
                            15809 ; 1496 |//$FILENAME mkdirw.src
                            15810 ; 1497 |#define RSRC_FUNCLET_MKDIRW 580    
                            15811 ; 1498 |//$FILENAME rmdir.src
                            15812 ; 1499 |#define RSRC_FUNCLET_RMDIR 581    
                            15813 ; 1500 |//$FILENAME rmdirw.src
                            15814 ; 1501 |#define RSRC_FUNCLET_RMDIRW 582    
                            15815 ; 1502 |//$FILENAME fgetc.src
                            15816 ; 1503 |#define RSRC_FUNCLET_FGETC 583    
                            15817 ; 1504 |//$FILENAME fgets.src
                            15818 ; 1505 |#define RSRC_FUNCLET_FGETS 584    
                            15819 ; 1506 |//$FILENAME fputc.src
                            15820 ; 1507 |#define RSRC_FUNCLET_FPUTC 585    
                            15821 ; 1508 |//$FILENAME fputs.src
                            15822 ; 1509 |#define RSRC_FUNCLET_FPUTS 586    
                            15823 ; 1510 |//$FILENAME arrangelongfilename.src
                            15824 ; 1511 |#define RSRC_FUNCLET_ARRANGELONGFILENAME 587    
                            15825 ; 1512 |//$FILENAME convert_itoa.src
                            15826 ; 1513 |#define RSRC_FUNCLET_CONVERT_ITOA 588    
                            15827 ; 1514 |//$FILENAME createdirrecord.src
                            15828 ; 1515 |#define RSRC_FUNCLET_CREATEDIRRECORD 589    
                            15829 ; 1516 |//$FILENAME chksum.src
                            15830 ; 1517 |#define RSRC_FUNCLET_CHKSUM 590    
                            15831 ; 1518 |//$FILENAME createshortdirrecord.src
                            15832 ; 1519 |#define RSRC_FUNCLET_CREATESHORTDIRRECORD 591    
                            15833 ; 1520 |//$FILENAME discardtrailigperiodsucs3.src
                            15834 ; 1521 |#define RSRC_FUNCLET_DISCARDTRAILIGPERIODSUCS3 592    
                            15835 ; 1522 |//$FILENAME discardtrailigperiodsw.src
                            15836 ; 1523 |#define RSRC_FUNCLET_DISCARDTRAILIGPERIODSW 593    
                            15837 ; 1524 |//$FILENAME extractfilenamew.src
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 264

M:ADDR CODE           CYCLES LINE SOURCELINE
                            15838 ; 1525 |#define RSRC_FUNCLET_EXTRACTFILENAMEW 594    
                            15839 ; 1526 |//$FILENAME extractpathw.src
                            15840 ; 1527 |#define RSRC_FUNCLET_EXTRACTPATHW 595    
                            15841 ; 1528 |//$FILENAME findfreerecord.src
                            15842 ; 1529 |#define RSRC_FUNCLET_FINDFREERECORD 596    
                            15843 ; 1530 |//$FILENAME getnamew.src
                            15844 ; 1531 |#define RSRC_FUNCLET_GETNAMEW 597    
                            15845 ; 1532 |//$FILENAME isdirectoryempty.src
                            15846 ; 1533 |#define RSRC_FUNCLET_ISDIRECTORYEMPTY 598    
                            15847 ; 1534 |//$FILENAME isshortnamevalid.src
                            15848 ; 1535 |#define RSRC_FUNCLET_ISSHORTNAMEVALID 599    
                            15849 ; 1536 |//$FILENAME longdirmatch.src
                            15850 ; 1537 |#define RSRC_FUNCLET_LONGDIRMATCH 600    
                            15851 ; 1538 |//$FILENAME unicodetooem.src
                            15852 ; 1539 |#define RSRC_FUNCLET_UNICODETOOEM 601    
                            15853 ; 1540 |//$FILENAME matchdirrecordw.src
                            15854 ; 1541 |#define RSRC_FUNCLET_MATCHDIRRECORDW 602    
                            15855 ; 1542 |//$FILENAME setcwd.src
                            15856 ; 1543 |#define RSRC_FUNCLET_SETCWD 603    
                            15857 ; 1544 |//$FILENAME setshortfilename.src
                            15858 ; 1545 |#define RSRC_FUNCLET_SETSHORTFILENAME 604    
                            15859 ; 1546 |//$FILENAME generatefilenametail.src
                            15860 ; 1547 |#define RSRC_FUNCLET_GENERATEFILENAMETAIL 605    
                            15861 ; 1548 |//$FILENAME dbcstounicode.src
                            15862 ; 1549 |#define RSRC_FUNCLET_DBCSTOUNICODE 606    
                            15863 ; 1550 |//$FILENAME strcpy.src
                            15864 ; 1551 |#define RSRC_FUNCLET_STRCPY 607    
                            15865 ; 1552 |//$FILENAME strcpyw.src
                            15866 ; 1553 |#define RSRC_FUNCLET_STRCPYW 608    
                            15867 ; 1554 |//$FILENAME strlengthw.src
                            15868 ; 1555 |#define RSRC_FUNCLET_STRLENGTHW 609    
                            15869 ; 1556 |//$FILENAME filesystempresent.src
                            15870 ; 1557 |#define RSRC_FUNCLET_FILESYSTEMPRESENT 610    
                            15871 ; 1558 |//$FILENAME DataDriveInit.src
                            15872 ; 1559 |#define RSRC_FUNCLET_DATADRIVEINIT 611    
                            15873 ; 1560 |//$FILENAME FSGetDataDrivePbsLocation.src
                            15874 ; 1561 |#define RSRC_FUNCLET_FSGETDATADRIVEPBSLOCATION 612    
                            15875 ; 1562 |//$FILENAME FSPartitionEntryCopy.src
                            15876 ; 1563 |#define RSRC_FUNCLET_FSPARTITIONENTRYCOPYFSDD 613    
                            15877 ; 1564 |//$FILENAME DataDriveGetSize.src
                            15878 ; 1565 |#define RSRC_FUNCLET_DATADRIVEGETSIZE 614    
                            15879 ; 1566 |//$FILENAME ConstructLongFileName.src
                            15880 ; 1567 |#define RSRC_FUNCLET_CONSTRUCTLONGFILENAME 615    
                            15881 ; 1568 |//$FILENAME strcpyucs3_2.src
                            15882 ; 1569 |#define RSRC_FUNCLET_STRCPYUCS3_2 616    
                            15883 ; 1570 |//$FILENAME getvolumelabel.src
                            15884 ; 1571 |#define RSRC_FUNCLET_GETVOLUMELABEL 617    
                            15885 ; 1572 |//$FILENAME setvolumelabel.src
                            15886 ; 1573 |#define RSRC_FUNCLET_SETVOLUMELABEL 618    
                            15887 ; 1574 |//$FILENAME disk_full.src
                            15888 ; 1575 |#define RSRC_DISK_FULL 619    
                            15889 ; 1576 |//$FILENAME chkdskstartup.src
                            15890 ; 1577 |#define RSRC_CHECKDISK 620    
                            15891 ; 1578 |//$FILENAME chkdskstartupy.src
                            15892 ; 1579 |#define RSRC_CHKDSK_YMEM 621    
                            15893 ; 1580 |//$FILENAME low_level_pwr_line1.src
                            15894 ; 1581 |#define RSRC_LOW_PWR_EXT_DEV_LINE1 622    
                            15895 ; 1582 |//$FILENAME low_level_pwr_line2.src
                            15896 ; 1583 |#define RSRC_LOW_PWR_EXT_DEV_LINE2 623    
                            15897 ; 1584 |//$FILENAME string_bit_rate.src
                            15898 ; 1585 |#define RSRC_STRING_BIT_RATE 624    
                            15899 ; 1586 |//$FILENAME string_96000hz.src
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 265

M:ADDR CODE           CYCLES LINE SOURCELINE
                            15900 ; 1587 |#define RSRC_STRING_96KBPS 625    
                            15901 ; 1588 |//$FILENAME string_112000hz.src
                            15902 ; 1589 |#define RSRC_STRING_112KBPS 626    
                            15903 ; 1590 |//$FILENAME string_128000hz.src
                            15904 ; 1591 |#define RSRC_STRING_128KBPS 627    
                            15905 ; 1592 |//$FILENAME string_160000hz.src
                            15906 ; 1593 |#define RSRC_STRING_160KBPS 628    
                            15907 ; 1594 |//$FILENAME string_192000hz.src
                            15908 ; 1595 |#define RSRC_STRING_192KBPS 629    
                            15909 ; 1596 |//$FILENAME string_224000hz.src
                            15910 ; 1597 |#define RSRC_STRING_224KBPS 630    
                            15911 ; 1598 |//$FILENAME string_256000hz.src
                            15912 ; 1599 |#define RSRC_STRING_256KBPS 631    
                            15913 ; 1600 |//$FILENAME string_320000hz.src
                            15914 ; 1601 |#define RSRC_STRING_320KBPS 632    
                            15915 ; 1602 |//$FILENAME string_hz.src
                            15916 ; 1603 |#define RSRC_STRING_HZ 633    
                            15917 ; 1604 |//$FILENAME EncCommonp.src
                            15918 ; 1605 |#define RSRC_ENCODERCOMMON_P_CODE 634    
                            15919 ; 1606 |//$FILENAME adc_adcx.src
                            15920 ; 1607 |#define RSRC_ADC_ADCX_CODE 635    
                            15921 ; 1608 |//$FILENAME adc_adcy.src
                            15922 ; 1609 |#define RSRC_ADC_ADCY_CODE 636    
                            15923 ; 1610 |//$FILENAME Funclet_encodercommon.src
                            15924 ; 1611 |#define RSRC_FUNCLET_LOADENCODERCOMMON 637    
                            15925 ; 1612 |//$FILENAME string_album.src
                            15926 ; 1613 |#define RSRC_STRING_ALBUM 638    
                            15927 ; 1614 |//$FILENAME string_encoder_song.src
                            15928 ; 1615 |#define RSRC_STRING_SONG 639    
                            15929 ; 1616 |//$FILENAME string_mode.src
                            15930 ; 1617 |#define RSRC_STRING_MODE 640    
                            15931 ; 1618 |
                            15932 ; 1619 |//////////////////////////////////////////////////////////////////////////////////
                            15933 ; 1620 |// display related
                            15934 ; 1621 |//////////////////////////////////////////////////////////////////////////////////
                            15935 ; 1622 |//$FILENAME Funclet_HalDisplayInit.src
                            15936 ; 1623 |#define RSRC_FUNCLET_HAL_DISPLAY_INIT 641    
                            15937 ; 1624 |//$FILENAME Funclet_SalDisplayInit.src
                            15938 ; 1625 |#define RSRC_FUNCLET_SAL_DISPLAY_INIT 642    
                            15939 ; 1626 |//$FILENAME Funclet_SalHandleMessage.src
                            15940 ; 1627 |#define RSRC_FUNCLET_SAL_HANDLE_MSG 643    
                            15941 ; 1628 |//$FILENAME Funclet_FixBitmapHeader.src
                            15942 ; 1629 |#define RSRC_FUNCLET_FIXBITMAPHEADER 644    
                            15943 ; 1630 |//$FILENAME Funclet_BitmapReadHeader.src
                            15944 ; 1631 |#define RSRC_FUNCLET_BITMAPREADHEADER 645    
                            15945 ; 1632 |//$FILENAME Funclet_BitmapReadPalette.src
                            15946 ; 1633 |#define RSRC_FUNCLET_BITMAPREADPALETTE 646    
                            15947 ; 1634 |//$FILENAME Funclet_BitmapReadBitMask.src
                            15948 ; 1635 |#define RSRC_FUNCLET_BITMAPREADBITMASK 647    
                            15949 ; 1636 |//$FILENAME Funclet_BitmapPrintNonPalette.src
                            15950 ; 1637 |#define RSRC_FUNCLET_BITMAPPRINTNONPALETTE 648    
                            15951 ; 1638 |//$FILENAME Funclet_BitmapPrintPalette.src
                            15952 ; 1639 |#define RSRC_FUNCLET_BITMAPPRINTPALETTE 649    
                            15953 ; 1640 |//$FILENAME Funclet_DisplayPrintBitmapFile.src
                            15954 ; 1641 |#define RSRC_FUNCLET_DISPLAYPRINTBITMAPFILE 650    
                            15955 ; 1642 |//$FILENAME Funclet_DisplayPrintBitmapResource.src
                            15956 ; 1643 |#define RSRC_FUNCLET_DISPLAYPRINTBITMAPRESOURCE 651    
                            15957 ; 1644 |
                            15958 ; 1645 |//////////////////////////////////////////////////////////////////////////////////
                            15959 ; 1646 |//WMDRM Related
                            15960 ; 1647 |//////////////////////////////////////////////////////////////////////////////////
                            15961 ; 1648 |//$FILENAME legacy_decryptcontentkey.src
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 266

M:ADDR CODE           CYCLES LINE SOURCELINE
                            15962 ; 1649 |#define RSRC_FUNCLET_LEGACY_DECRYPTCONTENTKEY 652    
                            15963 ; 1650 |//$FILENAME drm_bbx_legacycipherkeysetup.src
                            15964 ; 1651 |#define RSRC_FUNCLET_DRM_BBX_LEGACYCIPHERKEYSETUP 653    
                            15965 ; 1652 |//$FILENAME drm_bbx_initialize.src
                            15966 ; 1653 |#define RSRC_FUNCLET_DRM_BBX_INITIALIZE 654    
                            15967 ; 1654 |//$FILENAME drm_bbx_canbind.src
                            15968 ; 1655 |#define RSRC_FUNCLET_DRM_BBX_CANBIND 655    
                            15969 ; 1656 |//$FILENAME verifychecksum.src
                            15970 ; 1657 |#define RSRC_FUNCLET_VERIFYCHECKSUM 656    
                            15971 ; 1658 |//$FILENAME drm_b64_encodew.src
                            15972 ; 1659 |#define RSRC_FUNCLET_DRM_B64_ENCODEW 657    
                            15973 ; 1660 |//$FILENAME _performactions.src
                            15974 ; 1661 |#define RSRC_FUNCLET__PERFORMACTIONS 658    
                            15975 ; 1662 |//$FILENAME _processendofchain.src
                            15976 ; 1663 |#define RSRC_FUNCLET__PROCESSENDOFCHAIN 659    
                            15977 ; 1664 |//$FILENAME drmcrt_iswxdigit.src
                            15978 ; 1665 |#define RSRC_FUNCLET_DRMCRT_ISWXDIGIT 660    
                            15979 ; 1666 |//$FILENAME drmcrt_towlower.src
                            15980 ; 1667 |#define RSRC_FUNCLET_DRMCRT_TOWLOWER 661    
                            15981 ; 1668 |//$FILENAME drmcrt_wcslen.src
                            15982 ; 1669 |#define RSRC_FUNCLET_DRMCRT_WCSLEN 662    
                            15983 ; 1670 |//$FILENAME drmcrt_wcsncpy.src
                            15984 ; 1671 |#define RSRC_FUNCLET_DRMCRT_WCSNCPY 663    
                            15985 ; 1672 |//$FILENAME drmcrt_memmove.src
                            15986 ; 1673 |#define RSRC_FUNCLET_DRMCRT_MEMMOVE 664    
                            15987 ; 1674 |//$FILENAME performoperation_part1.src
                            15988 ; 1675 |#define RSRC_FUNCLET_PERFORMOPERATION_PART1 665    
                            15989 ; 1676 |//$FILENAME performoperation_part2.src
                            15990 ; 1677 |#define RSRC_FUNCLET_PERFORMOPERATION_PART2 666    
                            15991 ; 1678 |//$FILENAME performoperation_part3.src
                            15992 ; 1679 |#define RSRC_FUNCLET_PERFORMOPERATION_PART3 667    
                            15993 ; 1680 |//$FILENAME performoperation_part4.src
                            15994 ; 1681 |#define RSRC_FUNCLET_PERFORMOPERATION_PART4 668    
                            15995 ; 1682 |//$FILENAME performoperation_part5.src
                            15996 ; 1683 |#define RSRC_FUNCLET_PERFORMOPERATION_PART5 669    
                            15997 ; 1684 |//$FILENAME performoperation_part6.src
                            15998 ; 1685 |#define RSRC_FUNCLET_PERFORMOPERATION_PART6 670    
                            15999 ; 1686 |//$FILENAME isvalidfunction.src
                            16000 ; 1687 |#define RSRC_FUNCLET_ISVALIDFUNCTION 671    
                            16001 ; 1688 |//$FILENAME functiongetvalue.src
                            16002 ; 1689 |#define RSRC_FUNCLET_FUNCTIONGETVALUE 672    
                            16003 ; 1690 |//$FILENAME globalsetvariable.src
                            16004 ; 1691 |#define RSRC_FUNCLET_GLOBALSETVARIABLE 673    
                            16005 ; 1692 |//$FILENAME variabledrmkgetorset.src
                            16006 ; 1693 |#define RSRC_FUNCLET_VARIABLEDRMKGETORSET 674    
                            16007 ; 1694 |//$FILENAME variabledrmgetorset.src
                            16008 ; 1695 |#define RSRC_FUNCLET_VARIABLEDRMGETORSET 675    
                            16009 ; 1696 |//$FILENAME variableappgetorset.src
                            16010 ; 1697 |#define RSRC_FUNCLET_VARIABLEAPPGETORSET 676    
                            16011 ; 1698 |//$FILENAME variablelicensegetorset.src
                            16012 ; 1699 |#define RSRC_FUNCLET_VARIABLELICENSEGETORSET 677    
                            16013 ; 1700 |//$FILENAME variablecontentgetorset.src
                            16014 ; 1701 |#define RSRC_FUNCLET_VARIABLECONTENTGETORSET 678    
                            16015 ; 1702 |//$FILENAME variabledevicegetorset.src
                            16016 ; 1703 |#define RSRC_FUNCLET_VARIABLEDEVICEGETORSET 679    
                            16017 ; 1704 |//$FILENAME variablepmlicensegetorset.src
                            16018 ; 1705 |#define RSRC_FUNCLET_VARIABLEPMLICENSEGETORSET 680    
                            16019 ; 1706 |//$FILENAME drm_hds_createstore.src
                            16020 ; 1707 |#define RSRC_FUNCLET_DRM_HDS_CREATESTORE 681    
                            16021 ; 1708 |//$FILENAME drm_hds_init.src
                            16022 ; 1709 |#define RSRC_FUNCLET_DRM_HDS_INIT 682    
                            16023 ; 1710 |//$FILENAME drm_hds_uninit.src
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 267

M:ADDR CODE           CYCLES LINE SOURCELINE
                            16024 ; 1711 |#define RSRC_FUNCLET_DRM_HDS_UNINIT 683    
                            16025 ; 1712 |//$FILENAME drm_hds_openstore.src
                            16026 ; 1713 |#define RSRC_FUNCLET_DRM_HDS_OPENSTORE 684    
                            16027 ; 1714 |//$FILENAME drm_hds_deleteslot.src
                            16028 ; 1715 |#define RSRC_FUNCLET_DRM_HDS_DELETESLOT 685    
                            16029 ; 1716 |//$FILENAME drm_hds_slotresize.src
                            16030 ; 1717 |#define RSRC_FUNCLET_DRM_HDS_SLOTRESIZE 686    
                            16031 ; 1718 |//$FILENAME drm_hds_initslotenum.src
                            16032 ; 1719 |#define RSRC_FUNCLET_DRM_HDS_INITSLOTENUM 687    
                            16033 ; 1720 |//$FILENAME drm_hds_cleanupstore.src
                            16034 ; 1721 |#define RSRC_FUNCLET_DRM_HDS_CLEANUPSTORE 688    
                            16035 ; 1722 |//$FILENAME _hdscopyslot_child2child.src
                            16036 ; 1723 |#define RSRC_FUNCLET__HDSCOPYSLOT_CHILD2CHILD 689    
                            16037 ; 1724 |//$FILENAME _hdscopychildpayload.src
                            16038 ; 1725 |#define RSRC_FUNCLET__HDSCOPYCHILDPAYLOAD 690    
                            16039 ; 1726 |//$FILENAME _hdsdefragmentfile.src
                            16040 ; 1727 |#define RSRC_FUNCLET__HDSDEFRAGMENTFILE 691    
                            16041 ; 1728 |//$FILENAME _hdscleanupnamespace.src
                            16042 ; 1729 |#define RSRC_FUNCLET__HDSCLEANUPNAMESPACE 692    
                            16043 ; 1730 |//$FILENAME _hdscleanupstore.src
                            16044 ; 1731 |#define RSRC_FUNCLET__HDSCLEANUPSTORE 693    
                            16045 ; 1732 |//$FILENAME drm_lst_clean.src
                            16046 ; 1733 |#define RSRC_FUNCLET_DRM_LST_CLEAN 694    
                            16047 ; 1734 |//$FILENAME _hdslocatefreeblockforslot.src
                            16048 ; 1735 |#define RSRC_FUNCLET__HDSLOCATEFREEBLOCKFORSLOT 695    
                            16049 ; 1736 |//$FILENAME _hdslockblock2deleteslot.src
                            16050 ; 1737 |#define RSRC_FUNCLET__HDSLOCKBLOCK2DELETESLOT 696    
                            16051 ; 1738 |//$FILENAME _hdsunlockblock2deleteslot.src
                            16052 ; 1739 |#define RSRC_FUNCLET__HDSUNLOCKBLOCK2DELETESLOT 697    
                            16053 ; 1740 |//$FILENAME _hdscreatenamespace.src
                            16054 ; 1741 |#define RSRC_FUNCLET__HDSCREATENAMESPACE 698    
                            16055 ; 1742 |//$FILENAME _hdsfilepos2blocknum.src
                            16056 ; 1743 |#define RSRC_FUNCLET__HDSFILEPOS2BLOCKNUM 699    
                            16057 ; 1744 |//$FILENAME _writesrn.src
                            16058 ; 1745 |#define RSRC_FUNCLET__WRITESRN 700    
                            16059 ; 1746 |//$FILENAME _writecommonblockheader.src
                            16060 ; 1747 |#define RSRC_FUNCLET__WRITECOMMONBLOCKHEADER 701    
                            16061 ; 1748 |//$FILENAME _writechildblockheader.src
                            16062 ; 1749 |#define RSRC_FUNCLET__WRITECHILDBLOCKHEADER 702    
                            16063 ; 1750 |//$FILENAME _readdatablockheader.src
                            16064 ; 1751 |#define RSRC_FUNCLET__READDATABLOCKHEADER 703    
                            16065 ; 1752 |//$FILENAME _writedatablockheader.src
                            16066 ; 1753 |#define RSRC_FUNCLET__WRITEDATABLOCKHEADER 704    
                            16067 ; 1754 |//$FILENAME _hdsexpandstore.src
                            16068 ; 1755 |#define RSRC_FUNCLET__HDSEXPANDSTORE 705    
                            16069 ; 1756 |//$FILENAME _hdsallocblock.src
                            16070 ; 1757 |#define RSRC_FUNCLET__HDSALLOCBLOCK 706    
                            16071 ; 1758 |//$FILENAME _hdsfreeblock.src
                            16072 ; 1759 |#define RSRC_FUNCLET__HDSFREEBLOCK 707    
                            16073 ; 1760 |//$FILENAME _hdscreateoversizedslot.src
                            16074 ; 1761 |#define RSRC_FUNCLET__HDSCREATEOVERSIZEDSLOT 708    
                            16075 ; 1762 |//$FILENAME _hdsallocslotinfile.src
                            16076 ; 1763 |#define RSRC_FUNCLET__HDSALLOCSLOTINFILE 709    
                            16077 ; 1764 |//$FILENAME _hdswriteblockhdr.src
                            16078 ; 1765 |#define RSRC_FUNCLET__HDSWRITEBLOCKHDR 710    
                            16079 ; 1766 |//$FILENAME _hdsadjustchildpayload.src
                            16080 ; 1767 |#define RSRC_FUNCLET__HDSADJUSTCHILDPAYLOAD 711    
                            16081 ; 1768 |//$FILENAME _hdsfindleftmostleafblock.src
                            16082 ; 1769 |#define RSRC_FUNCLET__HDSFINDLEFTMOSTLEAFBLOCK 712    
                            16083 ; 1770 |//$FILENAME _hdscreateandopenslot.src
                            16084 ; 1771 |#define RSRC_FUNCLET__HDSCREATEANDOPENSLOT 713    
                            16085 ; 1772 |//$FILENAME _hdsremoveslot.src
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 268

M:ADDR CODE           CYCLES LINE SOURCELINE
                            16086 ; 1773 |#define RSRC_FUNCLET__HDSREMOVESLOT 714    
                            16087 ; 1774 |//$FILENAME _hdscopyandlocknewslot.src
                            16088 ; 1775 |#define RSRC_FUNCLET__HDSCOPYANDLOCKNEWSLOT 715    
                            16089 ; 1776 |//$FILENAME _hdsrelocateslotandkeepcurrlock.src
                            16090 ; 1777 |#define RSRC_FUNCLET__HDSRELOCATESLOTANDKEEPCURRLOCK 716    
                            16091 ; 1778 |//$FILENAME _hdstraversenextrightsiblingblock.src
                            16092 ; 1779 |#define RSRC_FUNCLET__HDSTRAVERSENEXTRIGHTSIBLINGBLOCK 717    
                            16093 ; 1780 |//$FILENAME _hdstraverseblocksinpostorder.src
                            16094 ; 1781 |#define RSRC_FUNCLET__HDSTRAVERSEBLOCKSINPOSTORDER 718    
                            16095 ; 1782 |//$FILENAME _hdsslotresize.src
                            16096 ; 1783 |#define RSRC_FUNCLET__HDSSLOTRESIZE 719    
                            16097 ; 1784 |//$FILENAME _isnull.src
                            16098 ; 1785 |#define RSRC_FUNCLET__ISNULL 720    
                            16099 ; 1786 |//$FILENAME _hdsgensrnhash.src
                            16100 ; 1787 |#define RSRC_FUNCLET__HDSGENSRNHASH 721    
                            16101 ; 1788 |//$FILENAME _hdsallocblockbuffer.src
                            16102 ; 1789 |#define RSRC_FUNCLET__HDSALLOCBLOCKBUFFER 722    
                            16103 ; 1790 |//$FILENAME _readsrn.src
                            16104 ; 1791 |#define RSRC_FUNCLET__READSRN 723    
                            16105 ; 1792 |//$FILENAME _hdsgetputchildblocknum.src
                            16106 ; 1793 |#define RSRC_FUNCLET__HDSGETPUTCHILDBLOCKNUM 724    
                            16107 ; 1794 |//$FILENAME _hdshashkeytoindex.src
                            16108 ; 1795 |#define RSRC_FUNCLET__HDSHASHKEYTOINDEX 725    
                            16109 ; 1796 |//$FILENAME _hdsslotwrite.src
                            16110 ; 1797 |#define RSRC_FUNCLET__HDSSLOTWRITE 726    
                            16111 ; 1798 |//$FILENAME _hdsinitslotenum.src
                            16112 ; 1799 |#define RSRC_FUNCLET__HDSINITSLOTENUM 727    
                            16113 ; 1800 |//$FILENAME drm_lst_close.src
                            16114 ; 1801 |#define RSRC_FUNCLET_DRM_LST_CLOSE 728    
                            16115 ; 1802 |//$FILENAME drm_lst_enumnext.src
                            16116 ; 1803 |#define RSRC_FUNCLET_DRM_LST_ENUMNEXT 729    
                            16117 ; 1804 |//$FILENAME drm_lst_enumdelete.src
                            16118 ; 1805 |#define RSRC_FUNCLET_DRM_LST_ENUMDELETE 730    
                            16119 ; 1806 |//$FILENAME _processextensions.src
                            16120 ; 1807 |#define RSRC_FUNCLET__PROCESSEXTENSIONS 731    
                            16121 ; 1808 |//$FILENAME _processidlist.src
                            16122 ; 1809 |#define RSRC_FUNCLET__PROCESSIDLIST 732    
                            16123 ; 1810 |//$FILENAME _processexclusions.src
                            16124 ; 1811 |#define RSRC_FUNCLET__PROCESSEXCLUSIONS 733    
                            16125 ; 1812 |//$FILENAME _processinclusions.src
                            16126 ; 1813 |#define RSRC_FUNCLET__PROCESSINCLUSIONS 734    
                            16127 ; 1814 |//$FILENAME drm_opl_processcopyoutputleveldata.src
                            16128 ; 1815 |#define RSRC_FUNCLET_DRM_OPL_PROCESSCOPYOUTPUTLEVELDATA 735    
                            16129 ; 1816 |//$FILENAME _getopllevel.src
                            16130 ; 1817 |#define RSRC_FUNCLET__GETOPLLEVEL 736    
                            16131 ; 1818 |//$FILENAME drm_opl_processplayoutputleveldata.src
                            16132 ; 1819 |#define RSRC_FUNCLET_DRM_OPL_PROCESSPLAYOUTPUTLEVELDATA 737    
                            16133 ; 1820 |//$FILENAME _updateattributetokeninslot.src
                            16134 ; 1821 |#define RSRC_FUNCLET__UPDATEATTRIBUTETOKENINSLOT 738    
                            16135 ; 1822 |//$FILENAME drm_sst_settokenvalue.src
                            16136 ; 1823 |#define RSRC_FUNCLET_DRM_SST_SETTOKENVALUE 739    
                            16137 ; 1824 |//$FILENAME drm_sst_createlicensestatepassword.src
                            16138 ; 1825 |#define RSRC_FUNCLET_DRM_SST_CREATELICENSESTATEPASSWORD 740    
                            16139 ; 1826 |//$FILENAME drm_utl_promoteansitounicode.src
                            16140 ; 1827 |#define RSRC_FUNCLET_DRM_UTL_PROMOTEANSITOUNICODE 741    
                            16141 ; 1828 |//$FILENAME drm_pk_symmetricsign.src
                            16142 ; 1829 |#define RSRC_FUNCLET_DRM_PK_SYMMETRICSIGN 742    
                            16143 ; 1830 |//$FILENAME drm_utl_getversionfromstring.src
                            16144 ; 1831 |#define RSRC_FUNCLET_DRM_UTL_GETVERSIONFROMSTRING 743    
                            16145 ; 1832 |//$FILENAME drm_utl_stringinsertblanksubstring.src
                            16146 ; 1833 |#define RSRC_FUNCLET_DRM_UTL_STRINGINSERTBLANKSUBSTRING 744    
                            16147 ; 1834 |//$FILENAME drm_utl_stringremovesubstring.src
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 269

M:ADDR CODE           CYCLES LINE SOURCELINE
                            16148 ; 1835 |#define RSRC_FUNCLET_DRM_UTL_STRINGREMOVESUBSTRING 745    
                            16149 ; 1836 |//$FILENAME drm_utl_dstrsearch.src
                            16150 ; 1837 |#define RSRC_FUNCLET_DRM_UTL_DSTRSEARCH 746    
                            16151 ; 1838 |//$FILENAME drm_utl_dstrsearchreverse.src
                            16152 ; 1839 |#define RSRC_FUNCLET_DRM_UTL_DSTRSEARCHREVERSE 747    
                            16153 ; 1840 |//$FILENAME drm_utl_stringtoguid.src
                            16154 ; 1841 |#define RSRC_FUNCLET_DRM_UTL_STRINGTOGUID 748    
                            16155 ; 1842 |//$FILENAME drm_utl_ensuredataalignment.src
                            16156 ; 1843 |#define RSRC_FUNCLET_DRM_UTL_ENSUREDATAALIGNMENT 749    
                            16157 ; 1844 |//$FILENAME overlappingdates.src
                            16158 ; 1845 |#define RSRC_FUNCLET_OVERLAPPINGDATES 750    
                            16159 ; 1846 |//$FILENAME drm_asd_parsev2license.src
                            16160 ; 1847 |#define RSRC_FUNCLET_DRM_ASD_PARSEV2LICENSE 751    
                            16161 ; 1848 |//$FILENAME neginfdate.src
                            16162 ; 1849 |#define RSRC_FUNCLET_NEGINFDATE 752    
                            16163 ; 1850 |//$FILENAME infdate.src
                            16164 ; 1851 |#define RSRC_FUNCLET_INFDATE 753    
                            16165 ; 1852 |//$FILENAME isexpired.src
                            16166 ; 1853 |#define RSRC_FUNCLET_ISEXPIRED 754    
                            16167 ; 1854 |//$FILENAME getsecstateattr.src
                            16168 ; 1855 |#define RSRC_FUNCLET_GETSECSTATEATTR 755    
                            16169 ; 1856 |//$FILENAME setexpirycategory.src
                            16170 ; 1857 |#define RSRC_FUNCLET_SETEXPIRYCATEGORY 756    
                            16171 ; 1858 |//$FILENAME getv2licenseinfo.src
                            16172 ; 1859 |#define RSRC_FUNCLET_GETV2LICENSEINFO 757    
                            16173 ; 1860 |//$FILENAME getnextlicense.src
                            16174 ; 1861 |#define RSRC_FUNCLET_GETNEXTLICENSE 758    
                            16175 ; 1862 |//$FILENAME aggregate.src
                            16176 ; 1863 |#define RSRC_FUNCLET_AGGREGATE 759    
                            16177 ; 1864 |//$FILENAME drm_asd_getlicenseaggregatedata.src
                            16178 ; 1865 |#define RSRC_FUNCLET_DRM_ASD_GETLICENSEAGGREGATEDATA 760    
                            16179 ; 1866 |//$FILENAME _scannodeforattributew.src
                            16180 ; 1867 |#define RSRC_FUNCLET__SCANNODEFORATTRIBUTEW 761    
                            16181 ; 1868 |//$FILENAME _getxmlnodecdataw.src
                            16182 ; 1869 |#define RSRC_FUNCLET__GETXMLNODECDATAW 762    
                            16183 ; 1870 |//$FILENAME drm_ddc_getdevicecertificate.src
                            16184 ; 1871 |#define RSRC_FUNCLET_DRM_DDC_GETDEVICECERTIFICATE 763    
                            16185 ; 1872 |//$FILENAME _createdevicestore.src
                            16186 ; 1873 |#define RSRC_FUNCLET__CREATEDEVICESTORE 764    
                            16187 ; 1874 |//$FILENAME _mapdrmerror.src
                            16188 ; 1875 |#define RSRC_FUNCLET__MAPDRMERROR 765    
                            16189 ; 1876 |//$FILENAME _comparemachineid.src
                            16190 ; 1877 |#define RSRC_FUNCLET__COMPAREMACHINEID 766    
                            16191 ; 1878 |//$FILENAME initmgrcontext.src
                            16192 ; 1879 |#define RSRC_FUNCLET_INITMGRCONTEXT 767    
                            16193 ; 1880 |//$FILENAME drm_mgr_setv2header.src
                            16194 ; 1881 |#define RSRC_FUNCLET_DRM_MGR_SETV2HEADER 768    
                            16195 ; 1882 |//$FILENAME drm_mgr_commit.src
                            16196 ; 1883 |#define RSRC_FUNCLET_DRM_MGR_COMMIT 769    
                            16197 ; 1884 |//$FILENAME drm_mgr_cleanuplicensestore.src
                            16198 ; 1885 |#define RSRC_FUNCLET_DRM_MGR_CLEANUPLICENSESTORE 770    
                            16199 ; 1886 |//$FILENAME januscleandatastore.src
                            16200 ; 1887 |#define RSRC_FUNCLET_JANUSCLEANDATASTORE 771    
                            16201 ; 1888 |//$FILENAME drm_mtr_openid.src
                            16202 ; 1889 |#define RSRC_FUNCLET_DRM_MTR_OPENID 772    
                            16203 ; 1890 |//$FILENAME drm_mtr_incrementcount.src
                            16204 ; 1891 |#define RSRC_FUNCLET_DRM_MTR_INCREMENTCOUNT 773    
                            16205 ; 1892 |//$FILENAME drm_mtr_closecontext.src
                            16206 ; 1893 |#define RSRC_FUNCLET_DRM_MTR_CLOSECONTEXT 774    
                            16207 ; 1894 |//$FILENAME oem_setendoffile.src
                            16208 ; 1895 |#define RSRC_FUNCLET_OEM_SETENDOFFILE 775    
                            16209 ; 1896 |//$FILENAME oem_genrandombytes.src
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 270

M:ADDR CODE           CYCLES LINE SOURCELINE
                            16210 ; 1897 |#define RSRC_FUNCLET_OEM_GENRANDOMBYTES 776    
                            16211 ; 1898 |//$FILENAME oem_getfallbacksigningkey.src
                            16212 ; 1899 |#define RSRC_FUNCLET_OEM_GETFALLBACKSIGNINGKEY 777    
                            16213 ; 1900 |//$FILENAME oem_getdevicecerttemplate.src
                            16214 ; 1901 |#define RSRC_FUNCLET_OEM_GETDEVICECERTTEMPLATE 778    
                            16215 ; 1902 |//$FILENAME oem_setdevicecert.src
                            16216 ; 1903 |#define RSRC_FUNCLET_OEM_SETDEVICECERT 779    
                            16217 ; 1904 |//$FILENAME oem_getclockresetstate.src
                            16218 ; 1905 |#define RSRC_FUNCLET_OEM_GETCLOCKRESETSTATE 780    
                            16219 ; 1906 |//$FILENAME oem_setclockresetstate.src
                            16220 ; 1907 |#define RSRC_FUNCLET_OEM_SETCLOCKRESETSTATE 781    
                            16221 ; 1908 |//$FILENAME oem_getuniqueid.src
                            16222 ; 1909 |#define RSRC_FUNCLET_OEM_GETUNIQUEID 782    
                            16223 ; 1910 |//$FILENAME oem_getdevicecert.src
                            16224 ; 1911 |#define RSRC_FUNCLET_OEM_GETDEVICECERT 783    
                            16225 ; 1912 |//$FILENAME drm_snc_openstore.src
                            16226 ; 1913 |#define RSRC_FUNCLET_DRM_SNC_OPENSTORE 784    
                            16227 ; 1914 |//$FILENAME drm_snc_closestore.src
                            16228 ; 1915 |#define RSRC_FUNCLET_DRM_SNC_CLOSESTORE 785    
                            16229 ; 1916 |//$FILENAME _setkidstoredata.src
                            16230 ; 1917 |#define RSRC_FUNCLET__SETKIDSTOREDATA 786    
                            16231 ; 1918 |//$FILENAME drm_snc_deletekid.src
                            16232 ; 1919 |#define RSRC_FUNCLET_DRM_SNC_DELETEKID 787    
                            16233 ; 1920 |//$FILENAME drm_snc_updatekid.src
                            16234 ; 1921 |#define RSRC_FUNCLET_DRM_SNC_UPDATEKID 788    
                            16235 ; 1922 |//$FILENAME drm_mgr_setv1header.src
                            16236 ; 1923 |#define RSRC_FUNCLET_DRM_MGR_SETV1HEADER 789    
                            16237 ; 1924 |//$FILENAME functiongetvalue_part1.src
                            16238 ; 1925 |#define RSRC_FUNCLET_FUNCTIONGETVALUE_PART1 790    
                            16239 ; 1926 |//$FILENAME functiongetvalue_fn_datediff.src
                            16240 ; 1927 |#define RSRC_FUNCLET_FUNCTIONGETVALUE_FN_DATEDIFF 791    
                            16241 ; 1928 |//$FILENAME _hdscreatenamespacestore.src
                            16242 ; 1929 |#define RSRC_FUNCLET__HDSCREATENAMESPACESTORE 792    
                            16243 ; 1930 |//$FILENAME drm_hds_createstore2.src
                            16244 ; 1931 |#define RSRC_FUNCLET_DRM_HDS_CREATESTORE2 793    
                            16245 ; 1932 |//$FILENAME drm_hds_openstore2.src
                            16246 ; 1933 |#define RSRC_FUNCLET_DRM_HDS_OPENSTORE2 794    
                            16247 ; 1934 |//$FILENAME _hdsprealloc.src
                            16248 ; 1935 |#define RSRC_FUNCLET__HDSPREALLOC 795    
                            16249 ; 1936 |//$FILENAME oem_systemtimetofiletime.src
                            16250 ; 1937 |#define RSRC_FUNCLET_OEM_SYSTEMTIMETOFILETIME 796    
                            16251 ; 1938 |//$FILENAME oem_filetimetosystemtime.src
                            16252 ; 1939 |#define RSRC_FUNCLET_OEM_FILETIMETOSYSTEMTIME 797    
                            16253 ; 1940 |//$FILENAME gendevicecertificate.src
                            16254 ; 1941 |#define RSRC_FUNCLET_GENDEVICECERTIFICATE 798    
                            16255 ; 1942 |//$FILENAME drmcrt_memmove_mem.src
                            16256 ; 1943 |#define RSRC_FUNCLET_DRMCRT_MEMMOVE_MEM 799    
                            16257 ; 1944 |//$FILENAME copyhdsdtore.src
                            16258 ; 1945 |#define RSRC_FUNCLET_COPYHDSDTORE 800    
                            16259 ; 1946 |//$FILENAME generatedevicecert.src
                            16260 ; 1947 |#define RSRC_FUNCLET_GENERATEDEVICECERT 801    
                            16261 ; 1948 |//$FILENAME oem_getdevicedatetime.src
                            16262 ; 1949 |#define RSRC_FUNCLET_OEM_GETDEVICEDATETIME 802    
                            16263 ; 1950 |//$FILENAME drm_mtr_updatedata.src
                            16264 ; 1951 |#define RSRC_FUNCLET_DRM_MTR_UPDATEDATA 803    
                            16265 ; 1952 |//$FILENAME _hdsupdatesrn.src
                            16266 ; 1953 |#define RSRC_FUNCLET__HDSUPDATESRN 804    
                            16267 ; 1954 |//$FILENAME drm_b64_decodew_inplace.src
                            16268 ; 1955 |#define RSRC_FUNCLET_DRM_B64_DECODEW_INPLACE 805    
                            16269 ; 1956 |//$FILENAME _checksecureclock.src
                            16270 ; 1957 |#define RSRC_FUNCLET__CHECKSECURECLOCK 806    
                            16271 ; 1958 |//$FILENAME _preparesecureclockdataforwriting.src
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 271

M:ADDR CODE           CYCLES LINE SOURCELINE
                            16272 ; 1959 |#define RSRC_FUNCLET__PREPARESECURECLOCKDATAFORWRITING 807    
                            16273 ; 1960 |//$FILENAME _preparesecureclockdataforreading.src
                            16274 ; 1961 |#define RSRC_FUNCLET__PREPARESECURECLOCKDATAFORREADING 808    
                            16275 ; 1962 |//$FILENAME drm_sst_closelockedslot.src
                            16276 ; 1963 |#define RSRC_FUNCLET_DRM_SST_CLOSELOCKEDSLOT 809    
                            16277 ; 1964 |//$FILENAME variablesecuretimegetorset.src
                            16278 ; 1965 |#define RSRC_FUNCLET_VARIABLESECURETIMEGETORSET 810    
                            16279 ; 1966 |//$FILENAME strtol.src
                            16280 ; 1967 |#define RSRC_FUNCLET_STRTOL 811    
                            16281 ; 1968 |//$FILENAME mktime.src
                            16282 ; 1969 |#define RSRC_FUNCLET_MKTIME 812    
                            16283 ; 1970 |//$FILENAME gmtime.src
                            16284 ; 1971 |#define RSRC_FUNCLET_GMTIME 813    
                            16285 ; 1972 |//$FILENAME localtime.src
                            16286 ; 1973 |#define RSRC_FUNCLET_LOCALTIME 814    
                            16287 ; 1974 |//$FILENAME _struct_tm_to_systemtime.src
                            16288 ; 1975 |#define RSRC_FUNCLET__STRUCT_TM_TO_SYSTEMTIME 815    
                            16289 ; 1976 |//$FILENAME _systemtime_to_struct_tm.src
                            16290 ; 1977 |#define RSRC_FUNCLET__SYSTEMTIME_TO_STRUCT_TM 816    
                            16291 ; 1978 |//$FILENAME _systemtimetotime_t.src
                            16292 ; 1979 |#define RSRC_FUNCLET__SYSTEMTIMETOTIME_T 817    
                            16293 ; 1980 |//$FILENAME oem_setsystemtime.src
                            16294 ; 1981 |#define RSRC_FUNCLET_OEM_SETSYSTEMTIME 818    
                            16295 ; 1982 |//$FILENAME const_pkcrypto.src
                            16296 ; 1983 |#define RSRC_CONST_PKCRYPTO 819    
                            16297 ; 1984 |//$FILENAME const_y.src
                            16298 ; 1985 |#define RSRC_CONST_Y 820    
                            16299 ; 1986 |//$FILENAME aes_dec_table.src
                            16300 ; 1987 |#define RSRC_AES_DEC_TABLE 821    
                            16301 ; 1988 |//$FILENAME aes_key_table.src
                            16302 ; 1989 |#define RSRC_AES_KEY_TABLE 822    
                            16303 ; 1990 |//$FILENAME aes_enc_table.src
                            16304 ; 1991 |#define RSRC_AES_ENC_TABLE 823    
                            16305 ; 1992 |//$FILENAME device_cert.src
                            16306 ; 1993 |#define RSRC_DEVCERT 824    
                            16307 ; 1994 |//$FILENAME devcert_template.src
                            16308 ; 1995 |#define RSRC_DEVCERT_TEMPLATE 825    
                            16309 ; 1996 |//$FILENAME getbase64decodedkey.src
                            16310 ; 1997 |#define RSRC_FUNCLET_GETBASE64DECODEDKEY 826    
                            16311 ; 1998 |//$FILENAME _initslot.src
                            16312 ; 1999 |#define RSRC_FUNCLET__INITSLOT 827    
                            16313 ; 2000 |//$FILENAME hdsimplcommon.src
                            16314 ; 2001 |#define RSRC_HDSIMPLCOMMON_P 828    
                            16315 ; 2002 |//$FILENAME hdsimpl_p.src
                            16316 ; 2003 |#define RSRC_HDSIMPL_P 829    
                            16317 ; 2004 |
                            16318 ; 2005 |
                            16319 ; 2006 |//////////////////////////////////////////////////////////////////////////////////
                            16320 ; 2007 |//pkcrypto Related
                            16321 ; 2008 |//////////////////////////////////////////////////////////////////////////////////
                            16322 ; 2009 |//$FILENAME two_adic_inverse.src
                            16323 ; 2010 |#define RSRC_FUNCLET_TWO_ADIC_INVERSE 830    
                            16324 ; 2011 |//$FILENAME mp_shift.src
                            16325 ; 2012 |#define RSRC_FUNCLET_MP_SHIFT 831    
                            16326 ; 2013 |//$FILENAME mp_significant_bit_count.src
                            16327 ; 2014 |#define RSRC_FUNCLET_MP_SIGNIFICANT_BIT_COUNT 832    
                            16328 ; 2015 |//$FILENAME set_immediate.src
                            16329 ; 2016 |#define RSRC_FUNCLET_SET_IMMEDIATE 833    
                            16330 ; 2017 |//$FILENAME multiply_immediate.src
                            16331 ; 2018 |#define RSRC_FUNCLET_MULTIPLY_IMMEDIATE 834    
                            16332 ; 2019 |//$FILENAME multiply.src
                            16333 ; 2020 |#define RSRC_FUNCLET_MULTIPLY 835    
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 272

M:ADDR CODE           CYCLES LINE SOURCELINE
                            16334 ; 2021 |//$FILENAME divide_precondition_1.src
                            16335 ; 2022 |#define RSRC_FUNCLET_DIVIDE_PRECONDITION_1 836    
                            16336 ; 2023 |//$FILENAME divide_immediate.src
                            16337 ; 2024 |#define RSRC_FUNCLET_DIVIDE_IMMEDIATE 837    
                            16338 ; 2025 |//$FILENAME ecaffine_exponentiation_tabular.src
                            16339 ; 2026 |#define RSRC_FUNCLET_ECAFFINE_EXPONENTIATION_TABULAR 838    
                            16340 ; 2027 |//$FILENAME ecaffine_table_construction.src
                            16341 ; 2028 |#define RSRC_FUNCLET_ECAFFINE_TABLE_CONSTRUCTION 839    
                            16342 ; 2029 |//$FILENAME ecproj5_to_ecaffine.src
                            16343 ; 2030 |#define RSRC_FUNCLET_ECPROJ5_TO_ECAFFINE 840    
                            16344 ; 2031 |//$FILENAME ecproj5_set_infinite.src
                            16345 ; 2032 |#define RSRC_FUNCLET_ECPROJ5_SET_INFINITE 841    
                            16346 ; 2033 |//$FILENAME ecaffine_on_curve.src
                            16347 ; 2034 |#define RSRC_FUNCLET_ECAFFINE_ON_CURVE 842    
                            16348 ; 2035 |//$FILENAME ecaffine_addition.src
                            16349 ; 2036 |#define RSRC_FUNCLET_ECAFFINE_ADDITION 843    
                            16350 ; 2037 |//$FILENAME ecaffine_addition_subtraction.src
                            16351 ; 2038 |#define RSRC_FUNCLET_ECAFFINE_ADDITION_SUBTRACTION 844    
                            16352 ; 2039 |//$FILENAME ecaffine_attributes2.src
                            16353 ; 2040 |#define RSRC_FUNCLET_ECAFFINE_ATTRIBUTES2 845    
                            16354 ; 2041 |//$FILENAME kfdesc_initialize.src
                            16355 ; 2042 |#define RSRC_FUNCLET_KFDESC_INITIALIZE 846    
                            16356 ; 2043 |//$FILENAME kimmediate.src
                            16357 ; 2044 |#define RSRC_FUNCLET_KIMMEDIATE 847    
                            16358 ; 2045 |//$FILENAME kprime_immediater.src
                            16359 ; 2046 |#define RSRC_FUNCLET_KPRIME_IMMEDIATER 848    
                            16360 ; 2047 |//$FILENAME kprime_sqrter.src
                            16361 ; 2048 |#define RSRC_FUNCLET_KPRIME_SQRTER 849    
                            16362 ; 2049 |//$FILENAME kinitialize_prime.src
                            16363 ; 2050 |#define RSRC_FUNCLET_KINITIALIZE_PRIME 850    
                            16364 ; 2051 |//$FILENAME mod_lucasuv.src
                            16365 ; 2052 |#define RSRC_FUNCLET_MOD_LUCASUV 851    
                            16366 ; 2053 |//$FILENAME mod_lucas.src
                            16367 ; 2054 |#define RSRC_FUNCLET_MOD_LUCAS 852    
                            16368 ; 2055 |//$FILENAME bucket_multiply.src
                            16369 ; 2056 |#define RSRC_FUNCLET_BUCKET_MULTIPLY 853    
                            16370 ; 2057 |//$FILENAME mod_exp2000.src
                            16371 ; 2058 |#define RSRC_FUNCLET_MOD_EXP2000 854    
                            16372 ; 2059 |//$FILENAME mod_exp.src
                            16373 ; 2060 |#define RSRC_FUNCLET_MOD_EXP 855    
                            16374 ; 2061 |//$FILENAME modmul_choices1.src
                            16375 ; 2062 |#define RSRC_FUNCLET_MODMUL_CHOICES1 856    
                            16376 ; 2063 |//$FILENAME mod_sqrt.src
                            16377 ; 2064 |#define RSRC_FUNCLET_MOD_SQRT 857    
                            16378 ; 2065 |//$FILENAME create_modulus.src
                            16379 ; 2066 |#define RSRC_FUNCLET_CREATE_MODULUS 858    
                            16380 ; 2067 |//$FILENAME from_modular.src
                            16381 ; 2068 |#define RSRC_FUNCLET_FROM_MODULAR 859    
                            16382 ; 2069 |//$FILENAME add_immediate.src
                            16383 ; 2070 |#define RSRC_FUNCLET_ADD_IMMEDIATE 860    
                            16384 ; 2071 |//$FILENAME add_diff.src
                            16385 ; 2072 |#define RSRC_FUNCLET_ADD_DIFF 861    
                            16386 ; 2073 |//$FILENAME add_full.src
                            16387 ; 2074 |#define RSRC_FUNCLET_ADD_FULL 862    
                            16388 ; 2075 |//$FILENAME compare_sum_same.src
                            16389 ; 2076 |#define RSRC_FUNCLET_COMPARE_SUM_SAME 863    
                            16390 ; 2077 |//$FILENAME sub_immediate.src
                            16391 ; 2078 |#define RSRC_FUNCLET_SUB_IMMEDIATE 864    
                            16392 ; 2079 |//$FILENAME mp_initialization.src
                            16393 ; 2080 |#define RSRC_FUNCLET_MP_INITIALIZATION 865    
                            16394 ; 2081 |//$FILENAME new_random_bytes.src
                            16395 ; 2082 |#define RSRC_FUNCLET_NEW_RANDOM_BYTES 866    
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 273

M:ADDR CODE           CYCLES LINE SOURCELINE
                            16396 ; 2083 |//$FILENAME new_random_dword_interval.src
                            16397 ; 2084 |#define RSRC_FUNCLET_NEW_RANDOM_DWORD_INTERVAL 867    
                            16398 ; 2085 |//$FILENAME new_random_digit_interval.src
                            16399 ; 2086 |#define RSRC_FUNCLET_NEW_RANDOM_DIGIT_INTERVAL 868    
                            16400 ; 2087 |//$FILENAME new_random_mod.src
                            16401 ; 2088 |#define RSRC_FUNCLET_NEW_RANDOM_MOD 869    
                            16402 ; 2089 |//$FILENAME new_random_mod_nonzero.src
                            16403 ; 2090 |#define RSRC_FUNCLET_NEW_RANDOM_MOD_NONZERO 870    
                            16404 ; 2091 |//$FILENAME new_random_digits.src
                            16405 ; 2092 |#define RSRC_FUNCLET_NEW_RANDOM_DIGITS 871    
                            16406 ; 2093 |//$FILENAME words_to_ecaffine.src
                            16407 ; 2094 |#define RSRC_FUNCLET_WORDS_TO_ECAFFINE 872    
                            16408 ; 2095 |//$FILENAME ecaffine_to_dwords.src
                            16409 ; 2096 |#define RSRC_FUNCLET_ECAFFINE_TO_DWORDS 873    
                            16410 ; 2097 |//$FILENAME _threadunsafepkinit.src
                            16411 ; 2098 |#define RSRC_FUNCLET__THREADUNSAFEPKINIT 874    
                            16412 ; 2099 |//$FILENAME pkinit.src
                            16413 ; 2100 |#define RSRC_FUNCLET_PKINIT 875    
                            16414 ; 2101 |//$FILENAME drm_pk_genkeypair.src
                            16415 ; 2102 |#define RSRC_FUNCLET_DRM_PK_GENKEYPAIR 876    
                            16416 ; 2103 |//$FILENAME drm_pk_encrypt.src
                            16417 ; 2104 |#define RSRC_FUNCLET_DRM_PK_ENCRYPT 877    
                            16418 ; 2105 |//$FILENAME drm_pk_decrypt.src
                            16419 ; 2106 |#define RSRC_FUNCLET_DRM_PK_DECRYPT 878    
                            16420 ; 2107 |//$FILENAME byte_array_mod_bignum.src
                            16421 ; 2108 |#define RSRC_FUNCLET_BYTE_ARRAY_MOD_BIGNUM 879    
                            16422 ; 2109 |//$FILENAME fe2ipmod.src
                            16423 ; 2110 |#define RSRC_FUNCLET_FE2IPMOD 880    
                            16424 ; 2111 |//$FILENAME drm_pk_sign.src
                            16425 ; 2112 |#define RSRC_FUNCLET_DRM_PK_SIGN 881    
                            16426 ; 2113 |//$FILENAME drm_pk_verify.src
                            16427 ; 2114 |#define RSRC_FUNCLET_DRM_PK_VERIFY 882    
                            16428 ; 2115 |//$FILENAME random_bytes.src
                            16429 ; 2116 |#define RSRC_FUNCLET_RANDOM_BYTES 883    
                            16430 ; 2117 |//$FILENAME mp_gcdex.src
                            16431 ; 2118 |#define RSRC_FUNCLET_MP_GCDEX 884    
                            16432 ; 2119 |//$FILENAME mp_gcdex_split1.src
                            16433 ; 2120 |#define RSRC_FUNCLET_MP_GCDEX_SPLIT1 885    
                            16434 ; 2121 |//$FILENAME pkcrypto_p.src
                            16435 ; 2122 |#define RSRC_PKCRYPTO_P 886    
                            16436 ; 2123 |//$FILENAME pkcrypto_ovl_p.src
                            16437 ; 2124 |#define RSRC_PKCRYPTO_OVL_P 887    
                            16438 ; 2125 |//$FILENAME del_all_warning_line2.src
                            16439 ; 2126 |#define RSRC_WARNING_MSG_ALL_LINE2 888    
                            16440 ; 2127 |//$FILENAME del_all_file_star.src
                            16441 ; 2128 |#define RSRC_FILE_DELETE_STAR 889    
                            16442 ; 2129 |//$FILENAME string_voice_menu_delete_all.src
                            16443 ; 2130 |#define RSRC_STRING_VOICE_MENU_DELETE_ALL 890    
                            16444 ; 2131 |//$FILENAME Funclet_Init5VSense.src
                            16445 ; 2132 |#define RSRC_FUNCLET_INIT5VSENSE 891    
                            16446 ; 2133 |//$FILENAME Funclet_UpdateDCDCDutyCycle.src
                            16447 ; 2134 |#define RSRC_FUNCLET_UPDATEDCDCDUTYCYCLE 892    
                            16448 ; 2135 |//$FILENAME Funclet_changeplayset.src
                            16449 ; 2136 |#define RSRC_FUNCLET_CHANGE_PLAYSET 893    
                            16450 ; 2137 |
                            16451 ; 2138 |//$FILENAME Funclet_mmctesterase.src
                            16452 ; 2139 |#define RSRC_FUNCLET_MMC_TEST_ERASE 894    
                            16453 ; 2140 |//$FILENAME Funclet_mmchalinit.src
                            16454 ; 2141 |#define RSRC_FUNCLET_MMC_HALINIT 895    
                            16455 ; 2142 |
                            16456 ; 2143 |
                            16457 ; 2144 |// Added to allow rechargeable battery configurations to build
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 274

M:ADDR CODE           CYCLES LINE SOURCELINE
                            16458 ; 2145 |//$FILENAME battery_charging.src
                            16459 ; 2146 |#define RSRC_BATTERY_CHARGING 896    
                            16460 ; 2147 |//$FILENAME batterychargecodebank.src
                            16461 ; 2148 |#define RSRC_BATTERY_CHARGE_CODEBANK 897    
                            16462 ; 2149 |//$FILENAME updatevolume.src
                            16463 ; 2150 |#define RSRC_FUNCLET_SYSUPDATEVOLUME 898    
                            16464 ; 2151 |//$FILENAME Funclet_TestSkipCheckDisk.src
                            16465 ; 2152 |#define RSRC_FUNCLET_TESTSKIPCHECKDISK 899    
                            16466 ; 2153 |//$FILENAME Funclet_DisableStmpGeneratedMicBias.src
                            16467 ; 2154 |#define RSRC_FUNCLET_DISABLE_STMP_GENERATED_MICBIAS 900    
                            16468 ; 2155 |//$FILENAME Funclet_EnableStmpGeneratedMicBias.src
                            16469 ; 2156 |#define RSRC_FUNCLET_ENABLE_STMP_GENERATED_MICBIAS 901    
                            16470 ; 2157 |//$FILENAME Funclet_SetSkipCheckDisk.src
                            16471 ; 2158 |#define RSRC_FUNCLET_SETSKIPCHECKDISK 902    
                            16472 ; 2159 |//$FILENAME drm_expr_evaluateexpression_no_more_tokens.src
                            16473 ; 2160 |#define RSRC_FUNCLET_DRM_EXPR_EVALUATEEXPRESSION_NO_MORE_TOKENS 903    
                            16474 ; 2161 |//$FILENAME _iscachedevent.src
                            16475 ; 2162 |#define RSRC_FUNCLET__ISCACHEDEVENT 904    
                            16476 ; 2163 |//$FILENAME setcountedexpirycategory.src
                            16477 ; 2164 |#define RSRC_FUNCLET_SETCOUNTEDEXPIRYCATEGORY 905    
                            16478 ; 2165 |//$FILENAME oem_data.src
                            16479 ; 2166 |#define RSRC_OEM_DATA 906    
                            16480 ; 2167 |//$FILENAME gpk_p.src
                            16481 ; 2168 |#define RSRC_GPK_P 907    
                            16482 ; 2169 |//$FILENAME key_data.src
                            16483 ; 2170 |#define RSRC_KEY_DATA 908    
                            16484 ; 2171 |//$FILENAME string_arial_8_defragmenting_store.src
                            16485 ; 2172 |#define RSRC_DEFRAGMENT_STORE_STRING 909    
                            16486 ; 2173 |//$FILENAME string_working.src
                            16487 ; 2174 |#define RSRC_STRING_WORKING 910    
                            16488 ; 2175 |//$FILENAME Funclet_loadusertime.src
                            16489 ; 2176 |#define RSRC_FUNCLET_LOADUSERTIME 911    
                            16490 ; 2177 |//$FILENAME Funclet_saveusertime.src
                            16491 ; 2178 |#define RSRC_FUNCLET_SAVEUSERTIME 912    
                            16492 ; 2179 |
                            16493 ; 2180 |//$FILENAME Funclet_SysLRADCBrownoutInit.src
                            16494 ; 2181 |#define RSRC_FUNCLET_SYSLRADCBROWNOUTINIT 913    
                            16495 ; 2182 |//$FILENAME Funclet_SysBatteryGetLevel.src
                            16496 ; 2183 |#define RSRC_FUNCLET_SYSBATTERYGETLEVEL 914    
                            16497 ; 2184 |
                            16498 ; 2185 |//////////////////////////////////////////////////////////////////////////////////////////
                                  //////////
                            16499 ; 2186 |// Audible ACELP Resources
                            16500 ; 2187 |//////////////////////////////////////////////////////////////////////////////////////////
                                  //////////
                            16501 ; 2188 |//$FILENAME AudibleAcelpDec.src
                            16502 ; 2189 |#define RSRC_AUDIBLE_ACELPDEC_CODE 915    
                            16503 ; 2190 |//$FILENAME AudibleAcelpP.src
                            16504 ; 2191 |#define RSRC_AUDIBLE_ACELP_CODE_P 916    
                            16505 ; 2192 |//$FILENAME AudibleAcelpX.src
                            16506 ; 2193 |#define RSRC_AUDIBLE_ACELP_DATA_X 917    
                            16507 ; 2194 |//$FILENAME AudibleAcelpY.src
                            16508 ; 2195 |#define RSRC_AUDIBLE_ACELP_DATA_Y 918    
                            16509 ; 2196 |
                            16510 ; 2197 |//$FILENAME AudibleDecMod.src
                            16511 ; 2198 |#define RSRC_AUDIBLE_DECMOD_CODE 919    
                            16512 ; 2199 |//$FILENAME audiblemp3p.src
                            16513 ; 2200 |#define RSRC_AUDIBLE_MP3P_CODE 920    
                            16514 ; 2201 |//$FILENAME audiblemp3x.src
                            16515 ; 2202 |#define RSRC_AUDIBLE_MP3X_CODE 921    
                            16516 ; 2203 |//$FILENAME audiblemp3y.src
                            16517 ; 2204 |#define RSRC_AUDIBLE_MP3Y_CODE 922    
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 275

M:ADDR CODE           CYCLES LINE SOURCELINE
                            16518 ; 2205 |
                            16519 ; 2206 |//$FILENAME audiblemetadata_p.src
                            16520 ; 2207 |#define RSRC_AUDIBLE_METADATA_P 923    
                            16521 ; 2208 |//$FILENAME audiblemetadata_y.src
                            16522 ; 2209 |#define RSRC_AUDIBLE_METADATA_Y 924    
                            16523 ; 2210 |//$FILENAME audiblesongposition_p.src
                            16524 ; 2211 |#define RSRC_AUDIBLE_SONG_POSITION_P 925    
                            16525 ; 2212 |//$FILENAME audibletargetcheck_p.src
                            16526 ; 2213 |#define RSRC_AUDIBLE_TARGET_CHECK_P 926    
                            16527 ; 2214 |//$FILENAME audiblefillfileinfo_p.src
                            16528 ; 2215 |#define RSRC_AUDIBLE_FILLFILEINFO_P 927    
                            16529 ; 2216 |//$FILENAME audibledsa_p.src
                            16530 ; 2217 |#define RSRC_AUDIBLE_DSA_P 928    
                            16531 ; 2218 |//$FILENAME audiblefillmetadata_p.src
                            16532 ; 2219 |#define RSRC_AUDIBLE_FILLMETADATA_P 929    
                            16533 ; 2220 |//$FILENAME audiblemetastrings_p.src
                            16534 ; 2221 |#define RSRC_AUDIBLE_METASTRINGS_P 930    
                            16535 ; 2222 |//$FILENAME aaactivationrecords_p.src
                            16536 ; 2223 |#define RSRC_AUDIBLE_ACTIVATION_P 931    
                            16537 ; 2224 |
                            16538 ; 2225 |//////////////////////////////////////////////////////////////////////////////////////////
                                  //////////
                            16539 ; 2226 |// Effects and SRS Resources
                            16540 ; 2227 |//////////////////////////////////////////////////////////////////////////////////////////
                                  //////////
                            16541 ; 2228 |//$FILENAME srs_effectsmodules_p.src
                            16542 ; 2229 |#define RSRC_SRS_EFFECTS_MODULES_P 932    
                            16543 ; 2230 |//$FILENAME srs_effectsmodules_x.src
                            16544 ; 2231 |#define RSRC_SRS_EFFECTS_MODULES_X 933    
                            16545 ; 2232 |//$FILENAME wowctrl.src
                            16546 ; 2233 |#define RSRC_WOW_CTRL 934    
                            16547 ; 2234 |
                            16548 ; 2235 |//$FILENAME wowmenu.src
                            16549 ; 2236 |#define RSRC_WOW_MENU_CODE_BANK 935    
                            16550 ; 2237 |//$FILENAME string_wowbrightness_menu.src
                            16551 ; 2238 |#define RSRC_STRING_WOW_BRIGHTNESS 936    
                            16552 ; 2239 |//$FILENAME string_wow_menu.src
                            16553 ; 2240 |#define RSRC_STRING_WOW_MENU 937    
                            16554 ; 2241 |//$FILENAME string_wowtrubass_menu.src
                            16555 ; 2242 |#define RSRC_STRING_WOW_TRUBASS 938    
                            16556 ; 2243 |//$FILENAME string_wowvolume_menu.src
                            16557 ; 2244 |#define RSRC_STRING_WOW_VOLUME 939    
                            16558 ; 2245 |//$FILENAME string_wowbrightness_low_menu.src
                            16559 ; 2246 |#define RSRC_STRING_WOW_BRIGHT_LOW 940    
                            16560 ; 2247 |//$FILENAME string_wowbrightness_mid_menu.src
                            16561 ; 2248 |#define RSRC_STRING_WOW_BRIGHT_MID 941    
                            16562 ; 2249 |//$FILENAME string_wowbrightness_high_menu.src
                            16563 ; 2250 |#define RSRC_STRING_WOW_BRIGHT_HIGH 942    
                            16564 ; 2251 |//$FILENAME wow_icon.src
                            16565 ; 2252 |#define RSRC_WOW_ICON 943    
                            16566 ; 2253 |
                            16567 ; 2254 |//$FILENAME wow16k.src
                            16568 ; 2255 |#define RSRC_WOW16K 944    
                            16569 ; 2256 |//$FILENAME wow32k.src
                            16570 ; 2257 |#define RSRC_WOW32K 945    
                            16571 ; 2258 |//$FILENAME wow8k.src
                            16572 ; 2259 |#define RSRC_WOW8K 946    
                            16573 ; 2260 |//$FILENAME wow11k.src
                            16574 ; 2261 |#define RSRC_WOW11K 947    
                            16575 ; 2262 |//$FILENAME wow22k.src
                            16576 ; 2263 |#define RSRC_WOW22K 948    
                            16577 ; 2264 |//$FILENAME wow24k.src
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 276

M:ADDR CODE           CYCLES LINE SOURCELINE
                            16578 ; 2265 |#define RSRC_WOW24K 949    
                            16579 ; 2266 |//$FILENAME wow44k.src
                            16580 ; 2267 |#define RSRC_WOW44K 950    
                            16581 ; 2268 |//$FILENAME wow48k.src
                            16582 ; 2269 |#define RSRC_WOW48K 951    
                            16583 ; 2270 |
                            16584 ; 2271 |//$FILENAME wow16k_Y.src
                            16585 ; 2272 |#define RSRC_WOW16K_Y 952    
                            16586 ; 2273 |//$FILENAME wow32k_Y.src
                            16587 ; 2274 |#define RSRC_WOW32K_Y 953    
                            16588 ; 2275 |//$FILENAME wow8k_Y.src
                            16589 ; 2276 |#define RSRC_WOW8K_Y 954    
                            16590 ; 2277 |//$FILENAME wow11k_Y.src
                            16591 ; 2278 |#define RSRC_WOW11K_Y 955    
                            16592 ; 2279 |//$FILENAME wow22k_Y.src
                            16593 ; 2280 |#define RSRC_WOW22K_Y 956    
                            16594 ; 2281 |//$FILENAME wow24k_Y.src
                            16595 ; 2282 |#define RSRC_WOW24K_Y 957    
                            16596 ; 2283 |//$FILENAME wow44k_Y.src
                            16597 ; 2284 |#define RSRC_WOW44K_Y 958    
                            16598 ; 2285 |//$FILENAME wow48k_Y.src
                            16599 ; 2286 |#define RSRC_WOW48K_Y 959    
                            16600 ; 2287 |
                            16601 ; 2288 |//////////////////////////////////////////////////////////////////////////////////////////
                                  ///////////
                            16602 ; 2289 |// Audible Section Navigation
                            16603 ; 2290 |//////////////////////////////////////////////////////////////////////////////////////////
                                  ///////////
                            16604 ; 2291 |//$FILENAME audible_secnav.src
                            16605 ; 2292 |#define RSRC_AUDIBLE_SECNAV_ICON 960    
                            16606 ; 2293 |
                            16607 ; 2294 |//////////////////////////////////////////////////////////////////////////////////////////
                                  //////////
                            16608 ; 2295 |// PLAYLIST3 and Music Library
                            16609 ; 2296 |//////////////////////////////////////////////////////////////////////////////////////////
                                  //////////
                            16610 ; 2297 |
                            16611 ; 2298 |//$FILENAME build_ml.src
                            16612 ; 2299 |#define RSRC_BUILD_ML 961    
                            16613 ; 2300 |//$FILENAME build_ml_warning.src
                            16614 ; 2301 |#define RSRC_BUILD_ML_WARNING 962    
                            16615 ; 2302 |//$FILENAME build_ml_warning2.src
                            16616 ; 2303 |#define RSRC_BUILD_ML_WARNING2 963    
                            16617 ; 2304 |//$FILENAME build_flash1.src
                            16618 ; 2305 |#define RSRC_BUILD_FLASH1 964    
                            16619 ; 2306 |//$FILENAME build_flash2.src
                            16620 ; 2307 |#define RSRC_BUILD_FLASH2 965    
                            16621 ; 2308 |//$FILENAME build_flash3.src
                            16622 ; 2309 |#define RSRC_BUILD_FLASH3 966    
                            16623 ; 2310 |//$FILENAME build_sd1.src
                            16624 ; 2311 |#define RSRC_BUILD_SD1 967    
                            16625 ; 2312 |//$FILENAME build_sd2.src
                            16626 ; 2313 |#define RSRC_BUILD_SD2 968    
                            16627 ; 2314 |//$FILENAME build_sd3.src
                            16628 ; 2315 |#define RSRC_BUILD_SD3 969    
                            16629 ; 2316 |//$FILENAME build_newmusic.src
                            16630 ; 2317 |#define RSRC_BUILD_NEWMUSIC 970    
                            16631 ; 2318 |//$FILENAME sdmd.src
                            16632 ; 2319 |#define RSRC_SDMD_MENU_CODE_BANK 971    
                            16633 ; 2320 |//$FILENAME musiclib_build_function_sec.src
                            16634 ; 2321 |#define RSRC_MUSICLIB_BUILD_FUNCTION_SEC 972    
                            16635 ; 2322 |//$FILENAME musiclib_build_function_flush.src
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 277

M:ADDR CODE           CYCLES LINE SOURCELINE
                            16636 ; 2323 |#define RSRC_MUSICLIB_BUILD_FUNCTION_FLUSH 973    
                            16637 ; 2324 |//$FILENAME MusicLibBuildModule.src
                            16638 ; 2325 |#define RSRC_MUSICLIB_BUILD_MODULE 974    
                            16639 ; 2326 |//$FILENAME MusicLibBuildGenreTable.src
                            16640 ; 2327 |#define RSRC_MUSICLIB_BUILD_GENRE_TABLE 975    
                            16641 ; 2328 |//$FILENAME MusicLibBuildFlushMem.src
                            16642 ; 2329 |#define RSRC_MUSICLIB_BUILD_FLUSH_MEM 976    
                            16643 ; 2330 |//$FILENAME MusicLibBrowseModule.src
                            16644 ; 2331 |#define RSRC_MUSICLIB_BROWSE_MODULE 977    
                            16645 ; 2332 |//$FILENAME MusicLibPlayModule.src
                            16646 ; 2333 |#define RSRC_MUSICLIB_PLAY_MODULE 978    
                            16647 ; 2334 |//$FILENAME MusicLibPlayAllNextModule.src
                            16648 ; 2335 |#define RSRC_MUSICLIB_PLAYALLNEXT_MODULE 979    
                            16649 ; 2336 |//$FILENAME MusicLibPlayAllPrevModule.src
                            16650 ; 2337 |#define RSRC_MUSICLIB_PLAYALLPREV_MODULE 980    
                            16651 ; 2338 |//$FILENAME MusicLibShuffleModule.src
                            16652 ; 2339 |#define RSRC_MUSICLIB_SHUFFLE_MODULE 981    
                            16653 ; 2340 |//$FILENAME Funclet_write_detection_access.src
                            16654 ; 2341 |#define RSRC_FUNCLET_WRITE_DETECTION_ACCESS 982    
                            16655 ; 2342 |//$FILENAME Funclet_LOCAL_GetLvlOneItem_info.src
                            16656 ; 2343 |#define RSRC_FUNCLET_LOCAL_GET_LVL_ONE_ITEM_INFO 983    
                            16657 ; 2344 |//$FILENAME Funclet_LOCAL_GetFlashAssociatedList_info.src
                            16658 ; 2345 |#define RSRC_FUNCLET_LOCAL_GET_FLASH_ASSOCIATED_LIST_INFO 984    
                            16659 ; 2346 |//$FILENAME Funclet_ML_ResumePlayState.src
                            16660 ; 2347 |#define RSRC_FUNCLET_ML_RESUMEPLAYSTATE 985    
                            16661 ; 2348 |//$FILENAME Funclet_ML_UpdateOnTheGo.src
                            16662 ; 2349 |#define RSRC_FUNCLET_ML_UPDATE_ON_THE_GO 986    
                            16663 ; 2350 |//$FILENAME Funclet_ML_ChOnTheGo.src
                            16664 ; 2351 |#define RSRC_FUNCLET_ML_CH_ON_THE_GO 987    
                            16665 ; 2352 |//$FILENAME Funclet_ML_LoadOnTheGo.src
                            16666 ; 2353 |#define RSRC_FUNCLET_ML_LOAD_ON_THE_GO 988    
                            16667 ; 2354 |//$FILENAME Funclet_Build_InitandUseCache.src
                            16668 ; 2355 |#define RSRC_FUNCLET_BUILD_INIT_AND_USE_CACHE 989    
                            16669 ; 2356 |//$FILENAME Funclet_Build_FlushAndCloseCache.src
                            16670 ; 2357 |#define RSRC_FUNCLET_BUILD_FLUSH_AND_CLOSE_CACHE 990    
                            16671 ; 2358 |//$FILENAME Funclet_ML_movePointerBackward.src
                            16672 ; 2359 |#define RSRC_FUNCLET_ML_MOVE_POINTER_BACKWARD 991    
                            16673 ; 2360 |//$FILENAME Funclet_ML_findLastItemPointer.src
                            16674 ; 2361 |#define RSRC_FUNCLET_ML_FIND_LAST_ITEM_POINTER 992    
                            16675 ; 2362 |//$FILENAME Funclet_ML_startShuffle.src
                            16676 ; 2363 |#define RSRC_FUNCLET_ML_START_SHUFFLE 993    
                            16677 ; 2364 |//$FILENAME Funclet_ML_GetFlashDirAssocListId.src
                            16678 ; 2365 |#define RSRC_FUNCLET_ML_GET_FLASH_DIR_ASSOC_LIST_ID 994    
                            16679 ; 2366 |//$FILENAME Funclet_ML_GetFlashDirAssocListRootId.src
                            16680 ; 2367 |#define RSRC_FUNCLET_ML_GET_FLASH_DIR_ASSOC_LIST_ROOT_ID 995    
                            16681 ; 2368 |//$FILENAME Funclet_ML_GetFlashDirAssocListSize.src
                            16682 ; 2369 |#define RSRC_FUNCLET_ML_GET_FLASH_DIR_ASSOC_LIST_SIZE 996    
                            16683 ; 2370 |//$FILENAME Funclet_ML_GetIdByStateAndPosition.src
                            16684 ; 2371 |#define RSRC_FUNCLET_ML_GET_ID_BY_STATE_AND_POSITION 997    
                            16685 ; 2372 |//$FILENAME Funclet_ML_StartPlayDirSongInit.src
                            16686 ; 2373 |#define RSRC_FUNCLET_ML_START_PLAY_DIR_SONG_INIT 998    
                            16687 ; 2374 |//$FILENAME Funclet_ML_ShuffleNextDirSong.src
                            16688 ; 2375 |#define RSRC_FUNCLET_ML_SHUFFLE_NEXT_DIR_SONG 999    
                            16689 ; 2376 |//$FILENAME Funclet_ML_BrowseMenu.src
                            16690 ; 2377 |#define RSRC_FUNCLET_ML_BROWSE_MENU 1000    
                            16691 ; 2378 |//$FILENAME Funclet_ML_StartPlayAllSong.src
                            16692 ; 2379 |#define RSRC_FUNCLET_ML_START_PLAY_ALL_SONG 1001    
                            16693 ; 2380 |//$FILENAME Funclet_ML_PlayAllNextSong.src
                            16694 ; 2381 |#define RSRC_FUNCLET_ML_PLAY_ALL_NEXT_SONG 1002    
                            16695 ; 2382 |//$FILENAME Funclet_ML_PlayAllPreviousSong.src
                            16696 ; 2383 |#define RSRC_FUNCLET_ML_PLAY_ALL_PREVIOUS_SONG 1003    
                            16697 ; 2384 |//$FILENAME Funclet_ML_PlayPreviousDirSong.src
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 278

M:ADDR CODE           CYCLES LINE SOURCELINE
                            16698 ; 2385 |#define RSRC_FUNCLET_ML_PLAY_PREVIOUS_DIR_SONG 1004    
                            16699 ; 2386 |//$FILENAME Funclet_ML_ShuffleNextSong.src
                            16700 ; 2387 |#define RSRC_FUNCLET_ML_SHUFFLE_NEXT_SONG 1005    
                            16701 ; 2388 |//$FILENAME Funclet_ML_PlayNextSong.src
                            16702 ; 2389 |#define RSRC_FUNCLET_ML_PLAY_NEXT_SONG 1006    
                            16703 ; 2390 |//$FILENAME Funclet_ML_PlayPreviousSong.src
                            16704 ; 2391 |#define RSRC_FUNCLET_ML_PLAY_PREVIOUS_SONG 1007    
                            16705 ; 2392 |//$FILENAME Funclet_BuildVoiceFilePath.src
                            16706 ; 2393 |#define RSRC_FUNCLET_BUILDVOICEFILEPATH 1008    
                            16707 ; 2394 |//$FILENAME Funclet_BuildFMFilePath.src
                            16708 ; 2395 |#define RSRC_FUNCLET_BUILDFMFILEPATH 1009    
                            16709 ; 2396 |//$FILENAME Funclet_BuildLINEINFilePath.src
                            16710 ; 2397 |#define RSRC_FUNCLET_BUILDLINEINFILEPATH 1010    
                            16711 ; 2398 |//$FILENAME Funclet_GetVoiceFastKey.src
                            16712 ; 2399 |#define RSRC_FUNCLET_GETVOICEFASTKEY 1011    
                            16713 ; 2400 |//$FILENAME MusicLibVoiceApp.src
                            16714 ; 2401 |#define RSRC_MUSICLIB_VOICE_APP 1012    
                            16715 ; 2402 |//$FILENAME MusicLibVoiceModule.src
                            16716 ; 2403 |#define RSRC_MUSICLIB_VOICE_MODULE 1013    
                            16717 ; 2404 |//$FILENAME MusicLibVoicePlayModule.src
                            16718 ; 2405 |#define RSRC_MUSICLIB_VOICEPLAY_MODULE 1014    
                            16719 ; 2406 |//$FILENAME MusicLibMergeFunction.src
                            16720 ; 2407 |#define RSRC_MUSICLIB_MERGE_FUNCTION 1015    
                            16721 ; 2408 |//$FILENAME MusicLibMergeModule.src
                            16722 ; 2409 |#define RSRC_MUSICLIB_MERGE_MODULE 1016    
                            16723 ; 2410 |//$FILENAME MusicLibBrowseApp.src
                            16724 ; 2411 |#define RSRC_MUSICLIB_BROWSE_APP 1017    
                            16725 ; 2412 |//$FILENAME playmusicmenu.src
                            16726 ; 2413 |#define RSRC_PLAYMUSIC_MENU_CODE_BANK 1018    
                            16727 ; 2414 |//$FILENAME browsemenu.src
                            16728 ; 2415 |#define RSRC_BROWSE_MENU_CODE_BANK 1019    
                            16729 ; 2416 |//$FILENAME browsemenu_extra.src
                            16730 ; 2417 |#define RSRC_BROWSE_MENU_EXTRA_CODE_BANK 1020    
                            16731 ; 2418 |//$FILENAME string_play_all.src
                            16732 ; 2419 |#define RSRC_STRING_PLAY_ALL 1021    
                            16733 ; 2420 |//$FILENAME string_play.src
                            16734 ; 2421 |#define RSRC_STRING_PLAY 1022    
                            16735 ; 2422 |//$FILENAME string_unknown_year.src
                            16736 ; 2423 |#define RSRC_STRING_UNKNOWN_YEAR 1023    
                            16737 ; 2424 |//$FILENAME string_year_width.src
                            16738 ; 2425 |#define RSRC_STRING_YEAR_WIDTH 1024    
                            16739 ; 2426 |//$FILENAME string_artist.src
                            16740 ; 2427 |#define RSRC_STRING_ARTIST 1025    
                            16741 ; 2428 |//$FILENAME string_songs.src
                            16742 ; 2429 |#define RSRC_STRING_SONGS 1026    
                            16743 ; 2430 |//$FILENAME string_on_the_fly.src
                            16744 ; 2431 |#define RSRC_STRING_ON_THE_FLY 1027    
                            16745 ; 2432 |//$FILENAME string_new_music.src
                            16746 ; 2433 |#define RSRC_STRING_NEW_MUSIC_MENU 1028    
                            16747 ; 2434 |//$FILENAME string_genre.src
                            16748 ; 2435 |#define RSRC_STRING_GENRE 1029    
                            16749 ; 2436 |//$FILENAME string_year.src
                            16750 ; 2437 |#define RSRC_STRING_YEAR 1030    
                            16751 ; 2438 |//$FILENAME string_playlist.src
                            16752 ; 2439 |#define RSRC_STRING_PLAYLIST 1031    
                            16753 ; 2440 |//$FILENAME string_fm_rec.src
                            16754 ; 2441 |#define RSRC_STRING_FM_REC 1032    
                            16755 ; 2442 |//$FILENAME string_linein_rec.src
                            16756 ; 2443 |#define RSRC_STRING_LINEIN_REC 1033    
                            16757 ; 2444 |//$FILENAME string_play_music.src
                            16758 ; 2445 |#define RSRC_STRING_PLAY_MUSIC 1034    
                            16759 ; 2446 |//$FILENAME highlight_back.src
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 279

M:ADDR CODE           CYCLES LINE SOURCELINE
                            16760 ; 2447 |#define RSRC_HIGHLIGHT_BACK 1035    
                            16761 ; 2448 |//$FILENAME newmusicmenu.src
                            16762 ; 2449 |#define RSRC_NEW_MUSIC_MENU_CODE_BANK 1036    
                            16763 ; 2450 |//$FILENAME string_1_day.src
                            16764 ; 2451 |#define RSRC_STRING_1_DAY 1037    
                            16765 ; 2452 |//$FILENAME string_1_week.src
                            16766 ; 2453 |#define RSRC_STRING_1_WEEK 1038    
                            16767 ; 2454 |//$FILENAME string_1_month.src
                            16768 ; 2455 |#define RSRC_STRING_1_MONTH 1039    
                            16769 ; 2456 |//$FILENAME on_the_fly_full.src
                            16770 ; 2457 |#define RSRC_LIST_FULL_MESSAGE 1040    
                            16771 ; 2458 |//$FILENAME on_the_fly_free1.src
                            16772 ; 2459 |#define RSRC_LIST_FREE_MESSAGE 1041    
                            16773 ; 2460 |//$FILENAME on_the_fly_free2.src
                            16774 ; 2461 |#define RSRC_LIST_FREE_MESSAGE2 1042    
                            16775 ; 2462 |//$FILENAME on_the_fly_delete1.src
                            16776 ; 2463 |#define RSRC_LIST_DELETE_MESSAGE 1043    
                            16777 ; 2464 |//$FILENAME on_the_fly_delete2.src
                            16778 ; 2465 |#define RSRC_LIST_DELETE_MESSAGE2 1044    
                            16779 ; 2466 |//$FILENAME empty_favourite.src
                            16780 ; 2467 |#define RSRC_EMPTY_FAVOURITE 1045    
                            16781 ; 2468 |//$FILENAME sd_remove.src
                            16782 ; 2469 |#define RSRC_SD_REMOVE 1046    
                            16783 ; 2470 |//$FILENAME sd_insert.src
                            16784 ; 2471 |#define RSRC_SD_INSERT 1047    
                            16785 ; 2472 |//$FILENAME check_disk_1.src
                            16786 ; 2473 |#define RSRC_CHECK_DISK_1 1048    
                            16787 ; 2474 |//$FILENAME check_disk_2.src
                            16788 ; 2475 |#define RSRC_CHECK_DISK_2 1049    
                            16789 ; 2476 |//$FILENAME check_disk_3.src
                            16790 ; 2477 |#define RSRC_CHECK_DISK_3 1050    
                            16791 ; 2478 |//$FILENAME flash_error.src
                            16792 ; 2479 |#define RSRC_FLASH_ERROR 1051    
                            16793 ; 2480 |
                            16794 ; 2481 |//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                            16795 ; 2482 |// STFM1000 Tuner funclet
                            16796 ; 2483 |//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                            16797 ; 2484 |//$FILENAME Funclet_TunerDriverInit.src
                            16798 ; 2485 |#define RSRC_FUNCLET_TUNER_DRIVER_INIT 1052    
                            16799 ; 2486 |//$FILENAME Funclet_TunerDriverIncUp.src
                            16800 ; 2487 |#define RSRC_FUNCLET_TUNER_DRIVER_INC_UP 1053    
                            16801 ; 2488 |//$FILENAME Funclet_TunerDriverIncDown.src
                            16802 ; 2489 |#define RSRC_FUNCLET_TUNER_DRIVER_INC_DOWN 1054    
                            16803 ; 2490 |//$FILENAME Funclet_TunerDriverStandyby.src
                            16804 ; 2491 |#define RSRC_FUNCLET_TUNER_DRIVER_SET_STANDBY 1055    
                            16805 ; 2492 |//$FILENAME Funclet_TunerDriverReplacePreset.src
                            16806 ; 2493 |#define RSRC_FUNCLET_TUNER_DRIVER_REPLACE_PRESET 1056    
                            16807 ; 2494 |//$FILENAME Funclet_TunerDriverErasePreset.src
                            16808 ; 2495 |#define RSRC_FUNCLET_TUNER_DRIVER_ERASE_PRESET 1057    
                            16809 ; 2496 |//$FILENAME Funclet_TunerDriverTuneToPreset.src
                            16810 ; 2497 |#define RSRC_FUNCLET_TUNER_DRIVER_TUNE_TO_PRESET 1058    
                            16811 ; 2498 |//$FILENAME Funclet_TunerDriverSearchDown.src
                            16812 ; 2499 |#define RSRC_FUNCLET_TUNER_DRIVER_SEARCH_DOWN 1059    
                            16813 ; 2500 |//$FILENAME Funclet_TunerSTFM1000SafePowerDown.src
                            16814 ; 2501 |#define RSRC_FUNCLET_TUNER_SAFE_POWER_DOWN 1060    
                            16815 ; 2502 |//$FILENAME Funclet_TunerSTFM1000OptimizeChannel.src
                            16816 ; 2503 |#define RSRC_FUNCLET_STFM1000_TUNER_OPTIMIZE_CHANNEL 1061    
                            16817 ; 2504 |//$FILENAME decstfmmod.src
                            16818 ; 2505 |#define RSRC_DEC_STFM_MOD_CODE 1062    
                            16819 ; 2506 |//$FILENAME dec_stfmp.src
                            16820 ; 2507 |#define RSRC_DEC_STFMP_CODE 1063    
                            16821 ; 2508 |//$FILENAME dec_stfmx.src
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 280

M:ADDR CODE           CYCLES LINE SOURCELINE
                            16822 ; 2509 |#define RSRC_DEC_STFMX_CODE 1064    
                            16823 ; 2510 |//$FILENAME dec_stfmy.src
                            16824 ; 2511 |#define RSRC_DEC_STFMY_CODE 1065    
                            16825 ; 2512 |//$FILENAME Funclet_TunerSTFM1000I2CInit.src
                            16826 ; 2513 |#define RSRC_FUNCLET_STFM1000_I2C_INIT 1066    
                            16827 ; 2514 |//$FILENAME Funclet_TunerDriverScanStations.src
                            16828 ; 2515 |#define RSRC_FUNCLET_TUNER_DRIVER_SCAN_STATION 1067    
                            16829 ; 2516 |//$FILENAME Funclet_TunerDriverSetMonoStereoMode.src
                            16830 ; 2517 |#define RSRC_FUNCLET_TUNER_DRIVER_SET_MONO_STEREO_MODE 1068    
                            16831 ; 2518 |//$FILENAME Funclet_STFM1000TestPresence.src
                            16832 ; 2519 |#define RSRC_FUNCLET_STFM1000_TEST_PRESENCE 1069    
                            16833 ; 2520 |//$FILENAME Funclet_I2CWriteTunerRegister.src
                            16834 ; 2521 |#define RSRC_FUNCLET_I2C_WRITE_TUNER_REGISTER 1070    
                            16835 ; 2522 |//$FILENAME Funclet_I2CReset.src
                            16836 ; 2523 |#define RSRC_FUNCLET_I2C_RESET 1071    
                            16837 ; 2524 |//$FILENAME fmtunersecondrsrc.src
                            16838 ; 2525 |#define RSRC_FM_TUNER_SECOND_RSRC 1072    
                            16839 ; 2526 |//$FILENAME Funclet_TunerSTFM1000RegPowerUp1.src
                            16840 ; 2527 |#define RSRC_FUNCLET_STFM1000_REG_POWER_UP1 1073    
                            16841 ; 2528 |//$FILENAME Funclet_TunerSTFM1000RegPowerUp2.src
                            16842 ; 2529 |#define RSRC_FUNCLET_STFM1000_REG_POWER_UP2 1074    
                            16843 ; 2530 |//$FILENAME Funclet_TunerSTFM1000FindRssiThreshold.src
                            16844 ; 2531 |#define RSRC_FUNCLET_STFM1000_FIND_RSSI_THRESHOLD 1075    
                            16845 ; 2532 |//$FILENAME Funclet_TunerSTFM1000DataPathOff.src
                            16846 ; 2533 |#define RSRC_FUNCLET_STFM1000_DATA_PATH_OFF 1076    
                            16847 ; 2534 |//$FILENAME Funclet_TunerSTFM1000ContinueSearching.src
                            16848 ; 2535 |#define RSRC_FUNCLET_STFM1000_CONTINUE_SEARCHING 1077    
                            16849 ; 2536 |//RSRC_FUNCLET_STFM1000_SET_LNA_BIAS    equ      975    ;$FILENAME Funclet_STFM1000SetLnaB
                                  ias.src
                            16850 ; 2537 |//RSRC_FUNCLET_STFM1000_LOOK_FOR_PILOT    equ      976    ;$FILENAME Funclet_STFM1000LookF
                                  orPilot.src
                            16851 ; 2538 |//$FILENAME Funclet_STFM1000TunerSearchEnded.src
                            16852 ; 2539 |#define RSRC_FUNCLET_STFM1000_TUNER_SEARCH_ENDED 1078    
                            16853 ; 2540 |// for RestoreDriveFromBackup
                            16854 ; 2541 |//$FILENAME restoresysdrive.src
                            16855 ; 2542 |#define RSRC_RESTORESYSDRIVE_P_CODE 1079    
                            16856 ; 2543 |
                            16857 ; 2544 |//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                            16858 ; 2545 |// Playlist5 sources
                            16859 ; 2546 |//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                            16860 ; 2547 |//$FILENAME playlist5_browsemenu.src
                            16861 ; 2548 |#define RSRC_PL5BROWSE_MENU_CODEBANK 1080    
                            16862 ; 2549 |//$FILENAME playlist5_browsemenu_extra.src
                            16863 ; 2550 |#define RSRC_PL5_BROWSEMENU_EXTRA 1081    
                            16864 ; 2551 |//$FILENAME playlist5_browse_submenu.src
                            16865 ; 2552 |#define RSRC_PL5BROWSE_SUBMENU_CODEBANK 1082    
                            16866 ; 2553 |//$FILENAME playlist5_playback_module.src
                            16867 ; 2554 |#define RSRC_PLAYLIST5_PLAYBACK_MODULE 1083    
                            16868 ; 2555 |//$FILENAME playlist5_browse_module.src
                            16869 ; 2556 |#define RSRC_PLAYLIST5_BROWSE_MODULE 1084    
                            16870 ; 2557 |
                            16871 ; 2558 |//$FILENAME Funclet_Get_LRCDirName_PL5.src
                            16872 ; 2559 |#define RSRC_FUNCLET_GET_LRC_DIR_NAME_PL5 1085    
                            16873 ; 2560 |//$FILENAME Funclet_PL5_PL_QueuePushBack.src   
                            16874 ; 2561 |#define RSRC_FUNCLET_PL5_PL_QUEUEPUSHBACK 1086    
                            16875 ; 2562 |//$FILENAME Funclet_PL5_PL_QueuePushFront.src 
                            16876 ; 2563 |#define RSRC_FUNCLET_PL5_PL_QUEUEPUSHFRONT 1087    
                            16877 ; 2564 |
                            16878 ; 2565 |//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                            16879 ; 2566 |// DanhNguyen added bitmaps
                            16880 ; 2567 |//;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
                            16881 ; 2568 |//$FILENAME icon_folder.src
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 281

M:ADDR CODE           CYCLES LINE SOURCELINE
                            16882 ; 2569 |#define RSRC_ICON_FOLDER 1088    
                            16883 ; 2570 |//$FILENAME icon_song.src
                            16884 ; 2571 |#define RSRC_ICON_SONG 1089    
                            16885 ; 2572 |
                            16886 ; 2573 |//$FILENAME menu_music.src
                            16887 ; 2574 |#define RSRC_MENU_MUSIC 1090    
                            16888 ; 2575 |//$FILENAME vie_menu_music.src
                            16889 ; 2576 |#define RSRC_VIE_MENU_MUSIC 1091    
                            16890 ; 2577 |
                            16891 ; 2578 |//$FILENAME menu_voice.src
                            16892 ; 2579 |#define RSRC_MENU_VOICE 1092    
                            16893 ; 2580 |//$FILENAME vie_menu_voice.src
                            16894 ; 2581 |#define RSRC_VIE_MENU_VOICE 1093    
                            16895 ; 2582 |
                            16896 ; 2583 |//$FILENAME menu_fmtuner.src
                            16897 ; 2584 |#define RSRC_MENU_FMTUNER 1094    
                            16898 ; 2585 |//$FILENAME vie_menu_fmtuner.src
                            16899 ; 2586 |#define RSRC_VIE_MENU_FMTUNER 1095    
                            16900 ; 2587 |
                            16901 ; 2588 |//$FILENAME menu_record.src
                            16902 ; 2589 |#define RSRC_MENU_RECORD 1096    
                            16903 ; 2590 |//$FILENAME vie_menu_record.src
                            16904 ; 2591 |#define RSRC_VIE_MENU_RECORD 1097    
                            16905 ; 2592 |
                            16906 ; 2593 |//$FILENAME menu_settings.src
                            16907 ; 2594 |#define RSRC_MENU_SETTINGS 1098    
                            16908 ; 2595 |//$FILENAME vie_menu_settings.src
                            16909 ; 2596 |#define RSRC_VIE_MENU_SETTINGS 1099    
                            16910 ; 2597 |
                            16911 ; 2598 |//$FILENAME menu_shutdown.src
                            16912 ; 2599 |#define RSRC_MENU_SHUTDOWN 1100    
                            16913 ; 2600 |//$FILENAME vie_menu_shutdown.src
                            16914 ; 2601 |#define RSRC_VIE_MENU_SHUTDOWN 1101    
                            16915 ; 2602 |
                            16916 ; 2603 |//$FILENAME menu_clock.src
                            16917 ; 2604 |#define RSRC_MENU_CLOCK 1102    
                            16918 ; 2605 |//$FILENAME vie_menu_clock.src
                            16919 ; 2606 |#define RSRC_VIE_MENU_CLOCK 1103    
                            16920 ; 2607 |
                            16921 ; 2608 |//$FILENAME menu_ab.src
                            16922 ; 2609 |#define RSRC_MENU_AB 1104    
                            16923 ; 2610 |//$FILENAME vie_menu_ab.src
                            16924 ; 2611 |#define RSRC_VIE_MENU_AB 1105    
                            16925 ; 2612 |
                            16926 ; 2613 |//$FILENAME menu_delete.src
                            16927 ; 2614 |#define RSRC_MENU_DELETE 1106    
                            16928 ; 2615 |//$FILENAME vie_menu_delete.src
                            16929 ; 2616 |#define RSRC_VIE_MENU_DELETE 1107    
                            16930 ; 2617 |
                            16931 ; 2618 |//$FILENAME menu_about.src
                            16932 ; 2619 |#define RSRC_MENU_ABOUT 1108    
                            16933 ; 2620 |//$FILENAME vie_menu_about.src
                            16934 ; 2621 |#define RSRC_VIE_MENU_ABOUT 1109    
                            16935 ; 2622 |
                            16936 ; 2623 |//$FILENAME menu_exit.src
                            16937 ; 2624 |#define RSRC_MENU_EXIT 1110    
                            16938 ; 2625 |//$FILENAME vie_menu_exit.src
                            16939 ; 2626 |#define RSRC_VIE_MENU_EXIT 1111    
                            16940 ; 2627 |
                            16941 ; 2628 |//$FILENAME music_play_all.src
                            16942 ; 2629 |#define RSRC_MUSIC_PLAY_ALL 1112    
                            16943 ; 2630 |//$FILENAME vie_music_play_all.src
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 282

M:ADDR CODE           CYCLES LINE SOURCELINE
                            16944 ; 2631 |#define RSRC_VIE_MUSIC_PLAY_ALL 1113    
                            16945 ; 2632 |
                            16946 ; 2633 |//$FILENAME music_folder_internal.src
                            16947 ; 2634 |#define RSRC_MUSIC_FOLDER_INTERNAL 1114    
                            16948 ; 2635 |//$FILENAME vie_music_folder_internal.src
                            16949 ; 2636 |#define RSRC_VIE_MUSIC_FOLDER_INTERNAL 1115    
                            16950 ; 2637 |
                            16951 ; 2638 |//$FILENAME music_folder_external.src
                            16952 ; 2639 |#define RSRC_MUSIC_FOLDER_EXTERNAL 1116    
                            16953 ; 2640 |//$FILENAME vie_music_folder_external.src
                            16954 ; 2641 |#define RSRC_VIE_MUSIC_FOLDER_EXTERNAL 1117    
                            16955 ; 2642 |
                            16956 ; 2643 |//$FILENAME music_songs.src
                            16957 ; 2644 |#define RSRC_MUSIC_SONGS 1118    
                            16958 ; 2645 |//$FILENAME vie_music_songs.src
                            16959 ; 2646 |#define RSRC_VIE_MUSIC_SONGS 1119    
                            16960 ; 2647 |
                            16961 ; 2648 |//$FILENAME music_favorites.src
                            16962 ; 2649 |#define RSRC_MUSIC_FAVORITES 1120    
                            16963 ; 2650 |//$FILENAME vie_music_favorites.src
                            16964 ; 2651 |#define RSRC_VIE_MUSIC_FAVORITES 1121    
                            16965 ; 2652 |
                            16966 ; 2653 |//$FILENAME music_fm_record.src
                            16967 ; 2654 |#define RSRC_MUSIC_FM_RECORD 1122    
                            16968 ; 2655 |//$FILENAME vie_music_fm_record.src
                            16969 ; 2656 |#define RSRC_VIE_MUSIC_FM_RECORD 1123    
                            16970 ; 2657 |
                            16971 ; 2658 |//$FILENAME music_exit.src
                            16972 ; 2659 |#define RSRC_MUSIC_EXIT 1124    
                            16973 ; 2660 |//$FILENAME vie_music_exit.src
                            16974 ; 2661 |#define RSRC_VIE_MUSIC_EXIT 1125    
                            16975 ; 2662 |
                            16976 ; 2663 |//$FILENAME browse_music_folder_internal.src
                            16977 ; 2664 |#define RSRC_BROWSE_MUSIC_FOLDER_INTERNAL 1126    
                            16978 ; 2665 |//$FILENAME vie_browse_music_folder_internal.src
                            16979 ; 2666 |#define RSRC_VIE_BROWSE_MUSIC_FOLDER_INTERNAL 1127    
                            16980 ; 2667 |
                            16981 ; 2668 |//$FILENAME browse_music_folder_external.src
                            16982 ; 2669 |#define RSRC_BROWSE_MUSIC_FOLDER_EXTERNAL 1128    
                            16983 ; 2670 |//$FILENAME vie_browse_music_folder_external.src
                            16984 ; 2671 |#define RSRC_VIE_BROWSE_MUSIC_FOLDER_EXTERNAL 1129    
                            16985 ; 2672 |
                            16986 ; 2673 |//$FILENAME browse_music_list_songs.src
                            16987 ; 2674 |#define RSRC_BROWSE_MUSIC_LIST_SONGS 1130    
                            16988 ; 2675 |//$FILENAME vie_browse_music_list_songs.src
                            16989 ; 2676 |#define RSRC_VIE_BROWSE_MUSIC_LIST_SONGS 1131    
                            16990 ; 2677 |
                            16991 ; 2678 |//$FILENAME browse_music_favourites.src
                            16992 ; 2679 |#define RSRC_BROWSE_MUSIC_FAVOURITES 1132    
                            16993 ; 2680 |//$FILENAME vie_browse_music_favourites.src
                            16994 ; 2681 |#define RSRC_VIE_BROWSE_MUSIC_FAVOURITES 1133    
                            16995 ; 2682 |
                            16996 ; 2683 |//$FILENAME browse_music_fm_files.src
                            16997 ; 2684 |#define RSRC_BROWSE_MUSIC_FM_FILES 1134    
                            16998 ; 2685 |//$FILENAME vie_browse_music_fm_files.src
                            16999 ; 2686 |#define RSRC_VIE_BROWSE_MUSIC_FM_FILES 1135    
                            17000 ; 2687 |
                            17001 ; 2688 |//$FILENAME browse_voice.src
                            17002 ; 2689 |#define RSRC_BROWSE_VOICE 1136    
                            17003 ; 2690 |//$FILENAME vie_browse_voice.src
                            17004 ; 2691 |#define RSRC_VIE_BROWSE_VOICE 1137    
                            17005 ; 2692 |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 283

M:ADDR CODE           CYCLES LINE SOURCELINE
                            17006 ; 2693 |//$FILENAME favourites_list_add.src
                            17007 ; 2694 |#define RSRC_FAVOURITES_LIST_ADD 1138    
                            17008 ; 2695 |//$FILENAME vie_favourites_list_add.src
                            17009 ; 2696 |#define RSRC_VIE_FAVOURITES_LIST_ADD 1139    
                            17010 ; 2697 |
                            17011 ; 2698 |//$FILENAME favourites_list_remove.src
                            17012 ; 2699 |#define RSRC_FAVOURITES_LIST_REMOVE 1140    
                            17013 ; 2700 |//$FILENAME vie_favourites_list_remove.src
                            17014 ; 2701 |#define RSRC_VIE_FAVOURITES_LIST_REMOVE 1141    
                            17015 ; 2702 |
                            17016 ; 2703 |//$FILENAME favourites_list_is_full.src
                            17017 ; 2704 |#define RSRC_FAVOURITES_LIST_IS_FULL 1142    
                            17018 ; 2705 |//$FILENAME vie_favourites_list_is_full.src
                            17019 ; 2706 |#define RSRC_VIE_FAVOURITES_LIST_IS_FULL 1143    
                            17020 ; 2707 |
                            17021 ; 2708 |//$FILENAME about_screen_1.src
                            17022 ; 2709 |#define RSRC_ABOUT_SCREEN_1 1144    
                            17023 ; 2710 |//$FILENAME vie_about_screen_1.src
                            17024 ; 2711 |#define RSRC_VIE_ABOUT_SCREEN_1 1145    
                            17025 ; 2712 |
                            17026 ; 2713 |//$FILENAME about_screen_2.src
                            17027 ; 2714 |#define RSRC_ABOUT_SCREEN_2 1146    
                            17028 ; 2715 |//$FILENAME vie_about_screen_2.src
                            17029 ; 2716 |#define RSRC_VIE_ABOUT_SCREEN_2 1147    
                            17030 ; 2717 |
                            17031 ; 2718 |//$FILENAME about_screen_3.src
                            17032 ; 2719 |#define RSRC_ABOUT_SCREEN_3 1148    
                            17033 ; 2720 |//$FILENAME vie_about_screen_3.src
                            17034 ; 2721 |#define RSRC_VIE_ABOUT_SCREEN_3 1149    
                            17035 ; 2722 |
                            17036 ; 2723 |//$FILENAME about_screen_4.src
                            17037 ; 2724 |#define RSRC_ABOUT_SCREEN_4 1150    
                            17038 ; 2725 |//$FILENAME vie_about_screen_4.src
                            17039 ; 2726 |#define RSRC_VIE_ABOUT_SCREEN_4 1151    
                            17040 ; 2727 |
                            17041 ; 2728 |//$FILENAME time_date_exit_title.src
                            17042 ; 2729 |#define RSRC_TIME_DATE_EXIT_TITLE 1152    
                            17043 ; 2730 |//$FILENAME vie_time_date_exit_title.src
                            17044 ; 2731 |#define RSRC_VIE_TIME_DATE_EXIT_TITLE 1153    
                            17045 ; 2732 |
                            17046 ; 2733 |//$FILENAME time_clean_desktop.src
                            17047 ; 2734 |#define RSRC_TIME_CLEAN_DESKTOP 1154    
                            17048 ; 2735 |//$FILENAME time_dash.src
                            17049 ; 2736 |#define RSRC_TIME_DASH 1155    
                            17050 ; 2737 |
                            17051 ; 2738 |//$FILENAME time_day_7.src
                            17052 ; 2739 |#define RSRC_TIME_DAY_SAT 1156    
                            17053 ; 2740 |//$FILENAME vie_time_day_7.src
                            17054 ; 2741 |#define RSRC_VIE_TIME_DAY_SAT 1157    
                            17055 ; 2742 |//$FILENAME time_day_cn.src
                            17056 ; 2743 |#define RSRC_TIME_DAY_SUN 1158    
                            17057 ; 2744 |//$FILENAME vie_time_day_cn.src
                            17058 ; 2745 |#define RSRC_VIE_TIME_DAY_SUN 1159    
                            17059 ; 2746 |//$FILENAME time_day_2.src
                            17060 ; 2747 |#define RSRC_TIME_DAY_MON 1160    
                            17061 ; 2748 |//$FILENAME vie_time_day_2.src
                            17062 ; 2749 |#define RSRC_VIE_TIME_DAY_MON 1161    
                            17063 ; 2750 |//$FILENAME time_day_3.src
                            17064 ; 2751 |#define RSRC_TIME_DAY_TUE 1162    
                            17065 ; 2752 |//$FILENAME vie_time_day_3.src
                            17066 ; 2753 |#define RSRC_VIE_TIME_DAY_TUE 1163    
                            17067 ; 2754 |//$FILENAME time_day_4.src
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 284

M:ADDR CODE           CYCLES LINE SOURCELINE
                            17068 ; 2755 |#define RSRC_TIME_DAY_WED 1164    
                            17069 ; 2756 |//$FILENAME vie_time_day_4.src
                            17070 ; 2757 |#define RSRC_VIE_TIME_DAY_WED 1165    
                            17071 ; 2758 |//$FILENAME time_day_5.src
                            17072 ; 2759 |#define RSRC_TIME_DAY_THU 1166    
                            17073 ; 2760 |//$FILENAME vie_time_day_5.src
                            17074 ; 2761 |#define RSRC_VIE_TIME_DAY_THU 1167    
                            17075 ; 2762 |//$FILENAME time_day_6.src
                            17076 ; 2763 |#define RSRC_TIME_DAY_FRI 1168    
                            17077 ; 2764 |//$FILENAME vie_time_day_6.src
                            17078 ; 2765 |#define RSRC_VIE_TIME_DAY_FRI 1169    
                            17079 ; 2766 |
                            17080 ; 2767 |//$FILENAME time_month_1.src
                            17081 ; 2768 |#define RSRC_TIME_MONTH_1 1170    
                            17082 ; 2769 |//$FILENAME vie_time_month_1.src
                            17083 ; 2770 |#define RSRC_VIE_TIME_MONTH_1 1171    
                            17084 ; 2771 |//$FILENAME time_month_2.src
                            17085 ; 2772 |#define RSRC_TIME_MONTH_2 1172    
                            17086 ; 2773 |//$FILENAME vie_time_month_2.src
                            17087 ; 2774 |#define RSRC_VIE_TIME_MONTH_2 1173    
                            17088 ; 2775 |//$FILENAME time_month_3.src
                            17089 ; 2776 |#define RSRC_TIME_MONTH_3 1174    
                            17090 ; 2777 |//$FILENAME vie_time_month_3.src
                            17091 ; 2778 |#define RSRC_VIE_TIME_MONTH_3 1175    
                            17092 ; 2779 |//$FILENAME time_month_4.src
                            17093 ; 2780 |#define RSRC_TIME_MONTH_4 1176    
                            17094 ; 2781 |//$FILENAME vie_time_month_4.src
                            17095 ; 2782 |#define RSRC_VIE_TIME_MONTH_4 1177    
                            17096 ; 2783 |//$FILENAME time_month_5.src
                            17097 ; 2784 |#define RSRC_TIME_MONTH_5 1178    
                            17098 ; 2785 |//$FILENAME vie_time_month_5.src
                            17099 ; 2786 |#define RSRC_VIE_TIME_MONTH_5 1179    
                            17100 ; 2787 |//$FILENAME time_month_6.src
                            17101 ; 2788 |#define RSRC_TIME_MONTH_6 1180    
                            17102 ; 2789 |//$FILENAME vie_time_month_6.src
                            17103 ; 2790 |#define RSRC_VIE_TIME_MONTH_6 1181    
                            17104 ; 2791 |//$FILENAME time_month_7.src
                            17105 ; 2792 |#define RSRC_TIME_MONTH_7 1182    
                            17106 ; 2793 |//$FILENAME vie_time_month_7.src
                            17107 ; 2794 |#define RSRC_VIE_TIME_MONTH_7 1183    
                            17108 ; 2795 |//$FILENAME time_month_8.src
                            17109 ; 2796 |#define RSRC_TIME_MONTH_8 1184    
                            17110 ; 2797 |//$FILENAME vie_time_month_8.src
                            17111 ; 2798 |#define RSRC_VIE_TIME_MONTH_8 1185    
                            17112 ; 2799 |//$FILENAME time_month_9.src
                            17113 ; 2800 |#define RSRC_TIME_MONTH_9 1186    
                            17114 ; 2801 |//$FILENAME vie_time_month_9.src
                            17115 ; 2802 |#define RSRC_VIE_TIME_MONTH_9 1187    
                            17116 ; 2803 |//$FILENAME time_month_10.src
                            17117 ; 2804 |#define RSRC_TIME_MONTH_10 1188    
                            17118 ; 2805 |//$FILENAME vie_time_month_10.src
                            17119 ; 2806 |#define RSRC_VIE_TIME_MONTH_10 1189    
                            17120 ; 2807 |//$FILENAME time_month_11.src
                            17121 ; 2808 |#define RSRC_TIME_MONTH_11 1190    
                            17122 ; 2809 |//$FILENAME vie_time_month_11.src
                            17123 ; 2810 |#define RSRC_VIE_TIME_MONTH_11 1191    
                            17124 ; 2811 |//$FILENAME time_month_12.src
                            17125 ; 2812 |#define RSRC_TIME_MONTH_12 1192    
                            17126 ; 2813 |//$FILENAME vie_time_month_12.src
                            17127 ; 2814 |#define RSRC_VIE_TIME_MONTH_12 1193    
                            17128 ; 2815 |
                            17129 ; 2816 |//$FILENAME time_num_am.src
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 285

M:ADDR CODE           CYCLES LINE SOURCELINE
                            17130 ; 2817 |#define RSRC_TIME_NUM_AM 1194    
                            17131 ; 2818 |//$FILENAME time_num_am.src
                            17132 ; 2819 |#define RSRC_TIME_NUM_PM 1195    
                            17133 ; 2820 |//$FILENAME settime_format_12h.src
                            17134 ; 2821 |#define RSRC_SETTIME_FORMAT_12H 1196    
                            17135 ; 2822 |//$FILENAME settime_format_24h.src
                            17136 ; 2823 |#define RSRC_SETTIME_FORMAT_24H 1197    
                            17137 ; 2824 |//$FILENAME setdate_format_dmy.src
                            17138 ; 2825 |#define RSRC_SETDATE_FORMAT_DMY 1198    
                            17139 ; 2826 |//$FILENAME setdate_format_mdy.src
                            17140 ; 2827 |#define RSRC_SETDATE_FORMAT_MDY 1199    
                            17141 ; 2828 |//$FILENAME setdate_format_ymd.src
                            17142 ; 2829 |#define RSRC_SETDATE_FORMAT_YMD 1200    
                            17143 ; 2830 |
                            17144 ; 2831 |//$FILENAME time_num_large_0.src
                            17145 ; 2832 |#define RSRC_TIME_NUM_LARGE_0 1201    
                            17146 ; 2833 |//$FILENAME time_num_large_1.src
                            17147 ; 2834 |#define RSRC_TIME_NUM_LARGE_1 1202    
                            17148 ; 2835 |//$FILENAME time_num_large_2.src
                            17149 ; 2836 |#define RSRC_TIME_NUM_LARGE_2 1203    
                            17150 ; 2837 |//$FILENAME time_num_large_3.src
                            17151 ; 2838 |#define RSRC_TIME_NUM_LARGE_3 1204    
                            17152 ; 2839 |//$FILENAME time_num_large_4.src
                            17153 ; 2840 |#define RSRC_TIME_NUM_LARGE_4 1205    
                            17154 ; 2841 |//$FILENAME time_num_large_5.src
                            17155 ; 2842 |#define RSRC_TIME_NUM_LARGE_5 1206    
                            17156 ; 2843 |//$FILENAME time_num_large_6.src
                            17157 ; 2844 |#define RSRC_TIME_NUM_LARGE_6 1207    
                            17158 ; 2845 |//$FILENAME time_num_large_7.src
                            17159 ; 2846 |#define RSRC_TIME_NUM_LARGE_7 1208    
                            17160 ; 2847 |//$FILENAME time_num_large_8.src
                            17161 ; 2848 |#define RSRC_TIME_NUM_LARGE_8 1209    
                            17162 ; 2849 |//$FILENAME time_num_large_9.src
                            17163 ; 2850 |#define RSRC_TIME_NUM_LARGE_9 1210    
                            17164 ; 2851 |
                            17165 ; 2852 |//$FILENAME time_num_medium_0.src
                            17166 ; 2853 |#define RSRC_TIME_NUM_MEDIUM_0 1211    
                            17167 ; 2854 |//$FILENAME time_num_medium_1.src
                            17168 ; 2855 |#define RSRC_TIME_NUM_MEDIUM_1 1212    
                            17169 ; 2856 |//$FILENAME time_num_medium_2.src
                            17170 ; 2857 |#define RSRC_TIME_NUM_MEDIUM_2 1213    
                            17171 ; 2858 |//$FILENAME time_num_medium_3.src
                            17172 ; 2859 |#define RSRC_TIME_NUM_MEDIUM_3 1214    
                            17173 ; 2860 |//$FILENAME time_num_medium_4.src
                            17174 ; 2861 |#define RSRC_TIME_NUM_MEDIUM_4 1215    
                            17175 ; 2862 |//$FILENAME time_num_medium_5.src
                            17176 ; 2863 |#define RSRC_TIME_NUM_MEDIUM_5 1216    
                            17177 ; 2864 |//$FILENAME time_num_medium_6.src
                            17178 ; 2865 |#define RSRC_TIME_NUM_MEDIUM_6 1217    
                            17179 ; 2866 |//$FILENAME time_num_medium_7.src
                            17180 ; 2867 |#define RSRC_TIME_NUM_MEDIUM_7 1218    
                            17181 ; 2868 |//$FILENAME time_num_medium_8.src
                            17182 ; 2869 |#define RSRC_TIME_NUM_MEDIUM_8 1219    
                            17183 ; 2870 |//$FILENAME time_num_medium_9.src
                            17184 ; 2871 |#define RSRC_TIME_NUM_MEDIUM_9 1220    
                            17185 ; 2872 |
                            17186 ; 2873 |//$FILENAME time_colon.src
                            17187 ; 2874 |#define RSRC_TIME_COLON 1221    
                            17188 ; 2875 |
                            17189 ; 2876 |//$FILENAME settings_backlight_title.src
                            17190 ; 2877 |#define RSRC_SETTINGS_BACKLIGHT_TITLE 1222    
                            17191 ; 2878 |//$FILENAME settings_auto_shutdown_title.src
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 286

M:ADDR CODE           CYCLES LINE SOURCELINE
                            17192 ; 2879 |#define RSRC_SETTINGS_AUTO_SHUTDOWN_TITLE 1223    
                            17193 ; 2880 |//$FILENAME settings_playmode_title.src
                            17194 ; 2881 |#define RSRC_SETTINGS_PLAYMODE_TITLE 1224    
                            17195 ; 2882 |
                            17196 ; 2883 |//$FILENAME settings_contrast_title.src
                            17197 ; 2884 |#define RSRC_SETTINGS_CONTRAST_TITLE 1225    
                            17198 ; 2885 |//$FILENAME vie_settings_contrast_title.src
                            17199 ; 2886 |#define RSRC_VIE_SETTINGS_CONTRAST_TITLE 1226    
                            17200 ; 2887 |
                            17201 ; 2888 |//$FILENAME settings_eq_title.src
                            17202 ; 2889 |#define RSRC_SETTINGS_EQ_TITLE 1227    
                            17203 ; 2890 |//$FILENAME vie_settings_eq_title.src
                            17204 ; 2891 |#define RSRC_VIE_SETTINGS_EQ_TITLE 1228    
                            17205 ; 2892 |
                            17206 ; 2893 |//$FILENAME settings_exit_title.src
                            17207 ; 2894 |#define RSRC_SETTINGS_EXIT_TITLE 1229    
                            17208 ; 2895 |//$FILENAME vie_settings_exit_title.src
                            17209 ; 2896 |#define RSRC_VIE_SETTINGS_EXIT_TITLE 1230    
                            17210 ; 2897 |
                            17211 ; 2898 |//$FILENAME settings_set_date_title.src
                            17212 ; 2899 |#define RSRC_SETTINGS_SET_DATE_TITLE 1231    
                            17213 ; 2900 |//$FILENAME vie_settings_set_date_title.src
                            17214 ; 2901 |#define RSRC_VIE_SETTINGS_SET_DATE_TITLE 1232    
                            17215 ; 2902 |
                            17216 ; 2903 |//$FILENAME settings_set_time_title.src
                            17217 ; 2904 |#define RSRC_SETTINGS_SET_TIME_TITLE 1233    
                            17218 ; 2905 |//$FILENAME vie_settings_set_time_title.src
                            17219 ; 2906 |#define RSRC_VIE_SETTINGS_SET_TIME_TITLE 1234    
                            17220 ; 2907 |
                            17221 ; 2908 |//$FILENAME settings_playmode_normal.src
                            17222 ; 2909 |#define RSRC_SETTINGS_PLAYMODE_NORMAL 1235    
                            17223 ; 2910 |//$FILENAME vie_settings_playmode_normal.src
                            17224 ; 2911 |#define RSRC_VIE_SETTINGS_PLAYMODE_NORMAL 1236    
                            17225 ; 2912 |
                            17226 ; 2913 |//$FILENAME settings_playmode_repeatone.src
                            17227 ; 2914 |#define RSRC_SETTINGS_PLAYMODE_REPEATONE 1237    
                            17228 ; 2915 |//$FILENAME vie_settings_playmode_repeatone.src
                            17229 ; 2916 |#define RSRC_VIE_SETTINGS_PLAYMODE_REPEATONE 1238    
                            17230 ; 2917 |
                            17231 ; 2918 |//$FILENAME settings_playmode_repeatall.src
                            17232 ; 2919 |#define RSRC_SETTINGS_PLAYMODE_REPEATALL 1239    
                            17233 ; 2920 |//$FILENAME vie_settings_playmode_repeatall.src
                            17234 ; 2921 |#define RSRC_VIE_SETTINGS_PLAYMODE_REPEATALL 1240    
                            17235 ; 2922 |
                            17236 ; 2923 |//$FILENAME settings_playmode_shuffle.src
                            17237 ; 2924 |#define RSRC_SETTINGS_PLAYMODE_SHUFFLE 1241    
                            17238 ; 2925 |//$FILENAME vie_settings_playmode_shuffle.src
                            17239 ; 2926 |#define RSRC_VIE_SETTINGS_PLAYMODE_SHUFFLE 1242    
                            17240 ; 2927 |
                            17241 ; 2928 |//$FILENAME settings_playmode_shuffle_repeat.src
                            17242 ; 2929 |#define RSRC_SETTINGS_PLAYMODE_SHUFFLE_REPEAT 1243    
                            17243 ; 2930 |//$FILENAME vie_settings_playmode_shuffle_repeat.src
                            17244 ; 2931 |#define RSRC_VIE_SETTINGS_PLAYMODE_SHUFFLE_REPEAT 1244    
                            17245 ; 2932 |
                            17246 ; 2933 |//$FILENAME settings_backlight_on.src
                            17247 ; 2934 |#define RSRC_SETTINGS_BACKLIGHT_ON 1245    
                            17248 ; 2935 |//$FILENAME vie_settings_backlight_on.src
                            17249 ; 2936 |#define RSRC_VIE_SETTINGS_BACKLIGHT_ON 1246    
                            17250 ; 2937 |
                            17251 ; 2938 |//$FILENAME settings_backlight_10s.src
                            17252 ; 2939 |#define RSRC_SETTINGS_BACKLIGHT_10S 1247    
                            17253 ; 2940 |//$FILENAME vie_settings_backlight_10s.src
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 287

M:ADDR CODE           CYCLES LINE SOURCELINE
                            17254 ; 2941 |#define RSRC_VIE_SETTINGS_BACKLIGHT_10S 1248    
                            17255 ; 2942 |
                            17256 ; 2943 |//$FILENAME settings_backlight_20s.src
                            17257 ; 2944 |#define RSRC_SETTINGS_BACKLIGHT_20S 1249    
                            17258 ; 2945 |//$FILENAME vie_settings_backlight_20s.src
                            17259 ; 2946 |#define RSRC_VIE_SETTINGS_BACKLIGHT_20s 1250    
                            17260 ; 2947 |
                            17261 ; 2948 |//$FILENAME settings_backlight_30s.src
                            17262 ; 2949 |#define RSRC_SETTINGS_BACKLIGHT_30S 1251    
                            17263 ; 2950 |//$FILENAME vie_settings_backlight_30s.src
                            17264 ; 2951 |#define RSRC_VIE_SETTINGS_BACKLIGHT_30S 1252    
                            17265 ; 2952 |
                            17266 ; 2953 |//$FILENAME settings_auto_shutdown_disable.src
                            17267 ; 2954 |#define RSRC_SETTINGS_AUTO_SHUTDOWN_DISABLE 1253    
                            17268 ; 2955 |//$FILENAME vie_settings_auto_shutdown_disable.src
                            17269 ; 2956 |#define RSRC_VIE_SETTINGS_AUTO_SHUTDOWN_DISABLE 1254    
                            17270 ; 2957 |
                            17271 ; 2958 |//$FILENAME settings_auto_shutdown_1minute.src
                            17272 ; 2959 |#define RSRC_SETTINGS_AUTO_SHUTDOWN_1MINUTE 1255    
                            17273 ; 2960 |//$FILENAME vie_settings_auto_shutdown_1min.src
                            17274 ; 2961 |#define RSRC_VIE_SETTINGS_AUTO_SHUTDOWN_1MINUTE 1256    
                            17275 ; 2962 |
                            17276 ; 2963 |//$FILENAME settings_auto_shutdown_2minutes.src
                            17277 ; 2964 |#define RSRC_SETTINGS_AUTO_SHUTDOWN_2MINUTES 1257    
                            17278 ; 2965 |//$FILENAME vie_settings_auto_shutdown_2min.src
                            17279 ; 2966 |#define RSRC_VIE_SETTINGS_AUTO_SHUTDOWN_2MINUTES 1258    
                            17280 ; 2967 |
                            17281 ; 2968 |//$FILENAME settings_auto_shutdown_5minutes.src
                            17282 ; 2969 |#define RSRC_SETTINGS_AUTO_SHUTDOWN_5MINUTES 1259    
                            17283 ; 2970 |//$FILENAME vie_settings_auto_shutdown_5min.src
                            17284 ; 2971 |#define RSRC_VIE_SETTINGS_AUTO_SHUTDOWN_5MINUTES 1260    
                            17285 ; 2972 |
                            17286 ; 2973 |//$FILENAME settings_auto_shutdown_10minutes.src
                            17287 ; 2974 |#define RSRC_SETTINGS_AUTO_SHUTDOWN_10MINUTES 1261    
                            17288 ; 2975 |//$FILENAME vie_settings_auto_shutdown_10min.src
                            17289 ; 2976 |#define RSRC_VIE_SETTINGS_AUTO_SHUTDOWN_10MINUTES 1262    
                            17290 ; 2977 |
                            17291 ; 2978 |//$FILENAME settings_languages_eng.src
                            17292 ; 2979 |#define RSRC_SETTINGS_LANGUAGES_ENG 1263    
                            17293 ; 2980 |//$FILENAME settings_languages_vie.src
                            17294 ; 2981 |#define RSRC_SETTINGS_LANGUAGES_VIE 1264    
                            17295 ; 2982 |
                            17296 ; 2983 |//$FILENAME fraction_dot.src
                            17297 ; 2984 |#define RSRC_FRACTION_DOT 1265    
                            17298 ; 2985 |
                            17299 ; 2986 |//$FILENAME fm_background.src
                            17300 ; 2987 |#define RSRC_FM_BACKGROUND 1266    
                            17301 ; 2988 |//$FILENAME vie_fm_background.src
                            17302 ; 2989 |#define RSRC_VIE_FM_BACKGROUND 1267    
                            17303 ; 2990 |
                            17304 ; 2991 |//$FILENAME searching_please_wait.src
                            17305 ; 2992 |#define RSRC_SEARCHING_PLEASE_WAIT 1268    
                            17306 ; 2993 |//$FILENAME vie_searching_please_wait.src
                            17307 ; 2994 |#define RSRC_VIE_SEARCHING_PLEASE_WAIT 1269    
                            17308 ; 2995 |
                            17309 ; 2996 |//$FILENAME fm_auto_search.src
                            17310 ; 2997 |#define RSRC_FM_AUTO_SEARCH 1270    
                            17311 ; 2998 |//$FILENAME vie_fm_auto_search.src
                            17312 ; 2999 |#define RSRC_VIE_FM_AUTO_SEARCH 1271    
                            17313 ; 3000 |
                            17314 ; 3001 |//$FILENAME jvj_shutdown_player.src
                            17315 ; 3002 |#define RSRC_JVJ_SHUTDOWN_PLAYER 1272    
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 288

M:ADDR CODE           CYCLES LINE SOURCELINE
                            17316 ; 3003 |//$FILENAME vie_jvj_shutdown_player.src
                            17317 ; 3004 |#define RSRC_VIE_JVJ_SHUTDOWN_PLAYER 1273    
                            17318 ; 3005 |
                            17319 ; 3006 |#endif //IF (!@def(resources))
                            17320 ; 3007 |
                            17321 
                            17323 
                            17324 ; 15   |#include "metadata.h"
                            17325 
                            17327 
                            17328 ; 1    |////////////////////////////////////////////////////////////////////////////////
                            17329 ; 2    |// Copyright(C) SigmaTel, Inc. 2002
                            17330 ; 3    |//
                            17331 ; 4    |// Filename: metadata.h
                            17332 ; 5    |// Description:
                            17333 ; 6    |////////////////////////////////////////////////////////////////////////////////
                            17334 ; 7    |
                            17335 ; 8    |#ifndef _METADATA_H
                            17336 ; 9    |#define _METADATA_H
                            17337 ; 10   |
                            17338 ; 11   |///////////////////////////////////////////////////////////////////////////////
                            17339 ; 12   |// MetaData definitions
                            17340 ; 13   |///////////////////////////////////////////////////////////////////////////////
                            17341 ; 14   |
                            17342 ; 15   |//#define MMC_CMD59       0x40|59
                            17343 ; 16   |
                            17344 ; 17   |///////////////////////////////////////////////////////////////////////////////
                            17345 ; 18   |// Meta Data structure definitions
                            17346 ; 19   |///////////////////////////////////////////////////////////////////////////////
                            17347 ; 20   |
                            17348 ; 21   |///////////////////////////////////////////////////////////////////////////////
                            17349 ; 22   |// MetaData definitions
                            17350 ; 23   |
                            17351 ; 24   |#define META_DATA_FOUND                     (WORD)(0)
                            17352 ; 25   |#define META_DATA_NOT_FOUND                 (WORD)(0x100)
                            17353 ; 26   |#define META_DATA_FILE_NOT_SUPPORTED        (WORD)(0x101)
                            17354 ; 27   |#define META_DATA_FILEOPEN_ERROR            (WORD)(0x200)
                            17355 ; 28   |#define META_DATA_FILEREAD_ERROR            (WORD)(0x201)
                            17356 ; 29   |#define META_DATA_FILECLOSE_ERROR           (WORD)(0x202)
                            17357 ; 30   |#define META_DATA_FILESEEK_ERROR            (WORD)(0x203)
                            17358 ; 31   |#define META_DATA_FILEWRITE_ERROR           (WORD)(0x204)
                            17359 ; 32   |#define META_DATA_SUCCESS                               (WORD)(0x205)
                            17360 ; 33   |
                            17361 ; 34   |#define META_DATA_NOT_VBR_FORMAT            (WORD)(0x102)
                            17362 ; 35   |
                            17363 ; 36   |// VBR
                            17364 ; 37   |#define VBR_NOT_DETERMINED 0
                            17365 ; 38   |#define VBR_TRUE 1
                            17366 ; 39   |
                            17367 ; 40   |#ifndef TITLE_SIZE
                            17368 ; 41   |//#define TITLE_SIZE 30
                            17369 ; 42   |#ifndef USE_PLAYLIST3
                            17370 ; 43   |#define TITLE_SIZE 256          //was 30 but LFNs require up to 256!
                            17371 ; 44   |#else
                            17372 ; 45   |#define TITLE_SIZE 80           //was 256 but music library only store up to 129!
                            17373 ; 46   |#endif
                            17374 ; 47   |#endif
                            17375 ; 48   |
                            17376 ; 49   |#ifndef ARTIST_SIZE
                            17377 ; 50   |#ifndef USE_PLAYLIST3
                            17378 ; 51   |//#define ARTIST_SIZE 30
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 289

M:ADDR CODE           CYCLES LINE SOURCELINE
                            17379 ; 52   |#define ARTIST_SIZE 100         // increase artist size for use with ID3V2 tags (Stmp00003
                                  110)
                            17380 ; 53   |#else
                            17381 ; 54   |#define ARTIST_SIZE 48          // increase artist size for use with ID3V2 tags (Stmp00003
                                  110)
                            17382 ; 55   |#endif
                            17383 ; 56   |#endif
                            17384 ; 57   |
                            17385 ; 58   |#ifndef ALBUM_SIZE
                            17386 ; 59   |#ifndef USE_PLAYLIST3
                            17387 ; 60   |//#define ALBUM_SIZE 30
                            17388 ; 61   |#define ALBUM_SIZE 50           // increase album size (not as much) for use with ID3V2 ta
                                  gs (Stmp00003110)
                            17389 ; 62   |#else
                            17390 ; 63   |#define ALBUM_SIZE 48           // increase album size (not as much) for use with ID3V2 ta
                                  gs (Stmp00003110)
                            17391 ; 64   |#endif
                            17392 ; 65   |#endif
                            17393 ; 66   |
                            17394 ; 67   |#ifdef USE_PLAYLIST3
                            17395 ; 68   |#ifndef GENRE_SIZE
                            17396 ; 69   |#define GENRE_SIZE 20
                            17397 ; 70   |#endif
                            17398 ; 71   |
                            17399 ; 72   |#ifndef YEAR_SIZE
                            17400 ; 73   |#define YEAR_SIZE 8
                            17401 ; 74   |#endif
                            17402 ; 75   |
                            17403 ; 76   |#ifndef TRACKNUM_SIZE
                            17404 ; 77   |#define TRACKNUM_SIZE 5 // assume track number is smaller than 0xfff (12bit or 4095)
                            17405 ; 78   |#endif
                            17406 ; 79   |
                            17407 ; 80   |#define MAX_TRACK_NUMBER 0x000fff
                            17408 ; 81   |#define UNKNOWN_TRACK_NUMBER MAX_TRACK_NUMBER
                            17409 ; 82   |#endif
                            17410 ; 83   |
                            17411 ; 84   |#define XING_TOC_SIZE   100
                            17412 ; 85   |#if MTP_BUILD
                            17413 ; 86   |// This size is used to build table for FF/RW for vbr songs,
                            17414 ; 87   |// and as there is no such function in mtp mode, it is reduced to release y-memory.
                            17415 ; 88   |#define VBR_TOC_SIZE    2
                            17416 ; 89   |#else
                            17417 ; 90   |#define VBR_TOC_SIZE    200
                            17418 ; 91   |#endif
                            17419 ; 92   |
                            17420 ; 93   |extern UCS3 g_wSongTitle[TITLE_SIZE];
                            17421 ; 94   |extern UCS3 g_wSongArtist[ARTIST_SIZE];
                            17422 ; 95   |extern UCS3 g_wSongAlbum[ALBUM_SIZE];
                            17423 ; 96   |#ifdef USE_PLAYLIST3
                            17424 ; 97   |extern UCS3 g_wSongGenre[GENRE_SIZE];
                            17425 ; 98   |extern UCS3 g_wSongYear[YEAR_SIZE];
                            17426 ; 99   |extern WORD g_wSongTrackNum;
                            17427 ; 100  |#endif
                            17428 ; 101  |
                            17429 ; 102  |extern WORD g_wVBRTOCTable[VBR_TOC_SIZE];
                            17430 ; 103  |
                            17431 ; 104  |typedef struct {
                            17432 ; 105  |    WORD        iTitleBufferLength;
                            17433 ; 106  |        UCS3       *wTitle;        // Title of Song
                            17434 ; 107  |    WORD        iArtistBufferLength;
                            17435 ; 108  |    UCS3       *wArtist;
                            17436 ; 109  |    WORD        iAlbumBufferLength;
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 290

M:ADDR CODE           CYCLES LINE SOURCELINE
                            17437 ; 110  |    UCS3       *wAlbum;
                            17438 ; 111  |#ifdef USE_PLAYLIST3
                            17439 ; 112  |    WORD        iGenreBufferLength;
                            17440 ; 113  |    UCS3       *wGenre;
                            17441 ; 114  |    WORD        iYearBufferLength;
                            17442 ; 115  |    UCS3       *wYear;
                            17443 ; 116  |    WORD        wTrackNum;
                            17444 ; 117  |#endif
                            17445 ; 118  |    BYTE       btGenre;       // Genre of audio file -- if MP3, use the ID3v1 tag byte
                            17446 ; 119  |        WORD       wSampRate;     // Sample Rate of song (Hz)
                            17447 ; 120  |        WORD       wNumChannels;
                            17448 ; 121  |        WORD       wBitRate;      // Bitrate of song (for MP3 VBR, this will be first bitr
                                  ate found)
                            17449 ; 122  |        LONG       iTime;                 // Length of song in seconds
                            17450 ; 123  |        DWORD      dwStartPos;    // Position where audio starts. (if required by the deco
                                  der)
                            17451 ; 124  |        DWORD      dwNumBytes;    // Total Bytes in audio part of song
                            17452 ; 125  |    DWORD      dwDataBytes;   // for wma; (total bytes - header bytes)
                            17453 ; 126  |        DWORD      dwNumFrames;   // See note below on frames
                            17454 ; 127  |        BOOL       bVBR;                  // 0 = CBR or does not apply , 1 = VBR (**see qu
                                  estion below**)
                            17455 ; 128  |        INT                iFileType;     // 0 = unknown, 1 = MP3, 2 = WMA, 4 = AAC, 8 = I
                                  MA ADPCM, etc (use defines below)
                            17456 ; 129  |        INT                iResourceNum;  // Resource number of the decoder that needed fo
                                  r this file
                            17457 ; 130  |} FILE_META_DATA;
                            17458 ; 131  |
                            17459 ; 132  |// File Type Defines (use for iFileType) -- matches bit defines in sysequ.inc
                            17460 ; 133  |#define UNKNOWN_TYPE   0
                            17461 ; 134  |#define MP3_TYPE       1
                            17462 ; 135  |#define WMA_TYPE       2
                            17463 ; 136  |#define AAC_TYPE       4
                            17464 ; 137  |#define IMA_ADPCM_TYPE 8
                            17465 ; 138  |#define MS_ADPCM_TYPE  16
                            17466 ; 139  |#define PCM_WAV_TYPE   32
                            17467 ; 140  |#define ASF_TYPE       64
                            17468 ; 141  |#define AUDIBLE_ACELP_TYPE 128
                            17469 ; 142  |#define AUDIBLE_MP3_TYPE   256          // 9/28/04 mmiu
                            17470 ; 143  |
                            17471 ; 144  |#define SMV_ADPCM_TYPE 512
                            17472 ; 145  |
                            17473 ; 146  |
                            17474 ; 147  |//////SRS WOW DEFS/////////////////////////////////////////////////////////////
                            17475 ; 148  |// Sample rates
                            17476 ; 149  |#ifdef WOW
                            17477 ; 150  |#define SR_48KHZ        48000
                            17478 ; 151  |#define SR_44KHZ        44100
                            17479 ; 152  |#define SR_32KHZ        32000
                            17480 ; 153  |#define SR_24KHZ        24000
                            17481 ; 154  |#define SR_22KHZ        22050
                            17482 ; 155  |#define SR_16KHZ        16000
                            17483 ; 156  |#define SR_12KHZ        12000
                            17484 ; 157  |#define SR_11KHZ        11025
                            17485 ; 158  |#define SR_8KHZ          8000
                            17486 ; 159  |#endif
                            17487 ; 160  |
                            17488 ; 161  |
                            17489 ; 162  |///////////////////////////////////////////////////////////////////////////////
                            17490 ; 163  |// MetaData prototypes
                            17491 ; 164  |///////////////////////////////////////////////////////////////////////////////
                            17492 ; 165  |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 291

M:ADDR CODE           CYCLES LINE SOURCELINE
                            17493 ; 166  |RETCODE _reentrant GetFileMetaData(INT PackedPathNameAddress, INT btCurrentDevice, FILE_ME
                                  TA_DATA *MetaData);
                            17494 ; 167  |#ifdef USE_PLAYLIST3
                            17495 ; 168  |INT _reentrant GetRelativePath(int highlight_index, int browse_type, INT* PackedPathNameAd
                                  dress);
                            17496 ; 169  |INT _reentrant RetrieveSongInfo(INT a, INT b, INT *p_path);
                            17497 ; 170  |#endif
                            17498 ; 171  |
                            17499 ; 172  |#endif // #ifndef _METADATA_H
                            17500 
                            17502 
                            17503 ; 16   |#include "wmametadata.h"
                            17504 
                            17506 
                            17507 ; 1    |#ifndef _WMAMETADATA_H
                            17508 ; 2    |#define _WMAMETADATA_H
                            17509 ; 3    |
                            17510 ; 4    |#define WMA_HEADER_OBJECT_HEADER_SIZE 30
                            17511 ; 5    |
                            17512 ; 6    |#define ASF_HEADER_GUID_0               0xb22630
                            17513 ; 7    |#define ASF_HEADER_GUID_1               0x668e75
                            17514 ; 8    |#define ASF_HEADER_GUID_2               0xa611cf
                            17515 ; 9    |#define ASF_HEADER_GUID_3               0xaa00d9
                            17516 ; 10   |#define ASF_HEADER_GUID_4               0xce6200
                            17517 ; 11   |#define ASF_HEADER_GUID_5               0x00006c
                            17518 ; 12   |
                            17519 ; 13   |#define ASF_FILE_PROPERTIES_GUID_0      0xabdca1
                            17520 ; 14   |#define ASF_FILE_PROPERTIES_GUID_1      0xa9478c
                            17521 ; 15   |#define ASF_FILE_PROPERTIES_GUID_2      0x8e11cf
                            17522 ; 16   |#define ASF_FILE_PROPERTIES_GUID_3      0xc000e4
                            17523 ; 17   |#define ASF_FILE_PROPERTIES_GUID_4      0x53200c
                            17524 ; 18   |#define ASF_FILE_PROPERTIES_GUID_5      0x000065
                            17525 ; 19   |
                            17526 ; 20   |#define ASF_STREAM_PROPERTIES_GUID_0    0xdc0791
                            17527 ; 21   |#define ASF_STREAM_PROPERTIES_GUID_1    0xa9b7b7
                            17528 ; 22   |#define ASF_STREAM_PROPERTIES_GUID_2    0x8e11cf
                            17529 ; 23   |#define ASF_STREAM_PROPERTIES_GUID_3    0xc000e6
                            17530 ; 24   |#define ASF_STREAM_PROPERTIES_GUID_4    0x53200c
                            17531 ; 25   |#define ASF_STREAM_PROPERTIES_GUID_5    0x000065
                            17532 ; 26   |
                            17533 ; 27   |#define ASF_STREAM_BITRATE_GUID_0       0xf875ce
                            17534 ; 28   |#define ASF_STREAM_BITRATE_GUID_1       0x468d7b
                            17535 ; 29   |#define ASF_STREAM_BITRATE_GUID_2       0x8d11d1
                            17536 ; 30   |#define ASF_STREAM_BITRATE_GUID_3       0x600082
                            17537 ; 31   |#define ASF_STREAM_BITRATE_GUID_4       0xa2c997
                            17538 ; 32   |#define ASF_STREAM_BITRATE_GUID_5       0x0000b2
                            17539 ; 33   |
                            17540 ; 34   |#define ASF_CONTENT_DESCRIPTION_GUID_0  0xb22633
                            17541 ; 35   |#define ASF_CONTENT_DESCRIPTION_GUID_1  0x668e75
                            17542 ; 36   |#define ASF_CONTENT_DESCRIPTION_GUID_2  0xa611cf
                            17543 ; 37   |#define ASF_CONTENT_DESCRIPTION_GUID_3  0xaa00d9
                            17544 ; 38   |#define ASF_CONTENT_DESCRIPTION_GUID_4  0xce6200
                            17545 ; 39   |#define ASF_CONTENT_DESCRIPTION_GUID_5  0x00006c
                            17546 ; 40   |
                            17547 ; 41   |#define ASF_EXTENDED_CONTENT_GUID_0     0xd0a440
                            17548 ; 42   |#define ASF_EXTENDED_CONTENT_GUID_1     0xe307d2
                            17549 ; 43   |#define ASF_EXTENDED_CONTENT_GUID_2     0x9711d2
                            17550 ; 44   |#define ASF_EXTENDED_CONTENT_GUID_3     0xa000f0
                            17551 ; 45   |#define ASF_EXTENDED_CONTENT_GUID_4     0xa85ec9
                            17552 ; 46   |#define ASF_EXTENDED_CONTENT_GUID_5     0x000050
                            17553 ; 47   |
                            17554 ; 48   |#define ASF_AUDIO_MEDIA_GUID_0          0x699e40
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 292

M:ADDR CODE           CYCLES LINE SOURCELINE
                            17555 ; 49   |#define ASF_AUDIO_MEDIA_GUID_1          0x5b4df8
                            17556 ; 50   |#define ASF_AUDIO_MEDIA_GUID_2          0xa811cf
                            17557 ; 51   |#define ASF_AUDIO_MEDIA_GUID_3          0x8000fd
                            17558 ; 52   |#define ASF_AUDIO_MEDIA_GUID_4          0x445c5f
                            17559 ; 53   |#define ASF_AUDIO_MEDIA_GUID_5          0x00002b
                            17560 ; 54   |
                            17561 ; 55   |#ifdef JANUS
                            17562 ; 56   |#define ASF_CONTENT_ENCRYPTION_GUID_0  0x8ae614
                            17563 ; 57   |#define ASF_CONTENT_ENCRYPTION_GUID_1  0x262229
                            17564 ; 58   |#define ASF_CONTENT_ENCRYPTION_GUID_2  0xb94c17
                            17565 ; 59   |#define ASF_CONTENT_ENCRYPTION_GUID_3  0xe0da35
                            17566 ; 60   |#define ASF_CONTENT_ENCRYPTION_GUID_4  0x28e97e
                            17567 ; 61   |#define ASF_CONTENT_ENCRYPTION_GUID_5  0x00009c
                            17568 ; 62   |#endif
                            17569 ; 63   |
                            17570 ; 64   |
                            17571 ; 65   |enum Descriptor_Value_Data_Type {
                            17572 ; 66   |    TYPE_UNICODE,
                            17573 ; 67   |    TYPE_BYTEARRAY,
                            17574 ; 68   |    TYPE_BOOL,
                            17575 ; 69   |    TYPE_DWORD,
                            17576 ; 70   |    TYPE_QWORD,
                            17577 ; 71   |    TYPE_WORD
                            17578 ; 72   |};
                            17579 ; 73   |
                            17580 ; 74   |
                            17581 ; 75   |RETCODE _reentrant GetWmaMetaData (INT PackedPathNameAddress, INT btCurrentDevice, FILE_ME
                                  TA_DATA *MetaData);
                            17582 ; 76   |
                            17583 ; 77   |#endif
                            17584 
                            17586 
                            17587 ; 17   |#if (defined JPEG_ALBUM_ART) || (defined SYNC_LYRICS)
                            17588 ; 18   |#include "menumanager.h"
                            17589 
                            17591 
                            17592 ; 1    |#ifndef _EXEC_H
                            17593 ; 2    |#define _EXEC_H
                            17594 ; 3    |
                            17595 ; 4    |#include "types.h"
                            17596 
                            17598 
                            17599 ; 1    |////////////////////////////////////////////////////////////////////////////////
                            17600 ; 2    |// Copyright(C) SigmaTel, Inc. 2000-2004
                            17601 ; 3    |//
                            17602 ; 4    |// Filename: types.h
                            17603 ; 5    |// Description: Standard data types
                            17604 ; 6    |////////////////////////////////////////////////////////////////////////////////
                            17605 ; 7    |
                            17606 ; 8    |#ifndef _TYPES_H
                            17607 ; 9    |#define _TYPES_H
                            17608 ; 10   |
                            17609 ; 11   |// TODO:  move this outta here!
                            17610 ; 12   |#if !defined(NOERROR)
                            17611 ; 13   |#define NOERROR 0
                            17612 ; 14   |#define SUCCESS 0
                            17613 ; 15   |#endif 
                            17614 ; 16   |#if !defined(SUCCESS)
                            17615 ; 17   |#define SUCCESS  0
                            17616 ; 18   |#endif
                            17617 ; 19   |#if !defined(ERROR)
                            17618 ; 20   |#define ERROR   -1
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 293

M:ADDR CODE           CYCLES LINE SOURCELINE
                            17619 ; 21   |#endif
                            17620 ; 22   |#if !defined(FALSE)
                            17621 ; 23   |#define FALSE 0
                            17622 ; 24   |#endif
                            17623 ; 25   |#if !defined(TRUE)
                            17624 ; 26   |#define TRUE  1
                            17625 ; 27   |#endif
                            17626 ; 28   |
                            17627 ; 29   |#if !defined(NULL)
                            17628 ; 30   |#define NULL 0
                            17629 ; 31   |#endif
                            17630 ; 32   |
                            17631 ; 33   |#define MAX_INT     0x7FFFFF
                            17632 ; 34   |#define MAX_LONG    0x7FFFFFffffff
                            17633 ; 35   |        // max positive unsigned long value: -1 == 0xFFFFFFffffff
                            17634 ; 36   |#define MAX_ULONG   (-1) 
                            17635 ; 37   |
                            17636 ; 38   |#define WORD_SIZE   24              // word size in bits
                            17637 ; 39   |#define BYTES_PER_WORD 3            // 8 bit bytes
                            17638 ; 40   |
                            17639 ; 41   |
                            17640 ; 42   |#define BYTE    unsigned char       // btVarName
                            17641 ; 43   |#define CHAR    signed char         // cVarName
                            17642 ; 44   |#define USHORT  unsigned short      // usVarName
                            17643 ; 45   |#define SHORT   unsigned short      // sVarName
                            17644 ; 46   |#define WORD    unsigned int        // wVarName
                            17645 ; 47   |#define INT     signed int          // iVarName
                            17646 ; 48   |#define DWORD   unsigned long       // dwVarName
                            17647 ; 49   |#define LONG    signed long         // lVarName
                            17648 ; 50   |#define BOOL    unsigned int        // bVarName
                            17649 ; 51   |#define FRACT   _fract              // frVarName
                            17650 ; 52   |#define LFRACT  long _fract         // lfrVarName
                            17651 ; 53   |#define CIRC    _circ               // cp<type prefix>VarName (see below)
                            17652 ; 54   |#define FLOAT   float               // fVarName
                            17653 ; 55   |#define DBL     double              // dVarName
                            17654 ; 56   |#define ENUM    enum                // eVarName
                            17655 ; 57   |#define CMX     _complex            // cmxVarName
                            17656 ; 58   |typedef WORD UCS3;                   // 
                            17657 ; 59   |
                            17658 ; 60   |#define UINT16  unsigned short
                            17659 ; 61   |#define UINT8   unsigned char   
                            17660 ; 62   |#define UINT32  unsigned long
                            17661 ; 63   |#define UINT64  unsigned long   // need to figure out how to do 64 bit values.  Or port ex
                                  isiting code to only use 48 bit
                            17662 ; 64   |#define INT64   unsigned long   // need to figure out how to do 64 bit values.  Or port ex
                                  isiting code to only use 48 bit
                            17663 ; 65   |#define WCHAR   UINT16
                            17664 ; 66   |
                            17665 ; 67   |//UINT128 is 16 bytes or 6 words
                            17666 ; 68   |typedef struct UINT128_3500 {   
                            17667 ; 69   |    int val[6];     
                            17668 ; 70   |} UINT128_3500;
                            17669 ; 71   |
                            17670 ; 72   |#define UINT128   UINT128_3500
                            17671 ; 73   |
                            17672 ; 74   |// Little endian word packed byte strings:   
                            17673 ; 75   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                            17674 ; 76   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                            17675 ; 77   |// Little endian word packed byte strings:   
                            17676 ; 78   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                            17677 ; 79   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                            17678 ; 80   |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 294

M:ADDR CODE           CYCLES LINE SOURCELINE
                            17679 ; 81   |// Declare Memory Spaces To Use When Coding
                            17680 ; 82   |// A. Sector Buffers
                            17681 ; 83   |#define SECTOR_BUFFER_MEM_X _X
                            17682 ; 84   |#define SECTOR_BUFFER_MEM_Y _Y
                            17683 ; 85   |#define SECTOR_BUFFER_MEM SECTOR_BUFFER_MEM_X
                            17684 ; 86   |typedef WORD SECTOR_BUFFER_MEM SECTOR_BUFFER;
                            17685 ; 87   |typedef SECTOR_BUFFER * P_SECTOR_BUFFER;
                            17686 ; 88   |// B. Media DDI Memory
                            17687 ; 89   |#define MEDIA_DDI_MEM _Y
                            17688 ; 90   |
                            17689 ; 91   |
                            17690 ; 92   |
                            17691 ; 93   |// Pointers to linear structures are labeled as: p<type prefix>VarName
                            17692 ; 94   |// Examples of circular pointers:
                            17693 ; 95   |//    INT CIRC cpiVarName
                            17694 ; 96   |//    DWORD CIRC cpdwVarName
                            17695 ; 97   |
                            17696 ; 98   |#define RETCODE INT                 // rcVarName
                            17697 ; 99   |
                            17698 ; 100  |// generic bitfield structure
                            17699 ; 101  |struct Bitfield {
                            17700 ; 102  |    unsigned int B0  :1;
                            17701 ; 103  |    unsigned int B1  :1;
                            17702 ; 104  |    unsigned int B2  :1;
                            17703 ; 105  |    unsigned int B3  :1;
                            17704 ; 106  |    unsigned int B4  :1;
                            17705 ; 107  |    unsigned int B5  :1;
                            17706 ; 108  |    unsigned int B6  :1;
                            17707 ; 109  |    unsigned int B7  :1;
                            17708 ; 110  |    unsigned int B8  :1;
                            17709 ; 111  |    unsigned int B9  :1;
                            17710 ; 112  |    unsigned int B10 :1;
                            17711 ; 113  |    unsigned int B11 :1;
                            17712 ; 114  |    unsigned int B12 :1;
                            17713 ; 115  |    unsigned int B13 :1;
                            17714 ; 116  |    unsigned int B14 :1;
                            17715 ; 117  |    unsigned int B15 :1;
                            17716 ; 118  |    unsigned int B16 :1;
                            17717 ; 119  |    unsigned int B17 :1;
                            17718 ; 120  |    unsigned int B18 :1;
                            17719 ; 121  |    unsigned int B19 :1;
                            17720 ; 122  |    unsigned int B20 :1;
                            17721 ; 123  |    unsigned int B21 :1;
                            17722 ; 124  |    unsigned int B22 :1;
                            17723 ; 125  |    unsigned int B23 :1;
                            17724 ; 126  |};
                            17725 ; 127  |
                            17726 ; 128  |union BitInt {
                            17727 ; 129  |        struct Bitfield B;
                            17728 ; 130  |        int        I;
                            17729 ; 131  |};
                            17730 ; 132  |
                            17731 ; 133  |#define MAX_MSG_LENGTH 10
                            17732 ; 134  |struct CMessage
                            17733 ; 135  |{
                            17734 ; 136  |        unsigned int m_uLength;
                            17735 ; 137  |        unsigned int m_uMsg[MAX_MSG_LENGTH];
                            17736 ; 138  |};
                            17737 ; 139  |
                            17738 ; 140  |typedef struct {
                            17739 ; 141  |    WORD m_wLength;
                            17740 ; 142  |    WORD m_wMessage;
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 295

M:ADDR CODE           CYCLES LINE SOURCELINE
                            17741 ; 143  |    WORD m_wParams[MAX_MSG_LENGTH];
                            17742 ; 144  |} Message;
                            17743 ; 145  |
                            17744 ; 146  |struct MessageQueueDescriptor
                            17745 ; 147  |{
                            17746 ; 148  |        int *m_pBase;
                            17747 ; 149  |        int m_iModulo;
                            17748 ; 150  |        int m_iSize;
                            17749 ; 151  |        int *m_pHead;
                            17750 ; 152  |        int *m_pTail;
                            17751 ; 153  |};
                            17752 ; 154  |
                            17753 ; 155  |struct ModuleEntry
                            17754 ; 156  |{
                            17755 ; 157  |    int m_iSignaledEventMask;
                            17756 ; 158  |    int m_iWaitEventMask;
                            17757 ; 159  |    int m_iResourceOfCode;
                            17758 ; 160  |    struct MessageQueueDescriptor *m_pMessageQueue;
                            17759 ; 161  |    int _asmfunc (*m_pProcessEntryPoint)(union WaitMask Signals,struct MessageQueueDescrip
                                  tor *);
                            17760 ; 162  |    int _asmfunc (*m_pInitFunction)(struct MessageQueueDescriptor *);
                            17761 ; 163  |    int m_uTimeOutHigh;
                            17762 ; 164  |    int m_uTimeOutLow;
                            17763 ; 165  |    int _asmfunc (*m_pBackgroundFunction)(struct MessageQueueDescriptor *);
                            17764 ; 166  |};
                            17765 ; 167  |
                            17766 ; 168  |union WaitMask{
                            17767 ; 169  |    struct B{
                            17768 ; 170  |        unsigned int m_bNone     :1;
                            17769 ; 171  |        unsigned int m_bMessage  :1;
                            17770 ; 172  |        unsigned int m_bTimer    :1;
                            17771 ; 173  |        unsigned int m_bButton   :1;
                            17772 ; 174  |    } B;
                            17773 ; 175  |    int I;
                            17774 ; 176  |} ;
                            17775 ; 177  |
                            17776 ; 178  |
                            17777 ; 179  |struct Button {
                            17778 ; 180  |        WORD wButtonEvent;
                            17779 ; 181  |        WORD wUnused[MAX_MSG_LENGTH];   
                            17780 ; 182  |};
                            17781 ; 183  |
                            17782 ; 184  |struct Message {
                            17783 ; 185  |        WORD wMsgLength;
                            17784 ; 186  |        WORD wMsgCommand;
                            17785 ; 187  |        WORD wMsgParms[MAX_MSG_LENGTH-1];
                            17786 ; 188  |};
                            17787 ; 189  |
                            17788 ; 190  |union EventTypes {
                            17789 ; 191  |        struct CMessage msg;
                            17790 ; 192  |        struct Button Button ;
                            17791 ; 193  |        struct Message Message;
                            17792 ; 194  |};
                            17793 ; 195  |
                            17794 ; 196  |// next 2 used to get updater build to return correct protocol ver in scsi response.
                            17795 ; 197  |#define BUILD_TYPE_UPDATER  0x100
                            17796 ; 198  |#define BUILD_TYPE_HOSTLINK 0x101
                            17797 ; 199  |#define BUILD_TYPE_PLAYER   0x102
                            17798 ; 200  |
                            17799 ; 201  |// Resets part if RETAIL build. DEBUG build executes debug instruction to halt.
                            17800 ; 202  |#define SystemHalt() __asm(" include 'sysmacro.asm' \n error") 
                            17801 ; 203  |#define assert(x)    if(!(x)) __asm(" include 'sysmacro.asm' \n error")
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 296

M:ADDR CODE           CYCLES LINE SOURCELINE
                            17802 ; 204  |
                            17803 ; 205  |#if DEBUG
                            17804 ; 206  |// For DEBUG builds, DebugBuildAssert(condition) halts if condition evaluates to FALSE. 
                            17805 ; 207  |#define DebugBuildAssert(x)    if(!(x)) __asm(" debug ")
                            17806 ; 208  |#else 
                            17807 ; 209  |// For RETAIL builds, DebugBuildAssert(condition) does nothing & execution continues rathe
                                  r than halt or reset. 
                            17808 ; 210  |#define DebugBuildAssert(x)    
                            17809 ; 211  |#endif
                            17810 ; 212  |
                            17811 ; 213  |// Do this in your C files to make a reminder that's displayed during the build.
                            17812 ; 214  |//  #pragma asm
                            17813 ; 215  |//  WARN 'Note to builder: reminder to do this after verifying that'
                            17814 ; 216  |//  #pragma endasm
                            17815 ; 217  |
                            17816 ; 218  |
                            17817 ; 219  |#ifdef COLOR_262K
                            17818 ; 220  |#define RGB(r,g,b)    ((0x0000FC & (r)) << 10) | ((0x0000FC & (g)) << 4) | ((0x0000FC & (b
                                  )) >> 2)    //262k
                            17819 ; 221  |#elif defined(COLOR_65K)
                            17820 ; 222  |#define RGB(r,g,b)    ((0x0000F8 & (r)) << 8) | ((0x0000FC & (g)) << 3) | ((0x0000F8 & (b)
                                  ) >> 3)  //65k
                            17821 ; 223  |#else
                            17822 ; 224  |#define RGB(r,g,b)       ((0x0000F0 & (r)) << 4) | (0x0000F0 & (g)) | ((0x0000F0 & (b)) >>
                                   4)
                            17823 ; 225  |#endif
                            17824 ; 226  |    
                            17825 ; 227  |#endif // #ifndef _TYPES_H
                            17826 
                            17828 
                            17829 ; 5    |
                            17830 ; 6    |int _asmfunc SysWaitOnEvent(unsigned int uEvent,struct CMessage *,int uLength);
                            17831 ; 7    |int _asmfunc SysCallFunction(unsigned int RESOURCE,int _reentrant (int,int,int*),  int, in
                                  t, int *);
                            17832 ; 8    |
                            17833 ; 9    |#if !defined(NULL)
                            17834 ; 10   |#define NULL 0
                            17835 ; 11   |#endif 
                            17836 ; 12   |
                            17837 ; 13   |#if !defined(FALSE)
                            17838 ; 14   |#define FALSE 0
                            17839 ; 15   |#endif
                            17840 ; 16   |#if !defined(TRUE)
                            17841 ; 17   |#define TRUE  !FALSE
                            17842 ; 18   |#endif
                            17843 ; 19   |
                            17844 ; 20   |// The same memory location contains either a menu message or button event. 
                            17845 ; 21   |// The button info is stored in the first word or the entire message is stored.
                            17846 ; 22   |
                            17847 ; 23   |// CMessage is kept for backards compatibility.
                            17848 ; 24   |// The union and 2 new structures are added to aid in readability.
                            17849 ; 25   |
                            17850 ; 26   |
                            17851 ; 27   |#include "messages.h"
                            17852 
                            17854 
                            17855 ; 1    |/////////////////////////////////////////////////////////////////////////////////
                            17856 ; 2    |// Copyright(C) SigmaTel, Inc. 2000
                            17857 ; 3    |// Message defs
                            17858 ; 4    |/////////////////////////////////////////////////////////////////////////////////
                            17859 ; 5    |
                            17860 ; 6    |#if (!defined(MSGEQU_INC))
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 297

M:ADDR CODE           CYCLES LINE SOURCELINE
                            17861 ; 7    |#define MSGEQU_INC 1
                            17862 ; 8    |
                            17863 ; 9    |
                            17864 ; 10   |#define MAX_MODULE_SIZE   (lc_u_eP_Module_overlay-lc_u_bP_Module_overlay)*3
                            17865 ; 11   |
                            17866 ; 12   |
                            17867 ; 13   |#define MSG_TYPE_DECODER 0x000000
                            17868 ; 14   |#define MSG_TYPE_ENCODER 0x010000
                            17869 ; 15   |#define MSG_TYPE_PARSER 0x020000
                            17870 ; 16   |#define MSG_TYPE_LCD 0x030000
                            17871 ; 17   |#define MSG_TYPE_MIXER 0x040000
                            17872 ; 18   |#define MSG_TYPE_SYSTEM 0x050000
                            17873 ; 19   |#define MSG_TYPE_MENU 0x060000
                            17874 ; 20   |#define MSG_TYPE_LED 0x070000
                            17875 ; 21   |#define MSG_TYPE_TUNER 0x080000
                            17876 ; 22   |#define MSG_TYPE_CHARLCD 0x030000
                            17877 ; 23   |#define MSG_TYPE_SOFT_TIMER 0x090000
                            17878 ; 24   |// Equalizer and other effects
                            17879 ; 25   |#define MSG_TYPE_GEQ 0x0a0000             
                            17880 ; 26   |#if (defined(USE_PLAYLIST3))
                            17881 ; 27   |#define MSG_TYPE_MUSICLIB_PLAY 0x0b0000
                            17882 ; 28   |#define MSG_TYPE_MUSICLIB_BROWSE 0x0c0000
                            17883 ; 29   |#define MSG_TYPE_MUSICLIB_PLAYALLNEXT 0x0d0000
                            17884 ; 30   |#define MSG_TYPE_MUSICLIB_PLAYALLPREV 0x0e0000
                            17885 ; 31   |#define MSG_TYPE_MUSICLIB_SHUFFLE 0x0f0000
                            17886 ; 32   |#define MSG_TYPE_MUSICLIB_VOICE 0x100000
                            17887 ; 33   |#define MSG_TYPE_MUSICLIB_VOICEPLAY 0x110000
                            17888 ; 34   |#define MSG_TYPE_MUSICLIB_MERGE 0x120000
                            17889 ; 35   |#endif // IF (@def(USE_PLAYLIST3))
                            17890 ; 36   |#if defined(USE_PLAYLIST5)
                            17891 ; 37   |#define MSG_TYPE_PL5_PLAYBACK 0x0b0000
                            17892 ; 38   |#define MSG_TYPE_PL5_BROWSE 0x0c0000
                            17893 ; 39   |#endif // if @def('USE_PLAYLIST5')
                            17894 ; 40   |
                            17895 ; 41   |// Message Structure Offsets
                            17896 ; 42   |#define MSG_Length 0
                            17897 ; 43   |#define MSG_ID 1
                            17898 ; 44   |#define MSG_Argument1 2
                            17899 ; 45   |#define MSG_Argument2 3
                            17900 ; 46   |#define MSG_Argument3 4
                            17901 ; 47   |#define MSG_Argument4 5
                            17902 ; 48   |#define MSG_Argument5 6
                            17903 ; 49   |#define MSG_Argument6 7
                            17904 ; 50   |
                            17905 ; 51   |
                            17906 ; 52   |
                            17907 ; 53   |// LCD Message IDs
                            17908 ; 54   |#define LCD_FIRST_MSG_ID MSG_TYPE_LCD+0
                            17909 ; 55   |#define LCD_CLEAR_RANGE MSG_TYPE_LCD+0
                            17910 ; 56   |#define LCD_PRINT_RANGE_RSRC MSG_TYPE_LCD+1
                            17911 ; 57   |#define LCD_PRINT_RANGE_ADDR MSG_TYPE_LCD+2
                            17912 ; 58   |#define LCD_PRINT_RANGE_INV_RSRC MSG_TYPE_LCD+3
                            17913 ; 59   |#define LCD_PRINT_RANGE_INV_ADDR MSG_TYPE_LCD+4
                            17914 ; 60   |#define LCD_PRINT_RANGE_FILE MSG_TYPE_LCD+5
                            17915 ; 61   |#define LCD_PRINT_RANGE_INV_FILE MSG_TYPE_LCD+6
                            17916 ; 62   |#define LCD_PRINT_STRING_RSRC MSG_TYPE_LCD+7
                            17917 ; 63   |#define LCD_PRINT_STRING_ADDR MSG_TYPE_LCD+8
                            17918 ; 64   |#define LCD_PRINT_STRING_INV_RSRC MSG_TYPE_LCD+9
                            17919 ; 65   |#define LCD_PRINT_STRING_INV_ADDR MSG_TYPE_LCD+10
                            17920 ; 66   |#define LCD_SCROLL_DISPLAY MSG_TYPE_LCD+11
                            17921 ; 67   |#define LCD_READ_LCD_ADDR MSG_TYPE_LCD+12
                            17922 ; 68   |#define LCD_SET_CONTRAST MSG_TYPE_LCD+13
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 298

M:ADDR CODE           CYCLES LINE SOURCELINE
                            17923 ; 69   |#define LCD_INC_CONTRAST MSG_TYPE_LCD+14
                            17924 ; 70   |#define LCD_DEC_CONTRAST MSG_TYPE_LCD+15
                            17925 ; 71   |#define LCD_BACKLIGHT_ON MSG_TYPE_LCD+16
                            17926 ; 72   |#define LCD_BACKLIGHT_OFF MSG_TYPE_LCD+17
                            17927 ; 73   |#define LCD_SET_FONT MSG_TYPE_LCD+18
                            17928 ; 74   |#define LCD_PRINT_NUMBER MSG_TYPE_LCD+19
                            17929 ; 75   |#define LCD_PRINT_TIME MSG_TYPE_LCD+20
                            17930 ; 76   |#define LCD_PRINT_TIME_LONG MSG_TYPE_LCD+21
                            17931 ; 77   |#define LCD_PRINT_STRING_UNICODE_INV_ADDR MSG_TYPE_LCD+22
                            17932 ; 78   |#define LCD_PRINT_STRING_UNICODE_ADDR MSG_TYPE_LCD+23
                            17933 ; 79   |#define LCD_PRINT_STRING_UNICODE_INV_RSRC MSG_TYPE_LCD+24
                            17934 ; 80   |#define LCD_PRINT_STRING_UNICODE_RSRC MSG_TYPE_LCD+25
                            17935 ; 81   |#define LCD_BEGIN_FRAME MSG_TYPE_LCD+26
                            17936 ; 82   |#define LCD_END_FRAME MSG_TYPE_LCD+27
                            17937 ; 83   |#define LCD_PRINT_NUMBER_INV MSG_TYPE_LCD+28
                            17938 ; 84   |#define LCD_PRINT_TIME_INV MSG_TYPE_LCD+29
                            17939 ; 85   |#define LCD_PRINT_TIME_LONG_INV MSG_TYPE_LCD+30
                            17940 ; 86   |#define LCD_SET_FRAMEBUFFER MSG_TYPE_LCD+31
                            17941 ; 87   |//send a NULL as Param1 to return to root frame buffer
                            17942 ; 88   |#define LCD_PUSH_MASK MSG_TYPE_LCD+32
                            17943 ; 89   |//Param1 = left
                            17944 ; 90   |//Param2 = top
                            17945 ; 91   |//Param3 = right
                            17946 ; 92   |//Param4 = bottom
                            17947 ; 93   |#define LCD_POP_MASK MSG_TYPE_LCD+33
                            17948 ; 94   |#define LCD_PRINT_UNICODE_CHAR MSG_TYPE_LCD+34
                            17949 ; 95   |#define LCD_PRINT_UNICODE_CHAR_INV MSG_TYPE_LCD+35
                            17950 ; 96   |#define LCD_DISPLAY_HISTOGRAM MSG_TYPE_LCD+36
                            17951 ; 97   |#define LCD_PRINT_TIME_L_1DIG_HR MSG_TYPE_LCD+37
                            17952 ; 98   |#define LCD_SET_ICON MSG_TYPE_LCD+38
                            17953 ; 99   |
                            17954 ; 100  |#define LCD_CLEAR_RANGE_BUFFER MSG_TYPE_LCD+39
                            17955 ; 101  |#define LCD_PRINT_RANGE_RSRC_BUFFER MSG_TYPE_LCD+40
                            17956 ; 102  |#define LCD_PRINT_RANGE_INV_RSRC_BUFFER MSG_TYPE_LCD+41
                            17957 ; 103  |#define LCD_PRINT_RANGE_ADDR_BUFFER MSG_TYPE_LCD+42
                            17958 ; 104  |#define LCD_PRINT_RANGE_INV_ADDR_BUFFER MSG_TYPE_LCD+43
                            17959 ; 105  |#define LCD_PRINT_STRING_RSRC_BUFFER MSG_TYPE_LCD+44
                            17960 ; 106  |#define LCD_PRINT_STRING_INV_RSRC_BUFFER MSG_TYPE_LCD+45
                            17961 ; 107  |#define LCD_PRINT_STRING_ADDR_BUFFER MSG_TYPE_LCD+46
                            17962 ; 108  |#define LCD_PRINT_STRING_INV_ADDR_BUFFER MSG_TYPE_LCD+47
                            17963 ; 109  |#define LCD_PRINT_NUMBER_BUFFER MSG_TYPE_LCD+48
                            17964 ; 110  |#define LCD_PRINT_NUMBER_INV_BUFFER MSG_TYPE_LCD+49
                            17965 ; 111  |#define LCD_PRINT_TIME_BUFFER MSG_TYPE_LCD+50
                            17966 ; 112  |#define LCD_PRINT_TIME_INV_BUFFER MSG_TYPE_LCD+51
                            17967 ; 113  |#define LCD_PRINT_TIME_LONG_BUFFER MSG_TYPE_LCD+52
                            17968 ; 114  |#define LCD_PRINT_TIME_LONG_INV_BUFFER MSG_TYPE_LCD+53
                            17969 ; 115  |#define LCD_PRINT_STRING_UNICODE_ADDR_BUFFER MSG_TYPE_LCD+54
                            17970 ; 116  |#define LCD_PRINT_STRING_UNICODE_INV_ADDR_BUFFER MSG_TYPE_LCD+55
                            17971 ; 117  |#define LCD_PRINT_STRING_UNICODE_RSRC_BUFFER MSG_TYPE_LCD+56
                            17972 ; 118  |#define LCD_PRINT_STRING_UNICODE_INV_RSRC_BUFFER MSG_TYPE_LCD+57
                            17973 ; 119  |#define LCD_PRINT_UNICODE_CHAR_BUFFER MSG_TYPE_LCD+58
                            17974 ; 120  |#define LCD_PRINT_UNICODE_CHAR_INV_BUFFER MSG_TYPE_LCD+59
                            17975 ; 121  |#define LCD_PRINT_TIME_L_1DIG_HR_BUFFER MSG_TYPE_LCD+60
                            17976 ; 122  |#define LCD_SET_BUFFER_COLOR MSG_TYPE_LCD+61
                            17977 ; 123  |#define LCD_FORCE_BUFFER_UPDATE MSG_TYPE_LCD+62
                            17978 ; 124  |#define LCD_SET_BUFFER_WINDOW MSG_TYPE_LCD+63
                            17979 ; 125  |#define LCD_SET_COLOR MSG_TYPE_LCD+64
                            17980 ; 126  |#define LCD_SET_BUFFER_POSITION MSG_TYPE_LCD+65
                            17981 ; 127  |
                            17982 ; 128  |#define LCD_TEMP_CONTRAST MSG_TYPE_LCD+66
                            17983 ; 129  |
                            17984 ; 130  |#if defined(CLCD_16BIT)
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 299

M:ADDR CODE           CYCLES LINE SOURCELINE
                            17985 ; 131  |#define LCD_16BIT_ON MSG_TYPE_LCD+67
                            17986 ; 132  |#define LCD_16BIT_OFF MSG_TYPE_LCD+68
                            17987 ; 133  |
                            17988 ; 134  |#define LCD_LAST_MSG_ID MSG_TYPE_LCD+68
                            17989 ; 135  |#else 
                            17990 ; 136  |#define LCD_LAST_MSG_ID MSG_TYPE_LCD+66
                            17991 ; 137  |#endif
                            17992 ; 138  |
                            17993 ; 139  |// If you change the LCD message ID's then you must
                            17994 ; 140  |// also change the jump table in lcdapi.asm
                            17995 ; 141  |
                            17996 ; 142  |// Character LCD Message IDs
                            17997 ; 143  |#define CHARLCD_FIRST_MSG_ID MSG_TYPE_CHARLCD+0
                            17998 ; 144  |#define CHARLCD_CLEAR_RANGE MSG_TYPE_CHARLCD+0
                            17999 ; 145  |#define CHARLCD_PRINT_RSRC MSG_TYPE_CHARLCD+1
                            18000 ; 146  |#define CHARLCD_PRINT_INV_RSRC MSG_TYPE_CHARLCD+2
                            18001 ; 147  |#define CHARLCD_PRINT_ASCII_CHAR MSG_TYPE_CHARLCD+3
                            18002 ; 148  |#define CHARLCD_PRINT_ASCII_INV_CHAR MSG_TYPE_CHARLCD+4
                            18003 ; 149  |#define CHARLCD_PRINT_STRING_RSRC MSG_TYPE_CHARLCD+5
                            18004 ; 150  |#define CHARLCD_PRINT_STRING_INV_RSRC MSG_TYPE_CHARLCD+6
                            18005 ; 151  |#define CHARLCD_PRINT_STRING_ADDR MSG_TYPE_CHARLCD+7
                            18006 ; 152  |#define CHARLCD_PRINT_STRING_INV_ADDR MSG_TYPE_CHARLCD+8
                            18007 ; 153  |#define CHARLCD_SCROLL_DISPLAY MSG_TYPE_CHARLCD+9
                            18008 ; 154  |#define CHARLCD_READ_LCD_ADDR MSG_TYPE_CHARLCD+10
                            18009 ; 155  |#define CHARLCD_SET_CURSOR MSG_TYPE_CHARLCD+11
                            18010 ; 156  |#define CHARLCD_SET_FONT MSG_TYPE_CHARLCD+12
                            18011 ; 157  |#define CHARLCD_PRINT_NUMBER MSG_TYPE_CHARLCD+13
                            18012 ; 158  |#define CHARLCD_PRINT_TIME MSG_TYPE_CHARLCD+14
                            18013 ; 159  |#define CHARLCD_SET_BATTERY MSG_TYPE_CHARLCD+15
                            18014 ; 160  |#define CHARLCD_SET_EQ MSG_TYPE_CHARLCD+16
                            18015 ; 161  |#define CHARLCD_SET_ICON MSG_TYPE_CHARLCD+17
                            18016 ; 162  |#define CHARLCD_SET_PLAYMODE MSG_TYPE_CHARLCD+18
                            18017 ; 163  |#define CHARLCD_SET_PLAYSTATE MSG_TYPE_CHARLCD+19
                            18018 ; 164  |#define CHARLCD_SET_VOLUME MSG_TYPE_CHARLCD+20
                            18019 ; 165  |#define CHARLCD_CLEAR_DISPLAY MSG_TYPE_CHARLCD+21
                            18020 ; 166  |#define CHARLCD_LAST_MSG_ID MSG_TYPE_CHARLCD+21
                            18021 ; 167  |// If you change the cHARACTER LCD message ID's then you must
                            18022 ; 168  |// also change the jump table in lcdapi.asm
                            18023 ; 169  |
                            18024 ; 170  |// Decoder Message IDs
                            18025 ; 171  |#define DECODER_FIRST_MSG_ID MSG_TYPE_DECODER+0
                            18026 ; 172  |#define DECODER_RESET MSG_TYPE_DECODER+0
                            18027 ; 173  |#define DECODER_SET_DIR MSG_TYPE_DECODER+1
                            18028 ; 174  |#define DECODER_PLAY MSG_TYPE_DECODER+2
                            18029 ; 175  |#define DECODER_STOP MSG_TYPE_DECODER+3
                            18030 ; 176  |#define DECODER_FFWD MSG_TYPE_DECODER+4
                            18031 ; 177  |#define DECODER_RWND MSG_TYPE_DECODER+5
                            18032 ; 178  |#define DECODER_NEXT_SONG MSG_TYPE_DECODER+6
                            18033 ; 179  |#define DECODER_PREV_SONG MSG_TYPE_DECODER+7
                            18034 ; 180  |#define DECODER_TIME_MODE MSG_TYPE_DECODER+8
                            18035 ; 181  |#define DECODER_AB_MODE MSG_TYPE_DECODER+9
                            18036 ; 182  |#define DECODER_SET_EQ MSG_TYPE_DECODER+10
                            18037 ; 183  |#define DECODER_GET_SONG_INFO MSG_TYPE_DECODER+11
                            18038 ; 184  |#define DECODER_NEXT_CHAPTER MSG_TYPE_DECODER+12
                            18039 ; 185  |#define DECODER_PREV_CHAPTER MSG_TYPE_DECODER+13
                            18040 ; 186  |#define DECODER_LAST_MSG_ID MSG_TYPE_DECODER+13
                            18041 ; 187  |// If you change the Decoder message ID's, then you must
                            18042 ; 188  |// also change the jump table in decoder_overlay.asm
                            18043 ; 189  |// and in dec_adpcm_overlay.asm.
                            18044 ; 190  |
                            18045 ; 191  |// Encoder Message IDs
                            18046 ; 192  |#define ENCODER_FIRST_MSG_ID MSG_TYPE_ENCODER+0
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 300

M:ADDR CODE           CYCLES LINE SOURCELINE
                            18047 ; 193  |#define ENCODER_RECORD MSG_TYPE_ENCODER+0
                            18048 ; 194  |#define ENCODER_STOP MSG_TYPE_ENCODER+1
                            18049 ; 195  |#define ENCODER_TIME_MODE MSG_TYPE_ENCODER+2
                            18050 ; 196  |#define ENCODER_LAST_MSG_ID MSG_TYPE_ENCODER+3
                            18051 ; 197  |// If you change the Encoder message ID's, then you must
                            18052 ; 198  |// also change the jump table in all encoder overlay modules.
                            18053 ; 199  |
                            18054 ; 200  |// Parser Message IDs
                            18055 ; 201  |#define PARSER_FIRST_MSG_ID MSG_TYPE_PARSER+0
                            18056 ; 202  |#define PARSER_NEXT_SONG MSG_TYPE_PARSER+0
                            18057 ; 203  |#define PARSER_PREV_SONG MSG_TYPE_PARSER+1
                            18058 ; 204  |#define PARSER_REPEAT MSG_TYPE_PARSER+2
                            18059 ; 205  |#define PARSER_RANDOM MSG_TYPE_PARSER+3
                            18060 ; 206  |#define PARSER_STOP MSG_TYPE_PARSER+4
                            18061 ; 207  |#define PARSER_DEVICE_ENUMERATE MSG_TYPE_PARSER+5
                            18062 ; 208  |#define PARSER_SET_CURRENT_SONG MSG_TYPE_PARSER+6
                            18063 ; 209  |#define PARSER_LAST_MSG_ID MSG_TYPE_PARSER+6
                            18064 ; 210  |// If you change the Parser message ID's, then you must
                            18065 ; 211  |// also change the jump table in parser.asm
                            18066 ; 212  |
                            18067 ; 213  |// Button Message IDs
                            18068 ; 214  |//BUTTON_FIRST_MSG_ID      equ     MSG_TYPE_BUTTON+0
                            18069 ; 215  |//BUTTON_BUTTONS_ON        equ     MSG_TYPE_BUTTON+0
                            18070 ; 216  |//BUTTON_BUTTONS_OFF       equ     MSG_TYPE_BUTTON+1
                            18071 ; 217  |//BUTTON_HOLD              equ     MSG_TYPE_BUTTON+2
                            18072 ; 218  |//BUTTON_HOLD_RELEASE      equ     MSG_TYPE_BUTTON+3
                            18073 ; 219  |//BUTTON_LAST_MSG_ID       equ     MSG_TYPE_BUTTON+3
                            18074 ; 220  |
                            18075 ; 221  |// Mixer Message IDs
                            18076 ; 222  |#define MIXER_FIRST_MSG_ID MSG_TYPE_MIXER+0
                            18077 ; 223  |#define MIXER_MASTER_INCR MSG_TYPE_MIXER+0
                            18078 ; 224  |#define MIXER_MASTER_DECR MSG_TYPE_MIXER+1
                            18079 ; 225  |#define MIXER_MASTER_SETLVL MSG_TYPE_MIXER+2
                            18080 ; 226  |#define MIXER_MASTER_MUTE MSG_TYPE_MIXER+3
                            18081 ; 227  |#define MIXER_MASTER_UNMUTE MSG_TYPE_MIXER+4
                            18082 ; 228  |#define MIXER_MASTER_FADE_OUT MSG_TYPE_MIXER+5
                            18083 ; 229  |#define MIXER_MASTER_FADE_IN MSG_TYPE_MIXER+6
                            18084 ; 230  |#define MIXER_MASTER_BAL_RIGHT MSG_TYPE_MIXER+7
                            18085 ; 231  |#define MIXER_MASTER_BAL_LEFT MSG_TYPE_MIXER+8
                            18086 ; 232  |#define MIXER_MIC_INCR MSG_TYPE_MIXER+9
                            18087 ; 233  |#define MIXER_MIC_DECR MSG_TYPE_MIXER+10
                            18088 ; 234  |#define MIXER_MIC_SETLVL MSG_TYPE_MIXER+11
                            18089 ; 235  |#define MIXER_MIC_MUTE MSG_TYPE_MIXER+12
                            18090 ; 236  |#define MIXER_MIC_UNMUTE MSG_TYPE_MIXER+13
                            18091 ; 237  |#define MIXER_MIC_BOOST MSG_TYPE_MIXER+14
                            18092 ; 238  |#define MIXER_MIC_UNBOOST MSG_TYPE_MIXER+15
                            18093 ; 239  |#define MIXER_LINE_INCR MSG_TYPE_MIXER+16
                            18094 ; 240  |#define MIXER_LINE_DECR MSG_TYPE_MIXER+17
                            18095 ; 241  |#define MIXER_LINE_SETLVL MSG_TYPE_MIXER+18
                            18096 ; 242  |#define MIXER_LINE_MUTE MSG_TYPE_MIXER+19
                            18097 ; 243  |#define MIXER_LINE_UNMUTE MSG_TYPE_MIXER+20
                            18098 ; 244  |#define MIXER_FM_INCR MSG_TYPE_MIXER+21
                            18099 ; 245  |#define MIXER_FM_DECR MSG_TYPE_MIXER+22
                            18100 ; 246  |#define MIXER_FM_SETLVL MSG_TYPE_MIXER+23
                            18101 ; 247  |#define MIXER_FM_MUTE MSG_TYPE_MIXER+24
                            18102 ; 248  |#define MIXER_FM_UNMUTE MSG_TYPE_MIXER+25
                            18103 ; 249  |#define MIXER_DAC_INCR MSG_TYPE_MIXER+26
                            18104 ; 250  |#define MIXER_DAC_DECR MSG_TYPE_MIXER+27
                            18105 ; 251  |#define MIXER_DAC_SETLVL MSG_TYPE_MIXER+28
                            18106 ; 252  |#define MIXER_DAC_MUTE MSG_TYPE_MIXER+29
                            18107 ; 253  |#define MIXER_DAC_UNMUTE MSG_TYPE_MIXER+30
                            18108 ; 254  |#define MIXER_ADC_SELECT MSG_TYPE_MIXER+31
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 301

M:ADDR CODE           CYCLES LINE SOURCELINE
                            18109 ; 255  |#define MIXER_ADC_INCR MSG_TYPE_MIXER+32
                            18110 ; 256  |#define MIXER_ADC_DECR MSG_TYPE_MIXER+33
                            18111 ; 257  |#define MIXER_ADC_SETLVL MSG_TYPE_MIXER+34
                            18112 ; 258  |#define MIXER_ADC_MUTE MSG_TYPE_MIXER+35
                            18113 ; 259  |#define MIXER_ADC_UNMUTE MSG_TYPE_MIXER+36
                            18114 ; 260  |#define MIXER_REC_SELECT MSG_TYPE_MIXER+37
                            18115 ; 261  |#define MIXER_POWER_DOWN MSG_TYPE_MIXER+38
                            18116 ; 262  |#define ENABLE_RIGHT_CH MSG_TYPE_MIXER+39
                            18117 ; 263  |#define DISABLE_RIGHT_CH MSG_TYPE_MIXER+40
                            18118 ; 264  |#define MIXER_LAST_MSG_ID MSG_TYPE_MIXER+40
                            18119 ; 265  |// If you change the mixer message ID's then you must
                            18120 ; 266  |// also change the jump table in mixer.asm
                            18121 ; 267  |#define MIXER_ON 0
                            18122 ; 268  |#define MIXER_OFF 1
                            18123 ; 269  |
                            18124 ; 270  |
                            18125 ; 271  |// System Message IDs
                            18126 ; 272  |#define SYSTEM_FIRST_MSG_ID MSG_TYPE_SYSTEM+0
                            18127 ; 273  |#define SYSTEM_SHUTDOWN MSG_TYPE_SYSTEM+0
                            18128 ; 274  |#define SYSTEM_SHUTDOWN_FALSE MSG_TYPE_SYSTEM+1
                            18129 ; 275  |#define SYSTEM_SHUTDOWN_FINAL MSG_TYPE_SYSTEM+2
                            18130 ; 276  |#define SYSTEM_LAST_MSG_ID MSG_TYPE_SYSTEM+2
                            18131 ; 277  |// If you change the system message ID's then you must
                            18132 ; 278  |// also change the jump table in systemapi.asm
                            18133 ; 279  |
                            18134 ; 280  |// Menu IDs
                            18135 ; 281  |#define MENU_FIRST_MSG_ID MSG_TYPE_MENU+0
                            18136 ; 282  |#define MENU_BUTTON_EVENT MSG_TYPE_MENU+0
                            18137 ; 283  |#define MENU_DECODER_STATE_CHNG MSG_TYPE_MENU+1
                            18138 ; 284  |#define MENU_RECORDER_STATE_CHNG MSG_TYPE_MENU+2
                            18139 ; 285  |//sub parameters for this message:
                            18140 ; 286  |#define RECORDER_START 0
                            18141 ; 287  |#define RECORDER_PAUSE 0x2000
                            18142 ; 288  |#define RECORDER_RESUME 0x4000
                            18143 ; 289  |#define RECORDER_STOP_NORMAL 0x8000
                            18144 ; 290  |#define RECORDER_STOP_FILE_ERROR 0x8001
                            18145 ; 291  |#define RECORDER_STOP_OUT_OF_SPACE 0x8002
                            18146 ; 292  |#define RECORDER_STOP_LOW_BATTERY 0x8003
                            18147 ; 293  |#define MENU_SONG_TIME_CHNG MSG_TYPE_MENU+3
                            18148 ; 294  |#define MENU_AB_MODE_OFF MSG_TYPE_MENU+4
                            18149 ; 295  |#define MENU_BATTERY_CHNG MSG_TYPE_MENU+5
                            18150 ; 296  |#define MENU_SCROLL_TITLE MSG_TYPE_MENU+6
                            18151 ; 297  |#define MENU_AUTO_SHUTDOWN MSG_TYPE_MENU+7
                            18152 ; 298  |#define MENU_MSG_MEDIA_CHANGED MSG_TYPE_MENU+8
                            18153 ; 299  |#define MENU_MSG_MEDIA_OVER_CUR MSG_TYPE_MENU+9
                            18154 ; 300  |#define MENU_TUNER_TUNED MSG_TYPE_MENU+10
                            18155 ; 301  |#define MENU_MSG_ENC_LOW_SPACE MSG_TYPE_MENU+11
                            18156 ; 302  |#define MENU_MSG_EQ_SETTINGS MSG_TYPE_MENU+12
                            18157 ; 303  |#define MENU_RECORDER_WRITE_DATA MSG_TYPE_MENU+13
                            18158 ; 304  |#define MENU_SONG_TRACK_CHNG MSG_TYPE_MENU+14
                            18159 ; 305  |#define MENU_SET_SONG_POSITION MSG_TYPE_MENU+15
                            18160 ; 306  |#define MENU_UPDATE_CHAPTER_INFO MSG_TYPE_MENU+16
                            18161 ; 307  |#define MENU_USB_CONNECTED MSG_TYPE_MENU+17
                            18162 ; 308  |#define MENU_MSG_LYRICS_SYNC_AB MSG_TYPE_MENU+18
                            18163 ; 309  |#define MENU_MSG_LYRICS_UPDATE MSG_TYPE_MENU+19
                            18164 ; 310  |#define MENU_TUNER_REFRESH_DISPLAY MSG_TYPE_MENU+20
                            18165 ; 311  |#define MENU_TUNER_DIRTY_FLASH MSG_TYPE_MENU+21
                            18166 ; 312  |#define MENU_LAST_MSG_ID MSG_TYPE_MENU+21
                            18167 ; 313  |
                            18168 ; 314  |// Note that other versions of this file have different msg equates.
                            18169 ; 315  |// If you change the system message ID's then you must
                            18170 ; 316  |// also change the jump table in all menu *.asm
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 302

M:ADDR CODE           CYCLES LINE SOURCELINE
                            18171 ; 317  |
                            18172 ; 318  |// LED Message IDs
                            18173 ; 319  |#define LED_FIRST_MSG_ID MSG_TYPE_LED+0
                            18174 ; 320  |#define LED_CONTROL MSG_TYPE_LED+0
                            18175 ; 321  |#define LED_RESET MSG_TYPE_LED+1
                            18176 ; 322  |#define LED_DLY_ON_CONTROL MSG_TYPE_LED+2
                            18177 ; 323  |#define LED_LAST_MSG_ID MSG_TYPE_LED+2
                            18178 ; 324  |// If you change the LeD message ID's then you must
                            18179 ; 325  |// also change the jump table in ledapi.asm
                            18180 ; 326  |
                            18181 ; 327  |#if (!defined(REMOVE_FM))
                            18182 ; 328  |// FM Tuner Message IDs
                            18183 ; 329  |#define TUNER_FIRST_MSG_ID MSG_TYPE_TUNER+0
                            18184 ; 330  |#define TUNER_TUNE_FREQUENCY MSG_TYPE_TUNER+0
                            18185 ; 331  |#define TUNER_TUNE_MANUAL_UP MSG_TYPE_TUNER+1
                            18186 ; 332  |#define TUNER_TUNE_MANUAL_DOWN MSG_TYPE_TUNER+2
                            18187 ; 333  |#define TUNER_TUNE_SEARCH_UP MSG_TYPE_TUNER+3
                            18188 ; 334  |#define TUNER_TUNE_SEARCH_DOWN MSG_TYPE_TUNER+4
                            18189 ; 335  |#define TUNER_FORCED_MONO MSG_TYPE_TUNER+5
                            18190 ; 336  |#define TUNER_RESET MSG_TYPE_TUNER+6
                            18191 ; 337  |#define TUNER_POWER_ON MSG_TYPE_TUNER+7
                            18192 ; 338  |#define TUNER_POWER_OFF MSG_TYPE_TUNER+8
                            18193 ; 339  |#define TUNER_SET_SENSITIVITY MSG_TYPE_TUNER+9
                            18194 ; 340  |//one parameter--the sensitivity in uV
                            18195 ; 341  |#define TUNER_GET_STATES MSG_TYPE_TUNER+10
                            18196 ; 342  |#define TUNER_MUTE_OUTPUTS MSG_TYPE_TUNER+11
                            18197 ; 343  |#define TUNER_PRESET_STATION MSG_TYPE_TUNER+12
                            18198 ; 344  |#define TUNER_TUNE_TO_PRESET MSG_TYPE_TUNER+13
                            18199 ; 345  |#define TUNER_SET_PRESET MSG_TYPE_TUNER+14
                            18200 ; 346  |#define TUNER_ERASE_PRESET MSG_TYPE_TUNER+15
                            18201 ; 347  |#define TUNER_LAST_MSG_ID MSG_TYPE_TUNER+15
                            18202 ; 348  |#endif
                            18203 ; 349  |
                            18204 ; 350  |#define SOFT_TIMER_FIRST_MSG_ID MSG_TYPE_SOFT_TIMER+0
                            18205 ; 351  |#define SOFT_TIMER_SET_TIMER MSG_TYPE_SOFT_TIMER+1
                            18206 ; 352  |#define SOFT_TIMER_KILL_TIMER MSG_TYPE_SOFT_TIMER+2
                            18207 ; 353  |#define SOFT_TIMER_LAST_MSG_ID MSG_TYPE_SOFT_TIMER+2
                            18208 ; 354  |
                            18209 ; 355  |
                            18210 ; 356  |#define GEQ_FIRST_MSG_ID MSG_TYPE_GEQ+0
                            18211 ; 357  |#define GEQ_SET_EQ MSG_TYPE_GEQ+0
                            18212 ; 358  |#define GEQ_SET_EQ_LEGACY MSG_TYPE_GEQ+1
                            18213 ; 359  |#define GEQ_SET_ALL_BAND_GAINS MSG_TYPE_GEQ+2
                            18214 ; 360  |#define GEQ_SET_GAIN MSG_TYPE_GEQ+3
                            18215 ; 361  |#define GEQ_SET_COEFFICIENTS MSG_TYPE_GEQ+4
                            18216 ; 362  |#define GEQ_SET_PARAM MSG_TYPE_GEQ+5
                            18217 ; 363  |#define GEQ_GET_SETTINGS MSG_TYPE_GEQ+6
                            18218 ; 364  |#define GEQ_LAST_MSG_ID MSG_TYPE_GEQ+6
                            18219 ; 365  |
                            18220 ; 366  |#if (defined(USE_PLAYLIST3))
                            18221 ; 367  |// Music Library
                            18222 ; 368  |#define MUSICLIB_PLAY_FIRST_MSG_ID MSG_TYPE_MUSICLIB_PLAY+0
                            18223 ; 369  |#define MUSICLIB_START_PLAY_SONG MSG_TYPE_MUSICLIB_PLAY+0
                            18224 ; 370  |#define MUSICLIB_START_PLAY_ALL_SONG MSG_TYPE_MUSICLIB_PLAY+1
                            18225 ; 371  |#define MUSICLIB_PLAY_SETSHUFFLE MSG_TYPE_MUSICLIB_PLAY+2
                            18226 ; 372  |#define MUSICLIB_PLAY_RESUME MSG_TYPE_MUSICLIB_PLAY+3
                            18227 ; 373  |#define MUSICLIB_PLAY_CURRENT_SIZE MSG_TYPE_MUSICLIB_PLAY+4
                            18228 ; 374  |#define MUSICLIB_PLAY_LAST_MSG_ID MSG_TYPE_MUSICLIB_PLAY+4
                            18229 ; 375  |
                            18230 ; 376  |#define MUSICLIB_BROWSE_FIRST_MSG_ID MSG_TYPE_MUSICLIB_BROWSE+0
                            18231 ; 377  |#define MUSICLIB_BROWSE_SETROOT MSG_TYPE_MUSICLIB_BROWSE+0
                            18232 ; 378  |#define MUSICLIB_BROWSE_BROWSEMENU MSG_TYPE_MUSICLIB_BROWSE+1
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 303

M:ADDR CODE           CYCLES LINE SOURCELINE
                            18233 ; 379  |#define MUSICLIB_BROWSE_DOWNLIST MSG_TYPE_MUSICLIB_BROWSE+2
                            18234 ; 380  |#define MUSICLIB_BROWSE_UPLIST MSG_TYPE_MUSICLIB_BROWSE+3
                            18235 ; 381  |#define MUSICLIB_BROWSE_UPMENU MSG_TYPE_MUSICLIB_BROWSE+4
                            18236 ; 382  |#define MUSICLIB_BROWSE_SONGNUMBER MSG_TYPE_MUSICLIB_BROWSE+5
                            18237 ; 383  |#define MUSICLIB_BROWSE_ON_THE_FLY_GET_STATUS MSG_TYPE_MUSICLIB_BROWSE+6
                            18238 ; 384  |#define MUSICLIB_BROWSE_ON_THE_FLY_ADD_ITEM MSG_TYPE_MUSICLIB_BROWSE+7
                            18239 ; 385  |#define MUSICLIB_BROWSE_ON_THE_FLY_DELETE_ITEM MSG_TYPE_MUSICLIB_BROWSE+8
                            18240 ; 386  |#define MUSICLIB_BROWSE_ON_THE_FLY_DELETE_ALL MSG_TYPE_MUSICLIB_BROWSE+9
                            18241 ; 387  |#define MUSICLIB_BROWSE_LAST_MSG_ID MSG_TYPE_MUSICLIB_BROWSE+9
                            18242 ; 388  |
                            18243 ; 389  |#define MUSICLIB_PLAYALLNEXT_FIRST_MSG_ID MSG_TYPE_MUSICLIB_PLAYALLNEXT+0
                            18244 ; 390  |#define MUSICLIB_PLAYNEXTSONG MSG_TYPE_MUSICLIB_PLAYALLNEXT+0
                            18245 ; 391  |#define MUSICLIB_PLAYALLNEXT_LAST_MSG_ID MSG_TYPE_MUSICLIB_PLAYALLNEXT+0
                            18246 ; 392  |
                            18247 ; 393  |#define MUSICLIB_PLAYALLPREV_FIRST_MSG_ID MSG_TYPE_MUSICLIB_PLAYALLPREV+0
                            18248 ; 394  |#define MUSICLIB_PLAYPREVIOUSSONG MSG_TYPE_MUSICLIB_PLAYALLPREV+0
                            18249 ; 395  |#define MUSICLIB_PLAYALLPREV_LAST_MSG_ID MSG_TYPE_MUSICLIB_PLAYALLPREV+0
                            18250 ; 396  |
                            18251 ; 397  |#define MUSICLIB_SHUFFLE_FIRST_MSG_ID MSG_TYPE_MUSICLIB_SHUFFLE+0
                            18252 ; 398  |#define MUSICLIB_SHUFFLE_NEXT MSG_TYPE_MUSICLIB_SHUFFLE+0
                            18253 ; 399  |#define MUSICLIB_SHUFFLE_LAST_MSG_ID MSG_TYPE_MUSICLIB_SHUFFLE+0
                            18254 ; 400  |
                            18255 ; 401  |#define MUSICLIB_VOICE_FIRST_MSG_ID MSG_TYPE_MUSICLIB_VOICE+0
                            18256 ; 402  |#define MUSICLIB_VOICE_BROWSEMENU MSG_TYPE_MUSICLIB_VOICE+0
                            18257 ; 403  |#define MUSICLIB_VOICE_DOWNLIST MSG_TYPE_MUSICLIB_VOICE+1
                            18258 ; 404  |#define MUSICLIB_VOICE_UPLIST MSG_TYPE_MUSICLIB_VOICE+2
                            18259 ; 405  |#define MUSICLIB_VOICE_UPMENU MSG_TYPE_MUSICLIB_VOICE+3
                            18260 ; 406  |#define MUSICLIB_VOICE_VOICENUMBER MSG_TYPE_MUSICLIB_VOICE+4
                            18261 ; 407  |#define MUSICLIB_VOICE_LAST_MSG_ID MSG_TYPE_MUSICLIB_VOICE+4
                            18262 ; 408  |
                            18263 ; 409  |#define MUSICLIB_VOICEPLAY_FIRST_MSG_ID MSG_TYPE_MUSICLIB_VOICEPLAY+0
                            18264 ; 410  |#define MUSICLIB_START_PLAY_VOICE MSG_TYPE_MUSICLIB_VOICEPLAY+0
                            18265 ; 411  |#define MUSICLIB_VOICEPLAY_LAST_MSG_ID MSG_TYPE_MUSICLIB_VOICEPLAY+0
                            18266 ; 412  |
                            18267 ; 413  |#define MUSICLIB_MERGE_FIRST_MSG_ID MSG_TYPE_MUSICLIB_MERGE+0
                            18268 ; 414  |#define MUSICLIB_MERGE_SONG MSG_TYPE_MUSICLIB_MERGE+0
                            18269 ; 415  |#define MUSICLIB_MERGE_ALL_SONG MSG_TYPE_MUSICLIB_MERGE+1
                            18270 ; 416  |#define MUSICLIB_MERGE_RESUME MSG_TYPE_MUSICLIB_MERGE+2
                            18271 ; 417  |#define MUSICLIB_MERGE_LAST_MSG_ID MSG_TYPE_MUSICLIB_MERGE+2
                            18272 ; 418  |#endif // IF (@def(USE_PLAYLIST3))
                            18273 ; 419  |
                            18274 ; 420  |#if defined(USE_PLAYLIST5)
                            18275 ; 421  |#define PL5_PL_FIRST_MSG_ID MSG_TYPE_PL5_PLAYBACK+0
                            18276 ; 422  |#define PL5_PL_MSG_RESET MSG_TYPE_PL5_PLAYBACK+0
                            18277 ; 423  |#define PL5_PL_MSG_CDSEARCHING MSG_TYPE_PL5_PLAYBACK+1
                            18278 ; 424  |#define PL5_PL_MSG_START MSG_TYPE_PL5_PLAYBACK+2
                            18279 ; 425  |#define PL5_PL_MSG_STOP MSG_TYPE_PL5_PLAYBACK+3
                            18280 ; 426  |#define PL5_PL_MSG_PAUSE MSG_TYPE_PL5_PLAYBACK+4
                            18281 ; 427  |#define PL5_PL_MSG_RESUME MSG_TYPE_PL5_PLAYBACK+5
                            18282 ; 428  |#define PL5_PL_MSG_DELETE MSG_TYPE_PL5_PLAYBACK+6
                            18283 ; 429  |#define PL5_PL_MSG_PLAY MSG_TYPE_PL5_PLAYBACK+7
                            18284 ; 430  |#define PL5_PL_MSG_DISCNT MSG_TYPE_PL5_PLAYBACK+8
                            18285 ; 431  |#define PL5_PL_MSG_ENACNT MSG_TYPE_PL5_PLAYBACK+9
                            18286 ; 432  |#define PL5_PL_LAST_MSG_ID MSG_TYPE_PL5_PLAYBACK+9
                            18287 ; 433  |
                            18288 ; 434  |#define PL5_BR_FIRST_MSG_ID MSG_TYPE_PL5_BROWSE+0
                            18289 ; 435  |#define PL5_BR_MSG_RESET MSG_TYPE_PL5_BROWSE+0
                            18290 ; 436  |#define PL5_BR_MSG_CDBROWSING MSG_TYPE_PL5_BROWSE+1
                            18291 ; 437  |#define PL5_BR_MSG_START MSG_TYPE_PL5_BROWSE+2
                            18292 ; 438  |#define PL5_BR_MSG_STOP MSG_TYPE_PL5_BROWSE+3
                            18293 ; 439  |#define PL5_BR_MSG_PAUSE MSG_TYPE_PL5_BROWSE+4
                            18294 ; 440  |#define PL5_BR_MSG_RESUME MSG_TYPE_PL5_BROWSE+5
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 304

M:ADDR CODE           CYCLES LINE SOURCELINE
                            18295 ; 441  |#define PL5_BR_MSG_DELETE MSG_TYPE_PL5_BROWSE+6
                            18296 ; 442  |#define PL5_BR_LAST_MSG_ID MSG_TYPE_PL5_BROWSE+6
                            18297 ; 443  |#endif // if @def('USE_PLAYLIST5')
                            18298 ; 444  |// Events
                            18299 ; 445  |// No event
                            18300 ; 446  |#define EVENT_NONE 0x000001   
                            18301 ; 447  |// A message has been posted
                            18302 ; 448  |#define EVENT_MESSAGE 0x000002   
                            18303 ; 449  |// Run if wait time elapsed
                            18304 ; 450  |#define EVENT_TIMER 0x000004   
                            18305 ; 451  |// Run if a button event occured
                            18306 ; 452  |#define EVENT_BUTTON 0x000008   
                            18307 ; 453  |// Run if a background event occured
                            18308 ; 454  |#define EVENT_BACKGROUND 0x000010   
                            18309 ; 455  |// The executive should immediately repeat this module
                            18310 ; 456  |#define EVENT_REPEAT 0x000020   
                            18311 ; 457  |// Run the module's init routine
                            18312 ; 458  |#define EVENT_INIT 0x800000   
                            18313 ; 459  |
                            18314 ; 460  |#define EVENT_NONE_BITPOS 0
                            18315 ; 461  |#define EVENT_MESSAGE_BITPOS 1
                            18316 ; 462  |#define EVENT_TIMER_BITPOS 2
                            18317 ; 463  |#define EVENT_BUTTON_BITPOS 3
                            18318 ; 464  |#define EVENT_BACKGROUND_BITPOS 4
                            18319 ; 465  |#define EVENT_REPEAT_BITPOS 5
                            18320 ; 466  |#define EVENT_INIT_BITPOS 23
                            18321 ; 467  |
                            18322 ; 468  |// Parser Message Buffers
                            18323 ; 469  |#define ParserPlayBit 0
                            18324 ; 470  |#define ButtonPressBit 1
                            18325 ; 471  |#define ParserRwndBit 1
                            18326 ; 472  |#define ParserFfwdBit 2
                            18327 ; 473  |
                            18328 ; 474  |//NextSong Message Parameters
                            18329 ; 475  |// ButtonPressBit1 set to denote button was pressed.
                            18330 ; 476  |#define NEXT_SONG 2             
                            18331 ; 477  |// ButtonPressBit1 cleared
                            18332 ; 478  |#define NEXT_SONG_PLAY_EOF 1          
                            18333 ; 479  |// ButtonPressBit1 set
                            18334 ; 480  |#define NEXT_SONG_PLAY_BUTTON 3          
                            18335 ; 481  |// NextSong + Ffwd
                            18336 ; 482  |#define NEXT_SONG_FFWD 4          
                            18337 ; 483  |
                            18338 ; 484  |//PrevSong Message Parameters
                            18339 ; 485  |// PrevSong + Stopped
                            18340 ; 486  |#define PREV_SONG 0          
                            18341 ; 487  |// PrevSong + Play
                            18342 ; 488  |#define PREV_SONG_PLAY 1          
                            18343 ; 489  |// PrevSong + Rwnd
                            18344 ; 490  |#define PREV_SONG_RWND 2          
                            18345 ; 491  |
                            18346 ; 492  |
                            18347 ; 493  |
                            18348 ; 494  |
                            18349 ; 495  |#endif // IF (!@def(MSGEQU_INC))
                            18350 ; 496  |
                            18351 ; 497  |
                            18352 
                            18354 
                            18355 ; 28   |
                            18356 ; 29   |#endif 
                            18357 
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 305

M:ADDR CODE           CYCLES LINE SOURCELINE
                            18359 
                            18360 ; 19   |#ifdef SYNC_LYRICS
                            18361 ; 20   |#include "SyncLyrics.h"
                            18362 
                            18364 
                            18365 ; 1    |////////////////////////////////////////////////////////////////////////////////
                            18366 ; 2    |// Copyright(C) SigmaTel, Inc. 2004-2006
                            18367 ; 3    |//
                            18368 ; 4    |// File        : synclyrics.h
                            18369 ; 5    |// Description : sync lyrics header file
                            18370 ; 6    |////////////////////////////////////////////////////////////////////////////////
                            18371 ; 7    |#ifndef __SYNC_LYRICS_H
                            18372 ; 8    |#define __SYNC_LYRICS_H
                            18373 ; 9    |
                            18374 ; 10   |#include "types.h"
                            18375 
                            18377 
                            18378 ; 1    |////////////////////////////////////////////////////////////////////////////////
                            18379 ; 2    |// Copyright(C) SigmaTel, Inc. 2000-2004
                            18380 ; 3    |//
                            18381 ; 4    |// Filename: types.h
                            18382 ; 5    |// Description: Standard data types
                            18383 ; 6    |////////////////////////////////////////////////////////////////////////////////
                            18384 ; 7    |
                            18385 ; 8    |#ifndef _TYPES_H
                            18386 ; 9    |#define _TYPES_H
                            18387 ; 10   |
                            18388 ; 11   |// TODO:  move this outta here!
                            18389 ; 12   |#if !defined(NOERROR)
                            18390 ; 13   |#define NOERROR 0
                            18391 ; 14   |#define SUCCESS 0
                            18392 ; 15   |#endif 
                            18393 ; 16   |#if !defined(SUCCESS)
                            18394 ; 17   |#define SUCCESS  0
                            18395 ; 18   |#endif
                            18396 ; 19   |#if !defined(ERROR)
                            18397 ; 20   |#define ERROR   -1
                            18398 ; 21   |#endif
                            18399 ; 22   |#if !defined(FALSE)
                            18400 ; 23   |#define FALSE 0
                            18401 ; 24   |#endif
                            18402 ; 25   |#if !defined(TRUE)
                            18403 ; 26   |#define TRUE  1
                            18404 ; 27   |#endif
                            18405 ; 28   |
                            18406 ; 29   |#if !defined(NULL)
                            18407 ; 30   |#define NULL 0
                            18408 ; 31   |#endif
                            18409 ; 32   |
                            18410 ; 33   |#define MAX_INT     0x7FFFFF
                            18411 ; 34   |#define MAX_LONG    0x7FFFFFffffff
                            18412 ; 35   |        // max positive unsigned long value: -1 == 0xFFFFFFffffff
                            18413 ; 36   |#define MAX_ULONG   (-1) 
                            18414 ; 37   |
                            18415 ; 38   |#define WORD_SIZE   24              // word size in bits
                            18416 ; 39   |#define BYTES_PER_WORD 3            // 8 bit bytes
                            18417 ; 40   |
                            18418 ; 41   |
                            18419 ; 42   |#define BYTE    unsigned char       // btVarName
                            18420 ; 43   |#define CHAR    signed char         // cVarName
                            18421 ; 44   |#define USHORT  unsigned short      // usVarName
                            18422 ; 45   |#define SHORT   unsigned short      // sVarName
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 306

M:ADDR CODE           CYCLES LINE SOURCELINE
                            18423 ; 46   |#define WORD    unsigned int        // wVarName
                            18424 ; 47   |#define INT     signed int          // iVarName
                            18425 ; 48   |#define DWORD   unsigned long       // dwVarName
                            18426 ; 49   |#define LONG    signed long         // lVarName
                            18427 ; 50   |#define BOOL    unsigned int        // bVarName
                            18428 ; 51   |#define FRACT   _fract              // frVarName
                            18429 ; 52   |#define LFRACT  long _fract         // lfrVarName
                            18430 ; 53   |#define CIRC    _circ               // cp<type prefix>VarName (see below)
                            18431 ; 54   |#define FLOAT   float               // fVarName
                            18432 ; 55   |#define DBL     double              // dVarName
                            18433 ; 56   |#define ENUM    enum                // eVarName
                            18434 ; 57   |#define CMX     _complex            // cmxVarName
                            18435 ; 58   |typedef WORD UCS3;                   // 
                            18436 ; 59   |
                            18437 ; 60   |#define UINT16  unsigned short
                            18438 ; 61   |#define UINT8   unsigned char   
                            18439 ; 62   |#define UINT32  unsigned long
                            18440 ; 63   |#define UINT64  unsigned long   // need to figure out how to do 64 bit values.  Or port ex
                                  isiting code to only use 48 bit
                            18441 ; 64   |#define INT64   unsigned long   // need to figure out how to do 64 bit values.  Or port ex
                                  isiting code to only use 48 bit
                            18442 ; 65   |#define WCHAR   UINT16
                            18443 ; 66   |
                            18444 ; 67   |//UINT128 is 16 bytes or 6 words
                            18445 ; 68   |typedef struct UINT128_3500 {   
                            18446 ; 69   |    int val[6];     
                            18447 ; 70   |} UINT128_3500;
                            18448 ; 71   |
                            18449 ; 72   |#define UINT128   UINT128_3500
                            18450 ; 73   |
                            18451 ; 74   |// Little endian word packed byte strings:   
                            18452 ; 75   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                            18453 ; 76   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                            18454 ; 77   |// Little endian word packed byte strings:   
                            18455 ; 78   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                            18456 ; 79   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                            18457 ; 80   |
                            18458 ; 81   |// Declare Memory Spaces To Use When Coding
                            18459 ; 82   |// A. Sector Buffers
                            18460 ; 83   |#define SECTOR_BUFFER_MEM_X _X
                            18461 ; 84   |#define SECTOR_BUFFER_MEM_Y _Y
                            18462 ; 85   |#define SECTOR_BUFFER_MEM SECTOR_BUFFER_MEM_X
                            18463 ; 86   |typedef WORD SECTOR_BUFFER_MEM SECTOR_BUFFER;
                            18464 ; 87   |typedef SECTOR_BUFFER * P_SECTOR_BUFFER;
                            18465 ; 88   |// B. Media DDI Memory
                            18466 ; 89   |#define MEDIA_DDI_MEM _Y
                            18467 ; 90   |
                            18468 ; 91   |
                            18469 ; 92   |
                            18470 ; 93   |// Pointers to linear structures are labeled as: p<type prefix>VarName
                            18471 ; 94   |// Examples of circular pointers:
                            18472 ; 95   |//    INT CIRC cpiVarName
                            18473 ; 96   |//    DWORD CIRC cpdwVarName
                            18474 ; 97   |
                            18475 ; 98   |#define RETCODE INT                 // rcVarName
                            18476 ; 99   |
                            18477 ; 100  |// generic bitfield structure
                            18478 ; 101  |struct Bitfield {
                            18479 ; 102  |    unsigned int B0  :1;
                            18480 ; 103  |    unsigned int B1  :1;
                            18481 ; 104  |    unsigned int B2  :1;
                            18482 ; 105  |    unsigned int B3  :1;
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 307

M:ADDR CODE           CYCLES LINE SOURCELINE
                            18483 ; 106  |    unsigned int B4  :1;
                            18484 ; 107  |    unsigned int B5  :1;
                            18485 ; 108  |    unsigned int B6  :1;
                            18486 ; 109  |    unsigned int B7  :1;
                            18487 ; 110  |    unsigned int B8  :1;
                            18488 ; 111  |    unsigned int B9  :1;
                            18489 ; 112  |    unsigned int B10 :1;
                            18490 ; 113  |    unsigned int B11 :1;
                            18491 ; 114  |    unsigned int B12 :1;
                            18492 ; 115  |    unsigned int B13 :1;
                            18493 ; 116  |    unsigned int B14 :1;
                            18494 ; 117  |    unsigned int B15 :1;
                            18495 ; 118  |    unsigned int B16 :1;
                            18496 ; 119  |    unsigned int B17 :1;
                            18497 ; 120  |    unsigned int B18 :1;
                            18498 ; 121  |    unsigned int B19 :1;
                            18499 ; 122  |    unsigned int B20 :1;
                            18500 ; 123  |    unsigned int B21 :1;
                            18501 ; 124  |    unsigned int B22 :1;
                            18502 ; 125  |    unsigned int B23 :1;
                            18503 ; 126  |};
                            18504 ; 127  |
                            18505 ; 128  |union BitInt {
                            18506 ; 129  |        struct Bitfield B;
                            18507 ; 130  |        int        I;
                            18508 ; 131  |};
                            18509 ; 132  |
                            18510 ; 133  |#define MAX_MSG_LENGTH 10
                            18511 ; 134  |struct CMessage
                            18512 ; 135  |{
                            18513 ; 136  |        unsigned int m_uLength;
                            18514 ; 137  |        unsigned int m_uMsg[MAX_MSG_LENGTH];
                            18515 ; 138  |};
                            18516 ; 139  |
                            18517 ; 140  |typedef struct {
                            18518 ; 141  |    WORD m_wLength;
                            18519 ; 142  |    WORD m_wMessage;
                            18520 ; 143  |    WORD m_wParams[MAX_MSG_LENGTH];
                            18521 ; 144  |} Message;
                            18522 ; 145  |
                            18523 ; 146  |struct MessageQueueDescriptor
                            18524 ; 147  |{
                            18525 ; 148  |        int *m_pBase;
                            18526 ; 149  |        int m_iModulo;
                            18527 ; 150  |        int m_iSize;
                            18528 ; 151  |        int *m_pHead;
                            18529 ; 152  |        int *m_pTail;
                            18530 ; 153  |};
                            18531 ; 154  |
                            18532 ; 155  |struct ModuleEntry
                            18533 ; 156  |{
                            18534 ; 157  |    int m_iSignaledEventMask;
                            18535 ; 158  |    int m_iWaitEventMask;
                            18536 ; 159  |    int m_iResourceOfCode;
                            18537 ; 160  |    struct MessageQueueDescriptor *m_pMessageQueue;
                            18538 ; 161  |    int _asmfunc (*m_pProcessEntryPoint)(union WaitMask Signals,struct MessageQueueDescrip
                                  tor *);
                            18539 ; 162  |    int _asmfunc (*m_pInitFunction)(struct MessageQueueDescriptor *);
                            18540 ; 163  |    int m_uTimeOutHigh;
                            18541 ; 164  |    int m_uTimeOutLow;
                            18542 ; 165  |    int _asmfunc (*m_pBackgroundFunction)(struct MessageQueueDescriptor *);
                            18543 ; 166  |};
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 308

M:ADDR CODE           CYCLES LINE SOURCELINE
                            18544 ; 167  |
                            18545 ; 168  |union WaitMask{
                            18546 ; 169  |    struct B{
                            18547 ; 170  |        unsigned int m_bNone     :1;
                            18548 ; 171  |        unsigned int m_bMessage  :1;
                            18549 ; 172  |        unsigned int m_bTimer    :1;
                            18550 ; 173  |        unsigned int m_bButton   :1;
                            18551 ; 174  |    } B;
                            18552 ; 175  |    int I;
                            18553 ; 176  |} ;
                            18554 ; 177  |
                            18555 ; 178  |
                            18556 ; 179  |struct Button {
                            18557 ; 180  |        WORD wButtonEvent;
                            18558 ; 181  |        WORD wUnused[MAX_MSG_LENGTH];   
                            18559 ; 182  |};
                            18560 ; 183  |
                            18561 ; 184  |struct Message {
                            18562 ; 185  |        WORD wMsgLength;
                            18563 ; 186  |        WORD wMsgCommand;
                            18564 ; 187  |        WORD wMsgParms[MAX_MSG_LENGTH-1];
                            18565 ; 188  |};
                            18566 ; 189  |
                            18567 ; 190  |union EventTypes {
                            18568 ; 191  |        struct CMessage msg;
                            18569 ; 192  |        struct Button Button ;
                            18570 ; 193  |        struct Message Message;
                            18571 ; 194  |};
                            18572 ; 195  |
                            18573 ; 196  |// next 2 used to get updater build to return correct protocol ver in scsi response.
                            18574 ; 197  |#define BUILD_TYPE_UPDATER  0x100
                            18575 ; 198  |#define BUILD_TYPE_HOSTLINK 0x101
                            18576 ; 199  |#define BUILD_TYPE_PLAYER   0x102
                            18577 ; 200  |
                            18578 ; 201  |// Resets part if RETAIL build. DEBUG build executes debug instruction to halt.
                            18579 ; 202  |#define SystemHalt() __asm(" include 'sysmacro.asm' \n error") 
                            18580 ; 203  |#define assert(x)    if(!(x)) __asm(" include 'sysmacro.asm' \n error")
                            18581 ; 204  |
                            18582 ; 205  |#if DEBUG
                            18583 ; 206  |// For DEBUG builds, DebugBuildAssert(condition) halts if condition evaluates to FALSE. 
                            18584 ; 207  |#define DebugBuildAssert(x)    if(!(x)) __asm(" debug ")
                            18585 ; 208  |#else 
                            18586 ; 209  |// For RETAIL builds, DebugBuildAssert(condition) does nothing & execution continues rathe
                                  r than halt or reset. 
                            18587 ; 210  |#define DebugBuildAssert(x)    
                            18588 ; 211  |#endif
                            18589 ; 212  |
                            18590 ; 213  |// Do this in your C files to make a reminder that's displayed during the build.
                            18591 ; 214  |//  #pragma asm
                            18592 ; 215  |//  WARN 'Note to builder: reminder to do this after verifying that'
                            18593 ; 216  |//  #pragma endasm
                            18594 ; 217  |
                            18595 ; 218  |
                            18596 ; 219  |#ifdef COLOR_262K
                            18597 ; 220  |#define RGB(r,g,b)    ((0x0000FC & (r)) << 10) | ((0x0000FC & (g)) << 4) | ((0x0000FC & (b
                                  )) >> 2)    //262k
                            18598 ; 221  |#elif defined(COLOR_65K)
                            18599 ; 222  |#define RGB(r,g,b)    ((0x0000F8 & (r)) << 8) | ((0x0000FC & (g)) << 3) | ((0x0000F8 & (b)
                                  ) >> 3)  //65k
                            18600 ; 223  |#else
                            18601 ; 224  |#define RGB(r,g,b)       ((0x0000F0 & (r)) << 4) | (0x0000F0 & (g)) | ((0x0000F0 & (b)) >>
                                   4)
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 309

M:ADDR CODE           CYCLES LINE SOURCELINE
                            18602 ; 225  |#endif
                            18603 ; 226  |    
                            18604 ; 227  |#endif // #ifndef _TYPES_H
                            18605 
                            18607 
                            18608 ; 11   |#include "project.h"
                            18609 
                            18611 
                            18612 ; 1    |/////////////////////////////////////////////////////////////////////////////////
                            18613 ; 2    |//  Copyright(C) SigmaTel, Inc. 2000-2004
                            18614 ; 3    |//  Filename: project.inc
                            18615 ; 4    |//  Description: 
                            18616 ; 5    |/////////////////////////////////////////////////////////////////////////////////
                            18617 ; 6    |
                            18618 ; 7    |#if (!defined(_PROJECT_INC))
                            18619 ; 8    |#define _PROJECT_INC 1
                            18620 ; 9    |
                            18621 ; 10   |#if defined(STMP_BUILD_PLAYER)
                            18622 ; 11   |#include "hwequ.h"
                            18623 ; 12   |#else 
                            18624 ; 13   |//include "regscodec.inc"
                            18625 ; 14   |#endif
                            18626 ; 15   |
                            18627 ; 16   |//////////////////////////////////////////////////////////////////////////////////
                            18628 ; 17   |// Uncomment next define to allow player boot if you have stfm1000 macro enabled (defaults
                                   ON) & 
                            18629 ; 18   |// your board crystal is not able to output nominal voltage range. Used in player main.asm
                                  . STMP00012148
                            18630 ; 19   |// Defining this will result in lower battery life (price of using a lower quality crystal
                                  ). 
                            18631 ; 20   |// Those that want to save battery life and have good crystals that meet our HW team's spe
                                  cs can 
                            18632 ; 21   |// comment out this line to reduce crystal bias current and so battery current in player m
                                  ode.  
                            18633 ; 22   |#define SUPPORT_MARGINAL_XTALS 1
                            18634 ; 23   |
                            18635 ; 24   |/////////////////////////////////////////////////////////////////////////////////
                            18636 ; 25   |// BOOT SPEED CONFIG & ASSOCIATED BATTERY VOLTAGE CHECK ENABLE
                            18637 ; 26   |/////////////////////////////////////////////////////////////////////////////////
                            18638 ; 27   |// Users can enable one of ATTEMPT_FAST_BOOT or FASTEST boot or neither project define bel
                                  ow by defining
                            18639 ; 28   |// values as 0 or 1, else it defaults to the boot speed used in previous SDKs.
                            18640 ; 29   |#define ATTEMPT_FAST_BOOT 1
                            18641 ; 30   |#define ATTEMPT_FASTEST_BOOT 0   
                            18642 ; 31   |// Changing this define to 0 removes Vbat threshholding & unconditionally gives fast boot 
                                  config above- 
                            18643 ; 32   |// disabling this check is suggested for profiling if you want to try to tweak down thresh
                                  holds by maybe 50mV.
                            18644 ; 33   |// Also the tests should clear the fast boot config defines to link & boot at normal speed
                                  .
                            18645 ; 34   |#define SPEED_BOOT_BATTERY_CHECK 1
                            18646 ; 35   |
                            18647 ; 36   |/////////////////////////////////////////////////////////////////////////////////
                            18648 ; 37   |// MEDIA DEFINITIONS
                            18649 ; 38   |/////////////////////////////////////////////////////////////////////////////////
                            18650 ; 39   |
                            18651 ; 40   |/////////////////////////////////////////////////////////////////////////////////
                            18652 ; 41   |// MNAND - Number of chips forming the internal physical device (i.e. # of NANDs)
                            18653 ; 42   |#if defined(NAND1)
                            18654 ; 43   |#define SM_INTERNAL_CHIPS 1
                            18655 ; 44   |#else 
                            18656 ; 45   |#if defined(NAND2)
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 310

M:ADDR CODE           CYCLES LINE SOURCELINE
                            18657 ; 46   |#define SM_INTERNAL_CHIPS 2
                            18658 ; 47   |#else 
                            18659 ; 48   |#if defined(NAND3)
                            18660 ; 49   |#define SM_INTERNAL_CHIPS 3
                            18661 ; 50   |#else 
                            18662 ; 51   |#if defined(NAND4)
                            18663 ; 52   |#define SM_INTERNAL_CHIPS 4
                            18664 ; 53   |#else 
                            18665 ; 54   |#define SM_INTERNAL_CHIPS 1
                            18666 ; 55   |#endif
                            18667 ; 56   |#endif
                            18668 ; 57   |#endif
                            18669 ; 58   |#endif
                            18670 ; 59   |
                            18671 ; 60   |/////////////////////////////////////////////////////////////////////////////////
                            18672 ; 61   |// If SMARTMEDIA_DETECT_ACTIVE_HIGH is defined:
                            18673 ; 62   |//   SmartMedia will be detected as inserted if the GPIO pin reads 1 and removed if it rea
                                  ds 0.  
                            18674 ; 63   |// If SMARTMEDIA_DETECT_ACTIVE_HIGH is not defined ** comment out next line **
                            18675 ; 64   |//   SmartMedia will be detected as inserted if the GPIO pin reads 0 and removed if it rea
                                  ds 1.
                            18676 ; 65   |//*** comment out if active high ****
                            18677 ; 66   |//SMARTMEDIA_DETECT_ACTIVE_HIGH  equ     1
                            18678 ; 67   |
                            18679 ; 68   |#if defined(SMEDIA)
                            18680 ; 69   |#define NUM_REMOVABLE_MEDIA 1
                            18681 ; 70   |#define NUM_SM_EXTERNAL 1
                            18682 ; 71   |#define MMC_MAX_PHYSICAL_DEVICES 0
                            18683 ; 72   |#define SM_MAX_LOGICAL_DEVICES 2
                            18684 ; 73   |#else 
                            18685 ; 74   |#if defined(MMC)
                            18686 ; 75   |#define NUM_REMOVABLE_MEDIA 1
                            18687 ; 76   |#define NUM_SM_EXTERNAL 0
                            18688 ; 77   |#define MMC_MAX_PHYSICAL_DEVICES 1
                            18689 ; 78   |#define SM_MAX_LOGICAL_DEVICES 1
                            18690 ; 79   |#else 
                            18691 ; 80   |#define NUM_REMOVABLE_MEDIA 0
                            18692 ; 81   |#define NUM_SM_EXTERNAL 0
                            18693 ; 82   |#define MMC_MAX_PHYSICAL_DEVICES 0
                            18694 ; 83   |#define SM_MAX_LOGICAL_DEVICES 1
                            18695 ; 84   |#endif
                            18696 ; 85   |#endif
                            18697 ; 86   |
                            18698 ; 87   |/////////////////////////////////////////////////////////////////////////////////
                            18699 ; 88   |// Mass Storage Class definitions
                            18700 ; 89   |/////////////////////////////////////////////////////////////////////////////////
                            18701 ; 90   |// Set to 0 if Composite Device build is desired.    
                            18702 ; 91   |#define MULTI_LUN_BUILD 1   
                            18703 ; 92   |
                            18704 ; 93   |////////////////////////////////////////////////////////////////////////////////
                            18705 ; 94   |//  SCSI
                            18706 ; 95   |#if (MULTI_LUN_BUILD==0)
                            18707 ; 96   |  #if (NUM_REMOVABLE_MEDIA == 1)
                            18708 ; 97   |    #define SCSI_NUM_TARGETS                        2
                            18709 ; 98   |    #define SCSI_DEVICE_NUM_LUNS_DEV_0              1
                            18710 ; 99   |    #define SCSI_DEVICE_NUM_LUNS_DEV_1              1
                            18711 ; 100  |  #else
                            18712 ; 101  |    #define SCSI_NUM_TARGETS                        1
                            18713 ; 102  |    #define SCSI_DEVICE_NUM_LUNS_DEV_0              1
                            18714 ; 103  |  #endif
                            18715 ; 104  |#else
                            18716 ; 105  |    #define SCSI_NUM_TARGETS                        1
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 311

M:ADDR CODE           CYCLES LINE SOURCELINE
                            18717 ; 106  |  #if (NUM_REMOVABLE_MEDIA == 1)
                            18718 ; 107  |    #define SCSI_DEVICE_NUM_LUNS_DEV_0              2
                            18719 ; 108  |  #else
                            18720 ; 109  |    #define SCSI_DEVICE_NUM_LUNS_DEV_0              1  
                            18721 ; 110  |  #endif
                            18722 ; 111  |#endif
                            18723 ; 112  |
                            18724 ; 113  |
                            18725 ; 114  |#define USBMSC_NUM_DEVICES                      SCSI_NUM_TARGETS
                            18726 ; 115  |
                            18727 ; 116  |
                            18728 ; 117  |////////////////////////////////////////////////////////////////////////////////
                            18729 ; 118  |// Define number of logical medias and drives for three builds (MTP, USBMSC, and Player)
                            18730 ; 119  |////////////////////////////////////////////////////////////////////////////////
                            18731 ; 120  |#ifdef MMC
                            18732 ; 121  |#ifdef MTP_BUILD
                            18733 ; 122  |// --------------------
                            18734 ; 123  |// MTP and MMC
                            18735 ; 124  |// --------------------
                            18736 ; 125  |#define NUM_LOGICAL_MEDIA       2
                            18737 ; 126  |#define NUM_LOGICAL_DRIVES      8
                            18738 ; 127  |#else  // ifndef MTP_BUILD
                            18739 ; 128  |#ifdef STMP_BUILD_PLAYER
                            18740 ; 129  |// --------------------
                            18741 ; 130  |// Player and MMC
                            18742 ; 131  |// --------------------
                            18743 ; 132  |#else
                            18744 ; 133  |// --------------------
                            18745 ; 134  |// USBMSC and MMC
                            18746 ; 135  |// --------------------
                            18747 ; 136  |#define NUM_LOGICAL_MEDIA       3
                            18748 ; 137  |#define NUM_LOGICAL_DRIVES      8
                            18749 ; 138  |#endif // ifdef STMP_BUILD_PLAYER
                            18750 ; 139  |#endif // ifdef MTP_BUILD
                            18751 ; 140  |#else  // ifndef MMC
                            18752 ; 141  |#ifdef MTP_BUILD
                            18753 ; 142  |// --------------------
                            18754 ; 143  |// MTP and NAND only
                            18755 ; 144  |// --------------------
                            18756 ; 145  |#define NUM_LOGICAL_MEDIA       1
                            18757 ; 146  |#define NUM_LOGICAL_DRIVES      7
                            18758 ; 147  |#else  // ifndef MTP_BUILD
                            18759 ; 148  |#ifdef STMP_BUILD_PLAYER
                            18760 ; 149  |// --------------------
                            18761 ; 150  |// Player and NAND only
                            18762 ; 151  |// --------------------
                            18763 ; 152  |#else
                            18764 ; 153  |// --------------------
                            18765 ; 154  |// USBMSC and NAND only
                            18766 ; 155  |// --------------------
                            18767 ; 156  |#define NUM_LOGICAL_MEDIA       2
                            18768 ; 157  |#define NUM_LOGICAL_DRIVES      7
                            18769 ; 158  |#endif // ifdef STMP_BUILD_PLAYER
                            18770 ; 159  |#endif // ifdef MTP_BUILD
                            18771 ; 160  |#endif // ifdef MMC 
                            18772 ; 161  |
                            18773 ; 162  |// If we are in an MTP build then we don't use as many transfers buffers.
                            18774 ; 163  |#if (defined(MTP_BUILD))
                            18775 ; 164  |#define MAX_USB_TRANSFERS_QUEUED 16
                            18776 ; 165  |
                            18777 ; 166  |////!
                            18778 ; 167  |////! This varible holds the watchdog count for the store flush.
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 312

M:ADDR CODE           CYCLES LINE SOURCELINE
                            18779 ; 168  |////!
                            18780 ; 169  |///
                            18781 ; 170  |#include <types.h>
                            18782 ; 171  |extern volatile INT g_StoreWatchDogCount;
                            18783 ; 172  |extern const INT g_StoreWatchDogTimeout;
                            18784 ; 173  |#endif
                            18785 ; 174  |
                            18786 ; 175  |////////////////////////////////////////////////////////////////////////////////
                            18787 ; 176  |// These are needed here for Mass Storage Class
                            18788 ; 177  |// Needs to be cleaned up
                            18789 ; 178  |////////////////////////////////////////////////////////////////////////////////
                            18790 ; 179  |#if (!defined(STMP_BUILD_PLAYER))
                            18791 ; 180  |#define SCRATCH_USER_Y_SIZE 512
                            18792 ; 181  |#define SCRATCH_USER_X_SIZE 512
                            18793 ; 182  |
                            18794 ; 183  |#define BROWNOUT_LEVEL1_DETECTED                0x000001
                            18795 ; 184  |
                            18796 ; 185  |#endif
                            18797 ; 186  |
                            18798 ; 187  |
                            18799 ; 188  |/////////////////////////////////////////////////////////////////////////////////
                            18800 ; 189  |// SmartMedia/NAND defs
                            18801 ; 190  |#define SM_MAX_PHYSICAL_DEVICES SM_INTERNAL_CHIPS+NUM_SM_EXTERNAL
                            18802 ; 191  |#define SM_REMOVABLE_DEVICE_NUM SM_INTERNAL_CHIPS
                            18803 ; 192  |
                            18804 ; 193  |/////////////////////////////////////////////////////////////////////////////////
                            18805 ; 194  |// Sysloadresources defs
                            18806 ; 195  |#define SM_MAX_RESOURCE_DEVICES SM_INTERNAL_CHIPS+NUM_SM_EXTERNAL
                            18807 ; 196  |
                            18808 ; 197  |/////////////////////////////////////////////////////////////////////////////////
                            18809 ; 198  |// MMC defs
                            18810 ; 199  |#define MMC_MAX_PARTITIONS 1
                            18811 ; 200  |#define MMC_MAX_LOGICAL_DEVICES MMC_MAX_PHYSICAL_DEVICES*MMC_MAX_PARTITIONS
                            18812 ; 201  |
                            18813 ; 202  |/////////////////////////////////////////////////////////////////////////////////
                            18814 ; 203  |// SPI defs
                            18815 ; 204  |#define SPI_MAX_DEVICES MMC_MAX_PHYSICAL_DEVICES
                            18816 ; 205  |
                            18817 ; 206  |/////////////////////////////////////////////////////////////////////////////////
                            18818 ; 207  |// Global media defs
                            18819 ; 208  |#define MAX_PHYSICAL_DEVICES SM_MAX_PHYSICAL_DEVICES+MMC_MAX_PHYSICAL_DEVICES
                            18820 ; 209  |#define MAX_LOGICAL_DEVICES SM_MAX_LOGICAL_DEVICES+MMC_MAX_LOGICAL_DEVICES
                            18821 ; 210  |
                            18822 ; 211  |/////////////////////////////////////////////////////////////////////////////////
                            18823 ; 212  |// DO NOT CHANGE THESE!!!
                            18824 ; 213  |#define SM_MAX_PARTITIONS 4
                            18825 ; 214  |#define MAX_HANDLES 2
                            18826 ; 215  |/////////////////////////////////////////////////////////////////////////////////
                            18827 ; 216  |
                            18828 ; 217  |
                            18829 ; 218  |/////////////////////////////////////////////////////////////////////////////////
                            18830 ; 219  |// Battery LRADC Values 
                            18831 ; 220  |/////////////////////////////////////////////////////////////////////////////////
                            18832 ; 221  |// brownout trip point in mV (moved by RS)
                            18833 ; 222  |// BATT_SAFETY_MARGIN:  percentage value used by:
                            18834 ; 223  |//   * SysSaveSettings to determine if enough power is left to attempt a settings save. 
                            18835 ; 224  |//   * Recorder to conditionally prevent the start or continuation of 
                            18836 ; 225  |//     audio recording to media.
                            18837 ; 226  |#define BATT_SAFETY_MARGIN 10
                            18838 ; 227  |
                            18839 ; 228  |//; player resource drive refresh allowed only when battery usable % is above this value. 
                                  
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 313

M:ADDR CODE           CYCLES LINE SOURCELINE
                            18840 ; 229  |//; 50% of usable range [0.9V to 1.5V] is around 1.2V This is the safe target alkaline vol
                                  tage to do a refresh.
                            18841 ; 230  |//; LIION will also require 50% which will work but that could be changed in the future. 
                            18842 ; 231  |//RESOURCE_REFRESH_MIN_BATT_PCT equ 50
                            18843 ; 232  |
                            18844 ; 233  |// stmp00005071 adds these for mp3 encode stability at low battery per battery type & mmc 
                                  presence.
                            18845 ; 234  |
                            18846 ; 235  |//// Vbat threshholds empirically tuned by profiling max bat current for 3 HW cases: 
                            18847 ; 236  |//// 1 GigaByte MMC, NAND flash only, & LiIon Buck mode. See voicemenu pre-encode Vbat che
                                  ck.
                            18848 ; 237  |#if (!defined(CLCD))
                            18849 ; 238  |#define MP3_ENC_MMC_MIN_V_BAT_MV 1100
                            18850 ; 239  |#define MP3_ENC_NANDONLY_MIN_V_BAT_MV 1000
                            18851 ; 240  |#else 
                            18852 ; 241  |#define MP3_ENC_MMC_MIN_V_BAT_MV 1250
                            18853 ; 242  |#define MP3_ENC_NANDONLY_MIN_V_BAT_MV 1150
                            18854 ; 243  |#endif
                            18855 ; 244  |#define MP3_ENC_BUCKMODE_MIN_V_BAT_MV 3300
                            18856 ; 245  |
                            18857 ; 246  |// These Vbat use-range-percentages are derived to correspond with target battery 
                            18858 ; 247  |// voltages of 1.10V for MMC, 1.0V for nand only (alkaline or nimh), and 3.3V for any LiIo
                                  n.
                            18859 ; 248  |// See mp3 encoder overlay.
                            18860 ; 249  |#define MP3_ENC_MMC_MIN_V_BAT_RANGE_PCT 33
                            18861 ; 250  |#define MP3_ENC_NANDONLY_MIN_V_BAT_RANGE_PCT 17
                            18862 ; 251  |#define MP3_ENC_BUCKMODE_MIN_V_BAT_RANGE_PCT 25
                            18863 ; 252  |
                            18864 ; 253  |/////////////////////////////////////////////////////////////////////////////////
                            18865 ; 254  |// Voice recording filenames
                            18866 ; 255  |// number of digits in filename Vxxx.wav
                            18867 ; 256  |/////////////////////////////////////////////////////////////////////////////////
                            18868 ; 257  |#define DIGITS_IN_VOICE_FILENAME 3   
                            18869 ; 258  |
                            18870 ; 259  |/////////////////////////////////////////////////////////////////////////////////
                            18871 ; 260  |// Mic Bias: Set this enable to 1 to internally generate mic bias voltage. 
                            18872 ; 261  |// Also below, must configure internal resistor value and pin to use for DC bias. 
                            18873 ; 262  |// Can set to 0 to disable internally generated mic bias voltage at pin lradc1/2.
                            18874 ; 263  |#if defined(DEVICE_3500)
                            18875 ; 264  |#define ENABLE_INTERNALLY_GENERATED_MICBIAS 1 
                            18876 ; 265  |// MIC BIAS circuit source selection: use Low Resolution ADC pin 2 or 1 to bias mic. 
                            18877 ; 266  |// Per your layout: select LRADC 2 or 1 below 
                            18878 ; 267  |//   (pin LRADC 2 for 35xx cpu card revB, LRADC 1 for 35xx cpu card revC, ref schematics, 
                                  & demo player)
                            18879 ; 268  |#define LRADC_NUM_FOR_MIC_BIAS 1 
                            18880 ; 269  |// Sets internal mic bias R to value 2, 4, or 8 (in kOhms).
                            18881 ; 270  |#define MICBIAS_CONFIGURED_RESISTOR_KOHMS 8
                            18882 ; 271  |
                            18883 ; 272  |// Allows mic bias to settle before sampling. This delay currently unused. For rec btn whe
                                  n bias not yet ready.
                            18884 ; 273  |#define REC_BTN_INTERNAL_MIC_BIAS_SETTLING_DELAY_MS 400 
                            18885 ; 274  |// Option always keeps bias enabled after mainmenu init. This allows for start pop prevent
                                  ion if you use rec button from outside voice menu.
                            18886 ; 275  |// This selection costs 1 mWatt but gains the desired low record button to sampling latenc
                                  y in the record-from-music-menu use-case.
                            18887 ; 276  |#define KEEP_MIC_BIAS_ENABLED 0
                            18888 ; 277  |
                            18889 ; 278  |#else 
                            18890 ; 279  |// STMP3410
                            18891 ; 280  |#define ENABLE_INTERNALLY_GENERATED_MICBIAS 0
                            18892 ; 281  |#define LRADC_NUM_FOR_MIC_BIAS 1 
                            18893 ; 282  |#define MICBIAS_CONFIGURED_RESISTOR_KOHMS 2
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 314

M:ADDR CODE           CYCLES LINE SOURCELINE
                            18894 ; 283  |#endif
                            18895 ; 284  |
                            18896 ; 285  |/////////////////////////////////////////////////////////////////////////////////
                            18897 ; 286  |// Number of available soft timers
                            18898 ; 287  |/////////////////////////////////////////////////////////////////////////////////
                            18899 ; 288  |#if defined(SYNC_LYRICS)
                            18900 ; 289  |#define SOFT_TIMERS 10
                            18901 ; 290  |#else 
                            18902 ; 291  |#if defined(JPEG_DECODER)
                            18903 ; 292  |#define SOFT_TIMERS 10
                            18904 ; 293  |#else 
                            18905 ; 294  |#define SOFT_TIMERS 9
                            18906 ; 295  |#endif
                            18907 ; 296  |#endif
                            18908 ; 297  |
                            18909 ; 298  |/////////////////////////////////////////////////////////////////////////////////
                            18910 ; 299  |//  sizes
                            18911 ; 300  |/////////////////////////////////////////////////////////////////////////////////
                            18912 ; 301  |#if defined(MMC)
                            18913 ; 302  |#if defined(USE_PLAYLIST5)
                            18914 ; 303  |#define MENU_STACK_SIZE 1500
                            18915 ; 304  |#else 
                            18916 ; 305  |#define MENU_STACK_SIZE 1250
                            18917 ; 306  |#endif //if @def('USE_PLAYLIST5')
                            18918 ; 307  |#else 
                            18919 ; 308  |#if defined(USE_PLAYLIST5)
                            18920 ; 309  |#define MENU_STACK_SIZE 1500
                            18921 ; 310  |#else 
                            18922 ; 311  |#define MENU_STACK_SIZE 1250
                            18923 ; 312  |#endif //if @def('USE_PLAYLIST5')
                            18924 ; 313  |#endif //if @def('MMC')
                            18925 ; 314  |
                            18926 ; 315  |// NOTE: SDK2.6 USED 550 FOR NEXT LINE, BUT SDK3.0BETA USED 750. Should it be ifdef MTP 75
                                  0 else 550 for other builds? TOVERIFY. MYALLOC
                            18927 ; 316  |// 
                            18928 ; 317  |#define STACK_L1_SIZE 750
                            18929 ; 318  |#define STACK_L2_SIZE 100
                            18930 ; 319  |#define STACK_L3_SIZE 160
                            18931 ; 320  |
                            18932 ; 321  |// If we are in MTP mode the overlay task stack can shrink.
                            18933 ; 322  |// TODO shrink this stack for MTP, I will leave it at 500 until we verify that it 
                            18934 ; 323  |// is ok with switching code.
                            18935 ; 324  |#if defined(MTP_BUILD)
                            18936 ; 325  |#define OVERLAY_MANAGER_STACK_SIZE 300
                            18937 ; 326  |#endif
                            18938 ; 327  |
                            18939 ; 328  |/////////////////////////////////////////////////////////////////////////////////
                            18940 ; 329  |// maximum number of nested funclets 
                            18941 ; 330  |/////////////////////////////////////////////////////////////////////////////////
                            18942 ; 331  |#define MAX_NESTED_FUNCLET 6 
                            18943 ; 332  |
                            18944 ; 333  |/////////////////////////////////////////////////////////////////////////////////
                            18945 ; 334  |//    LCD DEFINITIONS
                            18946 ; 335  |/////////////////////////////////////////////////////////////////////////////////
                            18947 ; 336  |
                            18948 ; 337  |#define SPACE_CHAR 0x000020          
                            18949 ; 338  |#define ZERO_CHAR 0x000030
                            18950 ; 339  |#define COLON_CHAR 0x00003A
                            18951 ; 340  |#define PERIOD_CHAR 0x00002E
                            18952 ; 341  |
                            18953 ; 342  |#if (defined(S6B33B0A_LCD))
                            18954 ; 343  |#define LCD_X_SIZE 128
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 315

M:ADDR CODE           CYCLES LINE SOURCELINE
                            18955 ; 344  |#define LCD_Y_SIZE 159
                            18956 ; 345  |#endif
                            18957 ; 346  |
                            18958 ; 347  |#if (defined(SED15XX_LCD))
                            18959 ; 348  |#define LCD_X_SIZE 128
                            18960 ; 349  |#define LCD_Y_SIZE 64
                            18961 ; 350  |#endif
                            18962 ; 351  |
                            18963 ; 352  |
                            18964 ; 353  |//////////////////////////////////////////////////////////////////////////////////
                            18965 ; 354  |//   Details on Customizing Contrast
                            18966 ; 355  |/////////////////////////////////////////////////////////////////////////////////
                            18967 ; 356  |//   Max supported LCD range is 0 - 3F; however due to hardware/voltage differences
                            18968 ; 357  |//   the range of visibility is usually smaller than this.  It is important to 
                            18969 ; 358  |//   calibrate the visible range, because the contrast setting is saved.
                            18970 ; 359  |//   If the user shuts off the player while lcd is not visible, the player is useless
                            18971 ; 360  |//   unless the ezact sequence is remembered.
                            18972 ; 361  |//   To find out what range your player supports: 
                            18973 ; 362  |//   change these equs to full range or comment out (full range is default)
                            18974 ; 363  |//;;;;;;
                            18975 ; 364  |// uncomment the line below to build code that will provide raw contrast value
                            18976 ; 365  |// recommended calibration using player -- uncomment 
                            18977 ; 366  |//;;;;;;
                            18978 ; 367  |//CONTRAST_CALIBRATION    equ  1
                            18979 ; 368  |////////////////////////////
                            18980 ; 369  |#if (defined(DEMO_HW))
                            18981 ; 370  |// this is the setting for ET301 demos; Next 2 line have not been updated for new Shingyi 
                                  LCD (June6'05)
                            18982 ; 371  |#define LCD_MAX_CONTRAST 0x32 
                            18983 ; 372  |#define LCD_MIN_CONTRAST 0x1E
                            18984 ; 373  |#else 
                            18985 ; 374  |
                            18986 ; 375  |#if (defined(S6B33B0A_LCD))
                            18987 ; 376  |#define LCD_MAX_CONTRAST 210
                            18988 ; 377  |#define LCD_MIN_CONTRAST 160    
                            18989 ; 378  |#endif
                            18990 ; 379  |
                            18991 ; 380  |#if (defined(SED15XX_LCD))
                            18992 ; 381  |// Next 3 line comment was for OLD shingyi LCD: (default LCD before sdk2.6)
                            18993 ; 382  |// Engineering board regs support range [17-37].
                            18994 ; 383  |//   Engineering board DC/DC support range [24-46]. 
                            18995 ; 384  |//   One default contrast range [24-42] works for both.
                            18996 ; 385  |// The 3 sets of contrast ranges below are updated for SDK2.6 to support either 
                            18997 ; 386  |// new or old ShingYih LCDs. "File" refers to \resource\shingyih\system_lcd_init_seq.src
                            18998 ; 387  |// 3/10/05 - Use one of the 2 next contrast ranges depending on which
                            18999 ; 388  |// ShingYih LCD you have.  See \resources\shingyi\readme.txt 
                            19000 ; 389  |// Optimal for NEW LCD with NEW file (SDK2.6 default)  
                            19001 ; 390  |// G098064-41 LCD module (present on engr board revH LCD card)
                            19002 ; 391  |
                            19003 ; 392  |#if (defined(NEWSHINGYIH))
                            19004 ; 393  |#define LCD_MAX_CONTRAST 250
                            19005 ; 394  |#define LCD_MIN_CONTRAST 0
                            19006 ; 395  |#else 
                            19007 ; 396  |//-----
                            19008 ; 397  |// Near optimal for OLD LCD with NEW file. 
                            19009 ; 398  |// NOT optimal for the new lcd but pretty good. So u may use this if u want 1 build for bo
                                  th LCDs.
                            19010 ; 399  |#define LCD_MAX_CONTRAST 250
                            19011 ; 400  |#define LCD_MIN_CONTRAST 0
                            19012 ; 401  |
                            19013 ; 402  |//=====
                            19014 ; 403  |// Optimal for OLD ShingYih LCD with OLD file (as sdk2.521)
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 316

M:ADDR CODE           CYCLES LINE SOURCELINE
                            19015 ; 404  |// Suggest going with default new init file & values above for your LCD instead of this hi
                                  storic ver.
                            19016 ; 405  |//LCD_MAX_CONTRAST equ 42
                            19017 ; 406  |//LCD_MIN_CONTRAST equ 24 
                            19018 ; 407  |
                            19019 ; 408  |#endif
                            19020 ; 409  |#endif
                            19021 ; 410  |
                            19022 ; 411  |#endif
                            19023 ; 412  |
                            19024 ; 413  |//////////////////////////////////////////////////////////////////////////////////
                            19025 ; 414  |// The default value of the lcd contrast in % of range
                            19026 ; 415  |//   the default value is used when no settings.dat is available
                            19027 ; 416  |//////////////////////////////////////////////////////////////////////////////////
                            19028 ; 417  |
                            19029 ; 418  |#if (defined(S6B33B0A_LCD))
                            19030 ; 419  |// 60% of range is default value
                            19031 ; 420  |#define DEFAULT_CONTRAST 50 
                            19032 ; 421  |#endif
                            19033 ; 422  |
                            19034 ; 423  |#if (defined(SED15XX_LCD))
                            19035 ; 424  |// % of range is default value (was 60%)
                            19036 ; 425  |#define DEFAULT_CONTRAST 50 
                            19037 ; 426  |#endif
                            19038 ; 427  |
                            19039 ; 428  |
                            19040 ; 429  |// percentage change per increment/decrement message (LCD_DEC_CONTRAST/LCD_INC_CONTRAST)
                            19041 ; 430  |// make lower when doing calibration
                            19042 ; 431  |#define LCD_STEPSIZE_CONTRAST 10  
                            19043 ; 432  |
                            19044 ; 433  |
                            19045 ; 434  |/////////////////////////////////////////////////////////////////////////////////
                            19046 ; 435  |// For FFWD and RWND
                            19047 ; 436  |/////////////////////////////////////////////////////////////////////////////////
                            19048 ; 437  |#define SECONDS_TO_SKIP 1
                            19049 ; 438  |#define SECONDS_TO_SKIP1 3
                            19050 ; 439  |#define SECONDS_TO_SKIP2 6
                            19051 ; 440  |// number of seconds to cause reset to begin of song for PREV push
                            19052 ; 441  |#define PREV_SONG_THRESHOLD 5  
                            19053 ; 442  |// number of 300 mSec periods before the numbers of seconds to skip increases
                            19054 ; 443  |#define FIRST_TIME_BOUNDARY 15 
                            19055 ; 444  |// number of 300 mSec periods before the numbers of seconds to skip increases
                            19056 ; 445  |#define SECOND_TIME_BOUNDARY 30 
                            19057 ; 446  |
                            19058 ; 447  |// For audible FFW/RWD
                            19059 ; 448  |#define SECONDS_TO_SKIP_FOR_3X_RATE 1
                            19060 ; 449  |#define SECONDS_TO_SKIP_FOR_60X_RATE 18
                            19061 ; 450  |#define SECONDS_TO_SKIP_FOR_600X_RATE 180
                            19062 ; 451  |#define SECONDS_TO_SKIP_FOR_1800X_RATE 540
                            19063 ; 452  |// number of 300 mSec periods before the numbers of seconds to skip increases
                            19064 ; 453  |#define LEVEL1_BOUNDARY 17 
                            19065 ; 454  |// number of 300 mSec periods before the numbers of seconds to skip increases
                            19066 ; 455  |#define LEVEL2_BOUNDARY 33 
                            19067 ; 456  |// number of 300 mSec periods before the numbers of seconds to skip increases
                            19068 ; 457  |#define LEVEL3_BOUNDARY 50 
                            19069 ; 458  |// Stmp00010296 Ticket #71685:  for song shorter than the min. skip size
                            19070 ; 459  |// if song_time < skip_size, bCurrentSongShort=>TRUE (ignore FWD/RWD commands)
                            19071 ; 460  |// Short Song Time, songs too short to play.
                            19072 ; 461  |#define SHORT_SONG_TIME SECONDS_TO_SKIP         
                            19073 ; 462  |
                            19074 ; 463  |/////////////////////////////////////////////////////////////////////////////////
                            19075 ; 464  |// MP3 Sync Values
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 317

M:ADDR CODE           CYCLES LINE SOURCELINE
                            19076 ; 465  |/////////////////////////////////////////////////////////////////////////////////
                            19077 ; 466  |// # bytes to look for sync before marking it bad
                            19078 ; 467  |#define MP3_SYNC_THRESHOLD 70000 
                            19079 ; 468  |// # bytes to look for sync before slowing decoder isr frequency (to let menus run)
                            19080 ; 469  |#define MP3_SYNC_THRESHOLD1 10000 
                            19081 ; 470  |// once we have sync'd, the isr should be called this frequently
                            19082 ; 471  |#define MP3_DECODERISR_FAST 7500  
                            19083 ; 472  |// if decoder is having difficulty syncing, switch isr to be called less frequently
                            19084 ; 473  |#define MP3_DECODERISR_SLOW 50000 
                            19085 ; 474  |
                            19086 ; 475  |
                            19087 ; 476  |/////////////////////////////////////////////////////////////////////////////////
                            19088 ; 477  |//// Multi-Stage Volume Control Definitions
                            19089 ; 478  |/////////////////////////////////////////////////////////////////////////////////
                            19090 ; 479  |//// Use Multi-Stage Volume
                            19091 ; 480  |#define MULTI_STAGE_VOLUME 0x1                  
                            19092 ; 481  |
                            19093 ; 482  |//// Master Volume definitions
                            19094 ; 483  |#define MIX_MSTR_MAX_VOL 0x0
                            19095 ; 484  |#define NUM_MSTR_ATT_STEPS (0x1F-MIX_MSTR_MAX_VOL)
                            19096 ; 485  |
                            19097 ; 486  |//// DAC-Mode definitions
                            19098 ; 487  |//// Adjusts 0dB point
                            19099 ; 488  |#define MIX_DAC_NOM_VOL 0x6                  
                            19100 ; 489  |#define MIX_DAC_MIN_VOL 0x1F
                            19101 ; 490  |// For minimum clipping: Set MIX_DAC_MAX_VOL below to match MIX_DAC_NOM_VOL value 2 lines 
                                  above.
                            19102 ; 491  |// For additional gain (with possible clipping): Set MIX_DAC_MAX_VOL in range below. 
                            19103 ; 492  |//                                               Each integer below MIX_DAC_NOM_VOL provid
                                  es 1.5 dB gain on Stmp34x0; 
                            19104 ; 493  |//                                               Max gain possible: 8 step diff would prov
                                  ide +12dB gain.   
                            19105 ; 494  |// range: [0 to MIX_DAC_NOM_VOL] (0 for loudest volume)
                            19106 ; 495  |#define MIX_DAC_MAX_VOL 0x0  
                            19107 ; 496  |
                            19108 ; 497  |#define NUM_DAC_ATT_STEPS (MIX_DAC_MIN_VOL-MIX_DAC_NOM_VOL+1)
                            19109 ; 498  |#define NUM_DAC_GAIN_STEPS (MIX_DAC_NOM_VOL-MIX_DAC_MAX_VOL)
                            19110 ; 499  |#define NUM_DAC_MODE_VOL_STEPS (NUM_DAC_ATT_STEPS+NUM_MSTR_ATT_STEPS+NUM_DAC_GAIN_STEPS+1)
                                  
                            19111 ; 500  |
                            19112 ; 501  |//// If there is no stored volume, set to 50% of DAC-Mode max; change if DAC Mode is not t
                                  he default
                            19113 ; 502  |//// STMP35xx has 2dB attenuation per step so default needs a few more steps above midpoin
                                  t.
                            19114 ; 503  |#define DEFAULT_VOLUME ((NUM_DAC_MODE_VOL_STEPS/2)+6)         
                            19115 ; 504  |
                            19116 ; 505  |//// Set maximum restored volume to 75% of DAC-Mode max; change if DAC Mode is not the def
                                  ault
                            19117 ; 506  |#define MAX_RESTORED_VOLUME ((3*NUM_DAC_MODE_VOL_STEPS)/4)   
                            19118 ; 507  |
                            19119 ; 508  |
                            19120 ; 509  |//// Line In definitions (used for Line-In 1)
                            19121 ; 510  |//// 0dB point of the Line In
                            19122 ; 511  |#define MIX_LINE_NOM_VOL 0x8                  
                            19123 ; 512  |//// Minimum volume of Line In
                            19124 ; 513  |#define MIX_LINE_MIN_VOL 0x1F                 
                            19125 ; 514  |//// Maximum volume of Line In (can adjust extra gain)
                            19126 ; 515  |#define MIX_LINE_MAX_VOL 0x6                  
                            19127 ; 516  |#define NUM_LINE_ATT_STEPS (MIX_LINE_MIN_VOL-MIX_LINE_NOM_VOL+1)
                            19128 ; 517  |#define NUM_LINE_GAIN_STEPS (MIX_LINE_NOM_VOL-MIX_LINE_MAX_VOL)
                            19129 ; 518  |#define NUM_LINE_MODE_VOL_STEPS (NUM_LINE_ATT_STEPS+NUM_MSTR_ATT_STEPS+NUM_LINE_GAIN_STEPS
                                  +1)
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 318

M:ADDR CODE           CYCLES LINE SOURCELINE
                            19130 ; 519  |
                            19131 ; 520  |//// Line In definitions (used for FM tuner with 144 pin package)
                            19132 ; 521  |//// 0dB point of the Line In
                            19133 ; 522  |#define MIX_FM_NOM_VOL 0x8                  
                            19134 ; 523  |//// Minimum volume of Line In
                            19135 ; 524  |#define MIX_FM_MIN_VOL 0x1F                 
                            19136 ; 525  |//// Maximum volume of Line In (can adjust extra gain)
                            19137 ; 526  |#define MIX_FM_MAX_VOL 0x6                  
                            19138 ; 527  |#define NUM_FM_ATT_STEPS (MIX_FM_MIN_VOL-MIX_FM_NOM_VOL+1)
                            19139 ; 528  |#define NUM_FM_GAIN_STEPS (MIX_FM_NOM_VOL-MIX_FM_MAX_VOL)
                            19140 ; 529  |#define NUM_FM_MODE_VOL_STEPS (NUM_FM_ATT_STEPS+NUM_MSTR_ATT_STEPS+NUM_FM_GAIN_STEPS+1)
                            19141 ; 530  |
                            19142 ; 531  |/////////////////////////////////////////////////////////////////////////////////
                            19143 ; 532  |//// When enabled (1), periodically checks for one of several FM state machine invalid dea
                                  dlock states & recovers. 
                            19144 ; 533  |//// Define as 0 to disable FM-deadlock-state checking and recovery.
                            19145 ; 534  |#define FM_WATCHDOG_ENABLE 1
                            19146 ; 535  |
                            19147 ; 536  |#if !defined(STMP_BUILD_PLAYER)
                            19148 ; 537  |////
                            19149 ; 538  |////! This varible holds the lcd display state for the mtp project.
                            19150 ; 539  |////
                            19151 ; 540  |///
                            19152 ; 541  |#include <types.h>
                            19153 ; 542  |extern volatile WORD g_wActivityState;
                            19154 ; 543  |#endif // if !@def('STMP_BUILD_PLAYER')
                            19155 ; 544  |
                            19156 ; 545  |void _reentrant Init5VSense(void);
                            19157 ; 546  |void _reentrant ServiceDCDC(void);
                            19158 ; 547  |
                            19159 ; 548  |////////////////////////////////////////////////////////////////////////////
                            19160 ; 549  |//// JPEG Thumbnail Mode Setting
                            19161 ; 550  |//// number of column in thumbnail mode
                            19162 ; 551  |#define THUMBNAIL_X 2           
                            19163 ; 552  |//// number of row in  thumbnail mode
                            19164 ; 553  |#define THUMBNAIL_Y 2           
                            19165 ; 554  |//// thumbnail boundary offset x
                            19166 ; 555  |#define THUMBNAIL_X_OFFSET 4            
                            19167 ; 556  |//// thumbnail boundary offset y
                            19168 ; 557  |#define THUMBNAIL_Y_OFFSET 4            
                            19169 ; 558  |
                            19170 ; 559  |#endif // if (!@def(_PROJECT_INC))
                            19171 ; 560  |
                            19172 
                            19174 
                            19175 ; 12   |#include "messages.h"
                            19176 
                            19178 
                            19179 ; 1    |/////////////////////////////////////////////////////////////////////////////////
                            19180 ; 2    |// Copyright(C) SigmaTel, Inc. 2000
                            19181 ; 3    |// Message defs
                            19182 ; 4    |/////////////////////////////////////////////////////////////////////////////////
                            19183 ; 5    |
                            19184 ; 6    |#if (!defined(MSGEQU_INC))
                            19185 ; 7    |#define MSGEQU_INC 1
                            19186 ; 8    |
                            19187 ; 9    |
                            19188 ; 10   |#define MAX_MODULE_SIZE   (lc_u_eP_Module_overlay-lc_u_bP_Module_overlay)*3
                            19189 ; 11   |
                            19190 ; 12   |
                            19191 ; 13   |#define MSG_TYPE_DECODER 0x000000
                            19192 ; 14   |#define MSG_TYPE_ENCODER 0x010000
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 319

M:ADDR CODE           CYCLES LINE SOURCELINE
                            19193 ; 15   |#define MSG_TYPE_PARSER 0x020000
                            19194 ; 16   |#define MSG_TYPE_LCD 0x030000
                            19195 ; 17   |#define MSG_TYPE_MIXER 0x040000
                            19196 ; 18   |#define MSG_TYPE_SYSTEM 0x050000
                            19197 ; 19   |#define MSG_TYPE_MENU 0x060000
                            19198 ; 20   |#define MSG_TYPE_LED 0x070000
                            19199 ; 21   |#define MSG_TYPE_TUNER 0x080000
                            19200 ; 22   |#define MSG_TYPE_CHARLCD 0x030000
                            19201 ; 23   |#define MSG_TYPE_SOFT_TIMER 0x090000
                            19202 ; 24   |// Equalizer and other effects
                            19203 ; 25   |#define MSG_TYPE_GEQ 0x0a0000             
                            19204 ; 26   |#if (defined(USE_PLAYLIST3))
                            19205 ; 27   |#define MSG_TYPE_MUSICLIB_PLAY 0x0b0000
                            19206 ; 28   |#define MSG_TYPE_MUSICLIB_BROWSE 0x0c0000
                            19207 ; 29   |#define MSG_TYPE_MUSICLIB_PLAYALLNEXT 0x0d0000
                            19208 ; 30   |#define MSG_TYPE_MUSICLIB_PLAYALLPREV 0x0e0000
                            19209 ; 31   |#define MSG_TYPE_MUSICLIB_SHUFFLE 0x0f0000
                            19210 ; 32   |#define MSG_TYPE_MUSICLIB_VOICE 0x100000
                            19211 ; 33   |#define MSG_TYPE_MUSICLIB_VOICEPLAY 0x110000
                            19212 ; 34   |#define MSG_TYPE_MUSICLIB_MERGE 0x120000
                            19213 ; 35   |#endif // IF (@def(USE_PLAYLIST3))
                            19214 ; 36   |#if defined(USE_PLAYLIST5)
                            19215 ; 37   |#define MSG_TYPE_PL5_PLAYBACK 0x0b0000
                            19216 ; 38   |#define MSG_TYPE_PL5_BROWSE 0x0c0000
                            19217 ; 39   |#endif // if @def('USE_PLAYLIST5')
                            19218 ; 40   |
                            19219 ; 41   |// Message Structure Offsets
                            19220 ; 42   |#define MSG_Length 0
                            19221 ; 43   |#define MSG_ID 1
                            19222 ; 44   |#define MSG_Argument1 2
                            19223 ; 45   |#define MSG_Argument2 3
                            19224 ; 46   |#define MSG_Argument3 4
                            19225 ; 47   |#define MSG_Argument4 5
                            19226 ; 48   |#define MSG_Argument5 6
                            19227 ; 49   |#define MSG_Argument6 7
                            19228 ; 50   |
                            19229 ; 51   |
                            19230 ; 52   |
                            19231 ; 53   |// LCD Message IDs
                            19232 ; 54   |#define LCD_FIRST_MSG_ID MSG_TYPE_LCD+0
                            19233 ; 55   |#define LCD_CLEAR_RANGE MSG_TYPE_LCD+0
                            19234 ; 56   |#define LCD_PRINT_RANGE_RSRC MSG_TYPE_LCD+1
                            19235 ; 57   |#define LCD_PRINT_RANGE_ADDR MSG_TYPE_LCD+2
                            19236 ; 58   |#define LCD_PRINT_RANGE_INV_RSRC MSG_TYPE_LCD+3
                            19237 ; 59   |#define LCD_PRINT_RANGE_INV_ADDR MSG_TYPE_LCD+4
                            19238 ; 60   |#define LCD_PRINT_RANGE_FILE MSG_TYPE_LCD+5
                            19239 ; 61   |#define LCD_PRINT_RANGE_INV_FILE MSG_TYPE_LCD+6
                            19240 ; 62   |#define LCD_PRINT_STRING_RSRC MSG_TYPE_LCD+7
                            19241 ; 63   |#define LCD_PRINT_STRING_ADDR MSG_TYPE_LCD+8
                            19242 ; 64   |#define LCD_PRINT_STRING_INV_RSRC MSG_TYPE_LCD+9
                            19243 ; 65   |#define LCD_PRINT_STRING_INV_ADDR MSG_TYPE_LCD+10
                            19244 ; 66   |#define LCD_SCROLL_DISPLAY MSG_TYPE_LCD+11
                            19245 ; 67   |#define LCD_READ_LCD_ADDR MSG_TYPE_LCD+12
                            19246 ; 68   |#define LCD_SET_CONTRAST MSG_TYPE_LCD+13
                            19247 ; 69   |#define LCD_INC_CONTRAST MSG_TYPE_LCD+14
                            19248 ; 70   |#define LCD_DEC_CONTRAST MSG_TYPE_LCD+15
                            19249 ; 71   |#define LCD_BACKLIGHT_ON MSG_TYPE_LCD+16
                            19250 ; 72   |#define LCD_BACKLIGHT_OFF MSG_TYPE_LCD+17
                            19251 ; 73   |#define LCD_SET_FONT MSG_TYPE_LCD+18
                            19252 ; 74   |#define LCD_PRINT_NUMBER MSG_TYPE_LCD+19
                            19253 ; 75   |#define LCD_PRINT_TIME MSG_TYPE_LCD+20
                            19254 ; 76   |#define LCD_PRINT_TIME_LONG MSG_TYPE_LCD+21
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 320

M:ADDR CODE           CYCLES LINE SOURCELINE
                            19255 ; 77   |#define LCD_PRINT_STRING_UNICODE_INV_ADDR MSG_TYPE_LCD+22
                            19256 ; 78   |#define LCD_PRINT_STRING_UNICODE_ADDR MSG_TYPE_LCD+23
                            19257 ; 79   |#define LCD_PRINT_STRING_UNICODE_INV_RSRC MSG_TYPE_LCD+24
                            19258 ; 80   |#define LCD_PRINT_STRING_UNICODE_RSRC MSG_TYPE_LCD+25
                            19259 ; 81   |#define LCD_BEGIN_FRAME MSG_TYPE_LCD+26
                            19260 ; 82   |#define LCD_END_FRAME MSG_TYPE_LCD+27
                            19261 ; 83   |#define LCD_PRINT_NUMBER_INV MSG_TYPE_LCD+28
                            19262 ; 84   |#define LCD_PRINT_TIME_INV MSG_TYPE_LCD+29
                            19263 ; 85   |#define LCD_PRINT_TIME_LONG_INV MSG_TYPE_LCD+30
                            19264 ; 86   |#define LCD_SET_FRAMEBUFFER MSG_TYPE_LCD+31
                            19265 ; 87   |//send a NULL as Param1 to return to root frame buffer
                            19266 ; 88   |#define LCD_PUSH_MASK MSG_TYPE_LCD+32
                            19267 ; 89   |//Param1 = left
                            19268 ; 90   |//Param2 = top
                            19269 ; 91   |//Param3 = right
                            19270 ; 92   |//Param4 = bottom
                            19271 ; 93   |#define LCD_POP_MASK MSG_TYPE_LCD+33
                            19272 ; 94   |#define LCD_PRINT_UNICODE_CHAR MSG_TYPE_LCD+34
                            19273 ; 95   |#define LCD_PRINT_UNICODE_CHAR_INV MSG_TYPE_LCD+35
                            19274 ; 96   |#define LCD_DISPLAY_HISTOGRAM MSG_TYPE_LCD+36
                            19275 ; 97   |#define LCD_PRINT_TIME_L_1DIG_HR MSG_TYPE_LCD+37
                            19276 ; 98   |#define LCD_SET_ICON MSG_TYPE_LCD+38
                            19277 ; 99   |
                            19278 ; 100  |#define LCD_CLEAR_RANGE_BUFFER MSG_TYPE_LCD+39
                            19279 ; 101  |#define LCD_PRINT_RANGE_RSRC_BUFFER MSG_TYPE_LCD+40
                            19280 ; 102  |#define LCD_PRINT_RANGE_INV_RSRC_BUFFER MSG_TYPE_LCD+41
                            19281 ; 103  |#define LCD_PRINT_RANGE_ADDR_BUFFER MSG_TYPE_LCD+42
                            19282 ; 104  |#define LCD_PRINT_RANGE_INV_ADDR_BUFFER MSG_TYPE_LCD+43
                            19283 ; 105  |#define LCD_PRINT_STRING_RSRC_BUFFER MSG_TYPE_LCD+44
                            19284 ; 106  |#define LCD_PRINT_STRING_INV_RSRC_BUFFER MSG_TYPE_LCD+45
                            19285 ; 107  |#define LCD_PRINT_STRING_ADDR_BUFFER MSG_TYPE_LCD+46
                            19286 ; 108  |#define LCD_PRINT_STRING_INV_ADDR_BUFFER MSG_TYPE_LCD+47
                            19287 ; 109  |#define LCD_PRINT_NUMBER_BUFFER MSG_TYPE_LCD+48
                            19288 ; 110  |#define LCD_PRINT_NUMBER_INV_BUFFER MSG_TYPE_LCD+49
                            19289 ; 111  |#define LCD_PRINT_TIME_BUFFER MSG_TYPE_LCD+50
                            19290 ; 112  |#define LCD_PRINT_TIME_INV_BUFFER MSG_TYPE_LCD+51
                            19291 ; 113  |#define LCD_PRINT_TIME_LONG_BUFFER MSG_TYPE_LCD+52
                            19292 ; 114  |#define LCD_PRINT_TIME_LONG_INV_BUFFER MSG_TYPE_LCD+53
                            19293 ; 115  |#define LCD_PRINT_STRING_UNICODE_ADDR_BUFFER MSG_TYPE_LCD+54
                            19294 ; 116  |#define LCD_PRINT_STRING_UNICODE_INV_ADDR_BUFFER MSG_TYPE_LCD+55
                            19295 ; 117  |#define LCD_PRINT_STRING_UNICODE_RSRC_BUFFER MSG_TYPE_LCD+56
                            19296 ; 118  |#define LCD_PRINT_STRING_UNICODE_INV_RSRC_BUFFER MSG_TYPE_LCD+57
                            19297 ; 119  |#define LCD_PRINT_UNICODE_CHAR_BUFFER MSG_TYPE_LCD+58
                            19298 ; 120  |#define LCD_PRINT_UNICODE_CHAR_INV_BUFFER MSG_TYPE_LCD+59
                            19299 ; 121  |#define LCD_PRINT_TIME_L_1DIG_HR_BUFFER MSG_TYPE_LCD+60
                            19300 ; 122  |#define LCD_SET_BUFFER_COLOR MSG_TYPE_LCD+61
                            19301 ; 123  |#define LCD_FORCE_BUFFER_UPDATE MSG_TYPE_LCD+62
                            19302 ; 124  |#define LCD_SET_BUFFER_WINDOW MSG_TYPE_LCD+63
                            19303 ; 125  |#define LCD_SET_COLOR MSG_TYPE_LCD+64
                            19304 ; 126  |#define LCD_SET_BUFFER_POSITION MSG_TYPE_LCD+65
                            19305 ; 127  |
                            19306 ; 128  |#define LCD_TEMP_CONTRAST MSG_TYPE_LCD+66
                            19307 ; 129  |
                            19308 ; 130  |#if defined(CLCD_16BIT)
                            19309 ; 131  |#define LCD_16BIT_ON MSG_TYPE_LCD+67
                            19310 ; 132  |#define LCD_16BIT_OFF MSG_TYPE_LCD+68
                            19311 ; 133  |
                            19312 ; 134  |#define LCD_LAST_MSG_ID MSG_TYPE_LCD+68
                            19313 ; 135  |#else 
                            19314 ; 136  |#define LCD_LAST_MSG_ID MSG_TYPE_LCD+66
                            19315 ; 137  |#endif
                            19316 ; 138  |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 321

M:ADDR CODE           CYCLES LINE SOURCELINE
                            19317 ; 139  |// If you change the LCD message ID's then you must
                            19318 ; 140  |// also change the jump table in lcdapi.asm
                            19319 ; 141  |
                            19320 ; 142  |// Character LCD Message IDs
                            19321 ; 143  |#define CHARLCD_FIRST_MSG_ID MSG_TYPE_CHARLCD+0
                            19322 ; 144  |#define CHARLCD_CLEAR_RANGE MSG_TYPE_CHARLCD+0
                            19323 ; 145  |#define CHARLCD_PRINT_RSRC MSG_TYPE_CHARLCD+1
                            19324 ; 146  |#define CHARLCD_PRINT_INV_RSRC MSG_TYPE_CHARLCD+2
                            19325 ; 147  |#define CHARLCD_PRINT_ASCII_CHAR MSG_TYPE_CHARLCD+3
                            19326 ; 148  |#define CHARLCD_PRINT_ASCII_INV_CHAR MSG_TYPE_CHARLCD+4
                            19327 ; 149  |#define CHARLCD_PRINT_STRING_RSRC MSG_TYPE_CHARLCD+5
                            19328 ; 150  |#define CHARLCD_PRINT_STRING_INV_RSRC MSG_TYPE_CHARLCD+6
                            19329 ; 151  |#define CHARLCD_PRINT_STRING_ADDR MSG_TYPE_CHARLCD+7
                            19330 ; 152  |#define CHARLCD_PRINT_STRING_INV_ADDR MSG_TYPE_CHARLCD+8
                            19331 ; 153  |#define CHARLCD_SCROLL_DISPLAY MSG_TYPE_CHARLCD+9
                            19332 ; 154  |#define CHARLCD_READ_LCD_ADDR MSG_TYPE_CHARLCD+10
                            19333 ; 155  |#define CHARLCD_SET_CURSOR MSG_TYPE_CHARLCD+11
                            19334 ; 156  |#define CHARLCD_SET_FONT MSG_TYPE_CHARLCD+12
                            19335 ; 157  |#define CHARLCD_PRINT_NUMBER MSG_TYPE_CHARLCD+13
                            19336 ; 158  |#define CHARLCD_PRINT_TIME MSG_TYPE_CHARLCD+14
                            19337 ; 159  |#define CHARLCD_SET_BATTERY MSG_TYPE_CHARLCD+15
                            19338 ; 160  |#define CHARLCD_SET_EQ MSG_TYPE_CHARLCD+16
                            19339 ; 161  |#define CHARLCD_SET_ICON MSG_TYPE_CHARLCD+17
                            19340 ; 162  |#define CHARLCD_SET_PLAYMODE MSG_TYPE_CHARLCD+18
                            19341 ; 163  |#define CHARLCD_SET_PLAYSTATE MSG_TYPE_CHARLCD+19
                            19342 ; 164  |#define CHARLCD_SET_VOLUME MSG_TYPE_CHARLCD+20
                            19343 ; 165  |#define CHARLCD_CLEAR_DISPLAY MSG_TYPE_CHARLCD+21
                            19344 ; 166  |#define CHARLCD_LAST_MSG_ID MSG_TYPE_CHARLCD+21
                            19345 ; 167  |// If you change the cHARACTER LCD message ID's then you must
                            19346 ; 168  |// also change the jump table in lcdapi.asm
                            19347 ; 169  |
                            19348 ; 170  |// Decoder Message IDs
                            19349 ; 171  |#define DECODER_FIRST_MSG_ID MSG_TYPE_DECODER+0
                            19350 ; 172  |#define DECODER_RESET MSG_TYPE_DECODER+0
                            19351 ; 173  |#define DECODER_SET_DIR MSG_TYPE_DECODER+1
                            19352 ; 174  |#define DECODER_PLAY MSG_TYPE_DECODER+2
                            19353 ; 175  |#define DECODER_STOP MSG_TYPE_DECODER+3
                            19354 ; 176  |#define DECODER_FFWD MSG_TYPE_DECODER+4
                            19355 ; 177  |#define DECODER_RWND MSG_TYPE_DECODER+5
                            19356 ; 178  |#define DECODER_NEXT_SONG MSG_TYPE_DECODER+6
                            19357 ; 179  |#define DECODER_PREV_SONG MSG_TYPE_DECODER+7
                            19358 ; 180  |#define DECODER_TIME_MODE MSG_TYPE_DECODER+8
                            19359 ; 181  |#define DECODER_AB_MODE MSG_TYPE_DECODER+9
                            19360 ; 182  |#define DECODER_SET_EQ MSG_TYPE_DECODER+10
                            19361 ; 183  |#define DECODER_GET_SONG_INFO MSG_TYPE_DECODER+11
                            19362 ; 184  |#define DECODER_NEXT_CHAPTER MSG_TYPE_DECODER+12
                            19363 ; 185  |#define DECODER_PREV_CHAPTER MSG_TYPE_DECODER+13
                            19364 ; 186  |#define DECODER_LAST_MSG_ID MSG_TYPE_DECODER+13
                            19365 ; 187  |// If you change the Decoder message ID's, then you must
                            19366 ; 188  |// also change the jump table in decoder_overlay.asm
                            19367 ; 189  |// and in dec_adpcm_overlay.asm.
                            19368 ; 190  |
                            19369 ; 191  |// Encoder Message IDs
                            19370 ; 192  |#define ENCODER_FIRST_MSG_ID MSG_TYPE_ENCODER+0
                            19371 ; 193  |#define ENCODER_RECORD MSG_TYPE_ENCODER+0
                            19372 ; 194  |#define ENCODER_STOP MSG_TYPE_ENCODER+1
                            19373 ; 195  |#define ENCODER_TIME_MODE MSG_TYPE_ENCODER+2
                            19374 ; 196  |#define ENCODER_LAST_MSG_ID MSG_TYPE_ENCODER+3
                            19375 ; 197  |// If you change the Encoder message ID's, then you must
                            19376 ; 198  |// also change the jump table in all encoder overlay modules.
                            19377 ; 199  |
                            19378 ; 200  |// Parser Message IDs
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 322

M:ADDR CODE           CYCLES LINE SOURCELINE
                            19379 ; 201  |#define PARSER_FIRST_MSG_ID MSG_TYPE_PARSER+0
                            19380 ; 202  |#define PARSER_NEXT_SONG MSG_TYPE_PARSER+0
                            19381 ; 203  |#define PARSER_PREV_SONG MSG_TYPE_PARSER+1
                            19382 ; 204  |#define PARSER_REPEAT MSG_TYPE_PARSER+2
                            19383 ; 205  |#define PARSER_RANDOM MSG_TYPE_PARSER+3
                            19384 ; 206  |#define PARSER_STOP MSG_TYPE_PARSER+4
                            19385 ; 207  |#define PARSER_DEVICE_ENUMERATE MSG_TYPE_PARSER+5
                            19386 ; 208  |#define PARSER_SET_CURRENT_SONG MSG_TYPE_PARSER+6
                            19387 ; 209  |#define PARSER_LAST_MSG_ID MSG_TYPE_PARSER+6
                            19388 ; 210  |// If you change the Parser message ID's, then you must
                            19389 ; 211  |// also change the jump table in parser.asm
                            19390 ; 212  |
                            19391 ; 213  |// Button Message IDs
                            19392 ; 214  |//BUTTON_FIRST_MSG_ID      equ     MSG_TYPE_BUTTON+0
                            19393 ; 215  |//BUTTON_BUTTONS_ON        equ     MSG_TYPE_BUTTON+0
                            19394 ; 216  |//BUTTON_BUTTONS_OFF       equ     MSG_TYPE_BUTTON+1
                            19395 ; 217  |//BUTTON_HOLD              equ     MSG_TYPE_BUTTON+2
                            19396 ; 218  |//BUTTON_HOLD_RELEASE      equ     MSG_TYPE_BUTTON+3
                            19397 ; 219  |//BUTTON_LAST_MSG_ID       equ     MSG_TYPE_BUTTON+3
                            19398 ; 220  |
                            19399 ; 221  |// Mixer Message IDs
                            19400 ; 222  |#define MIXER_FIRST_MSG_ID MSG_TYPE_MIXER+0
                            19401 ; 223  |#define MIXER_MASTER_INCR MSG_TYPE_MIXER+0
                            19402 ; 224  |#define MIXER_MASTER_DECR MSG_TYPE_MIXER+1
                            19403 ; 225  |#define MIXER_MASTER_SETLVL MSG_TYPE_MIXER+2
                            19404 ; 226  |#define MIXER_MASTER_MUTE MSG_TYPE_MIXER+3
                            19405 ; 227  |#define MIXER_MASTER_UNMUTE MSG_TYPE_MIXER+4
                            19406 ; 228  |#define MIXER_MASTER_FADE_OUT MSG_TYPE_MIXER+5
                            19407 ; 229  |#define MIXER_MASTER_FADE_IN MSG_TYPE_MIXER+6
                            19408 ; 230  |#define MIXER_MASTER_BAL_RIGHT MSG_TYPE_MIXER+7
                            19409 ; 231  |#define MIXER_MASTER_BAL_LEFT MSG_TYPE_MIXER+8
                            19410 ; 232  |#define MIXER_MIC_INCR MSG_TYPE_MIXER+9
                            19411 ; 233  |#define MIXER_MIC_DECR MSG_TYPE_MIXER+10
                            19412 ; 234  |#define MIXER_MIC_SETLVL MSG_TYPE_MIXER+11
                            19413 ; 235  |#define MIXER_MIC_MUTE MSG_TYPE_MIXER+12
                            19414 ; 236  |#define MIXER_MIC_UNMUTE MSG_TYPE_MIXER+13
                            19415 ; 237  |#define MIXER_MIC_BOOST MSG_TYPE_MIXER+14
                            19416 ; 238  |#define MIXER_MIC_UNBOOST MSG_TYPE_MIXER+15
                            19417 ; 239  |#define MIXER_LINE_INCR MSG_TYPE_MIXER+16
                            19418 ; 240  |#define MIXER_LINE_DECR MSG_TYPE_MIXER+17
                            19419 ; 241  |#define MIXER_LINE_SETLVL MSG_TYPE_MIXER+18
                            19420 ; 242  |#define MIXER_LINE_MUTE MSG_TYPE_MIXER+19
                            19421 ; 243  |#define MIXER_LINE_UNMUTE MSG_TYPE_MIXER+20
                            19422 ; 244  |#define MIXER_FM_INCR MSG_TYPE_MIXER+21
                            19423 ; 245  |#define MIXER_FM_DECR MSG_TYPE_MIXER+22
                            19424 ; 246  |#define MIXER_FM_SETLVL MSG_TYPE_MIXER+23
                            19425 ; 247  |#define MIXER_FM_MUTE MSG_TYPE_MIXER+24
                            19426 ; 248  |#define MIXER_FM_UNMUTE MSG_TYPE_MIXER+25
                            19427 ; 249  |#define MIXER_DAC_INCR MSG_TYPE_MIXER+26
                            19428 ; 250  |#define MIXER_DAC_DECR MSG_TYPE_MIXER+27
                            19429 ; 251  |#define MIXER_DAC_SETLVL MSG_TYPE_MIXER+28
                            19430 ; 252  |#define MIXER_DAC_MUTE MSG_TYPE_MIXER+29
                            19431 ; 253  |#define MIXER_DAC_UNMUTE MSG_TYPE_MIXER+30
                            19432 ; 254  |#define MIXER_ADC_SELECT MSG_TYPE_MIXER+31
                            19433 ; 255  |#define MIXER_ADC_INCR MSG_TYPE_MIXER+32
                            19434 ; 256  |#define MIXER_ADC_DECR MSG_TYPE_MIXER+33
                            19435 ; 257  |#define MIXER_ADC_SETLVL MSG_TYPE_MIXER+34
                            19436 ; 258  |#define MIXER_ADC_MUTE MSG_TYPE_MIXER+35
                            19437 ; 259  |#define MIXER_ADC_UNMUTE MSG_TYPE_MIXER+36
                            19438 ; 260  |#define MIXER_REC_SELECT MSG_TYPE_MIXER+37
                            19439 ; 261  |#define MIXER_POWER_DOWN MSG_TYPE_MIXER+38
                            19440 ; 262  |#define ENABLE_RIGHT_CH MSG_TYPE_MIXER+39
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 323

M:ADDR CODE           CYCLES LINE SOURCELINE
                            19441 ; 263  |#define DISABLE_RIGHT_CH MSG_TYPE_MIXER+40
                            19442 ; 264  |#define MIXER_LAST_MSG_ID MSG_TYPE_MIXER+40
                            19443 ; 265  |// If you change the mixer message ID's then you must
                            19444 ; 266  |// also change the jump table in mixer.asm
                            19445 ; 267  |#define MIXER_ON 0
                            19446 ; 268  |#define MIXER_OFF 1
                            19447 ; 269  |
                            19448 ; 270  |
                            19449 ; 271  |// System Message IDs
                            19450 ; 272  |#define SYSTEM_FIRST_MSG_ID MSG_TYPE_SYSTEM+0
                            19451 ; 273  |#define SYSTEM_SHUTDOWN MSG_TYPE_SYSTEM+0
                            19452 ; 274  |#define SYSTEM_SHUTDOWN_FALSE MSG_TYPE_SYSTEM+1
                            19453 ; 275  |#define SYSTEM_SHUTDOWN_FINAL MSG_TYPE_SYSTEM+2
                            19454 ; 276  |#define SYSTEM_LAST_MSG_ID MSG_TYPE_SYSTEM+2
                            19455 ; 277  |// If you change the system message ID's then you must
                            19456 ; 278  |// also change the jump table in systemapi.asm
                            19457 ; 279  |
                            19458 ; 280  |// Menu IDs
                            19459 ; 281  |#define MENU_FIRST_MSG_ID MSG_TYPE_MENU+0
                            19460 ; 282  |#define MENU_BUTTON_EVENT MSG_TYPE_MENU+0
                            19461 ; 283  |#define MENU_DECODER_STATE_CHNG MSG_TYPE_MENU+1
                            19462 ; 284  |#define MENU_RECORDER_STATE_CHNG MSG_TYPE_MENU+2
                            19463 ; 285  |//sub parameters for this message:
                            19464 ; 286  |#define RECORDER_START 0
                            19465 ; 287  |#define RECORDER_PAUSE 0x2000
                            19466 ; 288  |#define RECORDER_RESUME 0x4000
                            19467 ; 289  |#define RECORDER_STOP_NORMAL 0x8000
                            19468 ; 290  |#define RECORDER_STOP_FILE_ERROR 0x8001
                            19469 ; 291  |#define RECORDER_STOP_OUT_OF_SPACE 0x8002
                            19470 ; 292  |#define RECORDER_STOP_LOW_BATTERY 0x8003
                            19471 ; 293  |#define MENU_SONG_TIME_CHNG MSG_TYPE_MENU+3
                            19472 ; 294  |#define MENU_AB_MODE_OFF MSG_TYPE_MENU+4
                            19473 ; 295  |#define MENU_BATTERY_CHNG MSG_TYPE_MENU+5
                            19474 ; 296  |#define MENU_SCROLL_TITLE MSG_TYPE_MENU+6
                            19475 ; 297  |#define MENU_AUTO_SHUTDOWN MSG_TYPE_MENU+7
                            19476 ; 298  |#define MENU_MSG_MEDIA_CHANGED MSG_TYPE_MENU+8
                            19477 ; 299  |#define MENU_MSG_MEDIA_OVER_CUR MSG_TYPE_MENU+9
                            19478 ; 300  |#define MENU_TUNER_TUNED MSG_TYPE_MENU+10
                            19479 ; 301  |#define MENU_MSG_ENC_LOW_SPACE MSG_TYPE_MENU+11
                            19480 ; 302  |#define MENU_MSG_EQ_SETTINGS MSG_TYPE_MENU+12
                            19481 ; 303  |#define MENU_RECORDER_WRITE_DATA MSG_TYPE_MENU+13
                            19482 ; 304  |#define MENU_SONG_TRACK_CHNG MSG_TYPE_MENU+14
                            19483 ; 305  |#define MENU_SET_SONG_POSITION MSG_TYPE_MENU+15
                            19484 ; 306  |#define MENU_UPDATE_CHAPTER_INFO MSG_TYPE_MENU+16
                            19485 ; 307  |#define MENU_USB_CONNECTED MSG_TYPE_MENU+17
                            19486 ; 308  |#define MENU_MSG_LYRICS_SYNC_AB MSG_TYPE_MENU+18
                            19487 ; 309  |#define MENU_MSG_LYRICS_UPDATE MSG_TYPE_MENU+19
                            19488 ; 310  |#define MENU_TUNER_REFRESH_DISPLAY MSG_TYPE_MENU+20
                            19489 ; 311  |#define MENU_TUNER_DIRTY_FLASH MSG_TYPE_MENU+21
                            19490 ; 312  |#define MENU_LAST_MSG_ID MSG_TYPE_MENU+21
                            19491 ; 313  |
                            19492 ; 314  |// Note that other versions of this file have different msg equates.
                            19493 ; 315  |// If you change the system message ID's then you must
                            19494 ; 316  |// also change the jump table in all menu *.asm
                            19495 ; 317  |
                            19496 ; 318  |// LED Message IDs
                            19497 ; 319  |#define LED_FIRST_MSG_ID MSG_TYPE_LED+0
                            19498 ; 320  |#define LED_CONTROL MSG_TYPE_LED+0
                            19499 ; 321  |#define LED_RESET MSG_TYPE_LED+1
                            19500 ; 322  |#define LED_DLY_ON_CONTROL MSG_TYPE_LED+2
                            19501 ; 323  |#define LED_LAST_MSG_ID MSG_TYPE_LED+2
                            19502 ; 324  |// If you change the LeD message ID's then you must
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 324

M:ADDR CODE           CYCLES LINE SOURCELINE
                            19503 ; 325  |// also change the jump table in ledapi.asm
                            19504 ; 326  |
                            19505 ; 327  |#if (!defined(REMOVE_FM))
                            19506 ; 328  |// FM Tuner Message IDs
                            19507 ; 329  |#define TUNER_FIRST_MSG_ID MSG_TYPE_TUNER+0
                            19508 ; 330  |#define TUNER_TUNE_FREQUENCY MSG_TYPE_TUNER+0
                            19509 ; 331  |#define TUNER_TUNE_MANUAL_UP MSG_TYPE_TUNER+1
                            19510 ; 332  |#define TUNER_TUNE_MANUAL_DOWN MSG_TYPE_TUNER+2
                            19511 ; 333  |#define TUNER_TUNE_SEARCH_UP MSG_TYPE_TUNER+3
                            19512 ; 334  |#define TUNER_TUNE_SEARCH_DOWN MSG_TYPE_TUNER+4
                            19513 ; 335  |#define TUNER_FORCED_MONO MSG_TYPE_TUNER+5
                            19514 ; 336  |#define TUNER_RESET MSG_TYPE_TUNER+6
                            19515 ; 337  |#define TUNER_POWER_ON MSG_TYPE_TUNER+7
                            19516 ; 338  |#define TUNER_POWER_OFF MSG_TYPE_TUNER+8
                            19517 ; 339  |#define TUNER_SET_SENSITIVITY MSG_TYPE_TUNER+9
                            19518 ; 340  |//one parameter--the sensitivity in uV
                            19519 ; 341  |#define TUNER_GET_STATES MSG_TYPE_TUNER+10
                            19520 ; 342  |#define TUNER_MUTE_OUTPUTS MSG_TYPE_TUNER+11
                            19521 ; 343  |#define TUNER_PRESET_STATION MSG_TYPE_TUNER+12
                            19522 ; 344  |#define TUNER_TUNE_TO_PRESET MSG_TYPE_TUNER+13
                            19523 ; 345  |#define TUNER_SET_PRESET MSG_TYPE_TUNER+14
                            19524 ; 346  |#define TUNER_ERASE_PRESET MSG_TYPE_TUNER+15
                            19525 ; 347  |#define TUNER_LAST_MSG_ID MSG_TYPE_TUNER+15
                            19526 ; 348  |#endif
                            19527 ; 349  |
                            19528 ; 350  |#define SOFT_TIMER_FIRST_MSG_ID MSG_TYPE_SOFT_TIMER+0
                            19529 ; 351  |#define SOFT_TIMER_SET_TIMER MSG_TYPE_SOFT_TIMER+1
                            19530 ; 352  |#define SOFT_TIMER_KILL_TIMER MSG_TYPE_SOFT_TIMER+2
                            19531 ; 353  |#define SOFT_TIMER_LAST_MSG_ID MSG_TYPE_SOFT_TIMER+2
                            19532 ; 354  |
                            19533 ; 355  |
                            19534 ; 356  |#define GEQ_FIRST_MSG_ID MSG_TYPE_GEQ+0
                            19535 ; 357  |#define GEQ_SET_EQ MSG_TYPE_GEQ+0
                            19536 ; 358  |#define GEQ_SET_EQ_LEGACY MSG_TYPE_GEQ+1
                            19537 ; 359  |#define GEQ_SET_ALL_BAND_GAINS MSG_TYPE_GEQ+2
                            19538 ; 360  |#define GEQ_SET_GAIN MSG_TYPE_GEQ+3
                            19539 ; 361  |#define GEQ_SET_COEFFICIENTS MSG_TYPE_GEQ+4
                            19540 ; 362  |#define GEQ_SET_PARAM MSG_TYPE_GEQ+5
                            19541 ; 363  |#define GEQ_GET_SETTINGS MSG_TYPE_GEQ+6
                            19542 ; 364  |#define GEQ_LAST_MSG_ID MSG_TYPE_GEQ+6
                            19543 ; 365  |
                            19544 ; 366  |#if (defined(USE_PLAYLIST3))
                            19545 ; 367  |// Music Library
                            19546 ; 368  |#define MUSICLIB_PLAY_FIRST_MSG_ID MSG_TYPE_MUSICLIB_PLAY+0
                            19547 ; 369  |#define MUSICLIB_START_PLAY_SONG MSG_TYPE_MUSICLIB_PLAY+0
                            19548 ; 370  |#define MUSICLIB_START_PLAY_ALL_SONG MSG_TYPE_MUSICLIB_PLAY+1
                            19549 ; 371  |#define MUSICLIB_PLAY_SETSHUFFLE MSG_TYPE_MUSICLIB_PLAY+2
                            19550 ; 372  |#define MUSICLIB_PLAY_RESUME MSG_TYPE_MUSICLIB_PLAY+3
                            19551 ; 373  |#define MUSICLIB_PLAY_CURRENT_SIZE MSG_TYPE_MUSICLIB_PLAY+4
                            19552 ; 374  |#define MUSICLIB_PLAY_LAST_MSG_ID MSG_TYPE_MUSICLIB_PLAY+4
                            19553 ; 375  |
                            19554 ; 376  |#define MUSICLIB_BROWSE_FIRST_MSG_ID MSG_TYPE_MUSICLIB_BROWSE+0
                            19555 ; 377  |#define MUSICLIB_BROWSE_SETROOT MSG_TYPE_MUSICLIB_BROWSE+0
                            19556 ; 378  |#define MUSICLIB_BROWSE_BROWSEMENU MSG_TYPE_MUSICLIB_BROWSE+1
                            19557 ; 379  |#define MUSICLIB_BROWSE_DOWNLIST MSG_TYPE_MUSICLIB_BROWSE+2
                            19558 ; 380  |#define MUSICLIB_BROWSE_UPLIST MSG_TYPE_MUSICLIB_BROWSE+3
                            19559 ; 381  |#define MUSICLIB_BROWSE_UPMENU MSG_TYPE_MUSICLIB_BROWSE+4
                            19560 ; 382  |#define MUSICLIB_BROWSE_SONGNUMBER MSG_TYPE_MUSICLIB_BROWSE+5
                            19561 ; 383  |#define MUSICLIB_BROWSE_ON_THE_FLY_GET_STATUS MSG_TYPE_MUSICLIB_BROWSE+6
                            19562 ; 384  |#define MUSICLIB_BROWSE_ON_THE_FLY_ADD_ITEM MSG_TYPE_MUSICLIB_BROWSE+7
                            19563 ; 385  |#define MUSICLIB_BROWSE_ON_THE_FLY_DELETE_ITEM MSG_TYPE_MUSICLIB_BROWSE+8
                            19564 ; 386  |#define MUSICLIB_BROWSE_ON_THE_FLY_DELETE_ALL MSG_TYPE_MUSICLIB_BROWSE+9
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 325

M:ADDR CODE           CYCLES LINE SOURCELINE
                            19565 ; 387  |#define MUSICLIB_BROWSE_LAST_MSG_ID MSG_TYPE_MUSICLIB_BROWSE+9
                            19566 ; 388  |
                            19567 ; 389  |#define MUSICLIB_PLAYALLNEXT_FIRST_MSG_ID MSG_TYPE_MUSICLIB_PLAYALLNEXT+0
                            19568 ; 390  |#define MUSICLIB_PLAYNEXTSONG MSG_TYPE_MUSICLIB_PLAYALLNEXT+0
                            19569 ; 391  |#define MUSICLIB_PLAYALLNEXT_LAST_MSG_ID MSG_TYPE_MUSICLIB_PLAYALLNEXT+0
                            19570 ; 392  |
                            19571 ; 393  |#define MUSICLIB_PLAYALLPREV_FIRST_MSG_ID MSG_TYPE_MUSICLIB_PLAYALLPREV+0
                            19572 ; 394  |#define MUSICLIB_PLAYPREVIOUSSONG MSG_TYPE_MUSICLIB_PLAYALLPREV+0
                            19573 ; 395  |#define MUSICLIB_PLAYALLPREV_LAST_MSG_ID MSG_TYPE_MUSICLIB_PLAYALLPREV+0
                            19574 ; 396  |
                            19575 ; 397  |#define MUSICLIB_SHUFFLE_FIRST_MSG_ID MSG_TYPE_MUSICLIB_SHUFFLE+0
                            19576 ; 398  |#define MUSICLIB_SHUFFLE_NEXT MSG_TYPE_MUSICLIB_SHUFFLE+0
                            19577 ; 399  |#define MUSICLIB_SHUFFLE_LAST_MSG_ID MSG_TYPE_MUSICLIB_SHUFFLE+0
                            19578 ; 400  |
                            19579 ; 401  |#define MUSICLIB_VOICE_FIRST_MSG_ID MSG_TYPE_MUSICLIB_VOICE+0
                            19580 ; 402  |#define MUSICLIB_VOICE_BROWSEMENU MSG_TYPE_MUSICLIB_VOICE+0
                            19581 ; 403  |#define MUSICLIB_VOICE_DOWNLIST MSG_TYPE_MUSICLIB_VOICE+1
                            19582 ; 404  |#define MUSICLIB_VOICE_UPLIST MSG_TYPE_MUSICLIB_VOICE+2
                            19583 ; 405  |#define MUSICLIB_VOICE_UPMENU MSG_TYPE_MUSICLIB_VOICE+3
                            19584 ; 406  |#define MUSICLIB_VOICE_VOICENUMBER MSG_TYPE_MUSICLIB_VOICE+4
                            19585 ; 407  |#define MUSICLIB_VOICE_LAST_MSG_ID MSG_TYPE_MUSICLIB_VOICE+4
                            19586 ; 408  |
                            19587 ; 409  |#define MUSICLIB_VOICEPLAY_FIRST_MSG_ID MSG_TYPE_MUSICLIB_VOICEPLAY+0
                            19588 ; 410  |#define MUSICLIB_START_PLAY_VOICE MSG_TYPE_MUSICLIB_VOICEPLAY+0
                            19589 ; 411  |#define MUSICLIB_VOICEPLAY_LAST_MSG_ID MSG_TYPE_MUSICLIB_VOICEPLAY+0
                            19590 ; 412  |
                            19591 ; 413  |#define MUSICLIB_MERGE_FIRST_MSG_ID MSG_TYPE_MUSICLIB_MERGE+0
                            19592 ; 414  |#define MUSICLIB_MERGE_SONG MSG_TYPE_MUSICLIB_MERGE+0
                            19593 ; 415  |#define MUSICLIB_MERGE_ALL_SONG MSG_TYPE_MUSICLIB_MERGE+1
                            19594 ; 416  |#define MUSICLIB_MERGE_RESUME MSG_TYPE_MUSICLIB_MERGE+2
                            19595 ; 417  |#define MUSICLIB_MERGE_LAST_MSG_ID MSG_TYPE_MUSICLIB_MERGE+2
                            19596 ; 418  |#endif // IF (@def(USE_PLAYLIST3))
                            19597 ; 419  |
                            19598 ; 420  |#if defined(USE_PLAYLIST5)
                            19599 ; 421  |#define PL5_PL_FIRST_MSG_ID MSG_TYPE_PL5_PLAYBACK+0
                            19600 ; 422  |#define PL5_PL_MSG_RESET MSG_TYPE_PL5_PLAYBACK+0
                            19601 ; 423  |#define PL5_PL_MSG_CDSEARCHING MSG_TYPE_PL5_PLAYBACK+1
                            19602 ; 424  |#define PL5_PL_MSG_START MSG_TYPE_PL5_PLAYBACK+2
                            19603 ; 425  |#define PL5_PL_MSG_STOP MSG_TYPE_PL5_PLAYBACK+3
                            19604 ; 426  |#define PL5_PL_MSG_PAUSE MSG_TYPE_PL5_PLAYBACK+4
                            19605 ; 427  |#define PL5_PL_MSG_RESUME MSG_TYPE_PL5_PLAYBACK+5
                            19606 ; 428  |#define PL5_PL_MSG_DELETE MSG_TYPE_PL5_PLAYBACK+6
                            19607 ; 429  |#define PL5_PL_MSG_PLAY MSG_TYPE_PL5_PLAYBACK+7
                            19608 ; 430  |#define PL5_PL_MSG_DISCNT MSG_TYPE_PL5_PLAYBACK+8
                            19609 ; 431  |#define PL5_PL_MSG_ENACNT MSG_TYPE_PL5_PLAYBACK+9
                            19610 ; 432  |#define PL5_PL_LAST_MSG_ID MSG_TYPE_PL5_PLAYBACK+9
                            19611 ; 433  |
                            19612 ; 434  |#define PL5_BR_FIRST_MSG_ID MSG_TYPE_PL5_BROWSE+0
                            19613 ; 435  |#define PL5_BR_MSG_RESET MSG_TYPE_PL5_BROWSE+0
                            19614 ; 436  |#define PL5_BR_MSG_CDBROWSING MSG_TYPE_PL5_BROWSE+1
                            19615 ; 437  |#define PL5_BR_MSG_START MSG_TYPE_PL5_BROWSE+2
                            19616 ; 438  |#define PL5_BR_MSG_STOP MSG_TYPE_PL5_BROWSE+3
                            19617 ; 439  |#define PL5_BR_MSG_PAUSE MSG_TYPE_PL5_BROWSE+4
                            19618 ; 440  |#define PL5_BR_MSG_RESUME MSG_TYPE_PL5_BROWSE+5
                            19619 ; 441  |#define PL5_BR_MSG_DELETE MSG_TYPE_PL5_BROWSE+6
                            19620 ; 442  |#define PL5_BR_LAST_MSG_ID MSG_TYPE_PL5_BROWSE+6
                            19621 ; 443  |#endif // if @def('USE_PLAYLIST5')
                            19622 ; 444  |// Events
                            19623 ; 445  |// No event
                            19624 ; 446  |#define EVENT_NONE 0x000001   
                            19625 ; 447  |// A message has been posted
                            19626 ; 448  |#define EVENT_MESSAGE 0x000002   
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 326

M:ADDR CODE           CYCLES LINE SOURCELINE
                            19627 ; 449  |// Run if wait time elapsed
                            19628 ; 450  |#define EVENT_TIMER 0x000004   
                            19629 ; 451  |// Run if a button event occured
                            19630 ; 452  |#define EVENT_BUTTON 0x000008   
                            19631 ; 453  |// Run if a background event occured
                            19632 ; 454  |#define EVENT_BACKGROUND 0x000010   
                            19633 ; 455  |// The executive should immediately repeat this module
                            19634 ; 456  |#define EVENT_REPEAT 0x000020   
                            19635 ; 457  |// Run the module's init routine
                            19636 ; 458  |#define EVENT_INIT 0x800000   
                            19637 ; 459  |
                            19638 ; 460  |#define EVENT_NONE_BITPOS 0
                            19639 ; 461  |#define EVENT_MESSAGE_BITPOS 1
                            19640 ; 462  |#define EVENT_TIMER_BITPOS 2
                            19641 ; 463  |#define EVENT_BUTTON_BITPOS 3
                            19642 ; 464  |#define EVENT_BACKGROUND_BITPOS 4
                            19643 ; 465  |#define EVENT_REPEAT_BITPOS 5
                            19644 ; 466  |#define EVENT_INIT_BITPOS 23
                            19645 ; 467  |
                            19646 ; 468  |// Parser Message Buffers
                            19647 ; 469  |#define ParserPlayBit 0
                            19648 ; 470  |#define ButtonPressBit 1
                            19649 ; 471  |#define ParserRwndBit 1
                            19650 ; 472  |#define ParserFfwdBit 2
                            19651 ; 473  |
                            19652 ; 474  |//NextSong Message Parameters
                            19653 ; 475  |// ButtonPressBit1 set to denote button was pressed.
                            19654 ; 476  |#define NEXT_SONG 2             
                            19655 ; 477  |// ButtonPressBit1 cleared
                            19656 ; 478  |#define NEXT_SONG_PLAY_EOF 1          
                            19657 ; 479  |// ButtonPressBit1 set
                            19658 ; 480  |#define NEXT_SONG_PLAY_BUTTON 3          
                            19659 ; 481  |// NextSong + Ffwd
                            19660 ; 482  |#define NEXT_SONG_FFWD 4          
                            19661 ; 483  |
                            19662 ; 484  |//PrevSong Message Parameters
                            19663 ; 485  |// PrevSong + Stopped
                            19664 ; 486  |#define PREV_SONG 0          
                            19665 ; 487  |// PrevSong + Play
                            19666 ; 488  |#define PREV_SONG_PLAY 1          
                            19667 ; 489  |// PrevSong + Rwnd
                            19668 ; 490  |#define PREV_SONG_RWND 2          
                            19669 ; 491  |
                            19670 ; 492  |
                            19671 ; 493  |
                            19672 ; 494  |
                            19673 ; 495  |#endif // IF (!@def(MSGEQU_INC))
                            19674 ; 496  |
                            19675 ; 497  |
                            19676 
                            19678 
                            19679 ; 13   |#include "metadata.h"
                            19680 
                            19682 
                            19683 ; 1    |////////////////////////////////////////////////////////////////////////////////
                            19684 ; 2    |// Copyright(C) SigmaTel, Inc. 2002
                            19685 ; 3    |//
                            19686 ; 4    |// Filename: metadata.h
                            19687 ; 5    |// Description:
                            19688 ; 6    |////////////////////////////////////////////////////////////////////////////////
                            19689 ; 7    |
                            19690 ; 8    |#ifndef _METADATA_H
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 327

M:ADDR CODE           CYCLES LINE SOURCELINE
                            19691 ; 9    |#define _METADATA_H
                            19692 ; 10   |
                            19693 ; 11   |///////////////////////////////////////////////////////////////////////////////
                            19694 ; 12   |// MetaData definitions
                            19695 ; 13   |///////////////////////////////////////////////////////////////////////////////
                            19696 ; 14   |
                            19697 ; 15   |//#define MMC_CMD59       0x40|59
                            19698 ; 16   |
                            19699 ; 17   |///////////////////////////////////////////////////////////////////////////////
                            19700 ; 18   |// Meta Data structure definitions
                            19701 ; 19   |///////////////////////////////////////////////////////////////////////////////
                            19702 ; 20   |
                            19703 ; 21   |///////////////////////////////////////////////////////////////////////////////
                            19704 ; 22   |// MetaData definitions
                            19705 ; 23   |
                            19706 ; 24   |#define META_DATA_FOUND                     (WORD)(0)
                            19707 ; 25   |#define META_DATA_NOT_FOUND                 (WORD)(0x100)
                            19708 ; 26   |#define META_DATA_FILE_NOT_SUPPORTED        (WORD)(0x101)
                            19709 ; 27   |#define META_DATA_FILEOPEN_ERROR            (WORD)(0x200)
                            19710 ; 28   |#define META_DATA_FILEREAD_ERROR            (WORD)(0x201)
                            19711 ; 29   |#define META_DATA_FILECLOSE_ERROR           (WORD)(0x202)
                            19712 ; 30   |#define META_DATA_FILESEEK_ERROR            (WORD)(0x203)
                            19713 ; 31   |#define META_DATA_FILEWRITE_ERROR           (WORD)(0x204)
                            19714 ; 32   |#define META_DATA_SUCCESS                               (WORD)(0x205)
                            19715 ; 33   |
                            19716 ; 34   |#define META_DATA_NOT_VBR_FORMAT            (WORD)(0x102)
                            19717 ; 35   |
                            19718 ; 36   |// VBR
                            19719 ; 37   |#define VBR_NOT_DETERMINED 0
                            19720 ; 38   |#define VBR_TRUE 1
                            19721 ; 39   |
                            19722 ; 40   |#ifndef TITLE_SIZE
                            19723 ; 41   |//#define TITLE_SIZE 30
                            19724 ; 42   |#ifndef USE_PLAYLIST3
                            19725 ; 43   |#define TITLE_SIZE 256          //was 30 but LFNs require up to 256!
                            19726 ; 44   |#else
                            19727 ; 45   |#define TITLE_SIZE 80           //was 256 but music library only store up to 129!
                            19728 ; 46   |#endif
                            19729 ; 47   |#endif
                            19730 ; 48   |
                            19731 ; 49   |#ifndef ARTIST_SIZE
                            19732 ; 50   |#ifndef USE_PLAYLIST3
                            19733 ; 51   |//#define ARTIST_SIZE 30
                            19734 ; 52   |#define ARTIST_SIZE 100         // increase artist size for use with ID3V2 tags (Stmp00003
                                  110)
                            19735 ; 53   |#else
                            19736 ; 54   |#define ARTIST_SIZE 48          // increase artist size for use with ID3V2 tags (Stmp00003
                                  110)
                            19737 ; 55   |#endif
                            19738 ; 56   |#endif
                            19739 ; 57   |
                            19740 ; 58   |#ifndef ALBUM_SIZE
                            19741 ; 59   |#ifndef USE_PLAYLIST3
                            19742 ; 60   |//#define ALBUM_SIZE 30
                            19743 ; 61   |#define ALBUM_SIZE 50           // increase album size (not as much) for use with ID3V2 ta
                                  gs (Stmp00003110)
                            19744 ; 62   |#else
                            19745 ; 63   |#define ALBUM_SIZE 48           // increase album size (not as much) for use with ID3V2 ta
                                  gs (Stmp00003110)
                            19746 ; 64   |#endif
                            19747 ; 65   |#endif
                            19748 ; 66   |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 328

M:ADDR CODE           CYCLES LINE SOURCELINE
                            19749 ; 67   |#ifdef USE_PLAYLIST3
                            19750 ; 68   |#ifndef GENRE_SIZE
                            19751 ; 69   |#define GENRE_SIZE 20
                            19752 ; 70   |#endif
                            19753 ; 71   |
                            19754 ; 72   |#ifndef YEAR_SIZE
                            19755 ; 73   |#define YEAR_SIZE 8
                            19756 ; 74   |#endif
                            19757 ; 75   |
                            19758 ; 76   |#ifndef TRACKNUM_SIZE
                            19759 ; 77   |#define TRACKNUM_SIZE 5 // assume track number is smaller than 0xfff (12bit or 4095)
                            19760 ; 78   |#endif
                            19761 ; 79   |
                            19762 ; 80   |#define MAX_TRACK_NUMBER 0x000fff
                            19763 ; 81   |#define UNKNOWN_TRACK_NUMBER MAX_TRACK_NUMBER
                            19764 ; 82   |#endif
                            19765 ; 83   |
                            19766 ; 84   |#define XING_TOC_SIZE   100
                            19767 ; 85   |#if MTP_BUILD
                            19768 ; 86   |// This size is used to build table for FF/RW for vbr songs,
                            19769 ; 87   |// and as there is no such function in mtp mode, it is reduced to release y-memory.
                            19770 ; 88   |#define VBR_TOC_SIZE    2
                            19771 ; 89   |#else
                            19772 ; 90   |#define VBR_TOC_SIZE    200
                            19773 ; 91   |#endif
                            19774 ; 92   |
                            19775 ; 93   |extern UCS3 g_wSongTitle[TITLE_SIZE];
                            19776 ; 94   |extern UCS3 g_wSongArtist[ARTIST_SIZE];
                            19777 ; 95   |extern UCS3 g_wSongAlbum[ALBUM_SIZE];
                            19778 ; 96   |#ifdef USE_PLAYLIST3
                            19779 ; 97   |extern UCS3 g_wSongGenre[GENRE_SIZE];
                            19780 ; 98   |extern UCS3 g_wSongYear[YEAR_SIZE];
                            19781 ; 99   |extern WORD g_wSongTrackNum;
                            19782 ; 100  |#endif
                            19783 ; 101  |
                            19784 ; 102  |extern WORD g_wVBRTOCTable[VBR_TOC_SIZE];
                            19785 ; 103  |
                            19786 ; 104  |typedef struct {
                            19787 ; 105  |    WORD        iTitleBufferLength;
                            19788 ; 106  |        UCS3       *wTitle;        // Title of Song
                            19789 ; 107  |    WORD        iArtistBufferLength;
                            19790 ; 108  |    UCS3       *wArtist;
                            19791 ; 109  |    WORD        iAlbumBufferLength;
                            19792 ; 110  |    UCS3       *wAlbum;
                            19793 ; 111  |#ifdef USE_PLAYLIST3
                            19794 ; 112  |    WORD        iGenreBufferLength;
                            19795 ; 113  |    UCS3       *wGenre;
                            19796 ; 114  |    WORD        iYearBufferLength;
                            19797 ; 115  |    UCS3       *wYear;
                            19798 ; 116  |    WORD        wTrackNum;
                            19799 ; 117  |#endif
                            19800 ; 118  |    BYTE       btGenre;       // Genre of audio file -- if MP3, use the ID3v1 tag byte
                            19801 ; 119  |        WORD       wSampRate;     // Sample Rate of song (Hz)
                            19802 ; 120  |        WORD       wNumChannels;
                            19803 ; 121  |        WORD       wBitRate;      // Bitrate of song (for MP3 VBR, this will be first bitr
                                  ate found)
                            19804 ; 122  |        LONG       iTime;                 // Length of song in seconds
                            19805 ; 123  |        DWORD      dwStartPos;    // Position where audio starts. (if required by the deco
                                  der)
                            19806 ; 124  |        DWORD      dwNumBytes;    // Total Bytes in audio part of song
                            19807 ; 125  |    DWORD      dwDataBytes;   // for wma; (total bytes - header bytes)
                            19808 ; 126  |        DWORD      dwNumFrames;   // See note below on frames
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 329

M:ADDR CODE           CYCLES LINE SOURCELINE
                            19809 ; 127  |        BOOL       bVBR;                  // 0 = CBR or does not apply , 1 = VBR (**see qu
                                  estion below**)
                            19810 ; 128  |        INT                iFileType;     // 0 = unknown, 1 = MP3, 2 = WMA, 4 = AAC, 8 = I
                                  MA ADPCM, etc (use defines below)
                            19811 ; 129  |        INT                iResourceNum;  // Resource number of the decoder that needed fo
                                  r this file
                            19812 ; 130  |} FILE_META_DATA;
                            19813 ; 131  |
                            19814 ; 132  |// File Type Defines (use for iFileType) -- matches bit defines in sysequ.inc
                            19815 ; 133  |#define UNKNOWN_TYPE   0
                            19816 ; 134  |#define MP3_TYPE       1
                            19817 ; 135  |#define WMA_TYPE       2
                            19818 ; 136  |#define AAC_TYPE       4
                            19819 ; 137  |#define IMA_ADPCM_TYPE 8
                            19820 ; 138  |#define MS_ADPCM_TYPE  16
                            19821 ; 139  |#define PCM_WAV_TYPE   32
                            19822 ; 140  |#define ASF_TYPE       64
                            19823 ; 141  |#define AUDIBLE_ACELP_TYPE 128
                            19824 ; 142  |#define AUDIBLE_MP3_TYPE   256          // 9/28/04 mmiu
                            19825 ; 143  |
                            19826 ; 144  |#define SMV_ADPCM_TYPE 512
                            19827 ; 145  |
                            19828 ; 146  |
                            19829 ; 147  |//////SRS WOW DEFS/////////////////////////////////////////////////////////////
                            19830 ; 148  |// Sample rates
                            19831 ; 149  |#ifdef WOW
                            19832 ; 150  |#define SR_48KHZ        48000
                            19833 ; 151  |#define SR_44KHZ        44100
                            19834 ; 152  |#define SR_32KHZ        32000
                            19835 ; 153  |#define SR_24KHZ        24000
                            19836 ; 154  |#define SR_22KHZ        22050
                            19837 ; 155  |#define SR_16KHZ        16000
                            19838 ; 156  |#define SR_12KHZ        12000
                            19839 ; 157  |#define SR_11KHZ        11025
                            19840 ; 158  |#define SR_8KHZ          8000
                            19841 ; 159  |#endif
                            19842 ; 160  |
                            19843 ; 161  |
                            19844 ; 162  |///////////////////////////////////////////////////////////////////////////////
                            19845 ; 163  |// MetaData prototypes
                            19846 ; 164  |///////////////////////////////////////////////////////////////////////////////
                            19847 ; 165  |
                            19848 ; 166  |RETCODE _reentrant GetFileMetaData(INT PackedPathNameAddress, INT btCurrentDevice, FILE_ME
                                  TA_DATA *MetaData);
                            19849 ; 167  |#ifdef USE_PLAYLIST3
                            19850 ; 168  |INT _reentrant GetRelativePath(int highlight_index, int browse_type, INT* PackedPathNameAd
                                  dress);
                            19851 ; 169  |INT _reentrant RetrieveSongInfo(INT a, INT b, INT *p_path);
                            19852 ; 170  |#endif
                            19853 ; 171  |
                            19854 ; 172  |#endif // #ifndef _METADATA_H
                            19855 
                            19857 
                            19858 ; 14   |
                            19859 ; 15   |
                            19860 ; 16   |// Menu message, MUST check with menus.h to avoid duplicate
                            19861 ; 17   |// Change the menu message and timer value to match your project
                            19862 ; 18   |//#define MENU_MSG_LYRICS_UPDATE                MENU_LAST_MSG_ID+8              // moved i
                                  nto msgequ.inc
                            19863 ; 19   |#define TIMER_LYRICS_UPDATE                     9
                            19864 ; 20   |/////////////////////////////////////////////////////////////////
                            19865 ; 21   |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 330

M:ADDR CODE           CYCLES LINE SOURCELINE
                            19866 ; 22   |#define SLT                                     ('S'|('L'<<8)|('T'<<16))        // V2.2 fr
                                  ame identifiers
                            19867 ; 23   |#define SYLT                            ('Y'|('L'<<8)|('T'<<16))        // V2.3 and V2.4 f
                                  rame identifiers
                            19868 ; 24   |#define MAX_LYRICS_STRING       100             // Max. number of characters per lyrics in
                                  cluding terminate zero
                            19869 ; 25   |#define LYRICS_ROW_BUF_SIZE     ((LCD_X_SIZE/4)+1)
                            19870 ; 26   |
                            19871 ; 27   |// ASF Header Extension Object
                            19872 ; 28   |#define ASF_HEADER_EXTENSION_GUID_0             0xbf03b5
                            19873 ; 29   |#define ASF_HEADER_EXTENSION_GUID_1             0xa92e5f
                            19874 ; 30   |#define ASF_HEADER_EXTENSION_GUID_2             0x8e11cf
                            19875 ; 31   |#define ASF_HEADER_EXTENSION_GUID_3             0xc000e3
                            19876 ; 32   |#define ASF_HEADER_EXTENSION_GUID_4             0x53200c
                            19877 ; 33   |#define ASF_HEADER_EXTENSION_GUID_5             0x000065
                            19878 ; 34   |
                            19879 ; 35   |// ASF Reserved 1
                            19880 ; 36   |#define ASF_RESERVED_1_GUID_0                   0xd3d211
                            19881 ; 37   |#define ASF_RESERVED_1_GUID_1                   0xa9baab
                            19882 ; 38   |#define ASF_RESERVED_1_GUID_2                   0x8e11cf
                            19883 ; 39   |#define ASF_RESERVED_1_GUID_3                   0xc000e6
                            19884 ; 40   |#define ASF_RESERVED_1_GUID_4                   0x53200c
                            19885 ; 41   |#define ASF_RESERVED_1_GUID_5                   0x000065
                            19886 ; 42   |
                            19887 ; 43   |// ASF Metadata Library Object
                            19888 ; 44   |#define ASF_METADATA_LIBRARY_GUID_0             0x231c94
                            19889 ; 45   |#define ASF_METADATA_LIBRARY_GUID_1             0x949844
                            19890 ; 46   |#define ASF_METADATA_LIBRARY_GUID_2             0xa149d1
                            19891 ; 47   |#define ASF_METADATA_LIBRARY_GUID_3             0x131d41
                            19892 ; 48   |#define ASF_METADATA_LIBRARY_GUID_4             0x70454e
                            19893 ; 49   |#define ASF_METADATA_LIBRARY_GUID_5             0x000054
                            19894 ; 50   |
                            19895 ; 51   |// Data structure for lyrics library
                            19896 ; 52   |typedef struct {
                            19897 ; 53   |        WORD    iTitleBufferLength;
                            19898 ; 54   |        UCS3    *wTitle;
                            19899 ; 55   |        WORD    iArtistBufferLength;
                            19900 ; 56   |        UCS3    *wArtist;
                            19901 ; 57   |        WORD    iAlbumBufferLength;
                            19902 ; 58   |        UCS3    *wAlbum;
                            19903 ; 59   |        DWORD   dwNumBytes;
                            19904 ; 60   |} LYRICS_FILE_META_DATA;
                            19905 ; 61   |
                            19906 ; 62   |// Function Prototypes
                            19907 ; 63   |RETCODE _reentrant Id3V2LyricsReadFrame(INT iHandle, WORD uFrameSize, INT *ptr);
                            19908 ; 64   |RETCODE _reentrant Mp3MetaDataReadLyrics3(INT iHandle,INT iIgnored, INT *pMetaData);
                            19909 ; 65   |RETCODE _reentrant Mp3MetaDataReadLRC(INT iIgnored1,INT iIgnored2, INT *pMetaData);
                            19910 ; 66   |RETCODE _reentrant WMALyricsReadFrame(INT iHandle, WORD uFrameSize, INT *ptr);
                            19911 ; 67   |RETCODE _reentrant LyricsInit(INT a, INT b, INT *c);
                            19912 ; 68   |RETCODE _reentrant LyricsStart(INT a, INT b, INT *c);
                            19913 ; 69   |RETCODE _reentrant LyricsPause(INT a, INT b, INT *c);
                            19914 ; 70   |RETCODE _reentrant LyricsGetNext(INT a, INT b, INT *c);
                            19915 ; 71   |RETCODE _reentrant LyricsStop(INT a, INT b, INT *c);
                            19916 ; 72   |RETCODE _reentrant LyricsIsValid(void);
                            19917 ; 73   |RETCODE _reentrant LyricsSkipping(INT a, INT b, INT *c);
                            19918 ; 74   |RETCODE _reentrant LyricsGetNextLyricsTime(INT a, INT b, INT *pTime);
                            19919 ; 75   |DWORD _reentrant LyricsGetFirstLyricsTime(void);
                            19920 ; 76   |
                            19921 ; 77   |extern UCS3 _X * _X     g_pSongLyrics;
                            19922 ; 78   |
                            19923 ; 79   |#endif
                            19924 
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 331

M:ADDR CODE           CYCLES LINE SOURCELINE
                            19926 
                            19927 ; 21   |extern LONG _Y Mp3DecoderStartFrameFilePosition;
                            19928 ; 22   |#endif
                            19929 ; 23   |#ifdef JPEG_ALBUM_ART
                            19930 ; 24   |#include "attachedpictureframe.h"
                            19931 ; 25   |#endif
                            19932 ; 26   |#endif
                            19933 ; 27   |#ifdef USE_PLAYLIST3
                            19934 ; 28   |#include "fsapi.h"
                            19935 
                            19937 
                            19938 ; 1    |#ifndef _FSAPI_H_
                            19939 ; 2    |#define _FSAPI_H_
                            19940 ; 3    |#include "filespec.h"
                            19941 
                            19943 
                            19944 ; 1    |#ifndef _FILESPEC_H_
                            19945 ; 2    |#define _FILESPEC_H_
                            19946 ; 3    |#include  "fstypes.h"
                            19947 
                            19949 
                            19950 ; 1    |#ifndef _FS_TYPE_H_
                            19951 ; 2    |#define _FS_TYPE_H_
                            19952 ; 3    |
                            19953 ; 4    |#include   "types.h"
                            19954 
                            19956 
                            19957 ; 1    |////////////////////////////////////////////////////////////////////////////////
                            19958 ; 2    |// Copyright(C) SigmaTel, Inc. 2000-2004
                            19959 ; 3    |//
                            19960 ; 4    |// Filename: types.h
                            19961 ; 5    |// Description: Standard data types
                            19962 ; 6    |////////////////////////////////////////////////////////////////////////////////
                            19963 ; 7    |
                            19964 ; 8    |#ifndef _TYPES_H
                            19965 ; 9    |#define _TYPES_H
                            19966 ; 10   |
                            19967 ; 11   |// TODO:  move this outta here!
                            19968 ; 12   |#if !defined(NOERROR)
                            19969 ; 13   |#define NOERROR 0
                            19970 ; 14   |#define SUCCESS 0
                            19971 ; 15   |#endif 
                            19972 ; 16   |#if !defined(SUCCESS)
                            19973 ; 17   |#define SUCCESS  0
                            19974 ; 18   |#endif
                            19975 ; 19   |#if !defined(ERROR)
                            19976 ; 20   |#define ERROR   -1
                            19977 ; 21   |#endif
                            19978 ; 22   |#if !defined(FALSE)
                            19979 ; 23   |#define FALSE 0
                            19980 ; 24   |#endif
                            19981 ; 25   |#if !defined(TRUE)
                            19982 ; 26   |#define TRUE  1
                            19983 ; 27   |#endif
                            19984 ; 28   |
                            19985 ; 29   |#if !defined(NULL)
                            19986 ; 30   |#define NULL 0
                            19987 ; 31   |#endif
                            19988 ; 32   |
                            19989 ; 33   |#define MAX_INT     0x7FFFFF
                            19990 ; 34   |#define MAX_LONG    0x7FFFFFffffff
                            19991 ; 35   |        // max positive unsigned long value: -1 == 0xFFFFFFffffff
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 332

M:ADDR CODE           CYCLES LINE SOURCELINE
                            19992 ; 36   |#define MAX_ULONG   (-1) 
                            19993 ; 37   |
                            19994 ; 38   |#define WORD_SIZE   24              // word size in bits
                            19995 ; 39   |#define BYTES_PER_WORD 3            // 8 bit bytes
                            19996 ; 40   |
                            19997 ; 41   |
                            19998 ; 42   |#define BYTE    unsigned char       // btVarName
                            19999 ; 43   |#define CHAR    signed char         // cVarName
                            20000 ; 44   |#define USHORT  unsigned short      // usVarName
                            20001 ; 45   |#define SHORT   unsigned short      // sVarName
                            20002 ; 46   |#define WORD    unsigned int        // wVarName
                            20003 ; 47   |#define INT     signed int          // iVarName
                            20004 ; 48   |#define DWORD   unsigned long       // dwVarName
                            20005 ; 49   |#define LONG    signed long         // lVarName
                            20006 ; 50   |#define BOOL    unsigned int        // bVarName
                            20007 ; 51   |#define FRACT   _fract              // frVarName
                            20008 ; 52   |#define LFRACT  long _fract         // lfrVarName
                            20009 ; 53   |#define CIRC    _circ               // cp<type prefix>VarName (see below)
                            20010 ; 54   |#define FLOAT   float               // fVarName
                            20011 ; 55   |#define DBL     double              // dVarName
                            20012 ; 56   |#define ENUM    enum                // eVarName
                            20013 ; 57   |#define CMX     _complex            // cmxVarName
                            20014 ; 58   |typedef WORD UCS3;                   // 
                            20015 ; 59   |
                            20016 ; 60   |#define UINT16  unsigned short
                            20017 ; 61   |#define UINT8   unsigned char   
                            20018 ; 62   |#define UINT32  unsigned long
                            20019 ; 63   |#define UINT64  unsigned long   // need to figure out how to do 64 bit values.  Or port ex
                                  isiting code to only use 48 bit
                            20020 ; 64   |#define INT64   unsigned long   // need to figure out how to do 64 bit values.  Or port ex
                                  isiting code to only use 48 bit
                            20021 ; 65   |#define WCHAR   UINT16
                            20022 ; 66   |
                            20023 ; 67   |//UINT128 is 16 bytes or 6 words
                            20024 ; 68   |typedef struct UINT128_3500 {   
                            20025 ; 69   |    int val[6];     
                            20026 ; 70   |} UINT128_3500;
                            20027 ; 71   |
                            20028 ; 72   |#define UINT128   UINT128_3500
                            20029 ; 73   |
                            20030 ; 74   |// Little endian word packed byte strings:   
                            20031 ; 75   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                            20032 ; 76   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                            20033 ; 77   |// Little endian word packed byte strings:   
                            20034 ; 78   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                            20035 ; 79   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                            20036 ; 80   |
                            20037 ; 81   |// Declare Memory Spaces To Use When Coding
                            20038 ; 82   |// A. Sector Buffers
                            20039 ; 83   |#define SECTOR_BUFFER_MEM_X _X
                            20040 ; 84   |#define SECTOR_BUFFER_MEM_Y _Y
                            20041 ; 85   |#define SECTOR_BUFFER_MEM SECTOR_BUFFER_MEM_X
                            20042 ; 86   |typedef WORD SECTOR_BUFFER_MEM SECTOR_BUFFER;
                            20043 ; 87   |typedef SECTOR_BUFFER * P_SECTOR_BUFFER;
                            20044 ; 88   |// B. Media DDI Memory
                            20045 ; 89   |#define MEDIA_DDI_MEM _Y
                            20046 ; 90   |
                            20047 ; 91   |
                            20048 ; 92   |
                            20049 ; 93   |// Pointers to linear structures are labeled as: p<type prefix>VarName
                            20050 ; 94   |// Examples of circular pointers:
                            20051 ; 95   |//    INT CIRC cpiVarName
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 333

M:ADDR CODE           CYCLES LINE SOURCELINE
                            20052 ; 96   |//    DWORD CIRC cpdwVarName
                            20053 ; 97   |
                            20054 ; 98   |#define RETCODE INT                 // rcVarName
                            20055 ; 99   |
                            20056 ; 100  |// generic bitfield structure
                            20057 ; 101  |struct Bitfield {
                            20058 ; 102  |    unsigned int B0  :1;
                            20059 ; 103  |    unsigned int B1  :1;
                            20060 ; 104  |    unsigned int B2  :1;
                            20061 ; 105  |    unsigned int B3  :1;
                            20062 ; 106  |    unsigned int B4  :1;
                            20063 ; 107  |    unsigned int B5  :1;
                            20064 ; 108  |    unsigned int B6  :1;
                            20065 ; 109  |    unsigned int B7  :1;
                            20066 ; 110  |    unsigned int B8  :1;
                            20067 ; 111  |    unsigned int B9  :1;
                            20068 ; 112  |    unsigned int B10 :1;
                            20069 ; 113  |    unsigned int B11 :1;
                            20070 ; 114  |    unsigned int B12 :1;
                            20071 ; 115  |    unsigned int B13 :1;
                            20072 ; 116  |    unsigned int B14 :1;
                            20073 ; 117  |    unsigned int B15 :1;
                            20074 ; 118  |    unsigned int B16 :1;
                            20075 ; 119  |    unsigned int B17 :1;
                            20076 ; 120  |    unsigned int B18 :1;
                            20077 ; 121  |    unsigned int B19 :1;
                            20078 ; 122  |    unsigned int B20 :1;
                            20079 ; 123  |    unsigned int B21 :1;
                            20080 ; 124  |    unsigned int B22 :1;
                            20081 ; 125  |    unsigned int B23 :1;
                            20082 ; 126  |};
                            20083 ; 127  |
                            20084 ; 128  |union BitInt {
                            20085 ; 129  |        struct Bitfield B;
                            20086 ; 130  |        int        I;
                            20087 ; 131  |};
                            20088 ; 132  |
                            20089 ; 133  |#define MAX_MSG_LENGTH 10
                            20090 ; 134  |struct CMessage
                            20091 ; 135  |{
                            20092 ; 136  |        unsigned int m_uLength;
                            20093 ; 137  |        unsigned int m_uMsg[MAX_MSG_LENGTH];
                            20094 ; 138  |};
                            20095 ; 139  |
                            20096 ; 140  |typedef struct {
                            20097 ; 141  |    WORD m_wLength;
                            20098 ; 142  |    WORD m_wMessage;
                            20099 ; 143  |    WORD m_wParams[MAX_MSG_LENGTH];
                            20100 ; 144  |} Message;
                            20101 ; 145  |
                            20102 ; 146  |struct MessageQueueDescriptor
                            20103 ; 147  |{
                            20104 ; 148  |        int *m_pBase;
                            20105 ; 149  |        int m_iModulo;
                            20106 ; 150  |        int m_iSize;
                            20107 ; 151  |        int *m_pHead;
                            20108 ; 152  |        int *m_pTail;
                            20109 ; 153  |};
                            20110 ; 154  |
                            20111 ; 155  |struct ModuleEntry
                            20112 ; 156  |{
                            20113 ; 157  |    int m_iSignaledEventMask;
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 334

M:ADDR CODE           CYCLES LINE SOURCELINE
                            20114 ; 158  |    int m_iWaitEventMask;
                            20115 ; 159  |    int m_iResourceOfCode;
                            20116 ; 160  |    struct MessageQueueDescriptor *m_pMessageQueue;
                            20117 ; 161  |    int _asmfunc (*m_pProcessEntryPoint)(union WaitMask Signals,struct MessageQueueDescrip
                                  tor *);
                            20118 ; 162  |    int _asmfunc (*m_pInitFunction)(struct MessageQueueDescriptor *);
                            20119 ; 163  |    int m_uTimeOutHigh;
                            20120 ; 164  |    int m_uTimeOutLow;
                            20121 ; 165  |    int _asmfunc (*m_pBackgroundFunction)(struct MessageQueueDescriptor *);
                            20122 ; 166  |};
                            20123 ; 167  |
                            20124 ; 168  |union WaitMask{
                            20125 ; 169  |    struct B{
                            20126 ; 170  |        unsigned int m_bNone     :1;
                            20127 ; 171  |        unsigned int m_bMessage  :1;
                            20128 ; 172  |        unsigned int m_bTimer    :1;
                            20129 ; 173  |        unsigned int m_bButton   :1;
                            20130 ; 174  |    } B;
                            20131 ; 175  |    int I;
                            20132 ; 176  |} ;
                            20133 ; 177  |
                            20134 ; 178  |
                            20135 ; 179  |struct Button {
                            20136 ; 180  |        WORD wButtonEvent;
                            20137 ; 181  |        WORD wUnused[MAX_MSG_LENGTH];   
                            20138 ; 182  |};
                            20139 ; 183  |
                            20140 ; 184  |struct Message {
                            20141 ; 185  |        WORD wMsgLength;
                            20142 ; 186  |        WORD wMsgCommand;
                            20143 ; 187  |        WORD wMsgParms[MAX_MSG_LENGTH-1];
                            20144 ; 188  |};
                            20145 ; 189  |
                            20146 ; 190  |union EventTypes {
                            20147 ; 191  |        struct CMessage msg;
                            20148 ; 192  |        struct Button Button ;
                            20149 ; 193  |        struct Message Message;
                            20150 ; 194  |};
                            20151 ; 195  |
                            20152 ; 196  |// next 2 used to get updater build to return correct protocol ver in scsi response.
                            20153 ; 197  |#define BUILD_TYPE_UPDATER  0x100
                            20154 ; 198  |#define BUILD_TYPE_HOSTLINK 0x101
                            20155 ; 199  |#define BUILD_TYPE_PLAYER   0x102
                            20156 ; 200  |
                            20157 ; 201  |// Resets part if RETAIL build. DEBUG build executes debug instruction to halt.
                            20158 ; 202  |#define SystemHalt() __asm(" include 'sysmacro.asm' \n error") 
                            20159 ; 203  |#define assert(x)    if(!(x)) __asm(" include 'sysmacro.asm' \n error")
                            20160 ; 204  |
                            20161 ; 205  |#if DEBUG
                            20162 ; 206  |// For DEBUG builds, DebugBuildAssert(condition) halts if condition evaluates to FALSE. 
                            20163 ; 207  |#define DebugBuildAssert(x)    if(!(x)) __asm(" debug ")
                            20164 ; 208  |#else 
                            20165 ; 209  |// For RETAIL builds, DebugBuildAssert(condition) does nothing & execution continues rathe
                                  r than halt or reset. 
                            20166 ; 210  |#define DebugBuildAssert(x)    
                            20167 ; 211  |#endif
                            20168 ; 212  |
                            20169 ; 213  |// Do this in your C files to make a reminder that's displayed during the build.
                            20170 ; 214  |//  #pragma asm
                            20171 ; 215  |//  WARN 'Note to builder: reminder to do this after verifying that'
                            20172 ; 216  |//  #pragma endasm
                            20173 ; 217  |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 335

M:ADDR CODE           CYCLES LINE SOURCELINE
                            20174 ; 218  |
                            20175 ; 219  |#ifdef COLOR_262K
                            20176 ; 220  |#define RGB(r,g,b)    ((0x0000FC & (r)) << 10) | ((0x0000FC & (g)) << 4) | ((0x0000FC & (b
                                  )) >> 2)    //262k
                            20177 ; 221  |#elif defined(COLOR_65K)
                            20178 ; 222  |#define RGB(r,g,b)    ((0x0000F8 & (r)) << 8) | ((0x0000FC & (g)) << 3) | ((0x0000F8 & (b)
                                  ) >> 3)  //65k
                            20179 ; 223  |#else
                            20180 ; 224  |#define RGB(r,g,b)       ((0x0000F0 & (r)) << 4) | (0x0000F0 & (g)) | ((0x0000F0 & (b)) >>
                                   4)
                            20181 ; 225  |#endif
                            20182 ; 226  |    
                            20183 ; 227  |#endif // #ifndef _TYPES_H
                            20184 
                            20186 
                            20187 ; 5    |
                            20188 ; 6    |// move FSMEDIA_TABLE from devicetable.h  15Apr2005   First moved in SDK2.6.
                            20189 ; 7    |typedef struct
                            20190 ; 8    |{
                            20191 ; 9    |
                            20192 ; 10   |INT     _Y BytesPerSector;
                            20193 ; 11   |INT     _Y SectorsPerCluster;
                            20194 ; 12   |INT     _Y RsvdSectors;
                            20195 ; 13   |INT     _Y NoOfFATs;
                            20196 ; 14   |INT     _Y MaxRootDirEntries;
                            20197 ; 15   |LONG    _Y TotalSectors;
                            20198 ; 16   |LONG    _Y FATSize;
                            20199 ; 17   |LONG    _Y RootdirCluster;
                            20200 ; 18   |//INT   _Y FSInfoSector;
                            20201 ; 19   |//INT   _Y BkBootSector;
                            20202 ; 20   |LONG    _Y NextFreeCluster;
                            20203 ; 21   |LONG    _Y TotalFreeClusters;
                            20204 ; 22   |INT     _Y RootDirSectors;
                            20205 ; 23   |INT     _Y FIRSTDataSector;
                            20206 ; 24   |INT    _Y FATType;
                            20207 ; 25   |LONG   _Y TotalNoofclusters;
                            20208 ; 26   |INT    _Y ClusterMask;
                            20209 ; 27   |INT    _Y ClusterShift;
                            20210 ; 28   |INT    _Y SectorShift;
                            20211 ; 29   |INT    _Y SectorMask;
                            20212 ; 30   |INT    _Y DevicePresent;
                            20213 ; 31   |LONG   _Y FirRootdirsec;
                            20214 ; 32   |INT             _Y FSInfoSector;
                            20215 ; 33   |}FSMEDIA_TABLE;
                            20216 ; 34   |
                            20217 ; 35   |
                            20218 ; 36   |#define         MAXDEVICES              2
                            20219 ; 37   |//#define       NUMCACHES               8  // this is already in fsproj.h (2 for player 2 
                                  for mtp as of 28jun2005) TOVERIFY 2 ok for player and mtp. 
                            20220 ; 38   |
                            20221 ; 39   |// NOTE:  This offset is the same no matter what the sector actual size!  
                            20222 ; 40   |//        TOVERIFY 3.0 doesn't have this defined but uses it in filesystempresent.c. lbmlc
                                   def'd it here so I insert it here.
                            20223 ; 41   |#define         FATFS_SIGNATURE_OFFSET  510
                            20224 ; 42   |#define         BOOTSECTOR              0
                            20225 ; 43   |#define     FSINFOSECTOR        1
                            20226 ; 44   |
                            20227 ; 45   |#define     READ_MODE           1
                            20228 ; 46   |#define     WRITE_MODE          2
                            20229 ; 47   |#define     APPEND_MODE         4
                            20230 ; 48   |#define     SEQ_WRITE_MODE      8
                            20231 ; 49   |#define     DIRECTORY_MODE         16
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 336

M:ADDR CODE           CYCLES LINE SOURCELINE
                            20232 ; 50   |#define     CREATE_MODE        32
                            20233 ; 51   |
                            20234 ; 52   |#define     RPLUS               5
                            20235 ; 53   |#define     WPLUS                   6
                            20236 ; 54   |#define     APLUS               7
                            20237 ; 55   |
                            20238 ; 56   |
                            20239 ; 57   |
                            20240 ; 58   |#define     X_MEMORY            0
                            20241 ; 59   |#define     Y_MEMORY            2
                            20242 ; 60   |#define     P_MEMORY            4
                            20243 ; 61   |
                            20244 ; 62   |#define     FAT12               0 
                            20245 ; 63   |#define     FAT16               1   
                            20246 ; 64   |#define     FAT32               2 
                            20247 ; 65   |
                            20248 ; 66   |
                            20249 ; 67   |#define FAT12EOF            0x0FFF
                            20250 ; 68   |#define FAT16EOF            0xFFFF
                            20251 ; 69   |#define FAT32EOF            0x0FFFFFFF
                            20252 ; 70   |
                            20253 ; 71   |
                            20254 ; 72   |
                            20255 ; 73   |#define FAT12FREECX         0x000
                            20256 ; 74   |#define FAT16FREECX         0x0000
                            20257 ; 75   |#define FAT32FREECX         0x00000000
                            20258 ; 76   |
                            20259 ; 77   |
                            20260 ; 78   |#define  DBCS               1
                            20261 ; 79   |#define  UNICODE            2
                            20262 ; 80   |
                            20263 ; 81   |
                            20264 ; 82   |#define     CREATION_DATE       1
                            20265 ; 83   |#define     CREATION_TIME       2
                            20266 ; 84   |#define     MODIFICATION_DATE   3
                            20267 ; 85   |#define     MODIFICATION_TIME   4
                            20268 ; 86   |
                            20269 ; 87   |
                            20270 ; 88   |#define     READ_ONLY      0X01
                            20271 ; 89   |#define     HIDDEN         0X02
                            20272 ; 90   |#define     SYSTEM         0X04
                            20273 ; 91   |#define     VOLUME_ID      0X08
                            20274 ; 92   |#define     DIRECTORY      0X10
                            20275 ; 93   |#define     ARCHIVE        0X20
                            20276 ; 94   |
                            20277 ; 95   |#define READCOUNTER         105
                            20278 ; 96   |#define WRITECOUNTER        100
                            20279 ; 97   |#define FLUSHCOUNTER        200
                            20280 ; 98   |
                            20281 ; 99   |
                            20282 ; 100  |#define DEFAULT_MEMORY      Y_MEMORY
                            20283 ; 101  |
                            20284 ; 102  |#define  CWD_HANDLE           0
                            20285 ; 103  |#define  DIRECTORY_HANDLE     1
                            20286 ; 104  |#define  FIRST_VALID_HANDLE   2
                            20287 ; 105  |#define  END_OF_DIR_PATH      3
                            20288 ; 106  |
                            20289 ; 107  |//Constants for Sector read and write (Normal and FAT 
                            20290 ; 108  |#define         NORMALTYPE              0
                            20291 ; 109  |#define         FATTYPE                 1
                            20292 ; 110  |#define     RAWTYPE         2
                            20293 ; 111  |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 337

M:ADDR CODE           CYCLES LINE SOURCELINE
                            20294 ; 112  |#define  SHORTNAMERES_CH      6
                            20295 ; 113  |#define  LONGNAMERES_CH       9
                            20296 ; 114  |#define  MAXFILENAME_CH       260
                            20297 ; 115  |
                            20298 ; 116  |#define VOLUME_TYPE          0
                            20299 ; 117  |#define DIR_TYPE             1
                            20300 ; 118  |#define FILE_TYPE            2
                            20301 ; 119  |                                           
                            20302 ; 120  |#define WRITE_TYPE_RANDOM               0
                            20303 ; 121  |#define WRITE_TYPE_SEQ_FIRST    1
                            20304 ; 122  |#define WRITE_TYPE_SEQ_NEXT             2
                            20305 ; 123  |#define WRITE_TYPE_NOREADBACK   3
                            20306 ; 124  |                  
                            20307 ; 125  |
                            20308 ; 126  |#define     HANDLEENTRYSIZE         19
                            20309 ; 127  |
                            20310 ; 128  |// DEVICERECORDSIZE is now only defined in cachedef.h so deleted from here in first 3.1 pr
                                  elim 
                            20311 ; 129  |
                            20312 ; 130  |#define     CACHEDESCRSIZE          8
                            20313 ; 131  |#define     CACHEBUFSIZE            705
                            20314 ; 132  |
                            20315 ; 133  |#define     UCS2s                     0
                            20316 ; 134  |#define     UCS3s                     1
                            20317 ; 135  |
                            20318 ; 136  |#define     FAT32FSIFREECOUNTSIZE       4
                            20319 ; 137  |
                            20320 ; 138  |#endif // _FS_TYPE_H_
                            20321 ; 139  |
                            20322 
                            20324 
                            20325 ; 4    |#define MAX_FILESNAME   13
                            20326 ; 5    |
                            20327 ; 6    |typedef struct {
                            20328 ; 7    |    INT     gCurrentRecord;
                            20329 ; 8    |    INT     DirAttribute;
                            20330 ; 9    |    _packed char    FileName[9];
                            20331 ; 10   |    _packed char    FileExtension[4];
                            20332 ; 11   |}FILESPEC;
                            20333 ; 12   |
                            20334 ; 13   |typedef struct {
                            20335 ; 14   |    INT attrib;
                            20336 ; 15   |        LONG FileSize;
                            20337 ; 16   |    int  device;
                            20338 ; 17   |    INT startrecord;
                            20339 ; 18   |    _packed char name[MAX_FILESNAME];
                            20340 ; 19   |        LONG Key;
                            20341 ; 20   |}Finddata;
                            20342 ; 21   |#endif
                            20343 ; 22   |
                            20344 
                            20346 
                            20347 ; 4    |extern _reentrant LONG Ftell(INT HandleNumber);
                            20348 ; 5    |extern _reentrant LONG Feof(INT HandleNumber);
                            20349 ; 6    |extern _reentrant INT *Fputs(INT HandleNumber,INT *Buffer);
                            20350 ; 7    |extern _reentrant LONG Fread(INT HandleNumber,INT *Buffer,LONG NumBytesToRead,INT Source_M
                                  emory,INT MOdulo);
                            20351 ; 8    |extern _reentrant INT Fgetc(INT HandleNumber);
                            20352 ; 9    |extern _reentrant INT Fputc(INT HandleNumber,INT ByteToWrite);
                            20353 ; 10   |extern _reentrant LONG ReadDirectoryRecord(INT HandleNumber,INT RecordNumber,INT *Buffer);
                                  
                            20354 ; 11   |extern _reentrant INT Fseek(INT HandleNumber,LONG NumBytesToSeek,INT SeekPosition);
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 338

M:ADDR CODE           CYCLES LINE SOURCELINE
                            20355 ; 12   |extern _reentrant INT Fopen(_packed char *filepath,_packed char *mode);
                            20356 ; 13   |extern _reentrant LONG Fwrite(INT HandleNumber,INT  *Buffer,LONG NumBytesToWrite,INT Sourc
                                  e_Memory,INT MOdulo);
                            20357 ; 14   |extern _reentrant LONG Totalfreecluster(INT DeviceNum);
                            20358 ; 15   |extern _reentrant INT Rmdir(_packed char *filepath);
                            20359 ; 16   |extern _reentrant INT Rmdirw(_packed char *filepath);
                            20360 ; 17   |extern _reentrant INT Mkdir(_packed char *filepath);
                            20361 ; 18   |
                            20362 ; 19   |        //      SGTL-HK 27-05-2005
                            20363 ; 20   |extern _reentrant INT Mkdirw(UCS3 *filepath);
                            20364 ; 21   |
                            20365 ; 22   |extern _reentrant INT Chdir(_packed char *filepath);
                            20366 ; 23   |extern _reentrant INT FastOpen(LONG Key,_packed char *mode);
                            20367 ; 24   |
                            20368 ; 25   |extern _reentrant INT Setcwd(_packed char *filepath, _packed char *gCworkingDir,INT index,
                                  INT length);
                            20369 ; 26   |extern _reentrant _packed char *Getcwd(void);
                            20370 ; 27   |extern  _reentrant _packed char *Fgets(INT HandleNumber,INT NumBytesToRead, _packed char *
                                  Buffer);
                            20371 ; 28   |extern INT  FSInit(INT _X *bufx, INT _Y *bufy, INT maxdevices, INT maxhandles, INT maxcach
                                  es);
                            20372 ; 29   |extern INT  FlushCache(void);
                            20373 ; 30   |extern _reentrant INT FsShutDown(void);
                            20374 ; 31   |extern _reentrant LONG GetFileSize(INT HandleNumber);
                            20375 ; 32   |
                            20376 ; 33   |extern _reentrant INT filegetattrib(_packed char *FilePath);
                            20377 ; 34   |extern _reentrant INT Fopenw(INT *filepath,_packed char *mode);
                            20378 ; 35   |extern _reentrant INT Fremove(_packed char *filepath);
                            20379 ; 36   |extern _reentrant INT Fremovew(_packed char *filepath);
                            20380 ; 37   |extern _reentrant void DBCSToUnicode(_packed unsigned char *pDBCS, WORD *pUnicode,INT iLen
                                  gth);
                            20381 ; 38   |extern INT FlushCache(void);
                            20382 ; 39   |extern _reentrant INT DeleteTree(_packed char *Path);
                            20383 ; 40   |extern _reentrant INT Fclose(INT HandleNumber);
                            20384 ; 41   |extern INT FSMediaPresent(INT DeviceNum);
                            20385 ; 42   |extern INT FSFATType (INT DeviceNum);
                            20386 ; 43   |extern  INT _reentrant  GetVolumeLabel(_packed char *Buffer,INT DeviceNum);
                            20387 ; 44   |extern _reentrant INT SetVolumeLabel(_packed char *Buffer,INT DeviceNum);
                            20388 ; 45   |extern _reentrant LONG FgetFastHandle(INT HandleNumber);
                            20389 ; 46   |
                            20390 ; 47   |extern _reentrant INT ConstructLongFileName(INT HandleNumber, INT RecordNumber, INT *LFNBu
                                  ffer);
                            20391 ; 48   |extern _reentrant void Uppercase(_packed char *file); 
                            20392 ; 49   |extern _reentrant INT FindNext(INT HandleNumber,Finddata *_finddata);
                            20393 
                            20403 
                            20404 ; 50   |extern _reentrant INT FindFirst(Finddata *_finddata,_packed char *FileName);
                            20405 ; 51   |extern _reentrant void ClearData(Finddata *_finddata);
                            20406 ; 52   |extern _reentrant INT GetShortfilename(LONG Key,INT *Buffer);
                            20407 ; 53   |
                            20408 ; 54   |
                            20409 ; 55   |
                            20410 ; 56   |
                            20411 ; 57   |typedef struct
                            20412 ; 58   |{
                            20413 ; 59   |
                            20414 ; 60   |INT             Day;
                            20415 ; 61   |INT             Month;
                            20416 ; 62   |INT             Year;
                            20417 ; 63   |}DIR_DATE;
                            20418 ; 64   |
                            20419 ; 65   |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 339

M:ADDR CODE           CYCLES LINE SOURCELINE
                            20420 ; 66   |typedef struct
                            20421 ; 67   |{
                            20422 ; 68   |
                            20423 ; 69   |INT             Second;
                            20424 ; 70   |INT             Minute;
                            20425 ; 71   |INT             Hour;
                            20426 ; 72   |}DIR_TIME;
                            20427 ; 73   |
                            20428 ; 74   |
                            20429 ; 75   |typedef struct
                            20430 ; 76   |{
                            20431 ; 77   |LONG CurrentOffset;     
                            20432 ; 78   |LONG CurrentCluster;
                            20433 ; 79   |}HANDLECONTEXT;
                            20434 ; 80   |
                            20435 ; 81   |extern _reentrant INT filesetattrib(INT HandleNumber,INT dirattribute);
                            20436 ; 82   |extern _reentrant INT filesetdate(_packed char *FilePath,INT crt_mod_date_time_para,DIR_DA
                                  TE *dirdate,DIR_TIME *dirtime);
                            20437 
                            20448 
                            20449 ; 83   |extern _reentrant INT filegetdate(INT HandleNumber,INT crt_mod_date_time_para,DIR_DATE *di
                                  rdate,DIR_TIME *dirtime);
                            20450 ; 84   |#endif
                            20451 
                            20453 
                            20454 ; 29   |#include "fstypes.h"
                            20455 
                            20457 
                            20458 ; 1    |#ifndef _FS_TYPE_H_
                            20459 ; 2    |#define _FS_TYPE_H_
                            20460 ; 3    |
                            20461 ; 4    |#include   "types.h"
                            20462 ; 5    |
                            20463 ; 6    |// move FSMEDIA_TABLE from devicetable.h  15Apr2005   First moved in SDK2.6.
                            20464 ; 7    |typedef struct
                            20465 ; 8    |{
                            20466 ; 9    |
                            20467 ; 10   |INT     _Y BytesPerSector;
                            20468 ; 11   |INT     _Y SectorsPerCluster;
                            20469 ; 12   |INT     _Y RsvdSectors;
                            20470 ; 13   |INT     _Y NoOfFATs;
                            20471 ; 14   |INT     _Y MaxRootDirEntries;
                            20472 ; 15   |LONG    _Y TotalSectors;
                            20473 ; 16   |LONG    _Y FATSize;
                            20474 ; 17   |LONG    _Y RootdirCluster;
                            20475 ; 18   |//INT   _Y FSInfoSector;
                            20476 ; 19   |//INT   _Y BkBootSector;
                            20477 ; 20   |LONG    _Y NextFreeCluster;
                            20478 ; 21   |LONG    _Y TotalFreeClusters;
                            20479 ; 22   |INT     _Y RootDirSectors;
                            20480 ; 23   |INT     _Y FIRSTDataSector;
                            20481 ; 24   |INT    _Y FATType;
                            20482 ; 25   |LONG   _Y TotalNoofclusters;
                            20483 ; 26   |INT    _Y ClusterMask;
                            20484 ; 27   |INT    _Y ClusterShift;
                            20485 ; 28   |INT    _Y SectorShift;
                            20486 ; 29   |INT    _Y SectorMask;
                            20487 ; 30   |INT    _Y DevicePresent;
                            20488 ; 31   |LONG   _Y FirRootdirsec;
                            20489 ; 32   |INT             _Y FSInfoSector;
                            20490 ; 33   |}FSMEDIA_TABLE;
                            20491 ; 34   |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 340

M:ADDR CODE           CYCLES LINE SOURCELINE
                            20492 ; 35   |
                            20493 ; 36   |#define         MAXDEVICES              2
                            20494 ; 37   |//#define       NUMCACHES               8  // this is already in fsproj.h (2 for player 2 
                                  for mtp as of 28jun2005) TOVERIFY 2 ok for player and mtp. 
                            20495 ; 38   |
                            20496 ; 39   |// NOTE:  This offset is the same no matter what the sector actual size!  
                            20497 ; 40   |//        TOVERIFY 3.0 doesn't have this defined but uses it in filesystempresent.c. lbmlc
                                   def'd it here so I insert it here.
                            20498 ; 41   |#define         FATFS_SIGNATURE_OFFSET  510
                            20499 ; 42   |#define         BOOTSECTOR              0
                            20500 ; 43   |#define     FSINFOSECTOR        1
                            20501 ; 44   |
                            20502 ; 45   |#define     READ_MODE           1
                            20503 ; 46   |#define     WRITE_MODE          2
                            20504 ; 47   |#define     APPEND_MODE         4
                            20505 ; 48   |#define     SEQ_WRITE_MODE      8
                            20506 ; 49   |#define     DIRECTORY_MODE         16
                            20507 ; 50   |#define     CREATE_MODE        32
                            20508 ; 51   |
                            20509 ; 52   |#define     RPLUS               5
                            20510 ; 53   |#define     WPLUS                   6
                            20511 ; 54   |#define     APLUS               7
                            20512 ; 55   |
                            20513 ; 56   |
                            20514 ; 57   |
                            20515 ; 58   |#define     X_MEMORY            0
                            20516 ; 59   |#define     Y_MEMORY            2
                            20517 ; 60   |#define     P_MEMORY            4
                            20518 ; 61   |
                            20519 ; 62   |#define     FAT12               0 
                            20520 ; 63   |#define     FAT16               1   
                            20521 ; 64   |#define     FAT32               2 
                            20522 ; 65   |
                            20523 ; 66   |
                            20524 ; 67   |#define FAT12EOF            0x0FFF
                            20525 ; 68   |#define FAT16EOF            0xFFFF
                            20526 ; 69   |#define FAT32EOF            0x0FFFFFFF
                            20527 ; 70   |
                            20528 ; 71   |
                            20529 ; 72   |
                            20530 ; 73   |#define FAT12FREECX         0x000
                            20531 ; 74   |#define FAT16FREECX         0x0000
                            20532 ; 75   |#define FAT32FREECX         0x00000000
                            20533 ; 76   |
                            20534 ; 77   |
                            20535 ; 78   |#define  DBCS               1
                            20536 ; 79   |#define  UNICODE            2
                            20537 ; 80   |
                            20538 ; 81   |
                            20539 ; 82   |#define     CREATION_DATE       1
                            20540 ; 83   |#define     CREATION_TIME       2
                            20541 ; 84   |#define     MODIFICATION_DATE   3
                            20542 ; 85   |#define     MODIFICATION_TIME   4
                            20543 ; 86   |
                            20544 ; 87   |
                            20545 ; 88   |#define     READ_ONLY      0X01
                            20546 ; 89   |#define     HIDDEN         0X02
                            20547 ; 90   |#define     SYSTEM         0X04
                            20548 ; 91   |#define     VOLUME_ID      0X08
                            20549 ; 92   |#define     DIRECTORY      0X10
                            20550 ; 93   |#define     ARCHIVE        0X20
                            20551 ; 94   |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 341

M:ADDR CODE           CYCLES LINE SOURCELINE
                            20552 ; 95   |#define READCOUNTER         105
                            20553 ; 96   |#define WRITECOUNTER        100
                            20554 ; 97   |#define FLUSHCOUNTER        200
                            20555 ; 98   |
                            20556 ; 99   |
                            20557 ; 100  |#define DEFAULT_MEMORY      Y_MEMORY
                            20558 ; 101  |
                            20559 ; 102  |#define  CWD_HANDLE           0
                            20560 ; 103  |#define  DIRECTORY_HANDLE     1
                            20561 ; 104  |#define  FIRST_VALID_HANDLE   2
                            20562 ; 105  |#define  END_OF_DIR_PATH      3
                            20563 ; 106  |
                            20564 ; 107  |//Constants for Sector read and write (Normal and FAT 
                            20565 ; 108  |#define         NORMALTYPE              0
                            20566 ; 109  |#define         FATTYPE                 1
                            20567 ; 110  |#define     RAWTYPE         2
                            20568 ; 111  |
                            20569 ; 112  |#define  SHORTNAMERES_CH      6
                            20570 ; 113  |#define  LONGNAMERES_CH       9
                            20571 ; 114  |#define  MAXFILENAME_CH       260
                            20572 ; 115  |
                            20573 ; 116  |#define VOLUME_TYPE          0
                            20574 ; 117  |#define DIR_TYPE             1
                            20575 ; 118  |#define FILE_TYPE            2
                            20576 ; 119  |                                           
                            20577 ; 120  |#define WRITE_TYPE_RANDOM               0
                            20578 ; 121  |#define WRITE_TYPE_SEQ_FIRST    1
                            20579 ; 122  |#define WRITE_TYPE_SEQ_NEXT             2
                            20580 ; 123  |#define WRITE_TYPE_NOREADBACK   3
                            20581 ; 124  |                  
                            20582 ; 125  |
                            20583 ; 126  |#define     HANDLEENTRYSIZE         19
                            20584 ; 127  |
                            20585 ; 128  |// DEVICERECORDSIZE is now only defined in cachedef.h so deleted from here in first 3.1 pr
                                  elim 
                            20586 ; 129  |
                            20587 ; 130  |#define     CACHEDESCRSIZE          8
                            20588 ; 131  |#define     CACHEBUFSIZE            705
                            20589 ; 132  |
                            20590 ; 133  |#define     UCS2s                     0
                            20591 ; 134  |#define     UCS3s                     1
                            20592 ; 135  |
                            20593 ; 136  |#define     FAT32FSIFREECOUNTSIZE       4
                            20594 ; 137  |
                            20595 ; 138  |#endif // _FS_TYPE_H_
                            20596 ; 139  |
                            20597 
                            20599 
                            20600 ; 30   |#include "playlist3.h"
                            20601 
                            20603 
                            20604 ; 1    |#ifndef _PLAYLIST3_H
                            20605 ; 2    |#define _PLAYLIST3_H
                            20606 ; 3    |#include "playlist.h"
                            20607 
                            20609 
                            20610 ; 1    |#ifndef PLAYLIST_H
                            20611 ; 2    |#define PLAYLIST_H
                            20612 ; 3    |
                            20613 ; 4    |#include "types.h"
                            20614 
                            20616 
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 342

M:ADDR CODE           CYCLES LINE SOURCELINE
                            20617 ; 1    |////////////////////////////////////////////////////////////////////////////////
                            20618 ; 2    |// Copyright(C) SigmaTel, Inc. 2000-2004
                            20619 ; 3    |//
                            20620 ; 4    |// Filename: types.h
                            20621 ; 5    |// Description: Standard data types
                            20622 ; 6    |////////////////////////////////////////////////////////////////////////////////
                            20623 ; 7    |
                            20624 ; 8    |#ifndef _TYPES_H
                            20625 ; 9    |#define _TYPES_H
                            20626 ; 10   |
                            20627 ; 11   |// TODO:  move this outta here!
                            20628 ; 12   |#if !defined(NOERROR)
                            20629 ; 13   |#define NOERROR 0
                            20630 ; 14   |#define SUCCESS 0
                            20631 ; 15   |#endif 
                            20632 ; 16   |#if !defined(SUCCESS)
                            20633 ; 17   |#define SUCCESS  0
                            20634 ; 18   |#endif
                            20635 ; 19   |#if !defined(ERROR)
                            20636 ; 20   |#define ERROR   -1
                            20637 ; 21   |#endif
                            20638 ; 22   |#if !defined(FALSE)
                            20639 ; 23   |#define FALSE 0
                            20640 ; 24   |#endif
                            20641 ; 25   |#if !defined(TRUE)
                            20642 ; 26   |#define TRUE  1
                            20643 ; 27   |#endif
                            20644 ; 28   |
                            20645 ; 29   |#if !defined(NULL)
                            20646 ; 30   |#define NULL 0
                            20647 ; 31   |#endif
                            20648 ; 32   |
                            20649 ; 33   |#define MAX_INT     0x7FFFFF
                            20650 ; 34   |#define MAX_LONG    0x7FFFFFffffff
                            20651 ; 35   |        // max positive unsigned long value: -1 == 0xFFFFFFffffff
                            20652 ; 36   |#define MAX_ULONG   (-1) 
                            20653 ; 37   |
                            20654 ; 38   |#define WORD_SIZE   24              // word size in bits
                            20655 ; 39   |#define BYTES_PER_WORD 3            // 8 bit bytes
                            20656 ; 40   |
                            20657 ; 41   |
                            20658 ; 42   |#define BYTE    unsigned char       // btVarName
                            20659 ; 43   |#define CHAR    signed char         // cVarName
                            20660 ; 44   |#define USHORT  unsigned short      // usVarName
                            20661 ; 45   |#define SHORT   unsigned short      // sVarName
                            20662 ; 46   |#define WORD    unsigned int        // wVarName
                            20663 ; 47   |#define INT     signed int          // iVarName
                            20664 ; 48   |#define DWORD   unsigned long       // dwVarName
                            20665 ; 49   |#define LONG    signed long         // lVarName
                            20666 ; 50   |#define BOOL    unsigned int        // bVarName
                            20667 ; 51   |#define FRACT   _fract              // frVarName
                            20668 ; 52   |#define LFRACT  long _fract         // lfrVarName
                            20669 ; 53   |#define CIRC    _circ               // cp<type prefix>VarName (see below)
                            20670 ; 54   |#define FLOAT   float               // fVarName
                            20671 ; 55   |#define DBL     double              // dVarName
                            20672 ; 56   |#define ENUM    enum                // eVarName
                            20673 ; 57   |#define CMX     _complex            // cmxVarName
                            20674 ; 58   |typedef WORD UCS3;                   // 
                            20675 ; 59   |
                            20676 ; 60   |#define UINT16  unsigned short
                            20677 ; 61   |#define UINT8   unsigned char   
                            20678 ; 62   |#define UINT32  unsigned long
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 343

M:ADDR CODE           CYCLES LINE SOURCELINE
                            20679 ; 63   |#define UINT64  unsigned long   // need to figure out how to do 64 bit values.  Or port ex
                                  isiting code to only use 48 bit
                            20680 ; 64   |#define INT64   unsigned long   // need to figure out how to do 64 bit values.  Or port ex
                                  isiting code to only use 48 bit
                            20681 ; 65   |#define WCHAR   UINT16
                            20682 ; 66   |
                            20683 ; 67   |//UINT128 is 16 bytes or 6 words
                            20684 ; 68   |typedef struct UINT128_3500 {   
                            20685 ; 69   |    int val[6];     
                            20686 ; 70   |} UINT128_3500;
                            20687 ; 71   |
                            20688 ; 72   |#define UINT128   UINT128_3500
                            20689 ; 73   |
                            20690 ; 74   |// Little endian word packed byte strings:   
                            20691 ; 75   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                            20692 ; 76   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                            20693 ; 77   |// Little endian word packed byte strings:   
                            20694 ; 78   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                            20695 ; 79   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                            20696 ; 80   |
                            20697 ; 81   |// Declare Memory Spaces To Use When Coding
                            20698 ; 82   |// A. Sector Buffers
                            20699 ; 83   |#define SECTOR_BUFFER_MEM_X _X
                            20700 ; 84   |#define SECTOR_BUFFER_MEM_Y _Y
                            20701 ; 85   |#define SECTOR_BUFFER_MEM SECTOR_BUFFER_MEM_X
                            20702 ; 86   |typedef WORD SECTOR_BUFFER_MEM SECTOR_BUFFER;
                            20703 ; 87   |typedef SECTOR_BUFFER * P_SECTOR_BUFFER;
                            20704 ; 88   |// B. Media DDI Memory
                            20705 ; 89   |#define MEDIA_DDI_MEM _Y
                            20706 ; 90   |
                            20707 ; 91   |
                            20708 ; 92   |
                            20709 ; 93   |// Pointers to linear structures are labeled as: p<type prefix>VarName
                            20710 ; 94   |// Examples of circular pointers:
                            20711 ; 95   |//    INT CIRC cpiVarName
                            20712 ; 96   |//    DWORD CIRC cpdwVarName
                            20713 ; 97   |
                            20714 ; 98   |#define RETCODE INT                 // rcVarName
                            20715 ; 99   |
                            20716 ; 100  |// generic bitfield structure
                            20717 ; 101  |struct Bitfield {
                            20718 ; 102  |    unsigned int B0  :1;
                            20719 ; 103  |    unsigned int B1  :1;
                            20720 ; 104  |    unsigned int B2  :1;
                            20721 ; 105  |    unsigned int B3  :1;
                            20722 ; 106  |    unsigned int B4  :1;
                            20723 ; 107  |    unsigned int B5  :1;
                            20724 ; 108  |    unsigned int B6  :1;
                            20725 ; 109  |    unsigned int B7  :1;
                            20726 ; 110  |    unsigned int B8  :1;
                            20727 ; 111  |    unsigned int B9  :1;
                            20728 ; 112  |    unsigned int B10 :1;
                            20729 ; 113  |    unsigned int B11 :1;
                            20730 ; 114  |    unsigned int B12 :1;
                            20731 ; 115  |    unsigned int B13 :1;
                            20732 ; 116  |    unsigned int B14 :1;
                            20733 ; 117  |    unsigned int B15 :1;
                            20734 ; 118  |    unsigned int B16 :1;
                            20735 ; 119  |    unsigned int B17 :1;
                            20736 ; 120  |    unsigned int B18 :1;
                            20737 ; 121  |    unsigned int B19 :1;
                            20738 ; 122  |    unsigned int B20 :1;
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 344

M:ADDR CODE           CYCLES LINE SOURCELINE
                            20739 ; 123  |    unsigned int B21 :1;
                            20740 ; 124  |    unsigned int B22 :1;
                            20741 ; 125  |    unsigned int B23 :1;
                            20742 ; 126  |};
                            20743 ; 127  |
                            20744 ; 128  |union BitInt {
                            20745 ; 129  |        struct Bitfield B;
                            20746 ; 130  |        int        I;
                            20747 ; 131  |};
                            20748 ; 132  |
                            20749 ; 133  |#define MAX_MSG_LENGTH 10
                            20750 ; 134  |struct CMessage
                            20751 ; 135  |{
                            20752 ; 136  |        unsigned int m_uLength;
                            20753 ; 137  |        unsigned int m_uMsg[MAX_MSG_LENGTH];
                            20754 ; 138  |};
                            20755 ; 139  |
                            20756 ; 140  |typedef struct {
                            20757 ; 141  |    WORD m_wLength;
                            20758 ; 142  |    WORD m_wMessage;
                            20759 ; 143  |    WORD m_wParams[MAX_MSG_LENGTH];
                            20760 ; 144  |} Message;
                            20761 ; 145  |
                            20762 ; 146  |struct MessageQueueDescriptor
                            20763 ; 147  |{
                            20764 ; 148  |        int *m_pBase;
                            20765 ; 149  |        int m_iModulo;
                            20766 ; 150  |        int m_iSize;
                            20767 ; 151  |        int *m_pHead;
                            20768 ; 152  |        int *m_pTail;
                            20769 ; 153  |};
                            20770 ; 154  |
                            20771 ; 155  |struct ModuleEntry
                            20772 ; 156  |{
                            20773 ; 157  |    int m_iSignaledEventMask;
                            20774 ; 158  |    int m_iWaitEventMask;
                            20775 ; 159  |    int m_iResourceOfCode;
                            20776 ; 160  |    struct MessageQueueDescriptor *m_pMessageQueue;
                            20777 ; 161  |    int _asmfunc (*m_pProcessEntryPoint)(union WaitMask Signals,struct MessageQueueDescrip
                                  tor *);
                            20778 ; 162  |    int _asmfunc (*m_pInitFunction)(struct MessageQueueDescriptor *);
                            20779 ; 163  |    int m_uTimeOutHigh;
                            20780 ; 164  |    int m_uTimeOutLow;
                            20781 ; 165  |    int _asmfunc (*m_pBackgroundFunction)(struct MessageQueueDescriptor *);
                            20782 ; 166  |};
                            20783 ; 167  |
                            20784 ; 168  |union WaitMask{
                            20785 ; 169  |    struct B{
                            20786 ; 170  |        unsigned int m_bNone     :1;
                            20787 ; 171  |        unsigned int m_bMessage  :1;
                            20788 ; 172  |        unsigned int m_bTimer    :1;
                            20789 ; 173  |        unsigned int m_bButton   :1;
                            20790 ; 174  |    } B;
                            20791 ; 175  |    int I;
                            20792 ; 176  |} ;
                            20793 ; 177  |
                            20794 ; 178  |
                            20795 ; 179  |struct Button {
                            20796 ; 180  |        WORD wButtonEvent;
                            20797 ; 181  |        WORD wUnused[MAX_MSG_LENGTH];   
                            20798 ; 182  |};
                            20799 ; 183  |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 345

M:ADDR CODE           CYCLES LINE SOURCELINE
                            20800 ; 184  |struct Message {
                            20801 ; 185  |        WORD wMsgLength;
                            20802 ; 186  |        WORD wMsgCommand;
                            20803 ; 187  |        WORD wMsgParms[MAX_MSG_LENGTH-1];
                            20804 ; 188  |};
                            20805 ; 189  |
                            20806 ; 190  |union EventTypes {
                            20807 ; 191  |        struct CMessage msg;
                            20808 ; 192  |        struct Button Button ;
                            20809 ; 193  |        struct Message Message;
                            20810 ; 194  |};
                            20811 ; 195  |
                            20812 ; 196  |// next 2 used to get updater build to return correct protocol ver in scsi response.
                            20813 ; 197  |#define BUILD_TYPE_UPDATER  0x100
                            20814 ; 198  |#define BUILD_TYPE_HOSTLINK 0x101
                            20815 ; 199  |#define BUILD_TYPE_PLAYER   0x102
                            20816 ; 200  |
                            20817 ; 201  |// Resets part if RETAIL build. DEBUG build executes debug instruction to halt.
                            20818 ; 202  |#define SystemHalt() __asm(" include 'sysmacro.asm' \n error") 
                            20819 ; 203  |#define assert(x)    if(!(x)) __asm(" include 'sysmacro.asm' \n error")
                            20820 ; 204  |
                            20821 ; 205  |#if DEBUG
                            20822 ; 206  |// For DEBUG builds, DebugBuildAssert(condition) halts if condition evaluates to FALSE. 
                            20823 ; 207  |#define DebugBuildAssert(x)    if(!(x)) __asm(" debug ")
                            20824 ; 208  |#else 
                            20825 ; 209  |// For RETAIL builds, DebugBuildAssert(condition) does nothing & execution continues rathe
                                  r than halt or reset. 
                            20826 ; 210  |#define DebugBuildAssert(x)    
                            20827 ; 211  |#endif
                            20828 ; 212  |
                            20829 ; 213  |// Do this in your C files to make a reminder that's displayed during the build.
                            20830 ; 214  |//  #pragma asm
                            20831 ; 215  |//  WARN 'Note to builder: reminder to do this after verifying that'
                            20832 ; 216  |//  #pragma endasm
                            20833 ; 217  |
                            20834 ; 218  |
                            20835 ; 219  |#ifdef COLOR_262K
                            20836 ; 220  |#define RGB(r,g,b)    ((0x0000FC & (r)) << 10) | ((0x0000FC & (g)) << 4) | ((0x0000FC & (b
                                  )) >> 2)    //262k
                            20837 ; 221  |#elif defined(COLOR_65K)
                            20838 ; 222  |#define RGB(r,g,b)    ((0x0000F8 & (r)) << 8) | ((0x0000FC & (g)) << 3) | ((0x0000F8 & (b)
                                  ) >> 3)  //65k
                            20839 ; 223  |#else
                            20840 ; 224  |#define RGB(r,g,b)       ((0x0000F0 & (r)) << 4) | (0x0000F0 & (g)) | ((0x0000F0 & (b)) >>
                                   4)
                            20841 ; 225  |#endif
                            20842 ; 226  |    
                            20843 ; 227  |#endif // #ifndef _TYPES_H
                            20844 
                            20846 
                            20847 ; 5    |
                            20848 ; 6    |typedef struct {
                            20849 ; 7    |    WORD    m_wTrack;                       
                            20850 ; 8    |    WORD    m_wDeviceID;
                            20851 ; 9    |    WORD    m_wBufferLength;            //this is in BYTES, not WORDS!
                            20852 ; 10   |    _packed BYTE *m_pFilename;
                            20853 ; 11   |} SONGFILEINFO;
                            20854 ; 12   |
                            20855 ; 13   |#define PLAYLIST_SUCCESS                                0
                            20856 ; 14   |#define PLAYLIST_FILE_ERROR                             1
                            20857 ; 15   |#define PLAYLIST_END_OF_LIST                    2
                            20858 ; 16   |#define PLAYLIST_TRACK_NOT_FOUND                3
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 346

M:ADDR CODE           CYCLES LINE SOURCELINE
                            20859 ; 17   |#define PLAYLIST_DIR_NOT_EMPTY          4 
                            20860 ; 18   |#define PLAYLIST_REBUILD                5
                            20861 ; 19   |#define PLAYLIST_LAST_RETCODE                   5               //The value should always 
                                  be the same as the last RETCODE
                            20862 ; 20   |
                            20863 ; 21   |
                            20864 ; 22   |#ifdef  USE_PLAYLIST1
                            20865 ; 23   |RETCODE ChangeDIRtoFileEntryDir(struct FileEntry *pCurrentEntry, _packed BYTE * buffer);
                            20866 ; 24   |#endif
                            20867 ; 25   |RETCODE _reentrant Playlist_LFNGetFileName(int,int,UCS3*);                      //UCS3 is 
                                  actually typdef WORD
                            20868 ; 26   |RETCODE _reentrant Playlist_MarkCurrentSongPlayed(int,int,int*);
                            20869 ; 27   |RETCODE _reentrant Playlist_GetCurrentSongFileInfo(int, int, int*);
                            20870 ; 28   |RETCODE _reentrant Playlist_GetNextSongFileInfo(int, int , int*);
                            20871 ; 29   |RETCODE _reentrant Playlist_GetPreviousSongFileInfo(int,int,int*);
                            20872 ; 30   |#ifdef USE_PLAYLIST1
                            20873 ; 31   |_reentrant INT Playlist_LocateEntryFromName(INT,INT,INT*);
                            20874 ; 32   |#endif
                            20875 ; 33   |
                            20876 ; 34   |#endif 
                            20877 
                            20879 
                            20880 ; 4    |#include "playlist3internal.h"
                            20881 
                            20883 
                            20884 ; 1    |#ifndef __PLAYLIST3INTERNAL_H
                            20885 ; 2    |#define __PLAYLIST3INTERNAL_H
                            20886 ; 3    |
                            20887 ; 4    |#include "project.h"
                            20888 
                            20890 
                            20891 ; 1    |/////////////////////////////////////////////////////////////////////////////////
                            20892 ; 2    |//  Copyright(C) SigmaTel, Inc. 2000-2004
                            20893 ; 3    |//  Filename: project.inc
                            20894 ; 4    |//  Description: 
                            20895 ; 5    |/////////////////////////////////////////////////////////////////////////////////
                            20896 ; 6    |
                            20897 ; 7    |#if (!defined(_PROJECT_INC))
                            20898 ; 8    |#define _PROJECT_INC 1
                            20899 ; 9    |
                            20900 ; 10   |#if defined(STMP_BUILD_PLAYER)
                            20901 ; 11   |#include "hwequ.h"
                            20902 ; 12   |#else 
                            20903 ; 13   |//include "regscodec.inc"
                            20904 ; 14   |#endif
                            20905 ; 15   |
                            20906 ; 16   |//////////////////////////////////////////////////////////////////////////////////
                            20907 ; 17   |// Uncomment next define to allow player boot if you have stfm1000 macro enabled (defaults
                                   ON) & 
                            20908 ; 18   |// your board crystal is not able to output nominal voltage range. Used in player main.asm
                                  . STMP00012148
                            20909 ; 19   |// Defining this will result in lower battery life (price of using a lower quality crystal
                                  ). 
                            20910 ; 20   |// Those that want to save battery life and have good crystals that meet our HW team's spe
                                  cs can 
                            20911 ; 21   |// comment out this line to reduce crystal bias current and so battery current in player m
                                  ode.  
                            20912 ; 22   |#define SUPPORT_MARGINAL_XTALS 1
                            20913 ; 23   |
                            20914 ; 24   |/////////////////////////////////////////////////////////////////////////////////
                            20915 ; 25   |// BOOT SPEED CONFIG & ASSOCIATED BATTERY VOLTAGE CHECK ENABLE
                            20916 ; 26   |/////////////////////////////////////////////////////////////////////////////////
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 347

M:ADDR CODE           CYCLES LINE SOURCELINE
                            20917 ; 27   |// Users can enable one of ATTEMPT_FAST_BOOT or FASTEST boot or neither project define bel
                                  ow by defining
                            20918 ; 28   |// values as 0 or 1, else it defaults to the boot speed used in previous SDKs.
                            20919 ; 29   |#define ATTEMPT_FAST_BOOT 1
                            20920 ; 30   |#define ATTEMPT_FASTEST_BOOT 0   
                            20921 ; 31   |// Changing this define to 0 removes Vbat threshholding & unconditionally gives fast boot 
                                  config above- 
                            20922 ; 32   |// disabling this check is suggested for profiling if you want to try to tweak down thresh
                                  holds by maybe 50mV.
                            20923 ; 33   |// Also the tests should clear the fast boot config defines to link & boot at normal speed
                                  .
                            20924 ; 34   |#define SPEED_BOOT_BATTERY_CHECK 1
                            20925 ; 35   |
                            20926 ; 36   |/////////////////////////////////////////////////////////////////////////////////
                            20927 ; 37   |// MEDIA DEFINITIONS
                            20928 ; 38   |/////////////////////////////////////////////////////////////////////////////////
                            20929 ; 39   |
                            20930 ; 40   |/////////////////////////////////////////////////////////////////////////////////
                            20931 ; 41   |// MNAND - Number of chips forming the internal physical device (i.e. # of NANDs)
                            20932 ; 42   |#if defined(NAND1)
                            20933 ; 43   |#define SM_INTERNAL_CHIPS 1
                            20934 ; 44   |#else 
                            20935 ; 45   |#if defined(NAND2)
                            20936 ; 46   |#define SM_INTERNAL_CHIPS 2
                            20937 ; 47   |#else 
                            20938 ; 48   |#if defined(NAND3)
                            20939 ; 49   |#define SM_INTERNAL_CHIPS 3
                            20940 ; 50   |#else 
                            20941 ; 51   |#if defined(NAND4)
                            20942 ; 52   |#define SM_INTERNAL_CHIPS 4
                            20943 ; 53   |#else 
                            20944 ; 54   |#define SM_INTERNAL_CHIPS 1
                            20945 ; 55   |#endif
                            20946 ; 56   |#endif
                            20947 ; 57   |#endif
                            20948 ; 58   |#endif
                            20949 ; 59   |
                            20950 ; 60   |/////////////////////////////////////////////////////////////////////////////////
                            20951 ; 61   |// If SMARTMEDIA_DETECT_ACTIVE_HIGH is defined:
                            20952 ; 62   |//   SmartMedia will be detected as inserted if the GPIO pin reads 1 and removed if it rea
                                  ds 0.  
                            20953 ; 63   |// If SMARTMEDIA_DETECT_ACTIVE_HIGH is not defined ** comment out next line **
                            20954 ; 64   |//   SmartMedia will be detected as inserted if the GPIO pin reads 0 and removed if it rea
                                  ds 1.
                            20955 ; 65   |//*** comment out if active high ****
                            20956 ; 66   |//SMARTMEDIA_DETECT_ACTIVE_HIGH  equ     1
                            20957 ; 67   |
                            20958 ; 68   |#if defined(SMEDIA)
                            20959 ; 69   |#define NUM_REMOVABLE_MEDIA 1
                            20960 ; 70   |#define NUM_SM_EXTERNAL 1
                            20961 ; 71   |#define MMC_MAX_PHYSICAL_DEVICES 0
                            20962 ; 72   |#define SM_MAX_LOGICAL_DEVICES 2
                            20963 ; 73   |#else 
                            20964 ; 74   |#if defined(MMC)
                            20965 ; 75   |#define NUM_REMOVABLE_MEDIA 1
                            20966 ; 76   |#define NUM_SM_EXTERNAL 0
                            20967 ; 77   |#define MMC_MAX_PHYSICAL_DEVICES 1
                            20968 ; 78   |#define SM_MAX_LOGICAL_DEVICES 1
                            20969 ; 79   |#else 
                            20970 ; 80   |#define NUM_REMOVABLE_MEDIA 0
                            20971 ; 81   |#define NUM_SM_EXTERNAL 0
                            20972 ; 82   |#define MMC_MAX_PHYSICAL_DEVICES 0
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 348

M:ADDR CODE           CYCLES LINE SOURCELINE
                            20973 ; 83   |#define SM_MAX_LOGICAL_DEVICES 1
                            20974 ; 84   |#endif
                            20975 ; 85   |#endif
                            20976 ; 86   |
                            20977 ; 87   |/////////////////////////////////////////////////////////////////////////////////
                            20978 ; 88   |// Mass Storage Class definitions
                            20979 ; 89   |/////////////////////////////////////////////////////////////////////////////////
                            20980 ; 90   |// Set to 0 if Composite Device build is desired.    
                            20981 ; 91   |#define MULTI_LUN_BUILD 1   
                            20982 ; 92   |
                            20983 ; 93   |////////////////////////////////////////////////////////////////////////////////
                            20984 ; 94   |//  SCSI
                            20985 ; 95   |#if (MULTI_LUN_BUILD==0)
                            20986 ; 96   |  #if (NUM_REMOVABLE_MEDIA == 1)
                            20987 ; 97   |    #define SCSI_NUM_TARGETS                        2
                            20988 ; 98   |    #define SCSI_DEVICE_NUM_LUNS_DEV_0              1
                            20989 ; 99   |    #define SCSI_DEVICE_NUM_LUNS_DEV_1              1
                            20990 ; 100  |  #else
                            20991 ; 101  |    #define SCSI_NUM_TARGETS                        1
                            20992 ; 102  |    #define SCSI_DEVICE_NUM_LUNS_DEV_0              1
                            20993 ; 103  |  #endif
                            20994 ; 104  |#else
                            20995 ; 105  |    #define SCSI_NUM_TARGETS                        1
                            20996 ; 106  |  #if (NUM_REMOVABLE_MEDIA == 1)
                            20997 ; 107  |    #define SCSI_DEVICE_NUM_LUNS_DEV_0              2
                            20998 ; 108  |  #else
                            20999 ; 109  |    #define SCSI_DEVICE_NUM_LUNS_DEV_0              1  
                            21000 ; 110  |  #endif
                            21001 ; 111  |#endif
                            21002 ; 112  |
                            21003 ; 113  |
                            21004 ; 114  |#define USBMSC_NUM_DEVICES                      SCSI_NUM_TARGETS
                            21005 ; 115  |
                            21006 ; 116  |
                            21007 ; 117  |////////////////////////////////////////////////////////////////////////////////
                            21008 ; 118  |// Define number of logical medias and drives for three builds (MTP, USBMSC, and Player)
                            21009 ; 119  |////////////////////////////////////////////////////////////////////////////////
                            21010 ; 120  |#ifdef MMC
                            21011 ; 121  |#ifdef MTP_BUILD
                            21012 ; 122  |// --------------------
                            21013 ; 123  |// MTP and MMC
                            21014 ; 124  |// --------------------
                            21015 ; 125  |#define NUM_LOGICAL_MEDIA       2
                            21016 ; 126  |#define NUM_LOGICAL_DRIVES      8
                            21017 ; 127  |#else  // ifndef MTP_BUILD
                            21018 ; 128  |#ifdef STMP_BUILD_PLAYER
                            21019 ; 129  |// --------------------
                            21020 ; 130  |// Player and MMC
                            21021 ; 131  |// --------------------
                            21022 ; 132  |#else
                            21023 ; 133  |// --------------------
                            21024 ; 134  |// USBMSC and MMC
                            21025 ; 135  |// --------------------
                            21026 ; 136  |#define NUM_LOGICAL_MEDIA       3
                            21027 ; 137  |#define NUM_LOGICAL_DRIVES      8
                            21028 ; 138  |#endif // ifdef STMP_BUILD_PLAYER
                            21029 ; 139  |#endif // ifdef MTP_BUILD
                            21030 ; 140  |#else  // ifndef MMC
                            21031 ; 141  |#ifdef MTP_BUILD
                            21032 ; 142  |// --------------------
                            21033 ; 143  |// MTP and NAND only
                            21034 ; 144  |// --------------------
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 349

M:ADDR CODE           CYCLES LINE SOURCELINE
                            21035 ; 145  |#define NUM_LOGICAL_MEDIA       1
                            21036 ; 146  |#define NUM_LOGICAL_DRIVES      7
                            21037 ; 147  |#else  // ifndef MTP_BUILD
                            21038 ; 148  |#ifdef STMP_BUILD_PLAYER
                            21039 ; 149  |// --------------------
                            21040 ; 150  |// Player and NAND only
                            21041 ; 151  |// --------------------
                            21042 ; 152  |#else
                            21043 ; 153  |// --------------------
                            21044 ; 154  |// USBMSC and NAND only
                            21045 ; 155  |// --------------------
                            21046 ; 156  |#define NUM_LOGICAL_MEDIA       2
                            21047 ; 157  |#define NUM_LOGICAL_DRIVES      7
                            21048 ; 158  |#endif // ifdef STMP_BUILD_PLAYER
                            21049 ; 159  |#endif // ifdef MTP_BUILD
                            21050 ; 160  |#endif // ifdef MMC 
                            21051 ; 161  |
                            21052 ; 162  |// If we are in an MTP build then we don't use as many transfers buffers.
                            21053 ; 163  |#if (defined(MTP_BUILD))
                            21054 ; 164  |#define MAX_USB_TRANSFERS_QUEUED 16
                            21055 ; 165  |
                            21056 ; 166  |////!
                            21057 ; 167  |////! This varible holds the watchdog count for the store flush.
                            21058 ; 168  |////!
                            21059 ; 169  |///
                            21060 ; 170  |#include <types.h>
                            21061 ; 171  |extern volatile INT g_StoreWatchDogCount;
                            21062 ; 172  |extern const INT g_StoreWatchDogTimeout;
                            21063 ; 173  |#endif
                            21064 ; 174  |
                            21065 ; 175  |////////////////////////////////////////////////////////////////////////////////
                            21066 ; 176  |// These are needed here for Mass Storage Class
                            21067 ; 177  |// Needs to be cleaned up
                            21068 ; 178  |////////////////////////////////////////////////////////////////////////////////
                            21069 ; 179  |#if (!defined(STMP_BUILD_PLAYER))
                            21070 ; 180  |#define SCRATCH_USER_Y_SIZE 512
                            21071 ; 181  |#define SCRATCH_USER_X_SIZE 512
                            21072 ; 182  |
                            21073 ; 183  |#define BROWNOUT_LEVEL1_DETECTED                0x000001
                            21074 ; 184  |
                            21075 ; 185  |#endif
                            21076 ; 186  |
                            21077 ; 187  |
                            21078 ; 188  |/////////////////////////////////////////////////////////////////////////////////
                            21079 ; 189  |// SmartMedia/NAND defs
                            21080 ; 190  |#define SM_MAX_PHYSICAL_DEVICES SM_INTERNAL_CHIPS+NUM_SM_EXTERNAL
                            21081 ; 191  |#define SM_REMOVABLE_DEVICE_NUM SM_INTERNAL_CHIPS
                            21082 ; 192  |
                            21083 ; 193  |/////////////////////////////////////////////////////////////////////////////////
                            21084 ; 194  |// Sysloadresources defs
                            21085 ; 195  |#define SM_MAX_RESOURCE_DEVICES SM_INTERNAL_CHIPS+NUM_SM_EXTERNAL
                            21086 ; 196  |
                            21087 ; 197  |/////////////////////////////////////////////////////////////////////////////////
                            21088 ; 198  |// MMC defs
                            21089 ; 199  |#define MMC_MAX_PARTITIONS 1
                            21090 ; 200  |#define MMC_MAX_LOGICAL_DEVICES MMC_MAX_PHYSICAL_DEVICES*MMC_MAX_PARTITIONS
                            21091 ; 201  |
                            21092 ; 202  |/////////////////////////////////////////////////////////////////////////////////
                            21093 ; 203  |// SPI defs
                            21094 ; 204  |#define SPI_MAX_DEVICES MMC_MAX_PHYSICAL_DEVICES
                            21095 ; 205  |
                            21096 ; 206  |/////////////////////////////////////////////////////////////////////////////////
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 350

M:ADDR CODE           CYCLES LINE SOURCELINE
                            21097 ; 207  |// Global media defs
                            21098 ; 208  |#define MAX_PHYSICAL_DEVICES SM_MAX_PHYSICAL_DEVICES+MMC_MAX_PHYSICAL_DEVICES
                            21099 ; 209  |#define MAX_LOGICAL_DEVICES SM_MAX_LOGICAL_DEVICES+MMC_MAX_LOGICAL_DEVICES
                            21100 ; 210  |
                            21101 ; 211  |/////////////////////////////////////////////////////////////////////////////////
                            21102 ; 212  |// DO NOT CHANGE THESE!!!
                            21103 ; 213  |#define SM_MAX_PARTITIONS 4
                            21104 ; 214  |#define MAX_HANDLES 2
                            21105 ; 215  |/////////////////////////////////////////////////////////////////////////////////
                            21106 ; 216  |
                            21107 ; 217  |
                            21108 ; 218  |/////////////////////////////////////////////////////////////////////////////////
                            21109 ; 219  |// Battery LRADC Values 
                            21110 ; 220  |/////////////////////////////////////////////////////////////////////////////////
                            21111 ; 221  |// brownout trip point in mV (moved by RS)
                            21112 ; 222  |// BATT_SAFETY_MARGIN:  percentage value used by:
                            21113 ; 223  |//   * SysSaveSettings to determine if enough power is left to attempt a settings save. 
                            21114 ; 224  |//   * Recorder to conditionally prevent the start or continuation of 
                            21115 ; 225  |//     audio recording to media.
                            21116 ; 226  |#define BATT_SAFETY_MARGIN 10
                            21117 ; 227  |
                            21118 ; 228  |//; player resource drive refresh allowed only when battery usable % is above this value. 
                                  
                            21119 ; 229  |//; 50% of usable range [0.9V to 1.5V] is around 1.2V This is the safe target alkaline vol
                                  tage to do a refresh.
                            21120 ; 230  |//; LIION will also require 50% which will work but that could be changed in the future. 
                            21121 ; 231  |//RESOURCE_REFRESH_MIN_BATT_PCT equ 50
                            21122 ; 232  |
                            21123 ; 233  |// stmp00005071 adds these for mp3 encode stability at low battery per battery type & mmc 
                                  presence.
                            21124 ; 234  |
                            21125 ; 235  |//// Vbat threshholds empirically tuned by profiling max bat current for 3 HW cases: 
                            21126 ; 236  |//// 1 GigaByte MMC, NAND flash only, & LiIon Buck mode. See voicemenu pre-encode Vbat che
                                  ck.
                            21127 ; 237  |#if (!defined(CLCD))
                            21128 ; 238  |#define MP3_ENC_MMC_MIN_V_BAT_MV 1100
                            21129 ; 239  |#define MP3_ENC_NANDONLY_MIN_V_BAT_MV 1000
                            21130 ; 240  |#else 
                            21131 ; 241  |#define MP3_ENC_MMC_MIN_V_BAT_MV 1250
                            21132 ; 242  |#define MP3_ENC_NANDONLY_MIN_V_BAT_MV 1150
                            21133 ; 243  |#endif
                            21134 ; 244  |#define MP3_ENC_BUCKMODE_MIN_V_BAT_MV 3300
                            21135 ; 245  |
                            21136 ; 246  |// These Vbat use-range-percentages are derived to correspond with target battery 
                            21137 ; 247  |// voltages of 1.10V for MMC, 1.0V for nand only (alkaline or nimh), and 3.3V for any LiIo
                                  n.
                            21138 ; 248  |// See mp3 encoder overlay.
                            21139 ; 249  |#define MP3_ENC_MMC_MIN_V_BAT_RANGE_PCT 33
                            21140 ; 250  |#define MP3_ENC_NANDONLY_MIN_V_BAT_RANGE_PCT 17
                            21141 ; 251  |#define MP3_ENC_BUCKMODE_MIN_V_BAT_RANGE_PCT 25
                            21142 ; 252  |
                            21143 ; 253  |/////////////////////////////////////////////////////////////////////////////////
                            21144 ; 254  |// Voice recording filenames
                            21145 ; 255  |// number of digits in filename Vxxx.wav
                            21146 ; 256  |/////////////////////////////////////////////////////////////////////////////////
                            21147 ; 257  |#define DIGITS_IN_VOICE_FILENAME 3   
                            21148 ; 258  |
                            21149 ; 259  |/////////////////////////////////////////////////////////////////////////////////
                            21150 ; 260  |// Mic Bias: Set this enable to 1 to internally generate mic bias voltage. 
                            21151 ; 261  |// Also below, must configure internal resistor value and pin to use for DC bias. 
                            21152 ; 262  |// Can set to 0 to disable internally generated mic bias voltage at pin lradc1/2.
                            21153 ; 263  |#if defined(DEVICE_3500)
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 351

M:ADDR CODE           CYCLES LINE SOURCELINE
                            21154 ; 264  |#define ENABLE_INTERNALLY_GENERATED_MICBIAS 1 
                            21155 ; 265  |// MIC BIAS circuit source selection: use Low Resolution ADC pin 2 or 1 to bias mic. 
                            21156 ; 266  |// Per your layout: select LRADC 2 or 1 below 
                            21157 ; 267  |//   (pin LRADC 2 for 35xx cpu card revB, LRADC 1 for 35xx cpu card revC, ref schematics, 
                                  & demo player)
                            21158 ; 268  |#define LRADC_NUM_FOR_MIC_BIAS 1 
                            21159 ; 269  |// Sets internal mic bias R to value 2, 4, or 8 (in kOhms).
                            21160 ; 270  |#define MICBIAS_CONFIGURED_RESISTOR_KOHMS 8
                            21161 ; 271  |
                            21162 ; 272  |// Allows mic bias to settle before sampling. This delay currently unused. For rec btn whe
                                  n bias not yet ready.
                            21163 ; 273  |#define REC_BTN_INTERNAL_MIC_BIAS_SETTLING_DELAY_MS 400 
                            21164 ; 274  |// Option always keeps bias enabled after mainmenu init. This allows for start pop prevent
                                  ion if you use rec button from outside voice menu.
                            21165 ; 275  |// This selection costs 1 mWatt but gains the desired low record button to sampling latenc
                                  y in the record-from-music-menu use-case.
                            21166 ; 276  |#define KEEP_MIC_BIAS_ENABLED 0
                            21167 ; 277  |
                            21168 ; 278  |#else 
                            21169 ; 279  |// STMP3410
                            21170 ; 280  |#define ENABLE_INTERNALLY_GENERATED_MICBIAS 0
                            21171 ; 281  |#define LRADC_NUM_FOR_MIC_BIAS 1 
                            21172 ; 282  |#define MICBIAS_CONFIGURED_RESISTOR_KOHMS 2
                            21173 ; 283  |#endif
                            21174 ; 284  |
                            21175 ; 285  |/////////////////////////////////////////////////////////////////////////////////
                            21176 ; 286  |// Number of available soft timers
                            21177 ; 287  |/////////////////////////////////////////////////////////////////////////////////
                            21178 ; 288  |#if defined(SYNC_LYRICS)
                            21179 ; 289  |#define SOFT_TIMERS 10
                            21180 ; 290  |#else 
                            21181 ; 291  |#if defined(JPEG_DECODER)
                            21182 ; 292  |#define SOFT_TIMERS 10
                            21183 ; 293  |#else 
                            21184 ; 294  |#define SOFT_TIMERS 9
                            21185 ; 295  |#endif
                            21186 ; 296  |#endif
                            21187 ; 297  |
                            21188 ; 298  |/////////////////////////////////////////////////////////////////////////////////
                            21189 ; 299  |//  sizes
                            21190 ; 300  |/////////////////////////////////////////////////////////////////////////////////
                            21191 ; 301  |#if defined(MMC)
                            21192 ; 302  |#if defined(USE_PLAYLIST5)
                            21193 ; 303  |#define MENU_STACK_SIZE 1500
                            21194 ; 304  |#else 
                            21195 ; 305  |#define MENU_STACK_SIZE 1250
                            21196 ; 306  |#endif //if @def('USE_PLAYLIST5')
                            21197 ; 307  |#else 
                            21198 ; 308  |#if defined(USE_PLAYLIST5)
                            21199 ; 309  |#define MENU_STACK_SIZE 1500
                            21200 ; 310  |#else 
                            21201 ; 311  |#define MENU_STACK_SIZE 1250
                            21202 ; 312  |#endif //if @def('USE_PLAYLIST5')
                            21203 ; 313  |#endif //if @def('MMC')
                            21204 ; 314  |
                            21205 ; 315  |// NOTE: SDK2.6 USED 550 FOR NEXT LINE, BUT SDK3.0BETA USED 750. Should it be ifdef MTP 75
                                  0 else 550 for other builds? TOVERIFY. MYALLOC
                            21206 ; 316  |// 
                            21207 ; 317  |#define STACK_L1_SIZE 750
                            21208 ; 318  |#define STACK_L2_SIZE 100
                            21209 ; 319  |#define STACK_L3_SIZE 160
                            21210 ; 320  |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 352

M:ADDR CODE           CYCLES LINE SOURCELINE
                            21211 ; 321  |// If we are in MTP mode the overlay task stack can shrink.
                            21212 ; 322  |// TODO shrink this stack for MTP, I will leave it at 500 until we verify that it 
                            21213 ; 323  |// is ok with switching code.
                            21214 ; 324  |#if defined(MTP_BUILD)
                            21215 ; 325  |#define OVERLAY_MANAGER_STACK_SIZE 300
                            21216 ; 326  |#endif
                            21217 ; 327  |
                            21218 ; 328  |/////////////////////////////////////////////////////////////////////////////////
                            21219 ; 329  |// maximum number of nested funclets 
                            21220 ; 330  |/////////////////////////////////////////////////////////////////////////////////
                            21221 ; 331  |#define MAX_NESTED_FUNCLET 6 
                            21222 ; 332  |
                            21223 ; 333  |/////////////////////////////////////////////////////////////////////////////////
                            21224 ; 334  |//    LCD DEFINITIONS
                            21225 ; 335  |/////////////////////////////////////////////////////////////////////////////////
                            21226 ; 336  |
                            21227 ; 337  |#define SPACE_CHAR 0x000020          
                            21228 ; 338  |#define ZERO_CHAR 0x000030
                            21229 ; 339  |#define COLON_CHAR 0x00003A
                            21230 ; 340  |#define PERIOD_CHAR 0x00002E
                            21231 ; 341  |
                            21232 ; 342  |#if (defined(S6B33B0A_LCD))
                            21233 ; 343  |#define LCD_X_SIZE 128
                            21234 ; 344  |#define LCD_Y_SIZE 159
                            21235 ; 345  |#endif
                            21236 ; 346  |
                            21237 ; 347  |#if (defined(SED15XX_LCD))
                            21238 ; 348  |#define LCD_X_SIZE 128
                            21239 ; 349  |#define LCD_Y_SIZE 64
                            21240 ; 350  |#endif
                            21241 ; 351  |
                            21242 ; 352  |
                            21243 ; 353  |//////////////////////////////////////////////////////////////////////////////////
                            21244 ; 354  |//   Details on Customizing Contrast
                            21245 ; 355  |/////////////////////////////////////////////////////////////////////////////////
                            21246 ; 356  |//   Max supported LCD range is 0 - 3F; however due to hardware/voltage differences
                            21247 ; 357  |//   the range of visibility is usually smaller than this.  It is important to 
                            21248 ; 358  |//   calibrate the visible range, because the contrast setting is saved.
                            21249 ; 359  |//   If the user shuts off the player while lcd is not visible, the player is useless
                            21250 ; 360  |//   unless the ezact sequence is remembered.
                            21251 ; 361  |//   To find out what range your player supports: 
                            21252 ; 362  |//   change these equs to full range or comment out (full range is default)
                            21253 ; 363  |//;;;;;;
                            21254 ; 364  |// uncomment the line below to build code that will provide raw contrast value
                            21255 ; 365  |// recommended calibration using player -- uncomment 
                            21256 ; 366  |//;;;;;;
                            21257 ; 367  |//CONTRAST_CALIBRATION    equ  1
                            21258 ; 368  |////////////////////////////
                            21259 ; 369  |#if (defined(DEMO_HW))
                            21260 ; 370  |// this is the setting for ET301 demos; Next 2 line have not been updated for new Shingyi 
                                  LCD (June6'05)
                            21261 ; 371  |#define LCD_MAX_CONTRAST 0x32 
                            21262 ; 372  |#define LCD_MIN_CONTRAST 0x1E
                            21263 ; 373  |#else 
                            21264 ; 374  |
                            21265 ; 375  |#if (defined(S6B33B0A_LCD))
                            21266 ; 376  |#define LCD_MAX_CONTRAST 210
                            21267 ; 377  |#define LCD_MIN_CONTRAST 160    
                            21268 ; 378  |#endif
                            21269 ; 379  |
                            21270 ; 380  |#if (defined(SED15XX_LCD))
                            21271 ; 381  |// Next 3 line comment was for OLD shingyi LCD: (default LCD before sdk2.6)
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 353

M:ADDR CODE           CYCLES LINE SOURCELINE
                            21272 ; 382  |// Engineering board regs support range [17-37].
                            21273 ; 383  |//   Engineering board DC/DC support range [24-46]. 
                            21274 ; 384  |//   One default contrast range [24-42] works for both.
                            21275 ; 385  |// The 3 sets of contrast ranges below are updated for SDK2.6 to support either 
                            21276 ; 386  |// new or old ShingYih LCDs. "File" refers to \resource\shingyih\system_lcd_init_seq.src
                            21277 ; 387  |// 3/10/05 - Use one of the 2 next contrast ranges depending on which
                            21278 ; 388  |// ShingYih LCD you have.  See \resources\shingyi\readme.txt 
                            21279 ; 389  |// Optimal for NEW LCD with NEW file (SDK2.6 default)  
                            21280 ; 390  |// G098064-41 LCD module (present on engr board revH LCD card)
                            21281 ; 391  |
                            21282 ; 392  |#if (defined(NEWSHINGYIH))
                            21283 ; 393  |#define LCD_MAX_CONTRAST 250
                            21284 ; 394  |#define LCD_MIN_CONTRAST 0
                            21285 ; 395  |#else 
                            21286 ; 396  |//-----
                            21287 ; 397  |// Near optimal for OLD LCD with NEW file. 
                            21288 ; 398  |// NOT optimal for the new lcd but pretty good. So u may use this if u want 1 build for bo
                                  th LCDs.
                            21289 ; 399  |#define LCD_MAX_CONTRAST 250
                            21290 ; 400  |#define LCD_MIN_CONTRAST 0
                            21291 ; 401  |
                            21292 ; 402  |//=====
                            21293 ; 403  |// Optimal for OLD ShingYih LCD with OLD file (as sdk2.521)
                            21294 ; 404  |// Suggest going with default new init file & values above for your LCD instead of this hi
                                  storic ver.
                            21295 ; 405  |//LCD_MAX_CONTRAST equ 42
                            21296 ; 406  |//LCD_MIN_CONTRAST equ 24 
                            21297 ; 407  |
                            21298 ; 408  |#endif
                            21299 ; 409  |#endif
                            21300 ; 410  |
                            21301 ; 411  |#endif
                            21302 ; 412  |
                            21303 ; 413  |//////////////////////////////////////////////////////////////////////////////////
                            21304 ; 414  |// The default value of the lcd contrast in % of range
                            21305 ; 415  |//   the default value is used when no settings.dat is available
                            21306 ; 416  |//////////////////////////////////////////////////////////////////////////////////
                            21307 ; 417  |
                            21308 ; 418  |#if (defined(S6B33B0A_LCD))
                            21309 ; 419  |// 60% of range is default value
                            21310 ; 420  |#define DEFAULT_CONTRAST 50 
                            21311 ; 421  |#endif
                            21312 ; 422  |
                            21313 ; 423  |#if (defined(SED15XX_LCD))
                            21314 ; 424  |// % of range is default value (was 60%)
                            21315 ; 425  |#define DEFAULT_CONTRAST 50 
                            21316 ; 426  |#endif
                            21317 ; 427  |
                            21318 ; 428  |
                            21319 ; 429  |// percentage change per increment/decrement message (LCD_DEC_CONTRAST/LCD_INC_CONTRAST)
                            21320 ; 430  |// make lower when doing calibration
                            21321 ; 431  |#define LCD_STEPSIZE_CONTRAST 10  
                            21322 ; 432  |
                            21323 ; 433  |
                            21324 ; 434  |/////////////////////////////////////////////////////////////////////////////////
                            21325 ; 435  |// For FFWD and RWND
                            21326 ; 436  |/////////////////////////////////////////////////////////////////////////////////
                            21327 ; 437  |#define SECONDS_TO_SKIP 1
                            21328 ; 438  |#define SECONDS_TO_SKIP1 3
                            21329 ; 439  |#define SECONDS_TO_SKIP2 6
                            21330 ; 440  |// number of seconds to cause reset to begin of song for PREV push
                            21331 ; 441  |#define PREV_SONG_THRESHOLD 5  
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 354

M:ADDR CODE           CYCLES LINE SOURCELINE
                            21332 ; 442  |// number of 300 mSec periods before the numbers of seconds to skip increases
                            21333 ; 443  |#define FIRST_TIME_BOUNDARY 15 
                            21334 ; 444  |// number of 300 mSec periods before the numbers of seconds to skip increases
                            21335 ; 445  |#define SECOND_TIME_BOUNDARY 30 
                            21336 ; 446  |
                            21337 ; 447  |// For audible FFW/RWD
                            21338 ; 448  |#define SECONDS_TO_SKIP_FOR_3X_RATE 1
                            21339 ; 449  |#define SECONDS_TO_SKIP_FOR_60X_RATE 18
                            21340 ; 450  |#define SECONDS_TO_SKIP_FOR_600X_RATE 180
                            21341 ; 451  |#define SECONDS_TO_SKIP_FOR_1800X_RATE 540
                            21342 ; 452  |// number of 300 mSec periods before the numbers of seconds to skip increases
                            21343 ; 453  |#define LEVEL1_BOUNDARY 17 
                            21344 ; 454  |// number of 300 mSec periods before the numbers of seconds to skip increases
                            21345 ; 455  |#define LEVEL2_BOUNDARY 33 
                            21346 ; 456  |// number of 300 mSec periods before the numbers of seconds to skip increases
                            21347 ; 457  |#define LEVEL3_BOUNDARY 50 
                            21348 ; 458  |// Stmp00010296 Ticket #71685:  for song shorter than the min. skip size
                            21349 ; 459  |// if song_time < skip_size, bCurrentSongShort=>TRUE (ignore FWD/RWD commands)
                            21350 ; 460  |// Short Song Time, songs too short to play.
                            21351 ; 461  |#define SHORT_SONG_TIME SECONDS_TO_SKIP         
                            21352 ; 462  |
                            21353 ; 463  |/////////////////////////////////////////////////////////////////////////////////
                            21354 ; 464  |// MP3 Sync Values
                            21355 ; 465  |/////////////////////////////////////////////////////////////////////////////////
                            21356 ; 466  |// # bytes to look for sync before marking it bad
                            21357 ; 467  |#define MP3_SYNC_THRESHOLD 70000 
                            21358 ; 468  |// # bytes to look for sync before slowing decoder isr frequency (to let menus run)
                            21359 ; 469  |#define MP3_SYNC_THRESHOLD1 10000 
                            21360 ; 470  |// once we have sync'd, the isr should be called this frequently
                            21361 ; 471  |#define MP3_DECODERISR_FAST 7500  
                            21362 ; 472  |// if decoder is having difficulty syncing, switch isr to be called less frequently
                            21363 ; 473  |#define MP3_DECODERISR_SLOW 50000 
                            21364 ; 474  |
                            21365 ; 475  |
                            21366 ; 476  |/////////////////////////////////////////////////////////////////////////////////
                            21367 ; 477  |//// Multi-Stage Volume Control Definitions
                            21368 ; 478  |/////////////////////////////////////////////////////////////////////////////////
                            21369 ; 479  |//// Use Multi-Stage Volume
                            21370 ; 480  |#define MULTI_STAGE_VOLUME 0x1                  
                            21371 ; 481  |
                            21372 ; 482  |//// Master Volume definitions
                            21373 ; 483  |#define MIX_MSTR_MAX_VOL 0x0
                            21374 ; 484  |#define NUM_MSTR_ATT_STEPS (0x1F-MIX_MSTR_MAX_VOL)
                            21375 ; 485  |
                            21376 ; 486  |//// DAC-Mode definitions
                            21377 ; 487  |//// Adjusts 0dB point
                            21378 ; 488  |#define MIX_DAC_NOM_VOL 0x6                  
                            21379 ; 489  |#define MIX_DAC_MIN_VOL 0x1F
                            21380 ; 490  |// For minimum clipping: Set MIX_DAC_MAX_VOL below to match MIX_DAC_NOM_VOL value 2 lines 
                                  above.
                            21381 ; 491  |// For additional gain (with possible clipping): Set MIX_DAC_MAX_VOL in range below. 
                            21382 ; 492  |//                                               Each integer below MIX_DAC_NOM_VOL provid
                                  es 1.5 dB gain on Stmp34x0; 
                            21383 ; 493  |//                                               Max gain possible: 8 step diff would prov
                                  ide +12dB gain.   
                            21384 ; 494  |// range: [0 to MIX_DAC_NOM_VOL] (0 for loudest volume)
                            21385 ; 495  |#define MIX_DAC_MAX_VOL 0x0  
                            21386 ; 496  |
                            21387 ; 497  |#define NUM_DAC_ATT_STEPS (MIX_DAC_MIN_VOL-MIX_DAC_NOM_VOL+1)
                            21388 ; 498  |#define NUM_DAC_GAIN_STEPS (MIX_DAC_NOM_VOL-MIX_DAC_MAX_VOL)
                            21389 ; 499  |#define NUM_DAC_MODE_VOL_STEPS (NUM_DAC_ATT_STEPS+NUM_MSTR_ATT_STEPS+NUM_DAC_GAIN_STEPS+1)
                                  
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 355

M:ADDR CODE           CYCLES LINE SOURCELINE
                            21390 ; 500  |
                            21391 ; 501  |//// If there is no stored volume, set to 50% of DAC-Mode max; change if DAC Mode is not t
                                  he default
                            21392 ; 502  |//// STMP35xx has 2dB attenuation per step so default needs a few more steps above midpoin
                                  t.
                            21393 ; 503  |#define DEFAULT_VOLUME ((NUM_DAC_MODE_VOL_STEPS/2)+6)         
                            21394 ; 504  |
                            21395 ; 505  |//// Set maximum restored volume to 75% of DAC-Mode max; change if DAC Mode is not the def
                                  ault
                            21396 ; 506  |#define MAX_RESTORED_VOLUME ((3*NUM_DAC_MODE_VOL_STEPS)/4)   
                            21397 ; 507  |
                            21398 ; 508  |
                            21399 ; 509  |//// Line In definitions (used for Line-In 1)
                            21400 ; 510  |//// 0dB point of the Line In
                            21401 ; 511  |#define MIX_LINE_NOM_VOL 0x8                  
                            21402 ; 512  |//// Minimum volume of Line In
                            21403 ; 513  |#define MIX_LINE_MIN_VOL 0x1F                 
                            21404 ; 514  |//// Maximum volume of Line In (can adjust extra gain)
                            21405 ; 515  |#define MIX_LINE_MAX_VOL 0x6                  
                            21406 ; 516  |#define NUM_LINE_ATT_STEPS (MIX_LINE_MIN_VOL-MIX_LINE_NOM_VOL+1)
                            21407 ; 517  |#define NUM_LINE_GAIN_STEPS (MIX_LINE_NOM_VOL-MIX_LINE_MAX_VOL)
                            21408 ; 518  |#define NUM_LINE_MODE_VOL_STEPS (NUM_LINE_ATT_STEPS+NUM_MSTR_ATT_STEPS+NUM_LINE_GAIN_STEPS
                                  +1)
                            21409 ; 519  |
                            21410 ; 520  |//// Line In definitions (used for FM tuner with 144 pin package)
                            21411 ; 521  |//// 0dB point of the Line In
                            21412 ; 522  |#define MIX_FM_NOM_VOL 0x8                  
                            21413 ; 523  |//// Minimum volume of Line In
                            21414 ; 524  |#define MIX_FM_MIN_VOL 0x1F                 
                            21415 ; 525  |//// Maximum volume of Line In (can adjust extra gain)
                            21416 ; 526  |#define MIX_FM_MAX_VOL 0x6                  
                            21417 ; 527  |#define NUM_FM_ATT_STEPS (MIX_FM_MIN_VOL-MIX_FM_NOM_VOL+1)
                            21418 ; 528  |#define NUM_FM_GAIN_STEPS (MIX_FM_NOM_VOL-MIX_FM_MAX_VOL)
                            21419 ; 529  |#define NUM_FM_MODE_VOL_STEPS (NUM_FM_ATT_STEPS+NUM_MSTR_ATT_STEPS+NUM_FM_GAIN_STEPS+1)
                            21420 ; 530  |
                            21421 ; 531  |/////////////////////////////////////////////////////////////////////////////////
                            21422 ; 532  |//// When enabled (1), periodically checks for one of several FM state machine invalid dea
                                  dlock states & recovers. 
                            21423 ; 533  |//// Define as 0 to disable FM-deadlock-state checking and recovery.
                            21424 ; 534  |#define FM_WATCHDOG_ENABLE 1
                            21425 ; 535  |
                            21426 ; 536  |#if !defined(STMP_BUILD_PLAYER)
                            21427 ; 537  |////
                            21428 ; 538  |////! This varible holds the lcd display state for the mtp project.
                            21429 ; 539  |////
                            21430 ; 540  |///
                            21431 ; 541  |#include <types.h>
                            21432 ; 542  |extern volatile WORD g_wActivityState;
                            21433 ; 543  |#endif // if !@def('STMP_BUILD_PLAYER')
                            21434 ; 544  |
                            21435 ; 545  |void _reentrant Init5VSense(void);
                            21436 ; 546  |void _reentrant ServiceDCDC(void);
                            21437 ; 547  |
                            21438 ; 548  |////////////////////////////////////////////////////////////////////////////
                            21439 ; 549  |//// JPEG Thumbnail Mode Setting
                            21440 ; 550  |//// number of column in thumbnail mode
                            21441 ; 551  |#define THUMBNAIL_X 2           
                            21442 ; 552  |//// number of row in  thumbnail mode
                            21443 ; 553  |#define THUMBNAIL_Y 2           
                            21444 ; 554  |//// thumbnail boundary offset x
                            21445 ; 555  |#define THUMBNAIL_X_OFFSET 4            
                            21446 ; 556  |//// thumbnail boundary offset y
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 356

M:ADDR CODE           CYCLES LINE SOURCELINE
                            21447 ; 557  |#define THUMBNAIL_Y_OFFSET 4            
                            21448 ; 558  |
                            21449 ; 559  |#endif // if (!@def(_PROJECT_INC))
                            21450 ; 560  |
                            21451 
                            21453 
                            21454 ; 5    |
                            21455 ; 6    |#include "filesystem.h"
                            21456 
                            21458 
                            21459 ; 1    |////////////////////////////////////////////////////////////////////////////////
                            21460 ; 2    |//  Copyright(C) SigmaTel, Inc. 2001
                            21461 ; 3    |//
                            21462 ; 4    |//  File        : FileSystem.h
                            21463 ; 5    |//  Description : Header File for File System
                            21464 ; 6    |////////////////////////////////////////////////////////////////////////////////
                            21465 ; 7    |
                            21466 ; 8    |#ifndef _FILESYSTEM_H
                            21467 ; 9    |#define _FILESYSTEM_H
                            21468 ; 10   |
                            21469 ; 11   |#include "types.h"
                            21470 ; 12   |
                            21471 ; 13   |
                            21472 ; 14   |// File attributes
                            21473 ; 15   |#ifndef _FS_ATTRIBUTES
                            21474 ; 16   |#define _FS_ATTRIBUTES
                            21475 ; 17   |#define READ        1
                            21476 ; 18   |#define WRITE       2
                            21477 ; 19   |#define WRITE_PLUS  3
                            21478 ; 20   |#define APPEND      4
                            21479 ; 21   |#define TRUNCATE    8
                            21480 ; 22   |#define CREATE      16
                            21481 ; 23   |#endif
                            21482 ; 24   |
                            21483 ; 25   |//#ifndef FAT12
                            21484 ; 26   |//#define FAT12   1
                            21485 ; 27   |//#endif
                            21486 ; 28   |//
                            21487 ; 29   |#ifndef FAT16
                            21488 ; 30   |#define FAT16   2
                            21489 ; 31   |#endif
                            21490 ; 32   |
                            21491 ; 33   |#define MEM_SPACE_P 0x100000
                            21492 ; 34   |#define MEM_SPACE_Y 0x400000
                            21493 ; 35   |#define MEM_SPACE_X 0x800000
                            21494 ; 36   |
                            21495 ; 37   |#define FILE_SYS_MODE_READ  0
                            21496 ; 38   |#define FILE_SYS_MODE_WRITE 1
                            21497 ; 39   | 
                            21498 ; 40   |#define ATTR_READ_ONLY      0x01
                            21499 ; 41   |#define ATTR_HIDDEN         0x02
                            21500 ; 42   |#define ATTR_SYSTEM         0x04
                            21501 ; 43   |#define ATTR_VOLUME_ID      0x08
                            21502 ; 44   |#define ATTR_DIRECTORY      0x10
                            21503 ; 45   |#define ATTR_ARCHIVE        0x20
                            21504 ; 46   |#define ATTR_LONG_NAME      ATTR_READ_ONLY|ATTR_HIDDEN|ATTR_SYSTEM|ATTR_VOLUME_ID
                            21505 ; 47   |
                            21506 ; 48   |#define SEEK_SET           -1
                            21507 ; 49   |#define SEEK_CUR            0
                            21508 ; 50   |#define SEEK_END            1
                            21509 ; 51   |
                            21510 ; 52   |#define DEVICE_INSTALLED              (WORD)(0)
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 357

M:ADDR CODE           CYCLES LINE SOURCELINE
                            21511 ; 53   |#define DEVICE_NOT_FOUND              (WORD)(2)
                            21512 ; 54   |#define INVALID_FILESYSTEM                        (WORD)(3)
                            21513 ; 55   |#define DEVICE_INVALID                (WORD)(-1)
                            21514 ; 56   |#define DEVICE_ERROR_WRITE_PROTECTED  (WORD)(-2)
                            21515 ; 57   |
                            21516 ; 58   |#define MEDIA_SIZE_TOTAL_SECTORS    0
                            21517 ; 59   |#define MEDIA_SIZE_TOTAL_BYTES      1
                            21518 ; 60   |#define MEDIA_SIZE_BYTES_PER_SECTOR 2
                            21519 ; 61   |#define MEDIA_SIZE_IN_MEGABYTES     3     
                            21520 ; 62   |
                            21521 ; 63   |#define READ_TYPE_NORMAL            0
                            21522 ; 64   |#define READ_TYPE_FAT               1
                            21523 ; 65   |#define READ_TYPE_RAW               2
                            21524 ; 66   |
                            21525 ; 67   |
                            21526 ; 68   |#ifdef MEDIA_DDI_PARTIAL_SEQ_ENABLE
                            21527 ; 69   |    #define WRITE_TYPE_RANDOM                   0
                            21528 ; 70   |    #define WRITE_TYPE_SEQ_FIRST                1
                            21529 ; 71   |    #define WRITE_TYPE_SEQ_NEXT                 2
                            21530 ; 72   |    #define WRITE_TYPE_RESET_CLEAN_UP           3
                            21531 ; 73   |    #define WRITE_TYPE_PARTIAL_SEQ_FIRST        4
                            21532 ; 74   |    #define WRITE_TYPE_PARTIAL_SEQ_NEXT         5
                            21533 ; 75   |    #define WRITE_TYPE_PARTIAL_SEQ_LAST         6
                            21534 ; 76   |    #ifdef MEDIA_DDI_RAW_SECTOR_SERVER_ENABLE
                            21535 ; 77   |        #define WRITE_TYPE_RANDOM_RAW               7
                            21536 ; 78   |        #define WRITE_TYPE_SEQ_FIRST_RAW            8
                            21537 ; 79   |        #define WRITE_TYPE_SEQ_NEXT_RAW             9
                            21538 ; 80   |        #define WRITE_TYPE_PARTIAL_SEQ_FIRST_RAW    10
                            21539 ; 81   |        #define WRITE_TYPE_PARTIAL_SEQ_NEXT_RAW     11
                            21540 ; 82   |        #define WRITE_TYPE_PARTIAL_SEQ_LAST_RAW     12
                            21541 ; 83   |    #endif
                            21542 ; 84   |#else
                            21543 ; 85   |    #define WRITE_TYPE_RANDOM                   0
                            21544 ; 86   |    #define WRITE_TYPE_SEQ_FIRST                1
                            21545 ; 87   |    #define WRITE_TYPE_SEQ_NEXT                 2
                            21546 ; 88   |    #ifdef MEDIA_DDI_RAW_SECTOR_SERVER_ENABLE
                            21547 ; 89   |        #define WRITE_TYPE_RANDOM_RAW               3
                            21548 ; 90   |        #define WRITE_TYPE_SEQ_FIRST_RAW            4
                            21549 ; 91   |        #define WRITE_TYPE_SEQ_NEXT_RAW             5
                            21550 ; 92   |    #endif
                            21551 ; 93   |#endif
                            21552 ; 94   |    #define WRITE_TYPE_UNDEFINED 0xFFFFFF
                            21553 ; 95   |
                            21554 ; 96   |
                            21555 ; 97   |#ifndef MAX_FILENAME_LENGTH
                            21556 ; 98   |#define MAX_FILENAME_LENGTH 256
                            21557 ; 99   |#endif
                            21558 ; 100  |
                            21559 ; 101  |typedef struct {
                            21560 ; 102  |    WORD wNumberOfZones;
                            21561 ; 103  |    WORD wSizeInMegaBytes;
                            21562 ; 104  |} SMARTMEDIA_CHIP_INFO;
                            21563 ; 105  |
                            21564 ; 106  |typedef struct {
                            21565 ; 107  |    WORD wBootIdentification;
                            21566 ; 108  |    WORD wStartHeadNumber;
                            21567 ; 109  |    WORD wStartSectorNumber;
                            21568 ; 110  |    WORD wStartCylinderNumber;
                            21569 ; 111  |    WORD wSystemIdentification;
                            21570 ; 112  |    WORD wEndHeadNumber;
                            21571 ; 113  |    WORD wEndSectorNumber;
                            21572 ; 114  |    WORD wEndCylinderNumber;
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 358

M:ADDR CODE           CYCLES LINE SOURCELINE
                            21573 ; 115  |    WORD wStartLogicalSectorNumberHigh;
                            21574 ; 116  |    WORD wStartLogicalSectorNumberLow;
                            21575 ; 117  |    WORD wPartitionSizeHigh;
                            21576 ; 118  |    WORD wPartitionSizeLow;
                            21577 ; 119  |} SMARTMEDIA_PARTITION_TABLE;
                            21578 ; 120  |
                            21579 ; 121  |typedef struct {
                            21580 ; 122  |    WORD wWord0;
                            21581 ; 123  |    WORD wWord1;
                            21582 ; 124  |    WORD wWord2;
                            21583 ; 125  |} SMARTMEDIA_CIS_IDI_MANUFACTURER_NAME;
                            21584 ; 126  |
                            21585 ; 127  |typedef struct {
                            21586 ; 128  |    WORD wWord0;
                            21587 ; 129  |    WORD wWord1;
                            21588 ; 130  |} SMARTMEDIA_CIS_IDI_PRODUCT_NAME;
                            21589 ; 131  |
                            21590 ; 132  |typedef struct {
                            21591 ; 133  |    WORD wWord0;
                            21592 ; 134  |    WORD wWord1;
                            21593 ; 135  |} SMARTMEDIA_CIS_IDI_PRODUCT_VERSION;
                            21594 ; 136  |
                            21595 ; 137  |typedef struct {
                            21596 ; 138  |    WORD wWord0;
                            21597 ; 139  |    WORD wWord1;
                            21598 ; 140  |    WORD wWord2;
                            21599 ; 141  |    WORD wWord3;
                            21600 ; 142  |} SMARTMEDIA_CIS_IDI_SERIAL_NUMBER;
                            21601 ; 143  |
                            21602 ; 144  |typedef struct {
                            21603 ; 145  |    WORD wWord0;
                            21604 ; 146  |} SMARTMEDIA_CIS_IDI_MODEL_NUMBER;
                            21605 ; 147  |
                            21606 ; 148  |typedef struct {
                            21607 ; 149  |    SMARTMEDIA_CIS_IDI_MANUFACTURER_NAME ManufacturerName;
                            21608 ; 150  |    SMARTMEDIA_CIS_IDI_PRODUCT_NAME ProductName;
                            21609 ; 151  |    SMARTMEDIA_CIS_IDI_PRODUCT_VERSION ProductVersion;
                            21610 ; 152  |    SMARTMEDIA_CIS_IDI_SERIAL_NUMBER SerialNumber;
                            21611 ; 153  |    SMARTMEDIA_CIS_IDI_MODEL_NUMBER ModelNumber;
                            21612 ; 154  |} SMARTMEDIA_CIS_IDI_TABLE;
                            21613 ; 155  |   
                            21614 ; 156  |typedef struct {
                            21615 ; 157  |    WORD wPageSizeInBytes;
                            21616 ; 158  |    WORD wRedundantAreaSizeInBytes;
                            21617 ; 159  |    WORD wNumberOfPagesPerBlock;
                            21618 ; 160  |    WORD wNumberOfBlocksPerZone;
                            21619 ; 161  |    WORD wNumberOfZonesInMedia;
                            21620 ; 162  |    WORD wMediaSizeInMBytes;
                            21621 ; 163  |    SMARTMEDIA_PARTITION_TABLE * pPartitionTable;
                            21622 ; 164  |    SMARTMEDIA_CIS_IDI_TABLE * pCisIdiTable;
                            21623 ; 165  |    WORD wMediaFlagStatus;
                            21624 ; 166  |    WORD wNumberOfBlocksToTheCisIdiBlock;
                            21625 ; 167  |    WORD wTotalNumberOfPhysicalBlocks;
                            21626 ; 168  |    WORD wNumberOfSystemBlocks;
                            21627 ; 169  |} SMARTMEDIA_ENTRY_TABLE;
                            21628 ; 170  |
                            21629 ; 171  |typedef struct {
                            21630 ; 172  |    WORD wDevice;        
                            21631 ; 173  |    WORD wDirtyBlockFlag;
                            21632 ; 174  |    WORD wCleanTailFlag; 
                            21633 ; 175  |    WORD wLogDOSPage;    
                            21634 ; 176  |    WORD wSrcLogBlock;   
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 359

M:ADDR CODE           CYCLES LINE SOURCELINE
                            21635 ; 177  |    WORD wSrcPhyBlock;   
                            21636 ; 178  |    WORD wDestPhyBlock;  
                            21637 ; 179  |    WORD wStartSrcPage;  
                            21638 ; 180  |    WORD wStartDestPage; 
                            21639 ; 181  |    WORD wPagesToCopy;   
                            21640 ; 182  |    WORD wReplaceBuff;   
                            21641 ; 183  |    WORD wReplaceRdnt;
                            21642 ; 184  |    #ifdef MEDIA_DDI_PARTIAL_SEQ_ENABLE
                            21643 ; 185  |        WORD wFirstCount;
                            21644 ; 186  |        WORD wNextCount;
                            21645 ; 187  |        WORD wLastCount;
                            21646 ; 188  |    #endif
                            21647 ; 189  |} SMARTMEDIA_FWPPS_TABLE;
                            21648 ; 190  |
                            21649 ; 191  |typedef struct {
                            21650 ; 192  |    WORD wWord0;
                            21651 ; 193  |    WORD wWord1;
                            21652 ; 194  |    WORD wWord2;
                            21653 ; 195  |    WORD wWord3;
                            21654 ; 196  |} DIRECTORY_NAME;
                            21655 ; 197  |
                            21656 ; 198  |typedef struct {
                            21657 ; 199  |    WORD wWord0;
                            21658 ; 200  |    WORD wWord1;
                            21659 ; 201  |} DIRECTORY_EXTENSION;
                            21660 ; 202  |
                            21661 ; 203  |typedef struct {
                            21662 ; 204  |    WORD wWord0;
                            21663 ; 205  |    WORD wWord1;
                            21664 ; 206  |} DIRECTORY_SIZE;
                            21665 ; 207  |
                            21666 ; 208  |typedef struct {
                            21667 ; 209  |    DIRECTORY_NAME Name;
                            21668 ; 210  |    DIRECTORY_EXTENSION Extension;
                            21669 ; 211  |    WORD wAttribute;
                            21670 ; 212  |    WORD wReserved[4];
                            21671 ; 213  |    WORD wCreationTime;
                            21672 ; 214  |    WORD wCreationData;
                            21673 ; 215  |    WORD wFirstCluster;
                            21674 ; 216  |    DIRECTORY_SIZE Size;
                            21675 ; 217  |    WORD wCurrentCluster;
                            21676 ; 218  |    WORD wPointer;
                            21677 ; 219  |    WORD wRecord;
                            21678 ; 220  |    WORD wRd;
                            21679 ; 221  |} DIRECTORY_FILE_CONTROL_BLOCK;
                            21680 ; 222  |
                            21681 ; 223  |// TODO:  clean this up.  There are two versions.
                            21682 ; 224  |struct FCB
                            21683 ; 225  |{
                            21684 ; 226  |    _packed BYTE m_szFileName[9];       //0-2
                            21685 ; 227  |    int     m_wReserved;                //3
                            21686 ; 228  |    _packed BYTE m_szExt[4];            //4-5
                            21687 ; 229  |    int     m_wAttributes;              //6
                            21688 ; 230  |    int     m_wReserved2[4];            //7,8,9,a
                            21689 ; 231  |    int     m_wTimeofCreation;          //b
                            21690 ; 232  |    int     m_wDateofCreation;          //c
                            21691 ; 233  |    int     m_wFirstCluster;            //d
                            21692 ; 234  |    int     m_wFileSizeHigh;            //e
                            21693 ; 235  |    int     m_wFileSizeLow;             //f
                            21694 ; 236  |};
                            21695 ; 237  |
                            21696 ; 238  |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 360

M:ADDR CODE           CYCLES LINE SOURCELINE
                            21697 ; 239  |typedef struct {
                            21698 ; 240  |    WORD wFirstClusterCurrentDirectory;
                            21699 ; 241  |    WORD wFirstClusterParentDirectory;
                            21700 ; 242  |    WORD wAbsSectorCurrentlyCached;
                            21701 ; 243  |    WORD wCurrentRelativeSector;
                            21702 ; 244  |    WORD wNumberOfSectors;
                            21703 ; 245  |    WORD wCurrentRecordLoadedInDcb;
                            21704 ; 246  |    WORD wBufferedRecord;
                            21705 ; 247  |    WORD wMaxNumberRecordsCurrentDirectory;
                            21706 ; 248  |    WORD * pwPointerToBuffer;
                            21707 ; 249  |    WORD * pwPointerToPath;
                            21708 ; 250  |    DIRECTORY_FILE_CONTROL_BLOCK * pDirFcb;
                            21709 ; 251  |} DIRECTORY_CONTROL_BLOCK;
                            21710 ; 252  |
                            21711 ; 253  |typedef struct {
                            21712 ; 254  |    WORD wWord0;
                            21713 ; 255  |    WORD wWord1;
                            21714 ; 256  |    WORD wWord2;
                            21715 ; 257  |    WORD wWord3;
                            21716 ; 258  |} FILE_NAME;
                            21717 ; 259  |
                            21718 ; 260  |typedef struct {
                            21719 ; 261  |    WORD wWord0;
                            21720 ; 262  |    WORD wWord1;
                            21721 ; 263  |} FILE_EXTENSION;
                            21722 ; 264  |
                            21723 ; 265  |typedef struct {
                            21724 ; 266  |    WORD wWord0;
                            21725 ; 267  |    WORD wWord1;
                            21726 ; 268  |} FILE_SIZE;
                            21727 ; 269  |
                            21728 ; 270  |typedef union {
                            21729 ; 271  |    struct {
                            21730 ; 272  |        int Read        :1;
                            21731 ; 273  |        int Write       :1;
                            21732 ; 274  |        int Append      :1;
                            21733 ; 275  |        int Truncate    :1;
                            21734 ; 276  |        int Create      :1;
                            21735 ; 277  |        int Rsrv        :3;
                            21736 ; 278  |        int Mode        :8;
                            21737 ; 279  |        int Device      :8;
                            21738 ; 280  |    } B;
                            21739 ; 281  |    int I;
                            21740 ; 282  |} FILE_FLAGS;
                            21741 ; 283  |
                            21742 ; 284  |typedef struct {
                            21743 ; 285  |    WORD wWord0;
                            21744 ; 286  |    WORD wWord1;
                            21745 ; 287  |} FILE_BYTE_CURRENT;
                            21746 ; 288  |
                            21747 ; 289  |typedef struct {
                            21748 ; 290  |    FILE_NAME Name;
                            21749 ; 291  |    FILE_EXTENSION Extension;
                            21750 ; 292  |    WORD wAttributes;
                            21751 ; 293  |    WORD wReserved[4];
                            21752 ; 294  |    WORD wCreationTime;
                            21753 ; 295  |    WORD wCreationData;
                            21754 ; 296  |    WORD wFirstCluster;
                            21755 ; 297  |    FILE_SIZE Size;
                            21756 ; 298  |    WORD wCurrentCluster;
                            21757 ; 299  |    WORD wPointer;
                            21758 ; 300  |    WORD wRecord;
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 361

M:ADDR CODE           CYCLES LINE SOURCELINE
                            21759 ; 301  |    WORD wRd;
                            21760 ; 302  |    FILE_FLAGS Flags;
                            21761 ; 303  |    FILE_BYTE_CURRENT FcbByteCurrent;
                            21762 ; 304  |    WORD wFcbFlagEndOfCx;
                            21763 ; 305  |} FILE_CONTROL_BLOCK;    
                            21764 ; 306  |
                            21765 ; 307  |typedef struct {
                            21766 ; 308  |    WORD wWord0;
                            21767 ; 309  |    WORD wWord1;
                            21768 ; 310  |    WORD wWord2;
                            21769 ; 311  |    WORD wWord3;
                            21770 ; 312  |} VOLUME_LABEL;
                            21771 ; 313  |
                            21772 ; 314  |typedef struct {
                            21773 ; 315  |    WORD wFATPhysicalBlock1;
                            21774 ; 316  |    WORD wFATPhysicalBlock2;
                            21775 ; 317  |    WORD wFATPhysicalBlock3;
                            21776 ; 318  |    WORD wFATPhysicalBlock4;
                            21777 ; 319  |} FAT_PHYSICAL_BLOCK_LIST;
                            21778 ; 320  |
                            21779 ; 321  |typedef struct {
                            21780 ; 322  |    WORD wFATSectorInCache;
                            21781 ; 323  |    WORD wLastClusterFree;
                            21782 ; 324  |    WORD wNumberOfUsedClusters;
                            21783 ; 325  |    WORD wNumberOfFreeClusters;
                            21784 ; 326  |    WORD wNumberOfBadClusters;
                            21785 ; 327  |    WORD wNumberOfReservedClusters;
                            21786 ; 328  |    WORD wControl;
                            21787 ; 329  |    WORD * pwSectorCache;
                            21788 ; 330  |    FAT_PHYSICAL_BLOCK_LIST FATPhysicalLocationList;
                            21789 ; 331  |} FAT_TABLE;
                            21790 ; 332  |
                            21791 ; 333  |typedef struct {
                            21792 ; 334  |    WORD wStateMediaTable;
                            21793 ; 335  |    WORD wTypeFs;
                            21794 ; 336  |    WORD wBytesPerSector;
                            21795 ; 337  |    WORD wSectorsPerCluster;
                            21796 ; 338  |    WORD wNumberOfReservedSectors;
                            21797 ; 339  |    WORD wMaximumNumberOfFATs;
                            21798 ; 340  |    WORD wMaxRootDirectoryEntries;
                            21799 ; 341  |    WORD wTotalSectors;
                            21800 ; 342  |    WORD wNumberOfFATSectors;
                            21801 ; 343  |    WORD wNumberOfSectorsPerTrack;
                            21802 ; 344  |    WORD wNumberOfHeads;
                            21803 ; 345  |    WORD wNumberOfHiddenSectorsMSB;
                            21804 ; 346  |    WORD wNumberOfHiddenSectorsLSB;
                            21805 ; 347  |    WORD wTotalSectors32MSB;
                            21806 ; 348  |    WORD wTotalSectors32LSB;
                            21807 ; 349  |    WORD wDriverNumber;
                            21808 ; 350  |    WORD wExtendedBootSignature;
                            21809 ; 351  |    WORD wVolumeIDMSB;
                            21810 ; 352  |    WORD wVolumeIDLSB;
                            21811 ; 353  |    VOLUME_LABEL VolumeLabel;
                            21812 ; 354  |    WORD * pwWriteBuffer;
                            21813 ; 355  |    WORD wPrimaryFATRelativeSector;
                            21814 ; 356  |    WORD wSecondaryFATRelativeSector;
                            21815 ; 357  |    WORD wRootDirectoryRelativeSector;
                            21816 ; 358  |    WORD wFirstSectorNumberDataZone;
                            21817 ; 359  |    WORD wMaxNumberOfFATEntries;
                            21818 ; 360  |    WORD wRootDirectorySizeInSectors;
                            21819 ; 361  |    WORD wDataAreaSizeInSectors;
                            21820 ; 362  |} MEDIA_TABLE;
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 362

M:ADDR CODE           CYCLES LINE SOURCELINE
                            21821 ; 363  |
                            21822 ; 364  |typedef struct {
                            21823 ; 365  |    MEDIA_TABLE * pMediaTable;
                            21824 ; 366  |    DIRECTORY_CONTROL_BLOCK * pDirectoryControlBlock;
                            21825 ; 367  |    FAT_TABLE * pFATTable;
                            21826 ; 368  |} DEVICE_CONTROL_TABLE;
                            21827 ; 369  |    
                            21828 ; 370  |typedef struct {
                            21829 ; 371  |    WORD dwTotalSizeInMegaBytes;        // dwTotalSizeInMegaBytes is limited
                            21830 ; 372  |                                        //  to 2-bytes for compatibility with
                            21831 ; 373  |                                        //  older host drivers.
                            21832 ; 374  |    DWORD dwTotalNumberOfSectors;
                            21833 ; 375  |    DWORD dwTotalNumberOfBytes;
                            21834 ; 376  |    WORD wSectorSizeInBytes;
                            21835 ; 377  |} MEDIA_SIZE;
                            21836 ; 378  |
                            21837 ; 379  |typedef struct {
                            21838 ; 380  |    BOOL    bInstalled;
                            21839 ; 381  |    INT     iPbsSectorOffset;   // from the beginning of the data drive 
                            21840 ; 382  |    DWORD   dwSize;
                            21841 ; 383  |} DATA_DRIVE_PBS_LOC;
                            21842 ; 384  |extern  INT _reentrant FSFileOpen(_packed BYTE *fname,INT attribute, INT DeviceNumber);
                            21843 ; 385  |extern  INT _reentrant FSFastOpen(DWORD Key, INT attribute);
                            21844 ; 386  |extern  INT FSFileDelete(_packed BYTE *fname,INT DeviceNumber);
                            21845 ; 387  |extern  INT FSFileCreate(_packed BYTE *fname,INT DeviceNumber);
                            21846 ; 388  |extern  INT _reentrant FSChangeDir(_packed BYTE *dirname,INT DeviceNumber);
                            21847 ; 389  |extern  INT _reentrant FSCreateDir(_packed BYTE *dirname,INT DeviceNumber);
                            21848 ; 390  |extern  INT _reentrant FSDeleteDir(_packed BYTE *dirname,INT DeviceNumber);
                            21849 ; 391  |extern  INT _reentrant FSFileAppend(_packed BYTE *fname,INT DeviceNumber);
                            21850 ; 392  |extern  INT _reentrant FSFileRead(INT BytestoRead, INT Handle, INT memory_type, INT modulo
                                  , WORD *buffer);
                            21851 ; 393  |extern  INT _reentrant FSFileWrite(INT wNumberBytes, INT Handle, INT memory_type, INT iMod
                                  ulo, WORD *buffer);
                            21852 ; 394  |extern  INT _reentrant FSFileClose(INT Handle);
                            21853 ; 395  |extern  LONG _reentrant FSFileSize(INT HandleNumber);
                            21854 ; 396  |extern  LONG  FSSize(INT DeviceNum, INT TYPE);   
                            21855 ; 397  |extern  INT FSFreeClusters(INT Device);
                            21856 ; 398  |extern  INT BytesPerCluster(INT Device);
                            21857 ; 399  |
                            21858 ; 400  |
                            21859 ; 401  |
                            21860 ; 402  |//extern  INT FSFileCreate(_packed BYTE *pbFileName, BYTE bDevice);
                            21861 ; 403  |//extern  INT FSFileDelete(_packed BYTE *pbFileName, BYTE bDevice);
                            21862 ; 404  |extern  INT FSFileRename(_packed BYTE *pbCurFilename, _packed BYTE *pbNewFilename, BYTE bD
                                  evice);
                            21863 ; 405  |//extern  INT _reentrant FSFileAttribute(_packed BYTE *pbFilename, WORD wAttributes, BYTE 
                                  bDevice);
                            21864 ; 406  |//extern  INT FSFileAppend(_packed BYTE *pbFileName, BYTE bDevice);
                            21865 ; 407  |//extern  INT FSFileOpen(_packed BYTE *pbFileName, WORD wAttributes, BYTE bDevice);
                            21866 ; 408  |//extern  INT FSFileClose(INT bHandle);
                            21867 ; 409  |//extern  INT FSFileRead(WORD wNumberBytes, BYTE bHandle, WORD wMemSpace, INT iModulo, WOR
                                  D *pwBuffer);
                            21868 ; 410  |//extern  INT FSFileWrite(WORD wNumberBytes, BYTE bHandle, WORD wMemSpace, INT iModulo, WO
                                  RD *pwBuffer);
                            21869 ; 411  |extern  INT _reentrant fseek( INT handle , LONG offset, INT iOrigin );
                            21870 ; 412  |extern  INT _reentrant FSFileEof(INT Handle);
                            21871 ; 413  |extern INT _reentrant FSFileAttribute(INT Attributes, _packed BYTE *fname, INT DeviceNumbe
                                  r);
                            21872 ; 414  |extern INT _reentrant FSFileAttributeClear(INT Attributes, _packed BYTE *fname, INT Device
                                  Number);
                            21873 ; 415  |//extern  LONG FSFileSize(INT bHandle);
                            21874 ; 416  |extern _asmfunc INT FSPresent(BYTE bDevice);
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 363

M:ADDR CODE           CYCLES LINE SOURCELINE
                            21875 ; 417  |extern _asmfunc INT FSType(BYTE bDevice);
                            21876 ; 418  |//extern LONG FSSize(WORD wDevice, WORD wReturnType);
                            21877 ; 419  |//extern INT FSChangeDir(_packed BYTE *pbDirName, BYTE bDevice);
                            21878 ; 420  |//extern INT FSCreateDir(_packed BYTE *pbDirName, BYTE bDevice);
                            21879 ; 421  |//extern INT FSDeleteDir(_packed BYTE *pbDirName, BYTE bDevice);
                            21880 ; 422  |extern _asmfunc void SysLoadFATWrite(void);
                            21881 ; 423  |extern _asmfunc INT SysUnLoadFATWrite(void);
                            21882 ; 424  |extern LONG _reentrant ftell(INT iHandle);
                            21883 ; 425  |extern _asmfunc struct FCB * ReadDirectory(int iDevice, int iEntry);
                            21884 ; 426  |
                            21885 ; 427  |#endif
                            21886 
                            21888 
                            21889 ; 7    |#include "metadata.h"
                            21890 
                            21892 
                            21893 ; 1    |////////////////////////////////////////////////////////////////////////////////
                            21894 ; 2    |// Copyright(C) SigmaTel, Inc. 2002
                            21895 ; 3    |//
                            21896 ; 4    |// Filename: metadata.h
                            21897 ; 5    |// Description:
                            21898 ; 6    |////////////////////////////////////////////////////////////////////////////////
                            21899 ; 7    |
                            21900 ; 8    |#ifndef _METADATA_H
                            21901 ; 9    |#define _METADATA_H
                            21902 ; 10   |
                            21903 ; 11   |///////////////////////////////////////////////////////////////////////////////
                            21904 ; 12   |// MetaData definitions
                            21905 ; 13   |///////////////////////////////////////////////////////////////////////////////
                            21906 ; 14   |
                            21907 ; 15   |//#define MMC_CMD59       0x40|59
                            21908 ; 16   |
                            21909 ; 17   |///////////////////////////////////////////////////////////////////////////////
                            21910 ; 18   |// Meta Data structure definitions
                            21911 ; 19   |///////////////////////////////////////////////////////////////////////////////
                            21912 ; 20   |
                            21913 ; 21   |///////////////////////////////////////////////////////////////////////////////
                            21914 ; 22   |// MetaData definitions
                            21915 ; 23   |
                            21916 ; 24   |#define META_DATA_FOUND                     (WORD)(0)
                            21917 ; 25   |#define META_DATA_NOT_FOUND                 (WORD)(0x100)
                            21918 ; 26   |#define META_DATA_FILE_NOT_SUPPORTED        (WORD)(0x101)
                            21919 ; 27   |#define META_DATA_FILEOPEN_ERROR            (WORD)(0x200)
                            21920 ; 28   |#define META_DATA_FILEREAD_ERROR            (WORD)(0x201)
                            21921 ; 29   |#define META_DATA_FILECLOSE_ERROR           (WORD)(0x202)
                            21922 ; 30   |#define META_DATA_FILESEEK_ERROR            (WORD)(0x203)
                            21923 ; 31   |#define META_DATA_FILEWRITE_ERROR           (WORD)(0x204)
                            21924 ; 32   |#define META_DATA_SUCCESS                               (WORD)(0x205)
                            21925 ; 33   |
                            21926 ; 34   |#define META_DATA_NOT_VBR_FORMAT            (WORD)(0x102)
                            21927 ; 35   |
                            21928 ; 36   |// VBR
                            21929 ; 37   |#define VBR_NOT_DETERMINED 0
                            21930 ; 38   |#define VBR_TRUE 1
                            21931 ; 39   |
                            21932 ; 40   |#ifndef TITLE_SIZE
                            21933 ; 41   |//#define TITLE_SIZE 30
                            21934 ; 42   |#ifndef USE_PLAYLIST3
                            21935 ; 43   |#define TITLE_SIZE 256          //was 30 but LFNs require up to 256!
                            21936 ; 44   |#else
                            21937 ; 45   |#define TITLE_SIZE 80           //was 256 but music library only store up to 129!
                            21938 ; 46   |#endif
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 364

M:ADDR CODE           CYCLES LINE SOURCELINE
                            21939 ; 47   |#endif
                            21940 ; 48   |
                            21941 ; 49   |#ifndef ARTIST_SIZE
                            21942 ; 50   |#ifndef USE_PLAYLIST3
                            21943 ; 51   |//#define ARTIST_SIZE 30
                            21944 ; 52   |#define ARTIST_SIZE 100         // increase artist size for use with ID3V2 tags (Stmp00003
                                  110)
                            21945 ; 53   |#else
                            21946 ; 54   |#define ARTIST_SIZE 48          // increase artist size for use with ID3V2 tags (Stmp00003
                                  110)
                            21947 ; 55   |#endif
                            21948 ; 56   |#endif
                            21949 ; 57   |
                            21950 ; 58   |#ifndef ALBUM_SIZE
                            21951 ; 59   |#ifndef USE_PLAYLIST3
                            21952 ; 60   |//#define ALBUM_SIZE 30
                            21953 ; 61   |#define ALBUM_SIZE 50           // increase album size (not as much) for use with ID3V2 ta
                                  gs (Stmp00003110)
                            21954 ; 62   |#else
                            21955 ; 63   |#define ALBUM_SIZE 48           // increase album size (not as much) for use with ID3V2 ta
                                  gs (Stmp00003110)
                            21956 ; 64   |#endif
                            21957 ; 65   |#endif
                            21958 ; 66   |
                            21959 ; 67   |#ifdef USE_PLAYLIST3
                            21960 ; 68   |#ifndef GENRE_SIZE
                            21961 ; 69   |#define GENRE_SIZE 20
                            21962 ; 70   |#endif
                            21963 ; 71   |
                            21964 ; 72   |#ifndef YEAR_SIZE
                            21965 ; 73   |#define YEAR_SIZE 8
                            21966 ; 74   |#endif
                            21967 ; 75   |
                            21968 ; 76   |#ifndef TRACKNUM_SIZE
                            21969 ; 77   |#define TRACKNUM_SIZE 5 // assume track number is smaller than 0xfff (12bit or 4095)
                            21970 ; 78   |#endif
                            21971 ; 79   |
                            21972 ; 80   |#define MAX_TRACK_NUMBER 0x000fff
                            21973 ; 81   |#define UNKNOWN_TRACK_NUMBER MAX_TRACK_NUMBER
                            21974 ; 82   |#endif
                            21975 ; 83   |
                            21976 ; 84   |#define XING_TOC_SIZE   100
                            21977 ; 85   |#if MTP_BUILD
                            21978 ; 86   |// This size is used to build table for FF/RW for vbr songs,
                            21979 ; 87   |// and as there is no such function in mtp mode, it is reduced to release y-memory.
                            21980 ; 88   |#define VBR_TOC_SIZE    2
                            21981 ; 89   |#else
                            21982 ; 90   |#define VBR_TOC_SIZE    200
                            21983 ; 91   |#endif
                            21984 ; 92   |
                            21985 ; 93   |extern UCS3 g_wSongTitle[TITLE_SIZE];
                            21986 ; 94   |extern UCS3 g_wSongArtist[ARTIST_SIZE];
                            21987 ; 95   |extern UCS3 g_wSongAlbum[ALBUM_SIZE];
                            21988 ; 96   |#ifdef USE_PLAYLIST3
                            21989 ; 97   |extern UCS3 g_wSongGenre[GENRE_SIZE];
                            21990 ; 98   |extern UCS3 g_wSongYear[YEAR_SIZE];
                            21991 ; 99   |extern WORD g_wSongTrackNum;
                            21992 ; 100  |#endif
                            21993 ; 101  |
                            21994 ; 102  |extern WORD g_wVBRTOCTable[VBR_TOC_SIZE];
                            21995 ; 103  |
                            21996 ; 104  |typedef struct {
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 365

M:ADDR CODE           CYCLES LINE SOURCELINE
                            21997 ; 105  |    WORD        iTitleBufferLength;
                            21998 ; 106  |        UCS3       *wTitle;        // Title of Song
                            21999 ; 107  |    WORD        iArtistBufferLength;
                            22000 ; 108  |    UCS3       *wArtist;
                            22001 ; 109  |    WORD        iAlbumBufferLength;
                            22002 ; 110  |    UCS3       *wAlbum;
                            22003 ; 111  |#ifdef USE_PLAYLIST3
                            22004 ; 112  |    WORD        iGenreBufferLength;
                            22005 ; 113  |    UCS3       *wGenre;
                            22006 ; 114  |    WORD        iYearBufferLength;
                            22007 ; 115  |    UCS3       *wYear;
                            22008 ; 116  |    WORD        wTrackNum;
                            22009 ; 117  |#endif
                            22010 ; 118  |    BYTE       btGenre;       // Genre of audio file -- if MP3, use the ID3v1 tag byte
                            22011 ; 119  |        WORD       wSampRate;     // Sample Rate of song (Hz)
                            22012 ; 120  |        WORD       wNumChannels;
                            22013 ; 121  |        WORD       wBitRate;      // Bitrate of song (for MP3 VBR, this will be first bitr
                                  ate found)
                            22014 ; 122  |        LONG       iTime;                 // Length of song in seconds
                            22015 ; 123  |        DWORD      dwStartPos;    // Position where audio starts. (if required by the deco
                                  der)
                            22016 ; 124  |        DWORD      dwNumBytes;    // Total Bytes in audio part of song
                            22017 ; 125  |    DWORD      dwDataBytes;   // for wma; (total bytes - header bytes)
                            22018 ; 126  |        DWORD      dwNumFrames;   // See note below on frames
                            22019 ; 127  |        BOOL       bVBR;                  // 0 = CBR or does not apply , 1 = VBR (**see qu
                                  estion below**)
                            22020 ; 128  |        INT                iFileType;     // 0 = unknown, 1 = MP3, 2 = WMA, 4 = AAC, 8 = I
                                  MA ADPCM, etc (use defines below)
                            22021 ; 129  |        INT                iResourceNum;  // Resource number of the decoder that needed fo
                                  r this file
                            22022 ; 130  |} FILE_META_DATA;
                            22023 ; 131  |
                            22024 ; 132  |// File Type Defines (use for iFileType) -- matches bit defines in sysequ.inc
                            22025 ; 133  |#define UNKNOWN_TYPE   0
                            22026 ; 134  |#define MP3_TYPE       1
                            22027 ; 135  |#define WMA_TYPE       2
                            22028 ; 136  |#define AAC_TYPE       4
                            22029 ; 137  |#define IMA_ADPCM_TYPE 8
                            22030 ; 138  |#define MS_ADPCM_TYPE  16
                            22031 ; 139  |#define PCM_WAV_TYPE   32
                            22032 ; 140  |#define ASF_TYPE       64
                            22033 ; 141  |#define AUDIBLE_ACELP_TYPE 128
                            22034 ; 142  |#define AUDIBLE_MP3_TYPE   256          // 9/28/04 mmiu
                            22035 ; 143  |
                            22036 ; 144  |#define SMV_ADPCM_TYPE 512
                            22037 ; 145  |
                            22038 ; 146  |
                            22039 ; 147  |//////SRS WOW DEFS/////////////////////////////////////////////////////////////
                            22040 ; 148  |// Sample rates
                            22041 ; 149  |#ifdef WOW
                            22042 ; 150  |#define SR_48KHZ        48000
                            22043 ; 151  |#define SR_44KHZ        44100
                            22044 ; 152  |#define SR_32KHZ        32000
                            22045 ; 153  |#define SR_24KHZ        24000
                            22046 ; 154  |#define SR_22KHZ        22050
                            22047 ; 155  |#define SR_16KHZ        16000
                            22048 ; 156  |#define SR_12KHZ        12000
                            22049 ; 157  |#define SR_11KHZ        11025
                            22050 ; 158  |#define SR_8KHZ          8000
                            22051 ; 159  |#endif
                            22052 ; 160  |
                            22053 ; 161  |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 366

M:ADDR CODE           CYCLES LINE SOURCELINE
                            22054 ; 162  |///////////////////////////////////////////////////////////////////////////////
                            22055 ; 163  |// MetaData prototypes
                            22056 ; 164  |///////////////////////////////////////////////////////////////////////////////
                            22057 ; 165  |
                            22058 ; 166  |RETCODE _reentrant GetFileMetaData(INT PackedPathNameAddress, INT btCurrentDevice, FILE_ME
                                  TA_DATA *MetaData);
                            22059 ; 167  |#ifdef USE_PLAYLIST3
                            22060 ; 168  |INT _reentrant GetRelativePath(int highlight_index, int browse_type, INT* PackedPathNameAd
                                  dress);
                            22061 ; 169  |INT _reentrant RetrieveSongInfo(INT a, INT b, INT *p_path);
                            22062 ; 170  |#endif
                            22063 ; 171  |
                            22064 ; 172  |#endif // #ifndef _METADATA_H
                            22065 
                            22067 
                            22068 ; 8    |
                            22069 ; 9    |#define MAX_NUM_DIR 1           //max supported directories including all subdirectories
                            22070 ; 10   |#define MAX_NUM_FILES   1       //max supported files
                            22071 ; 11   |#define MAX_SORT_ENTRIES_PER_DIRECTORY  15
                            22072 ; 12   |
                            22073 ; 13   |#define MAX_RECORDS_PER_DIRECTORY   4096        //calculated from the bits in the m_iRecor
                                  dNum field in the following data structures.
                            22074 ; 14   |                                                                                        //
                                  An entry can have multiple records in the FAT for LFNs.
                            22075 ; 15   |                                                                                        //
                                  Records more than this number will not be included in the playlist content
                            22076 ; 16   |
                            22077 ; 17   |#define SFN_LENGTH      13      //8.3\ + NULL
                            22078 ; 18   |
                            22079 ; 19   |#define  _MAX_DIR_DEPTH 8
                            22080 ; 20   |#define  MAX_DIRNAME_LENGTH ((SFN_LENGTH*_MAX_DIR_DEPTH)+1)
                            22081 ; 21   |
                            22082 ; 22   |struct Bookmark{
                            22083 ; 23   |        INT       m_iTracknum;
                            22084 ; 24   |        DWORD m_dwTrackPosBytes;
                            22085 ; 25   |}; //this will save the num and position of the song selected for bookmark
                            22086 ; 26   |
                            22087 ; 27   |
                            22088 ; 28   |typedef struct{
                            22089 ; 29   |    unsigned int    m_pNext:16;                 //points to the next inline DirEntry. 
                            22090 ; 30   |        unsigned int    m_bAllocated:1; //1=allocated, 0=free.
                            22091 ; 31   |    unsigned int    m_iDevice:1;
                            22092 ; 32   |        unsigned int    m_bIsRoot:1;    //1=ROOT directory, 0= Any directory except ROOT.
                            22093 ; 33   |//////////////////////////////////////////////////////////////////////////////////////////
                                  //
                            22094 ; 34   |    unsigned int    m_pDirContents:16;  //points to the first content which is a dir.
                            22095 ; 35   |//////////////////////////////////////////////////////////////////////////////////////////
                                  /
                            22096 ; 36   |        unsigned int    m_pFileContents:16; //pointer in FileEntryPool where the file cont
                                  ents for this directory begin.
                            22097 ; 37   |//////////////////////////////////////////////////////////////////////////////////////////
                                  //
                            22098 ; 38   |        unsigned int    m_iDirSector1:21;
                            22099 ; 39   |//////////////////////////////////////////////////////////////////////////////////////////
                                  //
                            22100 ; 40   |        unsigned int    m_iDirOffset:12;
                            22101 ; 41   |        unsigned int    m_iRecordNum:12;        //record number of the directory record (L
                                  FN use).
                            22102 ; 42   |
                            22103 ; 43   |        unsigned int    m_iDirSector2:11;
                            22104 ; 44   |        //!! The above are implicitly used as a struct*. Using INT bitfields to save memor
                                  y !!!
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 367

M:ADDR CODE           CYCLES LINE SOURCELINE
                            22105 ; 45   |//////////////////////////////////////////////////////////////////////////////////////////
                                  //      
                            22106 ; 46   |#ifdef DEBUG_SFN
                            22107 ; 47   |        _packed BYTE name[SFN_LENGTH];
                            22108 ; 48   |#endif
                            22109 ; 49   |}DirEntry;
                            22110 ; 50   |
                            22111 ; 51   |typedef struct{
                            22112 ; 52   |        unsigned int    m_bAllocated:1; //1=allocated, 0=free.
                            22113 ; 53   |        unsigned int    m_bCurrentPlayset:1;    //1=Belongs to the current playset.
                            22114 ; 54   |        unsigned int    m_bTrackPlayed:1;               //Indicates if the track was playe
                                  d atleast once. Currently not used.
                            22115 ; 55   |        unsigned int    m_iDirSector1:21;
                            22116 ; 56   |//////////////////////////////////////////////////////////////////////////////////////////
                                  ////////////
                            22117 ; 57   |        unsigned int    m_iTrackOrder:10;               //Order of this track in the curre
                                  nt playset.
                            22118 ; 58   |        unsigned int    m_iDirOffset:12;
                            22119 ; 59   |//////////////////////////////////////////////////////////////////////////////////////////
                                  ////////////
                            22120 ; 60   |        unsigned int    m_iDevice:1;
                            22121 ; 61   |        unsigned int    m_iRecordNum:12;        //Record number of the file record (LFN us
                                  e).
                            22122 ; 62   |        unsigned int    m_iDirSector2:11;
                            22123 ; 63   |//////////////////////////////////////////////////////////////////////////////////////////
                                  ////////////
                            22124 ; 64   |        unsigned int    m_pNext:16;             // //points to the next inline file.
                            22125 ; 65   |//////////////////////////////////////////////////////////////////////////////////////////
                                  ////////////
                            22126 ; 66   |#ifdef DEBUG_SFN
                            22127 ; 67   |        _packed BYTE name[SFN_LENGTH];
                            22128 ; 68   |#endif
                            22129 ; 69   |}FileEntry;
                            22130 
                            22175 
                            22176 ; 70   |
                            22177 ; 71   |typedef struct{
                            22178 ; 72   |        DirEntry _X* pDirEntry; //Start traversing from this directory entry
                            22179 ; 73   |        unsigned int    iReason;
                            22180 ; 74   |        unsigned int iDevice;
                            22181 ; 75   |        unsigned int iPlayset;
                            22182 ; 76   |        unsigned int iDepth;
                            22183 ; 77   |        unsigned int iTrackOrder;
                            22184 ; 78   |        unsigned int iTrackNum;
                            22185 ; 79   |        FileEntry* pFileEntry;
                            22186 ; 80   |        DirEntry _X* DirLinks[_MAX_DIR_DEPTH];  //maintains a dynamic list of directory li
                                  nks within the recursion
                            22187 ; 81   |        unsigned int    iTotalLinks;
                            22188 ; 82   |}TraverseTreeParams;
                            22189 ; 83   |
                            22190 ; 84   |typedef struct{
                            22191 ; 85   |        unsigned int EntryType;                         //TYPE_DIR or TYPE_FILE
                            22192 ; 86   |        FileEntry* pFileEntry;          //used if TYPE_FILE
                            22193 ; 87   |        DirEntry _X* pDirEntry;                 //used if TYPE_DIR
                            22194 ; 88   |        unsigned int iTrackNum;
                            22195 ; 89   |        unsigned int iTrackOrder;
                            22196 ; 90   |        DirEntry _X* DirLinks[_MAX_DIR_DEPTH];
                            22197 ; 91   |        unsigned int iTotalLinks;
                            22198 ; 92   |}EntryAccessInfo;
                            22199 ; 93   |
                            22200 ; 94   |typedef struct{
                            22201 ; 95   |        void* pEntry;
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 368

M:ADDR CODE           CYCLES LINE SOURCELINE
                            22202 ; 96   |        _packed BYTE name[SFN_LENGTH];
                            22203 ; 97   |}SFNStorage;
                            22204 ; 98   |
                            22205 ; 99   |extern DirEntry _X g_DirEntryPerDevice[];               //ROOT(s)
                            22206 ; 100  |extern DirEntry _X g_DirEntryPool[];            //Pool of directory entries, Does not cont
                                  ain files.
                            22207 ; 101  |extern FileEntry g_FileEntryPool[];
                            22208 
                            22223 
                            22224 ; 102  |extern EntryAccessInfo g_CurrentTrack;
                            22225 ; 103  |extern int g_iPlaylistRepeat;
                            22226 ; 104  |extern int g_bPlaylistShuffle;
                            22227 
                            22235 
                            22236 ; 105  |extern SFNStorage g_TempSFNSpace[];
                            22237 ; 106  |extern int g_iTotalTracks;
                            22238 ; 107  |
                            22239 ; 108  |extern int g_iPlaySet;
                            22240 ; 109  |
                            22241 ; 110  |extern struct Bookmark g_MarkerMusic, g_MarkerVoice;
                            22242 ; 111  |extern int g_iTotalDir;
                            22243 ; 112  |extern int g_iTotalFiles;
                            22244 ; 113  |
                            22245 ; 114  |void _reentrant ML_building_engine_init_playlist3(void);
                            22246 ; 115  |void _reentrant ML_voice_build_engine_init_playlist3(void);
                            22247 ; 116  |void _reentrant ML_merging_engine_init_playlist3(void);
                            22248 ; 117  |_reentrant void Rebuild_GetMetaData(WORD wMode,int ignored1,int*ignored2);
                            22249 ; 118  |_reentrant void Rebuild_GetFileMetaData(INT PackedPathNameAddress, INT btCurrentDevice, FI
                                  LE_META_DATA *MetaData);
                            22250 ; 119  |_reentrant RETCODE AddDirToLibrary(INT iDrive, INT iDirDepth);
                            22251 ; 120  |RETCODE _reentrant ML_GetLFN(DWORD dwFastKey, INT iRecordNum, UCS3 *pBuf);
                            22252 ; 121  |
                            22253 ; 122  |#endif
                            22254 
                            22256 
                            22257 ; 5    |#include "musiclib_ghdr.h"
                            22258 
                            22260 
                            22261 ; 1    |#ifndef MUSICLIB_GHDR_H
                            22262 ; 2    |#define MUSICLIB_GHDR_H
                            22263 ; 3    |
                            22264 ; 4    |#ifdef __cplusplus
                            22265 ; 5    |extern "C" {
                            22266 ; 6    |#endif
                            22267 ; 7    |
                            22268 ; 8    |/*========================================================================================
                                  ==========
                            22269 ; 9    |
                            22270 ; 10   |                                        General Description
                            22271 ; 11   |
                            22272 ; 12   |==========================================================================================
                                  ==========
                            22273 ; 13   |
                            22274 ; 14   |                               Sigmatel Inc Confidential Proprietary
                            22275 ; 15   |                               (c) Copyright Sigmatel Inc 2004, All Rights Reserved
                            22276 ; 16   |
                            22277 ; 17   |HEADER NAME: mf_sf_filename.h   AUTHOR: Developer Name      CREATION DATE: DD/MM/YYYY
                            22278 ; 18   |
                            22279 ; 19   |PRODUCT NAMES: All
                            22280 ; 20   |
                            22281 ; 21   |GENERAL DESCRIPTION:
                            22282 ; 22   |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 369

M:ADDR CODE           CYCLES LINE SOURCELINE
                            22283 ; 23   |    General description of this grouping of functions.
                            22284 ; 24   |
                            22285 ; 25   |Portability: All
                            22286 ; 26   |
                            22287 ; 27   |
                            22288 ; 28   |Revision History:
                            22289 ; 29   |
                            22290 ; 30   |                         Modification        Tracking
                            22291 ; 31   |Author                       Date             Number           Description of Changes
                            22292 ; 32   |---------------------    ------------        ----------        ---------------------------
                                  ----------
                            22293 ; 33   |Developer Name            DD/MM/YYYY         PDaaaxxxxx        brief description of change
                                  s made
                            22294 ; 34   |
                            22295 ; 35   |
                            22296 ; 36   |==========================================================================================
                                  ==========
                            22297 ; 37   |                                            DESCRIPTION
                            22298 ; 38   |==========================================================================================
                                  ==========
                            22299 ; 39   |
                            22300 ; 40   |GLOBAL FUNCTIONS:
                            22301 ; 41   |    MF_global_func_name()
                            22302 ; 42   |
                            22303 ; 43   |TRACEABILITY MATRIX:
                            22304 ; 44   |    None
                            22305 ; 45   |
                            22306 ; 46   |==========================================================================================
                                  ========*/
                            22307 ; 47   |
                            22308 ; 48   |/*========================================================================================
                                  ==========
                            22309 ; 49   |                                                                Conditional Compilation Di
                                  rectives
                            22310 ; 50   |==========================================================================================
                                  ========*/
                            22311 ; 51   |#ifdef WIN32
                            22312 ; 52   |#define _PC_SIMULATION_
                            22313 ; 53   |#else
                            22314 ; 54   |#define _RUNNING_IN_EMBEDDED_
                            22315 ; 55   |#endif  // WIN32
                            22316 ; 56   |
                            22317 ; 57   |#if 1
                            22318 ; 58   |#define _NEWMUSIC_      /* install new music list */
                            22319 ; 59   |#endif
                            22320 ; 60   |
                            22321 ; 61   |#if 1
                            22322 ; 62   |#define _AUDIBLE_       /* install audible list */
                            22323 ; 63   |#endif
                            22324 ; 64   |
                            22325 ; 65   |#if 1
                            22326 ; 66   |#define _ONTHEGO_       /* install on the go list */
                            22327 ; 67   |#endif
                            22328 ; 68   |
                            22329 ; 69   |#ifdef PL3_FB
                            22330 ; 70   |#define _FOLDER_BROWSE_ // install folder browsing
                            22331 ; 71   |#endif
                            22332 ; 72   |
                            22333 ; 73   |#if 1
                            22334 ; 74   |#define _SUPPORT_2000_SONGS_
                            22335 ; 75   |#endif
                            22336 ; 76   |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 370

M:ADDR CODE           CYCLES LINE SOURCELINE
                            22337 ; 77   |/*========================================================================================
                                  ==========
                            22338 ; 78   |                                           INCLUDE FILES
                            22339 ; 79   |==========================================================================================
                                  ========*/
                            22340 ; 80   |#ifdef _RUNNING_IN_EMBEDDED_
                            22341 ; 81   |#define OEM_SEEK_CUR    SEEK_CUR
                            22342 ; 82   |#define OEM_SEEK_SET    SEEK_SET
                            22343 ; 83   |#define OEM_SEEK_END    SEEK_END
                            22344 ; 84   |#else
                            22345 ; 85   |#define _X
                            22346 ; 86   |#define _Y
                            22347 ; 87   |#define _packed
                            22348 ; 88   |
                            22349 ; 89   |#define _asmfunc
                            22350 ; 90   |#define _reentrant
                            22351 ; 91   |
                            22352 ; 92   |#define OEM_SEEK_CUR    1
                            22353 ; 93   |#define OEM_SEEK_SET    0
                            22354 ; 94   |#define OEM_SEEK_END    2
                            22355 ; 95   |#endif  // _RUNNING_IN_EMBEDDED_
                            22356 ; 96   |
                            22357 ; 97   |#include "types.h"
                            22358 
                            22360 
                            22361 ; 1    |////////////////////////////////////////////////////////////////////////////////
                            22362 ; 2    |// Copyright(C) SigmaTel, Inc. 2000-2004
                            22363 ; 3    |//
                            22364 ; 4    |// Filename: types.h
                            22365 ; 5    |// Description: Standard data types
                            22366 ; 6    |////////////////////////////////////////////////////////////////////////////////
                            22367 ; 7    |
                            22368 ; 8    |#ifndef _TYPES_H
                            22369 ; 9    |#define _TYPES_H
                            22370 ; 10   |
                            22371 ; 11   |// TODO:  move this outta here!
                            22372 ; 12   |#if !defined(NOERROR)
                            22373 ; 13   |#define NOERROR 0
                            22374 ; 14   |#define SUCCESS 0
                            22375 ; 15   |#endif 
                            22376 ; 16   |#if !defined(SUCCESS)
                            22377 ; 17   |#define SUCCESS  0
                            22378 ; 18   |#endif
                            22379 ; 19   |#if !defined(ERROR)
                            22380 ; 20   |#define ERROR   -1
                            22381 ; 21   |#endif
                            22382 ; 22   |#if !defined(FALSE)
                            22383 ; 23   |#define FALSE 0
                            22384 ; 24   |#endif
                            22385 ; 25   |#if !defined(TRUE)
                            22386 ; 26   |#define TRUE  1
                            22387 ; 27   |#endif
                            22388 ; 28   |
                            22389 ; 29   |#if !defined(NULL)
                            22390 ; 30   |#define NULL 0
                            22391 ; 31   |#endif
                            22392 ; 32   |
                            22393 ; 33   |#define MAX_INT     0x7FFFFF
                            22394 ; 34   |#define MAX_LONG    0x7FFFFFffffff
                            22395 ; 35   |        // max positive unsigned long value: -1 == 0xFFFFFFffffff
                            22396 ; 36   |#define MAX_ULONG   (-1) 
                            22397 ; 37   |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 371

M:ADDR CODE           CYCLES LINE SOURCELINE
                            22398 ; 38   |#define WORD_SIZE   24              // word size in bits
                            22399 ; 39   |#define BYTES_PER_WORD 3            // 8 bit bytes
                            22400 ; 40   |
                            22401 ; 41   |
                            22402 ; 42   |#define BYTE    unsigned char       // btVarName
                            22403 ; 43   |#define CHAR    signed char         // cVarName
                            22404 ; 44   |#define USHORT  unsigned short      // usVarName
                            22405 ; 45   |#define SHORT   unsigned short      // sVarName
                            22406 ; 46   |#define WORD    unsigned int        // wVarName
                            22407 ; 47   |#define INT     signed int          // iVarName
                            22408 ; 48   |#define DWORD   unsigned long       // dwVarName
                            22409 ; 49   |#define LONG    signed long         // lVarName
                            22410 ; 50   |#define BOOL    unsigned int        // bVarName
                            22411 ; 51   |#define FRACT   _fract              // frVarName
                            22412 ; 52   |#define LFRACT  long _fract         // lfrVarName
                            22413 ; 53   |#define CIRC    _circ               // cp<type prefix>VarName (see below)
                            22414 ; 54   |#define FLOAT   float               // fVarName
                            22415 ; 55   |#define DBL     double              // dVarName
                            22416 ; 56   |#define ENUM    enum                // eVarName
                            22417 ; 57   |#define CMX     _complex            // cmxVarName
                            22418 ; 58   |typedef WORD UCS3;                   // 
                            22419 ; 59   |
                            22420 ; 60   |#define UINT16  unsigned short
                            22421 ; 61   |#define UINT8   unsigned char   
                            22422 ; 62   |#define UINT32  unsigned long
                            22423 ; 63   |#define UINT64  unsigned long   // need to figure out how to do 64 bit values.  Or port ex
                                  isiting code to only use 48 bit
                            22424 ; 64   |#define INT64   unsigned long   // need to figure out how to do 64 bit values.  Or port ex
                                  isiting code to only use 48 bit
                            22425 ; 65   |#define WCHAR   UINT16
                            22426 ; 66   |
                            22427 ; 67   |//UINT128 is 16 bytes or 6 words
                            22428 ; 68   |typedef struct UINT128_3500 {   
                            22429 ; 69   |    int val[6];     
                            22430 ; 70   |} UINT128_3500;
                            22431 ; 71   |
                            22432 ; 72   |#define UINT128   UINT128_3500
                            22433 ; 73   |
                            22434 ; 74   |// Little endian word packed byte strings:   
                            22435 ; 75   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                            22436 ; 76   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                            22437 ; 77   |// Little endian word packed byte strings:   
                            22438 ; 78   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                            22439 ; 79   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                            22440 ; 80   |
                            22441 ; 81   |// Declare Memory Spaces To Use When Coding
                            22442 ; 82   |// A. Sector Buffers
                            22443 ; 83   |#define SECTOR_BUFFER_MEM_X _X
                            22444 ; 84   |#define SECTOR_BUFFER_MEM_Y _Y
                            22445 ; 85   |#define SECTOR_BUFFER_MEM SECTOR_BUFFER_MEM_X
                            22446 ; 86   |typedef WORD SECTOR_BUFFER_MEM SECTOR_BUFFER;
                            22447 ; 87   |typedef SECTOR_BUFFER * P_SECTOR_BUFFER;
                            22448 ; 88   |// B. Media DDI Memory
                            22449 ; 89   |#define MEDIA_DDI_MEM _Y
                            22450 ; 90   |
                            22451 ; 91   |
                            22452 ; 92   |
                            22453 ; 93   |// Pointers to linear structures are labeled as: p<type prefix>VarName
                            22454 ; 94   |// Examples of circular pointers:
                            22455 ; 95   |//    INT CIRC cpiVarName
                            22456 ; 96   |//    DWORD CIRC cpdwVarName
                            22457 ; 97   |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 372

M:ADDR CODE           CYCLES LINE SOURCELINE
                            22458 ; 98   |#define RETCODE INT                 // rcVarName
                            22459 ; 99   |
                            22460 ; 100  |// generic bitfield structure
                            22461 ; 101  |struct Bitfield {
                            22462 ; 102  |    unsigned int B0  :1;
                            22463 ; 103  |    unsigned int B1  :1;
                            22464 ; 104  |    unsigned int B2  :1;
                            22465 ; 105  |    unsigned int B3  :1;
                            22466 ; 106  |    unsigned int B4  :1;
                            22467 ; 107  |    unsigned int B5  :1;
                            22468 ; 108  |    unsigned int B6  :1;
                            22469 ; 109  |    unsigned int B7  :1;
                            22470 ; 110  |    unsigned int B8  :1;
                            22471 ; 111  |    unsigned int B9  :1;
                            22472 ; 112  |    unsigned int B10 :1;
                            22473 ; 113  |    unsigned int B11 :1;
                            22474 ; 114  |    unsigned int B12 :1;
                            22475 ; 115  |    unsigned int B13 :1;
                            22476 ; 116  |    unsigned int B14 :1;
                            22477 ; 117  |    unsigned int B15 :1;
                            22478 ; 118  |    unsigned int B16 :1;
                            22479 ; 119  |    unsigned int B17 :1;
                            22480 ; 120  |    unsigned int B18 :1;
                            22481 ; 121  |    unsigned int B19 :1;
                            22482 ; 122  |    unsigned int B20 :1;
                            22483 ; 123  |    unsigned int B21 :1;
                            22484 ; 124  |    unsigned int B22 :1;
                            22485 ; 125  |    unsigned int B23 :1;
                            22486 ; 126  |};
                            22487 ; 127  |
                            22488 ; 128  |union BitInt {
                            22489 ; 129  |        struct Bitfield B;
                            22490 ; 130  |        int        I;
                            22491 ; 131  |};
                            22492 ; 132  |
                            22493 ; 133  |#define MAX_MSG_LENGTH 10
                            22494 ; 134  |struct CMessage
                            22495 ; 135  |{
                            22496 ; 136  |        unsigned int m_uLength;
                            22497 ; 137  |        unsigned int m_uMsg[MAX_MSG_LENGTH];
                            22498 ; 138  |};
                            22499 ; 139  |
                            22500 ; 140  |typedef struct {
                            22501 ; 141  |    WORD m_wLength;
                            22502 ; 142  |    WORD m_wMessage;
                            22503 ; 143  |    WORD m_wParams[MAX_MSG_LENGTH];
                            22504 ; 144  |} Message;
                            22505 ; 145  |
                            22506 ; 146  |struct MessageQueueDescriptor
                            22507 ; 147  |{
                            22508 ; 148  |        int *m_pBase;
                            22509 ; 149  |        int m_iModulo;
                            22510 ; 150  |        int m_iSize;
                            22511 ; 151  |        int *m_pHead;
                            22512 ; 152  |        int *m_pTail;
                            22513 ; 153  |};
                            22514 ; 154  |
                            22515 ; 155  |struct ModuleEntry
                            22516 ; 156  |{
                            22517 ; 157  |    int m_iSignaledEventMask;
                            22518 ; 158  |    int m_iWaitEventMask;
                            22519 ; 159  |    int m_iResourceOfCode;
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 373

M:ADDR CODE           CYCLES LINE SOURCELINE
                            22520 ; 160  |    struct MessageQueueDescriptor *m_pMessageQueue;
                            22521 ; 161  |    int _asmfunc (*m_pProcessEntryPoint)(union WaitMask Signals,struct MessageQueueDescrip
                                  tor *);
                            22522 ; 162  |    int _asmfunc (*m_pInitFunction)(struct MessageQueueDescriptor *);
                            22523 ; 163  |    int m_uTimeOutHigh;
                            22524 ; 164  |    int m_uTimeOutLow;
                            22525 ; 165  |    int _asmfunc (*m_pBackgroundFunction)(struct MessageQueueDescriptor *);
                            22526 ; 166  |};
                            22527 ; 167  |
                            22528 ; 168  |union WaitMask{
                            22529 ; 169  |    struct B{
                            22530 ; 170  |        unsigned int m_bNone     :1;
                            22531 ; 171  |        unsigned int m_bMessage  :1;
                            22532 ; 172  |        unsigned int m_bTimer    :1;
                            22533 ; 173  |        unsigned int m_bButton   :1;
                            22534 ; 174  |    } B;
                            22535 ; 175  |    int I;
                            22536 ; 176  |} ;
                            22537 ; 177  |
                            22538 ; 178  |
                            22539 ; 179  |struct Button {
                            22540 ; 180  |        WORD wButtonEvent;
                            22541 ; 181  |        WORD wUnused[MAX_MSG_LENGTH];   
                            22542 ; 182  |};
                            22543 ; 183  |
                            22544 ; 184  |struct Message {
                            22545 ; 185  |        WORD wMsgLength;
                            22546 ; 186  |        WORD wMsgCommand;
                            22547 ; 187  |        WORD wMsgParms[MAX_MSG_LENGTH-1];
                            22548 ; 188  |};
                            22549 ; 189  |
                            22550 ; 190  |union EventTypes {
                            22551 ; 191  |        struct CMessage msg;
                            22552 ; 192  |        struct Button Button ;
                            22553 ; 193  |        struct Message Message;
                            22554 ; 194  |};
                            22555 ; 195  |
                            22556 ; 196  |// next 2 used to get updater build to return correct protocol ver in scsi response.
                            22557 ; 197  |#define BUILD_TYPE_UPDATER  0x100
                            22558 ; 198  |#define BUILD_TYPE_HOSTLINK 0x101
                            22559 ; 199  |#define BUILD_TYPE_PLAYER   0x102
                            22560 ; 200  |
                            22561 ; 201  |// Resets part if RETAIL build. DEBUG build executes debug instruction to halt.
                            22562 ; 202  |#define SystemHalt() __asm(" include 'sysmacro.asm' \n error") 
                            22563 ; 203  |#define assert(x)    if(!(x)) __asm(" include 'sysmacro.asm' \n error")
                            22564 ; 204  |
                            22565 ; 205  |#if DEBUG
                            22566 ; 206  |// For DEBUG builds, DebugBuildAssert(condition) halts if condition evaluates to FALSE. 
                            22567 ; 207  |#define DebugBuildAssert(x)    if(!(x)) __asm(" debug ")
                            22568 ; 208  |#else 
                            22569 ; 209  |// For RETAIL builds, DebugBuildAssert(condition) does nothing & execution continues rathe
                                  r than halt or reset. 
                            22570 ; 210  |#define DebugBuildAssert(x)    
                            22571 ; 211  |#endif
                            22572 ; 212  |
                            22573 ; 213  |// Do this in your C files to make a reminder that's displayed during the build.
                            22574 ; 214  |//  #pragma asm
                            22575 ; 215  |//  WARN 'Note to builder: reminder to do this after verifying that'
                            22576 ; 216  |//  #pragma endasm
                            22577 ; 217  |
                            22578 ; 218  |
                            22579 ; 219  |#ifdef COLOR_262K
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 374

M:ADDR CODE           CYCLES LINE SOURCELINE
                            22580 ; 220  |#define RGB(r,g,b)    ((0x0000FC & (r)) << 10) | ((0x0000FC & (g)) << 4) | ((0x0000FC & (b
                                  )) >> 2)    //262k
                            22581 ; 221  |#elif defined(COLOR_65K)
                            22582 ; 222  |#define RGB(r,g,b)    ((0x0000F8 & (r)) << 8) | ((0x0000FC & (g)) << 3) | ((0x0000F8 & (b)
                                  ) >> 3)  //65k
                            22583 ; 223  |#else
                            22584 ; 224  |#define RGB(r,g,b)       ((0x0000F0 & (r)) << 4) | (0x0000F0 & (g)) | ((0x0000F0 & (b)) >>
                                   4)
                            22585 ; 225  |#endif
                            22586 ; 226  |    
                            22587 ; 227  |#endif // #ifndef _TYPES_H
                            22588 
                            22590 
                            22591 ; 98   |#include "exec.h"
                            22592 
                            22594 
                            22595 ; 1    |#ifndef EXEC_H
                            22596 ; 2    |#define EXEC_H
                            22597 ; 3    |
                            22598 ; 4    |
                            22599 ; 5    |void _reentrant SysPostMessage(int iLength,...);
                            22600 ; 6    |int _asmfunc GetMessage(struct MessageQueueDescriptor*,struct CMessage * );
                            22601 ; 7    |long _asmfunc SysGetCurrentTime(void);
                            22602 ; 8    |
                            22603 ; 9    |
                            22604 ; 10   |#endif
                            22605 
                            22607 
                            22608 ; 99   |#include "messages.h"
                            22609 
                            22611 
                            22612 ; 1    |/////////////////////////////////////////////////////////////////////////////////
                            22613 ; 2    |// Copyright(C) SigmaTel, Inc. 2000
                            22614 ; 3    |// Message defs
                            22615 ; 4    |/////////////////////////////////////////////////////////////////////////////////
                            22616 ; 5    |
                            22617 ; 6    |#if (!defined(MSGEQU_INC))
                            22618 ; 7    |#define MSGEQU_INC 1
                            22619 ; 8    |
                            22620 ; 9    |
                            22621 ; 10   |#define MAX_MODULE_SIZE   (lc_u_eP_Module_overlay-lc_u_bP_Module_overlay)*3
                            22622 ; 11   |
                            22623 ; 12   |
                            22624 ; 13   |#define MSG_TYPE_DECODER 0x000000
                            22625 ; 14   |#define MSG_TYPE_ENCODER 0x010000
                            22626 ; 15   |#define MSG_TYPE_PARSER 0x020000
                            22627 ; 16   |#define MSG_TYPE_LCD 0x030000
                            22628 ; 17   |#define MSG_TYPE_MIXER 0x040000
                            22629 ; 18   |#define MSG_TYPE_SYSTEM 0x050000
                            22630 ; 19   |#define MSG_TYPE_MENU 0x060000
                            22631 ; 20   |#define MSG_TYPE_LED 0x070000
                            22632 ; 21   |#define MSG_TYPE_TUNER 0x080000
                            22633 ; 22   |#define MSG_TYPE_CHARLCD 0x030000
                            22634 ; 23   |#define MSG_TYPE_SOFT_TIMER 0x090000
                            22635 ; 24   |// Equalizer and other effects
                            22636 ; 25   |#define MSG_TYPE_GEQ 0x0a0000             
                            22637 ; 26   |#if (defined(USE_PLAYLIST3))
                            22638 ; 27   |#define MSG_TYPE_MUSICLIB_PLAY 0x0b0000
                            22639 ; 28   |#define MSG_TYPE_MUSICLIB_BROWSE 0x0c0000
                            22640 ; 29   |#define MSG_TYPE_MUSICLIB_PLAYALLNEXT 0x0d0000
                            22641 ; 30   |#define MSG_TYPE_MUSICLIB_PLAYALLPREV 0x0e0000
                            22642 ; 31   |#define MSG_TYPE_MUSICLIB_SHUFFLE 0x0f0000
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 375

M:ADDR CODE           CYCLES LINE SOURCELINE
                            22643 ; 32   |#define MSG_TYPE_MUSICLIB_VOICE 0x100000
                            22644 ; 33   |#define MSG_TYPE_MUSICLIB_VOICEPLAY 0x110000
                            22645 ; 34   |#define MSG_TYPE_MUSICLIB_MERGE 0x120000
                            22646 ; 35   |#endif // IF (@def(USE_PLAYLIST3))
                            22647 ; 36   |#if defined(USE_PLAYLIST5)
                            22648 ; 37   |#define MSG_TYPE_PL5_PLAYBACK 0x0b0000
                            22649 ; 38   |#define MSG_TYPE_PL5_BROWSE 0x0c0000
                            22650 ; 39   |#endif // if @def('USE_PLAYLIST5')
                            22651 ; 40   |
                            22652 ; 41   |// Message Structure Offsets
                            22653 ; 42   |#define MSG_Length 0
                            22654 ; 43   |#define MSG_ID 1
                            22655 ; 44   |#define MSG_Argument1 2
                            22656 ; 45   |#define MSG_Argument2 3
                            22657 ; 46   |#define MSG_Argument3 4
                            22658 ; 47   |#define MSG_Argument4 5
                            22659 ; 48   |#define MSG_Argument5 6
                            22660 ; 49   |#define MSG_Argument6 7
                            22661 ; 50   |
                            22662 ; 51   |
                            22663 ; 52   |
                            22664 ; 53   |// LCD Message IDs
                            22665 ; 54   |#define LCD_FIRST_MSG_ID MSG_TYPE_LCD+0
                            22666 ; 55   |#define LCD_CLEAR_RANGE MSG_TYPE_LCD+0
                            22667 ; 56   |#define LCD_PRINT_RANGE_RSRC MSG_TYPE_LCD+1
                            22668 ; 57   |#define LCD_PRINT_RANGE_ADDR MSG_TYPE_LCD+2
                            22669 ; 58   |#define LCD_PRINT_RANGE_INV_RSRC MSG_TYPE_LCD+3
                            22670 ; 59   |#define LCD_PRINT_RANGE_INV_ADDR MSG_TYPE_LCD+4
                            22671 ; 60   |#define LCD_PRINT_RANGE_FILE MSG_TYPE_LCD+5
                            22672 ; 61   |#define LCD_PRINT_RANGE_INV_FILE MSG_TYPE_LCD+6
                            22673 ; 62   |#define LCD_PRINT_STRING_RSRC MSG_TYPE_LCD+7
                            22674 ; 63   |#define LCD_PRINT_STRING_ADDR MSG_TYPE_LCD+8
                            22675 ; 64   |#define LCD_PRINT_STRING_INV_RSRC MSG_TYPE_LCD+9
                            22676 ; 65   |#define LCD_PRINT_STRING_INV_ADDR MSG_TYPE_LCD+10
                            22677 ; 66   |#define LCD_SCROLL_DISPLAY MSG_TYPE_LCD+11
                            22678 ; 67   |#define LCD_READ_LCD_ADDR MSG_TYPE_LCD+12
                            22679 ; 68   |#define LCD_SET_CONTRAST MSG_TYPE_LCD+13
                            22680 ; 69   |#define LCD_INC_CONTRAST MSG_TYPE_LCD+14
                            22681 ; 70   |#define LCD_DEC_CONTRAST MSG_TYPE_LCD+15
                            22682 ; 71   |#define LCD_BACKLIGHT_ON MSG_TYPE_LCD+16
                            22683 ; 72   |#define LCD_BACKLIGHT_OFF MSG_TYPE_LCD+17
                            22684 ; 73   |#define LCD_SET_FONT MSG_TYPE_LCD+18
                            22685 ; 74   |#define LCD_PRINT_NUMBER MSG_TYPE_LCD+19
                            22686 ; 75   |#define LCD_PRINT_TIME MSG_TYPE_LCD+20
                            22687 ; 76   |#define LCD_PRINT_TIME_LONG MSG_TYPE_LCD+21
                            22688 ; 77   |#define LCD_PRINT_STRING_UNICODE_INV_ADDR MSG_TYPE_LCD+22
                            22689 ; 78   |#define LCD_PRINT_STRING_UNICODE_ADDR MSG_TYPE_LCD+23
                            22690 ; 79   |#define LCD_PRINT_STRING_UNICODE_INV_RSRC MSG_TYPE_LCD+24
                            22691 ; 80   |#define LCD_PRINT_STRING_UNICODE_RSRC MSG_TYPE_LCD+25
                            22692 ; 81   |#define LCD_BEGIN_FRAME MSG_TYPE_LCD+26
                            22693 ; 82   |#define LCD_END_FRAME MSG_TYPE_LCD+27
                            22694 ; 83   |#define LCD_PRINT_NUMBER_INV MSG_TYPE_LCD+28
                            22695 ; 84   |#define LCD_PRINT_TIME_INV MSG_TYPE_LCD+29
                            22696 ; 85   |#define LCD_PRINT_TIME_LONG_INV MSG_TYPE_LCD+30
                            22697 ; 86   |#define LCD_SET_FRAMEBUFFER MSG_TYPE_LCD+31
                            22698 ; 87   |//send a NULL as Param1 to return to root frame buffer
                            22699 ; 88   |#define LCD_PUSH_MASK MSG_TYPE_LCD+32
                            22700 ; 89   |//Param1 = left
                            22701 ; 90   |//Param2 = top
                            22702 ; 91   |//Param3 = right
                            22703 ; 92   |//Param4 = bottom
                            22704 ; 93   |#define LCD_POP_MASK MSG_TYPE_LCD+33
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 376

M:ADDR CODE           CYCLES LINE SOURCELINE
                            22705 ; 94   |#define LCD_PRINT_UNICODE_CHAR MSG_TYPE_LCD+34
                            22706 ; 95   |#define LCD_PRINT_UNICODE_CHAR_INV MSG_TYPE_LCD+35
                            22707 ; 96   |#define LCD_DISPLAY_HISTOGRAM MSG_TYPE_LCD+36
                            22708 ; 97   |#define LCD_PRINT_TIME_L_1DIG_HR MSG_TYPE_LCD+37
                            22709 ; 98   |#define LCD_SET_ICON MSG_TYPE_LCD+38
                            22710 ; 99   |
                            22711 ; 100  |#define LCD_CLEAR_RANGE_BUFFER MSG_TYPE_LCD+39
                            22712 ; 101  |#define LCD_PRINT_RANGE_RSRC_BUFFER MSG_TYPE_LCD+40
                            22713 ; 102  |#define LCD_PRINT_RANGE_INV_RSRC_BUFFER MSG_TYPE_LCD+41
                            22714 ; 103  |#define LCD_PRINT_RANGE_ADDR_BUFFER MSG_TYPE_LCD+42
                            22715 ; 104  |#define LCD_PRINT_RANGE_INV_ADDR_BUFFER MSG_TYPE_LCD+43
                            22716 ; 105  |#define LCD_PRINT_STRING_RSRC_BUFFER MSG_TYPE_LCD+44
                            22717 ; 106  |#define LCD_PRINT_STRING_INV_RSRC_BUFFER MSG_TYPE_LCD+45
                            22718 ; 107  |#define LCD_PRINT_STRING_ADDR_BUFFER MSG_TYPE_LCD+46
                            22719 ; 108  |#define LCD_PRINT_STRING_INV_ADDR_BUFFER MSG_TYPE_LCD+47
                            22720 ; 109  |#define LCD_PRINT_NUMBER_BUFFER MSG_TYPE_LCD+48
                            22721 ; 110  |#define LCD_PRINT_NUMBER_INV_BUFFER MSG_TYPE_LCD+49
                            22722 ; 111  |#define LCD_PRINT_TIME_BUFFER MSG_TYPE_LCD+50
                            22723 ; 112  |#define LCD_PRINT_TIME_INV_BUFFER MSG_TYPE_LCD+51
                            22724 ; 113  |#define LCD_PRINT_TIME_LONG_BUFFER MSG_TYPE_LCD+52
                            22725 ; 114  |#define LCD_PRINT_TIME_LONG_INV_BUFFER MSG_TYPE_LCD+53
                            22726 ; 115  |#define LCD_PRINT_STRING_UNICODE_ADDR_BUFFER MSG_TYPE_LCD+54
                            22727 ; 116  |#define LCD_PRINT_STRING_UNICODE_INV_ADDR_BUFFER MSG_TYPE_LCD+55
                            22728 ; 117  |#define LCD_PRINT_STRING_UNICODE_RSRC_BUFFER MSG_TYPE_LCD+56
                            22729 ; 118  |#define LCD_PRINT_STRING_UNICODE_INV_RSRC_BUFFER MSG_TYPE_LCD+57
                            22730 ; 119  |#define LCD_PRINT_UNICODE_CHAR_BUFFER MSG_TYPE_LCD+58
                            22731 ; 120  |#define LCD_PRINT_UNICODE_CHAR_INV_BUFFER MSG_TYPE_LCD+59
                            22732 ; 121  |#define LCD_PRINT_TIME_L_1DIG_HR_BUFFER MSG_TYPE_LCD+60
                            22733 ; 122  |#define LCD_SET_BUFFER_COLOR MSG_TYPE_LCD+61
                            22734 ; 123  |#define LCD_FORCE_BUFFER_UPDATE MSG_TYPE_LCD+62
                            22735 ; 124  |#define LCD_SET_BUFFER_WINDOW MSG_TYPE_LCD+63
                            22736 ; 125  |#define LCD_SET_COLOR MSG_TYPE_LCD+64
                            22737 ; 126  |#define LCD_SET_BUFFER_POSITION MSG_TYPE_LCD+65
                            22738 ; 127  |
                            22739 ; 128  |#define LCD_TEMP_CONTRAST MSG_TYPE_LCD+66
                            22740 ; 129  |
                            22741 ; 130  |#if defined(CLCD_16BIT)
                            22742 ; 131  |#define LCD_16BIT_ON MSG_TYPE_LCD+67
                            22743 ; 132  |#define LCD_16BIT_OFF MSG_TYPE_LCD+68
                            22744 ; 133  |
                            22745 ; 134  |#define LCD_LAST_MSG_ID MSG_TYPE_LCD+68
                            22746 ; 135  |#else 
                            22747 ; 136  |#define LCD_LAST_MSG_ID MSG_TYPE_LCD+66
                            22748 ; 137  |#endif
                            22749 ; 138  |
                            22750 ; 139  |// If you change the LCD message ID's then you must
                            22751 ; 140  |// also change the jump table in lcdapi.asm
                            22752 ; 141  |
                            22753 ; 142  |// Character LCD Message IDs
                            22754 ; 143  |#define CHARLCD_FIRST_MSG_ID MSG_TYPE_CHARLCD+0
                            22755 ; 144  |#define CHARLCD_CLEAR_RANGE MSG_TYPE_CHARLCD+0
                            22756 ; 145  |#define CHARLCD_PRINT_RSRC MSG_TYPE_CHARLCD+1
                            22757 ; 146  |#define CHARLCD_PRINT_INV_RSRC MSG_TYPE_CHARLCD+2
                            22758 ; 147  |#define CHARLCD_PRINT_ASCII_CHAR MSG_TYPE_CHARLCD+3
                            22759 ; 148  |#define CHARLCD_PRINT_ASCII_INV_CHAR MSG_TYPE_CHARLCD+4
                            22760 ; 149  |#define CHARLCD_PRINT_STRING_RSRC MSG_TYPE_CHARLCD+5
                            22761 ; 150  |#define CHARLCD_PRINT_STRING_INV_RSRC MSG_TYPE_CHARLCD+6
                            22762 ; 151  |#define CHARLCD_PRINT_STRING_ADDR MSG_TYPE_CHARLCD+7
                            22763 ; 152  |#define CHARLCD_PRINT_STRING_INV_ADDR MSG_TYPE_CHARLCD+8
                            22764 ; 153  |#define CHARLCD_SCROLL_DISPLAY MSG_TYPE_CHARLCD+9
                            22765 ; 154  |#define CHARLCD_READ_LCD_ADDR MSG_TYPE_CHARLCD+10
                            22766 ; 155  |#define CHARLCD_SET_CURSOR MSG_TYPE_CHARLCD+11
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 377

M:ADDR CODE           CYCLES LINE SOURCELINE
                            22767 ; 156  |#define CHARLCD_SET_FONT MSG_TYPE_CHARLCD+12
                            22768 ; 157  |#define CHARLCD_PRINT_NUMBER MSG_TYPE_CHARLCD+13
                            22769 ; 158  |#define CHARLCD_PRINT_TIME MSG_TYPE_CHARLCD+14
                            22770 ; 159  |#define CHARLCD_SET_BATTERY MSG_TYPE_CHARLCD+15
                            22771 ; 160  |#define CHARLCD_SET_EQ MSG_TYPE_CHARLCD+16
                            22772 ; 161  |#define CHARLCD_SET_ICON MSG_TYPE_CHARLCD+17
                            22773 ; 162  |#define CHARLCD_SET_PLAYMODE MSG_TYPE_CHARLCD+18
                            22774 ; 163  |#define CHARLCD_SET_PLAYSTATE MSG_TYPE_CHARLCD+19
                            22775 ; 164  |#define CHARLCD_SET_VOLUME MSG_TYPE_CHARLCD+20
                            22776 ; 165  |#define CHARLCD_CLEAR_DISPLAY MSG_TYPE_CHARLCD+21
                            22777 ; 166  |#define CHARLCD_LAST_MSG_ID MSG_TYPE_CHARLCD+21
                            22778 ; 167  |// If you change the cHARACTER LCD message ID's then you must
                            22779 ; 168  |// also change the jump table in lcdapi.asm
                            22780 ; 169  |
                            22781 ; 170  |// Decoder Message IDs
                            22782 ; 171  |#define DECODER_FIRST_MSG_ID MSG_TYPE_DECODER+0
                            22783 ; 172  |#define DECODER_RESET MSG_TYPE_DECODER+0
                            22784 ; 173  |#define DECODER_SET_DIR MSG_TYPE_DECODER+1
                            22785 ; 174  |#define DECODER_PLAY MSG_TYPE_DECODER+2
                            22786 ; 175  |#define DECODER_STOP MSG_TYPE_DECODER+3
                            22787 ; 176  |#define DECODER_FFWD MSG_TYPE_DECODER+4
                            22788 ; 177  |#define DECODER_RWND MSG_TYPE_DECODER+5
                            22789 ; 178  |#define DECODER_NEXT_SONG MSG_TYPE_DECODER+6
                            22790 ; 179  |#define DECODER_PREV_SONG MSG_TYPE_DECODER+7
                            22791 ; 180  |#define DECODER_TIME_MODE MSG_TYPE_DECODER+8
                            22792 ; 181  |#define DECODER_AB_MODE MSG_TYPE_DECODER+9
                            22793 ; 182  |#define DECODER_SET_EQ MSG_TYPE_DECODER+10
                            22794 ; 183  |#define DECODER_GET_SONG_INFO MSG_TYPE_DECODER+11
                            22795 ; 184  |#define DECODER_NEXT_CHAPTER MSG_TYPE_DECODER+12
                            22796 ; 185  |#define DECODER_PREV_CHAPTER MSG_TYPE_DECODER+13
                            22797 ; 186  |#define DECODER_LAST_MSG_ID MSG_TYPE_DECODER+13
                            22798 ; 187  |// If you change the Decoder message ID's, then you must
                            22799 ; 188  |// also change the jump table in decoder_overlay.asm
                            22800 ; 189  |// and in dec_adpcm_overlay.asm.
                            22801 ; 190  |
                            22802 ; 191  |// Encoder Message IDs
                            22803 ; 192  |#define ENCODER_FIRST_MSG_ID MSG_TYPE_ENCODER+0
                            22804 ; 193  |#define ENCODER_RECORD MSG_TYPE_ENCODER+0
                            22805 ; 194  |#define ENCODER_STOP MSG_TYPE_ENCODER+1
                            22806 ; 195  |#define ENCODER_TIME_MODE MSG_TYPE_ENCODER+2
                            22807 ; 196  |#define ENCODER_LAST_MSG_ID MSG_TYPE_ENCODER+3
                            22808 ; 197  |// If you change the Encoder message ID's, then you must
                            22809 ; 198  |// also change the jump table in all encoder overlay modules.
                            22810 ; 199  |
                            22811 ; 200  |// Parser Message IDs
                            22812 ; 201  |#define PARSER_FIRST_MSG_ID MSG_TYPE_PARSER+0
                            22813 ; 202  |#define PARSER_NEXT_SONG MSG_TYPE_PARSER+0
                            22814 ; 203  |#define PARSER_PREV_SONG MSG_TYPE_PARSER+1
                            22815 ; 204  |#define PARSER_REPEAT MSG_TYPE_PARSER+2
                            22816 ; 205  |#define PARSER_RANDOM MSG_TYPE_PARSER+3
                            22817 ; 206  |#define PARSER_STOP MSG_TYPE_PARSER+4
                            22818 ; 207  |#define PARSER_DEVICE_ENUMERATE MSG_TYPE_PARSER+5
                            22819 ; 208  |#define PARSER_SET_CURRENT_SONG MSG_TYPE_PARSER+6
                            22820 ; 209  |#define PARSER_LAST_MSG_ID MSG_TYPE_PARSER+6
                            22821 ; 210  |// If you change the Parser message ID's, then you must
                            22822 ; 211  |// also change the jump table in parser.asm
                            22823 ; 212  |
                            22824 ; 213  |// Button Message IDs
                            22825 ; 214  |//BUTTON_FIRST_MSG_ID      equ     MSG_TYPE_BUTTON+0
                            22826 ; 215  |//BUTTON_BUTTONS_ON        equ     MSG_TYPE_BUTTON+0
                            22827 ; 216  |//BUTTON_BUTTONS_OFF       equ     MSG_TYPE_BUTTON+1
                            22828 ; 217  |//BUTTON_HOLD              equ     MSG_TYPE_BUTTON+2
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 378

M:ADDR CODE           CYCLES LINE SOURCELINE
                            22829 ; 218  |//BUTTON_HOLD_RELEASE      equ     MSG_TYPE_BUTTON+3
                            22830 ; 219  |//BUTTON_LAST_MSG_ID       equ     MSG_TYPE_BUTTON+3
                            22831 ; 220  |
                            22832 ; 221  |// Mixer Message IDs
                            22833 ; 222  |#define MIXER_FIRST_MSG_ID MSG_TYPE_MIXER+0
                            22834 ; 223  |#define MIXER_MASTER_INCR MSG_TYPE_MIXER+0
                            22835 ; 224  |#define MIXER_MASTER_DECR MSG_TYPE_MIXER+1
                            22836 ; 225  |#define MIXER_MASTER_SETLVL MSG_TYPE_MIXER+2
                            22837 ; 226  |#define MIXER_MASTER_MUTE MSG_TYPE_MIXER+3
                            22838 ; 227  |#define MIXER_MASTER_UNMUTE MSG_TYPE_MIXER+4
                            22839 ; 228  |#define MIXER_MASTER_FADE_OUT MSG_TYPE_MIXER+5
                            22840 ; 229  |#define MIXER_MASTER_FADE_IN MSG_TYPE_MIXER+6
                            22841 ; 230  |#define MIXER_MASTER_BAL_RIGHT MSG_TYPE_MIXER+7
                            22842 ; 231  |#define MIXER_MASTER_BAL_LEFT MSG_TYPE_MIXER+8
                            22843 ; 232  |#define MIXER_MIC_INCR MSG_TYPE_MIXER+9
                            22844 ; 233  |#define MIXER_MIC_DECR MSG_TYPE_MIXER+10
                            22845 ; 234  |#define MIXER_MIC_SETLVL MSG_TYPE_MIXER+11
                            22846 ; 235  |#define MIXER_MIC_MUTE MSG_TYPE_MIXER+12
                            22847 ; 236  |#define MIXER_MIC_UNMUTE MSG_TYPE_MIXER+13
                            22848 ; 237  |#define MIXER_MIC_BOOST MSG_TYPE_MIXER+14
                            22849 ; 238  |#define MIXER_MIC_UNBOOST MSG_TYPE_MIXER+15
                            22850 ; 239  |#define MIXER_LINE_INCR MSG_TYPE_MIXER+16
                            22851 ; 240  |#define MIXER_LINE_DECR MSG_TYPE_MIXER+17
                            22852 ; 241  |#define MIXER_LINE_SETLVL MSG_TYPE_MIXER+18
                            22853 ; 242  |#define MIXER_LINE_MUTE MSG_TYPE_MIXER+19
                            22854 ; 243  |#define MIXER_LINE_UNMUTE MSG_TYPE_MIXER+20
                            22855 ; 244  |#define MIXER_FM_INCR MSG_TYPE_MIXER+21
                            22856 ; 245  |#define MIXER_FM_DECR MSG_TYPE_MIXER+22
                            22857 ; 246  |#define MIXER_FM_SETLVL MSG_TYPE_MIXER+23
                            22858 ; 247  |#define MIXER_FM_MUTE MSG_TYPE_MIXER+24
                            22859 ; 248  |#define MIXER_FM_UNMUTE MSG_TYPE_MIXER+25
                            22860 ; 249  |#define MIXER_DAC_INCR MSG_TYPE_MIXER+26
                            22861 ; 250  |#define MIXER_DAC_DECR MSG_TYPE_MIXER+27
                            22862 ; 251  |#define MIXER_DAC_SETLVL MSG_TYPE_MIXER+28
                            22863 ; 252  |#define MIXER_DAC_MUTE MSG_TYPE_MIXER+29
                            22864 ; 253  |#define MIXER_DAC_UNMUTE MSG_TYPE_MIXER+30
                            22865 ; 254  |#define MIXER_ADC_SELECT MSG_TYPE_MIXER+31
                            22866 ; 255  |#define MIXER_ADC_INCR MSG_TYPE_MIXER+32
                            22867 ; 256  |#define MIXER_ADC_DECR MSG_TYPE_MIXER+33
                            22868 ; 257  |#define MIXER_ADC_SETLVL MSG_TYPE_MIXER+34
                            22869 ; 258  |#define MIXER_ADC_MUTE MSG_TYPE_MIXER+35
                            22870 ; 259  |#define MIXER_ADC_UNMUTE MSG_TYPE_MIXER+36
                            22871 ; 260  |#define MIXER_REC_SELECT MSG_TYPE_MIXER+37
                            22872 ; 261  |#define MIXER_POWER_DOWN MSG_TYPE_MIXER+38
                            22873 ; 262  |#define ENABLE_RIGHT_CH MSG_TYPE_MIXER+39
                            22874 ; 263  |#define DISABLE_RIGHT_CH MSG_TYPE_MIXER+40
                            22875 ; 264  |#define MIXER_LAST_MSG_ID MSG_TYPE_MIXER+40
                            22876 ; 265  |// If you change the mixer message ID's then you must
                            22877 ; 266  |// also change the jump table in mixer.asm
                            22878 ; 267  |#define MIXER_ON 0
                            22879 ; 268  |#define MIXER_OFF 1
                            22880 ; 269  |
                            22881 ; 270  |
                            22882 ; 271  |// System Message IDs
                            22883 ; 272  |#define SYSTEM_FIRST_MSG_ID MSG_TYPE_SYSTEM+0
                            22884 ; 273  |#define SYSTEM_SHUTDOWN MSG_TYPE_SYSTEM+0
                            22885 ; 274  |#define SYSTEM_SHUTDOWN_FALSE MSG_TYPE_SYSTEM+1
                            22886 ; 275  |#define SYSTEM_SHUTDOWN_FINAL MSG_TYPE_SYSTEM+2
                            22887 ; 276  |#define SYSTEM_LAST_MSG_ID MSG_TYPE_SYSTEM+2
                            22888 ; 277  |// If you change the system message ID's then you must
                            22889 ; 278  |// also change the jump table in systemapi.asm
                            22890 ; 279  |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 379

M:ADDR CODE           CYCLES LINE SOURCELINE
                            22891 ; 280  |// Menu IDs
                            22892 ; 281  |#define MENU_FIRST_MSG_ID MSG_TYPE_MENU+0
                            22893 ; 282  |#define MENU_BUTTON_EVENT MSG_TYPE_MENU+0
                            22894 ; 283  |#define MENU_DECODER_STATE_CHNG MSG_TYPE_MENU+1
                            22895 ; 284  |#define MENU_RECORDER_STATE_CHNG MSG_TYPE_MENU+2
                            22896 ; 285  |//sub parameters for this message:
                            22897 ; 286  |#define RECORDER_START 0
                            22898 ; 287  |#define RECORDER_PAUSE 0x2000
                            22899 ; 288  |#define RECORDER_RESUME 0x4000
                            22900 ; 289  |#define RECORDER_STOP_NORMAL 0x8000
                            22901 ; 290  |#define RECORDER_STOP_FILE_ERROR 0x8001
                            22902 ; 291  |#define RECORDER_STOP_OUT_OF_SPACE 0x8002
                            22903 ; 292  |#define RECORDER_STOP_LOW_BATTERY 0x8003
                            22904 ; 293  |#define MENU_SONG_TIME_CHNG MSG_TYPE_MENU+3
                            22905 ; 294  |#define MENU_AB_MODE_OFF MSG_TYPE_MENU+4
                            22906 ; 295  |#define MENU_BATTERY_CHNG MSG_TYPE_MENU+5
                            22907 ; 296  |#define MENU_SCROLL_TITLE MSG_TYPE_MENU+6
                            22908 ; 297  |#define MENU_AUTO_SHUTDOWN MSG_TYPE_MENU+7
                            22909 ; 298  |#define MENU_MSG_MEDIA_CHANGED MSG_TYPE_MENU+8
                            22910 ; 299  |#define MENU_MSG_MEDIA_OVER_CUR MSG_TYPE_MENU+9
                            22911 ; 300  |#define MENU_TUNER_TUNED MSG_TYPE_MENU+10
                            22912 ; 301  |#define MENU_MSG_ENC_LOW_SPACE MSG_TYPE_MENU+11
                            22913 ; 302  |#define MENU_MSG_EQ_SETTINGS MSG_TYPE_MENU+12
                            22914 ; 303  |#define MENU_RECORDER_WRITE_DATA MSG_TYPE_MENU+13
                            22915 ; 304  |#define MENU_SONG_TRACK_CHNG MSG_TYPE_MENU+14
                            22916 ; 305  |#define MENU_SET_SONG_POSITION MSG_TYPE_MENU+15
                            22917 ; 306  |#define MENU_UPDATE_CHAPTER_INFO MSG_TYPE_MENU+16
                            22918 ; 307  |#define MENU_USB_CONNECTED MSG_TYPE_MENU+17
                            22919 ; 308  |#define MENU_MSG_LYRICS_SYNC_AB MSG_TYPE_MENU+18
                            22920 ; 309  |#define MENU_MSG_LYRICS_UPDATE MSG_TYPE_MENU+19
                            22921 ; 310  |#define MENU_TUNER_REFRESH_DISPLAY MSG_TYPE_MENU+20
                            22922 ; 311  |#define MENU_TUNER_DIRTY_FLASH MSG_TYPE_MENU+21
                            22923 ; 312  |#define MENU_LAST_MSG_ID MSG_TYPE_MENU+21
                            22924 ; 313  |
                            22925 ; 314  |// Note that other versions of this file have different msg equates.
                            22926 ; 315  |// If you change the system message ID's then you must
                            22927 ; 316  |// also change the jump table in all menu *.asm
                            22928 ; 317  |
                            22929 ; 318  |// LED Message IDs
                            22930 ; 319  |#define LED_FIRST_MSG_ID MSG_TYPE_LED+0
                            22931 ; 320  |#define LED_CONTROL MSG_TYPE_LED+0
                            22932 ; 321  |#define LED_RESET MSG_TYPE_LED+1
                            22933 ; 322  |#define LED_DLY_ON_CONTROL MSG_TYPE_LED+2
                            22934 ; 323  |#define LED_LAST_MSG_ID MSG_TYPE_LED+2
                            22935 ; 324  |// If you change the LeD message ID's then you must
                            22936 ; 325  |// also change the jump table in ledapi.asm
                            22937 ; 326  |
                            22938 ; 327  |#if (!defined(REMOVE_FM))
                            22939 ; 328  |// FM Tuner Message IDs
                            22940 ; 329  |#define TUNER_FIRST_MSG_ID MSG_TYPE_TUNER+0
                            22941 ; 330  |#define TUNER_TUNE_FREQUENCY MSG_TYPE_TUNER+0
                            22942 ; 331  |#define TUNER_TUNE_MANUAL_UP MSG_TYPE_TUNER+1
                            22943 ; 332  |#define TUNER_TUNE_MANUAL_DOWN MSG_TYPE_TUNER+2
                            22944 ; 333  |#define TUNER_TUNE_SEARCH_UP MSG_TYPE_TUNER+3
                            22945 ; 334  |#define TUNER_TUNE_SEARCH_DOWN MSG_TYPE_TUNER+4
                            22946 ; 335  |#define TUNER_FORCED_MONO MSG_TYPE_TUNER+5
                            22947 ; 336  |#define TUNER_RESET MSG_TYPE_TUNER+6
                            22948 ; 337  |#define TUNER_POWER_ON MSG_TYPE_TUNER+7
                            22949 ; 338  |#define TUNER_POWER_OFF MSG_TYPE_TUNER+8
                            22950 ; 339  |#define TUNER_SET_SENSITIVITY MSG_TYPE_TUNER+9
                            22951 ; 340  |//one parameter--the sensitivity in uV
                            22952 ; 341  |#define TUNER_GET_STATES MSG_TYPE_TUNER+10
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 380

M:ADDR CODE           CYCLES LINE SOURCELINE
                            22953 ; 342  |#define TUNER_MUTE_OUTPUTS MSG_TYPE_TUNER+11
                            22954 ; 343  |#define TUNER_PRESET_STATION MSG_TYPE_TUNER+12
                            22955 ; 344  |#define TUNER_TUNE_TO_PRESET MSG_TYPE_TUNER+13
                            22956 ; 345  |#define TUNER_SET_PRESET MSG_TYPE_TUNER+14
                            22957 ; 346  |#define TUNER_ERASE_PRESET MSG_TYPE_TUNER+15
                            22958 ; 347  |#define TUNER_LAST_MSG_ID MSG_TYPE_TUNER+15
                            22959 ; 348  |#endif
                            22960 ; 349  |
                            22961 ; 350  |#define SOFT_TIMER_FIRST_MSG_ID MSG_TYPE_SOFT_TIMER+0
                            22962 ; 351  |#define SOFT_TIMER_SET_TIMER MSG_TYPE_SOFT_TIMER+1
                            22963 ; 352  |#define SOFT_TIMER_KILL_TIMER MSG_TYPE_SOFT_TIMER+2
                            22964 ; 353  |#define SOFT_TIMER_LAST_MSG_ID MSG_TYPE_SOFT_TIMER+2
                            22965 ; 354  |
                            22966 ; 355  |
                            22967 ; 356  |#define GEQ_FIRST_MSG_ID MSG_TYPE_GEQ+0
                            22968 ; 357  |#define GEQ_SET_EQ MSG_TYPE_GEQ+0
                            22969 ; 358  |#define GEQ_SET_EQ_LEGACY MSG_TYPE_GEQ+1
                            22970 ; 359  |#define GEQ_SET_ALL_BAND_GAINS MSG_TYPE_GEQ+2
                            22971 ; 360  |#define GEQ_SET_GAIN MSG_TYPE_GEQ+3
                            22972 ; 361  |#define GEQ_SET_COEFFICIENTS MSG_TYPE_GEQ+4
                            22973 ; 362  |#define GEQ_SET_PARAM MSG_TYPE_GEQ+5
                            22974 ; 363  |#define GEQ_GET_SETTINGS MSG_TYPE_GEQ+6
                            22975 ; 364  |#define GEQ_LAST_MSG_ID MSG_TYPE_GEQ+6
                            22976 ; 365  |
                            22977 ; 366  |#if (defined(USE_PLAYLIST3))
                            22978 ; 367  |// Music Library
                            22979 ; 368  |#define MUSICLIB_PLAY_FIRST_MSG_ID MSG_TYPE_MUSICLIB_PLAY+0
                            22980 ; 369  |#define MUSICLIB_START_PLAY_SONG MSG_TYPE_MUSICLIB_PLAY+0
                            22981 ; 370  |#define MUSICLIB_START_PLAY_ALL_SONG MSG_TYPE_MUSICLIB_PLAY+1
                            22982 ; 371  |#define MUSICLIB_PLAY_SETSHUFFLE MSG_TYPE_MUSICLIB_PLAY+2
                            22983 ; 372  |#define MUSICLIB_PLAY_RESUME MSG_TYPE_MUSICLIB_PLAY+3
                            22984 ; 373  |#define MUSICLIB_PLAY_CURRENT_SIZE MSG_TYPE_MUSICLIB_PLAY+4
                            22985 ; 374  |#define MUSICLIB_PLAY_LAST_MSG_ID MSG_TYPE_MUSICLIB_PLAY+4
                            22986 ; 375  |
                            22987 ; 376  |#define MUSICLIB_BROWSE_FIRST_MSG_ID MSG_TYPE_MUSICLIB_BROWSE+0
                            22988 ; 377  |#define MUSICLIB_BROWSE_SETROOT MSG_TYPE_MUSICLIB_BROWSE+0
                            22989 ; 378  |#define MUSICLIB_BROWSE_BROWSEMENU MSG_TYPE_MUSICLIB_BROWSE+1
                            22990 ; 379  |#define MUSICLIB_BROWSE_DOWNLIST MSG_TYPE_MUSICLIB_BROWSE+2
                            22991 ; 380  |#define MUSICLIB_BROWSE_UPLIST MSG_TYPE_MUSICLIB_BROWSE+3
                            22992 ; 381  |#define MUSICLIB_BROWSE_UPMENU MSG_TYPE_MUSICLIB_BROWSE+4
                            22993 ; 382  |#define MUSICLIB_BROWSE_SONGNUMBER MSG_TYPE_MUSICLIB_BROWSE+5
                            22994 ; 383  |#define MUSICLIB_BROWSE_ON_THE_FLY_GET_STATUS MSG_TYPE_MUSICLIB_BROWSE+6
                            22995 ; 384  |#define MUSICLIB_BROWSE_ON_THE_FLY_ADD_ITEM MSG_TYPE_MUSICLIB_BROWSE+7
                            22996 ; 385  |#define MUSICLIB_BROWSE_ON_THE_FLY_DELETE_ITEM MSG_TYPE_MUSICLIB_BROWSE+8
                            22997 ; 386  |#define MUSICLIB_BROWSE_ON_THE_FLY_DELETE_ALL MSG_TYPE_MUSICLIB_BROWSE+9
                            22998 ; 387  |#define MUSICLIB_BROWSE_LAST_MSG_ID MSG_TYPE_MUSICLIB_BROWSE+9
                            22999 ; 388  |
                            23000 ; 389  |#define MUSICLIB_PLAYALLNEXT_FIRST_MSG_ID MSG_TYPE_MUSICLIB_PLAYALLNEXT+0
                            23001 ; 390  |#define MUSICLIB_PLAYNEXTSONG MSG_TYPE_MUSICLIB_PLAYALLNEXT+0
                            23002 ; 391  |#define MUSICLIB_PLAYALLNEXT_LAST_MSG_ID MSG_TYPE_MUSICLIB_PLAYALLNEXT+0
                            23003 ; 392  |
                            23004 ; 393  |#define MUSICLIB_PLAYALLPREV_FIRST_MSG_ID MSG_TYPE_MUSICLIB_PLAYALLPREV+0
                            23005 ; 394  |#define MUSICLIB_PLAYPREVIOUSSONG MSG_TYPE_MUSICLIB_PLAYALLPREV+0
                            23006 ; 395  |#define MUSICLIB_PLAYALLPREV_LAST_MSG_ID MSG_TYPE_MUSICLIB_PLAYALLPREV+0
                            23007 ; 396  |
                            23008 ; 397  |#define MUSICLIB_SHUFFLE_FIRST_MSG_ID MSG_TYPE_MUSICLIB_SHUFFLE+0
                            23009 ; 398  |#define MUSICLIB_SHUFFLE_NEXT MSG_TYPE_MUSICLIB_SHUFFLE+0
                            23010 ; 399  |#define MUSICLIB_SHUFFLE_LAST_MSG_ID MSG_TYPE_MUSICLIB_SHUFFLE+0
                            23011 ; 400  |
                            23012 ; 401  |#define MUSICLIB_VOICE_FIRST_MSG_ID MSG_TYPE_MUSICLIB_VOICE+0
                            23013 ; 402  |#define MUSICLIB_VOICE_BROWSEMENU MSG_TYPE_MUSICLIB_VOICE+0
                            23014 ; 403  |#define MUSICLIB_VOICE_DOWNLIST MSG_TYPE_MUSICLIB_VOICE+1
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 381

M:ADDR CODE           CYCLES LINE SOURCELINE
                            23015 ; 404  |#define MUSICLIB_VOICE_UPLIST MSG_TYPE_MUSICLIB_VOICE+2
                            23016 ; 405  |#define MUSICLIB_VOICE_UPMENU MSG_TYPE_MUSICLIB_VOICE+3
                            23017 ; 406  |#define MUSICLIB_VOICE_VOICENUMBER MSG_TYPE_MUSICLIB_VOICE+4
                            23018 ; 407  |#define MUSICLIB_VOICE_LAST_MSG_ID MSG_TYPE_MUSICLIB_VOICE+4
                            23019 ; 408  |
                            23020 ; 409  |#define MUSICLIB_VOICEPLAY_FIRST_MSG_ID MSG_TYPE_MUSICLIB_VOICEPLAY+0
                            23021 ; 410  |#define MUSICLIB_START_PLAY_VOICE MSG_TYPE_MUSICLIB_VOICEPLAY+0
                            23022 ; 411  |#define MUSICLIB_VOICEPLAY_LAST_MSG_ID MSG_TYPE_MUSICLIB_VOICEPLAY+0
                            23023 ; 412  |
                            23024 ; 413  |#define MUSICLIB_MERGE_FIRST_MSG_ID MSG_TYPE_MUSICLIB_MERGE+0
                            23025 ; 414  |#define MUSICLIB_MERGE_SONG MSG_TYPE_MUSICLIB_MERGE+0
                            23026 ; 415  |#define MUSICLIB_MERGE_ALL_SONG MSG_TYPE_MUSICLIB_MERGE+1
                            23027 ; 416  |#define MUSICLIB_MERGE_RESUME MSG_TYPE_MUSICLIB_MERGE+2
                            23028 ; 417  |#define MUSICLIB_MERGE_LAST_MSG_ID MSG_TYPE_MUSICLIB_MERGE+2
                            23029 ; 418  |#endif // IF (@def(USE_PLAYLIST3))
                            23030 ; 419  |
                            23031 ; 420  |#if defined(USE_PLAYLIST5)
                            23032 ; 421  |#define PL5_PL_FIRST_MSG_ID MSG_TYPE_PL5_PLAYBACK+0
                            23033 ; 422  |#define PL5_PL_MSG_RESET MSG_TYPE_PL5_PLAYBACK+0
                            23034 ; 423  |#define PL5_PL_MSG_CDSEARCHING MSG_TYPE_PL5_PLAYBACK+1
                            23035 ; 424  |#define PL5_PL_MSG_START MSG_TYPE_PL5_PLAYBACK+2
                            23036 ; 425  |#define PL5_PL_MSG_STOP MSG_TYPE_PL5_PLAYBACK+3
                            23037 ; 426  |#define PL5_PL_MSG_PAUSE MSG_TYPE_PL5_PLAYBACK+4
                            23038 ; 427  |#define PL5_PL_MSG_RESUME MSG_TYPE_PL5_PLAYBACK+5
                            23039 ; 428  |#define PL5_PL_MSG_DELETE MSG_TYPE_PL5_PLAYBACK+6
                            23040 ; 429  |#define PL5_PL_MSG_PLAY MSG_TYPE_PL5_PLAYBACK+7
                            23041 ; 430  |#define PL5_PL_MSG_DISCNT MSG_TYPE_PL5_PLAYBACK+8
                            23042 ; 431  |#define PL5_PL_MSG_ENACNT MSG_TYPE_PL5_PLAYBACK+9
                            23043 ; 432  |#define PL5_PL_LAST_MSG_ID MSG_TYPE_PL5_PLAYBACK+9
                            23044 ; 433  |
                            23045 ; 434  |#define PL5_BR_FIRST_MSG_ID MSG_TYPE_PL5_BROWSE+0
                            23046 ; 435  |#define PL5_BR_MSG_RESET MSG_TYPE_PL5_BROWSE+0
                            23047 ; 436  |#define PL5_BR_MSG_CDBROWSING MSG_TYPE_PL5_BROWSE+1
                            23048 ; 437  |#define PL5_BR_MSG_START MSG_TYPE_PL5_BROWSE+2
                            23049 ; 438  |#define PL5_BR_MSG_STOP MSG_TYPE_PL5_BROWSE+3
                            23050 ; 439  |#define PL5_BR_MSG_PAUSE MSG_TYPE_PL5_BROWSE+4
                            23051 ; 440  |#define PL5_BR_MSG_RESUME MSG_TYPE_PL5_BROWSE+5
                            23052 ; 441  |#define PL5_BR_MSG_DELETE MSG_TYPE_PL5_BROWSE+6
                            23053 ; 442  |#define PL5_BR_LAST_MSG_ID MSG_TYPE_PL5_BROWSE+6
                            23054 ; 443  |#endif // if @def('USE_PLAYLIST5')
                            23055 ; 444  |// Events
                            23056 ; 445  |// No event
                            23057 ; 446  |#define EVENT_NONE 0x000001   
                            23058 ; 447  |// A message has been posted
                            23059 ; 448  |#define EVENT_MESSAGE 0x000002   
                            23060 ; 449  |// Run if wait time elapsed
                            23061 ; 450  |#define EVENT_TIMER 0x000004   
                            23062 ; 451  |// Run if a button event occured
                            23063 ; 452  |#define EVENT_BUTTON 0x000008   
                            23064 ; 453  |// Run if a background event occured
                            23065 ; 454  |#define EVENT_BACKGROUND 0x000010   
                            23066 ; 455  |// The executive should immediately repeat this module
                            23067 ; 456  |#define EVENT_REPEAT 0x000020   
                            23068 ; 457  |// Run the module's init routine
                            23069 ; 458  |#define EVENT_INIT 0x800000   
                            23070 ; 459  |
                            23071 ; 460  |#define EVENT_NONE_BITPOS 0
                            23072 ; 461  |#define EVENT_MESSAGE_BITPOS 1
                            23073 ; 462  |#define EVENT_TIMER_BITPOS 2
                            23074 ; 463  |#define EVENT_BUTTON_BITPOS 3
                            23075 ; 464  |#define EVENT_BACKGROUND_BITPOS 4
                            23076 ; 465  |#define EVENT_REPEAT_BITPOS 5
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 382

M:ADDR CODE           CYCLES LINE SOURCELINE
                            23077 ; 466  |#define EVENT_INIT_BITPOS 23
                            23078 ; 467  |
                            23079 ; 468  |// Parser Message Buffers
                            23080 ; 469  |#define ParserPlayBit 0
                            23081 ; 470  |#define ButtonPressBit 1
                            23082 ; 471  |#define ParserRwndBit 1
                            23083 ; 472  |#define ParserFfwdBit 2
                            23084 ; 473  |
                            23085 ; 474  |//NextSong Message Parameters
                            23086 ; 475  |// ButtonPressBit1 set to denote button was pressed.
                            23087 ; 476  |#define NEXT_SONG 2             
                            23088 ; 477  |// ButtonPressBit1 cleared
                            23089 ; 478  |#define NEXT_SONG_PLAY_EOF 1          
                            23090 ; 479  |// ButtonPressBit1 set
                            23091 ; 480  |#define NEXT_SONG_PLAY_BUTTON 3          
                            23092 ; 481  |// NextSong + Ffwd
                            23093 ; 482  |#define NEXT_SONG_FFWD 4          
                            23094 ; 483  |
                            23095 ; 484  |//PrevSong Message Parameters
                            23096 ; 485  |// PrevSong + Stopped
                            23097 ; 486  |#define PREV_SONG 0          
                            23098 ; 487  |// PrevSong + Play
                            23099 ; 488  |#define PREV_SONG_PLAY 1          
                            23100 ; 489  |// PrevSong + Rwnd
                            23101 ; 490  |#define PREV_SONG_RWND 2          
                            23102 ; 491  |
                            23103 ; 492  |
                            23104 ; 493  |
                            23105 ; 494  |
                            23106 ; 495  |#endif // IF (!@def(MSGEQU_INC))
                            23107 ; 496  |
                            23108 ; 497  |
                            23109 
                            23111 
                            23112 ; 100  |#include "project.h"
                            23113 
                            23115 
                            23116 ; 1    |/////////////////////////////////////////////////////////////////////////////////
                            23117 ; 2    |//  Copyright(C) SigmaTel, Inc. 2000-2004
                            23118 ; 3    |//  Filename: project.inc
                            23119 ; 4    |//  Description: 
                            23120 ; 5    |/////////////////////////////////////////////////////////////////////////////////
                            23121 ; 6    |
                            23122 ; 7    |#if (!defined(_PROJECT_INC))
                            23123 ; 8    |#define _PROJECT_INC 1
                            23124 ; 9    |
                            23125 ; 10   |#if defined(STMP_BUILD_PLAYER)
                            23126 ; 11   |#include "hwequ.h"
                            23127 ; 12   |#else 
                            23128 ; 13   |//include "regscodec.inc"
                            23129 ; 14   |#endif
                            23130 ; 15   |
                            23131 ; 16   |//////////////////////////////////////////////////////////////////////////////////
                            23132 ; 17   |// Uncomment next define to allow player boot if you have stfm1000 macro enabled (defaults
                                   ON) & 
                            23133 ; 18   |// your board crystal is not able to output nominal voltage range. Used in player main.asm
                                  . STMP00012148
                            23134 ; 19   |// Defining this will result in lower battery life (price of using a lower quality crystal
                                  ). 
                            23135 ; 20   |// Those that want to save battery life and have good crystals that meet our HW team's spe
                                  cs can 
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 383

M:ADDR CODE           CYCLES LINE SOURCELINE
                            23136 ; 21   |// comment out this line to reduce crystal bias current and so battery current in player m
                                  ode.  
                            23137 ; 22   |#define SUPPORT_MARGINAL_XTALS 1
                            23138 ; 23   |
                            23139 ; 24   |/////////////////////////////////////////////////////////////////////////////////
                            23140 ; 25   |// BOOT SPEED CONFIG & ASSOCIATED BATTERY VOLTAGE CHECK ENABLE
                            23141 ; 26   |/////////////////////////////////////////////////////////////////////////////////
                            23142 ; 27   |// Users can enable one of ATTEMPT_FAST_BOOT or FASTEST boot or neither project define bel
                                  ow by defining
                            23143 ; 28   |// values as 0 or 1, else it defaults to the boot speed used in previous SDKs.
                            23144 ; 29   |#define ATTEMPT_FAST_BOOT 1
                            23145 ; 30   |#define ATTEMPT_FASTEST_BOOT 0   
                            23146 ; 31   |// Changing this define to 0 removes Vbat threshholding & unconditionally gives fast boot 
                                  config above- 
                            23147 ; 32   |// disabling this check is suggested for profiling if you want to try to tweak down thresh
                                  holds by maybe 50mV.
                            23148 ; 33   |// Also the tests should clear the fast boot config defines to link & boot at normal speed
                                  .
                            23149 ; 34   |#define SPEED_BOOT_BATTERY_CHECK 1
                            23150 ; 35   |
                            23151 ; 36   |/////////////////////////////////////////////////////////////////////////////////
                            23152 ; 37   |// MEDIA DEFINITIONS
                            23153 ; 38   |/////////////////////////////////////////////////////////////////////////////////
                            23154 ; 39   |
                            23155 ; 40   |/////////////////////////////////////////////////////////////////////////////////
                            23156 ; 41   |// MNAND - Number of chips forming the internal physical device (i.e. # of NANDs)
                            23157 ; 42   |#if defined(NAND1)
                            23158 ; 43   |#define SM_INTERNAL_CHIPS 1
                            23159 ; 44   |#else 
                            23160 ; 45   |#if defined(NAND2)
                            23161 ; 46   |#define SM_INTERNAL_CHIPS 2
                            23162 ; 47   |#else 
                            23163 ; 48   |#if defined(NAND3)
                            23164 ; 49   |#define SM_INTERNAL_CHIPS 3
                            23165 ; 50   |#else 
                            23166 ; 51   |#if defined(NAND4)
                            23167 ; 52   |#define SM_INTERNAL_CHIPS 4
                            23168 ; 53   |#else 
                            23169 ; 54   |#define SM_INTERNAL_CHIPS 1
                            23170 ; 55   |#endif
                            23171 ; 56   |#endif
                            23172 ; 57   |#endif
                            23173 ; 58   |#endif
                            23174 ; 59   |
                            23175 ; 60   |/////////////////////////////////////////////////////////////////////////////////
                            23176 ; 61   |// If SMARTMEDIA_DETECT_ACTIVE_HIGH is defined:
                            23177 ; 62   |//   SmartMedia will be detected as inserted if the GPIO pin reads 1 and removed if it rea
                                  ds 0.  
                            23178 ; 63   |// If SMARTMEDIA_DETECT_ACTIVE_HIGH is not defined ** comment out next line **
                            23179 ; 64   |//   SmartMedia will be detected as inserted if the GPIO pin reads 0 and removed if it rea
                                  ds 1.
                            23180 ; 65   |//*** comment out if active high ****
                            23181 ; 66   |//SMARTMEDIA_DETECT_ACTIVE_HIGH  equ     1
                            23182 ; 67   |
                            23183 ; 68   |#if defined(SMEDIA)
                            23184 ; 69   |#define NUM_REMOVABLE_MEDIA 1
                            23185 ; 70   |#define NUM_SM_EXTERNAL 1
                            23186 ; 71   |#define MMC_MAX_PHYSICAL_DEVICES 0
                            23187 ; 72   |#define SM_MAX_LOGICAL_DEVICES 2
                            23188 ; 73   |#else 
                            23189 ; 74   |#if defined(MMC)
                            23190 ; 75   |#define NUM_REMOVABLE_MEDIA 1
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 384

M:ADDR CODE           CYCLES LINE SOURCELINE
                            23191 ; 76   |#define NUM_SM_EXTERNAL 0
                            23192 ; 77   |#define MMC_MAX_PHYSICAL_DEVICES 1
                            23193 ; 78   |#define SM_MAX_LOGICAL_DEVICES 1
                            23194 ; 79   |#else 
                            23195 ; 80   |#define NUM_REMOVABLE_MEDIA 0
                            23196 ; 81   |#define NUM_SM_EXTERNAL 0
                            23197 ; 82   |#define MMC_MAX_PHYSICAL_DEVICES 0
                            23198 ; 83   |#define SM_MAX_LOGICAL_DEVICES 1
                            23199 ; 84   |#endif
                            23200 ; 85   |#endif
                            23201 ; 86   |
                            23202 ; 87   |/////////////////////////////////////////////////////////////////////////////////
                            23203 ; 88   |// Mass Storage Class definitions
                            23204 ; 89   |/////////////////////////////////////////////////////////////////////////////////
                            23205 ; 90   |// Set to 0 if Composite Device build is desired.    
                            23206 ; 91   |#define MULTI_LUN_BUILD 1   
                            23207 ; 92   |
                            23208 ; 93   |////////////////////////////////////////////////////////////////////////////////
                            23209 ; 94   |//  SCSI
                            23210 ; 95   |#if (MULTI_LUN_BUILD==0)
                            23211 ; 96   |  #if (NUM_REMOVABLE_MEDIA == 1)
                            23212 ; 97   |    #define SCSI_NUM_TARGETS                        2
                            23213 ; 98   |    #define SCSI_DEVICE_NUM_LUNS_DEV_0              1
                            23214 ; 99   |    #define SCSI_DEVICE_NUM_LUNS_DEV_1              1
                            23215 ; 100  |  #else
                            23216 ; 101  |    #define SCSI_NUM_TARGETS                        1
                            23217 ; 102  |    #define SCSI_DEVICE_NUM_LUNS_DEV_0              1
                            23218 ; 103  |  #endif
                            23219 ; 104  |#else
                            23220 ; 105  |    #define SCSI_NUM_TARGETS                        1
                            23221 ; 106  |  #if (NUM_REMOVABLE_MEDIA == 1)
                            23222 ; 107  |    #define SCSI_DEVICE_NUM_LUNS_DEV_0              2
                            23223 ; 108  |  #else
                            23224 ; 109  |    #define SCSI_DEVICE_NUM_LUNS_DEV_0              1  
                            23225 ; 110  |  #endif
                            23226 ; 111  |#endif
                            23227 ; 112  |
                            23228 ; 113  |
                            23229 ; 114  |#define USBMSC_NUM_DEVICES                      SCSI_NUM_TARGETS
                            23230 ; 115  |
                            23231 ; 116  |
                            23232 ; 117  |////////////////////////////////////////////////////////////////////////////////
                            23233 ; 118  |// Define number of logical medias and drives for three builds (MTP, USBMSC, and Player)
                            23234 ; 119  |////////////////////////////////////////////////////////////////////////////////
                            23235 ; 120  |#ifdef MMC
                            23236 ; 121  |#ifdef MTP_BUILD
                            23237 ; 122  |// --------------------
                            23238 ; 123  |// MTP and MMC
                            23239 ; 124  |// --------------------
                            23240 ; 125  |#define NUM_LOGICAL_MEDIA       2
                            23241 ; 126  |#define NUM_LOGICAL_DRIVES      8
                            23242 ; 127  |#else  // ifndef MTP_BUILD
                            23243 ; 128  |#ifdef STMP_BUILD_PLAYER
                            23244 ; 129  |// --------------------
                            23245 ; 130  |// Player and MMC
                            23246 ; 131  |// --------------------
                            23247 ; 132  |#else
                            23248 ; 133  |// --------------------
                            23249 ; 134  |// USBMSC and MMC
                            23250 ; 135  |// --------------------
                            23251 ; 136  |#define NUM_LOGICAL_MEDIA       3
                            23252 ; 137  |#define NUM_LOGICAL_DRIVES      8
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 385

M:ADDR CODE           CYCLES LINE SOURCELINE
                            23253 ; 138  |#endif // ifdef STMP_BUILD_PLAYER
                            23254 ; 139  |#endif // ifdef MTP_BUILD
                            23255 ; 140  |#else  // ifndef MMC
                            23256 ; 141  |#ifdef MTP_BUILD
                            23257 ; 142  |// --------------------
                            23258 ; 143  |// MTP and NAND only
                            23259 ; 144  |// --------------------
                            23260 ; 145  |#define NUM_LOGICAL_MEDIA       1
                            23261 ; 146  |#define NUM_LOGICAL_DRIVES      7
                            23262 ; 147  |#else  // ifndef MTP_BUILD
                            23263 ; 148  |#ifdef STMP_BUILD_PLAYER
                            23264 ; 149  |// --------------------
                            23265 ; 150  |// Player and NAND only
                            23266 ; 151  |// --------------------
                            23267 ; 152  |#else
                            23268 ; 153  |// --------------------
                            23269 ; 154  |// USBMSC and NAND only
                            23270 ; 155  |// --------------------
                            23271 ; 156  |#define NUM_LOGICAL_MEDIA       2
                            23272 ; 157  |#define NUM_LOGICAL_DRIVES      7
                            23273 ; 158  |#endif // ifdef STMP_BUILD_PLAYER
                            23274 ; 159  |#endif // ifdef MTP_BUILD
                            23275 ; 160  |#endif // ifdef MMC 
                            23276 ; 161  |
                            23277 ; 162  |// If we are in an MTP build then we don't use as many transfers buffers.
                            23278 ; 163  |#if (defined(MTP_BUILD))
                            23279 ; 164  |#define MAX_USB_TRANSFERS_QUEUED 16
                            23280 ; 165  |
                            23281 ; 166  |////!
                            23282 ; 167  |////! This varible holds the watchdog count for the store flush.
                            23283 ; 168  |////!
                            23284 ; 169  |///
                            23285 ; 170  |#include <types.h>
                            23286 ; 171  |extern volatile INT g_StoreWatchDogCount;
                            23287 ; 172  |extern const INT g_StoreWatchDogTimeout;
                            23288 ; 173  |#endif
                            23289 ; 174  |
                            23290 ; 175  |////////////////////////////////////////////////////////////////////////////////
                            23291 ; 176  |// These are needed here for Mass Storage Class
                            23292 ; 177  |// Needs to be cleaned up
                            23293 ; 178  |////////////////////////////////////////////////////////////////////////////////
                            23294 ; 179  |#if (!defined(STMP_BUILD_PLAYER))
                            23295 ; 180  |#define SCRATCH_USER_Y_SIZE 512
                            23296 ; 181  |#define SCRATCH_USER_X_SIZE 512
                            23297 ; 182  |
                            23298 ; 183  |#define BROWNOUT_LEVEL1_DETECTED                0x000001
                            23299 ; 184  |
                            23300 ; 185  |#endif
                            23301 ; 186  |
                            23302 ; 187  |
                            23303 ; 188  |/////////////////////////////////////////////////////////////////////////////////
                            23304 ; 189  |// SmartMedia/NAND defs
                            23305 ; 190  |#define SM_MAX_PHYSICAL_DEVICES SM_INTERNAL_CHIPS+NUM_SM_EXTERNAL
                            23306 ; 191  |#define SM_REMOVABLE_DEVICE_NUM SM_INTERNAL_CHIPS
                            23307 ; 192  |
                            23308 ; 193  |/////////////////////////////////////////////////////////////////////////////////
                            23309 ; 194  |// Sysloadresources defs
                            23310 ; 195  |#define SM_MAX_RESOURCE_DEVICES SM_INTERNAL_CHIPS+NUM_SM_EXTERNAL
                            23311 ; 196  |
                            23312 ; 197  |/////////////////////////////////////////////////////////////////////////////////
                            23313 ; 198  |// MMC defs
                            23314 ; 199  |#define MMC_MAX_PARTITIONS 1
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 386

M:ADDR CODE           CYCLES LINE SOURCELINE
                            23315 ; 200  |#define MMC_MAX_LOGICAL_DEVICES MMC_MAX_PHYSICAL_DEVICES*MMC_MAX_PARTITIONS
                            23316 ; 201  |
                            23317 ; 202  |/////////////////////////////////////////////////////////////////////////////////
                            23318 ; 203  |// SPI defs
                            23319 ; 204  |#define SPI_MAX_DEVICES MMC_MAX_PHYSICAL_DEVICES
                            23320 ; 205  |
                            23321 ; 206  |/////////////////////////////////////////////////////////////////////////////////
                            23322 ; 207  |// Global media defs
                            23323 ; 208  |#define MAX_PHYSICAL_DEVICES SM_MAX_PHYSICAL_DEVICES+MMC_MAX_PHYSICAL_DEVICES
                            23324 ; 209  |#define MAX_LOGICAL_DEVICES SM_MAX_LOGICAL_DEVICES+MMC_MAX_LOGICAL_DEVICES
                            23325 ; 210  |
                            23326 ; 211  |/////////////////////////////////////////////////////////////////////////////////
                            23327 ; 212  |// DO NOT CHANGE THESE!!!
                            23328 ; 213  |#define SM_MAX_PARTITIONS 4
                            23329 ; 214  |#define MAX_HANDLES 2
                            23330 ; 215  |/////////////////////////////////////////////////////////////////////////////////
                            23331 ; 216  |
                            23332 ; 217  |
                            23333 ; 218  |/////////////////////////////////////////////////////////////////////////////////
                            23334 ; 219  |// Battery LRADC Values 
                            23335 ; 220  |/////////////////////////////////////////////////////////////////////////////////
                            23336 ; 221  |// brownout trip point in mV (moved by RS)
                            23337 ; 222  |// BATT_SAFETY_MARGIN:  percentage value used by:
                            23338 ; 223  |//   * SysSaveSettings to determine if enough power is left to attempt a settings save. 
                            23339 ; 224  |//   * Recorder to conditionally prevent the start or continuation of 
                            23340 ; 225  |//     audio recording to media.
                            23341 ; 226  |#define BATT_SAFETY_MARGIN 10
                            23342 ; 227  |
                            23343 ; 228  |//; player resource drive refresh allowed only when battery usable % is above this value. 
                                  
                            23344 ; 229  |//; 50% of usable range [0.9V to 1.5V] is around 1.2V This is the safe target alkaline vol
                                  tage to do a refresh.
                            23345 ; 230  |//; LIION will also require 50% which will work but that could be changed in the future. 
                            23346 ; 231  |//RESOURCE_REFRESH_MIN_BATT_PCT equ 50
                            23347 ; 232  |
                            23348 ; 233  |// stmp00005071 adds these for mp3 encode stability at low battery per battery type & mmc 
                                  presence.
                            23349 ; 234  |
                            23350 ; 235  |//// Vbat threshholds empirically tuned by profiling max bat current for 3 HW cases: 
                            23351 ; 236  |//// 1 GigaByte MMC, NAND flash only, & LiIon Buck mode. See voicemenu pre-encode Vbat che
                                  ck.
                            23352 ; 237  |#if (!defined(CLCD))
                            23353 ; 238  |#define MP3_ENC_MMC_MIN_V_BAT_MV 1100
                            23354 ; 239  |#define MP3_ENC_NANDONLY_MIN_V_BAT_MV 1000
                            23355 ; 240  |#else 
                            23356 ; 241  |#define MP3_ENC_MMC_MIN_V_BAT_MV 1250
                            23357 ; 242  |#define MP3_ENC_NANDONLY_MIN_V_BAT_MV 1150
                            23358 ; 243  |#endif
                            23359 ; 244  |#define MP3_ENC_BUCKMODE_MIN_V_BAT_MV 3300
                            23360 ; 245  |
                            23361 ; 246  |// These Vbat use-range-percentages are derived to correspond with target battery 
                            23362 ; 247  |// voltages of 1.10V for MMC, 1.0V for nand only (alkaline or nimh), and 3.3V for any LiIo
                                  n.
                            23363 ; 248  |// See mp3 encoder overlay.
                            23364 ; 249  |#define MP3_ENC_MMC_MIN_V_BAT_RANGE_PCT 33
                            23365 ; 250  |#define MP3_ENC_NANDONLY_MIN_V_BAT_RANGE_PCT 17
                            23366 ; 251  |#define MP3_ENC_BUCKMODE_MIN_V_BAT_RANGE_PCT 25
                            23367 ; 252  |
                            23368 ; 253  |/////////////////////////////////////////////////////////////////////////////////
                            23369 ; 254  |// Voice recording filenames
                            23370 ; 255  |// number of digits in filename Vxxx.wav
                            23371 ; 256  |/////////////////////////////////////////////////////////////////////////////////
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 387

M:ADDR CODE           CYCLES LINE SOURCELINE
                            23372 ; 257  |#define DIGITS_IN_VOICE_FILENAME 3   
                            23373 ; 258  |
                            23374 ; 259  |/////////////////////////////////////////////////////////////////////////////////
                            23375 ; 260  |// Mic Bias: Set this enable to 1 to internally generate mic bias voltage. 
                            23376 ; 261  |// Also below, must configure internal resistor value and pin to use for DC bias. 
                            23377 ; 262  |// Can set to 0 to disable internally generated mic bias voltage at pin lradc1/2.
                            23378 ; 263  |#if defined(DEVICE_3500)
                            23379 ; 264  |#define ENABLE_INTERNALLY_GENERATED_MICBIAS 1 
                            23380 ; 265  |// MIC BIAS circuit source selection: use Low Resolution ADC pin 2 or 1 to bias mic. 
                            23381 ; 266  |// Per your layout: select LRADC 2 or 1 below 
                            23382 ; 267  |//   (pin LRADC 2 for 35xx cpu card revB, LRADC 1 for 35xx cpu card revC, ref schematics, 
                                  & demo player)
                            23383 ; 268  |#define LRADC_NUM_FOR_MIC_BIAS 1 
                            23384 ; 269  |// Sets internal mic bias R to value 2, 4, or 8 (in kOhms).
                            23385 ; 270  |#define MICBIAS_CONFIGURED_RESISTOR_KOHMS 8
                            23386 ; 271  |
                            23387 ; 272  |// Allows mic bias to settle before sampling. This delay currently unused. For rec btn whe
                                  n bias not yet ready.
                            23388 ; 273  |#define REC_BTN_INTERNAL_MIC_BIAS_SETTLING_DELAY_MS 400 
                            23389 ; 274  |// Option always keeps bias enabled after mainmenu init. This allows for start pop prevent
                                  ion if you use rec button from outside voice menu.
                            23390 ; 275  |// This selection costs 1 mWatt but gains the desired low record button to sampling latenc
                                  y in the record-from-music-menu use-case.
                            23391 ; 276  |#define KEEP_MIC_BIAS_ENABLED 0
                            23392 ; 277  |
                            23393 ; 278  |#else 
                            23394 ; 279  |// STMP3410
                            23395 ; 280  |#define ENABLE_INTERNALLY_GENERATED_MICBIAS 0
                            23396 ; 281  |#define LRADC_NUM_FOR_MIC_BIAS 1 
                            23397 ; 282  |#define MICBIAS_CONFIGURED_RESISTOR_KOHMS 2
                            23398 ; 283  |#endif
                            23399 ; 284  |
                            23400 ; 285  |/////////////////////////////////////////////////////////////////////////////////
                            23401 ; 286  |// Number of available soft timers
                            23402 ; 287  |/////////////////////////////////////////////////////////////////////////////////
                            23403 ; 288  |#if defined(SYNC_LYRICS)
                            23404 ; 289  |#define SOFT_TIMERS 10
                            23405 ; 290  |#else 
                            23406 ; 291  |#if defined(JPEG_DECODER)
                            23407 ; 292  |#define SOFT_TIMERS 10
                            23408 ; 293  |#else 
                            23409 ; 294  |#define SOFT_TIMERS 9
                            23410 ; 295  |#endif
                            23411 ; 296  |#endif
                            23412 ; 297  |
                            23413 ; 298  |/////////////////////////////////////////////////////////////////////////////////
                            23414 ; 299  |//  sizes
                            23415 ; 300  |/////////////////////////////////////////////////////////////////////////////////
                            23416 ; 301  |#if defined(MMC)
                            23417 ; 302  |#if defined(USE_PLAYLIST5)
                            23418 ; 303  |#define MENU_STACK_SIZE 1500
                            23419 ; 304  |#else 
                            23420 ; 305  |#define MENU_STACK_SIZE 1250
                            23421 ; 306  |#endif //if @def('USE_PLAYLIST5')
                            23422 ; 307  |#else 
                            23423 ; 308  |#if defined(USE_PLAYLIST5)
                            23424 ; 309  |#define MENU_STACK_SIZE 1500
                            23425 ; 310  |#else 
                            23426 ; 311  |#define MENU_STACK_SIZE 1250
                            23427 ; 312  |#endif //if @def('USE_PLAYLIST5')
                            23428 ; 313  |#endif //if @def('MMC')
                            23429 ; 314  |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 388

M:ADDR CODE           CYCLES LINE SOURCELINE
                            23430 ; 315  |// NOTE: SDK2.6 USED 550 FOR NEXT LINE, BUT SDK3.0BETA USED 750. Should it be ifdef MTP 75
                                  0 else 550 for other builds? TOVERIFY. MYALLOC
                            23431 ; 316  |// 
                            23432 ; 317  |#define STACK_L1_SIZE 750
                            23433 ; 318  |#define STACK_L2_SIZE 100
                            23434 ; 319  |#define STACK_L3_SIZE 160
                            23435 ; 320  |
                            23436 ; 321  |// If we are in MTP mode the overlay task stack can shrink.
                            23437 ; 322  |// TODO shrink this stack for MTP, I will leave it at 500 until we verify that it 
                            23438 ; 323  |// is ok with switching code.
                            23439 ; 324  |#if defined(MTP_BUILD)
                            23440 ; 325  |#define OVERLAY_MANAGER_STACK_SIZE 300
                            23441 ; 326  |#endif
                            23442 ; 327  |
                            23443 ; 328  |/////////////////////////////////////////////////////////////////////////////////
                            23444 ; 329  |// maximum number of nested funclets 
                            23445 ; 330  |/////////////////////////////////////////////////////////////////////////////////
                            23446 ; 331  |#define MAX_NESTED_FUNCLET 6 
                            23447 ; 332  |
                            23448 ; 333  |/////////////////////////////////////////////////////////////////////////////////
                            23449 ; 334  |//    LCD DEFINITIONS
                            23450 ; 335  |/////////////////////////////////////////////////////////////////////////////////
                            23451 ; 336  |
                            23452 ; 337  |#define SPACE_CHAR 0x000020          
                            23453 ; 338  |#define ZERO_CHAR 0x000030
                            23454 ; 339  |#define COLON_CHAR 0x00003A
                            23455 ; 340  |#define PERIOD_CHAR 0x00002E
                            23456 ; 341  |
                            23457 ; 342  |#if (defined(S6B33B0A_LCD))
                            23458 ; 343  |#define LCD_X_SIZE 128
                            23459 ; 344  |#define LCD_Y_SIZE 159
                            23460 ; 345  |#endif
                            23461 ; 346  |
                            23462 ; 347  |#if (defined(SED15XX_LCD))
                            23463 ; 348  |#define LCD_X_SIZE 128
                            23464 ; 349  |#define LCD_Y_SIZE 64
                            23465 ; 350  |#endif
                            23466 ; 351  |
                            23467 ; 352  |
                            23468 ; 353  |//////////////////////////////////////////////////////////////////////////////////
                            23469 ; 354  |//   Details on Customizing Contrast
                            23470 ; 355  |/////////////////////////////////////////////////////////////////////////////////
                            23471 ; 356  |//   Max supported LCD range is 0 - 3F; however due to hardware/voltage differences
                            23472 ; 357  |//   the range of visibility is usually smaller than this.  It is important to 
                            23473 ; 358  |//   calibrate the visible range, because the contrast setting is saved.
                            23474 ; 359  |//   If the user shuts off the player while lcd is not visible, the player is useless
                            23475 ; 360  |//   unless the ezact sequence is remembered.
                            23476 ; 361  |//   To find out what range your player supports: 
                            23477 ; 362  |//   change these equs to full range or comment out (full range is default)
                            23478 ; 363  |//;;;;;;
                            23479 ; 364  |// uncomment the line below to build code that will provide raw contrast value
                            23480 ; 365  |// recommended calibration using player -- uncomment 
                            23481 ; 366  |//;;;;;;
                            23482 ; 367  |//CONTRAST_CALIBRATION    equ  1
                            23483 ; 368  |////////////////////////////
                            23484 ; 369  |#if (defined(DEMO_HW))
                            23485 ; 370  |// this is the setting for ET301 demos; Next 2 line have not been updated for new Shingyi 
                                  LCD (June6'05)
                            23486 ; 371  |#define LCD_MAX_CONTRAST 0x32 
                            23487 ; 372  |#define LCD_MIN_CONTRAST 0x1E
                            23488 ; 373  |#else 
                            23489 ; 374  |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 389

M:ADDR CODE           CYCLES LINE SOURCELINE
                            23490 ; 375  |#if (defined(S6B33B0A_LCD))
                            23491 ; 376  |#define LCD_MAX_CONTRAST 210
                            23492 ; 377  |#define LCD_MIN_CONTRAST 160    
                            23493 ; 378  |#endif
                            23494 ; 379  |
                            23495 ; 380  |#if (defined(SED15XX_LCD))
                            23496 ; 381  |// Next 3 line comment was for OLD shingyi LCD: (default LCD before sdk2.6)
                            23497 ; 382  |// Engineering board regs support range [17-37].
                            23498 ; 383  |//   Engineering board DC/DC support range [24-46]. 
                            23499 ; 384  |//   One default contrast range [24-42] works for both.
                            23500 ; 385  |// The 3 sets of contrast ranges below are updated for SDK2.6 to support either 
                            23501 ; 386  |// new or old ShingYih LCDs. "File" refers to \resource\shingyih\system_lcd_init_seq.src
                            23502 ; 387  |// 3/10/05 - Use one of the 2 next contrast ranges depending on which
                            23503 ; 388  |// ShingYih LCD you have.  See \resources\shingyi\readme.txt 
                            23504 ; 389  |// Optimal for NEW LCD with NEW file (SDK2.6 default)  
                            23505 ; 390  |// G098064-41 LCD module (present on engr board revH LCD card)
                            23506 ; 391  |
                            23507 ; 392  |#if (defined(NEWSHINGYIH))
                            23508 ; 393  |#define LCD_MAX_CONTRAST 250
                            23509 ; 394  |#define LCD_MIN_CONTRAST 0
                            23510 ; 395  |#else 
                            23511 ; 396  |//-----
                            23512 ; 397  |// Near optimal for OLD LCD with NEW file. 
                            23513 ; 398  |// NOT optimal for the new lcd but pretty good. So u may use this if u want 1 build for bo
                                  th LCDs.
                            23514 ; 399  |#define LCD_MAX_CONTRAST 250
                            23515 ; 400  |#define LCD_MIN_CONTRAST 0
                            23516 ; 401  |
                            23517 ; 402  |//=====
                            23518 ; 403  |// Optimal for OLD ShingYih LCD with OLD file (as sdk2.521)
                            23519 ; 404  |// Suggest going with default new init file & values above for your LCD instead of this hi
                                  storic ver.
                            23520 ; 405  |//LCD_MAX_CONTRAST equ 42
                            23521 ; 406  |//LCD_MIN_CONTRAST equ 24 
                            23522 ; 407  |
                            23523 ; 408  |#endif
                            23524 ; 409  |#endif
                            23525 ; 410  |
                            23526 ; 411  |#endif
                            23527 ; 412  |
                            23528 ; 413  |//////////////////////////////////////////////////////////////////////////////////
                            23529 ; 414  |// The default value of the lcd contrast in % of range
                            23530 ; 415  |//   the default value is used when no settings.dat is available
                            23531 ; 416  |//////////////////////////////////////////////////////////////////////////////////
                            23532 ; 417  |
                            23533 ; 418  |#if (defined(S6B33B0A_LCD))
                            23534 ; 419  |// 60% of range is default value
                            23535 ; 420  |#define DEFAULT_CONTRAST 50 
                            23536 ; 421  |#endif
                            23537 ; 422  |
                            23538 ; 423  |#if (defined(SED15XX_LCD))
                            23539 ; 424  |// % of range is default value (was 60%)
                            23540 ; 425  |#define DEFAULT_CONTRAST 50 
                            23541 ; 426  |#endif
                            23542 ; 427  |
                            23543 ; 428  |
                            23544 ; 429  |// percentage change per increment/decrement message (LCD_DEC_CONTRAST/LCD_INC_CONTRAST)
                            23545 ; 430  |// make lower when doing calibration
                            23546 ; 431  |#define LCD_STEPSIZE_CONTRAST 10  
                            23547 ; 432  |
                            23548 ; 433  |
                            23549 ; 434  |/////////////////////////////////////////////////////////////////////////////////
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 390

M:ADDR CODE           CYCLES LINE SOURCELINE
                            23550 ; 435  |// For FFWD and RWND
                            23551 ; 436  |/////////////////////////////////////////////////////////////////////////////////
                            23552 ; 437  |#define SECONDS_TO_SKIP 1
                            23553 ; 438  |#define SECONDS_TO_SKIP1 3
                            23554 ; 439  |#define SECONDS_TO_SKIP2 6
                            23555 ; 440  |// number of seconds to cause reset to begin of song for PREV push
                            23556 ; 441  |#define PREV_SONG_THRESHOLD 5  
                            23557 ; 442  |// number of 300 mSec periods before the numbers of seconds to skip increases
                            23558 ; 443  |#define FIRST_TIME_BOUNDARY 15 
                            23559 ; 444  |// number of 300 mSec periods before the numbers of seconds to skip increases
                            23560 ; 445  |#define SECOND_TIME_BOUNDARY 30 
                            23561 ; 446  |
                            23562 ; 447  |// For audible FFW/RWD
                            23563 ; 448  |#define SECONDS_TO_SKIP_FOR_3X_RATE 1
                            23564 ; 449  |#define SECONDS_TO_SKIP_FOR_60X_RATE 18
                            23565 ; 450  |#define SECONDS_TO_SKIP_FOR_600X_RATE 180
                            23566 ; 451  |#define SECONDS_TO_SKIP_FOR_1800X_RATE 540
                            23567 ; 452  |// number of 300 mSec periods before the numbers of seconds to skip increases
                            23568 ; 453  |#define LEVEL1_BOUNDARY 17 
                            23569 ; 454  |// number of 300 mSec periods before the numbers of seconds to skip increases
                            23570 ; 455  |#define LEVEL2_BOUNDARY 33 
                            23571 ; 456  |// number of 300 mSec periods before the numbers of seconds to skip increases
                            23572 ; 457  |#define LEVEL3_BOUNDARY 50 
                            23573 ; 458  |// Stmp00010296 Ticket #71685:  for song shorter than the min. skip size
                            23574 ; 459  |// if song_time < skip_size, bCurrentSongShort=>TRUE (ignore FWD/RWD commands)
                            23575 ; 460  |// Short Song Time, songs too short to play.
                            23576 ; 461  |#define SHORT_SONG_TIME SECONDS_TO_SKIP         
                            23577 ; 462  |
                            23578 ; 463  |/////////////////////////////////////////////////////////////////////////////////
                            23579 ; 464  |// MP3 Sync Values
                            23580 ; 465  |/////////////////////////////////////////////////////////////////////////////////
                            23581 ; 466  |// # bytes to look for sync before marking it bad
                            23582 ; 467  |#define MP3_SYNC_THRESHOLD 70000 
                            23583 ; 468  |// # bytes to look for sync before slowing decoder isr frequency (to let menus run)
                            23584 ; 469  |#define MP3_SYNC_THRESHOLD1 10000 
                            23585 ; 470  |// once we have sync'd, the isr should be called this frequently
                            23586 ; 471  |#define MP3_DECODERISR_FAST 7500  
                            23587 ; 472  |// if decoder is having difficulty syncing, switch isr to be called less frequently
                            23588 ; 473  |#define MP3_DECODERISR_SLOW 50000 
                            23589 ; 474  |
                            23590 ; 475  |
                            23591 ; 476  |/////////////////////////////////////////////////////////////////////////////////
                            23592 ; 477  |//// Multi-Stage Volume Control Definitions
                            23593 ; 478  |/////////////////////////////////////////////////////////////////////////////////
                            23594 ; 479  |//// Use Multi-Stage Volume
                            23595 ; 480  |#define MULTI_STAGE_VOLUME 0x1                  
                            23596 ; 481  |
                            23597 ; 482  |//// Master Volume definitions
                            23598 ; 483  |#define MIX_MSTR_MAX_VOL 0x0
                            23599 ; 484  |#define NUM_MSTR_ATT_STEPS (0x1F-MIX_MSTR_MAX_VOL)
                            23600 ; 485  |
                            23601 ; 486  |//// DAC-Mode definitions
                            23602 ; 487  |//// Adjusts 0dB point
                            23603 ; 488  |#define MIX_DAC_NOM_VOL 0x6                  
                            23604 ; 489  |#define MIX_DAC_MIN_VOL 0x1F
                            23605 ; 490  |// For minimum clipping: Set MIX_DAC_MAX_VOL below to match MIX_DAC_NOM_VOL value 2 lines 
                                  above.
                            23606 ; 491  |// For additional gain (with possible clipping): Set MIX_DAC_MAX_VOL in range below. 
                            23607 ; 492  |//                                               Each integer below MIX_DAC_NOM_VOL provid
                                  es 1.5 dB gain on Stmp34x0; 
                            23608 ; 493  |//                                               Max gain possible: 8 step diff would prov
                                  ide +12dB gain.   
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 391

M:ADDR CODE           CYCLES LINE SOURCELINE
                            23609 ; 494  |// range: [0 to MIX_DAC_NOM_VOL] (0 for loudest volume)
                            23610 ; 495  |#define MIX_DAC_MAX_VOL 0x0  
                            23611 ; 496  |
                            23612 ; 497  |#define NUM_DAC_ATT_STEPS (MIX_DAC_MIN_VOL-MIX_DAC_NOM_VOL+1)
                            23613 ; 498  |#define NUM_DAC_GAIN_STEPS (MIX_DAC_NOM_VOL-MIX_DAC_MAX_VOL)
                            23614 ; 499  |#define NUM_DAC_MODE_VOL_STEPS (NUM_DAC_ATT_STEPS+NUM_MSTR_ATT_STEPS+NUM_DAC_GAIN_STEPS+1)
                                  
                            23615 ; 500  |
                            23616 ; 501  |//// If there is no stored volume, set to 50% of DAC-Mode max; change if DAC Mode is not t
                                  he default
                            23617 ; 502  |//// STMP35xx has 2dB attenuation per step so default needs a few more steps above midpoin
                                  t.
                            23618 ; 503  |#define DEFAULT_VOLUME ((NUM_DAC_MODE_VOL_STEPS/2)+6)         
                            23619 ; 504  |
                            23620 ; 505  |//// Set maximum restored volume to 75% of DAC-Mode max; change if DAC Mode is not the def
                                  ault
                            23621 ; 506  |#define MAX_RESTORED_VOLUME ((3*NUM_DAC_MODE_VOL_STEPS)/4)   
                            23622 ; 507  |
                            23623 ; 508  |
                            23624 ; 509  |//// Line In definitions (used for Line-In 1)
                            23625 ; 510  |//// 0dB point of the Line In
                            23626 ; 511  |#define MIX_LINE_NOM_VOL 0x8                  
                            23627 ; 512  |//// Minimum volume of Line In
                            23628 ; 513  |#define MIX_LINE_MIN_VOL 0x1F                 
                            23629 ; 514  |//// Maximum volume of Line In (can adjust extra gain)
                            23630 ; 515  |#define MIX_LINE_MAX_VOL 0x6                  
                            23631 ; 516  |#define NUM_LINE_ATT_STEPS (MIX_LINE_MIN_VOL-MIX_LINE_NOM_VOL+1)
                            23632 ; 517  |#define NUM_LINE_GAIN_STEPS (MIX_LINE_NOM_VOL-MIX_LINE_MAX_VOL)
                            23633 ; 518  |#define NUM_LINE_MODE_VOL_STEPS (NUM_LINE_ATT_STEPS+NUM_MSTR_ATT_STEPS+NUM_LINE_GAIN_STEPS
                                  +1)
                            23634 ; 519  |
                            23635 ; 520  |//// Line In definitions (used for FM tuner with 144 pin package)
                            23636 ; 521  |//// 0dB point of the Line In
                            23637 ; 522  |#define MIX_FM_NOM_VOL 0x8                  
                            23638 ; 523  |//// Minimum volume of Line In
                            23639 ; 524  |#define MIX_FM_MIN_VOL 0x1F                 
                            23640 ; 525  |//// Maximum volume of Line In (can adjust extra gain)
                            23641 ; 526  |#define MIX_FM_MAX_VOL 0x6                  
                            23642 ; 527  |#define NUM_FM_ATT_STEPS (MIX_FM_MIN_VOL-MIX_FM_NOM_VOL+1)
                            23643 ; 528  |#define NUM_FM_GAIN_STEPS (MIX_FM_NOM_VOL-MIX_FM_MAX_VOL)
                            23644 ; 529  |#define NUM_FM_MODE_VOL_STEPS (NUM_FM_ATT_STEPS+NUM_MSTR_ATT_STEPS+NUM_FM_GAIN_STEPS+1)
                            23645 ; 530  |
                            23646 ; 531  |/////////////////////////////////////////////////////////////////////////////////
                            23647 ; 532  |//// When enabled (1), periodically checks for one of several FM state machine invalid dea
                                  dlock states & recovers. 
                            23648 ; 533  |//// Define as 0 to disable FM-deadlock-state checking and recovery.
                            23649 ; 534  |#define FM_WATCHDOG_ENABLE 1
                            23650 ; 535  |
                            23651 ; 536  |#if !defined(STMP_BUILD_PLAYER)
                            23652 ; 537  |////
                            23653 ; 538  |////! This varible holds the lcd display state for the mtp project.
                            23654 ; 539  |////
                            23655 ; 540  |///
                            23656 ; 541  |#include <types.h>
                            23657 ; 542  |extern volatile WORD g_wActivityState;
                            23658 ; 543  |#endif // if !@def('STMP_BUILD_PLAYER')
                            23659 ; 544  |
                            23660 ; 545  |void _reentrant Init5VSense(void);
                            23661 ; 546  |void _reentrant ServiceDCDC(void);
                            23662 ; 547  |
                            23663 ; 548  |////////////////////////////////////////////////////////////////////////////
                            23664 ; 549  |//// JPEG Thumbnail Mode Setting
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 392

M:ADDR CODE           CYCLES LINE SOURCELINE
                            23665 ; 550  |//// number of column in thumbnail mode
                            23666 ; 551  |#define THUMBNAIL_X 2           
                            23667 ; 552  |//// number of row in  thumbnail mode
                            23668 ; 553  |#define THUMBNAIL_Y 2           
                            23669 ; 554  |//// thumbnail boundary offset x
                            23670 ; 555  |#define THUMBNAIL_X_OFFSET 4            
                            23671 ; 556  |//// thumbnail boundary offset y
                            23672 ; 557  |#define THUMBNAIL_Y_OFFSET 4            
                            23673 ; 558  |
                            23674 ; 559  |#endif // if (!@def(_PROJECT_INC))
                            23675 ; 560  |
                            23676 
                            23678 
                            23679 ; 101  |
                            23680 ; 102  |/*========================================================================================
                                  ==========
                            23681 ; 103  |                                             CONSTANTS
                            23682 ; 104  |==========================================================================================
                                  ========*/
                            23683 ; 105  |/* The bit mask for 2 bits Unicode Flag selection in "uint8 unicode".
                            23684 ; 106  |Variable Represented            Bits used in "uint8 unicode"
                            23685 ; 107  |Artistname                              1:0
                            23686 ; 108  |Albumname                               3:2
                            23687 ; 109  |Genrename                               5:4
                            23688 ; 110  |Songname                                7:6
                            23689 ; 111  |----------------------------------------------------------
                            23690 ; 112  |    Value (2 bits)                      Meanings
                            23691 ; 113  |    0                                   RAW and All ASCII
                            23692 ; 114  |    1                                   Uni-code
                            23693 ; 115  |    2                                   Mixed, non-unicode
                            23694 ; 116  |
                            23695 ; 117  |    3(Genre only)               Genre is ID3v1 spec=>number
                            23696 ; 118  |*/
                            23697 ; 119  |#define BITMASK_ARTIST  (0x03)
                            23698 ; 120  |#define BITMASK_ALBUM   (0x0C)
                            23699 ; 121  |#define BITMASK_GENRE   (0x30)
                            23700 ; 122  |#define BITMASK_SONG    (0xC0)
                            23701 ; 123  |
                            23702 ; 124  |#define BITCHK_ARTIST_ALLASCII  (0x0)
                            23703 ; 125  |#define BITCHK_ALBUM_ALLASCII   (0x0)
                            23704 ; 126  |#define BITCHK_GENRE_ALLASCII   (0x0)
                            23705 ; 127  |#define BITCHK_SONG_ALLASCII    (0x0)
                            23706 ; 128  |
                            23707 ; 129  |#define BITCHK_ARTIST_UNICODE   (0x01)
                            23708 ; 130  |#define BITCHK_ALBUM_UNICODE    (0x04)
                            23709 ; 131  |#define BITCHK_GENRE_UNICODE    (0x10)
                            23710 ; 132  |#define BITCHK_SONG_UNICODE             (0x40)
                            23711 ; 133  |
                            23712 ; 134  |#define BITCHK_ARTIST_MIXCODE   (0x02)
                            23713 ; 135  |#define BITCHK_ALBUM_MIXCODE    (0x08)
                            23714 ; 136  |#define BITCHK_GENRE_MIXCODE    (0x20)
                            23715 ; 137  |#define BITCHK_SONG_MIXCODE             (0x80)
                            23716 ; 138  |
                            23717 ; 139  |#define BITCHK_GENRE_ID3V1              (0x30)
                            23718 ; 140  |
                            23719 ; 141  |#define UNKNOWN_YEAR_CODE               (1)     /* set a very large number */
                            23720 ; 142  |
                            23721 ; 143  |#define INDEX_EOF       0xFFF
                            23722 ; 144  |#ifdef _FOLDER_BROWSE_
                            23723 ; 145  |#define INDEX_ROOT  0xffe
                            23724 ; 146  |#define UNKNOWN_RECORD  0xfff
                            23725 ; 147  |#endif  // _FOLDER_BROWSE_
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 393

M:ADDR CODE           CYCLES LINE SOURCELINE
                            23726 ; 148  |
                            23727 ; 149  |/* Constant for item_type */
                            23728 ; 150  |#define         ITEM_ARTIST                     0
                            23729 ; 151  |#define         ITEM_ALBUM                      1
                            23730 ; 152  |#define         ITEM_GENRE                      2
                            23731 ; 153  |#define         ITEM_TRACK                      3
                            23732 ; 154  |#define         ITEM_YEAR                       4
                            23733 ; 155  |#define         ITEM_SONG_INFO_ARTIST   5
                            23734 ; 156  |#define         ITEM_SONG_INFO_ALBUM    6
                            23735 ; 157  |#define         ITEM_SONG_INFO_GENRE    7
                            23736 ; 158  |#define         ITEM_SONG_INFO_YEAR             9
                            23737 ; 159  |#ifdef _NEWMUSIC_
                            23738 ; 160  |#define         ITEM_1DAY                       10
                            23739 ; 161  |#define         ITEM_1WEEK                      11
                            23740 ; 162  |#define         ITEM_1MONTH                     12
                            23741 ; 163  |#endif
                            23742 ; 164  |#ifdef _AUDIBLE_
                            23743 ; 165  |#define         ITEM_AUDIBLE            13
                            23744 ; 166  |#endif
                            23745 ; 167  |#define         ITEM_ON_THE_GO          14
                            23746 ; 168  |
                            23747 ; 169  |#define         ITEM_VOICE                      15
                            23748 ; 170  |#define         ITEM_FMREC                      16
                            23749 ; 171  |#define         ITEM_PHOTO                      17
                            23750 ; 172  |#ifdef _FOLDER_BROWSE_
                            23751 ; 173  |#define         ITEM_INTERNAL           18
                            23752 ; 174  |#define         ITEM_EXTERNAL       19
                            23753 ; 175  |#endif  // _FOLDER_BROWSE_
                            23754 ; 176  |#define     ITEM_UNKNOWN        0xff
                            23755 ; 177  |
                            23756 ; 178  |/*
                            23757 ; 179  |input parameter for void ML_AddEntryToLibrary(uint24 Media_type, RAM_SONG_INFO_T *song_inf
                                  o, int16 option);
                            23758 ; 180  |option input.
                            23759 ; 181  |*/
                            23760 ; 182  |#define         ADD_OPTION_MUSIC        (0x00)
                            23761 ; 183  |#define         ADD_OPTION_VOICE        (0x01)
                            23762 ; 184  |#define         ADD_OPTION_AUDIBLE      (0x02)
                            23763 ; 185  |#ifdef _FOLDER_BROWSE_
                            23764 ; 186  |#define     ADD_OPTION_DIR      (0x03)
                            23765 ; 187  |#endif  // _FOLDER_BROWSE_
                            23766 ; 188  |
                            23767 ; 189  |/* Constant for key action */
                            23768 ; 190  |#define         ACTION_OK                               0               /* Press OK button
                                   */
                            23769 ; 191  |#define         ACTION_BACK                             1               /* Press BACK butt
                                  on */
                            23770 ; 192  |#define         ACTION_UP                               2               /* Press UP button
                                   */
                            23771 ; 193  |#define         ACTION_DOWN                             3               /* Press DOWN butt
                                  on */
                            23772 ; 194  |#define         ACTION_PLAYALL                  4               /* Play All function */
                            23773 ; 195  |#define         ACTION_MENU                             5               /* Back the browsi
                                  ng tree to root */
                            23774 ; 196  |
                            23775 ; 197  |#define     PLAYMODE_CURRENT_PLAYMODE_BITPOS    0
                            23776 ; 198  |#define     PLAYMODE_LAST_PLAYMODE_BITPOS       1
                            23777 ; 199  |#define     PLAYMODE_REPEAT_BITPOS              2
                            23778 ; 200  |#define     PLAYMODE_MEDIA_BITPOS               3
                            23779 ; 201  |
                            23780 ; 202  |#define         NO_SD                                   0
                            23781 ; 203  |#define         HAS_SD                                  1
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 394

M:ADDR CODE           CYCLES LINE SOURCELINE
                            23782 ; 204  |
                            23783 ; 205  |#define         PLAY_NORMAL                             0
                            23784 ; 206  |#define         PLAY_SHUFFLE                    1
                            23785 ; 207  |
                            23786 ; 208  |#define     PLAY_REPEAT_OFF         0
                            23787 ; 209  |#define     PLAY_REPEAT_ON          1
                            23788 ; 210  |
                            23789 ; 211  |#define     PLAY_SELECT_FLASH       0
                            23790 ; 212  |#define     PLAY_SELECT_SD          1
                            23791 ; 213  |
                            23792 ; 214  |#define         SHUFFLE_NEXT_SONG                       0
                            23793 ; 215  |#define         SHUFFLE_PREVIOUS_SONG       1
                            23794 ; 216  |
                            23795 ; 217  |#define         ON_THE_GO_EXIST                 0
                            23796 ; 218  |#define         ON_THE_GO_FULL                  1
                            23797 ; 219  |#define         ON_THE_GO_FREE                  2
                            23798 ; 220  |#define         ON_THE_GO_DEL_PLAYING   3
                            23799 ; 221  |#define         ON_THE_GO_DEL_SMALLER_ID    4
                            23800 ; 222  |
                            23801 ; 223  |#define         REC_VOICE_TYPE                  0
                            23802 ; 224  |#define         REC_FMREC_TYPE                  1
                            23803 ; 225  |#define         REC_PHOTO_TYPE                  2
                            23804 ; 226  |#define         VOICE_FILE_ADD                  0
                            23805 ; 227  |#define         VOICE_FILE_DEL                  1
                            23806 ; 228  |
                            23807 ; 229  |#define         MAX_BROWSE_WINDOW_SIZE  (8)
                            23808 ; 230  |#define         BROWSE_WINDOW_SIZE              (4)
                            23809 ; 231  |/* maximum number of song file, should not be larger than 2048 each for on-board
                            23810 ; 232  |flash or external SD card */
                            23811 ; 233  |#ifdef _SUPPORT_2000_SONGS_
                            23812 ; 234  |#define MAX_NUM_OF_SONG (2000)
                            23813 ; 235  |#else
                            23814 ; 236  |#define MAX_NUM_OF_SONG (1000)
                            23815 ; 237  |#endif // _SUPPORT_2000_SONGS_
                            23816 ; 238  |
                            23817 ; 239  |/* number of byte in one DSP word */
                            23818 ; 240  |#define NUM_OF_BYTE_IN_ONE_WORD (3)
                            23819 ; 241  |#define LEN_OF_NAME_IN_BYTE (120) /* must be an integer multiple of 3 */
                            23820 ; 242  |/* length of file pathname in byte, assuming directory and file in 8.3 format, there
                            23821 ; 243  |are 10 level directory structure */
                            23822 ; 244  |#define LEN_OF_FILEPATH_IN_BYTE (129) /* must be an integer multiple of 3 */
                            23823 ; 245  |#define LEN_OF_LONG_FILENAME_IN_BYTE (129) /* must be an integer multiple of 3 */
                            23824 ; 246  |
                            23825 ; 247  |/* number of list in new music, 1-day, 1-week, 1-month */
                            23826 ; 248  |#define NUM_OF_LIST_IN_NEW_MUSIC (3)
                            23827 ; 249  |/* number of songs in each new music list */
                            23828 ; 250  |#define NUM_OF_SONG_IN_NEW_MUSIC (40)
                            23829 ; 251  |#define NUM_OF_SONG_IN_NEW_MUSIC_DAY (20)
                            23830 ; 252  |#define NUM_OF_SONG_IN_NEW_MUSIC_WEEK (30)
                            23831 ; 253  |#define NUM_OF_SONG_IN_NEW_MUSIC_MONTH (40)
                            23832 ; 254  |/* number of songs in the on-the-fly list */
                            23833 ; 255  |#define NUM_OF_SONG_IN_ON_THE_FLY (30)
                            23834 ; 256  |/* number of files audible list */
                            23835 ; 257  |#define NUM_OF_AUDIBLE_FILE (250)
                            23836 ; 258  |
                            23837 ; 259  |#define MAX_NUM_OF_VOICE (1000)
                            23838 ; 260  |#define LEN_OF_VOICE_NAME_IN_BYTE (LEN_OF_NAME_IN_BYTE) /* must be an integer multiple of 
                                  3 */
                            23839 ; 261  |#define LEN_OF_VOICE_FILEPATH_IN_BYTE (LEN_OF_FILEPATH_IN_BYTE) /* must be an integer mult
                                  iple of 3 */
                            23840 ; 262  |
                            23841 ; 263  |#define MAX_NUM_OF_FMREC (MAX_NUM_OF_VOICE)     /* _must_be_equal_voice_num_ */
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 395

M:ADDR CODE           CYCLES LINE SOURCELINE
                            23842 ; 264  |#define MAX_NUM_OF_PHOTO (MAX_NUM_OF_VOICE)     /* _must_be_equal_voice_num_ */
                            23843 ; 265  |#ifdef _FOLDER_BROWSE_
                            23844 ; 266  |#define MAX_NUM_OF_DIR   (1000)
                            23845 ; 267  |#else
                            23846 ; 268  |#define MAX_NUM_OF_DIR   (1)
                            23847 ; 269  |#endif  // _FOLDER_BROWSE_
                            23848 ; 270  |#define LEN_OF_FMREC_NAME_IN_BYTE (LEN_OF_NAME_IN_BYTE) /* must be an integer multiple of 
                                  3 */
                            23849 ; 271  |#define LEN_OF_FMREC_FILEPATH_IN_BYTE (LEN_OF_FILEPATH_IN_BYTE) /* must be an integer mult
                                  iple of 3 */
                            23850 ; 272  |
                            23851 ; 273  |#ifndef _MAX_DIR_DEPTH
                            23852 ; 274  |#define _MAX_DIR_DEPTH  8   // referred to "playlist3internal.h"
                            23853 ; 275  |#endif  // _MAX_DIR_DEPTH
                            23854 ; 276  |
                            23855 ; 277  |/*========================================================================================
                                  ==========*/
                            23856 ; 278  |
                            23857 ; 279  |
                            23858 ; 280  |/*========================================================================================
                                  ==========
                            23859 ; 281  |                                               MACROS
                            23860 ; 282  |==========================================================================================
                                  ========*/
                            23861 ; 283  |
                            23862 ; 284  |/*========================================================================================
                                  ==========
                            23863 ; 285  |                                               ENUMS
                            23864 ; 286  |==========================================================================================
                                  ========*/
                            23865 ; 287  |#define NUM_OF_MEDIA                            (2)
                            23866 ; 288  |#define MEDIA_TYPE_FLASH                        (0)
                            23867 ; 289  |#define MEDIA_TYPE_SD                           (1)
                            23868 ; 290  |/*========================================================================================
                                  ==========
                            23869 ; 291  |                                     STRUCTURES AND OTHER TYPEDEFS
                            23870 ; 292  |==========================================================================================
                                  ========*/
                            23871 ; 293  |
                            23872 ; 294  |typedef char    int8;
                            23873 ; 295  |typedef short   int16;
                            23874 ; 296  |typedef int     int24;
                            23875 ; 297  |typedef long    int32;
                            23876 ; 298  |
                            23877 ; 299  |typedef int     intx;
                            23878 ; 300  |
                            23879 ; 301  |typedef unsigned char   uint8;
                            23880 ; 302  |typedef unsigned short  uint16;
                            23881 ; 303  |typedef unsigned int    uint24;
                            23882 ; 304  |typedef unsigned long   uint32;
                            23883 
                            23887 
                            23888 ; 305  |
                            23889 ; 306  |/*
                            23890 ; 307  |Any missing information in the name fields will be filled with Unknown in Unicode form
                                  at.
                            23891 ; 308  |artist_name[] = Unknown; unicode = 0x01;
                            23892 ; 309  |album_name[] = Unknown; unicode = 0x04;
                            23893 ; 310  |genre_name[] = Unknown; unicode = 0x08;
                            23894 ; 311  |song_name[] = Unknown; unicode = 0x0F;
                            23895 ; 312  |*/
                            23896 ; 313  |/*
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 396

M:ADDR CODE           CYCLES LINE SOURCELINE
                            23897 ; 314  |path_name[] _must_have_data_:
                            23898 ; 315  |path_name[] = (Max. 120 Characters);
                            23899 ; 316  |year range:
                            23900 ; 317  |year = 0x000000-0xFFFFFF;
                            23901 ; 318  |DOCUMENT CONTROL NUMBER : Version : 01.01
                            23902 ; 319  |Unknown track number:
                            23903 ; 320  |track_number = 0x7FFFFF;
                            23904 ; 321  |unicode refer to above #define BITMASK_*
                            23905 ; 322  |*/
                            23906 ; 323  |/*
                            23907 ; 324  |Interface of UI and Music Library
                            23908 ; 325  |1) If file was created in ID3V1 format genre, UI will convert it to Unicode string.
                            23909 ; 326  |
                            23910 ; 327  |2) Music Library expected to reserve 128x7 words RAM for UI mapping table.
                            23911 ; 328  |
                            23912 ; 329  |3) UI to Music Library variable passing length definition:
                            23913 ; 330  |        All ASCII Characters:
                            23914 ; 331  |                Max. Number of Bytes Stored = 120 Bytes
                            23915 ; 332  |                Max. Number of Characters Stored/Display = 40 Characters
                            23916 ; 333  |        Unicode Characters:
                            23917 ; 334  |                Max. Number of Bytes Stored = 120 Bytes
                            23918 ; 335  |                Max. Number of Characters Stored/Display = 40 Characters
                            23919 ; 336  |
                            23920 ; 337  |4) UI input data to Music Library in two formats.
                            23921 ; 338  |        Formats:        1) All ASCII (24 bits data)
                            23922 ; 339  |                                2) Unicode + Mix. Non -Unicode (16 bits data)
                            23923 ; 340  |
                            23924 ; 341  |5) UI calling function:
                            23925 ; 342  |COMP_OPT_REN void ML_AddEntryToLibrary(RAM_SONG_INFO_T *song_info, int16 option);
                            23926 ; 343  |        int16 option definition:
                            23927 ; 344  |                option  = 0 - song_info struct contains a mp3/wma format file.
                            23928 ; 345  |                                = 1 - song_info struct contains a voice format file.
                            23929 ; 346  |                                = 2 - song_info struct contains a audible format file.
                            23930 ; 347  |
                            23931 ; 348  |        i) Only mp3/wma file (option = 0, 2) files will be sorted,
                            23932 ; 349  |        ii) Voice and audible(option = 1) file will be store in a voice_list and audible_l
                                  ist separately.
                            23933 ; 350  |
                            23934 ; 351  |6) Modification Date:
                            23935 ; 352  |        uint24 g_file_time:
                            23936 ; 353  |                YYMMDD: 12 bits - Year, 6 bits - Month, 6 - bits Date
                            23937 ; 354  |*/
                            23938 ; 355  |
                            23939 ; 356  |/* struct to store the song information passed from UI, this struct will be placed in
                            23940 ; 357  |ghdr\musiclib_ghdr.h and included in UI files*/
                            23941 ; 358  |typedef struct _ram_song_info {
                            23942 ; 359  |        uint24 artist_name[LEN_OF_NAME_IN_BYTE/NUM_OF_BYTE_IN_ONE_WORD];
                            23943 ; 360  |        uint24 album_name[LEN_OF_NAME_IN_BYTE/NUM_OF_BYTE_IN_ONE_WORD];
                            23944 ; 361  |        uint24 genre_name[LEN_OF_NAME_IN_BYTE/NUM_OF_BYTE_IN_ONE_WORD];
                            23945 ; 362  |        uint24 song_name[LEN_OF_NAME_IN_BYTE/NUM_OF_BYTE_IN_ONE_WORD];
                            23946 ; 363  |        uint24 path_name[LEN_OF_FILEPATH_IN_BYTE/NUM_OF_BYTE_IN_ONE_WORD];
                            23947 ; 364  |    uint32 g_songFastKey;
                            23948 ; 365  |        uint24 dir_name[LEN_OF_LONG_FILENAME_IN_BYTE/NUM_OF_BYTE_IN_ONE_WORD];
                            23949 ; 366  |        uint24 year;
                            23950 ; 367  |        uint24 track_number;
                            23951 ; 368  |        uint8 unicode;
                            23952 ; 369  |} RAM_SONG_INFO_T;
                            23953 ; 370  |
                            23954 ; 371  |/* struct to store the group name: artist, album and genre, in the flash */
                            23955 ; 372  |typedef struct _flash_group_name {
                            23956 ; 373  |        uint24 name[LEN_OF_NAME_IN_BYTE/NUM_OF_BYTE_IN_ONE_WORD];
                            23957 ; 374  |        uint8 unicode;
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 397

M:ADDR CODE           CYCLES LINE SOURCELINE
                            23958 ; 375  |} FLASH_GROUP_NAME_T;
                            23959 ; 376  |
                            23960 ; 377  |// struct to store directories information passed from UI
                            23961 ; 378  |#ifdef _FOLDER_BROWSE_
                            23962 ; 379  |typedef struct _ml_DirInfo {
                            23963 ; 380  |        uint24  u8Unicode : 8;
                            23964 ; 381  |        uint24  u12DirDepth : 12;
                            23965 ; 382  |        uint24  u4Added : 4;            
                            23966 ; 383  |        INT     iDirRecord;
                            23967 ; 384  |        DWORD   dwFastKey;
                            23968 ; 385  |        uint24  u24PathName[LEN_OF_FILEPATH_IN_BYTE/NUM_OF_BYTE_IN_ONE_WORD];
                            23969 ; 386  |} ML_DIRINFO_T;
                            23970 ; 387  |#endif  // _FOLDER_BROWSE_
                            23971 ; 388  |
                            23972 ; 389  |/*========================================================================================
                                  ==========
                            23973 ; 390  |                                 GLOBAL VARIABLE DECLARATIONS
                            23974 ; 391  |==========================================================================================
                                  ========*/
                            23975 ; 392  |extern uint24   IsPlayOnTheGo;
                            23976 
                            23982 
                            23983 ; 393  |extern FLASH_GROUP_NAME_T   browse_item_name[];
                            23984 ; 394  |extern uint24   merge_id_list_flash[];
                            23985 ; 395  |extern uint24   merge_id_list_sd[];
                            23986 ; 396  |extern INT _X   g_iBrowseWindowSize;
                            23987 ; 397  |#ifdef _FOLDER_BROWSE_
                            23988 
                            24001 
                            24002 ; 398  |extern ML_DIRINFO_T g_tDirInfoBuffer[_MAX_DIR_DEPTH];
                            24003 ; 399  |extern uint24       g_u24DirName[LEN_OF_NAME_IN_BYTE/NUM_OF_BYTE_IN_ONE_WORD];
                            24004 ; 400  |extern uint24       g_u24BrowseNumOfDirInDir[];
                            24005 ; 401  |#endif  // _FOLDER_BROWSE_
                            24006 ; 402  |extern INT _X    *sec_temp_buf_X;
                            24007 ; 403  |extern uint24   playMode;   /* bit 0 = current play mode; bit 1 = last play mode ; bit 2 =
                                   repeat on/off(0=off/1=on) */
                            24008 ; 404  |
                            24009 ; 405  |/*========================================================================================
                                  ==========
                            24010 ; 406  |                                        FUNCTION PROTOTYPES
                            24011 ; 407  |==========================================================================================
                                  ========*/
                            24012 ; 408  |
                            24013 ; 409  |///////////////////////////////////////////////////////////////////////
                            24014 ; 410  |//! \brief
                            24015 ; 411  |//!
                            24016 ; 412  |//! \fntype Function
                            24017 ; 413  |//!
                            24018 ; 414  |//! Called by UI, to initialize the parameters before insert any item.
                            24019 ; 415  |//! Call only once before inserting items. Call once for each media.
                            24020 ; 416  |//!
                            24021 ; 417  |//! \param[in]  none
                            24022 ; 418  |//!
                            24023 ; 419  |//! \return
                            24024 ; 420  |//!
                            24025 ; 421  |///////////////////////////////////////////////////////////////////////
                            24026 ; 422  |void ML_InitLibraryParameter(void);
                            24027 ; 423  |
                            24028 ; 424  |///////////////////////////////////////////////////////////////////////
                            24029 ; 425  |//! \brief
                            24030 ; 426  |//!
                            24031 ; 427  |//! \fntype Function
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 398

M:ADDR CODE           CYCLES LINE SOURCELINE
                            24032 ; 428  |//!
                            24033 ; 429  |//! Called by UI, the AddEntryToLibrary is the music library building
                            24034 ; 430  |//! algorithms for the flash-type memory and SD memory by sorting the song information
                            24035 ; 431  |//! by, but not limited to, album, artist, genre, year and track. Called once for each son
                                  g,
                            24036 ; 432  |//! the song information is recorded in music library.
                            24037 ; 433  |//!
                            24038 ; 434  |//! \param[in]  uint24 Media_type - Possible values: MEDIA_TYPE_FLASH(=0); MEDIA_TYPE_SD(=
                                  1)
                            24039 ; 435  |//! \param[in]  RAM_SONG_INFO_T *song_info - Structure to store the song information passe
                                  d from UI, this structure is defined in ghdr\musiclib_ghdr.h and included in UI files)
                            24040 ; 436  |//! \param[in]  int16 option - option = 0 -- song_info struct contains a mp3, wma or wav f
                                  ormat file.
                            24041 ; 437  |//!
                            24042 ; 438  |//! \return
                            24043 ; 439  |//!
                            24044 ; 440  |///////////////////////////////////////////////////////////////////////
                            24045 ; 441  |void ML_AddEntryToLibrary(uint24 Media_type, RAM_SONG_INFO_T *song_info, int16 option);
                            24046 
                            24060 
                            24061 ; 442  |
                            24062 ; 443  |///////////////////////////////////////////////////////////////////////
                            24063 ; 444  |//! \brief
                            24064 ; 445  |//!
                            24065 ; 446  |//! \fntype Function
                            24066 ; 447  |//!
                            24067 ; 448  |//! \param[in]
                            24068 ; 449  |//!
                            24069 ; 450  |//! \return
                            24070 ; 451  |//!
                            24071 ; 452  |///////////////////////////////////////////////////////////////////////
                            24072 ; 453  |#ifdef _FOLDER_BROWSE_
                            24073 ; 454  |_reentrant void ML_AddDirEntryToLibrary(uint24 u24MediaType, ML_DIRINFO_T *ptDirInfo, int1
                                  6 i16Option);
                            24074 ; 455  |#endif  // _FOLDER_BROWSE_
                            24075 ; 456  |
                            24076 ; 457  |///////////////////////////////////////////////////////////////////////
                            24077 ; 458  |//! \brief
                            24078 ; 459  |//!
                            24079 ; 460  |//! \fntype Function
                            24080 ; 461  |//!
                            24081 ; 462  |//! Called by UI, flush sorted and associate list to flash when no
                            24082 ; 463  |//! more song needed to be added for that media. This function finalizes the building of
                            24083 ; 464  |//! music library for that particular media.
                            24084 ; 465  |//!
                            24085 ; 466  |//! \param[in]  uint24 Media_type - Possible values: MEDIA_TYPE_FLASH(=0); MEDIA_TYPE_SD(=
                                  1)
                            24086 ; 467  |//!
                            24087 ; 468  |//! \return
                            24088 ; 469  |//!
                            24089 ; 470  |//! \note   Bulid the library first (call ML_AddEntryToLibrary) before calling this
                            24090 ; 471  |//!         function.
                            24091 ; 472  |///////////////////////////////////////////////////////////////////////
                            24092 ; 473  |_reentrant INT ML_FlushLibraryToFlash(INT Media_type, INT b, INT *c);
                            24093 ; 474  |
                            24094 ; 475  |///////////////////////////////////////////////////////////////////////
                            24095 ; 476  |//! \brief
                            24096 ; 477  |//!
                            24097 ; 478  |//! \fntype Function
                            24098 ; 479  |//!
                            24099 ; 480  |//! \param[in]
                            24100 ; 481  |//!
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 399

M:ADDR CODE           CYCLES LINE SOURCELINE
                            24101 ; 482  |//! \return
                            24102 ; 483  |//!
                            24103 ; 484  |///////////////////////////////////////////////////////////////////////
                            24104 ; 485  |#ifdef _NEWMUSIC_
                            24105 ; 486  |void ML_UpdateNewMusic(void);
                            24106 ; 487  |#endif
                            24107 ; 488  |
                            24108 ; 489  |///////////////////////////////////////////////////////////////////////
                            24109 ; 490  |//! \brief
                            24110 ; 491  |//!
                            24111 ; 492  |//! \fntype Function
                            24112 ; 493  |//!
                            24113 ; 494  |//! Called by UI, to initialize the file access mechanism for all music
                            24114 ; 495  |//! library operation if the music.lib file and the music.sec file exist (call
                            24115 ; 496  |//! ML_BuildSecTableFile() if these files do not exist).
                            24116 ; 497  |//!
                            24117 ; 498  |//! \param[in]  none
                            24118 ; 499  |//!
                            24119 ; 500  |//! \return
                            24120 ; 501  |//!
                            24121 ; 502  |//! \note   Either ML_Buildl2SecTable(void) or ML_BuildSecTableFile(void)
                            24122 ; 503  |//!         must be called before calling any other music library functions.
                            24123 ; 504  |///////////////////////////////////////////////////////////////////////
                            24124 ; 505  |_reentrant INT ML_Buildl2SecTable(INT a, INT b, INT *c);
                            24125 ; 506  |
                            24126 ; 507  |///////////////////////////////////////////////////////////////////////
                            24127 ; 508  |//! \brief
                            24128 ; 509  |//!
                            24129 ; 510  |//! \fntype Function
                            24130 ; 511  |//!
                            24131 ; 512  |//! Called by UI, to initialize the file access mechanism for all music
                            24132 ; 513  |//! library operation.
                            24133 ; 514  |//! Two system files (music.lib and music.sec) is created.
                            24134 ; 515  |//! Call this only if intended to generate / refresh these files, or if the music.lib file
                                   and the
                            24135 ; 516  |//! music.sec file do not exist.
                            24136 ; 517  |//!
                            24137 ; 518  |//! \param[in]  none
                            24138 ; 519  |//!
                            24139 ; 520  |//! \return
                            24140 ; 521  |//!
                            24141 ; 522  |//! \note   Either ML_Buildl2SecTable(void) or ML_BuildSecTableFile(void)
                            24142 ; 523  |//!         must be called before calling any other music library functions.
                            24143 ; 524  |///////////////////////////////////////////////////////////////////////
                            24144 ; 525  |_reentrant INT ML_BuildSecTableFile(INT a, INT b, INT *c);
                            24145 ; 526  |
                            24146 ; 527  |///////////////////////////////////////////////////////////////////////
                            24147 ; 528  |//! \brief
                            24148 ; 529  |//!
                            24149 ; 530  |//! \fntype Function
                            24150 ; 531  |//!
                            24151 ; 532  |//! Preload the list, prepare for renew.
                            24152 ; 533  |//! IsColdBoot=TRUE: loads the list content and the path name to the on_the_fly_list
                            24153 ; 534  |//! structure in RAM.
                            24154 ; 535  |//! IsColdBoot=FALSE: updates the path name only, to the on_the_fly_list structure
                            24155 ; 536  |//! in RAM.
                            24156 ; 537  |//!
                            24157 ; 538  |//! \param[in]  uint24 IsColdBoot - Possible values: TRUE or FALSE
                            24158 ; 539  |//!
                            24159 ; 540  |//! \return
                            24160 ; 541  |//!
                            24161 ; 542  |//! \note   Use IsColdBoot=TRUE only once when the machine boot-up, other
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 400

M:ADDR CODE           CYCLES LINE SOURCELINE
                            24162 ; 543  |//!         time when you need to renew the list, use IsColdBoot=FALSE instead.
                            24163 ; 544  |///////////////////////////////////////////////////////////////////////
                            24164 ; 545  |void ML_LoadOnTheGo(uint24 IsColdBoot);
                            24165 ; 546  |
                            24166 ; 547  |///////////////////////////////////////////////////////////////////////
                            24167 ; 548  |//! \brief
                            24168 ; 549  |//!
                            24169 ; 550  |//! \fntype Function
                            24170 ; 551  |//!
                            24171 ; 552  |//! Save the list to flash memory.
                            24172 ; 553  |//!
                            24173 ; 554  |//! \param[in]
                            24174 ; 555  |//!
                            24175 ; 556  |//! \return
                            24176 ; 557  |//!
                            24177 ; 558  |//! \note   It is recommended to save the list as soon as possible after it was
                            24178 ; 559  |//!         changed by the user.
                            24179 ; 560  |///////////////////////////////////////////////////////////////////////
                            24180 ; 561  |void ML_SaveOnTheGo(void);      /* call at shutdownmenu.c to save the list */
                            24181 ; 562  |
                            24182 ; 563  |///////////////////////////////////////////////////////////////////////
                            24183 ; 564  |//! \brief
                            24184 ; 565  |//!
                            24185 ; 566  |//! \fntype Function
                            24186 ; 567  |//! When the Music Lib is rebuilding, the path of each song is
                            24187 ; 568  |//! compared with the path stored in the on_the_fly_list structure, to decide if it was in
                                   the
                            24188 ; 569  |//! list before, if so the ID is replaced by the new songID, and the song is keep in the l
                                  ist.
                            24189 ; 570  |//! Otherwise the song is deleted.
                            24190 ; 571  |//!
                            24191 ; 572  |//! \param[in]  uint24 Media_type - Possible values: MEDIA_TYPE_FLASH(=0); MEDIA_TYPE_SD(=
                                  1)
                            24192 ; 573  |//! \param[in]  uint24 _X * temp_path - Input value, the path of song to be checked.
                            24193 ; 574  |//! \param[in]  uint24 newID - Input value, the new songID of the song.
                            24194 ; 575  |//!
                            24195 ; 576  |//! \return
                            24196 ; 577  |//!
                            24197 ; 578  |///////////////////////////////////////////////////////////////////////
                            24198 ; 579  |void ML_ChkOnTheGo(uint24 Media_type, uint24 _X * temp_path, uint24 newID);
                            24199 ; 580  |
                            24200 ; 581  |///////////////////////////////////////////////////////////////////////
                            24201 ; 582  |//! \brief
                            24202 ; 583  |//!
                            24203 ; 584  |//! \fntype Function
                            24204 ; 585  |//!
                            24205 ; 586  |//! Set a flag for all the songs of Media_type to be keep or delete
                            24206 ; 587  |//! in the ML_UpdateOnTheGo().
                            24207 ; 588  |//!
                            24208 ; 589  |//! \param[in]  uint24 Media_type - Possible values: MEDIA_TYPE_FLASH(=0); MEDIA_TYPE_SD(=
                                  1)
                            24209 ; 590  |//! \param[in]  uint24 value - Possible values: TRUE (song will be keep in the list); INDE
                                  X_EOF (song will be deleted)
                            24210 ; 591  |//!
                            24211 ; 592  |//! \return
                            24212 ; 593  |//!
                            24213 ; 594  |///////////////////////////////////////////////////////////////////////
                            24214 ; 595  |void ML_ChOnTheGo(uint24 Media_type, uint24 value);
                            24215 ; 596  |
                            24216 ; 597  |///////////////////////////////////////////////////////////////////////
                            24217 ; 598  |//! \brief
                            24218 ; 599  |//!
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 401

M:ADDR CODE           CYCLES LINE SOURCELINE
                            24219 ; 600  |//! \fntype Function
                            24220 ; 601  |//!
                            24221 ; 602  |//! Before the list can be browse, call this function to finalize the list.
                            24222 ; 603  |//!
                            24223 ; 604  |//! \param[in]  none
                            24224 ; 605  |//!
                            24225 ; 606  |//! \return
                            24226 ; 607  |//!
                            24227 ; 608  |///////////////////////////////////////////////////////////////////////
                            24228 ; 609  |void ML_UpdateOnTheGo(void);
                            24229 ; 610  |
                            24230 ; 611  |///////////////////////////////////////////////////////////////////////
                            24231 ; 612  |//! \brief
                            24232 ; 613  |//!
                            24233 ; 614  |//! \fntype Function
                            24234 ; 615  |//!
                            24235 ; 616  |//! Called by UI, to initialize the parameters before insert any item.
                            24236 ; 617  |//! Call only once before inserting items. Call once for each media.
                            24237 ; 618  |//!
                            24238 ; 619  |//! \param[in]  none
                            24239 ; 620  |//!
                            24240 ; 621  |//! \return
                            24241 ; 622  |//!
                            24242 ; 623  |///////////////////////////////////////////////////////////////////////
                            24243 ; 624  |void ML_InitVoiceParameter(void);
                            24244 ; 625  |
                            24245 ; 626  |///////////////////////////////////////////////////////////////////////
                            24246 ; 627  |//! \brief
                            24247 ; 628  |//!
                            24248 ; 629  |//! \fntype Function
                            24249 ; 630  |//!
                            24250 ; 631  |//! \param[in]
                            24251 ; 632  |//!
                            24252 ; 633  |//! \return
                            24253 ; 634  |//!
                            24254 ; 635  |///////////////////////////////////////////////////////////////////////
                            24255 ; 636  |void ML_LoadVoiceParameter(uint24 Rec_type);
                            24256 ; 637  |
                            24257 ; 638  |///////////////////////////////////////////////////////////////////////
                            24258 ; 639  |//! \brief
                            24259 ; 640  |//!
                            24260 ; 641  |//! \fntype Function
                            24261 ; 642  |//!
                            24262 ; 643  |//! Called by UI, the ML_AddEntryToVoice is the voice library
                            24263 ; 644  |//! building algorithms for the flash-type memory by sorting the voice files by file names
                                  .
                            24264 ; 645  |//! Called once for each voice file, the information is recorded in music library.
                            24265 ; 646  |//!
                            24266 ; 647  |//! \param[in]  uint24 Rec_type - Possible values: REC_VOICE_TYPE(=0); REC_FMREC_TYPE(=1)
                            24267 ; 648  |//! \param[in]  RAM_SONG_INFO_T *song_info - struct to store the song information passed f
                                  rom UI, this struct will be placed in ghdr\musiclib_ghdr.h and included in UI files
                            24268 ; 649  |//! \param[in]  uint24 action - option = 0 // always set zero
                            24269 ; 650  |//!
                            24270 ; 651  |//! \return
                            24271 ; 652  |//!
                            24272 ; 653  |///////////////////////////////////////////////////////////////////////
                            24273 ; 654  |void ML_AddEntryToVoice(uint24 Rec_type, RAM_SONG_INFO_T *song_info, uint24 action);
                            24274 ; 655  |
                            24275 ; 656  |///////////////////////////////////////////////////////////////////////
                            24276 ; 657  |//! \brief
                            24277 ; 658  |//!
                            24278 ; 659  |//! \fntype Function
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 402

M:ADDR CODE           CYCLES LINE SOURCELINE
                            24279 ; 660  |//!
                            24280 ; 661  |//! Called by UI, flush sorted and associate list to flash when no
                            24281 ; 662  |//! more voice needed to be added for that media. This function finalizes the voice buildi
                                  ng
                            24282 ; 663  |//! of music library for that particular media.
                            24283 ; 664  |//!
                            24284 ; 665  |//! \param[in]  uint24 Rec_type - Possible values: REC_VOICE_TYPE(=0); REC_FMREC_TYPE(=1)
                            24285 ; 666  |//!
                            24286 ; 667  |//! \return
                            24287 ; 668  |//!
                            24288 ; 669  |//! \note   Bulid the library first (call ML_AddEntryToVoice) before calling this
                            24289 ; 670  |//!         function.
                            24290 ; 671  |///////////////////////////////////////////////////////////////////////
                            24291 ; 672  |void ML_FlushVoiceToFlash(uint24 Rec_type);
                            24292 ; 673  |
                            24293 ; 674  |///////////////////////////////////////////////////////////////////////
                            24294 ; 675  |//! \brief
                            24295 ; 676  |//!
                            24296 ; 677  |//! \fntype Function
                            24297 ; 678  |//!
                            24298 ; 679  |//! Called by UI, the merge the music library tables album,
                            24299 ; 680  |//! artist, genre, song and year.
                            24300 ; 681  |//!
                            24301 ; 682  |//! \param[in]  none
                            24302 ; 683  |//!
                            24303 ; 684  |//! \return
                            24304 ; 685  |//!
                            24305 ; 686  |///////////////////////////////////////////////////////////////////////
                            24306 ; 687  |void ML_MergeLibraryTables(void);
                            24307 ; 688  |
                            24308 ; 689  |///////////////////////////////////////////////////////////////////////
                            24309 ; 690  |//! \brief
                            24310 ; 691  |//!
                            24311 ; 692  |//! \fntype Function
                            24312 ; 693  |//!
                            24313 ; 694  |//! Called by UI, the merge the music library tables album,
                            24314 ; 695  |//! artist, genre, song and year.
                            24315 ; 696  |//!
                            24316 ; 697  |//! \param[in]  none
                            24317 ; 698  |//!
                            24318 ; 699  |//! \return
                            24319 ; 700  |//!
                            24320 ; 701  |///////////////////////////////////////////////////////////////////////
                            24321 ; 702  |INT _reentrant PathFormationPartial(_packed BYTE* dst, _packed BYTE* src, int iDepth);
                            24322 ; 703  |INT _reentrant PathFormation(_packed BYTE* dst, _packed BYTE* src, int iDepth);
                            24323 ; 704  |_reentrant void TrimUnicodeString(UCS3* pString);
                            24324 ; 705  |_reentrant void TrimPackedString(UCS3* pString);
                            24325 ; 706  |
                            24326 ; 707  |///////////////////////////////////////////////////////////////////////
                            24327 ; 708  |//! \brief
                            24328 ; 709  |//!
                            24329 ; 710  |//! \fntype Function
                            24330 ; 711  |//!
                            24331 ; 712  |//! \param[in]
                            24332 ; 713  |//!
                            24333 ; 714  |//! \return
                            24334 ; 715  |//!
                            24335 ; 716  |///////////////////////////////////////////////////////////////////////
                            24336 ; 717  |_reentrant void ML_FlushSortedListToFlash(uint24 u24MediaType);
                            24337 ; 718  |
                            24338 ; 719  |/*========================================================================================
                                  ========*/
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 403

M:ADDR CODE           CYCLES LINE SOURCELINE
                            24339 ; 720  |
                            24340 ; 721  |// Siukoon 2005-02-28
                            24341 ; 722  |#define MUSICLIB_STDRIVE_NUMBER     (0)
                            24342 ; 723  |#ifdef _SUPPORT_2000_SONGS_
                            24343 ; 724  |#define MUSICLIB_FILESIZE_IN_BYTE   (4194304L*2) // (SINGLE_DATABASE_SIZE*BYTE_PER_SECTOR)
                                  *2
                            24344 ; 725  |#else
                            24345 ; 726  |#define MUSICLIB_FILESIZE_IN_BYTE   (2097152L*2) // (SINGLE_DATABASE_SIZE*BYTE_PER_SECTOR)
                                  *2
                            24346 ; 727  |#endif  // _SUPPORT_2000_SONGS_
                            24347 ; 728  |#define MUSICLIB_FLASHPART_FILESIZE_IN_BYTE   (MUSICLIB_FILESIZE_IN_BYTE/2)
                            24348 ; 729  |#define WORD_PER_SECTOR             (171)
                            24349 ; 730  |#define BYTE_PER_SECTOR             (512)
                            24350 ; 731  |#define MUSICLIB_FILESIZE_IN_SECTOR (MUSICLIB_FILESIZE_IN_BYTE/BYTE_PER_SECTOR)
                            24351 ; 732  |#define MUSICLIB_FLASHPART_FILESIZE_IN_SECTOR (MUSICLIB_FLASHPART_FILESIZE_IN_BYTE/BYTE_PE
                                  R_SECTOR)
                            24352 ; 733  |
                            24353 ; 734  |#define LB_BYTE_PER_SECTOR          (2048)
                            24354 ; 735  |#define LB_MUSICLIB_FILESIZE_IN_SECTOR (MUSICLIB_FILESIZE_IN_BYTE/LB_BYTE_PER_SECTOR)
                            24355 ; 736  |#define LB_MUSICLIB_FLASHPART_FILESIZE_IN_SECTOR (MUSICLIB_FLASHPART_FILESIZE_IN_BYTE/LB_B
                                  YTE_PER_SECTOR)
                            24356 ; 737  |
                            24357 ; 738  |#define MUSICLIB_FAT_ERROR_NOT_ENOUGH_MEDIA_SPACE       1
                            24358 ; 739  |#define MUSICLIB_FAT_ERROR_CREATE_FILE                  2
                            24359 ; 740  |#define MUSICLIB_FAT_ERROR_DELETE_FILE                  3
                            24360 ; 741  |#define MUSICLIB_FAT_ERROR_OPEN_FILE                    4
                            24361 ; 742  |
                            24362 ; 743  |/////////////////////
                            24363 ; 744  |
                            24364 ; 745  |#define LONG_SIZE_IN_BYTE                               (6)
                            24365 ; 746  |
                            24366 ; 747  |#ifdef _SUPPORT_2000_SONGS_
                            24367 ; 748  |#define SEC_TABLE_SIZE_IN_LONG                  (16384) // DATABASE_SIZE
                            24368 ; 749  |#else
                            24369 ; 750  |#define SEC_TABLE_SIZE_IN_LONG                  (8192)  // DATABASE_SIZE
                            24370 ; 751  |#endif // _SUPPORT_2000_SONGS_
                            24371 ; 752  |#define SEC_TABLE_SIZE_IN_BYTE                  (SEC_TABLE_SIZE_IN_LONG*LONG_SIZE_IN_BYTE)
                                  
                            24372 ; 753  |
                            24373 ; 754  |#define SEC_TABLE_FLASHPART_SIZE_IN_LONG        (SEC_TABLE_SIZE_IN_LONG/2)
                            24374 ; 755  |#define SEC_TABLE_FLASHPART_SIZE_IN_BYTE        (SEC_TABLE_SIZE_IN_BYTE/2)
                            24375 ; 756  |
                            24376 ; 757  |#define NUM_OF_LONG_PER_512SEC          (85)    // 512/6=>85
                            24377 ; 758  |#ifdef _SUPPORT_2000_SONGS_
                            24378 ; 759  |#define NUM_OF_LEVEL2_SEC                               (194)   /* 97x2 */
                            24379 ; 760  |#define NUM_OF_LEVEL2_FLASHPART_SEC             (97)    /* 8192/85 */
                            24380 ; 761  |#else
                            24381 ; 762  |#define NUM_OF_LEVEL2_SEC                               (98)    /* 49x2 */
                            24382 ; 763  |#define NUM_OF_LEVEL2_FLASHPART_SEC             (49)    /* 4096/85 */
                            24383 ; 764  |#endif // _SUPPORT_2000_SONGS_
                            24384 ; 765  |#define LEVEL2_TABLE_SIZE                               (NUM_OF_LEVEL2_SEC*2)
                            24385 ; 766  |#define SEC_TABLE_FLASH_START_SEC               (0x00)
                            24386 ; 767  |#define SEC_TABLE_SD_START_SEC                  (NUM_OF_LEVEL2_FLASHPART_SEC)
                            24387 ; 768  |
                            24388 ; 769  |#define SEC_TABLE_FILESIZE_IN_BYTE              (BYTE_PER_SECTOR*NUM_OF_LEVEL2_SEC)
                            24389 ; 770  |#ifdef _SUPPORT_2000_SONGS_
                            24390 ; 771  |#define BYTE_FILL_INTERDB_GAP                   (320)   // 512-((8192-(85*96))*6)
                            24391 ; 772  |#else
                            24392 ; 773  |#define BYTE_FILL_INTERDB_GAP                   (((NUM_OF_LEVEL2_FLASHPART_SEC*NUM_OF_LONG
                                  _PER_512SEC)-SEC_TABLE_FLASHPART_SIZE_IN_LONG)*LONG_SIZE_IN_BYTE+2)
                            24393 ; 774  |#endif  // _SUPPORT_2000_SONGS_
                            24394 ; 775  |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 404

M:ADDR CODE           CYCLES LINE SOURCELINE
                            24395 ; 776  |#define LB_SEC_TABLE_SIZE_IN_LONG                       (LB_MUSICLIB_FILESIZE_IN_SECTOR)
                            24396 ; 777  |#define LB_SEC_TABLE_SIZE_IN_BYTE                       (LB_SEC_TABLE_SIZE_IN_LONG*LONG_SI
                                  ZE_IN_BYTE)
                            24397 ; 778  |
                            24398 ; 779  |#define LB_SEC_TABLE_FLASHPART_SIZE_IN_LONG     (LB_SEC_TABLE_SIZE_IN_LONG/2)
                            24399 ; 780  |#define LB_SEC_TABLE_FLASHPART_SIZE_IN_BYTE     (LB_SEC_TABLE_SIZE_IN_BYTE/2)
                            24400 ; 781  |
                            24401 ; 782  |#define NUM_OF_LONG_PER_2048SEC                     (341)   // 2048/6=>341
                            24402 ; 783  |#ifdef _SUPPORT_2000_SONGS_
                            24403 ; 784  |#define NUM_OF_LEVEL2_2048SEC                           (49)    // 16384/341=>49
                            24404 ; 785  |#define NUM_OF_LEVEL2_FLASHPART_2048SEC         (25)    /* 8192/341=>25 */
                            24405 ; 786  |#else
                            24406 ; 787  |#define NUM_OF_LEVEL2_2048SEC                           (25)    // 8192/341=>25
                            24407 ; 788  |#define NUM_OF_LEVEL2_FLASHPART_2048SEC         (13)    /* 4096/341=>13 */
                            24408 ; 789  |#endif // _SUPPORT_2000_SONGS_
                            24409 ; 790  |
                            24410 ; 791  |#ifdef _SUPPORT_2000_SONGS_
                            24411 ; 792  |#define BYTE_FILL_INTERDB_GAP_2048                      (2000)  // 2048-((8192-(341*24))*6
                                  )
                            24412 ; 793  |#define BYTE_FILL_INTERDB_2ND_GAP_2048      (2532)  // 99328-96796
                            24413 ; 794  |#else
                            24414 ; 795  |#define BYTE_FILL_INTERDB_GAP_2048                      (((341-4)*6)+2) //2024
                            24415 ; 796  |#define BYTE_FILL_INTERDB_2ND_GAP_2048      (2556)  // 50176-47620
                            24416 ; 797  |#endif // _SUPPORT_2000_SONGS_
                            24417 ; 798  |
                            24418 ; 799  |#ifdef __cplusplus
                            24419 ; 800  |}
                            24420 ; 801  |#endif
                            24421 ; 802  |
                            24422 ; 803  |#endif  /* MUSICLIB_GHDR_H */
                            24423 
                            24425 
                            24426 ; 6    |#include "fsapi.h"
                            24427 
                            24429 
                            24430 ; 1    |#ifndef _FSAPI_H_
                            24431 ; 2    |#define _FSAPI_H_
                            24432 ; 3    |#include "filespec.h"
                            24433 ; 4    |extern _reentrant LONG Ftell(INT HandleNumber);
                            24434 ; 5    |extern _reentrant LONG Feof(INT HandleNumber);
                            24435 ; 6    |extern _reentrant INT *Fputs(INT HandleNumber,INT *Buffer);
                            24436 ; 7    |extern _reentrant LONG Fread(INT HandleNumber,INT *Buffer,LONG NumBytesToRead,INT Source_M
                                  emory,INT MOdulo);
                            24437 ; 8    |extern _reentrant INT Fgetc(INT HandleNumber);
                            24438 ; 9    |extern _reentrant INT Fputc(INT HandleNumber,INT ByteToWrite);
                            24439 ; 10   |extern _reentrant LONG ReadDirectoryRecord(INT HandleNumber,INT RecordNumber,INT *Buffer);
                                  
                            24440 ; 11   |extern _reentrant INT Fseek(INT HandleNumber,LONG NumBytesToSeek,INT SeekPosition);
                            24441 ; 12   |extern _reentrant INT Fopen(_packed char *filepath,_packed char *mode);
                            24442 ; 13   |extern _reentrant LONG Fwrite(INT HandleNumber,INT  *Buffer,LONG NumBytesToWrite,INT Sourc
                                  e_Memory,INT MOdulo);
                            24443 ; 14   |extern _reentrant LONG Totalfreecluster(INT DeviceNum);
                            24444 ; 15   |extern _reentrant INT Rmdir(_packed char *filepath);
                            24445 ; 16   |extern _reentrant INT Rmdirw(_packed char *filepath);
                            24446 ; 17   |extern _reentrant INT Mkdir(_packed char *filepath);
                            24447 ; 18   |
                            24448 ; 19   |        //      SGTL-HK 27-05-2005
                            24449 ; 20   |extern _reentrant INT Mkdirw(UCS3 *filepath);
                            24450 ; 21   |
                            24451 ; 22   |extern _reentrant INT Chdir(_packed char *filepath);
                            24452 ; 23   |extern _reentrant INT FastOpen(LONG Key,_packed char *mode);
                            24453 ; 24   |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 405

M:ADDR CODE           CYCLES LINE SOURCELINE
                            24454 ; 25   |extern _reentrant INT Setcwd(_packed char *filepath, _packed char *gCworkingDir,INT index,
                                  INT length);
                            24455 ; 26   |extern _reentrant _packed char *Getcwd(void);
                            24456 ; 27   |extern  _reentrant _packed char *Fgets(INT HandleNumber,INT NumBytesToRead, _packed char *
                                  Buffer);
                            24457 ; 28   |extern INT  FSInit(INT _X *bufx, INT _Y *bufy, INT maxdevices, INT maxhandles, INT maxcach
                                  es);
                            24458 ; 29   |extern INT  FlushCache(void);
                            24459 ; 30   |extern _reentrant INT FsShutDown(void);
                            24460 ; 31   |extern _reentrant LONG GetFileSize(INT HandleNumber);
                            24461 ; 32   |
                            24462 ; 33   |extern _reentrant INT filegetattrib(_packed char *FilePath);
                            24463 ; 34   |extern _reentrant INT Fopenw(INT *filepath,_packed char *mode);
                            24464 ; 35   |extern _reentrant INT Fremove(_packed char *filepath);
                            24465 ; 36   |extern _reentrant INT Fremovew(_packed char *filepath);
                            24466 ; 37   |extern _reentrant void DBCSToUnicode(_packed unsigned char *pDBCS, WORD *pUnicode,INT iLen
                                  gth);
                            24467 ; 38   |extern INT FlushCache(void);
                            24468 ; 39   |extern _reentrant INT DeleteTree(_packed char *Path);
                            24469 ; 40   |extern _reentrant INT Fclose(INT HandleNumber);
                            24470 ; 41   |extern INT FSMediaPresent(INT DeviceNum);
                            24471 ; 42   |extern INT FSFATType (INT DeviceNum);
                            24472 ; 43   |extern  INT _reentrant  GetVolumeLabel(_packed char *Buffer,INT DeviceNum);
                            24473 ; 44   |extern _reentrant INT SetVolumeLabel(_packed char *Buffer,INT DeviceNum);
                            24474 ; 45   |extern _reentrant LONG FgetFastHandle(INT HandleNumber);
                            24475 ; 46   |
                            24476 ; 47   |extern _reentrant INT ConstructLongFileName(INT HandleNumber, INT RecordNumber, INT *LFNBu
                                  ffer);
                            24477 ; 48   |extern _reentrant void Uppercase(_packed char *file); 
                            24478 ; 49   |extern _reentrant INT FindNext(INT HandleNumber,Finddata *_finddata);
                            24479 ; 50   |extern _reentrant INT FindFirst(Finddata *_finddata,_packed char *FileName);
                            24480 ; 51   |extern _reentrant void ClearData(Finddata *_finddata);
                            24481 ; 52   |extern _reentrant INT GetShortfilename(LONG Key,INT *Buffer);
                            24482 ; 53   |
                            24483 ; 54   |
                            24484 ; 55   |
                            24485 ; 56   |
                            24486 ; 57   |typedef struct
                            24487 ; 58   |{
                            24488 ; 59   |
                            24489 ; 60   |INT             Day;
                            24490 ; 61   |INT             Month;
                            24491 ; 62   |INT             Year;
                            24492 ; 63   |}DIR_DATE;
                            24493 ; 64   |
                            24494 ; 65   |
                            24495 ; 66   |typedef struct
                            24496 ; 67   |{
                            24497 ; 68   |
                            24498 ; 69   |INT             Second;
                            24499 ; 70   |INT             Minute;
                            24500 ; 71   |INT             Hour;
                            24501 ; 72   |}DIR_TIME;
                            24502 ; 73   |
                            24503 ; 74   |
                            24504 ; 75   |typedef struct
                            24505 ; 76   |{
                            24506 ; 77   |LONG CurrentOffset;     
                            24507 ; 78   |LONG CurrentCluster;
                            24508 ; 79   |}HANDLECONTEXT;
                            24509 ; 80   |
                            24510 ; 81   |extern _reentrant INT filesetattrib(INT HandleNumber,INT dirattribute);
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 406

M:ADDR CODE           CYCLES LINE SOURCELINE
                            24511 ; 82   |extern _reentrant INT filesetdate(_packed char *FilePath,INT crt_mod_date_time_para,DIR_DA
                                  TE *dirdate,DIR_TIME *dirtime);
                            24512 ; 83   |extern _reentrant INT filegetdate(INT HandleNumber,INT crt_mod_date_time_para,DIR_DATE *di
                                  rdate,DIR_TIME *dirtime);
                            24513 ; 84   |#endif
                            24514 
                            24516 
                            24517 ; 7    |////////////////////////////////////////////////////////////////////////////////
                            24518 ; 8    |//  Equates
                            24519 ; 9    |////////////////////////////////////////////////////////////////////////////////
                            24520 ; 10   |//Traversal return types
                            24521 ; 11   |#define PLAYLIST_END_TRAVERSAL_SUCCESS  (PLAYLIST_LAST_RETCODE + 1)
                            24522 ; 12   |#define PLAYLIST_END_TRAVERSAL_FAILURE  (PLAYLIST_LAST_RETCODE + 2)
                            24523 ; 13   |#define PLAYLIST_FILE_LOCATE_SUCCESS    (PLAYLIST_LAST_RETCODE + 3)
                            24524 ; 14   |
                            24525 ; 15   |#define PLAYSET_MUSIC 0
                            24526 ; 16   |#define PLAYSET_VOICE 1
                            24527 ; 17   |#define PLAYSET_FOLDER_PLAY 2
                            24528 ; 18   |#define PLAYSET_FAVORITES 3
                            24529 ; 19   |
                            24530 ; 20   |#define PLAYLIST_REPEAT_OFF     0
                            24531 ; 21   |#define PLAYLIST_REPEAT_ALL     1
                            24532 ; 22   |#define PLAYLIST_REPEAT_ONE     2
                            24533 ; 23   |
                            24534 ; 24   |#define SELECT_TRACKS   0
                            24535 ; 25   |#define ORDER_TRACKS    1
                            24536 ; 26   |#define BUILD_FILE_LINKS        2
                            24537 ; 27   |#define RESTORE_BOOKMARK 3
                            24538 ; 28   |        //      SGTL-HK 28-10-2004
                            24539 ; 29   |#define BUILD_DIR_LINKS         4
                            24540 ; 30   |
                            24541 ; 31   |
                            24542 ; 32   |#define ATTR_UNACCEPTABLE  (ATTR_HIDDEN|ATTR_SYSTEM|ATTR_VOLUME_ID)
                            24543 ; 33   |
                            24544 ; 34   |#define DIR_SEPARATOR   0x00002f        // "\"
                            24545 ; 35   |#define ROOT_SEPARATOR  0x002f3A        // ":\" swizzled
                            24546 ; 36   |
                            24547 ; 37   |#define DEPTH_VOICE_DIR 1       //depth of voice directory
                            24548 ; 38   |
                            24549 ; 39   |#define TYPE_DIR 0
                            24550 ; 40   |#define TYPE_FILE 1
                            24551 ; 41   |
                            24552 ; 42   |#define IS_TRASH        0
                            24553 ; 43   |#define IS_VOICE_DIR 1
                            24554 ; 44   |#define IS_VALID_AUDIO 2
                            24555 ; 45   |#define IS_VOICE_FILE  3
                            24556 ; 46   |
                            24557 ; 47   |//List containing audio file extensions
                            24558 ; 48   |#define WMA_FILE_EXT     0x414D57
                            24559 ; 49   |#define MP3_FILE_EXT     0x33504d
                            24560 ; 50   |#define WAV_FILE_EXT     0x564157
                            24561 ; 51   |#define MP4_FILE_EXT     0x34504d
                            24562 ; 52   |#define M4A_FILE_EXT     0x41344d
                            24563 ; 53   |#define ASF_FILE_EXT     0x465341
                            24564 ; 54   |#define AUDIBLE_FILE_EXT         0x004141
                            24565 ; 55   |#define JPG_FILE_EXT     0x47504a
                            24566 ; 56   |#define BMP_FILE_EXT     0x504d42
                            24567 ; 57   |#define SMV_FILE_EXT     0x564d53
                            24568 ; 58   |
                            24569 ; 59   |#define VOICE_PATH_0    0x2f3a61        // a:/ in dyslexical order
                            24570 ; 60   |#define VOICE_PATH_1    0x494f56        // VOI in dyslexical order
                            24571 ; 61   |#define VOICE_PATH_2    0x2f4543        // CE/ in dyslexical order
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 407

M:ADDR CODE           CYCLES LINE SOURCELINE
                            24572 ; 62   |#define VOICE_PATH_3    0x000000        // terminating 0
                            24573 ; 63   |
                            24574 ; 64   |#define FM_PATH_0               0x2f3a61        // a:/ in dyslexical order
                            24575 ; 65   |#define FM_PATH_1               0x2f4d46        // FM/ in dyslexical order
                            24576 ; 66   |#define FM_PATH_2               0x000000        // terminating 0
                            24577 ; 67   |
                            24578 ; 68   |#define LINEIN_PATH_0   0x2f3a61        // a:/ in dyslexical order
                            24579 ; 69   |#define LINEIN_PATH_1   0x4e494c        // LIN in dyslexical order
                            24580 ; 70   |#define LINEIN_PATH_2   0x492d45        // E-I in dyslexical order
                            24581 ; 71   |#define LINEIN_PATH_3   0x002f4e        // N/  in dyslexical order
                            24582 ; 72   |
                            24583 ; 73   |#define NAME_SFN        0
                            24584 ; 74   |#define NAME_LFN        1
                            24585 ; 75   |//Error code for unsupported file Names or Extensions
                            24586 ; 76   |#define META_DATA_FILE_NOT_SUPPORTED        (WORD)(0x101)
                            24587 ; 77   |
                            24588 ; 78   |#define FINDDATA_CACHE_SIZE   20
                            24589 ; 79   |
                            24590 ; 80   |// this number is used to skip mac resource fork files when loading the playlist
                            24591 ; 81   |// the resource SFN start with _ end with the same extension (i.e. mp3)
                            24592 ; 82   |// a SMALL sample of test files shows that the resource file is typically 82 bytes.
                            24593 ; 83   |#define MAC_RESOURCE_NUM_BYTES   512
                            24594 ; 84   |
                            24595 ; 85   |extern int g_iPlaylistRepeat;
                            24596 ; 86   |extern int g_bPlaylistShuffle;
                            24597 ; 87   |extern DWORD dStart, dEnd, dDiff;       //for timing measurements
                            24598 ; 88   |extern _packed BYTE DirPath[MAX_DIRNAME_LENGTH];
                            24599 ; 89   |extern BOOL g_Rebuild;
                            24600 ; 90   |extern RAM_SONG_INFO_T  song_info;
                            24601 ; 91   |extern INT  g_file_time;
                            24602 ; 92   |extern INT  g_unicode;
                            24603 ; 93   |extern DWORD    g_dwFastKey;
                            24604 ; 94   |extern INT  g_iRecordNum;
                            24605 ; 95   |extern DWORD    g_FileKey;
                            24606 ; 96   |extern DIR_DATE g_dirdate;
                            24607 ; 97   |extern DIR_TIME g_dirtime;
                            24608 ; 98   |extern INT  *pHighestNumber;
                            24609 ; 99   |extern INT  g_iHighestVoiceNumber;
                            24610 ; 100  |extern INT  g_iHighestFMNumber;
                            24611 ; 101  |extern INT  g_iHighestLineNumber;
                            24612 ; 102  |
                            24613 ; 103  |INT _reentrant Playlist_GetPlaySet(void);
                            24614 ; 104  |INT _reentrant Playlist_SetPlaySet(INT, INT, INT*);
                            24615 ; 105  |INT _reentrant Playlist_Initialize(INT, INT, INT*);
                            24616 ; 106  |INT _reentrant Playlist_BuildMusicLib(INT iIgnored1, INT iIgnored2, INT* pIgnored);
                            24617 ; 107  |_reentrant RETCODE Playlist_PopulateMusicLib(int iDevice, int iDepth, DWORD dwDirKey,INT R
                                  ecordNumber);
                            24618 ; 108  |_reentrant INT Playlist_SetPlaySet(INT , INT, INT*);
                            24619 ; 109  |void _reentrant Playlist_ResetPlayset(void);
                            24620 ; 110  |BOOL _reentrant Playlist_ValidateEntry(INT iEntryType,INT iReason, INT* pPtr);
                            24621 ; 111  |
                            24622 ; 112  |//////////////////////////////////////////////////////////////////////////////////////////
                                  /////////////////
                            24623 ; 113  |/////playlist3 helper functions
                            24624 ; 114  |//////////////////////////////////////////////////////////////////////////////////////////
                                  ////////////////
                            24625 ; 115  |BOOL _reentrant Playlist_IsValidAudioFile(LONG lFileSize, _packed BYTE* pFileName);
                            24626 ; 116  |_reentrant INT Playlist_GetFileExtention(INT iIgnored1, INT iIgnored2, INT* pPtr);
                            24627 ; 117  |_reentrant BOOL IsTrashDir(_packed BYTE* pszName);
                            24628 ; 118  |_reentrant DWORD Playlist_GenerateFastKey(INT iDevice,LONG DirSector,INT iDirOffset);
                            24629 ; 119  |_reentrant INT ExtractDirSector1(DWORD Key);
                            24630 ; 120  |_reentrant INT ExtractDirSector2(DWORD Key);
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 408

M:ADDR CODE           CYCLES LINE SOURCELINE
                            24631 ; 121  |_reentrant INT ExtractDirOffset(DWORD Key);
                            24632 ; 122  |_reentrant RETCODE Playlist_GetRootString(_packed BYTE* pBuffer, INT iDevice);
                            24633 ; 123  |_reentrant RETCODE Playlist_LocateFileEntryFromName(INT iUnused1, INT iUnused2, INT* pPtr)
                                  ;
                            24634 ; 124  |_reentrant INT Playlist_LocateDirEntryFromName(INT iUnused1, INT iUnused2, INT* pPtr);
                            24635 ; 125  |_reentrant BOOL IsVoiceDir(DirEntry _X* pDirEntry);
                            24636 ; 126  |_reentrant RETCODE Playlist_GetSFN(INT iEntryType , INT pEntry, INT* pName);
                            24637 ; 127  |_reentrant RETCODE Playlist_GetLFN(INT iEntryType , INT pEntry, INT* pName);
                            24638 ; 128  |INT _reentrant PathFormation(_packed BYTE* dst, _packed BYTE* src, int iDepth);
                            24639 ; 129  |
                            24640 ; 130  |DWORD GetDclkCount(void);
                            24641 ; 131  |
                            24642 ; 132  |_reentrant INT CopyFindFirst(int mDirEntry, int mfinddata, int *mFileSpec);
                            24643 ; 133  |_reentrant INT CopyFindNext(INT HandleNumber,int mfinddata, int* ptr);
                            24644 ; 134  |
                            24645 ; 135  |_reentrant void BuildVoiceFilePath(void);
                            24646 ; 136  |_reentrant void BuildFMFilePath(void);
                            24647 ; 137  |_reentrant void BuildLINEINFilePath(void);
                            24648 ; 138  |_reentrant void GetVoiceFastKey(WORD wFastKeyBitField);
                            24649 ; 139  |_reentrant INT AddSongToLibrary(int a, int drive, void* b);
                            24650 ; 140  |#endif
                            24651 
                            24653 
                            24654 ; 31   |#include "playerlib.h"
                            24655 
                            24657 
                            24658 ; 1    |#ifndef _PLAYERLIB_H
                            24659 ; 2    |#define _PLAYERLIB_H
                            24660 ; 3    |
                            24661 ; 4    |#include "types.h"
                            24662 
                            24664 
                            24665 ; 1    |////////////////////////////////////////////////////////////////////////////////
                            24666 ; 2    |// Copyright(C) SigmaTel, Inc. 2000-2004
                            24667 ; 3    |//
                            24668 ; 4    |// Filename: types.h
                            24669 ; 5    |// Description: Standard data types
                            24670 ; 6    |////////////////////////////////////////////////////////////////////////////////
                            24671 ; 7    |
                            24672 ; 8    |#ifndef _TYPES_H
                            24673 ; 9    |#define _TYPES_H
                            24674 ; 10   |
                            24675 ; 11   |// TODO:  move this outta here!
                            24676 ; 12   |#if !defined(NOERROR)
                            24677 ; 13   |#define NOERROR 0
                            24678 ; 14   |#define SUCCESS 0
                            24679 ; 15   |#endif 
                            24680 ; 16   |#if !defined(SUCCESS)
                            24681 ; 17   |#define SUCCESS  0
                            24682 ; 18   |#endif
                            24683 ; 19   |#if !defined(ERROR)
                            24684 ; 20   |#define ERROR   -1
                            24685 ; 21   |#endif
                            24686 ; 22   |#if !defined(FALSE)
                            24687 ; 23   |#define FALSE 0
                            24688 ; 24   |#endif
                            24689 ; 25   |#if !defined(TRUE)
                            24690 ; 26   |#define TRUE  1
                            24691 ; 27   |#endif
                            24692 ; 28   |
                            24693 ; 29   |#if !defined(NULL)
                            24694 ; 30   |#define NULL 0
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 409

M:ADDR CODE           CYCLES LINE SOURCELINE
                            24695 ; 31   |#endif
                            24696 ; 32   |
                            24697 ; 33   |#define MAX_INT     0x7FFFFF
                            24698 ; 34   |#define MAX_LONG    0x7FFFFFffffff
                            24699 ; 35   |        // max positive unsigned long value: -1 == 0xFFFFFFffffff
                            24700 ; 36   |#define MAX_ULONG   (-1) 
                            24701 ; 37   |
                            24702 ; 38   |#define WORD_SIZE   24              // word size in bits
                            24703 ; 39   |#define BYTES_PER_WORD 3            // 8 bit bytes
                            24704 ; 40   |
                            24705 ; 41   |
                            24706 ; 42   |#define BYTE    unsigned char       // btVarName
                            24707 ; 43   |#define CHAR    signed char         // cVarName
                            24708 ; 44   |#define USHORT  unsigned short      // usVarName
                            24709 ; 45   |#define SHORT   unsigned short      // sVarName
                            24710 ; 46   |#define WORD    unsigned int        // wVarName
                            24711 ; 47   |#define INT     signed int          // iVarName
                            24712 ; 48   |#define DWORD   unsigned long       // dwVarName
                            24713 ; 49   |#define LONG    signed long         // lVarName
                            24714 ; 50   |#define BOOL    unsigned int        // bVarName
                            24715 ; 51   |#define FRACT   _fract              // frVarName
                            24716 ; 52   |#define LFRACT  long _fract         // lfrVarName
                            24717 ; 53   |#define CIRC    _circ               // cp<type prefix>VarName (see below)
                            24718 ; 54   |#define FLOAT   float               // fVarName
                            24719 ; 55   |#define DBL     double              // dVarName
                            24720 ; 56   |#define ENUM    enum                // eVarName
                            24721 ; 57   |#define CMX     _complex            // cmxVarName
                            24722 ; 58   |typedef WORD UCS3;                   // 
                            24723 ; 59   |
                            24724 ; 60   |#define UINT16  unsigned short
                            24725 ; 61   |#define UINT8   unsigned char   
                            24726 ; 62   |#define UINT32  unsigned long
                            24727 ; 63   |#define UINT64  unsigned long   // need to figure out how to do 64 bit values.  Or port ex
                                  isiting code to only use 48 bit
                            24728 ; 64   |#define INT64   unsigned long   // need to figure out how to do 64 bit values.  Or port ex
                                  isiting code to only use 48 bit
                            24729 ; 65   |#define WCHAR   UINT16
                            24730 ; 66   |
                            24731 ; 67   |//UINT128 is 16 bytes or 6 words
                            24732 ; 68   |typedef struct UINT128_3500 {   
                            24733 ; 69   |    int val[6];     
                            24734 ; 70   |} UINT128_3500;
                            24735 ; 71   |
                            24736 ; 72   |#define UINT128   UINT128_3500
                            24737 ; 73   |
                            24738 ; 74   |// Little endian word packed byte strings:   
                            24739 ; 75   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                            24740 ; 76   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                            24741 ; 77   |// Little endian word packed byte strings:   
                            24742 ; 78   |//      _packed BYTE bTextVarName[]="a string";  bText is a packed byte string prefix
                            24743 ; 79   |// Convert to big endian words by reordering bytes from high to low using swizzle.
                            24744 ; 80   |
                            24745 ; 81   |// Declare Memory Spaces To Use When Coding
                            24746 ; 82   |// A. Sector Buffers
                            24747 ; 83   |#define SECTOR_BUFFER_MEM_X _X
                            24748 ; 84   |#define SECTOR_BUFFER_MEM_Y _Y
                            24749 ; 85   |#define SECTOR_BUFFER_MEM SECTOR_BUFFER_MEM_X
                            24750 ; 86   |typedef WORD SECTOR_BUFFER_MEM SECTOR_BUFFER;
                            24751 ; 87   |typedef SECTOR_BUFFER * P_SECTOR_BUFFER;
                            24752 ; 88   |// B. Media DDI Memory
                            24753 ; 89   |#define MEDIA_DDI_MEM _Y
                            24754 ; 90   |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 410

M:ADDR CODE           CYCLES LINE SOURCELINE
                            24755 ; 91   |
                            24756 ; 92   |
                            24757 ; 93   |// Pointers to linear structures are labeled as: p<type prefix>VarName
                            24758 ; 94   |// Examples of circular pointers:
                            24759 ; 95   |//    INT CIRC cpiVarName
                            24760 ; 96   |//    DWORD CIRC cpdwVarName
                            24761 ; 97   |
                            24762 ; 98   |#define RETCODE INT                 // rcVarName
                            24763 ; 99   |
                            24764 ; 100  |// generic bitfield structure
                            24765 ; 101  |struct Bitfield {
                            24766 ; 102  |    unsigned int B0  :1;
                            24767 ; 103  |    unsigned int B1  :1;
                            24768 ; 104  |    unsigned int B2  :1;
                            24769 ; 105  |    unsigned int B3  :1;
                            24770 ; 106  |    unsigned int B4  :1;
                            24771 ; 107  |    unsigned int B5  :1;
                            24772 ; 108  |    unsigned int B6  :1;
                            24773 ; 109  |    unsigned int B7  :1;
                            24774 ; 110  |    unsigned int B8  :1;
                            24775 ; 111  |    unsigned int B9  :1;
                            24776 ; 112  |    unsigned int B10 :1;
                            24777 ; 113  |    unsigned int B11 :1;
                            24778 ; 114  |    unsigned int B12 :1;
                            24779 ; 115  |    unsigned int B13 :1;
                            24780 ; 116  |    unsigned int B14 :1;
                            24781 ; 117  |    unsigned int B15 :1;
                            24782 ; 118  |    unsigned int B16 :1;
                            24783 ; 119  |    unsigned int B17 :1;
                            24784 ; 120  |    unsigned int B18 :1;
                            24785 ; 121  |    unsigned int B19 :1;
                            24786 ; 122  |    unsigned int B20 :1;
                            24787 ; 123  |    unsigned int B21 :1;
                            24788 ; 124  |    unsigned int B22 :1;
                            24789 ; 125  |    unsigned int B23 :1;
                            24790 ; 126  |};
                            24791 ; 127  |
                            24792 ; 128  |union BitInt {
                            24793 ; 129  |        struct Bitfield B;
                            24794 ; 130  |        int        I;
                            24795 ; 131  |};
                            24796 ; 132  |
                            24797 ; 133  |#define MAX_MSG_LENGTH 10
                            24798 ; 134  |struct CMessage
                            24799 ; 135  |{
                            24800 ; 136  |        unsigned int m_uLength;
                            24801 ; 137  |        unsigned int m_uMsg[MAX_MSG_LENGTH];
                            24802 ; 138  |};
                            24803 ; 139  |
                            24804 ; 140  |typedef struct {
                            24805 ; 141  |    WORD m_wLength;
                            24806 ; 142  |    WORD m_wMessage;
                            24807 ; 143  |    WORD m_wParams[MAX_MSG_LENGTH];
                            24808 ; 144  |} Message;
                            24809 ; 145  |
                            24810 ; 146  |struct MessageQueueDescriptor
                            24811 ; 147  |{
                            24812 ; 148  |        int *m_pBase;
                            24813 ; 149  |        int m_iModulo;
                            24814 ; 150  |        int m_iSize;
                            24815 ; 151  |        int *m_pHead;
                            24816 ; 152  |        int *m_pTail;
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 411

M:ADDR CODE           CYCLES LINE SOURCELINE
                            24817 ; 153  |};
                            24818 ; 154  |
                            24819 ; 155  |struct ModuleEntry
                            24820 ; 156  |{
                            24821 ; 157  |    int m_iSignaledEventMask;
                            24822 ; 158  |    int m_iWaitEventMask;
                            24823 ; 159  |    int m_iResourceOfCode;
                            24824 ; 160  |    struct MessageQueueDescriptor *m_pMessageQueue;
                            24825 ; 161  |    int _asmfunc (*m_pProcessEntryPoint)(union WaitMask Signals,struct MessageQueueDescrip
                                  tor *);
                            24826 ; 162  |    int _asmfunc (*m_pInitFunction)(struct MessageQueueDescriptor *);
                            24827 ; 163  |    int m_uTimeOutHigh;
                            24828 ; 164  |    int m_uTimeOutLow;
                            24829 ; 165  |    int _asmfunc (*m_pBackgroundFunction)(struct MessageQueueDescriptor *);
                            24830 ; 166  |};
                            24831 ; 167  |
                            24832 ; 168  |union WaitMask{
                            24833 ; 169  |    struct B{
                            24834 ; 170  |        unsigned int m_bNone     :1;
                            24835 ; 171  |        unsigned int m_bMessage  :1;
                            24836 ; 172  |        unsigned int m_bTimer    :1;
                            24837 ; 173  |        unsigned int m_bButton   :1;
                            24838 ; 174  |    } B;
                            24839 ; 175  |    int I;
                            24840 ; 176  |} ;
                            24841 ; 177  |
                            24842 ; 178  |
                            24843 ; 179  |struct Button {
                            24844 ; 180  |        WORD wButtonEvent;
                            24845 ; 181  |        WORD wUnused[MAX_MSG_LENGTH];   
                            24846 ; 182  |};
                            24847 ; 183  |
                            24848 ; 184  |struct Message {
                            24849 ; 185  |        WORD wMsgLength;
                            24850 ; 186  |        WORD wMsgCommand;
                            24851 ; 187  |        WORD wMsgParms[MAX_MSG_LENGTH-1];
                            24852 ; 188  |};
                            24853 ; 189  |
                            24854 ; 190  |union EventTypes {
                            24855 ; 191  |        struct CMessage msg;
                            24856 ; 192  |        struct Button Button ;
                            24857 ; 193  |        struct Message Message;
                            24858 ; 194  |};
                            24859 ; 195  |
                            24860 ; 196  |// next 2 used to get updater build to return correct protocol ver in scsi response.
                            24861 ; 197  |#define BUILD_TYPE_UPDATER  0x100
                            24862 ; 198  |#define BUILD_TYPE_HOSTLINK 0x101
                            24863 ; 199  |#define BUILD_TYPE_PLAYER   0x102
                            24864 ; 200  |
                            24865 ; 201  |// Resets part if RETAIL build. DEBUG build executes debug instruction to halt.
                            24866 ; 202  |#define SystemHalt() __asm(" include 'sysmacro.asm' \n error") 
                            24867 ; 203  |#define assert(x)    if(!(x)) __asm(" include 'sysmacro.asm' \n error")
                            24868 ; 204  |
                            24869 ; 205  |#if DEBUG
                            24870 ; 206  |// For DEBUG builds, DebugBuildAssert(condition) halts if condition evaluates to FALSE. 
                            24871 ; 207  |#define DebugBuildAssert(x)    if(!(x)) __asm(" debug ")
                            24872 ; 208  |#else 
                            24873 ; 209  |// For RETAIL builds, DebugBuildAssert(condition) does nothing & execution continues rathe
                                  r than halt or reset. 
                            24874 ; 210  |#define DebugBuildAssert(x)    
                            24875 ; 211  |#endif
                            24876 ; 212  |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 412

M:ADDR CODE           CYCLES LINE SOURCELINE
                            24877 ; 213  |// Do this in your C files to make a reminder that's displayed during the build.
                            24878 ; 214  |//  #pragma asm
                            24879 ; 215  |//  WARN 'Note to builder: reminder to do this after verifying that'
                            24880 ; 216  |//  #pragma endasm
                            24881 ; 217  |
                            24882 ; 218  |
                            24883 ; 219  |#ifdef COLOR_262K
                            24884 ; 220  |#define RGB(r,g,b)    ((0x0000FC & (r)) << 10) | ((0x0000FC & (g)) << 4) | ((0x0000FC & (b
                                  )) >> 2)    //262k
                            24885 ; 221  |#elif defined(COLOR_65K)
                            24886 ; 222  |#define RGB(r,g,b)    ((0x0000F8 & (r)) << 8) | ((0x0000FC & (g)) << 3) | ((0x0000F8 & (b)
                                  ) >> 3)  //65k
                            24887 ; 223  |#else
                            24888 ; 224  |#define RGB(r,g,b)       ((0x0000F0 & (r)) << 4) | (0x0000F0 & (g)) | ((0x0000F0 & (b)) >>
                                   4)
                            24889 ; 225  |#endif
                            24890 ; 226  |    
                            24891 ; 227  |#endif // #ifndef _TYPES_H
                            24892 
                            24894 
                            24895 ; 5    |#include "playlist.h"
                            24896 
                            24898 
                            24899 ; 1    |#ifndef PLAYLIST_H
                            24900 ; 2    |#define PLAYLIST_H
                            24901 ; 3    |
                            24902 ; 4    |#include "types.h"
                            24903 ; 5    |
                            24904 ; 6    |typedef struct {
                            24905 ; 7    |    WORD    m_wTrack;                       
                            24906 ; 8    |    WORD    m_wDeviceID;
                            24907 ; 9    |    WORD    m_wBufferLength;            //this is in BYTES, not WORDS!
                            24908 ; 10   |    _packed BYTE *m_pFilename;
                            24909 ; 11   |} SONGFILEINFO;
                            24910 ; 12   |
                            24911 ; 13   |#define PLAYLIST_SUCCESS                                0
                            24912 ; 14   |#define PLAYLIST_FILE_ERROR                             1
                            24913 ; 15   |#define PLAYLIST_END_OF_LIST                    2
                            24914 ; 16   |#define PLAYLIST_TRACK_NOT_FOUND                3
                            24915 ; 17   |#define PLAYLIST_DIR_NOT_EMPTY          4 
                            24916 ; 18   |#define PLAYLIST_REBUILD                5
                            24917 ; 19   |#define PLAYLIST_LAST_RETCODE                   5               //The value should always 
                                  be the same as the last RETCODE
                            24918 ; 20   |
                            24919 ; 21   |
                            24920 ; 22   |#ifdef  USE_PLAYLIST1
                            24921 ; 23   |RETCODE ChangeDIRtoFileEntryDir(struct FileEntry *pCurrentEntry, _packed BYTE * buffer);
                            24922 ; 24   |#endif
                            24923 ; 25   |RETCODE _reentrant Playlist_LFNGetFileName(int,int,UCS3*);                      //UCS3 is 
                                  actually typdef WORD
                            24924 ; 26   |RETCODE _reentrant Playlist_MarkCurrentSongPlayed(int,int,int*);
                            24925 ; 27   |RETCODE _reentrant Playlist_GetCurrentSongFileInfo(int, int, int*);
                            24926 ; 28   |RETCODE _reentrant Playlist_GetNextSongFileInfo(int, int , int*);
                            24927 ; 29   |RETCODE _reentrant Playlist_GetPreviousSongFileInfo(int,int,int*);
                            24928 ; 30   |#ifdef USE_PLAYLIST1
                            24929 ; 31   |_reentrant INT Playlist_LocateEntryFromName(INT,INT,INT*);
                            24930 ; 32   |#endif
                            24931 ; 33   |
                            24932 ; 34   |#endif 
                            24933 
                            24935 
                            24936 ; 6    |
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 413

M:ADDR CODE           CYCLES LINE SOURCELINE
                            24937 ; 7    |#define DECODER_STATE_STOP          0
                            24938 ; 8    |#define DECODER_STATE_PLAY          1
                            24939 ; 9    |#define DECODER_STATE_PAUSE         2
                            24940 ; 10   |#define DECODER_STATE_TOGGLE    4
                            24941 ; 11   |
                            24942 ; 12   |#define PLAYERLIB_SUCCESS       0
                            24943 ; 13   |#define PLAYERLIB_BAD_FILE      1
                            24944 ; 14   |#define PLAYERLIB_ERROR         2
                            24945 ; 15   |#define PLAYERLIB_END_OF_LIST   3
                            24946 ; 16   |
                            24947 ; 17   |//These are in the DecoderSR/DecoderCSR
                            24948 ; 18   |#define DECODER_PAUSED          1<<5
                            24949 ; 19   |#define DECODER_STOPPED         1<<6
                            24950 ; 20   |#define DECODER_SYNCED          1<<10
                            24951 ; 21   |#define DECODER_PLAYING         1<<12
                            24952 ; 22   |#define DECODER_SONG_INFO       1<<15
                            24953 ; 23   |#define DECODER_FILE_IS_OPEN    1<<16
                            24954 ; 24   |#define DECODER_A_SET           1<<18
                            24955 ; 25   |#define DECODER_B_SET           1<<19
                            24956 ; 26   |#define DECODER_BAD_FILE        1<<21
                            24957 ; 27   |#define DECODER_LOOKING_FOR_SYNC 1<<22
                            24958 ; 28   |
                            24959 ; 29   |//PrevSong Message Parameters
                            24960 ; 30   |#define PREVSONG_STOP        0             //PrevSong + Stopped
                            24961 ; 31   |#define PREVSONG_PLAY        1<<0          //PrevSong + Play
                            24962 ; 32   |#define PREVSONG_RWND        1<<1          //PrevSong + Rwnd
                            24963 ; 33   |//NextSong Message Parameters
                            24964 ; 34   |#define NEXTSONG_STOP        0             //NextSong + Stopped
                            24965 ; 35   |#define NEXTSONG_PLAY_EOF    1             //NextSong + Play + EOF reached
                            24966 ; 36   |#define NEXTSONG_PLAY_BUTTON 3             //NextSong + Play + BUTTON pressed
                            24967 ; 37   |#define NEXTSONG_FFWD        4             //NextSong + Ffwd
                            24968 ; 38   |#define NEXTSONG_DELETE_MENU 5             //NextSong via delete menu
                            24969 ; 39   |//CurrentSong Message Parameters
                            24970 ; 40   |#define CURRENTSONG_DELETE_MENU 1          //CurrentSong via delete menu
                            24971 ; 41   |
                            24972 ; 42   |#ifdef USE_PLAYLIST3
                            24973 ; 43   |extern DWORD    g_CurrentSongFastkey;
                            24974 ; 44   |#endif  // USE_PLAYLIST3
                            24975 ; 45   |
                            24976 ; 46   |#ifdef USE_PLAYLIST5
                            24977 ; 47   |extern long g_CurrentFastKey;
                            24978 ; 48   |#endif //USE_PLAYLIST5
                            24979 ; 49   |RETCODE _reentrant PlayerLib_SetState (int iState,int bWait,int*);  
                            24980 ; 50   |RETCODE _reentrant PlayerLib_FastForward (int bPlayDuring,int,int*);
                            24981 ; 51   |RETCODE _reentrant PlayerLib_Rewind(int bPlayDuring,int,int*);
                            24982 ; 52   |RETCODE _reentrant PlayerLib_SetSongName(int bStartPlaying, int, SONGFILEINFO*);
                            24983 
                            24992 
                            24993 ; 53   |RETCODE _reentrant PlayerLib_GetCurrentSong(WORD wMode,int ignored1,int*ignored2);
                            24994 ; 54   |RETCODE _reentrant PlayerLib_SkipToNextSong(WORD,WORD,int*);
                            24995 ; 55   |RETCODE _reentrant PlayerLib_SkipToPreviousSong(WORD,WORD,int*);
                            24996 ; 56   |RETCODE _reentrant PlayerLib_EnablePlaylist(int bTrueFalse,int,int*);  
                            24997 ; 57   |RETCODE _reentrant PlayerLib_GetMetaData(WORD wMode,int ignored1,int*ignored2);
                            24998 ; 58   |DWORD _reentrant PlayerLib_GetSongPosition(void);
                            24999 ; 59   |RETCODE _reentrant PlayerLib_SetSongPosition(DWORD dwSongPos);
                            25000 ; 60   |////////////////////Bookmarking functions///////////////////////////////
                            25001 ; 61   |RETCODE _reentrant PlayerLib_ResetBookmark(int iCurrentPlayset, int ignored, int* pPtr);
                            25002 ; 62   |RETCODE _reentrant PlayerLib_SetBookmark(int iCurrentPlayset, int iTracknum,int* pPtr);
                            25003 ; 63   |RETCODE _reentrant PlayerLib_GotoTrack(int iTracknum, int ignored, int* ptr);
                            25004 ; 64   |RETCODE _reentrant PlayerLib_GetBookmarkSongInfo(int iCurrentPlayset, int ignored2, int* p
                                  Ptr);
                            25005 ; 65   |#ifdef USE_PLAYLIST3
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 414

M:ADDR CODE           CYCLES LINE SOURCELINE
                            25006 ; 66   |RETCODE _reentrant PlayerLib_GetCurrentSong_ML(WORD wMode,int ignored1,int*ignored2);
                            25007 ; 67   |#endif // #ifdef USE_PLAYLIST3
                            25008 ; 68   |
                            25009 ; 69   |#endif 
                            25010 
                            25012 
                            25013 ; 32   |
                            25014 ; 33   |extern _reentrant INT FastOpen(LONG Key,_packed char *mode);
                            25015 ; 34   |#endif
                            25016 ; 35   |#ifdef USE_PLAYLIST5
                            25017 ; 36   |#include "fsapi.h"
                            25018 ; 37   |#include "playlist5.h"
                            25019 ; 38   |#include "playerlib.h"
                            25020 ; 39   |#endif
                            25021 ; 40   |#pragma optimize 1
                            25023 ; 41   |
                            25024 ; 42   |//This value is the current known header object header size
                            25025 ; 43   |//(this must be seeked past to get to the objects in the header)
                            25026 ; 44   |#ifdef USE_PLAYLIST3
                            25027 ; 45   |// added start, SL
                            25028 ; 46   |// Constants for iExtendedContent, to indicate which part of extended content description 
                                  object is need to update
                            25029 ; 47   |#define EXTENDED_CONTENT_BIT_ALBUM      0
                            25030 ; 48   |#define EXTENDED_CONTENT_BIT_GENRE      1
                            25031 ; 49   |#define EXTENDED_CONTENT_BIT_YEAR       2
                            25032 ; 50   |#ifdef JPEG_ALBUM_ART
                            25033 ; 51   |#define EXTENDED_CONTENT_BIT_ALBUMART   3
                            25034 ; 52   |#endif
                            25035 ; 53   |#ifdef SYNC_LYRICS
                            25036 ; 54   |#define EXTENDED_CONTENT_BIT_LYRICS     4
                            25037 ; 55   |#endif
                            25038 ; 56   |#define EXTENDED_CONTENT_BIT_TRACKNUM       5
                            25039 ; 57   |// added end
                            25040 ; 58   |#endif
                            25041 ; 59   |
                            25042 ; 60   |typedef union
                            25043 ; 61   |{
                            25044 ; 62   |    WORD wValues[6];            //there is some wasted space here  (6 words is 18 bytes, n
                                  ot 16)
                            25045 ; 63   |    _packed BYTE cValues[16];
                            25046 ; 64   |} GUID;
                            25047 
                            25054 
                            25055 ; 65   |
                            25056 ; 66   |typedef struct
                            25057 ; 67   |{
                            25058 ; 68   |    GUID ObjectGUID;
                            25059 ; 69   |    DWORD ObjectSize;         //more wasted space (3 words is 9 bytes, not 8)
                            25060 ; 70   |} ASFOBJECTHEADER;
                            25061 ; 71   |
                            25062 ; 72   |#ifdef JPEG_ALBUM_ART
                            25063 ; 73   |BOOL bPicOnlyFlag=FALSE;
                            25064 ; 74   |#endif
                            25065 ; 75   |
                            25066 ; 76   |BYTE _reentrant  GetWmaMetaData_ReadBYTE(BYTE iHandle)
                            25067 ; 77   |{
                            25068 
P:0000                      25069         org     p,".ptextwmametadata":
                            25074 FGetWmaMetaData_ReadBYTE:
                            25083 
                            25084 ; 78   |    WORD TmpVal;
                            25085 ; 79   |    TmpVal=0;//zero out
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 415

M:ADDR CODE           CYCLES LINE SOURCELINE
                            25086 
                            25092 
                            25093 ; 80   |
                            25094 ; 81   |    FSFileRead(1,iHandle,MEM_SPACE_Y,-1,&TmpVal);//read in 1 byte
                            25095 
P:0000 055F7C         2    225075         movec   ssh,y:(r7)+
P:0001 045FA0         2    425089         movec   m0,n7
P:0002 290000         2    625088         move    #0,b0
P:0003 244000         2    825099         move    #<$40,x0
P:0004 46F400 FFFFFF  3   1125100         move    #>-1,y0
P:0006 205F00         2   1325078         move    (r7)+
P:0007 045710         4   1725098         lua     (r7)-,r0
P:0008 596F00         4   2125091         move    b0,y:(r7+n7)
P:0009 218F00         2   2325097         move    a1,b
P:000A 56F400 000001  3   2625101         move    #>1,a
P:000C 0BF080 rrrrrr  6   3225102         jsr     FFSFileRead
                            25104 
                            25105 ; 82   |    return (BYTE)TmpVal;
                            25106 
                            25111 
                            25112 ; 83   |
                            25113 ; 84   |}
                            25114 
P:000E 045FA0         2   3425108         movec   m0,n7
P:000F 000000         2   3625108         nop             ; (inserted)
P:0010 5EEF00         4   4025110         move    y:(r7+n7),a
P:0011 204F00         2   4225116         move    (r7)+n7
P:0012 05FF7C         4   4625118         movec   y:-(r7),ssh
P:0013 000000         2   4825118         nop             ; (inserted)
P:0014 00000C         4   5225122         rts
                            25124 
                            25125 ; 85   |
                            25126 ; 86   |
                            25127 ; 87   |WORD _reentrant  GetWmaMetaData_ReadWORD(BYTE iHandle)
                            25128 ; 88   |{
                            25129 
                            25134 FGetWmaMetaData_ReadWORD:
                            25143 
                            25144 ; 89   |    WORD TmpVal;
                            25145 ; 90   |    TmpVal=0;//zero out
                            25146 
                            25152 
                            25153 ; 91   |
                            25154 ; 92   |    FSFileRead(2,iHandle,MEM_SPACE_Y,-1,&TmpVal);//read in 2 bytes
                            25155 
P:0015 055F7C         2   5425135         movec   ssh,y:(r7)+
P:0016 045FA0         2   5625149         movec   m0,n7
P:0017 290000         2   5825148         move    #0,b0
P:0018 244000         2   6025159         move    #<$40,x0
P:0019 46F400 FFFFFF  3   6325160         move    #>-1,y0
P:001B 205F00         2   6525138         move    (r7)+
P:001C 045710         4   6925158         lua     (r7)-,r0
P:001D 596F00         4   7325151         move    b0,y:(r7+n7)
P:001E 218F00         2   7525157         move    a1,b
P:001F 56F400 000002  3   7825161         move    #>2,a
P:0021 0BF080 rrrrrr  6   8425162         jsr     FFSFileRead
                            25164 
                            25165 ; 93   |    return (WORD)TmpVal;
                            25166 
                            25171 
                            25172 ; 94   |
                            25173 ; 95   |}
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 416

M:ADDR CODE           CYCLES LINE SOURCELINE
                            25174 
P:0023 045FA0         2   8625168         movec   m0,n7
P:0024 000000         2   8825168         nop             ; (inserted)
P:0025 5EEF00         4   9225170         move    y:(r7+n7),a
P:0026 204F00         2   9425176         move    (r7)+n7
P:0027 05FF7C         4   9825178         movec   y:-(r7),ssh
P:0028 000000         2  10025178         nop             ; (inserted)
P:0029 00000C         4  10425182         rts
                            25184 
                            25185 ; 96   |
                            25186 ; 97   |DWORD _reentrant  GetWmaMetaData_ReadDWORD(BYTE iHandle)
                            25187 ; 98   |{
                            25188 
                            25193 FGetWmaMetaData_ReadDWORD:
                            25204 
                            25205 ; 99   |    WORD TmpVal[2];
                            25206 ; 100  |    TmpVal[1]=0;//zero out the upper word.
                            25207 
                            25213 
                            25214 ; 101  |
                            25215 ; 102  |    FSFileRead(4,iHandle,MEM_SPACE_Y,-1,TmpVal);//read in 4 bytes
                            25216 
P:002A 055F7C         2  10625194         movec   ssh,y:(r7)+
P:002B 045FA0         2  10825210         movec   m0,n7
P:002C 270000         2  11025209         move    #0,y1
P:002D 244000         2  11225222         move    #<$40,x0
P:002E 218F00         2  11425218         move    a1,b
P:002F 46F400 FFFFFF  3  11725223         move    #>-1,y0
P:0031 205F00         2  11925197         move    (r7)+
P:0032 56F400 000004  3  12225224         move    #>4,a
P:0034 205F00         2  12425198         move    (r7)+
P:0035 4F6F00         4  12825212         move    y1,y:(r7+n7)
P:0036 77F400 FFFFFE  3  13125219         move    #-2,n7
P:0038 000000         2  13325219         nop             ; (inserted)
P:0039 044F10         4  13725221         lua     (r7)+n7,r0
P:003A 0BF080 rrrrrr  6  14325225         jsr     FFSFileRead
                            25227 
                            25228 ; 103  |    return ((DWORD)TmpVal[0] + ((DWORD)TmpVal[1]<<24));//they just so happen to be in that
                                   order
                            25229 
                            25242 
                            25243 ; 104  |
                            25244 ; 105  |}
                            25245 
P:003C 77F400 FFFFFE  3  14625231         move    #-2,n7
P:003E 2C0000         2  14825238         move    #0,a1
P:003F 250000         2  15025234         move    #0,x1
P:0040 4CEF00         4  15425233         move    y:(r7+n7),x0
P:0041 045FA0         2  15625235         movec   m0,n7
P:0042 000000         2  15825235         nop             ; (inserted)
P:0043 58EF00         4  16225237         move    y:(r7+n7),a0
P:0044 205700         2  16425247         move    (r7)-
P:0045 210E00         2  16625239         move    a0,a
P:0046 205720         2  16825240         add     x,a	                (r7)-
P:0047 05FF7C         4  17225250         movec   y:-(r7),ssh
P:0048 2A0000         2  17425241         move    #0,a2
P:0049 00000C         4  17825254         rts
                            25256 
                            25257 ; 106  |
                            25258 ; 107  |DWORD _reentrant  GetWmaMetaData_ReadQWORD(BYTE iHandle)
                            25259 ; 108  |{//this reads in a QWORD from the ASF file, but truncates to a DWORD
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 417

M:ADDR CODE           CYCLES LINE SOURCELINE
                            25260 
                            25265 FGetWmaMetaData_ReadQWORD:
                            25277 
                            25278 ; 109  |    WORD TmpVal[3];
                            25279 ; 110  |    TmpVal[2]=0;
                            25280 
                            25286 
                            25287 ; 111  |
                            25288 ; 112  |    FSFileRead(8,iHandle,MEM_SPACE_Y,-1,TmpVal);//read in 8 bytes
                            25289 
P:004A 055F7C         2  18025266         movec   ssh,y:(r7)+
P:004B 3F0300         2  18225269         move    #3,n7
P:004C 270000         2  18425282         move    #0,y1
P:004D 244000         2  18625295         move    #<$40,x0
P:004E 218F00         2  18825291         move    a1,b
P:004F 46F400 FFFFFF  3  19125296         move    #>-1,y0
P:0051 204F00         2  19325271         move    (r7)+n7
P:0052 045FA0         2  19525283         movec   m0,n7
P:0053 56F400 000008  3  19825297         move    #>8,a
P:0055 4F6F00         4  20225285         move    y1,y:(r7+n7)
P:0056 77F400 FFFFFD  3  20525292         move    #-3,n7
P:0058 000000         2  20725292         nop             ; (inserted)
P:0059 044F10         4  21125294         lua     (r7)+n7,r0
P:005A 0BF080 rrrrrr  6  21725298         jsr     FFSFileRead
                            25300 
                            25301 ; 113  |    return ((DWORD)TmpVal[0] + ((DWORD)TmpVal[1]<<24));//we only use the bottom two words 
                                  (6 bytes).
                            25302 
                            25315 
                            25316 ; 114  |
                            25317 ; 115  |}
                            25318 
P:005C 77F400 FFFFFD  3  22025304         move    #-3,n7
P:005E 2C0000         2  22225311         move    #0,a1
P:005F 250000         2  22425307         move    #0,x1
P:0060 4CEF00         4  22825306         move    y:(r7+n7),x0
P:0061 77F400 FFFFFE  3  23125308         move    #-2,n7
P:0063 000000         2  23325308         nop             ; (inserted)
P:0064 58EF00         4  23725310         move    y:(r7+n7),a0
P:0065 77F400 FFFFFC  3  24025320         move    #-4,n7
P:0067 210E00         2  24225312         move    a0,a
P:0068 05EF7C         4  24625322         movec   y:(r7+n7),ssh
P:0069 204F20         2  24825313         add     x,a	                (r7)+n7
P:006A 2A0000         2  25025314         move    #0,a2
P:006B 00000C         4  25425326         rts
                            25328 
                            25329 ; 116  |
                            25330 ; 117  |
                            25331 ; 118  |
                            25332 ; 119  |RETCODE _reentrant GetWmaMetaData_ReadObjectHeaderPrologue(BYTE iHandle, ASFOBJECTHEADER*p
                                  ObjectHeader)
                            25333 
                            25338 
                            25339 ; 120  |{
                            25340 
                            25347 FGetWmaMetaData_ReadObjectHeaderPrologue:
                            25361 
                            25362 ; 121  |    int iError;
                            25363 ; 122  |    //this zero's out the non even sized pieces
                            25364 ; 123  |    pObjectHeader->ObjectGUID.wValues[5] = 0;
                            25365 
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 418

M:ADDR CODE           CYCLES LINE SOURCELINE
                            25371 
                            25372 ; 124  |    iError = FSFileRead(16,iHandle,MEM_SPACE_Y,-1,(void*)pObjectHeader);
                            25373 
P:006C 055F7C         2  25625348         movec   ssh,y:(r7)+
P:006D 3F031B         2  25825369         clr     b	                #3,n7
P:006E 3E0500         2  26025367         move    #5,n6
P:006F 221600         2  26225368         move    r0,r6
P:0070 244000         2  26425387         move    #<$40,x0
P:0071 46F400 FFFFFF  3  26725388         move    #>-1,y0
P:0073 204F00         2  26925353         move    (r7)+n7
P:0074 77F400 FFFFFD  3  27225375         move    #-3,n7
P:0076 5D6E00         4  27625370         move    b1,y:(r6+n6)
P:0077 218F00         2  27825378         move    a1,b
P:0078 5C6F00         4  28225377         move    a1,y:(r7+n7)
P:0079 77F400 FFFFFE  3  28525381         move    #-2,n7
P:007B 56F400 000010  3  28825386         move    #>16,a
P:007D 686F00         4  29225383         move    r0,y:(r7+n7)
P:007E 0BF080 rrrrrr  6  29825389         jsr     FFSFileRead
                            25394 
                            25395 ; 125  |    pObjectHeader->ObjectSize = GetWmaMetaData_ReadQWORD(iHandle);
                            25396 
P:0080 045FA0         2  30025390         movec   m0,n7
P:0081 000000         2  30225390         nop             ; (inserted)
P:0082 5E6F00         4  30625392         move    a,y:(r7+n7)
P:0083 77F400 FFFFFD  3  30925398         move    #-3,n7
P:0085 000000         2  31125398         nop             ; (inserted)
P:0086 5EEF00         4  31525400         move    y:(r7+n7),a
P:0087 0BF080 rrrrrr  6  32125401         jsr     FGetWmaMetaData_ReadQWORD
                            25416 
                            25417 ; 126  |    return iError;
                            25418 
                            25425 
                            25426 ; 127  |}
                            25427 
P:0089 3E0600         2  32325405         move    #6,n6
P:008A 77F400 FFFFFE  3  32625406         move    #-2,n7
P:008C 000000         2  32825406         nop             ; (inserted)
P:008D 6EEF00         4  33225408         move    y:(r7+n7),r6
P:008E 045FA0         2  33425420         movec   m0,n7
P:008F 204E00         2  33625410         move    (r6)+n6
P:0090 585E00         2  33825414         move    a0,y:(r6)+
P:0091 5C5600         2  34025415         move    a1,y:(r6)-
P:0092 5EEF00         4  34425422         move    y:(r7+n7),a
P:0093 77F400 FFFFFC  3  34725429         move    #-4,n7
P:0095 000000         2  34925429         nop             ; (inserted)
P:0096 05EF7C         4  35325431         movec   y:(r7+n7),ssh
P:0097 204F00         2  35525433         move    (r7)+n7
P:0098 00000C         4  35925435         rts
                            25438 
                            25439 ; 128  |
                            25440 ; 129  |
                            25441 ; 130  |RETCODE _reentrant GetWmaMetaData_CompareGUID(GUID *pLeft,GUID *pRight)
                            25442 ; 131  |{
                            25443 
                            25450 FGetWmaMetaData_CompareGUID:
                            25461 
                            25462 ; 132  |    int i;
                            25463 ; 133  |    register int *pLeftGUID=(int*)pLeft;
                            25464 
                            25470 
                            25471 ; 134  |    register int *pRightGUID=(int*)pRight;
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 419

M:ADDR CODE           CYCLES LINE SOURCELINE
                            25472 
                            25478 
                            25479 ; 135  |    RETCODE returnValue = FALSE;
                            25480 ; 136  |    for(i=0;i<6;i++)
                            25481 
P:0099 221500         2  36125466         move    r0,r5
P:009A 229600         2  36325474         move    r4,r6
P:009B 46F41B 000001  3  36625483         clr     b	                #>1,y0
P:009D 060680 rrrrrr  6  37225486         do      #6,L9
                            25488 
                            25489 ; 137  |    {
                            25490 ; 138  |        if(*pLeftGUID++ != *pRightGUID++)
                            25491 
P:009F 22B400         2  37425493         move    r5,r4
P:00A0 205D00         2  37625497         move    (r5)+
P:00A1 5EE400         2  37825500         move    y:(r4),a
P:00A2 22D400         2  38025501         move    r6,r4
P:00A3 205E00         2  38225504         move    (r6)+
P:00A4 4FE400         2  38425507         move    y:(r4),y1
P:00A5 200075         2  38625508         cmp     y1,a
P:00A6 0AF0AA rrrrrr  6  39225509         jeq     L7
                            25510 
                            25511 ; 139  |        {
                            25512 ; 140  |            returnValue = FALSE;
                            25513 
                            25517 
                            25518 ; 141  |            break;
                            25519 
P:00A8 2E0000         2  39425515         move    #0,a
P:00A9 00008C         2  39625521         enddo
P:00AA 00000C         4  40025523         rts
                            25524 
                            25525 ; 142  |        }
                            25526 ; 143  |        returnValue = TRUE;
                            25527 
                            25529 L7:
P:00AB 20CE58         2  40225531         add     y0,b	                y0,a
                        (30)25532 L9:
                            25534 
                            25535 ; 144  |    }
                            25536 ; 145  |    return returnValue;
                            25537 ; 146  |}
                            25538 
P:00AC 00000C         4  40625540         rts
                            25547 
                            25548 ; 147  |
                            25549 ; 148  |DWORD _reentrant GetWmaMetaData_FindNextObject(BYTE iHandle, int iMaxObjects,GUID *pGUID)
                            25550 ; 149  |//Will return -1 if no object found,  or the size of the object.  (We shouldn't have any o
                                  bjects that are
                            25551 ; 150  |//0xffffffffffff in size (thats 281 trillion bytes)
                            25552 ; 151  |{
                            25553 
                            25558 FGetWmaMetaData_FindNextObject:
                            25577 
                            25578 ; 152  |    int i;
                            25579 ; 153  |    ASFOBJECTHEADER ObjectHeader;
                            25580 ; 154  |    WORD returnValue=0;
                            25581 
                            25605 
                            25606 ; 155  |    for(i=0;i<iMaxObjects;i++)
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 420

M:ADDR CODE           CYCLES LINE SOURCELINE
                            25607 
P:00AD 055F7C         2  40825559         movec   ssh,y:(r7)+
P:00AE 3F0D00         2  41025562         move    #13,n7
P:00AF 000000         2  41225562         nop             ; (inserted)
P:00B0 204F00         2  41425564         move    (r7)+n7
P:00B1 77F400 FFFFFB  3  41725583         move    #-5,n7
P:00B3 000000         2  41925583         nop             ; (inserted)
P:00B4 5C6F00         4  42325585         move    a1,y:(r7+n7)
P:00B5 77F400 FFFFFD  3  42625588         move    #-3,n7
P:00B7 000000         2  42825588         nop             ; (inserted)
P:00B8 686F00         4  43225590         move    r0,y:(r7+n7)
P:00B9 77F400 FFFFFC  3  43525593         move    #-4,n7
P:00BB 000000         2  43725593         nop             ; (inserted)
P:00BC 5D6F00         4  44125595         move    b1,y:(r7+n7)
P:00BD 77F400 FFFFFE  3  44425600         move    #-2,n7
P:00BF 2D0000         2  44625598         move    #0,b1
P:00C0 5D6F1B         4  45025609         clr     b	                b1,y:(r7+n7)
P:00C1 0AF080 rrrrrr  6  45625611         jmp     L12
                            25612 L10:
                            25617 
                            25618 ; 156  |    {
                            25619 ; 157  |        //read the GUID in
                            25620 ; 158  |        GetWmaMetaData_ReadObjectHeaderPrologue(iHandle,&ObjectHeader);
                            25621 
P:00C3 045FA0         2  45825612         movec   m0,n7
P:00C4 000000         2  46025612         nop             ; (inserted)
P:00C5 5D6F00         4  46425614         move    b1,y:(r7+n7)
P:00C6 77F400 FFFFF3  3  46725623         move    #-13,n7
P:00C8 000000         2  46925623         nop             ; (inserted)
P:00C9 044F1E         4  47325625         lua     (r7)+n7,n6
P:00CA 77F400 FFFFFB  3  47625626         move    #-5,n7
P:00CC 23D000         2  47825631         move    n6,r0
P:00CD 5EEF00         4  48225628         move    y:(r7+n7),a
P:00CE 0BF080 rrrrrr  6  48825632         jsr     FGetWmaMetaData_ReadObjectHeaderPrologue
                            25640 
                            25641 ; 159  |        if(GetWmaMetaData_CompareGUID(&ObjectHeader.ObjectGUID,pGUID))
                            25642 
P:00D0 77F400 FFFFFD  3  49125635         move    #-3,n7
P:00D2 000000         2  49325635         nop             ; (inserted)
P:00D3 6CEF00         4  49725637         move    y:(r7+n7),r4
P:00D4 77F400 FFFFF3  3  50025644         move    #-13,n7
P:00D6 000000         2  50225644         nop             ; (inserted)
P:00D7 044F10         4  50625646         lua     (r7)+n7,r0
P:00D8 0BF080 rrrrrr  6  51225647         jsr     FGetWmaMetaData_CompareGUID
P:00DA 77F403 FFFFFB  3  51525650         tst     a	                #-5,n7
P:00DC 000000         2  51725650         nop             ; (inserted)
P:00DD 5FEF00         4  52125653         move    y:(r7+n7),b
P:00DE 0AF0AA rrrrrr  6  52725656         jeq     L11
                            25657 
                            25658 ; 160  |        {
                            25659 ; 161  |            returnValue=ObjectHeader.ObjectSize;
                            25660 
                            25672 
                            25673 ; 162  |            break;//they match, lets stop seeking.
                            25674 
P:00E0 77F400 FFFFF9  3  53025662         move    #-7,n7
P:00E2 205F00         2  53225663         move    (r7)+
P:00E3 4DEF00         4  53625665         move    y:(r7+n7),x1
P:00E4 205700         2  53825666         move    (r7)-
P:00E5 4CEF00         4  54225668         move    y:(r7+n7),x0
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 421

M:ADDR CODE           CYCLES LINE SOURCELINE
P:00E6 77F400 FFFFFE  3  54525669         move    #-2,n7
P:00E8 000000         2  54725669         nop             ; (inserted)
P:00E9 4C6F00         4  55125671         move    x0,y:(r7+n7)
P:00EA 0AF080 rrrrrr  6  55725676         jmp     L13
                            25677 
                            25678 ; 163  |        }
                            25679 ; 164  |        else
                            25680 ; 165  |        {
                            25681 ; 166  |            fseek(iHandle,ObjectHeader.ObjectSize-24,SEEK_CUR);//skip to the next object.
                            25682 
                            25684 L11:
P:00EC 270000         2  55925694         move    #0,y1
P:00ED 46F400 000018  3  56225695         move    #>24,y0
P:00EF 5D6F00         4  56625684         move    b1,y:(r7+n7)
P:00F0 77F400 FFFFF9  3  56925687         move    #-7,n7
P:00F2 205F00         2  57125688         move    (r7)+
P:00F3 5EEF00         4  57525690         move    y:(r7+n7),a
P:00F4 205700         2  57725691         move    (r7)-
P:00F5 58EF00         4  58125693         move    y:(r7+n7),a0
P:00F6 240034         2  58325696         sub     y,a	                #0,x0
P:00F7 2A0000         2  58525698         move    #0,a2
P:00F8 0ACC17 rrrrrr  6  59125699         jclr    #23,a1,L14
P:00FA 044AA0         2  59325700         movec   m0,a2
P:00FB 0BF080 rrrrrr  6  59925701 L14:    jsr     Ffseek
P:00FD 045FA0         2  60125703         movec   m0,n7
P:00FE 46F400 000001  3  60425706         move    #>1,y0
P:0100 5EEF00         4  60825705         move    y:(r7+n7),a
P:0101 200050         2  61025707         add     y0,a
P:0102 218F00         2  61225710         move    a1,b
P:0103 77F400 FFFFFC  3  61525713 L12:    move    #-4,n7
P:0105 000000         2  61725713         nop             ; (inserted)
P:0106 4DEF00         4  62125715         move    y:(r7+n7),x1
P:0107 20006D         2  62325716         cmp     x1,b
P:0108 0AF0A9 rrrrrr  6  62925717         jlt     L10
                            25718 
                            25719 ; 167  |        }
                            25720 ; 168  |    }
                            25721 ; 169  |    return returnValue;
                            25722 
                            25724 L13:
                            25732 
                            25733 ; 170  |}
                            25734 
P:010A 77F400 FFFFFE  3  63225724         move    #-2,n7
P:010C 2C0000         2  63425727         move    #0,a1
P:010D 2A0000         2  63625731         move    #0,a2
P:010E 58EF00         4  64025726         move    y:(r7+n7),a0
P:010F 77F400 FFFFF2  3  64325736         move    #-14,n7
P:0111 000000         2  64525736         nop             ; (inserted)
P:0112 05EF7C         4  64925738         movec   y:(r7+n7),ssh
P:0113 204F00         2  65125740         move    (r7)+n7
P:0114 00000C         4  65525742         rts
                            25748 
                            25749 ; 171  |
                            25750 ; 172  |#if (defined JPEG_ALBUM_ART) || (defined SYNC_LYRICS)
                            25751 ; 173  |DWORD _reentrant GetWmaMetaData_FindNextObjectBySize(BYTE iHandle, DWORD dwObjectSize, GUI
                                  D *pGUID)
                            25752 ; 174  |//Will return 0 if no object found,  or the size of the object.
                            25753 ; 175  |{
                            25754 
                            25759 FGetWmaMetaData_FindNextObjectBySize:
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 422

M:ADDR CODE           CYCLES LINE SOURCELINE
                            25778 
                            25779 ; 176  |    INT                         i;
                            25780 ; 177  |    ASFOBJECTHEADER     ObjectHeader;
                            25781 ; 178  |    DWORD                       returnValue = 0, dwNumBytesToSeek;
                            25782 
                            25810 
                            25811 ; 179  |    LONG                        remain = (LONG)dwObjectSize;
                            25812 ; 180  |
                            25813 ; 181  |        while (remain > 0) {
                            25814 
P:0115 055F7C         2  65725760         movec   ssh,y:(r7)+
P:0116 3F0E00         2  65925763         move    #14,n7
P:0117 270000         2  66125794         move    #0,y1
P:0118 260000         2  66325795         move    #0,y0
P:0119 204F00         2  66525765         move    (r7)+n7
P:011A 77F400 FFFFFA  3  66825784         move    #-6,n7
P:011C 000000         2  67025784         nop             ; (inserted)
P:011D 5D6F00         4  67425786         move    b1,y:(r7+n7)
P:011E 77F400 FFFFFB  3  67725789         move    #-5,n7
P:0120 000000         2  67925789         nop             ; (inserted)
P:0121 686F00         4  68325791         move    r0,y:(r7+n7)
P:0122 77F400 FFFFFC  3  68625797         move    #-4,n7
P:0124 205F00         2  68825798         move    (r7)+
P:0125 4F6F00         4  69225800         move    y1,y:(r7+n7)
P:0126 205700         2  69425801         move    (r7)-
P:0127 4E6F00         4  69825803         move    y0,y:(r7+n7)
P:0128 0AF080 rrrrrr  6  70425816         jmp     L17
                            25817 L15:
                            25826 
                            25827 ; 182  |        //read the GUID in
                            25828 ; 183  |        GetWmaMetaData_ReadObjectHeaderPrologue(iHandle, &ObjectHeader);
                            25829 
P:012A 77F400 FFFFFE  3  70725817         move    #-2,n7
P:012C 205F00         2  70925818         move    (r7)+
P:012D 5D6F00         4  71325820         move    b1,y:(r7+n7)
P:012E 205700         2  71525821         move    (r7)-
P:012F 596F00         4  71925823         move    b0,y:(r7+n7)
P:0130 77F400 FFFFF2  3  72225831         move    #-14,n7
P:0132 000000         2  72425831         nop             ; (inserted)
P:0133 044F16         4  72825833         lua     (r7)+n7,r6
P:0134 77F400 FFFFFA  3  73125834         move    #-6,n7
P:0136 22D000         2  73325840         move    r6,r0
P:0137 5EEF00         4  73725836         move    y:(r7+n7),a
P:0138 0BF080 rrrrrr  6  74325841         jsr     FGetWmaMetaData_ReadObjectHeaderPrologue
                            25852 
                            25853 ; 184  |        if (GetWmaMetaData_CompareGUID(&ObjectHeader.ObjectGUID, pGUID)) {
                            25854 
P:013A 77F400 FFFFF2  3  74625844         move    #-14,n7
P:013C 000000         2  74825844         nop             ; (inserted)
P:013D 044F10         4  75225846         lua     (r7)+n7,r0
P:013E 77F400 FFFFFB  3  75525847         move    #-5,n7
P:0140 000000         2  75725847         nop             ; (inserted)
P:0141 6CEF00         4  76125849         move    y:(r7+n7),r4
P:0142 0BF080 rrrrrr  6  76725856         jsr     FGetWmaMetaData_CompareGUID
P:0144 77F403 FFFFFA  3  77025859         tst     a	                #-6,n7
P:0146 000000         2  77225859         nop             ; (inserted)
P:0147 6EEF00         4  77625862         move    y:(r7+n7),r6
P:0148 0AF0AA rrrrrr  6  78225865         jeq     L16
                            25866 
                            25867 ; 185  |            returnValue = ObjectHeader.ObjectSize;
                            25868 
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 423

M:ADDR CODE           CYCLES LINE SOURCELINE
                            25884 
                            25885 ; 186  |            break;      //they match, lets stop seeking.
                            25886 
P:014A 77F400 FFFFF8  3  78525870         move    #-8,n7
P:014C 205F00         2  78725871         move    (r7)+
P:014D 4DEF00         4  79125873         move    y:(r7+n7),x1
P:014E 205700         2  79325874         move    (r7)-
P:014F 4CEF00         4  79725876         move    y:(r7+n7),x0
P:0150 77F400 FFFFFC  3  80025877         move    #-4,n7
P:0152 205F00         2  80225878         move    (r7)+
P:0153 4D6F00         4  80625880         move    x1,y:(r7+n7)
P:0154 205700         2  80825881         move    (r7)-
P:0155 4C6F00         4  81225883         move    x0,y:(r7+n7)
P:0156 0AF080 rrrrrr  6  81825888         jmp     L18
                            25889 
                            25890 ; 187  |        } else {
                            25891 ; 188  |                dwNumBytesToSeek = ObjectHeader.ObjectSize - 24;
                            25892 
                            25894 L16:
                            25905 
                            25906 ; 189  |                        fseek(iHandle, (LONG)dwNumBytesToSeek, SEEK_CUR);       //skip to 
                                  the next object.
                            25907 
P:0158 77F400 FFFFF8  3  82125894         move    #-8,n7
P:015A 240000         2  82325916         move    #0,x0
P:015B 205F1B         2  82525901         clr     b	                (r7)+
P:015C 291800         2  82725902         move    #24,b0
P:015D 5EEF00         4  83125897         move    y:(r7+n7),a
P:015E 205700         2  83325898         move    (r7)-
P:015F 58EF00         4  83725900         move    y:(r7+n7),a0
P:0160 77F414 FFFFFA  3  84025903         sub     b,a	                #-6,n7
P:0162 2A0000         2  84225917         move    #0,a2
P:0163 22CF00         2  84425912         move    r6,b
P:0164 6E6F00         4  84825911         move    r6,y:(r7+n7)
P:0165 0ACC17 rrrrrr  6  85425918         jclr    #23,a1,L19
P:0167 044AA0         2  85625919         movec   m0,a2
P:0168 0BF080 rrrrrr  6  86225920 L19:    jsr     Ffseek
                            25921 
                            25922 ; 190  |                        remain -= ObjectHeader.ObjectSize;
                            25923 
P:016A 77F400 FFFFF8  3  86525925         move    #-8,n7
P:016C 205F00         2  86725926         move    (r7)+
P:016D 4FEF00         4  87125928         move    y:(r7+n7),y1
P:016E 205700         2  87325929         move    (r7)-
P:016F 4EEF00         4  87725931         move    y:(r7+n7),y0
P:0170 77F400 FFFFFE  3  88025932         move    #-2,n7
P:0172 205F00         2  88225933         move    (r7)+
P:0173 5EEF00         4  88625935         move    y:(r7+n7),a
P:0174 205700         2  88825936         move    (r7)-
P:0175 58EF00         4  89225938         move    y:(r7+n7),a0
P:0176 200034         2  89425939         sub     y,a
                            25942 L17:
P:0177 200009         2  89625942         tfr     a,b
P:0178 20000B         2  89825946         tst     b
P:0179 0AF0A7 rrrrrr  6  90425947         jgt     L15
                            25948 
                            25949 ; 191  |        }
                            25950 ; 192  |    }
                            25951 ; 193  |
                            25952 ; 194  |    return returnValue;
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 424

M:ADDR CODE           CYCLES LINE SOURCELINE
                            25953 
                            25955 L18:
                            25964 
                            25965 ; 195  |}
                            25966 
P:017B 77F400 FFFFFC  3  90725955         move    #-4,n7
P:017D 205F00         2  90925956         move    (r7)+
P:017E 5EEF00         4  91325958         move    y:(r7+n7),a
P:017F 205700         2  91525959         move    (r7)-
P:0180 58EF00         4  91925961         move    y:(r7+n7),a0
P:0181 77F400 FFFFF1  3  92225968         move    #-15,n7
P:0183 000000         2  92425968         nop             ; (inserted)
P:0184 05EF7C         4  92825970         movec   y:(r7+n7),ssh
P:0185 204F00         2  93025972         move    (r7)+n7
P:0186 00000C         4  93425974         rts
                            25980 
                            25981 ; 196  |#endif  // JPEG_ALBUM_ART || SYNC_LYRICS
                            25982 ; 197  |
                            25983 ; 198  |
                            25984 ; 199  |DWORD _reentrant GetWmaMetaData_FindFirstObject(BYTE iHandle, int iMaxObjects,GUID *pGUID)
                                  
                            25985 ; 200  |{
                            25986 
                            25991 FGetWmaMetaData_FindFirstObject:
                            26015 
                            26016 ; 201  |    fseek(iHandle,WMA_HEADER_OBJECT_HEADER_SIZE,SEEK_SET);
                            26017 
P:0187 055F7C         2  93625992         movec   ssh,y:(r7)+
P:0188 3F0300         2  93825995         move    #3,n7
P:0189 44F400 FFFFFF  3  94126027         move    #>-1,x0
P:018B 204F00         2  94325997         move    (r7)+n7
P:018C 045FA0         2  94526005         movec   m0,n7
P:018D 000000         2  94726005         nop             ; (inserted)
P:018E 686F00         4  95126007         move    r0,y:(r7+n7)
P:018F 77F400 FFFFFE  3  95426010         move    #-2,n7
P:0191 000000         2  95626010         nop             ; (inserted)
P:0192 5D6F00         4  96026012         move    b1,y:(r7+n7)
P:0193 77F400 FFFFFD  3  96326019         move    #-3,n7
P:0195 218F00         2  96526022         move    a1,b
P:0196 5C6F13         4  96926025         clr     a	                a1,y:(r7+n7)
P:0197 281E00         2  97126026         move    #30,a0
P:0198 0BF080 rrrrrr  6  97726028         jsr     Ffseek
                            26029 
                            26030 ; 202  |
                            26031 ; 203  |    return GetWmaMetaData_FindNextObject(iHandle,iMaxObjects,pGUID);
                            26032 
P:019A 045FA0         2  97926034         movec   m0,n7
P:019B 000000         2  98126034         nop             ; (inserted)
P:019C 68EF00         4  98526036         move    y:(r7+n7),r0
P:019D 77F400 FFFFFE  3  98826037         move    #-2,n7
P:019F 000000         2  99026037         nop             ; (inserted)
P:01A0 5FEF00         4  99426039         move    y:(r7+n7),b
P:01A1 77F400 FFFFFD  3  99726040         move    #-3,n7
P:01A3 000000         2  99926040         nop             ; (inserted)
P:01A4 5EEF00         4 100326042         move    y:(r7+n7),a
P:01A5 0BF080 rrrrrr  6 100926043         jsr     FGetWmaMetaData_FindNextObject
                            26053 
                            26054 ; 204  |}
                            26055 
P:01A7 77F400 FFFFFC  3 101226057         move    #-4,n7
P:01A9 000000         2 101426057         nop             ; (inserted)
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 425

M:ADDR CODE           CYCLES LINE SOURCELINE
P:01AA 05EF7C         4 101826059         movec   y:(r7+n7),ssh
P:01AB 204F00         2 102026061         move    (r7)+n7
P:01AC 00000C         4 102426063         rts
                            26065 
                            26066 ; 205  |
                            26067 ; 206  |
                            26068 ; 207  |void  _reentrant GetWmaMetaData_ReadString(BYTE iHandle, UCS3 *pPointer, WORD wBufferLengt
                                  h,WORD wStoredLength)
                            26069 ; 208  |{
                            26070 
                            26075 FGetWmaMetaData_ReadString:
                            26095 
                            26096 ; 209  |    int i;
                            26097 ; 210  |    UCS3 *pTmpPtr = pPointer;
                            26098 
                            26119 
                            26120 ; 211  |    UCS3 wData;
                            26121 ; 212  |    if(pPointer)
                            26122 
P:01AD 055F7C         2 102626076         movec   ssh,y:(r7)+
P:01AE 3F0600         2 102826079         move    #6,n7
P:01AF 221600         2 103026115         move    r0,r6
P:01B0 204F00         2 103226081         move    (r7)+n7
P:01B1 77F400 FFFFFD  3 103526100         move    #-3,n7
P:01B3 000000         2 103726100         nop             ; (inserted)
P:01B4 4C6F00         4 104126102         move    x0,y:(r7+n7)
P:01B5 77F400 FFFFFC  3 104426105         move    #-4,n7
P:01B7 000000         2 104626105         nop             ; (inserted)
P:01B8 5D6F00         4 105026107         move    b1,y:(r7+n7)
P:01B9 77F400 FFFFFA  3 105326110         move    #-6,n7
P:01BB 220F00         2 105526127         move    r0,b
P:01BC 5C6F0B         4 105926128         tst     b	                a1,y:(r7+n7)
P:01BD 77F400 FFFFFB  3 106226124         move    #-5,n7
P:01BF 000000         2 106426124         nop             ; (inserted)
P:01C0 686F00         4 106826126         move    r0,y:(r7+n7)
P:01C1 0AF0AA rrrrrr  6 107426131         jeq     L23
                            26132 
                            26133 ; 213  |    {
                            26134 ; 214  |        for(i=0;i<wStoredLength;i++)
                            26135 
P:01C3 260000         2 107626137         move    #0,y0
P:01C4 44F400 000001  3 107926139         move    #>1,x0
P:01C6 0AF080 rrrrrr  6 108526140         jmp     L22
                            26141 L20:
                            26156 
                            26157 ; 215  |        {
                            26158 ; 216  |            wData = GetWmaMetaData_ReadWORD(iHandle);
                            26159 
P:01C8 045FA0         2 108726141         movec   m0,n7
P:01C9 000000         2 108926141         nop             ; (inserted)
P:01CA 4E6F00         4 109326143         move    y0,y:(r7+n7)
P:01CB 77F400 FFFFFE  3 109626146         move    #-2,n7
P:01CD 000000         2 109826146         nop             ; (inserted)
P:01CE 6E6F00         4 110226148         move    r6,y:(r7+n7)
P:01CF 77F400 FFFFFA  3 110526151         move    #-6,n7
P:01D1 000000         2 110726151         nop             ; (inserted)
P:01D2 5EEF00         4 111126153         move    y:(r7+n7),a
P:01D3 0BF080 rrrrrr  6 111726161         jsr     FGetWmaMetaData_ReadWORD
                            26166 
                            26167 ; 217  |            if(i<wBufferLength)
                            26168 
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 426

M:ADDR CODE           CYCLES LINE SOURCELINE
P:01D5 045FA0         2 111926170         movec   m0,n7
P:01D6 218700         2 112126164         move    a1,y1
P:01D7 44F400 000001  3 112426187         move    #>1,x0
P:01D9 4EEF00         4 112826172         move    y:(r7+n7),y0
P:01DA 77F459 FFFFFC  3 113126173         tfr     y0,b	                #-4,n7
P:01DC 2B0000         2 113326180         move    #0,b2
P:01DD 5EEF00         4 113726178         move    y:(r7+n7),a
P:01DE 2A0000         2 113926179         move    #0,a2
P:01DF 77F40D FFFFFE  3 114226181         cmp     a,b	                #-2,n7
P:01E1 000000         2 114426181         nop             ; (inserted)
P:01E2 6EEF00         4 114826184         move    y:(r7+n7),r6
P:01E3 0AF0A1 rrrrrr  6 115426188         jge     L21
                            26189 
                            26190 ; 218  |            {
                            26191 ; 219  |                *pTmpPtr++ = wData;
                            26192 
                            26195 
                            26196 ; 220  |            }
                            26197 ; 221  |            else
                            26198 ; 222  |            {
                            26199 ; 223  |                //don't store the word into the string (but we still want to read the whol
                                  e string out)
                            26200 ; 224  |            }
                            26201 
P:01E5 4F5E00         2 115626194         move    y1,y:(r6)+
                            26203 L21:
P:01E6 20CF00         2 115826205         move    y0,b
P:01E7 200048         2 116026206         add     x0,b
P:01E8 21A600         2 116226209         move    b1,y0
P:01E9 77F451 FFFFFD  3 116526212 L22:    tfr     y0,a	                #-3,n7
P:01EB 2A0000         2 116726217         move    #0,a2
P:01EC 5FEF00         4 117126215         move    y:(r7+n7),b
P:01ED 2B0000         2 117326216         move    #0,b2
P:01EE 200005         2 117526218         cmp     b,a
P:01EF 0AF0A9 rrrrrr  6 118126219         jlt     L20
                            26220 
                            26221 ; 225  |        }
                            26222 ; 226  |        pPointer[wBufferLength-1] = 0;  //terminate the string, just in case there's no ze
                                  ro at the end.
                            26223 
                            26242 
                            26243 ; 227  |    }
                            26244 
P:01F1 77F41B FFFFFB  3 118426240         clr     b	                #-5,n7
P:01F3 000000         2 118626240         nop             ; (inserted)
P:01F4 6EEF00         4 119026227         move    y:(r7+n7),r6
P:01F5 77F400 FFFFFC  3 119326234         move    #-4,n7
P:01F7 205600         2 119526229         move    (r6)-
P:01F8 4FEF00         4 119926236         move    y:(r7+n7),y1
P:01F9 20FE00         2 120126237         move    y1,n6
P:01FA 000000         2 120326237         nop             ; (inserted)
P:01FB 5F6E00         4 120726241         move    b,y:(r6+n6)
                            26246 L23:
                            26247 
                            26248 ; 228  |
                            26249 ; 229  |}
                            26250 
P:01FC 77F400 FFFFF9  3 121026252         move    #-7,n7
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 427

M:ADDR CODE           CYCLES LINE SOURCELINE
P:01FE 000000         2 121226252         nop             ; (inserted)
P:01FF 05EF7C         4 121626254         movec   y:(r7+n7),ssh
P:0200 204F00         2 121826256         move    (r7)+n7
P:0201 00000C         4 122226258         rts
                            26265 
                            26266 ; 230  |
                            26267 ; 231  |
                            26268 ; 232  |////////////////////////////////////////////////////////////////////////////////
                            26269 ; 233  |//
                            26270 ; 234  |//>  Name:          GetWmaMetaData
                            26271 ; 235  |//
                            26272 ; 236  |//   Type:          Function
                            26273 ; 237  |//
                            26274 ; 238  |//   Description:   Finds the meta-data within a wma file.
                            26275 ; 239  |//
                            26276 ; 240  |//   Inputs:        Ptr to pathname, current device id, ptr to meta-data struct.
                            26277 ; 241  |//
                            26278 ; 242  |//   Outputs:       RETCODE
                            26279 ; 243  |//
                            26280 ; 244  |//   Notes:         none
                            26281 ; 245  |//<
                            26282 ; 246  |////////////////////////////////////////////////////////////////////////////////
                            26283 ; 247  |
                            26284 ; 248  |RETCODE _reentrant GetWmaMetaData(INT PackedPathNameAddress, INT btCurrentDevice, FILE_MET
                                  A_DATA * MetaData)
                            26285 ; 249  |{
                            26286 
                            26302 FGetWmaMetaData:
                            26318 
                            26319 ; 250  |    int     bContinue = FALSE;
                            26320 
                            26338 
                            26339 ; 251  |    int     iError;
                            26340 ; 252  |    RETCODE rtn = META_DATA_NOT_FOUND;
                            26341 
                            26355 
                            26356 ; 253  |    ASFOBJECTHEADER HeaderHeader;
                            26357 ; 254  |        GUID    TempGUID;
                            26358 ; 255  |        GUID    TempGUID2;
                            26359 ; 256  |    WORD    wObjectCount=0;
                            26360 
                            26386 
                            26387 ; 257  |    int     iHandle;
                            26388 ; 258  |    _packed BYTE * pcFilePathName = (_packed BYTE*)PackedPathNameAddress;
                            26389 ; 259  |
                            26390 ; 260  |    WORD TmpVal[3];
                            26391 ; 261  |#ifdef USE_PLAYLIST3
                            26392 ; 262  |    UCS3        *pPointer;                      // SL
                            26393 ; 263  |    WORD wBufferLength;         // SL
                            26394 ; 264  |        INT iExtendedContent = 0;       // SL
                            26395 ; 265  |
                            26396 ; 266  |        WORD pTracknum[TRACKNUM_SIZE];
                            26397 ; 267  |    WORD TracknumSize;
                            26398 ; 268  |    WORD* pTmp;
                            26399 ; 269  |
                            26400 ; 270  |#endif
                            26401 ; 271  |    // Open the file.
                            26402 ; 272  |#ifdef USE_PLAYLIST3
                            26403 ; 273  |    if (g_Rebuild == TRUE)
                            26404 
P:0202 055F7C         2 122426303         movec   ssh,y:(r7)+
P:0203 3F4C00         2 122626306         move    #76,n7
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 428

M:ADDR CODE           CYCLES LINE SOURCELINE
P:0204 260000         2 122826327         move    #0,y0
P:0205 270000         2 123026362         move    #0,y1
P:0206 204F00         2 123226308         move    (r7)+n7
P:0207 77F400 FFFFF0  3 123526322         move    #-16,n7
P:0209 000000         2 123726322         nop             ; (inserted)
P:020A 686F00         4 124126324         move    r0,y:(r7+n7)
P:020B 77F400 FFFFF1  3 124426329         move    #-15,n7
P:020D 000000         2 124626329         nop             ; (inserted)
P:020E 4E6F00         4 125026331         move    y0,y:(r7+n7)
P:020F 77F400 FFFFF2  3 125326345         move    #-14,n7
P:0211 46F400 000100  3 125626343         move    #$100,y0
P:0213 4E6F00         4 126026347         move    y0,y:(r7+n7)
P:0214 77F400 FFFFF3  3 126326364         move    #-13,n7
P:0216 46F400 000001  3 126626408         move    #>1,y0
P:0218 4F6F00         4 127026366         move    y1,y:(r7+n7)
P:0219 5EF000 rrrrrr  3 127326406         move    y:Fg_Rebuild,a
P:021B 2A0000         2 127526409         move    #0,a2
P:021C 200055         2 127726410         cmp     y0,a
P:021D 0AF0A2 rrrrrr  6 128326411         jne     L330
                            26412 
                            26413 ; 274  |        iHandle = FSFastOpen(g_FileKey,READ);
                            26414 
P:021F 5EF000 rrrrrr  3 128626416         move    y:Fg_FileKey+1,a
P:0221 58F000 rrrrrr  3 128926417         move    y:Fg_FileKey,a0
P:0223 0AF080 rrrrrr  6 129526418         jmp     L331
                            26419 
                            26420 ; 275  |    else
                            26421 ; 276  |#endif
                            26422 ; 277  |#ifdef USE_PLAYLIST3
                            26423 ; 278  |           //   iHandle = FSFileOpen(pcFilePathName, READ, btCurrentDevice);
                            26424 ; 279  |                iHandle = FSFastOpen(g_CurrentSongFastkey,READ);
                            26425 
                            26427 L330:
P:0225 5EF000 rrrrrr  3 129826427         move    y:Fg_CurrentSongFastkey+1,a
P:0227 58F000 rrrrrr  3 130126428         move    y:Fg_CurrentSongFastkey,a0
P:0229 20CF00         2 130326430 L331:   move    y0,b
P:022A 0BF080 rrrrrr  6 130926431         jsr     FFSFastOpen
                            26433 
                            26434 ; 280  |#endif
                            26435 ; 281  |#ifdef USE_PLAYLIST2
                            26436 ; 282  |   iHandle = FSFileOpen(pcFilePathName, READ, btCurrentDevice);
                            26437 ; 283  |#endif
                            26438 ; 284  |#ifdef USE_PLAYLIST5
                            26439 ; 285  |        g_CurrentFastKey = (g_PL5_PL_queue.pos + g_PL5_Playback.currentplay)->file.lFastKe
                                  y;
                            26440 ; 286  |        iHandle = FSFastOpen(g_CurrentFastKey,READ);
                            26441 ; 287  |#endif
                            26442 ; 288  |        if(iHandle != ERROR)
                            26443 
P:022C 44F400 FFFFFF  3 131226448         move    #>-1,x0
P:022E 77F445 FFFFF4  3 131526449         cmp     x0,a	                #-12,n7
P:0230 000000         2 131726449         nop             ; (inserted)
P:0231 5C6F00         4 132126447         move    a1,y:(r7+n7)
P:0232 0AF0AA rrrrrr  6 132726452         jeq     L474
                            26453 
                            26454 ; 289  |        {
                            26455 ; 290  |#ifdef USE_PLAYLIST3
                            26456 ; 291  |            if (g_Rebuild == TRUE)
                            26457 
P:0234 5FF000 rrrrrr  3 133026459         move    y:Fg_Rebuild,b
P:0236 56F400 000001  3 133326460         move    #>1,a
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 429

M:ADDR CODE           CYCLES LINE SOURCELINE
P:0238 2B0000         2 133526461         move    #0,b2
P:0239 20000D         2 133726462         cmp     a,b
P:023A 0AF0A2 rrrrrr  6 134326463         jne     L332
                            26464 
                            26465 ; 292  |                {
                            26466 ; 293  |                        filegetdate(iHandle,CREATION_DATE,&g_dirdate,&g_dirtime);
                            26467 
P:023C 60F400 rrrrrr  3 134626473         move    #Fg_dirdate,r0
P:023E 64F400 rrrrrr  3 134926474         move    #Fg_dirtime,r4
P:0240 57F400 000001  3 135226472         move    #>1,b
P:0242 5EEF00         4 135626469         move    y:(r7+n7),a
P:0243 0BF080 rrrrrr  6 136226475         jsr     Ffilegetdate
                            26478 
                            26479 ; 294  |                }
                            26480 ; 295  |#endif
                            26481 ; 296  |#ifdef SYNC_LYRICS
                            26482 ; 297  |#ifdef USE_PLAYLIST3
                            26483 ; 298  |                if (!g_Rebuild)
                            26484 
P:0245 5FF000 rrrrrr  3 136526486 L332:   move    y:Fg_Rebuild,b
P:0247 2B0000         2 136726487         move    #0,b2
P:0248 20000B         2 136926488         tst     b
P:0249 0AF0A2 rrrrrr  6 137526489         jne     L339
                            26492 
                            26493 ; 299  |#endif
                            26494 ; 300  |                {
                            26495 ; 301  |                        LYRICS_FILE_META_DATA   LyricFileMetaData;
                            26496 ; 302  |
                            26497 ; 303  |                        LyricFileMetaData.wTitle = MetaData->wTitle;
                            26498 
                            26512 
                            26513 ; 304  |                        LyricFileMetaData.iTitleBufferLength = MetaData->iTitleBufferLengt
                                  h;
                            26514 
                            26520 
                            26521 ; 305  |                        LyricFileMetaData.wArtist = MetaData->wArtist;
                            26522 
                            26533 
                            26534 ; 306  |                        LyricFileMetaData.iArtistBufferLength = MetaData->iArtistBufferLen
                                  gth;
                            26535 
                            26544 
                            26545 ; 307  |                        LyricFileMetaData.wAlbum = MetaData->wAlbum;
                            26546 
                            26555 
                            26556 ; 308  |                        LyricFileMetaData.iAlbumBufferLength = MetaData->iAlbumBufferLengt
                                  h;
                            26557 
                            26566 
                            26567 ; 309  |                        LyricFileMetaData.dwNumBytes = MetaData->dwNumBytes;
                            26568 
                            26584 
                            26585 ; 310  |
                            26586 ; 311  |                if (MetaData->wTitle)
                            26587 
P:024B 3E0300         2 137726524         move    #3,n6
P:024C 380400         2 137926559         move    #4,n0
P:024D 3B1300         2 138126570         move    #19,n3
P:024E 77F400 FFFFF0  3 138426500         move    #-16,n7
P:0250 000000         2 138626500         nop             ; (inserted)
P:0251 6BEF00         4 139026502         move    y:(r7+n7),r3
P:0252 77F400 FFFFCD  3 139326509         move    #-51,n7
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 430

M:ADDR CODE           CYCLES LINE SOURCELINE
P:0254 045B14         4 139726504         lua     (r3)+,r4
P:0255 227000         2 139926560         move    r3,r0
P:0256 6EE400         2 140126508         move    y:(r4),r6
P:0257 6E6F00         4 140526511         move    r6,y:(r7+n7)
P:0258 77F400 FFFFCC  3 140826517         move    #-52,n7
P:025A 227600         2 141026525         move    r3,r6
P:025B 4EE300         2 141226516         move    y:(r3),y0
P:025C 044E15         4 141626527         lua     (r6)+n6,r5
P:025D 3E0200         2 141826537         move    #2,n6
P:025E 4E6F00         4 142226519         move    y0,y:(r7+n7)
P:025F 6EE500         2 142426529         move    y:(r5),r6
P:0260 77F400 FFFFCF  3 142726530         move    #-49,n7
P:0262 000000         2 142926530         nop             ; (inserted)
P:0263 6E6F00         4 143326532         move    r6,y:(r7+n7)
P:0264 77F400 FFFFCE  3 143626541         move    #-50,n7
P:0266 227600         2 143826538         move    r3,r6
P:0267 204B00         2 144026572         move    (r3)+n3
P:0268 4EEE00         4 144426540         move    y:(r6+n6),y0
P:0269 3E0500         2 144626548         move    #5,n6
P:026A 4E6F00         4 145026543         move    y0,y:(r7+n7)
P:026B 77F400 FFFFD1  3 145326552         move    #-47,n7
P:026D 204E00         2 145526550         move    (r6)+n6
P:026E 58E600         2 145726551         move    y:(r6),a0
P:026F 586F00         4 146126554         move    a0,y:(r7+n7)
P:0270 77F400 FFFFD0  3 146426563         move    #-48,n7
P:0272 4EE800         4 146826562         move    y:(r0+n0),y0
P:0273 4E6F00         4 147226565         move    y0,y:(r7+n7)
P:0274 77F400 FFFFD2  3 147526577         move    #-46,n7
P:0276 205F00         2 147726578         move    (r7)+
P:0277 4EDB00         2 147926575         move    y:(r3)+,y0
P:0278 4FD300         2 148126576         move    y:(r3)-,y1
P:0279 4F6F00         4 148526580         move    y1,y:(r7+n7)
P:027A 205700         2 148726581         move    (r7)-
P:027B 4E6F00         4 149126583         move    y0,y:(r7+n7)
P:027C 5FE400         2 149326589         move    y:(r4),b
P:027D 21F00B         2 149526591         tst     b	                b,r0
P:027E 0AF0AA rrrrrr  6 150126592         jeq     L333
                            26593 
                            26594 ; 312  |                        *MetaData->wTitle = 0;
                            26595 
                            26599 
                            26600 ; 313  |                if (MetaData->wArtist)
                            26601 
P:0280 2F0000         2 150326597         move    #0,b
P:0281 5F6000         2 150526598         move    b,y:(r0)
P:0282 5FE500         2 150726603 L333:   move    y:(r5),b
P:0283 21F30B         2 150926605         tst     b	                b,r3
P:0284 0AF0AA rrrrrr  6 151526606         jeq     L334
                            26607 
                            26608 ; 314  |                        *MetaData->wArtist = 0;
                            26609 
                            26613 
                            26614 ; 315  |                if  (MetaData->wAlbum)
                            26615 
P:0286 2F0000         2 151726611         move    #0,b
P:0287 5F6300         2 151926612         move    b,y:(r3)
P:0288 5EE600         2 152126617 L334:   move    y:(r6),a
P:0289 21D303         2 152326619         tst     a	                a,r3
P:028A 0AF0AA rrrrrr  6 152926620         jeq     L335
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 431

M:ADDR CODE           CYCLES LINE SOURCELINE
                            26621 
                            26622 ; 316  |                        *MetaData->wAlbum = 0;
                            26623 
P:028C 2F0000         2 153126625         move    #0,b
P:028D 5F6300         2 153326626         move    b,y:(r3)
                            26627 L335:
                            26636 
                            26637 ; 317  |
                            26638 ; 318  |                        SysCallFunction(RSRC_LRC_CODEBANK, Mp3MetaDataReadLRC, 0, 0, (INT 
                                  *)&LyricFileMetaData);
                            26639 
P:028E 77F400 FFFFF7  3 153626627         move    #-9,n7
P:0290 60F400 rrrrrr  3 153926646         move    #FMp3MetaDataReadLRC,r0
P:0292 24001B         2 154126641         clr     b	                #0,x0
P:0293 56F400 0001F0  3 154426647         move    #$1F0,a
P:0295 6E6F00         4 154826629         move    r6,y:(r7+n7)
P:0296 77F400 FFFFF6  3 155126630         move    #-10,n7
P:0298 000000         2 155326630         nop             ; (inserted)
P:0299 6D6F00         4 155726632         move    r5,y:(r7+n7)
P:029A 77F400 FFFFF5  3 156026633         move    #-11,n7
P:029C 000000         2 156226633         nop             ; (inserted)
P:029D 6C6F00         4 156626635         move    r4,y:(r7+n7)
P:029E 77F400 FFFFCC  3 156926642         move    #-52,n7
P:02A0 000000         2 157126642         nop             ; (inserted)
P:02A1 044F14         4 157526644         lua     (r7)+n7,r4
P:02A2 0BF080 rrrrrr  6 158126648         jsr     SysCallFunction
                            26649 
                            26650 ; 319  |
                            26651 ; 320  |                // Throw the LRC metadata away
                            26652 ; 321  |                if (MetaData->wTitle)
                            26653 
P:02A4 77F400 FFFFF5  3 158426655         move    #-11,n7
P:02A6 000000         2 158626655         nop             ; (inserted)
P:02A7 6EEF00         4 159026657         move    y:(r7+n7),r6
P:02A8 000000         2 159226657         nop             ; (inserted)
P:02A9 5FE600         2 159426659         move    y:(r6),b
P:02AA 21F60B         2 159626661         tst     b	                b,r6
P:02AB 0AF0AA rrrrrr  6 160226662         jeq     L336
                            26663 
                            26664 ; 322  |                        *MetaData->wTitle = 0;
                            26665 
                            26669 
                            26670 ; 323  |                if (MetaData->wArtist)
                            26671 
P:02AD 2F0000         2 160426667         move    #0,b
P:02AE 5F6600         2 160626668         move    b,y:(r6)
P:02AF 77F400 FFFFF6  3 160926673 L336:   move    #-10,n7
P:02B1 000000         2 161126673         nop             ; (inserted)
P:02B2 6EEF00         4 161526675         move    y:(r7+n7),r6
P:02B3 000000         2 161726675         nop             ; (inserted)
P:02B4 5FE600         2 161926677         move    y:(r6),b
P:02B5 21F60B         2 162126679         tst     b	                b,r6
P:02B6 0AF0AA rrrrrr  6 162726680         jeq     L337
                            26681 
                            26682 ; 324  |                        *MetaData->wArtist = 0;
                            26683 
                            26687 
                            26688 ; 325  |                if  (MetaData->wAlbum)
                            26689 
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 432

M:ADDR CODE           CYCLES LINE SOURCELINE
P:02B8 2F0000         2 162926685         move    #0,b
P:02B9 5F6600         2 163126686         move    b,y:(r6)
P:02BA 77F400 FFFFF7  3 163426691 L337:   move    #-9,n7
P:02BC 000000         2 163626691         nop             ; (inserted)
P:02BD 6EEF00         4 164026693         move    y:(r7+n7),r6
P:02BE 000000         2 164226693         nop             ; (inserted)
P:02BF 5EE600         2 164426695         move    y:(r6),a
P:02C0 21D603         2 164626697         tst     a	                a,r6
P:02C1 0AF0AA rrrrrr  6 165226698         jeq     L339
                            26699 
                            26700 ; 326  |                        *MetaData->wAlbum = 0;
                            26701 
                            26706 
                            26707 ; 327  |                }
                            26708 ; 328  |#endif  // SYNC_LYRICS
                            26709 ; 329  |        MetaData->iFileType = (INT)WMA_TYPE;
                            26710 
P:02C3 2F0000         2 165426703         move    #0,b
P:02C4 5F6600         2 165626704         move    b,y:(r6)
                            26712 L339:
                            26721 
                            26722 ; 330  |        MetaData->iResourceNum = RSRC_WMADEC_CODE;
                            26723 
                            26728 
                            26729 ; 331  |        MetaData->bVBR = FALSE;
                            26730 
                            26738 
                            26739 ; 332  |        iError = fseek(iHandle,0,SEEK_SET);
                            26740 
P:02C5 3E1A00         2 165826712         move    #26,n6
P:02C6 3D1900         2 166026732         move    #25,n5
P:02C7 77F400 FFFFF0  3 166326713         move    #-16,n7
P:02C9 290200         2 166526717         move    #2,b0
P:02CA 6EEF00         4 166926715         move    y:(r7+n7),r6
P:02CB 22D500         2 167126716         move    r6,r5
P:02CC 44F400 FFFFFF  3 167426748         move    #>-1,x0
P:02CE 596E00         4 167826718         move    b0,y:(r6+n6)
P:02CF 3E1B00         2 168026725         move    #27,n6
P:02D0 290B00         2 168226726         move    #11,b0
P:02D1 596E1B         4 168626734         clr     b	                b0,y:(r6+n6)
P:02D2 6D6F13         4 169026747         clr     a	                r5,y:(r7+n7)
P:02D3 77F400 FFFFF4  3 169326742         move    #-12,n7
P:02D5 5F6D00         4 169726735         move    b,y:(r5+n5)
P:02D6 5FEF00         4 170126744         move    y:(r7+n7),b
P:02D7 0BF080 rrrrrr  6 170726749         jsr     Ffseek
                            26753 
                            26754 ; 333  |        //verify that that header object is there.
                            26755 ; 334  |        if(iError != -1)
                            26756 
P:02D9 45F400 FFFFFF  3 171026758         move    #>-1,x1
P:02DB 200065         2 171226759         cmp     x1,a
P:02DC 0AF0AA rrrrrr  6 171826760         jeq     L340
                            26761 
                            26762 ; 335  |        {
                            26763 ; 336  |            TempGUID.wValues[0]=ASF_HEADER_GUID_0;
                            26764 
                            26770 
                            26771 ; 337  |            TempGUID.wValues[1]=ASF_HEADER_GUID_1;
                            26772 
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 433

M:ADDR CODE           CYCLES LINE SOURCELINE
                            26778 
                            26779 ; 338  |            TempGUID.wValues[2]=ASF_HEADER_GUID_2;
                            26780 
                            26786 
                            26787 ; 339  |            TempGUID.wValues[3]=ASF_HEADER_GUID_3;
                            26788 
                            26794 
                            26795 ; 340  |            TempGUID.wValues[4]=ASF_HEADER_GUID_4;
                            26796 
                            26802 
                            26803 ; 341  |            TempGUID.wValues[5]=ASF_HEADER_GUID_5;
                            26804 
                            26810 
                            26811 ; 342  |
                            26812 ; 343  |            GetWmaMetaData_ReadObjectHeaderPrologue(iHandle,&HeaderHeader);
                            26813 
P:02DE 77F400 FFFFE2  3 172126767         move    #-30,n7
P:02E0 2D6C00         2 172326806         move    #108,b1
P:02E1 51F400 668E75  3 172626774         move    #6721141,b0
P:02E3 50F400 A611CF  3 172926782         move    #10883535,a0
P:02E5 47F400 B22630  3 173226766         move    #11675184,y1
P:02E7 46F400 AA00D9  3 173526790         move    #11141337,y0
P:02E9 44F400 CE6200  3 173826798         move    #$CE6200,x0
P:02EB 4F6F00         4 174226769         move    y1,y:(r7+n7)
P:02EC 77F400 FFFFE3  3 174526775         move    #-29,n7
P:02EE 000000         2 174726775         nop             ; (inserted)
P:02EF 596F00         4 175126777         move    b0,y:(r7+n7)
P:02F0 77F400 FFFFE4  3 175426783         move    #-28,n7
P:02F2 000000         2 175626783         nop             ; (inserted)
P:02F3 586F00         4 176026785         move    a0,y:(r7+n7)
P:02F4 77F400 FFFFE5  3 176326791         move    #-27,n7
P:02F6 000000         2 176526791         nop             ; (inserted)
P:02F7 4E6F00         4 176926793         move    y0,y:(r7+n7)
P:02F8 77F400 FFFFE6  3 177226799         move    #-26,n7
P:02FA 000000         2 177426799         nop             ; (inserted)
P:02FB 4C6F00         4 177826801         move    x0,y:(r7+n7)
P:02FC 77F400 FFFFE7  3 178126807         move    #-25,n7
P:02FE 000000         2 178326807         nop             ; (inserted)
P:02FF 5D6F00         4 178726809         move    b1,y:(r7+n7)
P:0300 77F400 FFFFF4  3 179026815         move    #-12,n7
P:0302 000000         2 179226815         nop             ; (inserted)
P:0303 4DEF00         4 179626817         move    y:(r7+n7),x1
P:0304 77F400 FFFFE8  3 179926819         move    #-24,n7
P:0306 20BD00         2 180126818         move    x1,n5
P:0307 044F16         4 180526821         lua     (r7)+n7,r6
P:0308 77F400 FFFFF5  3 180826823         move    #-11,n7
P:030A 22D000         2 181026822         move    r6,r0
P:030B 23AE00         2 181226826         move    n5,a
P:030C 7D6F00         4 181626825         move    n5,y:(r7+n7)
P:030D 0BF080 rrrrrr  6 182226828         jsr     FGetWmaMetaData_ReadObjectHeaderPrologue
                            26829 
                            26830 ; 344  |            if(GetWmaMetaData_CompareGUID(&HeaderHeader.ObjectGUID,&TempGUID))
                            26831 
P:030F 77F400 FFFFE2  3 182526833         move    #-30,n7
P:0311 000000         2 182726833         nop             ; (inserted)
P:0312 044F14         4 183126835         lua     (r7)+n7,r4
P:0313 77F400 FFFFE8  3 183426836         move    #-24,n7
P:0315 000000         2 183626836         nop             ; (inserted)
P:0316 044F10         4 184026838         lua     (r7)+n7,r0
P:0317 0BF080 rrrrrr  6 184626839         jsr     FGetWmaMetaData_CompareGUID
P:0319 200003         2 184826840         tst     a
P:031A 0AF0AA rrrrrr  6 185426841         jeq     L343
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 434

M:ADDR CODE           CYCLES LINE SOURCELINE
                            26845 
                            26846 ; 345  |            {
                            26847 ; 346  |                wObjectCount = GetWmaMetaData_ReadDWORD(iHandle);
                            26848 
P:031C 77F400 FFFFF5  3 185726842         move    #-11,n7
P:031E 000000         2 185926842         nop             ; (inserted)
P:031F 5EEF00         4 186326844         move    y:(r7+n7),a
P:0320 0BF080 rrrrrr  6 186926850         jsr     FGetWmaMetaData_ReadDWORD
                            26857 
                            26858 ; 347  |                GetWmaMetaData_ReadBYTE(iHandle);
                            26859 
P:0322 77F400 FFFFF3  3 187226851         move    #-13,n7
P:0324 000000         2 187426851         nop             ; (inserted)
P:0325 586F00         4 187826853         move    a0,y:(r7+n7)
P:0326 77F400 FFFFF5  3 188126854         move    #-11,n7
P:0328 000000         2 188326854         nop             ; (inserted)
P:0329 5EEF00         4 188726856         move    y:(r7+n7),a
P:032A 0BF080 rrrrrr  6 189326861         jsr     FGetWmaMetaData_ReadBYTE
                            26862 
                            26863 ; 348  |                if(GetWmaMetaData_ReadBYTE(iHandle)==0x02)
                            26864 
P:032C 77F400 FFFFF5  3 189626866         move    #-11,n7
P:032E 000000         2 189826866         nop             ; (inserted)
P:032F 5EEF00         4 190226868         move    y:(r7+n7),a
P:0330 0BF080 rrrrrr  6 190826869         jsr     FGetWmaMetaData_ReadBYTE
P:0332 218F00         2 191026870         move    a1,b
P:0333 46F400 000002  3 191326871         move    #>2,y0
P:0335 20005D         2 191526872         cmp     y0,b
P:0336 0AF0A2 rrrrrr  6 192126873         jne     L343
                            26874 
                            26875 ; 349  |                {
                            26876 ; 350  |                    bContinue = TRUE;
                            26877 
                            26889 
                            26890 ; 351  |                                        rtn = META_DATA_FOUND;
                            26891 
                            26898 
                            26899 ; 352  |#ifdef SYNC_LYRICS
                            26900 ; 353  |                                        Mp3DecoderStartFrameFilePosition = HeaderHeader.Ob
                                  jectSize;
                            26901 
                            26912 
                            26913 ; 354  |#endif  // SYNC_LYRICS
                            26914 ; 355  |                }
                            26915 ; 356  |            }
                            26916 ; 357  |        }
                            26917 
P:0338 77F400 FFFFF1  3 192426882         move    #-15,n7
P:033A 57F400 000001  3 192726879         move    #>1,b
P:033C 5F6F00         4 193126884         move    b,y:(r7+n7)
P:033D 77F400 FFFFF2  3 193426893         move    #-14,n7
P:033F 000000         2 193626893         nop             ; (inserted)
P:0340 586F00         4 194026895         move    a0,y:(r7+n7)
P:0341 77F400 FFFFEE  3 194326903         move    #-18,n7
P:0343 205F00         2 194526904         move    (r7)+
P:0344 5FEF00         4 194926906         move    y:(r7+n7),b
P:0345 205700         2 195126907         move    (r7)-
P:0346 59EF00         4 195526909         move    y:(r7+n7),b0
P:0347 5D7000 rrrrrr  3 195826910         move    b1,y:FMp3DecoderStartFrameFilePosition+1
P:0349 597000 rrrrrr  3 196126911         move    b0,y:FMp3DecoderStartFrameFilePosition
P:034B 0AF080 rrrrrr  6 196726919         jmp     L343
                            26920 
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 435

M:ADDR CODE           CYCLES LINE SOURCELINE
                            26921 ; 358  |        else
                            26922 ; 359  |          rtn = META_DATA_FILESEEK_ERROR;
                            26923 
                            26925 L340:
                            26933 
                            26934 ; 360  |        if(bContinue)
                            26935 
P:034D 77F400 FFFFF2  3 197026928         move    #-14,n7
P:034F 54F400 000203  3 197326925         move    #515,a1
P:0351 5C6F00         4 197726930         move    a1,y:(r7+n7)
P:0352 77F400 FFFFF1  3 198026937 L343:   move    #-15,n7
P:0354 000000         2 198226937         nop             ; (inserted)
P:0355 5FEF00         4 198626939         move    y:(r7+n7),b
P:0356 20000B         2 198826940         tst     b
P:0357 0AF0AA rrrrrr  6 199426941         jeq     L346
                            26942 
                            26943 ; 361  |        {
                            26944 ; 362  |//                      int wSize;
                            26945 ; 363  |            //we've got a header object, so lets start getting objects out of it
                            26946 ; 364  |            //first, the
                            26947 ; 365  |            TempGUID.wValues[0]=ASF_FILE_PROPERTIES_GUID_0;
                            26948 
                            26954 
                            26955 ; 366  |            TempGUID.wValues[1]=ASF_FILE_PROPERTIES_GUID_1;
                            26956 
                            26962 
                            26963 ; 367  |            TempGUID.wValues[2]=ASF_FILE_PROPERTIES_GUID_2;
                            26964 
                            26970 
                            26971 ; 368  |            TempGUID.wValues[3]=ASF_FILE_PROPERTIES_GUID_3;
                            26972 
                            26978 
                            26979 ; 369  |            TempGUID.wValues[4]=ASF_FILE_PROPERTIES_GUID_4;
                            26980 
                            26986 
                            26987 ; 370  |            TempGUID.wValues[5]=ASF_FILE_PROPERTIES_GUID_5;
                            26988 
                            26994 
                            26995 ; 371  |            if(GetWmaMetaData_FindFirstObject(iHandle,wObjectCount,&TempGUID)>0)
                            26996 
P:0359 77F400 FFFFE2  3 199726951         move    #-30,n7
P:035B 57F400 8E11CF  3 200026966         move    #9310671,b
P:035D 46F400 ABDCA1  3 200326950         move    #11263137,y0
P:035F 44F400 A9478C  3 200626958         move    #11093900,x0
P:0361 51F400 53200C  3 200926982         move    #5447692,b0
P:0363 4E6F00         4 201326953         move    y0,y:(r7+n7)
P:0364 77F400 FFFFE3  3 201626959         move    #-29,n7
P:0366 000000         2 201826959         nop             ; (inserted)
P:0367 4C6F00         4 202226961         move    x0,y:(r7+n7)
P:0368 77F400 FFFFE4  3 202526967         move    #-28,n7
P:036A 000000         2 202726967         nop             ; (inserted)
P:036B 5D6F00         4 203126969         move    b1,y:(r7+n7)
P:036C 77F400 FFFFE5  3 203426975         move    #-27,n7
P:036E 55F400 C000E4  3 203726974         move    #12583140,b1
P:0370 5D6F00         4 204126977         move    b1,y:(r7+n7)
P:0371 77F400 FFFFE6  3 204426983         move    #-26,n7
P:0373 000000         2 204626983         nop             ; (inserted)
P:0374 596F00         4 205026985         move    b0,y:(r7+n7)
P:0375 77F400 FFFFE7  3 205326991         move    #-25,n7
P:0377 296500         2 205526990         move    #101,b0
P:0378 596F00         4 205926993         move    b0,y:(r7+n7)
P:0379 77F400 FFFFF4  3 206226998         move    #-12,n7
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 436

M:ADDR CODE           CYCLES LINE SOURCELINE
P:037B 000000         2 206426998         nop             ; (inserted)
P:037C 4EEF00         4 206827000         move    y:(r7+n7),y0
P:037D 77F451 FFFFF3  3 207127010         tfr     y0,a	                #-13,n7
P:037F 000000         2 207327010         nop             ; (inserted)
P:0380 5FEF00         4 207727003         move    y:(r7+n7),b
P:0381 77F400 FFFFE2  3 208027004         move    #-30,n7
P:0383 21AF00         2 208227011         move    b1,b
P:0384 044F10         4 208627006         lua     (r7)+n7,r0
P:0385 77F400 FFFFF5  3 208927007         move    #-11,n7
P:0387 000000         2 209127007         nop             ; (inserted)
P:0388 4E6F00         4 209527009         move    y0,y:(r7+n7)
P:0389 0BF080 rrrrrr  6 210127012         jsr     FGetWmaMetaData_FindFirstObject
P:038B 2A0000         2 210327013         move    #0,a2
P:038C 200003         2 210527014         tst     a
P:038D 0AF0AF rrrrrr  6 211127015         jle     L344
                            27021 
                            27022 ; 372  |            {
                            27023 ; 373  |              // The following code should work properly, but doesn't because the Windows 
                                  Media
                            27024 ; 374  |              // Player messes up the File Size parameter (adds a 00100 to it).  Thus, we'
                                  ll use
                            27025 ; 375  |              // our own file size function.
                            27026 ; 376  |              //  fseek(iHandle,16,SEEK_CUR);//skip the FILE ID
                            27027 ; 377  |              //  MetaData->dwNumBytes = GetWmaMetaData_ReadQWORD(iHandle);
                            27028 ; 378  |                MetaData->dwNumBytes = FSFileSize(iHandle);
                            27029 
P:038F 77F400 FFFFF4  3 211427016         move    #-12,n7
P:0391 000000         2 211627016         nop             ; (inserted)
P:0392 5EEF00         4 212027018         move    y:(r7+n7),a
P:0393 0BF080 rrrrrr  6 212627031         jsr     FFSFileSize
                            27045 
                            27046 ; 379  |                MetaData->dwDataBytes = (MetaData->dwNumBytes - HeaderHeader.ObjectSize);
                            27047 
                            27066 
                            27067 ; 380  |                // Skip the File ID, the File Size, and the creation date. (16 + 8 + 8)
                            27068 ; 381  |                fseek(iHandle,32,SEEK_CUR);
                            27069 
P:0395 3E1300         2 212827034         move    #19,n6
P:0396 77F400 FFFFF0  3 213127035         move    #-16,n7
P:0398 240000         2 213327076         move    #0,x0
P:0399 6EEF00         4 213727037         move    y:(r7+n7),r6
P:039A 77F400 FFFFEE  3 214027051         move    #-18,n7
P:039C 044E15         4 214427039         lua     (r6)+n6,r5
P:039D 205F00         2 214627052         move    (r7)+
P:039E 585D00         2 214827043         move    a0,y:(r5)+
P:039F 5C6500         2 215027044         move    a1,y:(r5)
P:03A0 5FD500         2 215227049         move    y:(r5)-,b
P:03A1 4FEF00         4 215627054         move    y:(r7+n7),y1
P:03A2 59E500         2 215827050         move    y:(r5),b0
P:03A3 205700         2 216027055         move    (r7)-
P:03A4 4EEF00         4 216427057         move    y:(r7+n7),y0
P:03A5 3E153C         2 216627058         sub     y,b	                #21,n6
P:03A6 77F413 FFFFF4  3 216927077         clr     a	                #-12,n7
P:03A8 204E00         2 217127061         move    (r6)+n6
P:03A9 282000         2 217327078         move    #$20,a0
P:03AA 595E00         2 217527064         move    b0,y:(r6)+
P:03AB 5D5600         2 217727065         move    b1,y:(r6)-
P:03AC 5FEF00         4 218127073         move    y:(r7+n7),b
P:03AD 0BF080 rrrrrr  6 218727079         jsr     Ffseek
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 437

M:ADDR CODE           CYCLES LINE SOURCELINE
                            27085 
                            27086 ; 382  |
                            27087 ; 383  |                MetaData->dwNumFrames= GetWmaMetaData_ReadQWORD(iHandle);
                            27088 
P:03AF 77F400 FFFFF5  3 219027082         move    #-11,n7
P:03B1 000000         2 219227082         nop             ; (inserted)
P:03B2 5EEF00         4 219627084         move    y:(r7+n7),a
P:03B3 0BF080 rrrrrr  6 220227090         jsr     FGetWmaMetaData_ReadQWORD
                            27102 
                            27103 ; 384  |                MetaData->iTime      = GetWmaMetaData_ReadQWORD(iHandle)/10000;
                            27104 
P:03B5 3E1700         2 220427091         move    #23,n6
P:03B6 77F400 FFFFF0  3 220727092         move    #-16,n7
P:03B8 000000         2 220927092         nop             ; (inserted)
P:03B9 6EEF00         4 221327094         move    y:(r7+n7),r6
P:03BA 77F400 FFFFF5  3 221627099         move    #-11,n7
P:03BC 204E00         2 221827096         move    (r6)+n6
P:03BD 585E00         2 222027097         move    a0,y:(r6)+
P:03BE 5C5600         2 222227098         move    a1,y:(r6)-
P:03BF 5EEF00         4 222627101         move    y:(r7+n7),a
P:03C0 0BF080 rrrrrr  6 223227106         jsr     FGetWmaMetaData_ReadQWORD
P:03C2 270000         2 223427107         move    #0,y1
P:03C3 46F400 002710  3 223727108         move    #10000,y0
P:03C5 0BF080 rrrrrr  6 224327109         jsr     Rdiv_ululul
                            27121 
                            27122 ; 385  |                fseek(iHandle,8,SEEK_CUR);//skip the send duration
                            27123 
P:03C7 3E0F00         2 224527110         move    #15,n6
P:03C8 77F400 FFFFF0  3 224827111         move    #-16,n7
P:03CA 240000         2 225027130         move    #0,x0
P:03CB 6EEF00         4 225427113         move    y:(r7+n7),r6
P:03CC 77F400 FFFFF6  3 225727116         move    #-10,n7
P:03CE 204E00         2 225927115         move    (r6)+n6
P:03CF 6E6F00         4 226327118         move    r6,y:(r7+n7)
P:03D0 77F400 FFFFF4  3 226627125         move    #-12,n7
P:03D2 585E00         2 226827119         move    a0,y:(r6)+
P:03D3 5C5613         2 227027131         clr     a	                a1,y:(r6)-
P:03D4 280800         2 227227132         move    #8,a0
P:03D5 5FEF00         4 227627127         move    y:(r7+n7),b
P:03D6 0BF080 rrrrrr  6 228227133         jsr     Ffseek
                            27136 
                            27137 ; 386  |                MetaData->iTime     -= GetWmaMetaData_ReadQWORD(iHandle);//subtract off th
                                  e preroll amount
                            27138 
P:03D8 77F400 FFFFF6  3 228527140         move    #-10,n7
P:03DA 000000         2 228727140         nop             ; (inserted)
P:03DB 6EEF00         4 229127142         move    y:(r7+n7),r6
P:03DC 77F400 FFFFF7  3 229427146         move    #-9,n7
P:03DE 205F00         2 229627147         move    (r7)+
P:03DF 4EDE00         2 229827144         move    y:(r6)+,y0
P:03E0 4FD600         2 230027145         move    y:(r6)-,y1
P:03E1 4F6F00         4 230427149         move    y1,y:(r7+n7)
P:03E2 205700         2 230627150         move    (r7)-
P:03E3 4E6F00         4 231027152         move    y0,y:(r7+n7)
P:03E4 77F400 FFFFF5  3 231327153         move    #-11,n7
P:03E6 000000         2 231527153         nop             ; (inserted)
P:03E7 5EEF00         4 231927155         move    y:(r7+n7),a
P:03E8 0BF080 rrrrrr  6 232527156         jsr     FGetWmaMetaData_ReadQWORD
                            27171 
                            27172 ; 387  |                MetaData->iTime     /= 1000; //convert the time to seconds
                            27173 
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 438

M:ADDR CODE           CYCLES LINE SOURCELINE
P:03EA 77F400 FFFFF7  3 232827157         move    #-9,n7
P:03EC 205F00         2 233027158         move    (r7)+
P:03ED 5FEF00         4 233427160         move    y:(r7+n7),b
P:03EE 205700         2 233627161         move    (r7)-
P:03EF 59EF00         4 234027163         move    y:(r7+n7),b0
P:03F0 77F41C FFFFF6  3 234327164         sub     a,b	                #-10,n7
P:03F2 000000         2 234527164         nop             ; (inserted)
P:03F3 6EEF00         4 234927167         move    y:(r7+n7),r6
P:03F4 000000         2 235127167         nop             ; (inserted)
P:03F5 595E00         2 235327169         move    b0,y:(r6)+
P:03F6 5D661B         2 235527177         clr     b	                b1,y:(r6)
P:03F7 5ED600         2 235727175         move    y:(r6)-,a
P:03F8 51F400 0003E8  3 236027178         move    #1000,b0
P:03FA 58E600         2 236227176         move    y:(r6),a0
P:03FB 0BF080 rrrrrr  6 236827179         jsr     Rdiv_lll
                            27182 
                            27183 ; 388  |
                            27184 ; 389  |                TempGUID.wValues[0]=ASF_STREAM_PROPERTIES_GUID_0;
                            27185 
                            27191 
                            27192 ; 390  |                TempGUID.wValues[1]=ASF_STREAM_PROPERTIES_GUID_1;
                            27193 
                            27199 
                            27200 ; 391  |                TempGUID.wValues[2]=ASF_STREAM_PROPERTIES_GUID_2;
                            27201 
                            27207 
                            27208 ; 392  |                TempGUID.wValues[3]=ASF_STREAM_PROPERTIES_GUID_3;
                            27209 
                            27215 
                            27216 ; 393  |                TempGUID.wValues[4]=ASF_STREAM_PROPERTIES_GUID_4;
                            27217 
                            27223 
                            27224 ; 394  |                TempGUID.wValues[5]=ASF_STREAM_PROPERTIES_GUID_5;
                            27225 
                            27231 
                            27232 ; 395  |            }
                            27233 
P:03FD 77F400 FFFFE2  3 237127188         move    #-30,n7
P:03FF 51F400 8E11CF  3 237427203         move    #9310671,b0
P:0401 47F400 A9B7B7  3 237727195         move    #11122615,y1
P:0403 46F400 53200C  3 238027219         move    #5447692,y0
P:0405 44F400 000065  3 238327227         move    #>101,x0
P:0407 585E00         2 238527180         move    a0,y:(r6)+
P:0408 5C5600         2 238727181         move    a1,y:(r6)-
P:0409 56F400 DC0791  3 239027187         move    #14419857,a
P:040B 50F400 C000E6  3 239327211         move    #12583142,a0
P:040D 5C6F00         4 239727190         move    a1,y:(r7+n7)
P:040E 77F400 FFFFE3  3 240027196         move    #-29,n7
P:0410 000000         2 240227196         nop             ; (inserted)
P:0411 4F6F00         4 240627198         move    y1,y:(r7+n7)
P:0412 77F400 FFFFE4  3 240927204         move    #-28,n7
P:0414 000000         2 241127204         nop             ; (inserted)
P:0415 596F00         4 241527206         move    b0,y:(r7+n7)
P:0416 77F400 FFFFE5  3 241827212         move    #-27,n7
P:0418 000000         2 242027212         nop             ; (inserted)
P:0419 586F00         4 242427214         move    a0,y:(r7+n7)
P:041A 77F400 FFFFE6  3 242727220         move    #-26,n7
P:041C 000000         2 242927220         nop             ; (inserted)
P:041D 4E6F00         4 243327222         move    y0,y:(r7+n7)
P:041E 77F400 FFFFE7  3 243627228         move    #-25,n7
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 439

M:ADDR CODE           CYCLES LINE SOURCELINE
P:0420 000000         2 243827228         nop             ; (inserted)
P:0421 4C6F00         4 244227230         move    x0,y:(r7+n7)
P:0422 0AF080 rrrrrr  6 244827235         jmp     L346
                            27236 
                            27237 ; 396  |            else
                            27238 ; 397  |            {
                            27239 ; 398  |                bContinue = FALSE;
                            27240 
                            27242 L344:
                            27250 
                            27251 ; 399  |            }
                            27252 ; 400  |        }
                            27253 ; 401  |            //get information from the STREAM object
                            27254 ; 402  |        if(bContinue)
                            27255 
P:0424 77F400 FFFFF1  3 245127245         move    #-15,n7
P:0426 250000         2 245327242         move    #0,x1
P:0427 4D6F00         4 245727247         move    x1,y:(r7+n7)
P:0428 77F400 FFFFF1  3 246027257 L346:   move    #-15,n7
P:042A 000000         2 246227257         nop             ; (inserted)
P:042B 5FEF00         4 246627259         move    y:(r7+n7),b
P:042C 20000B         2 246827260         tst     b
P:042D 0AF0AA rrrrrr  6 247427261         jeq     L352
                            27265 
                            27266 ; 403  |        {
                            27267 ; 404  |            int wSize;
                            27268 ; 405  |            wSize = GetWmaMetaData_FindFirstObject(iHandle,wObjectCount,&TempGUID);
                            27269 
P:042F 77F400 FFFFF4  3 247727271         move    #-12,n7
P:0431 000000         2 247927271         nop             ; (inserted)
P:0432 5EEF00         4 248327273         move    y:(r7+n7),a
P:0433 21DA00         2 248527274         move    a,n2
P:0434 77F400 FFFFF3  3 248827275         move    #-13,n7
P:0436 234E00         2 249027289         move    n2,a
P:0437 4EEF00         4 249427277         move    y:(r7+n7),y0
P:0438 77F459 FFFFE2  3 249727285         tfr     y0,b	                #-30,n7
P:043A 000000         2 249927285         nop             ; (inserted)
P:043B 044F16         4 250327280         lua     (r7)+n7,r6
P:043C 77F400 FFFFF6  3 250627282         move    #-10,n7
P:043E 22D000         2 250827281         move    r6,r0
P:043F 4E6F00         4 251227284         move    y0,y:(r7+n7)
P:0440 77F400 FFFFF5  3 251527286         move    #-11,n7
P:0442 000000         2 251727286         nop             ; (inserted)
P:0443 7A6F00         4 252127288         move    n2,y:(r7+n7)
P:0444 0BF080 rrrrrr  6 252727290         jsr     FGetWmaMetaData_FindFirstObject
                            27291 
                            27292 ; 406  |            while(wSize > 0)
                            27293 
P:0446 0AF080 rrrrrr  6 253327295         jmp     L348
                            27296 L347:
                            27301 
                            27302 ; 407  |            {
                            27303 ; 408  |
                            27304 ; 409  |//                              GUID TempGUID2;
                            27305 ; 410  |                TempGUID2.wValues[0] = ASF_AUDIO_MEDIA_GUID_0;
                            27306 
                            27312 
                            27313 ; 411  |                TempGUID2.wValues[1] = ASF_AUDIO_MEDIA_GUID_1;
                            27314 
                            27320 
                            27321 ; 412  |                TempGUID2.wValues[2] = ASF_AUDIO_MEDIA_GUID_2;
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 440

M:ADDR CODE           CYCLES LINE SOURCELINE
                            27322 
                            27328 
                            27329 ; 413  |                TempGUID2.wValues[3] = ASF_AUDIO_MEDIA_GUID_3;
                            27330 
                            27336 
                            27337 ; 414  |                TempGUID2.wValues[4] = ASF_AUDIO_MEDIA_GUID_4;
                            27338 
                            27344 
                            27345 ; 415  |                TempGUID2.wValues[5] = ASF_AUDIO_MEDIA_GUID_5;
                            27346 
                            27352 
                            27353 ; 416  |
                            27354 ; 417  |                FSFileRead(16,iHandle,MEM_SPACE_Y,-1,(void*)&TempGUID);
                            27355 
P:0448 77F400 FFFFF7  3 253627296         move    #-9,n7
P:044A 56F400 000010  3 253927365         move    #>16,a
P:044C 46F400 699E40  3 254227308         move    #6921792,y0
P:044E 44F400 8000FD  3 254527332         move    #8388861,x0
P:0450 5D6F00         4 254927298         move    b1,y:(r7+n7)
P:0451 77F400 FFFFDC  3 255227309         move    #-36,n7
P:0453 57F400 5B4DF8  3 255527316         move    #5983736,b
P:0455 4E6F00         4 255927311         move    y0,y:(r7+n7)
P:0456 77F400 FFFFDD  3 256227317         move    #-35,n7
P:0458 51F400 A811CF  3 256527324         move    #11014607,b0
P:045A 46F400 445C5F  3 256827340         move    #4480095,y0
P:045C 5D6F00         4 257227319         move    b1,y:(r7+n7)
P:045D 77F400 FFFFDE  3 257527325         move    #-34,n7
P:045F 000000         2 257727325         nop             ; (inserted)
P:0460 596F00         4 258127327         move    b0,y:(r7+n7)
P:0461 77F400 FFFFDF  3 258427333         move    #-33,n7
P:0463 292B00         2 258627348         move    #43,b0
P:0464 4C6F00         4 259027335         move    x0,y:(r7+n7)
P:0465 77F400 FFFFE0  3 259327341         move    #-32,n7
P:0467 244000         2 259527367         move    #<$40,x0
P:0468 4E6F00         4 259927343         move    y0,y:(r7+n7)
P:0469 77F400 FFFFE1  3 260227349         move    #-31,n7
P:046B 46F400 FFFFFF  3 260527366         move    #>-1,y0
P:046D 596F00         4 260927351         move    b0,y:(r7+n7)
P:046E 77F400 FFFFE2  3 261227357         move    #-30,n7
P:0470 000000         2 261427357         nop             ; (inserted)
P:0471 044F10         4 261827359         lua     (r7)+n7,r0
P:0472 77F400 FFFFF4  3 262127360         move    #-12,n7
P:0474 000000         2 262327360         nop             ; (inserted)
P:0475 5FEF00         4 262727362         move    y:(r7+n7),b
P:0476 0BF080 rrrrrr  6 263327368         jsr     FFSFileRead
                            27371 
                            27372 ; 418  |                if(GetWmaMetaData_CompareGUID(&TempGUID,&TempGUID2))
                            27373 
P:0478 77F400 FFFFDC  3 263627375         move    #-36,n7
P:047A 000000         2 263827375         nop             ; (inserted)
P:047B 044F14         4 264227377         lua     (r7)+n7,r4
P:047C 77F400 FFFFE2  3 264527378         move    #-30,n7
P:047E 000000         2 264727378         nop             ; (inserted)
P:047F 044F10         4 265127380         lua     (r7)+n7,r0
P:0480 0BF080 rrrrrr  6 265727381         jsr     FGetWmaMetaData_CompareGUID
P:0482 77F403 FFFFF7  3 266027382         tst     a	                #-9,n7
P:0484 46F400 000010  3 266327388         move    #>16,y0
P:0486 5FEF00         4 266727385         move    y:(r7+n7),b
P:0487 0AF0A2 rrrrrr  6 267327389         jne     L349
                            27390 
                            27391 ; 419  |                {
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 441

M:ADDR CODE           CYCLES LINE SOURCELINE
                            27392 ; 420  |                    break;
                            27393 ; 421  |                }
                            27394 ; 422  |                //seek to the next object
                            27395 ; 423  |                fseek(iHandle,wSize-16,SEEK_CUR);
                            27396 
P:0489 77F45C FFFFF4  3 267627398         sub     y0,b	                #-12,n7
P:048B 240000         2 267827407         move    #0,x0
P:048C 216E00         2 268027400         move    b2,a
P:048D 21A800         2 268227401         move    b1,a0
P:048E 5FEF00         4 268627404         move    y:(r7+n7),b
P:048F 0BF080 rrrrrr  6 269227408         jsr     Ffseek
                            27420 
                            27421 ; 424  |                wSize = GetWmaMetaData_FindNextObject(iHandle,wObjectCount,&TempGUID);
                            27422 
P:0491 77F400 FFFFE2  3 269527411         move    #-30,n7
P:0493 000000         2 269727411         nop             ; (inserted)
P:0494 044F10         4 270127413         lua     (r7)+n7,r0
P:0495 77F400 FFFFF6  3 270427414         move    #-10,n7
P:0497 000000         2 270627414         nop             ; (inserted)
P:0498 5FEF00         4 271027416         move    y:(r7+n7),b
P:0499 77F400 FFFFF5  3 271327417         move    #-11,n7
P:049B 000000         2 271527417         nop             ; (inserted)
P:049C 5EEF00         4 271927419         move    y:(r7+n7),a
P:049D 0BF080 rrrrrr  6 272527424         jsr     FGetWmaMetaData_FindNextObject
                            27425 L348:
P:049F 200009         2 272727425         tfr     a,b
P:04A0 212F00         2 272927426         move    b0,b
P:04A1 20000B         2 273127429         tst     b
P:04A2 0AF0A7 rrrrrr  6 273727430         jgt     L347
                            27431 
                            27432 ; 425  |            }
                            27433 ; 426  |            if(wSize > 0)
                            27434 
P:04A4 20000B         2 273927436 L349:   tst     b
P:04A5 0AF0AF rrrrrr  6 274527437         jle     L350
                            27438 
                            27439 ; 427  |            {//wSize will be positive when we've found our stream
                            27440 ; 428  |                iError = fseek(iHandle,16+8+4+4+2+4+2+2,SEEK_CUR);//skip past error correc
                                  tion type, time offset, type specific data length(since we know what
                            27441 
P:04A7 77F413 FFFFF4  3 274827450         clr     a	                #-12,n7
P:04A9 240000         2 275027449         move    #0,x0
P:04AA 282A00         2 275227451         move    #42,a0
P:04AB 5FEF00         4 275627445         move    y:(r7+n7),b
P:04AC 0BF080 rrrrrr  6 276227452         jsr     Ffseek
                            27458 
                            27459 ; 429  |                                                        //it is),error correction data len
                                  gth, flags, reserved
                            27460 ; 430  |                                                        //plus parts of the codec specific
                                   data (codec,channels)
                            27461 ; 431  |                MetaData->wSampRate= GetWmaMetaData_ReadDWORD(iHandle);
                            27462 
P:04AE 77F400 FFFFF5  3 276527455         move    #-11,n7
P:04B0 000000         2 276727455         nop             ; (inserted)
P:04B1 5EEF00         4 277127457         move    y:(r7+n7),a
P:04B2 0BF080 rrrrrr  6 277727464         jsr     FGetWmaMetaData_ReadDWORD
                            27471 
                            27472 ; 432  |                MetaData->wBitRate = GetWmaMetaData_ReadDWORD(iHandle)*8;
                            27473 
P:04B4 3E0C00         2 277927465         move    #12,n6
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 442

M:ADDR CODE           CYCLES LINE SOURCELINE
P:04B5 77F400 FFFFF0  3 278227466         move    #-16,n7
P:04B7 000000         2 278427466         nop             ; (inserted)
P:04B8 6EEF00         4 278827468         move    y:(r7+n7),r6
P:04B9 77F400 FFFFF5  3 279127475         move    #-11,n7
P:04BB 586E00         4 279527470         move    a0,y:(r6+n6)
P:04BC 5EEF00         4 279927477         move    y:(r7+n7),a
P:04BD 0BF080 rrrrrr  6 280527478         jsr     FGetWmaMetaData_ReadDWORD
P:04BF 200032         2 280727481         asl     a
P:04C0 200032         2 280927481         asl     a
P:04C1 200032         2 281127481         asl     a
                            27483 L478:
                            27491 
                            27492 ; 433  |            }
                            27493 
P:04C2 3E0E00         2 281327485         move    #14,n6
P:04C3 77F400 FFFFF0  3 281627486         move    #-16,n7
P:04C5 000000         2 281827486         nop             ; (inserted)
P:04C6 6EEF00         4 282227488         move    y:(r7+n7),r6
P:04C7 000000         2 282427488         nop             ; (inserted)
P:04C8 586E00         4 282827490         move    a0,y:(r6+n6)
P:04C9 0AF080 rrrrrr  6 283427495         jmp     L352
                            27496 
                            27497 ; 434  |            else
                            27498 ; 435  |            {
                            27499 ; 436  |                bContinue = FALSE;
                            27500 
                            27502 L350:
                            27511 
                            27512 ; 437  |            }
                            27513 ; 438  |        }
                            27514 ; 439  |            //now get the song information, etc.
                            27515 ; 440  |        if(bContinue)
                            27516 
P:04CB 77F400 FFFFF1  3 283727505         move    #-15,n7
P:04CD 000000         2 283927505         nop             ; (inserted)
P:04CE 596F00         4 284327507         move    b0,y:(r7+n7)
                            27518 L352:
P:04CF 77F400 FFFFF1  3 284627518         move    #-15,n7
P:04D1 000000         2 284827518         nop             ; (inserted)
P:04D2 5FEF00         4 285227520         move    y:(r7+n7),b
P:04D3 20000B         2 285427521         tst     b
P:04D4 0AF0AA rrrrrr  6 286027524         jeq     L472
                            27534 
                            27535 ; 441  |        {
                            27536 ; 442  |                        int i;
                            27537 ; 443  |                        int wContentDescriptorCount;
                            27538 ; 444  |                        UCS3 sDescriptorName[24];
                            27539 ; 445  |                        int wDescriptorNameLength;
                            27540 ; 446  |
                            27541 ; 447  |            TempGUID.wValues[0]=ASF_CONTENT_DESCRIPTION_GUID_0;
                            27542 
                            27548 
                            27549 ; 448  |            TempGUID.wValues[1]=ASF_CONTENT_DESCRIPTION_GUID_1;
                            27550 
                            27556 
                            27557 ; 449  |            TempGUID.wValues[2]=ASF_CONTENT_DESCRIPTION_GUID_2;
                            27558 
                            27564 
                            27565 ; 450  |            TempGUID.wValues[3]=ASF_CONTENT_DESCRIPTION_GUID_3;
                            27566 
                            27572 
                            27573 ; 451  |            TempGUID.wValues[4]=ASF_CONTENT_DESCRIPTION_GUID_4;
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 443

M:ADDR CODE           CYCLES LINE SOURCELINE
                            27574 
                            27580 
                            27581 ; 452  |            TempGUID.wValues[5]=ASF_CONTENT_DESCRIPTION_GUID_5;
                            27582 
                            27588 
                            27589 ; 453  |            if(GetWmaMetaData_FindFirstObject(iHandle,wObjectCount,&TempGUID)>0)
                            27590 
P:04D6 77F400 FFFFE2  3 286327545         move    #-30,n7
P:04D8 296C00         2 286527584         move    #108,b0
P:04D9 50F400 B22633  3 286827544         move    #11675187,a0
P:04DB 55F400 AA00D9  3 287127568         move    #11141337,b1
P:04DD 54F400 CE6200  3 287427576         move    #$CE6200,a1
P:04DF 46F400 668E75  3 287727552         move    #6721141,y0
P:04E1 44F400 A611CF  3 288027560         move    #10883535,x0
P:04E3 586F00         4 288427547         move    a0,y:(r7+n7)
P:04E4 77F400 FFFFE3  3 288727553         move    #-29,n7
P:04E6 000000         2 288927553         nop             ; (inserted)
P:04E7 4E6F00         4 289327555         move    y0,y:(r7+n7)
P:04E8 77F400 FFFFE4  3 289627561         move    #-28,n7
P:04EA 000000         2 289827561         nop             ; (inserted)
P:04EB 4C6F00         4 290227563         move    x0,y:(r7+n7)
P:04EC 77F400 FFFFE5  3 290527569         move    #-27,n7
P:04EE 000000         2 290727569         nop             ; (inserted)
P:04EF 5D6F00         4 291127571         move    b1,y:(r7+n7)
P:04F0 77F400 FFFFE6  3 291427577         move    #-26,n7
P:04F2 000000         2 291627577         nop             ; (inserted)
P:04F3 5C6F00         4 292027579         move    a1,y:(r7+n7)
P:04F4 77F400 FFFFE7  3 292327585         move    #-25,n7
P:04F6 000000         2 292527585         nop             ; (inserted)
P:04F7 596F00         4 292927587         move    b0,y:(r7+n7)
P:04F8 77F400 FFFFF4  3 293227592         move    #-12,n7
P:04FA 000000         2 293427592         nop             ; (inserted)
P:04FB 4FEF00         4 293827594         move    y:(r7+n7),y1
P:04FC 77F400 FFFFF3  3 294127596         move    #-13,n7
P:04FE 20FE00         2 294327595         move    y1,n6
P:04FF 5FEF00         4 294727598         move    y:(r7+n7),b
P:0500 77F400 FFFFE2  3 295027601         move    #-30,n7
P:0502 23CE00         2 295227613         move    n6,a
P:0503 044F16         4 295627603         lua     (r7)+n7,r6
P:0504 77F400 FFFFF6  3 295927604         move    #-10,n7
P:0506 22D000         2 296127609         move    r6,r0
P:0507 5D6F00         4 296527606         move    b1,y:(r7+n7)
P:0508 77F400 FFFFF5  3 296827610         move    #-11,n7
P:050A 21AF00         2 297027614         move    b1,b
P:050B 7E6F00         4 297427612         move    n6,y:(r7+n7)
P:050C 0BF080 rrrrrr  6 298027615         jsr     FGetWmaMetaData_FindFirstObject
P:050E 2A0000         2 298227616         move    #0,a2
P:050F 200003         2 298427617         tst     a
P:0510 0AF0AF rrrrrr  6 299027618         jle     L442
                            27622 
                            27623 ; 454  |            {
                            27624 ; 455  |                int wTitleLength = GetWmaMetaData_ReadWORD(iHandle)/2;
                            27625 
P:0512 77F400 FFFFF5  3 299327627         move    #-11,n7
P:0514 000000         2 299527627         nop             ; (inserted)
P:0515 5EEF00         4 299927629         move    y:(r7+n7),a
P:0516 0BF080 rrrrrr  6 300527630         jsr     FGetWmaMetaData_ReadWORD
                            27638 
                            27639 ; 456  |                int wArtistLength = GetWmaMetaData_ReadWORD(iHandle)/2;
                            27640 
P:0518 77F423 FFFFF7  3 300827631         lsr     a	                #-9,n7
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 444

M:ADDR CODE           CYCLES LINE SOURCELINE
P:051A 000000         2 301027631         nop             ; (inserted)
P:051B 5C6F00         4 301427634         move    a1,y:(r7+n7)
P:051C 77F400 FFFFF5  3 301727642         move    #-11,n7
P:051E 000000         2 301927642         nop             ; (inserted)
P:051F 5EEF00         4 302327644         move    y:(r7+n7),a
P:0520 0BF080 rrrrrr  6 302927645         jsr     FGetWmaMetaData_ReadWORD
                            27651 
                            27652 ; 457  |
                            27653 ; 458  |                fseek(iHandle,2+2+2,SEEK_CUR);//seek passed Copyright Length, Description 
                                  Length, Rating Length
                            27654 
P:0522 77F423 FFFFF8  3 303227646         lsr     a	                #-8,n7
P:0524 240000         2 303427661         move    #0,x0
P:0525 5C6F13         4 303827662         clr     a	                a1,y:(r7+n7)
P:0526 77F400 FFFFF4  3 304127656         move    #-12,n7
P:0528 280600         2 304327663         move    #6,a0
P:0529 5FEF00         4 304727658         move    y:(r7+n7),b
P:052A 0BF080 rrrrrr  6 305327664         jsr     Ffseek
                            27667 
                            27668 ; 459  |
                            27669 ; 460  |                GetWmaMetaData_ReadString(iHandle, MetaData->wTitle,MetaData->iTitleBuffer
                                  Length,wTitleLength);
                            27670 
P:052C 77F400 FFFFF0  3 305627672         move    #-16,n7
P:052E 000000         2 305827672         nop             ; (inserted)
P:052F 6EEF00         4 306227674         move    y:(r7+n7),r6
P:0530 77F400 FFFFF7  3 306527683         move    #-9,n7
P:0532 205E00         2 306727676         move    (r6)+
P:0533 68D600         2 306927677         move    y:(r6)-,r0
P:0534 4CEF00         4 307327685         move    y:(r7+n7),x0
P:0535 77F400 FFFFF5  3 307627689         move    #-11,n7
P:0537 5FE600         2 307827680         move    y:(r6),b
P:0538 5EEF00         4 308227691         move    y:(r7+n7),a
P:0539 0BF080 rrrrrr  6 308827692         jsr     FGetWmaMetaData_ReadString
                            27693 
                            27694 ; 461  |                GetWmaMetaData_ReadString(iHandle, MetaData->wArtist,MetaData->iArtistBuff
                                  erLength,wArtistLength);
                            27695 
P:053B 3E0300         2 309027697         move    #3,n6
P:053C 77F400 FFFFF0  3 309327698         move    #-16,n7
P:053E 000000         2 309527698         nop             ; (inserted)
P:053F 6EEF00         4 309927700         move    y:(r7+n7),r6
P:0540 77F400 FFFFF8  3 310227710         move    #-8,n7
P:0542 68EE00         4 310627702         move    y:(r6+n6),r0
P:0543 3E0200         2 310827705         move    #2,n6
P:0544 4CEF00         4 311227712         move    y:(r7+n7),x0
P:0545 77F400 FFFFF5  3 311527716         move    #-11,n7
P:0547 5FEE00         4 311927707         move    y:(r6+n6),b
P:0548 5EEF00         4 312327718         move    y:(r7+n7),a
P:0549 0BF080 rrrrrr  6 312927719         jsr     FGetWmaMetaData_ReadString
                            27720 
                            27721 ; 462  |#ifdef USE_PLAYLIST3
                            27722 ; 463  |                                // added start, SL
                            27723 ; 464  |                                // Clear the bit field
                            27724 ; 465  |                                iExtendedContent = 0;
                            27725 
                            27729 
                            27730 ; 466  |                                if (MetaData->wAlbum)
                            27731 
P:054B 3B0500         2 313127733         move    #5,n3
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 445

M:ADDR CODE           CYCLES LINE SOURCELINE
P:054C 77F400 FFFFF0  3 313427734         move    #-16,n7
P:054E 2D0000         2 313627727         move    #0,b1
P:054F 6BEF00         4 314027736         move    y:(r7+n7),r3
P:0550 000000         2 314227736         nop             ; (inserted)
P:0551 044B14         4 314627738         lua     (r3)+n3,r4
P:0552 5EEB00         4 315027741         move    y:(r3+n3),a
P:0553 21D603         2 315227743         tst     a	                a,r6
P:0554 0AF0AA rrrrrr  6 315827744         jeq     L353
                            27745 
                            27746 ; 467  |                                        iExtendedContent |= (1 << EXTENDED_CONTENT_BIT_ALB
                                  UM);
                            27747 
                            27750 
                            27751 ; 468  |                                if (MetaData->wGenre)
                            27752 
P:0556 2D0100         2 316027749         move    #1,b1
                            27754 L353:
P:0557 227600         2 316227755         move    r3,r6
P:0558 46F400 000007  3 316527754         move    #>7,y0
P:055A 20DE00         2 316727756         move    y0,n6
P:055B 000000         2 316927756         nop             ; (inserted)
P:055C 044E15         4 317327758         lua     (r6)+n6,r5
P:055D 227600         2 317527759         move    r3,r6
P:055E 000000         2 317727759         nop             ; (inserted)
P:055F 5EEE00         4 318127761         move    y:(r6+n6),a
P:0560 21D603         2 318327763         tst     a	                a,r6
P:0561 0AF0AA rrrrrr  6 318927764         jeq     L354
                            27765 
                            27766 ; 469  |                                        iExtendedContent |= (1 << EXTENDED_CONTENT_BIT_GEN
                                  RE);
                            27767 
                            27770 
                            27771 ; 470  |                                if (MetaData->wYear)
                            27772 
P:0563 0ACD61         4 319327769         bset    #1,b1
                            27774 L354:
P:0564 227000         2 319527779         move    r3,r0
P:0565 227600         2 319727775         move    r3,r6
P:0566 44F400 000009  3 320027774         move    #>9,x0
P:0568 209E00         2 320227776         move    x0,n6
P:0569 209800         2 320427780         move    x0,n0
P:056A 000000         2 320627780         nop             ; (inserted)
P:056B 5EE800         4 321027782         move    y:(r0+n0),a
P:056C 204E03         2 321227784         tst     a	                (r6)+n6
P:056D 21DE00         2 321427783         move    a,n6
P:056E 0AF0AA rrrrrr  6 322027785         jeq     L355
                            27786 
                            27787 ; 471  |                                        iExtendedContent |= (1 << EXTENDED_CONTENT_BIT_YEA
                                  R);
                            27788 
                            27791 
                            27792 ; 472  |
                            27793 ; 473  |                                iExtendedContent |= (1 << EXTENDED_CONTENT_BIT_TRACKNUM);
                            27794 
P:0570 0ACD62         4 322427790         bset    #2,b1
                            27796 L355:
                            27800 
                            27801 ; 474  |
                            27802 ; 475  |#ifdef JPEG_ALBUM_ART
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 446

M:ADDR CODE           CYCLES LINE SOURCELINE
                            27803 ; 476  |                                if (!g_Rebuild)
                            27804 ; 477  |                                        iExtendedContent |= (1 << EXTENDED_CONTENT_BIT_ALB
                                  UMART);
                            27805 ; 478  |#endif
                            27806 ; 479  |#ifdef SYNC_LYRICS
                            27807 ; 480  |                                if (!g_Rebuild)
                            27808 
P:0571 0ACD65         4 322827796         bset    #5,b1
P:0572 5EF000 rrrrrr  3 323127810         move    y:Fg_Rebuild,a
P:0574 2A0000         2 323327811         move    #0,a2
P:0575 21AF03         2 323527812         tst     a	                b1,b
P:0576 0AF0A2 rrrrrr  6 324127813         jne     L356
                            27814 
                            27815 ; 481  |                                        iExtendedContent |= (1 << EXTENDED_CONTENT_BIT_LYR
                                  ICS);
                            27816 
P:0578 0ACD64         4 324527818         bset    #4,b1
                            27819 L356:
                            27833 
                            27834 ; 482  |#endif
                            27835 ; 483  |                                // If the corresponding bit is set, i.e. the corresponding
                                   is need to update
                            27836 ; 484  |                                pPointer = NULL;
                            27837 
                            27844 
                            27845 ; 485  |                                wBufferLength = 0;
                            27846 
                            27855 
                            27856 ; 486  |                                // added end, SL
                            27857 ; 487  |#endif
                            27858 ; 488  |                //Find the album information
                            27859 ; 489  |#ifndef USE_PLAYLIST3
                            27860 ; 490  |                if(MetaData->wAlbum)
                            27861 ; 491  |#else
                            27862 ; 492  |#ifdef JPEG_ALBUM_ART
                            27863 ; 493  |                                if(bPicOnlyFlag == TRUE)
                            27864 ; 494  |                                {
                            27865 ; 495  |                                        TempGUID.wValues[0]=ASF_EXTENDED_CONTENT_GUID_0;
                            27866 ; 496  |                                        TempGUID.wValues[1]=ASF_EXTENDED_CONTENT_GUID_1;
                            27867 ; 497  |                                        TempGUID.wValues[2]=ASF_EXTENDED_CONTENT_GUID_2;
                            27868 ; 498  |                                        TempGUID.wValues[3]=ASF_EXTENDED_CONTENT_GUID_3;
                            27869 ; 499  |                                        TempGUID.wValues[4]=ASF_EXTENDED_CONTENT_GUID_4;
                            27870 ; 500  |                                        TempGUID.wValues[5]=ASF_EXTENDED_CONTENT_GUID_5;
                            27871 ; 501  |                                        if(GetWmaMetaData_FindFirstObject(iHandle,wObjectC
                                  ount,&TempGUID)>0)
                            27872 ; 502  |                                        {
                            27873 ; 503  |//                                              int i;
                            27874 ; 504  |//                                              int wContentDescriptorCount ;
                            27875 ; 505  |//                                              UCS3 sDescriptorName[15];
                            27876 ; 506  |                                                wContentDescriptorCount = GetWmaMetaData_R
                                  eadWORD(iHandle);
                            27877 ; 507  |                                                for(i=0;i<wContentDescriptorCount;i++)
                            27878 ; 508  |                                                {
                            27879 ; 509  |                                                        int wDescriptorNameLength = GetWma
                                  MetaData_ReadWORD(iHandle)/2;
                            27880 ; 510  |                                                        GetWmaMetaData_ReadString(iHandle,
                                   sDescriptorName, 14,wDescriptorNameLength);
                            27881 ; 511  |                                                        // added start, SL
                            27882 ; 512  |                                                        if (sDescriptorName[ 0]=='W' &&
                            27883 ; 513  |                                                                sDescriptorName[ 1]=='M' &
                                  &
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 447

M:ADDR CODE           CYCLES LINE SOURCELINE
                            27884 ; 514  |                                                                sDescriptorName[ 2]=='/' &
                                  &
                            27885 ; 515  |                                                                sDescriptorName[ 3]=='P' &
                                  &
                            27886 ; 516  |                                                                sDescriptorName[ 4]=='i' &
                                  &
                            27887 ; 517  |                                                                sDescriptorName[ 5]=='c' &
                                  &
                            27888 ; 518  |                                                                sDescriptorName[ 6]=='t' &
                                  &
                            27889 ; 519  |                                                                sDescriptorName[ 7]=='u' &
                                  &
                            27890 ; 520  |                                                                sDescriptorName[ 8]=='r' &
                                  &
                            27891 ; 521  |                                                                sDescriptorName[ 9]=='e')
                            27892 ; 522  |                                                        {
                            27893 ; 523  |                                                                fseek(iHandle, 2, SEEK_CUR
                                  );//seek past the data type
                            27894 ; 524  |                                                                wDescriptorNameLength = Ge
                                  tWmaMetaData_ReadWORD(iHandle);
                            27895 ; 525  |                                                                // Extract WM Picture
                            27896 ; 526  |                                                                SysCallFunction(RSRC_APIC_
                                  FRAME_CODEBANK, ApicReadObject, iHandle, wDescriptorNameLength, NULL);
                            27897 ; 527  |                                                                break;
                            27898 ; 528  |                                                        } else {
                            27899 ; 529  |                                                                // Skip over this extended
                                   content descriptor
                            27900 ; 530  |                                                                fseek(iHandle,2,SEEK_CUR);
                                          //seek past the data type
                            27901 ; 531  |                                                                // get the descriptor valu
                                  e length, and skip past it
                            27902 ; 532  |                                                                fseek(iHandle, GetWmaMetaD
                                  ata_ReadWORD(iHandle), SEEK_CUR);
                            27903 ; 533  |                                                        }
                            27904 ; 534  |                                                }
                            27905 ; 535  |                                        }
                            27906 ; 536  |                                }else if(iExtendedContent)
                            27907 ; 537  |#endif
                            27908 ; 538  |                if(iExtendedContent)    // SL
                            27909 
P:0579 260013         2 324727839         clr     a	                #0,y0
P:057A 77F40B FFFFF7  3 325027914         tst     b	                #-9,n7
P:057C 000000         2 325227914         nop             ; (inserted)
P:057D 6C6F00         4 325627821         move    r4,y:(r7+n7)
P:057E 77F400 FFFFF8  3 325927822         move    #-8,n7
P:0580 000000         2 326127822         nop             ; (inserted)
P:0581 6D6F00         4 326527824         move    r5,y:(r7+n7)
P:0582 77F400 FFFFF9  3 326827825         move    #-7,n7
P:0584 000000         2 327027825         nop             ; (inserted)
P:0585 6E6F00         4 327427827         move    r6,y:(r7+n7)
P:0586 77F400 FFFFF0  3 327727828         move    #-16,n7
P:0588 000000         2 327927828         nop             ; (inserted)
P:0589 6B6F00         4 328327830         move    r3,y:(r7+n7)
P:058A 77F400 FFFFFB  3 328627840         move    #-5,n7
P:058C 000000         2 328827840         nop             ; (inserted)
P:058D 5C6F00         4 329227842         move    a1,y:(r7+n7)
P:058E 77F400 FFFFFC  3 329527850         move    #-4,n7
P:0590 000000         2 329727850         nop             ; (inserted)
P:0591 4E6F00         4 330127852         move    y0,y:(r7+n7)
P:0592 77F400 FFFFFA  3 330427911         move    #-6,n7
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 448

M:ADDR CODE           CYCLES LINE SOURCELINE
P:0594 000000         2 330627911         nop             ; (inserted)
P:0595 5D6F00         4 331027913         move    b1,y:(r7+n7)
P:0596 0AF0AA rrrrrr  6 331627917         jeq     L442
                            27918 
                            27919 ; 539  |#endif
                            27920 ; 540  |                {
                            27921 ; 541  |                    TempGUID.wValues[0]=ASF_EXTENDED_CONTENT_GUID_0;
                            27922 
                            27928 
                            27929 ; 542  |                    TempGUID.wValues[1]=ASF_EXTENDED_CONTENT_GUID_1;
                            27930 
                            27936 
                            27937 ; 543  |                    TempGUID.wValues[2]=ASF_EXTENDED_CONTENT_GUID_2;
                            27938 
                            27944 
                            27945 ; 544  |                    TempGUID.wValues[3]=ASF_EXTENDED_CONTENT_GUID_3;
                            27946 
                            27952 
                            27953 ; 545  |                    TempGUID.wValues[4]=ASF_EXTENDED_CONTENT_GUID_4;
                            27954 
                            27960 
                            27961 ; 546  |                    TempGUID.wValues[5]=ASF_EXTENDED_CONTENT_GUID_5;
                            27962 
                            27977 
                            27978 ; 547  |                    if(GetWmaMetaData_FindFirstObject(iHandle,wObjectCount,&TempGUID)>0)
                            27979 
P:0598 77F400 FFFFE2  3 331927925         move    #-30,n7
P:059A 55F400 E307D2  3 332227932         move    #14878674,b1
P:059C 54F400 9711D2  3 332527940         move    #9900498,a1
P:059E 44F400 D0A440  3 332827924         move    #13673536,x0
P:05A0 46F400 A000F0  3 333127948         move    #10486000,y0
P:05A2 4C6F00         4 333527927         move    x0,y:(r7+n7)
P:05A3 77F400 FFFFE3  3 333827933         move    #-29,n7
P:05A5 44F400 A85EC9  3 334127956         move    #11034313,x0
P:05A7 5D6F00         4 334527935         move    b1,y:(r7+n7)
P:05A8 77F400 FFFFE4  3 334827941         move    #-28,n7
P:05AA 2D5000         2 335027964         move    #80,b1
P:05AB 5C6F00         4 335427943         move    a1,y:(r7+n7)
P:05AC 77F400 FFFFE5  3 335727949         move    #-27,n7
P:05AE 000000         2 335927949         nop             ; (inserted)
P:05AF 4E6F00         4 336327951         move    y0,y:(r7+n7)
P:05B0 77F400 FFFFE6  3 336627957         move    #-26,n7
P:05B2 000000         2 336827957         nop             ; (inserted)
P:05B3 4C6F00         4 337227959         move    x0,y:(r7+n7)
P:05B4 77F400 FFFFE7  3 337527965         move    #-25,n7
P:05B6 000000         2 337727965         nop             ; (inserted)
P:05B7 5D6F00         4 338127967         move    b1,y:(r7+n7)
P:05B8 77F400 FFFFF6  3 338427968         move    #-10,n7
P:05BA 000000         2 338627968         nop             ; (inserted)
P:05BB 5FEF00         4 339027970         move    y:(r7+n7),b
P:05BC 77F400 FFFFE2  3 339327971         move    #-30,n7
P:05BE 000000         2 339527971         nop             ; (inserted)
P:05BF 044F10         4 339927973         lua     (r7)+n7,r0
P:05C0 77F400 FFFFF5  3 340227974         move    #-11,n7
P:05C2 000000         2 340427974         nop             ; (inserted)
P:05C3 5EEF00         4 340827976         move    y:(r7+n7),a
P:05C4 0BF080 rrrrrr  6 341427981         jsr     FGetWmaMetaData_FindFirstObject
P:05C6 2A0000         2 341627982         move    #0,a2
P:05C7 200003         2 341827983         tst     a
P:05C8 0AF0AF rrrrrr  6 342427984         jle     L442
                            27988 
                            27989 ; 548  |                    {
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 449

M:ADDR CODE           CYCLES LINE SOURCELINE
                            27990 ; 549  |//                                              int i;
                            27991 ; 550  |//                                              int wContentDescriptorCount ;
                            27992 ; 551  |//                                              UCS3 sDescriptorName[15];
                            27993 ; 552  |                        wContentDescriptorCount = GetWmaMetaData_ReadWORD(iHandle);
                            27994 
P:05CA 77F400 FFFFF5  3 342727985         move    #-11,n7
P:05CC 000000         2 342927985         nop             ; (inserted)
P:05CD 5EEF00         4 343327987         move    y:(r7+n7),a
P:05CE 0BF080 rrrrrr  6 343927996         jsr     FGetWmaMetaData_ReadWORD
                            28001 
                            28002 ; 553  |                        for(i=0;i<wContentDescriptorCount;i++)
                            28003 
P:05D0 77F41B FFFFFD  3 344228005         clr     b	                #-3,n7
P:05D2 000000         2 344428005         nop             ; (inserted)
P:05D3 5C6F00         4 344827999         move    a1,y:(r7+n7)
P:05D4 0AF080 rrrrrr  6 345428007         jmp     L438
                            28008 L357:
                            28014 
                            28015 ; 554  |                        {
                            28016 ; 555  |                            wDescriptorNameLength = GetWmaMetaData_ReadWORD(iHandle)/2;
                            28017 
P:05D6 77F400 FFFFF5  3 345728011         move    #-11,n7
P:05D8 000000         2 345928011         nop             ; (inserted)
P:05D9 5EEF00         4 346328013         move    y:(r7+n7),a
P:05DA 0BF080 rrrrrr  6 346928019         jsr     FGetWmaMetaData_ReadWORD
                            28026 
                            28027 ; 556  |                            GetWmaMetaData_ReadString(iHandle, sDescriptorName, 23,wDescri
                                  ptorNameLength);
                            28028 
P:05DC 77F423 FFFFF5  3 347228023         lsr     a	                #-11,n7
P:05DE 218400         2 347428024         move    a1,x0
P:05DF 5FEF00         4 347828022         move    y:(r7+n7),b
P:05E0 77F400 FFFFB4  3 348128030         move    #-76,n7
P:05E2 21AE00         2 348328034         move    b1,a
P:05E3 044F10         4 348728032         lua     (r7)+n7,r0
P:05E4 57F400 000017  3 349028035         move    #>23,b
P:05E6 0BF080 rrrrrr  6 349628036         jsr     FGetWmaMetaData_ReadString
                            28037 
                            28038 ; 557  |#ifndef USE_PLAYLIST3
                            28039 ; 558  |                            if(sDescriptorName[ 0]=='W' &&
                            28040 ; 559  |                               sDescriptorName[ 1]=='M' &&
                            28041 ; 560  |                               sDescriptorName[ 2]=='/' &&
                            28042 ; 561  |                               sDescriptorName[ 3]=='A' &&
                            28043 ; 562  |                               sDescriptorName[ 4]=='l' &&
                            28044 ; 563  |                               sDescriptorName[ 5]=='b' &&
                            28045 ; 564  |                               sDescriptorName[ 6]=='u' &&
                            28046 ; 565  |                               sDescriptorName[ 7]=='m' &&
                            28047 ; 566  |                               sDescriptorName[ 8]=='T' &&
                            28048 ; 567  |                               sDescriptorName[ 9]=='i' &&
                            28049 ; 568  |                               sDescriptorName[10]=='t' &&
                            28050 ; 569  |                               sDescriptorName[11]=='l' &&
                            28051 ; 570  |                               sDescriptorName[12]=='e')
                            28052 ; 571  |                            {
                            28053 ; 572  |                                if(GetWmaMetaData_ReadWORD(iHandle)==0)//must be a unicode
                                   string
                            28054 ; 573  |                                {
                            28055 ; 574  |                                    wDescriptorNameLength = GetWmaMetaData_ReadWORD(iHandl
                                  e)/2;
                            28056 ; 575  |                                    GetWmaMetaData_ReadString(iHandle, MetaData->wAlbum,Me
                                  taData->iAlbumBufferLength,wDescriptorNameLength);
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 450

M:ADDR CODE           CYCLES LINE SOURCELINE
                            28057 ; 576  |                                }
                            28058 ; 577  |#if !(defined JPEG_ALBUM_ART) && !(defined SYNC_LYRICS)
                            28059 ; 578  |                                break;
                            28060 ; 579  |#endif  // !(defined JPEG_ALBUM_ART) && !(defined SYNC_LYRICS)
                            28061 ; 580  |                            }
                            28062 ; 581  |#ifdef JPEG_ALBUM_ART
                            28063 ; 582  |                            else if(sDescriptorName[ 0]=='W' &&
                            28064 ; 583  |                                                                        sDescriptorName[ 1
                                  ]=='M' &&
                            28065 ; 584  |                                                                        sDescriptorName[ 2
                                  ]=='/' &&
                            28066 ; 585  |                                                                        sDescriptorName[ 3
                                  ]=='P' &&
                            28067 ; 586  |                                                                        sDescriptorName[ 4
                                  ]=='i' &&
                            28068 ; 587  |                                                                        sDescriptorName[ 5
                                  ]=='c' &&
                            28069 ; 588  |                                                                        sDescriptorName[ 6
                                  ]=='t' &&
                            28070 ; 589  |                                                                        sDescriptorName[ 7
                                  ]=='u' &&
                            28071 ; 590  |                                                                        sDescriptorName[ 8
                                  ]=='r' &&
                            28072 ; 591  |                                                                        sDescriptorName[ 9
                                  ]=='e')
                            28073 ; 592  |                                                        {
                            28074 ; 593  |                                        fseek(iHandle, 2, SEEK_CUR);//seek past the data t
                                  ype
                            28075 ; 594  |                                    wDescriptorNameLength = GetWmaMetaData_ReadWORD(iHandl
                                  e);
                            28076 ; 595  |                                                                // Extract WM Picture
                            28077 ; 596  |                                                        SysCallFunction(RSRC_APIC_FRAME_CO
                                  DEBANK, ApicReadObject, iHandle, wDescriptorNameLength, NULL);
                            28078 ; 597  |                            }
                            28079 ; 598  |#endif  // JPEG_ALBUM_ART
                            28080 ; 599  |#ifdef SYNC_LYRICS
                            28081 ; 600  |                            else if(sDescriptorName[ 0]=='W' &&
                            28082 ; 601  |                                                                        sDescriptorName[ 1
                                  ]=='M' &&
                            28083 ; 602  |                                                                        sDescriptorName[ 2
                                  ]=='/' &&
                            28084 ; 603  |                                                                        sDescriptorName[ 3
                                  ]=='L' &&
                            28085 ; 604  |                                                                        sDescriptorName[ 4
                                  ]=='y' &&
                            28086 ; 605  |                                                                        sDescriptorName[ 5
                                  ]=='r' &&
                            28087 ; 606  |                                                                        sDescriptorName[ 6
                                  ]=='i' &&
                            28088 ; 607  |                                                                        sDescriptorName[ 7
                                  ]=='c' &&
                            28089 ; 608  |                                                                        sDescriptorName[ 8
                                  ]=='s' &&
                            28090 ; 609  |                                                                        sDescriptorName[ 9
                                  ]=='_' &&
                            28091 ; 610  |                                                                        sDescriptorName[10
                                  ]=='S' &&
                            28092 ; 611  |                                                                        sDescriptorName[11
                                  ]=='y' &&
                            28093 ; 612  |                                                                        sDescriptorName[12
                                  ]=='n' &&
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 451

M:ADDR CODE           CYCLES LINE SOURCELINE
                            28094 ; 613  |                                                                        sDescriptorName[13
                                  ]=='c' &&
                            28095 ; 614  |                                                                        sDescriptorName[14
                                  ]=='h' &&
                            28096 ; 615  |                                                                        sDescriptorName[15
                                  ]=='r' &&
                            28097 ; 616  |                                                                        sDescriptorName[16
                                  ]=='o' &&
                            28098 ; 617  |                                                                        sDescriptorName[17
                                  ]=='n' &&
                            28099 ; 618  |                                                                        sDescriptorName[18
                                  ]=='i' &&
                            28100 ; 619  |                                                                        sDescriptorName[19
                                  ]=='s' &&
                            28101 ; 620  |                                                                        sDescriptorName[20
                                  ]=='e' &&
                            28102 ; 621  |                                                                        sDescriptorName[21
                                  ]=='d')
                            28103 ; 622  |                                                        {
                            28104 ; 623  |                                        fseek(iHandle, 2, SEEK_CUR);//seek past the data t
                                  ype
                            28105 ; 624  |                                    wDescriptorNameLength = GetWmaMetaData_ReadWORD(iHandl
                                  e);     // Descriptor Value Length
                            28106 ; 625  |                                                                        // Extract WMA Lyr
                                  ics
                            28107 ; 626  |                                                                        SysCallFunction(RS
                                  RC_WMA_LYRICS_CODEBANK, WMALyricsReadFrame, iHandle, wDescriptorNameLength, NULL);
                            28108 ; 627  |                            }
                            28109 ; 628  |#endif  // SYNC_LYRICS
                            28110 ; 629  |#else // else USE_PLAYLIST3
                            28111 ; 630  |                            // added start, SL
                            28112 ; 631  |                                                        if (sDescriptorName[ 0]=='W' &&
                            28113 ; 632  |                                                                sDescriptorName[ 1]=='M' &
                                  &
                            28114 ; 633  |                                                                sDescriptorName[ 2]=='/') 
                                  {
                            28115 
P:05E8 77F400 FFFFB4  3 349928117         move    #-76,n7
P:05EA 56F400 000057  3 350228120         move    #>87,a
P:05EC 5FEF00         4 350628119         move    y:(r7+n7),b
P:05ED 2B0000         2 350828121         move    #0,b2
P:05EE 20000D         2 351028122         cmp     a,b
P:05EF 0AF0A2 rrrrrr  6 351628123         jne     L436
P:05F1 77F400 FFFFB5  3 351928125         move    #-75,n7
P:05F3 46F400 00004D  3 352228124         move    #>77,y0
P:05F5 5FEF00         4 352628127         move    y:(r7+n7),b
P:05F6 2B0000         2 352828128         move    #0,b2
P:05F7 20005D         2 353028129         cmp     y0,b
P:05F8 0AF0A2 rrrrrr  6 353628130         jne     L436
P:05FA 77F400 FFFFB6  3 353928132         move    #-74,n7
P:05FC 56F400 00002F  3 354228131         move    #>47,a
P:05FE 5FEF00         4 354628134         move    y:(r7+n7),b
P:05FF 2B0000         2 354828135         move    #0,b2
P:0600 20000D         2 355028136         cmp     a,b
P:0601 0AF0A2 rrrrrr  6 355628137         jne     L436
                            28138 
                            28139 ; 634  |                                                                if (sDescriptorName[ 3]=='
                                  A' &&
                            28140 ; 635  |                                                                        sDescriptorName[ 4
                                  ]=='l' &&
                            28141 ; 636  |                                                                        sDescriptorName[ 5
                                  ]=='b' &&
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 452

M:ADDR CODE           CYCLES LINE SOURCELINE
                            28142 ; 637  |                                                                        sDescriptorName[ 6
                                  ]=='u' &&
                            28143 ; 638  |                                                                        sDescriptorName[ 7
                                  ]=='m' &&
                            28144 ; 639  |                                                                        sDescriptorName[ 8
                                  ]=='T' &&
                            28145 ; 640  |                                                                        sDescriptorName[ 9
                                  ]=='i' &&
                            28146 ; 641  |                                                                        sDescriptorName[10
                                  ]=='t' &&
                            28147 ; 642  |                                                                        sDescriptorName[11
                                  ]=='l' &&
                            28148 ; 643  |                                                                        sDescriptorName[12
                                  ]=='e') {
                            28149 
P:0603 77F400 FFFFB7  3 355928152         move    #-73,n7
P:0605 44F400 000041  3 356228151         move    #>$41,x0
P:0607 5FEF00         4 356628154         move    y:(r7+n7),b
P:0608 2B0000         2 356828155         move    #0,b2
P:0609 20004D         2 357028156         cmp     x0,b
P:060A 0AF0A2 rrrrrr  6 357628157         jne     L367
P:060C 77F400 FFFFB8  3 357928159         move    #-72,n7
P:060E 44F400 00006C  3 358228158         move    #>108,x0
P:0610 5FEF00         4 358628161         move    y:(r7+n7),b
P:0611 2B0000         2 358828162         move    #0,b2
P:0612 20004D         2 359028163         cmp     x0,b
P:0613 0AF0A2 rrrrrr  6 359628164         jne     L367
P:0615 77F400 FFFFB9  3 359928166         move    #-71,n7
P:0617 47F400 000062  3 360228165         move    #>98,y1
P:0619 5EEF00         4 360628168         move    y:(r7+n7),a
P:061A 2A0000         2 360828169         move    #0,a2
P:061B 200075         2 361028170         cmp     y1,a
P:061C 0AF0A2 rrrrrr  6 361628171         jne     L367
P:061E 77F400 FFFFBA  3 361928173         move    #-70,n7
P:0620 45F400 000075  3 362228172         move    #>117,x1
P:0622 5FEF00         4 362628175         move    y:(r7+n7),b
P:0623 2B0000         2 362828176         move    #0,b2
P:0624 20006D         2 363028177         cmp     x1,b
P:0625 0AF0A2 rrrrrr  6 363628178         jne     L367
P:0627 77F400 FFFFBB  3 363928180         move    #-69,n7
P:0629 46F400 00006D  3 364228179         move    #>109,y0
P:062B 5FEF00         4 364628182         move    y:(r7+n7),b
P:062C 2B0000         2 364828183         move    #0,b2
P:062D 20005D         2 365028184         cmp     y0,b
P:062E 0AF0A2 rrrrrr  6 365628185         jne     L367
P:0630 77F400 FFFFBC  3 365928187         move    #-68,n7
P:0632 46F400 000054  3 366228186         move    #>84,y0
P:0634 5EEF00         4 366628189         move    y:(r7+n7),a
P:0635 2A0000         2 366828190         move    #0,a2
P:0636 200055         2 367028191         cmp     y0,a
P:0637 0AF0A2 rrrrrr  6 367628192         jne     L367
P:0639 77F400 FFFFBD  3 367928194         move    #-67,n7
P:063B 44F400 000069  3 368228193         move    #>105,x0
P:063D 5FEF00         4 368628196         move    y:(r7+n7),b
P:063E 2B0000         2 368828197         move    #0,b2
P:063F 20004D         2 369028198         cmp     x0,b
P:0640 0AF0A2 rrrrrr  6 369628199         jne     L367
P:0642 77F400 FFFFBE  3 369928201         move    #-66,n7
P:0644 46F400 000074  3 370228200         move    #>116,y0
P:0646 5FEF00         4 370628203         move    y:(r7+n7),b
P:0647 2B0000         2 370828204         move    #0,b2
P:0648 20005D         2 371028205         cmp     y0,b
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 453

M:ADDR CODE           CYCLES LINE SOURCELINE
P:0649 0AF0A2 rrrrrr  6 371628206         jne     L367
P:064B 77F400 FFFFBF  3 371928208         move    #-65,n7
P:064D 46F400 00006C  3 372228207         move    #>108,y0
P:064F 5EEF00         4 372628210         move    y:(r7+n7),a
P:0650 2A0000         2 372828211         move    #0,a2
P:0651 200055         2 373028212         cmp     y0,a
P:0652 0AF0A2 rrrrrr  6 373628213         jne     L367
P:0654 77F400 FFFFC0  3 373928215         move    #-64,n7
P:0656 47F400 000065  3 374228214         move    #>101,y1
P:0658 5FEF00         4 374628217         move    y:(r7+n7),b
P:0659 2B0000         2 374828218         move    #0,b2
P:065A 20007D         2 375028219         cmp     y1,b
P:065B 0AF0A2 rrrrrr  6 375628220         jne     L367
                            28221 
                            28222 ; 644  |                                                                        // The title of th
                                  e album
                            28223 ; 645  |                                                                        if (iExtendedConte
                                  nt & (1 << EXTENDED_CONTENT_BIT_ALBUM)) {
                            28224 
P:065D 77F400 FFFFFA  3 375928226         move    #-6,n7
P:065F 000000         2 376128226         nop             ; (inserted)
P:0660 4EEF00         4 376528228         move    y:(r7+n7),y0
P:0661 0AC600 rrrrrr  6 377128229         jclr    #0,y0,L422
                            28230 
                            28231 ; 646  |                                                                                pPointer =
                                   MetaData->wAlbum;
                            28232 
                            28242 
                            28243 ; 647  |                                                                                wBufferLen
                                  gth = MetaData->iAlbumBufferLength;
                            28244 
                            28255 
                            28256 ; 648  |                                                                                iExtendedC
                                  ontent &= ~(1 << EXTENDED_CONTENT_BIT_ALBUM);
                            28257 
                            28266 
                            28267 ; 649  |                                                                                }  else {
                            28268 
P:0663 3E0400         2 377328246         move    #4,n6
P:0664 77F400 FFFFF7  3 377628234         move    #-9,n7
P:0666 000000         2 377828234         nop             ; (inserted)
P:0667 6EEF00         4 378228236         move    y:(r7+n7),r6
P:0668 77F400 FFFFFB  3 378528239         move    #-5,n7
P:066A 6EE600         2 378728238         move    y:(r6),r6
P:066B 6E6F00         4 379128241         move    r6,y:(r7+n7)
P:066C 77F400 FFFFF0  3 379428247         move    #-16,n7
P:066E 000000         2 379628247         nop             ; (inserted)
P:066F 6EEF00         4 380028249         move    y:(r7+n7),r6
P:0670 77F400 FFFFFC  3 380328252         move    #-4,n7
P:0672 4EEE00         4 380728251         move    y:(r6+n6),y0
P:0673 4E6F00         4 381128254         move    y0,y:(r7+n7)
P:0674 77F400 FFFFFA  3 381428259         move    #-6,n7
P:0676 000000         2 381628259         nop             ; (inserted)
P:0677 0A6F40         6 382228261         bclr    #0,y:(r7+n7)
P:0678 0AF080 rrrrrr  6 382828270         jmp     L431
                            28271 
                            28272 ; 650  |                                                                                        //
                                   Skip over this extended content descriptor
                            28273 ; 651  |                                                                                        fs
                                  eek(iHandle,2,SEEK_CUR);        //seek past the data type
                            28274 ; 652  |                                                                                        //
                                   get the descriptor value length, and skip past it
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 454

M:ADDR CODE           CYCLES LINE SOURCELINE
                            28275 ; 653  |                                                                                        fs
                                  eek(iHandle, GetWmaMetaData_ReadWORD(iHandle), SEEK_CUR);
                            28276 ; 654  |                                                                        }
                            28277 ; 655  |                                                                } else if (sDescriptorName
                                  [ 3]=='G' &&
                            28278 ; 656  |                                                                                        sD
                                  escriptorName[ 4]=='e' &&
                            28279 ; 657  |                                                                                        sD
                                  escriptorName[ 5]=='n' &&
                            28280 ; 658  |                                                                                        sD
                                  escriptorName[ 6]=='r' &&
                            28281 ; 659  |                                                                                        sD
                                  escriptorName[ 7]=='e' &&
                            28282 ; 660  |                                                                                        sD
                                  escriptorName[ 8]==0) {
                            28283 
                            28285 L367:
P:067A 77F400 FFFFB7  3 383128286         move    #-73,n7
P:067C 56F400 000047  3 383428285         move    #>71,a
P:067E 5FEF00         4 383828288         move    y:(r7+n7),b
P:067F 2B0000         2 384028289         move    #0,b2
P:0680 20000D         2 384228290         cmp     a,b
P:0681 0AF0A2 rrrrrr  6 384828291         jne     L373
P:0683 77F400 FFFFB8  3 385128293         move    #-72,n7
P:0685 46F400 000065  3 385428292         move    #>101,y0
P:0687 5FEF00         4 385828295         move    y:(r7+n7),b
P:0688 2B0000         2 386028296         move    #0,b2
P:0689 20005D         2 386228297         cmp     y0,b
P:068A 0AF0A2 rrrrrr  6 386828298         jne     L373
P:068C 77F400 FFFFB9  3 387128299         move    #-71,n7
P:068E 44F400 00006E  3 387428302         move    #>110,x0
P:0690 5EEF00         4 387828301         move    y:(r7+n7),a
P:0691 2A0000         2 388028303         move    #0,a2
P:0692 200045         2 388228304         cmp     x0,a
P:0693 0AF0A2 rrrrrr  6 388828305         jne     L373
P:0695 77F400 FFFFBA  3 389128306         move    #-70,n7
P:0697 44F400 000072  3 389428309         move    #>114,x0
P:0699 5FEF00         4 389828308         move    y:(r7+n7),b
P:069A 2B0000         2 390028310         move    #0,b2
P:069B 20004D         2 390228311         cmp     x0,b
P:069C 0AF0A2 rrrrrr  6 390828312         jne     L373
P:069E 77F400 FFFFBB  3 391128314         move    #-69,n7
P:06A0 20C400         2 391328313         move    y0,x0
P:06A1 5FEF00         4 391728316         move    y:(r7+n7),b
P:06A2 2B0000         2 391928317         move    #0,b2
P:06A3 20004D         2 392128318         cmp     x0,b
P:06A4 0AF0A2 rrrrrr  6 392728319         jne     L373
P:06A6 77F400 FFFFBC  3 393028320         move    #-68,n7
P:06A8 000000         2 393228320         nop             ; (inserted)
P:06A9 5EEF00         4 393628322         move    y:(r7+n7),a
P:06AA 2A0000         2 393828323         move    #0,a2
P:06AB 200003         2 394028324         tst     a
P:06AC 0AF0A2 rrrrrr  6 394628325         jne     L373
                            28326 
                            28327 ; 661  |                                                                        // Genre of the co
                                  ntent
                            28328 ; 662  |                                                                        if (iExtendedConte
                                  nt & (1 << EXTENDED_CONTENT_BIT_GENRE)) {
                            28329 
P:06AE 77F400 FFFFFA  3 394928331         move    #-6,n7
P:06B0 000000         2 395128331         nop             ; (inserted)
P:06B1 5DEF00         4 395528333         move    y:(r7+n7),b1
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 455

M:ADDR CODE           CYCLES LINE SOURCELINE
P:06B2 0ACD01 rrrrrr  6 396128334         jclr    #1,b1,L422
                            28335 
                            28336 ; 663  |                                                                                pPointer =
                                   MetaData->wGenre;
                            28337 
                            28347 
                            28348 ; 664  |                                                                                wBufferLen
                                  gth = MetaData->iGenreBufferLength;
                            28349 
                            28360 
                            28361 ; 665  |                                                                                iExtendedC
                                  ontent &= ~(1 << EXTENDED_CONTENT_BIT_GENRE);
                            28362 
                            28373 
                            28374 ; 666  |                                                                        } else {
                            28375 
P:06B4 3E0600         2 396328351         move    #6,n6
P:06B5 77F400 FFFFF8  3 396628339         move    #-8,n7
P:06B7 000000         2 396828339         nop             ; (inserted)
P:06B8 6EEF00         4 397228341         move    y:(r7+n7),r6
P:06B9 77F400 FFFFFB  3 397528344         move    #-5,n7
P:06BB 6EE600         2 397728343         move    y:(r6),r6
P:06BC 6E6F00         4 398128346         move    r6,y:(r7+n7)
P:06BD 77F400 FFFFF0  3 398428352         move    #-16,n7
P:06BF 000000         2 398628352         nop             ; (inserted)
P:06C0 6EEF00         4 399028354         move    y:(r7+n7),r6
P:06C1 77F400 FFFFFC  3 399328357         move    #-4,n7
P:06C3 4EEE00         4 399728356         move    y:(r6+n6),y0
P:06C4 4E6F00         4 400128359         move    y0,y:(r7+n7)
P:06C5 77F400 FFFFFA  3 400428364         move    #-6,n7
P:06C7 000000         2 400628364         nop             ; (inserted)
P:06C8 5FEF00         4 401028366         move    y:(r7+n7),b
P:06C9 0ACD41         4 401428367         bclr    #1,b1
P:06CA 5F6F00         4 401828370         move    b,y:(r7+n7)
P:06CB 0AF080 rrrrrr  6 402428377         jmp     L431
                            28378 
                            28379 ; 667  |                                                                                        //
                                   Skip over this extended content descriptor
                            28380 ; 668  |                                                                                        fs
                                  eek(iHandle,2,SEEK_CUR);        //seek past the data type
                            28381 ; 669  |                                                                                        //
                                   get the descriptor value length, and skip past it
                            28382 ; 670  |                                                                                        fs
                                  eek(iHandle, GetWmaMetaData_ReadWORD(iHandle), SEEK_CUR);
                            28383 ; 671  |                                                                        }
                            28384 ; 672  |                                                                } else if (sDescriptorName
                                  [ 3]== 'Y' &&
                            28385 ; 673  |                                                                                        sD
                                  escriptorName[ 4]== 'e' &&
                            28386 ; 674  |                                                                                        sD
                                  escriptorName[ 5]== 'a' &&
                            28387 ; 675  |                                                                                        sD
                                  escriptorName[ 6]== 'r') {
                            28388 
P:06CD 77F400 FFFFB7  3 402728390 L373:   move    #-73,n7
P:06CF 46F400 000059  3 403028393         move    #>89,y0
P:06D1 5FEF00         4 403428392         move    y:(r7+n7),b
P:06D2 2B0000         2 403628394         move    #0,b2
P:06D3 20005D         2 403828395         cmp     y0,b
P:06D4 0AF0A2 rrrrrr  6 404428396         jne     L377
P:06D6 77F400 FFFFB8  3 404728398         move    #-72,n7
P:06D8 46F400 000065  3 405028397         move    #>101,y0
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 456

M:ADDR CODE           CYCLES LINE SOURCELINE
P:06DA 5EEF00         4 405428400         move    y:(r7+n7),a
P:06DB 2A0000         2 405628401         move    #0,a2
P:06DC 200055         2 405828402         cmp     y0,a
P:06DD 0AF0A2 rrrrrr  6 406428403         jne     L377
P:06DF 77F400 FFFFB9  3 406728404         move    #-71,n7
P:06E1 46F400 000061  3 407028407         move    #>$61,y0
P:06E3 5FEF00         4 407428406         move    y:(r7+n7),b
P:06E4 2B0000         2 407628408         move    #0,b2
P:06E5 20005D         2 407828409         cmp     y0,b
P:06E6 0AF0A2 rrrrrr  6 408428410         jne     L377
P:06E8 77F400 FFFFBA  3 408728411         move    #-70,n7
P:06EA 46F400 000072  3 409028414         move    #>114,y0
P:06EC 5FEF00         4 409428413         move    y:(r7+n7),b
P:06ED 2B0000         2 409628415         move    #0,b2
P:06EE 20005D         2 409828416         cmp     y0,b
P:06EF 0AF0A2 rrrrrr  6 410428417         jne     L377
                            28418 
                            28419 ; 676  |                                                                        // The year the co
                                  ntent was published
                            28420 ; 677  |                                                                        if (iExtendedConte
                                  nt & (1 << EXTENDED_CONTENT_BIT_YEAR)) {
                            28421 
P:06F1 77F400 FFFFFA  3 410728423         move    #-6,n7
P:06F3 000000         2 410928423         nop             ; (inserted)
P:06F4 4EEF00         4 411328425         move    y:(r7+n7),y0
P:06F5 0AC602 rrrrrr  6 411928426         jclr    #2,y0,L422
                            28427 
                            28428 ; 678  |                                                                                pPointer =
                                   MetaData->wYear;
                            28429 
                            28439 
                            28440 ; 679  |                                                                                wBufferLen
                                  gth = MetaData->iYearBufferLength;
                            28441 
                            28452 
                            28453 ; 680  |                                                                                iExtendedC
                                  ontent &= ~(1 << EXTENDED_CONTENT_BIT_YEAR);
                            28454 
                            28465 
                            28466 ; 681  |                                                                    } else {
                            28467 
P:06F7 3E0800         2 412128443         move    #8,n6
P:06F8 77F400 FFFFF9  3 412428431         move    #-7,n7
P:06FA 000000         2 412628431         nop             ; (inserted)
P:06FB 6EEF00         4 413028433         move    y:(r7+n7),r6
P:06FC 77F400 FFFFFB  3 413328436         move    #-5,n7
P:06FE 6EE600         2 413528435         move    y:(r6),r6
P:06FF 6E6F00         4 413928438         move    r6,y:(r7+n7)
P:0700 77F400 FFFFF0  3 414228444         move    #-16,n7
P:0702 000000         2 414428444         nop             ; (inserted)
P:0703 6EEF00         4 414828446         move    y:(r7+n7),r6
P:0704 77F400 FFFFFC  3 415128449         move    #-4,n7
P:0706 4EEE00         4 415528448         move    y:(r6+n6),y0
P:0707 4E6F00         4 415928451         move    y0,y:(r7+n7)
P:0708 77F400 FFFFFA  3 416228456         move    #-6,n7
P:070A 000000         2 416428456         nop             ; (inserted)
P:070B 59EF00         4 416828458         move    y:(r7+n7),b0
P:070C 0AC942         4 417228459         bclr    #2,b0
P:070D 596F00         4 417628462         move    b0,y:(r7+n7)
P:070E 0AF080 rrrrrr  6 418228469         jmp     L431
                            28470 
                            28471 ; 682  |                                            // Skip over this extended content descriptor
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 457

M:ADDR CODE           CYCLES LINE SOURCELINE
                            28472 ; 683  |                                        fseek(iHandle,2,SEEK_CUR);      //seek past the da
                                  ta type
                            28473 ; 684  |                                        // get the descriptor value length, and skip past 
                                  it
                            28474 ; 685  |                                        fseek(iHandle, GetWmaMetaData_ReadWORD(iHandle), S
                                  EEK_CUR);
                            28475 ; 686  |                                                                    }
                            28476 ; 687  |                                                } else if (sDescriptorName[ 3]== 'T' &&
                            28477 ; 688  |                                                                                        sD
                                  escriptorName[ 4]== 'r' &&
                            28478 ; 689  |                                                                                        sD
                                  escriptorName[ 5]== 'a' &&
                            28479 ; 690  |                                                                                        sD
                                  escriptorName[ 6]== 'c' &&
                            28480 ; 691  |                                                                                        sD
                                  escriptorName[ 7]== 'k' &&
                            28481 ; 692  |                                                                                        sD
                                  escriptorName[ 8]== 'N' &&
                            28482 ; 693  |                                                                                        sD
                                  escriptorName[ 9]== 'u' &&
                            28483 ; 694  |                                                                                        sD
                                  escriptorName[10]== 'm' &&
                            28484 ; 695  |                                                                                        sD
                                  escriptorName[11]== 'b' &&
                            28485 ; 696  |                                                                                        sD
                                  escriptorName[12]== 'e' &&
                            28486 ; 697  |                                                                                        sD
                                  escriptorName[13]== 'r' &&
                            28487 ; 698  |                                                                                        sD
                                  escriptorName[14]== 0) {
                            28488 
                            28490 L377:
P:0710 77F400 FFFFB7  3 418528491         move    #-73,n7
P:0712 56F400 000054  3 418828490         move    #>84,a
P:0714 5FEF00         4 419228493         move    y:(r7+n7),b
P:0715 2B0000         2 419428494         move    #0,b2
P:0716 20000D         2 419628495         cmp     a,b
P:0717 0AF0A2 rrrrrr  6 420228496         jne     L398
P:0719 77F400 FFFFB8  3 420528497         move    #-72,n7
P:071B 45F400 000072  3 420828500         move    #>114,x1
P:071D 5FEF00         4 421228499         move    y:(r7+n7),b
P:071E 2B0000         2 421428501         move    #0,b2
P:071F 20006D         2 421628502         cmp     x1,b
P:0720 0AF0A2 rrrrrr  6 422228503         jne     L398
P:0722 77F400 FFFFB9  3 422528504         move    #-71,n7
P:0724 45F400 000061  3 422828507         move    #>$61,x1
P:0726 5EEF00         4 423228506         move    y:(r7+n7),a
P:0727 2A0000         2 423428508         move    #0,a2
P:0728 200065         2 423628509         cmp     x1,a
P:0729 0AF0A2 rrrrrr  6 424228510         jne     L398
P:072B 77F400 FFFFBA  3 424528511         move    #-70,n7
P:072D 56F400 000063  3 424828514         move    #>99,a
P:072F 5FEF00         4 425228513         move    y:(r7+n7),b
P:0730 2B0000         2 425428515         move    #0,b2
P:0731 20000D         2 425628516         cmp     a,b
P:0732 0AF0A2 rrrrrr  6 426228517         jne     L398
P:0734 77F400 FFFFBB  3 426528518         move    #-69,n7
P:0736 44F400 00006B  3 426828521         move    #>107,x0
P:0738 5FEF00         4 427228520         move    y:(r7+n7),b
P:0739 2B0000         2 427428522         move    #0,b2
P:073A 20004D         2 427628523         cmp     x0,b
P:073B 0AF0A2 rrrrrr  6 428228524         jne     L398
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 458

M:ADDR CODE           CYCLES LINE SOURCELINE
P:073D 77F400 FFFFBC  3 428528525         move    #-68,n7
P:073F 56F400 00004E  3 428828528         move    #>78,a
P:0741 5FEF00         4 429228527         move    y:(r7+n7),b
P:0742 2B0000         2 429428529         move    #0,b2
P:0743 20000D         2 429628530         cmp     a,b
P:0744 0AF0A2 rrrrrr  6 430228531         jne     L398
P:0746 77F400 FFFFBD  3 430528533         move    #-67,n7
P:0748 47F400 000075  3 430828532         move    #>117,y1
P:074A 5FEF00         4 431228535         move    y:(r7+n7),b
P:074B 2B0000         2 431428536         move    #0,b2
P:074C 20007D         2 431628537         cmp     y1,b
P:074D 0AF0A2 rrrrrr  6 432228538         jne     L398
P:074F 77F400 FFFFBE  3 432528540         move    #-66,n7
P:0751 44F400 00006D  3 432828539         move    #>109,x0
P:0753 5EEF00         4 433228542         move    y:(r7+n7),a
P:0754 2A0000         2 433428543         move    #0,a2
P:0755 200045         2 433628544         cmp     x0,a
P:0756 0AF0A2 rrrrrr  6 434228545         jne     L398
P:0758 77F400 FFFFBF  3 434528547         move    #-65,n7
P:075A 46F400 000062  3 434828546         move    #>98,y0
P:075C 5FEF00         4 435228549         move    y:(r7+n7),b
P:075D 2B0000         2 435428550         move    #0,b2
P:075E 20005D         2 435628551         cmp     y0,b
P:075F 0AF0A2 rrrrrr  6 436228552         jne     L398
P:0761 77F400 FFFFC0  3 436528554         move    #-64,n7
P:0763 57F400 000065  3 436828553         move    #>101,b
P:0765 5EEF00         4 437228556         move    y:(r7+n7),a
P:0766 2A0000         2 437428557         move    #0,a2
P:0767 200005         2 437628558         cmp     b,a
P:0768 0AF0A2 rrrrrr  6 438228559         jne     L398
P:076A 77F400 FFFFC1  3 438528560         move    #-63,n7
P:076C 47F400 000072  3 438828563         move    #>114,y1
P:076E 5EEF00         4 439228562         move    y:(r7+n7),a
P:076F 2A0000         2 439428564         move    #0,a2
P:0770 200075         2 439628565         cmp     y1,a
P:0771 0AF0A2 rrrrrr  6 440228566         jne     L398
P:0773 77F400 FFFFC2  3 440528567         move    #-62,n7
P:0775 000000         2 440728567         nop             ; (inserted)
P:0776 5FEF00         4 441128569         move    y:(r7+n7),b
P:0777 2B0000         2 441328570         move    #0,b2
P:0778 20000B         2 441528571         tst     b
P:0779 0AF0A2 rrrrrr  6 442128572         jne     L398
                            28573 
                            28574 ; 699  |                                    if (iExtendedContent & (1 << EXTENDED_CONTENT_BIT_TRAC
                                  KNUM)) {
                            28575 
P:077B 77F400 FFFFFA  3 442428577         move    #-6,n7
P:077D 000000         2 442628577         nop             ; (inserted)
P:077E 4EEF00         4 443028579         move    y:(r7+n7),y0
P:077F 0AC605 rrrrrr  6 443628580         jclr    #5,y0,L422
                            28584 
                            28585 ; 700  |                                        WORD iType = GetWmaMetaData_ReadWORD(iHandle);
                            28586 
P:0781 77F400 FFFFF5  3 443928588         move    #-11,n7
P:0783 000000         2 444128588         nop             ; (inserted)
P:0784 5EEF00         4 444528590         move    y:(r7+n7),a
P:0785 0BF080 rrrrrr  6 445128591         jsr     FGetWmaMetaData_ReadWORD
                            28599 
                            28600 ; 701  |                                        wDescriptorNameLength = GetWmaMetaData_ReadWORD(iH
                                  andle);
                            28601 
P:0787 045FA0         2 445328592         movec   m0,n7
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 459

M:ADDR CODE           CYCLES LINE SOURCELINE
P:0788 000000         2 445528592         nop             ; (inserted)
P:0789 5C6F00         4 445928594         move    a1,y:(r7+n7)
P:078A 77F400 FFFFF5  3 446228595         move    #-11,n7
P:078C 000000         2 446428595         nop             ; (inserted)
P:078D 5EEF00         4 446828597         move    y:(r7+n7),a
P:078E 0BF080 rrrrrr  6 447428603         jsr     FGetWmaMetaData_ReadWORD
                            28614 
                            28615 ; 702  |
                            28616 ; 703  |                                        switch (iType)
                            28617 
P:0790 77F400 FFFFF5  3 447728604         move    #-11,n7
P:0792 65F400 rrrrrr  3 448028619         move    #L479,r5
P:0794 6EEF00         4 448428606         move    y:(r7+n7),r6
P:0795 045FA0         2 448628607         movec   m0,n7
P:0796 218600         2 448828612         move    a1,y0
P:0797 5FEF00         4 449228609         move    y:(r7+n7),b
P:0798 56F400 000005  3 449528621         move    #>5,a
P:079A 2B0000         2 449728620         move    #0,b2
P:079B 21FD0D         2 449928622         cmp     a,b     b,n5
P:079C 0AF0A7 rrrrrr  6 450528623         jgt     L386
P:079E 07ED95         8 451328624         movem   p:(r5+n5),r5
P:079F 000000         2 451528624         nop             ; (inserted)
P:07A0 0AE580         4 451928626         jmp     (r5)
                            28627 
P:07A1 rrrrrr               28628 L479:   dc      L378    ; case 0:
P:07A2 rrrrrr               28629         dc      L386    ; default:
P:07A3 rrrrrr               28630         dc      L386    ; default:
P:07A4 rrrrrr               28631         dc      L383    ; case 3:
P:07A5 rrrrrr               28632         dc      L384    ; case 4:
P:07A6 rrrrrr               28633         dc      L385    ; case 5:
                            28634 
                            28635 
                            28636 ; 704  |                                        {
                            28637 ; 705  |                                            case TYPE_UNICODE:
                            28638 ; 706  |                                                GetWmaMetaData_ReadString(iHandle, pTrackn
                                  um, TRACKNUM_SIZE, wDescriptorNameLength/2);
                            28639 
                            28641 L378:
P:07A7 77F451 FFFFD4  3 452228641         tfr     y0,a	                #-44,n7
P:07A9 57F422 000005  3 452528642         asr     a	                #>5,b
P:07AB 044F10         4 452928651         lua     (r7)+n7,r0
P:07AC 77F400 FFFFF5  3 453228652         move    #-11,n7
P:07AE 218400         2 453428646         move    a1,x0
P:07AF 6E6F00         4 453828654         move    r6,y:(r7+n7)
P:07B0 22CE00         2 454028655         move    r6,a
P:07B1 0BF080 rrrrrr  6 454628656         jsr     FGetWmaMetaData_ReadString
                            28661 
                            28662 ; 707  |
                            28663 ; 708  |                                                for (pTmp=pTracknum,TracknumSize=0; *pTmp!
                                  =0; pTmp++)
                            28664 
P:07B3 77F400 FFFFD4  3 454928657         move    #-44,n7
P:07B5 270013         2 455128667         clr     a	                #0,y1
P:07B6 044F16         4 455528659         lua     (r7)+n7,r6
P:07B7 0AF080 rrrrrr  6 456128669         jmp     L380
                            28670 
                            28671 ; 709  |                                                    TracknumSize++;
                            28672 
                            28674 L379:
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 460

M:ADDR CODE           CYCLES LINE SOURCELINE
P:07B9 44F400 000001  3 456428674         move    #>1,x0
P:07BB 205E40         2 456628675         add     x0,a	                (r6)+
P:07BC 5FE600         2 456828678 L380:   move    y:(r6),b
P:07BD 2B0000         2 457028679         move    #0,b2
P:07BE 20000B         2 457228680         tst     b
P:07BF 0AF0A2 rrrrrr  6 457828681         jne     L379
                            28682 
                            28683 ; 710  |
                            28684 ; 711  |                                                TmpVal[0]=0;
                            28685 
                            28690 
                            28691 ; 712  |                                                TmpVal[1]=1;
                            28692 
                            28698 
                            28699 ; 713  |                                                while (TracknumSize)
                            28700 
P:07C1 77F400 FFFFD9  3 458128687         move    #-39,n7
P:07C3 290100         2 458328694         move    #1,b0
P:07C4 46F400 000030  3 458628702         move    #>$30,y0
P:07C6 4F6F00         4 459028689         move    y1,y:(r7+n7)
P:07C7 77F400 FFFFDA  3 459328695         move    #-38,n7
P:07C9 000000         2 459528695         nop             ; (inserted)
P:07CA 596F00         4 459928697         move    b0,y:(r7+n7)
P:07CB 0AF080 rrrrrr  6 460528703         jmp     L382
                            28704 
                            28705 ; 714  |                                                {
                            28706 ; 715  |                                                    pTmp--;
                            28707 
                            28709 L381:
                            28713 
                            28714 ; 716  |                                                    TmpVal[2] = *pTmp - '0';
                            28715 
                            28722 
                            28723 ; 717  |                                                    TmpVal[0] += TmpVal[1]*TmpVal[2];
                            28724 
                            28739 
                            28740 ; 718  |                                                    TmpVal[1] *= 10;
                            28741 
                            28748 
                            28749 ; 719  |                                                    TracknumSize--;
                            28750 
P:07CD 45F400 000001  3 460828712         move    #>1,x1
P:07CF 5FFE00         4 461228717         move    y:-(r6),b
P:07D0 77F45C FFFFDB  3 461528718         sub     y0,b	                #-37,n7
P:07D2 21A700         2 461728732         move    b1,y1
P:07D3 5D6F00         4 462128721         move    b1,y:(r7+n7)
P:07D4 77F400 FFFFD9  3 462428726         move    #-39,n7
P:07D6 000000         2 462628726         nop             ; (inserted)
P:07D7 58EF00         4 463028728         move    y:(r7+n7),a0
P:07D8 77F432 FFFFDA  3 463328733         asl     a	                #-38,n7
P:07DA 000000         2 463528733         nop             ; (inserted)
P:07DB 4CEF00         4 463928731         move    y:(r7+n7),x0
P:07DC 77F4C2 FFFFD9  3 464228734         mac     x0,y1,a	                #-39,n7
P:07DE 47F422 00000A  3 464528735         asr     a	                #>10,y1
P:07E0 586FC8         4 464928745         mpy     x0,y1,b	                a0,y:(r7+n7)
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 461

M:ADDR CODE           CYCLES LINE SOURCELINE
P:07E1 77F42A FFFFDA  3 465228746         asr     b	                #-38,n7
P:07E3 000000         2 465428746         nop             ; (inserted)
P:07E4 596F00         4 465828747         move    b0,y:(r7+n7)
P:07E5 045FA0         2 466028752         movec   m0,n7
P:07E6 000000         2 466228752         nop             ; (inserted)
P:07E7 5EEF00         4 466628754         move    y:(r7+n7),a
P:07E8 200064         2 466828755         sub     x1,a
                            28759 L382:
P:07E9 045FA0         2 467028759         movec   m0,n7
P:07EA 2A0000         2 467228762         move    #0,a2
P:07EB 5C6F03         4 467628763         tst     a	                a1,y:(r7+n7)
P:07EC 0AF0A2 rrrrrr  6 468228766         jne     L381
                            28767 
                            28768 ; 720  |                                                }
                            28769 ; 721  |
                            28770 ; 722  |                                                MetaData->wTrackNum = TmpVal[0];
                            28771 
                            28781 
                            28782 ; 723  |                                                break;
                            28783 
P:07EE 3E0A00         2 468428773         move    #10,n6
P:07EF 77F400 FFFFF0  3 468728774         move    #-16,n7
P:07F1 000000         2 468928774         nop             ; (inserted)
P:07F2 6EEF00         4 469328776         move    y:(r7+n7),r6
P:07F3 77F400 FFFFD9  3 469628777         move    #-39,n7
P:07F5 000000         2 469828777         nop             ; (inserted)
P:07F6 4EEF00         4 470228779         move    y:(r7+n7),y0
P:07F7 4E6E00         4 470628780         move    y0,y:(r6+n6)
P:07F8 0AF080 rrrrrr  6 471228785         jmp     L431
                            28786 
                            28787 ; 724  |                                            case TYPE_DWORD:
                            28788 
                            28790 L383:
                            28794 
                            28795 ; 725  |                                                MetaData->wTrackNum = (WORD) GetWmaMetaDat
                                  a_ReadDWORD(iHandle);
                            28796 
P:07FA 77F400 FFFFF5  3 471528790         move    #-11,n7
P:07FC 22CE00         2 471728793         move    r6,a
P:07FD 6E6F00         4 472128792         move    r6,y:(r7+n7)
P:07FE 0BF080 rrrrrr  6 472728798         jsr     FGetWmaMetaData_ReadDWORD
                            28806 
                            28807 ; 726  |                                                break;
                            28808 
P:0800 3E0A00         2 472928800         move    #10,n6
P:0801 77F400 FFFFF0  3 473228801         move    #-16,n7
P:0803 000000         2 473428801         nop             ; (inserted)
P:0804 6EEF00         4 473828803         move    y:(r7+n7),r6
P:0805 000000         2 474028803         nop             ; (inserted)
P:0806 586E00         4 474428805         move    a0,y:(r6+n6)
P:0807 0AF080 rrrrrr  6 475028810         jmp     L431
                            28811 
                            28812 ; 727  |                                            case TYPE_QWORD:
                            28813 
                            28815 L384:
                            28819 
                            28820 ; 728  |                                                MetaData->wTrackNum = (WORD) GetWmaMetaDat
                                  a_ReadQWORD(iHandle);
                            28821 
P:0809 77F400 FFFFF5  3 475328815         move    #-11,n7
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 462

M:ADDR CODE           CYCLES LINE SOURCELINE
P:080B 22CE00         2 475528818         move    r6,a
P:080C 6E6F00         4 475928817         move    r6,y:(r7+n7)
P:080D 0BF080 rrrrrr  6 476528823         jsr     FGetWmaMetaData_ReadQWORD
                            28830 
                            28831 ; 729  |                                                break;
                            28832 
P:080F 3E0A00         2 476728824         move    #10,n6
P:0810 77F400 FFFFF0  3 477028825         move    #-16,n7
P:0812 000000         2 477228825         nop             ; (inserted)
P:0813 6EEF00         4 477628827         move    y:(r7+n7),r6
P:0814 000000         2 477828827         nop             ; (inserted)
P:0815 586E00         4 478228829         move    a0,y:(r6+n6)
P:0816 0AF080 rrrrrr  6 478828834         jmp     L431
                            28835 
                            28836 ; 730  |                                            case TYPE_WORD:
                            28837 
                            28839 L385:
                            28843 
                            28844 ; 731  |                                                MetaData->wTrackNum = (WORD) GetWmaMetaDat
                                  a_ReadWORD(iHandle);
                            28845 
P:0818 77F400 FFFFF5  3 479128839         move    #-11,n7
P:081A 22CE00         2 479328842         move    r6,a
P:081B 6E6F00         4 479728841         move    r6,y:(r7+n7)
P:081C 0BF080 rrrrrr  6 480328847         jsr     FGetWmaMetaData_ReadWORD
                            28854 
                            28855 ; 732  |                                                break;
                            28856 
P:081E 3E0A00         2 480528848         move    #10,n6
P:081F 77F400 FFFFF0  3 480828849         move    #-16,n7
P:0821 000000         2 481028849         nop             ; (inserted)
P:0822 6EEF00         4 481428851         move    y:(r7+n7),r6
P:0823 000000         2 481628851         nop             ; (inserted)
P:0824 5C6E00         4 482028853         move    a1,y:(r6+n6)
P:0825 0AF080 rrrrrr  6 482628858         jmp     L431
                            28859 
                            28860 ; 733  |                                            default:
                            28861 
                            28863 L386:
                            28868 
                            28869 ; 734  |                                                // other Descriptor Value Data Type (BOOL,
                                   BYTE ARRAY, etc.)
                            28870 ; 735  |                                                //MetaData->wTrackNum = 0x000fff;
                            28871 ; 736  |                                                fseek(iHandle, wDescriptorNameLength, SEEK
                                  _CUR);
                            28872 
P:0827 77F400 FFFFF5  3 482928865         move    #-11,n7
P:0829 240051         2 483128874         tfr     y0,a	                #0,x0
P:082A 6E6F00         4 483528867         move    r6,y:(r7+n7)
P:082B 77F400 FFFFF4  3 483828880         move    #-12,n7
P:082D 218800         2 484028875         move    a1,a0
P:082E 5FEF00         4 484428882         move    y:(r7+n7),b
P:082F 214C00         2 484628876         move    a2,a1
P:0830 0BF080 rrrrrr  6 485228886         jsr     Ffseek
                            28890 
                            28891 ; 737  |                                        }
                            28892 ; 738  |                                    } else {
                            28893 
P:0832 0AF080 rrrrrr  6 485828895         jmp     L431
                            28896 
                            28897 ; 739  |                                        // Skip over this extended content descriptor
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 463

M:ADDR CODE           CYCLES LINE SOURCELINE
                            28898 ; 740  |                                            fseek(iHandle,2,SEEK_CUR);  //seek past the da
                                  ta type
                            28899 ; 741  |                                            // get the descriptor value length, and skip p
                                  ast it
                            28900 ; 742  |                                            fseek(iHandle, GetWmaMetaData_ReadWORD(iHandle
                                  ), SEEK_CUR);
                            28901 ; 743  |                                    }
                            28902 ; 744  |#ifdef JPEG_ALBUM_ART
                            28903 ; 745  |                                                                } else if(sDescriptorName[
                                   3]=='P' &&
                            28904 ; 746  |                                                                        sDescriptorName[ 4
                                  ]=='i' &&
                            28905 ; 747  |                                                                        sDescriptorName[ 5
                                  ]=='c' &&
                            28906 ; 748  |                                                                        sDescriptorName[ 6
                                  ]=='t' &&
                            28907 ; 749  |                                                                        sDescriptorName[ 7
                                  ]=='u' &&
                            28908 ; 750  |                                                                        sDescriptorName[ 8
                                  ]=='r' &&
                            28909 ; 751  |                                                                        sDescriptorName[ 9
                                  ]=='e') {
                            28910 ; 752  |                                                                        if (iExtendedConte
                                  nt & (1 << EXTENDED_CONTENT_BIT_ALBUMART)) {
                            28911 ; 753  |                                            fseek(iHandle, 2, SEEK_CUR);//seek past the da
                                  ta type
                            28912 ; 754  |                                        wDescriptorNameLength = GetWmaMetaData_ReadWORD(iH
                                  andle);
                            28913 ; 755  |                                                                                // Extract
                                   WM Picture
                            28914 ; 756  |                                                            SysCallFunction(RSRC_APIC_FRAM
                                  E_CODEBANK, ApicReadObject, iHandle, wDescriptorNameLength, NULL);
                            28915 ; 757  |                                                                                iExtendedC
                                  ontent &= ~(1 << EXTENDED_CONTENT_BIT_ALBUMART);
                            28916 ; 758  |                                                                        } else {
                            28917 ; 759  |                                                                                // Skip ov
                                  er this extended content descriptor
                            28918 ; 760  |                                                                                fseek(iHan
                                  dle,2,SEEK_CUR);        //seek past the data type
                            28919 ; 761  |                                                                                // get the
                                   descriptor value length, and skip past it
                            28920 ; 762  |                                                                                fseek(iHan
                                  dle, GetWmaMetaData_ReadWORD(iHandle), SEEK_CUR);
                            28921 ; 763  |                                    }
                            28922 ; 764  |#endif  // JPEG_ALBUM_ART
                            28923 ; 765  |#ifdef SYNC_LYRICS
                            28924 ; 766  |                                                            } else if( sDescriptorName[ 3]
                                  =='L' &&
                            28925 ; 767  |                                                                        sDescriptorName[ 4
                                  ]=='y' &&
                            28926 ; 768  |                                                                        sDescriptorName[ 5
                                  ]=='r' &&
                            28927 ; 769  |                                                                        sDescriptorName[ 6
                                  ]=='i' &&
                            28928 ; 770  |                                                                        sDescriptorName[ 7
                                  ]=='c' &&
                            28929 ; 771  |                                                                        sDescriptorName[ 8
                                  ]=='s' &&
                            28930 ; 772  |                                                                        sDescriptorName[ 9
                                  ]=='_' &&
                            28931 ; 773  |                                                                        sDescriptorName[10
                                  ]=='S' &&
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 464

M:ADDR CODE           CYCLES LINE SOURCELINE
                            28932 ; 774  |                                                                        sDescriptorName[11
                                  ]=='y' &&
                            28933 ; 775  |                                                                        sDescriptorName[12
                                  ]=='n' &&
                            28934 ; 776  |                                                                        sDescriptorName[13
                                  ]=='c' &&
                            28935 ; 777  |                                                                        sDescriptorName[14
                                  ]=='h' &&
                            28936 ; 778  |                                                                        sDescriptorName[15
                                  ]=='r' &&
                            28937 ; 779  |                                                                        sDescriptorName[16
                                  ]=='o' &&
                            28938 ; 780  |                                                                        sDescriptorName[17
                                  ]=='n' &&
                            28939 ; 781  |                                                                        sDescriptorName[18
                                  ]=='i' &&
                            28940 ; 782  |                                                                        sDescriptorName[19
                                  ]=='s' &&
                            28941 ; 783  |                                                                        sDescriptorName[20
                                  ]=='e' &&
                            28942 ; 784  |                                                                        sDescriptorName[21
                                  ]=='d') {
                            28943 
P:0834 77F400 FFFFB7  3 486128945 L398:   move    #-73,n7
P:0836 44F400 00004C  3 486428948         move    #>76,x0
P:0838 5FEF00         4 486828947         move    y:(r7+n7),b
P:0839 2B0000         2 487028949         move    #0,b2
P:083A 20004D         2 487228950         cmp     x0,b
P:083B 0AF0A2 rrrrrr  6 487828951         jne     L422
P:083D 77F400 FFFFB8  3 488128952         move    #-72,n7
P:083F 46F400 000079  3 488428955         move    #>$79,y0
P:0841 5FEF00         4 488828954         move    y:(r7+n7),b
P:0842 2B0000         2 489028956         move    #0,b2
P:0843 20005D         2 489228957         cmp     y0,b
P:0844 0AF0A2 rrrrrr  6 489828958         jne     L422
P:0846 77F400 FFFFB9  3 490128959         move    #-71,n7
P:0848 46F400 000072  3 490428962         move    #>114,y0
P:084A 5EEF00         4 490828961         move    y:(r7+n7),a
P:084B 2A0000         2 491028963         move    #0,a2
P:084C 200055         2 491228964         cmp     y0,a
P:084D 0AF0A2 rrrrrr  6 491828965         jne     L422
P:084F 77F400 FFFFBA  3 492128967         move    #-70,n7
P:0851 46F400 000069  3 492428966         move    #>105,y0
P:0853 5FEF00         4 492828969         move    y:(r7+n7),b
P:0854 2B0000         2 493028970         move    #0,b2
P:0855 20005D         2 493228971         cmp     y0,b
P:0856 0AF0A2 rrrrrr  6 493828972         jne     L422
P:0858 77F400 FFFFBB  3 494128973         move    #-69,n7
P:085A 46F400 000063  3 494428976         move    #>99,y0
P:085C 5FEF00         4 494828975         move    y:(r7+n7),b
P:085D 2B0000         2 495028977         move    #0,b2
P:085E 20005D         2 495228978         cmp     y0,b
P:085F 0AF0A2 rrrrrr  6 495828979         jne     L422
P:0861 77F400 FFFFBC  3 496128980         move    #-68,n7
P:0863 56F400 000073  3 496428983         move    #>115,a
P:0865 5FEF00         4 496828982         move    y:(r7+n7),b
P:0866 2B0000         2 497028984         move    #0,b2
P:0867 20000D         2 497228985         cmp     a,b
P:0868 0AF0A2 rrrrrr  6 497828986         jne     L422
P:086A 77F400 FFFFBD  3 498128987         move    #-67,n7
P:086C 46F400 00005F  3 498428990         move    #>95,y0
P:086E 5FEF00         4 498828989         move    y:(r7+n7),b
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 465

M:ADDR CODE           CYCLES LINE SOURCELINE
P:086F 2B0000         2 499028991         move    #0,b2
P:0870 20005D         2 499228992         cmp     y0,b
P:0871 0AF0A2 rrrrrr  6 499828993         jne     L422
P:0873 77F400 FFFFBE  3 500128994         move    #-66,n7
P:0875 44F400 000053  3 500428997         move    #>83,x0
P:0877 5EEF00         4 500828996         move    y:(r7+n7),a
P:0878 2A0000         2 501028998         move    #0,a2
P:0879 200045         2 501228999         cmp     x0,a
P:087A 0AF0A2 rrrrrr  6 501829000         jne     L422
P:087C 77F400 FFFFBF  3 502129001         move    #-65,n7
P:087E 56F400 000079  3 502429004         move    #>$79,a
P:0880 5FEF00         4 502829003         move    y:(r7+n7),b
P:0881 2B0000         2 503029005         move    #0,b2
P:0882 20000D         2 503229006         cmp     a,b
P:0883 0AF0A2 rrrrrr  6 503829007         jne     L422
P:0885 77F400 FFFFC0  3 504129008         move    #-64,n7
P:0887 56F400 00006E  3 504429011         move    #>110,a
P:0889 5FEF00         4 504829010         move    y:(r7+n7),b
P:088A 2B0000         2 505029012         move    #0,b2
P:088B 20000D         2 505229013         cmp     a,b
P:088C 0AF0A2 rrrrrr  6 505829014         jne     L422
P:088E 77F400 FFFFC1  3 506129015         move    #-63,n7
P:0890 44F400 000063  3 506429018         move    #>99,x0
P:0892 5EEF00         4 506829017         move    y:(r7+n7),a
P:0893 2A0000         2 507029019         move    #0,a2
P:0894 200045         2 507229020         cmp     x0,a
P:0895 0AF0A2 rrrrrr  6 507829021         jne     L422
P:0897 77F400 FFFFC2  3 508129022         move    #-62,n7
P:0899 56F400 000068  3 508429025         move    #>104,a
P:089B 5FEF00         4 508829024         move    y:(r7+n7),b
P:089C 2B0000         2 509029026         move    #0,b2
P:089D 20000D         2 509229027         cmp     a,b
P:089E 0AF0A2 rrrrrr  6 509829028         jne     L422
P:08A0 77F400 FFFFC3  3 510129029         move    #-61,n7
P:08A2 45F400 000072  3 510429032         move    #>114,x1
P:08A4 5FEF00         4 510829031         move    y:(r7+n7),b
P:08A5 2B0000         2 511029033         move    #0,b2
P:08A6 20006D         2 511229034         cmp     x1,b
P:08A7 0AF0A2 rrrrrr  6 511829035         jne     L422
P:08A9 77F400 FFFFC4  3 512129036         move    #-60,n7
P:08AB 46F400 00006F  3 512429039         move    #>111,y0
P:08AD 5EEF00         4 512829038         move    y:(r7+n7),a
P:08AE 2A0000         2 513029040         move    #0,a2
P:08AF 200055         2 513229041         cmp     y0,a
P:08B0 0AF0A2 rrrrrr  6 513829042         jne     L422
P:08B2 77F400 FFFFC5  3 514129043         move    #-59,n7
P:08B4 46F400 00006E  3 514429046         move    #>110,y0
P:08B6 5FEF00         4 514829045         move    y:(r7+n7),b
P:08B7 2B0000         2 515029047         move    #0,b2
P:08B8 20005D         2 515229048         cmp     y0,b
P:08B9 0AF0A2 rrrrrr  6 515829049         jne     L422
P:08BB 77F400 FFFFC6  3 516129051         move    #-58,n7
P:08BD 57F400 000069  3 516429050         move    #>105,b
P:08BF 5EEF00         4 516829053         move    y:(r7+n7),a
P:08C0 2A0000         2 517029054         move    #0,a2
P:08C1 200005         2 517229055         cmp     b,a
P:08C2 0AF0A2 rrrrrr  6 517829056         jne     L422
P:08C4 77F400 FFFFC7  3 518129057         move    #-57,n7
P:08C6 44F400 000073  3 518429060         move    #>115,x0
P:08C8 5EEF00         4 518829059         move    y:(r7+n7),a
P:08C9 2A0000         2 519029061         move    #0,a2
P:08CA 200045         2 519229062         cmp     x0,a
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 466

M:ADDR CODE           CYCLES LINE SOURCELINE
P:08CB 0AF0A2 rrrrrr  6 519829063         jne     L422
P:08CD 77F400 FFFFC8  3 520129065         move    #-56,n7
P:08CF 44F400 000065  3 520429064         move    #>101,x0
P:08D1 5FEF00         4 520829067         move    y:(r7+n7),b
P:08D2 2B0000         2 521029068         move    #0,b2
P:08D3 20004D         2 521229069         cmp     x0,b
P:08D4 0AF0A2 rrrrrr  6 521829070         jne     L422
P:08D6 77F400 FFFFC9  3 522129071         move    #-55,n7
P:08D8 44F400 000064  3 522429074         move    #>100,x0
P:08DA 5FEF00         4 522829073         move    y:(r7+n7),b
P:08DB 2B0000         2 523029075         move    #0,b2
P:08DC 20004D         2 523229076         cmp     x0,b
P:08DD 0AF0A2 rrrrrr  6 523829077         jne     L422
                            29078 
                            29079 ; 785  |                                                                        if (iExtendedConte
                                  nt & (1 << EXTENDED_CONTENT_BIT_LYRICS)) {
                            29080 
P:08DF 77F400 FFFFFA  3 524129082         move    #-6,n7
P:08E1 000000         2 524329082         nop             ; (inserted)
P:08E2 4FEF00         4 524729084         move    y:(r7+n7),y1
P:08E3 0AC704 rrrrrr  6 525329085         jclr    #4,y1,L422
                            29086 
                            29087 ; 786  |                                            fseek(iHandle, 2, SEEK_CUR);//seek past the da
                                  ta type
                            29088 
P:08E5 77F413 FFFFF4  3 525629096         clr     a	                #-12,n7
P:08E7 240000         2 525829095         move    #0,x0
P:08E8 280200         2 526029097         move    #2,a0
P:08E9 5FEF00         4 526429092         move    y:(r7+n7),b
P:08EA 0BF080 rrrrrr  6 527029098         jsr     Ffseek
                            29104 
                            29105 ; 787  |                                        wDescriptorNameLength = GetWmaMetaData_ReadWORD(iH
                                  andle); // Descriptor Value Length
                            29106 
P:08EC 77F400 FFFFF5  3 527329101         move    #-11,n7
P:08EE 000000         2 527529101         nop             ; (inserted)
P:08EF 5EEF00         4 527929103         move    y:(r7+n7),a
P:08F0 0BF080 rrrrrr  6 528529108         jsr     FGetWmaMetaData_ReadWORD
                            29111 
                            29112 ; 788  |                                                                        // Extract WMA Lyr
                                  ics
                            29113 ; 789  |                                                                        SysCallFunction(RS
                                  RC_WMA_LYRICS_CODEBANK, WMALyricsReadFrame, iHandle, wDescriptorNameLength, NULL);
                            29114 
P:08F2 340000         2 528729116         move    #0,r4
P:08F3 77F400 FFFFF4  3 529029117         move    #-12,n7
P:08F5 60F400 rrrrrr  3 529329123         move    #FWMALyricsReadFrame,r0
P:08F7 218400         2 529529109         move    a1,x0
P:08F8 5FEF00         4 529929119         move    y:(r7+n7),b
P:08F9 56F400 0001F2  3 530229122         move    #498,a
P:08FB 0BF080 rrrrrr  6 530829124         jsr     SysCallFunction
                            29128 
                            29129 ; 790  |                                                                        iExtendedContent &
                                  = ~(1 << EXTENDED_CONTENT_BIT_LYRICS);
                            29130 
                            29139 
                            29140 ; 791  |                                                                        } else {
                            29141 
P:08FD 77F400 FFFFFA  3 531129132         move    #-6,n7
P:08FF 000000         2 531329132         nop             ; (inserted)
P:0900 0A6F44         6 531929134         bclr    #4,y:(r7+n7)
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 467

M:ADDR CODE           CYCLES LINE SOURCELINE
P:0901 0AF080 rrrrrr  6 532529143         jmp     L431
                            29144 
                            29145 ; 792  |                                                                                // Skip ov
                                  er this extended content descriptor
                            29146 ; 793  |                                                                                fseek(iHan
                                  dle,2,SEEK_CUR);        //seek past the data type
                            29147 ; 794  |                                                                                // get the
                                   descriptor value length, and skip past it
                            29148 ; 795  |                                                                                fseek(iHan
                                  dle, GetWmaMetaData_ReadWORD(iHandle), SEEK_CUR);
                            29149 ; 796  |                                    }
                            29150 ; 797  |#endif  // SYNC_LYRICS
                            29151 ; 798  |                                                                } else {
                            29152 ; 799  |                                                                        // Skip over this 
                                  extended content descriptor
                            29153 ; 800  |                                                                        fseek(iHandle,2,SE
                                  EK_CUR);        //seek past the data type
                            29154 
                            29156 L422:
P:0903 77F413 FFFFF4  3 532829162         clr     a	                #-12,n7
P:0905 240000         2 533029161         move    #0,x0
P:0906 280200         2 533229163         move    #2,a0
P:0907 5FEF00         4 533629158         move    y:(r7+n7),b
P:0908 0BF080 rrrrrr  6 534229164         jsr     Ffseek
                            29170 
                            29171 ; 801  |                                                                        // get the descrip
                                  tor value length, and skip past it
                            29172 ; 802  |                                                                        fseek(iHandle, Get
                                  WmaMetaData_ReadWORD(iHandle), SEEK_CUR);
                            29173 
P:090A 77F400 FFFFF5  3 534529167         move    #-11,n7
P:090C 000000         2 534729167         nop             ; (inserted)
P:090D 5EEF00         4 535129169         move    y:(r7+n7),a
P:090E 0BF080 rrrrrr  6 535729175         jsr     FGetWmaMetaData_ReadWORD
P:0910 77F400 FFFFF4  3 536029179         move    #-12,n7
P:0912 2A0000         2 536229178         move    #0,a2
P:0913 240000         2 536429184         move    #0,x0
P:0914 218800         2 536629176         move    a1,a0
P:0915 5FEF00         4 537029181         move    y:(r7+n7),b
P:0916 2C0000         2 537229177         move    #0,a1
P:0917 0BF080 rrrrrr  6 537829185         jsr     Ffseek
                            29188 
                            29189 ; 803  |                                                                }
                            29190 ; 804  |
                            29191 ; 805  |                                                                if (pPointer) {
                            29192 
P:0919 77F400 FFFFFB  3 538129194 L431:   move    #-5,n7
P:091B 000000         2 538329194         nop             ; (inserted)
P:091C 5EEF00         4 538729196         move    y:(r7+n7),a
P:091D 21D603         2 538929198         tst     a	                a,r6
P:091E 0AF0AA rrrrrr  6 539529199         jeq     L433
                            29203 
                            29204 ; 806  |                                                                        if (GetWmaMetaData
                                  _ReadWORD(iHandle)==0) {
                            29205 
P:0920 77F400 FFFFF5  3 539829200         move    #-11,n7
P:0922 000000         2 540029200         nop             ; (inserted)
P:0923 5EEF00         4 540429202         move    y:(r7+n7),a
P:0924 0BF080 rrrrrr  6 541029207         jsr     FGetWmaMetaData_ReadWORD
P:0926 2A0000         2 541229208         move    #0,a2
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 468

M:ADDR CODE           CYCLES LINE SOURCELINE
P:0927 200003         2 541429209         tst     a
P:0928 0AF0A2 rrrrrr  6 542029210         jne     L432
                            29214 
                            29215 ; 807  |                                                                                //must be 
                                  a unicode string
                            29216 ; 808  |                                                                                wDescripto
                                  rNameLength = GetWmaMetaData_ReadWORD(iHandle)/2;
                            29217 
P:092A 77F400 FFFFF5  3 542329211         move    #-11,n7
P:092C 000000         2 542529211         nop             ; (inserted)
P:092D 5EEF00         4 542929213         move    y:(r7+n7),a
P:092E 0BF080 rrrrrr  6 543529219         jsr     FGetWmaMetaData_ReadWORD
                            29224 
                            29225 ; 809  |                                                                                GetWmaMeta
                                  Data_ReadString(iHandle, pPointer, wBufferLength, wDescriptorNameLength);
                            29226 
P:0930 77F423 FFFFFC  3 543829220         lsr     a	                #-4,n7
P:0932 218400         2 544029221         move    a1,x0
P:0933 5FEF00         4 544429230         move    y:(r7+n7),b
P:0934 77F400 FFFFF5  3 544729233         move    #-11,n7
P:0936 000000         2 544929233         nop             ; (inserted)
P:0937 5EEF00         4 545329235         move    y:(r7+n7),a
P:0938 77F400 FFFFFB  3 545629236         move    #-5,n7
P:093A 000000         2 545829236         nop             ; (inserted)
P:093B 68EF00         4 546229238         move    y:(r7+n7),r0
P:093C 0BF080 rrrrrr  6 546829239         jsr     FGetWmaMetaData_ReadString
                            29245 
                            29246 ; 810  |                                                                        }
                            29247 ; 811  |                                                                        pPointer = NULL;
                            29248 
                            29250 L432:
                            29257 
                            29258 ; 812  |                                                                }
                            29259 ; 813  |
                            29260 ; 814  |                                                                if (!iExtendedContent) {
                            29261 
P:093E 360000         2 547029250         move    #0,r6
P:093F 77F400 FFFFFB  3 547329252         move    #-5,n7
P:0941 000000         2 547529252         nop             ; (inserted)
P:0942 6E6F00         4 547929254         move    r6,y:(r7+n7)
P:0943 77F400 FFFFFA  3 548229263 L433:   move    #-6,n7
P:0945 000000         2 548429263         nop             ; (inserted)
P:0946 5FEF00         4 548829265         move    y:(r7+n7),b
P:0947 20000B         2 549029266         tst     b
P:0948 0AF0A2 rrrrrr  6 549629267         jne     L437
                            29268 
                            29269 ; 815  |                                                                        // all of the fiel
                                  d have been updated, quit the loop
                            29270 ; 816  |                                                                        break;
                            29271 
P:094A 0AF080 rrrrrr  6 550229273         jmp     L442
                            29274 
                            29275 ; 817  |                                                                }
                            29276 ; 818  |                                                        }
                            29277 ; 819  |                                                        // added end, SL
                            29278 ; 820  |#endif
                            29279 ; 821  |                            else
                            29280 ; 822  |                            {//skip over this extended content descriptor
                            29281 ; 823  |                                fseek(iHandle,2,SEEK_CUR);//seek past the data type
                            29282 
                            29284 L436:
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 469

M:ADDR CODE           CYCLES LINE SOURCELINE
P:094C 77F413 FFFFF4  3 550529290         clr     a	                #-12,n7
P:094E 240000         2 550729289         move    #0,x0
P:094F 280200         2 550929291         move    #2,a0
P:0950 5FEF00         4 551329286         move    y:(r7+n7),b
P:0951 0BF080 rrrrrr  6 551929292         jsr     Ffseek
                            29298 
                            29299 ; 824  |                                //get the descriptor value length, and skip past it
                            29300 ; 825  |                                fseek(iHandle,GetWmaMetaData_ReadWORD(iHandle),SEEK_CUR);
                            29301 
P:0953 77F400 FFFFF5  3 552229295         move    #-11,n7
P:0955 000000         2 552429295         nop             ; (inserted)
P:0956 5EEF00         4 552829297         move    y:(r7+n7),a
P:0957 0BF080 rrrrrr  6 553429303         jsr     FGetWmaMetaData_ReadWORD
P:0959 77F400 FFFFF4  3 553729307         move    #-12,n7
P:095B 2A0000         2 553929306         move    #0,a2
P:095C 240000         2 554129312         move    #0,x0
P:095D 218800         2 554329304         move    a1,a0
P:095E 5FEF00         4 554729309         move    y:(r7+n7),b
P:095F 2C0000         2 554929305         move    #0,a1
P:0960 0BF080 rrrrrr  6 555529313         jsr     Ffseek
                            29316 
                            29317 ; 826  |                            }
                            29318 
                            29320 L437:
P:0962 77F400 FFFFFE  3 555829322         move    #-2,n7
P:0964 56F400 000001  3 556129325         move    #>1,a
P:0966 5FEF00         4 556529324         move    y:(r7+n7),b
P:0967 200018         2 556729326         add     a,b
                            29329 L438:
P:0968 77F400 FFFFFD  3 557029329         move    #-3,n7
P:096A 000000         2 557229329         nop             ; (inserted)
P:096B 4CEF00         4 557629331         move    y:(r7+n7),x0
P:096C 77F44D FFFFFE  3 557929335         cmp     x0,b	                #-2,n7
P:096E 000000         2 558129335         nop             ; (inserted)
P:096F 5D6F00         4 558529334         move    b1,y:(r7+n7)
P:0970 0AF0A9 rrrrrr  6 559129338         jlt     L357
                            29340 
                            29341 ; 827  |                        }
                            29342 ; 828  |                    }
                            29343 ; 829  |                }
                            29344 ; 830  |
                            29345 ; 831  |            }
                            29346 ; 832  |#if (defined JPEG_ALBUM_ART) || (defined SYNC_LYRICS)
                            29347 ; 833  |            TempGUID.wValues[0] = ASF_HEADER_EXTENSION_GUID_0;
                            29348 
                            29350 L442:
                            29354 
                            29355 ; 834  |            TempGUID.wValues[1] = ASF_HEADER_EXTENSION_GUID_1;
                            29356 
                            29362 
                            29363 ; 835  |            TempGUID.wValues[2] = ASF_HEADER_EXTENSION_GUID_2;
                            29364 
                            29370 
                            29371 ; 836  |            TempGUID.wValues[3] = ASF_HEADER_EXTENSION_GUID_3;
                            29372 
                            29378 
                            29379 ; 837  |            TempGUID.wValues[4] = ASF_HEADER_EXTENSION_GUID_4;
                            29380 
                            29386 
                            29387 ; 838  |            TempGUID.wValues[5] = ASF_HEADER_EXTENSION_GUID_5;
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 470

M:ADDR CODE           CYCLES LINE SOURCELINE
                            29388 
                            29400 
                            29401 ; 839  |
                            29402 ; 840  |            if (GetWmaMetaData_FindFirstObject(iHandle, wObjectCount, &TempGUID) > 0) {
                            29403 
P:0972 77F400 FFFFE2  3 559429351         move    #-30,n7
P:0974 55F400 C000E3  3 559729374         move    #12583139,b1
P:0976 46F400 BF03B5  3 560029350         move    #12518325,y0
P:0978 44F400 A92E5F  3 560329358         move    #11087455,x0
P:097A 4E6F00         4 560729353         move    y0,y:(r7+n7)
P:097B 77F400 FFFFE3  3 561029359         move    #-29,n7
P:097D 000000         2 561229359         nop             ; (inserted)
P:097E 4C6F00         4 561629361         move    x0,y:(r7+n7)
P:097F 77F400 FFFFE4  3 561929367         move    #-28,n7
P:0981 44F400 8E11CF  3 562229366         move    #9310671,x0
P:0983 4C6F00         4 562629369         move    x0,y:(r7+n7)
P:0984 77F400 FFFFE5  3 562929375         move    #-27,n7
P:0986 000000         2 563129375         nop             ; (inserted)
P:0987 5D6F00         4 563529377         move    b1,y:(r7+n7)
P:0988 77F400 FFFFE6  3 563829383         move    #-26,n7
P:098A 57F400 53200C  3 564129382         move    #5447692,b
P:098C 296500         2 564329390         move    #101,b0
P:098D 5D6F00         4 564729385         move    b1,y:(r7+n7)
P:098E 77F400 FFFFE7  3 565029391         move    #-25,n7
P:0990 000000         2 565229391         nop             ; (inserted)
P:0991 596F00         4 565629393         move    b0,y:(r7+n7)
P:0992 77F400 FFFFE2  3 565929394         move    #-30,n7
P:0994 000000         2 566129394         nop             ; (inserted)
P:0995 044F10         4 566529396         lua     (r7)+n7,r0
P:0996 77F400 FFFFF5  3 566829397         move    #-11,n7
P:0998 000000         2 567029397         nop             ; (inserted)
P:0999 5EEF00         4 567429399         move    y:(r7+n7),a
P:099A 77F400 FFFFF6  3 567729405         move    #-10,n7
P:099C 000000         2 567929405         nop             ; (inserted)
P:099D 5FEF00         4 568329407         move    y:(r7+n7),b
P:099E 0BF080 rrrrrr  6 568929408         jsr     FGetWmaMetaData_FindFirstObject
P:09A0 2A0000         2 569129409         move    #0,a2
P:09A1 200003         2 569329410         tst     a
P:09A2 0AF0AF rrrrrr  6 569929411         jle     L472
                            29419 
                            29420 ; 841  |                                // ASF Header Extension Object is found
                            29421 ; 842  |                DWORD   dwHeaderExtensionDataSize;
                            29422 ; 843  |                INT             iDataType, iDataLength;
                            29423 ; 844  |
                            29424 ; 845  |                TempGUID2.wValues[0] = ASF_RESERVED_1_GUID_0;
                            29425 
                            29431 
                            29432 ; 846  |                TempGUID2.wValues[1] = ASF_RESERVED_1_GUID_1;
                            29433 
                            29439 
                            29440 ; 847  |                TempGUID2.wValues[2] = ASF_RESERVED_1_GUID_2;
                            29441 
                            29447 
                            29448 ; 848  |                TempGUID2.wValues[3] = ASF_RESERVED_1_GUID_3;
                            29449 
                            29455 
                            29456 ; 849  |                TempGUID2.wValues[4] = ASF_RESERVED_1_GUID_4;
                            29457 
                            29463 
                            29464 ; 850  |                TempGUID2.wValues[5] = ASF_RESERVED_1_GUID_5;
                            29465 
                            29471 
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 471

M:ADDR CODE           CYCLES LINE SOURCELINE
                            29472 ; 851  |
                            29473 ; 852  |                FSFileRead(16, iHandle, MEM_SPACE_Y, -1, (void *)&TempGUID);
                            29474 
P:09A4 77F400 FFFFDC  3 570229428         move    #-36,n7
P:09A6 296500         2 570429467         move    #101,b0
P:09A7 54F400 D3D211  3 570729427         move    #13881873,a1
P:09A9 55F400 C000E6  3 571029451         move    #12583142,b1
P:09AB 46F400 A9BAAB  3 571329435         move    #11123371,y0
P:09AD 44F400 8E11CF  3 571629443         move    #9310671,x0
P:09AF 5C6F00         4 572029430         move    a1,y:(r7+n7)
P:09B0 77F400 FFFFDD  3 572329436         move    #-35,n7
P:09B2 54F400 53200C  3 572629459         move    #5447692,a1
P:09B4 4E6F00         4 573029438         move    y0,y:(r7+n7)
P:09B5 77F400 FFFFDE  3 573329444         move    #-34,n7
P:09B7 46F400 FFFFFF  3 573629484         move    #>-1,y0
P:09B9 4C6F00         4 574029446         move    x0,y:(r7+n7)
P:09BA 77F400 FFFFDF  3 574329452         move    #-33,n7
P:09BC 244000         2 574529486         move    #<$40,x0
P:09BD 5D6F00         4 574929454         move    b1,y:(r7+n7)
P:09BE 77F400 FFFFE0  3 575229460         move    #-32,n7
P:09C0 000000         2 575429460         nop             ; (inserted)
P:09C1 5C6F00         4 575829462         move    a1,y:(r7+n7)
P:09C2 77F400 FFFFE1  3 576129468         move    #-31,n7
P:09C4 56F400 000010  3 576429485         move    #>16,a
P:09C6 596F00         4 576829470         move    b0,y:(r7+n7)
P:09C7 77F400 FFFFE2  3 577129476         move    #-30,n7
P:09C9 000000         2 577329476         nop             ; (inserted)
P:09CA 044F10         4 577729478         lua     (r7)+n7,r0
P:09CB 77F400 FFFFF4  3 578029479         move    #-12,n7
P:09CD 000000         2 578229479         nop             ; (inserted)
P:09CE 5FEF00         4 578629481         move    y:(r7+n7),b
P:09CF 0BF080 rrrrrr  6 579229487         jsr     FFSFileRead
                            29490 
                            29491 ; 853  |                if (GetWmaMetaData_CompareGUID(&TempGUID, &TempGUID2)) {
                            29492 
P:09D1 77F400 FFFFDC  3 579529494         move    #-36,n7
P:09D3 000000         2 579729494         nop             ; (inserted)
P:09D4 044F14         4 580129496         lua     (r7)+n7,r4
P:09D5 77F400 FFFFE2  3 580429497         move    #-30,n7
P:09D7 000000         2 580629497         nop             ; (inserted)
P:09D8 044F10         4 581029499         lua     (r7)+n7,r0
P:09D9 0BF080 rrrrrr  6 581629500         jsr     FGetWmaMetaData_CompareGUID
P:09DB 200003         2 581829501         tst     a
P:09DC 0AF0AA rrrrrr  6 582429502         jeq     L472
                            29506 
                            29507 ; 854  |                // Reserved Field 1 is equal to ASF_Reserved_1
                            29508 ; 855  |                                        if (GetWmaMetaData_ReadWORD(iHandle) == 0x06) {
                            29509 
P:09DE 77F400 FFFFF5  3 582729503         move    #-11,n7
P:09E0 000000         2 582929503         nop             ; (inserted)
P:09E1 5EEF00         4 583329505         move    y:(r7+n7),a
P:09E2 0BF080 rrrrrr  6 583929511         jsr     FGetWmaMetaData_ReadWORD
P:09E4 2A0000         2 584129513         move    #0,a2
P:09E5 57F400 000006  3 584429512         move    #>6,b
P:09E7 200005         2 584629514         cmp     b,a
P:09E8 0AF0A2 rrrrrr  6 585229515         jne     L472
                            29519 
                            29520 ; 856  |                                // Reserved Field 2 is equal to 6
                            29521 ; 857  |                                                dwHeaderExtensionDataSize = GetWmaMetaData
                                  _ReadDWORD(iHandle);    // get header extension data size
                            29522 
P:09EA 77F400 FFFFF5  3 585529516         move    #-11,n7
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 472

M:ADDR CODE           CYCLES LINE SOURCELINE
P:09EC 000000         2 585729516         nop             ; (inserted)
P:09ED 5EEF00         4 586129518         move    y:(r7+n7),a
P:09EE 0BF080 rrrrrr  6 586729524         jsr     FGetWmaMetaData_ReadDWORD
                            29526 
                            29527 ; 858  |
                            29528 ; 859  |                                TempGUID.wValues[0] = ASF_METADATA_LIBRARY_GUID_0;
                            29529 
                            29535 
                            29536 ; 860  |                                TempGUID.wValues[1] = ASF_METADATA_LIBRARY_GUID_1;
                            29537 
                            29543 
                            29544 ; 861  |                                TempGUID.wValues[2] = ASF_METADATA_LIBRARY_GUID_2;
                            29545 
                            29551 
                            29552 ; 862  |                                TempGUID.wValues[3] = ASF_METADATA_LIBRARY_GUID_3;
                            29553 
                            29559 
                            29560 ; 863  |                                TempGUID.wValues[4] = ASF_METADATA_LIBRARY_GUID_4;
                            29561 
                            29567 
                            29568 ; 864  |                                TempGUID.wValues[5] = ASF_METADATA_LIBRARY_GUID_5;
                            29569 
                            29578 
                            29579 ; 865  |
                            29580 ; 866  |                                if (GetWmaMetaData_FindNextObjectBySize(iHandle, dwHeaderE
                                  xtensionDataSize, &TempGUID) > 0) {
                            29581 
P:09F0 77F400 FFFFE2  3 587029532         move    #-30,n7
P:09F2 51F400 949844  3 587329539         move    #9738308,b0
P:09F4 55F400 70454E  3 587629563         move    #7357774,b1
P:09F6 47F400 231C94  3 587929531         move    #2301076,y1
P:09F8 46F400 A149D1  3 588229547         move    #10570193,y0
P:09FA 44F400 131D41  3 588529555         move    #1252673,x0
P:09FC 4F6F00         4 588929534         move    y1,y:(r7+n7)
P:09FD 77F400 FFFFE3  3 589229540         move    #-29,n7
P:09FF 000000         2 589429540         nop             ; (inserted)
P:0A00 596F00         4 589829542         move    b0,y:(r7+n7)
P:0A01 77F400 FFFFE4  3 590129548         move    #-28,n7
P:0A03 000000         2 590329548         nop             ; (inserted)
P:0A04 4E6F00         4 590729550         move    y0,y:(r7+n7)
P:0A05 77F400 FFFFE5  3 591029556         move    #-27,n7
P:0A07 46F400 000054  3 591329571         move    #>84,y0
P:0A09 4C6F00         4 591729558         move    x0,y:(r7+n7)
P:0A0A 77F400 FFFFE6  3 592029564         move    #-26,n7
P:0A0C 000000         2 592229564         nop             ; (inserted)
P:0A0D 5D6F00         4 592629566         move    b1,y:(r7+n7)
P:0A0E 77F400 FFFFE7  3 592929572         move    #-25,n7
P:0A10 000000         2 593129572         nop             ; (inserted)
P:0A11 4E6F00         4 593529574         move    y0,y:(r7+n7)
P:0A12 77F400 FFFFF5  3 593829575         move    #-11,n7
P:0A14 000000         2 594029575         nop             ; (inserted)
P:0A15 5FEF00         4 594429577         move    y:(r7+n7),b
P:0A16 77F400 FFFFE2  3 594729583         move    #-30,n7
P:0A18 000000         2 594929583         nop             ; (inserted)
P:0A19 044F10         4 595329585         lua     (r7)+n7,r0
P:0A1A 0BF080 rrrrrr  6 595929586         jsr     FGetWmaMetaData_FindNextObjectBySize
P:0A1C 2A0000         2 596129588         move    #0,a2
P:0A1D 200003         2 596329589         tst     a
P:0A1E 0AF0AF rrrrrr  6 596929590         jle     L472
                            29594 
                            29595 ; 867  |                                        // Metadata Library object is found, find WM/Lyric
                                  s_Synchronised
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 473

M:ADDR CODE           CYCLES LINE SOURCELINE
                            29596 ; 868  |                                wContentDescriptorCount = GetWmaMetaData_ReadWORD(iHandle)
                                  ;       // get description records count
                            29597 
P:0A20 77F400 FFFFF5  3 597229591         move    #-11,n7
P:0A22 000000         2 597429591         nop             ; (inserted)
P:0A23 5EEF00         4 597829593         move    y:(r7+n7),a
P:0A24 0BF080 rrrrrr  6 598429599         jsr     FGetWmaMetaData_ReadWORD
                            29605 
                            29606 ; 869  |                                for (i = 0; i < wContentDescriptorCount; i++) {
                            29607 
P:0A26 77F41B FFFFF6  3 598729609         clr     b	                #-10,n7
P:0A28 000000         2 598929609         nop             ; (inserted)
P:0A29 5C6F00         4 599329602         move    a1,y:(r7+n7)
P:0A2A 0AF080 rrrrrr  6 599929612         jmp     L466
                            29613 L443:
                            29618 
                            29619 ; 870  |                                                                fseek(iHandle, 2+2, SEEK_C
                                  UR); // seek past the language list index and stream number
                            29620 
P:0A2C 77F400 FFFFF7  3 600229613         move    #-9,n7
P:0A2E 240013         2 600429628         clr     a	                #0,x0
P:0A2F 5D6F00         4 600829615         move    b1,y:(r7+n7)
P:0A30 77F400 FFFFF4  3 601129622         move    #-12,n7
P:0A32 280400         2 601329629         move    #4,a0
P:0A33 5FEF00         4 601729624         move    y:(r7+n7),b
P:0A34 0BF080 rrrrrr  6 602329630         jsr     Ffseek
                            29636 
                            29637 ; 871  |                                wDescriptorNameLength = GetWmaMetaData_ReadWORD(iHandle) /
                                   2;
                            29638 
P:0A36 77F400 FFFFF5  3 602629633         move    #-11,n7
P:0A38 000000         2 602829633         nop             ; (inserted)
P:0A39 5EEF00         4 603229635         move    y:(r7+n7),a
P:0A3A 0BF080 rrrrrr  6 603829640         jsr     FGetWmaMetaData_ReadWORD
                            29646 
                            29647 ; 872  |                                                                fseek(iHandle, 2, SEEK_CUR
                                  ); // seek past the data type
                            29648 
P:0A3C 77F423 FFFFF8  3 604129641         lsr     a	                #-8,n7
P:0A3E 240000         2 604329655         move    #0,x0
P:0A3F 5C6F13         4 604729656         clr     a	                a1,y:(r7+n7)
P:0A40 77F400 FFFFF4  3 605029650         move    #-12,n7
P:0A42 280200         2 605229657         move    #2,a0
P:0A43 5FEF00         4 605629652         move    y:(r7+n7),b
P:0A44 0BF080 rrrrrr  6 606229658         jsr     Ffseek
                            29664 
                            29665 ; 873  |                                iDataLength = GetWmaMetaData_ReadDWORD(iHandle);
                            29666 
P:0A46 77F400 FFFFF5  3 606529661         move    #-11,n7
P:0A48 000000         2 606729661         nop             ; (inserted)
P:0A49 5EEF00         4 607129663         move    y:(r7+n7),a
P:0A4A 0BF080 rrrrrr  6 607729668         jsr     FGetWmaMetaData_ReadDWORD
                            29678 
                            29679 ; 874  |                                GetWmaMetaData_ReadString(iHandle, sDescriptorName, 23, wD
                                  escriptorNameLength);
                            29680 
P:0A4C 77F400 FFFFF8  3 608029669         move    #-8,n7
P:0A4E 57F400 000017  3 608329689         move    #>23,b
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 474

M:ADDR CODE           CYCLES LINE SOURCELINE
P:0A50 4CEF00         4 608729671         move    y:(r7+n7),x0
P:0A51 77F400 FFFFF9  3 609029674         move    #-7,n7
P:0A53 000000         2 609229674         nop             ; (inserted)
P:0A54 586F00         4 609629676         move    a0,y:(r7+n7)
P:0A55 77F400 FFFFB4  3 609929682         move    #-76,n7
P:0A57 000000         2 610129682         nop             ; (inserted)
P:0A58 044F10         4 610529684         lua     (r7)+n7,r0
P:0A59 77F400 FFFFF5  3 610829686         move    #-11,n7
P:0A5B 000000         2 611029686         nop             ; (inserted)
P:0A5C 5EEF00         4 611429688         move    y:(r7+n7),a
P:0A5D 0BF080 rrrrrr  6 612029690         jsr     FGetWmaMetaData_ReadString
                            29696 
                            29697 ; 875  |                                if (0){}
                            29698 ; 876  |#ifdef JPEG_ALBUM_ART
                            29699 ; 877  |                                    else if (sDescriptorName[ 0]=='W' &&
                            29700 ; 878  |                                                                        sDescriptorName[ 1
                                  ]=='M' &&
                            29701 ; 879  |                                                                        sDescriptorName[ 2
                                  ]=='/' &&
                            29702 ; 880  |                                                                        sDescriptorName[ 3
                                  ]=='P' &&
                            29703 ; 881  |                                                                        sDescriptorName[ 4
                                  ]=='i' &&
                            29704 ; 882  |                                                                        sDescriptorName[ 5
                                  ]=='c' &&
                            29705 ; 883  |                                                                        sDescriptorName[ 6
                                  ]=='t' &&
                            29706 ; 884  |                                                                        sDescriptorName[ 7
                                  ]=='u' &&
                            29707 ; 885  |                                                                        sDescriptorName[ 8
                                  ]=='r' &&
                            29708 ; 886  |                                                                        sDescriptorName[ 9
                                  ]=='e') {
                            29709 ; 887  |                                                                        // Extract WM Pict
                                  ure
                            29710 ; 888  |                                                        SysCallFunction(RSRC_APIC_FRAME_CO
                                  DEBANK, ApicReadObject, iHandle, iDataLength, NULL);
                            29711 ; 889  |                                        break;
                            29712 ; 890  |                                    }
                            29713 ; 891  |#endif
                            29714 ; 892  |#ifdef SYNC_LYRICS
                            29715 ; 893  |                                    else if (sDescriptorName[ 0]=='W' &&
                            29716 ; 894  |                                                                        sDescriptorName[ 1
                                  ]=='M' &&
                            29717 ; 895  |                                                                        sDescriptorName[ 2
                                  ]=='/' &&
                            29718 ; 896  |                                                                        sDescriptorName[ 3
                                  ]=='L' &&
                            29719 ; 897  |                                                                        sDescriptorName[ 4
                                  ]=='y' &&
                            29720 ; 898  |                                                                        sDescriptorName[ 5
                                  ]=='r' &&
                            29721 ; 899  |                                                                        sDescriptorName[ 6
                                  ]=='i' &&
                            29722 ; 900  |                                                                        sDescriptorName[ 7
                                  ]=='c' &&
                            29723 ; 901  |                                                                        sDescriptorName[ 8
                                  ]=='s' &&
                            29724 ; 902  |                                                                        sDescriptorName[ 9
                                  ]=='_' &&
                            29725 ; 903  |                                                                        sDescriptorName[10
                                  ]=='S' &&
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 475

M:ADDR CODE           CYCLES LINE SOURCELINE
                            29726 ; 904  |                                                                        sDescriptorName[11
                                  ]=='y' &&
                            29727 ; 905  |                                                                        sDescriptorName[12
                                  ]=='n' &&
                            29728 ; 906  |                                                                        sDescriptorName[13
                                  ]=='c' &&
                            29729 ; 907  |                                                                        sDescriptorName[14
                                  ]=='h' &&
                            29730 ; 908  |                                                                        sDescriptorName[15
                                  ]=='r' &&
                            29731 ; 909  |                                                                        sDescriptorName[16
                                  ]=='o' &&
                            29732 ; 910  |                                                                        sDescriptorName[17
                                  ]=='n' &&
                            29733 ; 911  |                                                                        sDescriptorName[18
                                  ]=='i' &&
                            29734 ; 912  |                                                                        sDescriptorName[19
                                  ]=='s' &&
                            29735 ; 913  |                                                                        sDescriptorName[20
                                  ]=='e' &&
                            29736 ; 914  |                                                                        sDescriptorName[21
                                  ]=='d') {
                            29737 
P:0A5F 77F400 FFFFF9  3 612329691         move    #-7,n7
P:0A61 57F400 000057  3 612629742         move    #>87,b
P:0A63 4CEF00         4 613029693         move    y:(r7+n7),x0
P:0A64 77F400 FFFFB4  3 613329739         move    #-76,n7
P:0A66 000000         2 613529739         nop             ; (inserted)
P:0A67 5EEF00         4 613929741         move    y:(r7+n7),a
P:0A68 2A0000         2 614129743         move    #0,a2
P:0A69 200005         2 614329744         cmp     b,a
P:0A6A 0AF0A2 rrrrrr  6 614929745         jne     L465
P:0A6C 77F400 FFFFB5  3 615229746         move    #-75,n7
P:0A6E 46F400 00004D  3 615529749         move    #>77,y0
P:0A70 5FEF00         4 615929748         move    y:(r7+n7),b
P:0A71 2B0000         2 616129750         move    #0,b2
P:0A72 20005D         2 616329751         cmp     y0,b
P:0A73 0AF0A2 rrrrrr  6 616929752         jne     L465
P:0A75 77F400 FFFFB6  3 617229753         move    #-74,n7
P:0A77 46F400 00002F  3 617529756         move    #>47,y0
P:0A79 5FEF00         4 617929755         move    y:(r7+n7),b
P:0A7A 2B0000         2 618129757         move    #0,b2
P:0A7B 20005D         2 618329758         cmp     y0,b
P:0A7C 0AF0A2 rrrrrr  6 618929759         jne     L465
P:0A7E 77F400 FFFFB7  3 619229760         move    #-73,n7
P:0A80 46F400 00004C  3 619529763         move    #>76,y0
P:0A82 5EEF00         4 619929762         move    y:(r7+n7),a
P:0A83 2A0000         2 620129764         move    #0,a2
P:0A84 200055         2 620329765         cmp     y0,a
P:0A85 0AF0A2 rrrrrr  6 620929766         jne     L465
P:0A87 77F400 FFFFB8  3 621229767         move    #-72,n7
P:0A89 47F400 000079  3 621529770         move    #>$79,y1
P:0A8B 5FEF00         4 621929769         move    y:(r7+n7),b
P:0A8C 2B0000         2 622129771         move    #0,b2
P:0A8D 20007D         2 622329772         cmp     y1,b
P:0A8E 0AF0A2 rrrrrr  6 622929773         jne     L465
P:0A90 77F400 FFFFB9  3 623229774         move    #-71,n7
P:0A92 45F400 000072  3 623529777         move    #>114,x1
P:0A94 5FEF00         4 623929776         move    y:(r7+n7),b
P:0A95 2B0000         2 624129778         move    #0,b2
P:0A96 20006D         2 624329779         cmp     x1,b
P:0A97 0AF0A2 rrrrrr  6 624929780         jne     L465
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 476

M:ADDR CODE           CYCLES LINE SOURCELINE
P:0A99 77F400 FFFFBA  3 625229781         move    #-70,n7
P:0A9B 57F400 000069  3 625529784         move    #>105,b
P:0A9D 5EEF00         4 625929783         move    y:(r7+n7),a
P:0A9E 2A0000         2 626129785         move    #0,a2
P:0A9F 200005         2 626329786         cmp     b,a
P:0AA0 0AF0A2 rrrrrr  6 626929787         jne     L465
P:0AA2 77F400 FFFFBB  3 627229788         move    #-69,n7
P:0AA4 46F400 000063  3 627529791         move    #>99,y0
P:0AA6 5FEF00         4 627929790         move    y:(r7+n7),b
P:0AA7 2B0000         2 628129792         move    #0,b2
P:0AA8 20005D         2 628329793         cmp     y0,b
P:0AA9 0AF0A2 rrrrrr  6 628929794         jne     L465
P:0AAB 77F400 FFFFBC  3 629229795         move    #-68,n7
P:0AAD 46F400 000073  3 629529798         move    #>115,y0
P:0AAF 5FEF00         4 629929797         move    y:(r7+n7),b
P:0AB0 2B0000         2 630129799         move    #0,b2
P:0AB1 20005D         2 630329800         cmp     y0,b
P:0AB2 0AF0A2 rrrrrr  6 630929801         jne     L465
P:0AB4 77F400 FFFFBD  3 631229802         move    #-67,n7
P:0AB6 47F400 00005F  3 631529805         move    #>95,y1
P:0AB8 5EEF00         4 631929804         move    y:(r7+n7),a
P:0AB9 2A0000         2 632129806         move    #0,a2
P:0ABA 200075         2 632329807         cmp     y1,a
P:0ABB 0AF0A2 rrrrrr  6 632929808         jne     L465
P:0ABD 77F400 FFFFBE  3 633229809         move    #-66,n7
P:0ABF 56F400 000053  3 633529812         move    #>83,a
P:0AC1 5FEF00         4 633929811         move    y:(r7+n7),b
P:0AC2 2B0000         2 634129813         move    #0,b2
P:0AC3 20000D         2 634329814         cmp     a,b
P:0AC4 0AF0A2 rrrrrr  6 634929815         jne     L465
P:0AC6 77F400 FFFFBF  3 635229816         move    #-65,n7
P:0AC8 47F400 000079  3 635529819         move    #>$79,y1
P:0ACA 5FEF00         4 635929818         move    y:(r7+n7),b
P:0ACB 2B0000         2 636129820         move    #0,b2
P:0ACC 20007D         2 636329821         cmp     y1,b
P:0ACD 0AF0A2 rrrrrr  6 636929822         jne     L465
P:0ACF 77F400 FFFFC0  3 637229823         move    #-64,n7
P:0AD1 45F400 00006E  3 637529826         move    #>110,x1
P:0AD3 5EEF00         4 637929825         move    y:(r7+n7),a
P:0AD4 2A0000         2 638129827         move    #0,a2
P:0AD5 200065         2 638329828         cmp     x1,a
P:0AD6 0AF0A2 rrrrrr  6 638929829         jne     L465
P:0AD8 77F400 FFFFC1  3 639229830         move    #-63,n7
P:0ADA 56F400 000063  3 639529833         move    #>99,a
P:0ADC 5FEF00         4 639929832         move    y:(r7+n7),b
P:0ADD 2B0000         2 640129834         move    #0,b2
P:0ADE 20000D         2 640329835         cmp     a,b
P:0ADF 0AF0A2 rrrrrr  6 640929836         jne     L465
P:0AE1 77F400 FFFFC2  3 641229837         move    #-62,n7
P:0AE3 46F400 000068  3 641529840         move    #>104,y0
P:0AE5 5FEF00         4 641929839         move    y:(r7+n7),b
P:0AE6 2B0000         2 642129841         move    #0,b2
P:0AE7 20005D         2 642329842         cmp     y0,b
P:0AE8 0AF0A2 rrrrrr  6 642929843         jne     L465
P:0AEA 77F400 FFFFC3  3 643229844         move    #-61,n7
P:0AEC 46F400 000072  3 643529847         move    #>114,y0
P:0AEE 5EEF00         4 643929846         move    y:(r7+n7),a
P:0AEF 2A0000         2 644129848         move    #0,a2
P:0AF0 200055         2 644329849         cmp     y0,a
P:0AF1 0AF0A2 rrrrrr  6 644929850         jne     L465
P:0AF3 77F400 FFFFC4  3 645229851         move    #-60,n7
P:0AF5 45F400 00006F  3 645529854         move    #>111,x1
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 477

M:ADDR CODE           CYCLES LINE SOURCELINE
P:0AF7 5FEF00         4 645929853         move    y:(r7+n7),b
P:0AF8 2B0000         2 646129855         move    #0,b2
P:0AF9 20006D         2 646329856         cmp     x1,b
P:0AFA 0AF0A2 rrrrrr  6 646929857         jne     L465
P:0AFC 77F400 FFFFC5  3 647229858         move    #-59,n7
P:0AFE 46F400 00006E  3 647529861         move    #>110,y0
P:0B00 5FEF00         4 647929860         move    y:(r7+n7),b
P:0B01 2B0000         2 648129862         move    #0,b2
P:0B02 20005D         2 648329863         cmp     y0,b
P:0B03 0AF0A2 rrrrrr  6 648929864         jne     L465
P:0B05 77F400 FFFFC6  3 649229865         move    #-58,n7
P:0B07 47F400 000069  3 649529868         move    #>105,y1
P:0B09 5EEF00         4 649929867         move    y:(r7+n7),a
P:0B0A 2A0000         2 650129869         move    #0,a2
P:0B0B 200075         2 650329870         cmp     y1,a
P:0B0C 0AF0A2 rrrrrr  6 650929871         jne     L465
P:0B0E 77F400 FFFFC7  3 651229872         move    #-57,n7
P:0B10 45F400 000073  3 651529875         move    #>115,x1
P:0B12 5FEF00         4 651929874         move    y:(r7+n7),b
P:0B13 2B0000         2 652129876         move    #0,b2
P:0B14 20006D         2 652329877         cmp     x1,b
P:0B15 0AF0A2 rrrrrr  6 652929878         jne     L465
P:0B17 77F400 FFFFC8  3 653229879         move    #-56,n7
P:0B19 46F400 000065  3 653529882         move    #>101,y0
P:0B1B 5FEF00         4 653929881         move    y:(r7+n7),b
P:0B1C 2B0000         2 654129883         move    #0,b2
P:0B1D 20005D         2 654329884         cmp     y0,b
P:0B1E 0AF0A2 rrrrrr  6 654929885         jne     L465
P:0B20 77F400 FFFFC9  3 655229886         move    #-55,n7
P:0B22 46F400 000064  3 655529889         move    #>100,y0
P:0B24 5EEF00         4 655929888         move    y:(r7+n7),a
P:0B25 2A0000         2 656129890         move    #0,a2
P:0B26 200055         2 656329891         cmp     y0,a
P:0B27 0AF0A2 rrrrrr  6 656929892         jne     L465
                            29893 
                            29894 ; 915  |                                                                        // Extract WMA Lyr
                                  ics
                            29895 ; 916  |                                                                        SysCallFunction(RS
                                  RC_WMA_LYRICS_CODEBANK, WMALyricsReadFrame, iHandle, iDataLength, NULL);
                            29896 
P:0B29 340000         2 657129898         move    #0,r4
P:0B2A 77F400 FFFFF4  3 657429899         move    #-12,n7
P:0B2C 60F400 rrrrrr  3 657729905         move    #FWMALyricsReadFrame,r0
P:0B2E 56F400 0001F2  3 658029904         move    #498,a
P:0B30 5FEF00         4 658429901         move    y:(r7+n7),b
P:0B31 0BF080 rrrrrr  6 659029906         jsr     SysCallFunction
                            29910 
                            29911 ; 917  |                                        break;
                            29912 
P:0B33 0AF080 rrrrrr  6 659629914         jmp     L472
                            29915 
                            29916 ; 918  |                                    }
                            29917 ; 919  |#endif
                            29918 ; 920  |                                    else {
                            29919 ; 921  |                                        fseek(iHandle, iDataLength, SEEK_CUR);  // seek pa
                                  st the actual metadata
                            29920 
                            29922 L465:
P:0B35 77F441 FFFFF4  3 659929922         tfr     x0,a	                #-12,n7
P:0B37 240000         2 660129930         move    #0,x0
P:0B38 5FEF00         4 660529927         move    y:(r7+n7),b
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 478

M:ADDR CODE           CYCLES LINE SOURCELINE
P:0B39 218800         2 660729923         move    a1,a0
P:0B3A 214C00         2 660929924         move    a2,a1
P:0B3B 0BF080 rrrrrr  6 661529931         jsr     Ffseek
P:0B3D 77F400 FFFFF7  3 661829935         move    #-9,n7
P:0B3F 46F400 000001  3 662129938         move    #>1,y0
P:0B41 5FEF00         4 662529937         move    y:(r7+n7),b
P:0B42 200058         2 662729939         add     y0,b
P:0B43 77F400 FFFFF6  3 663029942 L466:   move    #-10,n7
P:0B45 000000         2 663229942         nop             ; (inserted)
P:0B46 4CEF00         4 663629944         move    y:(r7+n7),x0
P:0B47 20004D         2 663829945         cmp     x0,b
P:0B48 0AF0A9 rrrrrr  6 664429946         jlt     L443
                            29951 
                            29952 ; 922  |                                    }   // end of if (sDescriptorName)
                            29953 ; 923  |                                }       // end of for(i)
                            29954 ; 924  |                                }       // end of if (GetWmaMetaData_FindNextObjectByEndPo
                                  s())
                            29955 ; 925  |                                        }       // end of if (GetWmaMetaData_ReadWORD())
                            29956 ; 926  |                }       // end of if (GetWmaMetaData_CompareGUID())
                            29957 ; 927  |            }   // end of if (GetWmaMetaData_FindFirstObject())
                            29958 ; 928  |#endif  // (defined JPEG_ALBUM_ART) || (defined SYNC_LYRICS)
                            29959 ; 929  |        }
                            29960 ; 930  |        if(iHandle != -1)
                            29961 
                            29963 L472:
P:0B4A 77F400 FFFFF4  3 664729963         move    #-12,n7
P:0B4C 46F400 FFFFFF  3 665029966         move    #>-1,y0
P:0B4E 5EEF00         4 665429965         move    y:(r7+n7),a
P:0B4F 200055         2 665629967         cmp     y0,a
P:0B50 0AF0AA rrrrrr  6 666229970         jeq     L477
                            29971 
                            29972 ; 931  |        {
                            29973 ; 932  |#ifdef USE_PLAYLIST3
                            29974 ; 933  |          if (g_Rebuild == TRUE)
                            29975 
P:0B52 5FF000 rrrrrr  3 666529977         move    y:Fg_Rebuild,b
P:0B54 46F400 000001  3 666829978         move    #>1,y0
P:0B56 2B0000         2 667029979         move    #0,b2
P:0B57 20005D         2 667229980         cmp     y0,b
P:0B58 0AF0A2 rrrrrr  6 667829981         jne     L473
                            29982 
                            29983 ; 934  |            Fclose(iHandle);
                            29984 
P:0B5A 0BF080 rrrrrr  6 668429986         jsr     FFclose
P:0B5C 0AF080 rrrrrr  6 669029988         jmp     L477
                            29989 
                            29990 ; 935  |          else
                            29991 ; 936  |#endif
                            29992 ; 937  |            FSFileClose(iHandle);
                            29993 
                            29995 L473:
P:0B5E 0BF080 rrrrrr  6 669629997         jsr     FFSFileClose
                            29999 
                            30000 ; 938  |        }
                            30001 ; 939  |
                            30002 ; 940  |    }
                            30003 
P:0B60 0AF080 rrrrrr  6 670230005         jmp     L477
                            30006 
                            30007 ; 941  |    else
                            30008 ; 942  |      rtn = META_DATA_FILEOPEN_ERROR;
                            30009 
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 479

M:ADDR CODE           CYCLES LINE SOURCELINE
                            30011 L474:
                            30019 
                            30020 ; 943  |    return rtn;
                            30021 
P:0B62 77F400 FFFFF2  3 670530014         move    #-14,n7
P:0B64 46F400 000200  3 670830011         move    #$200,y0
P:0B66 4E6F00         4 671230016         move    y0,y:(r7+n7)
                            30023 L477:
                            30028 
                            30029 ; 944  |}
                            30030 
P:0B67 77F400 FFFFF2  3 671530023         move    #-14,n7
P:0B69 000000         2 671730023         nop             ; (inserted)
P:0B6A 5EEF00         4 672130025         move    y:(r7+n7),a
P:0B6B 77F400 FFFFB3  3 672430032         move    #-77,n7
P:0B6D 000000         2 672630032         nop             ; (inserted)
P:0B6E 05EF7C         4 673030034         movec   y:(r7+n7),ssh
P:0B6F 204F00         2 673230036         move    (r7)+n7
P:0B70 00000C         4 673630038         rts
                            30075 
                            30076         extern  Rdiv_lll, Rdiv_ululul, SysCallFunction, FFSFastOpen
                            30077         extern  FFSFileClose, FFSFileRead, FFSFileSize, FFclose
                            30078         extern  y:FMp3DecoderStartFrameFilePosition, FMp3MetaDataReadLRC
                            30079         extern  FWMALyricsReadFrame, Ffilegetdate, Ffseek
                            30080         extern  y:Fg_CurrentSongFastkey, y:Fg_FileKey, y:Fg_Rebuild
                            30081         extern  y:Fg_dirdate, y:Fg_dirtime
                            30082 
                            30083         global  FGetWmaMetaData, FGetWmaMetaData_CompareGUID
                            30084         global  FGetWmaMetaData_FindFirstObject
                            30085         global  FGetWmaMetaData_FindNextObject
                            30086         global  FGetWmaMetaData_FindNextObjectBySize
                            30087         global  FGetWmaMetaData_ReadBYTE, FGetWmaMetaData_ReadDWORD
                            30088         global  FGetWmaMetaData_ReadObjectHeaderPrologue
                            30089         global  FGetWmaMetaData_ReadQWORD, FGetWmaMetaData_ReadString
                            30090         global  FGetWmaMetaData_ReadWORD
                            30091 
                            30092         local   L7, L9, L10, L11, L12, L13, L14, L15, L16, L17, L18, L19
                            30093         local   L20, L21, L22, L23, L330, L331, L332, L333, L334, L335
                            30094         local   L336, L337, L339, L340, L343, L344, L346, L347, L348, L349
                            30095         local   L350, L352, L353, L354, L355, L356, L357, L367, L373, L377
                            30096         local   L378, L379, L380, L381, L382, L383, L384, L385, L386, L398
                            30097         local   L422, L431, L432, L433, L436, L437, L438, L442, L443, L465
                            30098         local   L466, L472, L473, L474, L477, L478, L479
                            30099 
                            30100         calls   "GetWmaMetaData", "FSFastOpen", "FSFileClose", "FSFileRead"
                            30101         calls   "GetWmaMetaData", "FSFileSize", "Fclose"
                            30102         calls   "GetWmaMetaData", "GetWmaMetaData_CompareGUID"
                            30103         calls   "GetWmaMetaData", "GetWmaMetaData_FindFirstObject"
                            30104         calls   "GetWmaMetaData", "GetWmaMetaData_FindNextObject"
                            30105         calls   "GetWmaMetaData", "GetWmaMetaData_FindNextObjectBySize"
                            30106         calls   "GetWmaMetaData", "GetWmaMetaData_ReadBYTE"
                            30107         calls   "GetWmaMetaData", "GetWmaMetaData_ReadDWORD"
                            30108         calls   "GetWmaMetaData", "GetWmaMetaData_ReadObjectHeaderPrologue"
                            30109         calls   "GetWmaMetaData", "GetWmaMetaData_ReadQWORD"
                            30110         calls   "GetWmaMetaData", "GetWmaMetaData_ReadString"
                            30111         calls   "GetWmaMetaData", "GetWmaMetaData_ReadWORD", "Rdiv_lll"
                            30112         calls   "GetWmaMetaData", "Rdiv_ululul", "SysCallFunction"
                            30113         calls   "GetWmaMetaData", "filegetdate", "fseek"
                            30114         calls   "GetWmaMetaData_FindFirstObject", "GetWmaMetaData_FindNextObject"
                            30115         calls   "GetWmaMetaData_FindFirstObject", "fseek"
                            30116         calls   "GetWmaMetaData_FindNextObject", "GetWmaMetaData_CompareGUID"
                            30117         calls   "GetWmaMetaData_FindNextObject", "GetWmaMetaData_ReadObjectHeaderPrologue"
TASKING DSP2410 assembler v1.5r1 Build 138 SN 00100122
                                                                                                                            Page 480

M:ADDR CODE           CYCLES LINE SOURCELINE
                            30118         calls   "GetWmaMetaData_FindNextObject", "fseek"
                            30119         calls   "GetWmaMetaData_FindNextObjectBySize", "GetWmaMetaData_CompareGUID"
                            30120         calls   "GetWmaMetaData_FindNextObjectBySize", "GetWmaMetaData_ReadObjectHeaderPrologue"
                            30121         calls   "GetWmaMetaData_FindNextObjectBySize", "fseek"
                            30122         calls   "GetWmaMetaData_ReadBYTE", "FSFileRead"
                            30123         calls   "GetWmaMetaData_ReadDWORD", "FSFileRead"
                            30124         calls   "GetWmaMetaData_ReadObjectHeaderPrologue", "FSFileRead"
                            30125         calls   "GetWmaMetaData_ReadObjectHeaderPrologue", "GetWmaMetaData_ReadQWORD"
                            30126         calls   "GetWmaMetaData_ReadQWORD", "FSFileRead"
                            30127         calls   "GetWmaMetaData_ReadString", "GetWmaMetaData_ReadWORD"
                            30128         calls   "GetWmaMetaData_ReadWORD", "FSFileRead"
                            30129 
